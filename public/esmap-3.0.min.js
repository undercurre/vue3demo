/*esmap-3.0.min.js 1/10/2024, 11:11:47 AM*/
/*esmapcore 3.0 2023-12-22 10:30:32*/
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[1],[function(t,n,r){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(122),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,i.default)(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}()},function(t,n,r){t.exports={default:r(181),__esModule:!0}},function(t,n){var r=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},,,,function(t,n,r){t.exports=r(224)},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(13),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){return function(){var n=t.apply(this,arguments);return new i.default((function(t,r){return function e(o,u){try{var s=n[o](u),f=s.value}catch(t){return void r(t)}if(!s.done)return i.default.resolve(f).then((function(t){e("next",t)}),(function(t){e("throw",t)}));t(f)}("next")}))}}},function(t,n,r){var e=r(14),o=r(3),i=r(27),u=r(29),s=r(28),f="prototype",c=function(t,n,r){var a,l,h,p=t&c.F,v=t&c.G,d=t&c.S,y=t&c.P,g=t&c.B,m=t&c.W,b=v?o:o[n]||(o[n]={}),_=b[f],w=v?e:d?e[n]:(e[n]||{})[f];for(a in v&&(r=n),r)(l=!p&&w&&void 0!==w[a])&&s(b,a)||(h=l?w[a]:r[a],b[a]=v&&"function"!=typeof w[a]?r[a]:g&&l?i(h,e):m&&w[a]==h?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[f]=t[f],n}(h):y&&"function"==typeof h?i(Function.call,h):h,y&&((b.virtual||(b.virtual={}))[a]=h,t&c.R&&_&&!_[a]&&u(_,a,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},,,function(t,n,r){"use strict";n.__esModule=!0;var e=u(r(211)),o=u(r(113)),i="function"==typeof o.default&&"symbol"==typeof e.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof o.default&&"symbol"===i(e.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,n,r){t.exports={default:r(226),__esModule:!0}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n,r){t.exports={default:r(183),__esModule:!0}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(86)("wks"),o=r(64),i=r(14).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},,function(t,n,r){t.exports=!r(34)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,r){t.exports={default:r(198),__esModule:!0}},function(t,n,r){var e=r(22),o=r(114),i=r(84),u=Object.defineProperty;n.f=r(19)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(16);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},,,function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(36),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return(0,i.default)(t)}},,function(t,n,r){var e=r(52);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(21),o=r(53);t.exports=r(19)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(89),o=r(90);t.exports=function(t){return e(o(t))}},,function(t,n,r){t.exports={default:r(216),__esModule:!0}},,function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(90);t.exports=function(t){return Object(e(t))}},function(t,n,r){t.exports={default:r(173),__esModule:!0}},function(t,n,r){"use strict";var e=r(174)(!0);r(96)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})}))},function(t,n,r){r(190);for(var e=r(14),o=r(29),i=r(44),u=r(17)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<s.length;f++){var c=s[f],a=e[c],l=a&&a.prototype;l&&!l[u]&&o(l,u,c),i[c]=i.Array}},function(t,n,r){"use strict";(function(t){var e=n;function o(t,n,r){for(var e=Object.keys(n),o=0;o<e.length;++o)void 0!==t[e[o]]&&r||(t[e[o]]=n[e[o]]);return t}function i(t){function n(t,r){if(!(this instanceof n))return new n(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}e.asPromise=r(236),e.base64=r(237),e.EventEmitter=r(238),e.float=r(239),e.inquire=r(240),e.utf8=r(241),e.pool=r(242),e.LongBits=r(243),e.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isNode=Boolean(e.global.process&&e.global.process.versions&&e.global.process.versions.node),e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isObject=function(t){return t&&"object"==typeof t},e.isset=e.isSet=function(t,n){var r=t[n];return!(null==r||!t.hasOwnProperty(n))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},e.Buffer=function(){try{var t=e.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(t){return"number"==typeof t?e.Buffer?e._Buffer_allocUnsafe(t):new e.Array(t):e.Buffer?e._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(t){return t?e.LongBits.from(t).toHash():e.LongBits.zeroHash},e.longFromHash=function(t,n){var r=e.LongBits.fromHash(t);return e.Long?e.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},e.merge=o,e.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(t){for(var n={},r=0;r<t.length;++r)n[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(1===n[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},e.oneOfSetter=function(t){return function(n){for(var r=0;r<t.length;++r)t[r]!==n&&delete this[t[r]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var t=e.Buffer;t?(e._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},e._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}).call(this,r(106))},,,function(t,n,r){var e=r(64)("meta"),o=r(16),i=r(28),u=r(21).f,s=0,f=Object.isExtensible||function(){return!0},c=!r(34)((function(){return f(Object.preventExtensions({}))})),a=function(t){u(t,e,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!f(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!i(t,e)){if(!f(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return c&&l.NEED&&f(t)&&!i(t,e)&&a(t),t}}},function(t,n,r){var e=r(115),o=r(93);t.exports=Object.keys||function(t){return e(t,o)}},function(t,n){t.exports={}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(122),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t,n,r){return n in t?(0,i.default)(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}},,function(t,n,r){var e=r(27),o=r(124),i=r(125),u=r(22),s=r(65),f=r(97),c={},a={};(n=t.exports=function(t,n,r,l,h){var p,v,d,y,g=h?function(){return t}:f(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(p=s(t.length);p>b;b++)if((y=n?m(u(v=t[b])[0],v[1]):m(t[b]))===c||y===a)return y}else for(d=g.call(t);!(v=d.next()).done;)if((y=o(d,m,v.value,n))===c||y===a)return y}).BREAK=c,n.RETURN=a},function(t,n,r){var e=r(16);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},,,,function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!0},function(t,n,r){var e=r(21).f,o=r(28),i=r(17)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n){},function(t,n,r){var e=r(9),o=r(3),i=r(34);t.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*i((function(){r(1)})),"Object",u)}},function(t,n,r){t.exports={default:r(202),__esModule:!0}},,,,function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(91),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){var e=r(22),o=r(118),i=r(93),u=r(92)("IE_PROTO"),s=function(){},f="prototype",c=function(){var t,n=r(83)("iframe"),e=i.length;for(n.style.display="none",r(119).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;e--;)delete c[f][i[e]];return c()};t.exports=Object.create||function(t,n){var r;return null!==t?(s[f]=e(t),r=new s,s[f]=null,r[u]=t):r=c(),void 0===n?r:o(r,n)}},function(t,n,r){var e=r(56),o=r(17)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){t.exports={default:r(189),__esModule:!0}},function(t,n,r){var e=r(29);t.exports=function(t,n,r){for(var o in n)r&&t[o]?t[o]=n[o]:e(t,o,n[o]);return t}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){t.exports={default:r(200),__esModule:!0}},function(t,n,r){"use strict";t.exports=r(235)},,,,,,,,,,,function(t,n,r){var e=r(16),o=r(14).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){var e=r(16);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){t.exports=r(29)},function(t,n,r){var e=r(3),o=r(14),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(54)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){n.f=r(17)},function(t,n,r){var e=r(14),o=r(3),i=r(54),u=r(87),s=r(21).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||s(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(86)("keys"),o=r(64);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(57),o=r(53),i=r(30),u=r(84),s=r(28),f=r(114),c=Object.getOwnPropertyDescriptor;n.f=r(19)?c:function(t,n){if(t=i(t),n=u(n,!0),f)try{return c(t,n)}catch(t){}if(s(t,n))return o(!e.f.call(t,n),t[n])}},function(t,n,r){"use strict";var e=r(54),o=r(9),i=r(85),u=r(29),s=r(44),f=r(175),c=r(55),a=r(123),l=r(17)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",v="values",d=function(){return this};t.exports=function(t,n,r,y,g,m,b){f(r,n,y);var _,w,x,S=function(t){if(!h&&t in j)return j[t];switch(t){case p:case v:return function(){return new r(this,t)}}return function(){return new r(this,t)}},O=n+" Iterator",E=g==v,M=!1,j=t.prototype,L=j[l]||j["@@iterator"]||g&&j[g],P=L||S(g),k=g?E?S("entries"):P:void 0,A="Array"==n&&j.entries||L;if(A&&(x=a(A.call(new t)))!==Object.prototype&&x.next&&(c(x,O,!0),e||"function"==typeof x[l]||u(x,l,d)),E&&L&&L.name!==v&&(M=!0,P=function(){return L.call(this)}),e&&!b||!h&&!M&&j[l]||u(j,l,P),s[n]=P,s[O]=d,g)if(_={values:E?P:S(v),keys:m?P:S(p),entries:k},b)for(w in _)w in j||i(j,w,_[w]);else o(o.P+o.F*(h||M),n,_);return _}},function(t,n,r){var e=r(67),o=r(17)("iterator"),i=r(44);t.exports=r(3).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[e(t)]}},function(t,n,r){t.exports={default:r(188),__esModule:!0}},function(t,n,r){var e=r(27),o=r(89),i=r(35),u=r(65),s=r(193);t.exports=function(t,n){var r=1==t,f=2==t,c=3==t,a=4==t,l=6==t,h=5==t||l,p=n||s;return function(n,s,v){for(var d,y,g=i(n),m=o(g),b=e(s,v,3),_=u(m.length),w=0,x=r?p(n,_):f?p(n,0):void 0;_>w;w++)if((h||w in m)&&(y=b(d=m[w],w,g),t))if(r)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:x.push(d)}else if(a)return!1;return l?-1:c||a?a:x}}},function(t,n,r){"use strict";var e=r(14),o=r(9),i=r(42),u=r(34),s=r(29),f=r(69),c=r(47),a=r(70),l=r(16),h=r(55),p=r(21).f,v=r(99)(0),d=r(19);t.exports=function(t,n,r,y,g,m){var b=e[t],_=b,w=g?"set":"add",x=_&&_.prototype,S={};return d&&"function"==typeof _&&(m||x.forEach&&!u((function(){(new _).entries().next()})))?(_=n((function(n,r){a(n,_,t,"_c"),n._c=new b,null!=r&&c(r,g,n[w],n)})),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var n="add"==t||"set"==t;!(t in x)||m&&"clear"==t||s(_.prototype,t,(function(r,e){if(a(this,_,t),!n&&m&&!l(r))return"get"==t&&void 0;var o=this._c[t](0===r?0:r,e);return n?this:o}))})),m||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(n,t,g,w),f(_.prototype,r),i.NEED=!0),h(_,t),S[t]=_,o(o.G+o.W+o.F,S),m||y.setStrong(_,t,g),_}},function(t,n,r){"use strict";var e=r(9);t.exports=function(t){e(e.S,t,{of:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},function(t,n,r){"use strict";var e=r(9),o=r(52),i=r(27),u=r(47);t.exports=function(t){e(e.S,t,{from:function(t){var n,r,e,s,f=arguments[1];return o(this),(n=void 0!==f)&&o(f),null==t?new this:(r=[],n?(e=0,s=i(f,arguments[2],2),u(t,!1,(function(t){r.push(s(t,e++))}))):u(t,!1,r.push,r),new this(r))}})}},function(t,n,r){t.exports={default:r(209),__esModule:!0}},function(t,n,r){"use strict";var e=r(52);function o(t){var n,r;this.promise=new t((function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e})),this.resolve=e(n),this.reject=e(r)}t.exports.f=function(t){return new o(t)}},function(t,n,r){"use strict";r.r(n),r.d(n,"WGS84",(function(){return e})),r.d(n,"WGS1984",(function(){return o})),r.d(n,"EPSG4326",(function(){return i})),r.d(n,"GCJ02",(function(){return u})),r.d(n,"AMap",(function(){return s})),r.d(n,"BD09",(function(){return f})),r.d(n,"BD09LL",(function(){return c})),r.d(n,"Baidu",(function(){return a})),r.d(n,"BMap",(function(){return l})),r.d(n,"BD09MC",(function(){return h})),r.d(n,"BD09Meter",(function(){return p})),r.d(n,"EPSG3857",(function(){return v})),r.d(n,"EPSG900913",(function(){return d})),r.d(n,"EPSG102100",(function(){return y})),r.d(n,"WebMercator",(function(){return g})),r.d(n,"WM",(function(){return m})),r.d(n,"transform",(function(){return ft}));var e="WGS84",o=e,i=e,u="GCJ02",s=u,f="BD09",c=f,a=f,l=f,h="BD09MC",p=h,v="EPSG3857",d=v,y=v,g=v,m=v;function b(t){throw new Error(t)}function _(t){return!isNaN(t)&&null!==t&&!w(t)}function w(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)}function x(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length-1;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var o=r,i=t[r].apply(null,n);o--;)i=t[o].call(null,i);return i}}function S(t,n,r){if(void 0===r&&(r=!1),null!==t)for(var e,o,i,u,s,f,c,a,l=0,h=0,p=t.type,v="FeatureCollection"===p,d="Feature"===p,y=v?t.features.length:1,g=0;g<y;g++){s=(a=!!(c=v?t.features[g].geometry:d?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<s;m++){var _=0,w=0;if(null!==(u=a?c.geometries[m]:c)){var x=u.type;switch(l=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===n(f=u.coordinates,h,g,_,w))return!1;h++,_++;break;case"LineString":case"MultiPoint":for(f=u.coordinates,e=0;e<f.length;e++){if(!1===n(f[e],h,g,_,w))return!1;h++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(f=u.coordinates,e=0;e<f.length;e++){for(o=0;o<f[e].length-l;o++){if(!1===n(f[e][o],h,g,_,w))return!1;h++}"MultiLineString"===x&&_++,"Polygon"===x&&w++}"Polygon"===x&&_++;break;case"MultiPolygon":for(f=u.coordinates,e=0;e<f.length;e++){for(w=0,o=0;o<f[e].length;o++){for(i=0;i<f[e][o].length-l;i++){if(!1===n(f[e][o][i],h,g,_,w))return!1;h++}w++}_++}break;case"GeometryCollection":for(e=0;e<u.geometries.length;e++)if(!1===S(u.geometries[e],n,r))return!1;break;default:b("Unknown Geometry Type")}}}}}var O=Math.sin,E=Math.cos,M=Math.sqrt,j=Math.abs,L=Math.PI,P=6378245,k=.006693421622965823;function A(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];for(var e=[n,r],o=e[0],i=e[1],u=N([o,i]),s=u[0]-n,f=u[1]-r;j(s)>1e-6||j(f)>1e-6;)s=(u=N([o-=s,i-=f]))[0]-n,f=u[1]-r;return[o,i]}function N(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];var e=function(t,n){var r=(s=t-105,f=n-35,c=300+s+2*f+.1*s*s+.1*s*f+.1*M(j(s)),c+=2*(20*O(6*s*L)+20*O(2*s*L))/3,c+=2*(20*O(s*L)+40*O(s/3*L))/3,c+=2*(150*O(s/12*L)+300*O(s/30*L))/3),e=function(t,n){var r=2*t-100+3*n+.2*n*n+.1*t*n+.2*M(j(t));return r+=2*(20*O(6*t*L)+20*O(2*t*L))/3,r+=2*(20*O(n*L)+40*O(n/3*L))/3,r+=2*(160*O(n/12*L)+320*O(n*L/30))/3,r}(t-105,n-35),o=n/180*L,i=O(o),u=M(i=1-k*i*i);var s,f,c;return[r=180*r/(P/u*E(o)*L),e=180*e/(P*(1-k)/(i*u)*L)]}(n,r);return[n+e[0],r+e[1]]}function B(t,n){return t>=72.004&&t<=137.8347&&n>=.8293&&n<=55.8271}var C=Math.sin,F=Math.cos,T=Math.atan2,D=Math.sqrt,G=3e3*Math.PI/180;function R(t){var n=t[0]-.0065,r=t[1]-.006,e=D(n*n+r*r)-2e-5*C(r*G),o=T(r,n)-3e-6*F(n*G);return[e*F(o),e*C(o)]}function I(t){var n=t[0],r=t[1],e=D(n*n+r*r)+2e-5*C(r*G),o=T(r,n)+3e-6*F(n*G);return[e*F(o)+.0065,e*C(o)+.006]}var W=180/Math.PI,z=Math.PI/180,U=6378137,J=20037508.342789244;function q(t){return[t[0]*W/U,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/U)))*W]}function H(t){var n=Math.abs(t[0])<=180?t[0]:t[0]-360*(t[0]<0?-1:1),r=[U*n*z,U*Math.log(Math.tan(.25*Math.PI+.5*t[1]*z))];return r[0]>J&&(r[0]=J),r[0]<-J&&(r[0]=-J),r[1]>J&&(r[1]=J),r[1]<-J&&(r[1]=-J),r}var V=Math.abs,Y=Math.pow,K=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],$=[75,60,45,30,15,0],Z=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],X=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function Q(t,n,r){var e=V(n)/r[9],o=r[0]+r[1]*V(t),i=r[2]+r[3]*e+r[4]*Y(e,2)+r[5]*Y(e,3)+r[6]*Y(e,4)+r[7]*Y(e,5)+r[8]*Y(e,6);return[o*=t<0?-1:1,i*=n<0?-1:1]}function tt(t){for(var n=t[0],r=t[1],e=[],o=0;o<$.length;o++)if(V(r)>$[o]){e=X[o];break}return Q(n,r,e)}function nt(t){for(var n=t[0],r=t[1],e=[],o=0;o<K.length;o++)if(r>=K[o]){e=Z[o];break}return Q(n,r,e)}var rt={to:{GCJ02:N,BD09:x(I,N),BD09MC:x(tt,I,N),EPSG3857:H}},et={to:{WGS84:A,BD09:I,BD09MC:x(tt,I),EPSG3857:x(H,A)}},ot={to:{WGS84:x(A,R),GCJ02:R,EPSG3857:x(H,A,R),BD09MC:tt}},it={to:{WGS84:q,GCJ02:x(N,q),BD09:x(I,N,q),BD09MC:x(tt,I,N,q)}},ut={to:{WGS84:x(A,R,nt),GCJ02:x(R,nt),EPSG3857:x(H,A,R,nt),BD09:nt}},st=Object.freeze({WGS84:rt,GCJ02:et,BD09:ot,EPSG3857:it,BD09MC:ut});function ft(t,n,r){t||b("coordinate is required"),n||b("original coordinate system is required"),r||b("target coordinate system is required");var e=st[n];if(e||b("original coordinate system is invalid"),n===r)return t;var o=e.to[r];o||b("target coordinate system is invalid");var i=typeof t;if("string"!==i&&"object"!==i&&b("coordinate must be an geojson or an array of position"),"string"===i)try{t=JSON.parse(t)}catch(t){b("input is not a legal JSON string")}var u=!1;w(t)&&(t.length<2&&b("position must be at 2 numbers long"),_(t[0])&&_(t[1])||b("position must contain numbers"),t=t.map(Number),u=!0);var s=null,f=o;return u?s=f(t):(S(t,(function(t){var n;n=f(t),t[0]=n[0],t[1]=n[1]})),s=t),s}var ct={WGS84:e,WGS1984:o,EPSG4326:i,GCJ02:u,AMap:s,BD09:f,BD09LL:c,Baidu:a,BMap:l,BD09MC:h,BD09Meter:p,EPSG3857:v,EPSG900913:d,EPSG102100:y,WebMercator:g,WM:m,transform:ft};n.default=ct},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,function(t,n,r){t.exports={default:r(160),__esModule:!0}},function(t,n,r){t.exports=!r(19)&&!r(34)((function(){return 7!=Object.defineProperty(r(83)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(28),o=r(30),i=r(163)(!1),u=r(92)("IE_PROTO");t.exports=function(t,n){var r,s=o(t),f=0,c=[];for(r in s)r!=u&&e(s,r)&&c.push(r);for(;n.length>f;)e(s,r=n[f++])&&(~i(c,r)||c.push(r));return c}},function(t,n,r){var e=r(91),o=Math.max,i=Math.min;t.exports=function(t,n){return(t=e(t))<0?o(t+n,0):i(t,n)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(21),o=r(22),i=r(43);t.exports=r(19)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),s=u.length,f=0;s>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(14).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(30),o=r(121).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(e(t))}},function(t,n,r){var e=r(115),o=r(93).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){t.exports={default:r(168),__esModule:!0}},function(t,n,r){var e=r(28),o=r(35),i=r(92)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(22);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},function(t,n,r){var e=r(44),o=r(17)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,n,r){var e=r(17)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(19),o=r(43),i=r(94),u=r(57),s=r(35),f=r(89),c=Object.assign;t.exports=!c||r(34)((function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach((function(t){n[t]=t})),7!=c({},t)[r]||Object.keys(c({},n)).join("")!=e}))?function(t,n){for(var r=s(t),c=arguments.length,a=1,l=i.f,h=u.f;c>a;)for(var p,v=f(arguments[a++]),d=l?o(v).concat(l(v)):o(v),y=d.length,g=0;y>g;)p=d[g++],e&&!h.call(v,p)||(r[p]=v[p]);return r}:c},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){"use strict";var e=r(21).f,o=r(66),i=r(69),u=r(27),s=r(70),f=r(47),c=r(96),a=r(128),l=r(130),h=r(19),p=r(42).fastKey,v=r(48),d=h?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,c){var a=t((function(t,e){s(t,a,n,"_i"),t._t=n,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,null!=e&&f(e,r,t[c],t)}));return i(a.prototype,{clear:function(){for(var t=v(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var r=v(this,n),e=y(r,t);if(e){var o=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==e&&(r._f=o),r._l==e&&(r._l=i),r[d]--}return!!e},forEach:function(t){v(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(v(this,n),t)}}),h&&e(a.prototype,"size",{get:function(){return v(this,n)[d]}}),a},def:function(t,n,r){var e,o,i=y(t,n);return i?i.v=r:(t._l=i={i:o=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=i),e&&(e.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,r){c(t,n,(function(t,r){this._t=v(t,n),this._k=r,this._l=void 0}),(function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?a(0,"keys"==n?r.k:"values"==n?r.v:[r.k,r.v]):(t._t=void 0,a(1))}),r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(14),o=r(3),i=r(21),u=r(19),s=r(17)("species");t.exports=function(t){var n="function"==typeof o[t]?o[t]:e[t];u&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(67),o=r(219);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,n,r){var e=r(22),o=r(52),i=r(17)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[i])?n:o(r)}},function(t,n,r){var e,o,i,u=r(27),s=r(228),f=r(119),c=r(83),a=r(14),l=a.process,h=a.setImmediate,p=a.clearImmediate,v=a.MessageChannel,d=a.Dispatch,y=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},_=function(t){b.call(t.data)};h&&p||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),n)},e(y),y},p=function(t){delete g[t]},"process"==r(56)(l)?e=function(t){l.nextTick(u(b,t,1))}:d&&d.now?e=function(t){d.now(u(b,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=_,e=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(t){a.postMessage(t+"","*")},a.addEventListener("message",_,!1)):e=m in c("script")?function(t){f.appendChild(c("script"))[m]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:p}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){var e=r(22),o=r(16),i=r(104);t.exports=function(t,n){if(e(t),o(n)&&n.constructor===t)return n;var r=i.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";t.exports=l;var e,o=r(39),i=o.LongBits,u=o.base64,s=o.utf8;function f(t,n,r){this.fn=t,this.len=n,this.next=void 0,this.val=r}function c(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function l(){this.len=0,this.head=new f(c,0,0),this.tail=this.head,this.states=null}function h(t,n,r){n[r]=255&t}function p(t,n){this.len=t,this.next=void 0,this.val=n}function v(t,n,r){for(;t.hi;)n[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)n[r++]=127&t.lo|128,t.lo=t.lo>>>7;n[r++]=t.lo}function d(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}l.create=o.Buffer?function(){return(l.create=function(){return new e})()}:function(){return new l},l.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype._push=function(t,n,r){return this.tail=this.tail.next=new f(t,n,r),this.len+=n,this},p.prototype=Object.create(f.prototype),p.prototype.fn=function(t,n,r){for(;t>127;)n[r++]=127&t|128,t>>>=7;n[r]=t},l.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},l.prototype.int32=function(t){return t<0?this._push(v,10,i.fromNumber(t)):this.uint32(t)},l.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},l.prototype.uint64=function(t){var n=i.from(t);return this._push(v,n.length(),n)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(t){var n=i.from(t).zzEncode();return this._push(v,n.length(),n)},l.prototype.bool=function(t){return this._push(h,1,t?1:0)},l.prototype.fixed32=function(t){return this._push(d,4,t>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(t){var n=i.from(t);return this._push(d,4,n.lo)._push(d,4,n.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},l.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var y=o.Array.prototype.set?function(t,n,r){n.set(t,r)}:function(t,n,r){for(var e=0;e<t.length;++e)n[r+e]=t[e]};l.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(h,1,0);if(o.isString(t)){var r=l.alloc(n=u.length(t));u.decode(t,r,0),t=r}return this.uint32(n)._push(y,n,t)},l.prototype.string=function(t){var n=s.length(t);return n?this.uint32(n)._push(s.write,n,t):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new f(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var t=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=n,this.len+=r),this},l.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,n,r),r+=t.len,t=t.next;return n},l._configure=function(t){e=t}},function(t,n,r){"use strict";t.exports=f;var e,o=r(39),i=o.LongBits,u=o.utf8;function s(t,n){return RangeError("index out of range: "+t.pos+" + "+(n||1)+" > "+t.len)}function f(t){this.buf=t,this.pos=0,this.len=t.length}var c,a="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new f(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new f(t);throw Error("illegal buffer")};function l(){var t=new i(0,0),n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,n){return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}f.create=o.Buffer?function(t){return(f.create=function(t){return o.Buffer.isBuffer(t)?new e(t):a(t)})(t)}:a,f.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,f.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},f.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},f.prototype.bytes=function(){var t=this.uint32(),n=this.pos,r=this.pos+t;if(r>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,r):n===r?new this.buf.constructor(0):this._slice.call(this.buf,n,r)},f.prototype.string=function(){var t=this.bytes();return u.read(t,0,t.length)},f.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},f._configure=function(t){e=t;var n=o.Long?"toLong":"toNumber";o.merge(f.prototype,{int64:function(){return l.call(this)[n](!1)},uint64:function(){return l.call(this)[n](!0)},sint64:function(){return l.call(this).zzDecode()[n](!1)},fixed64:function(){return p.call(this)[n](!0)},sfixed64:function(){return p.call(this)[n](!1)}})}},,,,,,,,,,,,,,,,,,,,,,,function(t,n,r){r(161),r(58),r(164),r(165),t.exports=r(3).Symbol},function(t,n,r){"use strict";var e=r(14),o=r(28),i=r(19),u=r(9),s=r(85),f=r(42).KEY,c=r(34),a=r(86),l=r(55),h=r(64),p=r(17),v=r(87),d=r(88),y=r(162),g=r(117),m=r(22),b=r(16),_=r(35),w=r(30),x=r(84),S=r(53),O=r(66),E=r(120),M=r(95),j=r(94),L=r(21),P=r(43),k=M.f,A=L.f,N=E.f,B=e.Symbol,C=e.JSON,F=C&&C.stringify,T="prototype",D=p("_hidden"),G=p("toPrimitive"),R={}.propertyIsEnumerable,I=a("symbol-registry"),W=a("symbols"),z=a("op-symbols"),U=Object[T],J="function"==typeof B&&!!j.f,q=e.QObject,H=!q||!q[T]||!q[T].findChild,V=i&&c((function(){return 7!=O(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(t,n,r){var e=k(U,n);e&&delete U[n],A(t,n,r),e&&t!==U&&A(U,n,e)}:A,Y=function(t){var n=W[t]=O(B[T]);return n._k=t,n},K=J&&"symbol"==typeof B.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof B},$=function(t,n,r){return t===U&&$(z,n,r),m(t),n=x(n,!0),m(r),o(W,n)?(r.enumerable?(o(t,D)&&t[D][n]&&(t[D][n]=!1),r=O(r,{enumerable:S(0,!1)})):(o(t,D)||A(t,D,S(1,{})),t[D][n]=!0),V(t,n,r)):A(t,n,r)},Z=function(t,n){m(t);for(var r,e=y(n=w(n)),o=0,i=e.length;i>o;)$(t,r=e[o++],n[r]);return t},X=function(t){var n=R.call(this,t=x(t,!0));return!(this===U&&o(W,t)&&!o(z,t))&&(!(n||!o(this,t)||!o(W,t)||o(this,D)&&this[D][t])||n)},Q=function(t,n){if(t=w(t),n=x(n,!0),t!==U||!o(W,n)||o(z,n)){var r=k(t,n);return!r||!o(W,n)||o(t,D)&&t[D][n]||(r.enumerable=!0),r}},tt=function(t){for(var n,r=N(w(t)),e=[],i=0;r.length>i;)o(W,n=r[i++])||n==D||n==f||e.push(n);return e},nt=function(t){for(var n,r=t===U,e=N(r?z:w(t)),i=[],u=0;e.length>u;)!o(W,n=e[u++])||r&&!o(U,n)||i.push(W[n]);return i};J||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===U&&n.call(z,r),o(this,D)&&o(this[D],t)&&(this[D][t]=!1),V(this,t,S(1,r))};return i&&H&&V(U,t,{configurable:!0,set:n}),Y(t)},s(B[T],"toString",(function(){return this._k})),M.f=Q,L.f=$,r(121).f=E.f=tt,r(57).f=X,j.f=nt,i&&!r(54)&&s(U,"propertyIsEnumerable",X,!0),v.f=function(t){return Y(p(t))}),u(u.G+u.W+u.F*!J,{Symbol:B});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;rt.length>et;)p(rt[et++]);for(var ot=P(p.store),it=0;ot.length>it;)d(ot[it++]);u(u.S+u.F*!J,"Symbol",{for:function(t){return o(I,t+="")?I[t]:I[t]=B(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var n in I)if(I[n]===t)return n},useSetter:function(){H=!0},useSimple:function(){H=!1}}),u(u.S+u.F*!J,"Object",{create:function(t,n){return void 0===n?O(t):Z(O(t),n)},defineProperty:$,defineProperties:Z,getOwnPropertyDescriptor:Q,getOwnPropertyNames:tt,getOwnPropertySymbols:nt});var ut=c((function(){j.f(1)}));u(u.S+u.F*ut,"Object",{getOwnPropertySymbols:function(t){return j.f(_(t))}}),C&&u(u.S+u.F*(!J||c((function(){var t=B();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);if(r=n=e[1],(b(n)||void 0!==t)&&!K(t))return g(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!K(n))return n}),e[1]=n,F.apply(C,e)}}),B[T][G]||r(29)(B[T],G,B[T].valueOf),l(B,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(43),o=r(94),i=r(57);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,s=r(t),f=i.f,c=0;s.length>c;)f.call(t,u=s[c++])&&n.push(u);return n}},function(t,n,r){var e=r(30),o=r(65),i=r(116);t.exports=function(t){return function(n,r,u){var s,f=e(n),c=o(f.length),a=i(u,c);if(t&&r!=r){for(;c>a;)if((s=f[a++])!=s)return!0}else for(;c>a;a++)if((t||a in f)&&f[a]===r)return t||a||0;return!t&&-1}}},function(t,n,r){r(88)("asyncIterator")},function(t,n,r){r(88)("observable")},,,function(t,n,r){r(169);var e=r(3).Object;t.exports=function(t,n,r){return e.defineProperty(t,n,r)}},function(t,n,r){var e=r(9);e(e.S+e.F*!r(19),"Object",{defineProperty:r(21).f})},function(t,n,r){function e(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/",r.oe=function(t){throw t};var e=r(r.s=ENTRY_MODULE);return e.default||e}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+o+").*?\\)";function u(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,n,e){var s={};s[e]=[];var f=n.toString(),c=f.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var a,l=c[1],h=new RegExp("(\\\\n|\\W)"+u(l)+i,"g");a=h.exec(f);)"dll-reference"!==a[3]&&s[e].push(a[3]);for(h=new RegExp("\\("+u(l)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");a=h.exec(f);)t[a[2]]||(s[e].push(a[1]),t[a[2]]=r(a[1]).m),s[a[2]]=s[a[2]]||[],s[a[2]].push(a[4]);for(var p,v=Object.keys(s),d=0;d<v.length;d++)for(var y=0;y<s[v[d]].length;y++)p=s[v[d]][y],isNaN(1*p)||(s[v[d]][y]=1*s[v[d]][y]);return s}function f(t){return Object.keys(t).reduce((function(n,r){return n||t[r].length>0}),!1)}t.exports=function(t,n){n=n||{};var o={main:r.m},i=n.all?{main:Object.keys(o.main)}:function(t,n){for(var r={main:[n]},e={main:[]},o={main:{}};f(r);)for(var i=Object.keys(r),u=0;u<i.length;u++){var c=i[u],a=r[c].pop();if(o[c]=o[c]||{},!o[c][a]&&t[c][a]){o[c][a]=!0,e[c]=e[c]||[],e[c].push(a);for(var l=s(t,t[c][a],c),h=Object.keys(l),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(l[h[p]])}}return e}(o,t),u="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var n=0;i[t][n];)n++;i[t].push(n),o[t][n]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+e.toString().replace("ENTRY_MODULE",JSON.stringify(n))+")({"+i[t].map((function(n){return JSON.stringify(n)+": "+o[t][n].toString()})).join(",")+"});\n"})),u=u+"new (("+e.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([u],{type:"text/javascript"});if(n.bare)return c;var a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),l=new window.Worker(a);return l.objectURL=a,l}},,,function(t,n,r){r(37),r(176),t.exports=r(3).Array.from},function(t,n,r){var e=r(91),o=r(90);t.exports=function(t){return function(n,r){var i,u,s=String(o(n)),f=e(r),c=s.length;return f<0||f>=c?t?"":void 0:(i=s.charCodeAt(f))<55296||i>56319||f+1===c||(u=s.charCodeAt(f+1))<56320||u>57343?t?s.charAt(f):i:t?s.slice(f,f+2):u-56320+(i-55296<<10)+65536}}},function(t,n,r){"use strict";var e=r(66),o=r(53),i=r(55),u={};r(29)(u,r(17)("iterator"),(function(){return this})),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(27),o=r(9),i=r(35),u=r(124),s=r(125),f=r(65),c=r(177),a=r(97);o(o.S+o.F*!r(126)((function(t){Array.from(t)})),"Array",{from:function(t){var n,r,o,l,h=i(t),p="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,y=void 0!==d,g=0,m=a(h);if(y&&(d=e(d,v>2?arguments[2]:void 0,2)),null==m||p==Array&&s(m))for(r=new p(n=f(h.length));n>g;g++)c(r,g,y?d(h[g],g):h[g]);else for(l=m.call(h),r=new p;!(o=l.next()).done;g++)c(r,g,y?u(l,d,[o.value,g],!0):o.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(21),o=r(53);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},function(t,n,r){t.exports={default:r(179),__esModule:!0}},function(t,n,r){r(180);var e=r(3).Object;t.exports=function(t){return e.getOwnPropertyNames(t)}},function(t,n,r){r(59)("getOwnPropertyNames",(function(){return r(120).f}))},function(t,n,r){r(182),t.exports=r(3).Object.assign},function(t,n,r){var e=r(9);e(e.S+e.F,"Object",{assign:r(127)})},function(t,n,r){r(184),t.exports=r(3).Object.keys},function(t,n,r){var e=r(35),o=r(43);r(59)("keys",(function(){return function(t){return o(e(t))}}))},function(t,n,r){t.exports={default:r(186),__esModule:!0}},function(t,n,r){r(187),t.exports=r(3).Object.freeze},function(t,n,r){var e=r(16),o=r(42).onFreeze;r(59)("freeze",(function(t){return function(n){return t&&e(n)?t(o(n)):n}}))},function(t,n,r){var e=r(3),o=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,n,r){r(58),r(38),r(192),r(196),r(197),t.exports=r(3).WeakMap},function(t,n,r){"use strict";var e=r(191),o=r(128),i=r(44),u=r(30);t.exports=r(96)(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])}),"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},function(t,n){t.exports=function(){}},function(t,n,r){"use strict";var e,o=r(14),i=r(99)(0),u=r(85),s=r(42),f=r(127),c=r(195),a=r(16),l=r(48),h=r(48),p=!o.ActiveXObject&&"ActiveXObject"in o,v="WeakMap",d=s.getWeak,y=Object.isExtensible,g=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(a(t)){var n=d(t);return!0===n?g(l(this,v)).get(t):n?n[this._i]:void 0}},set:function(t,n){return c.def(l(this,v),t,n)}},_=t.exports=r(100)(v,m,b,c,!0,!0);h&&p&&(f((e=c.getConstructor(m,v)).prototype,b),s.NEED=!0,i(["delete","has","get","set"],(function(t){var n=_.prototype,r=n[t];u(n,t,(function(n,o){if(a(n)&&!y(n)){this._f||(this._f=new e);var i=this._f[t](n,o);return"set"==t?this:i}return r.call(this,n,o)}))})))},function(t,n,r){var e=r(194);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(16),o=r(117),i=r(17)("species");t.exports=function(t){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)||(n=void 0),e(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(69),o=r(42).getWeak,i=r(22),u=r(16),s=r(70),f=r(47),c=r(99),a=r(28),l=r(48),h=c(5),p=c(6),v=0,d=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,n){return h(t.a,(function(t){return t[0]===n}))};y.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=p(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,i){var c=t((function(t,e){s(t,c,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&f(e,r,t[i],t)}));return e(c.prototype,{delete:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).delete(t):r&&a(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).has(t):r&&a(r,this._i)}}),c},def:function(t,n,r){var e=o(i(n),!0);return!0===e?d(t).set(n,r):e[t._i]=r,t},ufstore:d}},function(t,n,r){r(101)("WeakMap")},function(t,n,r){r(102)("WeakMap")},function(t,n,r){r(199);var e=r(3).Object;t.exports=function(t,n){return e.create(t,n)}},function(t,n,r){var e=r(9);e(e.S,"Object",{create:r(66)})},function(t,n,r){r(201);var e=r(3).Object;t.exports=function(t,n){return e.defineProperties(t,n)}},function(t,n,r){var e=r(9);e(e.S+e.F*!r(19),"Object",{defineProperties:r(118)})},function(t,n,r){r(203),t.exports=r(3).Math.sign},function(t,n,r){var e=r(9);e(e.S,"Math",{sign:r(204)})},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){t.exports={default:r(206),__esModule:!0}},function(t,n,r){r(207),t.exports=r(3).Number.isInteger},function(t,n,r){var e=r(9);e(e.S,"Number",{isInteger:r(208)})},function(t,n,r){var e=r(16),o=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&o(t)===t}},function(t,n,r){r(210),t.exports=Math.pow(2,-52)},function(t,n,r){var e=r(9);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){t.exports={default:r(212),__esModule:!0}},function(t,n,r){r(37),r(38),t.exports=r(87).f("iterator")},function(t,n,r){t.exports={default:r(214),__esModule:!0}},function(t,n,r){r(215),t.exports=r(3).Math.log10},function(t,n,r){var e=r(9);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,r){r(58),r(37),r(38),r(217),r(218),r(220),r(221),t.exports=r(3).Set},function(t,n,r){"use strict";var e=r(129),o=r(48);t.exports=r(100)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(o(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,r){var e=r(9);e(e.P+e.R,"Set",{toJSON:r(131)("Set")})},function(t,n,r){var e=r(47);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){r(101)("Set")},function(t,n,r){r(102)("Set")},,,function(t,n,r){var e=function(){return this}()||Function("return this")(),o=e.regeneratorRuntime&&Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime")>=0,i=o&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,t.exports=r(225),o)e.regeneratorRuntime=i;else try{delete e.regeneratorRuntime}catch(t){e.regeneratorRuntime=void 0}},function(t,n){!function(n){"use strict";var r,e=Object.prototype,o=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag",c="object"==typeof t,a=n.regeneratorRuntime;if(a)c&&(t.exports=a);else{(a=n.regeneratorRuntime=c?t.exports:{}).wrap=_;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",d={},y={};y[u]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==e&&o.call(m,u)&&(y=m);var b=O.prototype=x.prototype=Object.create(y);S.prototype=b.constructor=O,O.constructor=S,O[f]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f in t||(t[f]="GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},a.AsyncIterator=M,a.async=function(t,n,r,e){var o=new M(_(t,n,r,e));return a.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(b),b[f]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},a.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},a.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,o){return s.type="throw",s.arg=t,n.next=e,o&&(n.method="next",n.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],s=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var f=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(f&&c){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(f){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&o.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:A(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),d}}}function _(t,n,r,e){var o=n&&n.prototype instanceof x?n:x,i=Object.create(o.prototype),u=new k(e||[]);return i._invoke=function(t,n,r){var e=l;return function(o,i){if(e===p)throw new Error("Generator is already running");if(e===v){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var s=j(u,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=p;var f=w(t,n,r);if("normal"===f.type){if(e=r.done?v:h,f.arg===d)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(e=v,r.method="throw",r.arg=f.arg)}}}(t,r,u),i}function w(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function S(){}function O(){}function E(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function M(t){function n(r,e,i,u){var s=w(t[r],t,e);if("throw"!==s.type){var f=s.arg,c=f.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):Promise.resolve(c).then((function(t){f.value=t,i(f)}),u)}u(s.arg)}var r;this._invoke=function(t,e){function o(){return new Promise((function(r,o){n(t,e,r,o)}))}return r=r?r.then(o,o):o()}}function j(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,j(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=w(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function L(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function A(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(o.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,n,r){r(58),r(37),r(38),r(227),r(231),r(232),t.exports=r(3).Promise},function(t,n,r){"use strict";var e,o,i,u,s=r(54),f=r(14),c=r(27),a=r(67),l=r(9),h=r(16),p=r(52),v=r(70),d=r(47),y=r(132),g=r(133).set,m=r(229)(),b=r(104),_=r(134),w=r(230),x=r(135),S="Promise",O=f.TypeError,E=f.process,M=E&&E.versions,j=M&&M.v8||"",L=f[S],P="process"==a(E),k=function(){},A=o=b.f,N=!!function(){try{var t=L.resolve(1),n=(t.constructor={})[r(17)("species")]=function(t){t(k,k)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof n&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),B=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},C=function(t,n){if(!t._n){t._n=!0;var r=t._c;m((function(){for(var e=t._v,o=1==t._s,i=0,u=function(n){var r,i,u,s=o?n.ok:n.fail,f=n.resolve,c=n.reject,a=n.domain;try{s?(o||(2==t._h&&D(t),t._h=1),!0===s?r=e:(a&&a.enter(),r=s(e),a&&(a.exit(),u=!0)),r===n.promise?c(O("Promise-chain cycle")):(i=B(r))?i.call(r,f,c):f(r)):c(e)}catch(t){a&&!u&&a.exit(),c(t)}};r.length>i;)u(r[i++]);t._c=[],t._n=!1,n&&!t._h&&F(t)}))}},F=function(t){g.call(f,(function(){var n,r,e,o=t._v,i=T(t);if(i&&(n=_((function(){P?E.emit("unhandledRejection",o,t):(r=f.onunhandledrejection)?r({promise:t,reason:o}):(e=f.console)&&e.error})),t._h=P||T(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},T=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){g.call(f,(function(){var n;P?E.emit("rejectionHandled",t):(n=f.onrejectionhandled)&&n({promise:t,reason:t._v})}))},G=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),C(n,!0))},R=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw O("Promise can't be resolved itself");(n=B(t))?m((function(){var e={_w:r,_d:!1};try{n.call(t,c(R,e,1),c(G,e,1))}catch(t){G.call(e,t)}})):(r._v=t,r._s=1,C(r,!1))}catch(t){G.call({_w:r,_d:!1},t)}}};N||(L=function(t){v(this,L,S,"_h"),p(t),e.call(this);try{t(c(R,this,1),c(G,this,1))}catch(t){G.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(69)(L.prototype,{then:function(t,n){var r=A(y(this,L));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new e;this.promise=t,this.resolve=c(R,t,1),this.reject=c(G,t,1)},b.f=A=function(t){return t===L||t===u?new i(t):o(t)}),l(l.G+l.W+l.F*!N,{Promise:L}),r(55)(L,S),r(130)(S),u=r(3)[S],l(l.S+l.F*!N,S,{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(s||!N),S,{resolve:function(t){return x(s&&this===u?L:this,t)}}),l(l.S+l.F*!(N&&r(126)((function(t){L.all(t).catch(k)}))),S,{all:function(t){var n=this,r=A(n),e=r.resolve,o=r.reject,i=_((function(){var r=[],i=0,u=1;d(t,!1,(function(t){var s=i++,f=!1;r.push(void 0),u++,n.resolve(t).then((function(t){f||(f=!0,r[s]=t,--u||e(r))}),o)})),--u||e(r)}));return i.e&&o(i.v),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,o=_((function(){d(t,!1,(function(t){n.resolve(t).then(r.resolve,e)}))}));return o.e&&e(o.v),r.promise}})},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(14),o=r(133).set,i=e.MutationObserver||e.WebKitMutationObserver,u=e.process,s=e.Promise,f="process"==r(56)(u);t.exports=function(){var t,n,r,c=function(){var e,o;for(f&&(e=u.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(c)};else if(!i||e.navigator&&e.navigator.standalone)if(s&&s.resolve){var a=s.resolve(void 0);r=function(){a.then(c)}}else r=function(){o.call(e,c)};else{var l=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}},function(t,n,r){var e=r(14).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){"use strict";var e=r(9),o=r(3),i=r(14),u=r(132),s=r(135);e(e.P+e.R,"Promise",{finally:function(t){var n=u(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return s(n,t()).then((function(){return r}))}:t,r?function(r){return s(n,t()).then((function(){throw r}))}:t)}})},function(t,n,r){"use strict";var e=r(9),o=r(104),i=r(134);e(e.S,"Promise",{try:function(t){var n=o.f(this),r=i(t);return(r.e?n.reject:n.resolve)(r.v),n.promise}})},,,function(t,n,r){"use strict";var e=n;function o(){e.Reader._configure(e.BufferReader),e.util._configure()}e.build="minimal",e.Writer=r(136),e.BufferWriter=r(244),e.Reader=r(137),e.BufferReader=r(245),e.util=r(39),e.rpc=r(246),e.roots=r(248),e.configure=o,e.Writer._configure(e.BufferWriter),o()},function(t,n,r){"use strict";t.exports=function(t,n){var r=new Array(arguments.length-1),e=0,o=2,i=!0;for(;o<arguments.length;)r[e++]=arguments[o++];return new Promise((function(o,u){r[e]=function(t){if(i)if(i=!1,t)u(t);else{for(var n=new Array(arguments.length-1),r=0;r<n.length;)n[r++]=arguments[r];o.apply(null,n)}};try{t.apply(n||null,r)}catch(t){i&&(i=!1,u(t))}}))}},function(t,n,r){"use strict";var e=n;e.length=function(t){var n=t.length;if(!n)return 0;for(var r=0;--n%4>1&&"="===t.charAt(n);)++r;return Math.ceil(3*t.length)/4-r};for(var o=new Array(64),i=new Array(123),u=0;u<64;)i[o[u]=u<26?u+65:u<52?u+71:u<62?u-4:u-59|43]=u++;e.encode=function(t,n,r){for(var e,i=null,u=[],s=0,f=0;n<r;){var c=t[n++];switch(f){case 0:u[s++]=o[c>>2],e=(3&c)<<4,f=1;break;case 1:u[s++]=o[e|c>>4],e=(15&c)<<2,f=2;break;case 2:u[s++]=o[e|c>>6],u[s++]=o[63&c],f=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,u)),s=0)}return f&&(u[s++]=o[e],u[s++]=61,1===f&&(u[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,u.slice(0,s))),i.join("")):String.fromCharCode.apply(String,u.slice(0,s))};var s="invalid encoding";e.decode=function(t,n,r){for(var e,o=r,u=0,f=0;f<t.length;){var c=t.charCodeAt(f++);if(61===c&&u>1)break;if(void 0===(c=i[c]))throw Error(s);switch(u){case 0:e=c,u=1;break;case 1:n[r++]=e<<2|(48&c)>>4,e=c,u=2;break;case 2:n[r++]=(15&e)<<4|(60&c)>>2,e=c,u=3;break;case 3:n[r++]=(3&e)<<6|c,u=0}}if(1===u)throw Error(s);return r-o},e.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,n,r){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,n,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:r||this}),this},e.prototype.off=function(t,n){if(void 0===t)this._listeners={};else if(void 0===n)this._listeners[t]=[];else for(var r=this._listeners[t],e=0;e<r.length;)r[e].fn===n?r.splice(e,1):++e;return this},e.prototype.emit=function(t){var n=this._listeners[t];if(n){for(var r=[],e=1;e<arguments.length;)r.push(arguments[e++]);for(e=0;e<n.length;)n[e].fn.apply(n[e++].ctx,r)}return this}},function(t,n,r){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),e=128===r[3];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3]}function i(t,e,o){n[0]=t,e[o]=r[3],e[o+1]=r[2],e[o+2]=r[1],e[o+3]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],n[0]}function s(t,e){return r[3]=t[e],r[2]=t[e+1],r[1]=t[e+2],r[0]=t[e+3],n[0]}t.writeFloatLE=e?o:i,t.writeFloatBE=e?i:o,t.readFloatLE=e?u:s,t.readFloatBE=e?s:u}():function(){function n(t,n,r,e){var o=n<0?1:0;if(o&&(n=-n),0===n)t(1/n>0?0:2147483648,r,e);else if(isNaN(n))t(2143289344,r,e);else if(n>34028234663852886e22)t((o<<31|2139095040)>>>0,r,e);else if(n<11754943508222875e-54)t((o<<31|Math.round(n/1401298464324817e-60))>>>0,r,e);else{var i=Math.floor(Math.log(n)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(n*Math.pow(2,-i)*8388608))>>>0,r,e)}}function r(t,n,r){var e=t(n,r),o=2*(e>>31)+1,i=e>>>23&255,u=8388607&e;return 255===i?u?NaN:o*(1/0):0===i?1401298464324817e-60*o*u:o*Math.pow(2,i-150)*(u+8388608)}t.writeFloatLE=n.bind(null,o),t.writeFloatBE=n.bind(null,i),t.readFloatLE=r.bind(null,u),t.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),e=128===r[7];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3],e[o+4]=r[4],e[o+5]=r[5],e[o+6]=r[6],e[o+7]=r[7]}function i(t,e,o){n[0]=t,e[o]=r[7],e[o+1]=r[6],e[o+2]=r[5],e[o+3]=r[4],e[o+4]=r[3],e[o+5]=r[2],e[o+6]=r[1],e[o+7]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],r[4]=t[e+4],r[5]=t[e+5],r[6]=t[e+6],r[7]=t[e+7],n[0]}function s(t,e){return r[7]=t[e],r[6]=t[e+1],r[5]=t[e+2],r[4]=t[e+3],r[3]=t[e+4],r[2]=t[e+5],r[1]=t[e+6],r[0]=t[e+7],n[0]}t.writeDoubleLE=e?o:i,t.writeDoubleBE=e?i:o,t.readDoubleLE=e?u:s,t.readDoubleBE=e?s:u}():function(){function n(t,n,r,e,o,i){var u=e<0?1:0;if(u&&(e=-e),0===e)t(0,o,i+n),t(1/e>0?0:2147483648,o,i+r);else if(isNaN(e))t(0,o,i+n),t(2146959360,o,i+r);else if(e>17976931348623157e292)t(0,o,i+n),t((u<<31|2146435072)>>>0,o,i+r);else{var s;if(e<22250738585072014e-324)t((s=e/5e-324)>>>0,o,i+n),t((u<<31|s/4294967296)>>>0,o,i+r);else{var f=Math.floor(Math.log(e)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(s=e*Math.pow(2,-f))>>>0,o,i+n),t((u<<31|f+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(t,n,r,e,o){var i=t(e,o+n),u=t(e,o+r),s=2*(u>>31)+1,f=u>>>20&2047,c=4294967296*(1048575&u)+i;return 2047===f?c?NaN:s*(1/0):0===f?5e-324*s*c:s*Math.pow(2,f-1075)*(c+4503599627370496)}t.writeDoubleLE=n.bind(null,o,0,4),t.writeDoubleBE=n.bind(null,i,4,0),t.readDoubleLE=r.bind(null,u,0,4),t.readDoubleBE=r.bind(null,s,4,0)}(),t}function o(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}function i(t,n,r){n[r]=t>>>24,n[r+1]=t>>>16&255,n[r+2]=t>>>8&255,n[r+3]=255&t}function u(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function s(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}t.exports=e(e)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,n,r){"use strict";var e=n;e.length=function(t){for(var n=0,r=0,e=0;e<t.length;++e)(r=t.charCodeAt(e))<128?n+=1:r<2048?n+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(e+1))?(++e,n+=4):n+=3;return n},e.read=function(t,n,r){if(r-n<1)return"";for(var e,o=null,i=[],u=0;n<r;)(e=t[n++])<128?i[u++]=e:e>191&&e<224?i[u++]=(31&e)<<6|63&t[n++]:e>239&&e<365?(e=((7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,i[u++]=55296+(e>>10),i[u++]=56320+(1023&e)):i[u++]=(15&e)<<12|(63&t[n++])<<6|63&t[n++],u>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),u=0);return o?(u&&o.push(String.fromCharCode.apply(String,i.slice(0,u))),o.join("")):String.fromCharCode.apply(String,i.slice(0,u))},e.write=function(t,n,r){for(var e,o,i=r,u=0;u<t.length;++u)(e=t.charCodeAt(u))<128?n[r++]=e:e<2048?(n[r++]=e>>6|192,n[r++]=63&e|128):55296==(64512&e)&&56320==(64512&(o=t.charCodeAt(u+1)))?(e=65536+((1023&e)<<10)+(1023&o),++u,n[r++]=e>>18|240,n[r++]=e>>12&63|128,n[r++]=e>>6&63|128,n[r++]=63&e|128):(n[r++]=e>>12|224,n[r++]=e>>6&63|128,n[r++]=63&e|128);return r-i}},function(t,n,r){"use strict";t.exports=function(t,n,r){var e=r||8192,o=e>>>1,i=null,u=e;return function(r){if(r<1||r>o)return t(r);u+r>e&&(i=t(e),u=0);var s=n.call(i,u,u+=r);return 7&u&&(u=1+(7|u)),s}}},function(t,n,r){"use strict";t.exports=o;var e=r(39);function o(t,n){this.lo=t>>>0,this.hi=n>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var u=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var n=t<0;n&&(t=-t);var r=t>>>0,e=(t-r)/4294967296>>>0;return n&&(e=~e>>>0,r=~r>>>0,++r>4294967295&&(r=0,++e>4294967295&&(e=0))),new o(r,e)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(e.isString(t)){if(!e.Long)return o.fromNumber(parseInt(t,10));t=e.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=1+~this.lo>>>0,r=~this.hi>>>0;return n||(r=r+1>>>0),-(n+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===u?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}},function(t,n,r){"use strict";t.exports=u;var e=r(136);(u.prototype=Object.create(e.prototype)).constructor=u;var o=r(39),i=o.Buffer;function u(){e.call(this)}u.alloc=function(t){return(u.alloc=o._Buffer_allocUnsafe)(t)};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(t,n,r){n.set(t,r)}:function(t,n,r){if(t.copy)t.copy(n,r,0,t.length);else for(var e=0;e<t.length;)n[r++]=t[e++]};function f(t,n,r){t.length<40?o.utf8.write(t,n,r):n.utf8Write(t,r)}u.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var n=t.length>>>0;return this.uint32(n),n&&this._push(s,n,t),this},u.prototype.string=function(t){var n=i.byteLength(t);return this.uint32(n),n&&this._push(f,n,t),this}},function(t,n,r){"use strict";t.exports=i;var e=r(137);(i.prototype=Object.create(e.prototype)).constructor=i;var o=r(39);function i(t){e.call(this,t)}o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice),i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,n,r){"use strict";n.Service=r(247)},function(t,n,r){"use strict";t.exports=o;var e=r(39);function o(t,n,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(n),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(e.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(n,r,o,i,u){if(!i)throw TypeError("request must be specified");var s=this;if(!u)return e.asPromise(t,s,n,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,r){if(t)return s.emit("error",t,n),u(t);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return s.emit("error",t,n),u(t)}return s.emit("data",r,n),u(null,r)}s.end(!0)}))}catch(t){return s.emit("error",t,n),void setTimeout((function(){u(t)}),0)}else setTimeout((function(){u(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,n,r){"use strict";t.exports={}},,function(t,n,r){t.exports={default:r(251),__esModule:!0}},function(t,n,r){r(252),t.exports=r(3).String.fromCodePoint},function(t,n,r){var e=r(9),o=r(116),i=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],o(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?i(n):i(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})}]]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[4],{10:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(12),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},11:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(280)),o=a(n(20)),i=a(n(12));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},147:function(e,t,n){var r=n(19),o=n(43),i=n(30),a=n(57).f;e.exports=function(e){return function(t){for(var n,s=i(t),u=o(s),c=u.length,l=0,d=[];c>l;)n=u[l++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},156:function(e,t,n){(function(n){var r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length&&this.init(e)};a.prototype={init:function(e){var t=this;return i.ctx||_(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,_=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=f,s._stop=_,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=_)){var p=s._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;p.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===p.bufferSource.start?s._loop?p.bufferSource.noteGrainOn(0,c,86400):p.bufferSource.noteGrainOn(0,c,l):s._loop?p.bufferSource.start(0,c,86400):p.bufferSource.start(0,c,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var g=function(){p.currentTime=c,p.muted=s._muted||n._muted||i._muted||p.muted,p.volume=s._volume*i.volume(),p.playbackRate=s._rate;try{var r=p.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,p._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),p.playbackRate=s._rate,p.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),p.removeEventListener("ended",n._endTimers[s._id],!1)},p.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var v=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(p.readyState>=3||v)g();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",g(),p.removeEventListener(i._canPlayEvent,y,!1)};p.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,o[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if(r||o._stopFade(a[s]),o._webAudio&&!u._muted){var c=i.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(u,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-d)/r;d=Date.now(),s+=u*o,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?i.ctx.currentTime-o._playStart:0,s=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(s+a*Math.abs(o._rate))}return o._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var c=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):c()};setTimeout(l,0)}else c()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return u&&o&&delete u[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,f(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,t,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(106))},157:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(329)),o=i(n(40));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(e);!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},158:function(e,t,n){e.exports={default:n(332),__esModule:!0}},258:function(e,t,n){n(38),n(37),e.exports=n(259)},259:function(e,t,n){var r=n(22),o=n(97);e.exports=n(3).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},260:function(e,t,n){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===f(e)}n.r(t),n.d(t,"default",(function(){return z}));const o=1/0;function i(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}function a(e){return"string"==typeof e}function s(e){return"number"==typeof e}function u(e){return!0===e||!1===e||function(e){return c(e)&&null!==e}(e)&&"[object Boolean]"==f(e)}function c(e){return"object"==typeof e}function l(e){return null!=e}function d(e){return!e.trim().length}function f(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const _=e=>`Missing ${e} property in key`,h=e=>`Property 'weight' in key '${e}' must be a positive integer`,p=Object.prototype.hasOwnProperty;class m{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=g(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function g(e){let t=null,n=null,o=null,i=1,s=null;if(a(e)||r(e))o=e,t=v(e),n=y(e);else{if(!p.call(e,"name"))throw new Error(_("name"));const r=e.name;if(o=r,p.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(h(r));t=v(r),n=y(r),s=e.getFn}return{path:t,id:n,weight:i,src:o,getFn:s}}function v(e){return r(e)?e:e.split(".")}function y(e){return r(e)?e.join("."):e}var b={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],o=!1;const c=(e,t,d)=>{if(l(e))if(t[d]){const f=e[t[d]];if(!l(f))return;if(d===t.length-1&&(a(f)||s(f)||u(f)))n.push(i(f));else if(r(f)){o=!0;for(let e=0,n=f.length;e<n;e+=1)c(f[e],t,d+1)}else t.length&&c(f,t,d+1)}else n.push(e)};return c(e,a(t)?t.split("."):t,0),o?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const w=/[^ ]+/g;class A{constructor({getFn:e=b.getFn,fieldNormWeight:t=b.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(w).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,a(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();a(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!l(e)||d(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,o)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(l(i))if(r(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:o}=t.pop();if(l(o))if(a(o)&&!d(o)){let t={v:o,i:n,n:this.norm.get(o)};e.push(t)}else r(o)&&o.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[o]=e}else if(a(i)&&!d(i)){let e={v:i,n:this.norm.get(i)};n.$[o]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function x(e,t,{getFn:n=b.getFn,fieldNormWeight:r=b.fieldNormWeight}={}){const o=new A({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(g)),o.setSources(t),o.create(),o}function T(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=b.distance,ignoreLocation:i=b.ignoreLocation}={}){const a=t/e.length;if(i)return a;const s=Math.abs(r-n);return o?a+s/o:s?1:a}const S=32;function M(e,t,n,{location:r=b.location,distance:o=b.distance,threshold:i=b.threshold,findAllMatches:a=b.findAllMatches,minMatchCharLength:s=b.minMatchCharLength,includeMatches:u=b.includeMatches,ignoreLocation:c=b.ignoreLocation}={}){if(t.length>S)throw new Error(`Pattern length exceeds max of ${S}.`);const l=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let _=i,h=f;const p=s>1||u,m=p?Array(d):[];let g;for(;(g=e.indexOf(t,h))>-1;){let e=T(t,{currentLocation:g,expectedLocation:f,distance:o,ignoreLocation:c});if(_=Math.min(e,_),h=g+l,p){let e=0;for(;e<l;)m[g+e]=1,e+=1}}h=-1;let v=[],y=1,w=l+d;const A=1<<l-1;for(let r=0;r<l;r+=1){let i=0,s=w;for(;i<s;){T(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:o,ignoreLocation:c})<=_?i=s:w=s,s=Math.floor((w-i)/2+i)}w=s;let u=Math.max(1,f-s+1),g=a?d:Math.min(f+s,d)+l,b=Array(g+2);b[g+1]=(1<<r)-1;for(let i=g;i>=u;i-=1){let a=i-1,s=n[e.charAt(a)];if(p&&(m[a]=+!!s),b[i]=(b[i+1]<<1|1)&s,r&&(b[i]|=(v[i+1]|v[i])<<1|1|v[i+1]),b[i]&A&&(y=T(t,{errors:r,currentLocation:a,expectedLocation:f,distance:o,ignoreLocation:c}),y<=_)){if(_=y,h=a,h<=f)break;u=Math.max(1,2*f-h)}}if(T(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:c})>_)break;v=b}const x={isMatch:h>=0,score:Math.max(.001,y)};if(p){const e=function(e=[],t=b.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(m,s);e.length?u&&(x.indices=e):x.isMatch=!1}return x}function k(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class C{constructor(e,{location:t=b.location,threshold:n=b.threshold,distance:r=b.distance,includeMatches:o=b.includeMatches,findAllMatches:i=b.findAllMatches,minMatchCharLength:a=b.minMatchCharLength,isCaseSensitive:s=b.isCaseSensitive,ignoreLocation:u=b.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:u},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:k(e),startIndex:t})},l=this.pattern.length;if(l>S){let e=0;const t=l%S,n=l-t;for(;e<n;)c(this.pattern.substr(e,S),e),e+=S;if(t){const e=l-S;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,ignoreLocation:u}=this.options;let c=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:_})=>{const{isMatch:h,score:p,indices:m}=M(e,t,f,{location:r+_,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:u});h&&(d=!0),l+=p,h&&m&&(c=[...c,...m])}));let f={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(f.indices=c),f}}class I{constructor(e){this.pattern=e}static isMultiMatch(e){return E(e,this.multiRegex)}static isSingleMatch(e){return E(e,this.singleRegex)}search(){}}function E(e,t){const n=e.match(t);return n?n[1]:null}class L extends I{constructor(e,{location:t=b.location,threshold:n=b.threshold,distance:r=b.distance,includeMatches:o=b.includeMatches,findAllMatches:i=b.findAllMatches,minMatchCharLength:a=b.minMatchCharLength,isCaseSensitive:s=b.isCaseSensitive,ignoreLocation:u=b.ignoreLocation}={}){super(e),this._bitapSearch=new C(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class O extends I{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const P=[class extends I{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},O,class extends I{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},L],F=P.length,R=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const $=new Set([L.type,O.type]);class B{constructor(e,{isCaseSensitive:t=b.isCaseSensitive,includeMatches:n=b.includeMatches,minMatchCharLength:r=b.minMatchCharLength,ignoreLocation:o=b.ignoreLocation,findAllMatches:i=b.findAllMatches,location:a=b.location,threshold:s=b.threshold,distance:u=b.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:s,distance:u},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(R).filter((e=>e&&!!e.trim())),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<F;){const e=P[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<F;){const e=P[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];i.length=0,o=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:u,indices:c,score:l}=r.search(e);if(!u){a=0,o=0,i.length=0;break}if(o+=1,a+=l,n){const e=r.constructor.type;$.has(e)?i=[...i,...c]:i.push(c)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const D=[];function j(e,t){for(let n=0,r=D.length;n<r;n+=1){let r=D[n];if(r.condition(e,t))return new r(e,t)}return new C(e,t)}const H="$and",N="$or",V="$path",G="$val",W=e=>!(!e[H]&&!e[N]),q=e=>({[H]:Object.keys(e).map((t=>({[t]:e[t]})))});function U(e,t,{auto:n=!0}={}){const o=e=>{let i=Object.keys(e);const s=(e=>!!e[V])(e);if(!s&&i.length>1&&!W(e))return o(q(e));if((e=>!r(e)&&c(e)&&!W(e))(e)){const r=s?e[V]:i[0],o=s?e[G]:e[r];if(!a(o))throw new Error((e=>`Invalid value for key ${e}`)(r));const u={keyId:y(r),pattern:o};return n&&(u.searcher=j(o,t)),u}let u={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];r(n)&&n.forEach((e=>{u.children.push(o(e))}))})),u};return W(e)||(e=q(e)),o(e)}function X(e,t){const n=e.matches;t.matches=[],l(n)&&n.forEach((e=>{if(!l(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function Y(e,t){t.score=e.score}class z{constructor(e,t={},n){this.options={...b,...t},this.options.useExtendedSearch,this._keyStore=new m(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof A))throw new Error("Incorrect 'index' type");this._myIndex=t||x(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){l(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:u}=this.options;let c=a(e)?a(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=b.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:o})=>{const i=e?e.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(t?1:r))})),e.score=n}))}(c,{ignoreFieldNorm:u}),o&&c.sort(i),s(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:n=b.includeMatches,includeScore:r=b.includeScore}={}){const o=[];return n&&o.push(X),r&&o.push(Y),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,r)})),r}))}(c,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=j(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:o})=>{if(!l(e))return;const{isMatch:i,score:a,indices:s}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:o,indices:s}]})})),r}_searchLogical(e){const t=U(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],s=n(a,t,r);if(s.length)o.push(...s);else if(e.operator===H)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach((({$:e,i:r})=>{if(l(e)){let a=n(t,e,r);a.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},i.push(o[r])),a.forEach((({matches:e})=>{o[r].matches.push(...e)})))}})),i}_searchObjectList(e){const t=j(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:e,i:r})=>{if(!l(e))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),i.length&&o.push({idx:r,item:e,matches:i})})),o}_findMatches({key:e,value:t,searcher:n}){if(!l(t))return[];let o=[];if(r(t))t.forEach((({v:t,i:r,n:i})=>{if(!l(t))return;const{isMatch:a,score:s,indices:u}=n.searchIn(t);a&&o.push({score:s,key:e,value:t,idx:r,norm:i,indices:u})}));else{const{v:r,n:i}=t,{isMatch:a,score:s,indices:u}=n.searchIn(r);a&&o.push({score:s,key:e,value:r,norm:i,indices:u})}return o}}z.version="6.6.2",z.createIndex=x,z.parseIndex=function(e,{getFn:t=b.getFn,fieldNormWeight:n=b.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new A({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},z.config=b,z.parseQuery=U,function(...e){D.push(...e)}(B)},278:function(e,t,n){n(279),e.exports=n(3).Object.getPrototypeOf},279:function(e,t,n){var r=n(35),o=n(123);n(59)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},280:function(e,t,n){e.exports={default:n(281),__esModule:!0}},281:function(e,t,n){n(282),e.exports=n(3).Object.setPrototypeOf},282:function(e,t,n){var r=n(9);r(r.S,"Object",{setPrototypeOf:n(283).set})},283:function(e,t,n){var r=n(16),o=n(22),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(27)(Function.call,n(95).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},297:function(e,t,n){e.exports={default:n(298),__esModule:!0}},298:function(e,t,n){n(299),e.exports=n(3).Math.hypot},299:function(e,t,n){var r=n(9),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,u=0;a<s;)u<(n=o(arguments[a++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(i)}})},302:function(e,t,n){n(58),n(37),n(38),n(303),n(304),n(305),n(306),e.exports=n(3).Map},303:function(e,t,n){"use strict";var r=n(129),o=n(48),i="Map";e.exports=n(100)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},304:function(e,t,n){var r=n(9);r(r.P+r.R,"Map",{toJSON:n(131)("Map")})},305:function(e,t,n){n(101)("Map")},306:function(e,t,n){n(102)("Map")},311:function(e,t,n){n(312),e.exports=n(3).Object.values},312:function(e,t,n){var r=n(9),o=n(147)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},313:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(5)),o=i(n(314));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,i){null===t&&(t=Function.prototype);var a=(0,o.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,i)}if("value"in a)return a.value;var u=a.get;return void 0!==u?u.call(i):void 0}},314:function(e,t,n){e.exports={default:n(315),__esModule:!0}},315:function(e,t,n){n(316);var r=n(3).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},316:function(e,t,n){var r=n(30),o=n(95).f;n(59)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},329:function(e,t,n){e.exports={default:n(330),__esModule:!0}},330:function(e,t,n){n(38),n(37),e.exports=n(331)},331:function(e,t,n){var r=n(67),o=n(17)("iterator"),i=n(44);e.exports=n(3).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},332:function(e,t,n){n(333),e.exports=n(3).Object.entries},333:function(e,t,n){var r=n(9),o=n(147)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},365:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},385:function(e,t,n){"use strict";n.r(t);var r=n(6);function o(e,t,n){const o=`.${e}:${t}`,i=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return Object(r.h)(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${o}{${i}}`)}function i(e,t,n){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(""===a||"none"===a)return;const s=Object(r.i)();try{t.className=`${t.className} ${s}`}catch(e){return}const u=document.createElement("style");u.appendChild(o(s,n,i)),t.appendChild(u)}const a="application/font-woff",s="image/jpeg",u={woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:s,jpeg:s,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function c(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return u[t]||""}function l(e){return-1!==e.search(/^(data:)/)}function d(e,t){return`data:${t};base64,${e}`}async function f(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)}))}const _={};async function h(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=_[r])return _[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await f(e,n.fetchRequestInit,(({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(n))));o=d(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message)}return _[r]=o,o}async function p(e,t){return e instanceof HTMLCanvasElement?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):Object(r.c)(t)}(e):e instanceof HTMLVideoElement?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height);const o=t.toDataURL();return Object(r.c)(o)}const n=e.poster,o=c(n),i=await h(n,o,t);return Object(r.c)(i)}(e,t):e instanceof HTMLIFrameElement?async function(e){var t;try{if(null===(t=null==e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await v(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}(e):e.cloneNode(!1)}const m=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();function g(e,t){return t instanceof Element&&(function(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Object(r.h)(o).forEach((e=>{let t=o.getPropertyValue(e);if("font-size"===e&&t.endsWith("px")){const e=Math.floor(parseFloat(t.substring(0,t.length-2)))-.1;t=`${e}px`}n.setProperty(e,t,o.getPropertyPriority(e))}))}(e,t),function(e,t){i(e,t,":before"),i(e,t,":after")}(e,t),function(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(e instanceof HTMLSelectElement){const n=t,r=Array.from(n.children).find((t=>e.value===t.getAttribute("value")));r&&r.setAttribute("selected","")}}(e,t)),t}async function v(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>p(e,t))).then((n=>async function(e,t,n){var o;const i=m(e)&&e.assignedNodes?Object(r.h)(e.assignedNodes()):Object(r.h)((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes);return 0===i.length||e instanceof HTMLVideoElement||await i.reduce(((e,r)=>e.then((()=>v(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,n,t))).then((t=>g(e,t))).then((e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await v(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t))):null}const y=/url\((['"]?)([^'"]+?)\1\)/g,b=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,w=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function A(e,t,n,o,i){try{const a=n?Object(r.g)(t,n):t,s=c(t);let u;if(i){u=d(await i(a),s)}else u=await h(a,s,o);return e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${u}$3`)}catch(e){}return e}function x(e){return-1!==e.search(y)}async function T(e,t,n){if(!x(e))return e;const r=function(e,{preferredFontFormat:t}){return t?e.replace(w,(e=>{for(;;){const[n,,r]=b.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}})):e}(e,n),o=function(e){const t=[];return e.replace(y,((e,n,r)=>(t.push(r),e))),t.filter((e=>!l(e)))}(r);return o.reduce(((e,r)=>e.then((e=>A(e,r,t,n)))),Promise.resolve(r))}async function S(e,t){e instanceof Element&&(await async function(e,t){var n;const r=null===(n=e.style)||void 0===n?void 0:n.getPropertyValue("background");if(r){const n=await T(r,null,t);e.style.setProperty("background",n,e.style.getPropertyPriority("background"))}}(e,t),await async function(e,t){if((!(e instanceof HTMLImageElement)||l(e.src))&&(!(e instanceof SVGImageElement)||l(e.href.baseVal)))return;const n=e instanceof HTMLImageElement?e.src:e.href.baseVal,r=await h(n,c(n),t);await new Promise(((t,n)=>{e.onload=t,e.onerror=n;const o=e;o.decode&&(o.decode=t),e instanceof HTMLImageElement?(e.srcset="",e.src=r):e.href.baseVal=r}))}(e,t),await async function(e,t){const n=Object(r.h)(e.childNodes).map((e=>S(e,t)));await Promise.all(n).then((()=>e))}(e,t))}const M={};async function k(e){let t=M[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},M[e]=t,t}async function C(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),f(i,t.fetchRequestInit,(({result:e})=>(n=n.replace(o,`url(${e})`),[o,e])))}));return Promise.all(o).then((()=>n))}function I(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function E(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=Object(r.h)(e.ownerDocument.styleSheets),o=await async function(e,t){const n=[],o=[];return e.forEach((n=>{if("cssRules"in n)try{Object(r.h)(n.cssRules||[]).forEach(((e,r)=>{if(e.type===CSSRule.IMPORT_RULE){let i=r+1;const a=k(e.href).then((e=>C(e,t))).then((e=>I(e).forEach((e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(e){}})))).catch((e=>{e.toString()}));o.push(a)}}))}catch(r){const i=e.find((e=>null==e.href))||document.styleSheets[0];null!=n.href&&o.push(k(n.href).then((e=>C(e,t))).then((e=>I(e).forEach((e=>{i.insertRule(e,n.cssRules.length)})))).catch((e=>{e.toString()}))),r.toString()}})),Promise.all(o).then((()=>(e.forEach((e=>{if("cssRules"in e)try{Object(r.h)(e.cssRules||[]).forEach((e=>{n.push(e)}))}catch(t){e.href,t.toString()}})),n)))}(n,t);return function(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>x(e.style.getPropertyValue("src"))))}(o)}async function L(e,t){const n=await E(e,t);return(await Promise.all(n.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return T(e.cssText,n,t)})))).join("\n")}async function O(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await v(e,t,!0);await async function(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await L(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(i,t),await S(i,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]}))}(i,t);return await Object(r.f)(i,n,o)}async function P(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await O(e,t),a=await Object(r.c)(i),s=document.createElement("canvas"),u=s.getContext("2d"),c=t.pixelRatio||Object(r.e)(),l=t.canvasWidth||n,d=t.canvasHeight||o;return s.width=l*c,s.height=d*c,t.skipAutoScale||Object(r.b)(s),s.style.width=`${l}`,s.style.height=`${d}`,t.backgroundColor&&(u.fillStyle=t.backgroundColor,u.fillRect(0,0,s.width,s.height)),u.drawImage(a,0,0,s.width,s.height),s}async function F(e,t={}){const{width:n,height:o}=Object(r.d)(e,t);return(await P(e,t)).getContext("2d").getImageData(0,0,n,o).data}async function R(e,t={}){return(await P(e,t)).toDataURL()}async function $(e,t={}){return(await P(e,t)).toDataURL("image/jpeg",t.quality||1)}async function B(e,t={}){const n=await P(e,t);return await Object(r.a)(n)}async function D(e,t={}){return L(e,t)}n.d(t,"toSvg",(function(){return O})),n.d(t,"toCanvas",(function(){return P})),n.d(t,"toPixelData",(function(){return F})),n.d(t,"toPng",(function(){return R})),n.d(t,"toJpeg",(function(){return $})),n.d(t,"toBlob",(function(){return B})),n.d(t,"getFontEmbedCSS",(function(){return D}))},40:function(e,t,n){e.exports={default:n(258),__esModule:!0}},5:function(e,t,n){e.exports={default:n(278),__esModule:!0}},51:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[Ã-Ã][Â-Â¿]","[Ã -Ã¯][Â-Â¿]{2}","[Ã°-Ã·][Â-Â¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(106))},6:function(e,t,n){"use strict";(function(e){function r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return _}));const o=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${e}`)})();function i(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function a(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function s(e,t={}){return{width:t.width||function(e){const t=a(e,"border-left-width"),n=a(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=a(e,"border-top-width"),n=a(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}function u(){let t,n;try{n=e}catch(e){}const r=n&&n.env?n.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const c=16384;function l(e){(e.width>c||e.height>c)&&(e.width>c&&e.height>c?e.width>e.height?(e.height*=c/e.width,e.width=c):(e.width*=c/e.height,e.height=c):e.width>c?(e.height*=c/e.width,e.width=c):(e.width*=c/e.height,e.height=c))}function d(e,t={}){return e.toBlob?new Promise((n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)})):new Promise((n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e+=1)i[e]=r.charCodeAt(e);n(new Blob([i],{type:t.type?t.type:"image/png"}))}))}function f(e){return new Promise(((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e}))}async function _(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(o)}}).call(this,n(74))},62:function(e,t,n){e.exports={default:n(302),__esModule:!0}},74:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&_())}function _(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(_)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},76:function(e,t,n){e.exports={default:n(311),__esModule:!0}}}]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[0],{138:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}}},166:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.esWorker=e.THREE_=void 0;var r,n=i(167),a=(r=n)&&r.__esModule?r:{default:r};var o=i(253);e.THREE_=o,e.esWorker=a.default},167:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=o(i(170));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,r.default)(this,t)}return(0,n.default)(t,null,[{key:"createWorker",value:function(t,e){e(new a.default(171))}}]),t}();e.default=s},171:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(172)),n=o(i(223)),a=o(i(249));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new r.default(t);t.addEventListener("message",(function(i){if(1==i.data.messageType)2==i.data.layerType?e.createFloors(i.data):e.createRooms(i.data);else if(2==i.data.messageType){var r=new n.default(t);i.data.clearAll?r.IDBClearAll():"info"==i.data.controlIndex?r.startInfo(i.data):r.start(i.data)}else if(3==i.data.messageType){switch(i.data.level){case"error":default:a.default.error(i.data.msg);break;case"log":a.default.log(i.data.msg);break;case"warning":a.default.warning(i.data.msg);break;case"custom":a.default.logCustom(i.data.msg)}t.postMessage({id:i.data.id,message:"log"})}})),t.addEventListener("error",(function(e){console.info("workerError",e),t.terminate()}),!1)}},172:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(36)),n=d(i(45)),a=d(i(178)),o=d(i(2)),s=d(i(15)),u=d(i(0)),l=d(i(1)),h=i(46),c=i(31),p=i(222);function d(t){return t&&t.__esModule?t:{default:t}}var f=0,m=0,v=function(){function t(e){(0,u.default)(this,t),this.worker=e,this.maptheme=null,this.tileStylesMap=null}return(0,l.default)(t,[{key:"getStyleFromRoomStyle",value:function(t){for(var e=this.maptheme.Building,i=0;i<e.length;i++)if(1*e[i].typeid==t)return e[i];return e[0]}},{key:"handleTheme",value:function(){for(var t={},e={},i=0,r=this.maptheme.Building,n=0;n<r.length;n++){var a=r[n];if(1*a.filltype==2){if(t[i]||(t[i]={topImgIndexMap:{},sideImgIndexMap:{}}),e[a.typeid]||(e[a.typeid]=[i]),a.topimage&&!t[i].topImgIndexMap[a.topimage]){var o=(0,s.default)(t[i].topImgIndexMap).length+1;t[i].topImgIndexMap[o]=a.topimage,e[a.typeid].push(o)}if(a.sideimage&&!t[i].sideImgIndexMap[a.sideimage]){var u=(0,s.default)(t[i].sideImgIndexMap).length+1;t[i].sideImgIndexMap[u]=a.sideimage,e[a.typeid].push(u),u>=4&&(t[++i]={topImgIndexMap:{},sideImgIndexMap:{}})}}}this.imgConfigs=t,this.styleIndexMap=e}},{key:"createRooms",value:function(t){var e=[],i={},r={},s={extrudes:{},planes:{},tubes:{}};this.maptheme=t.maptheme,this.tileStylesMap=t.tileStylesMap,this.maptheme&&this.handleTheme();var u=t.lod,l={},p=t.id,d={},f={},v=t.fnum,g={},y=[],x=[],b=[],w=[],_=[],M={},S=t.layers,A=t.layerType,T=t.bid,L=t.isTile,P=5,C=t.isMerge,E=t.showBase,I=t.editMode,D={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},B=(t.offsets,0),O=this;if(!m){var z=t.maxX-t.minX;m=O.getRandomHeight(z)}for(var N=0;N<S.length;N++){var R,F=S[N];switch(A){case 0:R=F.modelbases;break;case 1:R=F.models}for(var U=R.length,k=0;k<U;k++){var G=R[k];if(G.hasOwnProperty("RoomHigh")&&null!=G.RoomHigh&&G.RoomHigh>0&&(P=G.RoomHigh),G.hasOwnProperty("RoomLogo")&&null!=G.RoomLogo&&G.RoomLogo.length>1&&0==G.FsId&&""!=G.RoomLogoSize){for(var V=G.RoomLogoSize.split(";"),W=G.RoomLogo.split(";"),H=[],j=0;j<V.length;j++){var X={};X.layerType=A,X.RoomStyle=G.RoomStyle,X.fnum=v,X.dataID=G.FC;var q=V[j].split(",");if(X.coord={x:G.CenX,y:G.CenY},X.size=[parseFloat(q[0]),parseFloat(q[1])],X.RoomLogo=W[j],X.id=G.oid,X.height=G.RoomHigh+.05,X.rotate=q.length>2?parseFloat(q[2]):0,X.angle=q.length>3?parseFloat(q[3]):0,X.offset=q.length>5?{x:parseFloat(q[4]),y:parseFloat(q[5]),z:parseFloat(q[6])||0}:{x:0,y:0,z:0},G.hasOwnProperty("offset")&&G.offset.length>0&&!(G.RModel&&G.RModel.length>2&&"undefined"!=G.RModel)){var Y=G.offset.split(",");X.offset.x+=parseFloat(Y[0]),X.offset.z+=parseFloat(Y[1]),X.offset.y+=parseFloat(Y[2])}var J=void 0;X.repeatType=1*q[7];var Z=1*q[3];if(1*Z<3){X.TextureType=Z,(J=new h.PlaneBufferGeometry(1,1,1,1)).scale(X.size[0],X.size[1],1),X.angle?(J.rotateZ((180-X.rotate)*(Math.PI/180)),J.rotateX(Math.PI)):(J.rotateX(-Math.PI/2),J.rotateZ((X.rotate-180)*(Math.PI/180))),J.translate(-D.sceneX-X.coord.x+X.offset.x,X.coord.y-D.sceneZ+X.offset.y,-(X.offset.z+X.height));var Q=new Array(J.attributes.position.count);Q.fill(0,0,J.attributes.position.count),J.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Q),1)),C?(y.push(X),x.push(J)):(d[G.oid]||(d[G.oid]=[]),g[G.oid]||(g[G.oid]=[]),d[G.oid].push(X),g[G.oid]=J)}else X.TextureType=Z,X.RS=G.RS,H.push(X)}if(H.length>0)if(C){var K=v+"_"+A+"_"+G.RoomStyle+"_"+G.RoomLogo+"_"+G.RoomLogoSize;r[K]||(r[K]=!0,b.push(H))}else f[G.oid]=H}if(G.RModel&&G.RModel.length>2&&"undefined"!=G.RModel){var $={brief:G.Brief,model:G.RModel,name:G.name,scale:G.scale,dataID:G.FC,mapId:G.bids,rotate:G.rotate,x:G.CenX,y:G.CenY,gid:G.gid,offset:G.offset,id:G.oid,bclick:G.bclick,rank:G.ShowLevel,top:G.top};if($.roomdata=G,G.RModel.indexOf("BIM-")>-1?($.fnum=v,_.push($)):w.push($),!I)continue}var tt=0;void 0===(tt=L?I?G.RoomStyle:this.tileStylesMap[G.RoomStyle]:C?G.texturekey?G.texturekey:G.RoomStyle:G.oid||0)&&(tt=0),i[tt]||(i[tt]={},s.extrudes[tt]=[],s.planes[tt]=[],s.tubes[tt]=[],l[tt]=[],i[tt].brothers=[],i[tt].groupIndex=0,i[tt].lineIndex=0,i[tt].planes=null,C&&(M[tt]={}));var et,it=!1,rt=!1;if(P<=.3&&[120005,40003,40004].indexOf(G.Typeid),L&&3===G.Typeid&&(it=!0),!G.RModel||2!=G.top&&3!=G.top)if(G.isTube?(rt=!0,et=O.createTubeGeo(G,D,P,1,it)):et=O.createGeometry_(G,D,P,1,it,I,L),et){var nt=et.geometry,at=et.pointsGeometry,ot=et.geometry.userData.groupInfo,st=i[tt],ut=s.extrudes[tt];it?(i[tt].planes||(i[tt].planes={brothers:[],groupIndex:0,lineIndex:0,geos:[]}),st=i[tt].planes,ut=s.planes[tt],i[tt].planes.geos.push(et)):rt&&(i[tt].tubes||(i[tt].tubes={brothers:[],groupIndex:0,geos:[]}),st=i[tt].tubes,ut=s.tubes[tt],i[tt].tubes.geos.push(et));var lt=C?st.groupIndex:0,ht={},ct=(0,o.default)({},G);if(I&&E&&(ht.data_=ct),ht.FloorNum=ct.floornum,ht.ID=ct.oid,ht.bid=T,ht.name=ct.name,ht.top=ct.top,ht.typeID=ct.Typeid,ht.nodeType=5,ht.isTube=ct.isTube,ht.RoomHigh=ct.RoomHigh,ht.RoomElevation=ct.RoomElevation||0,ht.dataID=ct.FC,ht.gid=ct.gid,ht.RoomLogo=ct.RoomLogo,ht.RoomStyle=ct.RoomStyle,ht.classID=ct.classID,ht.points=ct.originalPoints,ct.bids&&(ht.mapId=ct.bids),ht.ShowLevel=ct.ShowLevel||24,ht.TextureType=G.TextureType,ht.mapCoord={x:ct.CenX,y:ct.CenY},L&&(ht.Fnums=ct.fnums,ht.x=ct.x,ht.y=ct.y,ht.size=ct.AS),st.brothers.push(ht),ut.push(nt),B++,rt)st.groupIndex+=nt.index.count,ht.faceRange=[lt,st.groupIndex];else{if(l[tt].push(at),st.groupIndex+=it?nt.index.count:nt.attributes.position.count,C&&!it){for(var pt=0;pt<ot.length;pt++)ot[pt].start+=lt;M[tt][ht.ID]=ot}i[tt].lineIndex+=at.attributes.position.count,ht.faceRange=[lt,st.groupIndex]}}else s.extrudes[tt].push(null),B++,console.info("outline error id: ",G.oid),e.push(G.oid);else s.extrudes[tt].push(null),B++}}var dt=[],ft=[],mt=[],vt=[],gt=[],yt=[],xt=[],bt=[],wt=[],_t=[],Mt=[],St=[],At=[],Tt=[],Lt=[],Pt=new Float32Array,Ct=new Float32Array,Et=new Float32Array,It=new Uint16Array,Dt=[],Bt=[],Ot=new Float32Array,zt=[];if(C&&x.length>0){var Nt=c.BufferGeometryUtils.mergeBufferGeometries(x,!0);if(Nt){Pt=Nt.getAttribute("position").array,Ct=Nt.getAttribute("normal").array,Et=Nt.getAttribute("uv").array,Ot=Nt.getAttribute("isHideFlags").array,It=Nt.index.array;var Rt=Nt.groups;Bt=Rt.map((function(t){return(0,o.default)({},t)}));for(var Ft=[],Ut=0;Ut<y.length;Ut++)Bt[Ut].id=y[Ut].id,0!=Ft.length&&Ft[Ft.length-1]==y[Ut].RoomLogo||Ft.push(y[Ut].RoomLogo),y[Ut].hasOwnProperty("matindex")||(y[Ut].matindex=Rt[Ut].materialIndex),y[Ut+1]&&y[Ut].RoomLogo==y[Ut+1].RoomLogo&&(y[Ut+1].matindex=Rt[Ut].materialIndex,Rt[Ut+1].materialIndex=Rt[Ut].materialIndex);for(var kt=0;kt<Rt.length;kt++)Rt[kt+1]&&Rt[kt].materialIndex==Rt[kt+1].materialIndex&&(Rt[kt].count=Rt[kt].count+Rt[kt+1].count,Rt.splice(kt+1,1),kt--);Dt=Rt}}if(C){for(var Gt in s.extrudes)s.extrudes[Gt].forEach((function(t){if(t){dt.push(t.getAttribute("uv")),ft.push(t.getAttribute("position")),mt.push(t.getAttribute("normal")),Tt.push(t.getAttribute("normalizeUv")),vt.push(t.getAttribute("topFaceFlags")),St.push(t.getAttribute("isHideFlags")),gt.push(t.getAttribute("highLightFlags")),yt.push(t.getAttribute("buildingsHeight")),xt.push(t.getAttribute("randomFactor")),wt.push(t.getAttribute("highLightColor")),bt.push(t.getAttribute("buildingsColor")),At.push(t.getAttribute("isSelectFlags")),zt.push(t.getAttribute("rUv"));var e=t.getAttribute("topTexIndex"),i=t.getAttribute("sideTexIndex");e&&_t.push(e),i&&Mt.push(i)}})),l[Gt].forEach((function(t){Lt.push(t.getAttribute("position"))}));for(var Vt in s.tubes)if(s.tubes[Vt].length>0){var Wt;Wt=c.BufferGeometryUtils.mergeBufferGeometries(s.tubes[Vt]),i[Vt].tubeData=Wt}var Ht=new Float32Array,jt=new Float32Array,Xt=new Float32Array,qt=new Float32Array,Yt=new Float32Array,Jt=new Float32Array,Zt=new Float32Array,Qt=new Float32Array,Kt=new Float32Array,$t=new Float32Array,te=new Float32Array,ee=new Float32Array,ie=new Float32Array,re=new Float32Array,ne=new Float32Array,ae=new Float32Array;return 0!=(0,a.default)(s).length&&0!=dt.length&&(Ht=c.BufferGeometryUtils.mergeBufferAttributes(dt).array,Yt=c.BufferGeometryUtils.mergeBufferAttributes(Tt).array,jt=c.BufferGeometryUtils.mergeBufferAttributes(ft).array,Xt=c.BufferGeometryUtils.mergeBufferAttributes(mt).array,qt=c.BufferGeometryUtils.mergeBufferAttributes(Lt).array,Jt=c.BufferGeometryUtils.mergeBufferAttributes(zt).array,Zt=c.BufferGeometryUtils.mergeBufferAttributes(vt).array,ne=c.BufferGeometryUtils.mergeBufferAttributes(St).array,ae=c.BufferGeometryUtils.mergeBufferAttributes(At).array,Qt=c.BufferGeometryUtils.mergeBufferAttributes(gt).array,Kt=c.BufferGeometryUtils.mergeBufferAttributes(yt).array,$t=c.BufferGeometryUtils.mergeBufferAttributes(xt).array,te=c.BufferGeometryUtils.mergeBufferAttributes(bt).array,ee=c.BufferGeometryUtils.mergeBufferAttributes(wt).array,_t.length>0&&(ie=c.BufferGeometryUtils.mergeBufferAttributes(_t).array),Mt.length>0&&(re=c.BufferGeometryUtils.mergeBufferAttributes(Mt).array)),void O.worker.postMessage({lod:u,bid:T,isTile:L,id:p,types:i,fnum:t.fnum,pointGeometrys:qt,layerType:t.layerType,uvs:Ht,rUvs:Jt,normalizeUvs:Yt,isMerge:C,vertices:jt,highLightColorAttr:ee,buildingsColorAttr:te,topFaceFlags:Zt,isHideFlags:ne,isSelectFlags:ae,highLightFlags:Qt,buildingsHeight:Kt,buildingsRandomFactor:$t,topTexIndex:ie,sideTexIndex:re,bimModelData:_,showBase:E,normals:Xt,groups:M,modelTexturesData:b,modelImagesData:y,model3DData:w,modelImagePos:Pt,modelImageNor:Ct,modelImageUv:Et,modelImageGroups:Dt,modelImageIndex:It,modelImageHideFlags:Ot,modelImageGroupsCopy:Bt,errorIds:e},[Ht.buffer,Yt.buffer,jt.buffer,Xt.buffer,qt.buffer,Pt.buffer,Ct.buffer,Et.buffer,It.buffer,Zt.buffer,ne.buffer,Qt.buffer,Kt.buffer,$t.buffer,ee.buffer,te.buffer,ie.buffer,re.buffer,ae.buffer,Jt.buffer,Ot.buffer])}var oe=!1,se=!1,ue=function(r){se=!0,s.planes[r].forEach((function(n,a){var o=new Float32Array,s=new Float32Array,h=new Float32Array,c={},m=[],v=new Float32Array;n?(c[r]={brothers:[],groupIndex:i[r].groupIndex,lineIndex:i[r].lineIndex,planes:i[r].planes},o=n.getAttribute("uv").array,s=n.getAttribute("normal").array,h=n.getAttribute("position").array,v=l[r][0].getAttribute("position").array):c[r]=null;var y=d[r]||null;oe||(oe=!0,m=w);var x=new Float32Array,b=new Float32Array,S=new Float32Array,A=new Uint16Array,L=[];g[r]&&(x=g[r].getAttribute("position").array,b=g[r].getAttribute("normal").array,S=g[r].getAttribute("uv").array,A=g[r].index.array,L=g[r].groups),O.worker.postMessage({lod:u,bid:T,id:p,types:c,fnum:t.fnum,roomid:r,layerType:t.layerType,pointGeometrys:v,uvs:o,normals:s,isMerge:C,vertices:h,modelImagesData:y,modelTexturesData:f,groups:M,postcount:B,showBase:E,model3DData:m,bimModelData:_,modelImagePos:x,modelImageNor:b,modelImageUv:S,modelImageGroups:L,modelImageIndex:A,errorIds:e},[o.buffer,h.buffer,s.buffer,x.buffer,v.buffer,b.buffer,S.buffer,A.buffer]),B--}))};for(var le in s.planes)ue(le);for(var he in s.tubes)if(s.tubes[he].length>0){var ce=(0,n.default)({},he,i[he]);ce[he].tubeData=s.tubes[he][0],O.worker.postMessage({bid:T,id:p,types:ce,fnum:t.fnum,layerType:t.layerType,pointGeometrys:[],groups:{},roomid:he,model3DData:[],isMerge:C,modelImagesData:[],modelImagePos:[],modelTexturesData:[],postcount:B,showBase:E,errorIds:e}),B--}var pe=function(r){se=!0,s.extrudes[r].forEach((function(a,o){var s=new Float32Array,h=new Float32Array,c=new Float32Array,m=new Float32Array,v={},y=[],x=[],b=new Float32Array,M=(0,n.default)({},r,a?(0,n.default)({},r,a.userData.groupInfo):[]);a?(v[r]={brothers:[i[r].brothers[o]],groupIndex:i[r].groupIndex,lineIndex:i[r].lineIndex},s=a.getAttribute("uv").array,h=a.getAttribute("normal").array,c=a.getAttribute("normalizeUv").array,m=a.getAttribute("position").array,b=l[r][0].getAttribute("position").array):v[r]=null;var S=d[r]||null,A=f[r]||null;oe||(oe=!0,y=w,x=_);var L=new Float32Array,P=new Float32Array,I=new Float32Array,D=new Uint16Array,z=[];if(g[r]){var N=g[r];L=N.getAttribute("position").array,P=N.getAttribute("normal").array,I=N.getAttribute("uv").array,D=N.index.array,z=N.groups}O.worker.postMessage({bid:T,lod:u,id:p,types:v,fnum:t.fnum,layerType:t.layerType,pointGeometrys:b,uvs:s,normals:h,roomid:r,isMerge:C,vertices:m,modelImagesData:S,modelTexturesData:A,groups:M,postcount:B,normalizeUvs:c,showBase:E,model3DData:y,bimModelData:x,modelImagePos:L,modelImageNor:P,modelImageUv:I,modelImageGroups:z,modelImageIndex:D,errorIds:e},[s.buffer,m.buffer,h.buffer,L.buffer,c.buffer,b.buffer,P.buffer,I.buffer,D.buffer]),B--}))};for(var de in s.extrudes)pe(de);se||O.worker.postMessage({id:p,reset:!0})}},{key:"createFloors",value:function(t){var e={},i={},r={},n=t.layers,o=t.id,s=(t.layerType,t.floorHeight),u=t.bid,l={},h={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},p=this;if(!m){var d=t.maxX-t.minX;m=p.getRandomHeight(d)}for(var f=0;f<n.length;f++)for(var v=n[f].floorBases,g=v.length,y=0;y<g;y++){var x=v[y],b=p.createGeometry_(x,h,s,0,0),w=b.geometry,_=b.pointsGeometry,M=b.geometry.userData.groupInfo;e[0]||(e[0]={},i[0]=[],r[0]=[],e[0].brothers=[],e[0].faceIndex=0,l[0]=[]),l[0].push(M),i[0].push(w),r[0].push(_)}if(0!=(0,a.default)(i).length){var S=[],A=[],T=[],L=[],P=[];for(var C in i)i[C].forEach((function(t){S.push(t.getAttribute("uv")),A.push(t.getAttribute("position")),T.push(t.getAttribute("normal")),L.push(t.getAttribute("floorUvs"))})),r[C].forEach((function(t){P.push(t.getAttribute("position"))}));var E=c.BufferGeometryUtils.mergeBufferAttributes(S).array,I=c.BufferGeometryUtils.mergeBufferAttributes(A).array,D=c.BufferGeometryUtils.mergeBufferAttributes(T).array,B=c.BufferGeometryUtils.mergeBufferAttributes(P).array,O=c.BufferGeometryUtils.mergeBufferAttributes(L).array;p.worker.postMessage({bid:u,id:o,types:e,fnum:t.fnum,layerType:2,uvs:E,floorUvs:O,pointGeometrys:B,vertices:I,groups:l,normals:D},[E.buffer],[I.buffer],[D.buffer],[O.buffer],[r.buffer])}else p.worker.postMessage({id:o,reset:!0})}},{key:"getRandomHeight",value:function(t){var e=1,i=.01;return t<=50?(e=.1,i=.003):t<=100?(e=.2,i=.006):t<=200&&(e=.5,i=.008),(f+=.003)>=.03&&(f=0),i+f*e}},{key:"getDis",value:function(t,e){return Math.abs(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}},{key:"createTubeGeo",value:function(t,e,i,r,n){var a=t.points,o=e.sceneX,s=e.sceneZ,u=void 0;u=t.offset?t.offset.split(","):[0,0,0];for(var l={scale:t.RoomHigh,extrusionSegments:1,radiusSegments:10,closed:!1},c=[],p=0;p<a.length;p++){var d=a[p];c.push(new h.Vector3(d.x-o+1*u[0],d.z+1*u[1],d.y-s+1*u[2]))}var f=new h.CatmullRomCurve3(c,!1,"centripetal");return{geometry:new h.TubeBufferGeometry(f,l.extrusionSegments,l.scale,l.radiusSegments,l.closed)}}},{key:"createGeometry_",value:function(t,e,i,n,a,o,s){var u,l=this,c=e.sceneX,d=e.sceneZ,f=!1,v=!1,g=0;if(this.styleIndexMap&&s){var y=this.styleIndexMap;g=y[t.RoomStyle]?y[t.RoomStyle][1]:0}var x=o;a&&(i=0),t.normalizeTop&&x&&(f=!0),t.normalizeSide&&x&&(v=!0);var b=[];if(!(u=t.points[0]instanceof Array?t.points[0]:t.points))return null;if(u.length>=4){for(var w,_=new h.Shape,M=0;M<u.length;M++){var S=u[M];0==M?_.moveTo(S.x-c,S.y-d):_.lineTo(S.x-c,S.y-d),b.push(new h.Vector3(S.x-c,S.y-d,0),new h.Vector3(S.x-c,S.y-d,0))}if(t.holes&&t.holes.length>0)for(var A in t.holes){var T=t.holes[A],L=new h.Path;for(var M in T){S=T[M];0==M?L.moveTo(S.x-c,S.y-d):L.lineTo(S.x-c,S.y-d)}_.holes.push(L)}w=a?new h.ShapeBufferGeometry(_):new h.ExtrudeBufferGeometry(_,{depth:i,bevelEnabled:!1,material:0,extrudeMaterial:0});var P=e.minX,C=e.minY,E=e.maxX-P,I=e.maxY-C,D=w.getAttribute("uv"),B=w.getAttribute("normal").array,O=w.getAttribute("position").array,z=(0,p.getRUv)(_,{height:i,gridSize:{x:i,y:i}}),N=[];A=0;var R=D.array,F=(0,r.default)(R),U=(Math.max(E,I),D.count/3),k=e.floorCenX,G=e.floorCenZ,V=Math.abs(k)-Math.abs(e.sceneX),W=Math.abs(G)-Math.abs(e.sceneZ);if(n){if(!a){var H=function(t){var e={x:O[9*t],y:O[9*t+1]},i={x:O[9*t+3],y:O[9*t+4]},r={x:O[9*t+6],y:O[9*t+7]};return B[9*t+2]==B[9*t+5]?l.getDis(e,i):B[9*t+2]==B[9*t+8]?l.getDis(e,r):B[9*t+5]==B[9*t+8]?l.getDis(i,r):void 0};w.computeBoundingBox();var j=w.boundingBox.max,X=w.boundingBox.min,q=new h.Vector2(0-X.x,0-X.y),Y=new h.Vector2(j.x-X.x,j.y-X.y),J=Y.x/1,Z=Y.y/1,Q=1,K=1;for(f&&(Q=J,K=Z),U=w.groups[0].count/3;A<U;A++)R[6*A]=(O[9*A]+q.x)/Q,R[6*A+1]=(O[9*A+1]+q.y)/K,R[6*A+2]=(O[9*A+3]+q.x)/Q,R[6*A+3]=(O[9*A+4]+q.y)/K,R[6*A+4]=(O[9*A+6]+q.x)/Q,R[6*A+5]=(O[9*A+7]+q.y)/K,F[6*A]=(O[9*A]+q.x)/J,F[6*A+1]=(O[9*A+1]+q.y)/Z,F[6*A+2]=(O[9*A+3]+q.x)/J,F[6*A+3]=(O[9*A+4]+q.y)/Z,F[6*A+4]=(O[9*A+6]+q.x)/J,F[6*A+5]=(O[9*A+7]+q.y)/Z;for(var $=w.groups[1].count/6,tt=U/2,et=0;et<$;et++,tt++){var it=H(2*tt);it<1&&(it=1),v?(R[12*tt]=1,R[12*tt+1]=1,R[12*tt+2]=0,R[12*tt+3]=1,R[12*tt+4]=1,R[12*tt+5]=0,R[12*tt+6]=0,R[12*tt+7]=1,R[12*tt+8]=0,R[12*tt+9]=0,R[12*tt+10]=1,R[12*tt+11]=0):(R[12*tt]=it,R[12*tt+1]=i,R[12*tt+2]=0,R[12*tt+3]=i,R[12*tt+4]=it,R[12*tt+5]=0,R[12*tt+6]=0,R[12*tt+7]=i,R[12*tt+8]=0,R[12*tt+9]=0,R[12*tt+10]=it,R[12*tt+11]=0),F[12*tt]=1,F[12*tt+1]=1,F[12*tt+2]=0,F[12*tt+3]=1,F[12*tt+4]=1,F[12*tt+5]=0,F[12*tt+6]=0,F[12*tt+7]=1,F[12*tt+8]=0,F[12*tt+9]=0,F[12*tt+10]=1,F[12*tt+11]=0}}}else for(;A<U;A++)N[6*A]=(O[9*A]-P-k+V)/E,N[6*A+1]=(O[9*A+1]-C+G-W)/I,N[6*A+2]=(O[9*A+3]-P-k+V)/E,N[6*A+3]=(O[9*A+4]-C+G-W)/I,N[6*A+4]=(O[9*A+6]-P-k+V)/E,N[6*A+5]=(O[9*A+7]-C+G-W)/I;var rt=(new h.BufferGeometry).setFromPoints(b),nt=[],at=rt.getAttribute("position").array,ot=null;if(s&&this.styleIndexMap&&(ot=this.getStyleFromRoomStyle(t.RoomStyle)),n){var st={x:0,y:0,z:0};if(t.offset&&!t.RModel){var ut=t.offset.split(",");ut.length>=2&&(st.x+=parseFloat(ut[0]),st.y+=parseFloat(ut[2]),st.z+=parseFloat(ut[1])),t.RoomElevation=st.z+i}st.z+=i;var lt=w.getAttribute("position").count,ht=w.getAttribute("position").array,ct=st.z;if(a)for(var pt,dt=3*lt;pt<dt;pt+=3)ht[pt]-=ct;else{var ft=[],mt=[],vt=[],gt=[],yt=w.getAttribute("normal").array,xt=w.getAttribute("uv").array,bt=[];n&&(bt=F);for(var wt=[],_t=ht[2],Mt=ot?1*ot.height:0,St=0,At=0;At<lt;At++)ht[3*At+2]==_t||0!=St&&At>St?(mt.push(ht[3*At],ht[3*At+1],ht[3*At+2]-ct-Mt),ft.push(yt[3*At],yt[3*At+1],yt[3*At+2]),vt.push(xt[2*At],xt[2*At+1]),wt.push(z[2*At],z[2*At+1]),n&&gt.push(bt[2*At],bt[2*At+1])):0==St&&(St=2*At);w.addAttribute("position",new h.BufferAttribute(new Float32Array(mt),3)),w.addAttribute("normal",new h.BufferAttribute(new Float32Array(ft),3)),w.addAttribute("uv",new h.BufferAttribute(new Float32Array(vt),2)),w.addAttribute("normalizeUv",new h.BufferAttribute(new Float32Array(gt),2)),w.addAttribute("rUv",new h.BufferAttribute(new Float32Array(wt),2)),w.groups[0].count-=St/2,w.groups[1].start-=St/2}st.z-=.002;for(var Tt=m,Lt=at.length,Pt=0;Pt<=Lt-3;Pt+=3){at[Pt];at[Pt]+=parseFloat(st.x),at[Pt+1]+=parseFloat(st.y),at[Pt+2]-=parseFloat(st.z),0==Pt||Pt==Lt-3?nt.push(at[Pt],at[Pt+1],at[Pt+2]):nt.push(at[Pt],at[Pt+1],at[Pt+2]-Tt,at[Pt],at[Pt+1],at[Pt+2]-Tt)}}else w.addAttribute("floorUvs",new h.BufferAttribute(new Float32Array(N),2));nt=new Float32Array(nt);var Ct=rt.getAttribute("position");Ct.setArray(nt),Ct.needsUpdate=!0;var Et=w.groups;a&&(Et=[{start:0,count:w.index.count,materialIndex:0},{start:0,count:w.index.count,materialIndex:0}]),w.userData.groupInfo=Et,w.clearGroups(),w.addGroup(Et[0].start,Et[1].start+Et[1].count,0);var It=a?w.index.count:w.attributes.position.count,Dt=new Array(It);a?Dt.fill(1,0,Et[0].count):(Dt.fill(1,Et[0].start,Et[1].start),Dt.fill(0,Et[1].start,Et[1].start+Et[1].count)),w.addAttribute("topFaceFlags",new h.BufferAttribute(new Float32Array(Dt),1));var Bt=new Array(It);Bt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("highLightFlags",new h.BufferAttribute(new Float32Array(Bt),1));var Ot=new Array(It);Ot.fill(i,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("buildingsHeight",new h.BufferAttribute(new Float32Array(Ot),1));var zt=new Array(It);zt.fill(h.Math.randFloat(0,1),Et[0].start,Et[1].start+Et[1].count),w.addAttribute("randomFactor",new h.BufferAttribute(new Float32Array(zt),1));var Nt=new Array(It);Nt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Nt),1));var Rt=new Array(It);Rt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("isSelectFlags",new h.BufferAttribute(new Float32Array(Rt),1));var Ft=[],Ut=[],kt=void 0,Gt=void 0;if(kt=new Array(It),Gt=new Array(It),ot&&ot.filltype&&1*ot.filltype==1&&ot.color)for(var Vt=ot.color.split(","),Wt=0;Wt<It;Wt++)Ft.push(1*Vt[0]/255,1*Vt[1]/255,1*Vt[2]/255,1*ot.opacity),Ut.push(1,1,1,1);else if(ot&&ot.filltype&&1*ot.filltype==2&&(ot.topimage||ot.sideimage)){for(var Ht=0;Ht<It;Ht++)Ft.push(1,1,1,1*ot.opacity),Ut.push(1,1,1,1);ot.topimage&&kt.fill(g,0,Et[1].start+Et[1].count),ot.sideimage&&Gt.fill(g,0,Et[1].start+Et[1].count)}return w.addAttribute("buildingsColor",new h.BufferAttribute(new Float32Array(Ft),4)),w.addAttribute("highLightColor",new h.BufferAttribute(new Float32Array(Ut),4)),w.addAttribute("topTexIndex",new h.BufferAttribute(new Float32Array(kt),1)),w.addAttribute("sideTexIndex",new h.BufferAttribute(new Float32Array(Gt),1)),{geometry:w,pointsGeometry:rt,model:t}}return null}}]),t}();e.default=v},222:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRUv=void 0;var r=i(46);function n(t,e,i){var n=i.x,a=i.y,o=0;return{generateTopUV:function(e,i,n,a,o){var s=[new r.Vector2(0,0),new r.Vector2(0,0),new r.Vector2(0,0)];return t.topUv.push(s[0].x,s[0].y,s[1].x,s[1].y,s[2].x,s[2].y),s},generateSideWallUV:function(i,s,u,l,h,c){var p,d,f=s[3*u],m=s[3*u+1],v=s[3*u+2],g=s[3*l],y=s[3*l+1],x=s[3*l+2],b=new r.Vector3(f,m,v),w=new r.Vector3(g,y,x),_=b.distanceTo(w);return p=t.sideUv,d=[new r.Vector2(o,0),new r.Vector2(o+_/n,0),new r.Vector2(o+_/n,e/a),new r.Vector2(o,e/a)],p.push(d[0].x,d[0].y,d[1].x,d[1].y,d[3].x,d[3].y),p.push(d[1].x,d[1].y,d[2].x,d[2].y,d[3].x,d[3].y),o+=_/n,t.sideUv}}}e.getRUv=function(t,e){var i={topUv:[],sideUv:[]};return new r.ExtrudeBufferGeometry(t,{depth:e.height,material:0,extrudeMaterial:0,bevelEnabled:!1,UVGenerator:n(i,e.height,e.gridSize)}).dispose(),i.topUv.concat(i.sideUv)}},223:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(15)),n=d(i(7)),a=d(i(8)),o=d(i(13)),s=d(i(0)),u=d(i(1)),l=d(i(233)),h=d(i(234)),c=i(46),p=i(31);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,s.default)(this,t),this.worker=e,this.opts={mapDataSrc:"",mapid:""},this.threeCenter=null,this.bimDatas={},this.sceneX=0,this.sceneZ=0,this.sourceData={},this.queue=null,this.mapCenter=null,this.collections={},this.db=null,this.needsUpdate=!0,this.devMode=!1,this.mergeMode=!0,this.bimInfo=null,this.buffers=[],this.useIDB=!0,this.ajaxPrefix=e.location.href}var e,i,d,f,m,v;return(0,u.default)(t,[{key:"getBimDatasFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimDatas").objectStore("bimDatas"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"startInfo",value:(v=(0,a.default)(n.default.mark((function t(e){var i,r,a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(this.url=e.url,r=e.useCache,this.queue=e.datas,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!r||!i){t.next=23;break}return t.next=19,this.getBimInfoFromDB(e.mapid);case 19:(a=t.sent)?(this.bimInfo=a,this.postBimInfo()):this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null}),t.next=24;break;case 23:this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null});case 24:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"start",value:(m=(0,a.default)(n.default.mark((function t(e){var i,a,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(a=e.useCache,this.queue=e.datas,this.url=e.url,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!a||!i){t.next=24;break}return t.next=19,this.IDBQueryData("bimDatas",{page:e.controlIndex,bids:e.mapid});case 19:o=t.sent,(0,r.default)(o).length>0?(this.bimDatas=o,this.threeCenter=o.threeCenter,this.mapCenter=o.mapCenter,this.handleFromCache(this.controlIndex,e.mapid)):(this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex})),t.next=26;break;case 24:this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex});case 26:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"onSourceLoaded",value:function(){var t=this.queue,e={},i=this.mergeMode;for(var r in t)if(this.bimDatas[r]){e[r]={};var n=t[r];if(i)for(var a in n){e[r][a]=[];var o=n[a],s=this.mergeQueue(o,r);e[r][a].push(s)}else for(var u in n){e[r][u]=[];var l=n[u];for(var h in l){var c=[l[h]],p=this.mergeQueue(c,r);e[r][u].push(p)}}t[r]={}}this.worker.postMessage({message:"bimMerged",useCache:!this.needsUpdate,data:e,id:this.workerId,center:this.threeCenter,bimCenter:this.mapCenter,bids:this.opts.mapid},this.buffers),this.bimDatas=null,this.sourceData=null}},{key:"getTransformMatrix",value:function(t,e,i){var r=new c.Euler(e.x,e.y,e.z,"XYZ"),n=(new c.Quaternion).setFromEuler(r),a=new c.Vector3(t.x,t.y,t.z),o=new c.Vector3(i.x,i.y,i.z);return(new c.Matrix4).compose(a,n,o)}},{key:"coordMapToThree",value:function(t){return new c.Vector3(-(t.x+this.sceneX),0,t.y-this.sceneZ)}},{key:"coordThreeToMap",value:function(t){return{x:-(t.x+this.sceneX),y:t.z+this.sceneZ}}},{key:"mergeQueue",value:function(t,e){var i=this.bimDatas[e];if(!i)return null;for(var r={},n=[],a=0;a<t.length;a++){var o=t[a];o.isBim=!0;var s=o.offset.split(","),u=o.center,l=this.coordMapToThree(u),h=new c.Vector3(l.x+1*s[0],0+1*s[1],l.z+1*s[2]);o.scale={x:o.scale.x,y:o.scale.y,z:o.scale.z};var d=new c.Vector3(o.scale.x,o.scale.y,o.scale.z),f=new c.Vector3(0,0,0);if(o.rotate){var m=o.rotate.split(",");f.x=c.Math.degToRad(1*m[0]),f.y=c.Math.degToRad(1*m[1]),f.z=c.Math.degToRad(1*m[2])}var v=this.getTransformMatrix({x:h.x,y:h.y,z:h.z},{x:f.x,y:f.y,z:f.z},{x:d.x,y:d.y,z:d.z});for(var g in i){r[g]||(r[g]={geometries:[],groupInfo:[],groupIndex:0});var y=i[g],x=new c.BufferGeometry;x.setIndex(new c.BufferAttribute(y.indexes,1)),x.addAttribute("position",new c.BufferAttribute(y.positions,3)),x.addAttribute("uv",new c.BufferAttribute(y.uvs,2)),(x=x.clone()).applyMatrix(v),r[g].geometries.push(x),r[g].groupInfo.push({style:g,id:o.id,start:r[g].groupIndex,count:x.index.count,materialIndex:0}),r[g].groupIndex+=x.index.count}}for(var b in r){var w=p.BufferGeometryUtils.mergeBufferGeometries(r[b].geometries);n.push({style:b,groupInfo:r[b].groupInfo,position:w.attributes.position.array,uv:w.attributes.uv.array,index:w.index.array,mapCoord:r[b].mapCoord}),this.buffers.push(w.attributes.position.array.buffer,w.attributes.uv.array.buffer,w.index.array.buffer)}return n}},{key:"getHeadTime",value:function(t){var e=t.controlIndex,i=this.opts.mapDataSrc,r=this.opts.mapid,n=""+i+r+"/"+r+"-bim"+e+".bin";return n.indexOf("http")<0&&(n=this.ajaxPrefix+"/"+n),new o.default((function(t,e){l.default.get({type:"HEAD",url:n,isArrayBuffer:!0,useCacheSince:null}).success((function(e,i){var r=i.getResponseHeader("Last-Modified"),n=Date.parse(r);t(n)})).error((function(){e(null)}))}))}},{key:"getBimInfoFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimInfos").objectStore("bimInfos"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"postBimInfo",value:(f=(0,a.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.worker.postMessage({message:"bimInfos",data:this.bimInfo,id:this.workerId});case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"loadBimInfo",value:(d=(0,a.default)(n.default.mark((function t(){var e,i,r;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(e=this).useIDB,r=this.url,l.default.get({url:r,isArrayBuffer:!0,useCacheSince:null}).success((function(t,r){var n=r.getResponseHeader("Last-Modified"),a=Date.parse(n),o=new Uint8Array(t),s=h.default.ESBim.ESBimInfoSet.decode(o);s.lastModified=a,i&&e.IDBAddItem("bimInfos",s),e.bimInfo=s,e.postBimInfo()})).error((function(t,i){e.clearCache()}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"loadBimDatas",value:(i=(0,a.default)(n.default.mark((function t(e){var i,r,o,s=e.controlIndex;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this).opts.mapDataSrc,r=i.opts.mapid,o=this.url,l.default.get({url:o,isArrayBuffer:!0,useCacheSince:null}).success(function(){var t=(0,a.default)(n.default.mark((function t(e,a){var u,l,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.needsUpdate=!0,u=new Uint8Array(e),t.prev=3,l=h.default.ESBim.ESBimGeoSet.decode(u),i.needsUpdate&&(this.devMode,i.needsUpdate=!0,c={x:l.x,y:l.y},i.coordMapToThree({x:c.x,y:c.y}),i.sourceData=l,i.convertSources(s),i.onSourceLoaded(s)),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(3),console.info(r,'Error on reading "'+o+'"',"please confirm your file path"),console.info(r,t.t0),t.abrupt("return");case 13:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,i){return t.apply(this,arguments)}}()).error((function(t,e){i.clearCache()}));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"handleFromCache",value:(e=(0,a.default)(n.default.mark((function t(e,i){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parseQueue();case 1:case"end":return t.stop()}}),t,this)}))),function(t,i){return e.apply(this,arguments)})},{key:"parseQueue",value:function(){this.onSourceLoaded()}},{key:"convertSources",value:function(t){var e=this,i=e.sourceData,r=e.opts.mapid,n=e.queue,a=e.needsUpdate,o=e.useIDB;for(var s in this.threeCenter=this.coordMapToThree({x:i.x,y:i.y}),this.mapCenter={x:i.x,y:i.y},i.Ones){var u="BIM-"+s;if(n[u]){var l=i.Ones[s],h=l.pts,c=l.uv,p=l.fs,d={};if(0!=p.length){for(var f=0;f<p.length;f++){var m=p[f],v=m.idx,g=m.uv,y=m.vtx,x=m.c;d[x]||(d[x]={positions:[],uvs:[],indexes:[],offset:0});for(var b=0;b<y.length;b++)d[x].positions.push(h[y[b]]);for(var w=0;w<g.length;w++)d[x].uvs.push(c[g[w]]);for(var _=0;_<v.length;_++){var M=v[_];d[x].indexes.push(M+d[x].offset)}d[x].offset+=y.length/3}var S={};for(var A in d){var T=d[A];S[A]={indexes:new Uint16Array(T.indexes),positions:new Float32Array(T.positions),uvs:new Float32Array(T.uvs)}}if(this.bimDatas[u]=S,a&&o){var L=r+"-"+s;e.IDBAddItem("bimDatas",{id:L,bids:r,bimId:s,page:t,datas:S,mapCenter:this.mapCenter,threeCenter:this.threeCenter})}}}}}},{key:"IDBTryInit",value:function(t){var e=this;return new o.default((function(i){var r=e.worker.indexedDB.open(t.db);r.onsuccess=function(){var t=r.result;e.db=t,e.devMode,i()},r.onerror=function(){r.errorCode}}))}},{key:"IDBAddItem",value:function(t,e){var i=this.db,r=this,n=i.transaction([t],"readwrite").objectStore(t).add(e);n.onsuccess=function(t){r.devMode},n.onerror=function(t){r.devMode}}},{key:"clearCache",value:function(){if(this.useIDB){var t=this.db,e=this.opts.mapid;t.transaction("bimDatas","readwrite").objectStore("bimDatas").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimInfos","readwrite").objectStore("bimInfos").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimSets","readwrite").objectStore("bimSets").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())}}}},{key:"IDBQueryData",value:function(t,e){var i=this,r=this;return new o.default((function(n){var a=i.db.transaction([t],"readonly").objectStore(t),o=a.index("myIndex").openCursor(IDBKeyRange.only([e.bids,e.page])),s={};o.onsuccess=function(t){var e=t.target.result;if(e){var i=e.value,r="BIM-"+i.bimId;s.mapCenter||(s.mapCenter=i.mapCenter,s.threeCenter=i.threeCenter),s[r]=i.datas,e.continue()}else n(s)},o.onerror=function(){};var u=a.count();u.onsuccess=function(){u.result;r.devMode}}))}}]),t}();e.default=f},233:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=i(4);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){(0,r.default)(this,t),this.url=e.url;var i=this.url,n=e.data;this.type=e.type||(n?"POST":"GET");var o=this.type,s=null==e.async||e.async;if(this.isArrayBuffer=e.isArrayBuffer||!1,this._isComplete=!1,this._status,this._responseData,this._httpStatus,this._completeCallbacks=new a.Callbacks,this._successCallbacks=new a.Callbacks,this._errorCallbacks=new a.Callbacks,this._since=e.useCacheSince||null,this._httpServer,this._initHttpServer(),this._httpServer.open(o,i,s),this._since){var u=new Date(this._since).toGMTString();this._httpServer.setRequestHeader("If-Modified-Since",u)}this._httpServer.onreadystatechange=this._httpStateChange.bind(this),"GET"==o&&this.isArrayBuffer&&(this._httpServer.responseType="arraybuffer",this._httpServer.custom&&(this._httpServer.custom.xhr.responseType="arraybuffer")),"POST"===o&&(this._httpServer.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._httpServer.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this._httpServer.setRequestHeader("Connection","close"));try{this._httpServer.send(n)}catch(t){this._errorCallback()}}return(0,n.default)(t,[{key:"complete",value:function(t){return this._completeCallbacks.add(t),this._isComplete&&this._completeCallbacks.fire(this._responseData,this._status),this}},{key:"success",value:function(t){return this._successCallbacks.add(t),this._isComplete&&"success"===this._status&&this._successCallbacks.fire(this._responseData),this}},{key:"error",value:function(t){return this._errorCallbacks.add(t),this._isComplete&&"error"===this._status&&this._errorCallbacks.fire(this._responseData),this}}],[{key:"get",value:function(e){return new t(e)}},{key:"getJSON",value:function(e){return new t({url:e.url,async:e.async}).success((function(t){var e;try{e=JSON.parse(t)}catch(t){}return[e]}))}},{key:"post",value:function(e,i){return new t({url:e,data:i})}}]),(0,n.default)(t,[{key:"_initHttpServer",value:function(){XMLHttpRequest&&(this._httpServer=new XMLHttpRequest)}},{key:"_httpStateChange",value:function(){4===this._httpServer.readyState&&(this._isComplete=!0,this.judgeStatus())}},{key:"_successCallback",value:function(){this._completeCallbacks.fire(this._responseData,this._status),this._successCallbacks.fire(this._responseData,this._httpServer)}},{key:"judgeStatus",value:function(){200==this._httpServer.status?(this._status="success","GET"==this.type&&(this.isArrayBuffer||this.url.indexOf(".loc")>0)?this._responseData=this._httpServer.response:this._responseData=this._httpServer.responseText,this._successCallback()):(this._status="error",this._responseData=this._httpServer.response,this._httpStatus=this._httpServer.status,this._errorCallback())}},{key:"_errorCallback",value:function(){this._httpStatus,this._completeCallbacks.fire(this._responseData,this._status),this._errorCallbacks.fire(this._responseData,this._httpStatus)}}]),t}();e.default=s},234:function(t,e,i){"use strict";var r=a(i(12)),n=a(i(15));function a(t){return t&&t.__esModule?t:{default:t}}var o,s=i(72),u=s.Reader,l=s.Writer,h=s.util,c=s.roots.default||(s.roots.default={});c.ESBim=((o={}).ESBimGeoSet=function(){function t(t){if(this.Ones={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.pageno=0,t.prototype.pages=0,t.prototype.x=0,t.prototype.y=0,t.prototype.z=0,t.prototype.Ones=h.emptyObject,t.prototype.t1="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&e.uint32(40).int32(t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&e.uint32(48).int32(t.pages),null!=t.x&&t.hasOwnProperty("x")&&e.uint32(57).double(t.x),null!=t.y&&t.hasOwnProperty("y")&&e.uint32(65).double(t.y),null!=t.z&&t.hasOwnProperty("z")&&e.uint32(73).double(t.z),null!=t.Ones&&t.hasOwnProperty("Ones"))for(var i=(0,n.default)(t.Ones),r=0;r<i.length;++r)e.uint32(82).fork().uint32(10).string(i[r]),c.ESBim.OneGeoSet.encode(t.Ones[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(90).string(t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimGeoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.pageno=t.int32();break;case 6:n.pages=t.int32();break;case 7:n.x=t.double();break;case 8:n.y=t.double();break;case 9:n.z=t.double();break;case 10:t.skip().pos++,n.Ones===h.emptyObject&&(n.Ones={}),i=t.string(),t.pos++,n.Ones[i]=c.ESBim.OneGeoSet.decode(t,t.uint32());break;case 11:n.t1=t.string();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.pageno&&t.hasOwnProperty("pageno")&&!h.isInteger(t.pageno))return"pageno: integer expected";if(null!=t.pages&&t.hasOwnProperty("pages")&&!h.isInteger(t.pages))return"pages: integer expected";if(null!=t.x&&t.hasOwnProperty("x")&&"number"!=typeof t.x)return"x: number expected";if(null!=t.y&&t.hasOwnProperty("y")&&"number"!=typeof t.y)return"y: number expected";if(null!=t.z&&t.hasOwnProperty("z")&&"number"!=typeof t.z)return"z: number expected";if(null!=t.Ones&&t.hasOwnProperty("Ones")){if(!h.isObject(t.Ones))return"Ones: object expected";for(var e=(0,n.default)(t.Ones),i=0;i<e.length;++i){var a=c.ESBim.OneGeoSet.verify(t.Ones[e[i]]);if(a)return"Ones."+a}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimGeoSet)return t;var e=new c.ESBim.ESBimGeoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),null!=t.pageno&&(e.pageno=0|t.pageno),null!=t.pages&&(e.pages=0|t.pages),null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.z&&(e.z=Number(t.z)),t.Ones){if("object"!==(0,r.default)(t.Ones))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones={};for(var i=(0,n.default)(t.Ones),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.Ones[i[a]]))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones[i[a]]=c.ESBim.OneGeoSet.fromObject(t.Ones[i[a]])}}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.Ones={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.pageno=0,r.pages=0,r.x=0,r.y=0,r.z=0,r.t1="",r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&(r.pageno=t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&(r.pages=t.pages),null!=t.x&&t.hasOwnProperty("x")&&(r.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(r.y=t.y),null!=t.z&&t.hasOwnProperty("z")&&(r.z=t.z),t.Ones&&(i=(0,n.default)(t.Ones)).length){r.Ones={};for(var a=0;a<i.length;++a)r.Ones[i[a]]=c.ESBim.OneGeoSet.toObject(t.Ones[i[a]],e)}return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneGeoSet=function(){function t(t){if(this.pts=[],this.uv=[],this.fs=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.ps=0,t.prototype.pts=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.fs=h.emptyArray,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.ps&&t.hasOwnProperty("ps")&&e.uint32(8).int32(t.ps),null!=t.pts&&t.pts.length){e.uint32(18).fork();for(var i=0;i<t.pts.length;++i)e.double(t.pts[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(26).fork(),i=0;i<t.uv.length;++i)e.double(t.uv[i]);e.ldelim()}if(null!=t.fs&&t.fs.length)for(i=0;i<t.fs.length;++i)c.ESBim.FaceSet.encode(t.fs[i],e.uint32(34).fork()).ldelim();return null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(40).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(50).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.OneGeoSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.ps=t.int32();break;case 2:if(r.pts&&r.pts.length||(r.pts=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.pts.push(t.double());else r.pts.push(t.double());break;case 3:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.double());else r.uv.push(t.double());break;case 4:r.fs&&r.fs.length||(r.fs=[]),r.fs.push(c.ESBim.FaceSet.decode(t,t.uint32()));break;case 5:r.o1=t.int32();break;case 6:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.ps&&t.hasOwnProperty("ps")&&!h.isInteger(t.ps))return"ps: integer expected";if(null!=t.pts&&t.hasOwnProperty("pts")){if(!Array.isArray(t.pts))return"pts: array expected";for(var e=0;e<t.pts.length;++e)if("number"!=typeof t.pts[e])return"pts: number[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if("number"!=typeof t.uv[e])return"uv: number[] expected"}if(null!=t.fs&&t.hasOwnProperty("fs")){if(!Array.isArray(t.fs))return"fs: array expected";for(e=0;e<t.fs.length;++e){var i=c.ESBim.FaceSet.verify(t.fs[e]);if(i)return"fs."+i}}return null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneGeoSet)return t;var e=new c.ESBim.OneGeoSet;if(null!=t.ps&&(e.ps=0|t.ps),t.pts){if(!Array.isArray(t.pts))throw TypeError(".ESBim.OneGeoSet.pts: array expected");e.pts=[];for(var i=0;i<t.pts.length;++i)e.pts[i]=Number(t.pts[i])}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.OneGeoSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=Number(t.uv[i])}if(t.fs){if(!Array.isArray(t.fs))throw TypeError(".ESBim.OneGeoSet.fs: array expected");for(e.fs=[],i=0;i<t.fs.length;++i){if("object"!==(0,r.default)(t.fs[i]))throw TypeError(".ESBim.OneGeoSet.fs: object expected");e.fs[i]=c.ESBim.FaceSet.fromObject(t.fs[i])}}return null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.pts=[],i.uv=[],i.fs=[]),e.defaults&&(i.ps=0,i.o1=0,i.o2=""),null!=t.ps&&t.hasOwnProperty("ps")&&(i.ps=t.ps),t.pts&&t.pts.length){i.pts=[];for(var r=0;r<t.pts.length;++r)i.pts[r]=t.pts[r]}if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];if(t.fs&&t.fs.length)for(i.fs=[],r=0;r<t.fs.length;++r)i.fs[r]=c.ESBim.FaceSet.toObject(t.fs[r],e);return null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.FaceSet=function(){function t(t){if(this.vtx=[],this.idx=[],this.uv=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.c=0,t.prototype.vtx=h.emptyArray,t.prototype.idx=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.t=0,t.prototype.n="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.c&&t.hasOwnProperty("c")&&e.uint32(8).int32(t.c),null!=t.vtx&&t.vtx.length){e.uint32(18).fork();for(var i=0;i<t.vtx.length;++i)e.int32(t.vtx[i]);e.ldelim()}if(null!=t.idx&&t.idx.length){for(e.uint32(26).fork(),i=0;i<t.idx.length;++i)e.int32(t.idx[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(34).fork(),i=0;i<t.uv.length;++i)e.int32(t.uv[i]);e.ldelim()}return null!=t.t&&t.hasOwnProperty("t")&&e.uint32(40).int32(t.t),null!=t.n&&t.hasOwnProperty("n")&&e.uint32(50).string(t.n),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(56).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(66).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.FaceSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.c=t.int32();break;case 2:if(r.vtx&&r.vtx.length||(r.vtx=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.vtx.push(t.int32());else r.vtx.push(t.int32());break;case 3:if(r.idx&&r.idx.length||(r.idx=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.idx.push(t.int32());else r.idx.push(t.int32());break;case 4:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.int32());else r.uv.push(t.int32());break;case 5:r.t=t.int32();break;case 6:r.n=t.string();break;case 7:r.o1=t.int32();break;case 8:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.c&&t.hasOwnProperty("c")&&!h.isInteger(t.c))return"c: integer expected";if(null!=t.vtx&&t.hasOwnProperty("vtx")){if(!Array.isArray(t.vtx))return"vtx: array expected";for(var e=0;e<t.vtx.length;++e)if(!h.isInteger(t.vtx[e]))return"vtx: integer[] expected"}if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(e=0;e<t.idx.length;++e)if(!h.isInteger(t.idx[e]))return"idx: integer[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if(!h.isInteger(t.uv[e]))return"uv: integer[] expected"}return null!=t.t&&t.hasOwnProperty("t")&&!h.isInteger(t.t)?"t: integer expected":null!=t.n&&t.hasOwnProperty("n")&&!h.isString(t.n)?"n: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.FaceSet)return t;var e=new c.ESBim.FaceSet;if(null!=t.c&&(e.c=0|t.c),t.vtx){if(!Array.isArray(t.vtx))throw TypeError(".ESBim.FaceSet.vtx: array expected");e.vtx=[];for(var i=0;i<t.vtx.length;++i)e.vtx[i]=0|t.vtx[i]}if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.FaceSet.idx: array expected");for(e.idx=[],i=0;i<t.idx.length;++i)e.idx[i]=0|t.idx[i]}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.FaceSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=0|t.uv[i]}return null!=t.t&&(e.t=0|t.t),null!=t.n&&(e.n=String(t.n)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.vtx=[],i.idx=[],i.uv=[]),e.defaults&&(i.c=0,i.t=0,i.n="",i.o1=0,i.o2=""),null!=t.c&&t.hasOwnProperty("c")&&(i.c=t.c),t.vtx&&t.vtx.length){i.vtx=[];for(var r=0;r<t.vtx.length;++r)i.vtx[r]=t.vtx[r]}if(t.idx&&t.idx.length)for(i.idx=[],r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r];if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];return null!=t.t&&t.hasOwnProperty("t")&&(i.t=t.t),null!=t.n&&t.hasOwnProperty("n")&&(i.n=t.n),null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.ESBimInfoSet=function(){function t(t){if(this.nlist=[],this.infos={},this.cates={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.nlist=h.emptyArray,t.prototype.infos=h.emptyObject,t.prototype.cates=h.emptyObject,t.prototype.t1="",t.prototype.cnt=0,t.prototype.pts=0,t.prototype.vects=0,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.nlist&&t.nlist.length)for(var i=0;i<t.nlist.length;++i)e.uint32(42).string(t.nlist[i]);if(null!=t.infos&&t.hasOwnProperty("infos")){var r=(0,n.default)(t.infos);for(i=0;i<r.length;++i)e.uint32(50).fork().uint32(8).int32(r[i]),c.ESBim.OneInfoSet.encode(t.infos[r[i]],e.uint32(18).fork()).ldelim().ldelim()}if(null!=t.cates&&t.hasOwnProperty("cates"))for(r=(0,n.default)(t.cates),i=0;i<r.length;++i)e.uint32(58).fork().uint32(8).int32(r[i]).uint32(18).string(t.cates[r[i]]).ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(66).string(t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&e.uint32(72).int32(t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&e.uint32(80).int32(t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&e.uint32(88).int32(t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.nlist&&n.nlist.length||(n.nlist=[]),n.nlist.push(t.string());break;case 6:t.skip().pos++,n.infos===h.emptyObject&&(n.infos={}),i=t.int32(),t.pos++,n.infos[i]=c.ESBim.OneInfoSet.decode(t,t.uint32());break;case 7:t.skip().pos++,n.cates===h.emptyObject&&(n.cates={}),i=t.int32(),t.pos++,n.cates[i]=t.string();break;case 8:n.t1=t.string();break;case 9:n.cnt=t.int32();break;case 10:n.pts=t.int32();break;case 11:n.vects=t.int32();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.nlist&&t.hasOwnProperty("nlist")){if(!Array.isArray(t.nlist))return"nlist: array expected";for(var e=0;e<t.nlist.length;++e)if(!h.isString(t.nlist[e]))return"nlist: string[] expected"}if(null!=t.infos&&t.hasOwnProperty("infos")){if(!h.isObject(t.infos))return"infos: object expected";var i=(0,n.default)(t.infos);for(e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"infos: integer key{k:int32} expected";var a=c.ESBim.OneInfoSet.verify(t.infos[i[e]]);if(a)return"infos."+a}}if(null!=t.cates&&t.hasOwnProperty("cates")){if(!h.isObject(t.cates))return"cates: object expected";for(i=(0,n.default)(t.cates),e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"cates: integer key{k:int32} expected";if(!h.isString(t.cates[i[e]]))return"cates: string{k:int32} expected"}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.cnt&&t.hasOwnProperty("cnt")&&!h.isInteger(t.cnt)?"cnt: integer expected":null!=t.pts&&t.hasOwnProperty("pts")&&!h.isInteger(t.pts)?"pts: integer expected":null!=t.vects&&t.hasOwnProperty("vects")&&!h.isInteger(t.vects)?"vects: integer expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimInfoSet)return t;var e=new c.ESBim.ESBimInfoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),t.nlist){if(!Array.isArray(t.nlist))throw TypeError(".ESBim.ESBimInfoSet.nlist: array expected");e.nlist=[];for(var i=0;i<t.nlist.length;++i)e.nlist[i]=String(t.nlist[i])}if(t.infos){if("object"!==(0,r.default)(t.infos))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos={};var a=(0,n.default)(t.infos);for(i=0;i<a.length;++i){if("object"!==(0,r.default)(t.infos[a[i]]))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos[a[i]]=c.ESBim.OneInfoSet.fromObject(t.infos[a[i]])}}if(t.cates){if("object"!==(0,r.default)(t.cates))throw TypeError(".ESBim.ESBimInfoSet.cates: object expected");for(e.cates={},a=(0,n.default)(t.cates),i=0;i<a.length;++i)e.cates[a[i]]=String(t.cates[a[i]])}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.cnt&&(e.cnt=0|t.cnt),null!=t.pts&&(e.pts=0|t.pts),null!=t.vects&&(e.vects=0|t.vects),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.arrays||e.defaults)&&(r.nlist=[]),(e.objects||e.defaults)&&(r.infos={},r.cates={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.t1="",r.cnt=0,r.pts=0,r.vects=0,r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),t.nlist&&t.nlist.length){r.nlist=[];for(var a=0;a<t.nlist.length;++a)r.nlist[a]=t.nlist[a]}if(t.infos&&(i=(0,n.default)(t.infos)).length)for(r.infos={},a=0;a<i.length;++a)r.infos[i[a]]=c.ESBim.OneInfoSet.toObject(t.infos[i[a]],e);if(t.cates&&(i=(0,n.default)(t.cates)).length)for(r.cates={},a=0;a<i.length;++a)r.cates[i[a]]=t.cates[i[a]];return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&(r.cnt=t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&(r.pts=t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&(r.vects=t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneInfoSet=function(){function t(t){if(this.info={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.id=0,t.prototype.name="",t.prototype.bimid=0,t.prototype.uuid="",t.prototype.fnum=0,t.prototype.tid=0,t.prototype.info=h.emptyObject,t.prototype.status=0,t.prototype.msg="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(8).int32(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&e.uint32(24).int32(t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&e.uint32(34).string(t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&e.uint32(40).int32(t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&e.uint32(48).int32(t.tid),null!=t.info&&t.hasOwnProperty("info"))for(var i=(0,n.default)(t.info),r=0;r<i.length;++r)e.uint32(58).fork().uint32(8).int32(i[r]),c.ESBim.IDList.encode(t.info[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.status&&t.hasOwnProperty("status")&&e.uint32(64).int32(t.status),null!=t.msg&&t.hasOwnProperty("msg")&&e.uint32(74).string(t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(80).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(90).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.OneInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.id=t.int32();break;case 2:n.name=t.string();break;case 3:n.bimid=t.int32();break;case 4:n.uuid=t.string();break;case 5:n.fnum=t.int32();break;case 6:n.tid=t.int32();break;case 7:t.skip().pos++,n.info===h.emptyObject&&(n.info={}),i=t.int32(),t.pos++,n.info[i]=c.ESBim.IDList.decode(t,t.uint32());break;case 8:n.status=t.int32();break;case 9:n.msg=t.string();break;case 10:n.o1=t.int32();break;case 11:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!h.isInteger(t.id))return"id: integer expected";if(null!=t.name&&t.hasOwnProperty("name")&&!h.isString(t.name))return"name: string expected";if(null!=t.bimid&&t.hasOwnProperty("bimid")&&!h.isInteger(t.bimid))return"bimid: integer expected";if(null!=t.uuid&&t.hasOwnProperty("uuid")&&!h.isString(t.uuid))return"uuid: string expected";if(null!=t.fnum&&t.hasOwnProperty("fnum")&&!h.isInteger(t.fnum))return"fnum: integer expected";if(null!=t.tid&&t.hasOwnProperty("tid")&&!h.isInteger(t.tid))return"tid: integer expected";if(null!=t.info&&t.hasOwnProperty("info")){if(!h.isObject(t.info))return"info: object expected";for(var e=(0,n.default)(t.info),i=0;i<e.length;++i){if(!h.key32Re.test(e[i]))return"info: integer key{k:int32} expected";var a=c.ESBim.IDList.verify(t.info[e[i]]);if(a)return"info."+a}}return null!=t.status&&t.hasOwnProperty("status")&&!h.isInteger(t.status)?"status: integer expected":null!=t.msg&&t.hasOwnProperty("msg")&&!h.isString(t.msg)?"msg: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneInfoSet)return t;var e=new c.ESBim.OneInfoSet;if(null!=t.id&&(e.id=0|t.id),null!=t.name&&(e.name=String(t.name)),null!=t.bimid&&(e.bimid=0|t.bimid),null!=t.uuid&&(e.uuid=String(t.uuid)),null!=t.fnum&&(e.fnum=0|t.fnum),null!=t.tid&&(e.tid=0|t.tid),t.info){if("object"!==(0,r.default)(t.info))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info={};for(var i=(0,n.default)(t.info),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.info[i[a]]))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info[i[a]]=c.ESBim.IDList.fromObject(t.info[i[a]])}}return null!=t.status&&(e.status=0|t.status),null!=t.msg&&(e.msg=String(t.msg)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.info={}),e.defaults&&(r.id=0,r.name="",r.bimid=0,r.uuid="",r.fnum=0,r.tid=0,r.status=0,r.msg="",r.o1=0,r.o2=""),null!=t.id&&t.hasOwnProperty("id")&&(r.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(r.name=t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&(r.bimid=t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&(r.uuid=t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&(r.fnum=t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&(r.tid=t.tid),t.info&&(i=(0,n.default)(t.info)).length){r.info={};for(var a=0;a<i.length;++a)r.info[i[a]]=c.ESBim.IDList.toObject(t.info[i[a]],e)}return null!=t.status&&t.hasOwnProperty("status")&&(r.status=t.status),null!=t.msg&&t.hasOwnProperty("msg")&&(r.msg=t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.IDList=function(){function t(t){if(this.idx=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.idx=h.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.idx&&t.idx.length)for(var i=0;i<t.idx.length;++i)e.uint32(10).string(t.idx[i]);return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.IDList;t.pos<i;){var n=t.uint32();n>>>3==1?(r.idx&&r.idx.length||(r.idx=[]),r.idx.push(t.string())):t.skipType(7&n)}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(var e=0;e<t.idx.length;++e)if(!h.isString(t.idx[e]))return"idx: string[] expected"}return null},t.fromObject=function(t){if(t instanceof c.ESBim.IDList)return t;var e=new c.ESBim.IDList;if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.IDList.idx: array expected");e.idx=[];for(var i=0;i<t.idx.length;++i)e.idx[i]=String(t.idx[i])}return e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.idx=[]),t.idx&&t.idx.length){i.idx=[];for(var r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r]}return i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o),t.exports=c},249:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(i(25)),n=s(i(250)),a=s(i(0)),o=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,a.default)(this,t)}return(0,o.default)(t,[{key:"error",value:function(t){console.info("%cESMapError"+(0,n.default)(9940)+": "+t+";","color: #FF0000;font-weight: bolder;font-size: 12px;")}},{key:"warning",value:function(t){console.info("%cESMapWarning"+(0,n.default)(9888)+": "+t+";","color: #FFA500;font-weight: bolder;font-size: 12px;")}},{key:"log",value:function(t){console.info("%cESMapLog"+(0,n.default)(128640)+": "+t+";","color: #555555;font-weight: bolder;font-size: 12px;")}},{key:"logCustom",value:function(t){var e;Array.isArray(t)?(e=console).info.apply(e,(0,r.default)(t)):console.info(t)}}]),t}();e.default=new u},253:function(t,e,i){"use strict";var r=i(254),n=i(255),a=i(256),o=i(46);o.FileLoader=r.FileLoader,o.ImageLoader=n.ImageLoader,o.TextureLoader=a.TextureLoader,o.DirectionalLight.prototype.updateDirection=function(t){var e,i,r,n,a,o;this.pitchAngle=t.hasOwnProperty("pitchAngle")?t.pitchAngle:this.pitchAngle,this.directionAngle=t.hasOwnProperty("directionAngle")?t.directionAngle:this.directionAngle,this.position.copy((e=this.pitchAngle,i=this.directionAngle,r=e/180*Math.PI+Math.PI/2,n=-i/180*Math.PI+Math.PI/2,a=new THREE.Vector3,o=Math.sin(r),a.x=o*Math.cos(n),a.y=-Math.cos(r),a.z=o*Math.sin(n),a))},o.BufferGeometry.prototype.merge=function(t){if(t instanceof THREE.BufferGeometry!=!1){var e,i,r,n,a=this.attributes;if(this.index){for(var o=t.index.array,s=a.position.count,u=0,l=o.length;u<l;u++)o[u]=s+o[u];this.index.array=(e=this.index.array,i=o,r=e.length,(n=new Uint32Array(r+i.length)).set(e),n.set(i,r),n)}for(var h in a)void 0!==t.attributes[h]&&(a[h].array=c(a[h].array,t.attributes[h].array));return this}function c(t,e){var i=t.length,r=new Float32Array(i+e.length);return r.set(t),r.set(e,i),r}},o.BufferGeometry.prototype.toIndexed=function(){var t=0,e=[],i={};function r(r,n,a,o){var s=Math.floor(r*t)+"_"+Math.floor(n*t)+"_"+Math.floor(a*t);return void 0===i[s]&&(i[s]=e.length,e.push(o)),i[s]}return function(n){t=Math.pow(10,n||6);var a=new THREE.BufferGeometry;return function(t,n){for(var a=t.attributes.position.array,o=a.length/3/3,s=new(3*o>65536?Uint32Array:Uint16Array)(3*o),u=0,l=o;u<l;u++){var h=9*u;s[3*u]=r(a[h],a[h+1],a[h+2],3*u),s[3*u+1]=r(a[h+3],a[h+4],a[h+5],3*u+1),s[3*u+2]=r(a[h+6],a[h+7],a[h+8],3*u+2)}n.index=new THREE.BufferAttribute(s,1);var c=e.length;for(var p in t.attributes){var d=t.attributes[p],f=new THREE.BufferAttribute(new d.array.constructor(c*d.itemSize),d.itemSize),m=f.array,v=d.array;switch(d.itemSize){case 1:for(var g=0,y=e.length;g<y;g++)m[g]=v[e[g]];break;case 2:for(var x=0,b=e.length;x<b;x++){var w=2*e[x],_=2*x;m[_]=v[w],m[_+1]=v[w+1]}break;case 3:for(var M=0,S=e.length;M<S;M++){var A=3*e[M],T=3*M;m[T]=v[A],m[T+1]=v[A+1],m[T+2]=v[A+2]}break;case 4:for(var L=0,P=e.length;L<P;L++){var C=4*e[L],E=4*L;m[E]=v[C],m[E+1]=v[C+1],m[E+2]=v[C+2],m[E+3]=v[C+3]}}n.attributes[p]=f}i={},e=[]}(this,a),a}}(),t.exports=o},254:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileLoader=void 0;var r=s(i(7)),n=s(i(8)),a=s(i(2)),o=i(138);function s(t){return t&&t.__esModule?t:{default:t}}var u,l=i(46),h={};function c(t){this.manager=void 0!==t?t:l.DefaultLoadingManager}(0,a.default)(c.prototype,{load:(u=(0,n.default)(r.default.mark((function t(e,i,n,a){var s,u,l,c,p,d,f,m,v,g,y,x,b,w,_,M;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),s=this,void 0===(u=o.Cache.get(e))){t.next=9;break}return s.manager.itemStart(e),setTimeout((function(){i&&i(u),s.manager.itemEnd(e)}),0),t.abrupt("return",u);case 9:if(l=0,THREE.ESCache.timeMap.has(e)&&(l=THREE.ESCache.timeMap.get(e)),!THREE.ESCache||!THREE.ESCache.enabled){t.next=22;break}return t.next=14,THREE.ESCache.canUseCache({url:e,updatetime:l});case 14:if(!t.sent){t.next=22;break}return t.next=18,THREE.ESCache.getCacheObject(e);case 18:if(!(c=t.sent)){t.next=22;break}return i&&i(c.data),t.abrupt("return");case 22:if(void 0===h[e]){t.next=25;break}return h[e].push({onLoad:i,onProgress:n,onError:a}),t.abrupt("return");case 25:if(p=/^data:(.*?)(;base64)?,(.*)$/,!(d=e.match(p))){t.next=57;break}f=d[1],m=!!d[2],v=d[3],v=decodeURIComponent(v),m&&(v=atob(v)),t.prev=33,y=(this.responseType||"").toLowerCase(),t.t0=y,t.next="arraybuffer"===t.t0||"blob"===t.t0?38:"document"===t.t0?42:"json"===t.t0?45:47;break;case 38:for(x=new Uint8Array(v.length),b=0;b<v.length;b++)x[b]=v.charCodeAt(b);return g="blob"===y?new Blob([x.buffer],{type:f}):x.buffer,t.abrupt("break",49);case 42:return w=new DOMParser,g=w.parseFromString(v,f),t.abrupt("break",49);case 45:return g=JSON.parse(v),t.abrupt("break",49);case 47:return g=v,t.abrupt("break",49);case 49:setTimeout((function(){i&&i(g),s.manager.itemEnd(e)}),0),t.next=55;break;case 52:t.prev=52,t.t1=t.catch(33),setTimeout((function(){a&&a(t.t1),s.manager.itemError(e),s.manager.itemEnd(e)}),0);case 55:t.next=70;break;case 57:for(M in h[e]=[],h[e].push({onLoad:i,onProgress:n,onError:a}),(_=new XMLHttpRequest).open("GET",e,!0),_.addEventListener("load",(function(t){var i=this.response;o.Cache.add(e,i);var r=h[e];if(delete h[e],200===this.status||0===this.status){THREE.ESCache.timeMap.has(e)&&THREE.ESCache.upsert({id:e,data:i,updatetime:l}),this.status;for(var n=0,a=r.length;n<a;n++)(u=r[n]).onLoad&&u.onLoad(i);s.manager.itemEnd(e)}else{for(n=0,a=r.length;n<a;n++){var u;(u=r[n]).onError&&u.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}}),!1),_.addEventListener("progress",(function(t){for(var i=h[e],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(t)}}),!1),_.addEventListener("error",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}),!1),_.addEventListener("abort",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(_.responseType=this.responseType),void 0!==this.withCredentials&&(_.withCredentials=this.withCredentials),_.overrideMimeType&&_.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)_.setRequestHeader(M,this.requestHeader[M]);_.send(null);case 70:return s.manager.itemStart(e),t.abrupt("return",_);case 72:case"end":return t.stop()}}),t,this,[[33,52]])}))),function(t,e,i,r){return u.apply(this,arguments)}),setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setLastModifiedTime:function(t){return this.lastModifiedTime=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),e.FileLoader=c},255:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLoader=void 0;var r,n=u(i(7)),a=u(i(8)),o=u(i(2)),s=i(138);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,o.default)(l.prototype,{crossOrigin:"anonymous",load:(r=(0,a.default)(n.default.mark((function t(e,i,r,a){var o,u,l,h,c,p,d,f,m;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),o=this,void 0===(u=s.Cache.get(e))){t.next=9;break}return o.manager.itemStart(e),setTimeout((function(){i&&i(u),o.manager.itemEnd(e)}),0),t.abrupt("return",u);case 9:if(l=document.createElementNS("http://www.w3.org/1999/xhtml","img"),h=0,THREE.ESCache.timeMap.has(e)&&(h=THREE.ESCache.timeMap.get(e)),!THREE.ESCache||!THREE.ESCache.enabled){t.next=29;break}return t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:h});case 15:if(!t.sent){t.next=29;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(c=t.sent)){t.next=29;break}return p=c.data,d=window.URL||window.webkitURL,f=d.createObjectURL(p),l.src=f,l.setAttribute("originalSrc",e),l.onload=function(){i&&i(this)},l.onerror=function(){a&&a("å¾çèµæºè¯·æ±éè¯¯:  "+e)},t.abrupt("return");case 29:return(m=new XMLHttpRequest).open("GET",e,!0),m.responseType="blob",m.onload=function(){if(200==this.status){var t=m.response;if(!t)return;THREE.ESCache.timeMap.has(e)&&THREE.ESCache.upsert({id:e,data:t,updatetime:h});var r=(window.URL||window.webkitURL).createObjectURL(t);l.src=r,l.setAttribute("originalSrc",e),l.addEventListener("load",(function(){i&&i(this)}),!1),l.addEventListener("error",(function(t){a&&a("å¾çèµæºè¯·æ±éè¯¯: "+e)}),!1)}else 404==this.status&&THREE.ESResourcePool&&i&&i(THREE.ESResourcePool.img404)},m.send(),t.abrupt("return",l);case 35:case"end":return t.stop()}}),t,this)}))),function(t,e,i,n){return r.apply(this,arguments)}),setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.ImageLoader=l},256:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureLoader=void 0;var r,n=i(2);function a(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,((r=n)&&r.__esModule?r:{default:r}).default)(a.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new THREE.Texture,a=new THREE.ImageLoader(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?THREE.RGBFormat:THREE.RGBAFormat,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.TextureLoader=a},31:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferGeometryUtils=void 0;var r=u(i(213)),n=u(i(103)),a=u(i(15)),o=u(i(32)),s=i(46);function u(t){return t&&t.__esModule?t:{default:t}}var l={computeTangents:function(t){var e=t.index,i=t.attributes;if(null!==e&&void 0!==i.position&&void 0!==i.normal&&void 0!==i.uv){var r=e.array,n=i.position.array,a=i.normal.array,o=i.uv.array,u=n.length/3;void 0===i.tangent&&t.addAttribute("tangent",new s.BufferAttribute(new Float32Array(4*u),4));for(var l=i.tangent.array,h=[],c=[],p=0;p<u;p++)h[p]=new s.Vector3,c[p]=new s.Vector3;var d=new s.Vector3,f=new s.Vector3,m=new s.Vector3,v=new s.Vector2,g=new s.Vector2,y=new s.Vector2,x=new s.Vector3,b=new s.Vector3,w=t.groups;0===w.length&&(w=[{start:0,count:r.length}]);p=0;for(var _=w.length;p<_;++p)for(var M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)O(r[M+0],r[M+1],r[M+2]);var A,T,L,P=new s.Vector3,C=new s.Vector3,E=new s.Vector3,I=new s.Vector3;for(p=0,_=w.length;p<_;++p){var D,B;for(M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)z(r[M+0]),z(r[M+1]),z(r[M+2])}}function O(t,e,i){d.fromArray(n,3*t),f.fromArray(n,3*e),m.fromArray(n,3*i),v.fromArray(o,2*t),g.fromArray(o,2*e),y.fromArray(o,2*i);var r=f.x-d.x,a=m.x-d.x,s=f.y-d.y,u=m.y-d.y,l=f.z-d.z,p=m.z-d.z,w=g.x-v.x,_=y.x-v.x,M=g.y-v.y,S=y.y-v.y,A=1/(w*S-_*M);x.set((S*r-M*a)*A,(S*s-M*u)*A,(S*l-M*p)*A),b.set((w*a-_*r)*A,(w*u-_*s)*A,(w*p-_*l)*A),h[t].add(x),h[e].add(x),h[i].add(x),c[t].add(b),c[e].add(b),c[i].add(b)}function z(t){E.fromArray(a,3*t),I.copy(E),T=h[t],P.copy(T),P.sub(E.multiplyScalar(E.dot(T))).normalize(),C.crossVectors(I,T),L=C.dot(c[t]),A=L<0?-1:1,l[4*t]=P.x,l[4*t+1]=P.y,l[4*t+2]=P.z,l[4*t+3]=A}},mergeBufferGeometries:function(t,e){for(var i=null!==t[0].index,r=new o.default((0,a.default)(t[0].attributes)),n=new o.default((0,a.default)(t[0].morphAttributes)),u={},l={},h=new s.BufferGeometry,c=0,p=0;p<t.length;++p){var d=t[p];if(i!==(null!==d.index))return null;for(var f in d.attributes){if(!r.has(f))return null;void 0===u[f]&&(u[f]=[]),u[f].push(d.attributes[f])}for(var f in d.morphAttributes){if(!n.has(f))return null;void 0===l[f]&&(l[f]=[]),l[f].push(d.morphAttributes[f])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(d.userData),e){var m;if(i)m=d.index.count;else{if(void 0===d.attributes.position)return null;m=d.attributes.position.count}h.addGroup(c,m,p),c+=m}}if(i){var v=0,g=[];for(p=0;p<t.length;++p){var y=t[p].index;y.getX||(y.getX=function(t){return this.array[t*this.itemSize]});for(var x=0;x<y.count;++x)g.push(y.getX(x)+v);v+=t[p].attributes.position.count}h.setIndex(g)}for(var f in u){var b=this.mergeBufferAttributes(u[f]);if(!b)return null;h.addAttribute(f,b)}for(var f in l){var w=l[f][0].length;if(0===w)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[f]=[];for(p=0;p<w;++p){var _=[];for(x=0;x<l[f].length;++x)_.push(l[f][x][p]);var M=this.mergeBufferAttributes(_);if(!M)return null;h.morphAttributes[f].push(M)}}return h},mergeBufferAttributes:function(t){for(var e,i,r,n=0,a=0;a<t.length;++a){var o=t[a];if(o.isInterleavedBufferAttribute)return null;if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;if(void 0===i&&(i=o.itemSize),i!==o.itemSize)return null;if(void 0===r&&(r=o.normalized),r!==o.normalized)return null;n+=o.array.length}var u=new e(n),l=0;for(a=0;a<t.length;++a)u.set(t[a].array,l),l+=t[a].array.length;return new s.BufferAttribute(u,i,r)},interleaveAttributes:function(t){for(var e,i=0,r=0,n=0,a=t.length;n<a;++n){var o=t[n];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;i+=o.array.length,r+=o.itemSize}var u=new s.InterleavedBuffer(new e(i),r),l=0,h=[],c=["getX","getY","getZ","getW"],p=["setX","setY","setZ","setW"],d=0;for(a=t.length;d<a;d++){var f=(o=t[d]).itemSize,m=o.count,v=new s.InterleavedBufferAttribute(u,f,l,o.normalized);h.push(v),l+=f;for(var g=0;g<m;g++)for(var y=0;y<f;y++)v[p[y]](g,o[c[y]](g))}return h},estimateBytesUsed:function(t){var e=0;for(var i in t.attributes){var r=t.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0},mergeVertices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,n.default);for(var i={},o=t.getIndex(),u=t.getAttribute("position"),l=o?o.count:u.count,h=0,c=(0,a.default)(t.attributes),p={},d={},f=[],m=["getX","getY","getZ","getW"],v=0,g=c.length;v<g;v++){p[M=c[v]]=[],(L=t.morphAttributes[M])&&(d[M]=new Array(L.length).fill().map((function(){return[]})))}var y=(0,r.default)(1/e),x=Math.pow(10,y);for(v=0;v<l;v++){var b=o?o.getX(v):v,w="",_=0;for(g=c.length;_<g;_++)for(var M=c[_],S=(T=t.getAttribute(M)).itemSize,A=0;A<S;A++)w+=~~(T[m[A]](b)*x)+",";if(w in i)f.push(i[w]);else{for(_=0,g=c.length;_<g;_++){M=c[_];var T=t.getAttribute(M),L=t.morphAttributes[M],P=(S=T.itemSize,p[M]),C=d[M];for(A=0;A<S;A++){var E=m[A];if(P.push(T[E](b)),L)for(var I=0,D=L.length;I<D;I++)C[I].push(L[I][E](b))}}i[w]=h,f.push(h),h++}}var B=t.clone();for(v=0,g=c.length;v<g;v++){M=c[v];var O=t.getAttribute(M),z=new O.array.constructor(p[M]);if(O.isInterleavedBufferAttribute?T=new s.BufferAttribute(z,O.itemSize,O.itemSize):(T=t.getAttribute(M).clone()).setArray(z),B.addAttribute(M,T),M in d)for(_=0;_<d[M].length;_++){var N=t.morphAttributes[M][_].clone();N.setArray(new N.array.constructor(d[M][_])),B.morphAttributes[M][_]=N}}var R=Uint8Array;f.length>=Math.pow(2,8)&&(R=Uint16Array),f.length>=Math.pow(2,16)&&(R=Uint32Array);var F=new R(f);f=null;return null===o?f=new s.BufferAttribute(F,1):(f=t.getIndex().clone()).setArray(F),B.setIndex(f),B},toTrianglesDrawMode:function(t,e){if(e===THREE.TrianglesDrawMode)return t;if(e===THREE.TriangleFanDrawMode||e===THREE.TriangleStripDrawMode){var i=t.getIndex();if(null===i){var r=[],n=t.getAttribute("position");if(void 0===n)return t;for(var a=0;a<n.count;a++)r.push(a);t.setIndex(r),i=t.getIndex()}var o=i.count-2,s=[];if(e===THREE.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(i.getX(0)),s.push(i.getX(a)),s.push(i.getX(a+1));else for(a=0;a<o;a++)a%2==0?(s.push(i.getX(a)),s.push(i.getX(a+1)),s.push(i.getX(a+2))):(s.push(i.getX(a+2)),s.push(i.getX(a+1)),s.push(i.getX(a)));s.length;var u=t.clone();return u.setIndex(s),u.clearGroups(),u}return t}};e.BufferGeometryUtils=l},4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Callbacks=e.FullScreen=void 0;var r=c(i(45)),n=c(i(15)),a=c(i(32)),o=c(i(36)),s=c(i(0)),u=c(i(1)),l=c(i(12));e.convertColor=function(t){if(t.startsWith("rgb"))return t;if(t.startsWith("#")){var e=t.slice(1);return"rgb("+parseInt(e.substring(0,2),16)+", "+parseInt(e.substring(2,4),16)+", "+parseInt(e.substring(4,6),16)+")"}var i=t.trim().replace(/\s+/g,"");if(/^\d+,\d+,\d+$/.test(i))return"rgba("+i+", 1)";return"rgba(0, 0, 0, 1)"},e.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t},e.isNil=p,e.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},e.isInteger=function(t){return(0|t)===t},e.isObject=d,e.isString=function(t){if(p(t))return!1;return"string"==typeof t||null!==t.constructor&&t.constructor===String},e.isFunction=function(t){if(p(t))return!1;return"function"==typeof t||null!==t.constructor&&t.constructor===Function},e.hasOwn=function(t,e){return f.call(t,e)},e.join=function(t,e){return t.join?t.join(e||","):Array.prototype.join.call(t,e||",")},e.eachObject=function(t,e){if(!t)return;for(var i in t){if(!1===e(t[i],i,t))break}},e.startWith=function(t,e){return new RegExp("^"+e).test(t)},e.endWith=function(t,e){return new RegExp(e+"$").test(t)},e.getPlatform=function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,r="PC",n=!1,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){i=!1,r=e[a],t.indexOf("MicroMessenger")>0&&(n=!0);break}return{isPC:i,isWX:n,platform:r}},e.obj2params=function(t){var e="";for(var i in t)e.length>0&&(e+="&"),e+=i+"="+t[i];return e},e.getValue=function(t,e,i){return t&&t.hasOwnProperty(e)&&null!=t[e]?t[e]:i},e.getValues=function(t,e,i){for(var r,n=1;n<arguments.length-1;n++)if(void 0!==(r=t[arguments[n]]))return r;return arguments[arguments.length-1]},e.cloneObj=function(t){if(!t)return t;var e={};for(var i in t)e[i]=t[i];return e},e.DistanceofTwoPts=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.DistanceofTwoPtsZ=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.z-e.z)*(t.z-e.z))},e.dedupe=function(t){return(0,o.default)(new a.default(t))},e.calcProjPoint=function(t,e,i,r){var n=e.x,a=e.y,o=i.x,s=i.y,u=t.x,l=t.y,h=o-n,c=s-a,p=Math.sqrt(h*h+c*c),d=u-n,f=l-a,g=Math.sqrt(d*d+f*f);if(m(p))return m(g)?(r.x=e.x,r.y=e.y,0):(r.x=e.x,r.y=e.y,g);var y=h/p,x=c/p,b=y*d+x*f;if(!function(t){return t>v}(b))return r.x=e.x,r.y=e.y,g;if(!function(t){return t<-v}(b-p)){var w=u-o,_=l-s,M=Math.sqrt(w*w+_*_);return r.x=i.x,r.y=i.y,M}var S=n+b*y,A=a+b*x,T=u-S,L=l-A,P=Math.sqrt(T*T+L*L);return r.x=S,r.y=A,P},e.getRandom=function(){for(var t="?t=",e=0;e<6;e++)t+=Math.floor(10*Math.random());return t},e.setDefaultValues=function(t){var e=this;(0,n.default)(t).forEach((function(i){null==e[i]&&(e[i]=t[i])}))},e.exitInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},e.GPS84ToGCJ02=function(t){return h.default.transform([t[0],t[1]],h.default.WGS84,h.default.GCJ02)},e.Mercator2lonLat=function(t,e){var i=[],r=t/20037508.342789*180,n=e/20037508.342789*180;return n=180/Math.PI*(2*Math.atan(Math.exp(n*Math.PI/180))-Math.PI/2),i.push(r),i.push(n),i},e.lonLat2Mercator=function(t,e){var i=[],r=20037508.342789*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34789*n/180,i.push(r),i.push(n),i},e.copyProperties=function(t,e,i){for(var r=0;r<i.length;r++){var n=i[r];t.hasOwnProperty(n)&&(e[n]=t[n])}},e.assignExceptUndefined=g,e.getDefault=function(t,e,i){var n={};d(t)?g(n,i,t):g(n,i,(0,r.default)({},e,t));return n},e.cloneByPropertiesMap=function(t,e){var i={};for(var r in e){var n=e[r];Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var o=n[a];if(t.hasOwnProperty(o)){i[r]=t[o];break}}}return i};var h=c(i(105));function c(t){return t&&t.__esModule?t:{default:t}}function p(t){return null==t}function d(t){return"object"===(void 0===t?"undefined":(0,l.default)(t))&&!!t}var f=Object.prototype.hasOwnProperty;e.FullScreen={get _hasWebkitFullScreen(){return"webkitCancelFullScreen"in document},get _hasMozFullScreen(){return"mozCancelFullScreen"in document},get available(){return this._hasWebkitFullScreen||this._hasMozFullScreen},get activated(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:!!this._hasMozFullScreen&&document.mozFullScreen},request:function(t){t=t||document.body,this._hasWebkitFullScreen?t.webkitRequestFullScreen():this._hasMozFullScreen&&t.mozRequestFullScreen()},cancel:function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen&&document.mozCancelFullScreen()}};e.Callbacks=function(){function t(){(0,s.default)(this,t),this.fns=[]}return(0,u.default)(t,[{key:"add",value:function(t){this.fns.push(t)}},{key:"remove",value:function(t){this.fns.splice(fns.indexOf(t),1)}},{key:"fire",value:function(){for(var t=arguments;this.fns.length>0;){var e=this.fns.shift().apply(this,t);e&&(t=e)}}},{key:"empty",value:function(){this.fns=[]}}]),t}();function m(t){return t<v&&t>-v}var v=1e-5;function g(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];for(var n=0;n<i.length;n++){var a=i[n];for(var o in a)a.hasOwnProperty(o)&&void 0!==a[o]&&(t[o]=a[o])}}},46:function(t,e,i){"use strict";var r,n,a,o,s=x(i(36)),u=x(i(185)),l=x(i(15)),h=x(i(98)),c=x(i(68)),p=x(i(20)),d=x(i(71)),f=x(i(2)),m=x(i(60)),v=x(i(205)),g=x(i(103)),y=x(i(12));function x(t){return t&&t.__esModule?t:{default:t}}o=function(t){function e(){}void 0===g.default&&(Number.EPSILON=Math.pow(2,-52)),void 0===v.default&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===m.default&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===f.default&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),(0,f.default)(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,t)}}}});var i,r,n,a=0,o=1,x=2,b=1,w=2,_=0,M=1,S=2,A=0,T=2,L=0,P=1,C=2,E=3,I=4,D=5,B=100,O=101,z=102,N=103,R=104,F=200,U=201,k=202,G=203,V=204,W=205,H=206,j=207,X=208,q=209,Y=210,J=0,Z=1,Q=2,K=3,$=4,tt=5,et=6,it=7,rt=0,nt=1,at=2,ot=0,st=1,ut=2,lt=3,ht=4,ct=5,pt=300,dt=301,ft=302,mt=303,vt=304,gt=305,yt=306,xt=307,bt=1e3,wt=1001,_t=1002,Mt=1003,St=1004,At=1005,Tt=1006,Lt=1007,Pt=1008,Ct=1009,Et=1010,It=1011,Dt=1012,Bt=1013,Ot=1014,zt=1015,Nt=1016,Rt=1017,Ft=1018,Ut=1019,kt=1020,Gt=1021,Vt=1022,Wt=1023,Ht=1024,jt=1025,Xt=Wt,qt=1026,Yt=1027,Jt=1028,Zt=33776,Qt=33777,Kt=33778,$t=33779,te=35840,ee=35841,ie=35842,re=35843,ne=36196,ae=37808,oe=37809,se=37810,ue=37811,le=37812,he=37813,ce=37814,pe=37815,de=37816,fe=37817,me=37818,ve=37819,ge=37820,ye=37821,xe=2300,be=2301,we=2302,_e=2400,Me=2401,Se=2402,Ae=0,Te=3e3,Le=3001,Pe=3007,Ce=3002,Ee=3004,Ie=3005,De=3006,Be=3200,Oe=3201,ze=0,Ne=1,Re={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Re.DEG2RAD},radToDeg:function(t){return t*Re.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function Fe(t,e){this.x=t||0,this.y=e||0}function Ue(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1}function ke(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function Ge(){this.elements=[1,0,0,0,1,0,0,0,1]}(0,d.default)(Fe.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),(0,f.default)(Fe.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=this.x-t.x,a=this.y-t.y;return this.x=n*i-a*r+t.x,this.y=n*r+a*i+t.y,this}}),(0,f.default)(Ue,{slerp:function(t,e,i,r){return i.copy(t).slerp(e,r)},slerpFlat:function(t,e,i,r,n,a,o){var s=i[r+0],u=i[r+1],l=i[r+2],h=i[r+3],c=n[a+0],p=n[a+1],d=n[a+2],f=n[a+3];if(h!==f||s!==c||u!==p||l!==d){var m=1-o,v=s*c+u*p+l*d+h*f,y=v>=0?1:-1,x=1-v*v;if(x>g.default){var b=Math.sqrt(x),w=Math.atan2(b,v*y);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*y;if(s=s*m+c*_,u=u*m+p*_,l=l*m+d*_,h=h*m+f*_,m===1-o){var M=1/Math.sqrt(s*s+u*u+l*l+h*h);s*=M,u*=M,l*=M,h*=M}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=h}}),(0,d.default)(Ue.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),(0,f.default)(Ue.prototype,{isQuaternion:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,a=t.order,o=Math.cos,s=Math.sin,u=o(i/2),l=o(r/2),h=o(n/2),c=s(i/2),p=s(r/2),d=s(n/2);return"XYZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"YXZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"ZXY"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"ZYX"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"YZX"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h-c*p*d):"XZY"===a&&(this._x=c*l*h-u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h+c*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],n=i[4],a=i[8],o=i[1],s=i[5],u=i[9],l=i[2],h=i[6],c=i[10],p=r+s+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(h-u)*e,this._y=(a-l)*e,this._z=(o-n)*e):r>s&&r>c?(e=2*Math.sqrt(1+r-s-c),this._w=(h-u)/e,this._x=.25*e,this._y=(n+o)/e,this._z=(a+l)/e):s>c?(e=2*Math.sqrt(1+s-r-c),this._w=(a-l)/e,this._x=(n+o)/e,this._y=.25*e,this._z=(u+h)/e):(e=2*Math.sqrt(1+c-r-s),this._w=(o-n)/e,this._x=(a+l)/e,this._y=(u+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){var i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(Re.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,n=t._z,a=t._w,o=e._x,s=e._y,u=e._z,l=e._w;return this._x=i*l+a*o+r*u-n*s,this._y=r*l+a*s+n*o-i*u,this._z=n*l+a*u+i*s-r*o,this._w=a*l-i*o-r*s-n*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,a=this._w,o=a*t._w+i*t._x+r*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;var s=1-o*o;if(s<=g.default){var u=1-e;return this._w=u*a+e*this._w,this._x=u*i+e*this._x,this._y=u*r+e*this._y,this._z=u*n+e*this._z,this.normalize()}var l=Math.sqrt(s),h=Math.atan2(l,o),c=Math.sin((1-e)*h)/l,p=Math.sin(e*h)/l;return this._w=a*c+this._w*p,this._x=i*c+this._x*p,this._y=r*c+this._y*p,this._z=n*c+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ke.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(r=new Ue,function(t){return!t||t.isEuler,this.applyQuaternion(r.setFromEuler(t))}),applyAxisAngle:function(){var t=new Ue;return function(e,i){return this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,a=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*r-o*i,l=s*i+o*e-n*r,h=s*r+n*i-a*e,c=-n*e-a*i-o*r;return this.x=u*s+c*-n+l*-o-h*-a,this.y=l*s+c*-a+h*-n-u*-o,this.z=h*s+c*-o+u*-a-l*-n,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-n*o,this.y=n*a-i*s,this.z=i*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(i=new ke,function(t){return i.copy(this).projectOnVector(t),this.sub(i)}),reflect:function(){var t=new ke;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Re.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),(0,f.default)(Ge.prototype,{isMatrix3:!0,set:function(t,e,i,r,n,a,o,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=o,l[3]=e,l[4]=n,l[5]=s,l[6]=i,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new ke;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[3],s=i[6],u=i[1],l=i[4],h=i[7],c=i[2],p=i[5],d=i[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return n[0]=a*f+o*g+s*b,n[3]=a*m+o*y+s*w,n[6]=a*v+o*x+s*_,n[1]=u*f+l*g+h*b,n[4]=u*m+l*y+h*w,n[7]=u*v+l*x+h*_,n[2]=c*f+p*g+d*b,n[5]=c*m+p*y+d*w,n[8]=c*v+p*x+d*_,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*a*l-e*o*u-i*n*l+i*o*s+r*n*u-r*a*s},getInverse:function(t,e){t&&t.isMatrix4;var i=t.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],h=i[6],c=i[7],p=i[8],d=p*u-l*c,f=l*h-p*s,m=c*s-u*h,v=n*d+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*c-p*a)*y,r[2]=(l*a-o*u)*y,r[3]=f*y,r[4]=(p*n-o*h)*y,r[5]=(o*s-l*n)*y,r[6]=m*y,r[7]=(a*h-c*n)*y,r[8]=(u*n-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,r,n,a,o){var s=Math.cos(n),u=Math.sin(n);this.set(i*s,i*u,-i*(s*a+u*o)+a+t,-r*u,r*s,-r*(-u*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=e*n+i*s,r[3]=e*a+i*u,r[6]=e*o+i*l,r[1]=-i*n+e*s,r[4]=-i*a+e*u,r[7]=-i*o+e*l,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var Ve,We,He,je,Xe,qe,Ye,Je,Ze,Qe,Ke,$e,ti,ei,ii={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===n&&(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),n.width=t.width,n.height=t.height;var i=n.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=n}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},ri=0;function ni(t,e,i,r,n,a,o,s,u,l){Object.defineProperty(this,"id",{value:ri++}),this.uuid=Re.generateUUID(),this.name="",this.image=void 0!==t?t:ni.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:ni.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:wt,this.wrapT=void 0!==r?r:wt,this.magFilter=void 0!==n?n:Tt,this.minFilter=void 0!==a?a:Pt,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:Wt,this.type=void 0!==s?s:Ct,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ge,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Te,this.version=0,this.onUpdate=null}function ai(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1}function oi(t,e,i){this.width=t,this.height=e,this.scissor=new ai(0,0,t,e),this.scissorTest=!1,this.viewport=new ai(0,0,t,e),i=i||{},this.texture=new ni(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:Tt,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function si(t,e,i){oi.call(this,t,e,i),this.samples=4}function ui(t,e,i){oi.call(this,t,e,i)}function li(t,e,i,r,n,a,o,s,u,l,h,c){ni.call(this,null,a,o,s,u,l,r,n,h,c),this.image={data:t,width:e,height:i},this.magFilter=void 0!==u?u:Mt,this.minFilter=void 0!==l?l:Mt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function hi(t,e){this.min=void 0!==t?t:new ke(1/0,1/0,1/0),this.max=void 0!==e?e:new ke(-1/0,-1/0,-1/0)}function ci(t,e){this.center=void 0!==t?t:new ke,this.radius=void 0!==e?e:0}function pi(t,e){this.normal=void 0!==t?t:new ke(1,0,0),this.constant=void 0!==e?e:0}function di(t,e,i,r,n,a){this.planes=[void 0!==t?t:new pi,void 0!==e?e:new pi,void 0!==i?i:new pi,void 0!==r?r:new pi,void 0!==n?n:new pi,void 0!==a?a:new pi]}function fi(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}ni.DEFAULT_IMAGE=void 0,ni.DEFAULT_MAPPING=pt,ni.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ni,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Re.generateUUID()),!e&&void 0===t.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var a=0,o=r.length;a<o;a++)n.push(ii.getDataURL(r[a]))}else n=ii.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==pt)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case bt:t.x=t.x-Math.floor(t.x);break;case wt:t.x=t.x<0?0:1;break;case _t:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case bt:t.y=t.y-Math.floor(t.y);break;case wt:t.y=t.y<0?0:1;break;case _t:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(ni.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(ai.prototype,{isVector4:!0,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*e+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*e+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*e+a[7]*i+a[11]*r+a[15]*n,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,n,a=.01,o=.1,s=t.elements,u=s[0],l=s[4],h=s[8],c=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(l-c)<a&&Math.abs(h-f)<a&&Math.abs(d-m)<a){if(Math.abs(l+c)<o&&Math.abs(h+f)<o&&Math.abs(d+m)<o&&Math.abs(u+p+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(p+1)/2,x=(v+1)/2,b=(l+c)/4,w=(h+f)/4,_=(d+m)/4;return g>y&&g>x?g<a?(i=0,r=.707106781,n=.707106781):(r=b/(i=Math.sqrt(g)),n=w/i):y>x?y<a?(i=.707106781,r=0,n=.707106781):(i=b/(r=Math.sqrt(y)),n=_/r):x<a?(i=.707106781,r=.707106781,n=0):(i=w/(n=Math.sqrt(x)),r=_/n),this.set(i,r,n,e),this}var M=Math.sqrt((m-d)*(m-d)+(h-f)*(h-f)+(c-l)*(c-l));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(h-f)/M,this.z=(c-l)/M,this.w=Math.acos((u+p+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===Ve&&(Ve=new ai,We=new ai),Ve.set(t,t,t,t),We.set(e,e,e,e),this.clamp(Ve,We)},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),oi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:oi,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),si.prototype=(0,f.default)((0,p.default)(oi.prototype),{constructor:si,isWebGLMultisampleRenderTarget:!0,copy:function(t){return oi.prototype.copy.call(this,t),this.samples=t.samples,this}}),ui.prototype=(0,p.default)(oi.prototype),ui.prototype.constructor=ui,ui.prototype.isWebGLRenderTargetCube=!0,li.prototype=(0,p.default)(ni.prototype),li.prototype.constructor=li,li.prototype.isDataTexture=!0,(0,f.default)(hi.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],h=t[s+1],c=t[s+2];l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),h=t.getY(s),c=t.getZ(s);l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ke;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(t=new ke),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ke),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,i,r=new ke;function n(n){var a=n.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,i=o.length;e<i;e++)r.copy(o[e]),r.applyMatrix4(n.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,i=s.count;e<i;e++)r.fromBufferAttribute(s,e).applyMatrix4(n.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(n),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(e=new ke),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(je=new ke,function(t){return this.clampPoint(t.center,je),je.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant},intersectsTriangle:function(){var t=new ke,e=new ke,i=new ke,r=new ke,n=new ke,a=new ke,o=new ke,s=new ke,u=new ke,l=new ke;function h(r){var n,a;for(n=0,a=r.length-3;n<=a;n+=3){o.fromArray(r,n);var s=u.x*Math.abs(o.x)+u.y*Math.abs(o.y)+u.z*Math.abs(o.z),l=t.dot(o),h=e.dot(o),c=i.dot(o);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),i.subVectors(o.c,s),r.subVectors(e,t),n.subVectors(i,e),a.subVectors(t,i);var c=[0,-r.z,r.y,0,-n.z,n.y,0,-a.z,a.y,r.z,0,-r.x,n.z,0,-n.x,a.z,0,-a.x,-r.y,r.x,0,-n.y,n.x,0,-a.y,a.x,0];return!!h(c)&&!!h(c=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,n),h(c=[l.x,l.y,l.z]))}}(),clampPoint:function(t,e){return void 0===e&&(e=new ke),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ke;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new ke;return function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(He=[new ke,new ke,new ke,new ke,new ke,new ke,new ke,new ke],function(t){return this.isEmpty()||(He[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),He[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),He[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),He[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),He[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),He[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),He[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),He[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(He)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(ci.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(Xe=new hi,function(t,e){var i=this.center;void 0!==e?i.copy(e):Xe.setFromPoints(t).getCenter(i);for(var r=0,n=0,a=t.length;n<a;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(e=new ke),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(t=new hi),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),(0,f.default)(pi.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new ke,e=new ke;return function(i,r,n){var a=t.subVectors(n,r).cross(e.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(e=new ke),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new ke;return function(e,i){void 0===i&&(i=new ke);var r=e.delta(t),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:i.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(t=new ke),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new ke,e=new Ge;return function(i,r){var n=r||e.getNormalMatrix(i),a=this.coplanarPoint(t).applyMatrix4(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),(0,f.default)(di.prototype,{set:function(t,e,i,r,n,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],h=i[7],c=i[8],p=i[9],d=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-r,h-s,f-c,y-m).normalize(),e[1].setComponents(o+r,h+s,f+c,y+m).normalize(),e[2].setComponents(o+n,h+u,f+p,y+v).normalize(),e[3].setComponents(o-n,h-u,f-p,y-v).normalize(),e[4].setComponents(o-a,h-l,f-d,y-g).normalize(),e[5].setComponents(o+a,h+l,f+d,y+g).normalize(),this},intersectsObject:(Ye=new ci,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Ye.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ye)}),intersectsSprite:function(){var t=new ci;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,n=0;n<6;n++)if(e[n].distanceToPoint(i)<r)return!1;return!0},intersectsBox:(qe=new ke,function(t){for(var e=this.planes,i=0;i<6;i++){var r=e[i];if(qe.x=r.normal.x>0?t.max.x:t.min.x,qe.y=r.normal.y>0?t.max.y:t.min.y,qe.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(qe)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}}),(0,f.default)(fi.prototype,{isMatrix4:!0,set:function(t,e,i,r,n,a,o,s,u,l,h,c,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=n,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=h,v[14]=c,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new fi).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t=new ke;return function(e){var i=this.elements,r=e.elements,n=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var e=this.elements,i=t.x,r=t.y,n=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(r),u=Math.sin(r),l=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){var c=a*l,p=a*h,d=o*l,f=o*h;e[0]=s*l,e[4]=-s*h,e[8]=u,e[1]=p+d*u,e[5]=c-f*u,e[9]=-o*s,e[2]=f-c*u,e[6]=d+p*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,v=s*h,g=u*l,y=u*h;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*u,e[1]=a*h,e[5]=a*l,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*l,v=s*h,g=u*l,y=u*h,e[0]=m-y*o,e[4]=-a*h,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*u,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)c=a*l,p=a*h,d=o*l,f=o*h,e[0]=s*l,e[4]=d*u-p,e[8]=c*u+f,e[1]=s*h,e[5]=f*u+c,e[9]=p*u-d,e[2]=-u,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var x=a*s,b=a*u,w=o*s,_=o*u;e[0]=s*l,e[4]=_-x*h,e[8]=w*h+b,e[1]=h,e[5]=a*l,e[9]=-o*l,e[2]=-u*l,e[6]=b*h+w,e[10]=x-_*h}else"XZY"===t.order&&(x=a*s,b=a*u,w=o*s,_=o*u,e[0]=s*l,e[4]=-h,e[8]=u*l,e[1]=x*h+_,e[5]=a*l,e[9]=b*h-w,e[2]=w*h-b,e[6]=o*l,e[10]=_*h+x);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(ti=new ke(0,0,0),ei=new ke(1,1,1),function(t){return this.compose(ti,t,ei)}),lookAt:(Qe=new ke,Ke=new ke,$e=new ke,function(t,e,i){var r=this.elements;return $e.subVectors(t,e),0===$e.lengthSq()&&($e.z=1),$e.normalize(),Qe.crossVectors(i,$e),0===Qe.lengthSq()&&(1===Math.abs(i.z)?$e.x+=1e-4:$e.z+=1e-4,$e.normalize(),Qe.crossVectors(i,$e)),Qe.normalize(),Ke.crossVectors($e,Qe),r[0]=Qe.x,r[4]=Ke.x,r[8]=$e.x,r[1]=Qe.y,r[5]=Ke.y,r[9]=$e.y,r[2]=Qe.z,r[6]=Ke.z,r[10]=$e.z,this}),multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[4],s=i[8],u=i[12],l=i[1],h=i[5],c=i[9],p=i[13],d=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],x=i[11],b=i[15],w=r[0],_=r[4],M=r[8],S=r[12],A=r[1],T=r[5],L=r[9],P=r[13],C=r[2],E=r[6],I=r[10],D=r[14],B=r[3],O=r[7],z=r[11],N=r[15];return n[0]=a*w+o*A+s*C+u*B,n[4]=a*_+o*T+s*E+u*O,n[8]=a*M+o*L+s*I+u*z,n[12]=a*S+o*P+s*D+u*N,n[1]=l*w+h*A+c*C+p*B,n[5]=l*_+h*T+c*E+p*O,n[9]=l*M+h*L+c*I+p*z,n[13]=l*S+h*P+c*D+p*N,n[2]=d*w+f*A+m*C+v*B,n[6]=d*_+f*T+m*E+v*O,n[10]=d*M+f*L+m*I+v*z,n[14]=d*S+f*P+m*D+v*N,n[3]=g*w+y*A+x*C+b*B,n[7]=g*_+y*T+x*E+b*O,n[11]=g*M+y*L+x*I+b*z,n[15]=g*S+y*P+x*D+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new ke;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],a=t[1],o=t[5],s=t[9],u=t[13],l=t[2],h=t[6],c=t[10],p=t[14];return t[3]*(+n*s*h-r*u*h-n*o*c+i*u*c+r*o*p-i*s*p)+t[7]*(+e*s*p-e*u*c+n*a*c-r*a*p+r*u*l-n*s*l)+t[11]*(+e*u*h-e*o*p-n*a*h+i*a*p+n*o*l-i*u*l)+t[15]*(-r*o*l-e*s*h+e*o*c+r*a*h-i*a*c+i*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,i){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this},getInverse:function(t,e){var i=this.elements,r=t.elements,n=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],h=r[6],c=r[7],p=r[8],d=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],b=d*y*c-g*f*c+g*h*m-l*y*m-d*h*x+l*f*x,w=v*f*c-p*y*c-v*h*m+u*y*m+p*h*x-u*f*x,_=p*g*c-v*d*c+v*l*m-u*g*m-p*l*x+u*d*x,M=v*d*h-p*g*h-v*l*f+u*g*f+p*l*y-u*d*y,S=n*b+a*w+o*_+s*M;if(0===S){var A="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(A);return this.identity()}var T=1/S;return i[0]=b*T,i[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*T,i[2]=(l*y*s-g*h*s+g*o*c-a*y*c-l*o*x+a*h*x)*T,i[3]=(d*h*s-l*f*s-d*o*c+a*f*c+l*o*m-a*h*m)*T,i[4]=w*T,i[5]=(p*y*s-v*f*s+v*o*m-n*y*m-p*o*x+n*f*x)*T,i[6]=(v*h*s-u*y*s-v*o*c+n*y*c+u*o*x-n*h*x)*T,i[7]=(u*f*s-p*h*s+p*o*c-n*f*c-u*o*m+n*h*m)*T,i[8]=_*T,i[9]=(v*d*s-p*g*s-v*a*m+n*g*m+p*a*x-n*d*x)*T,i[10]=(u*g*s-v*l*s+v*a*c-n*g*c-u*a*x+n*l*x)*T,i[11]=(p*l*s-u*d*s-p*a*c+n*d*c+u*a*m-n*l*m)*T,i[12]=M*T,i[13]=(p*g*o-v*d*o+v*a*f-n*g*f-p*a*y+n*d*y)*T,i[14]=(v*l*o-u*g*o-v*a*h+n*g*h+u*a*y-n*l*y)*T,i[15]=(u*d*o-p*l*o+p*a*h-n*d*h-u*a*f+n*l*f)*T,this},scale:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,a=t.x,o=t.y,s=t.z,u=n*a,l=n*o;return this.set(u*a+i,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+i,l*s-r*a,0,u*s-r*o,l*s+r*a,n*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var r=this.elements,n=e._x,a=e._y,o=e._z,s=e._w,u=n+n,l=a+a,h=o+o,c=n*u,p=n*l,d=n*h,f=a*l,m=a*h,v=o*h,g=s*u,y=s*l,x=s*h,b=i.x,w=i.y,_=i.z;return r[0]=(1-(f+v))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*w,r[5]=(1-(c+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(d+y)*_,r[9]=(m-g)*_,r[10]=(1-(c+f))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(Je=new ke,Ze=new fi,function(t,e,i){var r=this.elements,n=Je.set(r[0],r[1],r[2]).length(),a=Je.set(r[4],r[5],r[6]).length(),o=Je.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],Ze.copy(this);var s=1/n,u=1/a,l=1/o;return Ze.elements[0]*=s,Ze.elements[1]*=s,Ze.elements[2]*=s,Ze.elements[4]*=u,Ze.elements[5]*=u,Ze.elements[6]*=u,Ze.elements[8]*=l,Ze.elements[9]*=l,Ze.elements[10]*=l,e.setFromRotationMatrix(Ze),i.x=n,i.y=a,i.z=o,this}),makePerspective:function(t,e,i,r,n,a){var o=this.elements,s=2*n/(e-t),u=2*n/(i-r),l=(e+t)/(e-t),h=(i+r)/(i-r),c=-(a+n)/(a-n),p=-2*a*n/(a-n);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,r,n,a){var o=this.elements,s=1/(e-t),u=1/(i-r),l=1/(a-n),h=(e+t)*s,c=(i+r)*u,p=(a+n)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-c,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}});var mi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 projectionMatrix ) {\n\treturn projectionMatrix[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowNormalBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective > 0.5 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform float directionalShadowBias[ NUM_DIR_LIGHTS ];\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalShadowBias[ i ], 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function vi(t){var e={};for(var i in t)for(var r in e[i]={},t[i]){var n=t[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[i][r]=n.clone():Array.isArray(n)?e[i][r]=n.slice():e[i][r]=n}return e}function gi(t){for(var e={},i=0;i<t.length;i++){var r=vi(t[i]);for(var n in r)e[n]=r[n]}return e}var yi,xi,bi,wi={clone:vi,merge:gi},_i={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mi(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}(0,f.default)(Mi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,r){if(e=Re.euclideanModulo(e,1),i=Re.clamp(i,0,1),r=Re.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=t(a,n,e+1/3),this.g=t(a,n,e),this.b=t(a,n,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,u)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,h=(l=i[1]).length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0&&void 0!==(l=_i[t])&&this.setHex(l),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(t={h:0,s:0,l:0});var e,i,r=this.r,n=this.g,a=this.b,o=Math.max(r,n,a),s=Math.min(r,n,a),u=(s+o)/2;if(s===o)e=0,i=0;else{var l=o-s;switch(i=u<=.5?l/(o+s):l/(2-o-s),o){case r:e=(n-a)/l+(n<a?6:0);break;case n:e=(a-r)/l+2;break;case a:e=(r-n)/l+4}e/=6}return t.h=e,t.s=i,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(bi={},function(t,e,i){return this.getHSL(bi),bi.h+=t,bi.s+=e,bi.l+=i,this.setHSL(bi.h,bi.s,bi.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:(yi={h:0,s:0,l:0},xi={h:0,s:0,l:0},function(t,e){this.getHSL(yi),t.getHSL(xi);var i=Re.lerp(yi.h,xi.h,e),r=Re.lerp(yi.s,xi.s,e),n=Re.lerp(yi.l,xi.l,e);return this.setHSL(i,r,n),this}),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Si,Ai={common:{diffuse:{value:new Mi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ge},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowBias:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Mi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Ge}},sprite:{diffuse:{value:new Mi(15658734)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Ge}}},Ti={basic:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.fog]),vertexShader:mi.meshbasic_vert,fragmentShader:mi.meshbasic_frag},lambert:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)}}]),vertexShader:mi.meshlambert_vert,fragmentShader:mi.meshlambert_frag},phong:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.gradientmap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)},specular:{value:new Mi(1118481)},shininess:{value:30}}]),vertexShader:mi.meshphong_vert,fragmentShader:mi.meshphong_frag},standard:{uniforms:gi([Ai.common,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.roughnessmap,Ai.metalnessmap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:mi.meshphysical_vert,fragmentShader:mi.meshphysical_frag},matcap:{uniforms:gi([Ai.common,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.fog,{matcap:{value:null}}]),vertexShader:mi.meshmatcap_vert,fragmentShader:mi.meshmatcap_frag},points:{uniforms:gi([Ai.points,Ai.fog]),vertexShader:mi.points_vert,fragmentShader:mi.points_frag},dashed:{uniforms:gi([Ai.common,Ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mi.linedashed_vert,fragmentShader:mi.linedashed_frag},depth:{uniforms:gi([Ai.common,Ai.displacementmap]),vertexShader:mi.depth_vert,fragmentShader:mi.depth_frag},normal:{uniforms:gi([Ai.common,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,{opacity:{value:1}}]),vertexShader:mi.normal_vert,fragmentShader:mi.normal_frag},sprite:{uniforms:gi([Ai.sprite,Ai.fog]),vertexShader:mi.sprite_vert,fragmentShader:mi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ge},t2D:{value:null}},vertexShader:mi.background_vert,fragmentShader:mi.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mi.cube_vert,fragmentShader:mi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mi.equirect_vert,fragmentShader:mi.equirect_frag},distanceRGBA:{uniforms:gi([Ai.common,Ai.displacementmap,{referencePosition:{value:new ke},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mi.distanceRGBA_vert,fragmentShader:mi.distanceRGBA_frag},shadow:{uniforms:gi([Ai.lights,Ai.fog,{color:{value:new Mi(0)},opacity:{value:1}}]),vertexShader:mi.shadow_vert,fragmentShader:mi.shadow_frag}};function Li(){var t=null,e=!1,i=null;function r(n,a){!1!==e&&(i(n,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==i&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function Pi(t){var e=new c.default;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var r=e.get(i);r&&(t.deleteBuffer(r.buffer),e.delete(i))},update:function(i,r){i.isInterleavedBufferAttribute&&(i=i.data);var n=e.get(i);void 0===n?e.set(i,function(e,i){var r=e.array,n=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,n),e.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array||(r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121)),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(i,r)):n.version<i.version&&(function(e,i,r){var n=i.array,a=i.updateRange;t.bindBuffer(r,e),!1===i.dynamic?t.bufferData(r,n,35044):-1===a.count?t.bufferSubData(r,0,n):0===a.count||(t.bufferSubData(r,a.offset*n.BYTES_PER_ELEMENT,n.subarray(a.offset,a.offset+a.count)),a.count=-1)}(n.buffer,i,r),n.version=i.version)}}}function Ci(t,e,i,r,n,a){this.a=t,this.b=e,this.c=i,this.normal=r&&r.isVector3?r:new ke,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new Mi,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0}function Ei(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||Ei.DefaultOrder}function Ii(){this.mask=1}Ti.physical={uniforms:gi([Ti.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:mi.meshphysical_vert,fragmentShader:mi.meshphysical_frag},(0,f.default)(Ci.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),Ei.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ei.DefaultOrder="XYZ",(0,d.default)(Ei.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),(0,f.default)(Ei.prototype,{isEuler:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var r=Re.clamp,n=t.elements,a=n[0],o=n[4],s=n[8],u=n[1],l=n[5],h=n[9],c=n[2],p=n[6],d=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-c,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===e?(this._y=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e&&(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,d),this._y=0)),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new fi;return function(e,i,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Si=new Ue,function(t){return Si.setFromEuler(this),this.setFromQuaternion(Si,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ke(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(Ii.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Di,Bi,Oi,zi,Ni,Ri=0;function Fi(){Object.defineProperty(this,"id",{value:Ri++}),this.uuid=Re.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Fi.DefaultUp.clone();var t=new ke,e=new Ei,i=new Ue,r=new ke(1,1,1);e.onChange((function(){i.setFromEuler(e,!1)})),i.onChange((function(){e.setFromQuaternion(i,void 0,!1)})),(0,d.default)(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new fi},normalMatrix:{value:new Ge}}),this.matrix=new fi,this.matrixWorld=new fi,this.matrixAutoUpdate=Fi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ii,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Fi.DefaultUp=new ke(0,1,0),Fi.DefaultMatrixAutoUpdate=!0,Fi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Fi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(Ni=new Ue,function(t,e){return Ni.setFromAxisAngle(t,e),this.quaternion.multiply(Ni),this}),rotateOnWorldAxis:function(){var t=new Ue;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new ke(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new ke(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new ke(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new ke;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new ke(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new ke(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new ke(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(zi=new fi,function(t){return t.applyMatrix4(zi.getInverse(this.matrixWorld))}),lookAt:function(){var t=new Ue,e=new fi,i=new ke,r=new ke;return function(n,a,o){n.isVector3?i.copy(n):i.set(n,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(r,i,this.up):e.lookAt(i,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},attach:(Oi=new fi,function(t){return this.updateWorldMatrix(!0,!1),Oi.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Oi.multiply(t.parent.matrixWorld)),t.applyMatrix(Oi),t.updateWorldMatrix(!1,!1),this.add(t),this}),getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(t=new ke),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Di=new ke,Bi=new ke,function(t){return void 0===t&&(t=new Ue),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Di,t,Bi),t}),getWorldScale:function(){var t=new ke,e=new Ue;return function(i){return void 0===i&&(i=new ke),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(t){void 0===t&&(t=new ke),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,n=0,a=r.length;n<a;n++)r[n].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==(0,h.default)(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==Ae&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=n(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];n(t.shapes,l)}else n(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(n(t.materials,this.material[s]));r.material=c}else r.material=n(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var p=v(t.geometries),d=v(t.materials),f=v(t.textures),m=v(t.images);o=v(t.shapes),p.length>0&&(i.geometries=p),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),m.length>0&&(i.images=m),o.length>0&&(i.shapes=o)}return i.object=r,i;function v(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse((0,h.default)(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}});var Ui,ki,Gi=0;function Vi(){Object.defineProperty(this,"id",{value:Gi+=2}),this.uuid=Re.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Wi(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Hi(t,e,i){Wi.call(this,new Int8Array(t),e,i)}function ji(t,e,i){Wi.call(this,new Uint8Array(t),e,i)}function Xi(t,e,i){Wi.call(this,new Uint8ClampedArray(t),e,i)}function qi(t,e,i){Wi.call(this,new Int16Array(t),e,i)}function Yi(t,e,i){Wi.call(this,new Uint16Array(t),e,i)}function Ji(t,e,i){Wi.call(this,new Int32Array(t),e,i)}function Zi(t,e,i){Wi.call(this,new Uint32Array(t),e,i)}function Qi(t,e,i){Wi.call(this,new Float32Array(t),e,i)}function Ki(t,e,i){Wi.call(this,new Float64Array(t),e,i)}function $i(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function tr(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,r=t.length;i<r;++i)t[i]>e&&(e=t[i]);return e}Vi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Vi,isGeometry:!0,applyMatrix:function(t){for(var e=(new Ge).getNormalMatrix(t),i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(t);for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new fi;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new fi;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new fi;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new fi;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new fi;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:(ki=new Fi,function(t){ki.lookAt(t),ki.updateMatrix(),this.applyMatrix(ki.matrix)}),fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,r=t.attributes,n=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<n.length;l+=3)e.vertices.push((new ke).fromArray(n,l)),void 0!==o&&e.colors.push((new Mi).fromArray(o,l));function h(t,i,r,n){var l=void 0===o?[]:[e.colors[t].clone(),e.colors[i].clone(),e.colors[r].clone()],h=new Ci(t,i,r,void 0===a?[]:[(new ke).fromArray(a,3*t),(new ke).fromArray(a,3*i),(new ke).fromArray(a,3*r)],l,n);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new Fe).fromArray(s,2*t),(new Fe).fromArray(s,2*i),(new Fe).fromArray(s,2*r)]),void 0!==u&&e.faceVertexUvs[1].push([(new Fe).fromArray(u,2*t),(new Fe).fromArray(u,2*i),(new Fe).fromArray(u,2*r)])}var c=t.groups;if(c.length>0)for(l=0;l<c.length;l++)for(var p=c[l],d=p.start,f=d,m=d+p.count;f<m;f+=3)void 0!==i?h(i[f],i[f+1],i[f+2],p.materialIndex):h(f,f+1,f+2,p.materialIndex);else if(void 0!==i)for(l=0;l<i.length;l+=3)h(i[l],i[l+1],i[l+2]);else for(l=0;l<n.length/3;l+=3)h(l,l+1,l+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(Ui=new ke,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ui).negate(),this.translate(Ui.x,Ui.y,Ui.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,r=new fi;return r.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new ke,e=new ke,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),n.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,n,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new ke;if(t){var s,u,l,h=new ke,c=new ke;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],h.subVectors(l,u),c.subVectors(s,u),h.cross(c),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(r=0,n=this.faces.length;r<n;r++){var p=(a=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(i=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),t=0,e=n.vertexNormals.length;t<e;t++)n.__originalVertexNormals[t]?n.__originalVertexNormals[t].copy(n.vertexNormals[t]):n.__originalVertexNormals[t]=n.vertexNormals[t].clone();var a=new Vi;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)u=new ke,l={a:new ke,b:new ke,c:new ke},o.push(u),s.push(l)}var u,l,h=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],u=h.faceNormals[i],l=h.vertexNormals[i],u.copy(n.normal),l.a.copy(n.vertexNormals[0]),l.b.copy(n.vertexNormals[1]),l.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new hi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ci),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var r,n=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],h=t.faceVertexUvs[0],c=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(r=(new Ge).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(d=0,f=p.length;d<f;d++)c.push(p[d].clone());for(d=0,f=u.length;d<f;d++){var v,g,y,x=u[d],b=x.vertexNormals,w=x.vertexColors;(v=new Ci(x.a+n,x.b+n,x.c+n)).normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,M=b.length;_<M;_++)g=b[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);for(v.color.copy(x.color),_=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+i,s.push(v)}for(d=0,f=h.length;d<f;d++){var S=h[d],A=[];if(void 0!==S){for(_=0,M=S.length;_<M;_++)A.push(S[_].clone());l.push(A)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,r,n,a,o,s,u={},l=[],h=[],c=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)t=this.vertices[i],void 0===u[e=Math.round(t.x*c)+"_"+Math.round(t.y*c)+"_"+Math.round(t.z*c)]?(u[e]=i,l.push(this.vertices[i]),h[i]=l.length-1):h[i]=h[u[e]];var p=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=h[n.a],n.b=h[n.b],n.c=h[n.c],a=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var f=p[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var r=t[e];this.vertices.push(new ke(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,n,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(r=[]),o&&o.length===e&&(n=[]),i=0;i<e;i++){var s=t[i]._id;r&&r.push(a[s]),n&&n.push(o[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var r=[],n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],h={},c=[],p={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],f=void 0!==this.faceVertexUvs[0][n],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,v),x=M(x,6,g),x=M(x,7,y),o.push(x),o.push(d.a,d.b,d.c),o.push(d.materialIndex),f){var b=this.faceVertexUvs[0][n];o.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&o.push(S(d.normal)),v){var w=d.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&o.push(A(d.color)),y){var _=d.vertexColors;o.push(A(_[0]),A(_[1]),A(_[2]))}}function M(t,e,i){return i?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]||(u[e]=s.length/3,s.push(t.x,t.y,t.z)),u[e]}function A(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]||(h[e]=l.length,l.push(t.getHex())),h[e]}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=c.length/2,c.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=r,t.data.normals=s,l.length>0&&(t.data.colors=l),c.length>0&&(t.data.uvs=[c]),t.data.faces=o,t},clone:function(){return(new Vi).copy(this)},copy:function(t){var e,i,r,n,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,i=u.length;e<i;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,i=l.length;e<i;e++)this.faces.push(l[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,n=h.length;r<n;r++){var c=h[r],p=[];for(a=0,o=c.length;a<o;a++){var d=c[a];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,n=f[e].vertices.length;r<n;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,n=f[e].normals.length;r<n;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,i=v.length;e<i;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,n=v[e].vertexNormals.length;r<n;r++){var y=v[e].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),g.vertexNormals.push(x)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,n=v[e].faceNormals.length;r<n;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,i=b.length;e<i;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,i=w.length;e<i;e++)this.skinIndices.push(w[e].clone());var _=t.lineDistances;for(e=0,i=_.length;e<i;e++)this.lineDistances.push(_[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Wi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Wi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[t+r]=e.array[i+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Mi),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Fe),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ke),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ai),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=n,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Hi.prototype=(0,p.default)(Wi.prototype),Hi.prototype.constructor=Hi,ji.prototype=(0,p.default)(Wi.prototype),ji.prototype.constructor=ji,Xi.prototype=(0,p.default)(Wi.prototype),Xi.prototype.constructor=Xi,qi.prototype=(0,p.default)(Wi.prototype),qi.prototype.constructor=qi,Yi.prototype=(0,p.default)(Wi.prototype),Yi.prototype.constructor=Yi,Ji.prototype=(0,p.default)(Wi.prototype),Ji.prototype.constructor=Ji,Zi.prototype=(0,p.default)(Wi.prototype),Zi.prototype.constructor=Zi,Qi.prototype=(0,p.default)(Wi.prototype),Qi.prototype.constructor=Qi,Ki.prototype=(0,p.default)(Wi.prototype),Ki.prototype.constructor=Ki,(0,f.default)($i.prototype,{computeGroups:function(t){for(var e,i=[],r=void 0,n=t.faces,a=0;a<n.length;a++){var o=n[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,r=t.vertices,n=t.faceVertexUvs,a=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var l=0;l<u;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var h,c=t.morphNormals,p=c.length;if(p>0){for(h=[],l=0;l<p;l++)h[l]={name:c[l].name,data:[]};this.morphTargets.normal=h}var d=t.skinIndices,f=t.skinWeights,m=d.length===r.length,v=f.length===r.length;for(r.length>0&&i.length,l=0;l<i.length;l++){var g=i[l];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=g.normal;this.normals.push(x,x,x)}var b,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}!0===a&&(void 0!==(b=n[0][l])?this.uvs.push(b[0],b[1],b[2]):this.uvs.push(new Fe,new Fe,new Fe)),!0===o&&(void 0!==(b=n[1][l])?this.uvs2.push(b[0],b[1],b[2]):this.uvs2.push(new Fe,new Fe,new Fe));for(var M=0;M<u;M++){var S=s[M].vertices;e[M].data.push(S[g.a],S[g.b],S[g.c])}for(M=0;M<p;M++){var A=c[M].vertexNormals[l];h[M].data.push(A.a,A.b,A.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var er=1;function ir(){Object.defineProperty(this,"id",{value:er+=2}),this.uuid=Re.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function rr(t,e,i,r,n,a){Vi.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.fromBufferGeometry(new nr(t,e,i,r,n,a)),this.mergeVertices()}function nr(t,e,i,r,n,a){ir.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;t=t||1,e=e||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],h=[],c=0,p=0;function d(t,e,i,r,n,a,d,f,m,v,g){var y,x,b=a/m,w=d/v,_=a/2,M=d/2,S=f/2,A=m+1,T=v+1,L=0,P=0,C=new ke;for(x=0;x<T;x++){var E=x*w-M;for(y=0;y<A;y++){var I=y*b-_;C[t]=I*r,C[e]=E*n,C[i]=S,u.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[i]=f>0?1:-1,l.push(C.x,C.y,C.z),h.push(y/m),h.push(1-x/v),L+=1}}for(x=0;x<v;x++)for(y=0;y<m;y++){var D=c+y+A*x,B=c+y+A*(x+1),O=c+(y+1)+A*(x+1),z=c+(y+1)+A*x;s.push(D,B,z),s.push(B,O,z),P+=6}o.addGroup(p,P,g),p+=P,c+=L}d("z","y","x",-1,-1,i,e,t,a,n,0),d("z","y","x",1,-1,i,e,-t,a,n,1),d("x","z","y",1,1,t,i,e,r,a,2),d("x","z","y",1,-1,t,i,-e,r,a,3),d("x","y","z",1,-1,t,e,i,r,n,4),d("x","y","z",-1,-1,t,e,-i,r,n,5),this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("normal",new Qi(l,3)),this.addAttribute("uv",new Qi(h,2))}function ar(t,e,i,r){Vi.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new or(t,e,i,r)),this.mergeVertices()}function or(t,e,i,r){ir.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};var n,a,o=(t=t||1)/2,s=(e=e||1)/2,u=Math.floor(i)||1,l=Math.floor(r)||1,h=u+1,c=l+1,p=t/u,d=e/l,f=[],m=[],v=[],g=[];for(a=0;a<c;a++){var y=a*d-s;for(n=0;n<h;n++){var x=n*p-o;m.push(x,-y,0),v.push(0,0,1),g.push(n/u),g.push(1-a/l)}}for(a=0;a<l;a++)for(n=0;n<u;n++){var b=n+h*a,w=n+h*(a+1),_=n+1+h*(a+1),M=n+1+h*a;f.push(b,w,M),f.push(w,_,M)}this.setIndex(f),this.addAttribute("position",new Qi(m,3)),this.addAttribute("normal",new Qi(v,3)),this.addAttribute("uv",new Qi(g,2))}ir.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ir,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(tr(t)>65535?Zi:Yi)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(this.setIndex(e),this):(this.attributes[t]=e,this):this.addAttribute(t,new Wi(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new Ge).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);var r=this.attributes.tangent;return void 0!==r&&((new Ge).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new fi;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new fi;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new fi;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new fi;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new fi;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Fi;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new ke;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new Qi(3*e.vertices.length,3),r=new Qi(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var n=new Qi(e.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];e.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new Qi(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new $i).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new Wi(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new Wi(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new Wi(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var n=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new Wi(n,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new Wi(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],u=t.morphTargets[o],l=0,h=u.length;l<h;l++){var c=u[l],p=new Qi(3*c.data.length,3);p.name=c.name,s.push(p.copyVector3sArray(c.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var d=new Qi(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Qi(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){var t=new hi;return function(){null===this.boundingBox&&(this.boundingBox=new hi);var e=this.attributes.position,i=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),i)for(var r=0,n=i.length;r<n;r++){var a=i[r];t.setFromBufferAttribute(a),this.boundingBox.expandByPoint(t.min),this.boundingBox.expandByPoint(t.max)}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}(),computeBoundingSphere:function(){var t=new hi,e=new hi,i=new ke;return function(){null===this.boundingSphere&&(this.boundingSphere=new ci);var r=this.attributes.position,n=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(r),n)for(var o=0,s=n.length;o<s;o++){var u=n[o];e.setFromBufferAttribute(u),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var l=0;for(o=0,s=r.count;o<s;o++)i.fromBufferAttribute(r,o),l=Math.max(l,a.distanceToSquared(i));if(n)for(o=0,s=n.length;o<s;o++)for(var h=0,c=(u=n[o]).count;h<c;h++)i.fromBufferAttribute(u,h),l=Math.max(l,a.distanceToSquared(i));this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new Wi(new Float32Array(i.length),3));else for(var r=e.normal.array,n=0,a=r.length;n<a;n++)r[n]=0;var o,s,u,l=e.normal.array,h=new ke,c=new ke,p=new ke,d=new ke,f=new ke;if(t){var m=t.array;for(n=0,a=t.count;n<a;n+=3)o=3*m[n+0],s=3*m[n+1],u=3*m[n+2],h.fromArray(i,o),c.fromArray(i,s),p.fromArray(i,u),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z}else for(n=0,a=i.length;n<a;n+=9)h.fromArray(i,n),c.fromArray(i,n+3),p.fromArray(i,n+6),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[n]=d.x,l[n+1]=d.y,l[n+2]=d.z,l[n+3]=d.x,l[n+4]=d.y,l[n+5]=d.z,l[n+6]=d.x,l[n+7]=d.y,l[n+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0);var i=this.attributes;for(var r in i)if(void 0!==t.attributes[r])for(var n=i[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,u=Math.min(o.length,n.length-s),l=0,h=s;l<u;l++,h++)n[h]=o[l];return this}},normalizeNormals:function(){var t=new ke;return function(){for(var e=this.attributes.normal,i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.normalize(),e.setXYZ(i,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var i=t.array,r=t.itemSize,n=new i.constructor(e.length*r),a=0,o=0,s=0,u=e.length;s<u;s++){a=e[s]*r;for(var l=0;l<r;l++)n[o++]=i[a++]}return new Wi(n,r)}if(null===this.index)return this;var e=new ir,i=this.index.array,r=this.attributes;for(var n in r){var a=t(r[n],i);e.addAttribute(n,a)}var o=this.morphAttributes;for(n in o){for(var s=[],u=o[n],l=0,h=u.length;l<h;l++)a=t(u[l],i),s.push(a);e.morphAttributes[n]=s}for(var c=this.groups,p=(l=0,c.length);l<p;l++){var d=c[l];e.addGroup(d.start,d.count,d.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),(0,l.default)(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var n=this.attributes;for(var i in n){var a=(f=n[i]).toJSON();""!==f.name&&(a.name=f.name),t.data.attributes[i]=a}var o={},s=!1;for(var i in this.morphAttributes){for(var u=this.morphAttributes[i],c=[],p=0,d=u.length;p<d;p++){var f;a=(f=u[p]).toJSON(),""!==f.name&&(a.name=f.name),c.push(a)}c.length>0&&(o[i]=c,s=!0)}s&&(t.data.morphAttributes=o);var m=this.groups;m.length>0&&(t.data.groups=JSON.parse((0,h.default)(m)));var v=this.boundingSphere;return null!==v&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t},clone:function(){return(new ir).copy(this)},copy:function(t){var e,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(i=0,r=l.length;i<r;i++)u.push(l[i].clone());this.morphAttributes[e]=u}var h=t.groups;for(i=0,r=h.length;i<r;i++){var c=h[i];this.addGroup(c.start,c.count,c.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),rr.prototype=(0,p.default)(Vi.prototype),rr.prototype.constructor=rr,nr.prototype=(0,p.default)(ir.prototype),nr.prototype.constructor=nr,ar.prototype=(0,p.default)(Vi.prototype),ar.prototype.constructor=ar,or.prototype=(0,p.default)(ir.prototype),or.prototype.constructor=or;var sr=0;function ur(){Object.defineProperty(this,"id",{value:sr++}),this.uuid=Re.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=P,this.side=_,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=A,this.opacity=1,this.transparent=!1,this.blendSrc=V,this.blendDst=W,this.blendEquation=B,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=K,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}ur.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ur,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:this.type}else this.type,this.flatShading=1===i}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==P&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==_&&(i.side=this.side),this.vertexColors!==A&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==(0,h.default)(this.userData)&&(i.userData=this.userData),e){var n=r(t.textures),a=r(t.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse((0,h.default)(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var r=e.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var lr,hr,cr,pr,dr,fr,mr,vr,gr,yr,xr,br,wr="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",_r="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Mr(t){ur.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=wr,this.fragmentShader=_r,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(t.attributes,this.setValues(t))}function Sr(t,e){this.origin=void 0!==t?t:new ke,this.direction=void 0!==e?e:new ke}function Ar(t,e,i){this.a=void 0!==t?t:new ke,this.b=void 0!==e?e:new ke,this.c=void 0!==i?i:new ke}function Tr(t){ur.call(this),this.type="MeshBasicMaterial",this.color=new Mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Lr(t,e){Fi.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Tr({color:16777215*Math.random()}),this.drawMode=Ae,this.updateMorphTargets()}function Pr(t,e,i,r){var n,a,o=new Mi(0),s=0,u=null,l=0;function h(t,i){e.buffers.color.setClear(t.r,t.g,t.b,i,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,r,c,p){var d=r.background,f=t.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(d=null),null===d?(h(o,s),u=null,l=0):d&&d.isColor&&(h(d,1),p=!0,u=null,l=0),(t.autoClear||p)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new Lr(new nr(1,1,1),new Mr({type:"BackgroundCubeMaterial",uniforms:vi(Ti.cube.uniforms),vertexShader:Ti.cube.vertexShader,fragmentShader:Ti.cube.fragmentShader,side:M,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),i.update(a));var v=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,u===d&&l===v.version||(a.material.needsUpdate=!0,u=d,l=v.version),e.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===n&&((n=new Lr(new or(2,2),new Mr({type:"BackgroundMaterial",uniforms:vi(Ti.background.uniforms),vertexShader:Ti.background.vertexShader,fragmentShader:Ti.background.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(n.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(n)),n.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),n.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&l===d.version||(n.material.needsUpdate=!0,u=d,l=d.version),e.unshift(n,n.geometry,n.material,0,0,null))}}}function Cr(t,e,i,r){var n;this.setMode=function(t){n=t},this.render=function(e,r){t.drawArrays(n,e,r),i.update(r,n)},this.renderInstances=function(a,o,s){var u;if(r.isWebGL2)u=t;else if(null===(u=e.get("ANGLE_instanced_arrays")))return;u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](n,o,s,a.maxInstancedCount),i.update(s,n,a.maxInstancedCount)}}function Er(t,e,i){var r;function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=n(o);s!==o&&(o=s);var u=!0===i.logarithmicDepthBuffer,l=t.getParameter(34930),h=t.getParameter(35660),c=t.getParameter(3379),p=t.getParameter(34076),d=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=h>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var i=e.get("EXT_texture_filter_anisotropic");return r=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:h,maxTextureSize:c,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function Ir(){var t=this,e=null,i=0,r=!1,n=!1,a=new pi,o=new Ge,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function l(e,i,r,n){var u=null!==e?e.length:0,l=null;if(0!==u){if(l=s.value,!0!==n||null===l){var h=r+4*u,c=i.matrixWorldInverse;o.getNormalMatrix(c),(null===l||l.length<h)&&(l=new Float32Array(h));for(var p=0,d=r;p!==u;++p,d+=4)a.copy(e[p]).applyMatrix4(c,o),a.normal.toArray(l,d),l[d+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var o=0!==t.length||n||0!==i||r;return r=n,e=l(t,a,0),i=t.length,o},this.beginShadows=function(){n=!0,l(null)},this.endShadows=function(){n=!1,u()},this.setState=function(t,a,o,h,c,p){if(!r||null===t||0===t.length||n&&!o)n?l(null):u();else{var d=n?0:i,f=4*d,m=c.clippingState||null;s.value=m,m=l(t,h,f,p);for(var v=0;v!==f;++v)m[v]=e[v];c.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function Dr(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}}}function Br(t,e,i){var r={},n={};function a(t){var o=t.target,s=r[o.id];for(var u in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[u]);o.removeEventListener("dispose",a),delete r[o.id];var l=n[s.id];l&&(e.remove(l),delete n[s.id]),i.memory.geometries--}return{get:function(t,e){var n=r[e.id];return n||(e.addEventListener("dispose",a),e.isBufferGeometry?n=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new ir).setFromObject(t)),n=e._bufferGeometry),r[e.id]=n,i.memory.geometries++,n)},update:function(t){var i=t.index,r=t.attributes;for(var n in null!==i&&e.update(i,34963),r)e.update(r[n],34962);var a=t.morphAttributes;for(var n in a)for(var o=a[n],s=0,u=o.length;s<u;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var i=n[t.id];if(i)return i;var r,a=[],o=t.index,s=t.attributes;if(null!==o)for(var u=0,l=(r=o.array).length;u<l;u+=3){var h=r[u+0],c=r[u+1],p=r[u+2];a.push(h,c,c,p,p,h)}else for(u=0,l=(r=s.position.array).length/3-1;u<l;u+=3)h=u+0,c=u+1,p=u+2,a.push(h,c,c,p,p,h);return i=new(tr(a)>65535?Zi:Yi)(a,1),e.update(i,34963),n[t.id]=i,i}}}function Or(t,e,i,r){var n,a,o;this.setMode=function(t){n=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(n,r,a,e*o),i.update(r,n)},this.renderInstances=function(s,u,l){var h;if(r.isWebGL2)h=t;else if(null===(h=e.get("ANGLE_instanced_arrays")))return;h[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](n,l,a,u*o,s.maxInstancedCount),i.update(l,n,s.maxInstancedCount)}}function zr(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,i,r){switch(r=r||1,e.calls++,i){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t}}}}function Nr(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Rr(t){var e={},i=new Float32Array(8);return{update:function(r,n,a,o){var s=r.morphTargetInfluences,u=s.length,l=e[n.id];if(void 0===l){l=[];for(var h=0;h<u;h++)l[h]=[h,0];e[n.id]=l}var c=a.morphTargets&&n.morphAttributes.position,p=a.morphNormals&&n.morphAttributes.normal;for(h=0;h<u;h++)0!==(d=l[h])[1]&&(c&&n.removeAttribute("morphTarget"+h),p&&n.removeAttribute("morphNormal"+h));for(h=0;h<u;h++)(d=l[h])[0]=h,d[1]=s[h];for(l.sort(Nr),h=0;h<8;h++){var d;if(d=l[h]){var f=d[0],m=d[1];if(m){c&&n.addAttribute("morphTarget"+h,c[f]),p&&n.addAttribute("morphNormal"+h,p[f]),i[h]=m;continue}}i[h]=0}o.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function Fr(t,e){var i={};return{update:function(r){var n=e.render.frame,a=r.geometry,o=t.get(r,a);return i[o.id]!==n&&(a.isGeometry&&o.updateFromObject(r),t.update(o),i[o.id]=n),o},dispose:function(){i={}}}}function Ur(t,e,i,r,n,a,o,s,u,l){t=void 0!==t?t:[],e=void 0!==e?e:dt,o=void 0!==o?o:Vt,ni.call(this,t,e,i,r,n,a,o,s,u,l),this.flipY=!1}function kr(t,e,i,r){ni.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=Mt,this.minFilter=Mt,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1}function Gr(t,e,i,r){ni.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=Mt,this.minFilter=Mt,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1}Mr.prototype=(0,p.default)(ur.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isShaderMaterial=!0,Mr.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=vi(t.uniforms),this.defines=(0,f.default)({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Mr.prototype.toJSON=function(t){var e=ur.prototype.toJSON.call(this,t);for(var i in e.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}(0,l.default)(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var n={};for(var a in this.extensions)!0===this.extensions[a]&&(n[a]=!0);return(0,l.default)(n).length>0&&(e.extensions=n),e},(0,f.default)(Sr.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(e=new ke),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new ke;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(e=new ke),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new ke;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(hr=new ke,cr=new ke,pr=new ke,function(t,e,i,r){hr.copy(t).add(e).multiplyScalar(.5),cr.copy(e).sub(t).normalize(),pr.copy(this.origin).sub(hr);var n,a,o,s,u=.5*t.distanceTo(e),l=-this.direction.dot(cr),h=pr.dot(this.direction),c=-pr.dot(cr),p=pr.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*h-c,s=u*d,(n=l*c-h)>=0)if(a>=-s)if(a<=s){var f=1/d;o=(n*=f)*(n+l*(a*=f)+2*h)+a*(l*n+a+2*c)+p}else a=u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a=-u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a<=-s?o=-(n=Math.max(0,-(-l*u+h)))*n+(a=n>0?-u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p:a<=s?(n=0,o=(a=Math.min(Math.max(-u,-c),u))*(a+2*c)+p):o=-(n=Math.max(0,-(l*u+h)))*n+(a=n>0?u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p;else a=l>0?-u:u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(cr).multiplyScalar(a).add(hr),o}),intersectSphere:function(){var t=new ke;return function(e,i){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),n=t.dot(t)-r*r,a=e.radius*e.radius;if(n>a)return null;var o=Math.sqrt(a-n),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,r,n,a,o,s,u=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,c=this.origin;return u>=0?(i=(t.min.x-c.x)*u,r=(t.max.x-c.x)*u):(i=(t.max.x-c.x)*u,r=(t.min.x-c.x)*u),l>=0?(n=(t.min.y-c.y)*l,a=(t.max.y-c.y)*l):(n=(t.max.y-c.y)*l,a=(t.min.y-c.y)*l),i>a||n>r?null:((n>i||i!=i)&&(i=n),(a<r||r!=r)&&(r=a),h>=0?(o=(t.min.z-c.z)*h,s=(t.max.z-c.z)*h):(o=(t.max.z-c.z)*h,s=(t.min.z-c.z)*h),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,e)))},intersectsBox:(lr=new ke,function(t){return null!==this.intersectBox(t,lr)}),intersectTriangle:function(){var t=new ke,e=new ke,i=new ke,r=new ke;return function(n,a,o,s,u){e.subVectors(a,n),i.subVectors(o,n),r.crossVectors(e,i);var l,h=this.direction.dot(r);if(h>0){if(s)return null;l=1}else{if(!(h<0))return null;l=-1,h=-h}t.subVectors(this.origin,n);var c=l*this.direction.dot(i.crossVectors(t,i));if(c<0)return null;var p=l*this.direction.dot(e.cross(t));if(p<0)return null;if(c+p>h)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/h,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),(0,f.default)(Ar,{getNormal:(fr=new ke,function(t,e,i,r){void 0===r&&(r=new ke),r.subVectors(i,e),fr.subVectors(t,e),r.cross(fr);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:function(){var t=new ke,e=new ke,i=new ke;return function(r,n,a,o,s){t.subVectors(o,n),e.subVectors(a,n),i.subVectors(r,n);var u=t.dot(t),l=t.dot(e),h=t.dot(i),c=e.dot(e),p=e.dot(i),d=u*c-l*l;if(void 0===s&&(s=new ke),0===d)return s.set(-2,-1,-1);var f=1/d,m=(c*h-l*p)*f,v=(u*p-l*h)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new ke;return function(e,i,r,n){return Ar.getBarycoord(e,i,r,n,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:(dr=new ke,function(t,e,i,r,n,a,o,s){return this.getBarycoord(t,e,i,r,dr),s.set(0,0),s.addScaledVector(n,dr.x),s.addScaledVector(a,dr.y),s.addScaledVector(o,dr.z),s}),isFrontFacing:function(){var t=new ke,e=new ke;return function(i,r,n,a){return t.subVectors(n,r),e.subVectors(i,r),t.cross(e).dot(a)<0}}()}),(0,f.default)(Ar.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new ke,e=new ke;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(t=new ke),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Ar.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(t=new ke),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return Ar.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,i,r,n){return Ar.getUV(t,this.a,this.b,this.c,e,i,r,n)},containsPoint:function(t){return Ar.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return Ar.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(mr=new ke,vr=new ke,gr=new ke,yr=new ke,xr=new ke,br=new ke,function(t,e){void 0===e&&(e=new ke);var i,r,n=this.a,a=this.b,o=this.c;mr.subVectors(a,n),vr.subVectors(o,n),yr.subVectors(t,n);var s=mr.dot(yr),u=vr.dot(yr);if(s<=0&&u<=0)return e.copy(n);xr.subVectors(t,a);var l=mr.dot(xr),h=vr.dot(xr);if(l>=0&&h<=l)return e.copy(a);var c=s*h-l*u;if(c<=0&&s>=0&&l<=0)return i=s/(s-l),e.copy(n).addScaledVector(mr,i);br.subVectors(t,o);var p=mr.dot(br),d=vr.dot(br);if(d>=0&&p<=d)return e.copy(o);var f=p*u-s*d;if(f<=0&&u>=0&&d<=0)return r=u/(u-d),e.copy(n).addScaledVector(vr,r);var m=l*d-p*h;if(m<=0&&h-l>=0&&p-d>=0)return gr.subVectors(o,a),r=(h-l)/(h-l+(p-d)),e.copy(a).addScaledVector(gr,r);var v=1/(m+f+c);return i=f*v,r=c*v,e.copy(n).addScaledVector(mr,i).addScaledVector(vr,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Tr.prototype=(0,p.default)(ur.prototype),Tr.prototype.constructor=Tr,Tr.prototype.isMeshBasicMaterial=!0,Tr.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Lr.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Lr,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Fi.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=(0,f.default)({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,a=(0,l.default)(n);if(a.length>0){var o=n[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=r.morphTargets;void 0!==s&&s.length}},raycast:function(){var t=new fi,e=new Sr,i=new ci,r=new ke,n=new ke,a=new ke,o=new ke,s=new ke,u=new ke,l=new ke,h=new ke,c=new ke,p=new Fe,d=new Fe,f=new Fe,m=new ke,v=new ke;function g(t,e,i,r,n,a,o,s){if(null===(e.side===M?r.intersectTriangle(o,a,n,!0,s):r.intersectTriangle(n,a,o,e.side!==S,s)))return null;v.copy(s),v.applyMatrix4(t.matrixWorld);var u=i.ray.origin.distanceTo(v);return u<i.near||u>i.far?null:{distance:u,point:v.clone(),object:t}}function y(t,e,i,v,y,x,b,w,_,M){r.fromBufferAttribute(y,w),n.fromBufferAttribute(y,_),a.fromBufferAttribute(y,M);var S=t.morphTargetInfluences;if(e.morphTargets&&x&&S){l.set(0,0,0),h.set(0,0,0),c.set(0,0,0);for(var A=0,T=x.length;A<T;A++){var L=S[A],P=x[A];0!==L&&(o.fromBufferAttribute(P,w),s.fromBufferAttribute(P,_),u.fromBufferAttribute(P,M),l.addScaledVector(o.sub(r),L),h.addScaledVector(s.sub(n),L),c.addScaledVector(u.sub(a),L))}r.add(l),n.add(h),a.add(c)}var C=g(t,e,i,v,r,n,a,m);if(C){b&&(p.fromBufferAttribute(b,w),d.fromBufferAttribute(b,_),f.fromBufferAttribute(b,M),C.uv=Ar.getUV(m,r,n,a,p,d,f,new Fe));var E=new Ci(w,_,M);Ar.getNormal(r,n,a,E.normal),C.face=E}return C}return function(r,n){var a,o=this.geometry,s=this.material,u=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(u),!1!==r.ray.intersectsSphere(i)&&(t.getInverse(u),e.copy(r.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var l,h,c,v,x,b,w,_,M,S,A,T=o.index,L=o.attributes.position,P=o.morphAttributes.position,C=o.attributes.uv,E=o.groups,I=o.drawRange;if(null!==T)if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],x=S=Math.max(_.start,I.start),w=A=Math.min(_.start+_.count,I.start+I.count);x<w;x+=3)l=T.getX(x),h=T.getX(x+1),c=T.getX(x+2),(a=y(this,M,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(x/3),a.face.materialIndex=_.materialIndex,n.push(a));else for(v=S=Math.max(0,I.start),b=A=Math.min(T.count,I.start+I.count);v<b;v+=3)l=T.getX(v),h=T.getX(v+1),c=T.getX(v+2),(a=y(this,s,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(v/3),n.push(a));else if(void 0!==L){var D=1==this.drawMode,B=D?1:3;if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],S=Math.max(_.start,I.start),A=Math.min(_.start+_.count,I.start+I.count),A=Math.min(A,L.count),D&&(A-=2),x=S,w=A;x<w;x+=B)(a=y(this,M,r,e,L,P,C,l=x,h=x+1,c=x+2))&&(a.faceIndex=Math.floor(x/B),a.face.materialIndex=_.materialIndex,n.push(a));else for(S=Math.max(0,I.start),A=Math.min(L.count,I.start+I.count),D&&(A-=2),v=S,b=A;v<b;v+=B)(a=y(this,s,r,e,L,P,C,l=v,h=v+1,c=v+2))&&(a.faceIndex=Math.floor(v/B),n.push(a))}}else if(o.isGeometry){var O,z,N,R,F=Array.isArray(s),U=o.vertices,k=o.faces,G=o.faceVertexUvs[0];G.length>0&&(R=G);for(var V=0,W=k.length;V<W;V++){var H=k[V],j=F?s[H.materialIndex]:s;if(void 0!==j&&(O=U[H.a],z=U[H.b],N=U[H.c],a=g(this,j,r,e,O,z,N,m))){if(R&&R[V]){var X=R[V];p.copy(X[0]),d.copy(X[1]),f.copy(X[2]),a.uv=Ar.getUV(m,O,z,N,p,d,f,new Fe)}a.face=H,a.faceIndex=V,n.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ur.prototype=(0,p.default)(ni.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isCubeTexture=!0,Object.defineProperty(Ur.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),kr.prototype=(0,p.default)(ni.prototype),kr.prototype.constructor=kr,kr.prototype.isDataTexture2DArray=!0,Gr.prototype=(0,p.default)(ni.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isDataTexture3D=!0;var Vr=new ni,Wr=new kr,Hr=new Gr,jr=new Ur,Xr=[],qr=[],Yr=new Float32Array(16),Jr=new Float32Array(9),Zr=new Float32Array(4);function Qr(t,e,i){var r=t[0];if(r<=0||r>0)return t;var n=e*i,a=Xr[n];if(void 0===a&&(a=new Float32Array(n),Xr[n]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function Kr(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function $r(t,e){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}function tn(t,e){var i=qr[e];void 0===i&&(i=new Int32Array(e),qr[e]=i);for(var r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function en(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function rn(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Kr(i,e))return;t.uniform2fv(this.addr,e),$r(i,e)}}function nn(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Kr(i,e))return;t.uniform3fv(this.addr,e),$r(i,e)}}function an(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Kr(i,e))return;t.uniform4fv(this.addr,e),$r(i,e)}}function on(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Zr.set(r),t.uniformMatrix2fv(this.addr,!1,Zr),$r(i,r)}}function sn(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Jr.set(r),t.uniformMatrix3fv(this.addr,!1,Jr),$r(i,r)}}function un(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Yr.set(r),t.uniformMatrix4fv(this.addr,!1,Yr),$r(i,r)}}function ln(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTexture2D(e||Vr,n)}function hn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(e||Wr,n)}function cn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(e||Hr,n)}function pn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTextureCube(e||jr,n)}function dn(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function fn(t,e){var i=this.cache;Kr(i,e)||(t.uniform2iv(this.addr,e),$r(i,e))}function mn(t,e){var i=this.cache;Kr(i,e)||(t.uniform3iv(this.addr,e),$r(i,e))}function vn(t,e){var i=this.cache;Kr(i,e)||(t.uniform4iv(this.addr,e),$r(i,e))}function gn(t,e){t.uniform1fv(this.addr,e)}function yn(t,e){t.uniform1iv(this.addr,e)}function xn(t,e){t.uniform2iv(this.addr,e)}function bn(t,e){t.uniform3iv(this.addr,e)}function wn(t,e){t.uniform4iv(this.addr,e)}function _n(t,e){var i=Qr(e,this.size,2);t.uniform2fv(this.addr,i)}function Mn(t,e){var i=Qr(e,this.size,3);t.uniform3fv(this.addr,i)}function Sn(t,e){var i=Qr(e,this.size,4);t.uniform4fv(this.addr,i)}function An(t,e){var i=Qr(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function Tn(t,e){var i=Qr(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Ln(t,e){var i=Qr(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Pn(t,e,i){var r=e.length,n=tn(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTexture2D(e[a]||Vr,n[a])}function Cn(t,e,i){var r=e.length,n=tn(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTextureCube(e[a]||jr,n[a])}function En(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return en;case 35664:return rn;case 35665:return nn;case 35666:return an;case 35674:return on;case 35675:return sn;case 35676:return un;case 35678:case 36198:return ln;case 35679:return cn;case 35680:return pn;case 36289:return hn;case 5124:case 35670:return dn;case 35667:case 35671:return fn;case 35668:case 35672:return mn;case 35669:case 35673:return vn}}(e.type)}function In(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return gn;case 35664:return _n;case 35665:return Mn;case 35666:return Sn;case 35674:return An;case 35675:return Tn;case 35676:return Ln;case 35678:return Pn;case 35680:return Cn;case 5124:case 35670:return yn;case 35667:case 35671:return xn;case 35668:case 35672:return bn;case 35669:case 35673:return wn}}(e.type)}function Dn(t){this.id=t,this.seq=[],this.map={}}In.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),$r(e,t)},Dn.prototype.setValue=function(t,e,i){for(var r=this.seq,n=0,a=r.length;n!==a;++n){var o=r[n];o.setValue(t,e[o.id],i)}};var Bn=/([\w\d_]+)(\])?(\[|\.)?/g;function On(t,e){t.seq.push(e),t.map[e.id]=e}function zn(t,e,i){var r=t.name,n=r.length;for(Bn.lastIndex=0;;){var a=Bn.exec(r),o=Bn.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===n){On(i,void 0===l?new En(s,t,e):new In(s,t,e));break}var h=i.map[s];void 0===h&&On(i,h=new Dn(s)),i=h}}function Nn(t,e){this.seq=[],this.map={};for(var i=t.getProgramParameter(e,35718),r=0;r<i;++r){var n=t.getActiveUniform(e,r);zn(n,t.getUniformLocation(e,n.name),this)}}function Rn(t,e,i,r){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!0===r&&(t.getShaderParameter(n,35713),""!==t.getShaderInfoLog(n)&&(t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];e.join("\n")}(i))),n}Nn.prototype.setValue=function(t,e,i,r){var n=this.map[e];void 0!==n&&n.setValue(t,i,r)},Nn.prototype.setOptional=function(t,e,i){var r=e[i];void 0!==r&&this.setValue(t,i,r)},Nn.upload=function(t,e,i,r){for(var n=0,a=e.length;n!==a;++n){var o=e[n],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},Nn.seqWithValue=function(t,e){for(var i=[],r=0,n=t.length;r!==n;++r){var a=t[r];a.id in e&&i.push(a)}return i};var Fn=0;function Un(t){switch(t){case Te:return["Linear","( value )"];case Le:return["sRGB","( value )"];case Ce:return["RGBE","( value )"];case Ee:return["RGBM","( value, 7.0 )"];case Ie:return["RGBM","( value, 16.0 )"];case De:return["RGBD","( value, 256.0 )"];case Pe:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function kn(t,e){var i=Un(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Gn(t,e){var i;switch(e){case st:i="Linear";break;case ut:i="Reinhard";break;case lt:i="Uncharted2";break;case ht:i="OptimizedCineon";break;case ct:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Vn(t){return""!==t}function Wn(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Hn(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function jn(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(t,e){var i=mi[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return jn(i)}))}function Xn(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,i,r){for(var n="",a=parseInt(e);a<parseInt(i);a++)n+=r.replace(/\[ i \]/g,"[ "+a+" ]");return n}))}function qn(t,e,i,r,n,a,o,s){var u=t.context,l=r.defines,h=n.vertexShader,c=n.fragmentShader,p="SHADOWMAP_TYPE_BASIC";a.shadowMapType===b?p="SHADOWMAP_TYPE_PCF":a.shadowMapType===w&&(p="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",v="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case dt:case ft:f="ENVMAP_TYPE_CUBE";break;case yt:case xt:f="ENVMAP_TYPE_CUBE_UV";break;case mt:case vt:f="ENVMAP_TYPE_EQUIREC";break;case gt:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case ft:case vt:m="ENVMAP_MODE_REFRACTION"}switch(r.combine){case rt:v="ENVMAP_BLENDING_MULTIPLY";break;case nt:v="ENVMAP_BLENDING_MIX";break;case at:v="ENVMAP_BLENDING_ADD"}}var g,y,x,_,M,S=t.gammaFactor>0?t.gammaFactor:1,A=o.isWebGL2?"":function(t,e,i){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vn).join("\n")}(r.extensions,a,e),T=function(t){var e=[];for(var i in t){var r=t[i];!1!==r&&e.push("#define "+i+" "+r)}return e.join("\n")}(l),L=u.createProgram();if(r.isRawShaderMaterial?((g=[T].filter(Vn).join("\n")).length>0&&(g+="\n"),(y=[A,T].filter(Vn).join("\n")).length>0&&(y+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,T,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+S,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Vn).join("\n"),y=[A,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,T,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+S,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.envMap?"#define "+m:"",a.envMap?"#define "+v:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==ot?"#define TONE_MAPPING":"",a.toneMapping!==ot?mi.tonemapping_pars_fragment:"",a.toneMapping!==ot?Gn("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?mi.encodings_pars_fragment:"",a.mapEncoding?kn("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?kn("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?kn("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?kn("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(x="linearToOutputTexel",_=a.outputEncoding,M=Un(_),"vec4 "+x+"( vec4 value ) { return LinearTo"+M[0]+M[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Vn).join("\n")),h=Hn(h=Wn(h=jn(h),a),a),c=Hn(c=Wn(c=jn(c),a),a),h=Xn(h),c=Xn(c),o.isWebGL2&&!r.isRawShaderMaterial){var P=!1,C=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==h.match(C)&&null!==c.match(C)&&(P=!0,h=h.replace(C,""),c=c.replace(C,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#version 300 es\n","#define varying in",P?"":"out highp vec4 pc_fragColor;",P?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var E,I,D=y+c,B=Rn(u,35633,g+h,t.debug.checkShaderErrors),O=Rn(u,35632,D,t.debug.checkShaderErrors);if(u.attachShader(L,B),u.attachShader(L,O),void 0!==r.index0AttributeName?u.bindAttribLocation(L,0,r.index0AttributeName):!0===a.morphTargets&&u.bindAttribLocation(L,0,"position"),u.linkProgram(L),t.debug.checkShaderErrors){var z=u.getProgramInfoLog(L).trim(),N=u.getShaderInfoLog(B).trim(),R=u.getShaderInfoLog(O).trim(),F=!0,U=!0;!1===u.getProgramParameter(L,35714)?(F=!1,u.getError(),u.getProgramParameter(L,35715)):""!==z||""!==N&&""!==R||(U=!1),U&&(this.diagnostics={runnable:F,material:r,programLog:z,vertexShader:{log:N,prefix:g},fragmentShader:{log:R,prefix:y}})}return u.deleteShader(B),u.deleteShader(O),this.getUniforms=function(){return void 0===E&&(E=new Nn(u,L,s)),E},this.getAttributes=function(){return void 0===I&&(I=function(t,e){for(var i={},r=t.getProgramParameter(e,35721),n=0;n<r;n++){var a=t.getActiveAttrib(e,n).name;i[a]=t.getAttribLocation(e,a)}return i}(u,L)),I},this.destroy=function(){u.deleteProgram(L),this.program=void 0},(0,d.default)(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.name=n.name,this.id=Fn++,this.code=i,this.usedTimes=1,this.program=L,this.vertexShader=B,this.fragmentShader=O,this}function Yn(t,e,i,r){var n=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(i=t.texture.encoding):i=Te,i===Te&&e&&(i=Pe),i}this.getParameters=function(e,r,n,o,u,l,h){var c=a[e.type],p=h.isSkinnedMesh?function(t){var e=t.skeleton;if(!e)return 0;var r=e.bones;if(i.floatVertexTextures)return 1024;var n=i.maxVertexUniforms,a=Math.floor((n-20)/4),o=Math.min(a,r.length);return o<r.length?(r.length,0):o}(h):0,d=i.precision;null!==e.precision&&(d=i.getMaxPrecision(e.precision))!==e.precision&&e.precision;var f=t.getRenderTarget();return{shaderID:c,precision:d,supportsVertexTextures:i.vertexTextures,outputEncoding:s(f?f.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:s(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:s(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:s(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===yt||e.envMap.mapping===xt),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:s(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ne,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!o,useFog:e.fog,fogExp:o&&o.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:i.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:l,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&n.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===S,flipSided:e.side===M,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,i){var r=[];if(i.shaderID?r.push(i.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)r.push(n),r.push(e.defines[n]);for(var a=0;a<o.length;a++)r.push(i[o[a]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(a,o,s,u){for(var l,h=0,c=n.length;h<c;h++){var p=n[h];if(p.code===u){++(l=p).usedTimes;break}}return void 0===l&&(l=new qn(t,e,u,a,o,s,i,r),n.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function Jn(){var t=new c.default;return{get:function(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,r){t.get(e)[i]=r},dispose:function(){t=new c.default}}}function Zn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Qn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Kn(){var t=[],e=0,i=[],r=[],n={id:-1};function a(i,r,a,o,s,u){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:r,material:a,program:a.program||n,groupOrder:o,renderOrder:i.renderOrder,z:s,group:u},t[e]=l):(l.id=i.id,l.object=i,l.geometry=r,l.material=a,l.program=a.program||n,l.groupOrder=o,l.renderOrder=i.renderOrder,l.z=s,l.group=u),e++,l}return{opaque:i,transparent:r,init:function(){e=0,i.length=0,r.length=0},push:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).unshift(l)},sort:function(){i.length>1&&i.sort(Zn),r.length>1&&r.sort(Qn)}}}function $n(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n,a=t[i.id];return void 0===a?(n=new Kn,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===(n=a[r.id])&&(n=new Kn,a[r.id]=n),n},dispose:function(){t={}}}}function ta(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new ke,color:new Mi,shadow:!1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":i={position:new ke,direction:new ke,color:new Mi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":i={position:new ke,color:new Mi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new ke,skyColor:new Mi,groundColor:new Mi};break;case"RectAreaLight":i={color:new Mi,position:new ke,halfWidth:new ke,halfHeight:new ke}}return t[e.id]=i,i}}}var ea=0;function ia(){for(var t=new ta,e={id:ea++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowBias:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)e.probe.push(new ke);var r=new ke,n=new fi,a=new fi;return{setup:function(i,o,s){for(var u=0,l=0,h=0,c=0;c<9;c++)e.probe[c].set(0,0,0);for(var p=0,d=0,f=0,m=0,v=0,g=s.matrixWorldInverse,y=(c=0,i.length);c<y;c++){var x=i[c],b=x.color,w=x.intensity,_=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)u+=b.r*w,l+=b.g*w,h+=b.b*w;else if(x.isLightProbe)for(var S=0;S<9;S++)e.probe[S].addScaledVector(x.sh.coefficients[S],w);else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var A=x.shadow;T.shadowBias=A.bias,T.shadowNormalBias=A.normalBias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize}e.directionalShadowMap[p]=M,e.directionalShadowBias[p]=x.shadow.normalBias,e.directionalShadowMatrix[p]=x.shadow.matrix,e.directional[p]=T,p++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(w),T.distance=_,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize),e.spotShadowMap[f]=M,e.spotShadowMatrix[f]=x.shadow.matrix,e.spot[f]=T,f++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(w),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),a.identity(),n.copy(x.matrixWorld),n.premultiply(g),a.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),e.rectArea[m]=T,m++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize,T.shadowCameraNear=A.camera.near,T.shadowCameraFar=A.camera.far),e.pointShadowMap[d]=M,e.pointShadowMatrix[d]=x.shadow.matrix,e.point[d]=T,d++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),e.hemi[v]=T,v++}}e.ambient[0]=u,e.ambient[1]=l,e.ambient[2]=h,e.directional.length=p,e.spot.length=f,e.rectArea.length=m,e.point.length=d,e.hemi.length=v,e.hash.stateID=e.id,e.hash.directionalLength=p,e.hash.pointLength=d,e.hash.spotLength=f,e.hash.rectAreaLength=m,e.hash.hemiLength=v,e.hash.shadowsLength=o.length},state:e}}function ra(){var t=new ia,e=[],i=[];return{init:function(){e.length=0,i.length=0},state:{lightsArray:e,shadowsArray:i,lights:t},setupLights:function(r){t.setup(e,i,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){i.push(t)}}}function na(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n;return void 0===t[i.id]?(n=new ra,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===t[i.id][r.id]?(n=new ra,t[i.id][r.id]=n):n=t[i.id][r.id],n},dispose:function(){t={}}}}function aa(t){ur.call(this),this.type="MeshDepthMaterial",this.depthPacking=Be,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function oa(t){ur.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ke,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function sa(t,e,i){for(var r=new di,n=new fi,a=new Fe,o=new Fe(i,i),s=new ke,u=new ke,l=1,h=2,c=1+(l|h),p=new Array(c),d=new Array(c),f={},m={0:M,1:_,2:S},v=[new ke(1,0,0),new ke(-1,0,0),new ke(0,0,1),new ke(0,0,-1),new ke(0,1,0),new ke(0,-1,0)],g=[new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,0,1),new ke(0,0,-1)],y=[new ai,new ai,new ai,new ai,new ai,new ai],x=0;x!==c;++x){var w=0!=(x&l),A=0!=(x&h),T=new aa({depthPacking:Oe,morphTargets:w,skinning:A});p[x]=T;var P=new oa({morphTargets:w,skinning:A});d[x]=P}var C=this;function E(e,i,r,n,a,o){var s=e.geometry,u=null,c=p,v=e.customDepthMaterial;if(r&&(c=d,v=e.customDistanceMaterial),v)u=v;else{var g=!1;i.morphTargets&&(s&&s.isBufferGeometry?g=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(g=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&i.skinning;var y=e.isSkinnedMesh&&i.skinning,x=0;g&&(x|=l),y&&(x|=h),u=c[x]}if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var b=u.uuid,w=i.uuid,_=f[b];void 0===_&&(_={},f[b]=_);var M=_[w];void 0===M&&(M=u.clone(),_[w]=M),u=M}return u.visible=i.visible,u.wireframe=i.wireframe,u.side=null!=i.shadowSide?i.shadowSide:m[i.side],u.clipShadows=i.clipShadows,u.clippingPlanes=i.clippingPlanes,u.clipIntersection=i.clipIntersection,u.wireframeLinewidth=i.wireframeLinewidth,u.linewidth=i.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(n),u.nearDistance=a,u.farDistance=o),u}function I(i,n,a,o){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var s=e.update(i),l=i.material;if(Array.isArray(l))for(var h=s.groups,c=0,p=h.length;c<p;c++){var d=h[c],f=l[d.materialIndex];if(f&&f.visible){var m=E(i,f,o,u,a.near,a.far);t.renderBufferDirect(a,null,s,m,i,d)}}else l.visible&&(m=E(i,l,o,u,a.near,a.far),t.renderBufferDirect(a,null,s,m,i,null))}for(var v=i.children,g=0,y=v.length;g<y;g++)I(v[g],n,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=b,this.render=function(e,i,l){if(!1!==C.enabled&&(!1!==C.autoUpdate||!1!==C.needsUpdate)&&0!==e.length){var h,c=t.getRenderTarget(),p=t.getActiveCubeFace(),d=t.getActiveMipMapLevel(),f=t.state;f.setBlending(L),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var m=0,x=e.length;m<x;m++){var b=e[m],w=b.shadow,_=b&&b.isPointLight;if(void 0!==w){var M=w.camera;if(a.copy(w.mapSize),a.min(o),_){var S=a.x,A=a.y;y[0].set(2*S,A,S,A),y[1].set(0,A,S,A),y[2].set(3*S,A,S,A),y[3].set(S,A,S,A),y[4].set(3*S,0,S,A),y[5].set(S,0,S,A),a.x*=4,a.y*=2}if(null===w.map){var T={minFilter:Mt,magFilter:Mt,format:Wt};w.map=new oi(a.x,a.y,T),w.map.texture.name=b.name+".shadowMap",M.updateProjectionMatrix()}w.isSpotLightShadow&&w.update(b);var P=w.map,E=w.matrix;u.setFromMatrixPosition(b.matrixWorld),M.position.copy(u),_?(h=6,E.makeTranslation(-u.x,-u.y,-u.z)):(h=1,s.setFromMatrixPosition(b.target.matrixWorld),M.lookAt(s),M.updateMatrixWorld(),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(M.projectionMatrix),E.multiply(M.matrixWorldInverse)),t.setRenderTarget(P),t.clear();for(var D=0;D<h;D++){if(_){s.copy(M.position),s.add(v[D]),M.up.copy(g[D]),M.lookAt(s),M.updateMatrixWorld();var B=y[D];f.viewport(B)}n.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),r.setFromMatrix(n),I(i,l,M,_)}}}C.needsUpdate=!1,t.setRenderTarget(c,p,d)}}}function ua(t,e,i,r){var n=new function(){var e=!1,i=new ai,r=null,n=new ai(0,0,0,0);return{setMask:function(i){r===i||e||(t.colorMask(i,i,i,i),r=i)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),i.set(e,r,a,o),!1===n.equals(i)&&(t.clearColor(e,r,a,o),n.copy(i))},reset:function(){e=!1,r=null,n.set(-1,0,0,0)}}},s=new function(){var e=!1,i=null,r=null,n=null;return{setTest:function(t){t?at(2929):ot(2929)},setMask:function(r){i===r||e||(t.depthMask(r),i=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case J:t.depthFunc(512);break;case Z:t.depthFunc(519);break;case Q:t.depthFunc(513);break;case K:t.depthFunc(515);break;case $:t.depthFunc(514);break;case tt:t.depthFunc(518);break;case et:t.depthFunc(516);break;case it:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){n!==e&&(t.clearDepth(e),n=e)},reset:function(){e=!1,i=null,r=null,n=null}}},u=new function(){var e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(t){t?at(2960):ot(2960)},setMask:function(r){i===r||e||(t.stencilMask(r),i=r)},setFunc:function(e,i,o){r===e&&n===i&&a===o||(t.stencilFunc(e,i,o),r=e,n=i,a=o)},setOp:function(e,i,r){o===e&&s===i&&u===r||(t.stencilOp(e,i,r),o=e,s=i,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null}}},l=t.getParameter(34921),h=new Uint8Array(l),c=new Uint8Array(l),p=new Uint8Array(l),d={},f=null,m=null,v=null,g=null,y=null,b=null,w=null,_=null,A=null,T=null,O=!1,z=null,N=null,R=null,F=null,U=null,k=t.getParameter(35661),G=!1,V=0,W=t.getParameter(7938);-1!==W.indexOf("WebGL")?(V=parseFloat(/^WebGL\ ([0-9])/.exec(W)[1]),G=V>=1):-1!==W.indexOf("OpenGL ES")&&(V=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(W)[1]),G=V>=2);var H=null,j={},X=new ai,q=new ai;function Y(e,i,r){var n=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,n);return a}var rt={};function nt(i,n){h[i]=1,0===c[i]&&(t.enableVertexAttribArray(i),c[i]=1),p[i]!==n&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),p[i]=n)}function at(e){!0!==d[e]&&(t.enable(e),d[e]=!0)}function ot(e){!1!==d[e]&&(t.disable(e),d[e]=!1)}function st(e,r,n,a,o,s,u,l){if(e!==L){if(v||(at(3042),v=!0),e===D)o=o||r,s=s||n,u=u||a,r===y&&o===_||(t.blendEquationSeparate(i.convert(r),i.convert(o)),y=r,_=o),n===b&&a===w&&s===A&&u===T||(t.blendFuncSeparate(i.convert(n),i.convert(a),i.convert(s),i.convert(u)),b=n,w=a,A=s,T=u),g=e,O=null;else if(e!==g||l!==O){if(y===B&&_===B||(t.blendEquation(32774),y=B,_=B),l)switch(e){case P:t.blendFuncSeparate(1,771,1,771);break;case C:t.blendFunc(1,1);break;case E:t.blendFuncSeparate(0,0,769,771);break;case I:t.blendFuncSeparate(0,768,0,770)}else switch(e){case P:t.blendFuncSeparate(770,771,1,771);break;case C:t.blendFunc(770,1);break;case E:t.blendFunc(0,769);break;case I:t.blendFunc(0,768)}b=null,w=null,A=null,T=null,g=e,O=l}}else v&&(ot(3042),v=!1)}function ut(e){z!==e&&(e?t.frontFace(2304):t.frontFace(2305),z=e)}function lt(e){e!==a?(at(2884),e!==N&&(e===o?t.cullFace(1029):e===x?t.cullFace(1028):t.cullFace(1032))):ot(2884),N=e}function ht(e,i,r){e?(at(32823),F===i&&U===r||(t.polygonOffset(i,r),F=i,U=r)):ot(32823)}function ct(e){void 0===e&&(e=33984+k-1),H!==e&&(t.activeTexture(e),H=e)}return rt[3553]=Y(3553,3553,1),rt[34067]=Y(34067,34069,6),n.setClear(0,0,0,1),s.setClear(1),u.setClear(0),at(2929),s.setFunc(K),ut(!1),lt(o),at(2884),st(L),{buffers:{color:n,depth:s,stencil:u},initAttributes:function(){for(var t=0,e=h.length;t<e;t++)h[t]=0},enableAttribute:function(t){nt(t,0)},enableAttributeAndDivisor:nt,disableUnusedAttributes:function(){for(var e=0,i=c.length;e!==i;++e)c[e]!==h[e]&&(t.disableVertexAttribArray(e),c[e]=0)},enable:at,disable:ot,getCompressedTextureFormats:function(){if(null===f&&(f=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var i=t.getParameter(34467),r=0;r<i.length;r++)f.push(i[r]);return f},useProgram:function(e){return m!==e&&(t.useProgram(e),m=e,!0)},setBlending:st,setMaterial:function(t,e){t.side===S?ot(2884):at(2884);var i=t.side===M;e&&(i=!i),ut(i),t.blending===P&&!1===t.transparent?st(L):st(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),n.setMask(t.colorWrite),ht(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:ut,setCullFace:lt,setLineWidth:function(e){e!==R&&(G&&t.lineWidth(e),R=e)},setPolygonOffset:ht,setScissorTest:function(t){t?at(3089):ot(3089)},activeTexture:ct,bindTexture:function(e,i){null===H&&ct();var r=j[H];void 0===r&&(r={type:void 0,texture:void 0},j[H]=r),r.type===e&&r.texture===i||(t.bindTexture(e,i||rt[e]),r.type=e,r.texture=i)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===X.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),X.copy(e))},viewport:function(e){!1===q.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),q.copy(e))},reset:function(){for(var e=0;e<c.length;e++)1===c[e]&&(t.disableVertexAttribArray(e),c[e]=0);d={},f=null,H=null,j={},m=null,g=null,z=null,N=null,n.reset(),s.reset(),u.reset()}}}function la(t,e,i,r,n,a,o){var s,u={},l="undefined"!=typeof OffscreenCanvas;function h(t,e){return l?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function c(t,e,i,r){var n=1;if((t.width>r||t.height>r)&&(n=r/Math.max(t.width,t.height)),n<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?Re.floorPowerOfTwo:Math.floor,o=a(n*t.width),u=a(n*t.height);void 0===s&&(s=h(o,u));var l=i?h(o,u):s;return l.width=o,l.height=u,l.getContext("2d").drawImage(t,0,0,o,u),t.width,t.height,l}return"data"in t&&(t.width,t.height),t}return t}function p(t){return Re.isPowerOfTwo(t.width)&&Re.isPowerOfTwo(t.height)}function d(t,e){return t.generateMipmaps&&e&&t.minFilter!==Mt&&t.minFilter!==Tt}function f(e,i,n,a){t.generateMipmap(e),r.get(i).__maxMipLevel=Math.log(Math.max(n,a))*Math.LOG2E}function m(t,i){if(!n.isWebGL2)return t;var r=t;return 6403===t&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===t&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===t&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325!==r&&33326!==r&&34842!==r&&34836!==r||e.get("EXT_color_buffer_float"),r}function v(t){return t===Mt||t===St||t===At?9728:9729}function g(e){var i=e.target;i.removeEventListener("dispose",g),function(e){var i=r.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),r.remove(e))}(i),i.isVideoTexture&&delete u[i.id],o.memory.textures--}function y(e){var i=e.target;i.removeEventListener("dispose",y),function(e){var i=r.get(e),n=r.get(e.texture);if(e){if(void 0!==n.__webglTexture&&t.deleteTexture(n.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(i),o.memory.textures--}var x=0;function b(t,e){var n=r.get(t);if(t.isVideoTexture&&function(t){var e=t.id,i=o.render.frame;u[e]!==i&&(u[e]=i,t.update())}(t),t.version>0&&n.__version!==t.version){var a=t.image;if(void 0===a);else if(!1!==a.complete)return void A(n,t,e)}i.activeTexture(33984+e),i.bindTexture(3553,n.__webglTexture)}function w(e,o){var s=r.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){S(s,e),i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var u=e&&e.isCompressedTexture,l=e.image[0]&&e.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=u||l?l?e.image[v].image:e.image[v]:c(e.image[v],!1,!0,n.maxCubemapSize);var g=h[0],y=p(g)||n.isWebGL2,x=a.convert(e.format),b=a.convert(e.type),w=m(x,b);for(M(34067,e,y),v=0;v<6;v++)if(u)for(var _,A=h[v].mipmaps,T=0,L=A.length;T<L;T++)_=A[T],e.format!==Wt&&e.format!==Vt?i.getCompressedTextureFormats().indexOf(x)>-1&&i.compressedTexImage2D(34069+v,T,w,_.width,_.height,0,_.data):i.texImage2D(34069+v,T,w,_.width,_.height,0,x,b,_.data);else l?i.texImage2D(34069+v,0,w,h[v].width,h[v].height,0,x,b,h[v].data):i.texImage2D(34069+v,0,w,x,b,h[v]);s.__maxMipLevel=u?A.length-1:0,d(e,y)&&f(34067,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture)}function _(t,e){i.activeTexture(33984+e),i.bindTexture(34067,r.get(t).__webglTexture)}function M(i,o,s){var u;if(s?(t.texParameteri(i,10242,a.convert(o.wrapS)),t.texParameteri(i,10243,a.convert(o.wrapT)),32879!==i&&35866!==i||t.texParameteri(i,32882,a.convert(o.wrapR)),t.texParameteri(i,10240,a.convert(o.magFilter)),t.texParameteri(i,10241,a.convert(o.minFilter))):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),o.wrapS!==wt||o.wrapT,t.texParameteri(i,10240,v(o.magFilter)),t.texParameteri(i,10241,v(o.minFilter)),o.minFilter!==Mt&&o.minFilter),u=e.get("EXT_texture_filter_anisotropic")){if(o.type===zt&&null===e.get("OES_texture_float_linear"))return;if(o.type===Nt&&null===(n.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(i,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function S(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function A(e,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),S(e,r),i.activeTexture(33984+o),i.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var u=function(t){return!n.isWebGL2&&(t.wrapS!==wt||t.wrapT!==wt||t.minFilter!==Mt&&t.minFilter!==Tt)}(r)&&!1===p(r.image),l=c(r.image,u,!1,n.maxTextureSize),h=p(l)||n.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);M(s,r,h);var x,b=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===zt){if(!n.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else n.isWebGL2&&(y=33189);r.format===qt&&6402===y&&r.type!==Dt&&r.type!==Ot&&(r.type=Dt,g=a.convert(r.type)),r.format===Yt&&(y=34041,r.type!==kt&&(r.type=kt,g=a.convert(r.type))),i.texImage2D(3553,0,y,l.width,l.height,0,v,g,null)}else if(r.isDataTexture)if(b.length>0&&h){for(var w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,l.width,l.height,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(w=0,_=b.length;w<_;w++)x=b[w],r.format!==Wt&&r.format!==Vt?i.getCompressedTextureFormats().indexOf(v)>-1&&i.compressedTexImage2D(3553,w,y,x.width,x.height,0,x.data):i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);e.__maxMipLevel=b.length-1}else if(r.isDataTexture2DArray)i.texImage3D(35866,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)i.texImage3D(32879,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(b.length>0&&h){for(w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,v,g,x);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,v,g,l),e.__maxMipLevel=0;d(r,h)&&f(3553,r,l.width,l.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(e,n,o,s){var u=a.convert(n.texture.format),l=a.convert(n.texture.type),h=m(u,l);i.texImage2D(s,0,h,n.width,n.height,0,u,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,r.get(n.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function L(e,i,r){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){if(r){var n=C(i);t.renderbufferStorageMultisample(36161,n,33189,i.width,i.height)}else t.renderbufferStorage(36161,33189,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer)r?(n=C(i),t.renderbufferStorageMultisample(36161,n,34041,i.width,i.height)):t.renderbufferStorage(36161,34041,i.width,i.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=m(a.convert(i.texture.format),a.convert(i.texture.type));r?(n=C(i),t.renderbufferStorageMultisample(36161,n,o,i.width,i.height)):t.renderbufferStorage(36161,o,i.width,i.height)}t.bindRenderbuffer(36161,null)}function P(e){var i=r.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),b(i.depthTexture,0);var n=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===qt)t.framebufferTexture2D(36160,36096,3553,n,0);else{if(i.depthTexture.format!==Yt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,n,0)}}(i.__webglFramebuffer,e)}else if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),L(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),L(i.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function C(t){return n.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(n.maxSamples,t.samples):0}var E=!1,I=!1;this.allocateTextureUnit=function(){var t=x;return t>=n.maxTextures&&n.maxTextures,x+=1,t},this.resetTextureUnits=function(){x=0},this.setTexture2D=b,this.setTexture2DArray=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,n.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(e){var s=r.get(e),u=r.get(e.texture);e.addEventListener("dispose",y),u.__webglTexture=t.createTexture(),o.memory.textures++;var l=!0===e.isWebGLRenderTargetCube,h=!0===e.isWebGLMultisampleRenderTarget,c=p(e)||n.isWebGL2;if(l){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h&&n.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),x=C(e);t.renderbufferStorageMultisample(36161,x,g,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),L(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}if(l){for(i.bindTexture(34067,u.__webglTexture),M(34067,e.texture,c),v=0;v<6;v++)T(s.__webglFramebuffer[v],e,36064,34069+v);d(e.texture,c)&&f(34067,e.texture,e.width,e.height),i.bindTexture(34067,null)}else i.bindTexture(3553,u.__webglTexture),M(3553,e.texture,c),T(s.__webglFramebuffer,e,36064,3553),d(e.texture,c)&&f(3553,e.texture,e.width,e.height),i.bindTexture(3553,null);e.depthBuffer&&P(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(d(e,p(t)||n.isWebGL2)){var a=t.isWebGLRenderTargetCube?34067:3553,o=r.get(e).__webglTexture;i.bindTexture(a,o),f(a,e,t.width,t.height),i.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&n.isWebGL2){var i=r.get(e);t.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,i.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===E&&(E=!0),t=t.texture),b(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLRenderTargetCube&&(!1===I&&(I=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?w(t,e):_(t,e)}}function ha(t,e,i){return{convert:function(t){var r;if(t===bt)return 10497;if(t===wt)return 33071;if(t===_t)return 33648;if(t===Mt)return 9728;if(t===St)return 9984;if(t===At)return 9986;if(t===Tt)return 9729;if(t===Lt)return 9985;if(t===Pt)return 9987;if(t===Ct)return 5121;if(t===Rt)return 32819;if(t===Ft)return 32820;if(t===Ut)return 33635;if(t===Et)return 5120;if(t===It)return 5122;if(t===Dt)return 5123;if(t===Bt)return 5124;if(t===Ot)return 5125;if(t===zt)return 5126;if(t===Nt){if(i.isWebGL2)return 5131;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(t===Gt)return 6406;if(t===Vt)return 6407;if(t===Wt)return 6408;if(t===Ht)return 6409;if(t===jt)return 6410;if(t===qt)return 6402;if(t===Yt)return 34041;if(t===Jt)return 6403;if(t===B)return 32774;if(t===O)return 32778;if(t===z)return 32779;if(t===F)return 0;if(t===U)return 1;if(t===k)return 768;if(t===G)return 769;if(t===V)return 770;if(t===W)return 771;if(t===H)return 772;if(t===j)return 773;if(t===X)return 774;if(t===q)return 775;if(t===Y)return 776;if((t===Zt||t===Qt||t===Kt||t===$t)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(t===Zt)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Qt)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Kt)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===$t)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===te||t===ee||t===ie||t===re)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===te)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ee)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===ie)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===re)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ne&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((t===ae||t===oe||t===se||t===ue||t===le||t===he||t===ce||t===pe||t===de||t===fe||t===me||t===ve||t===ge||t===ye)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return t;if(t===N||t===R){if(i.isWebGL2){if(t===N)return 32775;if(t===R)return 32776}if(null!==(r=e.get("EXT_blend_minmax"))){if(t===N)return r.MIN_EXT;if(t===R)return r.MAX_EXT}}if(t===kt){if(i.isWebGL2)return 34042;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function ca(){Fi.call(this),this.type="Group"}function pa(){Fi.call(this),this.type="Camera",this.matrixWorldInverse=new fi,this.projectionMatrix=new fi,this.projectionMatrixInverse=new fi}function da(t,e,i,r){pa.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function fa(t){da.call(this),this.cameras=t||[]}aa.prototype=(0,p.default)(ur.prototype),aa.prototype.constructor=aa,aa.prototype.isMeshDepthMaterial=!0,aa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},oa.prototype=(0,p.default)(ur.prototype),oa.prototype.constructor=oa,oa.prototype.isMeshDistanceMaterial=!0,oa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},ca.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:ca,isGroup:!0}),pa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:pa,isCamera:!0,copy:function(t,e){return Fi.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new ke),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Fi.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),da.prototype=(0,f.default)((0,p.default)(pa.prototype),{constructor:da,isPerspectiveCamera:!0,copy:function(t,e){return pa.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:(0,f.default)({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Re.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Re.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Re.RAD2DEG*Math.atan(Math.tan(.5*Re.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,r,n,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Re.DEG2RAD*this.fov)/this.zoom,i=2*e,r=this.aspect*i,n=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o,e-=a.offsetY*i/s,r*=a.width/o,i*=a.height/s}var u=this.filmOffset;0!==u&&(n+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,e,e-i,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),fa.prototype=(0,f.default)((0,p.default)(da.prototype),{constructor:fa,isArrayCamera:!0});var ma,va,ga,ya,xa,ba,wa=new ke,_a=new ke;function Ma(t,e,i){wa.setFromMatrixPosition(e.matrixWorld),_a.setFromMatrixPosition(i.matrixWorld);var r=wa.distanceTo(_a),n=e.projectionMatrix.elements,a=i.projectionMatrix.elements,o=n[14]/(n[10]-1),s=n[14]/(n[10]+1),u=(n[9]+1)/n[5],l=(n[9]-1)/n[5],h=(n[8]-1)/n[0],c=(a[8]+1)/a[0],p=o*h,d=o*c,f=r/(-h+c),m=f*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=p-m,x=d+(r-m),b=u*s/g*v,w=l*s/g*v;t.projectionMatrix.makePerspective(y,x,b,w,v,g)}function Sa(t){var e,i,r=this,n=null,a=null,o=null,s=[],u=new fi,l=new fi,h=1,c="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var p=new fi,d=new Ue,f=new ke,m=new da;m.viewport=new ai,m.layers.enable(1);var v=new da;v.viewport=new ai,v.layers.enable(2);var g=new fa([m,v]);function y(){return null!==n&&!0===n.isPresenting}g.layers.enable(1),g.layers.enable(2);var x,b=new Fe;function w(){if(y()){var a=n.getEyeParameters("left");e=2*a.renderWidth*h,i=a.renderHeight*h,x=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,i,1),m.viewport.set(0,0,e/2,i),v.viewport.set(e/2,0,e/2,i),A.start()}else r.enabled&&t.setDrawingBufferSize(b.width,b.height,x),A.stop()}var _=[];function M(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=e.length;i<n;i++){var a=e[i];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===t)return a;r++}}}function S(t,r){null!==r&&4===r.length&&t.set(r[0]*e,r[1]*i,r[2]*e,r[3]*i)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new ca).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),A.setContext(t)},this.setFramebufferScaleFactor=function(t){h=t},this.setReferenceSpaceType=function(t){c=t},this.setPoseTarget=function(t){void 0!==t&&(o=t)},this.getCamera=function(t){var e="local-floor"===c?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(a),"local-floor"===c){var i=n.stageParameters;i?u.fromArray(i.sittingToStandingTransform):u.makeTranslation(0,e,0)}var r=a.pose,h=null!==o?o:t;h.matrix.copy(u),h.matrix.decompose(h.position,h.quaternion,h.scale),null!==r.orientation&&(d.fromArray(r.orientation),h.quaternion.multiply(d)),null!==r.position&&(d.setFromRotationMatrix(u),f.fromArray(r.position),f.applyQuaternion(d),h.position.add(f)),h.updateMatrixWorld(),m.near=t.near,v.near=t.near,m.far=t.far,v.far=t.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),v.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(u),"local-floor"===c&&(m.matrixWorldInverse.multiply(l),v.matrixWorldInverse.multiply(l));var x=h.parent;null!==x&&(p.getInverse(x.matrixWorld),m.matrixWorldInverse.multiply(p),v.matrixWorldInverse.multiply(p)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),v.projectionMatrix.fromArray(a.rightProjectionMatrix),Ma(g,m,v);var b=n.getLayers();if(b.length){var w=b[0];S(m.viewport,w.leftBounds),S(v.viewport,w.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],i=M(t);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(u),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var n="Daydream Controller"===i.id?0:1;void 0===_[t]&&(_[t]=!1),_[t]!==i.buttons[n].pressed&&(_[t]=i.buttons[n].pressed,!0===_[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return u},this.isPresenting=y;var A=new Li;this.setAnimationLoop=function(t){A.setAnimationLoop(t),y()&&A.start()},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){}}function Aa(t){var e=t.context,i=null,r=null,n="local-floor",a=null,o=[],s=[];function u(){return null!==i&&null!==r}var l=new da;l.layers.enable(1),l.viewport=new ai;var h=new da;h.layers.enable(2),h.viewport=new ai;var c=new fa([l,h]);function p(t){for(var e=0;e<o.length;e++)s[e]===t.inputSource&&o[e].dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),g.stop()}function f(t){r=t,g.setContext(i),g.start()}function m(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}c.layers.enable(1),c.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=o[t];return void 0===e&&((e=new ca).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.setFramebufferScaleFactor=function(t){},this.setReferenceSpaceType=function(t){n=t},this.setSession=function(t){null!==(i=t)&&(i.addEventListener("select",p),i.addEventListener("selectstart",p),i.addEventListener("selectend",p),i.addEventListener("end",d),i.updateRenderState({baseLayer:new XRWebGLLayer(i,e)}),i.requestReferenceSpace(n).then(f),s=i.inputSources,i.addEventListener("inputsourceschange",(function(){s=i.inputSources;for(var t=0;t<o.length;t++)o[t].userData.inputSource=s[t]})))},this.getCamera=function(t){if(u()){var e=t.parent,i=c.cameras;m(c,e);for(var r=0;r<i.length;r++)m(i[r],e);t.matrixWorld.copy(c.matrixWorld);for(var n=t.children,a=(r=0,n.length);r<a;r++)n[r].updateMatrixWorld(!0);return Ma(c,l,h),c}return t},this.isPresenting=u;var v=null,g=new Li;g.setAnimationLoop((function(e,n){if(null!==(a=n.getViewerPose(r))){var u=a.views,l=i.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var h=0;h<u.length;h++){var p=u[h],d=l.getViewport(p),f=p.transform.inverse.matrix,m=c.cameras[h];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(p.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===h&&c.matrix.copy(m.matrix)}}for(h=0;h<o.length;h++){var g=o[h],y=s[h];if(y){var x=n.getPose(y.targetRaySpace,r);if(null!==x){g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)})),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return new fi},this.getDevice=function(){},this.setDevice=function(){},this.setFrameOfReferenceType=function(){},this.submitFrame=function(){}}function Ta(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,n=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,c=null,p=null;this.domElement=e,this.context=null,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=st,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,f,m,v,g,y,x,b,w,_,S,A,T,L,P,C,E,I,D=this,B=!1,O=null,z=0,N=0,R=null,F=null,U=-1,k={geometry:null,program:null,wireframe:!1},G=null,V=null,W=new ai,H=new ai,j=null,X=e.width,q=e.height,Y=1,J=new ai(0,0,X,q),Z=new ai(0,0,X,q),Q=!1,K=new di,$=new Ir,tt=!1,et=!1,it=new fi,rt=new ke;function nt(){return null===R?Y:1}try{var at={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(e.addEventListener("webglcontextlost",ht,!1),e.addEventListener("webglcontextrestored",ct,!1),null===(d=i||e.getContext("webgl",at)||e.getContext("experimental-webgl",at)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t.message,t}function ot(){f=new Dr(d),(m=new Er(d,f,t)).isWebGL2||(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),I=new ha(d,f,m),(v=new ua(d,f,I,m)).scissor(H.copy(Z).multiplyScalar(Y)),v.viewport(W.copy(J).multiplyScalar(Y)),g=new zr(d),y=new Jn,x=new la(d,f,v,y,m,I,g),b=new Pi(d),w=new Br(d,b,g),_=new Fr(w,g),P=new Rr(d),S=new Yn(D,f,m,x),A=new $n,T=new na,L=new Pr(D,v,_,s),C=new Cr(d,f,g,m),E=new Or(d,f,g,m),g.programs=S.programs,D.context=d,D.capabilities=m,D.extensions=f,D.properties=y,D.renderLists=A,D.state=v,D.info=g}ot();var ut="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new Aa(D):new Sa(D);this.vr=ut;var lt=new sa(D,_,m.maxTextureSize);function ht(t){t.preventDefault(),B=!0}function ct(){B=!1,ot()}function pt(t){var e=t.target;e.removeEventListener("dispose",pt),function(t){dt(t),y.remove(t)}(e)}function dt(t){var e=y.get(t).program;t.program=void 0,void 0!==e&&S.releaseProgram(e)}this.shadowMap=lt,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var t=f.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=f.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(t){void 0!==t&&(Y=t,this.setSize(X,q,!1))},this.getSize=function(t){return void 0===t&&(t=new Fe),t.set(X,q)},this.setSize=function(t,i,r){ut.isPresenting()||(X=t,q=i,e.width=t*Y,e.height=i*Y,!1!==r&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new Fe),t.set(X*Y,q*Y)},this.setDrawingBufferSize=function(t,i,r){X=t,q=i,Y=r,e.width=t*r,e.height=i*r,this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(t=new ai),t.copy(W)},this.getViewport=function(t){return t.copy(J)},this.setViewport=function(t,e,i,r){t.isVector4?J.set(t.x,t.y,t.z,t.w):J.set(t,e,i,r),v.viewport(W.copy(J).multiplyScalar(Y))},this.getScissor=function(t){return t.copy(Z)},this.setScissor=function(t,e,i,r){t.isVector4?Z.set(t.x,t.y,t.z,t.w):Z.set(t,e,i,r),v.scissor(H.copy(Z).multiplyScalar(Y))},this.getScissorTest=function(){return Q},this.setScissorTest=function(t){v.setScissorTest(Q=t)},this.getClearColor=function(){return L.getClearColor()},this.setClearColor=function(){L.setClearColor.apply(L,arguments)},this.getClearAlpha=function(){return L.getClearAlpha()},this.setClearAlpha=function(){L.setClearAlpha.apply(L,arguments)},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===i||i)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ht,!1),e.removeEventListener("webglcontextrestored",ct,!1),A.dispose(),T.dispose(),y.dispose(),_.dispose(),ut.dispose(),mt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var i=y.get(t);t.hasPositions&&!i.position&&(i.position=d.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=d.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=d.createBuffer()),t.hasColors&&!i.color&&(i.color=d.createBuffer());var r=e.getAttributes();t.hasPositions&&(d.bindBuffer(34962,i.position),d.bufferData(34962,t.positionArray,35048),v.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(d.bindBuffer(34962,i.normal),d.bufferData(34962,t.normalArray,35048),v.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(d.bindBuffer(34962,i.uv),d.bufferData(34962,t.uvArray,35048),v.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(d.bindBuffer(34962,i.color),d.bufferData(34962,t.colorArray,35048),v.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),d.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,n,a){var o=n.isMesh&&n.matrixWorld.determinant()<0;v.setMaterial(r,o);var s=bt(t,e,r,n),u=!1;k.geometry===i.id&&k.program===s.id&&k.wireframe===(!0===r.wireframe)||(k.geometry=i.id,k.program=s.id,k.wireframe=!0===r.wireframe,u=!0),n.morphTargetInfluences&&(P.update(n,i,r,s),u=!0);var l,h=i.index,c=i.attributes.position,p=1;!0===r.wireframe&&(h=w.getWireframeAttribute(i),p=2);var g=C;null!==h&&(l=b.get(h),(g=E).setIndex(l)),u&&(function(t,e,i){if(!i||!i.isInstancedBufferGeometry||m.isWebGL2||null!==f.get("ANGLE_instanced_arrays")){v.initAttributes();var r=i.attributes,n=e.getAttributes(),a=t.defaultAttributeValues;for(var o in n){var s=n[o];if(s>=0){var u=r[o];if(void 0!==u){var l=u.normalized,h=u.itemSize,c=b.get(u);if(void 0===c)continue;var p=c.buffer,g=c.type,y=c.bytesPerElement;if(u.isInterleavedBufferAttribute){var x=u.data,w=x.stride,_=u.offset;x&&x.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=x.meshPerAttribute*x.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,w*y,_*y)}else u.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,0,0)}else if(void 0!==a){var M=a[o];if(void 0!==M)switch(M.length){case 2:d.vertexAttrib2fv(s,M);break;case 3:d.vertexAttrib3fv(s,M);break;case 4:d.vertexAttrib4fv(s,M);break;default:d.vertexAttrib1fv(s,M)}}}}v.disableUnusedAttributes()}}(r,s,i),null!==h&&d.bindBuffer(34963,l.buffer));var y=1/0;null!==h?y=h.count:void 0!==c&&(y=c.count);var x=i.drawRange.start*p,_=i.drawRange.count*p,M=null!==a?a.start*p:0,S=null!==a?a.count*p:1/0,A=Math.max(x,M),T=Math.min(y,x+_,M+S)-1,L=Math.max(0,T-A+1);if(0!==L){if(n.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*nt()),g.setMode(1);else switch(n.drawMode){case Ae:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(n.isLine){var I=r.linewidth;void 0===I&&(I=1),v.setLineWidth(I*nt()),n.isLineSegments?g.setMode(1):n.isLineLoop?g.setMode(2):g.setMode(3)}else n.isPoints?g.setMode(0):n.isSprite&&g.setMode(4);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,A,L):g.render(A,L)}},this.compile=function(t,e){(p=T.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var i=0;i<e.material.length;i++)xt(e.material[i],t.fog,e);else xt(e.material,t.fog,e)}))};var ft=null,mt=new Li;function vt(t,e,i,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||K.intersectsSprite(t)){r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);var n=_.update(t);(a=t.material).visible&&c.push(t,n,a,i,rt.z,null)}}else if(t.isImmediateRenderObject)r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),c.push(t,null,t.material,i,rt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton&&t.skeleton.update(),!t.frustumCulled||K.intersectsObject(t))){r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),n=_.update(t);var a=t.material;if(Array.isArray(a))for(var o=n.groups,s=0,u=o.length;s<u;s++){var l=o[s],h=a[l.materialIndex];h&&h.visible&&c.push(t,n,h,i,rt.z,l)}else a.visible&&c.push(t,n,a,i,rt.z,null)}var d=t.children;for(s=0,u=d.length;s<u;s++)vt(d[s],e,i,r)}}function gt(t,e,i,r){for(var n=0,a=t.length;n<a;n++){var o=t[n],s=o.object,u=o.geometry,l=void 0===r?o.material:r,h=o.group;if(i.isArrayCamera){V=i;for(var c=i.cameras,d=0,f=c.length;d<f;d++){var m=c[d];s.layers.test(m.layers)&&(v.viewport(W.copy(m.viewport)),p.setupLights(m),yt(s,e,m,u,l,h))}}else V=null,yt(s,e,i,u,l,h)}}function yt(t,e,i,r,n,a){if(t.onBeforeRender(D,e,i,r,n,a),p=T.get(e,V||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){v.setMaterial(n);var o=bt(i,e.fog,n,t);k.geometry=null,k.program=null,k.wireframe=!1,function(t,e){t.render((function(t){D.renderBufferImmediate(t,e)}))}(t,o)}else D.renderBufferDirect(i,e.fog,r,n,t,a);t.onAfterRender(D,e,i,r,n,a),p=T.get(e,V||i)}function xt(t,e,i){var r=y.get(t),n=p.state.lights,a=p.state.shadowsArray,o=r.lightsHash,s=n.state.hash,u=S.getParameters(t,n.state,a,e,$.numPlanes,$.numIntersection,i),l=S.getProgramCode(t,u),h=r.program,c=!0;if(void 0===h)t.addEventListener("dispose",pt);else if(h.code!==l)dt(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,c=!1;else{if(void 0!==u.shaderID)return;c=!1}if(c){if(u.shaderID){var d=Ti[u.shaderID];r.shader={name:t.type,uniforms:vi(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,D),l=S.getProgramCode(t,u),h=S.acquireProgram(t,r.shader,u,l),r.program=h,t.program=h}var f=h.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<D.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,m=0;m<D.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++;var v=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=$.numPlanes,r.numIntersection=$.numIntersection,v.clippingPlanes=$.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(v.ambientLightColor.value=n.state.ambient,v.lightProbe.value=n.state.probe,v.directionalLights.value=n.state.directional,v.spotLights.value=n.state.spot,v.rectAreaLights.value=n.state.rectArea,v.pointLights.value=n.state.point,v.hemisphereLights.value=n.state.hemi,v.directionalShadowMap.value=n.state.directionalShadowMap,v.directionalShadowBias.value=n.state.directionalShadowBias,v.directionalShadowMatrix.value=n.state.directionalShadowMatrix,v.spotShadowMap.value=n.state.spotShadowMap,v.spotShadowMatrix.value=n.state.spotShadowMatrix,v.pointShadowMap.value=n.state.pointShadowMap,v.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),x=Nn.seqWithValue(g.seq,v);r.uniformsList=x}function bt(t,e,i,r){x.resetTextureUnits();var n=y.get(i),a=p.state.lights,o=n.lightsHash,s=a.state.hash;if(tt&&(et||t!==G)){var u=t===G&&i.id===U;$.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,n,u)}!1===i.needsUpdate&&(void 0===n.program||i.fog&&n.fog!==e?i.needsUpdate=!0:(!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===$.numPlanes&&n.numIntersection===$.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(xt(i,e,r),i.needsUpdate=!1);var l,h,c=!1,f=!1,g=!1,b=n.program,w=b.getUniforms(),_=n.shader.uniforms;if(v.useProgram(b.program)&&(c=!0,f=!0,g=!0),i.id!==U&&(U=i.id,f=!0),c||G!==t){if(w.setValue(d,"projectionMatrix",t.projectionMatrix),m.logarithmicDepthBuffer&&w.setValue(d,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),G!==t&&(G=t,f=!0,g=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var S=w.map.cameraPosition;void 0!==S&&S.setValue(d,rt.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&w.setValue(d,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){w.setOptional(d,r,"bindMatrix"),w.setOptional(d,r,"bindMatrixInverse");var A=r.skeleton;if(A){var T=A.bones;if(m.floatVertexTextures){if(void 0===A.boneTexture){var L=Math.sqrt(4*T.length);L=Re.ceilPowerOfTwo(L),L=Math.max(L,4);var P=new Float32Array(L*L*4);P.set(A.boneMatrices);var C=new li(P,L,L,Wt,zt);C.needsUpdate=!0,A.boneMatrices=P,A.boneTexture=C,A.boneTextureSize=L}w.setValue(d,"boneTexture",A.boneTexture,x),w.setValue(d,"boneTextureSize",A.boneTextureSize)}else w.setOptional(d,A,"boneMatrices")}}return f&&(w.setValue(d,"toneMappingExposure",D.toneMappingExposure),w.setValue(d,"toneMappingWhitePoint",D.toneMappingWhitePoint),i.lights&&(h=g,(l=_).ambientLightColor.needsUpdate=h,l.lightProbe.needsUpdate=h,l.directionalLights.needsUpdate=h,l.pointLights.needsUpdate=h,l.spotLights.needsUpdate=h,l.rectAreaLights.needsUpdate=h,l.hemisphereLights.needsUpdate=h),e&&i.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(_,e),i.isMeshBasicMaterial?wt(_,i):i.isMeshLambertMaterial?(wt(_,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(_,i)):i.isMeshPhongMaterial?(wt(_,i),i.isMeshToonMaterial?function(t,e){_t(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(_,i):_t(_,i)):i.isMeshStandardMaterial?(wt(_,i),i.isMeshPhysicalMaterial?function(t,e){Mt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(_,i):Mt(_,i)):i.isMeshMatcapMaterial?(wt(_,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDepthMaterial?(wt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDistanceMaterial?(wt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(_,i)):i.isMeshNormalMaterial?(wt(_,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(_,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(_,i)):i.isPointsMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Y,t.scale.value=.5*q,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isShadowMaterial&&(_.color.value.copy(i.color),_.opacity.value=i.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=Ai.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=Ai.LTC_2),Nn.upload(d,n.uniformsList,_,x)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Nn.upload(d,n.uniformsList,_,x),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&w.setValue(d,"center",r.center),w.setValue(d,"modelViewMatrix",r.modelViewMatrix),w.setValue(d,"normalMatrix",r.normalMatrix),w.setValue(d,"modelMatrix",r.matrixWorld),b}function wt(t,e){var i;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=y.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function _t(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Mt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}mt.setAnimationLoop((function(t){ut.isPresenting()||ft&&ft(t)})),"undefined"!=typeof window&&mt.setContext(window),this.setAnimationLoop=function(t){ft=t,ut.setAnimationLoop(t),mt.start()},this.render=function(t,e){var i,r;if(void 0!==arguments[2]&&(i=arguments[2]),void 0!==arguments[3]&&(r=arguments[3]),e&&e.isCamera&&!B){k.geometry=null,k.program=null,k.wireframe=!1,U=-1,G=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ut.enabled&&(e=ut.getCamera(e)),(p=T.get(t,e)).init(),t.onBeforeRender(D,t,e,i||R),it.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),K.setFromMatrix(it),et=this.localClippingEnabled,tt=$.init(this.clippingPlanes,et,e),(c=A.get(t,e)).init(),vt(t,e,0,D.sortObjects),!0===D.sortObjects&&c.sort(),tt&&$.beginShadows();var n=p.state.shadowsArray;lt.render(n,t,e),p.setupLights(e),tt&&$.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),L.render(c,t,e,r);var a=c.opaque,o=c.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&gt(a,t,e,s),o.length&&gt(o,t,e,s)}else a.length&&gt(a,t,e),o.length&&gt(o,t,e);t.onAfterRender(D,t,e),null!==R&&(x.updateRenderTargetMipmap(R),x.updateMultisampleRenderTarget(R)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),ut.enabled&&ut.submitFrame(),c=null,p=null}},this.setFramebuffer=function(t){O!==t&&d.bindFramebuffer(36160,t),O=t},this.getActiveCubeFace=function(){return z},this.getActiveMipMapLevel=function(){return N},this.getRenderTarget=function(){return R},this.setRenderTarget=function(t,e,i){R=t,z=e,N=i,t&&void 0===y.get(t).__webglFramebuffer&&x.setupRenderTarget(t);var r=O,n=!1;if(t){var a=y.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=a[e||0],n=!0):r=t.isWebGLMultisampleRenderTarget?y.get(t).__webglMultisampledFramebuffer:a,W.copy(t.viewport),H.copy(t.scissor),j=t.scissorTest}else W.copy(J).multiplyScalar(Y),H.copy(Z).multiplyScalar(Y),j=Q;if(F!==r&&(d.bindFramebuffer(36160,r),F=r),v.viewport(W),v.scissor(H),v.setScissorTest(j),n){var o=y.get(t.texture);d.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(t,e,i,r,n,a,o){if(t&&t.isWebGLRenderTarget){var s=y.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var u=!1;s!==F&&(d.bindFramebuffer(36160,s),u=!0);try{var l=t.texture,h=l.format,c=l.type;if(h!==Wt&&I.convert(h)!==d.getParameter(35739))return;if(!(c===Ct||I.convert(c)===d.getParameter(35738)||c===zt&&(m.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float"))||c===Nt&&(m.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return;36053===d.checkFramebufferStatus(36160)&&e>=0&&e<=t.width-r&&i>=0&&i<=t.height-n&&d.readPixels(e,i,r,n,I.convert(h),I.convert(c),a)}finally{u&&d.bindFramebuffer(36160,F)}}}},this.copyFramebufferToTexture=function(t,e,i){var r=e.image.width,n=e.image.height,a=I.convert(e.format);x.setTexture2D(e,0),d.copyTexImage2D(3553,i||0,a,t.x,t.y,r,n,0)},this.copyTextureToTexture=function(t,e,i,r){var n=e.image.width,a=e.image.height,o=I.convert(i.format),s=I.convert(i.type);x.setTexture2D(i,0),e.isDataTexture?d.texSubImage2D(3553,r||0,t.x,t.y,n,a,o,s,e.image.data):d.texSubImage2D(3553,r||0,t.x,t.y,o,s,e.image)}}function La(t,e){this.name="",this.color=new Mi(t),this.density=void 0!==e?e:25e-5}function Pa(t,e,i){this.name="",this.color=new Mi(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Ca(){Fi.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ea(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ia(t,e,i,r){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===r}function Da(t){ur.call(this),this.type="SpriteMaterial",this.color=new Mi(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function Ba(t){if(Fi.call(this),this.type="Sprite",void 0===ma){ma=new ir;var e=new Ea(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);ma.setIndex([0,1,2,0,2,3]),ma.addAttribute("position",new Ia(e,3,0,!1)),ma.addAttribute("uv",new Ia(e,2,3,!1))}this.geometry=ma,this.material=void 0!==t?t:new Da,this.center=new Fe(.5,.5)}function Oa(){Fi.call(this),this.type="LOD",(0,d.default)(this,{levels:{enumerable:!0,value:[]}})}function za(t,e){t&&t.isGeometry,Lr.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new fi,this.bindMatrixInverse=new fi}function Na(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new fi)}}function Ra(){Fi.call(this),this.type="Bone"}function Fa(t){ur.call(this),this.type="LineBasicMaterial",this.color=new Mi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ua(t,e,i){Fi.call(this),this.type="Line",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Fa({color:16777215*Math.random()})}function ka(t,e){Ua.call(this,t,e),this.type="LineSegments"}function Ga(t,e){Ua.call(this,t,e),this.type="LineLoop"}function Va(t){ur.call(this),this.type="PointsMaterial",this.color=new Mi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Wa(t,e){Fi.call(this),this.type="Points",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Va({color:16777215*Math.random()})}function Ha(t,e,i,r,n,a,o,s,u){ni.call(this,t,e,i,r,n,a,o,s,u),this.format=void 0!==o?o:Vt,this.minFilter=void 0!==a?a:Tt,this.magFilter=void 0!==n?n:Tt,this.generateMipmaps=!1}function ja(t,e,i,r,n,a,o,s,u,l,h,c){ni.call(this,null,a,o,s,u,l,r,n,h,c),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Xa(t,e,i,r,n,a,o,s,u){ni.call(this,t,e,i,r,n,a,o,s,u),this.needsUpdate=!0}function qa(t,e,i,r,n,a,o,s,u,l){if((l=void 0!==l?l:qt)!==qt&&l!==Yt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===qt&&(i=Dt),void 0===i&&l===Yt&&(i=kt),ni.call(this,null,r,n,a,o,s,l,i,u),this.image={width:t,height:e},this.magFilter=void 0!==o?o:Mt,this.minFilter=void 0!==s?s:Mt,this.flipY=!1,this.generateMipmaps=!1}function Ya(t){ir.call(this),this.type="WireframeGeometry";var e,i,r,n,a,o,s,u,l,h,c=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var v=m[e];for(i=0;i<3;i++)s=v[f[i]],u=v[f[(i+1)%3]],p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]})}for(l in d)o=d[l],h=t.vertices[o.index1],c.push(h.x,h.y,h.z),h=t.vertices[o.index2],c.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var g,y,x,b,w,_,M;if(h=new ke,null!==t.index){for(g=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),n=0,a=x.length;n<a;++n)for(e=w=(b=x[n]).start,r=w+b.count;e<r;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),u=y.getX(e+(i+1)%3),p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]});for(l in d)o=d[l],h.fromBufferAttribute(g,o.index1),c.push(h.x,h.y,h.z),h.fromBufferAttribute(g,o.index2),c.push(h.x,h.y,h.z)}else for(e=0,r=(g=t.attributes.position).count/3;e<r;e++)for(i=0;i<3;i++)_=3*e+i,h.fromBufferAttribute(g,_),c.push(h.x,h.y,h.z),M=3*e+(i+1)%3,h.fromBufferAttribute(g,M),c.push(h.x,h.y,h.z)}this.addAttribute("position",new Qi(c,3))}function Ja(t,e,i){Vi.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new Za(t,e,i)),this.mergeVertices()}function Za(t,e,i){ir.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var r,n,a=[],o=[],s=[],u=[],l=1e-5,h=new ke,c=new ke,p=new ke,d=new ke,f=new ke;t.length;var m=e+1;for(r=0;r<=i;r++){var v=r/i;for(n=0;n<=e;n++){var g=n/e;t(g,v,c),o.push(c.x,c.y,c.z),g-l>=0?(t(g-l,v,p),d.subVectors(c,p)):(t(g+l,v,p),d.subVectors(p,c)),v-l>=0?(t(g,v-l,p),f.subVectors(c,p)):(t(g,v+l,p),f.subVectors(p,c)),h.crossVectors(d,f).normalize(),s.push(h.x,h.y,h.z),u.push(g,v)}}for(r=0;r<i;r++)for(n=0;n<e;n++){var y=r*m+n,x=r*m+n+1,b=(r+1)*m+n+1,w=(r+1)*m+n;a.push(y,x,w),a.push(x,b,w)}this.setIndex(a),this.addAttribute("position",new Qi(o,3)),this.addAttribute("normal",new Qi(s,3)),this.addAttribute("uv",new Qi(u,2))}function Qa(t,e,i,r){Vi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},this.fromBufferGeometry(new Ka(t,e,i,r)),this.mergeVertices()}function Ka(t,e,i,r){ir.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1;var n=[],a=[];function o(t,e,i,r){var n,a,o=Math.pow(2,r),u=[];for(n=0;n<=o;n++){u[n]=[];var l=t.clone().lerp(i,n/o),h=e.clone().lerp(i,n/o),c=o-n;for(a=0;a<=c;a++)u[n][a]=0===a&&n===o?l:l.clone().lerp(h,a/c)}for(n=0;n<o;n++)for(a=0;a<2*(o-n)-1;a++){var p=Math.floor(a/2);a%2==0?(s(u[n][p+1]),s(u[n+1][p]),s(u[n][p])):(s(u[n][p+1]),s(u[n+1][p+1]),s(u[n+1][p]))}}function s(t){n.push(t.x,t.y,t.z)}function u(e,i){var r=3*e;i.x=t[r+0],i.y=t[r+1],i.z=t[r+2]}function l(t,e,i,r){r<0&&1===t.x&&(a[e]=t.x-1),0===i.x&&0===i.z&&(a[e]=r/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}function c(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!function(t){for(var i=new ke,r=new ke,n=new ke,a=0;a<e.length;a+=3)u(e[a+0],i),u(e[a+1],r),u(e[a+2],n),o(i,r,n,t)}(r=r||0),function(t){for(var e=new ke,i=0;i<n.length;i+=3)e.x=n[i+0],e.y=n[i+1],e.z=n[i+2],e.normalize().multiplyScalar(t),n[i+0]=e.x,n[i+1]=e.y,n[i+2]=e.z}(i),function(){for(var t=new ke,e=0;e<n.length;e+=3){t.x=n[e+0],t.y=n[e+1],t.z=n[e+2];var i=h(t)/2/Math.PI+.5,r=c(t)/Math.PI+.5;a.push(i,1-r)}(function(){for(var t=new ke,e=new ke,i=new ke,r=new ke,o=new Fe,s=new Fe,u=new Fe,c=0,p=0;c<n.length;c+=9,p+=6){t.set(n[c+0],n[c+1],n[c+2]),e.set(n[c+3],n[c+4],n[c+5]),i.set(n[c+6],n[c+7],n[c+8]),o.set(a[p+0],a[p+1]),s.set(a[p+2],a[p+3]),u.set(a[p+4],a[p+5]),r.copy(t).add(e).add(i).divideScalar(3);var d=h(r);l(o,p+0,t,d),l(s,p+2,e,d),l(u,p+4,i,d)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],i=a[t+2],r=a[t+4],n=Math.max(e,i,r),o=Math.min(e,i,r);n>.9&&o<.1&&(e<.2&&(a[t+0]+=1),i<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute("position",new Qi(n,3)),this.addAttribute("normal",new Qi(n.slice(),3)),this.addAttribute("uv",new Qi(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function $a(t,e){Vi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new to(t,e)),this.mergeVertices()}function to(t,e){Ka.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function eo(t,e){Vi.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new io(t,e)),this.mergeVertices()}function io(t,e){Ka.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ro(t,e){Vi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new no(t,e)),this.mergeVertices()}function no(t,e){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];Ka.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ao(t,e){Vi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new oo(t,e)),this.mergeVertices()}function oo(t,e){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];Ka.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function so(t,e,i,r,n,a){Vi.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n};var o=new uo(t,e,i,r,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function uo(t,e,i,r,n){ir.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n},e=e||64,i=i||1,r=r||8,n=n||!1;var a=t.computeFrenetFrames(e,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new ke,l=new ke,h=new Fe,c=new ke,p=[],d=[],f=[],m=[];function v(n){c=t.getPointAt(n/e,c);var o=a.normals[n],h=a.binormals[n];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*o.x+m*h.x,l.y=v*o.y+m*h.y,l.z=v*o.z+m*h.z,l.normalize(),d.push(l.x,l.y,l.z),u.x=c.x+i*l.x,u.y=c.y+i*l.y,u.z=c.z+i*l.z,p.push(u.x,u.y,u.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===n?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)h.x=o/e,h.y=s/r,f.push(h.x,h.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),i=(r+1)*s+(o-1),n=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,i,a),m.push(i,n,a)}}()}(),this.setIndex(m),this.addAttribute("position",new Qi(p,3)),this.addAttribute("normal",new Qi(d,3)),this.addAttribute("uv",new Qi(f,2))}function lo(t,e,i,r,n,a,o){Vi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},this.fromBufferGeometry(new ho(t,e,i,r,n,a)),this.mergeVertices()}function ho(t,e,i,r,n,a){ir.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},t=t||1,e=e||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,a=a||3;var o,s,u=[],l=[],h=[],c=[],p=new ke,d=new ke,f=new ke,m=new ke,v=new ke,g=new ke,y=new ke;for(o=0;o<=i;++o){var x=o/i*n*Math.PI*2;for(L(x,n,a,t,f),L(x+.01,n,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,w=-e*Math.cos(b),_=e*Math.sin(b);p.x=f.x+(w*y.x+_*v.x),p.y=f.y+(w*y.y+_*v.y),p.z=f.z+(w*y.z+_*v.z),l.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),h.push(d.x,d.y,d.z),c.push(o/i),c.push(s/r)}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),S=(r+1)*s+(o-1),A=(r+1)*s+o,T=(r+1)*(s-1)+o;u.push(M,S,T),u.push(S,A,T)}function L(t,e,i,r,n){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,u=Math.cos(s);n.x=r*(2+u)*.5*a,n.y=r*(2+u)*o*.5,n.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new Qi(l,3)),this.addAttribute("normal",new Qi(h,3)),this.addAttribute("uv",new Qi(c,2))}function co(t,e,i,r,n){Vi.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new po(t,e,i,r,n)),this.mergeVertices()}function po(t,e,i,r,n){ir.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},t=t||1,e=e||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var a,o,s=[],u=[],l=[],h=[],c=new ke,p=new ke,d=new ke;for(a=0;a<=i;a++)for(o=0;o<=r;o++){var f=o/r*n,m=a/i*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),u.push(p.x,p.y,p.z),c.x=t*Math.cos(f),c.y=t*Math.sin(f),d.subVectors(p,c).normalize(),l.push(d.x,d.y,d.z),h.push(o/r),h.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,x=(r+1)*a+o;s.push(v,g,x),s.push(g,y,x)}this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("normal",new Qi(l,3)),this.addAttribute("uv",new Qi(h,2))}(0,f.default)(La.prototype,{isFogExp2:!0,clone:function(){return new La(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),(0,f.default)(Pa.prototype,{isFog:!0,clone:function(){return new Pa(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Ca.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ca,isScene:!0,copy:function(t,e){return Fi.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ea.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Ea.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var r=0,n=this.stride;r<n;r++)this.array[t+r]=e.array[i+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),(0,d.default)(Ia.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),(0,f.default)(Ia.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=n,this}}),Da.prototype=(0,p.default)(ur.prototype),Da.prototype.constructor=Da,Da.prototype.isSpriteMaterial=!0,Da.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},Ba.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ba,isSprite:!0,raycast:function(){var t=new ke,e=new ke,i=new ke,r=new Fe,n=new Fe,a=new fi,o=new ke,s=new ke,u=new ke,l=new Fe,h=new Fe,c=new Fe;function p(t,e,i,o,s,u){r.subVectors(t,i).addScalar(.5).multiply(o),void 0!==s?(n.x=u*r.x-s*r.y,n.y=s*r.x+u*r.y):n.copy(r),t.copy(e),t.x+=n.x,t.y+=n.y,t.applyMatrix4(a)}return function(r,n){e.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var d,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),d=Math.sin(m));var v=this.center;p(o.set(-.5,-.5,0),i,v,e,d,f),p(s.set(.5,-.5,0),i,v,e,d,f),p(u.set(.5,.5,0),i,v,e,d,f),l.set(0,0),h.set(1,0),c.set(1,1);var g=r.ray.intersectTriangle(o,s,u,!1,t);if(null!==g||(p(s.set(-.5,.5,0),i,v,e,d,f),h.set(0,1),null!==(g=r.ray.intersectTriangle(o,u,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||n.push({distance:y,point:t.clone(),uv:Ar.getUV(t,o,s,u,l,h,c,new Fe),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Fi.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Oa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Oa,isLOD:!0,copy:function(t){Fi.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var n=e[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,r=0;r<i.length&&!(e<i[r].distance);r++);return i.splice(r,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,i=1,r=e.length;i<r&&!(t<e[i].distance);i++);return e[i-1].object},raycast:(va=new ke,function(t,e){va.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(va);this.getObjectForDistance(i).raycast(t,e)}),update:function(){var t=new ke,e=new ke;return function(i){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var n=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&n>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),za.prototype=(0,f.default)((0,p.default)(Lr.prototype),{constructor:za,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new ai,e=this.geometry.attributes.skinWeight,i=0,r=e.count;i<r;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Lr.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):this.bindMode},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(0,f.default)(Na.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new fi;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(ga=new fi,ya=new fi,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,a=t.length;n<a;n++){var o=t[n]?t[n].matrixWorld:ya;ga.multiplyMatrices(o,e[n]),ga.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new Na(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var r=this.bones[e];if(r.name===t)return r}}}),Ra.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ra,isBone:!0}),Fa.prototype=(0,p.default)(ur.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isLineBasicMaterial=!0,Fa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ua.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ua,isLine:!0,computeLineDistances:(xa=new ke,ba=new ke,function(){var t=this.geometry;if(t.isBufferGeometry){if(null===t.index){for(var e=t.attributes.position,i=[0],r=1,n=e.count;r<n;r++)xa.fromBufferAttribute(e,r-1),ba.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=xa.distanceTo(ba);t.addAttribute("lineDistance",new Qi(i,1))}}else if(t.isGeometry){var a=t.vertices;for((i=t.lineDistances)[0]=0,r=1,n=a.length;r<n;r++)i[r]=i[r-1],i[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var t=new fi,e=new Sr,i=new ci;return function(r,n){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=a,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,h=new ke,c=new ke,p=new ke,d=new ke,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,x=g.length-1;y<x;y+=f){var b=g[y],w=g[y+1];h.fromArray(v,3*b),c.fromArray(v,3*w),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,x=v.length/3-1;y<x;y+=f)h.fromArray(v,3*y),c.fromArray(v,3*y+3),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var _=o.vertices,M=_.length;for(y=0;y<M-1;y+=f){var S;e.distanceSqToSegment(_[y],_[y+1],d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ka.prototype=(0,f.default)((0,p.default)(Ua.prototype),{constructor:ka,isLineSegments:!0,computeLineDistances:function(){var t=new ke,e=new ke;return function(){var i=this.geometry;if(i.isBufferGeometry){if(null===i.index){for(var r=i.attributes.position,n=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e);i.addAttribute("lineDistance",new Qi(n,1))}}else if(i.isGeometry){var s=i.vertices;for(n=i.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e)}return this}}()}),Ga.prototype=(0,f.default)((0,p.default)(Ua.prototype),{constructor:Ga,isLineLoop:!0}),Va.prototype=(0,p.default)(ur.prototype),Va.prototype.constructor=Va,Va.prototype.isPointsMaterial=!0,Va.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Wa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Wa,isPoints:!0,raycast:function(){var t=new fi,e=new Sr,i=new ci;return function(r,n){var a=this,o=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=u,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=u/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,c=new ke,p=new ke;if(o.isBufferGeometry){var d=o.index,f=o.attributes.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];c.fromArray(f,3*y),w(c,y)}else{v=0;for(var x=f.length/3;v<x;v++)c.fromArray(f,3*v),w(c,v)}}else{var b=o.vertices;for(v=0,x=b.length;v<x;v++)w(b[v],v)}}function w(t,i){var o=e.distanceSqToPoint(t);if(o<h){e.closestPointToPoint(t,p),p.applyMatrix4(s);var u=r.ray.origin.distanceTo(p);if(u<r.near||u>r.far)return;n.push({distance:u,distanceToRay:Math.sqrt(o),point:p.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ha.prototype=(0,f.default)((0,p.default)(ni.prototype),{constructor:Ha,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ja.prototype=(0,p.default)(ni.prototype),ja.prototype.constructor=ja,ja.prototype.isCompressedTexture=!0,Xa.prototype=(0,p.default)(ni.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isCanvasTexture=!0,qa.prototype=(0,p.default)(ni.prototype),qa.prototype.constructor=qa,qa.prototype.isDepthTexture=!0,Ya.prototype=(0,p.default)(ir.prototype),Ya.prototype.constructor=Ya,Ja.prototype=(0,p.default)(Vi.prototype),Ja.prototype.constructor=Ja,Za.prototype=(0,p.default)(ir.prototype),Za.prototype.constructor=Za,Qa.prototype=(0,p.default)(Vi.prototype),Qa.prototype.constructor=Qa,Ka.prototype=(0,p.default)(ir.prototype),Ka.prototype.constructor=Ka,$a.prototype=(0,p.default)(Vi.prototype),$a.prototype.constructor=$a,to.prototype=(0,p.default)(Ka.prototype),to.prototype.constructor=to,eo.prototype=(0,p.default)(Vi.prototype),eo.prototype.constructor=eo,io.prototype=(0,p.default)(Ka.prototype),io.prototype.constructor=io,ro.prototype=(0,p.default)(Vi.prototype),ro.prototype.constructor=ro,no.prototype=(0,p.default)(Ka.prototype),no.prototype.constructor=no,ao.prototype=(0,p.default)(Vi.prototype),ao.prototype.constructor=ao,oo.prototype=(0,p.default)(Ka.prototype),oo.prototype.constructor=oo,so.prototype=(0,p.default)(Vi.prototype),so.prototype.constructor=so,uo.prototype=(0,p.default)(ir.prototype),uo.prototype.constructor=uo,uo.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},lo.prototype=(0,p.default)(Vi.prototype),lo.prototype.constructor=lo,ho.prototype=(0,p.default)(ir.prototype),ho.prototype.constructor=ho,co.prototype=(0,p.default)(Vi.prototype),co.prototype.constructor=co,po.prototype=(0,p.default)(ir.prototype),po.prototype.constructor=po;var fo=function(t,e,i){i=i||2;var r,n,a,o,s,u,l,h=e&&e.length,c=h?e[0]*i:t.length,p=mo(t,0,c,i,!0),d=[];if(!p)return d;if(h&&(p=function(t,e,i,r){var n,a,o,s=[];for(n=0,a=e.length;n<a;n++)(o=mo(t,e[n]*r,n<a-1?e[n+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(Ao(o));for(s.sort(_o),n=0;n<s.length;n++)Mo(s[n],i),i=vo(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=a=t[0],n=o=t[1];for(var f=i;f<c;f+=i)(s=t[f])<r&&(r=s),(u=t[f+1])<n&&(n=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-n))?1/l:0}return go(p,d,i,r,n,l),d};function mo(t,e,i,r,n){var a,o;if(n===function(t,e,i,r){for(var n=0,a=e,o=i-r;a<i;a+=r)n+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return n}(t,e,i,r)>0)for(a=e;a<i;a+=r)o=Bo(a,t[a],t[a+1],o);else for(a=i-r;a>=e;a-=r)o=Bo(a,t[a],t[a+1],o);return o&&Co(o,o.next)&&(Oo(o),o=o.next),o}function vo(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!Co(r,r.next)&&0!==Po(r.prev,r,r.next))r=r.next;else{if(Oo(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function go(t,e,i,r,n,a,o){if(t){!o&&a&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=So(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,a,o,s,u,l=1;do{for(i=t,t=null,a=null,o=0;i;){for(o++,r=i,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,u--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;i=r}a.nextZ=null,l*=2}while(o>1)}(n)}(t,r,n,a);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,a?xo(t,r,n,a):yo(t))e.push(s.i/i),e.push(t.i/i),e.push(u.i/i),Oo(t),t=u.next,l=u.next;else if((t=u)===l){o?1===o?go(t=bo(t,e,i),e,i,r,n,a,2):2===o&&wo(t,e,i,r,n,a):go(vo(t),e,i,r,n,a,1);break}}}function yo(t){var e=t.prev,i=t,r=t.next;if(Po(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(To(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Po(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function xo(t,e,i,r){var n=t.prev,a=t,o=t.next;if(Po(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,u=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,l=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,h=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,c=So(s,u,e,i,r),p=So(l,h,e,i,r),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&To(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Po(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&To(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Po(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function bo(t,e,i){var r=t;do{var n=r.prev,a=r.next.next;!Co(n,a)&&Eo(n,r,r.next,a)&&Io(n,a)&&Io(a,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(a.i/i),Oo(r),Oo(r.next),r=t=a),r=r.next}while(r!==t);return r}function wo(t,e,i,r,n,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Lo(o,s)){var u=Do(o,s);return o=vo(o,o.next),u=vo(u,u.next),go(o,e,i,r,n,a),void go(u,e,i,r,n,a)}s=s.next}o=o.next}while(o!==t)}function _o(t,e){return t.x-e.x}function Mo(t,e){if(e=function(t,e){var i,r=e,n=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i.prev;var u,l=i,h=i.x,c=i.y,p=1/0;for(r=i.next;r!==l;)n>=r.x&&r.x>=h&&n!==r.x&&To(a<c?n:o,a,h,c,a<c?o:n,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(n-r.x))<p||u===p&&r.x>i.x)&&Io(r,t)&&(i=r,p=u),r=r.next;return i}(t,e),e){var i=Do(e,t);vo(i,i.next)}}function So(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ao(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function To(t,e,i,r,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function Lo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Eo(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&Io(t,e)&&Io(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function Po(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Co(t,e){return t.x===e.x&&t.y===e.y}function Eo(t,e,i,r){return!!(Co(t,e)&&Co(i,r)||Co(t,r)&&Co(i,e))||Po(t,e,i)>0!=Po(t,e,r)>0&&Po(i,r,t)>0!=Po(i,r,e)>0}function Io(t,e){return Po(t.prev,t,t.next)<0?Po(t,e,t.next)>=0&&Po(t,t.prev,e)>=0:Po(t,e,t.prev)<0||Po(t,t.next,e)<0}function Do(t,e){var i=new zo(t.i,t.x,t.y),r=new zo(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function Bo(t,e,i,r){var n=new zo(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Oo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zo(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var No={area:function(t){for(var e=t.length,i=0,r=e-1,n=0;n<e;r=n++)i+=t[r].x*t[n].y-t[n].x*t[r].y;return.5*i},isClockWise:function(t){return No.area(t)<0},triangulateShape:function(t,e){var i=[],r=[],n=[];Ro(t),Fo(i,t);var a=t.length;e.forEach(Ro);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,Fo(i,e[o]);var s=fo(i,r);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function Ro(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Fo(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function Uo(t,e){Vi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new ko(t,e)),this.mergeVertices()}function ko(t,e){ir.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var i=this,r=[],n=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,c=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,v=void 0!==e.UVGenerator?e.UVGenerator:Go;void 0!==e.amount&&(u=e.amount);var y,x,b,w,_,M,S,A,T=!1;f&&(y=f.getSpacedPoints(s),T=!0,l=!1,x=f.computeFrenetFrames(s,!1),b=new ke,w=new ke,_=new ke),l||(d=0,h=0,c=0,p=0);var L=t.extractPoints(o),P=L.shape,C=L.holes;if(!No.isClockWise(P))for(P=P.reverse(),S=0,A=C.length;S<A;S++)M=C[S],No.isClockWise(M)&&(C[S]=M.reverse());var E=No.triangulateShape(P,C),I=P;for(S=0,A=C.length;S<A;S++)M=C[S],P=P.concat(M);function D(t,e,i){return e.clone().multiplyScalar(i).add(t)}var B,O,z,N,R,F,U=P.length,k=E.length;function G(t,e,i){var r,n,a,o=t.x-e.x,s=t.y-e.y,u=i.x-t.x,l=i.y-t.y,h=o*o+s*s,c=o*l-s*u;if(Math.abs(c)>g.default){var p=Math.sqrt(h),d=Math.sqrt(u*u+l*l),f=e.x-s/p,v=e.y+o/p,y=((i.x-l/d-f)*l-(i.y+u/d-v)*u)/(o*l-s*u),x=(r=f+o*y-t.x)*r+(n=v+s*y-t.y)*n;if(x<=2)return new Fe(r,n);a=Math.sqrt(x/2)}else{var b=!1;o>g.default?u>g.default&&(b=!0):o<-g.default?u<-g.default&&(b=!0):(0,m.default)(s)===(0,m.default)(l)&&(b=!0),b?(r=-s,n=o,a=Math.sqrt(h)):(r=o,n=s,a=Math.sqrt(h/2))}return new Fe(r/a,n/a)}for(var V=[],W=0,H=I.length,j=H-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),V[W]=G(I[W],I[j],I[X]);var q,Y,J=[],Z=V.concat();for(S=0,A=C.length;S<A;S++){for(M=C[S],q=[],W=0,j=(H=M.length)-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),q[W]=G(M[W],M[j],M[X]);J.push(q),Z=Z.concat(q)}for(B=0;B<d;B++){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,-N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)K((R=D(M[W],q[W],O)).x,R.y,-N)}for(O=c+p,W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[0]).multiplyScalar(R.x),b.copy(x.binormals[0]).multiplyScalar(R.y),_.copy(y[0]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,0);for(Y=1;Y<=s;Y++)for(W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[Y]).multiplyScalar(R.x),b.copy(x.binormals[Y]).multiplyScalar(R.y),_.copy(y[Y]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,u/s*Y);for(B=d-1;B>=0;B--){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,u+N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)R=D(M[W],q[W],O),T?K(R.x,R.y+y[s-1].y,y[s-1].x+N):K(R.x,R.y,u+N)}function Q(t,e){var i,r;for(W=t.length;--W>=0;){i=W,(r=W-1)<0&&(r=t.length-1);var n=0,a=s+2*d;for(n=0;n<a;n++){var o=U*n,u=U*(n+1);tt(e+i+o,e+r+o,e+r+u,e+i+u)}}}function K(t,e,i){a.push(t),a.push(e),a.push(i)}function $(t,e,n){et(t),et(e),et(n);var a=r.length/3,o=v.generateTopUV(i,r,a-3,a-2,a-1);it(o[0]),it(o[1]),it(o[2])}function tt(t,e,n,a){et(t),et(e),et(a),et(e),et(n),et(a);var o=r.length/3,s=v.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);it(s[0]),it(s[1]),it(s[3]),it(s[1]),it(s[2]),it(s[3])}function et(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function it(t){n.push(t.x),n.push(t.y)}!function(){var t=r.length/3;if(l){var e=0,n=U*e;for(W=0;W<k;W++)$((F=E[W])[2]+n,F[1]+n,F[0]+n);for(n=U*(e=s+2*d),W=0;W<k;W++)$((F=E[W])[0]+n,F[1]+n,F[2]+n)}else{for(W=0;W<k;W++)$((F=E[W])[2],F[1],F[0]);for(W=0;W<k;W++)$((F=E[W])[0]+U*s,F[1]+U*s,F[2]+U*s)}i.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(Q(I,e),e+=I.length,S=0,A=C.length;S<A;S++)Q(M=C[S],e),e+=M.length;i.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new Qi(r,3)),this.addAttribute("uv",new Qi(n,2)),this.computeVertexNormals()}Uo.prototype=(0,p.default)(Vi.prototype),Uo.prototype.constructor=Uo,Uo.prototype.toJSON=function(){var t=Vi.prototype.toJSON.call(this);return Vo(this.parameters.shapes,this.parameters.options,t)},ko.prototype=(0,p.default)(ir.prototype),ko.prototype.constructor=ko,ko.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return Vo(this.parameters.shapes,this.parameters.options,t)};var Go={generateTopUV:function(t,e,i,r,n){var a=e[3*i],o=e[3*i+1],s=e[3*r],u=e[3*r+1],l=e[3*n],h=e[3*n+1];return[new Fe(a,o),new Fe(s,u),new Fe(l,h)]},generateSideWallUV:function(t,e,i,r,n,a){var o=e[3*i],s=e[3*i+1],u=e[3*i+2],l=e[3*r],h=e[3*r+1],c=e[3*r+2],p=e[3*n],d=e[3*n+1],f=e[3*n+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-h)<.01?[new Fe(o,1-u),new Fe(l,1-c),new Fe(p,1-f),new Fe(m,1-g)]:[new Fe(s,1-u),new Fe(h,1-c),new Fe(d,1-f),new Fe(v,1-g)]}};function Vo(t,e,i){if(i.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var a=t[r];i.shapes.push(a.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}function Wo(t,e){Vi.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Ho(t,e)),this.mergeVertices()}function Ho(t,e){var i=(e=e||{}).font;if(!i||!i.isFont)return new Vi;var r=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ko.call(this,r,e),this.type="TextBufferGeometry"}function jo(t,e,i,r,n,a,o){Vi.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Xo(t,e,i,r,n,a,o)),this.mergeVertices()}function Xo(t,e,i,r,n,a,o){ir.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),h=0,c=[],p=new ke,d=new ke,f=[],m=[],v=[],g=[];for(u=0;u<=i;u++){var y=[],x=u/i,b=0;for(0==u&&0==a?b=.5/e:u==i&&l==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var w=s/e;p.x=-t*Math.cos(r+w*n)*Math.sin(a+x*o),p.y=t*Math.cos(a+x*o),p.z=t*Math.sin(r+w*n)*Math.sin(a+x*o),m.push(p.x,p.y,p.z),d.copy(p).normalize(),v.push(d.x,d.y,d.z),g.push(w+b,1-x),y.push(h++)}c.push(y)}for(u=0;u<i;u++)for(s=0;s<e;s++){var _=c[u][s+1],M=c[u][s],S=c[u+1][s],A=c[u+1][s+1];(0!==u||a>0)&&f.push(_,M,A),(u!==i-1||l<Math.PI)&&f.push(M,S,A)}this.setIndex(f),this.addAttribute("position",new Qi(m,3)),this.addAttribute("normal",new Qi(v,3)),this.addAttribute("uv",new Qi(g,2))}function qo(t,e,i,r,n,a){Vi.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},this.fromBufferGeometry(new Yo(t,e,i,r,n,a)),this.mergeVertices()}function Yo(t,e,i,r,n,a){ir.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},t=t||.5,e=e||1,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,u,l=[],h=[],c=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new ke,v=new Fe;for(s=0;s<=r;s++){for(u=0;u<=i;u++)o=n+u/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),h.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,p.push(v.x,v.y);d+=f}for(s=0;s<r;s++){var g=s*(i+1);for(u=0;u<i;u++){var y=o=u+g,x=o+i+1,b=o+i+2,w=o+1;l.push(y,x,w),l.push(x,b,w)}}this.setIndex(l),this.addAttribute("position",new Qi(h,3)),this.addAttribute("normal",new Qi(c,3)),this.addAttribute("uv",new Qi(p,2))}function Jo(t,e,i,r){Vi.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},this.fromBufferGeometry(new Zo(t,e,i,r)),this.mergeVertices()}function Zo(t,e,i,r){ir.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=Re.clamp(r,0,2*Math.PI);var n,a,o,s=[],u=[],l=[],h=1/e,c=new ke,p=new Fe;for(a=0;a<=e;a++){var d=i+a*h*r,f=Math.sin(d),m=Math.cos(d);for(o=0;o<=t.length-1;o++)c.x=t[o].x*f,c.y=t[o].y,c.z=t[o].x*m,u.push(c.x,c.y,c.z),p.x=a/e,p.y=o/(t.length-1),l.push(p.x,p.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=n=o+a*t.length,g=n+t.length,y=n+t.length+1,x=n+1;s.push(v,g,x),s.push(g,y,x)}if(this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("uv",new Qi(l,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,w=new ke,_=new ke,M=new ke;for(n=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)w.x=b[o+0],w.y=b[o+1],w.z=b[o+2],_.x=b[n+o+0],_.y=b[n+o+1],_.z=b[n+o+2],M.addVectors(w,_).normalize(),b[o+0]=b[n+o+0]=M.x,b[o+1]=b[n+o+1]=M.y,b[o+2]=b[n+o+2]=M.z}}function Qo(t,e){Vi.call(this),this.type="ShapeGeometry","object"===(void 0===e?"undefined":(0,y.default)(e))&&(e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Ko(t,e)),this.mergeVertices()}function Ko(t,e){ir.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],n=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var u=0;u<t.length;u++)l(t[u]),this.addGroup(o,s,u),o+=s,s=0;function l(t){var o,u,l,h=r.length/3,c=t.extractPoints(e),p=c.shape,d=c.holes;for(!1===No.isClockWise(p)&&(p=p.reverse()),o=0,u=d.length;o<u;o++)l=d[o],!0===No.isClockWise(l)&&(d[o]=l.reverse());var f=No.triangulateShape(p,d);for(o=0,u=d.length;o<u;o++)l=d[o],p=p.concat(l);for(o=0,u=p.length;o<u;o++){var m=p[o];r.push(m.x,m.y,0),n.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=f.length;o<u;o++){var v=f[o],g=v[0]+h,y=v[1]+h,x=v[2]+h;i.push(g,y,x),s+=3}}this.setIndex(i),this.addAttribute("position",new Qi(r,3)),this.addAttribute("normal",new Qi(n,3)),this.addAttribute("uv",new Qi(a,2))}function $o(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}function ts(t,e){ir.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,r,n,a,o=[],s=Math.cos(Re.DEG2RAD*e),u=[0,0],l={},h=["a","b","c"];t.isBufferGeometry?(a=new Vi).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],v=0;v<3;v++)i=m[h[v]],r=m[h[(v+1)%3]],u[0]=Math.min(i,r),u[1]=Math.max(i,r),void 0===l[n=u[0]+","+u[1]]?l[n]={index1:u[0],index2:u[1],face1:d,face2:void 0}:l[n].face2=d;for(n in l){var g=l[n];if(void 0===g.face2||p[g.face1].normal.dot(p[g.face2].normal)<=s){var y=c[g.index1];o.push(y.x,y.y,y.z),y=c[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Qi(o,3))}function es(t,e,i,r,n,a,o,s){Vi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new is(t,e,i,r,n,a,o,s)),this.mergeVertices()}function is(t,e,i,r,n,a,o,s){ir.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var u=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],h=[],c=[],p=[],d=0,f=[],m=i/2,v=0;function g(i){var n,a,f,g=new Fe,y=new ke,x=0,b=!0===i?t:e,w=!0===i?1:-1;for(a=d,n=1;n<=r;n++)h.push(0,m*w,0),c.push(0,w,0),p.push(.5,.5),d++;for(f=d,n=0;n<=r;n++){var _=n/r*s+o,M=Math.cos(_),S=Math.sin(_);y.x=b*S,y.y=m*w,y.z=b*M,h.push(y.x,y.y,y.z),c.push(0,w,0),g.x=.5*M+.5,g.y=.5*S*w+.5,p.push(g.x,g.y),d++}for(n=0;n<r;n++){var A=a+n,T=f+n;!0===i?l.push(T,T+1,A):l.push(T+1,T,A),x+=3}u.addGroup(v,x,!0===i?1:2),v+=x}!function(){var a,g,y=new ke,x=new ke,b=0,w=(e-t)/i;for(g=0;g<=n;g++){var _=[],M=g/n,S=M*(e-t)+t;for(a=0;a<=r;a++){var A=a/r,T=A*s+o,L=Math.sin(T),P=Math.cos(T);x.x=S*L,x.y=-M*i+m,x.z=S*P,h.push(x.x,x.y,x.z),y.set(L,w,P).normalize(),c.push(y.x,y.y,y.z),p.push(A,1-M),_.push(d++)}f.push(_)}for(a=0;a<r;a++)for(g=0;g<n;g++){var C=f[g][a],E=f[g+1][a],I=f[g+1][a+1],D=f[g][a+1];l.push(C,E,D),l.push(E,I,D),b+=6}u.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(l),this.addAttribute("position",new Qi(h,3)),this.addAttribute("normal",new Qi(c,3)),this.addAttribute("uv",new Qi(p,2))}function rs(t,e,i,r,n,a,o){es.call(this,0,t,e,i,r,n,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function ns(t,e,i,r,n,a,o){is.call(this,0,t,e,i,r,n,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function as(t,e,i,r){Vi.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new os(t,e,i,r)),this.mergeVertices()}function os(t,e,i,r){ir.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,a,o=[],s=[],u=[],l=[],h=new ke,c=new Fe;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,n=3;a<=e;a++,n+=3){var p=i+a/e*r;h.x=t*Math.cos(p),h.y=t*Math.sin(p),s.push(h.x,h.y,h.z),u.push(0,0,1),c.x=(s[n]/t+1)/2,c.y=(s[n+1]/t+1)/2,l.push(c.x,c.y)}for(n=1;n<=e;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute("position",new Qi(s,3)),this.addAttribute("normal",new Qi(u,3)),this.addAttribute("uv",new Qi(l,2))}Wo.prototype=(0,p.default)(Vi.prototype),Wo.prototype.constructor=Wo,Ho.prototype=(0,p.default)(ko.prototype),Ho.prototype.constructor=Ho,jo.prototype=(0,p.default)(Vi.prototype),jo.prototype.constructor=jo,Xo.prototype=(0,p.default)(ir.prototype),Xo.prototype.constructor=Xo,qo.prototype=(0,p.default)(Vi.prototype),qo.prototype.constructor=qo,Yo.prototype=(0,p.default)(ir.prototype),Yo.prototype.constructor=Yo,Jo.prototype=(0,p.default)(Vi.prototype),Jo.prototype.constructor=Jo,Zo.prototype=(0,p.default)(ir.prototype),Zo.prototype.constructor=Zo,Qo.prototype=(0,p.default)(Vi.prototype),Qo.prototype.constructor=Qo,Qo.prototype.toJSON=function(){var t=Vi.prototype.toJSON.call(this);return $o(this.parameters.shapes,t)},Ko.prototype=(0,p.default)(ir.prototype),Ko.prototype.constructor=Ko,Ko.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return $o(this.parameters.shapes,t)},ts.prototype=(0,p.default)(ir.prototype),ts.prototype.constructor=ts,es.prototype=(0,p.default)(Vi.prototype),es.prototype.constructor=es,is.prototype=(0,p.default)(ir.prototype),is.prototype.constructor=is,rs.prototype=(0,p.default)(es.prototype),rs.prototype.constructor=rs,ns.prototype=(0,p.default)(is.prototype),ns.prototype.constructor=ns,as.prototype=(0,p.default)(Vi.prototype),as.prototype.constructor=as,os.prototype=(0,p.default)(ir.prototype),os.prototype.constructor=os;var ss=(0,u.default)({WireframeGeometry:Ya,ParametricGeometry:Ja,ParametricBufferGeometry:Za,TetrahedronGeometry:$a,TetrahedronBufferGeometry:to,OctahedronGeometry:eo,OctahedronBufferGeometry:io,IcosahedronGeometry:ro,IcosahedronBufferGeometry:no,DodecahedronGeometry:ao,DodecahedronBufferGeometry:oo,PolyhedronGeometry:Qa,PolyhedronBufferGeometry:Ka,TubeGeometry:so,TubeBufferGeometry:uo,TorusKnotGeometry:lo,TorusKnotBufferGeometry:ho,TorusGeometry:co,TorusBufferGeometry:po,TextGeometry:Wo,TextBufferGeometry:Ho,SphereGeometry:jo,SphereBufferGeometry:Xo,RingGeometry:qo,RingBufferGeometry:Yo,PlaneGeometry:ar,PlaneBufferGeometry:or,LatheGeometry:Jo,LatheBufferGeometry:Zo,ShapeGeometry:Qo,ShapeBufferGeometry:Ko,ExtrudeGeometry:Uo,ExtrudeBufferGeometry:ko,EdgesGeometry:ts,ConeGeometry:rs,ConeBufferGeometry:ns,CylinderGeometry:es,CylinderBufferGeometry:is,CircleGeometry:as,CircleBufferGeometry:os,BoxGeometry:rr,BoxBufferGeometry:nr});function us(t){ur.call(this),this.type="ShadowMaterial",this.color=new Mi(0),this.transparent=!0,this.setValues(t)}function ls(t){Mr.call(this,t),this.type="RawShaderMaterial"}function hs(t){ur.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Mi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function cs(t){hs.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function ps(t){ur.call(this),this.type="MeshPhongMaterial",this.color=new Mi(16777215),this.specular=new Mi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ds(t){ps.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function fs(t){ur.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ms(t){ur.call(this),this.type="MeshLambertMaterial",this.color=new Mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vs(t){ur.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function gs(t){Fa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}us.prototype=(0,p.default)(ur.prototype),us.prototype.constructor=us,us.prototype.isShadowMaterial=!0,us.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this},ls.prototype=(0,p.default)(Mr.prototype),ls.prototype.constructor=ls,ls.prototype.isRawShaderMaterial=!0,hs.prototype=(0,p.default)(ur.prototype),hs.prototype.constructor=hs,hs.prototype.isMeshStandardMaterial=!0,hs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},cs.prototype=(0,p.default)(hs.prototype),cs.prototype.constructor=cs,cs.prototype.isMeshPhysicalMaterial=!0,cs.prototype.copy=function(t){return hs.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},ps.prototype=(0,p.default)(ur.prototype),ps.prototype.constructor=ps,ps.prototype.isMeshPhongMaterial=!0,ps.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ds.prototype=(0,p.default)(ps.prototype),ds.prototype.constructor=ds,ds.prototype.isMeshToonMaterial=!0,ds.prototype.copy=function(t){return ps.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},fs.prototype=(0,p.default)(ur.prototype),fs.prototype.constructor=fs,fs.prototype.isMeshNormalMaterial=!0,fs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ms.prototype=(0,p.default)(ur.prototype),ms.prototype.constructor=ms,ms.prototype.isMeshLambertMaterial=!0,ms.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},vs.prototype=(0,p.default)(ur.prototype),vs.prototype.constructor=vs,vs.prototype.isMeshMatcapMaterial=!0,vs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gs.prototype=(0,p.default)(Fa.prototype),gs.prototype.constructor=gs,gs.prototype.isLineDashedMaterial=!0,gs.prototype.copy=function(t){return Fa.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var ys=(0,u.default)({ShadowMaterial:us,SpriteMaterial:Da,RawShaderMaterial:ls,ShaderMaterial:Mr,PointsMaterial:Va,MeshPhysicalMaterial:cs,MeshStandardMaterial:hs,MeshPhongMaterial:ps,MeshToonMaterial:ds,MeshNormalMaterial:fs,MeshLambertMaterial:ms,MeshDepthMaterial:aa,MeshDistanceMaterial:oa,MeshBasicMaterial:Tr,MeshMatcapMaterial:vs,LineDashedMaterial:gs,LineBasicMaterial:Fa,Material:ur}),xs={arraySlice:function(t,e,i){return xs.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),r=0;r!==e;++r)i[r]=r;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var r=t.length,n=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=i[a]*e,u=0;u!==e;++u)n[o++]=t[s+u];return n},flattenJSON:function(t,e,i,r){for(var n=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[n++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),i.push.apply(i,o)),a=t[n++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(i,i.length)),a=t[n++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),i.push(o)),a=t[n++]}while(void 0!==a)}}};function bs(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function ws(t,e,i,r){bs.call(this,t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function _s(t,e,i,r){bs.call(this,t,e,i,r)}function Ms(t,e,i,r){bs.call(this,t,e,i,r)}function Ss(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=xs.convertArray(e,this.TimeBufferType),this.values=xs.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function As(t,e,i){Ss.call(this,t,e,i)}function Ts(t,e,i,r){Ss.call(this,t,e,i,r)}function Ls(t,e,i,r){Ss.call(this,t,e,i,r)}function Ps(t,e,i,r){bs.call(this,t,e,i,r)}function Cs(t,e,i,r){Ss.call(this,t,e,i,r)}function Es(t,e,i,r){Ss.call(this,t,e,i,r)}function Is(t,e,i,r){Ss.call(this,t,e,i,r)}function Ds(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=Re.generateUUID(),this.duration<0&&this.resetDuration()}function Bs(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ls;case"vector":case"vector2":case"vector3":case"vector4":return Is;case"color":return Ts;case"quaternion":return Cs;case"bool":case"boolean":return As;case"string":return Es}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],r=[];xs.flattenJSON(t.keys,i,r,"value"),t.times=i,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}(0,f.default)(bs.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,r=e[i],n=e[i-1];t:{e:{var a;i:{r:if(!(t<r)){for(var o=i+2;;){if(void 0===r){if(t<n)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,n)}if(i===o)break;if(n=r,t<(r=e[++i]))break e}a=e.length;break i}if(t>=n)break t;var s=e[1];for(t<s&&(i=2,n=s),o=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===o)break;if(r=n,t>=(n=e[--i-1]))break e}a=i,i=0}for(;i<a;){var u=i+a>>>1;t<e[u]?a=u:i=u+1}if(r=e[i],void 0===(n=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,n,t)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=t*r,a=0;a!==r;++a)e[a]=i[n+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),(0,f.default)(bs.prototype,{beforeStart_:bs.prototype.copySampleValue_,afterEnd_:bs.prototype.copySampleValue_}),ws.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:ws,DefaultSettings_:{endingStart:_e,endingEnd:_e},intervalChanged_:function(t,e,i){var r=this.parameterPositions,n=t-2,a=t+1,o=r[n],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Me:n=t,o=2*e-i;break;case Se:o=e+r[n=r.length-2]-r[n+1];break;default:n=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case Me:a=t,s=2*i-e;break;case Se:a=1,s=i+r[1]-r[0];break;default:a=t-1,s=e}var u=.5*(i-e),l=this.valueSize;this._weightPrev=u/(e-o),this._weightNext=u/(s-i),this._offsetPrev=n*l,this._offsetNext=a*l},interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,p=this._weightNext,d=(i-e)/(r-e),f=d*d,m=f*d,v=-c*m+2*c*f-c*d,g=(1+c)*m+(-1.5-2*c)*f+(-.5+c)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)n[b]=v*a[l+b]+g*a[u+b]+y*a[s+b]+x*a[h+b];return n}}),_s.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:_s,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=(i-e)/(r-e),h=1-l,c=0;c!==o;++c)n[c]=a[u+c]*h+a[s+c]*l;return n}}),Ms.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:Ms,interpolate_:function(t){return this.copySampleValue_(t-1)}}),(0,f.default)(Ss,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:xs.convertArray(t.times,Array),values:xs.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),(0,f.default)(Ss.prototype,{constructor:Ss,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:be,InterpolantFactoryMethodDiscrete:function(t){return new Ms(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new _s(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new ws(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case xe:e=this.InterpolantFactoryMethodDiscrete;break;case be:e=this.InterpolantFactoryMethodLinear;break;case we:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xe;case this.InterpolantFactoryMethodLinear:return be;case this.InterpolantFactoryMethodSmooth:return we}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,r=i.length,n=0,a=r-1;n!==r&&i[n]<t;)++n;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==n||a!==r){n>=a&&(n=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=xs.arraySlice(i,n,a),this.values=xs.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);var i=this.times,r=this.values,n=i.length;0===n&&(t=!1);for(var a=null,o=0;o!==n;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){t=!1;break}if(null!==a&&a>s){t=!1;break}a=s}if(void 0!==r&&xs.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var l=r[o];if(isNaN(l)){t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),r=this.getInterpolation()===we,n=1,a=t.length-1,o=1;o<a;++o){var s=!1,u=t[o];if(u!==t[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*i,h=l-i,c=l+i,p=0;p!==i;++p){var d=e[l+p];if(d!==e[h+p]||d!==e[c+p]){s=!0;break}}if(s){if(o!==n){t[n]=t[o];var f=o*i,m=n*i;for(p=0;p!==i;++p)e[m+p]=e[f+p]}++n}}if(a>0){for(t[n]=t[a],f=a*i,m=n*i,p=0;p!==i;++p)e[m+p]=e[f+p];++n}return n!==t.length&&(this.times=xs.arraySlice(t,0,n),this.values=xs.arraySlice(e,0,n*i)),this},clone:function(){var t=xs.arraySlice(this.times,0),e=xs.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),As.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:As,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:xe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ts.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Ts,ValueTypeName:"color"}),Ls.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Ls,ValueTypeName:"number"}),Ps.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:Ps,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=(i-e)/(r-e),l=s+o;s!==l;s+=4)Ue.slerpFlat(n,0,a,s-o,a,s,u);return n}}),Cs.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Cs,ValueTypeName:"quaternion",DefaultInterpolation:be,InterpolantFactoryMethodLinear:function(t){return new Ps(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Es.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Es,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:xe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Is.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Is,ValueTypeName:"vector"}),(0,f.default)(Ds,{parse:function(t){for(var e=[],i=t.tracks,r=1/(t.fps||1),n=0,a=i.length;n!==a;++n)e.push(Bs(i[n]).scale(r));return new Ds(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},n=0,a=i.length;n!==a;++n)e.push(Ss.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(t,e,i,r){for(var n=e.length,a=[],o=0;o<n;o++){var s=[],u=[];s.push((o+n-1)%n,o,(o+1)%n),u.push(0,1,0);var l=xs.getKeyframeOrder(s);s=xs.sortedArray(s,1,l),u=xs.sortedArray(u,1,l),r||0!==s[0]||(s.push(n),u.push(u[0])),a.push(new Ls(".morphTargetInfluences["+e[o].name+"]",s,u).scale(1/i))}return new Ds(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var r=t;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],u=s.name.match(n);if(u&&u.length>1){var l=r[c=u[1]];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(Ds.CreateFromMorphTargetSequence(c,r[c],e,i));return h},parseAnimation:function(t,e){if(!t)return null;for(var i=function(t,e,i,r,n){if(0!==i.length){var a=[],o=[];xs.flattenJSON(i,a,o,r),0!==a.length&&n.push(new t(e,a,o))}},r=[],n=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var h={},c=0;c<l.length;c++)if(l[c].morphTargets)for(var p=0;p<l[c].morphTargets.length;p++)h[l[c].morphTargets[p]]=-1;for(var d in h){var f=[],m=[];for(p=0;p!==l[c].morphTargets.length;++p){var v=l[c];f.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Ls(".morphTargetInfluence["+d+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+e[u].name+"]";i(Is,g+".position",l,"pos",r),i(Cs,g+".quaternion",l,"rot",r),i(Is,g+".scale",l,"scl",r)}}return 0===r.length?null:new Ds(n,a,r)}}),(0,f.default)(Ds.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Ds(this.name,this.duration,t)}});var Os={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function zs(t,e,i){var r=this,n=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===n&&void 0!==r.onStart&&r.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Ns=new zs,Rs={};function Fs(t){this.manager=void 0!==t?t:Ns}function Us(t){this.manager=void 0!==t?t:Ns}function ks(t){this.manager=void 0!==t?t:Ns,this._parser=null}function Gs(t){this.manager=void 0!==t?t:Ns,this._parser=null}function Vs(t){this.manager=void 0!==t?t:Ns}function Ws(t){this.manager=void 0!==t?t:Ns}function Hs(t){this.manager=void 0!==t?t:Ns}function js(){this.type="Curve",this.arcLengthDivisions=200}function Xs(t,e,i,r,n,a,o,s){js.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function qs(t,e,i,r,n,a){Xs.call(this,t,e,i,i,r,n,a),this.type="ArcCurve"}function Ys(){var t=0,e=0,i=0,r=0;function n(n,a,o,s){t=n,e=o,i=-3*n+3*a-2*o-s,r=2*n-2*a+o+s}return{initCatmullRom:function(t,e,i,r,a){n(e,i,a*(i-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,a,o,s){var u=(e-t)/a-(i-t)/(a+o)+(i-e)/o,l=(i-e)/o-(r-e)/(o+s)+(r-i)/s;n(e,i,u*=o,l*=o)},calc:function(n){var a=n*n;return t+e*n+i*a+r*(a*n)}}}(0,f.default)(Fs.prototype,{load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;if(void 0===Rs[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var h,c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var p=new Uint8Array(l.length),d=0;d<l.length;d++)p[d]=l.charCodeAt(d);h="blob"===c?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(l,s);break;case"json":h=JSON.parse(l);break;default:h=l}setTimeout((function(){e&&e(h),n.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}),0)}}else{Rs[t]=[],Rs[t].push({onLoad:e,onProgress:i,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var i=this.response;Os.add(t,i);var r=Rs[t];if(delete Rs[t],200===this.status||0===this.status){this.status;for(var a=0,o=r.length;a<o;a++)(s=r[a]).onLoad&&s.onLoad(i);n.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var i=Rs[t],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var i=Rs[t];delete Rs[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var i=Rs[t];delete Rs[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return n.manager.itemStart(t),m}Rs[t].push({onLoad:e,onProgress:i,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),(0,f.default)(Us.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){for(var e=[],i=0;i<t.length;i++){var r=Ds.parse(t[i]);e.push(r)}return e},setPath:function(t){return this.path=t,this}}),(0,f.default)(ks.prototype,{load:function(t,e,i,r){var n=this,a=[],o=new ja;o.image=a;var s=new Fs(this.manager);function u(u){s.load(t[u],(function(t){var i=n._parser(t,!0);a[u]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(l+=1)&&(1===i.mipmapCount&&(o.minFilter=Tt),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,h=0,c=t.length;h<c;++h)u(h);else s.load(t,(function(t){var i=n._parser(t,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<i.mipmapCount;u++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+u]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=Tt),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,r);return o},setPath:function(t){return this.path=t,this}}),(0,f.default)(Gs.prototype,{load:function(t,e,i,r){var n=this,a=new li,o=new Fs(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var i=n._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:wt,a.wrapT=void 0!==i.wrapT?i.wrapT:wt,a.magFilter=void 0!==i.magFilter?i.magFilter:Tt,a.minFilter=void 0!==i.minFilter?i.minFilter:Pt,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Tt),a.needsUpdate=!0,e&&e(a,i))}),i,r),a},setPath:function(t){return this.path=t,this}}),(0,f.default)(Vs.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),Os.add(t,this),e&&e(this),n.manager.itemEnd(t)}function u(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(Ws.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new Ur,a=new Vs(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(t[i],(function(t){n.images[i]=t,6==++o&&(n.needsUpdate=!0,e&&e(n))}),void 0,r)}for(var u=0;u<t.length;++u)s(u);return n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(Hs.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new ni,a=new Vs(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?Vt:Wt,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(js.prototype,{getPoint:function(){return null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],n=this.getPoint(0),a=0;for(r.push(0),i=1;i<=t;i++)a+=(e=this.getPoint(i/t)).distanceTo(n),r.push(a),n=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,r=this.getLengths(),n=0,a=r.length;i=e||t*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[n=Math.floor(s+(u-s)/2)]-i)<0)s=n+1;else{if(!(o>0)){u=n;break}u=n-1}if(r[n=u]===i)return n/(a-1);var l=r[n];return(n+(i-l)/(r[n+1]-l))/(a-1)},getTangent:function(t){var e=1e-4,i=t-e,r=t+e;i<0&&(i=0),r>1&&(r=1);var n=this.getPoint(i);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,r,n,a=new ke,o=[],s=[],u=[],l=new ke,h=new fi;for(i=0;i<=t;i++)r=i/t,o[i]=this.getTangentAt(r),o[i].normalize();s[0]=new ke,u[0]=new ke;var c=Number.MAX_VALUE,p=Math.abs(o[0].x),d=Math.abs(o[0].y),f=Math.abs(o[0].z);for(p<=c&&(c=p,a.set(1,0,0)),d<=c&&(c=d,a.set(0,1,0)),f<=c&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),u[i]=u[i-1].clone(),l.crossVectors(o[i-1],o[i]),l.length()>g.default&&(l.normalize(),n=Math.acos(Re.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(h.makeRotationAxis(l,n))),u[i].crossVectors(o[i],s[i]);if(!0===e)for(n=Math.acos(Re.clamp(s[0].dot(s[t]),-1,1)),n/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(n=-n),i=1;i<=t;i++)s[i].applyMatrix4(h.makeRotationAxis(o[i],n*i)),u[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Xs.prototype=(0,p.default)(js.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isEllipseCurve=!0,Xs.prototype.getPoint=function(t,e){for(var i=e||new Fe,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<g.default;n<0;)n+=r;for(;n>r;)n-=r;n<g.default&&(n=a?0:r),!0!==this.aClockwise||a||(n===r?n=-r:n-=r);var o=this.aStartAngle+t*n,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),h=Math.sin(this.aRotation),c=s-this.aX,p=u-this.aY;s=c*l-p*h+this.aX,u=c*h+p*l+this.aY}return i.set(s,u)},Xs.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Xs.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Xs.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},qs.prototype=(0,p.default)(Xs.prototype),qs.prototype.constructor=qs,qs.prototype.isArcCurve=!0;var Js=new ke,Zs=new Ys,Qs=new Ys,Ks=new Ys;function $s(t,e,i,r){js.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=r||.5}function tu(t,e,i,r,n){var a=.5*(r-e),o=.5*(n-i),s=t*t;return(2*i-2*r+a+o)*(t*s)+(-3*i+3*r-2*a-o)*s+a*t+i}function eu(t,e,i,r){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,r)}function iu(t,e,i,r,n){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,n)}function ru(t,e,i,r){js.call(this),this.type="CubicBezierCurve",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=i||new Fe,this.v3=r||new Fe}function nu(t,e,i,r){js.call(this),this.type="CubicBezierCurve3",this.v0=t||new ke,this.v1=e||new ke,this.v2=i||new ke,this.v3=r||new ke}function au(t,e){js.call(this),this.type="LineCurve",this.v1=t||new Fe,this.v2=e||new Fe}function ou(t,e){js.call(this),this.type="LineCurve3",this.v1=t||new ke,this.v2=e||new ke}function su(t,e,i){js.call(this),this.type="QuadraticBezierCurve",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=i||new Fe}function uu(t,e,i){js.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new ke,this.v1=e||new ke,this.v2=i||new ke}function lu(t){js.call(this),this.type="SplineCurve",this.points=t||[]}$s.prototype=(0,p.default)(js.prototype),$s.prototype.constructor=$s,$s.prototype.isCatmullRomCurve3=!0,$s.prototype.getPoint=function(t,e){var i,r,n,a,o=e||new ke,s=this.points,u=s.length,l=(u-(this.closed?0:1))*t,h=Math.floor(l),c=l-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/u)+1)*u:0===c&&h===u-1&&(h=u-2,c=1),this.closed||h>0?i=s[(h-1)%u]:(Js.subVectors(s[0],s[1]).add(s[0]),i=Js),r=s[h%u],n=s[(h+1)%u],this.closed||h+2<u?a=s[(h+2)%u]:(Js.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=Js),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),p),f=Math.pow(r.distanceToSquared(n),p),m=Math.pow(n.distanceToSquared(a),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),Zs.initNonuniformCatmullRom(i.x,r.x,n.x,a.x,d,f,m),Qs.initNonuniformCatmullRom(i.y,r.y,n.y,a.y,d,f,m),Ks.initNonuniformCatmullRom(i.z,r.z,n.z,a.z,d,f,m)}else"catmullrom"===this.curveType&&(Zs.initCatmullRom(i.x,r.x,n.x,a.x,this.tension),Qs.initCatmullRom(i.y,r.y,n.y,a.y,this.tension),Ks.initCatmullRom(i.z,r.z,n.z,a.z,this.tension));return o.set(Zs.calc(c),Qs.calc(c),Ks.calc(c)),o},$s.prototype.copy=function(t){js.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},$s.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},$s.prototype.fromJSON=function(t){js.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ke).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ru.prototype=(0,p.default)(js.prototype),ru.prototype.constructor=ru,ru.prototype.isCubicBezierCurve=!0,ru.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(iu(t,r.x,n.x,a.x,o.x),iu(t,r.y,n.y,a.y,o.y)),i},ru.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ru.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ru.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},nu.prototype=(0,p.default)(js.prototype),nu.prototype.constructor=nu,nu.prototype.isCubicBezierCurve3=!0,nu.prototype.getPoint=function(t,e){var i=e||new ke,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(iu(t,r.x,n.x,a.x,o.x),iu(t,r.y,n.y,a.y,o.y),iu(t,r.z,n.z,a.z,o.z)),i},nu.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},nu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},nu.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},au.prototype=(0,p.default)(js.prototype),au.prototype.constructor=au,au.prototype.isLineCurve=!0,au.prototype.getPoint=function(t,e){var i=e||new Fe;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},au.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},au.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},au.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},au.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},au.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ou.prototype=(0,p.default)(js.prototype),ou.prototype.constructor=ou,ou.prototype.isLineCurve3=!0,ou.prototype.getPoint=function(t,e){var i=e||new ke;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},ou.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ou.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ou.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ou.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},su.prototype=(0,p.default)(js.prototype),su.prototype.constructor=su,su.prototype.isQuadraticBezierCurve=!0,su.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.v0,n=this.v1,a=this.v2;return i.set(eu(t,r.x,n.x,a.x),eu(t,r.y,n.y,a.y)),i},su.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},su.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},su.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},uu.prototype=(0,p.default)(js.prototype),uu.prototype.constructor=uu,uu.prototype.isQuadraticBezierCurve3=!0,uu.prototype.getPoint=function(t,e){var i=e||new ke,r=this.v0,n=this.v1,a=this.v2;return i.set(eu(t,r.x,n.x,a.x),eu(t,r.y,n.y,a.y),eu(t,r.z,n.z,a.z)),i},uu.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},uu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},uu.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},lu.prototype=(0,p.default)(js.prototype),lu.prototype.constructor=lu,lu.prototype.isSplineCurve=!0,lu.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.points,n=(r.length-1)*t,a=Math.floor(n),o=n-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(tu(o,s.x,u.x,l.x,h.x),tu(o,s.y,u.y,l.y,h.y)),i},lu.prototype.copy=function(t){js.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this},lu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t},lu.prototype.fromJSON=function(t){js.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new Fe).fromArray(r))}return this};var hu=(0,u.default)({ArcCurve:qs,CatmullRomCurve3:$s,CubicBezierCurve:ru,CubicBezierCurve3:nu,EllipseCurve:Xs,LineCurve:au,LineCurve3:ou,QuadraticBezierCurve:su,QuadraticBezierCurve3:uu,SplineCurve:lu});function cu(){js.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function pu(t){cu.call(this),this.type="Path",this.currentPoint=new Fe,t&&this.setFromPoints(t)}function du(t){pu.call(this,t),this.uuid=Re.generateUUID(),this.type="Shape",this.holes=[]}function fu(t,e){Fi.call(this),this.type="Light",this.color=new Mi(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function mu(t,e,i){fu.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.groundColor=new Mi(e)}function vu(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Fe(512,512),this.map=null,this.matrix=new fi}function gu(){vu.call(this,new da(50,1,.5,500))}function yu(t,e,i,r,n,a){fu.call(this,t,e),this.type="SpotLight",this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.target=new Fi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==a?a:1,this.shadow=new gu}function xu(t,e,i,r){fu.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new vu(new da(90,1,.5,500))}function bu(t,e,i,r,n,a){pa.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==i?i:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function wu(){vu.call(this,new bu(-5,5,5,-5,.5,500))}function _u(t,e){fu.call(this,t,e),this.type="DirectionalLight",this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.target=new Fi,this.shadow=new wu}function Mu(t,e){fu.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Su(t,e,i,r){fu.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}function Au(t){this.manager=void 0!==t?t:Ns,this.textures={}}cu.prototype=(0,f.default)((0,p.default)(js.prototype),{constructor:cu,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new au(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=e){var n=i[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],r=0,n=this.curves;r<n.length;r++)for(var a=n[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(i.push(l),e=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){js.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=js.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){js.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new hu[r.type]).fromJSON(r))}return this}}),pu.prototype=(0,f.default)((0,p.default)(cu.prototype),{constructor:pu,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new au(this.currentPoint.clone(),new Fe(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var n=new su(this.currentPoint.clone(),new Fe(t,e),new Fe(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,n,a){var o=new ru(this.currentPoint.clone(),new Fe(t,e),new Fe(i,r),new Fe(n,a));this.curves.push(o),this.currentPoint.set(n,a)},splineThru:function(t){var e=new lu([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,r,n,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,r,n,a)},absarc:function(t,e,i,r,n,a){this.absellipse(t,e,i,i,r,n,a)},ellipse:function(t,e,i,r,n,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,i,r,n,a,o,s)},absellipse:function(t,e,i,r,n,a,o,s){var u=new Xs(t,e,i,r,n,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var h=u.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return cu.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=cu.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return cu.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),du.prototype=(0,f.default)((0,p.default)(pu.prototype),{constructor:du,getPointsHoles:function(t){for(var e=[],i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){pu.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=pu.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){pu.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new pu).fromJSON(r))}return this}}),fu.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:fu,isLight:!0,copy:function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),mu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:mu,isHemisphereLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),(0,f.default)(vu.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),gu.prototype=(0,f.default)((0,p.default)(vu.prototype),{constructor:gu,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*Re.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,n=t.distance||e.far;i===e.fov&&r===e.aspect&&n===e.far||(e.fov=i,e.aspect=r,e.far=n,e.updateProjectionMatrix())}}),yu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:yu,isSpotLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),xu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:xu,isPointLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),bu.prototype=(0,f.default)((0,p.default)(pa.prototype),{constructor:bu,isOrthographicCamera:!0,copy:function(t,e){return pa.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:(0,f.default)({},t.view),this},setViewOffset:function(t,e,i,r,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-t,a=i+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;a=(n+=h*(this.view.offsetX/u))+h*(this.view.width/u),s=(o-=c*(this.view.offsetY/l))-c*(this.view.height/l)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e}}),wu.prototype=(0,f.default)((0,p.default)(vu.prototype),{constructor:wu}),_u.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:_u,isDirectionalLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Mu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Mu,isAmbientLight:!0}),Su.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Su,isRectAreaLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=fu.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),(0,f.default)(Au.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=this.textures;function i(t){return e[t],e[t]}var r=new ys[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var n in t.uniforms){var a=t.uniforms[n];switch(r.uniforms[n]={},a.type){case"t":r.uniforms[n].value=i(a.value);break;case"c":r.uniforms[n].value=(new Mi).setHex(a.value);break;case"v2":r.uniforms[n].value=(new Fe).fromArray(a.value);break;case"v3":r.uniforms[n].value=(new ke).fromArray(a.value);break;case"v4":r.uniforms[n].value=(new ai).fromArray(a.value);break;case"m3":r.uniforms[n].value=(new Ge).fromArray(a.value);case"m4":r.uniforms[n].value=(new fi).fromArray(a.value);break;default:r.uniforms[n].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Fe).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),r},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Tu={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Lu(){ir.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Pu(t,e,i,r){"number"==typeof i&&(r=i,i=!1),Wi.call(this,t,e,i),this.meshPerAttribute=r||1}function Cu(t){this.manager=void 0!==t?t:Ns}Lu.prototype=(0,f.default)((0,p.default)(ir.prototype),{constructor:Lu,isInstancedBufferGeometry:!0,copy:function(t){return ir.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=ir.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),Pu.prototype=(0,f.default)((0,p.default)(Wi.prototype),{constructor:Pu,isInstancedBufferAttribute:!0,copy:function(t){return Wi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=Wi.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),(0,f.default)(Cu.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=t.isInstancedBufferGeometry?new Lu:new ir,i=t.data.index;if(void 0!==i){var r=new Eu[i.type](i.array);e.setIndex(new Wi(r,1))}var n=t.data.attributes;for(var a in n){var o=n[a],s=(r=new Eu[o.type](o.array),new(o.isInstancedBufferAttribute?Pu:Wi)(r,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),e.addAttribute(a,s)}var u=t.data.morphAttributes;if(u)for(var a in u){for(var l=u[a],h=[],c=0,p=l.length;c<p;c++)o=l[c],s=new Wi(r=new Eu[o.type](o.array),o.itemSize,o.normalized),void 0!==o.name&&(s.name=o.name),h.push(s);e.morphAttributes[a]=h}var d=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==d){c=0;for(var f=d.length;c!==f;++c){var m=d[c];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new ke;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new ci(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var Eu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Iu(t){this.manager=void 0!==t?t:Ns,this.resourcePath=""}(0,f.default)(Iu.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=this,a=void 0===this.path?Tu.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new Fs(n.manager);o.setPath(this.path),o.load(t,(function(t){var i=null;try{i=JSON.parse(t)}catch(t){return void 0!==r&&r(t),void t.message}var a=i.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()&&n.parse(i,e)}),i,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var i=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,i),n=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,r=t.length;i<r;i++){var n=(new du).fromJSON(t[i]);e[n.uuid]=n}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var r=new Cu,n=0,a=t.length;n<a;n++){var o,s=t[n];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new ss[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new ss[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new ss[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new ss[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new ss[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new ss[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new ss[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new ss[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new ss[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new ss[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new ss[s.type]((new hu[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new ss[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new ss[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,h=s.shapes.length;l<h;l++){var c=e[s.shapes[l]];u.push(c)}o=new ss[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],l=0,h=s.shapes.length;l<h;l++)c=e[s.shapes[l]],u.push(c);var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new hu[p.type]).fromJSON(p)),o=new ss[s.type](u,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE&&(o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry);break;default:s.type;continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),i[s.uuid]=o}return i},parseMaterials:function(t,e){var i={},r={};if(void 0!==t){var n=new Au;n.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var h=s.materials[l];void 0===i[h.uuid]&&(i[h.uuid]=n.parse(h)),u.push(i[h.uuid])}r[s.uuid]=u}else void 0===i[s.uuid]&&(i[s.uuid]=n.parse(s)),r[s.uuid]=i[s.uuid]}}return r},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],n=Ds.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),e.push(n)}return e},parseImages:function(t,e){var i=this,r={};function n(t){return i.manager.itemStart(t),a.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t),i.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new Vs(new zs(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var u=t[o],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var h=0,c=l.length;h<c;h++){var p=l[h],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;r[u.uuid].push(n(d))}}else d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:i.resourcePath+u.url,r[u.uuid]=n(d)}}return r},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:e[t]}var r={};if(void 0!==t)for(var n=0,a=t.length;n<a;n++){var o,s=t[n];void 0===s.image&&s.uuid,void 0===e[s.image]&&s.image,(o=Array.isArray(e[s.image])?new Ur(e[s.image]):new ni(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,Ru)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],Fu),o.wrapT=i(s.wrap[1],Fu)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,Uu)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,Uu)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(t,e,i){var r;function n(t){return e[t],e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;r<n;r++){var a=t[r];i[a],e.push(i[a])}return e}return i[t],i[t]}}switch(t.type){case"Scene":r=new Ca,void 0!==t.background&&(0,v.default)(t.background)&&(r.background=new Mi(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Pa(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new La(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new da(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"OrthographicCamera":r=new bu(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"AmbientLight":r=new Mu(t.color,t.intensity);break;case"DirectionalLight":r=new _u(t.color,t.intensity);break;case"PointLight":r=new xu(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new Su(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new yu(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new mu(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":case"Mesh":var o=n(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new za(o,s):new Lr(o,s),void 0!==t.drawMode&&r.setDrawMode(t.drawMode);break;case"LOD":r=new Oa;break;case"Line":r=new Ua(n(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new Ga(n(t.geometry),a(t.material));break;case"LineSegments":r=new ka(n(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new Wa(n(t.geometry),a(t.material));break;case"Sprite":r=new Ba(a(t.material));break;case"Group":r=new ca;break;default:r=new Fi}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(r.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,l=0;l<u.length;l++)r.add(this.parseObject(u[l],e,i));if("LOD"===t.type)for(var h=t.levels,c=0;c<h.length;c++){var p=h[c],d=r.getObjectByProperty("uuid",p.object);void 0!==d&&r.addLevel(d,p.distance)}return r}});var Du,Bu,Ou,zu,Nu,Ru={UVMapping:pt,CubeReflectionMapping:dt,CubeRefractionMapping:ft,EquirectangularReflectionMapping:mt,EquirectangularRefractionMapping:vt,SphericalReflectionMapping:gt,CubeUVReflectionMapping:yt,CubeUVRefractionMapping:xt},Fu={RepeatWrapping:bt,ClampToEdgeWrapping:wt,MirroredRepeatWrapping:_t},Uu={NearestFilter:Mt,NearestMipMapNearestFilter:St,NearestMipMapLinearFilter:At,LinearFilter:Tt,LinearMipMapNearestFilter:Lt,LinearMipMapLinearFilter:Pt};function ku(t){this.manager=void 0!==t?t:Ns,this.options=void 0}function Gu(){this.type="ShapePath",this.color=new Mi,this.subPaths=[],this.currentPath=null}function Vu(t){this.type="Font",this.data=t}function Wu(t,e,i,r,n){var a=n.glyphs[t]||n.glyphs["?"];if(a){var o,s,u,l,h,c,p,d,f=new Gu;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+i,s=m[v++]*e+r,f.moveTo(o,s);break;case"l":o=m[v++]*e+i,s=m[v++]*e+r,f.lineTo(o,s);break;case"q":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,f.quadraticCurveTo(h,c,u,l);break;case"b":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,p=m[v++]*e+i,d=m[v++]*e+r,f.bezierCurveTo(h,c,p,d,u,l)}return{offsetX:a.ha*e,path:f}}}function Hu(t){this.manager=void 0!==t?t:Ns}function ju(){}ku.prototype={constructor:ku,setOptions:function(t){return this.options=t,this},load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===n.options?createImageBitmap(t):createImageBitmap(t,n.options)})).then((function(i){Os.add(t,i),e&&e(i),n.manager.itemEnd(t)})).catch((function(e){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)})),n.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},(0,f.default)(Gu.prototype,{moveTo:function(t,e){this.currentPath=new pu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,r){this.currentPath.quadraticCurveTo(t,e,i,r)},bezierCurveTo:function(t,e,i,r,n,a){this.currentPath.bezierCurveTo(t,e,i,r,n,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i],a=new du;a.curves=n.curves,e.push(a)}return e}function r(t,e){for(var i=e.length,r=!1,n=i-1,a=0;a<i;n=a++){var o=e[n],s=e[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>g.default){if(l<0&&(o=e[a],u=-u,s=e[n],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var h=l*(t.x-o.x)-u*(t.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var n=No.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new du).curves=s.curves,l.push(u),l;var h=!n(a[0].getPoints());h=t?!h:h;var c,p,d=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var y=0,x=a.length;y<x;y++)o=n(c=(s=a[y]).getPoints()),(o=t?!o:o)?(!h&&f[v]&&v++,f[v]={s:new du,p:c},f[v].s.curves=s.curves,h&&v++,m[v]=[]):m[v].push({h:s,p:c[0]});if(!f[0])return i(a);if(f.length>1){for(var b=!1,w=[],_=0,M=f.length;_<M;_++)d[_]=[];for(_=0,M=f.length;_<M;_++)for(var S=m[_],A=0;A<S.length;A++){for(var T=S[A],L=!0,P=0;P<f.length;P++)r(T.p,f[P].p)&&(_!==P&&w.push({froms:_,tos:P,hole:A}),L?(L=!1,d[P].push(T)):b=!0);L&&d[_].push(T)}w.length>0&&(b||(m=d))}y=0;for(var C=f.length;y<C;y++){u=f[y].s,l.push(u);for(var E=0,I=(p=m[y]).length;E<I;E++)u.holes.push(p[E].h)}return l}}),(0,f.default)(Vu.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var i=[],r=function(t,e,i){for(var r=s.default?(0,s.default)(t):String(t).split(""),n=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,o=[],u=0,l=0,h=0;h<r.length;h++){var c=r[h];if("\n"===c)u=0,l-=a;else{var p=Wu(c,n,u,l,i);u+=p.offsetX,o.push(p.path)}}return o}(t,e,this.data),n=0,a=r.length;n<a;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),(0,f.default)(Hu.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(this.manager);a.setPath(this.path),a.load(t,(function(t){var i;try{i=JSON.parse(t)}catch(e){i=JSON.parse(t.substring(65,t.length-2))}var r=n.parse(i);e&&e(r)}),i,r)},parse:function(t){return new Vu(t)},setPath:function(t){return this.path=t,this}}),ju.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,r=e.length;i<r;i+=2){var n=e[i],a=e[i+1];if(n.test(t))return a}return null}},(0,f.default)(ju.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var r=[],n=0;n<t.length;++n)r[n]=this.createMaterial(t[n],e,i);return r},createMaterial:(Du={NoBlending:L,NormalBlending:P,AdditiveBlending:C,SubtractiveBlending:E,MultiplyBlending:I,CustomBlending:D},Bu=new Mi,Ou=new Hs,zu=new Au,function(t,e,i){var r={};function n(t,n,a,o,s){var u,l=e+t,h=ju.Handlers.get(l);null!==h?u=h.load(l):(Ou.setCrossOrigin(i),u=Ou.load(l)),void 0!==n&&(u.repeat.fromArray(n),1!==n[0]&&(u.wrapS=bt),1!==n[1]&&(u.wrapT=bt)),void 0!==a&&u.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(u.wrapS=bt),"mirror"===o[0]&&(u.wrapS=_t),"repeat"===o[1]&&(u.wrapT=bt),"mirror"===o[1]&&(u.wrapT=_t)),void 0!==s&&(u.anisotropy=s);var c=Re.generateUUID();return r[c]=u,c}var a={uuid:Re.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"colorAmbient":case"mapAmbient":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":default:break;case"DbgName":a.name=s;break;case"blending":a.blending=Du[s];break;case"colorDiffuse":a.color=Bu.fromArray(s).getHex();break;case"colorSpecular":a.specular=Bu.fromArray(s).getHex();break;case"colorEmissive":a.emissive=Bu.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=n(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapEmissive":a.emissiveMap=n(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapLight":a.lightMap=n(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapAO":a.aoMap=n(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapBump":a.bumpMap=n(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapNormal":a.normalMap=n(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapSpecular":a.specularMap=n(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapMetalness":a.metalnessMap=n(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapRoughness":a.roughnessMap=n(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapAlpha":a.alphaMap=n(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"flipSided":a.side=M;break;case"doubleSided":a.side=S;break;case"transparency":a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=T),"face"===s&&(a.vertexColors=1)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),zu.setTextures(r),zu.parse(a)})});var Xu={getContext:function(){return void 0===Nu&&(Nu=new(window.AudioContext||window.webkitAudioContext)),Nu},setContext:function(t){Nu=t}};function qu(t){this.manager=void 0!==t?t:Ns}function Yu(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ke)}function Ju(t,e){fu.call(this,void 0,e),this.sh=void 0!==t?t:new Yu}function Zu(t,e,i){Ju.call(this,void 0,i);var r=(new Mi).set(t),n=(new Mi).set(e),a=new ke(r.r,r.g,r.b),o=new ke(n.r,n.g,n.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function Qu(t,e){Ju.call(this,void 0,e);var i=(new Mi).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Ku(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new da,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new da,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}(0,f.default)(qu.prototype,{load:function(t,e,i,r){var n=new Fs(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.load(t,(function(t){var i=t.slice(0);Xu.getContext().decodeAudioData(i,(function(t){e(t)}))}),i,r)},setPath:function(t){return this.path=t,this}}),(0,f.default)(Yu.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.282095*a[0],e+=.488603*a[1]*r,e+=.488603*a[2]*n,e+=.488603*a[3]*i,e+=1.092548*a[4]*(i*r),e+=1.092548*a[5]*(r*n),e+=.315392*a[6]*(3*n*n-1),e+=1.092548*a[7]*(i*n),e+=.546274*a[8]*(i*i-r*r)},getIrradianceAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.886227*a[0],e+=2*a[1]*.511664*r,e+=2*a[2]*.511664*n,e+=2*a[3]*.511664*i,e+=2*a[4]*.429043*i*r,e+=2*a[5]*.429043*r*n,e+=a[6]*(.743125*n*n-.247708),e+=2*a[7]*.429043*i*n,e+=.429043*a[8]*(i*i-r*r)},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t){for(var e=this.coefficients,i=0;i<9;i++)e[i].fromArray(t,3*i);return this},toArray:function(){for(var t=[],e=this.coefficients,i=0;i<9;i++)e[i].toArray(t,3*i);return t}}),(0,f.default)(Yu,{getBasisAt:function(t,e){var i=t.x,r=t.y,n=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*n,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*n,e[6]=.315392*(3*n*n-1),e[7]=1.092548*i*n,e[8]=.546274*(i*i-r*r)}}),Ju.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Ju,isLightProbe:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return fu.prototype.toJSON.call(this,t)}}),Zu.prototype=(0,f.default)((0,p.default)(Ju.prototype),{constructor:Zu,isHemisphereLightProbe:!0,copy:function(t){return Ju.prototype.copy.call(this,t),this},toJSON:function(t){return Ju.prototype.toJSON.call(this,t)}}),Qu.prototype=(0,f.default)((0,p.default)(Ju.prototype),{constructor:Qu,isAmbientLightProbe:!0,copy:function(t){return Ju.prototype.copy.call(this,t),this},toJSON:function(t){return Ju.prototype.toJSON.call(this,t)}}),(0,f.default)(Ku.prototype,{update:function(){var t,e,i,r,n,a,o,s,u=new fi,l=new fi;return function(h){if(t!==this||e!==h.focus||i!==h.fov||r!==h.aspect*this.aspect||n!==h.near||a!==h.far||o!==h.zoom||s!==this.eyeSep){t=this,e=h.focus,i=h.fov,r=h.aspect*this.aspect,n=h.near,a=h.far,o=h.zoom;var c,p,d=h.projectionMatrix.clone(),f=(s=this.eyeSep/2)*n/e,m=n*Math.tan(Re.DEG2RAD*i*.5)/o;l.elements[12]=-s,u.elements[12]=s,c=-m*r+f,p=m*r+f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraL.projectionMatrix.copy(d),c=-m*r-f,p=m*r-f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(u)}}()});var $u=90;function tl(t,e,i,r){Fi.call(this),this.type="CubeCamera";var n=new da($u,1,t,e);n.up.set(0,-1,0),n.lookAt(new ke(1,0,0)),this.add(n);var a=new da($u,1,t,e);a.up.set(0,-1,0),a.lookAt(new ke(-1,0,0)),this.add(a);var o=new da($u,1,t,e);o.up.set(0,0,1),o.lookAt(new ke(0,1,0)),this.add(o);var s=new da($u,1,t,e);s.up.set(0,0,-1),s.lookAt(new ke(0,-1,0)),this.add(s);var u=new da($u,1,t,e);u.up.set(0,-1,0),u.lookAt(new ke(0,0,1)),this.add(u);var l=new da($u,1,t,e);l.up.set(0,-1,0),l.lookAt(new ke(0,0,-1)),this.add(l),r=r||{format:Vt,magFilter:Tt,minFilter:Tt},this.renderTarget=new ui(i,i,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=t.getRenderTarget(),r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,n),t.setRenderTarget(r,1),t.render(e,a),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,s),t.setRenderTarget(r,4),t.render(e,u),r.texture.generateMipmaps=h,t.setRenderTarget(r,5),t.render(e,l),t.setRenderTarget(i)},this.clear=function(t,e,i,r){for(var n=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,i,r);t.setRenderTarget(n)}}function el(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function il(){Fi.call(this),this.type="AudioListener",this.context=Xu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function rl(t){Fi.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function nl(t){rl.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function al(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function ol(t,e,i){this.binding=t,this.valueSize=i;var r,n=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}tl.prototype=(0,p.default)(Fi.prototype),tl.prototype.constructor=tl,(0,f.default)(el.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),il.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:il,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new ke,e=new Ue,i=new ke,r=new ke,n=new el;return function(a){Fi.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=n.getDelta(),this.matrixWorld.decompose(t,e,i),r.set(0,0,-1).applyQuaternion(e),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,u),o.positionY.linearRampToValueAtTime(t.y,u),o.positionZ.linearRampToValueAtTime(t.z,u),o.forwardX.linearRampToValueAtTime(r.x,u),o.forwardY.linearRampToValueAtTime(r.y,u),o.forwardZ.linearRampToValueAtTime(r.z,u),o.upX.linearRampToValueAtTime(s.x,u),o.upY.linearRampToValueAtTime(s.y,u),o.upZ.linearRampToValueAtTime(s.z,u)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),rl.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:rl,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),nl.prototype=(0,f.default)((0,p.default)(rl.prototype),{constructor:nl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(){var t=new ke,e=new Ue,i=new ke,r=new ke;return function(n){if(Fi.prototype.updateMatrixWorld.call(this,n),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,i),r.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}}()}),(0,f.default)(al.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),(0,f.default)(ol.prototype,{accumulate:function(t,e){var i=this.buffer,r=this.valueSize,n=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)i[n+o]=i[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,r=t*e+e,n=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*e;this._mixBufferRegion(i,r,o,1-n,e)}for(var s=e,u=e+e;s!==u;++s)if(i[s]!==i[s+e]){a.setValue(i,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,r=3*i;t.getValue(e,r);for(var n=i,a=r;n!==a;++n)e[n]=e[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,r,n){if(r>=.5)for(var a=0;a!==n;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,r){Ue.slerpFlat(t,e,t,e,t,i,r)},_lerp:function(t,e,i,r,n){for(var a=1-r,o=0;o!==n;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*r}}});var sl,ul,ll,hl,cl,pl,dl,fl,ml,vl,gl,yl,xl,bl,wl,_l="\\[\\]\\.:\\/";function Ml(t,e,i){var r=i||Sl.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Sl(t,e,i){this.path=e,this.parsedPath=i||Sl.parseTrackName(e),this.node=Sl.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Al(){this.uuid=Re.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Tl(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var r=e.tracks,n=r.length,a=new Array(n),o={endingStart:_e,endingEnd:_e},s=0;s!==n;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ll(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Pl(t){"string"==typeof t&&(t=arguments[1]),this.value=t}function Cl(t,e,i){Ea.call(this,t,e),this.meshPerAttribute=i||1}function El(t,e,i,r){this.ray=new Sr(t,e),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},(0,d.default)(this.params,{PointCloud:{get:function(){return this.Points}}})}function Il(t,e){return t.distance-e.distance}function Dl(t,e,i,r){if(!1!==t.visible&&(t.raycast(e,i),!0===r))for(var n=t.children,a=0,o=n.length;a<o;a++)Dl(n[a],e,i,!0)}function Bl(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function Ol(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}function zl(t,e){this.min=void 0!==t?t:new Fe(1/0,1/0),this.max=void 0!==e?e:new Fe(-1/0,-1/0)}function Nl(t,e){this.start=void 0!==t?t:new ke,this.end=void 0!==e?e:new ke}function Rl(t){Fi.call(this),this.material=t,this.render=function(){}}function Fl(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new ir,l=new Qi(2*o*3,3);u.addAttribute("position",l),ka.call(this,u,new Fa({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ul(t,e){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new ir,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,a=1;n<32;n++,a++){var o=n/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new Qi(r,3));var u=new Fa({fog:!1});this.cone=new ka(i,u),this.add(this.cone),this.update()}function kl(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,kl(t.children[i]));return e}function Gl(t){for(var e=kl(t),i=new ir,r=[],n=[],a=new Mi(0,0,1),o=new Mi(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(a.r,a.g,a.b),n.push(o.r,o.g,o.b))}i.addAttribute("position",new Qi(r,3)),i.addAttribute("color",new Qi(n,3));var l=new Fa({vertexColors:T,depthTest:!1,depthWrite:!1,transparent:!0});ka.call(this,i,l),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Vl(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var r=new Xo(e,4,2),n=new Tr({wireframe:!0,fog:!1});Lr.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Wl(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var i=new ir;i.addAttribute("position",new Qi([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere();var r=new Fa({fog:!1});Ua.call(this,i,r);var n=new ir;n.addAttribute("position",new Qi([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Lr(n,new Tr({side:M,fog:!1}))),this.update()}function Hl(t,e,i){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new io(e);r.rotateY(.5*Math.PI),this.material=new Tr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=T);var n=r.getAttribute("position"),a=new Float32Array(3*n.count);r.addAttribute("color",new Wi(a,3)),this.add(new Lr(r,this.material)),this.update()}function jl(t,e){this.lightProbe=t,this.size=e;var i={GAMMA_OUTPUT:""},r=new Mr({defines:i,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),n=new Xo(1,32,16);Lr.call(this,n,r),this.onBeforeRender()}function Xl(t,e,i,r){t=t||10,e=e||10,i=new Mi(void 0!==i?i:4473924),r=new Mi(void 0!==r?r:8947848);for(var n=e/2,a=t/e,o=t/2,s=[],u=[],l=0,h=0,c=-o;l<=e;l++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);var p=l===n?i:r;p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3}var d=new ir;d.addAttribute("position",new Qi(s,3)),d.addAttribute("color",new Qi(u,3));var f=new Fa({vertexColors:T});ka.call(this,d,f)}function ql(t,e,i,r,n,a){t=t||10,e=e||16,i=i||8,r=r||64,n=new Mi(void 0!==n?n:4473924),a=new Mi(void 0!==a?a:8947848);var o,s,u,l,h,c,p,d=[],f=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),o=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(o,0,s),p=1&l?n:a,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(l=0;l<=i;l++)for(p=1&l?n:a,c=t-t/i*l,h=0;h<r;h++)u=h/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b),u=(h+1)/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b);var m=new ir;m.addAttribute("position",new Qi(d,3)),m.addAttribute("color",new Qi(f,3));var v=new Fa({vertexColors:T});ka.call(this,m,v)}function Yl(t,e,i,r){this.audio=t,this.range=e||1,this.divisionsInnerAngle=i||16,this.divisionsOuterAngle=r||2;var n=new ir,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));n.addAttribute("position",new Wi(o,3));var s=new Fa({color:65280}),u=new Fa({color:16776960});Ua.call(this,n,[u,s]),this.update()}function Jl(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry&&(o=s.faces.length);var u=new ir,l=new Qi(2*o*3,3);u.addAttribute("position",l),ka.call(this,u,new Fa({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Zl(t,e,i){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var r=new ir;r.addAttribute("position",new Qi([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new Fa({fog:!1});this.lightPlane=new Ua(r,n),this.add(this.lightPlane),(r=new ir).addAttribute("position",new Qi([0,0,0,0,0,1],3)),this.targetLine=new Ua(r,n),this.add(this.targetLine),this.update()}function Ql(t){var e=new ir,i=new Fa({color:16777215,vertexColors:1}),r=[],n=[],a={},o=new Mi(16755200),s=new Mi(16711680),u=new Mi(43775),l=new Mi(16777215),h=new Mi(3355443);function c(t,e,i){p(t,i),p(e,i)}function p(t,e){r.push(0,0,0),n.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",u),c("u2","u3",u),c("u3","u1",u),c("c","t",l),c("p","c",h),c("cn1","cn2",h),c("cn3","cn4",h),c("cf1","cf2",h),c("cf3","cf4",h),e.addAttribute("position",new Qi(r,3)),e.addAttribute("color",new Qi(n,3)),ka.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Kl(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new ir;n.setIndex(new Wi(i,1)),n.addAttribute("position",new Wi(r,3)),ka.call(this,n,new Fa({color:e})),this.matrixAutoUpdate=!1,this.update()}function $l(t,e){this.type="Box3Helper",this.box=t;var i=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new ir;n.setIndex(new Wi(r,1)),n.addAttribute("position",new Qi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),ka.call(this,n,new Fa({color:i})),this.geometry.computeBoundingSphere()}function th(t,e,i){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==i?i:16776960,n=new ir;n.addAttribute("position",new Qi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),Ua.call(this,n,new Fa({color:r}));var a=new ir;a.addAttribute("position",new Qi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Lr(a,new Tr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function eh(t,e,i,r,n,a){Fi.call(this),void 0===t&&(t=new ke(0,0,1)),void 0===e&&(e=new ke(0,0,0)),void 0===i&&(i=1),void 0===r&&(r=16776960),void 0===n&&(n=.2*i),void 0===a&&(a=.2*n),void 0===yl&&((yl=new ir).addAttribute("position",new Qi([0,0,0,0,1,0],3)),(xl=new is(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Ua(yl,new Fa({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Lr(xl,new Tr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,n,a)}function ih(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new ir;i.addAttribute("position",new Qi(e,3)),i.addAttribute("color",new Qi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Fa({vertexColors:T});ka.call(this,i,r)}function rh(t){$s.call(this,t),this.type="catmullrom",this.closed=!0}function nh(t){$s.call(this,t),this.type="catmullrom"}function ah(t){$s.call(this,t),this.type="catmullrom"}(0,f.default)(Ml.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),(0,f.default)(Sl,{Composite:Ml,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Sl.Composite(t,e,i):new Sl(t,e,i)},sanitizeNodeName:(ml=new RegExp("["+_l+"]","g"),function(t){return t.replace(/\s/g,"_").replace(ml,"")}),parseTrackName:(sl="[^"+_l+"]",ul="[^"+_l.replace("\\.","")+"]",ll=/((?:WC+[\/:])*)/.source.replace("WC",sl),hl=/(WCOD+)?/.source.replace("WCOD",ul),cl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sl),pl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sl),dl=new RegExp("^"+ll+hl+cl+pl+"$"),fl=["material","materials","bones"],function(t){var e=dl.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==fl.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var r=function t(i){for(var r=0;r<i.length;r++){var n=i[r];if(n.name===e||n.uuid===e)return n;var a=t(n.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),(0,f.default)(Sl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)t[e++]=i[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,r=e.propertyName,n=e.propertyIndex;if(t||(t=Sl.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return;t=t[i]}if(void 0!==a){if(void 0===t[a])return;t=t[a]}}var s=t[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!t.geometry)return;if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return;for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!t.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===n){n=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else e.nodeName}else this.path},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),(0,f.default)(Sl.prototype,{_getValue_unbound:Sl.prototype.getValue,_setValue_unbound:Sl.prototype.setValue}),(0,f.default)(Al.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=0,l=arguments.length;u!==l;++u){var h=arguments[u],c=h.uuid,p=r[c];if(void 0===p){p=e++,r[c]=p,t.push(h);for(var d=0,f=s;d!==f;++d)o[d].push(new Sl(h,n[d],a[d]))}else if(p<i){t[p];var m=--i,v=t[m];for(r[v.uuid]=p,t[p]=v,r[c]=m,t[m]=h,d=0,f=s;d!==f;++d){var g=o[d],y=g[m],x=g[p];g[p]=y,void 0===x&&(x=new Sl(h,n[d],a[d])),g[m]=x}}else t[p]}this.nCachedObjects_=i},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,n=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=i[u];if(void 0!==l&&l>=e){var h=e++,c=t[h];i[c.uuid]=l,t[l]=c,i[u]=h,t[h]=s;for(var p=0,d=n;p!==d;++p){var f=r[p],m=f[h],v=f[l];f[l]=m,f[h]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=r[u];if(void 0!==l)if(delete r[u],l<i){var h=--i,c=t[h],p=t[g=--e];r[c.uuid]=l,t[l]=c,r[p.uuid]=h,t[h]=p,t.pop();for(var d=0,f=a;d!==f;++d){var m=(y=n[d])[h],v=y[g];y[l]=m,y[h]=v,y.pop()}}else{var g;for(r[(p=t[g=--e]).uuid]=l,t[l]=p,t.pop(),d=0,f=a;d!==f;++d){var y;(y=n[d])[l]=y[g],y.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,r=i[t],n=this._bindings;if(void 0!==r)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,h=new Array(u);r=n.length,i[t]=r,a.push(t),o.push(e),n.push(h);for(var c=l,p=s.length;c!==p;++c){var d=s[c];h[c]=new Sl(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=i,a[i]=s,a.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}),(0,f.default)(Tl.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var r=this._clip.duration,n=t._clip.duration,a=n/r,o=r/n;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=n,s[1]=n+i,u[0]=t/o,u[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var a=(t-n)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,h=0,c=u.length;h!==c;++h)u[h].evaluate(o),l[h].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,r=this.loop,n=this._loopCount,a=2202===r;if(0===t)return-1===n?e:a&&1==(1&n)?i-e:e;if(2200===r){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(t>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1==(1&n))return i-e}return e},_setEndings:function(t,e,i){var r=this._interpolantSettings;i?(r.endingStart=Me,r.endingEnd=Me):(r.endingStart=t?this.zeroSlopeAtStart?Me:_e:Se,r.endingEnd=e?this.zeroSlopeAtEnd?Me:_e:Se)},_scheduleFading:function(t,e,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=e,o[1]=n+t,s[1]=i,this}}),Ll.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Ll,_bindAction:function(t,e){var i=t._localRoot||this._root,r=t._clip.tracks,n=r.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var h=0;h!==n;++h){var c=r[h],p=c.name,d=l[p];if(void 0!==d)a[h]=d;else{if(void 0!==(d=a[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;++(d=new ol(Sl.create(i,p,f),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),a[h]=d}o[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}for(var n=t._propertyBindings,a=0,o=n.length;a!==o;++a){var s=n[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var r=this._actions,n=this._actionsByClip,a=n[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;var n=t._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[n],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_addInactiveBinding:function(t,e,i){var r=this._bindingsByRootAndName,n=r[e],a=this._bindings;void 0===n&&(n={},r[e]=n),n[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete o[n];t:{for(var l in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new _s(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,n=e[r];t.__cacheIndex=r,e[r]=t,n.__cacheIndex=i,e[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?Ds.findByName(i,t):t,a=null!==n?n.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var l=new Tl(this,n,e);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?Ds.findByName(i,t):t,a=n?n.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==e;++n)t[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,r=this.time+=t,n=(0,m.default)(t),a=this._accuIndex^=1,o=0;o!==i;++o)e[o]._update(r,t,n,a);var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var a=n.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,h=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=l,e[l]=h,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Pl.prototype.clone=function(){return new Pl(void 0===this.value.clone?this.value:this.value.clone())},Cl.prototype=(0,f.default)((0,p.default)(Ea.prototype),{constructor:Cl,isInstancedInterleavedBuffer:!0,copy:function(t){return Ea.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),(0,f.default)(El.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld))},intersectObject:function(t,e,i){var r=i||[];return Dl(t,this,r,e),r.sort(Il),r},intersectObjects:function(t,e,i){var r=i||[];if(!1===Array.isArray(t))return r;for(var n=0,a=t.length;n<a;n++)Dl(t[n],this,r,e);return r.sort(Il),r}}),(0,f.default)(Bl.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Re.clamp(e/this.radius,-1,1))),this}}),(0,f.default)(Ol.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}}),(0,f.default)(zl.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Fe;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(t=new Fe),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new Fe),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(e=new Fe),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(e=new Fe),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Fe;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(Nl.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(t=new ke),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(t=new ke),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(e=new ke),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(vl=new ke,gl=new ke,function(t,e){vl.subVectors(t,this.start),gl.subVectors(this.end,this.start);var i=gl.dot(gl),r=gl.dot(vl)/i;return e&&(r=Re.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e);return void 0===i&&(i=new ke),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Rl.prototype=(0,p.default)(Fi.prototype),Rl.prototype.constructor=Rl,Rl.prototype.isImmediateRenderObject=!0,Fl.prototype=(0,p.default)(ka.prototype),Fl.prototype.constructor=Fl,Fl.prototype.update=function(){var t=new ke,e=new ke,i=new Ge;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,u=o.faces,l=0,h=0,c=u.length;h<c;h++)for(var p=u[h],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[r[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(n),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(l=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(n),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}a.needsUpdate=!0}}(),Ul.prototype=(0,p.default)(Fi.prototype),Ul.prototype.constructor=Ul,Ul.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ul.prototype.update=function(){var t=new ke;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Gl.prototype=(0,p.default)(ka.prototype),Gl.prototype.constructor=Gl,Gl.prototype.updateMatrixWorld=function(){var t=new ke,e=new fi,i=new fi;return function(r){var n=this.bones,a=this.geometry,o=a.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<n.length;s++){var l=n[s];l.parent&&l.parent.isBone&&(e.multiplyMatrices(i,l.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u,t.x,t.y,t.z),e.multiplyMatrices(i,l.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u+1,t.x,t.y,t.z),u+=2)}a.getAttribute("position").needsUpdate=!0,Fi.prototype.updateMatrixWorld.call(this,r)}}(),Vl.prototype=(0,p.default)(Lr.prototype),Vl.prototype.constructor=Vl,Vl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Vl.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Wl.prototype=(0,p.default)(Ua.prototype),Wl.prototype.constructor=Wl,Wl.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},Wl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hl.prototype=(0,p.default)(Fi.prototype),Hl.prototype.constructor=Hl,Hl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hl.prototype.update=function(){var t=new ke,e=new Mi,i=new Mi;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var n=r.geometry.getAttribute("color");e.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=n.count;a<o;a++){var s=a<o/2?e:i;n.setXYZ(a,s.r,s.g,s.b)}n.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),jl.prototype=(0,p.default)(Lr.prototype),jl.prototype.constructor=jl,jl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},jl.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Xl.prototype=(0,f.default)((0,p.default)(ka.prototype),{constructor:Xl,copy:function(t){return ka.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),ql.prototype=(0,p.default)(ka.prototype),ql.prototype.constructor=ql,Yl.prototype=(0,p.default)(Ua.prototype),Yl.prototype.constructor=Yl,Yl.prototype.update=function(){var t,e,i=this.audio,r=this.range,n=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=Re.degToRad(i.panner.coneInnerAngle),s=Re.degToRad(i.panner.coneOuterAngle),u=o/2,l=s/2,h=0,c=0,p=this.geometry,d=p.attributes.position;function f(i,n,a,o){var s=(n-i)/a;for(d.setXYZ(h,0,0,0),c++,t=i;t<n;t+=s)e=h+c,d.setXYZ(e,Math.sin(t)*r,0,Math.cos(t)*r),d.setXYZ(e+1,Math.sin(Math.min(t+s,n))*r,0,Math.cos(Math.min(t+s,n))*r),d.setXYZ(e+2,0,0,0),c+=3;p.addGroup(h,c,o),h+=c,c=0}p.clearGroups(),f(-l,-u,a,0),f(-u,u,n,1),f(u,l,a,0),d.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},Yl.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},Jl.prototype=(0,p.default)(ka.prototype),Jl.prototype.constructor=Jl,Jl.prototype.update=function(){var t=new ke,e=new ke,i=new Ge;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,l=0,h=s.length;l<h;l++){var c=s[l],p=c.normal;t.copy(o[c.a]).add(o[c.b]).add(o[c.c]).divideScalar(3).applyMatrix4(r),e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),n.setXYZ(u,t.x,t.y,t.z),u+=1,n.setXYZ(u,e.x,e.y,e.z),u+=1}n.needsUpdate=!0}}(),Zl.prototype=(0,p.default)(Fi.prototype),Zl.prototype.constructor=Zl,Zl.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Zl.prototype.update=function(){var t=new ke,e=new ke,i=new ke;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=i.length()}}(),Ql.prototype=(0,p.default)(ka.prototype),Ql.prototype.constructor=Ql,Ql.prototype.update=function(){var t,e,i=new ke,r=new pa;function n(n,a,o,s){i.set(a,o,s).unproject(r);var u=e[n];if(void 0!==u)for(var l=t.getAttribute("position"),h=0,c=u.length;h<c;h++)l.setXYZ(u[h],i.x,i.y,i.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Kl.prototype=(0,p.default)(ka.prototype),Kl.prototype.constructor=Kl,Kl.prototype.update=function(){var t=new hi;return function(e){if(void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var i=t.min,r=t.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=i.x,a[4]=r.y,a[5]=r.z,a[6]=i.x,a[7]=i.y,a[8]=r.z,a[9]=r.x,a[10]=i.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=i.z,a[15]=i.x,a[16]=r.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=r.x,a[22]=i.y,a[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Kl.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Kl.prototype.copy=function(t){return ka.prototype.copy.call(this,t),this.object=t.object,this},Kl.prototype.clone=function(){return(new this.constructor).copy(this)},$l.prototype=(0,p.default)(ka.prototype),$l.prototype.constructor=$l,$l.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Fi.prototype.updateMatrixWorld.call(this,t))},th.prototype=(0,p.default)(Ua.prototype),th.prototype.constructor=th,th.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?M:_,this.lookAt(this.plane.normal),Fi.prototype.updateMatrixWorld.call(this,t)},eh.prototype=(0,p.default)(Fi.prototype),eh.prototype.constructor=eh,eh.prototype.setDirection=(wl=new ke,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(wl.set(t.z,0,-t.x).normalize(),bl=Math.acos(t.y),this.quaternion.setFromAxisAngle(wl,bl))}),eh.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},eh.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},eh.prototype.copy=function(t){return Fi.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},eh.prototype.clone=function(){return(new this.constructor).copy(this)},ih.prototype=(0,p.default)(ka.prototype),ih.prototype.constructor=ih,js.create=function(t,e){return t.prototype=(0,p.default)(js.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},(0,f.default)(cu.prototype,{createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Vi,i=0,r=t.length;i<r;i++){var n=t[i];e.vertices.push(new ke(n.x,n.y,n.z||0))}return e}}),(0,f.default)(pu.prototype,{fromPoints:function(t){this.setFromPoints(t)}}),rh.prototype=(0,p.default)($s.prototype),nh.prototype=(0,p.default)($s.prototype),ah.prototype=(0,p.default)($s.prototype),(0,f.default)(ah.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),Xl.prototype.setColors=function(){},Gl.prototype.update=function(){},(0,f.default)(ju.prototype,{extractUrlBase:function(t){return Tu.extractUrlBase(t)}}),(0,f.default)(Iu.prototype,{setTexturePath:function(t){return this.setResourcePath(t)}}),(0,f.default)(zl.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},size:function(t){return this.getSize(t)}}),(0,f.default)(hi.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)},size:function(t){return this.getSize(t)}}),Nl.prototype.center=function(t){return this.getCenter(t)},(0,f.default)(Re,{random16:function(){return Math.random()},nearestPowerOfTwo:function(t){return Re.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return Re.ceilPowerOfTwo(t)}}),(0,f.default)(Ge.prototype,{flattenToArrayOffset:function(t,e){return this.toArray(t,e)},multiplyVector3:function(t){return t.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){}}),(0,f.default)(fi.prototype,{extractPosition:function(t){return this.copyPosition(t)},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new ke),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return this.makeRotationFromQuaternion(t)},multiplyToArray:function(){},multiplyVector3:function(t){return t.applyMatrix4(this)},multiplyVector4:function(t){return t.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(t){t.transformDirection(this)},crossVector:function(t){return t.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){},makeFrustum:function(t,e,i,r,n,a){return this.makePerspective(t,e,r,i,n,a)}}),pi.prototype.isIntersectionLine=function(t){return this.intersectsLine(t)},Ue.prototype.multiplyVector3=function(t){return t.applyQuaternion(this)},(0,f.default)(Sr.prototype,{isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionPlane:function(t){return this.intersectsPlane(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),(0,f.default)(Ar.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(t,e){return this.getBarycoord(t,e)},midpoint:function(t){return this.getMidpoint(t)},normal:function(t){return this.getNormal(t)},plane:function(t){return this.getPlane(t)}}),(0,f.default)(Ar,{barycoordFromPoint:function(t,e,i,r,n){return Ar.getBarycoord(t,e,i,r,n)},normal:function(t,e,i,r){return Ar.getNormal(t,e,i,r)}}),(0,f.default)(du.prototype,{extractAllPoints:function(t){return this.extractPoints(t)},extrude:function(t){return new Uo(this,t)},makeGeometry:function(t){return new Qo(this,t)}}),(0,f.default)(Fe.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ke.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(t){return this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return this.setFromMatrixColumn(e,t)},applyProjection:function(t){return this.applyMatrix4(t)},fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ai.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(Vi.prototype,{computeTangents:function(){},computeLineDistances:function(){}}),(0,f.default)(Fi.prototype,{getChildByName:function(t){return this.getObjectByName(t)},renderDepth:function(){},translate:function(t,e){return this.translateOnAxis(e,t)},getWorldRotation:function(){}}),(0,d.default)(Fi.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(t){this.rotation.order=t}},useQuaternion:{get:function(){},set:function(){}}}),(0,d.default)(Oa.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(Na.prototype,"useVertexTexture",{get:function(){},set:function(){}}),za.prototype.initBones=function(){},Object.defineProperty(js.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(t){this.arcLengthDivisions=t}}),da.prototype.setLens=function(t,e){void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},(0,d.default)(fu.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),(0,d.default)(Wi.prototype,{length:{get:function(){return this.array.length}},copyIndicesArray:function(){}}),(0,f.default)(ir.prototype,{addIndex:function(t){this.setIndex(t)},addDrawCall:function(t,e,i){this.addGroup(t,e)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),(0,d.default)(ir.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),(0,f.default)(ko.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),(0,d.default)(Pl.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),(0,d.default)(ur.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new Mi}},shading:{get:function(){this.type},set:function(t){this.type,this.flatShading=1===t}}}),(0,d.default)(ps.prototype,{metal:{get:function(){return!1},set:function(){}}}),(0,d.default)(Mr.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(t){this.extensions.derivatives=t}}}),(0,f.default)(Ta.prototype,{clearTarget:function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},animate:function(t){this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){this.setScissorTest(t)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){},allocTextureUnit:function(){},setTexture:function(){},setTexture2D:function(){},setTextureCube:function(){}}),(0,d.default)(Ta.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){this.shadowMap.type=t}},shadowMapCullFace:{get:function(){},set:function(){}}}),(0,d.default)(sa.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),(0,d.default)(ui.prototype,{activeCubeFace:{set:function(){}},activeMipMapLevel:{set:function(){}}}),(0,d.default)(oi.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(t){this.texture.wrapS=t}},wrapT:{get:function(){return this.texture.wrapT},set:function(t){this.texture.wrapT=t}},magFilter:{get:function(){return this.texture.magFilter},set:function(t){this.texture.magFilter=t}},minFilter:{get:function(){return this.texture.minFilter},set:function(t){this.texture.minFilter=t}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(t){this.texture.anisotropy=t}},offset:{get:function(){return this.texture.offset},set:function(t){this.texture.offset=t}},repeat:{get:function(){return this.texture.repeat},set:function(t){this.texture.repeat=t}},format:{get:function(){return this.texture.format},set:function(t){this.texture.format=t}},type:{get:function(){return this.texture.type},set:function(t){this.texture.type=t}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(t){this.texture.generateMipmaps=t}}}),(0,d.default)(Sa.prototype,{standing:{set:function(){}},userHeight:{set:function(){}}}),rl.prototype.load=function(t){var e=this;return(new qu).load(t,(function(t){e.setBuffer(t)})),this},al.prototype.getData=function(){return this.getFrequencyData()},tl.prototype.updateCubeMap=function(t,e){return this.update(t,e)};var oh={merge:function(t,e,i){var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,i)},center:function(t){return t.center()}};ii.crossOrigin=void 0,ii.loadTexture=function(t,e,i,r){var n=new Hs;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},ii.loadTextureCube=function(t,e,i,r){var n=new Ws;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},ii.loadCompressedTexture=function(){},ii.loadCompressedTextureCube=function(){};var sh={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}};t.ACESFilmicToneMapping=ct,t.AddEquation=B,t.AddOperation=at,t.AdditiveBlending=C,t.AlphaFormat=Gt,t.AlwaysDepth=Z,t.AmbientLight=Mu,t.AmbientLightProbe=Qu,t.AnimationClip=Ds,t.AnimationLoader=Us,t.AnimationMixer=Ll,t.AnimationObjectGroup=Al,t.AnimationUtils=xs,t.ArcCurve=qs,t.ArrayCamera=fa,t.ArrowHelper=eh,t.Audio=rl,t.AudioAnalyser=al,t.AudioContext=Xu,t.AudioListener=il,t.AudioLoader=qu,t.AxesHelper=ih,t.AxisHelper=function(t){return new ih(t)},t.BackSide=M,t.BasicDepthPacking=Be,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return new Gs(t)},t.Bone=Ra,t.BooleanKeyframeTrack=As,t.BoundingBoxHelper=function(t,e){return new Kl(t,e)},t.Box2=zl,t.Box3=hi,t.Box3Helper=$l,t.BoxBufferGeometry=nr,t.BoxGeometry=rr,t.BoxHelper=Kl,t.BufferAttribute=Wi,t.BufferGeometry=ir,t.BufferGeometryLoader=Cu,t.ByteType=Et,t.Cache=Os,t.Camera=pa,t.CameraHelper=Ql,t.CanvasRenderer=function(){},t.CanvasTexture=Xa,t.CatmullRomCurve3=$s,t.CineonToneMapping=ht,t.CircleBufferGeometry=os,t.CircleGeometry=as,t.ClampToEdgeWrapping=wt,t.Clock=el,t.ClosedSplineCurve3=rh,t.Color=Mi,t.ColorKeyframeTrack=Ts,t.CompressedTexture=ja,t.CompressedTextureLoader=ks,t.ConeBufferGeometry=ns,t.ConeGeometry=rs,t.CubeCamera=tl,t.CubeGeometry=rr,t.CubeReflectionMapping=dt,t.CubeRefractionMapping=ft,t.CubeTexture=Ur,t.CubeTextureLoader=Ws,t.CubeUVReflectionMapping=yt,t.CubeUVRefractionMapping=xt,t.CubicBezierCurve=ru,t.CubicBezierCurve3=nu,t.CubicInterpolant=ws,t.CullFaceBack=o,t.CullFaceFront=x,t.CullFaceFrontBack=3,t.CullFaceNone=a,t.Curve=js,t.CurvePath=cu,t.CustomBlending=D,t.CylinderBufferGeometry=is,t.CylinderGeometry=es,t.Cylindrical=Ol,t.DataTexture=li,t.DataTexture2DArray=kr,t.DataTexture3D=Gr,t.DataTextureLoader=Gs,t.DefaultLoadingManager=Ns,t.DepthFormat=qt,t.DepthStencilFormat=Yt,t.DepthTexture=qa,t.DirectionalLight=_u,t.DirectionalLightHelper=Zl,t.DirectionalLightShadow=wu,t.DiscreteInterpolant=Ms,t.DodecahedronBufferGeometry=oo,t.DodecahedronGeometry=ao,t.DoubleSide=S,t.DstAlphaFactor=H,t.DstColorFactor=X,t.DynamicBufferAttribute=function(t,e){return new Wi(t,e).setDynamic(!0)},t.EdgesGeometry=ts,t.EdgesHelper=function(t,e){return new ka(new ts(t.geometry),new Fa({color:void 0!==e?e:16777215}))},t.EllipseCurve=Xs,t.EqualDepth=$,t.EquirectangularReflectionMapping=mt,t.EquirectangularRefractionMapping=vt,t.Euler=Ei,t.EventDispatcher=e,t.ExtrudeBufferGeometry=ko,t.ExtrudeGeometry=Uo,t.Face3=Ci,t.Face4=function(t,e,i,r,n,a,o){return new Ci(t,e,i,n,a,o)},t.FaceColors=1,t.FaceNormalsHelper=Jl,t.FileLoader=Fs,t.FlatShading=1,t.Float32Attribute=function(t,e){return new Qi(t,e)},t.Float32BufferAttribute=Qi,t.Float64Attribute=function(t,e){return new Ki(t,e)},t.Float64BufferAttribute=Ki,t.FloatType=zt,t.Fog=Pa,t.FogExp2=La,t.Font=Vu,t.FontLoader=Hu,t.FrontFaceDirectionCCW=1,t.FrontFaceDirectionCW=0,t.FrontSide=_,t.Frustum=di,t.GammaEncoding=Pe,t.Geometry=Vi,t.GeometryUtils=oh,t.GreaterDepth=et,t.GreaterEqualDepth=tt,t.GridHelper=Xl,t.Group=ca,t.HalfFloatType=Nt,t.HemisphereLight=mu,t.HemisphereLightHelper=Hl,t.HemisphereLightProbe=Zu,t.IcosahedronBufferGeometry=no,t.IcosahedronGeometry=ro,t.ImageBitmapLoader=ku,t.ImageLoader=Vs,t.ImageUtils=ii,t.ImmediateRenderObject=Rl,t.InstancedBufferAttribute=Pu,t.InstancedBufferGeometry=Lu,t.InstancedInterleavedBuffer=Cl,t.Int16Attribute=function(t,e){return new qi(t,e)},t.Int16BufferAttribute=qi,t.Int32Attribute=function(t,e){return new Ji(t,e)},t.Int32BufferAttribute=Ji,t.Int8Attribute=function(t,e){return new Hi(t,e)},t.Int8BufferAttribute=Hi,t.IntType=Bt,t.InterleavedBuffer=Ea,t.InterleavedBufferAttribute=Ia,t.Interpolant=bs,t.InterpolateDiscrete=xe,t.InterpolateLinear=be,t.InterpolateSmooth=we,t.JSONLoader=function(){},t.KeyframeTrack=Ss,t.LOD=Oa,t.LatheBufferGeometry=Zo,t.LatheGeometry=Jo,t.Layers=Ii,t.LensFlare=function(){},t.LessDepth=Q,t.LessEqualDepth=K,t.Light=fu,t.LightProbe=Ju,t.LightProbeHelper=jl,t.LightShadow=vu,t.Line=Ua,t.Line3=Nl,t.LineBasicMaterial=Fa,t.LineCurve=au,t.LineCurve3=ou,t.LineDashedMaterial=gs,t.LineLoop=Ga,t.LinePieces=1,t.LineSegments=ka,t.LineStrip=0,t.LinearEncoding=Te,t.LinearFilter=Tt,t.LinearInterpolant=_s,t.LinearMipMapLinearFilter=Pt,t.LinearMipMapNearestFilter=Lt,t.LinearToneMapping=st,t.Loader=ju,t.LoaderUtils=Tu,t.LoadingManager=zs,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=jt,t.LuminanceFormat=Ht,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.Material=ur,t.MaterialLoader=Au,t.Math=Re,t.Matrix3=Ge,t.Matrix4=fi,t.MaxEquation=R,t.Mesh=Lr,t.MeshBasicMaterial=Tr,t.MeshDepthMaterial=aa,t.MeshDistanceMaterial=oa,t.MeshFaceMaterial=function(t){return t},t.MeshLambertMaterial=ms,t.MeshMatcapMaterial=vs,t.MeshNormalMaterial=fs,t.MeshPhongMaterial=ps,t.MeshPhysicalMaterial=cs,t.MeshStandardMaterial=hs,t.MeshToonMaterial=ds,t.MinEquation=N,t.MirroredRepeatWrapping=_t,t.MixOperation=nt,t.MultiMaterial=function(t){return void 0===t&&(t=[]),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=I,t.MultiplyOperation=rt,t.NearestFilter=Mt,t.NearestMipMapLinearFilter=At,t.NearestMipMapNearestFilter=St,t.NeverDepth=J,t.NoBlending=L,t.NoColors=A,t.NoToneMapping=ot,t.NormalBlending=P,t.NotEqualDepth=it,t.NumberKeyframeTrack=Ls,t.Object3D=Fi,t.ObjectLoader=Iu,t.ObjectSpaceNormalMap=Ne,t.OctahedronBufferGeometry=io,t.OctahedronGeometry=eo,t.OneFactor=U,t.OneMinusDstAlphaFactor=j,t.OneMinusDstColorFactor=q,t.OneMinusSrcAlphaFactor=W,t.OneMinusSrcColorFactor=G,t.OrthographicCamera=bu,t.PCFShadowMap=b,t.PCFSoftShadowMap=w,t.ParametricBufferGeometry=Za,t.ParametricGeometry=Ja,t.Particle=function(t){return new Ba(t)},t.ParticleBasicMaterial=function(t){return new Va(t)},t.ParticleSystem=function(t,e){return new Wa(t,e)},t.ParticleSystemMaterial=function(t){return new Va(t)},t.Path=pu,t.PerspectiveCamera=da,t.Plane=pi,t.PlaneBufferGeometry=or,t.PlaneGeometry=ar,t.PlaneHelper=th,t.PointCloud=function(t,e){return new Wa(t,e)},t.PointCloudMaterial=function(t){return new Va(t)},t.PointLight=xu,t.PointLightHelper=Vl,t.Points=Wa,t.PointsMaterial=Va,t.PolarGridHelper=ql,t.PolyhedronBufferGeometry=Ka,t.PolyhedronGeometry=Qa,t.PositionalAudio=nl,t.PositionalAudioHelper=Yl,t.PropertyBinding=Sl,t.PropertyMixer=ol,t.QuadraticBezierCurve=su,t.QuadraticBezierCurve3=uu,t.Quaternion=Ue,t.QuaternionKeyframeTrack=Cs,t.QuaternionLinearInterpolant=Ps,t.REVISION="105",t.RGBADepthPacking=Oe,t.RGBAFormat=Wt,t.RGBA_ASTC_10x10_Format=ve,t.RGBA_ASTC_10x5_Format=de,t.RGBA_ASTC_10x6_Format=fe,t.RGBA_ASTC_10x8_Format=me,t.RGBA_ASTC_12x10_Format=ge,t.RGBA_ASTC_12x12_Format=ye,t.RGBA_ASTC_4x4_Format=ae,t.RGBA_ASTC_5x4_Format=oe,t.RGBA_ASTC_5x5_Format=se,t.RGBA_ASTC_6x5_Format=ue,t.RGBA_ASTC_6x6_Format=le,t.RGBA_ASTC_8x5_Format=he,t.RGBA_ASTC_8x6_Format=ce,t.RGBA_ASTC_8x8_Format=pe,t.RGBA_PVRTC_2BPPV1_Format=re,t.RGBA_PVRTC_4BPPV1_Format=ie,t.RGBA_S3TC_DXT1_Format=Qt,t.RGBA_S3TC_DXT3_Format=Kt,t.RGBA_S3TC_DXT5_Format=$t,t.RGBDEncoding=De,t.RGBEEncoding=Ce,t.RGBEFormat=Xt,t.RGBFormat=Vt,t.RGBM16Encoding=Ie,t.RGBM7Encoding=Ee,t.RGB_ETC1_Format=ne,t.RGB_PVRTC_2BPPV1_Format=ee,t.RGB_PVRTC_4BPPV1_Format=te,t.RGB_S3TC_DXT1_Format=Zt,t.RawShaderMaterial=ls,t.Ray=Sr,t.Raycaster=El,t.RectAreaLight=Su,t.RectAreaLightHelper=Wl,t.RedFormat=Jt,t.ReinhardToneMapping=ut,t.RepeatWrapping=bt,t.ReverseSubtractEquation=z,t.RingBufferGeometry=Yo,t.RingGeometry=qo,t.Scene=Ca,t.SceneUtils=sh,t.ShaderChunk=mi,t.ShaderLib=Ti,t.ShaderMaterial=Mr,t.ShadowMaterial=us,t.Shape=du,t.ShapeBufferGeometry=Ko,t.ShapeGeometry=Qo,t.ShapePath=Gu,t.ShapeUtils=No,t.ShortType=It,t.Skeleton=Na,t.SkeletonHelper=Gl,t.SkinnedMesh=za,t.SmoothShading=2,t.Sphere=ci,t.SphereBufferGeometry=Xo,t.SphereGeometry=jo,t.Spherical=Bl,t.SphericalHarmonics3=Yu,t.SphericalReflectionMapping=gt,t.Spline=ah,t.SplineCurve=lu,t.SplineCurve3=nh,t.SpotLight=yu,t.SpotLightHelper=Ul,t.SpotLightShadow=gu,t.Sprite=Ba,t.SpriteMaterial=Da,t.SrcAlphaFactor=V,t.SrcAlphaSaturateFactor=Y,t.SrcColorFactor=k,t.StereoCamera=Ku,t.StringKeyframeTrack=Es,t.SubtractEquation=O,t.SubtractiveBlending=E,t.TangentSpaceNormalMap=ze,t.TetrahedronBufferGeometry=to,t.TetrahedronGeometry=$a,t.TextBufferGeometry=Ho,t.TextGeometry=Wo,t.Texture=ni,t.TextureLoader=Hs,t.TorusBufferGeometry=po,t.TorusGeometry=co,t.TorusKnotBufferGeometry=ho,t.TorusKnotGeometry=lo,t.Triangle=Ar,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=Ae,t.TubeBufferGeometry=uo,t.TubeGeometry=so,t.UVMapping=pt,t.Uint16Attribute=function(t,e){return new Yi(t,e)},t.Uint16BufferAttribute=Yi,t.Uint32Attribute=function(t,e){return new Zi(t,e)},t.Uint32BufferAttribute=Zi,t.Uint8Attribute=function(t,e){return new ji(t,e)},t.Uint8BufferAttribute=ji,t.Uint8ClampedAttribute=function(t,e){return new Xi(t,e)},t.Uint8ClampedBufferAttribute=Xi,t.Uncharted2ToneMapping=lt,t.Uniform=Pl,t.UniformsLib=Ai,t.UniformsUtils=wi,t.UnsignedByteType=Ct,t.UnsignedInt248Type=kt,t.UnsignedIntType=Ot,t.UnsignedShort4444Type=Rt,t.UnsignedShort5551Type=Ft,t.UnsignedShort565Type=Ut,t.UnsignedShortType=Dt,t.Vector2=Fe,t.Vector3=ke,t.Vector4=ai,t.VectorKeyframeTrack=Is,t.Vertex=function(t,e,i){return new ke(t,e,i)},t.VertexColors=T,t.VertexNormalsHelper=Fl,t.VideoTexture=Ha,t.WebGLMultisampleRenderTarget=si,t.WebGLRenderTarget=oi,t.WebGLRenderTargetCube=ui,t.WebGLRenderer=Ta,t.WebGLUtils=ha,t.WireframeGeometry=Ya,t.WireframeHelper=function(t,e){return new ka(new Ya(t.geometry),new Fa({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=Se,t.XHRLoader=function(t){return new Fs(t)},t.ZeroCurvatureEnding=_e,t.ZeroFactor=F,t.ZeroSlopeEnding=Me,t.sRGBEncoding=Le,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(0,y.default)(e)&&void 0!==t?o(e):(n=[e],void 0===(a="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=a))}}]);
!function(e){function r(r){for(var n,l,i=r[0],f=r[1],a=r[2],c=0,s=[];c<i.length;c++)l=i[c],o[l]&&s.push(o[l][0]),o[l]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++){var f=t[i];0!==o[f]&&(n=!1)}n&&(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={3:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/dist/";var i=window.ESJsonpModules=window.ESJsonpModules||[],f=i.push.bind(i);i.push=r,i=i.slice();for(var a=0;a<i.length;a++)r(i[a]);var p=f;u.push([166,1,0]),t()}([]);
var _0x5868=["updateNavData","æºæ°æ®ä¸å­å¨: ","startData","endData","navidata","reRoute","locationMarkerOptions","image/pointer.png","locationMarkerSize","locationMarkerSeeThough","ESLocationMarker","steps","splitLLStrToPoints","polyline","transLLPointsToWorldPosPoints","posList","computeDistance","requestAMapData","param","errcode","bicycling","route","checkStatus","getMapTypeData","https://restapi.amap.com/v3/direction/driving","getNaviResult","getNavNodeById","getPointById","routeBetweenBuildings","getNaviResultBetbuildings","preferCrosses","roomNodeMap","baseSceneId","nodeLinkMap","preprocessMain","isBuildingAccessable","tileRouteDataLoaded","preprocessTileNav","preprocess","computeCityLinePoints","allPointMap","checkLinks","linkPoints","linkPointsId","env","development","preprocess start","multiLinesUsed","entry warning "," fnum:"," pid:","éå¤çç¹","éå¤ççº¿","man mode schemes error","pointids","lineids","fnumPoints","crosses","manModeScheme","preprocessComplete","getSource","å¯¼èªæ°æ®ä¸å­å¨","getNearestNode","è¯·éæ°éç¹","queryRoutes","noEntryPoint","getShortestPath","manhattenCost","walkPath","walkLines","costDistance","entries","èµ·ç¹ä¸ç»ç¹ä¸è½ç¸å","_compare","updateNewShortestPathList","JudgeCostDistance","deepClone","mapcoord","getAllGates","_getNearestGate","getFloorNum","getPointList","_modelObj","ESWallåå§åå¤±è´¥:pointsä¸è½æªç©º","walls","asyncGetWallModel","_oriModelObj","updateByPoints","useCrst","heightset","repeatset","computeCenters","æ°æ®éè¯¯ï¼è¯·æ£æ¥æ¯å¦æéå¤ç¹ id:"," ,æ¨¡å:","åå¹¶å¤±è´¥ï¼åæ¶åå¹¶","isMergedWall","angle must be a object or number!","es3dmarker","ESModel3D","box","18px","rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) -1px 0px 6px, rgb(0, 0, 0) 0px 0px 2px, rgb(0, 0, 0) 0px 1px 4px","textBox","5px","-1px","3px","7px","6px","barBoxer","barBox","&nbsp;ç±³","&nbsp;å¬é","hideOnCreated","defaultShadow_","screenCoord","bindMarker","mapCoord_","transformOrigin_","center bottom","translateStyle_","translateStyle","-50%, -100%","has","new esmap.ESPopMarker: idéå¤: ","onVisibleCallBack","screenCoord_","IsScreenCoord","defaultPadding_","content_","borderStyle_","borderStyle","borderColor","maxScale","updateSize_","_tryInit","<div style='height:","contentHeight_","px;'>","</div>","borderWidth"," transparent transparent","-39px","24px","onclick","bindCloseClick_","_inFloor","cssObject","inLevel","setVisible","computedScale","bindchange","insertAdjacentHTML","beforeend",") translate(","px) scale(","cssOnUpdate","getMapCoord_Z","closed","loadedFloorNums","thicks","animatingId_","animating_","originFloorHeights","entered","floorSpanOffset","listFloors","æªæ¾å°æ¥¼å±: ","floors_","floorBaseDatas","esmap.ESInfo.GETFLOORBOUNDS_ERR","asyncLoadRoads","MAP_ROAD","isSelect","isHide","hideGroup","hided","floorHeightChangeComplete","getO3dFloor","enteredStyle","focusAnimateMode","enter","buildingExit","putFloor","focusFloor_","isInit","focusAnimateTime","notMove","Circular","loadFloorBase","floorTempData","asyncBuidExtents","loadFloor","queryFloor","modelsCount","forEachFloor","theme_","updateFactor","asyncBuildLabels","floorBaseLayers","floorBases","handleFloors","asyncBuildPOIs","poilayers","POI","computePosition","loadLayerComplete","checkLoadedAll","labellayers","labels","ESLabel","callbackByFloor","floorLoaded","mapModelsLoadedAll","floorNames","updateScrollFloorsControl","blured","naviData","buildingMergeModel3D","handleBims","addBimModel","bimModelsCount","addToQueue","marker3d","find","isMaterial","modelPrefetchFailed","sources","allDataMap","queuesOther","bimNewQues","pages","tanks","bimSetData","mergeMode","controlstate","handleTanks","onesize","onQueueMerged","onQueueUnMerged","checkComplete","onGetBimInfo","IDBAddItem","loadedCount","queues","bimå è½½å®æï¼èæ¶","getBimSetFromIDB","bimSets","ESBIM","collections","ESBIM IDBåå§åå¤±è´¥","fetchBimSet","bimset not exist!","dispatchBimPageByControlIndex","clearCache","filetime","IDBUpdateItem","bimDatas","replaceExtraSlashes","-bim",".bin","cates","getDesFromNlist","bimid","bindBimInfo","bimInfoä¸å­å¨:","æ¨¡åæ°æ®ä¸ºç©º","getModelMaterial","IDBUpgrade","myIndex","page","printDataSize","error in ","Why didn't you allow my web app to use IndexedDB?!","--------- "," -------------"," - ","\t: ","TOTAL: ","printIndexDBSizes","timeEnd","lineLayer","modelImageGeos","dynamicShows","dynamicShowsModel","excludes","scaleRateChanged","EXTENT_EPSILON_Y","extent","pointGeometrys","errorIds","tubes","mergeExcludes","modelimagelayer","modelImageMeshs","bimModelDatas","bimModelData","modelTexturesData","model3DData","modelImageGroups","loadModelTextures","MODELTEXTURE_ERR","computedTopFace","doubleTexture","convertBimData","loadImageDatas","/model/","_scaleLevel","setProgress","percent","splitAlpha","shaderConfigs","shaderNeedUpdate","updateColor","updateHeightId_","ind_","pickLineWidth","updateReapeat","minRepeatLevel","textureOffset","initUpdated","CIRCLE","PLANE","getDashArrayByLineType","ESARROW","nocenter","baseRepeatX","isSectionGray","sectionAlpha","\n                    #include <clipping_planes_pars_vertex>\n                    attribute float texOffset;\n    \n                    varying vec2 nvUv;\n                    ","\n                    uniform vec3 diffuse;\n                    uniform float passPercent;\n                    uniform bool isSectionAlpha;\n                    uniform bool isSectionGray;\n                    uniform float sectionAlpha;\n                    uniform float isSectionFront;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n    \n                    float changeProgressAlpha(float oa, float ta, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            return mix(oa, ta, isSectionFront);\n                        }else{\n                            return mix(ta, oa, isSectionFront);\n                        }\n                    }\n    \n                    ","_updateMaterialByNaviMap","doubleSide","_visibleFloorNumsChanged","çº¿æ æ³¨æå±å»ºç­ä¸å­å¨ï¼bid:","baseFloorHeight","up_","uvBaseLen","DOT_DASH","DASH","DOUBLE_DOT_DASH","TRI_DOT_DASH","ARROW","materialInfo","isSectionAlpha","isSectionFront","isFront","_billboard","pathVertices","_upVec","setFromAxisAngle","#4a82d2","#F4FEFB","_doColor","_drawArrow","_drawGodArrow","godColor","godEdgeColor","arrowHeightPercent","arrowWidthPercent","arrowPercent","_setMaterialInfo","godHeightPercent","godEdgePercent","rgba(0,0,0,0.5)","godArrowWidthPercent","godArrowPercent","godArrowXScale","godArrowColor","notCenter","perimeter","_uvs","_up_","_rings","Face3","makeBasis","computeFaceNormals","_locked","toImage","toPng","base64ToBlob","HTMLEvents","createCard","onCreated","getMediaType","video","videoWidth","videoHeight","VideoTexture","ä¸æ¯æçæä»¶ç±»å","template","-9999px","toCanvas","noTransCenter","card","translateToSVGStyles","getMarkerPathBase64","getExternalResources","convertResourceUrl","markerLineWidth","markerLineOpacity","markerFill","markerFillOpacity","stroke-linecap","butt","vml","flat","stroke-width","stroke-opacity","markerOpacity","isNumber","markerPath",'<svg version="1.1"','opacity="',"markerPathWidth","markerPathHeight",'preserveAspectRatio="none"','width="','height="',"><defs></defs>","<path ","></path>","data:image/svg+xml;base64,","resourceProperties","extractCssUrl","resourceSizeProperties","markerType","markerWidth","markerHeight","data:","url(","isURL","emptyImageUrl","GUID","requestAnimFrame","isSVG","loadImage","UID","parseJSON","mapArrayRecursively","getValueOrDefault","sign","interpolate","isArrayHasData","btoa","equalMapView","cancelAnimFrame","webkit","requestAnimationFrame","RequestAnimationFrame","CancelAnimationFrame","data:image/svg+xml",".svg","https:","file:/","http:/","exec","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","atan2","_flashTimeout","preserveMatrix","preservePosition","preserveHipPosition","useTargetMatrix","hip","names","isObject3D","skeleton","bones","pose","identity","getBoneByName","getInverse","setFromMatrixScale","makeRotationFromQuaternion","boneInverses","copyPosition","decompose","useFirstFramePosition","fps","getHelperFromSkeleton","getBones","retarget","toArray","quat",".bones[","bone","].quaternion","uncacheAction","SkeletonHelper","bindMatrix","length","prototype","hasOwnProperty","call","shift","apply","splice","exports","undefined","toStringTag","defineProperty","Module","__esModule","default","string","ESJsonpModules","push","slice","getValue","getValues","attributeCount","setDefaultValues","exitInArray","isObject","eachObject","startWith","createHash","object","function","deviceXDPI","screen","deviceYDPI","createElement","DIV","cssText","width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden","appendChild","offsetWidth","offsetHeight","parentNode","removeChild","test","split",";base64,","atob","charCodeAt","toString","paths","addEventListener","ESMapResolveReady","init","ESMap","instance","options","mode","detail","skMode","mapMode","City","initCityPaths","initIndoorPaths","EPATHDEBUG","ESMapResolveDone","EPathManager","dispatchEvent","mapId","map","tid","mapDataSrc","decode","serverUrl","getLicUrl","setPath","lic","url","timestamp","tile","getCityTilePath","bind","remoteNotify","getRemoteNotifyUrl","query_sign","building","getCityBuildingPath","searchJson","getCitySearchJsonPath","buildingSearchJson","getCityBuildingSearchJsonPath","cityTheme","getCityThemePath","buildingThemeAsset","getCityBuildingThemeAssetPath","buildingAsset","getCityBuildingAssetsPath","buildingModel","getCityBuildingModelsPath","tileModel","includes","https://","getIndoorMap","getIndoorThemeAssetPath","getIndoorAssetsPath","getIndoorSearchJsonPath","getPath","off","mapoff/mapoffdata!getmap.action?bids=","&token=","&t=","?t=","parse","themeID","filename","isRandom","mapThemeSrc","getIndoorThemePath","ext","/theme/","isBim","startsWith","http","location","origin","lastIndexOf","substring","getIndoorModelLibPath","mapService","getState","/map/mapmodel!getmodel.action?bids=","&name=","getIndoorBuildingModelsPath","/search.json","version","href","getTime","ESMapUtil","encode64","token","worldeditor","Base64","_lic.esmap","/eslic/lic!getlic.action?cids=","&s=","&k=","&url=","&v=","&tid=","_dm_","PRIVITES","/esworldmap/eslic/lic!getlic.action?cids=","&sign=","&tid=99","buildingId","/buildings/",".esmap","AND","/esmapoff/mapoff/mapoffdata!getmap.action?bids=","/escopemap/map/mapdata!getmap.action?bids=","&ck=","&p=","type","/worldtheme/","/EsmapOffJsonData/","/EsmapJsonData/","theme/","lang","/15/","_tile","getSubDirByS","/citymap/citymapdata!getmap.action?cids=","&typeid=","&y=","getCityModelLibPath","modeltoken","/map/mapmodel!getmodel.action?cids=",".gltf","indexOf","/buildingModels/","MessagePoster","post","mapScene","meshHandler","modelWorker","msg","level","_et_","_hs_","_rm_","_mt_","_tk_","_lgtk_","bG9nb3Rva2Vu","dG9rZW4=","bWFwdGltZQ==","UmVtYXJr","ZG9tYWlu","SGFzaA==","ZW5kdGltZQ==","em9uVGVtcE9iag==","cmVtYXJrcw==","RVNNYXBW","_ztl_","_rms_","_emv_","total","blockMap","set","add","blockIdNameMap","resolve","forEach","size","countMap","popArray","pop","get","progress","value","values","fire","_progress","reset","esmap","subProgress","hanlders","register","doDispose","getTileFromMec","computeModelInfo","findGroup","datas_","children","geometry","dispose","material","pow","Mercator2lonLat","maxx","maxy","WGS84ToGCJ02","lonLat2Mercator","minx","miny","ceil","parser","json","materials","meshes","scene","traverse","attributes","position","count","name","_root_","parent","faceRange","DistanceofTwoPts","merge","diffProperties","sqrt","reduce","symbol","nodeType","decodeByte","gdbs","gsdbt","_isemvht","_isemvlg","fromCharCode","aHR0cDovLzE5Mi4xNjguMS4xMjc6ODE=","ZXN3b3JsZG1hcG9mZg==","aHR0cHM6Ly93d3cuZXNtYXAuY24vdGVzdDEyNw==","ZXNtYXBvZmY=","ZXNjb3BlbWFw","test127","../","_sh","_clov","clone","distanceTo","divideScalar","#FFFFFF","TEXTURE","plane","Vector3","opacity","__proto__","iscross","style","points","center","fnum","customMat","esline","ESNodeType","LINE","disposeTasks","PathPointList","hiddenByFloor","getBuildingById","visibleFloorNums","bid","updateGeometry","floorHeightChanged","isMapRoad","roadType","mapTheme","main","mapRoadMats","MeshStandardMaterial","transparent","metalness","color","Color","onBeforeCompile","passPercent","uvDistance","maxUvVal","vertexShader","replace","\n                        #include <clipping_planes_pars_vertex>\n                        varying vec2 nvUv;\n                        ","\n                        #include <uv_vertex>\n                        nvUv = uv;\n                        ","fragmentShader","uniform float opacity;","gl_FragColor = vec4( outgoingLight, diffuseColor.a );","textureLength","dashArray","repeat","imgOffsetX","side","DoubleSide","matSide","lineMode","circle","lineWidth","lineWidthMeter","pathPointList","fixedWidth","update","userData","trueRadius","PathGeometry","getSpriteScale","both","arrow","computeBoundingSphere","seeThrough","depthTest","blend","depthWrite","blending","AdditiveBlending","renderOrder","ESRenderOrder","onUpdate","onControlChange","bindedUpdate","_onControlChange","visibleFloorNumsChanged","_onvisibleFloorNumsChanged","updateLineWidth","visible","noAnimate","updateLineTextureOffset","addGroup","offset","animateSpeed","lineMaterialShader","passDistance","uniforms","needsUpdate","createTexture","minFilter","LinearMipMapLinearFilter","RepeatWrapping","number","_colorToStr","lineType","fnums","_onUpdate","controlchange","mapPicker","clearByUUID","lastSelectLineStore","o3d_","remove","Mesh","jumpO3d","getNearTilesByCoord","userCoordToThree","_jumpID1","_isAnimating","force","times","delay","height","duration","stop","Tween","easing","TWEEN","Quadratic","onComplete","Easing","Out","callback","chain","getTileBound","transformCoord","coordSystem","WGS84","userCrs","_coordMapSceneToThree","MapError","throw","mapView","domElement","code","ERRORS","æªç¥éè¯¯","div","width","100%","display","justifyContent","rgba(0,0,0,0.8)","padding","20px","boxSizing","border-box","innerHTML","class","mapError","IS_NODE","versions","electron","Group","MODEL3D","convert","MapMode","Building","random","model","model3d","glowing","movePathLoopCount","_clockMovePath","Clock","markers","_lastDirectionV","_directionVolume","_lodLevel","_lodName","created","_lodManager","modelLod","overideCoord","isInstance","_explodeTweens","addMarker","editMode","showLevel","child","scaleLevel","isChildNode","actions","tweens","mixer","gltfModel","model3D","scaleRate","scale","ZXY","quaternion","initMapCoord","coordThreeToMap","addTo","floor","FloorNum","bindEvents","preprocessChilds","getTileById","dataID","buildingType","onAfterRender","initedMapCoord","getWorldPosition","mapCoord","hasChild","getAnchorPosition","getObjectByName","error","log","ACHOR: ","zoomed","removed","_bindupates","stopMoving","emit","toRot","needRotateCamera","slerp","matrix","setPosition","applyMatrix4","cross","Math","radToDeg","istaped","needRotate","rotateAngle","moveTo","_moveToID","angle","_coordThreeToMapScene","orientToPath","lastWalkAngle","forward","backward","Matrix4","lookAt","multiply","Euler","degToRad","Quaternion","lastRotateAction","copy","Linear","onMoving","jump","stopJump","stopJumpO3d","originalScale","show","hide","setScale","multiplyScalar","rotateTo","setFromEuler","rotateAnimate","start","unLockView","viewLocked","gestureController","enableMapPan","lockView","cameraFlyTo","keyCode","keydown","lockViewInited","controls","target","animations","playAnimation","walk","currentCamera","modelLoadManager","enableCollide","clearTimeout","makeRotationFromEuler","setFromRotationMatrix","istransparent","setAlpha","time","clonemat","stopGlow","glowSprite","MapObjectUtils","stopFlash","glow","#FF0000","fixedSize","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAABnRSTlMAAAAAAABupgeRAAAgAElEQVR42u192ZbjOrIrWL3//5Ob96HXqZvbIhGIgZTkJB9qOV2yBkoCIhADgTPOOOOMM84444wzzjjjjDPOOOOMM84444wzzjjjG0c7U3DGL3rcm/TA997PXJ3xK96IMwVnfMmj3LY+zIckzviGt+ZMwRlvel6rUb61Vg7lhxvOeM0LdabgjOc+nSG4X+oKxMD9UMIZD33FzhSc8YgH0YnamwUfZXhR/rDCGfe/d2cKzrjhsfPA90P8gA22/6GEM3a/iWcKztjxnGlw/FI/YJHtf/jgjOUv5pmCM1Y9WxY6v8UPeILtf8jgjCUv6ZmCM8oepiLE30AMhWOFyHP44IxN7+yZgjNSDxDF3yc4AZkfhnF2p/l/yOCM+Pt7puCMyHMzh9QkJbg2C2xcO/ab/+R/DxOc4X6RzxScoT4rE5x9vhOw2QN4gvl/yOAM6dU4U3CG8Yj4cT/vBPxaD6Dc/D9McAZ7d84UnDF+Mpy4H+YDeBA8gPVJeggAqP6TjPnvRfzDBGcM3o4zBWf8/6ehCPSPBxDeuFbwOWRwhvHunCk4w4XjN3oAN5aJ3VXqVeUBHCY4Y/yOnCn41bf/ApEbnICH5IZWjW0h33Xm/6GB34sAZwp+413XTPuXKkJYxgrPSfpcBPqHCX4dFJwp+F33+9/IqIs8XxMTnv02g30vivoqTHBo4BcBwpmCL7mR/wdnw7dXtO7Dm8W+V/4Xz1OEnpzmHwZ9HCb4nbhxpuAb7mICIpPKz04ySIK76+c3Zn8uAn1Ezf9DA98MHWcKXn8LW4MgaChAn1SEtslBT+gC/UDZ5zDBGW70OFPw+ls4IgDlJ9fPVV+imgz2t4H7OVbkgD5T6z808OvQ40zBu+/fD/T/CXZKJMCkAfJf61KGvMfNT+DDw7/liT0l3xwa+BIAOVPw4pv3f2jYWot5ANcP4g/JN1hs/t+r/7xC+aligkMD348hZwpefPMu5r/LCdC1o9r4AULB3hlX6Ri0NAi8P+t/p8jDcf/QwIsx5EzBK2/bv9HQGwYY/tz1Q9c3se+H/ytGvDeM5+T8PAf3DxO8D0nOFLzshs0BUXECiAcw++FO89/8CWcLJfcpMHZ2fFvtBGzA/UMDb8KTMwWvuVUTKTzjBFw5gLy9twtBs2v0Ig457iLlB88Tf1bj/qGBd6DKmYIX3CQaBeVOwPVVnDkBG4SgfBD4CRLQatDHF+H+oYGnY8uZgkffHgH6EcJx87eENvRvsKCj3MepcsR5oAS0J83/XqA/NPAahDlT8Nx7I6ftuyIBSQ/gxpAAOU8XxOyXgJ4s+i/683DAO0DmTMET74oT+uHX9EXv4e/PYx2EVjDB7SpQiQS0obFPIRMcGvhaqDlT8Kz74Yd+aGg+hHLiOoS7iq6WhkwXh6cwBcaNEtCTTf5DA98AOGcKnnInctAPpxNQVUkw/BMVDgEsCejnpX2ZBHSL7r8C3A8NPB12zhQ84jZQTFf+NHOB+HF/NpOoLQjIV4rhd0tAq52AEgSP7eRwwP3Ic6bg5hvgt/RB9R/8QHOCkuFQ8F00MOtfxMHu1RJQOfSvxvqS/zpjK/6cKbht6j3Cjr7ZXxz3egDIpQPtKQ7I14KZV/eE5s+vhv78ZmfsQ6EzBffMuwD3AYbICEFKFqmJ6UcCErcs9AM2BHX3bHY44AYgOlOwe8ar4f7jz5ieU6sC7ZSAZtjRey9sHH1L3/8nQ/+en5yxHI7OFOyb6xzEl4QByFmFA8jKGc6+gYcJhpcpYkeADJ6c/blZ8NlACUcRugeUzhRsmugFcA+5GuAqmIRrib0oX94velFLuM0JoGE/oCrDZxH0r6OEM5bg0pmC5VNcZ/gHwgBXq3nWGSKjAu2UgCCvflM+3qv+b4b7RbRxRj06nSlYOLl3QD8SwYCkCrSaBvRi4L/fbE4Drer5vE79f/vnM4ox6kxBzTzKre130kAtBwzDqpsDwnxlmLtiADcGfrElRefQwNcC15mCgkmUl1YXjffkZ28oWHEdeJvl1TUBylLGJaUAr277s0GLr6WEwwH3Y9eZgoJJtEA2H9ENb+xNB9KdhkW2f5gDYujAF0EbjvLKr23qf/nn/ZyBQwO12HWmoGASE6n34ufYBi4OWBENRmluqLcUoHZs6/u2Ie2nFrjv5YkzUth1piA7gxpc8j7+4ucAN8zSgfS+QFeQ9aJ8oSIkrgv298udQeD9/R52Gv6xDfYwzRlx+DpTkJo+v9VciPLedCCvB8DbriVBPxwK5pNsLoCjj3uTPp9p+Bf+qtwtOCOCYGcKHJPlX6tk9vNynWf2ZUAFWlcQUMIB+YUhHxgE3tDj4RZA30kzZ0Qw7UyBY7IEOAuo7Yu+NC16cm6ZgoANrsDsQgJYsDkI/E2G/3MII3ybzjgE4AMLE55upIGkCpSpI4NnMQNURIb3FwOviARs6PBT6ARk/nfRl/A32zjjX+/UmQLHZI3QMLCySi24Q1aBUMEBel+gJAfAEwRe/cKv6PzzWPRfRwOL/IPZ3B4OsDHtTIE6UwK4u2znEsSPqUAuDghXt2ElB5g9jlDUDWJPClB5fe9DaGApH5gzdgjAhrUzBdI0TdZb1zc2Ua8W8WF5ACIHBELBqznAbAp9hYMwB/wq9N/wvyv4YDZ1vfdDADaynSmQpkkw7b1aUK0HkM8FSq4sFlvLHloAQM8E5e+8yATrur89LdN/EYLX7hYC9M/M/8MBxmt7psCeI2d0NOAuIIH4tSpQvqXo8HpL8kGVdFvzhS9cE3h10e9j0T+8fQkxwKKBQwAOcDtTIOIFr/niUnWABsqhH57+oAT9P/QWXfCp1YKS7YAyZQSIJiDervw8lgYKAwA/lZ/DAfaLcKZAgQaCiaITcDv0//3gPatYNNv1X+IGsJyA8KJghfVfJegPPxlUof+jaMAL/biA/ikZM16BMwUcceBcb2sIVas9AP2Dl5kyGU3YLgRtKARbtOTL6uLe1ei/B/pjHAAtevxLQe9MwQwxdUwsEYJu5ACk/Rhs5IC7SgGU/d8u/X8Z+nPgJnmf5FoOB/zrbTpTMEMTERZd6J/3AGo5QJfaS/rcmf8FDyUopQCFo6rzzx7p/3b0XwT9hAlI7PdwwPSdPVMwREYR4K7ISJLW13kAsZ/EwgC1i18iERt4WjFwufm/Othbhf53eQAQdH+c1CCOe2cKrmgimqgESc0+cetUoKpQcCwfdKcTsNMDeL75v9nk388Tw5kRPYbDAdMX9kwBPEkv3pgq76wQo4E8GYjdgbxx4+tFbXYCnkYA95r/5fLO0/QfEuy9bvA3PfQEhP/1Kp0pQDQ6qv9QJJgVmo8YBijkgA1OwEsJoNb8X5TUvwH9l3oA1wMR8/9wwC8lADG3JJYkw+MBYvIoNARHjgOqChoyq95n/twWBthMAHsU/53onznEcMbIZkPEdx3lFyHh77pafwc0UbER4wHi2iwuKx51ElAVB2wmAEwWrSwcKwhgXbqna7MNpn3m0MMpIjo+wf3DAYPX9hddqpxj7srxh6aTeIMBIqYnucFVGKwHSLCLD17tAdTW9yYdgnIbP08Gs4k1ZZyf6C9C/6/lgN9CAHqdl4l3YoYP+a3oYSzigLwQ9DQCwPowwKMI4Eahfxv6m9Y92eZq/mcyTb97/PMbLlKMWA5RUoQkjpjmD++CfviFoEyPa6wngG8dvXe+lv1fEUxpd/qx8exXsw3M74ebXf/E/7XiUM7n506GS/38RfBre4+Pw/EPv2p8vweggIWuBelCkKIC6bvFYg7wljI8kwDeVQdAYsJPKNmtdQK8HsNwZniVLybiT0nF2SGAdxOACUYu9Fdav3GdJ9BVNPan8v0M1nkWk8tJcpEBvkUC4qCfJIDaSO+NcK+v82VGCzLq/+/kgN9LAK5lp5TIrZcDIHSSKOEAVy5QrPLZxPRDAAoBINTYcr/V/zT0H4r+5eXHXzl+RQxAAQ6RAxCqYBJzQ11gV0sMuhOghzfWEQC01cGe89S5VqrhUBi4Ul3r598rf5q6P/nzJ/j+/HMWD/g47nAmXer/L4wH/C4PgOOgiOAiUoe1IPM0UM0BYmM715Z3EcADPYCPDUQngNvL2J7Jo/yZtP29AYCPVcBiuf+/3A/4cg/A2+PBu2cTqQleQ4gEBPJ5wn8qToAuiOF4AHWDGP56/k+hmf/xZ94zgN+5GRr+M8g+fsAUx7788rQkfV3J8boCSq49ScQ0laIqYnClA7mymMwr4tubN2hPItAiDwByJ4PZTnba++FtxGOZkzbbOU/7qTL/v5IMDgEE4wFJDjCBmKBkLegj6gQkgwGLCOAuDhj+74cJaTYwyBNACQ3UAn0t+l+/JPoPirKARD/jjeObJSAly1P8oW7tNmG5dgXfXdvEvkQoEmASQGB+agngmY8flzg2qw1ctFF+Yn7pEoLI4T7qv66lZMOZJIVmAeXni7Wgr/UAXC0wRTTRu+i4VCBXH7oVoA/qqUAIA3jFNP4ZuRiA6111vduiEzCrUOU2LzF4X6TzeP9LnAdcQr4Ymf/ivBWuQHAI4GXoD48WZLoCSoboB7aa+n6GA5L0MFSBXOURZp3dniCw+IoGVCNFshieTKzP5QoCWKHwmP+lpDMN5+T685j078pB4jV6RwJ6JfqbKAYhVgm52GqIknqfOCUpKAb6Cikqkpde77aOADL6z8fRdc4gqSaZh7YQVhSFR99Gyfwx/2u4wbClzwf+fkg617maaTiuPz92e00oICdwCOAd6K/nC+otcVwcQPbA9+NtKJT8L50AIGdGLSWA2f+6kFpPItr2/sfKvjJ784L7UKCf/dd1M8VvG+5hdlO8HACtsd0XJ4N+FQGY6M9/KApBImy1+QIAmTZBMXXLxQdeFWg/AfCLInac8iR8zdtegvjmr1y4z1F1FvUl6E+28Rr+w1Lkr68D+B4CUNDfDFEOMc6LUMPjzuzrPAfowo5rs5ha9QQCuEoEmKsNMQ54Jk+sQHwO4goluE5VR3+TLVwccIV+jBpQP/wB+NUE4CUGseWDWBYLWV0hyGXCq5cwMiqQeXRX2MBFAF6uHRYuuAz/r+GAGCsEtg9QgtiSSER/3vzHywHKPeUa1CGAJ6I82YDjiyt5UcdWCBqLmRUqNpPIsEKAACB3t64lgOtBS+r4FQXADAgPQecV3CAa/i74rkJ/AsoxDvh7AvAoP9/BBN9AAHrgV3ECIPSMc3EAPFI+h2PzBEpcAaV62TzJjATkirIM2bTqzTTDgKbNCCE35gk0EDb8vVQxnLGA7q/AvRIE/nkC0KyH9kXNgl5PALriLwL6cP96Qg40P8DFAQqF5EV/aOylBJDF6dWTbl0E4H1+RHMPWr8HBTU+sG8bygfwPXnEYex3WCOdR3+lctg0/L3Q/3YOeHchmB74FcE6kOEuRlCVgHC5EJSBe1Pc52dYQgBipJ3UgpnmuReIXW97bL3DcMc3sRrLtVnVv7MZMH/Lu/0kOxGZk+ntyPS68WIPoBz9yW+9HKAArglhusZSC/0QtCDIUY3VWtBs9n5upgSERfE3nB34NAnoOecz8xJctn9ABUKd+f9eP+DFHoCoUaDaCfAK4iT5hyPsZg6YEYCejZrPBw1oQcPM2tnq4SLkKS+zy2NQut/km4DeYtrr5j9oa52h4Y+JE4CQf4OE4f+tC8i81QPQs31WOAEu1T4TEBYJICn0B6LBIgFsMP9hOQGznfAtn5AG+mUZh3rJGCbNGCBHoXHxAzBaSBI02f/nXWhaG9HXMcErCSCc7aNHa4dHjHEAga2f/6Unj8JfRVxOACQZP0wAmUSgjyBwPvNSiRB49/9lgA6t38MVwRWSiOk/edmneZoOXZ+W1zHB+wggnO2j2P4ixyT9AJcQ5Mr6N3H8RgIoDwXPTlXMvncFgWfg1UblqYWc8S6In6H5EN8JZM8mTUf/WcanSTDkiKBF5i+9vy8jgBKhH3K2foADXMa7nlQKWWqP4bu5WdvYGSJs/n9wAHlLdYg3t1GUpXbpNKmwzhOAPryrwBFBKdaL/rrsE64hMEvJns8H764DMJ0A8mfTWkGUcABoQJjHM2PxgIyxj+pIAITC4Bj6/5w0LgGJWBamgRnol0DAIhwpr1BT8v0xKpDm+nse/YeyjzmrpgRkQv+RgLbCvcsJ0OFyeBpeM1ynCpOHzDqDn8j4BAIojwQMD9r+3Q0iGQDYEwQ2gW8PE3jZIsAZvBUE7w9BzkFEf8Uq181/XIyA2f6PB7AQ/cOajwvxXTmXyGWXDuMB0JyAwMZ5AgiHgs3cLfizgJREoMDz9hd6knDcrIY2D3zpCl2E6zUq4g/oYsJiHtHQJmjWCsB6JBnvEXzeRwAKUsCp+ZgIZVruAQ4QQVYhOVBdPhwNDjAE/B4A14ICQtAwEYhkE7og/gpGfCcmYZjHap7+lKuhX9/muv3HmcfWdscom3O2w9lyY0pSgKj7z5aaGNIbThZQFe5zmCjUfCCrN/quQKX/ppUHi6QCzcsJ/1cgFKyjvznhsHyOGQYNHXYR4r3bXAFlljV4IzqYfUCV//Jq6FfgBjX8QaV/aB2nh2RjhhZml9CirUMPAcTRP+ME6Fa/uVmGAwIyURPqyFxB4zwNmNqUzhYi+iufr9IZJoE+MV2nkAZ0rIRl+1d5BiXQL/7XDPSvGPqxMS65Us3f+g3zpM/Z5IuJpISlhjs8BBBBfxcN6Fa/iPhhDtAVEkUtMWmA4KwpPSUJwDyWSLcBJjAJoOohRLQRtLK9uAf9QCvgxtU/o01a+rTcwpA6B0CI/SqiUBMqyBDi9UMAvgeuVuuH0JcNpapO7Iiz3NAwKHtpQA8IIxqjNpkgEwRWUgzF91OBqiFnmMLxcyDDuyYw2cA8eS7EYyL+wFmp4EJ/0/D/Suh/KAGY7+EMHRSr3xX2NDkAzmovIt/PtueOwvMJQEF/ZW7NW/9xOBN5hweqigO7KKcJvQceDiuuyi9oVOoS/Yk3EED/RvP9Z5ewQq87BMBeVzgT8Mv/i1MR/7mozwyRzgW1Jg0kCUBRw6pUIPNwHxyAeQkuf8yURb7E51ZcUjwJ/bUQ45V9yH/p60FinrgZ1oLC6N/mRQmcrZvcPugQgBv9RbDIp/2UcICyQ+IENFocoOfnbCMAHu1AdTXAzJFypamYj9yMD0waMAG9FdUQ7B+x4gAej53J98MjkqzQK6MEqNor9ZBdPZ8DHk0AgRSRpvV645gV4wCvHKRoQbOYMITM0Z0E0ITszMIwgEmoIliXiz+gQePrBhlX4CF5JnqoQNf9RdBXqAJaXul1wtuooExZoZ7fu0MAqWdLiRBCdgWQSKgnAVsCuDp8605Ao9WwruhxngAK04F0P2Amgs3WgCW+iLKEZKyBjPnNE/AisJ570sKdgSyiiUBEqFFkHxIP19uFNq2Z6CEAcCyI0YAuAfGcHAU9fx5FxD4zoch0AhQmIFgJwQ8wgxn5dCAR3CGrQB8HIhl+4uOXFNzDr33bmFfuUnIUZeaKmGZIHBPdHx7xpxz9vbPdtLoNVwzpNxKA+ZaWx2M5eCmbzU5AdAJEcDd5IpMRtIgAlFPKoz9oO6AWTQMlZDBUn0ljgOEGYmDgXWk/JB9f3H74vSn+gAZpXehvlnd9/Bkw/59DA88igCYXcCkwYaapBDjAzNgRhXsTUhutDiMIq1xjCQGYh2uefNCMCtTm7YDapOyoOdNAm1UNgEmyKV+ZAEI50tMgPnCSnGLFki5u/mOSUNs8+aOw1qOfXb7L/MeTFg57EAE0OVt8iO/N01JGPAeFA0QagJXvP8R3TIIB3FGA0LChkAC8YQBOALHI//VDoBuEYpeJ+T9J2VeM/e4PHriaxLniwzoHYBSSbbTTpxf9m6dzHLlxT4b+xxEAgWDz4dNdgeap7VKYADT80OTUIJMzZjv3+gFK1Ndl+4tOwOwaZxzvjQFgnggUewJ/PngBqphtrICL8qWOSrFJiEV0m9yEp1ld22Ys4kJ/MYCsoH/zlI81YeWA5Gx/FQE0T48HkTxKOMCEfp60A0vch6wFKX6AArhhAkiqQJgHqJPoD6EbxBXKm5Xsf93SXAwyo/8URn33AAo/Shj6Z3SiLDGGiYLvRf8S9m2jTiFPKw54BAE0rQGcspNyDkC0SwRoPEA5GRPQOQNBq9ctJABdBRLRH5ab1WgdgEsCerj+c/tYsXJk0vyfQT+EFFKO/l7z/7oZJi2j22WZBJwYAMECyOa/TgaLOMDE6CsmwnICIPgBmGvxZjygigC2qUC6E1BSAwy//mMqADH95wkBgCGOE0QGdbmSfMPhlXsA0Gz/GBM0q4foo8b9BMCFdYUMdNW+lgOU6CiHbMhOgIL+3gitTgDmnyIBrAsFzzigTdYeaTQxcXhKpv6DuQS0Wv9pe5OITAYaulyk4Q8sb8BM84enkJijf/M0jp4d+oPGTiGYSgPkT92CWM0BCozyyxHDrfzzjGlgtYhouXSgFq0JICpQs2r9xJvycQ7DYmDxUQwv45WRgMoxovnXmXHRj2L7Y1SJrXy4HmiW5o9RSmgTWkZzUoEz9otRKAKTMPUhgAjuN6HJz2wPpo4/wxFXFBeCEKSg/+zoQyeD4CwPZa8ggEwoGCE/YHiZ5svG48Azs324sXi4IdyYToCo/NQii57NOZzD4dzGoD9wqnrfCP1mkfsCYQWCZ447CSAv/ujUIqI/wRrIPoQoBIkgy6O7M46ZqUM6/7n+bFqhgxkKDqP/kAOuYKQsC4yJWBRLAWqe9I+HKz+znQ9DtbOJjVn9PJTatMR/yIq/rsi1UcUZrMqynbfsuQTAQVYkA1FW1hFQ54BaJ0D0A0xXAHJGkOIABQhAdAJAO0N4Q8HNKgYmuD97Jr0SUKOZJIq9ufQtW7paJGdHvuKYWPE7vAtK/GBIJ6bmg0QDCT7hj+oYehsBFOK+qbyLon/TylbFyDCngaalhzYh50f5X0QT9nU3xUsAtaHgJmeCzh45E2s+fqWg+YwzNig/hcjSKtKNzBipIvrr0E+Iqgn9gvQbETD8m9A94vsJQKEBQgb6PgMcACrFKMBqakGQWzsQxIcWEzbRGSG1B2tUIK/tT+b8WhEKQWU25aPZY2Z2/qpyAlp14VgGzfX3kXPADLI/iNmU1GaBXyU932X789OAp1D819UBBMx/BccVkmhWJg/kpCBOGLC0IF0OaqOuQZhrRKYH4IoG36IC6bY/rGJgxT4waQD+VG7FAAw4AS74EMGleeoPwmwBIdjLlR8IHsDHrvSFXJqW9Nloq4nZDCjTfgsT3EAA4divru+LGkIAB2F5A5wGZkxQ5QdwN6UkGOAlAO5UmQaBjv6zSwssDKA3diY4govxG+svtugdNLlk2EhDUcCuM8w5YBanNZlY0f1hLeeCef4ohAoyyGlFCtns54AXxAB0/0B8veGp8ILcqUJ0Aoag/0EJEPyAKiFIDwboG2RUIN0PUDwMcQHbNk8yaVpRq1gxdEUB7zuvKMh5Uz25K4L7gR/O6MTbMQK0Ii+J/rfcsvcRwFLxJwAoXMGH0Mmg+cO510tzeRWKpW8SgMsJSDIBNL9q9qiIDsFst+IrCqt2twkdIDLvc0uHf5sz3bAl0pYyfCD2lAYtJIal+yueRMD2z3d5ehQTPDEGMIOkGCtANipdrkCeBoZOwBC7EcoIygcDMj5BxgkIoL/JsuZDOISJmQSkMMFM/8lo6y2U8FOIKWJnm7DhP7sRmLTW0Q3/mYjkRf+Y4V/C368ngLD5r1OCwgEEaGLBgDbPyAQVc664P/wekz4TYfQ3tRqkxR/iZIhU7UV/TGrBVkhAmBin3jIiAhYt3SloHaCYrTXC4s+VDPT98Om6/mmi//ByRPRXbvQTmODOIDDBfa/go0QLTJRRRKGW6PTQRjFhziIKyM6kIZOlkAgIKxu4nADzvphfNq0WjBsNpgSEeV4/QhUASfOfnIMLg8gZhkliht3X3ZrrNJgS/MwwD6O/qw0c5PIxFxN8FQF4cV/fp2lRujggLAR5aYAHA0QBp2k9JxT5aAamSDgB0CIBSFcCg2ZbgYo51y95364ZQilrE4q4nNcNZsAUpo0rvpvvuMkNJN9/SLqKkV5SM0xoLAPQD2SCTQTQhFxPF7jrYYOAjh8TgmY4bgIoCQlg3s9HPwGdAJaqQEqYgQCKiP7DOwunEKFIQJxazFpT3dCO6f6uvQXg3oRLMuc66wyjKR/7V1J9CB22XLWXyOI6l7e9KaEPjQHoQTxd/DHjAZBdgTbPCCIIDs0PMBEcmhCkhCgUO11HfERrpGf3xWv7Y6QsZVaGcUlAzVoAwMTlsGLgRY22rBwhHPUlL6NrcRg4M0eJB6DDcczD40ywB5N3EICC+yLEK4K1iwO4jNPkTjjNWesLwQ+YEQxokwn+W+4QwJO3E/vAd2s+IU2oBmhaLVgLFYJhFP6F4N0/wfyvGuac6BwgcglfLvh6VjMpr2mZo01YdB7OBhLK/d3PBDfHAESsD0hAcFaiKlGB5q/w0q14Mm+zPYN6IS6fACEnADkVSLmtiu0PZzsg5VkVJSCiNrhejZJG/y6hA/NA6AzKSVNVUfwhMzmb2Dbv7DbDfTil/1hYPkz2j3IClhOAjvuxPYcNfwIrV1YgqAdLyRmiOSw9R/EGQF0BvkPQ9FCOqpkPJqOYjw2/m9dz3i8BtXQFgKICLRKLrxau2EybgH7gDM1yX7NFR5uXjEGw1l00ELsFT2CC3UFg8iQFzH8zDCCihgnZM+QCrdG9gr7CBCYHiL+F3/w3p32DE6DcO8hOAP5t/nuXBW5yFtAQhlqoAiCPnq49NGtp34B9plwIUUVmHCBCPybdfjhL6ZoPqEcV1v1ucQLWEsAK87/JPeN0839mX1+/ISKMVw5yCUFX5nAFAwIegEgAzRMKFj2qMPpj7k8ElgXmi9wSAG255pouw1D5UAIombxPAtwzICZ7ECWgRptGmIIYYbUmR+lFpmVdBSAAACAASURBVLzRCbg/CDxDcFMgVr4MSBMKDZh7blqtb9gPMI8rikjf6gS0fxcDQ7CCMbciZ8+tmP0pvv+brUJ9V4Q7udY/O0TA9uft4YanyptGYJ5FSkAfWpn3i5yAhQRwi/kPp+F//SDSQMAJaKF+bXw2dDnIJIbZrrxUau5NmboM+mMkAWFi188ASHkDG+0RVq7+K6jUtEpXfjgTZ3UOmDFlYFdKYz4T+l2tp/VZNSdTNAL2M8HNQeDhq4tom4ckBzSakG7qQvAk+JPvFUN+huBwBgNmB1Juh/eD1wlQPjehJ+hwKSjloRUlIE4zswzUW+zBJkQ4vesne4eYQsrv2swzI7q/UjnMZ7t52kWUOwGLOGAVAejmfxO6dCkS/xAaXDgF6grMvleAL+8KxOQghQMgBCf0KQVtVoG0E2CiP+bJoLWPNEb6MuaKU3MGhE3cD5j/HGtikK3s1lTSXD6ESQbicvNi5TBoRVjT4sDKHVf8PEQLG3cTgEIDItDPNpt9mf/Q5l0WPr5vtFyAyDjcEjfRn+wQcnMIhS1Q4QS4OCCM/hBqwcTn1hX+jXHMBkuwFUV9Y5ANjzMxWzJs+BjwtqxDD+xjA5eljwoJyGX+c+ivpYElBLDO/OegXw79Jl7DEuKhNfwBzctU+IMjuMsLaUJlwH4nQEd/TBy18HK+LdQHtC1Q/10gxbc0VSCvBNScIV/vIbjsA6vp0ywVOI/+ogSkmAKY1JQoLuaDCMB7s2PmfwkHNFoVbELw7Msh8OkgLiL4ZgKodQIUs92L/jOaIbIMhxh9+wBW7jT/CVqZ0xLDfWjLBgyB2zwfM/WzUbkfQvVADP0zTkCbrFoDq6jtoQRgWu5J89/8U/kAwQMwhRfypQLinBvKCSDMQDO8zjsBzV8S7JWAIAgXbd5IgOM45uLDCvM/gPvKqAr/hvdDjHd+s5qVViRSe7K0IuAEDB+h2fm3BQHhegJoNMFOAfrV5r9u9XO1hyMpLF0+AMT6LeAE4KKQKicA1KtQHgOXBJQBsjYKEhIwIhDMsb4JUnKVKDE7t0VpP2KnT/NXTSgKuyr+OvTDCuMvdQJc9/fj2h8tASkgbv58kflvfgnBAzAN+byeg7QrkNnJUg4A9ZOgxYGRqwUzjc1G+0DMMg7hN/9F5tBfPbOibV01WTmdeDuPkhiyWTegVwCIczu7+wEOWDSKCaDJ1V4t0ebTfOdF0DGxnv85Q3wRf5XJ/DICMFUjVJQEhyUgzG1/ETvM93a1+U9OwIQS3WZvpY2DvO2jZ6vEzPI7h1fX5jVfENYPgCc3dHgXZv6KCP1vygIyycDkhtlO8h+a1g6IaEGiH5BxBTIEED4unNVhsQ/kzzD6k4dH9ACa0DlOwdly819B//Z/LTz/flBgpbCJvxcZ4Fw5h5wwbxtHOD6gxhAoNysDOOjvgf56AmjprP8WVf+roF/EfT4JpougoDD5uWLGDh0XnQAw9z8U6Ie/JiDjBIgc4PUAGq0DmL3/SBQAm+b/uqGjf6PCdCsNJIhERTKIhswxu9cZ9Df/bNZiDLCWHX5HJbCuApk7aXXZPs1q+eBSfkwsdkkr3j2YOE52InIP/x5FQpBCKrMHQLnFTSgFaDSjfAaOuvKTN/9d4k/zN5TOA3cJ9Ouuw7BLRL5rd4YGhve6WesM7yT4fQQwe2ewrOdPBvqHWD9kBcjRYJchn1d1an8IoTgAVg5P03R/ZVcK9EMIA8CfBtpCTSJbbk0oHRQCpBK22YdnpUdKFPRvVss5TPSf2VWY+s91D7FcIPiVH+/qYy9oB92c2Z/mrlaY/5h3+wl7AIoiVIvjYfTXId78X+xqDhFD/+FTpNtZbbQkJObtYjKKTRNChdCszmatZxIr+Gpy9JiLM+aZZOrR9PXloYUBXDQ/Y7IA+pM2Sq6bspsATBp4lPnvMvmHaK6jvI62+iTfQgBNk+9jH1DkBDSrkkBvKxboW9mi7aCb1rWt0cyf1WMGWI0qmea5zfhj6GE0rTnrEPdN6IcnJKDY+NeJCq89WQ79lQTQKnR/8tty8x/zAICI+zHs5jieAXcXVczO30UeWOkENE+D6CaHAUy0+okXjeaTZMQfjvtJT6I516XhmfvN6vDT0tJ/0tJvVqsJE/rJpA0FH9elzW59+ZoBdxIAf4Bg1XY+2fyfGfsi1Lrgu9yuX8E9t3CAYgSgrhi40fY4pkTQNPlefJ8Xmf8BBBdXVNaxm1+1SBIu8Qd+J8D0b9qoGq4JWT0fJ6bPT6ETsKkVBEF2cw+LzP+Wy/nRzXBx0hapOiv2AKGgN0MAraIqWCSAZkn83nfS5RCgKPXTCxOzZEoXuJsJl+IeGm3eycExwHOzCDCE9WRMKmqTwHIhuj6uDsA0/HU+WAH9XpP/CsozpC7H8TCXlBwu7AGscAKapyAAWhxYzAISk1t4h16XBETe8+ZM/WxCwRcs88tUkPiymuLPTXwQU4NEdFI8AFjZPsMzJOsVu7S45mkUWMUHa7OA+DupMEdS+ZmBhQv3Z7icAe7VFv06DsAkk/VjMkW4F4nEhf6YeA/i29KsMuB8c/a2puBLURtcj2iy3wN3ERSjPtAM1SQbkwmu4o8o4xCXxevMmfpee0gWUHtV2ZdOA9Cy/r3ILvLEY9Gf+AFwOgHmTpoQB4ZWD0xem+bJKiHvXnOm/zd/uSm0ylLMe7SZDtD/+kaIGBdDJW7+J2PLZvM+L/STCxzGdZemY7UFoeAlWUCcDEQngO/cPJMq8x9U9mnfMlzXgrkTMINy5TOicWCF+00Ia1QjngFBowsG6G+v4g20RLw3YJN9QFvTBPdmdftJeg8i+Az3Q5yAGfS3SQUcue/9x/DCevNUkrdXZAFxMuAbBIQgJMz/1bKPOXsBp+FFToD+JeQaEf48XB8bV8O164H0NmrKW81Rhm+sv/yxLm+FJWMKU2ZeIl2VIoUFBPp/bsmh3/u+mwsNrdZ/sgSg2O/mz5vW79OE/qvFN/x8o+yTEYVM7nHtM0kAQ440rXidA0wCMD+bXmbs5WyT+iCMmgEEmObnnpXwQKsT/ZucrUhedr37grJzF/IEAsIi9H8cov97iJTDb3r4mcnzwY4sINGaa9UrvbSo+g/a+POxGo5+qsPLzDgKyLUFbenOoLgjBtDkxb6bPxEIE+mfJ/9g3sciPDK93pYuN9aE4oCrA5f3hz7+i1BC05aRUR6Y9rQsoJZQ6hGKAXg5AOlyX6zUfFyQvZo28lvq0I+o/uNF/48/YzEA/v63aHFWi64J9fdPZQXd5LOah/6lLwu/LzMmULJLW6LITu/QlzlKKwoFL+kFxN8xYv5noD+D+zMU3g/TN5JBzPbXOSBMADrNmzQQiAHM0MSV4p1822eEUVVt1BJZQzP4C7hWLpARIbhZTUNbUbeG67Qkzf/yR2gJATRP+v/1v0xbz/shJvt4IRhrhn6UB6K/iOPiB9SVgyHknpp1+S2xFljTcoFmmk+Afrzob85YsxrDLRJ/FFwOyD5V3fm9nlzTQsFtWUD4n/B1zrBe/GGzSjerzH9+2hz0N+OvfojNHOA6nIsD4C8FEN3E2bORibYp4Ft7CAUNmyeyKkKheFxOgVWwLp5P7IfmrjodXvRv/l6wnBuSTLAvC6hZ5Zot1MkrJgEpTACPMu6aNBcZhA99FwEoUK47AXCGAWY0oIBCOO/eZcc1LQe0zaMLHyrQrOhUfD7DXfhnHY9jOKvfFx2LPs6H6DxtVNLlKuxq/mYPphYkHqW9IgvIfG9nL7BpBgYkIFjqv/gcJ818ZYfJA91IAEkmgOYXDu2A2Z9K58h8E4hWHdxz7arluvPHRiDLs62MDyuzdxWsSkC/OWMAGRWovaIXkLl9s8LCHDVQnfhfCJ1JetAdAmWH2whAQXNdHUJuYQA4a8EUvPBijQj04k/apGdDVeKNy4dQoL+le7rlsaiNsqcyId/mWTtMpIESp3M5ATRPQW/Mf+dMACEMEFaBwtpO8pEVhaAMlGcYLswBOvQjVxIsPhvht6tZbSM5K3iteO/isUqv0/DKjia4e0t8C3NVxUFwP9DDJ4z+LZER1BYEhLN1ACYZkC9nNfTwGI+YSEAQKhUI1j/E8J/hfsl5uvawgQCWqkAuSEI6Qiv+vAkL/LrexzA4wqn+Q6uuyIO+bhFX7Uo5kMsOEB+DGLK3XG7owmZwrl/xDnw6fCARAd5s+Ct8YEJ2nr2gFbtltCPkVCB4GsM1KwgsvtiY14K1aGKfSAP8zW/CElpe9G/OcLEJ/YEzLGkT1P6dOPtX85kdMWP4z56EEvM/cDKx4SaAKv1H2W2zAsK6K9C2rOxYLsjwcy4x7df5QFgZBgiY/y0RAGhFLcBiwzQzMx3fml/oN6G/+VN6mieAPPuV3qytsPi2VQQDRF+wXAWqqQMI8IT3CSZkYH6Y0QCEot8VL7OO9ab5X6XwrCM5guBJLWgI8fxDhgMIIpd76M1abNaL/m2S+yiiZB769QCDnh7aJqmxfJ8xwx9zB6gkGGA+e+Yj1O6qA/B62ebt19lliCYKDdxo+yuUYP7XOm9gDwG0ojhwC3UM3Mb0JaBvYmXzy9+x2eBFZ82fCFSeHsrRPw/9oH33wv0EW7Skq6WbQ/wTmA4XGXhJQnyqmlUQMGSIJrR/WAcHJiXo/zXjMxOIk+PPnz+ufXoJwBR/mlAOom82Q4pmqf+xFzL2nrf00oz5ETP8M/9l4k+bN8XL9/PBPCakdGB1Wf3eZ6lWBSpuBieCfsmDOwT3KzZhVCCmSC4PNPyHTCACvYuTvAa+8r/wVHiIzMFtgoCHGs7+bLkKgCbnfb4C+uF3F1xJqE3r2hZjgjaKIpDb3VamhIqgHx7xOgDvI+h6aV3P0wzaPj6bKsrSwRHZ+1+mKBTjJC8rQA5XlBBAy4UBwhzAX/K2rLz23jHDdxOpXZyh437796KMs0PPttEfA3EVSQX9A49cKw0aLSEAnQya3PS/5OkcGsuzzwSnClFedDi8/3X9cvhnIaYPJ8e7H8yVnFYRBmhCl8BMIpDSBk605VfTRmvtv//9b9XLpafw81UK2jzXlh+CTxfpSp1ENmUpefORQEVFmAv09afrH++MiGTQ5GXiW3XgjrBCOVyK5BGw/XWz2ktp4lWUq0OQVZ0qAuDbuJYTmb1XLZr7zzkjiVz/M4T//PkT4ABXS+eZYsb3aYI+d/dnze+qCNUrAaFaBWqexNDZoyg+SJV1AN5feX3zwBN8RT0TMfNPT0ztEVE4TANefI9xALkcUQvS/0QoCEyeKDMAgKibz2kg8Dyb28eKez/Ir6VXHOMLGBDlYIbyWFOT0eYLwJmGP6oLg72PU9P6y9YQgBeOlXdPdAKalsvRtKVUhn+iwvLlrGB+H6YHLw3wC/mZ8JNUkDCJVGeYAHIYoKXFxuYPd9XqP95e+co5E4mci/jibAwXXg8vNPax26vVn8xzJa6M3sizhUrDGl1VVHQ6/375Mdvmk6YSgCnpNK2bfwD6Ay9w0xIJdNnEe3TRA1j3pUID8Iv4MacBCwLCCFUDxO4mJipzk6Xq5un5hcURgvLEzSGMtlG1lHIjPiaWZPIsmqKZBOQiAxH9+cPQPMvIXEG/3gPIv0jJXTWrspe8nCITEMSMOQGKSKJAuetLaOmhhRwAj7fhgn4UNQdNgkJ4uZgYRpec9mbob/PGDF4Vi8zz6tUFTI/NqwKJTsDMIcBlnfrZrF43MB9UiQBabgHIZq3LqH8QiSQv1GT8gFrzP8wN/E+dA8SJhRyxaM4lgJqnKxyoBMRfBvF/25a8zxUc8OfPn977NTKspO5wrGyTzM5M1YKJ+219JpVJSAHXzUT/mS3P/3d4DgUSEFdUG20ApxCJ6+jh/ShAFiASL2h6v/R+M7T9oeldtY6O6BPAkxIKjwcAzf5Q3vlCQHG1c1lR8zUUWNokHm5CP8f92MkHmmAX3qwmR4NF5G2W4k/u0cwDgNxDIisBNW2lPfNmi29dk9M2SgQlEe6TOxn+r8gEVcRQRQNXjA6IQphnBCHhAYT91D3IEkDn2Tvc5IxJE+BKoB/zRM887iuG/1L9B87E0CF246LPfEzdTN4x48Nt0XoApiDTtFwLxRUQTwBCr/8Vr2XGLkaFwlNIDF4HwqQB1wazU0I0GmwSAKot6MKHqir3X8zLvLZ0bvMVj13QD3lxGG+fOz57e24T5MTQNol7uxhxKPG7ikX4KggSAYigz8lAscjKbf91NIAKRcjFBCIxBGx/7068V+qihBmmKzTwHAJo0V5AtUNMGJ3Zoauhv3l6gg4ziIi4tEII0lUg7gGY/5IdKs/MEPQVJvhHmQVu8itvL2EC5QN5lEHDgLWgn6eKAO6LG+S9AR3NXYJPSwQD4MwCarQtRABJ93sPG44rhgEI2orQz12TcOkTbkoEAi2XIx9+bilGffWTDIC+SgAEbb3o3/zhOP4aKxyQ8QbMn2eEoBJYz9OACO7QRKHA/8IqD84QQIYDAiq2+JOh0ccbGs/wN3Zd0EIISnA41g00kMvf5NU6y0eTm8E1WorVJsv4xE4+Cfo2AQwJajY7AQ4QlSUvB3DkdUF/OTHMtrmFBszPRMARr9qcE8zLg+H3A6oIQCmCNd8LAv38m3VjlrTT5HJfF/Rz8gj3zR7C3woyaPNuRbNQCk/Sr+oa+1H5fMOawLOZ8qK/iwPMN1yBb6+QbR49BnyKEMT/rKWN2WdOA0lFCFppmEIA0PqFKGC9qPzq3mEm7SgbwyP4JKG/jbJIRfO/6vbNiKcJmU48Vb9Nlvf5C+jk84rH4x/+MpiuwPXLFRxA7NAhamfEnzD5zWBXYYsYsgdoQHQFdKCvUoQgZPg0v7TYcpGAbdxg5noiKqMr7+zsexf0h0+PHIUzAVbWbXzs+Xp6ivqvr1QMefma2H+5CUAnBu+cNi3Jj8gCcNYD5x8FZT+mB8CZIKzzJP/k52BymMmC3stPEkArCgMU8kTM9w+kaYo0o6C/mTOqQH8b1bXxvP5GuyxAE4JigMhnm5u/eveFD1ue/Gk2vBteQuWCMGbYevboNK063+UBKByQFH9colDzBCQUKJzxTR7ZvbY/ZPFKn17IPkGAALAsF+j6SCtPex6OvRyT/OG1R3/Tci4DVn+bpDnCarksMoHJCvnbMZwubpgPgX62Wn3tCgct3wtoxWhCsgc0OahRVX3FmXPNgStUIhOUWPSxLRVkdzEr5HgArBz/dSpQEsrbJOEvCdkukG00HKqY8KbMzRNDvdCv4L65EkBLB4FFc3aWld9GDRiGqv31y5L16zMjTgCzJFbvQ09eci4HKTi7GvohN8Dg0BmgAWJBI6r5ZFA+xhMQCoNF6M84AYEVzKueLqWESjxWbKmW64EI8YhqT7OKm9pIUic0ACEegKifZ8pf/LgkQjtkAj0RtuWahLd1C8KYM9i04giRDDgNtHmeYisdHOIVDAJVh1w0YAK98kOdnIZcaPpbopTUJo2AoBUYNq0ijL8qLogsQeo26aSGZYMwBH9DeXaQC6Rmyk/A/A/b/opn483Zdf1vxthvQjeItmJN4EIaUN6WGVTNYHSGKSvG8BBNiBYoTKDQQIlAxH8lIjjfzMT9QhUoyQGB51wJiX18P1PbReAOXIjpFgwzW8h77YJ+r8kv0gByCaDh4mdztx9D2UMLrRd/JYMW6isltYIoH2SRaPOgIiYi2sVBPzqH8hgTiDQAv66iSEBIN4TQcZ+fKrT2U4VOgAIBJQ8SAT4ITobrVXV1+JktxTWUR1zBXtBkyivMmSpQCTopqbfPGS1RR0Z+uy8IbPoB3JJqctaNy5JNqkDcD3AxgU4DppJjSkAz/G1WI0/XlJpbwpKAvEygPzD5p1fMhRPTpmfBxjCWmcSASao7JwMFX1zQ3+bp/+aE5EO+yjR2YYQRuclrRuZpIEgAS7WUzGhWPHaFB2ByjHm2jcYnC5Ucrq6IDpPIhSKLuK4oBv1Ni8qYQC+ivzcrlKMeAbgVzgfB+kY73ii4hpG7QD7DmQYanhMRQF3gvq5SN4n4bemi8IVUYdpTCuJjHgBQTFoF8XU/wISe5umArVvxoC3+ITsNLq1f3ExXqCDnBJdwgNL2kjy0XvM/IIF6iwbEfpmzSn5YxU1tvnw5JmvBF+b/LEX8RWje6pYUdUlwfGQXhW/z1WBatCZTj6qBhl5Nkzys/JBDDC1oMglehwChZB6yN3hs/5JpVM4qEwlwcUCgGqukFCsWBguvz64QnqhFiIJPXvnx3p1YeYSLJHTAJREOQgnNEwduk6ivi2D+iV0qHiwNZRAqzAozAB3+mXEIMq6Aor8nbX9OvS6/BH4nwGRWjg4cRl1JbjPon6XcuFIhTEXe/FWjPX9KBB9vAAAek1/xb6pWH4uhf3iV9swJtMJWEBl8r42/8TfqIexy/ZL8yWGdEIa+vSm1t3nzn6TII3KGqGspEB/wA0w4aFqavBke4LkPhAPCr6QYECaNjmdQUij4NK312+yimtD5p1krpJeoPW2UqGouHlDCKxmKsgmgBPpn/2u+q973cym469KQywkQr72EBjjoK56NF+VFCag8EoAFHaG99YyzJ3bWSxI0DZ+fG/yhUaK0uHLVC6EfIaVXr73Ss/K9QEfWCINV0ODK/ymhATcB6E+5EgaI7aqt7/HAcVxnCC/0I2fy6zSAUOqnYvjHOFVkRN3Gr3UCOOyKfYDbJPBr+gTISR/mD03dv40Ki+6y+rnjomj6w548SegX5f5W0a265fJB2xOawbnwCzcFGDioiTEAl/7T5FBwhgY4/cQMfySCK3Aa/ooQ1LSKMDi77lwx2ov+Ygd5WBJQjLpmPzfzO2ccgFKrH54mHBzOFnVVa3LTiEbbqc5AOewHVI1/YrMwe9kWIfgePpg5oWJIk3yvW76F6M/5gNv+CgWGb5kYCYAmBAU4QDxnJTArijbKmiHwLLAeXgrmuoc2X9X2ynkx6Ie2vAERTGqHV74b/jzWxDR8ac2TCKQ/J/94Z62tTAHSDbdFQpC+tLcO+o02r95AAzM89dr1yjZEaDIjAYQGCNCjWv8hqi6JASgLAXIYVVQR8SnlcWBuzs+0oAz0gyZ3KiHTNllJEbtG4Pyv/Lqa1QIdgf5ZOlPiWxeG8ruUIvOSm9zlzRUSKLkRoniFUiHInB+RBhQ5CImeEMnsskAU94MYkCiA4tsr5j+Egi94LH2l03ITUmX48lixvFjvnR3COvnGPLfmr+eK6UKEFf7ZBqymgRZ7dctPNbbOJYc280/THIbfM/j550wRckWAkQgC67IYuczVHGAuiquL/pB1Xsgms+tR1KGHm/+YuC/XGVP6+RDob3U5jots7cAd+bsxzze9KwCAWg8gn3HhPcQQWJP7b1a5vC4T6dA/+xXZXuSD4Sk12rHONORjgV/XbHijwS4C0N/wNs/UNOWgmbCOeRCY04CINdfLUcAXVgWDCehNKJorgfsZ6Jd0ChLndoby/NEqZLihtdH83aFr2kHn57oJzfTNLW9RhBT0N6HfzIpBImuoaXWwM6M+bPXPdjL8ZsZnBO5JsNfkVPMlb7RGVy/7UnKHTLDmcGACTdMKU81osEJUuqpT8paVrA+zYcTyOE3c987tdeMdaaBhQ9XLAUg3flB4pSRiEf7sFYUCIkle8RdjyNdJJnzgdX2qJCDdCTA5AAkViJ8nhMWzlLyUJlczDNkR815yOkQqgn6gUegeSgiUFrdEI6DAUT5Gth30Hl3+lkPsOfmmVWwhGhtQgHKmR8Gf+qlw82x7UQj62D7GAeZ90at2M7UCcPbFJNDZhKQasgG5QFPxd2W+6zhIfk4EH5dvdBcNNH8dQLPSQIf//jyloQMRbwddDsHhzI11MG1edfLEXFa5Cf3EZA5ApCgH6RECgvten0a/rsD9ErtpNjkNtFkJl5AX51KwVcR9CHmcevZnidpTEiQ31bM9NNCK+sEpKhCEEu7ZQf8oWP/xX6KmvBq49++8WaUJK07A6wHEwNG8tJmM4439Nq04bnbtQzIYHvfqRTUt5Wn4zfB8eFD6+j3XsnQ/zOTUwDdiKB6ax+l9ws0vlYtVLBhRounaCMBgLHo3DH1dH3jQHLmhG/2gVhABLlkR+CXBAJEwXPfYNSczPIKVPUnUcy+xueY87AGIl4OQF2XeQS5nt0nvTNMDaJ5CMMUDaFoNKqwFAD4uEzTOod96PYI9i0Vfz3NPtbD4hM86drhK25TYu5nb06JZQH/wpBGIN6DO9CbQtkEBM7GeHFc3mc3P3j/Dsd8qDwBCqbNy5kPeGp6GwkPcFSPEDL9Z49XuyA0lD57yHOrPsMsH8sZy7sIu0ZBSQlzN6m4CoRNPE3o3/Ilh8ToUju0z4wrwCKc3ErDnYfVq5Vf84q8Z6vSuMO6YfvHsoScgZd5owgQE/Wcvnv5BeYyVk2/OFt/QenK4KMGrOoqmSeDZ2xPyVbQ1069VZlgH9/9d+Me/wzyrP+smZRHQK1jjGt7DBaAwxgSK+S+qhyiqWEaocMzcj0uMNo+oyPriU8TPtlnNKlxoaM4q/57zhHJTvNZ9Xt5sco3LA4fo4w6vJU8DV4if4T5oim3BegC1N8mE123PRAD9dQMnHAAQX0Wy80ab07kuUGFQ/SUR3xZTBBOnsVmJg6CSbrP6Jzc5ExRCYrv+oCpt9JULz+eef/yq0bbS+QN558qbR//xjbfwwmzBzQevkyD7+eCAj/EndvElWPxweje/FIUgE6bLJ1DRbRXzXNRtxFPVY79KHBhU8/E6oC4a4yJJxgMw9R/Fj1GiGsopuZ6ogNpTAgjmKylOaVgnMD1d0II+gu9mZdzM/FfylHwEMHv3ks9KOfA9EP3FJz7sRMfeDZfCA031CgtB4rQTDsBcVSdnqOCmeTKgjepaKAsLls4jQhUHfdc8I0RsXt9Xf5712BWcAqByGjoZJ8cQ3D8+cKoYbvZzbEoDzeCvAsfPR/8q/vO+nObo9QAAIABJREFUSBzNTSbg4Sw9lGJGyYY43rQUIB3dXDPMK4maVYSplFPB01jYdf6iHFH+7tzS1bJNmgKtaA9XezkzJ0D3A5LjTxJYW6hB4wq3oOQxSqK/iSleKF86P7oZpes/isc93G3MvjP90czUmZcZ0H/MR0vxBgLpDJknc6h0bXs4lWQBWMLXTngZmuEfmH79c/ZbZf+Zex3PAioXsl1uXe1jx3WDEkhd/c6YCkl4tnXCM0WY2atrvuomKmG7pzib7RZquySq9uHHL5+twB/j8g/6Z1H330kDMxWe/7nhrK5f2gTQ5JoChIJF+q4K1T09wiNeoPIqLn2XahHNBClR6+ea+2zPs8lpQjps+WyYfmGbFwSI0OYKXeovYJWrKt6C5PMWSwwrfB56euC+ET76H+9zoON15iEg99UbgQw4ywpmIeGmrDagwuZ/LLzsAlPyTfNUgSm2SK2PaN5H4pToQCYGhMMWjHkaXiMj/KDqQeOwSCCiZBV8KwmaPKUHniwgL/S7JaCmNd7KPx8lqFrykot+hmkaK+/VivNftzfRfowFhF1ItM38V47S5NI8rJeAzBun/xfZfqnP6hUG9GFK8yVjvx+QfPj/lOydc4P4wQU9SftOpzGXH+BKAVohm5LzX2H+mwmInFOHf5q2IfxSJH8Mki9bedAl8Fbr28eEoBKKLVEyTQta+ROPWTJsW7OK2X/ZvYCuaB574BThYujhKkDD33CvWu06uon4Xv+3UAXa8AAV7lY0/5vVmsbLZC4aECVEAnCuhKvYZAYiwPA4rJvDVEMxZPYZd6O/ebjZMpa3vKF/AocxYXHp4wtPO5rhD3X91Ewsm/0JKnAnXyT9ZcuI0cpm+Qc0wAFkez26o4eX9NMOBABWxGmVlyhwfxcFgX/DcMna+ksdfu9+fukjANJmCLRJlmi+xaZMfOGbs5Ux2QP3BmZbcp4odwtK0L/2NfBGffb4N8MHJgPEAYCGJn9nXv6wrJRU7TeP28WfGyckcOg/5jwOy45JGwrQwmWzdrkEU0pebzMuR8x/CB7AUnWoJBTJNa68q5eEKpdrUpsUVIWe5e95zIkpcfL0oWS86L3PHqLmb5s98RzEM3nWgjCFkx7OoAgYqqBZ7aaxr3wZi6iHxWidCQLTHjNjN79a3gtpVuv82uyXAEfeBU+rmxkohybfbEanzVxrjn/MGWzzbh6NLn33wGH2BhmunLfiOfj4sjwwYObS6Pgugsgs/1WcDV0Iioknj3oOm7M5T9vSUafknbr3QOY2T57J2mdGHP9k3hOyDmrgqtq/W3WTP2enYT4KbdIkffjz68ZeaTgcuih8aLgEhKI+EPtBec80VkFzG7WD1y+TP8y1veRePRSUbOt74b1o3NwNdLgmBibt/fjS2OLhYK3tMDvcxykNz7bN17aeLQNS4jbpNrKu8ygbmyUUfJsWbTkXm5wHIhRHDZ1dyOuT33/VJbei9WSQINR1F57Z543M8ZoYQOEEmU08vMfiecobOrtyCzGfjV4iJYv+UG0NVB79zWCAK/mq6rqeMzLZUN5glauCgZ/eNg/SddAVVRR8fEMQOD+ufOBtAnVNcJodKPPBe1FkP+Y6iNvAQslp+db08/3wtO6Iq4ta9PPc/5C897E8BDAYYQt9mPZKqML7QdxgmG77sT0ufDBsUD6ckNuFzpemqC9Fk5Lc0Nn0mjlOt09U4PLvPf/a7hrhUU8AvzYAtW0eCpePIMj+9vv4y0tVV9RSfN/dfAgK3zj+Kb+ee3ONbznPJ2e+nlEyfnNqzXffvpZegFPcc8kjVH62AwJIwlkJGuppoLPEHuUQfydFuQpXZuoZXzaeo3qREyO5c7PP+Hc66Sxj7bri8c//NXV8skP4k52uJzz8LLqzyTur73ndkgOZn787BrB0Tl07v7Hc8YxvGgG9PtOlip9DVQxA6e2qNOZCdQeLJ4DyvePPQ67/mQuqxWKhOxNAt832o+6yMp+Fa314M7vKx56koN/m0b50EcfanbzYA3ga8b7UEEjmmOZ/ojjRL3KwVpxz7VW7ktMVJyDQ7rdkupI5C7VRwDe++9hAAIEbfEvS4SIn4HVjlhuauS/EGF89UavBN6/JXmd11v/yWro4K2YM36lmrWw63NLcFe5IHlWcm9Un470R+y2eOz2AzLWtmJfCfc4WDHF166y6nHWmKKmm5nBWeBe89sSik9FlIhOvxYuKmSxYZmB5F/n4DUO85BvtxT8POY+lGJHcs25ehaG2tujXWx+wqOwr4Oq9vRBhVqYXmGTvkuUxalnxMLvGtmLvpbQU6879hFHmATytWLTqQgqv7kZFO7mq6ooH4EVqftUlmOCriz/ke1zIgPx8+OeQt2YnTx5mL6brqxhdd9vmK3Lz1f1AFwrd/EQVvl/ieEQQuBaJHggiyRZAgQ9XV8DLAYVI994bF3toyYRftxFp4GODcPr5jBuuRzdX9JvxhGjoBGIM+vJ2Zqdb/qV3LHrGNow/rnN9whlvOIelAYYNH5Zeiwk9sQYVuhYReBTNWEXhpJlkIAo13hNWkJ2b/ErnKL3NFDdN8s+tsrqRa33vcifgLsHH9YL8CR/gxmt72vA+wZvN/5j0tC49dAUnFUZrvQHYkrIP00vQSUKRemaN/7hRb7YsBO1OKP4QmpPqeopcjUUzZLBNTap6s/7U7lQXCtdJ7fcOYtty73hDg+gnTI7rvhPxAbKGXvKelD8YycyfkqzlQAyAP5NKDNxcPMP8HAMKr+Az28C1f2hLJ7le9gwgX7+MrwhW1QxH30+3Fob0Htq1zGSmF9C6xkF911LMfbR2W34tNtfEKtcozsPHJeRNdUXf4LY5Qv4HObdAwg809hVdAbKfDy8BGvSbuhaZ1cLK8NrX6t79/NlwciWXtKLov/AC9fy5/bb/ugQ7kogSm2dT+ocQCQhkT4YfGO7wKZc/03YCNyL8p/LoutIZYgyBCTdAowGlRG726A6lqvx4SN4nuZw/63Z9465KDlpbQfNY0carF3uBXoe/GPo/ISJFAqT8Mvm8ETziOaCxP8nZBqRdF0OAcgOhhFle7Gyi1rkCe1Iwyg/xZ8VOd76T+WNVpT/qT0DGwF9Rz+KVp3VvLID+w8wTAkar3z3FlhQhsstrrolz5b2VSfSvzWmeTZcSCiaWPqfG/ChBgFuwbvjzPxvOLIB34uuxX0HLnNgKXlQaeyl2qCikkg2Gb5ryv0rmiQ5G/Cq8T0XAQdTNf28AwOuBxWIASx9XERYQCgubtn/g7nvJYOau1cJj4Q063UCNvYWdgJhqLxr4yvIgsPRl3aeumnNi+SoZIyQjCDf5nbqNrISFESWtp8UAMh/g5E7zoUXI9tennXgh/KyeMP4UourbJXLC6lWXOYP1Gb67Ovfyk9RtTy5QhK+XHFSMH0KueJi9pcknYQhPumvStaRGWNYr+V/XrYRTBXom+vOXUferqlQg0S/ZBq18V0/0AJSrXUcYGzhAhPvrBoGXSkyliF2Uy1CaQX9AOO5aowsvsuuPx5CWCAe4dG1+5hkJSPEDMhHgwrcvj/5cpcmY5IoQtA2vkuOP67IhpF5seFy2qZP626Wcm2jOX7/XNcTuqdU03yhlfmaip+gXz84cuTrnDA14n+1Oa9PIxUIw2GPnFlaEqgyCFfFhONHfe98zcKFIeS67tvurwER8/hh/xCtcAcSPZcXac/PKOGKaxM/H7vrZRMZCZR9azuLwheFCEHJ6iwtMlcA1LoIS+beHap28OEUi6l6g7HIa7iKsF1+BMPrvB42ARVUIVspu/+TPbGkw9kZnKnmgsHwPZwoEh0uvWuIKtQWwyXUJXG/ptDxVBBozo2PGmqDozyFVpwGXHp0xQpUnZKmBH4sHPAf9FbwqP408Pv+zbiJWdEroG7tBbBv9RzsH/Ls5gfL5f3/+/f7nh3DvipLn7yN0Mfxz+Pnjy58ffv7788vZJHycZDiKDsEF0TkAQmJ78l7oAQDdmDAhuwT0M+gW2E8PjfBLEeaDRRz2p+p4i8Q1fctMPKfwnM0EzYB1z8UE+OXyDKzoM6Z7AJA7CgwRWYl88BkwLWt+AhBUIH6joaUzKs9w3vBfgf7hzcTPcKYAZYLA8Mt0N2Ij336VBxC+KleDNuVX+ePGdsU/QLPoEbWUC2ejj1q/Kc+f4gHolzO0+j+ma+gADQ/nfWG6szWFCXOm8nP9Jq8CifH/nehvglQG/fPYHUPVjIuweWwiAAUWTRiapcfksbtWG3FB/wfcX9GfsEU59POJDT+41+sd/jmjNw7u5vfXGRYvLc8BfZ4PCiErNxkKDvgBVwmIRJVK0D/vB8CZAFqObK6HZ7aZN05eNf6Yp379L3ODPGTsHCXddZRwWddKcL2JMfAYpPz0Oi04qnpJZn+GPygINZtzctUzpIZQDTCLUUOQwsh5BpwAyH6Ay74O4/sG9N8D/duAznsvdHyG7gF0qz9+yXX+9NMV83+d7S86JRhpC0NLFnNhB5aBD1kYqX3a7vIARPFHFII+riUmAUFmWTEYgJEolPcAXPscWhWok4Ceg/64Y4ihlxXH0g/xj7Jrry7fFy9OUjLMBXpIYzUukSuy/nOgn2gjs2co5huVxAA+/sUP5UfPBUJIAgpwgJIXtMIDIHFsjkczB4sH2ANOgPhlEv1XG/6baSZAb+ZZ7YgBLAKv1RxDAgw8Lkpij2YQeDX0fxxCBP2MK8A9JMwN9pn070X/4ZXq4TslEiCif6flWkR/M+9phgy61QCOb7lOAsqjvzJdgaGjrctBuSUM8I8CFjqs5EnCywHh4aIBBQpNrJ8h+wzTF+k8xIkJIL7euELhQh4Hvu5QR3/X0o8i1iiIbypCs4QfHbMIwHEycAUwA3Gpu9B/dRCY7MfFQyUvcnLLSg+gL6s8ckH20mEKJiINKJa+PtV8sz7Pm+TXEoN77jNBS2y9zsxMAvq4okIJCAnzH1rDuBk0E9A3KcEkAzMHYXaNqHMClCyJGRPof5ZDv0gzq2Gn8BD/ZPClcCiNEzJlnItOVRe44TH/TTL435dKDOMaOJ2hoQLlyTgwmRPTFVCYzJSAhr/iF1guAc1iwtCqk7j5Gc5uAk12iqG/7gTMJpwwAWSBZX/+jzf8u0f8Ge7z5kKwn7ig4LvpCnShMkCfXDEODKHWaZ3aM8vO6rT4YAb93nhA4OFTCh0U8efjT1IFBk8VW5gDvGQwE4KQ7k8g/u8M+kX0z8SBzf3AY/jj1ghw+CjKD9fZ/m4C6KNmLEv5ICDWhzUKBbaG/0VUrz5JbC3X9LmGPpyHGT6KCn74znJ1Xsz8GeL+kBvIl+EXz0Q9L/orqG2erfkrUQu6XggWOAG1AQAxBoBlEWCTkEwnID96qB30P+KuSV48lyn4B1yMeq/8bUJYbXEsKmx/RE1+sZX00K4nNji5unVPrZImq2T+KBfY5X5w4nsbFoJELcgLWMpPOO7PPIAk+ouIT3jI6wfoGB3GAW/EqBZ/ZqAfe2d3S0A/OUAPYw7/7JNslqrypRlkiBKQ+Zkf5afK/6H4z4LJQ7wbslefVCqgKPdfuZtd6wl6PQ0T93kTCNdrpvsBor1v0kChiSqGka9/mtq9F/1NxOczrEA/aAxgWwRYfLS887Zu/OPC3wDKV8FHtxqoQcv3SB56Bqlh3NdxVtT0iQBCOgvBUvxXeAAB838I9CSpyXw8TBBRtIhOuwMlnQAXJIWFIILRXCZCwleAPwsIcofaDTEAPVyUeYmUOLP35yoBeOFekX1MH1yvkILgAZTfbN4Sgxi5uuZD4rrwZPIMc2n4fmK4L+oqovmfYZSA3G++M13opAQt4Uf5vkqbDgtBJvR70T8TCQj4AdvCv3Cq/8pTBL+Nkhn/mEC8dO68nZO56ertVxzDNZN4xKkbyjv8roehH5fGmQg1gchsz/fTrY6eEEICvAA4owXBUioyVn/AD8hrQUMIm51SQCkKOAFY1vih1w3laakKBhQGFWa//Se2r+uL6oX7Ljf/wiRbHJocn6SoGRMMaUDX+gNuECYZTd1K7+mJ5MiS9dcIVfdRS7ihrlUSECan5CIAUD8gif4BGMqEiIc0AGcHU4LvfLOlsd8V3gA5lvJ2LHJNujP5J0gAJtb3SdNQjv5daAEPKwKMlRJQQP9RcF+BV6JpcDt3SKImMor4OLsKvn1Mlyd745eTaf8A2QnwSv8ZPyDPB7PNPtCtW23MP36rizyFsV/z8rFsKFHonqj/UuhkBvquC4+3g75+f/08xMdOF/GAJQRByARdeuNBc/+rcB9CWk6fFMF+nJgouIf7gHZnB+mh+T/Tc0xl3ywG1oktyQEuLSjmB4iU4NpsBuVcBRpCrWkd604AZwLMJaBt6r8XfEWJP3bc2DbIt4MmTMCFWu4BYF4xq+NvfqK9jPIR6I7hPgTTlRRSdaEBtSIluYiBTwjfc6d5n9eTjOUF6d6ArueWOAEZIciUdwjWe815yCrN9aDKw9M9HSBECciclqT0D9lEWIr1mZ/X1wEoci0PBsDqlzAjg49rrkoAHeKgmeakZD11IXlxiMVday4Na/lJFAWEFeB2bSym9FTV/VZxgOIKmOjvIgAXGcw2uAK363O3wsUI9RBFWgIqdAhM70rhAEXzEeMoVaOyHfQM6K/EAMtyV9B/3RLBSbDz4gs0zT28dDBBRt1STrZX4jzd5bbPixA/zAFdDgWbQM8JQIQnPSowpAEu6fR5/r7+J5lDgqr8TxOjax8MBZpr/YDkTnphO+iZRDuDZr5N17Lj+64VIr0o77L6Y7gP5/qRw33OYJ3zQSa6q8xhj9brumggHGeOcUDXCoN1g1pxCDjW93lKqHlcCC2DAjQghgpc0I+Nw8sB5mMDZwSYPHKuC3E3gwvwRGYP+s0o7F08REAd/atwfwbKxHbWkVGpqIgp/voLkyz+EisAulAZ3oWkvYAT8PGnKPiYMJ0hAy8HcFbI04BL8eieGuDaMTw3/dEt5CcF6PXDpZrBzRBf8Qkg+wHi3hRKyDOBWNjMJRTx9iiGPyYJ/hxhzV5pGdCsHfmQgPfV8hIA5FYQMQKAs9kn13lm4g8BaPMbFw3AI5rPfrJfAgooP0j3/9FdgTANLGwG1ysWCPOi/4owgIj+HDT1m6cvogva/0Dppya2Bc3b74GeQuJKkPyIZszDxB0Fp3qoJ0TAJDexfsgH5Etu87qYQ6QBfT/6ndomAc2muhC1C3eijCXN4FzI3uUmOSYZoMJWnZn23sZ2gXum1EkN4Tss+3R/W9DZdIlXrRQ3rAjqxu5XJgyAUL4//wb+9FATeV1IXU4DECz37kkJHZ5zofKDO/r/lD/YKgEQ7O5WNFhBbZ1++rwaoK/MB/Xq+5mjdGFtgy4kz+j9IZBYOd3kgy5nNIl7nvEc6YCdXEY07OBXmf/K9hz4OOjritMiGuBcBa20SueSANaJMQBy2q7zUbik05xj1yhuBQFnGk8gDNDvzgctfLzE6KtZOmuiv+lDYEEyJSGDrjWScvX3V6YiyQEBhbcQ/QPhAVHlR8jwr6UBhQkCrkAtE7jwujYAoIOPax6yrSAyNBDY1eoYgFmaUEIJSnM0zgdd63kphpEx8gOqLjZ8I3QNqi9bDACWKdeFUHCPZn+a8QBFwSB4DcG30L+EljCKeT3XkMZmX+qovVT80TnAhXj5907cvqwVRAw3C6sBFln9fZJgE5gfHfdn0Ea6PsDSizCvB+ZtomdX4XraREAv8Qxqc4G8KlDMA5gBq8v8J0CmsIgX8c1jDWmgW9lBLreAEHPSUtHFHziN9+4MABQ+zBECMF/XviUM0P3JoEnGMqHfi/4K7s9kE1HEH/IEqMRkFuLGuM3FAX1xEV/hwpAEfbonDXSFHGSimIL7i2gAVofRrrWtNjG6XAsSWadbCQLJB+/jy56T/uME0OlC8OR97rkwgItRAjYsvx9VJUvD0+OBU7Ojw4wnlKXhw0+qPrdda0D9HPRH1AkoJAAINVziT2JHLKeBbnWBdvEZoQQRzWP6TwCvsSsAECODVZXAeRqY/SopBIWD2N7LNyuTA4vx6qVhcKaTYpm4vxn0r4fr0cjT7E9OAGEJaAUBmFKMCNkraKBbsWiXEyDShn73Z1Z/d0qCOhmEoT+z/cJCMJ0G+A97Lhk0ds5/j/VzuOiEPwpm++U+6slDLtkF/dAWnNnzMOTh/uclVD0GXVuuZPjYXP80IRvOeCz87SJgtSDVjy5S1FAFmulCJrjrpjrB68BjYNIAuSKXe10C/d6RbQXRrQCA8uaX+wEEL/QbEChenR2ue9R/0eSHENrlh87rWjuf1CH0K09sUgJyoT/kYuAMIns9APOISNd/EazXmaALZcA6ahc+kDMaUJ4ZQgaKpEP+y9R8lBkoWBNY/98Aavdoa2jvew6rE7L+PHmzPJWT0f/Uawtcb4iuaAX4YBaI7kLASXly4PQJys1/lEaDYx6AyQcivrvEH8hNimY0EBhYM2L6T8D271bs1/u/xQSQpIq+sjdcAPEVuEQidAyPb6E0AkLaCQjwmffZchFM96wScf2zR+sTqwhAMf8RqgwoJ4APbOV/9lxggOgnik09+9W9lJDhgO4MAIRhfRUB9LqagF5RFIaJZRpo16M0xXQhJjzOhNjEn6wEqdBY7HI2azvbHsgMAfANhh56wAPgqJrxAFDaDVS0+s1tPv6r9oYqXojIH/xsS96ypAJWTwBE0ukVrYF6rihsCKbmBMV6x3tvgNIxtM9DviiK+saeqlsSNwOI30vXCCongBItyJRcAkYxZwVRt4HHIXAxAYSy4bAToNNMv3v5F+W5itFAUALqztUi8zSAtP8xBLVCw3/GGSIfmE4AoQFy8snyrhXo3511HvpDNbsF5m67EElL6j8QJCCTAOBs4FyuCAW+FJnAdYYiGZCNMwBicoBXCNIP4T3DegLoFW39A7tSmKDLZag8Cz6jKnSa1I+EE2CecJXVz/lpxVNI7rjpTVaZBeYGrtf7LQSwgQa8DgHkMmDl/hbywUwOMjmghF0W0UBlIVjsje2JkmDXjCjxUlSb/xz0kRB/ZtCPCsv9uts8svddizZ3mjIQe5dEJuC4/4EjAQloEQHMJKAVNEBQXofjMDiafGC+F10ICQQ+DB+V2X+5DJcyAjBB3/W/PVQSHIB+U0DHYvOfgz60tFER6M3ER+URh1D1rqNwWOfRf3K93qRy2J3pfd3KAYWWDtRDAeFaDlBoAEIkwAT6AGTHhCBTmCJonn8LXNBPQN/7vwsJIOZ69+gy8V3I/CGbdaGB2gbLtCcyf+BsEw1tPUgR+mOPvjmUSq7uz91U1pDw3i/+9ioqEDQPwCUHxWhAQdvZNzHbvwSslbPV76xIb64XIewu606AuZPAbCypA+jOwmBRBYIW37v+pFtd7/uCUOcM7ocHFWvHlGUDzDi2NxCqB8a7J52/j1r4JTV90MYhsWXdujMIDFkO8noAJQTQPflFJuhzxFes76SzwvFd93WGuB8jGP5UwOkEJPG9mAC61hMi+Va75CCC8sM29+Wyj/eBGGJxp6I/2YkL+mO8ldlh91d4ifvsl/UAro9EfmZEkz9MA11uCbeBAMxzIN944b7qnQrvmTABZ4USMtB/1SdibJVOVbYeQIA/Pn4eAIKf7/bQ6jc748dmLYOnw4N614YcTumKSyjZJ7/FJsf06kLfwLV7CaALAYAPJigkAFMFEo1rXRHqWjFwLx21LHK95I/PhS9FnyQIePef9wxW1QF4Lb7uSQHqE7WXC0fcpt6WoDIE9B5aGxLVqfrXSfjvf//7txnqnz9/wigfeLp6RfvxDD10fxjAxHoXAXTaJG6dEyBKQIQGIJjn/RljyARD6M+4Bab+Y0K/ebgYDlTWAVzf2z5PDO3+lFATDa+wOIP+G/0AvnqByRD8++RZdXmFMuWpEGG3VzSUvW7TE02izLcXfj/AJABQseUWAuhy/074Y7/Ded5p+18PSpiAcwOBoOGf16erz0PBfZ5vlqeBf6omcU9h8AduchUIVquc65RtDgZwJtMzecJ+QDmRFPoBCsRjROGuXhGu+9U96j/8YYBCDqgiAGLvQwgIuySgGGoXksT1bD++D/PB8InyOgFJrC8mgIzJ1hMpodB0fwjt53oiXz489PXLuhDy/ZhP75mUqJl/V8sRxb0MPQwX/MKkCGD4PMQ89wwTXDEi5gR4LffA/5o4a4I+x+gAjoexPkwGM6lHlHH0h/bjz5hd33NhgHgdgIjsfU17uCENiIuFmX4AVroCLi1r+BiVZPs8rcvb7FHhf+rPpOuNrUV/yCmhXQ4JJAmga+vMQOvrMERzBeULnxxdXMrQwPAD+f66KwXZt+k/KKwD8KpAvWKRgCsNuJgANAi8Ah+9IQdi2CbPYYXtr4TllYchRle9qG9gHvTDBKAgPmQBJE8AfS7lizTQtwd+Tbh3ORNeGiBvd9IJWIROBQTQtU7Rym97rktot9R/U37pzniAchuUOKpZ5WAeTsHQRcRm3jXvqdY+ivmb2KNBYFgqkEkA+zkAcmPOLoSIAyZ/Uv9RzlY5OqGB2S3G3CEgT5oo7/RcwGAJAXRP7kdABXKdg8sJQFFSkIskxBXkr/v30kwM5sx99stijcNpjz0SRP/BPH5zPVXTGggowia+u6AB0cJgF74rSArNCVC0HYUbYoAeJgwInZRc74vXFZg9JF0IAgcko60E0IWcTvPnXasL6852oV1eP7JHk4JcMx4zvc0l3VeP4fK8JvpzJkAuTainu0RkfiIygU4DiwhAhN0S/vg4FuGGMB+EaWOo3pBtlP8N8L3iCsT0n16xiFhNN1AT5Xs0I8j7AZoE1LW2EF7FppYtNncrmnHPuicEuU4hsy+71j0wTADdGQ/ok/CgaVF6hSAdYRFSh/SNyZksemiVE0O0A6hpwpuMPvttRv8pQYZ/ym+D2B2612UEZeLAPVQeHMN0F+KsyNLqKZpVAAAgAElEQVTJLOry93xcXlcA2bunE5TONIFLHm7Qi4LAXc4Fcn2pAzf8HgABXPKlTkvlfsDw9GagbypCGb53KT99Zf/nMgLodYu894qMIAWMUOQELPIA1pn8eaM+gMJ9nqwpeofkJ7MLJBUAsZuSUYEgmIQf+OJVfrAxRAyP2rPH8J8hPmEmUGWmy4EB8QEwv49NTon+A+A/eVj5++Hnv8MvP/5Vvpz9Ofzw8eXws/nnh3jdLmPRszs7aPI2156zaAiDxtDInnuob6J+DoGdBy6Z4zsSTsAMiwMcAKcHAGfIgYDyjU4ArGpeCFmkOgeYlDB7BcjTUoL7f8e+LKDZz7unRWi/oyygCy05TUy/bklKmbqzOQQ5dInx1UNBfnJ1ovlPEFlxGjDqFp7nPK8Z2OexQVhxYDjLtVyYW8UBnUZ6Z9+vgHsI9WgiDZALGeo5ovmfdALKaaAyBtD9qwUoZABPghASMWFUK0Jd663mAuv9i7N7776O/uaT07U00GSrCWWuwugPqgJ1oRogwAH7CcDrFhQ+dfwos7Ny0cD1h0ib/z3R3aFwJhc2g+vCEjH9GWUB4W5xyTthSvN9Wc1U5ua6oLZbWbld6P3HV4XrzmxgrFGButwW1JSAFA7YTwCune9UgQgrDL+H1vIzb27HlB+RDEpooDgNNObX9+pQcE8nhiIqB5UA7tPQv086vunYjbk/p9AMaGNwF/f00uhClRPQrcYyLvNcxFxzM/3QHOsJQC+VfaBV9nZZf4vdfRSFf3td+v/fkQoCf7yEs3gv/KFg+CPA0ILDYkx4+A3m4VnvjC2NJ5dTUfk+iTDaPbUXna7aAU9Prp6I+OmgEOMAr0+wkwCgtVsoFIICsg9oNBjz9s7dyufxCkGiE7BNBdrRC0j5+QOdAK8cpINX13rTxzo864Ce7IMdMP+7vAho97ST+ztXw1spzja0rKEY+rs4AOudAIKkAfNfN9sXaT7QZJ+ZidCFxb8Wmf9djj8tUoGKC8Egi8J9ZYe47okE9MkyvDwg3P3RYCXN/+NilfhwbNGuIbt0T7+Hqufk4wOJCnQaVFceldg70/1yP7QSoS4HAxTkhT96HHAOxKNw4E7ivv6/MyYY/olJbKAW+r0oX4v4CwnAdAW6JyDchb7wyDkBGQ/AFVTMB3sDjeRMrBxuI55kj9brijQg7jDwq5klZfpDedsftEWMSw4ywR1aVdQKAphNe14F4jsp8QBMUShz34dw32ngd5HhX0wAvSIUTH67yAnIFAkrcooLX54wRDx1QTNCXT+HbsGQ0vp8+eifS+h0qzCtayWg+Q9dyweFMz5pcgBkuxue7CDIbodOPzE/YPi9gvso7frHH7DYK98XhH//NwqCwB8IGKsKRrRCWP+AdJHwx/XyWK5eP/xBME/I/OFvBd+SXB1/jvVX6wqm/A3sNBgYmBCXJdi1xaTM35oG/pMJIGn7X+97Fe53q1PQBvO/763+/TnWrgj2ZCeAWP3dExUAjaaS/yKT410qsuQR4RM+XNdUXw5a+cY8n+FVX52JjzlU9LcNNDB8+Xc6AQ8hgJIx44MZzQ//nNFA8o6TPzPm/yIaqA8Cm3yg/Dsjg14XCSBY74oKeG+eTorhot9k54PZjVMKfcU7rhC5eUrQGkJ0OQtImeEw6IO2Bgo4AV0I8wbQ2YX+Ch8sghdOBkNwh5ze8wTzfxHiLyeA/qrSsBIPQMTunl72Sx/epBd+m1zmf5hmMK87U8z/Pm8O0a0sIELtXMKKoT9ucgJEiaaWAFY7ASUeQAn0z970mPnfl+n+qwigyy0cRPN/iE1JJ6A8L4jcPBdirlgAoPxWurQd3fz3TkX/d5h3uGf8uzhAtKq6VQpQ+MHlBJhkUKUCeQmgywVrH/MZUHtme5jhPnaJ/thb9lUIFEskoL64NCyP/oWNIqCVXw3N2F7XWCLzTHRPR34sMP/5be00X+vqAZiN58g92ob+qHACFAIQty9B/xgZmE+L7gQouL8I+hHK+OT0UPiOz8Z/yvco5v+guj/Ex8vPP/AEIfNPTLKASM5PTy8so0x7hjlmlKaXIHRhPSx+XGipO0OLcvZ6Q5aMOdBUfYBVETakhBInIEMAEMrKsEwOMrmB31DzKepCf9DZ/YJH8+l+3X+pCnRbEFj5efdEAj7+7HIukLdUWAFTXdZfEQDgd0HZss8bOHeavGReSK+uJe5WK2mFiQM0mUR/TBQeCNUDOqYj6jQE0L/LqxTE5l9UhBSLoafr+2aP07vMf2xrBdETiSIEhnooMIB/lwhBDgl4wWIIjrymKTPzisrkvVkmMQx/2KPJP31e1TWcsY9n4zqfwxtt3q9ZxNhr4IvoD2pU9tJIgAjl5QRQ4grA8tIQFf27v+i316n/OoyU08AqDwA0k0dxBZY6Ad2zgIyCQT9vjwm7sXLi2NNATqbLxdJVZrvoAnp9RPEZ0Oeta1VveQkIQle4nyAVEHYwkZi6HJWFxzOAEHxG1Bsgv3KpPWGrf5H53y2ldJH5jxUxAExUfvjjAbFIQKA8+O8HXicsFvfqhJFEVb2eQO9iXRVLUIwd02jq8zbuQ6w0XXuslIBilLDUCYClGiGaFzSkDQgegPfoXVgAoGvhorzVj1vN/xVjRxbQOiegb8kNdQHE7Kr/wqvX6u+eFnIrcklNRyHzbECw5ZWJ/dheWUgy8LIl0V9xArqcMtSLIgGoEH9EvulWx83ZtJuswLUg0wMo5IAZ3POHqgvx3hWssFACMpmAY32Xw8h9WW5oDPo/sDhcTTZkiO7X9E00d22g7Fa5mxkhqNPFxYYb5N+ictsfWv4PckIQEk5AGP1dHgBCfoD4/Qroh1+uyZj/S72B/6zbNRF54GwPh6gE9IGhem4oz/scKkguHEdFDuhwn8puk4BYjqHdaio3FB84HGyTgEpAJOwEEBgdTl3MdQh8adLV7EtyCzrtCUi+n82q6FeZj1O39E/+XN1l/mO1BwDNCehregRlDP9OK7/IBcJj+5uVR0PQ76N0lysxZJ6Y7in+6nLyj/6o9MkKMOYT5ZWAXLNUiP4QtB3Mqwc6je4qxrvCAQGsFy191NWpXXlOh35UaD6iBCRyw07zHxuygPif3Skl9/XxAA7NgbsSyM4skX1EGtjQgqLLlQSZx4A/eyVvVJd7AaHCCei0X01M2OG0oaCq8g1ktQoeP2Ao+3AtaDhpyTsFvwTkeqh20sBCCQge/QelqwXALwRd9R+S/POx5+H16oXEpm6TgcufO1e87OGfBEBN59fUOk1Td4YvoIW+ynulv2NDKaBQUO40EtC1FqEBAphNoGiDi3wgEhW59QTc9S/DKpAX9N9i/uPeIPAiJ6AnqsNc+PgXYfu/C446bSbanVUFP49CdguPSMX/t9cV6173WWX+kz8x0u6IoKS/b4USUB/lqyjSM4d7VFSHmeShfyOe5GwePqaIXIhIAzFXgFg5nAmUhxn3mf9Y7QFgjRMA/8JhEMoCuNXvumSzrZCy/81Lg1VpIxnzv8/zXmbmv/he8R16p6jqAxKRgHIC4GgbMP8hh6Ax9wPE23H1/4bcELtH0LI8dcP/IeY/bg8Cx5yA6297Ohqch0VzLYFOQ7vDg7oE+kz6/HWzXt20B56+TOQl4U0gcOkDIUbyxTsSQ3ZUOAEQIgHIeQA6+utw7xKsXKc08yE6rQvzfgh4Ay574kbzHxs8AGhOACqSQRFKDI3J/R/nrKj/Sdtf7zzKH7Kw2ct37jL/XWcSM/+vJ0lUBXLQK6DAoyx7qWKDChRA23L071pMGJYfMNOCiDSU0f1N+z3sBNxi/m8igDD0r0B/UfYhQGzy3PWHZD9hoUk/GeW/dCz2nkmnOf6dNn8egu8Qi7uQnT2kk+S1uKICJlWIQvkQ0XQnQP8JuSP5PyELQeZdG3pLELqPoMLwFyUg3VjZSQNbCQB7q8My6E8SK6/nbH6G1pBH7MI/oxD90anq7JZ56PMhhyEKiKrx7LfcJ8igvw46ihOAee4/JwAdjnWHAFoNsMvYd13RdUKu3DBki4zh75WAHmj+7yMA+MO/yElAM/Q3CUDBR9JR7vqZ6DlX7J4V9854hcO6KXmbUTKTokQuUVTy65bX91x5VbpVYQshFDwDmiT6m0Y9qBVMwJGjakCQgRYPKEF/RdRSiJ/cbpHOw4p/wB7S3dZvIAAsSATyov8QfE0FZgjQejNRVOg84tPAXavAzhVDXn/ExcsZgjJ5M2cbd9pLJ3MXym1/bHECrtzmJYAZ5obJAFqfOwghAVM6M82dmPijP06mJ+F9319JAKuZYPYlN/9NlAxA/xDx9WDDkLSGf5ooiai+xIHbRF4TLl0PeqfNNWslIB0vsKbLWLfaw+lWs6IIwXIshhOFnCtgHj1JA4SkYxygMIHIE/fi/t/xz86D9VxKaNeazPANSAvM/u+KIdLCoU0WFOuj9E2ehtjoSmE6p3485UqjzZ5I9Oxyiyfzt+IL0OjCL8pz0v2pUK4o4k70v+JILQEEggHKZ1HkcXkDhK2H7ulMHQqLP+HNTFr6NgIIwEcX1n3t8x5k3SpzNefaLCMAXWDy4yjKoa/t3vbbBbFb2XOlA12rWL7e4g+SICCen0nFusx/4Kg3QzrRmnbB8Tb0jxGAAqNmVCDAAQrcx2IAm8d/9h9yRUoo5kLQTO0Ru/rA2U0IVucfcbc8qrwinNDlYkj9uVfeotlOhtKzeWl8/14JaIZ65ehvEgC3ZAnClhPAcNK8ZIBSP+B6SpxKAxygM4GJ+M8x/3GXBwCPHNTriodnp9EnlbfeNqKK8jPbPkal3Ur3JKJT4ewV3pHZW9EmHafFs6p6zUQQhyb1zH6VUYF0zcQFxH3eJy6D+NB0Ho7+fdL8p2t9NZTbpBgfCmE8BPf/jv/cctQNDYJmTgCEVVNcbUSvH4bGPk/3VOLJfCYz2JoHaNfOFSlDPCJRgT+2ueJChgDy6A+hYREsm9flBMCZEQQ5Lyhj77vkfi8NwEqyCnCASD8KJeCm1M/7CQCLa4M5AZi0FOaAWa4OwXSlkoBQi861GZ72EkbXsoP4HmZg7X3bRd6qkoBK0B85JwCCLW/iOPx5QbACyAH0V2jAfCrIPsVn+PvEn/+N2ySgv9fsigYnj6WjXo+uKfaxk5/fdCvqq+QUzfaPeRA1o/mQ32b0H674zTbuudSjqjdNl/KTH0QnQKeNTDAA/oSiDPq7LhmCEa1HEThqux4SxZe9S/z53/jPjcf2OgEIRX1hxVT1k4HmAfzc+VDGEbFSb/12pYfazkLiK+F6UU1snfnp0KqFiX79WPSH3OqHoJWolngJQKcQEd8V9Ofnj5GY0+eFAl75aPhgB5yAJ8cAbvYAECoOmFmdCkSSuGgT2kpjXg2AeQLoLNmf5I92qxZhOF1khvuCZV6q7j7Jjp3dEf4sdU8v6MDrFwsnemkg4wSI0BnwADAJpVSZ/C70nwE0ua0mag8tjy/D/b/jP/cePm/+86gvhCad4U6imMcbZhcIZwsdWCmq5Psw3CvSf8w77vP6ZBKe1U08WCow5int3quA3wkwsfv6pR75DBjIIgHEpKQk6HtpIMkB5sb60/6K2O9TCABRIYgrP0OcNZWfsBw03L+4vZL2o8d+l9r43ZPzYD7rXSgC4G8mZAnoSgMmuCfRH3WhYGgqUIwAhjMZJoAb0V+hQ/7QemMJ+Aon4CkE4GUCl+Gvo7/uAQyhWRT9zcqv2ZdiIbGO5uZ/ZeJgGZrhkN21WjY98GuGN9ehPwRfQYdjyGpJMho8vDuL0N/EXEXPMQ0F87ffhPsPIgD4k0GJ/OI9qNlIjvyp0E9AltEDG7Ntkn4AF9mR03/IdXEL3WWgDZEd83RP88yJLrwC/b0EcN2VN44qQjZCKtAiGsDcFeBc5QJ0Xah5l/jzXALgmIuJ4Q9ZnNHRn8cAeG9OLvoPeYsnFGWAu5ADFEoQX5WPAMAVo02s5xKQ4kwM9+l9z8tjAF1uC6FrQbDSga5sF5CSUO0H6HitmPZECyLPD/HMkHACnjAeQQBIKz/Qgqte9J+dEtd8uAyl1PdyIO5W+7PYM2c2EA3cVhcxDKGE0Aw5ye4v/SWOAj+lTrNH4AwGmLYtJ4BulQVwAvBGAjBXz1Bn7OsXHlDDXAxdK/48gQ/uTwP9Oxdmjc8Vp5q1BtY1pZL3DTX/63p6/d+5m8NET71pD0khNX+LXM3XzvurE0wP9Qwf/jBz8grTDLe/UQXSCWBGe7oIjnnJxTr0169d/4lCGLMnxCX6nxjAFNl15QfU8M8oP5iL/rMzmf2cXAtodRinN1MgMmnDu59YAECBOaL/kLdLCdXqHkCAEtahv6m5w6OBiNvwUDCskLIoIpWgv6L5KBsP7ynXjlyTj+eJ/s8lgELox4KF5nm/NrPCAFpS0CyPiF8j5OKAAMzBkxKXedaTJlL+1VLiw9wwXMEESDsBJnZjrgW5uMcbDc6jf9faQihIbdI85J4/5p/PoYFnEQD8or+CiRkOME8DmuHPoT9wIXl8v/cuX1OATAYKxABMiIcVJ+B+xlL0X0cASsDcG38eTtEG9Bct7sDGOuK/Ufx5DQGQbB9zP6jwABQSIvzBQXyYRTrDNU4Pz3zCMI+OgoYQOTHMTHUSB1ZMNv2KsN72D6hASQLIC0Eif8Tg3hXUXcEB+CLx56EEAKfhT/yAPAe4NKiZeS7+kF8RYTjz8l27rX1YddvH3DJg/gfUfyVmEIgAI60CwSPFQIuIIpoSCmfGvYjjYfQXQRxRLWj4EMas/hMDiBCAF/pRtLaMiP5K/NY8W97HYrifmP7DS44VZSZzZxHVfwJ8o6M8+UbxMNahP6JtcPSUGFgJnV4CAC27LYF77+W7OMB0AmZ3By90Ah5KABn0d8E9aOwXtKuPK4wMGmBwlTHP9qkjfh5DZy+ACd9EsBIN9sA2RMfXvYR8DAAeqQEeFUiBsD6vb+IaDiryQQvhXsnSQUKr0R/4F2n9LyOAWcGtiXF5wx/zZnPQ0kZnF4Ko/d6sVQ1ij9pwh1VehUIGM1QKxHJ1g7pk6H4Aoua/GQ2O2bAcMZWMIDg7UnShtM0L9F6rf3YvMn6D1+o/MYAgAQSgH2nxx4v+BKyJHBRQfgL9jgKU4wLBFfvpQoGluR9vDKBPxuxYSfTXwUu0xFEnBF3nBJofAK1Guhb9zYAwBJcr4xDod/8QgI8AoGW4i4b/OvRXEv9nMYYZOs/EE7OwAH73Agv0yit6DsUuL6yHGWUG7qYQNPuVjv7Imf8IVTl1oZ4AWmkYnOlAoJXGMaAX0b8L3dzMFAPznrq0/idrQY+OAcBZ4pvnABf66+czZDhT2CGqURutCcyPGKOHwtFzCaBdaPFGoL+QYERY0TGIo08+EpAhgNnNglMVUZyAWvTX5zwp2rzO6n8HAZiwVQL6sIrOIGeg8pZwHO4/zPAhYZjYrUC/yDSFWM8d6is6E92Ww+Lml3BREBiaoRoOBSMXEPaqQJgwfRXEd6syWZ9ShTjJA/Au6f/RBABL0wjo/siJP/pulaivnt3ENaJA8k9JFXHAoB62/u+0w0TslLw5RTNqUWIA2BgGgEf3CEQCQLM5P6bUqwUFgskKuIfRX1T59efnvU7AQwnAhLww6K9A/9m5ceiHHPV1JX2Gkb32qVXEGZMPvCHc2LmZhDFzU7aFAYb6iQjlCi7r2B0A3z6vGwjDur6ZOL3mD2ufwEMAcSbIm/9e3DfRPxD1VRL/Xda6N10q8+CKfYrCWAx/FyByOSRhlJv5M5bqNHPfRP8YAczQahEBYGK5I1QToP+qEPf1SABhAjKBw1/hVeb/awhAwVkkJKAA+s+QVxFedOhX1H+9J4SSPhSjAdfGinYPfzKP+JIXjvIwgBenulaUO0Mx12bQOkN0oU0Q1lv9pjkvykHhgPBbvIE3EQBkYzyj15scwOkEVsUvgWBeQuyaolr3gj/r5pczHN/wwMSOopyejv7ICUFKKFiBPwVV4UkKCoDyftxX3DXvBJrP1Yu0oHcTAHLmv7cpNEFMk2lIH2nlMjnQB5qkDp9X14M7S+ef5efMDu2KFnhfOe/eRI0oFgSG3/zv89ppyG15TGR3beaN5eIOe9+VHUueHP5qvFH0fzcBFHJALNhrZk+2+TpinEXIIgRIizbPXEIg9irqbywXkQj0E27wKk6LhKC8CN61XjrQggFJ4K7Ceh39XXLQHkXxEECWA5TvTScAc7PaDPYS2Ye3tciLP0kPJn87XFUICuKb2wSCt31UYxVOGDURP0YAeiAhnwlDCAByTW8YoNfhvuISici+ObB0CKCSAxSkdjX3h5xjOgz86sgeOLQyV7e7AkpyPSyPm2+54UXNSP8IuQIQQsG1BNCtFhHm0Vfjewb9va5AF9p/HgK4kwOSTZvz6D9LKjVb2pF1CF50O7pWAua9udejdKHu15U2OjsKGcOTCbgCMSaYgbiCiZDTgWZb5kPBD0F/rysg3txDAPcQQAb6Icg+yv4hpP3AmdBZshpBOKcoBtNhNC/MoluX/5NB/BgTFBKAWFIwI4DrLFVJQHehf0xwCzPHIYA7OcBVNwC56xzpJgSt2YMZ+92J19uGbqeXvFpc9PdCv47+7yIA+DOCsMUJyGw2e+TCmP41NPBuAhA5IFPci1BakbiegR77rTL/OaomWScDoCVcwnF/dg76yZBdJckgQwA6/noBUU8cul3YUXJ+dFdAf5jfrgW9ngDgTM4xo8cl6K9kcO7UagLgvs5dEMO2xD8QI8nKC5mvXHPxQV4XwsSKD1RCIaoCKVrQkzkA0W5O4g06BHAzB8SCvWKSvtlHOoD+HHPzsY11Ex7YRnxVSOHY8M8VpTpmkmjGG4jlBcHZGkiUO/hvIbSIiIF+7U+S6C/OM5nPQwA3c4AXFsUFXqDpLQEFn8cnEE39hJ9XSsbH+1DbeE78eYldpuhCARekNjFUIQAF0yEUBmOxEJTfOIP+SSHoEMBTCACJkC+ECG0M/V2BX8it/2MFayLUki/XQeoM2gI/T6J/bJtFkeGdBACrLgxaNBi3ijxJ9A/Q9iGAp3BAoeYDOflHWeJxuAe9jSg8i2WGrfvyZWSSFKL83CXRrEP/WwgAFRVhIgFg7gTEzuEWoV9Hf/NJeFelznD8CgKAHPJVfqKk/cDT8iFQdpC8ZJTqP31NZ0Sy7nHmxErOVtzziwgAQl0YtEjAag64Bf2/VRr6cgKAZv4jLf4k0d+UcVyuQB7ck3KQ6THo70+4VXUf9dEkeZ+uZFDx+20SkEID8KSEBpwABdbzQF8I9wr6fz0NfC0BiB9QIf6UoH/gAvm1u3aeRPxZSQHZeMXLQ3JG+cbh6l/+Xw8hAPidAH0zV2cI3KfsJ9H/W6PBX0UAcK6BJYo/kBcQhkdDN4UdhMSf8EJd8Jvb/K0YpgAtDeR6k468VOSVj8oJoFs98pQuCyhyAqBli+IxHIAQ+pu39dXjOwkAoYzP4Wai+AMtKqu3hkZC/DHTijJ/eiF455sTeFfXoT/WE8C1KgI5FQgJJ0APBeNWfT+G/scDeMfQV26BP/wLS/zhe1b0H6VwbHiswMK/SfPfdTvCb1HmrLZ1m8AdBBCIBsMjc38UwYlOAI8Sw4Pddwk+vwf98X0EACsjnv+pN5Xzru8YQ//kejXDx9c7FV4oTxYAb4Ps2l3tIQBEawLgcQJg9YYzd6goUas5AAf9hfFLCcDEXHjEH9yN/qT9XNL8937/cT4BODZN/ny6TmC8ggDgkV8gOwGYB0v0o9xl4x/05+MLCWAIvgr2BWK/Ckqa6O/N/jQRU68orsV9svFOLL7loPsJgBwxmQsEoUnccA9KMAAbs/gP+pvj+wlAgb/wgl/moXln5kAGKoT+z+JZmd+TmfRuVo7FmXrd8EG9G2wmgK415oQWVFC6A8Fpie+U9Q/6K+NXEwAqzH+yf1e2aBX6B7rFmXOi7+pq9QdSP1EUSPidEhBoHmfYCcDzOADLQP+XoD++mwA4oGRWExM9gOR6L+af5s9NjEZFmOS6/c/T2JmKk086ih0XiwkAHpsdiQCAkutpbolQURgeA/q/B/3xewjAi2jPR39X338Tu8u7yP398xb1f/+hVxAAQniNaJgUcjTYe6qBuoQ9od1fjv74nQSAosWEzd3qjeeQQH9T/MmUCCh8wLc5BKD8WesNhNETcqTX3MBb+YUHgP5vQ3/8WgJA1PyHs+IXCVwOrCYmLiRgnoBr3j7+t1CHSe7qmwgAnpBABkNnu1VahKKoxBd3gP4vRH/8ZgKAM/d/CEl6xS+cHfy9dQnwq0D8BOAhBiVmm3/BDgFcP3tLiBdxAKx4clgFwrIwAH49+uOXEwAozuqrx3z8EJ546fW3cKYAKbZ/VQyAk8T1y0DBcBiCk9sn95YkACzGfUStYEXDUTZGKDS91Mw/6I9DAPCrN4qOry/x6BWClMW5Aja+Pj/wYLe3+pe4MocAsN0J+NitWRj8sfHsrJa26zl9nl3jEMAn7ojCPeYhXFOTCaj/V0wXE5NcCo8X6zkn7Q//rrPpVhAAtAwc5HAfFRxgtpdQto8lpx70XzoOAXxiWaaBhBI2ID/nH8RmQcmjBHY1fP/1hP3kqr/eQ8dGCQFgb1SgUAgaXoXOGeLPD/rvH4cA/gVDisxCDH9otQIloF+L/uJ5mluW35GHvKvhdQWWOgGogHuk/QDznMUSYiyW+I/ofx2HAP4FN942D6gWf6Cxgtn8p9DAF4PJsRWDZ7fAhNcVlMPHG50AVIdGRRVIj+7iPho4A4cACAAFqr1E/kjqP95WdChCc2+9gj7n5vdPeGmf7wSg2iEYnkksEiDuYZGZf9B/Ng4BfIJOAFi9i8OgzhWYISaK0D8D7nwGvOPnqxtebCA59jsBWFYwHNPHzWZzZHto6UCoNvMP+pNxCMDGJnFJd1H8QZ3+gxDTIIf+egjanGFXKDhsgJunVNhhVHQC8MyoVa4AAAfaSURBVFQOQDQllFxdYGUYLIhkHPQfjkMADKGG/2VyANln3t5P+hkoQv/83IqL23zAinKDAqe0nwNclOBqwYZdHGBetXhKG+z9g/6zcQjAAVth8x8VNAC5Gtm1qxj6824ZZszW9ac4XC95stZsAwfcGByG3w+AzAHK6pKxM9RXTTjj7zgE4MOLmSCDtPgDZ2tSjmj5ODA83MObQGzI2MnnIAXwgmx5ezAAdYHi2YV4C4mhLTuDnJyFI/p7xiEAN8ToreLIz2dfFuo/WIz+ZiD6f69feF3iwK2p2nKdK/B9HKAkAkHoVn1kn1vGIQA30KyGfkSLDHAT+mcWoUwGGPKLFfPhbUEh/tftWhDqOEC/WH3FAtQ5AWfwcQgggjjhtB9EXQG9xAyJlB79Mzm6vk1y4d/V6O86me/gADjx1BsJIBwALQyAI/qXjkMAvhE2/+GHYLPLED/iahowq5Fn8zD8xgXTe6B/CGGxzZZyAO6Afsh4Le6T9Bc6hv+6cQjAPUrSfuDPsl+h/6AuAGDOGPnm4ejvApeMZvIcDoBfBdIXDTb3fwz/beMQgHsklR/kUoD4WWGl7KPsTWnaE84Bjbka5vYrVhqoqghDuj4A1XxALircYYLnAuGg/7JxCCAyYsY4QirQalcDOSfg+tmcN/KrQHWY6wTMjQsrwrClMBgLyoYh9O/84Hul15trko/ss2ccAogM0WgtT7DZQwOoloDESVuXBRTb+bqCALzZFZidVUD3n212iry2jUMA8REWZBANAJinsQ7xkWgCqmC91/bfGQnYkwiE51UJQC6q8io5rtk4hv+6cQigcqwIAJAi2xLFJvPZNSH6N3gM9HOE8m5WUh6MZ7sCJgfAuZCkcplnhMchgOJRZWK7aqyWony4O3QM/b87CIyQ4Y8nuQLitdeuxHLQf9E4BLBklKgrrqx/LKABONvPkS+Thn/tmpQPDAKjmgY21JG5LsGF4Cso5IzhOASwasSQN99iIUwJKGUL8qVu9Rfi/l1BYL5BHvSRxnrkVKBh+z9FxvFOyEH/FeMQwNqxusHONs3H9V+Zb/j3yv/GtiRjc5torMwTXa0CfbSHC8dveRThjKpxCGD5cFnZSfEHd8D9NujfjPvXcW9iKIpwH3uDAXDieKxu4IzYOASwaWzor3kL3Jf4AbHvY5vNtl8RCoYzDICbkoIQgv7hkg/ehm5n3DsOAewbJqqG26ttE3Zchv9bAr+z8eSA8IquQaj2ACA4AdecZlJUfEb5OASwe+gLrP/ccri4SjKEi4Rpv98P0DcIbGmOVwSE7xKIfk642PkZB9mfMQ4B3DMy6j/SmTx4G/Tfrv7/HO+NBKCaBvjV8eV/h3/OWgydsWgcArhtiOo/WVx3p6BfIvisKPpNSv/XcXtdGPamh6IibCDOwAkDPA6FzhTcfANKY794D/Q/Vvq/joe0CMUjaYBfZqCvw7Cw4IxF43gANw+u/s/ejeufK7D+OdB/JCDXN1WZQqjzAJQdnnED/pwpuP8e5JZWX4H1K5gAayQglKpAm5NBIUtAqMZ9FLECJt0J4XECzrhrHA/g/qGo/9gF7nucABwJSPt+tflf++eK+TxjLficKbj/HiTW113ECqjI9kEd9P9mCQhFDkFVazloNHBNCT15/Q8cxwN4xPip/s9ep1v+xK0m/6+VgPBOh6Bqus7YNg4BPGKsNv+xwMZfhPtHAlK+X437qGCCWV3YGc8ZhwBeMJ4P9KtT/r9PAsKW4gBsJ4YzXoYtZwpec6u+DvfvAv39EhCiZPB2JjhOwMPH8QBeNjYEbx8u+r9dAsKzQwJIM8EZb8KTMwWvvG3rcR+76rxeJP78HLfY/igy/7GLCU5Z79OR5EzBu+/fs3F/KeiXdwH6OfanA+EOIQjL3Igz3gEgZwq+4S7el8q5Tfx5iCuwoS80FjABtsQJzngfdJwp+J57ucv8x3rlB7sQf1Z4IY5b1gmYfb/TUTjQ/yWgcabg2+7os0WepzV/VsYTGkTjwQLRGS+GizMF33lfF0P8b1N+ruMVWhAW08MZrweKMwVffoPvYAI8MudnaRAYT8oLwsH9M8SX4kzBr7jNt8Z4k6C/P/Gfjz2dIfj/3hUlPuPbkOFMwe+632/Q+reFf3/++fBQMG6NDZzxtYBwpuA33vW9iT37s/4X+QHlJcHY4gEg4QSc8eVQcKbgV9/+O0D/dZoPH9sUoc1kcMavQIAzBWe4QPxGxL8lB/R/45bCYCxOEMKB/vPunyk44/8/DY/RfN7iBOzsE4eVTsAZv/SVP1NwxvjJ+Jaob5IebswHxRZF6Ixf/ZqfKTjDeESqEf94AOFtCvngjDNwCOAMx7Py2jT/MEPE0PPJhQJnnPGvV+NMwRmR52bx4o6/1gPAAifgjDOm786ZgjNSD9Abqnw3ewB4hhNwxhn2q3Gm4Iyyh+mOdM8vqwMQNzugf0bNO3um4IxVz9ab1f+f4/mRgDPOCL6kZwrO2PGcPb7UKzPuKhM744zsi3mm4IwbHruX2P4/xxP8gDPOKH4TzxSc8YgH8Z22/8+xyA8444yF792ZgjOe+3Q+w/b/OTb4AWecse8VO1Nwxpue12pwTy4KPxwH7s94zQt1puCML3mUn7om8BlnPPetOVNwxjc/3/elgZ5xxhlnnHHGGWecccYZZ5xxxhlnnHHGGWfcPv4fgpSc7L7JrjoAAAAASUVORK5CYII=","TextureLoader","SpriteMaterial","setStyle","glowEffect","enableScaling","flash3d","faceTo","binded","stopAnimation","fadeOut","animating","delete","wrap","prev","modelStore","next","ESInfo","abrupt","return","loop","AnimationMixer","clipAction","repetitions","toLocaleLowerCase","info"," :  ","MODEL3D_ACTION_ERR","previousAction","LoopRepeat","LoopOnce","clampWhenFinished","stopAllActions","stopLastAction","setEffectiveTimeScale","setEffectiveWeight","setDuration","play","watching","getDelta","removeEventListener","finished","bindedFinished","end","playAnimationPre","MODEL3D_LOADING","loopReverse","LoopPingPong","match","restoreColor","changeColor","resumeMovePath","resume","pauseMovePath","movePathingTween","pause","movePathController","followPosition","maxDistance","minDistance","movePathing","tileService","fadeIn","faded","None","rotated","paused","clock","getElapsedTime","rotateMap","isStaping","movePath","startPathIndex","from","followAngle","followAngleRotate","tiltAngle","viewTiltAngle","disableTileBaseMap","elevation","getRouteAngle","followTilt","rotateOnStart","followSmooth","toAngle","fromAngle","index","tileBaseFrozen","updateTileView","getAzimuthalAngle","getPolarAngle","viewRangeUpdated","complete","fp_","maxViewDistance","path","minViewDistance","getFloorHeight","coordMapToThree","speed","time is NaN!","distance","reverse","toggle","status","filter","close","getChildPosition","sceneX_","sceneZ_","getChildByName","_enableLod","_lod","lod","setFromObject","getCenter","replaceAll","loadingList","preFetchModel3D","addTestCube","BoxBufferGeometry","MeshBasicMaterial","raycastMoveTo","mark","raycastTime","debug","raycast","depth","modelinfo","box3","max","intersectByCoord","atan","abs","tan","rayPoint","uuid","ignoredUuids","explode","_explodeProcessed","Box3","distanceToCenter","originalPosition","explodeCenter","normalize","threshold","targetPosition","Height","angleTo","useGlobalStore","updateImage","flash","setSize","setColor","alwaysShow","updateTextStyle","updateImageStyle","flow","forceVisible_","_props","onVisibilityChanged","scaleRatio","width_","image","text","isCityMode","maxShowLevel","visibleLock","Sprite","useScaleLevel","outoflevel","collidePass","eventId","onBeforeAdd","zoomLevel","setHeight","alpha","enableTileBaseMap","onStart","then","_animateState","fade","float","InOut","isArray","minShowLevel","min","ESNode","textStyle","imageStyle","canvas","getContext","ideographic","rgba(0, 0, 0, 0.5)","fontSize","sent","getTextStyle","getPlatform",'px "Microsoft Yahei",å¾®è½¯éé»,Tahoma,Arial',"textBaseline","fillStyle","strokeStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeWidth","strokeText","fillText","save","arc","clip","drawImage","beginPath","stroke","restore","auto","fillcolor","strokecolor","concat","toLowerCase","convertColor","offsetX","offsetY","#FFF","squared","canvasPadding","letterSpacing","font","lineHeight","measureText","top","bottom","left","right","middle","textAlign","Texture","LinearFilter","anisotropy","renderer","getMaxAnisotropy","generateMipmaps","ResourcePool","FetchImgByUrl","capabilities","isString","_switch","_eventMap","handler","context","once","_wrapOnceHandler","Z__","isNil","copyEventListeners","_eventParent","_fire","_clearEventsFrom","_clearListeners","_clearAllListeners","_setEventParent","domEvent","stopPropagation","getBuildingOptions","MapOptions","data/","dataUrlPrefix","themeUrlPrefix","mouseReverse","scalerOffet","scalerWidth","firebrick","#fff","dynamicLoadModels","mergeModelLines","mergeModels","model3DSelectedEffect","container","viewMode","compassPointerUrl","compassPosition","cameraMode","ESCameraMode","NORMAL","shadowAlpha","defaultControlsPose","panLimit","defaultAngle","perspective","viewModeAnimateMode","moveToAnimateMode","compassOffset","compassSize","compassAngle","hoverMode","hoverTypes","powerPreference","minScaleLevel","defaultScaleLevel","randomTexture","naviLineAnimation","showBase","loadModel3D","loadPoi","loadLabel","hideRoomLogoMeshes","lineSelectedEffect","enableZBufferFixing","closeComposer","effects","mapAudioSrc","mergeModel3D","devMode","quality","useCache","useBuildingCache","compatibleMode","modelImageAlphaTest","rightClick","clickHold","isPC","initBuildingOptions","initCityOptions","maximumBuildings","DefaultBuildingOptions","DefaultCityOptions","lodSources","Object3D","_loadcount","service","ESLayerManager","lineLevel1","lineLevel2","lineLevel3","roadLoaded","controlUpdated","loader","currentShows","tempDatas","loadBuildings","showRoads","modelStatic","roomModelsCount","modelLoadCount","handleModels","loadPois","progressHandler","Labels","ESLayer","ESLayerType","MODEL_POI","boxCollision_","vBoundary","pointInArea","ipos","_id","Tid","Sid","poiStyles","fontstyleid","ShowLevel","tileId","scaleOffset","bType","modelViewMatrix","multiplyMatrices","matrixWorldInverse","matrixWorld","vmupdated","addObject","Typeid","mapTheme_","ESFacility","type_","deleteRoadById","watchingList","loadRoadsFromData","Lines","handleLine","addLayer","layerManager","getOrCreateLayerByName","getLayersByTypes","getLayersByNames","roadStyles","DEFAULT_COORDSYSTEM","linewidth","animationspeed","roadStyle","rank","outline","__ro","drawRoad","inView","tileScene_","lastSelectNode","isClickSelected","getTransformMatrix","XYZ","compose","getObjectTransformMatrix","fromArray","updateMatrix","getParentList","Scene","nodes","calpos","mergePromise","done","geometries","_meshName","pos","rotation","applyMatrix","translation","objName","showModel3DErrorMsg","checkGeoIsHaveUv","mergeGeometry","buffers","uri","mergeTranformGroup","alphaMode","OPAQUE","cloned","selectedColor","emissive","emissiveIntensity","intensity","selectModelMat","debugTip","warn"," can not find matching geometry or duplicate name","bclick","sort","HASH_","isWall","_skipProcessChild","groupData","_invisibles","Anchor","objVisible","material name:"," data error !! Erro Code: 2501; object:","BufferGeometry","uv2","getAttribute","getX","normal","computeVertexNormals","BufferGeometryUtils","array","mergeBufferAttributes","BufferAttribute","addAttribute","setIndex","selectModel","locked","getFaceIndexToGroup","setTargetModelSelected","changeModelAlphaById","_settedAlpha","matRecord","groups","clearGroups","materialIndex","islocked","toColor","splitGroup","lastSelectMatIndex","mesh","getMatIndexByFaceIndex","setTargetMeshVisible","visibleStates","_hidden","clearCacheData","setModelVisible","isModelVisible","isElement","element","addEvent","attr","setAttribute","fill","this is null or not defined","colorStr","computeTopFaceAttr","brothers","sideRange","createMaterial","topTexture","sideTexture","MeshLambertMaterial","buildingColor","roomTextureMaterial","isTopTex","topTex","topTexMat","isSideTex","sideTex","sideTexMat","#include <uv_pars_vertex>","\n                #include <uv_pars_vertex>\n\n                attribute float topFaceFlags;\n                attribute float isHideFlags;\n                uniform mat3 topTexMat;\n                uniform mat3 sideTexMat;\n\n                varying float flag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                tvUV = ( topTexMat * vec3( uv, 1 ) ).xy;\n                svUV = ( sideTexMat * vec3( uv, 1 ) ).xy;\n\n                flag = topFaceFlags;\n                hideFlag = isHideFlags;\n                ","vec4 diffuseColor = vec4( diffuse, opacity );","   \n                    vec4 topTexColor = texture2D(topTex, tvUV);\n                    topTexColor.a *= opacity;\n                    vec4 sideTexColor = texture2D(sideTex, svUV);\n                    sideTexColor.a *= opacity;\n\n                    vec4 dColor = vec4( diffuse, opacity );\n\n                    vec4 resultColor = mix(mix(dColor, sideTexColor, isSideTex), mix(dColor, topTexColor, isTopTex), flag);\n\n                    // resultColor = mix(vec4(1.0, 0.0, 0.0, 1.0), vec4(0.0, 1.0, 0.0, 1.0), flag); // flag == 1 is top\n                    if(hideFlag > 0.0){\n                        discard;\n                    }\n\n                    vec4 diffuseColor = resultColor;\n                    ","shader","_isComplete","_successCallbacks","success","_responseData","_errorCallbacks","_status","isArrayBuffer","async","jsonæ°æ®è§£æéè¯¯ï¼è¯·æ£æ¥æ°æ®æ ¼å¼æ¯å¦æ­£ç¡®: ","_errorCallback","data","POST","GET","_httpStatus","_completeCallbacks","Callbacks","_initHttpServer","_httpServer","open","onreadystatechange",".loc","responseType","arraybuffer","setRequestHeader","X-Requested-With","Content-type","application/x-www-form-urlencoded","Connection","send","ActiveXObject","Microsoft.XMLHTTP","XMLHttpRequest","Platform does not support HTTPï¼","_httpStateChange","judgeStatus","file:","protocol","response","responseText","_successCallback","bgColor","isShowBackground","curTexture","nextTexture","transFactor","texLightFactor","texture1","texture2","\n                #include <uv_pars_vertex>\n                varying vec2 vUV;\n\t\t\t\t","\n                ","\n                vec4 resultColor = vec4(outgoingLight, opacity);\n                vec4 curTexColor = texture2D(texture1, vUV);\n                vec4 nextTexColor = texture2D(texture2, vUV);\n\n                #ifdef IS_BG\n                    curTexColor.rgb = mix(bgColor, curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(bgColor, nextTexColor.rgb, nextTexColor.a);\n                    resultColor.rgb = mix(curTexColor.rgb, nextTexColor.rgb, transFactor);\n                    resultColor.a = 1.0;\n                #else\n                    curTexColor.rgb = mix(vec3(texLightFactor), curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(vec3(texLightFactor), nextTexColor.rgb, nextTexColor.a);\n                    resultColor = mix(curTexColor, nextTexColor, transFactor);\n                #endif\n\n                gl_FragColor = vec4( resultColor );\n                ","animate","CSSFILTER","TRANSITION","TRANSFORMORIGIN","TRANSFORM","removeDomNode","addDomEvent","listensDomEvent","preventDefault","offsetDom","computeDomPosition","addClass","getClass","setOpacity","setTransform","removeTransform","getDomRuler","documentElement","WebkitTransform","OTransform","MozTransform","msTransform","transformOrigin","WebkitTransformOrigin","OTransformOrigin","MozTransformOrigin","transition","WebkitTransition","msTransition","OFilter","msFilter","ielt9","ie9","event","mousewheel","DOMMouseScroll","gecko","returnValue","onselectstart","getComputedStyle","padding-left","padding-top","getBoundingClientRect","__position","clientX","clientLeft","clientY","clientTop","classList","contains","(\\s|$)","splitWords","baseVal","className","any3d","translate3d(","px,","px,0px)","translate(","join","clientWidth","position:absolute;left:-10000px;top:-10000px;","body","userAgent","phantom","search","android [23]","chrome","opera","PointerEvent","MSPointerEvent","pointerEnabled","WebKitCSSMatrix","MozPerspective","ontouchstart","DocumentTouch","webgl","experimental-webgl","msLaunchUri","android","devicePixelRatio","logicalXDPI","browserLanguage","language","documentMode","setOptions",'Class instance is being created without "new" operator.',"callInitHooks","_visitInitHooks","enable","onConfig","_initHooksCalled","_initHooks","include","extend","mergeOptions","ray","Raycaster","testMat","meshList","sub","far","plane_","intersectObjects","configs","inverse","typeID","clearSkyBox","obb","isVisible","excludeNodeTypes","_NORAY","options_","sprite_","visible_","sceneOrtho_","margin_horiz","margin_verti","updateHUD","updateHUD2","sprite_2","initUserLogo","src","logoDatUrl","offsetLeft","clientHeight","offsetTop","userCompany","userLogoBase64","img","userLogoConfig","userLogo","initWaterMark","setX","opts_","setZ","ESMapCoord","ESFloorManager","data_","_editmode_","stopMoveTo","lastSelectModelStore","normalizeUv","hiddenChilds","showChild","findChildById","range","hideChild","clearAll","getChildIndex","updateChildByData","holes","genGeo","subarray","lenth","deleteChild","getDis","normalizeSide","normalizeTop","Path","lineTo","ExtrudeBufferGeometry","computeBoundingBox","boundingBox","Vector2","error face","addChilds","transformCoordArray","offsetZ","mergeBufferGeometries","addChild","getChildList","getChildByRange","getChildsData","tasks","loadImageLogo","modelImageTexturePool","RoomLogo","unloadRoomLogo","fixTextures","isPowerOfTwo","NearestFilter","mipmaps","coord","\n                   #include <uv_pars_vertex>\n   \n                   attribute float isHideFlags;\n   \n                   varying float hideFlag;\n                   ","#include <uv_vertex>","\n                   #include <uv_vertex>\n   \n                   hideFlag = isHideFlags;\n                   ","\n                   uniform float opacity; \n                   varying float hideFlag;\n                   ","\n                   vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                   if(hideFlag > 0.0){\n                       discard;\n                   }\n                   gl_FragColor = resultColor;\n                   ","imgStyle","imgdata","jpg","focusFloorNum","focusAlpha","roomid","added","getTask","setParent","setData","datas","nor","groupsCopy","isHideFlags","groupInfo","MODEL_IMAGE","XZY","checkTasks","handleTask","points_","holes_","parseIndoorGeo","MULTIPOLYGON(((","GLEN1","Circle(((","CLEN","hasHoles","GData","TjEySDU2TS4xSDU1TQ==","TjEySDU2TS4xSDU0TA==","TjEySDU2TS4xSDk4","TjsySDY5SDUxTi4yTTk=","TjEySDU2TS4xSDUyTQ==","X3t3SGlzWmVwSGdO","TjEySDU2TS4xSDYwTQ==","vkeys","_cm","_ms","_gd","Writer","roots","Hash","nameEn","adcode","AngleX","AngleZ","minX","Long","minY","maxX","fromBits","maxY","tileurl","bidnums","modnums","Remark","styleid","tiletoken","other1","alist","bidlist","encode","create","uint32","int32","mtime","ltime","double","AngleY","int64","offsetbid","offsetroad","cids","logotoken","other2","eid","len","ESCityLicSet","skipType","decodeDelimited","verify","object expected","v: integer expected","isInteger","mtime: integer expected","ltime: string expected","Hash: string expected","_id: integer expected","tid: integer expected","name: string expected","nameEn: string expected","adcode: string expected","AS: number expected","AngleX: number expected","AngleZ: number expected","x: number expected","y: number expected","z: number expected","low","high","minX: integer|Long expected","maxX: integer|Long expected","maxY: integer|Long expected","offsetroad: string expected","bidnums: integer expected","modnums: integer expected","Remark: string expected","styleid: string expected","cids: string expected","o1: integer expected","other1: string expected","other2: string expected","l1: integer expected","l2: integer expected","l3: integer expected","l4: integer expected","alist: string expected","eid: string expected","bidlist: string expected","fs: integer expected","fromObject","fromValue","unsigned","LongBits","toNumber","defaults","longs","toJSON","toObject","util","toJSONOptions","type.googleapis.com","/ESCityLicSet","decrypt","ghijklmnopqrstuv","ABCDEFGHIJKLMNOP","wxyz0123456789+/","charAt","esWorker","1.0.2","Ajax","Promise","callbacks","ESMapConfiguration","ESHeatMap","ESappendMapPoi__","loadTexture","none","floorBase","facility","label","modelLine","modelImage","modelBase","polygonMarker","locationMarker","lineMarker","imageMarker","textMarker","cardMarker","boardMarker","mapRoad","ESNaviMode","ShowBuildingMode","near","poi","externalModel","Token is not correct","Error version","Maximum es3dMarker limited","You cannot display allFloors in viewMode 2d","Your operation frequency is too fast. Please try again later.","Invalid source type.Please check out your request url","Your license has expired","current is online licensce , please contact esmap to get offline license","This feature is not authorized","ESLineMode","full","dotDash","dash","doubleDotDash","triDotDash","raw","texture","ESViewMode","EScontrolSize","small","ESMapError","noWebGL","Evento","ESMapTheme","ESMapBoxCollision","ESMapSceneUtil","ESMapGestureController","ESWaterMark","ESElement","ESPolygonMarker","ESModelImage","ESImageMarker","ESControlOffset","ESScrollFloorsControl","ESZoomControl","ESNavigation","ESNaviResult","ESWall","ES3DMarker","ESPopMarker","ESBuilding","ESWebViewMarker","esmap.ESWebViewMarker å·²å¼ç¨","ESTextureLine","ESLineMarker","ESNaviMap","ESMapNavLineGeometry","ESTile","ESCardMarker","hexToRgb","color format error","colorRGB2Hex","intersectsPolygonAndPolygonNew","toRgba","rgba(",",1)","getMapScene","_type_","getControlsInfo","firstPersonControls","toFixed","getNearestAngle","setControlsInfo","Android","SymbianOS","Windows Phone","iPad","MicroMessenger","getPolygonBounds","camera","zoom","[object Array]","sin","fov","DEG2RAD","getDatasByAlias","getFloor","modelbaselayer","modelbases","modellayers","models","oid","OCenX","OCenY","RoomHigh","bids","MODEL","setFloorAlpha","lastAlpha","restoreFloorAlpha","o3dFloors_","hideOnComplete","getModelTypesCount","getBuilding","modelTypesCount","tileList","getModelsCount","CITY","searchModel","key","buildingList","floorNums","es_effect_mat","GLTFMergeTool","effect_track_line","bidList","cenx","delegateYield","createIndex","continue","keyword","item","types","classID","all","polygon","indoor","getTileNumsByPolygon","radius","buildingBounds","FACILITY","MapUtil","node","getRoomDirection","dis","TEXTURE_LOADER","load","_setGeneralProperties","initY_","getExtentByPoints","computeExtentByPoints","QRSTUVWXYZabcdef","buildBezierCurvePoints","QuadraticBezierCurve3","interpolatePoints","equals","buildCurvePoints","segments","RAD2DEG","getDeviceDPI","transform","GCJ02","GCJ02ToWGS84","exp","EPSG4490","fixScale4490","transMc4490To3857","checkMcIs4490","computeScaleToFix4490","transformWGS84ToMap","transformGCJ02ToMap","transformMapToWGS84","getDistance","asin","cos","timestampToTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","containPolygon","æ¨çæµè§å¨ç®åä¸æ¯æWebGL!<h5><h5>ä¸ºæ´å¥½çæµè§ï¼å»ºè®®æ¨ä¸è½½ &nbsp;è°·æ­æµè§å¨","skéªè¯éè¯¯","ä¸ç»´åºæ¯${1} æªæ¾è´­ä¹°å½ååå:${2}ï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½è´­ä¹°ï¼#${3}","è¯·æä¾ä¸ç»´åºæ¯:${1}çtoken #${2}","ä¸ç»´åºæ¯ ${1} tokenéªè¯éè¯¯ #${2}","ä¸ç»´åºæ¯ ${1} å·²è¿æï¼è¯·éæ°ä¸è½½ææ°çæ°æ®æèèç³»ESMapåå¡! #${2}","ä¸ç»´åºæ¯ ${1} Liscense æä»¶éè¯¯, æèä¸ç»´åºæ¯ç±»å mode æ¯å¦éç½®éè¯¯ãè¯·æ£æ¥åæ°æèèç³»ESMapåå¡! #${2}","ä¸ç»´åºæ¯ ${1} è§£æå¤±è´¥ï¼è¯·æ£æ¥ä¸ç»´åºæ¯èµæºè¯·æ±ååºç»æ! è·¯å¾: ${2}, #${3}","ä¸ç»´åºæ¯ ${1} æ¥¼å±æ°æ®ä¸ºç©ºï¼è¯·æ£æ¥ä¸ç»´åºæ¯æ°æ®æ¯å¦æè¯¯! #${2}","ä¸ç»´åºæ¯ ${1} ç ${2} ååå·²è¿æï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½è´­ä¹°! #${3}","åè´¹åºæ¯æå¼æ¬¡æ°è¶è¿éå¶ï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½!","_tweens","getId","_tweensAddedDuringUpdate","_nextId","nextId","hrtime","performance","now","_isPaused","_pauseStart","_valuesStart","_duration","_repeatDelayTime","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onCompleteCallback","_valuesEnd","_object","_valuesStartRepeat","_group","_onStopCallback","_repeat","_yoyo","_onUpdateCallback","updateCountDown_","_onRepeatCallback","Bounce","Utils","Factorial","varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","RGBAFormat","getSize","_pixelRatio","_width","_height","EffectComposer.rt1","renderTarget2","renderTarget1","readBuffer","renderToScreen","passes","CopyShader","copyPass","ShaderPass","EffectComposer","writeBuffer","getDrawingBufferSize","enabled","getRenderTarget","isLastEnabledPass","needsSwap","stencilFunc","NOTEQUAL","EQUAL","swapBuffers","MaskPass","ClearMaskPass","Pass","clear","THREE.Pass: .render() must be implemented in derived pass.","FullScreenQuad","OrthographicCamera","PlaneBufferGeometry","_mesh","render","state","setMask","setLocked","setTest","stencil","setOp","REPLACE","setFunc","ALWAYS","setClear","setRenderTarget","KEEP","RenderPass","overrideMaterial","clearColor","clearAlpha","clearDepth","autoClear","getClearColor","setClearColor","autoClearColor","autoClearDepth","tDiffuse","ShaderMaterial","UniformsUtils","fsQuad","textureID","CSS2DObject","CSS2DRenderer","hidden","relative","setFromMatrixPosition","-50%","updateAlign","-100%","insertBefore","createEvent","popMakerCreated","targetELement","distanceToSquared","objects","distanceToCameraSquared","updateMatrixWorld","projectionMatrix","FirstPersonControls","movementSpeed","lookSpeed","lookVertical","heightCoef","minHigh","constrainVertical","verticalMin","verticalMax","mouseX","mouseY","lat","lon","phi","moveBackward","moveLeft","moveRight","mouseDragOn","mouseLastPos","viewHalfX","viewHalfY","stopAsap","stopAsap2","cruisingMode","lookAtTarget","cruisingAngle","userIntersecting","tabindex","handleResize","innerWidth","innerHeight","onMouseDown","mouseClickMoving","activeLook","moveForward","onMouseUp","button","onMouseMove","pageX","pageY","mouseMoveOn","clearTimer","moveDown","onKeyUp","moveUp","heightSpeed","clamp","heightMin","heightMax","nextPos","translateZ","translateX","translateY","mapLinear","theta","contextmenu","mousemove","keyup","mousedown","mouseup","dracoLoader","anonymous","removeAll","resourcePath","LoaderUtils","extractUrlBase","itemStart","manager","itemError","FileLoader","itemEnd","crossOrigin","KHR_BINARY_GLTF","content","decodeText",".action","asset","gltf version>=2.1 supported!","MODEL3D_ERROR","hash","scenes","bufferViews","textures","images","samplers","accessors","ESMAP","ESMAPBID","URL","extensionsUsed","extensionsRequired","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","KHR_DRACO_MESH_COMPRESSION","MSFT_TEXTURE_DDS","KHR_TEXTURE_TRANSFORM",'GLTFLoader: Unknown extension "',"ESCache","timeMap","KHR_binary_glTF","KHR_draco_mesh_compression","KHR_lights_punctual","KHR_materials_pbrSpecularGlossiness","KHR_materials_unlit","KHR_texture_transform","MSFT_texture_dds","GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader","ddsLoader","DDSLoader","KHR_LIGHTS_PUNCTUAL","extensions","lightDefs","lights","directional","DirectionalLight","point","PointLight","spot","SpotLight","innerConeAngle","outerConeAngle","penumbra",'GLTFLoader: Unexpected light type, "',"getMaterialType","extendParams","pbrMetallicRoughness","baseColorFactor","assignTexture","baseColorTexture","glTF","header","magic","GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.","getUint32","BIN","GLTFLoader: JSON content not found.","DRACOLoader","getDecoderModule","bufferView","decodeDracoFile","normalized","extendTexture","texCoord",'GLTFLoader: Custom UV sets in "','" extension not yet supported.',"lightMap","aoMapIntensity","emissiveMap","bumpMap","normalMap","displacementMap","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","refractionRatio","ShaderLib","standard","#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif","#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\tspecularFactor *= texelSpecular.rgb;","float glossinessFactor = glossiness;","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;","uniform vec3 specular;","uniform float metalness;","uniform float glossiness;","#include <roughnessmap_pars_fragment>","#include <roughnessmap_fragment>","#include <metalnessmap_fragment>","#include <lights_physical_fragment>","metalnessMap","setHex","defines","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","isGLTFSpecularGlossinessMaterial","lightMapIntensity","aoMap","bumpScale","normalScale","displacementScale","envMap","derivatives","specularGlossinessParams","diffuse","matrixAutoUpdate","uvTransform","envMapIntensity","flipEnvMap","isCubeTexture","reflectivity","maxMipLevel","__maxMipLevel","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","Interpolant","constructor","copySampleValue_","sampleValues","beforeStart_","afterEnd_","resultBuffer","valueSize","Matrix3","Vector4","NearestMipMapNearestFilter","LinearMipMapNearestFilter","NearestMipMapLinearFilter","ClampToEdgeWrapping","MirroredRepeatWrapping","BackSide","FrontSide","NeverDepth","LessDepth","GreaterEqualDepth","NotEqualDepth","AddEquation","SubtractEquation","ReverseSubtractEquation","ZeroFactor","OneFactor","SrcColorFactor","SrcAlphaFactor","DstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","skinWeight","morphTargetInfluences","InterpolateSmooth","InterpolateLinear","InterpolateDiscrete","CULL_FACE","DEPTH_TEST","BLEND","SCISSOR_TEST","POLYGON_OFFSET_FILL","SAMPLE_ALPHA_TO_COVERAGE","MASK","RGBFormat","gltfExtensions","extras","POSITION","getDependency","accessor","morphTarget","setXYZ","getY","getZ","morphAttributes","updateMorphTargets","weights","targetNames","morphTargetDictionary","GLTFLoader: Invalid extras.targetNames length. Ignoring names.","indices","primitive","promise","baseGeometries","baseGeometry","isInterleavedBufferAttribute","itemSize","getW","targets","multiplePrimitivesCache","multiPassGeometryCache","textureLoader","setCrossOrigin","fileLoader","setResponseType","markDefs","getMultiDependencies","animation","catch","isBone","isSkinnedMesh","meshUses","loadNode","loadMesh","loadBufferView","skin","loadSkin","loadAnimation","loadCamera","light","loadLight","Unknown type: ","cache","getDependencies",'GLTFLoader: Failed to load buffer "',"buffer","byteLength","byteOffset","loadAccessor","sparse","BYTES_PER_ELEMENT","InterleavedBuffer:","InterleavedBuffer","InterleavedBufferAttribute","SCALAR","setArray","setY","setW","GLTFLoader: Unsupported itemSize in sparse BufferAttribute.","buffererror","webkitURL","source","mimeType","Handlers","revokeObjectURL","flipY","format","sampler","magFilter","wrapS","wrapT","loadMaterial","KHR_MATERIALS_UNLIT","metallicFactor","roughness","roughnessFactor","metallicRoughnessTexture","roughnessMap","doubleSided","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","sRGBEncoding","loadGeometries","primitiveCache","TRIANGLE_STRIP","TRIANGLE_FAN","SkinnedMesh","normalizeSkinWeights","drawMode","TriangleStripDrawMode","TriangleFanDrawMode","LINES","LineSegments","Line","LINE_LOOP","LineLoop","POINTS","Points","GLTFLoader: Primitive mode unsupported: ","mesh_","PointsMaterial","Material","isLine","LineBasicMaterial:","LineBasicMaterial","ClonedMaterial:","specular-glossiness:","skinning:","flat-shading:","morph-normals:","cloneMaterial","VertexColors","flatShading","morphTargets","morphNormals","refreshUniforms","cameras","GLTFLoader: Missing camera parameters.","PerspectiveCamera","yfov","znear","orthographic","xmag","ymag","zfar","skins","joints","inverseBindMatrices","channels","parameters","input","output","QuaternionKeyframeTrack","interpolation","AnimationUtils","arraySlice","CUBICSPLINE","getValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","animation_","AnimationClip","meshReferences","Bone","_instance_","onBeforeRender","isMesh","PropertyBinding","sanitizeNodeName","isGroup","Skeleton","dir","widthScale","lerpPathPoints","lerpVectors","dist","_corner","_end","subVectors","MAX_VALUE","crossVectors","_hardCorner","addVectors","dot","acos","_getByIndex","makeRotationAxis","_getCornerBezierCurve","_drawing","_includeDrawingPoint","_points","_lastPoint","_lastFixedPoint","fixRadius","_cornerRadius","_cornerSplit","cornerRadius","_dirty","cornerSplit","_getLastFixedPoint","getPathPointList","_pathPointList","getPoints","confirm","setUsage","DynamicDrawUsage","setDynamic","drawRange","_resizeAttribute","updateRange","radialSegments","startRad","_resizeIndex","getIndex","PathTubeGeometry","Path3D","SelectionBox","Frustum","collection","deep","watchlist","select","startPoint","endPoint","searchWatchlist","updateFrustum","updateProjectionMatrix","isPerspectiveCamera","unproject","planes","setFromCoplanarPoints","WARNING: SelectionBox.js encountered an unknown camera type.","preWatchs","boxSelectPoints","containsPoint","intersectsBox","pickType","intersectPolygons","clonedMats","searchChildInFrustum","SelectionHelper","pointerEvents","border","1px solid #55aaff","rgba(75, 160, 255, 0.3)","fixed","pointTopLeft","pointBottomRight","isDown","onSelectStart","onSelectOver","parentElement","0px","zIndex","onSelectMove","map_","config","matInfos","HeatMapMaterials","floorEdges","round","mapOpacity","maxSize","backgroundColor","gradient","rgb(0,0,255)","rgb(0,255,255)","rgb(0,255,0)","yellow","ctx","boundVal","rgba(255, 255, 255, ","rgba(0, 0, 0, ","closePath","getImageData","getPalette","setFloorNum","getDeviceWH","canvasCopy","matTool","å±ç­åå¾éè¯¯ï¼è¯·åæ§è¡setFloorNum","_hasHeatMap","mat","focusAlphaMode","getObjectsByAlias","heatmap","originalUv","floorUvs","originalMainMat","originalStatus","originalColor","antitrans_","disposeHeatMap","createLinearGradient","fillRect","cachePoint","addPoint","getPixXY","renderShadow","clearRect","getHeatMapTextures","copyCanvas","addPoints","colorize","randomPoints","lastSelectStore","__moveToId","updateTile","3.0","minPolarAngle","zoomToCursor","mapPickHighLight","sceneOrtho","change","controlsChange_","viewMode_","requireUpdateCollide_","firstCameraPos","deltaVec3","scaler_","ESMapScaler","flyController","fixTileMapScale","scaleLevels_","_selectModelAlpha","matList","animatque","tileConfigs","focusBuilding","IsMapLoading","onMapResize","MapInited","localScaleLevel","firstPersonAnimating","_maploader","MapLoader","updateLts","focusFloorNumChanged","viewModeChanged","popMarkers_","localMoveTo","ESMapInited","updateCssScene","cssFuncs","restoreArea","hideRecord","toClearId","needAnimate","beforeCruiseState","originalRotateAngle","firstPersonMode","scaleLevelTo","originalScaleLevel","originalControlState","getModelInfo","modelInfos","action","rotateTime","tileMode","pointToPointAnimate","unshift","openBuildingById","å»ºç­å·²å¤äºæå¼ç¶æï¼","tl_","TOO_FAST","preLoadBuildingId","changeFocusFloor","fadeTo","moveToAnimateTime","meshLoader","toHandle","modelLayers","modelImageDatas","modelTextureDatas","modelLineLayers","modelMats","cleared","queue","toAddQueue","queueRanked","modelManagerStarted","isLoadedAll","logomatlist_","openMapById","openMap","resetAll","showProgressBar","#2BDE73","createProgress","inited","openBuildingMap","initESAudioTool","esaudio-1.2.mp3","/esaudio-1.2-","AUDIO_ERR","modelBasicMat","openBuilding","cacheBuildings","_buildingAnimating","buildingReady","buildingLoadComplete","moveComplete","hideFloorBase","checkToLoadedBuildings","toLoadedBuildings","è¯·ä½¿ç¨ESMapåå¸å°å¾ç¼è¾å¨ç»å®è¯¥å®¤åå°å¾!","clearLineMarkById","clearAllLineMark","drawLineMark","originHeight","navigateStyle_","smooth","ç»çº¿ç¹éæ°æ®éè¯¯","lineManager","ESLine","nobuildCurveZ","ESLineType","curvature","-&-","crossFnums","crossBuilding","DistanceofTwoPtsZ","bid_","originalLength","screenshot","screenshot.png","ULTRA_HD_ERROR","updateSize","toDataURL","compass","download","initEvent","click","createObjectURL","document","title","Screenshot","mapmodel3ds","changeModelColorById","layers","MODEL_BASE","MODEL_LABEL","merged","changeBuildingColor","buildingColorStaged","highLightColor","highLightFlags","addBuildingColorStaged","changeModelColor","colorMap","pointInBuildingFloor","getFloorBounds"," building is not found","delta","getRoomLogoInfo","updateRoomLogos","AUTHO_REQUIRED","floorAlias","IDä¸è½ä¸ºç©º! index:","æªæ¾å°","æ¿é´! index:","originalTexture","è´´å¾ä¸è½ä¸ºç©º! ID:","_analyseRawPoints","toSceneCoord","targetAndBuildingList","clearRaycastCache","rayPointer","raycastByCoord","startCoord","endCoord","cubeTip","green","globalAlpha","warning","getCenterLonLat","directionAngle","initDistance_","pitchAngle","flyFocusTo","ESTileMap","tileMapView","highlightBuildingById","selectNull","getElementById","spanId","popDiv_","tiltTo","emitError","çç¼©æ¾çº§å«","setScaleLevelValue","setScaleLevelLimit","minScaleLevel_","maxScaleLevel_","initScaleLevel","scaleLevelIn","setBackgroundImage","background","clearTrans_","clearColor_","setModelSelectColor","storeSelect","isSelectFlags","slots","setSelectColor","POLYGON_MARKER","toggleTileBuildings","_disableTileUpdate","highLightArea","addToCache","unsetArea","userTiles","userScene","storeModelSelected","selectModelNull","Model3DSelectColor","polygonSelectColor_","originEMS","lastColor","naviMap","isSelected","line","setRadius","_originalAlpha","customClass","setTapTip","tapTip","defaultTemplate","setModelAlpha","originalOp","setCompassPointerUrl","setPointer","setCompassBgUrl","restoreModelAlpha","getNavData","buildingService","navData","getO3dScene","getTileFromCache","cachedTiles","setUserNavLangLib","langLib","applyToNavLib","getMapNavLangLib","navLib","getMapGenLangLib","generalLib","closeBuildingById","building do not exist","preCloseBuilding","shell","buildingCache","buildingScene_","disposeBuilding","sourceData","keys","loaded","closeBuilding","isCoordInView","closeAllBuildings","selectLineNull","storeSelectLine","multipleSelect","originalMat","selectedLineColor","stopAllAnimate","getUserScene","EPSG:4490","_insureUserCoordInbounds","coords","flipX","x or y contains NaN:","localCenter","loadComplete_","updateText","_gld","NCISKQ","tileMapInited","queryTiles","tileShowLevel","_sdu","WELL","ABC","_em","share","_cdu","currentView","tileDisabled","unloadBuildingById","ESBuildingType","TILE","unloadTile","checkBuildingHide","buildings","tileSize","handling","break","solvingList","checkPanLimit","panLimitCenter","_lastValidCoord","isAnimating","getLocalCenter","autoOpenLevel","hold","getScaleRate","scaleLevelChanged","å°å¾ç¸å³å¯¹è±¡è¢«vueååç»å®,è¯·æ£æ¥ä»£ç ï¼å¦åä¼å½±åæ§è½ï¼","updateCollide","setOriginCameraPosition","box3_","floors","Elevation","floorCenter_","maxScaleLevel","getOrthoCameraSizeByPerspectiveCamera","MODE_2D","defaultTiltAngle","addLocationMarker","baseScene","removeLocationMarker","getScreenCenter","coordScreenToMap","setFromCamera","intersectObject","coordScreenToScene","coordMapToScreen","project","w_2_","h_2_","project_","getPopMarkerById","popGroup","clearPopMarkerById","clearAllPopMarker","stopRender","reRender","maximumTiles","Tilelimit","queryTilesByNum","secondViews","forceLoadSecond","onProgress","_rotateToID","targettocamera","gestureController_","fullScreenAvaliable","FullScreen","available","fullScreen","activated","request","visibleBuildings","lineStyle","gap","maxX_","minY_","maxY_","getCurrentScaleLevel","scaleLevelValue","viewCenter","watchingOpens","maxPolarAngle","_setMaxPolarAngle","toUpperCase","viewMode must be 2D or 3D","force2D","lastTiltAngle","__viewModeAnimating","cameraTop","__lastPhi","initTop_","viewModeAnimateTime","themeName","themeName_","sceneId_","themeID_","queryBuildingTheme","updateBuildingTheme","é¿æææ","showScaler","zoomLevelInt","shadowEnabled","shadowLight","castShadow","Name","mapName","NameEn","mapNameEn","tempFlipX_","maindeltaTime","renderID","MapControls","mouseButtons","MOUSE","MIDDLE","wheel","maintimer","DISABLE_RENDER","dumpScene","webgl2","COLOR_BUFFER_BIT","resetControls","baseDistance","registerMapControllerEvents","LEFT","controlsReseted","registerEvents","pickedObjects","mapClickObject","pageVisibility","screenX","moz","visibilityState","visibilitychange","visibilityChanged","controlstart","controlend","updateDirection","spriteBg_","spritePt_","_maxResolution","_resolution","WebGLRenderer","highp","sortObjects","setPixelRatio","shadowMap","cam2control","vFovHeight","vFOV","setClearAlpha","composer","ESComposerRender","cameraOrtho","ambientLight","AmbientLight","mainLight","secondLight","initCss2dScene","resize","onWindowResize","mapViewInited","visibility","setOrthoZoomLevel","getOrthoZoomLevel","resolution2Level","distance2Resolution","getDistanceByZoomLevel","LOG2E","level2Resolution","rendererCss2D","aspect","cssCamera","getWebGLInfo","getExtension","  GPU: ","UNMASKED_RENDERER_WEBGL","align","loadProgress","updateBuildingView","maxZoomLevel","minZoomLevel","tileZoomLevel","resolution","MODE_3D","calResolution","_minResolution","getWorldDirection","mousePos","raycaster","compassRaycaster","propogation","boxPickedObjects","ebp_","tapcount","logModelInfo","hoverList","intersects","lastHoverTarget","hoverUserObject","cachePicks","frustum","lastClickTimeStamp","keepClickMousePos","disablePicks","enablePicks","touchstart","touchend","BoxPicker","BoxPickerHelper","onmousemove","onmouseup","touchmove","checkHover","hightLightObject","unhightLightObject","findAndDelete","traverseTarget","$originalEmissive","hovered","lineGroup","$originalColor","#f49452","hoverBuildingModel","isPicked","setFromMatrix","$ESMapPlane","model3DHoverEffect","faceIndex","noPickEffect","gid","getStyle","getChildByFaceIndex","TEXT_MARKER","ESEffectTool","EffectMarker","hover","onOver","hoverObject","onLeave","unSelectLast","onmousedown","mousemoved_","getPick","mouseScreenPos","getMouseScreenPos","startClientX","startClientY","keepPressLock","ð ~ file: MapPicker.js:465 ~ keeptimer ~ flag:","FLOOR","traverseAncestors","clickCompass","enableCompassTap","compassClick","enableBoxPick","touches","endClientX","endClientY","mapExtends","focusTileId","centerTile","indx","indy","mapBoxSelected","pickerNone_","debugPickLog","debugPick","trim","escapeSpecialChars","stringWidth","stringLength","getFontHeight","splitContent","replaceVariable","getAlignPoint","getFont","_default_","textFont","textWeight","textSize","px ","textFaceName","textLineSpacing","textWrapCharacter","textWrapWidth","_enabled","addHooks","disable","dom","materialBg_","materialPt_","onload","compassBackgroundUrl","lh_","lw_","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA9RWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTA0LTEzVDE3OjUxOjE3KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDQtMTNUMTg6MjY6NTkrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjE3YzU2N2NiLWM4YzMtNTM0My05OTQ0LTVmMGVkY2NmMzI4ZTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwNTNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNjU5NDIwMjNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwMzNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjM2NTk0MjA1M0YwMDExRTg4RDQ3RTA0NkZDN0M4NzgzPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiZGY3MGExNy1hNWVkLWVmNDEtYmY3MS0yYzc5OTFmNmE3MDQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDQtMTNUMTc6NTM6MTgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MTdjNTY3Y2ItYzhjMy01MzQzLTk5NDQtNWYwZWRjY2YzMjhlPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4KICAgICAgICAgICAgPHJkZjpCYWc+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0MTNiNGUwNS04ZDAyLThiNGEtYWE4Zi1hYWVhMTJjOWI1MzE8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3PC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0QzQ2QTgyQTNDQjMxMUU4OEQ1NDgwMUYxQUY4RkNDNzwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpPnhtcC5kaWQ6OTQyMUI4QjMzQ0IzMTFFODkzRjZGRjlGM0U3ODBDM0M8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOkMwMEIwRTdDM0NCMzExRTg5QTVFQUM0Njc0OUYzMkMwPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkJhZz4KICAgICAgICAgPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+WZs/LgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAEvklEQVR42uSbzWsbRxjGn9ldaWVbyKsqq9YfmEaOVFNyyakXmxwLRddCIaeAwX+SS0tL/wcdSiklPtnQs/thR05aE7cJsuMPrWNJq5m3B72rDpGcW2fL7IKRpRlrPb993nned3ZWEBGyfHj/5ZcLIfS3DgCdNgFAdDOY+Lu5Qs4OAG8N3uVXCUABoFarZbcCEiHw4HMA8gBiAANWAGUBgH6uOb76V6yEMre9TguAY+g8xAqY5UEXWRV1APfSVIBjaPDEAy4CqAAoAcgrpeoMIRMhQAB8HnwPwLkQos4hYT0A0ibDGQ6DMyLKDADdCgv8e4mIGuwK1gNwNQB5VkHgOM5qlhQgOBQ8AHO1Wm1FCBFw23tpWaHpSdBjBcyura1VtLZ7xZn8z+OOBusTxyCAROo+gJnFxcWVpCGO449YIdYmQpIH6PCrF4bh0rhRykZaabHJTFBqV1lUKpVw/E84Tt12BQjtXC4AUS6X72gAVm2vBfSqkACI+fn58tgjXTc1ACZdwOUJMFetVgu+7xe0hZNy+/mfFQCnNidCM2yBfqPRCN/uUJwrNmwHMMvrAd7KykppSp/GB9XKrq15QB7/rgi5CwsL5WkA0nACx7ACCgDcarUaTHTwvFQWRhxD58jxTwGAU6lUJgGMnMBaBeR58B4ANwiCCQCe59UM27KxSdDVLNAJw3BGt0AtGQq+/+HHOwBe2gjA1yywfFvHu7XVxlq99tImF0iyvwJDEMvLy8GtV8NzjVeFjiGVeQwhv7S0dCsA3/frNgJIQsAFIMIwLEkpsbOzg+3tbTz64nN8/dWXGA6HcB3XuBWaCIHkPB4AGYZhaW9vD1EUYWtrC5ubm/j911/w3bffIJfP32VQVilA8FqABCCCIAj29/fRbDZRKpVQLBbRbDbx5MlP8H3/Q9sUQBjdCE2Ww9z48WOBKJrs2e3i5rNPAcOrxCYAxADeJAq4ILr8uNNBq9VCFEWIogitVgsbSmFI9Mw0ABN5gALQZwh0qtTVJycn1d3dXWwfHCDneVhXCo9GAI5szAQVq+AaQK9DdHmfCBvHx9g4Psb6gwfjjj2iNgwvjpq6O9znuSD+S6mLd/Q9fL6+DhsBSA6B/sm7ARzYGAIEYMhh0G9LeX5bx2spn9paDscY7QkYdJSKekT9KRPFBVJYEzQVAgrADUOgC6LLCQBE7Uouh0ouZ6UCJE+EEYDBqVJXUxRwpGD+XrlnEECPIfQ7UxRARMbj3yQA4hDo3maFjhCHaQAwFQKKneANgN6L6VZ4aLMCFCdCPQA3R1JO7AZ5HcfjNHjBQgD6PBB3lIr6RD1fiALHx/n9vb0zPV5sCwFdBX0A8oLoXLPAp0hpg4RnGECyUWp4SXT6PqtdCNF+9fBhGuM3fiNimCRG50SvtM9TsUDTCtDrgsGpUidaDtDOAoAk0ZMABn8r9UfS4KaUA6ShAMkT4fVvUr7QPs+EApKiqA/g6pmUJzSqABVSfGAiLQV0AXTV6MoPkeJheq+w4mSoy5Vhm6FkBgBxPRBj9NzQYZYAJBYYMYxrMfJ/ygoA8JXv8qD7NAoBlSUFJPcHFIB4kGINkCYApVniGVI+0kiFJf4HT4yOZ+asPz3uIOPHPwMAX8PDjLFTmrgAAAAASUVORK5CYII=","compassPointer","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCMjc1MTQ0M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEIyNzUxNDIzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEIyNzUxNDMzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Bj/RUAAATkElEQVR42pRbT2xex3Gf/fiJ/yKKlEhbov5YduvGdgoURe1DhSY9G+3Bl7aH/IFdo4kLBIiLJI2AXpL0UrR2CiSXQmgQJSjqQ3Qo2qBteisQ2G6BKocAjmPFbizHEmWLIk3RIinK30xmdmdmZ9/7KMkf8fje27dv3+7s7sxvfjubfvBvPwBKAAmI/+TMN/wjItDLnCoPk93zNSWCRPoMLK+/kEtL5b1jnPEUnx/h5w/zex/l1COcZZ6PuZyLYJMzbvDlFc5zgfP+jK9f5VJf5jyXktYnn5PViGtMep30ebJva53kGZUM3pxEEH9DAsylkjYME5kIytessZKCoY1UPkGcmFKyG3v+KB+fZCH8Aac/TF4RynkoCCrfJ5gTYfCD45zwmKVrYT/jq//g8wsIdF4yJxVwrUfJS9YIvbc6Nv9NalqHYS1A5UredyU9QSgIXKr1PlnDpTef4es/5cSPQeiFIsQUGlX7KEGT3Py0Dg/zWYT4Rb79Kaec5fMZvt/0V+q/0D9VzLX8IHj9+gBBe4XKWe6JyGVG/qwUKqMAqX6TUxaQ6Kuc500eDc9x1o8VIaNLPN8jad+g/4fQ5vJ5anox/8morH3IZdNzXNSbfP9VTl+wukH4lrchlkkUxo2NRIIB5AaVB6hCMIHEwmWogzZMC+CBQE/x+eec8DVEOOQfaRqdL0rZWKSHWK5xVA4pmxC98bXyWL6X82taqY1862vl2/QUl5hQOw+BfJTrXelYKVO+Ecvhi0GdS1Z5lX0jwXCNuWIPcoE/4sLO8rEkhZp0iWqD5Q8JvGEYe5yPG1s38mEVovweeuPzGWMdSBvgxxKfzvLxI37w666HYv5Oe6qAizCGRJ2J1/1RUP8l6x/z+dt8c6B5s1cMNY3tZ2PVv7mZr2ZnZ6tC2PPNoFL6Vf49Pn7MT/6Mj3PRGsUyZDykTqUH1JFWK73aq6Kr+fw8H9/n4wBBJ5/n3yO99wzg/fffz8cd37u740CuG4DUMXWf90dGOYZA0QZU5dT5TfIj0b6f7Ak29bt4jEIvtrpTuDTeMQeMswDjy7r9iIUv8TvL/I5Yo907VXeIjiayXhv3uUk+/pWPx3sVTKoTYexI7c2k9p5ga2urDE1ULBFAFZF1yZjSvJppbNOodNQhPp6IQhgnjDoCaGzVJc93uo3vZv/QvcQ/abw03K6zHgi4YW9R7vW8l/dxrftnbvdGHQFdhVd+f8PHp+486nr4Iuq0zk07/O16ZmZmXLY9vpb2+FDvW1L3S3yc3qsstwIZOTVTgP6Ix/jpfo0q7KwYvFMRClq3gZK1/Bs3blQB8PXS0qIOeYgOh/op4TsByHRhuYtFoZ9i2q9w3v/jl89VWJ9aHZCiH4C5Zb/GKd92zRlgZLnEgL0NsKTOlDBBYRlUuSWkgm4FsMXXeTZwud4JJlOx+wqj3UHTshzGk2lZqyYFc5oT/5HrcZ5v/r84UeQO4DADi1SkRgWzS47v8dW8VSYrx1w51Xnq2KSufVbpotYkFeOpTlSpqJQ54hzb29suALkmHBWvzfwEF0QBP+6daF2Ko4bVxIgE5X2k6MCaNp3nenyPE36fzK3EMtoGBkPRbTE+yfcfL4gLFfcX1IQRq1OBtKhQuiA4yorNkBYSVuSmcFbStre2XQGaFdja3nE8UASIjtYolG9p0OAWbPIY7DUorvX4OCc/RY4HSvl5BPhwI1jg09+1/lTHFbQp0czVOL2p43U1U9q1ft8q3IDp6ameIdhLz1fdNT4zxbpVbPq3XIV/4Vffs7QBWk8VqTzLArkHK+ZXJ4XqNVAYDYrNod6j4/gWt9sokVET57/9JK2+g+03Qhk9fwApjEAM76KmhzIJ7+HrZ33Uiy9QtF+Wzn6e/19IhE4plAlfFFCZz8khZRWuskUihFT4BASdpxCBkipRfh7nf6MHzON0pwWcpSKlpEjNT3LdlUJvp8bd9X7XeqljxG2Evxc+QYb8ENHHyJ9zjkN1SKXArtRh14CeVCEeNewMjXWOsqw5/87OzlgBjEYYTN0Yt4raM0Ur0DhRfe8pPJE2PsPn5yVxqCZMRPs5CPa8mKsKjCjqBVUYpJrezVKEo/5qavgZafxoNBoDlYtgpqemgxEtTFIKzaumPzWCjw6rI4Ae/tC6JHiGn35DbgoOIDrFN7/ROCVOJqJ/wGm91h4WXNBRgAZeSEcJ0giuXbsGG+9twF4u+FtvvQXz8/OwuLgEE4OBu68GqLJJdSlQoOZSwAOVAiOdmgV/qKkv/suDfHWKR9tLBQeIj9/1XJTHc4k6cUoNAVxJ1YD6GvBNsL6+Du+++y588MEHwTtMsG/fvmwCZUTYCJBjdXUVDh8+DAcPHgSqkKqn7aMwvP2V3dWGp9ayVGL3T/ibLw2xgInHtavqUHJXzyGZo7+CRYJuSO1sNbFJ2SuXV7IAssnhXj3EjTqwMM9DfQYGKkl5f5tN48bGdc67Brdu3YK33347W4ajR5e5ToNCqaWWtk+xcRGE2SShODKoQavS5pR1ANJxvnnY+pCC9gRHXZXWSnWA9Hxd6tjgy5cve+P3798Px44dg+FwH0CgR62w6enpfCwuHoJLly5lB2ltbS3X5+jRoz6tovNGHcPfVYI9pUgNyHiITyfEGfrdyMOaqcpNTVTNmgowTAql0ccwGPxbX1vPcz6r3UOHYHl5ucxjxKq1MDonRRATEwM4ceIErKysZAFIGVNTU1wGT4cwrFPDoZkW9BZAMIhhEaXqDXXgTrEZxN8ey8YnwwfQ8vuN+TMlV5WmICGZ0ytXVnLvSc/LfCanojtkPVGnJ0uBhw8fgd2bN2GTR8KVK1dg7sAcK8aJihF6/jfu2fe9xZGKJH9rwD3ySFaEaLTxCEZjMXiL9x35BcRmfsBVVmIyj+W3fGTZ8T42KE7yjhoUF6lrkf6R5fKulHX13dU+O4yG/UcBbUbUiH6mMaiSv/uITIGTpMs9iSrN1cgwBdbINWtfyiLUmzd3YI2HrTRYtPjEcKKsAzSjhcYDqTCEy3SYyGZRpsHa2jWYm5vj6TAJaZDG4P86betUT77AssfvpOCA5Tx8DGb6FEhhaUnnnWGArOEpN1YQ3M4Wn3e2swmLXt78gfnSU6nqlg7/3RCy0ECeorhFAFevXuVv3YQLF17LlkSU5cwMH9MzMDM7m3VEqquktTT7XjDn0C6gLYkOmIPQuz24qdc7XAFprB3dxvbIRP7oJPeWLXC44kxhEdUUSopLYuBr1ELQSOOc2tapZHR6/JZQavHIQqk2PV9jWHZTWe0XKDzXMCy5Z29mlzU2+I4LKF0qeXKyVJjMXmDD5HSX3mMfNFMOylTY3d297ffuJJRZHSmgI7vwAmmuOEOpIKekbm1BZlgUlx4fVgBSho+QFJ0zAzB1NAQWLAM4Ra8+h5uy7vKXe9zqnombkdPv1CFFN/k8VypSumZqeio7JfPzB32xJMPU7S0eGXc3KqTHnO8naOCs6YQyJlNQtKmjFwr6lLJu963Y29LTZQpMs75I1WxawzEGfsAmI0HcJAlOiH6/m3Xz+CCzNTM8hBYWDqrZ5amyU5Tglhw6ZWJFheycyXx/J3KD2mWM1CBQCISnuMlbjfdojbWGyiFKUeBytCpSBmpjk1FnyjkGjuL94YhohfMcjSExjqLUUzYy0t1j/cYkS3mSP77A5q66tNvwi1+8mXvtGiO5o1zB1CHsu8sPvmiZKDgy5Y1ralJFp9z/wAOs+afLFOogz7p8H2BxSlWvp04bykurAoQulvmFSiRiS3bqvVNPHb1g5Gcug++nRCDzC7nXxAPcvblbwRK2lFchY/WbUIGLlSdIUMqQssQcZs4QrF41XwVjem+oExWcAfp3UYWlwOyicIKvOqKzF3LmkSKuwAn21uc5bUQBNVK+X1xazENV3N+LF9/MCkjSMSO/Us7IGjtSwXIjR1KOBkzIO/KulCFlLS0u5fqNsHJ/GOthHaV1HoW6RxRalKF3xKuyPP4Tb7iFmDjZiF4ghrPR3YhB6qFHxaFZZg9O0sUbFKIjC8EgKEbIq+VZz2QLQvzOL/nd93IZ4hJPDAe1F53IRR8J5BrfRmMZCaVuoMLAQvbmUZLz/WTIPfNydek6oQkYfH1fRCXX2NQLjKtLU4vsAUoAxDX2C955551sRU6ePJlJkEhcdS3ErQ92uecvwsbGRi51cXGRPcFFh9MBkzdcY5eRpw5fHheAQ6DY/wgU/iWnvMbj7CGIjIotQYUwtNTxvVPE3QHjkCrO+44fz0N69dpqHgnXr1+He5aW4CD7/LMzH2kWv2+wFVlbX4PVq6uu9aXx97FrXFzoAGRTYRMy4ZGCi9tA4MobOiuZmuX2CwnTW0qKwg+5JQ/1V57pdvRCu+ZP0HF1y+++k/fB7EdmM8MjXt1l9vPlEEwvo0GmhaRHMzgcDuE4C2+JhVXjjmgMr9HS86T+O411hHuBGP9JBQjll87x+88SmJmoPJdzfU4sVo7eHI+UbCG0jpTYW8LyLLAWF40uptGY4S47XBihRbj33nsz/M09n2qcYYrMrq9HgENtc+CcAIXqa3i9bF0B4FyJD8DsGLzE77/Ow+nBilCDnya0GLasX/EgjdIK/GGuCFT+0Lg87vHDR47AARbEK6+8MhbR3X//AxngJFVeHlaji58tx4PNqgV1o0ahAiLAGiKr64nc1vSSCGmoml+Sz/D/5yIeqYzreO6/tyBBFOjoqkFtjT/jhKkp9+rir7i5U2p+U89/6HJ9qRuTHNYtE3SCPiA1Cp1TzkgUFZYRgKY+zrCk/4ofHnTiA6vDlgg6DaeOU5faFalUR1EK8cGitGSod9cHJY0MfaqCc//AqXmtaYKKTktUIjQRxL34IooIe52vzpCyP0PyENLEThF+U6I+e8tjYQkqjWHkxvdSVI6pIeQFv1uMoP1yiAxioEdIBddRZA1XWUcDNgHSNDa8Sn2Rb3HBmzYthmZilJT4Jnfk5znhnvGBioUh7i7f1VWXMaYyLrGr2ZyVxnYENjszC0gUBKwhO2ncEmMM544hL3SbuKX87yr/+5ZCmVz20HCzDrT3+PI0V+47JpQm/ohU+TiTU2OLCDq9RZXpSTHWAMSbm+0JQCiugt6Sx/igj4KwaEP1uxCDut0atXHjiRrYdZrv14wDlc8MSAlQg4sMK7/L6S9ChLvBiXHWFQx6gq/FV3gMGuGhON1cy+xzIUzPFLrKfAq5FifKWWGPMYhlWKQ6tbjfYhIgOEWogdotZH6R6/dd1LLs/WF1I8MWBKIn+fp8ktia3kRIzZJ0/ynUcHvqAhBq5rwpQrkuMqI6z2mcLqE9eP7OuqEh1Pq5Da7XkxTX1TVvP1i6lPUGv/BZPn/ftW3cfZC6Tn1kdDsmdI/IP7H3JgC59pCXEA5Xl75bNreuUneneFjRaxvFbUlv9OJ1Ug6RoYY7KyMin8/J5oQSkBQWLQBrMBN1Q1W0DPO/LdS9WQwp19brbgHUU3Qa3nZmWKQIwZ2DspEqF1Dr/DyfzlUvVM9a/6Ht5Ehh2FQDgqczW5TSp5IrKGi8Mgoh7mUd0Xwp9GUuY2JCOF/m9FsTqK5xhNhQ9xilGOqSKh70dYBUPVbSD3HqP7NAvpLCXick8gDPjANiEEII/zQqTEp8mjMvcsLjBMEr0zGYQgV8ATLFzQnBtVCFJZeTjPoE/UlFJoX7B2wWMAt4s6ajeuEah6Sd1tpcTUO1BkQ/REpPlwKxQmqqgErSB+XFsJXEFFGNudvluyf4+gWP4rPdHDodsl5FbFkj3y1CDYNj21eSor88FYxNAtPeRphAiE2ESmeZcHuEjDNTL/D1E5ywC7Yw01iYSsx4kFT1mUk/EBcQJOScPs3nFe7JL1lvxICLqksxIDLsBDZT4f1VCU2z7XfSMg86dD/AoTbV6C8nOtWM9YOjMwL8Br/yl7Jnoi6IYd2r5qG7paxsBlPTkKRmKMw90LhlSl/mq//ldIkjPuBNJuoHIoFpbzJdVoOrsyBIA6LqpgOKC6eUgo6p0QvZMdXQXne8SmOu8/+8ZcYaSimEy0DHPJZoC5kCtg2OfIjZEhnZ5iedGoUPZD8a6VHO9SI1GhrrBiXdKRaDG6EJrCy4aHq6cPql7Br2hmgbnSrHhxpJErf1oQZb8N+LnPY7IJYLwxY9MucqLN9rKC6qtRpQ2C2W6em8o436zAuYacqQ8XV+7xN8+TSbvtXa7MjSajlEvoENw7Y6OctS99TUvqKAA4okMJI2TK1AbFqcsvD6LLynOekTfH4DjdCFsEfI4pxDGrg5h7JtDiniavSGdLefxY2pmuFsDq9D+jonrtkHzM76tjWEpjwLZOhHidQgZxM8Omtc0SV/j/E8/TXKtwHP5lKJoN23WPc9YrASXpaO8onHHnvsDquMd9wPI2Gf/83HP3BWcTROVG/yrsu429+rGswt22D+S7/94TdahQxDWzOzLu7G+rWx+1U5Wcha2NW9yZfP5xBUSI/yk8/wkz/k+we97MDytFsRO/uQ23jQ1znl3/ninzjhfEVTnTJTDO6kdm9z4GwgjOa8aYoqDdNwbJXoDP45prqTPAY3UbOiKM/Py05vTvkLTj/Giaf42W/yKw/x449yRY7wFJBV1lnOe0u2EHL6On9znc8XWFu/xuW/wj7By/zsEvkGjO4O8OoQxH0M7j5TCkE3VHkjC5jg618JMAD1kaihzbRwnwAAAABJRU5ErkJggg==","compassBg","autonavi","PLANISH","image/light2.png","maxZoom","canUseZoomToCursor","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enableIncline","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotateSpeed","orthoLimitSize","enableKeys","RIGHT","target0","position0","zoom0","saveState","drop","NONE","setFromUnitVectors","applyQuaternion","setFromVector3","autoRotate","lerp","isOrthographicCamera","setFromSpherical","lerpvalue","forceTheta","forcePhi","zoomToCursorPolarLimit","minAzimuthAngle","makeSafe","addScaledVector","Spherical","setFromMatrixColumn","WARNING: MapControls.js encountered an unknown camera type - pan disabled.","WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled.","minZoom","deltaY","BOTTOM","keys2","ROTATE","ROTATE_UP","ROTATE_LEFT","DOLLY","PAN","DOLLY_ROTATE","EventDispatcher","THREE.MapControls: .center has been renamed to .target","THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead.","THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead.","THREE.MapControls: .noPan has been deprecated. Use .enablePan instead.","THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead.","THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead.","view","isFlying","flyTo","direction","moveSpeed","ESDirection","can not find esmap.ESDirection data","WAST","EAST","NORTH_EAST","NORTH_WEST","SOUTH_EAST","SOUTH_WEST","p2pFlyFocusTo","cameraPosition","toggleControlsLock","rotateAround","checkScaleLevel","BuildingService","TileService","singleMeshData","ESResourcePool","modelLoadingList","singleMesheDatas","filterSingleMesh","ModelLod","pendingBuildingId","misStore","getModelImageById","setState","addToSingleMeshData","RMR","CenX","CenY","RMO","loadBuilding","_isBuildingLoading","queryData","DefaultFnum","firstFloorNum","undergroundOffset","queryJsonData","2001","themeLoadError","themeLoaded","setBuildingThemeData","DefaultCenX","_analyseLoad","_convertIndoorFullData","focusFnum_","focusFloor","ScaleLevel","calcSceneBox3","visibleFloors","focusMode","baseHigh","floornum","_allRoomList","asyncLoadFloors","loadComplete","modelLoadings","ESMapLogo","startTime","expiresIn","IDBTryInit","ESCACHEV2","modelLoadedAll","tryClearOldVersions","tryClearOutdated","updateCacheMap","transaction","objectStore","cacheObjects","put","onsuccess","onerror","save cacheObjects error","getCacheObject","result","canUseCache","updatetime","ESCACHE","inActiveCacheMaps","readwrite","mapIdx","only","cacheMaps","clearOutDated","indexedDB","deleteDatabase","Error deleting database ESBIM","upsert","openCursor","active","onupgradeneeded","objectStoreNames","deleteObjectStore","createObjectStore","errorCode","IDBInit Error","imgs","loadRecords","serializeToString","parseFromString","svg404","text/xml","img404","failed","prefetchTexture","syncGetTextureByUrl",'<svg t="1684316115423" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5460" width="32" height="32"><path d="M512 981.333333c259.2 0 469.333333-210.133333 469.333333-469.333333S771.2 42.666667 512 42.666667 42.666667 252.8 42.666667 512s210.133333 469.333333 469.333333 469.333333z m0 42.666667C229.226667 1024 0 794.773333 0 512S229.226667 0 512 0s512 229.226667 512 512-229.226667 512-512 512z" fill="#d81e06" p-id="5461"></path><path d="M706.88 724.266667a21.333333 21.333333 0 1 1-31.616 28.629333A212.992 212.992 0 0 0 516.736 682.666667a213.44 213.44 0 0 0-126.890667 41.6 21.333333 21.333333 0 0 1-25.322666-34.325334A256.085333 256.085333 0 0 1 516.714667 640a255.637333 255.637333 0 0 1 190.165333 84.266667zM330.346667 424.533333l-60.330667 60.330667a21.333333 21.333333 0 0 1-30.165333-30.165333l60.330666-60.352-60.330666-60.330667a21.333333 21.333333 0 0 1 30.165333-30.165333l60.330667 60.330666 60.352-60.330666a21.333333 21.333333 0 1 1 30.165333 30.165333l-60.352 60.330667 60.352 60.352a21.333333 21.333333 0 1 1-30.165333 30.165333l-60.352-60.352zM693.013333 424.533333l-60.330666 60.330667a21.333333 21.333333 0 0 1-30.165334-30.165333l60.330667-60.352-60.330667-60.330667a21.333333 21.333333 0 1 1 30.165334-30.165333l60.330666 60.330666 60.352-60.330666a21.333333 21.333333 0 1 1 30.165334 30.165333l-60.352 60.330667 60.352 60.352a21.333333 21.333333 0 1 1-30.165334 30.165333l-60.352-60.352z" fill="#d81e06" p-id="5462"></path></svg>',"loadedList","dropList","areas","LOD","counters","tileInited","roadGrids","failedNavs","failedTiles","buildingIDs","tileUrl","_o1","_mo","_ul","buildingLoadingCount","defaultView","initialViewLen","initialTiles","_isrd","InjectProto","bXRpbWU=","bzE=","bzI=","dWw=","setPlanish","showBuildingMode","SINGLE","exit","debugTileBounds","DOTTED","-BOUNDS","planishValue","plannished","SETCOORDSYSTEM","_gp","skNl","getBuildingColorStaged","convertGeo2Geometry_","queryLic","INVALID_TYPE","crs","color: #3399FF;font-weight: bold;font-size: 14px;","custom","INVALID_OFFLICENSE","X2BBXGk=","Hash Error","ESRemark","WDL","TOKEN_MISS","ESTileurl","__trl","__mtn","updateCityScene","setBidList","effectId","vhosts","isInitTileMap","showTapTip",">esmap</span> </div>","ESTapTip","#52564b","white","4px 11px","borderRadius","4px","flex","span","es-control-popmarker-top","absolute","solid dashed dashed",") transparent transparent","-16px","all 0.2s ease","userSelect","tileUpdated","mapClickNode","propogationIndex","group","queryNavs","ESTileMapNavSet","Nodes","transformTileNavdata","routeDataLoaded","queryTileScene","tileGrids","convertTileData","queryTileTheme","getJSON","ä¸»é¢æä»¶è¯·æ±éè¯¯: ","setMapTheme","tileid","worldScale","getContainerExtent","isValidTile","showBounds","getTileNumbers","loadTile","__bo","0,0,0","tileType","getTileScene","tileLoadComplete_","needNewTileByRoutes","buildingScale","filltype","topTextureType","sideTextureType","scaleheight","__singlemesh","RLSize","cityAssets","buildingImagelogo","Fnum","RMS","Brief","åå«singleMeshï¼ä½æ¯qualityæ²¡æè®¾ç½®ä¸ºlow","RModel","roadDatas","maxV","getQueryUrl","getTileThemeUrl","tryFetchBoundary","/boundary.json","grids1","grids2","citycode","parseBoundary","tileLayer","frozen","buildingLoading","ä¸ç»´åºæ¯","æªç»å®","buildingFoucsMode","beforeOpenBuilding","buildingThemeId","buildingsFirstFloorNum","dataCenter","shellMap","shellId","DefaultCenY","transformNavData","navs","buildingRouteDataLoaded","originHeight_","toggleTilesLayer","Tools","toggleTileLayer","visibleBuildingsChanged","tilesHidden","navLoaded","checkInitials","tileInitComplete","tileLoadComplete","loadRoads","requisitesQueue","modelInited","autoLoad","concurrencyLimit","mapModelsCount","mergeQueue","mergeQueueWaiting","mapModelLoadStatus","userModelLoadStatus","userMergeQueue","lasViewCenter","hiddenFactor","maxShowModels","mapDispose","checkMergeQueByShowLevel","modelPrefetched","setFrustum","addMapModel","toLoadedCount","__nomerge","rankRequisites","rankSingModel","checkO1","ES3DMARKERNUM_ERR","layerid","startLoadModelsByShowLevel","iswall","gltfObj","disableIndoorClick","toLoaded","modelLoadComplete","startLoadModelsByFLoor","applyRequisitToMap","loadExist","disposeInvisible","sizeInfo","applyMergeToMap","addUserModel","checkIfNeedLoad","loadUserMergeModel","modelrank","scaleLevel_","ind","rankAllModels","applyToMap","animNames","SkeletonUtils","floorObj","floorLabel","_ef_$fl-group","marker","callbackparams","lod.gltf","wallModelPrefetch","brief","èªå®ä¹å¨ç» "," ä¸å­å¨","setAlpha2","wallmodel_prefetch","model3DsRGBCity","$basic","LinearEncoding","needDepth","æ¨¡åå è½½å¤±è´¥:","setMatAlpha","baseLayers","modelTextureMeshs","_lodRecords","modelImageLoader","handlePlanes","planeData","roomLayer","isPickable","tileMaterial","water","geos","selectMatIndex","TextureType","layerType","model3data","RoomStyle","tileStyles","bordercolor","255,255,255","borderwidth","lineTheme","lineIndex","drawOutline","lastGeoCount","usedRoomStyles","RoomElevation","Fnums","groupIndex","normals","buildingsHeight","buildingsColorAttr","highLightColorAttr","topTexIndex","sideTexIndex","normalizeUvs","uvs","dynamicBufferGeometry","topFaceFlags","randomFactor","buildingsColor","appendAttribute","rUv","checkLod","modelImagesData","modelImageGroupsCopy","modelImageIndex","modelImageNor","modelImageHideFlags","setGeoData","modelImagePos","modelImageUv","loadModelandImage","loadModel","viewRank","viewrank","rmodellayer","roomdata","rotate","typeid","MODEL_LINE","startIndex","lineObject","strokeColor_","strokewidth","modelLines","Reader","ESTileMapSet","Rooms","cname","Type","emptyObject","fork","RoomSet","POISet","ldelim","encodeDelimited","skip","cname: string expected","minX: number expected","minY: number expected","token: string expected","Rooms: object expected","key32Re","Labels: object expected","Labels: integer key{k:int32} expected","Labels.","o2: integer expected","t1: string expected",".ESTileMap.ESTileMapSet.Rooms: object expected",".ESTileMap.ESTileMapSet.Labels: object expected","Outline","PID","GID","bidox","bidoy","bidoz","bidrids","layer","bidor","bidpids","Did","bidstyle","NA: string expected","NE: string expected","MC: integer expected","RL: string expected","RLSize: string expected","BC: integer expected","Fnum: integer expected","FH: number expected","RM: string expected","RMS: string expected","RMR: string expected","Outline: string expected","PID: integer expected","bids: string expected","bidoy: number expected","bidoz: number expected","bidstyle: string expected","bidpids: string expected","layer: integer expected","FSId","ST: integer expected","X: number expected","Y: number expected","h: number expected","FSId: integer expected","Sid: integer expected","NavLineSet","NavNodeSet","Nodes: object expected","Nodes: integer key{k:int32} expected","Nodes.","Lines: object expected","Lines.",".ESTileMap.ESTileMapNavSet.Nodes: object expected",".ESTileMap.ESTileMapNavSet.Lines: object expected","sid","H: number expected","sid: integer expected","gid: integer expected","Z: number expected","bstair","na: string expected","eid: integer expected","outline: string expected","rank: integer expected","dis: number expected","bstair: integer expected","style: integer expected","buildingOffsets","mapOptions","buildingFilters","ESMapSet","b3RoZXIx","nKST","checkBuildingFilter","_convertFloorFromSourceData","_oav","minV","_scaleLevels","_initDistance","_buildingCoordToThree","_buildingCoordToMap","getOutLineList","convertIndoorGeo2Geometry_","isTube","Circle","RColor","originalPoints","originalHoles","FsId","getLangItemFromJson","RoomLogoSize","imagelogo","roomtexture","roomTexturePool","texturekey","textureInfo","noTexture","/imagelabel/","imagealign","Facility","convertShowLevel","Lifts","the visibleFloors ","ARRAY_REQUIRED","defaultFloornum","visibleFloorNums_","floornumtext","HeightSpan","FloorHigh",".json","jsonLib","VERS_ERR","EXPIRED","_cl","editor","mapshow","o_d","o_t","oab","logo","_uo","o_dm","opc","navBrand","ROOMLOGO","FLOORBASE","maptime","address","BuildingHigh","Tel","FirstRotateAngleX","FirstRotateAngleY","FirstRotateAngleZ","FloorBarName","emptyArray","panos","Firstscale","DefaultCenZ","NavSet","FloorSet","PicSet","version: integer expected","maptime: integer expected","Type: integer expected","Brief: string expected","address: string expected","BuildingHigh: number expected","Tel: string expected","FirstRotateAngleX: number expected","FirstRotateAngleY: number expected","FirstRotateAngleZ: number expected","Firstscale: number expected","DefaultFnum: integer expected","DefaultCenY: number expected","DefaultCenZ: number expected","maxX: number expected","maxY: number expected","ScaleLevel: string expected","FloorBarName: string expected","floors: array expected","navs: array expected","navs.","panos: array expected","bid: string expected","logotoken: string expected","ul: integer expected",".ESMap.ESMapSet.floors: object expected",".ESMap.ESMapSet.navs: array expected",".ESMap.ESMapSet.navs: object expected",".ESMap.ESMapSet.panos: array expected","arrays","Alias","imagesize","LiftSet","floornumtext: integer expected","NameEn: string expected","Height: integer expected","Elevation: integer expected","Alias: string expected","Rooms.","Facility: integer key{k:int32} expected","Facility.","Lifts: integer key{k:int32} expected","Lifts.","image: string expected","imagesize: string expected",".ESMap.FloorSet.Rooms: object expected",".ESMap.FloorSet.Facility: object expected",".ESMap.FloorSet.Lifts: object expected","PointID","ShopID","RC: string expected","RH: number expected","RMO: string expected","RS: integer expected","SL: integer expected","CenX: number expected","PointID: integer expected","ShopID: integer expected","FS: integer expected","FC: string expected","Tid: integer expected","F1: integer expected","F2: integer expected","LT: integer expected","LM: string expected","LS: string expected","LR: string expected","LO: string expected","X2: number expected","Y1: number expected","Y2: number expected","O1: string expected","O2: string expected","floornum: integer expected",".ESMap.NavSet.Nodes: object expected",".ESMap.NavSet.Lines: object expected","rid","rid: integer expected","efnum","efnum: integer expected","length: number expected","direction: string expected","Infos","serverurl","bgaudio","bgaudioplay","picscale","msgscale","PicNodeSet","PicClickSet","serverurl: string expected","bgaudioplay: integer expected","picscale: string expected","msgscale: string expected","Infos: object expected","Infos: integer key{k:int32} expected","Infos.",".ESMap.PicSet.Nodes: object expected",".ESMap.PicSet.Infos: object expected","idlist1","idlist2","base","url: string expected","base: integer expected","idlist1: array expected","idlist1: integer[] expected","idlist2: array expected","idlist2: integer[] expected",".ESMap.PicNodeSet.idlist2: array expected","purl","msgc","curl","csize","aurl","msgt","purl: string expected","aurl: string expected","msgt: string expected","msgc: string expected","curl: string expected","csize: string expected","ESMAP()*&<GoodWork","keyBytes","stringtoChar","å¯¼èªç»æ","æè°¢ä½¿ç¨ææ¯ä¸ç»´åºæ¯å¯¼èª","å³åè½¬","å·¦åè½¬","å·¦åæ¹ç´è¡","å°è¾¾ç®çå°","å·¦è½¬åå³è½¬","å·²éæ°è§åè·¯çº¿","å³è½¬åå·¦è½¬","å·¦è½¬åå·¦è½¬","æ­¥è¡å¯¼èªå¼å§","è¿å¥å®¤å","è½¦å½¢å¯¼èªå¼å§","ç®çå°å¨éè·¯å³ä¾§","è¯·åé","applyToGeneralLib",".ESLang.json","getDesFromNavLib","getDesFromGeneralLib","waitings","distanceToPoint","targetLod","applyLod","caches","sound","audioGroupMapData","audioGroupSound","configStrLength","canInterrupt","isLoaded","isPlaying","playIndex","playLength","sprite","spriteArray","loadFile","loadSoundArrayBuffer","dataBytes","getExtentUint8Array","ab2str",".mp3","extentIndex","Howl","loaderror","audio load error","destroy","startNaving","playAudioByText","startCarNaving","absoulte","margin","10px","distory","playSprites","endHandler","rate","num2text","decodeUnicode","playSoundByName","100","_testEachKey","and","_fxl","isShowSingleBasement","onUpdating","__ignore_box","Unknown Object,skipping","clickOpenBuildings","bimLoader","getInfo","bimInfoLib","infoList","modelSelectedEffect","%clogModelInfo:","color: #2BDE73;","LINE_MARKER","_originalWidth","_originalRadius","worldCoord","hitCoord","mouse","keepPress_","LABEL","ZXNtYXBzem5vbG9nbw==","updateBuildingScene","buildingUpdated","preLoadComplete","openCityMap","unsetScaleLevel","finish","composerOrtho","originSize","addPass","timer","themeList","materialList","modelOpacity_","floorColor_","floorOpacity_","model3DsRGB","selectedColor_","defaultLabelStyle","rgba(0, 0, 0, 1.0)","selectedLabelStyle","labelStyle_","12.0","fontStyleThemeDic","textureList","tileTextures","model3DSelectedColor_","userBgImg","maptheme","defaultMaterial","defaultTheme_","defaultLightConfig","#777777","removeLight","createLight","setLightProperties","setLights","updateTileStylesByData","sideimage","ä¸»é¢æä»¶éè¯¯,è´´å¾æ ·å¼","è³å°åå«ä¸ç§çº¹çå¾ç!","/building/","topimage","topimagetype","topimagerepeat","/upload/building/","sideimagetype","sideimagerepeat","cloneByPropertiesMap","fontsize","imageShadowBlur","assignExceptUndefined","#000000","tileTexturesReady","texSide","texTop","roomTex","matIndex","roomTexture","basic","prodMatIdx","tileStylesMap","initRoadStylesByData","/upload/","linetype","clearcolor","initTileStylesByData","initPoiStylesByData","_useThemeLight","setThemeList","mapstyle","poiStyle","roomStyle","cleartransparent","defaultFontStyle","roomstyle","color_","floorstyle","floorStyleBase","baseheight",".png","existflooridmap","fontstyle","imageAlign","imageScale","fontStyle","selected","createMaterial_","\n                #include <uv_pars_vertex>\n\n                attribute float isHideFlags;\n\n                varying float hideFlag;\n                ","\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                if(hideFlag > 0.0){\n                    discard;\n                }\n                gl_FragColor = resultColor;\n                ","emissivecolor","getModelTheme","cloneObj","getFontTheme","getPoiAssetUrl","/buildings/theme/","/EsmapTileOffData/","/EsmapTileData/","/buildingImagelabel/","getPoiMaterialByType","initPoiMateriaByData","buildings/","material_","setBackgroundColor","themeChanged","rects_","collision_","height_","flashDelayId","flashId","flashId1","flashId2","getAlias","updateScreenSize","enabledUpdateSize","originPosition","showLevel_","_lastScale","getPerspectiveScale","ESTextMarker","Label Error","meterperpixel","notAddImageHeight","UserPOI","unspritify_","spritify_","Model3D","UserLabel","_jumpID2","originalY","alias","_rotateID","_isFading","_fadeID","out","scaleRatio_","meterperpixel_","oriEmissive","getHex","oriEmissiveIntensity","oriColor","changedColors","mapId_","minX_","asyncWaitTime","modelLoader","ESGLTFLoader","counter","initBase","tiles","o3dScene_","collideLabel_","requireCollide_","getBuildingScene","IMAGE_MARKER","mapplane","theme","updateScene","disableViewCenter","_vk","expireTime","defaultLight","udoffset","meta_","invisibleMergeModels","loadTiles","floorEdge","offsets","addTask","handlePolygons","modelImages","model3Ds","postCount","createWorker","workers","workerStatus","message","receiveCount","bimMerged","bimInfos","onMessage","loadFloors","loadRooms","checkWorker","tsTank","postMessage","checkTstank","closeAll","NEGATIVE_INFINITY","setGeoPoint","mapPicker_","enableMapRotate_","enableMapPinch_","enableCompassTap_","enableMapPan_","controls_","enableMapRotate","enableGestureRotate","enableMapTilt","enableMapIncline_","enableMapIncline","enableMapZoom","enableMapSingleTap_","translate","ELEMENT","useFadeIn","updateEventId","_firstInited","_configs","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ0MzA5RjcwODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ0MzA5RjcxODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDQzMDlGNkU4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDQzMDlGNkY4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ueb6GAAAH1ElEQVR42uRbaXMTRxCdWa0uW74AgcEOFEkIX/L/f0uSAnKAAUcotgyypNWxmUm9xk/tWWl1IK8qquqSLGulfa9f9/T0zNg0Tc0GHzbn5zZ2U/EGgFr62+YgISUCUkVGWnQCbABwRO9F6jNWARWbBN7TVigCrALJVlIWKSLkMVE2VjYhYiYZCtk4AdqzAjCGlWH8WhNhCJQHOoIN6XlI74fISDdNgPZ4SYGsOKs6q8HkdQVWJhKEgDGAJrC+swE9i2lCzCqhES8Jnj1eImAeaB3WcLbjbM/ZLv6W/1Xx2yWSvwDrwbrOvsC6sGv8r09EiSpSFR7fhICICIjJ2zWAbQDwIezI2T1nB7AGyKiSCpiAAQB60FfOOs7+cXYB6+D9zyCjT6oYEfjJugnQCS4OAD8A2AfOHjp7hNcPQMY+PlvB9aEcMIJXewDpAbedtZydO/sbf3u7VEQkIMIsQkK8BHiRex3e9sDuO2s6ewI7dfYY7x+AqHJG9g/VACnIGMDjXgUfnb1z9t7ZGZHRISIsiDB5R4l4gZgvAYR4fR8SfwjA3zl7htfHAC6xHqoPZlWAKeWWHSjrEUg9g6regpBzlVQt5Ya5o0ScI+bFBPwuwD0AUA/6e2fP8fo+1FHKKHryVILsPQm5GqntCLYTINmokcUuSwBLv0LgjyD3U4D+ydmPzk5wg7EqdhaZA5jANUKEBbFl5JxDGmFqalSR65J5OSGeI3tOeCL7JsC+cPYSzye4kUglN2tWf7CCxJOegKdUU8QKaKqKpTRLCfGcHw2BPwXon+H9J5BhlCPJrWOCFUPaNRAvSVl+d0zy1wXSOA8BloqcspL+MWT/EuAfA3yJVLOJ6TTnlyaehwA4wHNCpfWE8skkDwGRysIHyMJPAZw9X1Lxvqm+gpBdAQkvAPaaSuihmj/cCoV4Dvga4u0+5PYDEt5dgg+REGM4Tqgm6KoCSUiYS4ClMle838Q4/1wlPHtH4EMkVBGSUkJfgAyZO/CcIRgCOvbr5P0nGOOfIRnqbG8KQEIJ93wK8FIlyiRKJltTKogyhj5JfntEwClex3co+zwkHOJeT1Cs7YOYSihko8BYy0PfIZW6x/iiqIAEGFW0Nemej2gGGuvQ1QqQxkaVhj6pwQ8KCjxUMO0C/DHmEQ2akJWyCDAk/yopQKa01QJ7X6ugDOBNhG2IgGAIcALco/n9Pk04ivzg+UsD935vVh6IlPdLpACZ9R3iYluAYW9RFcj9awV8dXxIATEVQIfK+0UHr/NZg1pxdZo4fa0foozurowCu5T5twm8WC3Qh5yqX6JA7MRq/l9dcl5fBCKkmq1TL5KToI1mtL4qM7ot2wBeZo1V1YWeWQdoEsqqy2K2jISI4j7WNcAsAnhNz24pAamZXrwJLsxG5n/+iGZ0YydmxYXHgqhA9wan8GoF8LL0iKaP20xAaGU5DSmA1+Z5lXZk1rwpYUPADfUGE+oNTqkhCshe1uf6aCQkKjy2zfuy2jxQJPz3mSgQ80KA9NV6W6YAboV70F+oUcq9wWASlNjvA3wHXzDaQhImCkOfCMgMAdmlIcz5iy/x97YQkJL8O0RAz0zvI0glBJgxIaCPi/5Bc/FKM1dw8BPIvg0MV/MUYChrigK8fHx3tYUvSbakLpA85pX7CSRICCQqCd7KAXIxE+A3IvjNCZ/NGnZlbSDuU3j/HPfdViEwzjMMDvAlHXyRbEQYFJgE3lnSxj1/hBO/0DCYGQI6EfYQO/7L3sMuVBIpmvfHUKpso2kBQ8/cLJZmLo5qAvr4sra52ZZyhA5LA+SlBZgtcg0zAPg/oIBPRMAwlMjjGTJKKAx8HngLAnyf8CkBv+t2WUrlu/f4787+Ivl3VRGUiwBWwRXaY+/QIttDh+WkACTw9lo/Ur1x9goEtOC8TO9nESAxMqRkeGlutrzuULeoidbZpknQSdvf32tnv0EBH8j7fZrVziVAf7kuimTRVHqGskMj3iAJHPNjgPee/xXeP1Oxz8nv1tQ+nvMjMiRG1B7jHqH0DB5BHan5dvsG9KRtCKe8BvhfkPzOQUo3MPSZRQgIkaAJ4B3exwgP3i+0DiLSQL9igBh/A9m/IvBZiW+hbXJGXZCY24cbxjRS+OHSb5Y8xShRzlDDomeG9AmSEX7rDIBfIebPCPxnkv7cmiXOKTsBGxouuWq8xOjQxIhRyVCDzQmcVdhDbMs4/yeG5g94/5L6F7qTtRIBsqVkpG6Kh0qZN7RxQ7I5Qdbm9aKkkJDOIECAdwHuIzx9BuDnCIMLJDyRfaj9ZZYlQN/UmFpkHAZSNcrc4T0IkPX5rBVaO6cfIaV4iyY3LXhczg90qeU1NDk3SS9CgFaCrr15j38XmbkFT90jAmSVVjY4hw5MSE6R2qNDPYk2vScev1ZeH2eN91kPu8TBST41wqvJci6obm6OyHjbp9ey2swrtcbcPixxbW6Oy1yZ6aMz1+TxhFreE7PE2SG75MlRGyAi68BUnZ6r5mZvrz40NSIVyE7PnnoW0EMa4sarTNHtikdnQ0SETpCVzfQROr3uqENqqCyh98cK+EqHKe0azg7rBUdeXI0U4NBCpQkUOrw6lXV4ci2nSO0aD0/bOYTMOjrLhVfoUGQaSG5rufF1nh3mG2MyJgFiNGkhUKHjsYU/PG1mAFr0zNA3Aawf/wowALH/m2fIXechAAAAAElFTkSuQmCC","activeSprite_","_addGlowPlane","fixedSizeUpdated","getDefault","_os","setSizeAnimId","_oc","disposeCtx","aoTexture","isOnlyGlow","activeColor","isog","\n                #include <uv_pars_vertex>\n                varying vec2 nvUv;\n                ","gl_Position = projectionMatrix * mvPosition;","\n                    vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n    \n                    float x = (0.5 - nvUv.x);\n                    float y = (0.5 - nvUv.y);\n                    vec2 cUv = vec2(x, y);\n    \n                    vec4 aoTexColor = texture2D(aoTexture, nvUv);\n                    vec4 texColor = texture2D(texture1, nvUv);\n    \n                    vec3 col = vec3(0);\n                    float d = 1.0 - (dot(cUv, cUv));\n                    d += iTime / 3.;\n                    d *= 3.;\n                    \n                    vec3 colors = activeColor;\n                    //colors = fract(colors);\n    \n                    resultColor.a *= aoTexColor.a;\n                    \n                    float m = fract(d);\n                    m = 2.0 * (m - 0.5);\n                    m = 1.0 - abs(m);\n                   \n                    m = smoothstep(0.0, 1.0, m);\n                    resultColor.a *= m;\n                    col += (colors * m);\n                    col.rgb *= 1.5;\n                    vec4 rCol = vec4( col.rgb,  resultColor.a );\n                    if(texColor.a > 0.6 && !isog){\n                        rCol = texColor;\n                    }\n                    gl_FragColor = rCol;\n    \n                    ","createSprite","iTime","imagespace","#000","isTile","/imagelabel","LOCATION_MARKER","spritify","fixedAngle_","fixedAngle","arrow_","arrowSize_","size_","arrowColor","#50C1E9","arrowOffset_","arrowOffset","seeThrough_","clip_","arrowColor_","_update","hideBound","#30a3fb","initRadius","FULL","zOffset","getPosition","_update_","setUrl","initArrow","arrowSize","arrowGroup","#1ee3cf","rectangle","pickable","thickness","createPlaneGeometry","rotateX","_createLine","setImage","createBox","imageRepeat","imageAngle","_processUvs","processsedUv","faces","faceVertexUvs","å¤è¾¹å½¢çæéè¯¯ï¼è¯·æ£æ¥æ°æ®","vertices","groupsNeedUpdate","initHeatMap","originalMaterial","randomHeatPoints","clearHeatPoints","clearHeatMap","clearPoints","updateHeatMap","addHeatPoints","addHeatPoint","updateLine","_normalizePoints","_createPoints","Shape","updatePoints","ShapeGeometry","verticesNeedUpdate","contain","heatMapTool","useGradientAlpha","rgb(255,0,0)","putImageData","getMaterial","heatMapMaterial","getTexture","addColorStop","ESElementType","updateStyle","params","_size","ESImageMarker: angleå·²åºå¼ãè¯·ä½¿ç¨å¡çæ æ³¨ESCardMarker","ESImageMarkerå·²ä¸åç»´æ¤ãè¯·ä½¿ç¨ESTextMarkeræ æ³¨æ¿ä»£","viewRadius","onLevel","hooks","imageSize","space","imageSpace","getFirstLayer","removeLayer","removeLayersByTypes","removeLayersByNames","renderToFloor","removeHeatMap","floorHeight","floorName","Only ESLayer acceptable!","storeImage","WEBVIEW_MARKER","BOARD_MARKER","traverse_","FLOOR_BASE","CARD_MARKER","setRenderOrder","disableColide","loadManger","è¯·æ·»å å¾å±å¯¹åºçmarker!","_init_","loadMergeModels","load3dmarker","clickable","onError","checkViewRadius","setViewRadius","checkType","è¯·ä½¿ç¨å¾å±ç±»åå¯¹åºçæ æ³¨ï¼","loadqueue","Map_CONTROL_NORMAL","Map_CONTROL_SMALL","allLayer","imgURL","image/wedgets/","expandSpan","_fControlInstance","timer2","taped","tapedPos","isTapping","triggerSkip","updated","ESControlOptions","#252c41","scrollMode","showBtnCount","disposed","$box","showshowBtnCount","buttonSize","unset","æ¥¼å±æ§ä»¶æªåå§å","\n                    ."," .floor-scroller.smooth{\n                        -webkit-transition: -webkit-transform .5s ease;\n                        transition: -webkit-transform .5s ease;\n                        transition: transform .5s ease;\n                        transition: transform .5s ease,-webkit-transform .5s ease;\n                    }\n                    ","  \n                    ."," .layersToggle , .",";\n                        border-radius:","px;\n                        box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n                    }\n                    ","\n                     ."," .floor-item .floor-item-devide{\n                        color:","textColor",";\n                    }\n                    "," .layers, ."," .view2d, ."," .view3d, ."," .exit{\n                        fill: ","toggleColor",";\n                    }","focusBgColor","focusTextColor"," .floor-item.active .floor-item-devide{\n                        background-color: ",";\n                        color:","marginBottom"," .viewModeToggle{\n                        margin-bottom:","px;\n                    }\n                    "," .floor-item-devide{\n                        font-size: "," .arrows {\n                        fill:","styleHash","styleSheet","deleteRule","insertRule","updateBtnCount","$controlWrapper","createExpandBtn","$expands","8px","cursor","pointer","layersToggle","flexDirection","column","view2d","iconExpand","view3d","toggleExpanded","$expandToggle","beforeToggleExpand","expanded","updateFloorSpan","expandIcon","shrinkIcon","inline-block","icon2d",'<svg t="1635142140694" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5371" width="100%" height="100%"><path d="M342.7 536.6c-30.6 21.9-50.1 42.6-58.3 62.1-8.5 17.4-13 36.6-13.6 57.7h201v-50.8H343.7c3.6-6.1 8.1-11.4 13.5-16 5.3-4.6 15.2-12 29.7-22.3l23.1-16.4c19.5-13.8 33.5-26.2 42-37.4 13-16.9 19.5-36.2 19.5-57.9 0-28.3-9.2-51.1-27.6-68.3-18.4-17.2-43.1-25.8-74.2-25.8-39.3 0-66.7 14.6-82.1 43.9-8.1 15.4-12.6 35.6-13.6 60.5h56.1c0.7-16.5 2.8-28.5 6.5-36 6.3-13.1 18.3-19.6 35.8-19.6 12.8 0 22.7 4.1 29.6 12.3 6.9 8.2 10.3 18.6 10.3 31 0 15.2-6 29.3-18 42.1-7.8 8.2-25 21.8-51.6 40.9zM343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7zM695.4 399.8c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.5 118h-0.2c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5372"></path></svg>','<svg t="1635142241861" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5764" width="100%" height="100%"><path d="M343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7z m33.1-243c-7.1 0-13.6-0.9-19.6-3.2-5.8-2-10.8-5-14.9-8.8-4.1-3.7-7.3-8.4-9.5-13.6-2.2-5.4-3.4-11.2-3.4-17.5h-48.4c0 13.4 2.6 25.1 7.8 35.4 5.2 10.2 12.1 18.8 20.9 25.5 8.8 6.9 18.8 11.9 30.3 15.5 11.5 3.7 23.5 5.4 36.1 5.4 13.8 0 26.6-1.9 38.5-5.6 11.9-3.7 22.2-9.3 30.9-16.6 8.8-7.3 15.5-16.2 20.5-26.8 4.8-10.6 7.4-22.7 7.4-36.3 0-7.3-0.9-14.2-2.6-20.9-1.9-6.7-4.7-13-8.4-19-3.9-6-8.9-11.2-15.1-16-6.9-5-14.5-9-22.5-11.7 7.4-3.4 14-7.4 19.6-12.3 5.6-4.8 10.2-10.1 14-15.5 3.7-5.6 6.5-11.2 8.4-17.1 1.9-6 2.8-11.9 2.8-17.7 0-13.6-2.2-25.5-6.7-35.7-4.5-10.2-10.8-18.8-19-25.7-8.2-6.9-17.9-12.1-29.4-15.6-12.4-3.7-25.4-5.6-38.4-5.4-13.4 0-25.9 2-37.2 6-11.4 3.9-21 9.5-29.2 16.6-8.2 7.1-14.5 15.5-19.2 25.1-4.7 9.7-6.9 20.3-6.9 31.7h48.4c0-6.3 1.1-11.9 3.4-16.8 2.2-5 5.4-9.3 9.3-12.7 3.9-3.5 8.8-6.3 14.2-8.2 5.4-1.9 11.4-3 17.7-3 14.9 0 25.9 3.9 33.1 11.5 7.3 7.6 10.8 18.4 10.8 32.2 0 6.7-0.9 12.7-3 18.1-2 5.4-5 10.1-9.1 14-4.1 3.9-9.3 6.9-15.3 9.1-6.1 2.2-13.4 3.4-21.6 3.4h-28.7v38.2h28.7c8.2 0 15.6 0.9 22.2 2.8s12.1 4.7 16.8 8.8c4.7 3.9 8.2 8.9 10.8 14.9 2.4 6 3.7 13 3.7 21.2 0 15.1-4.3 26.6-13 34.6-8.4 7.8-20.1 11.7-35.2 11.7z m318.8-220.6c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.7 118c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3h-0.2zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5765"></path></svg>',"iconLayer",'<svg t="1635142718292" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21259" width="100%" height="100%"><path d="M1024 512c0-23.68-13.44-43.52-32.64-54.4l0.64-0.64-448-256-0.64 0.64C533.76 195.84 523.52 192 512 192s-21.76 3.84-31.36 9.6l-0.64-1.28-448 256 0.64 0.64C13.44 468.48 0 488.32 0 512s13.44 43.52 32.64 54.4l-0.64 0.64 448 256 0.64-0.64c9.6 5.76 19.84 9.6 31.36 9.6s21.76-3.84 31.36-9.6l0.64 0.64 448-256-0.64-0.64c19.2-10.88 32.64-30.72 32.64-54.4z" p-id="21260" ></path></svg>',"iconLayers",'<svg t="1635143998255" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21667" width="100%" height="100%"><path d="M954.66666687 368l-426.66666656 170.66666625c-10.66666687 5.33333344-26.66666625 5.33333344-37.33333406 0L69.33333313 368C37.33333344 351.99999969 37.33333344 303.99999969 69.33333313 288.00000031l421.33333312-176.00000062c10.66666687-5.33333344 26.66666625-5.33333344 37.33333406 0l421.33333313 176.00000062c37.33333312 16.00000031 37.33333312 64.00000031 5.33333343 79.99999969zM938.66666656 730.66666625l-410.66666625 176.00000063s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-176.00000063c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 816.00000031l405.33333375-170.66666719s10.66666687-5.33333344 15.99999937-5.33333343c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21668"></path><path d="M938.66666656 560l-410.66666625 175.99999969s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-175.99999969c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 645.33333312l405.33333375-170.66666624s10.66666687-5.33333344 15.99999937-5.33333344c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21669"></path></svg>',"iconArrow",'<svg t="1639103281020" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21930" width="32" height="32"><path d="M127.4 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l315-315L80.1 195.5c-16.8-16.8-23.4-41.3-17.2-64.3 6.2-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L535.7 463c26 26 26 68.1 0 94.1L174.1 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21931"></path><path d="M527.7 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l314.9-314.9-314.8-315c-16.8-16.8-23.4-41.3-17.2-64.3 6.1-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L936 463c26 26 26 68.1 0 94.1L574.4 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21932"></path></svg>','<svg t="1655692108337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2145" width="100%" height="100%"><path d="M1024 0 1024 384 885.728 245.728 673.728 457.728 566.272 350.272 778.272 138.272 640 0ZM245.728 138.272 457.728 350.272 350.272 457.728 138.272 245.728 0 384 0 0 384 0ZM885.728 778.272 1024 640 1024 1024 640 1024 778.272 885.728 566.272 673.728 673.728 566.272ZM457.728 673.728 245.728 885.728 384 1024 0 1024 0 640 138.272 778.272 350.272 566.272Z" p-id="2146"></path></svg>',"iconShrink",'<svg t="1655692195637" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3054" width="100%" height="100%"><path d="M576 448l416 0-160-160 192-192-96-96-192 192-160-160z" p-id="3055"></path><path d="M576 576l0 416 160-160 192 192 96-96-192-192 160-160z" p-id="3056"></path><path d="M448 576l-416 0 160 160-192 192 96 96 192-192 160 160z" p-id="3057"></path><path d="M448 448l0-416-160 160-192-192-96 96 192 192-160 160z" p-id="3058"></path></svg>',"iconExit",'<svg t="1657681674199" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9284" width="100%" height="100%"><path d="M768 640l0-128-320 0 0-128 320 0 0-128 192 192zM704 576l0 256-320 0 0 192-384-192 0-832 704 0 0 320-64 0 0-256-512 0 256 128 0 576 256 0 0-192z" p-id="9285"></path></svg>',"text/css"," .viewModeToggle , ."," .controlWrapper{\n            background-color: ",";\n            border-radius:","px;\n            box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n        }\n        ."," .floor-item .floor-item-devide{\n            color:",";\n        }\n        ."," .layer , ."," .exit{\n            fill: ",";\n            color:"," .viewModeToggle{\n            margin-bottom:","px;\n        }\n        ."," .floor-item-devide{\n            font-size: "," .arrows {\n            fill:",";\n        }\n    ","head","999","allFloorsState","$layersToggle","layersImage","setAllFloorState","viewModeState","viewModeToggle","icon3d","toggleViewModeState","fnumToggleBtn","expandBtn","controlWrapper","overflow","1111.11rem","-webkit-perspective","-webkit-tap-highlight-color","rgba(0,0,0,0)","tap-highlight-color","-webkit-box-align","5px 0","transform-style","preserve-3d","-webkit-transform-style","floor-scroller smooth","angleStep","arrows","deg) translateZ(","px)","rotateX(","backfaceVisibility","-webkit-backface-visibility","-ms-backface-visibility","childNodes","rotate(90deg)","40%","tapCount","currentTarget","setTransformAngle","toggleTargetClass","ESScrollFloorControl: ","floor-item","-moz-backface-visibility"," active","innerText","80%","alignItems","whiteSpace","pre-wrap","-webkit-transition","all .5s ease-in","floor-item-devide","-webkit-transform","$maxAngle","onScroll","getElementsByClassName","$scroller","toggleTargetClassByFnum","ontouchmove","ontouchend","reComputeHeight","onUpdated","querySelector",".active","createExitBtn","setViewModeState","setMapViewMode","layerImage","wheelDelta","limitValue","deg)","getCurrentAngle","tapedAngle","checkPos","toDecimal5","block","padding_","positon_","left_","right_","2px 2px 3px rgba(0,0,0, 0.3)","defaultRadius_","2px","imgURL_","zoom-wrap","zoom-in-btn","zoom-out-btn","scaleLevelOut","getElementsByTagName","setPosition_","controlPositionListener",".zoom-wrap","top_","container_","hrEl","1px","1px solid rgba(153, 153, 153, 0.45)","60%","0 20%","alpha(opacity=100, finishopacity=0, style=3)","scalelevel","down","keepRight","arriving","appKey","navidistance","navLayer","navMarker","navPic","image/end.png","_naviResult","locMoveTimer","navMode","timerDelta","naviDescriptions","crossedFnum","isNaving","moveTimer","lastNavCode","toSubDis","filterList","blockList","curPathInfos","_toPos","_toRot","_preGid","_animID","_animateFun","_crossFnum","_walkingCrossTime","routePlanner","#33cc61","audioPlay","ESAudioTool","init audiotool error","setPreferCrosses","_createMarker","clearNaviLines","_isEnd_","noMarker","setView","setEndPoint","getRouteResult","setNaviData","pointList","outcome","_getFloorsPoints","_naviDescriptions","naviDescriptionsData","drawNaviLine","_groupsPoints","_getCrossPoints","ladderType","checkFunLevel","linkStartEnd","linkMinDistance","getTransformedStartEnd","getAMapResult","driving","drawRoute","useAMap","AMAP","outDoorNaviDescriptions","combinePoints","lineObj","æ æ³å°è¾¾!è¯·éæ°éç¹","_trs","clearLocationMarker","_drawLines","_drawlineByResults","navLine","esarrow","yScale","billboard","autoClearNaviLine","_linesVisible","isMultiPointsNav","_locMarkerToStartPoint","_setNavCode","navCodeChanged","_computeCameraStateByDistance","fitView","fitViewStage1","computedRawLevel","fitViewStage2","constraint","fitViewStage3","maxEnd","audioPlayed","tipAlmosted","playAudio","tipEnded","manModeTipStarted","tipDistance","manModeTipEnded","manWalkedCount","carModeTipStarted","carModeTipEnded","endDirection","tipSlowDowned","carWalkedCount","over","crossPauseTime","_checkDeviated","routeCore","dataList","nearbyLine","lineList","calcProjPoint","_walkingfunction","isCrossingFuti","crossFutiTime","ladderLen","deviateCount","reRouteLimit","clearMarkers","setStartPoint","surDistance","remain","backcount","walking","_gps","arrivalCount","autoStop","parkDir","_updateLinePass","audioTipEnd","ç®çå°å¨éè·¯","restoreState","descriptionIndex","distanceToNext","crossing","segindex","navTip","å³å°å°è¾¾ç®çå°","å·²å°è¾¾ç®çå°éè¿","bestViewMinDistance","isSimulating","_viewID","_rotateId","_preBid","_groupPointsIndex","_gpsData","clearInterval","realNaviClock","dis2next","audioCountDown","allowPlayDis","passed","analysedData","_analyse","_index","inTime","_needDrawLines_","isMultiFloors","scaleAnimate","_onstartNavi","simulate","_anim","walkTo","_naviConstraint","naviinfoindex","nexbid","nexfnum","disToNexBid","disToNexFnum","somthing error","totalDisntance","balanceValue","_getTransformByLength","_getLadderType","curLadder","crossSchemes","manModeAllScheme","carModeScheme","allLineMap","crossBid","combineAsset","relAngle","relField","_boo","floorDesc"," å åå¾","relDesc","_tailLen","ç»§ç»­ç´è¡","å³åæ¹ç´è¡","è¿å¥ ","isNaviAnimating","_moveTo","_changeFnumIng","changeTiltAngle","crossFloor","lastAngle","rotateTimer","followGap","vvs","_allLen","endFloor","getLineInfo"];!function(d,x){!function(x){for(;--x;)d.push(d.shift())}(++x)}(_0x5868,490);var _0x1dda=function(d,x){return _0x5868[d-=0]};!function(d){function x(x){for(var _,i,n=x[0],r=x[1],s=x[2],c=0,l=[];c<n[_0x1dda("0x0")];c++)i=n[c],e[i]&&l.push(e[i][0]),e[i]=0;for(_ in r)Object[_0x1dda("0x1")][_0x1dda("0x2")][_0x1dda("0x3")](r,_)&&(d[_]=r[_]);for(o&&o(x);l[_0x1dda("0x0")];)l[_0x1dda("0x4")]()();return t.push[_0x1dda("0x5")](t,s||[]),a()}function a(){for(var d,x=0;x<t.length;x++){for(var a=t[x],_=!0,n=1;n<a.length;n++){var r=a[n];0!==e[r]&&(_=!1)}_&&(t[_0x1dda("0x6")](x--,1),d=i(i.s=a[0]))}return d}var _={},e={2:0},t=[];function i(x){if(_[x])return _[x][_0x1dda("0x7")];var a=_[x]={i:x,l:!1,exports:{}};return d[x][_0x1dda("0x3")](a[_0x1dda("0x7")],a,a[_0x1dda("0x7")],i),a.l=!0,a[_0x1dda("0x7")]}i.m=d,i.c=_,i.d=function(d,x,a){i.o(d,x)||Object.defineProperty(d,x,{enumerable:!0,get:a})},i.r=function(d){typeof Symbol!==_0x1dda("0x8")&&Symbol[_0x1dda("0x9")]&&Object[_0x1dda("0xa")](d,Symbol[_0x1dda("0x9")],{value:_0x1dda("0xb")}),Object[_0x1dda("0xa")](d,_0x1dda("0xc"),{value:!0})},i.t=function(d,x){if(1&x&&(d=i(d)),8&x)return d;if(4&x&&"object"==typeof d&&d&&d.__esModule)return d;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,_0x1dda("0xd"),{enumerable:!0,value:d}),2&x&&typeof d!=_0x1dda("0xe"))for(var _ in d)i.d(a,_,function(x){return d[x]}.bind(null,_));return a},i.n=function(d){var x=d&&d[_0x1dda("0xc")]?function(){return d[_0x1dda("0xd")]}:function(){return d};return i.d(x,"a",x),x},i.o=function(d,x){return Object[_0x1dda("0x1")].hasOwnProperty[_0x1dda("0x3")](d,x)},i.p="/dist/";var n=window[_0x1dda("0xf")]=window[_0x1dda("0xf")]||[],r=n[_0x1dda("0x10")].bind(n);n[_0x1dda("0x10")]=x,n=n[_0x1dda("0x11")]();for(var s=0;s<n[_0x1dda("0x0")];s++)x(n[s]);var o=r;t.push([159,1,4,0]),a()}(Array(18).concat([function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=n(a(12)),e=n(a(15)),t=n(a(32)),i=n(a(36));function n(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}x[_0x1dda("0x12")]=function(d,x,a){return d&&d[_0x1dda("0x2")](x)?d[x]:a},x[_0x1dda("0x13")]=function(d,x,a){for(var _,e=1;e<arguments[_0x1dda("0x0")]-1;e++)if(void 0!==(_=d[arguments[e]]))return _;return arguments[arguments.length-1]},x.dedupe=function(d){return(0,i.default)(new(t[_0x1dda("0xd")])(d))},x[_0x1dda("0x14")]=function(d){var x=0;for(var a in d)d[_0x1dda("0x2")](a)&&x++;return x},x[_0x1dda("0x15")]=function(d){var x=this;(0,e[_0x1dda("0xd")])(d).forEach((function(a){null==x[a]&&(x[a]=d[a])}))},x[_0x1dda("0x16")]=function(d,x){for(var a=0;a<d[_0x1dda("0x0")];a++)if(d[a]==x)return!0;return!1},x[_0x1dda("0x17")]=function(d){var x=typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d);return null!=d&&(x==_0x1dda("0x1b")||x==_0x1dda("0x1c"))},x[_0x1dda("0x18")]=function(d,x){if(!d)return;for(var a in d){if(!1===x(d[a],a,d))break}},x.cloneObj=function(d){if(!d)return d;var x={};for(var a in d)x[a]=d[a];return x},x.getDeviceDPI=function(){var d=new Array;if(null!=window.screen.deviceXDPI)d[0]=window.screen[_0x1dda("0x1d")],d[1]=window[_0x1dda("0x1e")][_0x1dda("0x1f")];else{var x=document[_0x1dda("0x20")](_0x1dda("0x21"));x.style[_0x1dda("0x22")]=_0x1dda("0x23"),document.body[_0x1dda("0x24")](x),d[0]=parseInt(x[_0x1dda("0x25")]),d[1]=parseInt(x[_0x1dda("0x26")]),x[_0x1dda("0x27")][_0x1dda("0x28")](x)}return d},x[_0x1dda("0x19")]=function(d,x){return new RegExp("^"+x)[_0x1dda("0x29")](d)},x.base64ToBlob=function(d){for(var x=d[_0x1dda("0x2a")](_0x1dda("0x2b")),a=x[0][_0x1dda("0x2a")](":")[1],_=window[_0x1dda("0x2c")](x[1]),e=_[_0x1dda("0x0")],t=new Uint8Array(e),i=0;i<e;++i)t[i]=_[_0x1dda("0x2d")](i);return new Blob([t],{type:a})},x[_0x1dda("0x1a")]=function(d){return(0,i[_0x1dda("0xd")])(Array(Number(d)||24),(function(){return Math.floor(36*Math.random())[_0x1dda("0x2e")](36)})).join("")}},,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=r(a(0)),e=r(a(1)),t=a(50),i=a(51),n=a(26);function r(d){return d&&d.__esModule?d:{default:d}}var s=function(){function d(){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x2f")]={},window[_0x1dda("0x30")](_0x1dda("0x31"),this.init.bind(this))}return(0,e.default)(d,[{key:_0x1dda("0x32"),value:function(d){var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")],a=x[_0x1dda("0x35")],_=a.s&&a.k,e=a[_0x1dda("0x36")];if(this.mapId=d[_0x1dda("0x37")].id,this.map=x,this[_0x1dda("0x38")]=_,this[_0x1dda("0x39")]=e,e==esmap.MapMode[_0x1dda("0x3a")]?this[_0x1dda("0x3b")]():this[_0x1dda("0x3c")](),1==window[_0x1dda("0x3d")]){var t=new CustomEvent(_0x1dda("0x3e"),{});window[_0x1dda("0x3f")]=this,window[_0x1dda("0x40")](t)}}},{key:"initCityPaths",value:function(){var d=this[_0x1dda("0x41")],x=this[_0x1dda("0x42")].options,a=x[_0x1dda("0x43")],_=x.s,e=x[_0x1dda("0x44")];if(1==a){var n=(0,t.gdbs)(_);this[_0x1dda("0x42")][_0x1dda("0x35")].serverUrl=3==_?n:i.Base64[_0x1dda("0x45")](n)}else this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x46")]=e+d;var r=this[_0x1dda("0x47")]();this[_0x1dda("0x48")](_0x1dda("0x49"),(function(){return{url:r[_0x1dda("0x4a")],timestamp:r[_0x1dda("0x4b")]}})),this[_0x1dda("0x48")](_0x1dda("0x4c"),this[_0x1dda("0x4d")][_0x1dda("0x4e")](this)),this[_0x1dda("0x48")](_0x1dda("0x4f"),this[_0x1dda("0x50")](r[_0x1dda("0x51")])),this.setPath(_0x1dda("0x52"),this[_0x1dda("0x53")].bind(this)),this.setPath(_0x1dda("0x54"),this[_0x1dda("0x55")][_0x1dda("0x4e")](this)),this[_0x1dda("0x48")](_0x1dda("0x56"),this[_0x1dda("0x57")][_0x1dda("0x4e")](this)),this[_0x1dda("0x48")](_0x1dda("0x58"),this[_0x1dda("0x59")].bind(this)),this[_0x1dda("0x48")]("cityAssets",this.getCityAssetsPath.bind(this)),this[_0x1dda("0x48")](_0x1dda("0x5a"),this[_0x1dda("0x5b")].bind(this)),this.setPath(_0x1dda("0x5c"),this[_0x1dda("0x5d")].bind(this)),this.setPath(_0x1dda("0x5e"),this[_0x1dda("0x5f")].bind(this)),this[_0x1dda("0x48")](_0x1dda("0x60"),this.getCityTileModelPath.bind(this))}},{key:_0x1dda("0x3c"),value:function(){var d=this.map[_0x1dda("0x35")].mapDataSrc,x="";if(d[_0x1dda("0x61")]("http://")||d.includes(_0x1dda("0x62"))){this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x46")]=d;var a=d[_0x1dda("0x2a")]("//")[1][_0x1dda("0x2a")]("/")[0];x=d.split("//")[0]+"//"+a}else x=this[_0x1dda("0x38")]?"/":d;this[_0x1dda("0x42")][_0x1dda("0x35")].serverUrl=x,this[_0x1dda("0x48")](_0x1dda("0x52"),this[_0x1dda("0x63")].bind(this)),this[_0x1dda("0x48")](_0x1dda("0x5a"),this[_0x1dda("0x64")][_0x1dda("0x4e")](this)),this[_0x1dda("0x48")](_0x1dda("0x5c"),this[_0x1dda("0x65")].bind(this)),this[_0x1dda("0x48")]("buildingModel",this.getIndoorBuildingModelsPath.bind(this)),this.setPath("searchJson",this[_0x1dda("0x66")].bind(this))}},{key:"setPath",value:function(d,x){this.paths[d]=x}},{key:_0x1dda("0x67"),value:function(d,x){var a=this.paths[d];return typeof a==_0x1dda("0xe")?a:a(x)}},{key:_0x1dda("0x63"),value:function(d){var x=this[_0x1dda("0x41")],a=this[_0x1dda("0x42")][_0x1dda("0x35")],_=a[_0x1dda("0x44")],e=a.s,t=a.k,i=a[_0x1dda("0x68")],n=a.isRandom,r=_+x+"/"+x+".esmap",s=!1;if(this[_0x1dda("0x38")]){s=!0;var o="map/mapdata!getmap.action?bids=";i&&(o=_0x1dda("0x69")),r=e+o+x+_0x1dda("0x6a")+t+_0x1dda("0x6b")+d.t}else n&&(r+=_0x1dda("0x6c")+Date[_0x1dda("0x6d")](new Date));return{url:r,skMode:s}}},{key:"getIndoorThemeAssetPath",value:function(d){var x=d[_0x1dda("0x6e")],a=d[_0x1dda("0x6f")],_=this[_0x1dda("0x41")],e=this[_0x1dda("0x42")][_0x1dda("0x35")],t=e[_0x1dda("0x44")],i=e[_0x1dda("0x70")],n=e[_0x1dda("0x71")],r=void 0;return r=n?""+n+x+"/"+a:""+t+_+"/theme/"+x+"/"+a,i&&(r=r+_0x1dda("0x6c")+Date.parse(new Date)),r}},{key:_0x1dda("0x72"),value:function(d){var x=d[_0x1dda("0x6e")],a=d[_0x1dda("0x73")],_=this[_0x1dda("0x41")],e=this[_0x1dda("0x42")][_0x1dda("0x35")],t=e[_0x1dda("0x44")],i=e[_0x1dda("0x70")],n=e[_0x1dda("0x71")],r=void 0;return r=n?""+n+x+"/"+x+"."+a:""+t+_+_0x1dda("0x74")+x+"/"+x+"."+a,i&&(r=r+"?t="+Date[_0x1dda("0x6d")](new Date)),r}},{key:_0x1dda("0x65"),value:function(d){var x=d[_0x1dda("0x6f")],a=d.type,_=d[_0x1dda("0x75")],e=this[_0x1dda("0x42")][_0x1dda("0x35")],t=e.lang,i=e.mapDataSrc,n=this[_0x1dda("0x41")];if(_&&!i[_0x1dda("0x76")](_0x1dda("0x77")))if(i[_0x1dda("0x76")]("/"))i=window[_0x1dda("0x78")][_0x1dda("0x79")]+i;else{var r=window[_0x1dda("0x78")].pathname,s=r[_0x1dda("0x7a")]("/");r=r[_0x1dda("0x7b")](0,s),i=window[_0x1dda("0x78")][_0x1dda("0x79")]+r+"/"+i}return i+n+"/"+(a?a+(t?String(t):"")+"/":"")+x}},{key:_0x1dda("0x7c"),value:function(d){var x=d[_0x1dda("0x6f")],a=this.map[_0x1dda("0x35")],_=a.s,e=a.k,t=(a[_0x1dda("0x44")],this.map[_0x1dda("0x7d")][_0x1dda("0x7e")]("t")),i=this.mapId;return _+_0x1dda("0x7f")+i+_0x1dda("0x80")+x+_0x1dda("0x6a")+e+_0x1dda("0x6b")+t}},{key:_0x1dda("0x81"),value:function(d){var x=d[_0x1dda("0x6f")],a=this[_0x1dda("0x42")].options,_=a.mapDataSrc,e=a.s,t=a.k,i=this[_0x1dda("0x41")],n=this[_0x1dda("0x38")],r=this[_0x1dda("0x42")][_0x1dda("0x7d")].getState("t"),s=void 0;n?s=e+"/map/mapmodel!getmodel.action?bids="+i+"&name="+x+_0x1dda("0x6a")+t+_0x1dda("0x6b")+r:s=_+i+"/model/"+x+".gltf";return s}},{key:_0x1dda("0x66"),value:function(){return this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x44")]+this[_0x1dda("0x42")].id+_0x1dda("0x82")}},{key:_0x1dda("0x47"),value:function(){var d,x=this[_0x1dda("0x42")][_0x1dda("0x35")],a=this[_0x1dda("0x41")],_=x[_0x1dda("0x83")],e=x.s,n=x[_0x1dda("0x43")],r=window[_0x1dda("0x78")][_0x1dda("0x84")],s=parseInt((new Date)[_0x1dda("0x85")]()/1e3);d=x.s&&x.k?x.k:esmap[_0x1dda("0x86")][_0x1dda("0x87")](x[_0x1dda("0x88")]+_0x1dda("0x89")+s);var o=esmap[_0x1dda("0x86")][_0x1dda("0x87")](n+"&"+a+"&"+e+"&"+d+"&"+s+"&"+r+"&"+_),c=i[_0x1dda("0x8a")][_0x1dda("0x45")]((0,t.getSubDirByS)(e)),l=void 0;if(3==n)l=x[_0x1dda("0x46")]+"/"+a+_0x1dda("0x8b");else{var f=(0,t.gdbs)(e);l=(3==e?f:i[_0x1dda("0x8a")].decode(f))+"/"+c+_0x1dda("0x8c")+a+_0x1dda("0x8d")+x.s+_0x1dda("0x8e")+d+_0x1dda("0x6b")+s+_0x1dda("0x8f")+encodeURIComponent(r)+"&sign="+o+_0x1dda("0x90")+_+_0x1dda("0x91")+n}return{url:l,query_sign:o,timestamp:s}}},{key:_0x1dda("0x50"),value:function(d){var x=this[_0x1dda("0x41")],a=this[_0x1dda("0x42")][_0x1dda("0x35")],_=a.s,e=a.k,r=document[n[_0x1dda("0x92")]],s=parseInt((new Date)[_0x1dda("0x85")]()/1e3);return i[_0x1dda("0x8a")][_0x1dda("0x45")](t[_0x1dda("0x93")][2803])+(_0x1dda("0x94")+x+_0x1dda("0x8d")+_+_0x1dda("0x8e")+e+_0x1dda("0x6b")+s+_0x1dda("0x8f")+r+_0x1dda("0x95")+d+_0x1dda("0x96"))}},{key:"getCitySearchJsonPath",value:function(){return this[_0x1dda("0x42")].options.serverUrl+_0x1dda("0x82")}},{key:"getCityBuildingSearchJsonPath",value:function(d){var x=d[_0x1dda("0x97")];return this.map.options.serverUrl+_0x1dda("0x98")+x+_0x1dda("0x82")}},{key:"getCityBuildingPath",value:function(d){var x=this[_0x1dda("0x42")][_0x1dda("0x35")],a=x[_0x1dda("0x43")],_=x[_0x1dda("0x46")],e=x.k,t=x[_0x1dda("0x70")],i=x.s,n=d[_0x1dda("0x97")],r=d.t,s=void 0,o=!1;if(1!=a)s=_+_0x1dda("0x98")+n+"/"+n+_0x1dda("0x99"),t&&(s+="?t="+Date[_0x1dda("0x6d")](new Date));else{o=!0;var c=e.split("&"),l=esmap[_0x1dda("0x86")][_0x1dda("0x87")](esmap.ESMapUtil.encode64(n+_0x1dda("0x9a")+2+"#"+c[0])+"worldeditor");s=_+_0x1dda(3==i?"0x9b":"0x9c")+n+_0x1dda("0x9d")+e+_0x1dda("0x9e")+2+_0x1dda("0x6a")+l+"&tid="+a+_0x1dda("0x6b")+r}return{url:s,skMode:o}}},{key:"getCityAssetsPath",value:function(d){var x=d.filename,a=d[_0x1dda("0x9f")],_=this[_0x1dda("0x41")];return this.map[_0x1dda("0x35")].mapDataSrc+_+"/"+a+"/"+x}},{key:_0x1dda("0x59"),value:function(d){var x=d[_0x1dda("0x73")],a=d.themeID,_=this[_0x1dda("0x41")],e=this[_0x1dda("0x42")][_0x1dda("0x35")],t=e[_0x1dda("0x70")],i=e[_0x1dda("0x44")]+_+_0x1dda("0xa0")+a+"/"+a+"."+x;return t&&(i+=_0x1dda("0x6c")+Date[_0x1dda("0x6d")](new Date)),i}},{key:_0x1dda("0x5b"),value:function(d){var x=d[_0x1dda("0x6f")],a=d[_0x1dda("0x6e")],_=d[_0x1dda("0x97")],e=this[_0x1dda("0x42")][_0x1dda("0x35")],t=e[_0x1dda("0x43")],i=e[_0x1dda("0x46")],n=e.s,r="";1==t?r=i+(3==n?"/EsmapOffJsonData/":"/EsmapJsonData/")+_+"/":r=i+_0x1dda("0x98")+_+"/";return r+"theme/"+a+"/"+x}},{key:"getCityBuildingThemePath",value:function(d){var x=d.ext,a=d[_0x1dda("0x6e")],_=d[_0x1dda("0x97")],e=this[_0x1dda("0x42")][_0x1dda("0x35")],t=e[_0x1dda("0x43")],i=e.s,n=e[_0x1dda("0x46")],r="";1==t?r=n+_0x1dda(3==i?"0xa1":"0xa2")+_+"/":r=n+_0x1dda("0x98")+_+"/";return r+_0x1dda("0xa3")+a+"/"+a+"."+x}},{key:_0x1dda("0x5d"),value:function(d){var x=d.filename,a=d[_0x1dda("0x9f")],_=d[_0x1dda("0x97")],e=this[_0x1dda("0x42")][_0x1dda("0x35")],t=e[_0x1dda("0x43")],i=e.s,n=e[_0x1dda("0x46")],r=e[_0x1dda("0xa4")],s="";1==t?s=n+_0x1dda(3==i?"0xa1":"0xa2")+_+"/":s=n+_0x1dda("0x98")+_+"/";return s+a+((r?String(r):"")+"/")+x}},{key:"getCityTilePath",value:function(d){var x=d.tileId,a=d.typeId,_=this.mapId,e=this[_0x1dda("0x42")][_0x1dda("0x35")],n=e[_0x1dda("0x43")],r=e.s,s=e.k,o=e[_0x1dda("0x46")],c=e[_0x1dda("0x88")],l=e.version,f=e.mapDataSrc,u=e[_0x1dda("0x70")],h=x.split("_"),g=h[0],b=h[1],v=s,p="";if(1!=n)p=f+_+_0x1dda("0xa5")+g+"_"+b+"/"+g+"_"+b+_0x1dda("0xa6")+(1==a?"":"nav")+_0x1dda("0x99"),u&&(p+=_0x1dda("0x6c")+Date[_0x1dda("0x6d")](new Date));else{2==n&&(v=esmap[_0x1dda("0x86")][_0x1dda("0x87")](c+_0x1dda("0x89")));var m=esmap[_0x1dda("0x86")][_0x1dda("0x87")](n+"&"+_+"&"+r+"&"+v+"&"+l+"&"+a+"&"+g+"&"+b);p=o+"/"+i[_0x1dda("0x8a")][_0x1dda("0x45")]((0,t[_0x1dda("0xa7")])(r))+_0x1dda("0xa8")+_+_0x1dda("0x8e")+v+_0x1dda("0x8d")+r+_0x1dda("0xa9")+a+"&x="+g+_0x1dda("0xaa")+b+_0x1dda("0x95")+m+"&v1="+l+"&tid="+n,u&&(p+=_0x1dda("0x6b")+Date[_0x1dda("0x6d")](new Date))}return p}},{key:_0x1dda("0xab"),value:function(d){var x=d[_0x1dda("0x6f")],a=(d[_0x1dda("0xac")],this.map.options),_=a.s,e=(a.k,a[_0x1dda("0x46")]),n=this[_0x1dda("0x41")],r=this[_0x1dda("0x42")].__mtn,s=i.Base64.decode((0,t.getSubDirByS)(_));url=e+"/"+s+_0x1dda("0xad")+n+_0x1dda("0x80")+x+".gltf&token="+r}},{key:_0x1dda("0x5f"),value:function(d){var x=d[_0x1dda("0x6f")],a=d.buildingId,_=d[_0x1dda("0xac")],e=this.map.options,n=e[_0x1dda("0x43")],r=e.serverUrl,s=e.s,o=void 0;if(this[_0x1dda("0x38")]){var c=this[_0x1dda("0x42")].mapService[_0x1dda("0x7e")]("t");o=r+"/"+i[_0x1dda("0x8a")][_0x1dda("0x45")]((0,t.getSubDirByS)(s,!0))+_0x1dda("0x7f")+a+_0x1dda("0x80")+x+".gltf&token="+_+"&tid="+n+"&t="+c}else o=r+_0x1dda("0x98")+a+"/model/"+x+_0x1dda("0xae");return o}},{key:"getCityTileModelPath",value:function(d){var x=d[_0x1dda("0x6f")],a=d.modeltoken,_=this[_0x1dda("0x42")][_0x1dda("0x35")],e=_.tid,n=_[_0x1dda("0x46")],r=_.s,s=this.mapId,o="";if(1!=e){var c="";x[_0x1dda("0xaf")]("/")>-1&&(c=x[_0x1dda("0x2a")]("/")[0],x=x[_0x1dda("0x2a")]("/")[1]),o=n+_0x1dda("0xb0")+c+"/"+x+"/"+x+_0x1dda("0xae")}else{var l=this[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x7e")]("t");o=n+"/"+i[_0x1dda("0x8a")][_0x1dda("0x45")]((0,t.getSubDirByS)(r))+_0x1dda("0xad")+s+_0x1dda("0x80")+x+_0x1dda("0x6a")+a+"&tid="+e+_0x1dda("0x6b")+l}return o}}]),d}();x[_0x1dda("0xd")]=new s},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0xb1")]=void 0;var _=t(a(0)),e=t(a(1));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=function(){function d(){(0,_.default)(this,d)}return(0,e.default)(d,null,[{key:_0x1dda("0xb2"),value:function(d){esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0xb3")][_0x1dda("0xb4")][_0x1dda("0xb5")][_0x1dda("0xb6")]({messageType:3,msg:d[_0x1dda("0xb6")],level:d[_0x1dda("0xb7")]})}}]),d}();x[_0x1dda("0xb1")]=i},,function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0}),x._emv_=x._rms_=x._ztl_=x[_0x1dda("0xb8")]=x[_0x1dda("0xb9")]=x[_0x1dda("0x92")]=x[_0x1dda("0xba")]=x[_0x1dda("0xbb")]=x[_0x1dda("0xbc")]=x[_0x1dda("0xbd")]=void 0;var _=a(51),e=_[_0x1dda("0x8a")][_0x1dda("0x45")](_0x1dda("0xbe")),t=_.Base64[_0x1dda("0x45")](_0x1dda("0xbf")),i=_[_0x1dda("0x8a")][_0x1dda("0x45")](_0x1dda("0xc0")),n=_[_0x1dda("0x8a")][_0x1dda("0x45")](_0x1dda("0xc1")),r=_[_0x1dda("0x8a")][_0x1dda("0x45")](_0x1dda("0xc2")),s=_.Base64.decode(_0x1dda("0xc3")),o=_[_0x1dda("0x8a")].decode(_0x1dda("0xc4")),c=_[_0x1dda("0x8a")][_0x1dda("0x45")](_0x1dda("0xc5")),l=_[_0x1dda("0x8a")][_0x1dda("0x45")](_0x1dda("0xc6")),f=_[_0x1dda("0x8a")].decode(_0x1dda("0xc7"));x[_0x1dda("0xbd")]=e,x._tk_=t,x._mt_=i,x[_0x1dda("0xba")]=n,x[_0x1dda("0x92")]=r,x[_0x1dda("0xb9")]=s,x[_0x1dda("0xb8")]=o,x[_0x1dda("0xc8")]=c,x[_0x1dda("0xc9")]=l,x[_0x1dda("0xca")]=f},,,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=n(a(32)),e=n(a(62)),t=n(a(0)),i=n(a(1));function n(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var r=function(){function d(x){(0,t[_0x1dda("0xd")])(this,d),this.id=x,this[_0x1dda("0xcb")]=0,this.countMap=new e.default,this[_0x1dda("0xcc")]=new(e[_0x1dda("0xd")]),this[_0x1dda("0xcc")][_0x1dda("0xcd")]("default",new(_[_0x1dda("0xd")])),this.blockIdNameMap=new(e[_0x1dda("0xd")])}return(0,i.default)(d,[{key:_0x1dda("0xce"),value:function(d){var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]?arguments[1]:"default",a=this[_0x1dda("0xcc")].get(x);a||(a=new(_[_0x1dda("0xd")]),this.blockMap[_0x1dda("0xcd")](x,a)),a.add(String(d)),this[_0x1dda("0xcf")].set(String(d),x)}},{key:_0x1dda("0xd0"),value:function(){var d=this;this.blockMap[_0x1dda("0xd1")]((function(x,a){d[_0x1dda("0xcb")]+=x[_0x1dda("0xd2")],d[_0x1dda("0xd3")][_0x1dda("0xcd")](a,x.size)}))}},{key:_0x1dda("0xd4"),value:function(d){var x=this;d.forEach((function(d){x[_0x1dda("0xd5")](d)}))}},{key:_0x1dda("0xd5"),value:function(d){var x=this.blockIdNameMap.get(String(d)),a=this[_0x1dda("0xcc")][_0x1dda("0xd6")](x);if(a&&a.delete(String(d))){var _=this[_0x1dda("0xd7")],e=_[_0x1dda("0xd8")],t=_[_0x1dda("0xd9")];this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xdb"),{id:d,value:e,from:this.id,name:x,values:t})}}},{key:_0x1dda("0xdc"),value:function(){this.blockMap=new(e[_0x1dda("0xd")]),this[_0x1dda("0xcc")].set(_0x1dda("0xd"),new(_[_0x1dda("0xd")])),this.total=0}},{key:"map",get:function(){return window[_0x1dda("0xdd")].ESMap[_0x1dda("0x34")]}},{key:_0x1dda("0xde"),get:function(){var d=this,x={};return this[_0x1dda("0xcc")][_0x1dda("0xd1")]((function(a,_){x[_]=a[_0x1dda("0xd2")]/d[_0x1dda("0xcb")]})),x}},{key:"progress",get:function(){var d=this;if(0==this[_0x1dda("0xcb")])return{value:0,groups:{}};var x=0,a={};return this[_0x1dda("0xcc")][_0x1dda("0xd1")]((function(_,e){x+=_.size;var t=d.countMap[_0x1dda("0xd6")](e);a[e]=(t-_.size)/t})),{value:(this[_0x1dda("0xcb")]-x)/this[_0x1dda("0xcb")],values:a}}}]),d}(),s=function(){function d(){(0,t[_0x1dda("0xd")])(this,d),this[_0x1dda("0xdf")]=new(e[_0x1dda("0xd")])}return(0,i[_0x1dda("0xd")])(d,[{key:_0x1dda("0xe0"),value:function(d){var x=new r(d);this[_0x1dda("0xdf")][_0x1dda("0xcd")](d,x)}},{key:_0x1dda("0xd6"),value:function(d){return this[_0x1dda("0xdf")][_0x1dda("0xd6")](d)}}]),d}();x[_0x1dda("0xd")]=new s},,,,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0}),x[_0x1dda("0xe1")]=function d(x){if(null!==x){x.datas_&&x[_0x1dda("0xe5")].o3d_&&(x.datas_.o3d_=void 0,x[_0x1dda("0xe5")]=void 0);for(var a=0;a<x[_0x1dda("0xe6")][_0x1dda("0x0")];a++)d(x[_0x1dda("0xe6")][a]);x.geometry&&(x[_0x1dda("0xe7")][_0x1dda("0xe8")](),x[_0x1dda("0xe7")]=void 0),x[_0x1dda("0xe9")]&&(x[_0x1dda("0xe9")]instanceof Array?x[_0x1dda("0xe9")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0x42")]&&(d[_0x1dda("0x42")][_0x1dda("0xe8")](),d[_0x1dda("0x42")]=void 0),d[_0x1dda("0xe8")](),d=void 0})):(x.material[_0x1dda("0xe8")](),x[_0x1dda("0xe9")]=void 0))}x=void 0},x.getTileBound=function(d,x,a,t){var i=e/Math[_0x1dda("0xea")](2,a),n={minx:256*d*i-_,miny:256*x*i-_,maxx:256*(d+1)*i-_,maxy:256*(x+1)*i-_};if(t){var r=esmap.ESMapUtil[_0x1dda("0xeb")](n[_0x1dda("0xec")],n[_0x1dda("0xed")]),s=esmap[_0x1dda("0x86")][_0x1dda("0xee")](r),o=esmap[_0x1dda("0x86")][_0x1dda("0xef")](s[0],s[1]),c=esmap[_0x1dda("0x86")][_0x1dda("0xeb")](n[_0x1dda("0xf0")],n[_0x1dda("0xf1")]),l=esmap.ESMapUtil[_0x1dda("0xee")](c),f=esmap[_0x1dda("0x86")][_0x1dda("0xef")](l[0],l[1]);n[_0x1dda("0xf0")]=f[0],n[_0x1dda("0xf1")]=f[1],n[_0x1dda("0xec")]=o[0],n[_0x1dda("0xed")]=o[1]}return n},x[_0x1dda("0xe2")]=function(d,x,a){var t=e/Math[_0x1dda("0xea")](2,a),i={},n=(d+_)/t,r=(x+_)/t;return i.x=Math[_0x1dda("0xf2")](n/256)-1,i.y=Math[_0x1dda("0xf2")](r/256)-1,i},x[_0x1dda("0xe3")]=function(d){var x=d[_0x1dda("0xf3")][_0x1dda("0xf4")][_0x1dda("0xf5")][_0x1dda("0x0")],a=d[_0x1dda("0xf3")].json[_0x1dda("0xf6")][_0x1dda("0x0")],_=0;return d[_0x1dda("0xf7")][_0x1dda("0xf8")]((function(d){if(d[_0x1dda("0xe7")]){var x=d.geometry[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")];_+=x}})),{materials:x,meshes:a,vertexes:_}},x[_0x1dda("0xe4")]=function(d){return function d(x,a){if(!x)return null;if(x[_0x1dda("0xfc")]==_0x1dda("0xfd"))return x;var _=d(x[_0x1dda("0xfe")],!1);return _||void 0}(d)},x.getChildByFaceIndex=function(d,x){for(var a=3*d,_=0;_<x[_0x1dda("0x0")];_++){var e=x[_];if(a>=e[_0x1dda("0xff")][0]&&a<e.faceRange[1])return _}return-1};var _=20037508.342789244,e=156543.03392804062},,,,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(15)),e=t(a(12));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}function i(d){var x=typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,e[_0x1dda("0xd")])(d);return null!=d&&(x==_0x1dda("0x1b")||x==_0x1dda("0x1c"))}function n(d){if(d[_0x1dda("0x106")])return 1==d[_0x1dda("0x106")]}x[_0x1dda("0x100")]=function(d,x){return Math[_0x1dda("0x103")]((d.x-x.x)*(d.x-x.x)+(d.y-x.y)*(d.y-x.y))},x[_0x1dda("0x101")]=function d(x){for(var a=arguments[_0x1dda("0x0")],t=Array(a>1?a-1:0),r=1;r<a;r++)t[r-1]=arguments[r];return t[_0x1dda("0x104")]((function(x,a){return(0,_.default)(a)[_0x1dda("0x104")]((function(x,_){var t=a[_];return t instanceof Array?x[_]=t[_0x1dda("0x42")]((function(a,e){if(i(a)){var t=x[_]?x[_]:[];return d(t[e]?t[e]:{},a)}return a})):i(t)?n(t)?x[_]=t:x[_]=d(x[_]?x[_]:{},t):(typeof x===_0x1dda("0x8")?_0x1dda("0x8"):(0,e[_0x1dda("0xd")])(x))==_0x1dda("0x105")?(x={})[_]=t:void 0!==t&&(x[_]=t),x}),x)}),x)},x.isHTMLElement=n,x[_0x1dda("0x102")]=function(d,x){for(var a in d)if(d[a]!=x[a])return!0;return!1}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0}),x[_0x1dda("0x93")]=void 0,x[_0x1dda("0x45")]=function(d,x,a){for(var _="",t=e(x+a),i=e(d),n=0;n<i.length;n++){for(var r=0;r<t[_0x1dda("0x0")];r++)i[n]=i[n]^t[r];_+=String[_0x1dda("0x10c")](i[n])}return _},x[_0x1dda("0x107")]=function(d,x){for(var a=e(d),_=0;_<16;_++)for(var t=0;t<a[_0x1dda("0x0")];t++)x[_]=x[_]^a[t]},x[_0x1dda("0x108")]=function(d){if(1==d)return window[_0x1dda("0x78")][_0x1dda("0x84")][_0x1dda("0xaf")](_0x1dda("0x112"))>-1?t[2807]:t[2803];if(2==d)return t[2804];if(3==d){var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x35")][_0x1dda("0x44")];return x[_0x1dda("0xaf")](_0x1dda("0x77"))>-1?x+_0x1dda("0x113"):""}return null},x[_0x1dda("0xa7")]=function(d){var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]&&arguments[1];if(1==d||2==d)return x?t[2809]:t[2805];if(3==d)return x?t[2808]:t[2806];return d},x[_0x1dda("0x109")]=function(d){if(1==d||2==d)return t[2805];if(3==d)return t[2806];return null},x[_0x1dda("0x10a")]=function(){return typeof esmapv!==_0x1dda("0x8")&&(esmapv&&esmapv[_._emv_]&&esmapv[_._emv_]._cdom()===esmapv[_[_0x1dda("0xca")]][_0x1dda("0x114")]())},x[_0x1dda("0x10b")]=function(){return"undefined"!=typeof esmapv&&(esmapv&&esmapv[_._emv_]&&esmapv[_[_0x1dda("0xca")]][_0x1dda("0x115")]()===esmapv[_._emv_]._sh())};var _=a(26);function e(d){for(var x=[],a=0;a<d[_0x1dda("0x0")];a++)x[a]=d[_0x1dda("0x2d")](a);return x}var t=x.PRIVITES={2803:"aHR0cHM6Ly93d3cuZXNtYXAuY24=",2804:_0x1dda("0x10d"),2805:"ZXN3b3JsZG1hcA==",2806:_0x1dda("0x10e"),2807:_0x1dda("0x10f"),2808:_0x1dda("0x110"),2809:_0x1dda("0x111")}},,,,,,,,,,,function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=o(a(2)),e=o(a(5)),t=o(a(0)),i=o(a(1)),n=o(a(10)),r=o(a(11)),s=a(49);function o(d){return d&&d.__esModule?d:{default:d}}function c(d){if(d){if(d[_0x1dda("0xe5")]&&d[_0x1dda("0xe5")].o3d_&&(d[_0x1dda("0xe5")].o3d_=void 0,d[_0x1dda("0xe5")]=void 0),d[_0x1dda("0xe6")])for(var x=0;x<d.children[_0x1dda("0x0")];x++)c(d[_0x1dda("0xe6")][x]);d[_0x1dda("0xe7")]&&(d[_0x1dda("0xe7")][_0x1dda("0xe8")](),d.geometry=void 0),d[_0x1dda("0xe9")]&&(d.material instanceof Array?d.material[_0x1dda("0xd1")]((function(d){d&&(d.map&&(d[_0x1dda("0x42")].dispose(),d[_0x1dda("0x42")]=void 0),d[_0x1dda("0xe8")](),d=void 0)})):(d[_0x1dda("0xe9")][_0x1dda("0xe8")](),d[_0x1dda("0xe9")]=void 0))}d=void 0}var l=function(d){function x(d,a,_,i){(0,t[_0x1dda("0xd")])(this,x);var r={lineWidth:6,lineWidthMeter:!1,color:_0x1dda("0x119"),lineType:esmap.ESLineType[_0x1dda("0x11a")],offsetHeight:0,fixedWidth:!1,pickLineWidth:5,closed:!1,hiddenByFloor:!0,blend:!1,metalness:.2,roughness:.5,light:!1,reverseAnimate:0,lineMode:_0x1dda("0x11b"),repeat:1,imgOffsetX:0,imgOffsetY:0,animateSpeed:1,isMapRoad:!1,transparent:!0,opacity:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x1dda("0x11c")])(0,1,0),matSide:1,noAnimate:!1,cross:!1,textureOffset:0};(0,s[_0x1dda("0x101")])(r,a),r[_0x1dda("0x2")]("alpha")&&(r[_0x1dda("0x11d")]=r.alpha);var o=(0,n[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,e[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this));o[_0x1dda("0x11f")]=_||!1,o[_0x1dda("0x120")]=r;var c=esmap[_0x1dda("0x33")][_0x1dda("0x34")];o.bid=d[0].bid||c.id;var l=function(d){for(var x=0,a=d[0][_0x1dda("0x116")](),_=1;_<d[_0x1dda("0x0")];_++)x+=d[_][_0x1dda("0x117")](d[_-1]),a[_0x1dda("0xce")](d[_]);return{length:x,center:a[_0x1dda("0x118")](d[_0x1dda("0x0")])}}(d);return o[_0x1dda("0x121")]=d,o[_0x1dda("0x0")]=l.length,o[_0x1dda("0x122")]=l.center,o[_0x1dda("0x123")]=d[0][_0x1dda("0x123")],i&&(o[_0x1dda("0x124")]=i),o.type_=_0x1dda("0x125"),o[_0x1dda("0x106")]=esmap[_0x1dda("0x126")][_0x1dda("0x127")],o[_0x1dda("0x128")]=[],o[_0x1dda("0x32")](),o}return(0,r[_0x1dda("0xd")])(x,d),(0,i[_0x1dda("0xd")])(x,[{key:"init",value:function(){var d=this,x=esmap[_0x1dda("0x33")].instance,a=this,_=this;a[_0x1dda("0x42")]=x;var e,t=new(THREE[_0x1dda("0x129")]),i=null;this[_0x1dda("0x120")][_0x1dda("0x12a")]&&(x[_0x1dda("0x12b")](this.bid)[_0x1dda("0x12c")][_0x1dda("0xaf")](this[_0x1dda("0x123")])<0&&(this.visible=!1));if(this[_0x1dda("0x11f")]){var n=this[_0x1dda("0x121")][0][_0x1dda("0x12d")],r=this.points[1][_0x1dda("0x12d")],s=this[_0x1dda("0x42")][_0x1dda("0x12b")](n),o=this.map[_0x1dda("0x12b")](r);if(s){var c=function(x){var a=x[_0x1dda("0x123")],_=x[_0x1dda("0xd8")];a==d[_0x1dda("0x121")][0][_0x1dda("0x123")]&&(d[_0x1dda("0x121")][0].y=_),d[_0x1dda("0x12e")](d.points)};s.on(_0x1dda("0x12f"),c),this[_0x1dda("0x128")][_0x1dda("0x10")]((function(){s.off("floorHeightChanged",c)}))}if(o){var l=function(x){var a=x[_0x1dda("0x123")],_=x.value;a==d[_0x1dda("0x121")][1].fnum&&(d.points[1].y=_),d[_0x1dda("0x12e")](d[_0x1dda("0x121")])};o.on(_0x1dda("0x12f"),l),this[_0x1dda("0x128")][_0x1dda("0x10")]((function(){o[_0x1dda("0x68")](_0x1dda("0x12f"),l)}))}}else{var f=x[_0x1dda("0x12b")](this[_0x1dda("0x12d")]);if(f){var u=function(x){for(var a=x[_0x1dda("0x123")],_=x[_0x1dda("0xd8")],e=0;e<d.points[_0x1dda("0x0")];e++)d.points[e][_0x1dda("0x123")]&&a==d[_0x1dda("0x121")][e][_0x1dda("0x123")]&&(d[_0x1dda("0x121")][e].y=_);d[_0x1dda("0x12e")](d[_0x1dda("0x121")])};f.on(_0x1dda("0x12f"),u),this.disposeTasks[_0x1dda("0x10")]((function(){f.off(_0x1dda("0x12f"),u)}))}}if(a[_0x1dda("0x120")][_0x1dda("0x130")])i=a.style[_0x1dda("0x131")]>=20?x[_0x1dda("0x132")].mapRoadMats[_0x1dda("0x133")][_0x1dda("0x116")]():x[_0x1dda("0x132")][_0x1dda("0x134")].normal[_0x1dda("0x116")]();else if(i=this[_0x1dda("0x124")]?this[_0x1dda("0x124")]:a[_0x1dda("0x120")].light?new(THREE[_0x1dda("0x135")])({transparent:this[_0x1dda("0x120")][_0x1dda("0x136")],opacity:this[_0x1dda("0x120")].opacity,color:16777215,wireframe:!1,metalness:this.style[_0x1dda("0x137")],roughness:this[_0x1dda("0x120")].roughness}):new THREE.MeshBasicMaterial({transparent:this[_0x1dda("0x120")][_0x1dda("0x136")],opacity:this[_0x1dda("0x120")].opacity,color:16777215}),this[_0x1dda("0x124")]||(i[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(this[_0x1dda("0x120")][_0x1dda("0x138")]),i[_0x1dda("0x13a")]=function(d){d.uniforms[_0x1dda("0x13b")]={value:0},d.uniforms[_0x1dda("0x13c")]={value:e[_0x1dda("0x13d")]},d[_0x1dda("0x13e")]=d[_0x1dda("0x13e")][_0x1dda("0x13f")]("#include <clipping_planes_pars_vertex>",_0x1dda("0x140")),d.vertexShader=d[_0x1dda("0x13e")][_0x1dda("0x13f")]("#include <uv_vertex>",_0x1dda("0x141")),d[_0x1dda("0x142")]=d[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x143"),"\n                        uniform float opacity;\n                        uniform float passPercent;\n                        uniform float uvDistance;\n                        varying vec2 nvUv;\n        \n                        vec3 changePassColor(vec3 originColor, float percent)\n                        {\n                            if(nvUv.x < percent * uvDistance){\n                                vec3 c = vec3(29.9, 58.7, 11.4);\n                                c /= 80.0;\n                                return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                            }else{\n                                return originColor;\n                            }\n                        }\n                        "),d[_0x1dda("0x142")]=d[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x144"),"\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                        \n                        gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n                        "),_.lineMaterialShader=d}),this.style.dashArray=[2,0],this[_0x1dda("0x145")]=this[_0x1dda("0x120")][_0x1dda("0x146")][_0x1dda("0x104")]((function(d,x){return d+x})),!this[_0x1dda("0x124")]){var h=this.createTexture();h.repeat.x=this[_0x1dda("0x120")][_0x1dda("0x147")],h.offset.x=this[_0x1dda("0x120")][_0x1dda("0x148")],h.offset.y=this[_0x1dda("0x120")].imgOffsetY,i[_0x1dda("0x42")]=h,i.transparent=this[_0x1dda("0x120")][_0x1dda("0x136")],i[_0x1dda("0x149")]=THREE[_0x1dda("0x14a")],2==a[_0x1dda("0x120")][_0x1dda("0x14b")]&&(i[_0x1dda("0x149")]=THREE[_0x1dda("0x14a")])}if(this[_0x1dda("0x120")][_0x1dda("0x14c")]==_0x1dda("0x14d")){var g=this[_0x1dda("0x120")][_0x1dda("0x14e")]/8;if(this.style[_0x1dda("0x14f")]&&(g=this[_0x1dda("0x120")].lineWidth),this[_0x1dda("0x150")]=t,this[_0x1dda("0x150")][_0x1dda("0xcd")](this[_0x1dda("0x121")],g,0,void 0,!1),e=new THREE.PathTubeGeometry,this.style[_0x1dda("0x151")]){var b=esmap.ESMapUtil.getSpriteScale(x,this);e[_0x1dda("0x152")](this[_0x1dda("0x150")],{radius:g/2*b*10,radialSegments:20,startRad:0}),e[_0x1dda("0x153")][_0x1dda("0x154")]=g/2*b*10}else e[_0x1dda("0x152")](this[_0x1dda("0x150")],{radius:g/2,radialSegments:20,startRad:0}),e[_0x1dda("0x153")][_0x1dda("0x154")]=g/2}else{var v=this.style[_0x1dda("0x14e")]/8;this[_0x1dda("0x120")][_0x1dda("0x14f")]&&(v=this[_0x1dda("0x120")].lineWidth),this.drawMode=1,e=new(THREE[_0x1dda("0x155")]),this[_0x1dda("0x150")]=t;var p=!1,m=this[_0x1dda("0x121")].length-1;if(this[_0x1dda("0x121")][0].x==this[_0x1dda("0x121")][m].x&&this[_0x1dda("0x121")][0].z==this.points[m].z&&(p=!0),this.pathPointList[_0x1dda("0xcd")](this[_0x1dda("0x121")],0,0,this.style.up,p),this[_0x1dda("0x120")][_0x1dda("0x151")]){var A=esmap.ESMapUtil[_0x1dda("0x156")](x,this);e[_0x1dda("0x152")](this.pathPointList,{width:v*A*18,side:_0x1dda("0x157"),arrow:this[_0x1dda("0x120")][_0x1dda("0x158")]}),e[_0x1dda("0x153")][_0x1dda("0x154")]=v*A*18}else e[_0x1dda("0x152")](this.pathPointList,{width:v,side:_0x1dda("0x157"),arrow:this[_0x1dda("0x120")][_0x1dda("0x158")]}),e[_0x1dda("0x153")].trueRadius=v}e[_0x1dda("0xd7")]=1,e[_0x1dda("0x159")](),a.style[_0x1dda("0x15a")]&&(i[_0x1dda("0x15b")]=!1),a[_0x1dda("0x120")][_0x1dda("0x15c")]&&(i[_0x1dda("0x15d")]=!1,i[_0x1dda("0x15e")]=THREE[_0x1dda("0x15f")]),this.material=i,this[_0x1dda("0xe7")]=e,this[_0x1dda("0x14e")]=this[_0x1dda("0x120")][_0x1dda("0x14e")],this[_0x1dda("0x160")]=esmap[_0x1dda("0x161")].lineObject,this._onUpdate=this[_0x1dda("0x162")][_0x1dda("0x4e")](this),this._onControlChange=this[_0x1dda("0x163")][_0x1dda("0x4e")](this),this._onvisibleFloorNumsChanged=this.visibleFloorNumsChanged[_0x1dda("0x4e")](this),this[_0x1dda("0xe9")].userData[_0x1dda("0x164")]||(x.on(_0x1dda("0x152"),this._onUpdate),x.on("zoomed",this[_0x1dda("0x165")]),this.material[_0x1dda("0x153")][_0x1dda("0x164")]=!0),this.style[_0x1dda("0x12a")]&&x.on(_0x1dda("0x166"),this[_0x1dda("0x167")]),_[_0x1dda("0x120")].fixedWidth&&_[_0x1dda("0x168")]()}},{key:_0x1dda("0x162"),value:function(d){this[_0x1dda("0xfe")]&&this[_0x1dda("0xfe")][_0x1dda("0x169")]&&!this[_0x1dda("0x120")][_0x1dda("0x16a")]&&this[_0x1dda("0x16b")](d)}},{key:_0x1dda("0x163"),value:function(){this[_0x1dda("0xfe")]&&this[_0x1dda("0xfe")].visible&&this[_0x1dda("0x120")][_0x1dda("0x151")]&&this[_0x1dda("0x168")]()}},{key:_0x1dda("0x12e"),value:function(d){var x=this.geometry[_0x1dda("0x153")].trueRadius;this[_0x1dda("0x121")]=d;var a=!1,_=this[_0x1dda("0x121")][_0x1dda("0x0")]-1;this[_0x1dda("0x121")][0].x==this[_0x1dda("0x121")][_].x&&this[_0x1dda("0x121")][0].z==this.points[_].z&&(a=!0),this[_0x1dda("0x120")][_0x1dda("0x14c")]==_0x1dda("0x14d")?(this.pathPointList[_0x1dda("0xcd")](d,x,0,void 0,!1),this[_0x1dda("0xe7")].update(this[_0x1dda("0x150")],{radius:x,radialSegments:20,startRad:0})):(this.pathPointList.set(this.points,0,0,this[_0x1dda("0x120")].up,a),this[_0x1dda("0xe7")][_0x1dda("0x152")](this[_0x1dda("0x150")],{width:x,side:_0x1dda("0x157"),arrow:this.style[_0x1dda("0x158")]})),this[_0x1dda("0xe7")].clearGroups(),this[_0x1dda("0xe7")][_0x1dda("0x16c")](0,this.geometry[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],0)}},{key:_0x1dda("0x168"),value:function(d){var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")],a=esmap.ESMapUtil[_0x1dda("0x156")](x),_=this[_0x1dda("0x120")][_0x1dda("0x14f")]?this[_0x1dda("0x14e")]:this[_0x1dda("0x14e")]/8;this[_0x1dda("0x120")][_0x1dda("0x14c")]==_0x1dda("0x11b")?this[_0x1dda("0xe7")][_0x1dda("0x152")](this[_0x1dda("0x150")],{width:_*a*18,side:_0x1dda("0x157"),arrow:this[_0x1dda("0x120")][_0x1dda("0x158")],progress:this[_0x1dda("0xe7")].progress}):d?this.geometry[_0x1dda("0x152")](this[_0x1dda("0x150")],{radius:_/2,radialSegments:20,startRad:0,progress:this[_0x1dda("0xe7")].progress}):this.geometry[_0x1dda("0x152")](this[_0x1dda("0x150")],{radius:_*a*10,radialSegments:20,startRad:0,progress:this[_0x1dda("0xe7")][_0x1dda("0xd7")]})}},{key:_0x1dda("0x16b"),value:function(d){if(this.material&&this[_0x1dda("0xe9")].map&&!this.style[_0x1dda("0x16a")]){if(this.style.reverseAnimate?this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x16d")].x+=.5*d*this.style[_0x1dda("0x16e")]:this[_0x1dda("0xe9")].map[_0x1dda("0x16d")].x-=.5*d*this[_0x1dda("0x120")][_0x1dda("0x16e")],this[_0x1dda("0x16f")]&&this.length>0){this.passDistance=this[_0x1dda("0x170")]||0;var x=this.passDistance/this.length;this[_0x1dda("0x16f")][_0x1dda("0x171")][_0x1dda("0x13b")].value=x}this[_0x1dda("0xe9")][_0x1dda("0x172")]=!0}}},{key:"updateColor",value:function(d){this[_0x1dda("0xe9")][_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(this._colorToStr(d))}},{key:"_colorToStr",value:function(d){if("number"==typeof d){for(var x=d[_0x1dda("0x2e")](16);x.length<6;)x="0"+x;return"#"+x}return d}},{key:_0x1dda("0x173"),value:function(){var d=(new THREE.TextureLoader).load(this[_0x1dda("0x120")][_0x1dda("0x4a")],(function(d){d[_0x1dda("0x172")]=!0}));return d.anisotropy=4,d[_0x1dda("0x147")].y=1,d[_0x1dda("0x16d")].y=0,d[_0x1dda("0x174")]=THREE[_0x1dda("0x175")],d.wrapS=THREE[_0x1dda("0x176")],d.wrapT=THREE.RepeatWrapping,d}},{key:"updateStyle",value:function(d){d[_0x1dda("0x138")]&&_0x1dda("0x177")==typeof d[_0x1dda("0x138")]&&(d.color=this[_0x1dda("0x178")](d.color)),(0,_.default)(this.style,d),d[_0x1dda("0x179")]&&!d[_0x1dda("0x146")]&&(this[_0x1dda("0x120")][_0x1dda("0x146")]=[2,0]),d[_0x1dda("0x14e")]&&(this[_0x1dda("0x14e")]=d.lineWidth,this[_0x1dda("0x168")](this[_0x1dda("0x14e")]));var x=this[_0x1dda("0x173")]();x.repeat.x=this[_0x1dda("0x120")][_0x1dda("0x147")],this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0xe8")](),this[_0x1dda("0xe9")].map=x,this.material.map[_0x1dda("0x172")]=!0,this[_0x1dda("0xe9")][_0x1dda("0x172")]=!0}},{key:"visibleFloorNumsChanged",value:function(d){if(d.bid==this[_0x1dda("0x12d")]){var x=d[_0x1dda("0x17a")],a=this.fnum,_=!0;_0x1dda("0x177")==typeof a?-1==x[_0x1dda("0xaf")](a)&&(_=!1):a instanceof Array&&a[_0x1dda("0xd1")]((function(d){-1==x.indexOf(d)&&(_=!1)})),this[_0x1dda("0x169")]=_}}},{key:_0x1dda("0xe8"),value:function(){var d=esmap[_0x1dda("0x33")][_0x1dda("0x34")];d[_0x1dda("0x68")](_0x1dda("0x152"),this[_0x1dda("0x17b")]),d.off(_0x1dda("0x17c"),this[_0x1dda("0x165")]),d.off(_0x1dda("0x166"),this._onvisibleFloorNumsChanged),this.disposeTasks[_0x1dda("0xd1")]((function(d){d()})),this.visible=!1;var x=this[_0x1dda("0xfe")];d[_0x1dda("0x17d")][_0x1dda("0x17e")](this.uuid);var a=d[_0x1dda("0x17f")][_0x1dda("0xaf")](this[_0x1dda("0x180")]);return a>-1&&d.lastSelectLineStore[_0x1dda("0x6")](a,1),x?(x[_0x1dda("0x181")](this),c(this),!0):void 0}}]),x}(THREE[_0x1dda("0x182")]);x[_0x1dda("0xd")]=l},,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x.stopJumpO3d=function(d){d._jumpID1&&d[_0x1dda("0x186")].stop(),d[_0x1dda("0x180")][_0x1dda("0xfa")].y=d.initY_,d[_0x1dda("0x187")]=!1},x[_0x1dda("0x183")]=function(d,x){var a=d;x=x||{};var e=d[_0x1dda("0x180")],t=a[_0x1dda("0xfa")].y;a[_0x1dda("0x187")]&&!x[_0x1dda("0x188")]||(a[_0x1dda("0x187")]=!0,x[_0x1dda("0x189")]=(0,_[_0x1dda("0x13")])(x,_0x1dda("0x189"),1),0==x.times&&(x[_0x1dda("0x189")]=Number.MAX_VALUE),x[_0x1dda("0x18a")]=(0,_[_0x1dda("0x13")])(x,"delay",0),x[_0x1dda("0x18b")]=(0,_.getValues)(x,"height",18),x[_0x1dda("0x18c")]=(0,_[_0x1dda("0x13")])(x,"time","duration",1),a[_0x1dda("0x186")]&&a[_0x1dda("0x186")][_0x1dda("0x18d")](),a[_0x1dda("0x186")]=new(esmap.TWEEN[_0x1dda("0x18e")])(e.position).to({y:t+x.height},.2*x.duration*1e3)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")].InOut)[_0x1dda("0x192")]((function(){})),a._jumpID2=new(esmap.TWEEN[_0x1dda("0x18e")])(e[_0x1dda("0xfa")]).to({y:t},.8*x[_0x1dda("0x18c")]*1e3)[_0x1dda("0x18f")](esmap.TWEEN[_0x1dda("0x193")].Bounce[_0x1dda("0x194")])[_0x1dda("0x192")]((function(){x[_0x1dda("0x189")]--,x.times>0?a[_0x1dda("0x187")]&&(x[_0x1dda("0x188")]=!0,a[_0x1dda("0x186")][_0x1dda("0x18a")](1e3*x[_0x1dda("0x18a")]).start()):(a._isAnimating=!1,a._jumpID1[_0x1dda("0x18d")](),x[_0x1dda("0x195")]&&x.callback())})),a[_0x1dda("0x186")][_0x1dda("0x196")](a._jumpID2).start());return x},x[_0x1dda("0x184")]=function(d){var x=d.coord,a=esmap[_0x1dda("0x33")][_0x1dda("0x34")],_=(0,e[_0x1dda("0xe2")])(x.x,x.y,15),t=[_.x+"_"+_.y],i=(0,e[_0x1dda("0x197")])(_.x,_.y,a[_0x1dda("0x35")].worldScale,!0),n={x:(i.maxx-i.minx)/2+i[_0x1dda("0xf0")],y:(i[_0x1dda("0xed")]-i[_0x1dda("0xf1")])/2+i[_0x1dda("0xf1")]},r=a[_0x1dda("0x198")]({from:a[_0x1dda("0x199")],to:_0x1dda("0x19a"),coord:{x:n.x,y:n.y}});n=r,x.x>n.x&&x.y>n.y?(t[_0x1dda("0x10")](_.x+"_"+(_.y+1)),t[_0x1dda("0x10")](_.x+1+"_"+(_.y+1)),t[_0x1dda("0x10")](_.x+1+"_"+_.y)):x.x>n.x&&x.y<n.y?(t[_0x1dda("0x10")](_.x+1+"_"+_.y),t[_0x1dda("0x10")](_.x+1+"_"+(_.y-1)),t[_0x1dda("0x10")](_.x+"_"+(_.y-1))):x.x<n.x&&x.y>n.y?(t.push(_.x-1+"_"+_.y),t.push(_.x-1+"_"+(_.y+1)),t[_0x1dda("0x10")](_.x+"_"+(_.y+1))):x.x<n.x&&x.y<n.y&&(t[_0x1dda("0x10")](_.x+"_"+(_.y-1)),t[_0x1dda("0x10")](_.x-1+"_"+(_.y-1)),t.push(_.x-1+"_"+_.y));return t},x[_0x1dda("0xe1")]=function d(x){var a=!(arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1])||arguments[1];if(x){if(x[_0x1dda("0xe5")]&&x.datas_[_0x1dda("0x180")]&&(x[_0x1dda("0xe5")].o3d_=void 0,x[_0x1dda("0xe5")]=void 0),x[_0x1dda("0xe6")])for(var _=0;_<x[_0x1dda("0xe6")][_0x1dda("0x0")];_++)d(x[_0x1dda("0xe6")][_],a);if(x.geometry&&(x.geometry[_0x1dda("0xe8")](),x.geometry=null),x[_0x1dda("0xe9")])if(x[_0x1dda("0xe9")]instanceof Array)for(var e=0;e<x.material[_0x1dda("0x0")];e++){var t=x[_0x1dda("0xe9")][e];t&&(a&&t[_0x1dda("0x42")]&&(t.map[_0x1dda("0xe8")](),t[_0x1dda("0x42")]=null),t[_0x1dda("0xe8")](),t=null)}else a&&x[_0x1dda("0xe9")][_0x1dda("0x42")]&&(x.material[_0x1dda("0x42")][_0x1dda("0xe8")](),x[_0x1dda("0xe9")][_0x1dda("0x42")]=null),x[_0x1dda("0xe9")][_0x1dda("0xe8")](),x.material=null}x=null},x[_0x1dda("0x185")]=function(d){var x=window[_0x1dda("0xdd")][_0x1dda("0x33")][_0x1dda("0x34")];x[_0x1dda("0x35")].userCrs!=x[_0x1dda("0x199")]&&(d=x[_0x1dda("0x198")]({from:x[_0x1dda("0x35")][_0x1dda("0x19b")],to:x[_0x1dda("0x199")],coord:d}));return x[_0x1dda("0x19c")](d)};var _=a(4),e=a(41)},,,,,,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x19d")]=void 0;var _=n(a(0)),e=n(a(1)),t=a(262),i=a(24);function n(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}x[_0x1dda("0x19d")]=function(){function d(){(0,_[_0x1dda("0xd")])(this,d)}return(0,e[_0x1dda("0xd")])(d,null,[{key:_0x1dda("0x19e"),value:function(d){var x=esmap[_0x1dda("0x33")].instance,a=x[_0x1dda("0x19f")].rendererCss2D[_0x1dda("0x1a0")],_=void 0,e="";"[object Object]"===Object[_0x1dda("0x1")][_0x1dda("0x2e")].call(d)?(_=d[_0x1dda("0x1a1")],e=function(d,x){if(x&&x[_0x1dda("0x0")])for(var a=0;a<x.length;a++)d=d[_0x1dda("0x13f")]("${"+(a+1)+"}",x[a]);return d}(t[_0x1dda("0x1a2")][_],d.param)):e=t[_0x1dda("0x1a2")][_],e||(e=_0x1dda("0x1a3"));var n=document[_0x1dda("0x20")](_0x1dda("0x1a4"));n[_0x1dda("0x120")][_0x1dda("0x1a5")]=_0x1dda("0x1a6"),n.style[_0x1dda("0x18b")]="100%",n[_0x1dda("0x120")][_0x1dda("0x1a7")]="flex",n[_0x1dda("0x120")][_0x1dda("0x1a8")]=_0x1dda("0x122"),n.style.alignItems=_0x1dda("0x122"),n[_0x1dda("0x120")].backgroundColor=_0x1dda("0x1a9"),n[_0x1dda("0x120")][_0x1dda("0x138")]="white",n.style[_0x1dda("0x1aa")]=_0x1dda("0x1ab"),n.style[_0x1dda("0x1ac")]=_0x1dda("0x1ad"),n[_0x1dda("0x1ae")]=e,n.setAttribute(_0x1dda("0x1af"),_0x1dda("0x1b0")),a[_0x1dda("0x1ae")]="",a.appendChild(n),i.MessagePoster.post({msg:""+e,level:"error"}),x[_0x1dda("0xda")]("error",{code:_,message:e});var r=new CustomEvent("ESMapError",{detail:{code:_,message:e}});window[_0x1dda("0x40")](r)}}]),d}()},,function(d,x,a){"use strict";(function(d){Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});x[_0x1dda("0x1b1")]="[object process]"===Object[_0x1dda("0x1")].toString.call(typeof d!==_0x1dda("0x8")?d:0)&&!d[_0x1dda("0x1b2")][_0x1dda("0x1b3")]})[_0x1dda("0x3")](this,a(74))},,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _,e=p(a(7)),t=p(a(8)),i=p(a(13)),n=p(a(2)),r=p(a(5)),s=p(a(0)),o=p(a(1)),c=p(a(10)),l=p(a(313)),f=p(a(11)),u=p(a(148)),h=a(63),g=a(4),b=a(49),v=p(a(144));function p(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var m=null,A=null,C=function(d){function x(d){(0,s[_0x1dda("0xd")])(this,x);var a=new(THREE[_0x1dda("0x1b4")]),_=(0,c.default)(this,(x[_0x1dda("0x11e")]||(0,r[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this,esmap[_0x1dda("0x126")][_0x1dda("0x1b5")],{},a));em.Evento[_0x1dda("0x1b6")](_),_[_0x1dda("0x42")]=_[_0x1dda("0xb3")][_0x1dda("0x42")];var e=_[_0x1dda("0x42")].mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]?23:12;return(0,n.default)(_,{diableClickEffect:!1,ID:Math[_0x1dda("0x1b9")]()[_0x1dda("0x2e")](36)[_0x1dda("0x11")](-8),name:_0x1dda("0x1ba"),model:"",alias:_0x1dda("0x1bb"),bid:0,top:1,gid:0,mapId:null,animations:[],callbackparams:null,fnum:null,url:null,isChildNode:!1,showLevel:e,configs:!1,clickAnimation:!0,status:0,callback:null},d),_[_0x1dda("0x1bc")]=!1,_[_0x1dda("0x1bd")]=0,_[_0x1dda("0x1be")]=new(THREE[_0x1dda("0x1bf")]),_[_0x1dda("0x1c0")]=[],_[_0x1dda("0x1c1")]=0,_[_0x1dda("0x1c2")]=0,_[_0x1dda("0x1c3")]=0,_[_0x1dda("0x1c4")]=null,_[_0x1dda("0x1c5")]=!1,_[_0x1dda("0x1c6")]=_[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x1c7")],_[_0x1dda("0x1c8")]=null,_[_0x1dda("0x1c9")]=!0,_[_0x1dda("0x1ca")]=[],_}var a;return(0,f.default)(x,d),(0,o[_0x1dda("0xd")])(x,[{key:_0x1dda("0x1cb"),value:function(d){this[_0x1dda("0x180")].add(d[_0x1dda("0x180")]),d[_0x1dda("0x180")][_0x1dda("0xfa")].x=0,d.o3d_.position.z=0,d[_0x1dda("0x180")][_0x1dda("0x153")].computePosition=this[_0x1dda("0x180")][_0x1dda("0xfa")][_0x1dda("0x116")](),this.markers[_0x1dda("0x10")](d)}},{key:"init",value:function(){this[_0x1dda("0xb3")].map.options[_0x1dda("0x1cc")]||(this[_0x1dda("0xb3")][_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]?this[_0x1dda("0xb3")][_0x1dda("0x42")].zoomLevel<this[_0x1dda("0x1cd")]&&(this[_0x1dda("0x1ce")].visible=!1):this[_0x1dda("0xb3")][_0x1dda("0x42")][_0x1dda("0x1cf")]>this[_0x1dda("0x1cd")]&&(this[_0x1dda("0x1ce")][_0x1dda("0x169")]=!1));this[_0x1dda("0x180")][_0x1dda("0xfc")]=this[_0x1dda("0x1d0")]?"":_0x1dda("0xfd"),this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d1")]={},this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d2")]=[],this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d3")]=null,this[_0x1dda("0x180")].userData[_0x1dda("0x9f")]=_0x1dda("0x1d4"),this.child[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")],this[_0x1dda("0x180")][_0x1dda("0xce")](this[_0x1dda("0x1ce")]),this.o3d_[_0x1dda("0x1d6")]=this[_0x1dda("0x1d6")];var d=this.scale;this.o3d_[_0x1dda("0x1d7")].set(d.x,d.y,d.z);var x=this.rotation||new(THREE[_0x1dda("0x11c")])(0,0,0),a=(new THREE.Quaternion).setFromEuler(new THREE.Euler(x.x,x.y,x.z,_0x1dda("0x1d8")));this[_0x1dda("0x180")][_0x1dda("0x1d9")][_0x1dda("0xcd")](a.x,a.y,a.z,a.w);var _=this.position;this[_0x1dda("0x180")].position.x=_.x,this[_0x1dda("0x180")][_0x1dda("0xfa")].y=_.y,this[_0x1dda("0x180")][_0x1dda("0xfa")].z=_.z,this[_0x1dda("0x1da")]=this.map[_0x1dda("0x1db")](this[_0x1dda("0x180")][_0x1dda("0xfa")]),this[_0x1dda("0x1dc")][_0x1dda("0xce")](this[_0x1dda("0x180")]),this[_0x1dda("0x1dd")]&&(this.fnum=this[_0x1dda("0x1dd")][_0x1dda("0x1de")]),this[_0x1dda("0x1df")](),this[_0x1dda("0x1c5")]=!0,this._skipProcessChild||this[_0x1dda("0x42")].options.editMode||this[_0x1dda("0x1e0")]()}},{key:_0x1dda("0x1e0"),value:function(){var d=this.map,a=this.bid,_=d[_0x1dda("0x12b")](this[_0x1dda("0x12d")]);_||(_=d[_0x1dda("0x1e1")](this[_0x1dda("0x12d")]));var e=this.model,t=!1;this[_0x1dda("0x1ce")][_0x1dda("0xf8")]((function(i){var n=i[_0x1dda("0x153")];if(n.name&&!i[_0x1dda("0xe5")]){var r=new x({diableClickEffect:!1,name:n[_0x1dda("0xfc")],fnum:1,ID:n.id,url:"",gid:null,mapId:d.id,bid:a,dataID:n[_0x1dda("0x1e2")]||null,bType:_[_0x1dda("0x1e3")],model:e,callback:null,top:1,rotation:{},position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},scaleRate:1,child:i,addTo:i[_0x1dda("0xfe")],isChildNode:!1,animations:[]});r[_0x1dda("0x180")]=i,i[_0x1dda("0x1e4")]=function(){if(!i[_0x1dda("0x153")][_0x1dda("0x1e5")]){var x=i[_0x1dda("0x1e6")](new(THREE[_0x1dda("0x11c")]));r[_0x1dda("0x1e7")]=d.coordThreeToMap(x),i[_0x1dda("0x153")][_0x1dda("0x1e5")]=!0}},i[_0x1dda("0xe5")]=r,t||(t=!0)}})),this[_0x1dda("0x1e8")]=t}},{key:"onZoomed",value:function(d){this[_0x1dda("0xb3")].map.mode==esmap[_0x1dda("0x1b7")].City?d<this[_0x1dda("0x1cd")]?this[_0x1dda("0x1ce")][_0x1dda("0x169")]&&(this.child[_0x1dda("0x169")]=!1):this[_0x1dda("0x1ce")][_0x1dda("0x169")]||(this[_0x1dda("0x1ce")][_0x1dda("0x169")]=!0):(d=this[_0x1dda("0xb3")][_0x1dda("0x42")][_0x1dda("0x1cf")])>=this.showLevel?this[_0x1dda("0x1ce")].visible&&(this[_0x1dda("0x1ce")][_0x1dda("0x169")]=!1):this[_0x1dda("0x1ce")].visible||(this[_0x1dda("0x1ce")].visible=!0)}},{key:_0x1dda("0x1e9"),value:function(d){var x=this.map,a="ANCHOR_"+d,_=this[_0x1dda("0x1ce")][_0x1dda("0x1ea")](a);if(_){console[_0x1dda("0x1ec")](_0x1dda("0x1ed")+d,_);var e=_[_0x1dda("0x1e6")](new THREE.Vector3);return x.coordThreeToMap(e)}console[_0x1dda("0x1eb")]("can not find anchor "+a)}},{key:_0x1dda("0x1df"),value:function(){var d=this,x=d[_0x1dda("0xb3")].map,a=d[_0x1dda("0x162")][_0x1dda("0x4e")](d);x.on("update",a);var _=d.onZoomed[_0x1dda("0x4e")](this);x[_0x1dda("0x35")][_0x1dda("0x1cc")]||x.on(_0x1dda("0x1ee"),_),this[_0x1dda("0x180")][_0x1dda("0x30")](_0x1dda("0x1ef"),(function(){for(;d.markers[_0x1dda("0x0")]>0;){var e=d[_0x1dda("0x1c0")][_0x1dda("0x4")]();e._bindupates&&(x[_0x1dda("0x68")]("update",e[_0x1dda("0x1f0")]),e.dispose())}x.off(_0x1dda("0x152"),a),x[_0x1dda("0x35")][_0x1dda("0x1cc")]||x[_0x1dda("0x68")](_0x1dda("0x1ee"),_),d[_0x1dda("0x1f1")](),d[_0x1dda("0x1f2")](_0x1dda("0x1ef"))}))}},{key:_0x1dda("0x162"),value:function(){var d=this,x=d[_0x1dda("0xb3")][_0x1dda("0x42")];if(d[_0x1dda("0x180")]){var a=d[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1f3")],_=d[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1f4")];if(a&&(d[_0x1dda("0x180")][_0x1dda("0x1d9")][_0x1dda("0x1f5")](a,.08),_)){var e=new THREE.Vector3(1,0,0),t=e.clone(),i=d.o3d_[_0x1dda("0x1f6")][_0x1dda("0x116")]();i[_0x1dda("0x1f7")](new(THREE[_0x1dda("0x11c")])),t[_0x1dda("0x1f8")](i);var n=(n=t[_0x1dda("0x116")]()[_0x1dda("0x1f9")](e)).y<0?-1:1,r=e.angleTo(t),s=THREE[_0x1dda("0x1fa")][_0x1dda("0x1fb")](r*n);x[_0x1dda("0x17d")][_0x1dda("0x1fc")]?d.needRotate=!0:d[_0x1dda("0x1fd")]?(s<0&&(s=360+s),x[_0x1dda("0x1fe")]>s?x[_0x1dda("0x1fe")]-=1:x[_0x1dda("0x1fe")]+=1,Math.abs(x[_0x1dda("0x1fe")]-s)<=3&&(d[_0x1dda("0x1fd")]=!1)):x[_0x1dda("0x1fe")]=s}d.updateScreenSize()}}},{key:_0x1dda("0x1ff"),value:function(d){var x=d,a=this,_=(0,g[_0x1dda("0x13")])(x,"time",_0x1dda("0x18c"),1),e=esmap.ESMap[_0x1dda("0x34")][_0x1dda("0xb3")];a[_0x1dda("0x187")]=!0,a[_0x1dda("0x200")]&&a[_0x1dda("0x200")][_0x1dda("0x18d")]();var t=this,i=e[_0x1dda("0x42")],n=t.o3d_[_0x1dda("0xfa")][_0x1dda("0x116")](),r=x[_0x1dda("0x2")](_0x1dda("0x201"))?x.angle:0,s=x[_0x1dda("0x2")]("z")?x.z:t[_0x1dda("0x180")][_0x1dda("0xfa")].y,o=x.hasOwnProperty("threshold")?x.threshold:null,c=i[_0x1dda("0x202")](n,!0);x.hasOwnProperty("x")||(x.x=c.x),x[_0x1dda("0x2")]("y")||(x.y=c.y);var l=i.coordMapToThree({x:x.x,y:x.y,z:s},!0),f=esmap[_0x1dda("0x86")].getRouteAngle({x:n.x,y:n.z},{x:l.x,y:l.z}),u=!1;if((x[_0x1dda("0x2")]("orientToPath")&&(u=x[_0x1dda("0x203")]),u&&null!=o&&null!=this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x204")])&&l.distanceTo(n)<=o.distance){var h=Math.abs(f-this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x204")]);h>360&&(h-=360),h>=o[_0x1dda("0x205")][0]&&h<=o[_0x1dda("0x205")][1]||h>=o[_0x1dda("0x206")][0]&&h<=o[_0x1dda("0x206")][1]&&(r=180)}if(null==this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x204")]||u){var b=f+r;this.o3d_[_0x1dda("0x153")][_0x1dda("0x204")]=b>360?b-360:b}if(u){var v=new(THREE[_0x1dda("0x207")]);if(n.x!=l.x||n.z!=l.z){v[_0x1dda("0x208")](l,n,this[_0x1dda("0x180")].up),v[_0x1dda("0x209")]((new(THREE[_0x1dda("0x207")])).makeRotationFromEuler(new(THREE[_0x1dda("0x20a")])(0,THREE[_0x1dda("0x1fa")][_0x1dda("0x20b")](r),0)));var p=(new(THREE[_0x1dda("0x20c")])).setFromRotationMatrix(v);t[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x20d")]&&t.o3d_.userData[_0x1dda("0x20d")][_0x1dda("0x18d")]();var m=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x20e")](t[_0x1dda("0x180")][_0x1dda("0x1d9")]),A=new(THREE[_0x1dda("0x20c")]),C={value:0};t[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x20d")]=new(esmap.TWEEN[_0x1dda("0x18e")])(C).to({value:1},500).easing(esmap[_0x1dda("0x190")].Easing.Linear.None)[_0x1dda("0x162")]((function(d,x){THREE.Quaternion[_0x1dda("0x1f5")](m,p,A,C.value),t[_0x1dda("0x180")][_0x1dda("0x1d9")][_0x1dda("0xcd")](A.x,A.y,A.z,A.w)}))[_0x1dda("0x192")]((function(){})).start()}}a[_0x1dda("0x200")]=new(esmap.TWEEN[_0x1dda("0x18e")])(this[_0x1dda("0x180")][_0x1dda("0xfa")]).to(l,1e3*_)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x20f")].None).onUpdate((function(d,a){if(x[_0x1dda("0x210")]){var _=i[_0x1dda("0x1db")](d);x[_0x1dda("0x210")]({position:{x:_.x,y:_.y},progress:a,angle:f})}})).onComplete((function(){t[_0x1dda("0x187")]=!1,x[_0x1dda("0x195")]&&x[_0x1dda("0x195")](t)})).start()}},{key:_0x1dda("0xce"),value:function(d){this[_0x1dda("0x180")][_0x1dda("0xce")](d)}},{key:_0x1dda("0x211"),value:function(d){this[_0x1dda("0x180")][_0x1dda("0x153")].movePathing||(0,h.jumpO3d)(this,d)}},{key:_0x1dda("0x212"),value:function(){(0,h[_0x1dda("0x213")])(this)}},{key:"flash",value:function(){}},{key:"stopFlash",value:function(){}},{key:"updateScreenSize",value:function(){}},{key:"restoreScale",value:function(){var d=this.o3d_;d[_0x1dda("0x153")][_0x1dda("0x214")]&&(d[_0x1dda("0x1d7")][_0x1dda("0x20e")](d[_0x1dda("0x153")][_0x1dda("0x214")]),d[_0x1dda("0x153")][_0x1dda("0x214")]=null)}},{key:_0x1dda("0x215"),value:function(){this[_0x1dda("0x169")]=!0}},{key:_0x1dda("0x216"),value:function(){this[_0x1dda("0x169")]=!1}},{key:_0x1dda("0x217"),value:function(d){var x=this[_0x1dda("0x180")];x.userData[_0x1dda("0x214")]||(x[_0x1dda("0x153")][_0x1dda("0x214")]=x.scale[_0x1dda("0x116")]()),x.scale[_0x1dda("0x218")](d)}},{key:_0x1dda("0x219"),value:function(d){var x=this[_0x1dda("0x180")];isNaN(d)||(d={angle:d});var a=(0,n[_0x1dda("0xd")])({time:1e3,angle:0,onComplete:null},d),_={x:0,y:0,z:0};a.angle instanceof Object?(0,n[_0x1dda("0xd")])(_,a[_0x1dda("0x201")]):_.z=1*a[_0x1dda("0x201")];var e=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x21a")](new(THREE[_0x1dda("0x20a")])(THREE[_0x1dda("0x1fa")].degToRad(_.x),THREE[_0x1dda("0x1fa")].degToRad(_.z),THREE.Math[_0x1dda("0x20b")](_.y),"ZXY")),t={value:0},i=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x20e")](x[_0x1dda("0x1d9")]),r=new(THREE[_0x1dda("0x20c")]);x[_0x1dda("0x153")][_0x1dda("0x21b")]&&x.userData[_0x1dda("0x21b")][_0x1dda("0x18d")]();var s=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(t).to({value:1},a.time)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")].Linear.None)[_0x1dda("0x162")]((function(d){THREE.Quaternion[_0x1dda("0x1f5")](i,e,r,t.value),x[_0x1dda("0x1d9")][_0x1dda("0xcd")](r.x,r.y,r.z,r.w)})).onComplete(a[_0x1dda("0x192")])[_0x1dda("0x21c")]();x[_0x1dda("0x153")][_0x1dda("0x21b")]=s}},{key:_0x1dda("0x21d"),value:function(){var d=esmap.ESMap[_0x1dda("0x34")];this[_0x1dda("0x21e")]=!1,d[_0x1dda("0x21f")][_0x1dda("0x220")]=!0,this[_0x1dda("0x180")].userData[_0x1dda("0x1f4")]=!1}},{key:_0x1dda("0x221"),value:function(d){var x=this;d=d||{};var a=esmap.ESMap[_0x1dda("0x34")];a[_0x1dda("0x222")]({x:this[_0x1dda("0x1e7")].x,y:this[_0x1dda("0x1e7")].y,z:this.mapCoord.z,directionAngle:a.rotateAngle,pitchAngle:60,radius:10});var e=null!=d.followAngle,t=!1,i=!1,n=!1,r=!1;x[_0x1dda("0x21e")]=!0,x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1f4")]=e;a.gestureController[_0x1dda("0x220")]=!1;var s=x[_0x1dda("0x180")][_0x1dda("0xfa")].y;x.lockViewInited||(document[_0x1dda("0x30")](_0x1dda("0x224"),(function(d){switch(d[_0x1dda("0x223")]){case 38:case 87:t=!0;break;case 37:case 65:i=!0;break;case 40:case 83:r=!0;break;case 39:case 68:n=!0}}),!1),document[_0x1dda("0x30")]("keyup",(function(d){switch(d[_0x1dda("0x223")]){case 38:case 87:t=!1;break;case 37:case 65:i=!1;break;case 40:case 83:r=!1;break;case 39:case 68:n=!1}}),!1),x[_0x1dda("0x225")]=!0,a.on(_0x1dda("0x152"),(function(){if(x[_0x1dda("0x21e")])if(t||i||n||r){var d=a[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")]();d.y=s,a[_0x1dda("0x21f")][_0x1dda("0x220")]=!0;var e=0;i?e=90:n?e=-90:r&&(e=180),x[_0x1dda("0x228")][_0x1dda("0x61")]("walk")&&!x.animating&&x[_0x1dda("0x229")]({name:_0x1dda("0x22a")});var o=a[_0x1dda("0x22b")][_0x1dda("0xfa")][_0x1dda("0x116")]();o.y=s,_||(_=setTimeout((function(){x[_0x1dda("0x22c")]&&(x[_0x1dda("0xb3")].map[_0x1dda("0x22d")]=!0,x[_0x1dda("0x22c")].queueRanked=!1,x.modelLoadManager.viewRangeUpdated=!1,window[_0x1dda("0x22e")](_),_=null)}),800)),x.o3d_[_0x1dda("0xfa")][_0x1dda("0x20e")](d);var c=new THREE.Matrix4;c.lookAt(d,o,x[_0x1dda("0x180")].up),c[_0x1dda("0x209")]((new(THREE[_0x1dda("0x207")]))[_0x1dda("0x22f")](new(THREE[_0x1dda("0x20a")])(0,THREE[_0x1dda("0x1fa")][_0x1dda("0x20b")](e),0))),x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1f3")]=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x230")](c)}else a.gestureController[_0x1dda("0x220")]&&(a[_0x1dda("0x21f")][_0x1dda("0x220")]=!1)})))}},{key:"restoreAlpha",value:function(d){d=d||1,this.o3d_[_0x1dda("0xf8")]((function(d){d[_0x1dda("0xe9")]&&d[_0x1dda("0xe9")][_0x1dda("0x153")].hasOwnProperty(_0x1dda("0x231"))&&(d.material[_0x1dda("0x136")]=d[_0x1dda("0xe9")].userData[_0x1dda("0x231")],d.material[_0x1dda("0x11d")]=d[_0x1dda("0xe9")][_0x1dda("0x153")][_0x1dda("0x11d")],delete d[_0x1dda("0xe9")][_0x1dda("0x153")].istransparent,delete d[_0x1dda("0xe9")].userData[_0x1dda("0x11d")])}))}},{key:_0x1dda("0x232"),value:function(d){var x,a,_;"number"==typeof d?(x=d,a=1,_=!1):!1===d?(a=1,x=!1,_=!1):(x=d.alpha,a=null==d[_0x1dda("0x233")]?1:d[_0x1dda("0x233")],_=null!=d.clonemat&&d[_0x1dda("0x234")]),esmap.ESMapUtil[_0x1dda("0x232")]({target:this[_0x1dda("0x180")],alpha:x,time:a,clonemat:_})}},{key:_0x1dda("0x235"),value:function(){this[_0x1dda("0x236")]&&(this.glowSprite[_0x1dda("0x169")]=!1,this[_0x1dda("0x236")][_0x1dda("0x1d7")].set(.01,.01,1),esmap[_0x1dda("0x237")][_0x1dda("0x238")].call(this.glowSprite),this[_0x1dda("0x236")]._isAnimating=!1,this[_0x1dda("0x1bc")]=!1)}},{key:_0x1dda("0x239"),value:function(d){var x=this,a=d||{};if(a.color=null==a.color?_0x1dda("0x23a"):a[_0x1dda("0x138")],a[_0x1dda("0x18b")]=null==a[_0x1dda("0x18b")]?0:a[_0x1dda("0x18b")],a[_0x1dda("0x23b")]=null==a[_0x1dda("0x23b")]||a.fixedSize,a[_0x1dda("0x15a")]=null==a[_0x1dda("0x15a")]||a[_0x1dda("0x15a")],null==a[_0x1dda("0x1d7")]&&(a[_0x1dda("0x1d7")]=1),a[_0x1dda("0x1d7")]=.1*a[_0x1dda("0x1d7")],!this[_0x1dda("0x236")]){var _=_0x1dda("0x23c"),e=(new(THREE[_0x1dda("0x23d")])).load(_),t=new(THREE[_0x1dda("0x23e")])({map:e,depthWrite:!0,transparent:!0,blending:THREE.AdditiveBlending,sizeAttenuation:!a[_0x1dda("0x23b")]});t.ignoreClickEffect=!0,a[_0x1dda("0x15a")]&&(t[_0x1dda("0x15b")]=!1),t[_0x1dda("0x138")]=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](a[_0x1dda("0x138")]||"#FFFFFF");var i=new THREE.Sprite(t);i[_0x1dda("0x1d7")][_0x1dda("0xcd")](.001,.001,1),i[_0x1dda("0xfc")]=_0x1dda("0x240"),i.renderOrder=esmap[_0x1dda("0x161")].model3D,i[_0x1dda("0x153")][_0x1dda("0x241")]=!0,i[_0x1dda("0x153")][_0x1dda("0x189")]=1e3,x[_0x1dda("0x180")].add(i),x[_0x1dda("0x236")]=i}this[_0x1dda("0x235")](),x.glowSprite[_0x1dda("0x1d7")][_0x1dda("0xcd")](d[_0x1dda("0x1d7")],d[_0x1dda("0x1d7")],1),this.glowSprite.visible=!0,a[_0x1dda("0x189")]=null==a[_0x1dda("0x189")]?0:a[_0x1dda("0x189")],x.glowSprite.position.y=a[_0x1dda("0x18b")],esmap.MapObjectUtils[_0x1dda("0x242")][_0x1dda("0x3")](x.glowSprite,a),x[_0x1dda("0x1bc")]=!0}},{key:_0x1dda("0x243"),value:function(d,x,a){var _=new(THREE[_0x1dda("0x11c")])(this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x122")][0]-d,this[_0x1dda("0x180")][_0x1dda("0xfa")].y,x-this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x122")][1]),e=new THREE.Matrix4,t=this;e[_0x1dda("0x208")](this[_0x1dda("0x180")][_0x1dda("0xfa")].clone(),_,this[_0x1dda("0x180")].up),e[_0x1dda("0x209")]((new(THREE[_0x1dda("0x207")]))[_0x1dda("0x22f")](new(THREE[_0x1dda("0x20a")])(0,THREE.Math[_0x1dda("0x20b")](a||0),0))),this.o3d_[_0x1dda("0x153")][_0x1dda("0x1f3")]=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x230")](e),this[_0x1dda("0x180")].position.x=_.x,this[_0x1dda("0x180")][_0x1dda("0xfa")].z=_.z,this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x244")]||(this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x244")]=!0,this[_0x1dda("0x42")].on(_0x1dda("0x152"),(function(){var d=t[_0x1dda("0x180")].userData[_0x1dda("0x1f3")];d&&t[_0x1dda("0x180")].quaternion[_0x1dda("0x1f5")](d,.1)})))}},{key:_0x1dda("0x245"),value:function(d){if(d&&d[_0x1dda("0x18c")])for(var x in this[_0x1dda("0x180")].userData[_0x1dda("0x1d1")])this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d1")][x][_0x1dda("0x246")](d[_0x1dda("0x18c")]);else for(var a in this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d1")])this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d1")][a].stop();this[_0x1dda("0x247")]=!1}},{key:_0x1dda("0x248"),value:function(){this[_0x1dda("0xe8")]()}},{key:_0x1dda("0x229"),value:function(d){var x,a=this,_={name:"",repeat:1,stopAllActions:!1,clampWhenFinished:!1,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,delay:0};return new(i[_0x1dda("0xd")])((x=(0,t.default)(e.default.mark((function x(t){var r,s,o,c,l,f,u,h,g,b,v,p,m,A;return e[_0x1dda("0xd")][_0x1dda("0x249")]((function(x){for(;;)switch(x[_0x1dda("0x24a")]=x.next){case 0:if(typeof d===_0x1dda("0xe")?_[_0x1dda("0xfc")]=d:(0,n[_0x1dda("0xd")])(_,d),r=a.url,s=a,o=r[_0x1dda("0x7a")]("/"),r[_0x1dda("0x7b")](o),c=a[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d1")],l=a[_0x1dda("0x180")][_0x1dda("0xe6")][0],f=a[_0x1dda("0xb3")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x24b")][s[_0x1dda("0x1ba")]]){x[_0x1dda("0x24c")]=11;break}return console.info(esmap[_0x1dda("0x24d")].MODEL3D_LOADING),x[_0x1dda("0x24e")](_0x1dda("0x24f"));case 11:return u=a.mapScene[_0x1dda("0x42")],h=s[_0x1dda("0x180")][_0x1dda("0x153")].mixer,_[_0x1dda("0x250")]&&(_[_0x1dda("0x147")]=1/0),h||(h=new(THREE[_0x1dda("0x251")])(l),f[_0x1dda("0x228")].forEach((function(d){var x=h[_0x1dda("0x252")](d);x.clampWhenFinished=!0,x[_0x1dda("0x253")]=_[_0x1dda("0x147")],c[d[_0x1dda("0xfc")][_0x1dda("0x254")]()]=x})),a.o3d_.userData.mixer=h),x[_0x1dda("0x24c")]=17,new(i[_0x1dda("0xd")])((function(d){setTimeout(d,1e3*_[_0x1dda("0x18a")])}));case 17:if(g=c[_[_0x1dda("0xfc")]]){x[_0x1dda("0x24c")]=22;break}return console[_0x1dda("0x255")](_[_0x1dda("0xfc")]+_0x1dda("0x256")+esmap[_0x1dda("0x24d")][_0x1dda("0x257")]),console.info(a.animations),x[_0x1dda("0x24e")](_0x1dda("0x24f"));case 22:if(b=a[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x258")],_.loop?g[_0x1dda("0x250")]=THREE[_0x1dda("0x259")]:1===_[_0x1dda("0x147")]?g[_0x1dda("0x250")]=THREE[_0x1dda("0x25a")]:g[_0x1dda("0x250")]=THREE[_0x1dda("0x259")],g.repetitions=_[_0x1dda("0x147")],g[_0x1dda("0x25b")]=_.clampWhenFinished,_[_0x1dda("0x25c")])for(v in c)c[v].fadeOut(_[_0x1dda("0x233")]);else _[_0x1dda("0x25d")]&&b&&b[_0x1dda("0x246")](_.time);g[_0x1dda("0xdc")]()[_0x1dda("0x25e")](1)[_0x1dda("0x25f")](1)[_0x1dda("0x260")](_.time)[_0x1dda("0x261")](),h[_0x1dda("0x262")]||(h[_0x1dda("0x262")]=!0,p=new(THREE[_0x1dda("0x1bf")]),m=function(){h.update(p[_0x1dda("0x263")]())},u.on("update",m),h[_0x1dda("0x164")]=m),s[_0x1dda("0x247")]=!0,s[_0x1dda("0x180")].userData[_0x1dda("0x258")]=g,_.loop?t():(A=function d(x){_[_0x1dda("0x195")]&&_[_0x1dda("0x195")](s),s[_0x1dda("0x247")]=!1,h[_0x1dda("0x264")](_0x1dda("0x265"),d),h[_0x1dda("0x266")]=null,t()},h[_0x1dda("0x30")](_0x1dda("0x265"),A),h[_0x1dda("0x266")]=A,0==_[_0x1dda("0x233")]&&_[_0x1dda("0x195")]&&_.callback(s));case 32:case _0x1dda("0x267"):return x.stop()}}),x,a)}))),function(d){return x[_0x1dda("0x5")](this,arguments)}))}},{key:_0x1dda("0x268"),value:function(d){var x={name:"",repeat:1,clampWhenFinished:!0,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,loopReverse:!1};typeof d===_0x1dda("0xe")?x.name=d:(0,n[_0x1dda("0xd")])(x,d);var a=this[_0x1dda("0x4a")],_=this,e=a[_0x1dda("0x7a")]("/"),t=(a.substring(e),this[_0x1dda("0x180")].userData.actions),i=this[_0x1dda("0x180")][_0x1dda("0xe6")][0],r=this[_0x1dda("0x22c")][_0x1dda("0x24b")][_.model];if(r){var s=this[_0x1dda("0xb3")][_0x1dda("0x42")],o=this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d3")];x.loop&&(x[_0x1dda("0x147")]=1/0),o||(o=new THREE.AnimationMixer(i),r[_0x1dda("0x228")][_0x1dda("0xd1")]((function(d){var a=o.clipAction(d);a[_0x1dda("0x25b")]=!0,a[_0x1dda("0x253")]=x.repeat,t[d.name.toLocaleLowerCase()]=a})),this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d3")]=o);var c=t[x[_0x1dda("0xfc")]];if(c){var l=this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x258")];if(l||(this[_0x1dda("0x180")][_0x1dda("0x153")].previousAction=c,l=c),x.loop?(c.loop=THREE[_0x1dda("0x259")],x[_0x1dda("0x26a")]&&(c[_0x1dda("0x250")]=THREE[_0x1dda("0x26b")])):c.loop=THREE[_0x1dda("0x25a")],c.repetitions=x[_0x1dda("0x147")],c.clampWhenFinished=x[_0x1dda("0x25b")],x[_0x1dda("0x25d")])l!=c?(c[_0x1dda("0xdc")]().setDuration(x[_0x1dda("0x233")])[_0x1dda("0x261")](),l.crossFadeTo(c,0)):c.reset()[_0x1dda("0x25e")](1)[_0x1dda("0x25f")](1)[_0x1dda("0x260")](x[_0x1dda("0x233")])[_0x1dda("0x261")]();else{var f=x[_0x1dda("0xfc")].match(/^[A-Za-z0-9]+\-/);if(f){var u=f[0];for(var h in t)h[_0x1dda("0x26c")](/^[A-Za-z0-9]+\-/)[0]==u&&t[h][_0x1dda("0x18d")]()[_0x1dda("0xdc")]()}c.play()}if(!o[_0x1dda("0x262")]){o.watching=!0;var g=new(THREE[_0x1dda("0x1bf")]);s.on("update",(function(){o[_0x1dda("0x152")](g[_0x1dda("0x263")]())}))}_[_0x1dda("0x247")]=!0,_[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x258")]=c;o[_0x1dda("0x30")](_0x1dda("0x265"),(function d(a){x[_0x1dda("0x195")]&&x[_0x1dda("0x195")](),_[_0x1dda("0x247")]=!1,o.removeEventListener("finished",d)}))}else console[_0x1dda("0x255")](esmap[_0x1dda("0x24d")].MODEL3D_ACTION_ERR)}else console[_0x1dda("0x255")](esmap[_0x1dda("0x24d")][_0x1dda("0x269")])}},{key:_0x1dda("0x26d"),value:function(){this[_0x1dda("0x26e")](!1)}},{key:"changeColor",value:function(d){var x=this[_0x1dda("0x180")];esmap[_0x1dda("0x237")][_0x1dda("0x26e")](x,d)}},{key:_0x1dda("0x26f"),value:function(){var d=this[_0x1dda("0x180")][_0x1dda("0x153")].movePathingTween;d&&d[_0x1dda("0x270")]()}},{key:_0x1dda("0x271"),value:function(){var d=this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x272")];d&&d[_0x1dda("0x273")]()}},{key:_0x1dda("0x1f1"),value:function(){var d=!(arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0])||arguments[0],x=this;if(x[_0x1dda("0x200")]&&x[_0x1dda("0x200")].stop(),d&&(x[_0x1dda("0x1bd")]=0),x[_0x1dda("0x180")]){var a=x.mapScene[_0x1dda("0x42")];this[_0x1dda("0x274")]&&this[_0x1dda("0x274")][_0x1dda("0x275")]&&(m&&(a[_0x1dda("0x226")][_0x1dda("0x276")]=m,m=null),A&&(a[_0x1dda("0x226")][_0x1dda("0x277")]=A,A=null),a[_0x1dda("0x21f")].enableMapPan||(a[_0x1dda("0x21f")][_0x1dda("0x220")]=!0),x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1f4")]=!1),x[_0x1dda("0x180")].userData.toRot=null,this.o3d_[_0x1dda("0x153")][_0x1dda("0x278")]=!1,x[_0x1dda("0x180")].userData[_0x1dda("0x20d")]&&(x[_0x1dda("0x180")][_0x1dda("0x153")].lastRotateAction[_0x1dda("0x18d")](),x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x20d")]=null),x[_0x1dda("0x180")].userData[_0x1dda("0x1d2")]&&x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d2")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0x18d")]()})),x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x272")]&&(x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x272")][_0x1dda("0x18d")](),x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x272")]=null),x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d2")]=[],a.mapService[_0x1dda("0x279")].enableTileBaseMap()}}},{key:_0x1dda("0x27a"),value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},x=this[_0x1dda("0x180")],a=null==d[_0x1dda("0x233")]?1:d[_0x1dda("0x233")];x.traverse((function(d){if(d.material){var x=d[_0x1dda("0xe9")];if(x instanceof Array&&(x=d[_0x1dda("0xe9")][0]),x.userData.faded){x.userData[_0x1dda("0x27b")]=!1;var _=x[_0x1dda("0x153")][_0x1dda("0x11d")];new(esmap.TWEEN[_0x1dda("0x18e")])(x).to({opacity:_},1e3*a)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing.Linear.None)[_0x1dda("0x192")]((function(){x[_0x1dda("0x136")]=x[_0x1dda("0x153")][_0x1dda("0x231")]}))[_0x1dda("0x21c")]()}}}))}},{key:"fadeOut",value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},x=this.o3d_,a=d[_0x1dda("0x233")];x.traverse((function(d){if(d[_0x1dda("0xe9")]){var x=d.material;x instanceof Array&&(x=d[_0x1dda("0xe9")][0]),x[_0x1dda("0x153")][_0x1dda("0x27b")]||(x[_0x1dda("0x153")].faded=!0,!x[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0x11d"))&&(x.userData[_0x1dda("0x11d")]=x[_0x1dda("0x11d")]),!x[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0x231"))&&(x[_0x1dda("0x153")][_0x1dda("0x231")]=x.transparent),x.transparent=!0,new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(x).to({opacity:0},1e3*a)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")].Linear[_0x1dda("0x27c")])[_0x1dda("0x192")]((function(){}))[_0x1dda("0x21c")]())}}))}},{key:"rotateModel",value:function(d){var x=this,a=x[_0x1dda("0xb3")][_0x1dda("0x42")],_=new(THREE[_0x1dda("0x11c")])(0,1,0),e=_.clone(),t=x[_0x1dda("0x180")][_0x1dda("0x1f6")].clone();t.setPosition(new(THREE[_0x1dda("0x11c")])),e.applyMatrix4(t);e[_0x1dda("0x116")]()[_0x1dda("0x1f9")](_).y,_.angleTo(e);x[_0x1dda("0x180")].userData[_0x1dda("0x27d")]||(x[_0x1dda("0x180")][_0x1dda("0x153")].rotated=!0);Math.PI;a[_0x1dda("0x17d")][_0x1dda("0x1fc")]?(x[_0x1dda("0x27e")]=!0,this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x27f")][_0x1dda("0x21c")]()):x.paused&&this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x27f")][_0x1dda("0x280")]()>3&&(this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x27f")][_0x1dda("0x18d")](),x[_0x1dda("0x27e")]=!1)}},{key:_0x1dda("0x281"),value:function(d){var x=this[_0x1dda("0xb3")][_0x1dda("0x42")];x[_0x1dda("0x17d")][_0x1dda("0x282")]||x[_0x1dda("0x219")](d)}},{key:_0x1dda("0x283"),value:function(d,x){var a,r=this,s=(a=(0,t[_0x1dda("0xd")])(e[_0x1dda("0xd")].mark((function d(){var x;return e[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:x=c[_0x1dda("0x284")];case 1:if(!(x<C[_0x1dda("0x0")])){d[_0x1dda("0x24c")]=9;break}return new(THREE[_0x1dda("0x11c")])(-C[x][_0x1dda("0x285")].x,C[x][_0x1dda("0x285")][_0x1dda("0x16d")]||0,C[x].from.y).y+=3,d.next=6,l(C[x],x,x==C.length-1);case 6:x++,d.next=1;break;case 9:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return a[_0x1dda("0x5")](this,arguments)});d[_0x1dda("0x286")]||(d[_0x1dda("0x287")]=!1);var o=this;d[_0x1dda("0x275")]&&null!=d.viewTiltAngle&&(o[_0x1dda("0x42")][_0x1dda("0x288")]=d[_0x1dda("0x289")]);var c,l=function(d,x,a){return new(i[_0x1dda("0xd")])((function(e){var t=c[_0x1dda("0x26")];if(x==c[_0x1dda("0x284")]){var i=f[_0x1dda("0x19c")](d[_0x1dda("0x285")],!0);o[_0x1dda("0x180")].position.x=i.x,o[_0x1dda("0x180")][_0x1dda("0xfa")].z=i.z,o[_0x1dda("0x180")][_0x1dda("0xfa")].y=(d[_0x1dda("0x285")].elevation||0)+t,c.followPosition&&(f.mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]&&f[_0x1dda("0x279")][_0x1dda("0x28a")](),f[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x20e")](o[_0x1dda("0x180")].getWorldPosition(new(THREE[_0x1dda("0x11c")]))))}var n=(d.to[_0x1dda("0x28b")]||0)+t,s=o[_0x1dda("0x180")][_0x1dda("0xfa")].clone(),l=f._coordMapSceneToThree(d.to,!0);l.y=n;var h=esmap[_0x1dda("0x86")][_0x1dda("0x28c")](d.from,d.to);if(c[_0x1dda("0x203")]){c[_0x1dda("0x28d")]||(l.y=s.y);var b=new(THREE[_0x1dda("0x207")]);if(s.x!=l.x||s.z!=l.z){b.lookAt(l,s,r.o3d_.up),b[_0x1dda("0x209")]((new(THREE[_0x1dda("0x207")]))[_0x1dda("0x22f")](new(THREE[_0x1dda("0x20a")])(0,THREE.Math[_0x1dda("0x20b")](c[_0x1dda("0x201")]),0)));var v=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x230")](b);o[_0x1dda("0x180")][_0x1dda("0x153")].lastRotateAction&&o[_0x1dda("0x180")].userData[_0x1dda("0x20d")][_0x1dda("0x18d")]();var p=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x20e")](o[_0x1dda("0x180")][_0x1dda("0x1d9")]),m=new(THREE[_0x1dda("0x20c")]),A={value:0},C=void 0;if(C=d[_0x1dda("0x233")]<.2?1e3*d[_0x1dda("0x233")]:d[_0x1dda("0x233")]<.5?200:d[_0x1dda("0x233")]<.8?500:800,c[_0x1dda("0x28e")]&&0==x&&(C=0),o.o3d_[_0x1dda("0x153")][_0x1dda("0x20d")]=new(esmap[_0x1dda("0x190")].Tween)(A).to({value:1},C*c.rotateSmooth)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing[_0x1dda("0x20f")].None)[_0x1dda("0x162")]((function(d,x){THREE[_0x1dda("0x20c")][_0x1dda("0x1f5")](p,v,m,A[_0x1dda("0xd8")]),o[_0x1dda("0x180")].quaternion[_0x1dda("0xcd")](m.x,m.y,m.z,m.w)}))[_0x1dda("0x192")]((function(){}))[_0x1dda("0x21c")](),c[_0x1dda("0x286")]&&!c[_0x1dda("0x287")]){var E=C/1e3*c[_0x1dda("0x28f")];o.rotateMap({angle:h,time:E})}}}else if(null!=d[_0x1dda("0x290")]&&null!=d[_0x1dda("0x291")])if(s.y!=l.y){var w=new(THREE[_0x1dda("0x207")]);w[_0x1dda("0x208")](l,s,r[_0x1dda("0x180")].up),w[_0x1dda("0x209")]((new(THREE[_0x1dda("0x207")])).makeRotationFromEuler(new(THREE[_0x1dda("0x20a")])(0,THREE[_0x1dda("0x1fa")].degToRad(0),0))),o.o3d_[_0x1dda("0x153")][_0x1dda("0x1f3")]=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x230")](w)}else o[_0x1dda("0x219")]({angle:d[_0x1dda("0x290")],time:1e3*d[_0x1dda("0x233")]});f[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")]();var T=f[_0x1dda("0x19c")](d.to,!0),k=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(o.o3d_[_0x1dda("0xfa")]).to({x:T.x,z:T.z,y:n},1e3*d.time)[_0x1dda("0x18f")](esmap.TWEEN[_0x1dda("0x193")][_0x1dda("0x20f")][_0x1dda("0x27c")])[_0x1dda("0x162")]((function(d,a,e){var i=o[_0x1dda("0x180")][_0x1dda("0x1e6")](new(THREE[_0x1dda("0x11c")]));if(c[_0x1dda("0x275")]){if(u&&(u[_0x1dda("0x116")](),u=null),o.map[_0x1dda("0x36")]==esmap.MapMode[_0x1dda("0x3a")]){var n=o[_0x1dda("0x1be")][_0x1dda("0x280")](),r=o[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x293")];n>=3&&r&&o[_0x1dda("0x42")][_0x1dda("0x279")].enableTileBaseMap(),n>=4&&!r&&(o[_0x1dda("0x1be")][_0x1dda("0x21c")](),o.map[_0x1dda("0x279")][_0x1dda("0x28a")]()),f[_0x1dda("0x294")]()}f[_0x1dda("0x226")].target[_0x1dda("0x20e")](i),c[_0x1dda("0x286")]&&c[_0x1dda("0x287")]?f[_0x1dda("0x226")][_0x1dda("0x152")]():f.controls[_0x1dda("0x152")]({forceTheta:f[_0x1dda("0x226")][_0x1dda("0x295")](),forcePhi:f[_0x1dda("0x226")][_0x1dda("0x296")]()})}var s={x:o[_0x1dda("0x180")][_0x1dda("0xfa")].x,y:o[_0x1dda("0x180")][_0x1dda("0xfa")].z},l=f[_0x1dda("0x202")]({x:s.x,z:s.y,y:0}),h=function(d,x){for(var a=d[_0x1dda("0x292")],_=0,e=g[_0x1dda("0x0")]-1;e>a;e--)if(e-1>a){var i=g[e],n=g[e-1],r=i.offset||0,s=n.offset||0,o=f[_0x1dda("0x19c")]({x:i.x,y:i.y,z:r+t}),c=f[_0x1dda("0x19c")]({x:n.x,y:n.y,z:s+t});_+=o[_0x1dda("0x117")](c)}var l=g[d[_0x1dda("0x292")]+1],u=l[_0x1dda("0x16d")]||0,h=f[_0x1dda("0x19c")]({x:l.x,y:l.y,z:u+t});return _+x.distanceTo(h)}({x:l.x,y:l.y,index:x},d[_0x1dda("0x116")]()),b=f[_0x1dda("0x1db")]({x:s.x,z:s.y,y:0}),v={x:b.x,y:b.y,z:o.o3d_.position.y,index:x},p=(I-h)/I;c[_0x1dda("0x210")]&&c[_0x1dda("0x210")]({position:v,progress:p,angle:c[_0x1dda("0x201")],loopDirection:y}),_||(_=setTimeout((function(){o[_0x1dda("0x22c")]&&(o[_0x1dda("0xb3")][_0x1dda("0x42")][_0x1dda("0x22d")]=!0,o[_0x1dda("0x22c")].queueRanked=!1,o[_0x1dda("0x22c")][_0x1dda("0x297")]=!1,window[_0x1dda("0x22e")](_),_=null)}),800))})).onComplete((function(){a&&c.loop&&c[_0x1dda("0x298")]&&c[_0x1dda("0x298")](o),e()}))[_0x1dda("0x21c")]();o[_0x1dda("0x180")].userData.tweens&&o[_0x1dda("0x180")].userData.tweens.push(k),o[_0x1dda("0x180")][_0x1dda("0x153")].movePathingTween=k}))};o[_0x1dda("0x1f1")](!1);var f=o[_0x1dda("0xb3")][_0x1dda("0x42")];if(x)(c=d)[_0x1dda("0x284")]=0;else{var u=null;(c={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngleRotate:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,rotateOnStart:!1,offsetHeight:0,speed:null,path:[]})[_0x1dda("0x299")]=!1,Object[_0x1dda("0xa")](c,_0x1dda("0x275"),{get:function(){return this[_0x1dda("0x299")]},set:function(d){if(o[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x278")]){var x=o.o3d_[_0x1dda("0x1e6")](new(THREE[_0x1dda("0x11c")]));f.controls.target[_0x1dda("0x20e")](x),u=f[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")]()}d?(null==m&&(m=f[_0x1dda("0x226")].maxDistance),null==A&&(A=f[_0x1dda("0x226")].minDistance),f.controls[_0x1dda("0x276")]=c[_0x1dda("0x29a")],f.controls.minDistance=c.minViewDistance,f[_0x1dda("0x21f")].enableMapPan=!1):this[_0x1dda("0x299")]&&(m&&(f[_0x1dda("0x226")][_0x1dda("0x276")]=m,m=null),A&&(f[_0x1dda("0x226")].minDistance=A,A=null),f.gestureController[_0x1dda("0x220")]||(f[_0x1dda("0x21f")][_0x1dda("0x220")]=!0)),this[_0x1dda("0x299")]=d}}),(0,n[_0x1dda("0xd")])(c,{followPosition:!1},d)}var h=c[_0x1dda("0x29b")],g=[];if(0!=h[_0x1dda("0x0")]){for(var b=0;b<h[_0x1dda("0x0")];b++){var v=h[b],p=f[_0x1dda("0x198")]({from:f[_0x1dda("0x35")][_0x1dda("0x19b")],to:f[_0x1dda("0x199")],coord:v});g[b]=p}if(1!=g[_0x1dda("0x0")]){var C=[],I=0,y=o[_0x1dda("0x1bd")]%2;o[_0x1dda("0x180")].userData[_0x1dda("0x1f3")]=null,c[_0x1dda("0x275")]&&(null==m&&(m=f[_0x1dda("0x226")][_0x1dda("0x276")]),null==A&&(A=f[_0x1dda("0x226")][_0x1dda("0x277")]),f[_0x1dda("0x226")][_0x1dda("0x276")]=c[_0x1dda("0x29a")],f[_0x1dda("0x226")][_0x1dda("0x277")]=c[_0x1dda("0x29c")],f.gestureController[_0x1dda("0x220")]=!1),c.onStart&&c.onStart();for(var E=0;E<g[_0x1dda("0x0")];E++){var w=g[E];if(w[_0x1dda("0x12d")]||(w[_0x1dda("0x12d")]=f.id),g[E].offset=1*g[E][_0x1dda("0x16d")]||0,g[E][_0x1dda("0x28b")]=g[E][_0x1dda("0x16d")],this.FloorNum&&w[_0x1dda("0x12d")]&&w[_0x1dda("0x123")]&&f[_0x1dda("0x12b")](w[_0x1dda("0x12d")])&&this[_0x1dda("0x1de")]!=w.fnum){var T=f[_0x1dda("0x12b")](w[_0x1dda("0x12d")])[_0x1dda("0x29d")](this.FloorNum),k=f[_0x1dda("0x12b")](w[_0x1dda("0x12d")])[_0x1dda("0x29d")](w[_0x1dda("0x123")]);g[E][_0x1dda("0x28b")]+=k-T}}for(var S=0;S<g[_0x1dda("0x0")]-1;S++)if(g[S+1]){var M=f.coordMapToThree(g[S]),R=f[_0x1dda("0x29e")](g[S+1]),L=M[_0x1dda("0x117")](R);I+=L,g[S]&&C[_0x1dda("0x10")]({distance:L,fnum:g[S][_0x1dda("0x123")]||1,from:g[S],fromAngle:g[S].hasOwnProperty("angle")?g[S][_0x1dda("0x201")]:null,to:g[S+1],toAngle:g[S+1].hasOwnProperty("angle")?g[S+1].angle:null})}if(c[_0x1dda("0x29f")]&&(c[_0x1dda("0x233")]=I/(1.62*c[_0x1dda("0x29f")])),!isNaN(c[_0x1dda("0x233")]))return C[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x233")]=0==d[_0x1dda("0x2a1")]?0:d[_0x1dda("0x2a1")]/I*c[_0x1dda("0x233")]})),o[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x278")]=!0,o[_0x1dda("0x274")]=c,s().then((function(){c[_0x1dda("0x250")]?(c[_0x1dda("0x284")]=0,c[_0x1dda("0x26a")]&&(o[_0x1dda("0x1bd")]++,c[_0x1dda("0x29b")][_0x1dda("0x2a2")]()),o.movePath(c,!0)):(o.o3d_.userData[_0x1dda("0x278")]=!1,o.o3d_[_0x1dda("0x153")].toRot=null,o.o3d_[_0x1dda("0x153")][_0x1dda("0x1f4")]=!1,f[_0x1dda("0x7d")][_0x1dda("0x279")].enableTileBaseMap(),c[_0x1dda("0x298")]&&c[_0x1dda("0x298")](o),m&&(f[_0x1dda("0x226")].maxDistance=m,m=null),A&&(f[_0x1dda("0x226")].minDistance=A,A=null),f[_0x1dda("0x21f")].enableMapPan||(f[_0x1dda("0x21f")][_0x1dda("0x220")]=!0))})),c;_0x1dda("0x2a0")}else{var D=f[_0x1dda("0x19c")](g[0],!0);if(o[_0x1dda("0x180")][_0x1dda("0xfa")].x=D.x,o[_0x1dda("0x180")][_0x1dda("0xfa")].z=D.z,o[_0x1dda("0x180")][_0x1dda("0xfa")].y=(1*g[0][_0x1dda("0x16d")]||0)+c[_0x1dda("0x26")],c[_0x1dda("0x210")]){var H={x:o[_0x1dda("0x180")][_0x1dda("0xfa")].x,y:o[_0x1dda("0x180")][_0x1dda("0xfa")].z},P=f[_0x1dda("0x1db")]({x:H.x,z:H.y,y:0}),O={x:P.x,y:P.y,index:0};c.onMoving({position:O,progress:1,angle:0,loopDirection:0})}c[_0x1dda("0x298")]&&c[_0x1dda("0x298")](this)}}}},{key:_0x1dda("0x2a3"),value:function(){var d=this;if(!this[_0x1dda("0x247")]){var x,a=this[_0x1dda("0x228")];this[_0x1dda("0x2a4")]?(x=a[_0x1dda("0x2a5")]((function(d){return d[_0x1dda("0xaf")](_0x1dda("0x2a6"))>-1}))).length>0&&this[_0x1dda("0x229")]({name:x[0],stopLastAction:!0,callback:function(){d[_0x1dda("0x2a4")]=0}}):(x=a[_0x1dda("0x2a5")]((function(d){return d.indexOf("open")>-1})))[_0x1dda("0x0")]>0&&this[_0x1dda("0x229")]({name:x[0],stopLastAction:!0,callback:function(){d[_0x1dda("0x2a4")]=1}})}}},{key:_0x1dda("0x2a7"),value:function(d,x){var a=this;setTimeout((function(){var _=a[_0x1dda("0x180")].getObjectByName(d);if(_){var e=_[_0x1dda("0x1e6")](new THREE.Vector3);e={x:-a[_0x1dda("0xf7")][_0x1dda("0x2a8")]-e.x,y:e.z+a[_0x1dda("0xf7")][_0x1dda("0x2a9")]},x&&x(e)}else x&&x(null)}),10)}},{key:"getChildObject",value:function(d){return this[_0x1dda("0x180")][_0x1dda("0x2aa")](d)}},{key:_0x1dda("0x2ab"),value:function(){this[_0x1dda("0x1c6")][_0x1dda("0xce")](this)}},{key:_0x1dda("0x2ac"),value:function(d){var x=this;if(!(d<0||d>2)&&d!==this._lodLevel){0==d&&(d="");var a=this._lodName+_0x1dda("0x2ad")+d+_0x1dda("0xae"),_=this[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x24b")][a];if(_){this[_0x1dda("0x1ce")][_0x1dda("0xfe")].remove(this[_0x1dda("0x1ce")]);var e=_.gltfObj[_0x1dda("0xf7")][_0x1dda("0x116")](!0);(new THREE.Box3)[_0x1dda("0x2ae")](e)[_0x1dda("0x2af")](e[_0x1dda("0xfa")]),e.position.multiplyScalar(-1),this[_0x1dda("0x1ce")]=e,this.o3d_.add(e),this._lodLevel=d}else{var t=this[_0x1dda("0x1ba")][_0x1dda("0x13f")](_0x1dda("0xae"),""),i=this._lodName+_0x1dda("0x2ad")+d,n=this.url[_0x1dda("0x2b0")](t,i);this[_0x1dda("0x22c")][_0x1dda("0x2b1")][a]||this[_0x1dda("0x22c")][_0x1dda("0x2b2")](a,n,(function(a){x[_0x1dda("0x1ce")][_0x1dda("0xfe")].remove(x.child),x[_0x1dda("0x1ce")]=null;var _=a.scene[_0x1dda("0x116")](!0);(new THREE.Box3)[_0x1dda("0x2ae")](_).getCenter(_.position),_.position[_0x1dda("0x218")](-1),x[_0x1dda("0x1ce")]=_,x[_0x1dda("0x180")][_0x1dda("0xce")](_),x[_0x1dda("0x1c3")]=d}))}}}},{key:_0x1dda("0x2b3"),value:function(d,x){var a=arguments[_0x1dda("0x0")]>2&&void 0!==arguments[2]?arguments[2]:0,_=esmap[_0x1dda("0x33")].instance,e=new(THREE[_0x1dda("0x2b4")])(.5,.5,.5),t="testMap"+x;this[t]||(this[t]=new(THREE[_0x1dda("0x2b5")])({color:x}));var i=new THREE.Mesh(e,this[t]),n=d.clone();n.y+=a,i[_0x1dda("0xfa")].copy(n),_.mapView.scene[_0x1dda("0xce")](i)}},{key:_0x1dda("0x2b6"),value:(a=(0,t[_0x1dda("0xd")])(e[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,_,t,n,r,s,o,c,l,f,u,h,g,p,m,A,C,I,y,E,w,T,k,S,M,R,L,D,H=this;return e[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:if(a=this,_=esmap[_0x1dda("0x33")].instance,t=this[_0x1dda("0x180")],n=_[_0x1dda("0x29e")]({x:x.x,y:x.y}),r={x:n.x,z:n.z},s={x:t.position.x,z:t[_0x1dda("0xfa")].z},o=null==x.time?1:x[_0x1dda("0x233")],x[_0x1dda("0x203")]=null==x[_0x1dda("0x203")]||x[_0x1dda("0x203")],c=null==x[_0x1dda("0x2b8")]?0:x[_0x1dda("0x2b8")],l=x[_0x1dda("0x16d")]||0,f=x[_0x1dda("0x298")],u=x[_0x1dda("0x2b9")],h=!x[_0x1dda("0x2")](_0x1dda("0x2ba"))||x.raycast,g=x.angle||0,p=x.onMoving,m=x[_0x1dda("0x2bb")]||100,A=x.typeID||null,C=x[_0x1dda("0x1e2")]||null,I=null,y=[],E=(t[_0x1dda("0x153")][_0x1dda("0x2bc")][_0x1dda("0x2bd")][_0x1dda("0x2be")].y-t[_0x1dda("0x153")][_0x1dda("0x2bc")][_0x1dda("0x2bd")].min.y)/2+l,w=function(){return new(i[_0x1dda("0xd")])((function(d){var x=void 0;0==c?(y[_0x1dda("0x10")](t.position[_0x1dda("0x116")]()),(x=T[_0x1dda("0x2bf")](r))||(x=new(THREE[_0x1dda("0x11c")])(r.x,t[_0x1dda("0xfa")].y-E,r.z)),x.y+=E,y[_0x1dda("0x10")](x[_0x1dda("0x116")]()),d()):new(esmap[_0x1dda("0x190")].Tween)(s).to(r,1e3*c)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")].Linear.None)[_0x1dda("0x162")]((function(d,a,_){if((x=T[_0x1dda("0x2bf")](d))||(x=new(THREE[_0x1dda("0x11c")])(d.x,t[_0x1dda("0xfa")].y-E,d.z)),I){var e=(0,b[_0x1dda("0x100")])({x:I.x,y:I.z},{x:x.x,y:x.z}),i=x.y-I.y>0?1:-1;Math[_0x1dda("0x2c0")](Math[_0x1dda("0x2c1")](x.y-I.y)/e)>Math.PI/6&&(x.y=i*Math[_0x1dda("0x2c2")](Math.PI/6)*e+I.y)}I=x[_0x1dda("0x116")](),x.y+=E,y[_0x1dda("0x10")](x[_0x1dda("0x116")]())}))[_0x1dda("0x192")](d)[_0x1dda("0x21c")]()}))},this.rayPointer||(this[_0x1dda("0x2c3")]=new v.default({depth:m,inverse:!1,typeID:A,dataID:C,debug:u}),this[_0x1dda("0x180")][_0x1dda("0xf8")]((function(d){"Mesh"==d[_0x1dda("0x9f")]&&(H[_0x1dda("0x2c3")].ignoredUuids[d[_0x1dda("0x2c4")]]=!0)})),this.rayPoint[_0x1dda("0x2c5")][this[_0x1dda("0x180")][_0x1dda("0x2c4")]]=!0),T=this[_0x1dda("0x2c3")],!h){d[_0x1dda("0x24c")]=29;break}return d[_0x1dda("0x24c")]=27,w();case 27:d[_0x1dda("0x24c")]=32;break;case 29:y[_0x1dda("0x10")](t.position.clone()),n.y=t[_0x1dda("0xfa")].y,y[_0x1dda("0x10")](n[_0x1dda("0x116")]());case 32:for(k=y,S=[],M=0,R=0;R<k[_0x1dda("0x0")];R++)0==R||R==k.length-1?(u&&a[_0x1dda("0x2b3")](k[R],65280,0),L=_[_0x1dda("0x1db")](k[R]),S[_0x1dda("0x10")]({x:L.x,y:L.y,offset:k[R].y})):M>-1?(u&&a.addTestCube(k[R],65280,0),D=_[_0x1dda("0x1db")](k[R]),S[_0x1dda("0x10")]({x:D.x,y:D.y,offset:k[R].y}),M=0):M++;this.movePath({followPosition:x[_0x1dda("0x275")]||!1,path:S,time:o-c,maxViewDistance:x[_0x1dda("0x29a")]||200,minViewDistance:x[_0x1dda("0x29c")]||10,angle:g,orientToPath:x[_0x1dda("0x203")],complete:f,onMoving:p});case 38:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return a[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x2c6"),value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{},x=this[_0x1dda("0x180")];if(!1===d&&(d={threshold:0}),d=(0,n[_0x1dda("0xd")])({threshold:1,x:!0,y:!0,z:!0,time:1},d),!this[_0x1dda("0x2c7")]){var a=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](x).getCenter(new(THREE[_0x1dda("0x11c")]));x[_0x1dda("0xf8")]((function(d){d[_0x1dda("0x9f")]==_0x1dda("0x182")&&(d[_0x1dda("0x153")][_0x1dda("0x2c9")]||(d[_0x1dda("0x153")].distanceToCenter=d[_0x1dda("0xfa")].distanceTo(a),d.userData[_0x1dda("0x2ca")]=d[_0x1dda("0xfa")][_0x1dda("0x116")]()))})),this[_0x1dda("0x2c7")]=!0,this[_0x1dda("0x180")][_0x1dda("0x153")].explodeCenter=a}this[_0x1dda("0x1ca")][_0x1dda("0xd1")]((function(d){return d.stop()})),this[_0x1dda("0x1ca")]=[];var _=[],e=this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x2cb")];this[_0x1dda("0x180")][_0x1dda("0xf8")]((function(x){if("Mesh"==x[_0x1dda("0x9f")]){var a=x.userData.originalPosition[_0x1dda("0x116")]().sub(e)[_0x1dda("0x2cc")]();d.x||(a.x=0),d.y||(a.z=0),d.z||(a.y=0);var t=a[_0x1dda("0x218")](x[_0x1dda("0x153")].distanceToCenter*d[_0x1dda("0x2cd")]),i=x.userData[_0x1dda("0x2ca")].clone()[_0x1dda("0xce")](t);_.push({object:x,targetPosition:i})}}));for(var t=0;t<_.length;t++){var i=_[t],r=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(i[_0x1dda("0x1b")].position).to(i[_0x1dda("0x2ce")],1e3*d[_0x1dda("0x233")])[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")].Out)[_0x1dda("0x21c")]();this[_0x1dda("0x1ca")].push(r)}}},{key:_0x1dda("0x22c"),get:function(){var d=this[_0x1dda("0xb3")][_0x1dda("0x42")],x=d[_0x1dda("0x12b")](this[_0x1dda("0x12d")]);return x||(x=d[_0x1dda("0x1e1")](this[_0x1dda("0x12d")])),x&&x[_0x1dda("0x22c")]}},{key:"mapCoord",set:function(d){this.overideCoord=d},get:function(){return this[_0x1dda("0x1c8")]?this[_0x1dda("0x1c8")]:(0,l.default)(x[_0x1dda("0x1")][_0x1dda("0x11e")]||(0,r.default)(x[_0x1dda("0x1")]),"mapCoord",this)}},{key:_0x1dda("0x2cf"),get:function(){return this.o3d_[_0x1dda("0xfa")].y}},{key:"angle",get:function(){var d=new THREE.Vector3(1,0,0),x=d[_0x1dda("0x116")](),a=this[_0x1dda("0x180")][_0x1dda("0x1f6")][_0x1dda("0x116")]();a[_0x1dda("0x1f7")](new THREE.Vector3),x[_0x1dda("0x1f8")](a);var _=(_=x[_0x1dda("0x116")]()[_0x1dda("0x1f9")](d)).y<0?-1:1,e=d[_0x1dda("0x2d0")](x),t=THREE.Math[_0x1dda("0x1fb")](e*_);return t=t>0?360-t:-t}},{key:_0x1dda("0x160"),get:function(){return this[_0x1dda("0x180")].renderOrder},set:function(d){this[_0x1dda("0x180")][_0x1dda("0x160")]=d,this[_0x1dda("0x180")].userData[_0x1dda("0x160")]=d,this[_0x1dda("0x180")][_0x1dda("0xf8")]((function(x){x[_0x1dda("0x2")](_0x1dda("0x160"))&&(x[_0x1dda("0x160")]=d)}))}}]),x}(u.default);x[_0x1dda("0xd")]=C},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x2d1")]=void 0;var _,e=a(32);var t={opc:new(((_=e)&&_[_0x1dda("0xc")]?_:{default:_}).default),sl:!0};x.useGlobalStore=function(){return{state:t}}},function(d,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var _=l(a(7)),e=l(a(8)),t=l(a(5)),i=l(a(0)),n=l(a(1)),r=l(a(10)),s=l(a(11)),o=l(a(80)),c=l(a(345));function l(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var f=function(d){function x(d,a){(0,i[_0x1dda("0xd")])(this,x);var _=new(c[_0x1dda("0xd")]);return(0,r.default)(this,(x[_0x1dda("0x11e")]||(0,t[_0x1dda("0xd")])(x)).call(this,d,a,_))}var a;return(0,s.default)(x,d),(0,n.default)(x,[{key:"updateImage",value:(a=(0,e[_0x1dda("0xd")])(_.default[_0x1dda("0x2b7")]((function d(x){return _[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return d.next=2,this[_0x1dda("0x180")][_0x1dda("0x2d2")](x);case 2:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return a[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x239"),value:function(d){this[_0x1dda("0x180")][_0x1dda("0x239")](d)}},{key:_0x1dda("0x235"),value:function(){this.o3d_[_0x1dda("0x235")]()}},{key:"jump",value:function(d){this[_0x1dda("0x180")][_0x1dda("0x211")](d)}},{key:_0x1dda("0x2d3"),value:function(d){this[_0x1dda("0x180")][_0x1dda("0x2d3")](d)}},{key:_0x1dda("0x238"),value:function(){this[_0x1dda("0x180")][_0x1dda("0x238")]()}},{key:"stopJump",value:function(){this[_0x1dda("0x180")][_0x1dda("0x212")]()}},{key:_0x1dda("0x27a"),value:function(d){this.o3d_[_0x1dda("0x27a")](d)}},{key:_0x1dda("0x217"),value:function(d){this[_0x1dda("0x180")][_0x1dda("0x217")](d)}},{key:"setSize",value:function(d){this[_0x1dda("0x180")][_0x1dda("0x2d4")](d)}},{key:_0x1dda("0x2d5"),value:function(d){this[_0x1dda("0x180")][_0x1dda("0x2d5")](d)}},{key:_0x1dda("0x2d6"),value:function(d){}},{key:"updateTextStyle",value:function(d){this[_0x1dda("0x180")][_0x1dda("0x2d7")](d)}},{key:_0x1dda("0x2d8"),value:function(d){this.o3d_[_0x1dda("0x2d8")](d)}},{key:_0x1dda("0x2d9"),value:function(){this[_0x1dda("0x180")][_0x1dda("0x2d9")]()}},{key:_0x1dda("0xe8"),value:function(){this[_0x1dda("0x180")].dispose()}},{key:_0x1dda("0x169"),set:function(d){this.o3d_[_0x1dda("0x2da")]=d,this[_0x1dda("0x2db")].visibleLock=!d,this[_0x1dda("0x180")][_0x1dda("0x169")]=d,this[_0x1dda("0x180")][_0x1dda("0x40")]({type:_0x1dda("0x2dc")})},get:function(){return this[_0x1dda("0x180")].visible}},{key:_0x1dda("0x1d7"),set:function(d){this[_0x1dda("0x217")](d)},get:function(){return this.o3d_[_0x1dda("0x2dd")]}},{key:_0x1dda("0xd2"),get:function(){return{w:this[_0x1dda("0x180")][_0x1dda("0x2de")],h:this[_0x1dda("0x180")].height_}},set:function(d){this.setSize(d)}},{key:_0x1dda("0x2df"),set:function(d){this.o3d_[_0x1dda("0x2df")]=d},get:function(){return this.o3d_[_0x1dda("0x2df")]}},{key:"url",set:function(d){this.o3d_[_0x1dda("0x2df")]=d},get:function(){return this.o3d_.image}},{key:_0x1dda("0x2e0"),set:function(d){this[_0x1dda("0x180")].text=d},get:function(){return this[_0x1dda("0x180")][_0x1dda("0x2e0")]}},{key:_0x1dda("0x15a"),set:function(d){this[_0x1dda("0x180")].material.depthTest=!d}}]),x}(o[_0x1dda("0xd")]);x[_0x1dda("0xd")]=f},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=g(a(25)),e=g(a(2)),t=g(a(7)),i=g(a(8)),n=g(a(13)),r=g(a(5)),s=g(a(0)),o=g(a(1)),c=g(a(10)),l=g(a(11)),f=a(4),u=a(63),h=a(18);function g(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var b=null,v=null,p=function(d){function x(){(0,s[_0x1dda("0xd")])(this,x);var d=(0,c[_0x1dda("0xd")])(this,(x.__proto__||(0,r.default)(x))[_0x1dda("0x5")](this,arguments));return d.movePathLoopCount=0,d._animateState={},d[_0x1dda("0x2db")]={showLevel:null,minShowLevel:null,maxShowLevel:null,visibleLock:!1,isCityMode:!1,eventId:(0,h.createHash)(8)},d[_0x1dda("0x1df")](),d}return(0,l[_0x1dda("0xd")])(x,d),(0,o[_0x1dda("0xd")])(x,[{key:"bindEvents",value:function(){var d=this;this._props[_0x1dda("0x2e1")]=this.map[_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")];var x=function(x){var a=x,_=d._props,e=_.minShowLevel,t=_[_0x1dda("0x2e2")],i=_[_0x1dda("0x2e1")],n=_[_0x1dda("0x2e3")];if(null!==d[_0x1dda("0x1cd")]&&!n){var r=d[_0x1dda("0x180")],s=d[_0x1dda("0x180")][_0x1dda("0x9f")]==_0x1dda("0x2e4"),o=d[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x2e5")];if(i||!o)if(null!=e&&null!=t){if(a<e||a>t)return r[_0x1dda("0x169")]=!1,void(r[_0x1dda("0x153")][_0x1dda("0x2e6")]=!0);s?r[_0x1dda("0x153")][_0x1dda("0x2e7")]&&(r[_0x1dda("0x169")]=!0):r[_0x1dda("0x169")]=!0,r.userData[_0x1dda("0x2e6")]=!1}else null!=t&&null===e&&(a<t?(r[_0x1dda("0x169")]=!1,r[_0x1dda("0x153")].outoflevel=!0):(s?r.userData[_0x1dda("0x2e7")]&&(r[_0x1dda("0x169")]=!0):r[_0x1dda("0x169")]=!0,r.userData[_0x1dda("0x2e6")]=!1));else{if(a=d[_0x1dda("0x42")][_0x1dda("0x1cf")],null!=e&&a<e)return r[_0x1dda("0x169")]=!1,void(r[_0x1dda("0x153")][_0x1dda("0x2e6")]=!0);a>t?(r[_0x1dda("0x169")]=!1,r[_0x1dda("0x153")][_0x1dda("0x2e6")]=!0):(s?r[_0x1dda("0x153")][_0x1dda("0x2e7")]&&(r[_0x1dda("0x169")]=!0):r[_0x1dda("0x169")]=!0,r[_0x1dda("0x153")][_0x1dda("0x2e6")]=!1)}}};this[_0x1dda("0x42")].on("zoomed",x,null,this[_0x1dda("0x2db")][_0x1dda("0x2e8")]),this.o3d_.addEventListener(_0x1dda("0x2e9"),(function(){x(d.map[_0x1dda("0x2ea")])})),this[_0x1dda("0x180")][_0x1dda("0x30")](_0x1dda("0x2dc"),(function(){x(d.map[_0x1dda("0x2ea")])}))}},{key:_0x1dda("0x2eb"),value:function(d){this.o3d_[_0x1dda("0xfa")].y=d}},{key:_0x1dda("0xe8"),value:function(){this.map[_0x1dda("0x17d")][_0x1dda("0x17e")](this[_0x1dda("0x180")][_0x1dda("0x2c4")]),this[_0x1dda("0x42")]._clearEventsFrom(this[_0x1dda("0x2db")].eventId),this[_0x1dda("0x180")][_0x1dda("0xf8")]((function(d){d[_0x1dda("0xe9")]&&d[_0x1dda("0xe9")][_0x1dda("0xe8")](),d.geometry&&d[_0x1dda("0xe7")].dispose()})),this[_0x1dda("0x180")][_0x1dda("0xfe")][_0x1dda("0x181")](this.o3d_)}},{key:_0x1dda("0x232"),value:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};isNaN(d)||(d={value:d}),esmap.ESMapUtil[_0x1dda("0x232")]({target:this[_0x1dda("0x180")],alpha:d[_0x1dda("0xd8")]||d[_0x1dda("0x2ec")],time:d[_0x1dda("0x233")]})}},{key:_0x1dda("0x283"),value:function(d,x){var a,_,r=(a=(0,i.default)(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(){var x;return t.default.wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d.next){case 0:x=_[_0x1dda("0x284")];case 1:if(!(x<m.length)){d.next=9;break}return new THREE.Vector3(-m[x][_0x1dda("0x285")].x,m[x].from.offset||0,m[x][_0x1dda("0x285")].y).y+=3,d[_0x1dda("0x24c")]=6,o(m[x],x,x==m[_0x1dda("0x0")]-1);case 6:x++,d.next=1;break;case 9:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return a[_0x1dda("0x5")](this,arguments)}),s=this,o=function(d,x,a){return new(n[_0x1dda("0xd")])((function(e){var t=_[_0x1dda("0x26")];if(x==_.startPathIndex){var i=c[_0x1dda("0x19c")](d.from,!0);s[_0x1dda("0x180")][_0x1dda("0xfa")].x=i.x,s[_0x1dda("0x180")].position.z=i.z,s[_0x1dda("0x180")][_0x1dda("0xfa")].y=(d[_0x1dda("0x285")][_0x1dda("0x28b")]||0)+t,_[_0x1dda("0x275")]&&(c[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]&&c.tileService[_0x1dda("0x28a")](),c.controls.target[_0x1dda("0x20e")](s.o3d_.getWorldPosition(new(THREE[_0x1dda("0x11c")]))))}var n=(d.to[_0x1dda("0x28b")]||0)+t,r=s.o3d_[_0x1dda("0xfa")][_0x1dda("0x116")](),o=c[_0x1dda("0x19c")](d.to,!0);o.y=n;var f,h,g=esmap[_0x1dda("0x86")].getRouteAngle(d[_0x1dda("0x285")],d.to);if(_.orientToPath&&(_[_0x1dda("0x28d")]||(o.y=r.y),r.x!=o.x||r.z!=o.z)){var b=void 0;if(b=d[_0x1dda("0x233")]<.2?1e3*d.time:d.time<.5?200:d.time<.8?500:800,_.followAngle){var v=b/1e3*_.followSmooth;f={angle:g,time:v},(h=window.esmap[_0x1dda("0x33")][_0x1dda("0x34")])[_0x1dda("0x17d")].isStaping||h[_0x1dda("0x219")](f)}}c.controls[_0x1dda("0x227")].clone();var p=c._coordMapSceneToThree(d.to,!0),m=new esmap.TWEEN.Tween(s[_0x1dda("0x180")][_0x1dda("0xfa")]).to({x:p.x,z:p.z,y:n},1e3*d.time)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x20f")].None)[_0x1dda("0x162")]((function(d,a,e){var i=s[_0x1dda("0x180")].getWorldPosition(new(THREE[_0x1dda("0x11c")]));if(_.followPosition){if(l&&(l[_0x1dda("0x116")](),l=null),s[_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]){var n=s[_0x1dda("0x1be")][_0x1dda("0x280")](),r=s[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x293")];n>=3&&r&&s[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x2ed")](),n>=4&&!r&&(s._clockMovePath[_0x1dda("0x21c")](),s[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x28a")]()),c[_0x1dda("0x294")]()}c.controls.target[_0x1dda("0x20e")](i),_[_0x1dda("0x286")]&&_[_0x1dda("0x287")]||c.controls[_0x1dda("0x152")]({forceTheta:c.controls.getAzimuthalAngle(),forcePhi:c.controls.getPolarAngle()})}var o={x:s.o3d_[_0x1dda("0xfa")].x,y:s[_0x1dda("0x180")][_0x1dda("0xfa")].z},f=c._coordThreeToMapScene({x:o.x,z:o.y,y:0}),h=function(d,x){for(var a=d.index,_=0,e=u[_0x1dda("0x0")]-1;e>a;e--)if(e-1>a){var i=u[e],n=u[e-1],r=i[_0x1dda("0x16d")]||0,s=n[_0x1dda("0x16d")]||0,o=c[_0x1dda("0x19c")]({x:i.x,y:i.y,z:r+t}),l=c._coordMapSceneToThree({x:n.x,y:n.y,z:s+t});_+=o.distanceTo(l)}var f=u[d[_0x1dda("0x292")]+1],h=f[_0x1dda("0x16d")]||0,g=c[_0x1dda("0x19c")]({x:f.x,y:f.y,z:h+t});return _+x[_0x1dda("0x117")](g)}({x:f.x,y:f.y,index:x},d[_0x1dda("0x116")]()),g=c[_0x1dda("0x1db")]({x:o.x,z:o.y,y:0}),b={x:g.x,y:g.y,z:s.o3d_[_0x1dda("0xfa")].y,index:x},v=(A-h)/A;_.onMoving&&_[_0x1dda("0x210")]({position:b,progress:v,angle:_[_0x1dda("0x201")],loopDirection:C})}))[_0x1dda("0x192")]((function(){a&&_[_0x1dda("0x250")]&&_[_0x1dda("0x298")]&&_[_0x1dda("0x298")](s),e()}))[_0x1dda("0x21c")]();s[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d2")]&&s.o3d_[_0x1dda("0x153")][_0x1dda("0x1d2")].push(m),s[_0x1dda("0x180")].userData[_0x1dda("0x272")]=m}))};s.stopMoving(!1);var c=s[_0x1dda("0xb3")].map;if(x)(_=d)[_0x1dda("0x284")]=0;else{var l=null;(_={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngleRotate:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,offsetHeight:0,speed:null,path:[]}).fp_=!1,Object[_0x1dda("0xa")](_,_0x1dda("0x275"),{get:function(){return this[_0x1dda("0x299")]},set:function(d){if(s.o3d_[_0x1dda("0x153")][_0x1dda("0x278")]){var x=s[_0x1dda("0x180")][_0x1dda("0x1e6")](new THREE.Vector3);c[_0x1dda("0x226")].target.copy(x),l=c[_0x1dda("0x226")].target[_0x1dda("0x116")]()}d?(null==b&&(b=c[_0x1dda("0x226")][_0x1dda("0x276")]),null==v&&(v=c[_0x1dda("0x226")][_0x1dda("0x277")]),c[_0x1dda("0x226")][_0x1dda("0x276")]=_[_0x1dda("0x29a")],c[_0x1dda("0x226")].minDistance=_[_0x1dda("0x29c")],c[_0x1dda("0x21f")].enableMapPan=!1):this[_0x1dda("0x299")]&&(b&&(c[_0x1dda("0x226")][_0x1dda("0x276")]=b,b=null),v&&(c[_0x1dda("0x226")][_0x1dda("0x277")]=v,v=null),c[_0x1dda("0x21f")][_0x1dda("0x220")]||(c.gestureController[_0x1dda("0x220")]=!0)),this[_0x1dda("0x299")]=d}}),(0,e[_0x1dda("0xd")])(_,{followPosition:!1},d)}var f=_[_0x1dda("0x29b")],u=[];if(0!=f[_0x1dda("0x0")]){for(var h=0;h<f[_0x1dda("0x0")];h++){var g=f[h],p=c[_0x1dda("0x198")]({from:c[_0x1dda("0x35")][_0x1dda("0x19b")],to:c.coordSystem,coord:g});u[h]=p}if(1!=u[_0x1dda("0x0")]){var m=[],A=0,C=s[_0x1dda("0x1bd")]%2;s[_0x1dda("0x180")][_0x1dda("0x153")].toRot=null,_.followPosition&&(null==b&&(b=c.controls[_0x1dda("0x276")]),null==v&&(v=c.controls[_0x1dda("0x277")]),c[_0x1dda("0x226")][_0x1dda("0x276")]=_[_0x1dda("0x29a")],c[_0x1dda("0x226")][_0x1dda("0x277")]=_[_0x1dda("0x29c")],c[_0x1dda("0x21f")].enableMapPan=!1),_[_0x1dda("0x2ee")]&&_[_0x1dda("0x2ee")]();for(var I=0;I<u.length;I++){var y=u[I];if(y[_0x1dda("0x12d")]||(y[_0x1dda("0x12d")]=c.id),u[I][_0x1dda("0x16d")]=1*u[I][_0x1dda("0x16d")]||0,u[I][_0x1dda("0x28b")]=u[I][_0x1dda("0x16d")],this[_0x1dda("0x1de")]&&y[_0x1dda("0x12d")]&&y[_0x1dda("0x123")]&&c[_0x1dda("0x12b")](y[_0x1dda("0x12d")])&&this[_0x1dda("0x1de")]!=y[_0x1dda("0x123")]){var E=c[_0x1dda("0x12b")](y[_0x1dda("0x12d")]).getFloorHeight(this[_0x1dda("0x1de")]),w=c[_0x1dda("0x12b")](y[_0x1dda("0x12d")])[_0x1dda("0x29d")](y[_0x1dda("0x123")]);u[I][_0x1dda("0x28b")]+=w-E}}for(var T=0;T<u.length-1;T++)if(u[T+1]){var k=c.coordMapToThree(u[T]),S=c[_0x1dda("0x29e")](u[T+1]),M=k[_0x1dda("0x117")](S);A+=M,u[T]&&m[_0x1dda("0x10")]({distance:M,fnum:u[T][_0x1dda("0x123")]||1,from:u[T],fromAngle:u[T].hasOwnProperty(_0x1dda("0x201"))?u[T][_0x1dda("0x201")]:null,to:u[T+1],toAngle:u[T+1][_0x1dda("0x2")]("angle")?u[T+1][_0x1dda("0x201")]:null})}if(_[_0x1dda("0x29f")]&&(_[_0x1dda("0x233")]=A/(1.62*_.speed)),!isNaN(_.time))return m[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x233")]=0==d[_0x1dda("0x2a1")]?0:d[_0x1dda("0x2a1")]/A*_[_0x1dda("0x233")]})),s[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x278")]=!0,_.followPosition&&null!=_[_0x1dda("0x289")]&&(c.tiltAngle=_[_0x1dda("0x289")]),s[_0x1dda("0x274")]=_,r()[_0x1dda("0x2ef")]((function(){_[_0x1dda("0x250")]?(_[_0x1dda("0x284")]=0,_[_0x1dda("0x26a")]&&(s.movePathLoopCount++,_[_0x1dda("0x29b")][_0x1dda("0x2a2")]()),s[_0x1dda("0x283")](_,!0)):(s[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x278")]=!1,s[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1f3")]=null,s[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1f4")]=!1,c.mapService[_0x1dda("0x279")][_0x1dda("0x2ed")](),_.complete&&_.complete(),b&&(c.controls[_0x1dda("0x276")]=b,b=null),v&&(c.controls.minDistance=v,v=null),c[_0x1dda("0x21f")][_0x1dda("0x220")]||(c[_0x1dda("0x21f")][_0x1dda("0x220")]=!0))})),_;console[_0x1dda("0x1eb")]("time is NaN!")}else{var R=c[_0x1dda("0x19c")](u[0],!0);if(s[_0x1dda("0x180")][_0x1dda("0xfa")].x=R.x,s[_0x1dda("0x180")].position.z=R.z,s.o3d_[_0x1dda("0xfa")].y=(1*u[0].offset||0)+_[_0x1dda("0x26")],_.onMoving){var L={x:s.o3d_[_0x1dda("0xfa")].x,y:s[_0x1dda("0x180")][_0x1dda("0xfa")].z},D=c[_0x1dda("0x1db")]({x:L.x,z:L.y,y:0}),H={x:D.x,y:D.y,index:0};_[_0x1dda("0x210")]({position:H,progress:1,angle:0,loopDirection:0})}_.complete&&_[_0x1dda("0x298")]()}}}},{key:_0x1dda("0x1ff"),value:function(d){var x=this[_0x1dda("0x2f0")][_0x1dda("0x1ff")];d=(0,e[_0x1dda("0xd")])({},d);var a={x:(0,f[_0x1dda("0x12")])(d,"x",this[_0x1dda("0x1e7")].x),y:(0,f.getValue)(d,"y",this[_0x1dda("0x1e7")].y),z:(0,f[_0x1dda("0x12")])(d,"z",this[_0x1dda("0x1e7")].z)};x&&x[_0x1dda("0x18d")]();var _=(0,u[_0x1dda("0x185")])(a);d.x=_.x,d.y=_.y,d.z=_.z;var t=esmap[_0x1dda("0x237")][_0x1dda("0x1ff")].call(this.o3d_,d);t&&(this[_0x1dda("0x2f0")][_0x1dda("0x1ff")]=t)}},{key:_0x1dda("0x2f1"),value:function(d){esmap[_0x1dda("0x237")][_0x1dda("0x2f1")].call(this.o3d_,d)}},{key:_0x1dda("0x2f2"),value:function(d){d=(0,e[_0x1dda("0xd")])({height:5,delay:0,time:2},d),this[_0x1dda("0x2f0")][_0x1dda("0x2f2")]&&this.stopFloat();var x=this.o3d_.position.y,a=this.o3d_,_=a[_0x1dda("0xfa")].y,t=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(a.position).to({y:_+d[_0x1dda("0x18b")]},1e3*d[_0x1dda("0x233")])[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")].Quadratic[_0x1dda("0x2f3")]),i=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(a[_0x1dda("0xfa")]).to({y:_},1e3*d.time)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")].Quadratic[_0x1dda("0x2f3")]);t[_0x1dda("0x196")](i),i.chain(t),setTimeout((function(){t[_0x1dda("0x21c")]()}),1e3*d[_0x1dda("0x18a")]),this[_0x1dda("0x2f0")][_0x1dda("0x2f2")]={position:{y:x},tweens:[t,i]}}},{key:"stopFloat",value:function(){var d=this[_0x1dda("0x2f0")][_0x1dda("0x2f2")];d&&(d[_0x1dda("0x1d2")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0x18d")]()})),esmap[_0x1dda("0x237")].moveTo.call(this.o3d_,d[_0x1dda("0xfa")]),this[_0x1dda("0x2f0")][_0x1dda("0x2f2")]=null)}},{key:"stopMoving",value:function(){var d=!(arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0])||arguments[0],x=this;if(this._animateState.moveTo&&this._animateState.moveTo.stop(),d&&(x[_0x1dda("0x1bd")]=0),x[_0x1dda("0x180")]&&this[_0x1dda("0x274")]){var a=this[_0x1dda("0x42")];this.movePathController&&this[_0x1dda("0x274")].followPosition&&(b&&(a.controls[_0x1dda("0x276")]=b,b=null),v&&(a[_0x1dda("0x226")][_0x1dda("0x277")]=v,v=null),a.gestureController.enableMapPan||(a[_0x1dda("0x21f")].enableMapPan=!0),x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1f4")]=!1),this[_0x1dda("0x180")].userData[_0x1dda("0x278")]=!1,x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x20d")]&&(x[_0x1dda("0x180")].userData.lastRotateAction[_0x1dda("0x18d")](),x.o3d_.userData[_0x1dda("0x20d")]=null),x.o3d_.userData.tweens&&x[_0x1dda("0x180")][_0x1dda("0x153")].tweens[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x18d")]()})),x.o3d_[_0x1dda("0x153")][_0x1dda("0x272")]&&(x.o3d_[_0x1dda("0x153")][_0x1dda("0x272")][_0x1dda("0x18d")](),x[_0x1dda("0x180")][_0x1dda("0x153")].movePathingTween=null),x[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x1d2")]=[]}}},{key:"resumeMovePath",value:function(){var d=this[_0x1dda("0x180")][_0x1dda("0x153")].movePathingTween;d&&d[_0x1dda("0x270")]()}},{key:_0x1dda("0x271"),value:function(){var d=this.o3d_[_0x1dda("0x153")][_0x1dda("0x272")];d&&d[_0x1dda("0x273")]()}},{key:_0x1dda("0x160"),get:function(){return this.o3d_.renderOrder},set:function(d){this[_0x1dda("0x180")][_0x1dda("0x160")]=d,this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x160")]=d}},{key:_0x1dda("0x1cd"),set:function(d){null!==d&&(this[_0x1dda("0x2db")][_0x1dda("0x1cd")]=d,Array[_0x1dda("0x2f4")](d)?(this._props[_0x1dda("0x2f5")]=Math[_0x1dda("0x2f6")].apply(Math,(0,_[_0x1dda("0xd")])(d)),this[_0x1dda("0x2db")].maxShowLevel=Math[_0x1dda("0x2be")][_0x1dda("0x5")](Math,(0,_[_0x1dda("0xd")])(d))):this._props[_0x1dda("0x2e2")]=d)},get:function(){return this[_0x1dda("0x2db")][_0x1dda("0x1cd")]}},{key:_0x1dda("0x42"),get:function(){return window[_0x1dda("0xdd")].ESMap.instance}},{key:_0x1dda("0x169"),set:function(d){this[_0x1dda("0x180")][_0x1dda("0x169")]=d,d?this[_0x1dda("0x2db")][_0x1dda("0x2e3")]=!1:this._props[_0x1dda("0x2e3")]=!0},get:function(){return this.o3d_[_0x1dda("0x169")]}}]),x}(esmap[_0x1dda("0x2f7")]);x[_0x1dda("0xd")]=p},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x173")]=void 0;var _,e=f(a(12)),t=f(a(13)),i=f(a(7)),n=f(a(2)),r=f(a(8)),s=f(a(157)),o=f(a(158)),c=f(a(25));x[_0x1dda("0x173")]=(_=(0,r[_0x1dda("0xd")])(i[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,_,e,t,r,s,o,c,l,f,u,g,b;return i.default.wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:if(a=h(),x=(0,n.default)({squared:!1,canvasPadding:0,text:"",textStyle:{},image:"",imageStyle:{}},x),e=(_=x)[_0x1dda("0x2e0")],t=_[_0x1dda("0x2f8")],r=_[_0x1dda("0x2df")],s=_[_0x1dda("0x2f9")],o=document[_0x1dda("0x20")](_0x1dda("0x2fa")),c=o[_0x1dda("0x2fb")]("2d"),l={fontSize:24,fillStyle:_0x1dda("0x119"),letterSpacing:0,lineHeight:null,strokeWidth:3,strokeStyle:"#000",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.5)",shadowOffsetX:0,shadowOffsetY:0,textBaseline:_0x1dda("0x2fc"),padding:2,offsetY:0,offsetX:0},f={align:"center",scale:1,size:"auto",space:5,shadowBlur:5,shadowColor:_0x1dda("0x2fd")},u=(0,n[_0x1dda("0xd")])({},l,t),typeof(g=(0,n[_0x1dda("0xd")])({},f,s))[_0x1dda("0xd2")]==_0x1dda("0x177")&&(g[_0x1dda("0xd2")]={w:g[_0x1dda("0xd2")],h:g.size}),u.fontSize=Math[_0x1dda("0xf2")](a?u[_0x1dda("0x2fe")]*=2.1:2*u[_0x1dda("0x2fe")]),b=null,r){d[_0x1dda("0x24c")]=16;break}b=p(c,o,e,u),d[_0x1dda("0x24c")]=19;break;case 16:return d[_0x1dda("0x24c")]=18,v(c,o,e,u,r,g,x);case 18:b=d[_0x1dda("0x2ff")];case 19:return d[_0x1dda("0x24e")](_0x1dda("0x24f"),{texture:b,ctx:c,canvas:o,width:o[_0x1dda("0x1a5")],height:o[_0x1dda("0x18b")]});case 20:case"end":return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return _[_0x1dda("0x5")](this,arguments)});x[_0x1dda("0x300")]=function(d){var x={fontSize:[],fillStyle:[_0x1dda("0x315")],strokeWidth:[],strokeStyle:[_0x1dda("0x316")],shadowColor:[],shadowBlur:[],shadowOffsetX:[],shadowOffsetY:[],padding:[],offsetY:[],offsetX:[]},a={},_=function(_){var e=x[_],t=[][_0x1dda("0x317")]((0,c[_0x1dda("0xd")])(e[_0x1dda("0x42")]((function(d){return d[_0x1dda("0x318")]()}))),[_[_0x1dda("0x318")]()]);(0,o[_0x1dda("0xd")])(d)[_0x1dda("0xd1")]((function(d){var x=(0,s.default)(d,2),e=x[0],i=x[1],n=e.toLowerCase();t.includes(n)&&(_!=_0x1dda("0x304")&&_!=_0x1dda("0x305")||(i=(0,l[_0x1dda("0x319")])(i)),a[_]=i)}))};for(var e in x)_(e);return a};var l=a(4);function f(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var u=null;function h(){return null===u&&(u=esmap[_0x1dda("0x86")][_0x1dda("0x301")]().isPC),u}function g(d,x,a,_,e){var t=x[_0x1dda("0x2a")]("\n"),i=0;t.forEach((function(x){!function(d,x,a,_,e){d.font=e[_0x1dda("0x2fe")]+_0x1dda("0x302"),d.textAlign=e.textAlign,d.textBaseline=e[_0x1dda("0x303")],d[_0x1dda("0x304")]=e[_0x1dda("0x304")],d[_0x1dda("0x305")]=e[_0x1dda("0x305")],d[_0x1dda("0x306")]=e[_0x1dda("0x306")],d[_0x1dda("0x307")]=e[_0x1dda("0x307")],d[_0x1dda("0x308")]=e[_0x1dda("0x308")],d[_0x1dda("0x309")]=e.shadowOffsetY,e[_0x1dda("0x30a")]&&(d.lineWidth=e[_0x1dda("0x30a")],d[_0x1dda("0x30b")](x,a,_));d[_0x1dda("0x30c")](x,a,_)}(d,x,a,_+i,e),i+=e.lineHeight+e.padding}))}function b(d,x,a,_,e){var t=e[_0x1dda("0x1d7")];d[_0x1dda("0x30d")](),d.shadowBlur=e[_0x1dda("0x306")],d.shadowColor=e[_0x1dda("0x307")];var i=e[_0x1dda("0xd2")]!=_0x1dda("0x314")?e[_0x1dda("0xd2")].w:x[_0x1dda("0x1a5")]*t,n=e[_0x1dda("0xd2")]!=_0x1dda("0x314")?e[_0x1dda("0xd2")].h:x.height*t;e[_0x1dda("0x30f")]?function(d,x,a,_,e,t){d[_0x1dda("0x30d")]();var i=2*e,n=a+e,r=_+e;d[_0x1dda("0x30e")](n,r,e,0,2*Math.PI),d[_0x1dda("0x30f")](),d[_0x1dda("0x310")](x,a,_,i,i),d[_0x1dda("0x311")](),d[_0x1dda("0x30e")](n,r,e-t.strokeWidth,0,2*Math.PI),d[_0x1dda("0x305")]=t[_0x1dda("0x305")],d[_0x1dda("0x14e")]=t[_0x1dda("0x30a")],d[_0x1dda("0x312")](),d[_0x1dda("0x313")]()}(d,x,a,_,i/2,e[_0x1dda("0x30f")]):d[_0x1dda("0x310")](x,a,_,i,n),d[_0x1dda("0x313")]()}function v(d,x,a,_,i,n,r){return new(t[_0x1dda("0xd")])((function(t){var s=esmap[_0x1dda("0x33")][_0x1dda("0x34")],o=_.padding,l=_[_0x1dda("0x31a")],f=_[_0x1dda("0x31b")],u=n.space,h=n.clip;h&&(typeof h==_0x1dda("0xe")?h={type:h,strokeStyle:_0x1dda("0x31c"),strokeWidth:1}:(typeof h===_0x1dda("0x8")?_0x1dda("0x8"):(0,e[_0x1dda("0xd")])(h))==_0x1dda("0x1b")&&(h[_0x1dda("0x305")]=h.strokeStyle||h.strokeColor||_0x1dda("0x31c"),h[_0x1dda("0x30a")]=h[_0x1dda("0x2")]("strokeWidth")?h[_0x1dda("0x30a")]:1),n.clip=h);var v=r[_0x1dda("0x31d")],p=r[_0x1dda("0x31e")],m=!0;""==a&&(o=0,u=0,m=!1),x[_0x1dda("0x120")][_0x1dda("0x31f")]=_[_0x1dda("0x31f")]+"px";var A=n.align;s[_0x1dda("0x7d")][_0x1dda("0x32f")][_0x1dda("0x330")](i,(function(e){!function(e){var i=n[_0x1dda("0x1d7")];d[_0x1dda("0x320")]=_.fontSize+_0x1dda("0x302");var r=a[_0x1dda("0x2a")]("\n"),s=_.lineHeight||_[_0x1dda("0x2fe")];_[_0x1dda("0x321")]=s;var h=Math[_0x1dda("0x2be")][_0x1dda("0x5")](Math,(0,c.default)(r[_0x1dda("0x42")]((function(x){return d[_0x1dda("0x322")](x)[_0x1dda("0x1a5")]}))))+2*o,C=s*r[_0x1dda("0x0")]+2*o;""==a&&(h=0,C=0);var I=void 0,y=void 0,E=void 0,w=void 0;switch(n[_0x1dda("0xd2")]!=_0x1dda("0x314")?(E=n.size.w,w=n.size.h):(E=e.width*i,w=e[_0x1dda("0x18b")]*i),A){case _0x1dda("0x323"):case _0x1dda("0x324"):I=Math[_0x1dda("0x2be")](E,h),y=w+C+u;break;case _0x1dda("0x325"):case _0x1dda("0x326"):I=E+h+u,y=Math[_0x1dda("0x2be")](w,C);break;case"center":I=Math[_0x1dda("0x2be")](E,h+0),y=Math[_0x1dda("0x2be")](w,C+0),C+f>w/2&&(y=2*(w/2+C+f)),h+l>E/2&&(I=2*(E/2+h+l))}var T=I,k=y,S=0,M=0;v&&(I=y=Math.max(I,y),M=(y-k)/2,S=(I-T)/2);var R=0,L=0;switch(p&&(I+=2*(R=I*p),y+=2*(L=y*p),M+=L,S+=R),x[_0x1dda("0x1a5")]=I,x[_0x1dda("0x18b")]=y,A){case _0x1dda("0x323"):_[_0x1dda("0x303")]=_0x1dda("0x327"),_.textAlign=_0x1dda("0x122"),b(d,e,(I-E)/2,0+M,n),m&&g(d,a,I/2,w+M+u+_[_0x1dda("0x2fe")]/2+o,_);break;case _0x1dda("0x324"):_[_0x1dda("0x303")]=_0x1dda("0x327"),_[_0x1dda("0x328")]=_0x1dda("0x122"),b(d,e,(I-E)/2,C+u+M,n),m&&g(d,a,I/2,o+_[_0x1dda("0x2fe")]/2+M,_);break;case _0x1dda("0x325"):_.textBaseline="middle",_[_0x1dda("0x328")]=_0x1dda("0x21c"),b(d,e,S,(y-w)/2,n),m&&g(d,a,S+E+u+o,y/2,_);break;case _0x1dda("0x326"):_[_0x1dda("0x303")]="middle",_.textAlign="start",b(d,e,h+u+S,(y-w)/2,n),m&&g(d,a,o+S,y/2,_);break;case"center":_[_0x1dda("0x303")]="middle",_[_0x1dda("0x328")]=_0x1dda("0x122"),b(d,e,(I-E)/2,(y-w)/2,n);var D=y/2+o-s*(r[_0x1dda("0x0")]-1)/2-f;m&&g(d,a,I/2+l,D,_)}var H=new(THREE[_0x1dda("0x329")])(x);H[_0x1dda("0x174")]=THREE[_0x1dda("0x32a")],H[_0x1dda("0x32b")]=esmap[_0x1dda("0x33")][_0x1dda("0x34")].mapView[_0x1dda("0x32c")].capabilities[_0x1dda("0x32d")](),H[_0x1dda("0x32e")]=!1,H[_0x1dda("0x172")]=!0,t(H)}(e)}))}))}function p(d,x,a,_){var e=_[_0x1dda("0x1aa")];d[_0x1dda("0x320")]=_.fontSize+'px "Microsoft Yahei",å¾®è½¯éé»,Tahoma,Arial';var t=a[_0x1dda("0x2a")]("\n");_[_0x1dda("0x328")]=_0x1dda("0x122");var i=_[_0x1dda("0x321")]||_.fontSize;_[_0x1dda("0x321")]=i,_[_0x1dda("0x303")]=_0x1dda("0x327");var n,r;n=Math.max[_0x1dda("0x5")](Math,(0,c[_0x1dda("0xd")])(t.map((function(x){return d[_0x1dda("0x322")](x).width}))))+2*e+2*e,r=i*t[_0x1dda("0x0")]+e*t[_0x1dda("0x0")]+2*e,x[_0x1dda("0x1a5")]=n,x[_0x1dda("0x18b")]=r,g(d,a,n/2,r/2+i/12,_);var s=new(THREE[_0x1dda("0x329")])(x);return s.minFilter=THREE.LinearFilter,s[_0x1dda("0x32b")]=esmap.ESMap[_0x1dda("0x34")].mapView[_0x1dda("0x32c")][_0x1dda("0x331")][_0x1dda("0x32d")](),s[_0x1dda("0x32e")]=!1,s.needsUpdate=!0,s}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x100")]=function(d,x){return Math[_0x1dda("0x103")]((d.x-x.x)*(d.x-x.x)+(d.y-x.y)*(d.y-x.y))},x.calcProjPoint=function(d,x,a,t){var i=x.x,n=x.y,r=a.x,s=a.y,o=d.x,c=d.y,l=r-i,f=s-n,u=Math[_0x1dda("0x103")](l*l+f*f),h=o-i,g=c-n,b=Math[_0x1dda("0x103")](h*h+g*g);if(e(u))return e(b)?(t.x=x.x,t.y=x.y,0):(t.x=x.x,t.y=x.y,b);var v=l/u,p=f/u,m=v*h+p*g;if(A=m,!(A>_))return t.x=x.x,t.y=x.y,b;var A;if(E=m-u,!(E<-_)){var C=o-r,I=c-s,y=Math[_0x1dda("0x103")](C*C+I*I);return t.x=a.x,t.y=a.y,y}var E;var w=i+m*v,T=n+m*p,k=o-w,S=c-T,M=Math[_0x1dda("0x103")](k*k+S*S);return t.x=w,t.y=T,M},x.toDecimal5=function(d){var x=parseFloat(d);if(isNaN(x))return;return x=Math.round(1e5*d)/1e5};var _=1e-5;function e(d){return d<_&&d>-_}},,,,,,,,,,,,,,,,,,,,,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=c(a(25)),e=c(a(5)),t=c(a(0)),i=c(a(1)),n=c(a(10)),r=c(a(11)),s=a(4),o=a(141);function c(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}x[_0x1dda("0xd")]=function(d){return function(d){function x(){return(0,t[_0x1dda("0xd")])(this,x),(0,n[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,e[_0x1dda("0xd")])(x))[_0x1dda("0x5")](this,arguments))}return(0,r[_0x1dda("0xd")])(x,d),(0,i[_0x1dda("0xd")])(x,[{key:"on",value:function(d,x,a){var _=arguments[_0x1dda("0x0")]>3&&void 0!==arguments[3]?arguments[3]:null;if(!d||!x)return this;if(!(0,s[_0x1dda("0x332")])(d))return this[_0x1dda("0x333")]("on",d,x);this[_0x1dda("0x334")]||(this[_0x1dda("0x334")]={});var e=d.toLowerCase()[_0x1dda("0x2a")](" "),t=void 0;a||(a=this);for(var i=void 0,n=0,r=e[_0x1dda("0x0")];n<r;n++){t=e[n],(i=this._eventMap[t])||(i=[],this[_0x1dda("0x334")][t]=i);var o=i[_0x1dda("0x0")];if(o>0)for(var c=0;c<o;c++)if(x===i[c][_0x1dda("0x335")]&&i[c][_0x1dda("0x336")]===a)return this;i[_0x1dda("0x10")]({handler:x,context:a,from:_})}return this}},{key:_0x1dda("0x30"),value:function(){return this.on[_0x1dda("0x5")](this,arguments)}},{key:_0x1dda("0x337"),value:function(d,x,a){if(!(0,s.isString)(d)){var _={};for(var e in d)d[_0x1dda("0x2")](e)&&(_[e]=this[_0x1dda("0x338")](e,d[e],a));return this._switch("on",_)}for(var t=d.split(" "),i=0,n=t.length;i<n;i++)this.on(t[i],this._wrapOnceHandler(t[i],x,a));return this}},{key:_0x1dda("0x68"),value:function(d,x,a){if(!d||!this[_0x1dda("0x334")]||!x)return this;if(!(0,s.isString)(d))return this[_0x1dda("0x333")](_0x1dda("0x68"),d,x);var _=d[_0x1dda("0x2a")](" "),e=void 0,t=void 0,i=void 0;a||(a=this);for(var n=0,r=_[_0x1dda("0x0")];n<r;n++){if(e=_[n].toLowerCase(),i=_0x1dda("0x339")+e,!(t=this[_0x1dda("0x334")][e]))return this;for(var o=t[_0x1dda("0x0")]-1;o>=0;o--){var c=t[o];x!==c[_0x1dda("0x335")]&&x!==c[_0x1dda("0x335")][i]||c[_0x1dda("0x336")]!==a||(delete c[_0x1dda("0x335")][i],t[_0x1dda("0x6")](o,1))}}return this}},{key:_0x1dda("0x264"),value:function(){return this[_0x1dda("0x68")][_0x1dda("0x5")](this,arguments)}},{key:"listens",value:function(d,x,a){if(!this._eventMap||!(0,s[_0x1dda("0x332")])(d))return 0;var _=this[_0x1dda("0x334")][d.toLowerCase()];if(!_||!_.length)return 0;for(var e=0,t=0,i=_[_0x1dda("0x0")];t<i;t++)if(x){if(x===_[t].handler&&((0,s[_0x1dda("0x33a")])(a)||_[t][_0x1dda("0x336")]===a))return 1}else e++;return e}},{key:_0x1dda("0x33b"),value:function(d){var x=d._eventMap;if(!x)return this;var a=void 0;for(var _ in x)for(var e=0,t=(a=x[_]).length;e<t;e++)this.on(_,a[e].handler,a[e][_0x1dda("0x336")]);return this}},{key:"fire",value:function(){return this[_0x1dda("0x33c")]?this[_0x1dda("0x33c")][_0x1dda("0xda")][_0x1dda("0x5")](this[_0x1dda("0x33c")],arguments):this[_0x1dda("0x33d")][_0x1dda("0x5")](this,arguments)}},{key:_0x1dda("0x338"),value:function(d,x,a){var _=this,e=_0x1dda("0x339")+d,t=!1,i=function n(){t||(delete i[e],t=!0,a?x[_0x1dda("0x5")](a,arguments):x[_0x1dda("0x5")](this,arguments),_[_0x1dda("0x68")](d,n,this))};return i[e]=x,i}},{key:_0x1dda("0x333"),value:function(d,x,a){for(var _ in x)x[_0x1dda("0x2")](_)&&this[d](_,x[_],a);return this}},{key:_0x1dda("0x33e"),value:function(d){if(d&&this[_0x1dda("0x334")])for(var x in this[_0x1dda("0x334")]){var a=this[_0x1dda("0x334")][x];if(a)for(var _=0;_<a[_0x1dda("0x0")];_++)a[_][_0x1dda("0x285")]===d&&(a[_0x1dda("0x6")](_,1),_--)}}},{key:_0x1dda("0x33f"),value:function(d){this._eventMap&&(0,s.isString)(d)&&(this[_0x1dda("0x334")][d[_0x1dda("0x318")]()]&&(this[_0x1dda("0x334")][d]=null))}},{key:_0x1dda("0x340"),value:function(){this[_0x1dda("0x334")]=null}},{key:_0x1dda("0x341"),value:function(d){return this[_0x1dda("0x33c")]=d,this}},{key:_0x1dda("0x33d"),value:function(d,x){if(!this._eventMap)return this;var a=this._eventMap[d.toLowerCase()];if(!a)return this;x||(x={});var e=Array[_0x1dda("0x1")][_0x1dda("0x11")].call(arguments);e=e[_0x1dda("0x11")](1);for(var t=a[_0x1dda("0x11")](0),i=void 0,n=void 0,r=0,s=t.length;r<s;r++)if(t[r]){var c,l;if(n=!0,x,i=t[r].context)n=(c=t[r][_0x1dda("0x335")])[_0x1dda("0x3")].apply(c,[i][_0x1dda("0x317")]((0,_[_0x1dda("0xd")])(e)));else n=(l=t[r])[_0x1dda("0x335")][_0x1dda("0x5")](l,(0,_[_0x1dda("0xd")])(e));!1===n&&x[_0x1dda("0x342")]&&(0,o[_0x1dda("0x343")])(x[_0x1dda("0x342")])}return this}}]),x}(d)}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x344")]=x[_0x1dda("0x345")]=void 0;var _=r(a(0)),e=r(a(1)),t=a(293),i=a(294),n=a(49);function r(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var s={dataUrlPrefix:_0x1dda("0x346"),themeUrlPrefix:null},o=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x36")]=esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")],this.mapDataSrc=s[_0x1dda("0x347")],this[_0x1dda("0x71")]=s[_0x1dda("0x348")],this[_0x1dda("0x349")]=!1,this[_0x1dda("0x34a")]=[10,20],this[_0x1dda("0x34b")]=60,this.useScaleLevel=!0,this.scalerBgColor=_0x1dda("0x34c"),this.scalerColor=_0x1dda("0x34d"),this[_0x1dda("0x34e")]=!1,this[_0x1dda("0x19b")]="WGS84",this[_0x1dda("0x83")]=1,this[_0x1dda("0x34f")]=!0,this[_0x1dda("0x350")]=!0,this.modelSelectedEffect=!0,this.defaultView=null,this[_0x1dda("0x351")]=!0,this[_0x1dda("0x352")]=document.body,this.center=null,this[_0x1dda("0x29c")]=20,this[_0x1dda("0x353")]="3D",this.shadowEnabled=!1,this[_0x1dda("0x354")]=null,this.compassBackgroundUrl=null,this[_0x1dda("0x355")]=null,this[_0x1dda("0x356")]=esmap[_0x1dda("0x357")][_0x1dda("0x358")],this.shadowSize=2048,this[_0x1dda("0x359")]=.6,this[_0x1dda("0x35a")]=null,this[_0x1dda("0x35b")]=null,this[_0x1dda("0x35c")]=null,this.defaultTiltAngle=null,this[_0x1dda("0x35d")]=!1,this[_0x1dda("0x35e")]=!0,this.viewModeAnimateTime=.3,this[_0x1dda("0x35f")]=!0,this.moveToAnimateTime=.3,this[_0x1dda("0x360")]=[10,20],this[_0x1dda("0x361")]=64,this[_0x1dda("0x362")]=0,this[_0x1dda("0x363")]=!1,this[_0x1dda("0x364")]="all",this[_0x1dda("0x365")]="default",this[_0x1dda("0x366")]=0,this.maxScaleLevel=null,this[_0x1dda("0x367")]=null,this[_0x1dda("0x368")]=!0,this[_0x1dda("0x369")]=!0,this[_0x1dda("0x2ea")]=null,this[_0x1dda("0x6e")]=null,this[_0x1dda("0x36a")]=0,this[_0x1dda("0x36b")]=1,this[_0x1dda("0x36c")]=1,this[_0x1dda("0x36d")]=1,this[_0x1dda("0x36e")]=!0,this[_0x1dda("0x36f")]=!0,this[_0x1dda("0x370")]=!0,this[_0x1dda("0x1cc")]=!1,this[_0x1dda("0x371")]=!1,this[_0x1dda("0x70")]=!0,this[_0x1dda("0x372")]=null,this[_0x1dda("0x373")]="./",this[_0x1dda("0x374")]=!0,this[_0x1dda("0x375")]=!1,this[_0x1dda("0x376")]="normal",this[_0x1dda("0x377")]=!0,this[_0x1dda("0x378")]=!1,this[_0x1dda("0x379")]=!1,this.lang=0,this.minZoomLevel=null,this.maxZoomLevel=null,this[_0x1dda("0x37a")]=0,this[_0x1dda("0x37b")]=!1,this.debugTip=!1,this[_0x1dda("0x37c")]=!1;var a=esmap.ESMapUtil[_0x1dda("0x301")]()[_0x1dda("0x37d")];this.scalerWidth=a?this[_0x1dda("0x34b")]:"50",this[_0x1dda("0x70")]&&(THREE[_0x1dda("0x70")]=!0),x.mapDataSrc&&"/"!==x[_0x1dda("0x44")].substring(x[_0x1dda("0x44")][_0x1dda("0x0")]-1)&&(x[_0x1dda("0x44")]+="/"),x[_0x1dda("0x71")]&&"/"!==x[_0x1dda("0x71")][_0x1dda("0x7b")](x[_0x1dda("0x71")][_0x1dda("0x0")]-1)&&(x[_0x1dda("0x71")]+="/"),x[_0x1dda("0x36")]||(x[_0x1dda("0x36")]=esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]),x[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")].Building?this[_0x1dda("0x37e")](x):(this[_0x1dda("0x37f")](x),this[_0x1dda("0x380")]>=5&&(this[_0x1dda("0x380")]=5))}return(0,e[_0x1dda("0xd")])(d,[{key:"initBuildingOptions",value:function(d){(0,n[_0x1dda("0x101")])(this,i[_0x1dda("0x381")]),(0,n.merge)(this,d)}},{key:_0x1dda("0x37f"),value:function(d){(0,n[_0x1dda("0x101")])(this,t[_0x1dda("0x382")]),(0,n[_0x1dda("0x101")])(this,d)}}]),d}();x[_0x1dda("0x345")]=o,x.getBuildingOptions=function(d){var x=(0,n[_0x1dda("0x101")])({},i.DefaultBuildingOptions);for(var a in x)d[_0x1dda("0x2")](a)&&void 0!==d[a]&&(x[a]=d[a]);return x}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=c(a(2)),e=c(a(0)),t=c(a(1)),i=c(a(310)),n=c(a(61)),r=(a(31),a(24)),s=c(a(33)),o=c(a(317));function c(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var l=function(){function d(x){var a=this;(0,e[_0x1dda("0xd")])(this,d),this[_0x1dda("0x383")]={},this.id=x.id,this[_0x1dda("0x42")]=x.map,this[_0x1dda("0x180")]=new(THREE[_0x1dda("0x384")]),this[_0x1dda("0xb4")]=this[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0xb4")],this[_0x1dda("0x180")][_0x1dda("0xe5")]=this,this[_0x1dda("0x385")]=0,this[_0x1dda("0x35")]={mergeModels:!0},this[_0x1dda("0x386")]=this.map.tileService,this.layerManager=new(esmap[_0x1dda("0x387")])(this.o3d_),this[_0x1dda("0x1e3")]=1,this[_0x1dda("0x22c")]=new i.default(this),this[_0x1dda("0x388")]=new(THREE[_0x1dda("0x384")]),this[_0x1dda("0x389")]=new THREE.Object3D,this[_0x1dda("0x38a")]=new(THREE[_0x1dda("0x384")]),this[_0x1dda("0x180")].add(this[_0x1dda("0x388")]),this[_0x1dda("0x180")][_0x1dda("0xce")](this[_0x1dda("0x389")]),this[_0x1dda("0x180")][_0x1dda("0xce")](this.lineLevel3),this[_0x1dda("0x38b")]=!1;var _=this,t=_[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x2ea")];t<16.5||(t<15?this.lineLevel2[_0x1dda("0x169")]=!1:t<14&&(this[_0x1dda("0x38a")][_0x1dda("0x169")]=!1)),this[_0x1dda("0x42")].on(_0x1dda("0x38c"),(function(){_.checkLod()})),s[_0x1dda("0xd")][_0x1dda("0xe0")](this.id),this.map.on(_0x1dda("0xdb"),(function(d){d[_0x1dda("0x285")]===a.id&&1===d[_0x1dda("0xd8")]&&a[_0x1dda("0x386")].tileLoadComplete_(a)})),this[_0x1dda("0x38d")]=new(o[_0x1dda("0xd")])(this)}return(0,t.default)(d,[{key:"checkLod",value:function(){var d=this,x=d[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x2ea")],a=d[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x38e")];d[_0x1dda("0x38f")]&&(x>=16.5?a[_0x1dda("0xaf")](d.id)>-1&&(d[_0x1dda("0x38f")][2]&&d[_0x1dda("0x390")](2),d.tempDatas[3]&&d.loadBuildings(3)):x>=14.5&&a.indexOf(d.id)>-1&&d[_0x1dda("0x38f")][2]&&d.loadBuildings(2)),d[_0x1dda("0x42")].options[_0x1dda("0x391")]?(x<15?d.lineLevel2[_0x1dda("0x169")]&&(d[_0x1dda("0x389")][_0x1dda("0x169")]=!1):d[_0x1dda("0x389")][_0x1dda("0x169")]||(d[_0x1dda("0x389")][_0x1dda("0x169")]=!0),x<14?d.lineLevel3[_0x1dda("0x169")]&&(d[_0x1dda("0x38a")][_0x1dda("0x169")]=!1):d[_0x1dda("0x38a")].visible||(d[_0x1dda("0x38a")][_0x1dda("0x169")]=!0)):(d[_0x1dda("0x389")][_0x1dda("0x169")]&&(d[_0x1dda("0x389")][_0x1dda("0x169")]=!1),d[_0x1dda("0x38a")][_0x1dda("0x169")]&&(d[_0x1dda("0x38a")][_0x1dda("0x169")]=!1))}},{key:"hideRoads",value:function(){this[_0x1dda("0x388")][_0x1dda("0x169")]=!1}},{key:_0x1dda("0x391"),value:function(){this.lineLevel1[_0x1dda("0x169")]=!0}},{key:_0x1dda("0x390"),value:function(d){var x=this.tempDatas[d];this.modelLoadManager[_0x1dda("0x392")][_0x1dda("0x393")]=x[_0x1dda("0x393")],this[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x394")]+=x[_0x1dda("0x393")],x[_0x1dda("0x2ad")]=d,this.meshHandler[_0x1dda("0x395")](x,1,this,!0),this[_0x1dda("0xb4")].handlePolygons(x,1,this,!0),this.tempDatas[d]=null}},{key:_0x1dda("0x396"),value:function(){var d=this[_0x1dda("0x397")],x=this.sourceData;if(x){var a=x[_0x1dda("0x398")],_=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")].MODEL_LABEL);this.o3d_[_0x1dda("0xce")](_[_0x1dda("0x180")]),_[_0x1dda("0x180")].boxCollision_=new esmap.ESMapBoxCollision;var e=this[_0x1dda("0x42")].id,t=new esmap.ESLayer(esmap[_0x1dda("0x39a")][_0x1dda("0x39b")]);this[_0x1dda("0x180")][_0x1dda("0xce")](t.o3d_),t[_0x1dda("0x180")][_0x1dda("0x39c")]=new esmap.ESMapBoxCollision;var i=this[_0x1dda("0x42")][_0x1dda("0xb3")],n=this;for(var r in this[_0x1dda("0x42")].on(_0x1dda("0x1ee"),(function(){n[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x2ea")]<=10?(_[_0x1dda("0x169")]&&(_[_0x1dda("0x169")]=!1),t[_0x1dda("0x169")]&&(t.visible=!1)):(!_[_0x1dda("0x169")]&&(_[_0x1dda("0x169")]=!0),!_.visible&&(t.visible=!0))})),a){var s=a[r];if(this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x39d")])if(!esmap[_0x1dda("0x86")][_0x1dda("0x39e")]({x:s.X,y:s.Y},this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x39d")]))continue;var o=Math.floor(s[_0x1dda("0x39f")]/100),c=s[_0x1dda("0x39f")]%100,l=_0x1dda("0x325");if(1==c?l="top":2==c?l=_0x1dda("0x326"):3==c&&(l=_0x1dda("0x324")),2==o||3==o||4==o){var f=s.SH||2.5,u={isTile:!0,oid:s[_0x1dda("0x3a0")],Typeid:s[_0x1dda("0x3a1")],name:s.NA||"",fontstyleid:s[_0x1dda("0x3a2")],Height:s.SH,X:s.X,Y:s.Y,imagealign:l,image:s[_0x1dda("0x2df")],w:s.w?s.w:32,h:s.h?s.h:32,ShowLevel:s.SL,texture:null},h=this[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0x3a3")][u[_0x1dda("0x3a4")]]||this[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0x3a3")][0]||this[_0x1dda("0x42")][_0x1dda("0x132")].labelStyle_,g=new esmap.ESLabel(u,h);g.showLevel=u[_0x1dda("0x3a5")];var b=g[_0x1dda("0x180")];g[_0x1dda("0x12d")]=this[_0x1dda("0x42")].id,g[_0x1dda("0x3a6")]=this.id,b[_0x1dda("0x40")]({type:_0x1dda("0x2e9")}),_[_0x1dda("0x180")][_0x1dda("0xce")](b),b.data_[_0x1dda("0x3a7")]=0,g[_0x1dda("0x3a8")]=1;var v=this.map.transformCoord({from:this[_0x1dda("0x42")].DEFAULT_COORDSYSTEM,to:this.map.coordSystem,coord:{x:s.X,y:s.Y}}),p=this.map[_0x1dda("0x19c")](v);b[_0x1dda("0xfa")][_0x1dda("0xcd")](p.x,f,p.z),b[_0x1dda("0x122")][_0x1dda("0xcd")](.5,0),b[_0x1dda("0x3a9")][_0x1dda("0x3aa")](this[_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0x3ab")],b[_0x1dda("0x3ac")]),b[_0x1dda("0x153")][_0x1dda("0x3ad")]=!0,this.map[_0x1dda("0x17d")][_0x1dda("0x3ae")](b,e),d[_0x1dda("0xd5")](s[_0x1dda("0x3a0")])}else if(11==o){var m=s[_0x1dda("0x3af")];s.image&&""!=s.image&&(m=s[_0x1dda("0x2df")]);var A=i[_0x1dda("0x3b0")].getPoiAssetUrl(this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x6e")],m,e,1),C={oid:s[_0x1dda("0x3a0")],Typeid:s[_0x1dda("0x3a1")],name:s.NA||"",Height:s.SH,w:s.w?s.w:32,h:s.h?s.h:32,ShowLevel:s.SL,url:A},I=new(esmap[_0x1dda("0x3b1")])(C)[_0x1dda("0x180")];I[_0x1dda("0x40")]({type:_0x1dda("0x2e9")}),t[_0x1dda("0x180")][_0x1dda("0xce")](I),I.data_.scaleOffset=1;var y=s.SH||3,E=this[_0x1dda("0x42")][_0x1dda("0x198")]({from:this[_0x1dda("0x42")].DEFAULT_COORDSYSTEM,to:this.map[_0x1dda("0x199")],coord:{x:s.X,y:s.Y}}),w=this[_0x1dda("0x42")][_0x1dda("0x19c")](E);I.position[_0x1dda("0xcd")](w.x,y,w.z),I[_0x1dda("0x3b2")]="POI",I[_0x1dda("0xe5")].bType=1,I.datas_[_0x1dda("0x1cd")]=s.SL,I[_0x1dda("0xe5")].tileId=this.id,I.data_.ShowLevel=s.SL,I[_0x1dda("0x3a9")][_0x1dda("0x3aa")](this.map[_0x1dda("0x22b")][_0x1dda("0x3ab")],I[_0x1dda("0x3ac")]),I[_0x1dda("0x153")][_0x1dda("0x3ad")]=!0,I.center[_0x1dda("0xcd")](.5,0),this[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3ae")](I,this.id),d[_0x1dda("0xd5")](s[_0x1dda("0x3a0")])}}}}},{key:_0x1dda("0x3b3"),value:function(d){for(var x=this.lineLevel1[_0x1dda("0xe6")],a=this[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3b4")][this.id],_=0;_<x.length;_++)if(x[_][_0x1dda("0xe5")].ID==d){var e=x[_],t=a[_0x1dda("0xaf")](e);t>-1&&a[_0x1dda("0x6")](t,1),e[_0x1dda("0xe7")][_0x1dda("0xe8")](),e.material=null,this[_0x1dda("0x388")][_0x1dda("0x181")](e)}}},{key:_0x1dda("0x3b5"),value:function(){this.tempDatas[1].roadDatas}},{key:"loadRoads",value:function(){if(!this[_0x1dda("0x38b")]){var d=this,x=d[_0x1dda("0x42")].tileService.navData[d.id];if(x){var a=x[_0x1dda("0x3b6")];for(var _ in a)d[_0x1dda("0x3b7")](a[_]);this[_0x1dda("0x38b")]=!0}}}},{key:_0x1dda("0x3b8"),value:function(d){this[_0x1dda("0x3b9")][_0x1dda("0x3b8")](d)}},{key:_0x1dda("0x3ba"),value:function(d,x){return this[_0x1dda("0x3b9")][_0x1dda("0x3ba")](d,x)}},{key:_0x1dda("0x3bb"),value:function(d,x){return this[_0x1dda("0x3b9")][_0x1dda("0x3bb")](d,x)}},{key:_0x1dda("0x3bc"),value:function(d,x){return this[_0x1dda("0x3b9")][_0x1dda("0x3bc")](d,x)}},{key:"drawRoad",value:function(d){var x=(0,_[_0x1dda("0xd")])({style:0,points:[],id:0,name:"",rank:10},d),a=this,e=(a.id,x[_0x1dda("0x120")]||0),t=a[_0x1dda("0x42")].mapTheme[_0x1dda("0x3bd")][e];t||(t=a[_0x1dda("0x42")].mapTheme[_0x1dda("0x3bd")][0]);for(var i=a.map,s=i.id,o=a.id,c=[],l=0;l<x[_0x1dda("0x121")][_0x1dda("0x0")];l++){var f=x.points[l];if(isNaN(f.x)||isNaN(f.y))return r[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:"å°å¾"+s+"ç¦ç"+o+"éè·¯"+x.id+"åæ ç¹æè¯¯: "+f.x+", "+f.y,level:_0x1dda("0x1eb")}),!1;var u=i[_0x1dda("0x198")]({from:i[_0x1dda("0x3be")],to:i[_0x1dda("0x199")],coord:{x:f.x,y:f.y}}),h=i[_0x1dda("0x19c")](u);h[_0x1dda("0x12d")]=0,h[_0x1dda("0x123")]=1,h.y+=f[_0x1dda("0x16d")]||0,c[_0x1dda("0x10")](h)}var g=new(n[_0x1dda("0xd")])(c,{lineWidthMeter:!0,repeat:t[_0x1dda("0x147")]||0,lineWidth:t[_0x1dda("0x3bf")],noAnimate:0==t[_0x1dda("0x3c0")],randomOffset:!0,customMat:t[_0x1dda("0xe9")],animateSpeed:t.animationspeed/100,offsetHeight:.1*Math[_0x1dda("0x1b9")]()+t[_0x1dda("0x18b")],url:i[_0x1dda("0x35")][_0x1dda("0x3c1")][_0x1dda("0x4a")]},!1,t[_0x1dda("0xe9")]);return void 0!==t[_0x1dda("0x18b")]&&(g[_0x1dda("0xfa")].y=.1*Math[_0x1dda("0x1b9")]()+t.height),g[_0x1dda("0xfc")]=x[_0x1dda("0xfc")],g.datas_={ID:x.id,nodeType:esmap.ESNodeType.LINE,name:x[_0x1dda("0xfc")],o3d_:g,roadType:x[_0x1dda("0x3c2")],points:x[_0x1dda("0x121")],bid:s,tileId:o,bType:1},a.lineLevel1[_0x1dda("0xce")](g),i.mapPicker[_0x1dda("0x3ae")](g,a.id),g}},{key:_0x1dda("0x3b7"),value:function(d){var x=d.na,a=d[_0x1dda("0x3c3")].substring(2,d.outline[_0x1dda("0x0")]-2).split(/,/),_={x:0,y:0},e=this.map[_0x1dda("0x3c4")][_0x1dda("0x2a")](","),t=1*e[0],i=1*e[1],n=1*e[2];if(0!=a[_0x1dda("0x0")]){for(var r=[],s=0;s<a.length;s++){var o=a[s][_0x1dda("0x2a")](" "),c=1*o[2]||0;r[_0x1dda("0x10")]({x:1*o[0]+_.x+t,y:1*o[1]+_.y+i,offset:c+n}),0==s&&(_.x=1*o[0],_.y=1*o[1])}this[_0x1dda("0x3c5")]({id:d[_0x1dda("0x3a0")],name:x,rank:d[_0x1dda("0x3c2")],points:r,style:d[_0x1dda("0x120")]||0})}}},{key:"progressHandler",get:function(){return s[_0x1dda("0xd")][_0x1dda("0xd6")](this.id)}},{key:_0x1dda("0x169"),get:function(){return this[_0x1dda("0x180")][_0x1dda("0x169")]},set:function(d){this[_0x1dda("0x180")][_0x1dda("0x169")]=d}},{key:_0x1dda("0x3c6"),get:function(){for(var d=this[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0xe6")],x=this.id,a=0;a<d.length;a++)if(d[a][_0x1dda("0xe5")].id==x)return!0;return!1}}]),d}();x[_0x1dda("0xd")]=l},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=s(a(13)),e=s(a(40)),t=s(a(0)),i=s(a(1)),n=a(31),r=s(a(77));function s(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var o=function(){function d(){(0,t.default)(this,d),this.materials=[],this.nodes=[],this[_0x1dda("0x3c8")]=null,this[_0x1dda("0x3c9")]=!1}return(0,i[_0x1dda("0xd")])(d,[{key:_0x1dda("0x3ca"),value:function(d,x,a){var _=new(THREE[_0x1dda("0x20a")])(x.x,x.y,x.z,_0x1dda("0x3cb")),e=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x21a")](_),t=new(THREE[_0x1dda("0x11c")])(d.x,d.y,d.z),i=new(THREE[_0x1dda("0x11c")])(a.x,a.y,a.z);return(new(THREE[_0x1dda("0x207")]))[_0x1dda("0x3cc")](t,e,i)}},{key:_0x1dda("0x3cd"),value:function(d,x,a){var _=new THREE.Object3D;return _[_0x1dda("0xfa")][_0x1dda("0x3ce")](d||[0,0,0]),_[_0x1dda("0x1d9")].fromArray(x||[0,0,0,1]),_[_0x1dda("0x1d7")][_0x1dda("0x3ce")](a||[1,1,1]),_[_0x1dda("0x3cf")](),_[_0x1dda("0x1f6")][_0x1dda("0x116")]()}},{key:_0x1dda("0x3d0"),value:function(d){var x=this,a=[],_=new(THREE[_0x1dda("0x11c")]);return function d(t){if(t[_0x1dda("0xfe")]&&t[_0x1dda("0xfe")].type!=_0x1dda("0x3d1")){_.x+=t[_0x1dda("0xfe")].position.x,_.y+=t[_0x1dda("0xfe")][_0x1dda("0xfa")].y,_.z+=t[_0x1dda("0xfe")][_0x1dda("0xfa")].z;var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e[_0x1dda("0xd")])(x[_0x1dda("0x3d2")]);!(i=(s=o[_0x1dda("0x24c")]()).done);i=!0){var c=s[_0x1dda("0xd8")];if(c[_0x1dda("0xfc")]==t.parent.name){c[_0x1dda("0x3d3")]=_,a.push(c);break}}}catch(d){n=!0,r=d}finally{try{!i&&o.return&&o[_0x1dda("0x24f")]()}finally{if(n)throw r}}d(t[_0x1dda("0xfe")])}}(d),a}},{key:_0x1dda("0x3d4"),value:function(d,x){var a=this,t=this,i=new(THREE[_0x1dda("0x384")]);if(this.materials=d[_0x1dda("0xf3")][_0x1dda("0xf4")].materials,this[_0x1dda("0x3d2")]=d.parser[_0x1dda("0xf4")][_0x1dda("0x3d2")],!this[_0x1dda("0xf5")])return!1;if(this[_0x1dda("0xf5")]instanceof Array&&0==this[_0x1dda("0xf5")].length)return!1;var n=!0,r=!1,s=void 0;try{for(var o,c=(0,e[_0x1dda("0xd")])(this.materials);!(n=(o=c[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);n=!0){var l=o[_0x1dda("0xd8")];l[_0x1dda("0x3d6")]=[],l.material=null}}catch(d){r=!0,s=d}finally{try{!n&&c[_0x1dda("0x24f")]&&c[_0x1dda("0x24f")]()}finally{if(r)throw s}}var f=d[_0x1dda("0xf7")][_0x1dda("0xfa")].clone();(new THREE.Box3)[_0x1dda("0x2ae")](d[_0x1dda("0xf7")]).getCenter(f),f[_0x1dda("0x218")](-1);var u=[f.x,f.y,f.z];return new(_[_0x1dda("0xd")])((function(_){d[_0x1dda("0xf7")][_0x1dda("0xf8")]((function(d){if(d instanceof THREE[_0x1dda("0x182")]){var x=t[_0x1dda("0x3d0")](d),a=!0,_=!1,i=void 0;try{for(var n,r=(0,e[_0x1dda("0xd")])(t[_0x1dda("0xf5")]);!(a=(n=r[_0x1dda("0x24c")]()).done);a=!0){var s=n[_0x1dda("0xd8")];if(d.material.name==s[_0x1dda("0xfc")]){var o=d[_0x1dda("0xe7")].clone();o[_0x1dda("0x3d7")]=d[_0x1dda("0xfc")],o.userData[_0x1dda("0x3d8")]=d[_0x1dda("0xfa")][_0x1dda("0x116")]();var c=void 0,l=!0,f=!1,h=void 0;try{for(var g,b=(0,e[_0x1dda("0xd")])(t[_0x1dda("0x3d2")]);!(l=(g=b[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);l=!0){var v=g[_0x1dda("0xd8")];v[_0x1dda("0xfc")]==d.name?(c=t.getObjectTransformMatrix(v.translation,v[_0x1dda("0x3d9")],v[_0x1dda("0x1d7")]),o[_0x1dda("0x3da")](c)):d[_0x1dda("0xfe")].name==v[_0x1dda("0xfc")]&&v}}catch(d){f=!0,h=d}finally{try{!l&&b[_0x1dda("0x24f")]&&b[_0x1dda("0x24f")]()}finally{if(f)throw h}}if(x[_0x1dda("0x0")]>0)for(var p in x){var m=x[p],A=t.getObjectTransformMatrix(m[_0x1dda("0x3db")],m[_0x1dda("0x3d9")],m[_0x1dda("0x1d7")]);o.applyMatrix(A)}var C=new(THREE[_0x1dda("0x384")]);C[_0x1dda("0xfa")][_0x1dda("0x3ce")](u),C[_0x1dda("0x3cf")](),o[_0x1dda("0x3da")](C[_0x1dda("0x1f6")].clone()),s[_0x1dda("0x3d6")][_0x1dda("0x10")](o),s[_0x1dda("0xe9")]=d.material,s[_0x1dda("0x3dc")]=d[_0x1dda("0xfc")];break}}}catch(d){_=!0,i=d}finally{try{!a&&r[_0x1dda("0x24f")]&&r[_0x1dda("0x24f")]()}finally{if(_)throw i}}}}));var n=esmap[_0x1dda("0x33")][_0x1dda("0x34")],r=!0,s=!1,o=void 0;try{for(var c,l=(0,e[_0x1dda("0xd")])(a[_0x1dda("0xf5")]);!(r=(c=l[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);r=!0){var f=c[_0x1dda("0xd8")];if(f[_0x1dda("0x3d6")][_0x1dda("0x0")]>0){f[_0x1dda("0xe9")][_0x1dda("0x42")]&&n[_0x1dda("0x35")][_0x1dda("0x3dd")]&&a[_0x1dda("0x3de")](f[_0x1dda("0x3d6")],x[0].model);var h=a[_0x1dda("0x3df")](f[_0x1dda("0x3d6")],!1,d.parser[_0x1dda("0xf4")][_0x1dda("0x3e0")][0][_0x1dda("0x3e1")]),g=a[_0x1dda("0x3e2")](h,x),b=a[_0x1dda("0x3df")](g,!0,d[_0x1dda("0xf3")][_0x1dda("0xf4")][_0x1dda("0x3e0")][0][_0x1dda("0x3e1")]);f[_0x1dda("0x3e3")]==_0x1dda("0x3e4")&&(f[_0x1dda("0xe9")][_0x1dda("0x149")]=THREE[_0x1dda("0x14a")]),f.material[_0x1dda("0x153")][_0x1dda("0x3e5")]=!0;var v=f[_0x1dda("0xe9")][_0x1dda("0x116")]();n[_0x1dda("0x35")][_0x1dda("0x3e6")]&&n[_0x1dda("0x35")][_0x1dda("0x3e6")][_0x1dda("0x1bb")]?(n.options.selectedColor.model3d[_0x1dda("0x138")]?v.color=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](n.options[_0x1dda("0x3e6")][_0x1dda("0x1bb")][_0x1dda("0x138")]):v[_0x1dda("0x138")]=n[_0x1dda("0x132")].selectModelMat[_0x1dda("0x138")][_0x1dda("0x116")](),v[_0x1dda("0x3e7")]=v[_0x1dda("0x138")].clone(),v[_0x1dda("0x3e8")]=null==n[_0x1dda("0x35")][_0x1dda("0x3e6")][_0x1dda("0x1bb")][_0x1dda("0x3e9")]?.3:n[_0x1dda("0x35")][_0x1dda("0x3e6")][_0x1dda("0x1bb")][_0x1dda("0x3e9")]):(v[_0x1dda("0x3e7")]=n[_0x1dda("0x132")][_0x1dda("0x3ea")][_0x1dda("0x138")][_0x1dda("0x116")](),v[_0x1dda("0x3e8")]=.3);var p=f[_0x1dda("0xe9")][_0x1dda("0x116")]();p.visible=!1;var m=new THREE.Mesh(b,[f.material,v,p]);m[_0x1dda("0xfc")]=f[_0x1dda("0x3dc")],m.renderOrder=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")],i[_0x1dda("0xce")](m)}else n.options[_0x1dda("0x3eb")]&&console[_0x1dda("0x3ec")]("material name:"+f.name+_0x1dda("0x3ed"))}}catch(d){s=!0,o=d}finally{try{!r&&l[_0x1dda("0x24f")]&&l[_0x1dda("0x24f")]()}finally{if(s)throw o}}_(i)}))}},{key:"merge",value:function(d,x){var a=this,_=new(THREE[_0x1dda("0x384")]);this[_0x1dda("0xf5")]=d[_0x1dda("0xf3")].json[_0x1dda("0xf5")],this.nodes=d[_0x1dda("0xf3")][_0x1dda("0xf4")].nodes;var t=x[0][_0x1dda("0x1ba")],i=x[0][_0x1dda("0x12d")],n=x[0][_0x1dda("0x3ee")],s=x[0].tileId,o=esmap[_0x1dda("0x33")][_0x1dda("0x34")];if(!this.materials)return!1;if(this[_0x1dda("0xf5")]instanceof Array&&0==this[_0x1dda("0xf5")].length)return!1;var c=!0,l=!1,f=void 0;try{for(var u,h=(0,e[_0x1dda("0xd")])(this[_0x1dda("0xf5")]);!(c=(u=h[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);c=!0){var g=u[_0x1dda("0xd8")];g.geometries=[],g[_0x1dda("0xe9")]=null}}catch(d){l=!0,f=d}finally{try{!c&&h[_0x1dda("0x24f")]&&h[_0x1dda("0x24f")]()}finally{if(l)throw f}}var b=d.scene[_0x1dda("0xfa")].clone();(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](d[_0x1dda("0xf7")])[_0x1dda("0x2af")](b),b.multiplyScalar(-1);var v=[b.x,b.y,b.z],p=[];d[_0x1dda("0xf7")].traverse((function(d){if(d instanceof THREE[_0x1dda("0x182")]){var _=a[_0x1dda("0x3d0")](d);if(d[_0x1dda("0x153")][_0x1dda("0xfc")]){if(_.length>0)for(var t in _){var i=_[t],n=a[_0x1dda("0x3cd")](i.translation,i[_0x1dda("0x3d9")],i[_0x1dda("0x1d7")]);d.applyMatrix(n)}var r=new(THREE[_0x1dda("0x384")]);r[_0x1dda("0xfa")][_0x1dda("0x3ce")](v),r.updateMatrix(),d[_0x1dda("0x3da")](r[_0x1dda("0x1f6")][_0x1dda("0x116")]());var s=x[0],o=a[_0x1dda("0x3ca")]({x:s[_0x1dda("0xfa")].x,y:s[_0x1dda("0xfa")].y,z:s.position.z},{x:s[_0x1dda("0x3d9")].x,y:s.rotation.y,z:s.rotation.z},{x:s.scale.x,y:s.scale.y,z:s[_0x1dda("0x1d7")].z});return d[_0x1dda("0x3da")](o),void p[_0x1dda("0x10")](d)}var c=!0,l=!1,f=void 0;try{for(var u,h=(0,e[_0x1dda("0xd")])(a[_0x1dda("0xf5")]);!(c=(u=h[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);c=!0){var g=u[_0x1dda("0xd8")];if(d[_0x1dda("0xe9")].name==g.name){var b=d[_0x1dda("0xe7")][_0x1dda("0x116")]();b[_0x1dda("0x3d7")]=d[_0x1dda("0xfc")],b.userData[_0x1dda("0x3d8")]=d[_0x1dda("0xfa")][_0x1dda("0x116")]();var m=void 0,A=!0,C=!1,I=void 0;try{for(var y,E=(0,e[_0x1dda("0xd")])(a[_0x1dda("0x3d2")]);!(A=(y=E.next())[_0x1dda("0x3d5")]);A=!0){var w=y.value;w[_0x1dda("0xfc")]==d[_0x1dda("0xfc")]?(m=a[_0x1dda("0x3cd")](w[_0x1dda("0x3db")],w.rotation,w.scale),b.applyMatrix(m)):d.parent[_0x1dda("0xfc")]==w.name&&w}}catch(d){C=!0,I=d}finally{try{!A&&E[_0x1dda("0x24f")]&&E[_0x1dda("0x24f")]()}finally{if(C)throw I}}if(_.length>0)for(var T in _){var k=_[T],S=a.getObjectTransformMatrix(k[_0x1dda("0x3db")],k.rotation,k[_0x1dda("0x1d7")]);b[_0x1dda("0x3da")](S)}var M=new(THREE[_0x1dda("0x384")]);M[_0x1dda("0xfa")][_0x1dda("0x3ce")](v),M[_0x1dda("0x3cf")](),b[_0x1dda("0x3da")](M[_0x1dda("0x1f6")][_0x1dda("0x116")]()),g[_0x1dda("0x3d6")][_0x1dda("0x10")](b),g[_0x1dda("0xe9")]=d.material,g.objName=d.name,g.objVisible=d.visible;break}}}catch(d){l=!0,f=d}finally{try{!c&&h[_0x1dda("0x24f")]&&h[_0x1dda("0x24f")]()}finally{if(l)throw f}}}}));var m=function(d){var x=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](d),a=[x[_0x1dda("0x2be")].x-x[_0x1dda("0x2f6")].x,x[_0x1dda("0x2be")].z-x[_0x1dda("0x2f6")].z,x[_0x1dda("0x2be")].y-x[_0x1dda("0x2f6")].y],_=new(THREE[_0x1dda("0x11c")])(x[_0x1dda("0x2f6")].x+a[1]/2,x[_0x1dda("0x2f6")].y+a[1]/2,x[_0x1dda("0x2f6")].z+a[1]/2);d[_0x1dda("0xe5")][_0x1dda("0x1e7")]=o.coordThreeToMap(_),a[_0x1dda("0x3ef")](),d[_0x1dda("0x153")][_0x1dda("0x2bc")]={box3:x,sizeInfo:a[1]*a[2]}},A={};o[_0x1dda("0x35")][_0x1dda("0x1cc")]||p.forEach((function(d){_[_0x1dda("0x153")][_0x1dda("0x1e8")]||(_[_0x1dda("0x153")][_0x1dda("0x1e8")]=!0);var x=d[_0x1dda("0x153")],a=o[_0x1dda("0x12b")](i);s&&(a=o[_0x1dda("0x1e1")](s));var e=_0x1dda("0x3f0")+x[_0x1dda("0xfc")]+"_"+x.id;if(A[e])return A[e][_0x1dda("0x180")][_0x1dda("0xce")](d),void m(A[e][_0x1dda("0x180")]);var c=new r.default({diableClickEffect:!1,name:x[_0x1dda("0xfc")],fnum:1,ID:x.id,url:"",gid:null,mapId:o.id,bid:i,dataID:x[_0x1dda("0x1e2")]||null,bType:a[_0x1dda("0x1e3")],model:t,callback:null,top:1,rotation:{},position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},scaleRate:1,child:d,addTo:_,isChildNode:!1,animations:[]});1===a.buildingType&&(c[_0x1dda("0x3a6")]=a.id),c[_0x1dda("0x3f1")]=!1,c[_0x1dda("0x3f2")]=!0,c[_0x1dda("0x32")](),x[_0x1dda("0xfc")]&&x.id&&(A[e]=c);var l=c.o3d_;m(l),d[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x3f3")]=[],d.userData.hasOwnProperty(_0x1dda("0x169"))?(d[_0x1dda("0x153")][_0x1dda("0x169")]||(c[_0x1dda("0x169")]=!1),o[_0x1dda("0x7d")][_0x1dda("0x3f4")][_0x1dda("0x10")](c)):n&&o[_0x1dda("0x17d")][_0x1dda("0x3ae")](l,a.id)}));var C=!0,I=!1,y=void 0;try{for(var E,w=(0,e.default)(this[_0x1dda("0xf5")]);!(C=(E=w[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);C=!0){var T=E[_0x1dda("0xd8")];if(T[_0x1dda("0x3d6")][_0x1dda("0x0")]>0){if(T.material.userData[_0x1dda("0x3f5")])continue;T[_0x1dda("0xe9")].map&&o[_0x1dda("0x35")][_0x1dda("0x3dd")]&&this[_0x1dda("0x3de")](T.geometries,x[0][_0x1dda("0x1ba")]);var k=this[_0x1dda("0x3df")](T[_0x1dda("0x3d6")],!1,d[_0x1dda("0xf3")].json[_0x1dda("0x3e0")][0][_0x1dda("0x3e1")]),S=this.mergeTranformGroup(k,x),M=this[_0x1dda("0x3df")](S,!0,d[_0x1dda("0xf3")].json[_0x1dda("0x3e0")][0][_0x1dda("0x3e1")]);"OPAQUE"==T.alphaMode&&(T[_0x1dda("0xe9")][_0x1dda("0x149")]=THREE[_0x1dda("0x14a")]),T[_0x1dda("0xe9")][_0x1dda("0x153")][_0x1dda("0x3e5")]=!0;var R=T[_0x1dda("0xe9")][_0x1dda("0x116")]();o.options[_0x1dda("0x3e6")]&&o[_0x1dda("0x35")][_0x1dda("0x3e6")].model3d?(o[_0x1dda("0x35")][_0x1dda("0x3e6")][_0x1dda("0x1bb")][_0x1dda("0x138")]?R.color=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](o[_0x1dda("0x35")][_0x1dda("0x3e6")][_0x1dda("0x1bb")][_0x1dda("0x138")]):R[_0x1dda("0x138")]=o[_0x1dda("0x132")].selectModelMat.color[_0x1dda("0x116")](),R.emissive=R[_0x1dda("0x138")].clone(),R[_0x1dda("0x3e8")]=null==o[_0x1dda("0x35")].selectedColor[_0x1dda("0x1bb")][_0x1dda("0x3e9")]?.3:o.options[_0x1dda("0x3e6")][_0x1dda("0x1bb")][_0x1dda("0x3e9")]):(R.emissive=o[_0x1dda("0x132")][_0x1dda("0x3ea")][_0x1dda("0x138")].clone(),R[_0x1dda("0x3e8")]=.3);var L=T[_0x1dda("0xe9")][_0x1dda("0x116")]();L[_0x1dda("0x169")]=!1;var D=new(THREE[_0x1dda("0x182")])(M,[T.material,R,L]);D[_0x1dda("0xfc")]=T[_0x1dda("0x3dc")],D[_0x1dda("0x169")]=T[_0x1dda("0x3f6")],D[_0x1dda("0x160")]=esmap.ESRenderOrder[_0x1dda("0x1d5")],_[_0x1dda("0xce")](D)}else o[_0x1dda("0x35")][_0x1dda("0x3eb")]&&console[_0x1dda("0x3ec")](_0x1dda("0x3f7")+T[_0x1dda("0xfc")]+_0x1dda("0x3ed"))}}catch(d){I=!0,y=d}finally{try{!C&&w.return&&w[_0x1dda("0x24f")]()}finally{if(I)throw y}}return _}},{key:_0x1dda("0x3de"),value:function(d,x){var a=[],_=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x1dda("0xd")])(d);!(_=(n=r[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);_=!0){var s=n[_0x1dda("0xd8")];s[_0x1dda("0xf9")].uv||a.push(s._meshName)}}catch(d){t=!0,i=d}finally{try{!_&&r[_0x1dda("0x24f")]&&r.return()}finally{if(t)throw i}}a[_0x1dda("0x0")]>0&&console.info(x+_0x1dda("0x3f8"),a)}},{key:"checkValueIsNormalize",value:function(d,x){return!(Math.abs(d.x)>x||Math[_0x1dda("0x2c1")](d.y)>x||Math.abs(d.z)>x)}},{key:"mergeTranformGroup",value:function(d,x){var a=[],_=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x1dda("0xd")])(x);!(_=(n=r.next())[_0x1dda("0x3d5")]);_=!0){var s=n[_0x1dda("0xd8")];s[_0x1dda("0x3d9")]||(s.rotation={x:0,y:0,z:0});var o=this[_0x1dda("0x3ca")]({x:s[_0x1dda("0xfa")].x,y:s.position.y,z:s[_0x1dda("0xfa")].z},{x:s[_0x1dda("0x3d9")].x,y:s[_0x1dda("0x3d9")].y,z:s[_0x1dda("0x3d9")].z},{x:s.scale.x,y:s[_0x1dda("0x1d7")].y,z:s[_0x1dda("0x1d7")].z}),c=d[_0x1dda("0x116")]();c[_0x1dda("0xfc")]=s.id,c[_0x1dda("0x3da")](o),a[_0x1dda("0x10")](c)}}catch(d){t=!0,i=d}finally{try{!_&&r.return&&r[_0x1dda("0x24f")]()}finally{if(t)throw i}}return d[_0x1dda("0xe8")](),d=null,a}},{key:"mergeGeometry",value:function(d,x,a,_){var t=new(THREE[_0x1dda("0x3f9")]),i=[],r=[],s=[],o=[],c=[],l=[],f=0,u=[],h=!1,g=!1,b=!1,v=!1,p=0,m=!0,A=!1,C=void 0;try{for(var I,y=(0,e[_0x1dda("0xd")])(d);!(m=(I=y[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);m=!0){var E=I.value,w=E[_0x1dda("0x153")][_0x1dda("0x3d8")];w&&(0!=w.x||0!=w.y||w.z);var T=E.getAttribute("uv"),k=E.getAttribute(_0x1dda("0x3fa")),S=E[_0x1dda("0x3fb")](_0x1dda("0x138")),M=E[_0x1dda("0x292")]?E.index:null;if(T&&(i.push(T),h=!0),k&&(o[_0x1dda("0x10")](k),g=!0),S&&(c[_0x1dda("0x10")](S),b=!0),M){for(var R=0;R<M[_0x1dda("0xfb")];++R)l[_0x1dda("0x10")](M[_0x1dda("0x3fc")](R)+p);v=!0}r.push(E.getAttribute(_0x1dda("0xfa"))),E.getAttribute(_0x1dda("0x3fd"))||E[_0x1dda("0x3fe")](),s.push(E[_0x1dda("0x3fb")](_0x1dda("0x3fd")));var L=E[_0x1dda("0xf9")][_0x1dda("0xfa")].count,D=void 0;M&&(D=M[_0x1dda("0xfb")]),x&&u[_0x1dda("0x10")]({id:E.name,start:f,count:M?D:L,materialIndex:0}),f+=D,p+=L}}catch(d){A=!0,C=d}finally{try{!m&&y[_0x1dda("0x24f")]&&y[_0x1dda("0x24f")]()}finally{if(A)throw C}}var H=new Float32Array,P=new Float32Array,O=new Float32Array,B=new Float32Array,F=new Float32Array;new Uint16Array;h&&(H=n[_0x1dda("0x3ff")].mergeBufferAttributes(i)[_0x1dda("0x400")]),g&&(P=n[_0x1dda("0x3ff")][_0x1dda("0x401")](o)[_0x1dda("0x400")]),b&&(F=n[_0x1dda("0x3ff")].mergeBufferAttributes(c).array),O=n[_0x1dda("0x3ff")][_0x1dda("0x401")](r).array,B=n[_0x1dda("0x3ff")].mergeBufferAttributes(s)[_0x1dda("0x400")],t.addAttribute(_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(O,3)),t[_0x1dda("0x403")]("normal",new(THREE[_0x1dda("0x402")])(B,3)),h&&t[_0x1dda("0x403")]("uv",new(THREE[_0x1dda("0x402")])(H,2)),g&&t.addAttribute(_0x1dda("0x3fa"),new THREE.BufferAttribute(P,2)),b&&t[_0x1dda("0x403")](_0x1dda("0x138"),new(THREE[_0x1dda("0x402")])(F,3)),v?(t[_0x1dda("0x404")](l),t.addGroup(0,t[_0x1dda("0x292")][_0x1dda("0xfb")],0)):t[_0x1dda("0x16c")](0,t.attributes[_0x1dda("0xfa")][_0x1dda("0xfb")],0),x&&(t[_0x1dda("0x153")][_0x1dda("0x3f3")]=u);var N=!0,z=!1,j=void 0;try{for(var U,X=(0,e[_0x1dda("0xd")])(d);!(N=(U=X.next()).done);N=!0){var Y=U[_0x1dda("0xd8")];Y[_0x1dda("0xe8")](),Y=null}}catch(d){z=!0,j=d}finally{try{!N&&X.return&&X[_0x1dda("0x24f")]()}finally{if(z)throw j}}return d[_0x1dda("0x0")]=0,i[_0x1dda("0x0")]=0,r.length=0,s[_0x1dda("0x0")]=0,o[_0x1dda("0x0")]=0,c[_0x1dda("0x0")]=0,l[_0x1dda("0x0")]=0,t}},{key:_0x1dda("0x405"),value:function(d,x,a){if(x[_0x1dda("0xe7")].userData[_0x1dda("0x3f3")]){if(x.parent.userData[_0x1dda("0x406")])return;var _=this[_0x1dda("0x407")](d,x[_0x1dda("0xe7")].userData[_0x1dda("0x3f3")],x[_0x1dda("0xe7")].index);_||console[_0x1dda("0x255")]("error data , code 983253"),this[_0x1dda("0x408")](x,_.id,!0),this[_0x1dda("0x3c8")]={mesh:x,id:_.id,lastSelectMatIndex:a}}}},{key:_0x1dda("0x409"),value:function(d,x,a,_,t){var i=x,n=[],r=function(d){if(!d[_0x1dda("0x153")][_0x1dda("0x40a")]){var x=a;!1===a?(x=d[_0x1dda("0x153")][_0x1dda("0x11d")],d[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0x231"))&&(d.transparent=d[_0x1dda("0x153")][_0x1dda("0x231")])):(d[_0x1dda("0x153")][_0x1dda("0x2")]("istransparent")||(d.userData[_0x1dda("0x231")]=d[_0x1dda("0x136")],d[_0x1dda("0x153")].opacity=d[_0x1dda("0x11d")]),d[_0x1dda("0x136")]=!0),d[_0x1dda("0x153")][_0x1dda("0x40a")]=!0,n[_0x1dda("0x10")](d),d.opacity=x}};if(i&&i.children.length>0){var s=!0,o=!1,c=void 0;try{for(var l,f=(0,e[_0x1dda("0xd")])(i[_0x1dda("0xe6")]);!(s=(l=f[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);s=!0){var u=l.value,h=!0,g=!1,b=void 0;try{for(var v,p=(0,e.default)(u[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x3f3")]);!(h=(v=p[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);h=!0){var m=v[_0x1dda("0xd8")];if(d===m.id){var A=0;if(0!=a){var C=u.material[0][_0x1dda("0x116")]();C[_0x1dda("0x169")]||(C[_0x1dda("0x169")]=!0),u[_0x1dda("0xe9")].push(C),A=u[_0x1dda("0xe9")][_0x1dda("0x0")]-1,u[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x40b")]||(u[_0x1dda("0xe7")].userData[_0x1dda("0x40b")]={}),u.geometry.userData[_0x1dda("0x40b")][d]=A,r(C)}else{if(u[_0x1dda("0xe7")][_0x1dda("0x153")].matRecord){var I=u[_0x1dda("0xe7")].userData.matRecord[d];null!=I&&u[_0x1dda("0xe9")][I]&&(u.material[I][_0x1dda("0xe8")](),u.material[I]=null)}A=0}var y=u[_0x1dda("0xe7")][_0x1dda("0x40c")],E=this.splitGroup(m[_0x1dda("0x21c")],m[_0x1dda("0x21c")]+m[_0x1dda("0xfb")],A,y);u[_0x1dda("0xe7")][_0x1dda("0x40d")]();var w=!0,T=!1,k=void 0;try{for(var S,M=(0,e[_0x1dda("0xd")])(E);!(w=(S=M[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);w=!0){var R=S.value;u[_0x1dda("0xe7")][_0x1dda("0x16c")](R[_0x1dda("0x21c")],R.count,R[_0x1dda("0x40e")])}}catch(d){T=!0,k=d}finally{try{!w&&M.return&&M[_0x1dda("0x24f")]()}finally{if(T)throw k}}break}}}catch(d){g=!0,b=d}finally{try{!h&&p[_0x1dda("0x24f")]&&p[_0x1dda("0x24f")]()}finally{if(g)throw b}}}}catch(d){o=!0,c=d}finally{try{!s&&f[_0x1dda("0x24f")]&&f[_0x1dda("0x24f")]()}finally{if(o)throw c}}}for(var L in n){n[L].userData[_0x1dda("0x40a")]=!1}x[_0x1dda("0x153")][_0x1dda("0x40f")]=!1}},{key:"changeModelColorById",value:function(d,x,a,_){var t=x;if(t&&t.children[_0x1dda("0x0")]>0){var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e.default)(t[_0x1dda("0xe6")]);!(i=(s=o.next())[_0x1dda("0x3d5")]);i=!0){var c=s[_0x1dda("0xd8")],l=!0,f=!1,u=void 0;try{for(var h,g=(0,e[_0x1dda("0xd")])(c.geometry[_0x1dda("0x153")][_0x1dda("0x3f3")]);!(l=(h=g[_0x1dda("0x24c")]()).done);l=!0){var b=h[_0x1dda("0xd8")];if(d===b.id){var v=0;if(a){var p=c[_0x1dda("0xe9")][0].clone();p.color=new(THREE[_0x1dda("0x139")])(esmap[_0x1dda("0x86")][_0x1dda("0x410")](a)),p[_0x1dda("0x3e7")]=p[_0x1dda("0x138")][_0x1dda("0x116")](),p[_0x1dda("0x3e8")]=_,c[_0x1dda("0xe9")].push(p),v=c[_0x1dda("0xe9")][_0x1dda("0x0")]-1}else v=0,c.material=c[_0x1dda("0xe9")][_0x1dda("0x11")](0,3);var m=c[_0x1dda("0xe7")][_0x1dda("0x40c")],A=this[_0x1dda("0x411")](b[_0x1dda("0x21c")],b[_0x1dda("0x21c")]+b[_0x1dda("0xfb")],v,m);c[_0x1dda("0xe7")][_0x1dda("0x40d")]();var C=!0,I=!1,y=void 0;try{for(var E,w=(0,e.default)(A);!(C=(E=w[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);C=!0){var T=E.value;c[_0x1dda("0xe7")][_0x1dda("0x16c")](T[_0x1dda("0x21c")],T[_0x1dda("0xfb")],T.materialIndex)}}catch(d){I=!0,y=d}finally{try{!C&&w[_0x1dda("0x24f")]&&w[_0x1dda("0x24f")]()}finally{if(I)throw y}}break}}}catch(d){f=!0,u=d}finally{try{!l&&g[_0x1dda("0x24f")]&&g[_0x1dda("0x24f")]()}finally{if(f)throw u}}}}catch(d){n=!0,r=d}finally{try{!i&&o[_0x1dda("0x24f")]&&o[_0x1dda("0x24f")]()}finally{if(n)throw r}}}}},{key:"unSelectLast",value:function(){this.lastSelectNode&&(2==this.lastSelectNode[_0x1dda("0x412")]&&(this[_0x1dda("0x3c8")][_0x1dda("0x412")]=0),this[_0x1dda("0x408")](this[_0x1dda("0x3c8")][_0x1dda("0x413")],this[_0x1dda("0x3c8")].id,!1,this[_0x1dda("0x3c8")][_0x1dda("0x412")]),this[_0x1dda("0x3c8")]=null)}},{key:_0x1dda("0x414"),value:function(d,x){var a=!0,_=!1,t=void 0;try{for(var i,n=(0,e.default)(x);!(a=(i=n.next())[_0x1dda("0x3d5")]);a=!0){var r=i[_0x1dda("0xd8")];if(d>=r[_0x1dda("0x21c")]&&d<r[_0x1dda("0x21c")]+r[_0x1dda("0xfb")])return r.materialIndex}}catch(d){_=!0,t=d}finally{try{!a&&n[_0x1dda("0x24f")]&&n[_0x1dda("0x24f")]()}finally{if(_)throw t}}return 0}},{key:_0x1dda("0x415"),value:function(d,x,a){var _=!!d[_0x1dda("0xe7")][_0x1dda("0x292")],t=!0,i=!1,n=void 0;try{for(var r,s=(0,e[_0x1dda("0xd")])(d.geometry[_0x1dda("0x153")][_0x1dda("0x3f3")]);!(t=(r=s[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);t=!0){var o=r[_0x1dda("0xd8")];if(x===o.id){var c=0;c=_?d[_0x1dda("0xe7")].index[_0x1dda("0xfb")]:d.geometry[_0x1dda("0xf9")].position.count;var l=d.geometry[_0x1dda("0x40c")];0==l[_0x1dda("0x0")]&&(l=[{start:0,count:c,materialIndex:2}]);var f=this[_0x1dda("0x411")](o[_0x1dda("0x21c")],o.start+o.count,a?0:2,l);d.geometry[_0x1dda("0x40d")]();var u=!0,h=!1,g=void 0;try{for(var b,v=(0,e[_0x1dda("0xd")])(f);!(u=(b=v[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);u=!0){var p=b[_0x1dda("0xd8")];d[_0x1dda("0xe7")][_0x1dda("0x16c")](p[_0x1dda("0x21c")],p[_0x1dda("0xfb")],p[_0x1dda("0x40e")])}}catch(d){h=!0,g=d}finally{try{!u&&v[_0x1dda("0x24f")]&&v[_0x1dda("0x24f")]()}finally{if(h)throw g}}break}}}catch(d){i=!0,n=d}finally{try{!t&&s[_0x1dda("0x24f")]&&s[_0x1dda("0x24f")]()}finally{if(i)throw n}}d[_0x1dda("0xe7")].userData[_0x1dda("0x416")]||(d.geometry[_0x1dda("0x153")].visibleStates={}),d[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x416")][x]=a}},{key:"setTargetModelSelected",value:function(d,x,a){var _=arguments[_0x1dda("0x0")]>3&&void 0!==arguments[3]?arguments[3]:0,t=d[_0x1dda("0xfe")];if(t&&t.children.length>0){var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e[_0x1dda("0xd")])(t[_0x1dda("0xe6")]);!(i=(s=o[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);i=!0){var c=s[_0x1dda("0xd8")];if("Mesh"==c[_0x1dda("0x9f")]){var l=!!c[_0x1dda("0xe7")][_0x1dda("0x292")];if(!(c[_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x417"))>-1)){var f=!0,u=!1,h=void 0;try{for(var g,b=(0,e.default)(c[_0x1dda("0xe7")].userData[_0x1dda("0x3f3")]);!(f=(g=b[_0x1dda("0x24c")]()).done);f=!0){var v=g.value;if(x===v.id){l?c[_0x1dda("0xe7")].index[_0x1dda("0xfb")]:c.geometry[_0x1dda("0xf9")].position[_0x1dda("0xfb")];var p=this[_0x1dda("0x411")](v.start,v[_0x1dda("0x21c")]+v.count,a?1:_,c.geometry[_0x1dda("0x40c")]);c[_0x1dda("0xe7")].clearGroups();var m=!0,A=!1,C=void 0;try{for(var I,y=(0,e[_0x1dda("0xd")])(p);!(m=(I=y.next())[_0x1dda("0x3d5")]);m=!0){var E=I.value;c[_0x1dda("0xe7")].addGroup(E[_0x1dda("0x21c")],E.count,E[_0x1dda("0x40e")])}}catch(d){A=!0,C=d}finally{try{!m&&y.return&&y[_0x1dda("0x24f")]()}finally{if(A)throw C}}break}}}catch(d){u=!0,h=d}finally{try{!f&&b[_0x1dda("0x24f")]&&b[_0x1dda("0x24f")]()}finally{if(u)throw h}}}}}}catch(d){n=!0,r=d}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:_0x1dda("0x407"),value:function(d,x){var a=!0,_=!1,t=void 0;try{for(var i,n=(0,e[_0x1dda("0xd")])(x);!(a=(i=n[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);a=!0){var r=i[_0x1dda("0xd8")],s=3*d;if(s>=r.start&&s<r[_0x1dda("0x21c")]+r[_0x1dda("0xfb")])return r}}catch(d){_=!0,t=d}finally{try{!a&&n[_0x1dda("0x24f")]&&n[_0x1dda("0x24f")]()}finally{if(_)throw t}}}},{key:_0x1dda("0x418"),value:function(){this.materials[_0x1dda("0x0")]=0,this[_0x1dda("0x3d2")][_0x1dda("0x0")]=0}},{key:_0x1dda("0x419"),value:function(d,x,a){if(d&&d[_0x1dda("0xe6")][_0x1dda("0x0")]>0){var _=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xe6")]);!(_=(n=r[_0x1dda("0x24c")]()).done);_=!0){var s=n.value;if(!s[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x3f3")])return!1;var o=!0,c=!1,l=void 0;try{for(var f,u=(0,e[_0x1dda("0xd")])(s[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x3f3")]);!(o=(f=u[_0x1dda("0x24c")]()).done);o=!0){var h=f[_0x1dda("0xd8")],g=!0,b=!1,v=void 0;try{for(var p,m=(0,e[_0x1dda("0xd")])(x);!(g=(p=m[_0x1dda("0x24c")]()).done);g=!0){if(p[_0x1dda("0xd8")]===h.id){var A=this[_0x1dda("0x411")](h[_0x1dda("0x21c")],h[_0x1dda("0x21c")]+h.count,a?0:2,s[_0x1dda("0xe7")][_0x1dda("0x40c")]);s[_0x1dda("0xe7")][_0x1dda("0x40d")]();var C=!0,I=!1,y=void 0;try{for(var E,w=(0,e.default)(A);!(C=(E=w[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);C=!0){var T=E.value;s[_0x1dda("0xe7")][_0x1dda("0x16c")](T[_0x1dda("0x21c")],T[_0x1dda("0xfb")],T[_0x1dda("0x40e")])}}catch(d){I=!0,y=d}finally{try{!C&&w.return&&w[_0x1dda("0x24f")]()}finally{if(I)throw y}}}}}catch(d){b=!0,v=d}finally{try{!g&&m[_0x1dda("0x24f")]&&m[_0x1dda("0x24f")]()}finally{if(b)throw v}}}}catch(d){c=!0,l=d}finally{try{!o&&u.return&&u[_0x1dda("0x24f")]()}finally{if(c)throw l}}}}catch(d){t=!0,i=d}finally{try{!_&&r[_0x1dda("0x24f")]&&r[_0x1dda("0x24f")]()}finally{if(t)throw i}}}}},{key:_0x1dda("0x41a"),value:function(d,x){if(d&&d[_0x1dda("0xe6")].length>0){var a=!0,_=!1,t=void 0;try{for(var i,n=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xe6")]);!(a=(i=n[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);a=!0){var r=i[_0x1dda("0xd8")];if(!r[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x3f3")])return!1;var s=!0,o=!1,c=void 0;try{for(var l,f=(0,e.default)(r[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x3f3")]);!(s=(l=f[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);s=!0){var u=l[_0x1dda("0xd8")];if(x===u.id)for(var h=u[_0x1dda("0x21c")],g=0;g<r[_0x1dda("0xe7")][_0x1dda("0x40c")][_0x1dda("0x0")];g++)if(r[_0x1dda("0xe7")].groups[g].start+r[_0x1dda("0xe7")][_0x1dda("0x40c")][g][_0x1dda("0xfb")]>h)return 0==r[_0x1dda("0xe7")].groups[g].materialIndex}}catch(d){o=!0,c=d}finally{try{!s&&f[_0x1dda("0x24f")]&&f[_0x1dda("0x24f")]()}finally{if(o)throw c}}}}catch(d){_=!0,t=d}finally{try{!a&&n[_0x1dda("0x24f")]&&n[_0x1dda("0x24f")]()}finally{if(_)throw t}}}}},{key:_0x1dda("0x411"),value:function(d,x,a,_,e){var t=this,i=[];_[_0x1dda("0xd1")]((function(d){i[_0x1dda("0x10")]({start:d.start,count:d[_0x1dda("0xfb")],materialIndex:d[_0x1dda("0x40e")]}),e&&t.lastSelectMathInfo.push({start:d[_0x1dda("0x21c")],end:d[_0x1dda("0x21c")]+d[_0x1dda("0xfb")],materialIndex:d.materialIndex})}));for(var n,r=[],s=0;s<i[_0x1dda("0x0")];s++){var o=i[s],c=o.start+o[_0x1dda("0xfb")],l=d>=o.start&&d<c,f=x<=c&&x>o.start;(l||f)&&o[_0x1dda("0x40e")]!=a?l&&f?(e&&(t[_0x1dda("0x412")]=o[_0x1dda("0x40e")]),d>o[_0x1dda("0x21c")]&&r[_0x1dda("0x10")]({start:o[_0x1dda("0x21c")],count:d-o.start,materialIndex:o[_0x1dda("0x40e")]}),r[_0x1dda("0x10")]({start:d,count:x-d,materialIndex:a}),x<c&&r.push({start:x,count:c-x,materialIndex:o[_0x1dda("0x40e")]})):l?(e&&(t[_0x1dda("0x412")]=o.materialIndex),d>o[_0x1dda("0x21c")]&&r[_0x1dda("0x10")]({start:o.start,count:d-o[_0x1dda("0x21c")],materialIndex:o[_0x1dda("0x40e")]}),r[_0x1dda("0x10")]({start:d,count:c-d,materialIndex:a})):f&&(x<c&&r[_0x1dda("0x10")]({start:x,count:c-x,materialIndex:o.materialIndex}),r.push({start:o[_0x1dda("0x21c")],count:x-o[_0x1dda("0x21c")],materialIndex:a})):(d<=o.start&&o[_0x1dda("0x21c")]+o[_0x1dda("0xfb")]<=x&&(o[_0x1dda("0x40e")]=a),r[_0x1dda("0x10")](o))}r[_0x1dda("0x3ef")]((n=_0x1dda("0x21c"),function(d,x){return d[n]-x[n]}));for(var u=0;u<r[_0x1dda("0x0")]-1;u++)r[u][_0x1dda("0x40e")]==r[u+1][_0x1dda("0x40e")]&&(r[u].count+=r[u+1][_0x1dda("0xfb")],r[_0x1dda("0x6")](u+1,1),u--);return r}}]),d}();x.default=o},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=i(a(0)),e=i(a(1));x[_0x1dda("0xd")]=function(d,x,a){return new n(d,x,a)};var t=a(4);function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x,a,e,t){if((0,_[_0x1dda("0xd")])(this,d),d[_0x1dda("0x41b")](x))this[_0x1dda("0x41c")]=x;else{if(x instanceof d)return x;this[_0x1dda("0x41c")]=document[_0x1dda("0x20")](x)}this.attr(a),this[_0x1dda("0x120")](e),this[_0x1dda("0x41d")](t)}return(0,e.default)(d,null,[{key:"isElement",value:function(d){return!(!d||1!==d.nodeType||void 0===d.tagName)}}]),(0,e.default)(d,[{key:"style",value:function(d,x){var a=this;return d?"string"==typeof d&&void 0===x?this[_0x1dda("0x41c")].style[d]:((0,t.isObject)(d)?(0,t[_0x1dda("0x18")])(d,(function(d,x){a.element.style[x]=d})):this[_0x1dda("0x41c")][_0x1dda("0x120")][d]=x,this):this}},{key:_0x1dda("0x41e"),value:function(d,x){var a=this;return d?typeof d===_0x1dda("0xe")&&void 0===x?this[_0x1dda("0x41c")].getAttribute(d):((0,t[_0x1dda("0x17")])(d)?(0,t[_0x1dda("0x18")])(d,(function(d,x){a.element.setAttribute(x,d)})):this.element[_0x1dda("0x41f")](d,x),this):this}},{key:_0x1dda("0x41d"),value:function(d,x){var a=this;if(!d)return this;function _(d){return(0,t[_0x1dda("0x19")])(d,"on")?d:"on"+d}return(0,t[_0x1dda("0x17")])(d)?(0,t[_0x1dda("0x18")])(d,(function(d,x){a.element[_(x)]=d})):this[_0x1dda("0x41c")][_(d)]=x,this}}]),d}()},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}Array[_0x1dda("0x1")][_0x1dda("0x420")]||Object[_0x1dda("0xa")](Array[_0x1dda("0x1")],_0x1dda("0x420"),{value:function(d){if(null==this)throw new TypeError(_0x1dda("0x421"));for(var x=Object(this),a=x.length>>>0,_=arguments[1]>>0,e=_<0?Math.max(a+_,0):Math[_0x1dda("0x2f6")](_,a),t=arguments[2],i=void 0===t?a:t>>0,n=i<0?Math[_0x1dda("0x2be")](a+i,0):Math[_0x1dda("0x2f6")](i,a);e<n;)x[e]=d,e++;return x}});var i=function(){function d(x){var a=x[_0x1dda("0x422")],e=void 0===a?_0x1dda("0x119"):a;(0,_.default)(this,d),this.buildingColor=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](e),this.material=null}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x423"),value:function(d){var x=d[_0x1dda("0xe5")][_0x1dda("0x424")][_0x1dda("0x0")];if(x>0){for(var a=d[_0x1dda("0xe7")][_0x1dda("0x3fb")](_0x1dda("0xfa")),_=new Array(a.count),e=0;e<x;e++){var t=d[_0x1dda("0xe5")][_0x1dda("0x424")][e][_0x1dda("0xff")][0],i=d[_0x1dda("0xe5")][_0x1dda("0x424")][e][_0x1dda("0x425")][0],n=d[_0x1dda("0xe5")].brothers[e][_0x1dda("0xff")][1];_.fill(1,t,i),_[_0x1dda("0x420")](0,i,n)}d[_0x1dda("0xe7")][_0x1dda("0x403")]("topFaceFlags",new THREE.BufferAttribute(new Float32Array(_),1))}}},{key:_0x1dda("0x426"),value:function(d){var x=d[_0x1dda("0x427")],a=d[_0x1dda("0x428")];x&&x[_0x1dda("0x3cf")](),a&&a[_0x1dda("0x3cf")](),this.material=new(THREE[_0x1dda("0x429")])({color:this[_0x1dda("0x42a")]}),this.material[_0x1dda("0xfc")]=_0x1dda("0x42b");var _=this;return this[_0x1dda("0xe9")].onBeforeCompile=function(d){d[_0x1dda("0x171")].isTopTex={value:0},x&&(d[_0x1dda("0x171")][_0x1dda("0x42c")][_0x1dda("0xd8")]=1,d[_0x1dda("0x171")][_0x1dda("0x42d")]={value:x},d[_0x1dda("0x171")][_0x1dda("0x42e")]={value:x[_0x1dda("0x1f6")]}),d[_0x1dda("0x171")][_0x1dda("0x42f")]={value:0},a&&(d[_0x1dda("0x171")][_0x1dda("0x42f")].value=1,d[_0x1dda("0x171")][_0x1dda("0x430")]={value:a},d[_0x1dda("0x171")][_0x1dda("0x431")]={value:a.matrix}),d[_0x1dda("0x13e")]=d.vertexShader.replace(_0x1dda("0x432"),_0x1dda("0x433")),d[_0x1dda("0x13e")]=d.vertexShader.replace("#include <uv_vertex>",_0x1dda("0x434")),d[_0x1dda("0x142")]=d[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x143"),"\n                uniform float opacity;\n                uniform float isTopTex;\n                uniform float isSideTex;\n                uniform sampler2D topTex;\n                uniform sampler2D sideTex;\n\n                varying float flag;\n                varying float hideFlag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                "),d.fragmentShader=d[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x435"),_0x1dda("0x436")),_[_0x1dda("0x437")]=d},this.material}}]),d}();x[_0x1dda("0xd")]=i},,,,,,,,,,,,,,,,,,,,,,,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=i(a(0)),e=i(a(1)),t=a(4);function i(d){return d&&d.__esModule?d:{default:d}}var n=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x4a")]=x.url;var a=this[_0x1dda("0x4a")],e=x[_0x1dda("0x442")];this[_0x1dda("0x9f")]=x[_0x1dda("0x9f")]||_0x1dda(e?"0x443":"0x444");var i=this[_0x1dda("0x9f")],n=null==x.async||x[_0x1dda("0x43f")];this[_0x1dda("0x43e")]=x.isArrayBuffer||!1,this[_0x1dda("0x438")]=!1,this[_0x1dda("0x43d")],this[_0x1dda("0x43b")],this[_0x1dda("0x445")],this[_0x1dda("0x446")]=new(t[_0x1dda("0x447")]),this[_0x1dda("0x439")]=new(t[_0x1dda("0x447")]),this[_0x1dda("0x43c")]=new(t[_0x1dda("0x447")]),this._httpServer,this[_0x1dda("0x448")](),this[_0x1dda("0x449")][_0x1dda("0x44a")](i,a,n),this[_0x1dda("0x449")][_0x1dda("0x44b")]=this._httpStateChange[_0x1dda("0x4e")](this),"GET"==i&&(this[_0x1dda("0x43e")]||this.url[_0x1dda("0xaf")](_0x1dda("0x44c"))>0)&&this[_0x1dda("0x43e")]&&(this[_0x1dda("0x449")][_0x1dda("0x44d")]=_0x1dda("0x44e")),"POST"===i&&(this[_0x1dda("0x449")][_0x1dda("0x44f")](_0x1dda("0x450"),"XMLHttpRequest"),this[_0x1dda("0x449")][_0x1dda("0x44f")](_0x1dda("0x451"),_0x1dda("0x452")),this[_0x1dda("0x449")].setRequestHeader(_0x1dda("0x453"),_0x1dda("0x2a6")));try{this[_0x1dda("0x449")][_0x1dda("0x454")](e)}catch(d){console[_0x1dda("0x1ec")](d)}}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x298"),value:function(d){return this._completeCallbacks.add(d),this[_0x1dda("0x438")]&&this._completeCallbacks.fire(this._responseData,this._status),this}},{key:"success",value:function(d){return this[_0x1dda("0x439")][_0x1dda("0xce")](d),this[_0x1dda("0x438")]&&this._status===_0x1dda("0x43a")&&this[_0x1dda("0x439")][_0x1dda("0xda")](this[_0x1dda("0x43b")]),this}},{key:_0x1dda("0x1eb"),value:function(d){return this[_0x1dda("0x43c")][_0x1dda("0xce")](d),this._isComplete&&this[_0x1dda("0x43d")]===_0x1dda("0x1eb")&&this[_0x1dda("0x43c")][_0x1dda("0xda")](this[_0x1dda("0x43b")]),this}}],[{key:"get",value:function(x){return new d({url:x[_0x1dda("0x4a")],isArrayBuffer:x[_0x1dda("0x43e")],async:x.async})}},{key:"getJSON",value:function(x){var a=new d({url:x[_0x1dda("0x4a")],async:x[_0x1dda("0x43f")]});return a.success(function(d){var x;try{x=JSON.parse(d)}catch(d){console[_0x1dda("0x1ec")](d),_0x1dda("0x440"),this[_0x1dda("0x4a")],a[_0x1dda("0x441")]()}return[x]}[_0x1dda("0x4e")](a)),a}},{key:"post",value:function(x,a){return new d({url:x,data:a})}}]),(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x448"),value:function(){window[_0x1dda("0x455")]?this._httpServer=new ActiveXObject(_0x1dda("0x456")):window[_0x1dda("0x457")]?this._httpServer=new XMLHttpRequest:console[_0x1dda("0x1eb")](_0x1dda("0x458"))}},{key:_0x1dda("0x459"),value:function(){4===this._httpServer.readyState&&(this[_0x1dda("0x438")]=!0,this.judgeStatus())}},{key:"_successCallback",value:function(){this[_0x1dda("0x446")][_0x1dda("0xda")](this[_0x1dda("0x43b")],this[_0x1dda("0x43d")]),this._successCallbacks[_0x1dda("0xda")](this._responseData)}},{key:_0x1dda("0x45a"),value:function(){200==this._httpServer.status||0==this[_0x1dda("0x449")].status&&_0x1dda("0x45b")==window[_0x1dda("0x78")][_0x1dda("0x45c")]?(this._status=_0x1dda("0x43a"),this[_0x1dda("0x9f")]==_0x1dda("0x444")&&(this[_0x1dda("0x43e")]||this[_0x1dda("0x4a")].indexOf(".loc")>0)?this[_0x1dda("0x43b")]=this[_0x1dda("0x449")][_0x1dda("0x45d")]:this[_0x1dda("0x43b")]=this[_0x1dda("0x449")][_0x1dda("0x45e")],this[_0x1dda("0x45f")]()):(this[_0x1dda("0x43d")]="error",this[_0x1dda("0x43b")]=this[_0x1dda("0x449")].response,this[_0x1dda("0x445")]=this[_0x1dda("0x449")][_0x1dda("0x2a4")],this[_0x1dda("0x441")]())}},{key:_0x1dda("0x441"),value:function(){this[_0x1dda("0x446")][_0x1dda("0xda")](this[_0x1dda("0x43b")],this[_0x1dda("0x43d")]),this[_0x1dda("0x43c")][_0x1dda("0xda")](this._responseData)}}]),d}();x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(13)),e=i(a(0)),t=i(a(1));function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x){var a=x[_0x1dda("0x422")],_=void 0===a?"#FFFFFF":a,t=x.isShowBackground,i=void 0===t||t,n=x[_0x1dda("0x18c")],r=void 0===n?1:n;(0,e.default)(this,d),this[_0x1dda("0x460")]=new(THREE[_0x1dda("0x139")])(_),this[_0x1dda("0x461")]=i,this[_0x1dda("0x18c")]=r,this[_0x1dda("0x437")]=null,this[_0x1dda("0x462")]=null,this.nextTexture=null}return(0,t[_0x1dda("0xd")])(d,[{key:_0x1dda("0x426"),value:function(d,x){this.curTexture=d,this[_0x1dda("0x463")]=x;var a=this,_=new THREE.MeshBasicMaterial({color:16777215,transparent:!0});return _.onBeforeCompile=function(_){_.uniforms[_0x1dda("0x464")]={value:0},_[_0x1dda("0x171")][_0x1dda("0x465")]={value:.8},_[_0x1dda("0x171")][_0x1dda("0x466")]={value:d},_.uniforms[_0x1dda("0x467")]={value:x},_[_0x1dda("0x171")][_0x1dda("0x460")]={value:a.bgColor},_.vertexShader=_[_0x1dda("0x13e")][_0x1dda("0x13f")](_0x1dda("0x432"),_0x1dda("0x468")),_[_0x1dda("0x13e")]=_[_0x1dda("0x13e")][_0x1dda("0x13f")]("#include <uv_vertex>","\n\t\t\t\t#include <uv_vertex>\n                vUV = uv;\n\t\t\t\t"),_.fragmentShader=_[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x143"),_0x1dda("0x469")+(a.isShowBackground?"#define IS_BG":"")+"\n\n\t\t\t\tuniform float opacity;\n                uniform float transFactor;\n                uniform float texLightFactor;\n                uniform sampler2D texture1;\n                uniform sampler2D texture2;\n                uniform vec3 bgColor;\n                \n                varying vec2 vUV;\n                "),_.fragmentShader=_[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x144"),_0x1dda("0x46a")),a[_0x1dda("0x437")]=_},_}},{key:_0x1dda("0x152"),value:function(d){var x=this,a=this;return new _.default((function(_){d?(d[_0x1dda("0x172")]=!0,a[_0x1dda("0x437")]?(x[_0x1dda("0x437")][_0x1dda("0x171")][_0x1dda("0x467")][_0x1dda("0xd8")]=d,a[_0x1dda("0x46b")]&&a[_0x1dda("0x46b")][_0x1dda("0x18d")](),a.animate=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])({x:0}).to({x:1},1e3*a.duration)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing.Linear.None)[_0x1dda("0x162")]((function(d){a[_0x1dda("0x437")][_0x1dda("0x171")][_0x1dda("0x464")][_0x1dda("0xd8")]=d.x})).onComplete(_).start()):_()):_()}))}}]),d}();x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0}),x[_0x1dda("0x68")]=x.on=x[_0x1dda("0x46c")]=x[_0x1dda("0x46d")]=x[_0x1dda("0x46e")]=x[_0x1dda("0x46f")]=void 0,x.createEl=c,x.createElOn=function(d,x,a){var _=c(d);x&&b(_,x);a&&a[_0x1dda("0x24")](_);return _},x[_0x1dda("0x470")]=l,x[_0x1dda("0x471")]=f,x.removeDomEvent=u,x[_0x1dda("0x472")]=h,x[_0x1dda("0x473")]=function(d){d.preventDefault?d[_0x1dda("0x473")]():d[_0x1dda("0x490")]=!1;return this},x[_0x1dda("0x343")]=function(d){d[_0x1dda("0x343")]?d.stopPropagation():d.cancelBubble=!0;return this},x.preventSelection=function(d){return d[_0x1dda("0x491")]=function(){return!1},d.ondragstart=function(){return!1},d[_0x1dda("0x41f")]("unselectable","on"),this},x[_0x1dda("0x474")]=function(d,x){if(!d)return null;t[_0x1dda("0xd")].any3d?A(d,x):(d[_0x1dda("0x120")][_0x1dda("0x325")]=x.x+"px",d[_0x1dda("0x120")][_0x1dda("0x323")]=x.y+"px");return x},x[_0x1dda("0x475")]=g,x.getEventContainerPoint=function(d,x){d||(d=window[_0x1dda("0x48c")]);var a=x.__position;a||(a=g(x));return new Point(d[_0x1dda("0x497")]/a[2]-a[0]-x[_0x1dda("0x498")],d[_0x1dda("0x499")]/a[3]-a[1]-x[_0x1dda("0x49a")])},x[_0x1dda("0x23f")]=b,x.hasClass=v,x[_0x1dda("0x476")]=function(d,x){if(void 0===d[_0x1dda("0x49b")]||v(d,x)){var a=m(d);p(d,(a?a+" ":"")+x)}else for(var _=(0,r[_0x1dda("0x49e")])(x),e=0,t=_[_0x1dda("0x0")];e<t;e++)d[_0x1dda("0x49b")].add(_[e]);return this},x.setClass=p,x[_0x1dda("0x477")]=m,x[_0x1dda("0x478")]=function(d,x){return d.style[_0x1dda("0x11d")]=x,this},x[_0x1dda("0x479")]=A,x.setTransformMatrix=function(d,x){var a="matrix("+((0,n[_0x1dda("0x332")])(x)?x:x[_0x1dda("0x4a6")]())+")";d.style[o]!==a&&(d[_0x1dda("0x120")][o]=a);return this},x[_0x1dda("0x47a")]=function(d){d[_0x1dda("0x120")][o]&&(d.style[o]="");return this},x.isHTML=function(d){return/<[a-z\][\s\S]*>/i[_0x1dda("0x29")](d)},x.measureDom=function(d,x){var a=C(d);(0,n.isString)(x)?a[_0x1dda("0x1ae")]=x:a.appendChild(x);var _=new Size(a[_0x1dda("0x4a7")],a.clientHeight);return l(a),_},x[_0x1dda("0x47b")]=C;var _,e=a(142),t=(_=e)&&_.__esModule?_:{default:_},i=a(75),n=a(4),r=a(288);var s=i[_0x1dda("0x1b1")]?function(d){return d[0]}:function(d){for(var x=document[_0x1dda("0x47c")][_0x1dda("0x120")],a=0;a<d[_0x1dda("0x0")];a++)if(d[a]in x)return d[a];return!1},o=x[_0x1dda("0x46f")]=s(["transform",_0x1dda("0x47d"),_0x1dda("0x47e"),_0x1dda("0x47f"),_0x1dda("0x480")]);x.TRANSFORMORIGIN=s([_0x1dda("0x481"),_0x1dda("0x482"),_0x1dda("0x483"),_0x1dda("0x484"),"msTransformOrigin"]),x[_0x1dda("0x46d")]=s([_0x1dda("0x485"),_0x1dda("0x486"),"OTransition","MozTransition",_0x1dda("0x487")]),x.CSSFILTER=s([_0x1dda("0x2a5"),"WebkitFilter",_0x1dda("0x488"),"MozFilter",_0x1dda("0x489")]);function c(d,x){var a=document[_0x1dda("0x20")](d);return x&&p(a,x),a}function l(d){if(!d)return this;if(t[_0x1dda("0xd")][_0x1dda("0x48a")]||t.default[_0x1dda("0x48b")]){var x=c(_0x1dda("0x1a4"));x[_0x1dda("0x24")](d),x.innerHTML="",x=null}else d[_0x1dda("0x27")]&&d.parentNode[_0x1dda("0x28")](d);return this}function f(d,x,a,_){if(!(d&&d.addEventListener&&x&&a))return this;for(var e=function(x){x||(x=window[_0x1dda("0x48c")]),a.call(_||d,x)},i=x.split(" "),n=i.length-1;n>=0;n--){var r=i[n];if(r)d["Z__"+r]||(d[_0x1dda("0x339")+r]=[]),h(d,r,a)>=0&&u(d,r,a),d[_0x1dda("0x339")+r][_0x1dda("0x10")]({callback:e,src:a}),r===_0x1dda("0x48d")&&t.default.gecko&&(r=_0x1dda("0x48e")),d.addEventListener(r,e,!1)}return this}function u(d,x,a){function _(x,a){x===_0x1dda("0x48d")&&t[_0x1dda("0xd")][_0x1dda("0x48f")]&&(x=_0x1dda("0x48e")),d.removeEventListener(x,a,!1)}if(!d||!d[_0x1dda("0x264")]||!x)return this;for(var e=x.split(" "),i=e[_0x1dda("0x0")]-1;i>=0;i--){var n=e[i];if(n){if(!a&&d[_0x1dda("0x339")+n]){for(var r=d[_0x1dda("0x339")+n],s=0,o=r.length;s<o;s++)_(r[s][_0x1dda("0x195")]);return delete d[_0x1dda("0x339")+n],this}var c=h(d,n,a);if(c<0)return this;_(n,d[_0x1dda("0x339")+n][c][_0x1dda("0x195")]),d[_0x1dda("0x339")+n][_0x1dda("0x6")](c,1)}}return this}function h(d,x,a){if(!d||!d[_0x1dda("0x339")+x]||!a)return-1;for(var _=d[_0x1dda("0x339")+x],e=0,t=_[_0x1dda("0x0")];e<t;e++)if(_[e].src===a)return e;return-1}function g(d){var x=window[_0x1dda("0x492")](d),a=[parseInt(x[_0x1dda("0x493")]),parseInt(x[_0x1dda("0x494")])],_=d[_0x1dda("0x495")](),e=d[_0x1dda("0x25")],t=d[_0x1dda("0x26")],i=e?_[_0x1dda("0x1a5")]/e:1,n=t?_[_0x1dda("0x18b")]/t:1;return d[_0x1dda("0x496")]=[_[_0x1dda("0x325")]+a[0],_[_0x1dda("0x323")]+a[1],i,n],d[_0x1dda("0x496")]}function b(d,x){var a,_,e,t=d.style[_0x1dda("0x22")];return _=";",(e=(a=t)[_0x1dda("0x0")]-_[_0x1dda("0x0")])>=0&&a[_0x1dda("0xaf")](_,e)===e||(t+=";"),d[_0x1dda("0x120")].cssText=t+x,this}function v(d,x){if(void 0!==d[_0x1dda("0x49b")])return d[_0x1dda("0x49b")][_0x1dda("0x49c")](x);var a=m(d);return a[_0x1dda("0x0")]>0&&new RegExp("(^|\\s)"+x+_0x1dda("0x49d")).test(a)}function p(d,x){return(0,n[_0x1dda("0x33a")])(d.className[_0x1dda("0x49f")])?d[_0x1dda("0x4a0")]=x:d.className[_0x1dda("0x49f")]=x,this}function m(d){return(0,n[_0x1dda("0x33a")])(d[_0x1dda("0x4a0")][_0x1dda("0x49f")])?d[_0x1dda("0x4a0")]:d[_0x1dda("0x4a0")].baseVal}function A(d,x){var a=x||new Point(0,0);return d[_0x1dda("0x120")][o]=t[_0x1dda("0xd")][_0x1dda("0x4a1")]?_0x1dda("0x4a2")+a.x+_0x1dda("0x4a3")+a.y+_0x1dda("0x4a4"):_0x1dda("0x4a5")+a.x+"px,"+a.y+"px)",this}function C(d){var x=document.createElement(d);return x.style[_0x1dda("0x22")]=_0x1dda("0x4a8"),document[_0x1dda("0x4a9")][_0x1dda("0x24")](x),x}x.on=f,x[_0x1dda("0x68")]=u},function(d,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var _={};if(!a(75)[_0x1dda("0x1b1")]){var e=navigator[_0x1dda("0x4aa")][_0x1dda("0x318")](),t=document[_0x1dda("0x47c")],i=_0x1dda("0x455")in window,n=-1!==e.indexOf("webkit"),r=-1!==e[_0x1dda("0xaf")](_0x1dda("0x4ab")),s=-1!==e[_0x1dda("0x4ac")](_0x1dda("0x4ad")),o=-1!==e[_0x1dda("0xaf")](_0x1dda("0x4ae")),c=-1!==e.indexOf(_0x1dda("0x48f"))&&!n&&!window[_0x1dda("0x4af")]&&!i,l=typeof orientation!==_0x1dda("0x8")||-1!==e[_0x1dda("0xaf")]("mobile"),f=!window[_0x1dda("0x4b0")]&&window[_0x1dda("0x4b1")],u=window[_0x1dda("0x4b0")]&&navigator[_0x1dda("0x4b2")]||f,h=i&&_0x1dda("0x485")in t.style,g=_0x1dda("0x4b3")in window&&"m11"in new window.WebKitCSSMatrix&&!s,b=_0x1dda("0x4b4")in t[_0x1dda("0x120")],v="OTransition"in t[_0x1dda("0x120")],p=(h||g||b)&&!v&&!r,m=0;o&&(m=e.match(/chrome\/([\d.]+)/)[1]);var A=!r&&(u||_0x1dda("0x4b5")in window||window[_0x1dda("0x4b6")]&&document instanceof window[_0x1dda("0x4b6")]),C=void 0;try{var I=document[_0x1dda("0x20")]("canvas"),y=I[_0x1dda("0x2fb")](_0x1dda("0x4b7"))||I[_0x1dda("0x2fb")](_0x1dda("0x4b8"));C=y&&y instanceof WebGLRenderingContext}catch(d){C=!1}_={ie:i,ielt9:i&&!document[_0x1dda("0x30")],edge:_0x1dda("0x4b9")in navigator&&!("documentMode"in document),webkit:n,gecko:c,android:-1!==e[_0x1dda("0xaf")](_0x1dda("0x4ba")),android23:s,chrome:o,chromeVersion:m,safari:!o&&-1!==e[_0x1dda("0xaf")]("safari"),phantomjs:r,ie3d:h,webkit3d:g,gecko3d:b,opera12:v,any3d:p,mobile:l,mobileWebkit:l&&n,mobileWebkit3d:l&&g,mobileOpera:l&&window.opera,mobileGecko:l&&c,touch:!!A,msPointer:!!f,pointer:!!u,retina:(window[_0x1dda("0x4bb")]||window[_0x1dda("0x1e")][_0x1dda("0x1d")]/window[_0x1dda("0x1e")][_0x1dda("0x4bc")])>1,language:navigator[_0x1dda("0x4bd")]?navigator[_0x1dda("0x4bd")]:navigator[_0x1dda("0x4be")],ie9:i&&9===document[_0x1dda("0x4bf")],ie10:i&&10===document[_0x1dda("0x4bf")],webgl:C}}x[_0x1dda("0xd")]=_},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=s(a(20)),e=s(a(5)),t=s(a(0)),i=s(a(1)),n=a(4),r=s(a(289));function s(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var o=function(){function d(x){if((0,t[_0x1dda("0xd")])(this,d),!this||!this[_0x1dda("0x4c0")])throw new Error(_0x1dda("0x4c1"));this.setOptions(x),this[_0x1dda("0x4c2")]()}return(0,i[_0x1dda("0xd")])(d,[{key:_0x1dda("0x4c2"),value:function(){var d=(0,e.default)(this);return this[_0x1dda("0x4c3")](d),this}},{key:_0x1dda("0x4c0"),value:function(d){if(this[_0x1dda("0x2")](_0x1dda("0x35"))||(this[_0x1dda("0x35")]=this[_0x1dda("0x35")]?(0,_.default)(this.options):{}),!d)return this;for(var x in d)this[_0x1dda("0x35")][x]=d[x];return this}},{key:"config",value:function(d){if(!d){var x={};for(var a in this[_0x1dda("0x35")])this[_0x1dda("0x35")][_0x1dda("0x2")](a)&&(x[a]=this.options[a]);return x}if(2===arguments[_0x1dda("0x0")]){var _={};_[d]=arguments[1],d=_}for(var e in d)this[_0x1dda("0x35")][e]=d[e],this[e]&&this[e]instanceof r.default&&(d[e]?this[e][_0x1dda("0x4c4")]():this[e].disable());return this[_0x1dda("0x4c5")](d),this}},{key:_0x1dda("0x4c5"),value:function(){}},{key:_0x1dda("0x4c3"),value:function(d){if(!this._initHooksCalled){var x=(0,e[_0x1dda("0xd")])(d);x._visitInitHooks&&x[_0x1dda("0x4c3")][_0x1dda("0x3")](this,x),this[_0x1dda("0x4c6")]=!0;var a=d[_0x1dda("0x4c7")];if(a&&a!==x[_0x1dda("0x4c7")])for(var _=0;_<a.length;_++)a[_][_0x1dda("0x3")](this)}}}],[{key:"addInitHook",value:function(d){for(var x=arguments[_0x1dda("0x0")],a=Array(x>1?x-1:0),_=1;_<x;_++)a[_-1]=arguments[_];var t=typeof d===_0x1dda("0x1c")?d:function(){this[d][_0x1dda("0x5")](this,a)},i=this[_0x1dda("0x1")],n=(0,e[_0x1dda("0xd")])(i);return i._initHooks&&i._initHooks!==n[_0x1dda("0x4c7")]||(i[_0x1dda("0x4c7")]=[]),i._initHooks[_0x1dda("0x10")](t),this}},{key:_0x1dda("0x4c8"),value:function(){for(var d=arguments[_0x1dda("0x0")],x=Array(d),a=0;a<d;a++)x[a]=arguments[a];for(var _=0;_<x[_0x1dda("0x0")];_++)(0,n[_0x1dda("0x4c9")])(this[_0x1dda("0x1")],x[_]);return this}},{key:_0x1dda("0x4ca"),value:function(d){var x=this[_0x1dda("0x1")],a=(0,e[_0x1dda("0xd")])(x);return x[_0x1dda("0x35")]&&x[_0x1dda("0x35")]!==a.options||(x[_0x1dda("0x35")]=x[_0x1dda("0x35")]?(0,_[_0x1dda("0xd")])(x.options):{}),(0,n.extend)(x[_0x1dda("0x35")],d),this}}]),d}();x[_0x1dda("0xd")]=o},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d.__esModule?d:{default:d}}var i=function(){function d(){var x=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{depth:100,inverse:!1,typeID:null,excludeNodeTypes:excludeNodeTypes};(0,_[_0x1dda("0xd")])(this,d),this.configs=x;var a=esmap.ESMap[_0x1dda("0x34")];this[_0x1dda("0x4cb")]=new(THREE[_0x1dda("0x4cc")]),this.watchingList=null,this[_0x1dda("0x4cd")]=new THREE.MeshBasicMaterial({color:16711680}),this[_0x1dda("0x42")]=a,this[_0x1dda("0x2c5")]={},this[_0x1dda("0x4ce")]=null}return(0,e.default)(d,[{key:"intersectByStartEnd",value:function(d,x){var a=x[_0x1dda("0x116")]()[_0x1dda("0x4cf")](d[_0x1dda("0x116")]())[_0x1dda("0x2cc")]();this[_0x1dda("0x4cb")][_0x1dda("0xcd")](d,a);var _=d[_0x1dda("0x117")](x);this.ray[_0x1dda("0x4d0")]=_;var e=[];if(!this[_0x1dda("0x4ce")]){var t=[],i=this[_0x1dda("0x42")].mapView[_0x1dda("0xf7")],n=this.map[_0x1dda("0x4d1")][_0x1dda("0x2c4")];i.traverse((function(d){d.type==_0x1dda("0x182")&&d[_0x1dda("0x2c4")]!=n&&t[_0x1dda("0x10")](d)})),this.meshList=t}for(var r=0;r<this[_0x1dda("0x4ce")][_0x1dda("0x0")];r++){var s=this[_0x1dda("0x4ce")][r];this[_0x1dda("0x2c5")][s[_0x1dda("0x2c4")]]||e[_0x1dda("0x10")](s)}var o=this.ray[_0x1dda("0x4d2")](e,!0);return o[_0x1dda("0x0")]>0?o[0]:null}},{key:"intersectByCoord",value:function(d){var x=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_0x1dda("0x18b"),_=this.configs.inverse?1:-1,e=new(THREE[_0x1dda("0x11c")])(d.x,this.configs[_0x1dda("0x2bb")],d.z),t=new(THREE[_0x1dda("0x11c")])(d.x,-this.configs.depth,d.z),i=new(THREE[_0x1dda("0x11c")])(0,_,0),n=e[_0x1dda("0x117")](t);if(this[_0x1dda("0x4cb")].set(this[_0x1dda("0x4d3")][_0x1dda("0x4d4")]?t:e,i),this.ray[_0x1dda("0x4d0")]=n,!this[_0x1dda("0x3b4")]){this.watchingList=[];var r=this.map.mapPicker;this[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0xf7")][_0x1dda("0xf8")]((function(d){if((d[_0x1dda("0x9f")]==_0x1dda("0x182")||"_root_"==d[_0x1dda("0xfc")]&&d[_0x1dda("0xe5")])&&"$ESMapPlane"!=d[_0x1dda("0xfc")]&&d[_0x1dda("0xfc")]!=_0x1dda("0x4d6")&&!d[_0x1dda("0x4d7")]){if(x[_0x1dda("0x2c5")][d[_0x1dda("0x2c4")]])return;var a=r[_0x1dda("0x4d8")](d),_=function(d){var a=x[_0x1dda("0x4d3")][_0x1dda("0x4d5")];if(null!=a){if(d[_0x1dda("0xe5")]){var _=d[_0x1dda("0xe5")];if(_[_0x1dda("0x424")]){if(_[_0x1dda("0x424")][_0x1dda("0x2a5")]((function(d){return d.typeID==a}))[_0x1dda("0x0")]>0)return!0}else if(_.typeID==a)return!0}return!1}return!0}(d),e=!0,t=function(d){var a=x[_0x1dda("0x4d3")][_0x1dda("0x1e2")];if(null!=a){if(d[_0x1dda("0xe5")]){var _=d[_0x1dda("0xe5")];if(_[_0x1dda("0x424")]){if(_[_0x1dda("0x424")][_0x1dda("0x2a5")]((function(d){return d.dataID==a}))[_0x1dda("0x0")]>0)return!0}else if(_[_0x1dda("0x1e2")]==a)return!0}return!1}return!0}(d);if(x[_0x1dda("0x4d3")][_0x1dda("0x4d9")]&&(d[_0x1dda("0xe5")]&&d[_0x1dda("0xe5")][_0x1dda("0x106")]||d[_0x1dda("0x106")])){var i=d[_0x1dda("0xe5")]?d.datas_[_0x1dda("0x106")]:d.nodeType;x[_0x1dda("0x4d3")][_0x1dda("0x4d9")].indexOf(i)>-1&&(e=!1)}a&&e&&_&&t&&x[_0x1dda("0x3b4")][_0x1dda("0x10")](d)}}))}_0x1dda("0x18b");var s=this[_0x1dda("0x4cb")].intersectObjects(this[_0x1dda("0x3b4")],!0);return s[_0x1dda("0x0")]>0?s[0][_0x1dda("0x1b")][_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x4da"))>-1&&(s[_0x1dda("0x4")](),0==s[_0x1dda("0x0")])?null:a==_0x1dda("0x18b")?(this[_0x1dda("0x4d3")][_0x1dda("0x2b9")]&&console[_0x1dda("0x255")](s[0][_0x1dda("0x1b")][_0x1dda("0xfc")]),s[0].point):s[0]:null}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=n(a(2)),e=n(a(0)),t=n(a(1)),i=a(146);function n(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var r=function(){function d(x,a,_){(0,e[_0x1dda("0xd")])(this,d),this[_0x1dda("0x4db")]=_,this[_0x1dda("0x4dc")]=null,this[_0x1dda("0x4dd")]=!1,this[_0x1dda("0x4de")]=a,this.w_,this.h_,this[_0x1dda("0x4df")]=8,this[_0x1dda("0x4e0")]=15}return(0,t.default)(d,[{key:"sl",value:function(d){for(var x=d[_0x1dda("0x0")],a=0,_=0;_<x;_++)a+=d[_][_0x1dda("0x2d")]();return parseInt(a,16)}},{key:_0x1dda("0x4e1"),value:function(d,x){if(esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x7d")][_0x1dda("0x7e")]("logo")||(this[_0x1dda("0x4dc")].visible=!1,this[_0x1dda("0x4dc")][_0x1dda("0x153")][_0x1dda("0x169")]=!1),null!=this[_0x1dda("0x4dc")]){var a=d/2,_=x/2;this[_0x1dda("0x4dc")][_0x1dda("0xfa")].set(a-this.w_/2-this[_0x1dda("0x4df")],-_+this.h_/2+this[_0x1dda("0x4e0")],1),this[_0x1dda("0x4dc")][_0x1dda("0x153")][_0x1dda("0x169")]?this.sprite_.visible=!0:this.sprite_[_0x1dda("0x169")]=!1}this.visible_&&null==this[_0x1dda("0x4dc")]&&(this[_0x1dda("0x32")](),this[_0x1dda("0x4dc")][_0x1dda("0x169")]=!0)}},{key:_0x1dda("0x4e2"),value:function(d,x,a,_){if(null!=this[_0x1dda("0x4e3")]){var e=d/2,t=x/2;this[_0x1dda("0x4e3")][_0x1dda("0xfa")].set(e-this.w_/2-this[_0x1dda("0x4df")]+a,-t+this.h_/2+this[_0x1dda("0x4e0")]+_,1)}this[_0x1dda("0x4dd")]&&null==this[_0x1dda("0x4e3")]&&(this[_0x1dda("0x4e4")](),this[_0x1dda("0x4e3")].visible=!0)}},{key:_0x1dda("0x32"),value:function(){if(null==this.sprite_){var d=document[_0x1dda("0x20")]("img");d[_0x1dda("0x4e5")]=i[_0x1dda("0x4e6")];var x=new(THREE[_0x1dda("0x329")])(d),a=esmap[_0x1dda("0x86")][_0x1dda("0x301")]()[_0x1dda("0x37d")];this.w_=a?96:60,this.h_=a?25:15,x[_0x1dda("0x174")]=THREE[_0x1dda("0x32a")],x[_0x1dda("0x172")]=!0,this.sprite_=new(THREE[_0x1dda("0x2e4")])(new(THREE[_0x1dda("0x23e")])({map:x})),this[_0x1dda("0x4dc")].userData.visible=!1,this.sprite_[_0x1dda("0x1d7")].set(this.w_,this.h_,1),this.sceneOrtho_.add(this[_0x1dda("0x4dc")]);var _=this[_0x1dda("0x4db")][_0x1dda("0x352")],e=_[_0x1dda("0x4a7")]-_[_0x1dda("0x4e7")],t=_[_0x1dda("0x4e8")]+_[_0x1dda("0x4e9")];this[_0x1dda("0x4e1")](e,t)}}},{key:_0x1dda("0x4e4"),value:function(){var d=1&esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x7d")]._ul;if(window[_0x1dda("0x4ea")]&&window[_0x1dda("0x4eb")]&&d){var x=document[_0x1dda("0x20")](_0x1dda("0x4ec")),a=userLogoBase64[_0x1dda("0x2a")](","),e=this.sl(a[2]),t=a[0];if(1==t)if(esmap[_0x1dda("0x86")].encode64(t+e+window[_0x1dda("0x4ea")]+_0x1dda("0xdd"))!=a[1])return;x[_0x1dda("0x4e5")]="data:image/png;base64,"+a[2];var i=new(THREE[_0x1dda("0x329")])(x),n=esmap[_0x1dda("0x86")].getPlatform()[_0x1dda("0x37d")],r={w_:this.w_,h_:this.h_,x:0,y:0};window.userLogoConfig&&(0,_.default)(r,window[_0x1dda("0x4ed")]),window[_0x1dda("0x4ed")]&&(r.w_=n?r.w_:.7*r.w_,r.h_=n?r.h_:.7*r.h_,r.x=n?r.x:.7*r.x,r.y=n?r.y:.7*r.y),i[_0x1dda("0x174")]=THREE.LinearFilter,i[_0x1dda("0x172")]=!0,this[_0x1dda("0x4e3")]=new(THREE[_0x1dda("0x2e4")])(new(THREE[_0x1dda("0x23e")])({map:i})),this[_0x1dda("0x4e3")][_0x1dda("0x1d7")][_0x1dda("0xcd")](r.w_,r.h_,1),this[_0x1dda("0x4e3")][_0x1dda("0xfc")]=_0x1dda("0x4ee"),this[_0x1dda("0x4de")][_0x1dda("0xce")](this[_0x1dda("0x4e3")]);var s=this[_0x1dda("0x4db")][_0x1dda("0x352")],o=s[_0x1dda("0x4a7")],c=s[_0x1dda("0x4e8")]+20;this[_0x1dda("0x4e2")](n?o-180:o-120,c-25,r.x,r.y)}}},{key:_0x1dda("0x4ef"),value:function(){}},{key:_0x1dda("0x169"),set:function(d){d!=this[_0x1dda("0x4dd")]&&(this.visible_=d,d?(this[_0x1dda("0x32")](),this[_0x1dda("0x4dc")][_0x1dda("0x169")]=!0):null!=this.sprite_&&(this[_0x1dda("0x4dc")][_0x1dda("0x169")]=!1))},get:function(){return this.visible_}}]),d}();x[_0x1dda("0xd")]=r},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});x[_0x1dda("0x4e6")]="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAABDCAYAAABzydsQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB7uSURBVHhe7Z0JnBTF9cffq5ldYEEULwQVUbwS70SjMRpjEs8YExM1h0YjwnIYRKMSFRDwxIggKIJANAZzKJ94xTt/8Yga0cSQvyfeBs/EKAKy7M50vf/v9dSwM9PVc+zOrv+Y/sKb7uq7q+u9enUuJSQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT858NuWR/+IoOIs7sZ5m0Q2iDcJvRvmzIvUSv/nfbmd8NtCQkJ/y/opAEQnM9Cz9gNucXehqt9iZij15Twx2L5JFbnU6u5ifYzq8J9CQkJnxgdMwBL7EZk6Gi29iQo9J2USk2FHRjIgdyAvfvlDiqD0DvCMo72Sv0aBiM0DwkJCd1PbQbgEbseG5kJZT8epza4rUCQs5thtJyfNYOCcSI0Eft7uZ3xiNwmqdTIpGiQkPDJUJMB4EeD67D4cS5UirSypcm2V+pyamvbkW2Yu+/idsYj8p6QnED7pf+IO3zy3oCgWPN3OZiC7PvUlH7RtNjvWDbP079oE+4nR1IWxwSQjFvmw6Xrut+FxbfPumWAT1B6jfy1LT1Lc80srFVmtPShjOwLz+zzOG8wtqyP+De5nXVC5GGab65yoWJOlA0oLYNcqJi+kXT2Ps0wb7n1jjPKbklt1M+FytNKr9AN5mMXSnBUbwCW2t680iKn5j5uix+RJZLJDqWmxtc4E1yIRHgqzkm7vTFARURmSUNqPO1rWtzGTwYRQ0uDU8maV0n4MWY7Ucg+RO+l7uTecgv1oMNCJc0r7bolorIo3L4ukWNLlwVGoHDJcgpdZa7GWjwjZDBZOQdr30dc981t7CpQbJtnLnOBYobbsbj/FS5UzHaw64UpwMqtdEbqKBfqGKfbXvQxvYxIGui2lAE+qdB2MF6vuA0JjupziA//xWGuVUmE9+Z0+ilqs6PkvfQ5EshB2P4CBXI3PsKlWL8MCeB+yNqC81ahCCGUWbMBPdi2Pz8QXMQPZO/lB4NnsIQE9/Di4GK6v+3L9Iw04oyuAxpPu6dmkQ1WGRMMk/V4HLZtyANkkjTwd2mNwFPpDqSVevLNLhBlEgzVcDsaaft5PF9z1ys/sPQnt+ZjJ7eMoqlMfbu8MG2N387xMQ2LKL/exyu8khr4PawllFC9BwCghL/ABxzqgpUReUys+TGt4FfpWNZ8rZ0H7LYsdiY87ifxcWbDlTsEunce7rKdO8KPyMvCZjx9lRch0XddkeHv9kiG8ZJGcwa1BT9lkp3EpofSK5LmjWDM0nRAJBcvzcHdeoc8gEAeQO7/VaxFUeV/W2bg/eFddRfyMaV5M7qaV7sNxTTbJ/Dt9nKhdjTn3wafqTClWVlJq00/mgJj2xHOsL1pJb2E9x/gtuSur8ruRV6kObwjDuq69PIfSmyU+ZDVZgwS6G8oKzaXSCuI5X3hNiylvsFoukYKKg3BgeZl2RRuYFZe4Bb7J7ayEOXh7bzXKRTL20Ixb+T7sr+DMUhhS/15Knsecrv+MF4TuM0uIDYfSo/UBE4F99P29H35wBwBg/WYO7prYNIWFT/vyGndq/xA6A2ajXzXRzO+rcR4APkvlM/9VdRbaZLNdHOHWEknFSl/HjUCfnkBP4nye6jJANCRvEYONseLlcNhxd8ocOHLCDex8CweFCymO0Q7CCERCNPd2WN4efA09v0WxYYd/OfGyotCqel0nxxA99q9saWuhJFiLVMjVsOCD/5nsC4wf7qdqEXW8KHUSn/VQ+uPrIYxvMkFihlhP4vnmOpC3clTUDq/EjFtjt+euUAJagCKv11OJKhcQezjeOT+TBNcqJ3Q1Y8Rpufwm+BBo6c2NBEc1nAvcsSdkSPPgLQV5dA+CT8678ccLKU77UioTRrbNsW2Ad7j4yWD82aKXqtNvsdZ+SPkYbrLnkk31c8bsJ9Ln49Es4oDu0jaWs5m4kFs7e1iU0ew4aN4u2AZfYs/llV8GJ7oaXda/WB60O9qw3BamoJvUOxNeZE2GNp/QpZD3ui0ED2Uu66HAIY9rsVBv0ph7p8XSn1Gf2umF3J/4v4u1E5O0f1iEgMQh0ZP57jV7gGlmA8P6/NuS3nCjy+LJTAnUw9JQYHh6vI+sU8iKEEzLRTmR2EwliFdr2ROaxPjzu6I/DXvEjInwkt5P9zWWZbaQ1jkSGlbfR419D6WmfeXFf8YyusPmkxst5Td08eHxvBKuxHC3wzPUUOnhkoRI+sMl5LfVy6sfSU1bJDbXm6eCbcXMtLCaNJyxFeZilD5G34m0RpaTE3cRh+GV+48i/Q6MR5Asx2Dff7myg1wyoZuvRCRq+mc1CkuVB3N0oTztOwfrfnvAYlLQ1naAwZ1qQslFNB5A6DcJI1Q5jFQmMm4ZPlmwnXIRyhKnEUfpRbSRjKOrYzHuSUJW16SlGmmb/KDYQ7fKD9hkktwnL+TkcgLkjG70bFI+PVipB0Kd9zfvp2Wm2mO+V8X6nqGW23q+60LRRF5jlroC93e3j3cXoPnanahYjaEAVjfrReilZwTUv5KzjiaLQwGR/shaCr2F0CAZGgDpMkpdUwTnyLqYwDy3CKDWewc5GOHIEFUvnYu574X3kAzpaQ/lPt6nPcZJORWPNps5P0T6HumRZWfjdV9x8U+scgKscGRdExjuaaq2si1NX+AZ/Enr56yC83y5NRdxXA7DXFwhgtFYfkhXWPiDUSXgGJJszyCm+/rNhTTz2aor6/IIq9TmxlSdUuAdnTKIvcnjlYeGih5z7hiEc65gnfQyHEbEgqorwHQyr1baSvKyD7wjuES8iZuTwXgDQifSmvp99xLxovhW+i75km3k+hGezRKmItcyIuQPZuOSV/qgvVhtOwH9zHGoMhbNM9s4QLdQ7O9DXF6pAsVExpN2prmm3dyG7qJSZKmtxEXzJu6Le2IWNpU7qFefLjbUoCspgxvTlPMSrehPNrngXm2CxUgQg10D/Xgw9yGYkTupBnmCBeKMso+hMJNLX0oBFqTwa822H4IeRXhV8nAS622mNFsv4zfc3OBmtD7qnenxdx/QJ6Gx/dwZzy++hiAB5AI3s0eymRQBKDdIFdBiWfDrZ+IdeTaXFUFHbyHs+wP0tNccB38W8396QQXjCKAcK8XUpd0uG3Zx0g7hSyf50LFsNyA3PZHLtQ9NNuHceP9XagEWYUkuTld282jLMN6iZhONgIl35wmU5oi31S/Gd5lO5pYRe+8E6Unipgv4vgt3ZZC/kpNdgkZM9qFS5DLaLoZ5wLFnGI3ghGqT52RYuRRpNPRFYuFI+zhcJzudKHOoXHMNJPSPDW2j0YZam8FKETL5TfYw/gt+wRbczsSwuchachpnIVZCHiRMB9EFm5YvsKrjOD4M/V6eKliw2Txip7jc4KEFNAsuJNzeXv7IP0qexKu1HnDps9g+RsuFCVN9fmAtaG5fBxNcIOHuPXuQ/izbi0K09vYvySshiwVJAwsd8daZRpFe/1FlV+NCMs5lDI7aUdSrxD9PTzWSxVjVWrB8peQFh+BUdzHbfGzlp/Cs6sH0XlY69x4PLzuR+Gx1ty3omMGQPvL/8oeyq32UZSs7sLH3AMvH7aYF8gW8ABu5wyPkkzmCBiBS0q6/0ZFuD/OuZMXygK6TnITigCx9g7v8ar8wtPgbVyCIsd9eIb9mXkBLZTOd5IZTRsgce3qQiXgPQJa7ALdh8DVjAVeFts5dIlUNzimXliJNwCizW9rXsUx2hdfw8VibXz34Txa9o93lx+jD/ghXGw7KIIqQ7HoXbiMAQik8v1rhtdD2vw9nWXXcxuiXM/v4rk8xZlOwLwrjMB9Lr6qpnYDcG3b/ny9fQyKehcFvHd7TuwRNQqBHMPS8IRk+TWx2X0Rftzl2vHnWBqKn2fol/ZgfEOm41OLcM6NxcfqNXiqZHg6t4bK/7ncdjYcwO271nbSusuBuLW/YonpJZpr/ulC3QfT427NT8bsQ2vsc3RxdiJdZA+i8+1udIEdQhfaAQhvQtNkY7oYbu8kuyFNlfVRfu9DM22PMI47TntzbJTnaErvt/E9PwpvUSqk3XMrkJUTkbijvf6QC+H8yTSEeiMVD0DcaPyUSgs1cPyoQ6Ed3Fqd4YF445hRs47edA4e4Pbce9QJHX2bkZo6iWk0VY2Znz1dUvxznFZhdF8MIo/C8xuFLP3LTHwxHrh85YuEA2mvhTd+Bi3nFhosP4HhwXnUA+efbw0tgLLfj+tEP6TADzjZxNcbVGKknQujMsKFijEyHQbgDBoO5UqFvd07RxutQtn9bReK52TbH/d7HfEf2+gVPs3mSFNe0y6F/lMWcaR9LFpwvZXIpZejHP0kjvkzraUHaqicW4L4/4ILFZNvlThPHkTogNzGAgTl9wt4TxeKkmv3f9lvAOghmsdfoTPtlyjFj7htJcgbdKnRodF+RtrfISZivDwv2jNUPdONYcAq1GvhneeZA13Aj47peIeOxDv+CNdFESemM5WE3eg3QzxEK1pLEVkDozeErq5ujo3qDcC8zCHM5q7Yh6wKaRHOfomG9fgbzV6zJTf20DbdIypeU+QNuPkn0zBeTAvgtll7IKXNrdoT0Kv8ishy2cBsHRmEVA3HSIo2lLfwkaM9zpS0fB0J52l4HHDlcr5m55CJSCwXukB5yrW559FOMf3jjEAViMAg8EWU5ek0hePLqmPgPbSGFYC+ln6YGdmBFpgXaYKdjWf2VNLJKhgAnBvbwcjf7q/DxxkG5RrzKI2zw/Ge89yOYoTugQHwtw50GLguJyKGm+RopIEZCG7sdhQj8g9awdvQog6kPy+47zAUt1g9B/oB4jP+64r8jOYbZNSVqT6JWHORwL3WPLnjws+Hyq+c0rRchplvizXfxb53oscWiOWt4AreS3PkSmqk16g5fSVlaAy27+A9XsXSRrhqx3LnTWUIPm5ME6ashmI8DOXfvy7Kr813GbrGhSrDPB4nvelCfrSq8J94NMRDmNfXKgLPjOlSStvLEYqnBXEk0tuFitHa6V6kXYj1ms9CGbGtVFBeniS+3D3XB0PCxO7jAbqGc4OxmD4bpmKfpOh5/NYZGKvreS3NMTfgHtrK5cdQPzxZ3bqnh/ddYJ6l+azeQvx9FaaqO1hpNFVmtt0SOYLONBNNLLVIIIMKK/eQmIVG8K249k7YNw+S9Z4XClwuoVNolcB7sLtSJnO9/zgnOm7gg5icpRIZRGCchWVaAtczg+VBbkvnYLqfrjP/cqHKzOP38X6HQntyyhXHWsi7MALa/y2ieFUK0U+goF8J13ykaWvEU5yRfZNmud53AkX0XV8ly9vjN8pqlKGZdZBRCTDvooOB3Lc1tCfiUOMxKkRd3EmL2/uqlJKr9oxykd2ZpgbTaVr2OJr0YbsuVA3e+0OeBgO7zG2IIjA9VVKdAcjSNrkKtk6Khbu0yj5EM0vGDYzmD+mUFMrbfACMwHPec9vlAzhgr5E0HOnZ1y6WXqXJUOWOcbBbRmG6lw6AZyF0iNvSOZh0mrXa0JwgxXsgEcyDxHcC0bd/D5rwESQXJzUKjCBbfxu6YstMAsL0YmjglYBeQrFNZ31C4iyRQKIVgTren2JyOXXr5/MT4boOQ1YPQB0xn1Cma/v/W4mvi9FOQrmUXEyj/Qo18ulk4EGs3/cVutzWPjPSotCw/iYX8MBx3msUjaXKXGm/iI9dv/HvIshBWae6Oo/GllQ2aa20EBKdnItjiiNYZAmJQe5H30bCXID98S6W2DPptHR5F9aHVsy8KytC97QU7dmWpj3g+n5IDfQ67l+dAY1D5H1cY2DoUXSUUdIPxSN1+bSSTZVJXWqtXG3C19W41BzahKa+CaIx2hCGG6r7/HYFreIt6HJPb7Phdhaef4wLFSMyFeXQnAuv7nwPeRvH+nK86XSJKe7eHN/rL4BR2psWcG4Y9rl2AN7jDRzr62rcCi+iH82oMMWc9vcYLdpitBfS+OaIr/645gAsNabKf1+mzfA82vHNgzxB80x0qPplwdVkeJQL6f2zSGvH0VnGP/w7jmH2WFznRhcqRvVrvqlq5qwqPQCU3dU9L8xhOyMWHyygsbjm8zTDFlfSjDWtdJq5gCSzO/Y/VHDeY5Q2XycbHATl/gWukSrYVyLyAgUV5tKL45+yj1f5Fab36Wp+mhppXyS6zim/wrSwU8qvzIH3NN/8HnIq5GDkjrvimoNpIPenAVC4FXiXFdwbxaHe9CbkZcjzjPI1tovsjYQ+BTnZ+1gi4XjEcl/qwxthLQqX8QC0m2oeVULh13EtvV6xBKHRakd7/eUquqII3bFO+RWd/NQgLeEyESF6i/pyfMcpNfSj7DdopGhl7lIKeAGecQpOHo3nOgrrh0EOKSuxyh/i739gUWQp9LJEi1AyN2yirY34dMO8xq1VpLpEfDqvgELdUvTg9ZAA/zL8DtygbWlqyYyyp/dcRluYr1Fgh+HYeyhFh9Ea2Q+RvhBiItfKSyCrqS17NJ3RwclFLX3drUVhWozI1cazx6E83+q0BFRdzX9N4Pn0GbVLtIrWQvtkCq+mKeYJLCfjnfdDvLUUxWNeJIxrv0spcU1o8O1LK+AsPVlkWPJCKF4W9vxslKF4h+gYC83VTEmHoFSZCkDtnx/bLRz3e0+mIf7/gFUYsbC8UF8Mij2l5GZO2rEofkPhfoj/E7FWPUzxTYIiVU+zX/2L/9wOwcNr2cs3urt2hJG7yzFkgl2IkYOFLdg8kXrRnNALKOVSeyBe7C58q/hyV9g1lIfRz8y1bkuNIGGMkKew8HdRTeEjzTG/cqFPF+Pt44g7/+xKFsWei0sGupQfA5ChBt6wqG/6WXYsvm901mChj6hV+tOV+Oa5EX/LcJxvpt9F8GyOdes5JgbTKY3ytA8rM2lK6jQXKgDfeKRcgGcf7zZ0DUa+RnNNcW9RzeTEvop4jhZdrfyBzk35B3r5GG6vwnX88ynoAKj5ZQZAFaC2sjrGmVcQaQdDaZfDcjpXuwOShZIGMp9anj0Y5udQlOnvxnU3gPRBQptBq+VJugjKPkkaw7EGk2xfutieinPuwjE9vdfMi6VrO678YAzcMCH/TDWsQ07hgn4aCcc9wPW2yJJLJbCWgpYP3JHt2Jjae4XpzcjAFOFncR+9V7GQrA/Tn3N/M/Ijv/Kj7J+SSS7QjtEKQCy9gvv5aJb9kVbimhfrg9YVGYoOcgpkazyYtmbhmBKpZUSi9lMh+lou4CXX1F4F1RsA5RyUv1pX7ooIvAovkylSvqpEWpGoxlKrGU3mM+ci/EuUvRqLjrG8CyJjMaXtm/SCXYYP/y62z8Rx5ZU/kKW4bufGAAQo2xNrNxofy2gGytufRs5G4tN5830JUyfgpl4fhWvFVBgDUILW96in7xNDu4e9/uCH5A6O8Dt4XtE2fUO7+ZUfloU9TYA5xdGKS3+613N1bgHWCkt5s6yQxDfdMq2hq020mVYzl4j7v06q71q+sWyPe5SbPftut6xIbQZAmdJvBU00YxCJ+0CZ/+J5Eb8E8m/c7gj6wCwgtr9ALE2CsseX5S1vgsSBYgf38u8vFFlBWT4GZb6qKz+82DLNf0L3a8pyoU8XIkfDE2tCnCMOIvImXcpRAyASPwaAKZr79uV3wu9UamByshOup33+fe3+LZTxDMk+W/pRivqHShsVi+eOlsE3Fi3iROst1PRoz8kBMo/WR7r7gAdBBpcVop+G5/rgmHkirWjmhqVHWKrvsxDQGTghpgUMxqtn9ZPV1m4A8kwwT9FmZl98PLjnSCD6J65iBQkixXvB/X+K+hBceXOC/7iOCJ5A++xPMS+7J+s4Qrm5/XykqJv+IEg3M85C+fhyp4hRsfQwfqMwfc6t+YgqgFbICbwoX+LXYcEcO+LvRrqOo6Mge8gOMBjsFL5YdMKMKZ5x/kKH44DcEYqubYaXVGlE2pzMI0Nj56s0LRVT0npRjD8tWngAhXFbKFmpbmq54Vabe+MHGgndFNanVEl7ZHSGc+3muJJOCvntYvcKrpg23bTRcdQYlvP+gP11HoIps+hCM9YFOs4pdnvKhPPHe+IE75FG4hEdONMFWFz3GpPr3NJd6Ew+/6YjoEjz8cplmqDkMJpm7nGBHOEYAO3mGzNWgpDQ5zHisoSx9lqcc5ILtaNNzG2eHoWC3J95R1xLZ78p5vzsUGow8CQ9WFlM41PRMnKzxXtwrgOXfuWB0DydXVKNUFam0oRU9XUDI+z/wHD6y+FGTqe5prjCU+tZpljtCxEds6+D3gx/hs4zUa+lkOH2c3hufYeYVhlZgzSq4y/KdxUvoD4GQNEXnCCHIDLn4LKDEdZpPC6ll3kibS2fRw56J7bX2tZZAXmcGvkAWPvOT/g4SprhTVTfJ7+eGPk1EszxLhRlpN0BHzZ+1FwtaPUU0SD8fg+u785IeGXSgLxFffAtSwcEjbGb0FrSxOxT2tWIx4HemYlOteq6emYHgnjzLLmG5pmRLlDMBcE0aoiZH1HoajrHlNSQI32OkKVY5IoA2iVpU9w474Vk5RHKmAMj7+pD6xL6ySt4l63clmIa5GCabYo9Ri2y9NBisCe+tTenjvSLK8IOteshAxqJ99Ip4eP/6raV86H80crSMtTPAOTRMeZrZSKu/AxN5RtonGhXx4V4cC1p1Q9BZDLvCZftdbelc4ywtyFxVN8MU098TUaFVJoMtFbUBGhVZ6UCoMh4usJc7ELtNNsvIun4e4aKvEoDeTskZlWrYkbbw1EU9M+klB+zkEdzszTc7DlmudtSzEXBQ5RmnVsvikBZzjYlxhwGoFndbN45TPVDcDN9/7wByBmB5ShOar3WezBiLXgGPQ1FzNLj4M+upRH4Jr4eiAE1UH8YACh7AePb9qNUg39+yYA+ovdkpgvlYG0WD5vcdbTr3hX1R+QJlP2/XIv7r9TfABRylj0CEXYLHj6aU3QGkTY8+bcirmlHyc3++xaio3tn0wlBohvA25TNeYbbBxCH8YNyakGrjrSTaKUvr4qcpl29XYBH2JOhGAtcqAS5G7m2ZxJQMNpui/suw7tETY/2ays0ACxXoljkb9XRDjXb2Nfhvfj/MnCWvkDnFkwqm2eEvQPP/Q3SkQZbFuT+edHWpHAdkbNuux5XGHaiaqbLCPIuvudW+J7FXum58DBNjIepA7eqm33Bj4hmgvtSByaErZQHdI7X+W5E0kiU8d4PI7cuol2SeUzdlF9p07npPgnlB4ZuLqv8mthzuUDnUIXXK6moopUm6EIJwgFGP/QqvxL3dwAVXxNgniy/jf1t3nsWGiSdj6CNLnChKIOlL+Jt4/CcUtExAK2eFoAct4W/TYWWpoNolhberwSmdyPKH6J/0g339UnlQkcZ5GV4Ql/riPIrXWsAtLZ0hvkFXvCzsKQ3hMrr+/jVinbztXQCXcH+CSA6SlCm+a+rYV7o1uLQyTY63vtSv7AmVs31dR3praxY0U4/36GZZgmWcZSbbi3eAMxDGdfqSE6sl0oxC8oOkW6lIcj9G4sUf52wtqf7Z8ftoyPoZFldUr3ey3+dp9yyGBsONipOz3npiAHQOjaR22Ds9qI5nlaSKulaA5DnSnzMmeZH+NBfRznrhWiuXo3In+GK7YXr1P8PXwh91611L4zEOKdgcIsPkUFI1HGdk/xo4lRXX3N7XWrYl/CKREfayU04Z1d8r/uwJQbtuUN75Na9lP9biToNWDkDoJWI2Qp//LQn7RimXJ8wvR7rUalHk+LDEe+dbzJWQoOTW12H8TQB6l/GFt4+V5TwSM0GQJbivt+GQT2KrucVbmOHwN27GXVpG+UEKLVOEbUbEndMhwaQ+2MXS5CIZ9JVfAsetzCp1Iefysa0WrRCy19PkZvruKuYjXLuDLfup9l+EwpS/phcwq/tazKSndAKLF/BUicbvTW2wq2Qk+wmiKlncZ7etRht9GWUfzWnj2O4PR3nxvfD1xr8+cb/txjynJ+dSL3Y088fMF9HZ5ozXcjPJGmi3nIyDN638Cxb4guvh/TYhKXO88AoYroOakhueQOZrwzUzCi/LdzutuUxdBTNNfe6UI4zZTMk3X/g2aKVhhY5+Up8h9yVStE7aO2IejT4TvwErnMHzTN/0Z31oPsNQJ7chIhbQLkPRSTsjtcfiKfRoaBa7tSEqDnjvTSX4Qp2cQ88fZY4Jns/TH3IT5hRkTDXrTMdjVM8i86JF4dOl1UObUJrCn0TP4NR+o8dxefQTGRA6Nv4yJatU/GhOfTbeKY+eLfVzLQmJr6bCuIsroCyCa2JPP+ZZVpNyD4Hg7Mn+Wav6isCF9/SPPURukYHPjkDkJDw38JP7VAYe3+nJZGbabr5ZIqgID7nS0hIqA86dVq+yFAq4hk30Y0kBiAhoavRSTp9yq8SlGk16QYSA5CQ0NXoYCctwfukXLNpN5AYgISEruR0uyEUvX9E8VWsTghK8dN7dwOJAUhI6EoytC3l/hJyseuvIvRKrX33601iABISupJsmVmAPuEKQCUxAAkJXUk421G4jIrtij9dVhtJP4CEhK5khB0LZY+ZZZrm0xxTvz+4k5CQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkPBfDNH/AY+O2zzm8xElAAAAAElFTkSuQmCC"},,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(71)),e=i(a(0)),t=i(a(1));function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}function n(d){if(d){if(d.datas_&&d[_0x1dda("0xe5")].o3d_&&(d[_0x1dda("0xe5")][_0x1dda("0x180")]=void 0,d[_0x1dda("0xe5")]=void 0),d[_0x1dda("0xe6")])for(var x=0;x<d[_0x1dda("0xe6")][_0x1dda("0x0")];x++)n(d[_0x1dda("0xe6")][x]);d[_0x1dda("0xe7")]&&d[_0x1dda("0xe7")][_0x1dda("0xe8")](),d.material&&(d[_0x1dda("0xe9")]instanceof Array?d[_0x1dda("0xe9")][_0x1dda("0xd1")]((function(d){d&&d.dispose()})):d[_0x1dda("0xe9")][_0x1dda("0xe8")]())}}var r=function(){function d(x,a,t,i){(0,e[_0x1dda("0xd")])(this,d),t.datas_=this,t[_0x1dda("0x4f5")]=a,(0,_[_0x1dda("0xd")])(this,{nodeType:{enumerable:!0,get:function(){return x}},mapScene:{get:function(){return esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0xb3")]},set:function(d){}},o3d_:{get:function(){return t},set:function(d){t=d},configurable:!0,enumerable:!1}}),window[_0x1dda("0xdd")][_0x1dda("0x4f6")]&&(0,_[_0x1dda("0xd")])(this,{data_:{enumerable:!0,get:function(){return a}}})}return(0,t[_0x1dda("0xd")])(d,[{key:"x",get:function(){return this[_0x1dda("0xb3")]?-this.o3d_[_0x1dda("0xfa")].x-this[_0x1dda("0xb3")][_0x1dda("0x2a8")]:0},set:function(d){this[_0x1dda("0xb3")]?this[_0x1dda("0x180")][_0x1dda("0xfa")][_0x1dda("0x4f0")](-d-this.mapScene.sceneX_):(this[_0x1dda("0x4f1")]=this[_0x1dda("0x4f1")]||{},this[_0x1dda("0x4f1")].x=d)}},{key:"y",get:function(){return this[_0x1dda("0xb3")]?this[_0x1dda("0x180")][_0x1dda("0xfa")].z+this[_0x1dda("0xb3")][_0x1dda("0x2a9")]:0},set:function(d){this[_0x1dda("0xb3")]?this[_0x1dda("0x180")][_0x1dda("0xfa")][_0x1dda("0x4f2")](d-this[_0x1dda("0xb3")][_0x1dda("0x2a9")]):(this[_0x1dda("0x4f1")]=this[_0x1dda("0x4f1")]||{},this[_0x1dda("0x4f1")].y=d)}},{key:"z",get:function(){return this.mapScene?this[_0x1dda("0x180")].position.y:0},set:function(d){}},{key:_0x1dda("0x1e7"),get:function(){var d=esmap[_0x1dda("0x33")][_0x1dda("0x34")],x=new(esmap[_0x1dda("0x4f3")])(this.x,this.y,this.z),a=d[_0x1dda("0x198")]({from:d.coordSystem,to:d.options[_0x1dda("0x19b")],coord:{x:x.x,y:x.y}});return a.z=this.z,a}},{key:_0x1dda("0xfe"),get:function(){return this[_0x1dda("0x180")][_0x1dda("0xfe")]?this.o3d_[_0x1dda("0xfe")].datas_:null}},{key:_0x1dda("0x169"),set:function(d){this[_0x1dda("0x180")][_0x1dda("0x169")]=d},get:function(){return this[_0x1dda("0x180")][_0x1dda("0x169")]}},{key:"floor",get:function(){if(this instanceof esmap[_0x1dda("0x4f4")])return this;var d=this.parent;if(d){if(d instanceof esmap[_0x1dda("0x4f4")])return d;var x=d[_0x1dda("0xfe")];if(x&&x instanceof esmap.ESFloorManager)return x}return null}},{key:_0x1dda("0x1de"),get:function(){return this[_0x1dda("0x1dd")]?this[_0x1dda("0x1dd")].FloorNum:null}}]),(0,t[_0x1dda("0xd")])(d,[{key:"dispose",value:function(){if(this[_0x1dda("0x180")]){this[_0x1dda("0x180")].visible=!1,this[_0x1dda("0x180")][_0x1dda("0x4f7")]&&this.o3d_[_0x1dda("0x4f7")]();var d=this[_0x1dda("0x180")][_0x1dda("0xfe")],x=this[_0x1dda("0xb3")][_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3b4")];for(var a in x){var _=x[a],e=_[_0x1dda("0xaf")](this[_0x1dda("0x180")]);if(e>-1){_.splice(e,1);break}}var t=this[_0x1dda("0xb3")][_0x1dda("0x42")][_0x1dda("0x4f8")][_0x1dda("0xaf")](this[_0x1dda("0x180")]);return t>-1&&this[_0x1dda("0xb3")][_0x1dda("0x42")].lastSelectModelStore.splice(t,1),d?(d[_0x1dda("0x181")](this[_0x1dda("0x180")]),n(this[_0x1dda("0x180")]),!0):void 0}}}]),d}();x[_0x1dda("0xd")]=r},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0}),x.dynamicBufferGeometry=void 0;var _=o(a(36)),e=o(a(5)),t=o(a(0)),i=o(a(1)),n=o(a(10)),r=o(a(11)),s=a(31);function o(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var c=function(d){function x(){(0,t[_0x1dda("0xd")])(this,x);var d=(0,n[_0x1dda("0xd")])(this,(x.__proto__||(0,e[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this));return d[_0x1dda("0x424")]=[],d[_0x1dda("0x403")](_0x1dda("0xfa"),new THREE.BufferAttribute(new Float32Array([]),3)),d[_0x1dda("0x403")]("normal",new(THREE[_0x1dda("0x402")])(new Float32Array([]),3)),d[_0x1dda("0x403")]("uv",new(THREE[_0x1dda("0x402")])(new Float32Array([]),2)),d[_0x1dda("0x403")](_0x1dda("0x4f9"),new(THREE[_0x1dda("0x402")])(new Float32Array([]),2)),d[_0x1dda("0x4fa")]={},d}return(0,r[_0x1dda("0xd")])(x,d),(0,i[_0x1dda("0xd")])(x,[{key:_0x1dda("0x4fb"),value:function(d){var x=this[_0x1dda("0x4fc")](d)[_0x1dda("0x4fd")],a=3*x[0],_=3*x[1],e=this[_0x1dda("0xf9")][_0x1dda("0xfa")].array;if(this[_0x1dda("0x4fa")][d]){for(var t=0;t<e[_0x1dda("0x0")];t++)t>=a&&t<_&&(e[t]=this[_0x1dda("0x4fa")][d][t]);this[_0x1dda("0x4fa")][d]=null,this[_0x1dda("0x3fb")](_0x1dda("0xfa"))[_0x1dda("0x172")]=!0}}},{key:_0x1dda("0x4fe"),value:function(d){var x=this[_0x1dda("0x4fc")](d)[_0x1dda("0x4fd")],a=3*x[0],_=3*x[1],e=this[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0x400")];if(!this[_0x1dda("0x4fa")][d]){this.hiddenChilds[d]=[];for(var t=0;t<e[_0x1dda("0x0")];t++)if(t>=a&&t<_){var i=e[t];this[_0x1dda("0x4fa")][d][t]=i,e[t]=.01}this[_0x1dda("0x3fb")]("position").needsUpdate=!0}}},{key:_0x1dda("0x4ff"),value:function(){this[_0x1dda("0x424")]=[],this[_0x1dda("0xe8")](),this[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(new Float32Array([]),3)),this[_0x1dda("0x403")](_0x1dda("0x3fd"),new(THREE[_0x1dda("0x402")])(new Float32Array([]),3)),this.addAttribute("uv",new(THREE[_0x1dda("0x402")])(new Float32Array([]),2)),this.clearGroups(),this[_0x1dda("0x16c")](0,0,0)}},{key:"findChildById",value:function(d){return this[_0x1dda("0x424")].filter((function(x){return x.ID==d}))[0]}},{key:_0x1dda("0x500"),value:function(d){for(var x=0;x<this.brothers.length;x++)if(this[_0x1dda("0x424")][x].ID==d)return x}},{key:_0x1dda("0x501"),value:function(d,x){var a=d.ID,_=d[_0x1dda("0x18b")],e=d.offsetZ,t=d[_0x1dda("0x121")],i=d[_0x1dda("0x502")],n=this[_0x1dda("0x4fc")](a)[_0x1dda("0x4fd")],r=n[0],s=n[1],o=n[1]-n[0],c=this[_0x1dda("0x500")](a),l=this[_0x1dda("0x503")](t,i,_,e,x),f=l[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0x400")],u=l.attributes[_0x1dda("0x3fd")][_0x1dda("0x400")],h=l[_0x1dda("0xf9")].uv[_0x1dda("0x400")],g=l[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],b=this[_0x1dda("0xf9")].position[_0x1dda("0x400")],v=this.attributes[_0x1dda("0x3fd")][_0x1dda("0x400")],p=this[_0x1dda("0xf9")].uv.array,m=this[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],A=m-o+g,C=b[_0x1dda("0x504")](0,3*r),I=b[_0x1dda("0x504")](3*s,3*m),y=new Float32Array(C[_0x1dda("0x0")]+I[_0x1dda("0x0")]+f[_0x1dda("0x0")]);y[_0x1dda("0xcd")](C),y[_0x1dda("0xcd")](f,C.length),y[_0x1dda("0xcd")](I,C[_0x1dda("0x0")]+f[_0x1dda("0x505")]),this.attributes[_0x1dda("0xfa")][_0x1dda("0x400")]=y,this.attributes[_0x1dda("0xfa")].count=A;var E=v[_0x1dda("0x504")](0,2*r),w=v[_0x1dda("0x504")](2*s,2*m),T=new Float32Array(E[_0x1dda("0x0")]+u[_0x1dda("0x0")]+w[_0x1dda("0x0")]);T[_0x1dda("0xcd")](E),T[_0x1dda("0xcd")](u,E[_0x1dda("0x0")]),T[_0x1dda("0xcd")](w,E[_0x1dda("0x0")]+u[_0x1dda("0x0")]),this[_0x1dda("0xf9")][_0x1dda("0x3fd")].array=T,this.attributes.normal.count=A;var k=p[_0x1dda("0x504")](0,2*r),S=p.subarray(2*s,2*m),M=new Float32Array(k[_0x1dda("0x0")]+h[_0x1dda("0x0")]+S[_0x1dda("0x0")]);M[_0x1dda("0xcd")](k),M[_0x1dda("0xcd")](h,k.length),M[_0x1dda("0xcd")](S,k[_0x1dda("0x0")]+h.length),this[_0x1dda("0xf9")].uv[_0x1dda("0x400")]=M,this[_0x1dda("0xf9")].uv[_0x1dda("0xfb")]=A;var R=g-o;this[_0x1dda("0x424")][c][_0x1dda("0x4fd")][1]+=R;for(var L=0;L<this.brothers.length;L++)L>c&&(this.brothers[L].range[0]+=R,this[_0x1dda("0x424")][L][_0x1dda("0x4fd")][1]+=R);this[_0x1dda("0x3fb")]("position")[_0x1dda("0x172")]=!0,this.getAttribute(_0x1dda("0x3fd")).needsUpdate=!0,this[_0x1dda("0x3fb")]("uv").needsUpdate=!0}},{key:_0x1dda("0x506"),value:function(d){for(var x=!1,a=void 0,_=0;_<this[_0x1dda("0x424")][_0x1dda("0x0")];_++)if(this[_0x1dda("0x424")][_].ID==d){x=!0;var e=this[_0x1dda("0x424")][_][_0x1dda("0x4fd")];a=e[1]-e[0];var t=this.attributes.position.array.subarray(0,3*e[0]),i=this.attributes.position[_0x1dda("0x400")][_0x1dda("0x504")](3*e[1],3*this.attributes[_0x1dda("0xfa")].count),n=new Float32Array(t[_0x1dda("0x0")]+i[_0x1dda("0x0")]);n[_0x1dda("0xcd")](t),n[_0x1dda("0xcd")](i,t.length),this[_0x1dda("0xf9")][_0x1dda("0xfa")].array=n,this.attributes[_0x1dda("0xfa")][_0x1dda("0xfb")]-=a;var r=this[_0x1dda("0xf9")].normal[_0x1dda("0x400")][_0x1dda("0x504")](0,3*e[0]),s=this[_0x1dda("0xf9")].normal[_0x1dda("0x400")][_0x1dda("0x504")](3*e[1],3*this[_0x1dda("0xf9")].normal.count),o=new Float32Array(r[_0x1dda("0x0")]+s[_0x1dda("0x0")]);o[_0x1dda("0xcd")](r),o[_0x1dda("0xcd")](s,r[_0x1dda("0x0")]),this[_0x1dda("0xf9")][_0x1dda("0x3fd")][_0x1dda("0x400")]=o,this[_0x1dda("0xf9")][_0x1dda("0x3fd")][_0x1dda("0xfb")]-=a;var c=this[_0x1dda("0xf9")].uv[_0x1dda("0x400")][_0x1dda("0x504")](0,2*e[0]),l=this[_0x1dda("0xf9")].uv.array[_0x1dda("0x504")](2*e[1],2*this.attributes.uv.count),f=new Float32Array(c[_0x1dda("0x0")]+l.length);f[_0x1dda("0xcd")](c),f[_0x1dda("0xcd")](l,c[_0x1dda("0x0")]),this.attributes.uv.array=f,this.attributes.uv[_0x1dda("0xfb")]-=a,this[_0x1dda("0x424")].splice(_,1),_--}else x&&(this[_0x1dda("0x424")][_].range[0]-=a,this[_0x1dda("0x424")][_].range[1]-=a,this.brothers[_][_0x1dda("0x425")][0]-=a,this[_0x1dda("0x424")][_][_0x1dda("0x425")][1]-=a,this.brothers[_].split-=a);this.getAttribute(_0x1dda("0xfa"))[_0x1dda("0x172")]=!0,this.getAttribute(_0x1dda("0x3fd"))[_0x1dda("0x172")]=!0,this[_0x1dda("0x3fb")]("uv")[_0x1dda("0x172")]=!0}},{key:_0x1dda("0x507"),value:function(d,x){return Math[_0x1dda("0x2c1")](Math[_0x1dda("0x103")](Math[_0x1dda("0xea")](d.x-x.x,2)+Math[_0x1dda("0xea")](d.y-x.y,2)))}},{key:_0x1dda("0x503"),value:function(d,x,a,e,t){for(var i=this,n=esmap.ESMap[_0x1dda("0x34")],r=n[_0x1dda("0xb3")].sceneX_,s=n.mapScene.sceneZ_,o=new THREE.Shape,c=a+e,l=t[_0x1dda("0x508")],f=t[_0x1dda("0x509")],u=0;u<d[_0x1dda("0x0")];u++){var h=d[u];0==u?o[_0x1dda("0x1ff")](h.x-r,h.y-s):o.lineTo(h.x-r,h.y-s)}for(var g in x){var b=x[g],v=new(THREE[_0x1dda("0x50a")]);for(var p in b){var m=b[p];0==p?v[_0x1dda("0x1ff")](m.x,m.y):v[_0x1dda("0x50b")](m.x,m.y)}o[_0x1dda("0x502")][_0x1dda("0x10")](v)}var A=new(THREE[_0x1dda("0x50c")])(o,{depth:a,bevelEnabled:!1,material:0,extrudeMaterial:0}),C=A[_0x1dda("0x3fb")](_0x1dda("0xfa")).count,I=A[_0x1dda("0x3fb")]("position")[_0x1dda("0x400")],y=[],E=[],w=[],T=A[_0x1dda("0x3fb")]("normal")[_0x1dda("0x400")],k=A.getAttribute("uv")[_0x1dda("0x400")],S=(0,_.default)(k);A[_0x1dda("0x50d")]();var M=A[_0x1dda("0x50e")][_0x1dda("0x2be")],R=A.boundingBox[_0x1dda("0x2f6")],L=new(THREE[_0x1dda("0x50f")])(0-R.x,0-R.y),D=new THREE.Vector2(M.x-R.x,M.y-R.y),H=D.x/1,P=D.y/1,O=1,B=1;f&&(O=H,B=P);for(var F=A.groups[0][_0x1dda("0xfb")]/3,N=0;N<F;N++)k[6*N]=(I[9*N]+L.x)/O,k[6*N+1]=(I[9*N+1]+L.y)/B,k[6*N+2]=(I[9*N+3]+L.x)/O,k[6*N+3]=(I[9*N+4]+L.y)/B,k[6*N+4]=(I[9*N+6]+L.x)/O,k[6*N+5]=(I[9*N+7]+L.y)/B,S[6*N]=(I[9*N]+L.x)/H,S[6*N+1]=(I[9*N+1]+L.y)/P,S[6*N+2]=(I[9*N+3]+L.x)/H,S[6*N+3]=(I[9*N+4]+L.y)/P,S[6*N+4]=(I[9*N+6]+L.x)/H,S[6*N+5]=(I[9*N+7]+L.y)/P;for(var z,j,U,X,Y=A[_0x1dda("0x40c")][1].count/6,G=F/2,Q=0;Q<Y;Q++,G++){var V=(j=void 0,U=void 0,X=void 0,j={x:I[9*(z=2*G)],y:I[9*z+1]},U={x:I[9*z+3],y:I[9*z+4]},X={x:I[9*z+6],y:I[9*z+7]},T[9*z+2]==T[9*z+5]?i[_0x1dda("0x507")](j,U):T[9*z+2]==T[9*z+8]?i[_0x1dda("0x507")](j,X):T[9*z+5]==T[9*z+8]?i[_0x1dda("0x507")](U,X):void console[_0x1dda("0x1ec")](_0x1dda("0x510")));V<1&&(V=1),l?(k[12*G]=1,k[12*G+1]=1,k[12*G+2]=0,k[12*G+3]=1,k[12*G+4]=1,k[12*G+5]=0,k[12*G+6]=0,k[12*G+7]=1,k[12*G+8]=0,k[12*G+9]=0,k[12*G+10]=1,k[12*G+11]=0):(k[12*G]=V,k[12*G+1]=a,k[12*G+2]=0,k[12*G+3]=a,k[12*G+4]=V,k[12*G+5]=0,k[12*G+6]=0,k[12*G+7]=a,k[12*G+8]=0,k[12*G+9]=0,k[12*G+10]=V,k[12*G+11]=0),S[12*G]=1,S[12*G+1]=1,S[12*G+2]=0,S[12*G+3]=1,S[12*G+4]=1,S[12*G+5]=0,S[12*G+6]=0,S[12*G+7]=1,S[12*G+8]=0,S[12*G+9]=0,S[12*G+10]=1,S[12*G+11]=0}for(var W=I[2],Z=S,J=[],K=0,q=0;q<C;q++)I[3*q+2]==W||0!=K&&q>K?(E[_0x1dda("0x10")](I[3*q],I[3*q+1],I[3*q+2]-c),y[_0x1dda("0x10")](T[3*q],T[3*q+1],T[3*q+2]),w[_0x1dda("0x10")](k[2*q],k[2*q+1]),J.push(Z[2*q],Z[2*q+1])):0==K&&(K=2*q);return A[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(new Float32Array(E),3)),A.addAttribute(_0x1dda("0x3fd"),new THREE.BufferAttribute(new Float32Array(y),3)),A[_0x1dda("0x403")]("uv",new(THREE[_0x1dda("0x402")])(new Float32Array(w),2)),A[_0x1dda("0x403")](_0x1dda("0x4f9"),new(THREE[_0x1dda("0x402")])(new Float32Array(J),2)),A[_0x1dda("0x40c")][0][_0x1dda("0xfb")]-=K/2,A.groups[1][_0x1dda("0x21c")]-=K/2,A}},{key:_0x1dda("0x511"),value:function(d){for(var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},a=esmap[_0x1dda("0x33")][_0x1dda("0x34")],_=[],e=[],t=0;t<d.length;t++){var i=d[t];i[_0x1dda("0x121")]=a[_0x1dda("0x512")]({from:a[_0x1dda("0x3be")],to:a.coordSystem,coords:i[_0x1dda("0x121")],flipX:!0});var n=i[_0x1dda("0x502")];n[_0x1dda("0x0")]>0&&(n[0]instanceof Array&&(n=n[0]),n=a.transformCoordArray({from:a[_0x1dda("0x3be")],to:a[_0x1dda("0x199")],coords:n,flipX:!0}));var r=this[_0x1dda("0x503")](i[_0x1dda("0x121")],n,i.height,i[_0x1dda("0x513")],x);_[_0x1dda("0x10")](r),e[_0x1dda("0x10")](r[_0x1dda("0x40c")])}var o=this[_0x1dda("0x424")][_0x1dda("0x0")],c=this.attributes[_0x1dda("0xfa")][_0x1dda("0xfb")],l=s[_0x1dda("0x3ff")][_0x1dda("0x514")](_,!0),f=l.groups,u=l[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0x400")],h=l[_0x1dda("0xf9")][_0x1dda("0x3fd")][_0x1dda("0x400")],g=l[_0x1dda("0xf9")].uv[_0x1dda("0x400")],b=l[_0x1dda("0xf9")][_0x1dda("0x4f9")][_0x1dda("0x400")],v=this.attributes[_0x1dda("0xfa")][_0x1dda("0x400")][_0x1dda("0x0")],p=new Float32Array(v+u[_0x1dda("0x0")]);p[_0x1dda("0xcd")](this.attributes[_0x1dda("0xfa")][_0x1dda("0x400")]),p.set(u,v),this[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")]+=l[_0x1dda("0xf9")].position.count,this[_0x1dda("0xf9")].position.array=p;var m=this[_0x1dda("0xf9")].normal[_0x1dda("0x400")][_0x1dda("0x0")],A=new Float32Array(m+h[_0x1dda("0x0")]);A.set(this.attributes[_0x1dda("0x3fd")][_0x1dda("0x400")]),A.set(h,m),this[_0x1dda("0xf9")][_0x1dda("0x3fd")][_0x1dda("0xfb")]+=l[_0x1dda("0xf9")][_0x1dda("0x3fd")][_0x1dda("0xfb")],this.attributes[_0x1dda("0x3fd")].array=A;var C=this.attributes.uv[_0x1dda("0x400")][_0x1dda("0x0")],I=new Float32Array(C+g[_0x1dda("0x0")]);I.set(this[_0x1dda("0xf9")].uv[_0x1dda("0x400")]),I.set(g,C),this[_0x1dda("0xf9")].uv[_0x1dda("0xfb")]+=l.attributes.uv[_0x1dda("0xfb")],this[_0x1dda("0xf9")].uv[_0x1dda("0x400")]=I;var y=new Float32Array(C+g.length);y[_0x1dda("0xcd")](this[_0x1dda("0xf9")][_0x1dda("0x4f9")][_0x1dda("0x400")]),y[_0x1dda("0xcd")](b,C),this[_0x1dda("0xf9")][_0x1dda("0x4f9")][_0x1dda("0xfb")]+=l[_0x1dda("0xf9")].normalizeUv[_0x1dda("0xfb")],this[_0x1dda("0xf9")][_0x1dda("0x4f9")][_0x1dda("0x400")]=y,this[_0x1dda("0x3fb")](_0x1dda("0xfa"))[_0x1dda("0x172")]=!0,this[_0x1dda("0x3fb")](_0x1dda("0x3fd"))[_0x1dda("0x172")]=!0,this[_0x1dda("0x3fb")]("uv")[_0x1dda("0x172")]=!0,this[_0x1dda("0x3fb")](_0x1dda("0x4f9"))[_0x1dda("0x172")]=!0;for(var E=0;E<f[_0x1dda("0x0")];E++){var w=d[E].ID,T=[f[E].start+c,f[E].start+c+f[E].count],k=[T[0]+e[E][1][_0x1dda("0x21c")],T[0]+f[E].count];this[_0x1dda("0x424")][_0x1dda("0x10")]({ID:w,range:T,sideRange:k})}return this[_0x1dda("0x40d")](),this.addGroup(0,this[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],0),this[_0x1dda("0x424")][_0x1dda("0x11")](o)}},{key:_0x1dda("0x515"),value:function(d){var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},a=esmap.ESMap[_0x1dda("0x34")],_=d.ID,e=d[_0x1dda("0x18b")],t=d[_0x1dda("0x513")]||0,i=d.points,n=d[_0x1dda("0x502")]||[];i=a[_0x1dda("0x512")]({from:a.DEFAULT_COORDSYSTEM,to:a.coordSystem,coords:i,flipX:!0}),n[_0x1dda("0x0")]>0&&(n=a.transformCoordArray({from:a[_0x1dda("0x3be")],to:a.coordSystem,coords:n,flipX:!0}));var r=this[_0x1dda("0x503")](i,n,e,t,x),s=r[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0x400")],o=s[_0x1dda("0x0")]/3,c=r[_0x1dda("0xf9")].normal.array,l=r.attributes.uv[_0x1dda("0x400")],f=r[_0x1dda("0xf9")][_0x1dda("0x4f9")].array,u=this[_0x1dda("0xf9")][_0x1dda("0xfa")].count,h=this[_0x1dda("0xf9")][_0x1dda("0xfa")].array[_0x1dda("0x0")],g=new Float32Array(h+s[_0x1dda("0x0")]);g[_0x1dda("0xcd")](this[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0x400")]),g.set(s,h),this.attributes[_0x1dda("0xfa")][_0x1dda("0x400")]=g,this[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")]+=o;var b=this[_0x1dda("0xf9")][_0x1dda("0x3fd")].array[_0x1dda("0x0")],v=new Float32Array(b+c.length);v.set(this[_0x1dda("0xf9")].normal.array),v[_0x1dda("0xcd")](c,b),this[_0x1dda("0xf9")][_0x1dda("0x3fd")][_0x1dda("0x400")]=v,this[_0x1dda("0xf9")][_0x1dda("0x3fd")][_0x1dda("0xfb")]+=o;var p=this[_0x1dda("0xf9")].uv[_0x1dda("0x400")].length,m=new Float32Array(p+l[_0x1dda("0x0")]);m[_0x1dda("0xcd")](this[_0x1dda("0xf9")].uv[_0x1dda("0x400")]),m[_0x1dda("0xcd")](l,p),this[_0x1dda("0xf9")].uv[_0x1dda("0x400")]=m,this[_0x1dda("0xf9")].uv[_0x1dda("0xfb")]+=o;var A=this.attributes[_0x1dda("0x4f9")][_0x1dda("0x400")][_0x1dda("0x0")],C=new Float32Array(A+f[_0x1dda("0x0")]);C[_0x1dda("0xcd")](this[_0x1dda("0xf9")][_0x1dda("0x4f9")][_0x1dda("0x400")]),C.set(f,A),this[_0x1dda("0xf9")].normalizeUv[_0x1dda("0x400")]=C,this[_0x1dda("0xf9")][_0x1dda("0x4f9")][_0x1dda("0xfb")]+=o,this[_0x1dda("0x3fb")](_0x1dda("0xfa"))[_0x1dda("0x172")]=!0,this[_0x1dda("0x3fb")](_0x1dda("0x3fd"))[_0x1dda("0x172")]=!0,this[_0x1dda("0x3fb")]("uv")[_0x1dda("0x172")]=!0,this[_0x1dda("0x3fb")]("normalizeUv")[_0x1dda("0x172")]=!0;var I=[u,u+o],y=[u+r[_0x1dda("0x40c")][1][_0x1dda("0x21c")],u+o];return this.brothers.push({ID:_,range:I,sideRange:y}),this[_0x1dda("0x40d")](),this[_0x1dda("0x16c")](0,this[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],0),{ID:_,range:I,sideRange:y}}},{key:_0x1dda("0x516"),value:function(){}},{key:_0x1dda("0x517"),value:function(){}},{key:_0x1dda("0x518"),value:function(){}}]),x}(THREE.BufferGeometry);x.dynamicBufferGeometry=c},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(0)),e=i(a(1)),t=i(a(33));function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x38d")]=x,this[_0x1dda("0x336")]=x[_0x1dda("0x52")]||x.tile,this[_0x1dda("0xf7")]=x[_0x1dda("0xf7")],this[_0x1dda("0x519")]={}}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x51a"),value:function(d,x){var a=this[_0x1dda("0xf7")],_=d[_0x1dda("0x123")],e=this[_0x1dda("0x336")],i=this.tasks[x],n=i.mesh,r=2===i.bType,s=n[_0x1dda("0xe9")],o=a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")],c=a[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x32f")][_0x1dda("0x51b")][d[_0x1dda("0x51c")]];a.map.options[_0x1dda("0x51d")]&&(c=this[_0x1dda("0x173")](c[_0x1dda("0x2df")].width,c[_0x1dda("0x2df")][_0x1dda("0x18b")]));var l=t[_0x1dda("0xd")][_0x1dda("0xd6")](e.id),f=a.map[_0x1dda("0x7d")];a.map.options[_0x1dda("0x51e")]&&(THREE[_0x1dda("0x1fa")][_0x1dda("0x51f")](c.image[_0x1dda("0x1a5")])&&THREE[_0x1dda("0x1fa")][_0x1dda("0x51f")](c[_0x1dda("0x2df")][_0x1dda("0x18b")])||(c[_0x1dda("0x174")]=THREE[_0x1dda("0x520")],c.generateMipmaps=!1,c[_0x1dda("0x521")][_0x1dda("0x0")]=0,c[_0x1dda("0x172")]=!0));var u=d.matindex,h=a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x37a")];if(e[_0x1dda("0x35")][_0x1dda("0x350")]||(n[_0x1dda("0xe5")][_0x1dda("0x1e7")]={x:d[_0x1dda("0x522")].x,y:d.coord.y}),!s[u]){var g=new THREE.MeshBasicMaterial({transparent:!0,side:THREE[_0x1dda("0x14a")],depthWrite:!0,map:c});g[_0x1dda("0x13a")]=function(d){d[_0x1dda("0x13e")]=d.vertexShader[_0x1dda("0x13f")](_0x1dda("0x432"),_0x1dda("0x523")),d.vertexShader=d.vertexShader[_0x1dda("0x13f")](_0x1dda("0x524"),_0x1dda("0x525")),d.fragmentShader=d[_0x1dda("0x142")].replace(_0x1dda("0x143"),_0x1dda("0x526")),d.fragmentShader=d[_0x1dda("0x142")][_0x1dda("0x13f")]("gl_FragColor = vec4( outgoingLight, diffuseColor.a );",_0x1dda("0x527"))},g.name=d[_0x1dda("0x51c")],d[_0x1dda("0x528")]={width:c[_0x1dda("0x2df")][_0x1dda("0x1a5")],height:c[_0x1dda("0x2df")][_0x1dda("0x18b")]},g.userData[_0x1dda("0x529")]=d,g[_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x52a"))>0?g.transparent=!1:g.alphaTest=h,r&&e[_0x1dda("0x52b")]!=_&&e[_0x1dda("0x35")].focusAlphaMode&&(g[_0x1dda("0x153")][_0x1dda("0x231")]=g.transparent,g[_0x1dda("0x153")][_0x1dda("0x11d")]=g[_0x1dda("0x11d")],g[_0x1dda("0x11d")]=e.options[_0x1dda("0x52c")]),e.options[_0x1dda("0x350")]&&!o?s[u]=g:(s[_0x1dda("0x10")](g),n[_0x1dda("0xe5")][_0x1dda("0x52d")]=d.id,n[_0x1dda("0xe5")][_0x1dda("0x51c")]=d[_0x1dda("0x51c")],f.misStore[d.id]=n,n[_0x1dda("0xe7")][_0x1dda("0x40c")][_0x1dda("0x0")]>1&&(s[u]=g)),l[_0x1dda("0xd5")](d.id)}this[_0x1dda("0xf7")].map[_0x1dda("0x35")][_0x1dda("0x1cc")]&&!n[_0x1dda("0x153")][_0x1dda("0x52e")]&&(n[_0x1dda("0x153")][_0x1dda("0x52e")]=!0,this[_0x1dda("0xf7")][_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](n,this[_0x1dda("0x336")].id))}},{key:_0x1dda("0x52f"),value:function(d){return this[_0x1dda("0x519")][d]||(this[_0x1dda("0x519")][d]={datas:{},geometry:null,mesh:null,parent:null,bid:null,bType:null}),this[_0x1dda("0x519")][d]}},{key:_0x1dda("0x530"),value:function(d,x,a){var _=this[_0x1dda("0x52f")](d);_.parent=x,_[_0x1dda("0x12d")]=a[_0x1dda("0x12d")],_[_0x1dda("0x3a8")]=a[_0x1dda("0x3a8")]}},{key:_0x1dda("0x531"),value:function(d,x){this[_0x1dda("0x52f")](d)[_0x1dda("0x532")]=x}},{key:"setGeoData",value:function(d,x){var a=this[_0x1dda("0x52f")](d),_=x[_0x1dda("0x292")],e=x[_0x1dda("0x3d8")],t=x.uv,i=x[_0x1dda("0x533")],n=x[_0x1dda("0x40c")],r=x[_0x1dda("0x534")],s=x.hideFlags,o=new(THREE[_0x1dda("0x3f9")]);o[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(e,3)),o[_0x1dda("0x403")](_0x1dda("0x3fd"),new(THREE[_0x1dda("0x402")])(i,3)),o.addAttribute("uv",new THREE.BufferAttribute(t,2)),s&&o.addAttribute(_0x1dda("0x535"),new(THREE[_0x1dda("0x402")])(s,1)),o.setIndex(new(THREE[_0x1dda("0x402")])(_,1)),o[_0x1dda("0x153")][_0x1dda("0x536")]=r,n.length>0?n[_0x1dda("0xd1")]((function(d){o[_0x1dda("0x16c")](d[_0x1dda("0x21c")],d[_0x1dda("0xfb")],d.materialIndex)})):o.addGroup(0,_[_0x1dda("0x0")],0),a[_0x1dda("0xe7")]=o;var c=new(THREE[_0x1dda("0x182")])(o,[]);c[_0x1dda("0xe5")]={nodeType:esmap[_0x1dda("0x126")][_0x1dda("0x537")],o3d_:c,bid:a[_0x1dda("0x12d")],bType:a.bType},x.fnum&&(c[_0x1dda("0xe5")].FloorNum=x[_0x1dda("0x123")]),c[_0x1dda("0x160")]=esmap.ESRenderOrder.modelImage,c[_0x1dda("0x3d9")][_0x1dda("0xcd")](-Math.PI/2,Math.PI,Math.PI-0*THREE[_0x1dda("0x1fa")].DEG2RAD,_0x1dda("0x538")),a[_0x1dda("0x413")]=c,a.parent[_0x1dda("0xce")](c)}},{key:_0x1dda("0x539"),value:function(){for(var d in this[_0x1dda("0x519")]){0===this[_0x1dda("0x519")][d][_0x1dda("0x532")][_0x1dda("0x0")]?delete this[_0x1dda("0x519")][d]:this[_0x1dda("0x53a")](d)}}},{key:_0x1dda("0x53a"),value:function(d){for(var x=this[_0x1dda("0x52f")](d)[_0x1dda("0x532")],a=this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x32f")].modelImageTexturePool,_=0;_<x[_0x1dda("0x0")];_++){var e=x[_];a[e[_0x1dda("0x51c")]]?(this[_0x1dda("0x51a")](e,d),x[_0x1dda("0x6")](_,1),_--):null===a[e[_0x1dda("0x51c")]]&&(x[_0x1dda("0x6")](_,1),_--)}}},{key:"createTexture",value:function(d,x){var a=document[_0x1dda("0x20")]("canvas");return a[_0x1dda("0x1a5")]=d,a[_0x1dda("0x18b")]=x,new(THREE[_0x1dda("0x329")])(a)}}]),d}();x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d.__esModule?d:{default:d}}var i=function(){function d(){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x53b")],this.holes_}return(0,e[_0x1dda("0xd")])(d,[{key:"parseBoundary",value:function(d){if(this[_0x1dda("0x53b")]=[],this[_0x1dda("0x53c")]=[],d[_0x1dda("0xaf")]("((")>=0)for(var x=d[_0x1dda("0x7b")](2,d.length-2)[_0x1dda("0x2a")](/\)\)&&\(\(/),a=0;a<x.length;a++){for(var _=x[a][_0x1dda("0x2a")](/,/),e=[],t={},i=0;i<_[_0x1dda("0x0")];i++){var n=_[i][_0x1dda("0x2a")](" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1])};0==i&&(t=r),i>0&&(r.x=t.x+r.x,r.y=t.y+r.y),e.push(r)}this[_0x1dda("0x53b")][_0x1dda("0x10")](e)}return this}},{key:_0x1dda("0x6d"),value:function(d){if(this.points_=[],this.holes_=[],d.indexOf("((")>=0)for(var x=d[_0x1dda("0x7b")](2,d[_0x1dda("0x0")]-2)[_0x1dda("0x2a")](/\),\(/),a=0;a<x[_0x1dda("0x0")];a++){for(var _=x[a][_0x1dda("0x2a")](/,/),e=[],t={},i=0;i<_[_0x1dda("0x0")];i++){var n=_[i][_0x1dda("0x2a")](" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1])};0==i&&(t=r),i>0&&(r.x=t.x+r.x,r.y=t.y+r.y),e[_0x1dda("0x10")](r)}0==a?this.points_.push(e):this[_0x1dda("0x53c")][_0x1dda("0x10")](e)}return this}},{key:_0x1dda("0x53d"),value:function(d,x,a){if(this.points_=[],this[_0x1dda("0x53c")]=[],d[_0x1dda("0xaf")](_0x1dda("0x53e"))>=0)for(var _=d[_0x1dda("0x7b")](n[_0x1dda("0x53f")],d.length-3)[_0x1dda("0x2a")](/\),\(/),e=0;e<_[_0x1dda("0x0")];e++){var t=_[e][_0x1dda("0x2a")](/,/);if(0==e)for(var i=0;i<t.length;i++){var r=t[i][_0x1dda("0x2a")](" "),s={x:-parseFloat(r[0])-x,y:parseFloat(r[1])+a};this.points_[_0x1dda("0x10")](s)}else{var o=[];for(i=0;i<t[_0x1dda("0x0")];i++){r=t[i].split(" "),s={x:-parseFloat(r[0])-x,y:parseFloat(r[1])+a};o[_0x1dda("0x10")](s)}this[_0x1dda("0x53c")].push(o)}}else if(d.indexOf(_0x1dda("0x540"))>=0)for(_=d.substring(n[_0x1dda("0x541")],d[_0x1dda("0x0")]-3).split(/\),\(/),e=0;e<_.length;e++){t=_[e].split(/,/);if(0==e)for(i=0;i<t[_0x1dda("0x0")];i++){r=t[i][_0x1dda("0x2a")](" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])};this.points_[_0x1dda("0x10")](s)}else{for(o=[],i=0;i<t.length;i++){r=t[i][_0x1dda("0x2a")](" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])};o.push(s)}this[_0x1dda("0x53c")][_0x1dda("0x10")](o)}}return this}},{key:_0x1dda("0x542"),value:function(){return null!=this.holes_&&this[_0x1dda("0x53c")][_0x1dda("0x0")]>0}}]),d}(),n=function d(){(0,_[_0x1dda("0xd")])(this,d)};n[_0x1dda("0x53f")]=_0x1dda("0x53e").length,n.CLEN="Circle((("[_0x1dda("0x0")],n[_0x1dda("0x543")]=i,x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=[_0x1dda("0x544"),_0x1dda("0x545"),_0x1dda("0x546"),_0x1dda("0x547"),_0x1dda("0x548"),"WndNWnQOW24=",_0x1dda("0x549"),"Wi5FX21BXS5DWA==",_0x1dda("0x54a")];x.WDL=_},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x.InjectProto=void 0;var _=a(51);x.InjectProto=function(d,x){if(!d[_0x1dda("0x54b")]){d[_0x1dda("0x54b")]=x;var a=d[_0x1dda("0x45")][_0x1dda("0x4e")](d);d[_0x1dda("0x45")]=function(){var d=this;this._ms="";var x=a[_0x1dda("0x5")](void 0,arguments);return this[_0x1dda("0x54b")]&&this[_0x1dda("0x54b")][_0x1dda("0xd1")]((function(a){d._ms+=x[_[_0x1dda("0x8a")][_0x1dda("0x45")](a)]})),this.$v=x,x},d.retrieve=function(d){return this.$v[d]},d[_0x1dda("0x54c")]=function(){var d=this,x="";return this[_0x1dda("0x54b")][_0x1dda("0xd1")]((function(a){x+=d.$v[_[_0x1dda("0x8a")][_0x1dda("0x45")](a)]})),x===this[_0x1dda("0x54d")]},d[_0x1dda("0x54e")]=function(d){return this.$v[_[_0x1dda("0x8a")][_0x1dda("0x45")](d)]}}}},function(d,x,a){"use strict";var _=t(a(12)),e=t(a(15));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=a(72),n=i.Reader,r=i[_0x1dda("0x54f")],s=i.util,o=i[_0x1dda("0x550")].default||(i.roots.default={});o.ESCityLicSet=function(){var d=null,x=null;function a(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return a.prototype.v=0,a[_0x1dda("0x1")].mtime=0,a.prototype.ltime="",a[_0x1dda("0x1")][_0x1dda("0x551")]="",a.prototype[_0x1dda("0x3a0")]=0,a.prototype.tid=0,a[_0x1dda("0x1")].name="",a.prototype[_0x1dda("0x552")]="",a[_0x1dda("0x1")][_0x1dda("0x553")]="",a[_0x1dda("0x1")].AS=0,a.prototype[_0x1dda("0x554")]=0,a[_0x1dda("0x1")].AngleY=0,a[_0x1dda("0x1")][_0x1dda("0x555")]=0,a.prototype.x=0,a.prototype.y=0,a[_0x1dda("0x1")].z=0,a[_0x1dda("0x1")][_0x1dda("0x556")]=s[_0x1dda("0x557")]?s[_0x1dda("0x557")].fromBits(0,0,!1):0,a[_0x1dda("0x1")][_0x1dda("0x558")]=s.Long?s[_0x1dda("0x557")].fromBits(0,0,!1):0,a[_0x1dda("0x1")][_0x1dda("0x559")]=s[_0x1dda("0x557")]?s[_0x1dda("0x557")][_0x1dda("0x55a")](0,0,!1):0,a.prototype[_0x1dda("0x55b")]=s[_0x1dda("0x557")]?s[_0x1dda("0x557")][_0x1dda("0x55a")](0,0,!1):0,a[_0x1dda("0x1")].offsetbid="",a.prototype.offsetroad="",a[_0x1dda("0x1")][_0x1dda("0x55c")]="",a[_0x1dda("0x1")][_0x1dda("0x55d")]=0,a[_0x1dda("0x1")][_0x1dda("0x55e")]=0,a.prototype[_0x1dda("0x55f")]="",a[_0x1dda("0x1")][_0x1dda("0x560")]="",a.prototype[_0x1dda("0x88")]="",a[_0x1dda("0x1")].cids="",a.prototype.logotoken="",a[_0x1dda("0x1")][_0x1dda("0x561")]="",a[_0x1dda("0x1")].o1=0,a[_0x1dda("0x1")].o2=0,a[_0x1dda("0x1")].ul=0,a[_0x1dda("0x1")][_0x1dda("0x562")]="",a[_0x1dda("0x1")].other2="",a[_0x1dda("0x1")].l1=0,a.prototype.l2=0,a[_0x1dda("0x1")].l3=0,a[_0x1dda("0x1")].l4=0,a[_0x1dda("0x1")][_0x1dda("0x563")]="",a[_0x1dda("0x1")].eid="",a[_0x1dda("0x1")][_0x1dda("0x564")]="",a[_0x1dda("0x1")].fs=0,a.create=function(d){return new a(d)},a[_0x1dda("0x565")]=function(d,x){return x||(x=r[_0x1dda("0x566")]()),null!=d.v&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"v")&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d.v),null!=d[_0x1dda("0x569")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x569"))&&x[_0x1dda("0x567")](16)[_0x1dda("0x568")](d[_0x1dda("0x569")]),null!=d[_0x1dda("0x56a")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"ltime")&&x[_0x1dda("0x567")](26)[_0x1dda("0xe")](d.ltime),null!=d[_0x1dda("0x551")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x551"))&&x[_0x1dda("0x567")](34)[_0x1dda("0xe")](d[_0x1dda("0x551")]),null!=d[_0x1dda("0x3a0")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"_id")&&x[_0x1dda("0x567")](40)[_0x1dda("0x568")](d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0x43")]&&Object.hasOwnProperty[_0x1dda("0x3")](d,"tid")&&x[_0x1dda("0x567")](48)[_0x1dda("0x568")](d[_0x1dda("0x43")]),null!=d[_0x1dda("0xfc")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0xfc"))&&x.uint32(58)[_0x1dda("0xe")](d[_0x1dda("0xfc")]),null!=d.nameEn&&Object.hasOwnProperty[_0x1dda("0x3")](d,"nameEn")&&x[_0x1dda("0x567")](66)[_0x1dda("0xe")](d[_0x1dda("0x552")]),null!=d.adcode&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x553"))&&x[_0x1dda("0x567")](74)[_0x1dda("0xe")](d[_0x1dda("0x553")]),null!=d.AS&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"AS")&&x.uint32(81).double(d.AS),null!=d[_0x1dda("0x554")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"AngleX")&&x.uint32(89)[_0x1dda("0x56b")](d[_0x1dda("0x554")]),null!=d[_0x1dda("0x56c")]&&Object[_0x1dda("0x2")].call(d,_0x1dda("0x56c"))&&x[_0x1dda("0x567")](97)[_0x1dda("0x56b")](d[_0x1dda("0x56c")]),null!=d[_0x1dda("0x555")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x555"))&&x.uint32(105).double(d[_0x1dda("0x555")]),null!=d.x&&Object.hasOwnProperty[_0x1dda("0x3")](d,"x")&&x[_0x1dda("0x567")](113)[_0x1dda("0x56b")](d.x),null!=d.y&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"y")&&x[_0x1dda("0x567")](121).double(d.y),null!=d.z&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"z")&&x[_0x1dda("0x567")](129)[_0x1dda("0x56b")](d.z),null!=d[_0x1dda("0x556")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x556"))&&x[_0x1dda("0x567")](136)[_0x1dda("0x56d")](d[_0x1dda("0x556")]),null!=d.minY&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x558"))&&x[_0x1dda("0x567")](144)[_0x1dda("0x56d")](d[_0x1dda("0x558")]),null!=d.maxX&&Object[_0x1dda("0x2")].call(d,_0x1dda("0x559"))&&x.uint32(152)[_0x1dda("0x56d")](d.maxX),null!=d[_0x1dda("0x55b")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x55b"))&&x[_0x1dda("0x567")](160)[_0x1dda("0x56d")](d[_0x1dda("0x55b")]),null!=d.offsetbid&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x56e"))&&x.uint32(170).string(d[_0x1dda("0x56e")]),null!=d[_0x1dda("0x56f")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"offsetroad")&&x[_0x1dda("0x567")](178).string(d[_0x1dda("0x56f")]),null!=d[_0x1dda("0x55c")]&&Object.hasOwnProperty[_0x1dda("0x3")](d,"tileurl")&&x.uint32(186).string(d[_0x1dda("0x55c")]),null!=d.bidnums&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x55d"))&&x[_0x1dda("0x567")](192)[_0x1dda("0x568")](d.bidnums),null!=d[_0x1dda("0x55e")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x55e"))&&x[_0x1dda("0x567")](200)[_0x1dda("0x568")](d[_0x1dda("0x55e")]),null!=d[_0x1dda("0x55f")]&&Object.hasOwnProperty[_0x1dda("0x3")](d,"Remark")&&x[_0x1dda("0x567")](210)[_0x1dda("0xe")](d[_0x1dda("0x55f")]),null!=d[_0x1dda("0x560")]&&Object[_0x1dda("0x2")].call(d,_0x1dda("0x560"))&&x[_0x1dda("0x567")](218)[_0x1dda("0xe")](d[_0x1dda("0x560")]),null!=d[_0x1dda("0x88")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x88"))&&x.uint32(226)[_0x1dda("0xe")](d[_0x1dda("0x88")]),null!=d[_0x1dda("0x570")]&&Object[_0x1dda("0x2")].call(d,"cids")&&x[_0x1dda("0x567")](234)[_0x1dda("0xe")](d[_0x1dda("0x570")]),null!=d.logotoken&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"logotoken")&&x[_0x1dda("0x567")](242)[_0x1dda("0xe")](d[_0x1dda("0x571")]),null!=d[_0x1dda("0x561")]&&Object[_0x1dda("0x2")].call(d,_0x1dda("0x561"))&&x[_0x1dda("0x567")](250)[_0x1dda("0xe")](d[_0x1dda("0x561")]),null!=d.o1&&Object[_0x1dda("0x2")].call(d,"o1")&&x[_0x1dda("0x567")](256).int32(d.o1),null!=d.o2&&Object[_0x1dda("0x2")].call(d,"o2")&&x[_0x1dda("0x567")](264).int32(d.o2),null!=d.ul&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"ul")&&x[_0x1dda("0x567")](272)[_0x1dda("0x568")](d.ul),null!=d[_0x1dda("0x562")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x562"))&&x[_0x1dda("0x567")](282)[_0x1dda("0xe")](d[_0x1dda("0x562")]),null!=d.other2&&Object[_0x1dda("0x2")].call(d,_0x1dda("0x572"))&&x.uint32(290).string(d[_0x1dda("0x572")]),null!=d.l1&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"l1")&&x[_0x1dda("0x567")](296)[_0x1dda("0x568")](d.l1),null!=d.l2&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"l2")&&x[_0x1dda("0x567")](304)[_0x1dda("0x568")](d.l2),null!=d.l3&&Object[_0x1dda("0x2")].call(d,"l3")&&x[_0x1dda("0x567")](312)[_0x1dda("0x568")](d.l3),null!=d.l4&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,"l4")&&x[_0x1dda("0x567")](320)[_0x1dda("0x568")](d.l4),null!=d[_0x1dda("0x563")]&&Object[_0x1dda("0x2")].call(d,_0x1dda("0x563"))&&x[_0x1dda("0x567")](330)[_0x1dda("0xe")](d[_0x1dda("0x563")]),null!=d[_0x1dda("0x573")]&&Object[_0x1dda("0x2")][_0x1dda("0x3")](d,_0x1dda("0x573"))&&x[_0x1dda("0x567")](338)[_0x1dda("0xe")](d[_0x1dda("0x573")]),null!=d[_0x1dda("0x564")]&&Object[_0x1dda("0x2")].call(d,_0x1dda("0x564"))&&x[_0x1dda("0x567")](346)[_0x1dda("0xe")](d[_0x1dda("0x564")]),null!=d.fs&&Object.hasOwnProperty[_0x1dda("0x3")](d,"fs")&&x[_0x1dda("0x567")](352).int32(d.fs),x},a.encodeDelimited=function(d,x){return this.encode(d,x).ldelim()},a[_0x1dda("0x45")]=function(a,_){a instanceof n||(a=n.create(a));for(var e=void 0===_?a[_0x1dda("0x574")]:a[_0x1dda("0x3d8")]+_,t=new(o[_0x1dda("0x575")]);a.pos<e;){var i=a[_0x1dda("0x567")]();switch(i>>>3){case 1:t.v=a[_0x1dda("0x568")]();break;case 2:t[_0x1dda("0x569")]=a.int32();break;case 3:t[_0x1dda("0x56a")]=a[_0x1dda("0xe")]();break;case 4:t[_0x1dda("0x551")]=a.string();break;case 5:t[_0x1dda("0x3a0")]=a.int32();break;case 6:t[_0x1dda("0x43")]=a.int32();break;case 7:t[_0x1dda("0xfc")]=a[_0x1dda("0xe")]();break;case 8:t.nameEn=a.string();break;case 9:t[_0x1dda("0x553")]=a[_0x1dda("0xe")]();break;case 10:t.AS=a[_0x1dda("0x56b")]();break;case 11:t[_0x1dda("0x554")]=a[_0x1dda("0x56b")]();break;case 12:t.AngleY=a[_0x1dda("0x56b")]();break;case 13:t[_0x1dda("0x555")]=a.double();break;case 14:t.x=a[_0x1dda("0x56b")]();break;case 15:t.y=a[_0x1dda("0x56b")]();break;case 16:t.z=a.double();break;case 17:t[_0x1dda("0x556")]=a.int64();break;case 18:t[_0x1dda("0x558")]=a[_0x1dda("0x56d")]();break;case 19:t[_0x1dda("0x559")]=a[_0x1dda("0x56d")]();break;case 20:t.maxY=a.int64();break;case 21:t[_0x1dda("0x56e")]=a.string();break;case 22:t[_0x1dda("0x56f")]=a[_0x1dda("0xe")]();break;case 23:t[_0x1dda("0x55c")]=a.string();break;case 24:t[_0x1dda("0x55d")]=a.int32();break;case 25:t.modnums=a.int32();break;case 26:t[_0x1dda("0x55f")]=a[_0x1dda("0xe")]();break;case 27:t[_0x1dda("0x560")]=a[_0x1dda("0xe")]();break;case 28:t[_0x1dda("0x88")]=a[_0x1dda("0xe")]();break;case 29:t[_0x1dda("0x570")]=a[_0x1dda("0xe")]();break;case 30:t[_0x1dda("0x571")]=a[_0x1dda("0xe")]();break;case 31:t[_0x1dda("0x561")]=a[_0x1dda("0xe")]();break;case 32:t.o1=a[_0x1dda("0x568")]();break;case 33:t.o2=a[_0x1dda("0x568")]();break;case 34:t.ul=a.int32();break;case 35:t[_0x1dda("0x562")]=a[_0x1dda("0xe")]();break;case 36:t[_0x1dda("0x572")]=a.string();break;case 37:t.l1=a[_0x1dda("0x568")]();break;case 38:t.l2=a[_0x1dda("0x568")]();break;case 39:t.l3=a[_0x1dda("0x568")]();break;case 40:t.l4=a[_0x1dda("0x568")]();break;case 41:t[_0x1dda("0x563")]=a[_0x1dda("0xe")]();break;case 42:t[_0x1dda("0x573")]=a.string();break;case 43:t.bidlist=a.string();break;case 44:t.fs=a[_0x1dda("0x568")]();break;default:a[_0x1dda("0x576")](7&i)}}return x=t[_0x1dda("0x569")]+t.Hash+t[_0x1dda("0x88")]+t[_0x1dda("0x571")]+t.ul+t.o1+t.o2+t.tiletoken,d=t,t},a.comparehs=function(){var a=d.mtime+d.Hash+d[_0x1dda("0x88")]+d.logotoken+d.ul+d.o1+d.o2+d[_0x1dda("0x561")];return x===a},a[_0x1dda("0x577")]=function(d){return d instanceof n||(d=new n(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},a[_0x1dda("0x578")]=function(d){return(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d?_0x1dda("0x579"):null!=d.v&&d.hasOwnProperty("v")&&!s.isInteger(d.v)?_0x1dda("0x57a"):null!=d[_0x1dda("0x569")]&&d.hasOwnProperty(_0x1dda("0x569"))&&!s[_0x1dda("0x57b")](d[_0x1dda("0x569")])?_0x1dda("0x57c"):null!=d.ltime&&d.hasOwnProperty(_0x1dda("0x56a"))&&!s.isString(d[_0x1dda("0x56a")])?_0x1dda("0x57d"):null!=d[_0x1dda("0x551")]&&d.hasOwnProperty("Hash")&&!s[_0x1dda("0x332")](d[_0x1dda("0x551")])?_0x1dda("0x57e"):null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!s[_0x1dda("0x57b")](d._id)?_0x1dda("0x57f"):null!=d[_0x1dda("0x43")]&&d[_0x1dda("0x2")](_0x1dda("0x43"))&&!s[_0x1dda("0x57b")](d[_0x1dda("0x43")])?_0x1dda("0x580"):null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&!s.isString(d[_0x1dda("0xfc")])?_0x1dda("0x581"):null!=d[_0x1dda("0x552")]&&d[_0x1dda("0x2")]("nameEn")&&!s[_0x1dda("0x332")](d.nameEn)?_0x1dda("0x582"):null!=d[_0x1dda("0x553")]&&d[_0x1dda("0x2")](_0x1dda("0x553"))&&!s[_0x1dda("0x332")](d.adcode)?_0x1dda("0x583"):null!=d.AS&&d.hasOwnProperty("AS")&&typeof d.AS!==_0x1dda("0x177")?_0x1dda("0x584"):null!=d[_0x1dda("0x554")]&&d.hasOwnProperty(_0x1dda("0x554"))&&typeof d[_0x1dda("0x554")]!==_0x1dda("0x177")?_0x1dda("0x585"):null!=d[_0x1dda("0x56c")]&&d[_0x1dda("0x2")](_0x1dda("0x56c"))&&typeof d[_0x1dda("0x56c")]!==_0x1dda("0x177")?"AngleY: number expected":null!=d[_0x1dda("0x555")]&&d.hasOwnProperty(_0x1dda("0x555"))&&typeof d[_0x1dda("0x555")]!==_0x1dda("0x177")?_0x1dda("0x586"):null!=d.x&&d[_0x1dda("0x2")]("x")&&typeof d.x!==_0x1dda("0x177")?_0x1dda("0x587"):null!=d.y&&d[_0x1dda("0x2")]("y")&&typeof d.y!==_0x1dda("0x177")?_0x1dda("0x588"):null!=d.z&&d[_0x1dda("0x2")]("z")&&typeof d.z!==_0x1dda("0x177")?_0x1dda("0x589"):null!=d[_0x1dda("0x556")]&&d[_0x1dda("0x2")](_0x1dda("0x556"))&&!(s[_0x1dda("0x57b")](d.minX)||d[_0x1dda("0x556")]&&s[_0x1dda("0x57b")](d[_0x1dda("0x556")][_0x1dda("0x58a")])&&s.isInteger(d.minX[_0x1dda("0x58b")]))?_0x1dda("0x58c"):null!=d[_0x1dda("0x558")]&&d[_0x1dda("0x2")](_0x1dda("0x558"))&&!(s[_0x1dda("0x57b")](d.minY)||d[_0x1dda("0x558")]&&s[_0x1dda("0x57b")](d[_0x1dda("0x558")][_0x1dda("0x58a")])&&s[_0x1dda("0x57b")](d[_0x1dda("0x558")][_0x1dda("0x58b")]))?"minY: integer|Long expected":null!=d[_0x1dda("0x559")]&&d[_0x1dda("0x2")](_0x1dda("0x559"))&&!(s[_0x1dda("0x57b")](d[_0x1dda("0x559")])||d[_0x1dda("0x559")]&&s[_0x1dda("0x57b")](d[_0x1dda("0x559")][_0x1dda("0x58a")])&&s[_0x1dda("0x57b")](d[_0x1dda("0x559")][_0x1dda("0x58b")]))?_0x1dda("0x58d"):null!=d[_0x1dda("0x55b")]&&d[_0x1dda("0x2")](_0x1dda("0x55b"))&&!(s[_0x1dda("0x57b")](d.maxY)||d.maxY&&s.isInteger(d[_0x1dda("0x55b")][_0x1dda("0x58a")])&&s.isInteger(d[_0x1dda("0x55b")][_0x1dda("0x58b")]))?_0x1dda("0x58e"):null!=d[_0x1dda("0x56e")]&&d.hasOwnProperty(_0x1dda("0x56e"))&&!s.isString(d.offsetbid)?"offsetbid: string expected":null!=d[_0x1dda("0x56f")]&&d[_0x1dda("0x2")]("offsetroad")&&!s[_0x1dda("0x332")](d.offsetroad)?_0x1dda("0x58f"):null!=d[_0x1dda("0x55c")]&&d[_0x1dda("0x2")](_0x1dda("0x55c"))&&!s.isString(d.tileurl)?"tileurl: string expected":null!=d[_0x1dda("0x55d")]&&d[_0x1dda("0x2")](_0x1dda("0x55d"))&&!s[_0x1dda("0x57b")](d[_0x1dda("0x55d")])?_0x1dda("0x590"):null!=d[_0x1dda("0x55e")]&&d[_0x1dda("0x2")]("modnums")&&!s[_0x1dda("0x57b")](d[_0x1dda("0x55e")])?_0x1dda("0x591"):null!=d[_0x1dda("0x55f")]&&d[_0x1dda("0x2")](_0x1dda("0x55f"))&&!s.isString(d[_0x1dda("0x55f")])?_0x1dda("0x592"):null!=d[_0x1dda("0x560")]&&d[_0x1dda("0x2")](_0x1dda("0x560"))&&!s.isString(d[_0x1dda("0x560")])?_0x1dda("0x593"):null!=d[_0x1dda("0x88")]&&d[_0x1dda("0x2")](_0x1dda("0x88"))&&!s[_0x1dda("0x332")](d[_0x1dda("0x88")])?"token: string expected":null!=d[_0x1dda("0x570")]&&d.hasOwnProperty(_0x1dda("0x570"))&&!s.isString(d[_0x1dda("0x570")])?_0x1dda("0x594"):null!=d.logotoken&&d[_0x1dda("0x2")]("logotoken")&&!s[_0x1dda("0x332")](d.logotoken)?"logotoken: string expected":null!=d[_0x1dda("0x561")]&&d[_0x1dda("0x2")](_0x1dda("0x561"))&&!s.isString(d[_0x1dda("0x561")])?"tiletoken: string expected":null!=d.o1&&d[_0x1dda("0x2")]("o1")&&!s[_0x1dda("0x57b")](d.o1)?_0x1dda("0x595"):null!=d.o2&&d[_0x1dda("0x2")]("o2")&&!s[_0x1dda("0x57b")](d.o2)?"o2: integer expected":null!=d.ul&&d[_0x1dda("0x2")]("ul")&&!s.isInteger(d.ul)?"ul: integer expected":null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!s[_0x1dda("0x332")](d.other1)?_0x1dda("0x596"):null!=d[_0x1dda("0x572")]&&d[_0x1dda("0x2")](_0x1dda("0x572"))&&!s[_0x1dda("0x332")](d[_0x1dda("0x572")])?_0x1dda("0x597"):null!=d.l1&&d[_0x1dda("0x2")]("l1")&&!s[_0x1dda("0x57b")](d.l1)?_0x1dda("0x598"):null!=d.l2&&d[_0x1dda("0x2")]("l2")&&!s.isInteger(d.l2)?_0x1dda("0x599"):null!=d.l3&&d.hasOwnProperty("l3")&&!s[_0x1dda("0x57b")](d.l3)?_0x1dda("0x59a"):null!=d.l4&&d[_0x1dda("0x2")]("l4")&&!s[_0x1dda("0x57b")](d.l4)?_0x1dda("0x59b"):null!=d.alist&&d[_0x1dda("0x2")](_0x1dda("0x563"))&&!s.isString(d[_0x1dda("0x563")])?_0x1dda("0x59c"):null!=d.eid&&d[_0x1dda("0x2")](_0x1dda("0x573"))&&!s[_0x1dda("0x332")](d[_0x1dda("0x573")])?_0x1dda("0x59d"):null!=d.bidlist&&d[_0x1dda("0x2")]("bidlist")&&!s[_0x1dda("0x332")](d.bidlist)?_0x1dda("0x59e"):null!=d.fs&&d[_0x1dda("0x2")]("fs")&&!s[_0x1dda("0x57b")](d.fs)?_0x1dda("0x59f"):null},a[_0x1dda("0x5a0")]=function(d){if(d instanceof o[_0x1dda("0x575")])return d;var x=new(o[_0x1dda("0x575")]);return null!=d.v&&(x.v=0|d.v),null!=d[_0x1dda("0x569")]&&(x.mtime=0|d[_0x1dda("0x569")]),null!=d[_0x1dda("0x56a")]&&(x[_0x1dda("0x56a")]=String(d[_0x1dda("0x56a")])),null!=d[_0x1dda("0x551")]&&(x[_0x1dda("0x551")]=String(d[_0x1dda("0x551")])),null!=d[_0x1dda("0x3a0")]&&(x._id=0|d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0x43")]&&(x[_0x1dda("0x43")]=0|d[_0x1dda("0x43")]),null!=d[_0x1dda("0xfc")]&&(x.name=String(d.name)),null!=d[_0x1dda("0x552")]&&(x[_0x1dda("0x552")]=String(d[_0x1dda("0x552")])),null!=d.adcode&&(x[_0x1dda("0x553")]=String(d[_0x1dda("0x553")])),null!=d.AS&&(x.AS=Number(d.AS)),null!=d[_0x1dda("0x554")]&&(x.AngleX=Number(d[_0x1dda("0x554")])),null!=d.AngleY&&(x.AngleY=Number(d[_0x1dda("0x56c")])),null!=d[_0x1dda("0x555")]&&(x[_0x1dda("0x555")]=Number(d[_0x1dda("0x555")])),null!=d.x&&(x.x=Number(d.x)),null!=d.y&&(x.y=Number(d.y)),null!=d.z&&(x.z=Number(d.z)),null!=d[_0x1dda("0x556")]&&(s[_0x1dda("0x557")]?(x.minX=s.Long[_0x1dda("0x5a1")](d[_0x1dda("0x556")]))[_0x1dda("0x5a2")]=!1:"string"==typeof d[_0x1dda("0x556")]?x[_0x1dda("0x556")]=parseInt(d[_0x1dda("0x556")],10):typeof d[_0x1dda("0x556")]===_0x1dda("0x177")?x[_0x1dda("0x556")]=d[_0x1dda("0x556")]:(0,_[_0x1dda("0xd")])(d[_0x1dda("0x556")])===_0x1dda("0x1b")&&(x[_0x1dda("0x556")]=new(s[_0x1dda("0x5a3")])(d[_0x1dda("0x556")][_0x1dda("0x58a")]>>>0,d[_0x1dda("0x556")][_0x1dda("0x58b")]>>>0).toNumber())),null!=d.minY&&(s[_0x1dda("0x557")]?(x.minY=s[_0x1dda("0x557")][_0x1dda("0x5a1")](d[_0x1dda("0x558")])).unsigned=!1:typeof d[_0x1dda("0x558")]===_0x1dda("0xe")?x[_0x1dda("0x558")]=parseInt(d[_0x1dda("0x558")],10):typeof d[_0x1dda("0x558")]===_0x1dda("0x177")?x[_0x1dda("0x558")]=d[_0x1dda("0x558")]:(0,_[_0x1dda("0xd")])(d[_0x1dda("0x558")])===_0x1dda("0x1b")&&(x.minY=new(s[_0x1dda("0x5a3")])(d[_0x1dda("0x558")].low>>>0,d[_0x1dda("0x558")][_0x1dda("0x58b")]>>>0)[_0x1dda("0x5a4")]())),null!=d[_0x1dda("0x559")]&&(s.Long?(x[_0x1dda("0x559")]=s[_0x1dda("0x557")][_0x1dda("0x5a1")](d.maxX))[_0x1dda("0x5a2")]=!1:typeof d[_0x1dda("0x559")]===_0x1dda("0xe")?x[_0x1dda("0x559")]=parseInt(d[_0x1dda("0x559")],10):typeof d[_0x1dda("0x559")]===_0x1dda("0x177")?x[_0x1dda("0x559")]=d[_0x1dda("0x559")]:(0,_[_0x1dda("0xd")])(d.maxX)===_0x1dda("0x1b")&&(x[_0x1dda("0x559")]=new(s[_0x1dda("0x5a3")])(d[_0x1dda("0x559")][_0x1dda("0x58a")]>>>0,d[_0x1dda("0x559")][_0x1dda("0x58b")]>>>0)[_0x1dda("0x5a4")]())),null!=d[_0x1dda("0x55b")]&&(s[_0x1dda("0x557")]?(x[_0x1dda("0x55b")]=s.Long.fromValue(d[_0x1dda("0x55b")]))[_0x1dda("0x5a2")]=!1:typeof d[_0x1dda("0x55b")]===_0x1dda("0xe")?x[_0x1dda("0x55b")]=parseInt(d.maxY,10):"number"==typeof d.maxY?x[_0x1dda("0x55b")]=d[_0x1dda("0x55b")]:(0,_[_0x1dda("0xd")])(d.maxY)===_0x1dda("0x1b")&&(x[_0x1dda("0x55b")]=new(s[_0x1dda("0x5a3")])(d[_0x1dda("0x55b")].low>>>0,d[_0x1dda("0x55b")][_0x1dda("0x58b")]>>>0)[_0x1dda("0x5a4")]())),null!=d[_0x1dda("0x56e")]&&(x[_0x1dda("0x56e")]=String(d.offsetbid)),null!=d[_0x1dda("0x56f")]&&(x[_0x1dda("0x56f")]=String(d.offsetroad)),null!=d.tileurl&&(x.tileurl=String(d[_0x1dda("0x55c")])),null!=d[_0x1dda("0x55d")]&&(x[_0x1dda("0x55d")]=0|d[_0x1dda("0x55d")]),null!=d[_0x1dda("0x55e")]&&(x[_0x1dda("0x55e")]=0|d[_0x1dda("0x55e")]),null!=d[_0x1dda("0x55f")]&&(x[_0x1dda("0x55f")]=String(d[_0x1dda("0x55f")])),null!=d[_0x1dda("0x560")]&&(x[_0x1dda("0x560")]=String(d[_0x1dda("0x560")])),null!=d[_0x1dda("0x88")]&&(x[_0x1dda("0x88")]=String(d[_0x1dda("0x88")])),null!=d.cids&&(x[_0x1dda("0x570")]=String(d[_0x1dda("0x570")])),null!=d[_0x1dda("0x571")]&&(x[_0x1dda("0x571")]=String(d[_0x1dda("0x571")])),null!=d[_0x1dda("0x561")]&&(x[_0x1dda("0x561")]=String(d[_0x1dda("0x561")])),null!=d.o1&&(x.o1=0|d.o1),null!=d.o2&&(x.o2=0|d.o2),null!=d.ul&&(x.ul=0|d.ul),null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d[_0x1dda("0x562")])),null!=d.other2&&(x.other2=String(d.other2)),null!=d.l1&&(x.l1=0|d.l1),null!=d.l2&&(x.l2=0|d.l2),null!=d.l3&&(x.l3=0|d.l3),null!=d.l4&&(x.l4=0|d.l4),null!=d[_0x1dda("0x563")]&&(x[_0x1dda("0x563")]=String(d[_0x1dda("0x563")])),null!=d[_0x1dda("0x573")]&&(x.eid=String(d[_0x1dda("0x573")])),null!=d[_0x1dda("0x564")]&&(x[_0x1dda("0x564")]=String(d[_0x1dda("0x564")])),null!=d.fs&&(x.fs=0|d.fs),x},a.toObject=function(d,x){x||(x={});var a={};if(x[_0x1dda("0x5a5")]){if(a.v=0,a[_0x1dda("0x569")]=0,a[_0x1dda("0x56a")]="",a[_0x1dda("0x551")]="",a[_0x1dda("0x3a0")]=0,a[_0x1dda("0x43")]=0,a[_0x1dda("0xfc")]="",a[_0x1dda("0x552")]="",a.adcode="",a.AS=0,a.AngleX=0,a.AngleY=0,a.AngleZ=0,a.x=0,a.y=0,a.z=0,s[_0x1dda("0x557")]){var _=new(s[_0x1dda("0x557")])(0,0,!1);a[_0x1dda("0x556")]=x[_0x1dda("0x5a6")]===String?_[_0x1dda("0x2e")]():x.longs===Number?_.toNumber():_}else a[_0x1dda("0x556")]=x[_0x1dda("0x5a6")]===String?"0":0;if(s[_0x1dda("0x557")]){_=new(s[_0x1dda("0x557")])(0,0,!1);a[_0x1dda("0x558")]=x.longs===String?_[_0x1dda("0x2e")]():x[_0x1dda("0x5a6")]===Number?_.toNumber():_}else a[_0x1dda("0x558")]=x[_0x1dda("0x5a6")]===String?"0":0;if(s.Long){_=new(s[_0x1dda("0x557")])(0,0,!1);a.maxX=x[_0x1dda("0x5a6")]===String?_[_0x1dda("0x2e")]():x.longs===Number?_[_0x1dda("0x5a4")]():_}else a[_0x1dda("0x559")]=x[_0x1dda("0x5a6")]===String?"0":0;if(s[_0x1dda("0x557")]){_=new(s[_0x1dda("0x557")])(0,0,!1);a.maxY=x[_0x1dda("0x5a6")]===String?_[_0x1dda("0x2e")]():x[_0x1dda("0x5a6")]===Number?_.toNumber():_}else a[_0x1dda("0x55b")]=x.longs===String?"0":0;a.offsetbid="",a[_0x1dda("0x56f")]="",a[_0x1dda("0x55c")]="",a.bidnums=0,a.modnums=0,a.Remark="",a[_0x1dda("0x560")]="",a[_0x1dda("0x88")]="",a.cids="",a[_0x1dda("0x571")]="",a[_0x1dda("0x561")]="",a.o1=0,a.o2=0,a.ul=0,a[_0x1dda("0x562")]="",a[_0x1dda("0x572")]="",a.l1=0,a.l2=0,a.l3=0,a.l4=0,a[_0x1dda("0x563")]="",a[_0x1dda("0x573")]="",a[_0x1dda("0x564")]="",a.fs=0}return null!=d.v&&d[_0x1dda("0x2")]("v")&&(a.v=d.v),null!=d[_0x1dda("0x569")]&&d.hasOwnProperty(_0x1dda("0x569"))&&(a[_0x1dda("0x569")]=d[_0x1dda("0x569")]),null!=d[_0x1dda("0x56a")]&&d[_0x1dda("0x2")](_0x1dda("0x56a"))&&(a.ltime=d[_0x1dda("0x56a")]),null!=d[_0x1dda("0x551")]&&d[_0x1dda("0x2")](_0x1dda("0x551"))&&(a.Hash=d.Hash),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d._id),null!=d.tid&&d[_0x1dda("0x2")](_0x1dda("0x43"))&&(a[_0x1dda("0x43")]=d[_0x1dda("0x43")]),null!=d.name&&d.hasOwnProperty(_0x1dda("0xfc"))&&(a[_0x1dda("0xfc")]=d[_0x1dda("0xfc")]),null!=d[_0x1dda("0x552")]&&d.hasOwnProperty(_0x1dda("0x552"))&&(a[_0x1dda("0x552")]=d[_0x1dda("0x552")]),null!=d.adcode&&d[_0x1dda("0x2")](_0x1dda("0x553"))&&(a[_0x1dda("0x553")]=d[_0x1dda("0x553")]),null!=d.AS&&d[_0x1dda("0x2")]("AS")&&(a.AS=x[_0x1dda("0xf4")]&&!isFinite(d.AS)?String(d.AS):d.AS),null!=d[_0x1dda("0x554")]&&d[_0x1dda("0x2")](_0x1dda("0x554"))&&(a[_0x1dda("0x554")]=x[_0x1dda("0xf4")]&&!isFinite(d[_0x1dda("0x554")])?String(d[_0x1dda("0x554")]):d[_0x1dda("0x554")]),null!=d.AngleY&&d.hasOwnProperty(_0x1dda("0x56c"))&&(a[_0x1dda("0x56c")]=x[_0x1dda("0xf4")]&&!isFinite(d[_0x1dda("0x56c")])?String(d[_0x1dda("0x56c")]):d[_0x1dda("0x56c")]),null!=d[_0x1dda("0x555")]&&d[_0x1dda("0x2")](_0x1dda("0x555"))&&(a[_0x1dda("0x555")]=x.json&&!isFinite(d[_0x1dda("0x555")])?String(d[_0x1dda("0x555")]):d[_0x1dda("0x555")]),null!=d.x&&d.hasOwnProperty("x")&&(a.x=x[_0x1dda("0xf4")]&&!isFinite(d.x)?String(d.x):d.x),null!=d.y&&d[_0x1dda("0x2")]("y")&&(a.y=x[_0x1dda("0xf4")]&&!isFinite(d.y)?String(d.y):d.y),null!=d.z&&d.hasOwnProperty("z")&&(a.z=x.json&&!isFinite(d.z)?String(d.z):d.z),null!=d[_0x1dda("0x556")]&&d[_0x1dda("0x2")](_0x1dda("0x556"))&&(typeof d.minX===_0x1dda("0x177")?a[_0x1dda("0x556")]=x[_0x1dda("0x5a6")]===String?String(d[_0x1dda("0x556")]):d.minX:a.minX=x[_0x1dda("0x5a6")]===String?s[_0x1dda("0x557")].prototype[_0x1dda("0x2e")][_0x1dda("0x3")](d.minX):x[_0x1dda("0x5a6")]===Number?new(s[_0x1dda("0x5a3")])(d[_0x1dda("0x556")].low>>>0,d.minX.high>>>0)[_0x1dda("0x5a4")]():d[_0x1dda("0x556")]),null!=d[_0x1dda("0x558")]&&d.hasOwnProperty(_0x1dda("0x558"))&&(typeof d.minY===_0x1dda("0x177")?a[_0x1dda("0x558")]=x.longs===String?String(d[_0x1dda("0x558")]):d.minY:a[_0x1dda("0x558")]=x[_0x1dda("0x5a6")]===String?s[_0x1dda("0x557")][_0x1dda("0x1")][_0x1dda("0x2e")][_0x1dda("0x3")](d.minY):x[_0x1dda("0x5a6")]===Number?new(s[_0x1dda("0x5a3")])(d.minY.low>>>0,d[_0x1dda("0x558")].high>>>0)[_0x1dda("0x5a4")]():d.minY),null!=d[_0x1dda("0x559")]&&d[_0x1dda("0x2")]("maxX")&&(typeof d[_0x1dda("0x559")]===_0x1dda("0x177")?a[_0x1dda("0x559")]=x[_0x1dda("0x5a6")]===String?String(d[_0x1dda("0x559")]):d[_0x1dda("0x559")]:a[_0x1dda("0x559")]=x[_0x1dda("0x5a6")]===String?s.Long[_0x1dda("0x1")][_0x1dda("0x2e")][_0x1dda("0x3")](d[_0x1dda("0x559")]):x[_0x1dda("0x5a6")]===Number?new s.LongBits(d[_0x1dda("0x559")][_0x1dda("0x58a")]>>>0,d[_0x1dda("0x559")][_0x1dda("0x58b")]>>>0)[_0x1dda("0x5a4")]():d[_0x1dda("0x559")]),null!=d[_0x1dda("0x55b")]&&d[_0x1dda("0x2")](_0x1dda("0x55b"))&&(typeof d[_0x1dda("0x55b")]===_0x1dda("0x177")?a[_0x1dda("0x55b")]=x[_0x1dda("0x5a6")]===String?String(d[_0x1dda("0x55b")]):d.maxY:a[_0x1dda("0x55b")]=x[_0x1dda("0x5a6")]===String?s[_0x1dda("0x557")][_0x1dda("0x1")][_0x1dda("0x2e")].call(d[_0x1dda("0x55b")]):x[_0x1dda("0x5a6")]===Number?new(s[_0x1dda("0x5a3")])(d.maxY.low>>>0,d[_0x1dda("0x55b")][_0x1dda("0x58b")]>>>0).toNumber():d[_0x1dda("0x55b")]),null!=d.offsetbid&&d[_0x1dda("0x2")]("offsetbid")&&(a[_0x1dda("0x56e")]=d[_0x1dda("0x56e")]),null!=d[_0x1dda("0x56f")]&&d.hasOwnProperty(_0x1dda("0x56f"))&&(a[_0x1dda("0x56f")]=d[_0x1dda("0x56f")]),null!=d[_0x1dda("0x55c")]&&d[_0x1dda("0x2")](_0x1dda("0x55c"))&&(a[_0x1dda("0x55c")]=d[_0x1dda("0x55c")]),null!=d.bidnums&&d[_0x1dda("0x2")](_0x1dda("0x55d"))&&(a[_0x1dda("0x55d")]=d.bidnums),null!=d[_0x1dda("0x55e")]&&d[_0x1dda("0x2")](_0x1dda("0x55e"))&&(a[_0x1dda("0x55e")]=d.modnums),null!=d[_0x1dda("0x55f")]&&d[_0x1dda("0x2")](_0x1dda("0x55f"))&&(a[_0x1dda("0x55f")]=d[_0x1dda("0x55f")]),null!=d[_0x1dda("0x560")]&&d[_0x1dda("0x2")](_0x1dda("0x560"))&&(a[_0x1dda("0x560")]=d.styleid),null!=d[_0x1dda("0x88")]&&d[_0x1dda("0x2")]("token")&&(a.token=d[_0x1dda("0x88")]),null!=d[_0x1dda("0x570")]&&d[_0x1dda("0x2")]("cids")&&(a[_0x1dda("0x570")]=d.cids),null!=d.logotoken&&d[_0x1dda("0x2")](_0x1dda("0x571"))&&(a[_0x1dda("0x571")]=d[_0x1dda("0x571")]),null!=d.tiletoken&&d[_0x1dda("0x2")]("tiletoken")&&(a.tiletoken=d.tiletoken),null!=d.o1&&d[_0x1dda("0x2")]("o1")&&(a.o1=d.o1),null!=d.o2&&d[_0x1dda("0x2")]("o2")&&(a.o2=d.o2),null!=d.ul&&d[_0x1dda("0x2")]("ul")&&(a.ul=d.ul),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&(a[_0x1dda("0x562")]=d[_0x1dda("0x562")]),null!=d.other2&&d[_0x1dda("0x2")](_0x1dda("0x572"))&&(a[_0x1dda("0x572")]=d.other2),null!=d.l1&&d[_0x1dda("0x2")]("l1")&&(a.l1=d.l1),null!=d.l2&&d[_0x1dda("0x2")]("l2")&&(a.l2=d.l2),null!=d.l3&&d[_0x1dda("0x2")]("l3")&&(a.l3=d.l3),null!=d.l4&&d.hasOwnProperty("l4")&&(a.l4=d.l4),null!=d.alist&&d[_0x1dda("0x2")](_0x1dda("0x563"))&&(a.alist=d[_0x1dda("0x563")]),null!=d.eid&&d[_0x1dda("0x2")](_0x1dda("0x573"))&&(a.eid=d[_0x1dda("0x573")]),null!=d[_0x1dda("0x564")]&&d[_0x1dda("0x2")](_0x1dda("0x564"))&&(a.bidlist=d.bidlist),null!=d.fs&&d.hasOwnProperty("fs")&&(a.fs=d.fs),a},a[_0x1dda("0x1")][_0x1dda("0x5a7")]=function(){return this.constructor[_0x1dda("0x5a8")](this,i[_0x1dda("0x5a9")][_0x1dda("0x5aa")])},a.getTypeUrl=function(d){return void 0===d&&(d=_0x1dda("0x5ab")),d+_0x1dda("0x5ac")},a}(),d[_0x1dda("0x7")]=o},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x5ad")]=function(d){var x,a,_,e,t,i="QRSTUVWXYZabcdef"+_0x1dda("0x5ae")+_0x1dda("0x5af")+_0x1dda("0x5b0")+"=",n="",r="",s="",o=0;do{_=(x=d[_0x1dda("0x2d")](o++))>>4,e=(3&x)<<4|(a=d.charCodeAt(o++))>>4,t=(15&a)<<2|(r=d[_0x1dda("0x2d")](o++))>>6,s=63&r,isNaN(a)?t=s=64:isNaN(r)&&(s=64),n=n+i.charAt(_)+i[_0x1dda("0x5b1")](e)+i[_0x1dda("0x5b1")](t)+i[_0x1dda("0x5b1")](s),x=a=r="",_=e=t=s=""}while(o<d[_0x1dda("0x0")]);return n},x[_0x1dda("0x107")]=function(d,x){for(var a=_(d),e=0;e<16;e++)for(var t=0;t<a[_0x1dda("0x0")];t++)x[e]=x[e]^a[t]};var _=function(d){for(var x=[],a=0;a<d[_0x1dda("0x0")];a++)x[a]=d[_0x1dda("0x2d")](a);return x}},,,,function(d,x,a){"use strict";var _=o(a(113)),e=function(d){if(d&&d[_0x1dda("0xc")])return d;var x={};if(null!=d)for(var a in d)Object.prototype[_0x1dda("0x2")][_0x1dda("0x3")](d,a)&&(x[a]=d[a]);return x[_0x1dda("0xd")]=d,x}(a(166)),t=o(a(257)),i=a(73),n=a(24),r=o(a(139)),s=o(a(263));function o(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var c=e.THREE_;window.THREE=c;var l=window.em=c;window.esWorker=e[_0x1dda("0x5b2")];var f=window.esmap={version:_0x1dda("0x5b3"),minV:1,maxV:2};f.webgl2=!1,f[_0x1dda("0x190")]=s[_0x1dda("0xd")],window[_0x1dda("0xdd")][_0x1dda("0x5b4")]=r[_0x1dda("0xd")],f[_0x1dda("0x86")]=t.default,f[_0x1dda("0x19d")]=i[_0x1dda("0x19d")],f.MessagePoster=n[_0x1dda("0xb1")],a(264),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(273),a(274),a(275),c[_0x1dda("0x5b5")]=function(){this[_0x1dda("0x5b6")]=[]},c.Promise[_0x1dda("0x18a")]=function(d){var x=new c.Promise;return setTimeout((function(){x.resolve()}),d),x},c[_0x1dda("0x5b5")][_0x1dda("0x1")]={constructor:c[_0x1dda("0x5b5")],then:function(d){return this[_0x1dda("0x5b6")][_0x1dda("0x10")](d),this},resolve:function(d){var x=this;setTimeout((function(){for(var d=0;d<x.callbacks[_0x1dda("0x0")];d++){var a=x[_0x1dda("0x5b6")][d]();if(a instanceof c[_0x1dda("0x5b5")])for(d++;d<x.callbacks[_0x1dda("0x0")];d++)a[_0x1dda("0x2ef")](x[_0x1dda("0x5b6")][d])}}),0)}},f[_0x1dda("0x5b7")]={EXTENT_EPSILON_Y:-.01,SCENE_AXIS:!1},f[_0x1dda("0x5b8")]={create:function(d,x){return new u(d,x)}},f[_0x1dda("0x5b9")]={setUrl:function(d){this[_0x1dda("0xe9")][_0x1dda("0x42")]&&this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0xe8")](),this.material[_0x1dda("0x42")]=f[_0x1dda("0x86")][_0x1dda("0x5ba")](d),this[_0x1dda("0xe9")][_0x1dda("0x42")].needsUpdate=!0}},f.ESDirection={NORTH:"n",SOUTH:"s",WEST:"w",EAST:"e",NORTH_EAST:"ne",NORTH_WEST:"nw",SOUTH_EAST:"se",SOUTH_WEST:"sw"},f[_0x1dda("0x39a")]={NONE:_0x1dda("0x5bb"),FLOOR_BASE:_0x1dda("0x5bc"),MODEL:_0x1dda("0x1ba"),MODEL_POI:_0x1dda("0x5bd"),MODEL_LABEL:_0x1dda("0x5be"),MODEL_LINE:_0x1dda("0x5bf"),MODEL_IMAGE:_0x1dda("0x5c0"),MODEL_BASE:_0x1dda("0x5c1"),MODEL3D:_0x1dda("0x1bb"),EXTERANL_MODEL:"externalModel",POLYGON_MARKER:_0x1dda("0x5c2"),LOCATION_MARKER:_0x1dda("0x5c3"),LINE_MARKER:_0x1dda("0x5c4"),IMAGE_MARKER:_0x1dda("0x5c5"),TEXT_MARKER:_0x1dda("0x5c6"),CARD_MARKER:_0x1dda("0x5c7"),BOARD_MARKER:_0x1dda("0x5c8"),MAP_ROAD:_0x1dda("0x5c9")},f[_0x1dda("0x5ca")]={MAN:1,CAR:2},f[_0x1dda("0x1b7")]={Building:(0,_[_0x1dda("0xd")])(1),City:(0,_[_0x1dda("0xd")])(2)},f[_0x1dda("0x5cb")]={NONE:(0,_[_0x1dda("0xd")])(0),SINGLE:(0,_[_0x1dda("0xd")])(1),PLANISH:(0,_.default)(2)},f[_0x1dda("0x357")]={NORMAL:_0x1dda("0x3fd"),NEAR:_0x1dda("0x5cc")},f.ESElementType={NONE:_0x1dda("0x5bb"),MODEL:_0x1dda("0x1ba"),MODEL_POI:_0x1dda("0x5cd"),MODEL_LABEL:_0x1dda("0x5be"),MODEL_IMAGE:"modelImage",MODEL_BASE:"modelBase",MODEL3D:"model3d",EXTERANL_MODEL:_0x1dda("0x5ce"),POLYGON_MARKER:_0x1dda("0x5c2")},f[_0x1dda("0x161")]={floorBase:10,model:76,polygonMarker:76,externalModel:20,label:77,facility:77,textMarker:77,imageMarker:77,locationMarker:78,cardMarker:77,transparentLine:76,lineObject:76,model3D:76,modelImage:76},f[_0x1dda("0x24d")]={EXPIRED:"This map has already expired,please contact esmap to download the latest map!",TOKEN_MISS:"Please provide the corresponding token!",TOKEN_ERR:_0x1dda("0x5cf"),VERS_ERR:_0x1dda("0x5d0"),ES3DMARKERNUM_ERR:_0x1dda("0x5d1"),AUDIO_TOKEN:"Cannot get audio token",ARRAY_REQUIRED:"Data type must be an array",VIEW_MODE2D_ALLFNUM:_0x1dda("0x5d2"),TOO_FAST:_0x1dda("0x5d3"),INVALID_TYPE:_0x1dda("0x5d4"),AUTH_EXPIRED:_0x1dda("0x5d5"),AUTH_FAILED:"License data error",INVALID_OFFLICENSE:_0x1dda("0x5d6"),AUTHO_REQUIRED:_0x1dda("0x5d7")},f[_0x1dda("0x126")]={NONE:0,FLOOR:4,MODEL:5,MODEL3D:6,MODEL_IMAGE:7,FACILITY:11,LABEL:12,LINE:21,IMAGE_MARKER:31,LINE_MARKER:35,TEXT_MARKER:32,LOCATION_MARKER:33,CARD_MARKER:34,POLYGON_MARKER:100,ALL:65535,ELEMENT:100},f[_0x1dda("0x5d8")]={PLANE:_0x1dda("0x11b"),CIRCLE:_0x1dda("0x14d")},f.ESLineType={FULL:_0x1dda("0x5d9"),DOTTED:"dotted",DOT_DASH:_0x1dda("0x5da"),CENTER:"center",DASH:_0x1dda("0x5db"),DOUBLE_DOT_DASH:_0x1dda("0x5dc"),TRI_DOT_DASH:_0x1dda("0x5dd"),NORMAL:_0x1dda("0x3fd"),ARROW:_0x1dda("0x158"),RAW:_0x1dda("0x5de"),ESARROW:"esarrow",TEXTURE:_0x1dda("0x5df")},f[_0x1dda("0x5e0")]={MODE_3D:"3D",MODE_2D:"2D"},f[_0x1dda("0x5e1")]={Map_CONTROL_SMALL:_0x1dda("0x5e2"),Map_CONTROL_NORMAL:"normal"},f.ESControlPositon={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4},f.ESBuildingType={TILE:1,BUILDING:2,BASE:3},window.onerror=function(d){f.ESMap=function(d){var x;x=d&&d[_0x1dda("0x352")]?d.container:document[_0x1dda("0x4a9")],(new(f[_0x1dda("0x5e3")]))[_0x1dda("0x5e4")](x)},window.onerror=null};var u=a(276)[_0x1dda("0xd")],h=a(277)[_0x1dda("0xd")];f[_0x1dda("0x5e3")]=a(73)[_0x1dda("0xd")],l[_0x1dda("0x5e5")]=a(326)[_0x1dda("0xd")],f.ESComposerRender=a(327)[_0x1dda("0xd")],f[_0x1dda("0x5e6")]=a(328).default,f[_0x1dda("0x5e7")]=a(334)[_0x1dda("0xd")],f[_0x1dda("0x237")]=a(335)[_0x1dda("0xd")],f.dynamicBufferGeometry=a(149).dynamicBufferGeometry,f[_0x1dda("0x3ff")]=a(31)[_0x1dda("0x3ff")],f.ESMapScene=a(336).default,f[_0x1dda("0x5e8")]=a(339)[_0x1dda("0xd")],f[_0x1dda("0x4f3")]=a(340)[_0x1dda("0xd")],f[_0x1dda("0x5e9")]=a(341)[_0x1dda("0xd")],f[_0x1dda("0x5ea")]=a(342).default,f[_0x1dda("0x2f7")]=a(148)[_0x1dda("0xd")],f[_0x1dda("0x5eb")]=a(343)[_0x1dda("0xd")],f[_0x1dda("0x3b1")]=a(344)[_0x1dda("0xd")],f.ESLabel=a(347).default,f.ESLocationMarker=a(348).default,f[_0x1dda("0x5ec")]=a(350)[_0x1dda("0xd")],f[_0x1dda("0x5ed")]=a(352)[_0x1dda("0xd")],f[_0x1dda("0x5ee")]=a(353)[_0x1dda("0xd")],f.ESTextMarker=a(354).default,f[_0x1dda("0x4f4")]=a(355)[_0x1dda("0xd")],f[_0x1dda("0x387")]=a(356)[_0x1dda("0xd")],f[_0x1dda("0x399")]=a(357)[_0x1dda("0xd")],f.ESControlOptions=a(358)[_0x1dda("0xd")],f[_0x1dda("0x5ef")]=a(359)[_0x1dda("0xd")],f[_0x1dda("0x5f0")]=a(360)[_0x1dda("0xd")],f[_0x1dda("0x5f1")]=a(361)[_0x1dda("0xd")],f[_0x1dda("0x5f2")]=a(362)[_0x1dda("0xd")],f[_0x1dda("0x5f3")]=a(367)[_0x1dda("0xd")],f[_0x1dda("0x5f4")]=a(368)[_0x1dda("0xd")],f[_0x1dda("0x5f5")]=a(369)[_0x1dda("0xd")],f.ESMapScaler=a(370).default,f[_0x1dda("0x5f6")]=a(371)[_0x1dda("0xd")],f[_0x1dda("0x5f7")]=a(372)[_0x1dda("0xd")],f.ESRoomTexture=a(112)[_0x1dda("0xd")],f[_0x1dda("0x5f8")]=function(){console[_0x1dda("0x1eb")](_0x1dda("0x5f9"))},f[_0x1dda("0x5fa")]=a(61)[_0x1dda("0xd")],f[_0x1dda("0x5fb")]=a(376)[_0x1dda("0xd")],f.ESLine=a(377)[_0x1dda("0xd")],f[_0x1dda("0x5fc")]=a(378)[_0x1dda("0xd")],f[_0x1dda("0x5fd")]=a(379)[_0x1dda("0xd")],f[_0x1dda("0x5fe")]=a(109)[_0x1dda("0xd")],f[_0x1dda("0x5ff")]=a(380)[_0x1dda("0xd")],f.ESMTT=a(110)[_0x1dda("0xd")],f.ESTexture=a(383)[_0x1dda("0xd")],a(384),f[_0x1dda("0x33")]=h,window.onerror=null},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(d,x,_){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var e=A(_(71)),t=A(_(45)),i=A(_(7)),n=A(_(8)),r=A(_(13)),s=A(_(25)),o=A(_(40)),c=A(_(60)),l=A(_(0)),f=A(_(1)),u=A(_(105)),h=A(_(260)),g=(_(4),_(261)),b=_(41),v=_(49),m=A(_(23));function A(d){return d&&d.__esModule?d:{default:d}}var C=1e-5,I=null,y=function(){function d(){(0,l[_0x1dda("0xd")])(this,d)}var x;return(0,f.default)(d,null,[{key:_0x1dda("0x410"),value:function(d){var x=d[_0x1dda("0x2a")](",");if(x.length<3&&(x=esmap[_0x1dda("0x86")][_0x1dda("0x600")](d)[_0x1dda("0x2a")](",")).length<3)return console[_0x1dda("0x1eb")](_0x1dda("0x601"),d),0;return parseInt(x[0])<<16|parseInt(x[1])<<8|parseInt(x[2])}},{key:"checkFunLevel",value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:0,x=esmap.ESMap.instance;return x[_0x1dda("0x36")]==esmap.MapMode[_0x1dda("0x1b8")]?x[_0x1dda("0x7d")][_0x1dda("0x7e")]("o2")/Math[_0x1dda("0xea")](10,d)%10:x.mapService[_0x1dda("0x7e")]("l"+d)}},{key:_0x1dda("0x602"),value:function(d){var x=d[_0x1dda("0x2a")](",");return"#"+((1<<24)+(parseInt(x[0])<<16)+(parseInt(x[1])<<8)+parseInt(x[2])).toString(16)[_0x1dda("0x11")](1)}},{key:_0x1dda("0x600"),value:function(d){var x=d[_0x1dda("0x318")]();if(x&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/[_0x1dda("0x29")](x)){if(4===x[_0x1dda("0x0")]){for(var a="#",_=1;_<4;_+=1)a+=x[_0x1dda("0x11")](_,_+1).concat(x[_0x1dda("0x11")](_,_+1));x=a}var e=[];for(_=1;_<7;_+=2)e[_0x1dda("0x10")](parseInt("0x"+x[_0x1dda("0x11")](_,_+2)));return e.join(",")}return x}},{key:"intersectPolygons",value:function(d,x){return(0,g[_0x1dda("0x603")])(d,x)}},{key:"containPolygons",value:function(d,x){return(0,g.containPolygon)(d,x)}},{key:_0x1dda("0x604"),value:function(d){var x=d[_0x1dda("0x2a")](",");return x[_0x1dda("0x0")]>=3?_0x1dda("0x605")+parseInt(x[0])+","+parseInt(x[1])+","+parseInt(x[2])+_0x1dda("0x606"):(console[_0x1dda("0x1eb")]("color format error",d),0)}},{key:_0x1dda("0x607"),value:function(d){return d&&d instanceof esmap[_0x1dda("0x4f4")]?d.mapScene:d[_0x1dda("0x180")]&&d[_0x1dda("0x180")].parent?esmap.ESMapUtil[_0x1dda("0x607")](d[_0x1dda("0x180")][_0x1dda("0xfe")].datas_):null}},{key:"getAlias",value:function(d){return d[_0x1dda("0x608")]||null}},{key:_0x1dda("0x609"),value:function(d){var x=esmap.ESMap[_0x1dda("0x34")][_0x1dda("0x226")];return d&&(x=esmap.ESMap[_0x1dda("0x34")][_0x1dda("0x60a")]),{target:x.target.x[_0x1dda("0x60b")](3)+","+x[_0x1dda("0x227")].y[_0x1dda("0x60b")](3)+","+x[_0x1dda("0x227")].z[_0x1dda("0x60b")](3),position:x[_0x1dda("0x1b")][_0x1dda("0xfa")].x[_0x1dda("0x60b")](3)+","+x.object[_0x1dda("0xfa")].y[_0x1dda("0x60b")](3)+","+x[_0x1dda("0x1b")][_0x1dda("0xfa")].z[_0x1dda("0x60b")](3)}}},{key:_0x1dda("0x60c"),value:function(d,x){var a=x-d;return Math.abs(a)>180&&(a=-1*(0,c.default)(a)*360+a),a}},{key:_0x1dda("0x60d"),value:function(d){var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")].controls,a=d.target.split(","),_=d.position.split(","),e=new(THREE[_0x1dda("0x11c")])(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])),t=new THREE.Vector3(parseFloat(_[0]),parseFloat(_[1]),parseFloat(_[2]));x[_0x1dda("0x227")][_0x1dda("0x20e")](e),x.object[_0x1dda("0xfa")][_0x1dda("0x20e")](t),x[_0x1dda("0x152")]()}},{key:"getPlatform",value:function(){for(var d=navigator.userAgent,x=new Array(_0x1dda("0x60e"),"iPhone",_0x1dda("0x60f"),_0x1dda("0x610"),_0x1dda("0x611"),"iPod"),a=!0,_="PC",e=!1,t=0;t<x[_0x1dda("0x0")];t++)if(d[_0x1dda("0xaf")](x[t])>0){a=!1,_=x[t],d[_0x1dda("0xaf")](_0x1dda("0x612"))>0&&(e=!0);break}return{isPC:a,isWX:e,platform:_}}},{key:"getTileNumsByPolygon",value:function(d){for(var x=esmap.ESMapUtil[_0x1dda("0x613")](d),a=(0,b[_0x1dda("0xe2")])(x[_0x1dda("0x559")],x.maxY,15),_=(0,b[_0x1dda("0xe2")])(x[_0x1dda("0x556")],x[_0x1dda("0x558")],15),e=_.x,t=a.x,i=_.y,n=a.y,r=[],s=e;s<=t;s++)for(var o=i;o<=n;o++){var c=s+"_"+o;r[_0x1dda("0x10")](c)}return r}},{key:"getSpriteScale",value:function(d,x){var a=null,_=100;if("3D"==d.viewMode){if("number"==typeof x)_=x;else{var e=null!=x?x.getWorldPosition(new(THREE[_0x1dda("0x11c")])):d[_0x1dda("0x226")][_0x1dda("0x227")];_=d.mapView[_0x1dda("0x614")].position[_0x1dda("0x117")](e)}a=2*esmap[_0x1dda("0x86")].getOrthoCameraSizeByPerspectiveCamera(d.mapView[_0x1dda("0x614")],d[_0x1dda("0x226")],_).top/d[_0x1dda("0x18b")]}else"2D"==d[_0x1dda("0x353")]&&(a=2*d.controls[_0x1dda("0x1b")].top/d[_0x1dda("0x226")][_0x1dda("0x1b")][_0x1dda("0x615")]/d[_0x1dda("0x18b")]);return a}},{key:"isArray",value:function(d){return Object.prototype.toString.call(d)==_0x1dda("0x616")}},{key:"computeCameraStateByBounds",value:function(d){var x={x:(d[_0x1dda("0x559")]-d.minX)/2+d[_0x1dda("0x556")],y:(d[_0x1dda("0x55b")]-d[_0x1dda("0x558")])/2+d[_0x1dda("0x558")]},a=esmap[_0x1dda("0x33")].instance;return{target:x,radius:Math[_0x1dda("0x2be")]((d.maxX-d[_0x1dda("0x556")])/2,(d[_0x1dda("0x55b")]-d[_0x1dda("0x558")])/2)/Math[_0x1dda("0x617")](a[_0x1dda("0x22b")][_0x1dda("0x618")]*(Math.PI/180)/2)}}},{key:"getOrthoCameraSizeByPerspectiveCamera",value:function(d,x,a){d instanceof esmap[_0x1dda("0x33")]&&(a=x,x=d[_0x1dda("0x226")],d=d[_0x1dda("0x19f")][_0x1dda("0x614")]);var _=d.fov,e=d.aspect,t=null!=a?a:x[_0x1dda("0x227")].distanceTo(d.position),i=Math.tan(_*THREE.Math[_0x1dda("0x619")]/2)*t;return{top:i||1,right:2*i*e/2}}},{key:_0x1dda("0x61a"),value:function(d,x,a,_,e){function t(d,x){if(_&&_(d)&&(x&&(d.o3d_=x),n[_0x1dda("0x10")](d)),e)return e==n[_0x1dda("0x0")]}var i,n=[];i=1==d[_0x1dda("0x1e3")]?d[_0x1dda("0x3b9")]:d[_0x1dda("0x61b")]?d[_0x1dda("0x61b")](x):d;var r=d[_0x1dda("0x38f")];if(r)for(var s in r)if(r[s]){var o=r[s][_0x1dda("0x61c")][0][_0x1dda("0x61d")],c=r[s][_0x1dda("0x61e")][0][_0x1dda("0x61f")],l=o.concat(c);for(var f in l){var u=l[f],h={ID:u[_0x1dda("0x620")],name:u[_0x1dda("0xfc")],mapCoord:{x:u[_0x1dda("0x621")],y:u[_0x1dda("0x622")]},dataID:u.FC,typeID:u.typeid,RoomHigh:u[_0x1dda("0x623")],RoomStyle:u.RoomStyle,buildingFnums:u[_0x1dda("0x17a")],mapId:u[_0x1dda("0x624")],nodeType:esmap[_0x1dda("0x126")][_0x1dda("0x625")],pending:!0};if(t(h,null))return n}}return i&&i[_0x1dda("0x3bb")](a,(function(d){if(null!=_)for(var x=d[_0x1dda("0x180")][_0x1dda("0xe6")][_0x1dda("0x0")],a=0;a<x;a++){var e=d.o3d_[_0x1dda("0xe6")][a][_0x1dda("0xe5")];if(e){var i=e[_0x1dda("0x424")],r=d[_0x1dda("0x180")][_0x1dda("0xe6")][a];if(i){for(var s=i[_0x1dda("0x0")],o=0;o<s;o++)if(t(i[o],r))return i[o].o3d_=r,n;if(d[_0x1dda("0x180")][_0x1dda("0xe6")][a][_0x1dda("0x153")][_0x1dda("0x1e8")])for(var c=d[_0x1dda("0x180")][_0x1dda("0xe6")][a][_0x1dda("0xe6")],l=c[_0x1dda("0x0")],f=0;f<l;f++)if(c[f][_0x1dda("0xe5")]&&t(c[f].datas_,c[f][_0x1dda("0xe5")].o3d_))return n}else if(e[_0x1dda("0x1e8")])r[_0x1dda("0xf8")]((function(d){if(d.datas_&&t(d[_0x1dda("0xe5")],d.o3d_))return d[_0x1dda("0xe5")]}));else if(t(e))return e[_0x1dda("0x180")]=r,n}}else n=d[_0x1dda("0x180")][_0x1dda("0xe6")][_0x1dda("0x104")]((function(d,x){return d[_0x1dda("0x10")][_0x1dda("0x5")](d,null!=x[_0x1dda("0xe5")][_0x1dda("0x424")]?x[_0x1dda("0xe5")].brothers:[x[_0x1dda("0xe5")]]),d}),[])})),n}},{key:_0x1dda("0x626"),value:function(d){var x=d[_0x1dda("0x123")],a=d[_0x1dda("0x2ec")],_=d[_0x1dda("0x12d")],e=d.time,t=d.callback;null==e&&(e=1);var i=[][_0x1dda("0x317")](x);_||(_=esmap.ESMap[_0x1dda("0x34")].id);var n=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x12b")](_),r=function(x){var _=i[x];if(x=n[_0x1dda("0x61b")](_)){var t=x[_0x1dda("0x180")];esmap.ESMapUtil.setAlpha({target:t,alpha:a,clonemat:!0,hideOnComplete:d.hideOnComplete,onUpdate:function(d){x[_0x1dda("0x180")].lastAlpha||(x[_0x1dda("0x180")][_0x1dda("0x627")]={}),x.o3d_[_0x1dda("0x627")].hasOwnProperty(d.uuid)||(x[_0x1dda("0x180")][_0x1dda("0x627")][d[_0x1dda("0x2c4")]]=d[_0x1dda("0x11d")])},time:e})}};for(var s in i)r(s);setTimeout((function(){t&&t()}),1e3*e)}},{key:_0x1dda("0x628"),value:function(d){var x=d[_0x1dda("0x123")],a=d[_0x1dda("0x12d")],_=d[_0x1dda("0x233")],e=d[_0x1dda("0x195")],t=esmap[_0x1dda("0x33")][_0x1dda("0x34")];a||(a=t.id);var i=t[_0x1dda("0x12b")](a),n=(i[_0x1dda("0x629")][x],[][_0x1dda("0x317")](x));null==_&&(_=1);var r=function(x){var a=n[x];if(x=i.getFloor(a)){var e=x[_0x1dda("0x180")];esmap[_0x1dda("0x86")].setAlpha({target:e,alpha:!1,clonemat:!0,hideOnComplete:d[_0x1dda("0x62a")],onUpdate:function(d){x[_0x1dda("0x180")].lastAlpha||(x[_0x1dda("0x180")][_0x1dda("0x627")]={}),x[_0x1dda("0x180")][_0x1dda("0x627")][_0x1dda("0x2")](d[_0x1dda("0x2c4")])||(x[_0x1dda("0x180")].lastAlpha[d[_0x1dda("0x2c4")]]=d[_0x1dda("0x11d")])},time:_})}};for(var s in n)r(s);setTimeout((function(){e&&e()}),1e3*_)}},{key:_0x1dda("0x62b"),value:function(){var d=esmap.ESMap[_0x1dda("0x34")];if(d[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")])return d[_0x1dda("0x62c")]().modelLoadManager[_0x1dda("0x392")][_0x1dda("0x62d")];var x=0,a=!0,_=!1,e=void 0;try{for(var t,i=(0,o[_0x1dda("0xd")])(d[_0x1dda("0x62e")]);!(a=(t=i[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);a=!0){x+=t.value.modelLoadManager[_0x1dda("0x392")].modelTypesCount}}catch(d){_=!0,e=d}finally{try{!a&&i.return&&i[_0x1dda("0x24f")]()}finally{if(_)throw e}}return x}},{key:_0x1dda("0x62f"),value:function(){var d=esmap[_0x1dda("0x33")][_0x1dda("0x34")];return d[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")].Building?d[_0x1dda("0x62c")]()[_0x1dda("0x22c")].modelStatic[_0x1dda("0x393")]:d.mapService.modelLoadCount}},{key:"getVersion",value:function(){return _0x1dda("0x630")}},{key:_0x1dda("0x631"),value:function(d,x){var a,_=[],e=esmap[_0x1dda("0x33")][_0x1dda("0x34")],t=(_.length,d[_0x1dda("0x632")]||"ID"),i=[][_0x1dda("0x317")](d.data),n=i[_0x1dda("0x0")];return e[_0x1dda("0x633")][_0x1dda("0xd1")]((function(x){a=[][_0x1dda("0x317")]((0,s[_0x1dda("0xd")])(d[_0x1dda("0x123")]?[d[_0x1dda("0x123")]]:x[_0x1dda("0x634")]));var e=!0,r=!1,c=void 0;try{for(var l,f=(0,o.default)(a);!(e=(l=f.next())[_0x1dda("0x3d5")]);e=!0){var u=l[_0x1dda("0xd8")];_.push.apply(_,esmap[_0x1dda("0x86")][_0x1dda("0x61a")](x,u,[_0x1dda("0x1ba")],(function(d){return i[_0x1dda("0x61")](d[t])}),"name"==t?void 0:n))}}catch(d){r=!0,c=d}finally{try{!e&&f[_0x1dda("0x24f")]&&f[_0x1dda("0x24f")]()}finally{if(r)throw c}}})),x&&x(_),_}},{key:"m",value:function(d){return d>C}},{key:"n",value:function(d){return d<-1e-5}},{key:"l",value:function(d){return d<C&&d>-1e-5}},{key:"o",value:function(d,x,a,_){var e=x.x,t=x.y,i=a.x,n=a.y,r=d.x,s=d.y,o=i-e,c=n-t,l=Math[_0x1dda("0x103")](o*o+c*c),f=r-e,u=s-t,h=Math[_0x1dda("0x103")](f*f+u*u);if(esmap[_0x1dda("0x86")].l(l))return esmap[_0x1dda("0x86")].l(h)?(_.x=x.x,_.y=x.y,0):(_.x=x.x,_.y=x.y,h);var g=o/l,b=c/l,v=g*f+b*u;if(!esmap.ESMapUtil.m(v))return _.x=x.x,_.y=x.y,h;if(!esmap[_0x1dda("0x86")].n(v-l)){var p=r-i,m=s-n,A=Math.sqrt(p*p+m*m);return _.x=a.x,_.y=a.y,A}var C=e+v*g,I=t+v*b,y=r-C,E=s-I,w=Math[_0x1dda("0x103")](y*y+E*E);return _.x=C,_.y=I,w}},{key:"setAlpha",value:function(d){var x,a,_,e=d[_0x1dda("0x162")];return new(r[_0x1dda("0xd")])((function(t){if(d[_0x1dda("0x227")][_0x1dda("0x153")][_0x1dda("0x40f")])t();else{d[_0x1dda("0x227")][_0x1dda("0xf8")]((function(d){if(d[_0x1dda("0xe9")]&&d[_0x1dda("0xe9")][_0x1dda("0xfc")]!==_0x1dda("0x635"))if(d[_0x1dda("0xe9")]instanceof Array)for(var x in d[_0x1dda("0xe9")]){var a=d[_0x1dda("0xe9")][x];a[_0x1dda("0x153")]&&(a[_0x1dda("0x153")][_0x1dda("0x40a")]&&(a[_0x1dda("0x153")]._settedAlpha=!1))}else d.material[_0x1dda("0x153")]._settedAlpha&&(d[_0x1dda("0xe9")].userData._settedAlpha=!1)})),d[_0x1dda("0x227")][_0x1dda("0x153")].islocked=!0,typeof d==_0x1dda("0x177")?(x=d,a=1,_=!1):(x=d.alpha,a=null==d[_0x1dda("0x233")]?1:d.time,_=null!=d[_0x1dda("0x234")]&&d[_0x1dda("0x234")]),d[_0x1dda("0x169")]&&(d.target[_0x1dda("0x169")]=d[_0x1dda("0x169")]);var i=d[_0x1dda("0x62a")],n=[],r=function(_){if(_[_0x1dda("0xfc")]!==_0x1dda("0x635"))if(_[_0x1dda("0x153")][_0x1dda("0x40a")])i&&d[_0x1dda("0x227")][_0x1dda("0x169")]&&(d[_0x1dda("0x227")][_0x1dda("0x169")]=!1);else{var t=x;!1===x?(t=_[_0x1dda("0x153")][_0x1dda("0x11d")],_[_0x1dda("0x153")][_0x1dda("0x2")]("istransparent")&&(_.transparent=_.userData[_0x1dda("0x231")],_[_0x1dda("0x15b")]=!0)):(_[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0x231"))||(_[_0x1dda("0x153")][_0x1dda("0x231")]=_.transparent,_[_0x1dda("0x153")].opacity=_[_0x1dda("0x11d")],d[_0x1dda("0x15a")]&&(_[_0x1dda("0x15b")]=!1)),_[_0x1dda("0x136")]=1!==x),_[_0x1dda("0x153")][_0x1dda("0x40a")]=!0,n[_0x1dda("0x10")](_),e&&e(_),new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(_).to({opacity:t},1e3*a)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x20f")].None).onComplete((function(){}))[_0x1dda("0x21c")]()}};if(d.id&&d[_0x1dda("0x227")].datas_&&6==d[_0x1dda("0x227")][_0x1dda("0xe5")][_0x1dda("0x106")]&&d[_0x1dda("0x227")][_0x1dda("0xe5")][_0x1dda("0x424")]){var s=esmap[_0x1dda("0x33")][_0x1dda("0x34")];s[_0x1dda("0x12b")](s.id)[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x409")](d.id,d[_0x1dda("0x227")],x,a,i)}else{d[_0x1dda("0x227")][_0x1dda("0xf8")]((function(d){if(d.material&&d[_0x1dda("0xe9")][_0x1dda("0xfc")]!==_0x1dda("0x635"))if(d.material instanceof Array)for(var x in d.material){var a=d.material[x],e=a[_0x1dda("0x9f")]==_0x1dda("0x23e");a[_0x1dda("0x153")]&&(_&&!e&&(d[_0x1dda("0xe9")][x]=a.clone(),a=d[_0x1dda("0xe9")][x]),r(a))}else{var t=d[_0x1dda("0xe9")][_0x1dda("0x9f")]==_0x1dda("0x23e");_&&!t&&d[_0x1dda("0xe9")]&&(d[_0x1dda("0xe9")].name&&d[_0x1dda("0xe9")][_0x1dda("0xfc")]==_0x1dda("0x637")||(d.material=d[_0x1dda("0xe9")][_0x1dda("0x116")]())),r(d.material)}}));setTimeout((function(){for(var x in i&&(d[_0x1dda("0x227")][_0x1dda("0x169")]=!1),n){n[x].userData[_0x1dda("0x40a")]=!1}d[_0x1dda("0x227")].userData[_0x1dda("0x40f")]=!1,t()}),1e3*a+50)}}}))}},{key:"searchJson",value:(x=(0,n[_0x1dda("0xd")])(i[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,_,e,n,r,s,o,c,l,f,u,g,b,v=this;return i[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:if(a=esmap[_0x1dda("0x33")].instance,_=a.id,I){d[_0x1dda("0x24c")]=19;break}for(n in(e=[]).push(m[_0x1dda("0xd")][_0x1dda("0x67")](_0x1dda("0x54"))),a.tileService[_0x1dda("0x638")])e[_0x1dda("0x10")]({path:m[_0x1dda("0xd")][_0x1dda("0x67")]("buildingSearchJson",{buildingId:n}),bid:n});r=[],s=i[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var t,n,s,o,c,l,f;return i[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d.next){case 0:return t="",n=null,"string"==typeof e[x]?(t=e[x],n=_):(t=e[x][_0x1dda("0x29b")],n=e[x][_0x1dda("0x12d")]),d[_0x1dda("0x24c")]=5,fetch(t);case 5:return s=d[_0x1dda("0x2ff")],d[_0x1dda("0x24c")]=8,s.json();case 8:(o=d[_0x1dda("0x2ff")])[_0x1dda("0x532")]&&(c={x:0,y:0},o[_0x1dda("0x52")]&&(l=a.tileService[_0x1dda("0x638")][o[_0x1dda("0x52")].bids])&&(c.x=l.x-o[_0x1dda("0x52")][_0x1dda("0x639")],c.y=l.y-o[_0x1dda("0x52")].ceny),f=o[_0x1dda("0x532")].map((function(d){var x=null;return 1==d.t?x=5:2==d.t&&(x=11),{name:d.n,bid:n,mapCoord:{x:1*d.x+c.x,y:1*d.y+c.y},FloorNum:d.f||1,Height:1*d.h||0,ID:1*d.i,typeID:1*d.c,nodeType:x}})),r=r[_0x1dda("0x317")](f));case 10:case _0x1dda("0x267"):return d.stop()}}),d,v)})),d.t0=i[_0x1dda("0xd")].keys(e);case 10:if((d.t1=d.t0()).done){d[_0x1dda("0x24c")]=15;break}return o=d.t1[_0x1dda("0xd8")],d[_0x1dda("0x63a")](s(o),"t2",13);case 13:d[_0x1dda("0x24c")]=10;break;case 15:c={isCaseSensitive:!1,useExtendedSearch:!0,keys:["ID",_0x1dda("0xfc"),_0x1dda("0x1de"),"typeID",_0x1dda("0x12d"),"nodeType"]},l=["ID","name",_0x1dda("0x1de"),_0x1dda("0x4d5"),_0x1dda("0x12d"),_0x1dda("0x106")],f=h[_0x1dda("0xd")][_0x1dda("0x63b")](l,r),I=new(h[_0x1dda("0xd")])(r,c,f);case 19:u=[],g=[],d.t3=i.default.keys(x);case 22:if((d.t4=d.t3())[_0x1dda("0x3d5")]){d.next=35;break}if((b=d.t4[_0x1dda("0xd8")])!=_0x1dda("0x192")){d.next=26;break}return d.abrupt(_0x1dda("0x63c"),22);case 26:if(b!=_0x1dda("0x63d")){d[_0x1dda("0x24c")]=29;break}return g[_0x1dda("0x10")]({name:""+x[b]}),d.abrupt("continue",22);case 29:if(b!=_0x1dda("0x123")){d.next=32;break}return g[_0x1dda("0x10")]({FloorNum:""+x[b]}),d[_0x1dda("0x24e")](_0x1dda("0x63c"),22);case 32:g[_0x1dda("0x10")]((0,t.default)({},b,"="+x[b])),d[_0x1dda("0x24c")]=22;break;case 35:return u=(u=I[_0x1dda("0x4ac")]({$and:g}))[_0x1dda("0x42")]((function(d){return d[_0x1dda("0x63e")]})),x[_0x1dda("0x192")]&&x[_0x1dda("0x192")](u),d[_0x1dda("0x24e")](_0x1dda("0x24f"),u);case 39:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return x[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x4ac"),value:function(d,x,_,e){var t,i=[],n=null,r=null,s=[],o=_[_0x1dda("0x63f")]||[_0x1dda("0x1ba"),"label",_0x1dda("0x5bd"),"imageMarker",_0x1dda("0x5c6"),_0x1dda("0x5c3"),"model3d",_0x1dda("0x5c2"),_0x1dda("0x5c7")],c=[][_0x1dda("0x317")](x);if(_.ID&&(_.ID=[].concat(_.ID)),_[_0x1dda("0x640")]&&(_.classID=[][_0x1dda("0x317")](_[_0x1dda("0x640")])),d[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]){var l=d.getBuilding();1==c[_0x1dda("0x0")]&&c[0]==_0x1dda("0x641")?c=[{bid:d.id,fnum:l[_0x1dda("0x634")]}]:typeof c[0]==_0x1dda("0x177")&&(c=[{bid:d.id,fnum:c}])}else if(1==c[_0x1dda("0x0")]&&c[0]==_0x1dda("0x641")){c=d[_0x1dda("0x62e")][_0x1dda("0x42")]((function(d){return d.id}));var f=d.buildingList.map((function(d){return d.id}));(c=c[_0x1dda("0x317")](f))[_0x1dda("0x10")](0)}return _[_0x1dda("0x642")]&&(_[_0x1dda("0x643")]||(c=esmap.ESMapUtil[_0x1dda("0x644")](_[_0x1dda("0x642")]))),c[_0x1dda("0xd1")]((function(x){var e;if(x instanceof Object?(x[_0x1dda("0x12d")]&&(e=d[_0x1dda("0x12b")](x[_0x1dda("0x12d")])),x.fnum&&(t=[][_0x1dda("0x317")](x.fnum))):(e=d[_0x1dda("0x12b")](x))?t=e.floorNums:(e=d[_0x1dda("0x1e1")](x),t=[1]),e){t=t||e[_0x1dda("0x634")];for(var c=0;c<t.length;c++){var l=t[c],f=_.ID?_.ID[_0x1dda("0x0")]:void 0,u=esmap[_0x1dda("0x86")][_0x1dda("0x61a")](e,l,o,(function(x){if(_[_0x1dda("0x106")]&&_.nodeType!=esmap.ESNodeType.ALL)if(Array[_0x1dda("0x2f4")](_[_0x1dda("0x106")])){if(_.nodeType[_0x1dda("0xaf")](x[_0x1dda("0x106")])<0)return!1}else if(_[_0x1dda("0x106")]!=x[_0x1dda("0x106")])return!1;if(_[_0x1dda("0xfc")]){if(!x[_0x1dda("0xfc")])return!1;if(_.name instanceof Array){if(_[_0x1dda("0xfc")][_0x1dda("0xaf")](x.name)<0)return!1}else if(_[_0x1dda("0xfc")]!=x.name)return!1}if(_[_0x1dda("0x63d")]){if(!x[_0x1dda("0xfc")])return!1;for(var e=_[_0x1dda("0x63d")][_0x1dda("0x2a")](" "),t=x[_0x1dda("0xfc")][_0x1dda("0x318")](),i=!1,o=0;o<e.length;o++){var c=e[o][_0x1dda("0x318")]();if(t[_0x1dda("0xaf")](c)>=0){i=!0;break}}if(!i)return!1}if(_.ID&&_.ID[_0x1dda("0xaf")](x.ID)<0)return!1;if(_[_0x1dda("0x2")](_0x1dda("0x1e2"))&&_[_0x1dda("0x1e2")]!=x[_0x1dda("0x1e2")])return!1;if(_[_0x1dda("0x640")]&&_[_0x1dda("0x640")][_0x1dda("0xaf")](x[_0x1dda("0x640")])<0)return!1;if(_[_0x1dda("0x1de")]&&_[_0x1dda("0x1de")]!=x[_0x1dda("0x1de")])return!1;if(_[_0x1dda("0x4d5")]&&_[_0x1dda("0x4d5")]!=x[_0x1dda("0x4d5")])return!1;if(_[_0x1dda("0x1e7")]&&_[_0x1dda("0x645")]){if(x[_0x1dda("0x106")]==esmap.ESNodeType[_0x1dda("0x1b5")]){if((0,v[_0x1dda("0x100")])(_[_0x1dda("0x1e7")],x.mapCoord)>_.radius)return;s[_0x1dda("0x10")]({node:x,distance:n})}if(x[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x625")]){var l=d[_0x1dda("0x7d")][_0x1dda("0x646")][x.ID][0],f=[];n=null;for(var u=0;u<l[_0x1dda("0x0")];u+=2)f.push(new esmap.ESMapCoord(-l[u].x,l[u].y,0));if(f[_0x1dda("0x0")]<2)n=p(_.mapCoord,f[0]);else{var h=new(esmap[_0x1dda("0x4f3")]);for(u=0;u<f.length-1;u++)r=esmap[_0x1dda("0x86")].o(_[_0x1dda("0x1e7")],f[u],f[u+1],h),(!n||r<n)&&(n=r)}if(n>_.radius)return;s[_0x1dda("0x10")]({node:x,distance:n})}if(x[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x647")]){if((n=esmap[_0x1dda("0x648")].getMapCoordDistance(a,_[_0x1dda("0x1e7")],x[_0x1dda("0x1e7")]))>_[_0x1dda("0x645")])return;s[_0x1dda("0x10")]({node:x,distance:n})}}return!(_[_0x1dda("0x642")]&&!esmap.ESMapUtil[_0x1dda("0x39e")](x.mapCoord,_[_0x1dda("0x642")]))}),f);u&&(i=i[_0x1dda("0x317")](u))}}})),s[_0x1dda("0x0")]>0&&(s[_0x1dda("0x3ef")]((function(d,x){return d.distance-x[_0x1dda("0x2a1")]})),i=s[_0x1dda("0x42")]((function(d){return d[_0x1dda("0x649")]}))),e&&e(i),i}},{key:_0x1dda("0x64a"),value:function(d){for(var x=d[_0x1dda("0x121")][_0x1dda("0x42")]((function(d){return{x:-d.x,y:d.y}})),a={dis:0,pa:null,pb:null},_=0;_<x[_0x1dda("0x0")]-1;_++){var e=x[_],t=x[_+1],i=(0,v[_0x1dda("0x100")])(e,t);i>a[_0x1dda("0x64b")]&&(a[_0x1dda("0x64b")]=i,a.pa=e,a.pb=t)}return a.pa=new(THREE[_0x1dda("0x50f")])(a.pa.x,a.pa.y),a.pb=new(THREE[_0x1dda("0x50f")])(a.pb.x,a.pb.y),esmap.ESMapUtil[_0x1dda("0x28c")](a.pa,a.pb)}},{key:"loadTexture",value:function(d,x,a,_){return esmap.ESMap[_0x1dda("0x34")][_0x1dda("0x64c")][_0x1dda("0x64d")](d,x,a,_)}},{key:_0x1dda("0x64e"),value:function(d,x,a,_){x=x||_0x1dda("0xfa"),a=a||_0x1dda("0x64f"),(0,e[_0x1dda("0xd")])(d,{x:{get:function(){return esmap[_0x1dda("0x33")].instance[_0x1dda("0x122")].x-this[x].x},set:function(d){var a=esmap[_0x1dda("0x33")][_0x1dda("0x34")].center.x;this[x].x=a-d}},y:{get:function(){var d=esmap.ESMap[_0x1dda("0x34")][_0x1dda("0x122")].y;return this[x].z+d},set:function(d){var a=esmap.ESMap[_0x1dda("0x34")].center.y;this[x].z=d-a}},height:_||{get:function(){return this[a]},set:function(d){this[a]=d}}})}},{key:_0x1dda("0x39e"),value:function(d,x){for(var a=!1,_=-1,e=x[_0x1dda("0x0")],t=e-1;++_<e;t=_)(x[_].y<=d.y&&d.y<x[t].y||x[t].y<=d.y&&d.y<x[_].y)&&d.x<(Math.abs(x[t].x)-Math.abs(x[_].x))*(d.y-x[_].y)/(x[t].y-x[_].y)+Math[_0x1dda("0x2c1")](x[_].x)&&(a=!a);return a}},{key:_0x1dda("0x650"),value:function(d){return(0,g[_0x1dda("0x651")])(d)}},{key:"getCenterByExtent",value:function(d){return{x:(d[_0x1dda("0x559")]+d[_0x1dda("0x556")])/2,y:(d.maxY+d[_0x1dda("0x558")])/2}}},{key:"encode64",value:function(d){var x,a,_,e,t,i=_0x1dda("0x652")+_0x1dda("0x5ae")+_0x1dda("0x5af")+_0x1dda("0x5b0")+"=",n="",r="",s="",o=0;do{_=(x=d[_0x1dda("0x2d")](o++))>>4,e=(3&x)<<4|(a=d.charCodeAt(o++))>>4,t=(15&a)<<2|(r=d[_0x1dda("0x2d")](o++))>>6,s=63&r,isNaN(a)?t=s=64:isNaN(r)&&(s=64),n=n+i.charAt(_)+i.charAt(e)+i[_0x1dda("0x5b1")](t)+i[_0x1dda("0x5b1")](s),x=a=r="",_=e=t=s=""}while(o<d[_0x1dda("0x0")]);return n}},{key:_0x1dda("0x653"),value:function(d){var x=d[_0x1dda("0x121")],a=void 0===x?[]:x,_=d.segments,e=void 0===_?20:_;if(!(a.length<3)){var t=new(THREE[_0x1dda("0x654")])(new(THREE[_0x1dda("0x11c")])(a[0].x,a[0][_0x1dda("0x16d")],a[0].y),new(THREE[_0x1dda("0x11c")])(a[1].x,a[1].offset,a[1].y),new THREE.Vector3(a[2].x,a[2][_0x1dda("0x16d")],a[2].y)).getPoints(e),i=[],n=!0,r=!1,s=void 0;try{for(var c,l=(0,o[_0x1dda("0xd")])(t);!(n=(c=l[_0x1dda("0x24c")]()).done);n=!0){var f=c[_0x1dda("0xd8")];i[_0x1dda("0x10")]({x:f.x,y:f.z,offset:f.y})}}catch(d){r=!0,s=d}finally{try{!n&&l.return&&l[_0x1dda("0x24f")]()}finally{if(r)throw s}}return i}}},{key:_0x1dda("0x655"),value:function(d){for(var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]&&arguments[1],a=0;a<d[_0x1dda("0x0")];a++){var _=d[a-1],e=d[a+1],t=d[a];if(e&&t){if(t.x==e.x&&t.z==e.z&&t.y==e.y){d[_0x1dda("0x6")](a+1,1),a--;continue}if(x&&e[_0x1dda("0x117")](t)<=.1){d[_0x1dda("0x6")](a+1,1),a--;continue}}if(_&&e&&_.y==e.y&&_.y==t.y){var i=new(THREE[_0x1dda("0x11c")])(t.x,0,t.z),n=new THREE.Vector3(_.x,0,_.z),r=new(THREE[_0x1dda("0x11c")])(e.x,0,e.z),s=n[_0x1dda("0x116")]()[_0x1dda("0x4cf")](i.clone())[_0x1dda("0x2cc")](),o=r.clone()[_0x1dda("0x4cf")](i[_0x1dda("0x116")]())[_0x1dda("0x2cc")](),c=s[_0x1dda("0x656")](o),l=Math[_0x1dda("0x2c1")](s.angleTo(o))<Math.PI/6;if(c||l){var f=t[_0x1dda("0x116")]();f.y+=.01,f[_0x1dda("0x123")]=t[_0x1dda("0x123")],d[_0x1dda("0x6")](a,0,f),a+=1;continue}}}}},{key:_0x1dda("0x657"),value:function(d){var x=d[_0x1dda("0x121")],a=void 0===x?[]:x,_=d[_0x1dda("0x645")],e=void 0===_?.3:_,t=d[_0x1dda("0x658")],i=void 0===t?8:t,n=esmap[_0x1dda("0x33")][_0x1dda("0x34")],r=a[_0x1dda("0x42")]((function(d){var x=d.z||d[_0x1dda("0x16d")]||0,a={x:d.x,y:d.y},_=n.coordMapToThree(a);return _.y=x,_[_0x1dda("0x123")]=d.fnum||1,_})),s=esmap[_0x1dda("0x5e8")][_0x1dda("0x657")](r,i,e);return s=s.map((function(d){var x=n[_0x1dda("0x1db")](d);return{x:x.x,y:x.y,offset:d.y,fnum:d[_0x1dda("0x123")]}}))}},{key:_0x1dda("0x28c"),value:function(d,x){var a=new(THREE[_0x1dda("0x11c")])(0,0,1),_=new(THREE[_0x1dda("0x11c")])(d.x,0,d.y),e=new(THREE[_0x1dda("0x11c")])(x.x,0,x.y)[_0x1dda("0x116")]()[_0x1dda("0x4cf")](_)[_0x1dda("0x2cc")](),t=e.angleTo(a)*THREE[_0x1dda("0x1fa")][_0x1dda("0x659")];return isNaN(t)&&(t=0),e.clone()[_0x1dda("0x1f9")](a).y>0?360-t:t}},{key:_0x1dda("0x65a"),value:function(){var d=new Array;if(null!=window[_0x1dda("0x1e")][_0x1dda("0x1d")])d[0]=window[_0x1dda("0x1e")][_0x1dda("0x1d")],d[1]=window[_0x1dda("0x1e")][_0x1dda("0x1f")];else{var x=document[_0x1dda("0x20")]("DIV");x[_0x1dda("0x120")][_0x1dda("0x22")]=_0x1dda("0x23"),document[_0x1dda("0x4a9")][_0x1dda("0x24")](x),d[0]=parseInt(x[_0x1dda("0x25")]),d[1]=parseInt(x[_0x1dda("0x26")]),x[_0x1dda("0x27")][_0x1dda("0x28")](x)}return d}},{key:_0x1dda("0xee"),value:function(d){return u[_0x1dda("0xd")][_0x1dda("0x65b")]([d[0],d[1]],u[_0x1dda("0xd")].WGS84,u.default[_0x1dda("0x65c")])}},{key:_0x1dda("0x65d"),value:function(d){return u[_0x1dda("0xd")][_0x1dda("0x65b")]([d[0],d[1]],u[_0x1dda("0xd")][_0x1dda("0x65c")],u[_0x1dda("0xd")][_0x1dda("0x19a")])}},{key:"Mercator2lonLat",value:function(d,x){var a=[],_=d/20037508.342789*180,e=x/20037508.342789*180;return e=180/Math.PI*(2*Math[_0x1dda("0x2c0")](Math[_0x1dda("0x65e")](e*Math.PI/180))-Math.PI/2),a[_0x1dda("0x10")](_),a[_0x1dda("0x10")](e),a}},{key:_0x1dda("0xef"),value:function(d,x,a){var _=[],e=20037508.342789*d/180,t=Math[_0x1dda("0x1ec")](Math[_0x1dda("0x2c2")]((90+x)*Math.PI/360))/(Math.PI/180);(t=20037508.34789*t/180,esmap[_0x1dda("0x65f")]&&!a)&&(t=20037508.342789244*esmap[_0x1dda("0x660")]/180*(90+x));return _.push(e),_[_0x1dda("0x10")](t),_}},{key:_0x1dda("0x661"),value:function(d,x){var a=esmap[_0x1dda("0x86")][_0x1dda("0xeb")](d,x),_=20037508.342789244*esmap[_0x1dda("0x660")];return a[1]=180*x/_-90,esmap[_0x1dda("0x86")][_0x1dda("0xef")](a[0],a[1],!0)}},{key:_0x1dda("0x662"),value:function(d){return d.y>12e6}},{key:_0x1dda("0x663"),value:function(d){var x=1e4,a=esmap[_0x1dda("0x86")][_0x1dda("0xeb")](d.x,d.y+5e3),_=esmap.ESMapUtil[_0x1dda("0xeb")](d.x,d.y-5e3),e=esmap[_0x1dda("0x86")][_0x1dda("0xef")](a[0],a[1]),t=esmap[_0x1dda("0x86")][_0x1dda("0xef")](_[0],_[1]);return(e[1]-t[1])/x}},{key:_0x1dda("0x664"),value:function(d){var x=d,a=esmap[_0x1dda("0x33")].instance;if(Array.isArray(d)){var _=esmap[_0x1dda("0x86")][_0x1dda("0xef")](d[0],d[1]);x={x:_[0],y:_[1]}}return a.transformCoord({from:"WGS84",to:a[_0x1dda("0x3be")],coord:x})}},{key:"transformBD09ToMap",value:function(d){var x=esmap.ESMap[_0x1dda("0x34")],a=d;if(Array[_0x1dda("0x2f4")](d)){var _=esmap[_0x1dda("0x86")].lonLat2Mercator(d[0],d[1]);a={x:_[0],y:_[1]}}return x.transformCoord({from:"BD09",to:x[_0x1dda("0x3be")],coord:a})}},{key:_0x1dda("0x665"),value:function(d){var x=esmap.ESMap[_0x1dda("0x34")],a=d;if(Array[_0x1dda("0x2f4")](d)){var _=esmap[_0x1dda("0x86")][_0x1dda("0xef")](d[0],d[1]);a={x:_[0],y:_[1]}}return x[_0x1dda("0x198")]({from:"GCJ02",to:x[_0x1dda("0x3be")],coord:a})}},{key:_0x1dda("0x666"),value:function(d){return esmap[_0x1dda("0x86")][_0x1dda("0xeb")](d.x,d.y)}},{key:_0x1dda("0x667"),value:function(d,x){function a(d){return d*Math.PI/180}var _=0;if(esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")].City){var e=esmap.ESMapUtil[_0x1dda("0xeb")](d.x,d.y),t=esmap.ESMapUtil.Mercator2lonLat(x.x,x.y),i=a(e[1]),n=a(t[1]),r=i-n,s=a(e[0])-a(t[0]);_=6378.137*(_=2*Math[_0x1dda("0x668")](Math[_0x1dda("0x103")](Math[_0x1dda("0xea")](Math[_0x1dda("0x617")](r/2),2)+Math[_0x1dda("0x669")](i)*Math.cos(n)*Math.pow(Math[_0x1dda("0x617")](s/2),2))))*1e3}else _=(0,v[_0x1dda("0x100")])(d,x);return _}},{key:_0x1dda("0x66a"),value:function(d){d=d||null;var x=new Date(d);return x[_0x1dda("0x66b")]()+"-"+((x[_0x1dda("0x66c")]()+1<10?"0"+(x[_0x1dda("0x66c")]()+1):x[_0x1dda("0x66c")]()+1)+"-")+((x[_0x1dda("0x66d")]()<10?"0"+x[_0x1dda("0x66d")]():x[_0x1dda("0x66d")]())+" ")+((x[_0x1dda("0x66e")]()<10?"0"+x[_0x1dda("0x66e")]():x[_0x1dda("0x66e")]())+":")+((x[_0x1dda("0x66f")]()<10?"0"+x.getMinutes():x[_0x1dda("0x66f")]())+":")+(x[_0x1dda("0x670")]()<10?"0"+x[_0x1dda("0x670")]():x[_0x1dda("0x670")]())}},{key:"getPolygonBounds",value:function(d){for(var x={maxX:0,minX:1/0,maxY:0,minY:1/0},a=0;a<d[_0x1dda("0x0")];a++){var _=d[a];_.y<x[_0x1dda("0x558")]&&(x[_0x1dda("0x558")]=_.y),_.y>x[_0x1dda("0x55b")]&&(x.maxY=_.y),_.x<x[_0x1dda("0x556")]&&(x[_0x1dda("0x556")]=_.x),_.x>x[_0x1dda("0x559")]&&(x[_0x1dda("0x559")]=_.x)}return x}}]),d}();x[_0x1dda("0xd")]=y},,,,function(d,x,a){"use strict";function _(d,x){for(var a=d.x,_=d.y,e=0,t=0;t<x.length;t++){var i=x[t],n=i.y1<i.y2?i.y2:i.y1;if(_>(i.y1<i.y2?i.y1:i.y2)&&_<n)a<=(i.x1*i.y2-i.x2*i.y1-(i.x1-i.x2)*_)/(i.y2-i.y1)&&e++}return e%2!=0}Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x603")]=function(d,x){var a,e=d,t=x;if(0==(a=function(d,x){for(var a,_,e,t,i,n,r,s,o=0;o<d[_0x1dda("0x0")];o++){var c=d[o];a=a>c.x?a:c.x,e=e<c.x?e:c.x,_=_>c.y?_:c.y,t=t<c.y?t:c.y}for(o=0;o<x[_0x1dda("0x0")];o++){var l=x[o];i=i>l.x?i:l.x,r=r<l.x?r:l.x,n=n>l.y?n:l.y,s=s<l.y?s:l.y}return!(a<=r||i<=e||t>=n||s>=_)}(e,t)))return a;var i=o(e),n=o(t);if(a=function(d,x){for(var a=function(d,x){this.x=d,this.y=x},_=0;_<d.length;_++)for(var e=d[_],t=0;t<x[_0x1dda("0x0")];t++){var i=x[t],n=new a(i.x2-i.x1,i.y2-i.y1),r=new a(e.x1-i.x1,e.y1-i.y1),s=new a(e.x2-i.x1,e.y2-i.y1),o=r.x*n.y-n.x*r.y,c=s.x*n.y-n.x*s.y,l=new a(e.x2-e.x1,e.y2-e.y1),f=new a(i.x1-e.x1,i.y1-e.y1),u=new a(i.x2-e.x1,i.y2-e.y1),h=f.x*l.y-l.x*f.y,g=u.x*l.y-l.x*u.y;if(o*c<0&&h*g<0)return!0}return!1;function a(d,x){this.x=d,this.y=x}}(i,n))return a;for(var r=0,s=0;s<e.length-1;s++){_(e[s],n)&&r++}return a=r==e[_0x1dda("0x0")]-1;function o(d){for(var x=[],a=0;a<d[_0x1dda("0x0")]-1;a++){var _=d[a],e=d[a+1];x.push({x1:_.x,y1:_.y,x2:e.x,y2:e.y})}return x}},x[_0x1dda("0x651")]=function(d){for(var x,a,_,e,t=0;t<d.length;t++){var i=d[t];x=x>i.x?x:i.x,_=_<i.x?_:i.x,a=a>i.y?a:i.y,e=e<i.y?e:i.y}return{maxX:x,minX:_,maxY:a,minY:e}},x[_0x1dda("0x671")]=function(d,x){for(var a,_,e,t,i,n,r,s,o=0;o<d[_0x1dda("0x0")];o++){var c=d[o];a=a>c.x?a:c.x,e=e<c.x?e:c.x,_=_>c.y?_:c.y,t=t<c.y?t:c.y}for(o=0;o<x.length;o++){var l=x[o];i=i>l.x?i:l.x,r=r<l.x?r:l.x,n=n>l.y?n:l.y,s=s<l.y?s:l.y}var f=e<=r,u=_>=n,h=t<=s;return a>=i&&f&&u&&h}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _={1e3:_0x1dda("0x672"),2e3:"çæ¬éè¯¯",2001:_0x1dda("0x673"),2002:_0x1dda("0x674"),2003:_0x1dda("0x675"),2004:_0x1dda("0x676"),2005:_0x1dda("0x677"),2006:_0x1dda("0x678"),2007:"ä¸ç»´åºæ¯ ${1} è¯·æ±å¤±è´¥ï¼è¯·æ£æ¥ä¸ç»´åºæ¯èµæºæ¯å¦å­å¨ æèä¸ç»´åºæ¯ç±»å mode æ¯å¦éç½®éè¯¯! #${2}",2008:_0x1dda("0x679"),2009:_0x1dda("0x67a"),2010:_0x1dda("0x67b"),2011:_0x1dda("0x67c")};x.ERRORS=_},function(d,x,a){"use strict";(function(d){Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(20)),e=t(a(15));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=function(){this[_0x1dda("0x67d")]={},this._tweensAddedDuringUpdate={}};i[_0x1dda("0x1")]={getAll:function(){return(0,e[_0x1dda("0xd")])(this[_0x1dda("0x67d")])[_0x1dda("0x42")](function(d){return this[_0x1dda("0x67d")][d]}[_0x1dda("0x4e")](this))},removeAll:function(){this._tweens={}},add:function(d){this[_0x1dda("0x67d")][d[_0x1dda("0x67e")]()]=d,this[_0x1dda("0x67f")][d[_0x1dda("0x67e")]()]=d},remove:function(d){delete this[_0x1dda("0x67d")][d[_0x1dda("0x67e")]()],delete this[_0x1dda("0x67f")][d[_0x1dda("0x67e")]()]},update:function(d,x){var a=(0,e.default)(this._tweens);if(0===a.length)return!1;for(d=void 0!==d?d:r.now();a.length>0;){this[_0x1dda("0x67f")]={};for(var _=0;_<a[_0x1dda("0x0")];_++){var t=this._tweens[a[_]];t&&!1===t[_0x1dda("0x152")](d)&&(t._isPlaying=!1,x||delete this[_0x1dda("0x67d")][a[_]])}a=(0,e[_0x1dda("0xd")])(this[_0x1dda("0x67f")])}return!0}};var n,r=new i;r.Group=i,r[_0x1dda("0x680")]=0,r[_0x1dda("0x681")]=function(){return r[_0x1dda("0x680")]++},r.fadeTo=function(d,x,a,_){return new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])({value:0}).to({value:1},1e3*d).easing(esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x20f")][_0x1dda("0x27c")]).onUpdate(x)[_0x1dda("0x192")](_)[_0x1dda("0x21c")]()},typeof self===_0x1dda("0x8")&&void 0!==d&&d[_0x1dda("0x682")]?r.now=function(){var x=d[_0x1dda("0x682")]();return 1e3*x[0]+x[1]/1e6}:typeof self!==_0x1dda("0x8")&&void 0!==self[_0x1dda("0x683")]&&void 0!==self[_0x1dda("0x683")][_0x1dda("0x684")]?r[_0x1dda("0x684")]=self[_0x1dda("0x683")].now.bind(self.performance):void 0!==Date[_0x1dda("0x684")]?r[_0x1dda("0x684")]=Date[_0x1dda("0x684")]:r.now=function(){return(new Date)[_0x1dda("0x85")]()},r[_0x1dda("0x18e")]=function(d,x){this[_0x1dda("0x685")]=!1,this[_0x1dda("0x686")]=null,this._object=d,this[_0x1dda("0x687")]={},this._valuesEnd={},this._valuesStartRepeat={},this[_0x1dda("0x688")]=1e3,this._repeat=0,this[_0x1dda("0x689")]=void 0,this._yoyo=!1,this[_0x1dda("0x68a")]=!1,this[_0x1dda("0x68b")]=!1,this[_0x1dda("0x68c")]=0,this[_0x1dda("0x68d")]=null,this[_0x1dda("0x68e")]=r.Easing.Linear[_0x1dda("0x27c")],this[_0x1dda("0x68f")]=r[_0x1dda("0x690")].Linear,this[_0x1dda("0x691")]=[],this[_0x1dda("0x692")]=null,this[_0x1dda("0x693")]=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this[_0x1dda("0x694")]=null,this._onStopCallback=null,this._group=x||r,this._id=r[_0x1dda("0x681")]()},r[_0x1dda("0x18e")][_0x1dda("0x1")]={getId:function(){return this[_0x1dda("0x3a0")]},isPlaying:function(){return this[_0x1dda("0x68a")]},isPaused:function(){return this[_0x1dda("0x685")]},to:function(d,x){return this[_0x1dda("0x695")]=(0,_.default)(d),void 0!==x&&(this._duration=x),this},duration:function(d){return this[_0x1dda("0x688")]=d,this},start:function(d){for(var x in this._group[_0x1dda("0xce")](this),this[_0x1dda("0x68a")]=!0,this[_0x1dda("0x685")]=!1,this[_0x1dda("0x693")]=!1,this._startTime=void 0!==d?typeof d===_0x1dda("0xe")?r.now()+parseFloat(d):d:r[_0x1dda("0x684")](),this[_0x1dda("0x68d")]+=this[_0x1dda("0x68c")],this[_0x1dda("0x695")]){if(this[_0x1dda("0x695")][x]instanceof Array){if(0===this[_0x1dda("0x695")][x][_0x1dda("0x0")])continue;this[_0x1dda("0x695")][x]=[this[_0x1dda("0x696")][x]][_0x1dda("0x317")](this[_0x1dda("0x695")][x])}void 0!==this[_0x1dda("0x696")][x]&&(typeof this[_0x1dda("0x687")][x]===_0x1dda("0x8")&&(this[_0x1dda("0x687")][x]=this[_0x1dda("0x696")][x]),this._valuesStart[x]instanceof Array==!1&&(this._valuesStart[x]*=1),this[_0x1dda("0x697")][x]=this._valuesStart[x]||0)}return this},stop:function(){return this[_0x1dda("0x68a")]?(this[_0x1dda("0x698")][_0x1dda("0x181")](this),this[_0x1dda("0x68a")]=!1,this[_0x1dda("0x685")]=!1,null!==this[_0x1dda("0x699")]&&this[_0x1dda("0x699")](this[_0x1dda("0x696")]),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},pause:function(d){return this[_0x1dda("0x685")]||!this[_0x1dda("0x68a")]||(this[_0x1dda("0x685")]=!0,this._pauseStart=void 0===d?r[_0x1dda("0x684")]():d,this[_0x1dda("0x698")][_0x1dda("0x181")](this)),this},resume:function(d){return this[_0x1dda("0x685")]&&this[_0x1dda("0x68a")]?(this._isPaused=!1,this[_0x1dda("0x68d")]+=(void 0===d?r[_0x1dda("0x684")]():d)-this[_0x1dda("0x686")],this[_0x1dda("0x686")]=0,this._group[_0x1dda("0xce")](this),this):this},stopChainedTweens:function(){for(var d=0,x=this[_0x1dda("0x691")][_0x1dda("0x0")];d<x;d++)this[_0x1dda("0x691")][d].stop()},group:function(d){return this[_0x1dda("0x698")]=d,this},delay:function(d){return this._delayTime=d,this},repeat:function(d){return this[_0x1dda("0x69a")]=d,this},repeatDelay:function(d){return this[_0x1dda("0x689")]=d,this},yoyo:function(d){return this[_0x1dda("0x69b")]=d,this},easing:function(d){return this._easingFunction=d,this},interpolation:function(d){return this[_0x1dda("0x68f")]=d,this},chain:function(){return this[_0x1dda("0x691")]=arguments,this},onStart:function(d){return this._onStartCallback=d,this},onUpdate:function(d){return this[_0x1dda("0x69c")]=d,this},onRepeat:function(d){return this._onRepeatCallback=d,this},onComplete:function(d){return this._onCompleteCallback=d,this},onStop:function(d){return this[_0x1dda("0x699")]=d,this},update:function(d){var x,a,_;if(r[_0x1dda("0x42")][_0x1dda("0x69d")]=0,d<this[_0x1dda("0x68d")])return!0;for(x in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this[_0x1dda("0x692")](this[_0x1dda("0x696")]),this[_0x1dda("0x693")]=!0),a=(d-this._startTime)/this[_0x1dda("0x688")],a=0===this[_0x1dda("0x688")]||a>1?1:a,_=this[_0x1dda("0x68e")](a),this[_0x1dda("0x695")])if(void 0!==this[_0x1dda("0x687")][x]){var e=this[_0x1dda("0x687")][x]||0,t=this[_0x1dda("0x695")][x];t instanceof Array?this[_0x1dda("0x696")][x]=this[_0x1dda("0x68f")](t,_):(typeof t===_0x1dda("0xe")&&(t="+"===t.charAt(0)||"-"===t[_0x1dda("0x5b1")](0)?e+parseFloat(t):parseFloat(t)),typeof t===_0x1dda("0x177")&&(this[_0x1dda("0x696")][x]=e+(t-e)*_))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this[_0x1dda("0x696")],a),1===a){if(this[_0x1dda("0x69a")]>0){for(x in isFinite(this[_0x1dda("0x69a")])&&this._repeat--,this[_0x1dda("0x697")]){if(typeof this._valuesEnd[x]===_0x1dda("0xe")&&(this[_0x1dda("0x697")][x]=this._valuesStartRepeat[x]+parseFloat(this[_0x1dda("0x695")][x])),this._yoyo){var i=this[_0x1dda("0x697")][x];this._valuesStartRepeat[x]=this[_0x1dda("0x695")][x],this[_0x1dda("0x695")][x]=i}this[_0x1dda("0x687")][x]=this[_0x1dda("0x697")][x]}return this[_0x1dda("0x69b")]&&(this[_0x1dda("0x68b")]=!this[_0x1dda("0x68b")]),void 0!==this._repeatDelayTime?this._startTime=d+this[_0x1dda("0x689")]:this[_0x1dda("0x68d")]=d+this._delayTime,null!==this._onRepeatCallback&&this[_0x1dda("0x69e")](this[_0x1dda("0x696")]),!0}null!==this._onCompleteCallback&&this[_0x1dda("0x694")](this[_0x1dda("0x696")]);for(var n=0,s=this[_0x1dda("0x691")][_0x1dda("0x0")];n<s;n++)this._chainedTweens[n][_0x1dda("0x21c")](this._startTime+this[_0x1dda("0x688")]);return!1}return!0}},r.Easing={Linear:{None:function(d){return d}},Quadratic:{In:function(d){return d*d},Out:function(d){return d*(2-d)},InOut:function(d){return(d*=2)<1?.5*d*d:-.5*(--d*(d-2)-1)}},Cubic:{In:function(d){return d*d*d},Out:function(d){return--d*d*d+1},InOut:function(d){return(d*=2)<1?.5*d*d*d:.5*((d-=2)*d*d+2)}},Quartic:{In:function(d){return d*d*d*d},Out:function(d){return 1- --d*d*d*d},InOut:function(d){return(d*=2)<1?.5*d*d*d*d:-.5*((d-=2)*d*d*d-2)}},Quintic:{In:function(d){return d*d*d*d*d},Out:function(d){return--d*d*d*d*d+1},InOut:function(d){return(d*=2)<1?.5*d*d*d*d*d:.5*((d-=2)*d*d*d*d+2)}},Sinusoidal:{In:function(d){return 1-Math[_0x1dda("0x669")](d*Math.PI/2)},Out:function(d){return Math[_0x1dda("0x617")](d*Math.PI/2)},InOut:function(d){return.5*(1-Math[_0x1dda("0x669")](Math.PI*d))}},Exponential:{In:function(d){return 0===d?0:Math.pow(1024,d-1)},Out:function(d){return 1===d?1:1-Math[_0x1dda("0xea")](2,-10*d)},InOut:function(d){return 0===d?0:1===d?1:(d*=2)<1?.5*Math[_0x1dda("0xea")](1024,d-1):.5*(2-Math[_0x1dda("0xea")](2,-10*(d-1)))}},Circular:{In:function(d){return 1-Math[_0x1dda("0x103")](1-d*d)},Out:function(d){return Math[_0x1dda("0x103")](1- --d*d)},InOut:function(d){return(d*=2)<1?-.5*(Math.sqrt(1-d*d)-1):.5*(Math[_0x1dda("0x103")](1-(d-=2)*d)+1)}},Elastic:{In:function(d){return 0===d?0:1===d?1:-Math.pow(2,10*(d-1))*Math[_0x1dda("0x617")](5*(d-1.1)*Math.PI)},Out:function(d){return 0===d?0:1===d?1:Math[_0x1dda("0xea")](2,-10*d)*Math.sin(5*(d-.1)*Math.PI)+1},InOut:function(d){return 0===d?0:1===d?1:(d*=2)<1?-.5*Math.pow(2,10*(d-1))*Math[_0x1dda("0x617")](5*(d-1.1)*Math.PI):.5*Math[_0x1dda("0xea")](2,-10*(d-1))*Math[_0x1dda("0x617")](5*(d-1.1)*Math.PI)+1}},Back:{In:function(d){var x=1.70158;return d*d*(2.70158*d-x)},Out:function(d){var x=1.70158;return--d*d*(2.70158*d+x)+1},InOut:function(d){var x=2.5949095;return(d*=2)<1?d*d*(3.5949095*d-x)*.5:.5*((d-=2)*d*(3.5949095*d+x)+2)}},Bounce:{In:function(d){return 1-r[_0x1dda("0x193")][_0x1dda("0x69f")].Out(1-d)},Out:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375},InOut:function(d){return d<.5?.5*r[_0x1dda("0x193")][_0x1dda("0x69f")].In(2*d):.5*r.Easing[_0x1dda("0x69f")][_0x1dda("0x194")](2*d-1)+.5}}},r.Interpolation={Linear:function(d,x){var a=d[_0x1dda("0x0")]-1,_=a*x,e=Math[_0x1dda("0x1dd")](_),t=r[_0x1dda("0x690")][_0x1dda("0x6a0")].Linear;return x<0?t(d[0],d[1],_):x>1?t(d[a],d[a-1],a-_):t(d[e],d[e+1>a?a:e+1],_-e)},Bezier:function(d,x){for(var a=0,_=d.length-1,e=Math[_0x1dda("0xea")],t=r[_0x1dda("0x690")].Utils.Bernstein,i=0;i<=_;i++)a+=e(1-x,_-i)*e(x,i)*d[i]*t(_,i);return a},CatmullRom:function(d,x){var a=d[_0x1dda("0x0")]-1,_=a*x,e=Math[_0x1dda("0x1dd")](_),t=r[_0x1dda("0x690")][_0x1dda("0x6a0")].CatmullRom;return d[0]===d[a]?(x<0&&(e=Math[_0x1dda("0x1dd")](_=a*(1+x))),t(d[(e-1+a)%a],d[e],d[(e+1)%a],d[(e+2)%a],_-e)):x<0?d[0]-(t(d[0],d[0],d[1],d[1],-_)-d[0]):x>1?d[a]-(t(d[a],d[a],d[a-1],d[a-1],_-a)-d[a]):t(d[e?e-1:0],d[e],d[a<e+1?a:e+1],d[a<e+2?a:e+2],_-e)},Utils:{Linear:function(d,x,a){return(x-d)*a+d},Bernstein:function(d,x){var a=r.Interpolation.Utils[_0x1dda("0x6a1")];return a(d)/a(x)/a(d-x)},Factorial:(n=[1],function(d){var x=1;if(n[d])return n[d];for(var a=d;a>1;a--)x*=a;return n[d]=x,x}),CatmullRom:function(d,x,a,_,e){var t=.5*(a-d),i=.5*(_-x),n=e*e;return(2*x-2*a+t+i)*(e*n)+(-3*x+3*a-2*t-i)*n+t*e+x}}},x.default=r})[_0x1dda("0x3")](this,a(74))},function(d,x,a){"use strict";THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:[_0x1dda("0x6a2"),_0x1dda("0x6a3"),_0x1dda("0x6a4"),_0x1dda("0x6a5"),"}"][_0x1dda("0x4a6")]("\n"),fragmentShader:[_0x1dda("0x143"),"uniform sampler2D tDiffuse;",_0x1dda("0x6a2"),_0x1dda("0x6a3"),_0x1dda("0x6a6"),_0x1dda("0x6a7"),"}"][_0x1dda("0x4a6")]("\n")}},function(d,x,a){"use strict";var _,e,t,i,n=a(2),r=(_=n)&&_[_0x1dda("0xc")]?_:{default:_};THREE.EffectComposer=function(d,x){if(this.renderer=d,void 0===x){var a={minFilter:THREE[_0x1dda("0x32a")],magFilter:THREE[_0x1dda("0x32a")],format:THREE[_0x1dda("0x6a8")],stencilBuffer:!1},_=d[_0x1dda("0x6a9")](new(THREE[_0x1dda("0x50f")]));this[_0x1dda("0x6aa")]=d.getPixelRatio(),this[_0x1dda("0x6ab")]=_[_0x1dda("0x1a5")],this[_0x1dda("0x6ac")]=_[_0x1dda("0x18b")],(x=new THREE.WebGLRenderTarget(this._width*this[_0x1dda("0x6aa")],this[_0x1dda("0x6ac")]*this._pixelRatio,a))[_0x1dda("0x5df")][_0x1dda("0xfc")]=_0x1dda("0x6ad")}else this._pixelRatio=1,this[_0x1dda("0x6ab")]=x[_0x1dda("0x1a5")],this[_0x1dda("0x6ac")]=x.height;this.renderTarget1=x,this[_0x1dda("0x6ae")]=x[_0x1dda("0x116")](),this.renderTarget2[_0x1dda("0x5df")][_0x1dda("0xfc")]="EffectComposer.rt2",this.writeBuffer=this[_0x1dda("0x6af")],this[_0x1dda("0x6b0")]=this.renderTarget2,this[_0x1dda("0x6b1")]=!0,this[_0x1dda("0x6b2")]=[],THREE[_0x1dda("0x6b3")],void 0===THREE.ShaderPass&&console[_0x1dda("0x1eb")]("THREE.EffectComposer relies on THREE.ShaderPass"),this[_0x1dda("0x6b4")]=new(THREE[_0x1dda("0x6b5")])(THREE[_0x1dda("0x6b3")]),this[_0x1dda("0x27f")]=new(THREE[_0x1dda("0x1bf")])},(0,r[_0x1dda("0xd")])(THREE[_0x1dda("0x6b6")].prototype,{swapBuffers:function(){var d=this.readBuffer;this[_0x1dda("0x6b0")]=this[_0x1dda("0x6b7")],this[_0x1dda("0x6b7")]=d},addPass:function(d){this[_0x1dda("0x6b2")].push(d);var x=this[_0x1dda("0x32c")][_0x1dda("0x6b8")](new(THREE[_0x1dda("0x50f")]));d[_0x1dda("0x2d4")](x[_0x1dda("0x1a5")],x[_0x1dda("0x18b")])},insertPass:function(d,x){this[_0x1dda("0x6b2")].splice(x,0,d)},isLastEnabledPass:function(d){for(var x=d+1;x<this[_0x1dda("0x6b2")][_0x1dda("0x0")];x++)if(this[_0x1dda("0x6b2")][x][_0x1dda("0x6b9")])return!1;return!0},render:function(d){void 0===d&&(d=this[_0x1dda("0x27f")][_0x1dda("0x263")]());var x,a,_=this[_0x1dda("0x32c")][_0x1dda("0x6ba")](),e=!1,t=this.passes[_0x1dda("0x0")];for(a=0;a<t;a++)if(!1!==(x=this[_0x1dda("0x6b2")][a]).enabled){if(x[_0x1dda("0x6b1")]=this[_0x1dda("0x6b1")]&&this[_0x1dda("0x6bb")](a),x.render(this[_0x1dda("0x32c")],this[_0x1dda("0x6b7")],this[_0x1dda("0x6b0")],d,e),x[_0x1dda("0x6bc")]){if(e){var i=this[_0x1dda("0x32c")].context;i[_0x1dda("0x6bd")](i[_0x1dda("0x6be")],1,4294967295),this.copyPass.render(this.renderer,this[_0x1dda("0x6b7")],this[_0x1dda("0x6b0")],d),i[_0x1dda("0x6bd")](i[_0x1dda("0x6bf")],1,4294967295)}this[_0x1dda("0x6c0")]()}void 0!==THREE[_0x1dda("0x6c1")]&&(x instanceof THREE[_0x1dda("0x6c1")]?e=!0:x instanceof THREE[_0x1dda("0x6c2")]&&(e=!1))}this.renderer.setRenderTarget(_)},reset:function(d){if(void 0===d){var x=this[_0x1dda("0x32c")][_0x1dda("0x6a9")](new THREE.Vector2);this._pixelRatio=this[_0x1dda("0x32c")].getPixelRatio(),this[_0x1dda("0x6ab")]=x[_0x1dda("0x1a5")],this[_0x1dda("0x6ac")]=x[_0x1dda("0x18b")],(d=this.renderTarget1.clone())[_0x1dda("0x2d4")](this[_0x1dda("0x6ab")]*this._pixelRatio,this._height*this[_0x1dda("0x6aa")])}this.renderTarget1.dispose(),this[_0x1dda("0x6ae")][_0x1dda("0xe8")](),this[_0x1dda("0x6af")]=d,this.renderTarget2=d[_0x1dda("0x116")](),this[_0x1dda("0x6b7")]=this.renderTarget1,this[_0x1dda("0x6b0")]=this.renderTarget2},setSize:function(d,x){this[_0x1dda("0x6ab")]=d,this._height=x;var a=this._width*this[_0x1dda("0x6aa")],_=this[_0x1dda("0x6ac")]*this._pixelRatio;this.renderTarget1[_0x1dda("0x2d4")](a,_),this[_0x1dda("0x6ae")].setSize(a,_);for(var e=0;e<this[_0x1dda("0x6b2")][_0x1dda("0x0")];e++)this[_0x1dda("0x6b2")][e][_0x1dda("0x2d4")](a,_)},setPixelRatio:function(d){this[_0x1dda("0x6aa")]=d,this[_0x1dda("0x2d4")](this[_0x1dda("0x6ab")],this[_0x1dda("0x6ac")])}}),THREE[_0x1dda("0x6c3")]=function(){this[_0x1dda("0x6b9")]=!0,this.needsSwap=!0,this[_0x1dda("0x6c4")]=!1,this[_0x1dda("0x6b1")]=!1},(0,r[_0x1dda("0xd")])(THREE[_0x1dda("0x6c3")][_0x1dda("0x1")],{setSize:function(){},render:function(){_0x1dda("0x6c5")}}),THREE[_0x1dda("0x6c3")][_0x1dda("0x6c6")]=(e=new(THREE[_0x1dda("0x6c7")])(-1,1,1,-1,0,1),t=new(THREE[_0x1dda("0x6c8")])(2,2),i=function(d){this._mesh=new THREE.Mesh(t,d)},Object[_0x1dda("0xa")](i[_0x1dda("0x1")],"material",{get:function(){return this[_0x1dda("0x6c9")].material},set:function(d){this[_0x1dda("0x6c9")].material=d}}),(0,r.default)(i.prototype,{render:function(d){d[_0x1dda("0x6ca")](this[_0x1dda("0x6c9")],e)}}),i)},function(d,x,a){"use strict";var _=t(a(20)),e=t(a(2));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}THREE[_0x1dda("0x6c1")]=function(d,x){THREE[_0x1dda("0x6c3")][_0x1dda("0x3")](this),this[_0x1dda("0xf7")]=d,this[_0x1dda("0x614")]=x,this[_0x1dda("0x6c4")]=!0,this[_0x1dda("0x6bc")]=!1,this[_0x1dda("0x4d4")]=!1},THREE[_0x1dda("0x6c1")].prototype=(0,e.default)((0,_[_0x1dda("0xd")])(THREE[_0x1dda("0x6c3")][_0x1dda("0x1")]),{constructor:THREE.MaskPass,render:function(d,x,a){var _,e,t=d[_0x1dda("0x336")],i=d[_0x1dda("0x6cb")];i.buffers.color.setMask(!1),i[_0x1dda("0x3e0")][_0x1dda("0x2bb")][_0x1dda("0x6cc")](!1),i[_0x1dda("0x3e0")][_0x1dda("0x138")][_0x1dda("0x6cd")](!0),i.buffers[_0x1dda("0x2bb")][_0x1dda("0x6cd")](!0),this[_0x1dda("0x4d4")]?(_=0,e=1):(_=1,e=0),i[_0x1dda("0x3e0")].stencil[_0x1dda("0x6ce")](!0),i[_0x1dda("0x3e0")][_0x1dda("0x6cf")][_0x1dda("0x6d0")](t[_0x1dda("0x6d1")],t.REPLACE,t.REPLACE),i[_0x1dda("0x3e0")][_0x1dda("0x6cf")][_0x1dda("0x6d2")](t[_0x1dda("0x6d3")],_,4294967295),i[_0x1dda("0x3e0")][_0x1dda("0x6cf")][_0x1dda("0x6d4")](e),d.setRenderTarget(a),this[_0x1dda("0x6c4")]&&d.clear(),d.render(this[_0x1dda("0xf7")],this[_0x1dda("0x614")]),d[_0x1dda("0x6d5")](x),this[_0x1dda("0x6c4")]&&d[_0x1dda("0x6c4")](),d[_0x1dda("0x6ca")](this[_0x1dda("0xf7")],this.camera),i[_0x1dda("0x3e0")][_0x1dda("0x138")][_0x1dda("0x6cd")](!1),i.buffers.depth.setLocked(!1),i[_0x1dda("0x3e0")][_0x1dda("0x6cf")][_0x1dda("0x6d2")](t[_0x1dda("0x6bf")],1,4294967295),i[_0x1dda("0x3e0")][_0x1dda("0x6cf")].setOp(t[_0x1dda("0x6d6")],t[_0x1dda("0x6d6")],t[_0x1dda("0x6d6")])}}),THREE[_0x1dda("0x6c2")]=function(){THREE[_0x1dda("0x6c3")][_0x1dda("0x3")](this),this[_0x1dda("0x6bc")]=!1},THREE.ClearMaskPass[_0x1dda("0x1")]=(0,_[_0x1dda("0xd")])(THREE[_0x1dda("0x6c3")][_0x1dda("0x1")]),(0,e[_0x1dda("0xd")])(THREE.ClearMaskPass.prototype,{render:function(d){d[_0x1dda("0x6cb")].buffers.stencil.setTest(!1)}})},function(d,x,a){"use strict";var _=t(a(20)),e=t(a(2));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}THREE[_0x1dda("0x6d7")]=function(d,x,a,_,e){THREE[_0x1dda("0x6c3")][_0x1dda("0x3")](this),this[_0x1dda("0xf7")]=d,this.camera=x,this[_0x1dda("0x6d8")]=a,this[_0x1dda("0x6d9")]=_,this[_0x1dda("0x6da")]=void 0!==e?e:0,this[_0x1dda("0x6c4")]=!0,this[_0x1dda("0x6db")]=!1,this.needsSwap=!1},THREE[_0x1dda("0x6d7")].prototype=(0,e[_0x1dda("0xd")])((0,_[_0x1dda("0xd")])(THREE[_0x1dda("0x6c3")][_0x1dda("0x1")]),{constructor:THREE.RenderPass,render:function(d,x,a){var _,e,t=d[_0x1dda("0x6dc")];d.autoClear=!1,this[_0x1dda("0xf7")][_0x1dda("0x6d8")]=this[_0x1dda("0x6d8")],this.clearColor&&(_=d[_0x1dda("0x6dd")]().getHex(),e=d.getClearAlpha(),d[_0x1dda("0x6de")](this[_0x1dda("0x6d9")],this.clearAlpha)),this[_0x1dda("0x6db")]&&d[_0x1dda("0x6db")](),d.setRenderTarget(this[_0x1dda("0x6b1")]?null:a),this[_0x1dda("0x6c4")]&&d.clear(d[_0x1dda("0x6df")],d[_0x1dda("0x6e0")],d.autoClearStencil),d[_0x1dda("0x6ca")](this.scene,this[_0x1dda("0x614")]),this[_0x1dda("0x6d9")]&&d[_0x1dda("0x6de")](_,e),this[_0x1dda("0xf7")][_0x1dda("0x6d8")]=null,d.autoClear=t}})},function(d,x,a){"use strict";var _=t(a(20)),e=t(a(2));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}THREE[_0x1dda("0x6b5")]=function(d,x){THREE.Pass[_0x1dda("0x3")](this),this.textureID=void 0!==x?x:_0x1dda("0x6e1"),d instanceof THREE[_0x1dda("0x6e2")]?(this[_0x1dda("0x171")]=d[_0x1dda("0x171")],this[_0x1dda("0xe9")]=d):d&&(this[_0x1dda("0x171")]=THREE[_0x1dda("0x6e3")][_0x1dda("0x116")](d[_0x1dda("0x171")]),this[_0x1dda("0xe9")]=new(THREE[_0x1dda("0x6e2")])({defines:(0,e[_0x1dda("0xd")])({},d.defines),uniforms:this[_0x1dda("0x171")],vertexShader:d[_0x1dda("0x13e")],fragmentShader:d[_0x1dda("0x142")]})),this[_0x1dda("0x6e4")]=new(THREE[_0x1dda("0x6c3")].FullScreenQuad)(this.material)},THREE[_0x1dda("0x6b5")].prototype=(0,e.default)((0,_[_0x1dda("0xd")])(THREE[_0x1dda("0x6c3")][_0x1dda("0x1")]),{constructor:THREE[_0x1dda("0x6b5")],render:function(d,x,a){this.uniforms[this[_0x1dda("0x6e5")]]&&(this[_0x1dda("0x171")][this[_0x1dda("0x6e5")]][_0x1dda("0xd8")]=a[_0x1dda("0x5df")]),this[_0x1dda("0x6e4")].material=this[_0x1dda("0xe9")],this[_0x1dda("0x6b1")]?(d.setRenderTarget(null),this[_0x1dda("0x6e4")][_0x1dda("0x6ca")](d)):(d.setRenderTarget(x),this[_0x1dda("0x6c4")]&&d[_0x1dda("0x6c4")](d[_0x1dda("0x6df")],d.autoClearDepth,d.autoClearStencil),this[_0x1dda("0x6e4")][_0x1dda("0x6ca")](d))}})},function(d,x,a){"use strict";var _=t(a(68)),e=t(a(20));function t(d){return d&&d.__esModule?d:{default:d}}THREE[_0x1dda("0x6e6")]=function(d){THREE[_0x1dda("0x384")][_0x1dda("0x3")](this),this[_0x1dda("0x41c")]=d,this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0xfa")]="absolute",this[_0x1dda("0x30")](_0x1dda("0x1ef"),(function(d){null!==this.element.parentNode&&this[_0x1dda("0x41c")][_0x1dda("0x27")][_0x1dda("0x28")](this[_0x1dda("0x41c")])}))},THREE.CSS2DObject[_0x1dda("0x1")]=(0,e.default)(THREE[_0x1dda("0x384")].prototype),THREE[_0x1dda("0x6e6")][_0x1dda("0x1")].constructor=THREE[_0x1dda("0x6e6")],THREE[_0x1dda("0x6e7")]=function(){var d,x,a,e,t=new(THREE[_0x1dda("0x11c")]),i=new(THREE[_0x1dda("0x207")]),n=new THREE.Matrix4,r={objects:new(_[_0x1dda("0xd")])},s=document[_0x1dda("0x20")]("div");s.style.overflow=_0x1dda("0x6e8"),s.style[_0x1dda("0xfa")]=_0x1dda("0x6e9"),this[_0x1dda("0x1a0")]=s,this[_0x1dda("0x6a9")]=function(){return{width:d,height:x}},this[_0x1dda("0x2d4")]=function(_,t){a=(d=_)/2,e=(x=t)/2,s[_0x1dda("0x120")][_0x1dda("0x1a5")]=_+"px",s[_0x1dda("0x120")].height=t+"px"};var o,c,l=function d(x,_){if(x instanceof THREE[_0x1dda("0x6e6")]){t[_0x1dda("0x6ea")](x[_0x1dda("0x3ac")]),t[_0x1dda("0x1f8")](n);var i=t.x*a+a,o=-t.y*e+e,c="-100%",l=_0x1dda("0x6eb"),u=x[_0x1dda("0x41c")];if(x[_0x1dda("0x153")][_0x1dda("0x6ec")]){var h=u[_0x1dda("0x495")]();c=o>h[_0x1dda("0x18b")]?_0x1dda("0x6ed"):0,i<h[_0x1dda("0x1a5")]/2?l="0":2*a-i<h[_0x1dda("0x1a5")]/2&&(l="-100%")}var g=x[_0x1dda("0x153")].computedScale,b=_0x1dda("0x4a5")+l+", "+c+") translate("+i+_0x1dda("0x4a3")+o+"px) scale("+g+")";x[_0x1dda("0x31a")]=i,x[_0x1dda("0x31b")]=o,u[_0x1dda("0x120")].WebkitTransform=b,u[_0x1dda("0x120")].MozTransform=b,u.style.oTransform=b,u[_0x1dda("0x120")][_0x1dda("0x65b")]=b;var v=x[_0x1dda("0x169")]&&t.z>=-1&&t.z<=1?"":"none";u[_0x1dda("0x120")][_0x1dda("0x1a7")]=v,x[_0x1dda("0x40")]({type:_0x1dda("0x152"),message:{x:i,y:o,display:v}});var p={distanceToCameraSquared:f(_,x)};if(r.objects.set(x,p),u.parentNode!==s){var m=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x19f")].canvas;s[_0x1dda("0x49c")](m)?s[_0x1dda("0x6ee")](u,m):s[_0x1dda("0x24")](u);var A=document[_0x1dda("0x6ef")]("HTMLEvents");A.initEvent(_0x1dda("0x6f0"),!1,!0),A[_0x1dda("0x6f1")]=u,document.dispatchEvent(A,{dom:u})}}for(var C=0,I=x.children.length;C<I;C++)d(x.children[C],_)},f=(o=new(THREE[_0x1dda("0x11c")]),c=new(THREE[_0x1dda("0x11c")]),function(d,x){return o[_0x1dda("0x6ea")](d.matrixWorld),c[_0x1dda("0x6ea")](x[_0x1dda("0x3ac")]),o[_0x1dda("0x6f2")](c)}),u=function(d){for(var x,a,_=(x=d,a=[],x.traverse((function(d){d instanceof THREE.CSS2DObject&&a.push(d)})),a).sort((function(d,x){return r[_0x1dda("0x6f3")][_0x1dda("0xd6")](d)[_0x1dda("0x6f4")]-r[_0x1dda("0x6f3")][_0x1dda("0xd6")](x)[_0x1dda("0x6f4")]})),e=_[_0x1dda("0x0")],t=0,i=_[_0x1dda("0x0")];t<i;t++)_[t][_0x1dda("0x41c")].style.zIndex=e-t};this[_0x1dda("0x6ca")]=function(d,x){d[_0x1dda("0x6f5")](),null===x[_0x1dda("0xfe")]&&x[_0x1dda("0x6f5")](),i[_0x1dda("0x20e")](x[_0x1dda("0x3ab")]),n[_0x1dda("0x3aa")](x[_0x1dda("0x6f6")],i),l(d,x),u(d)}}},function(d,x,a){"use strict";THREE[_0x1dda("0x6f7")]=function(d,x){function a(d){d[_0x1dda("0x473")]()}this[_0x1dda("0x1b")]=d,this.target=new THREE.Vector3(0,0,0),this[_0x1dda("0x1a0")]=void 0!==x?x:document,this[_0x1dda("0x6b9")]=!0,this[_0x1dda("0x6f8")]=1,this[_0x1dda("0x6f9")]=.005,this[_0x1dda("0x6fa")]=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this[_0x1dda("0x6fb")]=1,this.heightMin=0,this.heightMax=10,this.maxHigh=1e3,this[_0x1dda("0x6fc")]=0,this[_0x1dda("0x6fd")]=!1,this[_0x1dda("0x6fe")]=0,this[_0x1dda("0x6ff")]=Math.PI,this.autoSpeedFactor=0,this[_0x1dda("0x700")]=0,this[_0x1dda("0x701")]=0,this[_0x1dda("0x702")]=0,this[_0x1dda("0x703")]=0,this[_0x1dda("0x704")]=0,this.theta=0,this.moveForward=!1,this[_0x1dda("0x705")]=!1,this[_0x1dda("0x706")]=!1,this[_0x1dda("0x707")]=!1,this.mouseClickMoving=!1,this[_0x1dda("0x708")]=!1,this[_0x1dda("0x709")]={x:0,y:0},this.mouseMoveOn=!1,this[_0x1dda("0x70a")]=0,this[_0x1dda("0x70b")]=0,this[_0x1dda("0x70c")]=!1,this[_0x1dda("0x70d")]=!1,this[_0x1dda("0x70e")]=0,this.nextPos=null,this[_0x1dda("0x70f")]=null,this[_0x1dda("0x710")]=0,this.rotating=0,this[_0x1dda("0x711")]=0,this[_0x1dda("0x1a0")]!==document&&this[_0x1dda("0x1a0")][_0x1dda("0x41f")](_0x1dda("0x712"),-1),this[_0x1dda("0x713")]=function(){this[_0x1dda("0x1a0")]===document?(this[_0x1dda("0x70a")]=window[_0x1dda("0x714")]/2,this[_0x1dda("0x70b")]=window[_0x1dda("0x715")]/2):(this[_0x1dda("0x70a")]=this.domElement.offsetWidth/2,this[_0x1dda("0x70b")]=this[_0x1dda("0x1a0")][_0x1dda("0x26")]/2)},this[_0x1dda("0x716")]=function(d){if(this[_0x1dda("0x6b9")]){if(this[_0x1dda("0x1a0")]!==document&&this[_0x1dda("0x1a0")].focus(),d.preventDefault(),0==this[_0x1dda("0x717")]&&d[_0x1dda("0x343")](),this[_0x1dda("0x718")]&&this[_0x1dda("0x717")])switch(d.button){case 0:this[_0x1dda("0x719")]=!0;break;case 2:this[_0x1dda("0x705")]=!0}this[_0x1dda("0x708")]=!0}},this[_0x1dda("0x71a")]=function(d){if(this[_0x1dda("0x6b9")]){if(d[_0x1dda("0x473")](),0==this[_0x1dda("0x717")]&&d[_0x1dda("0x343")](),this[_0x1dda("0x718")])switch(d[_0x1dda("0x71b")]){case 0:this[_0x1dda("0x719")]=!1;break;case 2:this[_0x1dda("0x705")]=!1}this[_0x1dda("0x708")]=!1}},this[_0x1dda("0x71c")]=function(d){if(this.stopAsap=!1,this[_0x1dda("0x6b9")]){this[_0x1dda("0x1a0")]===document?(this[_0x1dda("0x700")]=d[_0x1dda("0x71d")]-this[_0x1dda("0x70a")],this[_0x1dda("0x701")]=d.pageY-this[_0x1dda("0x70b")]):(this[_0x1dda("0x700")]=d[_0x1dda("0x71d")]-this[_0x1dda("0x1a0")].offsetLeft-this[_0x1dda("0x70a")],this.mouseY=d[_0x1dda("0x71e")]-this.domElement.offsetTop-this[_0x1dda("0x70b")]),this[_0x1dda("0x71f")]=!0;var x=this;window.clearTimeout(x[_0x1dda("0x720")]),this[_0x1dda("0x720")]=setTimeout((function(){x[_0x1dda("0x70c")]=!0}),1e3),this[_0x1dda("0x709")]={x:this.mouseX,y:this.mouseY}}},this.onKeyDown=function(d){if(this[_0x1dda("0x6b9")])switch(d[_0x1dda("0x473")](),d[_0x1dda("0x223")]){case 38:case 87:this.moveForward=!0;break;case 37:case 65:this[_0x1dda("0x706")]=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this[_0x1dda("0x707")]=!0;break;case 82:this.moveUp=!0;break;case 70:this[_0x1dda("0x721")]=!0;break;case 18:this.stopAsap2=!0}},this[_0x1dda("0x722")]=function(d){if(this[_0x1dda("0x6b9")])switch(d[_0x1dda("0x223")]){case 38:case 87:this.moveForward=!1;break;case 37:case 65:this[_0x1dda("0x706")]=!1;break;case 40:case 83:this[_0x1dda("0x705")]=!1;break;case 39:case 68:this[_0x1dda("0x707")]=!1;break;case 82:this[_0x1dda("0x723")]=!1;break;case 70:this[_0x1dda("0x721")]=!1;break;case 18:this.stopAsap2=!1}},this.update=function(d){if(!1!==this[_0x1dda("0x6b9")]){if(this[_0x1dda("0x724")]){var x=THREE[_0x1dda("0x1fa")][_0x1dda("0x725")](this.object[_0x1dda("0xfa")].y,this[_0x1dda("0x726")],this[_0x1dda("0x727")])-this[_0x1dda("0x726")];this.autoSpeedFactor=d*(x*this[_0x1dda("0x6fb")])}else this.autoSpeedFactor=0;var a=d*this.movementSpeed,_=this[_0x1dda("0x1b")][_0x1dda("0xfa")].y;this[_0x1dda("0x70e")]&&this[_0x1dda("0x728")]?(this[_0x1dda("0x1b")][_0x1dda("0xfa")].x=this.nextPos.x,this[_0x1dda("0x1b")].position.z=this[_0x1dda("0x728")].z,this[_0x1dda("0x1b")][_0x1dda("0xfa")].y=this[_0x1dda("0x728")].y):((this[_0x1dda("0x719")]||this.autoForward&&!this[_0x1dda("0x705")])&&this[_0x1dda("0x1b")][_0x1dda("0x729")](-(a+this.autoSpeedFactor)),this[_0x1dda("0x705")]&&this[_0x1dda("0x1b")][_0x1dda("0x729")](a),this[_0x1dda("0x706")]&&this.object[_0x1dda("0x72a")](-a),this[_0x1dda("0x707")]&&this[_0x1dda("0x1b")][_0x1dda("0x72a")](a),this[_0x1dda("0x1b")][_0x1dda("0xfa")].y=_,this[_0x1dda("0x723")]&&this.object.translateY(a),this[_0x1dda("0x721")]&&this[_0x1dda("0x1b")][_0x1dda("0x72b")](-a));var e=THREE.Math[_0x1dda("0x725")](this[_0x1dda("0x1b")].position.y,this[_0x1dda("0x6fc")],this.maxHigh);this[_0x1dda("0x1b")][_0x1dda("0xfa")].y=e;var t=d*this[_0x1dda("0x6f9")];this[_0x1dda("0x718")]||(t=0);var i=1;this.constrainVertical&&(i=Math.PI/(this.verticalMax-this[_0x1dda("0x6fe")])),this[_0x1dda("0x70e")]&&!this[_0x1dda("0x711")]&&(this[_0x1dda("0x700")]=0,this.mouseY=0),(this[_0x1dda("0x70c")]||this[_0x1dda("0x70d")])&&(this.mouseX=0,this[_0x1dda("0x701")]=0),this[_0x1dda("0x703")]+=this.mouseX*t,this[_0x1dda("0x6fa")]&&(this.lat-=this[_0x1dda("0x701")]*t*i),this[_0x1dda("0x702")]=Math.max(-85,Math[_0x1dda("0x2f6")](85,this[_0x1dda("0x702")])),this[_0x1dda("0x704")]=THREE[_0x1dda("0x1fa")].degToRad(90-this[_0x1dda("0x702")]),this.theta=THREE[_0x1dda("0x1fa")].degToRad(this[_0x1dda("0x703")])+this[_0x1dda("0x710")],this[_0x1dda("0x6fd")]&&(this.phi=THREE.Math[_0x1dda("0x72c")](this[_0x1dda("0x704")],0,Math.PI,this[_0x1dda("0x6fe")],this[_0x1dda("0x6ff")]));var n=this[_0x1dda("0x227")],r=this.object[_0x1dda("0xfa")];n.x=r.x+100*Math.sin(this[_0x1dda("0x704")])*Math[_0x1dda("0x669")](this[_0x1dda("0x72d")]),this[_0x1dda("0x70e")]&&this.nextPos?n.y=r.y:n.y=r.y+100*Math[_0x1dda("0x669")](this[_0x1dda("0x704")]),n.z=r.z+100*Math[_0x1dda("0x617")](this[_0x1dda("0x704")])*Math[_0x1dda("0x617")](this[_0x1dda("0x72d")]),this[_0x1dda("0x70e")]&&this[_0x1dda("0x70f")]?this[_0x1dda("0x1b")][_0x1dda("0x208")](this[_0x1dda("0x70f")]):this.object[_0x1dda("0x208")](n),this.mouseMoveOn=!1,this[_0x1dda("0x70c")]=!1}},this[_0x1dda("0xe8")]=function(){this[_0x1dda("0x1a0")][_0x1dda("0x264")](_0x1dda("0x72e"),a,!1),this[_0x1dda("0x1a0")][_0x1dda("0x264")]("mousedown",e,!1),this[_0x1dda("0x1a0")][_0x1dda("0x264")](_0x1dda("0x72f"),_,!1),this[_0x1dda("0x1a0")][_0x1dda("0x264")]("mouseup",t,!1),window[_0x1dda("0x264")](_0x1dda("0x224"),i,!1),window[_0x1dda("0x264")](_0x1dda("0x730"),n,!1)};var _=r(this,this[_0x1dda("0x71c")]),e=r(this,this.onMouseDown),t=r(this,this[_0x1dda("0x71a")]),i=r(this,this.onKeyDown),n=r(this,this[_0x1dda("0x722")]);function r(d,x){return function(){x[_0x1dda("0x5")](d,arguments)}}this[_0x1dda("0x1a0")][_0x1dda("0x30")]("contextmenu",a,!1),this[_0x1dda("0x1a0")][_0x1dda("0x30")](_0x1dda("0x72f"),_,!1),this.domElement[_0x1dda("0x30")](_0x1dda("0x731"),e,!1),this.domElement[_0x1dda("0x30")](_0x1dda("0x732"),t,!1),window.addEventListener(_0x1dda("0x224"),i,!1),window[_0x1dda("0x30")](_0x1dda("0x730"),n,!1),this[_0x1dda("0x713")]()}},function(d,x,a){"use strict";var _=s(a(15)),e=s(a(12)),t=s(a(20)),i=s(a(13)),n=a(272),r=a(51);function s(d){return d&&d.__esModule?d:{default:d}}var o=null,c=null,l=null;THREE.ESGLTFLoader=function(){function d(d){this.manager=void 0!==d?d:THREE.DefaultLoadingManager,this[_0x1dda("0x733")]=null,l=new x}function x(){var d={};return{get:function(x){return d[x]},add:function(x,a){d[x]=a},remove:function(x){delete d[x]},removeAll:function(){d={}}}}d.prototype={constructor:d,crossOrigin:_0x1dda("0x734"),clearREG:function(){l[_0x1dda("0x735")]()},load:function(d,x,a,_,e){var t,i=this;e||(e=""),t=void 0!==this[_0x1dda("0x736")]?this[_0x1dda("0x736")]:void 0!==this[_0x1dda("0x29b")]?this[_0x1dda("0x29b")]:THREE[_0x1dda("0x737")][_0x1dda("0x738")](d),i.manager[_0x1dda("0x739")](d);var n=function(x){_?_(x):console[_0x1dda("0x3ec")](x),i[_0x1dda("0x73a")][_0x1dda("0x73b")](d),i[_0x1dda("0x73a")].itemEnd(d)},r=new(THREE[_0x1dda("0x73c")])(i[_0x1dda("0x73a")]);r[_0x1dda("0x48")](this[_0x1dda("0x29b")]),r.setResponseType(_0x1dda("0x44e")),r[_0x1dda("0x64d")](d,(function(a){try{i[_0x1dda("0x6d")](a,t,(function(a){x(a),i[_0x1dda("0x73a")][_0x1dda("0x73d")](d)}),n,d,e)||_&&_()}catch(d){n(d)}}),a,n)},setCrossOrigin:function(d){return this[_0x1dda("0x73e")]=d,this},setPath:function(d){return this[_0x1dda("0x29b")]=d,this},setResourcePath:function(d){return this[_0x1dda("0x736")]=d,this},setDRACOLoader:function(d){return this[_0x1dda("0x733")]=d,this},parse:function(d,x,_,e,t,i){var g,b,C={};if("string"==typeof d)g=d;else if(THREE[_0x1dda("0x737")].decodeText(new Uint8Array(d,0,4))===h){try{C[a[_0x1dda("0x73f")]]=new v(d)}catch(d){return void(e&&e(d))}g=C[a.KHR_BINARY_GLTF][_0x1dda("0x740")]}else g=THREE[_0x1dda("0x737")][_0x1dda("0x741")](new Uint8Array(d));b=JSON.parse(g.trim());esmap[_0x1dda("0x33")][_0x1dda("0x34")];if(b[_0x1dda("0x83")]||t.indexOf(_0x1dda("0x742"))>-1){var I=b.version[_0x1dda("0x2a")](".");if(I[0]>1)return;var y=r.Base64.decode(b[_0x1dda("0x442")]);y=y[_0x1dda("0x7b")](0,y.length-10),b[_0x1dda("0x743")]=JSON.parse((0,n[_0x1dda("0x45")])(y,"ESMAPEDITOR",I[1]))}if(b[_0x1dda("0x743")].version<2.1)console[_0x1dda("0x3ec")](_0x1dda("0x744"));else if(b[_0x1dda("0x743")]&&b.asset.hash&&b.asset[_0x1dda("0x442")]){var E=b[_0x1dda("0x743")][_0x1dda("0x746")];2.2==b[_0x1dda("0x743")].version&&(b[_0x1dda("0x743")][_0x1dda("0x442")]=r[_0x1dda("0x8a")].decode(b[_0x1dda("0x743")][_0x1dda("0x442")]));var w=(0,n[_0x1dda("0x45")])(b[_0x1dda("0x743")][_0x1dda("0x442")],"ESMAPOK","GLTF");if(w.replace('\\"','"'),w=w[_0x1dda("0x2a")](",")[_0x1dda("0x42")]((function(d){return 1*d})),b.scenes[0][_0x1dda("0x3d2")]=w,o=b[_0x1dda("0x747")][0][_0x1dda("0x3d2")][0],c=b[_0x1dda("0x747")][0].nodes[1],o&&c){b.nodes||(b[_0x1dda("0x3d2")]=[]),b[_0x1dda("0xf6")]||(b.meshes=[]),b.accessors||(b.accessors=[]),b[_0x1dda("0x748")]||(b[_0x1dda("0x748")]=[]),b[_0x1dda("0x3e0")]||(b[_0x1dda("0x3e0")]=[]),b.materials||(b.materials=[]),b[_0x1dda("0x749")]||(b[_0x1dda("0x749")]=[]),b[_0x1dda("0x74a")]||(b[_0x1dda("0x74a")]=[]),b[_0x1dda("0x74b")]||(b[_0x1dda("0x74b")]=[]);var T=(b.nodes[_0x1dda("0x0")]+1)*(b[_0x1dda("0xf6")].length+1)*(b[_0x1dda("0x74c")][_0x1dda("0x0")]+1)*(b[_0x1dda("0x748")].length+1)*(b[_0x1dda("0x3e0")][_0x1dda("0x0")]+1)*(b.materials[_0x1dda("0x0")]+1)*(b.textures[_0x1dda("0x0")]+1)*(b[_0x1dda("0x74a")][_0x1dda("0x0")]+1)*(b[_0x1dda("0x74b")][_0x1dda("0x0")]+1);if((T%=1e7)==o){var k=esmap[_0x1dda("0x86")].encode64(c+esmap[_0x1dda("0x86")][_0x1dda("0x87")](o+_0x1dda("0x74d")));if(b[_0x1dda("0x743")][_0x1dda("0x2")]("b")){var S=b[_0x1dda("0x743")].b;if(esmap.ESMapUtil[_0x1dda("0x87")](_0x1dda("0x74e")+i)!=S)throw"æ¨¡åæªç»ææ!";k=esmap[_0x1dda("0x86")].encode64(k+S)}var M=k==E;if(k==E){if(b[_0x1dda("0x743")][_0x1dda("0x74f")]=t,b[_0x1dda("0x750")])for(var R=0;R<b[_0x1dda("0x750")][_0x1dda("0x0")]&&M;++R){var L=b[_0x1dda("0x750")][R],D=b[_0x1dda("0x751")]||[];switch(L){case a.KHR_LIGHTS_PUNCTUAL:C[L]=new f(b);break;case a.KHR_MATERIALS_UNLIT:C[L]=new u(b);break;case a[_0x1dda("0x752")]:C[L]=new A(b);break;case a[_0x1dda("0x753")]:C[L]=new p(b,this.dracoLoader);break;case a[_0x1dda("0x754")]:C[a.MSFT_TEXTURE_DDS]=new s(b);break;case a[_0x1dda("0x755")]:C[a[_0x1dda("0x755")]]=new m(b);break;default:D[_0x1dda("0xaf")](L)>=0&&console[_0x1dda("0x3ec")](_0x1dda("0x756")+L+'".')}}if(M&&b[_0x1dda("0x747")][0][_0x1dda("0x3d2")][_0x1dda("0x6")](0,2),2.2==b[_0x1dda("0x743")][_0x1dda("0x83")]){var P=c%100,O=c%50;l[_0x1dda("0xce")](b[_0x1dda("0x743")][_0x1dda("0x74f")],[P,O])}var B=new j(b,C,{path:x||this[_0x1dda("0x736")]||"",crossOrigin:this[_0x1dda("0x73e")],manager:this[_0x1dda("0x73a")]});if(b.ms&&b.ms.images)for(var F=0;F<b.ms[_0x1dda("0x74a")][_0x1dda("0x0")];F++){var N=b.ms.images[F];THREE[_0x1dda("0x757")][_0x1dda("0x758")][_0x1dda("0xcd")](N.uri,N.t||0)}return B[_0x1dda("0x6d")]((function(d,x,a,e,t){var i={scene:d,scenes:x,cameras:a,animations:e,asset:t[_0x1dda("0x743")],parser:B,userData:{}};H(C,i,t),_(i)}),e),!0}}}}else console[_0x1dda("0x3ec")](esmap[_0x1dda("0x24d")][_0x1dda("0x745")]+t)}};var a={KHR_BINARY_GLTF:_0x1dda("0x759"),KHR_DRACO_MESH_COMPRESSION:_0x1dda("0x75a"),KHR_LIGHTS_PUNCTUAL:_0x1dda("0x75b"),KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:_0x1dda("0x75c"),KHR_MATERIALS_UNLIT:_0x1dda("0x75d"),KHR_TEXTURE_TRANSFORM:_0x1dda("0x75e"),MSFT_TEXTURE_DDS:_0x1dda("0x75f")};function s(){if(!THREE.DDSLoader)throw new Error(_0x1dda("0x760"));this[_0x1dda("0xfc")]=a[_0x1dda("0x754")],this[_0x1dda("0x761")]=new(THREE[_0x1dda("0x762")])}function f(d){this[_0x1dda("0xfc")]=a[_0x1dda("0x763")];var x=d[_0x1dda("0x764")]&&d[_0x1dda("0x764")][a[_0x1dda("0x763")]]||{};this[_0x1dda("0x765")]=x[_0x1dda("0x766")]||[]}function u(d){this.name=a.KHR_MATERIALS_UNLIT}f[_0x1dda("0x1")].loadLight=function(d){var x,a=this[_0x1dda("0x765")][d],_=new(THREE[_0x1dda("0x139")])(16777215);void 0!==a[_0x1dda("0x138")]&&_[_0x1dda("0x3ce")](a[_0x1dda("0x138")]);var e=void 0!==a[_0x1dda("0x4fd")]?a[_0x1dda("0x4fd")]:0;switch(a.type){case _0x1dda("0x767"):(x=new(THREE[_0x1dda("0x768")])(_))[_0x1dda("0x227")][_0x1dda("0xfa")][_0x1dda("0xcd")](0,0,-1),x.add(x.target);break;case _0x1dda("0x769"):(x=new(THREE[_0x1dda("0x76a")])(_))[_0x1dda("0x2a1")]=e;break;case _0x1dda("0x76b"):(x=new(THREE[_0x1dda("0x76c")])(_))[_0x1dda("0x2a1")]=e,a[_0x1dda("0x76b")]=a[_0x1dda("0x76b")]||{},a.spot.innerConeAngle=void 0!==a.spot[_0x1dda("0x76d")]?a[_0x1dda("0x76b")][_0x1dda("0x76d")]:0,a[_0x1dda("0x76b")][_0x1dda("0x76e")]=void 0!==a[_0x1dda("0x76b")].outerConeAngle?a[_0x1dda("0x76b")][_0x1dda("0x76e")]:Math.PI/4,x[_0x1dda("0x201")]=a.spot.outerConeAngle,x[_0x1dda("0x76f")]=1-a[_0x1dda("0x76b")][_0x1dda("0x76d")]/a[_0x1dda("0x76b")][_0x1dda("0x76e")],x[_0x1dda("0x227")][_0x1dda("0xfa")][_0x1dda("0xcd")](0,0,-1),x[_0x1dda("0xce")](x.target);break;default:throw new Error(_0x1dda("0x770")+a[_0x1dda("0x9f")]+'".')}return x.decay=2,void 0!==a[_0x1dda("0x3e9")]&&(x.intensity=a.intensity),x.name=a[_0x1dda("0xfc")]||"light_"+d,i[_0x1dda("0xd")].resolve(x)},u[_0x1dda("0x1")][_0x1dda("0x771")]=function(d){return THREE[_0x1dda("0x2b5")]},u.prototype[_0x1dda("0x772")]=function(d,x,a){var _=[];d[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(1,1,1),d[_0x1dda("0x11d")]=1;var e=x[_0x1dda("0x773")];if(e){if(Array.isArray(e[_0x1dda("0x774")])){var t=e[_0x1dda("0x774")];d[_0x1dda("0x138")][_0x1dda("0x3ce")](t),d[_0x1dda("0x11d")]=t[3]}void 0!==e.baseColorTexture&&_[_0x1dda("0x10")](a[_0x1dda("0x775")](d,_0x1dda("0x42"),e[_0x1dda("0x776")]))}return i[_0x1dda("0xd")][_0x1dda("0x641")](_)};var h=_0x1dda("0x777"),g=12,b={JSON:1313821514,BIN:5130562};function v(d){this.name=a[_0x1dda("0x73f")],this[_0x1dda("0x740")]=null,this.body=null;var x=new DataView(d,0,g);if(this[_0x1dda("0x778")]={magic:THREE[_0x1dda("0x737")][_0x1dda("0x741")](new Uint8Array(d[_0x1dda("0x11")](0,4))),version:x.getUint32(4,!0),length:x.getUint32(8,!0)},this[_0x1dda("0x778")][_0x1dda("0x779")]!==h)throw new Error("GLTFLoader: Unsupported glTF-Binary header.");if(this[_0x1dda("0x778")][_0x1dda("0x83")]<2)throw new Error(_0x1dda("0x77a"));for(var _=new DataView(d,g),e=0;e<_.byteLength;){var t=_[_0x1dda("0x77b")](e,!0);e+=4;var i=_[_0x1dda("0x77b")](e,!0);if(e+=4,i===b.JSON){var n=new Uint8Array(d,g+e,t);this[_0x1dda("0x740")]=THREE[_0x1dda("0x737")][_0x1dda("0x741")](n)}else if(i===b[_0x1dda("0x77c")]){var r=g+e;this.body=d[_0x1dda("0x11")](r,r+t)}e+=t}if(null===this[_0x1dda("0x740")])throw new Error(_0x1dda("0x77d"))}function p(d,x){if(!x)throw new Error("GLTFLoader: No DRACOLoader instance provided.");this.name=a[_0x1dda("0x753")],this[_0x1dda("0xf4")]=d,this[_0x1dda("0x733")]=x,THREE[_0x1dda("0x77e")][_0x1dda("0x77f")]()}function m(d){this[_0x1dda("0xfc")]=a[_0x1dda("0x755")]}function A(){return{name:a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:[_0x1dda("0x138"),_0x1dda("0x42"),_0x1dda("0x787"),"lightMapIntensity","aoMap",_0x1dda("0x788"),_0x1dda("0x3e7"),_0x1dda("0x3e8"),_0x1dda("0x789"),_0x1dda("0x78a"),"bumpScale",_0x1dda("0x78b"),_0x1dda("0x78c"),"displacementScale",_0x1dda("0x78d"),_0x1dda("0x78e"),_0x1dda("0x78f"),_0x1dda("0x790"),_0x1dda("0x791"),_0x1dda("0x792"),"envMap","envMapIntensity",_0x1dda("0x793")],getMaterialType:function(){return THREE[_0x1dda("0x6e2")]},extendParams:function(d,x,a){var _=x[_0x1dda("0x764")][this[_0x1dda("0xfc")]],e=THREE[_0x1dda("0x794")][_0x1dda("0x795")],t=THREE[_0x1dda("0x6e3")][_0x1dda("0x116")](e[_0x1dda("0x171")]),n=[_0x1dda("0x796"),_0x1dda("0x797"),_0x1dda("0x798")][_0x1dda("0x4a6")]("\n"),r=[_0x1dda("0x799"),_0x1dda("0x79a"),_0x1dda("0x798")][_0x1dda("0x4a6")]("\n"),s=["vec3 specularFactor = specular;",_0x1dda("0x796"),_0x1dda("0x79b"),_0x1dda("0x79c"),"\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture",_0x1dda("0x79d"),_0x1dda("0x798")][_0x1dda("0x4a6")]("\n"),o=[_0x1dda("0x79e"),_0x1dda("0x799"),_0x1dda("0x79f"),_0x1dda("0x7a0"),_0x1dda("0x7a1"),_0x1dda("0x798")][_0x1dda("0x4a6")]("\n"),c=[_0x1dda("0x7a2"),_0x1dda("0x7a3"),_0x1dda("0x7a4"),_0x1dda("0x7a5")][_0x1dda("0x4a6")]("\n"),l=e[_0x1dda("0x142")][_0x1dda("0x13f")]("uniform float roughness;",_0x1dda("0x7a6")).replace(_0x1dda("0x7a7"),_0x1dda("0x7a8"))[_0x1dda("0x13f")](_0x1dda("0x7a9"),n)[_0x1dda("0x13f")]("#include <metalnessmap_pars_fragment>",r)[_0x1dda("0x13f")](_0x1dda("0x7aa"),s)[_0x1dda("0x13f")](_0x1dda("0x7ab"),o)[_0x1dda("0x13f")](_0x1dda("0x7ac"),c);delete t.roughness,delete t.metalness,delete t.roughnessMap,delete t[_0x1dda("0x7ad")],t[_0x1dda("0x78f")]={value:(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x7ae")](1118481)},t[_0x1dda("0x791")]={value:.5},t[_0x1dda("0x78e")]={value:null},t[_0x1dda("0x790")]={value:null},d[_0x1dda("0x13e")]=e[_0x1dda("0x13e")],d[_0x1dda("0x142")]=l,d.uniforms=t,d[_0x1dda("0x7af")]={STANDARD:""},d[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(1,1,1),d[_0x1dda("0x11d")]=1;var f=[];if(Array[_0x1dda("0x2f4")](_[_0x1dda("0x7b0")])){var u=_[_0x1dda("0x7b0")];d.color[_0x1dda("0x3ce")](u),d.opacity=u[3]}if(void 0!==_[_0x1dda("0x7b1")]&&f[_0x1dda("0x10")](a[_0x1dda("0x775")](d,_0x1dda("0x42"),_[_0x1dda("0x7b1")])),d[_0x1dda("0x3e7")]=new(THREE[_0x1dda("0x139")])(0,0,0),d[_0x1dda("0x791")]=void 0!==_[_0x1dda("0x7b2")]?_[_0x1dda("0x7b2")]:1,d[_0x1dda("0x78f")]=new(THREE[_0x1dda("0x139")])(1,1,1),Array[_0x1dda("0x2f4")](_[_0x1dda("0x7b3")])&&d[_0x1dda("0x78f")][_0x1dda("0x3ce")](_[_0x1dda("0x7b3")]),void 0!==_[_0x1dda("0x7b4")]){var h=_[_0x1dda("0x7b4")];f[_0x1dda("0x10")](a[_0x1dda("0x775")](d,_0x1dda("0x790"),h)),f[_0x1dda("0x10")](a[_0x1dda("0x775")](d,_0x1dda("0x78e"),h))}return i[_0x1dda("0xd")][_0x1dda("0x641")](f)},createMaterial:function(d){var x=new THREE.ShaderMaterial({defines:d.defines,vertexShader:d.vertexShader,fragmentShader:d[_0x1dda("0x142")],uniforms:d[_0x1dda("0x171")],fog:!0,lights:!0,opacity:d[_0x1dda("0x11d")],transparent:d[_0x1dda("0x136")]});return x[_0x1dda("0x7b5")]=!0,x.color=d.color,x[_0x1dda("0x42")]=void 0===d[_0x1dda("0x42")]?null:d.map,x[_0x1dda("0x787")]=null,x[_0x1dda("0x7b6")]=1,x.aoMap=void 0===d[_0x1dda("0x7b7")]?null:d.aoMap,x[_0x1dda("0x788")]=1,x.emissive=d[_0x1dda("0x3e7")],x[_0x1dda("0x3e8")]=1,x[_0x1dda("0x789")]=void 0===d[_0x1dda("0x789")]?null:d[_0x1dda("0x789")],x.bumpMap=void 0===d.bumpMap?null:d.bumpMap,x[_0x1dda("0x7b8")]=1,x[_0x1dda("0x78b")]=void 0===d[_0x1dda("0x78b")]?null:d[_0x1dda("0x78b")],d[_0x1dda("0x7b9")]&&(x.normalScale=d[_0x1dda("0x7b9")]),x[_0x1dda("0x78c")]=null,x[_0x1dda("0x7ba")]=1,x[_0x1dda("0x78d")]=0,x[_0x1dda("0x78e")]=void 0===d[_0x1dda("0x78e")]?null:d.specularMap,x[_0x1dda("0x78f")]=d[_0x1dda("0x78f")],x[_0x1dda("0x790")]=void 0===d[_0x1dda("0x790")]?null:d[_0x1dda("0x790")],x[_0x1dda("0x791")]=d[_0x1dda("0x791")],x.alphaMap=null,x[_0x1dda("0x7bb")]=void 0===d[_0x1dda("0x7bb")]?null:d.envMap,x.envMapIntensity=1,x.refractionRatio=.98,x[_0x1dda("0x764")][_0x1dda("0x7bc")]=!0,x},cloneMaterial:function(d){var x=d.clone();x[_0x1dda("0x7b5")]=!0;for(var a=this[_0x1dda("0x7bd")],_=0,e=a[_0x1dda("0x0")];_<e;_++)x[a[_]]=d[a[_]];return x},refreshUniforms:function(d,x,a,_,e,t){if(!0===e[_0x1dda("0x7b5")]){var i,n=e[_0x1dda("0x171")],r=e.defines;n[_0x1dda("0x11d")].value=e[_0x1dda("0x11d")],n[_0x1dda("0x7be")].value[_0x1dda("0x20e")](e[_0x1dda("0x138")]),n[_0x1dda("0x3e7")][_0x1dda("0xd8")][_0x1dda("0x20e")](e[_0x1dda("0x3e7")])[_0x1dda("0x218")](e[_0x1dda("0x3e8")]),n[_0x1dda("0x42")][_0x1dda("0xd8")]=e[_0x1dda("0x42")],n.specularMap[_0x1dda("0xd8")]=e[_0x1dda("0x78e")],n[_0x1dda("0x792")][_0x1dda("0xd8")]=e.alphaMap,n.lightMap[_0x1dda("0xd8")]=e.lightMap,n.lightMapIntensity[_0x1dda("0xd8")]=e.lightMapIntensity,n[_0x1dda("0x7b7")][_0x1dda("0xd8")]=e[_0x1dda("0x7b7")],n[_0x1dda("0x788")][_0x1dda("0xd8")]=e.aoMapIntensity,e[_0x1dda("0x42")]?i=e.map:e[_0x1dda("0x78e")]?i=e.specularMap:e[_0x1dda("0x78c")]?i=e[_0x1dda("0x78c")]:e[_0x1dda("0x78b")]?i=e.normalMap:e[_0x1dda("0x78a")]?i=e[_0x1dda("0x78a")]:e[_0x1dda("0x790")]?i=e[_0x1dda("0x790")]:e.alphaMap?i=e[_0x1dda("0x792")]:e[_0x1dda("0x789")]&&(i=e[_0x1dda("0x789")]),void 0!==i&&(i.isWebGLRenderTarget&&(i=i[_0x1dda("0x5df")]),!0===i[_0x1dda("0x7bf")]&&i[_0x1dda("0x3cf")](),n[_0x1dda("0x7c0")][_0x1dda("0xd8")][_0x1dda("0x20e")](i[_0x1dda("0x1f6")])),e.envMap&&(n[_0x1dda("0x7bb")][_0x1dda("0xd8")]=e[_0x1dda("0x7bb")],n[_0x1dda("0x7c1")].value=e.envMapIntensity,n[_0x1dda("0x7c2")].value=e[_0x1dda("0x7bb")][_0x1dda("0x7c3")]?-1:1,n[_0x1dda("0x7c4")][_0x1dda("0xd8")]=e[_0x1dda("0x7c4")],n.refractionRatio[_0x1dda("0xd8")]=e.refractionRatio,n[_0x1dda("0x7c5")][_0x1dda("0xd8")]=d.properties[_0x1dda("0xd6")](e[_0x1dda("0x7bb")])[_0x1dda("0x7c6")]),n.specular[_0x1dda("0xd8")][_0x1dda("0x20e")](e[_0x1dda("0x78f")]),n[_0x1dda("0x791")][_0x1dda("0xd8")]=e[_0x1dda("0x791")],n.glossinessMap[_0x1dda("0xd8")]=e[_0x1dda("0x790")],n[_0x1dda("0x789")][_0x1dda("0xd8")]=e.emissiveMap,n[_0x1dda("0x78a")][_0x1dda("0xd8")]=e[_0x1dda("0x78a")],n[_0x1dda("0x78b")][_0x1dda("0xd8")]=e[_0x1dda("0x78b")],n[_0x1dda("0x78c")][_0x1dda("0xd8")]=e[_0x1dda("0x78c")],n.displacementScale[_0x1dda("0xd8")]=e[_0x1dda("0x7ba")],n.displacementBias.value=e[_0x1dda("0x78d")],null!==n[_0x1dda("0x790")][_0x1dda("0xd8")]&&void 0===r[_0x1dda("0x7c7")]&&(r[_0x1dda("0x7c7")]="",r.USE_ROUGHNESSMAP=""),null===n[_0x1dda("0x790")].value&&void 0!==r[_0x1dda("0x7c7")]&&(delete r[_0x1dda("0x7c7")],delete r[_0x1dda("0x7c8")])}}}}function C(d,x,a,_){THREE[_0x1dda("0x7c9")][_0x1dda("0x3")](this,d,x,a,_)}p[_0x1dda("0x1")].decodePrimitive=function(d,x){var a=this[_0x1dda("0xf4")],_=this[_0x1dda("0x733")],e=d[_0x1dda("0x764")][this[_0x1dda("0xfc")]][_0x1dda("0x780")],t=d[_0x1dda("0x764")][this[_0x1dda("0xfc")]][_0x1dda("0xf9")],n={},r={},s={};for(var o in t)o in k&&(n[k[o]]=t[o]);for(o in d[_0x1dda("0xf9")])if(void 0!==k[o]&&void 0!==t[o]){var c=a[_0x1dda("0x74c")][d[_0x1dda("0xf9")][o]],l=y[c.componentType];s[k[o]]=l,r[k[o]]=!0===c.normalized}return x.getDependency(_0x1dda("0x780"),e).then((function(d){return new i.default((function(x){_[_0x1dda("0x781")](d,(function(d){for(var a in d.attributes){var _=d[_0x1dda("0xf9")][a],e=r[a];void 0!==e&&(_[_0x1dda("0x782")]=e)}x(d)}),n,s)}))}))},m[_0x1dda("0x1")][_0x1dda("0x783")]=function(d,x){return d=d[_0x1dda("0x116")](),void 0!==x[_0x1dda("0x16d")]&&d[_0x1dda("0x16d")][_0x1dda("0x3ce")](x[_0x1dda("0x16d")]),void 0!==x[_0x1dda("0x3d9")]&&(d.rotation=x[_0x1dda("0x3d9")]),void 0!==x[_0x1dda("0x1d7")]&&d.repeat.fromArray(x[_0x1dda("0x1d7")]),void 0!==x[_0x1dda("0x784")]&&console[_0x1dda("0x3ec")](_0x1dda("0x785")+this[_0x1dda("0xfc")]+_0x1dda("0x786")),d[_0x1dda("0x172")]=!0,d},C[_0x1dda("0x1")]=(0,t[_0x1dda("0xd")])(THREE[_0x1dda("0x7c9")][_0x1dda("0x1")]),C[_0x1dda("0x1")][_0x1dda("0x7ca")]=C,C[_0x1dda("0x1")][_0x1dda("0x7cb")]=function(d){for(var x=this.resultBuffer,a=this[_0x1dda("0x7cc")],_=this.valueSize,e=d*_*3+_,t=0;t!==_;t++)x[t]=a[e+t];return x},C[_0x1dda("0x1")][_0x1dda("0x7cd")]=C[_0x1dda("0x1")][_0x1dda("0x7cb")],C[_0x1dda("0x1")][_0x1dda("0x7ce")]=C[_0x1dda("0x1")].copySampleValue_,C.prototype.interpolate_=function(d,x,a,_){for(var e=this[_0x1dda("0x7cf")],t=this[_0x1dda("0x7cc")],i=this[_0x1dda("0x7d0")],n=2*i,r=3*i,s=_-x,o=(a-x)/s,c=o*o,l=c*o,f=d*r,u=f-r,h=-2*l+3*c,g=l-c,b=1-h,v=g-c+o,p=0;p!==i;p++){var m=t[u+p+i],A=t[u+p+n]*s,C=t[f+p+i],I=t[f+p]*s;e[p]=b*m+v*A+h*C+g*I}return e};var I={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},y=(THREE[_0x1dda("0x7d1")],THREE[_0x1dda("0x207")],THREE.Vector2,THREE[_0x1dda("0x11c")],THREE[_0x1dda("0x7d2")],THREE.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),E={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE[_0x1dda("0x7d3")],9985:THREE[_0x1dda("0x7d4")],9986:THREE[_0x1dda("0x7d5")],9987:THREE[_0x1dda("0x175")]},w={33071:THREE[_0x1dda("0x7d6")],33648:THREE[_0x1dda("0x7d7")],10497:THREE[_0x1dda("0x176")]},T=(THREE[_0x1dda("0x7d8")],THREE[_0x1dda("0x7d9")],THREE[_0x1dda("0x7da")],THREE[_0x1dda("0x7db")],THREE.EqualDepth,THREE.LessEqualDepth,THREE[_0x1dda("0x7dc")],THREE[_0x1dda("0x7dd")],THREE[_0x1dda("0x7dc")],THREE.AlwaysDepth,THREE[_0x1dda("0x7de")],THREE[_0x1dda("0x7df")],THREE[_0x1dda("0x7e0")],THREE[_0x1dda("0x7e1")],THREE[_0x1dda("0x7e2")],THREE[_0x1dda("0x7e3")],THREE.OneMinusSrcColorFactor,THREE[_0x1dda("0x7e4")],THREE.OneMinusSrcAlphaFactor,THREE[_0x1dda("0x7e5")],THREE.OneMinusDstAlphaFactor,THREE[_0x1dda("0x7e6")],THREE[_0x1dda("0x7e7")],THREE[_0x1dda("0x7e8")],{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),k={POSITION:_0x1dda("0xfa"),NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD_1:_0x1dda("0x3fa"),COLOR_0:_0x1dda("0x138"),WEIGHTS_0:_0x1dda("0x7e9"),JOINTS_0:"skinIndex"},S={scale:"scale",translation:_0x1dda("0xfa"),rotation:"quaternion",weights:_0x1dda("0x7ea")},M={CUBICSPLINE:THREE[_0x1dda("0x7eb")],LINEAR:THREE[_0x1dda("0x7ec")],STEP:THREE[_0x1dda("0x7ed")]},R=(_0x1dda("0x7ee"),_0x1dda("0x7ef"),_0x1dda("0x7f0"),_0x1dda("0x7f1"),_0x1dda("0x7f2"),_0x1dda("0x7f3"),{OPAQUE:_0x1dda("0x3e4"),MASK:_0x1dda("0x7f4"),BLEND:_0x1dda("0x7f0")}),L={"image/png":THREE.RGBAFormat,"image/jpeg":THREE[_0x1dda("0x7f5")]};function D(d,x){return typeof d!==_0x1dda("0xe")||""===d?"":/^(https?:)?\/\//i[_0x1dda("0x29")](d)||/^data:.*,.*$/i[_0x1dda("0x29")](d)||/^blob:.*$/i[_0x1dda("0x29")](d)?d:x+d}function H(d,x,a){for(var _ in a.extensions)void 0===d[_]&&(x[_0x1dda("0x153")][_0x1dda("0x7f6")]=x[_0x1dda("0x153")].gltfExtensions||{},x[_0x1dda("0x153")][_0x1dda("0x7f6")][_]=a[_0x1dda("0x764")][_])}function P(d,x){void 0!==x[_0x1dda("0x7f7")]&&((0,e[_0x1dda("0xd")])(x[_0x1dda("0x7f7")])===_0x1dda("0x1b")?d[_0x1dda("0x153")]=x[_0x1dda("0x7f7")]:console[_0x1dda("0x3ec")]("GLTFLoader: Ignoring primitive type .extras, "+x[_0x1dda("0x7f7")]))}function O(d,x){if(d[_0x1dda("0x800")](),void 0!==x[_0x1dda("0x801")])for(var a=0,_=x[_0x1dda("0x801")].length;a<_;a++)d.morphTargetInfluences[a]=x[_0x1dda("0x801")][a];if(x[_0x1dda("0x7f7")]&&Array.isArray(x[_0x1dda("0x7f7")][_0x1dda("0x802")])){var e=x[_0x1dda("0x7f7")][_0x1dda("0x802")];if(d[_0x1dda("0x7ea")][_0x1dda("0x0")]===e[_0x1dda("0x0")]){d[_0x1dda("0x803")]={};for(a=0,_=e[_0x1dda("0x0")];a<_;a++)d[_0x1dda("0x803")][e[a]]=a}else console[_0x1dda("0x3ec")](_0x1dda("0x804"))}}function B(d,x){if((0,_.default)(d)[_0x1dda("0x0")]!==(0,_[_0x1dda("0xd")])(x).length)return!1;for(var a in d)if(d[a]!==x[a])return!1;return!0}function F(d,x){if(d[_0x1dda("0x0")]!==x[_0x1dda("0x0")])return!1;for(var a=0,_=d[_0x1dda("0x0")];a<_;a++)if(d[a]!==x[a])return!1;return!0}function N(d,x){for(var _=0,e=d[_0x1dda("0x0")];_<e;_++){var t=d[_];if(i=t[_0x1dda("0x806")],n=x,r=void 0,s=void 0,r=i[_0x1dda("0x764")]?i[_0x1dda("0x764")][a[_0x1dda("0x753")]]:void 0,s=n[_0x1dda("0x764")]?n[_0x1dda("0x764")][a[_0x1dda("0x753")]]:void 0,r&&s?r.bufferView===s[_0x1dda("0x780")]&&B(r.attributes,s.attributes):i[_0x1dda("0x805")]===n[_0x1dda("0x805")]&&B(i[_0x1dda("0xf9")],n[_0x1dda("0xf9")]))return t[_0x1dda("0x807")]}var i,n,r,s;return null}function z(d){if(d[_0x1dda("0x80a")]){for(var x=d[_0x1dda("0xfb")],a=d[_0x1dda("0x80b")],_=d[_0x1dda("0x400")].slice(0,x*a),e=0,t=0;e<x;++e)_[t++]=d[_0x1dda("0x3fc")](e),a>=2&&(_[t++]=d[_0x1dda("0x7fd")](e)),a>=3&&(_[t++]=d[_0x1dda("0x7fe")](e)),a>=4&&(_[t++]=d[_0x1dda("0x80c")](e));return new(THREE[_0x1dda("0x402")])(_,a,d[_0x1dda("0x782")])}return d.clone()}function j(d,a,_){this.json=d||{},this.extensions=a||{},this[_0x1dda("0x35")]=_||{},this.cache=new x,this.primitiveCache=[],this[_0x1dda("0x80e")]=[],this[_0x1dda("0x80f")]=[],this[_0x1dda("0x810")]=new(THREE[_0x1dda("0x23d")])(this[_0x1dda("0x35")][_0x1dda("0x73a")]),this[_0x1dda("0x810")][_0x1dda("0x811")](this[_0x1dda("0x35")].crossOrigin),this[_0x1dda("0x812")]=new(THREE[_0x1dda("0x73c")])(this[_0x1dda("0x35")][_0x1dda("0x73a")]),this[_0x1dda("0x812")][_0x1dda("0x813")](_0x1dda("0x44e"))}function U(d,x,a){var _=x[_0x1dda("0xf9")],e=[];function t(x,_){return a[_0x1dda("0x7f9")](_0x1dda("0x7fa"),x).then((function(x){d[_0x1dda("0x403")](_,x)}))}for(var n in _){var r=k[n];r&&(r in d[_0x1dda("0xf9")]||e.push(t(_[n],r)))}if(void 0!==x[_0x1dda("0x805")]&&!d.index){var s=a.getDependency(_0x1dda("0x7fa"),x[_0x1dda("0x805")])[_0x1dda("0x2ef")]((function(x){d.setIndex(x)}));e[_0x1dda("0x10")](s)}return P(d,x),i.default[_0x1dda("0x641")](e).then((function(){return void 0!==x[_0x1dda("0x80d")]?function(d,x,a){for(var _=!1,e=!1,t=0,n=x[_0x1dda("0x0")];t<n&&(void 0!==(o=x[t])[_0x1dda("0x7f8")]&&(_=!0),void 0!==o[_0x1dda("0x358")]&&(e=!0),!_||!e);t++);if(!_&&!e)return i[_0x1dda("0xd")].resolve(d);var r=[],s=[];for(t=0,n=x[_0x1dda("0x0")];t<n;t++){var o=x[t];if(_){var c=void 0!==o.POSITION?a[_0x1dda("0x7f9")](_0x1dda("0x7fa"),o.POSITION).then((function(d){return z(d)})):d[_0x1dda("0xf9")][_0x1dda("0xfa")];r[_0x1dda("0x10")](c)}e&&(c=void 0!==o[_0x1dda("0x358")]?a.getDependency(_0x1dda("0x7fa"),o.NORMAL)[_0x1dda("0x2ef")]((function(d){return z(d)})):d[_0x1dda("0xf9")].normal,s.push(c))}return i[_0x1dda("0xd")].all([i[_0x1dda("0xd")][_0x1dda("0x641")](r),i[_0x1dda("0xd")][_0x1dda("0x641")](s)])[_0x1dda("0x2ef")]((function(a){for(var t=a[0],i=a[1],n=0,r=x[_0x1dda("0x0")];n<r;n++){var s=x[n],o=_0x1dda("0x7fb")+n;if(_&&void 0!==s[_0x1dda("0x7f8")]){var c=t[n];c[_0x1dda("0xfc")]=o;for(var l=d.attributes.position,f=0,u=c[_0x1dda("0xfb")];f<u;f++)c[_0x1dda("0x7fc")](f,c[_0x1dda("0x3fc")](f)+l[_0x1dda("0x3fc")](f),c[_0x1dda("0x7fd")](f)+l[_0x1dda("0x7fd")](f),c[_0x1dda("0x7fe")](f)+l[_0x1dda("0x7fe")](f))}if(e&&void 0!==s[_0x1dda("0x358")]){var h=i[n];h[_0x1dda("0xfc")]=o;var g=d.attributes[_0x1dda("0x3fd")];for(f=0,u=h[_0x1dda("0xfb")];f<u;f++)h[_0x1dda("0x7fc")](f,h[_0x1dda("0x3fc")](f)+g[_0x1dda("0x3fc")](f),h[_0x1dda("0x7fd")](f)+g.getY(f),h[_0x1dda("0x7fe")](f)+g[_0x1dda("0x7fe")](f))}}return _&&(d[_0x1dda("0x7ff")][_0x1dda("0xfa")]=t),e&&(d[_0x1dda("0x7ff")][_0x1dda("0x3fd")]=i),d}))}(d,x[_0x1dda("0x80d")],a):d}))}return j[_0x1dda("0x1")][_0x1dda("0x6d")]=function(d,x){var a=this.json;this.cache.removeAll(),this[_0x1dda("0x814")](),this[_0x1dda("0x815")]([_0x1dda("0xf7"),_0x1dda("0x816"),_0x1dda("0x614")])[_0x1dda("0x2ef")]((function(x){var _=x.scenes||[],e=_[a[_0x1dda("0xf7")]||0],t=x[_0x1dda("0x228")]||[],i=x.cameras||[];d(e,_,i,t,a)}))[_0x1dda("0x817")](x)},j[_0x1dda("0x1")][_0x1dda("0x814")]=function(){for(var d=this.json[_0x1dda("0x3d2")]||[],x=this[_0x1dda("0xf4")].skins||[],a=this[_0x1dda("0xf4")][_0x1dda("0xf6")]||[],_={},e={},t=0,i=x.length;t<i;t++)for(var n=x[t].joints,r=0,s=n[_0x1dda("0x0")];r<s;r++)d[n[r]][_0x1dda("0x818")]=!0;for(var o=0,c=d[_0x1dda("0x0")];o<c;o++){var l=d[o];void 0!==l.mesh&&(void 0===_[l[_0x1dda("0x413")]]&&(_[l[_0x1dda("0x413")]]=e[l.mesh]=0),_[l[_0x1dda("0x413")]]++,void 0!==l.skin&&(a[l[_0x1dda("0x413")]][_0x1dda("0x819")]=!0))}this[_0x1dda("0xf4")].meshReferences=_,this[_0x1dda("0xf4")][_0x1dda("0x81a")]=e},j[_0x1dda("0x1")][_0x1dda("0x7f9")]=function(d,x,_,e){var t=d+":"+x,i=this.cache[_0x1dda("0xd6")](t);if(!i){switch(d){case _0x1dda("0xf7"):i=this.loadScene(x);break;case _0x1dda("0x649"):i=this[_0x1dda("0x81b")](x);break;case"mesh":i=this[_0x1dda("0x81c")](x);break;case"accessor":i=this.loadAccessor(x);break;case _0x1dda("0x780"):i=this[_0x1dda("0x81d")](x);break;case"buffer":i=this.loadBuffer(x);break;case"material":i=this.loadMaterial(x);break;case _0x1dda("0x5df"):i=this.loadTexture(x);break;case _0x1dda("0x81e"):i=this[_0x1dda("0x81f")](x);break;case"animation":i=this[_0x1dda("0x820")](x);break;case _0x1dda("0x614"):i=this[_0x1dda("0x821")](x);break;case _0x1dda("0x822"):i=this.extensions[a[_0x1dda("0x763")]][_0x1dda("0x823")](x);break;default:throw new Error(_0x1dda("0x824")+d)}this[_0x1dda("0x825")][_0x1dda("0xce")](t,i)}return i},j.prototype.getDependencies=function(d){var x=this[_0x1dda("0x825")][_0x1dda("0xd6")](d);if(!x){var a=this,_=this[_0x1dda("0xf4")][d+("mesh"===d?"es":"s")]||[];x=i[_0x1dda("0xd")][_0x1dda("0x641")](_[_0x1dda("0x42")]((function(x,_){return a[_0x1dda("0x7f9")](d,_)}))),this[_0x1dda("0x825")].add(d,x)}return x},j.prototype[_0x1dda("0x815")]=function(d){for(var x={},a=[],_=0,e=d[_0x1dda("0x0")];_<e;_++){var t=d[_],n=this[_0x1dda("0x826")](t);n=n[_0x1dda("0x2ef")](function(d,a){x[d]=a}[_0x1dda("0x4e")](this,t+("mesh"===t?"es":"s"))),a[_0x1dda("0x10")](n)}return i.default[_0x1dda("0x641")](a)[_0x1dda("0x2ef")]((function(){return x}))},j[_0x1dda("0x1")].loadBuffer=function(d){var x=this.json.buffers[d],_=D(x[_0x1dda("0x3e1")],this.options[_0x1dda("0x29b")]);THREE[_0x1dda("0x757")].timeMap.set(_,x.t||0);var e=this[_0x1dda("0x812")];if(x.type&&x.type!==_0x1dda("0x44e"))throw new Error("GLTFLoader: "+x[_0x1dda("0x9f")]+" buffer type is not supported.");return void 0===x[_0x1dda("0x3e1")]&&0===d?i[_0x1dda("0xd")].resolve(this[_0x1dda("0x764")][a.KHR_BINARY_GLTF][_0x1dda("0x4a9")]):new(i[_0x1dda("0xd")])((function(d,a){e[_0x1dda("0x64d")](_,d,void 0,(function(){a(new Error(_0x1dda("0x827")+x[_0x1dda("0x3e1")]+'".'))}))}))},j[_0x1dda("0x1")][_0x1dda("0x81d")]=function(d){var x=this.json[_0x1dda("0x748")][d],a=this;return this.getDependency(_0x1dda("0x828"),x[_0x1dda("0x828")])[_0x1dda("0x2ef")]((function(_){a[_0x1dda("0xf4")][_0x1dda("0x743")][_0x1dda("0x746")];var e=l[_0x1dda("0xd6")](a[_0x1dda("0xf4")].asset.URL);if(e)var t=(x[_0x1dda("0x829")]-d-1)/(e[1]+1)||0,i=(x[_0x1dda("0x82a")]-d)/(e[0]+1)||0;else t=x[_0x1dda("0x829")]||0,i=x[_0x1dda("0x82a")]||0;return _[_0x1dda("0x11")](i,i+t)}))},j.prototype[_0x1dda("0x82b")]=function(d){var x=this,a=this[_0x1dda("0xf4")],_=this[_0x1dda("0xf4")][_0x1dda("0x74c")][d];if(void 0===_[_0x1dda("0x780")]&&void 0===_[_0x1dda("0x82c")])return i[_0x1dda("0xd")].resolve(null);var e=[];return void 0!==_[_0x1dda("0x780")]?e[_0x1dda("0x10")](this[_0x1dda("0x7f9")](_0x1dda("0x780"),_[_0x1dda("0x780")])):e[_0x1dda("0x10")](null),void 0!==_[_0x1dda("0x82c")]&&(e[_0x1dda("0x10")](this.getDependency(_0x1dda("0x780"),_[_0x1dda("0x82c")][_0x1dda("0x805")].bufferView)),e[_0x1dda("0x10")](this.getDependency(_0x1dda("0x780"),_[_0x1dda("0x82c")].values[_0x1dda("0x780")]))),i[_0x1dda("0xd")][_0x1dda("0x641")](e).then((function(d){try{var e,t,i=d[0],n=T[_[_0x1dda("0x9f")]],r=y[_.componentType],s=r[_0x1dda("0x82d")],o=s*n,c=_.byteOffset||0,l=void 0!==_[_0x1dda("0x780")]?a[_0x1dda("0x748")][_[_0x1dda("0x780")]].byteStride:void 0,f=!0===_[_0x1dda("0x782")];if(l&&l!==o){var u=_0x1dda("0x82e")+_[_0x1dda("0x780")]+":"+_.componentType,h=x[_0x1dda("0x825")][_0x1dda("0xd6")](u);h||(e=new r(i),h=new(THREE[_0x1dda("0x82f")])(e,l/s),x[_0x1dda("0x825")][_0x1dda("0xce")](u,h)),t=new(THREE[_0x1dda("0x830")])(h,n,c/s,f)}else e=null===i?new r(_[_0x1dda("0xfb")]*n):new r(i,c,_[_0x1dda("0xfb")]*n),t=new(THREE[_0x1dda("0x402")])(e,n,f);if(void 0!==_.sparse){var g=T[_0x1dda("0x831")],b=y[_[_0x1dda("0x82c")][_0x1dda("0x805")].componentType],v=_[_0x1dda("0x82c")][_0x1dda("0x805")][_0x1dda("0x82a")]||0,p=_[_0x1dda("0x82c")].values.byteOffset||0,m=new b(d[1],v,_[_0x1dda("0x82c")].count*g),A=new r(d[2],p,_[_0x1dda("0x82c")][_0x1dda("0xfb")]*n);null!==i&&t[_0x1dda("0x832")](t[_0x1dda("0x400")][_0x1dda("0x11")]());for(var C=0,I=m.length;C<I;C++){var E=m[C];if(t[_0x1dda("0x4f0")](E,A[C*n]),n>=2&&t[_0x1dda("0x833")](E,A[C*n+1]),n>=3&&t[_0x1dda("0x4f2")](E,A[C*n+2]),n>=4&&t[_0x1dda("0x834")](E,A[C*n+3]),n>=5)throw new Error(_0x1dda("0x835"))}}return t}catch(d){throw _0x1dda("0x836")}}))},j.prototype[_0x1dda("0x5ba")]=function(d){var x,_=this,e=this.json,t=this[_0x1dda("0x810")],n=window[_0x1dda("0x74f")]||window[_0x1dda("0x837")],r=e[_0x1dda("0x749")][d],s=e[_0x1dda("0x74a")][d],o=r.extensions||{},c=(x=o[a[_0x1dda("0x754")]]?e[_0x1dda("0x74a")][o[a[_0x1dda("0x754")]][_0x1dda("0x838")]]:e[_0x1dda("0x74a")][r.source])[_0x1dda("0x3e1")],l=!1,f=D(c,this[_0x1dda("0x35")].path);return THREE[_0x1dda("0x757")][_0x1dda("0x758")][_0x1dda("0xcd")](f,s.t||0),void 0!==x[_0x1dda("0x780")]&&(c=_[_0x1dda("0x7f9")](_0x1dda("0x780"),x[_0x1dda("0x780")])[_0x1dda("0x2ef")]((function(d){l=!0;var a=new Blob([d],{type:x[_0x1dda("0x839")]});return c=n.createObjectURL(a)}))),i[_0x1dda("0xd")][_0x1dda("0xd0")](c)[_0x1dda("0x2ef")]((function(d){var x=THREE.Loader[_0x1dda("0x83a")].get(d);return x||(x=o[a[_0x1dda("0x754")]]?_[_0x1dda("0x764")][a[_0x1dda("0x754")]][_0x1dda("0x761")]:t),new i.default((function(d,a){x[_0x1dda("0x64d")](f,d,void 0,a)}))}))[_0x1dda("0x2ef")]((function(d){!0===l&&n[_0x1dda("0x83b")](c),d[_0x1dda("0x83c")]=!1,void 0!==r[_0x1dda("0xfc")]&&(d[_0x1dda("0xfc")]=r.name),x[_0x1dda("0x839")]in L&&(d[_0x1dda("0x83d")]=L[x[_0x1dda("0x839")]]);var a=(e[_0x1dda("0x74b")]||{})[r[_0x1dda("0x83e")]]||{};return d[_0x1dda("0x83f")]=E[a[_0x1dda("0x83f")]]||THREE.LinearFilter,d[_0x1dda("0x174")]=E[a[_0x1dda("0x174")]]||THREE[_0x1dda("0x175")],d[_0x1dda("0x840")]=w[a[_0x1dda("0x840")]]||THREE[_0x1dda("0x176")],d[_0x1dda("0x841")]=w[a[_0x1dda("0x841")]]||THREE.RepeatWrapping,d}))},j.prototype[_0x1dda("0x775")]=function(d,x,_){var e=this;return this[_0x1dda("0x7f9")](_0x1dda("0x5df"),_[_0x1dda("0x292")])[_0x1dda("0x2ef")]((function(t){if(e.extensions[a.KHR_TEXTURE_TRANSFORM]){var i=void 0!==_[_0x1dda("0x764")]?_[_0x1dda("0x764")][a[_0x1dda("0x755")]]:void 0;i&&(t=e[_0x1dda("0x764")][a[_0x1dda("0x755")]].extendTexture(t,i))}d[x]=t}))},j[_0x1dda("0x1")][_0x1dda("0x842")]=function(d){var x,_=this,e=this.json,t=this[_0x1dda("0x764")],n=e.materials[d],r={},s=n[_0x1dda("0x764")]||{},o=[];if(s[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=t[a[_0x1dda("0x752")]];x=c[_0x1dda("0x771")](n),o.push(c[_0x1dda("0x772")](r,n,_))}else if(s[a.KHR_MATERIALS_UNLIT]){var l=t[a[_0x1dda("0x843")]];x=l.getMaterialType(n),o[_0x1dda("0x10")](l[_0x1dda("0x772")](r,n,_))}else{x=THREE.MeshStandardMaterial;var f=n[_0x1dda("0x773")]||{};if(r[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(1,1,1),r[_0x1dda("0x11d")]=1,Array[_0x1dda("0x2f4")](f[_0x1dda("0x774")])){var u=f[_0x1dda("0x774")];r[_0x1dda("0x138")][_0x1dda("0x3ce")](u),r[_0x1dda("0x11d")]=u[3]}void 0!==f[_0x1dda("0x776")]&&o[_0x1dda("0x10")](_[_0x1dda("0x775")](r,_0x1dda("0x42"),f.baseColorTexture)),r[_0x1dda("0x137")]=void 0!==f[_0x1dda("0x844")]?f[_0x1dda("0x844")]:1,r[_0x1dda("0x845")]=void 0!==f[_0x1dda("0x846")]?f[_0x1dda("0x846")]:1,void 0!==f.metallicRoughnessTexture&&(o.push(_[_0x1dda("0x775")](r,"metalnessMap",f[_0x1dda("0x847")])),o[_0x1dda("0x10")](_.assignTexture(r,_0x1dda("0x848"),f[_0x1dda("0x847")])))}!0===n[_0x1dda("0x849")]&&(r[_0x1dda("0x149")]=THREE.DoubleSide);var h=n[_0x1dda("0x3e3")]||R[_0x1dda("0x3e4")];return h===R.BLEND?r[_0x1dda("0x136")]=!0:(r[_0x1dda("0x136")]=!1,h===R.MASK&&(r[_0x1dda("0x84a")]=void 0!==n[_0x1dda("0x84b")]?n[_0x1dda("0x84b")]:.5)),void 0!==n[_0x1dda("0x84c")]&&x!==THREE[_0x1dda("0x2b5")]&&(o.push(_[_0x1dda("0x775")](r,_0x1dda("0x78b"),n[_0x1dda("0x84c")])),r[_0x1dda("0x7b9")]=new(THREE[_0x1dda("0x50f")])(1,1),void 0!==n[_0x1dda("0x84c")][_0x1dda("0x1d7")]&&r.normalScale[_0x1dda("0xcd")](n.normalTexture[_0x1dda("0x1d7")],n[_0x1dda("0x84c")][_0x1dda("0x1d7")])),void 0!==n[_0x1dda("0x84d")]&&x!==THREE[_0x1dda("0x2b5")]&&(o[_0x1dda("0x10")](_[_0x1dda("0x775")](r,_0x1dda("0x7b7"),n.occlusionTexture)),void 0!==n[_0x1dda("0x84d")][_0x1dda("0x84e")]&&(r[_0x1dda("0x788")]=n[_0x1dda("0x84d")][_0x1dda("0x84e")])),void 0!==n[_0x1dda("0x84f")]&&x!==THREE[_0x1dda("0x2b5")]&&(r[_0x1dda("0x3e7")]=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x3ce")](n[_0x1dda("0x84f")])),void 0!==n.emissiveTexture&&x!==THREE[_0x1dda("0x2b5")]&&o[_0x1dda("0x10")](_.assignTexture(r,_0x1dda("0x789"),n[_0x1dda("0x850")])),i.default[_0x1dda("0x641")](o)[_0x1dda("0x2ef")]((function(){var d;return d=x===THREE.ShaderMaterial?t[a[_0x1dda("0x752")]][_0x1dda("0x426")](r):new x(r),void 0!==n.name&&(d.name=n[_0x1dda("0xfc")]),d.normalScale&&(d[_0x1dda("0x7b9")].y=-d[_0x1dda("0x7b9")].y),d[_0x1dda("0x42")]&&(d[_0x1dda("0x42")][_0x1dda("0x851")]=THREE.sRGBEncoding),d.emissiveMap&&(d[_0x1dda("0x789")][_0x1dda("0x851")]=THREE[_0x1dda("0x852")]),d[_0x1dda("0x78e")]&&(d[_0x1dda("0x78e")].encoding=THREE[_0x1dda("0x852")]),P(d,n),n.extensions&&H(t,d,n),d}))},j.prototype[_0x1dda("0x853")]=function(d){var x,_=this,e=this[_0x1dda("0x764")],t=this[_0x1dda("0x854")],n=function(d){if(d[_0x1dda("0x0")]<2)return!1;var x=d[0],_=x[_0x1dda("0x80d")]||[];if(void 0===x.indices)return!1;for(var e=1,t=d.length;e<t;e++){var i=d[e];if(x[_0x1dda("0x36")]!==i.mode)return!1;if(void 0===i[_0x1dda("0x805")])return!1;if(i[_0x1dda("0x764")]&&i[_0x1dda("0x764")][a.KHR_DRACO_MESH_COMPRESSION])return!1;if(!B(x[_0x1dda("0xf9")],i[_0x1dda("0xf9")]))return!1;var n=i.targets||[];if(_[_0x1dda("0x0")]!==n[_0x1dda("0x0")])return!1;for(var r=0,s=_[_0x1dda("0x0")];r<s;r++)if(!B(_[r],n[r]))return!1}return!0}(d);function r(d){return e[a[_0x1dda("0x753")]].decodePrimitive(d,_)[_0x1dda("0x2ef")]((function(x){return U(x,d,_)}))}n&&(x=d,d=[d[0]]);for(var s=[],o=0,c=d[_0x1dda("0x0")];o<c;o++){var l,f=d[o],u=N(t,f);if(u)s[_0x1dda("0x10")](u);else l=f.extensions&&f[_0x1dda("0x764")][a.KHR_DRACO_MESH_COMPRESSION]?r(f):U(new(THREE[_0x1dda("0x3f9")]),f,_),t[_0x1dda("0x10")]({primitive:f,promise:l}),s[_0x1dda("0x10")](l)}return i[_0x1dda("0xd")][_0x1dda("0x641")](s)[_0x1dda("0x2ef")]((function(a){if(n){var e=a[0];if(null!==(f=function(d,x,a){for(var _=0,e=d[_0x1dda("0x0")];_<e;_++){var t=d[_];if(x===t[_0x1dda("0x809")]&&F(a,t.primitives))return t[_0x1dda("0xe7")]}return null}(l=_.multiPassGeometryCache,e,x)))return[f[_0x1dda("0xe7")]];var t=new(THREE[_0x1dda("0x3f9")]);for(var r in t[_0x1dda("0xfc")]=e[_0x1dda("0xfc")],t[_0x1dda("0x153")]=e.userData,e.attributes)t[_0x1dda("0x403")](r,e.attributes[r]);for(var r in e[_0x1dda("0x7ff")])t[_0x1dda("0x7ff")][r]=e[_0x1dda("0x7ff")][r];for(var s=[],o=0,c=x[_0x1dda("0x0")];o<c;o++)s[_0x1dda("0x10")](_[_0x1dda("0x7f9")]("accessor",x[o][_0x1dda("0x805")]));return i[_0x1dda("0xd")].all(s)[_0x1dda("0x2ef")]((function(d){for(var a=[],_=0,i=0,n=x.length;i<n;i++){for(var r=d[i],s=0,o=r[_0x1dda("0xfb")];s<o;s++)a.push(r[_0x1dda("0x400")][s]);t[_0x1dda("0x16c")](_,r[_0x1dda("0xfb")],i),_+=r[_0x1dda("0xfb")]}return t[_0x1dda("0x404")](a),l[_0x1dda("0x10")]({geometry:t,baseGeometry:e,primitives:x}),[t]}))}if(a[_0x1dda("0x0")]>1&&void 0!==THREE[_0x1dda("0x3ff")]){for(o=1,c=d.length;o<c;o++)if(d[0].mode!==d[o][_0x1dda("0x36")])return a;var l,f;if(f=function(d,x){for(var a=0,_=d[_0x1dda("0x0")];a<_;a++){var e=d[a];if(F(x,e[_0x1dda("0x808")]))return e[_0x1dda("0xe7")]}return null}(l=_[_0x1dda("0x80e")],a)){if(null!==f.geometry)return[f[_0x1dda("0xe7")]]}else{t=THREE[_0x1dda("0x3ff")][_0x1dda("0x514")](a,!0);if(l[_0x1dda("0x10")]({geometry:t,baseGeometries:a}),null!==t)return[t]}}return a}))},j[_0x1dda("0x1")][_0x1dda("0x81c")]=function(d){for(var x=this,e=this.json,t=this[_0x1dda("0x764")],n=e[_0x1dda("0xf6")][d],r=n.primitives,s=[],o=0,c=r.length;o<c;o++){var l=void 0===r[o][_0x1dda("0xe9")]?new(THREE[_0x1dda("0x135")])({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE[_0x1dda("0x7d9")]}):this[_0x1dda("0x7f9")](_0x1dda("0xe9"),r[o][_0x1dda("0xe9")]);s.push(l)}return i[_0x1dda("0xd")][_0x1dda("0x641")](s)[_0x1dda("0x2ef")]((function(e){return x[_0x1dda("0x853")](r)[_0x1dda("0x2ef")]((function(i){for(var s=1===i.length&&i[0][_0x1dda("0x40c")][_0x1dda("0x0")]>0,o=[],c=0,l=i.length;c<l;c++){var f,u=i[c],h=r[c],g=s?e:e[c];if(h.mode===I.TRIANGLES||h[_0x1dda("0x36")]===I[_0x1dda("0x855")]||h[_0x1dda("0x36")]===I[_0x1dda("0x856")]||void 0===h[_0x1dda("0x36")])!0===(f=!0===n[_0x1dda("0x819")]?new(THREE[_0x1dda("0x857")])(u,g):new THREE.Mesh(u,g))[_0x1dda("0x819")]&&f[_0x1dda("0x858")](),h[_0x1dda("0x36")]===I[_0x1dda("0x855")]?f[_0x1dda("0x859")]=THREE[_0x1dda("0x85a")]:h[_0x1dda("0x36")]===I[_0x1dda("0x856")]&&(f[_0x1dda("0x859")]=THREE[_0x1dda("0x85b")]);else if(h.mode===I[_0x1dda("0x85c")])f=new(THREE[_0x1dda("0x85d")])(u,g);else if(h.mode===I.LINE_STRIP)f=new(THREE[_0x1dda("0x85e")])(u,g);else if(h[_0x1dda("0x36")]===I[_0x1dda("0x85f")])f=new(THREE[_0x1dda("0x860")])(u,g);else{if(h.mode!==I[_0x1dda("0x861")])throw new Error(_0x1dda("0x863")+h[_0x1dda("0x36")]);f=new(THREE[_0x1dda("0x862")])(u,g)}(0,_.default)(f[_0x1dda("0xe7")][_0x1dda("0x7ff")])[_0x1dda("0x0")]>0&&O(f,n),f.name=n[_0x1dda("0xfc")]||_0x1dda("0x864")+d,i.length>1&&(f[_0x1dda("0xfc")]+="_"+c),P(f,n),o[_0x1dda("0x10")](f);for(var b=s?f.material:[f[_0x1dda("0xe9")]],v=void 0!==u.attributes[_0x1dda("0x138")],p=void 0===u[_0x1dda("0xf9")][_0x1dda("0x3fd")],m=!0===f.isSkinnedMesh,A=(0,_[_0x1dda("0xd")])(u.morphAttributes)[_0x1dda("0x0")]>0,C=A&&void 0!==u[_0x1dda("0x7ff")][_0x1dda("0x3fd")],y=0,E=b[_0x1dda("0x0")];y<E;y++){g=b[y];if(f.isPoints){var w="PointsMaterial:"+g[_0x1dda("0x2c4")],T=x[_0x1dda("0x825")][_0x1dda("0xd6")](w);T||(T=new(THREE[_0x1dda("0x865")]),THREE[_0x1dda("0x866")][_0x1dda("0x1")][_0x1dda("0x20e")][_0x1dda("0x3")](T,g),T[_0x1dda("0x138")][_0x1dda("0x20e")](g[_0x1dda("0x138")]),T[_0x1dda("0x42")]=g[_0x1dda("0x42")],T[_0x1dda("0x766")]=!1,x[_0x1dda("0x825")][_0x1dda("0xce")](w,T)),g=T}else if(f[_0x1dda("0x867")]){w=_0x1dda("0x868")+g.uuid;var k=x[_0x1dda("0x825")].get(w);k||(k=new(THREE[_0x1dda("0x869")]),THREE[_0x1dda("0x866")][_0x1dda("0x1")][_0x1dda("0x20e")][_0x1dda("0x3")](k,g),k[_0x1dda("0x138")].copy(g.color),k[_0x1dda("0x766")]=!1,x[_0x1dda("0x825")][_0x1dda("0xce")](w,k)),g=k}if(v||p||m||A){w=_0x1dda("0x86a")+g[_0x1dda("0x2c4")]+":";g.isGLTFSpecularGlossinessMaterial&&(w+=_0x1dda("0x86b")),m&&(w+=_0x1dda("0x86c")),v&&(w+="vertex-colors:"),p&&(w+=_0x1dda("0x86d")),A&&(w+="morph-targets:"),C&&(w+=_0x1dda("0x86e"));var S=x[_0x1dda("0x825")].get(w);S||(S=g.isGLTFSpecularGlossinessMaterial?t[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS][_0x1dda("0x86f")](g):g.clone(),m&&(S.skinning=!0),v&&(S.vertexColors=THREE[_0x1dda("0x870")]),p&&(S[_0x1dda("0x871")]=!0),A&&(S[_0x1dda("0x872")]=!0),C&&(S[_0x1dda("0x873")]=!0),x[_0x1dda("0x825")].add(w,S)),g=S}b[y]=g,g[_0x1dda("0x7b7")]&&void 0===u[_0x1dda("0xf9")].uv2&&void 0!==u[_0x1dda("0xf9")].uv&&u[_0x1dda("0x403")](_0x1dda("0x3fa"),new(THREE[_0x1dda("0x402")])(u.attributes.uv.array,2)),g[_0x1dda("0x7b5")]&&(f.onBeforeRender=t[a[_0x1dda("0x752")]][_0x1dda("0x874")])}f[_0x1dda("0xe9")]=s?b:b[0]}if(1===o[_0x1dda("0x0")])return o[0];var M=new(THREE[_0x1dda("0x1b4")]);for(c=0,l=o[_0x1dda("0x0")];c<l;c++)M[_0x1dda("0xce")](o[c]);return M}))}))},j[_0x1dda("0x1")].loadCamera=function(d){var x,a=this[_0x1dda("0xf4")][_0x1dda("0x875")][d],_=a[a[_0x1dda("0x9f")]];if(_)return a[_0x1dda("0x9f")]===_0x1dda("0x35d")?x=new(THREE[_0x1dda("0x877")])(THREE.Math.radToDeg(_[_0x1dda("0x878")]),_.aspectRatio||1,_[_0x1dda("0x879")]||1,_.zfar||2e6):a.type===_0x1dda("0x87a")&&(x=new(THREE[_0x1dda("0x6c7")])(_[_0x1dda("0x87b")]/-2,_.xmag/2,_[_0x1dda("0x87c")]/2,_[_0x1dda("0x87c")]/-2,_[_0x1dda("0x879")],_[_0x1dda("0x87d")])),void 0!==a[_0x1dda("0xfc")]&&(x[_0x1dda("0xfc")]=a[_0x1dda("0xfc")]),P(x,a),i[_0x1dda("0xd")][_0x1dda("0xd0")](x);console[_0x1dda("0x3ec")](_0x1dda("0x876"))},j[_0x1dda("0x1")].loadSkin=function(d){var x=this[_0x1dda("0xf4")][_0x1dda("0x87e")][d],a={joints:x[_0x1dda("0x87f")]};return void 0===x.inverseBindMatrices?i[_0x1dda("0xd")][_0x1dda("0xd0")](a):this[_0x1dda("0x7f9")](_0x1dda("0x7fa"),x[_0x1dda("0x880")]).then((function(d){return a.inverseBindMatrices=d,a}))},j[_0x1dda("0x1")][_0x1dda("0x820")]=function(d){for(var x=this[_0x1dda("0xf4")][_0x1dda("0x228")][d],a=[],_=[],e=[],t=[],n=[],r=0,s=x.channels[_0x1dda("0x0")];r<s;r++){var o=x[_0x1dda("0x881")][r],c=x[_0x1dda("0x74b")][o[_0x1dda("0x83e")]],l=o[_0x1dda("0x227")],f=void 0!==l[_0x1dda("0x649")]?l[_0x1dda("0x649")]:l.id,u=void 0!==x[_0x1dda("0x882")]?x[_0x1dda("0x882")][c[_0x1dda("0x883")]]:c.input,h=void 0!==x[_0x1dda("0x882")]?x[_0x1dda("0x882")][c.output]:c[_0x1dda("0x884")];a[_0x1dda("0x10")](this[_0x1dda("0x7f9")](_0x1dda("0x649"),f)),_[_0x1dda("0x10")](this[_0x1dda("0x7f9")](_0x1dda("0x7fa"),u)),e[_0x1dda("0x10")](this[_0x1dda("0x7f9")](_0x1dda("0x7fa"),h)),t[_0x1dda("0x10")](c),n[_0x1dda("0x10")](l)}return i.default[_0x1dda("0x641")]([i.default[_0x1dda("0x641")](a),i[_0x1dda("0xd")][_0x1dda("0x641")](_),i.default[_0x1dda("0x641")](e),i[_0x1dda("0xd")].all(t),i[_0x1dda("0xd")][_0x1dda("0x641")](n)])[_0x1dda("0x2ef")]((function(a){for(var _=a[0],e=a[1],t=a[2],i=a[3],n=a[4],r=[],s=0,o=_[_0x1dda("0x0")];s<o;s++){var c=_[s],l=e[s],f=t[s],u=i[s],h=n[s];if(void 0!==c){var g;switch(c[_0x1dda("0x3cf")](),c[_0x1dda("0x7bf")]=!0,S[h[_0x1dda("0x29b")]]){case S[_0x1dda("0x801")]:g=THREE.NumberKeyframeTrack;break;case S[_0x1dda("0x3d9")]:g=THREE[_0x1dda("0x885")];break;case S[_0x1dda("0xfa")]:case S[_0x1dda("0x1d7")]:default:g=THREE.VectorKeyframeTrack}var b=c[_0x1dda("0xfc")]?c.name:c[_0x1dda("0x2c4")],v=void 0!==u[_0x1dda("0x886")]?M[u[_0x1dda("0x886")]]:THREE[_0x1dda("0x7ec")],p=[];S[h[_0x1dda("0x29b")]]===S.weights?c.traverse((function(d){!0===d.isMesh&&d[_0x1dda("0x7ea")]&&p[_0x1dda("0x10")](d[_0x1dda("0xfc")]?d[_0x1dda("0xfc")]:d[_0x1dda("0x2c4")])})):p.push(b);for(var m=0,A=p.length;m<A;m++){var I=new g(p[m]+"."+S[h[_0x1dda("0x29b")]],THREE[_0x1dda("0x887")][_0x1dda("0x888")](l[_0x1dda("0x400")],0),THREE[_0x1dda("0x887")][_0x1dda("0x888")](f[_0x1dda("0x400")],0),v);u[_0x1dda("0x886")]===_0x1dda("0x889")&&(I.createInterpolant=function(d){return new C(this[_0x1dda("0x189")],this.values,this[_0x1dda("0x88a")]()/3,d)},I[_0x1dda("0x88b")][_0x1dda("0x88c")]=!0),r[_0x1dda("0x10")](I)}}}var y=void 0!==x[_0x1dda("0xfc")]?x[_0x1dda("0xfc")]:_0x1dda("0x88d")+d;return new(THREE[_0x1dda("0x88e")])(y,void 0,r)}))},j[_0x1dda("0x1")][_0x1dda("0x81b")]=function(d){var x=this[_0x1dda("0xf4")],_=this[_0x1dda("0x764")],e=this,t=x[_0x1dda("0x88f")],n=x[_0x1dda("0x81a")],r=x.nodes[d];return(!0===r.isBone?i[_0x1dda("0xd")][_0x1dda("0xd0")](new(THREE[_0x1dda("0x890")])):void 0!==r[_0x1dda("0x413")]?e.getDependency(_0x1dda("0x413"),r[_0x1dda("0x413")])[_0x1dda("0x2ef")]((function(d){var x;if(t[r[_0x1dda("0x413")]]>1){var a=n[r[_0x1dda("0x413")]]++;(x=d[_0x1dda("0x116")]())[_0x1dda("0xfc")]+=_0x1dda("0x891")+a,x[_0x1dda("0x892")]=d[_0x1dda("0x892")];for(var _=0,e=x[_0x1dda("0xe6")][_0x1dda("0x0")];_<e;_++)x[_0x1dda("0xe6")][_].name+=_0x1dda("0x891")+a,x[_0x1dda("0xe6")][_].onBeforeRender=d[_0x1dda("0xe6")][_].onBeforeRender}else x=d;return void 0!==r.weights&&x[_0x1dda("0xf8")]((function(d){if(d[_0x1dda("0x893")])for(var x=0,a=r[_0x1dda("0x801")][_0x1dda("0x0")];x<a;x++)d[_0x1dda("0x7ea")][x]=r.weights[x]})),x})):void 0!==r[_0x1dda("0x614")]?e[_0x1dda("0x7f9")](_0x1dda("0x614"),r.camera):r[_0x1dda("0x764")]&&r[_0x1dda("0x764")][a[_0x1dda("0x763")]]&&void 0!==r[_0x1dda("0x764")][a.KHR_LIGHTS_PUNCTUAL][_0x1dda("0x822")]?e[_0x1dda("0x7f9")]("light",r[_0x1dda("0x764")][a.KHR_LIGHTS_PUNCTUAL][_0x1dda("0x822")]):i.default[_0x1dda("0xd0")](new(THREE[_0x1dda("0x384")]))).then((function(d){if(void 0!==r[_0x1dda("0xfc")]&&(d[_0x1dda("0xfc")]=THREE[_0x1dda("0x894")][_0x1dda("0x895")](r[_0x1dda("0xfc")])),P(d,r),r[_0x1dda("0x764")]&&H(_,d,r),void 0!==r[_0x1dda("0x1f6")]){var x=new THREE.Matrix4;x[_0x1dda("0x3ce")](r[_0x1dda("0x1f6")]),d[_0x1dda("0x3da")](x)}else void 0!==r[_0x1dda("0x3db")]&&d.position[_0x1dda("0x3ce")](r[_0x1dda("0x3db")]),void 0!==r[_0x1dda("0x3d9")]&&d[_0x1dda("0x1d9")].fromArray(r.rotation),void 0!==r.scale&&d[_0x1dda("0x1d7")][_0x1dda("0x3ce")](r[_0x1dda("0x1d7")]);return d}))},j.prototype.loadScene=function(){function d(x,a,_,e){var t=_[_0x1dda("0x3d2")][x];return e[_0x1dda("0x7f9")](_0x1dda("0x649"),x).then((function(d){return void 0===t[_0x1dda("0x81e")]?d:e[_0x1dda("0x7f9")](_0x1dda("0x81e"),t[_0x1dda("0x81e")])[_0x1dda("0x2ef")]((function(d){for(var a=[],_=0,t=(x=d).joints[_0x1dda("0x0")];_<t;_++)a[_0x1dda("0x10")](e[_0x1dda("0x7f9")](_0x1dda("0x649"),x[_0x1dda("0x87f")][_]));return i.default[_0x1dda("0x641")](a)})).then((function(a){for(var _=!0===d[_0x1dda("0x896")]?d[_0x1dda("0xe6")]:[d],e=0,t=_.length;e<t;e++){for(var i=_[e],n=[],r=[],s=0,o=a[_0x1dda("0x0")];s<o;s++){var c=a[s];if(c){n[_0x1dda("0x10")](c);var l=new(THREE[_0x1dda("0x207")]);void 0!==x.inverseBindMatrices&&l[_0x1dda("0x3ce")](x[_0x1dda("0x880")][_0x1dda("0x400")],16*s),r[_0x1dda("0x10")](l)}else x[_0x1dda("0x87f")][s]}i[_0x1dda("0x4e")](new(THREE[_0x1dda("0x897")])(n,r),i.matrixWorld)}return d}));var x}))[_0x1dda("0x2ef")]((function(x){a[_0x1dda("0xce")](x);var n=[];if(t[_0x1dda("0xe6")])for(var r=t[_0x1dda("0xe6")],s=0,o=r[_0x1dda("0x0")];s<o;s++){var c=r[s];n.push(d(c,x,_,e))}return i[_0x1dda("0xd")][_0x1dda("0x641")](n)}))}return function(x){var a=this[_0x1dda("0xf4")],_=this[_0x1dda("0x764")],e=this[_0x1dda("0xf4")][_0x1dda("0x747")][x],t=new(THREE[_0x1dda("0x3d1")]);void 0!==e[_0x1dda("0xfc")]&&(t.name=e.name),P(t,e),e[_0x1dda("0x764")]&&H(_,t,e);for(var n=e[_0x1dda("0x3d2")]||[],r=[],s=0,o=n.length;s<o;s++)r.push(d(n[s],t,a,this));return i[_0x1dda("0xd")][_0x1dda("0x641")](r)[_0x1dda("0x2ef")]((function(){return t}))}}(),d}()},function(d,x,a){"use strict";function _(d){for(var x=[],a=0;a<d[_0x1dda("0x0")];a++)x[a]=d[_0x1dda("0x2d")](a);return x}Object.defineProperty(x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x45")]=function(d,x,a){for(var e="",t=_(x+a),i=_(d),n=0;n<i[_0x1dda("0x0")];n++){for(var r=0;r<t[_0x1dda("0x0")];r++)i[n]=i[n]^t[r];e+=String[_0x1dda("0x10c")](i[n])}return e}},function(d,x,a){"use strict";var _=i(a(20)),e=i(a(2)),t=i(a(103));function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){this[_0x1dda("0x3d8")]=new THREE.Vector3,this[_0x1dda("0x898")]=new(THREE[_0x1dda("0x11c")]),this[_0x1dda("0x326")]=new(THREE[_0x1dda("0x11c")]),this.up=new(THREE[_0x1dda("0x11c")]),this.dist=0,this[_0x1dda("0x899")]=1};n[_0x1dda("0x1")][_0x1dda("0x89a")]=function(d,x,a){this.pos[_0x1dda("0x89b")](d[_0x1dda("0x3d8")],x[_0x1dda("0x3d8")],a),this[_0x1dda("0x898")][_0x1dda("0x89b")](d[_0x1dda("0x898")],x.dir,a),this.up.lerpVectors(d.up,x.up,a),this[_0x1dda("0x326")][_0x1dda("0x89b")](d.right,x[_0x1dda("0x326")],a),this.dist=(x.dist-d[_0x1dda("0x89c")])*a+d.dist,this[_0x1dda("0x899")]=(x[_0x1dda("0x899")]-d.widthScale)*a+d.widthScale},n[_0x1dda("0x1")][_0x1dda("0x20e")]=function(d){this[_0x1dda("0x3d8")].copy(d[_0x1dda("0x3d8")]),this[_0x1dda("0x898")][_0x1dda("0x20e")](d[_0x1dda("0x898")]),this.up[_0x1dda("0x20e")](d.up),this[_0x1dda("0x326")][_0x1dda("0x20e")](d[_0x1dda("0x326")]),this[_0x1dda("0x89c")]=d[_0x1dda("0x89c")],this[_0x1dda("0x899")]=d[_0x1dda("0x899")]};var r=function(){this[_0x1dda("0x400")]=[],this.count=0};r[_0x1dda("0x1")][_0x1dda("0xcd")]=function(d,x,a,_,e){if((d=d.slice(0))[_0x1dda("0x0")]<2)this[_0x1dda("0xfb")]=0;else{x=void 0!==x?x:.1,a=void 0!==a?a:10,(e=void 0!==e&&e)&&!d[0][_0x1dda("0x656")](d[d[_0x1dda("0x0")]-1])&&d.push((new THREE.Vector3)[_0x1dda("0x20e")](d[0]));for(var t=0,i=d.length;t<i;t++)if(0===t)this._start(d[t],d[t+1],_);else if(t===i-1)if(e){this[_0x1dda("0x89d")](d[t],d[1],x,a,_);var n=this[_0x1dda("0x400")][0][_0x1dda("0x89c")];this[_0x1dda("0x400")][0][_0x1dda("0x20e")](this[_0x1dda("0x400")][this[_0x1dda("0xfb")]-1]),this[_0x1dda("0x400")][0][_0x1dda("0x89c")]=n}else this[_0x1dda("0x89e")](d[t]);else this[_0x1dda("0x89d")](d[t],d[t+1],x,a,_)}},r[_0x1dda("0x1")][_0x1dda("0x2a1")]=function(){return 0==this[_0x1dda("0xfb")]?0:this.array[this.count-1][_0x1dda("0x89c")]},r.prototype._start=function(d,x,a){this.count=0;var _=this._getByIndex(this[_0x1dda("0xfb")]);if(_[_0x1dda("0x3d8")][_0x1dda("0x20e")](d),_[_0x1dda("0x898")][_0x1dda("0x89f")](x,d),a)_.up.copy(a);else{var e=Number[_0x1dda("0x8a0")],t=Math.abs(_[_0x1dda("0x898")].x),i=Math[_0x1dda("0x2c1")](_[_0x1dda("0x898")].y),n=Math.abs(_[_0x1dda("0x898")].z);t<e&&(e=t,_.up[_0x1dda("0xcd")](1,0,0)),i<e&&(e=i,_.up.set(0,1,0)),n<e&&_.up[_0x1dda("0xcd")](0,0,1)}_[_0x1dda("0x326")][_0x1dda("0x8a1")](_[_0x1dda("0x898")],_.up).normalize(),_.up[_0x1dda("0x8a1")](_[_0x1dda("0x326")],_.dir)[_0x1dda("0x2cc")](),_[_0x1dda("0x89c")]=0,_[_0x1dda("0x899")]=1,_[_0x1dda("0x898")][_0x1dda("0x2cc")](),this[_0x1dda("0xfb")]++};var s=new(THREE[_0x1dda("0x11c")]),o=new THREE.Vector3,c=new(THREE[_0x1dda("0x11c")]),l=new THREE.Matrix4,f=new THREE.QuadraticBezierCurve3;r[_0x1dda("0x1")][_0x1dda("0x89d")]=function(d,x,a,_,e){if(a>0&&_>0){for(var t=this[_0x1dda("0x400")][this[_0x1dda("0xfb")]-1],i=this._getCornerBezierCurve(t.pos,d,x,a,f).getPoints(_),n=0;n<_;n+=1)this._hardCorner(i[n],i[n+1],e);i[_][_0x1dda("0x656")](x)||this[_0x1dda("0x8a2")](i[_],x,e)}else this[_0x1dda("0x8a2")](d,x,e)},r.prototype[_0x1dda("0x8a2")]=function(d,x,a){var _=this[_0x1dda("0x400")][this[_0x1dda("0xfb")]-1],e=this._getByIndex(this.count),i=s[_0x1dda("0x89f")](d,_[_0x1dda("0x3d8")]),n=o.subVectors(x,d),r=i.length();if(i[_0x1dda("0x2cc")](),n[_0x1dda("0x2cc")](),e[_0x1dda("0x3d8")][_0x1dda("0x20e")](d),e[_0x1dda("0x898")][_0x1dda("0x8a3")](i,n),e[_0x1dda("0x898")][_0x1dda("0x2cc")](),a)1===e[_0x1dda("0x898")][_0x1dda("0x8a4")](a)?e[_0x1dda("0x326")][_0x1dda("0x8a1")](n,a).normalize():e.right[_0x1dda("0x8a1")](e[_0x1dda("0x898")],a)[_0x1dda("0x2cc")](),e.up.crossVectors(e.right,e[_0x1dda("0x898")])[_0x1dda("0x2cc")]();else{e.up[_0x1dda("0x20e")](_.up);var f=c[_0x1dda("0x8a1")](_.dir,e[_0x1dda("0x898")]);if(f[_0x1dda("0x0")]()>t[_0x1dda("0xd")]){f[_0x1dda("0x2cc")]();var u=Math[_0x1dda("0x8a5")](Math[_0x1dda("0x2f6")](Math.max(_[_0x1dda("0x898")][_0x1dda("0x8a4")](e[_0x1dda("0x898")]),-1),1));e.up.applyMatrix4(l.makeRotationAxis(f,u))}e.right[_0x1dda("0x8a1")](e[_0x1dda("0x898")],e.up)[_0x1dda("0x2cc")]()}e[_0x1dda("0x89c")]=_[_0x1dda("0x89c")]+r;var h=i[_0x1dda("0x8a4")](n);e[_0x1dda("0x899")]=Math[_0x1dda("0x2f6")](1/Math[_0x1dda("0x103")]((1+h)/2),1.414213562373)||1,this.count++},r[_0x1dda("0x1")][_0x1dda("0x89e")]=function(d){var x=this[_0x1dda("0x400")][this[_0x1dda("0xfb")]-1],a=this[_0x1dda("0x8a6")](this[_0x1dda("0xfb")]);a[_0x1dda("0x3d8")][_0x1dda("0x20e")](d),a[_0x1dda("0x898")][_0x1dda("0x89f")](d,x.pos);var _=a[_0x1dda("0x898")].length();a[_0x1dda("0x898")].normalize(),a.up[_0x1dda("0x20e")](x.up);var e=s[_0x1dda("0x8a1")](x[_0x1dda("0x898")],a[_0x1dda("0x898")]);if(e.length()>t.default){e.normalize();var i=Math[_0x1dda("0x8a5")](Math[_0x1dda("0x2f6")](Math[_0x1dda("0x2be")](x[_0x1dda("0x898")].dot(a[_0x1dda("0x898")]),-1),1));a.up.applyMatrix4(l[_0x1dda("0x8a7")](e,i))}a[_0x1dda("0x326")][_0x1dda("0x8a1")](a[_0x1dda("0x898")],a.up).normalize(),a.dist=x.dist+_,a.widthScale=1,this[_0x1dda("0xfb")]++},r[_0x1dda("0x1")]._getByIndex=function(d){return this[_0x1dda("0x400")][d]||(this[_0x1dda("0x400")][d]=new n),this[_0x1dda("0x400")][d]},r[_0x1dda("0x1")][_0x1dda("0x8a8")]=function(d,x,a,_,e){var t=s.subVectors(x,d),i=o.subVectors(a,x),n=t[_0x1dda("0x0")](),r=i[_0x1dda("0x0")]();return t[_0x1dda("0x2cc")](),i[_0x1dda("0x2cc")](),n>_?e.v0[_0x1dda("0x20e")](x)[_0x1dda("0x4cf")](t[_0x1dda("0x218")](_)):e.v0[_0x1dda("0x20e")](d),e.v1[_0x1dda("0x20e")](x),r>_?e.v2[_0x1dda("0x20e")](x)[_0x1dda("0xce")](i[_0x1dda("0x218")](_)):e.v2[_0x1dda("0x20e")](a),e};var u=function(){this[_0x1dda("0x8a9")]=!1,this[_0x1dda("0x8aa")]=!1,this[_0x1dda("0x8ab")]=[],this[_0x1dda("0x8ac")]=new THREE.Vector3,this[_0x1dda("0x8ad")]=new(THREE[_0x1dda("0x11c")]),this[_0x1dda("0x8ae")]=.5,this[_0x1dda("0x18b")]=.1,this[_0x1dda("0x8af")]=.2,this[_0x1dda("0x8b0")]=10,this._pathPointList=new r,this._dirty=!0,this.up=new(THREE[_0x1dda("0x11c")])(0,1,0)};Object[_0x1dda("0xa")](u.prototype,_0x1dda("0x8b1"),{set:function(d){this[_0x1dda("0x8af")]=d,this[_0x1dda("0x8b2")]=!0},get:function(){return this[_0x1dda("0x8af")]}}),Object[_0x1dda("0xa")](u.prototype,_0x1dda("0x8b3"),{set:function(d){this[_0x1dda("0x8b0")]=d,this[_0x1dda("0x8b2")]=!0},get:function(){return this[_0x1dda("0x8b0")]}}),u.prototype.getPoints=function(){if(this[_0x1dda("0x8aa")]&&(this[_0x1dda("0x8ab")].pop(),this._includeDrawingPoint=!1),this[_0x1dda("0x8a9")]&&this._points.length>0){var d=this[_0x1dda("0x8b4")]();d&&(this._points[_0x1dda("0x10")](d),this[_0x1dda("0x8aa")]=!0)}return this[_0x1dda("0x8ab")]},u[_0x1dda("0x1")][_0x1dda("0x8b5")]=function(){return(this[_0x1dda("0x8a9")]||this[_0x1dda("0x8b2")])&&(this[_0x1dda("0x8b6")][_0x1dda("0xcd")](this[_0x1dda("0x8b7")](),this[_0x1dda("0x8af")],this._cornerSplit,this.up),this._dirty=!1),this[_0x1dda("0x8b6")]},u.prototype[_0x1dda("0x152")]=function(d){this._lastPoint.copy(d),this[_0x1dda("0x8ac")].y+=this[_0x1dda("0x18b")]},u[_0x1dda("0x1")][_0x1dda("0x8b8")]=function(){this._drawing=!0;var d=this[_0x1dda("0x8b4")]();d&&(this._includeDrawingPoint&&(this[_0x1dda("0x8ab")][_0x1dda("0xd5")](),this[_0x1dda("0x8aa")]=!1),this._points[_0x1dda("0x10")](d[_0x1dda("0x116")]())),this._dirty=!0},u[_0x1dda("0x1")][_0x1dda("0x21c")]=function(){this._drawing=!0,this[_0x1dda("0x8b2")]=!0},u[_0x1dda("0x1")][_0x1dda("0x18d")]=function(){this[_0x1dda("0x8a9")]=!1,this[_0x1dda("0x8b2")]=!0},u[_0x1dda("0x1")][_0x1dda("0x6c4")]=function(){this[_0x1dda("0x8a9")]=!1,this._includeDrawingPoint=!1,this[_0x1dda("0x8ab")]=[],this[_0x1dda("0x8b2")]=!0};var h=new THREE.Vector3,g=new THREE.Vector3,b=new(THREE[_0x1dda("0x11c")]);u.prototype[_0x1dda("0x8b4")]=function(){if(this[_0x1dda("0x8ad")][_0x1dda("0x20e")](this[_0x1dda("0x8ac")]),this[_0x1dda("0x8ab")][_0x1dda("0x0")]>0){var d=this[_0x1dda("0x8aa")]?this[_0x1dda("0x8ab")][this[_0x1dda("0x8ab")][_0x1dda("0x0")]-2]:this[_0x1dda("0x8ab")][this._points[_0x1dda("0x0")]-1];if(function(d,x){return h.copy(x)[_0x1dda("0x4cf")](d)[_0x1dda("0x0")]()}(d,this[_0x1dda("0x8ad")])<this[_0x1dda("0x8ae")]&&(h[_0x1dda("0x2cc")]()[_0x1dda("0x218")](this.fixRadius),this[_0x1dda("0x8ad")][_0x1dda("0x20e")](d)[_0x1dda("0xce")](h)),this[_0x1dda("0x8aa")]?this[_0x1dda("0x8ab")][_0x1dda("0x0")]>2:this[_0x1dda("0x8ab")][_0x1dda("0x0")]>1){var x=this[_0x1dda("0x8aa")]?this._points[this[_0x1dda("0x8ab")][_0x1dda("0x0")]-3]:this._points[this[_0x1dda("0x8ab")][_0x1dda("0x0")]-2];if(g.subVectors(d,x),b[_0x1dda("0x89f")](this._lastFixedPoint,d),g[_0x1dda("0x2cc")](),b[_0x1dda("0x2cc")](),g[_0x1dda("0x218")](-1)[_0x1dda("0x8a4")](b)>.99)return null}}return this[_0x1dda("0x8ad")]};var v=function(d){THREE.BufferGeometry.call(this),d=d||3e3,this.setAttribute?(this.setAttribute(_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(new Float32Array(3*d),3)[_0x1dda("0x8b9")](THREE.DynamicDrawUsage)),this[_0x1dda("0x41f")]("normal",new THREE.BufferAttribute(new Float32Array(3*d),3)[_0x1dda("0x8b9")](THREE[_0x1dda("0x8ba")])),this[_0x1dda("0x41f")]("uv",new(THREE[_0x1dda("0x402")])(new Float32Array(2*d),2)[_0x1dda("0x8b9")](THREE[_0x1dda("0x8ba")]))):(this[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(new Float32Array(3*d),3)[_0x1dda("0x8bb")](!0)),this[_0x1dda("0x403")]("normal",new THREE.BufferAttribute(new Float32Array(3*d),3)[_0x1dda("0x8bb")](!0)),this.addAttribute("uv",new(THREE[_0x1dda("0x402")])(new Float32Array(2*d),2)[_0x1dda("0x8bb")](!0))),this[_0x1dda("0x8bc")][_0x1dda("0x21c")]=0,this[_0x1dda("0x8bc")][_0x1dda("0xfb")]=0};v[_0x1dda("0x1")]=(0,e[_0x1dda("0xd")])((0,_[_0x1dda("0xd")])(THREE[_0x1dda("0x3f9")][_0x1dda("0x1")]),{constructor:v,update:function(d,x){x=x||{};var a=this._updateAttributes(d,x);this[_0x1dda("0x8bc")].count=a},_resizeAttribute:function(d,x,a){for(;x[_0x1dda("0x400")].length<a;){var _=x[_0x1dda("0x400")][_0x1dda("0x0")],e=new(THREE[_0x1dda("0x402")])(new Float32Array(2*_),x.itemSize,x[_0x1dda("0x782")]);e[_0x1dda("0xfc")]=x[_0x1dda("0xfc")],e.usage=x.usage,this[_0x1dda("0x403")]?this[_0x1dda("0x403")](d,e):this.addAttribute(d,e),x=e}},_updateAttributes:function(d,x){var a=x[_0x1dda("0x1a5")]||.1,_=void 0!==x[_0x1dda("0xd7")]?x[_0x1dda("0xd7")]:1,e=void 0===x[_0x1dda("0x158")]||x[_0x1dda("0x158")],t=void 0!==x[_0x1dda("0x149")]?x[_0x1dda("0x149")]:_0x1dda("0x157"),i=0,r=[],s=[],o=[],c=new(THREE[_0x1dda("0x11c")]),l=new(THREE[_0x1dda("0x11c")]);function f(d,x,a){d[_0x1dda("0x898")];var _=d.up,e=d[_0x1dda("0x326")];"left"!==t?c.copy(e)[_0x1dda("0x218")](x*d[_0x1dda("0x899")]):c[_0x1dda("0xcd")](0,0,0),"right"!==t?l[_0x1dda("0x20e")](e)[_0x1dda("0x218")](-x*d[_0x1dda("0x899")]):l[_0x1dda("0xcd")](0,0,0),c[_0x1dda("0xce")](d.pos),l.add(d[_0x1dda("0x3d8")]),r[_0x1dda("0x10")](l.x,l.y,l.z,c.x,c.y,c.z),s[_0x1dda("0x10")](_.x,_.y,_.z,_.x,_.y,_.z),o[_0x1dda("0x10")](a,0,a,1),i+=2}var u=new THREE.Vector3,h=d[_0x1dda("0x2a1")]();if(0==h)return 0;var g,b=_*h;if(b>0)for(var v=0;v<d[_0x1dda("0xfb")];v++){var p=d[_0x1dda("0x400")][v];if(p.dist>b){var m=d[_0x1dda("0x400")][v-1];g=new n;var A=(b-m[_0x1dda("0x89c")])/(p[_0x1dda("0x89c")]-m[_0x1dda("0x89c")]);g[_0x1dda("0x89a")](m,p,A),f(g,a/2,g[_0x1dda("0x89c")]/(_0x1dda("0x157")!==t?a/2:a));break}f(p,a/2,p.dist/(_0x1dda("0x157")!==t?a/2:a))}else g=d[_0x1dda("0x400")][0];e&&function(d,x,a){var _=d[_0x1dda("0x898")],e=d.up,n=d[_0x1dda("0x326")];_0x1dda("0x325")!==t?c.copy(n).multiplyScalar(2*x):c[_0x1dda("0xcd")](0,0,0),_0x1dda("0x326")!==t?l[_0x1dda("0x20e")](n)[_0x1dda("0x218")](2*-x):l.set(0,0,0),u[_0x1dda("0x20e")](_).setLength(3*x),c.add(d[_0x1dda("0x3d8")]),l[_0x1dda("0xce")](d.pos),u.add(d[_0x1dda("0x3d8")]),r[_0x1dda("0x10")](l.x,l.y,l.z,c.x,c.y,c.z,u.x,u.y,u.z),s[_0x1dda("0x10")](e.x,e.y,e.z,e.x,e.y,e.z,e.x,e.y,e.z),o.push(a,_0x1dda("0x157")!==t?"right"!==t?-2:0:-.5,a,"both"!==t?"left"!==t?2:0:1.5,a+3*x/("both"!==t?x:2*x),_0x1dda("0x157")!==t?0:.5),i+=3}(g=g||d[_0x1dda("0x400")][d[_0x1dda("0xfb")]-1],a/2,g[_0x1dda("0x89c")]/(_0x1dda("0x157")!==t?a/2:a));var C=this.getAttribute(_0x1dda("0xfa")),I=this[_0x1dda("0x3fb")]("normal"),y=this.getAttribute("uv");return this._resizeAttribute(_0x1dda("0xfa"),C,r[_0x1dda("0x0")]),this._resizeAttribute(_0x1dda("0x3fd"),I,s[_0x1dda("0x0")]),this[_0x1dda("0x8bd")]("uv",y,o[_0x1dda("0x0")]),C=this.getAttribute(_0x1dda("0xfa")),I=this[_0x1dda("0x3fb")](_0x1dda("0x3fd")),y=this[_0x1dda("0x3fb")]("uv"),C[_0x1dda("0x400")][_0x1dda("0xcd")](r,0),I[_0x1dda("0x400")][_0x1dda("0xcd")](s,0),y[_0x1dda("0x400")][_0x1dda("0xcd")](o,0),C[_0x1dda("0x8be")][_0x1dda("0xfb")]=r.length,I.updateRange.count=s[_0x1dda("0x0")],y[_0x1dda("0x8be")].count=o[_0x1dda("0x0")],C[_0x1dda("0x172")]=!0,I[_0x1dda("0x172")]=!0,y[_0x1dda("0x172")]=!0,i}});var p=function(d){v.call(this,d||1e3),this[_0x1dda("0x404")](new Array(2*(d||1e3))),this.maxUvVal=0};p[_0x1dda("0x1")]=(0,e[_0x1dda("0xd")])((0,_[_0x1dda("0xd")])(v[_0x1dda("0x1")]),{constructor:p,_resizeIndex:function(d,x){for(;d.array[_0x1dda("0x0")]<x;){var a=d.array[_0x1dda("0x0")],_=new(THREE[_0x1dda("0x402")])(2*a>65535?new Uint32Array(2*a):new Uint16Array(2*a),1);_[_0x1dda("0xfc")]=d[_0x1dda("0xfc")],_.usage=d.usage,this[_0x1dda("0x404")](_),d=_}},_updateAttributes:function(d,x){var a=this,_=x[_0x1dda("0x645")]||.1,e=x[_0x1dda("0x8bf")]||8;e=Math[_0x1dda("0x2be")](2,e);var t=x[_0x1dda("0x8c0")]||0,i=void 0!==x[_0x1dda("0xd7")]?x[_0x1dda("0xd7")]:1,r=0,s=[],o=[],c=[],l=[],f=0,u=new(THREE[_0x1dda("0x11c")]);function h(d,x,_,e){for(var i=0===s[_0x1dda("0x0")],n=0;n<=_;n++){var h=n;h==_&&(h=0);var g=n/_,b=Math[_0x1dda("0x2be")](e,g);b>a.maxUvVal&&(a[_0x1dda("0x13d")]=b),u[_0x1dda("0x20e")](d.up).applyAxisAngle(d[_0x1dda("0x898")],t+2*Math.PI*h/_).normalize(),s[_0x1dda("0x10")](d.pos.x+u.x*x*d[_0x1dda("0x899")],d[_0x1dda("0x3d8")].y+u.y*x*d[_0x1dda("0x899")],d[_0x1dda("0x3d8")].z+u.z*x*d[_0x1dda("0x899")]),o[_0x1dda("0x10")](u.x,u.y,u.z),c[_0x1dda("0x10")](e,g),f++}if(!i)for(var v=f-2*(_+1),p=f-(_+1),m=0;m<_;m++)l[_0x1dda("0x10")](p+m,v+m,v+m+1,p+m,v+m+1,p+m+1),r+=6}var g=i*d.distance();if(0==g)return 0;if(g>0)for(var b=0;b<d.count;b++){var v=d[_0x1dda("0x400")][b];if(v[_0x1dda("0x89c")]>g){var p=d.array[b-1],m=new n,A=(g-p[_0x1dda("0x89c")])/(v.dist-p[_0x1dda("0x89c")]);m.lerpPathPoints(p,v,A),h(m,_,e,m[_0x1dda("0x89c")]/(2*_*Math.PI));break}h(v,_,e,v[_0x1dda("0x89c")]/(2*_*Math.PI))}var C=this[_0x1dda("0x3fb")](_0x1dda("0xfa")),I=this[_0x1dda("0x3fb")](_0x1dda("0x3fd")),y=this[_0x1dda("0x3fb")]("uv"),E=this.getIndex();return this._resizeAttribute(_0x1dda("0xfa"),C,s[_0x1dda("0x0")]),this[_0x1dda("0x8bd")](_0x1dda("0x3fd"),I,o[_0x1dda("0x0")]),this[_0x1dda("0x8bd")]("uv",y,c[_0x1dda("0x0")]),this[_0x1dda("0x8c1")](E,l.length),C=this[_0x1dda("0x3fb")](_0x1dda("0xfa")),I=this[_0x1dda("0x3fb")](_0x1dda("0x3fd")),y=this[_0x1dda("0x3fb")]("uv"),E=this[_0x1dda("0x8c2")](),C[_0x1dda("0x400")].set(s,0),I.array[_0x1dda("0xcd")](o,0),y.array[_0x1dda("0xcd")](c,0),E[_0x1dda("0xcd")](l,0),C.updateRange[_0x1dda("0xfb")]=s[_0x1dda("0x0")],I[_0x1dda("0x8be")][_0x1dda("0xfb")]=o[_0x1dda("0x0")],y.updateRange.count=c[_0x1dda("0x0")],E.updateRange.count=l.length,C[_0x1dda("0x172")]=!0,I[_0x1dda("0x172")]=!0,y.needsUpdate=!0,E.needsUpdate=!0,r}}),THREE[_0x1dda("0x155")]=v,THREE[_0x1dda("0x8c3")]=p,THREE[_0x1dda("0x129")]=r,THREE[_0x1dda("0x8c4")]=u},function(d,x,a){"use strict";THREE[_0x1dda("0x8c5")]=function(){var d=new(THREE[_0x1dda("0x8c6")]);new THREE.Vector3;function x(d,x,a){this[_0x1dda("0x614")]=d,this[_0x1dda("0xf7")]=x,this.startPoint=new(THREE[_0x1dda("0x11c")]),this.endPoint=new(THREE[_0x1dda("0x11c")]),this[_0x1dda("0x8c7")]=[],this[_0x1dda("0x8c8")]=a||Number.MAX_VALUE,this[_0x1dda("0x8c9")]=null,this.focusTileId=""}return x.prototype[_0x1dda("0x8ca")]=function(x,a){return this[_0x1dda("0x8cb")]=x||this[_0x1dda("0x8cb")],this[_0x1dda("0x8cc")]=a||this[_0x1dda("0x8cc")],this[_0x1dda("0x8c7")]=[],this.updateFrustum(this[_0x1dda("0x8cb")],this[_0x1dda("0x8cc")]),this[_0x1dda("0x8cd")](d),this[_0x1dda("0x8c7")]},x[_0x1dda("0x1")][_0x1dda("0x8ce")]=function(x,a){x=x||this[_0x1dda("0x8cb")],a=a||this[_0x1dda("0x8cc")];var _=esmap.ESMap[_0x1dda("0x34")];if(this[_0x1dda("0x614")]=_[_0x1dda("0x22b")],this[_0x1dda("0x614")][_0x1dda("0x8cf")](),this[_0x1dda("0x614")][_0x1dda("0x6f5")](),this[_0x1dda("0x614")][_0x1dda("0x8d0")]){var e=x[_0x1dda("0x116")]();e.x=Math[_0x1dda("0x2f6")](x.x,a.x),e.y=Math[_0x1dda("0x2be")](x.y,a.y),a.x=Math[_0x1dda("0x2be")](x.x,a.x),a.y=Math[_0x1dda("0x2f6")](x.y,a.y);var t=this[_0x1dda("0x614")].position[_0x1dda("0x116")](),i=e.clone(),n=new(THREE[_0x1dda("0x11c")])(a.x,e.y,0),r=a.clone(),s=new THREE.Vector3(e.x,a.y,0);i.unproject(this[_0x1dda("0x614")]),n[_0x1dda("0x8d1")](this[_0x1dda("0x614")]),r[_0x1dda("0x8d1")](this[_0x1dda("0x614")]),s[_0x1dda("0x8d1")](this[_0x1dda("0x614")]);var o=i.clone().sub(t),c=n[_0x1dda("0x116")]()[_0x1dda("0x4cf")](t),l=r[_0x1dda("0x116")]()[_0x1dda("0x4cf")](t);o[_0x1dda("0x2cc")](),c[_0x1dda("0x2cc")](),l[_0x1dda("0x2cc")](),o[_0x1dda("0x218")](this[_0x1dda("0x8c8")]),c[_0x1dda("0x218")](this[_0x1dda("0x8c8")]),l[_0x1dda("0x218")](this[_0x1dda("0x8c8")]),o[_0x1dda("0xce")](t),c[_0x1dda("0xce")](t),l[_0x1dda("0xce")](t),(b=d[_0x1dda("0x8d2")])[0][_0x1dda("0x8d3")](t,i,n),b[1].setFromCoplanarPoints(t,n,r),b[2][_0x1dda("0x8d3")](r,s,t),b[3][_0x1dda("0x8d3")](s,i,t),b[4][_0x1dda("0x8d3")](n,r,s),b[5][_0x1dda("0x8d3")](l,c,o),b[5].normal[_0x1dda("0x218")](-1)}else{if(!this[_0x1dda("0x614")].isOrthographicCamera)return _0x1dda("0x8d4"),!1;var f=Math.min(x.x,a.x),u=Math[_0x1dda("0x2be")](x.y,a.y),h=Math[_0x1dda("0x2be")](x.x,a.x),g=Math[_0x1dda("0x2f6")](x.y,a.y);if(f===h||u===g)return!1;i=new(THREE[_0x1dda("0x11c")])(f,u,-1),n=new(THREE[_0x1dda("0x11c")])(h,u,-1),r=new(THREE[_0x1dda("0x11c")])(h,g,-1),s=new(THREE[_0x1dda("0x11c")])(f,g,-1);var b,v=new(THREE[_0x1dda("0x11c")])(f,u,1),p=new(THREE[_0x1dda("0x11c")])(h,u,1),m=new THREE.Vector3(h,g,1),A=new(THREE[_0x1dda("0x11c")])(f,g,1);i.unproject(this[_0x1dda("0x614")]),n[_0x1dda("0x8d1")](this[_0x1dda("0x614")]),r[_0x1dda("0x8d1")](this.camera),s[_0x1dda("0x8d1")](this[_0x1dda("0x614")]),v[_0x1dda("0x8d1")](this.camera),p[_0x1dda("0x8d1")](this[_0x1dda("0x614")]),m[_0x1dda("0x8d1")](this[_0x1dda("0x614")]),A[_0x1dda("0x8d1")](this[_0x1dda("0x614")]),(b=d[_0x1dda("0x8d2")])[0][_0x1dda("0x8d3")](i,v,p),b[1][_0x1dda("0x8d3")](n,p,m),b[2][_0x1dda("0x8d3")](m,A,s),b[3][_0x1dda("0x8d3")](A,v,i),b[4].setFromCoplanarPoints(n,r,s),b[5][_0x1dda("0x8d3")](m,p,v),b[5].normal[_0x1dda("0x218")](-1)}return!0},x[_0x1dda("0x1")].searchWatchlist=function(d){var x=this[_0x1dda("0x8c9")],a=new(THREE[_0x1dda("0x11c")]),_=esmap[_0x1dda("0x33")][_0x1dda("0x34")],e=_[_0x1dda("0x35")][_0x1dda("0x1cc")];if(this[_0x1dda("0x8d5")])for(var t=0;t<this.preWatchs[_0x1dda("0x0")];t++){var i=this.preWatchs[t];if(i[_0x1dda("0x3b2")]==_0x1dda("0x125")){if(!i[_0x1dda("0x8d6")]){for(var n=i[_0x1dda("0x121")],r=[],s=0;s<n[_0x1dda("0x0")]-1;s++){var o=n[s],c=n[s+1],l=c.x-o.x,f=c.y-o.y,u=c.z-o.z,h=Math.max(Math[_0x1dda("0x2c1")](l),Math[_0x1dda("0x2c1")](f),Math[_0x1dda("0x2c1")](u));if(0!=h&&h!=1/0)for(var g=l/h,b=f/h,v=u/h,p=0;p<h+1;p++){var m=g*p,A=b*p,C=v*p,I=new THREE.Vector3(o.x+m,o.y+A,o.z+C);r[_0x1dda("0x10")](I)}}i[_0x1dda("0x8d6")]=r}for(var y=0;y<i.boxSelectPoints[_0x1dda("0x0")];y++){var E=i[_0x1dda("0x8d6")][y];if(d[_0x1dda("0x8d7")](E)){this.collection.push(i);break}}}else i.userData.box3||(i[_0x1dda("0x153")][_0x1dda("0x2bd")]=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](i)),d[_0x1dda("0x8d8")](i[_0x1dda("0x153")][_0x1dda("0x2bd")])&&this[_0x1dda("0x8c7")][_0x1dda("0x10")](i)}for(var w in x)for(var T=x[w],k=0;k<T[_0x1dda("0x0")];k++){var S=T[k];if(S[_0x1dda("0xe5")]&&S.datas_[_0x1dda("0x106")]){if(this[_0x1dda("0x8d9")]!=_0x1dda("0x641"))if(this[_0x1dda("0x8d9")]instanceof Array){if(this[_0x1dda("0x8d9")][_0x1dda("0xaf")](S[_0x1dda("0xe5")].nodeType)<0)continue}else if(S[_0x1dda("0xe5")][_0x1dda("0x106")]!=this[_0x1dda("0x8d9")])continue;if(_[_0x1dda("0x17d")][_0x1dda("0x4d8")](S))switch(S[_0x1dda("0xe5")][_0x1dda("0x106")]){case esmap.ESNodeType[_0x1dda("0x625")]:if(!e&&999==S[_0x1dda("0xe5")].RoomStyle)continue;for(var M=S[_0x1dda("0xe5")][_0x1dda("0x424")],R=0;R<M[_0x1dda("0x0")];R++){var L=[];L=e?Array.isArray(M[R][_0x1dda("0x121")][0])?M[R][_0x1dda("0x121")][0]:M[R].points:_[_0x1dda("0x7d")].buildingBounds[M[R].ID][0];for(var D=[],H=1;H<L[_0x1dda("0x0")];H++)D[_0x1dda("0x10")]({x:-L[H].x,y:L[H].y});(esmap[_0x1dda("0x86")][_0x1dda("0x8da")](D,this.mapExtends)||esmap.ESMapUtil.containPolygons(D,this.mapExtends))&&this[_0x1dda("0x8c7")][_0x1dda("0x10")](M[R])}break;case esmap[_0x1dda("0x126")][_0x1dda("0x1b5")]:S[_0x1dda("0x153")][_0x1dda("0x2bd")]||(S[_0x1dda("0x153")].box3=(new THREE.Box3)[_0x1dda("0x2ae")](S)),S[_0x1dda("0x153")][_0x1dda("0x8db")]||S.traverse((function(d){d[_0x1dda("0xe9")]&&(d.material instanceof Array?(d[_0x1dda("0xe9")][0]=d[_0x1dda("0xe9")][0][_0x1dda("0x116")](),d[_0x1dda("0xe9")][0][_0x1dda("0x153")][_0x1dda("0x8db")]=!0):(d[_0x1dda("0xe9")]=d[_0x1dda("0xe9")][_0x1dda("0x116")](),d[_0x1dda("0xe9")][_0x1dda("0x153")][_0x1dda("0x8db")]=!0))})),d[_0x1dda("0x8d8")](S[_0x1dda("0x153")].box3)&&this[_0x1dda("0x8c7")].push(S.datas_);break;case esmap[_0x1dda("0x126")][_0x1dda("0x127")]:if(!S[_0x1dda("0x8d6")]){for(var P=S[_0x1dda("0x121")],O=[],B=0;B<P[_0x1dda("0x0")]-1;B++){var F=P[B],N=P[B+1],z=N.x-F.x,j=N.y-F.y,U=N.z-F.z,X=Math[_0x1dda("0x2be")](Math[_0x1dda("0x2c1")](z),Math[_0x1dda("0x2c1")](j),Math[_0x1dda("0x2c1")](U));if(0!=X&&X!=1/0)for(var Y=z/X,G=j/X,Q=U/X,V=0;V<X+1;V++){var W=Y*V,Z=G*V,J=Q*V,K=new(THREE[_0x1dda("0x11c")])(F.x+W,F.y+Z,F.z+J);O.push(K)}}S[_0x1dda("0x8d6")]=O}for(var q=0;q<S[_0x1dda("0x8d6")].length;q++){var $=S.boxSelectPoints[q];if(d[_0x1dda("0x8d7")]($)){this[_0x1dda("0x8c7")][_0x1dda("0x10")](S[_0x1dda("0xe5")]);break}}break;default:a=S[_0x1dda("0x1e6")](a),d[_0x1dda("0x8d7")](a)&&this[_0x1dda("0x8c7")].push(S[_0x1dda("0xe5")])}}}},x[_0x1dda("0x1")].searchChildInFrustum=function(d,x){if(x[_0x1dda("0x893")]&&void 0!==x[_0x1dda("0xe9")])if(x.originalPoints){if(!x[_0x1dda("0x8d6")]){for(var a=x.points,_=[],e=0;e<a[_0x1dda("0x0")]-1;e++){var t=a[e],i=a[e+1],n=i.x-t.x,r=i.y-t.y,s=i.z-t.z,o=Math[_0x1dda("0x2be")](Math[_0x1dda("0x2c1")](n),Math[_0x1dda("0x2c1")](r),Math[_0x1dda("0x2c1")](s));if(0!=o&&o!=1/0)for(var c=n/o,l=r/o,f=s/o,u=0;u<o+1;u++){var h=c*u,g=l*u,b=f*u,v=new(THREE[_0x1dda("0x11c")])(t.x+h,t.y+g,t.z+b);_[_0x1dda("0x10")](v)}}x[_0x1dda("0x8d6")]=_}for(var p=0;p<x[_0x1dda("0x8d6")][_0x1dda("0x0")];p++){var m=x[_0x1dda("0x8d6")][p];if(d[_0x1dda("0x8d7")](m)){this[_0x1dda("0x8c7")][_0x1dda("0x10")](x);break}}}else{null===x[_0x1dda("0xe7")].boundingBox&&x.geometry[_0x1dda("0x50d")]();var A=(new THREE.Box3)[_0x1dda("0x20e")](x[_0x1dda("0xe7")][_0x1dda("0x50e")]).applyMatrix4(x.matrixWorld);if(d[_0x1dda("0x8d8")](A)){var C=null,I=!1;if(x[_0x1dda("0xe5")]?C=x:(C=esmap[_0x1dda("0x5e8")][_0x1dda("0xe4")](x),I=!0),C&&this[_0x1dda("0x8c7")][_0x1dda("0x10")](C.datas_),C&&I)return!0}}if(x.children[_0x1dda("0x0")]>0)for(var y=0;y<x.children[_0x1dda("0x0")];y++){if(this[_0x1dda("0x8dc")](d,x.children[y]))break}},x}()},function(d,x,a){"use strict";THREE[_0x1dda("0x8dd")]=function(){function d(d,x,a){this[_0x1dda("0x41c")]=document[_0x1dda("0x20")](_0x1dda("0x1a4")),this[_0x1dda("0x41c")][_0x1dda("0x49b")][_0x1dda("0xce")](a),this[_0x1dda("0x41c")].style[_0x1dda("0x8de")]=_0x1dda("0x5bb"),this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0x8df")]=_0x1dda("0x8e0"),this[_0x1dda("0x41c")][_0x1dda("0x120")].backgroundColor=_0x1dda("0x8e1"),this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0xfa")]=_0x1dda("0x8e2"),this.renderer={domElement:x},this[_0x1dda("0x8cb")]=new THREE.Vector2,this[_0x1dda("0x8e3")]=new(THREE[_0x1dda("0x50f")]),this[_0x1dda("0x8e4")]=new THREE.Vector2,this.selectionBox=d,this[_0x1dda("0x8e5")]=!1,this.renderer[_0x1dda("0x1a0")][_0x1dda("0x30")]("mousedown",function(d){this.selectionBox[_0x1dda("0x6b9")]&&2!=d[_0x1dda("0x71b")]&&(this[_0x1dda("0x8e5")]=!0,this[_0x1dda("0x8e6")](d))}[_0x1dda("0x4e")](this),!1),this[_0x1dda("0x32c")].domElement[_0x1dda("0x30")]("mousemove",function(d){this[_0x1dda("0x8e5")]&&this.onSelectMove(d)}[_0x1dda("0x4e")](this),!1),this[_0x1dda("0x32c")][_0x1dda("0x1a0")][_0x1dda("0x30")](_0x1dda("0x732"),function(d){this.selectionBox[_0x1dda("0x6b9")]&&(this[_0x1dda("0x8e5")]=!1,this[_0x1dda("0x8e7")](d))}[_0x1dda("0x4e")](this),!1)}return d[_0x1dda("0x1")][_0x1dda("0x8e6")]=function(d){this.renderer[_0x1dda("0x1a0")][_0x1dda("0x8e8")][_0x1dda("0x24")](this[_0x1dda("0x41c")]),this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0x325")]=d[_0x1dda("0x497")]+"px",this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0x323")]=d[_0x1dda("0x499")]+"px",this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0x1a5")]="0px",this.element[_0x1dda("0x120")].height=_0x1dda("0x8e9"),this.element[_0x1dda("0x120")][_0x1dda("0x8ea")]=1e3,this[_0x1dda("0x8cb")].x=d[_0x1dda("0x497")],this[_0x1dda("0x8cb")].y=d[_0x1dda("0x499")]},d[_0x1dda("0x1")][_0x1dda("0x8eb")]=function(d){this[_0x1dda("0x8e4")].x=Math.max(this[_0x1dda("0x8cb")].x,d[_0x1dda("0x497")]),this[_0x1dda("0x8e4")].y=Math[_0x1dda("0x2be")](this.startPoint.y,d[_0x1dda("0x499")]),this[_0x1dda("0x8e3")].x=Math[_0x1dda("0x2f6")](this[_0x1dda("0x8cb")].x,d[_0x1dda("0x497")]),this[_0x1dda("0x8e3")].y=Math[_0x1dda("0x2f6")](this.startPoint.y,d[_0x1dda("0x499")]),this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0x325")]=this[_0x1dda("0x8e3")].x+"px",this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0x323")]=this[_0x1dda("0x8e3")].y+"px",this[_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0x1a5")]=this[_0x1dda("0x8e4")].x-this[_0x1dda("0x8e3")].x+"px",this.element[_0x1dda("0x120")].height=this[_0x1dda("0x8e4")].y-this[_0x1dda("0x8e3")].y+"px"},d[_0x1dda("0x1")][_0x1dda("0x8e7")]=function(){this[_0x1dda("0x41c")][_0x1dda("0x8e8")]&&this[_0x1dda("0x41c")][_0x1dda("0x8e8")].removeChild(this.element)},d}()},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=s(a(7)),e=s(a(8)),t=s(a(0)),i=s(a(1)),n=a(18),r=s(a(140));function s(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var o=function(){function d(x,a){(0,t[_0x1dda("0xd")])(this,d),this[_0x1dda("0x8ec")]=x,this[_0x1dda("0x52")]=x[_0x1dda("0x12b")](a[_0x1dda("0x12d")]),this[_0x1dda("0x8ed")](a),this[_0x1dda("0x8ee")]={},this[_0x1dda("0x123")]=1,this[_0x1dda("0x8ef")]={}}var x;return(0,i[_0x1dda("0xd")])(d,[{key:"getDeviceWH",value:function(d,x){var a=this[_0x1dda("0x52")][_0x1dda("0x8f0")][x][_0x1dda("0xec")]-this[_0x1dda("0x52")][_0x1dda("0x8f0")][x][_0x1dda("0xf0")],_=this[_0x1dda("0x52")].floorEdges[x][_0x1dda("0xed")]-this.building[_0x1dda("0x8f0")][x][_0x1dda("0xf1")],e={w:Math.round(a),h:Math[_0x1dda("0x8f1")](_)},t=(0,n.getDeviceDPI)();e.w=e.w*t[0]/15,e.h=e.h*t[1]/15;var i=1,r=d||8192;return(a>500||_>500)&&r>=8192&&(r=2048),(e.w>=r||e.h>=r)&&(e.w>=e.h?(i=e.h/e.w,e.w=r,e.h=r*i):(i=e.w/e.h,e.h=r,e.w=r*i)),e}},{key:"getPixXY",value:function(d,x){var a={x:1-(d-this.building[_0x1dda("0x8f0")][this[_0x1dda("0x123")]].minx)/(this.building.floorEdges[this.fnum][_0x1dda("0xec")]-this[_0x1dda("0x52")][_0x1dda("0x8f0")][this[_0x1dda("0x123")]][_0x1dda("0xf0")]),y:1-(x-this[_0x1dda("0x52")].floorEdges[this[_0x1dda("0x123")]][_0x1dda("0xf1")])/(this.building[_0x1dda("0x8f0")][this.fnum][_0x1dda("0xed")]-this[_0x1dda("0x52")][_0x1dda("0x8f0")][this[_0x1dda("0x123")]].miny)};return a.x=a.x*this[_0x1dda("0x35")][_0x1dda("0x1a5")],a.y=a.y*this[_0x1dda("0x35")][_0x1dda("0x18b")],a}},{key:_0x1dda("0x8ed"),value:function(d){var x=this;x[_0x1dda("0x35")]={opacity:d[_0x1dda("0x2")](_0x1dda("0x11d"))?d[_0x1dda("0x11d")]:1,mapOpacity:d[_0x1dda("0x2")](_0x1dda("0x8f2"))?d.mapOpacity:1,radius:d.radius?d.radius:30,bshadow:d[_0x1dda("0x645")]?d.radius/20:1.5,maxSize:d[_0x1dda("0x8f3")]||8192,gendatas:!!d.gendatas,backgroundColor:d[_0x1dda("0x8f4")]||_0x1dda("0x119"),boundVal:15e3,duration:d[_0x1dda("0x18c")],shadowBlur:15,points:{max:d[_0x1dda("0x2be")]?d[_0x1dda("0x2be")]:100,data:[]},gradient:d[_0x1dda("0x8f5")]?d.gradient:{.45:_0x1dda("0x8f6"),.55:_0x1dda("0x8f7"),.65:_0x1dda("0x8f8"),.95:_0x1dda("0x8f9"),1:"rgb(255,0,0)"}};var a=document[_0x1dda("0x20")](_0x1dda("0x2fa")),_=a[_0x1dda("0x2fb")]("2d");x[_0x1dda("0x35")][_0x1dda("0x8fa")]=_,x.options[_0x1dda("0x2fa")]=a;var e=document[_0x1dda("0x20")](_0x1dda("0x2fa")),t=e[_0x1dda("0x2fb")]("2d");x.options.ctxCopy=t,x.options.canvasCopy=e}},{key:"renderShadow",value:function(d,x,a,_){var e=this,t=e[_0x1dda("0x35")].ctx,i=(e.options[_0x1dda("0x645")],e[_0x1dda("0x35")][_0x1dda("0x8fb")]),n=parseFloat(a/e[_0x1dda("0x35")].points[_0x1dda("0x2be")],10);_?t.shadowColor=_0x1dda("0x8fc")+h+")":t[_0x1dda("0x307")]=_0x1dda("0x8fd")+n+")",t[_0x1dda("0x308")]=i,t[_0x1dda("0x309")]=i,t.shadowBlur=e[_0x1dda("0x35")][_0x1dda("0x306")],t[_0x1dda("0x311")](),t.arc(d-i,x-i,e[_0x1dda("0x35")][_0x1dda("0x645")],0,2*Math.PI,!0),t[_0x1dda("0x8fe")](),t.fill()}},{key:"colorize",value:function(){for(var d=this,x=d[_0x1dda("0x35")][_0x1dda("0x1a5")],a=d.options.height,_=d[_0x1dda("0x35")][_0x1dda("0x8fa")],e=_[_0x1dda("0x8ff")](0,0,x,a),t=e[_0x1dda("0x442")],i=t[_0x1dda("0x0")],n=d[_0x1dda("0x900")](),r=d[_0x1dda("0x35")][_0x1dda("0x11d")]?255*d[_0x1dda("0x35")][_0x1dda("0x11d")]:255,s=3;s<i;s+=4){var o=t[s],c=4*o;if(c){var l=o<r?o:r;t[s-3]=n[c],t[s-2]=n[c+1],t[s-1]=n[c+2],t[s]=l}}e[_0x1dda("0x442")][_0x1dda("0xcd")](t),_.putImageData(e,0,0)}},{key:_0x1dda("0x901"),value:function(d){var x=this;x[_0x1dda("0x123")]=d;var a=x[_0x1dda("0x35")],_=x[_0x1dda("0x902")](a.maxSize,d),e=_.w,t=_.h;a[_0x1dda("0x1a5")]=e,a[_0x1dda("0x18b")]=t,a.canvas[_0x1dda("0x1a5")]=e,a[_0x1dda("0x2fa")].height=t,a[_0x1dda("0x903")][_0x1dda("0x1a5")]=e,a[_0x1dda("0x903")][_0x1dda("0x18b")]=t,this[_0x1dda("0x8ef")][d]||(this.HeatMapMaterials[d]={matTool:new(r[_0x1dda("0xd")])({duration:a[_0x1dda("0x2")](_0x1dda("0x18c"))?a[_0x1dda("0x18c")]:1,colorStr:a.backgroundColor})})}},{key:"renderToFloor",value:(x=(0,e.default)(_[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,e,t,i,n,r,s,o,c,l,f,u,h,g;return _.default[_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d[_0x1dda("0x24c")]){case 0:if(e=(a=this).options[_0x1dda("0x2fa")],t=new(THREE[_0x1dda("0x329")])(e),i=a[_0x1dda("0x35")][_0x1dda("0x8f2")],n=a.building[_0x1dda("0x61b")](x),r=null,t[_0x1dda("0x172")]=!0,a.HeatMapMaterials[x]&&a[_0x1dda("0x8ef")][x][_0x1dda("0x904")]){d[_0x1dda("0x24c")]=7;break}return console[_0x1dda("0x1eb")]("åºç¨"+x+_0x1dda("0x905")),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 7:if(!n[_0x1dda("0x906")]){d[_0x1dda("0x24c")]=16;break}return r=a[_0x1dda("0x8ef")][x][_0x1dda("0x907")],d.next=11,a[_0x1dda("0x8ef")][x][_0x1dda("0x904")][_0x1dda("0x152")](t);case 11:if(a[_0x1dda("0x8ef")][x]&&a[_0x1dda("0x8ef")][x][_0x1dda("0x904")][_0x1dda("0x437")]){d[_0x1dda("0x24c")]=13;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 13:a[_0x1dda("0x8ef")][x].matTool[_0x1dda("0x437")][_0x1dda("0x171")][_0x1dda("0x466")][_0x1dda("0xd8")][_0x1dda("0xe8")](),d[_0x1dda("0x24c")]=19;break;case 16:(r=a[_0x1dda("0x8ef")][x].matTool.createMaterial(t,new(THREE[_0x1dda("0x329")]))).userData[_0x1dda("0xfc")]="heatmap",a.HeatMapMaterials[x].mat=r;case 19:x!=a[_0x1dda("0x52")][_0x1dda("0x52b")]&&a.building[_0x1dda("0x35")][_0x1dda("0x908")],s=n[_0x1dda("0x909")](_0x1dda("0x5bc")),o=0;case 23:if(!(o<s[_0x1dda("0x0")])){d[_0x1dda("0x24c")]=36;break}if(c=s[o],(l=c[_0x1dda("0xe9")][0])[_0x1dda("0x153")].name!=_0x1dda("0x90a")){d[_0x1dda("0x24c")]=28;break}return d[_0x1dda("0x24e")](_0x1dda("0x63c"),33);case 28:c[_0x1dda("0xe7")][_0x1dda("0x403")](_0x1dda("0x90b"),c[_0x1dda("0xe7")][_0x1dda("0x3fb")]("uv")),c[_0x1dda("0xe7")].addAttribute("uv",c[_0x1dda("0xe7")].getAttribute(_0x1dda("0x90c"))),c.userData[_0x1dda("0x90d")]=l,(f=c[_0x1dda("0xe9")][1])?c.material=[r,f]:c[_0x1dda("0xe9")]=[r];case 33:o++,d[_0x1dda("0x24c")]=23;break;case 36:u=n[_0x1dda("0x909")]([_0x1dda("0x1ba"),_0x1dda("0x5c1")]),h=n[_0x1dda("0x909")]([_0x1dda("0x1bb")]),g=function(d){d.userData[_0x1dda("0x90e")]||(d[_0x1dda("0x153")][_0x1dda("0x90e")]={transparent:d[_0x1dda("0x136")],opacity:d.opacity,depthWrite:d[_0x1dda("0x15d")]},d[_0x1dda("0x136")]=!0,d[_0x1dda("0x11d")]=i,d[_0x1dda("0x15d")]=!1)},1!=i&&h[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x160")]=0,d[_0x1dda("0xf8")]((function(d){if(d.material)if(d[_0x1dda("0xe9")]instanceof Array)for(var x in d[_0x1dda("0xe9")])d[_0x1dda("0xe9")][x]&&g(d.material[x]);else g(d[_0x1dda("0xe9")])}))})),u[_0x1dda("0xd1")]((function(d){var x=d[_0x1dda("0xe9")],a=x[0];a[_0x1dda("0x153")][_0x1dda("0x3e5")]||((a=a[_0x1dda("0x116")]()).userData[_0x1dda("0x3e5")]=!0,x[0]=a),a.userData.hasOwnProperty(_0x1dda("0x11d"))||(a[_0x1dda("0x153")][_0x1dda("0x136")]=a[_0x1dda("0x136")],a[_0x1dda("0x153")][_0x1dda("0x11d")]=a.opacity),a[_0x1dda("0x136")]=!0,a[_0x1dda("0x11d")]=i})),n[_0x1dda("0x906")]=!0;case 42:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return x[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x911"),value:function(d){var x=this,a=function(d){if(d[_0x1dda("0x153")][_0x1dda("0x90e")]){var x=d[_0x1dda("0x153")][_0x1dda("0x90e")];d[_0x1dda("0x136")]=x[_0x1dda("0x136")],d.opacity=x[_0x1dda("0x11d")],d[_0x1dda("0x15d")]=x[_0x1dda("0x15d")],d[_0x1dda("0x172")]=!0,d[_0x1dda("0x42")]&&(d[_0x1dda("0x42")][_0x1dda("0x172")]=!0),d[_0x1dda("0x153")][_0x1dda("0x90e")]=null}};if(d){var _=x[_0x1dda("0x52")][_0x1dda("0x61b")](d);if(!_[_0x1dda("0x906")]||!this[_0x1dda("0x8ef")][d])return;if(1!=x.options[_0x1dda("0x8f2")])_[_0x1dda("0x909")]([_0x1dda("0x1bb")])[_0x1dda("0xd1")]((function(d){d[_0x1dda("0xf8")]((function(d){if(d[_0x1dda("0xe9")])if(d.material instanceof Array)for(var x in d[_0x1dda("0xe9")])d[_0x1dda("0xe9")][x]&&a(d.material[x]);else a(d[_0x1dda("0xe9")])}))}));for(var e=_[_0x1dda("0x909")](_0x1dda("0x5bc")),t=0;t<e[_0x1dda("0x0")];t++){var i=e[t];i[_0x1dda("0xe7")][_0x1dda("0x403")]("uv",i.geometry.getAttribute(_0x1dda("0x90b")));var n=i.material[0];n.userData[_0x1dda("0xfc")]==_0x1dda("0x90a")&&x[_0x1dda("0x8ef")][d][_0x1dda("0x904")].shader&&(x[_0x1dda("0x8ef")][d][_0x1dda("0x904")][_0x1dda("0x437")][_0x1dda("0x171")][_0x1dda("0x466")]&&x[_0x1dda("0x8ef")][d][_0x1dda("0x904")].shader[_0x1dda("0x171")][_0x1dda("0x466")][_0x1dda("0xd8")][_0x1dda("0xe8")](),x[_0x1dda("0x8ef")][d][_0x1dda("0x904")][_0x1dda("0x437")].uniforms[_0x1dda("0x467")]&&x[_0x1dda("0x8ef")][d][_0x1dda("0x904")][_0x1dda("0x437")][_0x1dda("0x171")][_0x1dda("0x467")][_0x1dda("0xd8")][_0x1dda("0xe8")]()),n[_0x1dda("0xe8")](),n=null;var r=i[_0x1dda("0xe9")][1],s=i[_0x1dda("0x153")][_0x1dda("0x90d")];s[_0x1dda("0x42")]&&(s[_0x1dda("0x42")][_0x1dda("0x172")]=!0),i[_0x1dda("0xe9")]=r?[s,r]:[s],_[_0x1dda("0x909")]([_0x1dda("0x1ba"),_0x1dda("0x5c1")])[_0x1dda("0xd1")]((function(d){d.material[0][_0x1dda("0x136")]=d.material[0][_0x1dda("0x153")].transparent,d[_0x1dda("0xe9")][0][_0x1dda("0x11d")]=d[_0x1dda("0xe9")][0].userData[_0x1dda("0x11d")]}))}this[_0x1dda("0x8ef")][d]=null,_._hasHeatMap=!1}}},{key:"getPalette",value:function(){var d=document.createElement("canvas"),x=d.getContext("2d");d.width=1,d[_0x1dda("0x18b")]=256;var a=this[_0x1dda("0x35")][_0x1dda("0x8f5")],_=x[_0x1dda("0x912")](0,0,1,256);for(var e in a)_.addColorStop(e,a[e]);return x[_0x1dda("0x304")]=_,x[_0x1dda("0x913")](0,0,1,256),x[_0x1dda("0x8ff")](0,0,1,256)[_0x1dda("0x442")]}},{key:_0x1dda("0x914"),value:function(d,x,a){var _=this[_0x1dda("0x35")][_0x1dda("0x121")],e=_[_0x1dda("0x442")];a>_[_0x1dda("0x2be")]&&(_[_0x1dda("0x2be")]=a),e[_0x1dda("0x10")]([d,x,a])}},{key:"clearPoints",value:function(){this[_0x1dda("0x35")][_0x1dda("0x121")][_0x1dda("0x442")]=[],this[_0x1dda("0x6c4")]()}},{key:_0x1dda("0x915"),value:function(d,x,a){if(d&&x&&a){var _=this[_0x1dda("0x916")](d,x);if(_){this[_0x1dda("0x917")](_.x,_.y,a,!1),this.colorize()}}}},{key:_0x1dda("0x6c4"),value:function(){this.options[_0x1dda("0x8fa")][_0x1dda("0x918")](0,0,this.options.width,this[_0x1dda("0x35")][_0x1dda("0x18b")])}},{key:_0x1dda("0x919"),value:function(){var d=this[_0x1dda("0x35")].canvas,x=this[_0x1dda("0x35")][_0x1dda("0x91a")];return{mainTexture:new THREE.Texture(d),copyTexture:new(THREE[_0x1dda("0x329")])(x)}}},{key:_0x1dda("0x91b"),value:function(d){var x=this;x[_0x1dda("0x6c4")]();for(var a=d[_0x1dda("0x0")],_=0;_<a;_++){var e=d[_][_0x1dda("0xd8")];if(e){var t=this.getPixXY(d[_].x,d[_].y);if(!t)return!0;x[_0x1dda("0x917")](t.x,t.y,e,!1)}}x[_0x1dda("0x91c")]()}},{key:_0x1dda("0x91d"),value:function(d){var x=this,a=x[_0x1dda("0x35")][_0x1dda("0x1a5")],_=x[_0x1dda("0x35")][_0x1dda("0x18b")],e=x[_0x1dda("0x35")][_0x1dda("0x121")][_0x1dda("0x2be")],t=x[_0x1dda("0x35")].gendatas;x.clear();for(var i=0;i<d;i++){var n=Math.floor(Math[_0x1dda("0x1b9")]()*a+1),r=Math[_0x1dda("0x1dd")](Math[_0x1dda("0x1b9")]()*_+1),s=Math[_0x1dda("0x1dd")](Math.random()*e+1);x[_0x1dda("0x917")](n,r,s,!1),t&&x[_0x1dda("0x917")](n,r,s,!0)}x[_0x1dda("0x91c")]()}}]),d}();x.default=o},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=R(a(12)),e=R(a(45)),t=R(a(7)),i=R(a(8)),n=R(a(13)),r=R(a(2)),s=R(a(60)),o=R(a(5)),c=R(a(0)),l=R(a(1)),f=R(a(10)),u=R(a(11)),h=R(a(105)),g=a(4),b=R(a(284)),v=R(a(61)),p=R(a(296)),m=a(18),A=R(a(144)),C=R(a(300)),I=R(a(145)),y=R(a(323)),E=R(a(324)),w=a(24),T=a(4),k=a(325),S=a(50),M=a(26);function R(d){return d&&d.__esModule?d:{default:d}}var L=0,D={},H=void 0,P=null,O=null,B=!1,F=function(d){function x(d){(0,c[_0x1dda("0xd")])(this,x);var a=(0,f[_0x1dda("0xd")])(this,(x.__proto__||(0,o.default)(x))[_0x1dda("0x3")](this,d));a.__lastPhi=0,a.__viewModeAnimating=!1,a[_0x1dda("0x91e")]=[],a.lastSelectModelStore=[],a[_0x1dda("0x17f")]=[],a[_0x1dda("0x91f")]=null,a.TEXTURE_LOADER=new(THREE[_0x1dda("0x23d")]),a[_0x1dda("0x64c")].crossOrigin="anonymous";var _=a;_[_0x1dda("0x920")]=!1,_[_0x1dda("0x83")]=_0x1dda("0x921"),a[_0x1dda("0x226")][_0x1dda("0x922")]=0,(0,T[_0x1dda("0x301")])()[_0x1dda("0x37d")]||(a[_0x1dda("0x226")][_0x1dda("0x923")]=!1),a.controls.baseDistance=1,a[_0x1dda("0x226")][_0x1dda("0x276")]=15015.34033758685,a[_0x1dda("0x924")]=!0,a.mapTheme=new esmap.ESMapTheme(a[_0x1dda("0x35")]),a[_0x1dda("0xb3")]=new esmap.ESMapScene(a,a[_0x1dda("0x132")]),a[_0x1dda("0x7d")]=new C.default(a),a[M[_0x1dda("0xc8")]]=new(I[_0x1dda("0xd")])(!0,a.mapView[_0x1dda("0x925")],a[_0x1dda("0x35")]),a.controls[_0x1dda("0x30")](_0x1dda("0x926"),a[_0x1dda("0x927")][_0x1dda("0x4e")](a)),a[_0x1dda("0x928")]="3D",a[_0x1dda("0x22b")]=a[_0x1dda("0x19f")].camera,a[_0x1dda("0x929")]=!1,a[_0x1dda("0x92a")]=new(THREE[_0x1dda("0x11c")]),a[_0x1dda("0x92b")]=new(THREE[_0x1dda("0x11c")]),a[_0x1dda("0x92c")]=new(esmap[_0x1dda("0x92d")])(a),a[_0x1dda("0x92e")]=new(p[_0x1dda("0xd")])(a,a.controls),a.hideRecord={},a.DEFAULT_COORDSYSTEM=_0x1dda("0x19a"),"3"===a[_0x1dda("0x35")].crs&&(esmap[_0x1dda("0x65f")]=!0,esmap[_0x1dda("0x660")]=1,a.options[_0x1dda("0x92f")]&&(esmap.fixScale4490=a[_0x1dda("0x35")][_0x1dda("0x92f")])),a._buildingAnimating=0,(e=a).on("controlend",(function(){e.updateTileView()})),a[_0x1dda("0x930")]=[.025,.03,.045,.055,.07,.085,.09,.1,.12,.14,.18,.25,.3,.4,.5,.65,.72,.81,.89,.95,1.02,1.1,1.2],a.timer=new(THREE[_0x1dda("0x1bf")]),a.timerImmediate=new(THREE[_0x1dda("0x1bf")]),a[_0x1dda("0x931")]=1,a[_0x1dda("0x932")]={},a[_0x1dda("0x933")]=[],a[_0x1dda("0x22d")]=!0,a[_0x1dda("0x934")]={},a[_0x1dda("0x935")]=null,a[_0x1dda("0x633")]=[],esmap[_0x1dda("0x33")][_0x1dda("0x34")]=a,a[_0x1dda("0x936")]=!0;var e=a;a.on("resize",a[_0x1dda("0x937")]),a[M[_0x1dda("0xc8")]].init(),a[_0x1dda("0x938")]=!1,a[_0x1dda("0x939")]=16,a[_0x1dda("0x60a")]=new(THREE[_0x1dda("0x6f7")])(a.currentCamera,a[_0x1dda("0x19f")][_0x1dda("0x352")]),a[_0x1dda("0x93a")]=!1,a[_0x1dda("0x60a")][_0x1dda("0x6b9")]=!1,a[_0x1dda("0x199")]=_0x1dda("0x19a"),a[_0x1dda("0x93b")]=new(k[_0x1dda("0x93c")])(a),esmap.TWEEN[_0x1dda("0x42")]=a,a._fullscreen=g.FullScreen,a.on(_0x1dda("0x93d"),(function(d){e[_0x1dda("0x60a")][_0x1dda("0x152")](d),esmap[_0x1dda("0x190")].update()})),a.on(_0x1dda("0x1ee"),(function(){_[_0x1dda("0x920")]||(_.updateTile=!0)})),a.on("loadComplete",(function(){a.options[_0x1dda("0x363")]&&(a[_0x1dda("0x17d")][_0x1dda("0x363")]=!0)})),a.on(_0x1dda("0x93e"),(function(){a.options[_0x1dda("0x363")]&&(a[_0x1dda("0x17d")][_0x1dda("0x363")]=!0)})),a.on(_0x1dda("0x93f"),(function(){a[_0x1dda("0x35")][_0x1dda("0x363")]&&(a.mapPicker[_0x1dda("0x363")]=!0)})),a.gestureController_=new esmap.ESMapGestureController(a[_0x1dda("0x17d")],a.controls),a[_0x1dda("0x940")]=[],a[_0x1dda("0x941")]=a[_0x1dda("0x1ff")];var t=new CustomEvent(_0x1dda("0x942"),{});return window[_0x1dda("0x40")](t),a}var b,R,F,N;return(0,u[_0x1dda("0xd")])(x,d),(0,l[_0x1dda("0xd")])(x,[{key:_0x1dda("0x943"),value:function(){this[_0x1dda("0x944")][_0x1dda("0xd1")]((function(d){d()}))}},{key:_0x1dda("0x945"),value:function(d){var x=this[_0x1dda("0x946")][d];for(var a in x){var _=x[a],e=this[_0x1dda("0x1e1")](a);e||(x[a]=null);var t=e[_0x1dda("0x3b9")].getLayersByTypes(esmap[_0x1dda("0x39a")][_0x1dda("0x625")]);if(t[0])for(var i=(t=t[0])[_0x1dda("0x180")].children,n=0;n<i[_0x1dda("0x0")];n++)for(var r=i[n],s=r.datas_.brothers,o=r[_0x1dda("0xe7")],c=0;c<s[_0x1dda("0x0")];c++){var l=s[c],f=_.indexOf(l.ID);f>-1&&(_[_0x1dda("0x6")](f,1),o[_0x1dda("0x4fb")](l.ID))}}this.hideRecord[d]=null}},{key:"stopCruising",value:function(d){var x=this;if(!x.firstPersonAnimating){for(var a in x[_0x1dda("0x60a")][_0x1dda("0x70e")]=!1,x.firstPersonControls.lastCruAngle=0,x[_0x1dda("0x60a")].nextPos=null,x[_0x1dda("0x60a")][_0x1dda("0x710")]=0,x[_0x1dda("0x947")])x[_0x1dda("0x947")][a]&&x.toClearId[a][_0x1dda("0x18d")]();x[_0x1dda("0x947")]=[],d.exitModeOnEnd?(d[_0x1dda("0x948")]&&this[_0x1dda("0x219")]({angle:x[_0x1dda("0x949")][_0x1dda("0x94a")]}),x[_0x1dda("0x94b")]=!1,d[_0x1dda("0x948")]?new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(x).to({tiltAngle:x[_0x1dda("0x949")].originalTiltAngle},1e3)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing.Linear[_0x1dda("0x27c")])[_0x1dda("0x192")]((function(){x[_0x1dda("0x94c")](x[_0x1dda("0x949")][_0x1dda("0x94d")],{callback:function(){esmap.ESMapUtil.setControlsInfo(x[_0x1dda("0x949")][_0x1dda("0x94e")]),_()}})}))[_0x1dda("0x21c")]():_()):_()}function _(){d[_0x1dda("0x195")]&&d.callback()}}},{key:_0x1dda("0x94f"),value:function(d){for(var x=d.id,a=d[_0x1dda("0x1e2")],_=0;_<this.mapScene.modelInfos[_0x1dda("0x0")];_++){var e=this[_0x1dda("0xb3")][_0x1dda("0x950")][_];if(e.id===x||e[_0x1dda("0x1e2")]===a)return e}return null}},{key:"cruisingByPoints",value:function(d){var x=null;function a(d,x){var a=new(THREE[_0x1dda("0x11c")])(0,0,1),_=new(THREE[_0x1dda("0x11c")])(d.x,0,d.y),e=new(THREE[_0x1dda("0x11c")])(x.x,0,x.y)[_0x1dda("0x116")]()[_0x1dda("0x4cf")](_)[_0x1dda("0x2cc")](),t=e[_0x1dda("0x2d0")](a)*THREE.Math[_0x1dda("0x659")];return e[_0x1dda("0x116")]()[_0x1dda("0x1f9")](a).y>0?360-t:t}function _(d,i){if(d!=i.length){var n=(0,g.DistanceofTwoPts)(i[d-1],i[d])/(i[d-1].speed||t[_0x1dda("0x29f")]);!function(){if(0!=e[_0x1dda("0x60a")][_0x1dda("0x70e")]){var r={x:i[d-1].x,y:i[d-1].y},s={x:i[d].x,y:i[d].y};i[d][_0x1dda("0x816")]&&esmap[_0x1dda("0x86")].search(e,_0x1dda("0x641"),{nodeType:esmap.ESNodeType[_0x1dda("0x1b5")],ID:i[d][_0x1dda("0x816")].id},(function(x){x[_0x1dda("0x0")]>0&&x[0][_0x1dda("0x229")](i[d].animation[_0x1dda("0x951")])}));var o=a(r,s),c=!1;null!=x&&Math[_0x1dda("0x2c1")](x-o)>10&&(c=!0),x=o;var l=90-o;c&&e[_0x1dda("0x219")]({angle:l,time:t[_0x1dda("0x952")]});var f=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(r).to(s,1e3*n)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")].Linear[_0x1dda("0x27c")]).onUpdate((function(x){i[d-1].x,i[d-1].y;var a={x:i[d-1].x+x.value*(i[d].x-i[d-1].x),y:i[d-1].y+x[_0x1dda("0xd8")]*(i[d].y-i[d-1].y)};e.firstPersonControls[_0x1dda("0x728")]=a})).onComplete((function(){_(d+=1,i)}))[_0x1dda("0x21c")]();e[_0x1dda("0x947")][_0x1dda("0x10")](f)}}()}else e.stopCruising({callback:t.afterEnd,needAnimate:t.easeOut})}var e=this;e.toClearId=[];var t=(0,r.default)({speed:1,lookSpeed:.05,userIntersecting:!1,exitModeOnEnd:!0,beforeStart:null,afterEnd:null,easeIn:!0,easeOut:!0,rotateTime:1.2,lookVertical:!0,fnum:e[_0x1dda("0x52b")],scaleRate:.025,height:2},d),i=d[_0x1dda("0x121")];e[_0x1dda("0x949")]={originalControlState:esmap[_0x1dda("0x86")].getControlsInfo(),originalScaleLevel:map.scaleLevel,originalTiltAngle:map[_0x1dda("0x288")],originalRotateAngle:map[_0x1dda("0x1fe")]};var n=a(i[0],i[1]);function s(){t.beforeStart&&t.beforeStart(),e[_0x1dda("0x93a")]=!1;var d=e.controls[_0x1dda("0x1b")].position[_0x1dda("0x116")]();e[_0x1dda("0x226")][_0x1dda("0x6b9")]=!1,e[_0x1dda("0x94b")]=!0,e[_0x1dda("0x60a")].userIntersecting=t[_0x1dda("0x711")],e[_0x1dda("0x60a")].movementSpeed=1,e.firstPersonControls[_0x1dda("0x6f9")]=t[_0x1dda("0x6f9")],e[_0x1dda("0x60a")].noFly=!1,e[_0x1dda("0x60a")][_0x1dda("0x6fa")]=t.lookVertical,e[_0x1dda("0x60a")][_0x1dda("0x70e")]=!0,o[_0x1dda("0x955")]({x:d.x,y:d.z}),_(1,o)}e[_0x1dda("0x93a")]=!0,t.easeIn?map[_0x1dda("0x1ff")]({time:1,x:i[0].x,y:i[0].y,callback:function(){e[_0x1dda("0x226")][_0x1dda("0x227")].copy(new(THREE[_0x1dda("0x11c")])(-i[0].x,t[_0x1dda("0x18b")],i[0].y)),e[_0x1dda("0x226")][_0x1dda("0x152")](),map[_0x1dda("0x219")]({angle:n,time:.5,onComplete:function(){map[_0x1dda("0x35")][_0x1dda("0x953")]?map[_0x1dda("0x226")][_0x1dda("0x954")](19,4e3,(function(){new(esmap[_0x1dda("0x190")].Tween)(e).to({tiltAngle:89},1e3)[_0x1dda("0x18f")](esmap.TWEEN[_0x1dda("0x193")][_0x1dda("0x20f")][_0x1dda("0x27c")])[_0x1dda("0x192")]((function(){s()}))[_0x1dda("0x21c")]()})):map.scaleLevelTo(t[_0x1dda("0x1d6")],{time:1,rawLevel:!0,callback:function(){new(esmap[_0x1dda("0x190")].Tween)(e).to({tiltAngle:89},1e3)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x20f")].None)[_0x1dda("0x192")]((function(){s()}))[_0x1dda("0x21c")]()}})}})}}):s();var o=[];i[_0x1dda("0xd1")]((function(d){o[_0x1dda("0x10")]({x:-d.x,y:d.y,speed:d[_0x1dda("0x29f")]||null,animation:d[_0x1dda("0x816")]||null})}))}},{key:_0x1dda("0x937"),value:function(d){this[M[_0x1dda("0xc8")]][_0x1dda("0x4e1")](d[_0x1dda("0x1a5")],d[_0x1dda("0x18b")])}},{key:_0x1dda("0x956"),value:function(d){var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{},a=null;if(0==this._buildingAnimating)if(this[_0x1dda("0x12b")](d))console[_0x1dda("0x3ec")](_0x1dda("0x957"));else{var _=(new Date)[_0x1dda("0x85")]();this.tl_?a=_-this[_0x1dda("0x958")]:this[_0x1dda("0x958")]=_,this[_0x1dda("0x958")]=_,a&&a<=1e3&&console.info(esmap.ESInfo[_0x1dda("0x959")]),esmap[_0x1dda("0x33")][_0x1dda("0x936")]?this[_0x1dda("0x279")][_0x1dda("0x95a")]=d:this.openBuilding({id:d,moveTo:x[_0x1dda("0x1ff")]})}}},{key:_0x1dda("0x1ff"),value:function(d){var x,a=this;if(d)return new n.default((x=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function x(_){var e,i,n,r,s,o;return t.default[_0x1dda("0x249")]((function(x){for(;;)switch(x[_0x1dda("0x24a")]=x[_0x1dda("0x24c")]){case 0:if(e=a,(i=a[_0x1dda("0x19f")][_0x1dda("0x614")][_0x1dda("0xfa")][_0x1dda("0x116")]()).y=a[_0x1dda("0x226")][_0x1dda("0x227")].y,!d[_0x1dda("0x123")]||a[_0x1dda("0x36")]!=esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]){x[_0x1dda("0x24c")]=9;break}if(n=a.getBuilding(),d.fnum=Number(d[_0x1dda("0x123")]),n[_0x1dda("0x52b")]==d[_0x1dda("0x123")]){x[_0x1dda("0x24c")]=9;break}return x[_0x1dda("0x24c")]=9,n[_0x1dda("0x95b")](d[_0x1dda("0x123")]);case 9:(r=a.coordMapToThree({x:d.x,y:d.y})).y=i.y,s=e[_0x1dda("0x226")].target.clone(),o=r[_0x1dda("0x116")]()[_0x1dda("0x4cf")](s),a[_0x1dda("0x91f")]&&a[_0x1dda("0x91f")][_0x1dda("0x18d")](),a.__moveToId=esmap[_0x1dda("0x190")][_0x1dda("0x95c")](null==d[_0x1dda("0x233")]?e[_0x1dda("0x35")][_0x1dda("0x35f")]?e[_0x1dda("0x35")][_0x1dda("0x95d")]:0:d[_0x1dda("0x233")],(function(d){var x=s[_0x1dda("0x116")]()[_0x1dda("0xce")](o[_0x1dda("0x116")]()[_0x1dda("0x218")](d[_0x1dda("0xd8")]));e[_0x1dda("0x226")].target.x=x.x,e[_0x1dda("0x226")][_0x1dda("0x227")].z=x.z,_0x1dda("0x323")==e[_0x1dda("0x353")]&&e[_0x1dda("0x19f")].camera.position.copy(i[_0x1dda("0x116")]()[_0x1dda("0xce")](o.clone()[_0x1dda("0x218")](d[_0x1dda("0xd8")]))),e.controls[_0x1dda("0x152")]({forceTheta:e[_0x1dda("0x226")][_0x1dda("0x295")](),forcePhi:e[_0x1dda("0x226")][_0x1dda("0x296")]()})}),esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x2f3")],(function(){e[_0x1dda("0x294")](),d.callback&&d.callback(a[_0x1dda("0x91f")]),_(a[_0x1dda("0x91f")])}));case 13:case _0x1dda("0x267"):return x[_0x1dda("0x18d")]()}}),x,a)}))),function(d){return x.apply(this,arguments)}))}},{key:"disposeBuilding",value:function(d){for(var x=this.getBuildingById(d),a=0;a<this[_0x1dda("0x633")][_0x1dda("0x0")];a++)if(this[_0x1dda("0x633")][a].id==d){this[_0x1dda("0x633")].splice(a,1);break}var _=x[_0x1dda("0x95e")];_[_0x1dda("0x95f")]={},_[_0x1dda("0x960")]={},_.baseLayers={},_.lineLayer={},_[_0x1dda("0x961")]=[],_[_0x1dda("0x962")]=[],_[_0x1dda("0x963")]={},_.modelImageGeos={},_.modelTextureMeshs={},_[_0x1dda("0x964")]={},_[_0x1dda("0x965")]=!1,_.dynamicShows={},x.modelLoadManager[_0x1dda("0x24b")]={},x[_0x1dda("0x22c")][_0x1dda("0x966")]=[],x[_0x1dda("0x22c")][_0x1dda("0x967")]=[],x[_0x1dda("0x22c")][_0x1dda("0x968")]=!1,x[_0x1dda("0x22c")][_0x1dda("0x297")]=!1,_[_0x1dda("0x969")]=!1,x[_0x1dda("0x96a")]=!1,this[_0x1dda("0x17d")][_0x1dda("0x3b4")][x.id]&&delete this.mapPicker[_0x1dda("0x3b4")][x.id],this.mapTheme[_0x1dda("0x96b")]={},this[_0x1dda("0x33e")](x.id),x.o3d_.parent.remove(x[_0x1dda("0x180")]),this[_0x1dda("0xb3")].clear(x[_0x1dda("0x180")])}},{key:_0x1dda("0x96c"),value:function(d){d=String(d),this[_0x1dda("0x7d")][_0x1dda("0x825")][_0x1dda("0x41")]=d,this[_0x1dda("0x96d")]({id:d})}},{key:_0x1dda("0x96e"),value:function(){this[_0x1dda("0x279")][_0x1dda("0xdc")](),this[_0x1dda("0x7d")][_0x1dda("0xdc")](),this[_0x1dda("0x938")]=!1}},{key:_0x1dda("0x96f"),value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};d=(0,r.default)({color:_0x1dda("0x970"),thickness:5,opacity:1,align:_0x1dda("0x324")},d),this[_0x1dda("0x19f")][_0x1dda("0x971")](d)}},{key:_0x1dda("0x96d"),value:(N=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,_,e;return t[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d.next){case 0:return a=x.id,_=new CustomEvent(_0x1dda("0x31"),{detail:{id:a}}),window[_0x1dda("0x40")](_),e=this[_0x1dda("0x35")],esmap[_0x1dda("0x33")][_0x1dda("0x936")]=!0,d[_0x1dda("0x24a")]=5,d[_0x1dda("0x24c")]=8,this[_0x1dda("0x7d")][_0x1dda("0x825")][_0x1dda("0x152")](a);case 8:d[_0x1dda("0x24c")]=13;break;case 10:d[_0x1dda("0x24a")]=10,d.t0=d.catch(5),w.MessagePoster.post({msg:""+d.t0.toString(),level:_0x1dda("0x1eb")});case 13:if(this[_0x1dda("0xb3")][_0x1dda("0x972")]||(this.mapScene[_0x1dda("0x972")]=!0,this[_0x1dda("0xb3")].init(),this[_0x1dda("0x93b")][_0x1dda("0x1df")]()),d[_0x1dda("0x24a")]=14,e.mode!==esmap[_0x1dda("0x1b7")].Building){d[_0x1dda("0x24c")]=20;break}return d.next=18,this[_0x1dda("0x93b")][_0x1dda("0x973")](a);case 18:d[_0x1dda("0x24c")]=22;break;case 20:return d[_0x1dda("0x24c")]=22,this[_0x1dda("0x93b")].openCityMap(a);case 22:d[_0x1dda("0x24c")]=28;break;case 24:d[_0x1dda("0x24a")]=24,d.t1=d.catch(14),w[_0x1dda("0xb1")].post({msg:""+d.t1[_0x1dda("0x2e")](),level:_0x1dda("0x1eb")}),console[_0x1dda("0x1eb")](d.t1);case 28:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this,[[5,10],[14,24]])}))),function(d){return N[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x974"),value:function(){var d=this;return new(n[_0x1dda("0xd")])((function(x,a){var _,e;0==d[_0x1dda("0x35")][_0x1dda("0xa4")]?D[0]?_=D[0]:(e=d[_0x1dda("0x35")].mapAudioSrc+"/"+_0x1dda("0x975"),(_=new(y[_0x1dda("0xd")])({speed:1})).init(e,(function(){})),D[0]=_):D[d[_0x1dda("0x35")][_0x1dda("0xa4")]]?_=D[d[_0x1dda("0x35")][_0x1dda("0xa4")]]:(e=d.options.mapAudioSrc+_0x1dda("0x976")+d[_0x1dda("0x35")][_0x1dda("0xa4")]+".mp3",(_=new(E[_0x1dda("0xd")])({speed:1})).init(e,(function(){})),D[d[_0x1dda("0x35")].lang]=_),d.ESAudioTool=_}))[_0x1dda("0x817")]((function(d){console[_0x1dda("0x255")](esmap.ESInfo[_0x1dda("0x977")])}))}},{key:"setTilesVisible",value:function(d){this[_0x1dda("0x132")][_0x1dda("0x978")].forEach((function(x){x[_0x1dda("0x169")]=d}))}},{key:_0x1dda("0x979"),value:function(d){var x=this;if(this.tileService[_0x1dda("0x97a")][d.id]){var a=this[_0x1dda("0x279")][_0x1dda("0x97a")][d.id],_=a[_0x1dda("0xe5")],e=_.shell;return e&&(6==e[_0x1dda("0x106")]?e[_0x1dda("0x180")]?(esmap[_0x1dda("0x86")][_0x1dda("0x232")]({target:e[_0x1dda("0x180")],alpha:.1,hideOnComplete:!0,time:1.5}),this[_0x1dda("0x97b")]++,setTimeout((function(){x[_0x1dda("0x97b")]--}),1600)):e[_0x1dda("0x169")]=!1:5==e.nodeType&&(e[_0x1dda("0x18b")]=1e4)),this.mapScene.buildingScene_[_0x1dda("0xce")](a),this[_0x1dda("0x633")][_0x1dda("0x10")](a[_0x1dda("0xe5")]),a[_0x1dda("0x169")]=!0,this.fire(_0x1dda("0x97c"),a[_0x1dda("0xe5")]),this[_0x1dda("0xda")](_0x1dda("0x97d"),a[_0x1dda("0xe5")]),void _[_0x1dda("0x1f2")]("modelLoadedAll",{bid:_.id})}var t=d.id,i=d[_0x1dda("0x1ff")],n=void 0===i||i,r=d[_0x1dda("0x97e")],s=(d.x,d.y,d.tileid,d[_0x1dda("0x97f")],this[_0x1dda("0x279")][_0x1dda("0x638")][t]),o=this;if(s){var c={x:s.x,y:s.y};n?(o[_0x1dda("0x1ff")](c),setTimeout((function(){o[_0x1dda("0x294")](),o[_0x1dda("0x279")][_0x1dda("0x980")](),r&&r()}),300),o[_0x1dda("0x279")].toLoadedBuildings.indexOf(t)<0&&o.tileService[_0x1dda("0x981")][_0x1dda("0x10")](t)):(o[_0x1dda("0x279")].toLoadedBuildings.indexOf(t)<0&&o[_0x1dda("0x279")].toLoadedBuildings[_0x1dda("0x10")](t),o[_0x1dda("0x294")](),o[_0x1dda("0x279")][_0x1dda("0x980")]())}else console[_0x1dda("0x1eb")](_0x1dda("0x982"))}},{key:_0x1dda("0x983"),value:function(d){for(var x=this[_0x1dda("0xb3")].lineManager,a=x[_0x1dda("0xe6")],_=0;_<a.length;_++)if(a[_][_0x1dda("0xe5")]){var e=a[_].datas_;if(e.ID&&e.ID==d){for(var t=0;t<a[_].children[_0x1dda("0x0")];t++){var i=a[_][_0x1dda("0xe6")][t],n=this.mapPicker[_0x1dda("0x3b4")][_0x1dda("0xd")][_0x1dda("0xaf")](i);i.manager=null,i[_0x1dda("0xe8")](),i[_0x1dda("0x42")]=null,i=null,n>-1&&this[_0x1dda("0x17d")][_0x1dda("0x3b4")].default[_0x1dda("0x6")](n,1)}return void x[_0x1dda("0x181")](a[_])}}}},{key:_0x1dda("0x984"),value:function(){for(var d=this[_0x1dda("0xb3")].lineManager,x=d.children,a=0;a<x[_0x1dda("0x0")];a++){var _=x[a];if(x[a][_0x1dda("0xe5")]&&35==x[a][_0x1dda("0xe5")].nodeType){for(var e=0;e<_[_0x1dda("0xe6")].length;e++){var t=_[_0x1dda("0xe6")][e];_.remove(t),e--}d[_0x1dda("0x181")](x[a]),a--}}for(var i=this[_0x1dda("0x17d")][_0x1dda("0x3b4")][_0x1dda("0xd")],n=0;n<i[_0x1dda("0x0")];n++)21==i[n].nodeType&&(i[_0x1dda("0x6")](n,1),n--)}},{key:_0x1dda("0x985"),value:function(d,x){var a=!(arguments[_0x1dda("0x0")]>2&&void 0!==arguments[2])||arguments[2];function _(x){d[_0x1dda("0x180")][_0x1dda("0xce")](x);e.getBuildingById(x[_0x1dda("0x12d")]);x[_0x1dda("0xe9")][_0x1dda("0x169")]=!0,e.onUpdating(!0),t.pickable&&!d[_0x1dda("0x180")][_0x1dda("0x153")].added&&(d[_0x1dda("0x180")][_0x1dda("0x153")].added=!0,e[_0x1dda("0x17d")][_0x1dda("0x3ae")](x)),null!=t[_0x1dda("0x18b")]&&(x[_0x1dda("0xfa")].y+=t[_0x1dda("0x18b")]),t.offsetHeight=(0,g.getValues)(t,"offsetHeight",0),x[_0x1dda("0xfa")].y+=t.offsetHeight,x[_0x1dda("0x153")][_0x1dda("0x986")]=x.position.y}var e=this,t=d[_0x1dda("0x120")]||e[_0x1dda("0x132")][_0x1dda("0x987")];t.smooth=null==t[_0x1dda("0x988")]||t[_0x1dda("0x988")],t.segments=t.segments||null;var i=e._analyseRawPoints(d.points);if(!i){console[_0x1dda("0x255")](_0x1dda("0x989")),e[_0x1dda("0xb3")][_0x1dda("0x98a")][_0x1dda("0xce")](d[_0x1dda("0x180")]);var n=void 0;if(t[_0x1dda("0x179")]==_0x1dda("0x5df"))n=new(v[_0x1dda("0xd")])([],t,!1);else{var s=(0,r.default)({doubleSide:!0},t);n=new(esmap[_0x1dda("0x98b")])([],s,{},0)}return _(n),void(x&&x(n))}var o,c=i[0],l=c[_0x1dda("0x42")]((function(d){return(0,r.default)(new THREE.Vector3,d)})),f=this[_0x1dda("0xb3")][_0x1dda("0x98a")];a&&(d.o3d_[_0x1dda("0x40")]({type:"onBeforeAdd"}),f[_0x1dda("0xce")](d.o3d_));var u=void 0;u=t[_0x1dda("0x2")](_0x1dda("0x98c"))?t[_0x1dda("0x98c")]:t[_0x1dda("0x179")]!=esmap[_0x1dda("0x98d")].TEXTURE,t[_0x1dda("0x988")]||esmap[_0x1dda("0x86")][_0x1dda("0x655")](c),o=t[_0x1dda("0x988")]?esmap[_0x1dda("0x5e8")][_0x1dda("0x657")](c,8,t[_0x1dda("0x98e")]||.2,u):c;for(var h=[],b=[],p=0;p<o[_0x1dda("0x0")]-1;p++){var m=o[p][_0x1dda("0x12d")],A=o[p+1][_0x1dda("0x12d")],C=h[h[_0x1dda("0x0")]-1],I=b[b[_0x1dda("0x0")]-1];if(m==A)I!=m&&(b.push(m),h.push([]),(C=h[h.length-1])[_0x1dda("0x10")](o[p])),C||(h[_0x1dda("0x10")]([]),C=h[h[_0x1dda("0x0")]-1]),C[_0x1dda("0x10")](o[p+1]);else{b[_0x1dda("0x10")](m+_0x1dda("0x98f")+A);var y=o[p][_0x1dda("0x116")]();y[_0x1dda("0x123")]=o[p][_0x1dda("0x123")],y.bid=o[p][_0x1dda("0x12d")];var E=o[p+1].clone();E[_0x1dda("0x123")]=o[p+1][_0x1dda("0x123")],E[_0x1dda("0x12d")]=o[p+1][_0x1dda("0x12d")],h.push([y,E])}}for(var w=0;w<b[_0x1dda("0x0")];w++){for(var T=h[w],k=[],S=[],M=0;M<T[_0x1dda("0x0")]-1;M++){var R=T[M][_0x1dda("0x123")],L=T[M+1].fnum,D=k[k[_0x1dda("0x0")]-1],H=S[S[_0x1dda("0x0")]-1];R==L?(H!=R&&(S[_0x1dda("0x10")](R),k[_0x1dda("0x10")]([]),(D=k[k[_0x1dda("0x0")]-1]).push(T[M])),D||(k.push([]),D=k[k.length-1]),D.push(T[M+1])):(S[_0x1dda("0x10")](R+_0x1dda("0x98f")+L),k[_0x1dda("0x10")]([T[M],T[M+1]]))}for(var P=-1,O=0;O<S[_0x1dda("0x0")];O++){var B=S[O]+"",F=b[w]+"",N="",z=!1;B[_0x1dda("0xaf")](_0x1dda("0x98f"))>-1&&F[_0x1dda("0xaf")]("-&-")<0?(z=!0,N=_0x1dda("0x990")+B,!0):F.indexOf("-&-")>-1&&(z=!0,N=_0x1dda("0x991")+F);var j=k[O];if(j&&0!=j[_0x1dda("0x0")]){P+=1;for(var U,X=0,Y=S[O],G=!1,Q=1;Q<l[_0x1dda("0x0")];Q++){var V=l[Q-1],W=l[Q];if(V[_0x1dda("0x12d")]==F&&W.bid==F&&V[_0x1dda("0x123")]==Y&&W[_0x1dda("0x123")]==Y)X+=(0,g[_0x1dda("0x992")])(V,W),G||(G=!0);else if(G)break}if(t.lineType==_0x1dda("0x5df"))(U=new(v[_0x1dda("0xd")])(j,t,z))[_0x1dda("0x993")]=F;else{var Z=(0,r[_0x1dda("0xd")])({doubleSide:!0},t);z&&(Z[_0x1dda("0x1f9")]=!0),(U=new(esmap[_0x1dda("0x98b")])(j,Z,{},P))[_0x1dda("0x993")]=F}var J=F;F[_0x1dda("0xaf")]("-&-")>-1&&(J=F.split(_0x1dda("0x98f"))[0]);var K=e[_0x1dda("0x12b")](J);K&&!K[_0x1dda("0x180")][_0x1dda("0x169")]&&(U[_0x1dda("0x169")]=!1),X&&(U[_0x1dda("0x994")]=X),U[_0x1dda("0xfc")]=z?N:b[w]+"",_(U),x&&x(U)}}}}},{key:_0x1dda("0x995"),value:function(d){var x=this,a=(0,r[_0x1dda("0xd")])({newTab:!1,filename:_0x1dda("0x996"),download:!0,width:x.mapView.w_,scale:null,height:x[_0x1dda("0x19f")].h_},d),_=[x.mapView.w_,x.mapView.h_];if((null!==a[_0x1dda("0x1d7")]&&(a[_0x1dda("0x1a5")]=x[_0x1dda("0x19f")].w_*a[_0x1dda("0x1d7")],a[_0x1dda("0x18b")]=x[_0x1dda("0x19f")].h_*a[_0x1dda("0x1d7")]),a.width>x[_0x1dda("0x19f")].w_||a[_0x1dda("0x18b")]>x[_0x1dda("0x19f")].h_)&&(this[_0x1dda("0x7d")][_0x1dda("0x7e")]("ul")>>1&1||0)<1)return void console[_0x1dda("0x255")](esmap.ESInfo[_0x1dda("0x997")]);x[_0x1dda("0x19f")][_0x1dda("0x998")](a.width,a[_0x1dda("0x18b")]),x.compass[_0x1dda("0x4e1")](a.width,a[_0x1dda("0x18b")]),x[_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x6c4")](),"3D"==x.viewMode_?x[_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x6ca")](x[_0x1dda("0x19f")].scene,x[_0x1dda("0x19f")].camera):x[_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x6ca")](x[_0x1dda("0x19f")].scene,x[_0x1dda("0x19f")].cameraTop),x[_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x6db")](),x[_0x1dda("0x19f")][_0x1dda("0x32c")].render(x[_0x1dda("0x19f")][_0x1dda("0x925")],x[_0x1dda("0x19f")].cameraOrtho);var e=x[_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x1a0")][_0x1dda("0x999")]("image/png",1);if(x[_0x1dda("0x19f")][_0x1dda("0x998")](_[0],_[1]),x[_0x1dda("0x99a")][_0x1dda("0x4e1")](_[0],_[1]),a[_0x1dda("0x99b")]){var t=document[_0x1dda("0x20")]("a"),i=(0,m.base64ToBlob)(e);document[_0x1dda("0x6ef")]("HTMLEvents")[_0x1dda("0x99c")](_0x1dda("0x99d"),!0,!0),t[_0x1dda("0x99b")]=a[_0x1dda("0x6f")],t.href=URL[_0x1dda("0x99e")](i),t[_0x1dda("0x99d")]()}if(a.newTab){var n=window[_0x1dda("0x44a")]("","");n[_0x1dda("0x99f")][_0x1dda("0x9a0")]=_0x1dda("0x9a1");var s=new Image;s[_0x1dda("0x4e5")]=e,n[_0x1dda("0x99f")][_0x1dda("0x4a9")][_0x1dda("0x24")](s)}return e}},{key:"change3dColor",value:function(d){var x,a=null==d[_0x1dda("0x3e9")]?.3:d.intensity,_=_0x1dda("0xfc"),e=this,t=[][_0x1dda("0x317")](d[_0x1dda("0xfc")]);d.name||(t=[][_0x1dda("0x317")](d.id),_="ID");var i=[];d[_0x1dda("0x12d")]?[][_0x1dda("0x317")](d[_0x1dda("0x12d")]).forEach((function(d){var x=e[_0x1dda("0x12b")](d);x||(x=e[_0x1dda("0x1e1")](d)),x&&i[_0x1dda("0x10")](x)})):i=e.buildingList[_0x1dda("0x317")](e[_0x1dda("0x62e")]);var n=d[_0x1dda("0x138")];e=this;x=d.fnum?[][_0x1dda("0x317")](d[_0x1dda("0x123")]):null,i.forEach((function(d){if(1==d[_0x1dda("0x1e3")]){var e=d[_0x1dda("0x3b9")][_0x1dda("0x3bc")](_0x1dda("0x9a2"));if(e[0])e[0][_0x1dda("0xf8")]((function(x){if(x[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x1b5")])if(x.brothers)for(var e in x[_0x1dda("0x424")]){var i=x[_0x1dda("0x424")][e];t[_0x1dda("0xaf")](i[_])>-1&&(1==x[_0x1dda("0x424")][_0x1dda("0x0")]?(esmap[_0x1dda("0x237")].changeColor(x.o3d_,n),modelLoadManager[_0x1dda("0x636")][_0x1dda("0x3c9")]=!!n):(d[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x9a3")](i.ID,x[_0x1dda("0x180")],n,a),d[_0x1dda("0x22c")].GLTFMergeTool[_0x1dda("0x3c9")]=!!n))}else t[_0x1dda("0xaf")](x[_])>-1&&(x[_0x1dda("0x26e")](n),d[_0x1dda("0x22c")].GLTFMergeTool[_0x1dda("0x3c9")]=!!n)}))}else{var i=x||d[_0x1dda("0x634")],r=function(x){var e=d[_0x1dda("0x61b")](i[x]),r=d.modelLoadManager;if(!e)return _0x1dda("0x63c");e[_0x1dda("0x9a4")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")]&&d[_0x1dda("0x180")][_0x1dda("0xe6")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0xe5")]&&(d[_0x1dda("0xe5")][_0x1dda("0x424")]?d[_0x1dda("0xe5")][_0x1dda("0x424")][_0x1dda("0xd1")]((function(x){t[_0x1dda("0xaf")](x[_])>-1&&(r[_0x1dda("0x636")].changeModelColorById(x.id,d,n,a),r[_0x1dda("0x636")][_0x1dda("0x3c9")]=!!n)})):t[_0x1dda("0xaf")](d[_0x1dda("0xe5")][_])>-1&&(d.datas_[_0x1dda("0x26e")](n),r[_0x1dda("0x636")][_0x1dda("0x3c9")]=!!n))}))}))};for(var s in i)r(s)}}))}},{key:"change3dVisible",value:function(d){function x(d){var x=[];this.layers[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x608")]!=esmap[_0x1dda("0x39a")][_0x1dda("0x625")]&&d[_0x1dda("0x608")]!=esmap[_0x1dda("0x39a")][_0x1dda("0x9a5")]&&d[_0x1dda("0x608")]!=esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")]&&d[_0x1dda("0x608")]!=esmap[_0x1dda("0x39a")][_0x1dda("0x39b")]&&d[_0x1dda("0x608")]!=esmap[_0x1dda("0x39a")][_0x1dda("0x9a6")]&&d._type_!=esmap[_0x1dda("0x39a")][_0x1dda("0x537")]||(x=x.concat(d[_0x1dda("0x180")][_0x1dda("0xe6")]))}));for(var a=0;a<x.length;a++){var _=x[a];if(_[_0x1dda("0xe5")][_0x1dda("0x424")]){for(var e=_[_0x1dda("0xe5")].brothers,t=0;t<e[_0x1dda("0x0")];t++){if(d(e[t],x[a].datas_[_0x1dda("0x180")]))return}if(_[_0x1dda("0x153")][_0x1dda("0x1e8")])_[_0x1dda("0xe6")][_0x1dda("0xd1")]((function(x){if(x[_0x1dda("0xe5")]&&d(x[_0x1dda("0xe5")],x))return}))}else{if(_.datas_[_0x1dda("0x1e8")])_[_0x1dda("0xf8")]((function(x){if(x[_0x1dda("0xe5")]&&d(x[_0x1dda("0xe5")],x))return}));else if(d(_[_0x1dda("0xe5")],_))return}}}var a=this,_=_0x1dda("0xfc"),e=[][_0x1dda("0x317")](d[_0x1dda("0xfc")]),t=this.getBuildingById(this.id),i=[t];d[_0x1dda("0x12d")]?[][_0x1dda("0x317")](d[_0x1dda("0x12d")])[_0x1dda("0xd1")]((function(d){var x=a[_0x1dda("0x12b")](d);x&&(i=[x])})):i=this[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]?[t]:a[_0x1dda("0x62e")];d[_0x1dda("0xfc")]||(e=[].concat(d.id),_="ID");var n=d[_0x1dda("0xd8")],r=0,s=t.modelLoadManager[_0x1dda("0x636")];i[_0x1dda("0xd1")]((function(d){var a=[];if(1==d.buildingType){a=[d[_0x1dda("0x3b9")]];var i=t[_0x1dda("0x61b")](1);a[_0x1dda("0x10")](i[_0x1dda("0x3b9")])}else{d[_0x1dda("0x634")][_0x1dda("0xd1")]((function(x){a[_0x1dda("0x10")](d[_0x1dda("0x61b")](x))}))}var o=function(d){var t=a[d];x[_0x1dda("0x3")](t,(function(d,x){if(!x)return!1;if(d[_]&&e[_0x1dda("0xaf")](d[_])>-1)if(r++,n)if(5==d.nodeType){p=d.faceRange[0],m=d[_0x1dda("0xff")][1];for(var a=x.geometry[_0x1dda("0xf9")][_0x1dda("0x535")][_0x1dda("0x400")],i=p;i<m;i++)a[i]=0;if(x[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x535")][_0x1dda("0x172")]=!0,d[_0x1dda("0x51c")]){var o=t[_0x1dda("0x3bb")](esmap[_0x1dda("0x39a")].MODEL_IMAGE);if(o[0]&&o[0][_0x1dda("0x180")]&&o[0][_0x1dda("0x180")][_0x1dda("0xe6")][0])for(var c=o[0][_0x1dda("0x180")].children[0],l=c.geometry[_0x1dda("0x292")][_0x1dda("0x400")],f=c.geometry[_0x1dda("0x153")][_0x1dda("0x536")],u=c[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x535")][_0x1dda("0x400")],h=0;h<f.length;h++)if(f[h].id==d[_]){for(var g=f[h].start,b=f[h][_0x1dda("0x21c")]+f[h][_0x1dda("0xfb")],v=g;v<b;v++){u[l[v]]=0}c[_0x1dda("0xe7")][_0x1dda("0xf9")].isHideFlags.needsUpdate=!0}}}else if(6==d[_0x1dda("0x106")]){x[_0x1dda("0x153")][_0x1dda("0x9a7")]?1==x.datas_[_0x1dda("0x424")].length?x[_0x1dda("0x169")]=!0:x[_0x1dda("0xe6")][_0x1dda("0xd1")]((function(x){s.setTargetMeshVisible(x,d.ID||d.id,!0)})):x[_0x1dda("0x169")]=!0}else d[_0x1dda("0x169")]=!0;else if(5==d[_0x1dda("0x106")]){for(var p=d[_0x1dda("0xff")][0],m=d.faceRange[1],A=x[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x535")][_0x1dda("0x400")],C=p;C<m;C++)A[C]=1;if(x[_0x1dda("0xe7")].attributes[_0x1dda("0x535")][_0x1dda("0x172")]=!0,d[_0x1dda("0x51c")]){var I=t[_0x1dda("0x3bb")](esmap[_0x1dda("0x39a")][_0x1dda("0x537")]);if(I[0]&&I[0].o3d_&&I[0][_0x1dda("0x180")][_0x1dda("0xe6")][0])for(var y=I[0][_0x1dda("0x180")][_0x1dda("0xe6")][0],E=y[_0x1dda("0xe7")][_0x1dda("0x292")].array,w=y[_0x1dda("0xe7")][_0x1dda("0x153")].groupInfo,T=y.geometry[_0x1dda("0xf9")][_0x1dda("0x535")][_0x1dda("0x400")],k=0;k<w[_0x1dda("0x0")];k++)if(w[k].id==d[_]){for(var S=w[k][_0x1dda("0x21c")],M=w[k].start+w[k][_0x1dda("0xfb")],R=S;R<M;R++){T[E[R]]=1}y[_0x1dda("0xe7")][_0x1dda("0xf9")].isHideFlags[_0x1dda("0x172")]=!0}}}else if(6==d.nodeType){x.userData[_0x1dda("0x9a7")]?1==x[_0x1dda("0xe5")][_0x1dda("0x424")][_0x1dda("0x0")]?x[_0x1dda("0x169")]=!1:x[_0x1dda("0xe6")].forEach((function(x){s[_0x1dda("0x415")](x,d.ID||d.id,!1)})):x[_0x1dda("0x169")]=!1}else d[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x537")]||(d.visible=!1);return r==e[_0x1dda("0x0")]&&"ID"==_}))};for(var c in a)o(c)}))}},{key:_0x1dda("0x9a8"),value:function(d){function x(d){var x=[];this[_0x1dda("0x9a4")].forEach((function(d){d._type_!=esmap[_0x1dda("0x39a")][_0x1dda("0x625")]&&d[_0x1dda("0x608")]!=esmap[_0x1dda("0x39a")][_0x1dda("0x9a5")]&&d._type_!=esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")]||(x=x[_0x1dda("0x317")](d[_0x1dda("0x180")][_0x1dda("0xe6")]))}));for(var a=0;a<x[_0x1dda("0x0")];a++){var _=x[a];if(_[_0x1dda("0xe5")].brothers)for(var e=_[_0x1dda("0xe5")][_0x1dda("0x424")],t=0;t<e[_0x1dda("0x0")];t++){if(d(e[t],x[a][_0x1dda("0xe5")][_0x1dda("0x180")]))return}else if(d(_[_0x1dda("0xe5")],_.o3d_))return}}var a=this,_=_0x1dda("0xfc"),e=[].concat(d[_0x1dda("0xfc")]),t=[];d[_0x1dda("0x12d")]?[][_0x1dda("0x317")](d.bid)[_0x1dda("0xd1")]((function(d){var x=a.getTileById(d);x&&t.push(x)})):t=a[_0x1dda("0x62e")];d.name||(e=[][_0x1dda("0x317")](d.id),_="ID");var i=d.color,n=i[_0x1dda("0x0")],r=d.hasOwnProperty(_0x1dda("0x11d"))?d[_0x1dda("0x11d")]:1,s=0,o=!1;if(i){var c=(o=esmap[_0x1dda("0x86")][_0x1dda("0x600")](i))[_0x1dda("0x2a")](","),l=[1*c[0]/255,1*c[1]/255,1*c[2]/255,r];o=l}if(!n)for(;this[_0x1dda("0x279")][_0x1dda("0x9a9")][_0x1dda("0x0")]>0;){var f=this.tileService[_0x1dda("0x9a9")][_0x1dda("0x4")]();e[_0x1dda("0x10")](f[_0x1dda("0xd8")])}var u=e.map((function(d){return{key:_,value:d,data:o}}));if(t[_0x1dda("0xd1")]((function(d){var t=d.layerManager;x[_0x1dda("0x3")](t,(function(x,t){if(!t)return!1;if(x[_]&&e[_0x1dda("0xaf")](x[_])>-1){if(s++,n)if(5==x[_0x1dda("0x106")]){for(var r=x[_0x1dda("0xff")][0],c=x[_0x1dda("0xff")][1],l=t.geometry.attributes.highLightFlags[_0x1dda("0x400")],f=t.geometry.attributes[_0x1dda("0x9aa")].array,h=r;h<c;h++)l[h]=1;for(var g=4*r;g<4*c;g+=4)f[g]=o[0],f[g+1]=o[1],f[g+2]=o[2],f[g+3]=o[3];t.geometry[_0x1dda("0xf9")][_0x1dda("0x9ab")][_0x1dda("0x172")]=!0,t[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x9aa")][_0x1dda("0x172")]=!0,a[_0x1dda("0xda")](_0x1dda("0x9a8"),{color:i,value:1,startIndex:r,endIndex:c})}else 6==x[_0x1dda("0x106")]&&(t[_0x1dda("0x153")][_0x1dda("0x406")]=!0,x[_0x1dda("0x26e")]?x[_0x1dda("0x26e")](i):d[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x9a3")](x.ID,t,i,.3));else if(5==x[_0x1dda("0x106")]){r=x[_0x1dda("0xff")][0],c=x[_0x1dda("0xff")][1],l=t[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x9ab")][_0x1dda("0x400")];for(var b=t.geometry[_0x1dda("0xf9")][_0x1dda("0x9aa")][_0x1dda("0x400")],v=r;v<c;v++)l[v]=0;for(var p=4*r;p<4*c;p+=4)b[p]=1,b[p+1]=1,b[p+2]=1,b[p+3]=1;t[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x9ab")][_0x1dda("0x172")]=!0,t[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x9aa")][_0x1dda("0x172")]=!0,a[_0x1dda("0xda")]("changeBuildingColor",{color:i,value:0,startIndex:r,endIndex:c})}else 6==x.nodeType&&(t[_0x1dda("0x153")][_0x1dda("0x406")]=!1,x[_0x1dda("0x26e")]?x[_0x1dda("0x26d")]():d[_0x1dda("0x22c")][_0x1dda("0x636")].changeModelColorById(x.ID,t,i,.3));for(var m=0;m<u.length;m++)if(u[m][_0x1dda("0xd8")]==x[_]){u[_0x1dda("0x6")](m,1);break}}return s==e[_0x1dda("0x0")]&&"ID"==_}))})),n)for(var h=0;h<u[_0x1dda("0x0")];h++)this[_0x1dda("0x7d")][_0x1dda("0x9ac")](u[h])}},{key:_0x1dda("0x9ad"),value:function(d){function x(d){var x=[];this[_0x1dda("0x9a4")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0x608")]!=esmap[_0x1dda("0x39a")].MODEL&&d[_0x1dda("0x608")]!=esmap[_0x1dda("0x39a")].MODEL_BASE||(x=x[_0x1dda("0x317")](d[_0x1dda("0x180")][_0x1dda("0xe6")]))}));for(var a=0;a<x[_0x1dda("0x0")];a++){var _=x[a][_0x1dda("0xe5")][_0x1dda("0x424")];if(_)for(var e=0;e<_[_0x1dda("0x0")];e++){if(d(_[e],x[a][_0x1dda("0xe5")][_0x1dda("0x180")]))return}}}var a,_=this,e=(esmap.ESMapUtil[_0x1dda("0x602")],d.color),t=!!e,i=!!d[_0x1dda("0x2")](_0x1dda("0x11d"))&&d.opacity,n=0!=i,r=_0x1dda("0xfc"),s=[][_0x1dda("0x317")](d[_0x1dda("0xfc")]),o=[];d[_0x1dda("0x12d")]?[].concat(d.bid)[_0x1dda("0xd1")]((function(d){var x=_[_0x1dda("0x12b")](d);x&&o[_0x1dda("0x10")](x)})):o=_[_0x1dda("0x633")];d.name||(s=[][_0x1dda("0x317")](d.id),r="ID");e[_0x1dda("0x0")];var c=0;a=d[_0x1dda("0x123")]?[][_0x1dda("0x317")](d[_0x1dda("0x123")]):null,o[_0x1dda("0xd1")]((function(d){var o=a||d[_0x1dda("0x634")];for(var l in o){var f=d.getFloor(o[l]);f&&x[_0x1dda("0x3")](f,(function(d,x){var a;if(d[r]&&s[_0x1dda("0xaf")](d[r])>-1)if(c++,t||n){if(x[_0x1dda("0x153")][_0x1dda("0x9ae")]||(x[_0x1dda("0x153")][_0x1dda("0x9ae")]={}),!x[_0x1dda("0x153")].colorMap[e]){var o=x[_0x1dda("0xe9")][0].clone();t&&(o[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(e),f[_0x1dda("0x180")].lastAlpha||(f[_0x1dda("0x180")][_0x1dda("0x627")]={}),f[_0x1dda("0x180")][_0x1dda("0x627")][o[_0x1dda("0x2c4")]]=f[_0x1dda("0x180")][_0x1dda("0x627")][x[_0x1dda("0xe9")][0][_0x1dda("0x2c4")]]),i&&(o.opacity=i,o.transparent=1!=i),x[_0x1dda("0xe9")].push(o),x[_0x1dda("0x153")].colorMap[e]=x[_0x1dda("0xe9")][_0x1dda("0x0")]-1}var l=x[_0x1dda("0xe7")][_0x1dda("0x40c")];x[_0x1dda("0xe7")].clearGroups();var u=d[_0x1dda("0xff")][0],h=d[_0x1dda("0xff")][1],g=x[_0x1dda("0x153")][_0x1dda("0x9ae")][e];_.splitGroup(u,h,g,l,!1)[_0x1dda("0xd1")]((function(d){x[_0x1dda("0xe7")][_0x1dda("0x16c")](d[_0x1dda("0x21c")],d[_0x1dda("0xfb")],d[_0x1dda("0x40e")])}))}else{l=x[_0x1dda("0xe7")][_0x1dda("0x40c")];x.geometry[_0x1dda("0x40d")]();u=d[_0x1dda("0xff")][0],h=d[_0x1dda("0xff")][1];for(var b=null,v=0;v<l.length;v++)if(u>=l[v][_0x1dda("0x21c")]&&u<l[v][_0x1dda("0x21c")]+l[v][_0x1dda("0xfb")]){a=l[v][_0x1dda("0x40e")],b=v;break}null!=b&&0!=a&&(l=_[_0x1dda("0x411")](u,h,0,l,!1));for(v=0;v<l.length;v++)x[_0x1dda("0xe7")].addGroup(l[v].start,l[v][_0x1dda("0xfb")],l[v].materialIndex)}return c==s[_0x1dda("0x0")]&&("ID"==r||r==_0x1dda("0xfc"))}))}o=null}))}},{key:_0x1dda("0x9af"),value:function(d){var x=d[_0x1dda("0x12d")],a=d.fnum,_=d[_0x1dda("0x769")],e=this[_0x1dda("0x12b")](x);if(e){for(var t=e[_0x1dda("0x9b0")](a),i=!1,n=0;n<t[_0x1dda("0x0")];n++){if(esmap[_0x1dda("0x86")][_0x1dda("0x39e")](_,t[n][_0x1dda("0x121")])){i=!0;break}}return i}console[_0x1dda("0x3ec")](x+_0x1dda("0x9b1"))}},{key:"pointInBuildingRoom",value:function(d){var x=d.bid,a=d.id,_=d[_0x1dda("0x769")];function e(d){var x=[];this[_0x1dda("0x9a4")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0x625")]&&(x=x.concat(d[_0x1dda("0x180")][_0x1dda("0xe6")]))}));for(var a=0;a<x[_0x1dda("0x0")];a++){var _=x[a];if(_.datas_[_0x1dda("0x424")]){for(var e=_[_0x1dda("0xe5")][_0x1dda("0x424")],t=0;t<e.length;t++){if(d(e[t],x[a][_0x1dda("0xe5")][_0x1dda("0x180")]))return}if(_[_0x1dda("0x153")].hasChild)_.children[_0x1dda("0xd1")]((function(x){if(x[_0x1dda("0xe5")]&&d(x[_0x1dda("0xe5")],x))return}))}else{if(_[_0x1dda("0xe5")].hasChild)_[_0x1dda("0xf8")]((function(x){if(x[_0x1dda("0xe5")]&&d(x[_0x1dda("0xe5")],x))return}));else if(d(_[_0x1dda("0xe5")],_))return}}}var t=this[_0x1dda("0x12b")](x);if(t){var i=[].concat(a),n="ID",r=[];if(1==t.buildingType)r=[t[_0x1dda("0x3b9")]];else t[_0x1dda("0x634")][_0x1dda("0xd1")]((function(d){r.push(t[_0x1dda("0x61b")](d))}));var s=0,o=!1;for(var c in r){var l=r[c];e[_0x1dda("0x3")](l,(function(d,x){if(!x)return!1;if(d[n]&&i[_0x1dda("0xaf")](d[n])>-1&&(s++,d[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x625")])){for(var a=[],e=0;e<d[_0x1dda("0x121")][_0x1dda("0x0")];e++)a.push({x:-d[_0x1dda("0x121")][e].x+t.delta.x,y:d[_0x1dda("0x121")][e].y+t[_0x1dda("0x9b2")].y});o=esmap[_0x1dda("0x86")].pointInArea(_,a)}return s==i[_0x1dda("0x0")]}))}return o}}},{key:_0x1dda("0x9b3"),value:function(d){var x=this[_0x1dda("0x62c")]()[_0x1dda("0x61b")](d[_0x1dda("0x123")]);if(x)for(var a=x[_0x1dda("0x3bb")](esmap[_0x1dda("0x39a")][_0x1dda("0x537")]),_=0;_<a[_0x1dda("0x0")];_++){var e=a[_][_0x1dda("0x180")][_0x1dda("0xe6")][0];if(e)for(var t=e[_0x1dda("0xe9")],i=0;i<t[_0x1dda("0x0")];i++)if(t[i]&&d.id===t[i][_0x1dda("0x153")][_0x1dda("0x529")].id)return{id:d.id,imgName:t[i][_0x1dda("0x153")].imgdata[_0x1dda("0x51c")],imgWidth:t[i][_0x1dda("0x153")][_0x1dda("0x529")][_0x1dda("0x528")][_0x1dda("0x1a5")],imgHeight:t[i][_0x1dda("0x153")][_0x1dda("0x529")][_0x1dda("0x528")][_0x1dda("0x18b")]}}}},{key:_0x1dda("0x9b4"),value:function(d){var x=!1;if(this[_0x1dda("0x7d")][_0x1dda("0x7e")]("sk")||this.options[_0x1dda("0x1cc")]||(this[_0x1dda("0x7d")][_0x1dda("0x7e")]("ul")>>1&1||0)<1&&(console[_0x1dda("0x255")](esmap[_0x1dda("0x24d")][_0x1dda("0x9b5")]),x=!0),!x){for(var a=this[_0x1dda("0x62c")](),_={},e={},t={},i={},n={},r=0;r<a.floorNums[_0x1dda("0x0")];r++){var s=a[_0x1dda("0x634")][r],o=a.getFloor(s);n[s]=o[_0x1dda("0x9b6")]}try{for(var c=0;c<d[_0x1dda("0x0")];c++){var l=d[c],f=l.id,u=l[_0x1dda("0x123")];if(f){if(!u){var h=a.findRoomById(f);if(!h){console[_0x1dda("0x1eb")](_0x1dda("0x9b8")+f+_0x1dda("0x9b9")+c);continue}u=h[_0x1dda("0x1de")],i[f]=h}_[f]=c,e[u]||(e[u]=[]),e[u][_0x1dda("0x10")](f)}else console[_0x1dda("0x1eb")](_0x1dda("0x9b7")+c)}for(var u in e)for(var g=e[u],b=a[_0x1dda("0x61b")](u)[_0x1dda("0x3bb")](esmap[_0x1dda("0x39a")][_0x1dda("0x537")]),v=0;v<b[_0x1dda("0x0")];v++){var p=b[v][_0x1dda("0x180")].children[0];if(p)for(var m=p[_0x1dda("0xe9")],A=0;A<m[_0x1dda("0x0")];A++){var C=m[A];if(C){var I=C.userData.imgdata;if(g[_0x1dda("0xaf")](I.id)>-1){t[_[I.id]]=!0;var y=d[_[I.id]][_0x1dda("0x5df")];if(y)C.userData.originalTexture||(C[_0x1dda("0x153")][_0x1dda("0x9ba")]=C[_0x1dda("0x42")][_0x1dda("0x116")]()),C[_0x1dda("0x42")]=y,C[_0x1dda("0x42")][_0x1dda("0x32b")]=map.mapView[_0x1dda("0x32c")][_0x1dda("0x331")].getMaxAnisotropy(),C.map[_0x1dda("0x83f")]=1006,C[_0x1dda("0x42")].minFilter=1008;else{if(!C.userData[_0x1dda("0x9ba")]){_0x1dda("0x9bb"),I.id;continue}C[_0x1dda("0x42")]=C.userData.originalTexture}C[_0x1dda("0x42")][_0x1dda("0x172")]=!0}}}}}catch(d){console[_0x1dda("0x1eb")](d[_0x1dda("0x2e")]())}}}},{key:_0x1dda("0x9bc"),value:function(d){function x(d,x){var a,_=0,e=d[_0x1dda("0x12d")];(e||(e=r),d[_0x1dda("0x123")]&&e)?_+=(a=n[_0x1dda("0x12b")](e))?a.getFloorHeight(d[_0x1dda("0x123")]):0:_+=(a=n[_0x1dda("0x12b")](e))[_0x1dda("0x29d")](1);var t=n.coordMapToThree({x:d.x,y:d.y});return t.y=_+Number(d.offset||d.z||0),t}if(!(d[_0x1dda("0x0")]<1)){var a,_=[],e=[],t=null,i=null,n=this,r=this.id;return function(d){for(var a=0;a<d[_0x1dda("0x0")];a++)t=d[a],(i=x(t))[_0x1dda("0x123")]=t[_0x1dda("0x123")]||1,i[_0x1dda("0x12d")]=t[_0x1dda("0x12d")]||r,e[_0x1dda("0x10")](i)}(d),(a=e).length>1&&_[_0x1dda("0x10")](a),_}}},{key:_0x1dda("0x9bd"),value:function(d,x){var a=null;null==x&&this[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]&&(x=this.id);var _=this[_0x1dda("0x12b")](x);return d[_0x1dda("0x123")]&&(a=_[_0x1dda("0x29d")](d.fnum)),new(THREE[_0x1dda("0x11c")])(-this[_0x1dda("0xb3")][_0x1dda("0x2a8")]-d.x,d.z||a||0,d.y-this.mapScene[_0x1dda("0x2a9")])}},{key:"getTileBuildingByMapId",value:function(d){return this[_0x1dda("0x279")][_0x1dda("0x9be")][d]||null}},{key:_0x1dda("0x9bf"),value:function(){this[_0x1dda("0x9c0")]&&(this[_0x1dda("0x9c0")][_0x1dda("0x3b4")]=null)}},{key:_0x1dda("0x9c1"),value:function(d){d=(0,r[_0x1dda("0xd")])({coord:null,mode:_0x1dda("0x18b"),inverse:!1,startCoord:null,depth:100,endCoord:null,typeID:null,dataID:null,excludeNodeTypes:[]},d),this[_0x1dda("0x9c0")]||(this.rayPointer=new(A[_0x1dda("0xd")])(d)),this[_0x1dda("0x9c0")][_0x1dda("0x4d3")][_0x1dda("0x2bb")]=d.depth;var x=void 0;if(d.mode==_0x1dda("0x18b")){var a=this[_0x1dda("0x29e")](d[_0x1dda("0x522")]);x=this.rayPointer[_0x1dda("0x2bf")](a,d[_0x1dda("0x36")])}else{var _=this[_0x1dda("0x29e")](d[_0x1dda("0x9c2")]),e=this[_0x1dda("0x29e")](d[_0x1dda("0x9c3")]);x=this.rayPointer.intersectByStartEnd(_,e)}if(d[_0x1dda("0x2b9")]&&x){if(!this[_0x1dda("0x9c0")][_0x1dda("0x9c4")]){var t=document[_0x1dda("0x20")](_0x1dda("0x2fa"));t[_0x1dda("0x1a5")]=64,t.height=64;var i=t[_0x1dda("0x2fb")]("2d");i[_0x1dda("0x311")](),i.arc(32,32,20,0,360,!1),i[_0x1dda("0x304")]="red",i.fill(),i.lineWidth=20,i[_0x1dda("0x305")]=_0x1dda("0x9c5"),i[_0x1dda("0x9c6")]=.2,i[_0x1dda("0x312")](),i[_0x1dda("0x8fe")]();var n=new(THREE[_0x1dda("0x329")])(t),s=new(THREE[_0x1dda("0x2e4")]);s[_0x1dda("0xe9")]=new(THREE[_0x1dda("0x23e")])({map:n,depthTest:!1,sizeAttenuation:!1}),s[_0x1dda("0x160")]=101,s[_0x1dda("0x1d7")].multiplyScalar(.02),s[_0x1dda("0xe9")][_0x1dda("0x42")].needsUpdate=!0,this[_0x1dda("0x9c0")][_0x1dda("0x9c4")]=s,this.mapView[_0x1dda("0xf7")][_0x1dda("0xce")](s)}"height"==d[_0x1dda("0x36")]?this[_0x1dda("0x9c0")].cubeTip.position[_0x1dda("0x20e")](x):this.rayPointer[_0x1dda("0x9c4")][_0x1dda("0xfa")][_0x1dda("0x20e")](x.point)}return d.mode==_0x1dda("0x18b")?x?x.y:null:x||null}},{key:"cameraFlyToHelper",value:function(){var d=this[_0x1dda("0x226")][_0x1dda("0x1b")][_0x1dda("0xfa")][_0x1dda("0x117")](this.controls[_0x1dda("0x227")]),x=this[_0x1dda("0x19f")][_0x1dda("0x2af")]();return{directionAngle:1*this[_0x1dda("0x1fe")][_0x1dda("0x60b")](1),pitchAngle:1*this[_0x1dda("0x288")][_0x1dda("0x60b")](1),radius:1*d[_0x1dda("0x60b")](1),x:1*x.x[_0x1dda("0x60b")](1),y:1*x.y[_0x1dda("0x60b")](1),z:1*this[_0x1dda("0x226")][_0x1dda("0x227")].y[_0x1dda("0x60b")](1)}}},{key:_0x1dda("0x2af"),value:function(){return w[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:"æ­¤æ¹æ³å·²å¼ç¨,è¯·ä½¿ç¨ map.getViewCenter()",level:_0x1dda("0x9c7")}),this[_0x1dda("0x19f")][_0x1dda("0x2af")]()}},{key:"getViewCenter",value:function(){return this[_0x1dda("0x19f")].getCenter()}},{key:"getCenterLonLat",value:function(){return this.mapView[_0x1dda("0x9c8")]()}},{key:_0x1dda("0x222"),value:(F=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")].mark((function d(x){var a,_,e,i=this;return t[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:if((x=(0,r[_0x1dda("0xd")])({fnum:null,scaleLevel:null,radius:100,bid:null,pitchAngle:60,directionAngle:0,clockwise:!0,delay:0,time:1},x)).clockwise||(x.directionAngle=360-x[_0x1dda("0x9c9")]),!x.delay){d[_0x1dda("0x24c")]=6;break}return d[_0x1dda("0x24c")]=6,new(n[_0x1dda("0xd")])((function(d){setTimeout(d,1e3*x.delay)}));case 6:if(x.z||(x.z=0),a=0,!x[_0x1dda("0x123")]){d[_0x1dda("0x24c")]=18;break}if(x[_0x1dda("0x12d")]||(x[_0x1dda("0x12d")]=this.id),this[_0x1dda("0x12b")](x[_0x1dda("0x12d")])){d[_0x1dda("0x24c")]=15;break}return d[_0x1dda("0x24c")]=13,new(n[_0x1dda("0xd")])((function(d){i[_0x1dda("0x956")](x[_0x1dda("0x12d")]),i[_0x1dda("0x337")](_0x1dda("0x97d"),(function(){var _=i[_0x1dda("0x12b")](x[_0x1dda("0x12d")]);_[_0x1dda("0x95b")](x.fnum),a=_[_0x1dda("0x29d")](x[_0x1dda("0x123")]),d()}))}));case 13:d[_0x1dda("0x24c")]=18;break;case 15:(_=this.getBuildingById(x.bid))[_0x1dda("0x95b")](x[_0x1dda("0x123")]),a=_[_0x1dda("0x29d")](x[_0x1dda("0x123")]);case 18:return null!=x[_0x1dda("0x1cf")]?x[_0x1dda("0x645")]=(this.scaleLevels_[x[_0x1dda("0x1cf")]]+1e-4)*this[_0x1dda("0x226")][_0x1dda("0x9ca")]:null==x[_0x1dda("0x645")]&&(x.radius=this[_0x1dda("0x226")][_0x1dda("0x667")]()),e=this[_0x1dda("0x29e")]({x:x.x,y:x.y,z:x.z+a}),x[_0x1dda("0x9cb")]=x[_0x1dda("0x9cb")]<=1?1:x[_0x1dda("0x9cb")],d[_0x1dda("0x24e")](_0x1dda("0x24f"),new(n[_0x1dda("0xd")])((function(d){i[_0x1dda("0x92e")][_0x1dda("0x9cc")]({targetPos:e,radius:x[_0x1dda("0x645")],pitchAngle:x[_0x1dda("0x9cb")],directionAngle:x.directionAngle,time:x[_0x1dda("0x233")],callback:function(){x[_0x1dda("0x195")]&&x[_0x1dda("0x195")](),esmap[_0x1dda("0x9cd")]&&!esmap[_0x1dda("0x9cd")][_0x1dda("0x9ce")]&&esmap.ESMap.instance[_0x1dda("0x294")](),d()}})})));case 22:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return F[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x9cf"),value:function(d){var x=this;x[_0x1dda("0x9d0")](),esmap[_0x1dda("0x86")][_0x1dda("0x4ac")](this,_0x1dda("0x641"),{ID:d},(function(d){if(d[_0x1dda("0x0")]>0){var a=d[0],_=x.tapTip,e=document[_0x1dda("0x9d1")](_[_0x1dda("0x9d2")]);e[_0x1dda("0x1ae")]="",_[_0x1dda("0x9d3")].style[_0x1dda("0x11d")]=0,a[_0x1dda("0xfc")]?(_[_0x1dda("0x1ff")]({x:a.mapCoord.x,y:a[_0x1dda("0x1e7")].y,time:.01,callback:function(){_.group[_0x1dda("0xfa")].y=a[_0x1dda("0x623")]+20,setTimeout((function(){e.innerHTML=a.name,_[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=1}),1)}}),_[_0x1dda("0x12d")]=a[_0x1dda("0x12d")]):_[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=0,x.storeSelect(a)}}))}},{key:_0x1dda("0x9d4"),value:function(d){var x=d,a=.2,_=null;d instanceof Object&&(x=d.angle,a=d[_0x1dda("0x233")]||.2,_=d[_0x1dda("0x195")]||null),new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(this).to({tiltAngle:x},1e3*a)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing.Quadratic[_0x1dda("0x194")])[_0x1dda("0x162")]((function(d){}))[_0x1dda("0x192")]((function(){_&&_()}))[_0x1dda("0x21c")]()}},{key:_0x1dda("0x94c"),value:function(d){var x=this;if(this[_0x1dda("0x36")]!=esmap.MapMode[_0x1dda("0x3a")]){var a=void 0;if(a=(d=(0,r.default)({value:0,time:1,emitError:!1,raw:!1,onComplete:null},d))[_0x1dda("0x5de")]?d.value:this.scaleLevels_[d[_0x1dda("0xd8")]],!d[_0x1dda("0x9d5")]&&null==a)return d.value,void _0x1dda("0x9d6");var _=this[_0x1dda("0x226")].getScaleRate();P&&(P.stop(),P=null),P=new(esmap.TWEEN[_0x1dda("0x18e")])({value:_}).to({value:a},1e3*d[_0x1dda("0x233")])[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")])[_0x1dda("0x162")]((function(d){x[_0x1dda("0x226")][_0x1dda("0x9d7")](d[_0x1dda("0xd8")])}))[_0x1dda("0x192")]((function(){d[_0x1dda("0x192")]&&d[_0x1dda("0x192")](),P=null})).start()}}},{key:_0x1dda("0x9d8"),value:function(d,x){var a=this;d=THREE[_0x1dda("0x1fa")].clamp(d,0,a[_0x1dda("0x930")][_0x1dda("0x0")]-1),x=THREE[_0x1dda("0x1fa")].clamp(x,0,a[_0x1dda("0x930")][_0x1dda("0x0")]-1),a[_0x1dda("0x9d9")]=d,a[_0x1dda("0x9da")]=x,a[_0x1dda("0x226")][_0x1dda("0x9db")](a[_0x1dda("0x930")][d],a[_0x1dda("0x930")][x]),a[_0x1dda("0x1cf")]=a[_0x1dda("0x930")][Math[_0x1dda("0xf2")]((d+x)/2)]}},{key:_0x1dda("0x9dc"),value:function(){this.scaleLevel>0&&this.scaleLevelTo({value:this[_0x1dda("0x1cf")]-1})}},{key:"scaleLevelOut",value:function(){this[_0x1dda("0x1cf")]<this.scaleLevels_[_0x1dda("0x0")]-1&&this.scaleLevelTo({value:this[_0x1dda("0x1cf")]+1})}},{key:_0x1dda("0x9dd"),value:function(d){d?(this[_0x1dda("0x19f")][_0x1dda("0xf7")][_0x1dda("0x9de")]=esmap.ESMapUtil[_0x1dda("0x5ba")](d),this[_0x1dda("0x19f")][_0x1dda("0xf7")][_0x1dda("0x9de")].needsUpdate=!0):(this[_0x1dda("0x19f")][_0x1dda("0xf7")].background=null,this.mapView[_0x1dda("0x32c")][_0x1dda("0x6de")](this[_0x1dda("0x132")].clearColor_,this[_0x1dda("0x132")][_0x1dda("0x9df")]))}},{key:"setBackgroundColor",value:function(d,x){!1!==d?this[_0x1dda("0x19f")].renderer[_0x1dda("0x6de")](d,x):this.mapView[_0x1dda("0x32c")].setClearColor(this[_0x1dda("0x132")][_0x1dda("0x9e0")],this.mapTheme[_0x1dda("0x9df")])}},{key:_0x1dda("0x9e1"),value:function(d,x){var a=null==x?1:x;this[_0x1dda("0x132")][_0x1dda("0x3ea")][_0x1dda("0x138")][_0x1dda("0xcd")](d),this[_0x1dda("0x132")][_0x1dda("0x3ea")][_0x1dda("0x3e7")].set(d),this[_0x1dda("0x132")][_0x1dda("0x3ea")][_0x1dda("0x11d")]=a,this[_0x1dda("0x931")]=a}},{key:_0x1dda("0x411"),value:function(d,x,a,_,e){var t,i=x-d,n=[];_[_0x1dda("0xd1")]((function(d){n.push({start:d[_0x1dda("0x21c")],count:d[_0x1dda("0xfb")],materialIndex:d.materialIndex})}));for(var r=0;r<n[_0x1dda("0x0")];r++){var s=n[r],o=s.start+s[_0x1dda("0xfb")];if(d>=s[_0x1dda("0x21c")]&&d<o&&s[_0x1dda("0x40e")]!=a){if(s[_0x1dda("0xfb")]>=i){e&&(this[_0x1dda("0x412")]=s.materialIndex),n[_0x1dda("0x6")](r,1),d>s[_0x1dda("0x21c")]&&n[_0x1dda("0x10")]({start:s.start,count:d-s[_0x1dda("0x21c")],materialIndex:s[_0x1dda("0x40e")]}),n.push({start:d,count:i,materialIndex:a}),x<o&&n.push({start:x,count:o-x,materialIndex:s[_0x1dda("0x40e")]});break}n[r][_0x1dda("0x40e")]=a}}n[_0x1dda("0x3ef")]((t=_0x1dda("0x21c"),function(d,x){return d[t]-x[t]}));for(var c=0;c<n[_0x1dda("0x0")]-1;c++)n[c].materialIndex==n[c+1][_0x1dda("0x40e")]&&(n[c].count+=n[c+1][_0x1dda("0xfb")],n[_0x1dda("0x6")](c+1,1),c--);return n}},{key:_0x1dda("0x9e2"),value:function(d,x,a){if(d&&d[_0x1dda("0x180")]&&d[_0x1dda("0x180")][_0x1dda("0xe7")]){var _=this;null==x&&(x=!0);var e=d[_0x1dda("0x180")][_0x1dda("0xe7")][_0x1dda("0x40c")],t=d[_0x1dda("0x180")][_0x1dda("0x153")].selectMatIndex,i=d[_0x1dda("0xff")][0],n=d.faceRange[1];if(1==d[_0x1dda("0x3a8")]){var r=1;0==x&&(r=0);for(var s=d[_0x1dda("0x180")][_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x9e3")][_0x1dda("0x400")],o=i;o<n;o+=1)s[o]=r;return d[_0x1dda("0x180")].geometry[_0x1dda("0xf9")].isSelectFlags[_0x1dda("0x172")]=!0,void(x&&!a&&(_[_0x1dda("0x9d0")](),_[_0x1dda("0x91e")][_0x1dda("0x10")](d)))}d[_0x1dda("0x180")][_0x1dda("0xe7")][_0x1dda("0x40d")]();if(0!=x){d[_0x1dda("0x425")]?d[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x10")](_.mapScene[_0x1dda("0x3b0")][_0x1dda("0x3ea")]):d[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x10")](_[_0x1dda("0xb3")][_0x1dda("0x3b0")][_0x1dda("0x3ea")]),d[_0x1dda("0x180")][_0x1dda("0xe9")][0][_0x1dda("0x153")][_0x1dda("0x9e4")]&&d[_0x1dda("0x180")][_0x1dda("0xe9")][0][_0x1dda("0x42")]&&!d[_0x1dda("0x180")][_0x1dda("0xe9")][1]&&(d[_0x1dda("0x180")][_0x1dda("0xe9")][d[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x0")]-1]=_[_0x1dda("0xb3")][_0x1dda("0x3b0")][_0x1dda("0x3ea")][_0x1dda("0x116")](),e=d[_0x1dda("0x180")][_0x1dda("0x153")].groups,t=1,d[_0x1dda("0x180")].material[t][_0x1dda("0x42")]=d[_0x1dda("0x180")][_0x1dda("0xe9")][0][_0x1dda("0x42")][_0x1dda("0x116")](),d[_0x1dda("0x180")][_0x1dda("0xe9")][t][_0x1dda("0x3e7")]=new(THREE[_0x1dda("0x139")])(0,0,0),d[_0x1dda("0x180")].material[t].map.needsUpdate=!0,d[_0x1dda("0x180")][_0x1dda("0xe9")][t][_0x1dda("0x172")]=!0),t=d[_0x1dda("0x180")].material.length-1;d[_0x1dda("0x180")].geometry[_0x1dda("0xf9")].position[_0x1dda("0xfb")];_[_0x1dda("0x411")](i,n,t,e,true)[_0x1dda("0xd1")]((function(x){d[_0x1dda("0x180")].geometry[_0x1dda("0x16c")](x.start,x.count,x[_0x1dda("0x40e")])})),x&&!a&&(_[_0x1dda("0x9d0")](),_.lastSelectStore[_0x1dda("0x10")](d))}else{for(var c=0;c<d[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x0")];c++)if(d[_0x1dda("0x180")].material[c]&&"selectMat"==d[_0x1dda("0x180")][_0x1dda("0xe9")][c].name){d.o3d_[_0x1dda("0xe9")][c][_0x1dda("0x42")]&&d.o3d_.material[c][_0x1dda("0x42")].dispose()&&(d[_0x1dda("0x180")].material[c].map=null),d[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x6")](c,1);break}_.splitGroup(i,n,_[_0x1dda("0x412")],e,true)[_0x1dda("0xd1")]((function(x){d.o3d_.geometry[_0x1dda("0x16c")](x[_0x1dda("0x21c")],x[_0x1dda("0xfb")],x[_0x1dda("0x40e")])}))}}}},{key:"getTileById",value:function(d){for(var x=[].concat(this[_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0xe6")]),a=0;a<x[_0x1dda("0x0")];a++)if(x[a][_0x1dda("0xe5")].id==d)return x[a][_0x1dda("0xe5")]}},{key:"ol",value:function(d,x){if(x==this.id){var a=this[_0x1dda("0x7d")][_0x1dda("0x646")][d]||[],_=[];return a.map((function(d){var x=[];d.forEach((function(d){x[_0x1dda("0x10")]({x:-d.x,y:d.y})})),_[_0x1dda("0x10")](x)})),_}}},{key:_0x1dda("0x9e5"),value:function(d,x){var a=esmap[_0x1dda("0x86")][_0x1dda("0x410")](x);switch(d){case esmap.ESNodeType[_0x1dda("0x625")]:this[_0x1dda("0x132")][_0x1dda("0x3ea")][_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(x);break;case esmap[_0x1dda("0x126")][_0x1dda("0x9e6")]:this[_0x1dda("0x132")].polygonSelectColor_=a;break;case esmap[_0x1dda("0x126")].LINE_MARKER:case esmap[_0x1dda("0x126")][_0x1dda("0x127")]:this[_0x1dda("0x132")].selectedLineColor=a}}},{key:_0x1dda("0x9e7"),value:function(d){d?(this[_0x1dda("0x132")][_0x1dda("0x978")].forEach((function(d){d&&(d[_0x1dda("0x169")]=!0)})),this[_0x1dda("0x7d")][_0x1dda("0x9e8")]=!1):(this[_0x1dda("0x7d")][_0x1dda("0x9e8")]=!0,this[_0x1dda("0x132")][_0x1dda("0x978")][_0x1dda("0xd1")]((function(d){d&&(d[_0x1dda("0x169")]=!1)})))}},{key:_0x1dda("0x9e9"),value:function(d){var x=this,a=esmap[_0x1dda("0x86")][_0x1dda("0x644")](d);a[_0x1dda("0xd1")]((function(d){x[_0x1dda("0x279")].userTiles.push(d)}));var _=[];this[_0x1dda("0x62e")].forEach((function(d){-1==a[_0x1dda("0xaf")](d.id)&&_[_0x1dda("0x10")](d.id)}));for(var e=this[_0x1dda("0xb3")][_0x1dda("0x3c7")].children,t=0;t<e[_0x1dda("0x0")];t++){var i=e[t];_.includes(i[_0x1dda("0xe5")].id)&&(i[_0x1dda("0x169")]=!1,this[_0x1dda("0xb3")][_0x1dda("0x3c7")].remove(i),t--,this[_0x1dda("0x7d")].tileService.cachedTiles[_0x1dda("0xaf")](i[_0x1dda("0xe5")])<0&&this[_0x1dda("0x279")][_0x1dda("0x9ea")](i.datas_),this.fire("unloadTile",{bid:i[_0x1dda("0xe5")].id}))}}},{key:_0x1dda("0x9eb"),value:function(){this[_0x1dda("0x279")][_0x1dda("0x9ec")]=[],this[_0x1dda("0x294")]()}},{key:"change3dOpacity",value:function(d){var x=this,a=_0x1dda("0xfc"),_=[].concat(d[_0x1dda("0xfc")]);d[_0x1dda("0xfc")]||(_=[][_0x1dda("0x317")](d.id),a="ID");var t=d[_0x1dda("0x234")]||!1,i=d[_0x1dda("0x11d")],n=d[_0x1dda("0x18a")]||0,r=null==d[_0x1dda("0x233")]?.8:d[_0x1dda("0x233")],s=null!=d[_0x1dda("0x62a")]&&d[_0x1dda("0x62a")];setTimeout((function(){esmap[_0x1dda("0x86")].search(x,"all",(0,e[_0x1dda("0xd")])({nodeType:6},a,_),(function(x){for(var a=0;a<x[_0x1dda("0x0")];a++)esmap[_0x1dda("0x86")][_0x1dda("0x232")]({target:x[a][_0x1dda("0x180")],time:r,alpha:i,hideOnComplete:s,clonemat:t,visible:d[_0x1dda("0x169")]})}))}),1e3*n)}},{key:_0x1dda("0x62c"),value:function(){return this[_0x1dda("0x12b")](this.id)}},{key:_0x1dda("0x12b"),value:function(d){if(this.mapScene[_0x1dda("0x9ed")]&&(0==d||d==this.id))return this[_0x1dda("0xb3")][_0x1dda("0x9ed")];for(var x=[][_0x1dda("0x317")](this[_0x1dda("0xb3")].buildingScene_[_0x1dda("0xe6")]),a=0;a<x[_0x1dda("0x0")];a++)if(x[a][_0x1dda("0xe5")].id==d)return x[a][_0x1dda("0xe5")];return null}},{key:_0x1dda("0x9ee"),value:function(d,x,a){if(d){var _=this;null==x&&(x=!0),x&&!a&&(_[_0x1dda("0x9ef")](),_[_0x1dda("0x4f8")][_0x1dda("0x10")](d));var e=_[_0x1dda("0x132")][_0x1dda("0x9f0")];d[_0x1dda("0xe5")].nodeType==esmap[_0x1dda("0x126")][_0x1dda("0x9e6")]&&(e=_[_0x1dda("0x132")][_0x1dda("0x9f1")]);var t=d[_0x1dda("0x153")].isMergedWall;d[_0x1dda("0xf8")]((function(d){if(d.material)if(d.material instanceof Array)if(t)d.material[0][_0x1dda("0x153")][_0x1dda("0x9f2")]||(d[_0x1dda("0xe9")][0][_0x1dda("0x153")][_0x1dda("0x9f2")]=d[_0x1dda("0xe9")][0][_0x1dda("0x3e7")][_0x1dda("0x116")]()),x?d.material[0][_0x1dda("0x3e7")]=new(THREE[_0x1dda("0x139")])(e):(d[_0x1dda("0xe9")][0][_0x1dda("0x3e7")]=d[_0x1dda("0xe9")][0][_0x1dda("0x153")][_0x1dda("0x9f2")],d[_0x1dda("0xe9")][0][_0x1dda("0x153")][_0x1dda("0x9f2")]=null);else for(var a=0;a<d[_0x1dda("0xe9")][_0x1dda("0x0")];a++){var _=d.material[a][_0x1dda("0x116")]();_.hasOwnProperty("emissive")&&(_[_0x1dda("0x153")][_0x1dda("0x9f2")]||(_.userData[_0x1dda("0x9f2")]=_[_0x1dda("0x3e7")][_0x1dda("0x116")]()),_[_0x1dda("0x3e7")]=x?new(THREE[_0x1dda("0x139")])(e):_[_0x1dda("0x153")][_0x1dda("0x9f2")]instanceof THREE[_0x1dda("0x139")]?_[_0x1dda("0x153")].originEMS:new(THREE[_0x1dda("0x139")])(_[_0x1dda("0x153")][_0x1dda("0x9f2")]),d.material[a]=_,_.needsUpdate=!0)}else{var i=d.material;if(i.ignoreClickEffect)return;i[_0x1dda("0x153")][_0x1dda("0x3e5")]||((i=i[_0x1dda("0x116")]()).userData[_0x1dda("0x3e5")]=!0,d[_0x1dda("0xe9")]=i),i[_0x1dda("0x2")](_0x1dda("0x3e7"))?(x?(i[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0x9f2"))||(i[_0x1dda("0x153")][_0x1dda("0x9f2")]=d[_0x1dda("0xe9")][_0x1dda("0x3e7")][_0x1dda("0x5a7")]()),i.emissive=new(THREE[_0x1dda("0x139")])(e)):i.emissive=new(THREE[_0x1dda("0x139")])(i[_0x1dda("0x153")][_0x1dda("0x9f2")]),d[_0x1dda("0xe9")][_0x1dda("0x172")]=!0):(x?d.naviMap?(i[_0x1dda("0x153")][_0x1dda("0x9f3")]||(i.userData[_0x1dda("0x9f3")]=d[_0x1dda("0x138")]),d[_0x1dda("0x138")]=e):(i.userData[_0x1dda("0x9f3")]||(i[_0x1dda("0x153")][_0x1dda("0x9f3")]=i[_0x1dda("0x138")][_0x1dda("0x116")]()),i[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(e)):null!=i[_0x1dda("0x153")][_0x1dda("0x9f3")]&&(d[_0x1dda("0x9f4")]?(d[_0x1dda("0x138")]=i[_0x1dda("0x153")][_0x1dda("0x9f3")],i.color=new(THREE[_0x1dda("0x139")])(1,1,1)):i[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(i.userData.lastColor),i[_0x1dda("0x153")][_0x1dda("0x9f3")]=null),d[_0x1dda("0x9f4")]||(d.material=i),d[_0x1dda("0xe9")][_0x1dda("0x172")]=!0)}})),x?(d[_0x1dda("0x153")][_0x1dda("0x9f5")]=!0,d[_0x1dda("0x160")]+=1):(d.userData.isSelected=!1,d[_0x1dda("0x160")]-=1)}}},{key:_0x1dda("0x9ef"),value:function(){var d=this;d[_0x1dda("0x4f8")].forEach((function(x){x[_0x1dda("0xe5")]&&x[_0x1dda("0xe5")][_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x9e6")]&&(x[_0x1dda("0xe5")].line&&(x[_0x1dda("0xe5")][_0x1dda("0x9f6")][_0x1dda("0x151")]=x[_0x1dda("0xe5")].line.style[_0x1dda("0x151")],x[_0x1dda("0xe5")][_0x1dda("0x9f6")].lineWidth=x[_0x1dda("0xe5")][_0x1dda("0x9f6")]._originalWidth||x.datas_[_0x1dda("0x9f6")][_0x1dda("0x120")].lineWidth,x[_0x1dda("0xe5")][_0x1dda("0x9f6")].geometry[_0x1dda("0x9f7")]?x[_0x1dda("0xe5")].line[_0x1dda("0xe7")][_0x1dda("0x9f7")](x.datas_[_0x1dda("0x9f6")][_0x1dda("0xe7")]._originalRadius):x[_0x1dda("0xe5")][_0x1dda("0x9f6")].updateLineWidth()),x[_0x1dda("0xe9")][_0x1dda("0x11d")]=x[_0x1dda("0xe9")][_0x1dda("0x153")][_0x1dda("0x9f8")]),d[_0x1dda("0x9ee")](x,!1)})),d[_0x1dda("0x4f8")][_0x1dda("0x0")]=0;var x=d[_0x1dda("0x12b")](0);x&&x[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x3c8")]&&(x[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x3c9")]=!1,x[_0x1dda("0x22c")][_0x1dda("0x636")].unSelectLast())}},{key:"setBuildingTip",value:function(d){d[_0x1dda("0x9f9")]}},{key:_0x1dda("0x9fa"),value:function(d){if(d){var x="",a=document[_0x1dda("0x9d1")](this[_0x1dda("0x9fb")][_0x1dda("0x9d2")]);a&&(x=a[_0x1dda("0x1ae")]),this[_0x1dda("0x9fb")][_0x1dda("0x9fc")]||(this[_0x1dda("0x9fb")][_0x1dda("0x9fc")]=this.tapTip[_0x1dda("0x9d3")][_0x1dda("0x1ae")]),this.tapTip[_0x1dda("0x9d3")][_0x1dda("0x1ae")]=d;var _=document.getElementById(this[_0x1dda("0x9fb")][_0x1dda("0x9d2")]);_&&(_[_0x1dda("0x1ae")]=x)}}},{key:"hideTip",value:function(){this[_0x1dda("0x9fb")][_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=0}},{key:_0x1dda("0x9d0"),value:function(){var d=this;d[_0x1dda("0x91e")][_0x1dda("0xd1")]((function(x){d[_0x1dda("0x9e2")](x,!1)})),d[_0x1dda("0x91e")].length=0}},{key:_0x1dda("0x9fd"),value:function(d,x,a){a=a||0;var _=esmap[_0x1dda("0x86")].search(this,a,{types:[_0x1dda("0x1ba"),"model3d"],ID:d});if(0!=_[_0x1dda("0x0")]){var e=_[0];if(e[_0x1dda("0x106")]==esmap.ESNodeType.MODEL){for(var t=e[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0x40c")],i=(e.o3d_[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],e[_0x1dda("0xff")][0]),n=(e[_0x1dda("0xff")][1],null),r=0;r<t[_0x1dda("0x0")];r++)if(i>=t[r].start&&i<t[r][_0x1dda("0x21c")]+t[r].count){n=t[r][_0x1dda("0x40e")];break}e[_0x1dda("0x180")][_0x1dda("0xe9")][n][_0x1dda("0x153")][_0x1dda("0x9fe")]=e[_0x1dda("0x180")].material[n][_0x1dda("0x11d")],e[_0x1dda("0x180")][_0x1dda("0xe9")][n][_0x1dda("0x11d")]=x}else{[][_0x1dda("0x317")](e[_0x1dda("0x180")][_0x1dda("0xe9")])[_0x1dda("0xd1")]((function(d){var a=d[_0x1dda("0x11d")];d.userData[_0x1dda("0x9fe")]=a,d[_0x1dda("0x11d")]=x}))}}}},{key:_0x1dda("0x9ff"),value:function(d){this.compass[_0x1dda("0xa00")](d)}},{key:_0x1dda("0xa01"),value:function(d){this.compass.setBg(d)}},{key:_0x1dda("0xa02"),value:function(d,x){x=x||0;var a=esmap[_0x1dda("0x86")].search(this,x,{types:[_0x1dda("0x1ba"),"model3d"],ID:d});if(0!=a[_0x1dda("0x0")]){var _=a[0];if(_.nodeType==esmap[_0x1dda("0x126")][_0x1dda("0x625")]){for(var e=0;e<_[_0x1dda("0x180")].material[_0x1dda("0x0")];e++)if(_0x1dda("0x9fe")in _[_0x1dda("0x180")].material[e].userData){_[_0x1dda("0x180")][_0x1dda("0xe9")][e][_0x1dda("0x11d")]=_[_0x1dda("0x180")][_0x1dda("0xe9")][e].userData[_0x1dda("0x9fe")],delete _[_0x1dda("0x180")].material[e][_0x1dda("0x153")][_0x1dda("0x9fe")];break}}else[][_0x1dda("0x317")](_.o3d_[_0x1dda("0xe9")])[_0x1dda("0xd1")]((function(d){d.opacity=d[_0x1dda("0x153")][_0x1dda("0x9fe")],delete d[_0x1dda("0x153")][_0x1dda("0x9fe")]}))}}},{key:_0x1dda("0xa03"),value:function(){return this[_0x1dda("0x36")]==esmap.MapMode.Building?this[_0x1dda("0xa04")][_0x1dda("0xa05")]:this[_0x1dda("0x279")][_0x1dda("0xa05")]}},{key:"initScene",value:function(){this[M[_0x1dda("0xc8")]][_0x1dda("0x4e4")]();var d=this.mapScene[_0x1dda("0xa06")]();this[_0x1dda("0x19f")].scene.add(d)}},{key:_0x1dda("0xa07"),value:function(d){for(var x=0;x<this.tileService[_0x1dda("0xa08")][_0x1dda("0x0")];x++)if(this[_0x1dda("0x279")].cachedTiles[x].id==d)return this.tileService[_0x1dda("0xa08")][x]}},{key:_0x1dda("0xa09"),value:function(d){this[_0x1dda("0x7d")][_0x1dda("0xa0a")][_0x1dda("0xa0b")](d)}},{key:"setUserGenLangLib",value:function(d){this.mapService[_0x1dda("0xa0a")].applyToGeneralLib(d)}},{key:_0x1dda("0xa0c"),value:function(){return this[_0x1dda("0x7d")][_0x1dda("0xa0a")][_0x1dda("0xa0d")][_0x1dda("0xd")]}},{key:_0x1dda("0xa0e"),value:function(){return this[_0x1dda("0x7d")][_0x1dda("0xa0a")][_0x1dda("0xa0f")].default}},{key:_0x1dda("0xa10"),value:(R=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,_,e,i,n,r,s,o,c,l,f,u=this;return t.default[_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:if(!esmap.ESMap[_0x1dda("0x936")]){d.next=2;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 2:if(a=this[_0x1dda("0x12b")](x)){d[_0x1dda("0x24c")]=7;break}return console[_0x1dda("0x1ec")](_0x1dda("0xa11")),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 7:if(1==a[_0x1dda("0x397")][_0x1dda("0xd7")][_0x1dda("0xd8")]){d[_0x1dda("0x24c")]=10;break}return d[_0x1dda("0x24e")]("return");case 10:_=a[_0x1dda("0x1e3")],this[_0x1dda("0xda")](_0x1dda("0xa12"),{bid:x,type:_}),e=0;case 13:if(!(e<this[_0x1dda("0x633")][_0x1dda("0x0")])){d.next=20;break}if(this[_0x1dda("0x633")][e].id!=x){d[_0x1dda("0x24c")]=17;break}return this.buildingList[_0x1dda("0x6")](e,1),d.abrupt("break",20);case 17:e++,d.next=13;break;case 20:if(a.shellId,(i=a[_0x1dda("0x180")])[_0x1dda("0x169")]=!1,n=a[_0x1dda("0xa13")])if(6==n[_0x1dda("0x106")])n.o3d_?n.o3d_.datas_.brothers&&n.o3d_[_0x1dda("0xe5")][_0x1dda("0x424")][_0x1dda("0x0")]>1?n.o3d_.children.forEach((function(d){a.modelLoadManager[_0x1dda("0x636")][_0x1dda("0x415")](d,n.ID,!0)})):(n[_0x1dda("0x180")][_0x1dda("0x169")]=!0,this[_0x1dda("0x97b")]++,esmap[_0x1dda("0x86")].setAlpha({target:n.o3d_,alpha:!1}),setTimeout((function(){u[_0x1dda("0x97b")]--}),1e3)):n[_0x1dda("0x169")]=!0;else if(5==n[_0x1dda("0x106")]){for(r=n[_0x1dda("0x180")][_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x535")].array,s=n[_0x1dda("0xff")],o=s[0];o<s[1];o+=1)r[o]=0;n[_0x1dda("0x180")][_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x535")][_0x1dda("0x172")]=!0}this[_0x1dda("0x35")][_0x1dda("0xa14")]?(this[_0x1dda("0x279")].cacheBuildings[a.id]=i,this[_0x1dda("0xb3")][_0x1dda("0xa15")][_0x1dda("0x181")](i)):(this[_0x1dda("0xa16")](a.id),a.map=void 0,a[_0x1dda("0xb4")]=void 0,a[_0x1dda("0xa17")]=void 0,a[_0x1dda("0x629")]=void 0,this[_0x1dda("0xb3")][_0x1dda("0xa15")].remove(i),i=void 0),this[_0x1dda("0x35")][_0x1dda("0xa14")]||this[_0x1dda("0x17d")].watchingList[x]&&(this[_0x1dda("0x17d")][_0x1dda("0x3b4")][x]=void 0,delete this.mapPicker[_0x1dda("0x3b4")][x]),d.t0=t.default[_0x1dda("0xa18")](this.tileService[_0x1dda("0x638")]);case 28:if((d.t1=d.t0())[_0x1dda("0x3d5")]){d[_0x1dda("0x24c")]=36;break}if((c=d.t1[_0x1dda("0xd8")])!=x){d[_0x1dda("0x24c")]=34;break}return this[_0x1dda("0x279")].bidList[c][_0x1dda("0xa19")]&&(this[_0x1dda("0x279")].bidList[c][_0x1dda("0xa19")]=!1),this[_0x1dda("0x279")].bidList[c].hold=!0,d[_0x1dda("0x24e")]("break",36);case 34:d[_0x1dda("0x24c")]=28;break;case 36:for(this[_0x1dda("0x7d")]._isBuildingLoading=!1,this[_0x1dda("0xda")](_0x1dda("0xa1a"),{bid:x,type:_}),l=0;l<this.buildingList[_0x1dda("0x0")];l++)(f=this.buildingList[l]).o3d_&&1!=f[_0x1dda("0x180")].scale.y&&(this[_0x1dda("0x97b")]++,new(esmap.TWEEN[_0x1dda("0x18e")])(f.o3d_[_0x1dda("0x1d7")]).to({y:1},1e3)[_0x1dda("0x18f")](esmap.TWEEN[_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")])[_0x1dda("0x162")]((function(){}))[_0x1dda("0x192")]((function(){u._buildingAnimating--})).start());return 0===this[_0x1dda("0x633")][_0x1dda("0x0")]&&this[_0x1dda("0xda")]("closeAllBuildings"),d.abrupt(_0x1dda("0x24f"),!0);case 41:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return R[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xa1b"),value:function(d){var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]&&arguments[1]?d:this[_0x1dda("0x29e")](d),a=this[_0x1dda("0x12b")](0)[_0x1dda("0x22c")];return a[_0x1dda("0x8ce")](),a.frustum[_0x1dda("0x8d7")](x)}},{key:_0x1dda("0xa1c"),value:function(){for(;this[_0x1dda("0x633")][_0x1dda("0x0")]>0;){var d=this.buildingList.shift();this.closeBuildingById(d.id)}}},{key:"zoomLevelTo",value:function(d){var x=this;typeof d!=_0x1dda("0x177")&&typeof d!=_0x1dda("0xe")||(d={value:1*d});var a=(d=(0,r[_0x1dda("0xd")])({value:0,time:1,emitError:!1,onComplete:null},d))[_0x1dda("0xd8")],_=this[_0x1dda("0x2ea")];P&&(P[_0x1dda("0x18d")](),P=null),P=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])({value:_}).to({value:a},1e3*d[_0x1dda("0x233")])[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")][_0x1dda("0x194")])[_0x1dda("0x162")]((function(d){x[_0x1dda("0x2ea")]=d.value})).onComplete((function(){d.onComplete&&d.onComplete(),P=null}))[_0x1dda("0x21c")]()}},{key:_0x1dda("0xa1d"),value:function(){var d=this;d.lastSelectLineStore[_0x1dda("0xd1")]((function(x){d[_0x1dda("0xa1e")](x,!1)})),d[_0x1dda("0x17f")].length=0}},{key:_0x1dda("0xa1e"),value:function(d,x,a){var _=this;null==x&&(x=!0),x&&!a&&(!_.options[_0x1dda("0xa1f")]&&_[_0x1dda("0xa1d")](),_[_0x1dda("0x17f")].push(d));var e=d[_0x1dda("0xe6")][0];if(d.type==_0x1dda("0x182")&&(e=d),e&&e.material){if(0==x)return e.userData[_0x1dda("0xa20")]?(e[_0x1dda("0xe9")]=e[_0x1dda("0x153")].originalMat,e.userData.originalMat=null):e[_0x1dda("0x9f4")]?e[_0x1dda("0x138")]=e[_0x1dda("0x153")][_0x1dda("0x90f")]:e[_0x1dda("0xe9")][_0x1dda("0x138")]=e[_0x1dda("0xe9")][_0x1dda("0x153")][_0x1dda("0x90f")]?e[_0x1dda("0xe9")][_0x1dda("0x153")][_0x1dda("0x90f")]:e[_0x1dda("0x153")].originalColor,void(e.userData[_0x1dda("0x9f5")]=!1);e[_0x1dda("0x153")][_0x1dda("0x9a7")]&&(e[_0x1dda("0x153")][_0x1dda("0xa20")]=e.material,e.material=e[_0x1dda("0xe9")].clone()),e[_0x1dda("0x9f4")]?(e[_0x1dda("0x153")][_0x1dda("0x90f")]=e[_0x1dda("0x138")],e[_0x1dda("0x138")]=_[_0x1dda("0x132")][_0x1dda("0xa21")]):(e[_0x1dda("0x153")][_0x1dda("0x90f")]=e[_0x1dda("0xe9")][_0x1dda("0x138")][_0x1dda("0x116")](),e.userData[_0x1dda("0xa20")]||(e[_0x1dda("0x153")][_0x1dda("0xa20")]=e[_0x1dda("0xe9")]),e[_0x1dda("0xe9")]=e[_0x1dda("0xe9")].clone(),e[_0x1dda("0xe9")].color=new(THREE[_0x1dda("0x139")])(_[_0x1dda("0x132")][_0x1dda("0xa21")])),e[_0x1dda("0x153")].isSelected=!0}}},{key:_0x1dda("0xa22"),value:function(){for(var d=0;d<this.animatque[_0x1dda("0x0")];d++)this[_0x1dda("0x68")](_0x1dda("0x152"),this[_0x1dda("0x933")][d]);this.animatque=[]}},{key:_0x1dda("0xa23"),value:function(){return this[_0x1dda("0xb3")][_0x1dda("0x9ed")]}},{key:_0x1dda("0x198"),value:function(d){var x=d.from,a=void 0===x?this.DEFAULT_COORDSYSTEM:x,_=d.to,e=void 0===_?this.coordSystem:_,t=d.coord;if(a==e)return t;if(e===_0x1dda("0xa24")){if(esmap[_0x1dda("0x65f")]){var i=esmap[_0x1dda("0x86")].Mercator2lonLat(t.x,t.y),n=20037508.342789244*esmap[_0x1dda("0x660")];i[1]<70&&(t.y=n/180*(90+i[1]))}return t}if(a===_0x1dda("0xa24")){if(esmap[_0x1dda("0x65f")]){var s=esmap[_0x1dda("0x86")][_0x1dda("0x661")](t.x,t.y);t.x=s[0],t.y=s[1]}return t}var o,c=(0,r[_0x1dda("0xd")])({},t),l=esmap[_0x1dda("0x86")][_0x1dda("0xeb")](c.x,c.y);o=h.default.transform(l,h[_0x1dda("0xd")][a],h[_0x1dda("0xd")][e]);var f=esmap[_0x1dda("0x86")][_0x1dda("0xef")](o[0],o[1]);return c.x=f[0],c.y=f[1],c}},{key:_0x1dda("0xa25"),value:function(d){return this[_0x1dda("0x35")][_0x1dda("0x19b")]!=this[_0x1dda("0x199")]?this[_0x1dda("0x198")]({from:this[_0x1dda("0x35")].userCrs,to:this[_0x1dda("0x199")],coord:d}):d}},{key:_0x1dda("0x512"),value:function(d){var x=d[_0x1dda("0x285")],a=d.to,_=d[_0x1dda("0xa26")],e=d[_0x1dda("0xa27")],t=void 0!==e&&e;if(x==a)return _;var i=[];for(var n in _)if(isNaN(_[n].x)||isNaN(_[n].y))console[_0x1dda("0x1eb")](_0x1dda("0xa28"),_[n]);else{var s=(0,r.default)({},_[n]);t&&(s.x=-s.x);var o=this[_0x1dda("0x198")]({from:x,to:a,coord:s});s.x=o.x,s.y=o.y,t&&(s.x=-s.x),i[_0x1dda("0x10")](s)}return i}},{key:_0x1dda("0x29e"),value:function(d){var x=this.transformCoord({from:this.options[_0x1dda("0x19b")],to:this.coordSystem,coord:d});return this._coordMapSceneToThree(x)}},{key:_0x1dda("0x19c"),value:function(d){if(esmap[_0x1dda("0x65f")]&&!esmap[_0x1dda("0x86")][_0x1dda("0x662")](d)){var x=esmap.ESMapUtil[_0x1dda("0xeb")](d.x,d.y),a=20037508.342789244*esmap[_0x1dda("0x660")];d.y=a/180*(90+x[1])}var _=d.z||d[_0x1dda("0x16d")]||0,e=this.mapScene,t={x:d.x,y:d.y};return t.x=-(t.x+e[_0x1dda("0x2a8")]),t.y=t.y-e[_0x1dda("0x2a9")],new THREE.Vector3(t.x,_,t.y)}},{key:_0x1dda("0x1db"),value:function(d){var x={x:this[_0x1dda("0xa29")].x-d.x,y:d.z+this[_0x1dda("0xa29")].y,z:d.y||0};return this[_0x1dda("0x198")]({from:this[_0x1dda("0x199")],to:this[_0x1dda("0x35")].userCrs,coord:x})}},{key:_0x1dda("0x202"),value:function(d){return{x:this[_0x1dda("0xa29")].x-d.x,y:d.z+this[_0x1dda("0xa29")].y,z:d.y||0}}},{key:_0x1dda("0xa2a"),value:function(d){var x=this;esmap[_0x1dda("0x33")][_0x1dda("0x936")]=!1;var _=this[_0x1dda("0x19f")][_0x1dda("0x352")][_0x1dda("0x4a7")],e=this[_0x1dda("0x19f")][_0x1dda("0x352")][_0x1dda("0x4e8")];x[_0x1dda("0x19f")][_0x1dda("0x998")](_,e),x[M[_0x1dda("0xc8")]][_0x1dda("0x4e1")](_,e),x.scaler_[_0x1dda("0xa2b")]();a(154);var t=this[_0x1dda("0x279")][_0x1dda("0xa2c")](_0x1dda("0xa2d"));Object[_0x1dda("0xa")](x,"__mbs",{value:t[_0x1dda("0x55d")],writable:!1,enumerable:!1,configurable:!0}),x[_0x1dda("0xda")]("preLoadComplete",{}),window.esmap[_0x1dda("0xa2e")]||(x[_0x1dda("0x920")]=!0,x[_0x1dda("0x279")][_0x1dda("0xa2f")]()),this.on(_0x1dda("0x152"),(function(){x.checkTileView()})),this.on(_0x1dda("0x1ee"),(function(){var d=x[_0x1dda("0x19f")][_0x1dda("0x2ea")];d<=x[_0x1dda("0x35")].tileShowLevel?x.closeAllBuildings():d<=x.options[_0x1dda("0xa30")]&&x[_0x1dda("0x9fb")]&&0!=x[_0x1dda("0x9fb")].popDiv_[_0x1dda("0x120")][_0x1dda("0x11d")]&&(x[_0x1dda("0x9fb")][_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=0),x[_0x1dda("0x92c")].updateText()}));var i=this[_0x1dda("0x279")]._gp("skNl");if(i)if(i._cm()){var n=M._lgtk_;if((0,S[_0x1dda("0x10b")])())x[M[_0x1dda("0xc8")]][_0x1dda("0x4dc")].userData[_0x1dda("0x169")]=!1;else if(x[_0x1dda("0x35")][n]&&t[n]){esmap[_0x1dda("0x86")][_0x1dda("0x87")](_0x1dda("0xa32")+t[_0x1dda("0x570")]+x[_0x1dda("0x35")][n])===t[n]&&(x[M._ztl_][_0x1dda("0x4dc")][_0x1dda("0x153")].visible=!1)}if(esmap[_0x1dda("0x86")].encode64(t[_0x1dda("0x556")]+""+t[_0x1dda("0x558")]+t[_0x1dda("0x559")]+t[_0x1dda("0x55b")]+t[M[_0x1dda("0xbc")]]+t[n]+ +t[_0x1dda("0x55d")]+t[_0x1dda("0x55e")]+_0x1dda("0xa33")+t.o1+t.ul)===t[M[_0x1dda("0xb9")]]){if(!x[_0x1dda("0xa34")]&&t[M._tk_]!=_0x1dda("0xa35"))if(esmap[_0x1dda("0x86")].encode64(t[_0x1dda("0x3a0")]+""+x[_0x1dda("0x35")][M[_0x1dda("0xbc")]])!=t[M[_0x1dda("0xbc")]]&&3==x[_0x1dda("0x35")].tid)return void x[_0x1dda("0x279")][_0x1dda("0xa31")](0)}else x[_0x1dda("0x279")]._sdu(0)}else x.tileService[_0x1dda("0xa31")](0)}},{key:"updateTileView",value:function(){if(this[_0x1dda("0x36")]===esmap.MapMode.City&&(!this[_0x1dda("0x7d")]._disableTileUpdate&&!(this[_0x1dda("0x2ea")]<=this.options[_0x1dda("0xa30")])&&this[_0x1dda("0x7d")].tileService[_0x1dda("0xa36")]())){(0==this[_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0xa37")][_0x1dda("0x0")]||this[_0x1dda("0x7d")][_0x1dda("0xa38")])&&this.mapService.tileService[_0x1dda("0xa2f")]();for(var d=0;d<this.mapScene.tileScene_[_0x1dda("0xe6")][_0x1dda("0x0")];d++){var x=this[_0x1dda("0xb3")].tileScene_[_0x1dda("0xe6")][d][_0x1dda("0xe5")];x[_0x1dda("0x180")]&&(x.o3d_.visible&&x.modelLoadManager[_0x1dda("0x967")].length>0&&(x.modelLoadManager[_0x1dda("0x968")]=!1))}}}},{key:_0x1dda("0xa39"),value:function(d){for(var x=this,a=0;a<x[_0x1dda("0xb3")][_0x1dda("0xa15")][_0x1dda("0xe6")].length;a++){var _=x[_0x1dda("0xb3")][_0x1dda("0xa15")][_0x1dda("0xe6")][a][_0x1dda("0xe5")];if(_[_0x1dda("0x96a")]&&_.id==d){var e=x[_0x1dda("0xb3")][_0x1dda("0xa15")].children[a];e[_0x1dda("0x169")]=!1,e[_0x1dda("0xfe")][_0x1dda("0x181")](e);for(var t=0;t<x[_0x1dda("0x633")][_0x1dda("0x0")];t++)if(x[_0x1dda("0x633")][t].id==e[_0x1dda("0xe5")].id){x.buildingList.splice(t,1);break}e[_0x1dda("0xe5")][_0x1dda("0x1e3")]==esmap[_0x1dda("0xa3a")][_0x1dda("0xa3b")]&&x[_0x1dda("0x279")][_0x1dda("0x9ea")](e.datas_);break}}}},{key:_0x1dda("0xa3c"),value:function(){for(var d=this,x=this[_0x1dda("0x202")](this.controls[_0x1dda("0x227")],!0),a=[],_=0;_<d[_0x1dda("0xb3")].tileScene_[_0x1dda("0xe6")][_0x1dda("0x0")];_++){var e=d.mapScene[_0x1dda("0x3c7")][_0x1dda("0xe6")][_];if(e[_0x1dda("0xe5")][_0x1dda("0x122")]){var t=e[_0x1dda("0xe5")][_0x1dda("0x122")],i=e.datas_.id,n=(0,g[_0x1dda("0x100")])({x:t[0],y:t[1]},x);a.push({dis:n,id:i,index:_})}}a=a[_0x1dda("0x3ef")]((function(d,x){return x[_0x1dda("0x64b")]-d[_0x1dda("0x64b")]}));for(var r=0;r<a[_0x1dda("0x0")];r++){var s=d[_0x1dda("0xb3")].tileScene_[_0x1dda("0xe6")].length,o=a[r];if(!(d.mapService[_0x1dda("0x279")][_0x1dda("0x38e")][_0x1dda("0xaf")](o.id)>-1)){if(s<=d[_0x1dda("0x35")].maximumTiles)break;for(var c=0;c<d.mapScene[_0x1dda("0x3c7")].children[_0x1dda("0x0")];c++){var l=d.mapScene[_0x1dda("0x3c7")][_0x1dda("0xe6")][c];if(l[_0x1dda("0xe5")].id==o.id){l[_0x1dda("0x169")]=!1,d[_0x1dda("0xb3")][_0x1dda("0x3c7")].remove(l),c--,a.splice(r,1),r--,d[_0x1dda("0x7d")][_0x1dda("0x279")].cachedTiles[_0x1dda("0xaf")](l[_0x1dda("0xe5")])<0&&d[_0x1dda("0x279")].addToCache(l[_0x1dda("0xe5")]),d[_0x1dda("0xda")]("unloadTile",{bid:l.datas_.id});break}}}}}},{key:_0x1dda("0xa3d"),value:function(){for(var d=this,x=0;x<d[_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0xe6")][_0x1dda("0x0")];x++){var a=d[_0x1dda("0xb3")].tileScene_[_0x1dda("0xe6")][x][_0x1dda("0xe5")];if(a)for(var _={x:a[_0x1dda("0x122")][0],y:a[_0x1dda("0x122")][1]},e=0;e<d.mapService[_0x1dda("0xa3e")][_0x1dda("0x0")];e++){if((0,g[_0x1dda("0x100")])(d.mapService[_0x1dda("0xa3e")][e],_)<=2*d[_0x1dda("0x7d")][_0x1dda("0xa3f")]){new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(a[_0x1dda("0x180")][_0x1dda("0x1d7")]).to({y:.15},1e3)[_0x1dda("0x18f")](esmap.TWEEN.Easing[_0x1dda("0x191")][_0x1dda("0x194")]).start();break}}}}},{key:"checkTileView",value:(b=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(){var x,a,_,e,i,n,r,s;return t.default.wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:if(!this[_0x1dda("0x7d")][_0x1dda("0x9e8")]){d.next=2;break}return d.abrupt(_0x1dda("0x24f"));case 2:if(this[_0x1dda("0x920")]&&!this[_0x1dda("0x7d")][_0x1dda("0xa38")]){d[_0x1dda("0x24c")]=4;break}return d.abrupt("return");case 4:if(!((x=this)[_0x1dda("0x2ea")]<=x[_0x1dda("0x35")][_0x1dda("0xa30")])){d[_0x1dda("0x24c")]=11;break}if(!(x[_0x1dda("0x920")]&&x[_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0xe6")].length>0)){d[_0x1dda("0x24c")]=9;break}return x[_0x1dda("0xb3")].tileScene_[_0x1dda("0x169")]&&(x[_0x1dda("0xb3")].tileScene_[_0x1dda("0x169")]=!1),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 9:d[_0x1dda("0x24c")]=12;break;case 11:x[_0x1dda("0xb3")].tileScene_[_0x1dda("0x169")]||(x[_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0x169")]=!0);case 12:if(!(x[_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0xa37")][_0x1dda("0x0")]>0)){d[_0x1dda("0x24c")]=45;break}x[_0x1dda("0xa40")]||(x[_0x1dda("0xa40")]=!0),a=x[_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0xa37")][_0x1dda("0x4")](),_=!1,e=null,i=0;case 18:if(!(i<x[_0x1dda("0xb3")][_0x1dda("0x3c7")].children[_0x1dda("0x0")])){d[_0x1dda("0x24c")]=27;break}if((n=x[_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0xe6")][i])[_0x1dda("0xe5")].id!=a){d[_0x1dda("0x24c")]=24;break}return _=!0,e=n,d[_0x1dda("0x24e")](_0x1dda("0xa41"),27);case 24:i++,d[_0x1dda("0x24c")]=18;break;case 27:if(_){d[_0x1dda("0x24c")]=42;break}r=x[_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0xa08")],s=0;case 30:if(!(s<r[_0x1dda("0x0")])){d[_0x1dda("0x24c")]=42;break}if(r[s].id!=a){d[_0x1dda("0x24c")]=39;break}return x[_0x1dda("0xb3")][_0x1dda("0x3c7")].add(r[s][_0x1dda("0x180")]),r[s].o3d_[_0x1dda("0x169")]||(r[s][_0x1dda("0x180")][_0x1dda("0x169")]=!0),r[s][_0x1dda("0x22c")][_0x1dda("0x968")]=!1,x[_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0x980")](),x[_0x1dda("0x7d")][_0x1dda("0x279")].cachedTiles[_0x1dda("0x6")](s,1),_=!0,d[_0x1dda("0x24e")](_0x1dda("0xa41"),42);case 39:s++,d[_0x1dda("0x24c")]=30;break;case 42:!_&&x[_0x1dda("0x7d")].tileService[_0x1dda("0xa42")].indexOf(a)<0?(x[_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0xa42")].push(a),x.mapService[_0x1dda("0x279")].loadTile(a)):e&&!e[_0x1dda("0x169")]&&(e[_0x1dda("0x169")]=!0),d[_0x1dda("0x24c")]=46;break;case 45:x[_0x1dda("0xa40")]&&(x[_0x1dda("0xa40")]=!1);case 46:x.mapScene[_0x1dda("0x3c7")].children.length>x.options.maximumTiles&&0==x[_0x1dda("0x7d")].tileService.solvingList[_0x1dda("0x0")]&&0==x[_0x1dda("0x7d")][_0x1dda("0x279")].currentView[_0x1dda("0x0")]&&x[_0x1dda("0xa3c")]();case 47:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return b[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xa43"),value:function(){var d=this[_0x1dda("0x19f")];if(d[_0x1dda("0x122")]){var x=d[_0x1dda("0x2af")]();if(x&&d.panLimit){var a=d[_0x1dda("0x35b")],_=d[_0x1dda("0xa44")],e=void 0;if(e=_?{minx:_.x-a,miny:_.y-a,maxx:_.x+a,maxy:_.y+a}:{minx:this[_0x1dda("0x556")]-a,miny:this[_0x1dda("0x558")]-a,maxx:this[_0x1dda("0x559")]+a,maxy:this.maxY+a},x.x<e.minx||x.x>e[_0x1dda("0xec")]||x.y<e[_0x1dda("0xf1")]||x.y>e.maxy){if(!d[_0x1dda("0xa45")])return;this[_0x1dda("0x1ff")]({x:d[_0x1dda("0xa45")].x,y:d._lastValidCoord.y,time:0})}else d._lastValidCoord=x}}}},{key:_0x1dda("0x927"),value:function(){var d=this;this[_0x1dda("0xa43")]();var x=this[_0x1dda("0x19f")][_0x1dda("0x2ea")];if(null===O)O=x;else{var a=O[_0x1dda("0x60b")](3),_=x[_0x1dda("0x60b")](3);a!=_&&this[_0x1dda("0xda")]("zoomed",1*_),O=x}if("3D"==this[_0x1dda("0x928")]&&Math.PI,this[_0x1dda("0xda")](_0x1dda("0x17c")),this[_0x1dda("0x929")]=!0,"3D"!=this[_0x1dda("0x928")]&&(this[_0x1dda("0x19f")][_0x1dda("0x614")][_0x1dda("0xfa")].x=this[_0x1dda("0x19f")].cameraTop.position.x,this[_0x1dda("0x19f")][_0x1dda("0x614")][_0x1dda("0xfa")].z=this[_0x1dda("0x19f")].cameraTop[_0x1dda("0xfa")].z,this[_0x1dda("0x92c")][_0x1dda("0xa2b")]()),this[_0x1dda("0x36")]==esmap.MapMode.City&&this[_0x1dda("0x35")].autoOpenBuilding&&!esmap[_0x1dda("0x33")][_0x1dda("0x936")]&&!esmap[_0x1dda("0x33")][_0x1dda("0xa46")]){var e=this.mapView[_0x1dda("0xa47")](),t=this.tileService[_0x1dda("0x638")];if(this[_0x1dda("0x2ea")]>=this[_0x1dda("0x35")][_0x1dda("0xa48")]){var i=null,n=null;for(var r in t){var s=t[r];if(!s[_0x1dda("0xa49")]&&(!s.locked&&s.polygon)){var o=esmap[_0x1dda("0x86")][_0x1dda("0x39e")](e,s[_0x1dda("0x642")]);s.loaded?o||n||(n=s):o&&!i&&(i=s[_0x1dda("0x12d")],s[_0x1dda("0xa19")]=!0)}}i&&n&&(this.closeBuildingById(n[_0x1dda("0x12d")]),n[_0x1dda("0xa19")]=!1),i&&this[_0x1dda("0x956")](i)}else for(var c in t){var l=t[c];l.hold&&(l[_0x1dda("0xa49")]=!1),l[_0x1dda("0x406")]||l.loaded&&(this[_0x1dda("0xa10")](l.bid),l[_0x1dda("0xa19")]=!1)}}H&&window[_0x1dda("0x22e")](H),H=setTimeout((function(){d[_0x1dda("0xda")](_0x1dda("0x38c")),window[_0x1dda("0x22e")](H),H=null}),300);for(var f=this[_0x1dda("0x226")][_0x1dda("0xa4a")](),u=L,h=0;h<this.scaleLevels_[_0x1dda("0x0")];h++)if(f<this.scaleLevels_[h])return void((L=h-1)!=u&&this[_0x1dda("0xda")](_0x1dda("0xa4b"),{level:L,rate:f}))}},{key:"onUpdating",value:function(){this.__ob__&&!B&&(B=!0,w.MessagePoster[_0x1dda("0xb2")]({msg:_0x1dda("0xa4c"),level:_0x1dda("0x1eb")})),this.mapScene[_0x1dda("0xa4d")](this.mapView)}},{key:_0x1dda("0xa4e"),value:function(d){var x=d.focusFnum_,a=d[_0x1dda("0xa17")],e=d[_0x1dda("0x35")][_0x1dda("0x122")]||d.center,t=this[_0x1dda("0x29e")](e),i=this;if(d.box3_&&a.floors[x-1]){var n,r=d[_0x1dda("0xa4f")][_0x1dda("0x6a9")](new THREE.Vector3),s=a[_0x1dda("0xa50")][x-1][_0x1dda("0xa51")],o=.75*r.x+s,c=e?new(THREE[_0x1dda("0x11c")])(t.x,s,t.z):new(THREE[_0x1dda("0x11c")])(0,s,0);n=new(THREE[_0x1dda("0x11c")])(r.x,o,-r.x),this[_0x1dda("0x19f")][_0x1dda("0x614")].position[_0x1dda("0x20e")](n),this[_0x1dda("0xa52")]=c,this[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x20e")](c),i.minScaleLevel_=i[_0x1dda("0x35")][_0x1dda("0x366")],i[_0x1dda("0x9da")]=i[_0x1dda("0x35")][_0x1dda("0xa53")]?i.options[_0x1dda("0xa53")]>=i[_0x1dda("0x930")][_0x1dda("0x0")]?i[_0x1dda("0x930")][_0x1dda("0x0")]-1:i.options[_0x1dda("0xa53")]:i[_0x1dda("0x930")].length-1;var l=new(THREE[_0x1dda("0x11c")]),f=this.controls.object.position[_0x1dda("0x117")](l);if(this[_0x1dda("0x226")][_0x1dda("0x9ca")]=f,this[_0x1dda("0x226")].initTop_=esmap[_0x1dda("0x86")][_0x1dda("0xa54")](this[_0x1dda("0x19f")][_0x1dda("0x614")],this[_0x1dda("0x226")],f)[_0x1dda("0x323")],i.controls[_0x1dda("0x9db")](i.scaleLevels_[i.minScaleLevel_],i[_0x1dda("0x930")][i[_0x1dda("0x9da")]],!0),this.options[_0x1dda("0x35a")]){var u=this[_0x1dda("0x35")][_0x1dda("0x35a")],h=0;switch(typeof u===_0x1dda("0x8")?_0x1dda("0x8"):(0,_.default)(u)){case"string":switch(u){case"n":h=Math.PI;break;case"s":default:h=0;break;case"w":h=-Math.PI/2;break;case"e":h=Math.PI/2;break;case"ne":h=.75*Math.PI;break;case"nw":h=1.25*Math.PI;break;case"se":h=Math.PI/4;break;case"sw":h=-Math.PI/4}this[_0x1dda("0x35")].viewMode,esmap[_0x1dda("0x5e0")][_0x1dda("0xa55")],this[_0x1dda("0x226")][_0x1dda("0x152")]({forceTheta:h});break;case"number":this[_0x1dda("0x226")][_0x1dda("0x152")]({forceTheta:u*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")]});break;case _0x1dda("0x1b"):var g=this.options[_0x1dda("0x35a")].target[_0x1dda("0x2a")](","),b=this.options[_0x1dda("0x35a")][_0x1dda("0xfa")].split(","),v=new THREE.Vector3(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])),p=new(THREE[_0x1dda("0x11c")])(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]));return this[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x20e")](v),this[_0x1dda("0x226")][_0x1dda("0x1b")][_0x1dda("0xfa")][_0x1dda("0x20e")](p),this[_0x1dda("0x226")][_0x1dda("0x152")](),!0}}if(this[_0x1dda("0x35")].hasOwnProperty("defaultAngle")&&null!=this[_0x1dda("0x35")].defaultAngle){var m=(180-this[_0x1dda("0x35")][_0x1dda("0x35c")])*Math.PI/180;this.controls[_0x1dda("0x152")]({forceTheta:m})}else if(!this.options[_0x1dda("0x35a")]){var A=Math.PI;this[_0x1dda("0x226")][_0x1dda("0x152")]({forceTheta:A})}return null!=this[_0x1dda("0x35")][_0x1dda("0xa56")]&&(this.tiltAngle=this.options[_0x1dda("0xa56")]),this[_0x1dda("0x69d")]=0,!1}}},{key:"sl",value:function(){for(var d=this[_0x1dda("0x19f")].sceneOrtho[_0x1dda("0xe6")],x=null,a=0;a<d.length;a++)d[a][_0x1dda("0x153")][_0x1dda("0x169")]&&(x=d[a]);if(!x)return 9568297;for(var _=x[_0x1dda("0xe9")].map[_0x1dda("0x2df")]?x[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x2df")][_0x1dda("0x4e5")]:"",e=_[_0x1dda("0x0")],t=0,i=0;i<e;i++)t+=_[i][_0x1dda("0x2d")]();return parseInt(t,16)}},{key:_0x1dda("0xa57"),value:function(d){this[_0x1dda("0xb3")][_0x1dda("0xa58")].add(d[_0x1dda("0x180")]),this[_0x1dda("0x17d")][_0x1dda("0x3ae")](d[_0x1dda("0x180")])}},{key:_0x1dda("0xa59"),value:function(d){d[_0x1dda("0xe8")]()}},{key:"getModelByName",value:function(d){return this[_0x1dda("0xb3")][_0x1dda("0xa06")]()[_0x1dda("0x1ea")](d)}},{key:_0x1dda("0xa5a"),value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{bid:0,fnum:1},x=this.mapView.w_/2,a=this[_0x1dda("0x19f")].h_/2,_=void 0,e=this[_0x1dda("0x12b")](d.bid);e?_=e[_0x1dda("0x29d")](d.fnum):(e=this[_0x1dda("0x1e1")](d[_0x1dda("0x12d")]),_=0);var t=this[_0x1dda("0xa5b")](x,a,_);return t.z+=1,t}},{key:"coordScreenToScene",value:function(d,x){var a=arguments[_0x1dda("0x0")]>2&&void 0!==arguments[2]?arguments[2]:0;if(!this[_0x1dda("0x4d1")])return null;var _,e=this[_0x1dda("0x22b")]||this[_0x1dda("0x19f")][_0x1dda("0x614")];_=new(THREE[_0x1dda("0x11c")])(d/this.mapView.w_*2-1,1-x/this[_0x1dda("0x19f")].h_*2,.5);var t=new THREE.Raycaster;t[_0x1dda("0xa5c")](_,e),this.plane_[_0x1dda("0xfa")].y=a,this[_0x1dda("0x4d1")][_0x1dda("0x6f5")]();var i=t[_0x1dda("0xa5d")](this[_0x1dda("0x4d1")]);return i.length>0?i[0][_0x1dda("0x769")]:null}},{key:_0x1dda("0xa5b"),value:function(d,x){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=this[_0x1dda("0xa5e")](d,x,a);return _?this[_0x1dda("0x1db")](_):null}},{key:_0x1dda("0xa5f"),value:function(d,x,a){var _=this[_0x1dda("0x22b")],e=this[_0x1dda("0x29e")]({x:d,y:x,z:a||0});e[_0x1dda("0xa60")](_);var t=this[_0x1dda("0x19f")][_0x1dda("0xa61")],i=this[_0x1dda("0x19f")][_0x1dda("0xa62")];return{x:e.x*t+t,y:i-e.y*i}}},{key:_0x1dda("0xa63"),value:function(d){var x=new(THREE[_0x1dda("0x11c")]);x.setFromMatrixPosition(d.matrixWorld),x[_0x1dda("0xa60")](this[_0x1dda("0x22b")]);var a=x.x*this[_0x1dda("0x19f")][_0x1dda("0xa61")],_=x.y*this[_0x1dda("0x19f")][_0x1dda("0xa62")];return{x:a+this[_0x1dda("0x19f")][_0x1dda("0xa61")],y:-_+this[_0x1dda("0x19f")][_0x1dda("0xa62")]}}},{key:_0x1dda("0xa64"),value:function(d){var x=[this[_0x1dda("0xa23")]()][_0x1dda("0x317")](this[_0x1dda("0x633")]);for(var a in x){var _=x[a][_0x1dda("0x629")];for(var e in _)for(var t=_[e][_0x1dda("0xe6")],i=0;i<t[_0x1dda("0x0")];i++)if(t[i][_0x1dda("0xfc")]==_0x1dda("0xa65")&&t[i].userData.id===d)return t[i][_0x1dda("0xe5")]}return null}},{key:_0x1dda("0xa66"),value:function(d){var x=[this[_0x1dda("0xa23")]()].concat(this[_0x1dda("0x633")]);for(var a in x){var _=x[a][_0x1dda("0x629")];for(var e in _)for(var t=_[e][_0x1dda("0xe6")],i=0;i<t[_0x1dda("0x0")];i++)if(t[i][_0x1dda("0xfc")]==_0x1dda("0xa65")&&t[i].userData.id===d)return t[i][_0x1dda("0xe5")].close(),!0}}},{key:_0x1dda("0xa67"),value:function(){var d=[this[_0x1dda("0xa23")]()][_0x1dda("0x317")](this[_0x1dda("0x633")]);for(var x in d){var a=d[x][_0x1dda("0x629")];for(var _ in a)for(var e=a[_].children,t=0;t<e.length;t++)e[t][_0x1dda("0xfc")]==_0x1dda("0xa65")&&(e[t][_0x1dda("0xe5")].close(),t--)}}},{key:_0x1dda("0xa68"),value:function(){this[_0x1dda("0xda")](_0x1dda("0xa68"))}},{key:_0x1dda("0xa69"),value:function(){this.fire(_0x1dda("0xa69"))}},{key:"forceLoadTiles",value:function(d){var x=this,a=this[_0x1dda("0x279")].tileGrids[_0x1dda("0x0")],_=0;this[_0x1dda("0x35")][_0x1dda("0xa6a")]=d[_0x1dda("0x177")],this[_0x1dda("0x279")][_0x1dda("0xa6b")]=(Math[_0x1dda("0x1dd")](Math[_0x1dda("0x103")](this[_0x1dda("0x35")].maximumTiles))-1)/2,this.tileService[_0x1dda("0xa6c")](d.number),this.on("tileUpdated",(function(){x[_0x1dda("0x279")][_0x1dda("0xa6d")]&&x.tileService.secondViews[_0x1dda("0x0")]>0?x[_0x1dda("0x279")][_0x1dda("0xa6e")]():d[_0x1dda("0x192")]&&d[_0x1dda("0x192")]()})),this.on("tileLoadComplete",(function(){var x=(_+=1)/a;d.onProgress&&d[_0x1dda("0xa6f")](x)}))}},{key:"rotateTo",value:function(d){var x=this;_0x1dda("0x177")==typeof d&&(d={angle:d});var a,_=(0,g[_0x1dda("0x13")])(d,_0x1dda("0x233"),_0x1dda("0x18c"),.3),e=x[_0x1dda("0x1fe")],t=function(d,x){var a=x-d;return Math.abs(a)>180&&(a=-1*(0,s[_0x1dda("0xd")])(a)*360+a),a}(e,d.angle);x[_0x1dda("0xa70")]&&x._rotateToID[_0x1dda("0x18d")](),x._rotateToID=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])({value:0}).to({value:1},1e3*_)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")]).onUpdate((function(d){d=d[_0x1dda("0xd8")],(a=e+t*d)<=0?a=360+a:a>=360&&(a-=360),x[_0x1dda("0x1fe")]=a})).onComplete((function(){d[_0x1dda("0x192")]&&d[_0x1dda("0x192")]()}))[_0x1dda("0x21c")]()}},{key:_0x1dda("0x94b"),set:function(d){var x=this;if(d){x.controls[_0x1dda("0x6b9")]=!1;var a=x[_0x1dda("0x22b")][_0x1dda("0xfa")].clone();x[_0x1dda("0x226")][_0x1dda("0x295")](),x.controls[_0x1dda("0x296")]();x.controls[_0x1dda("0xa71")]=a[_0x1dda("0x116")]().sub(x[_0x1dda("0x226")].target.clone())[_0x1dda("0x0")](),x[_0x1dda("0x60a")][_0x1dda("0x703")]=x[_0x1dda("0x1fe")]+90,x[_0x1dda("0x60a")][_0x1dda("0x702")]=-(90-x[_0x1dda("0x288")]),x[_0x1dda("0x60a")][_0x1dda("0x6b9")]=!0}else{var _=x[_0x1dda("0x22b")][_0x1dda("0xfa")][_0x1dda("0x116")](),e=x[_0x1dda("0x60a")][_0x1dda("0x227")][_0x1dda("0x116")]();x[_0x1dda("0x60a")][_0x1dda("0x6b9")]=!1,x[_0x1dda("0x226")][_0x1dda("0x6b9")]=!0,x[_0x1dda("0x1fe")]=x[_0x1dda("0x60a")][_0x1dda("0x703")]-90,x.tiltAngle=x.firstPersonControls[_0x1dda("0x702")]+90,x[_0x1dda("0x22b")][_0x1dda("0xfa")].copy(_);var t=e[_0x1dda("0x4cf")](_);t[_0x1dda("0x2cc")]();var i=_[_0x1dda("0x116")]()[_0x1dda("0xce")](t[_0x1dda("0x116")]()[_0x1dda("0x218")](x[_0x1dda("0x226")].targettocamera));x[_0x1dda("0x226")].target.copy(i),x[_0x1dda("0x22b")][_0x1dda("0x208")](i),x[_0x1dda("0x226")][_0x1dda("0x152")]()}},get:function(){return!(!this[_0x1dda("0x60a")]||!this.firstPersonControls[_0x1dda("0x6b9")])}},{key:_0x1dda("0x279"),get:function(){return this[_0x1dda("0x7d")][_0x1dda("0x279")]}},{key:_0x1dda("0xa04"),get:function(){return this.mapService[_0x1dda("0xa04")]}},{key:_0x1dda("0x21f"),get:function(){return this[_0x1dda("0xa72")]}},{key:_0x1dda("0xa73"),get:function(){return g[_0x1dda("0xa74")][_0x1dda("0xa75")]}},{key:_0x1dda("0xa76"),get:function(){return g[_0x1dda("0xa74")][_0x1dda("0xa77")]},set:function(d){d?g[_0x1dda("0xa74")][_0x1dda("0xa78")](this[_0x1dda("0x19f")][_0x1dda("0x352")]):g.FullScreen.cancel()}},{key:_0x1dda("0x36"),get:function(){return this[_0x1dda("0x35")].mode}},{key:_0x1dda("0xa79"),get:function(){for(var d=this[_0x1dda("0xb3")][_0x1dda("0xa15")][_0x1dda("0xe6")],x=[],a=0;a<d.length;a++)d[a][_0x1dda("0x169")]&&x[_0x1dda("0x10")](d[a].datas_);return x}},{key:_0x1dda("0xa7a"),set:function(d){d[_0x1dda("0x2")](_0x1dda("0x138"))&&(this.mapTheme.navigateStyle_[_0x1dda("0x138")]=d.color),d.hasOwnProperty("lineWidth")&&(this[_0x1dda("0x132")][_0x1dda("0x987")][_0x1dda("0x14e")]=d[_0x1dda("0x14e")]),d[_0x1dda("0x2")](_0x1dda("0x2ec"))&&(this[_0x1dda("0x132")][_0x1dda("0x987")][_0x1dda("0x2ec")]=d[_0x1dda("0x2ec")]),d[_0x1dda("0x2")](_0x1dda("0x2ec"))&&(this[_0x1dda("0x132")].navigateStyle_[_0x1dda("0x2ec")]=d.alpha),d[_0x1dda("0x2")](_0x1dda("0x5db"))&&d[_0x1dda("0x5db")].hasOwnProperty(_0x1dda("0xd2"))&&(this[_0x1dda("0x132")][_0x1dda("0x987")][_0x1dda("0x5db")][_0x1dda("0xd2")]=d[_0x1dda("0x5db")][_0x1dda("0xd2")]),d.hasOwnProperty("dash")&&d[_0x1dda("0x5db")][_0x1dda("0x2")]("gap")&&(this.mapTheme[_0x1dda("0x987")].dash[_0x1dda("0xa7b")]=d[_0x1dda("0x5db")][_0x1dda("0xa7b")])},get:function(){return this[_0x1dda("0x132")][_0x1dda("0x987")]}},{key:"minX",get:function(){return this[_0x1dda("0xb3")].minX_}},{key:_0x1dda("0x559"),get:function(){return this[_0x1dda("0xb3")][_0x1dda("0xa7c")]}},{key:_0x1dda("0x558"),get:function(){return this[_0x1dda("0xb3")][_0x1dda("0xa7d")]}},{key:"maxY",get:function(){return this[_0x1dda("0xb3")][_0x1dda("0xa7e")]}},{key:"scaleLevel",get:function(){return this[_0x1dda("0x226")][_0x1dda("0xa7f")]?this[_0x1dda("0x226")].getCurrentScaleLevel():24-this[_0x1dda("0x2ea")]},set:function(d){L=Math.ceil(d),null!=this[_0x1dda("0x930")][L]&&this[_0x1dda("0x226")][_0x1dda("0x9d7")]&&this.controls.setScaleLevelValue(this[_0x1dda("0x930")][L])}},{key:"minScaleLevel",get:function(){return this[_0x1dda("0x9d9")]},set:function(d){this[_0x1dda("0x9d8")](d,this[_0x1dda("0x9da")])}},{key:"maxScaleLevel",get:function(){return this[_0x1dda("0x9da")]},set:function(d){this.setScaleLevelLimit(this[_0x1dda("0x9d9")],d)}},{key:_0x1dda("0xa80"),get:function(){return this[_0x1dda("0x226")][_0x1dda("0xa4a")]()},set:function(d){this[_0x1dda("0x226")].setScaleLevelValue(d)}},{key:_0x1dda("0xa29"),get:function(){return{x:-this[_0x1dda("0x19f")][_0x1dda("0x122")].x,y:this[_0x1dda("0x19f")][_0x1dda("0x122")].y}}},{key:_0x1dda("0xa81"),get:function(){return this.mapView.getCenter()}},{key:"center",get:function(){return{x:-this[_0x1dda("0x19f")][_0x1dda("0x122")].x,y:this[_0x1dda("0x19f")][_0x1dda("0x122")].y}}},{key:_0x1dda("0xa82"),get:function(){return this.tileService[_0x1dda("0x638")]}},{key:_0x1dda("0xa83"),get:function(){return this[_0x1dda("0x226")].maxPolarAngle*THREE.Math.RAD2DEG},set:function(d){this[_0x1dda("0x226")][_0x1dda("0xa83")]=d*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")],this[_0x1dda("0xda")](_0x1dda("0xa84"),d)}},{key:_0x1dda("0x353"),set:function(d){var x=d,a=!1,e=!1;if(typeof d==_0x1dda("0xe")){if("2D"!=(d=d[_0x1dda("0xa85")]())&&"3D"!=d)return void _0x1dda("0xa86")}else{if("2D"!=d[_0x1dda("0x36")]&&"3D"!=d.mode)return void console[_0x1dda("0x1eb")]("viewMode must be 2D or 3D");a=d[_0x1dda("0x32")],e=d[_0x1dda("0xa87")]}if(!(a&&window[_0x1dda("0xdd")].tileMapInited&&"2D"==d[_0x1dda("0x36")]||d==this.viewMode))if(e||a||this.options[_0x1dda("0x1cc")]||1!=this[_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0x169")]||!window[_0x1dda("0xdd")][_0x1dda("0xa2e")]){if(!this.__viewModeAnimating){var t=null,i=null;if(_0x1dda("0x1b")==(typeof x===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(x))&&(t=x.time,i=x[_0x1dda("0x195")],x=x.mode),x!=this[_0x1dda("0x928")]){var n=this;n[_0x1dda("0xa89")]=!0;var r=this[_0x1dda("0x19f")][_0x1dda("0x614")],s=this[_0x1dda("0x19f")][_0x1dda("0xa8a")];"3D"==this[_0x1dda("0x928")]?(n[_0x1dda("0xa8b")]=n[_0x1dda("0x226")].getPolarAngle(),esmap[_0x1dda("0x190")][_0x1dda("0x95c")](null!=t?t:n[_0x1dda("0x35")][_0x1dda("0x35e")]?n[_0x1dda("0x35")].viewModeAnimateTime:0,(function(d){n[_0x1dda("0x226")][_0x1dda("0x152")]({forcePhi:n.__lastPhi-n[_0x1dda("0xa8b")]*d[_0x1dda("0xd8")]}),n[_0x1dda("0x929")]=!0}),null,(function(){n[_0x1dda("0x226")].object=n[_0x1dda("0x19f")][_0x1dda("0xa8a")],n.controls[_0x1dda("0x922")]=0,n[_0x1dda("0x226")].maxPolarAngle=0,n[_0x1dda("0x22b")]=n[_0x1dda("0x19f")][_0x1dda("0xa8a")],n[_0x1dda("0x226")][_0x1dda("0x152")]({forceTheta:n[_0x1dda("0x226")][_0x1dda("0x295")]()+Math.PI,notChangeCompass:!0}),n[_0x1dda("0x226")][_0x1dda("0x1b")]=n[_0x1dda("0x19f")][_0x1dda("0xa8a")],n[_0x1dda("0x226")][_0x1dda("0xa83")]=0,n[_0x1dda("0x19f")].cameraTop[_0x1dda("0xfa")][_0x1dda("0x20e")](r[_0x1dda("0xfa")]),n[_0x1dda("0x226")][_0x1dda("0x152")](),function(d){var a=esmap.ESMapUtil[_0x1dda("0xa54")](r,d[_0x1dda("0x226")]);s[_0x1dda("0x615")]=1,s[_0x1dda("0x325")]=-a[_0x1dda("0x326")],s[_0x1dda("0x326")]=a.right,s[_0x1dda("0x323")]=a[_0x1dda("0x323")],s[_0x1dda("0x324")]=-a[_0x1dda("0x323")],s[_0x1dda("0x8cf")](),x&&(d[_0x1dda("0x928")]=x),d[_0x1dda("0xa89")]=!1}(n),i&&i(n[_0x1dda("0x928")]),n[_0x1dda("0xda")]("viewModeChanged",n[_0x1dda("0x928")]),n[_0x1dda("0x226")][_0x1dda("0xa8c")]||(n[_0x1dda("0x226")][_0x1dda("0xa8c")]=n[_0x1dda("0x19f")].cameraTop[_0x1dda("0x323")]),n[_0x1dda("0x226")][_0x1dda("0x9ca")]||(n[_0x1dda("0x226")][_0x1dda("0x9ca")]=n[_0x1dda("0x226")][_0x1dda("0x227")].distanceTo(n.controls[_0x1dda("0x1b")][_0x1dda("0xfa")]))}))):(n.controls.object=n[_0x1dda("0x19f")][_0x1dda("0x614")],n[_0x1dda("0x226")].minPolarAngle=0,n[_0x1dda("0x226")][_0x1dda("0xa83")]=Math.PI/2.5,n.currentCamera=n.mapView.camera,n[_0x1dda("0x226")][_0x1dda("0x152")]({forceTheta:n[_0x1dda("0x226")][_0x1dda("0x295")](),notChangeCompass:!0}),esmap[_0x1dda("0x190")].fadeTo(null!=t?t:n[_0x1dda("0x35")].viewModeAnimateMode?n[_0x1dda("0x35")][_0x1dda("0xa8d")]:0,(function(d){n[_0x1dda("0x226")][_0x1dda("0x152")]({forcePhi:n[_0x1dda("0xa8b")]*d[_0x1dda("0xd8")]}),n.requireUpdateCollide_=!0}),null,(function(){i&&i(n[_0x1dda("0x928")]),n[_0x1dda("0xa89")]=!1})),function(d){var a=s[_0x1dda("0x615")],_=d[_0x1dda("0x226")].target[_0x1dda("0x117")](r.position),e=r[_0x1dda("0xfa")][_0x1dda("0x116")]()[_0x1dda("0x4cf")](d[_0x1dda("0x226")][_0x1dda("0x227")])[_0x1dda("0x2cc")]();r[_0x1dda("0xfa")].copy(d[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")]()[_0x1dda("0xce")](e[_0x1dda("0x218")](_/a))),r[_0x1dda("0x8cf")](),d[_0x1dda("0x928")]=x}(n),n[_0x1dda("0xda")]("viewModeChanged",n[_0x1dda("0x928")])),this.updateCountDown_=0}}}else{"2D"==d&&(this[_0x1dda("0xa88")]=this[_0x1dda("0x288")]);var o="2D"==d?.01:this[_0x1dda("0xa88")];this[_0x1dda("0x9d4")]({angle:o,callback:function(){}})}},get:function(){return this[_0x1dda("0x928")]}},{key:_0x1dda("0xa8e"),set:function(d){var x=this;if(d!=this[_0x1dda("0x132")][_0x1dda("0xa8f")]){if(x[_0x1dda("0x132")][_0x1dda("0xa8f")]=d,!x[_0x1dda("0xa90")])return;x[_0x1dda("0x132")][_0x1dda("0xa91")]=d;this[_0x1dda("0x35")].themeDataSrc;this[_0x1dda("0xa04")][_0x1dda("0xa92")]({themeID:d,buildingId:x.sceneId_})[_0x1dda("0x2ef")]((function(a){x.mapTheme[_0x1dda("0xa93")](a,d)}))}},get:function(){return this[_0x1dda("0x132")][_0x1dda("0xa8f")]}},{key:_0x1dda("0x8f4"),set:function(d){this.mapView.renderer[_0x1dda("0x6de")](parseInt(d))}},{key:"endTime",get:function(){var d=this.mapService[_0x1dda("0x7e")](M[_0x1dda("0xb8")]);return new Date(d)[_0x1dda("0x66b")]()>=2059?_0x1dda("0xa94"):esmap[_0x1dda("0x86")].timestampToTime(d)}},{key:_0x1dda("0xa95"),set:function(d){d!=this[_0x1dda("0x92c")].visible&&(this[_0x1dda("0x92c")].visible=d)},get:function(){return this[_0x1dda("0x92c")].visible}},{key:_0x1dda("0xa96"),get:function(){return Math[_0x1dda("0xf2")](this.mapView[_0x1dda("0x2ea")])}},{key:_0x1dda("0x2ea"),get:function(){return this[_0x1dda("0x19f")].zoomLevel},set:function(d){this[_0x1dda("0x19f")].zoomLevel=d}},{key:_0x1dda("0xa97"),get:function(){return this.mapView[_0x1dda("0xa98")][_0x1dda("0xa99")]},set:function(d){this.mapView.shadowLight[_0x1dda("0xa99")]=d}},{key:"id",set:function(d){this[_0x1dda("0xa90")]=d},get:function(){return this[_0x1dda("0xa90")]}},{key:_0x1dda("0x62e"),get:function(){for(var d=[],x=0;x<this[_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0xe6")].length;x++)d[_0x1dda("0x10")](this[_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0xe6")][x][_0x1dda("0xe5")]);return d}},{key:_0x1dda("0xa9a"),get:function(){return this[_0x1dda("0x7d")][_0x1dda("0x7e")](_0x1dda("0xa9b"))}},{key:_0x1dda("0xa9c"),get:function(){return this[_0x1dda("0x7d")].getState(_0x1dda("0xa9d"))}},{key:_0x1dda("0x288"),get:function(){return this.controls.getPolarAngle()*THREE[_0x1dda("0x1fa")][_0x1dda("0x659")]},set:function(d){(d=d*Math.PI/180)<this[_0x1dda("0x226")][_0x1dda("0x922")]&&(d=this[_0x1dda("0x226")].minPolarAngle),d>this[_0x1dda("0x226")][_0x1dda("0xa83")]&&(d=this[_0x1dda("0x226")][_0x1dda("0xa83")]),this.controls[_0x1dda("0x152")]({forcePhi:d}),this.updateCountDown_=0}},{key:_0x1dda("0x1fe"),get:function(){var d=this.controls[_0x1dda("0x295")]();return(Math.PI-d)*THREE[_0x1dda("0x1fa")][_0x1dda("0x659")]},set:function(d){d=-d*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")],this[_0x1dda("0x226")][_0x1dda("0x152")]({forceTheta:d+Math.PI}),this[_0x1dda("0x69d")]=0}},{key:_0x1dda("0x1a5"),get:function(){return this.mapView.w_}},{key:"height",get:function(){return this[_0x1dda("0x19f")].h_}}]),x}(b[_0x1dda("0xd")]);F[_0x1dda("0xa9e")]=!0,F[_0x1dda("0x936")]=!1,F.id=1,x.default=F},,,,,,,function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=g(a(36)),e=g(a(5)),t=g(a(0)),i=g(a(1)),n=g(a(10)),r=g(a(11)),s=g(a(285)),o=g(a(287)),c=g(a(107)),l=g(a(143)),f=a(41),u=g(a(290)),h=a(108);function g(d){return d&&d.__esModule?d:{default:d}}a(295);var b=function(d){function x(d){(0,t.default)(this,x);var a=(0,n.default)(this,(x.__proto__||(0,e.default)(x))[_0x1dda("0x3")](this));return a[_0x1dda("0xa9f")]=.01,a[_0x1dda("0x32")](d),a}return(0,r.default)(x,d),(0,i[_0x1dda("0xd")])(x,[{key:"init",value:function(d){var x=this;this[_0x1dda("0xaa0")]=null,this.DISABLE_RENDER=!1,this[_0x1dda("0x35")]=new(h[_0x1dda("0x345")])(d),this[_0x1dda("0x19f")]=new(s[_0x1dda("0xd")])(this),this[_0x1dda("0x19f")][_0x1dda("0x32")]()&&(this.currentCamera=this[_0x1dda("0x19f")][_0x1dda("0x614")],this.currentCamera[_0x1dda("0xfa")].set(30,30,30),this.controls=new(THREE[_0x1dda("0xaa1")])(this[_0x1dda("0x19f")][_0x1dda("0x614")],this.mapView[_0x1dda("0x352")]),d[_0x1dda("0x349")]&&(this[_0x1dda("0x226")][_0x1dda("0xaa2")]={LEFT:THREE[_0x1dda("0xaa3")].RIGHT,MIDDLE:THREE.MOUSE[_0x1dda("0xaa4")],RIGHT:THREE.MOUSE.LEFT}),this.mapView[_0x1dda("0x352")][_0x1dda("0x30")](_0x1dda("0xaa5"),(function(d){d.preventDefault()})),this[_0x1dda("0x17d")]=new(o[_0x1dda("0xd")])(this),this[_0x1dda("0x17d")][_0x1dda("0x363")]=d.hoverMode,this[_0x1dda("0xaa6")]=new(THREE[_0x1dda("0x1bf")]),this[_0x1dda("0x99a")]=new(u[_0x1dda("0xd")])(!1,this.mapView.sceneOrtho,this[_0x1dda("0x35")]),this.registerEvents(),this[_0x1dda("0x19f")][_0x1dda("0x998")](),this[_0x1dda("0x152")](),this.on(_0x1dda("0x1eb"),(function(){window.cancelAnimationFrame(x.renderID)})),this.on("stopRender",(function(){x[_0x1dda("0xaa7")]=!0})),this.on(_0x1dda("0xa69"),(function(){x[_0x1dda("0xaa7")]=!1})))}},{key:_0x1dda("0xaa8"),value:function(){var d=this;THREE[_0x1dda("0x757")]=null,d[_0x1dda("0xda")](_0x1dda("0xe8")),d.resetAll(),d[_0x1dda("0x340")](),cancelAnimationFrame(d[_0x1dda("0xaa0")]);var x=this.mapView[_0x1dda("0xf7")],a=this[_0x1dda("0x19f")].renderer;d[_0x1dda("0x17d")][_0x1dda("0xe8")](),(0,f[_0x1dda("0xe1")])(x),d.controls[_0x1dda("0xe8")]();var e=d[_0x1dda("0x19f")][_0x1dda("0x2fa")][_0x1dda("0x2fb")](_0x1dda("0x4b7"));e||(e=d[_0x1dda("0x19f")][_0x1dda("0x2fa")][_0x1dda("0x2fb")](_0x1dda("0xaa9"))),e.clear(e[_0x1dda("0xaaa")]);for(var t=0;t<d[_0x1dda("0x62e")][_0x1dda("0x0")];t++)d[_0x1dda("0x62e")][t]=null;for(var i=0;i<d[_0x1dda("0x633")][_0x1dda("0x0")];i++)d.buildingList[i]=null;(0,_[_0x1dda("0xd")])(d[_0x1dda("0x19f")].container[_0x1dda("0xe6")])[_0x1dda("0xd1")]((function(x){d[_0x1dda("0x19f")].container[_0x1dda("0x28")](x)})),a[_0x1dda("0x1a0")]=void 0,esmap.ESMap[_0x1dda("0x34")]=null,THREE.Cache[_0x1dda("0x6c4")]()}},{key:_0x1dda("0xaab"),value:function(d){var x=this.controls[_0x1dda("0xaac")];this[_0x1dda("0x226")].dispose(),this[_0x1dda("0xaad")](d);var a=esmap[_0x1dda("0x33")][_0x1dda("0x34")];a&&d.addEventListener("change",a[_0x1dda("0x927")][_0x1dda("0x4e")](this)),this[_0x1dda("0x226")]=d,this[_0x1dda("0x226")][_0x1dda("0xaac")]=x,this[_0x1dda("0xa72")]&&(this[_0x1dda("0xa72")].controls_=d),this[_0x1dda("0x35")][_0x1dda("0x349")]&&(this[_0x1dda("0x226")][_0x1dda("0xaa2")]={LEFT:THREE[_0x1dda("0xaa3")].RIGHT,MIDDLE:THREE[_0x1dda("0xaa3")].MIDDLE,RIGHT:THREE[_0x1dda("0xaa3")][_0x1dda("0xaae")]}),this.fire(_0x1dda("0xaaf"))}},{key:_0x1dda("0xab0"),value:function(){var d,x,a,_,e,t=this;t[_0x1dda("0x17d")][_0x1dda("0xab0")](t),this[_0x1dda("0x17d")].on(_0x1dda("0xab1"),(function(d){var x=null;d[_0x1dda("0x6f3")].length>0&&(x=d.objects[0][_0x1dda("0x1b")]),t[_0x1dda("0xda")](_0x1dda("0xab2"),{obj:x})})),t[_0x1dda("0xaad")](t[_0x1dda("0x226")]),t[_0x1dda("0xab3")]=(a=function(d,x){return""!==d?d+x[_0x1dda("0x11")](0,1)[_0x1dda("0xa85")]()+x[_0x1dda("0x11")](1):x},x=!1,typeof window[_0x1dda("0xab4")]===_0x1dda("0x177")&&["webkit",_0x1dda("0xab5"),"ms","o",""][_0x1dda("0xd1")]((function(_){0==x&&null!=document[a(_,_0x1dda("0x6e8"))]&&(d=_,x=!0)})),_=x,{state:(e=function(){if(_)return document[a(d,_0x1dda("0xab6"))]})(),visibilitychange:function(x,a){if(_&&"function"==typeof x)return document[_0x1dda("0x30")](d+_0x1dda("0xab7"),function(d){this[_0x1dda("0x6cb")]=e(),x[_0x1dda("0x3")](this,d)}[_0x1dda("0x4e")](this),!1)}}),t[_0x1dda("0xab3")].visibilitychange((function(){t.fire(_0x1dda("0xab8"),this[_0x1dda("0x6cb")])})),t.on(_0x1dda("0x38c"),(function(){t[_0x1dda("0x35")][_0x1dda("0x363")]&&"3D"==t[_0x1dda("0x353")]&&(t[_0x1dda("0x17d")][_0x1dda("0x363")]=!0)})),t.on(_0x1dda("0x17c"),(function(){t.options[_0x1dda("0x363")]&&"3D"==t[_0x1dda("0x353")]&&(t[_0x1dda("0x17d")][_0x1dda("0x363")]=!1)}))}},{key:_0x1dda("0xaad"),value:function(d){var x=this;d.addEventListener(_0x1dda("0x21c"),(function(d){esmap[_0x1dda("0x33")][_0x1dda("0x936")]&&(x[_0x1dda("0xaa7")]=!1),x[_0x1dda("0xda")](_0x1dda("0xab9"))})),d[_0x1dda("0x30")](_0x1dda("0x267"),(function(){esmap[_0x1dda("0x33")].IsMapLoading&&(x[_0x1dda("0xaa7")]=!0),x[_0x1dda("0xda")](_0x1dda("0xaba"))})),d[_0x1dda("0x30")](_0x1dda("0x926"),(function(){x[_0x1dda("0x99a")][_0x1dda("0xabb")](-x[_0x1dda("0x226")][_0x1dda("0x295")]()-Math.PI)})),d[_0x1dda("0x9d7")]||(d[_0x1dda("0x9d7")]=function(d,x){var a=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x19f")][_0x1dda("0x614")],_=a[_0x1dda("0xfa")][_0x1dda("0x116")]()[_0x1dda("0x4cf")](this.target).normalize();_.multiplyScalar(this[_0x1dda("0x9ca")]*d);var e=this[_0x1dda("0x227")][_0x1dda("0x116")]()[_0x1dda("0xce")](_);if(this[_0x1dda("0x1b")]instanceof THREE[_0x1dda("0x877")])a[_0x1dda("0xfa")].copy(e);else if(this[_0x1dda("0x1b")]instanceof THREE[_0x1dda("0x6c7")]){var t=e[_0x1dda("0x117")](this[_0x1dda("0x227")]),i=esmap[_0x1dda("0x86")][_0x1dda("0xa54")](a,this,t),n=this.object[_0x1dda("0x323")]/i[_0x1dda("0x323")];this[_0x1dda("0x1b")][_0x1dda("0x615")]=n,this.object[_0x1dda("0x8cf")]()}})}},{key:"update",value:function(){var d=this;d[_0x1dda("0x226")].update(),d.DISABLE_RENDER||(d[_0x1dda("0xda")](_0x1dda("0x152"),d[_0x1dda("0xa9f")]),d[_0x1dda("0xda")](_0x1dda("0x93d"),d[_0x1dda("0xa9f")])),d[_0x1dda("0xaa0")]=requestAnimationFrame(d[_0x1dda("0x152")].bind(d)),d[_0x1dda("0xaa7")]||(d[_0x1dda("0x19f")][_0x1dda("0x6ca")](),d[_0x1dda("0xa9f")]=d.maintimer[_0x1dda("0x263")]())}},{key:"compassOffset",get:function(){return this[_0x1dda("0x99a")][_0x1dda("0x4db")][_0x1dda("0x360")]},set:function(d){var x=this[_0x1dda("0x99a")][_0x1dda("0x4db")][_0x1dda("0x360")];this[_0x1dda("0x99a")].spriteBg_[_0x1dda("0xfa")].x=this[_0x1dda("0x99a")].spriteBg_[_0x1dda("0xfa")].x-x[0]+d[0],this[_0x1dda("0x99a")][_0x1dda("0xabc")].position.y=this[_0x1dda("0x99a")][_0x1dda("0xabc")][_0x1dda("0xfa")].y+x[1]-d[1],this[_0x1dda("0x99a")][_0x1dda("0xabd")].position.x=this[_0x1dda("0x99a")].spritePt_.position.x-x[0]+d[0],this[_0x1dda("0x99a")][_0x1dda("0xabd")][_0x1dda("0xfa")].y=this[_0x1dda("0x99a")][_0x1dda("0xabd")][_0x1dda("0xfa")].y+x[1]-d[1],this[_0x1dda("0x99a")].options_[_0x1dda("0x360")]=d}},{key:_0x1dda("0x361"),get:function(){return this[_0x1dda("0x99a")][_0x1dda("0xabc")][_0x1dda("0x1d7")].x},set:function(d){this[_0x1dda("0x99a")][_0x1dda("0xabc")][_0x1dda("0x1d7")].x=d,this[_0x1dda("0x99a")][_0x1dda("0xabc")][_0x1dda("0x1d7")].y=d,this[_0x1dda("0x99a")][_0x1dda("0xabd")][_0x1dda("0x1d7")].x=d,this[_0x1dda("0x99a")][_0x1dda("0xabd")][_0x1dda("0x1d7")].y=d}},{key:"showCompass",set:function(d){d!=this.compass[_0x1dda("0x169")]&&(this.compass[_0x1dda("0x169")]=d,d&&this[_0x1dda("0x99a")][_0x1dda("0xabb")](this.options[_0x1dda("0x35c")]*THREE[_0x1dda("0x1fa")].DEG2RAD))},get:function(){return this[_0x1dda("0x99a")][_0x1dda("0x169")]}}]),x}((0,c.default)(l[_0x1dda("0xd")]));x[_0x1dda("0xd")]=b},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=r(a(68)),e=r(a(0)),t=r(a(1)),i=r(a(286)),n=a(26);function r(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var s=function(){function d(x){(0,e[_0x1dda("0xd")])(this,d),this._minResolution=.018661384582519532,this[_0x1dda("0xabe")]=19567.88,this[_0x1dda("0x766")]={},this[_0x1dda("0x42")]=x,this[_0x1dda("0xaa9")]=!1,this[_0x1dda("0x35b")]=null,this[_0x1dda("0xa45")]=null,this[_0x1dda("0xabf")]=new(_[_0x1dda("0xd")])}return(0,t[_0x1dda("0xd")])(d,[{key:"getSize",value:function(){var d={};this[_0x1dda("0x352")][_0x1dda("0x120")].width&&this[_0x1dda("0x352")][_0x1dda("0x120")][_0x1dda("0x18b")]?(this[_0x1dda("0x352")][_0x1dda("0x120")].width[_0x1dda("0xaf")]("px")>-1&&(d[_0x1dda("0x1a5")]=this.container.style[_0x1dda("0x1a5")][_0x1dda("0x13f")]("px","")),this[_0x1dda("0x352")][_0x1dda("0x120")][_0x1dda("0x18b")][_0x1dda("0xaf")]("px")>-1&&(d.height=this[_0x1dda("0x352")].style[_0x1dda("0x18b")][_0x1dda("0x13f")]("px","")),d[_0x1dda("0x1a5")]&&d.height||(d={width:this[_0x1dda("0x352")][_0x1dda("0x4a7")],height:this[_0x1dda("0x352")][_0x1dda("0x4e8")]})):d={width:this[_0x1dda("0x352")][_0x1dda("0x4a7")],height:this[_0x1dda("0x352")][_0x1dda("0x4e8")]};var x=d.width,a=d[_0x1dda("0x18b")];return x!=this.w_||a!=this.h_?{w:x,h:a}:null}},{key:_0x1dda("0x32"),value:function(){this[_0x1dda("0x352")]=this[_0x1dda("0x42")].options[_0x1dda("0x352")],this.container[_0x1dda("0x120")][_0x1dda("0x3c3")]="none";var d=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x365")];try{var x=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x372")];if(esmap[_0x1dda("0x372")]&&(null==x||x)){var a={antialias:!0,alpha:!!this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x35d")]},_=document[_0x1dda("0x20")]("canvas"),e=_[_0x1dda("0x2fb")](_0x1dda("0xaa9"),a);null!==e?(this[_0x1dda("0x32c")]=new(THREE[_0x1dda("0xac0")])({canvas:_,context:e,powerPreference:d,alpha:!!this.map[_0x1dda("0x35")][_0x1dda("0x35d")],precision:"highp",logarithmicDepthBuffer:true}),this.webgl2=!0):this[_0x1dda("0x32c")]=new(THREE[_0x1dda("0xac0")])({antialias:!0,precision:_0x1dda("0xac1"),powerPreference:d,alpha:!!this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x35d")],logarithmicDepthBuffer:!0})}else this[_0x1dda("0x32c")]=new THREE.WebGLRenderer({antialias:!0,precision:"highp",powerPreference:d,logarithmicDepthBuffer:true});this[_0x1dda("0x32c")][_0x1dda("0xac2")]=!0,this[_0x1dda("0x32c")].zBufferSupport=!0}catch(d){return void(new i.default)[_0x1dda("0x5e4")](this[_0x1dda("0x352")])}this[_0x1dda("0x2fa")]=this[_0x1dda("0x32c")][_0x1dda("0x1a0")],this.hide(),this[_0x1dda("0x32c")].setClearColor(16777215),this[_0x1dda("0x32c")][_0x1dda("0xac3")](window.devicePixelRatio),this[_0x1dda("0x32c")][_0x1dda("0x6dc")]=!1,this[_0x1dda("0x32c")][_0x1dda("0xac4")].enabled=!1;var t=this[_0x1dda("0x352")].clientWidth,n=this[_0x1dda("0x352")][_0x1dda("0x4e8")]||window[_0x1dda("0x715")];this[_0x1dda("0x32c")][_0x1dda("0x2d4")](t,n),this[_0x1dda("0x352")][_0x1dda("0x24")](this[_0x1dda("0x2fa")]),this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x356")]==esmap[_0x1dda("0x357")].NORMAL?this[_0x1dda("0x614")]=new(THREE[_0x1dda("0x877")])(35,t/n,1,4e4):this.camera=new(THREE[_0x1dda("0x877")])(60,t/n,.001,1e4),this.vFOV=2*Math[_0x1dda("0x2c2")](this[_0x1dda("0x614")][_0x1dda("0x618")]*Math.PI/360),this.camera[_0x1dda("0xac5")]=new(THREE[_0x1dda("0x11c")]),this[_0x1dda("0x614")].userData[_0x1dda("0xac6")]=this[_0x1dda("0xac7")]/n,this[_0x1dda("0xf7")]=new(THREE[_0x1dda("0x3d1")]),this[_0x1dda("0x614")][_0x1dda("0x208")](this[_0x1dda("0xf7")].position),this.cameraTop=new THREE.OrthographicCamera(-t/2,t/2,-n/2,n/2,1,1e5),this[_0x1dda("0xa8a")].rotation[_0x1dda("0xcd")](-Math.PI/2,0,0,_0x1dda("0x3cb")),this[_0x1dda("0xa8a")].rotationAutoUpdate=!1,this.cameraTop.position[_0x1dda("0xcd")](0,1e5,0),this[_0x1dda("0x42")].options.perspective&&this[_0x1dda("0x32c")][_0x1dda("0xac8")](0),this[_0x1dda("0xac9")]=new(esmap[_0x1dda("0xaca")])(this[_0x1dda("0x42")]),this[_0x1dda("0xacb")]=new(THREE[_0x1dda("0x6c7")])(-t/2,t/2,n/2,-n/2,1,1e3),this[_0x1dda("0xacb")][_0x1dda("0xfa")][_0x1dda("0x4f2")](10),this[_0x1dda("0x925")]=new THREE.Scene,this[_0x1dda("0xacc")]=new(THREE[_0x1dda("0xacd")])(16777215),this.ambientLight[_0x1dda("0xfc")]="1",this[_0x1dda("0xacc")][_0x1dda("0x3e9")]=.5,this.scene[_0x1dda("0xce")](this[_0x1dda("0xacc")]),this.lights[1]=this[_0x1dda("0xacc")],this[_0x1dda("0xace")]=new(THREE[_0x1dda("0x768")])(8947848,1.4),this[_0x1dda("0xace")][_0x1dda("0xfc")]="2",this.scene[_0x1dda("0xce")](this[_0x1dda("0xace")]),this[_0x1dda("0x766")][2]=this[_0x1dda("0xace")];var r=new(THREE[_0x1dda("0x768")])(0,0);return r[_0x1dda("0xfc")]="3",this[_0x1dda("0xacf")]=r,this[_0x1dda("0xf7")][_0x1dda("0xce")](r),this.lights[3]=r,this[_0x1dda("0xad0")](t,n),window.addEventListener(_0x1dda("0xad1"),this[_0x1dda("0xad2")].bind(this),!1),this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xad3"),this[_0x1dda("0x2fa")]),!0}},{key:"hide",value:function(){this[_0x1dda("0x2fa")][_0x1dda("0x120")][_0x1dda("0xad4")]=_0x1dda("0x6e8")}},{key:_0x1dda("0x215"),value:function(){this[_0x1dda("0x2fa")].style[_0x1dda("0xad4")]="unset"}},{key:_0x1dda("0xad5"),value:function(d){var x=this.level2Resolution(d)/this[_0x1dda("0x614")][_0x1dda("0x153")][_0x1dda("0xac6")]/this[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x9ca")];this.map[_0x1dda("0x226")][_0x1dda("0x9d7")](x)}},{key:_0x1dda("0xad6"),value:function(){var d=this[_0x1dda("0x42")],x=void 0;if(d[_0x1dda("0x36")]===esmap.MapMode[_0x1dda("0x1b8")]){var a=d[_0x1dda("0x226")][_0x1dda("0xa4a")](),_=d[_0x1dda("0x226")][_0x1dda("0x9ca")]*a,e=this[_0x1dda("0x614")][_0x1dda("0x153")][_0x1dda("0xac6")]*_;x=this[_0x1dda("0xad7")](e)}else x=this.resolution2Level(this[_0x1dda("0xa8a")][_0x1dda("0x323")]/this[_0x1dda("0xa8a")].zoom/this[_0x1dda("0x226")][_0x1dda("0xa8c")]*this[_0x1dda("0x226")][_0x1dda("0x9ca")]*this.camera[_0x1dda("0x153")][_0x1dda("0xac6")]);return x}},{key:_0x1dda("0xad8"),value:function(d){return this[_0x1dda("0x614")][_0x1dda("0x153")][_0x1dda("0xac6")]*d}},{key:"getZoomLevelByDistance",value:function(d){return this[_0x1dda("0xad7")](this.distance2Resolution(d))}},{key:_0x1dda("0xad9"),value:function(d){return this.level2Resolution(d)/this[_0x1dda("0x614")][_0x1dda("0x153")][_0x1dda("0xac6")]}},{key:_0x1dda("0xad7"),value:function(d){return Math.log(78271.52/d)*Math[_0x1dda("0xada")]+1}},{key:_0x1dda("0xadb"),value:function(d){return 78271.52/Math.pow(Math.E,(d-1)/Math[_0x1dda("0xada")])}},{key:"calResolution",value:function(d,x){d.getWorldDirection(d[_0x1dda("0xac5")]);var a=d[_0x1dda("0xac5")],_=new(THREE[_0x1dda("0x11c")]),e=d.position;if(this[_0x1dda("0x42")][_0x1dda("0x353")]==_0x1dda("0x323")){var t=this[_0x1dda("0x42")];e=t.controls[_0x1dda("0x227")][_0x1dda("0x116")]().add(this[_0x1dda("0x614")][_0x1dda("0xfa")].clone()[_0x1dda("0x4cf")](t[_0x1dda("0x226")][_0x1dda("0x227")])[_0x1dda("0x2cc")]()[_0x1dda("0x218")](t[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x117")](this[_0x1dda("0x614")].position)/this[_0x1dda("0xa8a")][_0x1dda("0x615")]))}return _.subVectors(x,e),d[_0x1dda("0x153")][_0x1dda("0xac6")]*a[_0x1dda("0x8a4")](_)}},{key:"getLocalCenter",value:function(){return this[_0x1dda("0x42")]._coordThreeToMapScene(this[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")])}},{key:_0x1dda("0x2af"),value:function(){return this[_0x1dda("0x42")][_0x1dda("0x1db")](this[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")])}},{key:"getCenterLonLat",value:function(){var d=this.map[_0x1dda("0x1db")](this[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")]);return esmap[_0x1dda("0x86")].Mercator2lonLat(d.x,d.y)}},{key:_0x1dda("0x998"),value:function(d,x){if(!d||!x){var a=this[_0x1dda("0x6a9")]();if(!a)return;d=a.w,x=a.h}if(0!=d&&0!=x){this.resize(d,x),this[_0x1dda("0x42")].fire(_0x1dda("0xad1"),{width:d,height:x});var _=this[_0x1dda("0x2fa")].width,e=this[_0x1dda("0x2fa")][_0x1dda("0x18b")];_==d&&e==x||this[_0x1dda("0x998")]()}}},{key:_0x1dda("0xad0"),value:function(d,x){var a=new THREE.CSS2DRenderer;a[_0x1dda("0x2d4")](d,x);var _=a[_0x1dda("0x1a0")];_[_0x1dda("0x120")][_0x1dda("0x1a5")]=_0x1dda("0x1a6"),_.style[_0x1dda("0x18b")]=_0x1dda("0x1a6"),this[_0x1dda("0x352")][_0x1dda("0x24")](_);var e=this[_0x1dda("0x2fa")];e[_0x1dda("0x120")][_0x1dda("0x1a5")]=_0x1dda("0x1a6"),e[_0x1dda("0x120")][_0x1dda("0x18b")]=_0x1dda("0x1a6"),e[_0x1dda("0x120")].pointerEvents=_0x1dda("0x5bb"),_[_0x1dda("0x24")](e),this[_0x1dda("0xadc")]=a}},{key:_0x1dda("0xad2"),value:function(){this.updateSize(),this[_0x1dda("0x42")][_0x1dda("0x99a")][_0x1dda("0x4e1")](this.w_,this.h_),this.updateSize()}},{key:_0x1dda("0xad1"),value:function(d,x){this[_0x1dda("0xa61")]=d/2,this.h_2_=x/2,this.composer.reSize(d,x),this[_0x1dda("0x32c")].setSize(d,x),this[_0x1dda("0xadc")][_0x1dda("0x2d4")](d,x),this[_0x1dda("0x614")][_0x1dda("0xadd")]=d/x,this[_0x1dda("0x614")].updateProjectionMatrix(),this[_0x1dda("0xade")]&&(this[_0x1dda("0xade")][_0x1dda("0xadd")]=d/x,this[_0x1dda("0xade")][_0x1dda("0x8cf")]());var a=esmap[_0x1dda("0x86")][_0x1dda("0xa54")](this[_0x1dda("0x614")],this[_0x1dda("0x42")][_0x1dda("0x226")]);this[_0x1dda("0xa8a")][_0x1dda("0x325")]=-a[_0x1dda("0x326")],this[_0x1dda("0xa8a")][_0x1dda("0x326")]=a[_0x1dda("0x326")],this[_0x1dda("0xa8a")].top=a[_0x1dda("0x323")],this[_0x1dda("0xa8a")][_0x1dda("0x324")]=-a.top,this.cameraTop[_0x1dda("0x8cf")](),this[_0x1dda("0xacb")][_0x1dda("0x325")]=-this.w_2_,this[_0x1dda("0xacb")][_0x1dda("0x326")]=this[_0x1dda("0xa61")],this[_0x1dda("0xacb")][_0x1dda("0x323")]=this[_0x1dda("0xa62")],this[_0x1dda("0xacb")][_0x1dda("0x324")]=-this.h_2_,this.cameraOrtho[_0x1dda("0x8cf")](),this.w_=d,this.h_=x}},{key:_0x1dda("0xadf"),value:function(){var d="";try{var x=this.map[_0x1dda("0x19f")].renderer[_0x1dda("0x336")][_0x1dda("0xae0")]("WEBGL_debug_renderer_info");d=_0x1dda("0xae1")+this.map.mapView[_0x1dda("0x32c")][_0x1dda("0x336")].getParameter(x[_0x1dda("0xae2")])}catch(x){d=x[_0x1dda("0x2e")]()}return d}},{key:"createProgress",value:function(d){var x=this,a=this[_0x1dda("0x925")],_=this[_0x1dda("0xacb")],e=new(THREE[_0x1dda("0x6c8")])(1,1,1,1),t=new(THREE[_0x1dda("0x2b5")])({color:parseInt(d[_0x1dda("0x138")][_0x1dda("0x13f")]("#",""),16),opacity:d[_0x1dda("0x11d")],transparent:!0}),i=new(THREE[_0x1dda("0x182")])(e,t),n=d.thickness,r=d.align;i[_0x1dda("0x1d7")].y=n,i.userData[_0x1dda("0xae3")]=r;var s=function(){var d=_[_0x1dda("0x323")]-_[_0x1dda("0x324")],x=_[_0x1dda("0x326")]-_.left,a=i[_0x1dda("0x153")][_0x1dda("0xae3")];i.position.y=a==_0x1dda("0x323")?d/2-n/2:-d/2+n/2,i[_0x1dda("0xfa")].x=-x/2};s();a.add(i);var o=function(d){var t=d*(_[_0x1dda("0x326")]-_[_0x1dda("0x325")]);e[_0x1dda("0xf9")][_0x1dda("0xfa")].array[3]=t,e[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0x400")][9]=t,e[_0x1dda("0xf9")][_0x1dda("0xfa")].needsUpdate=!0,1===d&&(new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(i[_0x1dda("0xe9")]).to({opacity:0},1e3).easing(esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")].InOut).onComplete((function(){a[_0x1dda("0x181")](i),x[_0x1dda("0x42")][_0x1dda("0x33e")](_0x1dda("0xd7"))}))[_0x1dda("0x21c")](),x.map[_0x1dda("0x33e")](_0x1dda("0xd7")))};this[_0x1dda("0x42")].on(_0x1dda("0xae4"),(function(d){o(d.value)})),this[_0x1dda("0x42")].on(_0x1dda("0xad1"),(function(){s()}),null,_0x1dda("0xd7"))}},{key:_0x1dda("0x6ca"),value:function(){this[_0x1dda("0x42")].options[_0x1dda("0x371")]||(this[_0x1dda("0x32c")].clear(),"3D"==this.map.viewMode_?this[_0x1dda("0x32c")][_0x1dda("0x6ca")](this.scene,this[_0x1dda("0x614")]):this[_0x1dda("0x32c")][_0x1dda("0x6ca")](this.scene,this[_0x1dda("0xa8a")]),this[_0x1dda("0x32c")][_0x1dda("0x6db")](),this[_0x1dda("0x32c")].render(this[_0x1dda("0x925")],this[_0x1dda("0xacb")]),"3D"==this[_0x1dda("0x42")][_0x1dda("0x928")]?this[_0x1dda("0xadc")][_0x1dda("0x6ca")](this[_0x1dda("0xf7")],this[_0x1dda("0x614")]):this.rendererCss2D.render(this[_0x1dda("0xf7")],this.cameraTop))}},{key:_0x1dda("0xae5"),value:function(d){var x=this[_0x1dda("0x42")],a=x[_0x1dda("0x35")];x[_0x1dda("0xa4e")](d)||(null!=a[_0x1dda("0x367")]?x.controls[_0x1dda("0x9d7")](x[_0x1dda("0x930")][a[_0x1dda("0x367")]]):null!=a.zoomLevel?x[_0x1dda("0x19f")][_0x1dda("0x2ea")]=a.zoomLevel:x[_0x1dda("0x226")].setScaleLevelValue(x[_0x1dda("0x930")][d[_0x1dda("0xa17")].Firstscale])),null!=a[_0x1dda("0xae6")]&&(x[_0x1dda("0x226")][_0x1dda("0x277")]=x.mapView[_0x1dda("0xad9")](a.maxZoomLevel)),null!=a[_0x1dda("0xae7")]&&(x[_0x1dda("0x226")][_0x1dda("0x276")]=x[_0x1dda("0x19f")][_0x1dda("0xad9")](a[_0x1dda("0xae7")]));var _=this[_0x1dda("0x352")][_0x1dda("0x4a7")],e=this[_0x1dda("0x352")][_0x1dda("0x4e8")];this[_0x1dda("0x998")](_,e),x[n[_0x1dda("0xc8")]][_0x1dda("0x4e1")](_,e)}},{key:_0x1dda("0xae8"),get:function(){return this[_0x1dda("0xad7")](this[_0x1dda("0xae9")])}},{key:_0x1dda("0x226"),get:function(){return this[_0x1dda("0x42")][_0x1dda("0x226")]}},{key:_0x1dda("0x2ea"),get:function(){return this[_0x1dda("0x42")].viewMode==esmap.ESViewMode[_0x1dda("0xaea")]?this[_0x1dda("0xad7")](this.resolution):this[_0x1dda("0xad6")]()},set:function(d){if(this.map.viewMode==esmap.ESViewMode[_0x1dda("0xaea")]){var x=this[_0x1dda("0xadb")](d);this[_0x1dda("0xae9")]=x}else this.setOrthoZoomLevel(d)}},{key:_0x1dda("0xae9"),get:function(){var d=this[_0x1dda("0xaeb")](this[_0x1dda("0x614")],this[_0x1dda("0x226")].target);return this._resolution[_0x1dda("0xcd")](this,d),this[_0x1dda("0xabf")].get(this)},set:function(d){if(d&&null!=d&&!isNaN(d)&&(d=Math.max(this[_0x1dda("0xaec")],Math[_0x1dda("0x2f6")](d,this._maxResolution)),this[_0x1dda("0xabf")][_0x1dda("0xcd")](this,d),this[_0x1dda("0x226")]&&this.camera[_0x1dda("0x153")][_0x1dda("0xac6")])){var x=d/this.camera[_0x1dda("0x153")][_0x1dda("0xac6")];this[_0x1dda("0x614")][_0x1dda("0xaed")](this.camera[_0x1dda("0xac5")]);var a=this[_0x1dda("0x614")][_0x1dda("0xac5")],_=a[_0x1dda("0x8a4")](this[_0x1dda("0x226")][_0x1dda("0x227")]),e=a[_0x1dda("0x8a4")](this[_0x1dda("0x614")][_0x1dda("0xfa")]),t=(new(THREE[_0x1dda("0x11c")]))[_0x1dda("0x89f")](this[_0x1dda("0x226")][_0x1dda("0x227")],this.camera.position),i=(e-(_-x))/t[_0x1dda("0x8a4")](a);t[_0x1dda("0x218")](i),this[_0x1dda("0x614")][_0x1dda("0xfa")][_0x1dda("0x4cf")](t),this[_0x1dda("0x614")][_0x1dda("0x6f5")](!0),this[_0x1dda("0x226")][_0x1dda("0x152")]()}}}]),d}();x[_0x1dda("0xd")]=s},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d.__esModule?d:{default:d}}var i=function(){function d(){(0,_.default)(this,d)}return(0,e.default)(d,[{key:_0x1dda("0x5e4"),value:function(d){var x=document[_0x1dda("0x20")](_0x1dda("0x1a4"));x[_0x1dda("0x1ae")]="<h5>æ¨çæµè§å¨ç®åä¸æ¯æWebGL!<h5><h5>ä¸ºæ´å¥½çæµè§ï¼å»ºè®®æ¨ä¸è½½ &nbsp;è°·æ­æµè§å¨</h5>",x[_0x1dda("0x41f")]("class","noWebGL"),d[_0x1dda("0x24")](x)}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=l(a(5)),e=l(a(0)),t=l(a(1)),i=l(a(10)),n=l(a(11)),r=a(4),s=l(a(107)),o=l(a(143)),c=a(41);function l(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var f={},u=!1,h=function(d){function x(){(0,e.default)(this,x);var d=(0,i.default)(this,(x[_0x1dda("0x11e")]||(0,_.default)(x))[_0x1dda("0x3")](this));return d[_0x1dda("0xaee")]=null,d[_0x1dda("0xaef")]=new(THREE[_0x1dda("0x4cc")]),d[_0x1dda("0xaf0")]=new THREE.Raycaster,d[_0x1dda("0xaf1")]=!1,d[_0x1dda("0x6b9")]=!0,d.isPicked=!1,d[_0x1dda("0xaf2")]=[],d[_0x1dda("0xaf3")]=!1,d[_0x1dda("0xaf4")]=0,d.debugPick=!1,d[_0x1dda("0xaf5")]=!1,d[_0x1dda("0xaf6")]=[],d[_0x1dda("0xaf7")]=[],d[_0x1dda("0xaf8")]=null,d[_0x1dda("0xaf9")]=null,d[_0x1dda("0x363")]=!1,d[_0x1dda("0xafa")]={},d[_0x1dda("0x3b4")]={default:[]},d.isPc=(0,r[_0x1dda("0x301")])().isPc,d[_0x1dda("0xafb")]=new THREE.Frustum,d[_0x1dda("0xafc")]=0,d.debugPickLog=!0,d[_0x1dda("0xafd")]={x:0,y:0},d.keepPressLock=!1,d}return(0,n[_0x1dda("0xd")])(x,d),(0,t[_0x1dda("0xd")])(x,[{key:_0x1dda("0xafe"),value:function(d){this[_0x1dda("0x3b4")][d]&&(this[_0x1dda("0xafa")][d]=this[_0x1dda("0x3b4")][d],this[_0x1dda("0x3b4")][d]=[])}},{key:_0x1dda("0xaff"),value:function(d){this[_0x1dda("0xafa")][d]&&(this[_0x1dda("0x3b4")][d]=this[_0x1dda("0xafa")][d],this.cachePicks[d]=null)}},{key:_0x1dda("0x3ae"),value:function(d){var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]?arguments[1]:"default";this[_0x1dda("0x3b4")][x]||(this.watchingList[x]=[]),this[_0x1dda("0x3b4")][x][_0x1dda("0x10")](d)}},{key:"dispose",value:function(){var d=this[_0x1dda("0x42")].mapView[_0x1dda("0x352")];d[_0x1dda("0x264")](_0x1dda("0x731"),f[_0x1dda("0x731")]),d[_0x1dda("0x264")](_0x1dda("0x72f"),f.mousemove),d.removeEventListener(_0x1dda("0x732"),f[_0x1dda("0x732")]),d.removeEventListener(_0x1dda("0xb00"),f[_0x1dda("0x731")]),d.removeEventListener("touchmove",f.mousemove),d[_0x1dda("0x264")](_0x1dda("0xb01"),f[_0x1dda("0x732")]),this[_0x1dda("0x3b4")]=null,f={}}},{key:_0x1dda("0xab0"),value:function(d){var x=this;this[_0x1dda("0x42")]=d;var a=this.map.mapView[_0x1dda("0x352")];this[_0x1dda("0xb02")]=new(THREE[_0x1dda("0x8c5")])(this[_0x1dda("0x42")][_0x1dda("0x22b")],null,7e9),this[_0x1dda("0xb02")].enabled=!1,this.BoxPicker[_0x1dda("0x8d9")]=_0x1dda("0x641"),this[_0x1dda("0xb03")]=new(THREE[_0x1dda("0x8dd")])(this[_0x1dda("0xb02")],a,"ESSelectBox"),f[_0x1dda("0x731")]=this.onmousedown[_0x1dda("0x4e")](this),f[_0x1dda("0x72f")]=this[_0x1dda("0xb04")][_0x1dda("0x4e")](this),f[_0x1dda("0x732")]=this[_0x1dda("0xb05")][_0x1dda("0x4e")](this),a[_0x1dda("0x30")](_0x1dda("0x731"),f[_0x1dda("0x731")]),a.addEventListener(_0x1dda("0x72f"),f[_0x1dda("0x72f")]),a[_0x1dda("0x30")](_0x1dda("0x732"),f[_0x1dda("0x732")]),a[_0x1dda("0x30")](_0x1dda("0xb00"),f[_0x1dda("0x731")]),a[_0x1dda("0x30")](_0x1dda("0xb06"),f[_0x1dda("0x72f")]),a[_0x1dda("0x30")](_0x1dda("0xb01"),f.mouseup),this[_0x1dda("0x42")].on("dispose",(function(){x[_0x1dda("0xe8")]()}))}},{key:_0x1dda("0xb07"),value:function(){if(0!=this.hoverList.length){this[_0x1dda("0xaef")][_0x1dda("0xa5c")](this.mousePos,this[_0x1dda("0x42")][_0x1dda("0x22b")]);var d=this.raycaster[_0x1dda("0x4d2")](this[_0x1dda("0xaf6")],!0);if(d[_0x1dda("0x0")]>0){var x=d[0];this[_0x1dda("0xb08")](x[_0x1dda("0x1b")])}else this[_0x1dda("0xb09")]()}}},{key:_0x1dda("0xb0a"),value:function(d){var x=this[_0x1dda("0x3b4")];for(var a in x){var _=x[a];if(_[_0x1dda("0xaf")](d)>-1)return _[_0x1dda("0x6")](_[_0x1dda("0xaf")](d),1),!0}return!1}},{key:"unhightLightObject",value:function(){if(this[_0x1dda("0xaf8")]){(this.lastHoverTarget.userData[_0x1dda("0xb0b")]||this[_0x1dda("0xaf8")]).traverse((function(d){d[_0x1dda("0xe9")]&&d[_0x1dda("0xe9")].emissive&&d.material[_0x1dda("0x153")].hovered&&(d[_0x1dda("0xe9")][_0x1dda("0x3e7")]=d[_0x1dda("0xe9")][_0x1dda("0x153")][_0x1dda("0xb0c")],d.material[_0x1dda("0x153")][_0x1dda("0xb0d")]=!1)}));var d=this[_0x1dda("0xaf8")][_0x1dda("0x153")][_0x1dda("0xb0e")],x=this[_0x1dda("0xaf8")][_0x1dda("0x153")][_0x1dda("0x5be")];d&&d.visible&&(d[_0x1dda("0x169")]=!1),x&&x[_0x1dda("0x153")][_0x1dda("0xb0d")]&&(x[_0x1dda("0xe9")].color=x[_0x1dda("0xe9")].userData[_0x1dda("0xb0f")],x[_0x1dda("0x153")].hovered=!1),this[_0x1dda("0xaf8")]=null}}},{key:"hightLightObject",value:function(d){if(this[_0x1dda("0xaf8")]!=d){this[_0x1dda("0xb09")]();var x=d[_0x1dda("0x153")][_0x1dda("0xb0b")]||d,a=_0x1dda("0xb10");this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x3e6")]&&this[_0x1dda("0x42")][_0x1dda("0x35")].selectedColor.buildingModel&&(a=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x3e6")].buildingModel[_0x1dda("0x138")]),x[_0x1dda("0xf8")]((function(d){d.material&&d[_0x1dda("0xe9")][_0x1dda("0x3e7")]&&!d[_0x1dda("0xe9")][_0x1dda("0x153")][_0x1dda("0xb0d")]&&(d.material.userData[_0x1dda("0xb0c")]=d.material.emissive[_0x1dda("0x116")](),d[_0x1dda("0xe9")][_0x1dda("0x3e7")]=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](a),d[_0x1dda("0xe9")].userData.hovered=!0)}));var _=d[_0x1dda("0x153")][_0x1dda("0xb0e")],e=d[_0x1dda("0x153")][_0x1dda("0x5be")];_&&!_[_0x1dda("0x169")]&&(_[_0x1dda("0x169")]=!0),e&&!e[_0x1dda("0x153")][_0x1dda("0xb0d")]&&(e.material[_0x1dda("0x153")][_0x1dda("0xb0f")]=e[_0x1dda("0xe9")].color[_0x1dda("0x116")](),e.material[_0x1dda("0x138")]=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](a),e[_0x1dda("0x153")][_0x1dda("0xb0d")]=!0),this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xb11"),{floornum:d.userData.floornum,target:d[_0x1dda("0x153")][_0x1dda("0x1ba")]}),this[_0x1dda("0xaf8")]=d}}},{key:_0x1dda("0x152"),value:function(d){var x=this,a=this;this[_0x1dda("0xaef")].setFromCamera(this[_0x1dda("0xaee")],this[_0x1dda("0x42")].currentCamera),this[_0x1dda("0xb12")]=!1,this[_0x1dda("0xaf7")]=[];var _=[];if(!d){var e=new(THREE[_0x1dda("0x207")]);e.multiplyMatrices(this.map[_0x1dda("0x22b")][_0x1dda("0x6f6")],this[_0x1dda("0x42")].currentCamera[_0x1dda("0x3ab")]),this[_0x1dda("0xafb")][_0x1dda("0xb13")](e)}if(this.debugPick)this[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0xf7")][_0x1dda("0xf8")]((function(d){"Mesh"!=d.type||"$ESMapPlane"==d[_0x1dda("0xfc")]||d[_0x1dda("0xfc")]==_0x1dda("0x4d6")||d[_0x1dda("0x4d7")]||a[_0x1dda("0x4d8")](d)&&_[_0x1dda("0x10")](d)}));else{var t=this.map.options.disableOutdoorClick;for(var i in this[_0x1dda("0x3b4")]){var n=this.watchingList[i];t&&this.map.getTileById(i)||n.forEach((function(e){if(d)x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x364")]!=_0x1dda("0x641")?e.datas_&&x[_0x1dda("0x42")].options[_0x1dda("0x364")][_0x1dda("0xaf")](e.datas_[_0x1dda("0x106")])>-1&&a[_0x1dda("0x4d8")](e)&&_.push(e):a[_0x1dda("0x4d8")](e)&&_[_0x1dda("0x10")](e);else{if(e[_0x1dda("0x9f")]===_0x1dda("0x2e4")){var t=e[_0x1dda("0x1e6")](new(THREE[_0x1dda("0x11c")]));if(!x.frustum.containsPoint(t))return}a[_0x1dda("0x4d8")](e)&&_[_0x1dda("0x10")](e)}}))}}if(this[_0x1dda("0x6b9")]&&(this[_0x1dda("0xaf7")]=this[_0x1dda("0xaef")][_0x1dda("0x4d2")](_,!0)),this[_0x1dda("0xaf7")][_0x1dda("0x0")]>0){this.isPicked=!0;for(var r=0;r<this[_0x1dda("0xaf7")].length;r++){var s=this[_0x1dda("0xaf7")][r];if(s[_0x1dda("0x1b")].name==_0x1dda("0xb14")){this[_0x1dda("0xaf7")][_0x1dda("0x6")](r,1),this[_0x1dda("0xaf7")].push(s);break}}}if(d){var o=!1;if(this.intersects[_0x1dda("0x0")]>0){var l=this.intersects[0].object,f=null;if(l[_0x1dda("0x106")]==esmap[_0x1dda("0x126")].LINE)f=(l=l[_0x1dda("0xfe")])[_0x1dda("0xe5")];else if(l.datas_){if(l[_0x1dda("0xe5")]){var u=l.datas_.nodeType;if(u==esmap.ESNodeType[_0x1dda("0x625")]&&l[_0x1dda("0xe5")][_0x1dda("0x424")]){var h=(0,c[_0x1dda("0xb1a")])(this[_0x1dda("0xaf7")][0][_0x1dda("0xb16")],l[_0x1dda("0xe5")].brothers);f=l[_0x1dda("0xe5")][_0x1dda("0x424")][h]}else u==esmap[_0x1dda("0x126")].FLOOR?f=l.datas_:(u==esmap.ESNodeType.IMAGE_MARKER||u==esmap[_0x1dda("0x126")][_0x1dda("0xb1b")]||u==esmap[_0x1dda("0x126")][_0x1dda("0x9e6")]||l[_0x1dda("0xe5")]instanceof esmap[_0x1dda("0xb1c")][_0x1dda("0xb1d")])&&(f=l[_0x1dda("0xe5")])}}else{var g=(0,c[_0x1dda("0xe4")])(l);if(g)if(g.datas_[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x1b5")]&&g.datas_[_0x1dda("0x424")]){if(this[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x7e")]("sk")||this.map.options[_0x1dda("0x1cc")]||(this[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x7e")]("ul")>>1&1||0)<1&&(console[_0x1dda("0x255")](esmap[_0x1dda("0x24d")][_0x1dda("0x9b5")]),o=!0),this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xb15")]||(o=!0),o)return;var b=this.intersects[0],v=this[_0x1dda("0x42")][_0x1dda("0x12b")](0);if(v.modelLoadManager[_0x1dda("0x636")][_0x1dda("0x3c9")])return;v&&v[_0x1dda("0x22c")].GLTFMergeTool[_0x1dda("0x3c8")]&&v.modelLoadManager.GLTFMergeTool.unSelectLast();var p=v[_0x1dda("0x22c")][_0x1dda("0x636")].getFaceIndexToGroup(b[_0x1dda("0xb16")],l.geometry.userData[_0x1dda("0x3f3")]);if(l.geometry[_0x1dda("0x153")].visibleStates&&l[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x416")][_0x1dda("0x2")](p.id)&&!l[_0x1dda("0xe7")].userData.visibleStates[p.id])return;var m=v[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x414")](b[_0x1dda("0xb16")],l[_0x1dda("0xe7")][_0x1dda("0x40c")]),A=p.id,C=g[_0x1dda("0xe5")][_0x1dda("0xb17")]||!1,I=g[_0x1dda("0xe5")][_0x1dda("0x424")][_0x1dda("0x2a5")]((function(d){return d.id==A}));I[0]&&(!C&&this.map[_0x1dda("0x35")][_0x1dda("0x351")]&&v.modelLoadManager[_0x1dda("0x636")][_0x1dda("0x405")](b[_0x1dda("0xb16")],l,m),f={mapId:I[0][_0x1dda("0x41")],nodeType:esmap[_0x1dda("0x126")].MODEL3D,angle:I[0][_0x1dda("0x201")],dataID:I[0].dataID,bid:g[_0x1dda("0xe5")][_0x1dda("0x12d")],bType:g[_0x1dda("0xe5")].bType,ID:A,name:I[0].name,scale:I[0][_0x1dda("0x1d7")],Height:I[0].Height,model:I[0][_0x1dda("0x1ba")],FloorNum:I[0][_0x1dda("0x123")],gid:I[0][_0x1dda("0xb18")],url:I[0][_0x1dda("0x4a")],o3d_:g,typeID:I[0][_0x1dda("0x4d5")],mapCoord:this.map[_0x1dda("0x1db")](I[0][_0x1dda("0xfa")])},I[0][_0x1dda("0x640")]&&(f[_0x1dda("0x640")]=I[0].classID),I[0].showLevel&&(f[_0x1dda("0x1cd")]=I[0][_0x1dda("0x1cd")]))}else if(f=g[_0x1dda("0xe5")],this[_0x1dda("0x42")][_0x1dda("0x35")].model3DHoverEffect){var y=this[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0x3ea")].color[_0x1dda("0xb19")]();this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x3e6")]&&this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x3e6")][_0x1dda("0x1bb")]&&this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x3e6")].model3d[_0x1dda("0x138")]&&(y=this.map[_0x1dda("0x35")][_0x1dda("0x3e6")].model3d.color),f[_0x1dda("0x26e")](y)}}if(this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xb1e"),l),!f)return;f[_0x1dda("0x106")]===esmap[_0x1dda("0x126")][_0x1dda("0x1b5")]?this.hoverUserObject&&this.hoverUserObject.ID===f.ID||(this.map.fire(_0x1dda("0xb1f"),f),this.hoverObject=f,this.hoverUserObject=f):this.hoverObject==l&&this[_0x1dda("0xaf9")]==f||(this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xb1f"),f),this.hoverObject=l,this[_0x1dda("0xaf9")]=f)}else if(this[_0x1dda("0xb20")]){this.map.fire(_0x1dda("0xb21")),this[_0x1dda("0xb20")][_0x1dda("0x26e")]&&this[_0x1dda("0xb20")][_0x1dda("0x26e")](!1),this[_0x1dda("0xb20")]=null,this[_0x1dda("0xaf9")]=null;var E=this[_0x1dda("0x42")].getBuilding();!o&&!E[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x3c9")]&&E[_0x1dda("0x22c")][_0x1dda("0x636")].lastSelectNode&&E[_0x1dda("0x22c")].GLTFMergeTool[_0x1dda("0xb22")]()}}}},{key:_0x1dda("0xb23"),value:function(d){var x=this;if(this[_0x1dda("0x282")]=!0,this[_0x1dda("0xb24")]=!1,this[_0x1dda("0xaf4")]=0,u=!1,this.mousePos=this[_0x1dda("0xb25")](d),this[_0x1dda("0xb26")]=this[_0x1dda("0xb27")](d),d[_0x1dda("0x473")](),this.enableBoxPick&&2!=d[_0x1dda("0x71b")])return this[_0x1dda("0xb02")][_0x1dda("0x8cb")].set(this.mousePos.x,this[_0x1dda("0xaee")].y,.5),this[_0x1dda("0xb02")][_0x1dda("0xb28")]=d[_0x1dda("0x31a")],void(this[_0x1dda("0xb02")][_0x1dda("0xb29")]=d[_0x1dda("0x31b")]);if(!this[_0x1dda("0x42")]||!this[_0x1dda("0x42")][_0x1dda("0x35")]||this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x37c")])var a=!1,_=setTimeout((function(){if(x[_0x1dda("0xb2a")])window[_0x1dda("0x22e")](_);else{var e=Math.abs(x[_0x1dda("0xafd")].x-x[_0x1dda("0xb26")].x)<1&&Math[_0x1dda("0x2c1")](x[_0x1dda("0xafd")].y-x[_0x1dda("0xb26")].y)<1;if(_0x1dda("0xb2b"),0===d.button&&e&&(a=!0),a){if(1==x[_0x1dda("0x282")]){if(x[_0x1dda("0xb24")]&&x[_0x1dda("0xaf4")]>1)return void window.clearTimeout(_);x[_0x1dda("0xb2a")]=!0,x[_0x1dda("0x152")](!1),x.fire("keepPress_",{intersects:x[_0x1dda("0xaf7")],mouse:x[_0x1dda("0xaee")].clone()}),x[_0x1dda("0xb2a")]=!1}}else window[_0x1dda("0x22e")](_)}}),800)}},{key:_0x1dda("0x17e"),value:function(d){for(var x in this[_0x1dda("0x3b4")])for(var a=this.watchingList[x],_=0;_<a[_0x1dda("0x0")];_++){if(a[_][_0x1dda("0x2c4")]==d)return a.splice(_,1),!0}}},{key:"isVisible",value:function(d){var x=d.datas_&&d[_0x1dda("0xe5")][_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0xb2c")],a=d[_0x1dda("0x2c4")]==this[_0x1dda("0x42")][_0x1dda("0x4d1")][_0x1dda("0x2c4")];if(!this[_0x1dda("0x42")][_0x1dda("0x35")].editMode&&d[_0x1dda("0xe9")]&&!x&&!a)if(Array[_0x1dda("0x2f4")](d[_0x1dda("0xe9")])){var _=!1;if(d[_0x1dda("0xe9")][_0x1dda("0xd1")]((function(d){d.visible&&(_=!0)})),!_)return!1}else if(!d[_0x1dda("0xe9")][_0x1dda("0x169")])return!1;if(!d[_0x1dda("0x169")])return!1;var e=!0;return d[_0x1dda("0xb2d")]((function(d){d[_0x1dda("0x169")]||(e=!1)})),e}},{key:_0x1dda("0xb2e"),value:function(){var d=!1,x=this[_0x1dda("0x42")];if(this[_0x1dda("0xaee")]&&this[_0x1dda("0x42")][_0x1dda("0x21f")][_0x1dda("0xb2f")]){if(this[_0x1dda("0xaf0")][_0x1dda("0xa5c")](this.mousePos,x[_0x1dda("0x19f")][_0x1dda("0xacb")]),!x[_0x1dda("0x99a")][_0x1dda("0xabc")])return;this.compassRaycaster[_0x1dda("0xa5d")](x.compass[_0x1dda("0xabc")])[_0x1dda("0x0")]>0&&(x.fire(_0x1dda("0xb30")),d=!0,x.rotateTo(0))}return d}},{key:_0x1dda("0xb04"),value:function(d){this[_0x1dda("0xb24")]=!0,this[_0x1dda("0xaf4")]++,this.mousePos=this.getPick(d),this[_0x1dda("0xafd")]=this.getMouseScreenPos(d),this[_0x1dda("0xb07")](),this.hoverMode&&this[_0x1dda("0x152")](!0)}},{key:_0x1dda("0xb05"),value:function(d){if(this.isStaping=!1,!(!this[_0x1dda("0xb31")]&&this.mousemoved_&&this[_0x1dda("0xaf4")]>=5)){if(d[_0x1dda("0xb32")]||(this[_0x1dda("0xaee")]=this[_0x1dda("0xb25")](d)),this.update(),this[_0x1dda("0xb31")]&&2!=d[_0x1dda("0x71b")]&&this.tapcount>5&&this[_0x1dda("0xb24")]){var x=this[_0x1dda("0x42")];this.BoxPicker.endPoint[_0x1dda("0xcd")](this[_0x1dda("0xaee")].x,this[_0x1dda("0xaee")].y,.5),this[_0x1dda("0xb02")][_0x1dda("0xb33")]=d[_0x1dda("0x31a")],this[_0x1dda("0xb02")][_0x1dda("0xb34")]=d[_0x1dda("0x31b")];var a=this[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")].y,_=x[_0x1dda("0xa5b")](this.BoxPicker.startClientX,this[_0x1dda("0xb02")][_0x1dda("0xb29")],a),e=x[_0x1dda("0xa5b")](this[_0x1dda("0xb02")].endClientX,this.BoxPicker[_0x1dda("0xb34")],a),t=x[_0x1dda("0xa5b")](this[_0x1dda("0xb02")][_0x1dda("0xb28")],this[_0x1dda("0xb02")][_0x1dda("0xb34")],a),i=x[_0x1dda("0xa5b")](this[_0x1dda("0xb02")].endClientX,this[_0x1dda("0xb02")][_0x1dda("0xb29")],a),n=1,r=0;x[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]&&(n=x[_0x1dda("0x62c")]()[_0x1dda("0x52b")],r=x.id);var s=[{x:_.x,y:_.y},{x:t.x,y:t.y},{x:e.x,y:e.y},{x:i.x,y:i.y},{x:_.x,y:_.y}],o=[];return s[_0x1dda("0xd1")]((function(d){o[_0x1dda("0x10")]({x:d.x,y:d.y,fnum:n,bid:r,offset:0})})),this[_0x1dda("0xb02")][_0x1dda("0xb35")]=s,this[_0x1dda("0xb02")].watchlist||(this.BoxPicker[_0x1dda("0x8c9")]=this[_0x1dda("0x3b4")]),this[_0x1dda("0x42")].mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]&&(this.BoxPicker[_0x1dda("0xb36")]=this[_0x1dda("0x42")].tileService[_0x1dda("0xb37")][_0x1dda("0xb38")]+"_"+this[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0xb37")][_0x1dda("0xb39")]),this[_0x1dda("0xaf2")]=this[_0x1dda("0xb02")].select(),this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xb3a"),{objects:this[_0x1dda("0xaf2")],points:o}),void this[_0x1dda("0x42")][_0x1dda("0x9d0")]()}var c=!1;this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x37b")]&&2==d[_0x1dda("0x71b")]&&(c=!0);var l=(new Date)[_0x1dda("0x85")]();if(!(l-this[_0x1dda("0xafc")]<300)){if(this[_0x1dda("0xafc")]=l,(0==d[_0x1dda("0x71b")]||d[_0x1dda("0xb32")]||c)&&!u){if(this[_0x1dda("0xb2e")]())return;if(0==this[_0x1dda("0xaf7")].length){var f=this[_0x1dda("0x42")][_0x1dda("0x4d1")]?this[_0x1dda("0xaef")].intersectObjects([this[_0x1dda("0x42")].plane_],!0):[];1==f[_0x1dda("0x0")]&&(this[_0x1dda("0xda")](_0x1dda("0xb3b"),{mouse:this[_0x1dda("0xaee")],hitCoord:f[0][_0x1dda("0x769")],button:d.button}),this.debugPick&&(this[_0x1dda("0xb3c")]&&console[_0x1dda("0x255")](f),this.fire(_0x1dda("0xb3d"),f)))}else this[_0x1dda("0xb3d")]?(this.debugPickLog&&console[_0x1dda("0x255")](this[_0x1dda("0xaf7")]),this[_0x1dda("0xda")](_0x1dda("0xb3d"),this[_0x1dda("0xaf7")])):this[_0x1dda("0xda")]("pickedObjects",{objects:this[_0x1dda("0xaf7")],mouse:this.mousePos,button:d[_0x1dda("0x71b")]})}d[_0x1dda("0x473")]()}}}},{key:_0x1dda("0xb25"),value:function(d){var x=this.map[_0x1dda("0x19f")].container[_0x1dda("0x495")](),a=new(THREE[_0x1dda("0x50f")]);return a.x=((d[_0x1dda("0xb32")]?d[_0x1dda("0xb32")][0][_0x1dda("0x497")]:d.clientX)-x.left)/x[_0x1dda("0x1a5")]*2-1,a.y=-((d[_0x1dda("0xb32")]?d[_0x1dda("0xb32")][0][_0x1dda("0x499")]:d.clientY)-x[_0x1dda("0x323")])/x[_0x1dda("0x18b")]*2+1,a}},{key:_0x1dda("0xb27"),value:function(d){return{x:d[_0x1dda("0xb32")]?d[_0x1dda("0xb32")][0][_0x1dda("0x497")]:d[_0x1dda("0x497")],y:d[_0x1dda("0xb32")]?d.touches[0].clientY:d[_0x1dda("0x499")]}}},{key:_0x1dda("0xb31"),set:function(d){this.ebp_=d,d?(this[_0x1dda("0x42")][_0x1dda("0x21f")].enableMapPan=!1,this[_0x1dda("0xb02")].enabled=!0):(this[_0x1dda("0x42")][_0x1dda("0x21f")][_0x1dda("0x220")]=!0,this[_0x1dda("0xb02")].enabled=!1)},get:function(){return this.ebp_}}]),x}((0,s[_0x1dda("0xd")])(o.default));x.default=h},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0}),x[_0x1dda("0xb3e")]=t,x[_0x1dda("0xb3f")]=function(d){if(!(0,_[_0x1dda("0x332")])(d))return d;return d[_0x1dda("0x13f")](i,"")},x.splitWords=function(d){return t(d)[_0x1dda("0x2a")](/\s+/)},x[_0x1dda("0xb40")]=r,x[_0x1dda("0xb41")]=o,x[_0x1dda("0xb42")]=c,x[_0x1dda("0xb43")]=l,x[_0x1dda("0xb44")]=function(d,x){if(!(0,_[_0x1dda("0x332")])(d))return d;return d.replace(f,(function(d,a){if(!x)return"";var e=x[a];return(0,_.isNil)(e)?"":Array.isArray(e)?e[_0x1dda("0x4a6")]():e}))},x[_0x1dda("0xb45")]=function(d,x,a){var _=d[_0x1dda("0x1a5")],e=d.height,t=void 0,i=void 0;t="left"===x?-_:x===_0x1dda("0x326")?0:-_/2;i=a===_0x1dda("0x323")?-e:a===_0x1dda("0x324")?0:-e/2;return new Point(t,i)},x[_0x1dda("0xb46")]=u,x.splitTextToRow=function(d,x){var a=u(x),e=x[_0x1dda("0xb4d")]||0,t=o(d,a),i=t.width,n=t[_0x1dda("0x18b")],s=x[_0x1dda("0xb4e")],c=[],f=x[_0x1dda("0xb4f")];(!f||f>i)&&(f=i);(0,_[_0x1dda("0x332")])(d)||(d+="");var h=0;if(s&&d[_0x1dda("0xaf")](s)>=0)for(var g=d[_0x1dda("0x2a")](s),b=0,v=g[_0x1dda("0x0")];b<v;b++){var p=g[b],m=r(p,a);if(m>f)for(var A=l(p,a,f,m),C=0,I=A[_0x1dda("0x0")];C<I;C++){var y=A[C][_0x1dda("0x1a5")];y>h&&(h=y),c.push({text:A[C][_0x1dda("0x2e0")],size:new Size(y,n)})}else m>h&&(h=m),c[_0x1dda("0x10")]({text:p,size:new Size(m,n)})}else if(i>f)for(var E=l(d,a,f,i),w=0;w<E[_0x1dda("0x0")];w++){var T=E[w].width;T>h&&(h=T),c[_0x1dda("0x10")]({text:E[w][_0x1dda("0x2e0")],size:new Size(T,n)})}else i>h&&(h=i),c[_0x1dda("0x10")]({text:d,size:t});var k=c.length,S=new Size(h,n*k+e*(k-1));return{total:k,size:S,rows:c,rawSize:t}};var _=a(4),e=a(141);function t(d){return d[_0x1dda("0xb3e")]?d[_0x1dda("0xb3e")]():d[_0x1dda("0x13f")](/^\s+|\s+$/g,"")}var i=/[\b\t\r\v\f]/gim;var n=typeof document!==_0x1dda("0x8")?document[_0x1dda("0x20")](_0x1dda("0x2fa"))[_0x1dda("0x2fb")]("2d"):null;function r(d,x){return r[_0x1dda("0x649")]?r[_0x1dda("0x649")](d,x):(n[_0x1dda("0x320")]=x,n[_0x1dda("0x322")](d)[_0x1dda("0x1a5")])}var s={};function o(d,x){if(o[_0x1dda("0x649")])return o.node(d,x);var a=r(d,x);return x||(x=_0x1dda("0xb47")),s[x]||(s[x]=c(x)),new Size(a,s[x])}function c(d){var x=(0,e.getDomRuler)();d!==_0x1dda("0xb47")&&(x[_0x1dda("0x120")][_0x1dda("0x320")]=d),x.innerHTML="ç§¦";var a=x[_0x1dda("0x4e8")];return(0,e[_0x1dda("0x470")])(x),a}function l(d,x,a,e){if(!d||0===d[_0x1dda("0x0")])return[{text:"",width:0}];var t=(0,_[_0x1dda("0x33a")])(e)?r(d,x):e,i=t/d[_0x1dda("0x0")],n=Math[_0x1dda("0x1dd")](a/i/2);if(i>=a||n<=0)return[{text:"",width:a}];if(t<=a)return[{text:d,width:t}];for(var s=[],o=d[_0x1dda("0x7b")](0,n),c=i*n,l=n,f=d[_0x1dda("0x0")];l<f;l++){var u=d[l],h=r(o+u);h>=a?(s[_0x1dda("0x10")]({text:o,width:c}),o=d[_0x1dda("0x7b")](l,n+l),l+=n-1,c=i*n):(o+=u,c=h),l>=f-1&&(c=r(o),s.push({text:o,width:c}))}return s}var f=/\{([\w_]+)\}/g;function u(d){return d.textFont?d[_0x1dda("0xb48")]:(d[_0x1dda("0x2f8")]&&d.textStyle!==_0x1dda("0x3fd")?d.textStyle+" ":"")+(d.textWeight&&d[_0x1dda("0xb49")]!==_0x1dda("0x3fd")?d[_0x1dda("0xb49")]+" ":"")+d[_0x1dda("0xb4a")]+_0x1dda("0xb4b")+('"'===d.textFaceName[0]?d[_0x1dda("0xb4c")]:'"'+d[_0x1dda("0xb4c")]+'"')}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(0)),e=i(a(1)),t=i(a(107));function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this.target=x}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x4c4"),value:function(){return this[_0x1dda("0xb50")]||(this[_0x1dda("0xb50")]=!0,this[_0x1dda("0xb51")]()),this}},{key:_0x1dda("0xb52"),value:function(){return this[_0x1dda("0xb50")]?(this[_0x1dda("0xb50")]=!1,this.removeHooks(),this):this}},{key:"enabled",value:function(){return!!this[_0x1dda("0xb50")]}},{key:"remove",value:function(){this[_0x1dda("0xb52")](),delete this[_0x1dda("0x227")],delete this[_0x1dda("0xb53")]}}]),d}();x[_0x1dda("0xd")]=(0,t.default)(n)},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=n(a(0)),e=n(a(1)),t=a(291),i=a(292);function n(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var r=function(){function d(x,a,e){(0,_[_0x1dda("0xd")])(this,d),this.options_=e,this[_0x1dda("0xabc")]=null,this[_0x1dda("0xabd")]=null,this.materialPt_=null,this[_0x1dda("0xb54")]=null,this[_0x1dda("0x4dd")]=x,this[_0x1dda("0x4de")]=a,this.w_=Math.min(e[_0x1dda("0x361")],128),this.h_=Math[_0x1dda("0x2f6")](e[_0x1dda("0x361")],128)}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x4e1"),value:function(d,x,a){if(null!=this.spriteBg_&&null!=this[_0x1dda("0xabd")]){var _=d/2,e=x/2,t=a||this[_0x1dda("0x4db")][_0x1dda("0x360")],i=esmap[_0x1dda("0x33")][_0x1dda("0x34")],n=1;i.options[_0x1dda("0x355")]&&(n=i[_0x1dda("0x35")][_0x1dda("0x355")]),1==n?(this[_0x1dda("0xabc")][_0x1dda("0xfa")].set(-_+this.w_/2+t[0],e-this.h_/2-t[1],.5),this[_0x1dda("0xabd")][_0x1dda("0xfa")].set(-_+this.w_/2+t[0],e-this.h_/2-t[1],1)):3==n?(this[_0x1dda("0xabc")][_0x1dda("0xfa")][_0x1dda("0xcd")](_-this.w_/2-t[0],e-this.h_/2-t[1],.5),this[_0x1dda("0xabd")][_0x1dda("0xfa")][_0x1dda("0xcd")](_-this.w_/2-t[0],e-this.h_/2-t[1],1)):2==n?(this.spriteBg_.position[_0x1dda("0xcd")](-_+this.w_/2+t[0],this.h_/2-e+t[1],.5),this[_0x1dda("0xabd")][_0x1dda("0xfa")][_0x1dda("0xcd")](-_+this.w_/2+t[0],this.h_/2-e+t[1],1)):4==n&&(this.spriteBg_.position.set(_-this.w_/2-t[0],this.h_/2-e+t[1],.5),this.spritePt_[_0x1dda("0xfa")][_0x1dda("0xcd")](_-this.w_/2-t[0],this.h_/2-e+t[1],1))}}},{key:_0x1dda("0xabb"),value:function(d){null!=this.materialBg_&&(this[_0x1dda("0xb55")][_0x1dda("0x3d9")]=Math.PI+d)}},{key:_0x1dda("0xa00"),value:function(d){var x=document[_0x1dda("0x20")](_0x1dda("0x4ec"));x[_0x1dda("0x4e5")]=d;var a=new(THREE[_0x1dda("0x329")])(x);this[_0x1dda("0xb55")][_0x1dda("0x42")]=a,x[_0x1dda("0xb56")]=function(){a.needsUpdate=!0}}},{key:"setBg",value:function(d){var x=document[_0x1dda("0x20")]("img");x[_0x1dda("0x4e5")]=d;var a=new(THREE[_0x1dda("0x329")])(x);this[_0x1dda("0xb54")].map=a,x[_0x1dda("0xb56")]=function(){a[_0x1dda("0x172")]=!0}}},{key:"init",value:function(){var d=esmap[_0x1dda("0x33")].instance;if(null==this[_0x1dda("0xabc")]&&null==this[_0x1dda("0xabd")]){var x=document.createElement(_0x1dda("0x4ec"));d.options[_0x1dda("0xb57")]?x[_0x1dda("0x4e5")]=d[_0x1dda("0x35")][_0x1dda("0xb57")]:x[_0x1dda("0x4e5")]=i.compassBg;var a=new(THREE[_0x1dda("0x329")])(x),_=document[_0x1dda("0x20")]("img");d[_0x1dda("0x35")][_0x1dda("0x354")]?_.src=d[_0x1dda("0x35")][_0x1dda("0x354")]:_[_0x1dda("0x4e5")]=t.compassPointer;var e=new(THREE[_0x1dda("0x329")])(_);this.lw_=this.w_,this[_0x1dda("0xb58")]=this.h_,a[_0x1dda("0x172")]=!0,e[_0x1dda("0x172")]=!0,this[_0x1dda("0xb54")]=new THREE.SpriteMaterial({map:a}),this[_0x1dda("0xabc")]=new(THREE[_0x1dda("0x2e4")])(this.materialBg_),this[_0x1dda("0xabc")][_0x1dda("0x1d7")][_0x1dda("0xcd")](this.w_,this.h_,1),this.materialPt_=new(THREE[_0x1dda("0x23e")])({map:e}),this[_0x1dda("0xabd")]=new THREE.Sprite(this[_0x1dda("0xb55")]),this.spritePt_.scale[_0x1dda("0xcd")](this[_0x1dda("0xb59")],this.lh_,1),this.materialBg_.map[_0x1dda("0x174")]=THREE[_0x1dda("0x32a")],this[_0x1dda("0xb55")][_0x1dda("0x42")][_0x1dda("0x174")]=THREE[_0x1dda("0x32a")],this[_0x1dda("0x4de")][_0x1dda("0xce")](this[_0x1dda("0xabc")]),this[_0x1dda("0x4de")][_0x1dda("0xce")](this[_0x1dda("0xabd")]);var n=this[_0x1dda("0x4db")].container,r=n[_0x1dda("0x4a7")],s=n[_0x1dda("0x4e8")];this[_0x1dda("0x4e1")](r,s)}}},{key:_0x1dda("0x169"),set:function(d){d!=this[_0x1dda("0x4dd")]&&(this[_0x1dda("0x4dd")]=d,d?(this[_0x1dda("0x32")](),this[_0x1dda("0xabc")][_0x1dda("0x169")]=this[_0x1dda("0xabd")][_0x1dda("0x169")]=!0):null!=this.spriteBg_&&null!=this[_0x1dda("0xabd")]&&(this[_0x1dda("0xabc")][_0x1dda("0x169")]=this.spritePt_.visible=!1))},get:function(){return this[_0x1dda("0x4dd")]}}]),d}();x.default=r},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=_0x1dda("0xb5a");x[_0x1dda("0xb5b")]=_},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=_0x1dda("0xb5c");x[_0x1dda("0xb5d")]=_},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _={s:1,k:null,token:"",tid:3,version:1,themeID:null,tileType:_0x1dda("0xb5e"),maximumTiles:25,maximumBuildings:1,loadRoads:!0,showRoads:!0,serverUrl:null,defaultLight:!1,showBuildingMode:esmap[_0x1dda("0x5cb")][_0x1dda("0xb5f")],showBuildingModeBk:{tileScaleZ:.25,time:1,mode:1},roadShowLevel:{6:18,15:15.6},zoomLevel:15,maxBuildingZoomLevel:18,tileShowLevel:12.5,disableViewCenter:!1,clickOpenBuildings:!0,esTileMode:!0,tileColor:"255,255,255",disableIndoorClick:!1,disableOutdoorClick:!1,buildingScale:1,pickableBuildings:[],crs:null,tileMode:!0,roadStyle:{url:_0x1dda("0xb60"),lineWidth:12,isMapRoad:!0,speed:50,dashArray:[100],dash:{speed:50},alpha:.8,offsetHeight:10,lineType:esmap[_0x1dda("0x98d")][_0x1dda("0x11a")]},worldScale:15,showTapTip:!0,offsetbid:0,offsetroad:0,buildingMergeModel3D:!0,autoOpenBuilding:!1,autoOpenLevel:20,buildingFoucsMode:2,buildingsFirstFloorNum:null,isShowSingleBasement:!0,selectedColor:null};x[_0x1dda("0x382")]=_},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});x.DefaultBuildingOptions={callbackByFloor:null,themeID:0,focusAnimateMode:!0,focusAnimateTime:.3,focusAlphaMode:!1,focusAlpha:.4,undergroundOffset:0,modelSelectedEffect:!0,model3DHoverEffect:!1,mergeModelLines:!0,mergeModels:!0,scaleOffset:0,offsetZ:0,visibleFloors:null,focusFloor:null,showBase:0,mapFloorSpan:0,loadModel3D:1,loadPoi:1,loadLabel:1,token:null,logotoken:null,modelLines:null,mergeModel3D:!0,s:null,k:null,dataCenter:null,center:null,selectedColor:null,focusMode:2,unloadRoomLogo:!1}},function(d,x,a){"use strict";var _=t(a(71)),e=t(a(20));function t(d){return d&&d.__esModule?d:{default:d}}THREE[_0x1dda("0xaa1")]=function(d,x){var a,_,e,t,i,n,r;this[_0x1dda("0x1b")]=d,this[_0x1dda("0x1a0")]=void 0!==x?x:document,this[_0x1dda("0x6b9")]=!0,this[_0x1dda("0x227")]=new(THREE[_0x1dda("0x11c")]),this[_0x1dda("0x277")]=0,this[_0x1dda("0x276")]=1/0,this.minZoom=0,this[_0x1dda("0xb61")]=1/0,this[_0x1dda("0x923")]=!0,this.zoomToCursorPolarLimit=Math.PI/3,this[_0x1dda("0xb62")]=!0,this[_0x1dda("0x922")]=0,this[_0x1dda("0xa83")]=Math.PI,this.minAzimuthAngle=-1/0,this[_0x1dda("0xb63")]=1/0,this[_0x1dda("0xb64")]=!1,this[_0x1dda("0xb65")]=.05,this[_0x1dda("0xb66")]=!0,this[_0x1dda("0xb67")]=1,this[_0x1dda("0xb68")]=!0,this[_0x1dda("0xb69")]=1,this[_0x1dda("0xb6a")]=!0,this[_0x1dda("0xb6b")]=!0,this[_0x1dda("0xb6c")]=1,this[_0x1dda("0xb6d")]=!1,this[_0x1dda("0xb6e")]=7,this.autoRotate=!1,this[_0x1dda("0xb6f")]=2,this[_0x1dda("0xb70")]={min:-1,max:1/0},this[_0x1dda("0xb71")]=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.keys2={LEFT:65,UP:87,RIGHT:68,BOTTOM:83},this.mouseButtons={LEFT:THREE[_0x1dda("0xaa3")][_0x1dda("0xaae")],MIDDLE:THREE[_0x1dda("0xaa3")][_0x1dda("0xaa4")],RIGHT:THREE.MOUSE[_0x1dda("0xb72")]},this[_0x1dda("0xb73")]=this[_0x1dda("0x227")][_0x1dda("0x116")](),this[_0x1dda("0xb74")]=this[_0x1dda("0x1b")][_0x1dda("0xfa")][_0x1dda("0x116")](),this[_0x1dda("0xb75")]=this[_0x1dda("0x1b")][_0x1dda("0x615")],this.prevRadius=999999,this[_0x1dda("0x296")]=function(){return b[_0x1dda("0x704")]},this[_0x1dda("0x295")]=function(){return b[_0x1dda("0x72d")]},this[_0x1dda("0x667")]=function(){return this[_0x1dda("0x1b")].position.clone()[_0x1dda("0x4cf")](this.target)[_0x1dda("0x0")]()},this[_0x1dda("0xa4a")]=function(){return this[_0x1dda("0x1b")]instanceof THREE[_0x1dda("0x877")]?this[_0x1dda("0x667")]()/this[_0x1dda("0x9ca")]:this[_0x1dda("0x1b")][_0x1dda("0x323")]/this[_0x1dda("0x1b")][_0x1dda("0x615")]/this[_0x1dda("0xa8c")]},this[_0x1dda("0x9d7")]=function(d,x){var a=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x19f")][_0x1dda("0x614")],_=a.position[_0x1dda("0x116")]()[_0x1dda("0x4cf")](this.target)[_0x1dda("0x2cc")]();_[_0x1dda("0x218")](this.initDistance_*d);var e=this[_0x1dda("0x227")][_0x1dda("0x116")]()[_0x1dda("0xce")](_);if(this.object instanceof THREE.PerspectiveCamera)a[_0x1dda("0xfa")][_0x1dda("0x20e")](e);else if(this[_0x1dda("0x1b")]instanceof THREE[_0x1dda("0x6c7")]){var t=e[_0x1dda("0x117")](this[_0x1dda("0x227")]),i=esmap[_0x1dda("0x86")][_0x1dda("0xa54")](a,this,t),n=this[_0x1dda("0x1b")][_0x1dda("0x323")]/i[_0x1dda("0x323")];this[_0x1dda("0x1b")].zoom=n,this[_0x1dda("0x1b")][_0x1dda("0x8cf")]()}},this[_0x1dda("0xa7f")]=function(){for(var d=this[_0x1dda("0xa4a")](),x=esmap[_0x1dda("0x33")][_0x1dda("0x34")],a=0;a<x.scaleLevels_.length;a++)if(Math[_0x1dda("0x2c1")](x.scaleLevels_[a]-d)>.001&&d<x[_0x1dda("0x930")][a])return a-1<0?0:a-1;return a-1<0?0:a-1},this[_0x1dda("0xb76")]=function(){s[_0x1dda("0xb73")][_0x1dda("0x20e")](s[_0x1dda("0x227")]),s[_0x1dda("0xb74")][_0x1dda("0x20e")](s[_0x1dda("0x1b")][_0x1dda("0xfa")]),s.zoom0=s[_0x1dda("0x1b")][_0x1dda("0x615")]},this[_0x1dda("0xb77")]=function(){h=u[_0x1dda("0xb78")],this.dispatchEvent(l)},this.reset=function(){s[_0x1dda("0x227")][_0x1dda("0x20e")](s[_0x1dda("0xb73")]),s[_0x1dda("0x1b")].position[_0x1dda("0x20e")](s[_0x1dda("0xb74")]),s[_0x1dda("0x1b")].zoom=s[_0x1dda("0xb75")],s[_0x1dda("0x1b")][_0x1dda("0x8cf")](),s[_0x1dda("0x40")](o),s[_0x1dda("0x152")](),h=u[_0x1dda("0xb78")]},this.update=(a=new THREE.Vector3,_=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0xb79")](d.up,new(THREE[_0x1dda("0x11c")])(0,1,0)),e=_[_0x1dda("0x116")]().inverse(),t=new(THREE[_0x1dda("0x11c")]),i=new(THREE[_0x1dda("0x20c")]),n=2*Math.PI,r=999999,function(d){var x=arguments[_0x1dda("0x0")]>1&&void 0!==arguments[1]&&arguments[1];if(!1!==s.enabled){var c=s[_0x1dda("0x1b")][_0x1dda("0xfa")];a[_0x1dda("0x20e")](c)[_0x1dda("0x4cf")](s.target),a[_0x1dda("0xb7a")](_),b[_0x1dda("0xb7b")](a),s[_0x1dda("0xb7c")]&&h===u[_0x1dda("0xb78")]&&N(2*Math.PI/60/60*s[_0x1dda("0xb6f")]),s[_0x1dda("0xb64")]?(s[_0x1dda("0x923")]&&s[_0x1dda("0xb62")]&&x&&(s[_0x1dda("0x1b")][_0x1dda("0x8d0")]?s[_0x1dda("0x227")][_0x1dda("0xb7d")](B,1-b.radius/r):s[_0x1dda("0x1b")][_0x1dda("0xb7e")]&&s.target[_0x1dda("0xb7d")](B,1-C)),a[_0x1dda("0xb7f")](b),b[_0x1dda("0x72d")]+=v[_0x1dda("0x72d")]*s[_0x1dda("0xb65")],b[_0x1dda("0x704")]+=v[_0x1dda("0x704")]*s[_0x1dda("0xb65")]):(s[_0x1dda("0x923")]&&s[_0x1dda("0xb62")]&&x&&(s[_0x1dda("0x1b")].isPerspectiveCamera?s[_0x1dda("0x227")][_0x1dda("0xb7d")](B,x[_0x1dda("0xb80")]):s[_0x1dda("0x1b")][_0x1dda("0xb7e")]&&s[_0x1dda("0x227")].lerp(B,1-C)),b[_0x1dda("0x72d")]+=v[_0x1dda("0x72d")],b[_0x1dda("0x704")]+=v[_0x1dda("0x704")]),d&&(d[_0x1dda("0x2")](_0x1dda("0xb81"))&&(b[_0x1dda("0x72d")]=d[_0x1dda("0xb81")],v[_0x1dda("0x72d")]=0),d[_0x1dda("0x2")](_0x1dda("0xb82"))&&(b.phi=d[_0x1dda("0xb82")],v[_0x1dda("0x704")]=0)),b.phi>s[_0x1dda("0xb83")]?s[_0x1dda("0xb62")]=!1:s[_0x1dda("0xb62")]=!0,b[_0x1dda("0x72d")]=Math[_0x1dda("0x2be")](s[_0x1dda("0xb84")],Math[_0x1dda("0x2f6")](s.maxAzimuthAngle,b[_0x1dda("0x72d")]));var l=s[_0x1dda("0xb84")],I=s[_0x1dda("0xb63")];return isFinite(l)&&isFinite(I)&&(l<-Math.PI?l+=n:l>Math.PI&&(l-=n),I<-Math.PI?I+=n:I>Math.PI&&(I-=n),b.theta=l<=I?Math[_0x1dda("0x2be")](l,Math[_0x1dda("0x2f6")](I,b.theta)):b[_0x1dda("0x72d")]>(l+I)/2?Math[_0x1dda("0x2be")](l,b.theta):Math[_0x1dda("0x2f6")](I,b[_0x1dda("0x72d")])),b[_0x1dda("0x704")]=Math[_0x1dda("0x2be")](s[_0x1dda("0x922")],Math[_0x1dda("0x2f6")](s[_0x1dda("0xa83")],b.phi)),b[_0x1dda("0xb85")](),1!=p&&s[_0x1dda("0x40")](f),r=b.radius,b[_0x1dda("0x645")]*=p,b[_0x1dda("0x645")]=Math[_0x1dda("0x2be")](s[_0x1dda("0x277")],Math[_0x1dda("0x2f6")](s[_0x1dda("0x276")],b[_0x1dda("0x645")])),s.enableDamping?s[_0x1dda("0x227")][_0x1dda("0xb86")](m,s[_0x1dda("0xb65")]):s.target[_0x1dda("0xce")](m),a[_0x1dda("0xb7f")](b),a[_0x1dda("0xb7a")](e),c.copy(s[_0x1dda("0x227")])[_0x1dda("0xce")](a),s[_0x1dda("0x1b")][_0x1dda("0x208")](s[_0x1dda("0x227")]),!0===s[_0x1dda("0xb64")]?(v[_0x1dda("0x72d")]*=1-s[_0x1dda("0xb65")],v.phi*=1-s[_0x1dda("0xb65")],m.multiplyScalar(1-s.dampingFactor)):(v[_0x1dda("0xcd")](0,0,0),m[_0x1dda("0xcd")](0,0,0)),p=1,!!(A||t[_0x1dda("0x6f2")](s[_0x1dda("0x1b")][_0x1dda("0xfa")])>g||8*(1-i.dot(s[_0x1dda("0x1b")].quaternion))>g)&&(s.dispatchEvent(o),t[_0x1dda("0x20e")](s.object.position),i[_0x1dda("0x20e")](s[_0x1dda("0x1b")][_0x1dda("0x1d9")]),A=!1,C=1,!0)}}),this[_0x1dda("0xe8")]=function(){s.domElement[_0x1dda("0x264")](_0x1dda("0x72e"),cd,!1),s[_0x1dda("0x1a0")].removeEventListener(_0x1dda("0x731"),_d,!1),s[_0x1dda("0x1a0")].removeEventListener(_0x1dda("0xaa5"),id,!1),s[_0x1dda("0x1a0")][_0x1dda("0x264")]("touchstart",rd,!1),s[_0x1dda("0x1a0")][_0x1dda("0x264")](_0x1dda("0xb01"),od,!1),s[_0x1dda("0x1a0")][_0x1dda("0x264")](_0x1dda("0xb06"),sd,!1),document[_0x1dda("0x264")](_0x1dda("0x72f"),ed,!1),document[_0x1dda("0x264")](_0x1dda("0x732"),td,!1),window[_0x1dda("0x264")](_0x1dda("0x224"),nd,!1)};var s=this,o={type:_0x1dda("0x926")},c={type:_0x1dda("0x21c")},l={type:_0x1dda("0x267")},f={type:"zoomed"},u={NONE:0,ROTATE_UP:1,ROTATE_LEFT:2,ROTATE:3,DOLLY:4,DOLLY_ROTATE:7,PAN:8,DOLLY_PAN:12},h=u.NONE,g=1e-6,b=new(THREE[_0x1dda("0xb87")]),v=new(THREE[_0x1dda("0xb87")]),p=1,m=new(THREE[_0x1dda("0x11c")]),A=!1,C=1,I=new(THREE[_0x1dda("0x50f")]),y=new THREE.Vector2,E=new(THREE[_0x1dda("0x50f")]),w=new(THREE[_0x1dda("0x50f")]),T=new THREE.Vector2,k=new(THREE[_0x1dda("0x50f")]),S=new(THREE[_0x1dda("0x50f")]),M=new(THREE[_0x1dda("0x50f")]),R=new(THREE[_0x1dda("0x50f")]),L=new(THREE[_0x1dda("0x50f")]),D=new THREE.Vector2,H=new(THREE[_0x1dda("0x50f")]),P=new THREE.Vector2,O=new THREE.Vector2,B=new THREE.Vector3;function F(){return Math.pow(.95,s.zoomSpeed)}function N(d){v.theta-=d}function z(d){v[_0x1dda("0x704")]-=d}var j,U,X,Y=(j=new THREE.Vector3,function(d,x){j[_0x1dda("0xb88")](x,0),j[_0x1dda("0x218")](-d),m[_0x1dda("0xce")](j)}),G=(U=new THREE.Vector3,function(d,x){!0===s[_0x1dda("0xb6d")]?U[_0x1dda("0xb88")](x,1):(U[_0x1dda("0xb88")](x,0),U[_0x1dda("0x8a1")](s.object.up,U)),U[_0x1dda("0x218")](d),m[_0x1dda("0xce")](U)}),Q=(X=new(THREE[_0x1dda("0x11c")]),function(d,x){var a=s.domElement===document?s[_0x1dda("0x1a0")][_0x1dda("0x4a9")]:s[_0x1dda("0x1a0")];if(s[_0x1dda("0x1b")].isPerspectiveCamera){var _=s.object.position;X[_0x1dda("0x20e")](_)[_0x1dda("0x4cf")](s[_0x1dda("0x227")]);var e=X[_0x1dda("0x0")]();e*=Math.tan(s[_0x1dda("0x1b")][_0x1dda("0x618")]/2*Math.PI/180),Y(2*d*e/a[_0x1dda("0x4e8")],s[_0x1dda("0x1b")][_0x1dda("0x1f6")]),G(2*x*e/a[_0x1dda("0x4e8")],s[_0x1dda("0x1b")][_0x1dda("0x1f6")])}else s[_0x1dda("0x1b")][_0x1dda("0xb7e")]?(Y(d*(s[_0x1dda("0x1b")][_0x1dda("0x326")]-s[_0x1dda("0x1b")][_0x1dda("0x325")])/s[_0x1dda("0x1b")].zoom/a[_0x1dda("0x4a7")],s[_0x1dda("0x1b")][_0x1dda("0x1f6")]),G(x*(s[_0x1dda("0x1b")][_0x1dda("0x323")]-s[_0x1dda("0x1b")][_0x1dda("0x324")])/s[_0x1dda("0x1b")][_0x1dda("0x615")]/a[_0x1dda("0x4e8")],s.object[_0x1dda("0x1f6")])):(console[_0x1dda("0x3ec")](_0x1dda("0xb89")),s.enablePan=!1)});function V(d){if(s[_0x1dda("0x1b")][_0x1dda("0x8d0")])p/=d;else if(s.object[_0x1dda("0xb7e")]){var x=s[_0x1dda("0x1b")].zoom*d,a=window[_0x1dda("0xdd")][_0x1dda("0x33")].instance[_0x1dda("0x19f")][_0x1dda("0xa8a")][_0x1dda("0x323")]/x;a<s.orthoLimitSize[_0x1dda("0x2be")]&&a>s[_0x1dda("0xb70")][_0x1dda("0x2f6")]&&(C=s[_0x1dda("0x1b")].zoom,s.object.zoom=Math[_0x1dda("0x2be")](s.minZoom,Math[_0x1dda("0x2f6")](s[_0x1dda("0xb61")],s[_0x1dda("0x1b")][_0x1dda("0x615")]*d)),C/=s.object.zoom,s.object[_0x1dda("0x8cf")](),A=!0)}else console[_0x1dda("0x3ec")](_0x1dda("0xb8a")),s.enableZoom=!1}function W(d){if(s.object[_0x1dda("0x8d0")])p*=d;else if(s.object[_0x1dda("0xb7e")]){var x=s[_0x1dda("0x1b")].zoom/d;window[_0x1dda("0xdd")][_0x1dda("0x33")][_0x1dda("0x34")].mapView[_0x1dda("0xa8a")].top/x>s[_0x1dda("0xb70")][_0x1dda("0x2f6")]&&(C=s[_0x1dda("0x1b")].zoom,s[_0x1dda("0x1b")].zoom=Math[_0x1dda("0x2be")](s[_0x1dda("0xb8b")],Math[_0x1dda("0x2f6")](s[_0x1dda("0xb61")],s[_0x1dda("0x1b")][_0x1dda("0x615")]/d)),C/=s[_0x1dda("0x1b")][_0x1dda("0x615")],s[_0x1dda("0x1b")].updateProjectionMatrix(),A=!0)}else console[_0x1dda("0x3ec")](_0x1dda("0xb8a")),s[_0x1dda("0xb66")]=!1}var Z,J,K=(Z=new(THREE[_0x1dda("0x11c")]),J=new THREE.Vector3,function(d){var x=s[_0x1dda("0x1a0")],a=d.offsetX,_=d[_0x1dda("0x31b")];if(s[_0x1dda("0x1b")][_0x1dda("0x8d0")]){Z[_0x1dda("0xcd")](a/x[_0x1dda("0x4a7")]*2-1,-_/x.clientHeight*2+1,.5),Z[_0x1dda("0x8d1")](s[_0x1dda("0x1b")]),Z[_0x1dda("0x4cf")](s[_0x1dda("0x1b")][_0x1dda("0xfa")])[_0x1dda("0x2cc")]();var e=J[_0x1dda("0x20e")](s[_0x1dda("0x227")])[_0x1dda("0x4cf")](s[_0x1dda("0x1b")][_0x1dda("0xfa")])[_0x1dda("0x8a4")](s[_0x1dda("0x1b")].up)/Z[_0x1dda("0x8a4")](s.object.up);B.copy(s[_0x1dda("0x1b")].position)[_0x1dda("0xce")](Z[_0x1dda("0x218")](e))}else if(s[_0x1dda("0x1b")][_0x1dda("0xb7e")]){Z[_0x1dda("0xcd")](a/x[_0x1dda("0x4a7")]*2-1,-_/x[_0x1dda("0x4e8")]*2+1,(s[_0x1dda("0x1b")][_0x1dda("0x5cc")]+s[_0x1dda("0x1b")][_0x1dda("0x4d0")])/(s[_0x1dda("0x1b")].near-s[_0x1dda("0x1b")][_0x1dda("0x4d0")])),Z[_0x1dda("0x8d1")](s[_0x1dda("0x1b")]),J[_0x1dda("0xcd")](0,0,-1).applyQuaternion(s.object[_0x1dda("0x1d9")]);var t=-Z[_0x1dda("0x8a4")](s[_0x1dda("0x1b")].up)/J.dot(s[_0x1dda("0x1b")].up);B[_0x1dda("0x20e")](Z)[_0x1dda("0xce")](J[_0x1dda("0x218")](t)),B.y=s.target.y}else console[_0x1dda("0x3ec")]("WARNING: OrbitControls.js encountered an unknown camera type.")});function q(d){if(!1!==s.enableRotate&&0!=(h&u[_0x1dda("0xb8f")])){if(E.set(d[_0x1dda("0xb32")][0].pageX,d[_0x1dda("0xb32")][0][_0x1dda("0x71e")]),w[_0x1dda("0xcd")](d[_0x1dda("0xb32")][1][_0x1dda("0x71d")],d[_0x1dda("0xb32")][1].pageY),T[_0x1dda("0x89f")](E,I),k.subVectors(w,y),S[_0x1dda("0x89f")](y,I),M[_0x1dda("0x89f")](w,E),function(){xd(S);xd(M);if(!ad(T))return!1;if(!ad(k))return!1;return T[_0x1dda("0x8a4")](k)>0}()){var x=s[_0x1dda("0x1a0")]===document?s.domElement.body:s[_0x1dda("0x1a0")];z(2*Math.PI*T.y/x.clientHeight),h=u[_0x1dda("0xb90")]}else 0!=(h&u[_0x1dda("0xb91")])&&N((S[_0x1dda("0x201")]()-M[_0x1dda("0x201")]())*s.rotateSpeed);I.copy(E),y[_0x1dda("0x20e")](w)}}var $,dd,xd=($=Math.sin(Math.PI/6),function(d){return Math[_0x1dda("0x2c1")](Math.sin(d[_0x1dda("0x201")]()))<$}),ad=(dd=Math[_0x1dda("0x669")](Math.PI/2-Math.PI/6),function(d){return Math[_0x1dda("0x2c1")](Math[_0x1dda("0x669")](d.angle()))<dd});function _d(d){if(!1!==s.enabled){switch(d[_0x1dda("0x473")](),d[_0x1dda("0x71b")]){case s.mouseButtons.LEFT:if(!1===s[_0x1dda("0xb6b")])return;_=d,R[_0x1dda("0xcd")](_.clientX,_[_0x1dda("0x499")]),h=u.PAN;break;case s[_0x1dda("0xaa2")][_0x1dda("0xaa4")]:if(!1===s[_0x1dda("0xb66")])return;a=d,H.set(a.clientX,a[_0x1dda("0x499")]),h=u[_0x1dda("0xb92")];break;case s[_0x1dda("0xaa2")][_0x1dda("0xb72")]:x=d,I[_0x1dda("0xcd")](x[_0x1dda("0x497")],x[_0x1dda("0x499")]),h=u[_0x1dda("0xb8f")]}var x,a,_;h!==u.NONE&&(document[_0x1dda("0x30")](_0x1dda("0x72f"),ed,!1),document[_0x1dda("0x30")](_0x1dda("0x732"),td,!1),s[_0x1dda("0x40")](c))}}function ed(d){var x;if(!1!==s.enabled)switch(d[_0x1dda("0x473")](),h){case u[_0x1dda("0xb8f")]:!function(d){E[_0x1dda("0xcd")](d[_0x1dda("0x497")],d[_0x1dda("0x499")]),T.subVectors(E,I)[_0x1dda("0x218")](s.rotateSpeed);var x=s[_0x1dda("0x1a0")]===document?s[_0x1dda("0x1a0")][_0x1dda("0x4a9")]:s[_0x1dda("0x1a0")];s[_0x1dda("0xb68")]&&N(2*Math.PI*T.x/x[_0x1dda("0x4e8")]),s[_0x1dda("0xb6a")]&&z(2*Math.PI*T.y/x[_0x1dda("0x4e8")]),I.copy(E),s[_0x1dda("0x152")]()}(d);break;case u[_0x1dda("0xb92")]:if(!1===s[_0x1dda("0xb66")])return;!function(d){var x=b[_0x1dda("0x645")];K(d),P[_0x1dda("0xcd")](d[_0x1dda("0x497")],d.clientY),O[_0x1dda("0x89f")](P,H),O.y>0?V(F()):O.y<0&&W(F()),H[_0x1dda("0x20e")](P);var a=b.radius*p,_=1-(a=Math.max(s[_0x1dda("0x277")],Math[_0x1dda("0x2f6")](s[_0x1dda("0x276")],a)))/x;s.update(null,{lerpvalue:_})}(d);break;case u[_0x1dda("0xb93")]:if(!1===s[_0x1dda("0xb6b")])return;x=d,L.set(x[_0x1dda("0x497")],x.clientY),D.subVectors(L,R)[_0x1dda("0x218")](s[_0x1dda("0xb6c")]),Q(D.x,D.y),R[_0x1dda("0x20e")](L),s.update()}}function td(d){!1!==s[_0x1dda("0x6b9")]&&(document[_0x1dda("0x264")](_0x1dda("0x72f"),ed,!1),document[_0x1dda("0x264")]("mouseup",td,!1),s[_0x1dda("0x40")](l),h=u[_0x1dda("0xb78")])}function id(d){!1===s[_0x1dda("0x6b9")]||!1===s.enableZoom||h!==u[_0x1dda("0xb78")]&&h!==u[_0x1dda("0xb8f")]||(d.preventDefault(),d[_0x1dda("0x343")](),s[_0x1dda("0x40")](c),function(d){K(d);var x=b[_0x1dda("0x645")];d[_0x1dda("0xb8c")]<0?W(F()):d[_0x1dda("0xb8c")]>0&&V(F());var a=b[_0x1dda("0x645")]*p,_=1-(a=Math[_0x1dda("0x2be")](s[_0x1dda("0x277")],Math.min(s[_0x1dda("0x276")],a)))/x;s[_0x1dda("0x152")](null,{lerpvalue:_})}(d),s[_0x1dda("0x40")](l))}function nd(d){!1!==s[_0x1dda("0x6b9")]&&!1!==s[_0x1dda("0xb71")]&&!1!==s[_0x1dda("0xb6b")]&&function(d){switch(d[_0x1dda("0x223")]){case s.keys.UP:case s.keys2.UP:Q(0,s[_0x1dda("0xb6e")]),s.update();break;case s[_0x1dda("0xa18")][_0x1dda("0xb8d")]:case s[_0x1dda("0xb8e")][_0x1dda("0xb8d")]:Q(0,-s[_0x1dda("0xb6e")]),s.update();break;case s[_0x1dda("0xa18")].LEFT:case s[_0x1dda("0xb8e")][_0x1dda("0xaae")]:Q(s[_0x1dda("0xb6e")],0),s[_0x1dda("0x152")]();break;case s[_0x1dda("0xa18")][_0x1dda("0xb72")]:case s[_0x1dda("0xb8e")][_0x1dda("0xb72")]:Q(-s[_0x1dda("0xb6e")],0),s[_0x1dda("0x152")]()}}(d)}function rd(d){if(!1!==s[_0x1dda("0x6b9")]){switch(d[_0x1dda("0x473")](),d[_0x1dda("0xb32")][_0x1dda("0x0")]){case 1:if(!1===s[_0x1dda("0xb6b")])return;!function(d){if(s[_0x1dda("0xb6b")]){var x=d[_0x1dda("0xb32")][0][_0x1dda("0x71d")],a=d.touches[0].pageY;x<0&&(x=0),a<0&&(a=0),R[_0x1dda("0xcd")](x,a)}}(d),h=u[_0x1dda("0xb93")];break;case 2:if(!1===s[_0x1dda("0xb66")]&&!1===s[_0x1dda("0xb68")])return;x=d,I[_0x1dda("0xcd")](x[_0x1dda("0xb32")][0].pageX,x[_0x1dda("0xb32")][0][_0x1dda("0x71e")]),y.set(x[_0x1dda("0xb32")][1][_0x1dda("0x71d")],x[_0x1dda("0xb32")][1][_0x1dda("0x71e")]),function(d){if(s.enableZoom){var x=d[_0x1dda("0xb32")][0][_0x1dda("0x71d")]-d.touches[1][_0x1dda("0x71d")],a=d[_0x1dda("0xb32")][0][_0x1dda("0x71e")]-d[_0x1dda("0xb32")][1][_0x1dda("0x71e")],_=Math[_0x1dda("0x103")](x*x+a*a);H[_0x1dda("0xcd")](0,_)}}(d),h=u[_0x1dda("0xb94")];break;default:h=u.NONE}var x;h!==u[_0x1dda("0xb78")]&&s[_0x1dda("0x40")](c)}}function sd(d){if(!1!==s.enabled)switch(d[_0x1dda("0x473")](),d[_0x1dda("0x343")](),d[_0x1dda("0xb32")][_0x1dda("0x0")]){case 1:if(!1===s[_0x1dda("0xb6b")])return;if(h!==u[_0x1dda("0xb93")])return;!function(d){if(!1!==s[_0x1dda("0xb6b")]&&0!=(h&u[_0x1dda("0xb93")])){var x=d[_0x1dda("0xb32")][0].pageX,a=d[_0x1dda("0xb32")][0][_0x1dda("0x71e")];x<0||a<0||(L[_0x1dda("0xcd")](x,a),D[_0x1dda("0x89f")](L,R)[_0x1dda("0x218")](s[_0x1dda("0xb6c")]),Q(D.x,D.y),R.copy(L))}}(d),s[_0x1dda("0x152")]();break;case 2:if(!1===s[_0x1dda("0xb66")]&&!1===s.enableRotate)return;if(0==(h&u[_0x1dda("0xb94")]))return;q(d),function(d){if(!1!==s[_0x1dda("0xb66")]&&0!=(h&u[_0x1dda("0xb92")])){var x=d.touches[0][_0x1dda("0x71d")]-d[_0x1dda("0xb32")][1][_0x1dda("0x71d")],a=d[_0x1dda("0xb32")][0][_0x1dda("0x71e")]-d[_0x1dda("0xb32")][1][_0x1dda("0x71e")],_=Math[_0x1dda("0x103")](x*x+a*a);P[_0x1dda("0xcd")](0,_),O[_0x1dda("0xcd")](0,Math[_0x1dda("0xea")](P.y/H.y,s.zoomSpeed)),V(O.y),H[_0x1dda("0x20e")](P)}}(d),s[_0x1dda("0x152")]();break;default:h=u[_0x1dda("0xb78")]}}function od(d){!1!==s[_0x1dda("0x6b9")]&&(s[_0x1dda("0x40")](l),h=u[_0x1dda("0xb78")])}function cd(d){!1!==s.enabled&&d[_0x1dda("0x473")]()}s[_0x1dda("0x1a0")][_0x1dda("0x30")](_0x1dda("0x72e"),cd,!1),s.domElement[_0x1dda("0x30")]("mousedown",_d,!1),s[_0x1dda("0x1a0")].addEventListener("wheel",id,!1),s[_0x1dda("0x1a0")][_0x1dda("0x30")](_0x1dda("0xb00"),rd,!1),s[_0x1dda("0x1a0")][_0x1dda("0x30")](_0x1dda("0xb01"),od,!1),s[_0x1dda("0x1a0")].addEventListener(_0x1dda("0xb06"),sd,!1),window[_0x1dda("0x30")](_0x1dda("0x224"),nd,!1),this[_0x1dda("0x152")]()},THREE[_0x1dda("0xaa1")][_0x1dda("0x1")]=(0,e[_0x1dda("0xd")])(THREE[_0x1dda("0xb95")].prototype),THREE.MapControls.prototype.constructor=THREE[_0x1dda("0xaa1")],(0,_.default)(THREE[_0x1dda("0xaa1")][_0x1dda("0x1")],{unsetScaleLevel:{value:function(){this.minDistance=0,this[_0x1dda("0x276")]=1/0}},initScaleLevel:{value:function(d,x){var a=window[_0x1dda("0xdd")][_0x1dda("0x33")][_0x1dda("0x34")],_=this[_0x1dda("0x9ca")]*d,e=this.initDistance_*x;this.minDistance=_,this[_0x1dda("0x276")]=e;var t=esmap.ESMapUtil[_0x1dda("0xa54")](a[_0x1dda("0x19f")][_0x1dda("0x614")],this,_),i=esmap[_0x1dda("0x86")][_0x1dda("0xa54")](a[_0x1dda("0x19f")][_0x1dda("0x614")],this,e);this[_0x1dda("0xb70")]={min:t[_0x1dda("0x323")],max:i[_0x1dda("0x323")]}}},center:{get:function(){return console[_0x1dda("0x3ec")](_0x1dda("0xb96")),this[_0x1dda("0x227")]}},noZoom:{get:function(){return console[_0x1dda("0x3ec")](_0x1dda("0xb97")),!this[_0x1dda("0xb66")]},set:function(d){console[_0x1dda("0x3ec")](_0x1dda("0xb97")),this[_0x1dda("0xb66")]=!d}},noRotate:{get:function(){return console[_0x1dda("0x3ec")](_0x1dda("0xb98")),!this.enableRotate},set:function(d){console[_0x1dda("0x3ec")](_0x1dda("0xb98")),this[_0x1dda("0xb68")]=!d}},noPan:{get:function(){return console[_0x1dda("0x3ec")](_0x1dda("0xb99")),!this.enablePan},set:function(d){console[_0x1dda("0x3ec")]("THREE.MapControls: .noPan has been deprecated. Use .enablePan instead."),this[_0x1dda("0xb6b")]=!d}},noKeys:{get:function(){return console[_0x1dda("0x3ec")](_0x1dda("0xb9a")),!this[_0x1dda("0xb71")]},set:function(d){this.enableKeys=!d}},staticMoving:{get:function(){return console[_0x1dda("0x3ec")]("THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this[_0x1dda("0xb64")]},set:function(d){console[_0x1dda("0x3ec")](_0x1dda("0xb9b")),this[_0x1dda("0xb64")]=!d}},dynamicDampingFactor:{get:function(){return console[_0x1dda("0x3ec")]("THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(d){console[_0x1dda("0x3ec")]("THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this[_0x1dda("0xb65")]=d}}})},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=n(a(297)),e=n(a(0)),t=n(a(1)),i=n(a(2));function n(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var r=function(){function d(x,a){(0,e[_0x1dda("0xd")])(this,d),this[_0x1dda("0xb9c")]=x,this[_0x1dda("0x226")]=a,this[_0x1dda("0xb9d")]=!1}return(0,t[_0x1dda("0xd")])(d,[{key:_0x1dda("0xb9e"),value:function(d){var x=d[_0x1dda("0xb9f")],a=d[_0x1dda("0xfa")],_=d[_0x1dda("0xba0")],e=void 0===_?3:_,t=d[_0x1dda("0xb67")],i=void 0===t?5:t,n=d.radiusFactor,r=d[_0x1dda("0x9cb")],s=d[_0x1dda("0x298")];if(esmap[_0x1dda("0xba1")]){var o=new THREE.Vector3(a.x,this[_0x1dda("0x226")][_0x1dda("0x227")].y,a.z)[_0x1dda("0x117")](this[_0x1dda("0x226")][_0x1dda("0x227")]),c=this.controls.object._cameraSphericalRadius-n,l=Math.floor(o/e),f=Math.floor(Math[_0x1dda("0x2c1")](c)/i);f<1e3&&(f=1e3),l<1e3&&(l=1e3);var u=0;switch(x){case esmap.ESDirection.NORTH:u=179.99;break;case esmap[_0x1dda("0xba1")].SOUTH:u=.01;break;case esmap.ESDirection[_0x1dda("0xba3")]:u=-90;break;case esmap[_0x1dda("0xba1")][_0x1dda("0xba4")]:u=90;break;case esmap[_0x1dda("0xba1")][_0x1dda("0xba5")]:u=135;break;case esmap[_0x1dda("0xba1")][_0x1dda("0xba6")]:u=-135;break;case esmap[_0x1dda("0xba1")][_0x1dda("0xba7")]:u=45;break;case esmap[_0x1dda("0xba1")][_0x1dda("0xba8")]:u=-45}var h=this;this[_0x1dda("0x226")].moveToAnimate({x:-a.x,y:a.z,callback:function(){h[_0x1dda("0x226")].flyToAnimate({thetaAngle:u,phiAngle:r},n,f,s)},time:l})}else _0x1dda("0xba2")}},{key:_0x1dda("0xba9"),value:function(d,x){var a=1+50/(0,_.default)(d.x,d.y,d.z);this[_0x1dda("0xbaa")]({x:d.x*a,y:d.y*a,z:d.z*a},d,x||3e3)}},{key:"flyFocusTo",value:function(d){var x=d.targetPos,a=d[_0x1dda("0x645")],_=d[_0x1dda("0x9cb")],e=void 0===_?45:_,t=d[_0x1dda("0x9c9")],i=void 0===t?0:t,n=d[_0x1dda("0x233")],r=void 0===n?3:n,s=d[_0x1dda("0x195")];this[_0x1dda("0xbab")](!0),e=90-e>=0&&90-e<90?90-e:45;var o=a*Math[_0x1dda("0x617")](THREE[_0x1dda("0x1fa")][_0x1dda("0x20b")](e)),c=a*Math[_0x1dda("0x669")](THREE[_0x1dda("0x1fa")].degToRad(e)),l=new(THREE[_0x1dda("0x50f")])(0,0),f=new(THREE[_0x1dda("0x50f")])(c,0)[_0x1dda("0xbac")](l,THREE[_0x1dda("0x1fa")][_0x1dda("0x20b")](i-90)),u=new(THREE[_0x1dda("0x11c")])(x.x+f.x,x.y+o,x.z+f.y);return this[_0x1dda("0xbaa")]({x:u.x,y:u.y,z:u.z},x,1e3*r,s),u}},{key:_0x1dda("0xbaa"),value:function(d,x,a,_){var e=this[_0x1dda("0x226")][_0x1dda("0x1b")],t=this;if(d){var n=d,r=x||{x:0,y:0,z:0},s=(0,i[_0x1dda("0xd")])({},e[_0x1dda("0xfa")]),o=t[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")]();new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(s).to(n,a)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")].Out)[_0x1dda("0x162")]((function(d){var x,a,_,e,i,n;x=t[_0x1dda("0x226")],a=d,_=x[_0x1dda("0x1b")],e=a.x,i=a.y,n=a.z,void 0!==e&&(_[_0x1dda("0xfa")].x=e),void 0!==i&&(_[_0x1dda("0xfa")].y=i),void 0!==n&&(_[_0x1dda("0xfa")].z=n),x.update()}))[_0x1dda("0x192")]((function(){t[_0x1dda("0xbab")](!1),_&&_(),t[_0x1dda("0x226")].checkScaleLevel&&t[_0x1dda("0x226")][_0x1dda("0xbad")]()})).start(),new esmap.TWEEN.Tween(o).to(r,a)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")]).onUpdate((function(d){var x,a;x=t[_0x1dda("0x226")],a=d,x[_0x1dda("0x227")][_0x1dda("0xcd")](a.x,a.y,a.z),x[_0x1dda("0x152")]()}))[_0x1dda("0x21c")]()}}},{key:_0x1dda("0xbab"),value:function(d){this.isFlying=d}}]),d}();x[_0x1dda("0xd")]=r},,,,function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=v(a(7)),e=v(a(8)),t=v(a(0)),i=v(a(1)),n=v(a(145)),r=v(a(301)),s=v(a(307)),o=a(309),c=a(319),l=v(a(321)),f=a(322),u=v(a(23)),h=a(24),g=a(78),b=a(26);function v(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var p={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},m=function(){function d(x){(0,t[_0x1dda("0xd")])(this,d),this[_0x1dda("0x42")]=x,this[_0x1dda("0xa04")]=new(c[_0x1dda("0xbae")])(this),this.tileService=new(o[_0x1dda("0xbaf")])(this),this.options_=x[_0x1dda("0x35")],this[_0x1dda("0xa3e")]=[];var a=new(r[_0x1dda("0xd")])(x);THREE[_0x1dda("0x757")]=a,this[_0x1dda("0x825")]=a,this[_0x1dda("0xa38")]=!1,this[_0x1dda("0x9e8")]=!1,this[_0x1dda("0xbb0")]={},this.ResourcePool=new(s[_0x1dda("0xd")])(this),THREE[_0x1dda("0xbb1")]=this.ResourcePool,this[_0x1dda("0xbb2")]={},this[_0x1dda("0x24b")]={},this.modelLoadCount=0,this.modelInited=!1,this.modelLoadings={},this[_0x1dda("0xbb3")]={},this[_0x1dda("0xbb4")]=!1,this[_0x1dda("0x1c7")]=new(f[_0x1dda("0xbb5")])(x),this[_0x1dda("0xa05")]={},this[_0x1dda("0xa0a")]=new(l[_0x1dda("0xd")])(this),this[_0x1dda("0x646")]={},x[_0x1dda("0x35")][_0x1dda("0x1cc")]?this[_0x1dda("0xbb4")]=!1:"low"==x[_0x1dda("0x35")][_0x1dda("0x376")]&&(this[_0x1dda("0xbb4")]=!0),this[_0x1dda("0xbb6")]=null,this[_0x1dda("0x3f4")]=[],this.setState("t",parseInt((new Date)[_0x1dda("0x85")]()/1e3)),this[_0x1dda("0xbb7")]={},this._isBuildingLoading=!1}var x;return(0,i[_0x1dda("0xd")])(d,[{key:_0x1dda("0xbb8"),value:function(d){return this[_0x1dda("0xbb7")][d]||null}},{key:_0x1dda("0x7e"),value:function(d){return p[d]}},{key:_0x1dda("0xbb9"),value:function(d,x){p[d]=x}},{key:_0x1dda("0xbba"),value:function(d,x){var a,_=this,e=(this.map.mapScene,new(THREE[_0x1dda("0x11c")])(1,1.5,1));if(d.RMS){var t=d.RMS[_0x1dda("0x2a")](",");e=new(THREE[_0x1dda("0x11c")])(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}if(d[_0x1dda("0xbbb")]){var i=Math.PI/180,n=d[_0x1dda("0xbbb")].split(",");a=new(THREE[_0x1dda("0x20a")])(parseFloat(n[0])*i,parseFloat(n[1])*i,parseFloat(n[2])*i)}var r=new THREE.Vector3(d.x,d.y,0),s=this[_0x1dda("0x42")][_0x1dda("0x29e")]({x:d[_0x1dda("0xbbc")],y:d[_0x1dda("0xbbd")],z:0});if(d.RMO){var o=d[_0x1dda("0xbbe")][_0x1dda("0x2a")](",");s.x+=parseFloat(o[0]),s.y+=parseFloat(o[1]),s.z+=parseFloat(o[2]),r.x-=parseFloat(o[0]),r.z+=parseFloat(o[1]),r.y+=parseFloat(o[2])}var c={id:d[_0x1dda("0x3a0")],name:d.NA,rotation:a,position:s,scale:e,rotate:d.rotate};_[_0x1dda("0xbb3")][d.RM]||(_[_0x1dda("0xbb3")][d.RM]={}),_[_0x1dda("0xbb3")][d.RM][x]||(_[_0x1dda("0xbb3")][d.RM][x]=[]),_[_0x1dda("0xbb3")][d.RM][x][_0x1dda("0x10")](c)}},{key:_0x1dda("0xbbf"),value:(x=(0,e[_0x1dda("0xd")])(_[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,e,t,i,n,r,s,o,c,l,f,v,p,m,A,C,I=this;return _.default[_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:if(this[_0x1dda("0xbc0")]=!0,a=x.id,e=(0,g[_0x1dda("0x2d1")])(),t=this[_0x1dda("0x42")][_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")],!(e[_0x1dda("0x6cb")].opc[_0x1dda("0xd2")]>3)){d.next=6;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 6:return i=u.default[_0x1dda("0x67")]("building",{buildingId:a,t:this[_0x1dda("0x7e")]("t")}),n=i[_0x1dda("0x4a")],r=i[_0x1dda("0x38")],d[_0x1dda("0x24c")]=9,this.buildingService[_0x1dda("0xbc1")]({url:n,skMode:r,id:a});case 9:if(s=d.sent,t||(x.undergroundOffset=s[_0x1dda("0xbc2")]-1,x[_0x1dda("0xbc3")]&&(x[_0x1dda("0xbc4")]=x[_0x1dda("0xbc3")]-1)),s){d[_0x1dda("0x24c")]=13;break}return d.abrupt("return",!1);case 13:if(this[_0x1dda("0xa04")].oa(s)){d[_0x1dda("0x24c")]=16;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"),!1);case 16:if(this[_0x1dda("0xbb9")]("mapName",s[_0x1dda("0xfc")]),this.setState("mapNameEn",s.nameEn),!x[_0x1dda("0xa4")]){d[_0x1dda("0x24c")]=21;break}return d[_0x1dda("0x24c")]=21,this[_0x1dda("0xa0a")][_0x1dda("0xbc5")](a);case 21:if(!t||this.getState(b._et_)){d.next=23;break}return d.abrupt("return");case 23:return o=x[_0x1dda("0x6e")]||s[_0x1dda("0x560")]||_0x1dda("0xbc6"),c=void 0,d.prev=25,d.next=28,this[_0x1dda("0xa04")].queryBuildingTheme({themeID:o,buildingId:a});case 28:c=d[_0x1dda("0x2ff")],d[_0x1dda("0x24c")]=36;break;case 31:return d[_0x1dda("0x24a")]=31,d.t0=d[_0x1dda("0x817")](25),h[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:""+d.t0,level:_0x1dda("0x1eb")}),this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xbc7"),d.t0),d.abrupt(_0x1dda("0x24f"),!1);case 36:if(this[_0x1dda("0x42")].fire(_0x1dda("0xbc8"),{id:o,data:c}),this[_0x1dda("0xbb6")]=a,this.map[_0x1dda("0x132")][_0x1dda("0xbc9")]({id:o,data:c,buildingId:a}),(l=new(esmap[_0x1dda("0x5f7")])(a,x,this[_0x1dda("0x42")]))[_0x1dda("0x9f")]=s.Type,l[_0x1dda("0xfc")]=s[_0x1dda("0xfc")],l.version=s.version,l[_0x1dda("0x122")]={x:s[_0x1dda("0xbca")],y:s.DefaultCenY},l[_0x1dda("0x6e")]=o,!t||void 0!==this[_0x1dda("0x7e")]("ul")){d.next=47;break}return d.abrupt("return");case 47:if(this[_0x1dda("0xa04")][_0x1dda("0xbcb")](s,l),(f=this[_0x1dda("0xa04")][_0x1dda("0xbcc")](s,l)).DefaultCenX=-f.DefaultCenX,f.x=-f.x,this[_0x1dda("0x42")][_0x1dda("0xb3")].buildingScene_[_0x1dda("0xce")](l[_0x1dda("0x180")]),l[_0x1dda("0xbcd")]=1,v=l.floorNums,1!=(p=l.options[_0x1dda("0xbce")])&&v[_0x1dda("0xaf")](p)>-1&&(v[0]=v[_0x1dda("0x6")](p-1,1,v[0])[0]),l[_0x1dda("0x930")]=JSON[_0x1dda("0x6d")]("["+s[_0x1dda("0xbcf")]+"]"),l[_0x1dda("0xa4f")]=esmap[_0x1dda("0x5e8")][_0x1dda("0xbd0")](s),m=l[_0x1dda("0x35")][_0x1dda("0xbd1")]==_0x1dda("0x641")?v:l.options[_0x1dda("0xbd1")],t||(2===l[_0x1dda("0x35")][_0x1dda("0xbd2")]?m=v.filter((function(d){return d>l[_0x1dda("0x35")].undergroundOffset})):(A=v.sort((function(d,x){return x-d}))[0],m=[A],l[_0x1dda("0x35")][_0x1dda("0xbce")]=A)),l[_0x1dda("0xbd3")]=s[_0x1dda("0xa50")][_0x1dda("0x2a5")]((function(d){return d[_0x1dda("0xbd4")]-x[_0x1dda("0xbc4")]==1}))[0][_0x1dda("0xa51")],l[_0x1dda("0x12c")]=m,C=0,!t||void 0!==this[_0x1dda("0x7e")]("o2")){d[_0x1dda("0x24c")]=65;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 65:if(!t){d[_0x1dda("0x24c")]=70;break}if(!s[_0x1dda("0x562")]){d[_0x1dda("0x24c")]=70;break}if(esmap[_0x1dda("0x86")][_0x1dda("0x87")](s.ul+"|"+s[b[_0x1dda("0xbb")]]+"|"+s.o1+"|"+s.o2)==s.other1){d.next=70;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 70:return this.map[_0x1dda("0x7d")][_0x1dda("0x7e")]("sk")&&this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")]&&(l[_0x1dda("0xbd5")]={}),l[_0x1dda("0xbd6")](C,v,(function(){})),l.on(_0x1dda("0xbd7"),(function(){I._isBuildingLoading=!1})),d[_0x1dda("0x24e")](_0x1dda("0x24f"),l);case 74:case _0x1dda("0x267"):return d.stop()}}),d,this,[[25,31]])}))),function(d){return x[_0x1dda("0x5")](this,arguments)})},{key:"reset",value:function(){p={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},this[_0x1dda("0xa38")]=!1,this[_0x1dda("0x9e8")]=!1,this[_0x1dda("0xbb0")]={},this.modelLoadingList={},this[_0x1dda("0x24b")]={},this[_0x1dda("0x394")]=0,this.modelInited=!1,this[_0x1dda("0xbd8")]={},this[_0x1dda("0xbb3")]={},this[_0x1dda("0xbb4")]=!1,this[_0x1dda("0xa05")]={},this.buildingBounds={},this.modelLoadedAll=!1}},{key:_0x1dda("0x41"),get:function(){return this[_0x1dda("0x42")].id}}]),d}();m[_0x1dda("0xbd9")]=n[_0x1dda("0xd")],x[_0x1dda("0xd")]=m},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=s(a(13)),e=s(a(7)),t=s(a(8)),i=s(a(62)),n=s(a(0)),r=s(a(1));function s(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var o=function(){function d(x){(0,n.default)(this,d),this.map=x,this.enabled=!1,this.pending=!0,this[_0x1dda("0xbda")]=(new Date)[_0x1dda("0x85")](),this[_0x1dda("0xbdb")]=2592e5,this[_0x1dda("0x758")]=new(i[_0x1dda("0xd")]),this[_0x1dda("0x972")]=!1}var x,a,s;return(0,r[_0x1dda("0xd")])(d,[{key:"init",value:(s=(0,t[_0x1dda("0xd")])(e[_0x1dda("0xd")].mark((function d(){var x,a=this;return e[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d.next){case 0:return d[_0x1dda("0x24c")]=2,this[_0x1dda("0xbdc")]({db:_0x1dda("0xbdd"),version:2});case 2:if(x=d[_0x1dda("0x2ff")]){d[_0x1dda("0x24c")]=6;break}throw this[_0x1dda("0x4ff")](),new Error("IDBåå§åå¤±è´¥,ä¸ä½¿ç¨ç¼å­");case 6:this.db=x,this.pending=!1,this.enabled=!0,this.inited=!0,this[_0x1dda("0x42")][_0x1dda("0x337")](_0x1dda("0xbde"),(function(){setTimeout((function(){a[_0x1dda("0xbdf")](),a[_0x1dda("0xbe0")]()}),3e3)}));case 11:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return s[_0x1dda("0x5")](this,arguments)})},{key:"update",value:(a=(0,t[_0x1dda("0xd")])(e.default.mark((function d(x){return e[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:if(this[_0x1dda("0x41")]=x,this[_0x1dda("0x42")].options[_0x1dda("0x377")]){d[_0x1dda("0x24c")]=3;break}return d.abrupt(_0x1dda("0x24f"));case 3:if(this[_0x1dda("0x972")]){d[_0x1dda("0x24c")]=6;break}return d[_0x1dda("0x24c")]=6,this[_0x1dda("0x32")]();case 6:return d[_0x1dda("0x24c")]=8,this[_0x1dda("0xbe1")]({id:x,updatetime:this.startTime,active:!0});case 8:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return a[_0x1dda("0x5")](this,arguments)})},{key:"setCacheObject",value:function(d){var x=this.db[_0x1dda("0xbe2")]("cacheObjects","readwrite")[_0x1dda("0xbe3")](_0x1dda("0xbe4"))[_0x1dda("0xbe5")](d);x[_0x1dda("0xbe6")]=function(){},x[_0x1dda("0xbe7")]=function(){_0x1dda("0xbe8")}}},{key:_0x1dda("0xbe9"),value:function(d){var x=this.db,a=this[_0x1dda("0x41")]+":"+d;return new(_[_0x1dda("0xd")])((function(d){var _=x[_0x1dda("0xbe2")](_0x1dda("0xbe4"))[_0x1dda("0xbe3")](_0x1dda("0xbe4"))[_0x1dda("0xd6")](a);_.onsuccess=function(){d(_[_0x1dda("0xbea")])},_[_0x1dda("0xbe7")]=function(){d(null)}}))}},{key:_0x1dda("0xbeb"),value:function(d){var x=d[_0x1dda("0x4a")],a=d.updatetime,e=this[_0x1dda("0x41")]+":"+x,t=this.db;return new _.default((function(d){var x=t[_0x1dda("0xbe2")](_0x1dda("0xbe4"))[_0x1dda("0xbe3")](_0x1dda("0xbe4"))[_0x1dda("0xd6")](e);x[_0x1dda("0xbe6")]=function(){x[_0x1dda("0xbea")]&&1*x.result[_0x1dda("0xbec")]==1*a?d(!0):d(!1)},x[_0x1dda("0xbe7")]=function(){d(!1)}}))}},{key:_0x1dda("0xbdf"),value:function(){var d=window.indexedDB.deleteDatabase(_0x1dda("0xbed"));d[_0x1dda("0xbe7")]=function(){},d[_0x1dda("0xbe6")]=function(){}}},{key:"clearOutDated",value:function(d){this[_0x1dda("0xbee")](d);for(var x=this.db[_0x1dda("0xbe2")](_0x1dda("0xbe4"),_0x1dda("0xbef"))[_0x1dda("0xbe3")]("cacheObjects")[_0x1dda("0x292")](_0x1dda("0xbf0")),a=0;a<d.length;a++){var _=d[a];x.openCursor(IDBKeyRange[_0x1dda("0xbf1")]([_]))[_0x1dda("0xbe6")]=function(d){var x=d[_0x1dda("0x227")].result;x&&(x.delete(),x[_0x1dda("0x63c")]())}}}},{key:_0x1dda("0xbe0"),value:(x=(0,t[_0x1dda("0xd")])(e[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(){var x,a,_,t,i,n,r,s,o=this;return e.default[_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:x=this[_0x1dda("0x41")],a=this.db,_=this.startTime,t=this[_0x1dda("0xbdb")],i=a[_0x1dda("0xbe2")](_0x1dda("0xbf2"),_0x1dda("0xbef")),n=i[_0x1dda("0xbe3")]("cacheMaps"),r=n.openCursor(),s=[],r[_0x1dda("0xbe6")]=function(d){var a=d[_0x1dda("0x227")][_0x1dda("0xbea")];if(a){var e=a[_0x1dda("0xd8")];if(e.id===x||!e.active)return void a[_0x1dda("0x63c")]();var i=e.updatetime;_-i>t&&s[_0x1dda("0x10")](e.id),a[_0x1dda("0x63c")]()}else o[_0x1dda("0xbf3")](s)};case 9:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return x[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x4ff"),value:function(){if(window[_0x1dda("0xbf4")]){var d=window[_0x1dda("0xbf4")][_0x1dda("0xbf5")](_0x1dda("0xbdd"));d[_0x1dda("0xbe7")]=function(){},d[_0x1dda("0xbe6")]=function(){};var x=window[_0x1dda("0xbf4")][_0x1dda("0xbf5")]("ESBIM");x[_0x1dda("0xbe7")]=function(){console[_0x1dda("0x1eb")](_0x1dda("0xbf6"))},x[_0x1dda("0xbe6")]=function(){}}}},{key:_0x1dda("0xbf7"),value:function(d){if(this[_0x1dda("0x6b9")]){var x=this.db,a=this[_0x1dda("0x41")],e=a+":"+d.id,t=d[_0x1dda("0xbec")];new(_[_0x1dda("0xd")])((function(_){x.transaction(_0x1dda("0xbe4"),"readwrite")[_0x1dda("0xbe3")]("cacheObjects")[_0x1dda("0xbe5")]({mapid:a,id:e,data:d[_0x1dda("0x442")],updatetime:t}).onsuccess=function(){_()}}))}}},{key:"inActiveCacheMaps",value:function(d){this.db[_0x1dda("0xbe2")](_0x1dda("0xbf2"),"readwrite")[_0x1dda("0xbe3")](_0x1dda("0xbf2"))[_0x1dda("0xbf8")]()[_0x1dda("0xbe6")]=function(x){var a=x.target.result;if(a){var _=a[_0x1dda("0xd8")];-1!==d[_0x1dda("0xaf")](_.id)&&(_[_0x1dda("0xbf9")]=!1,a[_0x1dda("0x152")](_)),a[_0x1dda("0x63c")]()}}}},{key:"updateCacheMap",value:function(d){var x=this.db;return new _.default((function(a){var _=x[_0x1dda("0xbe2")](_0x1dda("0xbf2"),_0x1dda("0xbef"))[_0x1dda("0xbe3")](_0x1dda("0xbf2"))[_0x1dda("0xbe5")](d);_[_0x1dda("0xbe6")]=function(){a()},_[_0x1dda("0xbe7")]=function(){a()}}))}},{key:_0x1dda("0xbdc"),value:function(d){return new(_[_0x1dda("0xd")])((function(x){if(window[_0x1dda("0xbf4")]){var a=window.indexedDB[_0x1dda("0x44a")](d.db,d.version);a[_0x1dda("0xbfa")]=function(d){var x=d[_0x1dda("0x227")].result;x[_0x1dda("0xbfb")][_0x1dda("0x49c")]("cacheObjects")&&x[_0x1dda("0xbfc")](_0x1dda("0xbe4")),x[_0x1dda("0xbfb")].contains(_0x1dda("0xbf2"))&&x[_0x1dda("0xbfc")](_0x1dda("0xbf2")),x[_0x1dda("0xbfd")](_0x1dda("0xbe4"),{keyPath:"id"})[_0x1dda("0x63b")](_0x1dda("0xbf0"),["mapid"],{unique:!1}),x[_0x1dda("0xbfd")](_0x1dda("0xbf2"),{keyPath:"id"})},a[_0x1dda("0xbe6")]=function(){var d=a.result;x(d)},a[_0x1dda("0xbe7")]=function(d){var _=a[_0x1dda("0xbfe")];console[_0x1dda("0x1eb")](_0x1dda("0xbff"),_,d),x(!1)}}else x(!1)}))}}]),d}();x.default=o},,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(0)),e=i(a(1)),t=a(308);function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x){(0,_.default)(this,d),this.modelImageTexturePool={},this.roomTexturePool={},this[_0x1dda("0x7d")]=x,this.main={},this[_0x1dda("0xc00")]={},this[_0x1dda("0xc01")]=[];var a=new(THREE[_0x1dda("0x23d")]);a[_0x1dda("0x73e")]="anonymous",this[_0x1dda("0x810")]=a;var e=new Image,i=(new XMLSerializer)[_0x1dda("0xc02")]((new DOMParser)[_0x1dda("0xc03")](t[_0x1dda("0xc04")],_0x1dda("0xc05"))),n=btoa(i);e[_0x1dda("0x4e5")]="data:image/svg+xml;base64,"+n,this[_0x1dda("0xc06")]=e,this[_0x1dda("0xc07")]={}}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0xc08"),value:function(d,x,a){var _=this;_.loadRecords[_0x1dda("0xaf")](d)<0&&!_[_0x1dda("0xc07")][d]&&(_[_0x1dda("0xc01")][_0x1dda("0x10")](d),_[x]||(_[x]={}),this[_0x1dda("0x810")].load(d,(function(d){d[_0x1dda("0x32b")]=_[_0x1dda("0x7d")][_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x331")][_0x1dda("0x32d")](),_[x][a]=d}),null,(function(){_[_0x1dda("0xc07")][d]=!0,_[x][a]=null})))}},{key:_0x1dda("0x330"),value:function(d,x){var a=this;if(this[_0x1dda("0xc00")][d])x(this[_0x1dda("0xc00")][d]);else if(a[_0x1dda("0xc07")][d])x(a.img404);else{var _=new Image;_[_0x1dda("0x73e")]=_0x1dda("0x734"),_.src=d,_[_0x1dda("0xb56")]=function(){a[_0x1dda("0xc00")][d]=this,x(this)},_[_0x1dda("0xbe7")]=function(){a[_0x1dda("0xc07")][d]=!0,x(a.img404)}}}},{key:_0x1dda("0xc09"),value:function(d){var x=this;return this[_0x1dda("0x133")][d]?this[_0x1dda("0x133")][d][_0x1dda("0x116")]():x[_0x1dda("0xc07")][d]?void 0:this[_0x1dda("0x810")].load(d,(function(a){a[_0x1dda("0x32b")]=x[_0x1dda("0x7d")][_0x1dda("0x8ec")][_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x331")][_0x1dda("0x32d")](),x[_0x1dda("0x133")][d]=a[_0x1dda("0x116")]()}),null,(function(){x.main[d]=null,x[_0x1dda("0xc07")][d]=!0}))}},{key:_0x1dda("0x5ba"),value:function(d,x,a,_){var e=this;if(this[_0x1dda("0x133")][d]){var t=this[_0x1dda("0x133")][d][_0x1dda("0x116")]();return x&&setTimeout((function(){x(t)}),0),t}return e[_0x1dda("0xc07")][d]?new(THREE[_0x1dda("0x329")]):this[_0x1dda("0x810")][_0x1dda("0x64d")](d,(function(a){e[_0x1dda("0x133")][d]=a[_0x1dda("0x116")](),x&&x(a)}),a,(function(){e[_0x1dda("0xc07")][d]=!0,_&&_()}))}}]),d}();x.default=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});x.svg404=_0x1dda("0xc0a")},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0xbaf")]=void 0;var _=T(a(25)),e=T(a(15)),t=T(a(7)),i=T(a(8)),n=T(a(13)),r=T(a(0)),s=T(a(1)),o=a(51),c=a(41),l=a(50),f=a(18),u=T(a(109)),h=T(a(151)),g=a(73),b=T(a(23)),v=T(a(111)),p=a(108),m=a(63),A=a(24),C=a(152),I=T(a(33)),y=a(153),E=a(78),w=a(26);function T(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var k="WGS84",S={1:_0x1dda("0x65c"),2:_0x1dda("0x19a"),3:_0x1dda("0xa24")},M=null,R=1,L=null,D=a(318),H=a(154),P=null,O=!1,B=null,F=null,N=function(){function d(x){var a=this;(0,r[_0x1dda("0xd")])(this,d),this[_0x1dda("0x386")]=x,this[_0x1dda("0x42")]=x[_0x1dda("0x42")],this[_0x1dda("0xa42")]=[],this[_0x1dda("0xc0b")]=[],this[_0x1dda("0xc0c")]=[],this[_0x1dda("0xa17")]={},this.currentView=[],this[_0x1dda("0x38e")]=[],this.centerTile=null,this[_0x1dda("0xa08")]=[],this[_0x1dda("0x97a")]={},this[_0x1dda("0xc0d")]=[],this.needNewTileByRoutes={},this[_0x1dda("0xa05")]={},this[_0x1dda("0xc0e")]={1:12,2:16,3:18},this[_0x1dda("0xc0f")]={buildings:0,models:0},this[_0x1dda("0x9a9")]=[],this.tileBaseFrozen=!1,this[_0x1dda("0xc10")]=!1,this.tileGrids=null,this[_0x1dda("0xc11")]=null,this[_0x1dda("0x9ec")]=[],this[_0x1dda("0xc12")]={},this.navLoaded=!1,this[_0x1dda("0x638")]={},this[_0x1dda("0xc13")]={},this[_0x1dda("0x981")]=[],this[_0x1dda("0x9be")]={},this[_0x1dda("0xc14")]=[],this[_0x1dda("0xc15")]="",this[_0x1dda("0xc16")]=0,this[_0x1dda("0xc17")]=0,this[_0x1dda("0xc18")]=0,this[_0x1dda("0x197")]=c.getTileBound,this[_0x1dda("0xc19")]=0,this.preLoadBuildingId=null,this[_0x1dda("0xc1a")]=null,this[_0x1dda("0xc1b")]=0,this[_0x1dda("0xc1c")]=null,this[_0x1dda("0xc1d")]=!1,(0,y[_0x1dda("0xc1e")])(H.ESCityLicSet,[_0x1dda("0xc1f"),"SGFzaA==",_0x1dda("0xc20"),_0x1dda("0xc21"),_0x1dda("0xc22"),_0x1dda("0xbf"),_0x1dda("0xbe"),"dGlsZXRva2Vu"]),this.map.on("buildingReady",(function(d){switch(a[_0x1dda("0x42")][_0x1dda("0x35")].showBuildingMode){case esmap[_0x1dda("0x5cb")][_0x1dda("0xb5f")]:a[_0x1dda("0xc23")](d[_0x1dda("0x122")],!0);break;case esmap[_0x1dda("0x5cb")].SINGLE:d.enter()}if(a[_0x1dda("0x42")][_0x1dda("0x633")][_0x1dda("0x0")]>=a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x380")]){var x=a.map[_0x1dda("0x633")][0];a[_0x1dda("0x42")][_0x1dda("0xa10")](x.id)}})),this.map.on(_0x1dda("0xa12"),(function(d){var x=d.bid;switch(a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc24")]){case esmap[_0x1dda("0x5cb")].PLANISH:a[_0x1dda("0xc23")](a[_0x1dda("0x42")].center,!1);break;case esmap.ShowBuildingMode[_0x1dda("0xc25")]:a.map[_0x1dda("0x62c")](x)[_0x1dda("0xc26")]()}}))}var x;return(0,s[_0x1dda("0xd")])(d,[{key:_0x1dda("0xc27"),value:function(){var d=!(arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0])||arguments[0],x=this[_0x1dda("0x42")],a={color:"#FF0000",lineWidth:120,alpha:1,offsetHeight:50,pickable:!1,smooth:!1,fixedWidth:!1,lineType:esmap[_0x1dda("0x98d")][_0x1dda("0xc28")],noAnimate:!1};if(d)for(var _ in x[_0x1dda("0x62e")]){var e=x[_0x1dda("0x62e")][_],t=e.id.split("_"),i=(0,c[_0x1dda("0x197")])(1*t[0],1*t[1],x[_0x1dda("0x35")].worldScale,!0),n=[{x:i[_0x1dda("0xf0")],y:i[_0x1dda("0xf1")]},{x:i[_0x1dda("0xf0")],y:i[_0x1dda("0xed")]},{x:i.maxx,y:i[_0x1dda("0xed")]},{x:i[_0x1dda("0xec")],y:i.miny},{x:i[_0x1dda("0xf0")],y:i[_0x1dda("0xf1")]}],r=new(esmap[_0x1dda("0x5fb")])({id:e.id+_0x1dda("0xc29"),bid:0,points:n,style:a});x.drawLineMark(r)}else for(var s in x[_0x1dda("0x62e")]){var o=x[_0x1dda("0x62e")][s].id+_0x1dda("0xc29");x.clearLineMarkById(o)}}},{key:_0x1dda("0xc23"),value:function(d,x){var a=this;this.map[_0x1dda("0x97b")]++;var _=[],e=(0,m[_0x1dda("0x184")])({coord:d}),t=[esmap[_0x1dda("0x39a")][_0x1dda("0x39b")],esmap[_0x1dda("0x39a")][_0x1dda("0x9a6")]];e[_0x1dda("0xd1")]((function(d){var x=a[_0x1dda("0x42")][_0x1dda("0x1e1")](d);x&&x[_0x1dda("0x3b9")].layers[_0x1dda("0xd1")]((function(d){t[_0x1dda("0x61")](d._type_)||_[_0x1dda("0x10")](d)}))}));if(x){_[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x2")]("planishValue")||(d[_0x1dda("0xc2a")]=0),d[_0x1dda("0xc2a")]+=1})),_=_[_0x1dda("0x2a5")]((function(d){return!d.plannished})),new(esmap.TWEEN[_0x1dda("0x18e")])({value:1}).to({value:.25},1e3).easing(esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")][_0x1dda("0x194")])[_0x1dda("0x162")]((function(d){_[_0x1dda("0xd1")]((function(x){x[_0x1dda("0xc2b")]||(x[_0x1dda("0xc2b")]=!0),x[_0x1dda("0x180")][_0x1dda("0x1d7")].y=d[_0x1dda("0xd8")]}))}))[_0x1dda("0x192")]((function(){a[_0x1dda("0x42")]._buildingAnimating--})).start()}else{_[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x2")](_0x1dda("0xc2a"))&&(d.planishValue-=1)})),_=_[_0x1dda("0x2a5")]((function(d){return d.plannished&&0===d.planishValue})),new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])({value:.25}).to({value:1},1e3)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")])[_0x1dda("0x162")]((function(d){_[_0x1dda("0xd1")]((function(x){x.plannished&&(x[_0x1dda("0xc2b")]=!1),x[_0x1dda("0x180")][_0x1dda("0x1d7")].y=d.value}))}))[_0x1dda("0x192")]((function(){a.map[_0x1dda("0x97b")]--}))[_0x1dda("0x21c")]()}}},{key:_0x1dda("0xc2c"),value:function(d){S=d}},{key:_0x1dda("0xc2d"),value:function(d){return d===_0x1dda("0xc2e")?H[_0x1dda("0x575")]:null}},{key:_0x1dda("0x344"),value:function(d){return(0,p.getBuildingOptions)(d)}},{key:_0x1dda("0x32"),value:function(){this.Tilelimit=(Math[_0x1dda("0x1dd")](Math[_0x1dda("0x103")](this[_0x1dda("0x35")][_0x1dda("0xa6a")]))-1)/2}},{key:_0x1dda("0xc2f"),value:function(d){for(var x=0;x<this[_0x1dda("0x9a9")][_0x1dda("0x0")];x++){var a=this[_0x1dda("0x9a9")][x];if(d[a[_0x1dda("0x632")]]==a[_0x1dda("0xd8")])return a[_0x1dda("0x442")]}return!1}},{key:_0x1dda("0x980"),value:function(){if(this[_0x1dda("0x981")].length>0)for(var d=0;d<this.toLoadedBuildings.length;d++){var x=this[_0x1dda("0x981")][d];this[_0x1dda("0x9be")][x]&&(this[_0x1dda("0x979")](this[_0x1dda("0x9be")][x]),this.toLoadedBuildings[_0x1dda("0x6")](d,1))}}},{key:_0x1dda("0xaf7"),value:function(d,x){var a=Math[_0x1dda("0x2be")](d.minx,x[_0x1dda("0xf0")]),_=Math[_0x1dda("0x2be")](d.miny,x[_0x1dda("0xf1")]),e=Math[_0x1dda("0x2f6")](d[_0x1dda("0xec")],x[_0x1dda("0xec")]),t=Math[_0x1dda("0x2f6")](d[_0x1dda("0xed")],x.maxy),i=!(a>e||_>t);return i}},{key:_0x1dda("0xc30"),value:function(d){var x=(new(h[_0x1dda("0xd")].GData))[_0x1dda("0x6d")](d);return{points:x[_0x1dda("0x53b")],holes:x[_0x1dda("0x53c")]}}},{key:_0x1dda("0x9ac"),value:function(d){for(var x in this[_0x1dda("0x9a9")]){var a=this[_0x1dda("0x9a9")][x];if(a[_0x1dda("0xd8")]==d[_0x1dda("0xd8")]&&a.key==d.key)return void(a[_0x1dda("0x442")]=d[_0x1dda("0x442")])}this[_0x1dda("0x9a9")][_0x1dda("0x10")](d)}},{key:_0x1dda("0xa31"),value:function(d){R=d}},{key:_0x1dda("0xa36"),value:function(){return R}},{key:_0x1dda("0x9ea"),value:function(d){if(64==this.cachedTiles[_0x1dda("0x0")]){var x=this.cachedTiles[_0x1dda("0x4")]();for(var a in this[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3b4")][x.id]=[],this[_0x1dda("0x9be")])this[_0x1dda("0x9be")][a]&&this[_0x1dda("0x9be")][a][_0x1dda("0x12d")]==x.id&&(this[_0x1dda("0x9be")][a]=null);x.loader[_0x1dda("0x969")][x.id]=!1,x=null}this[_0x1dda("0xa08")][_0x1dda("0x10")](d)}},{key:_0x1dda("0xa6e"),value:function(){this[_0x1dda("0x38e")]=this.currentShows.concat(this.secondViews),this.currentView=this.currentView[_0x1dda("0x317")](this.secondViews),this[_0x1dda("0x42")][_0x1dda("0x294")](),this[_0x1dda("0xa6d")]=[]}},{key:_0x1dda("0xc31"),value:function(d){var x=this.map.id;return new(n[_0x1dda("0xd")])((function(a,_){esmap.Ajax[_0x1dda("0xd6")]({url:d,isArrayBuffer:!0}).success((function(d){var x=new Uint8Array(d);a(x)}))[_0x1dda("0x1eb")]((function(){g[_0x1dda("0x19d")][_0x1dda("0x19e")]({code:2006,param:[x,3]}),_(!1)}))}))}},{key:"_n",value:function(){}},{key:"_k",value:function(){}},{key:"_l",value:function(){}},{key:"oa",value:(x=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(){var x,a,_,e,i,n,r,s,o,c,f,u,h,v,p,m,I,y,T,M,R,D,F,N,z,j,U,X,Y,G,Q,V,W,Z,J,K,q,$,dd,xd,ad;return t.default[_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return a=(x=this)[_0x1dda("0x42")][_0x1dda("0x35")],_=x.map.id,e=a[w[_0x1dda("0xbd")]],i=a[w[_0x1dda("0xbc")]],n=a[_0x1dda("0x43")],r=3==a[_0x1dda("0x43")],s=b[_0x1dda("0xd")][_0x1dda("0x67")]("lic"),o=s[_0x1dda("0x4a")],c=s.timestamp,f=null,u=null,d[_0x1dda("0x24a")]=10,d[_0x1dda("0x24c")]=13,this[_0x1dda("0xc31")](o,c);case 13:h=d[_0x1dda("0x2ff")],r||(0,l[_0x1dda("0x107")])(_+""+n+c,h),f=H[_0x1dda("0x575")][_0x1dda("0x45")](h),B=f,d[_0x1dda("0x24c")]=24;break;case 19:return d.prev=19,d.t0=d.catch(10),A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:esmap[_0x1dda("0x24d")][_0x1dda("0xc32")]+": "+o,level:_0x1dda("0x1eb")}),A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:""+d.t0[_0x1dda("0x2e")](),level:_0x1dda("0x1eb")}),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 24:if(v=f[_0x1dda("0x569")],p=(new Date).getTime(),m=document[w[_0x1dda("0x92")]],I=!1,y=!1,T=parseInt(f.v%10),M=S[T],null!=a.crs&&(T=a[_0x1dda("0xc33")],M=S[T]),R="%cThe "+_+" map uses the WGS84 coordinate system. "+T,f[_0x1dda("0x56a")]&&(D=esmap[_0x1dda("0x86")][_0x1dda("0x66a")](1e3*f[_0x1dda("0x56a")]),R+=",updated on "+D),R+=x[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0xadf")](),A.MessagePoster[_0x1dda("0xb2")]({msg:[R,_0x1dda("0xc34")],level:_0x1dda("0xc35")}),3==f.tid||3!=n){d.next=40;break}return console[_0x1dda("0x3ec")](esmap[_0x1dda("0x24d")][_0x1dda("0xc36")]),A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:esmap[_0x1dda("0x24d")][_0x1dda("0xc36")],level:_0x1dda("0x1eb")}),d.abrupt("return");case 40:if(P=f[w[_0x1dda("0xbc")]],x[_0x1dda("0x386")].setState(_0x1dda("0xa9b"),f[_0x1dda("0xfc")]),x.service[_0x1dda("0xbb9")](_0x1dda("0xa9d"),f[_0x1dda("0xfc")]),x[_0x1dda("0x386")][_0x1dda("0xbb9")]("l0",f.ul>>1&1||0),x.service[_0x1dda("0xbb9")]("l1",f.l1||0),x[_0x1dda("0x386")][_0x1dda("0xbb9")]("l2",f.l2||0),x[_0x1dda("0x386")][_0x1dda("0xbb9")]("l3",f.l3||0),x.service[_0x1dda("0xbb9")]("l4",f.l4||0),f[_0x1dda("0x555")]&&(x.defaultView={directionAngle:f[_0x1dda("0x554")],pitchAngle:f.AngleY,radius:f[_0x1dda("0x555")],time:0,x:f.x,y:f.y,z:0},x[_0x1dda("0x42")].options[_0x1dda("0x122")]&&(x[_0x1dda("0xc1a")].x=x.map[_0x1dda("0x35")][_0x1dda("0x122")].x,x[_0x1dda("0xc1a")].y=x.map[_0x1dda("0x35")][_0x1dda("0x122")].y)),(x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc1a")]||!1===x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc1a")])&&(x.defaultView=x[_0x1dda("0x42")].options[_0x1dda("0xc1a")]),F=!1,N=f[w[_0x1dda("0xbc")]],L=f.cids,z=esmap[_0x1dda("0x86")][_0x1dda("0x87")](N)===_0x1dda("0xc37"),this.service[_0x1dda("0xbb9")](w[_0x1dda("0xb8")],1e6*f[_0x1dda("0x569")]),!(p-1e6*f[_0x1dda("0x569")]>0)){d[_0x1dda("0x24c")]=58;break}return g[_0x1dda("0x19d")][_0x1dda("0x19e")]({code:2010,param:[_,m,3]}),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 58:if(esmap.ESMapUtil[_0x1dda("0x87")](f[_0x1dda("0x556")]+""+f[_0x1dda("0x558")]+f.maxX+f[_0x1dda("0x55b")]+f[w[_0x1dda("0xbc")]]+f[w[_0x1dda("0xbd")]]+ +f.bidnums+f[_0x1dda("0x55e")]+_0x1dda("0xa33")+f.o1+f.ul)===f[w[_0x1dda("0xb9")]]){d.next=62;break}return A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:_0x1dda("0xc38"),level:_0x1dda("0x1eb")}),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 62:if(this[_0x1dda("0xc16")]=f.o1,this[_0x1dda("0xc17")]=f.modnums,this._ul=f.ul,x[_0x1dda("0x42")][_0x1dda("0x35")].s&&x[_0x1dda("0x42")][_0x1dda("0x35")].k&&(x.map[_0x1dda("0x2")](_0x1dda("0xa34"))||Object[_0x1dda("0xa")](x[_0x1dda("0x42")],_0x1dda("0xa34"),{value:!0,writable:!1,enumerable:!1,configurable:!0}),F=!0,this._mo=1e4,this[_0x1dda("0x386")][_0x1dda("0xbb9")]("sk",!0)),x[_0x1dda("0x42")][_0x1dda("0x199")]=M,x[_0x1dda("0x42")][w[_0x1dda("0xc8")]][_0x1dda("0x4dc")][_0x1dda("0x153")].visible=!1,F&&x[_0x1dda("0x42")]._em){d.next=110;break}if(y=!0,j=m,U=(0,l[_0x1dda("0x45")])(f[w[_0x1dda("0xba")]],_0x1dda("0xc39"),""),X=esmap.ESMapUtil[_0x1dda("0x87")](j),Y=C[_0x1dda("0xc3a")][_0x1dda("0xaf")](X)>-1,z||Y||(this[_0x1dda("0xc1d")]={expireTime:v,dom:j},this._isrd[w[_0x1dda("0xc9")]]=U),I=Y,U){d[_0x1dda("0x24c")]=79;break}return d.abrupt(_0x1dda("0x24f"));case 79:if((z||Y)&&!(0,l[_0x1dda("0x10a")])()){d[_0x1dda("0x24c")]=92;break}if(G=!1,Q=U.split(","),V=!1,u={},Q.forEach((function(d){var x=v,a=d;if(d[_0x1dda("0x61")]("|")){var e=d[_0x1dda("0x2a")]("|");a=e[0];var t=isNaN(1*e[1])?x:1*e[1];x=Math[_0x1dda("0x2f6")](x,t)}if(!(a.length<3)&&(u[a]=1e6*x,j[_0x1dda("0xaf")](a)>-1)){if(G=!0,(new Date)[_0x1dda("0x85")]()-1e6*x>0)return void g.MapError[_0x1dda("0x19e")]({code:2010,param:[_,j,3]});V=!0}})),G){d[_0x1dda("0x24c")]=88;break}return g[_0x1dda("0x19d")][_0x1dda("0x19e")]({code:2002,param:[_,j,3]}),d[_0x1dda("0x24e")]("return");case 88:if(V){d[_0x1dda("0x24c")]=90;break}return d.abrupt(_0x1dda("0x24f"));case 90:d.next=93;break;case 92:u="lc";case 93:if(W=[f[w[_0x1dda("0xbd")]],f[w[_0x1dda("0xbc")]]],Z=[e,i],J=(0,E.useGlobalStore)(),x.map[w[_0x1dda("0xc8")]][_0x1dda("0x4dc")].userData[_0x1dda("0x169")]=!1,(0,l[_0x1dda("0x10b")])()?x[_0x1dda("0x42")][w[_0x1dda("0xc8")]][_0x1dda("0x4dc")].userData[_0x1dda("0x169")]=!1:W[0]&&Z[0]&&(esmap[_0x1dda("0x86")].encode64(_0x1dda("0xa32")+f.cids+Z[0])==W[0]?(x.map[w[_0x1dda("0xc8")]][_0x1dda("0x4dc")].userData[_0x1dda("0x169")]=!1,J[_0x1dda("0x6cb")].sl=!1):x[_0x1dda("0x42")][w[_0x1dda("0xc8")]][_0x1dda("0x4dc")][_0x1dda("0x153")][_0x1dda("0x169")]=!0),z){d[_0x1dda("0x24c")]=108;break}if(Z[1]||1==n){d[_0x1dda("0x24c")]=103;break}return g[_0x1dda("0x19d")][_0x1dda("0x19e")]({code:2003,param:[_,3]}),A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:esmap.ESInfo[_0x1dda("0xc3b")],level:_0x1dda("0x1eb")}),d.abrupt(_0x1dda("0x24f"));case 103:if(esmap[_0x1dda("0x86")].encode64(f[_0x1dda("0x3a0")]+""+Z[1])==W[1]||3!=n){d[_0x1dda("0x24c")]=108;break}return g[_0x1dda("0x19d")][_0x1dda("0x19e")]({code:2004,param:[_,3]}),A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:esmap.ESInfo.TOKEN_ERR,level:_0x1dda("0x1eb")}),d.abrupt("return");case 108:d.next=111;break;case 110:u="em";case 111:if(z&&(O=!0),K=(0,l[_0x1dda("0x45")])(f[_0x1dda("0x55c")],_0x1dda("0xc3c"),""),(q=K.split(";"))[_0x1dda("0x0")]>1?x[_0x1dda("0x55c")]=q:x[_0x1dda("0x55c")]="",Object[_0x1dda("0xa")](x.map,_0x1dda("0xc3d"),{value:q[1],writable:!1,enumerable:!1,configurable:!0}),$=esmap.ESMapUtil[_0x1dda("0x87")](f[_0x1dda("0x12d")]+f[_0x1dda("0x88")]),Object[_0x1dda("0xa")](x.map,_0x1dda("0xc3e"),{value:$,writable:!1,enumerable:!1,configurable:!0}),Object[_0x1dda("0xa")](x,"__maptk",{value:N,writable:!1,enumerable:!1,configurable:!0}),null==x[_0x1dda("0x42")][_0x1dda("0x35")].userCrs&&(x[_0x1dda("0x42")].options[_0x1dda("0x19b")]=k),dd=x.map[_0x1dda("0x198")]({from:k,to:M,coord:{x:f.x,y:f.y}}),x[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x122")]={x:-dd.x,y:dd.y},x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x122")]&&(xd=x[_0x1dda("0x42")][_0x1dda("0x198")]({from:k,to:M,coord:{x:x[_0x1dda("0x42")][_0x1dda("0x35")].center.x,y:x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x122")].y}}),x[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x122")]={x:-xd.x,y:xd.y},dd=xd),x[_0x1dda("0x42")][_0x1dda("0x19f")].userCenter={x:f.x,y:f.y},x[_0x1dda("0x42")][_0x1dda("0x35")].center||(x[_0x1dda("0x42")].options[_0x1dda("0x122")]={x:f.x,y:f.y}),x[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0xc3f")](f,{x:dd.x,y:dd.y}),x.initTapTip(),1!=n&&setTimeout((function(){var d=b[_0x1dda("0xd")].getPath(_0x1dda("0x4f"));esmap[_0x1dda("0x5b4")][_0x1dda("0xd6")]({url:d,isArrayBuffer:!0})}),18e5),null==x.map[_0x1dda("0x35")].themeID&&(x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x6e")]=f[_0x1dda("0x560")],x.options.themeID=f[_0x1dda("0x560")]),f[_0x1dda("0x564")]&&x[_0x1dda("0xc40")](f[_0x1dda("0x564")]),x[_0x1dda("0x42")][_0x1dda("0xc41")]=f.eid,ad=!0,x[_0x1dda("0x386")][_0x1dda("0xbb9")](_0x1dda("0xc42"),u),ad){d[_0x1dda("0x24c")]=135;break}return d.abrupt("return");case 135:if(!y||z||I||ad){d[_0x1dda("0x24c")]=137;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 137:return x.defaultView&&!x[_0x1dda("0xc43")]()&&x[_0x1dda("0x42")][_0x1dda("0x222")](x[_0x1dda("0xc1a")]),d[_0x1dda("0x24e")](_0x1dda("0x24f"),!0);case 139:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this,[[10,19]])}))),function(){return x[_0x1dda("0x5")](this,arguments)})},{key:"initTapTip",value:function(){var d=this;if(d[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc44")]){var x=(0,f.createHash)(8),a=new(esmap[_0x1dda("0x5f6")])({id:x,content:"<div> <span id="+x+_0x1dda("0xc45"),className:_0x1dda("0xc46"),created:function(d){d[_0x1dda("0x120")][_0x1dda("0x8f4")]=_0x1dda("0xc47"),d.style[_0x1dda("0x138")]=_0x1dda("0xc48"),d[_0x1dda("0x120")][_0x1dda("0x1aa")]=_0x1dda("0xc49"),d[_0x1dda("0x120")][_0x1dda("0xc4a")]=_0x1dda("0xc4b"),d.style.fontSize="12px",d[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0xc4c"),d[_0x1dda("0x120")][_0x1dda("0x1a8")]=_0x1dda("0x122"),d[_0x1dda("0x8e8")][_0x1dda("0x8e8")].style[_0x1dda("0x8de")]=_0x1dda("0x5bb");var x=(0,v.default)(_0x1dda("0xc4d"));x[_0x1dda("0x41e")](_0x1dda("0x1af"),_0x1dda("0xc4e")),x[_0x1dda("0x120")]({width:0,height:0,fontSize:0,overflow:_0x1dda("0x314"),position:_0x1dda("0xc4f"),borderStyle:_0x1dda("0xc50"),borderWidth:"9px",borderColor:_0x1dda("0x605")+esmap.ESMapUtil[_0x1dda("0x600")](_0x1dda("0xc47"))+",1"+_0x1dda("0xc51"),left:this.w_/2-25+"px",bottom:_0x1dda("0xc52")}),d[_0x1dda("0x24")](x[_0x1dda("0x41c")]),a.popDiv_[_0x1dda("0x120")][_0x1dda("0x485")]=_0x1dda("0xc53"),a[_0x1dda("0x9d3")].style[_0x1dda("0x11d")]=0,a.popDiv_[_0x1dda("0x120")][_0x1dda("0x8de")]=_0x1dda("0x5bb"),a[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0xc54")]=_0x1dda("0x5bb")},mapCoord:{x:d[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x122")][0],y:d[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x122")][1],height:150}});a[_0x1dda("0x9d2")]=x,d[_0x1dda("0x42")].tapTip=a,d[_0x1dda("0x42")].on(_0x1dda("0xc55"),(function(){d[_0x1dda("0x38e")][_0x1dda("0xaf")](a[_0x1dda("0x12d")])<0&&0!=a[_0x1dda("0x9d3")].style[_0x1dda("0x11d")]&&(a[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=0)})),d[_0x1dda("0x42")].on(_0x1dda("0x1ee"),(function(x){if(x<=d.map[_0x1dda("0x35")][_0x1dda("0xa30")]){var a=d[_0x1dda("0x42")][_0x1dda("0x9fb")];a&&(a[_0x1dda("0x9d3")].style[_0x1dda("0x11d")]=0);var _=document[_0x1dda("0x9d1")](a[_0x1dda("0x9d2")]);_&&(_[_0x1dda("0x1ae")]="")}})),d[_0x1dda("0x42")].on(_0x1dda("0xc56"),(function(x){var a=d[_0x1dda("0x42")][_0x1dda("0x9fb")];if(!d[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0xaf1")]||!d[_0x1dda("0x42")].options[_0x1dda("0x1cc")]||0==x[_0x1dda("0xc57")]){var _=d[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc44")];if(x.nodeType!=esmap[_0x1dda("0x126")].MODEL||x.mapId||2==x[_0x1dda("0x3a8")])if(x.nodeType!=esmap[_0x1dda("0x126")][_0x1dda("0x1b5")]||x[_0x1dda("0x41")]||2==x[_0x1dda("0x3a8")]||x instanceof esmap[_0x1dda("0x5f5")])a[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=0;else{var e=document.getElementById(a[_0x1dda("0x9d2")]);if(a[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=0,e[_0x1dda("0x1ae")]="",x.name&&_){var t=x[_0x1dda("0x2cf")];a[_0x1dda("0x1ff")]({x:x.mapCoord.x,y:x[_0x1dda("0x1e7")].y,time:.01,callback:function(){a.group[_0x1dda("0xfa")].y=1.1*t,e[_0x1dda("0x1ae")]=x[_0x1dda("0xfc")],setTimeout((function(){a[_0x1dda("0x9d3")][_0x1dda("0x120")].opacity=1}),1)}})}else a[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=0}else{var i=document[_0x1dda("0x9d1")](a.spanId);if(i.innerHTML="",a[_0x1dda("0x9d3")].style[_0x1dda("0x11d")]=0,x[_0x1dda("0xfc")]&&_){var n=d.map[_0x1dda("0x198")]({from:d[_0x1dda("0x42")].DEFAULT_COORDSYSTEM,to:d[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x19b")],coord:x[_0x1dda("0x1e7")]});a[_0x1dda("0x1ff")]({x:n.x,y:n.y,time:.01,callback:function(){a[_0x1dda("0xc58")].position.y=1.1*(x.RoomElevation+x[_0x1dda("0x623")]),i[_0x1dda("0x1ae")]=x[_0x1dda("0xfc")],setTimeout((function(){a[_0x1dda("0x9d3")].style.opacity=1}),1)}}),a[_0x1dda("0x12d")]=x.bid}else a[_0x1dda("0x9d3")][_0x1dda("0x120")].opacity=0}}}))}}},{key:_0x1dda("0xc43"),value:function(){return esmap[_0x1dda("0x9cd")]&&esmap[_0x1dda("0x9cd")].inited}},{key:_0x1dda("0xc59"),value:function(d,x,a){if(!(this[_0x1dda("0xc12")][d]||this.roadGrids&&this[_0x1dda("0xc11")][_0x1dda("0xaf")](d)<0)){x[_0x1dda("0x16d")]&&(x[_0x1dda("0x16d")][0],x[_0x1dda("0x16d")][1]);var _=this,t=1!=_.map[_0x1dda("0x35")].tid,i=b[_0x1dda("0xd")][_0x1dda("0x67")](_0x1dda("0x4c"),{tileId:a,typeId:2});esmap[_0x1dda("0x5b4")][_0x1dda("0xd6")]({url:i,isArrayBuffer:!0})[_0x1dda("0x43a")]((function(x){var a=new Uint8Array(x);t||(0,l[_0x1dda("0x107")])(_[_0x1dda("0x42")].id+""+_.options.tid,a);var i=null;try{i=D.ESTileMap[_0x1dda("0xc5a")][_0x1dda("0x45")](a)}catch(x){return _.failedNavs[d]=!0,void A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:esmap[_0x1dda("0x24d")][_0x1dda("0xc32")],level:_0x1dda("0x1eb")})}if(i){_[_0x1dda("0xa05")][d]=i,i[_0x1dda("0xc5b")]&&(0,e.default)(i[_0x1dda("0xc5b")])[_0x1dda("0x0")]>0&&(_[_0x1dda("0xc5c")](i),_[_0x1dda("0x42")].fire("tileRouteDataLoaded",{bid:d,data:i})),_[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xc5d"),d);var n=_[_0x1dda("0x42")][_0x1dda("0x1e1")](d);_.map.options.editMode&&n&&n.loadRoads()}}))[_0x1dda("0x1eb")]((function(){_[_0x1dda("0xc12")][d]=!0}))}}},{key:_0x1dda("0xc5e"),value:function(d,x,a){var _=this;if(this[_0x1dda("0xc13")][d])a();else if(1!=this.options[_0x1dda("0x43")]&&this[_0x1dda("0xc5f")]&&this[_0x1dda("0xc5f")][_0x1dda("0xaf")](d)<0)a();else{var e=d,t=1!=_[_0x1dda("0x42")].options.tid,i=b.default[_0x1dda("0x67")](_0x1dda("0x4c"),{tileId:d,typeId:1});if(_[_0x1dda("0x42")].fire("tilePreLoad",e),O)if(!(esmap.ESMapUtil[_0x1dda("0x87")](P)===_0x1dda("0xc37")))return;esmap[_0x1dda("0x5b4")][_0x1dda("0xd6")]({url:i,isArrayBuffer:!0})[_0x1dda("0x43a")]((function(e){var n=new Uint8Array(e);t||(0,l[_0x1dda("0x107")])(_[_0x1dda("0x42")].id+""+_.options[_0x1dda("0x43")],n);var r=null;try{r=D[_0x1dda("0x9cd")].ESTileMapSet.decode(n)}catch(d){return A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:esmap[_0x1dda("0x24d")][_0x1dda("0xc32")]+": "+i,level:_0x1dda("0x1eb")}),void a()}if(L==r.cname){var s=new(u[_0x1dda("0xd")])({id:d,map:_.map});s.sourceData=r;var o=_[_0x1dda("0xc60")](r,d);s[_0x1dda("0x38f")]=o,x(r,s)}})).error(a)}}},{key:_0x1dda("0xc61"),value:function(d){var x=this,a=x.map[_0x1dda("0x35")][_0x1dda("0x6e")],_=b.default.getPath(_0x1dda("0x58"),{ext:d,themeID:a});return new n.default((function(e,t){esmap[_0x1dda("0x5b4")][_0x1dda("0xc62")]({url:_}).success((function(d){if(d){x[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xbc8"),{id:a,data:d});var _=x[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xc64")](d);(new Date)[_0x1dda("0x85")]()-1e6*B[_0x1dda("0x569")]>0||e(_)}else t(_0x1dda("0xc63")+a)})).error((function(){d==_0x1dda("0xf4")?e(x[_0x1dda("0xc61")]("theme")):t("ä¸»é¢æä»¶è¯·æ±éè¯¯: "+a)}))}))}},{key:"getNearestValidTile",value:function(d){for(var x=d.x,a=d.y,e=[][_0x1dda("0x317")]((0,_.default)(this[_0x1dda("0xc5f")]),(0,_[_0x1dda("0xd")])(this[_0x1dda("0xc11")])),t={distance:1/0,tileid:null},i=0;i<e.length;i++){var n=e[i],r=n[_0x1dda("0x2a")]("_"),s=Math[_0x1dda("0x2c1")](r[0]-x)+Math[_0x1dda("0x2c1")](r[1]-a);s<t[_0x1dda("0x2a1")]&&(t[_0x1dda("0x2a1")]=s,t[_0x1dda("0xc65")]=n)}return t[_0x1dda("0xc65")]}},{key:_0x1dda("0xa2f"),value:function(){var d=this;if(0!=this[_0x1dda("0x42")][_0x1dda("0x920")]){var x=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc66")],a=this[_0x1dda("0x42")][_0x1dda("0x1db")](this[_0x1dda("0x42")][_0x1dda("0x226")].target,!0),_=a.x,e=a.y,t=(0,c[_0x1dda("0xe2")])(_,e,x),i={x:_,y:e,indx:t.x,indy:t.y};this[_0x1dda("0x38e")]=[];var n=this,r=[],s=this[_0x1dda("0xc67")]();if(s){var o=(0,c[_0x1dda("0x197")])(i[_0x1dda("0xb38")],i.indy,this.map[_0x1dda("0x35")][_0x1dda("0xc66")],!1),l=o.maxx-o[_0x1dda("0xf0")],f=o.maxy-o.miny;this[_0x1dda("0xb37")]=i,this.tileSize=l;for(var u=i[_0x1dda("0xb38")],h=i[_0x1dda("0xb39")],g=_,b=e,v=[u],p=[h],m=this[_0x1dda("0xa6b")],A=0;A<m;A++){if((g+=l)>s[_0x1dda("0xec")]){v[_0x1dda("0x10")](u+A+1,u-(A+1));break}v[_0x1dda("0x10")](u+A+1,u-(A+1))}for(var C=0;C<m;C++){if((b+=f)>s[_0x1dda("0xed")]){p[_0x1dda("0x10")](h+C+1,h-(C+1));break}p.push(h+C+1,h-(C+1))}p[_0x1dda("0xd1")]((function(x){v.forEach((function(a){var _=a+"_"+x,e=(0,c[_0x1dda("0x197")])(a,x,d[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc66")],!1),t=n.intersects(s,e),i=d[_0x1dda("0x42")][_0x1dda("0x19f")].zoomLevel>=18&&d[_0x1dda("0x42")].tiltAngle>=60,o=n[_0x1dda("0xc68")](_),l=n._cdu();o&&l&&(t||i)&&(r[_0x1dda("0x10")](_),n[_0x1dda("0x38e")][_0x1dda("0x10")](_))}))})),this.currentView=r,this[_0x1dda("0xc1c")]||(this[_0x1dda("0xc1c")]=[][_0x1dda("0x317")](r),this[_0x1dda("0xc1b")]=r[_0x1dda("0x0")])}}}},{key:_0x1dda("0xc69"),value:function(d){var x=[{x:d[_0x1dda("0x556")],y:d[_0x1dda("0x558")]},{x:d[_0x1dda("0x559")],y:d[_0x1dda("0x558")]},{x:d.maxX,y:d[_0x1dda("0x55b")]},{x:d[_0x1dda("0x556")],y:d.maxY},{x:d.minX,y:d[_0x1dda("0x558")]}],a=new(esmap[_0x1dda("0x5ec")])({alpha:.5,lineWidth:1,height:6,points:x});this.map[_0x1dda("0x12b")](0)[_0x1dda("0x61b")](1)[_0x1dda("0x3ba")]("mypoly",esmap.ESLayerType[_0x1dda("0x9e6")])[_0x1dda("0x1cb")](a)}},{key:"queryTilesByNum",value:function(d){if(0!=this[_0x1dda("0x42")][_0x1dda("0x920")]){var x=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc66")],a=this.map[_0x1dda("0x1db")](this.map[_0x1dda("0x226")][_0x1dda("0x227")]),_=this[_0x1dda("0xc67")]();if(_){var e=1,t=(0,c[_0x1dda("0xe2")])(a.x,a.y,x),i={x:a.x,y:a.y,indx:t.x,indy:t.y},n=(0,c[_0x1dda("0x197")])(i.indx,i.indy,this[_0x1dda("0x42")][_0x1dda("0x35")].worldScale,!0),r=n[_0x1dda("0xec")]-n[_0x1dda("0xf0")];this[_0x1dda("0xb37")]=i;var s=[i[_0x1dda("0xb38")]+"_"+i[_0x1dda("0xb39")]],o=this.getTileNumbers(8);this[_0x1dda("0x38e")]=[i[_0x1dda("0xb38")]+"_"+i[_0x1dda("0xb39")]];for(var l=[],f=0;f<o.length;f++){var u=o[f][0]+i[_0x1dda("0xb38")],h=o[f][1]+i[_0x1dda("0xb39")],g=u+"_"+h,b=this[_0x1dda("0xc68")](g);if(!(e>=d)&&b){var v=(0,c[_0x1dda("0x197")])(u,h,this[_0x1dda("0x42")][_0x1dda("0x35")].worldScale,!0);this[_0x1dda("0xaf7")](_,v)?(s[_0x1dda("0x10")](g),this[_0x1dda("0x38e")].push(g)):l[_0x1dda("0x10")](g),e+=1}}this[_0x1dda("0xa3f")]=r,this[_0x1dda("0xa37")]=s,this[_0x1dda("0xa6d")]=l}}}},{key:_0x1dda("0xc6a"),value:function(d){for(var x=[],a=-d;a<d+1;a++)for(var _=-d;_<d+1;_++)0==a&&0==_||x[_0x1dda("0x10")]([a,_]);return x[_0x1dda("0x3ef")]((function(d,x){return Math[_0x1dda("0x2c1")](d[0])+Math.abs(d[1])-(Math[_0x1dda("0x2c1")](x[0])+Math.abs(x[1]))})),x}},{key:_0x1dda("0xc6b"),value:function(d){var x=this,a=this.map;if(!M){var _=B;if(M=(0,l[_0x1dda("0x45")])(_[_0x1dda("0x561")],"ESTileToken",""),{maxx:_.maxX,minx:_[_0x1dda("0x556")],maxy:_[_0x1dda("0x55b")],miny:_.minY},a[_0x1dda("0xc6c")]=_[_0x1dda("0x56e")]||_0x1dda("0xc6d"),a[_0x1dda("0x3c4")]=_[_0x1dda("0x56f")]||"0,0,0",a[_0x1dda("0xc3d")].indexOf(this[_0x1dda("0x35")][_0x1dda("0xc6e")])<0)return void A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:"invalid tileType",level:_0x1dda("0x1eb")})}var e={id:d,buildingType:esmap[_0x1dda("0xa3a")][_0x1dda("0xa3b")]},t=this,i=e[_0x1dda("0x1e3")];9568297==a.sl()&&a.mapService[_0x1dda("0x279")].queryTileScene(d,(function(_,e){e.buildingType=i,e[_0x1dda("0x122")]=[e[_0x1dda("0xa17")].x,e[_0x1dda("0xa17")].y];var t=a[_0x1dda("0xc6c")].split(",");e.o3d_[_0x1dda("0xfa")].set(0+1*t[0]-0,1*t[1],0+1*t[2]+0),a.mapScene[_0x1dda("0xc6f")]()[_0x1dda("0xce")](e.o3d_),e[_0x1dda("0x396")](),e[_0x1dda("0x3b5")](),e[_0x1dda("0x390")](1),x[_0x1dda("0xc59")](d,a[_0x1dda("0x35")],d),x[_0x1dda("0xc70")](e)}),(function(_){x[_0x1dda("0xc13")][d]=!0,x.solvingList[_0x1dda("0x6")](x[_0x1dda("0xa42")][_0x1dda("0xaf")](d),1),esmap[_0x1dda("0x33")].IsMapLoading=!1,x.needNewTileByRoutes[d]=!0,x[_0x1dda("0xc59")](d,a[_0x1dda("0x35")],d),a[_0x1dda("0x337")]("routeDataLoaded",(function(d){if(x[_0x1dda("0xc71")][d]){var _=d[_0x1dda("0x2a")]("_"),e=(0,c[_0x1dda("0x197")])(1*_[0],1*_[1],a[_0x1dda("0x35")][_0x1dda("0xc66")],!0),n=(e[_0x1dda("0xec")]-e.minx)/2+e[_0x1dda("0xf0")],r=(e[_0x1dda("0xed")]-e[_0x1dda("0xf1")])/2+e[_0x1dda("0xf1")],s=new u.default({id:d,map:a});s[_0x1dda("0x122")]=[n,r],s.buildingType=i;var o=a[_0x1dda("0xc6c")][_0x1dda("0x2a")](",");s[_0x1dda("0x180")][_0x1dda("0xfa")].set(0+1*o[0]-0,1*o[1],0+1*o[2]+0),a.mapScene[_0x1dda("0xc6f")]().add(s[_0x1dda("0x180")]),x[_0x1dda("0xc71")][d]=null,t[_0x1dda("0xc70")](s)}})),x.checkInitials(d),0==x.currentView[_0x1dda("0x0")]&&0==x[_0x1dda("0xa42")].length&&a[_0x1dda("0xda")](_0x1dda("0xc55"))}))}},{key:_0x1dda("0xc60"),value:function(d,x){var a=this,_=I[_0x1dda("0xd")][_0x1dda("0xd6")](x),e=d.Rooms,t=d[_0x1dda("0x398")];for(var i in t)_.add(t[i][_0x1dda("0x3a0")]);var n=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc72")],r=this[_0x1dda("0x42")][_0x1dda("0x199")],s=(this[_0x1dda("0x638")],0),o=0,c=this[_0x1dda("0x386")][_0x1dda("0xbb4")],l={1:[],2:[],3:[]},f={1:[],2:[],3:[]},u=[],h=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x39d")];for(var g in e){var v,p=e[g],m=!1,C=!1,y=this[_0x1dda("0x42")][_0x1dda("0x132")].tileStyles[p.RS],E=!1;999!=p.RS&&(this[_0x1dda("0x42")][_0x1dda("0xb3")].counter[_0x1dda("0x52")]+=1),y&&999!=p.RS?y&&2==y[_0x1dda("0xc73")]&&(m=2==y[_0x1dda("0xc74")],C=2==y.sideTextureType):2==(y=this[_0x1dda("0x42")][_0x1dda("0x132")].tileStyles[0])[_0x1dda("0xc73")]&&(m=2==y[_0x1dda("0xc74")],C=2==y[_0x1dda("0xc75")]),v=y[_0x1dda("0xc76")];var w=this[_0x1dda("0xc30")](p.Outline);if(h){var T=!0;if(w[_0x1dda("0x121")][0].length>=3){var S=w[_0x1dda("0x121")][0][_0x1dda("0x42")]((function(d){return{x:-d.x,y:d.y}})),M=!1,R={x:0,y:0,z:0};if(p.RM&&p.RMO){var L=p[_0x1dda("0xbbe")][_0x1dda("0x2a")](",");R.x=L[0],R.y=L[1],R.z=L[2]}for(var D=0;D<S[_0x1dda("0x0")];D++){if(esmap.ESMapUtil[_0x1dda("0x39e")]({x:S[D].x-R.x,y:S[D].y-R.y},h)){M=!0;break}}T=M}else T=esmap[_0x1dda("0x86")][_0x1dda("0x39e")]({x:p[_0x1dda("0xbbc")],y:p[_0x1dda("0xbbd")]},h);if(!T)continue}var H=this.map.transformCoordArray({from:k,to:r,coords:w.points[0],flipX:!0}),P=w[_0x1dda("0x502")];P.length>0&&(P=this[_0x1dda("0x42")][_0x1dda("0x512")]({from:k,to:r,coords:w.holes[0],flipX:!0})),p[_0x1dda("0x624")]&&this[_0x1dda("0x638")][p[_0x1dda("0x624")]]&&function(){var d=[];H[_0x1dda("0xd1")]((function(x){d[_0x1dda("0x10")]({x:-x.x,y:x.y})})),a[_0x1dda("0x638")][p[_0x1dda("0x624")]][_0x1dda("0x642")]=d}();var O=this[_0x1dda("0x42")][_0x1dda("0x198")]({from:k,to:r,coord:{x:p[_0x1dda("0xbbc")],y:p[_0x1dda("0xbbd")]}}),B=p.FH*v*n;if(p.RM&&(c&&p.RM[_0x1dda("0xaf")](_0x1dda("0xc77"))>=0?E=!0:s++),p.RL&&p[_0x1dda("0xc78")])for(var F=p.RL[_0x1dda("0x2a")](";"),N=p.RLSize[_0x1dda("0x2a")](";"),z=0;z<F[_0x1dda("0x0")];z++){var j=F[z],U="";if(N[z])1*N[z][_0x1dda("0x2a")](",")[3]<3&&(U=b[_0x1dda("0xd")][_0x1dda("0x67")](_0x1dda("0xc79"),{filename:j,type:_0x1dda("0xc7a")}),this[_0x1dda("0x386")][_0x1dda("0x32f")].prefetchTexture(U,"modelImageTexturePool",j))}var X={floornum:null,TextureType:null,isTube:!1,fnums:p[_0x1dda("0xc7b")],RoomHigh:B,Typeid:p[_0x1dda("0x3a1")],classID:p.MC||0,gid:p.GID,CenX:O.x,RoomLogo:p.RL||null,FsId:p.RL?0:null,RoomLogoSize:null==p.RLSize?"":p[_0x1dda("0xc78")],CenY:O.y,OCenX:p.CenX,OCenY:p[_0x1dda("0xbbd")],tileid:x,oid:p[_0x1dda("0x3a0")],FC:p.Did||null,AS:p.AS,name:p.NA,nameEn:p.NA,scale:p[_0x1dda("0xc7c")],rotate:p.RMR,RModel:p.RM,bids:p[_0x1dda("0x624")],offset:p.RMO,RoomStyle:p.RS||0,points:[H],originalPoints:w[_0x1dda("0x121")],holes:P,originalHoles:w[_0x1dda("0x502")],normalizeTop:m,normalizeSide:C,ShowLevel:(24==p.SL?10:p.SL)||10};if(X[_0x1dda("0xc7d")]=p.NE?JSON[_0x1dda("0x6d")](p.NE):null,this.service.buildingBounds[p[_0x1dda("0x3a0")]]=w[_0x1dda("0x121")],X.top=p.BC>>1||1,X.bclick=1&p.BC||0,6!==X[_0x1dda("0x323")]){var Y=null;Y=p.SL<=12?1:p.SL<=16?2:3,X[_0x1dda("0x3ee")]?l[Y][_0x1dda("0x10")](X):f[Y][_0x1dda("0x10")](X),_[_0x1dda("0xce")](X[_0x1dda("0x620")]),E?(this[_0x1dda("0x35")][_0x1dda("0x376")]==_0x1dda("0x58a")||this.options[_0x1dda("0x1cc")]||A[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:_0x1dda("0xc7e"),level:_0x1dda("0x9c7")}),this[_0x1dda("0x386")].addToSingleMeshData(p,x)):X[_0x1dda("0xc7f")]&&1==Y&&o++}else u[_0x1dda("0x10")](X)}for(var G={},Q=1;Q<4;Q++){var V={modelimages:[{}],modellayers:[{models:l[Q]}],modelbaselayer:[{modelbases:f[Q]}],maxX:d[_0x1dda("0x559")],maxY:d[_0x1dda("0x55b")],minX:d[_0x1dda("0x556")],minY:d.minY,roomModelsCount:s,lod1ModelsCount:o};G[Q]=V}return G[1][_0x1dda("0xc80")]=u,_[_0x1dda("0xd0")](),G}},{key:"isValidTile",value:function(d){var x=this[_0x1dda("0xc5f")]&&this[_0x1dda("0xc5f")][_0x1dda("0xaf")](d)>-1,a=this[_0x1dda("0xc11")]&&this[_0x1dda("0xc11")].indexOf(d)>-1,_=0==this[_0x1dda("0x9ec")][_0x1dda("0x0")]||this.userTiles[_0x1dda("0xaf")](d)>-1;return(x||a)&&_}},{key:"versionCheck",value:function(d){return!(d>esmap[_0x1dda("0xc81")]||d<esmap.minV)}},{key:"transformTileNavdata",value:function(d){var x=d[_0x1dda("0xc5b")],a=this[_0x1dda("0x42")][_0x1dda("0x199")];for(var _ in x){var e=this[_0x1dda("0x42")][_0x1dda("0x198")]({from:_0x1dda("0x19a"),to:a,coord:{x:x[_].X,y:x[_].Y}});x[_].X=e.x,x[_].Y=e.y}}},{key:"transformNavData",value:function(d,x,a){var _=x.x,e=x.y,t=a.x,i=a.y,n=this.map[_0x1dda("0x199")],r=_-t,s=e-i;for(var o in d){var c=d[o][_0x1dda("0xc5b")];for(var l in c){c[l].X=c[l].X+r,c[l].Y=c[l].Y+s;var f=this[_0x1dda("0x42")][_0x1dda("0x198")]({from:"WGS84",to:n,coord:{x:c[l].X,y:c[l].Y}});c[l].X=f.x,c[l].Y=f.y}}}},{key:_0x1dda("0xc67"),value:function(){var d=this[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x2fa")][_0x1dda("0x495")](),x=0;this[_0x1dda("0x42")].tiltAngle>=80?x=d[_0x1dda("0x18b")]/2:this[_0x1dda("0x42")][_0x1dda("0x288")]>=70&&(x=d[_0x1dda("0x18b")]/3);var a=this[_0x1dda("0x42")][_0x1dda("0xa5b")](0,x,0),_=this[_0x1dda("0x42")][_0x1dda("0xa5b")](d[_0x1dda("0x1a5")],x,0),e=this[_0x1dda("0x42")][_0x1dda("0xa5b")](d[_0x1dda("0x1a5")],d[_0x1dda("0x18b")],0),t=this[_0x1dda("0x42")][_0x1dda("0xa5b")](0,d.height,0);return a&&_&&e&&t?{minx:Math[_0x1dda("0x2f6")](a.x,_.x,e.x,t.x),maxx:Math[_0x1dda("0x2be")](a.x,_.x,e.x,t.x),miny:Math[_0x1dda("0x2f6")](a.y,_.y,e.y,t.y),maxy:Math[_0x1dda("0x2be")](a.y,_.y,e.y,t.y)}:null}},{key:_0x1dda("0xc82"),value:function(d){var x,a=this[_0x1dda("0x42")][_0x1dda("0x35")],_=d,e=a[_0x1dda("0x83")],t=a.s,i=a.tid,n=window[_0x1dda("0x78")][_0x1dda("0x84")],r=parseInt((new Date)[_0x1dda("0x85")]()/1e3);x=a.s&&a.k?a.k:esmap[_0x1dda("0x86")][_0x1dda("0x87")](a[w[_0x1dda("0xbc")]]+_0x1dda("0x89")+r);var s=esmap[_0x1dda("0x86")][_0x1dda("0x87")](i+"&"+_+"&"+t+"&"+x+"&"+r+"&"+n+"&"+e);querySign=s;var c=o[_0x1dda("0x8a")].decode((0,l.getSubDirByS)(t)),f=void 0;if(3==i)f=a[_0x1dda("0x46")]+"/"+_+_0x1dda("0x8b");else{var u=(0,l[_0x1dda("0x108")])(t);f=(3==t?u:o[_0x1dda("0x8a")].decode(u))+"/"+c+_0x1dda("0x8c")+_+_0x1dda("0x8d")+a.s+_0x1dda("0x8e")+x+_0x1dda("0x6b")+r+"&url="+encodeURIComponent(n)+_0x1dda("0x95")+s+_0x1dda("0x90")+e+"&tid="+i}return f}},{key:_0x1dda("0xc83"),value:function(d){var x=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x44")]+this[_0x1dda("0x42")].id+_0x1dda("0xa0")+this[_0x1dda("0x35")][_0x1dda("0x6e")]+"/"+this[_0x1dda("0x35")][_0x1dda("0x6e")]+"."+d;return this.options[_0x1dda("0x70")]&&(x+=_0x1dda("0x6c")+Date[_0x1dda("0x6d")](new Date)),x}},{key:_0x1dda("0xc40"),value:function(d){for(var x=d[_0x1dda("0x2a")]("|"),a=0;a<x.length;a++){var _=x[a][_0x1dda("0x2a")](",");this[_0x1dda("0x638")][_[1]]||(this[_0x1dda("0x638")][_[1]]={bid:_[1],x:1*_[2],y:1*_[3],id:1*_[0],offsetZ:1*_[4]||0,_raws:{x:1*_[2],y:1*_[3]}})}}},{key:_0x1dda("0xc84"),value:function(){var d=this,x=d[_0x1dda("0x42")][_0x1dda("0x35")],a=void 0;x.s;return a=1==x[_0x1dda("0x43")]?x[_0x1dda("0x44")]+this[_0x1dda("0x42")].id+"/boundary.json":x[_0x1dda("0x46")]+_0x1dda("0xc85"),new n.default((function(_,e){esmap[_0x1dda("0x5b4")].getJSON({url:a}).success((function(a){if(x.vBoundary){for(var e=esmap[_0x1dda("0x86")][_0x1dda("0x644")](x[_0x1dda("0x39d")]),t=[],i=[],n=0;n<a[_0x1dda("0xc86")][_0x1dda("0x0")];n++)e[_0x1dda("0xaf")](a.grids1[n])>-1&&t.push(a[_0x1dda("0xc86")][n]),e[_0x1dda("0xaf")](a[_0x1dda("0xc87")][n])>-1&&i[_0x1dda("0x10")](a[_0x1dda("0xc87")][n]);d.tileGrids=t,d[_0x1dda("0xc11")]=i}else d[_0x1dda("0xc5f")]=a[_0x1dda("0xc86")],d[_0x1dda("0xc11")]=a[_0x1dda("0xc87")];for(var r=a[_0x1dda("0xc0d")],s=[],o=0;o<r.length;o++){var c=r[o],l=c[_0x1dda("0xc88")],f=c[_0x1dda("0x3c3")],u=(new(h[_0x1dda("0xd")][_0x1dda("0x543")]))[_0x1dda("0xc89")](f);s.push({citycode:l,outline:u[_0x1dda("0x53b")]})}d[_0x1dda("0xc0d")]=s,_()})).error((function(){e(!1)}))}))}},{key:_0x1dda("0x28a"),value:function(){esmap.ESTileMap&&esmap[_0x1dda("0x9cd")][_0x1dda("0x9ce")]&&(esmap.ESTileMap[_0x1dda("0x9ce")][_0x1dda("0xc8a")][_0x1dda("0xc8b")]=!0,this[_0x1dda("0x293")]=!0)}},{key:_0x1dda("0x2ed"),value:function(){esmap.ESTileMap&&esmap[_0x1dda("0x9cd")][_0x1dda("0x9ce")]&&(esmap[_0x1dda("0x9cd")][_0x1dda("0x9ce")][_0x1dda("0xc8a")][_0x1dda("0xc8b")]=!1,this.tileBaseFrozen=!1)}},{key:_0x1dda("0x979"),value:function(d){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this,_=arguments[_0x1dda("0x0")]>2&&void 0!==arguments[2]&&arguments[2],e=arguments[_0x1dda("0x0")]>3&&void 0!==arguments[3]&&arguments[3];if(null==F)F=(new Date).getTime();else if((new Date)[_0x1dda("0x85")]()-F<1500)return;F=(new Date)[_0x1dda("0x85")]();var t=this[_0x1dda("0x42")],i=this;if(!this[_0x1dda("0xc8c")]&&!t[_0x1dda("0x12b")](d.mapId))if(this.bidList[d[_0x1dda("0x41")]]){var n=(0,p.getBuildingOptions)({loadModel3D:!0,visibleFloors:1==t[_0x1dda("0x35")][_0x1dda("0xc8f")]?null:_0x1dda("0x641"),focusFloor:"top",focusMode:t[_0x1dda("0x35")].buildingFoucsMode,focusAnimateMode:1==t.options[_0x1dda("0xc8f")],hideFloorBase:e,dataCenter:{x:this[_0x1dda("0x638")][d[_0x1dda("0x41")]].x,y:this[_0x1dda("0x638")][d[_0x1dda("0x41")]].y},token:x||t[_0x1dda("0x35")][w[_0x1dda("0xbc")]],offsetZ:this[_0x1dda("0x638")][d[_0x1dda("0x41")]][_0x1dda("0x513")]});if(!(this.buildingLoadingCount>0)){if(t.fire(_0x1dda("0xc90"),{id:d[_0x1dda("0x41")]}),t[_0x1dda("0x35")][_0x1dda("0xc91")])for(var r in t[_0x1dda("0x35")][_0x1dda("0xc91")])if(d[_0x1dda("0x41")]==r){n[_0x1dda("0x6e")]=t[_0x1dda("0x35")][_0x1dda("0xc91")][r];break}t[_0x1dda("0x35")][_0x1dda("0xc92")]&&t[_0x1dda("0x35")][_0x1dda("0xc92")][d[_0x1dda("0x41")]]&&(n[_0x1dda("0xbc3")]=t.options[_0x1dda("0xc92")][d[_0x1dda("0x41")]]);var s={shell:_?null:d,tile:d.bid,id:d[_0x1dda("0x41")],angle:10,options:n},o=s.id,c=s[_0x1dda("0x35")],l=s[_0x1dda("0xa13")]||null;if(this[_0x1dda("0x386")][_0x1dda("0xa3e")].push({x:c[_0x1dda("0xc93")].x,y:c[_0x1dda("0xc93")].y,bid:o,changed:[]}),this[_0x1dda("0xc8c")]=!0,l)if(6==l[_0x1dda("0x106")])if(l.o3d_)if(l[_0x1dda("0x180")].datas_[_0x1dda("0x424")]&&l[_0x1dda("0x180")][_0x1dda("0xe5")].brothers.length>1){var f=i.map[_0x1dda("0x12b")](t.id)[_0x1dda("0x22c")].GLTFMergeTool;l.o3d_[_0x1dda("0xe6")][_0x1dda("0xd1")]((function(d){f[_0x1dda("0x415")](d,l.ID,!1)})),l[_0x1dda("0x180")][_0x1dda("0x153")].shellMap||(l[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0xc94")]={}),l[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0xc94")][o]||(l.o3d_[_0x1dda("0x153")][_0x1dda("0xc94")][o]=l.ID)}else t[_0x1dda("0x97b")]++,esmap[_0x1dda("0x86")].setAlpha({clonemat:!0,target:l[_0x1dda("0x180")],alpha:.1,hideOnComplete:!0,time:1.5}),setTimeout((function(){t[_0x1dda("0x97b")]--}),1600);else l[_0x1dda("0x169")]=!1;else if(5==l.nodeType){for(var u=l[_0x1dda("0x180")].geometry.attributes[_0x1dda("0x535")][_0x1dda("0x400")],h=l[_0x1dda("0xff")][0],g=l[_0x1dda("0xff")][1],b=h;b<g;b+=1)u[b]=1;l.o3d_[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x535")][_0x1dda("0x172")]=!0}if(this[_0x1dda("0x97a")][o]){var v=this[_0x1dda("0x97a")][o];return t.mapScene[_0x1dda("0xa15")][_0x1dda("0xce")](v),t[_0x1dda("0x633")][_0x1dda("0x10")](v[_0x1dda("0xe5")]),v[_0x1dda("0x169")]=!0,t[_0x1dda("0xda")](_0x1dda("0x97c"),v[_0x1dda("0xe5")]),t[_0x1dda("0xda")](_0x1dda("0x97d"),v[_0x1dda("0xe5")]),v[_0x1dda("0xe5")][_0x1dda("0x1f2")](_0x1dda("0xbde"),{bid:v[_0x1dda("0xe5")].id}),void(this[_0x1dda("0xc8c")]=!1)}if(9568297==t.sl())return c.id=o,this[_0x1dda("0x42")][_0x1dda("0xda")]("preLoadBuilding",c),this[_0x1dda("0x386")][_0x1dda("0xbbf")](c).then((function(d){var x=d[_0x1dda("0xa17")];d[_0x1dda("0x1e3")]=esmap.ESBuildingType.BUILDING,d[_0x1dda("0xc95")]=s[_0x1dda("0xc95")],d[_0x1dda("0xa13")]=s[_0x1dda("0xa13")],d.center={x:c[_0x1dda("0xc93")].x,y:c.dataCenter.y},d[_0x1dda("0x9b2")]={x:c[_0x1dda("0xc93")].x- -x.DefaultCenX,y:c[_0x1dda("0xc93")].y-x[_0x1dda("0xc96")]},a[_0x1dda("0xc97")](x[_0x1dda("0xc98")],d.center,{x:-x[_0x1dda("0xbca")],y:x[_0x1dda("0xc96")]}),a[_0x1dda("0x386")].buildingService[_0x1dda("0xa05")][o]=x[_0x1dda("0xc98")],a[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xc99"),{bid:o,data:x[_0x1dda("0xc98")]}),t[_0x1dda("0x35")][_0x1dda("0x953")]&&d[_0x1dda("0x180")][_0x1dda("0xfa")][_0x1dda("0xcd")](0,0,0),d.udoffset=0,d[_0x1dda("0xc9a")]=d[_0x1dda("0x180")][_0x1dda("0xfa")].y+1;var _=x[w[_0x1dda("0xbb")]],e=_<32503514?_:_/1e3;if(!((new Date).getTime()>1e6*e))return t[_0x1dda("0x935")]=d,t.scaleLevels_=d[_0x1dda("0x930")],t[_0x1dda("0xda")](_0x1dda("0x97c"),d),t.on(_0x1dda("0xdb"),(function(x){x.from===d.id&&1===x[_0x1dda("0xd8")]&&(a[_0x1dda("0xc8c")]=!1)})),d}))[_0x1dda("0x817")]((function(d){i.solvingList[_0x1dda("0x6")](i.solvingList.indexOf(o),1),i[_0x1dda("0xc0b")][_0x1dda("0x10")](o),esmap[_0x1dda("0x33")][_0x1dda("0x936")]=!1,a[_0x1dda("0xc8c")]=!1}))}}else A.MessagePoster[_0x1dda("0xb2")]({msg:_0x1dda("0xc8d")+d[_0x1dda("0x41")]+_0x1dda("0xc8e"),level:"error"})}},{key:_0x1dda("0xc9b"),value:function(d){(this[_0x1dda("0x42")].mapService._disableTileUpdate=!d,esmap[_0x1dda("0x9cd")]&&esmap[_0x1dda("0x9cd")][_0x1dda("0xc9c")][_0x1dda("0xc9d")](d),this[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0x3c7")][_0x1dda("0x169")]=d,this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc24")]!=esmap[_0x1dda("0x5cb")][_0x1dda("0xc25")])&&(this.map[_0x1dda("0x12b")](0)[_0x1dda("0x180")][_0x1dda("0x169")]=d);this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xc9e"),this[_0x1dda("0x42")][_0x1dda("0xa79")]),d?this[_0x1dda("0x386")].setState(_0x1dda("0xc9f"),!1):this.service[_0x1dda("0xbb9")](_0x1dda("0xc9f"),!0)}},{key:_0x1dda("0xdc"),value:function(){M=null,R=1,L=null,P=null,O=!1,[],1,this[_0x1dda("0xa42")]=[],this[_0x1dda("0xc0b")]=[],this.dropList=[],this.sourceData={},this[_0x1dda("0xa37")]=[],this[_0x1dda("0x38e")]=[],this[_0x1dda("0xb37")]=null,this.cachedTiles=[],this.cacheBuildings={},B=null,this[_0x1dda("0xc0d")]=[],this.needNewTileByRoutes={},this[_0x1dda("0xa05")]={},this.LOD={1:12,2:16,3:18},this[_0x1dda("0xc0f")]={buildings:0,models:0},this.buildingColorStaged=[],this.tileBaseFrozen=!1,this.tileInited=!1,this[_0x1dda("0xc5f")]=null,this[_0x1dda("0xc11")]=null,this[_0x1dda("0x9ec")]=[],this[_0x1dda("0xc12")]={},this[_0x1dda("0xca0")]=!1,this[_0x1dda("0x638")]={},this[_0x1dda("0xc13")]={},this[_0x1dda("0x981")]=[],this[_0x1dda("0x9be")]={},this[_0x1dda("0xc14")]=[],this[_0x1dda("0xc15")]="",this[_0x1dda("0xc16")]=0,this[_0x1dda("0xc17")]=0,this[_0x1dda("0xc18")]=0,this[_0x1dda("0xc19")]=0,this[_0x1dda("0x95a")]=null}},{key:_0x1dda("0xca1"),value:function(d){this[_0x1dda("0xc1c")]&&(this[_0x1dda("0xc1c")][_0x1dda("0xaf")](d)>-1&&(this[_0x1dda("0xc13")][d]&&(this[_0x1dda("0xc1b")]-=1,this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xdb"),{})),this[_0x1dda("0xc1c")][_0x1dda("0x6")](this.initialTiles.indexOf(d),1)),0===this[_0x1dda("0xc1c")][_0x1dda("0x0")]&&(this[_0x1dda("0x42")][_0x1dda("0xda")]("modelLoadedAll",{bid:this[_0x1dda("0x42")].id}),this.map[_0x1dda("0xda")](_0x1dda("0xca2")),this[_0x1dda("0xc1c")]=null))}},{key:_0x1dda("0xc70"),value:function(d){var x=this[_0x1dda("0x42")];x[_0x1dda("0xda")](_0x1dda("0xca3"),d),this[_0x1dda("0xa05")][d.id]&&x[_0x1dda("0xda")]("routeLoaded",d.id),x[_0x1dda("0x35")][_0x1dda("0x1cc")]&&x[_0x1dda("0x35")].loadRoads&&d[_0x1dda("0xca4")]();var a=d.id,_=this[_0x1dda("0xa42")][_0x1dda("0xaf")](a);if(this.solvingList.splice(_,1),0==this[_0x1dda("0xa42")][_0x1dda("0x0")]&&0==this[_0x1dda("0xa37")][_0x1dda("0x0")]&&!this[_0x1dda("0x386")][_0x1dda("0xc10")]){this.service[_0x1dda("0xc10")]=!0;var e=x[_0x1dda("0x62e")],t=!0;for(var i in e){var n=e[i],r=n.modelLoadManager[_0x1dda("0x966")][_0x1dda("0x0")],s=n[_0x1dda("0x22c")][_0x1dda("0xca5")][_0x1dda("0x0")];if(r>0||s>0){t=!1;break}}!this[_0x1dda("0x386")][_0x1dda("0xca6")]&&t&&(this[_0x1dda("0x386")][_0x1dda("0xca6")]=!0)}this.checkInitials(d.id),0==this[_0x1dda("0xa37")][_0x1dda("0x0")]&&0==this[_0x1dda("0xa42")][_0x1dda("0x0")]&&x[_0x1dda("0xda")](_0x1dda("0xc55"))}},{key:_0x1dda("0xa2c"),value:function(d){return"NCISKQ"===d?B:null}},{key:_0x1dda("0x35"),get:function(){return this.map[_0x1dda("0x35")]}}]),d}();x[_0x1dda("0xbaf")]=N},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=f(a(76)),e=f(a(13)),t=f(a(12)),i=f(a(7)),n=f(a(8)),r=f(a(0)),s=f(a(1)),o=f(a(77)),c=f(a(110)),l=f(a(33));function f(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}function u(d){if(d){if(d.datas_&&d[_0x1dda("0xe5")][_0x1dda("0x180")]&&(d[_0x1dda("0xe5")][_0x1dda("0x180")]=void 0,d.datas_=void 0),d[_0x1dda("0xe6")])for(var x=0;x<d[_0x1dda("0xe6")][_0x1dda("0x0")];x++)u(d[_0x1dda("0xe6")][x]);d[_0x1dda("0xe7")]&&d.geometry[_0x1dda("0xe8")](),d[_0x1dda("0xe9")]&&(d[_0x1dda("0xe9")]instanceof Array?d[_0x1dda("0xe9")].forEach((function(d){d&&d[_0x1dda("0xe8")]()})):d[_0x1dda("0xe9")][_0x1dda("0xe8")]())}d=void 0}var h=function(){function d(x){(0,r[_0x1dda("0xd")])(this,d),this[_0x1dda("0xf7")]=x.map[_0x1dda("0xb3")],this[_0x1dda("0x38d")]=this[_0x1dda("0xf7")].modelLoader,this[_0x1dda("0x2b1")]=x[_0x1dda("0x42")][_0x1dda("0x7d")].modelLoadingList,this.toLoadedCount=0,this[_0x1dda("0xca7")]=1,this[_0x1dda("0xca8")]=20,this[_0x1dda("0xca9")]=0,this[_0x1dda("0xcaa")]={},this[_0x1dda("0xcab")]={},this[_0x1dda("0x966")]=[],this[_0x1dda("0xca5")]=[],this.toAddQueue=[],this.queueRanked=!1,this.viewRangeUpdated=!1,this[_0x1dda("0xcac")]={},this[_0x1dda("0xcad")]={},this[_0x1dda("0xcae")]={},this[_0x1dda("0xcaf")]=null,this[_0x1dda("0xcb0")]=50,this[_0x1dda("0xcb1")]=1e4,this.GLTFMergeTool=new(c[_0x1dda("0xd")]),this[_0x1dda("0x350")]=!x[_0x1dda("0x42")][_0x1dda("0x35")].editMode&&x.map[_0x1dda("0x35")][_0x1dda("0x374")],this[_0x1dda("0x392")]={modelTypesCount:0,roomModelsCount:0},this[_0x1dda("0xafb")]=new THREE.Frustum;var a=this;x[_0x1dda("0x42")].on(_0x1dda("0xcb2"),(function(){0,a[_0x1dda("0xca9")]=0,a[_0x1dda("0x392")].modelTypesCount=0,a[_0x1dda("0x392")].roomModelsCount=0})),x[_0x1dda("0x42")].on(_0x1dda("0xaba"),(function(){a[_0x1dda("0x297")]=!1})),this.bid=x.id,this[_0x1dda("0x52")]=x,this[_0x1dda("0x2ea")]=a.scene.map.options[_0x1dda("0x2ea")],x[_0x1dda("0x42")].on(_0x1dda("0x38c"),this[_0x1dda("0xcb3")][_0x1dda("0x4e")](this)),x[_0x1dda("0x42")].on(_0x1dda("0xcb4"),this[_0x1dda("0xcb3")][_0x1dda("0x4e")](this))}var x,a,f,h;return(0,s.default)(d,[{key:_0x1dda("0xcb5"),value:function(){this.frustum[_0x1dda("0x972")]||(this[_0x1dda("0xafb")].setFromMatrix((new(THREE[_0x1dda("0x207")])).multiplyMatrices(this[_0x1dda("0xf7")][_0x1dda("0x42")].currentCamera.projectionMatrix,this[_0x1dda("0xf7")].map[_0x1dda("0x22b")][_0x1dda("0x3ab")])),this.frustum.inited=!0),this[_0x1dda("0x2ea")]=this[_0x1dda("0xf7")][_0x1dda("0x42")].zoomLevel}},{key:_0x1dda("0xcb6"),value:function(d,x){var a=d[_0x1dda("0x1ba")],_=d[_0x1dda("0x4a")],e=d[_0x1dda("0x123")];if(x=x||!1,!(a[_0x1dda("0xaf")]("__singlemesh")>-1&&this.scene.map[_0x1dda("0x35")][_0x1dda("0x376")]==_0x1dda("0x58a"))){this[_0x1dda("0xcb7")]++,a.indexOf(_0x1dda("0xcb8"))>-1&&(x=!0);var t=d.showLevel,i=this[_0x1dda("0x2ea")];this[_0x1dda("0x350")]&&!x?(this[_0x1dda("0x24b")][a]||this[_0x1dda("0x2b1")][a]||(this[_0x1dda("0x2b1")][a]=!0,this[_0x1dda("0x2b2")](a,_)),i<t?(this[_0x1dda("0xcab")][t]||(this[_0x1dda("0xcab")][t]={}),this.mergeQueueWaiting[t][e]||(this.mergeQueueWaiting[t][e]={}),this[_0x1dda("0xcab")][t][e][a]||(this[_0x1dda("0xcab")][t][e][a]=[]),this[_0x1dda("0xcab")][t][e][a][_0x1dda("0x10")](d)):(this.mergeQueue[e]||(this[_0x1dda("0xcaa")][e]={}),this.mergeQueue[e][a]||(this[_0x1dda("0xcaa")][e][a]=[]),this[_0x1dda("0xcaa")][e][a][_0x1dda("0x10")](d))):d[_0x1dda("0x3c2")]<=12?(this[_0x1dda("0x24b")][a]||this.loadingList[a]||(this[_0x1dda("0x2b1")][a]=!0,this[_0x1dda("0x2b2")](a,_)),this[_0x1dda("0xca5")].push(d),this[_0x1dda("0xcb9")]()):(this.frustum[_0x1dda("0x8d7")](d[_0x1dda("0xfa")])&&(this.modelStore[a]||this[_0x1dda("0x2b1")][a]||(this.loadingList[a]=!0,this[_0x1dda("0x2b2")](a,_))),this[_0x1dda("0xcba")](d))}}},{key:_0x1dda("0xcb9"),value:function(){this[_0x1dda("0xca5")][_0x1dda("0x3ef")]((function(d,x){return x.rank-d.rank}))}},{key:"addUserModel",value:function(d){var x=d[_0x1dda("0x1ba")],a=d.url;!this[_0x1dda("0xcbb")]()||this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0xa34")]?(this[_0x1dda("0xcb7")]++,this[_0x1dda("0x24b")][x]||this[_0x1dda("0x2b1")][x]||(this[_0x1dda("0x2b1")][x]=!0,this.preFetchModel3D(x,a)),d.merge?(this[_0x1dda("0xcae")][d[_0x1dda("0xcbd")]]||(this.userMergeQueue[d.layerid]={}),this.userMergeQueue[d[_0x1dda("0xcbd")]][x]||(this[_0x1dda("0xcae")][d[_0x1dda("0xcbd")]][x]=[]),this.userMergeQueue[d[_0x1dda("0xcbd")]][x][_0x1dda("0x10")](d)):this[_0x1dda("0xcba")](d)):console[_0x1dda("0x3ec")](esmap.ESInfo[_0x1dda("0xcbc")])}},{key:_0x1dda("0x21c"),value:(h=(0,n[_0x1dda("0xd")])(i[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){return i[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return d.next=2,this.applyToMap(x);case 2:if(!(this[_0x1dda("0xca5")][_0x1dda("0x0")]>0)){d.next=5;break}return d.next=5,this.applyRequisitToMap();case 5:case"end":return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return h.apply(this,arguments)})},{key:_0x1dda("0xcbe"),value:function(d){var x=this,a=this,_=this[_0x1dda("0x52")],e=a[_0x1dda("0x52")][_0x1dda("0x42")].id,i=a.mergeQueueWaiting[d];if(i){for(var n in i){var r=i[n];if(r){var s=Array.isArray(r);for(var o in r){o=s?r[o][_0x1dda("0x1ba")]:o;var c=r[o],l=[],f=!1;if(a[_0x1dda("0x24b")][o]&&c[_0x1dda("0x0")]>0){var h=function(){c[0][_0x1dda("0xcbf")]&&(f=!0),!f&&o.indexOf(_0x1dda("0xc77"))<0&&(a.mapModelsCount+=c[_0x1dda("0x0")]);var d=c[0][_0x1dda("0xfe")],t=c[0].url,i=c[0][_0x1dda("0x1cd")];0,0;for(var s=null,h={},g=0;g<c[_0x1dda("0x0")];g++){var b=c[g];b.nodeType=esmap[_0x1dda("0x126")][_0x1dda("0x1b5")],b.mapId&&(s=b[_0x1dda("0x41")],h=x[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x1db")](b[_0x1dda("0xfa")])),l[_0x1dda("0x10")](b.id)}if(0!=a[_0x1dda("0x24b")][o].gltfObj[_0x1dda("0x228")][_0x1dda("0x0")]){for(var v=0;v<c[_0x1dda("0x0")];v++)a[_0x1dda("0xcb6")](c[v],!0);return _0x1dda("0x63c")}var p=a[_0x1dda("0x636")][_0x1dda("0x101")](a[_0x1dda("0x24b")][o][_0x1dda("0xcc0")],c);if(!p){for(var m=0;m<c[_0x1dda("0x0")];m++)c[m][_0x1dda("0x101")]=!1,1,a[_0x1dda("0xcb6")](c[m]);return{v:void 0}}p[_0x1dda("0xfc")]=_0x1dda("0xfd"),p.userData[_0x1dda("0x9a7")]=!0,p[_0x1dda("0xe5")]={model:o,isWall:f,bid:e,tileId:a[_0x1dda("0x52")].id,bType:1,FloorNum:n,nodeType:esmap.ESNodeType[_0x1dda("0x1b5")],brothers:c,animations:[],o3d_:p,url:t,mapCoord:h},s&&(p[_0x1dda("0xe5")][_0x1dda("0x41")]=s,x[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x279")].targetAndBuildingList[s]=p[_0x1dda("0xe5")]),p[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")],c[0].bclick&&(2==_[_0x1dda("0x1e3")]?(!a.scene[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xcc1")]&&a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3ae")](p,_.id),_[_0x1dda("0xcc2")][n][_0x1dda("0x1d5")]-=c.length):a[_0x1dda("0xf7")][_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](p,_.id)),d.add(p),x[_0x1dda("0x397")][_0x1dda("0xd4")](l);var A=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](p),C={};[A[_0x1dda("0x2be")].x-A[_0x1dda("0x2f6")].x,A.max.z-A[_0x1dda("0x2f6")].z,A[_0x1dda("0x2be")].y-A[_0x1dda("0x2f6")].y][_0x1dda("0x3ef")](),C[_0x1dda("0x2bd")]=A,p[_0x1dda("0x153")][_0x1dda("0x2bc")]=C,a.scene[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x394")]-=c[_0x1dda("0x0")];a[_0x1dda("0xf7")][_0x1dda("0x42")].on(_0x1dda("0x38c"),(function(){if(a.scene[_0x1dda("0x42")][_0x1dda("0x2ea")]<i&&p[_0x1dda("0xfe")]){p[_0x1dda("0xfe")][_0x1dda("0x181")](p);var d=a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x17d")].watchingList[a[_0x1dda("0x52")].id];if(d){var x=d[_0x1dda("0xaf")](p);x>-1&&d[_0x1dda("0x6")](x,1)}a.mergeQueueWaiting[i]||(a[_0x1dda("0xcab")][i]={}),a.mergeQueueWaiting[i][1]||(a[_0x1dda("0xcab")][i][1]={});var _=p.datas_.brothers[0][_0x1dda("0x1ba")];a[_0x1dda("0xcab")][i][1][_]||(a.mergeQueueWaiting[i][1][_]=[]),a.mergeQueueWaiting[i][1][_]=a[_0x1dda("0xcab")][i][1][_].concat(p[_0x1dda("0xe5")].brothers),u(p)}})),a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0x980")](),a[_0x1dda("0xf7")][_0x1dda("0x42")].fire(_0x1dda("0xcc3"),p[_0x1dda("0xe5")]),2==_[_0x1dda("0x1e3")]&&_.options[_0x1dda("0x908")]&&_[_0x1dda("0x35")][_0x1dda("0x52c")]<1&&_[_0x1dda("0x52b")]!=n&&esmap[_0x1dda("0x86")][_0x1dda("0x626")](n,_[_0x1dda("0x35")][_0x1dda("0x52c")]),r[o]=[]}();if(h===_0x1dda("0x63c"))continue;if((typeof h===_0x1dda("0x8")?_0x1dda("0x8"):(0,t[_0x1dda("0xd")])(h))===_0x1dda("0x1b"))return h.v}}}}var g=!0;for(var b in i){var v=i[b];for(var p in v){if(!g)break;if(v[p][_0x1dda("0x0")]>0&&g){g=!1;break}}}g&&(a[_0x1dda("0xcab")][d]=null)}}},{key:_0x1dda("0xcc4"),value:function(d,x){var a=this,_=a[_0x1dda("0xcaa")][x];if(_){var e=a[_0x1dda("0xf7")][_0x1dda("0x42")].id;for(var t in _){var i=_[t],n=!1;if(a[_0x1dda("0x24b")][t]&&i[_0x1dda("0x0")]>0){i[0][_0x1dda("0xcbf")]&&(n=!0),!n&&t[_0x1dda("0xaf")]("__singlemesh")<0&&(a[_0x1dda("0xca9")]+=i.length);for(var r=(new(THREE[_0x1dda("0x2c8")])).setFromObject(a[_0x1dda("0x24b")][t].gltfObj[_0x1dda("0xf7")]),s=i[0].parent,o=i[0].url,c=null,l={},f=r[_0x1dda("0x2be")].y-r.min.y,u=[],h=0;h<i[_0x1dda("0x0")];h++){var g=f*i[h][_0x1dda("0x1d7")].y,b=g+i[h][_0x1dda("0xfa")].y-g/2;i[h][_0x1dda("0x2cf")]=1*b.toFixed(2);var v=i[h];v[_0x1dda("0x106")]=esmap[_0x1dda("0x126")][_0x1dda("0x1b5")],v.ID=v.id;var p=a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x1db")](v[_0x1dda("0xfa")]);v[_0x1dda("0x1e7")]=p,v.mapId&&(c=v.mapId,l=p),u.push(v.id)}if(0!=a[_0x1dda("0x24b")][t][_0x1dda("0xcc0")].animations[_0x1dda("0x0")]){for(var m=0;m<i[_0x1dda("0x0")];m++)a.addMapModel(i[m],!0);a[_0x1dda("0xcaa")][x][t]=[];continue}var A=a[_0x1dda("0x636")].merge(a.modelStore[t][_0x1dda("0xcc0")],i);if(!A){for(var C=0;C<i[_0x1dda("0x0")];C++)i[C][_0x1dda("0x101")]=!1,1,a[_0x1dda("0xcb6")](i[C]);return void(a[_0x1dda("0xcaa")][x][t]=[])}A[_0x1dda("0xfc")]=_0x1dda("0xfd"),A[_0x1dda("0x153")].merged=!0,A[_0x1dda("0xe5")]={isWall:n,model:t,bid:e,tileId:a.building.id,bType:1,FloorNum:x,nodeType:esmap[_0x1dda("0x126")][_0x1dda("0x1b5")],brothers:i,animations:[],o3d_:A,url:o,mapCoord:l},c&&(A[_0x1dda("0xe5")][_0x1dda("0x41")]=c,this[_0x1dda("0xf7")][_0x1dda("0x42")].tileService.targetAndBuildingList[c]=A[_0x1dda("0xe5")]),A.renderOrder=esmap[_0x1dda("0x161")].model3D,i[0][_0x1dda("0x3ee")]&&(2==d[_0x1dda("0x1e3")]?(!a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xcc1")]&&a.scene[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3ae")](A,d.id),d[_0x1dda("0xcc2")][x][_0x1dda("0x1d5")]-=i.length):a.scene[_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](A,d.id)),s.add(A),this[_0x1dda("0x397")][_0x1dda("0xd4")](u);var I=(new THREE.Box3).setFromObject(A),y={};[I[_0x1dda("0x2be")].x-I.min.x,I.max.z-I.min.z,I[_0x1dda("0x2be")].y-I.min.y][_0x1dda("0x3ef")](),y[_0x1dda("0x2bd")]=I,A[_0x1dda("0x153")][_0x1dda("0x2bc")]=y,a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x394")]-=i[_0x1dda("0x0")],a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0x980")](),a.mergeQueue[x][t]=[],a[_0x1dda("0xf7")][_0x1dda("0x42")].fire(_0x1dda("0xcc3"),A.datas_),2==d[_0x1dda("0x1e3")]&&d.options[_0x1dda("0x908")]&&d.options[_0x1dda("0x52c")]<1&&d[_0x1dda("0x52b")]!=x&&esmap[_0x1dda("0x86")][_0x1dda("0x626")](x,d[_0x1dda("0x35")].focusAlpha)}}}}},{key:_0x1dda("0xcc5"),value:function(){var d=this,x=this;return new(e[_0x1dda("0xd")])((function(a){for(var _=0,e=0;e<x[_0x1dda("0xca5")][_0x1dda("0x0")];e++){var t=x[_0x1dda("0xca5")][e];if(_>=d[_0x1dda("0xca8")])break;x.modelStore[t[_0x1dda("0x1ba")]]?(x[_0x1dda("0xca5")][_0x1dda("0x6")](e,1),e--,x[_0x1dda("0xcc6")](t),_++):x[_0x1dda("0x2b1")][t[_0x1dda("0x1ba")]]||(x.loadingList[t[_0x1dda("0x1ba")]]=!0,x[_0x1dda("0x2b2")](t.model,t[_0x1dda("0x4a")]))}a()}))}},{key:"invisibleMergeModels",value:function(){var d=this;if(d[_0x1dda("0x350")]&&d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22d")]&&!this[_0x1dda("0x297")]&&d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x34e")]){for(var x=d[_0x1dda("0xf7")].map.scaleLevel,a=d[_0x1dda("0x52")],_=0;_<a[_0x1dda("0x0")];_++){var e=d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x61b")](a[_]);if(!e)return;var t=e[_0x1dda("0x3bc")]("marker3d")[0];if(!t)return;var i=t[_0x1dda("0x180")][_0x1dda("0xe6")];this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x94b")]?this.scene[_0x1dda("0x42")][_0x1dda("0x60a")].target.distanceTo(this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0xfa")]):this[_0x1dda("0xf7")].map[_0x1dda("0x226")][_0x1dda("0x227")].distanceTo(this[_0x1dda("0xf7")][_0x1dda("0x42")].currentCamera[_0x1dda("0xfa")]);for(var n=0;n<i[_0x1dda("0x0")];n++){for(var r=i[n],s=r.datas_[_0x1dda("0x424")],o=[],c=[],l=0;l<s[_0x1dda("0x0")];l++){var f=s[l],u=f[_0x1dda("0xfa")][_0x1dda("0x116")]();u.project(this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")]);var h=!1;(Math.abs(u.x)>=1.5||Math.abs(u.y)>=1.5)&&(h=!0);var g=d[_0x1dda("0x636")][_0x1dda("0x41a")](r,f.id);f[_0x1dda("0x1cd")]<x||h?g&&o[_0x1dda("0x10")](f.id):!g&&c.push(f.id)}d[_0x1dda("0x636")].setModelVisible(r,o,!1),d.GLTFMergeTool.setModelVisible(r,c,!0)}}this.viewRangeUpdated=!0}}},{key:_0x1dda("0xcc7"),value:function(){var d=this;if(!d[_0x1dda("0x350")]&&d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22d")]&&!this[_0x1dda("0x297")]){var x=new(THREE[_0x1dda("0x8c6")]);x[_0x1dda("0xb13")]((new THREE.Matrix4).multiplyMatrices(this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0x6f6")],this.scene.map[_0x1dda("0x22b")][_0x1dda("0x3ab")]));var a=d[_0x1dda("0x52")][_0x1dda("0x3b9")][_0x1dda("0x3bc")]("mapmodel3ds")[0];if(!a)return;var _=a[_0x1dda("0x180")][_0x1dda("0xe6")];this.scene[_0x1dda("0x42")][_0x1dda("0x94b")]?this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")].distanceTo(this[_0x1dda("0xf7")].map.currentCamera[_0x1dda("0xfa")]):this[_0x1dda("0xf7")][_0x1dda("0x42")].controls[_0x1dda("0x227")][_0x1dda("0x117")](this[_0x1dda("0xf7")][_0x1dda("0x42")].currentCamera[_0x1dda("0xfa")]);for(var e=0;e<_[_0x1dda("0x0")];e++){var t=_[e],i=(t.position,t.userData[_0x1dda("0x2bc")][_0x1dda("0xcc8")],t[_0x1dda("0x153")][_0x1dda("0x2bc")][_0x1dda("0x2bd")]);x.intersectsBox(i)||(d[_0x1dda("0x967")].push(t[_0x1dda("0x153")][_0x1dda("0x2bc")]),t[_0x1dda("0xe5")][_0x1dda("0xe8")](),e--)}this.viewRangeUpdated=!0}}},{key:_0x1dda("0xcc9"),value:function(d,x,a,_){var t=this;return new(e[_0x1dda("0xd")])((function(e){if(t.modelStore[a]&&x[_0x1dda("0x0")]>0){t[_0x1dda("0xca9")]+=x[_0x1dda("0x0")];var i=x[0].parent,n=x[0].url,r=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](t.modelStore[a][_0x1dda("0xcc0")][_0x1dda("0xf7")]),s=(r[_0x1dda("0x2be")].y-r[_0x1dda("0x2f6")].y)/2,o=0,c=0;if(0!=t.modelStore[a].gltfObj[_0x1dda("0x228")].length){for(var l=0;l<x[_0x1dda("0x0")];l++)x[l][_0x1dda("0x101")]=!1,1,t[_0x1dda("0xcca")](x[l]);return void(t[_0x1dda("0xcae")][_][a]=[])}for(var f=r[_0x1dda("0x2be")].y-r[_0x1dda("0x2f6")].y,h=!1,g=0;g<x[_0x1dda("0x0")];g++){x[g][_0x1dda("0x106")]=esmap[_0x1dda("0x126")].MODEL3D;var b=f*x[g][_0x1dda("0x1d7")].y+x[g].position.y-f/2;x[g][_0x1dda("0x2cf")]=1*b[_0x1dda("0x60b")](2),x[g][_0x1dda("0xfa")].y+=s*x[g].scale.y,0==g&&x[g][_0x1dda("0xcbf")]&&(h=!0),2==d[_0x1dda("0x1e3")]&&(o=d[_0x1dda("0xa17")][_0x1dda("0xbca")]-t[_0x1dda("0xf7")][_0x1dda("0x2a8")],c=d[_0x1dda("0xa17")][_0x1dda("0xc96")]-t.scene[_0x1dda("0x2a9")]);var v=x[g][_0x1dda("0xfa")];x[g][_0x1dda("0xfa")].x=v.x-o,x[g][_0x1dda("0xfa")].z=v.z-c}var p=t.GLTFMergeTool.merge(t[_0x1dda("0x24b")][a][_0x1dda("0xcc0")],x);if(!p){for(var m=0;m<x[_0x1dda("0x0")];m++)x[m][_0x1dda("0x101")]=!1,1,t[_0x1dda("0xcca")](x[m]);return void(t.userMergeQueue[_][a]=[])}p.name=_0x1dda("0xfd");var A=x[0][_0x1dda("0x123")];p[_0x1dda("0x153")][_0x1dda("0x9a7")]=!0;p[_0x1dda("0xe5")]={model:a,isWall:h,bid:t[_0x1dda("0xf7")][_0x1dda("0x42")].id,tileId:d.id,FloorNum:A,nodeType:esmap.ESNodeType[_0x1dda("0x1b5")],brothers:x,animations:[],url:n,bType:1,o3d_:p,dispose:function(d){(d=d||this)[_0x1dda("0x169")]=!1;var x=d[_0x1dda("0xfe")];return x?(x[_0x1dda("0x181")](d),u(d),!0):void 0}[_0x1dda("0x4e")](p)},p[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")],x[0][_0x1dda("0x3ee")]&&(2==d[_0x1dda("0x1e3")]?!t.scene[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xcc1")]&&t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x17d")].addObject(p,d.id):t[_0x1dda("0xf7")][_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](p,d.id)),i[_0x1dda("0xce")](p),t[_0x1dda("0xf7")].map[_0x1dda("0x7d")][_0x1dda("0x394")]-=x[_0x1dda("0x0")],t[_0x1dda("0xcae")][_][a]=[],t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0xda")]("modelLoadComplete",p.datas_),t.scene[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x908")]&&t[_0x1dda("0xf7")][_0x1dda("0x42")].options.focusAlpha<1&&t[_0x1dda("0xf7")][_0x1dda("0x42")].focusFloorNum!=A&&esmap[_0x1dda("0x86")][_0x1dda("0x626")](A,t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x52c")])}e()}))}},{key:"loadUserMergeModel",value:(f=(0,n[_0x1dda("0xd")])(i.default[_0x1dda("0x2b7")]((function d(x,a){var _,e,t,n,r;return i[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d[_0x1dda("0x24c")]){case 0:for(t in e=(_=this)[_0x1dda("0xcae")][a])e[t].length;d.t0=i.default.keys(e);case 5:if((d.t1=d.t0()).done){d[_0x1dda("0x24c")]=12;break}return n=d.t1[_0x1dda("0xd8")],r=e[n],d.next=10,_[_0x1dda("0xcc9")](x,r,n,a);case 10:d.next=5;break;case 12:case _0x1dda("0x267"):return d.stop()}}),d,this)}))),function(d,x){return f[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xcbb"),value:function(){return!1}},{key:_0x1dda("0xcb3"),value:function(){var d=this,x=this[_0x1dda("0xf7")][_0x1dda("0x42")].zoomLevel,a=function(a){if(!d[_0x1dda("0xcab")][a])return _0x1dda("0x63c");x>=a&&setTimeout((function(){d.startLoadModelsByShowLevel(a)}),0)};for(var _ in this[_0x1dda("0xcab")]){a(_);_0x1dda("0x63c")}}},{key:_0x1dda("0xccb"),value:function(){var d=this,x=this[_0x1dda("0x52")];if(this[_0x1dda("0x350")]&&d[_0x1dda("0xca9")]<d[_0x1dda("0x392")].roomModelsCount)for(var a in this[_0x1dda("0xcac")])this.mapModelLoadStatus[a]&&this[_0x1dda("0xcc4")](x,a);for(var _ in this[_0x1dda("0xcae")])this.userModelLoadStatus[_]&&this[_0x1dda("0xccc")](x,_);if(this[_0x1dda("0xca7")]&&d.requisitesQueue[_0x1dda("0x0")]>0&&d[_0x1dda("0x21c")](),this[_0x1dda("0xca7")]&&d.scene.map.enableCollide&&(d[_0x1dda("0x966")][_0x1dda("0x0")]>0||d.toAddQueue[_0x1dda("0x0")]>0)){if(!this.queueRanked){var e=d.scene[_0x1dda("0x42")][_0x1dda("0x94b")];if(this.lasViewCenter||(this[_0x1dda("0xcaf")]=e?this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")][_0x1dda("0x116")]():this[_0x1dda("0xf7")].map[_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")]()),d[_0x1dda("0x966")]=d.queue[_0x1dda("0x317")](d[_0x1dda("0x967")]),d[_0x1dda("0x967")]=[],d.scene[_0x1dda("0x42")].options[_0x1dda("0x34e")]){var t=new(THREE[_0x1dda("0x8c6")]);e?this.scene.map.firstPersonControls[_0x1dda("0x227")][_0x1dda("0x117")](this.scene[_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0xfa")]):this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x117")](this.scene.map[_0x1dda("0x22b")][_0x1dda("0xfa")]);var i=e?this.scene[_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")]:this[_0x1dda("0xf7")][_0x1dda("0x42")].controls[_0x1dda("0x227")];t[_0x1dda("0xb13")]((new(THREE[_0x1dda("0x207")])).multiplyMatrices(this[_0x1dda("0xf7")].map[_0x1dda("0x22b")][_0x1dda("0x6f6")],this.scene[_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0x3ab")]));for(var n=0;n<d[_0x1dda("0x966")].length;n++){if(d[_0x1dda("0x966")][n].modelrank=1/d.queue[n][_0x1dda("0xfa")][_0x1dda("0x117")](i),d[_0x1dda("0x966")][n][_0x1dda("0x2bd")]){if(!t[_0x1dda("0x8d8")](d.queue[n][_0x1dda("0x2bd")])){d[_0x1dda("0x967")].push(d[_0x1dda("0x966")][n]),d[_0x1dda("0x966")][_0x1dda("0x6")](n,1),n--;continue}d.queue[n][_0x1dda("0xccd")]=1/d[_0x1dda("0x966")][n][_0x1dda("0xfa")].distanceTo(i)}else if(!t[_0x1dda("0x8d7")](d[_0x1dda("0x966")][n][_0x1dda("0xfa")])){d[_0x1dda("0x967")][_0x1dda("0x10")](d[_0x1dda("0x966")][n]),d.queue[_0x1dda("0x6")](n,1),n--;continue}}for(var r=x[_0x1dda("0x3b9")][_0x1dda("0x3bc")]("mapmodel3ds")[0][_0x1dda("0x180")].children,s=[],o=0;o<r[_0x1dda("0x0")];o++){var c=r[o];if(!c.datas_.keepalive){c[_0x1dda("0x153")][_0x1dda("0x2bc")].sizeInfo,d.scene[_0x1dda("0x42")][_0x1dda("0xcce")];var l={modelrank:1/c.position[_0x1dda("0x117")](i),model:c,ind:o};s[_0x1dda("0x10")](l)}}var f=[];(f=[][_0x1dda("0x317")](s,d[_0x1dda("0x966")])).sort((function(d,x){return x.modelrank-d[_0x1dda("0xccd")]}));var u=[];if(f[_0x1dda("0x0")]>d[_0x1dda("0xcb1")]){u=f[_0x1dda("0x6")](d[_0x1dda("0xcb1")]);for(var h=0;h<u[_0x1dda("0x0")];h++)u[h][_0x1dda("0x2")](_0x1dda("0xccf"))?(d[_0x1dda("0x967")][_0x1dda("0x10")](u[h][_0x1dda("0x1ba")][_0x1dda("0x153")][_0x1dda("0x2bc")]),u[h].model[_0x1dda("0xe5")][_0x1dda("0xe8")](),u[h][_0x1dda("0x1ba")]=null):d.toAddQueue.push(u[h]),u.splice(h,1),h--}for(var g=0;g<f[_0x1dda("0x0")];g++)f[g][_0x1dda("0x2")](_0x1dda("0xccf"))&&(f[_0x1dda("0x6")](g,1),g--);d[_0x1dda("0x966")]=f}this[_0x1dda("0xcd0")](),this.queueRanked=!0,e?this[_0x1dda("0xcaf")]=this.scene.map.firstPersonControls[_0x1dda("0x227")][_0x1dda("0x116")]():this.lasViewCenter=this[_0x1dda("0xf7")].map[_0x1dda("0x226")][_0x1dda("0x227")].clone()}d[_0x1dda("0x21c")](x)}}},{key:_0x1dda("0xcba"),value:function(d){for(var x=this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x94b")]?this.scene[_0x1dda("0x42")].firstPersonControls[_0x1dda("0x227")]:this[_0x1dda("0xf7")].map[_0x1dda("0x226")][_0x1dda("0x227")],a=this[_0x1dda("0x966")][_0x1dda("0x0")],_=d.position[_0x1dda("0x117")](x),e=0;e<a;e++){if(this[_0x1dda("0x966")][e][_0x1dda("0xfa")].distanceTo(x)>=_)return void this[_0x1dda("0x966")].splice(e,0,d)}this[_0x1dda("0x967")][_0x1dda("0x10")](d),this[_0x1dda("0xf7")][_0x1dda("0x42")].enableCollide=!0}},{key:_0x1dda("0xcd0"),value:function(){var d=this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x94b")]?this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")]:this[_0x1dda("0xf7")].map[_0x1dda("0x226")][_0x1dda("0x227")];this.queue.length;this[_0x1dda("0x966")][_0x1dda("0x3ef")]((function(x,a){return x[_0x1dda("0xfa")].distanceTo(d)-a[_0x1dda("0xfa")][_0x1dda("0x117")](d)})),this.queue}},{key:_0x1dda("0xcd1"),value:function(){var d=this,x=this;return new(e[_0x1dda("0xd")])((function(a){for(var _=0,e=0;e<x[_0x1dda("0x966")][_0x1dda("0x0")];e++){var t=x[_0x1dda("0x966")][e];if(_>=d.concurrencyLimit)break;x[_0x1dda("0x24b")][t[_0x1dda("0x1ba")]]?(x[_0x1dda("0x966")][_0x1dda("0x6")](e,1),e--,x[_0x1dda("0xcc6")](t),_++):x.loadingList[t[_0x1dda("0x1ba")]]||(x[_0x1dda("0x2b1")][t[_0x1dda("0x1ba")]]=!0,x[_0x1dda("0x2b2")](t[_0x1dda("0x1ba")],t[_0x1dda("0x4a")]))}a()}))}},{key:"loadExist",value:function(d){var x,a=this,_=this.building,e=d[_0x1dda("0x1ba")],t=a.modelStore[e].gltfObj.scene,i=a[_0x1dda("0x24b")][e][_0x1dda("0xcd2")],n=(i[_0x1dda("0x0")],!1);t[_0x1dda("0xe6")].forEach((function(d){(d instanceof THREE[_0x1dda("0x857")]||d instanceof THREE[_0x1dda("0x890")])&&(n=!0)})),x=n?THREE[_0x1dda("0xcd3")][_0x1dda("0x116")](t):t[_0x1dda("0x116")](),a.apply(x,d,i,_)}},{key:_0x1dda("0x5"),value:function(d,x,a){var t=this,i=this,n=this[_0x1dda("0x52")],r=n[_0x1dda("0x42")].id;return new e.default((function(e){a=a||[];var s=i[_0x1dda("0xf7")].map[_0x1dda("0x17d")],c=(x[_0x1dda("0x123")],null),l=null,f={},u=null,h=!1;d[_0x1dda("0xf8")]((function(d){if(d&&d.name)if(d[_0x1dda("0xfc")][_0x1dda("0xaf")]("_ef_$floor")>-1){s.hoverList[_0x1dda("0x10")](d);var x=d[_0x1dda("0xfc")][_0x1dda("0x2a")]("-"),a=x[x[_0x1dda("0x0")]-1];f[a]||(f[a]={floorObj:null,floorLabel:null,lineGroup:null}),f[a][_0x1dda("0xcd4")]=d,d[_0x1dda("0x153")].floornum=a}else if(d[_0x1dda("0xfc")][_0x1dda("0xaf")]("__ignore_box")>-1)c=d,l=d[_0x1dda("0xfe")];else if(d[_0x1dda("0xfc")].indexOf("_ef_$fl-id-")>-1){var _=d[_0x1dda("0xfc")][_0x1dda("0x2a")]("-"),e=_[_[_0x1dda("0x0")]-1];f[e]||(f[e]={floorObj:null,floorLabel:null,lineGroup:null}),f[e][_0x1dda("0xcd5")]=d}else d[_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0xcd6"))>-1&&(u=d)})),u&&(h=!0),c&&l[_0x1dda("0x181")](c);var g=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](d);g[_0x1dda("0x2af")](d.position),d[_0x1dda("0xfa")][_0x1dda("0x218")](-1),c&&l[_0x1dda("0xce")](c);var b,v,p=g[_0x1dda("0x2be")].y-g[_0x1dda("0x2f6")].y;g.max.x,g[_0x1dda("0x2f6")].x;b=p<1?15:20,b*=x.scale.y;var m=x[_0x1dda("0x1d0")]||!1;if(x.marker){0;var A=x[_0x1dda("0x4a")][_0x1dda("0x7a")]("/"),C=x[_0x1dda("0x4a")];A>-1&&(C=x.url[_0x1dda("0x11")](A+1)),v=x[_0x1dda("0xcd7")],x.marker.addTo=x[_0x1dda("0xfe")],x[_0x1dda("0xcd7")].callbackparams=x[_0x1dda("0xcd8")],x[_0x1dda("0xcd7")][_0x1dda("0x1ce")]=d,x[_0x1dda("0xcd7")][_0x1dda("0x1ba")]=C,x[_0x1dda("0xcd7")][_0x1dda("0x228")]=a,x[_0x1dda("0xcd7")][_0x1dda("0x1d0")]=m,x[_0x1dda("0xcd7")][_0x1dda("0x32")](),x[_0x1dda("0xcd7")].on(_0x1dda("0x1ef"),(function(){0})),x[_0x1dda("0xcbf")]&&(x.marker[_0x1dda("0x3f1")]=!0)}else{var I=x[_0x1dda("0xfa")];for(var y in x[_0x1dda("0xfa")].x=I.x-0,x[_0x1dda("0xfa")].y=I.y,x[_0x1dda("0xfa")].z=I.z-0,(v=new o.default({diableClickEffect:h,name:x[_0x1dda("0xfc")],fnum:x[_0x1dda("0x123")],ID:x.id,url:x.url,gid:x[_0x1dda("0xb18")],mapId:x[_0x1dda("0x41")],bid:r,dataID:x.dataID,bType:1,model:x[_0x1dda("0x1ba")],callback:x[_0x1dda("0x195")],top:x[_0x1dda("0x323")],rotation:x[_0x1dda("0x3d9")],position:x[_0x1dda("0xfa")],scale:x[_0x1dda("0x1d7")],scaleRate:b,child:d,addTo:x.parent,isChildNode:m,animations:a}))[_0x1dda("0x3a6")]=x[_0x1dda("0x3a6")],x[_0x1dda("0xcbf")]&&(v[_0x1dda("0x3f1")]=!0),f){var E=f[y];E[_0x1dda("0xcd4")][_0x1dda("0x153")].label=E.floorLabel,u&&(u.visible=!1,E[_0x1dda("0xcd4")][_0x1dda("0x153")][_0x1dda("0xb0e")]=u),E[_0x1dda("0xcd4")][_0x1dda("0x153")][_0x1dda("0x1ba")]=v;var w=E[_0x1dda("0xcd4")][_0x1dda("0xe6")];for(var T in w)w[T][_0x1dda("0x153")].label=E[_0x1dda("0xcd5")],u&&(w[T][_0x1dda("0x153")].lineGroup=u),w[T][_0x1dda("0x153")].model=v,w[T][_0x1dda("0x153")].floornum=y,w[T][_0x1dda("0x153")].traverseTarget=E[_0x1dda("0xcd4")]}v[_0x1dda("0x32")](),t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")].modelLoadCount--,x[_0x1dda("0x1ba")][_0x1dda("0x61")](_0x1dda("0xcd9"))&&(v._lodName=x[_0x1dda("0x1ba")][_0x1dda("0x13f")](_0x1dda("0xcd9"),""),v[_0x1dda("0x2ab")]()),v.ID!=_0x1dda("0xcda")&&t[_0x1dda("0x397")].pop(v.ID)}x[_0x1dda("0xcdb")]&&x.brief.MA&&(0,_[_0x1dda("0xd")])(x.brief.MA)[_0x1dda("0xd1")]((function(d){var x=d.n,_=d.t,e=d.dt,t=d.l;a.find((function(d){return d==x}))?v[_0x1dda("0x229")]({name:x,time:_,delay:e,loop:t}):console[_0x1dda("0x1eb")](_0x1dda("0xcdc")+x+_0x1dda("0xcdd"))}));var k=v[_0x1dda("0x180")],S=(new(THREE[_0x1dda("0x2c8")])).setFromObject(k),M=[S[_0x1dda("0x2be")].x-S[_0x1dda("0x2f6")].x,S[_0x1dda("0x2be")].z-S[_0x1dda("0x2f6")].z,S.max.y-S[_0x1dda("0x2f6")].y];M[_0x1dda("0x3ef")](),x[_0x1dda("0xcc8")]=M[1]*M[2],x.box3=S,k.userData[_0x1dda("0x2bc")]=x,k[_0x1dda("0x153")][_0x1dda("0x2bd")]=S,2==n[_0x1dda("0x1e3")]?i[_0x1dda("0x232")](n,k):t[_0x1dda("0xcde")](k),x.id!=_0x1dda("0xcdf")&&(x.bclick||i.scene.map[_0x1dda("0x35")][_0x1dda("0x1cc")])&&(2==n[_0x1dda("0x1e3")]?x[_0x1dda("0xcd7")]?s[_0x1dda("0x3ae")](k,n.id):i[_0x1dda("0xf7")].map[_0x1dda("0x35")][_0x1dda("0xcc1")]||s[_0x1dda("0x3ae")](k,n.id):s[_0x1dda("0x3ae")](k,n.id)),v[_0x1dda("0x41")]&&(t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x9be")][v[_0x1dda("0x41")]]=v),t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x279")].checkToLoadedBuildings(),t[_0x1dda("0xf7")].map[_0x1dda("0xda")]("modelLoadComplete",v),e()}))}},{key:"preFetchModel3D",value:function(d,x,a){var _=this,e=this[_0x1dda("0x52")],t=esmap[_0x1dda("0x33")][_0x1dda("0x34")],i=t[_0x1dda("0x132")][_0x1dda("0xce0")];t[_0x1dda("0x35")][_0x1dda("0x1cc")];var n=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")];t[_0x1dda("0x7d")][_0x1dda("0xbd8")][d]=!0;var r=t.id;this[_0x1dda("0x38d")][_0x1dda("0x64d")](x,(function(x){t[_0x1dda("0x7d")][_0x1dda("0xbd8")][d]=!1,_[_0x1dda("0xcb7")]--,_[_0x1dda("0x392")].modelTypesCount++,_[_0x1dda("0x2b1")][d]=!1;var e=new(THREE[_0x1dda("0x251")])(x[_0x1dda("0xf7")]);e[_0x1dda("0x262")]=!1;var r=[];x[_0x1dda("0x228")][_0x1dda("0xd1")]((function(d){r[_0x1dda("0x10")](d[_0x1dda("0xfc")][_0x1dda("0x254")]())})),x[_0x1dda("0xf7")][_0x1dda("0xf8")]((function(d){d[_0x1dda("0x160")]=n,d[_0x1dda("0xe9")]&&d[_0x1dda("0xe9")].isMaterial&&(d[_0x1dda("0xe9")].name[_0x1dda("0xaf")](_0x1dda("0xce1"))>-1&&(d[_0x1dda("0xe9")]=new(THREE[_0x1dda("0x2b5")])({color:d[_0x1dda("0xe9")][_0x1dda("0x138")],map:d.material[_0x1dda("0x42")],transparent:d[_0x1dda("0xe9")][_0x1dda("0x136")],opacity:d[_0x1dda("0xe9")][_0x1dda("0x11d")],side:d[_0x1dda("0xe9")][_0x1dda("0x149")]})),d[_0x1dda("0xe9")][_0x1dda("0x845")]||(d[_0x1dda("0xe9")][_0x1dda("0x845")]=.9),d[_0x1dda("0xe9")][_0x1dda("0x42")]&&(d[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0xfc")][_0x1dda("0xaf")]("jpg")>-1&&(d[_0x1dda("0xe9")][_0x1dda("0x136")]=!1),i||(d[_0x1dda("0xe9")].map[_0x1dda("0x851")]=THREE[_0x1dda("0xce2")])),!x.scene[_0x1dda("0x153")][_0x1dda("0xce3")]&&d.material.name[_0x1dda("0xaf")](_0x1dda("0x2bb"))>=0&&(x.scene.userData[_0x1dda("0xce3")]=!0))}));var s=null;x.parser&&x[_0x1dda("0xf3")][_0x1dda("0xf4")]&&x[_0x1dda("0xf3")].json.ms&&(s=x.parser[_0x1dda("0xf4")].ms),_[_0x1dda("0x24b")][d]={mixer:e,gltfObj:x,queue:[],animations:x[_0x1dda("0x228")],animNames:r,ms:s},a&&a(x),t[_0x1dda("0xda")](_0x1dda("0xcb4"),{name:d,gltfObj:x}),_[_0x1dda("0x968")]=!1}),(function(){}),(function(a){var i=l[_0x1dda("0xd")][_0x1dda("0xd6")](e.id);_[_0x1dda("0xcb7")]--;var n=_[_0x1dda("0xcaa")];for(var r in n){var s=n[r];for(var o in s)if(o==d){var c=s[o][_0x1dda("0x42")]((function(d){return d.id}));s[o]=[],i[_0x1dda("0xd4")](c)}}for(var f=_.queue,u=0;u<f.length;u++){var h=f[u];if(h.model==d){var g=h.id;f[_0x1dda("0x6")](u,1),g!==_0x1dda("0xcda")&&i.pop(g),u--}}for(var b=_[_0x1dda("0x967")],v=0;v<b[_0x1dda("0x0")];v++){var p=b[v];if(p[_0x1dda("0x1ba")]==d){var m=p.id;b[_0x1dda("0x6")](v,1),m!==_0x1dda("0xcda")&&i[_0x1dda("0xd5")](m),v--}}for(var A=_[_0x1dda("0x967")],C=0;C<A[_0x1dda("0x0")];C++){var I=A[C];if(I.model==d){var y=I.id;A.splice(C,1),"wallModelPrefetch"!==y&&i[_0x1dda("0xd5")](y),C--}}var E=_0x1dda("0xce4")+x;console[_0x1dda("0x1eb")](E,a&&a[_0x1dda("0x2e")]&&a[_0x1dda("0x2e")]()),"buffererror"===a&&t[_0x1dda("0x35")][_0x1dda("0x1cc")]&&t[_0x1dda("0x7d")].getState("sk")&&t[_0x1dda("0x7d")][_0x1dda("0x825")][_0x1dda("0x6b9")]&&(t.mapService[_0x1dda("0x825")][_0x1dda("0x6b9")]=!1,t[_0x1dda("0x7d")][_0x1dda("0x825")].clearOutDated([t.id]))}),r)}},{key:_0x1dda("0xce5"),value:function(d){var x=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")];d.name[_0x1dda("0xaf")](_0x1dda("0x2bb"))>=0&&(d[_0x1dda("0x15d")]=!1),obj[_0x1dda("0x160")]=x,d[_0x1dda("0x172")]=!0}},{key:_0x1dda("0xcde"),value:(a=(0,n.default)(i.default[_0x1dda("0x2b7")]((function d(x){var a;return i[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:a=esmap.ESRenderOrder[_0x1dda("0x1d5")],x[_0x1dda("0xf8")]((function(d){if(d[_0x1dda("0xe9")]){if(d[_0x1dda("0xe9")]instanceof Array)for(var x=0;x<d[_0x1dda("0xe9")].length;x++){var _=d[_0x1dda("0xe9")][x];_.name[_0x1dda("0xaf")]("depth")>=0&&(_[_0x1dda("0x15d")]=!1,_[_0x1dda("0x172")]=!0)}else d[_0x1dda("0xe9")][_0x1dda("0xfc")][_0x1dda("0xaf")]("depth")>=0&&(d[_0x1dda("0xe9")][_0x1dda("0x15d")]=!1,d.material[_0x1dda("0x172")]=!0);d[_0x1dda("0x160")]=a}}));case 2:case _0x1dda("0x267"):return d.stop()}}),d,this)}))),function(d){return a[_0x1dda("0x5")](this,arguments)})},{key:"setAlpha",value:(x=(0,n[_0x1dda("0xd")])(i.default.mark((function d(x,a){var _,e,t;return i[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d[_0x1dda("0x24c")]){case 0:_=a.datas_[_0x1dda("0x1de")],e=x[_0x1dda("0x629")][_],t=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")],e&&e[_0x1dda("0x169")]&&(x[_0x1dda("0x35")][_0x1dda("0x52c")],a[_0x1dda("0xf8")]((function(d){if(d.material){if(d.material instanceof Array)for(var x=0;x<d[_0x1dda("0xe9")][_0x1dda("0x0")];x++){var a=d.material[x];a.name[_0x1dda("0xaf")]("depth")>=0&&(a.depthWrite=!1,a[_0x1dda("0x172")]=!0)}else d.material[_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x2bb"))>=0&&(d.material[_0x1dda("0x15d")]=!1,d.material[_0x1dda("0x172")]=!0);d[_0x1dda("0x160")]=t}})));case 6:case"end":return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d,a){return x[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x397"),get:function(){return this.building[_0x1dda("0x397")]}},{key:"modelStore",get:function(){return this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x24b")]}}]),d}();x[_0x1dda("0xd")]=h},,,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=c(a(7)),e=c(a(8)),t=c(a(0)),i=c(a(1)),n=a(149),r=a(31),s=c(a(23)),o=c(a(150));function c(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var l=null,f=function(){function d(x){var a=this;(0,t[_0x1dda("0xd")])(this,d),this.scene=x[_0x1dda("0x42")][_0x1dda("0xb3")],this[_0x1dda("0x4c")]=x,this[_0x1dda("0x960")]={},this[_0x1dda("0xce6")]={},this[_0x1dda("0x963")]={},this.toHandle={},this[_0x1dda("0xce7")]={},this.modelManagerStarted={},this[_0x1dda("0x385")]=0,this[_0x1dda("0xce8")]={},this[_0x1dda("0xce9")]=new(o[_0x1dda("0xd")])(this),this[_0x1dda("0xf7")][_0x1dda("0x42")].on("update",(function(){a[_0x1dda("0xce9")][_0x1dda("0x539")]()}))}return(0,i[_0x1dda("0xd")])(d,[{key:"appendAttribute",value:function(d,x){var a=x[_0x1dda("0x400")][_0x1dda("0x0")],_=d.length,e=new Float32Array(a+_);e.set(x[_0x1dda("0x400")]),e[_0x1dda("0xcd")](d,a),x[_0x1dda("0x400")]=e,x.count+=_/x[_0x1dda("0x80b")],x.needsUpdate=!0}},{key:_0x1dda("0xcea"),value:function(d){var x=d[_0x1dda("0xceb")],a=d[_0x1dda("0x3a6")],_=d[_0x1dda("0xcec")],e=d[_0x1dda("0xced")],t=this[_0x1dda("0xf7")],i=this[_0x1dda("0x4c")][_0x1dda("0x397")];if(x&&0!=x[_0x1dda("0x424")][_0x1dda("0x0")]){var n=t[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xcee")][_0x1dda("0xcef")],s=[];x[_0x1dda("0xcf0")].forEach((function(d){s[_0x1dda("0x10")](d[_0x1dda("0xe7")])}));for(var o=r[_0x1dda("0x3ff")][_0x1dda("0x514")](s,!0),c=o[_0x1dda("0x40c")],l=0;l<c[_0x1dda("0x0")];l++)c[l].materialIndex=0;o[_0x1dda("0x40d")](),o[_0x1dda("0x16c")](0,o.index[_0x1dda("0xfb")],0);var f=new(THREE[_0x1dda("0x182")]);f[_0x1dda("0xe7")]=o,f.name=_0x1dda("0x11b"),f[_0x1dda("0xe9")]=t[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xcee")][_0x1dda("0xcef")],f.userData[_0x1dda("0xcf1")]=n.length-1,f[_0x1dda("0x3d9")][_0x1dda("0xcd")](Math.PI/2,0,0,_0x1dda("0x3cb")),f[_0x1dda("0x153")][_0x1dda("0x40c")]=c;for(var u=[],h=0;h<x[_0x1dda("0x424")].length;h++){var g=x[_0x1dda("0x424")][h];u[_0x1dda("0x10")](g.ID),x[_0x1dda("0x424")][h][_0x1dda("0x180")]=f,g[_0x1dda("0xcf2")]>=3&&(this[_0x1dda("0xce7")][g.ID]=f,g.sideRange=[0,0]);var b=t.map[_0x1dda("0x198")]({from:t[_0x1dda("0x42")][_0x1dda("0x199")],to:t[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x19b")],coord:g[_0x1dda("0x1e7")]});g[_0x1dda("0x3a8")]=1,g[_0x1dda("0x1e7")]=b,g.x=b.x,g.y=b.y}f.datas_={bid:a,brothers:x[_0x1dda("0x424")],o3d_:f,nodeType:esmap.ESNodeType[_0x1dda("0x625")],bType:1},f[_0x1dda("0xa99")]=!1,f[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0x1ba")],_[_0x1dda("0x180")].add(f),i[_0x1dda("0xd4")](u),e&&t[_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](f,a)}}},{key:"loadTiles",value:function(d){var x,a=this.tile,_=this.scene,e=d[_0x1dda("0xcf3")],t=a.id+e,i=null,r=a.id,s=a[_0x1dda("0x180")],o=a[_0x1dda("0x397")],c=this[_0x1dda("0xf7")][_0x1dda("0x42")].id,l=this.scene[_0x1dda("0x42")].options.editMode,f=this.scene[_0x1dda("0x42")][_0x1dda("0x132")].modelLines,u=null,h=d[_0x1dda("0x2ad")],g={points:d.pointGeometrys,types:{}},b=d[_0x1dda("0xcf3")]||_[_0x1dda("0x42")][_0x1dda("0x35")].editMode&&_.map[_0x1dda("0x35")][_0x1dda("0x36a")];if(this[_0x1dda("0x95f")][r]||((x=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")]))[_0x1dda("0xfc")]=_0x1dda("0x9a2"),s.add(x.o3d_),a.modelLayer=x,this[_0x1dda("0x95f")][r]={0:{model3data:[],geometries:{},meshes:{},rmodellayer:x},1:{model3data:[],geometries:{},meshes:{},rmodellayer:x}}),x=a.modelLayer,this[_0x1dda("0x95f")][r][e][_0x1dda("0xcf4")]=this[_0x1dda("0x95f")][r][e][_0x1dda("0xcf4")][_0x1dda("0x317")](d.model3DData),e)if(this[_0x1dda("0x960")][r])i=this.modelLayers[r];else{var v=new esmap.ESLayer(esmap[_0x1dda("0x39a")][_0x1dda("0x625")],{});s.add(v[_0x1dda("0x180")]),this.modelLayers[r]=v,i=v}else if(this.baseLayers[r])i=this.baseLayers[r];else{var p=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x9a5")],{});s[_0x1dda("0xce")](p.o3d_),this.baseLayers[r]=p,i=p}var m=0;for(var A in d[_0x1dda("0x63f")]){var C=d[_0x1dda("0x63f")][A],I=C[_0x1dda("0x424")],y=d.groups[A],E=[],w=[],T=[];if(f&&I[0]){var k=I[0][_0x1dda("0xcf5")],S={},M=_[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xcf6")][k];M||(M=_[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xcf6")][0]);var R={bordercolor:M[_0x1dda("0xcf7")]||_0x1dda("0xcf8"),borderwidth:M[_0x1dda("0xcf9")]||0};R[_0x1dda("0xcf9")]&&(S.styleid=k,S[_0x1dda("0xcfa")]=R,S.id=k,S.groupIndex=C[_0x1dda("0xcfb")],g.types[k]=S,this[_0x1dda("0xcfc")](g,!0,a))}C[_0x1dda("0x8d2")]&&this[_0x1dda("0xcea")]({planeData:C[_0x1dda("0x8d2")],roomLayer:i,tileId:r,isPickable:b});var L=0;this[_0x1dda("0x95f")][r][e][_0x1dda("0x3d6")][A]&&(L=this[_0x1dda("0x95f")][r][e][_0x1dda("0x3d6")][A][_0x1dda("0x153")][_0x1dda("0xcfd")]);for(var D=[],H=0;H<I[_0x1dda("0x0")];H++){var P=I[H],O=_.map[_0x1dda("0x7d")][_0x1dda("0x279")].getBuildingColorStaged({ID:P.ID,name:P.name});O&&D[_0x1dda("0x10")]({start:P[_0x1dda("0xff")][0],end:P[_0x1dda("0xff")][1],data:O});var B=y[P.ID],F=[B[1].start,B[1][_0x1dda("0x21c")]+B[1][_0x1dda("0xfb")]];0!=L&&(P[_0x1dda("0xff")][0]+=L,P.faceRange[1]+=L,F[0]+=L,F[1]+=L);var N=_[_0x1dda("0x42")].transformCoord({from:_[_0x1dda("0x42")][_0x1dda("0x199")],to:_.map.options.userCrs,coord:P[_0x1dda("0x1e7")]});_[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xcfe")][_0x1dda("0xaf")](P[_0x1dda("0xcf5")])<0&&_.map.mapTheme[_0x1dda("0xcfe")][_0x1dda("0x10")](P[_0x1dda("0xcf5")]);var z={ID:P.ID,dataID:P[_0x1dda("0x1e2")],gid:P[_0x1dda("0xb18")],RoomElevation:P[_0x1dda("0xcff")],RoomHigh:P[_0x1dda("0x623")],RoomStyle:P[_0x1dda("0xcf5")],buildingFnums:P[_0x1dda("0xd00")],faceRange:P[_0x1dda("0xff")],sideRange:F,nodeType:5,top:P[_0x1dda("0x323")],bclick:P[_0x1dda("0x3ee")],bid:c,tileId:r,mapId:P[_0x1dda("0x41")]||null,bType:1,parentType:1,name:P[_0x1dda("0xfc")],typeID:P[_0x1dda("0x4d5")],size:P[_0x1dda("0xd2")],mapCoord:N};E.push(z),T[_0x1dda("0x10")](P.ID),l&&(E[E.length-1][_0x1dda("0x121")]=P[_0x1dda("0x121")]),w[_0x1dda("0x10")]({ID:P.ID,range:P.faceRange,sideRange:F,split:B[1][_0x1dda("0x21c")]+L})}for(var j=d.vertices[_0x1dda("0x504")](3*m,3*(m+C[_0x1dda("0xd01")])),U=d[_0x1dda("0xd02")][_0x1dda("0x504")](3*m,3*(C[_0x1dda("0xd01")]+m)),X=d.isHideFlags.subarray(m,C.groupIndex+m),Y=d[_0x1dda("0x9e3")].subarray(m,C[_0x1dda("0xd01")]+m),G=d.topFaceFlags[_0x1dda("0x504")](1*m,1*(m+C[_0x1dda("0xd01")])),Q=d[_0x1dda("0x9ab")].subarray(1*m,1*(m+C[_0x1dda("0xd01")])),V=d[_0x1dda("0xd03")][_0x1dda("0x504")](1*m,1*(m+C[_0x1dda("0xd01")])),W=d.buildingsRandomFactor[_0x1dda("0x504")](1*m,1*(m+C.groupIndex)),Z=d[_0x1dda("0xd04")][_0x1dda("0x504")](4*m,4*(m+C[_0x1dda("0xd01")])),J=d[_0x1dda("0xd05")][_0x1dda("0x504")](4*m,4*(m+C[_0x1dda("0xd01")])),K=d[_0x1dda("0xd06")][_0x1dda("0x504")](m,1*(m+C[_0x1dda("0xd01")])),q=d[_0x1dda("0xd07")][_0x1dda("0x504")](m,1*(m+C[_0x1dda("0xd01")])),$=d[_0x1dda("0xd08")][_0x1dda("0x504")](2*m,2*(C[_0x1dda("0xd01")]+m)),dd=d[_0x1dda("0xd09")].subarray(2*m,2*(C[_0x1dda("0xd01")]+m)),xd=d.rUvs[_0x1dda("0x504")](2*m,2*(C.groupIndex+m)),ad=0;ad<D[_0x1dda("0x0")];ad++){for(var _d=D[ad],ed=_d[_0x1dda("0x21c")];ed<_d[_0x1dda("0x267")];ed++)Q[ed]=1;for(var td=4*_d.start;td<4*_d[_0x1dda("0x267")];td+=4)J[td]=_d[_0x1dda("0x442")][0],J[td+1]=_d[_0x1dda("0x442")][1],J[td+2]=_d[_0x1dda("0x442")][2],J[td+3]=_d[_0x1dda("0x442")][3]}var id=null;if(this[_0x1dda("0x95f")][r][e][_0x1dda("0x3d6")][A]){id=this.toHandle[r][e][_0x1dda("0x3d6")][A];this[_0x1dda("0x95f")][r][e].meshes[A];this[_0x1dda("0xd0e")](j,id[_0x1dda("0x3fb")](_0x1dda("0xfa"))),this[_0x1dda("0xd0e")](U,id[_0x1dda("0x3fb")](_0x1dda("0x3fd"))),this.appendAttribute(dd,id[_0x1dda("0x3fb")]("uv")),this[_0x1dda("0xd0e")](xd,id.getAttribute(_0x1dda("0xd0f"))),this[_0x1dda("0xd0e")]($,id[_0x1dda("0x3fb")](_0x1dda("0x4f9"))),this.appendAttribute(G,id.getAttribute(_0x1dda("0xd0b"))),this[_0x1dda("0xd0e")](Q,id[_0x1dda("0x3fb")]("highLightFlags")),this[_0x1dda("0xd0e")](V,id[_0x1dda("0x3fb")](_0x1dda("0xd03"))),this.appendAttribute(W,id[_0x1dda("0x3fb")](_0x1dda("0xd0c"))),this.appendAttribute(Z,id[_0x1dda("0x3fb")]("buildingsColor")),this[_0x1dda("0xd0e")](J,id[_0x1dda("0x3fb")](_0x1dda("0x9aa"))),this.appendAttribute(X,id.getAttribute(_0x1dda("0x535"))),this[_0x1dda("0xd0e")](Y,id[_0x1dda("0x3fb")]("isSelectFlags")),K.length>0&&this[_0x1dda("0xd0e")](K,id[_0x1dda("0x3fb")](_0x1dda("0xd06"))),q[_0x1dda("0x0")]>0&&this[_0x1dda("0xd0e")](q,id[_0x1dda("0x3fb")]("sideTexIndex")),id[_0x1dda("0x424")]=id[_0x1dda("0x424")][_0x1dda("0x317")](w),w.length>0&&(id.userData.lastGeoCount=w[w[_0x1dda("0x0")]-1][_0x1dda("0x4fd")][1]),id[_0x1dda("0x159")]()}else{var nd=new THREE.BufferAttribute(j,3),rd=new(THREE[_0x1dda("0x402")])(U,3),sd=new(THREE[_0x1dda("0x402")])(dd,2),od=new THREE.BufferAttribute($,2),cd=new(THREE[_0x1dda("0x402")])(xd,2),ld=new(THREE[_0x1dda("0x402")])(G,1),fd=new THREE.BufferAttribute(Q,1),ud=new(THREE[_0x1dda("0x402")])(V,1),hd=new THREE.BufferAttribute(W,1),gd=new THREE.BufferAttribute(Z,4),bd=new(THREE[_0x1dda("0x402")])(J,4),vd=new THREE.BufferAttribute(X,1);(id=new(n[_0x1dda("0xd0a")]))[_0x1dda("0x403")]("position",nd),id[_0x1dda("0x403")](_0x1dda("0x3fd"),rd),id.addAttribute("uv",sd),id[_0x1dda("0x403")]("normalizeUv",od),id[_0x1dda("0x403")]("rUv",cd),id[_0x1dda("0x403")](_0x1dda("0xd0b"),ld),id[_0x1dda("0x403")](_0x1dda("0x9ab"),fd),id[_0x1dda("0x403")](_0x1dda("0xd03"),ud),id[_0x1dda("0x403")](_0x1dda("0xd0c"),hd),id[_0x1dda("0x403")](_0x1dda("0xd0d"),gd),id.addAttribute("highLightColor",bd),id.addAttribute(_0x1dda("0x535"),vd),id[_0x1dda("0x403")](_0x1dda("0x9e3"),new(THREE[_0x1dda("0x402")])(Y,1));var pd=void 0;pd=K[_0x1dda("0x0")]>0?new THREE.BufferAttribute(K,1):new(THREE[_0x1dda("0x402")])(new Float32Array(j[_0x1dda("0x0")]),1),id[_0x1dda("0x403")](_0x1dda("0xd06"),pd);var md=void 0;md=q[_0x1dda("0x0")]>0?new(THREE[_0x1dda("0x402")])(q,1):new(THREE[_0x1dda("0x402")])(new Float32Array(j[_0x1dda("0x0")]),1),id.addAttribute(_0x1dda("0xd07"),md),id.brothers=w,w[_0x1dda("0x0")]>0?id.userData.lastGeoCount=w[w[_0x1dda("0x0")]-1][_0x1dda("0x4fd")][1]:id.userData.lastGeoCount=0,this[_0x1dda("0x95f")][r][e][_0x1dda("0x3d6")][A]=id}id[_0x1dda("0x40d")](),id[_0x1dda("0x16c")](0,id[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],0);var Ad,Cd=void 0;if(999==A)Cd=[_.mapTheme_.defaultMaterial];else if(l){var Id=_[_0x1dda("0x3b0")][_0x1dda("0xcf6")][A];Id||(Id=_[_0x1dda("0x3b0")][_0x1dda("0xcf6")][0]),Cd=[Id.material]}else Cd=_[_0x1dda("0x3b0")][_0x1dda("0x978")][A];for(var yd in m+=C[_0x1dda("0xd01")],this.toHandle[r][e][_0x1dda("0xf6")][A]?(Ad=this.toHandle[r][e].meshes[A]).datas_[_0x1dda("0x424")]=Ad.datas_.brothers[_0x1dda("0x317")](E):((Ad=new(THREE[_0x1dda("0x182")]))[_0x1dda("0xe7")]=id,Ad[_0x1dda("0xe9")]=Cd,Ad[_0x1dda("0xfc")]=A,Ad.rotation[_0x1dda("0xcd")](Math.PI/2,0,0,_0x1dda("0x3cb")),Ad[_0x1dda("0xe5")]={bid:r,o3d_:Ad,brothers:E,nodeType:esmap[_0x1dda("0x126")].MODEL},this.toHandle[r][e][_0x1dda("0xf6")][A]=Ad,Ad[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0x1ba")],null!=_[_0x1dda("0x42")].options.hideRoomLogoMeshes&&1*A==999?_[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x36e")]&&(Ad[_0x1dda("0x169")]=!1,Ad[_0x1dda("0xe7")][_0x1dda("0x40d")](),Ad[_0x1dda("0xe7")][_0x1dda("0x8bc")][_0x1dda("0xfb")]=0):1*A!=999||_[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")]||(Ad[_0x1dda("0x169")]=!1,Ad[_0x1dda("0xe7")][_0x1dda("0x40d")](),Ad[_0x1dda("0xe7")][_0x1dda("0x8bc")][_0x1dda("0xfb")]=0),i.o3d_.add(Ad),o.popArray(T),(d[_0x1dda("0xcf3")]||_.map[_0x1dda("0x35")][_0x1dda("0x1cc")]&&_[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x36a")])&&_.map[_0x1dda("0x17d")][_0x1dda("0x3ae")](Ad,r)),E){var Ed=E[yd];Ed[_0x1dda("0x180")]=Ad,Ed[_0x1dda("0x41")]&&!_[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x9be")][Ed[_0x1dda("0x41")]]&&(_[_0x1dda("0x42")][_0x1dda("0x279")].bidList[Ed.mapId]&&(_[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x638")][Ed[_0x1dda("0x41")]][_0x1dda("0xfc")]=Ed[_0x1dda("0xfc")]),_[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x9be")][Ed[_0x1dda("0x41")]]=Ed)}_.map[_0x1dda("0x279")].checkToLoadedBuildings()}if(this[_0x1dda("0xce8")][r]||(this._lodRecords[r]={1:0,2:0,3:0}),this[_0x1dda("0xce8")][r][h]+=1,2==this[_0x1dda("0xce8")][r][h]&&a[_0x1dda("0xd10")](),d[_0x1dda("0xd11")]&&d[_0x1dda("0xd11")].length>0)if(u=a.layerManager[_0x1dda("0x3ba")](_0x1dda("0x5c0"),esmap.ESLayerType[_0x1dda("0x537")]),s[_0x1dda("0xce")](u.o3d_),l&&d[_0x1dda("0xd11")][_0x1dda("0x0")]>1)for(var wd=0,Td=0;Td<d.modelImagesData.length;Td++){var kd=d.modelImagesData[Td],Sd=kd.id,Md=d[_0x1dda("0xd12")][Td];Md[_0x1dda("0x40e")]=0;for(var Rd=Md[_0x1dda("0x21c")],Ld=Md[_0x1dda("0xfb")],Dd=d[_0x1dda("0xd12")][Td],Hd=d[_0x1dda("0xd13")][_0x1dda("0x504")](Rd,Rd+Ld),Pd=0;Pd<Hd[_0x1dda("0x0")];Pd++)Hd[Pd]-=wd;var Od=d.modelImagePos.subarray(2*Rd,2*(Rd+Ld)),Bd=d.modelImageUv.subarray(Rd/3*4,(Rd+Ld)/3*4),Fd=d[_0x1dda("0xd14")][_0x1dda("0x504")](2*Rd,2*(Rd+Ld)),Nd=d[_0x1dda("0xd15")][_0x1dda("0x504")](4*Td,4*Td+4);this.modelImageLoader[_0x1dda("0x531")](Sd,[kd]),this[_0x1dda("0xce9")][_0x1dda("0x530")](Sd,u.o3d_,{bid:r,bType:1}),Md[_0x1dda("0x21c")]=0,this[_0x1dda("0xce9")][_0x1dda("0xd16")](Sd,{index:Hd,pos:Od,uv:Bd,nor:Fd,hideFlags:Nd,groups:[Md],groupsCopy:[Dd]}),wd+=Od.length/3}else this.modelImageLoader.setData(t,d[_0x1dda("0xd11")]),this.modelImageLoader[_0x1dda("0x530")](t,u[_0x1dda("0x180")],{bid:r,bType:1}),this[_0x1dda("0xce9")][_0x1dda("0xd16")](t,{index:d[_0x1dda("0xd13")],pos:d[_0x1dda("0xd17")],uv:d[_0x1dda("0xd18")],nor:d[_0x1dda("0xd14")],hideFlags:d.modelImageHideFlags,groups:d.modelImageGroups,groupsCopy:d.modelImageGroupsCopy});this[_0x1dda("0xd19")](e)}},{key:"loadModelandImage",value:function(d){var x,a=(x=(0,e[_0x1dda("0xd")])(_[_0x1dda("0xd")][_0x1dda("0x2b7")]((function x(){return _.default.wrap((function(x){for(;;)switch(x.prev=x[_0x1dda("0x24c")]){case 0:o(d);case 1:case _0x1dda("0x267"):return x.stop()}}),x,this)}))),function(){return x[_0x1dda("0x5")](this,arguments)}),t=this,i=t.scene,n=this[_0x1dda("0x4c")],r=n,s=n.id;function o(d){if(i.map[_0x1dda("0x35")][_0x1dda("0x36b")]){var x=t[_0x1dda("0x95f")][s][d][_0x1dda("0xcf4")],a=i[_0x1dda("0x42")][_0x1dda("0x94b")]?i[_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")]:i[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")];if(r){r[_0x1dda("0x22c")][_0x1dda("0xcb5")]();var _=[];for(i.counter.model+=x[_0x1dda("0x0")];x[_0x1dda("0x0")]>0;){var e=x[_0x1dda("0x4")](),n=t[_0x1dda("0xd1a")](e,d,null,s);n&&(n[_0x1dda("0x3c2")]<=12?r.modelLoadManager[_0x1dda("0xcb6")](n):(n[_0x1dda("0xd1b")]=n[_0x1dda("0xfa")][_0x1dda("0x117")](a),_[_0x1dda("0x10")](n)))}for(_[_0x1dda("0x3ef")]((function(d,x){return d[_0x1dda("0xd1c")]-x.viewrank}));_[_0x1dda("0x0")]>0;){var o=_[_0x1dda("0x4")]();r[_0x1dda("0x22c")].addMapModel(o)}r[_0x1dda("0x22c")].mapModelLoadStatus[d]=!0}}}a()[_0x1dda("0x2ef")]((function(){t.modelManagerStarted[n.id]||(n.map.on("update",(function(){n[_0x1dda("0x42")]&&(n[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x34e")]?(n[_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x6b9")]&&(l=setTimeout((function(){n[_0x1dda("0x22c")][_0x1dda("0x968")]=!1,n[_0x1dda("0x22c")].viewRangeUpdated=!1,l&&window[_0x1dda("0x22e")](l)}),100)),n[_0x1dda("0x22c")][_0x1dda("0xcc7")](),n[_0x1dda("0x22c")].checkIfNeedLoad()):n[_0x1dda("0x22c")][_0x1dda("0xccb")](n))})),t[_0x1dda("0x969")][n.id]=!0)}))}},{key:"loadModel",value:function(d,x,a,_){var e,t=this.scene,i=t[_0x1dda("0x42")][_0x1dda("0x35")].editMode,n=(t.map.options[_0x1dda("0x43")],t[_0x1dda("0x42")].id),r=this[_0x1dda("0x4c")],o=r[_0x1dda("0x397")],c=d[_0x1dda("0x1ba")].replace(_0x1dda("0xae"),""),l=t[_0x1dda("0x42")][_0x1dda("0x35")].quality==_0x1dda("0x58a")&&!t[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")];d[_0x1dda("0x41")]&&t[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x638")][d.mapId]&&(t[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0x638")][d[_0x1dda("0x41")]].name=d[_0x1dda("0xfc")]);var f=s.default[_0x1dda("0x67")](_0x1dda("0x60"),{filename:c,modeltoken:t[_0x1dda("0x42")][_0x1dda("0xc3e")]});(f=f.replace(/([^:]\/)\/+/g,"$1"),a)?e=a:e=this[_0x1dda("0x95f")][_][x]?this[_0x1dda("0x95f")][_][x][_0x1dda("0xd1d")][_0x1dda("0x180")]:t[_0x1dda("0x629")][x][_0x1dda("0xe5")][_0x1dda("0x3bb")](esmap[_0x1dda("0x39a")].MODEL3D)[0][_0x1dda("0x180")];if(1*d.top==3){var u=d[_0x1dda("0xd1e")].points[0][_0x1dda("0x42")]((function(d){return d.x*=-1,d})),h=d[_0x1dda("0x16d")].split(",")[1],g=new(esmap[_0x1dda("0x5f4")])({type:_0x1dda("0x4c"),useCrst:!1,merge:!0,bid:_,model:d[_0x1dda("0x1ba")],fnum:x,bclick:!!i,points:u,gid:d[_0x1dda("0xb18")]||0,callback:function(){r[_0x1dda("0xcc2")][x].model3D--},repeatset:1,thickset:1,heightset:1,name:d[_0x1dda("0xfc")],id:d.id,height:1*h,showLevel:d[_0x1dda("0x3c2")]});return g.bid=n,g.tileId=_,t[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x394")]--,o[_0x1dda("0xd5")](d.id),null}if(l&&d.model[_0x1dda("0xaf")](_0x1dda("0xc77"))>=0){var b=r[_0x1dda("0x22c")];return b[_0x1dda("0x24b")][d[_0x1dda("0x1ba")]]||b.loadingList[d[_0x1dda("0x1ba")]]||(b[_0x1dda("0x2b1")][d[_0x1dda("0x1ba")]]=!0,r[_0x1dda("0x22c")][_0x1dda("0x2b2")](d[_0x1dda("0x1ba")],f)),!1}var v=new THREE.Vector3(1,1.5,1);if(d[_0x1dda("0x1d7")]){var p=d.scale[_0x1dda("0x2a")](",");v=new(THREE[_0x1dda("0x11c")])(parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2]))}var m=0;if(d[_0x1dda("0xd1f")]){var A=Math.PI/180,C=d[_0x1dda("0xd1f")][_0x1dda("0x2a")](",");m=1*C[1];var I=new THREE.Euler(parseFloat(C[0])*A,parseFloat(C[1])*A,parseFloat(C[2])*A)}var y=void 0;y=t[_0x1dda("0x42")][_0x1dda("0x19c")]({x:d.x,y:d.y});var E=t[_0x1dda("0x42")][_0x1dda("0x198")]({from:_0x1dda("0x65c"),to:"WGS84",coord:{x:d.x,y:d.y}}),w={x:E.x,y:E.y,offsetHeight:0};if(d[_0x1dda("0x16d")]){var T=d[_0x1dda("0x16d")][_0x1dda("0x2a")](",");y.x+=parseFloat(T[0]),y.y+=parseFloat(T[1]),y.z+=parseFloat(T[2]),w.x+=parseFloat(T[0]),w.y+=parseFloat(T[2]),w.offsetHeight=parseFloat(T[1])}d.model.indexOf(".gltf")<0&&(d.model+=".gltf"),t[_0x1dda("0x950")][_0x1dda("0x10")]({scale:v.x,angle:m,x:w.x,y:w.y,id:d.id,name:d[_0x1dda("0xfc")],dataID:d[_0x1dda("0x1e2")],offsetHeight:w[_0x1dda("0x26")]});var k={brief:d[_0x1dda("0xcdb")],bid:n,tileId:_,name:d[_0x1dda("0xfc")],model:d[_0x1dda("0x1ba")],url:f,dataID:d.dataID,angle:m,classID:d[_0x1dda("0xd1e")][_0x1dda("0x640")],scale:v,top:d.top,mapId:d[_0x1dda("0x41")]||null,gid:d[_0x1dda("0xb18")]||0,typeID:d[_0x1dda("0xd1e")][_0x1dda("0xd20")]||0,rotation:I,position:y,showLevel:d[_0x1dda("0x3c2")],data_:{CenX:d.x,CenY:d.y,scale:d[_0x1dda("0x1d7")]||null,rotate:d[_0x1dda("0xd1f")]||null,offset:d[_0x1dda("0x16d")]||null},parent:e,id:d.id,bclick:d.bclick,callbackparams:d.callbackparams||null,callback:function(){r.toLoaded&&r[_0x1dda("0xcc2")][x].model3D--},fnum:x};return i&&(k[_0x1dda("0xd1e")]=d[_0x1dda("0xd1e")]),k}},{key:_0x1dda("0xcfc"),value:function(d,x,a){var _,e=this,t=(d.id,a.id);this[_0x1dda("0x963")][t]?_=this[_0x1dda("0x963")][t]:((_=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0xd21")],{}))[_0x1dda("0xfc")]="modelLines",a[_0x1dda("0x3b9")][_0x1dda("0x3b8")](_),this[_0x1dda("0x963")][t]=_);var i=d[_0x1dda("0x63f")];if(x){var n=new(THREE[_0x1dda("0x3f9")]);n.addAttribute("position",new(THREE[_0x1dda("0x402")])(d[_0x1dda("0x121")],3));var r=[],s=0;for(var o in i){var c=i[o][_0x1dda("0xcfa")],l={precision:_0x1dda("0xac1"),color:esmap[_0x1dda("0x86")][_0x1dda("0x410")](c[_0x1dda("0xcf7")]),linewidth:1*c[_0x1dda("0xcf9")]>5?5:1*c[_0x1dda("0xcf9")]},f=new(THREE[_0x1dda("0x869")])(l);f[_0x1dda("0xfc")]=o,r[_0x1dda("0x10")](f),n[_0x1dda("0x16c")](s,i[o][_0x1dda("0xd01")],r[_0x1dda("0x0")]-1),i[o][_0x1dda("0xd22")]=s,s+=i[o][_0x1dda("0xd01")]}var u=new(THREE[_0x1dda("0x85d")])(n,r);u[_0x1dda("0xa99")]=!1,u[_0x1dda("0xe5")]={nodeType:esmap.ESNodeType[_0x1dda("0x127")],id:1},u[_0x1dda("0x3d9")][_0x1dda("0xcd")](Math.PI/2,0,0,"XYZ"),u[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0xd23")],u[_0x1dda("0x153")][_0x1dda("0x536")]=i;return _[_0x1dda("0x180")][_0x1dda("0xce")](u),u}for(var h in i){var g=new(THREE[_0x1dda("0x3f9")]),b=0,v=d[_0x1dda("0x121")][_0x1dda("0x504")](3*b,3*(b+i[h][_0x1dda("0xd01")]));g[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(v,3));var p=i[h][_0x1dda("0xcfa")],m=[],A={precision:_0x1dda("0xac1"),color:p[_0x1dda("0xd24")],linewidth:p[_0x1dda("0xd25")]>5?5:p[_0x1dda("0xd25")]},C=new(THREE[_0x1dda("0x869")])(A);m[_0x1dda("0x10")](C),g[_0x1dda("0x16c")](b,i[h][_0x1dda("0xd01")],m[_0x1dda("0x0")]-1),b+=i[h].groupIndex;var I=new THREE.LineSegments(g,m);I[_0x1dda("0xa99")]=!1,I[_0x1dda("0xe5")]={nodeType:esmap[_0x1dda("0x126")][_0x1dda("0x127")],id:1*i[h].id,bid:building.id,bType:2},I[_0x1dda("0x3d9")].set(Math.PI/2,0,0,_0x1dda("0x3cb")),I[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0xd23")],null!=e[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")].hideRoomLogoMeshes?e[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x36e")]&&(C[_0x1dda("0x169")]=!1,g[_0x1dda("0x40d")](),g[_0x1dda("0x8bc")][_0x1dda("0xfb")]=0):1*h!=999||e.scene[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")]||(C[_0x1dda("0x169")]=!1,g.clearGroups(),g[_0x1dda("0x8bc")].count=0);var y=e[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xd26")];null!=e[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xd26")]&&(y=e.scene[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xd26")]),y&&_[_0x1dda("0x180")].add(I)}return I}}]),d}();x[_0x1dda("0xd")]=f},function(d,x,a){"use strict";var _=t(a(12)),e=t(a(15));function t(d){return d&&d.__esModule?d:{default:d}}var i,n=a(72),r=n[_0x1dda("0xd27")],s=n[_0x1dda("0x54f")],o=n.util,c=n[_0x1dda("0x550")][_0x1dda("0xd")]||(n[_0x1dda("0x550")][_0x1dda("0xd")]={});c[_0x1dda("0x9cd")]=((i={})[_0x1dda("0xd28")]=function(){function d(d){if(this[_0x1dda("0xd29")]={},this[_0x1dda("0x398")]={},d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")].v=0,d[_0x1dda("0x1")][_0x1dda("0x569")]=0,d[_0x1dda("0x1")][_0x1dda("0x551")]="",d[_0x1dda("0x1")][_0x1dda("0xd2a")]="",d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")][_0x1dda("0xd2b")]=0,d.prototype.x=0,d[_0x1dda("0x1")].y=0,d[_0x1dda("0x1")].z=0,d.prototype[_0x1dda("0x556")]=0,d[_0x1dda("0x1")].minY=0,d[_0x1dda("0x1")][_0x1dda("0x559")]=0,d.prototype[_0x1dda("0x55b")]=0,d[_0x1dda("0x1")][_0x1dda("0x88")]="",d[_0x1dda("0x1")][_0x1dda("0xd29")]=o[_0x1dda("0xd2c")],d[_0x1dda("0x1")][_0x1dda("0x398")]=o[_0x1dda("0xd2c")],d[_0x1dda("0x1")][_0x1dda("0x562")]="",d.prototype.o1=0,d[_0x1dda("0x1")][_0x1dda("0x572")]="",d[_0x1dda("0x1")].o2=0,d[_0x1dda("0x1")].t1="",d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){if(x||(x=s[_0x1dda("0x566")]()),null!=d.v&&d[_0x1dda("0x2")]("v")&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d.v),null!=d[_0x1dda("0x569")]&&d[_0x1dda("0x2")](_0x1dda("0x569"))&&x[_0x1dda("0x567")](16)[_0x1dda("0x568")](d[_0x1dda("0x569")]),null!=d[_0x1dda("0x551")]&&d[_0x1dda("0x2")](_0x1dda("0x551"))&&x.uint32(26).string(d.Hash),null!=d[_0x1dda("0xd2a")]&&d[_0x1dda("0x2")](_0x1dda("0xd2a"))&&x[_0x1dda("0x567")](34)[_0x1dda("0xe")](d[_0x1dda("0xd2a")]),null!=d._id&&d.hasOwnProperty(_0x1dda("0x3a0"))&&x.uint32(40)[_0x1dda("0x568")](d._id),null!=d[_0x1dda("0xd2b")]&&d[_0x1dda("0x2")](_0x1dda("0xd2b"))&&x[_0x1dda("0x567")](48)[_0x1dda("0x568")](d[_0x1dda("0xd2b")]),null!=d.x&&d.hasOwnProperty("x")&&x[_0x1dda("0x567")](57)[_0x1dda("0x56b")](d.x),null!=d.y&&d.hasOwnProperty("y")&&x[_0x1dda("0x567")](65)[_0x1dda("0x56b")](d.y),null!=d.z&&d[_0x1dda("0x2")]("z")&&x.uint32(73)[_0x1dda("0x56b")](d.z),null!=d[_0x1dda("0x556")]&&d.hasOwnProperty("minX")&&x[_0x1dda("0x567")](81)[_0x1dda("0x56b")](d[_0x1dda("0x556")]),null!=d[_0x1dda("0x558")]&&d[_0x1dda("0x2")]("minY")&&x[_0x1dda("0x567")](89).double(d[_0x1dda("0x558")]),null!=d.maxX&&d[_0x1dda("0x2")](_0x1dda("0x559"))&&x[_0x1dda("0x567")](97).double(d.maxX),null!=d.maxY&&d[_0x1dda("0x2")](_0x1dda("0x55b"))&&x[_0x1dda("0x567")](105)[_0x1dda("0x56b")](d.maxY),null!=d[_0x1dda("0x88")]&&d[_0x1dda("0x2")](_0x1dda("0x88"))&&x.uint32(114)[_0x1dda("0xe")](d[_0x1dda("0x88")]),null!=d.Rooms&&d[_0x1dda("0x2")](_0x1dda("0xd29")))for(var a=(0,e.default)(d[_0x1dda("0xd29")]),_=0;_<a[_0x1dda("0x0")];++_)x[_0x1dda("0x567")](122)[_0x1dda("0xd2d")]()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x9cd")][_0x1dda("0xd2e")].encode(d[_0x1dda("0xd29")][a[_]],x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]()).ldelim().ldelim();if(null!=d.Labels&&d[_0x1dda("0x2")](_0x1dda("0x398")))for(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x398")]),_=0;_<a[_0x1dda("0x0")];++_)x[_0x1dda("0x567")](130)[_0x1dda("0xd2d")]()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x9cd")][_0x1dda("0xd2f")][_0x1dda("0x565")](d[_0x1dda("0x398")][a[_]],x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]()).ldelim()[_0x1dda("0xd30")]();return null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")]("other1")&&x[_0x1dda("0x567")](138).string(d[_0x1dda("0x562")]),null!=d.o1&&d[_0x1dda("0x2")]("o1")&&x[_0x1dda("0x567")](144)[_0x1dda("0x568")](d.o1),null!=d[_0x1dda("0x572")]&&d.hasOwnProperty(_0x1dda("0x572"))&&x[_0x1dda("0x567")](154)[_0x1dda("0xe")](d[_0x1dda("0x572")]),null!=d.o2&&d[_0x1dda("0x2")]("o2")&&x[_0x1dda("0x567")](160)[_0x1dda("0x568")](d.o2),null!=d.t1&&d[_0x1dda("0x2")]("t1")&&x[_0x1dda("0x567")](170).string(d.t1),x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d.decode=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a,_=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,e=new(c[_0x1dda("0x9cd")][_0x1dda("0xd28")]);d[_0x1dda("0x3d8")]<_;){var t=d[_0x1dda("0x567")]();switch(t>>>3){case 1:e.v=d[_0x1dda("0x568")]();break;case 2:e.mtime=d[_0x1dda("0x568")]();break;case 3:e[_0x1dda("0x551")]=d[_0x1dda("0xe")]();break;case 4:e[_0x1dda("0xd2a")]=d[_0x1dda("0xe")]();break;case 5:e[_0x1dda("0x3a0")]=d.int32();break;case 6:e[_0x1dda("0xd2b")]=d[_0x1dda("0x568")]();break;case 7:e.x=d[_0x1dda("0x56b")]();break;case 8:e.y=d[_0x1dda("0x56b")]();break;case 9:e.z=d[_0x1dda("0x56b")]();break;case 10:e[_0x1dda("0x556")]=d[_0x1dda("0x56b")]();break;case 11:e[_0x1dda("0x558")]=d[_0x1dda("0x56b")]();break;case 12:e.maxX=d[_0x1dda("0x56b")]();break;case 13:e[_0x1dda("0x55b")]=d[_0x1dda("0x56b")]();break;case 14:e[_0x1dda("0x88")]=d.string();break;case 15:d[_0x1dda("0xd32")]()[_0x1dda("0x3d8")]++,e[_0x1dda("0xd29")]===o[_0x1dda("0xd2c")]&&(e.Rooms={}),a=d[_0x1dda("0x568")](),d[_0x1dda("0x3d8")]++,e[_0x1dda("0xd29")][a]=c.ESTileMap.RoomSet.decode(d,d[_0x1dda("0x567")]());break;case 16:d.skip()[_0x1dda("0x3d8")]++,e[_0x1dda("0x398")]===o.emptyObject&&(e.Labels={}),a=d[_0x1dda("0x568")](),d.pos++,e[_0x1dda("0x398")][a]=c.ESTileMap[_0x1dda("0xd2f")][_0x1dda("0x45")](d,d.uint32());break;case 17:e.other1=d[_0x1dda("0xe")]();break;case 18:e.o1=d[_0x1dda("0x568")]();break;case 19:e.other2=d[_0x1dda("0xe")]();break;case 20:e.o2=d[_0x1dda("0x568")]();break;case 21:e.t1=d[_0x1dda("0xe")]();break;default:d.skipType(7&t)}}return e},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){if("object"!==(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))||null===d)return _0x1dda("0x579");if(null!=d.v&&d[_0x1dda("0x2")]("v")&&!o[_0x1dda("0x57b")](d.v))return _0x1dda("0x57a");if(null!=d[_0x1dda("0x569")]&&d.hasOwnProperty(_0x1dda("0x569"))&&!o.isInteger(d[_0x1dda("0x569")]))return"mtime: integer expected";if(null!=d[_0x1dda("0x551")]&&d[_0x1dda("0x2")](_0x1dda("0x551"))&&!o.isString(d.Hash))return _0x1dda("0x57e");if(null!=d.cname&&d[_0x1dda("0x2")]("cname")&&!o[_0x1dda("0x332")](d[_0x1dda("0xd2a")]))return _0x1dda("0xd33");if(null!=d._id&&d.hasOwnProperty(_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d._id))return _0x1dda("0x57f");if(null!=d.Type&&d[_0x1dda("0x2")](_0x1dda("0xd2b"))&&!o[_0x1dda("0x57b")](d.Type))return"Type: integer expected";if(null!=d.x&&d[_0x1dda("0x2")]("x")&&typeof d.x!==_0x1dda("0x177"))return"x: number expected";if(null!=d.y&&d.hasOwnProperty("y")&&typeof d.y!==_0x1dda("0x177"))return _0x1dda("0x588");if(null!=d.z&&d[_0x1dda("0x2")]("z")&&typeof d.z!==_0x1dda("0x177"))return"z: number expected";if(null!=d[_0x1dda("0x556")]&&d[_0x1dda("0x2")]("minX")&&typeof d[_0x1dda("0x556")]!==_0x1dda("0x177"))return _0x1dda("0xd34");if(null!=d[_0x1dda("0x558")]&&d[_0x1dda("0x2")](_0x1dda("0x558"))&&typeof d[_0x1dda("0x558")]!==_0x1dda("0x177"))return _0x1dda("0xd35");if(null!=d[_0x1dda("0x559")]&&d[_0x1dda("0x2")](_0x1dda("0x559"))&&"number"!=typeof d[_0x1dda("0x559")])return"maxX: number expected";if(null!=d[_0x1dda("0x55b")]&&d[_0x1dda("0x2")](_0x1dda("0x55b"))&&typeof d[_0x1dda("0x55b")]!==_0x1dda("0x177"))return"maxY: number expected";if(null!=d.token&&d[_0x1dda("0x2")](_0x1dda("0x88"))&&!o.isString(d[_0x1dda("0x88")]))return _0x1dda("0xd36");if(null!=d[_0x1dda("0xd29")]&&d[_0x1dda("0x2")](_0x1dda("0xd29"))){if(!o.isObject(d.Rooms))return _0x1dda("0xd37");for(var x=(0,e[_0x1dda("0xd")])(d.Rooms),a=0;a<x[_0x1dda("0x0")];++a){if(!o[_0x1dda("0xd38")][_0x1dda("0x29")](x[a]))return"Rooms: integer key{k:int32} expected";if(t=c[_0x1dda("0x9cd")][_0x1dda("0xd2e")][_0x1dda("0x578")](d[_0x1dda("0xd29")][x[a]]))return"Rooms."+t}}if(null!=d[_0x1dda("0x398")]&&d[_0x1dda("0x2")](_0x1dda("0x398"))){if(!o[_0x1dda("0x17")](d.Labels))return _0x1dda("0xd39");for(x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x398")]),a=0;a<x.length;++a){if(!o[_0x1dda("0xd38")].test(x[a]))return _0x1dda("0xd3a");var t;if(t=c.ESTileMap[_0x1dda("0xd2f")][_0x1dda("0x578")](d[_0x1dda("0x398")][x[a]]))return _0x1dda("0xd3b")+t}}return null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")]("other1")&&!o[_0x1dda("0x332")](d[_0x1dda("0x562")])?"other1: string expected":null!=d.o1&&d[_0x1dda("0x2")]("o1")&&!o.isInteger(d.o1)?_0x1dda("0x595"):null!=d.other2&&d.hasOwnProperty(_0x1dda("0x572"))&&!o.isString(d[_0x1dda("0x572")])?_0x1dda("0x597"):null!=d.o2&&d[_0x1dda("0x2")]("o2")&&!o[_0x1dda("0x57b")](d.o2)?_0x1dda("0xd3c"):null!=d.t1&&d[_0x1dda("0x2")]("t1")&&!o.isString(d.t1)?_0x1dda("0xd3d"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c.ESTileMap[_0x1dda("0xd28")])return d;var x=new(c[_0x1dda("0x9cd")].ESTileMapSet);if(null!=d.v&&(x.v=0|d.v),null!=d.mtime&&(x[_0x1dda("0x569")]=0|d[_0x1dda("0x569")]),null!=d[_0x1dda("0x551")]&&(x[_0x1dda("0x551")]=String(d[_0x1dda("0x551")])),null!=d.cname&&(x.cname=String(d[_0x1dda("0xd2a")])),null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d.Type&&(x.Type=0|d[_0x1dda("0xd2b")]),null!=d.x&&(x.x=Number(d.x)),null!=d.y&&(x.y=Number(d.y)),null!=d.z&&(x.z=Number(d.z)),null!=d[_0x1dda("0x556")]&&(x[_0x1dda("0x556")]=Number(d[_0x1dda("0x556")])),null!=d[_0x1dda("0x558")]&&(x[_0x1dda("0x558")]=Number(d[_0x1dda("0x558")])),null!=d[_0x1dda("0x559")]&&(x.maxX=Number(d.maxX)),null!=d[_0x1dda("0x55b")]&&(x[_0x1dda("0x55b")]=Number(d[_0x1dda("0x55b")])),null!=d[_0x1dda("0x88")]&&(x[_0x1dda("0x88")]=String(d.token)),d.Rooms){if((0,_.default)(d[_0x1dda("0xd29")])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xd3e"));x.Rooms={};for(var a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xd29")]),t=0;t<a[_0x1dda("0x0")];++t){if((0,_[_0x1dda("0xd")])(d.Rooms[a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xd3e"));x[_0x1dda("0xd29")][a[t]]=c[_0x1dda("0x9cd")][_0x1dda("0xd2e")][_0x1dda("0x5a0")](d[_0x1dda("0xd29")][a[t]])}}if(d.Labels){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0x398")])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xd3f"));for(x.Labels={},a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x398")]),t=0;t<a[_0x1dda("0x0")];++t){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0x398")][a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xd3f"));x[_0x1dda("0x398")][a[t]]=c[_0x1dda("0x9cd")][_0x1dda("0xd2f")][_0x1dda("0x5a0")](d.Labels[a[t]])}}return null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d[_0x1dda("0x562")])),null!=d.o1&&(x.o1=0|d.o1),null!=d[_0x1dda("0x572")]&&(x[_0x1dda("0x572")]=String(d[_0x1dda("0x572")])),null!=d.o2&&(x.o2=0|d.o2),null!=d.t1&&(x.t1=String(d.t1)),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a,_={};if((x[_0x1dda("0x6f3")]||x.defaults)&&(_.Rooms={},_[_0x1dda("0x398")]={}),x[_0x1dda("0x5a5")]&&(_.v=0,_[_0x1dda("0x569")]=0,_[_0x1dda("0x551")]="",_[_0x1dda("0xd2a")]="",_[_0x1dda("0x3a0")]=0,_[_0x1dda("0xd2b")]=0,_.x=0,_.y=0,_.z=0,_[_0x1dda("0x556")]=0,_[_0x1dda("0x558")]=0,_[_0x1dda("0x559")]=0,_.maxY=0,_[_0x1dda("0x88")]="",_.other1="",_.o1=0,_[_0x1dda("0x572")]="",_.o2=0,_.t1=""),null!=d.v&&d.hasOwnProperty("v")&&(_.v=d.v),null!=d[_0x1dda("0x569")]&&d[_0x1dda("0x2")]("mtime")&&(_[_0x1dda("0x569")]=d[_0x1dda("0x569")]),null!=d[_0x1dda("0x551")]&&d[_0x1dda("0x2")](_0x1dda("0x551"))&&(_[_0x1dda("0x551")]=d[_0x1dda("0x551")]),null!=d[_0x1dda("0xd2a")]&&d[_0x1dda("0x2")](_0x1dda("0xd2a"))&&(_[_0x1dda("0xd2a")]=d[_0x1dda("0xd2a")]),null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(_._id=d[_0x1dda("0x3a0")]),null!=d.Type&&d[_0x1dda("0x2")](_0x1dda("0xd2b"))&&(_[_0x1dda("0xd2b")]=d.Type),null!=d.x&&d[_0x1dda("0x2")]("x")&&(_.x=d.x),null!=d.y&&d.hasOwnProperty("y")&&(_.y=d.y),null!=d.z&&d[_0x1dda("0x2")]("z")&&(_.z=d.z),null!=d[_0x1dda("0x556")]&&d.hasOwnProperty(_0x1dda("0x556"))&&(_[_0x1dda("0x556")]=d[_0x1dda("0x556")]),null!=d[_0x1dda("0x558")]&&d[_0x1dda("0x2")](_0x1dda("0x558"))&&(_[_0x1dda("0x558")]=d[_0x1dda("0x558")]),null!=d[_0x1dda("0x559")]&&d[_0x1dda("0x2")](_0x1dda("0x559"))&&(_[_0x1dda("0x559")]=d[_0x1dda("0x559")]),null!=d[_0x1dda("0x55b")]&&d[_0x1dda("0x2")](_0x1dda("0x55b"))&&(_.maxY=d[_0x1dda("0x55b")]),null!=d[_0x1dda("0x88")]&&d[_0x1dda("0x2")]("token")&&(_[_0x1dda("0x88")]=d[_0x1dda("0x88")]),d.Rooms&&(a=(0,e[_0x1dda("0xd")])(d.Rooms))[_0x1dda("0x0")]){_[_0x1dda("0xd29")]={};for(var t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0xd29")][a[t]]=c[_0x1dda("0x9cd")][_0x1dda("0xd2e")][_0x1dda("0x5a8")](d[_0x1dda("0xd29")][a[t]],x)}if(d[_0x1dda("0x398")]&&(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x398")]))[_0x1dda("0x0")])for(_.Labels={},t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0x398")][a[t]]=c[_0x1dda("0x9cd")].POISet[_0x1dda("0x5a8")](d[_0x1dda("0x398")][a[t]],x);return null!=d.other1&&d[_0x1dda("0x2")]("other1")&&(_[_0x1dda("0x562")]=d[_0x1dda("0x562")]),null!=d.o1&&d[_0x1dda("0x2")]("o1")&&(_.o1=d.o1),null!=d[_0x1dda("0x572")]&&d[_0x1dda("0x2")](_0x1dda("0x572"))&&(_[_0x1dda("0x572")]=d[_0x1dda("0x572")]),null!=d.o2&&d[_0x1dda("0x2")]("o2")&&(_.o2=d.o2),null!=d.t1&&d.hasOwnProperty("t1")&&(_.t1=d.t1),_},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this.constructor[_0x1dda("0x5a8")](this,d)},d.prototype[_0x1dda("0x5a7")]=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n[_0x1dda("0x5a9")][_0x1dda("0x5aa")])},d}(),i.RoomSet=function(){function d(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d.prototype.NA="",d.prototype.NE="",d[_0x1dda("0x1")].MC=0,d[_0x1dda("0x1")][_0x1dda("0x3a1")]=0,d.prototype.RL="",d[_0x1dda("0x1")][_0x1dda("0xc78")]="",d[_0x1dda("0x1")].BC=0,d.prototype.Fnum=0,d[_0x1dda("0x1")].FH=0,d[_0x1dda("0x1")].RM="",d.prototype[_0x1dda("0xc7c")]="",d[_0x1dda("0x1")][_0x1dda("0xbbb")]="",d[_0x1dda("0x1")].RMO="",d[_0x1dda("0x1")].RS=0,d[_0x1dda("0x1")].SL=0,d.prototype.CenX=0,d[_0x1dda("0x1")][_0x1dda("0xbbd")]=0,d[_0x1dda("0x1")].AS=0,d[_0x1dda("0x1")][_0x1dda("0xd40")]="",d[_0x1dda("0x1")][_0x1dda("0xd41")]=0,d[_0x1dda("0x1")][_0x1dda("0xd42")]=0,d.prototype[_0x1dda("0x624")]="",d[_0x1dda("0x1")][_0x1dda("0xd43")]=0,d[_0x1dda("0x1")][_0x1dda("0xd44")]=0,d.prototype[_0x1dda("0xd45")]=0,d[_0x1dda("0x1")].bidor=0,d[_0x1dda("0x1")].bidstyle="",d[_0x1dda("0x1")][_0x1dda("0xd46")]="",d.prototype.bidpids="",d[_0x1dda("0x1")][_0x1dda("0xd47")]=0,d[_0x1dda("0x1")].Did="",d[_0x1dda("0x1")].o1=0,d.prototype[_0x1dda("0x562")]="",d[_0x1dda("0x566")]=function(x){return new d(x)},d.encode=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&x.uint32(8).int32(d[_0x1dda("0x3a0")]),null!=d.NA&&d[_0x1dda("0x2")]("NA")&&x[_0x1dda("0x567")](18)[_0x1dda("0xe")](d.NA),null!=d.NE&&d[_0x1dda("0x2")]("NE")&&x.uint32(26)[_0x1dda("0xe")](d.NE),null!=d.MC&&d[_0x1dda("0x2")]("MC")&&x[_0x1dda("0x567")](32).int32(d.MC),null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&x[_0x1dda("0x567")](40)[_0x1dda("0x568")](d[_0x1dda("0x3a1")]),null!=d.RL&&d[_0x1dda("0x2")]("RL")&&x.uint32(50)[_0x1dda("0xe")](d.RL),null!=d[_0x1dda("0xc78")]&&d[_0x1dda("0x2")](_0x1dda("0xc78"))&&x.uint32(58).string(d[_0x1dda("0xc78")]),null!=d.BC&&d[_0x1dda("0x2")]("BC")&&x.uint32(64)[_0x1dda("0x568")](d.BC),null!=d[_0x1dda("0xc7b")]&&d[_0x1dda("0x2")]("Fnum")&&x.uint32(72).int32(d.Fnum),null!=d.FH&&d[_0x1dda("0x2")]("FH")&&x[_0x1dda("0x567")](81).double(d.FH),null!=d.RM&&d[_0x1dda("0x2")]("RM")&&x[_0x1dda("0x567")](90)[_0x1dda("0xe")](d.RM),null!=d[_0x1dda("0xc7c")]&&d[_0x1dda("0x2")](_0x1dda("0xc7c"))&&x.uint32(98)[_0x1dda("0xe")](d.RMS),null!=d[_0x1dda("0xbbb")]&&d[_0x1dda("0x2")](_0x1dda("0xbbb"))&&x[_0x1dda("0x567")](106)[_0x1dda("0xe")](d[_0x1dda("0xbbb")]),null!=d[_0x1dda("0xbbe")]&&d.hasOwnProperty("RMO")&&x[_0x1dda("0x567")](114).string(d[_0x1dda("0xbbe")]),null!=d.RS&&d[_0x1dda("0x2")]("RS")&&x.uint32(120)[_0x1dda("0x568")](d.RS),null!=d.SL&&d.hasOwnProperty("SL")&&x[_0x1dda("0x567")](128)[_0x1dda("0x568")](d.SL),null!=d[_0x1dda("0xbbc")]&&d[_0x1dda("0x2")](_0x1dda("0xbbc"))&&x[_0x1dda("0x567")](137).double(d[_0x1dda("0xbbc")]),null!=d[_0x1dda("0xbbd")]&&d.hasOwnProperty(_0x1dda("0xbbd"))&&x[_0x1dda("0x567")](145)[_0x1dda("0x56b")](d.CenY),null!=d.AS&&d.hasOwnProperty("AS")&&x[_0x1dda("0x567")](153)[_0x1dda("0x56b")](d.AS),null!=d.Outline&&d[_0x1dda("0x2")](_0x1dda("0xd40"))&&x[_0x1dda("0x567")](162)[_0x1dda("0xe")](d[_0x1dda("0xd40")]),null!=d[_0x1dda("0xd41")]&&d[_0x1dda("0x2")](_0x1dda("0xd41"))&&x[_0x1dda("0x567")](168).int32(d.PID),null!=d[_0x1dda("0xd42")]&&d[_0x1dda("0x2")](_0x1dda("0xd42"))&&x[_0x1dda("0x567")](176).int32(d[_0x1dda("0xd42")]),null!=d.bids&&d.hasOwnProperty(_0x1dda("0x624"))&&x[_0x1dda("0x567")](186)[_0x1dda("0xe")](d[_0x1dda("0x624")]),null!=d[_0x1dda("0xd43")]&&d[_0x1dda("0x2")]("bidox")&&x[_0x1dda("0x567")](193)[_0x1dda("0x56b")](d[_0x1dda("0xd43")]),null!=d[_0x1dda("0xd44")]&&d.hasOwnProperty(_0x1dda("0xd44"))&&x.uint32(201)[_0x1dda("0x56b")](d.bidoy),null!=d[_0x1dda("0xd45")]&&d[_0x1dda("0x2")](_0x1dda("0xd45"))&&x[_0x1dda("0x567")](209).double(d.bidoz),null!=d.bidor&&d[_0x1dda("0x2")](_0x1dda("0xd48"))&&x[_0x1dda("0x567")](217).double(d[_0x1dda("0xd48")]),null!=d.bidstyle&&d[_0x1dda("0x2")]("bidstyle")&&x[_0x1dda("0x567")](226)[_0x1dda("0xe")](d.bidstyle),null!=d[_0x1dda("0xd46")]&&d[_0x1dda("0x2")]("bidrids")&&x[_0x1dda("0x567")](234)[_0x1dda("0xe")](d[_0x1dda("0xd46")]),null!=d.bidpids&&d[_0x1dda("0x2")](_0x1dda("0xd49"))&&x[_0x1dda("0x567")](242).string(d[_0x1dda("0xd49")]),null!=d[_0x1dda("0xd47")]&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&x.uint32(248)[_0x1dda("0x568")](d[_0x1dda("0xd47")]),null!=d[_0x1dda("0xd4a")]&&d[_0x1dda("0x2")]("Did")&&x[_0x1dda("0x567")](258)[_0x1dda("0xe")](d[_0x1dda("0xd4a")]),null!=d.o1&&d[_0x1dda("0x2")]("o1")&&x[_0x1dda("0x567")](264).int32(d.o1),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&x[_0x1dda("0x567")](274)[_0x1dda("0xe")](d[_0x1dda("0x562")]),x},d[_0x1dda("0xd31")]=function(d,x){return this.encode(d,x)[_0x1dda("0xd30")]()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r.create(d));for(var a=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,_=new(c[_0x1dda("0x9cd")][_0x1dda("0xd2e")]);d.pos<a;){var e=d.uint32();switch(e>>>3){case 1:_[_0x1dda("0x3a0")]=d[_0x1dda("0x568")]();break;case 2:_.NA=d.string();break;case 3:_.NE=d[_0x1dda("0xe")]();break;case 4:_.MC=d.int32();break;case 5:_[_0x1dda("0x3a1")]=d[_0x1dda("0x568")]();break;case 6:_.RL=d[_0x1dda("0xe")]();break;case 7:_[_0x1dda("0xc78")]=d[_0x1dda("0xe")]();break;case 8:_.BC=d.int32();break;case 9:_[_0x1dda("0xc7b")]=d[_0x1dda("0x568")]();break;case 10:_.FH=d.double();break;case 11:_.RM=d.string();break;case 12:_[_0x1dda("0xc7c")]=d[_0x1dda("0xe")]();break;case 13:_[_0x1dda("0xbbb")]=d[_0x1dda("0xe")]();break;case 14:_[_0x1dda("0xbbe")]=d[_0x1dda("0xe")]();break;case 15:_.RS=d.int32();break;case 16:_.SL=d[_0x1dda("0x568")]();break;case 17:_[_0x1dda("0xbbc")]=d[_0x1dda("0x56b")]();break;case 18:_[_0x1dda("0xbbd")]=d[_0x1dda("0x56b")]();break;case 19:_.AS=d[_0x1dda("0x56b")]();break;case 20:_[_0x1dda("0xd40")]=d[_0x1dda("0xe")]();break;case 21:_[_0x1dda("0xd41")]=d.int32();break;case 22:_[_0x1dda("0xd42")]=d[_0x1dda("0x568")]();break;case 23:_.bids=d.string();break;case 24:_[_0x1dda("0xd43")]=d[_0x1dda("0x56b")]();break;case 25:_[_0x1dda("0xd44")]=d[_0x1dda("0x56b")]();break;case 26:_.bidoz=d.double();break;case 27:_[_0x1dda("0xd48")]=d.double();break;case 28:_[_0x1dda("0xd4b")]=d[_0x1dda("0xe")]();break;case 29:_[_0x1dda("0xd46")]=d[_0x1dda("0xe")]();break;case 30:_.bidpids=d[_0x1dda("0xe")]();break;case 31:_[_0x1dda("0xd47")]=d[_0x1dda("0x568")]();break;case 32:_.Did=d[_0x1dda("0xe")]();break;case 33:_.o1=d[_0x1dda("0x568")]();break;case 34:_[_0x1dda("0x562")]=d[_0x1dda("0xe")]();break;default:d.skipType(7&e)}}return _},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){return"object"!==(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))||null===d?_0x1dda("0x579"):null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o.isInteger(d._id)?_0x1dda("0x57f"):null!=d.NA&&d[_0x1dda("0x2")]("NA")&&!o[_0x1dda("0x332")](d.NA)?_0x1dda("0xd4c"):null!=d.NE&&d.hasOwnProperty("NE")&&!o[_0x1dda("0x332")](d.NE)?_0x1dda("0xd4d"):null!=d.MC&&d[_0x1dda("0x2")]("MC")&&!o[_0x1dda("0x57b")](d.MC)?_0x1dda("0xd4e"):null!=d.Tid&&d[_0x1dda("0x2")]("Tid")&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a1")])?"Tid: integer expected":null!=d.RL&&d[_0x1dda("0x2")]("RL")&&!o[_0x1dda("0x332")](d.RL)?_0x1dda("0xd4f"):null!=d.RLSize&&d[_0x1dda("0x2")](_0x1dda("0xc78"))&&!o[_0x1dda("0x332")](d.RLSize)?_0x1dda("0xd50"):null!=d.BC&&d[_0x1dda("0x2")]("BC")&&!o.isInteger(d.BC)?_0x1dda("0xd51"):null!=d.Fnum&&d[_0x1dda("0x2")](_0x1dda("0xc7b"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xc7b")])?_0x1dda("0xd52"):null!=d.FH&&d[_0x1dda("0x2")]("FH")&&typeof d.FH!==_0x1dda("0x177")?_0x1dda("0xd53"):null!=d.RM&&d.hasOwnProperty("RM")&&!o.isString(d.RM)?_0x1dda("0xd54"):null!=d.RMS&&d[_0x1dda("0x2")](_0x1dda("0xc7c"))&&!o.isString(d[_0x1dda("0xc7c")])?_0x1dda("0xd55"):null!=d.RMR&&d[_0x1dda("0x2")](_0x1dda("0xbbb"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xbbb")])?_0x1dda("0xd56"):null!=d[_0x1dda("0xbbe")]&&d.hasOwnProperty(_0x1dda("0xbbe"))&&!o.isString(d[_0x1dda("0xbbe")])?"RMO: string expected":null!=d.RS&&d[_0x1dda("0x2")]("RS")&&!o.isInteger(d.RS)?"RS: integer expected":null!=d.SL&&d.hasOwnProperty("SL")&&!o[_0x1dda("0x57b")](d.SL)?"SL: integer expected":null!=d[_0x1dda("0xbbc")]&&d[_0x1dda("0x2")](_0x1dda("0xbbc"))&&"number"!=typeof d.CenX?"CenX: number expected":null!=d[_0x1dda("0xbbd")]&&d[_0x1dda("0x2")](_0x1dda("0xbbd"))&&typeof d[_0x1dda("0xbbd")]!==_0x1dda("0x177")?"CenY: number expected":null!=d.AS&&d[_0x1dda("0x2")]("AS")&&"number"!=typeof d.AS?_0x1dda("0x584"):null!=d[_0x1dda("0xd40")]&&d[_0x1dda("0x2")](_0x1dda("0xd40"))&&!o[_0x1dda("0x332")](d.Outline)?_0x1dda("0xd57"):null!=d[_0x1dda("0xd41")]&&d.hasOwnProperty("PID")&&!o[_0x1dda("0x57b")](d[_0x1dda("0xd41")])?_0x1dda("0xd58"):null!=d[_0x1dda("0xd42")]&&d[_0x1dda("0x2")](_0x1dda("0xd42"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xd42")])?"GID: integer expected":null!=d[_0x1dda("0x624")]&&d[_0x1dda("0x2")](_0x1dda("0x624"))&&!o[_0x1dda("0x332")](d.bids)?_0x1dda("0xd59"):null!=d[_0x1dda("0xd43")]&&d.hasOwnProperty(_0x1dda("0xd43"))&&typeof d[_0x1dda("0xd43")]!==_0x1dda("0x177")?"bidox: number expected":null!=d[_0x1dda("0xd44")]&&d[_0x1dda("0x2")](_0x1dda("0xd44"))&&typeof d[_0x1dda("0xd44")]!==_0x1dda("0x177")?_0x1dda("0xd5a"):null!=d.bidoz&&d[_0x1dda("0x2")]("bidoz")&&typeof d[_0x1dda("0xd45")]!==_0x1dda("0x177")?_0x1dda("0xd5b"):null!=d.bidor&&d.hasOwnProperty(_0x1dda("0xd48"))&&typeof d[_0x1dda("0xd48")]!==_0x1dda("0x177")?"bidor: number expected":null!=d[_0x1dda("0xd4b")]&&d[_0x1dda("0x2")]("bidstyle")&&!o[_0x1dda("0x332")](d[_0x1dda("0xd4b")])?_0x1dda("0xd5c"):null!=d[_0x1dda("0xd46")]&&d.hasOwnProperty(_0x1dda("0xd46"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xd46")])?"bidrids: string expected":null!=d[_0x1dda("0xd49")]&&d.hasOwnProperty("bidpids")&&!o[_0x1dda("0x332")](d[_0x1dda("0xd49")])?_0x1dda("0xd5d"):null!=d.layer&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&!o.isInteger(d[_0x1dda("0xd47")])?_0x1dda("0xd5e"):null!=d[_0x1dda("0xd4a")]&&d[_0x1dda("0x2")](_0x1dda("0xd4a"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xd4a")])?"Did: string expected":null!=d.o1&&d[_0x1dda("0x2")]("o1")&&!o[_0x1dda("0x57b")](d.o1)?_0x1dda("0x595"):null!=d[_0x1dda("0x562")]&&d.hasOwnProperty("other1")&&!o[_0x1dda("0x332")](d.other1)?_0x1dda("0x596"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x9cd")][_0x1dda("0xd2e")])return d;var x=new(c[_0x1dda("0x9cd")][_0x1dda("0xd2e")]);return null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d.NA&&(x.NA=String(d.NA)),null!=d.NE&&(x.NE=String(d.NE)),null!=d.MC&&(x.MC=0|d.MC),null!=d[_0x1dda("0x3a1")]&&(x.Tid=0|d[_0x1dda("0x3a1")]),null!=d.RL&&(x.RL=String(d.RL)),null!=d[_0x1dda("0xc78")]&&(x[_0x1dda("0xc78")]=String(d[_0x1dda("0xc78")])),null!=d.BC&&(x.BC=0|d.BC),null!=d[_0x1dda("0xc7b")]&&(x[_0x1dda("0xc7b")]=0|d[_0x1dda("0xc7b")]),null!=d.FH&&(x.FH=Number(d.FH)),null!=d.RM&&(x.RM=String(d.RM)),null!=d.RMS&&(x[_0x1dda("0xc7c")]=String(d[_0x1dda("0xc7c")])),null!=d[_0x1dda("0xbbb")]&&(x[_0x1dda("0xbbb")]=String(d[_0x1dda("0xbbb")])),null!=d.RMO&&(x[_0x1dda("0xbbe")]=String(d[_0x1dda("0xbbe")])),null!=d.RS&&(x.RS=0|d.RS),null!=d.SL&&(x.SL=0|d.SL),null!=d[_0x1dda("0xbbc")]&&(x[_0x1dda("0xbbc")]=Number(d[_0x1dda("0xbbc")])),null!=d[_0x1dda("0xbbd")]&&(x[_0x1dda("0xbbd")]=Number(d[_0x1dda("0xbbd")])),null!=d.AS&&(x.AS=Number(d.AS)),null!=d[_0x1dda("0xd40")]&&(x[_0x1dda("0xd40")]=String(d[_0x1dda("0xd40")])),null!=d[_0x1dda("0xd41")]&&(x[_0x1dda("0xd41")]=0|d[_0x1dda("0xd41")]),null!=d[_0x1dda("0xd42")]&&(x.GID=0|d[_0x1dda("0xd42")]),null!=d[_0x1dda("0x624")]&&(x[_0x1dda("0x624")]=String(d[_0x1dda("0x624")])),null!=d.bidox&&(x[_0x1dda("0xd43")]=Number(d[_0x1dda("0xd43")])),null!=d[_0x1dda("0xd44")]&&(x.bidoy=Number(d[_0x1dda("0xd44")])),null!=d[_0x1dda("0xd45")]&&(x.bidoz=Number(d[_0x1dda("0xd45")])),null!=d[_0x1dda("0xd48")]&&(x[_0x1dda("0xd48")]=Number(d.bidor)),null!=d.bidstyle&&(x[_0x1dda("0xd4b")]=String(d[_0x1dda("0xd4b")])),null!=d.bidrids&&(x[_0x1dda("0xd46")]=String(d[_0x1dda("0xd46")])),null!=d[_0x1dda("0xd49")]&&(x.bidpids=String(d[_0x1dda("0xd49")])),null!=d[_0x1dda("0xd47")]&&(x[_0x1dda("0xd47")]=0|d[_0x1dda("0xd47")]),null!=d[_0x1dda("0xd4a")]&&(x.Did=String(d[_0x1dda("0xd4a")])),null!=d.o1&&(x.o1=0|d.o1),null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d[_0x1dda("0x562")])),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a={};return x[_0x1dda("0x5a5")]&&(a[_0x1dda("0x3a0")]=0,a.NA="",a.NE="",a.MC=0,a[_0x1dda("0x3a1")]=0,a.RL="",a.RLSize="",a.BC=0,a.Fnum=0,a.FH=0,a.RM="",a[_0x1dda("0xc7c")]="",a[_0x1dda("0xbbb")]="",a.RMO="",a.RS=0,a.SL=0,a.CenX=0,a[_0x1dda("0xbbd")]=0,a.AS=0,a[_0x1dda("0xd40")]="",a.PID=0,a[_0x1dda("0xd42")]=0,a[_0x1dda("0x624")]="",a[_0x1dda("0xd43")]=0,a[_0x1dda("0xd44")]=0,a.bidoz=0,a.bidor=0,a[_0x1dda("0xd4b")]="",a[_0x1dda("0xd46")]="",a[_0x1dda("0xd49")]="",a[_0x1dda("0xd47")]=0,a[_0x1dda("0xd4a")]="",a.o1=0,a[_0x1dda("0x562")]=""),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d.NA&&d.hasOwnProperty("NA")&&(a.NA=d.NA),null!=d.NE&&d.hasOwnProperty("NE")&&(a.NE=d.NE),null!=d.MC&&d[_0x1dda("0x2")]("MC")&&(a.MC=d.MC),null!=d[_0x1dda("0x3a1")]&&d.hasOwnProperty(_0x1dda("0x3a1"))&&(a.Tid=d.Tid),null!=d.RL&&d.hasOwnProperty("RL")&&(a.RL=d.RL),null!=d[_0x1dda("0xc78")]&&d[_0x1dda("0x2")](_0x1dda("0xc78"))&&(a[_0x1dda("0xc78")]=d[_0x1dda("0xc78")]),null!=d.BC&&d[_0x1dda("0x2")]("BC")&&(a.BC=d.BC),null!=d[_0x1dda("0xc7b")]&&d[_0x1dda("0x2")](_0x1dda("0xc7b"))&&(a[_0x1dda("0xc7b")]=d.Fnum),null!=d.FH&&d[_0x1dda("0x2")]("FH")&&(a.FH=d.FH),null!=d.RM&&d[_0x1dda("0x2")]("RM")&&(a.RM=d.RM),null!=d[_0x1dda("0xc7c")]&&d[_0x1dda("0x2")](_0x1dda("0xc7c"))&&(a[_0x1dda("0xc7c")]=d[_0x1dda("0xc7c")]),null!=d.RMR&&d[_0x1dda("0x2")](_0x1dda("0xbbb"))&&(a[_0x1dda("0xbbb")]=d.RMR),null!=d[_0x1dda("0xbbe")]&&d[_0x1dda("0x2")](_0x1dda("0xbbe"))&&(a.RMO=d[_0x1dda("0xbbe")]),null!=d.RS&&d.hasOwnProperty("RS")&&(a.RS=d.RS),null!=d.SL&&d[_0x1dda("0x2")]("SL")&&(a.SL=d.SL),null!=d[_0x1dda("0xbbc")]&&d.hasOwnProperty(_0x1dda("0xbbc"))&&(a[_0x1dda("0xbbc")]=d.CenX),null!=d.CenY&&d[_0x1dda("0x2")](_0x1dda("0xbbd"))&&(a[_0x1dda("0xbbd")]=d[_0x1dda("0xbbd")]),null!=d.AS&&d.hasOwnProperty("AS")&&(a.AS=d.AS),null!=d[_0x1dda("0xd40")]&&d[_0x1dda("0x2")](_0x1dda("0xd40"))&&(a[_0x1dda("0xd40")]=d[_0x1dda("0xd40")]),null!=d[_0x1dda("0xd41")]&&d[_0x1dda("0x2")](_0x1dda("0xd41"))&&(a.PID=d[_0x1dda("0xd41")]),null!=d.GID&&d.hasOwnProperty(_0x1dda("0xd42"))&&(a[_0x1dda("0xd42")]=d[_0x1dda("0xd42")]),null!=d.bids&&d[_0x1dda("0x2")]("bids")&&(a.bids=d[_0x1dda("0x624")]),null!=d[_0x1dda("0xd43")]&&d[_0x1dda("0x2")](_0x1dda("0xd43"))&&(a[_0x1dda("0xd43")]=d[_0x1dda("0xd43")]),null!=d[_0x1dda("0xd44")]&&d[_0x1dda("0x2")](_0x1dda("0xd44"))&&(a[_0x1dda("0xd44")]=d[_0x1dda("0xd44")]),null!=d[_0x1dda("0xd45")]&&d[_0x1dda("0x2")](_0x1dda("0xd45"))&&(a[_0x1dda("0xd45")]=d[_0x1dda("0xd45")]),null!=d[_0x1dda("0xd48")]&&d.hasOwnProperty("bidor")&&(a.bidor=d[_0x1dda("0xd48")]),null!=d[_0x1dda("0xd4b")]&&d[_0x1dda("0x2")](_0x1dda("0xd4b"))&&(a[_0x1dda("0xd4b")]=d.bidstyle),null!=d[_0x1dda("0xd46")]&&d[_0x1dda("0x2")](_0x1dda("0xd46"))&&(a[_0x1dda("0xd46")]=d[_0x1dda("0xd46")]),null!=d[_0x1dda("0xd49")]&&d[_0x1dda("0x2")](_0x1dda("0xd49"))&&(a.bidpids=d[_0x1dda("0xd49")]),null!=d[_0x1dda("0xd47")]&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&(a.layer=d.layer),null!=d[_0x1dda("0xd4a")]&&d.hasOwnProperty(_0x1dda("0xd4a"))&&(a[_0x1dda("0xd4a")]=d[_0x1dda("0xd4a")]),null!=d.o1&&d[_0x1dda("0x2")]("o1")&&(a.o1=d.o1),null!=d[_0x1dda("0x562")]&&d.hasOwnProperty(_0x1dda("0x562"))&&(a[_0x1dda("0x562")]=d[_0x1dda("0x562")]),a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this.constructor[_0x1dda("0x5a8")](this,d)},d.prototype.toJSON=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n[_0x1dda("0x5a9")][_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xd2f")]=function(){function d(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")].NA="",d.prototype.NE="",d.prototype[_0x1dda("0x3a1")]=0,d[_0x1dda("0x1")].MT=0,d[_0x1dda("0x1")].ST=0,d[_0x1dda("0x1")].X=0,d[_0x1dda("0x1")].Y=0,d.prototype.SL=0,d[_0x1dda("0x1")].SH=0,d[_0x1dda("0x1")][_0x1dda("0x2df")]="",d[_0x1dda("0x1")].w=0,d[_0x1dda("0x1")].h=0,d[_0x1dda("0x1")][_0x1dda("0x39f")]=0,d[_0x1dda("0x1")][_0x1dda("0xd5f")]=0,d[_0x1dda("0x1")].layer=0,d.prototype[_0x1dda("0x3a2")]=0,d[_0x1dda("0x1")].other1="",d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d._id),null!=d.NA&&d[_0x1dda("0x2")]("NA")&&x[_0x1dda("0x567")](18)[_0x1dda("0xe")](d.NA),null!=d.NE&&d[_0x1dda("0x2")]("NE")&&x[_0x1dda("0x567")](26)[_0x1dda("0xe")](d.NE),null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&x[_0x1dda("0x567")](32)[_0x1dda("0x568")](d[_0x1dda("0x3a1")]),null!=d.MT&&d.hasOwnProperty("MT")&&x[_0x1dda("0x567")](40)[_0x1dda("0x568")](d.MT),null!=d.ST&&d[_0x1dda("0x2")]("ST")&&x.uint32(48)[_0x1dda("0x568")](d.ST),null!=d.X&&d[_0x1dda("0x2")]("X")&&x[_0x1dda("0x567")](57)[_0x1dda("0x56b")](d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&x[_0x1dda("0x567")](65)[_0x1dda("0x56b")](d.Y),null!=d.SL&&d[_0x1dda("0x2")]("SL")&&x.uint32(72).int32(d.SL),null!=d.SH&&d[_0x1dda("0x2")]("SH")&&x[_0x1dda("0x567")](85).float(d.SH),null!=d.image&&d[_0x1dda("0x2")](_0x1dda("0x2df"))&&x.uint32(90)[_0x1dda("0xe")](d[_0x1dda("0x2df")]),null!=d.w&&d[_0x1dda("0x2")]("w")&&x[_0x1dda("0x567")](101)[_0x1dda("0x2f2")](d.w),null!=d.h&&d[_0x1dda("0x2")]("h")&&x[_0x1dda("0x567")](109)[_0x1dda("0x2f2")](d.h),null!=d.ipos&&d[_0x1dda("0x2")](_0x1dda("0x39f"))&&x.uint32(112)[_0x1dda("0x568")](d[_0x1dda("0x39f")]),null!=d[_0x1dda("0xd5f")]&&d[_0x1dda("0x2")]("FSId")&&x[_0x1dda("0x567")](120)[_0x1dda("0x568")](d.FSId),null!=d[_0x1dda("0xd47")]&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&x.uint32(128)[_0x1dda("0x568")](d.layer),null!=d[_0x1dda("0x3a2")]&&d[_0x1dda("0x2")](_0x1dda("0x3a2"))&&x.uint32(136)[_0x1dda("0x568")](d.Sid),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&x.uint32(146).string(d[_0x1dda("0x562")]),x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r.create(d));for(var a=void 0===x?d.len:d[_0x1dda("0x3d8")]+x,_=new(c.ESTileMap[_0x1dda("0xd2f")]);d[_0x1dda("0x3d8")]<a;){var e=d.uint32();switch(e>>>3){case 1:_[_0x1dda("0x3a0")]=d.int32();break;case 2:_.NA=d[_0x1dda("0xe")]();break;case 3:_.NE=d[_0x1dda("0xe")]();break;case 4:_[_0x1dda("0x3a1")]=d.int32();break;case 5:_.MT=d[_0x1dda("0x568")]();break;case 6:_.ST=d[_0x1dda("0x568")]();break;case 7:_.X=d.double();break;case 8:_.Y=d[_0x1dda("0x56b")]();break;case 9:_.SL=d[_0x1dda("0x568")]();break;case 10:_.SH=d.float();break;case 11:_.image=d[_0x1dda("0xe")]();break;case 12:_.w=d.float();break;case 13:_.h=d.float();break;case 14:_[_0x1dda("0x39f")]=d[_0x1dda("0x568")]();break;case 15:_.FSId=d[_0x1dda("0x568")]();break;case 16:_[_0x1dda("0xd47")]=d[_0x1dda("0x568")]();break;case 17:_[_0x1dda("0x3a2")]=d[_0x1dda("0x568")]();break;case 18:_[_0x1dda("0x562")]=d[_0x1dda("0xe")]();break;default:d[_0x1dda("0x576")](7&e)}}return _},d.decodeDelimited=function(d){return d instanceof r||(d=r(d)),this.decode(d,d.uint32())},d[_0x1dda("0x578")]=function(d){return"object"!==(typeof d===_0x1dda("0x8")?"undefined":(0,_.default)(d))||null===d?_0x1dda("0x579"):null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")]("_id")&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a0")])?_0x1dda("0x57f"):null!=d.NA&&d[_0x1dda("0x2")]("NA")&&!o[_0x1dda("0x332")](d.NA)?_0x1dda("0xd4c"):null!=d.NE&&d[_0x1dda("0x2")]("NE")&&!o.isString(d.NE)?"NE: string expected":null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")]("Tid")&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a1")])?"Tid: integer expected":null!=d.MT&&d[_0x1dda("0x2")]("MT")&&!o.isInteger(d.MT)?"MT: integer expected":null!=d.ST&&d[_0x1dda("0x2")]("ST")&&!o[_0x1dda("0x57b")](d.ST)?_0x1dda("0xd60"):null!=d.X&&d[_0x1dda("0x2")]("X")&&typeof d.X!==_0x1dda("0x177")?_0x1dda("0xd61"):null!=d.Y&&d[_0x1dda("0x2")]("Y")&&typeof d.Y!==_0x1dda("0x177")?_0x1dda("0xd62"):null!=d.SL&&d[_0x1dda("0x2")]("SL")&&!o[_0x1dda("0x57b")](d.SL)?"SL: integer expected":null!=d.SH&&d[_0x1dda("0x2")]("SH")&&"number"!=typeof d.SH?"SH: number expected":null!=d[_0x1dda("0x2df")]&&d.hasOwnProperty(_0x1dda("0x2df"))&&!o.isString(d[_0x1dda("0x2df")])?"image: string expected":null!=d.w&&d[_0x1dda("0x2")]("w")&&typeof d.w!==_0x1dda("0x177")?"w: number expected":null!=d.h&&d[_0x1dda("0x2")]("h")&&typeof d.h!==_0x1dda("0x177")?_0x1dda("0xd63"):null!=d[_0x1dda("0x39f")]&&d.hasOwnProperty(_0x1dda("0x39f"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x39f")])?"ipos: integer expected":null!=d[_0x1dda("0xd5f")]&&d[_0x1dda("0x2")]("FSId")&&!o[_0x1dda("0x57b")](d[_0x1dda("0xd5f")])?_0x1dda("0xd64"):null!=d.layer&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xd47")])?"layer: integer expected":null!=d[_0x1dda("0x3a2")]&&d.hasOwnProperty(_0x1dda("0x3a2"))&&!o[_0x1dda("0x57b")](d.Sid)?_0x1dda("0xd65"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o.isString(d[_0x1dda("0x562")])?_0x1dda("0x596"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c.ESTileMap.POISet)return d;var x=new(c[_0x1dda("0x9cd")].POISet);return null!=d._id&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d.NA&&(x.NA=String(d.NA)),null!=d.NE&&(x.NE=String(d.NE)),null!=d[_0x1dda("0x3a1")]&&(x[_0x1dda("0x3a1")]=0|d.Tid),null!=d.MT&&(x.MT=0|d.MT),null!=d.ST&&(x.ST=0|d.ST),null!=d.X&&(x.X=Number(d.X)),null!=d.Y&&(x.Y=Number(d.Y)),null!=d.SL&&(x.SL=0|d.SL),null!=d.SH&&(x.SH=Number(d.SH)),null!=d[_0x1dda("0x2df")]&&(x[_0x1dda("0x2df")]=String(d[_0x1dda("0x2df")])),null!=d.w&&(x.w=Number(d.w)),null!=d.h&&(x.h=Number(d.h)),null!=d[_0x1dda("0x39f")]&&(x[_0x1dda("0x39f")]=0|d[_0x1dda("0x39f")]),null!=d.FSId&&(x[_0x1dda("0xd5f")]=0|d.FSId),null!=d[_0x1dda("0xd47")]&&(x[_0x1dda("0xd47")]=0|d[_0x1dda("0xd47")]),null!=d[_0x1dda("0x3a2")]&&(x[_0x1dda("0x3a2")]=0|d[_0x1dda("0x3a2")]),null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d[_0x1dda("0x562")])),x},d[_0x1dda("0x285")]=d.fromObject,d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a={};return x[_0x1dda("0x5a5")]&&(a[_0x1dda("0x3a0")]=0,a.NA="",a.NE="",a[_0x1dda("0x3a1")]=0,a.MT=0,a.ST=0,a.X=0,a.Y=0,a.SL=0,a.SH=0,a[_0x1dda("0x2df")]="",a.w=0,a.h=0,a.ipos=0,a[_0x1dda("0xd5f")]=0,a[_0x1dda("0xd47")]=0,a[_0x1dda("0x3a2")]=0,a[_0x1dda("0x562")]=""),null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty("_id")&&(a[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d.NA&&d[_0x1dda("0x2")]("NA")&&(a.NA=d.NA),null!=d.NE&&d[_0x1dda("0x2")]("NE")&&(a.NE=d.NE),null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&(a.Tid=d[_0x1dda("0x3a1")]),null!=d.MT&&d.hasOwnProperty("MT")&&(a.MT=d.MT),null!=d.ST&&d[_0x1dda("0x2")]("ST")&&(a.ST=d.ST),null!=d.X&&d[_0x1dda("0x2")]("X")&&(a.X=d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&(a.Y=d.Y),null!=d.SL&&d.hasOwnProperty("SL")&&(a.SL=d.SL),null!=d.SH&&d[_0x1dda("0x2")]("SH")&&(a.SH=d.SH),null!=d[_0x1dda("0x2df")]&&d[_0x1dda("0x2")](_0x1dda("0x2df"))&&(a[_0x1dda("0x2df")]=d[_0x1dda("0x2df")]),null!=d.w&&d[_0x1dda("0x2")]("w")&&(a.w=d.w),null!=d.h&&d.hasOwnProperty("h")&&(a.h=d.h),null!=d.ipos&&d[_0x1dda("0x2")](_0x1dda("0x39f"))&&(a[_0x1dda("0x39f")]=d[_0x1dda("0x39f")]),null!=d[_0x1dda("0xd5f")]&&d[_0x1dda("0x2")](_0x1dda("0xd5f"))&&(a.FSId=d[_0x1dda("0xd5f")]),null!=d.layer&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&(a[_0x1dda("0xd47")]=d.layer),null!=d.Sid&&d.hasOwnProperty(_0x1dda("0x3a2"))&&(a.Sid=d.Sid),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&(a[_0x1dda("0x562")]=d[_0x1dda("0x562")]),a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this.constructor[_0x1dda("0x5a8")](this,d)},d[_0x1dda("0x1")].toJSON=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n[_0x1dda("0x5a9")].toJSONOptions)},d}(),i[_0x1dda("0xc5a")]=function(){function d(d){if(this.Nodes={},this[_0x1dda("0x3b6")]={},d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")].v=0,d[_0x1dda("0x1")].mtime=0,d[_0x1dda("0x1")][_0x1dda("0x551")]="",d[_0x1dda("0x1")][_0x1dda("0xd2a")]="",d.prototype[_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")].Type=0,d[_0x1dda("0x1")][_0x1dda("0xc5b")]=o.emptyObject,d.prototype.Lines=o[_0x1dda("0xd2c")],d[_0x1dda("0x1")][_0x1dda("0x88")]="",d[_0x1dda("0x1")][_0x1dda("0x562")]="",d[_0x1dda("0x1")].o1=0,d.prototype[_0x1dda("0x572")]="",d[_0x1dda("0x1")].o2=0,d[_0x1dda("0x1")].t1="",d.create=function(x){return new d(x)},d.encode=function(d,x){if(x||(x=s[_0x1dda("0x566")]()),null!=d.v&&d.hasOwnProperty("v")&&x.uint32(8).int32(d.v),null!=d.mtime&&d[_0x1dda("0x2")](_0x1dda("0x569"))&&x[_0x1dda("0x567")](16)[_0x1dda("0x568")](d.mtime),null!=d[_0x1dda("0x551")]&&d[_0x1dda("0x2")](_0x1dda("0x551"))&&x[_0x1dda("0x567")](26)[_0x1dda("0xe")](d[_0x1dda("0x551")]),null!=d[_0x1dda("0xd2a")]&&d[_0x1dda("0x2")](_0x1dda("0xd2a"))&&x.uint32(34)[_0x1dda("0xe")](d[_0x1dda("0xd2a")]),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")]("_id")&&x[_0x1dda("0x567")](40).int32(d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xd2b")]&&d[_0x1dda("0x2")](_0x1dda("0xd2b"))&&x[_0x1dda("0x567")](48).int32(d[_0x1dda("0xd2b")]),null!=d.Nodes&&d[_0x1dda("0x2")](_0x1dda("0xc5b")))for(var a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]),_=0;_<a[_0x1dda("0x0")];++_)x[_0x1dda("0x567")](58)[_0x1dda("0xd2d")]()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x9cd")].NavNodeSet[_0x1dda("0x565")](d.Nodes[a[_]],x[_0x1dda("0x567")](18).fork()).ldelim().ldelim();if(null!=d[_0x1dda("0x3b6")]&&d[_0x1dda("0x2")](_0x1dda("0x3b6")))for(a=(0,e.default)(d[_0x1dda("0x3b6")]),_=0;_<a[_0x1dda("0x0")];++_)x.uint32(66)[_0x1dda("0xd2d")]()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x9cd")][_0x1dda("0xd66")].encode(d.Lines[a[_]],x.uint32(18).fork())[_0x1dda("0xd30")]()[_0x1dda("0xd30")]();return null!=d[_0x1dda("0x88")]&&d[_0x1dda("0x2")](_0x1dda("0x88"))&&x[_0x1dda("0x567")](74)[_0x1dda("0xe")](d[_0x1dda("0x88")]),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&x.uint32(82)[_0x1dda("0xe")](d[_0x1dda("0x562")]),null!=d.o1&&d[_0x1dda("0x2")]("o1")&&x[_0x1dda("0x567")](88)[_0x1dda("0x568")](d.o1),null!=d[_0x1dda("0x572")]&&d.hasOwnProperty("other2")&&x[_0x1dda("0x567")](98)[_0x1dda("0xe")](d[_0x1dda("0x572")]),null!=d.o2&&d.hasOwnProperty("o2")&&x[_0x1dda("0x567")](104)[_0x1dda("0x568")](d.o2),null!=d.t1&&d[_0x1dda("0x2")]("t1")&&x[_0x1dda("0x567")](114)[_0x1dda("0xe")](d.t1),x},d.encodeDelimited=function(d,x){return this[_0x1dda("0x565")](d,x).ldelim()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a,_=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,e=new(c[_0x1dda("0x9cd")][_0x1dda("0xc5a")]);d[_0x1dda("0x3d8")]<_;){var t=d[_0x1dda("0x567")]();switch(t>>>3){case 1:e.v=d.int32();break;case 2:e.mtime=d[_0x1dda("0x568")]();break;case 3:e[_0x1dda("0x551")]=d[_0x1dda("0xe")]();break;case 4:e[_0x1dda("0xd2a")]=d[_0x1dda("0xe")]();break;case 5:e[_0x1dda("0x3a0")]=d[_0x1dda("0x568")]();break;case 6:e[_0x1dda("0xd2b")]=d[_0x1dda("0x568")]();break;case 7:d.skip()[_0x1dda("0x3d8")]++,e[_0x1dda("0xc5b")]===o[_0x1dda("0xd2c")]&&(e[_0x1dda("0xc5b")]={}),a=d.int32(),d[_0x1dda("0x3d8")]++,e.Nodes[a]=c[_0x1dda("0x9cd")][_0x1dda("0xd67")][_0x1dda("0x45")](d,d[_0x1dda("0x567")]());break;case 8:d[_0x1dda("0xd32")]()[_0x1dda("0x3d8")]++,e[_0x1dda("0x3b6")]===o[_0x1dda("0xd2c")]&&(e[_0x1dda("0x3b6")]={}),a=d.int32(),d[_0x1dda("0x3d8")]++,e[_0x1dda("0x3b6")][a]=c[_0x1dda("0x9cd")][_0x1dda("0xd66")][_0x1dda("0x45")](d,d[_0x1dda("0x567")]());break;case 9:e[_0x1dda("0x88")]=d[_0x1dda("0xe")]();break;case 10:e[_0x1dda("0x562")]=d[_0x1dda("0xe")]();break;case 11:e.o1=d[_0x1dda("0x568")]();break;case 12:e.other2=d[_0x1dda("0xe")]();break;case 13:e.o2=d[_0x1dda("0x568")]();break;case 14:e.t1=d[_0x1dda("0xe")]();break;default:d[_0x1dda("0x576")](7&t)}}return e},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d.uint32())},d[_0x1dda("0x578")]=function(d){if((void 0===d?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d)return _0x1dda("0x579");if(null!=d.v&&d[_0x1dda("0x2")]("v")&&!o[_0x1dda("0x57b")](d.v))return _0x1dda("0x57a");if(null!=d[_0x1dda("0x569")]&&d[_0x1dda("0x2")](_0x1dda("0x569"))&&!o.isInteger(d[_0x1dda("0x569")]))return _0x1dda("0x57c");if(null!=d[_0x1dda("0x551")]&&d.hasOwnProperty(_0x1dda("0x551"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x551")]))return _0x1dda("0x57e");if(null!=d[_0x1dda("0xd2a")]&&d.hasOwnProperty("cname")&&!o[_0x1dda("0x332")](d[_0x1dda("0xd2a")]))return"cname: string expected";if(null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a0")]))return _0x1dda("0x57f");if(null!=d.Type&&d[_0x1dda("0x2")](_0x1dda("0xd2b"))&&!o.isInteger(d.Type))return"Type: integer expected";if(null!=d.Nodes&&d[_0x1dda("0x2")](_0x1dda("0xc5b"))){if(!o.isObject(d[_0x1dda("0xc5b")]))return _0x1dda("0xd68");for(var x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]),a=0;a<x[_0x1dda("0x0")];++a){if(!o[_0x1dda("0xd38")][_0x1dda("0x29")](x[a]))return _0x1dda("0xd69");if(t=c[_0x1dda("0x9cd")].NavNodeSet[_0x1dda("0x578")](d[_0x1dda("0xc5b")][x[a]]))return _0x1dda("0xd6a")+t}}if(null!=d[_0x1dda("0x3b6")]&&d[_0x1dda("0x2")]("Lines")){if(!o[_0x1dda("0x17")](d[_0x1dda("0x3b6")]))return _0x1dda("0xd6b");for(x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x3b6")]),a=0;a<x.length;++a){if(!o.key32Re.test(x[a]))return"Lines: integer key{k:int32} expected";var t;if(t=c[_0x1dda("0x9cd")][_0x1dda("0xd66")].verify(d.Lines[x[a]]))return _0x1dda("0xd6c")+t}}return null!=d[_0x1dda("0x88")]&&d[_0x1dda("0x2")](_0x1dda("0x88"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x88")])?_0x1dda("0xd36"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x562")])?_0x1dda("0x596"):null!=d.o1&&d[_0x1dda("0x2")]("o1")&&!o[_0x1dda("0x57b")](d.o1)?"o1: integer expected":null!=d[_0x1dda("0x572")]&&d[_0x1dda("0x2")](_0x1dda("0x572"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x572")])?"other2: string expected":null!=d.o2&&d[_0x1dda("0x2")]("o2")&&!o[_0x1dda("0x57b")](d.o2)?_0x1dda("0xd3c"):null!=d.t1&&d[_0x1dda("0x2")]("t1")&&!o[_0x1dda("0x332")](d.t1)?_0x1dda("0xd3d"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x9cd")][_0x1dda("0xc5a")])return d;var x=new(c.ESTileMap[_0x1dda("0xc5a")]);if(null!=d.v&&(x.v=0|d.v),null!=d[_0x1dda("0x569")]&&(x[_0x1dda("0x569")]=0|d[_0x1dda("0x569")]),null!=d[_0x1dda("0x551")]&&(x.Hash=String(d[_0x1dda("0x551")])),null!=d.cname&&(x[_0x1dda("0xd2a")]=String(d[_0x1dda("0xd2a")])),null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xd2b")]&&(x[_0x1dda("0xd2b")]=0|d.Type),d.Nodes){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0xc5b")])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xd6d"));x[_0x1dda("0xc5b")]={};for(var a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]),t=0;t<a.length;++t){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0xc5b")][a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xd6d"));x[_0x1dda("0xc5b")][a[t]]=c[_0x1dda("0x9cd")][_0x1dda("0xd67")].fromObject(d[_0x1dda("0xc5b")][a[t]])}}if(d[_0x1dda("0x3b6")]){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0x3b6")])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xd6e"));for(x[_0x1dda("0x3b6")]={},a=(0,e.default)(d[_0x1dda("0x3b6")]),t=0;t<a.length;++t){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0x3b6")][a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xd6e"));x[_0x1dda("0x3b6")][a[t]]=c[_0x1dda("0x9cd")][_0x1dda("0xd66")].fromObject(d[_0x1dda("0x3b6")][a[t]])}}return null!=d[_0x1dda("0x88")]&&(x[_0x1dda("0x88")]=String(d[_0x1dda("0x88")])),null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d[_0x1dda("0x562")])),null!=d.o1&&(x.o1=0|d.o1),null!=d.other2&&(x[_0x1dda("0x572")]=String(d[_0x1dda("0x572")])),null!=d.o2&&(x.o2=0|d.o2),null!=d.t1&&(x.t1=String(d.t1)),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a,_={};if((x.objects||x[_0x1dda("0x5a5")])&&(_.Nodes={},_[_0x1dda("0x3b6")]={}),x.defaults&&(_.v=0,_.mtime=0,_[_0x1dda("0x551")]="",_[_0x1dda("0xd2a")]="",_._id=0,_[_0x1dda("0xd2b")]=0,_[_0x1dda("0x88")]="",_[_0x1dda("0x562")]="",_.o1=0,_.other2="",_.o2=0,_.t1=""),null!=d.v&&d.hasOwnProperty("v")&&(_.v=d.v),null!=d[_0x1dda("0x569")]&&d[_0x1dda("0x2")]("mtime")&&(_[_0x1dda("0x569")]=d[_0x1dda("0x569")]),null!=d.Hash&&d[_0x1dda("0x2")]("Hash")&&(_[_0x1dda("0x551")]=d[_0x1dda("0x551")]),null!=d.cname&&d.hasOwnProperty(_0x1dda("0xd2a"))&&(_[_0x1dda("0xd2a")]=d[_0x1dda("0xd2a")]),null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty(_0x1dda("0x3a0"))&&(_[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xd2b")]&&d[_0x1dda("0x2")]("Type")&&(_[_0x1dda("0xd2b")]=d[_0x1dda("0xd2b")]),d.Nodes&&(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]))[_0x1dda("0x0")]){_[_0x1dda("0xc5b")]={};for(var t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0xc5b")][a[t]]=c.ESTileMap[_0x1dda("0xd67")][_0x1dda("0x5a8")](d[_0x1dda("0xc5b")][a[t]],x)}if(d.Lines&&(a=(0,e.default)(d[_0x1dda("0x3b6")]))[_0x1dda("0x0")])for(_[_0x1dda("0x3b6")]={},t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0x3b6")][a[t]]=c[_0x1dda("0x9cd")].NavLineSet.toObject(d.Lines[a[t]],x);return null!=d[_0x1dda("0x88")]&&d.hasOwnProperty(_0x1dda("0x88"))&&(_[_0x1dda("0x88")]=d[_0x1dda("0x88")]),null!=d.other1&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&(_[_0x1dda("0x562")]=d[_0x1dda("0x562")]),null!=d.o1&&d[_0x1dda("0x2")]("o1")&&(_.o1=d.o1),null!=d[_0x1dda("0x572")]&&d.hasOwnProperty(_0x1dda("0x572"))&&(_.other2=d[_0x1dda("0x572")]),null!=d.o2&&d[_0x1dda("0x2")]("o2")&&(_.o2=d.o2),null!=d.t1&&d.hasOwnProperty("t1")&&(_.t1=d.t1),_},d.prototype[_0x1dda("0x5a8")]=function(d){return this.constructor.toObject(this,d)},d.prototype.toJSON=function(){return this[_0x1dda("0x7ca")].toObject(this,n[_0x1dda("0x5a9")].toJSONOptions)},d}(),i.NavNodeSet=function(){function d(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")].tid=0,d.prototype.H=0,d[_0x1dda("0x1")].X=0,d[_0x1dda("0x1")].Y=0,d[_0x1dda("0x1")].sid=0,d[_0x1dda("0x1")][_0x1dda("0xb18")]=0,d[_0x1dda("0x1")][_0x1dda("0xd47")]=0,d[_0x1dda("0x1")][_0x1dda("0x562")]="",d[_0x1dda("0x1")].Z=0,d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty("_id")&&x[_0x1dda("0x567")](8).int32(d[_0x1dda("0x3a0")]),null!=d.tid&&d[_0x1dda("0x2")]("tid")&&x[_0x1dda("0x567")](16)[_0x1dda("0x568")](d[_0x1dda("0x43")]),null!=d.H&&d[_0x1dda("0x2")]("H")&&x[_0x1dda("0x567")](25)[_0x1dda("0x56b")](d.H),null!=d.X&&d[_0x1dda("0x2")]("X")&&x[_0x1dda("0x567")](33)[_0x1dda("0x56b")](d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&x[_0x1dda("0x567")](41).double(d.Y),null!=d[_0x1dda("0xd6f")]&&d.hasOwnProperty(_0x1dda("0xd6f"))&&x[_0x1dda("0x567")](48).int32(d.sid),null!=d[_0x1dda("0xb18")]&&d.hasOwnProperty(_0x1dda("0xb18"))&&x[_0x1dda("0x567")](56)[_0x1dda("0x568")](d[_0x1dda("0xb18")]),null!=d[_0x1dda("0xd47")]&&d.hasOwnProperty("layer")&&x[_0x1dda("0x567")](64)[_0x1dda("0x568")](d[_0x1dda("0xd47")]),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&x[_0x1dda("0x567")](74)[_0x1dda("0xe")](d[_0x1dda("0x562")]),null!=d.Z&&d[_0x1dda("0x2")]("Z")&&x[_0x1dda("0x567")](81).double(d.Z),x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r.create(d));for(var a=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,_=new(c[_0x1dda("0x9cd")][_0x1dda("0xd67")]);d[_0x1dda("0x3d8")]<a;){var e=d.uint32();switch(e>>>3){case 1:_._id=d[_0x1dda("0x568")]();break;case 2:_.tid=d[_0x1dda("0x568")]();break;case 3:_.H=d[_0x1dda("0x56b")]();break;case 4:_.X=d.double();break;case 5:_.Y=d.double();break;case 6:_[_0x1dda("0xd6f")]=d[_0x1dda("0x568")]();break;case 7:_[_0x1dda("0xb18")]=d.int32();break;case 8:_.layer=d[_0x1dda("0x568")]();break;case 9:_[_0x1dda("0x562")]=d[_0x1dda("0xe")]();break;case 10:_.Z=d[_0x1dda("0x56b")]();break;default:d[_0x1dda("0x576")](7&e)}}return _},d.decodeDelimited=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d.verify=function(d){return(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d?_0x1dda("0x579"):null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d._id)?_0x1dda("0x57f"):null!=d.tid&&d[_0x1dda("0x2")]("tid")&&!o[_0x1dda("0x57b")](d[_0x1dda("0x43")])?_0x1dda("0x580"):null!=d.H&&d[_0x1dda("0x2")]("H")&&"number"!=typeof d.H?_0x1dda("0xd70"):null!=d.X&&d[_0x1dda("0x2")]("X")&&typeof d.X!==_0x1dda("0x177")?"X: number expected":null!=d.Y&&d[_0x1dda("0x2")]("Y")&&typeof d.Y!==_0x1dda("0x177")?_0x1dda("0xd62"):null!=d[_0x1dda("0xd6f")]&&d[_0x1dda("0x2")]("sid")&&!o.isInteger(d[_0x1dda("0xd6f")])?_0x1dda("0xd71"):null!=d[_0x1dda("0xb18")]&&d[_0x1dda("0x2")]("gid")&&!o[_0x1dda("0x57b")](d[_0x1dda("0xb18")])?_0x1dda("0xd72"):null!=d[_0x1dda("0xd47")]&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&!o.isInteger(d[_0x1dda("0xd47")])?_0x1dda("0xd5e"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x562")])?_0x1dda("0x596"):null!=d.Z&&d[_0x1dda("0x2")]("Z")&&typeof d.Z!==_0x1dda("0x177")?_0x1dda("0xd73"):null},d.fromObject=function(d){if(d instanceof c[_0x1dda("0x9cd")][_0x1dda("0xd67")])return d;var x=new(c[_0x1dda("0x9cd")][_0x1dda("0xd67")]);return null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d.tid&&(x[_0x1dda("0x43")]=0|d[_0x1dda("0x43")]),null!=d.H&&(x.H=Number(d.H)),null!=d.X&&(x.X=Number(d.X)),null!=d.Y&&(x.Y=Number(d.Y)),null!=d[_0x1dda("0xd6f")]&&(x[_0x1dda("0xd6f")]=0|d[_0x1dda("0xd6f")]),null!=d.gid&&(x.gid=0|d[_0x1dda("0xb18")]),null!=d[_0x1dda("0xd47")]&&(x[_0x1dda("0xd47")]=0|d[_0x1dda("0xd47")]),null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d[_0x1dda("0x562")])),null!=d.Z&&(x.Z=Number(d.Z)),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a={};return x[_0x1dda("0x5a5")]&&(a._id=0,a[_0x1dda("0x43")]=0,a.H=0,a.X=0,a.Y=0,a[_0x1dda("0xd6f")]=0,a[_0x1dda("0xb18")]=0,a.layer=0,a.other1="",a.Z=0),null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty(_0x1dda("0x3a0"))&&(a._id=d._id),null!=d[_0x1dda("0x43")]&&d[_0x1dda("0x2")](_0x1dda("0x43"))&&(a.tid=d.tid),null!=d.H&&d.hasOwnProperty("H")&&(a.H=d.H),null!=d.X&&d.hasOwnProperty("X")&&(a.X=d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&(a.Y=d.Y),null!=d[_0x1dda("0xd6f")]&&d.hasOwnProperty(_0x1dda("0xd6f"))&&(a[_0x1dda("0xd6f")]=d.sid),null!=d[_0x1dda("0xb18")]&&d[_0x1dda("0x2")](_0x1dda("0xb18"))&&(a[_0x1dda("0xb18")]=d.gid),null!=d[_0x1dda("0xd47")]&&d.hasOwnProperty(_0x1dda("0xd47"))&&(a[_0x1dda("0xd47")]=d[_0x1dda("0xd47")]),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&(a[_0x1dda("0x562")]=d[_0x1dda("0x562")]),null!=d.Z&&d[_0x1dda("0x2")]("Z")&&(a.Z=d.Z),a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,d)},d.prototype.toJSON=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n[_0x1dda("0x5a9")].toJSONOptions)},d}(),i[_0x1dda("0xd66")]=function(){function d(d){if(d)for(var x=(0,e.default)(d),a=0;a<x.length;++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")].na="",d.prototype[_0x1dda("0xd6f")]=0,d[_0x1dda("0x1")][_0x1dda("0x573")]=0,d[_0x1dda("0x1")][_0x1dda("0x3c3")]="",d.prototype[_0x1dda("0x3c2")]=0,d[_0x1dda("0x1")][_0x1dda("0x64b")]=0,d[_0x1dda("0x1")].dir="",d[_0x1dda("0x1")][_0x1dda("0xd74")]=0,d[_0x1dda("0x1")][_0x1dda("0x120")]=0,d.prototype[_0x1dda("0xd47")]=0,d[_0x1dda("0x1")].other1="",d.create=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){return x||(x=s.create()),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")]("_id")&&x.uint32(8)[_0x1dda("0x568")](d[_0x1dda("0x3a0")]),null!=d.na&&d[_0x1dda("0x2")]("na")&&x[_0x1dda("0x567")](18)[_0x1dda("0xe")](d.na),null!=d.sid&&d.hasOwnProperty(_0x1dda("0xd6f"))&&x[_0x1dda("0x567")](24).int32(d[_0x1dda("0xd6f")]),null!=d[_0x1dda("0x573")]&&d[_0x1dda("0x2")](_0x1dda("0x573"))&&x[_0x1dda("0x567")](32)[_0x1dda("0x568")](d[_0x1dda("0x573")]),null!=d[_0x1dda("0x3c3")]&&d[_0x1dda("0x2")](_0x1dda("0x3c3"))&&x.uint32(42)[_0x1dda("0xe")](d.outline),null!=d[_0x1dda("0x3c2")]&&d[_0x1dda("0x2")](_0x1dda("0x3c2"))&&x[_0x1dda("0x567")](48)[_0x1dda("0x568")](d[_0x1dda("0x3c2")]),null!=d[_0x1dda("0x64b")]&&d.hasOwnProperty(_0x1dda("0x64b"))&&x[_0x1dda("0x567")](57)[_0x1dda("0x56b")](d[_0x1dda("0x64b")]),null!=d[_0x1dda("0x898")]&&d[_0x1dda("0x2")](_0x1dda("0x898"))&&x[_0x1dda("0x567")](66)[_0x1dda("0xe")](d.dir),null!=d.bstair&&d[_0x1dda("0x2")](_0x1dda("0xd74"))&&x.uint32(72).int32(d.bstair),null!=d.style&&d.hasOwnProperty(_0x1dda("0x120"))&&x[_0x1dda("0x567")](80)[_0x1dda("0x568")](d[_0x1dda("0x120")]),null!=d[_0x1dda("0xd47")]&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&x[_0x1dda("0x567")](88).int32(d.layer),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&x[_0x1dda("0x567")](98)[_0x1dda("0xe")](d.other1),x},d[_0x1dda("0xd31")]=function(d,x){return this.encode(d,x).ldelim()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r.create(d));for(var a=void 0===x?d.len:d[_0x1dda("0x3d8")]+x,_=new(c.ESTileMap[_0x1dda("0xd66")]);d[_0x1dda("0x3d8")]<a;){var e=d[_0x1dda("0x567")]();switch(e>>>3){case 1:_._id=d[_0x1dda("0x568")]();break;case 2:_.na=d[_0x1dda("0xe")]();break;case 3:_[_0x1dda("0xd6f")]=d[_0x1dda("0x568")]();break;case 4:_[_0x1dda("0x573")]=d[_0x1dda("0x568")]();break;case 5:_[_0x1dda("0x3c3")]=d[_0x1dda("0xe")]();break;case 6:_.rank=d[_0x1dda("0x568")]();break;case 7:_[_0x1dda("0x64b")]=d[_0x1dda("0x56b")]();break;case 8:_[_0x1dda("0x898")]=d[_0x1dda("0xe")]();break;case 9:_[_0x1dda("0xd74")]=d[_0x1dda("0x568")]();break;case 10:_[_0x1dda("0x120")]=d[_0x1dda("0x568")]();break;case 11:_[_0x1dda("0xd47")]=d[_0x1dda("0x568")]();break;case 12:_[_0x1dda("0x562")]=d.string();break;default:d[_0x1dda("0x576")](7&e)}}return _},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){return"object"!==(void 0===d?"undefined":(0,_[_0x1dda("0xd")])(d))||null===d?_0x1dda("0x579"):null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d._id)?_0x1dda("0x57f"):null!=d.na&&d[_0x1dda("0x2")]("na")&&!o[_0x1dda("0x332")](d.na)?_0x1dda("0xd75"):null!=d[_0x1dda("0xd6f")]&&d[_0x1dda("0x2")]("sid")&&!o[_0x1dda("0x57b")](d.sid)?"sid: integer expected":null!=d[_0x1dda("0x573")]&&d.hasOwnProperty(_0x1dda("0x573"))&&!o[_0x1dda("0x57b")](d.eid)?_0x1dda("0xd76"):null!=d[_0x1dda("0x3c3")]&&d[_0x1dda("0x2")](_0x1dda("0x3c3"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x3c3")])?_0x1dda("0xd77"):null!=d.rank&&d.hasOwnProperty(_0x1dda("0x3c2"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3c2")])?_0x1dda("0xd78"):null!=d[_0x1dda("0x64b")]&&d.hasOwnProperty(_0x1dda("0x64b"))&&"number"!=typeof d[_0x1dda("0x64b")]?_0x1dda("0xd79"):null!=d.dir&&d[_0x1dda("0x2")](_0x1dda("0x898"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x898")])?"dir: string expected":null!=d[_0x1dda("0xd74")]&&d[_0x1dda("0x2")]("bstair")&&!o.isInteger(d[_0x1dda("0xd74")])?_0x1dda("0xd7a"):null!=d[_0x1dda("0x120")]&&d[_0x1dda("0x2")](_0x1dda("0x120"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x120")])?_0x1dda("0xd7b"):null!=d[_0x1dda("0xd47")]&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xd47")])?_0x1dda("0xd5e"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o[_0x1dda("0x332")](d.other1)?"other1: string expected":null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x9cd")][_0x1dda("0xd66")])return d;var x=new(c[_0x1dda("0x9cd")][_0x1dda("0xd66")]);return null!=d._id&&(x[_0x1dda("0x3a0")]=0|d._id),null!=d.na&&(x.na=String(d.na)),null!=d[_0x1dda("0xd6f")]&&(x[_0x1dda("0xd6f")]=0|d[_0x1dda("0xd6f")]),null!=d[_0x1dda("0x573")]&&(x[_0x1dda("0x573")]=0|d[_0x1dda("0x573")]),null!=d[_0x1dda("0x3c3")]&&(x[_0x1dda("0x3c3")]=String(d[_0x1dda("0x3c3")])),null!=d[_0x1dda("0x3c2")]&&(x.rank=0|d[_0x1dda("0x3c2")]),null!=d[_0x1dda("0x64b")]&&(x.dis=Number(d[_0x1dda("0x64b")])),null!=d[_0x1dda("0x898")]&&(x.dir=String(d[_0x1dda("0x898")])),null!=d[_0x1dda("0xd74")]&&(x[_0x1dda("0xd74")]=0|d[_0x1dda("0xd74")]),null!=d[_0x1dda("0x120")]&&(x[_0x1dda("0x120")]=0|d[_0x1dda("0x120")]),null!=d.layer&&(x.layer=0|d[_0x1dda("0xd47")]),null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d.other1)),x},d.from=d[_0x1dda("0x5a0")],d.toObject=function(d,x){x||(x={});var a={};return x.defaults&&(a[_0x1dda("0x3a0")]=0,a.na="",a[_0x1dda("0xd6f")]=0,a[_0x1dda("0x573")]=0,a[_0x1dda("0x3c3")]="",a[_0x1dda("0x3c2")]=0,a[_0x1dda("0x64b")]=0,a[_0x1dda("0x898")]="",a[_0x1dda("0xd74")]=0,a[_0x1dda("0x120")]=0,a.layer=0,a[_0x1dda("0x562")]=""),null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d.na&&d[_0x1dda("0x2")]("na")&&(a.na=d.na),null!=d[_0x1dda("0xd6f")]&&d[_0x1dda("0x2")](_0x1dda("0xd6f"))&&(a[_0x1dda("0xd6f")]=d[_0x1dda("0xd6f")]),null!=d[_0x1dda("0x573")]&&d[_0x1dda("0x2")](_0x1dda("0x573"))&&(a[_0x1dda("0x573")]=d[_0x1dda("0x573")]),null!=d.outline&&d.hasOwnProperty(_0x1dda("0x3c3"))&&(a[_0x1dda("0x3c3")]=d[_0x1dda("0x3c3")]),null!=d[_0x1dda("0x3c2")]&&d[_0x1dda("0x2")](_0x1dda("0x3c2"))&&(a[_0x1dda("0x3c2")]=d[_0x1dda("0x3c2")]),null!=d[_0x1dda("0x64b")]&&d[_0x1dda("0x2")](_0x1dda("0x64b"))&&(a[_0x1dda("0x64b")]=d[_0x1dda("0x64b")]),null!=d[_0x1dda("0x898")]&&d.hasOwnProperty(_0x1dda("0x898"))&&(a[_0x1dda("0x898")]=d[_0x1dda("0x898")]),null!=d[_0x1dda("0xd74")]&&d.hasOwnProperty(_0x1dda("0xd74"))&&(a[_0x1dda("0xd74")]=d[_0x1dda("0xd74")]),null!=d[_0x1dda("0x120")]&&d[_0x1dda("0x2")](_0x1dda("0x120"))&&(a[_0x1dda("0x120")]=d[_0x1dda("0x120")]),null!=d.layer&&d[_0x1dda("0x2")](_0x1dda("0xd47"))&&(a[_0x1dda("0xd47")]=d[_0x1dda("0xd47")]),null!=d[_0x1dda("0x562")]&&d.hasOwnProperty(_0x1dda("0x562"))&&(a[_0x1dda("0x562")]=d[_0x1dda("0x562")]),a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")].toObject(this,d)},d[_0x1dda("0x1")][_0x1dda("0x5a7")]=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n[_0x1dda("0x5a9")].toJSONOptions)},d}(),i),d[_0x1dda("0x7")]=c},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0}),x[_0x1dda("0xbae")]=void 0;var _=p(a(7)),e=p(a(13)),t=p(a(8)),i=p(a(0)),n=p(a(1)),r=p(a(151)),s=a(155),o=a(73),c=a(152),l=a(26),f=p(a(23)),u=a(24),h=p(a(33)),g=a(78),b=a(153),v=a(50);function p(d){return d&&d.__esModule?d:{default:d}}var m=a(320),A=_0x1dda("0x19a"),C=null,I=null,y=0,E=function(){function d(x){(0,i[_0x1dda("0xd")])(this,d),this[_0x1dda("0x386")]=x,this[_0x1dda("0x42")]=x.map,this[_0x1dda("0xd7c")]={},this[_0x1dda("0xd7d")]=this[_0x1dda("0x42")][_0x1dda("0x35")],this.buildingIDs=[],this[_0x1dda("0xbb4")]=!0,this[_0x1dda("0xa05")]={},this[_0x1dda("0xd7e")]={},this.map[_0x1dda("0x35")][_0x1dda("0x1cc")]?this.filterSingleMesh=!1:"low"!=this[_0x1dda("0x42")].options[_0x1dda("0x376")]&&(this[_0x1dda("0xbb4")]=!1),(0,b[_0x1dda("0xc1e")])(m.ESMap[_0x1dda("0xd7f")],[_0x1dda("0xc0"),_0x1dda("0xc3"),_0x1dda("0xc20"),"bzI=",_0x1dda("0xc22"),"dG9rZW4=",_0x1dda("0xbe"),_0x1dda("0xd80"),_0x1dda("0xc1")])}var x;return(0,n[_0x1dda("0xd")])(d,[{key:_0x1dda("0xc2d"),value:function(d){return d===_0x1dda("0xd81")?m[_0x1dda("0x33")].ESMapSet:null}},{key:_0x1dda("0xd82"),value:function(d){var x=d[_0x1dda("0x12d")],a=d[_0x1dda("0x522")],_=d[_0x1dda("0x123")],e=this[_0x1dda("0xd7e")][x];if(!e)return!0;var t=e.strategy,i=e.data;if("include"==t){if(!i[_])return!1;var n=!1;for(var r in i[_]){var s=i[_][r];if(esmap[_0x1dda("0x86")][_0x1dda("0x39e")](a,s)){n=!0;break}}return n}}},{key:"addFilter",value:function(d){d[_0x1dda("0x9f")]==_0x1dda("0x52")&&(this[_0x1dda("0xd7e")][d.bid]=d)}},{key:"getOutLineList",value:function(d){var x=new Array;if(null!=d&&d[_0x1dda("0x0")]>10)for(var a=d[_0x1dda("0x2a")]("&&"),_=0;_<a[_0x1dda("0x0")];_++){var e=a[_][_0x1dda("0xaf")]("&");e>0&&(a[_]=a[_][_0x1dda("0x7b")](0,e)),a[_][_0x1dda("0x0")]>10&&x[_0x1dda("0x10")](a[_])}return x}},{key:_0x1dda("0xa9e"),value:function(){}},{key:"queryFloor",value:function(d,x,a,_){var e=this[_0x1dda("0xd83")](x,d);esmap[_0x1dda("0x33")][_0x1dda("0xa9e")]&&this[_0x1dda("0xa9e")](e),a(e)}},{key:_0x1dda("0xd84"),value:function(d){return!(d>esmap.maxV||d<esmap[_0x1dda("0xd85")])}},{key:"convertShowLevel",value:function(d,x){if(d||(d=23),this[_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")])return d;if(d>=23)return 11;var a=x[_0x1dda("0xd86")][d]*x[_0x1dda("0xd87")];return this[_0x1dda("0x42")][_0x1dda("0x19f")].getZoomLevelByDistance(a)}},{key:_0x1dda("0xbba"),value:function(d){var x=this,a=this[_0x1dda("0x42")][_0x1dda("0xb3")],_=d[_0x1dda("0xbd4")],e=new(THREE[_0x1dda("0x11c")])(1,1.5,1);if(d[_0x1dda("0x1d7")]){var t=d[_0x1dda("0x1d7")][_0x1dda("0x2a")](",");e=new THREE.Vector3(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}if(d.rotate)var i=Math.PI/180,n=d[_0x1dda("0xd1f")][_0x1dda("0x2a")](","),r=new(THREE[_0x1dda("0x20a")])(parseFloat(n[0])*i,parseFloat(n[1])*i,parseFloat(n[2])*i);var s=new THREE.Vector3(d.x,d.y,0),o=new THREE.Vector3(-d[_0x1dda("0xbbc")]-a[_0x1dda("0x2a8")],0,d[_0x1dda("0xbbd")]-a[_0x1dda("0x2a9")]);if(d[_0x1dda("0x16d")]){var c=d[_0x1dda("0x16d")].split(",");o.x+=parseFloat(c[0]),o.y+=parseFloat(c[1]),o.z+=parseFloat(c[2]),s.x-=parseFloat(c[0]),s.z+=parseFloat(c[1]),s.y+=parseFloat(c[2])}var l={id:d[_0x1dda("0x620")],name:d[_0x1dda("0xfc")],fnum:d[_0x1dda("0xbd4")],rotation:r,position:o,scale:e,rotate:d[_0x1dda("0xd1f")]};x[_0x1dda("0xbb3")][d[_0x1dda("0xc7f")]]||(x.singleMesheDatas[d[_0x1dda("0xc7f")]]={}),x[_0x1dda("0xbb3")][d[_0x1dda("0xc7f")]][_]||(x[_0x1dda("0xbb3")][d[_0x1dda("0xc7f")]][_]=[]),x[_0x1dda("0xbb3")][d[_0x1dda("0xc7f")]][_].push(l)}},{key:_0x1dda("0xd88"),value:function(d,x){return new(THREE[_0x1dda("0x11c")])(-d.x-x[_0x1dda("0xa17")][_0x1dda("0xbca")],0,d.y-x[_0x1dda("0xa17")].DefaultCenY)}},{key:_0x1dda("0xd89"),value:function(d,x){var a=this[_0x1dda("0xd88")](d,x);return this.map.coordThreeToMap(a)}},{key:"_convertToSceneFloor",value:function(d,x){var a=x.sourceData[_0x1dda("0x12d")],_=d[_0x1dda("0xbd4")],e=this[_0x1dda("0x42")][_0x1dda("0x199")],t=this[_0x1dda("0x42")][_0x1dda("0x35")],i=this.filterSingleMesh,n=this[_0x1dda("0x42")].options[_0x1dda("0xa4")],r=this,s={maxx:0,minx:1/0,maxy:0,miny:1/0},o=[],c=[],l=[],h=[],g=[],b=this[_0x1dda("0xd8a")](d[_0x1dda("0xd40")]),v=x.center.x,p=x[_0x1dda("0x122")].y;x.options[_0x1dda("0xc93")]&&(v=x[_0x1dda("0x35")][_0x1dda("0xc93")].x,p=x[_0x1dda("0x35")].dataCenter.y);var m=[],C=(this.map[_0x1dda("0xb3")],x[_0x1dda("0xa17")][_0x1dda("0xbca")],x[_0x1dda("0xa17")][_0x1dda("0xc96")],{x:0,y:0});if(this[_0x1dda("0x42")][_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]){var I=this[_0x1dda("0x42")][_0x1dda("0x122")],y=this[_0x1dda("0x42")].transformCoord({from:A,to:e,coord:{x:v,y:p}});C={x:I.x-y.x,y:y.y-I.y}}x[_0x1dda("0x16d")]=C;for(var E=0;E<b[_0x1dda("0x0")];E++){var w=[],T=this.convertIndoorGeo2Geometry_(b[E],0,0),k=T[_0x1dda("0x121")][_0x1dda("0x42")]((function(d){return{x:d.x+C.x,y:d.y+C.y}}));for(var S in T[_0x1dda("0x502")]){var M=T[_0x1dda("0x502")][S][_0x1dda("0x42")]((function(d){return{x:d.x+C.x,y:d.y+C.y}}));w.push(M)}T[_0x1dda("0x121")]=k,T[_0x1dda("0x502")]=w,o[_0x1dda("0x10")](T)}x.floorEdges[_]=s,o.forEach((function(d){d.points[_0x1dda("0xd1")]((function(d){d.y<s[_0x1dda("0xf1")]&&(s[_0x1dda("0xf1")]=d.y),d.y>s.maxy&&(s[_0x1dda("0xed")]=d.y),-d.x<s[_0x1dda("0xf0")]&&(s[_0x1dda("0xf0")]=-d.x),-d.x>s[_0x1dda("0xec")]&&(s[_0x1dda("0xec")]=-d.x)}))})),d[_0x1dda("0xd40")]=null;var R=d[_0x1dda("0xd29")],L=0;for(var D in R){var H=!1,P=R[D];x._allRoomList&&(x[_0x1dda("0xbd5")][P[_0x1dda("0x3a0")]]={name:P[_0x1dda("0xfc")],model:P.RM,fnum:d[_0x1dda("0xbd4")]});var O={x:P.CenX,y:P[_0x1dda("0xbbd")]};if(this[_0x1dda("0xd82")]({bid:a,coord:{x:P.CenX+C.x,y:P[_0x1dda("0xbbd")]+C.y},fnum:_,id:P._id})){var B=this[_0x1dda("0xd8b")](P[_0x1dda("0xd40")],0,0);B[_0x1dda("0xbd4")]=_,B[_0x1dda("0xd8c")]=!1,P[_0x1dda("0xd40")][_0x1dda("0xaf")](_0x1dda("0xd8d"))>-1&&(B[_0x1dda("0xd8c")]=!0),B.top=P.BC>>1||1,B.oid=P[_0x1dda("0x3a0")],B[_0x1dda("0xcf5")]=P.RS,B.FC=P.FC||null,B[_0x1dda("0xb18")]=P.ShopID,B[_0x1dda("0xd8e")]=P.RC||"",B[_0x1dda("0xd8f")]=B[_0x1dda("0x121")],B[_0x1dda("0x640")]=null,B[_0x1dda("0xd90")]=B.holes;var F=B[_0x1dda("0x121")][_0x1dda("0x42")]((function(d){return{x:d.x+C.x,y:d.y+C.y}}));B[_0x1dda("0x121")]=F,this[_0x1dda("0x386")][_0x1dda("0x646")][P[_0x1dda("0x3a0")]]=[B[_0x1dda("0x121")]];var N=[];for(var z in B[_0x1dda("0x502")]){var j=B[_0x1dda("0x502")][z].map((function(d){return{x:d.x+C.x,y:d.y+C.y}}));N[_0x1dda("0x10")](j)}B[_0x1dda("0xbbc")]=O.x-C.x,B[_0x1dda("0xbbd")]=O.y+C.y,B[_0x1dda("0xcf2")]=-1,B[_0x1dda("0xc7f")]=P.RM,B.RModel&&(i&&B[_0x1dda("0xc7f")][_0x1dda("0xaf")]("__singlemesh")>=0?H=!0:(L++,x[_0x1dda("0x22c")][_0x1dda("0x392")][_0x1dda("0x393")]++)),B[_0x1dda("0x3af")]=P.Tid||P[_0x1dda("0x3af")]||0,B[_0x1dda("0x3ee")]=1&P.BC||0;var U=B[_0x1dda("0x3ee")]||1==t.editMode;r.buildingIDs.indexOf(a)>=0&&(U=B[_0x1dda("0x3ee")]=P.BC&&1&P.BC),B[_0x1dda("0xd91")]=P.FS||0,B.name=n?this[_0x1dda("0xd92")](P[_0x1dda("0xfc")],n):P[_0x1dda("0xfc")],P[_0x1dda("0xbbe")]&&(B[_0x1dda("0x16d")]=P.RMO),B[_0x1dda("0x623")]=null==P.RH?5:P.RH,B[_0x1dda("0x51c")]=null==P.RL?"":P.RL,B[_0x1dda("0xd93")]=null==P[_0x1dda("0xc78")]?"":P[_0x1dda("0xc78")],B.Brief=P[_0x1dda("0xc7d")]?JSON.parse(P[_0x1dda("0xc7d")]):null;var X=B[_0x1dda("0xd93")].split(",");if(X[3]&&(B[_0x1dda("0xcf2")]=1*X[3]),B[_0x1dda("0x51c")])for(var Y=B[_0x1dda("0x51c")].split(";"),G=B.RoomLogoSize[_0x1dda("0x2a")](";"),Q=0;Q<Y[_0x1dda("0x0")];Q++){var V=Y[Q],W="";if(G[Q])1*G[Q][_0x1dda("0x2a")](",")[3]<3?(W=f.default.getPath("buildingAsset",{filename:V,type:_0x1dda("0xd94"),buildingId:x.id}),r[_0x1dda("0x386")].ResourcePool[_0x1dda("0xc08")](W,_0x1dda("0x51b"),V)):(W=f[_0x1dda("0xd")].getPath(_0x1dda("0x5c"),{filename:V,type:_0x1dda("0xd95"),buildingId:x.id}),r.service[_0x1dda("0x32f")][_0x1dda("0xc08")](W,_0x1dda("0xd96"),V))}B[_0x1dda("0x3a5")]=P.SL||24,6!=B.top?(P.RM&&(P[_0x1dda("0xc7c")]&&(B[_0x1dda("0x1d7")]=P[_0x1dda("0xc7c")]),P[_0x1dda("0xbbb")]&&(B[_0x1dda("0xd1f")]=P[_0x1dda("0xbbb")])),B[_0x1dda("0xcf2")]>=3&&(B.RS=B[_0x1dda("0xcf5")],B[_0x1dda("0xd97")]=B[_0x1dda("0xcf5")]+"_"+B[_0x1dda("0x51c")]+"_"+B.RoomLogoSize),B[_0x1dda("0x623")]>4&&this[_0x1dda("0x42")].options[_0x1dda("0x368")]?B[_0x1dda("0xd98")]={needBottom:!1,sideIndex:1,topIndex:0,sideImageHeight:128,sideImageWidth:128}:B[_0x1dda("0xd99")]=!0,U?c[_0x1dda("0x10")](B):(B[_0x1dda("0x623")]=null==P.RH?.25:P.RH,g.push(B)),H&&(this[_0x1dda("0x42")].options[_0x1dda("0x376")]==_0x1dda("0x58a")||this[_0x1dda("0x42")][_0x1dda("0x35")].editMode||u[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:_0x1dda("0xc7e"),level:_0x1dda("0x9c7")}),this[_0x1dda("0xbba")](B))):m[_0x1dda("0x10")](B)}}var Z=d[_0x1dda("0x398")];for(var J in Z){var K=d[_0x1dda("0x398")][J],q=this[_0x1dda("0x42")].options[_0x1dda("0x44")]+a+_0x1dda("0xd9a")+K[_0x1dda("0x2df")];this[_0x1dda("0x42")].mode===esmap[_0x1dda("0x1b7")].City&&(q=this[_0x1dda("0x42")].options[_0x1dda("0x44")]+this.map.id+_0x1dda("0x98")+a+_0x1dda("0xd9a")+K[_0x1dda("0x2df")]);var $={oid:K[_0x1dda("0x3a0")],Typeid:K[_0x1dda("0x3a1")],name:(n?this[_0x1dda("0xd92")](K.name,n):K[_0x1dda("0xfc")])||"",fontstyleid:K[_0x1dda("0xd5f")],Height:K.SH,X:K.X-C.x,Y:K.Y+C.y,image:K[_0x1dda("0x2df")],w:null==K.w?32:K.w,h:null==K.h?32:K.h,ShowLevel:this.convertShowLevel(K.SL,x),texture:null==K[_0x1dda("0x2df")]||""==K[_0x1dda("0x2df")]?"":esmap.ESMapUtil[_0x1dda("0x5ba")](q),center:{x:.5,y:0}};if(K[_0x1dda("0x562")]){var dd=K[_0x1dda("0x562")][_0x1dda("0x2a")](",");$[_0x1dda("0x2df")]=dd[0],$.w=1*dd[1],$.h=1*dd[2];var xd=_0x1dda("0x325");switch(1*dd[3]){case 0:xd=_0x1dda("0x325");break;case 1:xd=_0x1dda("0x323");break;case 2:xd=_0x1dda("0x326");break;case 3:xd=_0x1dda("0x324")}$[_0x1dda("0xd9b")]=xd,$[_0x1dda("0x122")]={x:1*dd[4],y:1*dd[5]}}l[_0x1dda("0x10")]($)}var ad=d[_0x1dda("0xd9c")];if(d[_0x1dda("0xd9c")])for(var _d in ad){var ed=ad[_d],td={oid:ed[_0x1dda("0x3a0")],X:ed.X-C.x,Y:ed.Y+C.y,Height:ed.SH,image:null==ed[_0x1dda("0x2df")]?"":ed[_0x1dda("0x2df")],w:null==ed.w||""==ed.w?32:ed.w,h:null==ed.h||""==ed.h?32:ed.h,name:n?this.getLangItemFromJson(ed[_0x1dda("0xfc")],n):ed[_0x1dda("0xfc")],ShowLevel:this[_0x1dda("0xd9d")](ed.SL,x),Typeid:ed[_0x1dda("0x3a1")],center:{x:.5,y:0}};if(ed.other1){var id=ed[_0x1dda("0x562")][_0x1dda("0x2a")](",");td[_0x1dda("0x2df")]=id[0],td.w=1*id[1],td.h=1*id[2],td.imageAlign=1*id[3],td.center.x=1*id[4],td[_0x1dda("0x122")].y=1*id[5]}h[_0x1dda("0x10")](td)}d[_0x1dda("0xd9e")];var nd={fnum:_,floorEdge:s,floorBaseLayers:[{lid:2,floorBases:o}],modellayers:[{lid:3,models:c}],labellayers:[{lid:5,labels:l}],poilayers:[{lid:4,pois:h}],liftlayers:[{lid:6,lifts:[]}],modelbaselayer:[{lid:9,modelbases:g}],roadDatas:m,modelsCount:L,offsets:C};return this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x350")]||(x[_0x1dda("0xcc2")][_][_0x1dda("0x1ba")]=c[_0x1dda("0x0")]),nd}},{key:_0x1dda("0xd83"),value:function(d,x){for(var a=x[_0x1dda("0xa17")][_0x1dda("0xa50")],_=0;_<a[_0x1dda("0x0")];_++){var e=a[_];if(e[_0x1dda("0xbd4")]==d)return this._convertToSceneFloor(e,x)}return null}},{key:_0x1dda("0xd8b"),value:function(d,x,a){var _=(new(r[_0x1dda("0xd")][_0x1dda("0x543")]))[_0x1dda("0x53d")](d,x,a);return{points:_[_0x1dda("0x53b")],holes:_[_0x1dda("0x53c")]}}},{key:_0x1dda("0xbcc"),value:function(d,x){x._box3=esmap.ESMapSceneUtil[_0x1dda("0xbd0")](d);var a=x._box3.getSize(new(THREE[_0x1dda("0x11c")])),_=d[_0x1dda("0xbc2")],e=d[_0x1dda("0xa50")][_-1].Elevation,t=.75*a.x+e,i=new(THREE[_0x1dda("0x11c")])(a.x,t,-a.x),n=new THREE.Vector3(0,0,0),r=i[_0x1dda("0x117")](n);x[_0x1dda("0xd86")]=JSON[_0x1dda("0x6d")]("["+d[_0x1dda("0xbcf")]+"]"),x[_0x1dda("0xa17")]=d,x[_0x1dda("0xd87")]=r;var s,o=x[_0x1dda("0x35")],c=x.map[_0x1dda("0x35")][_0x1dda("0x1cc")],l=o[_0x1dda("0xbd1")];if(l){if(!Array[_0x1dda("0x2f4")](l)&&"all"!=l)return void u[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:_0x1dda("0xd9f")+esmap[_0x1dda("0x24d")][_0x1dda("0xda0")]+" or string 'all'",level:"warning"});s=o[_0x1dda("0xda1")]?o[_0x1dda("0xda1")]:o.focusFloor?o[_0x1dda("0xbce")]:d[_0x1dda("0xbc2")]?d[_0x1dda("0xbc2")]:1}else l=[s=o.defaultFloornum?o[_0x1dda("0xda1")]:o[_0x1dda("0xbce")]?o[_0x1dda("0xbce")]:d.DefaultFnum?d[_0x1dda("0xbc2")]:1];(s>d[_0x1dda("0xa50")][_0x1dda("0x0")]||s<1)&&(s=d.DefaultFnum||1),o[_0x1dda("0xbce")]=s,(Array[_0x1dda("0x2f4")](l)&&l[_0x1dda("0x0")]==d[_0x1dda("0xa50")][_0x1dda("0x0")]||l==_0x1dda("0x641"))&&o[_0x1dda("0x353")]==esmap[_0x1dda("0x5e0")][_0x1dda("0xa55")]&&(u[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:""+esmap[_0x1dda("0x24d")].VIEW_MODE2D_ALLFNUM,level:_0x1dda("0x9c7")}),l=[s]),o[_0x1dda("0xbd1")]=l,x[_0x1dda("0xda2")]=l;for(var f=o.mapFloorSpan||0,h=0,g=0,b=o[_0x1dda("0x513")];h<d.floors[_0x1dda("0x0")];h++){var v=d[_0x1dda("0xa50")][h];v[_0x1dda("0xda3")]<0&&(v.Elevation*=.001),g=f instanceof Array?f[h]||0+v[_0x1dda("0xa51")]:(h+1)*f+v[_0x1dda("0xa51")],v.Elevation=g+b,v[_0x1dda("0xda4")]=f+d[_0x1dda("0xda5")],x.floorNums[_0x1dda("0x10")](v[_0x1dda("0xbd4")]),x.toLoaded[v.floornum]={label:1,poi:1,floorBase:1,model:1,modelBase:c?0:1,model3D:0}}return x.sourceData}},{key:_0x1dda("0xa92"),value:(x=(0,t[_0x1dda("0xd")])(_[_0x1dda("0xd")].mark((function d(x){var a,t,i,n=x.themeID,r=x.buildingId;return _[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return a=function(){return new e.default((function(d){var x=f[_0x1dda("0xd")][_0x1dda("0x67")](_0x1dda("0x5a"),{themeID:n,filename:n+_0x1dda("0xda6"),buildingId:r});esmap[_0x1dda("0x5b4")][_0x1dda("0xc62")]({url:x})[_0x1dda("0x43a")]((function(x){d(x)}))[_0x1dda("0x1eb")]((function(){d(!1)}))}))},t=function(){return new(e[_0x1dda("0xd")])((function(d){var x=f.default[_0x1dda("0x67")](_0x1dda("0x5a"),{themeID:n,filename:n+".theme",buildingId:r});esmap[_0x1dda("0x5b4")][_0x1dda("0xc62")]({url:x})[_0x1dda("0x43a")]((function(x){d(x)}))[_0x1dda("0x1eb")]((function(){d(!1)}))}))},d[_0x1dda("0x24c")]=4,a();case 4:if(i=d.sent){d[_0x1dda("0x24c")]=11;break}return d[_0x1dda("0x24c")]=8,t();case 8:if(i=d[_0x1dda("0x2ff")]){d.next=11;break}throw _0x1dda("0xc63")+n;case 11:return d[_0x1dda("0x24e")](_0x1dda("0x24f"),i);case 12:case _0x1dda("0x267"):return d.stop()}}),d,this)}))),function(d){return x[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xd92"),value:function(d,x){return this[_0x1dda("0x386")][_0x1dda("0xa0a")].jsonLib&&this[_0x1dda("0x386")][_0x1dda("0xa0a")][_0x1dda("0xda7")][d]?this.service[_0x1dda("0xa0a")][_0x1dda("0xda7")][d][1*x-1]:d}},{key:"oa",value:function(d){return this[_0x1dda("0x42")][_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]?this.oab(d):this.oac(d)}},{key:"oac",value:function(d){if(!this._oav(d.version))return u[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:""+esmap[_0x1dda("0x24d")][_0x1dda("0xda8")],level:_0x1dda("0x1eb")}),!1;var x=d[l[_0x1dda("0xbb")]],a=x<32503514?x:x/1e3;return!((new Date)[_0x1dda("0x85")]()>1e6*a)||(u.MessagePoster[_0x1dda("0xb2")]({msg:d[_0x1dda("0x12d")]+": "+esmap[_0x1dda("0x24d")][_0x1dda("0xda9")],level:_0x1dda("0x1eb")}),!1)}},{key:_0x1dda("0xdaa"),value:function(d,x,a){(0,s[_0x1dda("0x5ad")])(_0x1dda("0xa32")+(d+a))===x&&this[_0x1dda("0x386")][_0x1dda("0xbb9")]("logo",!1)}},{key:"_uo",value:function(d){var x=this[_0x1dda("0xd7d")],a=(0,s[_0x1dda("0x5ad")])(d+_0x1dda("0xdab")),_=x.k[_0x1dda("0xaf")]("&"),e=x.k;return _>0&&(e=e.substring(0,_),a=(0,s[_0x1dda("0x5ad")])(d+_0x1dda("0xdac"))),a!=e?(o.MapError[_0x1dda("0x19e")](2001),!1):(this[_0x1dda("0x386")].setState("sk",!0),!0)}},{key:"x",value:function(d,x){o[_0x1dda("0x19d")].throw({code:d,param:x})}},{key:"_d",value:function(d,x){var a=document[l._dm_],_=d;return(0,v._isemvht)()?(this.service[_0x1dda("0xbb9")](_0x1dda("0xdad"),!0),!0):_.length>1&&_[_0x1dda("0xaf")](a)<0?(this.x(2002,[x,a,1]),!1):(this[_0x1dda("0x386")][_0x1dda("0xbb9")](_0x1dda("0xdad"),!0),!0)}},{key:"_b",value:function(d,x,a,_){return(0,s[_0x1dda("0x5ad")])(""+(d+a))!=x?(this.x(2004,[_,1]),!1):(this[_0x1dda("0x386")][_0x1dda("0xbb9")](_0x1dda("0xdae"),!0),!0)}},{key:_0x1dda("0xdaf"),value:function(d){var x=this[_0x1dda("0xd7d")],a=x.s&&x.k,_=d[_0x1dda("0x12d")];if(this._oav(d[_0x1dda("0x83")])){(0,v[_0x1dda("0x10b")])()?this[_0x1dda("0x386")][_0x1dda("0xbb9")](_0x1dda("0xdb0"),!1):d[l[_0x1dda("0xbd")]]&&x[l._lgtk_]&&this._cl(d[_0x1dda("0x12d")],d[l[_0x1dda("0xbd")]],x[l[_0x1dda("0xbd")]]);var e=!1;if(!a||(e=this[_0x1dda("0xdb1")](d[l._tk_]))){y>3&&(d[l[_0x1dda("0xbb")]]=0);var t=d[l[_0x1dda("0xba")]];if((0,v[_0x1dda("0x10a")])()){this[_0x1dda("0x386")][_0x1dda("0xbb9")](_0x1dda("0xdb2"),!0);var i=d.ul>>1&1||0,n=(0,g[_0x1dda("0x2d1")])();i<1&&n[_0x1dda("0x6cb")].opc[_0x1dda("0xce")](_)}else if(!(a&&e||d[l[_0x1dda("0xbc")]]===_0x1dda("0xa35"))){var r=document[l[_0x1dda("0x92")]],o=(0,s[_0x1dda("0x5ad")])(r);if(c[_0x1dda("0xc3a")].indexOf(o)<0){if(!this._d(t,_))return!1;if(!x[l._tk_])return this.x(2003,[_,1]),!1;if(!this._b(d[_0x1dda("0x3a0")],d[l._tk_],x[l[_0x1dda("0xbc")]],_))return!1;if(I!=C[0])return!1}else this[_0x1dda("0x386")][_0x1dda("0xbb9")](_0x1dda("0xdb2"),!0);var f=d.ul>>1&1||0,h=(0,g.useGlobalStore)();f<1&&h.state[_0x1dda("0xdb3")].add(_)}C=null;var b=d[l._tk_];(0,s.decrypt)(b+d[l[_0x1dda("0xbd")]]+t+d.o1+"ABC"+d.o2)!==d[l._hs_]&&d[l._hs_]!==b&&b!==_0x1dda("0xa35")&&this[_0x1dda("0x386")].setState("hf",1);var p=d[l[_0x1dda("0xbb")]],m=p<32503514?p:p/1e3;return this[_0x1dda("0x386")].getState(l[_0x1dda("0xb8")])||this.service[_0x1dda("0xbb9")](l[_0x1dda("0xb8")],1e6*m),(new Date)[_0x1dda("0x85")]()>1e6*m?(this.x(2005,[_,1]),!1):(d[_0x1dda("0x553")]&&this[_0x1dda("0x386")][_0x1dda("0xbb9")](_0x1dda("0xdb4"),d[_0x1dda("0x553")]),this.service[_0x1dda("0xbb9")]("ul",d.ul),this[_0x1dda("0x386")].setState("o2",d.o2||0),0==d.floors[_0x1dda("0x0")]?(this.x(2009,[_,1]),!1):((d.ul>>1&1||0)<1&&(y+=1),!(y>3)||(this.x(2011),!1)))}}else u[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:this[_0x1dda("0x42")][_0x1dda("0xa90")]+": "+esmap[_0x1dda("0x24d")].VERS_ERR+", version: "+d.version,level:_0x1dda("0x1eb")})}},{key:_0x1dda("0xbc1"),value:function(d){var x=this,a=d[_0x1dda("0x4a")],_=d[_0x1dda("0x38")],t=d.id;return new(e[_0x1dda("0xd")])((function(d,e){esmap[_0x1dda("0x5b4")][_0x1dda("0xd6")]({url:a,isArrayBuffer:!0}).success((function(i){var n=new Uint8Array(i);I=n[0];var r,c=x[_0x1dda("0x386")][_0x1dda("0x7e")]("t");_&&(0,s[_0x1dda("0x107")])(t+c,n),C=n;try{r=m.ESMap[_0x1dda("0xd7f")][_0x1dda("0x45")](n)}catch(d){return o[_0x1dda("0x19d")][_0x1dda("0x19e")]({code:2008,param:[t,a,1]}),u[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:t+": "+d.toString(),level:_0x1dda("0x1eb")}),void e()}d(r)})).error((function(){o[_0x1dda("0x19d")].throw({code:2007,param:[t,1]})}))}))}},{key:_0x1dda("0xbcb"),value:function(d,x){var a=h[_0x1dda("0xd")][_0x1dda("0xd6")](x.id);d[_0x1dda("0xa50")].forEach((function(d){var x=d[_0x1dda("0xd29")],_=d.Facility,e=d[_0x1dda("0x398")],t=d.floornum;for(var i in x){x[i][_0x1dda("0x51c")]&&a[_0x1dda("0xce")](_0x1dda("0xdb5")+i,t),a.add(i,t)}for(var n in _)a.add(n,t);for(var r in e)a.add(r,t);a[_0x1dda("0xce")](_0x1dda("0xdb6")+t,t)})),a[_0x1dda("0xd0")]()}},{key:"singleMesheDatas",get:function(){return this[_0x1dda("0x386")][_0x1dda("0xbb3")]}},{key:_0x1dda("0x36"),get:function(){return this[_0x1dda("0x42")][_0x1dda("0x36")]}}]),d}();x[_0x1dda("0xbae")]=E},function(d,x,a){"use strict";var _=t(a(12)),e=t(a(15));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i,n=a(72),r=n[_0x1dda("0xd27")],s=n.Writer,o=n.util,c=n.roots[_0x1dda("0xd")]||(n[_0x1dda("0x550")][_0x1dda("0xd")]={});c[_0x1dda("0x33")]=((i={}).ESMapSet=function(){function d(d){if(this.floors=[],this.navs=[],this.panos=[],d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x.length;++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")].version=0,d.prototype[_0x1dda("0xdb7")]=0,d.prototype[_0x1dda("0x551")]="",d[_0x1dda("0x1")]._id=0,d[_0x1dda("0x1")][_0x1dda("0xd2b")]=0,d[_0x1dda("0x1")].name="",d[_0x1dda("0x1")].nameEn="",d[_0x1dda("0x1")].Brief="",d[_0x1dda("0x1")][_0x1dda("0x553")]="",d[_0x1dda("0x1")][_0x1dda("0xdb8")]="",d[_0x1dda("0x1")].AS=0,d[_0x1dda("0x1")][_0x1dda("0xdb9")]=0,d.prototype[_0x1dda("0xdba")]="",d[_0x1dda("0x1")][_0x1dda("0xdbb")]=0,d[_0x1dda("0x1")][_0x1dda("0xdbc")]=0,d[_0x1dda("0x1")][_0x1dda("0xdbd")]=0,d.prototype.Firstscale=0,d[_0x1dda("0x1")].DefaultFnum=0,d[_0x1dda("0x1")][_0x1dda("0xbca")]=0,d[_0x1dda("0x1")][_0x1dda("0xc96")]=0,d[_0x1dda("0x1")].DefaultCenZ=0,d[_0x1dda("0x1")].x=0,d[_0x1dda("0x1")].y=0,d.prototype.z=0,d[_0x1dda("0x1")][_0x1dda("0x556")]=0,d[_0x1dda("0x1")][_0x1dda("0x558")]=0,d[_0x1dda("0x1")][_0x1dda("0x559")]=0,d[_0x1dda("0x1")][_0x1dda("0x55b")]=0,d[_0x1dda("0x1")][_0x1dda("0xbcf")]="",d[_0x1dda("0x1")].Remark="",d[_0x1dda("0x1")][_0x1dda("0xdbe")]="",d[_0x1dda("0x1")][_0x1dda("0xda5")]=0,d.prototype[_0x1dda("0xa50")]=o[_0x1dda("0xdbf")],d[_0x1dda("0x1")][_0x1dda("0xc98")]=o[_0x1dda("0xdbf")],d[_0x1dda("0x1")][_0x1dda("0xdc0")]=o.emptyArray,d.prototype[_0x1dda("0x560")]="",d[_0x1dda("0x1")][_0x1dda("0x88")]="",d[_0x1dda("0x1")][_0x1dda("0x12d")]="",d[_0x1dda("0x1")][_0x1dda("0x571")]="",d.prototype[_0x1dda("0x562")]="",d[_0x1dda("0x1")].o1=0,d.prototype.other2="",d[_0x1dda("0x1")].o2=0,d.prototype.ul=0,d[_0x1dda("0x1")].t1="",d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){if(x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x83")]&&d[_0x1dda("0x2")]("version")&&x[_0x1dda("0x567")](8).int32(d[_0x1dda("0x83")]),null!=d[_0x1dda("0xdb7")]&&d[_0x1dda("0x2")](_0x1dda("0xdb7"))&&x[_0x1dda("0x567")](16)[_0x1dda("0x568")](d[_0x1dda("0xdb7")]),null!=d[_0x1dda("0x551")]&&d[_0x1dda("0x2")](_0x1dda("0x551"))&&x[_0x1dda("0x567")](26)[_0x1dda("0xe")](d[_0x1dda("0x551")]),null!=d._id&&d.hasOwnProperty(_0x1dda("0x3a0"))&&x[_0x1dda("0x567")](32)[_0x1dda("0x568")](d[_0x1dda("0x3a0")]),null!=d.Type&&d[_0x1dda("0x2")](_0x1dda("0xd2b"))&&x.uint32(40)[_0x1dda("0x568")](d.Type),null!=d[_0x1dda("0xfc")]&&d.hasOwnProperty(_0x1dda("0xfc"))&&x[_0x1dda("0x567")](50)[_0x1dda("0xe")](d[_0x1dda("0xfc")]),null!=d[_0x1dda("0x552")]&&d.hasOwnProperty(_0x1dda("0x552"))&&x[_0x1dda("0x567")](58).string(d[_0x1dda("0x552")]),null!=d[_0x1dda("0xc7d")]&&d.hasOwnProperty("Brief")&&x.uint32(66).string(d[_0x1dda("0xc7d")]),null!=d[_0x1dda("0x553")]&&d[_0x1dda("0x2")](_0x1dda("0x553"))&&x[_0x1dda("0x567")](74)[_0x1dda("0xe")](d[_0x1dda("0x553")]),null!=d[_0x1dda("0xdb8")]&&d[_0x1dda("0x2")](_0x1dda("0xdb8"))&&x.uint32(82)[_0x1dda("0xe")](d[_0x1dda("0xdb8")]),null!=d.AS&&d[_0x1dda("0x2")]("AS")&&x[_0x1dda("0x567")](89)[_0x1dda("0x56b")](d.AS),null!=d[_0x1dda("0xdb9")]&&d[_0x1dda("0x2")](_0x1dda("0xdb9"))&&x[_0x1dda("0x567")](101)[_0x1dda("0x2f2")](d[_0x1dda("0xdb9")]),null!=d[_0x1dda("0xdba")]&&d[_0x1dda("0x2")](_0x1dda("0xdba"))&&x[_0x1dda("0x567")](106)[_0x1dda("0xe")](d.Tel),null!=d[_0x1dda("0xdbb")]&&d[_0x1dda("0x2")](_0x1dda("0xdbb"))&&x[_0x1dda("0x567")](113)[_0x1dda("0x56b")](d[_0x1dda("0xdbb")]),null!=d[_0x1dda("0xdbc")]&&d[_0x1dda("0x2")](_0x1dda("0xdbc"))&&x[_0x1dda("0x567")](121)[_0x1dda("0x56b")](d[_0x1dda("0xdbc")]),null!=d[_0x1dda("0xdbd")]&&d[_0x1dda("0x2")](_0x1dda("0xdbd"))&&x.uint32(129)[_0x1dda("0x56b")](d[_0x1dda("0xdbd")]),null!=d[_0x1dda("0xdc1")]&&d[_0x1dda("0x2")](_0x1dda("0xdc1"))&&x[_0x1dda("0x567")](137)[_0x1dda("0x56b")](d[_0x1dda("0xdc1")]),null!=d[_0x1dda("0xbc2")]&&d.hasOwnProperty("DefaultFnum")&&x[_0x1dda("0x567")](144)[_0x1dda("0x568")](d.DefaultFnum),null!=d[_0x1dda("0xbca")]&&d[_0x1dda("0x2")](_0x1dda("0xbca"))&&x.uint32(153)[_0x1dda("0x56b")](d.DefaultCenX),null!=d[_0x1dda("0xc96")]&&d[_0x1dda("0x2")](_0x1dda("0xc96"))&&x[_0x1dda("0x567")](161).double(d[_0x1dda("0xc96")]),null!=d[_0x1dda("0xdc2")]&&d[_0x1dda("0x2")](_0x1dda("0xdc2"))&&x[_0x1dda("0x567")](169)[_0x1dda("0x56b")](d[_0x1dda("0xdc2")]),null!=d.x&&d[_0x1dda("0x2")]("x")&&x[_0x1dda("0x567")](177)[_0x1dda("0x56b")](d.x),null!=d.y&&d[_0x1dda("0x2")]("y")&&x[_0x1dda("0x567")](185)[_0x1dda("0x56b")](d.y),null!=d.z&&d[_0x1dda("0x2")]("z")&&x[_0x1dda("0x567")](193).double(d.z),null!=d[_0x1dda("0x556")]&&d[_0x1dda("0x2")]("minX")&&x[_0x1dda("0x567")](201).double(d[_0x1dda("0x556")]),null!=d[_0x1dda("0x558")]&&d[_0x1dda("0x2")](_0x1dda("0x558"))&&x[_0x1dda("0x567")](209)[_0x1dda("0x56b")](d.minY),null!=d[_0x1dda("0x559")]&&d[_0x1dda("0x2")]("maxX")&&x[_0x1dda("0x567")](217).double(d[_0x1dda("0x559")]),null!=d.maxY&&d[_0x1dda("0x2")](_0x1dda("0x55b"))&&x[_0x1dda("0x567")](225)[_0x1dda("0x56b")](d[_0x1dda("0x55b")]),null!=d[_0x1dda("0xbcf")]&&d[_0x1dda("0x2")](_0x1dda("0xbcf"))&&x[_0x1dda("0x567")](234).string(d.ScaleLevel),null!=d[_0x1dda("0x55f")]&&d.hasOwnProperty(_0x1dda("0x55f"))&&x[_0x1dda("0x567")](242).string(d[_0x1dda("0x55f")]),null!=d.FloorBarName&&d.hasOwnProperty(_0x1dda("0xdbe"))&&x.uint32(250)[_0x1dda("0xe")](d[_0x1dda("0xdbe")]),null!=d[_0x1dda("0xda5")]&&d.hasOwnProperty("FloorHigh")&&x[_0x1dda("0x567")](256)[_0x1dda("0x568")](d[_0x1dda("0xda5")]),null!=d.floors&&d[_0x1dda("0xa50")][_0x1dda("0x0")])for(var a=0;a<d[_0x1dda("0xa50")][_0x1dda("0x0")];++a)c.ESMap.FloorSet[_0x1dda("0x565")](d[_0x1dda("0xa50")][a],x[_0x1dda("0x567")](266)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]();if(null!=d[_0x1dda("0xc98")]&&d[_0x1dda("0xc98")].length)for(a=0;a<d.navs[_0x1dda("0x0")];++a)c.ESMap[_0x1dda("0xdc3")].encode(d.navs[a],x.uint32(274)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]();if(null!=d.panos&&d.panos[_0x1dda("0x0")])for(a=0;a<d[_0x1dda("0xdc0")][_0x1dda("0x0")];++a)c[_0x1dda("0x33")].PicSet[_0x1dda("0x565")](d[_0x1dda("0xdc0")][a],x.uint32(282)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]();return null!=d.styleid&&d[_0x1dda("0x2")]("styleid")&&x[_0x1dda("0x567")](290)[_0x1dda("0xe")](d.styleid),null!=d[_0x1dda("0x88")]&&d.hasOwnProperty("token")&&x[_0x1dda("0x567")](298)[_0x1dda("0xe")](d.token),null!=d[_0x1dda("0x12d")]&&d[_0x1dda("0x2")](_0x1dda("0x12d"))&&x[_0x1dda("0x567")](306)[_0x1dda("0xe")](d[_0x1dda("0x12d")]),null!=d[_0x1dda("0x571")]&&d[_0x1dda("0x2")](_0x1dda("0x571"))&&x.uint32(314)[_0x1dda("0xe")](d[_0x1dda("0x571")]),null!=d[_0x1dda("0x562")]&&d.hasOwnProperty(_0x1dda("0x562"))&&x[_0x1dda("0x567")](322)[_0x1dda("0xe")](d[_0x1dda("0x562")]),null!=d.o1&&d.hasOwnProperty("o1")&&x[_0x1dda("0x567")](328)[_0x1dda("0x568")](d.o1),null!=d.other2&&d[_0x1dda("0x2")](_0x1dda("0x572"))&&x[_0x1dda("0x567")](338)[_0x1dda("0xe")](d.other2),null!=d.o2&&d.hasOwnProperty("o2")&&x.uint32(344).int32(d.o2),null!=d.ul&&d[_0x1dda("0x2")]("ul")&&x[_0x1dda("0x567")](352)[_0x1dda("0x568")](d.ul),null!=d.t1&&d[_0x1dda("0x2")]("t1")&&x.uint32(362)[_0x1dda("0xe")](d.t1),x},d[_0x1dda("0xd31")]=function(d,x){return this.encode(d,x)[_0x1dda("0xd30")]()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,_=new(c[_0x1dda("0x33")][_0x1dda("0xd7f")]);d.pos<a;){var e=d.uint32();switch(e>>>3){case 1:_[_0x1dda("0x83")]=d[_0x1dda("0x568")]();break;case 2:_[_0x1dda("0xdb7")]=d.int32();break;case 3:_[_0x1dda("0x551")]=d[_0x1dda("0xe")]();break;case 4:_[_0x1dda("0x3a0")]=d[_0x1dda("0x568")]();break;case 5:_[_0x1dda("0xd2b")]=d.int32();break;case 6:_.name=d.string();break;case 7:_[_0x1dda("0x552")]=d[_0x1dda("0xe")]();break;case 8:_[_0x1dda("0xc7d")]=d[_0x1dda("0xe")]();break;case 9:_[_0x1dda("0x553")]=d[_0x1dda("0xe")]();break;case 10:_.address=d[_0x1dda("0xe")]();break;case 11:_.AS=d.double();break;case 12:_.BuildingHigh=d[_0x1dda("0x2f2")]();break;case 13:_[_0x1dda("0xdba")]=d.string();break;case 14:_[_0x1dda("0xdbb")]=d[_0x1dda("0x56b")]();break;case 15:_[_0x1dda("0xdbc")]=d[_0x1dda("0x56b")]();break;case 16:_[_0x1dda("0xdbd")]=d.double();break;case 17:_[_0x1dda("0xdc1")]=d[_0x1dda("0x56b")]();break;case 18:_[_0x1dda("0xbc2")]=d[_0x1dda("0x568")]();break;case 19:_[_0x1dda("0xbca")]=d.double();break;case 20:_.DefaultCenY=d[_0x1dda("0x56b")]();break;case 21:_[_0x1dda("0xdc2")]=d[_0x1dda("0x56b")]();break;case 22:_.x=d.double();break;case 23:_.y=d[_0x1dda("0x56b")]();break;case 24:_.z=d[_0x1dda("0x56b")]();break;case 25:_.minX=d[_0x1dda("0x56b")]();break;case 26:_[_0x1dda("0x558")]=d.double();break;case 27:_[_0x1dda("0x559")]=d.double();break;case 28:_[_0x1dda("0x55b")]=d.double();break;case 29:_[_0x1dda("0xbcf")]=d.string();break;case 30:_[_0x1dda("0x55f")]=d[_0x1dda("0xe")]();break;case 31:_[_0x1dda("0xdbe")]=d[_0x1dda("0xe")]();break;case 32:_[_0x1dda("0xda5")]=d[_0x1dda("0x568")]();break;case 33:_[_0x1dda("0xa50")]&&_[_0x1dda("0xa50")][_0x1dda("0x0")]||(_[_0x1dda("0xa50")]=[]),_.floors[_0x1dda("0x10")](c.ESMap[_0x1dda("0xdc4")][_0x1dda("0x45")](d,d[_0x1dda("0x567")]()));break;case 34:_[_0x1dda("0xc98")]&&_[_0x1dda("0xc98")].length||(_.navs=[]),_[_0x1dda("0xc98")][_0x1dda("0x10")](c.ESMap[_0x1dda("0xdc3")][_0x1dda("0x45")](d,d.uint32()));break;case 35:_[_0x1dda("0xdc0")]&&_[_0x1dda("0xdc0")][_0x1dda("0x0")]||(_.panos=[]),_[_0x1dda("0xdc0")][_0x1dda("0x10")](c[_0x1dda("0x33")][_0x1dda("0xdc5")][_0x1dda("0x45")](d,d[_0x1dda("0x567")]()));break;case 36:_.styleid=d[_0x1dda("0xe")]();break;case 37:_[_0x1dda("0x88")]=d.string();break;case 38:_[_0x1dda("0x12d")]=d[_0x1dda("0xe")]();break;case 39:_.logotoken=d.string();break;case 40:_[_0x1dda("0x562")]=d.string();break;case 41:_.o1=d[_0x1dda("0x568")]();break;case 42:_[_0x1dda("0x572")]=d[_0x1dda("0xe")]();break;case 43:_.o2=d[_0x1dda("0x568")]();break;case 44:_.ul=d[_0x1dda("0x568")]();break;case 45:_.t1=d.string();break;default:d.skipType(7&e)}}return _},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this.decode(d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){if((void 0===d?"undefined":(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d)return _0x1dda("0x579");if(null!=d.version&&d.hasOwnProperty(_0x1dda("0x83"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x83")]))return _0x1dda("0xdc6");if(null!=d[_0x1dda("0xdb7")]&&d.hasOwnProperty(_0x1dda("0xdb7"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xdb7")]))return _0x1dda("0xdc7");if(null!=d[_0x1dda("0x551")]&&d[_0x1dda("0x2")](_0x1dda("0x551"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x551")]))return _0x1dda("0x57e");if(null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")]("_id")&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a0")]))return _0x1dda("0x57f");if(null!=d[_0x1dda("0xd2b")]&&d[_0x1dda("0x2")](_0x1dda("0xd2b"))&&!o.isInteger(d[_0x1dda("0xd2b")]))return _0x1dda("0xdc8");if(null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")]("name")&&!o[_0x1dda("0x332")](d[_0x1dda("0xfc")]))return _0x1dda("0x581");if(null!=d[_0x1dda("0x552")]&&d[_0x1dda("0x2")](_0x1dda("0x552"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x552")]))return _0x1dda("0x582");if(null!=d[_0x1dda("0xc7d")]&&d[_0x1dda("0x2")](_0x1dda("0xc7d"))&&!o.isString(d[_0x1dda("0xc7d")]))return _0x1dda("0xdc9");if(null!=d.adcode&&d.hasOwnProperty(_0x1dda("0x553"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x553")]))return _0x1dda("0x583");if(null!=d[_0x1dda("0xdb8")]&&d[_0x1dda("0x2")]("address")&&!o.isString(d[_0x1dda("0xdb8")]))return _0x1dda("0xdca");if(null!=d.AS&&d.hasOwnProperty("AS")&&typeof d.AS!==_0x1dda("0x177"))return"AS: number expected";if(null!=d[_0x1dda("0xdb9")]&&d[_0x1dda("0x2")]("BuildingHigh")&&typeof d.BuildingHigh!==_0x1dda("0x177"))return _0x1dda("0xdcb");if(null!=d[_0x1dda("0xdba")]&&d[_0x1dda("0x2")](_0x1dda("0xdba"))&&!o.isString(d[_0x1dda("0xdba")]))return _0x1dda("0xdcc");if(null!=d.FirstRotateAngleX&&d[_0x1dda("0x2")](_0x1dda("0xdbb"))&&typeof d[_0x1dda("0xdbb")]!==_0x1dda("0x177"))return _0x1dda("0xdcd");if(null!=d[_0x1dda("0xdbc")]&&d[_0x1dda("0x2")](_0x1dda("0xdbc"))&&typeof d.FirstRotateAngleY!==_0x1dda("0x177"))return _0x1dda("0xdce");if(null!=d[_0x1dda("0xdbd")]&&d[_0x1dda("0x2")](_0x1dda("0xdbd"))&&typeof d[_0x1dda("0xdbd")]!==_0x1dda("0x177"))return _0x1dda("0xdcf");if(null!=d.Firstscale&&d[_0x1dda("0x2")]("Firstscale")&&typeof d.Firstscale!==_0x1dda("0x177"))return _0x1dda("0xdd0");if(null!=d[_0x1dda("0xbc2")]&&d[_0x1dda("0x2")](_0x1dda("0xbc2"))&&!o[_0x1dda("0x57b")](d.DefaultFnum))return _0x1dda("0xdd1");if(null!=d.DefaultCenX&&d[_0x1dda("0x2")](_0x1dda("0xbca"))&&typeof d[_0x1dda("0xbca")]!==_0x1dda("0x177"))return"DefaultCenX: number expected";if(null!=d[_0x1dda("0xc96")]&&d.hasOwnProperty(_0x1dda("0xc96"))&&typeof d.DefaultCenY!==_0x1dda("0x177"))return _0x1dda("0xdd2");if(null!=d[_0x1dda("0xdc2")]&&d.hasOwnProperty(_0x1dda("0xdc2"))&&typeof d[_0x1dda("0xdc2")]!==_0x1dda("0x177"))return _0x1dda("0xdd3");if(null!=d.x&&d[_0x1dda("0x2")]("x")&&"number"!=typeof d.x)return"x: number expected";if(null!=d.y&&d[_0x1dda("0x2")]("y")&&typeof d.y!==_0x1dda("0x177"))return _0x1dda("0x588");if(null!=d.z&&d[_0x1dda("0x2")]("z")&&typeof d.z!==_0x1dda("0x177"))return _0x1dda("0x589");if(null!=d[_0x1dda("0x556")]&&d[_0x1dda("0x2")]("minX")&&typeof d[_0x1dda("0x556")]!==_0x1dda("0x177"))return _0x1dda("0xd34");if(null!=d[_0x1dda("0x558")]&&d.hasOwnProperty(_0x1dda("0x558"))&&typeof d[_0x1dda("0x558")]!==_0x1dda("0x177"))return"minY: number expected";if(null!=d[_0x1dda("0x559")]&&d[_0x1dda("0x2")]("maxX")&&typeof d[_0x1dda("0x559")]!==_0x1dda("0x177"))return _0x1dda("0xdd4");if(null!=d[_0x1dda("0x55b")]&&d[_0x1dda("0x2")](_0x1dda("0x55b"))&&typeof d[_0x1dda("0x55b")]!==_0x1dda("0x177"))return _0x1dda("0xdd5");if(null!=d[_0x1dda("0xbcf")]&&d[_0x1dda("0x2")](_0x1dda("0xbcf"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xbcf")]))return _0x1dda("0xdd6");if(null!=d[_0x1dda("0x55f")]&&d[_0x1dda("0x2")](_0x1dda("0x55f"))&&!o.isString(d[_0x1dda("0x55f")]))return _0x1dda("0x592");if(null!=d[_0x1dda("0xdbe")]&&d[_0x1dda("0x2")](_0x1dda("0xdbe"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xdbe")]))return _0x1dda("0xdd7");if(null!=d[_0x1dda("0xda5")]&&d[_0x1dda("0x2")](_0x1dda("0xda5"))&&!o.isInteger(d[_0x1dda("0xda5")]))return"FloorHigh: integer expected";if(null!=d.floors&&d[_0x1dda("0x2")](_0x1dda("0xa50"))){if(!Array[_0x1dda("0x2f4")](d.floors))return _0x1dda("0xdd8");for(var x=0;x<d[_0x1dda("0xa50")][_0x1dda("0x0")];++x)if(a=c[_0x1dda("0x33")][_0x1dda("0xdc4")][_0x1dda("0x578")](d[_0x1dda("0xa50")][x]))return"floors."+a}if(null!=d[_0x1dda("0xc98")]&&d[_0x1dda("0x2")]("navs")){if(!Array[_0x1dda("0x2f4")](d.navs))return _0x1dda("0xdd9");for(x=0;x<d[_0x1dda("0xc98")][_0x1dda("0x0")];++x)if(a=c[_0x1dda("0x33")][_0x1dda("0xdc3")][_0x1dda("0x578")](d[_0x1dda("0xc98")][x]))return _0x1dda("0xdda")+a}if(null!=d[_0x1dda("0xdc0")]&&d[_0x1dda("0x2")](_0x1dda("0xdc0"))){if(!Array[_0x1dda("0x2f4")](d.panos))return _0x1dda("0xddb");for(x=0;x<d[_0x1dda("0xdc0")][_0x1dda("0x0")];++x){var a;if(a=c[_0x1dda("0x33")].PicSet.verify(d.panos[x]))return"panos."+a}}return null!=d[_0x1dda("0x560")]&&d[_0x1dda("0x2")](_0x1dda("0x560"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x560")])?"styleid: string expected":null!=d[_0x1dda("0x88")]&&d[_0x1dda("0x2")]("token")&&!o[_0x1dda("0x332")](d.token)?_0x1dda("0xd36"):null!=d[_0x1dda("0x12d")]&&d[_0x1dda("0x2")]("bid")&&!o[_0x1dda("0x332")](d[_0x1dda("0x12d")])?_0x1dda("0xddc"):null!=d.logotoken&&d[_0x1dda("0x2")](_0x1dda("0x571"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x571")])?_0x1dda("0xddd"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x562")])?"other1: string expected":null!=d.o1&&d.hasOwnProperty("o1")&&!o[_0x1dda("0x57b")](d.o1)?_0x1dda("0x595"):null!=d[_0x1dda("0x572")]&&d[_0x1dda("0x2")]("other2")&&!o[_0x1dda("0x332")](d[_0x1dda("0x572")])?_0x1dda("0x597"):null!=d.o2&&d[_0x1dda("0x2")]("o2")&&!o[_0x1dda("0x57b")](d.o2)?_0x1dda("0xd3c"):null!=d.ul&&d[_0x1dda("0x2")]("ul")&&!o[_0x1dda("0x57b")](d.ul)?_0x1dda("0xdde"):null!=d.t1&&d.hasOwnProperty("t1")&&!o.isString(d.t1)?_0x1dda("0xd3d"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c.ESMap.ESMapSet)return d;var x=new(c.ESMap[_0x1dda("0xd7f")]);if(null!=d[_0x1dda("0x83")]&&(x[_0x1dda("0x83")]=0|d[_0x1dda("0x83")]),null!=d[_0x1dda("0xdb7")]&&(x.maptime=0|d[_0x1dda("0xdb7")]),null!=d[_0x1dda("0x551")]&&(x[_0x1dda("0x551")]=String(d.Hash)),null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d.Type&&(x.Type=0|d.Type),null!=d.name&&(x[_0x1dda("0xfc")]=String(d[_0x1dda("0xfc")])),null!=d[_0x1dda("0x552")]&&(x[_0x1dda("0x552")]=String(d[_0x1dda("0x552")])),null!=d[_0x1dda("0xc7d")]&&(x[_0x1dda("0xc7d")]=String(d[_0x1dda("0xc7d")])),null!=d[_0x1dda("0x553")]&&(x[_0x1dda("0x553")]=String(d[_0x1dda("0x553")])),null!=d[_0x1dda("0xdb8")]&&(x[_0x1dda("0xdb8")]=String(d[_0x1dda("0xdb8")])),null!=d.AS&&(x.AS=Number(d.AS)),null!=d[_0x1dda("0xdb9")]&&(x[_0x1dda("0xdb9")]=Number(d[_0x1dda("0xdb9")])),null!=d[_0x1dda("0xdba")]&&(x[_0x1dda("0xdba")]=String(d[_0x1dda("0xdba")])),null!=d[_0x1dda("0xdbb")]&&(x[_0x1dda("0xdbb")]=Number(d.FirstRotateAngleX)),null!=d.FirstRotateAngleY&&(x[_0x1dda("0xdbc")]=Number(d[_0x1dda("0xdbc")])),null!=d[_0x1dda("0xdbd")]&&(x[_0x1dda("0xdbd")]=Number(d[_0x1dda("0xdbd")])),null!=d[_0x1dda("0xdc1")]&&(x[_0x1dda("0xdc1")]=Number(d[_0x1dda("0xdc1")])),null!=d.DefaultFnum&&(x.DefaultFnum=0|d[_0x1dda("0xbc2")]),null!=d[_0x1dda("0xbca")]&&(x[_0x1dda("0xbca")]=Number(d[_0x1dda("0xbca")])),null!=d[_0x1dda("0xc96")]&&(x[_0x1dda("0xc96")]=Number(d.DefaultCenY)),null!=d[_0x1dda("0xdc2")]&&(x[_0x1dda("0xdc2")]=Number(d[_0x1dda("0xdc2")])),null!=d.x&&(x.x=Number(d.x)),null!=d.y&&(x.y=Number(d.y)),null!=d.z&&(x.z=Number(d.z)),null!=d[_0x1dda("0x556")]&&(x.minX=Number(d[_0x1dda("0x556")])),null!=d.minY&&(x[_0x1dda("0x558")]=Number(d[_0x1dda("0x558")])),null!=d[_0x1dda("0x559")]&&(x[_0x1dda("0x559")]=Number(d.maxX)),null!=d[_0x1dda("0x55b")]&&(x.maxY=Number(d[_0x1dda("0x55b")])),null!=d.ScaleLevel&&(x[_0x1dda("0xbcf")]=String(d[_0x1dda("0xbcf")])),null!=d[_0x1dda("0x55f")]&&(x[_0x1dda("0x55f")]=String(d.Remark)),null!=d[_0x1dda("0xdbe")]&&(x[_0x1dda("0xdbe")]=String(d.FloorBarName)),null!=d[_0x1dda("0xda5")]&&(x[_0x1dda("0xda5")]=0|d[_0x1dda("0xda5")]),d[_0x1dda("0xa50")]){if(!Array.isArray(d[_0x1dda("0xa50")]))throw TypeError(".ESMap.ESMapSet.floors: array expected");x[_0x1dda("0xa50")]=[];for(var a=0;a<d[_0x1dda("0xa50")][_0x1dda("0x0")];++a){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0xa50")][a])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xddf"));x.floors[a]=c[_0x1dda("0x33")][_0x1dda("0xdc4")][_0x1dda("0x5a0")](d.floors[a])}}if(d[_0x1dda("0xc98")]){if(!Array[_0x1dda("0x2f4")](d[_0x1dda("0xc98")]))throw TypeError(_0x1dda("0xde0"));for(x[_0x1dda("0xc98")]=[],a=0;a<d[_0x1dda("0xc98")][_0x1dda("0x0")];++a){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0xc98")][a])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xde1"));x[_0x1dda("0xc98")][a]=c[_0x1dda("0x33")][_0x1dda("0xdc3")][_0x1dda("0x5a0")](d[_0x1dda("0xc98")][a])}}if(d.panos){if(!Array[_0x1dda("0x2f4")](d[_0x1dda("0xdc0")]))throw TypeError(_0x1dda("0xde2"));for(x[_0x1dda("0xdc0")]=[],a=0;a<d.panos[_0x1dda("0x0")];++a){if("object"!==(0,_[_0x1dda("0xd")])(d[_0x1dda("0xdc0")][a]))throw TypeError(".ESMap.ESMapSet.panos: object expected");x[_0x1dda("0xdc0")][a]=c.ESMap[_0x1dda("0xdc5")][_0x1dda("0x5a0")](d[_0x1dda("0xdc0")][a])}}return null!=d[_0x1dda("0x560")]&&(x.styleid=String(d[_0x1dda("0x560")])),null!=d[_0x1dda("0x88")]&&(x[_0x1dda("0x88")]=String(d[_0x1dda("0x88")])),null!=d[_0x1dda("0x12d")]&&(x[_0x1dda("0x12d")]=String(d[_0x1dda("0x12d")])),null!=d.logotoken&&(x[_0x1dda("0x571")]=String(d[_0x1dda("0x571")])),null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d[_0x1dda("0x562")])),null!=d.o1&&(x.o1=0|d.o1),null!=d[_0x1dda("0x572")]&&(x[_0x1dda("0x572")]=String(d[_0x1dda("0x572")])),null!=d.o2&&(x.o2=0|d.o2),null!=d.ul&&(x.ul=0|d.ul),null!=d.t1&&(x.t1=String(d.t1)),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a={};if((x[_0x1dda("0xde3")]||x[_0x1dda("0x5a5")])&&(a[_0x1dda("0xa50")]=[],a[_0x1dda("0xc98")]=[],a[_0x1dda("0xdc0")]=[]),x.defaults&&(a.version=0,a[_0x1dda("0xdb7")]=0,a[_0x1dda("0x551")]="",a._id=0,a[_0x1dda("0xd2b")]=0,a[_0x1dda("0xfc")]="",a[_0x1dda("0x552")]="",a[_0x1dda("0xc7d")]="",a[_0x1dda("0x553")]="",a[_0x1dda("0xdb8")]="",a.AS=0,a[_0x1dda("0xdb9")]=0,a[_0x1dda("0xdba")]="",a.FirstRotateAngleX=0,a.FirstRotateAngleY=0,a.FirstRotateAngleZ=0,a.Firstscale=0,a[_0x1dda("0xbc2")]=0,a[_0x1dda("0xbca")]=0,a[_0x1dda("0xc96")]=0,a.DefaultCenZ=0,a.x=0,a.y=0,a.z=0,a[_0x1dda("0x556")]=0,a[_0x1dda("0x558")]=0,a[_0x1dda("0x559")]=0,a[_0x1dda("0x55b")]=0,a[_0x1dda("0xbcf")]="",a[_0x1dda("0x55f")]="",a[_0x1dda("0xdbe")]="",a[_0x1dda("0xda5")]=0,a[_0x1dda("0x560")]="",a.token="",a[_0x1dda("0x12d")]="",a[_0x1dda("0x571")]="",a[_0x1dda("0x562")]="",a.o1=0,a.other2="",a.o2=0,a.ul=0,a.t1=""),null!=d[_0x1dda("0x83")]&&d[_0x1dda("0x2")]("version")&&(a[_0x1dda("0x83")]=d[_0x1dda("0x83")]),null!=d[_0x1dda("0xdb7")]&&d[_0x1dda("0x2")](_0x1dda("0xdb7"))&&(a.maptime=d[_0x1dda("0xdb7")]),null!=d.Hash&&d[_0x1dda("0x2")]("Hash")&&(a[_0x1dda("0x551")]=d[_0x1dda("0x551")]),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a._id=d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xd2b")]&&d[_0x1dda("0x2")](_0x1dda("0xd2b"))&&(a[_0x1dda("0xd2b")]=d[_0x1dda("0xd2b")]),null!=d[_0x1dda("0xfc")]&&d.hasOwnProperty("name")&&(a[_0x1dda("0xfc")]=d[_0x1dda("0xfc")]),null!=d[_0x1dda("0x552")]&&d[_0x1dda("0x2")]("nameEn")&&(a[_0x1dda("0x552")]=d.nameEn),null!=d[_0x1dda("0xc7d")]&&d.hasOwnProperty(_0x1dda("0xc7d"))&&(a[_0x1dda("0xc7d")]=d[_0x1dda("0xc7d")]),null!=d[_0x1dda("0x553")]&&d[_0x1dda("0x2")](_0x1dda("0x553"))&&(a[_0x1dda("0x553")]=d[_0x1dda("0x553")]),null!=d[_0x1dda("0xdb8")]&&d[_0x1dda("0x2")]("address")&&(a[_0x1dda("0xdb8")]=d.address),null!=d.AS&&d[_0x1dda("0x2")]("AS")&&(a.AS=d.AS),null!=d.BuildingHigh&&d.hasOwnProperty(_0x1dda("0xdb9"))&&(a[_0x1dda("0xdb9")]=d[_0x1dda("0xdb9")]),null!=d.Tel&&d.hasOwnProperty(_0x1dda("0xdba"))&&(a[_0x1dda("0xdba")]=d[_0x1dda("0xdba")]),null!=d[_0x1dda("0xdbb")]&&d[_0x1dda("0x2")](_0x1dda("0xdbb"))&&(a[_0x1dda("0xdbb")]=d[_0x1dda("0xdbb")]),null!=d[_0x1dda("0xdbc")]&&d.hasOwnProperty("FirstRotateAngleY")&&(a[_0x1dda("0xdbc")]=d[_0x1dda("0xdbc")]),null!=d.FirstRotateAngleZ&&d[_0x1dda("0x2")](_0x1dda("0xdbd"))&&(a.FirstRotateAngleZ=d[_0x1dda("0xdbd")]),null!=d.Firstscale&&d[_0x1dda("0x2")](_0x1dda("0xdc1"))&&(a.Firstscale=d.Firstscale),null!=d[_0x1dda("0xbc2")]&&d[_0x1dda("0x2")]("DefaultFnum")&&(a.DefaultFnum=d[_0x1dda("0xbc2")]),null!=d[_0x1dda("0xbca")]&&d[_0x1dda("0x2")](_0x1dda("0xbca"))&&(a[_0x1dda("0xbca")]=d[_0x1dda("0xbca")]),null!=d.DefaultCenY&&d[_0x1dda("0x2")](_0x1dda("0xc96"))&&(a[_0x1dda("0xc96")]=d[_0x1dda("0xc96")]),null!=d.DefaultCenZ&&d[_0x1dda("0x2")](_0x1dda("0xdc2"))&&(a.DefaultCenZ=d[_0x1dda("0xdc2")]),null!=d.x&&d[_0x1dda("0x2")]("x")&&(a.x=d.x),null!=d.y&&d[_0x1dda("0x2")]("y")&&(a.y=d.y),null!=d.z&&d[_0x1dda("0x2")]("z")&&(a.z=d.z),null!=d[_0x1dda("0x556")]&&d[_0x1dda("0x2")](_0x1dda("0x556"))&&(a.minX=d[_0x1dda("0x556")]),null!=d.minY&&d.hasOwnProperty(_0x1dda("0x558"))&&(a[_0x1dda("0x558")]=d.minY),null!=d[_0x1dda("0x559")]&&d[_0x1dda("0x2")](_0x1dda("0x559"))&&(a[_0x1dda("0x559")]=d[_0x1dda("0x559")]),null!=d.maxY&&d.hasOwnProperty(_0x1dda("0x55b"))&&(a[_0x1dda("0x55b")]=d[_0x1dda("0x55b")]),null!=d[_0x1dda("0xbcf")]&&d[_0x1dda("0x2")]("ScaleLevel")&&(a[_0x1dda("0xbcf")]=d[_0x1dda("0xbcf")]),null!=d[_0x1dda("0x55f")]&&d[_0x1dda("0x2")]("Remark")&&(a[_0x1dda("0x55f")]=d[_0x1dda("0x55f")]),null!=d[_0x1dda("0xdbe")]&&d[_0x1dda("0x2")](_0x1dda("0xdbe"))&&(a[_0x1dda("0xdbe")]=d[_0x1dda("0xdbe")]),null!=d[_0x1dda("0xda5")]&&d[_0x1dda("0x2")]("FloorHigh")&&(a[_0x1dda("0xda5")]=d[_0x1dda("0xda5")]),d.floors&&d[_0x1dda("0xa50")].length){a[_0x1dda("0xa50")]=[];for(var _=0;_<d[_0x1dda("0xa50")][_0x1dda("0x0")];++_)a.floors[_]=c.ESMap[_0x1dda("0xdc4")].toObject(d[_0x1dda("0xa50")][_],x)}if(d.navs&&d[_0x1dda("0xc98")][_0x1dda("0x0")])for(a.navs=[],_=0;_<d.navs[_0x1dda("0x0")];++_)a[_0x1dda("0xc98")][_]=c[_0x1dda("0x33")][_0x1dda("0xdc3")][_0x1dda("0x5a8")](d[_0x1dda("0xc98")][_],x);if(d[_0x1dda("0xdc0")]&&d[_0x1dda("0xdc0")][_0x1dda("0x0")])for(a[_0x1dda("0xdc0")]=[],_=0;_<d[_0x1dda("0xdc0")].length;++_)a[_0x1dda("0xdc0")][_]=c[_0x1dda("0x33")][_0x1dda("0xdc5")][_0x1dda("0x5a8")](d.panos[_],x);return null!=d.styleid&&d[_0x1dda("0x2")](_0x1dda("0x560"))&&(a.styleid=d.styleid),null!=d[_0x1dda("0x88")]&&d.hasOwnProperty(_0x1dda("0x88"))&&(a[_0x1dda("0x88")]=d.token),null!=d[_0x1dda("0x12d")]&&d[_0x1dda("0x2")](_0x1dda("0x12d"))&&(a[_0x1dda("0x12d")]=d[_0x1dda("0x12d")]),null!=d[_0x1dda("0x571")]&&d[_0x1dda("0x2")](_0x1dda("0x571"))&&(a[_0x1dda("0x571")]=d[_0x1dda("0x571")]),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&(a.other1=d[_0x1dda("0x562")]),null!=d.o1&&d.hasOwnProperty("o1")&&(a.o1=d.o1),null!=d.other2&&d[_0x1dda("0x2")](_0x1dda("0x572"))&&(a[_0x1dda("0x572")]=d[_0x1dda("0x572")]),null!=d.o2&&d.hasOwnProperty("o2")&&(a.o2=d.o2),null!=d.ul&&d[_0x1dda("0x2")]("ul")&&(a.ul=d.ul),null!=d.t1&&d.hasOwnProperty("t1")&&(a.t1=d.t1),a},d[_0x1dda("0x1")].toObject=function(d){return this.constructor[_0x1dda("0x5a8")](this,d)},d.prototype[_0x1dda("0x5a7")]=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n.util[_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xdc4")]=function(){function d(d){if(this[_0x1dda("0xd29")]={},this[_0x1dda("0xd9c")]={},this[_0x1dda("0x398")]={},this[_0x1dda("0xd9e")]={},d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")][_0x1dda("0xbd4")]=0,d[_0x1dda("0x1")][_0x1dda("0xda3")]=0,d.prototype[_0x1dda("0xfc")]="",d[_0x1dda("0x1")][_0x1dda("0xa9c")]="",d[_0x1dda("0x1")].AS=0,d[_0x1dda("0x1")].Height=0,d[_0x1dda("0x1")][_0x1dda("0xa51")]=0,d[_0x1dda("0x1")][_0x1dda("0xd40")]="",d.prototype[_0x1dda("0xde4")]="",d[_0x1dda("0x1")].Rooms=o[_0x1dda("0xd2c")],d[_0x1dda("0x1")].Facility=o[_0x1dda("0xd2c")],d[_0x1dda("0x1")][_0x1dda("0x398")]=o[_0x1dda("0xd2c")],d.prototype[_0x1dda("0xd9e")]=o[_0x1dda("0xd2c")],d[_0x1dda("0x1")].image="",d[_0x1dda("0x1")][_0x1dda("0xde5")]="",d[_0x1dda("0x1")][_0x1dda("0x562")]="",d[_0x1dda("0x1")][_0x1dda("0x572")]="",d[_0x1dda("0x566")]=function(x){return new d(x)},d.encode=function(d,x){if(x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xbd4")]&&d[_0x1dda("0x2")]("floornum")&&x[_0x1dda("0x567")](16).int32(d[_0x1dda("0xbd4")]),null!=d[_0x1dda("0xda3")]&&d[_0x1dda("0x2")](_0x1dda("0xda3"))&&x[_0x1dda("0x567")](24)[_0x1dda("0x568")](d[_0x1dda("0xda3")]),null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&x.uint32(34).string(d[_0x1dda("0xfc")]),null!=d.NameEn&&d[_0x1dda("0x2")](_0x1dda("0xa9c"))&&x[_0x1dda("0x567")](42)[_0x1dda("0xe")](d[_0x1dda("0xa9c")]),null!=d.AS&&d[_0x1dda("0x2")]("AS")&&x[_0x1dda("0x567")](49)[_0x1dda("0x56b")](d.AS),null!=d[_0x1dda("0x2cf")]&&d[_0x1dda("0x2")](_0x1dda("0x2cf"))&&x[_0x1dda("0x567")](56)[_0x1dda("0x568")](d[_0x1dda("0x2cf")]),null!=d.Elevation&&d[_0x1dda("0x2")]("Elevation")&&x[_0x1dda("0x567")](64).int32(d[_0x1dda("0xa51")]),null!=d.Outline&&d[_0x1dda("0x2")]("Outline")&&x.uint32(74)[_0x1dda("0xe")](d[_0x1dda("0xd40")]),null!=d.Alias&&d.hasOwnProperty(_0x1dda("0xde4"))&&x[_0x1dda("0x567")](82)[_0x1dda("0xe")](d[_0x1dda("0xde4")]),null!=d[_0x1dda("0xd29")]&&d[_0x1dda("0x2")](_0x1dda("0xd29")))for(var a=(0,e.default)(d[_0x1dda("0xd29")]),_=0;_<a[_0x1dda("0x0")];++_)x[_0x1dda("0x567")](90)[_0x1dda("0xd2d")]().uint32(8).int32(a[_]),c[_0x1dda("0x33")][_0x1dda("0xd2e")][_0x1dda("0x565")](d.Rooms[a[_]],x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]().ldelim();if(null!=d.Facility&&d[_0x1dda("0x2")](_0x1dda("0xd9c")))for(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xd9c")]),_=0;_<a.length;++_)x[_0x1dda("0x567")](98)[_0x1dda("0xd2d")]()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x33")][_0x1dda("0xd2f")].encode(d[_0x1dda("0xd9c")][a[_]],x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]()[_0x1dda("0xd30")]();if(null!=d.Labels&&d.hasOwnProperty(_0x1dda("0x398")))for(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x398")]),_=0;_<a.length;++_)x.uint32(106)[_0x1dda("0xd2d")]()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c.ESMap[_0x1dda("0xd2f")][_0x1dda("0x565")](d[_0x1dda("0x398")][a[_]],x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]().ldelim();if(null!=d.Lifts&&d.hasOwnProperty(_0x1dda("0xd9e")))for(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xd9e")]),_=0;_<a.length;++_)x[_0x1dda("0x567")](114).fork()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x33")][_0x1dda("0xde6")].encode(d.Lifts[a[_]],x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]().ldelim();return null!=d[_0x1dda("0x2df")]&&d.hasOwnProperty("image")&&x.uint32(122)[_0x1dda("0xe")](d.image),null!=d[_0x1dda("0xde5")]&&d[_0x1dda("0x2")](_0x1dda("0xde5"))&&x[_0x1dda("0x567")](130)[_0x1dda("0xe")](d[_0x1dda("0xde5")]),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&x.uint32(138)[_0x1dda("0xe")](d[_0x1dda("0x562")]),null!=d[_0x1dda("0x572")]&&d[_0x1dda("0x2")](_0x1dda("0x572"))&&x[_0x1dda("0x567")](146)[_0x1dda("0xe")](d[_0x1dda("0x572")]),x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x).ldelim()},d.decode=function(d,x){d instanceof r||(d=r.create(d));for(var a,_=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,e=new c.ESMap.FloorSet;d[_0x1dda("0x3d8")]<_;){var t=d[_0x1dda("0x567")]();switch(t>>>3){case 1:e._id=d[_0x1dda("0x568")]();break;case 2:e[_0x1dda("0xbd4")]=d[_0x1dda("0x568")]();break;case 3:e[_0x1dda("0xda3")]=d[_0x1dda("0x568")]();break;case 4:e[_0x1dda("0xfc")]=d[_0x1dda("0xe")]();break;case 5:e[_0x1dda("0xa9c")]=d[_0x1dda("0xe")]();break;case 6:e.AS=d.double();break;case 7:e[_0x1dda("0x2cf")]=d[_0x1dda("0x568")]();break;case 8:e[_0x1dda("0xa51")]=d[_0x1dda("0x568")]();break;case 9:e[_0x1dda("0xd40")]=d[_0x1dda("0xe")]();break;case 10:e[_0x1dda("0xde4")]=d[_0x1dda("0xe")]();break;case 11:d[_0x1dda("0xd32")]().pos++,e[_0x1dda("0xd29")]===o[_0x1dda("0xd2c")]&&(e[_0x1dda("0xd29")]={}),a=d[_0x1dda("0x568")](),d[_0x1dda("0x3d8")]++,e[_0x1dda("0xd29")][a]=c[_0x1dda("0x33")].RoomSet[_0x1dda("0x45")](d,d[_0x1dda("0x567")]());break;case 12:d[_0x1dda("0xd32")]()[_0x1dda("0x3d8")]++,e[_0x1dda("0xd9c")]===o[_0x1dda("0xd2c")]&&(e.Facility={}),a=d[_0x1dda("0x568")](),d[_0x1dda("0x3d8")]++,e[_0x1dda("0xd9c")][a]=c.ESMap[_0x1dda("0xd2f")].decode(d,d[_0x1dda("0x567")]());break;case 13:d[_0x1dda("0xd32")]()[_0x1dda("0x3d8")]++,e[_0x1dda("0x398")]===o[_0x1dda("0xd2c")]&&(e[_0x1dda("0x398")]={}),a=d[_0x1dda("0x568")](),d[_0x1dda("0x3d8")]++,e[_0x1dda("0x398")][a]=c[_0x1dda("0x33")][_0x1dda("0xd2f")][_0x1dda("0x45")](d,d.uint32());break;case 14:d.skip()[_0x1dda("0x3d8")]++,e[_0x1dda("0xd9e")]===o[_0x1dda("0xd2c")]&&(e[_0x1dda("0xd9e")]={}),a=d[_0x1dda("0x568")](),d[_0x1dda("0x3d8")]++,e[_0x1dda("0xd9e")][a]=c[_0x1dda("0x33")][_0x1dda("0xde6")][_0x1dda("0x45")](d,d[_0x1dda("0x567")]());break;case 15:e[_0x1dda("0x2df")]=d[_0x1dda("0xe")]();break;case 16:e[_0x1dda("0xde5")]=d[_0x1dda("0xe")]();break;case 17:e[_0x1dda("0x562")]=d[_0x1dda("0xe")]();break;case 18:e[_0x1dda("0x572")]=d[_0x1dda("0xe")]();break;default:d[_0x1dda("0x576")](7&t)}}return e},d.decodeDelimited=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d.uint32())},d[_0x1dda("0x578")]=function(d){if((typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_.default)(d))!==_0x1dda("0x1b")||null===d)return _0x1dda("0x579");if(null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a0")]))return _0x1dda("0x57f");if(null!=d[_0x1dda("0xbd4")]&&d[_0x1dda("0x2")](_0x1dda("0xbd4"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xbd4")]))return"floornum: integer expected";if(null!=d[_0x1dda("0xda3")]&&d.hasOwnProperty(_0x1dda("0xda3"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xda3")]))return _0x1dda("0xde7");if(null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xfc")]))return _0x1dda("0x581");if(null!=d[_0x1dda("0xa9c")]&&d[_0x1dda("0x2")](_0x1dda("0xa9c"))&&!o.isString(d[_0x1dda("0xa9c")]))return _0x1dda("0xde8");if(null!=d.AS&&d[_0x1dda("0x2")]("AS")&&typeof d.AS!==_0x1dda("0x177"))return _0x1dda("0x584");if(null!=d.Height&&d[_0x1dda("0x2")]("Height")&&!o[_0x1dda("0x57b")](d[_0x1dda("0x2cf")]))return _0x1dda("0xde9");if(null!=d[_0x1dda("0xa51")]&&d[_0x1dda("0x2")](_0x1dda("0xa51"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xa51")]))return _0x1dda("0xdea");if(null!=d.Outline&&d[_0x1dda("0x2")](_0x1dda("0xd40"))&&!o[_0x1dda("0x332")](d.Outline))return _0x1dda("0xd57");if(null!=d[_0x1dda("0xde4")]&&d[_0x1dda("0x2")](_0x1dda("0xde4"))&&!o[_0x1dda("0x332")](d.Alias))return _0x1dda("0xdeb");if(null!=d.Rooms&&d[_0x1dda("0x2")](_0x1dda("0xd29"))){if(!o.isObject(d[_0x1dda("0xd29")]))return _0x1dda("0xd37");for(var x=(0,e.default)(d[_0x1dda("0xd29")]),a=0;a<x[_0x1dda("0x0")];++a){if(!o.key32Re.test(x[a]))return"Rooms: integer key{k:int32} expected";if(t=c[_0x1dda("0x33")][_0x1dda("0xd2e")][_0x1dda("0x578")](d.Rooms[x[a]]))return _0x1dda("0xdec")+t}}if(null!=d[_0x1dda("0xd9c")]&&d[_0x1dda("0x2")](_0x1dda("0xd9c"))){if(!o.isObject(d[_0x1dda("0xd9c")]))return"Facility: object expected";for(x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xd9c")]),a=0;a<x[_0x1dda("0x0")];++a){if(!o[_0x1dda("0xd38")][_0x1dda("0x29")](x[a]))return _0x1dda("0xded");if(t=c[_0x1dda("0x33")].POISet[_0x1dda("0x578")](d[_0x1dda("0xd9c")][x[a]]))return _0x1dda("0xdee")+t}}if(null!=d[_0x1dda("0x398")]&&d[_0x1dda("0x2")](_0x1dda("0x398"))){if(!o.isObject(d[_0x1dda("0x398")]))return"Labels: object expected";for(x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x398")]),a=0;a<x[_0x1dda("0x0")];++a){if(!o[_0x1dda("0xd38")].test(x[a]))return"Labels: integer key{k:int32} expected";if(t=c[_0x1dda("0x33")].POISet[_0x1dda("0x578")](d[_0x1dda("0x398")][x[a]]))return"Labels."+t}}if(null!=d[_0x1dda("0xd9e")]&&d.hasOwnProperty("Lifts")){if(!o[_0x1dda("0x17")](d[_0x1dda("0xd9e")]))return"Lifts: object expected";for(x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xd9e")]),a=0;a<x[_0x1dda("0x0")];++a){if(!o[_0x1dda("0xd38")][_0x1dda("0x29")](x[a]))return _0x1dda("0xdef");var t;if(t=c.ESMap[_0x1dda("0xde6")][_0x1dda("0x578")](d.Lifts[x[a]]))return _0x1dda("0xdf0")+t}}return null!=d[_0x1dda("0x2df")]&&d.hasOwnProperty(_0x1dda("0x2df"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x2df")])?_0x1dda("0xdf1"):null!=d.imagesize&&d[_0x1dda("0x2")](_0x1dda("0xde5"))&&!o[_0x1dda("0x332")](d.imagesize)?_0x1dda("0xdf2"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x562")])?_0x1dda("0x596"):null!=d[_0x1dda("0x572")]&&d[_0x1dda("0x2")]("other2")&&!o[_0x1dda("0x332")](d[_0x1dda("0x572")])?_0x1dda("0x597"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x33")][_0x1dda("0xdc4")])return d;var x=new(c[_0x1dda("0x33")][_0x1dda("0xdc4")]);if(null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xbd4")]&&(x[_0x1dda("0xbd4")]=0|d.floornum),null!=d.floornumtext&&(x[_0x1dda("0xda3")]=0|d[_0x1dda("0xda3")]),null!=d[_0x1dda("0xfc")]&&(x[_0x1dda("0xfc")]=String(d[_0x1dda("0xfc")])),null!=d[_0x1dda("0xa9c")]&&(x[_0x1dda("0xa9c")]=String(d.NameEn)),null!=d.AS&&(x.AS=Number(d.AS)),null!=d[_0x1dda("0x2cf")]&&(x.Height=0|d[_0x1dda("0x2cf")]),null!=d[_0x1dda("0xa51")]&&(x[_0x1dda("0xa51")]=0|d[_0x1dda("0xa51")]),null!=d[_0x1dda("0xd40")]&&(x[_0x1dda("0xd40")]=String(d[_0x1dda("0xd40")])),null!=d[_0x1dda("0xde4")]&&(x[_0x1dda("0xde4")]=String(d[_0x1dda("0xde4")])),d[_0x1dda("0xd29")]){if((0,_[_0x1dda("0xd")])(d.Rooms)!==_0x1dda("0x1b"))throw TypeError(".ESMap.FloorSet.Rooms: object expected");x.Rooms={};for(var a=(0,e[_0x1dda("0xd")])(d.Rooms),t=0;t<a[_0x1dda("0x0")];++t){if((0,_[_0x1dda("0xd")])(d.Rooms[a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xdf3"));x.Rooms[a[t]]=c[_0x1dda("0x33")].RoomSet[_0x1dda("0x5a0")](d[_0x1dda("0xd29")][a[t]])}}if(d[_0x1dda("0xd9c")]){if("object"!==(0,_[_0x1dda("0xd")])(d[_0x1dda("0xd9c")]))throw TypeError(_0x1dda("0xdf4"));for(x.Facility={},a=(0,e.default)(d[_0x1dda("0xd9c")]),t=0;t<a[_0x1dda("0x0")];++t){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0xd9c")][a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xdf4"));x[_0x1dda("0xd9c")][a[t]]=c[_0x1dda("0x33")][_0x1dda("0xd2f")].fromObject(d[_0x1dda("0xd9c")][a[t]])}}if(d[_0x1dda("0x398")]){if((0,_[_0x1dda("0xd")])(d.Labels)!==_0x1dda("0x1b"))throw TypeError(".ESMap.FloorSet.Labels: object expected");for(x[_0x1dda("0x398")]={},a=(0,e[_0x1dda("0xd")])(d.Labels),t=0;t<a.length;++t){if((0,_[_0x1dda("0xd")])(d.Labels[a[t]])!==_0x1dda("0x1b"))throw TypeError(".ESMap.FloorSet.Labels: object expected");x[_0x1dda("0x398")][a[t]]=c[_0x1dda("0x33")][_0x1dda("0xd2f")][_0x1dda("0x5a0")](d.Labels[a[t]])}}if(d[_0x1dda("0xd9e")]){if((0,_.default)(d.Lifts)!==_0x1dda("0x1b"))throw TypeError(".ESMap.FloorSet.Lifts: object expected");for(x[_0x1dda("0xd9e")]={},a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xd9e")]),t=0;t<a[_0x1dda("0x0")];++t){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0xd9e")][a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xdf5"));x[_0x1dda("0xd9e")][a[t]]=c[_0x1dda("0x33")][_0x1dda("0xde6")][_0x1dda("0x5a0")](d[_0x1dda("0xd9e")][a[t]])}}return null!=d.image&&(x.image=String(d[_0x1dda("0x2df")])),null!=d[_0x1dda("0xde5")]&&(x[_0x1dda("0xde5")]=String(d.imagesize)),null!=d[_0x1dda("0x562")]&&(x.other1=String(d[_0x1dda("0x562")])),null!=d.other2&&(x[_0x1dda("0x572")]=String(d[_0x1dda("0x572")])),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a,_={};if((x[_0x1dda("0x6f3")]||x[_0x1dda("0x5a5")])&&(_[_0x1dda("0xd29")]={},_.Facility={},_[_0x1dda("0x398")]={},_.Lifts={}),x.defaults&&(_._id=0,_[_0x1dda("0xbd4")]=0,_[_0x1dda("0xda3")]=0,_[_0x1dda("0xfc")]="",_[_0x1dda("0xa9c")]="",_.AS=0,_[_0x1dda("0x2cf")]=0,_[_0x1dda("0xa51")]=0,_[_0x1dda("0xd40")]="",_.Alias="",_[_0x1dda("0x2df")]="",_[_0x1dda("0xde5")]="",_.other1="",_[_0x1dda("0x572")]=""),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(_._id=d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xbd4")]&&d[_0x1dda("0x2")](_0x1dda("0xbd4"))&&(_.floornum=d[_0x1dda("0xbd4")]),null!=d[_0x1dda("0xda3")]&&d[_0x1dda("0x2")](_0x1dda("0xda3"))&&(_[_0x1dda("0xda3")]=d.floornumtext),null!=d.name&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&(_[_0x1dda("0xfc")]=d[_0x1dda("0xfc")]),null!=d[_0x1dda("0xa9c")]&&d[_0x1dda("0x2")]("NameEn")&&(_[_0x1dda("0xa9c")]=d[_0x1dda("0xa9c")]),null!=d.AS&&d.hasOwnProperty("AS")&&(_.AS=d.AS),null!=d.Height&&d[_0x1dda("0x2")](_0x1dda("0x2cf"))&&(_[_0x1dda("0x2cf")]=d[_0x1dda("0x2cf")]),null!=d[_0x1dda("0xa51")]&&d[_0x1dda("0x2")](_0x1dda("0xa51"))&&(_[_0x1dda("0xa51")]=d[_0x1dda("0xa51")]),null!=d[_0x1dda("0xd40")]&&d.hasOwnProperty(_0x1dda("0xd40"))&&(_[_0x1dda("0xd40")]=d[_0x1dda("0xd40")]),null!=d[_0x1dda("0xde4")]&&d[_0x1dda("0x2")]("Alias")&&(_[_0x1dda("0xde4")]=d[_0x1dda("0xde4")]),d[_0x1dda("0xd29")]&&(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xd29")]))[_0x1dda("0x0")]){_[_0x1dda("0xd29")]={};for(var t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0xd29")][a[t]]=c[_0x1dda("0x33")].RoomSet[_0x1dda("0x5a8")](d[_0x1dda("0xd29")][a[t]],x)}if(d[_0x1dda("0xd9c")]&&(a=(0,e.default)(d[_0x1dda("0xd9c")])).length)for(_[_0x1dda("0xd9c")]={},t=0;t<a[_0x1dda("0x0")];++t)_.Facility[a[t]]=c[_0x1dda("0x33")].POISet[_0x1dda("0x5a8")](d[_0x1dda("0xd9c")][a[t]],x);if(d[_0x1dda("0x398")]&&(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x398")])).length)for(_[_0x1dda("0x398")]={},t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0x398")][a[t]]=c.ESMap[_0x1dda("0xd2f")][_0x1dda("0x5a8")](d.Labels[a[t]],x);if(d[_0x1dda("0xd9e")]&&(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xd9e")]))[_0x1dda("0x0")])for(_[_0x1dda("0xd9e")]={},t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0xd9e")][a[t]]=c[_0x1dda("0x33")].LiftSet[_0x1dda("0x5a8")](d[_0x1dda("0xd9e")][a[t]],x);return null!=d[_0x1dda("0x2df")]&&d[_0x1dda("0x2")](_0x1dda("0x2df"))&&(_[_0x1dda("0x2df")]=d[_0x1dda("0x2df")]),null!=d.imagesize&&d[_0x1dda("0x2")](_0x1dda("0xde5"))&&(_.imagesize=d[_0x1dda("0xde5")]),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&(_[_0x1dda("0x562")]=d[_0x1dda("0x562")]),null!=d[_0x1dda("0x572")]&&d[_0x1dda("0x2")](_0x1dda("0x572"))&&(_[_0x1dda("0x572")]=d[_0x1dda("0x572")]),_},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")].toObject(this,d)},d[_0x1dda("0x1")][_0x1dda("0x5a7")]=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n.util[_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xd2e")]=function(){function d(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")][_0x1dda("0xfc")]="",d[_0x1dda("0x1")][_0x1dda("0xa9c")]="",d[_0x1dda("0x1")][_0x1dda("0xc7d")]="",d[_0x1dda("0x1")][_0x1dda("0x3a1")]=0,d[_0x1dda("0x1")].RL="",d[_0x1dda("0x1")].RLSize="",d.prototype.BC=0,d[_0x1dda("0x1")].RC="",d[_0x1dda("0x1")].RH=0,d[_0x1dda("0x1")].RM="",d[_0x1dda("0x1")][_0x1dda("0xc7c")]="",d[_0x1dda("0x1")][_0x1dda("0xbbb")]="",d.prototype.RMO="",d.prototype.RS=0,d[_0x1dda("0x1")].SL=0,d[_0x1dda("0x1")][_0x1dda("0xbbc")]=0,d[_0x1dda("0x1")].CenY=0,d[_0x1dda("0x1")].AS=0,d[_0x1dda("0x1")][_0x1dda("0xd40")]="",d[_0x1dda("0x1")][_0x1dda("0xdf6")]=0,d[_0x1dda("0x1")].ShopID=0,d[_0x1dda("0x1")].FS=0,d[_0x1dda("0x1")].FC="",d[_0x1dda("0x1")][_0x1dda("0x562")]="",d.create=function(x){return new d(x)},d.encode=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")]("_id")&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d._id),null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&x[_0x1dda("0x567")](18)[_0x1dda("0xe")](d.name),null!=d.NameEn&&d[_0x1dda("0x2")](_0x1dda("0xa9c"))&&x[_0x1dda("0x567")](26).string(d[_0x1dda("0xa9c")]),null!=d.Brief&&d[_0x1dda("0x2")](_0x1dda("0xc7d"))&&x.uint32(34)[_0x1dda("0xe")](d[_0x1dda("0xc7d")]),null!=d[_0x1dda("0x3a1")]&&d.hasOwnProperty(_0x1dda("0x3a1"))&&x[_0x1dda("0x567")](40)[_0x1dda("0x568")](d[_0x1dda("0x3a1")]),null!=d.RL&&d[_0x1dda("0x2")]("RL")&&x.uint32(50)[_0x1dda("0xe")](d.RL),null!=d[_0x1dda("0xc78")]&&d.hasOwnProperty("RLSize")&&x[_0x1dda("0x567")](58).string(d[_0x1dda("0xc78")]),null!=d.BC&&d[_0x1dda("0x2")]("BC")&&x.uint32(64)[_0x1dda("0x568")](d.BC),null!=d.RC&&d[_0x1dda("0x2")]("RC")&&x[_0x1dda("0x567")](74).string(d.RC),null!=d.RH&&d[_0x1dda("0x2")]("RH")&&x[_0x1dda("0x567")](81)[_0x1dda("0x56b")](d.RH),null!=d.RM&&d[_0x1dda("0x2")]("RM")&&x[_0x1dda("0x567")](90)[_0x1dda("0xe")](d.RM),null!=d[_0x1dda("0xc7c")]&&d.hasOwnProperty(_0x1dda("0xc7c"))&&x[_0x1dda("0x567")](98)[_0x1dda("0xe")](d[_0x1dda("0xc7c")]),null!=d.RMR&&d[_0x1dda("0x2")](_0x1dda("0xbbb"))&&x.uint32(106)[_0x1dda("0xe")](d[_0x1dda("0xbbb")]),null!=d.RMO&&d.hasOwnProperty(_0x1dda("0xbbe"))&&x.uint32(114)[_0x1dda("0xe")](d[_0x1dda("0xbbe")]),null!=d.RS&&d.hasOwnProperty("RS")&&x[_0x1dda("0x567")](120)[_0x1dda("0x568")](d.RS),null!=d.SL&&d[_0x1dda("0x2")]("SL")&&x[_0x1dda("0x567")](128)[_0x1dda("0x568")](d.SL),null!=d[_0x1dda("0xbbc")]&&d[_0x1dda("0x2")]("CenX")&&x[_0x1dda("0x567")](137)[_0x1dda("0x56b")](d[_0x1dda("0xbbc")]),null!=d[_0x1dda("0xbbd")]&&d[_0x1dda("0x2")]("CenY")&&x[_0x1dda("0x567")](145)[_0x1dda("0x56b")](d[_0x1dda("0xbbd")]),null!=d.AS&&d[_0x1dda("0x2")]("AS")&&x[_0x1dda("0x567")](153).double(d.AS),null!=d[_0x1dda("0xd40")]&&d.hasOwnProperty(_0x1dda("0xd40"))&&x.uint32(162).string(d.Outline),null!=d[_0x1dda("0xdf6")]&&d[_0x1dda("0x2")](_0x1dda("0xdf6"))&&x[_0x1dda("0x567")](168).int32(d[_0x1dda("0xdf6")]),null!=d[_0x1dda("0xdf7")]&&d.hasOwnProperty(_0x1dda("0xdf7"))&&x[_0x1dda("0x567")](176).int32(d[_0x1dda("0xdf7")]),null!=d.FS&&d[_0x1dda("0x2")]("FS")&&x[_0x1dda("0x567")](184)[_0x1dda("0x568")](d.FS),null!=d.FC&&d[_0x1dda("0x2")]("FC")&&x.uint32(194)[_0x1dda("0xe")](d.FC),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&x.uint32(202)[_0x1dda("0xe")](d[_0x1dda("0x562")]),x},d[_0x1dda("0xd31")]=function(d,x){return this.encode(d,x).ldelim()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a=void 0===x?d.len:d.pos+x,_=new(c[_0x1dda("0x33")][_0x1dda("0xd2e")]);d[_0x1dda("0x3d8")]<a;){var e=d[_0x1dda("0x567")]();switch(e>>>3){case 1:_[_0x1dda("0x3a0")]=d.int32();break;case 2:_.name=d[_0x1dda("0xe")]();break;case 3:_[_0x1dda("0xa9c")]=d[_0x1dda("0xe")]();break;case 4:_[_0x1dda("0xc7d")]=d.string();break;case 5:_[_0x1dda("0x3a1")]=d[_0x1dda("0x568")]();break;case 6:_.RL=d.string();break;case 7:_.RLSize=d[_0x1dda("0xe")]();break;case 8:_.BC=d[_0x1dda("0x568")]();break;case 9:_.RC=d[_0x1dda("0xe")]();break;case 10:_.RH=d[_0x1dda("0x56b")]();break;case 11:_.RM=d[_0x1dda("0xe")]();break;case 12:_.RMS=d[_0x1dda("0xe")]();break;case 13:_.RMR=d.string();break;case 14:_.RMO=d[_0x1dda("0xe")]();break;case 15:_.RS=d[_0x1dda("0x568")]();break;case 16:_.SL=d.int32();break;case 17:_[_0x1dda("0xbbc")]=d[_0x1dda("0x56b")]();break;case 18:_[_0x1dda("0xbbd")]=d[_0x1dda("0x56b")]();break;case 19:_.AS=d.double();break;case 20:_[_0x1dda("0xd40")]=d[_0x1dda("0xe")]();break;case 21:_[_0x1dda("0xdf6")]=d[_0x1dda("0x568")]();break;case 22:_[_0x1dda("0xdf7")]=d[_0x1dda("0x568")]();break;case 23:_.FS=d[_0x1dda("0x568")]();break;case 24:_.FC=d[_0x1dda("0xe")]();break;case 25:_[_0x1dda("0x562")]=d[_0x1dda("0xe")]();break;default:d[_0x1dda("0x576")](7&e)}}return _},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d.uint32())},d[_0x1dda("0x578")]=function(d){return(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_.default)(d))!==_0x1dda("0x1b")||null===d?_0x1dda("0x579"):null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty(_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d._id)?"_id: integer expected":null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&!o.isString(d.name)?_0x1dda("0x581"):null!=d[_0x1dda("0xa9c")]&&d.hasOwnProperty(_0x1dda("0xa9c"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xa9c")])?"NameEn: string expected":null!=d.Brief&&d[_0x1dda("0x2")](_0x1dda("0xc7d"))&&!o[_0x1dda("0x332")](d.Brief)?"Brief: string expected":null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&!o[_0x1dda("0x57b")](d.Tid)?"Tid: integer expected":null!=d.RL&&d[_0x1dda("0x2")]("RL")&&!o[_0x1dda("0x332")](d.RL)?_0x1dda("0xd4f"):null!=d[_0x1dda("0xc78")]&&d[_0x1dda("0x2")](_0x1dda("0xc78"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xc78")])?_0x1dda("0xd50"):null!=d.BC&&d.hasOwnProperty("BC")&&!o[_0x1dda("0x57b")](d.BC)?_0x1dda("0xd51"):null!=d.RC&&d[_0x1dda("0x2")]("RC")&&!o[_0x1dda("0x332")](d.RC)?_0x1dda("0xdf8"):null!=d.RH&&d[_0x1dda("0x2")]("RH")&&"number"!=typeof d.RH?_0x1dda("0xdf9"):null!=d.RM&&d[_0x1dda("0x2")]("RM")&&!o[_0x1dda("0x332")](d.RM)?_0x1dda("0xd54"):null!=d.RMS&&d[_0x1dda("0x2")]("RMS")&&!o[_0x1dda("0x332")](d.RMS)?"RMS: string expected":null!=d[_0x1dda("0xbbb")]&&d[_0x1dda("0x2")](_0x1dda("0xbbb"))&&!o.isString(d[_0x1dda("0xbbb")])?_0x1dda("0xd56"):null!=d.RMO&&d[_0x1dda("0x2")]("RMO")&&!o[_0x1dda("0x332")](d.RMO)?_0x1dda("0xdfa"):null!=d.RS&&d[_0x1dda("0x2")]("RS")&&!o[_0x1dda("0x57b")](d.RS)?_0x1dda("0xdfb"):null!=d.SL&&d[_0x1dda("0x2")]("SL")&&!o[_0x1dda("0x57b")](d.SL)?_0x1dda("0xdfc"):null!=d[_0x1dda("0xbbc")]&&d[_0x1dda("0x2")](_0x1dda("0xbbc"))&&typeof d[_0x1dda("0xbbc")]!==_0x1dda("0x177")?_0x1dda("0xdfd"):null!=d[_0x1dda("0xbbd")]&&d[_0x1dda("0x2")](_0x1dda("0xbbd"))&&"number"!=typeof d.CenY?"CenY: number expected":null!=d.AS&&d[_0x1dda("0x2")]("AS")&&typeof d.AS!==_0x1dda("0x177")?_0x1dda("0x584"):null!=d[_0x1dda("0xd40")]&&d.hasOwnProperty(_0x1dda("0xd40"))&&!o[_0x1dda("0x332")](d.Outline)?_0x1dda("0xd57"):null!=d.PointID&&d.hasOwnProperty(_0x1dda("0xdf6"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xdf6")])?_0x1dda("0xdfe"):null!=d.ShopID&&d.hasOwnProperty("ShopID")&&!o.isInteger(d[_0x1dda("0xdf7")])?_0x1dda("0xdff"):null!=d.FS&&d[_0x1dda("0x2")]("FS")&&!o[_0x1dda("0x57b")](d.FS)?_0x1dda("0xe00"):null!=d.FC&&d[_0x1dda("0x2")]("FC")&&!o[_0x1dda("0x332")](d.FC)?_0x1dda("0xe01"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x562")])?_0x1dda("0x596"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x33")][_0x1dda("0xd2e")])return d;var x=new(c.ESMap[_0x1dda("0xd2e")]);return null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d.name&&(x[_0x1dda("0xfc")]=String(d.name)),null!=d[_0x1dda("0xa9c")]&&(x[_0x1dda("0xa9c")]=String(d[_0x1dda("0xa9c")])),null!=d[_0x1dda("0xc7d")]&&(x[_0x1dda("0xc7d")]=String(d[_0x1dda("0xc7d")])),null!=d[_0x1dda("0x3a1")]&&(x.Tid=0|d[_0x1dda("0x3a1")]),null!=d.RL&&(x.RL=String(d.RL)),null!=d[_0x1dda("0xc78")]&&(x[_0x1dda("0xc78")]=String(d[_0x1dda("0xc78")])),null!=d.BC&&(x.BC=0|d.BC),null!=d.RC&&(x.RC=String(d.RC)),null!=d.RH&&(x.RH=Number(d.RH)),null!=d.RM&&(x.RM=String(d.RM)),null!=d[_0x1dda("0xc7c")]&&(x[_0x1dda("0xc7c")]=String(d[_0x1dda("0xc7c")])),null!=d[_0x1dda("0xbbb")]&&(x.RMR=String(d[_0x1dda("0xbbb")])),null!=d[_0x1dda("0xbbe")]&&(x[_0x1dda("0xbbe")]=String(d[_0x1dda("0xbbe")])),null!=d.RS&&(x.RS=0|d.RS),null!=d.SL&&(x.SL=0|d.SL),null!=d[_0x1dda("0xbbc")]&&(x.CenX=Number(d[_0x1dda("0xbbc")])),null!=d[_0x1dda("0xbbd")]&&(x.CenY=Number(d.CenY)),null!=d.AS&&(x.AS=Number(d.AS)),null!=d[_0x1dda("0xd40")]&&(x[_0x1dda("0xd40")]=String(d.Outline)),null!=d[_0x1dda("0xdf6")]&&(x[_0x1dda("0xdf6")]=0|d[_0x1dda("0xdf6")]),null!=d[_0x1dda("0xdf7")]&&(x.ShopID=0|d[_0x1dda("0xdf7")]),null!=d.FS&&(x.FS=0|d.FS),null!=d.FC&&(x.FC=String(d.FC)),null!=d[_0x1dda("0x562")]&&(x.other1=String(d[_0x1dda("0x562")])),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d.toObject=function(d,x){x||(x={});var a={};return x.defaults&&(a[_0x1dda("0x3a0")]=0,a[_0x1dda("0xfc")]="",a.NameEn="",a[_0x1dda("0xc7d")]="",a[_0x1dda("0x3a1")]=0,a.RL="",a[_0x1dda("0xc78")]="",a.BC=0,a.RC="",a.RH=0,a.RM="",a[_0x1dda("0xc7c")]="",a[_0x1dda("0xbbb")]="",a[_0x1dda("0xbbe")]="",a.RS=0,a.SL=0,a[_0x1dda("0xbbc")]=0,a[_0x1dda("0xbbd")]=0,a.AS=0,a.Outline="",a[_0x1dda("0xdf6")]=0,a[_0x1dda("0xdf7")]=0,a.FS=0,a.FC="",a[_0x1dda("0x562")]=""),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d._id),null!=d.name&&d.hasOwnProperty("name")&&(a[_0x1dda("0xfc")]=d[_0x1dda("0xfc")]),null!=d.NameEn&&d.hasOwnProperty(_0x1dda("0xa9c"))&&(a[_0x1dda("0xa9c")]=d[_0x1dda("0xa9c")]),null!=d[_0x1dda("0xc7d")]&&d.hasOwnProperty(_0x1dda("0xc7d"))&&(a[_0x1dda("0xc7d")]=d[_0x1dda("0xc7d")]),null!=d.Tid&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&(a[_0x1dda("0x3a1")]=d.Tid),null!=d.RL&&d[_0x1dda("0x2")]("RL")&&(a.RL=d.RL),null!=d[_0x1dda("0xc78")]&&d.hasOwnProperty("RLSize")&&(a[_0x1dda("0xc78")]=d[_0x1dda("0xc78")]),null!=d.BC&&d[_0x1dda("0x2")]("BC")&&(a.BC=d.BC),null!=d.RC&&d[_0x1dda("0x2")]("RC")&&(a.RC=d.RC),null!=d.RH&&d[_0x1dda("0x2")]("RH")&&(a.RH=d.RH),null!=d.RM&&d[_0x1dda("0x2")]("RM")&&(a.RM=d.RM),null!=d[_0x1dda("0xc7c")]&&d.hasOwnProperty("RMS")&&(a[_0x1dda("0xc7c")]=d[_0x1dda("0xc7c")]),null!=d[_0x1dda("0xbbb")]&&d[_0x1dda("0x2")](_0x1dda("0xbbb"))&&(a[_0x1dda("0xbbb")]=d.RMR),null!=d.RMO&&d.hasOwnProperty(_0x1dda("0xbbe"))&&(a[_0x1dda("0xbbe")]=d[_0x1dda("0xbbe")]),null!=d.RS&&d[_0x1dda("0x2")]("RS")&&(a.RS=d.RS),null!=d.SL&&d[_0x1dda("0x2")]("SL")&&(a.SL=d.SL),null!=d[_0x1dda("0xbbc")]&&d[_0x1dda("0x2")]("CenX")&&(a[_0x1dda("0xbbc")]=d.CenX),null!=d[_0x1dda("0xbbd")]&&d[_0x1dda("0x2")]("CenY")&&(a[_0x1dda("0xbbd")]=d[_0x1dda("0xbbd")]),null!=d.AS&&d[_0x1dda("0x2")]("AS")&&(a.AS=d.AS),null!=d[_0x1dda("0xd40")]&&d[_0x1dda("0x2")](_0x1dda("0xd40"))&&(a[_0x1dda("0xd40")]=d[_0x1dda("0xd40")]),null!=d.PointID&&d[_0x1dda("0x2")](_0x1dda("0xdf6"))&&(a[_0x1dda("0xdf6")]=d[_0x1dda("0xdf6")]),null!=d[_0x1dda("0xdf7")]&&d[_0x1dda("0x2")](_0x1dda("0xdf7"))&&(a[_0x1dda("0xdf7")]=d[_0x1dda("0xdf7")]),null!=d.FS&&d.hasOwnProperty("FS")&&(a.FS=d.FS),null!=d.FC&&d[_0x1dda("0x2")]("FC")&&(a.FC=d.FC),null!=d.other1&&d[_0x1dda("0x2")]("other1")&&(a[_0x1dda("0x562")]=d.other1),a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")].toObject(this,d)},d[_0x1dda("0x1")][_0x1dda("0x5a7")]=function(){return this.constructor[_0x1dda("0x5a8")](this,n.util.toJSONOptions)},d}(),i[_0x1dda("0xd2f")]=function(){function d(d){if(d)for(var x=(0,e.default)(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")]._id=0,d.prototype[_0x1dda("0xfc")]="",d[_0x1dda("0x1")][_0x1dda("0xa9c")]="",d[_0x1dda("0x1")][_0x1dda("0xc7d")]="",d[_0x1dda("0x1")][_0x1dda("0x3a1")]=0,d[_0x1dda("0x1")].X=0,d[_0x1dda("0x1")].Y=0,d[_0x1dda("0x1")].SL=0,d[_0x1dda("0x1")].SH=0,d[_0x1dda("0x1")].w=0,d.prototype.h=0,d.prototype[_0x1dda("0x2df")]="",d[_0x1dda("0x1")][_0x1dda("0xd5f")]=0,d.prototype[_0x1dda("0x562")]="",d[_0x1dda("0x1")].ipos=0,d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")]("_id")&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")]("name")&&x[_0x1dda("0x567")](18)[_0x1dda("0xe")](d[_0x1dda("0xfc")]),null!=d[_0x1dda("0xa9c")]&&d[_0x1dda("0x2")](_0x1dda("0xa9c"))&&x.uint32(26)[_0x1dda("0xe")](d[_0x1dda("0xa9c")]),null!=d.Brief&&d.hasOwnProperty("Brief")&&x[_0x1dda("0x567")](34)[_0x1dda("0xe")](d[_0x1dda("0xc7d")]),null!=d[_0x1dda("0x3a1")]&&d.hasOwnProperty(_0x1dda("0x3a1"))&&x[_0x1dda("0x567")](40)[_0x1dda("0x568")](d.Tid),null!=d.X&&d[_0x1dda("0x2")]("X")&&x[_0x1dda("0x567")](49)[_0x1dda("0x56b")](d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&x[_0x1dda("0x567")](57)[_0x1dda("0x56b")](d.Y),null!=d.SL&&d[_0x1dda("0x2")]("SL")&&x[_0x1dda("0x567")](64)[_0x1dda("0x568")](d.SL),null!=d.SH&&d[_0x1dda("0x2")]("SH")&&x[_0x1dda("0x567")](77)[_0x1dda("0x2f2")](d.SH),null!=d.w&&d[_0x1dda("0x2")]("w")&&x[_0x1dda("0x567")](85).float(d.w),null!=d.h&&d[_0x1dda("0x2")]("h")&&x[_0x1dda("0x567")](93)[_0x1dda("0x2f2")](d.h),null!=d[_0x1dda("0x2df")]&&d[_0x1dda("0x2")](_0x1dda("0x2df"))&&x[_0x1dda("0x567")](98).string(d[_0x1dda("0x2df")]),null!=d[_0x1dda("0xd5f")]&&d[_0x1dda("0x2")](_0x1dda("0xd5f"))&&x[_0x1dda("0x567")](104)[_0x1dda("0x568")](d.FSId),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")]("other1")&&x[_0x1dda("0x567")](114).string(d[_0x1dda("0x562")]),null!=d[_0x1dda("0x39f")]&&d[_0x1dda("0x2")](_0x1dda("0x39f"))&&x.uint32(120)[_0x1dda("0x568")](d[_0x1dda("0x39f")]),x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a=void 0===x?d[_0x1dda("0x574")]:d.pos+x,_=new(c[_0x1dda("0x33")][_0x1dda("0xd2f")]);d.pos<a;){var e=d[_0x1dda("0x567")]();switch(e>>>3){case 1:_[_0x1dda("0x3a0")]=d.int32();break;case 2:_[_0x1dda("0xfc")]=d[_0x1dda("0xe")]();break;case 3:_[_0x1dda("0xa9c")]=d[_0x1dda("0xe")]();break;case 4:_.Brief=d[_0x1dda("0xe")]();break;case 5:_[_0x1dda("0x3a1")]=d[_0x1dda("0x568")]();break;case 6:_.X=d[_0x1dda("0x56b")]();break;case 7:_.Y=d.double();break;case 8:_.SL=d[_0x1dda("0x568")]();break;case 9:_.SH=d[_0x1dda("0x2f2")]();break;case 10:_.w=d[_0x1dda("0x2f2")]();break;case 11:_.h=d[_0x1dda("0x2f2")]();break;case 12:_[_0x1dda("0x2df")]=d[_0x1dda("0xe")]();break;case 13:_[_0x1dda("0xd5f")]=d[_0x1dda("0x568")]();break;case 14:_[_0x1dda("0x562")]=d[_0x1dda("0xe")]();break;case 15:_[_0x1dda("0x39f")]=d.int32();break;default:d[_0x1dda("0x576")](7&e)}}return _},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this.decode(d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){return(typeof d===_0x1dda("0x8")?"undefined":(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d?_0x1dda("0x579"):null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d._id)?_0x1dda("0x57f"):null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xfc")])?_0x1dda("0x581"):null!=d[_0x1dda("0xa9c")]&&d[_0x1dda("0x2")]("NameEn")&&!o[_0x1dda("0x332")](d[_0x1dda("0xa9c")])?"NameEn: string expected":null!=d[_0x1dda("0xc7d")]&&d[_0x1dda("0x2")](_0x1dda("0xc7d"))&&!o.isString(d[_0x1dda("0xc7d")])?_0x1dda("0xdc9"):null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a1")])?_0x1dda("0xe02"):null!=d.X&&d[_0x1dda("0x2")]("X")&&typeof d.X!==_0x1dda("0x177")?_0x1dda("0xd61"):null!=d.Y&&d[_0x1dda("0x2")]("Y")&&typeof d.Y!==_0x1dda("0x177")?"Y: number expected":null!=d.SL&&d.hasOwnProperty("SL")&&!o[_0x1dda("0x57b")](d.SL)?_0x1dda("0xdfc"):null!=d.SH&&d[_0x1dda("0x2")]("SH")&&typeof d.SH!==_0x1dda("0x177")?"SH: number expected":null!=d.w&&d[_0x1dda("0x2")]("w")&&typeof d.w!==_0x1dda("0x177")?"w: number expected":null!=d.h&&d.hasOwnProperty("h")&&typeof d.h!==_0x1dda("0x177")?_0x1dda("0xd63"):null!=d.image&&d[_0x1dda("0x2")](_0x1dda("0x2df"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x2df")])?"image: string expected":null!=d[_0x1dda("0xd5f")]&&d[_0x1dda("0x2")](_0x1dda("0xd5f"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xd5f")])?_0x1dda("0xd64"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o.isString(d[_0x1dda("0x562")])?_0x1dda("0x596"):null!=d[_0x1dda("0x39f")]&&d[_0x1dda("0x2")]("ipos")&&!o[_0x1dda("0x57b")](d[_0x1dda("0x39f")])?"ipos: integer expected":null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x33")][_0x1dda("0xd2f")])return d;var x=new(c[_0x1dda("0x33")].POISet);return null!=d._id&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xfc")]&&(x[_0x1dda("0xfc")]=String(d[_0x1dda("0xfc")])),null!=d[_0x1dda("0xa9c")]&&(x[_0x1dda("0xa9c")]=String(d.NameEn)),null!=d[_0x1dda("0xc7d")]&&(x.Brief=String(d[_0x1dda("0xc7d")])),null!=d.Tid&&(x.Tid=0|d[_0x1dda("0x3a1")]),null!=d.X&&(x.X=Number(d.X)),null!=d.Y&&(x.Y=Number(d.Y)),null!=d.SL&&(x.SL=0|d.SL),null!=d.SH&&(x.SH=Number(d.SH)),null!=d.w&&(x.w=Number(d.w)),null!=d.h&&(x.h=Number(d.h)),null!=d.image&&(x[_0x1dda("0x2df")]=String(d[_0x1dda("0x2df")])),null!=d[_0x1dda("0xd5f")]&&(x[_0x1dda("0xd5f")]=0|d[_0x1dda("0xd5f")]),null!=d.other1&&(x.other1=String(d[_0x1dda("0x562")])),null!=d[_0x1dda("0x39f")]&&(x.ipos=0|d.ipos),x},d.from=d[_0x1dda("0x5a0")],d.toObject=function(d,x){x||(x={});var a={};return x[_0x1dda("0x5a5")]&&(a[_0x1dda("0x3a0")]=0,a[_0x1dda("0xfc")]="",a.NameEn="",a[_0x1dda("0xc7d")]="",a[_0x1dda("0x3a1")]=0,a.X=0,a.Y=0,a.SL=0,a.SH=0,a.w=0,a.h=0,a[_0x1dda("0x2df")]="",a[_0x1dda("0xd5f")]=0,a[_0x1dda("0x562")]="",a[_0x1dda("0x39f")]=0),null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xfc")]&&d.hasOwnProperty(_0x1dda("0xfc"))&&(a[_0x1dda("0xfc")]=d.name),null!=d[_0x1dda("0xa9c")]&&d[_0x1dda("0x2")](_0x1dda("0xa9c"))&&(a[_0x1dda("0xa9c")]=d[_0x1dda("0xa9c")]),null!=d.Brief&&d.hasOwnProperty("Brief")&&(a[_0x1dda("0xc7d")]=d[_0x1dda("0xc7d")]),null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&(a.Tid=d[_0x1dda("0x3a1")]),null!=d.X&&d[_0x1dda("0x2")]("X")&&(a.X=d.X),null!=d.Y&&d.hasOwnProperty("Y")&&(a.Y=d.Y),null!=d.SL&&d[_0x1dda("0x2")]("SL")&&(a.SL=d.SL),null!=d.SH&&d[_0x1dda("0x2")]("SH")&&(a.SH=d.SH),null!=d.w&&d[_0x1dda("0x2")]("w")&&(a.w=d.w),null!=d.h&&d[_0x1dda("0x2")]("h")&&(a.h=d.h),null!=d[_0x1dda("0x2df")]&&d[_0x1dda("0x2")]("image")&&(a[_0x1dda("0x2df")]=d[_0x1dda("0x2df")]),null!=d[_0x1dda("0xd5f")]&&d[_0x1dda("0x2")]("FSId")&&(a.FSId=d.FSId),null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&(a[_0x1dda("0x562")]=d[_0x1dda("0x562")]),null!=d[_0x1dda("0x39f")]&&d.hasOwnProperty(_0x1dda("0x39f"))&&(a.ipos=d[_0x1dda("0x39f")]),a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,d)},d[_0x1dda("0x1")][_0x1dda("0x5a7")]=function(){return this.constructor.toObject(this,n[_0x1dda("0x5a9")][_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xde6")]=function(){function d(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d.prototype[_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")].name="",d[_0x1dda("0x1")][_0x1dda("0x3a1")]=0,d[_0x1dda("0x1")].F1=0,d[_0x1dda("0x1")].F2=0,d[_0x1dda("0x1")].ST=0,d.prototype.LT=0,d[_0x1dda("0x1")].LH=0,d[_0x1dda("0x1")].LM="",d[_0x1dda("0x1")].LS="",d[_0x1dda("0x1")].LR="",d[_0x1dda("0x1")].LO="",d.prototype.X1=0,d[_0x1dda("0x1")].X2=0,d[_0x1dda("0x1")].Y1=0,d.prototype.Y2=0,d[_0x1dda("0x1")].O1="",d[_0x1dda("0x1")].O2="",d.prototype[_0x1dda("0x562")]="",d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty("_id")&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&x[_0x1dda("0x567")](18)[_0x1dda("0xe")](d.name),null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")]("Tid")&&x[_0x1dda("0x567")](24)[_0x1dda("0x568")](d.Tid),null!=d.F1&&d[_0x1dda("0x2")]("F1")&&x[_0x1dda("0x567")](32)[_0x1dda("0x568")](d.F1),null!=d.F2&&d.hasOwnProperty("F2")&&x.uint32(40)[_0x1dda("0x568")](d.F2),null!=d.ST&&d.hasOwnProperty("ST")&&x[_0x1dda("0x567")](48)[_0x1dda("0x568")](d.ST),null!=d.LT&&d[_0x1dda("0x2")]("LT")&&x.uint32(56)[_0x1dda("0x568")](d.LT),null!=d.LH&&d[_0x1dda("0x2")]("LH")&&x[_0x1dda("0x567")](64)[_0x1dda("0x568")](d.LH),null!=d.LM&&d[_0x1dda("0x2")]("LM")&&x[_0x1dda("0x567")](74)[_0x1dda("0xe")](d.LM),null!=d.LS&&d[_0x1dda("0x2")]("LS")&&x[_0x1dda("0x567")](82)[_0x1dda("0xe")](d.LS),null!=d.LR&&d.hasOwnProperty("LR")&&x.uint32(90)[_0x1dda("0xe")](d.LR),null!=d.LO&&d[_0x1dda("0x2")]("LO")&&x.uint32(98).string(d.LO),null!=d.X1&&d[_0x1dda("0x2")]("X1")&&x[_0x1dda("0x567")](105)[_0x1dda("0x56b")](d.X1),null!=d.X2&&d[_0x1dda("0x2")]("X2")&&x[_0x1dda("0x567")](113)[_0x1dda("0x56b")](d.X2),null!=d.Y1&&d[_0x1dda("0x2")]("Y1")&&x[_0x1dda("0x567")](121).double(d.Y1),null!=d.Y2&&d.hasOwnProperty("Y2")&&x.uint32(129)[_0x1dda("0x56b")](d.Y2),null!=d.O1&&d[_0x1dda("0x2")]("O1")&&x[_0x1dda("0x567")](138)[_0x1dda("0xe")](d.O1),null!=d.O2&&d[_0x1dda("0x2")]("O2")&&x.uint32(146).string(d.O2),null!=d[_0x1dda("0x562")]&&d.hasOwnProperty(_0x1dda("0x562"))&&x[_0x1dda("0x567")](154)[_0x1dda("0xe")](d.other1),x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,_=new(c[_0x1dda("0x33")][_0x1dda("0xde6")]);d[_0x1dda("0x3d8")]<a;){var e=d[_0x1dda("0x567")]();switch(e>>>3){case 1:_[_0x1dda("0x3a0")]=d[_0x1dda("0x568")]();break;case 2:_[_0x1dda("0xfc")]=d[_0x1dda("0xe")]();break;case 3:_[_0x1dda("0x3a1")]=d[_0x1dda("0x568")]();break;case 4:_.F1=d[_0x1dda("0x568")]();break;case 5:_.F2=d.int32();break;case 6:_.ST=d[_0x1dda("0x568")]();break;case 7:_.LT=d.int32();break;case 8:_.LH=d[_0x1dda("0x568")]();break;case 9:_.LM=d[_0x1dda("0xe")]();break;case 10:_.LS=d[_0x1dda("0xe")]();break;case 11:_.LR=d[_0x1dda("0xe")]();break;case 12:_.LO=d[_0x1dda("0xe")]();break;case 13:_.X1=d[_0x1dda("0x56b")]();break;case 14:_.X2=d[_0x1dda("0x56b")]();break;case 15:_.Y1=d[_0x1dda("0x56b")]();break;case 16:_.Y2=d[_0x1dda("0x56b")]();break;case 17:_.O1=d[_0x1dda("0xe")]();break;case 18:_.O2=d.string();break;case 19:_[_0x1dda("0x562")]=d[_0x1dda("0xe")]();break;default:d[_0x1dda("0x576")](7&e)}}return _},d.decodeDelimited=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d.verify=function(d){return(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d?_0x1dda("0x579"):null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d._id)?_0x1dda("0x57f"):null!=d[_0x1dda("0xfc")]&&d[_0x1dda("0x2")]("name")&&!o[_0x1dda("0x332")](d[_0x1dda("0xfc")])?_0x1dda("0x581"):null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a1")])?"Tid: integer expected":null!=d.F1&&d[_0x1dda("0x2")]("F1")&&!o[_0x1dda("0x57b")](d.F1)?_0x1dda("0xe03"):null!=d.F2&&d.hasOwnProperty("F2")&&!o[_0x1dda("0x57b")](d.F2)?_0x1dda("0xe04"):null!=d.ST&&d[_0x1dda("0x2")]("ST")&&!o[_0x1dda("0x57b")](d.ST)?_0x1dda("0xd60"):null!=d.LT&&d[_0x1dda("0x2")]("LT")&&!o[_0x1dda("0x57b")](d.LT)?_0x1dda("0xe05"):null!=d.LH&&d.hasOwnProperty("LH")&&!o[_0x1dda("0x57b")](d.LH)?"LH: integer expected":null!=d.LM&&d[_0x1dda("0x2")]("LM")&&!o[_0x1dda("0x332")](d.LM)?_0x1dda("0xe06"):null!=d.LS&&d[_0x1dda("0x2")]("LS")&&!o[_0x1dda("0x332")](d.LS)?_0x1dda("0xe07"):null!=d.LR&&d[_0x1dda("0x2")]("LR")&&!o[_0x1dda("0x332")](d.LR)?_0x1dda("0xe08"):null!=d.LO&&d[_0x1dda("0x2")]("LO")&&!o.isString(d.LO)?_0x1dda("0xe09"):null!=d.X1&&d.hasOwnProperty("X1")&&typeof d.X1!==_0x1dda("0x177")?"X1: number expected":null!=d.X2&&d[_0x1dda("0x2")]("X2")&&"number"!=typeof d.X2?_0x1dda("0xe0a"):null!=d.Y1&&d[_0x1dda("0x2")]("Y1")&&typeof d.Y1!==_0x1dda("0x177")?_0x1dda("0xe0b"):null!=d.Y2&&d[_0x1dda("0x2")]("Y2")&&typeof d.Y2!==_0x1dda("0x177")?_0x1dda("0xe0c"):null!=d.O1&&d[_0x1dda("0x2")]("O1")&&!o[_0x1dda("0x332")](d.O1)?_0x1dda("0xe0d"):null!=d.O2&&d[_0x1dda("0x2")]("O2")&&!o.isString(d.O2)?_0x1dda("0xe0e"):null!=d[_0x1dda("0x562")]&&d[_0x1dda("0x2")](_0x1dda("0x562"))&&!o[_0x1dda("0x332")](d[_0x1dda("0x562")])?_0x1dda("0x596"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c.ESMap.LiftSet)return d;var x=new(c[_0x1dda("0x33")].LiftSet);return null!=d._id&&(x[_0x1dda("0x3a0")]=0|d._id),null!=d.name&&(x.name=String(d[_0x1dda("0xfc")])),null!=d.Tid&&(x.Tid=0|d.Tid),null!=d.F1&&(x.F1=0|d.F1),null!=d.F2&&(x.F2=0|d.F2),null!=d.ST&&(x.ST=0|d.ST),null!=d.LT&&(x.LT=0|d.LT),null!=d.LH&&(x.LH=0|d.LH),null!=d.LM&&(x.LM=String(d.LM)),null!=d.LS&&(x.LS=String(d.LS)),null!=d.LR&&(x.LR=String(d.LR)),null!=d.LO&&(x.LO=String(d.LO)),null!=d.X1&&(x.X1=Number(d.X1)),null!=d.X2&&(x.X2=Number(d.X2)),null!=d.Y1&&(x.Y1=Number(d.Y1)),null!=d.Y2&&(x.Y2=Number(d.Y2)),null!=d.O1&&(x.O1=String(d.O1)),null!=d.O2&&(x.O2=String(d.O2)),null!=d[_0x1dda("0x562")]&&(x[_0x1dda("0x562")]=String(d[_0x1dda("0x562")])),x},d.from=d[_0x1dda("0x5a0")],d.toObject=function(d,x){x||(x={});var a={};return x[_0x1dda("0x5a5")]&&(a[_0x1dda("0x3a0")]=0,a.name="",a.Tid=0,a.F1=0,a.F2=0,a.ST=0,a.LT=0,a.LH=0,a.LM="",a.LS="",a.LR="",a.LO="",a.X1=0,a.X2=0,a.Y1=0,a.Y2=0,a.O1="",a.O2="",a.other1=""),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d.name&&d[_0x1dda("0x2")](_0x1dda("0xfc"))&&(a[_0x1dda("0xfc")]=d[_0x1dda("0xfc")]),null!=d[_0x1dda("0x3a1")]&&d[_0x1dda("0x2")](_0x1dda("0x3a1"))&&(a.Tid=d.Tid),null!=d.F1&&d[_0x1dda("0x2")]("F1")&&(a.F1=d.F1),null!=d.F2&&d[_0x1dda("0x2")]("F2")&&(a.F2=d.F2),null!=d.ST&&d[_0x1dda("0x2")]("ST")&&(a.ST=d.ST),null!=d.LT&&d[_0x1dda("0x2")]("LT")&&(a.LT=d.LT),null!=d.LH&&d.hasOwnProperty("LH")&&(a.LH=d.LH),null!=d.LM&&d[_0x1dda("0x2")]("LM")&&(a.LM=d.LM),null!=d.LS&&d.hasOwnProperty("LS")&&(a.LS=d.LS),null!=d.LR&&d[_0x1dda("0x2")]("LR")&&(a.LR=d.LR),null!=d.LO&&d.hasOwnProperty("LO")&&(a.LO=d.LO),null!=d.X1&&d.hasOwnProperty("X1")&&(a.X1=d.X1),null!=d.X2&&d.hasOwnProperty("X2")&&(a.X2=d.X2),null!=d.Y1&&d[_0x1dda("0x2")]("Y1")&&(a.Y1=d.Y1),null!=d.Y2&&d[_0x1dda("0x2")]("Y2")&&(a.Y2=d.Y2),null!=d.O1&&d[_0x1dda("0x2")]("O1")&&(a.O1=d.O1),null!=d.O2&&d[_0x1dda("0x2")]("O2")&&(a.O2=d.O2),null!=d[_0x1dda("0x562")]&&d.hasOwnProperty(_0x1dda("0x562"))&&(a[_0x1dda("0x562")]=d[_0x1dda("0x562")]),a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,d)},d[_0x1dda("0x1")][_0x1dda("0x5a7")]=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n[_0x1dda("0x5a9")][_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xdc3")]=function(){function d(d){if(this.Nodes={},this[_0x1dda("0x3b6")]={},d)for(var x=(0,e.default)(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0xbd4")]=0,d[_0x1dda("0x1")][_0x1dda("0xc5b")]=o.emptyObject,d[_0x1dda("0x1")].Lines=o[_0x1dda("0xd2c")],d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){if(x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0xbd4")]&&d[_0x1dda("0x2")]("floornum")&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d.floornum),null!=d[_0x1dda("0xc5b")]&&d[_0x1dda("0x2")](_0x1dda("0xc5b")))for(var a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]),_=0;_<a[_0x1dda("0x0")];++_)x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]().uint32(8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x33")][_0x1dda("0xd67")][_0x1dda("0x565")](d.Nodes[a[_]],x.uint32(18)[_0x1dda("0xd2d")]()).ldelim()[_0x1dda("0xd30")]();if(null!=d.Lines&&d[_0x1dda("0x2")]("Lines"))for(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x3b6")]),_=0;_<a.length;++_)x[_0x1dda("0x567")](26)[_0x1dda("0xd2d")]()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x33")][_0x1dda("0xd66")][_0x1dda("0x565")](d[_0x1dda("0x3b6")][a[_]],x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]()).ldelim()[_0x1dda("0xd30")]();return x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d.decode=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a,_=void 0===x?d.len:d[_0x1dda("0x3d8")]+x,e=new(c.ESMap[_0x1dda("0xdc3")]);d.pos<_;){var t=d.uint32();switch(t>>>3){case 1:e[_0x1dda("0xbd4")]=d.int32();break;case 2:d.skip()[_0x1dda("0x3d8")]++,e[_0x1dda("0xc5b")]===o[_0x1dda("0xd2c")]&&(e[_0x1dda("0xc5b")]={}),a=d.int32(),d.pos++,e[_0x1dda("0xc5b")][a]=c[_0x1dda("0x33")][_0x1dda("0xd67")][_0x1dda("0x45")](d,d[_0x1dda("0x567")]());break;case 3:d[_0x1dda("0xd32")]()[_0x1dda("0x3d8")]++,e[_0x1dda("0x3b6")]===o[_0x1dda("0xd2c")]&&(e[_0x1dda("0x3b6")]={}),a=d[_0x1dda("0x568")](),d[_0x1dda("0x3d8")]++,e[_0x1dda("0x3b6")][a]=c[_0x1dda("0x33")][_0x1dda("0xd66")].decode(d,d[_0x1dda("0x567")]());break;default:d.skipType(7&t)}}return e},d.decodeDelimited=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){if((typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d)return _0x1dda("0x579");if(null!=d[_0x1dda("0xbd4")]&&d.hasOwnProperty("floornum")&&!o[_0x1dda("0x57b")](d[_0x1dda("0xbd4")]))return _0x1dda("0xe0f");if(null!=d[_0x1dda("0xc5b")]&&d[_0x1dda("0x2")](_0x1dda("0xc5b"))){if(!o[_0x1dda("0x17")](d[_0x1dda("0xc5b")]))return _0x1dda("0xd68");for(var x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]),a=0;a<x.length;++a){if(!o[_0x1dda("0xd38")][_0x1dda("0x29")](x[a]))return _0x1dda("0xd69");if(t=c.ESMap[_0x1dda("0xd67")][_0x1dda("0x578")](d.Nodes[x[a]]))return _0x1dda("0xd6a")+t}}if(null!=d[_0x1dda("0x3b6")]&&d[_0x1dda("0x2")](_0x1dda("0x3b6"))){if(!o[_0x1dda("0x17")](d[_0x1dda("0x3b6")]))return _0x1dda("0xd6b");for(x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x3b6")]),a=0;a<x[_0x1dda("0x0")];++a){if(!o[_0x1dda("0xd38")][_0x1dda("0x29")](x[a]))return"Lines: integer key{k:int32} expected";var t;if(t=c[_0x1dda("0x33")][_0x1dda("0xd66")][_0x1dda("0x578")](d.Lines[x[a]]))return _0x1dda("0xd6c")+t}}return null},d.fromObject=function(d){if(d instanceof c[_0x1dda("0x33")].NavSet)return d;var x=new(c[_0x1dda("0x33")][_0x1dda("0xdc3")]);if(null!=d.floornum&&(x[_0x1dda("0xbd4")]=0|d[_0x1dda("0xbd4")]),d.Nodes){if((0,_.default)(d.Nodes)!==_0x1dda("0x1b"))throw TypeError(".ESMap.NavSet.Nodes: object expected");x[_0x1dda("0xc5b")]={};for(var a=(0,e[_0x1dda("0xd")])(d.Nodes),t=0;t<a[_0x1dda("0x0")];++t){if("object"!==(0,_[_0x1dda("0xd")])(d[_0x1dda("0xc5b")][a[t]]))throw TypeError(_0x1dda("0xe10"));x.Nodes[a[t]]=c[_0x1dda("0x33")].NavNodeSet[_0x1dda("0x5a0")](d[_0x1dda("0xc5b")][a[t]])}}if(d[_0x1dda("0x3b6")]){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0x3b6")])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xe11"));for(x.Lines={},a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x3b6")]),t=0;t<a[_0x1dda("0x0")];++t){if((0,_[_0x1dda("0xd")])(d[_0x1dda("0x3b6")][a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xe11"));x.Lines[a[t]]=c[_0x1dda("0x33")][_0x1dda("0xd66")][_0x1dda("0x5a0")](d.Lines[a[t]])}}return x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a,_={};if((x[_0x1dda("0x6f3")]||x[_0x1dda("0x5a5")])&&(_[_0x1dda("0xc5b")]={},_[_0x1dda("0x3b6")]={}),x[_0x1dda("0x5a5")]&&(_[_0x1dda("0xbd4")]=0),null!=d[_0x1dda("0xbd4")]&&d[_0x1dda("0x2")](_0x1dda("0xbd4"))&&(_[_0x1dda("0xbd4")]=d[_0x1dda("0xbd4")]),d[_0x1dda("0xc5b")]&&(a=(0,e[_0x1dda("0xd")])(d.Nodes)).length){_[_0x1dda("0xc5b")]={};for(var t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0xc5b")][a[t]]=c[_0x1dda("0x33")][_0x1dda("0xd67")].toObject(d[_0x1dda("0xc5b")][a[t]],x)}if(d[_0x1dda("0x3b6")]&&(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0x3b6")]))[_0x1dda("0x0")])for(_[_0x1dda("0x3b6")]={},t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0x3b6")][a[t]]=c[_0x1dda("0x33")][_0x1dda("0xd66")][_0x1dda("0x5a8")](d[_0x1dda("0x3b6")][a[t]],x);return _},d.prototype[_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")].toObject(this,d)},d.prototype[_0x1dda("0x5a7")]=function(){return this[_0x1dda("0x7ca")].toObject(this,n.util[_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xd67")]=function(){function d(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")].tid=0,d.prototype[_0x1dda("0xe12")]=0,d[_0x1dda("0x1")].X=0,d[_0x1dda("0x1")].Y=0,d[_0x1dda("0x1")][_0x1dda("0xd6f")]=0,d[_0x1dda("0x1")].Z=0,d[_0x1dda("0x566")]=function(x){return new d(x)},d.encode=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty(_0x1dda("0x3a0"))&&x[_0x1dda("0x567")](8).int32(d[_0x1dda("0x3a0")]),null!=d.tid&&d[_0x1dda("0x2")]("tid")&&x[_0x1dda("0x567")](16).int32(d[_0x1dda("0x43")]),null!=d[_0x1dda("0xe12")]&&d[_0x1dda("0x2")](_0x1dda("0xe12"))&&x[_0x1dda("0x567")](24)[_0x1dda("0x568")](d[_0x1dda("0xe12")]),null!=d.X&&d[_0x1dda("0x2")]("X")&&x[_0x1dda("0x567")](33)[_0x1dda("0x56b")](d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&x[_0x1dda("0x567")](41).double(d.Y),null!=d[_0x1dda("0xd6f")]&&d[_0x1dda("0x2")](_0x1dda("0xd6f"))&&x[_0x1dda("0x567")](48)[_0x1dda("0x568")](d[_0x1dda("0xd6f")]),null!=d.Z&&d[_0x1dda("0x2")]("Z")&&x[_0x1dda("0x567")](57).double(d.Z),x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d.decode=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a=void 0===x?d.len:d[_0x1dda("0x3d8")]+x,_=new(c[_0x1dda("0x33")][_0x1dda("0xd67")]);d[_0x1dda("0x3d8")]<a;){var e=d[_0x1dda("0x567")]();switch(e>>>3){case 1:_[_0x1dda("0x3a0")]=d[_0x1dda("0x568")]();break;case 2:_[_0x1dda("0x43")]=d[_0x1dda("0x568")]();break;case 3:_[_0x1dda("0xe12")]=d[_0x1dda("0x568")]();break;case 4:_.X=d.double();break;case 5:_.Y=d.double();break;case 6:_[_0x1dda("0xd6f")]=d[_0x1dda("0x568")]();break;case 7:_.Z=d[_0x1dda("0x56b")]();break;default:d[_0x1dda("0x576")](7&e)}}return _},d.decodeDelimited=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){return(void 0===d?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d?_0x1dda("0x579"):null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d._id)?_0x1dda("0x57f"):null!=d[_0x1dda("0x43")]&&d[_0x1dda("0x2")](_0x1dda("0x43"))&&!o[_0x1dda("0x57b")](d.tid)?"tid: integer expected":null!=d[_0x1dda("0xe12")]&&d[_0x1dda("0x2")](_0x1dda("0xe12"))&&!o[_0x1dda("0x57b")](d.rid)?_0x1dda("0xe13"):null!=d.X&&d[_0x1dda("0x2")]("X")&&typeof d.X!==_0x1dda("0x177")?_0x1dda("0xd61"):null!=d.Y&&d[_0x1dda("0x2")]("Y")&&typeof d.Y!==_0x1dda("0x177")?_0x1dda("0xd62"):null!=d[_0x1dda("0xd6f")]&&d[_0x1dda("0x2")](_0x1dda("0xd6f"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xd6f")])?_0x1dda("0xd71"):null!=d.Z&&d[_0x1dda("0x2")]("Z")&&typeof d.Z!==_0x1dda("0x177")?_0x1dda("0xd73"):null},d.fromObject=function(d){if(d instanceof c[_0x1dda("0x33")][_0x1dda("0xd67")])return d;var x=new(c[_0x1dda("0x33")][_0x1dda("0xd67")]);return null!=d._id&&(x._id=0|d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0x43")]&&(x[_0x1dda("0x43")]=0|d[_0x1dda("0x43")]),null!=d[_0x1dda("0xe12")]&&(x[_0x1dda("0xe12")]=0|d[_0x1dda("0xe12")]),null!=d.X&&(x.X=Number(d.X)),null!=d.Y&&(x.Y=Number(d.Y)),null!=d[_0x1dda("0xd6f")]&&(x[_0x1dda("0xd6f")]=0|d[_0x1dda("0xd6f")]),null!=d.Z&&(x.Z=Number(d.Z)),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d.toObject=function(d,x){x||(x={});var a={};return x.defaults&&(a[_0x1dda("0x3a0")]=0,a[_0x1dda("0x43")]=0,a[_0x1dda("0xe12")]=0,a.X=0,a.Y=0,a.sid=0,a.Z=0),null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty(_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0x43")]&&d.hasOwnProperty(_0x1dda("0x43"))&&(a.tid=d.tid),null!=d[_0x1dda("0xe12")]&&d[_0x1dda("0x2")]("rid")&&(a[_0x1dda("0xe12")]=d.rid),null!=d.X&&d[_0x1dda("0x2")]("X")&&(a.X=d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&(a.Y=d.Y),null!=d[_0x1dda("0xd6f")]&&d[_0x1dda("0x2")](_0x1dda("0xd6f"))&&(a[_0x1dda("0xd6f")]=d[_0x1dda("0xd6f")]),null!=d.Z&&d[_0x1dda("0x2")]("Z")&&(a.Z=d.Z),a},d.prototype[_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,d)},d[_0x1dda("0x1")][_0x1dda("0x5a7")]=function(){return this.constructor.toObject(this,n[_0x1dda("0x5a9")][_0x1dda("0x5aa")])},d}(),i.NavLineSet=function(){function d(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x.length;++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")][_0x1dda("0xd6f")]=0,d[_0x1dda("0x1")][_0x1dda("0x573")]=0,d[_0x1dda("0x1")].efnum=0,d[_0x1dda("0x1")].rank=0,d.prototype[_0x1dda("0x0")]=0,d[_0x1dda("0x1")][_0x1dda("0xb9f")]="",d.prototype[_0x1dda("0xd74")]="",d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d[_0x1dda("0x3a0")]),null!=d.sid&&d[_0x1dda("0x2")](_0x1dda("0xd6f"))&&x[_0x1dda("0x567")](16)[_0x1dda("0x568")](d[_0x1dda("0xd6f")]),null!=d.eid&&d[_0x1dda("0x2")](_0x1dda("0x573"))&&x.uint32(24)[_0x1dda("0x568")](d[_0x1dda("0x573")]),null!=d.efnum&&d[_0x1dda("0x2")](_0x1dda("0xe14"))&&x.uint32(32).int32(d[_0x1dda("0xe14")]),null!=d[_0x1dda("0x3c2")]&&d[_0x1dda("0x2")]("rank")&&x[_0x1dda("0x567")](40).int32(d.rank),null!=d[_0x1dda("0x0")]&&d[_0x1dda("0x2")](_0x1dda("0x0"))&&x[_0x1dda("0x567")](49)[_0x1dda("0x56b")](d[_0x1dda("0x0")]),null!=d.direction&&d[_0x1dda("0x2")](_0x1dda("0xb9f"))&&x[_0x1dda("0x567")](58)[_0x1dda("0xe")](d.direction),null!=d.bstair&&d.hasOwnProperty(_0x1dda("0xd74"))&&x[_0x1dda("0x567")](66)[_0x1dda("0xe")](d[_0x1dda("0xd74")]),x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a=void 0===x?d.len:d[_0x1dda("0x3d8")]+x,_=new(c[_0x1dda("0x33")].NavLineSet);d[_0x1dda("0x3d8")]<a;){var e=d[_0x1dda("0x567")]();switch(e>>>3){case 1:_[_0x1dda("0x3a0")]=d[_0x1dda("0x568")]();break;case 2:_[_0x1dda("0xd6f")]=d.int32();break;case 3:_[_0x1dda("0x573")]=d.int32();break;case 4:_[_0x1dda("0xe14")]=d[_0x1dda("0x568")]();break;case 5:_[_0x1dda("0x3c2")]=d.int32();break;case 6:_[_0x1dda("0x0")]=d.double();break;case 7:_[_0x1dda("0xb9f")]=d[_0x1dda("0xe")]();break;case 8:_[_0x1dda("0xd74")]=d.string();break;default:d.skipType(7&e)}}return _},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){return"object"!==(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_.default)(d))||null===d?_0x1dda("0x579"):null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty(_0x1dda("0x3a0"))&&!o.isInteger(d._id)?_0x1dda("0x57f"):null!=d[_0x1dda("0xd6f")]&&d[_0x1dda("0x2")]("sid")&&!o.isInteger(d[_0x1dda("0xd6f")])?"sid: integer expected":null!=d[_0x1dda("0x573")]&&d[_0x1dda("0x2")]("eid")&&!o[_0x1dda("0x57b")](d[_0x1dda("0x573")])?_0x1dda("0xd76"):null!=d[_0x1dda("0xe14")]&&d[_0x1dda("0x2")]("efnum")&&!o.isInteger(d[_0x1dda("0xe14")])?_0x1dda("0xe15"):null!=d[_0x1dda("0x3c2")]&&d[_0x1dda("0x2")](_0x1dda("0x3c2"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3c2")])?_0x1dda("0xd78"):null!=d[_0x1dda("0x0")]&&d[_0x1dda("0x2")](_0x1dda("0x0"))&&typeof d[_0x1dda("0x0")]!==_0x1dda("0x177")?_0x1dda("0xe16"):null!=d[_0x1dda("0xb9f")]&&d.hasOwnProperty(_0x1dda("0xb9f"))&&!o.isString(d[_0x1dda("0xb9f")])?_0x1dda("0xe17"):null!=d[_0x1dda("0xd74")]&&d[_0x1dda("0x2")](_0x1dda("0xd74"))&&!o.isString(d[_0x1dda("0xd74")])?"bstair: string expected":null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x33")][_0x1dda("0xd66")])return d;var x=new(c[_0x1dda("0x33")][_0x1dda("0xd66")]);return null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d._id),null!=d[_0x1dda("0xd6f")]&&(x.sid=0|d[_0x1dda("0xd6f")]),null!=d[_0x1dda("0x573")]&&(x.eid=0|d[_0x1dda("0x573")]),null!=d[_0x1dda("0xe14")]&&(x.efnum=0|d.efnum),null!=d[_0x1dda("0x3c2")]&&(x[_0x1dda("0x3c2")]=0|d[_0x1dda("0x3c2")]),null!=d[_0x1dda("0x0")]&&(x[_0x1dda("0x0")]=Number(d.length)),null!=d[_0x1dda("0xb9f")]&&(x[_0x1dda("0xb9f")]=String(d[_0x1dda("0xb9f")])),null!=d[_0x1dda("0xd74")]&&(x[_0x1dda("0xd74")]=String(d[_0x1dda("0xd74")])),x},d.from=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a={};return x.defaults&&(a[_0x1dda("0x3a0")]=0,a[_0x1dda("0xd6f")]=0,a[_0x1dda("0x573")]=0,a[_0x1dda("0xe14")]=0,a[_0x1dda("0x3c2")]=0,a.length=0,a[_0x1dda("0xb9f")]="",a[_0x1dda("0xd74")]=""),null!=d[_0x1dda("0x3a0")]&&d.hasOwnProperty(_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xd6f")]&&d[_0x1dda("0x2")]("sid")&&(a[_0x1dda("0xd6f")]=d[_0x1dda("0xd6f")]),null!=d[_0x1dda("0x573")]&&d[_0x1dda("0x2")]("eid")&&(a[_0x1dda("0x573")]=d[_0x1dda("0x573")]),null!=d[_0x1dda("0xe14")]&&d[_0x1dda("0x2")](_0x1dda("0xe14"))&&(a[_0x1dda("0xe14")]=d[_0x1dda("0xe14")]),null!=d[_0x1dda("0x3c2")]&&d[_0x1dda("0x2")]("rank")&&(a[_0x1dda("0x3c2")]=d.rank),null!=d[_0x1dda("0x0")]&&d[_0x1dda("0x2")](_0x1dda("0x0"))&&(a[_0x1dda("0x0")]=d.length),null!=d[_0x1dda("0xb9f")]&&d[_0x1dda("0x2")]("direction")&&(a[_0x1dda("0xb9f")]=d.direction),null!=d[_0x1dda("0xd74")]&&d[_0x1dda("0x2")](_0x1dda("0xd74"))&&(a.bstair=d.bstair),a},d[_0x1dda("0x1")].toObject=function(d){return this.constructor[_0x1dda("0x5a8")](this,d)},d[_0x1dda("0x1")].toJSON=function(){return this.constructor[_0x1dda("0x5a8")](this,n[_0x1dda("0x5a9")][_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xdc5")]=function(){function d(d){if(this.Nodes={},this[_0x1dda("0xe18")]={},d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d.prototype[_0x1dda("0xe19")]="",d.prototype[_0x1dda("0xe1a")]="",d[_0x1dda("0x1")][_0x1dda("0xe1b")]=0,d[_0x1dda("0x1")][_0x1dda("0xe1c")]="",d[_0x1dda("0x1")].msgscale="",d[_0x1dda("0x1")][_0x1dda("0xc5b")]=o.emptyObject,d[_0x1dda("0x1")][_0x1dda("0xe18")]=o.emptyObject,d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){if(x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0xe19")]&&d[_0x1dda("0x2")]("serverurl")&&x[_0x1dda("0x567")](10)[_0x1dda("0xe")](d[_0x1dda("0xe19")]),null!=d.bgaudio&&d[_0x1dda("0x2")](_0x1dda("0xe1a"))&&x[_0x1dda("0x567")](18)[_0x1dda("0xe")](d.bgaudio),null!=d.bgaudioplay&&d.hasOwnProperty(_0x1dda("0xe1b"))&&x.uint32(24)[_0x1dda("0x568")](d[_0x1dda("0xe1b")]),null!=d.picscale&&d.hasOwnProperty(_0x1dda("0xe1c"))&&x.uint32(34)[_0x1dda("0xe")](d[_0x1dda("0xe1c")]),null!=d[_0x1dda("0xe1d")]&&d.hasOwnProperty(_0x1dda("0xe1d"))&&x[_0x1dda("0x567")](42)[_0x1dda("0xe")](d[_0x1dda("0xe1d")]),null!=d.Nodes&&d[_0x1dda("0x2")](_0x1dda("0xc5b")))for(var a=(0,e[_0x1dda("0xd")])(d.Nodes),_=0;_<a.length;++_)x.uint32(50)[_0x1dda("0xd2d")]()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c.ESMap[_0x1dda("0xe1e")][_0x1dda("0x565")](d[_0x1dda("0xc5b")][a[_]],x[_0x1dda("0x567")](18)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]()[_0x1dda("0xd30")]();if(null!=d.Infos&&d[_0x1dda("0x2")](_0x1dda("0xe18")))for(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xe18")]),_=0;_<a.length;++_)x[_0x1dda("0x567")](58).fork()[_0x1dda("0x567")](8)[_0x1dda("0x568")](a[_]),c[_0x1dda("0x33")].PicClickSet[_0x1dda("0x565")](d[_0x1dda("0xe18")][a[_]],x.uint32(18)[_0x1dda("0xd2d")]())[_0x1dda("0xd30")]()[_0x1dda("0xd30")]();return x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x)[_0x1dda("0xd30")]()},d.decode=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a,_=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,e=new(c[_0x1dda("0x33")][_0x1dda("0xdc5")]);d[_0x1dda("0x3d8")]<_;){var t=d[_0x1dda("0x567")]();switch(t>>>3){case 1:e[_0x1dda("0xe19")]=d.string();break;case 2:e[_0x1dda("0xe1a")]=d[_0x1dda("0xe")]();break;case 3:e[_0x1dda("0xe1b")]=d.int32();break;case 4:e[_0x1dda("0xe1c")]=d.string();break;case 5:e.msgscale=d[_0x1dda("0xe")]();break;case 6:d[_0x1dda("0xd32")]()[_0x1dda("0x3d8")]++,e[_0x1dda("0xc5b")]===o.emptyObject&&(e.Nodes={}),a=d[_0x1dda("0x568")](),d[_0x1dda("0x3d8")]++,e[_0x1dda("0xc5b")][a]=c[_0x1dda("0x33")][_0x1dda("0xe1e")].decode(d,d.uint32());break;case 7:d[_0x1dda("0xd32")]()[_0x1dda("0x3d8")]++,e[_0x1dda("0xe18")]===o[_0x1dda("0xd2c")]&&(e[_0x1dda("0xe18")]={}),a=d[_0x1dda("0x568")](),d[_0x1dda("0x3d8")]++,e.Infos[a]=c[_0x1dda("0x33")][_0x1dda("0xe1f")].decode(d,d[_0x1dda("0x567")]());break;default:d[_0x1dda("0x576")](7&t)}}return e},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){if((typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d)return"object expected";if(null!=d.serverurl&&d[_0x1dda("0x2")]("serverurl")&&!o[_0x1dda("0x332")](d[_0x1dda("0xe19")]))return _0x1dda("0xe20");if(null!=d.bgaudio&&d.hasOwnProperty("bgaudio")&&!o.isString(d[_0x1dda("0xe1a")]))return"bgaudio: string expected";if(null!=d[_0x1dda("0xe1b")]&&d[_0x1dda("0x2")]("bgaudioplay")&&!o[_0x1dda("0x57b")](d[_0x1dda("0xe1b")]))return _0x1dda("0xe21");if(null!=d.picscale&&d[_0x1dda("0x2")](_0x1dda("0xe1c"))&&!o.isString(d[_0x1dda("0xe1c")]))return _0x1dda("0xe22");if(null!=d.msgscale&&d.hasOwnProperty("msgscale")&&!o[_0x1dda("0x332")](d[_0x1dda("0xe1d")]))return _0x1dda("0xe23");if(null!=d[_0x1dda("0xc5b")]&&d[_0x1dda("0x2")](_0x1dda("0xc5b"))){if(!o[_0x1dda("0x17")](d[_0x1dda("0xc5b")]))return _0x1dda("0xd68");for(var x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]),a=0;a<x.length;++a){if(!o.key32Re[_0x1dda("0x29")](x[a]))return _0x1dda("0xd69");if(t=c[_0x1dda("0x33")][_0x1dda("0xe1e")].verify(d[_0x1dda("0xc5b")][x[a]]))return"Nodes."+t}}if(null!=d[_0x1dda("0xe18")]&&d.hasOwnProperty("Infos")){if(!o[_0x1dda("0x17")](d[_0x1dda("0xe18")]))return _0x1dda("0xe24");for(x=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xe18")]),a=0;a<x[_0x1dda("0x0")];++a){if(!o[_0x1dda("0xd38")].test(x[a]))return _0x1dda("0xe25");var t;if(t=c.ESMap[_0x1dda("0xe1f")].verify(d[_0x1dda("0xe18")][x[a]]))return _0x1dda("0xe26")+t}}return null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c.ESMap[_0x1dda("0xdc5")])return d;var x=new(c[_0x1dda("0x33")][_0x1dda("0xdc5")]);if(null!=d[_0x1dda("0xe19")]&&(x.serverurl=String(d[_0x1dda("0xe19")])),null!=d[_0x1dda("0xe1a")]&&(x[_0x1dda("0xe1a")]=String(d[_0x1dda("0xe1a")])),null!=d[_0x1dda("0xe1b")]&&(x[_0x1dda("0xe1b")]=0|d[_0x1dda("0xe1b")]),null!=d[_0x1dda("0xe1c")]&&(x.picscale=String(d[_0x1dda("0xe1c")])),null!=d[_0x1dda("0xe1d")]&&(x[_0x1dda("0xe1d")]=String(d.msgscale)),d[_0x1dda("0xc5b")]){if((0,_.default)(d.Nodes)!==_0x1dda("0x1b"))throw TypeError(".ESMap.PicSet.Nodes: object expected");x[_0x1dda("0xc5b")]={};for(var a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]),t=0;t<a[_0x1dda("0x0")];++t){if("object"!==(0,_[_0x1dda("0xd")])(d[_0x1dda("0xc5b")][a[t]]))throw TypeError(_0x1dda("0xe27"));x[_0x1dda("0xc5b")][a[t]]=c[_0x1dda("0x33")][_0x1dda("0xe1e")][_0x1dda("0x5a0")](d[_0x1dda("0xc5b")][a[t]])}}if(d[_0x1dda("0xe18")]){if((0,_.default)(d[_0x1dda("0xe18")])!==_0x1dda("0x1b"))throw TypeError(".ESMap.PicSet.Infos: object expected");for(x.Infos={},a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xe18")]),t=0;t<a[_0x1dda("0x0")];++t){if((0,_.default)(d.Infos[a[t]])!==_0x1dda("0x1b"))throw TypeError(_0x1dda("0xe28"));x.Infos[a[t]]=c.ESMap.PicClickSet[_0x1dda("0x5a0")](d[_0x1dda("0xe18")][a[t]])}}return x},d.from=d[_0x1dda("0x5a0")],d.toObject=function(d,x){x||(x={});var a,_={};if((x[_0x1dda("0x6f3")]||x.defaults)&&(_.Nodes={},_.Infos={}),x[_0x1dda("0x5a5")]&&(_[_0x1dda("0xe19")]="",_[_0x1dda("0xe1a")]="",_[_0x1dda("0xe1b")]=0,_[_0x1dda("0xe1c")]="",_[_0x1dda("0xe1d")]=""),null!=d[_0x1dda("0xe19")]&&d[_0x1dda("0x2")](_0x1dda("0xe19"))&&(_[_0x1dda("0xe19")]=d.serverurl),null!=d[_0x1dda("0xe1a")]&&d[_0x1dda("0x2")](_0x1dda("0xe1a"))&&(_[_0x1dda("0xe1a")]=d[_0x1dda("0xe1a")]),null!=d[_0x1dda("0xe1b")]&&d[_0x1dda("0x2")](_0x1dda("0xe1b"))&&(_[_0x1dda("0xe1b")]=d[_0x1dda("0xe1b")]),null!=d[_0x1dda("0xe1c")]&&d[_0x1dda("0x2")](_0x1dda("0xe1c"))&&(_.picscale=d[_0x1dda("0xe1c")]),null!=d[_0x1dda("0xe1d")]&&d[_0x1dda("0x2")](_0x1dda("0xe1d"))&&(_.msgscale=d[_0x1dda("0xe1d")]),d[_0x1dda("0xc5b")]&&(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xc5b")]))[_0x1dda("0x0")]){_[_0x1dda("0xc5b")]={};for(var t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0xc5b")][a[t]]=c.ESMap[_0x1dda("0xe1e")][_0x1dda("0x5a8")](d.Nodes[a[t]],x)}if(d[_0x1dda("0xe18")]&&(a=(0,e[_0x1dda("0xd")])(d[_0x1dda("0xe18")]))[_0x1dda("0x0")])for(_.Infos={},t=0;t<a[_0x1dda("0x0")];++t)_[_0x1dda("0xe18")][a[t]]=c[_0x1dda("0x33")][_0x1dda("0xe1f")][_0x1dda("0x5a8")](d.Infos[a[t]],x);return _},d[_0x1dda("0x1")].toObject=function(d){return this[_0x1dda("0x7ca")].toObject(this,d)},d.prototype.toJSON=function(){return this[_0x1dda("0x7ca")].toObject(this,n.util[_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xe1e")]=function(){function d(d){if(this[_0x1dda("0xe29")]=[],this[_0x1dda("0xe2a")]=[],d)for(var x=(0,e.default)(d),a=0;a<x.length;++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d.prototype.floornum=0,d[_0x1dda("0x1")]._id=0,d[_0x1dda("0x1")].url="",d.prototype[_0x1dda("0xe2b")]=0,d.prototype.X=0,d.prototype.Y=0,d[_0x1dda("0x1")][_0x1dda("0xe29")]=o[_0x1dda("0xdbf")],d[_0x1dda("0x1")][_0x1dda("0xe2a")]=o[_0x1dda("0xdbf")],d.create=function(x){return new d(x)},d.encode=function(d,x){if(x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0xbd4")]&&d.hasOwnProperty(_0x1dda("0xbd4"))&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d[_0x1dda("0xbd4")]),null!=d._id&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&x.uint32(16)[_0x1dda("0x568")](d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0x4a")]&&d.hasOwnProperty(_0x1dda("0x4a"))&&x[_0x1dda("0x567")](26).string(d.url),null!=d[_0x1dda("0xe2b")]&&d[_0x1dda("0x2")]("base")&&x[_0x1dda("0x567")](32).int32(d[_0x1dda("0xe2b")]),null!=d.X&&d[_0x1dda("0x2")]("X")&&x[_0x1dda("0x567")](41)[_0x1dda("0x56b")](d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&x[_0x1dda("0x567")](49)[_0x1dda("0x56b")](d.Y),null!=d[_0x1dda("0xe29")]&&d[_0x1dda("0xe29")].length){x.uint32(58)[_0x1dda("0xd2d")]();for(var a=0;a<d[_0x1dda("0xe29")][_0x1dda("0x0")];++a)x.int32(d[_0x1dda("0xe29")][a]);x[_0x1dda("0xd30")]()}if(null!=d[_0x1dda("0xe2a")]&&d[_0x1dda("0xe2a")][_0x1dda("0x0")]){for(x[_0x1dda("0x567")](66)[_0x1dda("0xd2d")](),a=0;a<d[_0x1dda("0xe2a")][_0x1dda("0x0")];++a)x[_0x1dda("0x568")](d[_0x1dda("0xe2a")][a]);x[_0x1dda("0xd30")]()}return x},d[_0x1dda("0xd31")]=function(d,x){return this[_0x1dda("0x565")](d,x).ldelim()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r.create(d));for(var a=void 0===x?d[_0x1dda("0x574")]:d.pos+x,_=new(c[_0x1dda("0x33")].PicNodeSet);d[_0x1dda("0x3d8")]<a;){var e=d[_0x1dda("0x567")]();switch(e>>>3){case 1:_[_0x1dda("0xbd4")]=d[_0x1dda("0x568")]();break;case 2:_[_0x1dda("0x3a0")]=d[_0x1dda("0x568")]();break;case 3:_.url=d[_0x1dda("0xe")]();break;case 4:_[_0x1dda("0xe2b")]=d[_0x1dda("0x568")]();break;case 5:_.X=d[_0x1dda("0x56b")]();break;case 6:_.Y=d[_0x1dda("0x56b")]();break;case 7:if(_[_0x1dda("0xe29")]&&_[_0x1dda("0xe29")][_0x1dda("0x0")]||(_[_0x1dda("0xe29")]=[]),2==(7&e))for(var t=d[_0x1dda("0x567")]()+d[_0x1dda("0x3d8")];d[_0x1dda("0x3d8")]<t;)_.idlist1.push(d.int32());else _[_0x1dda("0xe29")][_0x1dda("0x10")](d[_0x1dda("0x568")]());break;case 8:if(_[_0x1dda("0xe2a")]&&_[_0x1dda("0xe2a")][_0x1dda("0x0")]||(_[_0x1dda("0xe2a")]=[]),2==(7&e))for(t=d[_0x1dda("0x567")]()+d[_0x1dda("0x3d8")];d[_0x1dda("0x3d8")]<t;)_[_0x1dda("0xe2a")].push(d[_0x1dda("0x568")]());else _[_0x1dda("0xe2a")][_0x1dda("0x10")](d[_0x1dda("0x568")]());break;default:d[_0x1dda("0x576")](7&e)}}return _},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this.decode(d,d[_0x1dda("0x567")]())},d[_0x1dda("0x578")]=function(d){if((typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))!==_0x1dda("0x1b")||null===d)return"object expected";if(null!=d[_0x1dda("0xbd4")]&&d.hasOwnProperty(_0x1dda("0xbd4"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0xbd4")]))return _0x1dda("0xe0f");if(null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d._id))return _0x1dda("0x57f");if(null!=d[_0x1dda("0x4a")]&&d.hasOwnProperty(_0x1dda("0x4a"))&&!o[_0x1dda("0x332")](d.url))return _0x1dda("0xe2c");if(null!=d[_0x1dda("0xe2b")]&&d[_0x1dda("0x2")](_0x1dda("0xe2b"))&&!o.isInteger(d[_0x1dda("0xe2b")]))return _0x1dda("0xe2d");if(null!=d.X&&d.hasOwnProperty("X")&&typeof d.X!==_0x1dda("0x177"))return _0x1dda("0xd61");if(null!=d.Y&&d[_0x1dda("0x2")]("Y")&&typeof d.Y!==_0x1dda("0x177"))return _0x1dda("0xd62");if(null!=d.idlist1&&d.hasOwnProperty(_0x1dda("0xe29"))){if(!Array[_0x1dda("0x2f4")](d[_0x1dda("0xe29")]))return _0x1dda("0xe2e");for(var x=0;x<d[_0x1dda("0xe29")][_0x1dda("0x0")];++x)if(!o[_0x1dda("0x57b")](d[_0x1dda("0xe29")][x]))return _0x1dda("0xe2f")}if(null!=d.idlist2&&d[_0x1dda("0x2")](_0x1dda("0xe2a"))){if(!Array[_0x1dda("0x2f4")](d[_0x1dda("0xe2a")]))return _0x1dda("0xe30");for(x=0;x<d[_0x1dda("0xe2a")].length;++x)if(!o[_0x1dda("0x57b")](d[_0x1dda("0xe2a")][x]))return _0x1dda("0xe31")}return null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x33")][_0x1dda("0xe1e")])return d;var x=new(c[_0x1dda("0x33")][_0x1dda("0xe1e")]);if(null!=d.floornum&&(x[_0x1dda("0xbd4")]=0|d.floornum),null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0x4a")]&&(x[_0x1dda("0x4a")]=String(d[_0x1dda("0x4a")])),null!=d.base&&(x[_0x1dda("0xe2b")]=0|d[_0x1dda("0xe2b")]),null!=d.X&&(x.X=Number(d.X)),null!=d.Y&&(x.Y=Number(d.Y)),d.idlist1){if(!Array[_0x1dda("0x2f4")](d[_0x1dda("0xe29")]))throw TypeError(".ESMap.PicNodeSet.idlist1: array expected");x[_0x1dda("0xe29")]=[];for(var a=0;a<d[_0x1dda("0xe29")][_0x1dda("0x0")];++a)x[_0x1dda("0xe29")][a]=0|d.idlist1[a]}if(d[_0x1dda("0xe2a")]){if(!Array[_0x1dda("0x2f4")](d.idlist2))throw TypeError(_0x1dda("0xe32"));for(x[_0x1dda("0xe2a")]=[],a=0;a<d[_0x1dda("0xe2a")][_0x1dda("0x0")];++a)x[_0x1dda("0xe2a")][a]=0|d[_0x1dda("0xe2a")][a]}return x},d.from=d[_0x1dda("0x5a0")],d[_0x1dda("0x5a8")]=function(d,x){x||(x={});var a={};if((x[_0x1dda("0xde3")]||x[_0x1dda("0x5a5")])&&(a.idlist1=[],a[_0x1dda("0xe2a")]=[]),x[_0x1dda("0x5a5")]&&(a[_0x1dda("0xbd4")]=0,a._id=0,a[_0x1dda("0x4a")]="",a[_0x1dda("0xe2b")]=0,a.X=0,a.Y=0),null!=d[_0x1dda("0xbd4")]&&d[_0x1dda("0x2")](_0x1dda("0xbd4"))&&(a.floornum=d.floornum),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d._id),null!=d[_0x1dda("0x4a")]&&d[_0x1dda("0x2")]("url")&&(a.url=d[_0x1dda("0x4a")]),null!=d[_0x1dda("0xe2b")]&&d[_0x1dda("0x2")](_0x1dda("0xe2b"))&&(a[_0x1dda("0xe2b")]=d[_0x1dda("0xe2b")]),null!=d.X&&d[_0x1dda("0x2")]("X")&&(a.X=d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&(a.Y=d.Y),d[_0x1dda("0xe29")]&&d.idlist1[_0x1dda("0x0")]){a[_0x1dda("0xe29")]=[];for(var _=0;_<d.idlist1[_0x1dda("0x0")];++_)a.idlist1[_]=d.idlist1[_]}if(d.idlist2&&d[_0x1dda("0xe2a")].length)for(a[_0x1dda("0xe2a")]=[],_=0;_<d.idlist2.length;++_)a[_0x1dda("0xe2a")][_]=d[_0x1dda("0xe2a")][_];return a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")].toObject(this,d)},d[_0x1dda("0x1")][_0x1dda("0x5a7")]=function(){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,n[_0x1dda("0x5a9")][_0x1dda("0x5aa")])},d}(),i[_0x1dda("0xe1f")]=function(){function d(d){if(d)for(var x=(0,e[_0x1dda("0xd")])(d),a=0;a<x[_0x1dda("0x0")];++a)null!=d[x[a]]&&(this[x[a]]=d[x[a]])}return d[_0x1dda("0x1")][_0x1dda("0xbd4")]=0,d[_0x1dda("0x1")][_0x1dda("0x3a0")]=0,d[_0x1dda("0x1")][_0x1dda("0xe33")]="",d.prototype.aurl="",d[_0x1dda("0x1")].msgt="",d[_0x1dda("0x1")][_0x1dda("0xe34")]="",d[_0x1dda("0x1")].X=0,d[_0x1dda("0x1")].Y=0,d[_0x1dda("0x1")].Z=0,d.prototype[_0x1dda("0xe35")]="",d[_0x1dda("0x1")][_0x1dda("0xe36")]="",d[_0x1dda("0x566")]=function(x){return new d(x)},d[_0x1dda("0x565")]=function(d,x){return x||(x=s[_0x1dda("0x566")]()),null!=d[_0x1dda("0xbd4")]&&d[_0x1dda("0x2")](_0x1dda("0xbd4"))&&x[_0x1dda("0x567")](8)[_0x1dda("0x568")](d[_0x1dda("0xbd4")]),null!=d._id&&d.hasOwnProperty(_0x1dda("0x3a0"))&&x[_0x1dda("0x567")](16)[_0x1dda("0x568")](d._id),null!=d[_0x1dda("0xe33")]&&d[_0x1dda("0x2")](_0x1dda("0xe33"))&&x.uint32(26).string(d[_0x1dda("0xe33")]),null!=d[_0x1dda("0xe37")]&&d[_0x1dda("0x2")](_0x1dda("0xe37"))&&x[_0x1dda("0x567")](34)[_0x1dda("0xe")](d[_0x1dda("0xe37")]),null!=d.msgt&&d[_0x1dda("0x2")]("msgt")&&x[_0x1dda("0x567")](42)[_0x1dda("0xe")](d[_0x1dda("0xe38")]),null!=d[_0x1dda("0xe34")]&&d[_0x1dda("0x2")](_0x1dda("0xe34"))&&x.uint32(50)[_0x1dda("0xe")](d[_0x1dda("0xe34")]),null!=d.X&&d[_0x1dda("0x2")]("X")&&x[_0x1dda("0x567")](57).double(d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&x.uint32(65)[_0x1dda("0x56b")](d.Y),null!=d.Z&&d.hasOwnProperty("Z")&&x[_0x1dda("0x567")](73)[_0x1dda("0x56b")](d.Z),null!=d.curl&&d[_0x1dda("0x2")](_0x1dda("0xe35"))&&x[_0x1dda("0x567")](82)[_0x1dda("0xe")](d[_0x1dda("0xe35")]),null!=d[_0x1dda("0xe36")]&&d[_0x1dda("0x2")]("csize")&&x[_0x1dda("0x567")](90)[_0x1dda("0xe")](d[_0x1dda("0xe36")]),x},d.encodeDelimited=function(d,x){return this.encode(d,x)[_0x1dda("0xd30")]()},d[_0x1dda("0x45")]=function(d,x){d instanceof r||(d=r[_0x1dda("0x566")](d));for(var a=void 0===x?d[_0x1dda("0x574")]:d[_0x1dda("0x3d8")]+x,_=new(c[_0x1dda("0x33")][_0x1dda("0xe1f")]);d[_0x1dda("0x3d8")]<a;){var e=d[_0x1dda("0x567")]();switch(e>>>3){case 1:_[_0x1dda("0xbd4")]=d.int32();break;case 2:_._id=d[_0x1dda("0x568")]();break;case 3:_[_0x1dda("0xe33")]=d[_0x1dda("0xe")]();break;case 4:_[_0x1dda("0xe37")]=d[_0x1dda("0xe")]();break;case 5:_[_0x1dda("0xe38")]=d.string();break;case 6:_.msgc=d[_0x1dda("0xe")]();break;case 7:_.X=d[_0x1dda("0x56b")]();break;case 8:_.Y=d[_0x1dda("0x56b")]();break;case 9:_.Z=d[_0x1dda("0x56b")]();break;case 10:_[_0x1dda("0xe35")]=d[_0x1dda("0xe")]();break;case 11:_[_0x1dda("0xe36")]=d[_0x1dda("0xe")]();break;default:d[_0x1dda("0x576")](7&e)}}return _},d[_0x1dda("0x577")]=function(d){return d instanceof r||(d=r(d)),this[_0x1dda("0x45")](d,d.uint32())},d[_0x1dda("0x578")]=function(d){return"object"!==(void 0===d?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(d))||null===d?_0x1dda("0x579"):null!=d.floornum&&d[_0x1dda("0x2")](_0x1dda("0xbd4"))&&!o.isInteger(d[_0x1dda("0xbd4")])?_0x1dda("0xe0f"):null!=d._id&&d.hasOwnProperty(_0x1dda("0x3a0"))&&!o[_0x1dda("0x57b")](d[_0x1dda("0x3a0")])?_0x1dda("0x57f"):null!=d[_0x1dda("0xe33")]&&d.hasOwnProperty(_0x1dda("0xe33"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xe33")])?_0x1dda("0xe39"):null!=d.aurl&&d[_0x1dda("0x2")](_0x1dda("0xe37"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xe37")])?_0x1dda("0xe3a"):null!=d[_0x1dda("0xe38")]&&d[_0x1dda("0x2")](_0x1dda("0xe38"))&&!o.isString(d[_0x1dda("0xe38")])?_0x1dda("0xe3b"):null!=d.msgc&&d[_0x1dda("0x2")](_0x1dda("0xe34"))&&!o[_0x1dda("0x332")](d[_0x1dda("0xe34")])?_0x1dda("0xe3c"):null!=d.X&&d.hasOwnProperty("X")&&typeof d.X!==_0x1dda("0x177")?_0x1dda("0xd61"):null!=d.Y&&d.hasOwnProperty("Y")&&typeof d.Y!==_0x1dda("0x177")?_0x1dda("0xd62"):null!=d.Z&&d.hasOwnProperty("Z")&&typeof d.Z!==_0x1dda("0x177")?_0x1dda("0xd73"):null!=d[_0x1dda("0xe35")]&&d[_0x1dda("0x2")]("curl")&&!o.isString(d[_0x1dda("0xe35")])?_0x1dda("0xe3d"):null!=d[_0x1dda("0xe36")]&&d.hasOwnProperty(_0x1dda("0xe36"))&&!o[_0x1dda("0x332")](d.csize)?_0x1dda("0xe3e"):null},d[_0x1dda("0x5a0")]=function(d){if(d instanceof c[_0x1dda("0x33")][_0x1dda("0xe1f")])return d;var x=new c.ESMap.PicClickSet;return null!=d.floornum&&(x[_0x1dda("0xbd4")]=0|d[_0x1dda("0xbd4")]),null!=d[_0x1dda("0x3a0")]&&(x[_0x1dda("0x3a0")]=0|d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xe33")]&&(x[_0x1dda("0xe33")]=String(d.purl)),null!=d[_0x1dda("0xe37")]&&(x.aurl=String(d.aurl)),null!=d[_0x1dda("0xe38")]&&(x.msgt=String(d.msgt)),null!=d[_0x1dda("0xe34")]&&(x[_0x1dda("0xe34")]=String(d[_0x1dda("0xe34")])),null!=d.X&&(x.X=Number(d.X)),null!=d.Y&&(x.Y=Number(d.Y)),null!=d.Z&&(x.Z=Number(d.Z)),null!=d[_0x1dda("0xe35")]&&(x[_0x1dda("0xe35")]=String(d.curl)),null!=d[_0x1dda("0xe36")]&&(x[_0x1dda("0xe36")]=String(d[_0x1dda("0xe36")])),x},d[_0x1dda("0x285")]=d[_0x1dda("0x5a0")],d.toObject=function(d,x){x||(x={});var a={};return x.defaults&&(a[_0x1dda("0xbd4")]=0,a[_0x1dda("0x3a0")]=0,a[_0x1dda("0xe33")]="",a[_0x1dda("0xe37")]="",a[_0x1dda("0xe38")]="",a[_0x1dda("0xe34")]="",a.X=0,a.Y=0,a.Z=0,a[_0x1dda("0xe35")]="",a[_0x1dda("0xe36")]=""),null!=d[_0x1dda("0xbd4")]&&d.hasOwnProperty(_0x1dda("0xbd4"))&&(a[_0x1dda("0xbd4")]=d[_0x1dda("0xbd4")]),null!=d[_0x1dda("0x3a0")]&&d[_0x1dda("0x2")](_0x1dda("0x3a0"))&&(a[_0x1dda("0x3a0")]=d[_0x1dda("0x3a0")]),null!=d[_0x1dda("0xe33")]&&d[_0x1dda("0x2")](_0x1dda("0xe33"))&&(a[_0x1dda("0xe33")]=d[_0x1dda("0xe33")]),null!=d[_0x1dda("0xe37")]&&d[_0x1dda("0x2")](_0x1dda("0xe37"))&&(a[_0x1dda("0xe37")]=d[_0x1dda("0xe37")]),null!=d[_0x1dda("0xe38")]&&d[_0x1dda("0x2")](_0x1dda("0xe38"))&&(a.msgt=d.msgt),null!=d.msgc&&d[_0x1dda("0x2")](_0x1dda("0xe34"))&&(a[_0x1dda("0xe34")]=d.msgc),null!=d.X&&d[_0x1dda("0x2")]("X")&&(a.X=d.X),null!=d.Y&&d[_0x1dda("0x2")]("Y")&&(a.Y=d.Y),null!=d.Z&&d.hasOwnProperty("Z")&&(a.Z=d.Z),null!=d[_0x1dda("0xe35")]&&d[_0x1dda("0x2")](_0x1dda("0xe35"))&&(a[_0x1dda("0xe35")]=d[_0x1dda("0xe35")]),null!=d[_0x1dda("0xe36")]&&d.hasOwnProperty(_0x1dda("0xe36"))&&(a[_0x1dda("0xe36")]=d[_0x1dda("0xe36")]),a},d[_0x1dda("0x1")][_0x1dda("0x5a8")]=function(d){return this[_0x1dda("0x7ca")][_0x1dda("0x5a8")](this,d)},d.prototype.toJSON=function(){return this[_0x1dda("0x7ca")].toObject(this,n.util[_0x1dda("0x5aa")])},d}(),i),d[_0x1dda("0x7")]=c},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=n(a(13)),e=n(a(2)),t=n(a(0)),i=n(a(1));function n(d){return d&&d.__esModule?d:{default:d}}var r=function(){function d(x){(0,t[_0x1dda("0xd")])(this,d),this.mapService=x,this.jsonLib=null,this[_0x1dda("0xa0d")]={default:null,userData:null},this[_0x1dda("0xa0f")]={default:{meter:"ç±³"},userData:null},this[_0x1dda("0x632")]=_0x1dda("0xe3f"),this[_0x1dda("0xe40")]=this[_0x1dda("0xe41")](this[_0x1dda("0x632")]);this[_0x1dda("0xa0d")][_0x1dda("0xd")]={"ä¸è¡":"ä¸è¡","ä¸è¡":"ä¸è¡","å¯¼èªç»æ":_0x1dda("0xe42"),"å³å°å°è¾¾ç®çå°":"å³å°å°è¾¾ç®çå°","æè°¢ä½¿ç¨ææ¯ä¸ç»´åºæ¯å¯¼èª":_0x1dda("0xe43"),"å·¦è½¬":"å·¦è½¬","å³è½¬":"å³è½¬","å":"å","å³åè½¬":_0x1dda("0xe44"),"å·¦åè½¬":_0x1dda("0xe45"),"å·¦åæ¹ç´è¡":_0x1dda("0xe46"),"å³åæ¹ç´è¡":"å³åæ¹ç´è¡","å°è¾¾ç®çå°":_0x1dda("0xe47"),"ç´è¡":"ç´è¡","å·¦è½¬åå³è½¬":_0x1dda("0xe48"),"å·²éæ°è§åè·¯çº¿":_0x1dda("0xe49"),"å³è½¬åå·¦è½¬":_0x1dda("0xe4a"),"å³è½¬åå³è½¬":"å³è½¬åå³è½¬","å·¦è½¬åå·¦è½¬":_0x1dda("0xe4b"),"æ­¥è¡å¯¼èªå¼å§":_0x1dda("0xe4c"),"è¿å¥å®¤å":_0x1dda("0xe4d"),"è¿å¥å®¤å¤":"è¿å¥å®¤å¤","è½¦å½¢å¯¼èªå¼å§":_0x1dda("0xe4e"),A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z","è´":"è´","æ¥¼":"æ¥¼","è¿å¥":"è¿å¥","å±":"å±","ç®çå°å¨éè·¯å·¦ä¾§":"ç®çå°å¨éè·¯å·¦ä¾§","ç®çå°å¨éè·¯å³ä¾§":_0x1dda("0xe4f"),"å¡é":"å¡é","åå¾":"åå¾","è¯·åé":_0x1dda("0xe50"),"åé":"åé","æ¥¼æ¢¯":"æ¥¼æ¢¯","çµæ¢¯":"çµæ¢¯","æ¶æ¢¯":"æ¶æ¢¯","ç±³":"ç±³","å":"å","ç¾":"ç¾","å":"å",",":","}}return(0,i.default)(d,[{key:_0x1dda("0xe41"),value:function(d){for(var x=[],a=0;a<d[_0x1dda("0x0")];a++)x[a]=d[_0x1dda("0x2d")](a);return x}},{key:_0x1dda("0xa0b"),value:function(d){d?(this[_0x1dda("0xa0d")][_0x1dda("0x153")]={},(0,e[_0x1dda("0xd")])(this[_0x1dda("0xa0d")][_0x1dda("0x153")],d)):this[_0x1dda("0xa0d")][_0x1dda("0x153")]=null}},{key:_0x1dda("0xe51"),value:function(d){d?(this.generalLib[_0x1dda("0x153")]={},(0,e[_0x1dda("0xd")])(this[_0x1dda("0xa0f")].userData,d)):this[_0x1dda("0xa0f")][_0x1dda("0x153")]=null}},{key:_0x1dda("0x45"),value:function(d){for(var x="",a=this.stringtoChar(d),_=0;_<a[_0x1dda("0x0")];_++){for(var e=0;e<this[_0x1dda("0xe40")][_0x1dda("0x0")];e++)a[_]=a[_]^this[_0x1dda("0xe40")][e];x+=String.fromCharCode(a[_])}return x}},{key:_0x1dda("0xbc5"),value:function(d){var x=this;return new _.default((function(a){if(x[_0x1dda("0x7d")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xa4")]){var _=x[_0x1dda("0x7d")].map[_0x1dda("0x35")].mapDataSrc+d+"/"+d+_0x1dda("0xe52");esmap[_0x1dda("0x5b4")][_0x1dda("0xc62")]({url:_})[_0x1dda("0x43a")]((function(d){x[_0x1dda("0xda7")]=JSON.parse(x[_0x1dda("0x45")](d)),a()}))}else a()}))}},{key:_0x1dda("0xe53"),value:function(d){return(this[_0x1dda("0xa0d")][_0x1dda("0x153")]?this.navLib.userData[d]?this[_0x1dda("0xa0d")][_0x1dda("0x153")][d]:this[_0x1dda("0xa0d")][_0x1dda("0xd")][d]:this[_0x1dda("0xa0d")].default[d])||d}},{key:_0x1dda("0xe54"),value:function(d){return this[_0x1dda("0xa0f")][_0x1dda("0x153")]&&this[_0x1dda("0xa0f")].userData[d]?this.generalLib[_0x1dda("0x153")][d]:this[_0x1dda("0xa0f")].default[d]}},{key:"getWordFromJsonLib",value:function(){}}]),d}();x[_0x1dda("0xd")]=r},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x.ModelLod=void 0;var _=t(a(0)),e=t(a(1));function t(d){return d&&d.__esModule?d:{default:d}}var i=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this.map=x,this[_0x1dda("0x6f3")]=[],this.caches={},this[_0x1dda("0xe55")]=[],this[_0x1dda("0x32")]()}return(0,e.default)(d,[{key:"add",value:function(d){var x=d[_0x1dda("0x180")];this[_0x1dda("0x6f3")][_0x1dda("0x10")]({uuid:x[_0x1dda("0x2c4")],model:d,lod:0,targetLod:0,rank:1/0})}},{key:"rankObjects",value:function(){if(0!=this[_0x1dda("0x6f3")][_0x1dda("0x0")]){var d=150,x=50,a=this[_0x1dda("0x42")].currentCamera[_0x1dda("0xfa")],_={0:[],1:[],2:[]},e=[],t=this.map[_0x1dda("0x279")].currentShows,i=this[_0x1dda("0x42")][_0x1dda("0x62e")][_0x1dda("0x42")]((function(d){return d.id})),n=this[_0x1dda("0x42")][_0x1dda("0x62c")]();if(n){for(var r,s=n[_0x1dda("0x22c")][_0x1dda("0xafb")],o=0;o<this[_0x1dda("0x6f3")].length;o++){var c=this[_0x1dda("0x6f3")][o],l=c[_0x1dda("0x1ba")];if(l[_0x1dda("0x180")]){var f=c[_0x1dda("0x1ba")][_0x1dda("0x3a6")];if(t[_0x1dda("0x61")](f)&&i[_0x1dda("0x61")](f)){var u=l.o3d_.userData[_0x1dda("0x2bd")],h=u[_0x1dda("0xe56")](a);if(h>=3500)0!=c.lod&&(c.targetLod=0,e.push(c));else{s.intersectsBox(u)||(h+=h/2);var g=(r=h)<=500?2:r<=2e3?1:0;c[_0x1dda("0xe57")]=g,c[_0x1dda("0x3c2")]=h,c[_0x1dda("0xe57")]!=c[_0x1dda("0x2ad")]&&_[g].push(c)}}}}return _[1][_0x1dda("0x0")]>d&&(_[1]=_[1][_0x1dda("0x3ef")]((function(d,x){return d.rank-x.rank}))[_0x1dda("0x11")](0,d)),_[2].length>x&&(_[2]=_[2][_0x1dda("0x3ef")]((function(d,x){return d[_0x1dda("0x3c2")]-x.rank}))[_0x1dda("0x11")](0,x)),_[0][_0x1dda("0x3ef")]((function(d,x){return d[_0x1dda("0x3c2")]-x.rank})),_[0]=_[0][_0x1dda("0x11")](50,_[0][_0x1dda("0x0")]-1),_[0][_0x1dda("0x317")](_[1]).concat(_[2])[_0x1dda("0x317")](e)}}}},{key:_0x1dda("0xe58"),value:function(d){if(d&&0!=d[_0x1dda("0x0")])for(var x=this[_0x1dda("0x42")][_0x1dda("0x7d")].modelLoadingList,a=this[_0x1dda("0x42")][_0x1dda("0x62c")]().modelLoadManager,_=0;_<d.length;_++){var e=d[_],t=e[_0x1dda("0x1ba")],i=e[_0x1dda("0x2ad")],n=e[_0x1dda("0xe57")],r=t[_0x1dda("0x1ce")];if(t[_0x1dda("0x180")]){var s=this[_0x1dda("0xe59")][e.uuid];if(s&&s[e.targetLod]){var o=s[e[_0x1dda("0xe57")]];r.parent.remove(r),s[i]||(s[i]=r),t.o3d_[_0x1dda("0xce")](o),t[_0x1dda("0x1ce")]=o,e[_0x1dda("0x2ad")]=n}else{var c=t[_0x1dda("0x1c4")]+_0x1dda("0x2ad")+e[_0x1dda("0xe57")]+_0x1dda("0xae"),l=this[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x24b")][c];if(l){r[_0x1dda("0xfe")].remove(r),s||(s={},this[_0x1dda("0xe59")][e[_0x1dda("0x2c4")]]=s),s[i]||(s[i]=r);var f=l[_0x1dda("0xcc0")][_0x1dda("0xf7")][_0x1dda("0x116")](!0);(new THREE.Box3)[_0x1dda("0x2ae")](f)[_0x1dda("0x2af")](f.position),f[_0x1dda("0xfa")].multiplyScalar(-1),t[_0x1dda("0x180")].add(f),t.child=f,s[n]||(s[n]=f),e[_0x1dda("0x2ad")]=n}else{if(!x[c]){var u=t[_0x1dda("0x1ba")][_0x1dda("0x13f")](".gltf","");0==n&&(n="");var h=t._lodName+_0x1dda("0x2ad")+n,g=t[_0x1dda("0x4a")][_0x1dda("0x2b0")](u,h);a[_0x1dda("0x2b2")](c,g,(function(d){}))}this.waitings.push({target:e,model:c})}}}}}},{key:_0x1dda("0x32"),value:function(){var d=this;this[_0x1dda("0x42")].on(_0x1dda("0x38c"),(function(){d[_0x1dda("0xe58")](d.rankObjects())})),this[_0x1dda("0x42")].on("update",(function(){if(d[_0x1dda("0xe55")][_0x1dda("0x0")]>0){for(var x=d[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x24b")],a=[],_=0;_<d[_0x1dda("0xe55")][_0x1dda("0x0")];_++){var e=d[_0x1dda("0xe55")][_];x[e.model]&&(a[_0x1dda("0x10")](e),d[_0x1dda("0xe55")][_0x1dda("0x6")](_,1),_--)}a[_0x1dda("0x0")]>0&&d[_0x1dda("0xe58")](a.map((function(d){return d[_0x1dda("0x227")]})))}}))}},{key:_0x1dda("0x2ac"),value:function(d){var x=this;if(!(d<0||d>2)&&d!==this[_0x1dda("0x1c3")]){0==d&&(d="");var a=this[_0x1dda("0x1c4")]+_0x1dda("0x2ad")+d+_0x1dda("0xae"),_=this[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x24b")][a];if(_){this[_0x1dda("0x1ce")][_0x1dda("0xfe")].remove(this[_0x1dda("0x1ce")]);var e=_[_0x1dda("0xcc0")][_0x1dda("0xf7")][_0x1dda("0x116")](!0);(new(THREE[_0x1dda("0x2c8")])).setFromObject(e)[_0x1dda("0x2af")](e[_0x1dda("0xfa")]),e[_0x1dda("0xfa")][_0x1dda("0x218")](-1),this[_0x1dda("0x1ce")]=e,this[_0x1dda("0x180")][_0x1dda("0xce")](e),this[_0x1dda("0x1c3")]=d}else{var t=this[_0x1dda("0x1ba")][_0x1dda("0x13f")](".gltf",""),i=this._lodName+_0x1dda("0x2ad")+d,n=this[_0x1dda("0x4a")][_0x1dda("0x2b0")](t,i);this[_0x1dda("0x22c")][_0x1dda("0x2b1")][a]||this[_0x1dda("0x22c")].preFetchModel3D(a,n,(function(a){x[_0x1dda("0x1ce")].parent[_0x1dda("0x181")](x.child),x[_0x1dda("0x1ce")]=null;var _=a[_0x1dda("0xf7")][_0x1dda("0x116")](!0);(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](_).getCenter(_.position),_[_0x1dda("0xfa")][_0x1dda("0x218")](-1),x.child=_,x[_0x1dda("0x180")][_0x1dda("0xce")](_),x[_0x1dda("0x1c3")]=d}))}}}}]),d}();x[_0x1dda("0xbb5")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=r(a(40)),e=r(a(13)),t=r(a(0)),i=r(a(1)),n=a(156);function r(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var s=function(){function d(x){var a=x[_0x1dda("0x29f")],_=void 0===a?1:a;(0,t[_0x1dda("0xd")])(this,d),this.speed=_,this[_0x1dda("0xe5a")]=null,this[_0x1dda("0xe5b")]=null,this[_0x1dda("0xe5c")]=[],this[_0x1dda("0xe5d")]=7e3,this[_0x1dda("0xe5e")]=!1,this[_0x1dda("0xe5f")]=!1,this[_0x1dda("0xe60")]=!1,this[_0x1dda("0xe61")]=0,this[_0x1dda("0xe62")]=-1,this[_0x1dda("0xe63")]={},this.spriteArray=[],this.endHandler=function(){if(this.playIndex>=this[_0x1dda("0xe62")])this[_0x1dda("0x18d")](),this[_0x1dda("0xe5e")]=!1;else{var d=this[_0x1dda("0xe64")][this.playIndex++];this.sound[_0x1dda("0x261")](d)}}.bind(this)}return(0,i.default)(d,[{key:"loadFile",value:function(d){var x=this;return new(e[_0x1dda("0xd")])((function(a,_){var e=new XMLHttpRequest;e[_0x1dda("0x44a")](_0x1dda("0x444"),d,!0),e[_0x1dda("0x44d")]=_0x1dda("0x44e"),e.onload=function(d){x[_0x1dda("0xe5f")]=!0,a(this[_0x1dda("0x45d")])},e[_0x1dda("0x454")]()}))}},{key:"init",value:function(d,x){var a=this;this[_0x1dda("0xe65")](d).then((function(_){a[_0x1dda("0xe66")](_,d),x&&x()}))[_0x1dda("0x817")]((function(d){console[_0x1dda("0x255")](esmap[_0x1dda("0x24d")][_0x1dda("0x977")],d)}))}},{key:_0x1dda("0xe66"),value:function(d,x){this[_0x1dda("0xe67")]=new Uint8Array(d);var a=d.byteLength,_=this[_0x1dda("0xe68")](this[_0x1dda("0xe67")],a-this[_0x1dda("0xe5d")],a-1),e=this[_0x1dda("0xe69")](_[_0x1dda("0x828")]).split("}]")[0]+"}]";this[_0x1dda("0xe5b")]=JSON[_0x1dda("0x6d")](e);for(var t=0,i=this[_0x1dda("0xe5b")].length;t<i;t++){var r=this[_0x1dda("0xe5b")][t],s=this.decodeUnicode(r.name)[_0x1dda("0x13f")](_0x1dda("0xe6a"),"");this[_0x1dda("0xe63")][s]=[r[_0x1dda("0xe6b")][0],r[_0x1dda("0xe6b")][1]-400]}var o=this;this[_0x1dda("0xe5a")]=new(n[_0x1dda("0xe6c")])({src:[x],sprite:this.sprite,rate:this[_0x1dda("0x29f")]}),this[_0x1dda("0xe5a")][_0x1dda("0x337")](_0x1dda("0xe6d"),(function(d){console[_0x1dda("0x3ec")](_0x1dda("0xe6e")),o[_0x1dda("0xe6f")]()})),this.sound[_0x1dda("0x337")]("load",(function(){}))}},{key:"playSoundByName",value:function(d){switch(d){case _0x1dda("0xe70"):this[_0x1dda("0xe71")]([_0x1dda("0xe4c")]);break;case _0x1dda("0xe72"):this[_0x1dda("0xe71")]([_0x1dda("0xe4e")])}}},{key:"_testEachKey",value:function(){var d=document[_0x1dda("0x20")](_0x1dda("0x1a4"));d[_0x1dda("0x120")].position=_0x1dda("0xe73"),d[_0x1dda("0x120")][_0x1dda("0x323")]=_0x1dda("0x1ab"),d.style[_0x1dda("0x325")]="0";var x=this,a=function(a){var _=document.createElement(_0x1dda("0x71b"));_[_0x1dda("0x120")][_0x1dda("0xe74")]=_0x1dda("0xe75"),_[_0x1dda("0x1ae")]=a,_[_0x1dda("0x30")](_0x1dda("0x99d"),(function(){x[_0x1dda("0xe5a")][_0x1dda("0x261")](a)}),!1),d[_0x1dda("0x24")](_)};for(var _ in this[_0x1dda("0xe63")])a(_);document[_0x1dda("0x4a9")][_0x1dda("0x24")](d)}},{key:_0x1dda("0xe76"),value:function(){this[_0x1dda("0x18d")](),this[_0x1dda("0xe5a")][_0x1dda("0x68")](_0x1dda("0x64d")),this[_0x1dda("0xe5a")].unload()}},{key:_0x1dda("0xe77"),value:function(d){var x=this;if(d&&d[_0x1dda("0x0")]>0&&this[_0x1dda("0xe5f")]){this[_0x1dda("0xe60")]=!0,this[_0x1dda("0xe64")]=d,this.playIndex=0,this.playLength=d[_0x1dda("0x0")],this.sound.on("end",this[_0x1dda("0xe78")]);var a=this.spriteArray[this.playIndex++];this[_0x1dda("0xe5a")][_0x1dda("0x261")](a);var _=0;return d[_0x1dda("0xd1")]((function(d){var a=x.sprite[d];_+=a[1]})),_*this[_0x1dda("0xe5a")][_0x1dda("0xe79")]()}}},{key:_0x1dda("0xe71"),value:function(d){if(this.isLoaded&&(!this[_0x1dda("0xe60")]||this[_0x1dda("0xe5e")])){for(var x=/^[0-9]*$/,a=["ä¸","äº","ä¸","å","äº","å­","ä¸","å«","ä¹","å"],e=[],t=0,i=d[_0x1dda("0x0")];t<i;t++)if(x[_0x1dda("0x29")](d[t])){var n=this[_0x1dda("0xe7a")](d[t]),r=!0,s=!1,o=void 0;try{for(var c,l=(0,_[_0x1dda("0xd")])(n);!(r=(c=l.next())[_0x1dda("0x3d5")]);r=!0){var f=c.value;e[_0x1dda("0x10")](f)}}catch(d){s=!0,o=d}finally{try{!r&&l[_0x1dda("0x24f")]&&l.return()}finally{if(s)throw o}}}else if(a[_0x1dda("0xaf")](d[t])>-1){var u=a.indexOf(d[t]);9==u?e[_0x1dda("0x10")]("å"):e[_0x1dda("0x10")]((u+1).toString())}else{if(!this[_0x1dda("0xe63")][d[t]])continue;e.push(d[t])}return this.stop(),this[_0x1dda("0xe77")](e)}}},{key:_0x1dda("0x18d"),value:function(){this[_0x1dda("0xe5a")][_0x1dda("0x18d")](),this.sound[_0x1dda("0x68")](_0x1dda("0x267"),this[_0x1dda("0xe78")]),this[_0x1dda("0xe61")]=0,this.playLength=-1,this.spriteArray=[],this[_0x1dda("0xe60")]=!1}},{key:_0x1dda("0xe68"),value:function(d,x,a){for(var _=[],e=x;e<a;e++)_[_0x1dda("0x10")](d[e]);return new Uint8Array(_)}},{key:"ab2str",value:function(d){return String[_0x1dda("0x10c")].apply(null,new Uint8Array(d))}},{key:_0x1dda("0xe7a"),value:function(d){var x=[],a=1e3;for(d=parseInt(d);0!==a;){d%=10*a;var _=parseInt(d/a);if(_>0){x[_0x1dda("0x10")](_+"");var e=null;switch(a){case 1e3:e="å";break;case 100:e="ç¾";break;case 10:e="å"}e&&x[_0x1dda("0x10")](e)}else{var t=x[_0x1dda("0x0")];t>0&&"0"!==x[t-1]&&x[_0x1dda("0x10")]("0")}a/=10}return"0"===x[x[_0x1dda("0x0")]-1]&&x.pop(),"1"===x[0]&&"å"===x[1]&&x[_0x1dda("0x4")](),x}},{key:_0x1dda("0xe7b"),value:function(d){return unescape(d[_0x1dda("0x13f")](/\\u/gi,"%u"))}}]),d}();x[_0x1dda("0xd")]=s},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=r(a(40)),e=r(a(13)),t=r(a(0)),i=r(a(1)),n=a(156);function r(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var s=function(){function d(x){var a=x[_0x1dda("0x29f")],_=void 0===a?1:a;(0,t[_0x1dda("0xd")])(this,d),this[_0x1dda("0x29f")]=_,this[_0x1dda("0xe5a")]=null,this[_0x1dda("0xe5b")]=null,this.audioGroupSound=[],this[_0x1dda("0xe5d")]=9e3,this[_0x1dda("0xe5e")]=!0,this[_0x1dda("0xe5f")]=!1,this[_0x1dda("0xe60")]=!1,this.playIndex=0,this[_0x1dda("0xe62")]=-1,this[_0x1dda("0xe63")]={},this[_0x1dda("0xe64")]=[],this[_0x1dda("0xe78")]=function(){if(this[_0x1dda("0xe61")]>=this.playLength)this[_0x1dda("0x18d")](),this[_0x1dda("0xe5e")]=!0;else{var d=this[_0x1dda("0xe64")][this[_0x1dda("0xe61")]++];this.sound[_0x1dda("0x261")](d)}}[_0x1dda("0x4e")](this)}return(0,i.default)(d,[{key:_0x1dda("0xe65"),value:function(d){return new e.default((function(x,a){var _=new XMLHttpRequest;_.open("GET",d,!0),_[_0x1dda("0x44d")]=_0x1dda("0x44e"),_.onload=function(d){x(this[_0x1dda("0x45d")])},_[_0x1dda("0x454")]()}))}},{key:"init",value:function(d,x){var a=this;this[_0x1dda("0xe65")](d)[_0x1dda("0x2ef")]((function(_){a.loadSoundArrayBuffer(_,d),x&&x()}))}},{key:_0x1dda("0xe7c"),value:function(d){switch(d){case _0x1dda("0xe70"):this[_0x1dda("0xe71")]([_0x1dda("0xe4c")]);break;case _0x1dda("0xe72"):this.playAudioByText([_0x1dda("0xe4e")])}}},{key:"loadSoundArrayBuffer",value:function(d,x){this[_0x1dda("0xe67")]=new Uint8Array(d);var a=d[_0x1dda("0x829")],_=this[_0x1dda("0xe68")](this[_0x1dda("0xe67")],a-this[_0x1dda("0xe5d")],a-1),e=this.ab2str(_[_0x1dda("0x828")])[_0x1dda("0x2a")]("}]")[0]+"}]";this[_0x1dda("0xe5b")]=JSON[_0x1dda("0x6d")](e);for(var t=0,i=this[_0x1dda("0xe5b")][_0x1dda("0x0")];t<i;t++){var r=this.audioGroupMapData[t],s=this.decodeUnicode(r[_0x1dda("0xfc")])[_0x1dda("0x13f")](_0x1dda("0xe6a"),"");s==_0x1dda("0xe7d")?this[_0x1dda("0xe63")][s]=[r[_0x1dda("0xe6b")][0]+250,r[_0x1dda("0xe6b")][1]-250]:this.sprite[s]=r[_0x1dda("0xe6b")]}var o=this;this[_0x1dda("0xe5a")]=new(n[_0x1dda("0xe6c")])({src:[x],sprite:this[_0x1dda("0xe63")],rate:this[_0x1dda("0x29f")]}),this[_0x1dda("0xe5a")][_0x1dda("0x337")](_0x1dda("0xe6d"),(function(d){console[_0x1dda("0x1eb")](_0x1dda("0xe6e")),o[_0x1dda("0xe6f")]()})),this[_0x1dda("0xe5a")][_0x1dda("0x337")](_0x1dda("0x64d"),(function(){o.isLoaded=!0}))}},{key:_0x1dda("0xe7e"),value:function(){var d=document[_0x1dda("0x20")](_0x1dda("0x1a4"));d[_0x1dda("0x120")][_0x1dda("0xfa")]=_0x1dda("0xe73"),d[_0x1dda("0x120")][_0x1dda("0x323")]="20px",d[_0x1dda("0x120")].left="0";var x=this,a=function(a){var _=document[_0x1dda("0x20")]("button");_[_0x1dda("0x120")][_0x1dda("0xe74")]=_0x1dda("0xe75"),_[_0x1dda("0x1ae")]=a,_.addEventListener(_0x1dda("0x99d"),(function(){x[_0x1dda("0xe5a")][_0x1dda("0x261")](a)}),!1),d[_0x1dda("0x24")](_)};for(var _ in this[_0x1dda("0xe63")])a(_);document[_0x1dda("0x4a9")][_0x1dda("0x24")](d)}},{key:_0x1dda("0xe76"),value:function(){this.stop(),this[_0x1dda("0xe5a")].off(_0x1dda("0x64d")),this.sound.unload()}},{key:"playSprites",value:function(d){var x=this;if(d&&d.length>0&&this.isLoaded){this[_0x1dda("0xe60")]=!0,this[_0x1dda("0xe64")]=d,this[_0x1dda("0xe61")]=0,this[_0x1dda("0xe62")]=d[_0x1dda("0x0")],this[_0x1dda("0xe5a")].on(_0x1dda("0x267"),this[_0x1dda("0xe78")]);var a=this[_0x1dda("0xe64")][this[_0x1dda("0xe61")]++];this[_0x1dda("0xe5a")].play(a);var _=0;return d[_0x1dda("0xd1")]((function(d){var a=x[_0x1dda("0xe63")][d];_+=a[1]})),_*this[_0x1dda("0xe5a")][_0x1dda("0xe79")]()}}},{key:_0x1dda("0xe71"),value:function(d){if(this[_0x1dda("0xe5f")]&&(!this.isPlaying||this[_0x1dda("0xe5e")])){for(var x=/^[0-9]*$/,a=[],e=0,t=d[_0x1dda("0x0")];e<t;e++)if(x[_0x1dda("0x29")](d[e])){var i=this.num2text(d[e]),n=!0,r=!1,s=void 0;try{for(var o,c=(0,_.default)(i);!(n=(o=c[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);n=!0){var l=o.value;a[_0x1dda("0x10")](String(l))}}catch(d){r=!0,s=d}finally{try{!n&&c[_0x1dda("0x24f")]&&c[_0x1dda("0x24f")]()}finally{if(r)throw s}}}else a[_0x1dda("0x10")](d[e]);return this[_0x1dda("0x18d")](),this.playSprites(a)}}},{key:_0x1dda("0x18d"),value:function(){this[_0x1dda("0xe5a")][_0x1dda("0x18d")](),this.sound.off(_0x1dda("0x267"),this[_0x1dda("0xe78")]),this[_0x1dda("0xe61")]=0,this.playLength=-1,this[_0x1dda("0xe64")]=[],this[_0x1dda("0xe60")]=!1}},{key:_0x1dda("0xe68"),value:function(d,x,a){for(var _=[],e=x;e<a;e++)_[_0x1dda("0x10")](d[e]);return new Uint8Array(_)}},{key:_0x1dda("0xe69"),value:function(d){return String[_0x1dda("0x10c")].apply(null,new Uint8Array(d))}},{key:_0x1dda("0xe7a"),value:function(d){var x=function d(x,a,_){var e=_||[],t=a||0;1===t&&e[_0x1dda("0x955")](1e3),x=parseInt(x);var i=parseInt(x/1e3),n=x%1e3,r=parseInt(n/100),s=parseInt((n-100*r)/10),o=n%10,c=n%100;return c>0&&(c<20?e[_0x1dda("0x955")](c):(o>0&&e.unshift(o[_0x1dda("0x2e")]()),e[_0x1dda("0x955")](10*s))),(i>0&&c>0||r>0&&c>0)&&e.unshift(_0x1dda("0xe7f")),r>0&&(e[_0x1dda("0x955")](100),e[_0x1dda("0x955")](r)),i>0&&0===t?d(i,++t,e):e}(d);return x}},{key:_0x1dda("0xe7b"),value:function(d){return unescape(d[_0x1dda("0x13f")](/\\u/gi,"%u"))}}]),d}();x.default=s},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x93c")]=void 0;var _=b(a(12)),e=b(a(13)),t=b(a(7)),i=b(a(8)),n=b(a(0)),r=b(a(1)),s=a(108),o=a(41),c=a(24),l=a(155),f=a(78),u=a(51),h=a(50),g=a(26);function b(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var v=function(){function d(x){(0,n[_0x1dda("0xd")])(this,d),this[_0x1dda("0x42")]=x,this[_0x1dda("0xc19")]=0,this[_0x1dda("0xe80")]=!1}var x,a;return(0,r[_0x1dda("0xd")])(d,[{key:_0x1dda("0x1df"),value:function(){var d=this,x=this.map,a=x[_0x1dda("0x17d")];x[_0x1dda("0x36")]==esmap.MapMode[_0x1dda("0x3a")]?(x.on(_0x1dda("0xdb"),(function(d){d[_0x1dda("0x285")],d[_0x1dda("0xd8")],d[_0x1dda("0xd9")];var a=x[_0x1dda("0x279")].initialViewLen;if(a){var _=0,e=x[_0x1dda("0x62e")];for(var t in e){var i=e[t];i.progressHandler&&(0===i.progressHandler.total?_+=1:_+=i[_0x1dda("0x397")][_0x1dda("0xd7")][_0x1dda("0xd8")])}var n=_/a;n>1&&(n=1),x[_0x1dda("0xda")](_0x1dda("0xae4"),{from:x.id,value:n})}}),null,_0x1dda("0xd7")),x.on(_0x1dda("0x166"),(function(d){var a=d[_0x1dda("0x12d")],_=d[_0x1dda("0x17a")],e=x[_0x1dda("0x12b")](a);if(x[_0x1dda("0x35")][_0x1dda("0xc24")]!=esmap.ShowBuildingMode.SINGLE&&0!=e[_0x1dda("0x35")][_0x1dda("0xbc4")])if(_[_0x1dda("0x3ef")]((function(d,x){return d-x}))[0]<=e[_0x1dda("0x35")].undergroundOffset){var t=Boolean(x[_0x1dda("0x35")][_0x1dda("0xe81")]),i=1==x[_0x1dda("0x35")][_0x1dda("0xc8f")]&&!t;e[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0xc9b")](i)}else e[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0xc9b")](!0)})),x.on(_0x1dda("0xa1a"),(function(){x.mapService[_0x1dda("0x7e")]("tilesHidden")&&x[_0x1dda("0x279")][_0x1dda("0xc9b")](!0)}))):x.on(_0x1dda("0xdb"),(function(d){x[_0x1dda("0xda")](_0x1dda("0xae4"),d)}),null,_0x1dda("0xd7")),x.on(_0x1dda("0x1ee"),(function(){x[_0x1dda("0x92c")].updateText()})),x.on(_0x1dda("0x152"),(function(){x[_0x1dda("0xe82")](),_()})),a&&(a.init_||(a.on(_0x1dda("0xab1"),(function(d){x[_0x1dda("0x9d0")](),x[_0x1dda("0xa1d")](),x[_0x1dda("0x9ef")]();for(var _=a[_0x1dda("0xaf1")],e=d.objects,t=!1,i=d[_0x1dda("0x71b")],n=0;n<d[_0x1dda("0x6f3")][_0x1dda("0x0")];n++)if("Sprite"==d[_0x1dda("0x6f3")][n][_0x1dda("0x1b")].type&&d[_0x1dda("0x6f3")][n][_0x1dda("0x1b")].userData.seeThrough){e=[d.objects[n]];break}for(var r={},s=!1,c=0;c<e[_0x1dda("0x0")];c++)if(_||!c){_&&(x[_0x1dda("0x9d0")](),x[_0x1dda("0x9ef")]());var l=e[c],f=l[_0x1dda("0x1b")],u=f,h=null;if(!f[_0x1dda("0xe5")])if(21==f.nodeType)f=f[_0x1dda("0xfe")];else{if(f[_0x1dda("0xfc")]&&f[_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0xe83"))>-1)continue;f=(0,o[_0x1dda("0xe4")])(f)}if(f&&!r[f[_0x1dda("0x2c4")]]){r[f[_0x1dda("0x2c4")]]=!0;var g=l[_0x1dda("0x769")];if(f[_0x1dda("0xe5")]){switch(f.datas_[_0x1dda("0x106")]){case esmap[_0x1dda("0x126")][_0x1dda("0x625")]:var b=f[_0x1dda("0xe5")][_0x1dda("0x424")],v=f[_0x1dda("0xe5")][_0x1dda("0x12d")],p=x[_0x1dda("0x35")],m=!1;if(b){var A=(0,o[_0x1dda("0xb1a")])(l[_0x1dda("0xb16")],b);if((h=b[A])[_0x1dda("0x180")]||(h[_0x1dda("0x180")]=f),u[_0x1dda("0xe7")][_0x1dda("0xf9")][_0x1dda("0x535")]){for(var C=u[_0x1dda("0xe7")].attributes[_0x1dda("0x535")][_0x1dda("0x400")],I=h[_0x1dda("0xff")][0],y=h[_0x1dda("0xff")][1],E=!1,w=I+1;w<y-1;w+=1)if(1==C[w]){E=!0,_=!0;break}E&&(m=!0,s=!0)}}else h=f[_0x1dda("0xe5")];if(m)continue;var T=!1;h[_0x1dda("0x41")]&&x[_0x1dda("0x35")][_0x1dda("0xe85")]&&2!=i&&(x[_0x1dda("0x279")][_0x1dda("0x979")](h),T=!0);var k=h[_0x1dda("0x1e2")],S=x[_0x1dda("0x12b")](v);if(S){var M=S[_0x1dda("0x22c")].bimLoader.bimInfoLib[k];M||(M=S[_0x1dda("0x22c")][_0x1dda("0xe86")][_0x1dda("0xe87")](k))&&(S[_0x1dda("0x22c")].bimLoader[_0x1dda("0xe88")][k]=M),M&&(h[_0x1dda("0x2c4")]=M.uuid,h[_0x1dda("0xe89")]=M.infoList)}T||(b?p[_0x1dda("0xe8a")]&&x[_0x1dda("0x9e2")](h):x[_0x1dda("0x9e2")](h));break;case esmap[_0x1dda("0x126")].MODEL3D:var R=x[_0x1dda("0x35")],L=a[_0x1dda("0xaf5")];if(!c&&R.model3DSelectedEffect&&(f[_0x1dda("0x153")][_0x1dda("0x9a7")]||!f[_0x1dda("0xe5")].diableClickEffect&&x[_0x1dda("0x9ee")](f)),f[_0x1dda("0xe5")].brothers){var D=function(){var d=x[_0x1dda("0x12b")](0),a=d[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x407")](l.faceIndex,u[_0x1dda("0xe7")].userData.groupData);if(u[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x416")]&&u[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x416")][_0x1dda("0x2")](a.id)&&!u[_0x1dda("0xe7")].userData[_0x1dda("0x416")][a.id])return"continue";var _=d.modelLoadManager[_0x1dda("0x636")][_0x1dda("0x414")](l[_0x1dda("0xb16")],u.geometry[_0x1dda("0x40c")]),t=a.id,n=f[_0x1dda("0xe5")][_0x1dda("0xb17")]||!1,r=f[_0x1dda("0xe5")].brothers[_0x1dda("0x2a5")]((function(d){return d.id==t})),s=!1;if(!r[0])return _0x1dda("0x63c");if(!r[0][_0x1dda("0x3ee")])return e.splice(c,1),c--,_0x1dda("0x63c");if(r[0][_0x1dda("0x41")]&&x[_0x1dda("0x35")][_0x1dda("0xe85")]&&(s=!0),n||!x.options[_0x1dda("0x351")]||s||d.modelLoadManager.GLTFMergeTool[_0x1dda("0x405")](l.faceIndex,u,_),h={mapId:r[0][_0x1dda("0x41")],nodeType:esmap.ESNodeType[_0x1dda("0x1b5")],angle:r[0].angle,dataID:r[0][_0x1dda("0x1e2")],bid:f[_0x1dda("0xe5")][_0x1dda("0x12d")],bType:f[_0x1dda("0xe5")][_0x1dda("0x3a8")],ID:t,name:r[0][_0x1dda("0xfc")],scale:r[0][_0x1dda("0x1d7")],Height:r[0][_0x1dda("0x2cf")],model:r[0].model,FloorNum:r[0][_0x1dda("0x123")],gid:r[0].gid,url:r[0][_0x1dda("0x4a")],o3d_:f,typeID:r[0][_0x1dda("0x4d5")],mapCoord:x[_0x1dda("0x1db")](r[0][_0x1dda("0xfa")])},r[0].classID&&(h[_0x1dda("0x640")]=r[0][_0x1dda("0x640")]),r[0][_0x1dda("0x1cd")]&&(h.showLevel=r[0][_0x1dda("0x1cd")]),r[0][_0x1dda("0x75")]&&(h=r[0],!r[0][_0x1dda("0x2c4")])){var o=x[_0x1dda("0x12b")](h[_0x1dda("0x12d")]),g=r[0][_0x1dda("0x1e2")],b=o[_0x1dda("0x22c")].bimLoader[_0x1dda("0xe88")][g];b||(b=o[_0x1dda("0x22c")][_0x1dda("0xe86")][_0x1dda("0xe87")](g)),b&&(o[_0x1dda("0x22c")].bimLoader[_0x1dda("0xe88")][g]=b,h[_0x1dda("0x2c4")]=b[_0x1dda("0x2c4")],h[_0x1dda("0xe89")]=b.infoList)}d[_0x1dda("0x22c")][_0x1dda("0x636")][_0x1dda("0x3c9")]=!0,s&&2!=i&&x[_0x1dda("0x279")][_0x1dda("0x979")](h)}();if(D===_0x1dda("0x63c"))continue}else f[_0x1dda("0xe5")][_0x1dda("0x41")]&&x.options[_0x1dda("0xe85")]&&x[_0x1dda("0x279")][_0x1dda("0x979")](f[_0x1dda("0xe5")]);if(L){var H="";H=f[_0x1dda("0xe5")].brothers?f[_0x1dda("0xe5")][_0x1dda("0x424")][0][_0x1dda("0x1ba")]:f.datas_.model;var P=x[_0x1dda("0x7d")][_0x1dda("0x24b")][H][_0x1dda("0xcc0")];if(!P[_0x1dda("0x153")][_0x1dda("0x255")]){var O=computeModelInfo(P);P[_0x1dda("0x153")][_0x1dda("0x255")]=O}console[_0x1dda("0x1ec")](_0x1dda("0xe8b"),_0x1dda("0xe8c"),P.userData.info)}break;case esmap.ESNodeType[_0x1dda("0xe8d")]:h=f.datas_||null,x[_0x1dda("0x35")][_0x1dda("0x36f")]&&x.storeSelectLine(f);break;case esmap[_0x1dda("0x126")][_0x1dda("0x127")]:x[_0x1dda("0x35")][_0x1dda("0x36f")]&&x[_0x1dda("0xa1e")](f);break;case esmap[_0x1dda("0x126")][_0x1dda("0x9e6")]:x[_0x1dda("0x35")][_0x1dda("0xe8a")]&&(f[_0x1dda("0xe5")][_0x1dda("0x9f6")]&&(f[_0x1dda("0xe5")][_0x1dda("0x9f6")][_0x1dda("0x2")](_0x1dda("0xe8e"))||(f[_0x1dda("0xe5")][_0x1dda("0x9f6")][_0x1dda("0xe8e")]=f[_0x1dda("0xe5")][_0x1dda("0x9f6")][_0x1dda("0x14e")]),f[_0x1dda("0xe5")][_0x1dda("0x9f6")].hasOwnProperty(_0x1dda("0xe8f"))||(f[_0x1dda("0xe5")][_0x1dda("0x9f6")][_0x1dda("0xe7")][_0x1dda("0xe8f")]=f.datas_[_0x1dda("0x9f6")][_0x1dda("0xe7")][_0x1dda("0x645")]),f.datas_[_0x1dda("0x9f6")].lineWidth=f.datas_[_0x1dda("0x9f6")][_0x1dda("0x120")].pickLineWidth,f[_0x1dda("0xe5")][_0x1dda("0x9f6")][_0x1dda("0x168")]&&f[_0x1dda("0xe5")][_0x1dda("0x9f6")].updateLineWidth(),f.datas_[_0x1dda("0x9f6")][_0x1dda("0x151")]=!0),x[_0x1dda("0x9ee")](f),f[_0x1dda("0xe9")][_0x1dda("0x153")]._originalAlpha=f.material[_0x1dda("0x11d")],f.material.opacity=f.datas_.options.pickAlpha);case esmap[_0x1dda("0x126")][_0x1dda("0xb2c")]:case esmap.ESNodeType[_0x1dda("0x647")]:case esmap[_0x1dda("0x126")].LABEL:}var B=h||f.datas_;B[_0x1dda("0xe90")]=g[_0x1dda("0x116")]();var F=x._coordThreeToMapScene(g),N=x[_0x1dda("0x198")]({from:x[_0x1dda("0x199")],to:x[_0x1dda("0x35")].userCrs,coord:F});B[_0x1dda("0xe91")]=N,t||(t=!0),_&&x.options.editMode&&(B[_0x1dda("0xc57")]=c);var z={button:d[_0x1dda("0x71b")],object:u};if(x[_0x1dda("0xda")](_0x1dda("0xc56"),B,z),s)break}else _0x1dda("0xe84")}}if(!t){var j=a[_0x1dda("0xaef")][_0x1dda("0x4d2")]([x[_0x1dda("0x4d1")]],!0);1==j[_0x1dda("0x0")]&&a.fire(_0x1dda("0xb3b"),{mouse:a[_0x1dda("0xaee")],hitCoord:j[0][_0x1dda("0x769")],worldCoord:j[0].point})}})),a.on(_0x1dda("0xb3b"),(function(d){x[_0x1dda("0x9d0")](),x[_0x1dda("0x9ef")](),x[_0x1dda("0xa1d")]();var a=d.hitCoord?x[_0x1dda("0x202")](d[_0x1dda("0xe91")]):null,_=x[_0x1dda("0x198")]({from:x[_0x1dda("0x199")],to:x[_0x1dda("0x35")][_0x1dda("0x19b")],coord:a});x[_0x1dda("0xda")](_0x1dda("0xc56"),{target:null,mouse:d[_0x1dda("0xe92")],hitCoord:_,nodeType:esmap[_0x1dda("0x126")][_0x1dda("0xb78")],worldCoord:d.hitCoord},{button:d.button})})),a.on(_0x1dda("0xe93"),(function(d){if(0!=d.intersects[_0x1dda("0x0")]){var a=d[_0x1dda("0xaf7")][0][_0x1dda("0x1b")];if(!a[_0x1dda("0xe5")]&&!(a=(0,o[_0x1dda("0xe4")])(a)))return null;if(!a)return null;var _=a[_0x1dda("0xe5")];if(_&&_[_0x1dda("0x106")]&&(_[_0x1dda("0x106")]==esmap.ESNodeType.IMAGE_MARKER||_[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0xb1b")]||_[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x647")]||_[_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0xe94")])){var e=d.intersects[0].point;_.worldCoord=e[_0x1dda("0x116")]();var t=x[_0x1dda("0x202")](e),i=x[_0x1dda("0x198")]({from:x[_0x1dda("0x199")],to:x[_0x1dda("0x35")][_0x1dda("0x19b")],coord:t});_[_0x1dda("0xe91")]=i;var n=0;if(x.mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")])n=x[_0x1dda("0x7d")][_0x1dda("0x7e")]("l0");else n=x[_0x1dda("0x7d")][_0x1dda("0x7e")]("ul")>>1&1||0;n>=1&&x[_0x1dda("0xda")]("mapKeepPress",_)}}}))));var _=function(){var a,_,e;if((0,f[_0x1dda("0x2d1")])().state.sl){var t=x[g[_0x1dda("0xc8")]];if(!t||!t[_0x1dda("0x4dc")]||!t[_0x1dda("0x4dc")][_0x1dda("0xfe")])return void x.fire(_0x1dda("0x1eb"));if(!d[_0x1dda("0xe80")]&&t&&t[_0x1dda("0x4dc")]&&(a=_0x1dda("0xbe"),_=x[_0x1dda("0x35")][u.Base64[_0x1dda("0x45")](a)],e=_0x1dda("0xe95"),x[g[_0x1dda("0xc8")]]&&typeof x.id===_0x1dda("0xe")&&x.id[_0x1dda("0xaf")](u[_0x1dda("0x8a")][_0x1dda("0x45")]("c3p5ag=="))>-1&&_===u[_0x1dda("0x8a")][_0x1dda("0x45")](e)&&(x[g[_0x1dda("0xc8")]][_0x1dda("0x4dc")][_0x1dda("0xe9")][_0x1dda("0x136")]=!0,x[g[_0x1dda("0xc8")]][_0x1dda("0x4dc")][_0x1dda("0xe9")][_0x1dda("0x11d")]=0),d[_0x1dda("0xe80")]=!0),!t[_0x1dda("0x4dc")].visible&&!esmap[_0x1dda("0x33")].IsMapLoading)return void(t[_0x1dda("0x4dc")].visible=!0);if(!t[_0x1dda("0x4dc")][_0x1dda("0xe9")][_0x1dda("0x169")])return void(t.sprite_[_0x1dda("0xe9")][_0x1dda("0x169")]=!0);0!==t[_0x1dda("0x4dc")].scale.x&&0!==t[_0x1dda("0x4dc")][_0x1dda("0x1d7")].y||(t[_0x1dda("0x4dc")][_0x1dda("0x1d7")].x=96,t.sprite_[_0x1dda("0x1d7")].y=25)}}}},{key:"openBuildingMap",value:(a=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,_,e,i,n,r,o,c,g,b,v,p;return t[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d[_0x1dda("0x24c")]){case 0:if(a=this[_0x1dda("0x42")],_=a[_0x1dda("0x35")],e=void 0,i=!1,n=(0,f.useGlobalStore)(),r=!1,!a.id){d.next=15;break}if(_.useBuildingCache){d.next=12;break}return d.next=10,a[_0x1dda("0xa16")](a.id);case 10:d.next=15;break;case 12:a[_0x1dda("0x12b")](a.id)[_0x1dda("0x180")][_0x1dda("0x169")]=!1,a[_0x1dda("0x17d")][_0x1dda("0xafe")](a.id);case 15:if(_[_0x1dda("0x378")]&&(e=a[_0x1dda("0x12b")](x)),a.id=x,e){d[_0x1dda("0x24c")]=25;break}return(o=(0,s[_0x1dda("0x344")])(_)).id=x,d[_0x1dda("0x24c")]=22,a[_0x1dda("0x7d")][_0x1dda("0xbbf")](o);case 22:e=d[_0x1dda("0x2ff")],d[_0x1dda("0x24c")]=27;break;case 25:e[_0x1dda("0x180")][_0x1dda("0x169")]=!0,i=!0;case 27:if(e){d[_0x1dda("0x24c")]=29;break}return d.abrupt(_0x1dda("0x24f"));case 29:if(c=a[_0x1dda("0xa04")][_0x1dda("0xc2d")](_0x1dda("0xd81"))){d[_0x1dda("0x24c")]=32;break}return d.abrupt("return");case 32:if(c[_0x1dda("0x54c")]()){d[_0x1dda("0x24c")]=34;break}return d[_0x1dda("0x24e")]("return");case 34:if(a[_0x1dda("0x7d")][_0x1dda("0x7e")]("sk")||c[_0x1dda("0x54e")](_0x1dda("0xbf"))==_0x1dda("0xa35")||a.mapService[_0x1dda("0x7e")](_0x1dda("0xdb2"))||(r=!0),!a[_0x1dda("0x7d")].getState("hf")){d[_0x1dda("0x24c")]=37;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 37:if(g=e.sourceData,!r){d[_0x1dda("0x24c")]=43;break}if(a[_0x1dda("0x7d")].getState(_0x1dda("0xdad"))){d[_0x1dda("0x24c")]=41;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 41:if(a.mapService[_0x1dda("0x7e")](_0x1dda("0xdae"))){d.next=43;break}return d.abrupt("return");case 43:a.fire("buildingRouteDataLoaded",{bid:x,data:g[_0x1dda("0xc98")]}),a[_0x1dda("0xa04")][_0x1dda("0xa05")][x]||(a[_0x1dda("0xa04")][_0x1dda("0xa05")][x]=g[_0x1dda("0xc98")]),a.scaleLevels_=e[_0x1dda("0x930")],a[_0x1dda("0x935")]=e,b=_0x1dda("0xbe"),v=c[_0x1dda("0x54e")](b),p=a[_0x1dda("0x35")][u[_0x1dda("0x8a")][_0x1dda("0x45")](b)],(0,h[_0x1dda("0x10b")])()?n[_0x1dda("0x6cb")].sl=!1:v&&p&&(0,l[_0x1dda("0x5ad")])(_0x1dda("0xa32")+(x+p))===c[_0x1dda("0x54e")](b)&&(n.state.sl=!1),a[_0x1dda("0xb3")][_0x1dda("0xe96")](e),a[_0x1dda("0x19f")][_0x1dda("0xae5")](e),a[_0x1dda("0x19f")][_0x1dda("0x215")](),esmap[_0x1dda("0x33")].IsMapLoading=!1,a.scaler_.updateText(),a.fire(_0x1dda("0xe97"),e),i&&(a[_0x1dda("0xda")](_0x1dda("0xe98"),{}),a[_0x1dda("0xda")]("buildingLoadComplete",e),a[_0x1dda("0xda")](_0x1dda("0xbd7"),{bid:e.id}),a[_0x1dda("0xda")](_0x1dda("0xbde"),{bid:e.id}),a.mapPicker.enablePicks(e.id));case 58:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return a[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xe99"),value:(x=(0,i.default)(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,i,n,r,s,o,b,v,p,m,A,C,I,y,E=this;return t[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d.next){case 0:return a=this.map,i=a[_0x1dda("0x35")],a.id=x,a[_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0x32")](),n=(0,f[_0x1dda("0x2d1")])(),d[_0x1dda("0x24c")]=7,a[_0x1dda("0x7d")].tileService.oa();case 7:if(d[_0x1dda("0x2ff")]){d[_0x1dda("0x24c")]=10;break}return d[_0x1dda("0x24e")]("return");case 10:return i.center&&(r=a[_0x1dda("0x29e")](i[_0x1dda("0x122")]),a[_0x1dda("0x226")][_0x1dda("0x227")].x=r.x,a[_0x1dda("0x226")][_0x1dda("0x227")].z=r.z),s=i[_0x1dda("0x35c")]||0,a[_0x1dda("0x1fe")]=s,o=null==i[_0x1dda("0xa56")]?60:i.defaultTiltAngle,a.tiltAngle=o,d.prev=15,d[_0x1dda("0x24c")]=18,a[_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0xc61")]("json");case 18:if(!d[_0x1dda("0x2ff")]){d[_0x1dda("0x24c")]=22;break}return d.next=22,new e.default((function(d){a.on("tileTexturesReady",d)}));case 22:d[_0x1dda("0x24c")]=29;break;case 24:return d[_0x1dda("0x24a")]=24,d.t0=d.catch(15),c.MessagePoster[_0x1dda("0xb2")]({msg:""+d.t0,level:"error"}),a[_0x1dda("0xda")]("themeLoadError",d.t0),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 29:if(window[_0x1dda("0xdd")].tileMapInited||(null!=i[_0x1dda("0xae6")]&&(a[_0x1dda("0x226")][_0x1dda("0x277")]=a.mapView[_0x1dda("0xad9")](i[_0x1dda("0xae6")])),null!=i[_0x1dda("0xae7")]?a[_0x1dda("0x226")][_0x1dda("0x276")]=a[_0x1dda("0x19f")].getDistanceByZoomLevel(i[_0x1dda("0xae7")]):a[_0x1dda("0x226")][_0x1dda("0x276")]=a.mapView[_0x1dda("0xad9")](14),a[_0x1dda("0x19f")][_0x1dda("0x215")]()),a.on("modelLoadComplete",(function(){if(0==a[_0x1dda("0x279")][_0x1dda("0xa42")][_0x1dda("0x0")]&&0==a[_0x1dda("0x279")][_0x1dda("0xa37")][_0x1dda("0x0")]){var d=a[_0x1dda("0x62e")];for(var x in d){var _=d[x],e=_[_0x1dda("0x22c")][_0x1dda("0x966")][_0x1dda("0x0")],t=_.modelLoadManager[_0x1dda("0xca5")][_0x1dda("0x0")],i=0;for(var n in _.modelLoadManager[_0x1dda("0xcaa")]){var r=_.modelLoadManager[_0x1dda("0xcaa")][n];for(var s in r)i+=r[s][_0x1dda("0x0")]}if(e>0||t>0||i>0)break}}})),b=a.tileService[_0x1dda("0xc2d")](_0x1dda("0xc2e"))){d[_0x1dda("0x24c")]=34;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 34:if(b[_0x1dda("0x54c")]()){d[_0x1dda("0x24c")]=36;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 36:return v=_0x1dda("0xbe"),p=b[_0x1dda("0x54e")](v),m=a[_0x1dda("0x35")][u[_0x1dda("0x8a")].decode(v)],((0,h._isemvlg)()||p&&m&&(0,l.decrypt)(_0x1dda("0xa32")+(x+m))===p)&&(n[_0x1dda("0x6cb")].sl=!1),d[_0x1dda("0x24a")]=40,d[_0x1dda("0x24c")]=43,a[_0x1dda("0x279")][_0x1dda("0xc84")]();case 43:d.next=47;break;case 45:d[_0x1dda("0x24a")]=45,d.t1=d[_0x1dda("0x817")](40);case 47:if(d.prev=47,a[_0x1dda("0x7d")].getState(_0x1dda("0xc42"))){d[_0x1dda("0x24c")]=50;break}return d.abrupt(_0x1dda("0x24f"));case 50:if(A=a.mapService[_0x1dda("0x7e")](_0x1dda("0xc42")),C=!1,!(0,h[_0x1dda("0x10a")])()){d[_0x1dda("0x24c")]=56;break}C=!0,d[_0x1dda("0x24c")]=71;break;case 56:if("lc"==A||"em"==A){d[_0x1dda("0x24c")]=70;break}if(I=document[g[_0x1dda("0x92")]],(typeof A===_0x1dda("0x8")?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(A))!==_0x1dda("0x1b")){d[_0x1dda("0x24c")]=68;break}d.t2=t[_0x1dda("0xd")][_0x1dda("0xa18")](A);case 60:if((d.t3=d.t2())[_0x1dda("0x3d5")]){d.next=68;break}if(y=d.t3.value,!(I[_0x1dda("0xaf")](y)>-1)){d[_0x1dda("0x24c")]=66;break}return(new Date)[_0x1dda("0x85")]()-A[y]<=0&&(C=!0),d.abrupt(_0x1dda("0xa41"),68);case 66:d[_0x1dda("0x24c")]=60;break;case 68:d[_0x1dda("0x24c")]=71;break;case 70:C=!0;case 71:if(C){d.next=73;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 73:return a.tileService.preLoadBuildingId?(a.mapService[_0x1dda("0x9e8")]=!0,a.mapScene[_0x1dda("0x3c7")][_0x1dda("0x169")]=!1,a[_0x1dda("0x279")][_0x1dda("0x979")]({mapId:a[_0x1dda("0x279")].preLoadBuildingId},null,!0,!1)[_0x1dda("0x2ef")]((function(d){a[_0x1dda("0xa4e")](d)||(null!=i[_0x1dda("0x367")]?a[_0x1dda("0x226")].setScaleLevelValue(a[_0x1dda("0x930")][i[_0x1dda("0x367")]]):a[_0x1dda("0x226")].setScaleLevelValue(a[_0x1dda("0x930")][d.sourceData[_0x1dda("0xdc1")]]))})),a[_0x1dda("0x337")](_0x1dda("0xa1a"),(function(d){d[_0x1dda("0x12d")]===a[_0x1dda("0x279")][_0x1dda("0x95a")]&&(a.mapService[_0x1dda("0x9e8")]=!1,esmap[_0x1dda("0x9cd")]&&esmap.ESTileMap[_0x1dda("0xc9c")][_0x1dda("0xc9d")](!0),a.mapScene[_0x1dda("0x3c7")][_0x1dda("0x169")]=!0,a[_0x1dda("0x279")].preLoadBuildingId=null,a[_0x1dda("0xa2a")](),a.updateTile=!0,a[_0x1dda("0x226")][_0x1dda("0xe9a")]())}))):(a[_0x1dda("0xa2a")](),a[_0x1dda("0x920")]=!0,a.fire("loadComplete")),a.on(_0x1dda("0xc90"),(function(){E[_0x1dda("0xc19")]+=1})),a.on(_0x1dda("0x97d"),(function(){E[_0x1dda("0xc19")]-=1})),a.on(_0x1dda("0x1ee"),(function(d){var x=a.options;d<=x[_0x1dda("0xa30")]?a[_0x1dda("0xa1c")]():d<=x[_0x1dda("0xa30")]&&a.tapTip&&0!=a.tapTip[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]&&(a[_0x1dda("0x9fb")][_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x11d")]=0)})),d[_0x1dda("0xe9b")](47);case 78:case"end":return d[_0x1dda("0x18d")]()}}),d,this,[[15,24],[40,45,47,78]])}))),function(d){return x[_0x1dda("0x5")](this,arguments)})}]),d}();x[_0x1dda("0x93c")]=v},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=function(){function d(){(0,_[_0x1dda("0xd")])(this,d)}return(0,e[_0x1dda("0xd")])(d,null,[{key:_0x1dda("0x1b6"),value:function(d){var x={};return d.on=function(a,_){return(x[a]=x[a]||[])[_0x1dda("0x10")](_),d},d[_0x1dda("0x337")]=function(x,a){function _(){a.apply(d.off(x,_),arguments)}return _.h=a,d.on(x,_)},d[_0x1dda("0x68")]=function(a,_){for(var e=x[a],t=0;_&&e&&e[t];t++)e[t]!=_&&e[t].h!=_||e[_0x1dda("0x6")](t--,1);return t||delete x[a],d},d[_0x1dda("0x1f2")]=function(a){for(var _=x[a],e=0;_&&_[e];)_[e++][_0x1dda("0x5")](d,_[_0x1dda("0x11")][_0x1dda("0x3")](arguments,1));return d},d}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d.__esModule?d:{default:d}}var i=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x42")]=x;var a=esmap[_0x1dda("0x86")][_0x1dda("0x301")]();this[_0x1dda("0xb50")]=!1,this[_0x1dda("0xac9")]=new(THREE[_0x1dda("0x6b6")])(x.mapView.renderer),this[_0x1dda("0xe9c")]=new(THREE[_0x1dda("0x6b6")])(x[_0x1dda("0x19f")][_0x1dda("0x32c")]),this[_0x1dda("0x1d7")]=(a[_0x1dda("0x37d")],2),this[_0x1dda("0xe9d")]={width:x.mapView.w_,height:x[_0x1dda("0x19f")].h_};var e=new(THREE[_0x1dda("0x6d7")])(x[_0x1dda("0x19f")][_0x1dda("0xf7")],x[_0x1dda("0x19f")].camera);this[_0x1dda("0xac9")][_0x1dda("0xe9e")](e);var t=new(THREE[_0x1dda("0x6b5")])(THREE[_0x1dda("0x6b3")]);t[_0x1dda("0x6b1")]=!0,this[_0x1dda("0xac9")].addPass(t);var i=new(THREE[_0x1dda("0x6d7")])(x[_0x1dda("0x19f")][_0x1dda("0xf7")],x.mapView[_0x1dda("0xa8a")]),n=new(THREE[_0x1dda("0x6b5")])(THREE[_0x1dda("0x6b3")]);n[_0x1dda("0x6b1")]=!0,this.composerOrtho[_0x1dda("0xe9e")](i),this[_0x1dda("0xe9c")][_0x1dda("0xe9e")](n),this.setScale(this[_0x1dda("0x1d7")])}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x6ca"),value:function(){this[_0x1dda("0x6b9")]||this[_0x1dda("0x42")].mapView[_0x1dda("0x32c")][_0x1dda("0x6ca")](this[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0xf7")],this[_0x1dda("0x42")][_0x1dda("0x19f")].camera)}},{key:"renderOrtho",value:function(){this[_0x1dda("0x6b9")]?this[_0x1dda("0xe9c")][_0x1dda("0x6ca")](this.map[_0x1dda("0xe9f")][_0x1dda("0x263")]()):this[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x6ca")](this.map[_0x1dda("0x19f")][_0x1dda("0xf7")],this.map[_0x1dda("0x19f")][_0x1dda("0xa8a")])}},{key:_0x1dda("0x217"),value:function(d){this[_0x1dda("0x1d7")]=d,this[_0x1dda("0xd2")]={width:this.originSize[_0x1dda("0x1a5")]*this.scale,height:this[_0x1dda("0xe9d")].height*this[_0x1dda("0x1d7")]}}},{key:"reSize",value:function(d,x){this[_0x1dda("0xe9d")].width=d,this[_0x1dda("0xe9d")].height=x,this[_0x1dda("0x217")](this.scale)}},{key:_0x1dda("0xd2"),get:function(){return{width:this.composer.renderTarget1[_0x1dda("0x1a5")],height:this.composer[_0x1dda("0x6af")][_0x1dda("0x18b")]}},set:function(d){this.composer[_0x1dda("0x2d4")](d.width,d[_0x1dda("0x18b")]),this.composerOrtho.setSize(d[_0x1dda("0x1a5")],d[_0x1dda("0x18b")])}},{key:_0x1dda("0x6b9"),get:function(){return this[_0x1dda("0xb50")]},set:function(d){this._enabled=d}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=u(a(15)),e=u(a(157)),t=u(a(40)),i=u(a(158)),n=u(a(2)),r=u(a(0)),s=u(a(1)),o=a(4),c=u(a(112)),l=a(49),f=u(a(23));function u(d){return d&&d.__esModule?d:{default:d}}var h=function(){function d(x){(0,r[_0x1dda("0xd")])(this,d),this[_0x1dda("0xea0")]={},this[_0x1dda("0x96b")]={},this[_0x1dda("0xea1")]=null,this.usedRoomStyles=[],this.defaultTheme_={color_:16777215,alpha:.1,strokeColor_:16777215,strokeWidth:2},this[_0x1dda("0x3bd")]={},this[_0x1dda("0xcf6")]={},this[_0x1dda("0x3a3")]={},this[_0x1dda("0x9e0")]=16777215,this[_0x1dda("0xea2")]=.875,this[_0x1dda("0xea3")]=16776960,this[_0x1dda("0xea4")]=.875,this[_0x1dda("0xea5")]=0,this[_0x1dda("0xce0")]=0,this[_0x1dda("0xea6")]=16750950,this[_0x1dda("0xa21")]=16119296,this.polygonSelectColor_=16762412,this[_0x1dda("0xea7")]={fontSize:24,fillStyle:_0x1dda("0x119"),strokeWidth:1,strokeStyle:_0x1dda("0x119"),shadowBlur:4,shadowColor:_0x1dda("0xea8"),shadowOffsetX:0,shadowOffsetY:0,padding:2},this[_0x1dda("0xea9")]={fontSize:24,fillStyle:_0x1dda("0x119"),strokeWidth:1,strokeStyle:_0x1dda("0x119"),shadowBlur:4,shadowColor:_0x1dda("0xea8"),shadowOffsetX:0,shadowOffsetY:0,padding:2},this[_0x1dda("0xeaa")]={fillcolor:_0x1dda("0xc6d"),fontface:"",fontsize:_0x1dda("0xeab"),strokecolor:_0x1dda("0xcf8"),strokewidth:"2",typeid:"0"},this[_0x1dda("0xeac")]={0:{fillcolor:_0x1dda("0xc6d"),fontface:"",fontsize:_0x1dda("0xeab"),strokecolor:_0x1dda("0xcf8"),strokewidth:"2",image:"",imageAlign:"center",typeid:"0"},1:{fillcolor:"0,0,0",fontface:"",fontsize:_0x1dda("0xeab"),strokecolor:_0x1dda("0xcf8"),strokewidth:"2",typeid:"1"}},this[_0x1dda("0xead")]={},this[_0x1dda("0xeae")]={},this[_0x1dda("0xeaf")]=16750950,this[_0x1dda("0xd26")]=!1,this.lineTexture=null,this[_0x1dda("0xeb0")]=null,this[_0x1dda("0x134")]={normal:new THREE.MeshBasicMaterial({color:16777215}),main:new(THREE[_0x1dda("0x2b5")])({color:16766720})},this[_0x1dda("0x978")]=[new(THREE[_0x1dda("0x2b5")])({color:16777215,name:_0x1dda("0xd")})],this[_0x1dda("0xcee")]={},this[_0x1dda("0x987")]={color:16711680,lineWidth:8,alpha:.8,dash:{size:1,gap:1}},this[_0x1dda("0xeb1")]=null,this[_0x1dda("0x4db")]=x,this[_0x1dda("0x810")]=new(THREE[_0x1dda("0x23d")]),this[_0x1dda("0x3ea")]||(this[_0x1dda("0x3ea")]=new(THREE[_0x1dda("0x429")])({color:this[_0x1dda("0xea6")],transparent:!0,name:"selectMat"})),this[_0x1dda("0x3ea")][_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(this[_0x1dda("0xea6")]),x[_0x1dda("0x3e6")]&&x.selectedColor[_0x1dda("0x1ba")]&&(this[_0x1dda("0x3ea")][_0x1dda("0x138")]=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](x[_0x1dda("0x3e6")][_0x1dda("0x1ba")][_0x1dda("0x138")]),this[_0x1dda("0xea6")]=esmap[_0x1dda("0x86")][_0x1dda("0x410")](x[_0x1dda("0x3e6")][_0x1dda("0x1ba")][_0x1dda("0x138")])),this[_0x1dda("0xeb2")]=this.createMaterial_(this[_0x1dda("0xeb3")]),this[_0x1dda("0xcee")].water=[this.createMaterial_({color_:"#00BFFF",alpha:.8,strokeColor_:16777215,strokeWidth:2})],this[_0x1dda("0xcee")][_0x1dda("0xcef")][0].side=THREE[_0x1dda("0x14a")],this[_0x1dda("0xeb4")]=[{typeid:1,type:_0x1dda("0xacd"),color:_0x1dda("0xeb5"),intensity:1},{typeid:2,type:_0x1dda("0x768"),color:"#888888",intensity:1.4,pitchAngle:70,directionAngle:180},{typeid:3,type:_0x1dda("0x768"),color:"#000000",intensity:0,pitchAngle:45,directionAngle:90}]}return(0,s.default)(d,[{key:_0x1dda("0xeb6"),value:function(d){var x=esmap.ESMap[_0x1dda("0x34")],a=x.mapView[_0x1dda("0x766")][d];a?(x[_0x1dda("0x19f")][_0x1dda("0xf7")][_0x1dda("0x181")](a),delete x[_0x1dda("0x19f")].lights[d]):console[_0x1dda("0x1eb")]("light "+d+" not exist")}},{key:_0x1dda("0xeb7"),value:function(d){var x=esmap.ESMap[_0x1dda("0x34")],a=void 0;if(d[_0x1dda("0x9f")])switch(d[_0x1dda("0x9f")]){case"AmbientLight":a=new(THREE[_0x1dda("0xacd")]);break;case"DirectionalLight":a=new(THREE[_0x1dda("0x768")])(8947848,1)}a[_0x1dda("0xfc")]=d[_0x1dda("0xd20")],x.mapView.lights[d[_0x1dda("0xd20")]]=a,this[_0x1dda("0xeb8")](a,d),x[_0x1dda("0x19f")].scene[_0x1dda("0xce")](a)}},{key:_0x1dda("0xeb9"),value:function(d){_0x1dda("0xace"),_0x1dda("0xacf");for(var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x19f")][_0x1dda("0x766")],a=0;a<d[_0x1dda("0x0")];a++){var _=d[a];x[_[_0x1dda("0xd20")]]?this.setLightProperties(x[_[_0x1dda("0xd20")]],_):this[_0x1dda("0xeb7")](_)}}},{key:"updateThemeStyle",value:function(d,x,a){this.initPoiMateriaByData(this.existflooridmap,32,a,d,x)}},{key:_0x1dda("0xeba"),value:function(d){for(var x=esmap.ESMap[_0x1dda("0x34")],a=this.maptheme[_0x1dda("0x1b8")],_=0;_<d[_0x1dda("0x0")];_++){var e=d[_];if((0,l[_0x1dda("0x102")])(e,a[_])){e[_0x1dda("0x11d")];var t=1*e.filltype||1,i=1*e[_0x1dda("0xc76")]||1;if(1==t)(0,n[_0x1dda("0xd")])(this[_0x1dda("0xcf6")][e[_0x1dda("0xd20")]],{scaleheight:i,color:e.color});else{if(!e.topimage&&!e[_0x1dda("0xebb")]){console[_0x1dda("0x1eb")](_0x1dda("0xebc")+e[_0x1dda("0xd20")]+_0x1dda("0xebd")),e[_0x1dda("0xc73")]=1,_--;continue}var r=esmap[_0x1dda("0x86")].colorRGB2Hex(e[_0x1dda("0x138")]),s=document.createElement(_0x1dda("0x2fa"));s.width=16,s[_0x1dda("0x18b")]=16;var o=s[_0x1dda("0x2fb")]("2d");o[_0x1dda("0x304")]=r,o[_0x1dda("0x913")](0,0,16,16),new THREE.Texture(s)[_0x1dda("0x172")]=!0;var c=void 0,f=null,u=x[_0x1dda("0x35")][_0x1dda("0x46")]+_0x1dda("0xa0")+this[_0x1dda("0x4db")].themeID+_0x1dda("0xebe"),h=1*e.topimagerepeat,g=1*e.sideimagerepeat;if(e[_0x1dda("0xebf")]){if(e.topimage[_0x1dda("0xaf")]("/")>-1&&(u=x[_0x1dda("0x35")][_0x1dda("0x44")]+x.id+_0x1dda("0xa0")+this[_0x1dda("0x4db")][_0x1dda("0x6e")]+"/upload/building/"),c=this[_0x1dda("0x810")].load(u+e[_0x1dda("0xebf")]),e[_0x1dda("0xec0")]||(e.topimagetype=1),1*e.topimagetype==1){var b=(1*e[_0x1dda("0xec1")]||50)/500;c.wrapS=c[_0x1dda("0x841")]=THREE[_0x1dda("0x176")],c[_0x1dda("0x147")].x=b,c[_0x1dda("0x147")].y=b}c[_0x1dda("0x172")]=!0}if(e.sideimage){if(e.sideimage[_0x1dda("0xaf")]("/")>-1&&(u=x[_0x1dda("0x35")][_0x1dda("0x44")]+x.id+_0x1dda("0xa0")+this[_0x1dda("0x4db")].themeID+_0x1dda("0xec2")),f=this.textureLoader[_0x1dda("0x64d")](u+e[_0x1dda("0xebb")]),e.sideimagetype||(e[_0x1dda("0xec3")]=1),1*e.sideimagetype==1){var v=(1*e[_0x1dda("0xec4")]||50)/500;f[_0x1dda("0x840")]=f[_0x1dda("0x841")]=THREE[_0x1dda("0x176")],f[_0x1dda("0x147")].x=v,f.repeat.y=v}f[_0x1dda("0x172")]=!0}var p=this.tileStyles[e[_0x1dda("0xd20")]][_0x1dda("0xe9")][_0x1dda("0x153")].roomTex;c&&(p[_0x1dda("0x437")][_0x1dda("0x171")][_0x1dda("0x42d")][_0x1dda("0xd8")]=c,p[_0x1dda("0x437")][_0x1dda("0x171")][_0x1dda("0x42e")][_0x1dda("0xd8")]=c[_0x1dda("0x1f6")]),f&&(p[_0x1dda("0x437")][_0x1dda("0x171")][_0x1dda("0x430")][_0x1dda("0xd8")]=f,p[_0x1dda("0x437")][_0x1dda("0x171")].sideTexMat[_0x1dda("0xd8")]=f.matrix),(0,n.default)(this[_0x1dda("0xcf6")][e[_0x1dda("0xd20")]],{scaleheight:i,topTextureType:1*e[_0x1dda("0xec0")]||1,sideTextureType:1*e[_0x1dda("0xec3")]||1,filltype:t,topImage:e.topimage,sideImage:e[_0x1dda("0xebb")],sideimagerepeat:g,topimagerepeat:h})}}}}},{key:"initPoiStylesByData",value:function(d){for(var x in d){var a=d[x],_=a[_0x1dda("0xd20")],n={},r=(0,o[_0x1dda("0xec5")])(a,{fillStyle:[_0x1dda("0x315"),"fillStyle"],strokeStyle:[_0x1dda("0x316"),_0x1dda("0x305")],strokeWidth:[_0x1dda("0xd25"),_0x1dda("0x30a")],fontSize:[_0x1dda("0xec6"),"fontSize"],image:[_0x1dda("0x2df")],imageAlign:["imageAlign"],imageScale:["imageScale"],shadowBlur:[_0x1dda("0x306")],shadowOffsetX:[_0x1dda("0x308")],shadowOffsetY:[_0x1dda("0x309")],shadowColor:[_0x1dda("0x307")],imageShadowBlur:[_0x1dda("0xec7")]}),s=(0,i[_0x1dda("0xd")])(r),c=!0,l=!1,f=void 0;try{for(var u,h=(0,t[_0x1dda("0xd")])(s);!(c=(u=h[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);c=!0){var g=(0,e.default)(u[_0x1dda("0xd8")],2),b=g[0],v=g[1];b!=_0x1dda("0x304")&&"strokeStyle"!=b&&b!=_0x1dda("0x307")||(r[b]=(0,o.convertColor)(v))}}catch(d){l=!0,f=d}finally{try{!c&&h.return&&h[_0x1dda("0x24f")]()}finally{if(l)throw f}}(0,o[_0x1dda("0xec8")])(n,r),this[_0x1dda("0x3a3")][_]=n,this[_0x1dda("0x3a3")][_].typeid=_}}},{key:"checkTileTextures",value:function(){return!0}},{key:"initTileStylesByData",value:function(d){for(var x=this,a=esmap[_0x1dda("0x33")][_0x1dda("0x34")],_=0,e=void 0,t=void 0,i=a[_0x1dda("0x35")].editMode,n=!1,r={},s=0;s<d[_0x1dda("0x0")];s++){var o=d[s],l=1*o.opacity||0,f=!0,u=1*o.filltype||1,h=1*o[_0x1dda("0xc76")]||1,g=1*o[_0x1dda("0x18b")]||0,b=1*o.basic||0,v=1*o[_0x1dda("0xcf9")]||0,p=o[_0x1dda("0xcf7")]||_0x1dda("0xec9");if(b){var m=new(THREE[_0x1dda("0x2b5")])({color:esmap[_0x1dda("0x86")].toColor(o[_0x1dda("0x138")]),transparent:f,opacity:l,side:0});this.tileStyles[o[_0x1dda("0xd20")]]={basic:b,material:m,borderwidth:v,bordercolor:p,prodMatIdx:1e3+1*o.typeid,scaleheight:h,color:o[_0x1dda("0x138")],hasTexture:!1,filltype:1,height:g},this[_0x1dda("0xcf6")][1e3+1*o[_0x1dda("0xd20")]]=this[_0x1dda("0xcf6")][o.typeid]}else if(1==u){var A=new(THREE[_0x1dda("0x429")])({color:esmap[_0x1dda("0x86")][_0x1dda("0x410")](o.color),transparent:f,opacity:l,side:0});this.tileStyles[o[_0x1dda("0xd20")]]={borderwidth:v,bordercolor:p,material:A,prodMatIdx:0,scaleheight:h,color:o[_0x1dda("0x138")],hasTexture:!1,filltype:1,height:g}}else{if(!o.topimage&&!o[_0x1dda("0xebb")]){_0x1dda("0xebc"),o[_0x1dda("0xd20")],_0x1dda("0xebd"),o[_0x1dda("0xc73")]=1,s--;continue}var C=esmap.ESMapUtil[_0x1dda("0x602")](o[_0x1dda("0x138")]),I=new c.default({colorStr:C}),y=document[_0x1dda("0x20")](_0x1dda("0x2fa"));y[_0x1dda("0x1a5")]=16,y[_0x1dda("0x18b")]=16;var E=y[_0x1dda("0x2fb")]("2d");E[_0x1dda("0x304")]=C,E.fillRect(0,0,16,16);var w=new(THREE[_0x1dda("0x329")])(y);w.needsUpdate=!0;var T=void 0,k=null,S=1*o[_0x1dda("0xec1")],M=1*o[_0x1dda("0xec4")];if(o[_0x1dda("0xebf")]){var R=a[_0x1dda("0x35")][_0x1dda("0x46")]+_0x1dda("0xa0")+this[_0x1dda("0x4db")][_0x1dda("0x6e")]+"/building/";o[_0x1dda("0xebf")][_0x1dda("0xaf")]("/")>-1&&(R=a.options[_0x1dda("0x44")]+a.id+"/worldtheme/"+this[_0x1dda("0x4db")].themeID+_0x1dda("0xec2")),this[_0x1dda("0xeae")][o.topimage]={uuid:null,texture:null,loaded:!1,failed:!1},n||(n=!0);var L=R+o[_0x1dda("0xebf")];if(r[L]=!1,T=this[_0x1dda("0x810")].load(L,(function(d){var _=d[_0x1dda("0x2c4")],e=!0;for(var t in d[_0x1dda("0x172")]=!0,r[d.image[_0x1dda("0x4e5")]]=!0,x.tileTextures)x.tileTextures[t][_0x1dda("0x2c4")]===_&&(x.tileTextures[t].loaded=!0),x[_0x1dda("0xeae")][t].loaded||(e=!1);e&&a[_0x1dda("0xda")](_0x1dda("0xeca"))}),null,(function(d){for(var x in r[d.target.src]=!0,r)if(!r[x])return;a[_0x1dda("0xda")](_0x1dda("0xeca"))})),this[_0x1dda("0xeae")][o[_0x1dda("0xebf")]].uuid=T.uuid,this.tileTextures[o[_0x1dda("0xebf")]].texture=T,o[_0x1dda("0xec0")]||(o[_0x1dda("0xec0")]=1),1*o[_0x1dda("0xec0")]==1){var D=(1*o[_0x1dda("0xec1")]||50)/500;T[_0x1dda("0x840")]=T[_0x1dda("0x841")]=THREE[_0x1dda("0x176")],T.repeat.x=D,T[_0x1dda("0x147")].y=D}this.tileTextures[T]}if(o.sideimage){var H=a[_0x1dda("0x35")][_0x1dda("0x46")]+_0x1dda("0xa0")+this[_0x1dda("0x4db")][_0x1dda("0x6e")]+_0x1dda("0xebe");o[_0x1dda("0xebb")].indexOf("/")>-1&&(H=a[_0x1dda("0x35")][_0x1dda("0x44")]+a.id+"/worldtheme/"+this[_0x1dda("0x4db")][_0x1dda("0x6e")]+_0x1dda("0xec2")),this[_0x1dda("0xeae")][o[_0x1dda("0xebb")]]={uuid:null,texture:null,loaded:!1},n||(n=!0);var P=H+o[_0x1dda("0xebb")];if(r[P]=!1,k=this[_0x1dda("0x810")].load(H+o[_0x1dda("0xebb")],(function(d){r[d[_0x1dda("0x2df")].src]=!0;var _=d[_0x1dda("0x2c4")],e=!0;for(var t in d[_0x1dda("0x172")]=!0,x[_0x1dda("0xeae")])x.tileTextures[t][_0x1dda("0x2c4")]===_&&(x.tileTextures[t][_0x1dda("0xa19")]=!0),x.tileTextures[t][_0x1dda("0xa19")]||(e=!1);e&&a[_0x1dda("0xda")](_0x1dda("0xeca"))}),null,(function(d){for(var x in r[d[_0x1dda("0x227")][_0x1dda("0x4e5")]]=!0,r)if(!r[x])return;a[_0x1dda("0xda")](_0x1dda("0xeca"))})),this[_0x1dda("0xeae")][o[_0x1dda("0xebb")]].uuid=k[_0x1dda("0x2c4")],this.tileTextures[o[_0x1dda("0xebb")]][_0x1dda("0x5df")]=k,o.sideimagetype||(o[_0x1dda("0xec3")]=1),1*o.sideimagetype==1){var O=(1*o[_0x1dda("0xec4")]||50)/500;k[_0x1dda("0x840")]=k[_0x1dda("0x841")]=THREE[_0x1dda("0x176")],k[_0x1dda("0x147")].x=O,k.repeat.y=O}}var B=e;e&&0!==_||((B=I[_0x1dda("0x426")]({topTexture:T||w,sideTexture:k||w})).userData[_0x1dda("0xecb")]=k,B[_0x1dda("0x153")][_0x1dda("0xecc")]=T,B[_0x1dda("0x136")]=f,B[_0x1dda("0x153")][_0x1dda("0xecd")]=I,B[_0x1dda("0x11d")]=l,e=B,B.userData[_0x1dda("0xece")]=this.modelBasicMat[_0x1dda("0x0")]-1),t||(t=B),this[_0x1dda("0xcf6")][o[_0x1dda("0xd20")]]={borderwidth:v,bordercolor:p,scaleheight:h,material:B,prodMatIdx:B[_0x1dda("0x153")][_0x1dda("0xece")],hasTexture:!0,topTextureType:1*o[_0x1dda("0xec0")]||1,sideTextureType:1*o.sideimagetype||1,filltype:u,topImage:o[_0x1dda("0xebf")],sideImage:o[_0x1dda("0xebb")],sideimagerepeat:M,topimagerepeat:S,height:g},i?this[_0x1dda("0xcf6")][o[_0x1dda("0xd20")]][_0x1dda("0xecf")]=I:_+=1,4===_&&(_=0)}}var F={};for(var N in this[_0x1dda("0xcf6")])this[_0x1dda("0xcf6")][N][_0x1dda("0xed0")]||1*this[_0x1dda("0xcf6")][N][_0x1dda("0xc73")]!=1||i||(this.tileStyles[N].material=t,this.tileStyles[N][_0x1dda("0xed1")]=0),F[N]=this[_0x1dda("0xcf6")][N][_0x1dda("0xed1")];return this[_0x1dda("0xed2")]=F,n}},{key:_0x1dda("0xed3"),value:function(d){var x=esmap[_0x1dda("0x33")].instance;if(x[_0x1dda("0x35")][_0x1dda("0xca4")])for(var a=0;a<d[_0x1dda("0x0")];a++){var _=d[a],e=_.typeid,t=new(THREE[_0x1dda("0x2b5")])({color:16777215,transparent:true,opacity:1*_[_0x1dda("0x11d")],side:THREE[_0x1dda("0x14a")]});t[_0x1dda("0x136")]=true,t.opacity=1*_[_0x1dda("0x11d")];var i=null;if(1==_[_0x1dda("0xc73")])t[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(esmap[_0x1dda("0x86")][_0x1dda("0x410")](_.color));else{i=x[_0x1dda("0x35")][_0x1dda("0x46")]+"/worldtheme/"+this[_0x1dda("0x4db")][_0x1dda("0x6e")]+"/line/"+_[_0x1dda("0x2df")],_[_0x1dda("0x2df")][_0x1dda("0xaf")]("/")>-1&&(i=this[_0x1dda("0x4db")][_0x1dda("0x46")]+(1==this[_0x1dda("0x4db")][_0x1dda("0x43")]?x[_0x1dda("0x35")][_0x1dda("0x44")]+x.id:"/")+_0x1dda("0xa0")+this.options_[_0x1dda("0x6e")]+_0x1dda("0xed4")+_.image);var n=this.textureLoader.load(i);n[_0x1dda("0x147")].y=1,n[_0x1dda("0x16d")].y=0,n.minFilter=THREE[_0x1dda("0x175")],n[_0x1dda("0x840")]=THREE[_0x1dda("0x176")],n[_0x1dda("0x841")]=THREE[_0x1dda("0x176")],n[_0x1dda("0x147")].x=.01,n.anisotropy=x[_0x1dda("0x19f")].renderer[_0x1dda("0x331")][_0x1dda("0x32d")](),t.map=n}_[_0x1dda("0x3c0")]=_[_0x1dda("0x3c0")]||0,_.hasOwnProperty(_0x1dda("0x11d"))||(_[_0x1dda("0x11d")]=1),this[_0x1dda("0x3bd")][e]={url:i,animationspeed:1*_.animationspeed,material:t,color:_[_0x1dda("0x138")],filltype:_.filltype,height:1*_[_0x1dda("0x18b")],image:_[_0x1dda("0x2df")],linetype:_[_0x1dda("0xed5")],linewidth:1*_[_0x1dda("0x3bf")],layerstyle:_.layerstyle,opacity:1*_[_0x1dda("0x11d")]}}}},{key:_0x1dda("0xeb8"),value:function(d,x){x.hasOwnProperty(_0x1dda("0x3e9"))&&(d[_0x1dda("0x3e9")]=1*x[_0x1dda("0x3e9")],d[_0x1dda("0x3e9")]||(d[_0x1dda("0x169")]=!1)),x[_0x1dda("0x2")]("color")&&(d[_0x1dda("0x138")]=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](x[_0x1dda("0x138")])),d.type==_0x1dda("0x768")&&x[_0x1dda("0x2")](_0x1dda("0x9cb"))&&x[_0x1dda("0x2")](_0x1dda("0x9c9"))&&d[_0x1dda("0xabb")]({pitchAngle:x[_0x1dda("0x9cb")],directionAngle:x[_0x1dda("0x9c9")]})}},{key:_0x1dda("0xc64"),value:function(d){this.modelLines=1*d[_0x1dda("0xd26")]||!1;var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")];d[_0x1dda("0xed6")]&&(this[_0x1dda("0x9e0")]=esmap[_0x1dda("0x86")].toColor(d[_0x1dda("0xed6")]),x[_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x6de")](this[_0x1dda("0x9e0")])),this[_0x1dda("0xed3")](d[_0x1dda("0x85e")]);var a=this[_0x1dda("0xed7")](d[_0x1dda("0x1b8")]);return d.Poi&&this[_0x1dda("0xed8")](d.Poi),d.Light&&(this[_0x1dda("0xed9")]=!0,this[_0x1dda("0xeb9")](d.Light)),this[_0x1dda("0xeb1")]=d,a}},{key:_0x1dda("0xbc9"),value:function(d){var x=d.id,a=d[_0x1dda("0x442")],_=d[_0x1dda("0x97")];this[_0x1dda("0xeda")](x,a,_)}},{key:_0x1dda("0xeda"),value:function(d,x,a){this[_0x1dda("0x9e0")]=esmap[_0x1dda("0x86")].toColor(x[_0x1dda("0xedb")][_0x1dda("0xed6")]);var _=this[_0x1dda("0xea0")][d]={};_[_0x1dda("0xedc")]={},_[_0x1dda("0xedd")]={},_.materialList={},_[_0x1dda("0x442")]=x,_.clearColor=esmap[_0x1dda("0x86")][_0x1dda("0x410")](x[_0x1dda("0xedb")].clearcolor);var r=1-1*x[_0x1dda("0xedb")][_0x1dda("0xede")]||0;_[_0x1dda("0x6da")]=r,_.fontStyle={default:(0,n[_0x1dda("0xd")])({},this[_0x1dda("0xedf")]),selected:(0,n[_0x1dda("0xd")])({},this[_0x1dda("0xea9")])},_[_0x1dda("0xd26")]=1*x.mapstyle[_0x1dda("0xd26")]||!1,esmap[_0x1dda("0x33")][_0x1dda("0x34")].mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]&&(x[_0x1dda("0x766")]?(this[_0x1dda("0xed9")]=!0,this.setLights(x[_0x1dda("0x766")])):this[_0x1dda("0xeb9")](this[_0x1dda("0xeb4")])),this[_0x1dda("0xea5")]=1*x[_0x1dda("0xedb")][_0x1dda("0xea5")]||0;for(var s=x[_0x1dda("0xee0")],c=0;c<s[_0x1dda("0x0")];c++){var l=s[c];l[_0x1dda("0xee1")]=esmap[_0x1dda("0x86")][_0x1dda("0x410")](l[_0x1dda("0x138")]),1==l.typeid&&(this.selectedColor_=l[_0x1dda("0xee1")]),l.strokeColor_=esmap[_0x1dda("0x86")].toColor(l[_0x1dda("0x316")]),l.alpha=l[_0x1dda("0x136")],_[_0x1dda("0xea1")][l[_0x1dda("0xd20")]]=this.createMaterial_(l,null,d,a),_[_0x1dda("0xedd")][l[_0x1dda("0xd20")]]=l}var f={},u=x[_0x1dda("0xee2")];if(_[_0x1dda("0xee3")]={},u&&u.length>0){var h=u[0];this[_0x1dda("0xea3")]=esmap[_0x1dda("0x86")][_0x1dda("0x410")](h[_0x1dda("0x138")]),h[_0x1dda("0x136")]&&(this[_0x1dda("0xea4")]=1-parseFloat(h.transparent)),u.forEach((function(d){_[_0x1dda("0xee3")][d.floornum]={height:d[_0x1dda("0xee4")],opacity:1-parseFloat(d[_0x1dda("0x136")]),color:esmap[_0x1dda("0x86")][_0x1dda("0x410")](d.color),image:d[_0x1dda("0x2df")]||"",imagesize:d[_0x1dda("0xde5")]||"",light:d[_0x1dda("0x822")]||!1};var x=d[_0x1dda("0x2df")];x&&!f[x[_0x1dda("0x13f")](_0x1dda("0xee5"),"")]&&(f[x[_0x1dda("0x13f")](".png","")]=1)}))}this[_0x1dda("0xee6")]=f,x.hideFloorBase&&(esmap[_0x1dda("0x33")].instance[_0x1dda("0x35")][_0x1dda("0x97f")]=x[_0x1dda("0x97f")]),_.fontStyleThemeDic={};var g=x[_0x1dda("0xee7")];if(g){if(g[0]){var b=(0,o.cloneByPropertiesMap)(g[0],{fillStyle:[_0x1dda("0x315"),_0x1dda("0x304")],strokeStyle:[_0x1dda("0x316"),_0x1dda("0x305")],strokeWidth:["strokewidth","strokeWidth"],fontSize:[_0x1dda("0xec6"),_0x1dda("0x2fe")],image:[_0x1dda("0x2df")],imageAlign:[_0x1dda("0xee8")],imageScale:[_0x1dda("0xee9")],shadowBlur:[_0x1dda("0x306")],shadowOffsetX:[_0x1dda("0x308")],shadowOffsetY:[_0x1dda("0x309")],shadowColor:[_0x1dda("0x307")],imageShadowBlur:[_0x1dda("0xec7")]}),v=(0,i[_0x1dda("0xd")])(b),p=!0,m=!1,A=void 0;try{for(var C,I=(0,t[_0x1dda("0xd")])(v);!(p=(C=I[_0x1dda("0x24c")]())[_0x1dda("0x3d5")]);p=!0){var y=(0,e[_0x1dda("0xd")])(C[_0x1dda("0xd8")],2),E=y[0],w=y[1];E!=_0x1dda("0x304")&&"strokeStyle"!=E&&E!=_0x1dda("0x307")||(b[E]=(0,o[_0x1dda("0x319")])(w))}}catch(d){m=!0,A=d}finally{try{!p&&I[_0x1dda("0x24f")]&&I.return()}finally{if(m)throw A}}(0,o[_0x1dda("0xec8")])(_[_0x1dda("0xeea")][_0x1dda("0xd")],b)}if(g[1]){var T=(0,o.cloneByPropertiesMap)(g[0],{fillStyle:[_0x1dda("0x315"),_0x1dda("0x304")],strokeStyle:["strokecolor",_0x1dda("0x305")],strokeWidth:[_0x1dda("0xd25"),_0x1dda("0x30a")],fontSize:[_0x1dda("0xec6"),_0x1dda("0x2fe")]});(0,o[_0x1dda("0xec8")])(_[_0x1dda("0xeea")][_0x1dda("0xeeb")],T)}}}},{key:_0x1dda("0xeec"),value:function(d,x,a,_){var e=esmap[_0x1dda("0x33")][_0x1dda("0x34")],t=d.fixAlpha||!1,i=1*d[_0x1dda("0x149")]||0;_=_||!!e&&e.mapService[_0x1dda("0xbb6")]||(e?e[_0x1dda("0x7d")][_0x1dda("0xbb6")]:null);var n=new(THREE[_0x1dda("0x429")])({color:x||d[_0x1dda("0xee1")],opacity:1*d[_0x1dda("0x2ec")],side:i});if(n[_0x1dda("0x11d")]<1&&(n[_0x1dda("0x136")]=!0),n[_0x1dda("0x13a")]=function(d){d[_0x1dda("0x13e")]=d[_0x1dda("0x13e")][_0x1dda("0x13f")](_0x1dda("0x432"),_0x1dda("0xeed")),d.vertexShader=d[_0x1dda("0x13e")][_0x1dda("0x13f")](_0x1dda("0x524"),"\n                #include <uv_vertex>\n\n                hideFlag = isHideFlags;\n                "),d[_0x1dda("0x142")]=d[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x143"),"\n                uniform float opacity; \n                varying float hideFlag;\n                "),d[_0x1dda("0x142")]=d[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x144"),_0x1dda("0xeee"))},d.image){var r=f[_0x1dda("0xd")][_0x1dda("0x67")]("buildingThemeAsset",{themeID:a,filename:d[_0x1dda("0x2df")],buildingId:_}),s=esmap[_0x1dda("0x86")].loadTexture(r);s[_0x1dda("0x840")]=THREE[_0x1dda("0x176")],s[_0x1dda("0x841")]=THREE[_0x1dda("0x176")],n[_0x1dda("0x42")]=s,n[_0x1dda("0x42")][_0x1dda("0x172")]=!0,n[_0x1dda("0x172")]=!0}return d.hasOwnProperty("roughness")&&(n.roughness=1*d.roughness),d.hasOwnProperty(_0x1dda("0x137"))&&(n[_0x1dda("0x137")]=1*d[_0x1dda("0x137")]),d.emissivecolor&&n.emissive[_0x1dda("0xcd")](esmap[_0x1dda("0x86")][_0x1dda("0x410")](d[_0x1dda("0xeef")])),t&&(n[_0x1dda("0x15d")]=!1),n}},{key:_0x1dda("0xef0"),value:function(d,x){var a=this[_0x1dda("0xea0")][d][_0x1dda("0xedd")][x];return(0,o[_0x1dda("0xef1")])(a||this.defaultTheme_)}},{key:_0x1dda("0xef2"),value:function(d,x){var a=this[_0x1dda("0xea0")][d][_0x1dda("0xeac")];for(var _ in a)if(1*a[_][_0x1dda("0xd20")]==x)return a[_]}},{key:"getModelMaterial",value:function(d,x,a){var e;return a[_0x1dda("0x0")]<1?e=this.themeList[d].materialList[x]?this[_0x1dda("0xea0")][d].materialList[x]:(0,_.default)(this[_0x1dda("0xea0")][d].materialList)[_0x1dda("0x0")]>0?this[_0x1dda("0xea0")][d][_0x1dda("0xea1")][0]:this.createMaterial_(this[_0x1dda("0xeb3")]):(e=this[_0x1dda("0xeec")](this[_0x1dda("0xef0")](x),esmap[_0x1dda("0x86")].toColor(a)))[_0x1dda("0xee1")]=esmap[_0x1dda("0x86")][_0x1dda("0x410")](a),e||this[_0x1dda("0xeb2")]}},{key:_0x1dda("0xef3"),value:function(d,x,a,_){var e=esmap[_0x1dda("0x33")][_0x1dda("0x34")],t=void 0;if(e[_0x1dda("0x36")]==esmap.MapMode[_0x1dda("0x1b8")])t=isNaN(x)?e[_0x1dda("0x35")].mapDataSrc+e.id+_0x1dda("0xd9a")+x:e.options[_0x1dda("0x71")]?e[_0x1dda("0x35")][_0x1dda("0x71")]+d+"/"+x+".png":e[_0x1dda("0x35")][_0x1dda("0x44")]+e.id+_0x1dda("0x74")+d+"/"+x+_0x1dda("0xee5");else if(1!=e.options[_0x1dda("0x43")])t=isNaN(x)?1==_?e[_0x1dda("0x35")][_0x1dda("0x46")]+"/buildingImagelabel/"+x:e[_0x1dda("0x35")][_0x1dda("0x46")]+"/buildings/"+a+"/imagelabel/"+x:e.options[_0x1dda("0x46")]+_0x1dda("0xef4")+d+"/"+x+_0x1dda("0xee5");else if(isNaN(x))if(1==_){var i=3==e[_0x1dda("0x35")].s?_0x1dda("0xef5"):_0x1dda("0xef6");t=e[_0x1dda("0x35")][_0x1dda("0x46")]+i+e.id+_0x1dda("0xef7")+x}else{var n=3==e[_0x1dda("0x35")].s?_0x1dda("0xa1"):_0x1dda("0xa2");t=e[_0x1dda("0x35")].serverUrl+n+a+"/imagelabel/"+x}else t=e[_0x1dda("0x35")][_0x1dda("0x46")]+_0x1dda("0x74")+d+"/"+x+_0x1dda("0xee5");return t}},{key:_0x1dda("0xef8"),value:function(d,x,a,_){var e=esmap.ESMap[_0x1dda("0x34")],t=void 0;if(e[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")])t=isNaN(x)?e[_0x1dda("0x35")][_0x1dda("0x44")]+e.id+_0x1dda("0xd9a")+x:e[_0x1dda("0x35")][_0x1dda("0x71")]?e[_0x1dda("0x35")][_0x1dda("0x71")]+d+"/"+x+".png":e.options[_0x1dda("0x44")]+e.id+_0x1dda("0x74")+d+"/"+x+_0x1dda("0xee5");else if(1!=e[_0x1dda("0x35")][_0x1dda("0x43")])t=isNaN(x)?1==_?e[_0x1dda("0x35")][_0x1dda("0x46")]+_0x1dda("0xef7")+x:e.options.serverUrl+_0x1dda("0x98")+a+_0x1dda("0xd9a")+x:e[_0x1dda("0x35")][_0x1dda("0x46")]+_0x1dda("0xef4")+d+"/"+x+".png";else if(isNaN(x))if(1==_){var i=3==e.options.s?"/EsmapTileOffData/":_0x1dda("0xef6");t=e[_0x1dda("0x35")][_0x1dda("0x46")]+i+e.id+_0x1dda("0xef7")+x}else{var n=3==e[_0x1dda("0x35")].s?_0x1dda("0xa1"):_0x1dda("0xa2");t=e[_0x1dda("0x35")][_0x1dda("0x46")]+n+a+_0x1dda("0xd9a")+x}else t=e[_0x1dda("0x35")].serverUrl+_0x1dda("0x74")+d+"/"+x+".png";var r=esmap[_0x1dda("0x86")][_0x1dda("0x5ba")](t);return r[_0x1dda("0x174")]=THREE[_0x1dda("0x32a")],r[_0x1dda("0x83f")]=THREE[_0x1dda("0x520")],new(THREE[_0x1dda("0x23e")])({map:r})}},{key:_0x1dda("0xef9"),value:function(d,x,a,_,e){var t=esmap[_0x1dda("0x33")].instance,i=this[_0x1dda("0xea0")][a];for(var n in d){var r={};if(r.id=n,r[_0x1dda("0x18b")]=x,!i[_0x1dda("0xedc")][r.id]&&12e4!=r.id){var s="";s=t.mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]?t[_0x1dda("0x35")].mapThemeSrc?t[_0x1dda("0x35")][_0x1dda("0x71")]+a+"/"+r.id+".png":t.options[_0x1dda("0x44")]+t.id+_0x1dda("0x74")+a+"/"+r.id+_0x1dda("0xee5"):1!=t[_0x1dda("0x35")][_0x1dda("0x43")]?t[_0x1dda("0x35")][_0x1dda("0x46")]+_0x1dda("0xef4")+a+"/"+r.id+_0x1dda("0xee5"):t.options[_0x1dda("0x46")]+_0x1dda("0x74")+a+"/"+r.id+_0x1dda("0xee5"),r.id&&r.id[_0x1dda("0x2e")]()[_0x1dda("0xaf")](_0x1dda("0xee5"))>0&&(e==esmap.ESBuildingType.TILE?s=this[_0x1dda("0x4db")][_0x1dda("0x44")]+_+_0x1dda("0xef7")+r.id:1!=this[_0x1dda("0x4db")][_0x1dda("0x43")]&&(s=this[_0x1dda("0x4db")].mapDataSrc+_0x1dda("0xefa")+_+_0x1dda("0xd9a")+r.id));var o=esmap[_0x1dda("0x86")].loadTexture(s);o[_0x1dda("0x174")]=THREE[_0x1dda("0x32a")],o[_0x1dda("0x83f")]=THREE[_0x1dda("0x520")],r[_0x1dda("0xefb")]=new(THREE[_0x1dda("0x23e")])({map:o}),r[_0x1dda("0xefb")][_0x1dda("0xd2")]=x,i[_0x1dda("0xedc")][r.id]=r}}this[_0x1dda("0xee6")]=null}},{key:"updateBuildingTheme",value:function(d,x){var a=this,_=esmap[_0x1dda("0x33")][_0x1dda("0x34")];x||(x=_[_0x1dda("0x62c")]()[_0x1dda("0x35")][_0x1dda("0x6e")]);var e=_[_0x1dda("0x62c")]();a.setThemeList(x,d,e.id),_[_0x1dda("0xefc")](a.clearColor_,1),_[_0x1dda("0x19f")][_0x1dda("0x215")]();var t=a.themeList[x];e[_0x1dda("0x180")].traverse((function(d){if(d[_0x1dda("0xe5")])switch(d[_0x1dda("0xe5")][_0x1dda("0x106")]){case esmap[_0x1dda("0x126")].LINE:if(!t)return;d.material[_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(t.strokeColor_),d.material[_0x1dda("0x3bf")]=t.strokewidth;break;case esmap[_0x1dda("0x126")][_0x1dda("0xb2c")]:var i=a.floorColor_,n=a.floorOpacity_;if(d[_0x1dda("0xfe")][_0x1dda("0xfe")]&&d[_0x1dda("0xfe")].parent.datas_ instanceof esmap[_0x1dda("0x4f4")]){var r=d.parent[_0x1dda("0xfe")][_0x1dda("0xe5")][_0x1dda("0x1de")],s=t[_0x1dda("0xee3")][r]||t.floorStyleBase[0];if(s)if(i=s[_0x1dda("0x138")],n=s[_0x1dda("0x11d")],s[_0x1dda("0x2df")]){var o=d[_0x1dda("0xe9")];Array[_0x1dda("0x2f4")](o)&&(o=d[_0x1dda("0xe9")][0]);var c=[o,o[_0x1dda("0x116")]()],l=c[0],u=c[1];u.color=new(THREE[_0x1dda("0x139")])(i),u[_0x1dda("0x11d")]=n;var h=f[_0x1dda("0xd")][_0x1dda("0x67")]("buildingThemeAsset",{themeID:x,filename:s[_0x1dda("0x2df")],buildingId:e.id});esmap[_0x1dda("0x86")].loadTexture(h,(function(d){d[_0x1dda("0x840")]=d.wrapT=THREE.RepeatWrapping;var x=(_[_0x1dda("0x559")]-_[_0x1dda("0x556")])/(_[_0x1dda("0x55b")]-_.minY),a=s[_0x1dda("0xde5")].split(",");d[_0x1dda("0x147")].set(a[0]*x,a[1]),l.color[_0x1dda("0xcd")](16777215),l.opacity=n,l[_0x1dda("0x136")]=1*n!=1,l[_0x1dda("0x42")]=d,l[_0x1dda("0x42")][_0x1dda("0x172")]=!0,l.needsUpdate=!0})),d[_0x1dda("0xe9")]=c}else d[_0x1dda("0xe9")]instanceof Array?(d.material[0][_0x1dda("0x42")]&&(d[_0x1dda("0xe9")][0][_0x1dda("0x42")][_0x1dda("0xe8")](),d[_0x1dda("0xe9")][0][_0x1dda("0x42")]=void 0),d[_0x1dda("0xe9")][0][_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(i),d.material[0].opacity=n,d.material[0][_0x1dda("0x136")]=1*n!=1):(d[_0x1dda("0xe9")].color=new(THREE[_0x1dda("0x139")])(i),d[_0x1dda("0xe9")].opacity=n,d.material.transparent=1*n!=1)}break;case esmap[_0x1dda("0x126")][_0x1dda("0x625")]:var g=d.datas_.brothers[0].RoomStyle,b=t[_0x1dda("0xedd")][g];if(!b)return;var v=b[_0x1dda("0x138")];if(_0x1dda("0xe")==typeof v&&(v=esmap.ESMapUtil[_0x1dda("0x410")](b.color)),d[_0x1dda("0xe9")].color)d[_0x1dda("0xe9")][_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(v),d[_0x1dda("0xe9")].opacity=b[_0x1dda("0x2ec")]||1,d[_0x1dda("0xe9")][_0x1dda("0x172")]=!0,b[_0x1dda("0xeef")]&&d[_0x1dda("0xe9")][_0x1dda("0x3e7")]&&d[_0x1dda("0xe9")][_0x1dda("0x3e7")][_0x1dda("0xcd")](esmap.ESMapUtil[_0x1dda("0x410")](b.emissivecolor));else{var p=d.material;p[0][_0x1dda("0x138")]=new(THREE[_0x1dda("0x139")])(v),p[0].opacity=1*b[_0x1dda("0x2ec")]||1,b[_0x1dda("0xeef")]&&p[0][_0x1dda("0x3e7")]&&p[0][_0x1dda("0x3e7")][_0x1dda("0xcd")](esmap[_0x1dda("0x86")][_0x1dda("0x410")](b[_0x1dda("0xeef")])),p[0].needsUpdate=!0}break;case esmap[_0x1dda("0x126")][_0x1dda("0x647")]:if(!t)return;break;case esmap[_0x1dda("0x126")][_0x1dda("0xe94")]:d[_0x1dda("0xe5")].updateTextStyle(t[_0x1dda("0xeea")][_0x1dda("0xd")])}})),_[_0x1dda("0xda")](_0x1dda("0xefd"),x)}},{key:_0x1dda("0x9f0"),set:function(d){this[_0x1dda("0xeaf")]=esmap[_0x1dda("0x86")][_0x1dda("0x410")](d)},get:function(){return this.model3DSelectedColor_}}]),d}();x[_0x1dda("0xd")]=h},,,,,,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=function(){function d(){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0xefe")]}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x6c4"),value:function(){this[_0x1dda("0xefe")]=[]}},{key:_0x1dda("0x10"),value:function(d,x){if(0==this.rects_[_0x1dda("0x0")])return this.rects_[_0x1dda("0x10")](x),!1;for(var a in this[_0x1dda("0xefe")]){var _=this[_0x1dda("0xefe")][a];if(this[_0x1dda("0xeff")](_,x))return!0}return this.rects_[_0x1dda("0x10")](x),!1}},{key:_0x1dda("0xeff"),value:function(d,x){return x[_0x1dda("0xd2")]<=d[_0x1dda("0xd2")]&&d.x<x.x+x.w/2&&d.x+d.w/2>x.x&&d.y<x.y+x.h/2&&d.h/2+d.y>x.y}}]),d}();x.default=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(0)),e=i(a(1)),t=a(4);function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(){(0,_.default)(this,d)}return(0,e[_0x1dda("0xd")])(d,null,[{key:_0x1dda("0x2d3"),value:function(d){this.originSize||(this[_0x1dda("0xe9d")]={width:this.width_,height:this[_0x1dda("0xf00")]}),this[_0x1dda("0x2de")]=this[_0x1dda("0xe9d")][_0x1dda("0x1a5")],this[_0x1dda("0xf00")]=this[_0x1dda("0xe9d")][_0x1dda("0x18b")],(d=d||{}).time=null==d.time?.6:d.time;var x=this;if(x[_0x1dda("0xf01")]=null,!this[_0x1dda("0x187")]||d.force)return x._isAnimating=!0,d[_0x1dda("0x1d7")]=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x1d7"),1.5),d.times=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x189"),1),d[_0x1dda("0x18a")]=(0,t.getValues)(d,"delay",0),0==d[_0x1dda("0x189")]&&(d.times=Number[_0x1dda("0x8a0")]),d[_0x1dda("0x233")]=null==d[_0x1dda("0x233")]?.6:d[_0x1dda("0x233")],x.flashDelayId&&clearInterval(x[_0x1dda("0xf01")]),this[_0x1dda("0xf02")]&&this.flashId.stop(),this[_0x1dda("0xf02")]=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(this).to({width_:this[_0x1dda("0x2de")]*d[_0x1dda("0x1d7")],height_:this.height_*d[_0x1dda("0x1d7")]},200*d[_0x1dda("0x233")])[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")].In).onUpdate((function(d){}))[_0x1dda("0x192")]((function(){x[_0x1dda("0xf02")]=new(esmap.TWEEN[_0x1dda("0x18e")])(x).to({width_:x.originSize[_0x1dda("0x1a5")],height_:x[_0x1dda("0xe9d")][_0x1dda("0x18b")]},800*d.time)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")]).onComplete((function(){d[_0x1dda("0x189")]--,d[_0x1dda("0x189")]>0?x[_0x1dda("0xf01")]=setTimeout((function(){d[_0x1dda("0x188")]=!0,x.flash(d)}),1e3*d[_0x1dda("0x18a")]):(x[_0x1dda("0x187")]=!1,d[_0x1dda("0x195")]&&d[_0x1dda("0x195")]())}))[_0x1dda("0x21c")]()}))[_0x1dda("0x21c")]()}},{key:_0x1dda("0x242"),value:function(d){var x,a,_=this;d=d||{};if(!this[_0x1dda("0x187")]||d.force)return _[_0x1dda("0x187")]=!0,d[_0x1dda("0x1d7")]=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x1d7"),1.5),d[_0x1dda("0x189")]=(0,t.getValues)(d,_0x1dda("0x189"),1),d[_0x1dda("0x18a")]=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x18a"),0),0==d[_0x1dda("0x189")]&&(d[_0x1dda("0x189")]=Number[_0x1dda("0x8a0")]),d[_0x1dda("0x233")]=null==d[_0x1dda("0x233")]?.6:d[_0x1dda("0x233")],x=_[_0x1dda("0x1d7")][_0x1dda("0x116")]()[_0x1dda("0x218")](d[_0x1dda("0x1d7")]),a=_.scale[_0x1dda("0x116")](),this[_0x1dda("0xf03")]&&this[_0x1dda("0xf03")].stop(),_[_0x1dda("0xf03")]=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(_.scale).to(x,.2*d[_0x1dda("0x233")]*1e3)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")].In),_[_0x1dda("0xf04")]=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(_.scale).to(a,.8*d[_0x1dda("0x233")]*1e3)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing.Quadratic.Out)[_0x1dda("0x192")]((function(){d[_0x1dda("0x189")]--,d[_0x1dda("0x189")]>0?_[_0x1dda("0x187")]&&(d[_0x1dda("0x188")]=!0,_[_0x1dda("0xf03")].delay(1e3*d[_0x1dda("0x18a")]).start()):(_[_0x1dda("0x187")]=!1,_[_0x1dda("0xf03")][_0x1dda("0x18d")](),d[_0x1dda("0x195")]&&d[_0x1dda("0x195")]())})),_[_0x1dda("0xf03")][_0x1dda("0x196")](_.flashId2)[_0x1dda("0x21c")](),d}},{key:_0x1dda("0x2d6"),value:function(d,x){var a=esmap[_0x1dda("0x86")][_0x1dda("0xf05")](this[_0x1dda("0xe5")]),_=esmap[_0x1dda("0x161")][a];x=null==x?null==_?10:_:x,d=null==d||d,this[_0x1dda("0xe9")].depthWrite=!d,this[_0x1dda("0xe9")][_0x1dda("0x15b")]=!d,this.renderOrder=d?x:0}},{key:_0x1dda("0x219"),value:function(d){var x=this;_0x1dda("0x177")==typeof d&&(d={to:d});var a,_=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x233"),"duration",.3),e=x.angle,i=esmap.ESMapUtil.getNearestAngle(e,d.to);return x[_0x1dda("0xa70")]&&x._rotateToID.stop(),x._rotateToID=esmap[_0x1dda("0x190")][_0x1dda("0x95c")](_,(function(d){(a=e+i*d[_0x1dda("0xd8")])<=0?a=360+a:a>=360&&(a-=360),x[_0x1dda("0x201")]=a}),null,(function(){d[_0x1dda("0x195")]&&d.callback()})),x[_0x1dda("0xa70")]}},{key:_0x1dda("0xf06"),value:function(d){if(void 0===this[_0x1dda("0xf07")]&&(this[_0x1dda("0xf07")]=!0),this[_0x1dda("0xf07")]){var x=(d=d||esmap[_0x1dda("0x33")].instance.mapView)[_0x1dda("0x42")].currentCamera;d.map[_0x1dda("0x36")],esmap.MapMode[_0x1dda("0x1b8")];this.originPosition||(this[_0x1dda("0xf08")]=this.position[_0x1dda("0x116")]()),(null==this[_0x1dda("0x64f")]||isNaN(this.initY_))&&(isNaN(this[_0x1dda("0xfa")].y)&&(this[_0x1dda("0xfa")].y=0),this[_0x1dda("0x64f")]=this[_0x1dda("0xfa")].y);this[_0x1dda("0x4f5")]?0==this[_0x1dda("0x4f5")][_0x1dda("0x3a5")]||this[_0x1dda("0x4f5")].ShowLevel:0==this[_0x1dda("0xe5")][_0x1dda("0xf09")]||this[_0x1dda("0xe5")][_0x1dda("0xf09")];if("3D"==d.map[_0x1dda("0x353")]){if(0==d.h_)return;this[_0x1dda("0xf0a")]=void 0;var a=esmap[_0x1dda("0x237")][_0x1dda("0xf0b")](this,d),_=this[_0x1dda("0xe5")]instanceof esmap[_0x1dda("0xf0c")]&&!this[_0x1dda("0xe5")].spritify_?16:2;if(0==a[_0x1dda("0x1d7")].x||0==a[_0x1dda("0x1d7")].y)return void console[_0x1dda("0x1eb")](_0x1dda("0xf0d"));if(this[_0x1dda("0x2de")]&&this[_0x1dda("0xf00")]){var e=this[_0x1dda("0x2de")]/32*10,t=this[_0x1dda("0xf00")]/32*10;this.scale.set(e,t,1)}var i=this[_0x1dda("0xf00")]?this[_0x1dda("0xf00")]*a[_0x1dda("0xf0e")]/_:0;this.data_[_0x1dda("0x239")]&&(i/=2);this[_0x1dda("0xf0f")];if(this[_0x1dda("0x3b2")]&&(this[_0x1dda("0x3b2")]==_0x1dda("0xf10")||"Model3D"==this[_0x1dda("0x3b2")]||"UserLabel"==this[_0x1dda("0x3b2")])&&(this.datas_[_0x1dda("0xf11")]||null!=this.datas_.spritify_&&!this[_0x1dda("0xe5")][_0x1dda("0xf12")]))return;0==a[_0x1dda("0x1d7")].x&&(a[_0x1dda("0x1d7")].x=1),this[_0x1dda("0x1d7")][_0x1dda("0x20e")](a[_0x1dda("0x1d7")])}else{if(this[_0x1dda("0x3b2")]&&(this[_0x1dda("0x3b2")]==_0x1dda("0xf10")||this[_0x1dda("0x3b2")]==_0x1dda("0xf13")||this.type_==_0x1dda("0xf14"))&&(null!=this[_0x1dda("0xe5")][_0x1dda("0xf12")]&&!this[_0x1dda("0xe5")].spritify_||this[_0x1dda("0xe5")].unspritify_))return;_=this[_0x1dda("0xe5")]instanceof esmap[_0x1dda("0xf0c")]&&!this.datas_[_0x1dda("0xf12")]?16:2,a=esmap[_0x1dda("0x237")][_0x1dda("0xf0b")](this,d);if(this[_0x1dda("0x2de")]&&this[_0x1dda("0xf00")]){var n=this[_0x1dda("0x2de")]/32*10;t=this.height_/32*10;this[_0x1dda("0x1d7")][_0x1dda("0xcd")](n,t,1)}i=this[_0x1dda("0xf00")]?this[_0x1dda("0xf00")]*a[_0x1dda("0xf0e")]/_:0;this.data_[_0x1dda("0x239")]&&(i/=2);this[_0x1dda("0xf0f")];this[_0x1dda("0xf0a")]=esmap[_0x1dda("0x237")][_0x1dda("0xf0b")](this,d)[_0x1dda("0x1d7")],this.scale[_0x1dda("0x20e")](this[_0x1dda("0xf0a")][_0x1dda("0x116")]().multiplyScalar(1/x[_0x1dda("0x615")]))}}}},{key:_0x1dda("0x238"),value:function(){if(this[_0x1dda("0xf02")]){if(this[_0x1dda("0xf02")]&&this.flashId.stop(),this[_0x1dda("0xe9d")])this[_0x1dda("0x2de")]=this[_0x1dda("0xe9d")][_0x1dda("0x1a5")],this[_0x1dda("0xf00")]=this[_0x1dda("0xe9d")][_0x1dda("0x18b")];else{var d=new(THREE[_0x1dda("0x11c")])(1,1,1);this.flashId=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(this[_0x1dda("0x1d7")]).to(d,100).easing(esmap[_0x1dda("0x190")][_0x1dda("0x193")].Linear[_0x1dda("0x27c")])[_0x1dda("0x21c")]()}this[_0x1dda("0x187")]=!1}}},{key:"stopMoveTo",value:function(d){clearInterval(this._moveToID),this[_0x1dda("0x187")]=!1}},{key:"stopJump",value:function(){this[_0x1dda("0x186")]&&this[_0x1dda("0x186")][_0x1dda("0x18d")](),this[_0x1dda("0xf15")]&&this[_0x1dda("0xf15")][_0x1dda("0x18d")](),this[_0x1dda("0x187")]=!1}},{key:_0x1dda("0x211"),value:function(d){var x=this;d=d||{},null==x.userData[_0x1dda("0xf16")]&&(x.userData[_0x1dda("0xf16")]=x[_0x1dda("0xfa")].y);var a=x[_0x1dda("0x153")][_0x1dda("0xf16")];if(!this[_0x1dda("0x187")]||d.force)return x[_0x1dda("0x187")]=!0,d[_0x1dda("0x189")]=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x189"),1),0==d[_0x1dda("0x189")]&&(d.times=Number[_0x1dda("0x8a0")]),d[_0x1dda("0x18a")]=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x18a"),0),d[_0x1dda("0x18b")]=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x18b"),8),d[_0x1dda("0x18c")]=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x233"),_0x1dda("0x18c"),1),this[_0x1dda("0x186")]&&this[_0x1dda("0x186")][_0x1dda("0x18d")](),this[_0x1dda("0x186")]=new(esmap[_0x1dda("0x190")].Tween)(this.position).to({y:a+d[_0x1dda("0x18b")]},.2*d[_0x1dda("0x18c")]*1e3).easing(esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")][_0x1dda("0x2f3")])[_0x1dda("0x192")]((function(){})),this[_0x1dda("0xf15")]=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(this[_0x1dda("0xfa")]).to({y:a},.8*d[_0x1dda("0x18c")]*1e3)[_0x1dda("0x18f")](esmap.TWEEN[_0x1dda("0x193")][_0x1dda("0x69f")].Out)[_0x1dda("0x192")]((function(){d[_0x1dda("0x189")]--,d.times>0?x[_0x1dda("0x187")]&&(d[_0x1dda("0x188")]=!0,x[_0x1dda("0x186")].delay(1e3*d.delay).start()):(x[_0x1dda("0x187")]=!1,x[_0x1dda("0x186")][_0x1dda("0x18d")](),d[_0x1dda("0x195")]&&d[_0x1dda("0x195")]())})),this[_0x1dda("0x186")][_0x1dda("0x196")](this[_0x1dda("0xf15")])[_0x1dda("0x21c")](),d}},{key:_0x1dda("0x1ff"),value:function(d){var x=this,a=esmap.ESMap[_0x1dda("0x34")],_=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x233"),_0x1dda("0x18c"),1),e=(0,t.getValues)(d,"x",this[_0x1dda("0xfa")].x),i=(0,t[_0x1dda("0x13")])(d,"y",this[_0x1dda("0xfa")].y),n=(0,t[_0x1dda("0x13")])(d,"z",this[_0x1dda("0xfa")].z);n+=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x16d"),0);var r=d[_0x1dda("0x162")]||null,s=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x192"),"callback",null);if(0===_){this[_0x1dda("0xfa")][_0x1dda("0xcd")](e,i,n);var o=a[_0x1dda("0x1db")](this[_0x1dda("0xfa")]);return r&&r(o),void(s&&s(this[_0x1dda("0xe5")]))}var c=new(esmap[_0x1dda("0x190")].Tween)(this.position).to({x:e,z:n,y:i},1e3*_)[_0x1dda("0x18f")](esmap.TWEEN[_0x1dda("0x193")][_0x1dda("0x20f")][_0x1dda("0x27c")])[_0x1dda("0x162")]((function(d){var x=a.coordThreeToMap(d);r&&r(x)}))[_0x1dda("0x192")]((function(){s&&s(x[_0x1dda("0xe5")])}))[_0x1dda("0x21c")]();return c}},{key:"rotate",value:function(d){var x=this,a=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x233"),_0x1dda("0x18c"),1),_=!1;return x[_0x1dda("0xe5")]&&x[_0x1dda("0xe5")].alias&&"es3dmarker"==x[_0x1dda("0xe5")][_0x1dda("0xf17")]&&(_=!0),x[_0x1dda("0xf18")]&&x[_0x1dda("0xf18")][_0x1dda("0x18d")](),x[_0x1dda("0xf18")]=new(esmap.TWEEN[_0x1dda("0x18e")])(_?x[_0x1dda("0x3d9")]:x).to({y:THREE[_0x1dda("0x1fa")][_0x1dda("0x20b")](d[_0x1dda("0x201")])},1e3*a)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x20f")][_0x1dda("0x27c")]).onComplete((function(){d[_0x1dda("0x195")]&&d.callback()})).start(),d}},{key:_0x1dda("0x2f1"),value:function(d){var x=this;if(x[_0x1dda("0xe9")]&&!x[_0x1dda("0xf19")]){x._isFading=!0,(d=d||{}).out||(x.visible=!0);var a=(0,t[_0x1dda("0x13")])(d,_0x1dda("0x233"),_0x1dda("0x18c"),.2);x[_0x1dda("0xf1a")]&&x[_0x1dda("0xf1a")].stop(),x[_0x1dda("0xf1a")]=new(esmap[_0x1dda("0x190")].Tween)(x[_0x1dda("0xe9")]).to({opacity:d[_0x1dda("0xf1b")]?0:1},1e3*a)[_0x1dda("0x18f")](esmap.TWEEN.Easing.Linear[_0x1dda("0x27c")])[_0x1dda("0x192")]((function(){x[_0x1dda("0xf19")]=!1,d[_0x1dda("0xf1b")]&&(x.visible=!1),d[_0x1dda("0x195")]&&d[_0x1dda("0x195")]()}))[_0x1dda("0x21c")]()}}},{key:_0x1dda("0xf0b"),value:function(d,x){var a=d[_0x1dda("0x1e6")](new(THREE[_0x1dda("0x11c")])),_=x[_0x1dda("0x614")][_0x1dda("0xfa")],e=x[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")](),t=a.distanceTo(_),i=e[_0x1dda("0x116")]().sub(_)[_0x1dda("0x2cc")](),n=a[_0x1dda("0x116")]().sub(_)[_0x1dda("0x2cc")]();t*=i[_0x1dda("0x8a4")](n),t=Math[_0x1dda("0x2c1")](t);var r=x.map[_0x1dda("0x35")][_0x1dda("0x356")]==esmap[_0x1dda("0x357")].NEAR?1.8:1,s=t/x.h_*.3*r;s*=d[_0x1dda("0x2dd")]||1;var o=(d[_0x1dda("0xf1c")],d[_0x1dda("0x2de")]*s),c=d[_0x1dda("0xf00")]*s;return d[_0x1dda("0xf1d")]=s,{scale:6==d[_0x1dda("0xe5")][_0x1dda("0x106")]?new(THREE[_0x1dda("0x11c")])(o,c,o):new(THREE[_0x1dda("0x11c")])(o,c,1),meterperpixel:s}}},{key:_0x1dda("0x26e"),value:function(d,x){d[_0x1dda("0xf8")]((function(d){if(d.material)if(d[_0x1dda("0xe9")]instanceof Array)d[_0x1dda("0xe9")].forEach((function(d){var a=d;x?(a[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0xf1e"))||(a[_0x1dda("0x153")][_0x1dda("0xf1e")]=a.emissive[_0x1dda("0xf1f")]()),a[_0x1dda("0x3e7")]=new(THREE[_0x1dda("0x139")])(esmap[_0x1dda("0x86")].toColor(esmap[_0x1dda("0x86")][_0x1dda("0x600")](x))),a.userData[_0x1dda("0x2")](_0x1dda("0xf20"))||(a[_0x1dda("0x153")].oriEmissiveIntensity=a[_0x1dda("0x3e8")]),a.emissiveIntensity=1,a.userData[_0x1dda("0x2")](_0x1dda("0xf21"))||(a.userData[_0x1dda("0xf21")]=a[_0x1dda("0x138")][_0x1dda("0x116")]()),a[_0x1dda("0x138")]=a[_0x1dda("0x3e7")][_0x1dda("0x116")]()):(a[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0xf1e"))&&(a.emissive=new(THREE[_0x1dda("0x139")])(a.userData.oriEmissive)),a[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0xf21"))&&(a[_0x1dda("0x138")]=a[_0x1dda("0x153")][_0x1dda("0xf21")][_0x1dda("0x116")]()),a[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0xf20"))&&(a[_0x1dda("0x3e8")]=a[_0x1dda("0x153")][_0x1dda("0xf20")]))}));else{var a=d[_0x1dda("0xe9")];x?(a[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0xf1e"))||(a[_0x1dda("0x153")][_0x1dda("0xf1e")]=a.emissive.getHex()),a.emissive=new THREE.Color(esmap[_0x1dda("0x86")].toColor(esmap[_0x1dda("0x86")][_0x1dda("0x600")](x))),a.userData[_0x1dda("0x2")](_0x1dda("0xf20"))||(a.userData[_0x1dda("0xf20")]=a.emissiveIntensity),a[_0x1dda("0x3e8")]=1,a[_0x1dda("0x153")][_0x1dda("0xf22")]=!0,a[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0xf21"))||(a[_0x1dda("0x153")][_0x1dda("0xf21")]=a.color[_0x1dda("0x116")]()),a[_0x1dda("0x138")]=a.emissive[_0x1dda("0x116")]()):(a[_0x1dda("0x153")].hasOwnProperty(_0x1dda("0xf1e"))&&(a[_0x1dda("0x3e7")]=new THREE.Color(a[_0x1dda("0x153")][_0x1dda("0xf1e")])),a[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0xf21"))&&(a[_0x1dda("0x138")]=a[_0x1dda("0x153")].oriColor[_0x1dda("0x116")]()),a[_0x1dda("0x153")].hasOwnProperty(_0x1dda("0xf20"))&&(a.emissiveIntensity=a[_0x1dda("0x153")].oriEmissiveIntensity),a.userData[_0x1dda("0xf22")]=!1,a[_0x1dda("0x172")]=!0)}}))}}]),d}();x.default=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=s(a(12)),e=s(a(0)),t=s(a(1)),i=s(a(337)),n=a(50),r=a(26);function s(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var o=function(){function d(x,a){(0,e[_0x1dda("0xd")])(this,d),this[_0x1dda("0x2a8")]=0,this[_0x1dda("0x2a9")]=0,this[_0x1dda("0xf23")]=0,this.o3dScene_=null,this[_0x1dda("0x98a")]=null,this.box3_=null,this[_0x1dda("0xf24")]=0,this.minY_=0,this[_0x1dda("0xa7c")]=0,this[_0x1dda("0xa7e")]=0,this[_0x1dda("0xf25")]=0,this.map=x,this[_0x1dda("0x3b0")]=a;a=esmap.ESMapUtil[_0x1dda("0x301")]();this[_0x1dda("0x37d")]=a[_0x1dda("0x37d")],this[_0x1dda("0xb4")]=new(i[_0x1dda("0xd")])(this),this[_0x1dda("0xf26")]=new(THREE[_0x1dda("0xf27")]),this.modelInfos=[],this[_0x1dda("0xf28")]={building:0,model:0},this.initBase(),this[_0x1dda("0x972")]=!1}return(0,t[_0x1dda("0xd")])(d,[{key:_0x1dda("0x6c4"),value:function(d){!function d(x){if(null!==x){x[_0x1dda("0xe8")]&&x.dispose(),x[_0x1dda("0xe5")]&&(x.datas_=void 0);for(var a=0;a<x[_0x1dda("0xe6")][_0x1dda("0x0")];a++)d(x[_0x1dda("0xe6")][a]);if(x[_0x1dda("0xe7")]&&(x[_0x1dda("0xe7")].dispose(),x.geometry=null),x[_0x1dda("0xe9")])if(x[_0x1dda("0xe9")][_0x1dda("0xf5")])x[_0x1dda("0xe9")][_0x1dda("0xf5")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0x42")]&&(d[_0x1dda("0x42")][_0x1dda("0xe8")](),d[_0x1dda("0x42")]=null),d.dispose(),d=null})),x[_0x1dda("0xe9")][_0x1dda("0xf5")][_0x1dda("0x0")]=0;else if(Array[_0x1dda("0x2f4")](x[_0x1dda("0xe9")])){for(var _=0;_<x[_0x1dda("0xe9")][_0x1dda("0x0")];_++)x[_0x1dda("0xe9")][_]&&(x[_0x1dda("0xe9")][_][_0x1dda("0x42")]&&(x.material[_][_0x1dda("0x42")].dispose(),x[_0x1dda("0xe9")][_][_0x1dda("0x42")]=null),x[_0x1dda("0xe9")][_][_0x1dda("0xe8")](),x.material[_]=null);x[_0x1dda("0xe9")].length=0}else x[_0x1dda("0xe9")][_0x1dda("0xe8")](),x.material=null}x=null}(d)}},{key:_0x1dda("0xf29"),value:function(){this.o3dScene_=new(THREE[_0x1dda("0x384")]),this.o3dScene_.name=_0x1dda("0x133"),this[_0x1dda("0x98a")]=new THREE.Object3D,this[_0x1dda("0x98a")][_0x1dda("0xfc")]=_0x1dda("0x98a"),this.o3dScene_[_0x1dda("0xce")](this[_0x1dda("0x98a")]),this.buildingScene_=new(THREE[_0x1dda("0x384")]),this[_0x1dda("0xa15")][_0x1dda("0xfc")]=_0x1dda("0xa3e"),this[_0x1dda("0x3c7")]=new(THREE[_0x1dda("0x384")]),this[_0x1dda("0x3c7")][_0x1dda("0xfc")]=_0x1dda("0xf2a"),this[_0x1dda("0xa58")]=new THREE.Object3D,this[_0x1dda("0xf2b")].add(this[_0x1dda("0xa58")]),this[_0x1dda("0xf2b")][_0x1dda("0xce")](this[_0x1dda("0x3c7")]),this[_0x1dda("0xf2b")][_0x1dda("0xce")](this.buildingScene_)}},{key:"calcInitCamera",value:function(){return esmap.ESMapSceneUtil.calcInitCamera(this[_0x1dda("0xa4f")])}},{key:"getO3dScene",value:function(){return this[_0x1dda("0xf2b")]}},{key:"getBuildingScene",value:function(){return this[_0x1dda("0xa15")]}},{key:_0x1dda("0xc6f"),value:function(){return this[_0x1dda("0x3c7")]}},{key:_0x1dda("0xf2c"),value:function(d,x){var a=this[_0x1dda("0x42")][_0x1dda("0x22d")],_=x[_0x1dda("0x39c")],e=x[_0x1dda("0xe5")][_0x1dda("0xf2d")];for(var t in _[_0x1dda("0x6c4")](),x[_0x1dda("0xe6")]){var i=x[_0x1dda("0xe6")][t],n=i[_0x1dda("0x153")][_0x1dda("0x2e6")]||!1;if(i[_0x1dda("0x2da")]&&!n){var r=this[_0x1dda("0x42")][_0x1dda("0xa63")](i),s=i.width_/2,o=i[_0x1dda("0xf00")]/2,c=i.center||{x:.5,y:0},l=r.y-o/2+(c.y-.5)*o,f=r.x-s/2+(.5-c.x)*s;e&&_.push(i,{x:f,y:l,w:s,h:o,size:s*o})?(i[_0x1dda("0x169")]=!a,i[_0x1dda("0x153")][_0x1dda("0x2e7")]=!1):(i[_0x1dda("0x169")]=!0,i.userData[_0x1dda("0x2e7")]=!0,i[_0x1dda("0xf06")](d))}}}},{key:"updateCollide",value:function(d){var x=this;if(this[_0x1dda("0x9ed")]){for(var a=this[_0x1dda("0xf2e")](),_=0;_<a[_0x1dda("0xe6")][_0x1dda("0x0")];_++){a[_0x1dda("0xe6")][_].children.forEach((function(a){if(a[_0x1dda("0x169")])for(var _=0;_<a.children[_0x1dda("0x0")];_++){var e=a.children[_],t=e[_0x1dda("0xe5")];t&&t.visible&&(t[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0x9a6")]||t._type_==esmap[_0x1dda("0x39a")][_0x1dda("0xb1b")]?x.collideLabel_(d,e):(t._type_==esmap[_0x1dda("0x39a")][_0x1dda("0x39b")]||t._type_==esmap[_0x1dda("0x39a")].IMAGE_MARKER)&&x[_0x1dda("0xf2c")](d,e))}}))}var e=this.getTileScene();for(_=0;_<e[_0x1dda("0xe6")][_0x1dda("0x0")];_++){e[_0x1dda("0xe6")][_][_0x1dda("0xe6")][_0x1dda("0xd1")]((function(a){(a[_0x1dda("0xe5")]&&a[_0x1dda("0xe5")][_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0x9a6")]||a.datas_&&a[_0x1dda("0xe5")][_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0x39b")])&&x[_0x1dda("0xf2c")](d,a)}))}var t=this[_0x1dda("0x9ed")][_0x1dda("0x180")];t&&t.children[_0x1dda("0xd1")]((function(a){var _=a.datas_;_&&_[_0x1dda("0x169")]&&(_[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0x9a6")]||_[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0xf2f")]||_[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0xb1b")]||_._type_==esmap[_0x1dda("0x39a")].MODEL_POI||_[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0xf2f")]||_[_0x1dda("0x608")]==esmap.ESLayerType[_0x1dda("0xf2f")])&&x[_0x1dda("0xf2c")](d,a)}))}}},{key:_0x1dda("0x32"),value:function(){var d=this[_0x1dda("0x42")];d[_0x1dda("0x19f")][_0x1dda("0xf7")].add(this.o3dScene_),d[r._ztl_][_0x1dda("0x4e4")](),d[_0x1dda("0x929")]=!0,d[_0x1dda("0x69d")]=0,d[_0x1dda("0x4d1")]=new(THREE[_0x1dda("0x182")])(new(THREE[_0x1dda("0x6c8")])(30707730.7171648,30707730.7171648,1,1),new(THREE[_0x1dda("0x2b5")])({color:6724044,visible:!1})),d[_0x1dda("0x4d1")][_0x1dda("0xfc")]=_0x1dda("0xb14"),d[_0x1dda("0x4d1")].datas_={nodeType:1,name:_0x1dda("0xf30"),o3d_:d[_0x1dda("0x4d1")]},this[_0x1dda("0xf2b")][_0x1dda("0xce")](d[_0x1dda("0x4d1")]),d[_0x1dda("0x4d1")][_0x1dda("0xfa")][_0x1dda("0xcd")](0,0,0),d.plane_.rotation.x=-Math.PI/2,d[_0x1dda("0xda")]("start"),d.on(_0x1dda("0x152"),d[_0x1dda("0xe82")],null,d.id)}},{key:_0x1dda("0xe96"),value:function(d){var x=this[_0x1dda("0x42")],a=x.options;x.controls.maxPolarAngle=Math.PI/2.2;var _=d[_0x1dda("0xa17")];this.userScene=d,this.updateScene({x:_[_0x1dda("0xbca")],y:_[_0x1dda("0xc96")]},{minX:_[_0x1dda("0x556")],minY:_[_0x1dda("0x558")],maxX:_[_0x1dda("0x559")],maxY:_[_0x1dda("0x55b")]}),this[_0x1dda("0xa4f")]=esmap[_0x1dda("0x5e8")][_0x1dda("0xbd0")](_),x.mapView[_0x1dda("0x122")]={x:_[_0x1dda("0xbca")],y:_[_0x1dda("0xc96")]};var e=a.perspective?0:1;x[_0x1dda("0x132")].clearTrans_=e;var t=d[_0x1dda("0xf31")];x.setBackgroundColor(t[_0x1dda("0x6d9")],e)}},{key:_0x1dda("0xf32"),value:function(d,x){var a=this[_0x1dda("0x42")];if(d.x>0?this[_0x1dda("0x2a8")]=-d.x:this.sceneX_=d.x,this[_0x1dda("0x2a9")]=d.y,this[_0x1dda("0xf24")]=x[_0x1dda("0x556")],this[_0x1dda("0xa7c")]=x[_0x1dda("0x559")],this[_0x1dda("0xa7d")]=x[_0x1dda("0x558")],this[_0x1dda("0xa7e")]=x.maxY,!a.options[_0x1dda("0xf33")]&&a[_0x1dda("0x35")][_0x1dda("0x122")]){var e=a[_0x1dda("0x19c")]({x:a[_0x1dda("0x35")][_0x1dda("0x122")].x,y:a[_0x1dda("0x35")].center.y});a.on(_0x1dda("0xaaf"),(function(){a.controls[_0x1dda("0x227")][_0x1dda("0xcd")](e.x,0,e.z),a[_0x1dda("0x226")][_0x1dda("0x152")]({forceTheta:Math.PI-a[_0x1dda("0x35")].defaultAngle*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")],forcePhi:a[_0x1dda("0x35")][_0x1dda("0xa56")]*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")]})}))}a[_0x1dda("0x19f")][_0x1dda("0x2ea")]=a[_0x1dda("0x35")][_0x1dda("0x2ea")],null!=a[_0x1dda("0x35")][_0x1dda("0x35b")]&&((0,_[_0x1dda("0xd")])(a[_0x1dda("0x35")][_0x1dda("0x35b")])==_0x1dda("0x1b")?(a.mapView.panLimitCenter=a[_0x1dda("0x35")][_0x1dda("0x35b")][_0x1dda("0x122")],a[_0x1dda("0x19f")][_0x1dda("0x35b")]=a[_0x1dda("0x35")][_0x1dda("0x35b")][_0x1dda("0x2a1")]):a[_0x1dda("0x19f")][_0x1dda("0x35b")]=a[_0x1dda("0x35")][_0x1dda("0x35b")]),a.options.viewMode!=a[_0x1dda("0x353")]&&(a[_0x1dda("0x353")]={mode:a[_0x1dda("0x35")][_0x1dda("0x353")],init:!0,time:0})}},{key:_0x1dda("0xf34"),value:function(d){if((0,n[_0x1dda("0x10a")])())return!0;var x=d[_0x1dda("0xf35")],a=d[_0x1dda("0xb53")],_=!1,e=d[r[_0x1dda("0xc9")]][_0x1dda("0x2a")](","),t=!1;return e[_0x1dda("0xd1")]((function(d){var e=x,i=d;if(d[_0x1dda("0x61")]("|")){var n=d[_0x1dda("0x2a")]("|");i=n[0],e=Math.min(e,1*n[1])}if(!(i[_0x1dda("0x0")]<3)&&a[_0x1dda("0xaf")](i)>-1){if(_=!0,(new Date)[_0x1dda("0x85")]()-1e6*e>0)return;t=!0}})),!!_&&!!t}},{key:"updateCityScene",value:function(d,x){if(this[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0xc1d")]){var a=this[_0x1dda("0xf34")](this[_0x1dda("0x42")].tileService._isrd);if(this[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0xc1d")]=null,!a)return}this.map[_0x1dda("0x35")][_0x1dda("0xf36")]&&this[_0x1dda("0x42")].mapTheme[_0x1dda("0xeb9")](this[_0x1dda("0x42")].mapTheme[_0x1dda("0xeb4")]),this.map[_0x1dda("0x226")].maxPolarAngle=Math.PI/2.5,this[_0x1dda("0x9ed")]=new esmap.ESBuilding(this[_0x1dda("0x42")].id,{undergroundOffset:0},this[_0x1dda("0x42")]),this.userScene[_0x1dda("0xfc")]="å®¤å¤",this[_0x1dda("0x9ed")][_0x1dda("0x1e3")]=esmap[_0x1dda("0xa3a")][_0x1dda("0xa3b")],this.userScene.visibleFloorNums=[1],this[_0x1dda("0x9ed")][_0x1dda("0x634")]=[1],this[_0x1dda("0x9ed")].toLoaded[1]={label:0,poi:0,floorBase:0,model:0,modelBase:0,model3D:0},this[_0x1dda("0x9ed")].yoffset=0,this[_0x1dda("0x9ed")][_0x1dda("0xf37")]=0,this.userScene[_0x1dda("0x122")]=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x122")];var _=new(esmap[_0x1dda("0x4f4")])(this,{name:"å®¤å¤",Elevation:0,Name_en:"Outdoor",Alias:"å®¤å¤",floornum:1});_[_0x1dda("0x180")][_0x1dda("0xf38")]={Elevation:0,floornum:1},this.userScene.o3dFloors_[1]=_[_0x1dda("0x180")];var e=new esmap.ESLayer(esmap[_0x1dda("0x39a")].MODEL3D);e[_0x1dda("0xfc")]=_0x1dda("0x9a2"),_.addLayer(e),this[_0x1dda("0x9ed")].o3d_[_0x1dda("0xce")](_[_0x1dda("0x180")]);var t=this[_0x1dda("0x9ed")];this[_0x1dda("0x42")].on("updateLts",(function(){t.map&&(t[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x34e")]?(t[_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x6b9")]&&(timer=setTimeout((function(){t[_0x1dda("0x22c")][_0x1dda("0x968")]=!1,t[_0x1dda("0x22c")][_0x1dda("0x297")]=!1,timer&&window.clearTimeout(timer)}),100)),t[_0x1dda("0x22c")][_0x1dda("0xcc7")](),t.modelLoadManager[_0x1dda("0xf39")](),t[_0x1dda("0x22c")][_0x1dda("0xccb")]()):(t[_0x1dda("0x22c")][_0x1dda("0xf39")](),t[_0x1dda("0x22c")].checkIfNeedLoad(t)))})),this[_0x1dda("0xa15")][_0x1dda("0xce")](this[_0x1dda("0x9ed")].o3d_),this[_0x1dda("0xf32")](x,{minX:d.minX,minY:d[_0x1dda("0x558")],maxX:d[_0x1dda("0x559")],maxY:d[_0x1dda("0x55b")]})}}]),d}();x.default=o},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(0)),e=i(a(1)),t=i(a(338));function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0xb5")]=new(t[_0x1dda("0xd")])(x),this[_0x1dda("0xf7")]=x,this[_0x1dda("0xf3a")]=this[_0x1dda("0xf7")][_0x1dda("0x42")].options[_0x1dda("0x953")]}return(0,e.default)(d,[{key:_0x1dda("0x395"),value:function(d,x,a,_){var e=this[_0x1dda("0xf7")],t=e.sceneX_,i=e.sceneZ_,n=e[_0x1dda("0x2a8")],r=e.sceneZ_;_||(t=(d[_0x1dda("0xf3b")][_0x1dda("0xec")]-d[_0x1dda("0xf3b")][_0x1dda("0xf0")])/2+d[_0x1dda("0xf3b")][_0x1dda("0xf0")],i=(d.floorEdge[_0x1dda("0xed")]-d[_0x1dda("0xf3b")].miny)/2+d.floorEdge[_0x1dda("0xf1")],n=a.sourceData[_0x1dda("0xbca")],r=a.sourceData[_0x1dda("0xc96")]);d[_0x1dda("0xf3c")];var s={lod:d[_0x1dda("0x2ad")],fnum:x,sceneX:n,sceneZ:r,isTile:_,floorCenX:-t,floorCenZ:i,minX:a[_0x1dda("0xa17")][_0x1dda("0x556")],minY:a[_0x1dda("0xa17")][_0x1dda("0x558")],maxX:a[_0x1dda("0xa17")][_0x1dda("0x559")],maxY:a.sourceData[_0x1dda("0x55b")],modelHeight:5,isMerge:e[_0x1dda("0x42")].options[_0x1dda("0x350")],editMode:e.map[_0x1dda("0x35")].editMode,showBase:e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x36a")],layers:d.modellayers,maptheme:e.map[_0x1dda("0x132")][_0x1dda("0xeb1")],tileStylesMap:e[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xed2")],layerType:1,messageType:1,isBim:a[_0x1dda("0x9f")]>100};this[_0x1dda("0xb5")][_0x1dda("0xf3d")](s,a)}},{key:_0x1dda("0xf3e"),value:function(d,x,a,_){var e=this.scene,t=e.sceneX_,i=e.sceneZ_,n=e[_0x1dda("0x2a8")],r=e[_0x1dda("0x2a9")];_||(t=(d[_0x1dda("0xf3b")].maxx-d[_0x1dda("0xf3b")][_0x1dda("0xf0")])/2+d[_0x1dda("0xf3b")][_0x1dda("0xf0")],i=(d[_0x1dda("0xf3b")][_0x1dda("0xed")]-d.floorEdge.miny)/2+d[_0x1dda("0xf3b")][_0x1dda("0xf1")],n=a[_0x1dda("0xa17")][_0x1dda("0xbca")],r=a[_0x1dda("0xa17")][_0x1dda("0xc96")]);var s={lod:d.lod,isTile:_,fnum:x,sceneX:n,sceneZ:r,floorCenX:-t,floorCenZ:i,minX:a[_0x1dda("0xa17")][_0x1dda("0x556")],minY:a[_0x1dda("0xa17")].minY,maxX:a[_0x1dda("0xa17")].maxX,maxY:a[_0x1dda("0xa17")].maxY,modelHeight:5,isMerge:e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x350")],editMode:e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")],showBase:e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x36a")],layers:d.modelbaselayer,maptheme:e[_0x1dda("0x42")].mapTheme[_0x1dda("0xeb1")],tileStylesMap:e[_0x1dda("0x42")].mapTheme[_0x1dda("0xed2")],layerType:0,messageType:1,isBim:a[_0x1dda("0x9f")]>100};this[_0x1dda("0xb5")][_0x1dda("0xf3d")](s,a)}},{key:"handleFloors",value:function(d,x,a,_,e){var t=this[_0x1dda("0xf7")],i=(d[_0x1dda("0xf3b")][_0x1dda("0xec")]-d[_0x1dda("0xf3b")][_0x1dda("0xf0")])/2+d[_0x1dda("0xf3b")][_0x1dda("0xf0")],n=(d[_0x1dda("0xf3b")][_0x1dda("0xed")]-d[_0x1dda("0xf3b")][_0x1dda("0xf1")])/2+d.floorEdge[_0x1dda("0xf1")],r=t[_0x1dda("0x2a8")],s=t[_0x1dda("0x2a9")];r=_[_0x1dda("0xa17")][_0x1dda("0xbca")],s=_[_0x1dda("0xa17")][_0x1dda("0xc96")];var o={editMode:t[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")],fnum:x,sceneX:r,sceneZ:s,floorCenX:-i,floorCenZ:n,minX:_[_0x1dda("0xa17")][_0x1dda("0x556")],minY:_.sourceData[_0x1dda("0x558")],maxX:_[_0x1dda("0xa17")][_0x1dda("0x559")],maxY:_[_0x1dda("0xa17")][_0x1dda("0x55b")],floorHeight:a,layers:d.floorBaseLayers,layerType:2,messageType:1};e||(o[_0x1dda("0x556")]=d[_0x1dda("0xf3b")].minx,o.minY=d[_0x1dda("0xf3b")].miny,o[_0x1dda("0x559")]=d.floorEdge.maxx,o[_0x1dda("0x55b")]=d[_0x1dda("0xf3b")][_0x1dda("0xed")]),this[_0x1dda("0xb5")][_0x1dda("0xf3d")](o,_)}}]),d}();x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d.__esModule?d:{default:d}}var i=window[_0x1dda("0x5b2")],n=function(){function d(x){(0,_.default)(this,d);var a=this;a[_0x1dda("0xf7")]=x,a[_0x1dda("0xf3f")]=[],a[_0x1dda("0xf40")]=[],a.workers={},a.workerStatus={},a.tsTank=[],a[_0x1dda("0xf41")]=0,a.receiveCount=0;var e=0,t=window.navigator.hardwareConcurrency;e=t?t-2<0?1:t-2:2;for(var n=function(d){i[_0x1dda("0xf42")](d,(function(_){a[_0x1dda("0xf43")][d]=_,a[_0x1dda("0xf44")][d]=!0,_.addEventListener(_0x1dda("0xf45"),(function(d){a[_0x1dda("0xf44")][d[_0x1dda("0x442")].id]=!0,a[_0x1dda("0xf46")]++;var _=null;if("log"!==d[_0x1dda("0x442")][_0x1dda("0xf45")])if(d[_0x1dda("0x442")][_0x1dda("0xf45")]==_0x1dda("0xf47")||d.data[_0x1dda("0xf45")]==_0x1dda("0xf48")){var e=d[_0x1dda("0x442")].bids||d.data[_0x1dda("0x442")][_0x1dda("0x624")];(_=x.map[_0x1dda("0x12b")](e))[_0x1dda("0x22c")].bimLoader[_0x1dda("0xf49")](d[_0x1dda("0x442")])}else if(d[_0x1dda("0x442")].isTile){if((_=x.map[_0x1dda("0x1e1")](d[_0x1dda("0x442")].bid))||(_=x[_0x1dda("0x42")].getTileFromCache(d[_0x1dda("0x442")][_0x1dda("0x12d")])),!_)return;_[_0x1dda("0x38d")][_0x1dda("0xf3a")](d[_0x1dda("0x442")],_)}else{if(!(_=x[_0x1dda("0x42")][_0x1dda("0x12b")](d.data.bid)))return;2==d[_0x1dda("0x442")][_0x1dda("0xcf3")]?_.meshLoader[_0x1dda("0xf4a")](d.data,_):_[_0x1dda("0x95e")][_0x1dda("0xf4b")](d[_0x1dda("0x442")],_)}}))}))},r=0;r<e;r++)n(r);a.scene[_0x1dda("0x42")].on(_0x1dda("0x93d"),(function(){a.checkTstank()}))}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0xf4c"),value:function(d){0!=this[_0x1dda("0xf4d")].length&&(this[_0x1dda("0xf4d")][0].id=d,this[_0x1dda("0xf44")][d]=!1,this[_0x1dda("0xf43")][d][_0x1dda("0xf4e")](this[_0x1dda("0xf4d")][0]),this.tsTank[_0x1dda("0x4")]())}},{key:"msg",value:function(d){var x=this[_0x1dda("0xf43")];for(var a in x)if(this[_0x1dda("0xf44")][a])return d.id=a,this[_0x1dda("0xf44")][a]=!1,void this[_0x1dda("0xf43")][a].postMessage(d);this[_0x1dda("0xf4d")].push(d)}},{key:_0x1dda("0xf4f"),value:function(){if(0!=this.tsTank.length){var d=this[_0x1dda("0xf43")];for(var x in d)if(this[_0x1dda("0xf44")][x]){var a=this[_0x1dda("0xf4d")][0];a.id=x,this[_0x1dda("0xf44")][x]=!1,this[_0x1dda("0xf4d")][_0x1dda("0x4")]();try{this.workers[x][_0x1dda("0xf4e")](a)}catch(d){console[_0x1dda("0x1eb")](d)}return a=null,void this[_0x1dda("0xf41")]++}}}},{key:"addTask",value:function(d,x){var a=x.id;d.bid=a;var _=this[_0x1dda("0xf43")];for(var e in _)if(this[_0x1dda("0xf44")][e])return d.id=e,this[_0x1dda("0xf44")][e]=!1,this[_0x1dda("0xf43")][e][_0x1dda("0xf4e")](d),this[_0x1dda("0xf41")]++,void(d=null);this[_0x1dda("0xf4d")].push(d)}},{key:_0x1dda("0x6c4"),value:function(d){}},{key:_0x1dda("0xf50"),value:function(){}}]),d}();x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));a(4);function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=function(){function d(){(0,_[_0x1dda("0xd")])(this,d)}return(0,e[_0x1dda("0xd")])(d,null,[{key:_0x1dda("0xbd0"),value:function(d){var x=Number.POSITIVE_INFINITY,a=Number[_0x1dda("0xf51")],_=d[_0x1dda("0xa50")];for(var e in _){var t=_[e][_0x1dda("0xa51")];x=Math.min(x,t),a=Math.max(a,t)}return new(THREE[_0x1dda("0x2c8")])(new THREE.Vector3(d[_0x1dda("0x556")],x,d.minY),new THREE.Vector3(d[_0x1dda("0x559")],a,d[_0x1dda("0x55b")]))}},{key:"calcInitCamera",value:function(d){var x=d.center(),a=d[_0x1dda("0xd2")]();return{target:new(THREE[_0x1dda("0x11c")])(0,x.y,0),position:new(THREE[_0x1dda("0x11c")])(1*a.x,x.y+.75*a.x,1*-a.x)}}},{key:_0x1dda("0x657"),value:function(d,x,a,_,e){if(d[_0x1dda("0x0")]>=3){var t=Math.PI/20,i=Math.PI-t,n=a||1,r=null==x?8:x;if(0==r)return d;var s=1/r;d[_0x1dda("0x10")](d[d[_0x1dda("0x0")]-1]);for(var o=[],c=0;c<d.length-2;){var l=d[c][_0x1dda("0x116")](),f=d[c+1][_0x1dda("0x116")](),u=d[c+2][_0x1dda("0x116")](),h=l[_0x1dda("0x116")]()[_0x1dda("0x4cf")](f),g=u[_0x1dda("0x116")]()[_0x1dda("0x4cf")](f),b=h[_0x1dda("0x2d0")](g),v=h[_0x1dda("0x0")](),p=g[_0x1dda("0x0")]();l[_0x1dda("0x123")]=d[c][_0x1dda("0x123")],f[_0x1dda("0x123")]=d[c+1][_0x1dda("0x123")],u[_0x1dda("0x123")]=d[c+2].fnum,l[_0x1dda("0x12d")]=d[c][_0x1dda("0x12d")],f.bid=d[c+1][_0x1dda("0x12d")],u[_0x1dda("0x12d")]=d[c+2][_0x1dda("0x12d")];var m=f.y==u.y&&u.y==l.y,A=!_||m;if(o[_0x1dda("0x10")](l),b>t&&b<i&&v>n&&p>n&&A){var C=f.clone().lerp(l,n/v),I=f[_0x1dda("0x116")]()[_0x1dda("0xb7d")](u,n/p);C.fnum=f[_0x1dda("0x123")],C[_0x1dda("0x12d")]=f.bid,o[_0x1dda("0x10")](C);for(var y=s;y<.999999;y+=s){var E=y,w=C[_0x1dda("0x116")]()[_0x1dda("0xb7d")](f,E),T=f[_0x1dda("0x116")]()[_0x1dda("0xb7d")](I,E),k=w.lerp(T,E);k[_0x1dda("0x123")]=C[_0x1dda("0x123")],k[_0x1dda("0x12d")]=C[_0x1dda("0x12d")],o[_0x1dda("0x10")](k)}d[c+1]=I,I[_0x1dda("0x123")]=u.fnum,I[_0x1dda("0x12d")]=u.bid,c++}else c++;c==d[_0x1dda("0x0")]-2&&o[_0x1dda("0x10")](u)}return d[_0x1dda("0xd5")](),o}return d}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=function(){function d(x,a,e){(0,_[_0x1dda("0xd")])(this,d),this.x=x,this.y=a,this.z=e}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0xf52"),value:function(d){this.x=d.x,this.y=d.y}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=function(){function d(x,a){(0,_.default)(this,d),this[_0x1dda("0xf53")]=x,this.controls_=a,this.enableMapPan_=!0,this[_0x1dda("0xf54")]=!0,this.enableMapIncline_=!0,this[_0x1dda("0xf55")]=!0,this.enableMapSingleTap_=!0,this[_0x1dda("0xf56")]=!0}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x220"),get:function(){return this[_0x1dda("0xf57")]},set:function(d){d!=this[_0x1dda("0xf57")]&&(this[_0x1dda("0xf57")]=d,this[_0x1dda("0xf58")].enablePan=d)}},{key:_0x1dda("0xf59"),get:function(){return this[_0x1dda("0xf54")]},set:function(d){d!=this.enableMapRotate_&&(this.enableMapRotate_=d,this[_0x1dda("0xf58")][_0x1dda("0xf5a")]=d,this[_0x1dda("0xf58")][_0x1dda("0xb68")]=d)}},{key:_0x1dda("0xb2f"),get:function(){return this[_0x1dda("0xf56")]},set:function(d){d!=this[_0x1dda("0xf56")]&&(this.enableCompassTap_=d)}},{key:_0x1dda("0xf5b"),get:function(){return this.enableMapIncline_},set:function(d){d!=this[_0x1dda("0xf5c")]&&(this[_0x1dda("0xf5c")]=d,this[_0x1dda("0xf58")][_0x1dda("0xb6a")]=d)}},{key:_0x1dda("0xf5d"),get:function(){return this[_0x1dda("0xf5c")]},set:function(d){d!=this[_0x1dda("0xf5c")]&&(this.enableMapIncline_=d,this[_0x1dda("0xf58")][_0x1dda("0xb6a")]=d)}},{key:_0x1dda("0xf5e"),get:function(){return this[_0x1dda("0xf55")]},set:function(d){d!=this[_0x1dda("0xf55")]&&(this.enableMapPinch_=d,this.controls_[_0x1dda("0xb66")]=d)}},{key:"enableMapSingleTap",get:function(){return this[_0x1dda("0xf5f")]},set:function(d){d!=this[_0x1dda("0xf5f")]&&(this[_0x1dda("0xf5f")]=d,this[_0x1dda("0xf53")][_0x1dda("0x6b9")]=d)}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=i(a(0)),e=i(a(1)),t=a(146);function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x){(0,_.default)(this,d),this[_0x1dda("0x42")]=x,this[_0x1dda("0x11b")]=null,this[_0x1dda("0x32")]()}return(0,e.default)(d,[{key:_0x1dda("0x32"),value:function(){var d=this,x=this.map[_0x1dda("0x19f")][_0x1dda("0x925")],a=document[_0x1dda("0x20")]("canvas"),_=a[_0x1dda("0x2fb")]("2d"),e=new Image;e[_0x1dda("0x4e5")]=t[_0x1dda("0x4e6")],e[_0x1dda("0xb56")]=function(){var t=Math[_0x1dda("0x2be")](e.width,e[_0x1dda("0x18b")]);a.width=3*t,a[_0x1dda("0x18b")]=3*t,_.translate(t/2,t/2),_[_0x1dda("0xd1f")](-30*Math.PI/180),_[_0x1dda("0xf60")](-t/2,0),_.drawImage(e,0,0);var i=new(THREE[_0x1dda("0x329")])(a);i[_0x1dda("0x840")]=THREE[_0x1dda("0x176")],i.wrapT=THREE[_0x1dda("0x176")];i[_0x1dda("0x147")].x=30,i[_0x1dda("0x147")].y=30,i[_0x1dda("0x172")]=!0;var n=new(THREE[_0x1dda("0x2b5")])({map:i,transparent:!0,opacity:.05,side:THREE[_0x1dda("0x14a")]}),r=new(THREE[_0x1dda("0x6c8")])(1,1,1,1),s=new(THREE[_0x1dda("0x182")])(r,n);s[_0x1dda("0xfa")][_0x1dda("0xcd")](0,0,0),s[_0x1dda("0x1d7")].set(1e4,1e4,1),x[_0x1dda("0xce")](s),d.plane=s}}},{key:"dispose",value:function(){this[_0x1dda("0x11b")]&&this.plane[_0x1dda("0xfe")]&&(this[_0x1dda("0x11b")][_0x1dda("0x169")]=!1,this[_0x1dda("0x11b")][_0x1dda("0xe7")][_0x1dda("0xe8")](),this.plane[_0x1dda("0xe9")][_0x1dda("0xe8")](),this.plane[_0x1dda("0xfe")].remove(this[_0x1dda("0x11b")]))}}]),d}();x.default=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=n(a(5)),e=n(a(0)),t=n(a(10)),i=n(a(11));function n(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var r=function(d){function x(d){(0,e.default)(this,x);var a=(d=d||{})[_0x1dda("0x442")],i=(0,t.default)(this,(x[_0x1dda("0x11e")]||(0,_[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this,esmap[_0x1dda("0x126")][_0x1dda("0xf61")],a,d.o3d||new(THREE[_0x1dda("0x384")]),d[_0x1dda("0xf7")]||esmap.ESMap[_0x1dda("0x34")].mapScene));return i.params=d,a&&null!=a[_0x1dda("0x4d5")]&&(i[_0x1dda("0x4d5")]=d[_0x1dda("0x442")][_0x1dda("0x4d5")]),i[_0x1dda("0x608")]=d.type||esmap.ESElement.NONE,i}return(0,i.default)(x,d),x}(esmap[_0x1dda("0x2f7")]);x.default=r},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=n(a(5)),e=n(a(0)),t=n(a(10)),i=n(a(11));function n(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var r=function(d){function x(d){(0,e[_0x1dda("0xd")])(this,x);var a=(0,t[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,_.default)(x))[_0x1dda("0x3")](this,esmap.ESNodeType[_0x1dda("0x647")],d));a.ID=d[_0x1dda("0x620")],a[_0x1dda("0xfc")]=d.name,a.typeID=d.Typeid,a.showLevel=d.ShowLevel,a[_0x1dda("0x2cf")]=d.Height;var i=d[_0x1dda("0x4a")],n=_0x1dda("0x314"),r=1;d.w&&d.h?n={w:d.w,h:d.h}:d.w&&!d.h&&(r=d.w);var s={padding:0,size:n,scale:r};return a[_0x1dda("0x180")][_0x1dda("0x32")]({image:i,imageStyle:s}),a[_0x1dda("0x160")]=esmap.ESRenderOrder[_0x1dda("0x5bd")],a}return(0,i.default)(x,d),x}(n(a(79)).default);x[_0x1dda("0xd")]=r},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=h(a(12)),e=h(a(7)),t=h(a(8)),i=h(a(5)),n=h(a(0)),r=h(a(1)),s=h(a(10)),o=h(a(11)),c=a(81),l=a(4),f=h(a(346)),u=a(18);function h(d){return d&&d.__esModule?d:{default:d}}var g=function(d){function x(){(0,n[_0x1dda("0xd")])(this,x);var d=(0,s[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,i[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this));return d[_0x1dda("0x2da")]=!0,d[_0x1dda("0x2de")]=1,d.height_=1,d.scaleRatio=1,d[_0x1dda("0x23b")]=!0,d.normalMaterial=null,d[_0x1dda("0xf62")]=!1,d[_0x1dda("0xf63")]=null,d.fixedSizeUpdated=!1,d[_0x1dda("0xf64")]=!1,d}var a,h,g,b;return(0,o[_0x1dda("0xd")])(x,d),(0,r[_0x1dda("0xd")])(x,[{key:_0x1dda("0x32"),value:(b=(0,t[_0x1dda("0xd")])(e.default[_0x1dda("0x2b7")]((function d(x){var a,_,t,i,n,r,s,o=this;return e[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return this[_0x1dda("0x8fa")]&&this.disposeCtx(),this[_0x1dda("0xf65")]=x,d[_0x1dda("0x24c")]=4,(0,c[_0x1dda("0x173")])(x);case 4:return a=d[_0x1dda("0x2ff")],_=a[_0x1dda("0x5df")],t=a.ctx,i=a[_0x1dda("0x2fa")],n=a.width,r=a.height,this[_0x1dda("0x8fa")]=t,this[_0x1dda("0x2fa")]=i,this[_0x1dda("0x122")].x=.5,this[_0x1dda("0x122")].y=0,this.width_=n,this[_0x1dda("0xf00")]=r,s=new(THREE[_0x1dda("0x23e")])({map:_,opacity:this[_0x1dda("0xf62")]?0:1}),this.material=s,this._firstInited||(this[_0x1dda("0xf64")]=!0),this[_0x1dda("0xf62")]&&setTimeout((function(){o.fadeIn()}),0),this[_0x1dda("0x153")][_0x1dda("0x15a")]&&(this[_0x1dda("0x15a")]=!0),d.abrupt(_0x1dda("0x24f"),_);case 22:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return b[_0x1dda("0x5")](this,arguments)})},{key:"fadeIn",value:function(){new(esmap.TWEEN[_0x1dda("0x18e")])(this.material).to({opacity:1},500)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x2f3")]).start()}},{key:_0x1dda("0x2d2"),value:(g=(0,t[_0x1dda("0xd")])(e[_0x1dda("0xd")].mark((function d(x){return e.default.wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return this[_0x1dda("0xf65")][_0x1dda("0x2df")]=x,d[_0x1dda("0x24c")]=3,this.init(this[_0x1dda("0xf65")]);case 3:case _0x1dda("0x267"):return d.stop()}}),d,this)}))),function(d){return g[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x2d7"),value:function(d){var x=this[_0x1dda("0xf65")][_0x1dda("0x2f8")];(0,l[_0x1dda("0xec8")])(x,d),this[_0x1dda("0x32")](this._configs)}},{key:_0x1dda("0x2d8"),value:function(d){var x=this[_0x1dda("0xf65")][_0x1dda("0x2f9")];(0,l[_0x1dda("0xec8")])(x,d),this.init(this[_0x1dda("0xf65")])}},{key:_0x1dda("0x239"),value:(h=(0,t[_0x1dda("0xd")])(e[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,t,i,n,r,s,o,c,l,h=this;return e[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return a=_0x1dda("0x119"),t=1,i=x[_0x1dda("0x1d7")]||1,x&&"object"==(typeof x===_0x1dda("0x8")?"undefined":(0,_.default)(x))&&(a=x[_0x1dda("0x138")]||_0x1dda("0x119"),t=x[_0x1dda("0x11d")]||1),d[_0x1dda("0x24c")]=5,this[_0x1dda("0x235")]();case 5:return this[_0x1dda("0xf65")][_0x1dda("0x31e")]=.5*i,this[_0x1dda("0xf65")][_0x1dda("0x31d")]=!0,d[_0x1dda("0x24c")]=9,this[_0x1dda("0x32")](this._configs);case 9:n=d[_0x1dda("0x2ff")],this[_0x1dda("0x122")].y=.25,r=this[_0x1dda("0x42")],s=_0x1dda("0xf66"),o=(new(THREE[_0x1dda("0x23d")])).load(s),c=(0,u[_0x1dda("0x1a")])(8),this[_0x1dda("0xf63")]=c,(l=new(f[_0x1dda("0xd")])({texture:n,aoTexture:o,colorStr:a})).material[_0x1dda("0x138")]=(new(THREE[_0x1dda("0x139")]))[_0x1dda("0x23f")](a),l[_0x1dda("0xe9")][_0x1dda("0x11d")]=t,this[_0x1dda("0xf67")]=l,this[_0x1dda("0xe9")]=l[_0x1dda("0xe9")],this[_0x1dda("0xe9")][_0x1dda("0x172")]=!0,r.on("update",(function(d){h[_0x1dda("0xf67")].render(d)}),null,c);case 23:case"end":return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return h[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xf68"),value:function(d,x){var a=new(THREE[_0x1dda("0x6c8")])(d,d),_=new(THREE[_0x1dda("0x182")])(a,x);return _[_0x1dda("0x3d9")].x=.5*-Math.PI,_}},{key:_0x1dda("0x235"),value:(a=(0,t.default)(e.default.mark((function d(){return e[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return this[_0x1dda("0xf65")][_0x1dda("0x31d")]=!1,this._configs[_0x1dda("0x31e")]=0,d[_0x1dda("0x24c")]=4,this[_0x1dda("0x32")](this[_0x1dda("0xf65")]);case 4:this[_0x1dda("0x42")][_0x1dda("0x33e")](this.updateEventId);case 5:case _0x1dda("0x267"):return d.stop()}}),d,this)}))),function(){return a[_0x1dda("0x5")](this,arguments)})},{key:"updateScreenSize",value:function(){this[_0x1dda("0x23b")]?esmap[_0x1dda("0x237")][_0x1dda("0xf06")][_0x1dda("0x3")](this):!this[_0x1dda("0xf69")]&&this._firstInited&&(this[_0x1dda("0x1d7")].x=this[_0x1dda("0x2dd")]*this[_0x1dda("0x2de")]/20,this[_0x1dda("0x1d7")].y=this[_0x1dda("0x2dd")]*this[_0x1dda("0xf00")]/20,this.fixedSizeUpdated=!0)}},{key:_0x1dda("0x2d3"),value:function(d){esmap.MapObjectUtils[_0x1dda("0x2d3")].call(this,d)}},{key:_0x1dda("0x211"),value:function(d){esmap[_0x1dda("0x237")][_0x1dda("0x211")][_0x1dda("0x3")](this,d)}},{key:_0x1dda("0x238"),value:function(){esmap[_0x1dda("0x237")][_0x1dda("0x238")][_0x1dda("0x3")](this)}},{key:"stopJump",value:function(){esmap[_0x1dda("0x237")][_0x1dda("0x212")].call(this)}},{key:_0x1dda("0x217"),value:function(d){var x=this,a=(0,l[_0x1dda("0xf6a")])(d,_0x1dda("0xd8"),{time:1}),_=a[_0x1dda("0xd8")],e=a[_0x1dda("0x233")];new esmap.TWEEN.Tween(this).to({scaleRatio:_},1e3*e)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x2f3")]).onUpdate((function(){x.fixedSize||(x[_0x1dda("0x1d7")].x=x.scaleRatio*x[_0x1dda("0x2de")]/20,x[_0x1dda("0x1d7")].y=x.scaleRatio*x[_0x1dda("0xf00")]/20)}))[_0x1dda("0x21c")]()}},{key:_0x1dda("0x2d4"),value:function(d){var x=this[_0x1dda("0x2de")],a=this[_0x1dda("0xf00")];if(this[_0x1dda("0xf6b")]||(this._os={width:this[_0x1dda("0x2de")],height:this[_0x1dda("0xf00")]}),d){var _=.3;if(d instanceof Object?(x=d.width,a=d[_0x1dda("0x18b")],_=d[_0x1dda("0x2")](_0x1dda("0x233"))?d[_0x1dda("0x233")]:_):(x=d,a=d),!this[_0x1dda("0x23b")])return this[_0x1dda("0x2de")]=x,this[_0x1dda("0xf00")]=a,this[_0x1dda("0x1d7")].x=this.scaleRatio*x/20,void(this[_0x1dda("0x1d7")].y=this.scaleRatio*a/20);this[_0x1dda("0xf6c")]&&this[_0x1dda("0xf6c")].stop();var e=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(this).to({width_:x,height_:a},1e3*_)[_0x1dda("0x18f")](esmap.TWEEN.Easing[_0x1dda("0x191")][_0x1dda("0x2f3")])[_0x1dda("0x192")]((function(){})).start();this[_0x1dda("0xf6c")]=e}else this[_0x1dda("0x2d4")](this[_0x1dda("0xf6b")])}},{key:_0x1dda("0x2d5"),value:function(d){if(this[_0x1dda("0xf6d")]||(this[_0x1dda("0xf6d")]=this[_0x1dda("0xe9")][_0x1dda("0x138")]),d){var x=(new(THREE[_0x1dda("0x139")])).setStyle(d);this[_0x1dda("0xe9")][_0x1dda("0x138")]=x}else this[_0x1dda("0xe9")][_0x1dda("0x138")]=this[_0x1dda("0xf6d")]}},{key:_0x1dda("0xe8"),value:function(){this[_0x1dda("0xf6e")](),this[_0x1dda("0xfe")]&&this[_0x1dda("0xfe")][_0x1dda("0x181")](this),this[_0x1dda("0x42")].mapPicker.clearByUUID(this[_0x1dda("0x2c4")])}},{key:_0x1dda("0xf6e"),value:function(){this[_0x1dda("0xe9")]&&(this[_0x1dda("0xe9")][_0x1dda("0x42")]&&this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0xe8")](),this.material[_0x1dda("0xe8")]()),this[_0x1dda("0x2fa")]&&this.ctx&&this[_0x1dda("0x8fa")][_0x1dda("0x918")](0,0,this.canvas[_0x1dda("0x1a5")],this.canvas.height)}},{key:_0x1dda("0x2d9"),value:function(){var d=this;this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x840")]=this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x841")]=THREE[_0x1dda("0x176")],this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x172")]=!0,this.map.on(_0x1dda("0x152"),(function(){d[_0x1dda("0xe9")].map[_0x1dda("0x16d")].x-=.001}))}},{key:_0x1dda("0x15a"),set:function(d){d?(this[_0x1dda("0x160")]=100,this.material[_0x1dda("0x15b")]=!1):(this[_0x1dda("0x160")]=this[_0x1dda("0x153")].renderOrder,this.material.depthTest=!0),this[_0x1dda("0x153")][_0x1dda("0x15a")]=d},get:function(){return this[_0x1dda("0x153")][_0x1dda("0x15a")]}},{key:_0x1dda("0x2e0"),set:function(d){this[_0x1dda("0xf65")][_0x1dda("0x2e0")]=d,this[_0x1dda("0x32")](this[_0x1dda("0xf65")])},get:function(){return this[_0x1dda("0xf65")][_0x1dda("0x2e0")]}},{key:_0x1dda("0x2df"),set:function(d){this[_0x1dda("0xf65")][_0x1dda("0x2df")]=d,this[_0x1dda("0x32")](this[_0x1dda("0xf65")])},get:function(){return this[_0x1dda("0xf65")].image}},{key:_0x1dda("0x42"),get:function(){return esmap[_0x1dda("0x33")][_0x1dda("0x34")]}}]),x}(THREE[_0x1dda("0x2e4")]);x[_0x1dda("0xd")]=g},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d.__esModule?d:{default:d}}var i=function(){function d(x){var a=x.texture,e=x[_0x1dda("0xf6f")],t=x[_0x1dda("0x422")],i=x[_0x1dda("0xf70")],n=void 0!==i&&i;(0,_[_0x1dda("0xd")])(this,d),this.color=(new THREE.Color)[_0x1dda("0x23f")](t),this[_0x1dda("0xe9")]=null,this[_0x1dda("0x437")]=null,this[_0x1dda("0x422")]=t,this[_0x1dda("0xf70")]=n,this[_0x1dda("0xfb")]=0,this.createMaterial(a,e)}return(0,e.default)(d,[{key:_0x1dda("0x426"),value:function(d,x){var a=this;return this[_0x1dda("0xe9")]=new(THREE[_0x1dda("0x23e")])({color:16777215,transparent:!0}),this[_0x1dda("0xe9")][_0x1dda("0x13a")]=function(_){_[_0x1dda("0x171")].iTime={value:0},_[_0x1dda("0x171")][_0x1dda("0xf71")]={value:a[_0x1dda("0x138")]},_[_0x1dda("0x171")][_0x1dda("0xf6f")]={value:x},_[_0x1dda("0x171")].texture1={value:d},_[_0x1dda("0x171")][_0x1dda("0xf72")]={value:a[_0x1dda("0xf70")]},_[_0x1dda("0x13e")]=_[_0x1dda("0x13e")][_0x1dda("0x13f")](_0x1dda("0x432"),_0x1dda("0xf73")),_[_0x1dda("0x13e")]=_[_0x1dda("0x13e")][_0x1dda("0x13f")](_0x1dda("0xf74"),"\n                gl_Position = projectionMatrix * mvPosition;\n\n                nvUv = uv;\n                "),_.fragmentShader=_.fragmentShader[_0x1dda("0x13f")](_0x1dda("0x143"),"\n                uniform float opacity;\n                uniform float iTime;\n                uniform bool isog;\n                uniform vec3 activeColor;\n                uniform sampler2D texture1;\n                uniform sampler2D aoTexture;\n                varying vec2 nvUv;\n                "),_[_0x1dda("0x142")]=_[_0x1dda("0x142")][_0x1dda("0x13f")]("gl_FragColor = vec4( outgoingLight, diffuseColor.a );",_0x1dda("0xf75")),a[_0x1dda("0x437")]=_},this[_0x1dda("0xe9")]}},{key:_0x1dda("0xf76"),value:function(d){var x=d[_0x1dda("0xfa")],a=d[_0x1dda("0xd2")],_=new(THREE[_0x1dda("0x2e4")])(this[_0x1dda("0xe9")]);return this.material.sizeAttenuation=!1,_[_0x1dda("0x1d7")][_0x1dda("0xcd")](a,a,a),_[_0x1dda("0xfa")][_0x1dda("0xcd")](x.x,x.y,x.z),_}},{key:_0x1dda("0x6ca"),value:function(d){this[_0x1dda("0x437")]&&(this.count+=d,this.shader.uniforms[_0x1dda("0xf77")][_0x1dda("0xd8")]=this.count)}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=o(a(5)),e=o(a(0)),t=o(a(1)),i=o(a(10)),n=o(a(11)),r=o(a(79)),s=a(4);function o(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var c=function(d){function x(d,a){(0,e[_0x1dda("0xd")])(this,x);var t=(0,i[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,_[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this,esmap[_0x1dda("0x126")][_0x1dda("0xe94")],d));t.ID=d[_0x1dda("0x620")],t[_0x1dda("0xfc")]=d[_0x1dda("0xfc")],t[_0x1dda("0x4d5")]=d[_0x1dda("0x3af")],t[_0x1dda("0x1cd")]=d[_0x1dda("0x3a5")],t[_0x1dda("0x2cf")]=d[_0x1dda("0x2cf")];var n=d[_0x1dda("0xfc")],r=d[_0x1dda("0xd9b")]||_0x1dda("0x325"),o=d[_0x1dda("0xf78")]||1,c={fontSize:12,fillStyle:_0x1dda("0x119"),strokeWidth:1,strokeStyle:_0x1dda("0xf79"),shadowBlur:3,shadowColor:_0x1dda("0xea8"),shadowOffsetX:0,shadowOffsetY:0,textBaseline:_0x1dda("0x2fc"),padding:2,imageShadowBlur:5};(0,s[_0x1dda("0xec8")])(c,a);var l=t[_0x1dda("0x42")].options[_0x1dda("0xa4")]?"-"+String(t[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xa4")]):"",f="",u=d.image;u&&(f=d[_0x1dda("0xf7a")]?t[_0x1dda("0x42")].options[_0x1dda("0x44")]+t[_0x1dda("0x42")][_0x1dda("0xa90")]+"/buildingImagelabel"+l+"/"+u:d[_0x1dda("0x12d")]?t[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x44")]+t[_0x1dda("0x42")][_0x1dda("0xa90")]+(_0x1dda("0x98")+d[_0x1dda("0x12d")]+"/imagelabel")+l+"/"+u:t[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x44")]+t.map[_0x1dda("0xa90")]+(_0x1dda("0xf7b")+l+"/")+u);var h=_0x1dda("0x314");d.w&&d.h&&(h={w:d.w,h:d.h});var g={align:r,padding:o,size:h,scale:1,shadowBlur:Number(c.imageShadowBlur)};return t[_0x1dda("0x180")][_0x1dda("0x32")]({text:n,textStyle:c,image:f,imageStyle:g}),t[_0x1dda("0x160")]=esmap[_0x1dda("0x161")].label,t}return(0,n.default)(x,d),(0,t[_0x1dda("0xd")])(x,[{key:_0x1dda("0x42"),get:function(){return esmap[_0x1dda("0x33")].instance}}]),x}(r.default);x.default=c},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=c(a(2)),e=c(a(5)),t=c(a(0)),i=c(a(1)),n=c(a(10)),r=c(a(11)),s=a(4),o=c(a(349));function c(d){return d&&d.__esModule?d:{default:d}}var l=function(d){function x(d){var a;(0,t[_0x1dda("0xd")])(this,x);var _=new(o[_0x1dda("0xd")]);return _[_0x1dda("0xfc")]=_0x1dda("0xfd"),a=(0,n[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,e[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this,esmap[_0x1dda("0x126")][_0x1dda("0xf7c")],{},_)),a.alwaysShow=esmap.MapObjectUtils[_0x1dda("0x2d6")],a[_0x1dda("0x180")].forceVisible_=a.o3d_[_0x1dda("0x169")],a.opts_=d,a.fnum=1,a[_0x1dda("0x32")](),a}return(0,r[_0x1dda("0xd")])(x,d),(0,i[_0x1dda("0xd")])(x,[{key:_0x1dda("0x32"),value:function(){var d=this.map;this.x_=(0,s[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],"x",d[_0x1dda("0x122")].x),this.y_=(0,s[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],"y",d[_0x1dda("0x122")].y);var x=(0,s[_0x1dda("0x12")])(this.opts_,_0x1dda("0x4a"),"../image/user.png");this.name=(0,s.getValue)(this.opts_,_0x1dda("0xfc"),""),this.ID=(0,s.getValue)(this.opts_,"id",1),this.size_=(0,s.getValue)(this[_0x1dda("0x4f1")],_0x1dda("0xd2"),_0x1dda("0x314")),this[_0x1dda("0xf12")]=(0,s[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0xf7d"),!0),this[_0x1dda("0xf7e")]=(0,s.getValue)(this[_0x1dda("0x4f1")],_0x1dda("0xf7f"),!1),this[_0x1dda("0xf80")]=(0,s[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0x158"),!1),this[_0x1dda("0xf81")]=(0,s.getValue)(this[_0x1dda("0x4f1")],"arrowSize",this[_0x1dda("0xf82")]/2),this.arrowColor_=(0,s[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0xf83"),_0x1dda("0xf84")),this[_0x1dda("0xf85")]=(0,s[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0xf86"),.65),this[_0x1dda("0xf87")]=(0,s[_0x1dda("0x12")])(this.opts_,_0x1dda("0x15a"),!0),this[_0x1dda("0xf88")]=(0,s[_0x1dda("0x12")])(this.opts_,_0x1dda("0x30f"),!1);var a=this,_=(0,s[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],"scale",1);this[_0x1dda("0x180")][_0x1dda("0x32")]({scale:_,size:this[_0x1dda("0xf82")],arrow:this.arrow_,arrowSize:this[_0x1dda("0xf81")],arrowColor:this[_0x1dda("0xf89")],fixedAngle:this[_0x1dda("0xf7e")],arrowOffset:this[_0x1dda("0xf85")],clip:this.clip_,seeThrough:this[_0x1dda("0xf87")]},x,(function(d){a.mapLoaded=!0,d[_0x1dda("0x133")].material&&(d[_0x1dda("0x133")][_0x1dda("0xe9")][_0x1dda("0x169")]=!0),a.seeThrough_&&(d[_0x1dda("0x133")][_0x1dda("0xe9")][_0x1dda("0x15b")]=!1),a[_0x1dda("0x4f1")][_0x1dda("0xb9f")]&&(a[_0x1dda("0xb9f")]=a[_0x1dda("0x4f1")][_0x1dda("0xb9f")]),a.opts_[_0x1dda("0x195")]&&a[_0x1dda("0x4f1")][_0x1dda("0x195")](a)})),this[_0x1dda("0x180")].up.multiplyScalar(-1),this._update_=this[_0x1dda("0xf8a")][_0x1dda("0x4e")](this),d.on(_0x1dda("0x152"),this._update_)}},{key:_0x1dda("0x2d4"),value:function(d){var x=this,a=x[_0x1dda("0x180")].width_,_=x[_0x1dda("0x180")].height_,e=.3;d instanceof Object?(a=d[_0x1dda("0x1a5")],_=d[_0x1dda("0x18b")],e=d[_0x1dda("0x2")](_0x1dda("0x233"))?d[_0x1dda("0x233")]:e):(a=d,_=d),x.setSizeAnimId&&x[_0x1dda("0xf6c")][_0x1dda("0x18d")]();var t=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(x[_0x1dda("0x180")]).to({width_:a,height_:_},1e3*e)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")].Easing[_0x1dda("0x191")][_0x1dda("0x2f3")])[_0x1dda("0x192")]((function(){}))[_0x1dda("0x21c")]();x[_0x1dda("0xf6c")]=t}},{key:_0x1dda("0xf8b"),value:function(){this.circle&&(this[_0x1dda("0x14d")][_0x1dda("0x169")]=!1)}},{key:"showBound",value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};d=(0,_[_0x1dda("0xd")])({color:_0x1dda("0xf8c"),linewidth:0,radius:10,opacity:.5},d);var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")];if(this[_0x1dda("0x14d")]){if(this[_0x1dda("0x14d")][_0x1dda("0x169")]||(this[_0x1dda("0x14d")][_0x1dda("0x169")]=!0),this[_0x1dda("0x14d")][_0x1dda("0xe5")][_0x1dda("0x121")][_0x1dda("0x645")]==d[_0x1dda("0x645")])return;var a=d[_0x1dda("0x645")]/this.circle[_0x1dda("0xe5")][_0x1dda("0xf8d")];return this.circle.scale[_0x1dda("0xcd")](a,a,1),void(this[_0x1dda("0x14d")][_0x1dda("0xe5")][_0x1dda("0x121")][_0x1dda("0x645")]=d[_0x1dda("0x645")])}var e=new esmap.ESPolygonMarker({bid:0,alpha:d[_0x1dda("0x11d")],color:d[_0x1dda("0x138")],lineWidth:d.linewidth,seeThrough:!0,points:{type:_0x1dda("0x14d"),center:{x:x[_0x1dda("0x122")].x,y:x[_0x1dda("0x122")].y},radius:d[_0x1dda("0x645")],segments:40},height:-.1,lineType:esmap[_0x1dda("0x98d")][_0x1dda("0xf8e")]});e[_0x1dda("0xf8d")]=d[_0x1dda("0x645")],this.o3d_[_0x1dda("0xfe")][_0x1dda("0xce")](e[_0x1dda("0x180")]),this.circle=e[_0x1dda("0x180")]}},{key:_0x1dda("0x219"),value:function(d){var x=this;_0x1dda("0x177")==typeof d&&(d={angle:d});var a,_=(0,s[_0x1dda("0x13")])(d,"time",_0x1dda("0x18c"),.3),e=x[_0x1dda("0xb9f")],t=esmap[_0x1dda("0x86")][_0x1dda("0x60c")](e,d[_0x1dda("0x201")]);return x[_0x1dda("0xa70")]&&x._rotateToID[_0x1dda("0x18d")](),x[_0x1dda("0xa70")]=esmap[_0x1dda("0x190")][_0x1dda("0x95c")](_,(function(d){(a=e+t*d[_0x1dda("0xd8")])<=0?a=360+a:a>=360&&(a-=360),x[_0x1dda("0xb9f")]=a}),null,(function(){d.onComplete&&d[_0x1dda("0x192")]()})),x[_0x1dda("0xa70")]}},{key:_0x1dda("0x1f7"),value:function(d){var x=esmap.ESMap[_0x1dda("0x34")];this.x=d.x,this.y=d.y;var a=(0,s.getValues)(d,_0x1dda("0x123"),"floornum",_0x1dda("0x1de"),null),_=(0,s.getValues)(d,_0x1dda("0x18b"),_0x1dda("0xf8f"),_0x1dda("0x16d"),_0x1dda("0x26"),0),e=(0,s[_0x1dda("0x13")])(d,"bid",x.id),t=x[_0x1dda("0x12b")](e),i={x:d.x,y:d.y};a=a||t.focusFloorNum,this[_0x1dda("0x123")]=a,this[_0x1dda("0x180")][_0x1dda("0x64f")]=(_||0)+t[_0x1dda("0x180")][_0x1dda("0xfa")].y,t[_0x1dda("0x61b")](a)[_0x1dda("0x180")][_0x1dda("0xce")](this.o3d_);var n=x[_0x1dda("0xa25")]({x:i.x,y:i.y}),r=x[_0x1dda("0x19c")]({x:n.x,y:n.y});this[_0x1dda("0xfa")].set(r.x,this[_0x1dda("0x180")].initY_,r.z),this[_0x1dda("0x12d")]=e,this[_0x1dda("0x52")]=t}},{key:_0x1dda("0xf8a"),value:function(){this[_0x1dda("0x180")][_0x1dda("0xf06")](esmap[_0x1dda("0x33")][_0x1dda("0x34")].mapView),this[_0x1dda("0x14d")]&&(this[_0x1dda("0x14d")][_0x1dda("0xfa")].equals(this[_0x1dda("0x180")][_0x1dda("0xfa")])||this[_0x1dda("0x14d")][_0x1dda("0xfa")].copy(this[_0x1dda("0x180")].position))}},{key:_0x1dda("0xf90"),value:function(){var d=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x1db")](this[_0x1dda("0xfa")]);return d.z=this[_0x1dda("0x180")][_0x1dda("0x64f")]||0,d[_0x1dda("0x123")]=this[_0x1dda("0x123")],d}},{key:_0x1dda("0xe8"),value:function(){this.o3d_&&this[_0x1dda("0x180")][_0x1dda("0xfe")]&&(esmap[_0x1dda("0x33")][_0x1dda("0x34")].off(_0x1dda("0x152"),this[_0x1dda("0xf91")]),this.o3d_[_0x1dda("0xfe")][_0x1dda("0x181")](this[_0x1dda("0x180")]))}},{key:_0x1dda("0xb9f"),get:function(){return this[_0x1dda("0x180")][_0x1dda("0x3c3")][_0x1dda("0x3d9")].z/Math.PI*180},set:function(d){this.o3d_.outline.rotation.set(0,0,d/180*Math.PI,_0x1dda("0x3cb"))}},{key:"url",get:function(){return this[_0x1dda("0x4f1")][_0x1dda("0x4a")]},set:function(d){this.opts_[_0x1dda("0x4a")]=d,this[_0x1dda("0x180")][_0x1dda("0xf92")](d)}},{key:_0x1dda("0x158"),set:function(d){this[_0x1dda("0x180")][_0x1dda("0x158")]=d},get:function(){return this.o3d_[_0x1dda("0x158")]}},{key:_0x1dda("0xf7f"),get:function(){return this.o3d_[_0x1dda("0xf7f")]},set:function(d){this[_0x1dda("0x180")].fixedAngle=d}},{key:_0x1dda("0x169"),get:function(){return this[_0x1dda("0x180")][_0x1dda("0x2da")]},set:function(d){this[_0x1dda("0x180")][_0x1dda("0x2da")]=d,this.o3d_.visible=d}},{key:_0x1dda("0x18b"),set:function(d){this[_0x1dda("0x180")].initY_=d},get:function(){return this[_0x1dda("0x180")].position.y}},{key:_0x1dda("0xbd4"),get:function(){return this[_0x1dda("0x123")]},set:function(d){this.fnum=d}},{key:_0x1dda("0xfa"),get:function(){return this[_0x1dda("0x180")].position}}]),x}(c(a(80))[_0x1dda("0xd")]);x[_0x1dda("0xd")]=l},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=l(a(7)),e=l(a(8)),t=l(a(5)),i=l(a(0)),n=l(a(1)),r=l(a(10)),s=l(a(11)),o=a(81),c=a(4);function l(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var f=function(d){function x(){return(0,i[_0x1dda("0xd")])(this,x),(0,r[_0x1dda("0xd")])(this,(x.__proto__||(0,t[_0x1dda("0xd")])(x)).call(this))}var a,l;return(0,s[_0x1dda("0xd")])(x,d),(0,n[_0x1dda("0xd")])(x,[{key:_0x1dda("0x32"),value:(l=(0,e[_0x1dda("0xd")])(_[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x,a,e){var t,i,n,r,s,l,f,u,h,g,b,v,p,m,A=this;return _.default.wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return t=new(THREE[_0x1dda("0x182")]),(i=new THREE.MeshLambertMaterial({transparent:!0,side:THREE.DoubleSide}))[_0x1dda("0x169")]=!1,t[_0x1dda("0xe9")]=i,n=new(THREE[_0x1dda("0x6c8")])(1,1,1,1),t[_0x1dda("0xe7")]=n,this[_0x1dda("0x4f5")]=x,this[_0x1dda("0x216")]=x.hide,this.fixedAngle=x[_0x1dda("0xf7f")],this[_0x1dda("0xce")](t),this.main=t,this.width_=1,this[_0x1dda("0xf00")]=1,x[_0x1dda("0x158")]?this[_0x1dda("0xf93")]():this[_0x1dda("0x3c3")]=this[_0x1dda("0x133")],r=esmap[_0x1dda("0x33")].instance,s=x[_0x1dda("0xd2")],l=x[_0x1dda("0x1d7")],f=x[_0x1dda("0x30f")],(0,c.isNumber)(s)&&(s={w:s,h:s}),this[_0x1dda("0xd2")]=s,d[_0x1dda("0x24c")]=21,(0,o[_0x1dda("0x173")])({image:a,imageStyle:{size:s,clip:f}});case 21:u=d[_0x1dda("0x2ff")],h=u[_0x1dda("0x5df")],g=u.width,b=u.height,i[_0x1dda("0x42")]=h,i.needsUpdate=!0,this.hide&&(this[_0x1dda("0x133")][_0x1dda("0xe9")][_0x1dda("0x169")]=!0,this[_0x1dda("0x169")]=!0),r.on("update",(function(){A[_0x1dda("0xf7f")]&&A.main.rotation.set(0,0,-r[_0x1dda("0x1fe")]/180*Math.PI,_0x1dda("0x3cb"))})),this[_0x1dda("0x4f5")].seeThrough&&(i[_0x1dda("0x15d")]=!1,i[_0x1dda("0x15b")]=!1),this[_0x1dda("0x133")][_0x1dda("0x160")]=esmap[_0x1dda("0x161")].locationMarker,p=(v={w:g,h:b}).w/32*10,m=v.h/32*10,this.scale[_0x1dda("0xcd")](p,m,1),this[_0x1dda("0x3d9")][_0x1dda("0xcd")](-Math.PI/2,0,Math.PI,_0x1dda("0x3cb")),this.width_=v.w,this.height_=v.h,this[_0x1dda("0x2dd")]=l,e&&e(this);case 37:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d,x,a){return l[_0x1dda("0x5")](this,arguments)})},{key:"initArrow",value:function(){var d=this[_0x1dda("0x4f5")],x=this.createArrow({color:d[_0x1dda("0xf83")],scale:d[_0x1dda("0xf94")]/d.size_,offset:d[_0x1dda("0xf86")]});this[_0x1dda("0x4f5")][_0x1dda("0x15a")]&&(x[_0x1dda("0xe9")][_0x1dda("0x15d")]=!1,x[_0x1dda("0xe9")].depthTest=!1),x.renderOrder=esmap[_0x1dda("0x161")][_0x1dda("0x5c3")]-.5,x[_0x1dda("0xfa")].z-=.05;var a=new THREE.Group;a[_0x1dda("0xce")](x),this.add(a),this[_0x1dda("0x3c3")]=a,this[_0x1dda("0xf95")]=a}},{key:"createArrow",value:function(d){var x=d[_0x1dda("0x138")],a=d[_0x1dda("0x1d7")],_=d[_0x1dda("0x16d")],e=document[_0x1dda("0x20")]("canvas"),t=64;e[_0x1dda("0x1a5")]=t,e[_0x1dda("0x18b")]=t;var i=e.getContext("2d");i.beginPath(),i[_0x1dda("0x1ff")](0,t),i[_0x1dda("0x50b")](32,0),i[_0x1dda("0x50b")](t,t),i[_0x1dda("0x50b")](t,t),i[_0x1dda("0x8fe")](),i.stroke(),i[_0x1dda("0x304")]=x,i[_0x1dda("0x420")]();var n=new(THREE[_0x1dda("0x329")])(e),r=new(THREE[_0x1dda("0x2b5")])({map:n,transparent:!0});r[_0x1dda("0x169")]=!0,r[_0x1dda("0x42")][_0x1dda("0x172")]=!0;var s=new(THREE[_0x1dda("0x6c8")])(a,a,a,a),o=new(THREE[_0x1dda("0x182")])(s,r);return o[_0x1dda("0xfc")]=_0x1dda("0x158"),o[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0x5c3")]-1,o[_0x1dda("0xfa")].y+=_,o}},{key:"setUrl",value:(a=(0,e.default)(_[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a,e,t;return _[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return a=this.main[_0x1dda("0xe9")],d[_0x1dda("0x24c")]=3,(0,o[_0x1dda("0x173")])({image:x,imageStyle:{size:this[_0x1dda("0xd2")],clip:this[_0x1dda("0x4f5")].clip}});case 3:e=d[_0x1dda("0x2ff")],t=e[_0x1dda("0x5df")],a[_0x1dda("0x42")]=t,a[_0x1dda("0x172")]=!0;case 7:case _0x1dda("0x267"):return d.stop()}}),d,this)}))),function(d){return a[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xf06"),value:function(){esmap.MapObjectUtils.updateScreenSize[_0x1dda("0x3")](this)}},{key:_0x1dda("0x2d6"),value:function(){}},{key:_0x1dda("0x158"),get:function(){return this[_0x1dda("0xf95")]&&this[_0x1dda("0xf95")].visible},set:function(d){d?(this[_0x1dda("0xf95")]?this[_0x1dda("0xf95")][_0x1dda("0x169")]=!0:this[_0x1dda("0xf93")](),this[_0x1dda("0x3c3")]=this[_0x1dda("0xf95")]):(this[_0x1dda("0xf95")]&&(this[_0x1dda("0xf95")][_0x1dda("0x169")]=!1),this[_0x1dda("0x3c3")]=this[_0x1dda("0x133")])}}]),x}(THREE[_0x1dda("0x384")]);x.default=f},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=u(a(12)),e=u(a(2)),t=u(a(5)),i=u(a(0)),n=u(a(1)),r=u(a(10)),s=u(a(11)),o=u(a(351)),c=u(a(61)),l=u(a(80)),f=a(49);function u(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var h=function(d){function x(d){(0,i[_0x1dda("0xd")])(this,x);var a=(0,r[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,t[_0x1dda("0xd")])(x)).call(this,esmap[_0x1dda("0x126")][_0x1dda("0x9e6")],{},new(THREE[_0x1dda("0x182")])));return a[_0x1dda("0x32")](d),a}return(0,s[_0x1dda("0xd")])(x,d),(0,n.default)(x,[{key:_0x1dda("0x32"),value:function(d){var x=this;this[_0x1dda("0xf17")]=_0x1dda("0x5c2");var a={id:null,color:_0x1dda("0xf96"),alpha:.5,name:"",imageRepeat:{x:1,y:1},lineStyle:{lineWidth:1,fixedWidth:!1,lineType:esmap[_0x1dda("0x98d")].FULL},seeThrough:!1,imageAngle:180,height:6,pickAlpha:1,thickness:0,showLevel:null,pickable:!0,light:!0,roughness:.5,metalness:.5,renderOrder:esmap[_0x1dda("0x161")].polygonMarker,bid:0,points:{type:_0x1dda("0xf97"),center:this[_0x1dda("0x42")][_0x1dda("0x122")],width:30,height:30}};(0,f.merge)(a,d),this.options=a,this.ID=a.id,this.name=a.name,this.showLevel=a[_0x1dda("0x1cd")],this.o3d_[_0x1dda("0xe9")][_0x1dda("0x136")]=!0,this[_0x1dda("0x180")].material[_0x1dda("0x15d")]=!0,this[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x149")]=THREE[_0x1dda("0x14a")],this[_0x1dda("0x180")][_0x1dda("0x160")]=a[_0x1dda("0x160")],this.seeThrough&&(this[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x15b")]=!1),a[_0x1dda("0xf98")]&&this[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3ae")](this[_0x1dda("0x180")],this.bid||"main");var _=this.getPoints(a[_0x1dda("0x121")]);if(_){if(this[_0x1dda("0x121")]=_,0==a[_0x1dda("0xf99")]){var e=this[_0x1dda("0xf9a")](_);this[_0x1dda("0x180")].geometry=e,this[_0x1dda("0x180")][_0x1dda("0xf9b")](-Math.PI/2),this[_0x1dda("0x180")][_0x1dda("0xfa")].y=a[_0x1dda("0x18b")],this[_0x1dda("0x2d5")](a[_0x1dda("0x138")]),this[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x11d")]=a[_0x1dda("0x2ec")],a[_0x1dda("0xa7a")]&&this[_0x1dda("0xf9c")](a[_0x1dda("0xa7a")]),a[_0x1dda("0x2df")]&&this[_0x1dda("0xf9d")](a[_0x1dda("0x2df")])}else this.light?this[_0x1dda("0x180")][_0x1dda("0xe9")]=new(THREE[_0x1dda("0x135")])({transparent:!0,roughness:this[_0x1dda("0x845")],metalness:this[_0x1dda("0x137")],side:THREE[_0x1dda("0x14a")]}):this[_0x1dda("0x180")][_0x1dda("0xe9")]=new(THREE[_0x1dda("0x2b5")])({transparent:!0,side:THREE[_0x1dda("0x14a")]}),this[_0x1dda("0xf9e")](this,!0);this.o3d_[_0x1dda("0x30")](_0x1dda("0x1ef"),(function(){x[_0x1dda("0x9f6")]&&(x.line[_0x1dda("0xe8")](),x.line=null)}))}}},{key:_0x1dda("0x216"),value:function(){this[_0x1dda("0x169")]=!1}},{key:_0x1dda("0x215"),value:function(){this[_0x1dda("0x169")]=!0}},{key:_0x1dda("0xf9d"),value:function(d){var x=esmap[_0x1dda("0x86")][_0x1dda("0x5ba")](d);this.o3d_[_0x1dda("0xe9")][_0x1dda("0x42")]=x,this[_0x1dda("0x180")].material[_0x1dda("0x42")][_0x1dda("0x122")].x=.5,this.o3d_.material[_0x1dda("0x42")][_0x1dda("0x122")].y=.5,this[_0x1dda("0x35")].imageRepeat&&(this[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x840")]=this.o3d_.material[_0x1dda("0x42")].wrapT=THREE[_0x1dda("0x176")],this[_0x1dda("0x180")].material[_0x1dda("0x42")].repeat.x=this[_0x1dda("0x35")][_0x1dda("0xf9f")].x,this[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x42")].repeat.y=this[_0x1dda("0x35")][_0x1dda("0xf9f")].y),this.o3d_[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x3d9")]=this[_0x1dda("0x35")][_0x1dda("0xfa0")]*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")],this[_0x1dda("0x180")][_0x1dda("0xe9")].color[_0x1dda("0x23f")](this[_0x1dda("0x35")].color),this[_0x1dda("0x180")][_0x1dda("0xe9")].map.needsUpdate=!0,this.o3d_[_0x1dda("0xe9")][_0x1dda("0x172")]=!0}},{key:"getCenter",value:function(){var d=esmap[_0x1dda("0x86")][_0x1dda("0x650")](this[_0x1dda("0x121")]);return esmap[_0x1dda("0x86")].getCenterByExtent(d)}},{key:_0x1dda("0xfa1"),value:function(d){if(!this[_0x1dda("0x180")][_0x1dda("0x153")].processsedUv){this[_0x1dda("0x180")][_0x1dda("0x153")][_0x1dda("0xfa2")]=!0;var x=this.map[_0x1dda("0x35")][_0x1dda("0x1cc")],a=d.vertices,_=d[_0x1dda("0xfa3")],e=a.length;d.computeBoundingBox(),d[_0x1dda("0xfa4")][0]=[],d[_0x1dda("0x50d")]();for(var t=d.boundingBox[_0x1dda("0x2be")],i=d[_0x1dda("0x50e")][_0x1dda("0x2f6")],n=new(THREE[_0x1dda("0x50f")])(0-i.x,0-i.y),r=new(THREE[_0x1dda("0x50f")])(t.x-i.x,t.y-i.y),s=e-2,o=0;o<s;o++){var c=_[o];if(c||(x||console[_0x1dda("0x1eb")](_0x1dda("0xfa5"),this),(c=_[o-1])||(c=_[o+1]),c||(c=_[0]),c)){var l=d[_0x1dda("0xfa6")][c.a],f=d.vertices[c.b],u=d[_0x1dda("0xfa6")][c.c];d.faceVertexUvs[0][o]=[new(THREE[_0x1dda("0x50f")])((l.x+n.x)/r.x,(l.y+n.y)/r.y),new(THREE[_0x1dda("0x50f")])((f.x+n.x)/r.x,(f.y+n.y)/r.y),new(THREE[_0x1dda("0x50f")])((u.x+n.x)/r.x,(u.y+n.y)/r.y)]}}d.uvsNeedUpdate=!0,d[_0x1dda("0xfa7")]=!0}}},{key:_0x1dda("0xfa8"),value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};this[_0x1dda("0xfa1")](this.o3d_[_0x1dda("0xe7")]);var x=esmap[_0x1dda("0x86")][_0x1dda("0x650")](this.points);d[_0x1dda("0x559")]=x[_0x1dda("0x559")],d.minX=x[_0x1dda("0x556")],d[_0x1dda("0x55b")]=x[_0x1dda("0x55b")],d[_0x1dda("0x558")]=x[_0x1dda("0x558")],this.heatmap=new(o[_0x1dda("0xd")])(d);var a=this[_0x1dda("0x90a")].getMaterial();this[_0x1dda("0x90a")][_0x1dda("0xfa9")]=this[_0x1dda("0x180")][_0x1dda("0xe9")],this[_0x1dda("0x180")].material=a}},{key:_0x1dda("0xfaa"),value:function(d){this[_0x1dda("0x90a")].randomPoints(d)}},{key:_0x1dda("0xfab"),value:function(){this[_0x1dda("0x90a")].clearPoints()}},{key:_0x1dda("0xfac"),value:function(){this.heatmap[_0x1dda("0xfad")](),this[_0x1dda("0x90a")][_0x1dda("0x6c4")](),this[_0x1dda("0x90a")].originalMaterial&&(this[_0x1dda("0x180")][_0x1dda("0xe9")]=this[_0x1dda("0x90a")][_0x1dda("0xfa9")])}},{key:_0x1dda("0xfae"),value:function(){this.heatmap[_0x1dda("0x152")]()}},{key:_0x1dda("0xfaf"),value:function(d){this.heatmap[_0x1dda("0x91b")](d)}},{key:_0x1dda("0xfb0"),value:function(d){this.heatmap[_0x1dda("0x915")](d.x,d.y,d[_0x1dda("0xd8")])}},{key:_0x1dda("0x2d6"),value:function(d,x){esmap[_0x1dda("0x237")][_0x1dda("0x2d6")][_0x1dda("0x3")](this.o3d_,d,x),esmap[_0x1dda("0x237")].alwaysShow[_0x1dda("0x3")](this.line,d,x)}},{key:"setColor",value:function(d){this.o3d_[_0x1dda("0xe9")].color[_0x1dda("0x23f")](d)}},{key:_0x1dda("0xfb1"),value:function(d){this.line&&(this[_0x1dda("0x9f6")][_0x1dda("0xe8")](),this[_0x1dda("0x9f6")]=null),this[_0x1dda("0x35")][_0x1dda("0xa7a")]||(this[_0x1dda("0x35")][_0x1dda("0xa7a")]={}),(0,e.default)(this[_0x1dda("0x35")][_0x1dda("0xa7a")],d),this[_0x1dda("0xf9c")](this[_0x1dda("0x35")].lineStyle)}},{key:_0x1dda("0xfb2"),value:function(d){var x=this;return d[_0x1dda("0x42")]((function(d){var a=x[_0x1dda("0x42")][_0x1dda("0xa25")]({x:d.x,y:d.y}),_=x[_0x1dda("0x42")][_0x1dda("0x19c")](a);return new(THREE[_0x1dda("0x50f")])(_.x,-_.z)}))}},{key:"createBox",value:function(d,x){var a=this;if(x||(0,e[_0x1dda("0xd")])(a,d),d[_0x1dda("0x121")]){var t=null;if(d.points instanceof Array){if((t=d[_0x1dda("0x121")])[_0x1dda("0x0")]<3)return}else if(_0x1dda("0x1b")==(0,_[_0x1dda("0xd")])(d[_0x1dda("0x121")])&&!(t=a[_0x1dda("0xfb3")](d[_0x1dda("0x121")])))return;a[_0x1dda("0x180")].geometry.dispose(),a[_0x1dda("0x121")]=t;var i=a._normalizePoints(t),n=new(THREE[_0x1dda("0xfb4")])(i),r=new(THREE[_0x1dda("0x50c")])(n,{depth:20,bevelEnabled:!1,material:0,extrudeMaterial:0});a[_0x1dda("0x180")][_0x1dda("0xe7")]=r,x&&(a.o3d_[_0x1dda("0xf9b")](-Math.PI/2),a[_0x1dda("0x180")].position.y=a.height),a[_0x1dda("0x180")][_0x1dda("0x160")]=a[_0x1dda("0x160")]}d[_0x1dda("0x138")]&&a.o3d_[_0x1dda("0xe9")].color[_0x1dda("0x23f")](a.color),null!=d.alpha&&a.o3d_.material[_0x1dda("0x11d")]&&(a[_0x1dda("0x180")][_0x1dda("0xe9")].opacity=a[_0x1dda("0x2ec")])}},{key:_0x1dda("0xf9c"),value:function(d){var x=this;x[_0x1dda("0x42")][_0x1dda("0x12b")](0);x[_0x1dda("0x12d")]&&x[_0x1dda("0x42")].getBuildingById(x[_0x1dda("0x12d")]),x[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0x2a8")],x[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0x2a9")];var a=x[_0x1dda("0x180")][_0x1dda("0xe7")][_0x1dda("0xfa6")][_0x1dda("0x42")]((function(d){return new(THREE[_0x1dda("0x11c")])(d.x,d.z,d.y)}));a[_0x1dda("0x10")](a[0][_0x1dda("0x116")]());var _=(0,e.default)({color:x[_0x1dda("0x35")].color,fixedWidth:!1,notCenter:!0,lineWidth:1,lineType:esmap[_0x1dda("0x98d")][_0x1dda("0xf8e")],hiddenByFloor:!1,light:!1},d);_.lineType!=esmap[_0x1dda("0x98d")][_0x1dda("0x11a")]?x[_0x1dda("0x9f6")]=new(esmap[_0x1dda("0x98b")])(a,_,!1):x[_0x1dda("0x9f6")]=new(c[_0x1dda("0xd")])(a,_,!1),x[_0x1dda("0x9f6")][_0x1dda("0xf9b")](-Math.PI/2),x[_0x1dda("0x180")][_0x1dda("0xce")](x.line),x[_0x1dda("0x9f6")].position[_0x1dda("0xcd")](0,0,0),x[_0x1dda("0x9f6")][_0x1dda("0xe9")][_0x1dda("0x169")]=!0,x[_0x1dda("0x9f6")][_0x1dda("0x160")]=x[_0x1dda("0x160")],x[_0x1dda("0x9f6")][_0x1dda("0xe6")][0]&&(x.line[_0x1dda("0xe6")][0][_0x1dda("0x160")]=x.renderOrder)}},{key:_0x1dda("0xfb3"),value:function(d){switch(d.type){case _0x1dda("0x14d"):if(d.center&&d.radius){for(var x=d[_0x1dda("0x122")],a=d[_0x1dda("0x645")]||30,_=d.segments||40,e=[],t=0;t<_;t++)e[_0x1dda("0x10")]({x:x.x+a*Math.cos(2*Math.PI/_*t),y:x.y+a*Math[_0x1dda("0x617")](2*Math.PI/_*t)});return e}break;case _0x1dda("0xf97"):if(d[_0x1dda("0x1a5")]&&d[_0x1dda("0x18b")]&&(d[_0x1dda("0x8cb")]||d.center)){x=d.center||this[_0x1dda("0x42")][_0x1dda("0x122")];if(!(i=d[_0x1dda("0x8cb")]))var i={x:x.x-d[_0x1dda("0x1a5")]/2,y:x.y-d[_0x1dda("0x18b")]/2};return[{x:i.x,y:i.y},{x:i.x+d[_0x1dda("0x1a5")],y:i.y},{x:i.x+d[_0x1dda("0x1a5")],y:i.y+d[_0x1dda("0x18b")]},{x:i.x,y:i.y+d.height}]}}}},{key:_0x1dda("0x152"),value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};d[_0x1dda("0x121")]&&this[_0x1dda("0xfb5")](d[_0x1dda("0x121")])}},{key:_0x1dda("0xfb5"),value:function(d){this[_0x1dda("0x180")].geometry[_0x1dda("0xe8")]();var x=void 0;if(Array[_0x1dda("0x2f4")](d))x=this.createPlaneGeometry(d);else{this[_0x1dda("0x35")][_0x1dda("0x121")]=(0,e[_0x1dda("0xd")])(this[_0x1dda("0x35")][_0x1dda("0x121")],d);var a=this[_0x1dda("0x8b7")](this.options.points);x=this[_0x1dda("0xf9a")](a)}this[_0x1dda("0x180")].geometry=x,this.line&&(this[_0x1dda("0x9f6")][_0x1dda("0xe8")](),this[_0x1dda("0x9f6")]=null,this[_0x1dda("0xf9c")](this[_0x1dda("0x35")][_0x1dda("0xa7a")]))}},{key:_0x1dda("0x8b7"),value:function(d){var x=[];if(Array[_0x1dda("0x2f4")](d)){if(d[_0x1dda("0x0")]<3)return;d[0].x==d[d.length-1].x&&d[0].y==d[d[_0x1dda("0x0")]-1].y||d[_0x1dda("0x10")](d[0]),x=d}else if(d instanceof Object&&!(x=this[_0x1dda("0xfb3")](d)))return void console[_0x1dda("0x1eb")]("polygonMarker: error");return x}},{key:"createPlaneGeometry",value:function(d){var x=this[_0x1dda("0xfb2")](d),a=new(THREE[_0x1dda("0xfb6")])(new(THREE[_0x1dda("0xfb4")])(x));return this[_0x1dda("0xfa1")](a),a[_0x1dda("0xfb7")]=!0,a}},{key:_0x1dda("0xfb8"),value:function(d){var x=(0,e[_0x1dda("0xd")])(d);x=this._normalizePoints([x])[0];var a=new(THREE[_0x1dda("0x11c")])(x.x,this[_0x1dda("0x180")][_0x1dda("0x1e6")](new THREE.Vector3).y+30,-x.y),_=new(THREE[_0x1dda("0x11c")])(0,-1,0);return new(THREE[_0x1dda("0x4cc")])(a,_)[_0x1dda("0xa5d")](this[_0x1dda("0x180")])[_0x1dda("0x0")]>0}},{key:_0x1dda("0x42"),get:function(){return esmap[_0x1dda("0x33")][_0x1dda("0x34")]}}]),x}(l.default);x[_0x1dda("0xd")]=h},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=n(a(0)),e=n(a(1)),t=a(18),i=n(a(140));function n(d){return d&&d.__esModule?d:{default:d}}var r=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x8ed")](x),this[_0x1dda("0x8ee")]={},this[_0x1dda("0x5df")]=null,this[_0x1dda("0x121")]=[],this[_0x1dda("0xfb9")]=new(i[_0x1dda("0xd")])({duration:x[_0x1dda("0x2")](_0x1dda("0x18c"))?x.duration:1,colorStr:x.backgroundColor,isShowBackground:!!x[_0x1dda("0x2")](_0x1dda("0x461"))&&x[_0x1dda("0x461")]}),this.originalMaterial=null,this.heatMapMaterial=null}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x902"),value:function(d){var x=this,a=x[_0x1dda("0x559")]-x[_0x1dda("0x556")],_=x[_0x1dda("0x55b")]-x[_0x1dda("0x558")],e={w:parseFloat(a),h:parseFloat(_)},i=(0,t.getDeviceDPI)();e.w=e.w*i[0]/15,e.h=e.h*i[1]/15;var n=1,r=d[_0x1dda("0x8f3")]||8192;return(a>500||_>500)&&r>=8192&&(r=2048),(e.w>=r||e.h>=r)&&(e.w>=e.h?(n=e.h/e.w,e.w=r,e.h=r*n):(n=e.w/e.h,e.h=r,e.w=r*n)),e}},{key:_0x1dda("0x916"),value:function(d,x){var a={x:1-(d-this[_0x1dda("0x556")])/(this[_0x1dda("0x559")]-this[_0x1dda("0x556")]),y:(x-this[_0x1dda("0x558")])/(this[_0x1dda("0x55b")]-this.minY)};return a.x=a.x*this.options[_0x1dda("0x1a5")],a.y=a.y*this.options.height,a}},{key:_0x1dda("0x8ed"),value:function(d){var x=this;x[_0x1dda("0x556")]=d[_0x1dda("0x556")],x.maxX=d[_0x1dda("0x559")],x.minY=d[_0x1dda("0x558")],x[_0x1dda("0x55b")]=d.maxY;var a=x[_0x1dda("0x902")](d),_=a.w,e=a.h;x[_0x1dda("0x35")]={width:_,height:e,radius:d[_0x1dda("0x645")]?d[_0x1dda("0x645")]:30,opacity:d[_0x1dda("0x2")](_0x1dda("0x11d"))?d.opacity:1,mapOpacity:d[_0x1dda("0x2")]("mapOpacity")?d[_0x1dda("0x8f2")]:1,bshadow:d.radius?d[_0x1dda("0x645")]/20:1.5,maxSize:d[_0x1dda("0x8f3")]||8192,boundVal:15e3,shadowBlur:15,points:{max:d[_0x1dda("0x2be")]?d[_0x1dda("0x2be")]:100,data:[]},useGradientAlpha:d[_0x1dda("0xfba")],gradient:d.gradient?d[_0x1dda("0x8f5")]:{.45:"rgb(0,0,255)",.55:_0x1dda("0x8f7"),.65:_0x1dda("0x8f8"),.95:"yellow",1:_0x1dda("0xfbb")}};var t=document[_0x1dda("0x20")](_0x1dda("0x2fa")),i=t[_0x1dda("0x2fb")]("2d",{willReadFrequently:!0});t[_0x1dda("0x1a5")]=_,t[_0x1dda("0x18b")]=e,x[_0x1dda("0x35")][_0x1dda("0x8fa")]=i,x.options[_0x1dda("0x2fa")]=t}},{key:_0x1dda("0x917"),value:function(d,x,a,_){var e=this,t=e[_0x1dda("0x35")][_0x1dda("0x8fa")],i=(e[_0x1dda("0x35")][_0x1dda("0x645")],e[_0x1dda("0x35")][_0x1dda("0x8fb")]),n=parseFloat(a/e[_0x1dda("0x35")][_0x1dda("0x121")][_0x1dda("0x2be")],10);t[_0x1dda("0x307")]=_0x1dda("0x8fd")+n+")",t.shadowOffsetX=i,t.shadowOffsetY=i,t.shadowBlur=e[_0x1dda("0x35")].shadowBlur,t[_0x1dda("0x311")](),t[_0x1dda("0x30e")](d-i,x-i,e.options[_0x1dda("0x645")],0,2*Math.PI,!0),t[_0x1dda("0x8fe")](),t.fill()}},{key:_0x1dda("0x91c"),value:function(){for(var d=this,x=d[_0x1dda("0x35")][_0x1dda("0x1a5")],a=d[_0x1dda("0x35")][_0x1dda("0x18b")],_=d.options.useGradientAlpha,e=d[_0x1dda("0x35")][_0x1dda("0x8fa")],t=e[_0x1dda("0x8ff")](0,0,x,a),i=t[_0x1dda("0x442")],n=i[_0x1dda("0x0")],r=d.getPalette(),s=d[_0x1dda("0x35")][_0x1dda("0x11d")]?255*d.options[_0x1dda("0x11d")]:25500,o=3;o<n;o+=4){var c=i[o],l=4*c;if(l>=0){var f=c<s?c:s;i[o-3]=r[l],i[o-2]=r[l+1],i[o-1]=r[l+2],i[o]=_?r[l+3]:f}}t.data[_0x1dda("0xcd")](i),e[_0x1dda("0xfbc")](t,0,0)}},{key:_0x1dda("0xfbd"),value:function(){var d=this.getTexture();return d[_0x1dda("0x172")]=!0,this[_0x1dda("0xfbe")]||(this.heatMapMaterial=this[_0x1dda("0xfb9")][_0x1dda("0x426")](d,new(THREE[_0x1dda("0x329")])),this[_0x1dda("0xfbe")].userData.name=_0x1dda("0x90a")),this[_0x1dda("0xfbe")]}},{key:_0x1dda("0x152"),value:function(){var d=this;d[_0x1dda("0x6c4")]();for(var x=d.points,a=0;a<x[_0x1dda("0x0")];a++){var _=x[a];d[_0x1dda("0x917")](_.x,_.y,_[_0x1dda("0xd8")])}d[_0x1dda("0x91c")]();var e=d[_0x1dda("0xfbf")]();e[_0x1dda("0x172")]=!0,d[_0x1dda("0xfb9")][_0x1dda("0x152")](e)}},{key:_0x1dda("0xfbf"),value:function(){var d=this[_0x1dda("0x35")][_0x1dda("0x2fa")];return new(THREE[_0x1dda("0x329")])(d)}},{key:_0x1dda("0x900"),value:function(){var d=document[_0x1dda("0x20")](_0x1dda("0x2fa")),x=d[_0x1dda("0x2fb")]("2d",{willReadFrequently:!0});d.width=1,d[_0x1dda("0x18b")]=256;var a=this[_0x1dda("0x35")][_0x1dda("0x8f5")],_=x[_0x1dda("0x912")](0,0,1,256);for(var e in a)_[_0x1dda("0xfc0")](e,a[e]);return x[_0x1dda("0x304")]=_,x[_0x1dda("0x913")](0,0,1,256),x[_0x1dda("0x8ff")](0,0,1,256)[_0x1dda("0x442")]}},{key:_0x1dda("0x914"),value:function(d,x,a){var _=this[_0x1dda("0x35")][_0x1dda("0x121")],e=_.data;a>_[_0x1dda("0x2be")]&&(_[_0x1dda("0x2be")]=a),e[_0x1dda("0x10")]([d,x,a])}},{key:_0x1dda("0xfad"),value:function(){this[_0x1dda("0x121")]=[]}},{key:_0x1dda("0x915"),value:function(d,x,a){if(d&&x&&a){var _=this.getPixXY(d,x);if(_){this[_0x1dda("0x121")][_0x1dda("0x10")]({x:_.x,y:_.y,value:a})}}}},{key:_0x1dda("0x6c4"),value:function(){this.options[_0x1dda("0x8fa")][_0x1dda("0x918")](0,0,this[_0x1dda("0x35")][_0x1dda("0x1a5")],this[_0x1dda("0x35")][_0x1dda("0x18b")])}},{key:_0x1dda("0x91b"),value:function(d){for(var x=d[_0x1dda("0x0")],a=0;a<x;a++){var _=d[a][_0x1dda("0xd8")];if(_){var e=this[_0x1dda("0x916")](d[a].x,d[a].y);this[_0x1dda("0x121")].push({x:e.x,y:e.y,value:_})}}}},{key:_0x1dda("0x91d"),value:function(d){var x=this,a=x[_0x1dda("0x35")][_0x1dda("0x1a5")],_=x[_0x1dda("0x35")].height,e=x.options[_0x1dda("0x121")][_0x1dda("0x2be")];x[_0x1dda("0x121")]=[];for(var t=0;t<d;t++){var i=Math.floor(Math[_0x1dda("0x1b9")]()*a+1),n=Math[_0x1dda("0x1dd")](Math[_0x1dda("0x1b9")]()*_+1),r=Math[_0x1dda("0x1dd")](Math[_0x1dda("0x1b9")]()*e+1);x[_0x1dda("0x121")][_0x1dda("0x10")]({x:i,y:n,value:r})}}}]),d}();x[_0x1dda("0xd")]=r},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=r(a(5)),e=r(a(0)),t=r(a(1)),i=r(a(10)),n=r(a(11));function r(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var s=function(d){function x(d){var a;(0,e.default)(this,x),(a=(0,i[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,_[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this,d)))[_0x1dda("0x608")]=esmap[_0x1dda("0xfc1")][_0x1dda("0x537")];var t=new THREE.PlaneBufferGeometry(1,1,1,1),n=new(THREE[_0x1dda("0x429")])({transparent:!0,side:THREE[_0x1dda("0x14a")],depthWrite:!1});return n.visible=!1,a[_0x1dda("0x180")]=new THREE.Mesh(t,n),a[_0x1dda("0x180")][_0x1dda("0xe5")]=a,a[_0x1dda("0x106")]=7,1==d[_0x1dda("0x120")][_0x1dda("0x201")]?a[_0x1dda("0x180")][_0x1dda("0x3d9")][_0x1dda("0xcd")](-Math.PI/2,0,Math.PI-d[_0x1dda("0x120")][_0x1dda("0xd1f")]*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")],_0x1dda("0x538")):a[_0x1dda("0x180")].rotation[_0x1dda("0xcd")](Math.PI,-d[_0x1dda("0x120")][_0x1dda("0xd1f")]*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")],Math.PI,_0x1dda("0x538")),a.o3d_[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0x5c0")],a[_0x1dda("0xfc2")](a[_0x1dda("0xfc3")][_0x1dda("0x120")]),a}return(0,n[_0x1dda("0xd")])(x,d),(0,t[_0x1dda("0xd")])(x,[{key:_0x1dda("0xfc2"),value:function(d){var x=this;x[_0x1dda("0x3a0")]=setInterval((function(){x[_0x1dda("0x180")]&&(d[_0x1dda("0x2df")],d[_0x1dda("0x2df")].image&&(clearInterval(x._id),x[_0x1dda("0x180")].material[_0x1dda("0x169")]=!0,x[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x42")]=d[_0x1dda("0x2df")],x[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x42")].minFilter=THREE[_0x1dda("0x32a")],x.o3d_.material.map.anisotropy=16))}),0),this[_0x1dda("0x180")][_0x1dda("0x1d7")][_0x1dda("0xcd")](d.size.width,d[_0x1dda("0xd2")][_0x1dda("0x18b")],1);var a=esmap.ESMap[_0x1dda("0x34")].coordMapToThree(d[_0x1dda("0x522")]);this[_0x1dda("0x180")][_0x1dda("0xfa")][_0x1dda("0xcd")](a.x+d[_0x1dda("0x16d")].x,d[_0x1dda("0x18b")]+d[_0x1dda("0x16d")].z,a.z+d[_0x1dda("0x16d")].y)}}]),x}(esmap[_0x1dda("0x5eb")]);x[_0x1dda("0xd")]=s},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=f(a(7)),e=f(a(8)),t=f(a(5)),i=f(a(0)),n=f(a(1)),r=f(a(10)),s=f(a(11)),o=a(4),c=f(a(79)),l=a(24);function f(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var u=function(d){function x(d){var a;(0,i[_0x1dda("0xd")])(this,x);var _=(0,o[_0x1dda("0x12")])(d,_0x1dda("0xd2"),"auto");return(0,o.isObject)(_)||"auto"!=_&&(_={w:_,h:_}),(a=(0,r[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,t[_0x1dda("0xd")])(x)).call(this,esmap.ESNodeType[_0x1dda("0xf2f")],{}))).alias=_0x1dda("0x5c5"),a[_0x1dda("0xfc4")]=_,a[_0x1dda("0x4f1")]=d||{},a[_0x1dda("0x4f1")][_0x1dda("0x201")]?(l[_0x1dda("0xb1")].post({msg:_0x1dda("0xfc5"),level:_0x1dda("0x1eb")}),(0,r[_0x1dda("0xd")])(a)):(a[_0x1dda("0x32")](),a)}var a;return(0,s.default)(x,d),(0,n[_0x1dda("0xd")])(x,[{key:_0x1dda("0x32"),value:(a=(0,e[_0x1dda("0xd")])(_[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(){var x,a,e,t,i,n,r,s,c,f,u,h,g,b,v,p,m;return _[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d.next){case 0:return l.MessagePoster.post({msg:_0x1dda("0xfc6"),level:_0x1dda("0x9c7")}),x=esmap[_0x1dda("0x33")][_0x1dda("0x34")],a=x.mapScene,e=-a[_0x1dda("0x2a8")],t=a[_0x1dda("0x2a9")],i=(0,o.getValue)(this[_0x1dda("0x4f1")],"x",e),n=(0,o[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],"y",t),this[_0x1dda("0xfc")]=(0,o.getValue)(this[_0x1dda("0x4f1")],_0x1dda("0xfc"),null),this.ID=(0,o[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],"id",1),this[_0x1dda("0x12d")]=(0,o[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0x12d"),0),this[_0x1dda("0xf12")]=(0,o[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0xf7d"),!0),this[_0x1dda("0x1cd")]=(0,o[_0x1dda("0x12")])(this.opts_,_0x1dda("0x1cd"),null),r=(0,o[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0x122"),null),(0,o[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0x30f"),null),s=(0,o.getValue)(this[_0x1dda("0x4f1")],_0x1dda("0x15a"),!1),c=(0,o[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],"scale",1),f=(0,o.getValue)(this[_0x1dda("0x4f1")],_0x1dda("0x160"),esmap[_0x1dda("0x161")][_0x1dda("0x5c5")]),u=this[_0x1dda("0x180")],this[_0x1dda("0x160")]=f,h=x._insureUserCoordInbounds({x:i,y:n}),this.x_=h.x,this.y_=h.y,g=this,u[_0x1dda("0x2da")],b=0,b=null!=g[_0x1dda("0x4f1")][_0x1dda("0x18b")]?g[_0x1dda("0x4f1")][_0x1dda("0x18b")]:null!=g[_0x1dda("0x4f1")].z?g[_0x1dda("0x4f1")].z:6,v=this[_0x1dda("0x4f1")][_0x1dda("0x4a")],p={padding:0,size:this[_0x1dda("0xfc4")],scale:1},d[_0x1dda("0x24c")]=28,u[_0x1dda("0x32")]({image:v,imageStyle:p});case 28:u.scaleRatio=c,u[_0x1dda("0x160")]=f,m=x[_0x1dda("0x19c")]({x:g.x_,y:g.y_}),u.position[_0x1dda("0xcd")](m.x,b,m.z),u.parent&&u[_0x1dda("0xfe")][_0x1dda("0xe5")][_0x1dda("0xfc7")]&&x[_0x1dda("0x2ea")]>=u.parent.datas_[_0x1dda("0xfc8")]&&(x[_0x1dda("0x226")].target[_0x1dda("0x117")](u[_0x1dda("0xfa")])>u.parent[_0x1dda("0xe5")][_0x1dda("0xfc7")]&&(g.o3d_[_0x1dda("0x2da")]=!1,g.visible=!1)),g[_0x1dda("0x4f1")][_0x1dda("0x195")]&&g.opts_.callback(g),x[_0x1dda("0xe82")](!0),r&&u[_0x1dda("0x122")][_0x1dda("0xcd")](g[_0x1dda("0x4f1")][_0x1dda("0x122")].x,g.opts_[_0x1dda("0x122")].y),u[_0x1dda("0xe9")][_0x1dda("0x172")]=!0,u.seeThrough=s;case 38:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return a[_0x1dda("0x5")](this,arguments)})}]),x}(c.default);x[_0x1dda("0xd")]=u},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=f(a(7)),e=f(a(8)),t=f(a(5)),i=f(a(0)),n=f(a(1)),r=f(a(10)),s=f(a(11)),o=f(a(79)),c=a(4),l=a(81);function f(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var u=function(d){function x(d){(0,i[_0x1dda("0xd")])(this,x);var a=(0,r[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,t.default)(x))[_0x1dda("0x3")](this,esmap[_0x1dda("0x126")][_0x1dda("0xb1b")],{}));return a.opts_=d||{},a[_0x1dda("0xfc9")]=[],a[_0x1dda("0x32")](),a}var a;return(0,s[_0x1dda("0xd")])(x,d),(0,n.default)(x,[{key:_0x1dda("0x32"),value:(a=(0,e[_0x1dda("0xd")])(_.default.mark((function d(){var x,a,e,t,i,n,r,s,o,f,u,h,g,b,v,p,m,A;return _[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return x=esmap[_0x1dda("0x33")][_0x1dda("0x34")],a=this[_0x1dda("0x4f1")],typeof(e=(0,c[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0x2e0"),""))!=_0x1dda("0xe")&&(e=e[_0x1dda("0x2e")]()),t=(0,c[_0x1dda("0x13")])(a,_0x1dda("0x2df"),_0x1dda("0x4a"),""),i=Number((0,c.getValue)(this[_0x1dda("0x4f1")],"x",x[_0x1dda("0x122")].x)),n=Number((0,c[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],"y",x[_0x1dda("0x122")].y)),r=(0,c[_0x1dda("0x12")])(this.opts_,_0x1dda("0x18b"),6),s=(0,c[_0x1dda("0x12")])(this.opts_,_0x1dda("0x1d7"),1),this.ID=(0,c[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],"id",1),this.name=(0,c[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0xfc"),""),this.pickable=(0,c[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0xf98"),!0),o=(0,c[_0x1dda("0x12")])(this[_0x1dda("0x4f1")],_0x1dda("0x122"),null),f=(0,c[_0x1dda("0x12")])(a,_0x1dda("0x15a"),!1),u=(0,c[_0x1dda("0x12")])(a,"renderOrder",esmap[_0x1dda("0x161")][_0x1dda("0x5c6")]),h=(0,c[_0x1dda("0x12")])(a,_0x1dda("0x195"),null),g=(0,c[_0x1dda("0x13")])(a,"fixedSize",_0x1dda("0xf7d"),!0),this.showLevel=(0,c[_0x1dda("0x12")])(a,_0x1dda("0x1cd"),null),b={fontSize:12,fillStyle:"#FFFFFF",strokeWidth:2,strokeStyle:_0x1dda("0xf79"),shadowBlur:4,shadowColor:_0x1dda("0xea8"),shadowOffsetX:0,shadowOffsetY:0,padding:2},v={scale:1,align:_0x1dda("0x122"),size:_0x1dda("0x314"),space:5},a[_0x1dda("0x2f8")]?(0,c[_0x1dda("0xec8")])(b,(0,l[_0x1dda("0x300")])(a[_0x1dda("0x2f8")])):(0,c[_0x1dda("0xec8")])(b,(0,l[_0x1dda("0x300")])(a)),a[_0x1dda("0x2f9")]?(0,c[_0x1dda("0xec8")])(v,a[_0x1dda("0x2f9")]):(v[_0x1dda("0xae3")]=(0,c.getValue)(a,_0x1dda("0xee8"),v.align),v[_0x1dda("0xd2")]=(0,c.getValues)(a,_0x1dda("0xfca"),"size",v[_0x1dda("0xd2")]),v[_0x1dda("0xfcb")]=(0,c.getValue)(a,_0x1dda("0xfcc"),v[_0x1dda("0xfcb")]),typeof v[_0x1dda("0xd2")]==_0x1dda("0x177")&&(v[_0x1dda("0xd2")]={w:v[_0x1dda("0xd2")],h:v[_0x1dda("0xd2")]})),this.o3d_.scaleRatio=s,this[_0x1dda("0x180")][_0x1dda("0x23b")]=g,this[_0x1dda("0x180")][_0x1dda("0x153")].seeThrough=f,d[_0x1dda("0x24c")]=27,this.o3d_[_0x1dda("0x32")]({text:e,textStyle:b,image:t,imageStyle:v});case 27:p=this.o3d_,m=x._insureUserCoordInbounds({x:i,y:n}),A=x[_0x1dda("0x19c")]({x:m.x,y:m.y}),p[_0x1dda("0xfa")].set(A.x,r,A.z),this[_0x1dda("0x160")]=this[_0x1dda("0x180")].userData.seeThrough?u+1:u,p.modelViewMatrix[_0x1dda("0x3aa")](x[_0x1dda("0x22b")][_0x1dda("0x3ab")],p[_0x1dda("0x3ac")]),this[_0x1dda("0x180")][_0x1dda("0x4f5")][_0x1dda("0x3a5")]=this[_0x1dda("0x1cd")],o&&this[_0x1dda("0x180")][_0x1dda("0x122")][_0x1dda("0xcd")](o.x,o.y),h&&h(this);case 36:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return a[_0x1dda("0x5")](this,arguments)})}]),x}(o[_0x1dda("0xd")]);x[_0x1dda("0xd")]=u},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=r(a(5)),e=r(a(0)),t=r(a(1)),i=r(a(10)),n=r(a(11));function r(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var s=function(d){function x(d,a){(0,e[_0x1dda("0xd")])(this,x);var t=(0,i[_0x1dda("0xd")])(this,(x.__proto__||(0,_[_0x1dda("0xd")])(x)).call(this,0,a,new(THREE[_0x1dda("0x384")]),d));return t.layerManager=new(esmap[_0x1dda("0x387")])(t.o3d_),t}return(0,n[_0x1dda("0xd")])(x,d),(0,t[_0x1dda("0xd")])(x,[{key:"toggleLayers",value:function(d){var x=d[_0x1dda("0xd8")],a=[][_0x1dda("0x317")](d[_0x1dda("0xfc")]),_=[][_0x1dda("0x317")](d[_0x1dda("0x9f")]),e=[];this[_0x1dda("0x9a4")][_0x1dda("0xd1")]((function(d){d[_0x1dda("0xfc")]&&a[_0x1dda("0x61")](d[_0x1dda("0xfc")])&&e[_0x1dda("0x10")](d),d._type_&&_[_0x1dda("0x61")](d[_0x1dda("0x608")])&&e[_0x1dda("0x10")](d)})),e[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x169")]=x}))}},{key:_0x1dda("0x3b8"),value:function(d){this[_0x1dda("0x3b9")][_0x1dda("0x3b8")](d)}},{key:_0x1dda("0x3ba"),value:function(d,x){return this[_0x1dda("0x3b9")][_0x1dda("0x3ba")](d,x)}},{key:_0x1dda("0x3bb"),value:function(d,x){return this[_0x1dda("0x3b9")][_0x1dda("0x3bb")](d,x)}},{key:_0x1dda("0x3bc"),value:function(d,x){return this[_0x1dda("0x3b9")].getLayersByNames(d,x)}},{key:_0x1dda("0x909"),value:function(d,x){return this.layerManager.getObjectsByAlias(d,x)}},{key:_0x1dda("0xfcd"),value:function(d){return this[_0x1dda("0x3b9")][_0x1dda("0xfcd")](d)}},{key:_0x1dda("0xfce"),value:function(d){this.layerManager.removeLayer(d)}},{key:_0x1dda("0xfcf"),value:function(d){this.layerManager[_0x1dda("0xfcf")](d)}},{key:_0x1dda("0xfd0"),value:function(d){this[_0x1dda("0x3b9")][_0x1dda("0xfd0")](d)}},{key:"applyHeatMap",value:function(d){d&&this[_0x1dda("0x180")][_0x1dda("0x4f5")][_0x1dda("0xbd4")]&&d[_0x1dda("0xfd1")](this[_0x1dda("0x180")].data_.floornum)}},{key:_0x1dda("0xfd2"),value:function(d){d&&this[_0x1dda("0x180")][_0x1dda("0x4f5")][_0x1dda("0xbd4")]&&d[_0x1dda("0x911")](this[_0x1dda("0x180")].data_[_0x1dda("0xbd4")])}},{key:"traverse",value:function(d){this[_0x1dda("0x3b9")][_0x1dda("0xf8")](d)}},{key:"FloorNum",get:function(){return this[_0x1dda("0x180")][_0x1dda("0x4f5")][_0x1dda("0xbd4")]}},{key:_0x1dda("0x9b6"),get:function(){return this[_0x1dda("0x180")][_0x1dda("0x4f5")][_0x1dda("0xde4")]}},{key:"floorDesc",get:function(){return this[_0x1dda("0x180")].data_.name}},{key:_0x1dda("0xfd3"),get:function(){return this.o3d_[_0x1dda("0x4f5")][_0x1dda("0xa51")]}},{key:_0x1dda("0xfd4"),get:function(){return this.o3d_[_0x1dda("0x4f5")].Alias}},{key:"mapCoord",get:function(){return new(esmap[_0x1dda("0x4f3")])(this[_0x1dda("0xb3")][_0x1dda("0x42")][_0x1dda("0x122")].x,this[_0x1dda("0xb3")][_0x1dda("0x42")].center.y,this[_0x1dda("0x180")][_0x1dda("0xf38")][_0x1dda("0xa51")])}},{key:_0x1dda("0x9a4"),get:function(){return this.layerManager[_0x1dda("0x9a4")]}},{key:_0x1dda("0x12d"),get:function(){return this[_0x1dda("0xfe")].id}}]),x}(esmap.ESNode);x.default=s},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(0)),e=i(a(1)),t=a(4);function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x){(0,_.default)(this,d),this[_0x1dda("0x180")]=x}return(0,e[_0x1dda("0xd")])(d,[{key:"addLayer",value:function(d){!d instanceof esmap[_0x1dda("0x399")]?console[_0x1dda("0x3ec")](_0x1dda("0xfd5")):this[_0x1dda("0x180")][_0x1dda("0xce")](d[_0x1dda("0x180")])}},{key:_0x1dda("0x3ba"),value:function(d,x){var a=this[_0x1dda("0x3bc")](d);if(0==a[_0x1dda("0x0")]){switch(x){case"imageMarker":a=new esmap.ESLayer(esmap[_0x1dda("0x39a")].IMAGE_MARKER);break;case _0x1dda("0x5c6"):a=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0xb1b")]);break;case _0x1dda("0x5c2"):a=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x9e6")]);break;case _0x1dda("0xfd6"):a=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")].STORE_IMAGE);case"model3d":a=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")]);break;case _0x1dda("0x1ba"):a=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x625")]);break;case"modelImage":a=new(esmap[_0x1dda("0x399")])(esmap.ESLayerType[_0x1dda("0x537")]);break;case _0x1dda("0x5bf"):a=new esmap.ESLayer(esmap[_0x1dda("0x39a")][_0x1dda("0xd21")]);break;case"webViewMarker":a=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0xfd7")]);break;case _0x1dda("0x5c8"):a=new esmap.ESLayer(esmap[_0x1dda("0x39a")][_0x1dda("0xfd8")]);break;case"cardMarker":a=new esmap.ESLayer(esmap[_0x1dda("0x39a")].CARD_MARKER);break;case _0x1dda("0x5c4"):a=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0xe8d")])}a[_0x1dda("0xfc")]=d,this[_0x1dda("0x3b8")](a)}else a=a[0];return a}},{key:_0x1dda("0x3bb"),value:function(d,x){d=[].concat(d);for(var a=!1,_=[],e=0;e<this.layers[_0x1dda("0x0")];e++){var t=this.layers[e];if(t._type_&&d[_0x1dda("0xaf")](t._type_)>-1&&(x&&(a=x(t,t[_0x1dda("0x608")])),_.push(t)),a)return 0==_[_0x1dda("0x0")]?null:1==_[_0x1dda("0x0")]?_[0]:_}return _}},{key:_0x1dda("0x3bc"),value:function(d,x){d=[][_0x1dda("0x317")](d);for(var a=[],_=0;_<this[_0x1dda("0x9a4")][_0x1dda("0x0")];_++){var e=this[_0x1dda("0x9a4")][_];e[_0x1dda("0xfc")]&&d[_0x1dda("0xaf")](e[_0x1dda("0xfc")])>-1&&(x&&x(e,e[_0x1dda("0xfc")])&&_--,a.push(e))}return a}},{key:"getObjectsByAlias",value:function(d,x){var a=[];return this[_0x1dda("0x3bb")](d,(function(d){if(null!=x)for(var _=d[_0x1dda("0x180")][_0x1dda("0xe6")],e=0;e<_;e++)x(d[_0x1dda("0x180")][_0x1dda("0xe6")][e])&&a[_0x1dda("0x10")](d.o3d_[_0x1dda("0xe6")][e]);else a[_0x1dda("0x10")][_0x1dda("0x5")](a,d[_0x1dda("0x180")][_0x1dda("0xe6")])})),a}},{key:"getFirstLayer",value:function(d){var x=this[_0x1dda("0x3bb")](d);return x?x[_0x1dda("0x0")]?x[0]:x:null}},{key:_0x1dda("0xfce"),value:function(d){d[_0x1dda("0x180")][_0x1dda("0x169")]=!1;for(var x=0;d.o3d_[_0x1dda("0xe6")][_0x1dda("0x0")]>x;){var a=d[_0x1dda("0x180")][_0x1dda("0xe6")][x];a.em&&a.em[_0x1dda("0xe8")]?a.em[_0x1dda("0xe8")]():x++}this[_0x1dda("0x180")][_0x1dda("0x181")](d[_0x1dda("0x180")])}},{key:_0x1dda("0xfcf"),value:function(d){for(var x=[][_0x1dda("0x317")](d),a=0;a<this[_0x1dda("0x9a4")][_0x1dda("0x0")];a++){var _=this[_0x1dda("0x9a4")][a];if(_[_0x1dda("0x608")]&&(0,t[_0x1dda("0x16")])(x,_[_0x1dda("0x608")])){_[_0x1dda("0x180")][_0x1dda("0x169")]=!1;for(var e=0;_[_0x1dda("0x180")][_0x1dda("0xe6")][_0x1dda("0x0")]>e;){var i=_[_0x1dda("0x180")][_0x1dda("0xe6")][e];i.em&&i.em[_0x1dda("0xe8")]?i.em.dispose():e++}this[_0x1dda("0x180")].remove(_[_0x1dda("0x180")]),a--}}}},{key:"removeLayersByNames",value:function(d){for(var x=[][_0x1dda("0x317")](d),a=0;a<this.layers.length;a++){var _=this[_0x1dda("0x9a4")][a];if(_[_0x1dda("0xfc")]&&(0,t[_0x1dda("0x16")])(x,_.name)){_.o3d_[_0x1dda("0x169")]=!1;for(var e=0;_[_0x1dda("0x180")].children[_0x1dda("0x0")]>e;){var i=_[_0x1dda("0x180")][_0x1dda("0xe6")][e];i[_0x1dda("0xe5")]&&i[_0x1dda("0xe5")].dispose&&i[_0x1dda("0xe5")][_0x1dda("0xe8")](),e++}this[_0x1dda("0x180")][_0x1dda("0x181")](_[_0x1dda("0x180")]),a--}}}},{key:"applyHeatMap",value:function(d){d&&this.data_[_0x1dda("0xbd4")]&&d[_0x1dda("0xfd1")](this)}},{key:"removeHeatMap",value:function(d){d&&this[_0x1dda("0x4f5")][_0x1dda("0xbd4")]&&d.disposeHeatMap(this[_0x1dda("0x4f5")][_0x1dda("0xbd4")])}},{key:_0x1dda("0xf8"),value:function(d){return this[_0x1dda("0xfd9")](d,this[_0x1dda("0x180")],!1)}},{key:_0x1dda("0xfd9"),value:function(d,x,a){if(x[_0x1dda("0xe5")]&&(a=d(x.datas_)),a)return!0;for(var _=0;_<x.children[_0x1dda("0x0")];_++){if(this[_0x1dda("0xfd9")](d,x[_0x1dda("0xe6")][_],a))return!0}}},{key:_0x1dda("0x1e7"),get:function(){return new esmap.ESMapCoord(-this[_0x1dda("0xb3")][_0x1dda("0x2a8")],this.mapScene[_0x1dda("0x2a9")],this.o3d_[_0x1dda("0xf38")][_0x1dda("0xa51")])}},{key:"layers",get:function(){for(var d=[],x=0;x<this.o3d_.children[_0x1dda("0x0")];x++){var a=this[_0x1dda("0x180")][_0x1dda("0xe6")][x][_0x1dda("0xe5")];a&&d[_0x1dda("0x10")](a)}return d}}]),d}();x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=r(a(5)),e=r(a(0)),t=r(a(1)),i=r(a(10)),n=r(a(11));function r(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var s=0,o=function(d){function x(d,a){(0,e.default)(this,x);var t=(0,i[_0x1dda("0xd")])(this,(x.__proto__||(0,_.default)(x))[_0x1dda("0x3")](this,0,a,new(THREE[_0x1dda("0x384")])));switch(t[_0x1dda("0x608")]=d||esmap.ESLayerType[_0x1dda("0xb78")],t[_0x1dda("0xfc")]="",d){case esmap[_0x1dda("0x39a")][_0x1dda("0xf2f")]:case esmap[_0x1dda("0x39a")].TEXT_MARKER:t[_0x1dda("0x180")][_0x1dda("0x39c")]=new(esmap[_0x1dda("0x5e7")]),t[_0x1dda("0xf2d")]=!1;break;case esmap[_0x1dda("0x39a")][_0x1dda("0x625")]:break;case esmap.ESLayerType[_0x1dda("0xfda")]:case esmap.ESLayerType[_0x1dda("0x39b")]:case esmap[_0x1dda("0x39a")][_0x1dda("0x9a6")]:t[_0x1dda("0xf2d")]=!0;case esmap.ESLayerType[_0x1dda("0xfdb")]:}if(t[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0xb1b")]||t[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0xf2f")]||t[_0x1dda("0x608")]==esmap[_0x1dda("0x39a")][_0x1dda("0x9a6")]||t[_0x1dda("0x608")]==esmap.ESLayerType[_0x1dda("0x39b")]){var n=esmap[_0x1dda("0x33")][_0x1dda("0x34")],r=n[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]?n.id:null;n.on(_0x1dda("0x152"),(function(){t[_0x1dda("0x180")]&&("3D"!=n[_0x1dda("0x928")]||n[_0x1dda("0x226")][_0x1dda("0x296")]()<=.11689?t[_0x1dda("0x180")].position.y=.2:t[_0x1dda("0x180")][_0x1dda("0xfa")].y=0)}),null,r)}return t.viewRadius=null,t}return(0,n[_0x1dda("0xd")])(x,d),(0,t.default)(x,[{key:_0x1dda("0xfdc"),value:function(d){this.o3d_.traverse((function(x){x[_0x1dda("0x2")]("renderOrder")&&(x.renderOrder=d)}))}},{key:_0x1dda("0x22d"),value:function(){this[_0x1dda("0xf2d")]=!0}},{key:_0x1dda("0xfdd"),value:function(){this[_0x1dda("0xf2d")]=!1}},{key:_0x1dda("0x1cb"),value:function(d){var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")],a=d,_=this;if(this.checkType(a[_0x1dda("0x106")]))switch(a.nodeType){case esmap[_0x1dda("0x126")].IMAGE_MARKER:var e=a[_0x1dda("0x12d")];a[_0x1dda("0x180")][_0x1dda("0x40")]({type:_0x1dda("0x2e9")}),this[_0x1dda("0x180")][_0x1dda("0xce")](a.o3d_),x[_0x1dda("0x17d")][_0x1dda("0x3ae")](a[_0x1dda("0x180")],e||_0x1dda("0x133"));break;case esmap[_0x1dda("0x126")][_0x1dda("0xb1b")]:e=a[_0x1dda("0x12d")];a[_0x1dda("0x180")][_0x1dda("0x40")]({type:_0x1dda("0x2e9")}),this.o3d_[_0x1dda("0xce")](a.o3d_),a[_0x1dda("0xf98")]&&x.mapPicker[_0x1dda("0x3ae")](a[_0x1dda("0x180")],e||_0x1dda("0x133"));break;case esmap[_0x1dda("0x126")].CARD_MARKER:a.o3d_[_0x1dda("0x40")]({type:_0x1dda("0x2e9")}),this[_0x1dda("0x180")][_0x1dda("0xce")](a[_0x1dda("0x180")]);break;case esmap[_0x1dda("0x126")][_0x1dda("0x1b5")]:var t=x[_0x1dda("0xa23")]()[_0x1dda("0x22c")],i=!1;if(x[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")].Building?x[_0x1dda("0x7d")][_0x1dda("0x7e")]("sk")||x[_0x1dda("0x35")][_0x1dda("0x1cc")]||(x[_0x1dda("0x7d")][_0x1dda("0x7e")]("ul")>>1&1||0)<1&&(console[_0x1dda("0x255")](esmap[_0x1dda("0x24d")][_0x1dda("0x9b5")]),i=!0):a[_0x1dda("0x101")]&&(t=x[_0x1dda("0x62e")][0][_0x1dda("0x22c")]),i&&!x[_0x1dda("0x7d")][_0x1dda("0xa34")])return void console.info(esmap[_0x1dda("0x24d")][_0x1dda("0x9b5")]);_[_0x1dda("0xfde")]=t,_.load3dmarker(a,_),_[_0x1dda("0xfde")][_0x1dda("0x968")]=!1,s++;break;case esmap[_0x1dda("0x126")].POLYGON_MARKER:a[_0x1dda("0x180")][_0x1dda("0x40")]({type:_0x1dda("0x2e9")}),this[_0x1dda("0x180")][_0x1dda("0xce")](a[_0x1dda("0x180")])}else console.info(_0x1dda("0xfdf"));a[_0x1dda("0xfe0")]&&a._init_()}},{key:_0x1dda("0xfe1"),value:function(){var d=this[_0x1dda("0x180")][_0x1dda("0x2c4")];this[_0x1dda("0xfde")][_0x1dda("0xcad")][d]=!0}},{key:_0x1dda("0xcbb"),value:function(){var d=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x7d")][_0x1dda("0xc17")]||0;return s>d||0==d}},{key:_0x1dda("0xfe2"),value:function(d,x){var a=x.o3d_[_0x1dda("0x2c4")];this.loadManger[_0x1dda("0xcca")]({data:d.data,model:d.model,name:d[_0x1dda("0xfc")],scale:d[_0x1dda("0x1d7")],rotation:d[_0x1dda("0x201")],merge:d[_0x1dda("0x101")],layerid:a,url:d[_0x1dda("0x4a")],seeThrough:d[_0x1dda("0x15a")],showLevel:d[_0x1dda("0x1cd")],position:d[_0x1dda("0xfa")],parent:x[_0x1dda("0x180")],marker:d,id:d.ID,bclick:d[_0x1dda("0xfe3")]||!1,spritify:d[_0x1dda("0xf7d")],onError:d[_0x1dda("0xfe4")],callback:d[_0x1dda("0x195")]}),d.merge&&(this[_0x1dda("0xfde")].userModelLoadStatus[a]=!0)}},{key:_0x1dda("0xfe5"),value:function(d){for(var x=this[_0x1dda("0x180")][_0x1dda("0xe6")],a=esmap[_0x1dda("0x33")][_0x1dda("0x34")][_0x1dda("0x226")].target,_=0;_<x[_0x1dda("0x0")];_++){var e=x[_];e[_0x1dda("0xfa")].distanceTo(a)>d?(e.forceVisible_=!1,e[_0x1dda("0x169")]=!1):(e[_0x1dda("0x2da")]=!0,e[_0x1dda("0x169")]=!0)}}},{key:_0x1dda("0xfe6"),value:function(d){var x=this,a=d[_0x1dda("0xfc8")],_=d[_0x1dda("0xd8")],e=(this[_0x1dda("0x180")][_0x1dda("0xe6")],a),t=esmap[_0x1dda("0x33")].instance,i=!1;this[_0x1dda("0xfc7")]=_,this[_0x1dda("0xfc8")]=a,t.on(_0x1dda("0x1ee"),(function(d){d>=e?1!=i&&(i=!0,x[_0x1dda("0xfe5")](_)):0!=i&&(i=!1,x[_0x1dda("0xfe5")](1/0))}));var n=null;t.on(_0x1dda("0x38c"),(function(){if(t[_0x1dda("0x2ea")]>=e&&(i||(i=!0)),i){var d=t.controls.target,a={x:1*d.x[_0x1dda("0x60b")](1),y:1*d.z.toFixed(1)};n&&n.x==a.x&&n.y==a.y||x[_0x1dda("0xfe5")](_),n=a}}))}},{key:_0x1dda("0xfe7"),value:function(d){var x=this[_0x1dda("0x608")],a=null;for(var _ in esmap[_0x1dda("0x39a")])if(esmap[_0x1dda("0x39a")][_]==x){a=_;break}return esmap.ESNodeType[a]==d||(console[_0x1dda("0x255")](_0x1dda("0xfe8")),!1)}},{key:_0x1dda("0xce"),value:function(d){this.o3d_[_0x1dda("0xce")](d[_0x1dda("0x180")])}},{key:_0x1dda("0x181"),value:function(d){d.dispose()}},{key:"removeAll",value:function(){for(var d=0;this[_0x1dda("0x180")][_0x1dda("0xe6")][_0x1dda("0x0")]>d;){var x=this[_0x1dda("0x180")].children[d];x.datas_&&x[_0x1dda("0xe5")].dispose&&(x[_0x1dda("0xe5")][_0x1dda("0xe8")](),d--),d++}}},{key:"traverse",value:function(d){return this[_0x1dda("0xfd9")](d,this.o3d_,!1)}},{key:_0x1dda("0xfd9"),value:function(d,x,a){if(x[_0x1dda("0xe5")]&&(a=d(x.datas_)),a)return!0;for(var _=0;_<x.children[_0x1dda("0x0")];_++){if(this[_0x1dda("0xfd9")](d,x.children[_],a))return!0}}},{key:_0x1dda("0xfe9"),get:function(){return esmap[_0x1dda("0x33")].instance[_0x1dda("0xb3")][_0x1dda("0xfe9")]}}]),x}(esmap.ESNode);x[_0x1dda("0xd")]=o},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=t(a(2)),e=t(a(0));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}x[_0x1dda("0xd")]=function d(x){(0,e[_0x1dda("0xd")])(this,d);var a=esmap[_0x1dda("0x86")][_0x1dda("0x301")]()[_0x1dda("0x37d")];(0,_[_0x1dda("0xd")])(this,x),this.size=x&&x.size?x[_0x1dda("0xd2")]:a?esmap[_0x1dda("0x5e1")][_0x1dda("0xfea")]:esmap[_0x1dda("0x5e1")][_0x1dda("0xfeb")],this.position=x&&x.position?x.position:null,this[_0x1dda("0xfec")]=x&&x[_0x1dda("0xfec")]?x[_0x1dda("0xfec")]:null,this.offset=x&&x[_0x1dda("0x16d")]?x[_0x1dda("0x16d")]:a?new(esmap[_0x1dda("0x5ef")])(20,50):new(esmap[_0x1dda("0x5ef")])(10,10),this.imgURL=x&&x[_0x1dda("0xfed")]?x[_0x1dda("0xfed")]:_0x1dda("0xfee"),this[_0x1dda("0xfef")]=x&&x.hasOwnProperty(_0x1dda("0xfef"))?x[_0x1dda("0xfef")]:10}},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _,e=a(0),t=(_=e)&&_.__esModule?_:{default:_};x[_0x1dda("0xd")]=function d(x,a){(0,t[_0x1dda("0xd")])(this,d),this.x=x||0,this.y=a||0}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=s(a(2)),e=s(a(0)),t=s(a(1)),i=a(18),n=a(82),r=a(24);function s(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var o=function(){function d(x,a){var t=this;(0,e[_0x1dda("0xd")])(this,d),window.esmap[_0x1dda("0xff0")]&&window[_0x1dda("0xdd")][_0x1dda("0xff0")][_0x1dda("0xe8")](),this.map=x,this[_0x1dda("0xff1")]=null,this[_0x1dda("0xff2")]=!1,this[_0x1dda("0xff3")]={},this[_0x1dda("0xff4")]=!1,this.tapCount=!1,this[_0x1dda("0xff5")]=!1,this[_0x1dda("0x52")]=null,this[_0x1dda("0xff6")]=!1;var i=new(esmap[_0x1dda("0xff7")])(a);if((0,_[_0x1dda("0xd")])(i,{scale:null,textColor:_0x1dda("0xff8"),toggleColor:"#1F6ED4",bgColor:_0x1dda("0x31c"),focusTextColor:_0x1dda("0x31c"),focusBgColor:"#1F6ED4",showBtnCount:3,borderRadius:5,marginBottom:5,textSize:14,fnumToggleBtn:this[_0x1dda("0x42")][_0x1dda("0x36")]!=esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")],viewModeBtn:this[_0x1dda("0x42")][_0x1dda("0x36")]!=esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")],expandBtn:!0,expandSpan:20,scrollMode:!0,size:null,exitBtn:!0,onUpdated:null},a),i[_0x1dda("0xfa")]=i[_0x1dda("0xfa")]||2,this.scrollMode=i[_0x1dda("0xff9")],i[_0x1dda("0xffa")]>5&&(i[_0x1dda("0xffa")]=5),this[_0x1dda("0x4d3")]=i,this[_0x1dda("0x37d")]=esmap[_0x1dda("0x86")][_0x1dda("0x301")]().isPC,this[_0x1dda("0x323")]=20,this[_0x1dda("0x325")]=10,this[_0x1dda("0x326")]=10,this.disposed=!1,this.expanded=!1,x.on(_0x1dda("0xa12"),(function(){t.dispose()})),x[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]&&x.on(_0x1dda("0xc56"),(function(d){if(2==d[_0x1dda("0x3a8")]&&d[_0x1dda("0x12d")]){var a=x[_0x1dda("0x12b")](d[_0x1dda("0x12d")]);t.building&&t[_0x1dda("0x52")].id!=d.bid||t[_0x1dda("0xffb")]?t[_0x1dda("0x152")](a):t[_0x1dda("0x52")]||t[_0x1dda("0x152")](a)}})),x.mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")])x.on(_0x1dda("0x97d"),(function(d){t[_0x1dda("0x152")](d),x[_0x1dda("0x35")][_0x1dda("0xa14")]&&t.changeFocusFloor(d[_0x1dda("0x634")][d[_0x1dda("0x634")][_0x1dda("0x0")]-1])}));else{var n=x[_0x1dda("0x62c")]();n?this[_0x1dda("0x152")](n):x.on(_0x1dda("0x97d"),(function(d){t[_0x1dda("0x152")](d)}))}esmap[_0x1dda("0xff0")]=this}return(0,t[_0x1dda("0xd")])(d,[{key:"update",value:function(d){var x=this.configs;x[_0x1dda("0xff9")]=this.scrollMode,this[_0x1dda("0xffc")]&&this[_0x1dda("0xe8")](),this[_0x1dda("0xffb")]=!1,this[_0x1dda("0x52")]=d;var a=d[_0x1dda("0x634")][_0x1dda("0x0")];a>=3&&x[_0x1dda("0xffa")]<3&&(x[_0x1dda("0xffa")]=3),a<x[_0x1dda("0xffa")]&&(x.showBtnCount=a),4==x.showshowBtnCount&&(x[_0x1dda("0xffd")]=3),a<=2&&(x.scrollMode=!1);x.size||(x[_0x1dda("0xd2")]=this[_0x1dda("0x37d")]?_0x1dda("0x3fd"):_0x1dda("0x5e2"));var _={small:42,normal:42}[x[_0x1dda("0xd2")]]||x[_0x1dda("0xd2")];this[_0x1dda("0xffe")]=_,this.init()}},{key:_0x1dda("0x1f7"),value:function(d){var x=this[_0x1dda("0x4d3")][_0x1dda("0x16d")].x,a=this.configs[_0x1dda("0x16d")].y,_=this[_0x1dda("0x4d3")][_0x1dda("0xfa")];switch(d[_0x1dda("0x120")][_0x1dda("0x323")]=_0x1dda("0xfff"),d[_0x1dda("0x120")][_0x1dda("0x325")]=_0x1dda("0xfff"),d[_0x1dda("0x120")][_0x1dda("0x326")]=_0x1dda("0xfff"),_){case 1:d[_0x1dda("0x120")][_0x1dda("0x323")]=a+"px",d[_0x1dda("0x120")][_0x1dda("0x325")]=x+"px";break;case 2:d.style[_0x1dda("0x324")]=a+"px",d[_0x1dda("0x120")][_0x1dda("0x325")]=x+"px";break;case 3:d.style[_0x1dda("0x323")]=a+"px",d[_0x1dda("0x120")][_0x1dda("0x326")]=x+"px";break;case 4:d.style[_0x1dda("0x324")]=a+"px",d[_0x1dda("0x120")][_0x1dda("0x326")]=x+"px"}}},{key:"updateStyle",value:function(d){if(this[_0x1dda("0xff6")]){var x={bgColor:1,borderRadius:1,textColor:2,toggleColor:3,focusBgColor:[4,7],focusTextColor:4,marginBottom:5},a=[{keys:[],getStyle:function(){return _0x1dda("0x1001")+e+_0x1dda("0x1002")}},{keys:[_0x1dda("0x460"),_0x1dda("0xc4a")],getStyle:function(){return _0x1dda("0x1003")+e+_0x1dda("0x1004")+e+" .viewModeToggle , ."+e+" .controlWrapper{\n                        background-color: "+i.bgColor+_0x1dda("0x1005")+i[_0x1dda("0xc4a")]+_0x1dda("0x1006")}},{keys:["textColor"],getStyle:function(){return _0x1dda("0x1007")+e+_0x1dda("0x1008")+i[_0x1dda("0x1009")]+_0x1dda("0x100a")}},{keys:["toggleColor"],getStyle:function(){return"."+e+" .layer , ."+e+_0x1dda("0x100b")+e+_0x1dda("0x100c")+e+_0x1dda("0x100d")+e+_0x1dda("0x100e")+i[_0x1dda("0x100f")]+_0x1dda("0x1010")}},{keys:[_0x1dda("0x1011"),_0x1dda("0x1012")],getStyle:function(){return"\n                    ."+e+_0x1dda("0x1013")+i[_0x1dda("0x1011")]+_0x1dda("0x1014")+i.focusTextColor+_0x1dda("0x100a")}},{keys:[_0x1dda("0x1015")],getStyle:function(){return"\n                    ."+e+_0x1dda("0x1004")+e+_0x1dda("0x1016")+i[_0x1dda("0x1015")]+_0x1dda("0x1017")}},{keys:["textSize"],getStyle:function(){return _0x1dda("0x1001")+e+_0x1dda("0x1018")+i[_0x1dda("0xb4a")]+_0x1dda("0x1017")}},{keys:[_0x1dda("0x1011")],getStyle:function(){return _0x1dda("0x1001")+e+_0x1dda("0x1019")+i[_0x1dda("0x1011")]+_0x1dda("0x100a")}}],e=this[_0x1dda("0x101a")];(0,_.default)(this[_0x1dda("0x4d3")],d);var t=[],i=this[_0x1dda("0x4d3")];for(var n in d)if(x[n]){var s=[][_0x1dda("0x317")](x[n]);for(var o in s){var c=s[o];if(!t.includes(c)){var l=a[c].getStyle();this[_0x1dda("0x101b")][_0x1dda("0x101c")](c),this.styleSheet[_0x1dda("0x101d")](l,c),t[_0x1dda("0x10")](c)}}}}else r[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:_0x1dda("0x1000"),level:_0x1dda("0x1eb")})}},{key:_0x1dda("0x101e"),value:function(d){2==d||(this.$scroller[_0x1dda("0x120")][_0x1dda("0x323")]=_0x1dda("0xfff"));var x=this[_0x1dda("0xffe")];this.configs[_0x1dda("0xff9")]&&(this[_0x1dda("0x101f")][_0x1dda("0x120")][_0x1dda("0x18b")]=d*x-0+"px"),this[_0x1dda("0x4d3")][_0x1dda("0xffa")]=d}},{key:_0x1dda("0xe8"),value:function(){this[_0x1dda("0xffc")]&&(this[_0x1dda("0xffc")][_0x1dda("0x27")]&&this[_0x1dda("0xffc")][_0x1dda("0x27")][_0x1dda("0x28")](this[_0x1dda("0xffc")]),this[_0x1dda("0xffc")]=null),this[_0x1dda("0xffb")]=!0,this[_0x1dda("0x52")]=null,this[_0x1dda("0xff6")]=!1}},{key:_0x1dda("0x1020"),value:function(d){var x=this,a=this.buttonSize;this[_0x1dda("0x1021")]={};var _=document[_0x1dda("0x20")](_0x1dda("0x1a4"));_[_0x1dda("0x120")][_0x1dda("0x1a5")]=a+"px",_[_0x1dda("0x120")].height=a+"px",_.style[_0x1dda("0x1aa")]=_0x1dda("0x1022"),_.style[_0x1dda("0x1023")]=_0x1dda("0x1024"),_.style[_0x1dda("0x1ac")]="border-box",_.className=_0x1dda("0x1025"),_[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0xc4c"),_[_0x1dda("0x120")][_0x1dda("0x1a8")]=_0x1dda("0x122"),_[_0x1dda("0x120")][_0x1dda("0x1026")]=_0x1dda("0x1027");var e=document[_0x1dda("0x20")](_0x1dda("0x1a4"));e[_0x1dda("0x120")].width=_0x1dda("0x1a6"),e[_0x1dda("0x120")].height=_0x1dda("0x1a6"),e.className=_0x1dda("0x1028"),e[_0x1dda("0x120")][_0x1dda("0x1a7")]="inline-block",e[_0x1dda("0x1ae")]=this[_0x1dda("0x1029")],_[_0x1dda("0x24")](e),this.expandIcon=e;var t=document[_0x1dda("0x20")]("div");t.style[_0x1dda("0x1a5")]=_0x1dda("0x1a6"),t[_0x1dda("0x120")][_0x1dda("0x18b")]=_0x1dda("0x1a6"),t[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x5bb"),t[_0x1dda("0x1ae")]=this.iconShrink,t[_0x1dda("0x4a0")]=_0x1dda("0x102a"),this.shrinkIcon=t,_[_0x1dda("0x24")](t),_[_0x1dda("0x30")](_0x1dda("0x731"),(function(d){d[_0x1dda("0x343")](),d.preventDefault()})),_.addEventListener(_0x1dda("0x732"),(function(d){d[_0x1dda("0x343")](),d[_0x1dda("0x473")](),x[_0x1dda("0x102b")]()})),_[_0x1dda("0x30")](_0x1dda("0xb01"),(function(d){x.toggleExpanded()})),d[_0x1dda("0x24")](_),this[_0x1dda("0x102c")]=_}},{key:_0x1dda("0x102b"),value:function(){this[_0x1dda("0xffe")];this[_0x1dda("0x52")][_0x1dda("0x1f2")](_0x1dda("0x102d")),this[_0x1dda("0x102e")]?(this.building[_0x1dda("0x102f")](0),this[_0x1dda("0x1030")][_0x1dda("0x120")].display="inline-block",this.shrinkIcon[_0x1dda("0x120")].display=_0x1dda("0x5bb")):(this.building[_0x1dda("0x102f")](this.configs[_0x1dda("0xfef")]),this[_0x1dda("0x1030")][_0x1dda("0x120")].display=_0x1dda("0x5bb"),this[_0x1dda("0x1031")][_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x1032")),this[_0x1dda("0x102e")]=!this[_0x1dda("0x102e")]}},{key:_0x1dda("0x32"),value:function(){var d=this,x=this.map,a=this.building;this[_0x1dda("0x1033")]=_0x1dda("0x1034"),this.icon3d=_0x1dda("0x1035"),this[_0x1dda("0x1036")]=_0x1dda("0x1037"),this[_0x1dda("0x1038")]=_0x1dda("0x1039"),this[_0x1dda("0x103a")]=_0x1dda("0x103b"),this.iconExpand=_0x1dda("0x103c"),this[_0x1dda("0x103d")]=_0x1dda("0x103e"),this[_0x1dda("0x103f")]=_0x1dda("0x1040");var _=a.floorNums.sort((function(d,x){return d-x})),e=this[_0x1dda("0x4d3")];e[_0x1dda("0xff9")]||(_=a[_0x1dda("0x634")].sort((function(d,x){return x-d})));var t=this[_0x1dda("0xffe")],n="F"+(0,i[_0x1dda("0x1a")])(5),s=document[_0x1dda("0x20")]("style");s[_0x1dda("0x9f")]=_0x1dda("0x1041"),s[_0x1dda("0x1ae")]="\n        ."+n+" .floor-scroller.smooth{\n            -webkit-transition: -webkit-transform .5s ease;\n            transition: -webkit-transform .5s ease;\n            transition: transform .5s ease;\n            transition: transform .5s ease,-webkit-transform .5s ease;\n        }\n        ."+n+_0x1dda("0x1004")+n+_0x1dda("0x1042")+n+_0x1dda("0x1043")+e[_0x1dda("0x460")]+_0x1dda("0x1044")+e[_0x1dda("0xc4a")]+_0x1dda("0x1045")+n+_0x1dda("0x1046")+e.textColor+_0x1dda("0x1047")+n+_0x1dda("0x1048")+n+_0x1dda("0x100b")+n+_0x1dda("0x100c")+n+_0x1dda("0x100d")+n+_0x1dda("0x1049")+e.toggleColor+_0x1dda("0x1047")+n+" .floor-item.active .floor-item-devide{\n            background-color: "+e[_0x1dda("0x1011")]+_0x1dda("0x104a")+e[_0x1dda("0x1012")]+_0x1dda("0x1047")+n+_0x1dda("0x1004")+n+_0x1dda("0x104b")+e.marginBottom+_0x1dda("0x104c")+n+_0x1dda("0x104d")+e.textSize+"px;\n        }\n        ."+n+_0x1dda("0x104e")+e[_0x1dda("0x1011")]+_0x1dda("0x104f"),this[_0x1dda("0x101a")]=n,document.querySelector(_0x1dda("0x1050"))[_0x1dda("0x24")](s),this[_0x1dda("0x101b")]=s.sheet;var o=document[_0x1dda("0x20")](_0x1dda("0x1a4"));o[_0x1dda("0x4a0")]=n,o[_0x1dda("0x120")].position=_0x1dda("0xc4f"),o[_0x1dda("0x120")][_0x1dda("0x8ea")]=_0x1dda("0x1051"),o.style[_0x1dda("0x1a7")]="block",o[_0x1dda("0x120")][_0x1dda("0x1ac")]=_0x1dda("0x1ad"),e[_0x1dda("0x1d7")]&&(o.style[_0x1dda("0x65b")]="scale("+e[_0x1dda("0x1d7")]+")"),o[_0x1dda("0x30")]("mousewheel",(function(d){d[_0x1dda("0x343")]()}));var c=document.createElement(_0x1dda("0x1a4"));c[_0x1dda("0x120")][_0x1dda("0x1a5")]=t+"px",c[_0x1dda("0x120")][_0x1dda("0x18b")]=t+"px",c[_0x1dda("0x120")][_0x1dda("0x1aa")]="8px",c[_0x1dda("0x120")][_0x1dda("0x1023")]=_0x1dda("0x1024"),c[_0x1dda("0x120")].boxSizing=_0x1dda("0x1ad"),c.className=_0x1dda("0x1025");var l=a[_0x1dda("0x12c")][_0x1dda("0x0")]==a[_0x1dda("0x634")][_0x1dda("0x0")];a[_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]?d[_0x1dda("0x1052")]=l:2==a[_0x1dda("0x42")][_0x1dda("0x35")].buildingFoucsMode&&(d[_0x1dda("0x1052")]=!0);var f=document[_0x1dda("0x20")](_0x1dda("0x1a4"));f[_0x1dda("0x120")][_0x1dda("0x1a5")]=_0x1dda("0x1a6"),f[_0x1dda("0x120")][_0x1dda("0x18b")]=_0x1dda("0x1a6"),f[_0x1dda("0x4a0")]=_0x1dda("0x9a4"),f[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda(l?"0x1032":"0x5bb"),f[_0x1dda("0x1ae")]=this.iconLayers,c[_0x1dda("0x24")](f),this[_0x1dda("0x1053")]=c,this[_0x1dda("0x1054")]=f;var u=document[_0x1dda("0x20")]("div");u[_0x1dda("0x120")][_0x1dda("0x1a5")]=_0x1dda("0x1a6"),u[_0x1dda("0x120")].height=_0x1dda("0x1a6"),u[_0x1dda("0x120")][_0x1dda("0x1a7")]=l?"none":_0x1dda("0x1032"),u[_0x1dda("0x1ae")]=this.iconLayer,u[_0x1dda("0x4a0")]=_0x1dda("0xd47");var h=1==_.length;c[_0x1dda("0x24")](u),this.layerImage=u,c[_0x1dda("0x30")](_0x1dda("0x731"),(function(d){d[_0x1dda("0x473")](),d.stopPropagation()})),c[_0x1dda("0x30")](_0x1dda("0x732"),(function(x){d[_0x1dda("0xff4")]||(x[_0x1dda("0x473")](),x.stopPropagation(),d[_0x1dda("0x1055")](!d[_0x1dda("0x1052")]))})),c.addEventListener(_0x1dda("0xb00"),(function(x){d[_0x1dda("0xff4")]||(x[_0x1dda("0x473")](),x[_0x1dda("0x343")]())})),c.addEventListener("touchend",(function(x){x[_0x1dda("0x473")](),x[_0x1dda("0x343")](),d[_0x1dda("0x1055")](!d[_0x1dda("0x1052")])})),h&&(c[_0x1dda("0x120")][_0x1dda("0x1a7")]="none"),this[_0x1dda("0x1056")]=x[_0x1dda("0x928")];var g=document[_0x1dda("0x20")]("div");g.style[_0x1dda("0x1a5")]=t+"px",g[_0x1dda("0x120")][_0x1dda("0x18b")]=t+"px",g[_0x1dda("0x120")].padding=_0x1dda("0x1022"),g[_0x1dda("0x120")][_0x1dda("0x1023")]=_0x1dda("0x1024"),g[_0x1dda("0x120")].boxSizing=_0x1dda("0x1ad"),g[_0x1dda("0x4a0")]=_0x1dda("0x1057");var b="2D"==this[_0x1dda("0x1056")],v=document[_0x1dda("0x20")](_0x1dda("0x1a4"));v[_0x1dda("0x120")].width=_0x1dda("0x1a6"),v.style.height="100%",v[_0x1dda("0x4a0")]="view2d",v[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda(b?"0x1032":"0x5bb"),v[_0x1dda("0x1ae")]=this[_0x1dda("0x1033")],g[_0x1dda("0x24")](v),this[_0x1dda("0x1028")]=v;var p=document[_0x1dda("0x20")](_0x1dda("0x1a4"));p[_0x1dda("0x120")][_0x1dda("0x1a5")]=_0x1dda("0x1a6"),p.style[_0x1dda("0x18b")]=_0x1dda("0x1a6"),p[_0x1dda("0x120")][_0x1dda("0x1a7")]=b?"none":"inline-block",p.innerHTML=this[_0x1dda("0x1058")],p[_0x1dda("0x4a0")]=_0x1dda("0x102a"),g[_0x1dda("0x24")](p),this[_0x1dda("0x102a")]=p,g[_0x1dda("0x30")](_0x1dda("0x731"),(function(d){d[_0x1dda("0x473")](),d[_0x1dda("0x343")]()})),g.addEventListener(_0x1dda("0x732"),(function(x){d.isTapping||(x.preventDefault(),x[_0x1dda("0x343")](),d.toggleViewModeState())})),g.addEventListener(_0x1dda("0xb00"),(function(x){d[_0x1dda("0xff4")]||(x[_0x1dda("0x473")](),x[_0x1dda("0x343")]())})),g[_0x1dda("0x30")](_0x1dda("0xb01"),(function(x){x[_0x1dda("0x473")](),x[_0x1dda("0x343")](),d[_0x1dda("0x1059")]()})),e.viewModeBtn&&o[_0x1dda("0x24")](g),e[_0x1dda("0x105a")]&&o[_0x1dda("0x24")](c),!h&&e[_0x1dda("0x105b")]&&this[_0x1dda("0x1020")](o),this[_0x1dda("0xffc")]=o,this.configs.exitBtn&&x[_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]&&this.createExitBtn();var m=document[_0x1dda("0x20")](_0x1dda("0x1a4"));m[_0x1dda("0x4a0")]=_0x1dda("0x105c"),m[_0x1dda("0x120")].width=t+"px",m[_0x1dda("0x120")][_0x1dda("0x105d")]=_0x1dda("0x6e8"),m[_0x1dda("0x120")][_0x1dda("0xc54")]=_0x1dda("0x5bb"),m.style[_0x1dda("0x1a7")]=_0x1dda("0xc4c"),m.style.alignItems=_0x1dda("0x122"),m.style[_0x1dda("0x1a8")]=_0x1dda("0x122"),m[_0x1dda("0x120")][_0x1dda("0x35d")]="1111.11rem",m[_0x1dda("0x120")][_0x1dda("0x35d")]=_0x1dda("0x105e"),m[_0x1dda("0x120")][_0x1dda("0x105f")]="1111.11rem",m[_0x1dda("0x120")][_0x1dda("0x1060")]=_0x1dda("0x1061"),m.style[_0x1dda("0x1062")]=_0x1dda("0x1061"),m[_0x1dda("0x120")][_0x1dda("0x1063")]=_0x1dda("0x122");var A=document[_0x1dda("0x20")]("div");this.$scroller=A,A[_0x1dda("0x120")].position=_0x1dda("0x6e9"),A[_0x1dda("0x120")][_0x1dda("0x1a5")]=_0x1dda("0x1a6"),e[_0x1dda("0xff9")]?A.style.height=t+"px":(A[_0x1dda("0x120")][_0x1dda("0x18b")]=_0x1dda("0x1a6"),m[_0x1dda("0x120")][_0x1dda("0x1aa")]=_0x1dda("0x1064")),this[_0x1dda("0x101f")]=m,this.updateBtnCount(e[_0x1dda("0xff9")]?this[_0x1dda("0x4d3")][_0x1dda("0xffa")]:_.length),e.scrollMode&&(A[_0x1dda("0x120")][_0x1dda("0x1065")]=_0x1dda("0x1066"),A[_0x1dda("0x120")][_0x1dda("0x1067")]="preserve-3d"),A[_0x1dda("0x4a0")]=_0x1dda("0x1068");var C=0,I=5==this[_0x1dda("0x4d3")][_0x1dda("0xffa")]?2:1;_[_0x1dda("0x0")]>=3&&(I+=2);var y=Math.min(360/(_[_0x1dda("0x0")]+I),25.714);this[_0x1dda("0x1069")]=y;var E=a[_0x1dda("0x52b")];if(!h){var w=void 0;if(this[_0x1dda("0x4d3")][_0x1dda("0xff9")]){w=y<25.714?8*_[_0x1dda("0x0")]:3==this[_0x1dda("0x4d3")].showBtnCount?100:110;var T=document.createElement(_0x1dda("0x1a4"));T.classList[_0x1dda("0xce")](_0x1dda("0x106a")),T[_0x1dda("0x120")][_0x1dda("0x18b")]=t+"px",T[_0x1dda("0x120")][_0x1dda("0x321")]=t+"px",T.style[_0x1dda("0xfa")]=_0x1dda("0xc4f"),T.style[_0x1dda("0x324")]=_0x1dda("0xfff"),T[_0x1dda("0x120")][_0x1dda("0x1ac")]=_0x1dda("0x1ad"),T.style.display=_0x1dda("0xc4c"),T[_0x1dda("0x120")].justifyContent=_0x1dda("0x122"),T[_0x1dda("0x120")].alignItems="center",T[_0x1dda("0x120")].cursor=_0x1dda("0x1024"),T[_0x1dda("0x120")].width=t+"px";var k=C-y;T.style["-webkit-transform"]="rotateX("+k+_0x1dda("0x106b")+w+_0x1dda("0x106c"),T.style.transform=_0x1dda("0x106d")+k+_0x1dda("0x106b")+w+_0x1dda("0x106c"),T[_0x1dda("0x120")][_0x1dda("0x106e")]=_0x1dda("0x6e8"),T[_0x1dda("0x120")][_0x1dda("0x106f")]=_0x1dda("0x6e8"),T[_0x1dda("0x120")]["-moz-backface-visibility"]="hidden",T[_0x1dda("0x120")][_0x1dda("0x1070")]=_0x1dda("0x6e8"),T[_0x1dda("0x41f")](_0x1dda("0x201"),-y),T.innerHTML=this[_0x1dda("0x103a")],T[_0x1dda("0x1071")][0][_0x1dda("0x120")][_0x1dda("0x65b")]=_0x1dda("0x1072"),T[_0x1dda("0x1071")][0][_0x1dda("0x120")][_0x1dda("0x1a5")]=_0x1dda("0x1073"),T[_0x1dda("0x1071")][0][_0x1dda("0x120")].height=_0x1dda("0x1073"),T[_0x1dda("0x30")]("mousedown",(function(d){d.preventDefault(),d[_0x1dda("0x343")]()})),T.addEventListener("mouseup",(function(x){if(!(d[_0x1dda("0x1074")]>1)){var a=x[_0x1dda("0x1075")][_0x1dda("0x3fb")](_0x1dda("0x201"));d[_0x1dda("0x1076")](a),d[_0x1dda("0x1077")](a),x[_0x1dda("0x343")](),x.preventDefault()}})),T.addEventListener(_0x1dda("0xb01"),(function(x){if(!(d[_0x1dda("0x1074")]>1)){var a=x.currentTarget[_0x1dda("0x3fb")](_0x1dda("0x201"));d.setTransformAngle(a),d[_0x1dda("0x1077")](a),x[_0x1dda("0x343")](),x.preventDefault()}})),A[_0x1dda("0x24")](T)}else w=60;for(var S=0;S<_.length;S++){var M=_[S],R=a.getFloor(M);if(R){var L=R.floorAlias,D=document[_0x1dda("0x20")]("div");D.className=_0x1dda("0x1079"),D[_0x1dda("0x120")].height=t+"px",D[_0x1dda("0x120")].lineHeight=t+"px",D[_0x1dda("0x120")].bottom=_0x1dda("0xfff"),D[_0x1dda("0x120")][_0x1dda("0x1ac")]=_0x1dda("0x1ad"),D.style.display=_0x1dda("0xc4c"),D[_0x1dda("0x120")][_0x1dda("0x1a8")]=_0x1dda("0x122"),D[_0x1dda("0x120")].alignItems=_0x1dda("0x122"),D.style.cursor=_0x1dda("0x1024"),D[_0x1dda("0x120")][_0x1dda("0x1a5")]=t+"px",e.scrollMode&&(D[_0x1dda("0x120")]["-webkit-transform"]=_0x1dda("0x106d")+C+_0x1dda("0x106b")+w+"px)",D[_0x1dda("0x120")].transform=_0x1dda("0x106d")+C+"deg) translateZ("+w+_0x1dda("0x106c"),D[_0x1dda("0x120")][_0x1dda("0x106e")]=_0x1dda("0x6e8"),D.style[_0x1dda("0x106f")]=_0x1dda("0x6e8"),D.style[_0x1dda("0x107a")]=_0x1dda("0x6e8"),D.style[_0x1dda("0x1070")]=_0x1dda("0x6e8"),D[_0x1dda("0x120")].position="absolute",D[_0x1dda("0x41f")](_0x1dda("0x201"),-C)),E==M&&(this[_0x1dda("0x1076")](-C),D[_0x1dda("0x4a0")]+=_0x1dda("0x107b")),D[_0x1dda("0x41f")]("fnum",M);var H=document[_0x1dda("0x20")](_0x1dda("0xc4d"));H[_0x1dda("0x107c")]=L,H[_0x1dda("0x120")].fontWeight="bolder",H.style.width=_0x1dda("0x107d"),H[_0x1dda("0x120")][_0x1dda("0x18b")]=_0x1dda("0x107d"),H[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0xc4c"),H[_0x1dda("0x120")].justifyContent=_0x1dda("0x122"),H[_0x1dda("0x120")][_0x1dda("0x107e")]=_0x1dda("0x122"),H[_0x1dda("0x120")][_0x1dda("0x328")]=_0x1dda("0x122"),H[_0x1dda("0x120")][_0x1dda("0x321")]=_0x1dda("0x1a6"),H[_0x1dda("0x120")][_0x1dda("0x107f")]=_0x1dda("0x1080"),H[_0x1dda("0x120")].borderRadius=_0x1dda("0x1a6"),H[_0x1dda("0x120")][_0x1dda("0x105d")]=_0x1dda("0x6e8"),H[_0x1dda("0x120")][_0x1dda("0x485")]="all .5s ease-in",H[_0x1dda("0x120")][_0x1dda("0x1081")]=_0x1dda("0x1082"),H[_0x1dda("0x4a0")]=_0x1dda("0x1083"),D[_0x1dda("0x24")](H),A[_0x1dda("0x24")](D),C+=y}else r[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:_0x1dda("0x1078")+a.id+" æ¾ä¸å°æ¥¼å±: "+M,level:_0x1dda("0x9c7")})}if(e.scrollMode){var P=document[_0x1dda("0x20")](_0x1dda("0x1a4"));P[_0x1dda("0x49b")][_0x1dda("0xce")](_0x1dda("0x106a")),P[_0x1dda("0x120")].height=t+"px",P[_0x1dda("0x120")].lineHeight=t+"px",P[_0x1dda("0x120")][_0x1dda("0xfa")]=_0x1dda("0xc4f"),P[_0x1dda("0x120")].bottom="unset",P.style[_0x1dda("0x1ac")]=_0x1dda("0x1ad"),P.style[_0x1dda("0x1a7")]=_0x1dda("0xc4c"),P.style[_0x1dda("0x1a8")]=_0x1dda("0x122"),P[_0x1dda("0x120")][_0x1dda("0x107e")]=_0x1dda("0x122"),P[_0x1dda("0x120")][_0x1dda("0x1023")]=_0x1dda("0x1024"),P.style.width=t+"px",P[_0x1dda("0x120")][_0x1dda("0x1084")]=_0x1dda("0x106d")+C+_0x1dda("0x106b")+w+"px)",P[_0x1dda("0x120")][_0x1dda("0x65b")]=_0x1dda("0x106d")+C+_0x1dda("0x106b")+w+"px)",P[_0x1dda("0x120")].backfaceVisibility=_0x1dda("0x6e8"),P[_0x1dda("0x120")][_0x1dda("0x106f")]=_0x1dda("0x6e8"),P[_0x1dda("0x120")]["-moz-backface-visibility"]=_0x1dda("0x6e8"),P[_0x1dda("0x120")][_0x1dda("0x1070")]="hidden",P[_0x1dda("0x41f")]("angle",-(C-2*y)),P[_0x1dda("0x1ae")]=this.iconArrow,P[_0x1dda("0x1071")][0].style[_0x1dda("0x65b")]="rotate(-90deg)",P.childNodes[0][_0x1dda("0x120")].width=_0x1dda("0x1073"),P.childNodes[0].style[_0x1dda("0x18b")]=_0x1dda("0x1073"),P[_0x1dda("0x30")](_0x1dda("0x731"),(function(d){d[_0x1dda("0x473")](),d.stopPropagation()})),P[_0x1dda("0x30")](_0x1dda("0x732"),(function(x){if(!(d[_0x1dda("0x1074")]>1)){var a=x[_0x1dda("0x1075")][_0x1dda("0x3fb")](_0x1dda("0x201"));d[_0x1dda("0x1076")](a),d[_0x1dda("0x1077")](a),x[_0x1dda("0x343")](),x[_0x1dda("0x473")]()}})),P[_0x1dda("0x30")](_0x1dda("0xb01"),(function(x){if(!(d[_0x1dda("0x1074")]>1)){var a=x[_0x1dda("0x1075")][_0x1dda("0x3fb")](_0x1dda("0x201"));d[_0x1dda("0x1076")](a),d[_0x1dda("0x1077")](a),x[_0x1dda("0x343")](),x[_0x1dda("0x473")]()}})),A[_0x1dda("0x24")](P)}this[_0x1dda("0x1085")]=-1*(C-y),this[_0x1dda("0x101f")][_0x1dda("0x24")](A),o[_0x1dda("0x24")](m)}x[_0x1dda("0x19f")][_0x1dda("0xadc")].domElement[_0x1dda("0x24")](o),this[_0x1dda("0x1f7")](o),e[_0x1dda("0xff9")]&&(m.onmousewheel=this[_0x1dda("0x1086")][_0x1dda("0x4e")](this));for(var O=document[_0x1dda("0x1087")](_0x1dda("0x1079")),B=function(x){if(d[_0x1dda("0xff5")]=!0,!(d.tapCount>1)){var a=x.currentTarget;if(e[_0x1dda("0xff9")]){var _=a[_0x1dda("0x3fb")](_0x1dda("0x201"));d[_0x1dda("0x1076")](_),d.toggleTargetClass(_)}else{var t=a[_0x1dda("0x3fb")](_0x1dda("0x123"));d.toggleTargetClassByFnum(t),d[_0x1dda("0x95b")](t)}x[_0x1dda("0x343")](),x[_0x1dda("0x473")]()}},F=function(x){if(d[_0x1dda("0xff5")]=!0,!(d[_0x1dda("0x1074")]>1)){var a=x[_0x1dda("0x1075")];if(e[_0x1dda("0xff9")]){var _=a[_0x1dda("0x3fb")]("angle"),t=d[_0x1dda("0x1088")];t[_0x1dda("0x49b")].contains(_0x1dda("0x988"))||t[_0x1dda("0x49b")][_0x1dda("0xce")](_0x1dda("0x988")),d.setTransformAngle(_),d[_0x1dda("0x1077")](_)}else{var i=a.getAttribute("fnum");d[_0x1dda("0x1089")](i),d.changeFocusFloor(i)}x[_0x1dda("0x343")](),x[_0x1dda("0x473")]()}},N=0;N<O[_0x1dda("0x0")];N++){var z=O[N];z[_0x1dda("0x30")](_0x1dda("0x731"),(function(d){d[_0x1dda("0x473")](),d[_0x1dda("0x343")]()})),z.addEventListener(_0x1dda("0x732"),B),z[_0x1dda("0x30")](_0x1dda("0xb01"),F)}this[_0x1dda("0x37d")]?m[_0x1dda("0x30")](_0x1dda("0x731"),this[_0x1dda("0xb23")][_0x1dda("0x4e")](this),!1):(e[_0x1dda("0xff9")]&&(m[_0x1dda("0x30")](_0x1dda("0xb00"),this[_0x1dda("0x4b5")][_0x1dda("0x4e")](this),!1),m[_0x1dda("0x30")](_0x1dda("0xb06"),this[_0x1dda("0x108a")][_0x1dda("0x4e")](this),!1)),m[_0x1dda("0x30")](_0x1dda("0xb01"),this[_0x1dda("0x108b")].bind(this),!1)),a.on(_0x1dda("0x93e"),(function(x){d[_0x1dda("0xffb")]||(d.triggerSkip?d.triggerSkip=!1:d[_0x1dda("0x1089")](x))})),x.on("viewModeChanged",(function(x){d[_0x1dda("0xffb")]||(d[_0x1dda("0xff5")]?d[_0x1dda("0xff5")]=!1:d.setViewModeState(x))})),a.on(_0x1dda("0x166"),(function(x){d[_0x1dda("0xffb")]||(x[_0x1dda("0x0")]==a[_0x1dda("0x634")][_0x1dda("0x0")]?d.setAllFloorState(!0,!0):d[_0x1dda("0x1055")](!1,!0))})),d[_0x1dda("0x4d3")][_0x1dda("0xff9")]&&this[_0x1dda("0x108c")](),this[_0x1dda("0x4d3")][_0x1dda("0x108d")]&&this[_0x1dda("0x4d3")][_0x1dda("0x108d")](this),this[_0x1dda("0xff6")]=!0}},{key:"reComputeHeight",value:function(){if(5==this[_0x1dda("0x4d3")].showBtnCount&&this.building[_0x1dda("0x634")][_0x1dda("0x0")]>=5){var d=this[_0x1dda("0x1088")][_0x1dda("0xe6")],x=this[_0x1dda("0x1088")][_0x1dda("0x108e")](_0x1dda("0x108f")),a=Array[_0x1dda("0x1")][_0x1dda("0xaf")][_0x1dda("0x3")](d,x),_=x.getBoundingClientRect(),e=[],t=(e=d[a+1]&&d[a+2]?[d[a+1],d[a+2]]:[d[a-1],d[a-2]])[0].getBoundingClientRect(),i=e[1].getBoundingClientRect(),n=_[_0x1dda("0x18b")]/2+t[_0x1dda("0x18b")]+i[_0x1dda("0x18b")];this[_0x1dda("0x101f")][_0x1dda("0x120")][_0x1dda("0x18b")]=2*n+"px"}}},{key:_0x1dda("0x1090"),value:function(){var d=this,x=this.buttonSize,a=document.createElement(_0x1dda("0x1a4"));a[_0x1dda("0x120")][_0x1dda("0x1a5")]=x+"px",a[_0x1dda("0x120")][_0x1dda("0x18b")]=x+"px",a[_0x1dda("0x120")][_0x1dda("0x1aa")]=_0x1dda("0x1022"),a.style[_0x1dda("0x1023")]=_0x1dda("0x1024"),a[_0x1dda("0x120")][_0x1dda("0x1ac")]="border-box",a.className=_0x1dda("0x1025");var _=document[_0x1dda("0x20")](_0x1dda("0x1a4"));_[_0x1dda("0x120")].width=_0x1dda("0x1a6"),_[_0x1dda("0x120")][_0x1dda("0x18b")]=_0x1dda("0x1a6"),_[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x1032"),_[_0x1dda("0x4a0")]="exit",_[_0x1dda("0x1ae")]=this[_0x1dda("0x103f")],a[_0x1dda("0x24")](_),a[_0x1dda("0x30")](_0x1dda("0x731"),(function(d){d[_0x1dda("0x473")](),d.stopPropagation()})),a[_0x1dda("0x30")](_0x1dda("0x732"),(function(x){if(0==d[_0x1dda("0x42")]._buildingAnimating){x.preventDefault(),x[_0x1dda("0x343")]();var a=d[_0x1dda("0x52")];a[_0x1dda("0x42")][_0x1dda("0x337")](_0x1dda("0xa1a"),(function(){d[_0x1dda("0xe8")]()})),a[_0x1dda("0x42")][_0x1dda("0xa10")](a.id)}})),a.addEventListener(_0x1dda("0xb00"),(function(x){var a=d[_0x1dda("0x52")];x.stopPropagation(),x[_0x1dda("0x473")](),a[_0x1dda("0x42")].closeBuildingById(a.id)&&d[_0x1dda("0xe8")]()})),this[_0x1dda("0xffc")][_0x1dda("0x24")](a)}},{key:_0x1dda("0x1091"),value:function(d){"2D"==d?(this[_0x1dda("0x1028")][_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x1032"),this[_0x1dda("0x102a")][_0x1dda("0x120")].display=_0x1dda("0x5bb")):(this.view3d[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x1032"),this[_0x1dda("0x1028")][_0x1dda("0x120")][_0x1dda("0x1a7")]="none"),this[_0x1dda("0x1056")]=d}},{key:_0x1dda("0x1059"),value:function(d){var x="3D"==this[_0x1dda("0x1056")]?"2D":"3D";this[_0x1dda("0x1091")](x),this[_0x1dda("0x1052")]&&this[_0x1dda("0x1055")](!1,!1),!d&&this[_0x1dda("0x1092")](x)}},{key:_0x1dda("0x1092"),value:function(d){window[_0x1dda("0xdd")][_0x1dda("0xa2e")]?esmap[_0x1dda("0x9cd")].viewMode=d:this[_0x1dda("0x42")].viewMode=d}},{key:_0x1dda("0x1055"),value:function(d,x){var a=this[_0x1dda("0x52")],_=this[_0x1dda("0x42")].mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]||1==this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc8f")];this.map[_0x1dda("0x36")]==esmap.MapMode.City&&this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xc24")]===esmap.ShowBuildingMode[_0x1dda("0xc25")]&&(_=!0),d!=this[_0x1dda("0x1052")]&&(d?("2D"!=this.viewModeState&&this.viewModeState!=_0x1dda("0x323")||this[_0x1dda("0x1092")]("3D"),_&&!x&&(a.visibleFloorNums=a[_0x1dda("0x634")]),this[_0x1dda("0x1093")].style[_0x1dda("0x1a7")]=_0x1dda("0x5bb"),this[_0x1dda("0x1054")].style[_0x1dda("0x1a7")]=_0x1dda("0x1032"),this[_0x1dda("0x1052")]=!0):(_&&!x&&(a.visibleFloorNums=[a[_0x1dda("0x52b")]]),this[_0x1dda("0x1054")][_0x1dda("0x120")][_0x1dda("0x1a7")]="none",this[_0x1dda("0x1093")][_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x1032"),this[_0x1dda("0x1052")]=!1))}},{key:_0x1dda("0x1086"),value:function(d){window[_0x1dda("0x22e")](this.timer2);var x=this,a=this[_0x1dda("0x1088")],_=0;d[_0x1dda("0x1094")]?d[_0x1dda("0x1094")]<0?_+=10:_-=10:d.detail;var e=-1*a[_0x1dda("0x120")][_0x1dda("0x65b")][_0x1dda("0x26c")](/[0-9]\d*/)[0],t=this[_0x1dda("0x1095")](e+_);a.style[_0x1dda("0x65b")]=_0x1dda("0x106d")+t+_0x1dda("0x1096"),this[_0x1dda("0xff2")]||(this[_0x1dda("0xff2")]=!0),x[_0x1dda("0xff1")]=setTimeout((function(){x[_0x1dda("0xb05")][_0x1dda("0x3")](x)}),300)}},{key:"getActiveAngle",value:function(){for(var d=document[_0x1dda("0x1087")](_0x1dda("0x1079")),x=0;x<d[_0x1dda("0x0")];x++){var a=d[x];if(a.classList.contains(_0x1dda("0xbf9")))return 1*a[_0x1dda("0x3fb")](_0x1dda("0x201"))}}},{key:_0x1dda("0x1076"),value:function(d){this[_0x1dda("0x4d3")].scrollMode&&(this[_0x1dda("0x1088")][_0x1dda("0x120")][_0x1dda("0x65b")]="rotateX("+d+_0x1dda("0x1096"))}},{key:_0x1dda("0x1097"),value:function(){return-1*this.$scroller[_0x1dda("0x120")][_0x1dda("0x65b")][_0x1dda("0x26c")](/[0-9]\d*/)[0]}},{key:_0x1dda("0x4b5"),value:function(d){this[_0x1dda("0xff4")]=!0,d[_0x1dda("0x343")](),this[_0x1dda("0x1074")]=0,this[_0x1dda("0xff2")]=!0,this[_0x1dda("0xff3")]=d[_0x1dda("0xb32")]?d[_0x1dda("0xb32")][0][_0x1dda("0x71e")]:d[_0x1dda("0x71e")],this[_0x1dda("0x1098")]=this[_0x1dda("0x1097")]()}},{key:_0x1dda("0xb23"),value:function(d){d.preventDefault(),d.stopPropagation()}},{key:_0x1dda("0x108a"),value:function(d){if(!this[_0x1dda("0xffb")]&&(d[_0x1dda("0x473")](),d[_0x1dda("0x343")](),this.tapCount++,this[_0x1dda("0xff2")])){var x=this.$scroller;x[_0x1dda("0x49b")][_0x1dda("0x49c")](_0x1dda("0x988"))&&x[_0x1dda("0x49b")][_0x1dda("0x181")](_0x1dda("0x988"));var a=d[_0x1dda("0xb32")]?d[_0x1dda("0xb32")][0][_0x1dda("0x71e")]:d[_0x1dda("0x71e")];a>this[_0x1dda("0xff3")]?1:-1;var _=this[_0x1dda("0xff3")]-a,e=this[_0x1dda("0x1095")](_+this[_0x1dda("0x1098")]);this.setTransformAngle(e)}}},{key:"onmousemove",value:function(d){if(!this[_0x1dda("0xffb")]&&this.taped){d[_0x1dda("0x473")](),d.stopPropagation(),this[_0x1dda("0x1074")]++;var x=this[_0x1dda("0x1088")];x.classList[_0x1dda("0x49c")](_0x1dda("0x988"))&&x[_0x1dda("0x49b")][_0x1dda("0x181")]("smooth");var a=d[_0x1dda("0xb32")]?d[_0x1dda("0xb32")][0][_0x1dda("0x71e")]:d[_0x1dda("0x71e")],_=this[_0x1dda("0xff3")]-a,e=this[_0x1dda("0x1095")](_+this[_0x1dda("0x1098")]);this[_0x1dda("0x1076")](e)}}},{key:_0x1dda("0x108b"),value:function(d){if(!this[_0x1dda("0xffb")]){d&&(d.stopPropagation(),d[_0x1dda("0x473")]());var x=this.$scroller;x[_0x1dda("0x49b")][_0x1dda("0x49c")](_0x1dda("0x988"))||x[_0x1dda("0x49b")][_0x1dda("0xce")]("smooth"),this[_0x1dda("0xff2")]=!1,this[_0x1dda("0xff3")]=null,this[_0x1dda("0x1098")]=null,this[_0x1dda("0x1099")](),this[_0x1dda("0xff4")]=!1}}},{key:_0x1dda("0xb05"),value:function(d){if(!this[_0x1dda("0xffb")]&&this.taped){d&&(d[_0x1dda("0x343")](),d.preventDefault());var x=this[_0x1dda("0x1088")];x[_0x1dda("0x49b")][_0x1dda("0x49c")](_0x1dda("0x988"))||x[_0x1dda("0x49b")][_0x1dda("0xce")](_0x1dda("0x988")),this[_0x1dda("0xff2")]=!1,this.tapedPos=null,this[_0x1dda("0x1098")]=null,this[_0x1dda("0x1099")](),this[_0x1dda("0xff4")]=!1}}},{key:"limitValue",value:function(d){return d>0?d=0:d<this[_0x1dda("0x1085")]&&(d=this.$maxAngle),d}},{key:"toggleTargetClassByFnum",value:function(d){for(var x=document.getElementsByClassName(_0x1dda("0x1079")),a=0;a<x[_0x1dda("0x0")];a++){var _=x[a];if(1*_.getAttribute(_0x1dda("0x123"))==d){if(!_.classList[_0x1dda("0x49c")]("active")){var e=_.getAttribute("angle");_[_0x1dda("0x49b")][_0x1dda("0xce")](_0x1dda("0xbf9")),this.setTransformAngle(e)}}else _[_0x1dda("0x49b")][_0x1dda("0x49c")](_0x1dda("0xbf9"))&&_[_0x1dda("0x49b")].remove("active")}}},{key:"toggleTargetClass",value:function(d){for(var x=document[_0x1dda("0x1087")](_0x1dda("0x1079")),a=!1,_=0;_<x[_0x1dda("0x0")];_++){var e=x[_],t=e.getAttribute("angle");if(Math[_0x1dda("0x2c1")]((0,n[_0x1dda("0x109a")])(d))==Math[_0x1dda("0x2c1")]((0,n[_0x1dda("0x109a")])(t))){if(a=!0,!e[_0x1dda("0x49b")][_0x1dda("0x49c")](_0x1dda("0xbf9"))){var i=e.getAttribute(_0x1dda("0x123"));e[_0x1dda("0x49b")][_0x1dda("0xce")]("active"),this.changeFocusFloor(i)}}else e.classList[_0x1dda("0x49c")](_0x1dda("0xbf9"))&&e[_0x1dda("0x49b")].remove(_0x1dda("0xbf9"))}if(!a&&d>200){var r=x[x[_0x1dda("0x0")]-1];if(!r.classList[_0x1dda("0x49c")]("active")){r[_0x1dda("0x49b")][_0x1dda("0xce")](_0x1dda("0xbf9"));var s=r[_0x1dda("0x3fb")](_0x1dda("0x123"));this[_0x1dda("0x95b")](s)}}}},{key:"changeFocusFloor",value:function(d){d*=1;var x=this[_0x1dda("0x52")];if(this.building[_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")].City){var a=x[_0x1dda("0x634")][_0x1dda("0x3ef")]((function(d,x){return d-x}))[_0x1dda("0x11")](0,d);if(2==this.building[_0x1dda("0x35")][_0x1dda("0xbd2")]){var _=this[_0x1dda("0x52")][_0x1dda("0x35")][_0x1dda("0xbc4")];a=d>_?a[_0x1dda("0x2a5")]((function(d){return d>_})):a[_0x1dda("0x2a5")]((function(d){return d<=_})),x[_0x1dda("0x12c")]=a}else x[_0x1dda("0x12c")]=[d]}else this[_0x1dda("0x1052")]||(x.visibleFloorNums=[d]);x[_0x1dda("0x52b")]=d}},{key:_0x1dda("0x1099"),value:function(){for(var d=1*this[_0x1dda("0x1088")].style[_0x1dda("0x65b")].match(/[0-9]\d*/)[0],x=document[_0x1dda("0x1087")]("floor-item"),a=null,_=0;_<x[_0x1dda("0x0")];_++){var e=x[_][_0x1dda("0x3fb")](_0x1dda("0x201"));if(a){var t=Math.abs(Math[_0x1dda("0x2c1")](1*e)-Math[_0x1dda("0x2c1")](d));Math[_0x1dda("0x2c1")](t)<Math[_0x1dda("0x2c1")](a[_0x1dda("0x64b")])&&(a[_0x1dda("0x64b")]=t,a.ind=_,a[_0x1dda("0x201")]=1*e)}else a={dis:Math[_0x1dda("0x2c1")](Math[_0x1dda("0x2c1")](1*e)-Math[_0x1dda("0x2c1")](d)),ind:_,angle:1*e}}this[_0x1dda("0x1076")](a.angle),this[_0x1dda("0x1077")](a[_0x1dda("0x201")])}},{key:"x",get:function(){return this[_0x1dda("0x4d3")][_0x1dda("0x16d")].x},set:function(d){this[_0x1dda("0x4d3")][_0x1dda("0x16d")].x=d,this[_0x1dda("0x1f7")](this[_0x1dda("0xffc")])}},{key:"y",get:function(){return this.configs[_0x1dda("0x16d")].y},set:function(d){this.configs[_0x1dda("0x16d")].y=d,this[_0x1dda("0x1f7")](this[_0x1dda("0xffc")])}},{key:_0x1dda("0xfa"),get:function(){return this.configs.position},set:function(d){this.configs[_0x1dda("0xfa")]=d,this.setPosition(this[_0x1dda("0xffc")])}},{key:_0x1dda("0x169"),set:function(d){this[_0x1dda("0xffc")]&&(this[_0x1dda("0xffc")][_0x1dda("0x120")][_0x1dda("0x1a7")]=d?_0x1dda("0x109b"):"none")},get:function(){return!(!this[_0x1dda("0xffc")]||this[_0x1dda("0xffc")][_0x1dda("0x120")].display!=_0x1dda("0x109b"))}}]),d}();x[_0x1dda("0xd")]=o},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=i(a(0)),e=i(a(1)),t=i(a(111));function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x,a){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x4db")]=new(esmap[_0x1dda("0xff7")])(a),_0x1dda("0x3fd")==this[_0x1dda("0x4db")][_0x1dda("0xd2")]?(this.w_=42,this.h_=42,this[_0x1dda("0x109c")]=14):(this.w_=28,this.h_=28,this[_0x1dda("0x109c")]=8),this.x_=this[_0x1dda("0x4db")][_0x1dda("0x16d")].x,this.y_=this.options_[_0x1dda("0x16d")].y,this[_0x1dda("0x109d")]=this.options_[_0x1dda("0xfa")]?this.options_[_0x1dda("0xfa")]:4,this.top_=20,this[_0x1dda("0x109e")]=10,this[_0x1dda("0x109f")]=10,this.defaultShadow_=_0x1dda("0x10a0"),this[_0x1dda("0x10a1")]=_0x1dda("0x10a2"),this[_0x1dda("0x10a3")]=this[_0x1dda("0x4db")].imgURL,this[_0x1dda("0x4dd")]=!0,x&&(this[_0x1dda("0x42")]=x,this[_0x1dda("0x32")](x))}return(0,e[_0x1dda("0xd")])(d,[{key:"init",value:function(d){var x=(0,t.default)(_0x1dda("0x1a4"))[_0x1dda("0x41e")](_0x1dda("0x1af"),_0x1dda("0x10a4")).style({zIndex:10,position:"absolute",backgroundColor:_0x1dda("0xc48"),boxShadow:this.defaultShadow_,borderRadius:this[_0x1dda("0x10a1")]})[_0x1dda("0x41c")],a=(0,t[_0x1dda("0xd")])(_0x1dda("0x1a4")).attr("class",_0x1dda("0x10a5"))[_0x1dda("0x120")]({padding:this[_0x1dda("0x109c")]+"px",cursor:"pointer",height:this.h_}).addEvent(_0x1dda("0x99d"),this[_0x1dda("0x9dc")][_0x1dda("0x4e")](this))[_0x1dda("0x41c")],_=(0,t[_0x1dda("0xd")])(_0x1dda("0x4ec"))[_0x1dda("0x41e")](_0x1dda("0x4e5"),this[_0x1dda("0x10a3")]+"zoomin.png").style({width:this.w_-2*this[_0x1dda("0x109c")]+"px",height:this.h_-2*this[_0x1dda("0x109c")]+"px"})[_0x1dda("0x41c")];a[_0x1dda("0x24")](_);var e=(0,t[_0x1dda("0xd")])(_0x1dda("0x1a4"))[_0x1dda("0x41e")]("class",_0x1dda("0x10a6"))[_0x1dda("0x120")]({padding:this[_0x1dda("0x109c")]+"px",cursor:_0x1dda("0x1024"),height:this.h_})[_0x1dda("0x41d")](_0x1dda("0x99d"),this[_0x1dda("0x10a7")].bind(this))[_0x1dda("0x41c")],i=(0,t.default)(_0x1dda("0x4ec"))[_0x1dda("0x41e")](_0x1dda("0x4e5"),this[_0x1dda("0x10a3")]+"zoomout.png")[_0x1dda("0x120")]({width:this.w_-2*this.padding_+"px",height:this.h_-2*this.padding_+"px"})[_0x1dda("0x41c")];e[_0x1dda("0x24")](i),x[_0x1dda("0x24")](a),x[_0x1dda("0x24")](this.hrEl()),x[_0x1dda("0x24")](e);var n=d[_0x1dda("0x19f")].container[_0x1dda("0x10a8")]("canvas")[0];d[_0x1dda("0x19f")][_0x1dda("0x352")][_0x1dda("0x6ee")](x,n),this[_0x1dda("0x10a9")](x),this[_0x1dda("0x10aa")]()}},{key:_0x1dda("0x10aa"),value:function(){if(this[_0x1dda("0x42")]){var d=this;this[_0x1dda("0x42")].on(_0x1dda("0x152"),(function(){var x=document.querySelector(_0x1dda("0x10ab"));d[_0x1dda("0x10a9")](x)}))}}},{key:_0x1dda("0x10a9"),value:function(d,x){switch(this.positon_){case 1:(0,t[_0x1dda("0xd")])(d)[_0x1dda("0x120")]({top:this[_0x1dda("0x10ac")]+this.y_+"px",left:this[_0x1dda("0x109e")]+this.x_+"px"});break;case 2:x=this[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x10ad")][_0x1dda("0x26")]-d.clientHeight-60;(0,t[_0x1dda("0xd")])(d).style({top:x-this.y_+"px",left:this.left_+this.x_+"px"});break;case 3:(0,t[_0x1dda("0xd")])(d)[_0x1dda("0x120")]({top:this[_0x1dda("0x10ac")]+this.y_+"px",right:this[_0x1dda("0x109f")]+this.x_+"px"});break;case 4:x=this[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x10ad")][_0x1dda("0x26")]-d[_0x1dda("0x4e8")]-60;(0,t.default)(d)[_0x1dda("0x120")]({top:x-this.y_+"px",right:this[_0x1dda("0x109f")]+this.x_+"px"})}}},{key:_0x1dda("0x10ae"),value:function(){return(0,t[_0x1dda("0xd")])("hr")[_0x1dda("0x120")]({height:_0x1dda("0x10af"),border:_0x1dda("0x5bb"),borderTop:_0x1dda("0x10b0"),width:_0x1dda("0x10b1"),margin:_0x1dda("0x10b2"),filter:_0x1dda("0x10b3")})[_0x1dda("0x41c")]}},{key:_0x1dda("0x10a7"),value:function(d){this[_0x1dda("0x42")]&&this[_0x1dda("0x42")][_0x1dda("0x10a7")](),_0x1dda("0x1c")==typeof d&&d(this[_0x1dda("0x10b4")])}},{key:_0x1dda("0x9dc"),value:function(d){this[_0x1dda("0x42")]&&this.map[_0x1dda("0x9dc")](),"function"==typeof d&&d(this[_0x1dda("0x10b4")])}}]),d}();x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=b(a(45)),e=b(a(62)),t=b(a(32)),i=b(a(25)),n=b(a(13)),r=b(a(7)),s=b(a(8)),o=b(a(2)),c=b(a(0)),l=b(a(1)),f=b(a(68)),u=a(82),h=b(a(363)),g=a(18);function b(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var v=new f.default,p=new(f[_0x1dda("0xd")]),m=new(f[_0x1dda("0xd")]),A=new(f[_0x1dda("0xd")]),C={x:0,y:0},I={"ä¸è¡":"up","ä¸è¡":_0x1dda("0x10b5"),"å·¦è½¬":"left","å³è½¬":_0x1dda("0x326"),"å·¦åæ¹ç´è¡":"keepLeft","å³åæ¹ç´è¡":_0x1dda("0x10b6"),"ç´è¡":_0x1dda("0x63c"),"å³å°å°è¾¾ç®çå°":_0x1dda("0x10b7")},y=function(){function d(x){(0,c.default)(this,d),this[_0x1dda("0x10b8")]=null,this[_0x1dda("0x10b9")]=0,this[_0x1dda("0x10ba")]=[new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")].TEXT_MARKER),new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0xb1b")])],this[_0x1dda("0x10bb")]=[],this[_0x1dda("0x10bc")]=["image/start.png",_0x1dda("0x10bd")],this[_0x1dda("0xa05")]=[],this[_0x1dda("0x10be")]=null,this.realNaviClock=null,this[_0x1dda("0x10bf")]=null,this[_0x1dda("0x10c0")]="NORMAL",this[_0x1dda("0x10c1")]=.01086500000124215,this[_0x1dda("0xe9f")]=new(THREE[_0x1dda("0x1bf")]),this[_0x1dda("0x10c2")]=[],this.allowPlayDis={},this.lastAngle=null,this.isCrossingFuti=!1,this[_0x1dda("0x10c3")]={},this.curLadder=null,this._isEnd_=!0,this[_0x1dda("0x10c4")]=!1,this[_0x1dda("0x273")]=!1,this[_0x1dda("0x10c5")]=(new Date)[_0x1dda("0x85")](),this[_0x1dda("0x10c6")]=null,this[_0x1dda("0x10c7")]=0,this[_0x1dda("0x10c8")]={},this.analysedData=null,this[_0x1dda("0x10c9")]=[],this[_0x1dda("0x10ca")]={index:0,dis2next:0},this.audioPlayed={},this[_0x1dda("0xfb")]={deviateCount:0,arrivalCount:0,backcount:0,surDistance:0},this[_0x1dda("0x10cb")]=null,this[_0x1dda("0x10cc")]=null,this._allLen=0,this[_0x1dda("0x10cd")]=0,this._changeFnumIng=!1,this[_0x1dda("0x10ce")]=null,this[_0x1dda("0x10cf")]=null,this._rotateId=null,this._crossBid=null,this[_0x1dda("0x10d0")]=null,this[_0x1dda("0x10d1")]=0,this[_0x1dda("0x10d2")]=new(h[_0x1dda("0xd")]);var a=this;em[_0x1dda("0x5e5")].convert(a),(0,o.default)(a,{map:esmap[_0x1dda("0x33")][_0x1dda("0x34")],changeTiltAngle:!0,speed:4,followPosition:!0,followAngle:!1,followGap:0,isMultiFloors:0,inTime:1.2,tiltAngle:10,changeFloorTiltAngle:30,minScale:.2,scaleLevel:1,rotateTimer:0,linkStartEnd:!0,linkMinDistance:5,height:0,mode:1,reRouteDis:null,offsetHeight:1,arrivalCount:3,parkAriveDelay:2,directionAssert:10,combineAsset:3,autoStop:!0,locationMarkerSpritify:1,locationMarkerSeeThough:!1,autoClearNaviLine:!1,audioPlay:!1,audioTipEnd:!0,reRouteLimit:5,crossPauseTime:1.5,tipDistance:6,locationMarkerOptions:{},lineStyle:{lineType:esmap[_0x1dda("0x98d")].ESARROW,curvature:0,color:_0x1dda("0x10d3"),lineWidth:6,offsetHeight:.5},ladderType:1,maxEnd:2,scaleAnimate:!0,isAnimate:1,audioCountDown:20,bestViewMinDistance:5},x),a[_0x1dda("0xa7a")].nobuildCurveZ=!0;var _=a.map;if(a[_0x1dda("0x10d4")]){if(!_[_0x1dda("0x10d5")])try{_.initESAudioTool()}catch(d){console[_0x1dda("0x255")](_0x1dda("0x10d6"))}}else _[_0x1dda("0x10d5")]||(_[_0x1dda("0x10d5")]={playSoundByName:function(){}});this[_0x1dda("0x10d2")][_0x1dda("0x10b8")]=this[_0x1dda("0x10b8")]}var x,a;return(0,l[_0x1dda("0xd")])(d,[{key:_0x1dda("0x10d7"),value:function(d){this.routePlanner[_0x1dda("0x10d7")](d)}},{key:_0x1dda("0x10d8"),value:function(d,x){if(this[_0x1dda("0x10d9")](),!this[_0x1dda("0x10da")]&&this[_0x1dda("0x18d")](),this[_0x1dda("0xa05")][x]=(0,o.default)({bid:this[_0x1dda("0x42")].id},this.navData[x],d),!d[_0x1dda("0x10db")]){this[_0x1dda("0x10bb")][x]&&this.navMarker[x].dispose();var a=d[_0x1dda("0x4a")]||this.navPic[x],_=this[_0x1dda("0x10ba")][x],e=this[_0x1dda("0x42")].mode==esmap[_0x1dda("0x1b7")].Building?23:12,t=null==d[_0x1dda("0x18b")]?6:d.height,i=new(esmap[_0x1dda("0xf0c")])({x:d.x,y:d.y,image:a,height:t,seeThrough:d[_0x1dda("0x15a")]||!1,showLevel:d[_0x1dda("0x1cd")]||e,scale:d[_0x1dda("0x1d7")]||1,size:d.size||_0x1dda("0x314"),callback:function(){d.callback&&d[_0x1dda("0x195")](i)}});_[_0x1dda("0x1cb")](i),this[_0x1dda("0x10bb")][x]=i;var n=d[_0x1dda("0x12d")]||this.map.id,r=this.map[_0x1dda("0x12b")](n),s=d[_0x1dda("0x123")]||1;r[_0x1dda("0x61b")](s)[_0x1dda("0x3b8")](_)}}},{key:_0x1dda("0x10dc"),value:function(d){var x=this.map,a=null==d.time?1:d[_0x1dda("0x233")],_="3D"===x.viewMode;d[_0x1dda("0x2")](_0x1dda("0x288"))&&_&&x[_0x1dda("0x9d4")]({angle:d[_0x1dda("0x288")],time:a}),d[_0x1dda("0x2")]("scaleLevel")&&x[_0x1dda("0x94c")]({value:d.scaleLevel,time:a}),d[_0x1dda("0x2")]("rotateAngle")&&x.rotateTo({angle:d[_0x1dda("0x201")],time:a}),d[_0x1dda("0x2")](_0x1dda("0x522"))&&x[_0x1dda("0x1ff")]({x:d[_0x1dda("0x522")].x,y:d[_0x1dda("0x522")].y,time:.5*a}),d[_0x1dda("0x192")]&&setTimeout(d[_0x1dda("0x192")],1e3*a)}},{key:"setStartPoint",value:function(d){this._createMarker(d,0)}},{key:_0x1dda("0x10dd"),value:function(d){this[_0x1dda("0x10d8")](d,1)}},{key:"reRoute",value:function(){this[_0x1dda("0xa05")][0]&&this.navData[1]&&(this.analysedData=null,this[_0x1dda("0x10d9")](),this[_0x1dda("0x10de")]({drawRoute:!0}))}},{key:_0x1dda("0x10df"),value:function(d){this[_0x1dda("0x4ff")](),this[_0x1dda("0xa05")][0]={x:d[0][_0x1dda("0x10e0")][0].x,y:d[0][_0x1dda("0x10e0")][0].y,fnum:d[0][_0x1dda("0x123")]};var x=d[d.length-1][_0x1dda("0x10e0")];this[_0x1dda("0xa05")][1]={x:x[x[_0x1dda("0x0")]-1].x,y:x[x[_0x1dda("0x0")]-1].y,fnum:d[d[_0x1dda("0x0")]-1].fnum},this[_0x1dda("0x10e1")]={result:d},this[_0x1dda("0x10be")]=this[_0x1dda("0x10e1")][_0x1dda("0xbea")],this[_0x1dda("0x10e2")]();var a=this[_0x1dda("0x10e3")](this[_0x1dda("0x10be")]);this[_0x1dda("0x10c2")]=a[0],this[_0x1dda("0x10e4")]=a[1],this.navidistance=a[2],this[_0x1dda("0x10e5")]()}},{key:_0x1dda("0x10e2"),value:function(){var d=this[_0x1dda("0x10e1")].result;if(d){for(var x=[],a=null,_=null,e=0;e<d[_0x1dda("0x0")];e++){var t=d[e],i=a==t[_0x1dda("0x123")];0==t[_0x1dda("0x0")]&&0!=e&&e!=d[_0x1dda("0x0")]-1||(i||(a=t.fnum,_&&x[_0x1dda("0x10")](_),_={fnum:t.fnum,pointList:[]}),Array[_0x1dda("0x1")][_0x1dda("0x10")].apply(_[_0x1dda("0x10e0")],t.pointList))}return _&&x[_0x1dda("0x10")](_),this[_0x1dda("0x10e6")]=x,x}}},{key:_0x1dda("0xdc"),value:function(){this.getRouteResult()}},{key:_0x1dda("0x10e7"),value:function(){for(var d=[],x=this[_0x1dda("0x10e1")].result,a=0;a<x[_0x1dda("0x0")];a++)if(0==x[a][_0x1dda("0x0")]&&1==x[a].pointList[_0x1dda("0x0")]){var _=(0,o[_0x1dda("0xd")])({},x[a][_0x1dda("0x10e0")][0]);x[a][_0x1dda("0x10e0")][0].id;if(_.id){var e=this[_0x1dda("0x10d2")].getNavNodeById(_.bid,_.id);_[_0x1dda("0x43")]=e[_0x1dda("0x43")]||0,d[_0x1dda("0x10")](_)}}return d}},{key:"queryByPoints",value:function(d){var x,a=[],_=this[_0x1dda("0x36")],e=this[_0x1dda("0x10e8")],t=this[_0x1dda("0x42")];if(!esmap[_0x1dda("0x86")][_0x1dda("0x10e9")](1))return[];for(var i=0;i<d[_0x1dda("0x0")]-1;i++){var n=d[i];n[_0x1dda("0x12d")]||(n.bid=this[_0x1dda("0x42")].id);var r=d[i+1];if(r[_0x1dda("0x12d")]||(r.bid=this.map.id),n.x!==r.x||n.y!==r.y){!x&&(x=n[_0x1dda("0x123")]);var s=this[_0x1dda("0x10d2")].getRouteResult({bid:t[_0x1dda("0xa90")],startPoint:n,endPoint:r,mode:_,ladderType:e,linkStartEnd:this[_0x1dda("0x10ea")],linkMinDistance:this[_0x1dda("0x10eb")],useAMap:!1,type:null});s&&s.result[_0x1dda("0xd1")]((function(d,x,_){a[_0x1dda("0x10")](d)}))}}for(var o={},c=0;c<a[_0x1dda("0x0")];c++)for(var l=0;l<a[c].pointList[_0x1dda("0x0")];l++)o[a[c][_0x1dda("0x10e0")][l].id]?l!=a[c][_0x1dda("0x10e0")].length-1&&(a[c][_0x1dda("0x10e0")][l].x+=.2,a[c][_0x1dda("0x10e0")][l].y+=.2):o[a[c][_0x1dda("0x10e0")][l].id]=1;for(var f=0;f<a[_0x1dda("0x0")]-1;f++)a[f][_0x1dda("0x123")]==a[f+1][_0x1dda("0x123")]&&0!=a[f][_0x1dda("0x0")]&&0!=a[f+1][_0x1dda("0x0")]&&(a[f][_0x1dda("0x0")]+=a[f+1][_0x1dda("0x0")],a[f][_0x1dda("0x10e0")]=a[f][_0x1dda("0x10e0")][_0x1dda("0x317")](a[f+1][_0x1dda("0x10e0")]),a[_0x1dda("0x6")](f+1,1),f--);this.navData[0]={x:d[0].x,y:d[0].y,fnum:d[0][_0x1dda("0x123")],bid:d[0][_0x1dda("0x12d")]},this[_0x1dda("0xa05")][1]={x:d[d[_0x1dda("0x0")]-1].x,y:d[d.length-1].y,fnum:d[d.length-1].fnum,bid:d[d[_0x1dda("0x0")]-1].bid},this[_0x1dda("0x10e1")]={result:a,isMultiPointsNav:!0},this[_0x1dda("0x10be")]=a,this._getFloorsPoints();d=this[_0x1dda("0x10e3")](this[_0x1dda("0x10be")]);this[_0x1dda("0x10c2")]=d[0],this[_0x1dda("0x10e4")]=d[1],this[_0x1dda("0x10b9")]=d[2]}},{key:_0x1dda("0x10ec"),value:function(d){var x=d[0],a=d[1];x[_0x1dda("0x12d")]||(x[_0x1dda("0x12d")]=map[_0x1dda("0xa90")]),x[_0x1dda("0x123")]||(x[_0x1dda("0x123")]=1),a.bid||(a.bid=map[_0x1dda("0xa90")]),a[_0x1dda("0x123")]||(a.fnum=1);var _=this[_0x1dda("0x42")][_0x1dda("0x198")]({from:this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x19b")],to:this[_0x1dda("0x42")][_0x1dda("0x199")],coord:{x:x.x,y:x.y}}),e=this[_0x1dda("0x42")][_0x1dda("0x198")]({from:this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x19b")],to:this.map[_0x1dda("0x199")],coord:{x:a.x,y:a.y}});return[(0,o[_0x1dda("0xd")])({},x,_),(0,o[_0x1dda("0xd")])({},a,e)]}},{key:_0x1dda("0x10ed"),value:(a=(0,s.default)(r.default.mark((function d(){var x,a,_,e,t,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r[_0x1dda("0xd")].wrap((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d.next){case 0:return s=(0,o[_0x1dda("0xd")])({mode:1,type:_0x1dda("0x10ee")},s),x=this[_0x1dda("0x10ec")]([s[_0x1dda("0x21c")],s[_0x1dda("0x267")]]),a=x[0],_=x[1],e=s[_0x1dda("0x36")],t=this[_0x1dda("0x42")],d[_0x1dda("0x24c")]=8,this.routePlanner[_0x1dda("0x10de")]({bid:t[_0x1dda("0xa90")],startPoint:a,endPoint:_,mode:e,ladderType:this[_0x1dda("0x10e8")],linkStartEnd:this[_0x1dda("0x10ea")],linkMinDistance:this[_0x1dda("0x10eb")],useAMap:!0,type:s[_0x1dda("0x9f")]});case 8:i=d[_0x1dda("0x2ff")],n=null,i[_0x1dda("0x10e0")]&&i[_0x1dda("0x10e0")][_0x1dda("0x0")]>0&&(n=this.map.transformCoordArray({from:this[_0x1dda("0x42")][_0x1dda("0x199")],to:this.map[_0x1dda("0x3be")],coords:i.pointList})),s[_0x1dda("0x195")]&&s[_0x1dda("0x195")](n);case 12:case"end":return d.stop()}}),d,this)}))),function(){return a.apply(this,arguments)})},{key:_0x1dda("0x10de"),value:(x=(0,s[_0x1dda("0xd")])(r[_0x1dda("0xd")].mark((function d(){var x,a,_,e,t,i,s,c,l,f,u,h,g,b,v,p,m,A,C,I,y,E=this,w=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.wrap((function(d){for(;;)switch(d.prev=d[_0x1dda("0x24c")]){case 0:return d[_0x1dda("0x24c")]=2,new(n[_0x1dda("0xd")])((function(d){setTimeout(d,0)}));case 2:if(d[_0x1dda("0x24a")]=2,x=w[_0x1dda("0x10ef")]||!1,a=w[_0x1dda("0x10f0")]||!1,_=w[_0x1dda("0x9f")]||_0x1dda("0x10ee"),!this[_0x1dda("0xa05")][0]||!this[_0x1dda("0xa05")][1]){d[_0x1dda("0x24c")]=59;break}if(e=this.mode,t=this.map,i=this[_0x1dda("0x10ec")](this.navData),s=i[0],c=i[1],!a){d[_0x1dda("0x24c")]=27;break}return this[_0x1dda("0x10c0")]=_0x1dda("0x10f1"),d[_0x1dda("0x24c")]=16,this[_0x1dda("0x10d2")].getRouteResult({bid:t[_0x1dda("0xa90")],startPoint:s,endPoint:c,mode:e,ladderType:this[_0x1dda("0x10e8")],linkStartEnd:this.linkStartEnd,linkMinDistance:this[_0x1dda("0x10eb")],useAMap:a,type:_});case 16:l=d[_0x1dda("0x2ff")],f=l.rawPointList,u=l[_0x1dda("0x2a1")],h=l.des,g=l[_0x1dda("0x10e0")],this[_0x1dda("0x10f2")]=h,this[_0x1dda("0x10f3")]=f.map((function(d){var x=new(THREE[_0x1dda("0x11c")]);(0,o[_0x1dda("0xd")])(x,d);var a=E.map[_0x1dda("0x198")]({from:E[_0x1dda("0x42")][_0x1dda("0x199")],to:E.map[_0x1dda("0x3be")],coord:{x:d.x,y:d.z}});return x.x=a.x,x.z=a.y,x})),this.navidistance=u,b=this[_0x1dda("0x42")][_0x1dda("0x512")]({from:this[_0x1dda("0x42")][_0x1dda("0x199")],to:this[_0x1dda("0x42")][_0x1dda("0x3be")],coords:g}),x&&(v=new esmap.ESLineMarker({id:"navLine",bid:0,points:b,style:this[_0x1dda("0xa7a")]}),this[_0x1dda("0x10f4")]=v,this[_0x1dda("0x42")].drawLineMark(v)),this[_0x1dda("0x1f2")](_0x1dda("0x43a"),b),d[_0x1dda("0x24c")]=59;break;case 27:if(this[_0x1dda("0x10c0")]=_0x1dda("0x358"),this[_0x1dda("0x10e1")]=this[_0x1dda("0x10d2")][_0x1dda("0x10de")]({bid:t[_0x1dda("0xa90")],startPoint:s,endPoint:c,mode:e,ladderType:this[_0x1dda("0x10e8")],linkStartEnd:this[_0x1dda("0x10ea")],linkMinDistance:this[_0x1dda("0x10eb")],useAMap:a,type:_}),this[_0x1dda("0x10e1")]){d[_0x1dda("0x24c")]=32;break}throw console.info(_0x1dda("0x10f5")),_0x1dda("0x10f5");case 32:if(this[_0x1dda("0x42")][_0x1dda("0x36")]!=esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]){d.next=51;break}p=0;case 34:if(!(p<this[_0x1dda("0x10e1")][_0x1dda("0xbea")][_0x1dda("0x0")])){d.next=51;break}m=this[_0x1dda("0x10e1")][_0x1dda("0xbea")][p][_0x1dda("0x10e0")],d.t0=r[_0x1dda("0xd")][_0x1dda("0xa18")](m);case 37:if((d.t1=d.t0()).done){d.next=48;break}if(A=d.t1[_0x1dda("0xd8")],!(C=m[A])[_0x1dda("0x10f6")]){d.next=42;break}return d[_0x1dda("0x24e")](_0x1dda("0x63c"),37);case 42:I=this[_0x1dda("0x42")][_0x1dda("0x198")]({from:this.map[_0x1dda("0x199")],to:this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x19b")],coord:{x:C.x,y:C.y}}),C.x=I.x,C.y=I.y,C._trs=!0,d[_0x1dda("0x24c")]=37;break;case 48:p++,d[_0x1dda("0x24c")]=34;break;case 51:this[_0x1dda("0x10be")]=this[_0x1dda("0x10e1")][_0x1dda("0xbea")],this[_0x1dda("0x10e2")](),y=this._naviDescriptions(this[_0x1dda("0x10be")]),this[_0x1dda("0x10c2")]=y[0],this.naviDescriptionsData=y[1],this[_0x1dda("0x10b9")]=y[2],x&&this[_0x1dda("0x10e5")](),this[_0x1dda("0x1f2")](_0x1dda("0x43a"),this[_0x1dda("0x10e1")]);case 59:d[_0x1dda("0x24c")]=64;break;case 61:d[_0x1dda("0x24a")]=61,d.t2=d[_0x1dda("0x817")](2),this[_0x1dda("0x1f2")]("error",d.t2);case 64:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this,[[2,61]])}))),function(){return x[_0x1dda("0x5")](this,arguments)})},{key:"_transformResults",value:function(){var d=this[_0x1dda("0x42")],x=this[_0x1dda("0x10e1")];for(var a in x.result){var _=x.result[a][_0x1dda("0x10e0")];for(var e in _){var t=_[e],i=(0,o[_0x1dda("0xd")])({},t);if(!i[_0x1dda("0x10f6")]){var n=d[_0x1dda("0x198")]({from:d[_0x1dda("0x199")],to:d.options[_0x1dda("0x19b")],coord:{x:t.x,y:t.y}});i.x=n.x,i.y=n.y,i[_0x1dda("0x10f6")]=!0,_[e]=i}}}}},{key:_0x1dda("0x10f7"),value:function(){var d=m[_0x1dda("0xd6")](this);d&&(this[_0x1dda("0x42")].mapPicker[_0x1dda("0xb0a")](d.o3d_),d&&(this[_0x1dda("0x42")][_0x1dda("0xa59")](d),m[_0x1dda("0xcd")](this,null)))}},{key:"clearMarkers",value:function(){for(var d=0;d<2;d++)this[_0x1dda("0x10bb")][d]&&(this[_0x1dda("0x10bb")][d][_0x1dda("0xe8")](),this[_0x1dda("0x10bb")][d]=null,this.navData[d]=null);this[_0x1dda("0x10be")]=null}},{key:_0x1dda("0x10d9"),value:function(){this[_0x1dda("0x42")].clearLineMarkById("navLine")}},{key:_0x1dda("0x4ff"),value:function(){this[_0x1dda("0x18d")](),this.clearMarkers(),this.clearNaviLines(),this[_0x1dda("0x10f7")](),this[_0x1dda("0xa05")][0]=null,this.navData[1]=null}},{key:_0x1dda("0x10f8"),value:function(d,x){var a=this;(x=null==x||x)&&a.clearNaviLines();for(var _=[],e=0;e<d[_0x1dda("0x0")];e++){var t=d[e][_0x1dda("0x769")],i=(0,o[_0x1dda("0xd")])({},t);if(i._trs)_[_0x1dda("0x10")](i);else{var n=a[_0x1dda("0x42")][_0x1dda("0x198")]({from:a[_0x1dda("0x42")][_0x1dda("0x199")],to:a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x19b")],coord:{x:t.x,y:t.y}});i.x=n.x,i.y=n.y,i[_0x1dda("0x10f6")]=!0,_[_0x1dda("0x10")](i)}}a[_0x1dda("0x10f9")](_,x)}},{key:_0x1dda("0x10f9"),value:function(d,x){(x=null==x||x)&&this[_0x1dda("0x10d9")]();var a=new(esmap[_0x1dda("0x5fb")])({id:_0x1dda("0x10fa"),name:"navLine",points:d,style:this[_0x1dda("0xa7a")]});this[_0x1dda("0x10f4")]=a,_0x1dda("0x158")==this[_0x1dda("0xa7a")][_0x1dda("0x9f")]||_0x1dda("0x10fb")==this[_0x1dda("0xa7a")].type?this[_0x1dda("0xa7a")][_0x1dda("0x10fc")]=.3:this[_0x1dda("0xa7a")][_0x1dda("0x10fc")]=1,this[_0x1dda("0x42")][_0x1dda("0x985")](a)}},{key:_0x1dda("0x10e5"),value:function(d,x){if(this.clearNaviLines(),this[_0x1dda("0xa05")][0]&&this.navData[1]&&this.outcome){this.lineStyle.up=new(THREE[_0x1dda("0x11c")])(0,1,0),this[_0x1dda("0xa7a")][_0x1dda("0x10fd")]=!1,!this[_0x1dda("0x10fe")]&&x&&this[_0x1dda("0x10d9")]();this[_0x1dda("0x10f8")](this.combinePoints,this[_0x1dda("0x10fe")]),this[_0x1dda("0x10ff")](),this[_0x1dda("0x10e1")][_0x1dda("0x1100")]&&this[_0x1dda("0x1f2")](_0x1dda("0x43a"),this.outcome)}}},{key:_0x1dda("0x1101"),value:function(d){if(this._naviResult){var x=this[_0x1dda("0x10be")][0][_0x1dda("0x10e0")][0],a=this[_0x1dda("0x10be")][0][_0x1dda("0x123")],_=this[_0x1dda("0x10be")][0].bid||0;d=null==d?3:d,this[_0x1dda("0x5c3")][_0x1dda("0x1f7")]({x:x.x,y:x.y,bid:_,fnum:a,offsetHeight:d||1.01*this[_0x1dda("0x26")]})}}},{key:"_moveTo",value:function(d,x,a){return null==x&&(x=0),this[_0x1dda("0x42")].moveTo({x:d.x,y:d.y,time:x,FloorNum:d.fnum,callback:a})}},{key:"playAudio",value:function(d){if(this[_0x1dda("0x10d4")]){for(var x=0;x<d[_0x1dda("0x0")];x++)typeof d[x]==_0x1dda("0xe")&&d[x][_0x1dda("0x26c")](/\s/)&&d.splice.apply(d,[x,1][_0x1dda("0x317")]((0,i[_0x1dda("0xd")])(d[x][_0x1dda("0x2a")](" "))));this[_0x1dda("0x42")].ESAudioTool[_0x1dda("0xe71")](d)}}},{key:_0x1dda("0x1102"),value:function(d){I[d]&&this[_0x1dda("0x10c6")]!=I[d]&&(this.lastNavCode=I[d],this[_0x1dda("0x1f2")](_0x1dda("0x1103"),this[_0x1dda("0x10c6")]))}},{key:_0x1dda("0x1104"),value:function(d){var x=this.map,a=x[_0x1dda("0x19f")][_0x1dda("0x614")][_0x1dda("0x618")];return{radius:(x[_0x1dda("0x353")],d/(2*Math[_0x1dda("0x2c2")](a/2*Math.PI/180)))}}},{key:_0x1dda("0x1105"),value:function(d,x,a){}},{key:"_broadcast",value:function(d,x,a,_,e){var t=this,i=t[_0x1dda("0x10c2")][d],n=t.naviDescriptionsData[d],r=t.naviDescriptions[d+1],s=t.naviDescriptionsData[d+1],o=(t[_0x1dda("0x10c2")][_0x1dda("0x0")],n[_0x1dda("0x2a1")]-x),c=1==t[_0x1dda("0x36")]?t.maxEnd+5:t[_0x1dda("0x110b")]+12,l=t[_0x1dda("0x42")].mapService.langLib,f=null,u="",h=!1;if(a<=c)f=l[_0x1dda("0xe53")]("å³å°å°è¾¾ç®çå°"),t[_0x1dda("0x110c")][_0x1dda("0x110d")]||(t[_0x1dda("0x1102")]("å³å°å°è¾¾ç®çå°"),t[_0x1dda("0x110e")](["å³å°å°è¾¾ç®çå°"]),t[_0x1dda("0x110c")].tipAlmosted=!0);else if(a<=t[_0x1dda("0x110b")])f=l[_0x1dda("0xe53")]("å·²å°è¾¾ç®çå°éè¿"),t[_0x1dda("0x110c")][_0x1dda("0x110f")]||(t[_0x1dda("0x110c")][_0x1dda("0x110f")]=!0);else if(t[_0x1dda("0x275")]&&t[_0x1dda("0x1105")](n,o,x),1==t[_0x1dda("0x36")])!n[_0x1dda("0x1110")]&&o>=1&&(t[_0x1dda("0x1102")](i[0]),u=[i[0],Math[_0x1dda("0xf2")](x)-2,"ç±³","å",i[2]],t[_0x1dda("0x110e")](u),n[_0x1dda("0x1110")]=!0),x<=t[_0x1dda("0x1111")]?(f=l[_0x1dda("0xe53")](i[2]),n[_0x1dda("0x1112")]||(t[_0x1dda("0x1102")](i[2]),u=[i[2]],t[_0x1dda("0x110e")](u),n[_0x1dda("0x1112")]=!0),h=!0):x>=20&&o>=n[_0x1dda("0x1113")]&&(t[_0x1dda("0x1102")]("ç´è¡"),n.manWalkedCount+=30,u=[Math[_0x1dda("0xf2")](x)-2,"ç±³","å",i[2]],t.playAudio(u));else if(!n[_0x1dda("0x1114")]&&o>=1&&(u=[i[0],Math[_0x1dda("0xf2")](x)-2,"ç±³","å",i[2]],t[_0x1dda("0x110e")](u),n[_0x1dda("0x1114")]=!0),x<=12&&(f=s[_0x1dda("0x2a1")]<=12?l[_0x1dda("0xe53")](i[2])+l.getDesFromNavLib("å")+l[_0x1dda("0xe53")](r[2]):l[_0x1dda("0xe53")](i[2])),x<=12&&!n[_0x1dda("0x1115")]){if(s[_0x1dda("0x2a1")]<12&&"ç»"!=s[_0x1dda("0x1116")]){var g=i[2],b=r[2];i[2][_0x1dda("0xaf")]("å·¦")>-1?g="å·¦è½¬":i[2][_0x1dda("0xaf")]("å³")>-1&&(g="å³è½¬"),r[2][_0x1dda("0xaf")]("å·¦")>-1?b="å·¦è½¬":r[2].indexOf("å³")>-1&&(b="å³è½¬"),t[_0x1dda("0x1102")](b),u=[g+"å"+b],t[_0x1dda("0x110e")](u),h=!0}else u=[i[2]],t[_0x1dda("0x110e")](u),t[_0x1dda("0x1102")](i[2]);n[_0x1dda("0x1115")]=!0}else n[_0x1dda("0x2a1")]>=50&&x<=37?n[_0x1dda("0x1117")]||(t[_0x1dda("0x110e")]([_0x1dda("0xe50")]),n[_0x1dda("0x1117")]=!0):o>=n.carWalkedCount&&(n[_0x1dda("0x1118")]+=40,u=[Math[_0x1dda("0xf2")](x)-2,"ç±³","å",i[2]],t[_0x1dda("0x110e")](u));t.naviDescriptionsData[d][_0x1dda("0x1119")]||(t[_0x1dda("0x10e4")][d][_0x1dda("0x1119")]=!0),f||(t[_0x1dda("0x1102")](i[0]),f=l[_0x1dda("0xe53")](i[0])+" "+Math[_0x1dda("0xf2")](x)+" "+l[_0x1dda("0xe53")]("ç±³")+" "+l[_0x1dda("0xe53")]("å")+" "+l[_0x1dda("0xe53")](i[2])),t.navTip=f,_&&h?(null===this[_0x1dda("0x10d1")]&&(this[_0x1dda("0x10d1")]=(new Date)[_0x1dda("0x85")]()),e-this._walkingCrossTime<1e3*this[_0x1dda("0x111a")]?this[_0x1dda("0x10c1")]=0:0===this[_0x1dda("0x10c1")]&&(this[_0x1dda("0x10c1")]=.01086500000124215)):null!=this[_0x1dda("0x10d1")]&&(this[_0x1dda("0x10d1")]=null)}},{key:_0x1dda("0x111b"),value:function(d,x){for(var a=d[_0x1dda("0x123")],_={x:d.x,y:d.y},i=this[_0x1dda("0x42")][_0x1dda("0xa90")],n=this[_0x1dda("0x10d2")][_0x1dda("0x111c")][_0x1dda("0x838")][i][_0x1dda("0xc98")][a-1][_0x1dda("0xc5b")],r=this[_0x1dda("0x10d2")][_0x1dda("0x111c")].source[i][_0x1dda("0xc98")][a-1][_0x1dda("0x3b6")],s=this[_0x1dda("0x10d2")][_0x1dda("0x111c")][_0x1dda("0x111d")][i][_0x1dda("0x111e")],o=(new(t[_0x1dda("0xd")]),new(e[_0x1dda("0xd")])),c=new t.default,l=0;l<this.outcome.result.length;l++){this[_0x1dda("0x10e1")][_0x1dda("0xbea")][l][_0x1dda("0x111f")][_0x1dda("0xd1")]((function(d){c[_0x1dda("0xce")](1*d)}))}for(var f in n){var h=n[f],g={x:h.X,y:h.Y};if((0,u.DistanceofTwoPts)(g,d)<100){var b=s[h[_0x1dda("0x3a0")]];if(b)for(var v in b){var p=1*b[v];if(!c.has(p)){var m=r[p];if(m&&!o.has(p)){var A=n[m[_0x1dda("0xd6f")]==h[_0x1dda("0x3a0")]?m.eid:m.sid];if(A){if((0,u[_0x1dda("0x1120")])({x:_.x,y:_.y},{x:h.X,y:h.Y},{x:A.X,y:A.Y},{})<x)return!0;o.set(p,!0)}}}}}}return!1}},{key:_0x1dda("0x1121"),value:function(d,x,a,_){var e=this,t=e[_0x1dda("0xfb")],i=this[_0x1dda("0x10c0")],n=(new Date)[_0x1dda("0x85")]();if(e[_0x1dda("0x1122")]&&n-e[_0x1dda("0x1123")]>250*e[_0x1dda("0x1124")]&&(e[_0x1dda("0x1122")]=!1,e[_0x1dda("0x1123")]=(new Date)[_0x1dda("0x85")]()),!e[_0x1dda("0x1122")]){var r="3"==e[_0x1dda("0x10d2")][_0x1dda("0x10e8")]?3:1,s=e.reRouteDis?e.reRouteDis:8*r;if(d[_0x1dda("0x16d")]>s)this._checkDeviated(x,d.offset)&&t[_0x1dda("0x1125")]++;else t.deviateCount=0;if(t[_0x1dda("0x1125")]>=e[_0x1dda("0x1126")]){e.stop(),e[_0x1dda("0x10d4")]&&e[_0x1dda("0x42")][_0x1dda("0x10d5")][_0x1dda("0xe71")]([_0x1dda("0xe49")]);var c=x;if(e[_0x1dda("0x5c3")][_0x1dda("0x1ff")]({x:c.x,y:c.y}),e[_0x1dda("0xa05")][0].x=x.x,e[_0x1dda("0xa05")][0].y=x.y,e.navData[0][_0x1dda("0x123")]=x.fnum,e[_0x1dda("0x1f2")]("reRouting"),e[_0x1dda("0x10bb")][0])if(e[_0x1dda("0x10bb")][0].FloorNum!=x[_0x1dda("0x123")]){var l=e[_0x1dda("0x10bb")][0][_0x1dda("0x4f1")][_0x1dda("0x1cd")],f=e.navMarker[0][_0x1dda("0x4f1")][_0x1dda("0x18b")],u=e[_0x1dda("0x10bb")][0][_0x1dda("0x4a")],h=e.navMarker[0][_0x1dda("0xf82")],g=(0,o[_0x1dda("0xd")])({},e.navData[1]);e[_0x1dda("0x1127")](),e[_0x1dda("0x1128")]({x:x.x,y:x.y,showLevel:l,fnum:x[_0x1dda("0x123")],height:f,url:u,size:h}),e.setEndPoint(g),e[_0x1dda("0x10d9")](),e[_0x1dda("0x10de")]({drawRoute:!0}),e[_0x1dda("0x337")]("success",(function(){t.deviateCount=0,e.start(!0)}))}else e[_0x1dda("0x10bb")][0][_0x1dda("0x1ff")](x),e[_0x1dda("0x10d9")](),e[_0x1dda("0x10de")]({drawRoute:!0}),e[_0x1dda("0x337")](_0x1dda("0x43a"),(function(){t[_0x1dda("0x1125")]=0,e[_0x1dda("0x21c")](!0)}));return}if(0!=t[_0x1dda("0x1129")]&&t.surDistance<d[_0x1dda("0x112a")]?t.backcount++:t[_0x1dda("0x112b")]=0,a&&(t[_0x1dda("0x112b")]=0),0==t[_0x1dda("0x112b")]||t[_0x1dda("0x112b")]>=e[_0x1dda("0x1126")]*r){var b=e[_0x1dda("0x42")][_0x1dda("0x19c")](d.point);if(b.fnum=d[_0x1dda("0x769")][_0x1dda("0x123")],b[_0x1dda("0x12d")]=d[_0x1dda("0x769")][_0x1dda("0x12d")],this[_0x1dda("0x1f2")](_0x1dda("0x112c"),d),this[_0x1dda("0x112d")](b,d[_0x1dda("0x201")],d[_0x1dda("0x769")],d.walk,_),t.surDistance=d[_0x1dda("0x112a")],d[_0x1dda("0x112a")]<e[_0x1dda("0x110b")]?t.arrivalCount++:t[_0x1dda("0x112e")]=0,t[_0x1dda("0x112e")]>e[_0x1dda("0x112e")]||d.remain<=1){if(e[_0x1dda("0x112f")]){var v=null;if(i==_0x1dda("0x358")&&(40004==e[_0x1dda("0xa05")][1].tid?e[_0x1dda("0x10e4")][e[_0x1dda("0x10e4")][_0x1dda("0x0")]-1].parkDir&&(v=e[_0x1dda("0x10e4")][e.naviDescriptionsData.length-1][_0x1dda("0x1130")]):!e[_0x1dda("0x10e4")][e[_0x1dda("0x10e4")][_0x1dda("0x0")]-1][_0x1dda("0x1119")]&&e[_0x1dda("0x10e4")][e.naviDescriptionsData[_0x1dda("0x0")]-2]&&e[_0x1dda("0x10e4")][e[_0x1dda("0x10e4")][_0x1dda("0x0")]-2].over&&(v=e[_0x1dda("0x10e4")][e.naviDescriptionsData[_0x1dda("0x0")]-2].endDirection)),e[_0x1dda("0x18d")](),e[_0x1dda("0x1131")](0,!0),e[_0x1dda("0x10d4")]&&e[_0x1dda("0x1132")])if(v){v=v[_0x1dda("0xaf")]("å·¦")<0?"å³":"å·¦";var p=_0x1dda("0x1133")+v+"ä¾§";this[_0x1dda("0x110e")]([p,"å¯¼èªç»æ"])}else this[_0x1dda("0x110e")]([_0x1dda("0xe42")])}e[_0x1dda("0x1134")](),e.emit(_0x1dda("0x298"))}else if("NORMAL"==e[_0x1dda("0x10c0")])e._broadcast(d[_0x1dda("0x1135")],d[_0x1dda("0x1136")],d[_0x1dda("0x112a")],d[_0x1dda("0x1137")],n);else{var m=e[_0x1dda("0x10f3")][d[_0x1dda("0x292")]][_0x1dda("0x1138")];if(d.remain<=10){if(e[_0x1dda("0x1139")]=_0x1dda("0x113a"),d[_0x1dda("0x112a")]<=1)return e.navTip=_0x1dda("0x113b"),e[_0x1dda("0x18d")](),e[_0x1dda("0x1134")](),void e[_0x1dda("0x1f2")](_0x1dda("0x298"))}else e[_0x1dda("0x1139")]=e[_0x1dda("0x10f2")][m].instruction}}}}},{key:_0x1dda("0x1134"),value:function(){}},{key:"bestView",value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{},x=(0,o[_0x1dda("0xd")])({far:1.2,points:null},d),a=void 0;if(x[_0x1dda("0x121")]?a=x[_0x1dda("0x121")]:this[_0x1dda("0x10e1")]&&(a=this[_0x1dda("0x10e1")][_0x1dda("0xbea")][0].pointList),a){var _=esmap[_0x1dda("0x86")][_0x1dda("0x650")](a),e=a[0][_0x1dda("0x123")],t=esmap[_0x1dda("0x86")].computeCameraStateByBounds(_),i=t[_0x1dda("0x645")]*x.far;if(i<this[_0x1dda("0x113c")]&&(i=this[_0x1dda("0x113c")]),"3D"!=this[_0x1dda("0x42")][_0x1dda("0x353")]){var n=i/this[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x9ca")];this.map.scaleLevelTo({value:n,raw:!0,time:1}),this.map.moveTo(t[_0x1dda("0x227")]),this[_0x1dda("0x42")][_0x1dda("0x219")](0)}else this.map[_0x1dda("0x222")]({x:t[_0x1dda("0x227")].x,y:t[_0x1dda("0x227")].y,z:1,fnum:e,radius:i,pitchAngle:1})}}},{key:_0x1dda("0x18d"),value:function(){C={x:0,y:0},this[_0x1dda("0x113d")]?(clearInterval(this[_0x1dda("0x10ce")]),this[_0x1dda("0x113e")]&&this._viewID.stop(),this._scaleLevelToID&&clearInterval(this._scaleLevelToID),this[_0x1dda("0x42")].__moveToId&&this[_0x1dda("0x42")][_0x1dda("0x91f")][_0x1dda("0x18d")](),this[_0x1dda("0x113f")]&&this._rotateId[_0x1dda("0x18d")](),this[_0x1dda("0x10cf")]&&this.map[_0x1dda("0x68")]("update",this[_0x1dda("0x10cf")]),this._allLen=0,this[_0x1dda("0x10cd")]=0,this[_0x1dda("0x1140")]=null,this[_0x1dda("0x1141")]=0,this[_0x1dda("0x10cb")]=this[_0x1dda("0x10cc")]=null,this.timer.stop(),this.isSimulating=!1,this[_0x1dda("0x1142")]=null,this[_0x1dda("0x10da")]=!0):this[_0x1dda("0x10c4")]&&(this.isNaving=!1,this[_0x1dda("0xfb")][_0x1dda("0x1125")]=0,this.count[_0x1dda("0x112e")]=0,this[_0x1dda("0xfb")][_0x1dda("0x112b")]=0,this[_0x1dda("0xfb")].surDistance=0,window[_0x1dda("0x1143")](this[_0x1dda("0x1144")]),this[_0x1dda("0x1144")]=0,this.curPathInfos[_0x1dda("0x292")]=0,this.curPathInfos[_0x1dda("0x1145")]=0,this[_0x1dda("0x1146")]=20,this[_0x1dda("0x1147")]={},this.blockList=[],this[_0x1dda("0x10c8")]={}),this[_0x1dda("0x10ca")]={index:0,dis2next:0},this[_0x1dda("0x110c")]={},this.crossedFnum={},this[_0x1dda("0x10cd")]=null,this[_0x1dda("0x1140")]=null,this.moveTimer=null,this[_0x1dda("0x10f3")]=null,this.analysedData=null,this.lastAngle=null,this[_0x1dda("0x42")][_0x1dda("0x226")].zoomToCursor=!0}},{key:_0x1dda("0x1131"),value:function(d,x){for(var a=this[_0x1dda("0x10f4")][_0x1dda("0x180")][_0x1dda("0xe6")],_=0,e=0;e<a[_0x1dda("0x0")];e++)if(x)a[e][_0x1dda("0x13b")]=1;else{var t=_;if((a[e][_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x1f9"))<0||a[e][_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x991"))>=0)&&(_+=a[e].length),!a[e][_0x1dda("0x153")].passed){if(a[e][_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x1f9"))<0||a[e][_0x1dda("0xfc")].indexOf(_0x1dda("0x991"))>=0){if(d<_){a[e].passPercent=(d-t)/a[e].length;break}}else a[e].userData[_0x1dda("0x1148")]||(a[e-1]&&a[e-1].userData.passed?(a[e-1].passPercent=1,a[e][_0x1dda("0x13b")]=1):a[e][_0x1dda("0x13b")]=1);a[e][_0x1dda("0x153")][_0x1dda("0x1148")]=!0}}}},{key:_0x1dda("0x10ff"),value:function(){}},{key:"_onstartNavi",value:function(d,x){if(this.navData[0]&&this[_0x1dda("0xa05")][1]){this[_0x1dda("0x1149")]||(this[_0x1dda("0x1149")]=this[_0x1dda("0x114a")]().map((function(d){return{x:d.x,y:d.z,z:0,distance:d[_0x1dda("0x2a1")],bid:d[_0x1dda("0x12d")],fnum:d[_0x1dda("0x123")],index:d[_0x1dda("0x114b")]}})));var a=this;(x=x||{})[_0x1dda("0x114c")]||a[_0x1dda("0x114c")];if(a[_0x1dda("0x42")].controls[_0x1dda("0x923")]=!1,x.scaleLevel=x[_0x1dda("0x1cf")]||a[_0x1dda("0x1cf")]||0,a[_0x1dda("0x1101")]((0,g[_0x1dda("0x13")])(x,_0x1dda("0x18b"),_0x1dda("0xf8f"),_0x1dda("0x16d"),1.01*a[_0x1dda("0x26")])),(a[_0x1dda("0x114d")]||(0,g[_0x1dda("0x13")])(x,_0x1dda("0x6dc"),!1))&&a[_0x1dda("0x10e5")](null,!0),a[_0x1dda("0x114e")]||this[_0x1dda("0x10ff")]([a[_0x1dda("0xa05")][0][_0x1dda("0x123")]]),a[_0x1dda("0x275")]&&a[_0x1dda("0x114f")]){var _=a[_0x1dda("0x42")][_0x1dda("0x12b")](this[_0x1dda("0xa05")][0][_0x1dda("0x12d")]);a[_0x1dda("0x42")][_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")].City&&_.id==a[_0x1dda("0x42")].id&&a[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x7e")](_0x1dda("0xc9f"))&&a[_0x1dda("0x42")].tileService[_0x1dda("0xc9b")](!0),a.isMultiFloors||(_[_0x1dda("0x12c")]=[a[_0x1dda("0xa05")][0][_0x1dda("0x123")]]),_.focusFloorNum!=a[_0x1dda("0xa05")][0][_0x1dda("0x123")]?(_.focusFloorNum={floornum:a[_0x1dda("0xa05")][0][_0x1dda("0x123")],time:.3},setTimeout((function(){a.setView({time:1.5,coord:{x:a[_0x1dda("0xa05")][0].x,y:a.navData[0].y},scaleLevel:a[_0x1dda("0x1cf")],tiltAngle:10,onComplete:function(){d()}})}),300)):a.setView({time:1.5,coord:{x:a[_0x1dda("0xa05")][0].x,y:a[_0x1dda("0xa05")][0].y},scaleLevel:a[_0x1dda("0x1cf")],tiltAngle:10,onComplete:function(){d()}})}else!function(){if(a[_0x1dda("0x42")].mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]||a.navData[0][_0x1dda("0x12d")]!=a[_0x1dda("0x42")].id){var x=a[_0x1dda("0x42")][_0x1dda("0x12b")](a[_0x1dda("0xa05")][0][_0x1dda("0x12d")]);x[_0x1dda("0x12c")]=[a[_0x1dda("0xa05")][0].fnum],x[_0x1dda("0x52b")]={floornum:a[_0x1dda("0xa05")][0][_0x1dda("0x123")],time:.3},setTimeout((function(){d()}),300)}else d()}()}}},{key:"start",value:function(){var d=this;d[_0x1dda("0x1150")]((function(){d[_0x1dda("0x10c4")]=!0}))}},{key:_0x1dda("0x1151"),value:function(d){var x=this;x[_0x1dda("0x10f3")]||x[_0x1dda("0xdc")](),x[_0x1dda("0x1150")]((function(){x[_0x1dda("0x10da")]=!1,x[_0x1dda("0x1152")]()}),d)}},{key:_0x1dda("0x1153"),value:function(d,x){var a=this,_=d,e=_[_0x1dda("0x203")];if(!_.fnum){var t=a[_0x1dda("0x42")].getBuilding();_[_0x1dda("0x123")]=t.focusFloorNum}if(typeof _.x===_0x1dda("0x177")&&typeof _.y===_0x1dda("0x177")){if(0==a[_0x1dda("0x10c1")]||_.x!=C.x||_.y!=C.y){var i=_;i.x<a[_0x1dda("0x42")].minX-100||i.x>a[_0x1dda("0x42")].maxX+100||i.y<a[_0x1dda("0x42")].minY-100||i.y>a[_0x1dda("0x42")].maxY+100?console[_0x1dda("0x1eb")](_0x1dda("0x115a")):((a.isNaving||a[_0x1dda("0x113d")])&&function(){var d=a[_0x1dda("0x1154")](_);if(d){var t={remain:d[_0x1dda("0x112a")],walk:a[_0x1dda("0x10b9")]-d[_0x1dda("0x112a")],distanceToNext:d[_0x1dda("0x1136")],angle:d[_0x1dda("0x201")],point:d[_0x1dda("0x522")],index:d[_0x1dda("0x1155")],isReal:!0,descriptionIndex:d[_0x1dda("0x1155")],offset:d[_0x1dda("0x2a1")],nexbid:d[_0x1dda("0x1156")],nexfnum:d[_0x1dda("0x1157")],disToNexBid:d[_0x1dda("0x1158")],disToNexFnum:d[_0x1dda("0x1159")],crossing:d[_0x1dda("0x1137")]};t.walk&&(a._preGid||(a._preGid=a[_0x1dda("0xa05")][0][_0x1dda("0x123")]),a[_0x1dda("0x1140")]||(a[_0x1dda("0x1140")]=a[_0x1dda("0xa05")][0][_0x1dda("0x12d")]),x=x||!1,a[_0x1dda("0x10ca")]={index:d[_0x1dda("0x292")],desIndex:d[_0x1dda("0x1155")],dis2next:t[_0x1dda("0x1136")]},a[_0x1dda("0x1121")](t,_,x,e))}}(),C.x=_.x,C.y=_.y)}}else console[_0x1dda("0x1eb")]("åæ å¿é¡»æ¯æ°å­")}},{key:"_naviConstraint",value:function(d){var x=this;if(x.navData[0]&&x[_0x1dda("0xa05")][1]){for(var a={coord:{fnum:d[_0x1dda("0x123")]},distance:null,angle:0,balanceValue:null},_=x.analysedData,e={},t=function(d){for(var x=0,a=_[_0x1dda("0x0")]-1;a>d[_0x1dda("0x292")];a--)if(a-1>d[_0x1dda("0x292")]){var e=_[a],t=_[a-1];e.fnum==t[_0x1dda("0x123")]&&(x+=(0,u[_0x1dda("0x100")])(e,t))}return x+=(0,u.DistanceofTwoPts)(_[d.index+1],d[_0x1dda("0x522")])},i=t({coord:x[_0x1dda("0x42")]._coordThreeToMapScene(x[_0x1dda("0x5c3")][_0x1dda("0xfa")]),index:x.curPathInfos[_0x1dda("0x292")]}),n=1;n<_[_0x1dda("0x0")];n++){var r=_[n-1],s=_[n];if(r[_0x1dda("0x123")]===d[_0x1dda("0x123")]&&s[_0x1dda("0x123")]===d[_0x1dda("0x123")]){var c=(0,u[_0x1dda("0x1120")])(d,r,s,e),l=i-t({index:r[_0x1dda("0x292")],coord:e}),f=.5;x[_0x1dda("0x113d")]&&(f=-1/0),Math[_0x1dda("0x2c1")](l)<f&&0==(l*=10)&&(l=10);var h=.8*c+(c>1?Math.abs(.2*l):0);(null==a[_0x1dda("0x115c")]||h<a[_0x1dda("0x115c")])&&(a[_0x1dda("0x2a1")]=c,a[_0x1dda("0x115c")]=h,(0,o[_0x1dda("0xd")])(a[_0x1dda("0x522")],e),a[_0x1dda("0x201")]=x[_0x1dda("0x28c")](r,s),a.index=r[_0x1dda("0x292")],a[_0x1dda("0x123")]=r.fnum)}}if(null!=a[_0x1dda("0x2a1")]){var g=t(a);a.remain=g-x[_0x1dda("0x10c7")];var b=function(d){for(var a=x.naviDescriptionsData,_=x[_0x1dda("0x10b9")]-d,e=1/0,t=null,i=0,n=0,r=null,s=1,o=null,c=1/0,l=!1,f=0;f<a[_0x1dda("0x0")];f++){var u=a[f];if(_<u[_0x1dda("0x115b")]&&null===r)i=u[_0x1dda("0x8cb")].bid,n=u[_0x1dda("0x115b")]-_,r=f,s=u[_0x1dda("0x8cb")][_0x1dda("0x123")];else if(0!=i&&(u[_0x1dda("0x8cb")].fnum!=s&&null===o&&(o=u[_0x1dda("0x8cb")][_0x1dda("0x123")],c=u.totalDisntance-_),u[_0x1dda("0x8cb")][_0x1dda("0x12d")]!=i&&null===t&&(t=u[_0x1dda("0x8cb")].bid,e=u[_0x1dda("0x115b")]-_),null!=o&&null!=t))break}return a[r+1]&&(s==a[r+1].startPoint[_0x1dda("0x123")]&&i==a[r+1].startPoint.bid||(l=!0)),{distonex:n,index:r,distancetonexbid:e,bid:i,fnum:s,nexbid:t,nexfnum:o,disToNexBid:e,disToNexFnum:c,crossing:l}}(g-x[_0x1dda("0x10c7")]);a[_0x1dda("0x1136")]=b.distonex,a[_0x1dda("0x1155")]=b[_0x1dda("0x292")],a[_0x1dda("0x522")].bid=b.bid,a[_0x1dda("0x522")][_0x1dda("0x123")]=b.fnum,a[_0x1dda("0x1156")]=b[_0x1dda("0x1156")],a.nexfnum=b.nexfnum,a[_0x1dda("0x1158")]=b[_0x1dda("0x1158")],a[_0x1dda("0x1159")]=b[_0x1dda("0x1159")],a.crossing=b.crossing}return a}}},{key:"getRouteAngle",value:function(d,x){var a=new THREE.Vector3(0,0,1),_=new(THREE[_0x1dda("0x11c")])(d.x,0,d.y),e=new(THREE[_0x1dda("0x11c")])(x.x,0,x.y).clone()[_0x1dda("0x4cf")](_)[_0x1dda("0x2cc")](),t=e[_0x1dda("0x2d0")](a)*THREE.Math.RAD2DEG;return isNaN(t)&&(t=0),e[_0x1dda("0x116")]()[_0x1dda("0x1f9")](a).y>0?360-t:t}},{key:_0x1dda("0x115d"),value:function(d,x,a){if(x>=a)return d[d[_0x1dda("0x0")]-1];if(d){if(0==x)return d[0];for(var _,e,t=0,i=0,n=d[0],r=1;r<d[_0x1dda("0x0")];r++)if((_=d[r]).fnum==n[_0x1dda("0x123")]){if((t+=(e=_[_0x1dda("0x116")]()[_0x1dda("0x4cf")](n))[_0x1dda("0x0")]())>=x){e[_0x1dda("0x2cc")]();var s=n.clone()[_0x1dda("0xce")](e[_0x1dda("0x116")]().multiplyScalar(x-i));return s[_0x1dda("0x123")]=_[_0x1dda("0x123")],s[_0x1dda("0x292")]=_[_0x1dda("0x114b")],s.bid=_[_0x1dda("0x12d")],s}(n=_[_0x1dda("0x116")]()).fnum=_.fnum,n[_0x1dda("0x292")]=_[_0x1dda("0x114b")],n[_0x1dda("0x12d")]=_[_0x1dda("0x12d")],i=t}else(n=_.clone())[_0x1dda("0x123")]=_[_0x1dda("0x123")],n[_0x1dda("0x292")]=_[_0x1dda("0x114b")],n[_0x1dda("0x12d")]=_[_0x1dda("0x12d")];var c=(0,o[_0x1dda("0xd")])(new(THREE[_0x1dda("0x11c")]),d[d.length-1]);return c.index=c._index,c}}},{key:_0x1dda("0x115e"),value:function(d,x){var a=this,_=d[_0x1dda("0x12d")]||a[_0x1dda("0x42")].id;if(d.id){var e,t;if(a.map[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]&&d[_0x1dda("0x12d")]==a[_0x1dda("0x42")].id)return this[_0x1dda("0x115f")]="å®¤å","å®¤å";if(1==a[_0x1dda("0x36")]){if(!a[_0x1dda("0x10d2")][_0x1dda("0x111c")][_0x1dda("0x111d")][_][_0x1dda("0x1160")][_0x1dda("0x1161")][d.id])return null;e=a[_0x1dda("0x10d2")][_0x1dda("0x111c")][_0x1dda("0x111d")][_][_0x1dda("0x1160")][_0x1dda("0x1161")][d.id][0],t=a[_0x1dda("0x10d2")].routeCore.dataList[_].allLineMap[e]}else{if(!a[_0x1dda("0x10d2")][_0x1dda("0x111c")].dataList[_][_0x1dda("0x1160")][_0x1dda("0x1162")][d.id])return null;e=a[_0x1dda("0x10d2")][_0x1dda("0x111c")][_0x1dda("0x111d")][_][_0x1dda("0x1160")][_0x1dda("0x1162")][d.id][0],t=a.routePlanner[_0x1dda("0x111c")][_0x1dda("0x111d")][_][_0x1dda("0x1163")][e]}switch(1*t[_0x1dda("0xd74")]||0){case 1:return this[_0x1dda("0x115f")]="æ¥¼æ¢¯","æ¥¼æ¢¯";case 2:return this.curLadder="çµæ¢¯","çµæ¢¯";case 3:return this[_0x1dda("0x115f")]="æ¶æ¢¯","æ¶æ¢¯";case 4:case 5:return this[_0x1dda("0x115f")]="å¡é","å¡é"}}return"æ¢¯"}},{key:_0x1dda("0x10e3"),value:function(d){function x(d,x){var a=Math.PI/4,_=d/a,e=parseInt(_),t=_%1*a;return e%2==0?t>x&&(e+=1):t>=a-x&&(e+=1),e}function a(d,x){var a=x[_0x1dda("0x2d0")](d);return x[_0x1dda("0x116")]()[_0x1dda("0x1f9")](d).y<0&&(a=2*Math.PI-a),a}function _(d,_){if(_==d.length-1)return{index:d[d[_0x1dda("0x0")]-1][_0x1dda("0x292")]};var e=new THREE.Vector3(0,0,1),t=0==_?e:d[_][_0x1dda("0x116")]()[_0x1dda("0x4cf")](d[_-1])[_0x1dda("0x2cc")](),i=d[_+1][_0x1dda("0x116")]()[_0x1dda("0x4cf")](d[_]),n=i.length(),r=i[_0x1dda("0x2cc")](),s=x(a(e,r),22.5*THREE[_0x1dda("0x1fa")].DEG2RAD),o=a(t,r),c=x(o,22.5*THREE[_0x1dda("0x1fa")].DEG2RAD),l=null;return d[_+1][_0x1dda("0x12d")]!=d[_].bid&&(l=d[_+1][_0x1dda("0x12d")]),{relField:c,relDesc:m[c],relAngle:o*THREE[_0x1dda("0x1fa")].RAD2DEG,absField:s,absDesc:p[s],distance:n,index:d[_][_0x1dda("0x292")],crossBid:l}}function e(d,x){for(var a=d[_0x1dda("0x42")]((function(d,x){var a=(0,o.default)(new(THREE[_0x1dda("0x11c")]),d),_=n[_0x1dda("0x42")].coordMapToThree(d);return a.x=_.x,a.y=_.y,a.z=_.z,a.index=x,a})),e=[],t=0;t<a.length;t++){var i=_(a,t);i[_0x1dda("0x769")]=d[t],i[_0x1dda("0x123")]=x,e[_0x1dda("0x10")](i)}var r=[e[0]];for(t=1;t<e[_0x1dda("0x0")];t++)!e[t][_0x1dda("0x1164")]&&(e[t].relAngle<=n[_0x1dda("0x1165")]||360-e[t][_0x1dda("0x1166")]<=n[_0x1dda("0x1165")])?r[r[_0x1dda("0x0")]-1].distance+=e[t].distance:r[_0x1dda("0x10")](e[t]);return r}function t(d,x,a,_,e,t,i){var r=d[x],s=d[x+1],o=A[s[_0x1dda("0x1167")]];if(n[_0x1dda("0x1168")]=0,!o||n[_0x1dda("0x1168")])if(_){if(n._boo=!1,!o){var c=n[_0x1dda("0x42")][_0x1dda("0x12b")](i);o="è¿å¥ "+n._getLadderType(s[_0x1dda("0x769")],a)+" "+(_>a?"ä¸è¡":"ä¸è¡")+" åå¾ "+c[_0x1dda("0x61b")](_)[_0x1dda("0x1169")]+" å±"}}else n[_0x1dda("0x1168")]&&(n._tailLen=s[_0x1dda("0x2a1")]),o=_0x1dda("0xe47");r[_0x1dda("0x1164")]&&(o+=_0x1dda("0x116a")+n[_0x1dda("0x42")].getBuildingById(r.crossBid)[_0x1dda("0xfc")]);var l=[];return 0==x?l[_0x1dda("0x10")]("ç´è¡",Math.ceil(r.distance),o):l[_0x1dda("0x10")]("ç´è¡",Math[_0x1dda("0xf2")](r[_0x1dda("0x2a1")]+(n[_0x1dda("0x1168")]&&!_?s[_0x1dda("0x2a1")]:0)),o),l}function i(d,x,a,_,e,t,i){var r=d[x],s=d[x+1];if(!A[d[x+1][_0x1dda("0x1167")]]||n[_0x1dda("0x1168")])if(_){var o=_>a?"ä¸":"ä¸";s.relDesc=o}else s[_0x1dda("0x116b")]="ç»";var c=r[_0x1dda("0x2a1")]+(n[_0x1dda("0x1168")]&&!_?s[_0x1dda("0x2a1")]:0),l=s[_0x1dda("0x1130")],f=!1,u=!1,h=!1,g=!1;return c<=40&&(h=!0),c<=20&&(f=!0),x==d.length-1&&(u=!0,g=!0),{startPoint:r[_0x1dda("0x769")],startFloor:r[_0x1dda("0x123")],startIndex:r.index,totalDisntance:r.totalDisntance,endPoint:s.point,manModeTipStarted:f,manWalkedCount:30,carWalkedCount:40,parkDir:l,manModeTipEnded:u,carModeTipStarted:h,carModeTipEnded:g,endFloor:s.fnum,endIndex:s[_0x1dda("0x292")],startDirection:r.absDesc,endDirection:s.relDesc,distance:c}}var n=this;n[_0x1dda("0x10f3")]=[],n[_0x1dda("0x1168")]=!1,n[_0x1dda("0x116c")]=0;for(var r,s,c,l,f,u=[],h=[],g=null,b=0,v=[],p=["å","ä¸å","ä¸","ä¸å","å","è¥¿å","è¥¿","è¥¿å","å"],m=["å","å³å","å³","å³å","å","å·¦å","å·¦","å·¦å","å"],A=[_0x1dda("0x116d"),_0x1dda("0x116e"),"å³è½¬",_0x1dda("0xe44"),"åé",_0x1dda("0xe45"),"å·¦è½¬",_0x1dda("0xe46"),_0x1dda("0x116d")],C=null,I=0,y=null,E=0;E<d[_0x1dda("0x0")];E++){if(g=(r=d[E])[_0x1dda("0x123")],c=null,E<d[_0x1dda("0x0")]-1)for(f=E;f<d[_0x1dda("0x0")];f++)if(d[f][_0x1dda("0x123")]!=g){if(1===d[f][_0x1dda("0x10e0")][_0x1dda("0x0")]){for(var w=f;w<d[_0x1dda("0x0")];w++)if(d[w][_0x1dda("0x10e0")][_0x1dda("0x0")]>1){y=d[w].fnum;break}}else y=d[f][_0x1dda("0x123")];c=d[f][_0x1dda("0x123")],l=d[f][_0x1dda("0x12d")];break}null==c&&(y=null);var T=r[_0x1dda("0x12d")];if(T,E<d[_0x1dda("0x0")]-1)for(var k=E;k<d[_0x1dda("0x0")];k++)if(d[k][_0x1dda("0x12d")]!=T){d[k][_0x1dda("0x12d")];break}var S,M=e(s=r[_0x1dda("0x10e0")],g);S=s[0][_0x1dda("0x12d")]==n[_0x1dda("0x42")].id?n[_0x1dda("0x42")][_0x1dda("0x12b")](0):n[_0x1dda("0x42")].getBuildingById(s[0][_0x1dda("0x12d")]),M[_0x1dda("0x0")]>1&&Array[_0x1dda("0x1")][_0x1dda("0x10")][_0x1dda("0x5")](n[_0x1dda("0x10f3")],M);n.combinePoints.length;if(1==M[_0x1dda("0x0")]&&0!=r[_0x1dda("0x0")]&&Array[_0x1dda("0x1")].push.apply(n[_0x1dda("0x10f3")],M),1==M[_0x1dda("0x0")]){if(c&&0==r[_0x1dda("0x0")]&&(C==g||null==C)){var R=n[_0x1dda("0x115e")](M[0].point);R||(R=S.id);var L=S[_0x1dda("0x61b")](c),D=void 0;D=(D=c>1&&0==S.id?"å®¤å":L[_0x1dda("0x1169")])[_0x1dda("0x2a")]("").join(" ");var H=[_0x1dda("0x116f")+R+" åå¾ "+D+" å±"];u[_0x1dda("0x10")](H),h[_0x1dda("0x10")]({startPoint:s[0],startDirection:c>g?"ä¸":"ä¸",startFloor:g,endFloor:c,endPoint:d[f][_0x1dda("0x10e0")][0]})}}else{for(var P=[(0,o[_0x1dda("0xd")])({},M[0])],O=1;O<M[_0x1dda("0x0")]-1;O++){var B=(0,o[_0x1dda("0xd")])({},M[O]);Math[_0x1dda("0x2f6")](B[_0x1dda("0x1166")],360-B[_0x1dda("0x1166")])<=22.5&&!B.crossBid?P[P[_0x1dda("0x0")]-1][_0x1dda("0x2a1")]+=B.distance:P[_0x1dda("0x10")](B)}P.push((0,o.default)({},M[M[_0x1dda("0x0")]-1])),40004==n.navData[1][_0x1dda("0x43")]&&E==d[_0x1dda("0x0")]-1&&P[_0x1dda("0x0")]>=3&&(P[_0x1dda("0xd5")](),P[P[_0x1dda("0x0")]-1][_0x1dda("0x2a1")]<8&&(n.toSubDis=P[P.length-1].distance,P[P.length-1]={index:P[P.length-1].index,point:P[P[_0x1dda("0x0")]-1][_0x1dda("0x769")],fnum:P[P[_0x1dda("0x0")]-1][_0x1dda("0x123")],parkDir:P[P.length-1].relDesc}));for(var F=0;F<P[_0x1dda("0x0")]-1&&!n[_0x1dda("0x1168")];F++)I+=P[F][_0x1dda("0x2a1")],P[F][_0x1dda("0x115b")]=I,u.push(t(P,F,g,y,0,0,l)),h[_0x1dda("0x10")](i(P,F,g,y))}if(C=g,M[_0x1dda("0x0")]>1){var N=M[_0x1dda("0x104")]((function(d,x){return d+(x[_0x1dda("0x2a1")]||0)}),0);v[_0x1dda("0x10")]({fnum:g,distance:N}),b+=N}}return[u,h,b-=n[_0x1dda("0x10c7")],v]}},{key:_0x1dda("0x112d"),value:function(d,x,a,_,e){var t=this;function i(){t[_0x1dda("0x5c3")][_0x1dda("0x123")]=d[_0x1dda("0x123")],t[_0x1dda("0x5c3")].visible=!0}if(t[_0x1dda("0x10cd")]!=d[_0x1dda("0x123")]||t[_0x1dda("0x1140")]!=d.bid){t[_0x1dda("0x10cd")]=d[_0x1dda("0x123")],t[_0x1dda("0x1140")]=d.bid,t[_0x1dda("0x1141")]++,t[_0x1dda("0x5c3")][_0x1dda("0x169")]=!1;var n={x:-d.x-t[_0x1dda("0x42")][_0x1dda("0xb3")].sceneX_,y:d.z+t[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0x2a9")]};n[_0x1dda("0x123")]=d.fnum,function(x){if(!t[_0x1dda("0x114e")]){var a=t[_0x1dda("0x42")][_0x1dda("0x12b")](d.bid);0!=a.id&&(a[_0x1dda("0x12c")]=[d[_0x1dda("0x123")]],a[_0x1dda("0x52b")]={fnum:d[_0x1dda("0x123")],notMove:!0});var _=t[_0x1dda("0x5c3")][_0x1dda("0xf90")](),e=t[_0x1dda("0x10e6")][t[_0x1dda("0x1141")]];e&&e[_0x1dda("0x10e0")]&&e[_0x1dda("0x10e0")][_0x1dda("0x0")]>0&&(_=t._groupsPoints[t._groupPointsIndex][_0x1dda("0x10e0")][0]),_[_0x1dda("0x123")]=d[_0x1dda("0x123")],t[_0x1dda("0x5c3")][_0x1dda("0x1f7")]({x:_.x,y:_.y,fnum:_.fnum,bid:d[_0x1dda("0x12d")],offsetHeight:1.01*t.offsetHeight})}x?(t[_0x1dda("0x42")][_0x1dda("0x1170")]=!0,t[_0x1dda("0x1171")](n,t[_0x1dda("0x114c")],(function(){var d=t[_0x1dda("0x42")].scaleLevels_[t.scaleLevel]<.2?t.minScale:t.map[_0x1dda("0x930")][t[_0x1dda("0x1cf")]];t[_0x1dda("0x42")].scaleLevelTo({value:d,time:t[_0x1dda("0x114c")],onComplete:function(){t[_0x1dda("0x1172")]=!1,t[_0x1dda("0x42")].isNaviAnimating=!1}}),i(),t[_0x1dda("0x1173")]&&(t[_0x1dda("0x113e")]=new(esmap[_0x1dda("0x190")].Tween)(t[_0x1dda("0x42")]).to({tiltAngle:t[_0x1dda("0x288")]},1e3*t[_0x1dda("0x114c")])[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x2f3")])[_0x1dda("0x21c")]())}))):(i(),t[_0x1dda("0x1172")]=!1,t[_0x1dda("0x42")].isNaviAnimating=!1)}(!1),t[_0x1dda("0x1f2")](_0x1dda("0x1174"),d.fnum)}t[_0x1dda("0x286")]&&(null===t[_0x1dda("0x1175")]||!isNaN(x)&&Math[_0x1dda("0x2c1")](t.lastAngle-x)>.1)&&(t[_0x1dda("0x113f")]=t[_0x1dda("0x42")][_0x1dda("0x219")]({angle:x,time:.6}));var r=1;if(e&&t[_0x1dda("0x1175")]!=x){var s=-x;s<0&&(s=360+s),t[_0x1dda("0x5c3")][_0x1dda("0x219")]({angle:s,time:t[_0x1dda("0x1176")]}),r=.2}t[_0x1dda("0x1175")]=x;var o={x:a.x,y:a.y,time:r};t[_0x1dda("0x5c3")][_0x1dda("0x169")]||(t[_0x1dda("0x5c3")][_0x1dda("0x169")]=!0),t.isSimulating?o[_0x1dda("0x233")]=0:null!=t[_0x1dda("0x10bf")]&&(o[_0x1dda("0x233")]=t.locMoveTimer);var c={x:o.x,y:o.y};c[_0x1dda("0x233")]=o[_0x1dda("0x233")],t.locationMarker[_0x1dda("0x1ff")](c),t[_0x1dda("0x10f4")][_0x1dda("0x180")][_0x1dda("0xe6")][0]&&_&&t[_0x1dda("0x1131")](_);var l=t[_0x1dda("0x1177")],f=1;!l&&t[_0x1dda("0x113d")]&&(f=0);var u=(new Date)[_0x1dda("0x85")]();u-t[_0x1dda("0x10c5")]>1e3*l+1e3*f&&(t.followPosition&&t[_0x1dda("0x42")][_0x1dda("0x941")]({x:c.x,y:c.y,time:f}),t[_0x1dda("0x10c5")]=u)}},{key:"_anim",value:function(){var d=this;d[_0x1dda("0x10ce")]&&clearInterval(d[_0x1dda("0x10ce")]);var x=d[_0x1dda("0x114a")]();d[_0x1dda("0xe9f")][_0x1dda("0x21c")](),d[_0x1dda("0x113d")]=!0,d[_0x1dda("0x1141")]=0,d[_0x1dda("0x116c")]=0,d[_0x1dda("0x10ce")]=setInterval((function(){if(!d._isEnd_){var a=d[_0x1dda("0x10c1")];if(d[_0x1dda("0x1178")]=d[_0x1dda("0x29f")]*a,!d[_0x1dda("0x1172")]&&!d[_0x1dda("0x273")]&&(d[_0x1dda("0x1179")]+=d[_0x1dda("0x1178")],0!=d._allLen)){var _=d[_0x1dda("0x115d")](x,d._allLen),e=d[_0x1dda("0x10b9")]-d._allLen,t=(0,o[_0x1dda("0xd")])({},_),i=(0,o[_0x1dda("0xd")])(new THREE.Vector3,_);t.y;if(!_)return void(d[_0x1dda("0x10da")]=!0);if(e<=0&&(d[_0x1dda("0x10da")]=!0,d.locationMarker[_0x1dda("0x1f7")]({x:i.x,y:i.z,bid:i[_0x1dda("0x12d")],fnum:i[_0x1dda("0x123")],height:1.01*d[_0x1dda("0x26")]})),d[_0x1dda("0x10c0")]==_0x1dda("0x358"))d.walkTo({fnum:i[_0x1dda("0x123")],x:i.x,y:i.z,orientToPath:!0});else{var n={x:i.x,y:i.z},r=0;if(x[_[_0x1dda("0x292")]]){var s={x:x[_.index].x,y:x[_[_0x1dda("0x292")]].z};r=d[_0x1dda("0x28c")](n,s)}d._walkingfunction({angle:r,remain:e,walk:d[_0x1dda("0x1179")],point:n,fnum:_[_0x1dda("0x123")]||1,index:_[_0x1dda("0x292")]-1},n,100,!0)}}}}),10)}},{key:"_analyse",value:function(){if(this[_0x1dda("0xa05")][0]&&this[_0x1dda("0xa05")][1]){if(this[_0x1dda("0x10c0")]==_0x1dda("0x10f1")){var d=-1,x=this[_0x1dda("0x10f3")][_0x1dda("0x42")]((function(x,a){var _=new(THREE[_0x1dda("0x11c")])(x.x,0,x.z);return _[_0x1dda("0x123")]=x[_0x1dda("0x123")]||1,_.bid=x[_0x1dda("0x12d")]||0,_[_0x1dda("0x114b")]=a,_._segindex=x[_0x1dda("0x1138")],d=a,_})),a=this[_0x1dda("0x10f3")][this[_0x1dda("0x10f3")][_0x1dda("0x0")]-1];return(_=new THREE.Vector3(a.x,0,a.z))[_0x1dda("0x123")]=a[_0x1dda("0x117a")],_[_0x1dda("0x114b")]=d+1,_[_0x1dda("0x12d")]=a[_0x1dda("0x12d")],x[_0x1dda("0x10")](_),x}var _;d=-1,x=this[_0x1dda("0x10f3")][_0x1dda("0x42")]((function(x,a){var _=new THREE.Vector3(x.point.x,0,x[_0x1dda("0x769")].y);return _[_0x1dda("0x123")]=x.point[_0x1dda("0x123")],_[_0x1dda("0x114b")]=a,_.distance=x.distance,_[_0x1dda("0x12d")]=x[_0x1dda("0x769")][_0x1dda("0x12d")],d=a,_})),a=this[_0x1dda("0x10f3")][this[_0x1dda("0x10f3")][_0x1dda("0x0")]-1];return(_=new(THREE[_0x1dda("0x11c")])(a[_0x1dda("0x769")].x,0,a.point.y))[_0x1dda("0x123")]=a[_0x1dda("0x769")][_0x1dda("0x123")],_[_0x1dda("0x114b")]=d+1,_[_0x1dda("0x2a1")]=a[_0x1dda("0x2a1")],_.bid=a[_0x1dda("0x769")].bid,x[_0x1dda("0x10")](_),x}}},{key:_0x1dda("0x117b"),value:function(d){for(var x=this.map.mapService.sourceData[_0x1dda("0xc98")],a=0;a<x[_0x1dda("0x0")];a++){if(x[a][_0x1dda("0x3b6")][d])return{floornum:x[a][_0x1dda("0xbd4")]}}return null}},{key:_0x1dda("0x117c"),value:function(d){var x=this[_0x1dda("0x42")].mapService[_0x1dda("0xa17")];if(!x[_0x1dda("0xc98")]||!x.navs[_0x1dda("0x0")])return _0x1dda("0x117d"),void bid;for(var a=this[_0x1dda("0x42")][_0x1dda("0xa90")],e=(0,_.default)({},a,{}),t=0;t<d[_0x1dda("0x0")];t++){var i=d[t],n=i.floornum;if(!n){var r=this[_0x1dda("0x117b")](i.id);if(!r){console[_0x1dda("0x1eb")]("æªæ¾å°çº¿æ°æ®: "+i.id);continue}n=r.floornum}e[a][n]||(e[a][n]={}),e[a][n][i.id]=i.state}for(var s in e){for(var c=e[s],l={navs:[]},f=0;f<x.navs.length;f++){var u=x[_0x1dda("0xc98")][f],h=u[_0x1dda("0xbd4")],g={},b=u[_0x1dda("0xc5b")],v=c[h];for(var p in u[_0x1dda("0x3b6")]){var m=(0,o[_0x1dda("0xd")])({},u.Lines[p]);if(v&&v.hasOwnProperty(p))switch(v[p]){case 0:continue;case 1:g[p]=m;break;case 2:m.direction="1",g[p]=m;break;case 3:m.direction="1";var A=m.sid;m[_0x1dda("0xd6f")]=m[_0x1dda("0x573")],m[_0x1dda("0x573")]=A,g[p]=m;break;case 4:m[_0x1dda("0xb9f")]="0",g[p]=m}else g[p]=m}l[_0x1dda("0xc98")][_0x1dda("0x10")]({floornum:h,Lines:g,Nodes:b})}this.routePlanner.routeCore.dataList[s]=null,this[_0x1dda("0x10d2")][_0x1dda("0x111c")][_0x1dda("0x838")][s]=l,this[_0x1dda("0x10d2")].routeCore.preprocess(s)}}},{key:_0x1dda("0x117e"),get:function(){return this[_0x1dda("0xa05")][0]}},{key:_0x1dda("0x117f"),get:function(){return this[_0x1dda("0xa05")][1]}},{key:_0x1dda("0x1180"),get:function(){return this[_0x1dda("0x10e6")]}},{key:"mode",get:function(){return v[_0x1dda("0xd6")](this)},set:function(d){this[_0x1dda("0x36")]!=d?(v[_0x1dda("0xcd")](this,d),this.reRoute()):v[_0x1dda("0xcd")](this,d)}},{key:"navTip",get:function(){return A[_0x1dda("0xd6")](this)},set:function(d){var x=this[_0x1dda("0x1139")];A.set(this,d),x!=d&&this[_0x1dda("0x1f2")]("naviTip",d)}},{key:_0x1dda("0x10e8"),get:function(){return p[_0x1dda("0xd6")](this)},set:function(d){this[_0x1dda("0x10e8")]!=d?(p[_0x1dda("0xcd")](this,d),this[_0x1dda("0x1181")]()):p[_0x1dda("0xcd")](this,d)}},{key:_0x1dda("0x5c3"),get:function(){if(!m[_0x1dda("0xd6")](this)){var d=this[_0x1dda("0x1182")];d.url=this.locationMarkerUrl||_0x1dda("0x1183"),d[_0x1dda("0xd2")]=this[_0x1dda("0x1184")]||50,d[_0x1dda("0xf7d")]=this.locationMarkerSpritify,d[_0x1dda("0x15a")]=this[_0x1dda("0x1185")],m.set(this,new(esmap[_0x1dda("0x1186")])(d)),this[_0x1dda("0x42")][_0x1dda("0xa57")](m[_0x1dda("0xd6")](this))}return m[_0x1dda("0xd6")](this)},set:function(d){d instanceof esmap[_0x1dda("0x1186")]&&(m.set(this,d),this[_0x1dda("0x42")].addLocationMarker(m[_0x1dda("0xd6")](this)))}}]),d}();x[_0x1dda("0xd")]=y},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=s(a(40)),e=s(a(13)),t=s(a(0)),i=s(a(1)),n=s(a(364)),r=a(82);function s(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var o=function(){function d(){(0,t[_0x1dda("0xd")])(this,d),this[_0x1dda("0x111c")]=new(n[_0x1dda("0xd")]),this.outcome=null,this[_0x1dda("0x10b8")]=null}return(0,i[_0x1dda("0xd")])(d,[{key:"analyticRouteData",value:function(d){for(var x={distance:d[_0x1dda("0x2f")][0][_0x1dda("0x2a1")],posList:[]},a=d[_0x1dda("0x2f")][0][_0x1dda("0x1187")],_=0,e=0,t=a.length;e<t;e++)for(var i=a[e],n=this[_0x1dda("0x1188")](i[_0x1dda("0x1189")]),s=this[_0x1dda("0x118a")](n),o=e==a[_0x1dda("0x0")]-1?s[_0x1dda("0x0")]:s[_0x1dda("0x0")]-1,c=0;c<o;c++){var l=s[c],f=(new THREE.Vector3)[_0x1dda("0x20e")](l);if(f[_0x1dda("0x1138")]=e,x[_0x1dda("0x118b")].push(f),x.posList[_0x1dda("0x0")]>1){var u=x.posList[x[_0x1dda("0x118b")][_0x1dda("0x0")]-2],h=x[_0x1dda("0x118b")][x[_0x1dda("0x118b")].length-1];_+=(0,r.DistanceofTwoPts)({x:u.x,y:u.z},{x:h.x,y:h.z})}}return x[_0x1dda("0x118c")]=_,x}},{key:_0x1dda("0x118d"),value:function(d,x){var a=this;return new(e[_0x1dda("0xd")])((function(_,e){var t=x[_0x1dda("0x4a")]+"?",i=!1;for(var n in x[_0x1dda("0x118e")])i&&(t+="&"),t+=n+"="+x[_0x1dda("0x118e")][n],i=!0;esmap.Ajax[_0x1dda("0xd6")]({url:t})[_0x1dda("0x43a")]((function(x){var t=JSON[_0x1dda("0x6d")](x);if("1"===t[_0x1dda("0x2a4")]||0===t[_0x1dda("0x118f")]){var i,n=null;d!==_0x1dda("0x1190")?(i=t[_0x1dda("0x1191")].paths[0],n=t[_0x1dda("0x1191")]):(i=t[_0x1dda("0x442")][_0x1dda("0x2f")][0],n=t[_0x1dda("0x442")]);for(var r=a.analyticRouteData(n),s=r.computeDistance,o=[],c=r.posList,l=null,f=0;f<c[_0x1dda("0x0")];f++){var u=c[f];l&&u.x===l.x&&u.z===l.z||(o.push({x:u.x,y:u.z}),l=u)}_({pointList:o,rawPointList:r[_0x1dda("0x118b")],distance:s,des:i[_0x1dda("0x1187")]})}else e(),a[_0x1dda("0x1f2")](_0x1dda("0x1192"),0)}))}))}},{key:_0x1dda("0x1188"),value:function(d){var x=d[_0x1dda("0x2a")](";"),a=[],e=!0,t=!1,i=void 0;try{for(var n,r=(0,_[_0x1dda("0xd")])(x);!(e=(n=r.next())[_0x1dda("0x3d5")]);e=!0){var s=n.value[_0x1dda("0x2a")](","),o=[parseFloat(s[0]),parseFloat(s[1])];a[_0x1dda("0x10")](o)}}catch(d){t=!0,i=d}finally{try{!e&&r[_0x1dda("0x24f")]&&r[_0x1dda("0x24f")]()}finally{if(t)throw i}}return a}},{key:_0x1dda("0x118a"),value:function(d){var x=[],a=!0,e=!1,t=void 0;try{for(var i,n=(0,_[_0x1dda("0xd")])(d);!(a=(i=n[_0x1dda("0x24c")]()).done);a=!0){var r=i[_0x1dda("0xd8")],s=esmap[_0x1dda("0x86")][_0x1dda("0xef")](r[0],r[1]);x.push(new(THREE[_0x1dda("0x11c")])(s[0],0,s[1]))}}catch(d){e=!0,t=d}finally{try{!a&&n.return&&n[_0x1dda("0x24f")]()}finally{if(e)throw t}}return x}},{key:_0x1dda("0x1193"),value:function(d,x,a){var _="";return"driving"===d&&(_=_0x1dda("0x1194")),d===_0x1dda("0x112c")&&(_="https://restapi.amap.com/v3/direction/walking"),d===_0x1dda("0x1190")&&(_="https://restapi.amap.com/v4/direction/bicycling"),{url:_,param:{origin:x[0][_0x1dda("0x60b")](6)+","+x[1].toFixed(6),destination:a[0][_0x1dda("0x60b")](6)+","+a[1][_0x1dda("0x60b")](6),output:_0x1dda("0xf4"),key:this.appKey}}}},{key:_0x1dda("0x10de"),value:function(d){var x=d[_0x1dda("0x12d")],a=d[_0x1dda("0x8cb")],_=d[_0x1dda("0x8cc")],e=d[_0x1dda("0x36")],t=d[_0x1dda("0x10e8")],i=d.linkStartEnd,n=d[_0x1dda("0x10eb")],r=d[_0x1dda("0x10f0")],s=d[_0x1dda("0x9f")],o=esmap.ESMapUtil[_0x1dda("0xeb")](a.x,a.y),c=esmap[_0x1dda("0x86")][_0x1dda("0xeb")](_.x,_.y);if(r){var l=this[_0x1dda("0x1193")](s,o,c);return this[_0x1dda("0x118d")](s,l)}return this[_0x1dda("0x111c")][_0x1dda("0x1195")]({linkMinDistance:n,linkStartEnd:i,bid:x,startPoint:a,endPoint:_,mode:e,ladderType:t})}},{key:_0x1dda("0x1196"),value:function(d,x){return this.routeCore[_0x1dda("0x1197")](d,x)}},{key:"setSourceData",value:function(d){this[_0x1dda("0x111c")][_0x1dda("0x838")]=d}},{key:_0x1dda("0x1198"),value:function(d,x,a,_){return this.routeCore[_0x1dda("0x1199")](d,x,a,_)}},{key:_0x1dda("0x10d7"),value:function(d){this[_0x1dda("0x111c")][_0x1dda("0x119a")]=[];for(var x=0;x<d[_0x1dda("0x0")];x++)this[_0x1dda("0x111c")][_0x1dda("0x119a")][_0x1dda("0x10")](d[x]+"")}}]),d}();x[_0x1dda("0xd")]=o},function(d,x,a){"use strict";(function(d){Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=h(a(12)),e=h(a(76)),t=h(a(365)),i=h(a(32)),n=h(a(25)),r=h(a(45)),s=h(a(2)),o=h(a(0)),c=h(a(1)),l=a(82),f=a(18),u=a(366);function h(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var g=function(){function x(){(0,o[_0x1dda("0xd")])(this,x);var d=esmap[_0x1dda("0x33")][_0x1dda("0x34")];this[_0x1dda("0x111d")]={},this[_0x1dda("0x838")]={},this[_0x1dda("0x119a")]=[],this[_0x1dda("0x10eb")]=5,this.linkStartEnd=!0,this[_0x1dda("0x119b")]={},this.roomPolygons={},this[_0x1dda("0x119c")]=d.id,this[_0x1dda("0x119d")]={},this.linkPoints={},this.linkPointsId=1,this[_0x1dda("0x119e")]()}return(0,c.default)(x,[{key:_0x1dda("0x119f"),value:function(d){var x=esmap[_0x1dda("0x33")][_0x1dda("0x34")];return d===x.id||0===d||!!x[_0x1dda("0x12b")](d)}},{key:_0x1dda("0x119e"),value:function(){var d=this,x=esmap[_0x1dda("0x33")][_0x1dda("0x34")],a=x[_0x1dda("0x279")][_0x1dda("0xa05")],_=x.id;for(var e in this.dataList[_]||(this[_0x1dda("0x111d")][_]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}}),a){var t=a[e];t.Lines&&t[_0x1dda("0xc5b")]&&this.preprocessTileNav(t)}x.on(_0x1dda("0x11a0"),(function(x){x[_0x1dda("0x12d")];var a=x.data;d[_0x1dda("0x11a1")](a)}));var i=x[_0x1dda("0xa04")][_0x1dda("0xa05")];for(var n in i){var r=i[n];this[_0x1dda("0x11a2")](n,r)}x.on("buildingRouteDataLoaded",(function(x){var a=x.bid,_=x.data;d[_0x1dda("0x11a2")](a,_)}))}},{key:_0x1dda("0x11a3"),value:function(d){var x=esmap[_0x1dda("0x33")].instance,a=x.id,_=d[_0x1dda("0x3c3")].substring(2,d.outline[_0x1dda("0x0")]-2)[_0x1dda("0x2a")](/,/),e={x:0,y:0},t=[];if(0==_[_0x1dda("0x0")])return!1;for(var i={x:0,y:0,z:0},n=0;n<_[_0x1dda("0x0")];n++){var r=_[n][_0x1dda("0x2a")](" "),s=1*r[2]||0,o=x[_0x1dda("0x198")]({from:x[_0x1dda("0x3be")],to:x[_0x1dda("0x199")],coord:{x:1*r[0]+e.x+i.x,y:1*r[1]+e.y+i.y}});t.push({X:o.x,Y:o.y,bid:a,fnum:1,offset:s+i.z}),0==n&&(e.x=1*r[0],e.y=1*r[1])}return t}},{key:_0x1dda("0x11a1"),value:function(d){var x=this,a=esmap[_0x1dda("0x33")][_0x1dda("0x34")].id;x[_0x1dda("0x838")][a]||(x[_0x1dda("0x838")][a]={navs:[{floornum:1,Lines:{},Nodes:{}}]}),(0,s[_0x1dda("0xd")])(x.source[a][_0x1dda("0xc98")][0][_0x1dda("0x3b6")],d[_0x1dda("0x3b6")]),(0,s[_0x1dda("0xd")])(x.source[a][_0x1dda("0xc98")][0][_0x1dda("0xc5b")],d.Nodes);var _=x.dataList[a][_0x1dda("0x11a4")],e=x[_0x1dda("0x111d")][a][_0x1dda("0x1163")],t=x[_0x1dda("0x111d")][a][_0x1dda("0x111e")],i=d,n=i[_0x1dda("0xc5b")];for(var r in n){var o=n[r];o[_0x1dda("0x123")]=1,o[_0x1dda("0x12d")]=a,_[r]=o}var c=i[_0x1dda("0x3b6")];for(var r in c)c[r].length=c[r][_0x1dda("0x64b")],e[r]=c[r];for(var l in c){var f=c[l],u=null;if(f[_0x1dda("0x121")]&&f[_0x1dda("0x121")][_0x1dda("0x0")]>=3)u=this[_0x1dda("0x11a3")](f);else{var h=this[_0x1dda("0x11a3")](f);h.length>=3&&(u=h)}var g=f[_0x1dda("0xd6f")],b=f[_0x1dda("0x573")];if(u){var v=g+"_"+b,p=b+"_"+g;this[_0x1dda("0x119d")][v]=u,this[_0x1dda("0x119d")][p]=u[_0x1dda("0x11")]().reverse()}var m=l;if(t[g])t[g][_0x1dda("0x10")](m);else{var A=[m];t[g]=A}if(t[b])t[b].push(m);else{A=[m];t[b]=A}}}},{key:_0x1dda("0x11a5"),value:function(){var d=this,x=esmap[_0x1dda("0x33")].instance.id;for(var a in this[_0x1dda("0x11a6")]){var _=this[_0x1dda("0x11a6")][a];_[_0x1dda("0x0")]>=2&&function(){for(var a=function(a){var t=_[a],i=_.slice(a+1)[_0x1dda("0x2a5")]((function(d){var x=(0,l[_0x1dda("0x100")])({x:t.point.X,y:t[_0x1dda("0x769")].Y},{x:d[_0x1dda("0x769")].X,y:d[_0x1dda("0x769")].Y});return d[_0x1dda("0x12d")]!=t.bid&&x<=10}));if(1===i[_0x1dda("0x0")]){var n=_.findIndex((function(d){return d[_0x1dda("0x769")][_0x1dda("0x3a0")]===i[0][_0x1dda("0x769")][_0x1dda("0x3a0")]})),r=t[_0x1dda("0x769")],s=i[0][_0x1dda("0x769")],o={sid:r._id,eid:s._id,length:1,bstair:"0",direction:"0",efnum:s[_0x1dda("0x123")],rank:1e3,_id:d.linkPointsId};d[_0x1dda("0x11a7")]++,d.dataList[x].allLineMap[o[_0x1dda("0x3a0")]]=o,d[_0x1dda("0x111d")][x][_0x1dda("0x111e")][r[_0x1dda("0x3a0")]][_0x1dda("0x10")](o[_0x1dda("0x3a0")]),d.dataList[x].nearbyLine[s[_0x1dda("0x3a0")]][_0x1dda("0x10")](o._id),_.splice(n,1),_.splice(a,1),a--}e=a},e=0;e<_[_0x1dda("0x0")];e++)a(e)}()}}},{key:_0x1dda("0x11a2"),value:function(x,a){d[_0x1dda("0x11a8")]==_0x1dda("0x11a9")&&console[_0x1dda("0x1ec")](_0x1dda("0x11aa"),x,a);var _=this,e=esmap[_0x1dda("0x33")][_0x1dda("0x34")];if(!_.dataList[x]||!_.source[x]){var s=e.id;this[_0x1dda("0x838")][x]={navs:a},this[_0x1dda("0x10e8")]=null,this[_0x1dda("0x11ab")]=[];for(var o={},c={1:[],2:[],3:[],6:[]},l={},f={},u={},h=a,g=e.getBuildingById(x)[_0x1dda("0x35")].undergroundOffset,b=0;b<h[_0x1dda("0x0")];b++){var v=h[b],p=v[_0x1dda("0xbd4")];if(v){var m=v[_0x1dda("0xc5b")];for(var A in m){var C=m[A];if(C[_0x1dda("0x123")]=p,C[_0x1dda("0x43")]&&11==C.tid){var I=p-g;if(1===I){if(s!=x){var y=this._getNearestGate({bid:s,x:C.X,y:C.Y});if(y[_0x1dda("0x64b")]<15){var E=y[_0x1dda("0x649")][_0x1dda("0x3a0")];if(E){for(var w=_[_0x1dda("0x111d")][s].nearbyLine[E],T=0;T<w.length;T++){var k=_[_0x1dda("0x111d")][s][_0x1dda("0x1163")][w[T]];k[_0x1dda("0xd6f")]==E?k[_0x1dda("0xd6f")]=C[_0x1dda("0x3a0")]:k[_0x1dda("0x573")]=C[_0x1dda("0x3a0")]}_[_0x1dda("0x111d")][s][_0x1dda("0x111e")][C._id]=w,delete _[_0x1dda("0x111d")][s][_0x1dda("0x11a4")][E]}}else this.linkPoints[I]||(this[_0x1dda("0x11a6")][I]=[]),this[_0x1dda("0x11a6")][I][_0x1dda("0x10")]({bid:x,fnum:p,point:C,uoffset:g}),_0x1dda("0x11ac"),_0x1dda("0x11ad"),_0x1dda("0x11ae"),C._id}}else this.linkPoints[I]||(this.linkPoints[I]=[]),this.linkPoints[I][_0x1dda("0x10")]({bid:x,fnum:p,point:C,uoffset:g})}s!=x&&(C[_0x1dda("0x12d")]=x,_.dataList[s][_0x1dda("0x11a4")][A]&&console[_0x1dda("0x1eb")](_0x1dda("0x11af"),A),_[_0x1dda("0x111d")][s][_0x1dda("0x11a4")][A]=C),l[A]=C}var S=v[_0x1dda("0x3b6")];for(var M in S)s!=x&&(_[_0x1dda("0x111d")][s][_0x1dda("0x1163")][M]&&_0x1dda("0x11b0"),_[_0x1dda("0x111d")][s][_0x1dda("0x1163")][M]=S[M]),S[M][_0x1dda("0x12d")]=x,f[M]=S[M];for(var R in S){var L=S[R],D=L.sid,H=L.eid,P=R,O=L[_0x1dda("0xd74")];if(p!=L[_0x1dda("0xe14")]){if(["1","2","3","6"].indexOf(O)<0){if(o[D])o[D][_0x1dda("0x10")](P);else{var B=[P];o[D]=B}if(o[H])o[H][_0x1dda("0x10")](P);else{B=[P];o[H]=B}}else if("5"!=O&&"0"!=O&&"6"!=O){var F,N,z=c[O];if(!z)return void console[_0x1dda("0x1eb")](_0x1dda("0x11b1"));if(0==z.length)z[_0x1dda("0x10")]({pointids:[D,H],fnums:[p,L.efnum],lineids:[R],ladderType:O,crosses:(F={},(0,r[_0x1dda("0xd")])(F,D,[R]),(0,r[_0x1dda("0xd")])(F,H,[R]),F),fnumPoints:[(N={},(0,r[_0x1dda("0xd")])(N,D,{at:p,to:L[_0x1dda("0xe14")]}),(0,r[_0x1dda("0xd")])(N,H,{at:L[_0x1dda("0xe14")],to:p}),N)]});else for(var j=0;j<z[_0x1dda("0x0")];j++){var U,X,Y=z[j];if(Y.pointids[_0x1dda("0xaf")](D)>-1||Y[_0x1dda("0x11b2")][_0x1dda("0xaf")](H)>-1){var G;Y[_0x1dda("0x11b2")][_0x1dda("0x10")](D,H),Y[_0x1dda("0x17a")][_0x1dda("0x10")](p,L[_0x1dda("0xe14")]),Y[_0x1dda("0x11b3")].push(R),Y[_0x1dda("0x11b3")]=[][_0x1dda("0x317")]((0,n[_0x1dda("0xd")])(new(i[_0x1dda("0xd")])(Y[_0x1dda("0x11b3")]))),Y[_0x1dda("0x17a")]=[].concat((0,n[_0x1dda("0xd")])(new i.default(Y[_0x1dda("0x17a")]))),Y[_0x1dda("0x11b2")]=[].concat((0,n[_0x1dda("0xd")])(new i.default(Y[_0x1dda("0x11b2")]))),Y[_0x1dda("0x11b4")][_0x1dda("0x10")]((G={},(0,r[_0x1dda("0xd")])(G,D,{at:p,to:L.efnum}),(0,r[_0x1dda("0xd")])(G,H,{at:L[_0x1dda("0xe14")],to:p}),G)),Y[_0x1dda("0x11b5")][D]?Y[_0x1dda("0x11b5")][D][_0x1dda("0x10")](R):Y.crosses[D]=[R],2==Y[_0x1dda("0x11b5")][D][_0x1dda("0x0")]&&Y[_0x1dda("0x11b5")][D][0]==Y[_0x1dda("0x11b5")][D][1]&&Y.crosses[D][_0x1dda("0x6")](1,1),Y[_0x1dda("0x11b5")][H]?Y[_0x1dda("0x11b5")][H][_0x1dda("0x10")](R):Y[_0x1dda("0x11b5")][H]=[R],2==Y[_0x1dda("0x11b5")][H][_0x1dda("0x0")]&&Y[_0x1dda("0x11b5")][H][0]==Y.crosses[H][1]&&Y[_0x1dda("0x11b5")][H][_0x1dda("0x6")](1,1);break}if(j==z[_0x1dda("0x0")]-1)z[_0x1dda("0x10")]({pointids:[D,H],fnums:[p,L[_0x1dda("0xe14")]],lineids:[R],ladderType:O,fnumPoints:[(U={},(0,r[_0x1dda("0xd")])(U,D,{at:p,to:L[_0x1dda("0xe14")]}),(0,r[_0x1dda("0xd")])(U,H,{at:L[_0x1dda("0xe14")],to:p}),U)],crosses:(X={},(0,r[_0x1dda("0xd")])(X,D,[R]),(0,r[_0x1dda("0xd")])(X,H,[R]),X)})}}}else{if(s!=x){var Q=_[_0x1dda("0x111d")][s][_0x1dda("0x111e")];if(Q[D])Q[D][_0x1dda("0x10")](P);else{var V=[P];Q[D]=V}if(Q[H])Q[H][_0x1dda("0x10")](P);else{var W=[P];Q[H]=W}}if(u[D])u[D].push(P);else{B=[P];u[D]=B}if(u[H])u[H][_0x1dda("0x10")](P);else{B=[P];u[H]=B}}}}}this.checkLinks();var Z=[].concat((0,n[_0x1dda("0xd")])(c[1]),(0,n.default)(c[2]),(0,n[_0x1dda("0xd")])(c[3])),J={};Z.forEach((function(d){J=(0,t.default)({},J,d[_0x1dda("0x11b5")])})),J=(0,t.default)({},J,o),_[_0x1dda("0x111d")][s][_0x1dda("0x1160")][_0x1dda("0x11b6")]=[][_0x1dda("0x317")]((0,n[_0x1dda("0xd")])(Z),(0,n.default)(_[_0x1dda("0x111d")][s][_0x1dda("0x1160")][_0x1dda("0x11b6")])),_[_0x1dda("0x111d")][s].crossSchemes[_0x1dda("0x1161")]=(0,t.default)({},J,_.dataList[s].crossSchemes[_0x1dda("0x1161")],_[_0x1dda("0x111d")][s].crossSchemes[_0x1dda("0x1162")]),_[_0x1dda("0x111d")][s][_0x1dda("0x1160")][_0x1dda("0x1162")]=(0,t[_0x1dda("0xd")])({},o,_[_0x1dda("0x111d")][s][_0x1dda("0x1160")][_0x1dda("0x1162")]),_[_0x1dda("0x111d")][x]={allPointMap:l,allLineMap:f,nearbyLine:u,crossSchemes:{carModeScheme:o,manModeScheme:Z,manModeAllScheme:J}},"development"==d[_0x1dda("0x11a8")]&&console[_0x1dda("0x1ec")](_0x1dda("0x11b7")),e[_0x1dda("0xda")](_0x1dda("0x11b7"),{bid:x})}}},{key:_0x1dda("0x1195"),value:function(d){this[_0x1dda("0x10ea")]=d[_0x1dda("0x10ea")],this.linkMinDistance=d[_0x1dda("0x10eb")];var x=d.mode;this[_0x1dda("0x11ab")]=[],d[_0x1dda("0x8cb")][_0x1dda("0x123")]||(d[_0x1dda("0x8cb")][_0x1dda("0x123")]=1),d[_0x1dda("0x8cc")][_0x1dda("0x123")]||(d[_0x1dda("0x8cc")].fnum=1);var a=this[_0x1dda("0x11b8")](d[_0x1dda("0x8cb")][_0x1dda("0x12d")],d[_0x1dda("0x8cb")][_0x1dda("0x123")]),_=this[_0x1dda("0x11b8")](d[_0x1dda("0x8cc")][_0x1dda("0x12d")],d[_0x1dda("0x8cc")][_0x1dda("0x123")]);if(!a||!_)return console[_0x1dda("0x1ec")](_0x1dda("0x11b9")),[new(esmap[_0x1dda("0x5f3")])(d[_0x1dda("0x8cb")][_0x1dda("0x12d")],d.startFloorNum,0,[])];var e=this[_0x1dda("0x11ba")](d.startPoint[_0x1dda("0x12d")],d[_0x1dda("0x8cb")],x),t=this.getNearestNode(d[_0x1dda("0x8cc")][_0x1dda("0x12d")],d[_0x1dda("0x8cc")],x);if(!e||!t)return null;var i=a[_0x1dda("0xc5b")][e._id],n=_[_0x1dda("0xc5b")][t[_0x1dda("0x3a0")]];return i&&n?(d[_0x1dda("0x8cc")].id=t[_0x1dda("0x3a0")],this[_0x1dda("0x11bc")]({startPoint:d[_0x1dda("0x8cb")],endPoint:d[_0x1dda("0x8cc")],mode:d[_0x1dda("0x36")],ladderType:d[_0x1dda("0x10e8")]})):(console[_0x1dda("0x255")](_0x1dda("0x11bb")),null)}},{key:"getPointById",value:function(d,x){for(var a=this.source[d][_0x1dda("0xc98")],_=0;_<a[_0x1dda("0x0")];_++){var e=a[_][_0x1dda("0xc5b")];if(e[x])return e[x]}return null}},{key:_0x1dda("0x11b8"),value:function(d,x){for(var a=this.source[d][_0x1dda("0xc98")],_=0;_<a.length;_++)if(a[_][_0x1dda("0xbd4")]==x)return a[_]}},{key:_0x1dda("0x11bc"),value:function(d){var x=null,a=this,i=d[_0x1dda("0x8cb")],n=d[_0x1dda("0x8cc")],r=i.fnum,o=n[_0x1dda("0x123")],c=d.mode,f=d[_0x1dda("0x10e8")],h=d[_0x1dda("0x11bd")],g=this[_0x1dda("0x119c")],b=this[_0x1dda("0x11ba")](i.bid,d[_0x1dda("0x8cb")],d[_0x1dda("0x36")],h),v=this[_0x1dda("0x11ba")](n[_0x1dda("0x12d")],d[_0x1dda("0x8cc")],c,h),p=b[_0x1dda("0x3a0")],m=v._id,A=esmap[_0x1dda("0x33")][_0x1dda("0x34")],C=A[_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")].City;if(p==m)return null;var I=null,y=a[_0x1dda("0x111d")][g].allPointMap;if(1==c)if(r==o||i.bid!=n.bid)(I=this[_0x1dda("0x11be")]({},p,m,c,g,f))&&0!=I[_0x1dda("0x0")]||(I=this[_0x1dda("0x11be")](a[_0x1dda("0x111d")][g][_0x1dda("0x1160")][_0x1dda("0x1161")],p,m,c,g,f));else{var E=[],w=a[_0x1dda("0x111d")][g][_0x1dda("0x1160")][_0x1dda("0x11b6")];(0,e.default)(w)[_0x1dda("0xd1")]((function(d){d[_0x1dda("0x3c2")]=0,d[_0x1dda("0xa49")]=!1,d[_0x1dda("0x17a")][_0x1dda("0xaf")](r)>-1&&d[_0x1dda("0x17a")].indexOf(o)>-1&&(1==f?(Math[_0x1dda("0x2c1")](r-o)>=3&&2==d.ladderType&&(d.rank+=20),E.push(d)):2==f&&2==d[_0x1dda("0x10e8")]?E.push(d):3==f&&1==d[_0x1dda("0x10e8")]?E[_0x1dda("0x10")](d):4==f&&3==d.ladderType&&E.push(d))})),E.forEach((function(d){for(var x,a=void 0,_=o-r>0,e=0;e<d[_0x1dda("0x11b4")][_0x1dda("0x0")];e++){var t=d[_0x1dda("0x11b4")][e];if(x&&a)break;for(var s in t){var c=t[s].to-t[s].at>0;t[s].at==r&&c==_?x=s:t[s].at==o&&c==!_&&(a=s)}}if(x&&a){var f=null;if(p==x)f=.001;else{var h=y[x],g=(0,l[_0x1dda("0x100")])(i,{x:h.X,y:h.Y}),b=y[a];f=g+(0,l.DistanceofTwoPts)(n,{x:b.X,y:b.Y})+(0,u[_0x1dda("0x11bf")])({X:i.x,Y:i.y},h)}d[_0x1dda("0x3c2")]+=500/f}})),E[_0x1dda("0x3ef")]((function(d,x){return x[_0x1dda("0x3c2")]-d[_0x1dda("0x3c2")]}));for(var T=0;T<E[_0x1dda("0x0")];T++)if(!E[T].hold)try{if((I=this.getShortestPath(E[T][_0x1dda("0x11b5")],p,m,c,g,f))&&0!=I[_0x1dda("0x0")])break;continue}catch(d){continue}if(!I||0==I[_0x1dda("0x0")]){var k=null;if(this[_0x1dda("0x119a")].length>0)for(var S in k={},a[_0x1dda("0x111d")][g][_0x1dda("0x1160")][_0x1dda("0x1161")]){for(var M=!1,R=a[_0x1dda("0x111d")][g][_0x1dda("0x1160")][_0x1dda("0x1161")][S],L=0;L<R[_0x1dda("0x0")];L++)if(this[_0x1dda("0x119a")][_0x1dda("0xaf")](R[L])>-1){M=!0;break}M&&(k[S]=R)}if(1==f)k&&(I=this[_0x1dda("0x11be")](k,p,m,c,g,f));else{var D={};for(var H in a[_0x1dda("0x111d")][g].crossSchemes[_0x1dda("0x11b6")])"1"==a[_0x1dda("0x111d")][g][_0x1dda("0x1160")][_0x1dda("0x11b6")][H][_0x1dda("0x10e8")]&&3==f?D=(0,t.default)({},D,a[_0x1dda("0x111d")][g][_0x1dda("0x1160")][_0x1dda("0x11b6")][H][_0x1dda("0x11b5")]):"2"==a.dataList[g][_0x1dda("0x1160")][_0x1dda("0x11b6")][H].ladderType&&2==f?D=(0,t[_0x1dda("0xd")])({},D,a[_0x1dda("0x111d")][g][_0x1dda("0x1160")][_0x1dda("0x11b6")][H].crosses):"3"==a[_0x1dda("0x111d")][g][_0x1dda("0x1160")][_0x1dda("0x11b6")][H][_0x1dda("0x10e8")]&&4==f&&(D=(0,t.default)({},D,a.dataList[g][_0x1dda("0x1160")][_0x1dda("0x11b6")][H][_0x1dda("0x11b5")]));k&&(I=this.getShortestPath(k,p,m,c,g,f)),I&&0!=I[_0x1dda("0x0")]||(I=this.getShortestPath(D,p,m,c,g,f))}I&&0!=I[_0x1dda("0x0")]||(I=this[_0x1dda("0x11be")](a[_0x1dda("0x111d")][g].crossSchemes[_0x1dda("0x1161")],p,m,c,g,f))}}else if(r==o)I=this[_0x1dda("0x11be")]({},p,m,c,g,f);else{var P=a[_0x1dda("0x111d")][g][_0x1dda("0x1160")].carModeScheme;I=this[_0x1dda("0x11be")](P,p,m,c,g,f)}if(I&&I[_0x1dda("0x11c0")]&&0!=I[_0x1dda("0x11c0")].length){d.isMulti&&(this[_0x1dda("0x11ab")]=this.multiLinesUsed[_0x1dda("0x317")](I[_0x1dda("0x11c1")]));for(var O=I[_0x1dda("0x11c0")],B=I[_0x1dda("0x11c2")],F=I.walkLines,N={x:y[O[0]].X,y:y[O[0]].Y,fnum:y[O[0]].fnum,id:y[O[0]][_0x1dda("0x3a0")],bid:y[O[0]][_0x1dda("0x12d")]||g},z=[new esmap.ESNaviResult(N[_0x1dda("0x12d")],r,B,[N])],j=0;j<O.length-1;j++){var U=O[j],X=O[j+1];if((void 0===U?_0x1dda("0x8"):(0,_[_0x1dda("0xd")])(U))!=_0x1dda("0x1b")&&"object"!=(typeof X===_0x1dda("0x8")?"undefined":(0,_[_0x1dda("0xd")])(X))){var Y=U+"_"+X;if(this[_0x1dda("0x119d")][Y]){for(var G=[],Q=this[_0x1dda("0x119d")][Y].length,V=0;V<Q;V++)if(0!=V&&V!=Q-1){var W=(0,s[_0x1dda("0xd")])({},this[_0x1dda("0x119d")][Y][V]);G[_0x1dda("0x10")](W)}O[_0x1dda("0x6")][_0x1dda("0x5")](O,[j+1,0][_0x1dda("0x317")](G)),j+=G[_0x1dda("0x0")]}}}for(var Z=0;Z<O[_0x1dda("0x0")]-1;Z++){var J=void 0,K=(J=(0,_[_0x1dda("0xd")])(O[Z])!=_0x1dda("0x1b")?y[O[Z]]:O[Z]).fnum,q=void 0,$=(q=(0,_[_0x1dda("0xd")])(O[Z+1])!=_0x1dda("0x1b")?y[O[Z+1]]:O[Z+1])[_0x1dda("0x123")],dd=z[z[_0x1dda("0x0")]-1],xd=J[_0x1dda("0x12d")]||this[_0x1dda("0x119c")],ad=q[_0x1dda("0x12d")]||this[_0x1dda("0x119c")],_d=A[_0x1dda("0x12b")](xd);xd!=this[_0x1dda("0x119c")]&&_d||(_d=A[_0x1dda("0x12b")](0));var ed=A.getBuildingById(ad);ad!=this[_0x1dda("0x119c")]&&ed||(ed=A[_0x1dda("0x12b")](0));var td=xd!=ad;if(K-_d.options[_0x1dda("0xbc4")]==$-ed[_0x1dda("0x35")][_0x1dda("0xbc4")])td&&dd[_0x1dda("0x10e0")][dd[_0x1dda("0x10e0")][_0x1dda("0x0")]-1]&&(dd[_0x1dda("0x10e0")][dd[_0x1dda("0x10e0")][_0x1dda("0x0")]-1][_0x1dda("0x11c3")]=!0),dd.pointList[_0x1dda("0x10")]({x:q.X,y:q.Y,bid:ad,fnum:q[_0x1dda("0x123")],id:q[_0x1dda("0x3a0")],entries:td}),F[Z]&&dd.lineList[_0x1dda("0x10")](F[Z]);else{J.X,J.Y,J[_0x1dda("0x123")],J[_0x1dda("0x3a0")];var id={x:q.X,y:q.Y,bid:ad,fnum:q.fnum,id:q._id};z[_0x1dda("0x10")](new(esmap[_0x1dda("0x5f3")])(ad,$,B,[id]))}}for(var nd=0;nd<z[_0x1dda("0x0")];nd++)if(0==z[nd].pointList[_0x1dda("0x0")])z[_0x1dda("0x6")](nd,1),nd--;else if(C)for(var rd=z[nd].pointList,sd=0;sd<rd[_0x1dda("0x0")];sd++)rd[sd][_0x1dda("0x12d")]==this.baseSceneId&&1!=rd[sd].fnum&&(rd[sd][_0x1dda("0x123")]=1);for(var od=1;od<z[_0x1dda("0x0")]-1;od++){var cd=z[od];0!=cd[_0x1dda("0x0")]&&1==cd[_0x1dda("0x10e0")][_0x1dda("0x0")]&&z[od-1][_0x1dda("0x123")]==cd[_0x1dda("0x123")]&&z[od+1][_0x1dda("0x123")]==cd.fnum&&(z[_0x1dda("0x6")](od-1,3),od-=3)}if(this[_0x1dda("0x10ea")]){var ld=this.linkMinDistance;if(z[0]&&z[0][_0x1dda("0x10e0")][_0x1dda("0x0")]>=2){var fd=new(THREE[_0x1dda("0x11c")])(z[0].pointList[0].x,0,z[0][_0x1dda("0x10e0")][0].y),ud=new(THREE[_0x1dda("0x11c")])(i.x,0,i.y),hd=new THREE.Vector3(z[0].pointList[1].x,0,z[0].pointList[1].y),gd=fd[_0x1dda("0x2d0")](ud),bd=fd.angleTo(hd),vd=fd[_0x1dda("0x117")](ud),pd=r;if(Math.abs(gd-bd)<=90){var md={};(0,l[_0x1dda("0x1120")])({x:i.x,y:i.y},{x:z[0][_0x1dda("0x10e0")][0].x,y:z[0][_0x1dda("0x10e0")][0].y},{x:z[0][_0x1dda("0x10e0")][1].x,y:z[0][_0x1dda("0x10e0")][1].y},md),z[0][_0x1dda("0x10e0")][0].x=md.x,z[0][_0x1dda("0x10e0")][0].y=md.y}vd>=ld&&z[0][_0x1dda("0x10e0")][_0x1dda("0x955")]({x:i.x,y:i.y,bid:i[_0x1dda("0x12d")],fnum:pd})}if(z[z[_0x1dda("0x0")]-1]&&z[z[_0x1dda("0x0")]-1][_0x1dda("0x10e0")][_0x1dda("0x0")]>=2){var Ad=z[z[_0x1dda("0x0")]-1][_0x1dda("0x10e0")],Cd=new(THREE[_0x1dda("0x11c")])(Ad[Ad.length-1].x,0,Ad[Ad[_0x1dda("0x0")]-1].y),Id=new THREE.Vector3(n.x,0,n.y),yd=new(THREE[_0x1dda("0x11c")])(Ad[Ad[_0x1dda("0x0")]-2].x,0,Ad[Ad[_0x1dda("0x0")]-2].y),Ed=Cd.angleTo(Id),wd=Cd[_0x1dda("0x2d0")](yd),Td=Cd.distanceTo(Id),kd=o;if(Math[_0x1dda("0x2c1")](Ed-wd)<=90){var Sd={};(0,l[_0x1dda("0x1120")])({x:n.x,y:n.y},{x:Ad[Ad[_0x1dda("0x0")]-1].x,y:Ad[Ad[_0x1dda("0x0")]-1].y},{x:Ad[Ad.length-2].x,y:Ad[Ad[_0x1dda("0x0")]-2].y},Sd),Ad[Ad[_0x1dda("0x0")]-1].x=Sd.x,Ad[Ad[_0x1dda("0x0")]-1].y=Sd.y}Td>=ld&&Ad[_0x1dda("0x10")]({x:n.x,y:n.y,bid:n[_0x1dda("0x12d")],fnum:kd})}}for(var Md=0,Rd=0;Rd<z[_0x1dda("0x0")];Rd++){var Ld=z[Rd];if(Ld.pointList[_0x1dda("0x0")]>=2)for(var Dd=Ld[_0x1dda("0x10e0")],Hd=0;Hd<Dd[_0x1dda("0x0")]-1;Hd++){var Pd=Dd[Hd],Od=Dd[Hd+1];Md+=Math[_0x1dda("0x103")](Math.pow(Pd.x-Od.x,2)+Math.pow(Pd.y-Od.y,2))}}x={costDistance:Md,result:z}}return x}},{key:_0x1dda("0x11be"),value:function(d,x,a,_,e,t){if(x!=a){var i=this,n=i[_0x1dda("0x111d")][e][_0x1dda("0x11a4")],r=i[_0x1dda("0x111d")][e].allLineMap,s=i.dataList[e][_0x1dda("0x111e")],o={};o[_0x1dda("0x8cc")]=x,o[_0x1dda("0x11c2")]=0,o.JudgeCostDistance=0,o[_0x1dda("0x11c0")]=[x],o[_0x1dda("0x11c1")]=[];for(var c=[],l=[],u=n[a],h=s[a],g=1;g<1e4&&o;g++){if(o[_0x1dda("0x8cc")]==a)return o;if((0,f[_0x1dda("0x16")])(c,o[_0x1dda("0x8cc")]))l[_0x1dda("0x3ef")](this[_0x1dda("0x11c5")]("JudgeCostDistance")),o=l[0],l[_0x1dda("0x4")]();else{var b=this[_0x1dda("0x11c6")](x,o,n,r,s,d,c,_,u,e,t);c[_0x1dda("0x10")](o[_0x1dda("0x8cc")]);for(var v=0;v<b[_0x1dda("0x0")];v++)l[_0x1dda("0x10")](b[v]);if(l[_0x1dda("0x3ef")](this[_0x1dda("0x11c5")](_0x1dda("0x11c7"))),!(o=l[0]))return[];var p=s[o[_0x1dda("0x8cc")]];if(h&&p&&1==p[_0x1dda("0x0")]&&1!=g)0!=p[_0x1dda("0x2a5")]((function(d){return h.indexOf(d)>=0}))[_0x1dda("0x0")]||d[o.endPoint]||c[_0x1dda("0x10")](o[_0x1dda("0x8cc")]);l[_0x1dda("0x4")]()}}return[]}console[_0x1dda("0x255")](_0x1dda("0x11c4"))}},{key:"updateNewShortestPathList",value:function(d,x,a,_,e,t,i,n,r,s,o){var c=[],h=x.endPoint,g={2:2,3:1,4:3,1:999},b=a[h].bid||0;if(!this[_0x1dda("0x119f")](b))return[];if(e[h])for(var v=e[h],p=0;p<v.length;p++){var m=(I=_[C=v[p]])[_0x1dda("0x12d")]||0;if(this.isBuildingAccessable(m)){var A=I[_0x1dda("0x573")];if(!(0,f[_0x1dda("0x16")])(this[_0x1dda("0x11ab")],C)&&(2!=n||"4"==I[_0x1dda("0xd74")]||"5"==I.bstair)){if(h==I[_0x1dda("0x573")]){if(2==n&&"1"==I[_0x1dda("0xb9f")])continue;if(1==n&&"1"==I[_0x1dda("0xb9f")]&&("0"==I[_0x1dda("0xd74")]||"6"==I[_0x1dda("0xd74")]))continue;A=I.sid}if(!(0,f[_0x1dda("0x16")])(i,A))(y=(0,u[_0x1dda("0x11c8")])(x))[_0x1dda("0x8cc")]=A,y[_0x1dda("0x11c0")].push(A),y[_0x1dda("0x11c1")].push(C),y[_0x1dda("0x11c2")]+=I[_0x1dda("0x0")],1e3!=I[_0x1dda("0x3c2")]&&(y[_0x1dda("0x11c2")]+=1e3/I[_0x1dda("0x3c2")]),a[A]||console[_0x1dda("0x255")]("error!id: 9920587"),y.JudgeCostDistance=(0,u[_0x1dda("0x11bf")])(a[A],r,1),y.JudgeCostDistance+=y[_0x1dda("0x11c2")],c[_0x1dda("0x10")](y)}}}if(t[h])for(v=t[h],p=0;p<v[_0x1dda("0x0")];p++){var C,I;A=(I=_[C=v[p]])[_0x1dda("0x573")];if(1*h==I[_0x1dda("0x573")]){if(2==n&&"1"==I[_0x1dda("0xb9f")])continue;if(1==n&&"1"==I[_0x1dda("0xb9f")]&&("1"==I[_0x1dda("0xd74")]||"3"==I.bstair))continue;A=I[_0x1dda("0xd6f")]}if(!(0,f[_0x1dda("0x16")])(i,A)){var y;(y=(0,u[_0x1dda("0x11c8")])(x))[_0x1dda("0x8cc")]=A,y[_0x1dda("0x11c0")][_0x1dda("0x10")](A),y[_0x1dda("0x11c1")].push(C);var E=1e3;1e3!=I[_0x1dda("0x3c2")]&&(E=I.rank);var w,T=null;if(d==h||r[_0x1dda("0x3a0")]==h)T=.001;else{var k=a[h],S=a[d],M=(0,l[_0x1dda("0x100")])({x:S.X,y:S.Y},{x:k.X,y:k.Y}),R=a[A];T=M+(0,l[_0x1dda("0x100")])({x:r.X,y:r.Y},{x:R.X,y:R.Y})+(0,u[_0x1dda("0x11bf")])(S,k)}E+=T;for(var L=this[_0x1dda("0x838")][s].navs,D=0;D<L[_0x1dda("0x0")];D++)if(L[D][_0x1dda("0xc5b")][I[_0x1dda("0xd6f")]]){w=D;break}w&&I[_0x1dda("0xe14")]&&Math[_0x1dda("0x2c1")](w-I[_0x1dda("0xe14")])>1&&(y[_0x1dda("0x11c2")]+=10);var H=g[o]==1*I.bstair?1:20;y[_0x1dda("0x11c2")]+=H+1e3/E,c[_0x1dda("0x10")](y)}}return c}},{key:_0x1dda("0x11ba"),value:function(d,x,a,_){var e=this[_0x1dda("0x11b8")](d,x[_0x1dda("0x123")]),t=x[_0x1dda("0x11c9")]||{x:x.x,y:x.y},i=e.Nodes,n=[1/0,0];if(2==a)for(var r in i){var s=i[r];if(!_||!s[_0x1dda("0x43")]||11!=s[_0x1dda("0x43")])if(4==s[_0x1dda("0x43")]||5==s[_0x1dda("0x43")]||54==s[_0x1dda("0x43")])(o=Math.abs(Math[_0x1dda("0x103")](Math[_0x1dda("0xea")](s.X-t.x,2)+Math.pow(s.Y-t.y,2))))<n[0]&&(n[0]=o,n[1]=r)}else for(var r in i){var o;s=i[r];if(!_||!s.tid||11!=s[_0x1dda("0x43")])(o=Math[_0x1dda("0x2c1")](Math[_0x1dda("0x103")](Math.pow(s.X-t.x,2)+Math.pow(s.Y-t.y,2))))<n[0]&&(n[0]=o,n[1]=r)}return i[n[1]]}},{key:_0x1dda("0x11ca"),value:function(d){var x=this.source[d[_0x1dda("0x12d")]][_0x1dda("0xc98")],a=[];return x[_0x1dda("0xd1")]((function(d){var x=d[_0x1dda("0xc5b")];for(var _ in x){var e=x[_];e[_0x1dda("0x43")]&&11==e[_0x1dda("0x43")]&&a[_0x1dda("0x10")](e)}})),a}},{key:_0x1dda("0x11cb"),value:function(d,x){var a=this[_0x1dda("0x838")][d[_0x1dda("0x12d")]][_0x1dda("0xc98")],_=[1/0,0,{},1];return a.forEach((function(x){var a=x.Nodes,e=x[_0x1dda("0xbd4")];for(var t in a){var i=a[t];if(i[_0x1dda("0x43")]&&11==i[_0x1dda("0x43")]){var n=Math[_0x1dda("0x2c1")](Math[_0x1dda("0x103")](Math.pow(i.X-d.x,2)+Math[_0x1dda("0xea")](i.Y-d.y,2)));n<_[0]&&(_[0]=n,_[1]=t,_[2]=i,_[3]=e)}}})),{node:_[2],fnum:_[3],dis:_[0]}}},{key:"_compare",value:function(d){return function(x,a){return x[d]-a[d]}}}]),x}();x[_0x1dda("0xd")]=g})[_0x1dda("0x3")](this,a(74))},,function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _,e=a(12),t=(_=e)&&_[_0x1dda("0xc")]?_:{default:_};x[_0x1dda("0x11bf")]=function(d,x){return Math[_0x1dda("0x2c1")](d.X-x.X)+Math.abs(d.Y-x.Y)},x[_0x1dda("0x11c8")]=function d(x){var a;if("object"==(typeof x===_0x1dda("0x8")?"undefined":(0,t[_0x1dda("0xd")])(x)))if(null===x)a=null;else if(x instanceof Array){a=[];for(var _=0,e=x.length;_<e;_++)a[_0x1dda("0x10")](d(x[_]))}else for(var i in a={},x)a[i]=d(x[i]);else a=x;return a}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=t(a(0)),e=t(a(1));function t(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var i=function(){function d(x,a,e,t){(0,_[_0x1dda("0xd")])(this,d),this.fnum=a,this.bid=x,this[_0x1dda("0x0")]=e,this[_0x1dda("0x10e0")]=t,this.lineList=[]}return(0,e[_0x1dda("0xd")])(d,[{key:_0x1dda("0x11cc"),value:function(){return this.fnum}},{key:"getLength",value:function(){return this[_0x1dda("0x0")]}},{key:_0x1dda("0x11cd"),value:function(){for(var d=[],x=0,a=this[_0x1dda("0x10e0")][_0x1dda("0x0")];x<a;x++)d[_0x1dda("0x10")]({x:this[_0x1dda("0x10e0")][x].x,y:this[_0x1dda("0x10e0")][x].y,fnum:this[_0x1dda("0x123")]});return d}}]),d}();x[_0x1dda("0xd")]=i},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=f(a(13)),e=f(a(7)),t=f(a(8)),i=f(a(2)),n=f(a(0)),r=f(a(1)),s=a(63),o=a(41),c=f(a(109)),l=f(a(23));function f(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var u=function(){function d(x){(0,n[_0x1dda("0xd")])(this,d),this.configs=(0,i.default)({type:"building",useCrst:!0,merge:!0,model:"",bid:0,fnum:1,gid:0,id:null,name:"",bclick:!1,points:[],height:0,repeatset:1,heightset:1,thickset:1,showLevel:12.5,error:null,created:null},x),this.ID=this[_0x1dda("0x4d3")].id,this[_0x1dda("0xfc")]=this[_0x1dda("0x4d3")][_0x1dda("0xfc")],this[_0x1dda("0x180")]=new(THREE[_0x1dda("0x384")]),this[_0x1dda("0x106")]=6,this.o3d_.datas_=this,this[_0x1dda("0x180")][_0x1dda("0xfc")]=_0x1dda("0xfd"),this[_0x1dda("0x2c4")]=this.o3d_[_0x1dda("0x2c4")],this[_0x1dda("0x3f1")]=!0,this[_0x1dda("0x4a")]="",this[_0x1dda("0x42")]=esmap[_0x1dda("0x33")][_0x1dda("0x34")],this[_0x1dda("0x972")]=!1,this[_0x1dda("0xffb")]=!1,this.parent=null,this[_0x1dda("0x11ce")]=null,this[_0x1dda("0x1df")](),this[_0x1dda("0x32")](),this[_0x1dda("0x42")][_0x1dda("0x2ea")]<this[_0x1dda("0x4d3")][_0x1dda("0x1cd")]&&(this.o3d_[_0x1dda("0x169")]=!1)}var x;return(0,r[_0x1dda("0xd")])(d,[{key:_0x1dda("0x1df"),value:function(){var d=this;this[_0x1dda("0x42")].on(_0x1dda("0x38c"),(function(){var x=d[_0x1dda("0x42")][_0x1dda("0x2ea")];d[_0x1dda("0x180")]&&(x<d.configs[_0x1dda("0x1cd")]?d[_0x1dda("0x180")][_0x1dda("0x169")]&&(d[_0x1dda("0x180")][_0x1dda("0x169")]=!1):d[_0x1dda("0x180")].visible||(d.o3d_[_0x1dda("0x169")]=!0))}))}},{key:_0x1dda("0xe8"),value:function(){var d=this[_0x1dda("0x42")].mapPicker[_0x1dda("0x3b4")][this[_0x1dda("0x4d3")][_0x1dda("0x12d")]];if(d){var x=d[_0x1dda("0xaf")](this.o3d_);x>-1&&d[_0x1dda("0x6")](x,1)}this[_0x1dda("0x180")]&&(this[_0x1dda("0x180")][_0x1dda("0x169")]=!1,this[_0x1dda("0x180")][_0x1dda("0xfe")]&&this[_0x1dda("0x180")][_0x1dda("0xfe")][_0x1dda("0x181")](this.o3d_),(0,s[_0x1dda("0xe1")])(this.o3d_,!1))}},{key:"init",value:(x=(0,t.default)(e[_0x1dda("0xd")].mark((function d(){var x,a,_,t,i,n,r,s,f,u,h,g,b,v,p;return e[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d.next){case 0:if(!this.inited){d.next=2;break}return d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 2:if(x=this.map,a=this[_0x1dda("0x4d3")],_=a[_0x1dda("0x12d")],t=a[_0x1dda("0x121")],i=a.bclick,n=a.type,0!=t[_0x1dda("0x0")]){d[_0x1dda("0x24c")]=9;break}return _0x1dda("0x11cf"),this[_0x1dda("0x972")]=!0,d.abrupt("return");case 9:return(r=this[_0x1dda("0x42")][_0x1dda("0x1e1")](_))||(r=this.map[_0x1dda("0x12b")](_)),r||(s=_[_0x1dda("0x2a")]("_"),f=(0,o.getTileBound)(1*s[0],1*s[1],x[_0x1dda("0x35")][_0x1dda("0xc66")],!0),u=(f[_0x1dda("0xec")]-f[_0x1dda("0xf0")])/2+f[_0x1dda("0xf0")],h=(f[_0x1dda("0xed")]-f[_0x1dda("0xf1")])/2+f[_0x1dda("0xf1")],(g=new(c[_0x1dda("0xd")])({id:_,map:x})).center=[u,h],g[_0x1dda("0x1e3")]=1,g[_0x1dda("0x180")][_0x1dda("0xfa")][_0x1dda("0xcd")](0,0,0),x.mapScene[_0x1dda("0xc6f")]()[_0x1dda("0xce")](g[_0x1dda("0x180")]),r=g),1==r.buildingType?r[_0x1dda("0x3b9")][_0x1dda("0x3ba")](_0x1dda("0x11d0"),esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")])[_0x1dda("0x180")][_0x1dda("0xce")](this[_0x1dda("0x180")]):r[_0x1dda("0x61b")](this.configs[_0x1dda("0x123")])[_0x1dda("0x3ba")](_0x1dda("0x11d0"),esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")])[_0x1dda("0x180")][_0x1dda("0xce")](this[_0x1dda("0x180")]),this[_0x1dda("0xfe")]=r,this[_0x1dda("0x22c")]=r[_0x1dda("0x22c")],b=this.configs[_0x1dda("0x1ba")][_0x1dda("0x13f")](_0x1dda("0xae"),""),this[_0x1dda("0x4a")]="building"==n?l.default[_0x1dda("0x67")](_0x1dda("0x5e"),{filename:b,buildingId:this.configs[_0x1dda("0x12d")],modeltoken:x[_0x1dda("0xc3e")]}):l.default[_0x1dda("0x67")](_0x1dda("0x60"),{filename:b,modeltoken:x[_0x1dda("0xc3e")]}),this.url=this[_0x1dda("0x4a")][_0x1dda("0x13f")](/([^:]\/)\/+/g,"$1"),d[_0x1dda("0x24c")]=21,this[_0x1dda("0x11d1")]();case 21:(v=d[_0x1dda("0x2ff")])?(p=v.scene[_0x1dda("0x116")](),this._modelObj=p,this[_0x1dda("0x11d2")]=v,i&&this[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3ae")](this[_0x1dda("0x180")],_),this[_0x1dda("0x1e7")]={x:t[0].x,y:t[0].y},this[_0x1dda("0x972")]=!0,this[_0x1dda("0x11d3")](t),this[_0x1dda("0x4d3")][_0x1dda("0x1c5")]&&this[_0x1dda("0x4d3")][_0x1dda("0x1c5")](this)):(this[_0x1dda("0x972")]=!0,this[_0x1dda("0x4d3")][_0x1dda("0x1eb")]&&this[_0x1dda("0x4d3")][_0x1dda("0x1eb")](this));case 23:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return x[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x11d3"),value:function(d){if(this[_0x1dda("0x972")]){for(;this[_0x1dda("0x180")][_0x1dda("0xe6")][_0x1dda("0x0")]>0;){this.o3d_[_0x1dda("0xe6")][0];this[_0x1dda("0x180")][_0x1dda("0xe6")][_0x1dda("0xd5")]()}var x=this[_0x1dda("0x4d3")][_0x1dda("0x11d4")],a=this[_0x1dda("0x11ce")],_=this,e=this[_0x1dda("0x4d3")],t=e[_0x1dda("0x1ba")],n=e.thickset,r=e[_0x1dda("0x11d5")],s=e[_0x1dda("0x18b")],o=e.id,c=e[_0x1dda("0x11d6")],l=e[_0x1dda("0x101")];this[_0x1dda("0x4d3")][_0x1dda("0x121")]=d,this.configs[_0x1dda("0x101")]=!1;var f=this[_0x1dda("0x42")],u=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](this[_0x1dda("0x11ce")]),h=u[_0x1dda("0x2be")].x-u[_0x1dda("0x2f6")].x,g=[];d[_0x1dda("0xd1")]((function(d){var a=d;x&&(a=f[_0x1dda("0x198")]({from:f[_0x1dda("0x3be")],to:f[_0x1dda("0x199")],coord:{x:d.x,y:d.y}})),g[_0x1dda("0x10")](new THREE.Vector2(a.x,a.y))}));var b=[],v=h/c;if(this[_0x1dda("0x11d7")](g,0,b,v,h),0==b[_0x1dda("0x0")])return console[_0x1dda("0x3ec")](_0x1dda("0x11d8")+o+_0x1dda("0x11d9")+t),void(this.inited=!0);var p=[];if(b[_0x1dda("0xd1")]((function(d,x){var a=new(THREE[_0x1dda("0x11c")])(parseFloat(d[_0x1dda("0x1d7")]),parseFloat(r),parseFloat(n));0==a.x&&(a.x=1),0==a.y&&(a.y=1),0==a.z&&(a.z=1);var e=Math.PI/180,i=new(THREE[_0x1dda("0x20a")])(0,parseFloat(d[_0x1dda("0x201")])*e,0),c=_[_0x1dda("0x42")]._coordMapSceneToThree(d,!0);c.y=0,c.y+=parseFloat(s),p.push({id:o+"-"+x,model:t,rotation:i,position:c,scale:a})})),l){a[_0x1dda("0xf8")]((function(d){d[_0x1dda("0xe9")]&&(d.material=d[_0x1dda("0xe9")][_0x1dda("0x116")]())}));var m=(0,i[_0x1dda("0xd")])({},this[_0x1dda("0x11d2")],{scene:a,scenes:[a]}),A=this.modelLoadManager[_0x1dda("0x636")].merge(m,p);A||console[_0x1dda("0x1eb")](_0x1dda("0x11da")),this[_0x1dda("0x180")][_0x1dda("0xce")](A),this.o3d_[_0x1dda("0x153")][_0x1dda("0x11db")]=!0}else{a[_0x1dda("0xf8")]((function(d){d[_0x1dda("0xe9")]&&(d[_0x1dda("0xe9")]=d[_0x1dda("0xe9")][_0x1dda("0x116")]())}));for(var C=0;C<p[_0x1dda("0x0")];C++){var I=p[C],y=a[_0x1dda("0x116")](!0);(new(THREE[_0x1dda("0x2c8")])).setFromObject(y)[_0x1dda("0x2af")](y[_0x1dda("0xfa")]),y[_0x1dda("0xfa")][_0x1dda("0x218")](-1);var E=new THREE.Object3D;E[_0x1dda("0xce")](y),y[_0x1dda("0x153")].id=I.id,E[_0x1dda("0x3d9")][_0x1dda("0x20e")](I[_0x1dda("0x3d9")]),E[_0x1dda("0x1d7")][_0x1dda("0x20e")](I[_0x1dda("0x1d7")]),E[_0x1dda("0xfa")][_0x1dda("0x20e")](I.position),this[_0x1dda("0x180")][_0x1dda("0xce")](E)}}this.mapCoord={x:d[0].x,y:d[0].y}}}},{key:_0x1dda("0x11d1"),value:function(){var d=this,x=this.configs[_0x1dda("0x1ba")];return new(_[_0x1dda("0xd")])((function(a){if(d[_0x1dda("0x42")].mapService.modelStore[x])a(d[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x24b")][x][_0x1dda("0xcc0")]);else{if(!d[_0x1dda("0x22c")].loadingList[x]){var _={name:_0x1dda("0xcda"),layerid:d[_0x1dda("0x2c4")],model:d[_0x1dda("0x4d3")].model,url:d[_0x1dda("0x4a")],id:"wallModelPrefetch",bclick:0,fnum:1,iswall:!0,gid:0,scale:new(THREE[_0x1dda("0x11c")])(1,1,1),rotation:new(THREE[_0x1dda("0x11c")])(0,0,0),position:new(THREE[_0x1dda("0x11c")])(1,1,1),parent:new(THREE[_0x1dda("0x1b4")])};d[_0x1dda("0x22c")][_0x1dda("0xcca")](_)}d[_0x1dda("0x42")].on(_0x1dda("0xcb4"),(function(d){d[_0x1dda("0xfc")]==x&&a(d.gltfObj)})),d[_0x1dda("0x42")].on("modelPrefetchFailed",(function(d){d[_0x1dda("0xfc")]==x&&a(null)}))}}))}},{key:_0x1dda("0x11d7"),value:function(d,x,a,_,e){if(x==d[_0x1dda("0x0")]-1)return!0;var t,i,n,r,s,o,c=d[x],l=d[x+1],f=l[_0x1dda("0x116")]()[_0x1dda("0x4cf")](c),u=_/2,h=(t=l,i=c,n=new THREE.Vector3(1,0,0),r=new THREE.Vector3(t.x,0,t.y),s=new(THREE[_0x1dda("0x11c")])(i.x,0,i.y)[_0x1dda("0x116")]().sub(r)[_0x1dda("0x2cc")](),o=s[_0x1dda("0x2d0")](n)*THREE[_0x1dda("0x1fa")][_0x1dda("0x659")],s[_0x1dda("0x116")]()[_0x1dda("0x1f9")](n).y>0?o:360-o),g=f.length();if(f.normalize(),0!=g){if(g>_){var b=Math[_0x1dda("0x1dd")](g/_),v=g%_,p=c.clone()[_0x1dda("0xce")](f.clone()[_0x1dda("0x218")](u));p[_0x1dda("0x201")]=h,p[_0x1dda("0x1d7")]=_/e,a[_0x1dda("0x10")](p);for(var m=1;m<b;m++){var A=a[a[_0x1dda("0x0")]-1][_0x1dda("0x116")]()[_0x1dda("0xce")](f[_0x1dda("0x116")]()[_0x1dda("0x218")](_));A[_0x1dda("0x201")]=h,A[_0x1dda("0x1d7")]=_/e,a.push(A)}if(v>0)if(v>=e/2){var C=a[a[_0x1dda("0x0")]-1].clone()[_0x1dda("0xce")](f[_0x1dda("0x116")]()[_0x1dda("0x218")](u+v/2));C.angle=h,C[_0x1dda("0x1d7")]=v/e,a[_0x1dda("0x10")](C)}else{var I=a[a[_0x1dda("0x0")]-1];I[_0x1dda("0x1d7")]=(v+_)/e;var y=I[_0x1dda("0x116")]()[_0x1dda("0xce")](f.clone()[_0x1dda("0x218")](v/2));I.x=y.x,I.y=y.y}}else{var E=c[_0x1dda("0x116")]().add(f[_0x1dda("0x116")]().multiplyScalar(g/2));E[_0x1dda("0x201")]=h,E.scale=g/e,a.push(E)}this[_0x1dda("0x11d7")](d,++x,a,_,e)}}},{key:_0x1dda("0x26e"),value:function(d){var x=!1===d,a=this[_0x1dda("0x4d3")][_0x1dda("0x101")];this.o3d_.traverse((function(_){if(_.material)if(_.material instanceof Array)if(a)_.material[0].userData[_0x1dda("0x9f2")]||(_.material[0][_0x1dda("0x153")][_0x1dda("0x9f2")]=_[_0x1dda("0xe9")][0][_0x1dda("0x3e7")][_0x1dda("0x116")]()),x?(_.material[0].emissive=_[_0x1dda("0xe9")][0][_0x1dda("0x153")][_0x1dda("0x9f2")],_[_0x1dda("0xe9")][0][_0x1dda("0x153")][_0x1dda("0x9f2")]=null):_[_0x1dda("0xe9")][0].emissive=new(THREE[_0x1dda("0x139")])(d);else for(var e=0;e<_[_0x1dda("0xe9")].length;e++){var t=_[_0x1dda("0xe9")][e][_0x1dda("0x116")]();t[_0x1dda("0x2")](_0x1dda("0x3e7"))&&(t[_0x1dda("0x153")][_0x1dda("0x9f2")]||(t[_0x1dda("0x153")][_0x1dda("0x9f2")]=t[_0x1dda("0x3e7")].clone()),x?t.emissive=t[_0x1dda("0x153")][_0x1dda("0x9f2")]instanceof THREE[_0x1dda("0x139")]?t[_0x1dda("0x153")][_0x1dda("0x9f2")]:new(THREE[_0x1dda("0x139")])(t[_0x1dda("0x153")].originEMS):t[_0x1dda("0x3e7")]=new(THREE[_0x1dda("0x139")])(d),_.material[e]=t,t.needsUpdate=!0)}else{var i=_[_0x1dda("0xe9")];i[_0x1dda("0x2")](_0x1dda("0x3e7"))&&(x?i[_0x1dda("0x3e7")]=new(THREE[_0x1dda("0x139")])(i.userData[_0x1dda("0x9f2")]):((i=_.material[_0x1dda("0x116")]()).userData[_0x1dda("0x9f2")]||(i[_0x1dda("0x153")][_0x1dda("0x9f2")]=_[_0x1dda("0xe9")][_0x1dda("0x3e7")].toJSON()),i.emissive=new(THREE[_0x1dda("0x139")])(d),_.material=i),_[_0x1dda("0xe9")][_0x1dda("0x172")]=!0)}}))}}]),d}();x[_0x1dda("0xd")]=u},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=c(a(5)),e=c(a(0)),t=c(a(1)),i=c(a(10)),n=c(a(11)),r=c(a(77)),s=a(4),o=c(a(23));function c(d){return d&&d.__esModule?d:{default:d}}var l=function(d){function x(d){(0,e[_0x1dda("0xd")])(this,x);var a=esmap[_0x1dda("0x33")].instance,t=a[_0x1dda("0x19f")].getCenter();0==d.x&&(d.x=t.x),0==d.y&&(d.y=t.y);var n=a[_0x1dda("0x29e")]({x:d.x,y:d.y,z:d.height||0}),r=void 0;if(d[_0x1dda("0x201")]instanceof Object)r={x:THREE.Math.degToRad(d[_0x1dda("0x201")].x||0),y:THREE[_0x1dda("0x1fa")].degToRad(d.angle.z||0),z:THREE[_0x1dda("0x1fa")][_0x1dda("0x20b")](d[_0x1dda("0x201")].y||0)};else{var c;if(isNaN(d[_0x1dda("0x201")])&&null!=d[_0x1dda("0x201")])return c=console[_0x1dda("0x1eb")](_0x1dda("0x11dc")),(0,i[_0x1dda("0xd")])(A,c);r={x:0,y:THREE[_0x1dda("0x1fa")][_0x1dda("0x20b")]((0,s[_0x1dda("0x12")])(d,_0x1dda("0x201"),0)),z:0}}var l=(0,s[_0x1dda("0x12")])(d,_0x1dda("0xd2"),1),f=l instanceof Object?{x:l.x||1,y:l.y||1,z:l.z||1}:{x:l,y:l,z:l},u=(0,s[_0x1dda("0x12")])(d,_0x1dda("0x4a"),"model"),h="",g=u.lastIndexOf("/");h=g>=0?u.slice(g+1):u,a[_0x1dda("0x7d")][_0x1dda("0x7e")]("sk")&&u[_0x1dda("0xaf")](_0x1dda("0x77"))<0&&(h=d.name||u,u=u.replace(/\.gltf$/,"")+".gltf",u=a[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]?o[_0x1dda("0xd")][_0x1dda("0x67")]("buildingModel",{filename:u,modeltoken:a[_0x1dda("0xc3e")],buildingId:a.id}):o[_0x1dda("0xd")][_0x1dda("0x67")](_0x1dda("0x60"),{filename:u,modeltoken:a[_0x1dda("0xc3e")]}));var b=(0,s.getValue)(d,"id",1),v=a[_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]?20:12,p=(0,s.getValue)(d,"showLevel",v),m=(0,s[_0x1dda("0x12")])(d,_0x1dda("0x12d"),a.id),A=(0,i[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,_[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this,{model:h,ID:b,bid:m,url:u,alias:"es3dmarker",scale:f,rotation:r,position:n,showLevel:p,name:d[_0x1dda("0xfc")]||_0x1dda("0x11dd"),onError:d.onError||null,callback:d[_0x1dda("0x195")]||d[_0x1dda("0x192")]||null,clickAnimation:(0,s.getValue)(d,"clickAnimation",!1)}));return A[_0x1dda("0xfe3")]=!d[_0x1dda("0x2")](_0x1dda("0xfe3"))||d[_0x1dda("0xfe3")],A.data=d.data||null,A[_0x1dda("0x180")][_0x1dda("0xfa")].y=n.y,A[_0x1dda("0x15a")]=null!=d.seeThrough&&d[_0x1dda("0x15a")],A[_0x1dda("0x101")]=null!=d[_0x1dda("0x101")]&&d[_0x1dda("0x101")],A.marker=!0,A}return(0,n.default)(x,d),(0,t[_0x1dda("0xd")])(x,[{key:_0x1dda("0x18d"),value:function(){this.o3d_[_0x1dda("0x18d")]()}},{key:_0x1dda("0x18b"),get:function(){return this.o3d_[_0x1dda("0xfa")].y},set:function(d){this[_0x1dda("0x180")][_0x1dda("0xfa")].y=d}}]),x}(r.default);l[_0x1dda("0x11de")]=r[_0x1dda("0xd")],x[_0x1dda("0xd")]=l},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=i(a(0)),e=i(a(1)),t=i(a(111));function i(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var n=function(){function d(x){(0,_[_0x1dda("0xd")])(this,d),this[_0x1dda("0x8ec")]=x;var a=x.options,e=x[_0x1dda("0x19f")][_0x1dda("0xadc")][_0x1dda("0x1a0")];this.box=e.getBoundingClientRect();this[_0x1dda("0x11df")];var i=a[_0x1dda("0x34b")],n=(0,t[_0x1dda("0xd")])(_0x1dda("0x1a4"))[_0x1dda("0x120")]({position:_0x1dda("0xc4f"),bottom:a[_0x1dda("0x34a")][1]+"px",left:a[_0x1dda("0x34a")][0]+"px",width:i+"px",height:_0x1dda("0x1ab"),webkitTextSizeAdjust:_0x1dda("0x5bb"),msTextSizeAdjust:_0x1dda("0x5bb")})[_0x1dda("0x41c")];e[_0x1dda("0x24")](n);var r=(0,t.default)(_0x1dda("0x1a4")).style({position:_0x1dda("0xc4f"),overflow:_0x1dda("0x6e8"),fontSize:"11px",fontFamily:"Arial,sans-serif",textAlign:"center",color:_0x1dda("0x34d"),width:_0x1dda("0x1a6"),cursor:_0x1dda("0xd"),lineHeight:_0x1dda("0x11e0"),textShadow:_0x1dda("0x11e1")})[_0x1dda("0x41c")];n.appendChild(r),this[_0x1dda("0x11e2")]=r;var s=(0,t.default)(_0x1dda("0x1a4"))[_0x1dda("0x120")]({position:_0x1dda("0xc4f"),overflow:_0x1dda("0x6e8"),background:_0x1dda("0x34d"),width:_0x1dda("0x1a6"),height:_0x1dda("0x11e3"),fontSize:"0",bottom:_0x1dda("0x11e4")}).element;n[_0x1dda("0x24")](s);var o=(0,t[_0x1dda("0xd")])(_0x1dda("0x1a4"))[_0x1dda("0x120")]({position:_0x1dda("0xc4f"),overflow:"hidden",background:_0x1dda("0x34d"),width:_0x1dda("0x11e5"),height:_0x1dda("0x11e6"),fontSize:"0",bottom:"0",right:_0x1dda("0x11e4")}).element;n[_0x1dda("0x24")](o);var c=(0,t[_0x1dda("0xd")])("div")[_0x1dda("0x120")]({position:_0x1dda("0xc4f"),overflow:_0x1dda("0x6e8"),background:_0x1dda("0x34d"),width:"3px",height:_0x1dda("0x11e6"),fontSize:"0",bottom:"0",left:_0x1dda("0x11e4")})[_0x1dda("0x41c")];n[_0x1dda("0x24")](c);var l=(0,t[_0x1dda("0xd")])(_0x1dda("0x1a4"))[_0x1dda("0x120")]({position:_0x1dda("0xc4f"),overflow:_0x1dda("0x6e8"),background:_0x1dda("0xf79"),width:"100%",height:"3px",fontSize:"0",bottom:"0"})[_0x1dda("0x41c")];n[_0x1dda("0x24")](l);var f=(0,t[_0x1dda("0xd")])("div")[_0x1dda("0x120")]({position:_0x1dda("0xc4f"),overflow:_0x1dda("0x6e8"),background:_0x1dda("0xf79"),width:_0x1dda("0x10af"),height:_0x1dda("0x11e7"),fontSize:"0",bottom:"0",left:"0"}).element;n[_0x1dda("0x24")](f);var u=(0,t.default)(_0x1dda("0x1a4"))[_0x1dda("0x120")]({position:_0x1dda("0xc4f"),overflow:_0x1dda("0x6e8"),background:"#000",width:_0x1dda("0x10af"),height:_0x1dda("0x11e7"),fontSize:"0",bottom:"0",right:"0"}).element;n[_0x1dda("0x24")](u),this.barBox=n[_0x1dda("0x495")](),this[_0x1dda("0x11e8")]=n}return(0,e[_0x1dda("0xd")])(d,[{key:"DistanceofTwoPts",value:function(d,x){return Math[_0x1dda("0x103")]((d.x-x.x)*(d.x-x.x)+(d.y-x.y)*(d.y-x.y))}},{key:_0x1dda("0xa2b"),value:function(){var d=this;if("3D"!=this[_0x1dda("0x8ec")].viewMode_){var x=this[_0x1dda("0x8ec")][_0x1dda("0xa5b")](d[_0x1dda("0x11e9")][_0x1dda("0x325")]-d[_0x1dda("0x11df")][_0x1dda("0x325")],d.barBox[_0x1dda("0x323")]-d[_0x1dda("0x11df")][_0x1dda("0x323")],0),a=this[_0x1dda("0x8ec")][_0x1dda("0xa5b")](d.barBox[_0x1dda("0x326")]-d[_0x1dda("0x11df")][_0x1dda("0x325")],d[_0x1dda("0x11e9")][_0x1dda("0x323")]-d[_0x1dda("0x11df")].top,0);if(x&&a){var _=d[_0x1dda("0x100")](x,a),e=void 0;e=_<50?_[_0x1dda("0x60b")](1)+_0x1dda("0x11ea"):_>=50&&_<1e3?_[_0x1dda("0x60b")](0)+_0x1dda("0x11ea"):(_/1e3)[_0x1dda("0x60b")](1)+"&nbsp;å¬é",d[_0x1dda("0x11e2")][_0x1dda("0x1ae")]=e}}else{var t=60*this[_0x1dda("0x8ec")][_0x1dda("0x19f")][_0x1dda("0xae9")],i=void 0;i=t<50?t[_0x1dda("0x60b")](1)+_0x1dda("0x11ea"):t>=50&&t<1e3?t.toFixed(0)+_0x1dda("0x11ea"):(t/1e3).toFixed(1)+_0x1dda("0x11eb"),this[_0x1dda("0x11e2")][_0x1dda("0x1ae")]=i}}},{key:"visible",set:function(d){d?this[_0x1dda("0x11e8")].style[_0x1dda("0x1a7")]=_0x1dda("0x109b"):this.barBoxer[_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x5bb")},get:function(){return"none"!=this[_0x1dda("0x11e8")][_0x1dda("0x120")][_0x1dda("0x1a7")]}}]),d}();x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=o(a(2)),e=o(a(12)),t=o(a(0)),i=o(a(32)),n=a(18),r=a(63),s=a(4);function o(d){return d&&d.__esModule?d:{default:d}}var c=new(i[_0x1dda("0xd")]),l=function d(x){(0,t[_0x1dda("0xd")])(this,d);var a=esmap.ESMap[_0x1dda("0x34")];this[_0x1dda("0x11ec")]=!1,this[_0x1dda("0x6e8")]=!1,this.locked=!1,this[_0x1dda("0x2f0")]={},this[_0x1dda("0x4db")]=x,this[_0x1dda("0x4db")][_0x1dda("0xd2")]=_0x1dda("0x3fd"),_0x1dda("0x3fd")==this[_0x1dda("0x4db")].size?(this.w_=this[_0x1dda("0x4db")][_0x1dda("0x1a5")]?this[_0x1dda("0x4db")].width:300,this.h_=this[_0x1dda("0x4db")][_0x1dda("0x18b")]?this.options_[_0x1dda("0x18b")]:150,this.padding_=10):(this.w_=32,this.h_=32,this[_0x1dda("0x109c")]=8),this[_0x1dda("0x11ed")]="2px 2px 3px rgba(0,0,0, 0.3)",this.defaultRadius_=this.options_[_0x1dda("0xc4a")]?this[_0x1dda("0x4db")][_0x1dda("0xc4a")]:_0x1dda("0x11e7"),this.screenCoord_=this[_0x1dda("0x4db")][_0x1dda("0x11ee")]?this[_0x1dda("0x4db")][_0x1dda("0x11ee")]:null,this.updateAlign=!!this[_0x1dda("0x4db")].updateAlign&&this[_0x1dda("0x4db")][_0x1dda("0x6ec")],this[_0x1dda("0x4a0")]=this[_0x1dda("0x4db")][_0x1dda("0x4a0")]?this[_0x1dda("0x4db")][_0x1dda("0x4a0")]:null,this[_0x1dda("0x12d")]=this[_0x1dda("0x4db")][_0x1dda("0x1e7")][_0x1dda("0x12d")]?this.options_[_0x1dda("0x1e7")].bid:0,this[_0x1dda("0x11ef")]=this.options_.marker?this[_0x1dda("0x4db")].marker:null,this[_0x1dda("0x11f0")]=this[_0x1dda("0x4db")][_0x1dda("0x1e7")]?this[_0x1dda("0x4db")][_0x1dda("0x1e7")]:null,this.showLevel_=this.options_[_0x1dda("0x1cd")]?this.options_[_0x1dda("0x1cd")]:null,this[_0x1dda("0x11f0")]&&this[_0x1dda("0x11f0")][_0x1dda("0x18b")]&&(this[_0x1dda("0x11f0")].z=this[_0x1dda("0x11f0")][_0x1dda("0x18b")]),this[_0x1dda("0x11f1")]=this.options_[_0x1dda("0x481")]?this.options_[_0x1dda("0x481")]:_0x1dda("0x11f2"),this[_0x1dda("0x11f3")]=this[_0x1dda("0x4db")][_0x1dda("0x11f4")]?this[_0x1dda("0x4db")][_0x1dda("0x11f4")]:_0x1dda("0x11f5");var _=void 0;if(_=this[_0x1dda("0x4db")][_0x1dda("0x2")]("id")&&null!=this[_0x1dda("0x4db")].id?this[_0x1dda("0x4db")].id:(0,n[_0x1dda("0x1a")])(8),this.ID=_,c[_0x1dda("0x11f6")](this.ID)&&(_0x1dda("0x11f7"),this.ID),c.add(this.ID),this[_0x1dda("0x11f0")]){null==this[_0x1dda("0x11f0")].x&&(this.mapCoord_.x=a.center.x),null==this[_0x1dda("0x11f0")].y&&(this[_0x1dda("0x11f0")].y=a[_0x1dda("0x122")].y);var e=a[_0x1dda("0xa25")]({x:this[_0x1dda("0x11f0")].x,y:this.mapCoord_.y});this[_0x1dda("0x11f0")].x=e.x,this.mapCoord_.y=e.y}this[_0x1dda("0x11f8")]=null,this.mapCoord_&&!this[_0x1dda("0x11f0")].fnum&&(this[_0x1dda("0x11f0")][_0x1dda("0x123")]=1,this[_0x1dda("0x4db")][_0x1dda("0x1e7")][_0x1dda("0x123")]=1),this[_0x1dda("0x4db")][_0x1dda("0x1e7")][_0x1dda("0x12d")]||(this[_0x1dda("0x4db")][_0x1dda("0x1e7")][_0x1dda("0x12d")]=0),this[_0x1dda("0x11f9")]&&this.screenCoord_[_0x1dda("0x18b")]&&(this[_0x1dda("0x11f9")].z=this.screenCoord_[_0x1dda("0x18b")]),this[_0x1dda("0x52")]=a.getBuildingById(this[_0x1dda("0x12d")]),(this[_0x1dda("0x11f9")]||this[_0x1dda("0x11f0")])&&(this[_0x1dda("0x11fa")]=!!this[_0x1dda("0x11f9")],this.$=function(d){return document[_0x1dda("0x108e")](d)},this[_0x1dda("0x11fb")]=null==this[_0x1dda("0x4db")][_0x1dda("0x1aa")]?20:this[_0x1dda("0x4db")][_0x1dda("0x1aa")],this.contentHeight_=this.h_-2*this.defaultPadding_,this[_0x1dda("0x11fc")]=this[_0x1dda("0x4db")][_0x1dda("0x740")]?this[_0x1dda("0x4db")][_0x1dda("0x740")]:null,this[_0x1dda("0x11fd")]=this[_0x1dda("0x4db")][_0x1dda("0x11fe")]?this[_0x1dda("0x4db")].borderStyle:"1px solid rgba(0,0,0,.2)",this[_0x1dda("0x11ff")]=this[_0x1dda("0x4db")][_0x1dda("0x11ff")]?this[_0x1dda("0x4db")][_0x1dda("0x11ff")]:"rgba(0,0,0,.2)",this.backgroundColor=this.options_[_0x1dda("0x8f4")]?this[_0x1dda("0x4db")][_0x1dda("0x8f4")]:"255,255,255",this.maxScale=this[_0x1dda("0x4db")][_0x1dda("0x1200")]?this[_0x1dda("0x4db")][_0x1dda("0x1200")]:1,this[_0x1dda("0x11d")]=1,this[_0x1dda("0x1201")]=null!=this.options_.updateSize&&this[_0x1dda("0x4db")][_0x1dda("0x998")],this[_0x1dda("0x42")]=a,this[_0x1dda("0x9d3")]=null,this[_0x1dda("0x1d6")]=1,this.computedScale=1,this[_0x1dda("0x1202")]())};l[_0x1dda("0x1")]={_tryInit:function(){var d=this,x=this,a=this[_0x1dda("0x42")],_=document[_0x1dda("0x20")](_0x1dda("0x1a4"));if(_[_0x1dda("0x120")][_0x1dda("0x481")]=_0x1dda("0x11f2"),_[_0x1dda("0xb23")]=function(d){d[_0x1dda("0x343")]()},_[_0x1dda("0xb05")]=function(d){x[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0xb77")](),d[_0x1dda("0x343")]()},_[_0x1dda("0x4b5")]=function(d){d[_0x1dda("0x343")]()},_.ontouchend=function(d){d[_0x1dda("0x343")]()},_[_0x1dda("0x108a")]=function(d){d[_0x1dda("0x343")]()},!this[_0x1dda("0x4a0")]&&this[_0x1dda("0x11fc")]){this[_0x1dda("0x11fc")]=_0x1dda("0x1203")+this[_0x1dda("0x1204")]+_0x1dda("0x1205")+this[_0x1dda("0x11fc")]+_0x1dda("0x1206"),_.style[_0x1dda("0x1a5")]=this.w_+"px",_[_0x1dda("0x120")].height=this.h_+"px",_[_0x1dda("0x120")][_0x1dda("0xfa")]="relative",_.setAttribute("class","es-control-popmarker"),_[_0x1dda("0x120")][_0x1dda("0x1aa")]=this[_0x1dda("0x11fb")]+"px",_[_0x1dda("0x120")][_0x1dda("0x8f4")]=_0x1dda("0x605")+this.backgroundColor+","+this[_0x1dda("0x11d")]+")",_.style[_0x1dda("0x8df")]=this[_0x1dda("0x11fd")],_.style.borderRadius=this[_0x1dda("0x10a1")],_[_0x1dda("0x120")].boxSizing=_0x1dda("0x1ad");var e=document.createElement(_0x1dda("0xc4d"));e[_0x1dda("0x41f")](_0x1dda("0x1af"),"es-control-popmarker-bot"),e[_0x1dda("0x120")][_0x1dda("0x1a5")]=0,e[_0x1dda("0x120")][_0x1dda("0x18b")]=0,e[_0x1dda("0x120")][_0x1dda("0x2fe")]=0,e[_0x1dda("0x120")][_0x1dda("0x105d")]=_0x1dda("0x6e8"),e[_0x1dda("0x120")][_0x1dda("0xfa")]=_0x1dda("0xc4f"),e[_0x1dda("0x120")][_0x1dda("0x1207")]="20px",e[_0x1dda("0x120")].borderStyle=_0x1dda("0xc50"),e[_0x1dda("0x120")].borderColor=this[_0x1dda("0x11ff")]+_0x1dda("0x1208"),e.style[_0x1dda("0x325")]=this.w_/2-25+"px",e[_0x1dda("0x120")][_0x1dda("0x324")]="-40px";var t=document[_0x1dda("0x20")](_0x1dda("0xc4d"));t[_0x1dda("0x41f")](_0x1dda("0x1af"),"es-control-popmarker-top"),t[_0x1dda("0x120")][_0x1dda("0x1a5")]=0,t[_0x1dda("0x120")][_0x1dda("0x18b")]=0,t[_0x1dda("0x120")][_0x1dda("0x2fe")]=0,t[_0x1dda("0x120")][_0x1dda("0x105d")]=_0x1dda("0x314"),t[_0x1dda("0x120")][_0x1dda("0xfa")]="absolute",t.style[_0x1dda("0x11fe")]=_0x1dda("0xc50"),t.style[_0x1dda("0x1207")]="20px",t.style[_0x1dda("0x11ff")]=_0x1dda("0x605")+this[_0x1dda("0x8f4")]+","+this[_0x1dda("0x11d")]+") transparent transparent",t.style[_0x1dda("0x325")]=this.w_/2-25+"px",t[_0x1dda("0x120")][_0x1dda("0x324")]=_0x1dda("0x1209");var i=document[_0x1dda("0x20")](_0x1dda("0x883"));i[_0x1dda("0x9f")]=_0x1dda("0x71b"),i.value="â",i.style.position=_0x1dda("0xc4f"),i[_0x1dda("0x120")][_0x1dda("0x326")]=_0x1dda("0xe75"),i.style[_0x1dda("0x323")]="8px",i[_0x1dda("0x120")][_0x1dda("0x9de")]="0 0 #eee",i[_0x1dda("0x120")].width="24px",i.style[_0x1dda("0x18b")]=_0x1dda("0x120a"),i[_0x1dda("0x120")][_0x1dda("0x8df")]=0,i[_0x1dda("0x120")].webkitAppearance="none",i.style[_0x1dda("0x1aa")]="0",i[_0x1dda("0x120b")]=this[_0x1dda("0x120c")].bind(this),i[_0x1dda("0x108b")]=this[_0x1dda("0x120c")][_0x1dda("0x4e")](this),_[_0x1dda("0x24")](i),_[_0x1dda("0x24")](e),_.appendChild(t)}else this[_0x1dda("0x4a0")]&&_[_0x1dda("0x41f")](_0x1dda("0x1af"),this[_0x1dda("0x4a0")]);var n=a[_0x1dda("0x12b")](this[_0x1dda("0x12d")]),r=n[_0x1dda("0x61b")](this[_0x1dda("0x4db")][_0x1dda("0x1e7")][_0x1dda("0x123")]),s=new(THREE[_0x1dda("0x1b4")]);s[_0x1dda("0x153")].id=this.ID,s[_0x1dda("0xfc")]=_0x1dda("0xa65"),r[_0x1dda("0x180")].add(s),n.on(_0x1dda("0x166"),(function(x){x[_0x1dda("0xaf")](d[_0x1dda("0x4db")][_0x1dda("0x1e7")][_0x1dda("0x123")])<0?d[_0x1dda("0x6e8")]||(d[_0x1dda("0x120d")]=!1):d[_0x1dda("0x6e8")]&&(d[_0x1dda("0x120d")]=!0)}));var o=document.createElement(_0x1dda("0x1a4"));o[_0x1dda("0x24")](_);var c=new(THREE[_0x1dda("0x6e6")])(o);this[_0x1dda("0x1c5")]=!1;var l=a._coordMapSceneToThree(this[_0x1dda("0x4db")][_0x1dda("0x1e7")]);s[_0x1dda("0xfa")][_0x1dda("0x20e")](l);var f=this.options_[_0x1dda("0x1e7")].height||0;s[_0x1dda("0xfa")].y=f,s.initY=f,c[_0x1dda("0x11ef")]=this[_0x1dda("0x11ef")],c.datas_={nodeType:100};var u=_[_0x1dda("0x495")](),h=u[_0x1dda("0x1a5")],g=u[_0x1dda("0x18b")];c[_0x1dda("0x2de")]=h,c.height_=g,c.userData.computedScale=1,c[_0x1dda("0x153")].updateAlign=this.updateAlign,s[_0x1dda("0xce")](c),this[_0x1dda("0x120e")]=c,s.width_=64,s[_0x1dda("0xf00")]=64,this[_0x1dda("0xc58")]=s,s[_0x1dda("0xe5")]=this,x[_0x1dda("0x11ef")]&&(_[_0x1dda("0x120")][_0x1dda("0x324")]=f+"px");var b=function(){x[_0x1dda("0x11ef")]&&x[_0x1dda("0x11ef")].o3d_&&(s[_0x1dda("0xfa")].y=x[_0x1dda("0x11ef")].o3d_[_0x1dda("0xfa")].y);var d=s.getWorldPosition(new(THREE[_0x1dda("0x11c")])),a=x[_0x1dda("0x42")][_0x1dda("0xa1b")](d,!0),_=x._inFloor;a&&x[_0x1dda("0x120f")]&&_?x[_0x1dda("0x6e8")]&&x[_0x1dda("0x1210")](!0):!x[_0x1dda("0x6e8")]&&x[_0x1dda("0x1210")](!1)},v=function(){if(x[_0x1dda("0x1201")]){var d=esmap[_0x1dda("0x237")][_0x1dda("0xf0b")](c,x[_0x1dda("0x42")][_0x1dda("0x19f")]);x[_0x1dda("0x214")]||(d[_0x1dda("0xf0e")]<=0?x[_0x1dda("0x214")]=1:x[_0x1dda("0x214")]=d[_0x1dda("0xf0e")]);var a=x[_0x1dda("0x214")]/d[_0x1dda("0xf0e")];a<=0&&(a=x.originalScale);var _=Math[_0x1dda("0x2f6")](x.maxScale,a);c.userData.computedScale=_,x[_0x1dda("0x1211")]=_}};x[_0x1dda("0xf09")]?x[_0x1dda("0x42")].mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]?x[_0x1dda("0x42")][_0x1dda("0x2ea")]<x.showLevel_?x[_0x1dda("0x120f")]=!1:x[_0x1dda("0x120f")]=!0:x[_0x1dda("0x42")][_0x1dda("0x1cf")]<x[_0x1dda("0xf09")]?x[_0x1dda("0x120f")]=!0:x[_0x1dda("0x120f")]=!1:x[_0x1dda("0x120f")]=!0,x[_0x1dda("0x42")].on("update",b),x.bindedUpdate=b,x[_0x1dda("0x1212")]=v,x[_0x1dda("0x42")].on("zoomed",v),x.showLevel_&&x[_0x1dda("0x42")].on(_0x1dda("0x1ee"),(function(){if(x[_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")].City){var d=x[_0x1dda("0x42")].zoomLevel;if(x[_0x1dda("0x406")])return;d<x.showLevel_?(x.inLevel=!1,x[_0x1dda("0x6e8")]||(x[_0x1dda("0x1210")](!1),x[_0x1dda("0x11f8")]&&x[_0x1dda("0x11f8")](!1))):(x[_0x1dda("0x120f")]=!0,x[_0x1dda("0x6e8")]&&(x[_0x1dda("0x1210")](!0),x[_0x1dda("0x11f8")]&&x[_0x1dda("0x11f8")](!0)))}else{var a=x[_0x1dda("0x42")].scaleLevel;if(x[_0x1dda("0x406")])return;a>x.showLevel_?x[_0x1dda("0x6e8")]||(x.setVisible(!1),x[_0x1dda("0x120f")]=!1,x[_0x1dda("0x11f8")]&&x.onVisibleCallBack(!1)):x[_0x1dda("0x6e8")]&&(x[_0x1dda("0x1210")](!0),x[_0x1dda("0x120f")]=!0,x[_0x1dda("0x11f8")]&&x[_0x1dda("0x11f8")](!0))}})),this[_0x1dda("0x11fc")]&&_[_0x1dda("0x1213")](_0x1dda("0x1214"),this[_0x1dda("0x11fc")]),this.popDiv_=_,this._inFloor=!0,r[_0x1dda("0x180")][_0x1dda("0x169")]||(this[_0x1dda("0x1210")](!1),this[_0x1dda("0x120d")]=!1),document.addEventListener(_0x1dda("0x6f0"),(function(d){d.targetELement==o&&(x[_0x1dda("0x120f")]||x.setVisible(!1),x[_0x1dda("0x1c5")]||(x[_0x1dda("0x4db")][_0x1dda("0x1c5")]&&x[_0x1dda("0x4db")][_0x1dda("0x1c5")](_[_0x1dda("0xe6")][0],x),x[_0x1dda("0x1c5")]=!0))}))},onUpdatePosition:function(d){var x=this,a=this;a.cssOnUpdate=function(x){var _={x:x.message.x,y:x.message.y,display:x[_0x1dda("0xf45")].display,zIndex:a[_0x1dda("0x120e")][_0x1dda("0x41c")][_0x1dda("0x120")][_0x1dda("0x8ea")]};a[_0x1dda("0x406")]||a[_0x1dda("0x120f")]||(_[_0x1dda("0x1a7")]=_0x1dda("0x5bb"));var e=1;if(a[_0x1dda("0x1201")]){var t=esmap[_0x1dda("0x237")][_0x1dda("0xf0b")](a[_0x1dda("0xc58")],a[_0x1dda("0x42")][_0x1dda("0x19f")]);a[_0x1dda("0x214")]||(a[_0x1dda("0x214")]=t[_0x1dda("0xf0e")]);var i=a[_0x1dda("0x214")]/t[_0x1dda("0xf0e")];i<=0&&(i=a[_0x1dda("0x214")]),e=Math.min(a[_0x1dda("0x1200")],i)}d(_0x1dda("0x4a5")+a[_0x1dda("0x11f3")]+_0x1dda("0x1215")+_.x+_0x1dda("0x4a3")+_.y+_0x1dda("0x1216")+e+")",_)},this[_0x1dda("0x120e")].addEventListener("update",a[_0x1dda("0x1217")]),this[_0x1dda("0x120e")][_0x1dda("0x30")](_0x1dda("0x1ef"),(function(){d(_0x1dda("0xfff"),{display:_0x1dda("0x5bb")}),x[_0x1dda("0x120e")][_0x1dda("0x264")]("update",a[_0x1dda("0x1217")])}))},onVisibleChanged:function(d){this[_0x1dda("0x11f8")]=d},getMapCoord_Z:function(d,x){return x?this[_0x1dda("0x52")].getFloorHeight(d)+x:this[_0x1dda("0x52")].getFloorHeight(d)+2},getMapCoord_:function(d){if(_0x1dda("0x1b")!=(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,e[_0x1dda("0xd")])(d))||!d.x||!d.y||!d[_0x1dda("0x123")])return null;var x={x:d.x,y:d.y,z:this[_0x1dda("0x1218")](d[_0x1dda("0x123")],d.z)};return this[_0x1dda("0x42")][_0x1dda("0xa5b")](x.x,x.y,x.z)},getScreenCoord_:function(d){return"object"==(typeof d===_0x1dda("0x8")?_0x1dda("0x8"):(0,e[_0x1dda("0xd")])(d))&&d.x&&d.y&&d.z?this[_0x1dda("0x42")][_0x1dda("0xa5f")](d.x,d.y,d.z):null},bindCloseClick_:function(){this.close(),this[_0x1dda("0x4db")][_0x1dda("0x1219")]&&_0x1dda("0x1c")==typeof this.options_.closed&&this.options_[_0x1dda("0x1219")](!0)},close:function(){if(this[_0x1dda("0x9d3")]){var d=this[_0x1dda("0x52")].getFloor(this[_0x1dda("0x11f0")][_0x1dda("0x123")]);this.group.remove(this.group[_0x1dda("0xe6")][0]),d[_0x1dda("0x180")][_0x1dda("0x181")](this[_0x1dda("0xc58")]),c[_0x1dda("0x248")](this.ID),this[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x5bb"),this[_0x1dda("0x4db")][_0x1dda("0x1219")]&&_0x1dda("0x1c")==typeof this[_0x1dda("0x4db")].closed&&this.options_[_0x1dda("0x1219")](!0),this[_0x1dda("0x42")].off("update",this[_0x1dda("0x164")])}},setVisible:function(d){this[_0x1dda("0x406")]||(d?(this.popDiv_&&(this[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x109b"),this[_0x1dda("0x6e8")]=!1),this[_0x1dda("0x120e")][_0x1dda("0x169")]=!0):(this[_0x1dda("0x9d3")]&&(this.popDiv_[_0x1dda("0x120")].display="none",this[_0x1dda("0x6e8")]=!0),this[_0x1dda("0x120e")][_0x1dda("0x169")]=!1))},hide:function(){this[_0x1dda("0x406")]||(this[_0x1dda("0x406")]=!0),this.popDiv_&&(this[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x5bb"),this[_0x1dda("0x6e8")]=!0),this[_0x1dda("0x120e")][_0x1dda("0x169")]=!1},show:function(){this[_0x1dda("0x406")]||(this[_0x1dda("0x406")]=!0),this[_0x1dda("0x9d3")]&&(this[_0x1dda("0x9d3")][_0x1dda("0x120")].display=_0x1dda("0x109b"),this.hidden=!1),this.cssObject[_0x1dda("0x169")]=!0},toggle:function(){this[_0x1dda("0x9d3")]&&("none"==this[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x1a7")]?this[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x1a7")]=_0x1dda("0x109b"):this[_0x1dda("0x9d3")][_0x1dda("0x120")][_0x1dda("0x1a7")]="none")},setHeight:function(d){this[_0x1dda("0xc58")].position.y=d},moveTo:function(d){var x=this[_0x1dda("0x2f0")].moveTo;d=(0,_.default)({},d);var a={x:(0,s[_0x1dda("0x12")])(d,"x",this[_0x1dda("0x11f0")].x),y:(0,s[_0x1dda("0x12")])(d,"y",this[_0x1dda("0x11f0")].y),z:(0,s[_0x1dda("0x12")])(d,"z",this[_0x1dda("0xc58")][_0x1dda("0xfa")].y)};x&&x[_0x1dda("0x18d")]();var e=(0,r[_0x1dda("0x185")])(a);d.x=e.x,d.y=e.y,d.z=e.z;var t=esmap.MapObjectUtils.moveTo[_0x1dda("0x3")](this.group,d);this[_0x1dda("0x2f0")].moveTo=t}},x[_0x1dda("0xd")]=l},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,"__esModule",{value:!0});var _=u(a(12)),e=u(a(13)),t=u(a(2)),i=u(a(0)),n=u(a(1)),r=u(a(62)),s=u(a(61)),o=u(a(373)),c=u(a(375)),l=u(a(23)),f=u(a(33));function u(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var h=new(r[_0x1dda("0xd")]),g={x:0,y:0},b=function(){function d(x,a,_){var e=this;(0,i[_0x1dda("0xd")])(this,d),h[_0x1dda("0xcd")](_0x1dda("0xf31"),null),this.id=x,this[_0x1dda("0xfc")]="",this.shellId=null,this.map=_,this[_0x1dda("0xbcd")]=1,this[_0x1dda("0x122")],this[_0x1dda("0xda2")]=[],this.floorNums=[],this[_0x1dda("0x121a")]=[],this[_0x1dda("0x8f0")]={},this[_0x1dda("0x629")]={},this.floors_={},this[_0x1dda("0x180")]=new(THREE[_0x1dda("0x384")]),this[_0x1dda("0x180")][_0x1dda("0xe5")]=this,this.sourceData=null,this.meshHandler=this[_0x1dda("0x42")].mapScene[_0x1dda("0xb4")],this.options=a,null==this[_0x1dda("0x35")][_0x1dda("0x350")]&&(this[_0x1dda("0x35")][_0x1dda("0x350")]=!0),this[_0x1dda("0x121b")]={},this[_0x1dda("0x121c")]=[],this[_0x1dda("0x121d")]=!1,this[_0x1dda("0x121e")]={},this[_0x1dda("0xcc2")]={},this.isLoadedAll=!1,this[_0x1dda("0x22c")]=new(o[_0x1dda("0xd")])(this),this[_0x1dda("0x95e")]=new(c[_0x1dda("0xd")])(this),this[_0x1dda("0x121f")]=!1,this[_0x1dda("0x1220")]=0,em[_0x1dda("0x5e5")].convert(this),this[_0x1dda("0x42")].mode==esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]&&this[_0x1dda("0x42")].on(_0x1dda("0x93f"),(function(d){d==esmap[_0x1dda("0x5e0")][_0x1dda("0xa55")]&&e[_0x1dda("0x12c")][_0x1dda("0x0")]>1&&(e[_0x1dda("0x12c")]=[e.focusFloorNum])}),null,this.id),this[_0x1dda("0x930")]=[],this[_0x1dda("0x9f")]=0,f.default[_0x1dda("0xe0")](this.id)}return(0,n[_0x1dda("0xd")])(d,[{key:"convertBuildingToWorld",value:function(d){var x=this;return d[_0x1dda("0x42")]((function(d){return(0,t[_0x1dda("0xd")])({},d,{x:d.x+x[_0x1dda("0x16d")].x,y:d.y+x.offset.y})}))}},{key:"getFloorNumByName",value:function(d){for(var x=0;x<this.listFloors[_0x1dda("0x0")];x++){if(this[_0x1dda("0x1221")][x][_0x1dda("0xa9c")][_0x1dda("0xa85")]()==d)return this[_0x1dda("0x1221")][x][_0x1dda("0xbd4")]}return console[_0x1dda("0x1eb")](_0x1dda("0x1222")+d),null}},{key:_0x1dda("0x9b0"),value:function(d){var x=this,a=this[_0x1dda("0x42")],_=a[_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")].City;try{var e=[];return this[_0x1dda("0x1223")][d][_0x1dda("0x1224")][_0x1dda("0xd1")]((function(d){var t={points:[],holes:[]};d[_0x1dda("0x121")][_0x1dda("0xd1")]((function(d){t[_0x1dda("0x121")][_0x1dda("0x10")]({x:-d.x,y:d.y})})),d.holes.forEach((function(d){var x=[];d.forEach((function(d){x[_0x1dda("0x10")]({x:-d.x,y:d.y})})),t[_0x1dda("0x502")][_0x1dda("0x10")](x)})),_&&(t.points=t[_0x1dda("0x121")][_0x1dda("0x42")]((function(d){return{x:d.x+x[_0x1dda("0x9b2")].x+x[_0x1dda("0x16d")].x,y:d.y+x.delta.y-x.offset.y}})),t[_0x1dda("0x502")].forEach((function(d){d=a.transformCoordArray({from:a[_0x1dda("0x199")],to:a.DEFAULT_COORDSYSTEM,coords:d})}))),e[_0x1dda("0x10")](t)})),e}catch(d){return console.info(_0x1dda("0x1225")),null}}},{key:_0x1dda("0x95b"),value:function(d,x){var a=this;return new(e[_0x1dda("0xd")])((function(_){var e=a;if(2==e[_0x1dda("0x35")][_0x1dda("0xbd2")])e.visibleFloorNums=[d];else{var t=e[_0x1dda("0x634")][_0x1dda("0x3ef")](),i=[];for(var n in t)t[n]<=d&&i[_0x1dda("0x10")](t[n]);e[_0x1dda("0x12c")]=i}e[_0x1dda("0x52b")]={fnum:d,callback:function(){x&&x(),_()}}}))}},{key:_0x1dda("0x1226"),value:function(d,x,a){var _=this,e=new(THREE[_0x1dda("0x5b5")]),t=d[_0x1dda("0xc80")],i=this[_0x1dda("0x397")],n=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x1227")]);return x.add(n[_0x1dda("0x180")]),setTimeout((function(){for(var d=0;d<t[_0x1dda("0x0")];d++){for(var x=t[d],n=0;n<x[_0x1dda("0x121")][_0x1dda("0x0")];n++)x[_0x1dda("0x121")][n].x=-x[_0x1dda("0x121")][n].x,x[_0x1dda("0x121")][n][_0x1dda("0x123")]=a;var r=l[_0x1dda("0xd")].getPath(_0x1dda("0x5c"),{filename:x.RoomLogo,type:"roomtexture",buildingId:_.id});x[_0x1dda("0x51c")];var s={lineType:esmap.ESLineType[_0x1dda("0x11a")],lineWidth:5,noAnimate:!0,color:_0x1dda("0x119"),smooth:!1,pickable:!0,offsetHeight:0,lineWidthMeter:!0};if(s[_0x1dda("0x4a")]=r,x.RoomLogoSize){var o=x.RoomLogoSize[_0x1dda("0x2a")](",");1*o[1]?(s[_0x1dda("0x14e")]=1*o[1],s.up=new THREE.Vector3(0,1,0)):(s[_0x1dda("0x14e")]=1*o[0],s.up=new(THREE[_0x1dda("0x11c")])(1,0,0)),s[_0x1dda("0x26")]=x[_0x1dda("0x623")];var c=new(esmap[_0x1dda("0x5fb")])({id:x[_0x1dda("0x620")],points:x[_0x1dda("0x121")],style:s});c[_0x1dda("0x4f5")]=x,c[_0x1dda("0x1de")]=a,_[_0x1dda("0x42")][_0x1dda("0x985")](c),i[_0x1dda("0xd5")](x[_0x1dda("0x620")])}}e.resolve()}),_[_0x1dda("0xf25")]),e}},{key:"findRoomById",value:function(d){var x,a=this,_=a[_0x1dda("0x634")],e=!1,t=!1;d instanceof Object?(e=d.hasOwnProperty(_0x1dda("0x1228"))?d[_0x1dda("0x1228")]:e,t=!!d[_0x1dda("0x2")](_0x1dda("0x1229"))&&d[_0x1dda("0x1229")],x=d.id,_=d[_0x1dda("0x123")]?d[_0x1dda("0x123")]:_):typeof d==_0x1dda("0x177")&&(x=d);var i=null;return esmap.ESMapUtil[_0x1dda("0x4ac")](this[_0x1dda("0x42")],{fnum:_,bid:this.id},{nodeType:5,ID:x},(function(d){if(0!=d.length){if(e)a.map[_0x1dda("0x91e")][0]&&a.map[_0x1dda("0x91e")][0].ID==d[0].ID||(a.map[_0x1dda("0x9d0")](),a.map.storeSelect(d[0]));var x=d[0];if(t){var _=x[_0x1dda("0x180")][_0x1dda("0xe7")],n=_[_0x1dda("0x40c")];_[_0x1dda("0x153")][_0x1dda("0x40c")]=n,_[_0x1dda("0x40d")](),a[_0x1dda("0x42")][_0x1dda("0x122a")](x.faceRange[0],x[_0x1dda("0xff")][1],n)[_0x1dda("0xd1")]((function(d){_[_0x1dda("0x16c")](d[_0x1dda("0x21c")],d[_0x1dda("0xfb")],d[_0x1dda("0x40e")])})),x.hided=!0}else if(x.hided){var r=x.o3d_[_0x1dda("0xe7")];r[_0x1dda("0x40d")](),r[_0x1dda("0x153")][_0x1dda("0x40c")][_0x1dda("0xd1")]((function(d){r.addGroup(d[_0x1dda("0x21c")],d[_0x1dda("0xfb")],d.materialIndex)})),x[_0x1dda("0x122b")]=!1}i=d[0]}})),i}},{key:"updateFloorSpan",value:function(d){var x,a=this,_=1,e=null,t=d;t instanceof Object?(_=null==t.time?1:t[_0x1dda("0x233")],x=1*t.height,e=t[_0x1dda("0x195")]||null):x=1*t;for(var i=0;i<a[_0x1dda("0x121c")].length;i++)a.animatingId_[i][_0x1dda("0x18d")]();a[_0x1dda("0x121c")]=[];var n=a[_0x1dda("0x52b")],r=a[_0x1dda("0x121e")][2]-a[_0x1dda("0x121e")][1];if(this[_0x1dda("0x1220")]!=t){this[_0x1dda("0x1220")]=x;var s=a[_0x1dda("0x634")];a[_0x1dda("0x121d")]=!0;for(var o=a[_0x1dda("0x35")].focusMode,c=function(){if(1==o){if(s[l]===n)return _0x1dda("0x63c")}else x;var t=s[l];f=a[_0x1dda("0x61b")](t)[_0x1dda("0x180")];var i=void 0;i=2==o?a[_0x1dda("0x121e")][t]+(t-1)*x:(t-n)*(x+r),u=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(f[_0x1dda("0xfa")]).to({y:i},1e3*_)[_0x1dda("0x18f")](esmap.TWEEN[_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")])[_0x1dda("0x192")]((function(){a[_0x1dda("0x121d")]&&e&&e(),a[_0x1dda("0x121d")]=!1,a[_0x1dda("0x1f2")](_0x1dda("0x122c"),{span:d})}))[_0x1dda("0x162")]((function(d){a[_0x1dda("0x1f2")]("floorHeightChanged",{fnum:t,value:d.y})}))[_0x1dda("0x21c")](),a[_0x1dda("0x121c")][_0x1dda("0x10")](u)},l=0;l<s[_0x1dda("0x0")];l++){var f,u;c();_0x1dda("0x63c")}}}},{key:_0x1dda("0x122d"),value:function(d){return this.o3dFloors_[d]}},{key:_0x1dda("0x61b"),value:function(d){var x=this.o3dFloors_[d];return null==x?null:x[_0x1dda("0xe5")]}},{key:"getFloorHeight",value:function(d){return this[_0x1dda("0x122d")](d)[_0x1dda("0xfa")].y}},{key:"enter",value:function(){_0x1dda("0x0");var d=this[_0x1dda("0x42")][_0x1dda("0x35")].showBuildingMode,x=null,a={time:1,scaleZ:.25};if(d===esmap[_0x1dda("0x5cb")].SINGLE)x=esmap[_0x1dda("0x5cb")][_0x1dda("0xc25")];else if(d===esmap[_0x1dda("0x5cb")].PLANISH)x=esmap[_0x1dda("0x5cb")].PLANISH;else{if(d===esmap[_0x1dda("0x5cb")][_0x1dda("0xb78")])return;x=d[_0x1dda("0x36")],(0,t[_0x1dda("0xd")])(a,d)}var _={mode:x};(0,t[_0x1dda("0xd")])(_,a),this[_0x1dda("0x122e")]=_,this[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0xc9b")](!1),this.options[_0x1dda("0x122f")]=!0,this[_0x1dda("0x121f")]=!0,this[_0x1dda("0x1f2")](_0x1dda("0x1230")),this.map[_0x1dda("0xda")]("buildingEnter",this)}},{key:_0x1dda("0xc26"),value:function(){var d=this;return new(e[_0x1dda("0xd")])((function(x){if(!d[_0x1dda("0x122e")])return x(),void d[_0x1dda("0x42")].fire("buildingExit",d);d[_0x1dda("0x42")][_0x1dda("0x279")][_0x1dda("0xc9b")](!0),d[_0x1dda("0x35")][_0x1dda("0x122f")]=!1,d[_0x1dda("0x121f")]=!1,d[_0x1dda("0x1f2")](_0x1dda("0xc26")),d[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0x1231"),d),x()}))}},{key:_0x1dda("0x1232"),value:function(d,x){var a=this.floors_[d];a.floorTempData=x;var _=new esmap.ESFloorManager(this,a)[_0x1dda("0x180")];_[_0x1dda("0x169")]=!0,_.meta_=a,_.position[_0x1dda("0xcd")](0,a[_0x1dda("0xa51")],0),this[_0x1dda("0x629")][d]=_,this[_0x1dda("0x180")][_0x1dda("0xce")](_),this[_0x1dda("0x121e")][d]=_[_0x1dda("0xfa")][_0x1dda("0x116")]().y}},{key:_0x1dda("0x1233"),value:function(d,x){var a=this;a[_0x1dda("0xbcd")]=d,x=x||{};var _=this.sourceData[_0x1dda("0xa50")],e=a[_0x1dda("0x42")].controls;if(this[_0x1dda("0x42")]){var t=-this[_0x1dda("0x629")][d][_0x1dda("0xfa")].y,i=x[_0x1dda("0x1234")]||!1,n=0;for(var r in this.originFloorHeights&&(n=this[_0x1dda("0x121e")][this[_0x1dda("0x35")][_0x1dda("0xbc4")]+1]),_){var s=_[r][_0x1dda("0xbd4")],o=this[_0x1dda("0x629")][s];if(s==d){var c=new(THREE[_0x1dda("0x11c")]);c.y=this[_0x1dda("0x629")][d][_0x1dda("0xfa")].y,this[_0x1dda("0x35")][_0x1dda("0x908")]&&esmap[_0x1dda("0x86")].restoreFloorAlpha({fnum:d,bid:a.id,time:0});var l=this[_0x1dda("0x42")][_0x1dda("0x19f")].camera[_0x1dda("0xfa")][_0x1dda("0x116")](),f=this[_0x1dda("0x42")].controls[_0x1dda("0x227")].clone(),u=l.y-f.y;c.x=f.x,c.z=f.z;var h=c.clone()[_0x1dda("0x4cf")](f),g=c.y+u-l.y,b=null==x[_0x1dda("0x233")]?this[_0x1dda("0x35")][_0x1dda("0x122f")]?this.options[_0x1dda("0x1235")]:0:x[_0x1dda("0x233")];if(a[_0x1dda("0x42")][_0x1dda("0x91f")]&&a.map[_0x1dda("0x91f")][_0x1dda("0x18d")](),2==a[_0x1dda("0x35")][_0x1dda("0xbd2")])x[_0x1dda("0x1236")]?(a[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x614")].position.y=l.y+g,e[_0x1dda("0x227")].y=c.y,e[_0x1dda("0x152")]()):a[_0x1dda("0x35")][_0x1dda("0x122f")]&&(this[_0x1dda("0x91f")]&&this[_0x1dda("0x91f")][_0x1dda("0x18d")](),this[_0x1dda("0x91f")]=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])({value:0}).to({value:1},1e3*b).easing(esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x1237")][_0x1dda("0x194")]).onUpdate((function(d,x){a[_0x1dda("0x42")]&&(a[_0x1dda("0x42")][_0x1dda("0x19f")].camera[_0x1dda("0xfa")].y=l.y+g*x,e[_0x1dda("0x227")].y=f.y+h.y*x,e[_0x1dda("0x152")]())})).onComplete((function(a){x[_0x1dda("0x195")]&&x[_0x1dda("0x195")](d)})).start());else{o[_0x1dda("0xfa")][_0x1dda("0x123")]=s;var v=o[_0x1dda("0xfa")][_0x1dda("0x116")]();o[_0x1dda("0x153")][_0x1dda("0x2")]("originHeight")||(o[_0x1dda("0x153")][_0x1dda("0x986")]=v.y),v[_0x1dda("0x123")]=s,v.y=v.y+t+this[_0x1dda("0xbd3")],i?a.originFloorHeights[s]=v.y:v.y=n,x[_0x1dda("0x1236")]?(o[_0x1dda("0xfa")].copy(v),a[_0x1dda("0x1f2")]("floorHeightChanged",{value:v.y,fnum:s})):new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(o[_0x1dda("0xfa")]).to(v,800)[_0x1dda("0x18f")](esmap.TWEEN[_0x1dda("0x193")][_0x1dda("0x1237")].Out)[_0x1dda("0x162")]((function(d){a[_0x1dda("0x1f2")]("floorHeightChanged",{value:d.y,fnum:d.fnum})}))[_0x1dda("0x192")]((function(){}))[_0x1dda("0x21c")]()}}else if(o&&o[_0x1dda("0x169")]&&this.options[_0x1dda("0x908")]&&esmap[_0x1dda("0x86")][_0x1dda("0x626")]({bid:this.id,fnum:s,alpha:this[_0x1dda("0x35")][_0x1dda("0x52c")]}),o&&1==a[_0x1dda("0x35")].focusMode){var p=o[_0x1dda("0xfa")][_0x1dda("0x116")]();o[_0x1dda("0xfa")][_0x1dda("0x123")]=s,o[_0x1dda("0x153")][_0x1dda("0x2")](_0x1dda("0x986"))||(o[_0x1dda("0x153")].originHeight=p.y);o[_0x1dda("0x153")][_0x1dda("0x986")];p.y=p.y+t,p.fnum=s,i&&(a[_0x1dda("0x121e")][s]=p.y),new(esmap[_0x1dda("0x190")].Tween)(o.position).to(p,800)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x1237")][_0x1dda("0x194")]).onComplete((function(){})).onUpdate((function(d){a[_0x1dda("0x1f2")](_0x1dda("0x12f"),{value:d.y,fnum:d.fnum})})).start()}}}}},{key:_0x1dda("0x1238"),value:function(d,x){var a=this[_0x1dda("0x122d")](d);if(a){var _=this[_0x1dda("0x1223")][d][_0x1dda("0x1239")];this[_0x1dda("0x123a")](_,a,d,!0)}}},{key:_0x1dda("0xbd6"),value:function(d,x,a){var _=this;d==x[_0x1dda("0x0")]?(d=0,a&&a()):_.loadedFloorNums[_0x1dda("0xaf")](x[d])>-1?(d++,_[_0x1dda("0xbd6")](d,x,a)):setTimeout((function(){_[_0x1dda("0x123b")](x[d],(function(){d++,_.asyncLoadFloors(d,x,a)}),d==x[_0x1dda("0x0")]-1)}),0)}},{key:"loadFloor",value:function(d,x,a){var _=this;d>_[_0x1dda("0xa17")][_0x1dda("0xa50")][_0x1dda("0x0")]||(_[_0x1dda("0x1223")][d]=_[_0x1dda("0xa17")][_0x1dda("0xa50")][d-1],_[_0x1dda("0x42")][_0x1dda("0xa04")][_0x1dda("0x123c")](_,d,(function(e){_.toLoaded[d][_0x1dda("0x1d5")]=e[_0x1dda("0x123d")],_[_0x1dda("0x121a")][_0x1dda("0x10")](d),_[_0x1dda("0x1232")](d,e),"top"==_[_0x1dda("0x35")][_0x1dda("0xbce")]?a&&(_[_0x1dda("0x35")][_0x1dda("0xbce")]=d,_[_0x1dda("0x52b")]=d):d==_[_0x1dda("0x35")][_0x1dda("0xbce")]&&(_[_0x1dda("0x52b")]={notMove:!0,isInit:!0,floornum:_[_0x1dda("0x35")].focusFloor,time:.3}),_[_0x1dda("0x123e")](d,(function(x){x[_0x1dda("0xe5")][_0x1dda("0x106")]==esmap[_0x1dda("0x126")][_0x1dda("0x625")]&&(x[_0x1dda("0xe9")]=_[_0x1dda("0xeec")](x[_0x1dda("0xf38")][_0x1dda("0x123f")]),x[_0x1dda("0x153")]={sid:_[_0x1dda("0xa90")],fnum:d},!_[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xcc1")]&&_[_0x1dda("0x42")][_0x1dda("0x17d")].addModel(_.id,x))}),function(){x&&x(d)}[_0x1dda("0x4e")](_),(function(){}),a)})))}},{key:"handleLine",value:function(d,x,a){if(!(d.rank<15)){d[_0x1dda("0xb9f")];var _=d[_0x1dda("0xd74")][_0x1dda("0x7b")](2,d[_0x1dda("0xd74")][_0x1dda("0x0")]-2)[_0x1dda("0x2a")](/,/),e=this,t={x:0,y:0},i=[],n=e[_0x1dda("0x42")][_0x1dda("0x3c4")].split(","),r=1*n[0],o=1*n[1],c=1*n[2];if(0!=_[_0x1dda("0x0")]){for(var l=0;l<_[_0x1dda("0x0")];l++){var f=_[l][_0x1dda("0x2a")](" "),u=new THREE.Vector3(-(1*f[0]+t.x+r),c-.3,1*f[1]+t.y+o);u[_0x1dda("0x123")]=1,u.bid=0,u[_0x1dda("0x16d")]=0,i[_0x1dda("0x10")](u),0==l&&(t.x=1*f[0],t.y=1*f[1])}var h=e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x3c1")][_0x1dda("0x14e")],g=new s.default(i,{color:e.map.options[_0x1dda("0x3c1")][_0x1dda("0x138")],isMapRoad:!0,roadType:d[_0x1dda("0x3c2")],lineWidthMeter:!0,lineWidth:h,lineType:e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x3c1")].lineType,offsetHeight:Math[_0x1dda("0x1b9")]()+2,url:e.map[_0x1dda("0x35")][_0x1dda("0x3c1")][_0x1dda("0x4a")]},!1);g[_0x1dda("0x1240")]=2e-5*e[_0x1dda("0x42")].options[_0x1dda("0x3c1")][_0x1dda("0x29f")],g[_0x1dda("0xfc")]=a,e[_0x1dda("0x180")].add(g)}}}},{key:"loadRoad",value:function(){var d=this,x=d[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0xa05")][d.id];if(x){var a=x[_0x1dda("0xc98")][0][_0x1dda("0x3b6")],_=0;for(var e in a)_++,d[_0x1dda("0x3b7")](a[e],_,d.id)}}},{key:_0x1dda("0x123e"),value:function(d,x,a,_,e){var t=this.getO3dFloor(d);if(t){this[_0x1dda("0x12c")][_0x1dda("0xaf")](d)<0&&(t[_0x1dda("0x169")]=!1);var i=this[_0x1dda("0x1223")][d][_0x1dda("0x1239")],n=this;n[_0x1dda("0x123a")](i,t,d,!1)[_0x1dda("0x2ef")]((function(){a(),_&&_(),n[_0x1dda("0xb4")][_0x1dda("0x395")](i,d,n),n[_0x1dda("0xb4")][_0x1dda("0xf3e")](i,d,n)}))[_0x1dda("0x2ef")](n.asyncBuildPOIs.bind(n,i,t,d)).then(n[_0x1dda("0x1241")][_0x1dda("0x4e")](n,i,t,d))[_0x1dda("0x2ef")](n[_0x1dda("0x1226")].bind(n,i,t,d))}}},{key:"asyncBuidExtents",value:function(d,x,a,_){var e=this,t=new(THREE[_0x1dda("0x5b5")]),i=d[_0x1dda("0x1242")],n=e[_0x1dda("0x1223")][a],r=(n[_0x1dda("0xda4")],e[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xea0")][e[_0x1dda("0x6e")]]),s=r[_0x1dda("0xee3")][a]?r[_0x1dda("0xee3")][a][_0x1dda("0x18b")]:r[_0x1dda("0xee3")][0]?r[_0x1dda("0xee3")][0][_0x1dda("0x18b")]:1;return e.thicks[a]=s,n[_0x1dda("0x1224")]=i[0][_0x1dda("0x1243")],setTimeout((function(){e[_0x1dda("0x42")][_0x1dda("0x35")].tileMode&&e[_0x1dda("0x1e3")]==esmap[_0x1dda("0xa3a")].TILE&&!_?e[_0x1dda("0xcc2")][a][_0x1dda("0x5bc")]--:e.meshHandler[_0x1dda("0x1244")](d,a,s,e),t[_0x1dda("0xd0")]()}),e[_0x1dda("0xf25")]),t}},{key:_0x1dda("0x1245"),value:function(d,x,a){var _=this,e=this[_0x1dda("0x42")].mapScene,t=new THREE.Promise,i=_[_0x1dda("0x35")][_0x1dda("0x3a7")],n=this[_0x1dda("0x397")],r=this[_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")];if(_[_0x1dda("0x35")][_0x1dda("0x36c")])return e.poiLayer=null,setTimeout((function(){for(var s in d[_0x1dda("0x1246")]){var o=d[_0x1dda("0x1246")][s],c=new esmap.ESLayer(esmap.ESLayerType[_0x1dda("0x39b")]);x[_0x1dda("0xce")](c[_0x1dda("0x180")]),c[_0x1dda("0x180")][_0x1dda("0x39c")]=new esmap.ESMapBoxCollision;var l=o.pois;for(var f in l){var u=l[f],h=u[_0x1dda("0x2df")];u[_0x1dda("0x2df")]||(h=u[_0x1dda("0x3af")]);var g=e[_0x1dda("0x3b0")][_0x1dda("0xef3")](_[_0x1dda("0x6e")],h,_.id,2);u[_0x1dda("0x4a")]=g;var b=new(esmap[_0x1dda("0x3b1")])(u),v=b.o3d_;b[_0x1dda("0x12d")]=_.id,v[_0x1dda("0x40")]({type:_0x1dda("0x2e9")}),c[_0x1dda("0x180")][_0x1dda("0xce")](v),n[_0x1dda("0xd5")](u[_0x1dda("0x620")]),v[_0x1dda("0x4f5")][_0x1dda("0x3a7")]=i;var p=u[_0x1dda("0x2cf")]||3,m=void 0;if(r)m=_[_0x1dda("0x42")][_0x1dda("0xa04")][_0x1dda("0xd88")]({x:u.X,y:u.Y},_);else{var A=_[_0x1dda("0x42")].transformCoord({from:_[_0x1dda("0x42")][_0x1dda("0x3be")],to:_[_0x1dda("0x42")][_0x1dda("0x199")],coord:{x:u.X,y:u.Y}});m=_[_0x1dda("0x42")]._coordMapSceneToThree(A)}v[_0x1dda("0xfa")].set(m.x,p,m.z),v[_0x1dda("0x3b2")]=_0x1dda("0x1247"),v[_0x1dda("0x122")][_0x1dda("0xcd")](u[_0x1dda("0x122")].x,u.center.y),v[_0x1dda("0x153")][_0x1dda("0x1248")]=v[_0x1dda("0xfa")],v.modelViewMatrix[_0x1dda("0x3aa")](e[_0x1dda("0x42")][_0x1dda("0x22b")].matrixWorldInverse,v[_0x1dda("0x3ac")]),!e.map[_0x1dda("0x35")][_0x1dda("0xcc1")]&&e.map[_0x1dda("0x17d")][_0x1dda("0x3ae")](v,_.id)}}e[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0x1249"),{bid:_.id,fnum:a,type:_0x1dda("0x5bd")}),_.toLoaded[a][_0x1dda("0x5cd")]--,_[_0x1dda("0x124a")](a),t[_0x1dda("0xd0")]()}),e[_0x1dda("0xf25")]),t;_[_0x1dda("0xcc2")][a][_0x1dda("0x5cd")]=0}},{key:"asyncBuildLabels",value:function(d,x,a){var _=this,e=new(THREE[_0x1dda("0x5b5")]),t=(_[_0x1dda("0x42")][_0x1dda("0xb3")],_[_0x1dda("0x35")][_0x1dda("0x3a7")]),i=this[_0x1dda("0x397")],n=this[_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")];if(_.options[_0x1dda("0x36d")])return setTimeout((function(){for(var r in d[_0x1dda("0x124b")]){var s=d.labellayers[r],o=new(esmap[_0x1dda("0x399")])(esmap.ESLayerType[_0x1dda("0x9a6")]);x[_0x1dda("0xce")](o[_0x1dda("0x180")]),o[_0x1dda("0x180")].boxCollision_=new esmap.ESMapBoxCollision;var c=s[_0x1dda("0x124c")];for(var l in c){var f=c[l];if(""!=f[_0x1dda("0xfc")]){var u=void 0;if(n)u=_.map[_0x1dda("0xa04")][_0x1dda("0xd88")]({x:f.X,y:f.Y},_),f[_0x1dda("0x12d")]=_.id;else{var h=_.map[_0x1dda("0x198")]({from:_[_0x1dda("0x42")][_0x1dda("0x3be")],to:_.map.coordSystem,coord:{x:f.X,y:f.Y}});u=_[_0x1dda("0x42")][_0x1dda("0x19c")](h)}var g=f[_0x1dda("0x2cf")]||2.5,b=_[_0x1dda("0x42")][_0x1dda("0x132")][_0x1dda("0xea0")][_[_0x1dda("0x6e")]][_0x1dda("0xeea")][_0x1dda("0xd")],v=new(esmap[_0x1dda("0x124d")])(f,b),p=v.o3d_;v[_0x1dda("0x12d")]=_.id,p.forceVisible_=!0,p.dispatchEvent({type:_0x1dda("0x2e9")}),o[_0x1dda("0x180")][_0x1dda("0xce")](p),p[_0x1dda("0x4f5")][_0x1dda("0x3a7")]=t,p[_0x1dda("0x122")][_0x1dda("0xcd")](f[_0x1dda("0x122")].x,f[_0x1dda("0x122")].y),p[_0x1dda("0xfa")].set(u.x,g,u.z),p[_0x1dda("0x153")].computePosition=p[_0x1dda("0xfa")][_0x1dda("0x116")](),i[_0x1dda("0xd5")](f[_0x1dda("0x620")]),p[_0x1dda("0x3a9")][_0x1dda("0x3aa")](_[_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0x3ab")],p[_0x1dda("0x3ac")]),!_[_0x1dda("0x42")].options.disableIndoorClick&&_.map[_0x1dda("0x17d")][_0x1dda("0x3ae")](p,_.id)}}}_.map[_0x1dda("0xda")](_0x1dda("0x1249"),{bid:_.id,fnum:a,type:"label"}),_[_0x1dda("0xcc2")][a].label--,_[_0x1dda("0x124a")](a),e.resolve()}),_.asyncWaitTime),e;_[_0x1dda("0xcc2")][a][_0x1dda("0x5be")]=0}},{key:_0x1dda("0x124a"),value:function(d){if(0==this.id)return!0;var x=this.toLoaded;for(var a in x[d])if("model3D"!=a&&x[d][a])return!1;for(var _ in this.options.callbackByFloor&&this.options[_0x1dda("0x124e")](d),this[_0x1dda("0x42")].fire(_0x1dda("0x124f"),{fnum:d,bid:this.id}),this[_0x1dda("0x35")][_0x1dda("0x908")]&&this[_0x1dda("0x35")][_0x1dda("0xbce")]!=d&&esmap[_0x1dda("0x86")][_0x1dda("0x626")]({bid:this.id,fnum:d,alpha:this[_0x1dda("0x35")][_0x1dda("0x52c")],time:0}),x)if(_!=d)for(var e in x[_])if(e!=_0x1dda("0x1d5")&&x[_][e])return!1;var t=!0;for(var _ in x){if(!t)break;for(var e in x[_])if(x[_][e]){t=!1;break}}return t&&!this[_0x1dda("0x1250")]&&(this[_0x1dda("0x1250")]=!0,this[_0x1dda("0x1f2")](_0x1dda("0xbde")),this.map[_0x1dda("0xda")](_0x1dda("0xbde"),{bid:this.id})),this.map[_0x1dda("0x633")].indexOf(this)<0&&(this[_0x1dda("0x42")][_0x1dda("0x633")][_0x1dda("0x10")](this),this[_0x1dda("0xb4")][_0x1dda("0xb5")][_0x1dda("0x6c4")](),this[_0x1dda("0xb4")][_0x1dda("0xb5")][_0x1dda("0xf50")](),this.meshLoader.loadModelandImage(),0!=this.id&&this.map[_0x1dda("0xda")](_0x1dda("0x97d"),this),this[_0x1dda("0x42")].tileService.bidList[this.id]&&(this[_0x1dda("0x42")].tileService[_0x1dda("0x638")][this.id][_0x1dda("0xa19")]=!0),this[_0x1dda("0x42")][_0x1dda("0x36")]!=esmap[_0x1dda("0x1b7")][_0x1dda("0x1b8")]&&this.id!=this[_0x1dda("0x42")][_0x1dda("0x279")].preLoadBuildingId||(this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xe98"),{}),esmap[_0x1dda("0x33")][_0x1dda("0x936")]=!1,this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xbd7"),{bid:this.id}))),!0}},{key:_0x1dda("0x397"),get:function(){return f[_0x1dda("0xd")][_0x1dda("0xd6")](this.id)}},{key:_0x1dda("0x16d"),get:function(){return g},set:function(d){g=d}},{key:_0x1dda("0x6e"),get:function(){return h.get(_0x1dda("0xf31"))},set:function(d){h[_0x1dda("0xcd")](_0x1dda("0xf31"),d)}},{key:_0x1dda("0xf31"),get:function(){return this.map[_0x1dda("0x132")][_0x1dda("0xea0")][this[_0x1dda("0x6e")]]}},{key:_0x1dda("0x1cf"),get:function(){for(var d=this[_0x1dda("0x42")][_0x1dda("0x226")].object.position,x=this[_0x1dda("0x42")][_0x1dda("0x29e")](this[_0x1dda("0x122")]),a=d[_0x1dda("0x117")](x)/this._initDistance,_=0;_<this[_0x1dda("0xd86")][_0x1dda("0x0")];_++)if(Math[_0x1dda("0x2c1")](this[_0x1dda("0xd86")][_]-a)>.001&&a<this[_0x1dda("0xd86")][_])return _-1<0?0:_-1;return _-1<0?0:_-1}},{key:_0x1dda("0x1251"),get:function(){return this.sourceData.FloorBarName.split(",")||null}},{key:_0x1dda("0x1221"),get:function(){return this[_0x1dda("0xa17")][_0x1dda("0xa50")]}},{key:"focusFloorNum",set:function(d){if(!this[_0x1dda("0x42")].isNaviAnimating){var x=!1,a=null,e=this.map[_0x1dda("0x36")]===esmap.MapMode[_0x1dda("0x3a")],t=null,i=this;if(_0x1dda("0x1b")==(typeof d===_0x1dda("0x8")?"undefined":(0,_.default)(d))&&(t=d,x=d.isInit,a=d[_0x1dda("0x195")],d=null==d.floornum?d.fnum:d.floornum),this[_0x1dda("0xbcd")]!=d){if(i[_0x1dda("0x42")][_0x1dda("0x935")]!=this&&(i[_0x1dda("0x42")][_0x1dda("0x935")]=this,1!=i.buildingType&&i[_0x1dda("0x42")].fire(_0x1dda("0x1252"),this)),i.options[_0x1dda("0xbc4")]&&2==i[_0x1dda("0x35")][_0x1dda("0xbd2")]){var n=i[_0x1dda("0xc9a")];if(d<=i[_0x1dda("0x35")][_0x1dda("0xbc4")]){for(var r=i[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0xa15")],s=0;s<r.children[_0x1dda("0x0")];s++){var o=r[_0x1dda("0xe6")][s];e&&o.datas_.id==this[_0x1dda("0x42")].id||o[_0x1dda("0xe5")].id!=this.id&&o[_0x1dda("0x169")]&&(o[_0x1dda("0x169")]=!1,i[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xc9e"),i[_0x1dda("0x42")].visibleBuildings))}i[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0xa15")].userData[_0x1dda("0x1253")]=!0}else{if(i[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0xa15")][_0x1dda("0x153")].blured)for(var c=i[_0x1dda("0x42")][_0x1dda("0xb3")][_0x1dda("0xa15")],l=0;l<c[_0x1dda("0xe6")][_0x1dda("0x0")];l++){var f=c[_0x1dda("0xe6")][l];e&&f.datas_.id==this[_0x1dda("0x42")].id||(f[_0x1dda("0x169")]||(f.visible=!0,i[_0x1dda("0x42")].fire("visibleBuildingsChanged",i[_0x1dda("0x42")][_0x1dda("0xa79")])))}new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(i[_0x1dda("0x180")].position).to({y:n},1e3).easing(esmap[_0x1dda("0x190")].Easing.Quadratic[_0x1dda("0x194")]).start()}}(-1!=this[_0x1dda("0xbcd")]||(this[_0x1dda("0xbcd")]=d,this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0x93e"),{floornum:d,bid:this.id}),this.options.focusOnLoaded))&&(esmap.ESMap[_0x1dda("0x936")]&&!t||(this[_0x1dda("0x629")][d]?(this[_0x1dda("0x1233")](d,t),x||(this[_0x1dda("0x1f2")](_0x1dda("0x93e"),d),this[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0x93e"),{floornum:d,bid:this.id}))):this.on(_0x1dda("0x124f"),(function a(_){_==d&&(i[_0x1dda("0x68")](_0x1dda("0x124f"),a),i[_0x1dda("0x1233")](d,t),x&&(i[_0x1dda("0x1f2")](_0x1dda("0x93e"),d),i[_0x1dda("0x42")].fire("focusFloorNumChanged",{floornum:d,bid:i.id})))}))))}else a&&a()}},get:function(){return this[_0x1dda("0xbcd")]}},{key:_0x1dda("0x1254"),get:function(){return this[_0x1dda("0xa17")][_0x1dda("0xc98")]}},{key:_0x1dda("0x12c"),get:function(){return this.visibleFloorNums_},set:function(d){if(this[_0x1dda("0xda2")].toString()!=d.toString()&&d[_0x1dda("0x0")]>0){for(var x in this.visibleFloorNums_=d,this[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0xf7")][_0x1dda("0xe6")][_0x1dda("0xd1")]((function(x){x[_0x1dda("0xe5")]instanceof esmap.ESLocationMarker&&d[_0x1dda("0xaf")](x[_0x1dda("0xe5")][_0x1dda("0xbd4")])>-1&&(x.datas_[_0x1dda("0x169")]=!0)})),this[_0x1dda("0x629")]){var a=this[_0x1dda("0x629")][x];a.visible=d[_0x1dda("0xaf")](a.meta_[_0x1dda("0xbd4")])>=0}this[_0x1dda("0x1f2")]("visibleFloorNumsChanged",d),this.map.fire(_0x1dda("0x166"),{bid:this.id,fnums:d})}}}]),d}();x[_0x1dda("0xd")]=b},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=f(a(76)),e=f(a(13)),t=f(a(7)),i=f(a(8)),n=f(a(0)),r=f(a(1)),s=f(a(77)),o=f(a(110)),c=f(a(374)),l=f(a(33));function f(d){return d&&d.__esModule?d:{default:d}}var u=0;function h(d){if(d){if(d.datas_&&d[_0x1dda("0xe5")].o3d_&&(d[_0x1dda("0xe5")][_0x1dda("0x180")]=void 0,d.datas_=void 0),d.children)for(var x=0;x<d[_0x1dda("0xe6")][_0x1dda("0x0")];x++)h(d[_0x1dda("0xe6")][x]);d[_0x1dda("0xe7")]&&(d[_0x1dda("0xe7")][_0x1dda("0xe8")](),d[_0x1dda("0xe7")]=void 0),d[_0x1dda("0xe9")]&&(d.material instanceof Array?d[_0x1dda("0xe9")].forEach((function(d){d&&(d[_0x1dda("0x42")]&&(d[_0x1dda("0x42")][_0x1dda("0xe8")](),d.map=void 0),d[_0x1dda("0xe8")](),d=void 0)})):(d[_0x1dda("0xe9")][_0x1dda("0xe8")](),d.material=void 0))}d=void 0}var g=function(){function d(x){(0,n[_0x1dda("0xd")])(this,d),this[_0x1dda("0xf7")]=x[_0x1dda("0x42")][_0x1dda("0xb3")],this[_0x1dda("0x38d")]=this.scene[_0x1dda("0xf26")],this[_0x1dda("0x2b1")]={},this[_0x1dda("0xcb7")]=0,this[_0x1dda("0xca7")]=1,this[_0x1dda("0xca8")]=20,this[_0x1dda("0xca9")]=0,this[_0x1dda("0xcaa")]={},this.queue=[],this[_0x1dda("0xca5")]=[],this[_0x1dda("0x967")]=[],this[_0x1dda("0x968")]=!1,this[_0x1dda("0x297")]=!1,this[_0x1dda("0xcac")]={},this[_0x1dda("0xcad")]={},this.userMergeQueue={},this[_0x1dda("0xcaf")]=null,this[_0x1dda("0xcb0")]=50,this[_0x1dda("0xcb1")]=1e4,this[_0x1dda("0x636")]=new(o[_0x1dda("0xd")]),this.mergeModels=!x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")]&&(null==x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1255")]?x[_0x1dda("0x42")][_0x1dda("0x35")].mergeModel3D:x[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1255")]),this[_0x1dda("0x392")]={modelTypesCount:0,roomModelsCount:0,bimModelsCount:0},this[_0x1dda("0xafb")]=new(THREE[_0x1dda("0x8c6")]);var a=this;x[_0x1dda("0x42")].on(_0x1dda("0xcb2"),(function(){u=0,a[_0x1dda("0xca9")]=0,a[_0x1dda("0x392")][_0x1dda("0x62d")]=0,a.modelStatic[_0x1dda("0x393")]=0}),null,x.id),this.bid=x.id,this[_0x1dda("0x52")]=x,this[_0x1dda("0xe86")]=new(c[_0x1dda("0xd")])(x),this[_0x1dda("0xc07")]={}}var x,a,f,g;return(0,r[_0x1dda("0xd")])(d,[{key:_0x1dda("0xcb5"),value:function(){this[_0x1dda("0xafb")][_0x1dda("0x972")]||(this.frustum[_0x1dda("0xb13")]((new(THREE[_0x1dda("0x207")]))[_0x1dda("0x3aa")](this[_0x1dda("0xf7")].map[_0x1dda("0x22b")][_0x1dda("0x6f6")],this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0x3ab")])),this.frustum[_0x1dda("0x972")]=!0)}},{key:_0x1dda("0x8ce"),value:function(){this[_0x1dda("0xafb")].setFromMatrix((new(THREE[_0x1dda("0x207")])).multiplyMatrices(this.scene[_0x1dda("0x42")][_0x1dda("0x22b")].projectionMatrix,this.scene[_0x1dda("0x42")][_0x1dda("0x22b")].matrixWorldInverse))}},{key:_0x1dda("0x1256"),value:function(){this[_0x1dda("0xe86")].start()}},{key:_0x1dda("0x1257"),value:function(d){this[_0x1dda("0x392")][_0x1dda("0x1258")]++,this[_0x1dda("0xe86")][_0x1dda("0x1259")](d)}},{key:_0x1dda("0xcb6"),value:function(d,x){var a=d[_0x1dda("0x1ba")],_=d[_0x1dda("0x4a")],e=d.fnum;this[_0x1dda("0xc07")][a]?e&&this[_0x1dda("0x52")][_0x1dda("0xcc2")][e].model3D--:(x=x||!1,a[_0x1dda("0xaf")](_0x1dda("0xc77"))>-1&&"low"==this[_0x1dda("0xf7")].map[_0x1dda("0x35")].quality||(this[_0x1dda("0xcb7")]++,a[_0x1dda("0xaf")]("__nomerge")>-1&&(x=!0),this[_0x1dda("0x350")]&&!x?(this[_0x1dda("0x24b")][a]||this[_0x1dda("0x2b1")][a]||(this.loadingList[a]=!0,this[_0x1dda("0x2b2")](a,_)),this.mergeQueue[e]||(this[_0x1dda("0xcaa")][e]={}),this[_0x1dda("0xcaa")][e][a]||(this[_0x1dda("0xcaa")][e][a]=[]),this[_0x1dda("0xcaa")][e][a][_0x1dda("0x10")](d)):d[_0x1dda("0x3c2")]>=24?(this[_0x1dda("0x24b")][a]||this[_0x1dda("0x2b1")][a]||(this[_0x1dda("0x2b1")][a]=!0,this.preFetchModel3D(a,_)),this[_0x1dda("0xca5")][_0x1dda("0x10")](d),this[_0x1dda("0xcb9")]()):(this[_0x1dda("0xafb")][_0x1dda("0x8d7")](d[_0x1dda("0xfa")])&&(this.modelStore[a]||this[_0x1dda("0x2b1")][a]||(this.loadingList[a]=!0,this.preFetchModel3D(a,_))),this[_0x1dda("0xcba")](d))))}},{key:"rankRequisites",value:function(){this[_0x1dda("0xca5")][_0x1dda("0x3ef")]((function(d,x){return x[_0x1dda("0x3c2")]-d[_0x1dda("0x3c2")]}))}},{key:_0x1dda("0xcca"),value:function(d){var x=d[_0x1dda("0x1ba")],a=d[_0x1dda("0x4a")];this[_0x1dda("0xc07")][x]||(this[_0x1dda("0xcb7")]++,this[_0x1dda("0x24b")][x]||this[_0x1dda("0x2b1")][x]||(this[_0x1dda("0x2b1")][x]=!0,this.preFetchModel3D(x,a)),d[_0x1dda("0x101")]?(this[_0x1dda("0xcae")][d.layerid]||(this[_0x1dda("0xcae")][d[_0x1dda("0xcbd")]]={}),this[_0x1dda("0xcae")][d[_0x1dda("0xcbd")]][x]||(this.userMergeQueue[d[_0x1dda("0xcbd")]][x]=[]),this[_0x1dda("0xcae")][d[_0x1dda("0xcbd")]][x][_0x1dda("0x10")](d)):this[_0x1dda("0xcba")](d))}},{key:_0x1dda("0x21c"),value:(g=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){return t.default[_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return d[_0x1dda("0x24c")]=2,this[_0x1dda("0xcd1")](x);case 2:if(!(this[_0x1dda("0xca5")].length>0)){d[_0x1dda("0x24c")]=5;break}return d.next=5,this.applyRequisitToMap();case 5:case _0x1dda("0x267"):return d.stop()}}),d,this)}))),function(d){return g[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xcc4"),value:function(d,x){var a=this,_=a[_0x1dda("0xcaa")][x],e=l[_0x1dda("0xd")].get(d.id);for(var t in _){var i=_[t],n=!1;if(a[_0x1dda("0x24b")][t]&&i.length>0){i[0].iswall&&(n=!0),!n&&t[_0x1dda("0xaf")](_0x1dda("0xc77"))<0&&(a[_0x1dda("0xca9")]+=i[_0x1dda("0x0")]);for(var r=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](a.modelStore[t][_0x1dda("0xcc0")][_0x1dda("0xf7")]),s=i[0].parent,o=i[0][_0x1dda("0x4a")],c=r[_0x1dda("0x2be")].y-r[_0x1dda("0x2f6")].y,f=0;f<i[_0x1dda("0x0")];f++){var h=i[f],g=c*h[_0x1dda("0x1d7")].y,b=g+h[_0x1dda("0xfa")].y-g/2;h[_0x1dda("0x2cf")]=1*b[_0x1dda("0x60b")](2),h[_0x1dda("0x106")]=esmap[_0x1dda("0x126")][_0x1dda("0x1b5")],h.ID=h.id;var v=a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x1db")](h[_0x1dda("0xfa")]);h[_0x1dda("0x1e7")]=v}if(0!=a.modelStore[t].gltfObj[_0x1dda("0x228")][_0x1dda("0x0")]){for(var p=0;p<i.length;p++)a.addMapModel(i[p],!0);a[_0x1dda("0xcaa")][x][t]=[];continue}var m=a[_0x1dda("0x636")][_0x1dda("0x101")](a.modelStore[t].gltfObj,i);if(!m){for(var A=0;A<i[_0x1dda("0x0")];A++)i[A].merge=!1,u-=1,a[_0x1dda("0xcb6")](i[A]);return void(a[_0x1dda("0xcaa")][x][t]=[])}m[_0x1dda("0xfc")]=_0x1dda("0xfd"),m[_0x1dda("0x153")][_0x1dda("0x9a7")]=!0,m.datas_={isWall:n,model:t,bid:a[_0x1dda("0x52")].id,bType:2,FloorNum:x,nodeType:esmap.ESNodeType[_0x1dda("0x1b5")],brothers:i,animations:[],o3d_:m,url:o},m.renderOrder=esmap.ESRenderOrder[_0x1dda("0x1d5")],i[0][_0x1dda("0x3ee")]&&(2==d[_0x1dda("0x1e3")]?!a[_0x1dda("0xf7")].map[_0x1dda("0x35")][_0x1dda("0xcc1")]&&a.scene[_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](m,d.id):a[_0x1dda("0xf7")][_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](m,d.id)),s.add(m);for(var C=[],I=0;I<i[_0x1dda("0x0")];I++)C[_0x1dda("0x10")](i[I].id),i[I][_0x1dda("0x180")]=m;var y=(new THREE.Box3)[_0x1dda("0x2ae")](m),E={};[y[_0x1dda("0x2be")].x-y[_0x1dda("0x2f6")].x,y[_0x1dda("0x2be")].z-y.min.z,y[_0x1dda("0x2be")].y-y.min.y][_0x1dda("0x3ef")](),E[_0x1dda("0x2bd")]=y,m.userData[_0x1dda("0x2bc")]=E,a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x394")]-=i.length,a[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xcc3"),m.datas_),d[_0x1dda("0xcc2")][x][_0x1dda("0x1d5")]-=i.length,d[_0x1dda("0x124a")](x),e[_0x1dda("0xd4")](C),2==d[_0x1dda("0x1e3")]&&d[_0x1dda("0x35")][_0x1dda("0x908")]&&d[_0x1dda("0x35")][_0x1dda("0x52c")]<1&&d.focusFloorNum!=x&&esmap[_0x1dda("0x86")][_0x1dda("0x626")]({bid:d.id,fnum:x,alpha:d[_0x1dda("0x35")][_0x1dda("0x52c")],time:0}),a[_0x1dda("0xcaa")][x][t]=[]}}}},{key:_0x1dda("0xcc5"),value:function(){var d=this,x=this;return new(e[_0x1dda("0xd")])((function(a){for(var _=0,e=0;e<x[_0x1dda("0xca5")][_0x1dda("0x0")];e++){var t=x[_0x1dda("0xca5")][e];if(_>=d[_0x1dda("0xca8")])break;x[_0x1dda("0x24b")][t[_0x1dda("0x1ba")]]?(x.requisitesQueue[_0x1dda("0x6")](e,1),e--,x[_0x1dda("0xcc6")](t),_++):x[_0x1dda("0x2b1")][t[_0x1dda("0x1ba")]]||(x[_0x1dda("0x2b1")][t[_0x1dda("0x1ba")]]=!0,x[_0x1dda("0x2b2")](t[_0x1dda("0x1ba")],t[_0x1dda("0x4a")]))}a()}))}},{key:_0x1dda("0xf39"),value:function(){var d=this;if(d[_0x1dda("0x350")]&&d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22d")]&&!this[_0x1dda("0x297")]&&d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x34e")]){for(var x=d[_0x1dda("0xf7")].map[_0x1dda("0x1cf")],a=d[_0x1dda("0x52")].floorNums,_=0;_<a[_0x1dda("0x0")];_++){var e=d[_0x1dda("0x52")][_0x1dda("0x61b")](a[_]);if(!e)return;var t=e[_0x1dda("0x3bc")](_0x1dda("0x125a"))[0];if(!t)return;var i=t[_0x1dda("0x180")][_0x1dda("0xe6")];this[_0x1dda("0xf7")][_0x1dda("0x42")].firstPersonMode?this.scene[_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")][_0x1dda("0x117")](this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")].position):this[_0x1dda("0xf7")].map.controls.target[_0x1dda("0x117")](this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0xfa")]);for(var n=0;n<i[_0x1dda("0x0")];n++){for(var r=i[n],s=r.datas_[_0x1dda("0x424")],o=[],c=[],l=0;l<s[_0x1dda("0x0")];l++){var f=s[l],u=f.position[_0x1dda("0x116")]();u[_0x1dda("0xa60")](this[_0x1dda("0xf7")][_0x1dda("0x42")].currentCamera);var h=!1;(Math[_0x1dda("0x2c1")](u.x)>=1.5||Math[_0x1dda("0x2c1")](u.y)>=1.5)&&(h=!0);var g=d[_0x1dda("0x636")].isModelVisible(r,f.id);f[_0x1dda("0x1cd")]<x||h?g&&o[_0x1dda("0x10")](f.id):!g&&c[_0x1dda("0x10")](f.id)}d[_0x1dda("0x636")][_0x1dda("0x419")](r,o,!1),d.GLTFMergeTool[_0x1dda("0x419")](r,c,!0)}}this[_0x1dda("0x297")]=!0}}},{key:_0x1dda("0xcc7"),value:function(){var d=this;if(!d[_0x1dda("0x350")]&&d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22d")]&&!this[_0x1dda("0x297")]){var x=d[_0x1dda("0x52")],a=new(THREE[_0x1dda("0x8c6")]);a[_0x1dda("0xb13")]((new(THREE[_0x1dda("0x207")]))[_0x1dda("0x3aa")](this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0x6f6")],this[_0x1dda("0xf7")][_0x1dda("0x42")].currentCamera.matrixWorldInverse));for(var _=x[_0x1dda("0x634")],e=0;e<_[_0x1dda("0x0")];e++){var t=x.getFloor(_[e]);if(!t)return;var i=t[_0x1dda("0x3bc")](_0x1dda("0x9a2"))[0];if(!i)return;var n=i.o3d_[_0x1dda("0xe6")];this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x94b")]?this[_0x1dda("0xf7")][_0x1dda("0x42")].firstPersonControls[_0x1dda("0x227")][_0x1dda("0x117")](this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")].position):this.scene[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x117")](this[_0x1dda("0xf7")].map[_0x1dda("0x22b")][_0x1dda("0xfa")]);for(var r=0;r<n[_0x1dda("0x0")];r++){var s=n[r],o=(s[_0x1dda("0xfa")],s[_0x1dda("0x153")][_0x1dda("0x2bc")].sizeInfo,s[_0x1dda("0x153")][_0x1dda("0x2bc")][_0x1dda("0x2bd")]);a[_0x1dda("0x8d8")](o)||(d[_0x1dda("0x967")][_0x1dda("0x10")](s[_0x1dda("0x153")].modelinfo),s[_0x1dda("0xe5")][_0x1dda("0xe8")](),r--)}}this[_0x1dda("0x297")]=!0}}},{key:_0x1dda("0xcc9"),value:function(d,x,a,_){var t=this;return new e.default((function(e){if(t[_0x1dda("0x24b")][a]&&x.length>0){t[_0x1dda("0xca9")]+=x.length;var i=x[0][_0x1dda("0xfe")],n=x[0][_0x1dda("0x4a")],r=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](t[_0x1dda("0x24b")][a][_0x1dda("0xcc0")][_0x1dda("0xf7")]),s=(r[_0x1dda("0x2be")].y-r[_0x1dda("0x2f6")].y)/2,o=0,c=0;if(0!=t[_0x1dda("0x24b")][a][_0x1dda("0xcc0")][_0x1dda("0x228")].length){for(var l=0;l<x[_0x1dda("0x0")];l++)x[l][_0x1dda("0x101")]=!1,u-=1,t[_0x1dda("0xcca")](x[l]);return void(t[_0x1dda("0xcae")][_][a]=[])}for(var f=!1,g=!1,b=0;b<x[_0x1dda("0x0")];b++){x[b][_0x1dda("0xfa")].y+=s*x[b][_0x1dda("0x1d7")].y,0==b&&x[b][_0x1dda("0xcbf")]&&(f=!0),2==d[_0x1dda("0x1e3")]&&(0==d.id?(o=0,c=0):(o=d.sourceData.DefaultCenX-t.scene[_0x1dda("0x2a8")],c=d[_0x1dda("0xa17")][_0x1dda("0xc96")]-t.scene[_0x1dda("0x2a9")]));var v=x[b][_0x1dda("0xfa")];x[b][_0x1dda("0xfa")].x=v.x-o,x[b][_0x1dda("0xfa")].z=v.z-c,x[b][_0x1dda("0x15a")]&&!g&&(g=!0)}var p=t[_0x1dda("0x636")][_0x1dda("0x101")](t[_0x1dda("0x24b")][a].gltfObj,x);if(!p){for(var m=0;m<x[_0x1dda("0x0")];m++)x[m][_0x1dda("0x101")]=!1,u-=1,t[_0x1dda("0xcca")](x[m]);return void(t[_0x1dda("0xcae")][_][a]=[])}p[_0x1dda("0xfc")]=_0x1dda("0xfd");var A=x[0][_0x1dda("0x123")];p[_0x1dda("0x153")].merged=!0;p[_0x1dda("0xe5")]={isWall:f,model:a,bid:d.id,FloorNum:A,nodeType:esmap[_0x1dda("0x126")][_0x1dda("0x1b5")],brothers:x,animations:[],url:n,bType:2,o3d_:p,dispose:function(d){(d=d||this)[_0x1dda("0x169")]=!1;var x=d[_0x1dda("0xfe")];return x?(x[_0x1dda("0x181")](d),h(d),!0):void 0}[_0x1dda("0x4e")](p)},p[_0x1dda("0x160")]=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")],g&&p[_0x1dda("0xf8")]((function(d){d.material&&(d[_0x1dda("0xe9")]instanceof Array?d[_0x1dda("0xe9")][_0x1dda("0x42")]((function(d){d[_0x1dda("0x15b")]=!1})):d[_0x1dda("0xe9")][_0x1dda("0x15b")]=!1)}));var C=x[0][_0x1dda("0x3ee")];for(var I in C&&(2==d[_0x1dda("0x1e3")]?!t[_0x1dda("0xf7")].map[_0x1dda("0x35")][_0x1dda("0xcc1")]&&t.scene[_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](p,d.id):t[_0x1dda("0xf7")][_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](p,d.id)),i.add(p),x)x[I].o3d_=p;t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x394")]-=x.length,t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0xda")]("modelLoadComplete",p[_0x1dda("0xe5")]),d.toLoaded[A][_0x1dda("0x1d5")]-=x.length,d[_0x1dda("0x124a")](A),d.options[_0x1dda("0x908")]&&d[_0x1dda("0x35")][_0x1dda("0x52c")]<1&&d.focusFloorNum!=A&&esmap[_0x1dda("0x86")].setFloorAlpha({bid:d.id,alpha:d[_0x1dda("0x35")].focusAlpha,fnum:A,time:0}),t[_0x1dda("0xcae")][_][a]=[]}e()}))}},{key:"loadUserMergeModel",value:(f=(0,i[_0x1dda("0xd")])(t.default.mark((function d(x,a){var _,e,i,n,r;return t[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d[_0x1dda("0x24c")]){case 0:for(i in e=(_=this)[_0x1dda("0xcae")][a])e[i][_0x1dda("0x0")];d.t0=t[_0x1dda("0xd")].keys(e);case 5:if((d.t1=d.t0())[_0x1dda("0x3d5")]){d[_0x1dda("0x24c")]=12;break}return n=d.t1[_0x1dda("0xd8")],r=e[n],d[_0x1dda("0x24c")]=10,_[_0x1dda("0xcc9")](x,r,n,a);case 10:d[_0x1dda("0x24c")]=5;break;case 12:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d,x){return f[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0xcbb"),value:function(){var d=this.scene.map[_0x1dda("0x7d")][_0x1dda("0xc16")]||0;return u>d||0==d}},{key:"checkIfNeedLoad",value:function(){var d=this,x=this[_0x1dda("0x52")];if(this[_0x1dda("0x350")]&&d.mapModelsCount<d.modelStatic[_0x1dda("0x393")])for(var a in this[_0x1dda("0xcac")])this.mapModelLoadStatus[a]&&this[_0x1dda("0xcc4")](x,a);for(var _ in this[_0x1dda("0xcae")])this[_0x1dda("0xcad")][_]&&this.loadUserMergeModel(x,_);if(this[_0x1dda("0xca7")]&&d[_0x1dda("0xca5")][_0x1dda("0x0")]>0&&d[_0x1dda("0x21c")](),this[_0x1dda("0xca7")]&&d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22d")]&&(d[_0x1dda("0x966")].length>0||d[_0x1dda("0x967")][_0x1dda("0x0")]>0)){if(!this.queueRanked){var e=d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x94b")];if(this[_0x1dda("0xcaf")]||(this[_0x1dda("0xcaf")]=e?this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")][_0x1dda("0x116")]():this.scene[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")]()),d[_0x1dda("0x966")]=d.queue[_0x1dda("0x317")](d[_0x1dda("0x967")]),d[_0x1dda("0x967")]=[],d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x34e")]){var t=new THREE.Frustum;e?this[_0x1dda("0xf7")].map[_0x1dda("0x60a")].target.distanceTo(this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0xfa")]):this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")].distanceTo(this.scene[_0x1dda("0x42")].currentCamera[_0x1dda("0xfa")]);var i=e?this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")]:this.scene[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")];t[_0x1dda("0xb13")]((new(THREE[_0x1dda("0x207")]))[_0x1dda("0x3aa")](this[_0x1dda("0xf7")][_0x1dda("0x42")].currentCamera[_0x1dda("0x6f6")],this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x22b")][_0x1dda("0x3ab")]));for(var n=0;n<d[_0x1dda("0x966")][_0x1dda("0x0")];n++){if(d[_0x1dda("0x966")][n][_0x1dda("0xccd")]=1/d.queue[n][_0x1dda("0xfa")][_0x1dda("0x117")](i),d[_0x1dda("0x966")][n][_0x1dda("0x2bd")]){if(!t[_0x1dda("0x8d8")](d.queue[n][_0x1dda("0x2bd")])){d[_0x1dda("0x967")][_0x1dda("0x10")](d[_0x1dda("0x966")][n]),d.queue[_0x1dda("0x6")](n,1),n--;continue}d[_0x1dda("0x966")][n].modelrank=1/d[_0x1dda("0x966")][n][_0x1dda("0xfa")][_0x1dda("0x117")](i)}}for(var r=x[_0x1dda("0x61b")](1)[_0x1dda("0x3bc")]("mapmodel3ds")[0][_0x1dda("0x180")][_0x1dda("0xe6")],s=[],o=0;o<r[_0x1dda("0x0")];o++){var c=r[o],l=(c[_0x1dda("0x153")].modelinfo[_0x1dda("0xcc8")],d[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0xcce")],{modelrank:1/c[_0x1dda("0xfa")][_0x1dda("0x117")](i),model:c,ind:o});s.push(l)}var f=[];(f=[][_0x1dda("0x317")](s,d[_0x1dda("0x966")]))[_0x1dda("0x3ef")]((function(d,x){return x[_0x1dda("0xccd")]-d.modelrank}));var u=[];if(f[_0x1dda("0x0")]>d.maxShowModels){u=f[_0x1dda("0x6")](d[_0x1dda("0xcb1")]);for(var h=0;h<u[_0x1dda("0x0")];h++)u[h][_0x1dda("0x2")](_0x1dda("0xccf"))?(d.toAddQueue[_0x1dda("0x10")](u[h][_0x1dda("0x1ba")].userData[_0x1dda("0x2bc")]),u[h][_0x1dda("0x1ba")][_0x1dda("0xe5")].dispose(),u[h][_0x1dda("0x1ba")]=null):d[_0x1dda("0x967")][_0x1dda("0x10")](u[h]),u[_0x1dda("0x6")](h,1),h--}for(var g=0;g<f[_0x1dda("0x0")];g++)f[g][_0x1dda("0x2")]("ind")&&(f[_0x1dda("0x6")](g,1),g--);d[_0x1dda("0x966")]=f}this.rankAllModels(),this.queueRanked=!0,e?this[_0x1dda("0xcaf")]=this.scene.map[_0x1dda("0x60a")][_0x1dda("0x227")][_0x1dda("0x116")]():this.lasViewCenter=this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x227")][_0x1dda("0x116")]()}d[_0x1dda("0x21c")](x)}}},{key:_0x1dda("0xcba"),value:function(d){for(var x=this[_0x1dda("0xf7")].map[_0x1dda("0x94b")]?this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")]:this[_0x1dda("0xf7")].map.controls[_0x1dda("0x227")],a=this[_0x1dda("0x966")][_0x1dda("0x0")],_=d[_0x1dda("0xfa")][_0x1dda("0x117")](x),e=0;e<a;e++){if(this[_0x1dda("0x966")][e][_0x1dda("0xfa")][_0x1dda("0x117")](x)>=_)return void this[_0x1dda("0x966")][_0x1dda("0x6")](e,0,d)}this[_0x1dda("0x967")][_0x1dda("0x10")](d),this.scene[_0x1dda("0x42")][_0x1dda("0x22d")]=!0}},{key:_0x1dda("0xcd0"),value:function(){var d=this[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x94b")]?this.scene[_0x1dda("0x42")][_0x1dda("0x60a")][_0x1dda("0x227")]:this[_0x1dda("0xf7")][_0x1dda("0x42")].controls.target;this.queue[_0x1dda("0x0")];this[_0x1dda("0x966")][_0x1dda("0x3ef")]((function(x,a){return x[_0x1dda("0xfa")].distanceTo(d)-a[_0x1dda("0xfa")][_0x1dda("0x117")](d)})),this[_0x1dda("0x966")]}},{key:_0x1dda("0xcd1"),value:function(){var d=this,x=this;return new e.default((function(a){for(var _=0,e=0;e<x[_0x1dda("0x966")][_0x1dda("0x0")];e++){var t=x[_0x1dda("0x966")][e];if(_>=d.concurrencyLimit)break;x.modelStore[t[_0x1dda("0x1ba")]]?(x[_0x1dda("0x966")][_0x1dda("0x6")](e,1),e--,x[_0x1dda("0xcc6")](t),_++):x[_0x1dda("0x2b1")][t.model]||(x[_0x1dda("0x2b1")][t[_0x1dda("0x1ba")]]=!0,x[_0x1dda("0x2b2")](t[_0x1dda("0x1ba")],t[_0x1dda("0x4a")]))}a()}))}},{key:"loadExist",value:function(d){var x,a=this,_=this[_0x1dda("0x52")],e=d[_0x1dda("0x1ba")],t=a[_0x1dda("0x24b")][e][_0x1dda("0xcc0")][_0x1dda("0xf7")],i=a[_0x1dda("0x24b")][e][_0x1dda("0xcd2")],n=i[_0x1dda("0x0")]>0,r=!1;t[_0x1dda("0xe6")][_0x1dda("0xd1")]((function(d){(d instanceof THREE.SkinnedMesh||d instanceof THREE[_0x1dda("0x890")])&&(r=!0)})),(x=r||n?THREE.SkeletonUtils[_0x1dda("0x116")](t):t[_0x1dda("0x116")](!0))[_0x1dda("0xf8")]((function(d){d[_0x1dda("0xe9")]&&(d[_0x1dda("0xe9")]=d.material[_0x1dda("0x116")]())})),a[_0x1dda("0x5")](x,d,i,_)}},{key:_0x1dda("0x5"),value:function(d,x,a){var t=this,i=this,n=this[_0x1dda("0x52")],r=l.default.get(n.id);return new e.default((function(e){a=a||[];var o=i[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x17d")],c=x[_0x1dda("0x123")],l=null,f=null;d[_0x1dda("0xf8")]((function(d){d&&d[_0x1dda("0xfc")]&&d.name[_0x1dda("0xaf")](_0x1dda("0xe83"))>-1&&(l=d,f=d[_0x1dda("0xfe")])})),l&&f[_0x1dda("0x181")](l);var h=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](d);h.getCenter(d[_0x1dda("0xfa")]),d[_0x1dda("0xfa")][_0x1dda("0x218")](-1),l&&f[_0x1dda("0xce")](l);var g,b,v=h[_0x1dda("0x2be")].y-h[_0x1dda("0x2f6")].y;h[_0x1dda("0x2be")].x,h[_0x1dda("0x2f6")].x;g=v<1?15:20,g*=x[_0x1dda("0x1d7")].y;var p=x[_0x1dda("0x1d0")]||!1;if(x[_0x1dda("0xcd7")]){u++;var m=x.url[_0x1dda("0x7a")]("/"),A=x[_0x1dda("0x4a")];m>-1&&(A=x.url.slice(m+1)),b=x[_0x1dda("0xcd7")],x[_0x1dda("0xcd7")].addTo=x[_0x1dda("0xfe")],x[_0x1dda("0xcd7")][_0x1dda("0xcd8")]=x[_0x1dda("0xcd8")],x[_0x1dda("0xcd7")][_0x1dda("0x1ce")]=d,i[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")].getState("sk")||(x[_0x1dda("0xcd7")][_0x1dda("0x1ba")]=A),x[_0x1dda("0xcd7")][_0x1dda("0x228")]=a,x[_0x1dda("0xcd7")].isChildNode=p,x.marker.init(),x[_0x1dda("0xcd7")].on(_0x1dda("0x1ef"),(function(){u--})),x[_0x1dda("0xcbf")]&&(x.marker.isWall=!0)}else{var C=x[_0x1dda("0xfa")];x[_0x1dda("0xfa")].x=C.x-0,x[_0x1dda("0xfa")].y=C.y,x[_0x1dda("0xfa")].z=C.z-0;var I=x.rank;i[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")].City&&(I=i[_0x1dda("0xf7")].map[_0x1dda("0xa04")][_0x1dda("0xd9d")](x[_0x1dda("0x3c2")],i.building)),b=new s.default({name:x[_0x1dda("0xfc")],fnum:x[_0x1dda("0x123")],ID:x.id,dataID:x[_0x1dda("0x1e2")],url:x.url,gid:x[_0x1dda("0xb18")],mapId:x.mapId,bid:n.id,bType:n.buildingType,model:x[_0x1dda("0x1ba")],callback:x[_0x1dda("0x195")],top:x.top,rotation:x[_0x1dda("0x3d9")],position:x[_0x1dda("0xfa")],scale:x[_0x1dda("0x1d7")],scaleRate:g,showLevel:I,child:d,addTo:x.parent,isChildNode:p,animations:a}),x[_0x1dda("0xcbf")]&&(b.isWall=!0),b[_0x1dda("0x32")](),x.brief&&x.brief.MA&&(0,_[_0x1dda("0xd")])(x[_0x1dda("0xcdb")].MA).forEach((function(d){var x=d.n,_=d.t,e=d.dt,t=d.l;a[_0x1dda("0x125b")]((function(d){return d==x}))?b[_0x1dda("0x229")]({name:x,time:_,delay:e,loop:t}):console[_0x1dda("0x1eb")](_0x1dda("0xcdc")+x+_0x1dda("0xcdd"))})),t[_0x1dda("0xf7")][_0x1dda("0x42")].mapService[_0x1dda("0x394")]--,x[_0x1dda("0xcbf")]||n[_0x1dda("0xcc2")]&&n[_0x1dda("0xcc2")][c]&&n[_0x1dda("0xcc2")][c][_0x1dda("0x1d5")]--,n[_0x1dda("0x124a")](),"wallModelPrefetch"!=b.ID&&r[_0x1dda("0xd5")](b.ID)}a[_0x1dda("0xaf")]("onload")>-1&&b[_0x1dda("0x229")]({name:"onload",time:2});var y=b[_0x1dda("0x180")],E=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](y),w=[E[_0x1dda("0x2be")].x-E[_0x1dda("0x2f6")].x,E.max.z-E.min.z,E[_0x1dda("0x2be")].y-E[_0x1dda("0x2f6")].y];w[_0x1dda("0x3ef")](),x[_0x1dda("0xcc8")]=w[1]*w[2],x[_0x1dda("0x2bd")]=E,y[_0x1dda("0x153")][_0x1dda("0x2bc")]=x,2==n[_0x1dda("0x1e3")]?i.setAlpha(n,y):t.setAlpha2(y),x.id!=_0x1dda("0xcdf")&&(x[_0x1dda("0x3ee")]||i[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")])&&(2==n[_0x1dda("0x1e3")]?x[_0x1dda("0xcd7")]?o.addObject(y,n.id):i[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x35")].disableIndoorClick||o[_0x1dda("0x3ae")](y,n.id):o.addObject(y,n.id)),b[_0x1dda("0x41")]&&(t[_0x1dda("0xf7")].map[_0x1dda("0x7d")][_0x1dda("0x9be")][b[_0x1dda("0x41")]]=b),t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x279")][_0x1dda("0x980")](),b[_0x1dda("0x195")]&&b[_0x1dda("0x195")](b[_0x1dda("0xcd8")]?b.callbackparams:b),t[_0x1dda("0xf7")][_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0xcc3"),b),e()}))}},{key:_0x1dda("0x2b2"),value:function(d,x,a){var _=this,e=esmap[_0x1dda("0x33")][_0x1dda("0x34")],t=e.mapTheme.model3DsRGB,i=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")];e.options[_0x1dda("0x1cc")],this[_0x1dda("0xc07")][d]||this[_0x1dda("0x38d")].load(x,(function(x){_[_0x1dda("0xcb7")]--,_[_0x1dda("0x392")][_0x1dda("0x62d")]++,_.loadingList[d]=!1;var n=new(THREE[_0x1dda("0x251")])(x[_0x1dda("0xf7")]);n[_0x1dda("0x262")]=!1;var r=[];x[_0x1dda("0x228")][_0x1dda("0xd1")]((function(d){r[_0x1dda("0x10")](d.name[_0x1dda("0x254")]())})),x[_0x1dda("0xf7")][_0x1dda("0xf8")]((function(d){d[_0x1dda("0x160")]=i,d[_0x1dda("0x153")].hasOwnProperty("visible")&&(d[_0x1dda("0x169")]=Boolean(d[_0x1dda("0x153")][_0x1dda("0x169")])),d[_0x1dda("0xe9")]&&d[_0x1dda("0xe9")][_0x1dda("0x125c")]&&(d[_0x1dda("0xe9")].name.indexOf(_0x1dda("0xce1"))>-1&&(d[_0x1dda("0xe9")]=new(THREE[_0x1dda("0x2b5")])({color:d[_0x1dda("0xe9")][_0x1dda("0x138")],map:d[_0x1dda("0xe9")][_0x1dda("0x42")],transparent:d[_0x1dda("0xe9")].transparent,opacity:d[_0x1dda("0xe9")][_0x1dda("0x11d")]})),d[_0x1dda("0xe9")][_0x1dda("0x845")]||(d[_0x1dda("0xe9")][_0x1dda("0x845")]=.9),d[_0x1dda("0xe9")].map&&(d.material[_0x1dda("0x42")][_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x52a"))>-1&&(d[_0x1dda("0xe9")][_0x1dda("0x136")]=!1),t||(d[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x851")]=THREE[_0x1dda("0xce2")])),!x[_0x1dda("0xf7")][_0x1dda("0x153")][_0x1dda("0xce3")]&&d[_0x1dda("0xe9")][_0x1dda("0xfc")][_0x1dda("0xaf")](_0x1dda("0x2bb"))>=0&&(x[_0x1dda("0xf7")][_0x1dda("0x153")][_0x1dda("0xce3")]=!0))}));var s=null;x[_0x1dda("0xf3")]&&x[_0x1dda("0xf3")][_0x1dda("0xf4")]&&x[_0x1dda("0xf3")][_0x1dda("0xf4")].ms&&(s=x.parser[_0x1dda("0xf4")].ms),_[_0x1dda("0x24b")][d]={mixer:n,gltfObj:x,queue:[],animations:x[_0x1dda("0x228")],animNames:r,ms:s},a&&a(x),e[_0x1dda("0xda")](_0x1dda("0xcb4"),{name:d,gltfObj:x}),_[_0x1dda("0x968")]=!1}),(function(){}),(function(x){_[_0x1dda("0x392")][_0x1dda("0x62d")]++,_.failed[d]=!0;var a=_[_0x1dda("0x52")],t=l[_0x1dda("0xd")][_0x1dda("0xd6")](a.id);for(var i in _.mergeQueue){var n=_[_0x1dda("0xcaa")][i];for(var r in n)if(_[_0x1dda("0xc07")][r]){var s=n[r][_0x1dda("0x0")];if(s>0){var o=n[r][_0x1dda("0x42")]((function(d){return d.id}));n[r]=[],a[_0x1dda("0xcc2")][i].model3D-=s,a.checkLoadedAll(i),t[_0x1dda("0xd4")](o)}}}for(var c=0;c<_[_0x1dda("0xca5")][_0x1dda("0x0")];c++)if(_[_0x1dda("0xca5")][c][_0x1dda("0x1ba")]==d){var f=_[_0x1dda("0xca5")][c].id;_[_0x1dda("0xca5")][c][_0x1dda("0xfe4")]&&_.requisitesQueue[c][_0x1dda("0xfe4")](_[_0x1dda("0x966")][c]);var u=_[_0x1dda("0xca5")][c][_0x1dda("0x123")];if(!u)continue;_.requisitesQueue[c].name!=_0x1dda("0xcda")&&(0!=a.id&&a[_0x1dda("0xcc2")][_[_0x1dda("0xca5")][c][_0x1dda("0x123")]][_0x1dda("0x1d5")]--,t[_0x1dda("0xd5")](f)),_.requisitesQueue[_0x1dda("0x6")](c,1),c--,a[_0x1dda("0x124a")](u)}for(var h=0;h<_[_0x1dda("0x966")][_0x1dda("0x0")];h++)if(_[_0x1dda("0x966")][h][_0x1dda("0x1ba")]==d){var g=_.queue[h].id;_[_0x1dda("0x966")][h][_0x1dda("0xfe4")]&&_[_0x1dda("0x966")][h][_0x1dda("0xfe4")](_[_0x1dda("0x966")][h]);var b=_[_0x1dda("0x966")][h][_0x1dda("0x123")];if(!b)continue;_[_0x1dda("0x966")][h][_0x1dda("0xfc")]!=_0x1dda("0xcda")&&(0!=a.id&&a[_0x1dda("0xcc2")][_[_0x1dda("0x966")][h][_0x1dda("0x123")]].model3D--,t[_0x1dda("0xd5")](g)),_[_0x1dda("0x966")][_0x1dda("0x6")](h,1),h--,a[_0x1dda("0x124a")](b)}for(var v=0;v<_[_0x1dda("0x967")][_0x1dda("0x0")];v++)if(_[_0x1dda("0x967")][v][_0x1dda("0x1ba")]==d){var p=_.toAddQueue[v][_0x1dda("0x123")],m=_[_0x1dda("0x967")][v].id;if(!p)continue;"wallModelPrefetch"!=_.toAddQueue[v][_0x1dda("0xfc")]&&(0!=a.id&&a[_0x1dda("0xcc2")][_[_0x1dda("0x967")][v][_0x1dda("0x123")]][_0x1dda("0x1d5")]--,t[_0x1dda("0xd5")](m)),_[_0x1dda("0x967")].splice(v,1),v--,a[_0x1dda("0x124a")](p)}e.fire(_0x1dda("0x125d"),{name:d});var A=x[_0x1dda("0x2e")]();console[_0x1dda("0x1eb")](A),x===_0x1dda("0x836")&&e[_0x1dda("0x35")][_0x1dda("0x1cc")]&&e[_0x1dda("0x7d")][_0x1dda("0x7e")]("sk")&&e.mapService[_0x1dda("0x825")][_0x1dda("0x6b9")]&&(e[_0x1dda("0x7d")].cache[_0x1dda("0x6b9")]=!1,e[_0x1dda("0x7d")][_0x1dda("0x825")][_0x1dda("0xbf3")]([e.id])),_[_0x1dda("0xcb7")]--}),this[_0x1dda("0x12d")])}},{key:_0x1dda("0xce5"),value:function(d){var x=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")];obj[_0x1dda("0x160")]=x,d[_0x1dda("0x172")]=!0}},{key:_0x1dda("0xcde"),value:(a=(0,i[_0x1dda("0xd")])(t[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(x){var a;return t[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d.next){case 0:a=esmap[_0x1dda("0x161")].model3D,x.traverse((function(d){if(d.material){if(d[_0x1dda("0xe9")]instanceof Array)for(var x=0;x<d[_0x1dda("0xe9")][_0x1dda("0x0")];x++)d[_0x1dda("0xe9")][x];d.renderOrder=a}}));case 2:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d){return a[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x232"),value:(x=(0,i[_0x1dda("0xd")])(t.default[_0x1dda("0x2b7")]((function d(x,a){var _,e,i;return t.default[_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:_=a.datas_.FloorNum,e=x[_0x1dda("0x629")][_],i=esmap[_0x1dda("0x161")][_0x1dda("0x1d5")],e&&e.visible&&(x[_0x1dda("0x35")][_0x1dda("0x52c")],a[_0x1dda("0xf8")]((function(d){if(d.material){if(d[_0x1dda("0xe9")]instanceof Array)for(var x=0;x<d[_0x1dda("0xe9")][_0x1dda("0x0")];x++)d.material[x];d[_0x1dda("0x160")]=i}})));case 6:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(d,a){return x.apply(this,arguments)})},{key:_0x1dda("0x24b"),get:function(){return this.scene[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x24b")]},set:function(d){this[_0x1dda("0xf7")].map.mapService[_0x1dda("0x24b")]=d}}]),d}();x[_0x1dda("0xd")]=g},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=u(a(25)),e=u(a(98)),t=u(a(2)),i=u(a(7)),n=u(a(8)),r=u(a(13)),s=u(a(0)),o=u(a(1)),c=u(a(139)),l=u(a(23)),f=u(a(33));function u(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var h=function(){function d(x){var a=this;(0,s[_0x1dda("0xd")])(this,d),this[_0x1dda("0x125e")]={},this[_0x1dda("0x122")]=null,this.queues={},this[_0x1dda("0x125f")]={},this[_0x1dda("0x1260")]={},this[_0x1dda("0x1261")]={},this.building=x,this.expiresIn=2592e5,this.scene=x[_0x1dda("0x42")][_0x1dda("0xb3")],this[_0x1dda("0x42")]=x.map,this[_0x1dda("0x9a4")]={},this[_0x1dda("0x24b")]={},this[_0x1dda("0xcb")]=0,this[_0x1dda("0x1262")]=0,this.loadedCount=0,this[_0x1dda("0xf48")]=null,this[_0x1dda("0xe88")]={},this[_0x1dda("0x1263")]=[],this[_0x1dda("0x1264")]=null,this[_0x1dda("0x711")]=!1,this[_0x1dda("0x1265")]=this.map[_0x1dda("0x35")][_0x1dda("0x374")];var _=this,e=null;this[_0x1dda("0xbda")]=null,this.db=null,this[_0x1dda("0x1266")]=!1,this[_0x1dda("0x42")].on("controlstart",(function(){a[_0x1dda("0x1266")]=!0}),null,x.id),this[_0x1dda("0x42")].on(_0x1dda("0x17c"),(function(){a[_0x1dda("0x1266")]&&(_[_0x1dda("0x711")]=!0,window.clearTimeout(e))}),null,x.id),this[_0x1dda("0x42")].on(_0x1dda("0x93d"),(function(){_[_0x1dda("0x711")]||_[_0x1dda("0x1267")]()}),null,x.id),this[_0x1dda("0x42")].on(_0x1dda("0xaba"),(function(){a[_0x1dda("0x1266")]=!1,e=setTimeout((function(){_[_0x1dda("0x711")]=!1}),800)}),null,x.id)}var x;return(0,o[_0x1dda("0xd")])(d,[{key:"init",value:function(d){for(var x=this[_0x1dda("0x52")],a=0;a<x[_0x1dda("0x634")][_0x1dda("0x0")];a++){var _=x[_0x1dda("0x634")][a],e=x[_0x1dda("0x61b")](_)[_0x1dda("0x3bc")](_0x1dda("0x9a2"));e[0]?this[_0x1dda("0x9a4")][_]=e[0][_0x1dda("0x180")]:console[_0x1dda("0x1ec")]("bimLayerNot find")}this.bins=d.bins,this[_0x1dda("0xd2")]=d[_0x1dda("0x1268")],this[_0x1dda("0x1262")]=d[_0x1dda("0x1262")],this[_0x1dda("0xcb")]=d.total}},{key:_0x1dda("0x1267"),value:function(){if(this[_0x1dda("0x1263")][_0x1dda("0x0")]>0){var d=this[_0x1dda("0x1263")][_0x1dda("0x4")]();this[_0x1dda("0x1265")]?this[_0x1dda("0x1269")](d):this[_0x1dda("0x126a")](d),this[_0x1dda("0x126b")]()}}},{key:_0x1dda("0xf49"),value:function(d){d.message==_0x1dda("0xf47")?this[_0x1dda("0x1263")][_0x1dda("0x10")](d):"bimInfos"==d[_0x1dda("0xf45")]&&this[_0x1dda("0x126c")](d),this[_0x1dda("0x126b")]()}},{key:"IDBUpdateItem",value:function(d,x){var a=this.db[_0x1dda("0xbe2")]([d],"readwrite")[_0x1dda("0xbe3")](d).put(x);a[_0x1dda("0xbe6")]=function(d){},a[_0x1dda("0xbe7")]=function(d){}}},{key:_0x1dda("0x126d"),value:function(d,x){var a=this.db;return new(r[_0x1dda("0xd")])((function(_){var e=a.transaction([d],"readwrite")[_0x1dda("0xbe3")](d)[_0x1dda("0xce")](x);e[_0x1dda("0xbe6")]=function(d){_()},e[_0x1dda("0xbe7")]=function(d){}}))}},{key:_0x1dda("0x126b"),value:function(){if(this.pages&&this[_0x1dda("0x126e")]===this[_0x1dda("0x1262")]&&this[_0x1dda("0x126f")]){var d=(new Date).getTime()-this[_0x1dda("0xbda")];console[_0x1dda("0x255")](_0x1dda("0x1270")+d+"ms"),this[_0x1dda("0x126f")]=null,this.map.fire("bimLoadedAll",{})}}},{key:_0x1dda("0x1271"),value:function(d){var x=this;return new(r[_0x1dda("0xd")])((function(a,_){var e=x.db.transaction(_0x1dda("0x1272"))[_0x1dda("0xbe3")](_0x1dda("0x1272"))[_0x1dda("0xd6")](d);e.onsuccess=function(){var d=e[_0x1dda("0xbea")];a(d||null)},e[_0x1dda("0xbe7")]=function(d){console[_0x1dda("0x1ec")](d),_(null)}}))}},{key:_0x1dda("0xbfc"),value:function(){var d={db:_0x1dda("0x1273"),collections:["bimDatas","bimInfos",_0x1dda("0x1272")]},x=window[_0x1dda("0xbf4")].open(d.db);x[_0x1dda("0xbe6")]=function(){for(var a=x[_0x1dda("0xbea")],_=d[_0x1dda("0x1274")],e=0;e<_[_0x1dda("0x0")];e++){var t=_[e];a[_0x1dda("0xbfb")][_0x1dda("0x49c")](t)&&a.deleteObjectStore(t)}}}},{key:"clearStores",value:function(){var d={db:_0x1dda("0x1273"),collections:["bimDatas",_0x1dda("0xf48"),_0x1dda("0x1272")]},x=window.indexedDB.open(d.db);x[_0x1dda("0xbe6")]=function(){for(var a=x[_0x1dda("0xbea")],_=d[_0x1dda("0x1274")],e=0;e<_.length;e++){var t=_[e],i=a[_0x1dda("0xbe2")]([t],_0x1dda("0xbef"))[_0x1dda("0xbe3")](t)[_0x1dda("0x6c4")]();i[_0x1dda("0xbe6")]=function(d){},i[_0x1dda("0xbe7")]=function(d){}}}}},{key:_0x1dda("0x21c"),value:(x=(0,n[_0x1dda("0xd")])(i[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(){var x,a,_,e,t,n,r,s,o,c;return i[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:return this[_0x1dda("0xbda")]=(new Date).getTime(),d.next=3,this.IDBTryInit({db:_0x1dda("0x1273"),version:2});case 3:if(x=d[_0x1dda("0x2ff")],a=!0,x){d[_0x1dda("0x24c")]=23;break}return _0x1dda("0x1275"),a=!1,d[_0x1dda("0x24c")]=10,this[_0x1dda("0x1276")]();case 10:if(_=d[_0x1dda("0x2ff")]){d.next=14;break}return _0x1dda("0x1277"),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 14:for(this[_0x1dda("0x32")](_),this[_0x1dda("0x1264")]=_,e=this[_0x1dda("0x42")][_0x1dda("0xa90")],_[_0x1dda("0x624")]=e,_.id=e,t=0;t<this[_0x1dda("0x1262")];t++)this[_0x1dda("0x1278")](t,!1,a);return this[_0x1dda("0x1278")]("info",!1,a),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 23:return this.db=x,d[_0x1dda("0x24c")]=26,this.fetchBimSet();case 26:if(n=d.sent){d[_0x1dda("0x24c")]=30;break}return console[_0x1dda("0x1eb")]("bimset not exist!"),d[_0x1dda("0x24e")](_0x1dda("0x24f"));case 30:return this[_0x1dda("0x32")](n),this.bimSetData=n,r=this[_0x1dda("0x42")].sceneId_,n[_0x1dda("0x624")]=r,n.id=r,d[_0x1dda("0x24c")]=37,this[_0x1dda("0x1271")](r);case 37:if(s=d.sent,o=!0,s){d[_0x1dda("0x24c")]=47;break}return d[_0x1dda("0x24c")]=42,this[_0x1dda("0x1279")]();case 42:return d[_0x1dda("0x24c")]=44,this[_0x1dda("0x126d")]("bimSets",n);case 44:o=!1,d.next=53;break;case 47:if(o=n[_0x1dda("0x127a")]===s[_0x1dda("0x127a")]){d[_0x1dda("0x24c")]=53;break}return d[_0x1dda("0x24c")]=51,this[_0x1dda("0x1279")]();case 51:return d[_0x1dda("0x24c")]=53,this[_0x1dda("0x127b")](_0x1dda("0x1272"),n);case 53:for(c=0;c<this.pages;c++)this[_0x1dda("0x1278")](c,o,a);this.dispatchBimPageByControlIndex("info",o,a);case 55:case _0x1dda("0x267"):return d.stop()}}),d,this)}))),function(){return x[_0x1dda("0x5")](this,arguments)})},{key:_0x1dda("0x1279"),value:function(){var d=this.db,x=this.map[_0x1dda("0xa90")],a=new(r[_0x1dda("0xd")])((function(a){d[_0x1dda("0xbe2")](_0x1dda("0x127c"),"readwrite")[_0x1dda("0xbe3")]("bimDatas")[_0x1dda("0xbf8")]()[_0x1dda("0xbe6")]=function(d){var _=d[_0x1dda("0x227")][_0x1dda("0xbea")];_?(_[_0x1dda("0xd8")][_0x1dda("0x624")]==x&&_[_0x1dda("0x248")](),_[_0x1dda("0x63c")]()):a()}})),_=new(r[_0x1dda("0xd")])((function(a){d[_0x1dda("0xbe2")](_0x1dda("0xf48"),_0x1dda("0xbef"))[_0x1dda("0xbe3")]("bimInfos").openCursor()[_0x1dda("0xbe6")]=function(d){var _=d[_0x1dda("0x227")][_0x1dda("0xbea")];_?(_.value[_0x1dda("0x624")]==x&&_[_0x1dda("0x248")](),_[_0x1dda("0x63c")]()):a()}})),e=new(r[_0x1dda("0xd")])((function(a){d[_0x1dda("0xbe2")](_0x1dda("0x1272"),"readwrite")[_0x1dda("0xbe3")]("bimSets")[_0x1dda("0xbf8")]()[_0x1dda("0xbe6")]=function(d){var _=d[_0x1dda("0x227")].result;_?(_[_0x1dda("0xd8")][_0x1dda("0x624")]==x&&_.delete(),_.continue()):a()}}));return r.default[_0x1dda("0x641")]([a,_,e])}},{key:_0x1dda("0x1276"),value:function(){var d=this[_0x1dda("0x52")].id,x=l[_0x1dda("0xd")][_0x1dda("0x67")](_0x1dda("0x5c"),{filename:d+"-bimset.bin",type:"",buildingId:d,isBim:!0});return new(r[_0x1dda("0xd")])((function(d,a){c[_0x1dda("0xd")][_0x1dda("0xc62")]({url:x})[_0x1dda("0x43a")]((function(x){d(x)}))[_0x1dda("0x1eb")](a)}))}},{key:_0x1dda("0x127d"),value:function(d){return d[_0x1dda("0x26c")](/^(https?:\/\/)/)?d:d[_0x1dda("0x13f")](/([^:]\/)\/+/g,"$1")}},{key:_0x1dda("0x1278"),value:function(d,x,a){var _=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x44")],e=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x375")],t=this[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x374")],i=(window[_0x1dda("0x78")][_0x1dda("0x84")],this[_0x1dda("0x52")].id),n=l[_0x1dda("0xd")][_0x1dda("0x67")](_0x1dda("0x5c"),{filename:i+_0x1dda("0x127e")+d+_0x1dda("0x127f"),type:"",isBim:!0,buildingId:i});n=this.replaceExtraSlashes(n),this[_0x1dda("0xf7")][_0x1dda("0xb4")][_0x1dda("0xb5")][_0x1dda("0xf3d")]({messageType:2,url:n,mapDataSrc:_,mapid:i,sceneX:this[_0x1dda("0xf7")].sceneX_,sceneZ:this[_0x1dda("0xf7")][_0x1dda("0x2a9")],datas:this[_0x1dda("0x126f")],controlIndex:d,useCache:x,useIDB:a,mergeMode:t,devMode:e},this[_0x1dda("0x52")])}},{key:"getDesFromNlist",value:function(d){for(var x={},a=this[_0x1dda("0xf48")].nlist,_=0;_<d[_0x1dda("0x0")];_++){var e=d[_].split("-"),t=a[e[0]],i=a[e[1]];x[t]=i}return x}},{key:_0x1dda("0xe87"),value:function(d){if(!this.bimInfos)return null;var x=this.bimInfos.infos,a=this[_0x1dda("0xf48")][_0x1dda("0x1280")];for(var _ in x){var e=x[_];if(d==e.bimid){var t=e.info,i={};for(var n in t){var r=a[n];r||(r=n);var s=t[n].idx,o=this[_0x1dda("0x1281")](s);i[r]=o}return{bimid:e[_0x1dda("0x1282")],infoList:i,uuid:e[_0x1dda("0x2c4")]}}}return null}},{key:_0x1dda("0x1283"),value:function(){var d=this[_0x1dda("0x126f")];for(var x in d){var a=d[x];for(var _ in a)for(var e=a[_],t=0;t<e[_0x1dda("0x0")];t++){var i=e[t],n=this[_0x1dda("0xe87")](i.id);this[_0x1dda("0xe88")][i.id]=n,n?(e[t][_0x1dda("0x2c4")]=n.uuid,e[t][_0x1dda("0xe89")]=n[_0x1dda("0xe89")],e[t].bimId=n[_0x1dda("0x1282")]):console[_0x1dda("0x1ec")](_0x1dda("0x1284")+i.id)}}}},{key:_0x1dda("0x126c"),value:function(d){this[_0x1dda("0xf48")]=d[_0x1dda("0x442")]}},{key:"onQueueUnMerged",value:function(d){var x=d[_0x1dda("0x442")],a=this[_0x1dda("0x52")].id,_=this.building[_0x1dda("0x6e")];for(var e in this[_0x1dda("0x122")]||(this[_0x1dda("0x122")]=d[_0x1dda("0x122")]),x){var t=x[e];for(var i in t)for(var n=t[i],r=0;r<n[_0x1dda("0x0")];r++){var s=n[r];if(s)for(var o=0;o<s.length;o++){var c,l=new(THREE[_0x1dda("0x384")]),f=s[o],u=f.groupInfo[0].id,h=f[_0x1dda("0xfa")],g=f.uv,b=f[_0x1dda("0x536")],v=f.style,p=f[_0x1dda("0x292")];c=v;var m=new(THREE[_0x1dda("0x3f9")]);m[_0x1dda("0x404")](new(THREE[_0x1dda("0x402")])(p,1)),m[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(h,3)),m.addAttribute("uv",new THREE.BufferAttribute(g,2)),m[_0x1dda("0x3fe")](),m[_0x1dda("0x159")](),m[_0x1dda("0x16c")](0,m[_0x1dda("0x292")][_0x1dda("0xfb")],0),m[_0x1dda("0x153")][_0x1dda("0x3f3")]=b;var A=this[_0x1dda("0x42")].mapTheme[_0x1dda("0x1286")](_,v,""),C=A[_0x1dda("0x116")]();C[_0x1dda("0x138")]=new THREE.Color(1,0,0);var I=[A,C],y=new(THREE[_0x1dda("0x182")])(m,I);l[_0x1dda("0xce")](y),l[_0x1dda("0x153")][_0x1dda("0x9a7")]=!0;var E=this.center,w=(new THREE.Box3)[_0x1dda("0x2ae")](l);l[_0x1dda("0x153")][_0x1dda("0x2bc")]={box3:w};var T=w[_0x1dda("0x2be")].y-w[_0x1dda("0x2f6")].y,k=this[_0x1dda("0x42")].options[_0x1dda("0x1cc")],S=this[_0x1dda("0x125f")][u],M=S[_0x1dda("0x16d")][_0x1dda("0x2a")](","),R=new(THREE[_0x1dda("0x11c")])(E.x+1*M[0],0+1*M[1],E.z+1*M[2]),L={};L[_0x1dda("0xfa")]=R,L[_0x1dda("0x2cf")]=T*S[_0x1dda("0x1d7")].y+L[_0x1dda("0xfa")].y-T/2,L[_0x1dda("0x75")]=!0,L[_0x1dda("0xcf5")]=1*c,L[_0x1dda("0x1e2")]=S[_0x1dda("0x1e2")],L[_0x1dda("0x3ee")]=S[_0x1dda("0x3ee")],L[_0x1dda("0x106")]=esmap[_0x1dda("0x126")][_0x1dda("0x1b5")],L.ID=u,L.id=u,L[_0x1dda("0xfc")]=S.name,L[_0x1dda("0x1de")]=1*i,L[_0x1dda("0x12d")]=a,L[_0x1dda("0x180")]=l,L[_0x1dda("0xd1f")]=S.rotate,L[_0x1dda("0x1d7")]=S[_0x1dda("0x1d7")],L[_0x1dda("0x16d")]=S[_0x1dda("0x16d")],L[_0x1dda("0x1e7")]=this[_0x1dda("0x42")][_0x1dda("0x1db")](R),k&&(L[_0x1dda("0x3ee")]=1);var D=[L];l[_0x1dda("0xe5")]={bid:a,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:i,model:e,brothers:D,o3d_:l};var H=L[_0x1dda("0x3ee")];l[_0x1dda("0xfc")]=_0x1dda("0xfd"),this[_0x1dda("0x9a4")][i].add(l),H&&this[_0x1dda("0x42")].mapPicker.addObject(l,a)}else _0x1dda("0x1285")}}this.loadedCount++}},{key:_0x1dda("0x1269"),value:function(d){var x=d[_0x1dda("0x442")],a=this[_0x1dda("0x52")].id,_=f[_0x1dda("0xd")][_0x1dda("0xd6")](a),e=this[_0x1dda("0x52")][_0x1dda("0x6e")];for(var i in this.center||(this[_0x1dda("0x122")]=d[_0x1dda("0x122")]),x){var n=x[i];for(var r in n){for(var s=n[r],o=new THREE.Object3D,c=0,l=0;l<s[_0x1dda("0x0")];l++){var u=s[l];if(u)for(var h=0;h<u[_0x1dda("0x0")];h++){var g=u[h],b=g[_0x1dda("0xfa")],v=g.uv,p=g.groupInfo,m=g.style,A=g[_0x1dda("0x292")];c=m;var C=new THREE.BufferGeometry;C[_0x1dda("0x404")](new(THREE[_0x1dda("0x402")])(A,1)),C[_0x1dda("0x403")]("position",new THREE.BufferAttribute(b,3)),C[_0x1dda("0x403")]("uv",new(THREE[_0x1dda("0x402")])(v,2)),C[_0x1dda("0x3fe")](),C[_0x1dda("0x159")](),C[_0x1dda("0x16c")](0,C[_0x1dda("0x292")][_0x1dda("0xfb")],0),C[_0x1dda("0x153")][_0x1dda("0x3f3")]=p;var I=this.map[_0x1dda("0x132")].getModelMaterial(e,m,""),y=I[_0x1dda("0x116")]();y[_0x1dda("0x138")]=new THREE.Color(1,0,0);var E=[I,y],w=new(THREE[_0x1dda("0x182")])(C,E);o.add(w)}else _0x1dda("0x1285")}var T=this[_0x1dda("0x126f")][i][r],k=this[_0x1dda("0x122")],S=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](o);o[_0x1dda("0x153")][_0x1dda("0x9a7")]=!0,o.userData[_0x1dda("0x2bc")]={box3:S};var M=S[_0x1dda("0x2be")].y-S[_0x1dda("0x2f6")].y,R=this[_0x1dda("0x42")][_0x1dda("0x35")].editMode;T=T.map((function(d){return(0,t.default)({},d)}));for(var L=[],D=0;D<T[_0x1dda("0x0")];D++){L[_0x1dda("0x10")](T[D].id);var H=this.allDataMap[T[D].id],P=H[_0x1dda("0x16d")].split(","),O=new(THREE[_0x1dda("0x11c")])(k.x+1*P[0],0+1*P[1],k.z+1*P[2]);T[D].position=O,T[D][_0x1dda("0x2cf")]=M*H[_0x1dda("0x1d7")].y+T[D][_0x1dda("0xfa")].y-M/2,T[D][_0x1dda("0x75")]=!0,T[D][_0x1dda("0xcf5")]=1*c,T[D][_0x1dda("0x1e2")]=H.dataID,T[D][_0x1dda("0x3ee")]=H[_0x1dda("0x3ee")],T[D][_0x1dda("0xfc")]=H[_0x1dda("0xfc")],T[D][_0x1dda("0x106")]=esmap[_0x1dda("0x126")][_0x1dda("0x1b5")],T[D].ID=T[D].id,T[D][_0x1dda("0x1de")]=1*r,T[D].bid=a,T[D].mapCoord=this.map[_0x1dda("0x1db")](O),R&&(T[D][_0x1dda("0x3ee")]=1)}o[_0x1dda("0xe5")]={bid:a,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:r,model:i,brothers:T,o3d_:o};var B=T[0][_0x1dda("0x3ee")];o.name=_0x1dda("0xfd"),this.layers[r][_0x1dda("0xce")](o),_.popArray(L),B&&this[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3ae")](o,a)}}this[_0x1dda("0x126e")]++}},{key:"addToQueue",value:function(d){this.queues[d.model]||(this[_0x1dda("0x126f")][d.model]={}),this[_0x1dda("0x126f")][d[_0x1dda("0x1ba")]][d[_0x1dda("0x123")]]||(this.queues[d[_0x1dda("0x1ba")]][d.fnum]=[]),d[_0x1dda("0xd1f")]||(d[_0x1dda("0xd1f")]=_0x1dda("0xc6d"));var x={x:1,y:1,z:1};d[_0x1dda("0x1d7")]&&(x.x=d.scale.x,x.y=d[_0x1dda("0x1d7")].y,x.z=d[_0x1dda("0x1d7")].z),this[_0x1dda("0x126f")][d[_0x1dda("0x1ba")]][d.fnum][_0x1dda("0x10")]({id:d.id,offset:d[_0x1dda("0x16d")],rotate:d[_0x1dda("0xd1f")],scale:x,center:{x:d.x,y:d.y}}),this[_0x1dda("0x125f")][d.id]=d}},{key:_0x1dda("0x1287"),value:function(d){var x=this;return new(r[_0x1dda("0xd")])((function(a,_){var e=window[_0x1dda("0xbf4")][_0x1dda("0x44a")](d.db,d.version);e[_0x1dda("0xbe6")]=function(){x.db=e.db,a(!0)},e[_0x1dda("0xbe7")]=function(){var d=e.errorCode;console[_0x1dda("0x1eb")](d),_(!1)},e[_0x1dda("0xbfa")]=function(x){var a=x[_0x1dda("0x227")][_0x1dda("0xbea")];a[_0x1dda("0xbfb")][_0x1dda("0x49c")](_0x1dda("0x127c"))&&a.deleteObjectStore(_0x1dda("0x127c")),a.objectStoreNames.contains(_0x1dda("0xf48"))&&a[_0x1dda("0xbfc")](_0x1dda("0xf48")),a[_0x1dda("0xbfb")][_0x1dda("0x49c")](_0x1dda("0x1272"))&&a.deleteObjectStore(_0x1dda("0x1272"));for(var _=0;_<d[_0x1dda("0x1274")].length;_++){var e=d[_0x1dda("0x1274")][_];if("bimDatas"==e)a[_0x1dda("0xbfd")](e,{keyPath:"id"})[_0x1dda("0x63b")](_0x1dda("0x1288"),[_0x1dda("0x624"),_0x1dda("0x1289")],{unique:!1});else if(e==_0x1dda("0x1272")){a[_0x1dda("0xbfd")](e,{keyPath:"id"})[_0x1dda("0x63b")]("myIndex",[_0x1dda("0x624")],{unique:!0})}else if(e==_0x1dda("0xf48")){a[_0x1dda("0xbfd")](e,{keyPath:_0x1dda("0x624")}).createIndex(_0x1dda("0x1288"),[_0x1dda("0x624")],{unique:!0})}}}}))}},{key:_0x1dda("0xbdc"),value:function(d){return new(r[_0x1dda("0xd")])((function(x,a){var _=window.indexedDB[_0x1dda("0x44a")](d.db,d[_0x1dda("0x83")]);_[_0x1dda("0xbfa")]=function(d){var x=d[_0x1dda("0x227")][_0x1dda("0xbea")],a=d[_0x1dda("0x227")][_0x1dda("0xbe2")];x[_0x1dda("0xbfb")][_0x1dda("0x49c")](_0x1dda("0x127c"))?a[_0x1dda("0xbe3")](_0x1dda("0x127c")).clear():x[_0x1dda("0xbfd")](_0x1dda("0x127c"),{keyPath:"id"})[_0x1dda("0x63b")](_0x1dda("0x1288"),["bids",_0x1dda("0x1289")],{unique:!1});x[_0x1dda("0xbfb")][_0x1dda("0x49c")](_0x1dda("0xf48"))?a[_0x1dda("0xbe3")]("bimInfos")[_0x1dda("0x6c4")]():x[_0x1dda("0xbfd")](_0x1dda("0xf48"),{keyPath:"bids"})[_0x1dda("0x63b")](_0x1dda("0x1288"),[_0x1dda("0x624")],{unique:!0});x.objectStoreNames[_0x1dda("0x49c")]("bimSets")?a[_0x1dda("0xbe3")](_0x1dda("0x1272"))[_0x1dda("0x6c4")]():x.createObjectStore(_0x1dda("0x1272"),{keyPath:"id"})[_0x1dda("0x63b")](_0x1dda("0x1288"),[_0x1dda("0x624")],{unique:!0})},_[_0x1dda("0xbe6")]=function(){var d=_[_0x1dda("0xbea")];x(d)},_[_0x1dda("0xbe7")]=function(){var d=_[_0x1dda("0xbfe")];console[_0x1dda("0x1eb")](_0x1dda("0xbff"),d),x(!1)}}))}},{key:_0x1dda("0x128a"),value:function(){var d,x=function(d){return new(r[_0x1dda("0xd")])((function(x){var t,i=indexedDB[_0x1dda("0x44a")](d);i[_0x1dda("0xbe7")]=function(d){alert(_0x1dda("0x128c"))},i.onsuccess=function(d){t=d.target[_0x1dda("0xbea")],function(d,_){var t=d.reduce((function(d,x){return d[_0x1dda("0x10")](function(d,x){var a=this;return new(r[_0x1dda("0xd")])((function(_,t){if(null==d)return t();var i=0,n=(d=event[_0x1dda("0x227")][_0x1dda("0xbea")])[_0x1dda("0xbe2")]([x]).objectStore(x).openCursor();n.onsuccess=function(d){var x=d[_0x1dda("0x227")][_0x1dda("0xbea")];if(x){var a=x.value,t=(0,e[_0x1dda("0xd")])(a);i+=t.length,x[_0x1dda("0x63c")]()}else _(i)}.bind(a),n[_0x1dda("0xbe7")]=function(d){t(_0x1dda("0x128b")+x+": "+d)}}))}(_,x)),d}),[]);r.default[_0x1dda("0x641")](t)[_0x1dda("0x2ef")]((function(x){console[_0x1dda("0x1ec")](_0x1dda("0x128d")+_[_0x1dda("0xfc")]+_0x1dda("0x128e")),d[_0x1dda("0xd1")]((function(d,_){console[_0x1dda("0x1ec")](_0x1dda("0x128f")+d+_0x1dda("0x1290")+a(x[_]))}));var e=x[_0x1dda("0x104")]((function(d,x){return d+x}),0);console[_0x1dda("0x1ec")](_0x1dda("0x1291")+a(e))}))[_0x1dda("0x2ef")](x)}([][_0x1dda("0x317")]((0,_[_0x1dda("0xd")])(t[_0x1dda("0xbfb")])),t)}}))},a=function(d){var x=1024;if(Math[_0x1dda("0x2c1")](d)<x)return d+" B";var a=["KB","MB","GB","TB","PB","EB","ZB","YB"],_=-1;do{d/=x,++_}while(Math[_0x1dda("0x2c1")](d)>=x&&_<a[_0x1dda("0x0")]-1);return d[_0x1dda("0x60b")](1)+" "+a[_]},t=(d=(0,n[_0x1dda("0xd")])(i[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(){var a=this;return i[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d[_0x1dda("0x24c")]){case 0:return console[_0x1dda("0x233")](_0x1dda("0x1292")),d[_0x1dda("0x24c")]=3,indexedDB.databases()[_0x1dda("0x2ef")](function(){var d=(0,n[_0x1dda("0xd")])(i.default.mark((function d(_){var e;return i.default[_0x1dda("0x249")]((function(d){for(;;)switch(d[_0x1dda("0x24a")]=d[_0x1dda("0x24c")]){case 0:e=0;case 1:if(!(e<_[_0x1dda("0x0")])){d.next=7;break}return d[_0x1dda("0x24c")]=4,x(_[e][_0x1dda("0xfc")]);case 4:e++,d[_0x1dda("0x24c")]=1;break;case 7:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,a)})));return function(x){return d[_0x1dda("0x5")](this,arguments)}}());case 3:console[_0x1dda("0x1293")](_0x1dda("0x1292"));case 4:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return d[_0x1dda("0x5")](this,arguments)});t()}}]),d}();x.default=h},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=f(a(7)),e=f(a(8)),t=f(a(25)),i=f(a(0)),n=f(a(1)),r=a(31),s=f(a(112)),o=f(a(23)),c=f(a(150)),l=a(26);function f(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var u=null,h=function(){function d(x){var a=this;(0,i[_0x1dda("0xd")])(this,d),this.building=x;var _=x.map[_0x1dda("0xb3")];this[_0x1dda("0xf7")]=_,this[_0x1dda("0x960")]={},this.baseLayers={},this[_0x1dda("0x1294")]={},this[_0x1dda("0x963")]={},this.toHandle={},this[_0x1dda("0x1295")]={},this[_0x1dda("0xce7")]={},this[_0x1dda("0x964")]={},this[_0x1dda("0x1296")]={},this.modelImageDatas=[],this[_0x1dda("0x962")]=[],this[_0x1dda("0x969")]=!1,this[_0x1dda("0xce9")]=new(c[_0x1dda("0xd")])(this);var e=this.scene[_0x1dda("0x42")];e.on(_0x1dda("0x152"),(function(){a[_0x1dda("0xce9")][_0x1dda("0x539")]()}));e.on(_0x1dda("0xa4b"),(function(d){d[_0x1dda("0xb7")]}),null,x.id)}return(0,n.default)(d,[{key:_0x1dda("0x1297"),value:function(d){var x=this;for(var a in x[_0x1dda("0x1296")])if(d>=1*a){if(x.dynamicShows[a][_0x1dda("0x169")]){for(var _=x[_0x1dda("0x1296")][a].queue,e=function(d){var a=_[d][_0x1dda("0x1ba")].geometry,e=a[_0x1dda("0x40c")];a[_0x1dda("0x153")][_0x1dda("0x40c")]=e,a[_0x1dda("0x40d")]();var t=_[d][_0x1dda("0x1298")],i=[];t[_0x1dda("0xd1")]((function(d){i=x[_0x1dda("0xf7")].map[_0x1dda("0x122a")](d[0],d[1],e),e=i})),i[_0x1dda("0xd1")]((function(d){a[_0x1dda("0x16c")](d[_0x1dda("0x21c")],d.count,d[_0x1dda("0x40e")])}));var n=new(THREE[_0x1dda("0x2b5")]);n[_0x1dda("0x169")]=!1,_[d][_0x1dda("0x1ba")][_0x1dda("0xe9")][100]=n},t=0;t<_[_0x1dda("0x0")];t++)e(t);x[_0x1dda("0x1296")][a][_0x1dda("0x169")]=!1}}else if(!x[_0x1dda("0x1296")][a][_0x1dda("0x169")]){var i=x.dynamicShows[a][_0x1dda("0x966")],n=function(d){var x=i[d][_0x1dda("0x1ba")][_0x1dda("0xe7")];if(!x[_0x1dda("0x153")][_0x1dda("0x40c")])return"continue";x.clearGroups(),x[_0x1dda("0x153")].groups[_0x1dda("0xd1")]((function(d){x.addGroup(d[_0x1dda("0x21c")],d.count,d[_0x1dda("0x40e")])}))};for(t=0;t<i[_0x1dda("0x0")];t++){n(t);_0x1dda("0x63c")}x.dynamicShows[a][_0x1dda("0x169")]=!0}}},{key:_0x1dda("0xf4a"),value:function(d){var x=this.building,a=this.progressHandler,_=this.scene,e=x.id,t=x[_0x1dda("0x6e")],i=_[_0x1dda("0x3b0")][_0x1dda("0xea0")][t],n=d[_0x1dda("0x63f")],r=d[_0x1dda("0x123")],s=x.getO3dFloor(r),c=x[_0x1dda("0x1223")][r],l=(x[_0x1dda("0x35")][_0x1dda("0x6f")],d.groups),f=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0xfda")]);s[_0x1dda("0xce")](f[_0x1dda("0x180")]),x.type>=100&&(f.visible=!1);var u=x[_0x1dda("0xa17")],h=!1;h=Array[_0x1dda("0x2f4")](_[_0x1dda("0x42")].options.hideFloorBase)?_.map.options.hideFloorBase.indexOf(r)>-1:_[_0x1dda("0x42")].options[_0x1dda("0x97f")];var g,b=Math[_0x1dda("0x2be")](u[_0x1dda("0x559")]-u[_0x1dda("0x556")],u[_0x1dda("0x55b")]-u[_0x1dda("0x558")]),v=0;for(var p in b>1e3&&(v=b/300),_[_0x1dda("0x42")].on(_0x1dda("0x1299"),(function(d){var x=-d/2.95*v;f[_0x1dda("0x180")]&&(f[_0x1dda("0x180")][_0x1dda("0xfa")].y=x)}),null,e),n){var m=i[_0x1dda("0xee3")][r];null==m&&(m=i[_0x1dda("0xee3")][0]);var A=i[_0x1dda("0xea3")],C=_[_0x1dda("0x3b0")].floorOpacity_,I=null,y=null;m&&((m[_0x1dda("0x138")]||0===m[_0x1dda("0x138")])&&(A=m[_0x1dda("0x138")]),(m[_0x1dda("0x11d")]||0===m.opacity)&&(C=m[_0x1dda("0x11d")]),m[_0x1dda("0x2df")]&&(I=m.image,y=m[_0x1dda("0xde5")])),c[_0x1dda("0x2df")]&&(I=c[_0x1dda("0x2df")],y=c[_0x1dda("0xde5")]);var E,w=new(THREE[_0x1dda("0x3f9")]);w.addAttribute(_0x1dda("0xfa"),new THREE.BufferAttribute(d[_0x1dda("0xfa6")],3)),w[_0x1dda("0x403")](_0x1dda("0x3fd"),new(THREE[_0x1dda("0x402")])(d[_0x1dda("0xd02")],3)),w.addAttribute("uv",new(THREE[_0x1dda("0x402")])(d[_0x1dda("0xd09")],2)),w[_0x1dda("0x403")]("floorUvs",new(THREE[_0x1dda("0x402")])(d[_0x1dda("0x90c")],2)),E=m[_0x1dda("0x822")]?new THREE.MeshLambertMaterial({color:A,transparent:1*C!=1,opacity:C}):new(THREE[_0x1dda("0x2b5")])({color:A,transparent:1*C!=1,opacity:C});var T=new THREE.Mesh(w,[E]);T[_0x1dda("0x3d9")][_0x1dda("0xcd")](Math.PI/2,0,0,_0x1dda("0x3cb")),T[_0x1dda("0xfa")][_0x1dda("0x833")](esmap.ESMapConfiguration[_0x1dda("0x129a")]),T[_0x1dda("0x160")]=esmap.ESRenderOrder.floorBase,T[_0x1dda("0xe5")]={floor:r,FloorNum:r,bid:e,nodeType:esmap[_0x1dda("0x126")][_0x1dda("0xb2c")],bType:2},h&&(E[_0x1dda("0x169")]=!1);var k=[],S=0;if(l[0][_0x1dda("0xd1")]((function(d){var x=0;d.forEach((function(d){k[_0x1dda("0x10")]({start:d[_0x1dda("0x21c")]+S,count:d[_0x1dda("0xfb")],materialIndex:d[_0x1dda("0x40e")]}),x+=d.count})),S+=x})),I&&I.length>1){var M=y[_0x1dda("0x2a")](","),R=[Number(M[0]),Number(M[1])],L=T[_0x1dda("0xe9")][0],D=L[_0x1dda("0x116")]();try{g=void 0,g=o[_0x1dda("0xd")].getPath(_0x1dda("0x5a"),{themeID:t,filename:I,buildingId:x.id}),esmap[_0x1dda("0x86")][_0x1dda("0x5ba")](g,(function(d){!function(d,a){a[_0x1dda("0x840")]=a[_0x1dda("0x841")]=THREE[_0x1dda("0x176")],a[_0x1dda("0x32b")]=_[_0x1dda("0x42")][_0x1dda("0x19f")][_0x1dda("0x32c")][_0x1dda("0x331")][_0x1dda("0x32d")](),a[_0x1dda("0x83f")]=1006,a[_0x1dda("0x174")]=1008;var e=x[_0x1dda("0x8f0")][d],t=(e[_0x1dda("0xec")]-e[_0x1dda("0xf0")])/2+e[_0x1dda("0xf0")],i=(e[_0x1dda("0xed")],e[_0x1dda("0xf1")],e[_0x1dda("0xf1")],x.sourceData[_0x1dda("0xbca")]),n=x[_0x1dda("0xa17")][_0x1dda("0xc96")];Math[_0x1dda("0x2c1")](t),Math[_0x1dda("0x2c1")](i),Math[_0x1dda("0x2c1")](i),Math[_0x1dda("0x2c1")](n);var r=M[2]*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")];a[_0x1dda("0x16d")][_0x1dda("0xcd")](0,0),a[_0x1dda("0x122")][_0x1dda("0xcd")](.5,.5),a[_0x1dda("0x147")][_0x1dda("0xcd")](R[0],R[1]),a.rotation=isNaN(r)?0:r,L[_0x1dda("0x42")]=a,L[_0x1dda("0x138")][_0x1dda("0xcd")](16777215),a[_0x1dda("0x172")]=!0,L[_0x1dda("0x172")]=!0;var s=[L,D];k[_0x1dda("0xd1")]((function(d){w.addGroup(d[_0x1dda("0x21c")],d[_0x1dda("0xfb")],d.materialIndex)})),h&&(s[_0x1dda("0x169")]=!1),T[_0x1dda("0xe9")]=s}(r,d)}),null,(function(){w[_0x1dda("0x40d")](),w[_0x1dda("0x16c")](0,w[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],0)}))}catch(d){w[_0x1dda("0x40d")](),w[_0x1dda("0x16c")](0,w[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],0)}}else w.addGroup(0,w[_0x1dda("0xf9")][_0x1dda("0xfa")].count,0);w[_0x1dda("0x153")][_0x1dda("0x40c")]=k,f.o3d_.add(T),!_[_0x1dda("0x42")][_0x1dda("0x35")].disableIndoorClick&&_[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3ae")](T,e),_[_0x1dda("0x42")][_0x1dda("0xda")](_0x1dda("0x1249"),{fnum:r,type:_0x1dda("0x129b")})}x[_0x1dda("0xcc2")][r].floorBase--,x.checkLoadedAll(r),a.pop(_0x1dda("0xdb6")+r),d[_0x1dda("0xd02")]=null,d[_0x1dda("0xd09")]=null,d[_0x1dda("0x129c")]=null,d[_0x1dda("0xfa6")]=null,d[_0x1dda("0x63f")]=null,d=null}},{key:"mergeExcludes",value:function(d){for(var x=0;x<d[_0x1dda("0x0")];x++){var a=d[x],_=d[x+1];_&&a[1]==_[0]&&(d[x][1]=_[1],d[_0x1dda("0x6")](x+1,1),x--)}}},{key:_0x1dda("0xf4b"),value:function(d){var x=this,a=this[_0x1dda("0xf7")],_=d[_0x1dda("0x123")],e=this[_0x1dda("0x52")],i=e.id,n=e[_0x1dda("0x6e")],s=(a[_0x1dda("0x3b0")][_0x1dda("0xea0")][n],d[_0x1dda("0xcf3")]),o=null,c=d[_0x1dda("0x40c")],f=e[_0x1dda("0x122d")](_),u=i+"_"+_+"_"+s,h=a[_0x1dda("0x42")][_0x1dda("0x36")]==esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")];a.map[_0x1dda("0x35")].mergeModels||(u=d[_0x1dda("0x52d")]);var g=this[_0x1dda("0x397")];if(d.types&&f){if(d[_0x1dda("0x129d")]&&d[_0x1dda("0x129d")][_0x1dda("0x0")]>0&&g[_0x1dda("0xd4")](d.errorIds),s)if(this[_0x1dda("0x960")][_])o=this[_0x1dda("0x960")][_];else{var b=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x625")],{});this.modelLayers[_]=b,f[_0x1dda("0xce")](b[_0x1dda("0x180")]),o=b}else if(this[_0x1dda("0xce6")][_])o=this[_0x1dda("0xce6")][_];else{var v=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x9a5")],{});this[_0x1dda("0xce6")][_]=v,f[_0x1dda("0xce")](v.o3d_),o=v}if(o.o3d_){var p=e[_0x1dda("0xa17")][l[_0x1dda("0xbb")]],m=p<32503514?p:p/1e3;if(!((new Date)[_0x1dda("0x85")]()>1e6*m)){var A=d[_0x1dda("0x63f")],C=d.showBase,I=0,y={points:d[_0x1dda("0x129c")],types:{},fnum:_},E=[];for(var w in A){var T=A[w],k=c[w];if(T){var S=w;if(0!=T[_0x1dda("0x424")][_0x1dda("0x0")]||T[_0x1dda("0x8d2")]||T.tubes){S=1==T.brothers[_0x1dda("0x0")]?T[_0x1dda("0x424")][0][_0x1dda("0xcf5")]:T[_0x1dda("0x8d2")]&&T[_0x1dda("0x8d2")][_0x1dda("0x424")][_0x1dda("0x0")]>0?T[_0x1dda("0x8d2")][_0x1dda("0x424")][0][_0x1dda("0xcf5")]:T[_0x1dda("0x129e")]&&T[_0x1dda("0x129e")][_0x1dda("0x424")][_0x1dda("0x0")]>0?T[_0x1dda("0x129e")][_0x1dda("0x424")][0].RoomStyle:T[_0x1dda("0x424")][0][_0x1dda("0xcf5")];var M,R,L,D,H,P,O,B,F,N,z=a[_0x1dda("0x3b0")][_0x1dda("0x1286")](n,S,""),j={},U=a[_0x1dda("0x3b0")][_0x1dda("0xef0")](n,S);if(j[_0x1dda("0x560")]=S,j[_0x1dda("0xcfa")]=U,j.id=d.isMerge?S:w,j.groupIndex=T[_0x1dda("0xcfb")],y[_0x1dda("0x63f")][w]=j,T[_0x1dda("0xcfb")],0!=T[_0x1dda("0x424")][_0x1dda("0x0")])!function(){M=[],R=new(THREE[_0x1dda("0x3f9")]),L=d.vertices[_0x1dda("0x504")](3*I,3*(I+T[_0x1dda("0xd01")])),D=d.normals[_0x1dda("0x504")](3*I,3*(T.groupIndex+I)),d[_0x1dda("0x535")]&&(H=d.isHideFlags[_0x1dda("0x504")](I,I+T[_0x1dda("0xd01")])),d[_0x1dda("0x9e3")]&&(P=d[_0x1dda("0x9e3")][_0x1dda("0x504")](I,I+T[_0x1dda("0xd01")])),O=d[_0x1dda("0xd09")][_0x1dda("0x504")](2*I,2*(T[_0x1dda("0xd01")]+I)),R[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(L,3)),R.addAttribute(_0x1dda("0x3fd"),new(THREE[_0x1dda("0x402")])(D,3)),R[_0x1dda("0x403")]("uv",new(THREE[_0x1dda("0x402")])(O,2)),H&&R[_0x1dda("0x403")](_0x1dda("0x535"),new(THREE[_0x1dda("0x402")])(H,1)),P&&R.addAttribute(_0x1dda("0x9e3"),new(THREE[_0x1dda("0x402")])(P,1)),d[_0x1dda("0xd08")]&&(B=d[_0x1dda("0xd08")][_0x1dda("0x504")](2*I,2*(T[_0x1dda("0xd01")]+I)),R[_0x1dda("0x403")](_0x1dda("0x4f9"),new(THREE[_0x1dda("0x402")])(B,2))),R[_0x1dda("0x153")].groupInfo=k,M.push(z),z[_0x1dda("0xfc")]=_0x1dda("0x323"),I+=T[_0x1dda("0xd01")],a.map.options[_0x1dda("0x350")],R[_0x1dda("0x16c")](0,R[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],0),F=new(THREE[_0x1dda("0x182")])(R,M),null!=a.map.options[_0x1dda("0x36e")]?a[_0x1dda("0x42")].options.hideRoomLogoMeshes&&999==S&&(F[_0x1dda("0x169")]=!1,F[_0x1dda("0xe7")][_0x1dda("0x40d")](),F[_0x1dda("0xe7")][_0x1dda("0x8bc")][_0x1dda("0xfb")]=0):999!=S||a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")]||(F[_0x1dda("0x169")]=!1,F[_0x1dda("0xe7")][_0x1dda("0x40d")](),F[_0x1dda("0xe7")].drawRange[_0x1dda("0xfb")]=0),F[_0x1dda("0x153")].selectMatIndex=M[_0x1dda("0x0")]-1,F[_0x1dda("0x3d9")][_0x1dda("0xcd")](Math.PI/2,0,0,_0x1dda("0x3cb")),F[_0x1dda("0xe5")]={FloorNum:_,brothers:T[_0x1dda("0x424")],RoomStyle:S,o3d_:F,nodeType:esmap[_0x1dda("0x126")][_0x1dda("0x625")],bid:e.id,bType:2},F[_0x1dda("0xfc")]=S,a[_0x1dda("0x42")].options[_0x1dda("0x350")]||(F[_0x1dda("0xe5")].name=T[_0x1dda("0x424")][0][_0x1dda("0xfc")],F[_0x1dda("0xe5")].RoomHigh=T[_0x1dda("0x424")][0].RoomHigh,F.datas_[_0x1dda("0x3a5")]=T[_0x1dda("0x424")][0][_0x1dda("0x3a5")],F[_0x1dda("0xe5")][_0x1dda("0xcf2")]=T[_0x1dda("0x424")][0][_0x1dda("0xcf2")],F.datas_[_0x1dda("0x4d5")]=T[_0x1dda("0x424")][0][_0x1dda("0x4d5")],F[_0x1dda("0xe5")][_0x1dda("0x1e7")]=T[_0x1dda("0x424")][0][_0x1dda("0x1e7")]),N={};var t=[];T[_0x1dda("0x424")][_0x1dda("0xd1")]((function(d){t.push(d.ID),h&&(d[_0x1dda("0x1e7")]=a[_0x1dda("0x42")][_0x1dda("0xa04")][_0x1dda("0xd89")](d[_0x1dda("0x1e7")],e)),d.bType=2,d[_0x1dda("0x180")]=F;var _=R[_0x1dda("0x153")][_0x1dda("0x536")][d.ID][1];d.sideRange=[_.start,_[_0x1dda("0x21c")]+_.count],d[_0x1dda("0xcf2")]>=3&&(x[_0x1dda("0xce7")][d.ID]=F);var i=d[_0x1dda("0x3a5")];0!=i&&24!=i&&(N[i]||(N[i]={model:F,excludes:[]}),N[i][_0x1dda("0x1298")][_0x1dda("0x10")](d[_0x1dda("0xff")]),x[_0x1dda("0x129f")](N[i].excludes))})),E.push(N),F[_0x1dda("0xa99")]=!1,F[_0x1dda("0x160")]=1==s?esmap[_0x1dda("0x161")][_0x1dda("0x1ba")]:esmap.ESRenderOrder[_0x1dda("0x1ba")],o[_0x1dda("0x180")][_0x1dda("0xce")](F),g[_0x1dda("0xd4")](t),(C||d[_0x1dda("0xcf3")])&&!a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xcc1")]&&a[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x3ae")](F,i)}();var X=A[w].planes;if(X&&0!=X.brothers[_0x1dda("0x0")]){var Y=[z],G=[];X[_0x1dda("0xcf0")][_0x1dda("0xd1")]((function(d){G.push(d.geometry)}));for(var Q=r[_0x1dda("0x3ff")][_0x1dda("0x514")](G,!0),V=Q[_0x1dda("0x40c")],W=0;W<V[_0x1dda("0x0")];W++)V[W][_0x1dda("0x40e")]=0;Q[_0x1dda("0x40d")](),Q[_0x1dda("0x16c")](0,Q[_0x1dda("0x292")][_0x1dda("0xfb")],0);var Z=new THREE.Mesh(Q,Y);Z[_0x1dda("0xfc")]="plane",Z[_0x1dda("0x153")][_0x1dda("0xcf1")]=Y.length-1,Z[_0x1dda("0x3d9")][_0x1dda("0xcd")](Math.PI/2,0,0,_0x1dda("0x3cb")),Z[_0x1dda("0x153")][_0x1dda("0x40c")]=V;for(var J=0;J<X[_0x1dda("0x424")][_0x1dda("0x0")];J++){var K=X[_0x1dda("0x424")][J];X[_0x1dda("0x424")][J][_0x1dda("0x180")]=Z,K.TextureType>=3&&(x[_0x1dda("0xce7")][K.ID]=Z,K[_0x1dda("0x425")]=[0,0]),h&&(K[_0x1dda("0x1e7")]=a.map.buildingService[_0x1dda("0xd89")](K.mapCoord,e)),K.bType=2}Z[_0x1dda("0xe5")]={FloorNum:_,bid:e.id,brothers:X[_0x1dda("0x424")],o3d_:F,nodeType:esmap[_0x1dda("0x126")][_0x1dda("0x625")],bType:2},Z[_0x1dda("0xa99")]=!1,Z.renderOrder=esmap[_0x1dda("0x161")][_0x1dda("0x1ba")],null!=a[_0x1dda("0x42")].options[_0x1dda("0x36e")]?a.map.options.hideRoomLogoMeshes&&999==S&&(Z.visible=!1,modelMmodelMesh2esh[_0x1dda("0xe7")][_0x1dda("0x40d")](),Z[_0x1dda("0xe7")].drawRange[_0x1dda("0xfb")]=0):999!=S||a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")]||(Z[_0x1dda("0x169")]=!1,Z[_0x1dda("0xe7")][_0x1dda("0x40d")](),Z.geometry.drawRange.count=0),o[_0x1dda("0x180")][_0x1dda("0xce")](Z),(C||d[_0x1dda("0xcf3")])&&!a[_0x1dda("0x42")][_0x1dda("0x35")].disableIndoorClick&&a[_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](Z,i)}var q=A[w][_0x1dda("0x129e")];if(q&&q[_0x1dda("0x424")][_0x1dda("0x0")]>0){var $=[z],dd=A[w].tubeData,xd=new(THREE[_0x1dda("0x3f9")]);xd.setIndex(new(THREE[_0x1dda("0x402")])(dd[_0x1dda("0x292")][_0x1dda("0x400")],1)),xd[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(dd[_0x1dda("0xf9")].position[_0x1dda("0x400")],3)),xd[_0x1dda("0x403")](_0x1dda("0x3fd"),new(THREE[_0x1dda("0x402")])(dd.attributes.normal.array,3)),xd[_0x1dda("0x403")]("uv",new THREE.BufferAttribute(dd[_0x1dda("0xf9")].uv[_0x1dda("0x400")],2)),xd[_0x1dda("0x40d")](),xd[_0x1dda("0x16c")](0,xd[_0x1dda("0x292")][_0x1dda("0xfb")],0);for(var ad=new(THREE[_0x1dda("0x182")])(xd,$),_d=[],ed=0;ed<q[_0x1dda("0x424")][_0x1dda("0x0")];ed++)_d.push(q[_0x1dda("0x424")][ed].ID),q[_0x1dda("0x424")][ed].o3d_=ad;ad[_0x1dda("0xe5")]={name:"tube",nodeType:5,brothers:q.brothers,o3d_:ad,bid:e.id,bType:2},!a[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0xcc1")]&&a[_0x1dda("0x42")].mapPicker[_0x1dda("0x3ae")](ad,i),o[_0x1dda("0x180")][_0x1dda("0xce")](ad),g[_0x1dda("0xd4")](_d)}}}}var td,id=a.map.mapTheme[_0x1dda("0xea0")][e.themeID][_0x1dda("0xd26")];if(null!=e[_0x1dda("0x35")][_0x1dda("0xd26")]&&(id=e[_0x1dda("0x35")].modelLines),id){var nd=this[_0x1dda("0xcfc")](y,d.isMerge);E[_0x1dda("0xd1")]((function(d){for(var a in d)x.dynamicShows[a]||(x[_0x1dda("0x1296")][a]={queue:[],visible:!0}),d[a][_0x1dda("0x9f6")]=nd,x.dynamicShows[a][_0x1dda("0x966")][_0x1dda("0x10")](d[a])}))}if(!this[_0x1dda("0x95f")][_]){this[_0x1dda("0x95f")][_]={};var rd=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0x537")],{});f[_0x1dda("0xce")](rd[_0x1dda("0x180")]);var sd=new esmap.ESLayer(esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")]);sd[_0x1dda("0xfc")]=_0x1dda("0x9a2"),f[_0x1dda("0xce")](sd[_0x1dda("0x180")]),this[_0x1dda("0x95f")][_][_0x1dda("0x12a0")]=rd,this.toHandle[_][_0x1dda("0xd1d")]=sd,this.toHandle[_][_0x1dda("0xcf4")]=[],this.toHandle[_][_0x1dda("0x1295")]=[],this[_0x1dda("0x95f")][_][_0x1dda("0x12a1")]={},this[_0x1dda("0x95f")][_][_0x1dda("0x12a2")]=[],this[_0x1dda("0x964")][_]=[]}if(d[_0x1dda("0xd11")]&&d.modelImagesData[_0x1dda("0x0")]>0&&(this.modelImageLoader.setData(u,d[_0x1dda("0xd11")]),this.modelImageLoader[_0x1dda("0x530")](u,this[_0x1dda("0x95f")][_].modelimagelayer.o3d_,{bid:i,bType:2})),d[_0x1dda("0x12a3")]&&(this.toHandle[_][_0x1dda("0x12a2")]=this[_0x1dda("0x95f")][_].bimModelDatas[_0x1dda("0x317")](d[_0x1dda("0x12a3")])),d[_0x1dda("0x12a4")])if(a[_0x1dda("0x42")][_0x1dda("0x35")].mergeModels)(td=this.modelTextureDatas).push.apply(td,(0,t.default)(d[_0x1dda("0x12a4")]));else this[_0x1dda("0x962")][_0x1dda("0x10")](d[_0x1dda("0x12a4")]);this[_0x1dda("0x95f")][_][_0x1dda("0xcf4")]=this[_0x1dda("0x95f")][_].model3data[_0x1dda("0x317")](d[_0x1dda("0x12a5")]),0!=d[_0x1dda("0xd17")][_0x1dda("0x0")]&&this.modelImageLoader[_0x1dda("0xd16")](u,{index:d.modelImageIndex,pos:d.modelImagePos,uv:d[_0x1dda("0xd18")],nor:d.modelImageNor,hideFlags:d[_0x1dda("0xd15")],groups:d[_0x1dda("0x12a6")],groupsCopy:d[_0x1dda("0xd12")],fnum:_}),d.layerType?e.toLoaded[_][_0x1dda("0x1ba")]>0&&e[_0x1dda("0xcc2")][_].model--:e[_0x1dda("0xcc2")][_][_0x1dda("0x5c1")]>0&&e[_0x1dda("0xcc2")][_].modelBase--,e[_0x1dda("0x124a")](_),d[_0x1dda("0xd09")]=null,d.pointGeometrys=null,d[_0x1dda("0xd02")]=null,d[_0x1dda("0xfa6")]=null,d[_0x1dda("0x63f")]=null,this[_0x1dda("0xce9")][u]&&this[_0x1dda("0xce9")][_0x1dda("0x53a")](u)}}}}},{key:_0x1dda("0x12a7"),value:function(d){function x(d,x){x.wrapS=x[_0x1dda("0x841")]=THREE[_0x1dda("0x176")];var a=d[_0x1dda("0xd1f")]*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")];return d.repeatType||x[_0x1dda("0x147")][_0x1dda("0xcd")](d[_0x1dda("0xd2")][0],d.size[1]),x[_0x1dda("0x16d")][_0x1dda("0xcd")](d.offset.x,d[_0x1dda("0x16d")].y),x[_0x1dda("0x3d9")]=isNaN(a)?0:a,x[_0x1dda("0x172")]=!0,x}var a=this[_0x1dda("0xf7")],_=void 0,e=d[0].id,t=d[0].RS,i=this.building[_0x1dda("0x6e")],n=1*a[_0x1dda("0x3b0")][_0x1dda("0xef0")](i,t).alpha,r=this[_0x1dda("0xce7")][e];if(r){r[_0x1dda("0xe7")][_0x1dda("0xf9")].uv[_0x1dda("0x400")],d[0].repeatType&&r[_0x1dda("0xe7")].addAttribute("uv",r.geometry[_0x1dda("0x3fb")](_0x1dda("0x4f9")));var o=a[_0x1dda("0x3b0")][_0x1dda("0xea0")][i].roomStyle[t]?a[_0x1dda("0x3b0")][_0x1dda("0xea0")][i][_0x1dda("0xedd")][t][_0x1dda("0x138")]:a[_0x1dda("0x3b0")][_0x1dda("0xea0")][i][_0x1dda("0xedd")][0][_0x1dda("0x138")];o.indexOf("#")<0&&(o=esmap[_0x1dda("0x86")][_0x1dda("0x602")](o));var c=new(s[_0x1dda("0xd")])({colorStr:o});c.computeTopFaceAttr(r),r[_0x1dda("0x153")][_0x1dda("0x12a9")]=!0;var l=r[_0x1dda("0xe9")][0].color[_0x1dda("0xb19")]();if(1==d[_0x1dda("0x0")]){var f=d[0],u=a[_0x1dda("0x42")][_0x1dda("0x7d")][_0x1dda("0x32f")].roomTexturePool[f[_0x1dda("0x51c")]].clone();u=x(f,u);var h=document[_0x1dda("0x20")]("canvas");h[_0x1dda("0x1a5")]=16,h.height=16;var g=h.getContext("2d");g[_0x1dda("0x304")]=l,g[_0x1dda("0x913")](0,0,16,16);var b=new(THREE[_0x1dda("0x329")])(h);b[_0x1dda("0x172")]=!0,3==f[_0x1dda("0xcf2")]?(_=c.createMaterial({topTexture:u,sideTexture:b})).name=_0x1dda("0x427"):(_=c[_0x1dda("0x426")]({topTexture:b,sideTexture:u}))[_0x1dda("0xfc")]=_0x1dda("0x428"),_.userData[_0x1dda("0x255")]=f,_[_0x1dda("0x172")]=!0,r[_0x1dda("0xe9")]=[_]}else{var v=d[0],p=a.map[_0x1dda("0x7d")][_0x1dda("0x32f")][_0x1dda("0xd96")][v[_0x1dda("0x51c")]][_0x1dda("0x116")]();p=x(v,p);var m,A,C=d[1],I=a[_0x1dda("0x42")][_0x1dda("0x7d")].ResourcePool[_0x1dda("0xd96")][C[_0x1dda("0x51c")]][_0x1dda("0x116")]();I=x(C,I),3==v[_0x1dda("0xcf2")]?(m=p,A=I):(m=I,A=p),(_=c[_0x1dda("0x426")]({topTexture:m,sideTexture:A}))[_0x1dda("0x172")]=!0,_[_0x1dda("0xfc")]=_0x1dda("0x12aa"),_[_0x1dda("0x153")][_0x1dda("0x255")]=v,r[_0x1dda("0xe9")]=[_]}n<1&&(_.transparent=!0,_.opacity=n),r[_0x1dda("0xe7")].attributes.uv.array}else console[_0x1dda("0x1eb")](esmap[_0x1dda("0x24d")][_0x1dda("0x12a8")]+":"+e)}},{key:_0x1dda("0xd19"),value:function(){var d,x=(d=(0,e[_0x1dda("0xd")])(_[_0x1dda("0xd")][_0x1dda("0x2b7")]((function d(){var x,e;return _[_0x1dda("0xd")][_0x1dda("0x249")]((function(d){for(;;)switch(d.prev=d.next){case 0:d.t0=_[_0x1dda("0xd")][_0x1dda("0xa18")](i.floorNums);case 1:if((d.t1=d.t0())[_0x1dda("0x3d5")]){d[_0x1dda("0x24c")]=10;break}if(x=d.t1[_0x1dda("0xd8")],e=i[_0x1dda("0x634")][x],a[_0x1dda("0x95f")][e]){d[_0x1dda("0x24c")]=6;break}return d[_0x1dda("0x24e")](_0x1dda("0x63c"),1);case 6:r(e),n(e),d[_0x1dda("0x24c")]=1;break;case 10:i[_0x1dda("0x9f")]>=100&&i[_0x1dda("0x22c")].handleBims();case 11:case _0x1dda("0x267"):return d[_0x1dda("0x18d")]()}}),d,this)}))),function(){return d[_0x1dda("0x5")](this,arguments)}),a=this,t=a[_0x1dda("0xf7")],i=this[_0x1dda("0x52")];function n(d){var x=a[_0x1dda("0x95f")][d][_0x1dda("0x12a2")],_=[];for(var e in x){var t=x[e];_[_0x1dda("0x10")](a[_0x1dda("0x12ab")](t))}for(a[_0x1dda("0x95f")][d][_0x1dda("0x12a2")]=[];_[_0x1dda("0x0")]>0;){var n=_.shift();i.modelLoadManager[_0x1dda("0x1257")](n)}}function r(d){var x=a[_0x1dda("0x95f")][d][_0x1dda("0xcf4")],_=t[_0x1dda("0x42")][_0x1dda("0x94b")]?t[_0x1dda("0x42")][_0x1dda("0x60a")].target:t[_0x1dda("0x42")].controls.target,e=[];for(var n in x){var r=a[_0x1dda("0xd1a")](x[n],d);delete a[_0x1dda("0x95f")][d].model3data[n],r&&(r.rank>28?i[_0x1dda("0x22c")].addMapModel(r):(r.viewrank=r.position[_0x1dda("0x117")](_),e[_0x1dda("0x10")](r)))}for(e.sort((function(d,x){return d[_0x1dda("0xd1c")]-x[_0x1dda("0xd1c")]}));e[_0x1dda("0x0")]>0;){var s=e[_0x1dda("0x4")]();i[_0x1dda("0x22c")].addMapModel(s)}i[_0x1dda("0x22c")].mapModelLoadStatus[d]=!0}x()[_0x1dda("0x2ef")]((function(){a[_0x1dda("0x969")]||(t[_0x1dda("0x42")].on(_0x1dda("0x152"),(function(){a[_0x1dda("0x12ac")](),t[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x34e")]?(t.map.firstPersonControls[_0x1dda("0x6b9")]&&(u=setTimeout((function(){i.modelLoadManager.queueRanked=!1,i[_0x1dda("0x22c")][_0x1dda("0x297")]=!1,u&&window[_0x1dda("0x22e")](u)}),100)),i[_0x1dda("0x22c")][_0x1dda("0xcc7")](),i[_0x1dda("0x22c")][_0x1dda("0xf39")](),i[_0x1dda("0x22c")][_0x1dda("0xccb")]()):(i[_0x1dda("0x22c")][_0x1dda("0xf39")](),i.modelLoadManager[_0x1dda("0xccb")]())}),null,i.id),a.modelManagerStarted=!0)}))}},{key:"loadImageLogo",value:function(d,x){var a=this,_=a[_0x1dda("0xf7")],e=d[_0x1dda("0x123")],t=this[_0x1dda("0x52")],i=_[_0x1dda("0x42")][_0x1dda("0x7d")].ResourcePool.modelImageTexturePool[d[_0x1dda("0x51c")]],n=this.progressHandler;_[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x51e")]&&(THREE[_0x1dda("0x1fa")][_0x1dda("0x51f")](i.image[_0x1dda("0x1a5")])&&THREE[_0x1dda("0x1fa")][_0x1dda("0x51f")](i[_0x1dda("0x2df")][_0x1dda("0x18b")])||(i[_0x1dda("0x174")]=THREE.NearestFilter,i[_0x1dda("0x32e")]=!1,i[_0x1dda("0x521")].length=0,i[_0x1dda("0x172")]=!0));var r=t[_0x1dda("0x35")].mergeModels?d[_0x1dda("0xcf3")]:d.id,s=a.toHandle[e][_0x1dda("0x12a1")][r][_0x1dda("0xe9")],o=d.matindex,c=_[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x37a")];if(t.options[_0x1dda("0x350")]||(a[_0x1dda("0x95f")][e][_0x1dda("0x12a1")][r][_0x1dda("0xe5")][_0x1dda("0x1e7")]={x:d[_0x1dda("0x522")].x,y:d[_0x1dda("0x522")].y}),!s[o]){var l=new(THREE[_0x1dda("0x2b5")])({transparent:!0,side:THREE[_0x1dda("0x14a")],depthWrite:!0,map:i});l.onBeforeCompile=function(d){d.vertexShader=d[_0x1dda("0x13e")][_0x1dda("0x13f")](_0x1dda("0x432"),_0x1dda("0x523")),d[_0x1dda("0x13e")]=d[_0x1dda("0x13e")][_0x1dda("0x13f")](_0x1dda("0x524"),_0x1dda("0x525")),d[_0x1dda("0x142")]=d[_0x1dda("0x142")].replace(_0x1dda("0x143"),_0x1dda("0x526")),d[_0x1dda("0x142")]=d[_0x1dda("0x142")][_0x1dda("0x13f")]("gl_FragColor = vec4( outgoingLight, diffuseColor.a );",_0x1dda("0x527"))},l.name=d.RoomLogo,l[_0x1dda("0x153")].imgdata=d,l.name[_0x1dda("0xaf")]("jpg")>0?l.transparent=!1:l[_0x1dda("0x84a")]=c,t.focusFloorNum!=e&&t[_0x1dda("0x35")][_0x1dda("0x908")]&&(l[_0x1dda("0x153")][_0x1dda("0x231")]=l[_0x1dda("0x136")],l[_0x1dda("0x153")][_0x1dda("0x11d")]=l.opacity,l.opacity=t[_0x1dda("0x35")][_0x1dda("0x52c")]),t[_0x1dda("0x35")][_0x1dda("0x350")]?s[o]=l:(a.toHandle[e][_0x1dda("0x12a1")][r].material[_0x1dda("0x10")](l),a[_0x1dda("0x95f")][e][_0x1dda("0x12a1")][r][_0x1dda("0xe5")][_0x1dda("0x52d")]=d.id,a[_0x1dda("0x95f")][e][_0x1dda("0x12a1")][r][_0x1dda("0xe5")][_0x1dda("0x51c")]=d[_0x1dda("0x51c")]),n[_0x1dda("0xd5")](d.id)}}},{key:_0x1dda("0x12ac"),value:function(){var d=this,x=this[_0x1dda("0xf7")];if(d[_0x1dda("0x962")][_0x1dda("0x0")]>0)for(var a=0;a<d.modelTextureDatas[_0x1dda("0x0")];a++)if(0!=d[_0x1dda("0x962")][a][_0x1dda("0x0")]){for(var _=!0,e=0;e<d[_0x1dda("0x962")][a].length;e++){var t=d[_0x1dda("0x962")][a][e];if(!x.map[_0x1dda("0x7d")][_0x1dda("0x32f")][_0x1dda("0xd96")][t[_0x1dda("0x51c")]]){if(null!==x.map[_0x1dda("0x7d")][_0x1dda("0x32f")][_0x1dda("0xd96")][t[_0x1dda("0x51c")]]){_=!1;break}d.modelTextureDatas[a][_0x1dda("0x6")](e,1),e--}}_&&d[_0x1dda("0x962")][a][_0x1dda("0x0")]>0&&(d[_0x1dda("0x12a7")](d[_0x1dda("0x962")][a]),d.modelTextureDatas[_0x1dda("0x6")](a,1),a--)}else d.modelTextureDatas.splice(a,1),a--}},{key:"convertBimData",value:function(d){if(d.position={x:-d.x,z:d.y},d[_0x1dda("0x106")]=6,d[_0x1dda("0x1d7")]){var x=d[_0x1dda("0x1d7")][_0x1dda("0x2a")](",");d.scale=new(THREE[_0x1dda("0x11c")])(1*x[0],1*x[1],1*x[2])}else d.scale=new(THREE[_0x1dda("0x11c")])(1,1,1);return d[_0x1dda("0x3d9")]||(d[_0x1dda("0x3d9")]=new(THREE[_0x1dda("0x11c")])(0,0,0)),d}},{key:"loadModel",value:function(d,x,a){var _,e=this[_0x1dda("0xf7")],t=this[_0x1dda("0x52")],i=this[_0x1dda("0x52")].id,n=(e.map[_0x1dda("0x35")][_0x1dda("0x43")],this[_0x1dda("0x397")]),r=e[_0x1dda("0x42")][_0x1dda("0x35")].editMode,s=e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x44")]+e[_0x1dda("0x42")][_0x1dda("0xa90")]+_0x1dda("0x12ad")+d.model[_0x1dda("0x13f")](_0x1dda("0xae"),"")+_0x1dda("0xae"),c="low"==e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x376")]&&!e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x1cc")],l=d[_0x1dda("0x1ba")].replace(_0x1dda("0xae"),"");(s=(s=o[_0x1dda("0xd")][_0x1dda("0x67")](_0x1dda("0x5e"),{filename:l,buildingId:i,modeltoken:e[_0x1dda("0x42")][_0x1dda("0xc3e")]}))[_0x1dda("0x13f")](/([^:]\/)\/+/g,"$1"),a)?_=a:_=this[_0x1dda("0x95f")][x]?this[_0x1dda("0x95f")][x].rmodellayer[_0x1dda("0x180")]:e.o3dFloors_[x][_0x1dda("0xe5")].getLayersByTypes(esmap[_0x1dda("0x39a")][_0x1dda("0x1b5")])[0][_0x1dda("0x180")];if(e[_0x1dda("0x42")][_0x1dda("0x35")][_0x1dda("0x36b")]&&d[_0x1dda("0x1ba")]){if(1*d.top==3){var f=d.roomdata[_0x1dda("0x121")].map((function(d){return d.x*=-1,d})),u=d[_0x1dda("0x16d")][_0x1dda("0x2a")](",")[1];return new(esmap[_0x1dda("0x5f4")])({type:_0x1dda("0x52"),useCrst:!1,merge:!0,bid:i,model:d[_0x1dda("0x1ba")],fnum:x,bclick:!!r,points:f,gid:d[_0x1dda("0xb18")]||0,error:function(d){n[_0x1dda("0xd5")](d.ID),t[_0x1dda("0xcc2")][x].model3D--},created:function(d){n.pop(d.ID),t[_0x1dda("0xcc2")][x].model3D--},repeatset:1,thickset:1,heightset:1,name:d[_0x1dda("0xfc")],id:d.id,height:1*u})[_0x1dda("0x12d")]=i,null}if(c&&d.model.indexOf("__singlemesh")>=0){var h=t[_0x1dda("0x22c")];return h[_0x1dda("0x24b")][d[_0x1dda("0x1ba")]]||h.loadingList[d[_0x1dda("0x1ba")]]||(h[_0x1dda("0x2b1")][d[_0x1dda("0x1ba")]]=!0,t[_0x1dda("0x22c")].preFetchModel3D(d[_0x1dda("0x1ba")],s)),!1}var g=new THREE.Vector3(1,1,1);if(d[_0x1dda("0x1d7")]){var b=d[_0x1dda("0x1d7")][_0x1dda("0x2a")](",");g=new(THREE[_0x1dda("0x11c")])(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]))}var v=0;if(d[_0x1dda("0xd1f")]){var p=Math.PI/180,m=d[_0x1dda("0xd1f")][_0x1dda("0x2a")](",");v=1*m[1];var A=new THREE.Euler(parseFloat(m[0])*p,parseFloat(m[1])*p,parseFloat(m[2])*p)}var C=new(THREE[_0x1dda("0x11c")])(d.x,d.y,0),I=new(THREE[_0x1dda("0x11c")])(-d.x-e[_0x1dda("0x2a8")],0,d.y-e[_0x1dda("0x2a9")]);if(e[_0x1dda("0x42")][_0x1dda("0x36")]===esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")]&&(I=new(THREE[_0x1dda("0x11c")])(-d.x-t[_0x1dda("0xa17")].DefaultCenX,0,d.y-t[_0x1dda("0xa17")][_0x1dda("0xc96")]),C=e[_0x1dda("0x42")][_0x1dda("0x1db")](I,t)),d[_0x1dda("0x16d")]){var y=d[_0x1dda("0x16d")].split(",");I.x+=parseFloat(y[0]),I.y+=parseFloat(y[1]),I.z+=parseFloat(y[2]),C.x-=parseFloat(y[0]),C.z+=parseFloat(y[1]),C.y+=parseFloat(y[2])}d.model[_0x1dda("0xaf")](_0x1dda("0xae"))<0&&(d[_0x1dda("0x1ba")]+=_0x1dda("0xae"));var E={brief:d.brief,bid:i,bType:2,rank:d[_0x1dda("0x3c2")],name:d[_0x1dda("0xfc")],dataID:d[_0x1dda("0x1e2")],model:d[_0x1dda("0x1ba")],angle:v,mapId:null,url:s,scale:g,gid:d[_0x1dda("0xb18")]||0,rotation:A,position:I,data_:{CenX:d.x,CenY:d.y,scale:d[_0x1dda("0x1d7")]||null,rotate:d[_0x1dda("0xd1f")]||null,offset:d[_0x1dda("0x16d")]||null},parent:_,id:d.id,bclick:d[_0x1dda("0x3ee")],typeID:d[_0x1dda("0xd1e")][_0x1dda("0x3af")],mapCoord:C,callbackparams:d[_0x1dda("0xcd8")]||null,callback:function(){},fnum:x};return r&&(E[_0x1dda("0xd1e")]=d.roomdata),E}}},{key:_0x1dda("0xcfc"),value:function(d,x){var a,_=d[_0x1dda("0x123")];d.id;this[_0x1dda("0x963")][_]?a=this[_0x1dda("0x963")][_]:((a=new(esmap[_0x1dda("0x399")])(esmap[_0x1dda("0x39a")][_0x1dda("0xd21")],{}))[_0x1dda("0xfc")]="modelLines",this[_0x1dda("0x52")][_0x1dda("0x122d")](_)[_0x1dda("0xce")](a[_0x1dda("0x180")]),this[_0x1dda("0x963")][_]=a);var e=d.types;if(x){var t=new(THREE[_0x1dda("0x3f9")]);t.addAttribute("position",new(THREE[_0x1dda("0x402")])(d[_0x1dda("0x121")],3));var i=[],n=0;for(var r in e){var s=e[r][_0x1dda("0xcfa")],o={precision:_0x1dda("0xac1"),color:s.strokeColor_,linewidth:s[_0x1dda("0xd25")]>5?5:s.strokewidth},c=new THREE.LineBasicMaterial(o);c[_0x1dda("0xfc")]=r,i[_0x1dda("0x10")](c),t[_0x1dda("0x16c")](n,e[r][_0x1dda("0xd01")],i[_0x1dda("0x0")]-1),e[r][_0x1dda("0xd22")]=n,n+=e[r][_0x1dda("0xd01")],1*r==999&&(c[_0x1dda("0x169")]=!1)}var l=new(THREE[_0x1dda("0x85d")])(t,i);return l[_0x1dda("0xa99")]=!1,l[_0x1dda("0xe5")]={nodeType:esmap.ESNodeType[_0x1dda("0x127")],id:1},l[_0x1dda("0x3d9")].set(Math.PI/2,0,0,_0x1dda("0x3cb")),l[_0x1dda("0x160")]=esmap.ESRenderOrder.lineObject,l.userData[_0x1dda("0x536")]=e,a[_0x1dda("0x180")][_0x1dda("0xce")](l),l}if(0!=d[_0x1dda("0x121")][_0x1dda("0x0")]){for(var f in e){var u=new(THREE[_0x1dda("0x3f9")]),h=0,g=d.points.subarray(3*h,3*(h+e[f].groupIndex));u[_0x1dda("0x403")](_0x1dda("0xfa"),new(THREE[_0x1dda("0x402")])(g,3));var b=e[f][_0x1dda("0xcfa")],v=[],p={precision:_0x1dda("0xac1"),color:b[_0x1dda("0xd24")],linewidth:b[_0x1dda("0xd25")]>5?5:b.strokewidth},m=new(THREE[_0x1dda("0x869")])(p);v[_0x1dda("0x10")](m),u[_0x1dda("0x16c")](h,e[f][_0x1dda("0xd01")],v[_0x1dda("0x0")]-1),h+=e[f].groupIndex;var A=new(THREE[_0x1dda("0x85d")])(u,v);A[_0x1dda("0xa99")]=!1,A[_0x1dda("0xe5")]={nodeType:esmap[_0x1dda("0x126")][_0x1dda("0x127")],id:1*e[f].id,bid:this[_0x1dda("0x52")].id,bType:2},A[_0x1dda("0x3d9")].set(Math.PI/2,0,0,"XYZ"),A.renderOrder=esmap[_0x1dda("0x161")][_0x1dda("0xd23")],1*f==999&&(m[_0x1dda("0x169")]=!1,u[_0x1dda("0x40d")](),u.drawRange[_0x1dda("0xfb")]=0),a[_0x1dda("0x180")][_0x1dda("0xce")](A)}return A}}},{key:"progressHandler",get:function(){return this.building.progressHandler}}]),d}();x[_0x1dda("0xd")]=h},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=n(a(2)),e=n(a(0)),t=n(a(1)),i=a(18);function n(d){return d&&d.__esModule?d:{default:d}}var r=function(){function d(x){(0,e.default)(this,d);var a=(0,_[_0x1dda("0xd")])({id:1,bid:0,showLevel:null,style:{alpha:.8,lineType:esmap[_0x1dda("0x98d")].FULL,isMapRoad:0},renderOrder:esmap[_0x1dda("0x161")][_0x1dda("0xd23")]},x);this[_0x1dda("0x8ec")]=esmap.ESMap[_0x1dda("0x34")],this.ID=a.id||0,this.name=a.name||"",this[_0x1dda("0x121")]=a[_0x1dda("0x121")]||[],this.style=a[_0x1dda("0x120")]||this.map_.mapTheme[_0x1dda("0x987")],this.o3d_=new(THREE[_0x1dda("0x384")]),this[_0x1dda("0x180")].name=_0x1dda("0xfd"),this[_0x1dda("0x180")][_0x1dda("0xe5")]=this,this[_0x1dda("0x106")]=esmap[_0x1dda("0x126")][_0x1dda("0xe8d")],this[_0x1dda("0x35")]=a,this[_0x1dda("0x2db")]={showLevel:null,minShowLevel:null,maxShowLevel:null,visibleLock:!1,isCityMode:!1,eventId:(0,i[_0x1dda("0x1a")])(8)},this.showLevel=a.showLevel,this[_0x1dda("0x1df")]()}return(0,t[_0x1dda("0xd")])(d,[{key:"dispose",value:function(){for(var d=this[_0x1dda("0x180")][_0x1dda("0xe6")],x=d[_0x1dda("0x0")]-1;x>=0;x--)this[_0x1dda("0x180")][_0x1dda("0x181")](d[x]);this[_0x1dda("0x180")].parent&&this.o3d_[_0x1dda("0xfe")].remove(this[_0x1dda("0x180")])}},{key:_0x1dda("0x1df"),value:function(){var d=this;this[_0x1dda("0x2db")].isCityMode=this[_0x1dda("0x8ec")].mode===esmap[_0x1dda("0x1b7")][_0x1dda("0x3a")];var x=function(x){var a=x,_=d[_0x1dda("0x2db")],e=_[_0x1dda("0x2f5")],t=_[_0x1dda("0x2e2")],i=_[_0x1dda("0x2e1")],n=_[_0x1dda("0x2e3")];if(null!==d.showLevel&&!n){var r=d[_0x1dda("0x35")][_0x1dda("0x2e5")];if(i||!r)if(null!=e&&null!=t){if(a<e||a>t)return void(d[_0x1dda("0x169")]=!1);d.visible=!0}else null!=t&&null===e&&(d[_0x1dda("0x169")]=!(a<t));else{if(a=d[_0x1dda("0x12ae")],null!=e&&a<e)return void(d[_0x1dda("0x169")]=!1);d[_0x1dda("0x169")]=!(a>t)}}};this[_0x1dda("0x8ec")].on("zoomed",x,null,this[_0x1dda("0x8ec")].id),this[_0x1dda("0x180")][_0x1dda("0x30")](_0x1dda("0x2e9"),(function(){x(d[_0x1dda("0x8ec")][_0x1dda("0x2ea")])})),this[_0x1dda("0x8ec")].on(_0x1dda("0xc9e"),(function(x){for(var a=d[_0x1dda("0x180")][_0x1dda("0xe6")],_=x[_0x1dda("0x42")]((function(d){return d.id})),e=0;e<a[_0x1dda("0x0")];e++){var t=a[e],i=t[_0x1dda("0x12d")];i.indexOf(_0x1dda("0x98f"))>-1&&(i=i.split(_0x1dda("0x98f"))[0]),_[_0x1dda("0xaf")](i)>-1?t.visible=!0:t.visible=!1}}))}},{key:_0x1dda("0x12af"),value:function(d){if(this[_0x1dda("0x120")][_0x1dda("0x179")]==esmap[_0x1dda("0x98d")][_0x1dda("0x11a")]){var x=this.style[_0x1dda("0x151")],a=this[_0x1dda("0x180")][_0x1dda("0xe6")][0],e={time:.3,percent:1,arrow:this[_0x1dda("0x120")][_0x1dda("0x158")]||!1,onComplete:null};(0,_[_0x1dda("0xd")])(e,d),0==e[_0x1dda("0x12b0")]&&(e[_0x1dda("0x12b0")]=.001);var t=e[_0x1dda("0x233")],i=e[_0x1dda("0x12b0")],n=e[_0x1dda("0x158")],r=a[_0x1dda("0xe7")][_0x1dda("0xd7")];if(this.style[_0x1dda("0x14c")]==_0x1dda("0x14d")){var s=a[_0x1dda("0xe7")][_0x1dda("0x153")].trueRadius;new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])({value:r}).to({value:i},1e3*t)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")].Quadratic.Out).onComplete((function(){e[_0x1dda("0x192")]&&e[_0x1dda("0x192")]()}))[_0x1dda("0x162")]((function(d){a[_0x1dda("0xe7")].update(a.pathPointList,{radius:s,arrow:n,progress:d[_0x1dda("0xd8")]}),a.geometry[_0x1dda("0xd7")]=d[_0x1dda("0xd8")],x&&a.updateLineWidth()}))[_0x1dda("0x21c")]()}else{var o=a[_0x1dda("0xe7")][_0x1dda("0x153")][_0x1dda("0x154")];new(esmap[_0x1dda("0x190")].Tween)({value:r}).to({value:i},1e3*t)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")])[_0x1dda("0x192")]((function(){e[_0x1dda("0x192")]&&e.onComplete()}))[_0x1dda("0x162")]((function(d){a[_0x1dda("0xe7")][_0x1dda("0x152")](a[_0x1dda("0x150")],{width:o,arrow:n,progress:d.value}),a[_0x1dda("0xe7")][_0x1dda("0xd7")]=d[_0x1dda("0xd8")],x&&a[_0x1dda("0x168")]()}))[_0x1dda("0x21c")]()}}}},{key:_0x1dda("0x2a2"),value:function(){this[_0x1dda("0x121")][_0x1dda("0x2a2")](),this[_0x1dda("0xfb5")](this[_0x1dda("0x121")])}},{key:_0x1dda("0x12b1"),value:function(d){var x=d[_0x1dda("0x12b0")],a=void 0===x?.5:x,_=d.isFront,e=void 0===_||_,t=d.alpha,i=void 0===t?.5:t,n=this[_0x1dda("0x180")][_0x1dda("0xe6")][0];n&&(n[_0x1dda("0x12b2")][_0x1dda("0x12b1")]={alpha:i,isFront:e},n.passPercent=a,n[_0x1dda("0x12b3")]=!0)}},{key:"updatePoints",value:function(d){var x=this[_0x1dda("0x8ec")][_0x1dda("0x9bc")](d)[0];esmap[_0x1dda("0x86")].interpolatePoints(x);var a=void 0,_=this[_0x1dda("0x120")];this[_0x1dda("0x121")]=d,a=_.curvature?esmap.ESMapSceneUtil[_0x1dda("0x657")](x,8,_.curvature):x,this[_0x1dda("0x180")][_0x1dda("0xe6")][0].updateGeometry(a)}},{key:_0x1dda("0xfc2"),value:function(d){this[_0x1dda("0x180")][_0x1dda("0xe6")][0][_0x1dda("0xfc2")](d)}},{key:_0x1dda("0x12b4"),value:function(d){var x=this.o3d_.children[0];x&&(x[_0x1dda("0x9f4")]?x[_0x1dda("0x138")]=d:x.updateColor(d))}},{key:"updateHeight",value:function(d){var x={height:5,time:.6};d instanceof Object?x=(0,_[_0x1dda("0xd")])(x,d):isNaN(d)||(x[_0x1dda("0x18b")]=d);var a=this[_0x1dda("0x180")][_0x1dda("0xe6")][0],e=x[_0x1dda("0x18b")];this.updateHeightId_&&this.updateHeightId_.stop(),this[_0x1dda("0x12b5")]=new(esmap[_0x1dda("0x190")][_0x1dda("0x18e")])(a[_0x1dda("0xfa")]).to({y:e},1e3*x.time)[_0x1dda("0x18f")](esmap[_0x1dda("0x190")][_0x1dda("0x193")].Quadratic[_0x1dda("0x194")])[_0x1dda("0x192")]((function(){}))[_0x1dda("0x21c")]()}},{key:_0x1dda("0x160"),get:function(){return this[_0x1dda("0x180")][_0x1dda("0x160")]},set:function(d){this[_0x1dda("0x180")][_0x1dda("0x160")]=d,this.o3d_[_0x1dda("0x153")][_0x1dda("0x160")]=d,this[_0x1dda("0x180")][_0x1dda("0xf8")]((function(x){x[_0x1dda("0x2")]("renderOrder")&&(x[_0x1dda("0x160")]=d)}))}},{key:_0x1dda("0x1cd"),set:function(d){null!==d&&(this[_0x1dda("0x2db")][_0x1dda("0x1cd")]=d,Array[_0x1dda("0x2f4")](d)?(this[_0x1dda("0x2db")][_0x1dda("0x2f5")]=d[0],this[_0x1dda("0x2db")].maxShowLevel=d[1]):this._props[_0x1dda("0x2e2")]=d)},get:function(){return this[_0x1dda("0x2db")][_0x1dda("0x1cd")]}},{key:_0x1dda("0xd7"),get:function(){return this[_0x1dda("0x120")][_0x1dda("0x179")]!=esmap[_0x1dda("0x98d")][_0x1dda("0x11a")]?1:this[_0x1dda("0x180")].children[0][_0x1dda("0xe7")][_0x1dda("0xd7")]}},{key:_0x1dda("0x169"),set:function(d){this[_0x1dda("0x180")][_0x1dda("0x169")]=d},get:function(){return this[_0x1dda("0x180")][_0x1dda("0x169")]}}]),d}();x[_0x1dda("0xd")]=r},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=o(a(60)),e=o(a(2)),t=o(a(20)),i=o(a(98)),n=o(a(12)),r=a(18),s=a(24);function o(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var c=function(d,x,a,_){var e=this,t=esmap[_0x1dda("0x33")][_0x1dda("0x34")];this[_0x1dda("0x608")]=_0x1dda("0x125"),this[_0x1dda("0x123")]=d[0]?d[0][_0x1dda("0x123")]:1;var o=d.map((function(d){var x=d.clone();return x.fnum=d[_0x1dda("0x123")],x.bid=d[_0x1dda("0x12d")],x}));this[_0x1dda("0x12b6")]=_,this[_0x1dda("0x121")]=d,this.bid=d[0][_0x1dda("0x12d")]||0,this[_0x1dda("0x123")]=d[0]&&d[0][_0x1dda("0x123")]||1,this[_0x1dda("0x42")]=t,this.type_=_0x1dda("0x125"),this[_0x1dda("0x120")]=x,this[_0x1dda("0x12b3")]=!1;var c=x;c[_0x1dda("0x12a")]=null==c[_0x1dda("0x12a")]||c[_0x1dda("0x12a")],this[_0x1dda("0x151")]=null!=c[_0x1dda("0x151")]&&c.fixedWidth,this.nodeType=esmap[_0x1dda("0x126")][_0x1dda("0x127")],(a=a||{}).up=a.up||x.up||new(THREE[_0x1dda("0x11c")])(0,1,0),this[_0x1dda("0x120")][_0x1dda("0x147")]=this[_0x1dda("0x120")][_0x1dda("0x147")]||1,this.style[_0x1dda("0x12b7")]=null==this[_0x1dda("0x120")][_0x1dda("0x12b7")]?5:this[_0x1dda("0x120")][_0x1dda("0x12b7")],this[_0x1dda("0x120")].updateSize=null==this[_0x1dda("0x120")][_0x1dda("0x998")]||x[_0x1dda("0x998")],this[_0x1dda("0x120")].updateReapeat=!this.style[_0x1dda("0x2")](_0x1dda("0x12b8"))||this.style.updateReapeat,this[_0x1dda("0x120")].minRepeatLevel=null==this[_0x1dda("0x120")].minRepeatLevel?23:this[_0x1dda("0x120")][_0x1dda("0x12b9")],this[_0x1dda("0x120")][_0x1dda("0x26")]=this.style[_0x1dda("0x26")]||0,this.style.textureOffset=this.style[_0x1dda("0x12ba")]||0,this[_0x1dda("0x12b2")]={splitAlpha:null,splitGray:null},this[_0x1dda("0x12bb")]=!1;var l;if(c[_0x1dda("0x138")]=c[_0x1dda("0x2")](_0x1dda("0x138"))?c.color:16711680,(0,n[_0x1dda("0xd")])(c[_0x1dda("0x138")])===_0x1dda("0x177"))c[_0x1dda("0x138")]=this[_0x1dda("0x178")](c[_0x1dda("0x138")]);c[_0x1dda("0x5db")]||(c[_0x1dda("0x5db")]={size:2,gap:1}),c[_0x1dda("0x9f")]=_0x1dda("0x3fd"),c[_0x1dda("0x14c")]=esmap[_0x1dda("0x5d8")][_0x1dda("0x12bc")],_0x1dda("0x158")!=c[_0x1dda("0x179")]&&"esarrow"!=c[_0x1dda("0x179")]||(c[_0x1dda("0x9f")]=c[_0x1dda("0x179")],c.lineMode=esmap[_0x1dda("0x5d8")][_0x1dda("0x12bd")]),c[_0x1dda("0x146")]=c[_0x1dda("0x146")]||c[_0x1dda("0x179")]&&this[_0x1dda("0x12be")](c[_0x1dda("0x179")])||[c[_0x1dda("0x5db")][_0x1dda("0xd2")],c[_0x1dda("0x5db")].gap],c.lineWidth=(0,r[_0x1dda("0x13")])(c,_0x1dda("0x14e"),_0x1dda("0x3bf"),8),c[_0x1dda("0x14f")]=(0,r[_0x1dda("0x13")])(c,_0x1dda("0x14f"),0),c.dashArray&&(this[_0x1dda("0x145")]=c[_0x1dda("0x146")][_0x1dda("0x104")]((function(d,x){return d+x}))),l=this[_0x1dda("0x145")];var f,u=JSON[_0x1dda("0x6d")]((0,i.default)(c));delete u[_0x1dda("0x18b")],this.naviMap=new(esmap[_0x1dda("0x5fc")])(u),f=this[_0x1dda("0x120")][_0x1dda("0x4a")]?(new(THREE[_0x1dda("0x23d")]))[_0x1dda("0x64d")](this[_0x1dda("0x120")].url):new(THREE[_0x1dda("0x329")])(this[_0x1dda("0x9f4")][_0x1dda("0x2fa")]),this.style[_0x1dda("0x12ba")]&&(f[_0x1dda("0x16d")].y=this.style[_0x1dda("0x12ba")]||0),c[_0x1dda("0x179")]==esmap.ESLineType[_0x1dda("0x12bf")]?f.minFilter=THREE[_0x1dda("0x175")]:f[_0x1dda("0x174")]=THREE[_0x1dda("0x520")],this.style.url||(f[_0x1dda("0x172")]=!0);var h=c.lineWidthMeter?c[_0x1dda("0x14e")]/2:c[_0x1dda("0x14e")]/16;this[_0x1dda("0x645")]=h;var g=c.up||a.up;this.up_=g,this[_0x1dda("0x12c0")]=a.notCenter||x.notCenter,this[_0x1dda("0x14c")]=c[_0x1dda("0x14c")],this[_0x1dda("0x13b")]=0;var b=o[0][_0x1dda("0x656")](o[o[_0x1dda("0x0")]-1]),v=new(esmap[_0x1dda("0x5fd")])({closed:b,radius:h,pathVertices:o,uvBaseLen:l,segments:x[_0x1dda("0x658")]||12,up:g,notCenter:this[_0x1dda("0x12c0")],lineMode:c[_0x1dda("0x14c")],yScale:c[_0x1dda("0x10fc")],smooth:c[_0x1dda("0x988")],billboard:c[_0x1dda("0x10fd")]});this[_0x1dda("0x0")]=v[_0x1dda("0x0")]||0,f.wrapS=f.wrapT=THREE[_0x1dda("0x176")],this[_0x1dda("0x12c1")]=Math.ceil(v[_0x1dda("0x0")]/v.uvBaseLen),isNaN(this[_0x1dda("0x12c1")])?f.repeat.x=1:f[_0x1dda("0x147")].x=this.baseRepeatX,f[_0x1dda("0x147")].y=1,this[_0x1dda("0x120")].url||(f[_0x1dda("0x172")]=!0);var p=new THREE.MeshBasicMaterial;p[_0x1dda("0x136")]=!0,p[_0x1dda("0x11d")]=null==c[_0x1dda("0x11d")]?1:c[_0x1dda("0x11d")],p[_0x1dda("0x42")]=f,p[_0x1dda("0x172")]=!0,p.visible=!1,this[_0x1dda("0x169")]=!1,p[_0x1dda("0x15d")]=!0,c[_0x1dda("0x15a")]&&(p.depthTest=!1),c.transparency&&(p[_0x1dda("0x15d")]=!1),this.style.url&&(p.color=(new THREE.Color)[_0x1dda("0x23f")](this[_0x1dda("0x120")][_0x1dda("0x138")]));var m=this;this.style[_0x1dda("0x179")]!==esmap[_0x1dda("0x98d")][_0x1dda("0xf8e")]&&(p.onBeforeCompile=function(d){d.uniforms[_0x1dda("0x13b")]={value:0},d[_0x1dda("0x171")].isSectionAlpha={value:!1},d.uniforms[_0x1dda("0x12c2")]={value:!0},d.uniforms[_0x1dda("0x12c3")]={value:0},d[_0x1dda("0x171")].isSectionFront={value:0},d[_0x1dda("0x13e")]=d[_0x1dda("0x13e")][_0x1dda("0x13f")]("#include <clipping_planes_pars_vertex>",_0x1dda("0x12c4")),d[_0x1dda("0x13e")]=d[_0x1dda("0x13e")][_0x1dda("0x13f")](_0x1dda("0x524"),"\n                    #include <uv_vertex>\n                    nvUv = vec2(uv.x + texOffset, uv.y);\n                    "),d[_0x1dda("0x142")]=d[_0x1dda("0x142")][_0x1dda("0x13f")]("uniform vec3 diffuse;",_0x1dda("0x12c5")),d[_0x1dda("0x142")]=d[_0x1dda("0x142")][_0x1dda("0x13f")](_0x1dda("0x144"),"   \n                    // #ifdef IS_SECTION_GRAY\n                    //     outgoingLight = changePassColor(outgoingLight, passPercent);\n                    // #endif\n                    if(isSectionGray){\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                    }\n    \n                    float resultAlpha = diffuseColor.a;\n                    // #ifdef IS_SECTION_ALPHA\n                    //     // resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    //     resultAlpha = 0.0;\n                    // #endif\n                    if(isSectionAlpha){\n                        resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    }\n                    \n                    gl_FragColor = vec4( outgoingLight, resultAlpha );\n                    "),m[_0x1dda("0x16f")]=d}),THREE[_0x1dda("0x182")][_0x1dda("0x3")](this,v,p),this.position.copy(v[_0x1dda("0x122")]),this[_0x1dda("0x160")]=esmap[_0x1dda("0x161")].lineObject,this[_0x1dda("0x12c6")](),this.addEventListener("removed",this.dispose),this[_0x1dda("0xf8a")]=this[_0x1dda("0x152")][_0x1dda("0x4e")](this),this[_0x1dda("0xe9")].side=c[_0x1dda("0x12c7")]?THREE.DoubleSide:THREE[_0x1dda("0x7d9")],this[_0x1dda("0x42")].on("update",this[_0x1dda("0xf8a")]),this[_0x1dda("0x12c8")]=this[_0x1dda("0x166")].bind(this);var A=this[_0x1dda("0x42")].getBuildingById(this[_0x1dda("0x12d")]);if(A)if(c.hiddenByFloor&&(this[_0x1dda("0x42")].on("visibleFloorNumsChanged",this[_0x1dda("0x12c8")]),A[_0x1dda("0x12c")][_0x1dda("0xaf")](this[_0x1dda("0x123")])<0&&(this.visible=!1)),this[_0x1dda("0x12ca")]=A.getFloorHeight(this[_0x1dda("0x123")]),this.building=A,this[_0x1dda("0x120")][_0x1dda("0x1f9")]){var C=this.points[0].bid,I=this.points[1][_0x1dda("0x12d")],y=this[_0x1dda("0x42")].getBuildingById(C),E=this[_0x1dda("0x42")][_0x1dda("0x12b")](I);y&&y.on(_0x1dda("0x12f"),(function(d){var x=d[_0x1dda("0x123")],a=d[_0x1dda("0xd8")];x==e[_0x1dda("0x121")][0][_0x1dda("0x123")]&&(e[_0x1dda("0x121")][0].y=a),e[_0x1dda("0x12e")](e[_0x1dda("0x121")])})),E&&E.on(_0x1dda("0x12f"),(function(d){var x=d[_0x1dda("0x123")],a=d[_0x1dda("0xd8")];x==e[_0x1dda("0x121")][1][_0x1dda("0x123")]&&(e[_0x1dda("0x121")][1].y=a),e.updateGeometry(e[_0x1dda("0x121")])}))}else A.on(_0x1dda("0x12f"),(function(d){var x=d[_0x1dda("0x123")],a=d[_0x1dda("0xd8")]-e[_0x1dda("0x12ca")];x==e[_0x1dda("0x123")]&&(e[_0x1dda("0xfa")].y=e.userData[_0x1dda("0x986")]+a)}));else s[_0x1dda("0xb1")][_0x1dda("0xb2")]({msg:_0x1dda("0x12c9")+this[_0x1dda("0x12d")],level:_0x1dda("0x1eb")});var w=new THREE.Mesh(this.geometry,this.material);w[_0x1dda("0x160")]=esmap.ESRenderOrder.transparentLine,this[_0x1dda("0xce")](w),this.transparentObj=w};c[_0x1dda("0x1")]=(0,t.default)(THREE[_0x1dda("0x182")][_0x1dda("0x1")],{height:{get:function(){return this.position.y},set:function(d){this[_0x1dda("0xfa")].y=d}},color:{get:function(){return this[_0x1dda("0x120")].color},set:function(d){_0x1dda("0x177")==typeof d&&(d=this[_0x1dda("0x178")](d)),this[_0x1dda("0x9f4")][_0x1dda("0x152")]({color:d}),this[_0x1dda("0xe9")].map.image&&(this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x172")]=!0)}},lineStyle:{get:function(){return this[_0x1dda("0x120")]},set:function(d){this.updateStyle(d)}},alpha:{get:function(){return this[_0x1dda("0xe9")][_0x1dda("0x11d")]},set:function(d){this[_0x1dda("0xe9")][_0x1dda("0x11d")]=d}},lineWidth:{get:function(){return this.style[_0x1dda("0x14e")]},set:function(d){this[_0x1dda("0xfc2")]({lineWidth:d})}}}),(0,e[_0x1dda("0xd")])(c[_0x1dda("0x1")],{updateGeometry:function(d){var x=this[_0x1dda("0x645")];if(this.children[0]){x=this[_0x1dda("0xe7")][_0x1dda("0x645")],this[_0x1dda("0xe6")][0][_0x1dda("0xe7")][_0x1dda("0xe8")](),this[_0x1dda("0xe6")][0][_0x1dda("0xe7")][_0x1dda("0xfa6")]=[],this[_0x1dda("0xe6")][0][_0x1dda("0xe7")][_0x1dda("0xfb7")]=!0,this[_0x1dda("0xe6")][0][_0x1dda("0xe7")].groupsNeedUpdate=!0,this[_0x1dda("0xe7")][_0x1dda("0xe8")](),this[_0x1dda("0xe7")][_0x1dda("0xfa6")]=[],this[_0x1dda("0xe7")].verticesNeedUpdate=!0,this[_0x1dda("0x123")]=d[0].fnum;var a=this[_0x1dda("0x120")],_=d.map((function(d){var x=d[_0x1dda("0x116")]();return x[_0x1dda("0x123")]=d.fnum,x[_0x1dda("0x12d")]=d.bid,x})),e=_[0][_0x1dda("0x656")](_[_[_0x1dda("0x0")]-1]),t=new(esmap[_0x1dda("0x5fd")])({closed:e,radius:x,pathVertices:_,uvBaseLen:this[_0x1dda("0x145")],segments:a[_0x1dda("0x658")]||12,up:this[_0x1dda("0x12cb")],notCenter:this[_0x1dda("0x12c0")],lineMode:this[_0x1dda("0x14c")],yScale:a[_0x1dda("0x10fc")],smooth:a.smooth,billboard:a[_0x1dda("0x10fd")]});this[_0x1dda("0x0")]=t[_0x1dda("0x0")],this[_0x1dda("0x12c1")]=Math[_0x1dda("0xf2")](t[_0x1dda("0x0")]/t[_0x1dda("0x12cc")]),this[_0x1dda("0xe7")]=t,this[_0x1dda("0xe7")][_0x1dda("0xfb7")]=!0,this.geometry[_0x1dda("0xfa7")]=!0,this[_0x1dda("0xe6")][0][_0x1dda("0xe7")]=this[_0x1dda("0xe7")],this[_0x1dda("0xe6")][0][_0x1dda("0xe7")][_0x1dda("0xfb7")]=!0,this[_0x1dda("0xe6")][0][_0x1dda("0xe7")][_0x1dda("0xfa7")]=!0,this[_0x1dda("0xfa")].copy(t[_0x1dda("0x122")]),this[_0x1dda("0xfa")].y+=a[_0x1dda("0x26")],this.update(0)}},_colorToStr:function(d){if(_0x1dda("0x177")==typeof d){for(var x=d[_0x1dda("0x2e")](16);x[_0x1dda("0x0")]<6;)x="0"+x;return"#"+x}return d},getDashArrayByLineType:function(d){if(d instanceof Array)return d;switch(d){case esmap[_0x1dda("0x98d")][_0x1dda("0xf8e")]:return[1,0];case esmap[_0x1dda("0x98d")].DOTTED:return[1,1];case esmap.ESLineType[_0x1dda("0x12cd")]:return[2.5,1,.5,1];case esmap.ESLineType.CENTER:return[3,1,1.5,1];case esmap[_0x1dda("0x98d")][_0x1dda("0x12ce")]:return[2,1];case esmap[_0x1dda("0x98d")][_0x1dda("0x12cf")]:return[2.5,.5,.5,.5,.5,.5];case esmap[_0x1dda("0x98d")][_0x1dda("0x12d0")]:return[2.5,.5,.5,.5,.5,.5,.5,.5];case esmap[_0x1dda("0x98d")][_0x1dda("0x12d1")]:return[5,0];case esmap.ESLineType[_0x1dda("0x12bf")]:return[7,0]}},visibleFloorNumsChanged:function(d){var x=d[_0x1dda("0x12d")],a=d.fnums;if(x==this[_0x1dda("0x12d")]){var _=this[_0x1dda("0x123")],e=!0;_0x1dda("0x177")==typeof _?-1==a[_0x1dda("0xaf")](_)&&(e=!1):_ instanceof Array&&_[_0x1dda("0xd1")]((function(d){-1==a[_0x1dda("0xaf")](d)&&(e=!1)})),this[_0x1dda("0x169")]=e}},updateStyle:function(d){d[_0x1dda("0x138")]&&_0x1dda("0x177")==typeof d[_0x1dda("0x138")]&&(d[_0x1dda("0x138")]=this._colorToStr(d.color)),(0,e[_0x1dda("0xd")])(this[_0x1dda("0x120")],d),this.style[_0x1dda("0x9f")]=_0x1dda("0x3fd"),_0x1dda("0x158")!=this[_0x1dda("0x120")][_0x1dda("0x179")]&&_0x1dda("0x10fb")!=this[_0x1dda("0x120")].lineType||(this[_0x1dda("0x120")][_0x1dda("0x9f")]=this[_0x1dda("0x120")][_0x1dda("0x179")]),d[_0x1dda("0x179")]&&!d.dashArray&&(this[_0x1dda("0x120")][_0x1dda("0x146")]=this[_0x1dda("0x12be")](d[_0x1dda("0x179")])),delete this[_0x1dda("0x120")].height,this.naviMap[_0x1dda("0x152")](this[_0x1dda("0x120")]),this[_0x1dda("0x12c6")](),this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x2df")]&&(this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x172")]=!0,this[_0x1dda("0x145")]=this[_0x1dda("0x120")][_0x1dda("0x146")][_0x1dda("0x104")]((function(d,x){return d+x})),this[_0x1dda("0x424")]&&this[_0x1dda("0x424")][_0x1dda("0x0")]>0&&this[_0x1dda("0x424")][_0x1dda("0xd1")]((function(x){x[_0x1dda("0xfc2")](d)})))},_updateMaterialByNaviMap:function(){if(!this.style[_0x1dda("0x4a")]){var d=this[_0x1dda("0x9f4")][_0x1dda("0x12d2")];this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x16d")].y=d.offset,this[_0x1dda("0xe9")].side=(0,r.getValues)(d,_0x1dda("0x149"),0)}},_firstUpdate:!0,update:function(d){if(this[_0x1dda("0xe9")]&&this[_0x1dda("0xe9")][_0x1dda("0x42")]){this.map[_0x1dda("0x35")][_0x1dda("0x369")]&&!this[_0x1dda("0x120")][_0x1dda("0x16a")]&&(this[_0x1dda("0xe9")].map[_0x1dda("0x16d")].x-=d*(this.style.dash[_0x1dda("0x29f")]||this[_0x1dda("0x120")][_0x1dda("0x16e")]||1));var x,a=this[_0x1dda("0x42")][_0x1dda("0x19f")];a.camera,this[_0x1dda("0x12b6")];this[_0x1dda("0xe9")]&&this[_0x1dda("0xe9")][_0x1dda("0x42")]&&(this[_0x1dda("0x16f")]&&this[_0x1dda("0xe7")].length>0&&(this[_0x1dda("0x12b3")]&&(this[_0x1dda("0x12b2")][_0x1dda("0x12b1")]?(this.lineMaterialShader.uniforms[_0x1dda("0x12d3")][_0x1dda("0xd8")]=!0,this.lineMaterialShader[_0x1dda("0x171")][_0x1dda("0x12c3")][_0x1dda("0xd8")]=this[_0x1dda("0x12b2")][_0x1dda("0x12b1")].alpha,this[_0x1dda("0x16f")][_0x1dda("0x171")][_0x1dda("0x12d4")][_0x1dda("0xd8")]=this.shaderConfigs[_0x1dda("0x12b1")][_0x1dda("0x12d5")]?1:0):this[_0x1dda("0x12b2")].splitGray,this[_0x1dda("0x12b3")]=!1),this[_0x1dda("0x16f")][_0x1dda("0x171")].passPercent[_0x1dda("0xd8")]=this[_0x1dda("0x13b")]),this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x2df")]&&(this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x172")]=!0),this[_0x1dda("0xe9")][_0x1dda("0x172")]=!0),x=esmap.ESMapUtil[_0x1dda("0x156")](this[_0x1dda("0x42")]),this[_0x1dda("0x120")].updateSize&&0!=a.h_&&(this[_0x1dda("0x151")]&&this[_0x1dda("0xe7")][_0x1dda("0x9f7")](x*this.style[_0x1dda("0x14e")]*.7),this[_0x1dda("0x12d6")](),this[_0x1dda("0x12bb")]||(this[_0x1dda("0x12bb")]=!0,this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x147")].x=this.geometry[_0x1dda("0x0")]*this[_0x1dda("0x120")][_0x1dda("0x147")]/(this[_0x1dda("0x145")]*x*7*1)),this.material&&this.map[_0x1dda("0x2ea")]<=this[_0x1dda("0x120")].minRepeatLevel&&this[_0x1dda("0x120")][_0x1dda("0x12b8")]&&(this.material[_0x1dda("0x42")][_0x1dda("0x147")].x=this[_0x1dda("0xe7")].length*this[_0x1dda("0x120")].repeat/(this[_0x1dda("0x145")]*x*7*1)))}},_upVec:new(THREE[_0x1dda("0x11c")])(0,1,0),_zVec:new(THREE[_0x1dda("0x11c")])(0,0,1),_billboard:function(){if(this.style[_0x1dda("0x10fd")]&&2==this[_0x1dda("0xe7")][_0x1dda("0x12d7")][_0x1dda("0x0")]){var d=this[_0x1dda("0xe7")].pathVertices,x=d[1].clone()[_0x1dda("0x4cf")](d[0])[_0x1dda("0x2cc")](),a=x[_0x1dda("0x8a4")](this[_0x1dda("0x12d8")]),e=(0,_.default)(a)*this[_0x1dda("0x42")][_0x1dda("0x226")][_0x1dda("0x1109")].getAzimuthalAngle();this[_0x1dda("0x1d9")][_0x1dda("0x12d9")](x,e)}},alwaysShow:esmap[_0x1dda("0x237")].alwaysShow,picked:function(){},dispose:function(){this.brothers&&this.brothers.length>0&&this.brothers[_0x1dda("0xd1")]((function(d){d[_0x1dda("0xe8")]()})),this[_0x1dda("0x42")][_0x1dda("0x68")](_0x1dda("0x152"),this[_0x1dda("0xf8a")]),this[_0x1dda("0x42")][_0x1dda("0x68")]("visibleFloorNumsChanged",this._visibleFloorNumsChanged),this[_0x1dda("0xfe")]&&this[_0x1dda("0xfe")][_0x1dda("0x181")](this),this[_0x1dda("0x42")][_0x1dda("0x17d")][_0x1dda("0x17e")](this[_0x1dda("0x2c4")]),this.transparentObj=null;var d=this[_0x1dda("0xe6")][0];d&&(d.material&&(d.material[_0x1dda("0x42")]&&(d.material.map[_0x1dda("0xe8")](),d.material[_0x1dda("0x42")]=null),d[_0x1dda("0xe9")][_0x1dda("0xe8")](),d[_0x1dda("0xe9")]=void 0),d.geometry&&(d[_0x1dda("0xe7")][_0x1dda("0xe8")](),d[_0x1dda("0xe7")]=void 0),this[_0x1dda("0xe6")][0]=null),this.geometry&&(this.geometry[_0x1dda("0xe8")](),this[_0x1dda("0xe7")]=void 0),this[_0x1dda("0xe9")]&&(this.material[_0x1dda("0x42")]&&(this[_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0xe8")](),this.material[_0x1dda("0x42")]=null),this[_0x1dda("0xe9")][_0x1dda("0xe8")](),this[_0x1dda("0xe9")]=void 0)}}),x[_0x1dda("0xd")]=c},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _,e=a(2),t=(_=e)&&_[_0x1dda("0xc")]?_:{default:_},i=a(18);var n=function(d){(0,t[_0x1dda("0xd")])(this,{type:_0x1dda("0x3fd"),width:128,height:128,color:"#ff0000",arrowHeightPercent:.4,arrowWidthPercent:.7,arrowPercent:.1,lineType:null,dashArray:[2,1],godHeightPercent:.5,godEdgePercent:.2,godArrowPercent:.3,godColor:_0x1dda("0x10d3"),godEdgeColor:_0x1dda("0x12da"),godArrowColor:_0x1dda("0x12db"),godArrowXScale:.6,godArrowWidthPercent:.07},d),this[_0x1dda("0x12d2")]={offset:0},this[_0x1dda("0x8fa")]=document[_0x1dda("0x20")]("canvas")[_0x1dda("0x2fb")]("2d"),this[_0x1dda("0x152")]()};n[_0x1dda("0x1")]={constructor:n,get canvas(){return this[_0x1dda("0x8fa")][_0x1dda("0x2fa")]},update:function(d){var x=this;switch((0,t[_0x1dda("0xd")])(x,d),x[_0x1dda("0x12dc")](),x[_0x1dda("0x8fa")][_0x1dda("0x2fa")].width=x[_0x1dda("0x1a5")],x[_0x1dda("0x8fa")][_0x1dda("0x2fa")][_0x1dda("0x18b")]=x[_0x1dda("0x18b")],x[_0x1dda("0x9f")]){case _0x1dda("0x3fd"):x._drawNormal();break;case _0x1dda("0x158"):x[_0x1dda("0x12dd")]();break;case"esarrow":x[_0x1dda("0x12de")]()}},_doColor:function(){var d=this;[_0x1dda("0x138"),_0x1dda("0x12df"),_0x1dda("0x12e0"),"godArrowColor"][_0x1dda("0xd1")]((function(x){_0x1dda("0x177")==typeof d[x]&&(d[x]=esmap[_0x1dda("0x98b")].prototype[_0x1dda("0x178")](d[x]))}))},_setMaterialInfo:function(){this[_0x1dda("0x12d2")][_0x1dda("0x16d")]=(0,i[_0x1dda("0x13")])(arguments,0,0),this[_0x1dda("0x12d2")][_0x1dda("0x149")]=(0,i[_0x1dda("0x13")])(arguments,1,0)},_drawNormal:function(){var d=this,x=d[_0x1dda("0x146")][_0x1dda("0x104")]((function(d,x){return d+x})),a=0;d[_0x1dda("0x146")][_0x1dda("0xd1")]((function(_,e){e%2==0&&(d[_0x1dda("0x8fa")][_0x1dda("0x304")]=d.color,d[_0x1dda("0x8fa")].fillRect(a/x*d[_0x1dda("0x1a5")],0,_/x*d[_0x1dda("0x1a5")],d[_0x1dda("0x18b")])),a+=_})),d._setMaterialInfo(0)},_drawArrow:function(){var d=this,x=(1-d.arrowHeightPercent)*d.height/2,a=d[_0x1dda("0x18b")]*d[_0x1dda("0x12e1")];d[_0x1dda("0x8fa")][_0x1dda("0x311")](),d.ctx[_0x1dda("0x1ff")](0,x);var _=d.width*(d[_0x1dda("0x12e2")]-d[_0x1dda("0x12e3")]);d[_0x1dda("0x8fa")].lineTo(_,x),d.ctx[_0x1dda("0x50b")](d.width*d.arrowWidthPercent,x+a/2),d[_0x1dda("0x8fa")].lineTo(_,x+a),d.ctx[_0x1dda("0x50b")](0,x+a),d[_0x1dda("0x8fa")][_0x1dda("0x50b")](d[_0x1dda("0x1a5")]*d[_0x1dda("0x12e3")],x+a/2),d[_0x1dda("0x8fa")][_0x1dda("0x8fe")](),d.ctx[_0x1dda("0x304")]=d[_0x1dda("0x138")],d[_0x1dda("0x8fa")][_0x1dda("0x420")](),d[_0x1dda("0x12e4")](-.25,2)},_drawGodArrow:function(){var d=this;d[_0x1dda("0x8fa")][_0x1dda("0x304")]=d[_0x1dda("0x12e0")],d[_0x1dda("0x8fa")][_0x1dda("0x913")](0,(1-d[_0x1dda("0x12e5")])*d[_0x1dda("0x18b")]/2,d[_0x1dda("0x1a5")],d[_0x1dda("0x12e5")]*d[_0x1dda("0x18b")]),d[_0x1dda("0x8fa")][_0x1dda("0x304")]=d.color;var x=(1-d.godHeightPercent+d.godEdgePercent)*d[_0x1dda("0x18b")]/2,a=(d[_0x1dda("0x12e5")]-d[_0x1dda("0x12e6")])*d.height;d[_0x1dda("0x8fa")][_0x1dda("0x913")](0,x,d[_0x1dda("0x1a5")],a),d.ctx[_0x1dda("0x304")]="#ffffff",d.ctx.shadowOffsetX=-2,d[_0x1dda("0x8fa")][_0x1dda("0x309")]=2,d[_0x1dda("0x8fa")][_0x1dda("0x306")]=4,d[_0x1dda("0x8fa")].shadowColor=_0x1dda("0x12e7");var _=d.width/2,e=d[_0x1dda("0x18b")]/2,t=d[_0x1dda("0x1a5")]*d.godArrowPercent,i=d[_0x1dda("0x1a5")]*d[_0x1dda("0x12e8")],n=d[_0x1dda("0x1a5")]*(d[_0x1dda("0x12e9")]-d.godArrowWidthPercent)*d[_0x1dda("0x12ea")],r=_-t/2*d[_0x1dda("0x12ea")],s=e-t/2;d.ctx[_0x1dda("0x311")](),d.ctx.moveTo(r,s),d[_0x1dda("0x8fa")][_0x1dda("0x50b")](r+i,s),d[_0x1dda("0x8fa")][_0x1dda("0x50b")](r+i+n,s+t/2),d[_0x1dda("0x8fa")].lineTo(r+i,s+t),d[_0x1dda("0x8fa")].lineTo(r,s+t),d[_0x1dda("0x8fa")].lineTo(r+n,s+t/2),d[_0x1dda("0x8fa")].closePath(),d[_0x1dda("0x8fa")][_0x1dda("0x304")]=d[_0x1dda("0x12eb")],d[_0x1dda("0x8fa")][_0x1dda("0x420")](),d._setMaterialInfo(-.25,2)}},x[_0x1dda("0xd")]=n},function(d,x,a){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var _=o(a(2)),e=o(a(5)),t=o(a(0)),i=o(a(1)),n=o(a(10)),r=o(a(11)),s=a(18);function o(d){return d&&d.__esModule?d:{default:d}}function c(d){for(var x,a=d[_0x1dda("0x1219")],_=[],e=2*Math.PI/d[_0x1dda("0x658")],t=0;t<d[_0x1dda("0x658")];t++){var i=new(THREE[_0x1dda("0x11c")])(0,d[_0x1dda("0x645")]*d[_0x1dda("0x10fc")]*Math.sin(e*t),d[_0x1dda("0x645")]*Math[_0x1dda("0x669")](e*t));_[_0x1dda("0x10")](i),0==t&&(x=i)}_[_0x1dda("0x10")](x);var n,r,s,o,c=d[_0x1dda("0x12d7")][_0x1dda("0x0")],f=function(d){for(var x=0,a=d[0][_0x1dda("0x116")](),_=1;_<d[_0x1dda("0x0")];_++)x+=d[_][_0x1dda("0x117")](d[_-1]),a[_0x1dda("0xce")](d[_]);return{length:x,center:a[_0x1dda("0x118")](d[_0x1dda("0x0")])}}(d.pathVertices);d[_0x1dda("0x0")]=f[_0x1dda("0x0")],d.center=f[_0x1dda("0x122")],d[_0x1dda("0x12ec")]||function(d,x){d[_0x1dda("0xd1")]((function(d){d.sub(x)}))}(d.pathVertices,d[_0x1dda("0x122")]),d[_0x1dda("0x12ed")]=2*Math.PI*d[_0x1dda("0x645")];var h,g=0,b=0,v=d[_0x1dda("0x12ed")]/d[_0x1dda("0x658")];d[_0x1dda("0x12ee")]=[],u=d.up[_0x1dda("0x116")](),d._up_=null;for(t=0;t<c;t++){var p=t;n=0==t?null:d.pathVertices[t-1],s=t==c-1?null:d[_0x1dda("0x12d7")][t+1],r=d.pathVertices[t],a&&(s=t==c-1?d[_0x1dda("0x12d7")][1]:s),o=l(n,r,s),d[_0x1dda("0x12ef")]||(d._up_=new(THREE[_0x1dda("0x11c")])(0,1,0)[_0x1dda("0x1f8")](o)[_0x1dda("0x2cc")]()),t>0&&(g+=r[_0x1dda("0x117")](n)),b=0,d._rings[p]=[],r[_0x1dda("0x116")]().y=0;for(var m=0;m<_[_0x1dda("0x0")];m++){h=_[m][_0x1dda("0x116")]()[_0x1dda("0x1f8")](o),d[_0x1dda("0xfa6")][_0x1dda("0x10")](h),d[_0x1dda("0x12f0")][p][_0x1dda("0x10")](h);var A=(g+0)/d[_0x1dda("0x0")],C=1-b/d[_0x1dda("0x12ed")],I=Math.max(A,C);I>d.maxUvVal&&(d[_0x1dda("0x13d")]=I),d[_0x1dda("0x12ee")][_0x1dda("0x10")](new(THREE[_0x1dda("0x50f")])(A,C)),b+=v}}}function l(d,x,a){var _,e=d&&d[_0x1dda("0x116")](),t=x.clone(),i=a&&a[_0x1dda("0x116")](),n=1,r=null;if(d)if(a){var s=t[_0x1dda("0x116")]()[_0x1dda("0x4cf")](e)[_0x1dda("0x2cc")](),o=i[_0x1dda("0x4cf")](t)[_0x1dda("0x2cc")]();r=s[_0x1dda("0x2d0")](o)/2,n=1/Math[_0x1dda("0x669")](r),n=THREE[_0x1dda("0x1fa")][_0x1dda("0x725")](n,1,2),_=s.add(o)[_0x1dda("0x2cc")]()}else _=t[_0x1dda("0x4cf")](e)[_0x1dda("0x2cc")]();else _=i[_0x1dda("0x4cf")](t)[_0x1dda("0x2cc")]();var c=new(THREE[_0x1dda("0x11c")])(0,0,1),l=u[_0x1dda("0x116")](),f=(new(THREE[_0x1dda("0x11c")])).crossVectors(_,l)[_0x1dda("0x2cc")]();0==f.length()&&(l=c,f=(new(THREE[_0x1dda("0x11c")]))[_0x1dda("0x8a1")](_,l)[_0x1dda("0x2cc")]());var h=(new(THREE[_0x1dda("0x11c")]))[_0x1dda("0x8a1")](f,_)[_0x1dda("0x2cc")]();u=h[_0x1dda("0x116")](),f.multiplyScalar(n);var g=(new(THREE[_0x1dda("0x207")]))[_0x1dda("0x12f2")](_,h,f)[_0x1dda("0x1f7")](x);return g.angle=r,g.vz=f,g}var f=function(d){!d[_0x1dda("0x12d7")]||d.pathVertices.length<2||(c(d),function(d){var x=d[_0x1dda("0x1219")],a=1;x&&(a=2);for(var _,e=d[_0x1dda("0x12d7")][_0x1dda("0x0")],t=d[_0x1dda("0x658")]+1,i=0;i<e-a;i++){_=i*t;for(var n=0;n<t-1;n++)d.faces[_0x1dda("0x10")](new(THREE[_0x1dda("0x12f1")])(_+n+1,_+n,_+t+n)),d.faces[_0x1dda("0x10")](new(THREE[_0x1dda("0x12f1")])(_+n+1,_+n+t,_+t+n+1))}if(x)for(var r=0;r<t-1;r++){var s=(e-2)*t;d.faces[_0x1dda("0x10")](new(THREE[_0x1dda("0x12f1")])(s+r+1,s+r,r)),d.faces.push(new(THREE[_0x1dda("0x12f1")])(s+r+1,r,r+1))}}(d),function(d){for(var x=d.faces.length,a=0;a<x;a++){var _=d[_0x1dda("0xfa3")][a];d[_0x1dda("0xfa4")][0][_0x1dda("0x10")]([d[_0x1dda("0x12ee")][_.a],d[_0x1dda("0x12ee")][_.b],d._uvs[_.c]])}d.uvsNeedUpdate=!0}(d),d[_0x1dda("0x12f3")]())},u=null,h=function(d){function x(d){(0,t[_0x1dda("0xd")])(this,x);var a=(0,n[_0x1dda("0xd")])(this,(x[_0x1dda("0x11e")]||(0,e.default)(x))[_0x1dda("0x3")](this)),i=a;return i[_0x1dda("0x12d7")]=null,i[_0x1dda("0x13d")]=0,i.radius=1,i.segments=12,i[_0x1dda("0x12cc")]=1,(0,_.default)(i,d),i[_0x1dda("0x1219")]=!1,i[_0x1dda("0x10fc")]||(i[_0x1dda("0x14c")]==esmap[_0x1dda("0x5d8")].PLANE?i[_0x1dda("0x10fc")]=.3:i[_0x1dda("0x14c")]==esmap[_0x1dda("0x5d8")][_0x1dda("0x12bc")]&&(i.yScale=1)),i[_0x1dda("0x988")]=(0,s[_0x1dda("0x13")])(i,_0x1dda("0x988"),!0),i.up||(i.up=new(THREE[_0x1dda("0x11c")])(0,1,0)),a[_0x1dda("0x12ee")]=[],a[_0x1dda("0x12f0")]=[],f(i),a}return(0,r[_0x1dda("0xd")])(x,d),(0,i[_0x1dda("0xd")])(x,[{key:_0x1dda("0x9f7"),value:function(d){for(var x,a=this.closed,_=this,e=0,t=_[_0x1dda("0x12f0")],i=1,n=0;n<t[_0x1dda("0x0")];n++){var r=t[n],s=_.pathVertices[n];if(a&&(0===n?r=t[t.length-1]:n===t[_0x1dda("0x0")]-1&&(r=t[0])),s)for(var o=0;o<r.length;o++){var c=r[o];0==o&&1!=_[_0x1dda("0x10fc")]&&(x=r[0][_0x1dda("0x116")]().sub(s)[_0x1dda("0x0")]()),1!=_.yScale&&(i=c[_0x1dda("0x116")]()[_0x1dda("0x4cf")](s).length()/x);var l=s[_0x1dda("0x116")]().add(c[_0x1dda("0x116")]()[_0x1dda("0x4cf")](s)[_0x1dda("0x2cc")]().multiplyScalar(d*i));_[_0x1dda("0xfa6")][e][_0x1dda("0x20e")](l),e++}}d<.1&&(d=.1),_.radius=d,_[_0x1dda("0xfb7")]=!0,this[_0x1dda("0x645")]=d}}]),x}(THREE.Geometry);x[_0x1dda("0xd")]=h},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0});var _=g(a(12)),e=g(a(2)),t=g(a(5)),i=g(a(0)),n=g(a(1)),r=g(a(10)),s=g(a(11)),o=a(18),c=function(d){if(d&&d[_0x1dda("0xc")])return d;var x={};if(null!=d)for(var a in d)Object[_0x1dda("0x1")].hasOwnProperty.call(d,a)&&(x[a]=d[a]);return x.default=d,x}(a(385)),l=a(381),f=g(a(80)),u=a(81),h=a(4);function g(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}var b=function(d){function x(d){(0,i[_0x1dda("0xd")])(this,x);var a=(0,r[_0x1dda("0xd")])(this,(x.__proto__||(0,t[_0x1dda("0xd")])(x))[_0x1dda("0x3")](this,esmap[_0x1dda("0x126")][_0x1dda("0xfdb")],{},new THREE.Mesh));return a[_0x1dda("0x972")]=!1,a[_0x1dda("0x12f4")]=!1,a[_0x1dda("0x32")](d),a}return(0,s[_0x1dda("0xd")])(x,d),(0,n.default)(x,[{key:_0x1dda("0x2d4"),value:function(){var d=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};isNaN(d)||(d={value:d});var x=d[_0x1dda("0xd8")],a=null==d.time?1:d[_0x1dda("0x233")];new(esmap.TWEEN[_0x1dda("0x18e")])(this[_0x1dda("0x180")][_0x1dda("0x1d7")]).to({x:x,y:x},1e3*a).easing(esmap.TWEEN[_0x1dda("0x193")][_0x1dda("0x191")][_0x1dda("0x194")])[_0x1dda("0x21c")]()}},{key:_0x1dda("0x12f5"),value:function(){var d=this,x=arguments[_0x1dda("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{quality:1,delay:0},a=this.options;setTimeout((function(){c[_0x1dda("0x12f6")](d[_0x1dda("0x1a0")],x)[_0x1dda("0x2ef")]((function(d){var x=document.createElement("a"),_=(0,o[_0x1dda("0x12f7")])(d);document[_0x1dda("0x6ef")](_0x1dda("0x12f8"))[_0x1dda("0x99c")](_0x1dda("0x99d"),!0,!0),x.download=a[_0x1dda("0xfc")],x[_0x1dda("0x84")]=URL.createObjectURL(_),x[_0x1dda("0x99d")]()}))}),x.delay)}},{key:_0x1dda("0x2d8"),value:function(d){var x=this,a=this[_0x1dda("0x35")],t=a[_0x1dda("0x2f9")];if(t){var i=(0,e[_0x1dda("0xd")])({},t,d);this.options.imageStyle=i,(0,u[_0x1dda("0x173")])({image:a[_0x1dda("0x4a")],text:a[_0x1dda("0x2e0")],textStyle:a[_0x1dda("0x2f8")],imageStyle:a[_0x1dda("0x2f9")]})[_0x1dda("0x2ef")]((function(d){var e=d[_0x1dda("0x5df")];(0,_[_0x1dda("0xd")])(a[_0x1dda("0xd2")])==_0x1dda("0x1b")?x[_0x1dda("0x12f9")](e,{width:a[_0x1dda("0xd2")].w,height:a.size.h}):x[_0x1dda("0x12f9")](e)}))}}},{key:"updateTextStyle",value:function(d){var x=this,a=this[_0x1dda("0x35")],t=a.textStyle;if(t){var i=(0,e[_0x1dda("0xd")])({},t,d);this[_0x1dda("0x35")][_0x1dda("0x2f8")]=i,(0,u[_0x1dda("0x173")])({image:a[_0x1dda("0x4a")],text:a.text,textStyle:a.textStyle,imageStyle:a.imageStyle}).then((function(d){var e=d[_0x1dda("0x5df")];(0,_.default)(a[_0x1dda("0xd2")])==_0x1dda("0x1b")?x.createCard(e,{width:a[_0x1dda("0xd2")].w,height:a[_0x1dda("0xd2")].h}):x[_0x1dda("0x12f9")](e)}))}}},{key:_0x1dda("0x32"),value:function(d){var x=this,a=null,t=esmap.ESMap[_0x1dda("0x34")].mode==esmap.MapMode[_0x1dda("0x1b8")]?20:12;for(var i in d)null==d[i]&&delete d[i];var n=(0,e[_0x1dda("0xd")])({id:(0,o[_0x1dda("0x1a")])(8),name:_0x1dda("0x5c7"),url:null,dom:null,data:{},x:null,y:null,angle:null,textStyle:null,imageStyle:null,center:{x:.5,y:0},text:"",template:null,opacity:1,lookAt:!0,pickable:!0,showLevel:t},d),r=(0,h[_0x1dda("0x13")])(d,_0x1dda("0x1c5"),_0x1dda("0x12fa"),_0x1dda("0x195"),null),s=(0,h[_0x1dda("0x13")])(d,"offsetHeight",_0x1dda("0x18b"),0),f=(0,h[_0x1dda("0x13")])(d,"scale",_0x1dda("0xd2"),30);n.size=f,n[_0x1dda("0x18b")]=s,n[_0x1dda("0x195")]=r,this.options=n;var g=n[_0x1dda("0x1cd")];if(this.showLevel=g,n[_0x1dda("0x4a")]||n.text)if(n[_0x1dda("0x4a")]){var b=(0,l[_0x1dda("0x12fb")])(n[_0x1dda("0x4a")]);if(b===_0x1dda("0x2df"))(0,u.createTexture)({image:n[_0x1dda("0x4a")],text:n[_0x1dda("0x2e0")],textStyle:n[_0x1dda("0x2f8")],imageStyle:n[_0x1dda("0x2f9")]}).then((function(d){var a=d.texture;"object"==(0,_[_0x1dda("0xd")])(n.size)?x.createCard(a,{width:n[_0x1dda("0xd2")].w,height:n[_0x1dda("0xd2")].h}):x[_0x1dda("0x12f9")](a)}));else if(b===_0x1dda("0x12fc")){var v=document[_0x1dda("0x20")](_0x1dda("0x12fc"));v[_0x1dda("0x73e")]=_0x1dda("0x734"),v[_0x1dda("0x4e5")]=n[_0x1dda("0x4a")],v.autoplay=!0,v.loop=!0,v.addEventListener("loadedmetadata",(function(d){var a=v[_0x1dda("0x12fd")],_=v[_0x1dda("0x12fe")],e=new(THREE[_0x1dda("0x12ff")])(v);e[_0x1dda("0x174")]=THREE[_0x1dda("0x32a")],e[_0x1dda("0x83f")]=THREE.LinearFilter,e[_0x1dda("0x83d")]=THREE[_0x1dda("0x7f5")],e[_0x1dda("0x2df")][_0x1dda("0x1a5")]=a,e[_0x1dda("0x2df")].height=_,x.createCard(e,{width:a,height:_}),x.map.on(_0x1dda("0x152"),(function(){e[_0x1dda("0x172")]=!0}));document[_0x1dda("0x4a9")].addEventListener("click",(function d(){v[_0x1dda("0x261")](),document[_0x1dda("0x4a9")][_0x1dda("0x264")]("click",d)}))}))}else console[_0x1dda("0x1eb")](_0x1dda("0x1300"))}else(0,u.createTexture)({image:null,text:n.text,textStyle:n[_0x1dda("0x2f8")]})[_0x1dda("0x2ef")]((function(d){var a=d[_0x1dda("0x5df")];x.createCard(a,{width:a[_0x1dda("0x2df")][_0x1dda("0x1a5")],height:a[_0x1dda("0x2df")].height},!0)}));else if(n[_0x1dda("0xb53")])setTimeout((function(){x[_0x1dda("0x1a0")]=n[_0x1dda("0xb53")],c.toCanvas(n[_0x1dda("0xb53")]).then((function(d){var a=new(THREE[_0x1dda("0x329")])(d);x[_0x1dda("0x12f9")](a)}))[_0x1dda("0x817")]((function(d){console[_0x1dda("0x1ec")](d)}))}),0);else if(n[_0x1dda("0x1301")]){var p=document.createElement(_0x1dda("0x1a4"));p[_0x1dda("0x120")].position="absolute",p[_0x1dda("0x120")].left=_0x1dda("0x1302"),p.insertAdjacentHTML(_0x1dda("0x1214"),n[_0x1dda("0x1301")]),document[_0x1dda("0x4a9")].appendChild(p),a=p[_0x1dda("0xe6")][0],setTimeout((function(){x[_0x1dda("0x1a0")]=a,c[_0x1dda("0x1303")](a,{})[_0x1dda("0x2ef")]((function(d){var a=new(THREE[_0x1dda("0x329")])(d);x[_0x1dda("0x12f9")](a)}))}),0)}}},{key:_0x1dda("0x12f9"),value:function(d,x,a){var _=!1;if(this[_0x1dda("0x180")]){if(!this[_0x1dda("0x972")]){_=!0;var e=esmap[_0x1dda("0x33")][_0x1dda("0x34")],t=this[_0x1dda("0x35")],i=d[_0x1dda("0x2df")],n=t[_0x1dda("0x122")],r=x?x.width/x[_0x1dda("0x18b")]:i[_0x1dda("0x1a5")]/i[_0x1dda("0x18b")],s=new(THREE[_0x1dda("0x6c8")])(1,1/r);x&&a&&(s=new(THREE[_0x1dda("0x6c8")])(x[_0x1dda("0x1a5")]*t[_0x1dda("0xd2")]/100,x[_0x1dda("0x18b")]*t.size/100)),s[_0x1dda("0x16c")](0,s[_0x1dda("0xf9")][_0x1dda("0xfa")][_0x1dda("0xfb")],0);var o=new(THREE[_0x1dda("0x2b5")])({transparent:!0,side:2});o[_0x1dda("0x11d")]=t[_0x1dda("0x11d")];var c=this[_0x1dda("0x180")];if(c[_0x1dda("0xe7")]=s,c.material=o,c.renderOrder=esmap[_0x1dda("0x161")].cardMarker,t[_0x1dda("0x138")]&&c[_0x1dda("0xe9")].color.setStyle(t[_0x1dda("0x138")]),!t[_0x1dda("0x1304")]){var l=(new(THREE[_0x1dda("0x2c8")]))[_0x1dda("0x2ae")](c),f=(l.max.y-l[_0x1dda("0x2f6")].y)*(.5-n.y),u=(l.max.x-l[_0x1dda("0x2f6")].x)*(.5-n.x);c[_0x1dda("0xe7")][_0x1dda("0xf60")](u,f,0)}if(null!=t[_0x1dda("0x201")])if(t[_0x1dda("0x201")]instanceof Object){var g={x:(0,h[_0x1dda("0x13")])(t[_0x1dda("0x201")],"x",0)*THREE[_0x1dda("0x1fa")].DEG2RAD,y:(0,h.getValues)(t.angle,"z",180)*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")],z:(0,h[_0x1dda("0x13")])(t.angle,"y",0)*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")]},b=(new(THREE[_0x1dda("0x20c")]))[_0x1dda("0x21a")](new(THREE[_0x1dda("0x20a")])(g.x,g.y,g.z,_0x1dda("0x1d8")));c[_0x1dda("0x1d9")][_0x1dda("0x20e")](b)}else c[_0x1dda("0x3d9")].y=t[_0x1dda("0x201")]*THREE[_0x1dda("0x1fa")][_0x1dda("0x619")];else t[_0x1dda("0x208")]||(c[_0x1dda("0x3d9")].y=Math.PI);var v=e[_0x1dda("0x29e")]({x:t.x,y:t.y});v.y=t.height,c.position[_0x1dda("0x20e")](v),c.datas_=this,c.type_=_0x1dda("0x1305"),this[_0x1dda("0x35")][_0x1dda("0xf98")]&&e[_0x1dda("0x17d")][_0x1dda("0x3ae")](c),a||(typeof t[_0x1dda("0xd2")]==_0x1dda("0x177")?c[_0x1dda("0x1d7")][_0x1dda("0xcd")](t[_0x1dda("0xd2")],t[_0x1dda("0xd2")],1):c[_0x1dda("0x1d7")][_0x1dda("0xcd")](t[_0x1dda("0xd2")].w,t.size.w,1)),t[_0x1dda("0x208")]&&e.on("update",(function(){c.lookAt(e.currentCamera[_0x1dda("0xfa")])})),t[_0x1dda("0x2f2")]&&this[_0x1dda("0x2f2")](t.float),this[_0x1dda("0x972")]=!0}d.minFilter=THREE.LinearFilter,this.o3d_[_0x1dda("0xe9")][_0x1dda("0x42")]=d,this[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x42")][_0x1dda("0x172")]=!0,_&&this[_0x1dda("0x35")][_0x1dda("0x195")]&&this.options.callback(this)}}},{key:"map",get:function(){return esmap[_0x1dda("0x33")][_0x1dda("0x34")]}},{key:"ID",get:function(){return this[_0x1dda("0x35")].id}},{key:_0x1dda("0xfc"),get:function(){return this[_0x1dda("0x35")][_0x1dda("0xfc")]}},{key:_0x1dda("0x1e7"),get:function(){return{x:this[_0x1dda("0x35")].x,y:this.options.y}}},{key:"Height",get:function(){return this[_0x1dda("0x35")][_0x1dda("0x18b")]}},{key:_0x1dda("0x1dd"),get:function(){return this[_0x1dda("0x180")].parent[_0x1dda("0xfe")][_0x1dda("0xe5")]}},{key:_0x1dda("0x15a"),set:function(d){this[_0x1dda("0x180")][_0x1dda("0xe9")][_0x1dda("0x15b")]=!d}},{key:_0x1dda("0x1de"),get:function(){return this[_0x1dda("0x1dd")][_0x1dda("0x1de")]}},{key:"url",get:function(){return this.options[_0x1dda("0x4a")]},set:function(d){var x=this;this[_0x1dda("0x35")][_0x1dda("0x4a")]=d,esmap[_0x1dda("0x86")][_0x1dda("0x5ba")](d,(function(d){x[_0x1dda("0x12f9")](d)}))}}]),x}(f[_0x1dda("0xd")]);x[_0x1dda("0xd")]=b},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x12fb")]=function(d){return d[_0x1dda("0x26c")](/\.(jpeg|jpg|gif|png)$/)?_0x1dda("0x2df"):d[_0x1dda("0x26c")](/\.(mp4|mpeg|mpg|avi|wmv)$/)?"video":"unknown"},x[_0x1dda("0x1306")]=s,x[_0x1dda("0x1307")]=o,x[_0x1dda("0x1308")]=function(d,x){if(!d)return[];var a=d;Array[_0x1dda("0x2f4")](d)||(a=[d]);for(var _=[],e=Symbolizer[_0x1dda("0x1322")],t=void 0,i=void 0,n=void 0,s=void 0,l=a[_0x1dda("0x0")]-1;l>=0;l--)if(d=a[l]){x&&(d=c(d));for(var f=0;f<e[_0x1dda("0x0")];f++)if(t=d[e[f]],isFunctionDefinition(t)&&(t=getFunctionTypeResources(t)),t){Array.isArray(t)||(t=[t]);for(var u=0;u<t.length;u++)"url("===t[u][_0x1dda("0x11")](0,4)&&(t[u]=(0,r[_0x1dda("0x1323")])(t[u])),i=Symbolizer[_0x1dda("0x1324")][f],_[_0x1dda("0x10")]([t[u],d[i[0]],d[i[1]]])}if(d[_0x1dda("0x1325")]===_0x1dda("0x29b")&&d.markerPath)if(n=isFunctionDefinition(d[_0x1dda("0x1326")])?200:d.markerWidth,s=isFunctionDefinition(d.markerHeight)?200:d[_0x1dda("0x1327")],isFunctionDefinition(d[_0x1dda("0x1316")])){t=getFunctionTypeResources(d[_0x1dda("0x1316")]);for(var h=d[_0x1dda("0x1316")],g=0;g<t.length;g++)d.markerPath=t[g],_[_0x1dda("0x10")]([o(d),n,s]);d[_0x1dda("0x1316")]=h}else _[_0x1dda("0x10")]([o(d),n,s])}return _},x[_0x1dda("0x1309")]=c;var _,e=a(75),t=a(142),i=(_=t)&&_[_0x1dda("0xc")]?_:{default:_},n=a(4),r=a(382);function s(d){var x={stroke:{stroke:d.markerLineColor,"stroke-width":d[_0x1dda("0x130a")],"stroke-opacity":d[_0x1dda("0x130b")],"stroke-dasharray":null,"stroke-linecap":"butt","stroke-linejoin":_0x1dda("0x8f1")},fill:{fill:d[_0x1dda("0x130c")],"fill-opacity":d[_0x1dda("0x130d")]}};return x.stroke[_0x1dda("0x130e")]===_0x1dda("0x130f")&&i[_0x1dda("0xd")][_0x1dda("0x1310")]&&(x.stroke[_0x1dda("0x130e")]=_0x1dda("0x1311")),0===x.stroke[_0x1dda("0x1312")]&&(x[_0x1dda("0x312")][_0x1dda("0x1313")]=0),x}function o(d,x,a){if(!d.markerPath)return null;var _=1,e=s(d);(0,n.isNumber)(d[_0x1dda("0x1314")])&&(_=d[_0x1dda("0x1314")]),(0,n[_0x1dda("0x1315")])(d[_0x1dda("0x11d")])&&(_*=d[_0x1dda("0x11d")]);var t={};if(e){for(var i in e[_0x1dda("0x312")])e[_0x1dda("0x312")][_0x1dda("0x2")](i)&&((0,n[_0x1dda("0x33a")])(e[_0x1dda("0x312")][i])||(t[i]=e[_0x1dda("0x312")][i]));for(var o in e[_0x1dda("0x420")])e[_0x1dda("0x420")][_0x1dda("0x2")](o)&&((0,n[_0x1dda("0x33a")])(e[_0x1dda("0x420")][o])||(t[o]=e.fill[o]))}for(var c=Array[_0x1dda("0x2f4")](d[_0x1dda("0x1316")])?d.markerPath:[d[_0x1dda("0x1316")]],l=void 0,f=[],u=0;u<c[_0x1dda("0x0")];u++)l=(0,n[_0x1dda("0x332")])(c[u])?{path:c[u]}:c[u],(l=(0,n[_0x1dda("0x4c9")])({},l,t)).d=l.path,delete l[_0x1dda("0x29b")],f[_0x1dda("0x10")](l);var h=[_0x1dda("0x1317"),'xmlns="http://www.w3.org/2000/svg"'];_<1&&h[_0x1dda("0x10")](_0x1dda("0x1318")+_+'"'),d.markerPathWidth&&d.markerPathHeight&&h[_0x1dda("0x10")]('viewBox="0 0 '+d[_0x1dda("0x1319")]+" "+d[_0x1dda("0x131a")]+'"'),h[_0x1dda("0x10")](_0x1dda("0x131b")),x&&h[_0x1dda("0x10")](_0x1dda("0x131c")+x+'"'),a&&h[_0x1dda("0x10")](_0x1dda("0x131d")+a+'"'),h[_0x1dda("0x10")](_0x1dda("0x131e"));for(var g=0;g<f[_0x1dda("0x0")];g++){var b=_0x1dda("0x131f");for(var v in f[g])f[g][_0x1dda("0x2")](v)&&(b+=" "+v+'="'+f[g][v]+'"');b+=_0x1dda("0x1320"),h[_0x1dda("0x10")](b)}return h[_0x1dda("0x10")]("</svg>"),_0x1dda("0x1321")+(0,r.btoa)(h[_0x1dda("0x4a6")](" "))}function c(d){if(!d)return null;var x=d;if(e.IS_NODE)return x;for(var a=Symbolizer[_0x1dda("0x1322")],_=void 0,t=0,i=a[_0x1dda("0x0")];t<i;t++)(_=x[a[t]])&&(x[a[t]]=l(_));return x}function l(d){if(isFunctionDefinition(d)){for(var x=d.stops,a=0;a<x.length;a++)x[a][1]=l(x[a][1]);return d}var _=_0x1dda("0x1328");return d[_0x1dda("0x11")](0,4)===_0x1dda("0x1329")&&(d=(0,r[_0x1dda("0x1323")])(d)),!(0,r[_0x1dda("0x132a")])(d)&&(d[_0x1dda("0x0")]<=_[_0x1dda("0x0")]||d.substring(0,_[_0x1dda("0x0")])!==_)&&(d=function(d,x){var a=d.split("/"),_=x[_0x1dda("0x2a")]("/");if(0===x.slice(0,1))return a[_0x1dda("0x11")](0,3)[_0x1dda("0x4a6")]("/")+x;a[_0x1dda("0xd5")]();for(var e=0;e<_[_0x1dda("0x0")];e++)"."!==_[e]&&(".."===_[e]?a[_0x1dda("0xd5")]():a[_0x1dda("0x10")](_[e]));return a[_0x1dda("0x4a6")]("/")}(location[_0x1dda("0x84")],d)),d}},function(d,x,a){"use strict";Object[_0x1dda("0xa")](x,_0x1dda("0xc"),{value:!0}),x[_0x1dda("0x132b")]=x[_0x1dda("0x132c")]=x.cancelAnimFrame=x[_0x1dda("0x132d")]=void 0;var _,e=a(60),t=(_=e)&&_[_0x1dda("0xc")]?_:{default:_};x[_0x1dda("0x132e")]=function(d){var x=_0x1dda("0x133e");if(d.length>4&&d[_0x1dda("0x11")](-4)===_0x1dda("0x133f"))return 1;if(d.slice(0,x[_0x1dda("0x0")])===x)return 2;return 0},x[_0x1dda("0x132f")]=function d(x,a){if(i[_0x1dda("0x1b1")]&&d.node)return void d.node(x,a);x[_0x1dda("0x4e5")]=a[0]},x[_0x1dda("0x1330")]=c,x[_0x1dda("0x1331")]=function(d){if(!d||!(0,n[_0x1dda("0x332")])(d))return d;return JSON.parse(d)},x.pushIn=function(d,x){for(var a=0,_=x[_0x1dda("0x0")];a<_;a++)d[_0x1dda("0x10")](x[a]);return d[_0x1dda("0x0")]},x.removeFromArray=function(d,x){var a=x[_0x1dda("0xaf")](d);a>-1&&x[_0x1dda("0x6")](a,1)},x[_0x1dda("0x1332")]=function d(x,a,_){if(!Array[_0x1dda("0x2f4")](x))return _?a[_0x1dda("0x3")](_,x):a(x);for(var e=[],t=void 0,i=void 0,r=0,s=x[_0x1dda("0x0")];r<s;r++)t=x[r],(0,n[_0x1dda("0x33a")])(t)?e[_0x1dda("0x10")](null):Array[_0x1dda("0x2f4")](t)?e[_0x1dda("0x10")](d(t,a,_)):(i=_?a.call(_,t):a(t),e[_0x1dda("0x10")](i));return e},x[_0x1dda("0x1333")]=function(d,x){return void 0===d?x:d},x[_0x1dda("0x1334")]=function(d){if(t[_0x1dda("0xd")])return(0,t[_0x1dda("0xd")])(d);if(0===(d=+d)||isNaN(d))return Number(d);return d>0?1:-1},x[_0x1dda("0x1335")]=function(d,x,a){return d*(1-a)+x*a},x[_0x1dda("0x249")]=function(d,x,a){var _=a-x,e=((d-x)%_+_)%_+x;return e===x?a:e},x.clamp=function(d,x,a){return Math[_0x1dda("0x2f6")](a,Math.max(x,d))},x[_0x1dda("0x1336")]=function(d){return Array[_0x1dda("0x2f4")](d)&&d[_0x1dda("0x0")]>0},x[_0x1dda("0x132a")]=function(d){if(!d)return!1;var x=d[_0x1dda("0x11")](0,6);if("http:/"===x||x===_0x1dda("0x1340")||x===_0x1dda("0x1341"))return!0;return!1},x.isCssUrl=u,x[_0x1dda("0x1323")]=function(d){var x=u(d);if(3===x)return d;return 1===x?f.exec(d)[1]:2===x?l[_0x1dda("0x1343")](d)[2]:d},x[_0x1dda("0x1337")]=function(d){if(typeof window!==_0x1dda("0x8")&&window[_0x1dda("0x1337")])return window[_0x1dda("0x1337")](d);for(var x,a,_=String(d),e="",t=0,i=h;_[_0x1dda("0x5b1")](0|t)||(i="=",t%1);e+=i[_0x1dda("0x5b1")](63&x>>8-t%1*8)){if((a=_[_0x1dda("0x2d")](t+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");x=x<<8|a}return e},x.computeDegree=function(d,x){var a=x.x-d.x,_=x.y-d.y;return Math[_0x1dda("0x1345")](_,a)},x[_0x1dda("0x1338")]=function(d,x){if(!d&&!x)return!0;if(!d||!x)return!1;for(var a in d)if(a===_0x1dda("0x122")){if(!x[a]||!g(d[a][0],x[a][0])||!g(d[a][1],x[a][1]))return!1}else if(d[a]!==x[a])return!1;return!0},x[_0x1dda("0x2d3")]=function(d,x,a,_){d||(d=100);x||(x=4);var e=this;x*=2,this[_0x1dda("0x1346")]&&clearTimeout(this[_0x1dda("0x1346")]);return this[_0x1dda("0x1346")]=setTimeout((function t(){if(0===x)return e[_0x1dda("0x215")](),void(a&&(_?a.call(_):a()));x%2==0?e[_0x1dda("0x216")]():e[_0x1dda("0x215")]();x--,e[_0x1dda("0x1346")]=setTimeout(t,d)}),d),this};var i=a(75),n=a(4);var r=void 0,s=void 0;!function(){if(i.IS_NODE)return x[_0x1dda("0x132d")]=r=function(d){return setTimeout(d,16)},void(x[_0x1dda("0x1339")]=s=clearTimeout);var d=void 0,a=void 0;function _(d){return setTimeout(d,33.333333333333336)}function e(d){return window[_0x1dda("0x133a")+d]||window[_0x1dda("0xab5")+d]||window["ms"+d]}typeof window!=_0x1dda("0x8")?(d=window[_0x1dda("0x133b")]||e(_0x1dda("0x133c"))||_,a=window.cancelAnimationFrame||e(_0x1dda("0x133d"))||e("CancelRequestAnimationFrame")||function(d){window[_0x1dda("0x22e")](d)}):(d=_,a=clearTimeout),x[_0x1dda("0x132d")]=r=function(x){return d(x)},x.cancelAnimFrame=s=function(d){d&&a(d)}}(),x[_0x1dda("0x132d")]=r,x[_0x1dda("0x1339")]=s;var o=0;function c(){return o++}x[_0x1dda("0x132c")]=c;var l=/^url\((['"])(.+)\1\)$/i,f=/^url\(([^'"].*[^'"])\)$/i;function u(d){if(!(0,n[_0x1dda("0x332")])(d))return 0;var x=d.slice(0,6);return x===_0x1dda("0x1342")||x===_0x1dda("0x1340")?3:f[_0x1dda("0x29")](d)?1:l.test(d)?2:0}var h=_0x1dda("0x1344");x[_0x1dda("0x132b")]="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function g(d,x,a){return null==a&&(a=1e-6),d>=x-a&&d<=x+a}},function(d,x,a){"use strict";Object.defineProperty(x,_0x1dda("0xc"),{value:!0});var _=r(a(5)),e=r(a(0)),t=r(a(1)),i=r(a(10)),n=r(a(11));function r(d){return d&&d.__esModule?d:{default:d}}var s=function(d){function x(d){return(0,e[_0x1dda("0xd")])(this,x),(0,i.default)(this,(x[_0x1dda("0x11e")]||(0,_.default)(x))[_0x1dda("0x3")](this,d))}return(0,n[_0x1dda("0xd")])(x,d),(0,t[_0x1dda("0xd")])(x,[{key:_0x1dda("0x152"),value:function(){this.needsUpdate=!0}}]),x}(THREE[_0x1dda("0x329")]);x[_0x1dda("0xd")]=s},function(d,x,a){"use strict";var _,e,t,i,n,r,s,o,c,l,f,u,h=v(a(62)),g=v(a(76)),b=v(a(15));function v(d){return d&&d[_0x1dda("0xc")]?d:{default:d}}function p(d,x,a){a(d,x);for(var _=0;_<d[_0x1dda("0xe6")][_0x1dda("0x0")];_++)p(d[_0x1dda("0xe6")][_],x.children[_],a)}THREE[_0x1dda("0xcd3")]={retarget:(s=new(THREE[_0x1dda("0x11c")]),o=new(THREE[_0x1dda("0x20c")]),c=new THREE.Vector3,l=new THREE.Matrix4,f=new(THREE[_0x1dda("0x207")]),u=new(THREE[_0x1dda("0x207")]),function(d,x,a){(a=a||{})[_0x1dda("0x1347")]=void 0===a[_0x1dda("0x1347")]||a[_0x1dda("0x1347")],a[_0x1dda("0x1348")]=void 0===a.preservePosition||a.preservePosition,a[_0x1dda("0x1349")]=void 0!==a[_0x1dda("0x1349")]&&a.preserveHipPosition,a[_0x1dda("0x134a")]=void 0!==a.useTargetMatrix&&a.useTargetMatrix,a.hip=void 0!==a[_0x1dda("0x134b")]?a[_0x1dda("0x134b")]:_0x1dda("0x134b"),a.names=a[_0x1dda("0x134c")]||{};var _,e,t,i,n,r,h=x[_0x1dda("0x134d")]?x[_0x1dda("0x134e")][_0x1dda("0x134f")]:this.getBones(x),g=d[_0x1dda("0x134d")]?d[_0x1dda("0x134e")][_0x1dda("0x134f")]:this.getBones(d);if(d[_0x1dda("0x134d")]?d[_0x1dda("0x134e")][_0x1dda("0x1350")]():(a[_0x1dda("0x134a")]=!0,a[_0x1dda("0x1347")]=!1),a[_0x1dda("0x1348")])for(n=[],r=0;r<g[_0x1dda("0x0")];r++)n[_0x1dda("0x10")](g[r][_0x1dda("0xfa")].clone());if(a[_0x1dda("0x1347")])for(d[_0x1dda("0x6f5")](),d[_0x1dda("0x3ac")][_0x1dda("0x1351")](),r=0;r<d[_0x1dda("0xe6")][_0x1dda("0x0")];++r)d.children[r][_0x1dda("0x6f5")](!0);if(a[_0x1dda("0xf3c")])for(_=[],r=0;r<g[_0x1dda("0x0")];++r)e=g[r],t=a[_0x1dda("0x134c")][e[_0x1dda("0xfc")]]||e[_0x1dda("0xfc")],a[_0x1dda("0xf3c")]&&a[_0x1dda("0xf3c")][t]&&(e[_0x1dda("0x1f6")][_0x1dda("0x209")](a[_0x1dda("0xf3c")][t]),e[_0x1dda("0x1f6")].decompose(e[_0x1dda("0xfa")],e[_0x1dda("0x1d9")],e[_0x1dda("0x1d7")]),e.updateMatrixWorld()),_[_0x1dda("0x10")](e[_0x1dda("0x3ac")][_0x1dda("0x116")]());for(r=0;r<g.length;++r){if(e=g[r],t=a[_0x1dda("0x134c")][e[_0x1dda("0xfc")]]||e.name,i=this[_0x1dda("0x1352")](t,h),u[_0x1dda("0x20e")](e.matrixWorld),i){if(i[_0x1dda("0x6f5")](),a[_0x1dda("0x134a")]?f.copy(i[_0x1dda("0x3ac")]):(f[_0x1dda("0x1353")](d.matrixWorld),f[_0x1dda("0x209")](i[_0x1dda("0x3ac")])),c[_0x1dda("0x1354")](f),f[_0x1dda("0x1d7")](c[_0x1dda("0xcd")](1/c.x,1/c.y,1/c.z)),u[_0x1dda("0x1355")](o[_0x1dda("0x230")](f)),d.isObject3D){var b=g[_0x1dda("0xaf")](e),v=_?_[b]:l.getInverse(d.skeleton[_0x1dda("0x1356")][b]);u[_0x1dda("0x209")](v)}u[_0x1dda("0x1357")](f)}e[_0x1dda("0xfe")]&&e.parent[_0x1dda("0x818")]?(e[_0x1dda("0x1f6")][_0x1dda("0x1353")](e.parent[_0x1dda("0x3ac")]),e[_0x1dda("0x1f6")][_0x1dda("0x209")](u)):e[_0x1dda("0x1f6")][_0x1dda("0x20e")](u),a.preserveHipPosition&&t===a.hip&&e.matrix[_0x1dda("0x1f7")](s[_0x1dda("0xcd")](0,e[_0x1dda("0xfa")].y,0)),e[_0x1dda("0x1f6")][_0x1dda("0x1358")](e[_0x1dda("0xfa")],e[_0x1dda("0x1d9")],e[_0x1dda("0x1d7")]),e.updateMatrixWorld()}if(a[_0x1dda("0x1348")])for(r=0;r<g[_0x1dda("0x0")];++r)e=g[r],(t=a[_0x1dda("0x134c")][e[_0x1dda("0xfc")]]||e[_0x1dda("0xfc")])!==a.hip&&e[_0x1dda("0xfa")][_0x1dda("0x20e")](n[r]);a[_0x1dda("0x1347")]&&d[_0x1dda("0x6f5")](!0)}),retargetClip:function(d,x,a,_){(_=_||{}).useFirstFramePosition=void 0!==_[_0x1dda("0x1359")]&&_[_0x1dda("0x1359")],_[_0x1dda("0x135a")]=void 0!==_[_0x1dda("0x135a")]?_[_0x1dda("0x135a")]:30,_[_0x1dda("0x134c")]=_[_0x1dda("0x134c")]||[],x[_0x1dda("0x134d")]||(x=this[_0x1dda("0x135b")](x));var e,t,i,n,r,s,o=Math[_0x1dda("0x8f1")](a[_0x1dda("0x18c")]*(_[_0x1dda("0x135a")]/1e3)*1e3),c=1/_[_0x1dda("0x135a")],l=[],f=new(THREE[_0x1dda("0x251")])(x),u=this[_0x1dda("0x135c")](d[_0x1dda("0x134e")]),h=[];for(f[_0x1dda("0x252")](a)[_0x1dda("0x261")](),f[_0x1dda("0x152")](0),x[_0x1dda("0x6f5")](),r=0;r<o;++r){var g=r*c;for(this[_0x1dda("0x135d")](d,x,_),s=0;s<u[_0x1dda("0x0")];++s)n=_[_0x1dda("0x134c")][u[s][_0x1dda("0xfc")]]||u[s].name,this[_0x1dda("0x1352")](n,x.skeleton)&&(t=u[s],i=h[s]=h[s]||{bone:t},_[_0x1dda("0x134b")]===n&&(i.pos||(i[_0x1dda("0x3d8")]={times:new Float32Array(o),values:new Float32Array(3*o)}),_[_0x1dda("0x1359")]&&(0===r&&(e=t[_0x1dda("0xfa")][_0x1dda("0x116")]()),t[_0x1dda("0xfa")][_0x1dda("0x4cf")](e)),i[_0x1dda("0x3d8")][_0x1dda("0x189")][r]=g,t[_0x1dda("0xfa")][_0x1dda("0x135e")](i[_0x1dda("0x3d8")][_0x1dda("0xd9")],3*r)),i.quat||(i[_0x1dda("0x135f")]={times:new Float32Array(o),values:new Float32Array(4*o)}),i[_0x1dda("0x135f")].times[r]=g,t[_0x1dda("0x1d9")][_0x1dda("0x135e")](i[_0x1dda("0x135f")].values,4*r));f[_0x1dda("0x152")](c),x[_0x1dda("0x6f5")]()}for(r=0;r<h.length;++r)(i=h[r])&&(i.pos&&l[_0x1dda("0x10")](new THREE.VectorKeyframeTrack(_0x1dda("0x1360")+i[_0x1dda("0x1361")][_0x1dda("0xfc")]+"].position",i[_0x1dda("0x3d8")].times,i.pos[_0x1dda("0xd9")])),l[_0x1dda("0x10")](new(THREE[_0x1dda("0x885")])(_0x1dda("0x1360")+i.bone[_0x1dda("0xfc")]+_0x1dda("0x1362"),i.quat[_0x1dda("0x189")],i[_0x1dda("0x135f")][_0x1dda("0xd9")])));return f[_0x1dda("0x1363")](a),new THREE.AnimationClip(a[_0x1dda("0xfc")],-1,l)},getHelperFromSkeleton:function(d){var x=new(THREE[_0x1dda("0x1364")])(d.bones[0]);return x[_0x1dda("0x134e")]=d,x},getSkeletonOffsets:(_=new THREE.Vector3,e=new THREE.Vector3,t=new(THREE[_0x1dda("0x11c")]),i=new(THREE[_0x1dda("0x11c")]),n=new(THREE[_0x1dda("0x50f")]),r=new(THREE[_0x1dda("0x50f")]),function(d,x,a){(a=a||{})[_0x1dda("0x134b")]=void 0!==a[_0x1dda("0x134b")]?a[_0x1dda("0x134b")]:_0x1dda("0x134b"),a.names=a[_0x1dda("0x134c")]||{},x[_0x1dda("0x134d")]||(x=this[_0x1dda("0x135b")](x));var s,o,c,l,f=(0,b[_0x1dda("0xd")])(a[_0x1dda("0x134c")]),u=(0,g.default)(a[_0x1dda("0x134c")]),h=x[_0x1dda("0x134d")]?x.skeleton[_0x1dda("0x134f")]:this[_0x1dda("0x135c")](x),v=d[_0x1dda("0x134d")]?d.skeleton.bones:this[_0x1dda("0x135c")](d),p=[];for(d[_0x1dda("0x134e")][_0x1dda("0x1350")](),l=0;l<v[_0x1dda("0x0")];++l)if(s=v[l],c=a[_0x1dda("0x134c")][s[_0x1dda("0xfc")]]||s[_0x1dda("0xfc")],(o=this[_0x1dda("0x1352")](c,h))&&c!==a[_0x1dda("0x134b")]){var m=this.getNearestBone(s[_0x1dda("0xfe")],f),A=this.getNearestBone(o.parent,u);m[_0x1dda("0x6f5")](),A[_0x1dda("0x6f5")](),_[_0x1dda("0x6ea")](m.matrixWorld),e[_0x1dda("0x6ea")](s[_0x1dda("0x3ac")]),t[_0x1dda("0x6ea")](A.matrixWorld),i.setFromMatrixPosition(o.matrixWorld),n[_0x1dda("0x89f")](new(THREE[_0x1dda("0x50f")])(e.x,e.y),new THREE.Vector2(_.x,_.y))[_0x1dda("0x2cc")](),r.subVectors(new(THREE[_0x1dda("0x50f")])(i.x,i.y),new(THREE[_0x1dda("0x50f")])(t.x,t.y))[_0x1dda("0x2cc")]();var C=n.angle()-r[_0x1dda("0x201")](),I=(new(THREE[_0x1dda("0x207")])).makeRotationFromEuler(new(THREE[_0x1dda("0x20a")])(0,0,C));s[_0x1dda("0x1f6")][_0x1dda("0x209")](I),s[_0x1dda("0x1f6")][_0x1dda("0x1358")](s[_0x1dda("0xfa")],s.quaternion,s[_0x1dda("0x1d7")]),s[_0x1dda("0x6f5")](),p[c]=I}return p}),renameBones:function(d,x){for(var a=this.getBones(d),_=0;_<a[_0x1dda("0x0")];++_){var e=a[_];x[e[_0x1dda("0xfc")]]&&(e[_0x1dda("0xfc")]=x[e[_0x1dda("0xfc")]])}return this},getBones:function(d){return Array[_0x1dda("0x2f4")](d)?d:d.bones},getBoneByName:function(d,x){for(var a=0,_=this[_0x1dda("0x135c")](x);a<_[_0x1dda("0x0")];a++)if(d===_[a].name)return _[a]},getNearestBone:function(d,x){for(;d.isBone;){if(-1!==x[_0x1dda("0xaf")](d[_0x1dda("0xfc")]))return d;d=d[_0x1dda("0xfe")]}},findBoneTrackData:function(d,x){for(var a=/\[(.*)\]\.(.*)/,_={name:d},e=0;e<x[_0x1dda("0x0")];++e){var t=a[_0x1dda("0x1343")](x[e][_0x1dda("0xfc")]);t&&d===t[1]&&(_[t[2]]=e)}return _},getEqualsBonesNames:function(d,x){var a=this[_0x1dda("0x135c")](d),_=this[_0x1dda("0x135c")](x),e=[];d:for(var t=0;t<a.length;t++)for(var i=a[t][_0x1dda("0xfc")],n=0;n<_[_0x1dda("0x0")];n++)if(i===_[n][_0x1dda("0xfc")]){e[_0x1dda("0x10")](i);continue d}return e},clone:function(d){var x=new h.default,a=new(h[_0x1dda("0xd")]),_=d.clone();return p(d,_,(function(d,_){x.set(_,d),a[_0x1dda("0xcd")](d,_)})),_[_0x1dda("0xf8")]((function(d){if(d[_0x1dda("0x819")]){var _=d,e=x[_0x1dda("0xd6")](d),t=e.skeleton[_0x1dda("0x134f")];_[_0x1dda("0x134e")]=e[_0x1dda("0x134e")].clone(),_[_0x1dda("0x1365")][_0x1dda("0x20e")](e[_0x1dda("0x1365")]),_.skeleton.bones=t[_0x1dda("0x42")]((function(d){return a.get(d)})),_[_0x1dda("0x4e")](_[_0x1dda("0x134e")],_[_0x1dda("0x1365")])}})),_}}}]));

/*ESWorldTools 2.0 2024-1-10 10:51:08*/
var _0x2a59=['miny','deg)','innerHTML','beginTime','isCheckFrameRateComplete','_tempFrameRateList','begin','prevTime','trimmedMean','reduce','computeAverageFps','mark','wrap','prev','sleep','_tempResultList','stop','regeneratorRuntime','@@asyncIterator','@@toStringTag','_invoke','Generator\x20is\x20already\x20running','method','arg','delegate','The\x20iterator\x20does\x20not\x20provide\x20a\x20\x27throw\x27\x20method','nextLoc','iterator\x20result\x20is\x20not\x20an\x20object','sent','_sent','dispatchException','abrupt','__await','catchLoc','finallyLoc','afterLoc','tryEntries','completion','suspendedStart','suspendedYield','executing','completed','GeneratorFunction','isGeneratorFunction','displayName','setPrototypeOf','AsyncIterator','async','Generator','reverse','tryLoc','try\x20statement\x20without\x20catch\x20or\x20finally','break','continue','rval','illegal\x20catch\x20attempt','searchEffectMarker','markerType','names','ES3DMarker','setOutline','ESModel3D','removeOutline','setFrameLine','showBoatFoam','setUvTransform','ESPolygonMarker','setBloomLight','ESFloorManager','getEffectLayersByNames','TWEEN','_tweensAddedDuringUpdate','getId','_tweens','_isPlaying','_nextId','hrtime','performance','getTime','_object','_valuesStart','_valuesEnd','_valuesStartRepeat','_repeatDelayTime','_yoyo','_reversed','_startTime','_easingFunction','_interpolationFunction','Interpolation','_onStartCallback','_onStartCallbackFired','_onUpdateCallback','_onStopCallback','_group','_duration','_delayTime','_chainedTweens','_repeat','_onCompleteCallback','_onRepeatCallback','Bounce','Utils','Bernstein','CatmullRom','Factorial','setTimeout\x20has\x20not\x20been\x20defined','clearTimeout\x20has\x20not\x20been\x20defined','run','fun','browser','env','argv','addListener','removeListener','removeAllListeners','prependListener','prependOnceListener','listeners','binding','process.binding\x20is\x20not\x20supported','cwd','chdir','umask','_tempRaf','_tileUpdateLock','tileType','tileUrl','tileurl','levelOffset','tileSourceLevelOffset','levelMax','tileSourceMaxLevel','levelExtent','tileTheme','isShowTileSourceLicense','isOpenControllerInertia','tileSourceMinLevel','tileSourceLevelExtent','isInitShow','waterOriginColor','waterReplaceColor','waterSkyTexture','DEFAULT_THEME','PlanarView','tileThemeConfigs','tileMapView','ESTileControls','camera3D','resetControls','levelChange','level','getSkybox','getShadow','enableDamping','16px','fontSize','12px','rgba(255,\x20255,\x20255,\x200.8)','borderTopLeftRadius','#000','google.cn','\x20|\x20Â©\x20è°·æ­å°å¾\x20','\x20|\x20Â©\x20é«å¾·å°å¾\x20','https://map.amap.com/doc/serviceitem.html','tianditu.gov.cn','\x20|\x20Â©\x20å¤©å°å¾\x20','geoq.cn','\x20|\x20Â©\x20GeoQ\x20','http://www.geoq.cn/index.html','text','href','link','_blank','paddingRight','4px','100%','backdropFilter','blur(10px)','TMSSource','image/png','https://webst02.is.autonavi.com/appmaptile?style=7&x=${x}&y=${y}&z=${z}','TMS_Map','EPSG:3857','GCJ02','ColorLayer','estile_map','currLayer','tileLayer','notifyChange','controlUpdated','radiusFactor','tiltAngle','cameraAnimateUpdate','Cannot\x20read\x20property\x20\x27radius\x27\x20of\x20undefined','changeFocusFloor','Before\x20executing\x20the\x20cameraFlyTo,\x20','\x20needs\x20to\x20be\x20opened','getZoomFromSphereRadius','_tempMaxPolarAngle','delay','zoomLevelTo','scaleLevel','preLoadBuildingId','getEarthZoomRadius','startZoom','defaultView','scaleLevelAnimate','initCameraPos','ESViewMode','MODE_2D','initTop_','MODE_3D','maxNearGroundPolarAngle','_tempMaxNearGroundPolarAngle','checkIsUseNearGroundPolarAngle','autoRotate','tileScene_','targetLevel','initPitchAngle','tileShowLevel','%c\x20The\x20parameter\x20tileShowLevel\x20of\x20the\x20ESMap\x20instance\x20needs\x20to\x20be\x20less\x20than\x20the\x20value\x20of\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scaleLevelAnimate.targetLevel','\x20in\x20ESTileMap.','cursor','isNeedAnimate','pitchAnimate','openTileClick','tileClickDebug','dblclick','updateTile','tileMapInitComplete','_earthZoom','pointToPointAnimate','updateTileView','registerClickEvent','selectEffect','randomTexture','pickableBuildings','__trl','encode64','TjEySDU2TS4xSDU0TA==','X3t3SGlzWmVwSGdO','_testTileUrl','isExecuteInit','isChangeDefaultTheme','skyColor','isOpenGrayFilter','createColorMapping','colorMapping','colors','lutImg','isOpenLutFilter','isSetDeepenColor','brightness','saturation','tileWater','replaceColor','waterSparklingColor','zoomTo','getLoLaFromWorldPos','minLevel','minEarthZoom','maxEarthZoom','maxLevel','isLockEarthZoom','_maxEarthZoom','_isOpenAlpha','_isSetAlpha','_alpha','tileView','mouseDown','_mousemove','mouseMove','_touchstart','_touchmove','_touchend','mouseUp','isMouseMove','_mousedown','_mouseup','moveCount','DataTexture','call','exports','defineProperty','toStringTag','Module','__esModule','object','string','bind','default','prototype','hasOwnProperty','/dist/','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','length','enumerable','value','writable','key','number','function','apply','virtual','undefined','Math','return\x20this','wks','Symbol','Symbol.','store','set','\x20is\x20not\x20an\x20object!','coordMapToThree','mode','MapMode','City','ESMap','instance','debounce','getOS','directionFromAlphaBeta','getConfigAssetsPath','selectBuildingMapEffectConfigPath','selectCityMapEffectConfigPath','getMaterialByRoomStyle','getOutdoorBuildingTheme','getBuiding','setPositionFromMc','checkIsParkEngine','checkIsCityEngine','coordTransToThree','Building','getBuildingById','innerCoordTransToThree','sceneX_','mapScene','sceneZ_','ESMapUtil','Park','getMapInstance','mapTheme','themeList','datas_','RoomStyle','material','userData','onlineEffectThemeId','effectId','effectThemeId','tid','options','serverUrl','/worldeffect/','/EsmapTileData/','Effect','mapDataSrc','/effects/','indexOf','upload/','ESEffectTool','configUserPath','configPath','mapService','getState','EFFECT_EDITOR','effectThemeSrc','match','replace','clearShaderCode','vertexShader','fragmentShader','cos','sin','test','userAgent','Expected\x20a\x20function','cannel','keys','toString','random','Symbol(','concat','String','CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList','split','Array','propertyIsEnumerable','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function,\x20not\x20','__proto__','Can\x27t\x20call\x20method\x20on\x20\x20','IE_PROTO','style','display','none','appendChild','javascript:','contentWindow','document','open','<script>document.F=Object</script>','close','create','\x20is\x20not\x20a\x20function!','ceil','floor','versions','version','pure','Â©\x202020\x20Denis\x20Pushkarev\x20(zloirock.ru)','EventDispatcher','_listeners','push','type','slice','createElement','next','values','\x20Iterator','entries','name','charAt','min','Arguments','Undefined','Object','callee','symbol','\x20is\x20not\x20iterable!','BREAK','RETURN','ModelGradient','ModelTerrain','BoatFoam','ModelLightBlend','ModelBlendEffect','GroundBlend','ProjectionVideo','TextureUvAnimation','PlaneVideo','CirclePlane','MirroWater','MulripleMeshLine','Explosion','FloatPoints','Fire','SmokeSpread','Smoke','FireSmoke','PlaneSnowEffect','PlaneRainEffect','PlaneTerrainEffect','PlaneFogEffect','PlaneWindEffect','EdgeLineEffect','ScrollWallEffect','ExtentWallEffect','CylinderSpreadEffect','CircleRippleEffect','SpriteUvAnimation','PointsLine','CircleRotateYMarker','CylinderFloatMarker','CubeFloatMarker','CameraFlyTo','HeatMapEffect','BuildingsTexture2','SelectPoint','MapTileWater','ClearSky','CubeSkybox','Skybox','ModelUvAnimation','NumberUpEffect','WaterSpread','PlaneCrossLine','EnvTextureLoader','WaterShape','ClearSkyGround','ESInstanceMesh','ModelFresnelEffect','ModelHeatMap','div','iterator','@@iterator','preventExtensions','dispose','map','geometry','traverse','remove','parent','defineProperties','documentElement','getPrototypeOf','constructor','textureLoader','TextureLoader','textureList','load','texture','checkTextureIsLoaded','path','return','multiTexturesLoad','textureLoad','all','loadSixPicCubeTexture','CubeTextureLoader','loadTexture','TypedArrayHelper','componentSize','size','TypedArrayConstructor','indexOffset','setSize','array','shrink','grow','info','TypedArray\x20is\x20already\x20of\x20size:','Will\x20not\x20resize.','subarray','splice','setFromArray','setVec2','setVec2Components','setVec3Components','setVec4Components','setMat3','elements','setMat4','setColor','setNumber','getValueAtIndex','getComponentValueAtIndex','ShaderAttribute','arrayType','bufferAttribute','dynamicBuffer','updateMin','updateMax','typeSizeMap','setUpdateRange','max','updateRange','offset','typedArray','needsUpdate','resetUpdateRange','resetDynamic','dynamic','forceUpdateAll','_ensureTypedArray','_createBufferAttribute','REVISION','count','itemSize','BufferAttribute','getLength','#define\x20PACKED_COLOR_DIVISOR\x20255.0','join','uniform\x20float\x20deltaTime;','uniform\x20float\x20runTime;','uniform\x20sampler2D\x20texture1;','uniform\x20vec4\x20textureAnimation;','uniform\x20float\x20scale;','attribute\x20vec4\x20acceleration;','attribute\x20vec3\x20velocity;','attribute\x20vec4\x20params;','attribute\x20vec4\x20size;','attribute\x20vec4\x20angle;','attribute\x20vec4\x20color;','attribute\x20vec4\x20opacity;','varying\x20vec4\x20vColor;','#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20varying\x20float\x20vAngle;','#endif','#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20return\x20max(sign(x\x20-\x20y),\x200.0);','float\x20when_lt(float\x20x,\x20float\x20y)\x20{','\x20\x20\x20\x20return\x20min(\x20max(1.0\x20-\x20sign(x\x20-\x20y),\x200.0),\x201.0\x20);','float\x20when_eq(\x20float\x20x,\x20float\x20y\x20)\x20{','\x20\x20\x20\x20return\x201.0\x20-\x20abs(\x20sign(\x20x\x20-\x20y\x20)\x20);','float\x20when_ge(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_lt(x,\x20y);','float\x20when_le(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_gt(x,\x20y);','float\x20and(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20a\x20*\x20b;','float\x20or(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20min(a\x20+\x20b,\x201.0);','vec3\x20unpackColor(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20float\x20g\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20float\x20b\x20=\x20mod(\x20hex,\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20c.r\x20=\x20r\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20return\x20c;','vec3\x20unpackRotationAxis(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c\x20*=\x20vec3(\x202.0\x20);','\x20\x20\x20c\x20-=\x20vec3(\x201.0\x20);','float\x20getFloatOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec4\x20attr\x20)\x20{','\x20\x20\x20\x20highp\x20float\x20value\x20=\x200.0;','\x20\x20\x20\x20float\x20deltaAge\x20=\x20positionInTime\x20*\x20float(\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201\x20);','\x20\x20\x20\x20float\x20shouldApplyValue\x20=\x200.0;','\x20\x20\x20\x20value\x20+=\x20attr[\x200\x20]\x20*\x20when_eq(\x20deltaAge,\x200.0\x20);','\x20\x20\x20\x20for(\x20int\x20i\x20=\x200;\x20i\x20<\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201;\x20++i\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20fIndex\x20=\x20float(\x20i\x20);','\x20\x20\x20\x20\x20\x20\x20shouldApplyValue\x20=\x20and(\x20when_gt(\x20deltaAge,\x20fIndex\x20),\x20when_le(\x20deltaAge,\x20fIndex\x20+\x201.0\x20)\x20);','\x20\x20\x20\x20\x20\x20\x20value\x20+=\x20shouldApplyValue\x20*\x20mix(\x20attr[\x20i\x20],\x20attr[\x20i\x20+\x201\x20],\x20deltaAge\x20-\x20fIndex\x20);','\x20\x20\x20\x20}','\x20\x20\x20\x20return\x20value;','vec3\x20getColorOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec3\x20color1,\x20in\x20vec3\x20color2,\x20in\x20vec3\x20color3,\x20in\x20vec3\x20color4\x20)\x20{','\x20\x20\x20\x20value.y\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.y,\x20color2.y,\x20color3.y,\x20color4.y\x20)\x20);','\x20\x20\x20\x20value.z\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.z,\x20color2.z,\x20color3.z,\x20color4.z\x20)\x20);','float\x20getAlive()\x20{','\x20\x20\x20return\x20params.x;','float\x20getAge()\x20{','\x20\x20\x20return\x20params.y;','float\x20getMaxAge()\x20{','float\x20getWiggle()\x20{','\x20\x20\x20return\x20params.w;','vec4\x20getPosition(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20return\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x20\x20\x20return\x20velocity\x20*\x20age;','vec3\x20getAcceleration(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20return\x20acceleration.xyz\x20*\x20age;','#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20mat4\x20getRotationMatrix(\x20in\x20vec3\x20axis,\x20in\x20float\x20angle)\x20{','\x20\x20\x20\x20\x20\x20\x20axis\x20=\x20normalize(axis);','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20oc\x20=\x201.0\x20-\x20c;','\x20\x20\x20\x20\x20\x20\x20return\x20mat4(oc\x20*\x20axis.x\x20*\x20axis.x\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20-\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20+\x20axis.y\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20+\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.y\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20-\x20axis.x\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20-\x20axis.y\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20+\x20axis.x\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.z\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,','\x20\x20\x20}','\x20\x20\x20vec3\x20getRotation(\x20in\x20vec3\x20pos,\x20in\x20float\x20positionInTime\x20)\x20{','\x20\x20\x20\x20\x20\x20if(\x20rotation.y\x20==\x200.0\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20pos;','\x20\x20\x20\x20\x20\x20vec3\x20axis\x20=\x20unpackRotationAxis(\x20rotation.x\x20);','\x20\x20\x20\x20\x20\x20vec3\x20center\x20=\x20rotationCenter;','\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x200.0;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_eq(\x20rotation.z,\x200.0\x20)\x20*\x20rotation.y;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_gt(\x20rotation.z,\x200.0\x20)\x20*\x20mix(\x200.0,\x20rotation.y,\x20positionInTime\x20);','\x20\x20\x20\x20\x20\x20translated\x20=\x20rotationCenter\x20-\x20pos;','\x20\x20\x20\x20\x20\x20rotationMatrix\x20=\x20getRotationMatrix(\x20axis,\x20angle\x20);','\x20\x20\x20\x20\x20\x20return\x20center\x20-\x20vec3(\x20rotationMatrix\x20*\x20vec4(\x20translated,\x200.0\x20)\x20);','\x20\x20\x20\x20vec2\x20vUv\x20=\x20vec2(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20gl_PointCoord.x\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x201.0\x20-\x20gl_PointCoord.y\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20-vAngle\x20);','\x20\x20\x20\x20#endif','\x20\x20\x20\x20#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20vSpriteSheet.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20vSpriteSheet.w;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.y\x20=\x201.0\x20-\x20(gl_PointCoord.y\x20*\x20framesY\x20+\x20rowNorm);','shaderChunks','defines','attributes','varyings','ShaderChunk','common','logdepthbuf_pars_vertex','fog_pars_vertex','branchAvoidanceFunctions','unpackColor','unpackRotationAxis','floatOverLifetime','colorOverLifetime','paramFetchingFunctions','void\x20main()\x20{','\x20\x20\x20\x20highp\x20float\x20maxAge\x20=\x20getMaxAge();','\x20\x20\x20\x20highp\x20float\x20positionInTime\x20=\x20(age\x20/\x20maxAge);','\x20\x20\x20\x20highp\x20float\x20isAlive\x20=\x20when_gt(\x20alive,\x200.0\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleSin\x20=\x20isAlive\x20*\x20sin(\x20wiggleAmount\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleCos\x20=\x20isAlive\x20*\x20cos(\x20wiggleAmount\x20);','\x20\x20\x20\x20vec3\x20vel\x20=\x20getVelocity(\x20age\x20);','\x20\x20\x20\x20vec3\x20accel\x20=\x20getAcceleration(\x20age\x20);','\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(\x20position\x20);','\x20\x20\x20\x20float\x20drag\x20=\x201.0\x20-\x20(positionInTime\x20*\x200.5)\x20*\x20acceleration.w;','\x20\x20\x20\x20force\x20+=\x20vel;','\x20\x20\x20\x20force\x20*=\x20drag;','\x20\x20\x20\x20force\x20+=\x20accel\x20*\x20age;','\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20pos.x\x20+=\x20wiggleSin;','\x20\x20\x20\x20\x20\x20\x20\x20pos.y\x20+=\x20wiggleCos;','\x20\x20\x20\x20\x20\x20\x20\x20pos.z\x20+=\x20wiggleSin;','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20pos,\x201.0\x20);','\x20\x20\x20\x20highp\x20float\x20pointSize\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20size\x20)\x20*\x20isAlive;','\x20\x20\x20\x20#ifdef\x20HAS_PERSPECTIVE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x20scale\x20/\x20length(\x20mvPosition.xyz\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x201.0;','\x20\x20\x20\x20float\x20pointSizePerspective\x20=\x20pointSize\x20*\x20perspective;','\x20\x20\x20\x20#ifdef\x20COLORIZE','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20positionInTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.z\x20),','\x20\x20\x20\x20\x20\x20\x20);','\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20vec3(1.0);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20c,\x20o\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20textureAnimation.x;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20textureAnimation.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20loopCount\x20=\x20textureAnimation.w;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20totalFrames\x20=\x20textureAnimation.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20row\x20=\x20floor(\x20(frameNumber\x20-\x20column)\x20/\x20framesX\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20column\x20/\x20framesX;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.x\x20=\x201.0\x20/\x20framesX;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.y\x20=\x201.0\x20/\x20framesY;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.z\x20=\x20columnNorm;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.w\x20=\x20rowNorm;','logdepthbuf_vertex','uniforms','fog_pars_fragment','logdepthbuf_pars_fragment','\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20vColor.xyz;','\x20\x20\x20\x20\x20\x20\x20if\x20(\x20vColor.w\x20<\x20float(ALPHATEST)\x20)\x20discard;','rotateTexture','logdepthbuf_fragment','\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20outgoingLight.xyz,\x20rotatedTexture.w\x20*\x20vColor.w\x20);','fog_fragment','utils','isArray','ensureTypedArg','ensureInstanceOf','_value','_spread','clamp','interpolateArray','clone','types','NUMBER','Vector2','lerp','Vector3','Vector4','Color','abs','roundToNearestMultiple','getHex','sqrt','round','randomFloat','copy','normalize','add','multiplyScalar','Group','OBJECT','uuid','generateUUID','fixedTimeStep','frames','textureFrames','hasPerspective','BOOLEAN','colorize','maxParticleCount','blending','AdditiveBlending','transparent','depthWrite','depthTest','fog','scale','emitters','_pool','_poolCreationSettings','_createNewWhenPoolEmpty','_attributesNeedRefresh','particleCount','textureFrameCount','attributeKeys','attributeCount','ShaderMaterial','shaders','vertex','fragment','mesh','_updateDefines','SHOULD_CALCULATE_SPRITE','SHOULD_ROTATE_TEXTURE','angle','spread','SHOULD_ROTATE_PARTICLES','rotation','angleSpread','SHOULD_WIGGLE_PARTICLES','wiggle','_applyAttributesToGeometry','addAttribute','setDrawRange','addEmitter','error','`emitter`\x20argument\x20must\x20be\x20instance\x20of\x20SPE.Emitter.\x20Was\x20provided\x20with:','emitterIDs','Emitter\x20already\x20exists\x20in\x20this\x20group.\x20Will\x20not\x20add\x20again.','_calculatePPSValue','maxAge','_setBufferUpdateRanges','_setAttributeOffset','_assignForceValue','acceleration','_assignAbsLifetimeValue','_assignAngleValue','_assignRotationValue','_assignParamsValue','_assignColorValue','Emitter\x20already\x20belongs\x20to\x20another\x20group.\x20Will\x20not\x20add\x20to\x20requested\x20group.','removeEmitter','Emitter','Emitter\x20does\x20not\x20exist\x20in\x20this\x20group.\x20Will\x20not\x20remove.','_onRemove','getFromPool','pop','releaseIntoPool','reset','unshift','Argument\x20is\x20not\x20instanceof\x20SPE.Emitter:','getPool','addPool','_triggerSingleEmitter','position','enable','disable','duration','_updateUniforms','runTime','deltaTime','_resetBufferRanges','bufferUpdateRanges','tick','_attributesNeedDynamicReset','_updateBuffers','valueOverLifetimeLength','velocity','radius','drag','color','opacity','onParticleSpawn','distributions','BOX','spreadClamp','randomise','radiusScale','distributionClamp','distribution','axis','axisSpread','static','center','ensureArrayInstanceOf','ensureArrayTypedArg','isStatic','direction','alive','activationIndex','attributeOffset','age','activeParticleCount','group','updateCounts','updateMap','params','updateFlags','ensureValueOverLifetimeCompliance','_createGetterSetters','_rotationCenter','rotationCenter','_randomise','resetFlags','POSITIVE_INFINITY','particlesPerSecond','activationEnd','_assignValue','_assignPositionValue','_distribution','_spreadClamp','SPHERE','_distributionClamp','DISC','randomVector3','randomDirectionVector3OnSphere','randomDirectionVector3OnDisc','arrayValuesAreEqual','getPackedRotationAxis','_axis','_angle','_angleSpread','_static','setVec3','_center','_resetParticle','_updateAttributeUpdateRange','bufferUpdateKeys','NEGATIVE_INFINITY','_decrementParticleCount','_incrementParticleCount','_checkParticleAges','paramsArray','activeMultiplier','_activateParticles','Emitter\x20does\x20not\x20belong\x20to\x20a\x20group,\x20cannot\x20remove.','charCodeAt','MarkerFuncName','ESEffectsConstant','ESModelEffectConstant','ESParkConstant','ESTileConstant','CommonConstant','ESMarkerLevel','ESMarkerType','cylinder_float','circle_rotate','circle_ripple','circle_bips','circles_radian_rotate','circle_breath','transfer_line','points','underground_line','fire_smoke','smoke','smoke_spread','fire','explosion','water_spread','float_points','routes_line','up_line','plane_video','plane_wind','plane_fog','plane_terrain','signal_wifi','sprite_sheet','CylinderSpreadMarker','CircleRadianMarker','MultiCircleBreathMarker','CurveLinkLine','UpLine','Points','UnderGroundLine','SphereSpreadMarker','ExtentWallMarker','SmokeMarker','SmokeSpreadMarker','FireMarker','WaterSpreadMarker','FloatPointsMarker','SignalWifiMarker','PlaneWindMarker','PlaneTerrainMarker','SpriteSheetMarker','INDOOR','PARK','CITY','light','technology','style1','dark','night','day','style2','noface','lineframe','transparentHL','promise','Bad\x20Promise\x20constructor','resolve','KEY','stringify','_hidden','symbol-registry','symbols','op-symbols','findChild','\x20is\x20not\x20a\x20symbol!','[null]','JSON','valueOf','getOwnPropertyNames','asyncIterator','observable','Incompatible\x20receiver,\x20','\x20required!','species','assign','forEach','data','process','setImmediate','clearImmediate','Dispatch','onreadystatechange','nextTick','now','port2','port1','onmessage','postMessage','addEventListener','importScripts','script','removeChild','timer','xCount','yCount','fps','xStart','yStart','imageHeight','xSize','ySize','xIndex','yIndex','isAutoClip','isNeedTargetFrameStart','targetFrame','isLoop','isLockUpdate','loopCount','repeat','setTextureByStartFrame','getElapsedTime','imageWidth','dispatchEvent','targetFrameStart','setStandardMaterialParams','requestEffectThemeConfig','jsonFileLoader','parse','FileLoader','effects.json','roughness','metalness','mirrorReflection','from','view','controls','isFlying','flyTo','moveSpeed','zoomSpeed','pitchAngle','complete','ESDirection','target','distanceTo','_cameraSphericalRadius','NORTH','SOUTH','WAST','EAST','NORTH_EAST','NORTH_WEST','SOUTH_EAST','moveToAnimate','cameraPosition','flyFocusTo','directionAngle','callback','tileUpdateCallbacks','toggleControlsLock','degToRad','Tween','Easing','Quadratic','Out','onStart','start','onUpdate','update','onComplete','checkScaleLevel','updateLookAtPos','enableRotate','enableZoom','get','NEED','setStrong','#toJSON\x20isn\x27t\x20generic','_getSegementPointsForVec3','_index','sub','index','done','height','getSegementPoints','createMaterial','colorStr','MeshLineMaterial','setStyle','dashArray','dashOffset','dashRatio','resolution','sizeAttenuation','lineWidth','camera','near','DoubleSide','lineMaterial','effect_track_line','makeSquare','Geometry','vertices','makeLineGeometry','taper','setGeometry','linear','parabolic','pow','wavy','addLine','Mesh','renderOrder','lastAngle','addLineGeometry','subVectors','tempStartPoint','cross','tempEndPoint','tempDir','children','BufferGeometry','Matrix4','makeScale','applyMatrix','MeshNormalMaterial','Raycaster','point','MeshLine','disposeChilds','setResizeListen','resize','width','meshLines','useFadeOut','fadeOutFactor','easing','render','speed','visible','#FFFFFF','lineType','isCanChangeStyle','object3d','Object3D','innerWidth','innerHeight','RepeatWrapping','container','eventName','click','layer','_handleGetPos','getOffsetX','event','offsetX','getBoundingClientRect','clientX','getOffsetY','srcElement','offsetY','clientY','left','pickPosition','lonLanToMc','getWorldPosFromLoLa','google','mcToLonLan','CoordTransform','Promise','6.6','Chrome/66','then','reject','emit','rejectionHandled','onrejectionhandled','enter','exit','Promise-chain\x20cycle','unhandledRejection','onunhandledrejection','Unhandled\x20promise\x20rejection','Promise\x20can\x27t\x20be\x20resolved\x20itself','fail','domain','catch','MutationObserver','WebKitMutationObserver','navigator','standalone','createTextNode','observe','Set','def','previous','indices_array','uvs','widthCallback','matrixWorld','buffer','UniformsLib','meshline_vert','useMap','alphaMap','useAlphaMap','far','useDash','alphaTest','useChange','positions','counters','raycast','Ray','Sphere','linePrecision','boundingSphere','applyMatrix4','intersectSphere','getInverse','ray','LineSegments','fromArray','origin','distanceSqToSegment','compareV3','side','copyV3','copyArray','setIndex','advance','attribute\x20float\x20side;','attribute\x20float\x20width;','uniform\x20vec2\x20resolution;','uniform\x20float\x20lineWidth;','uniform\x20vec3\x20color;','uniform\x20float\x20opacity;','uniform\x20float\x20near;','uniform\x20float\x20far;','varying\x20vec2\x20vUV;','varying\x20vec3\x20vChangeColor;','varying\x20float\x20vCounters;','\x20\x20\x20\x20vec2\x20res\x20=\x20i.xy\x20/\x20i.w;','\x20\x20\x20\x20res.x\x20*=\x20aspect;','\x09\x20vCounters\x20=\x20counters;','\x20\x20\x20\x20return\x20res;','\x20\x20\x20\x20float\x20aspect\x20=\x20resolution.x\x20/\x20resolution.y;','\x20\x20\x20\x20float\x20pixelWidthRatio\x20=\x201.\x20/\x20(resolution.x\x20*\x20projectionMatrix[0][0]);','\x20\x20\x20\x20vChangeColor\x20=\x20vec3(\x20changeColor\x20);','\x20\x20\x20\x20vUV\x20=\x20uv;','\x20\x20\x20\x20mat4\x20m\x20=\x20projectionMatrix\x20*\x20modelViewMatrix;','\x20\x20\x20\x20vec4\x20finalPosition\x20=\x20m\x20*\x20vec4(\x20position,\x201.0\x20);','\x20\x20\x20\x20vec4\x20prevPos\x20=\x20m\x20*\x20vec4(\x20previous,\x201.0\x20);','\x20\x20\x20\x20vec4\x20nextPos\x20=\x20m\x20*\x20vec4(\x20next,\x201.0\x20);','\x20\x20\x20\x20vec2\x20currentP\x20=\x20fix(\x20finalPosition,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20prevP\x20=\x20fix(\x20prevPos,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20nextP\x20=\x20fix(\x20nextPos,\x20aspect\x20);','\x20\x20\x20\x20float\x20pixelWidth\x20=\x20finalPosition.w\x20*\x20pixelWidthRatio;','\x20\x20\x20\x20float\x20w\x20=\x201.8\x20*\x20pixelWidth\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20vec2\x20dir;','\x20\x20\x20\x20else\x20if(\x20prevP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir1\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir2\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20dir\x20=\x20normalize(\x20dir1\x20+\x20dir2\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20perp\x20=\x20vec2(\x20-dir1.y,\x20dir1.x\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20miter\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);','\x20\x20\x20\x20\x20\x20\x20\x20//w\x20=\x20clamp(\x20w\x20/\x20dot(\x20miter,\x20perp\x20),\x200.,\x204.\x20*\x20lineWidth\x20*\x20width\x20);','\x20\x20\x20\x20//vec2\x20normal\x20=\x20(\x20cross(\x20vec3(\x20dir,\x200.\x20),\x20vec3(\x200.,\x200.,\x201.\x20)\x20)\x20).xy;','\x20\x20\x20\x20normal.x\x20/=\x20aspect;','\x20\x20\x20\x20normal\x20*=\x20.5\x20*\x20w;','\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(\x20normal\x20*\x20side,\x200.0,\x201.0\x20);','\x20\x20\x20\x20finalPosition.xy\x20+=\x20offset.xy;','fog_vertex','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','meshline_frag','uniform\x20sampler2D\x20map;','uniform\x20sampler2D\x20alphaMap;','uniform\x20float\x20useAlphaMap;','uniform\x20float\x20useFadeOut;','uniform\x20float\x20useDash;','uniform\x20float\x20dashArray;','uniform\x20float\x20dashOffset;','uniform\x20float\x20dashRatio;','uniform\x20float\x20alphaTest;','uniform\x20float\x20fadeOutFactor;','uniform\x20vec2\x20offset;','\x20\x20\x20\x20vec4\x20c\x20=\x20vColor;','\x20\x20\x20\x20if(\x20useAlphaMap\x20==\x201.\x20)\x20c.a\x20*=\x20texture2D(\x20alphaMap,\x20vUV\x20*\x20repeat\x20+\x20offset\x20).a;','\x20\x20\x20\x20if(\x20useFadeOut\x20==\x201.\x20)\x20c.a\x20*=\x201.0\x20-\x20float(step(fadeOutFactor,\x20vUV.x));','\x20\x20\x20\x20if(\x20c.a\x20<\x20alphaTest\x20)\x20discard;','\x20\x20\x20\x20if(\x20useDash\x20==\x201.\x20){','\x20\x20\x20\x20\x20\x20\x20\x20c.a\x20*=\x20ceil(mod(vCounters\x20+\x20dashOffset,\x20dashArray)\x20-\x20(dashArray\x20*\x20dashRatio));','\x20\x20\x20\x20gl_FragColor\x20=\x20c\x20*\x201.5;','\x20\x20\x20\x20gl_FragColor.a\x20*=\x20step(vCounters,\x20visibility);','\x20\x20\x20\x20if(\x20useChange\x20==\x201.\x20)\x20gl_FragColor.rgb\x20=\x20vec3(vChangeColor);','isMeshLineMaterial','visibility','createRadialGradient','addColorStop','rgba(0,\x200,\x200,\x201)','fillStyle','isShowWater','originColor','updateView','updateLayerNodesMaterial','waterTime','isSpread','shaderMesh','shader','MeshBasicMaterial','onBeforeCompile','iTime','texture1','#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20vec4(0.0,\x200.768,\x201.0,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.018);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texCol.rgb\x20*\x20diffuseColor.rgb,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PlaneBufferGeometry','alphaTex','texOffsetY','isCanUpdate','isNeedUpdateLookAt','extentRadius','wrapT','numTex','#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20attribute\x20vec3\x20posOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20speed;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20to\x20fix\x20lookat\x20camera\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20applyQuaternionToVector(\x20vec4\x20q,\x20vec3\x20v\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20v\x20+\x202.0\x20*\x20cross(\x20q.xyz,\x20cross(\x20q.xyz,\x20v\x20)\x20+\x20q.w\x20*\x20v\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.01,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20nPos\x20=\x2010.0\x20*\x20vec3(position);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.x\x20+=\x20posOffset.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20modelPos.y\x20+=\x20(fract(iTime\x20*\x20speed)\x20*\x20exRadius\x20*\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.y\x20+=\x20posOffset.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.z\x20+=\x20posOffset.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<fog_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20modelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20numTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nTexture\x20=\x20texture2D(numTex,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20nTexture;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20(x-min(x))/(max(x)-min(x))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20aUvy\x20=\x20vModelPos.y\x20/\x20exRadius;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20vec2(0.5,\x20aUvy)).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','frustumCulled','createRandomObj','lineHeight','lineNumber','setUpdateListen','setLookAtCamera','end','list','lookAt','lookAtPos','shaderParticleEngine','fireSmokeParticle','fireParticle','emitter','innerTex','isOpenScreenEffect','spreadFactor','NormalBlending','fireSmokeEmitter','fogColor','fireEmitter','centerGroup','enabled','outfire','_visible','particleGroup','waterFlux','debug','AxesHelper','rotateY','rotateX','closeWater','hypot','gapDistance','#ffffff','root','pointSize','deltaDistance','routePoints','InterleavedBuffer','cIndex','InterleavedBufferAttribute','PointsMaterial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_PointSize\x20=\x20size;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vIndex\x20=\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20op\x20=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20o\x20=\x201.0\x20-\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20smoothstep(0.25,\x200.75,\x20sin2((iTime\x20/\x202.0\x20-\x20vIndex\x20/\x2016.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20op\x20+=\x20o\x20*\x20s;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20op\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BoxBufferGeometry','MeshLambertMaterial','emissive','setHSL','animateHandle','currIndex','_moveObjToTarget','Linear','None','autoScale','createSkybox','Scene','createTextureCube','ShaderLib','BackSide','scene','RGBFormat','mapping','CubeReflectionMapping','encoding','mapView','textureCube','gradientShader','skyBox','createOnePicCubeTexture','CubeTexture','canvas','getContext','drawImage','images','canUpdate','createBox','isCullGround','intensity','cube','tCube2','varying\x20vec3\x20vWorldDirection;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uniform\x20samplerCube\x20tCube;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorContrast(vec3\x20rgb,\x20float\x20contrast)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(vec3(0.5),\x20rgb,\x20contrast);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorSaturation(vec3\x20rgb,\x20float\x20adjustment)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20W\x20=\x20vec3(0.2125,\x200.7154,\x200.0721);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20intensity\x20=\x20vec3(dot(rgb,\x20W));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(intensity,\x20rgb,\x20adjustment);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tCube','createGradientSky','topColorStr','#0077ff','bottomColorStr','exponent','topColor','bottomColor','skyTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(skyTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x20offset\x20).y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20texCol.rgb,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createGradientCubeSky','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20newProject;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<project_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20gl_Position\x20=\x20newProject\x20*\x20mvPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_SKY_COLOR','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor.a\x20*=\x20opacity;','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20*=\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x2030000000.0\x20).y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyColor\x20=\x20gl_FragColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SKY_COLOR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20skyColor\x20=\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20skyColor,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSphereSky','SphereBufferGeometry','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSphereCubeSky','texturePath','rotateAngle','image','wrapS','CylinderBufferGeometry','setBackground','background','disposeAll','skyMesh','sunPosition','phi','skyConfigs','setScalar','setSkyConfig','skyMaterial','UniformsUtils','turbidity','rayleigh','luminance','mieCoefficient','theta','refreshSky','\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20sunPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rayleigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20turbidity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20e\x20=\x202.71828182845904523536028747135266249775724709369995957;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20lambda\x20=\x20vec3(\x20680E-9,\x20550E-9,\x20450E-9\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20totalRayleigh\x20=\x20vec3(\x205.804542996261093E-6,\x201.3562911419845635E-5,\x203.0265902468824876E-5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20v\x20=\x204.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20K\x20=\x20vec3(\x200.686,\x200.678,\x200.666\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20MieConst\x20=\x20vec3(\x201.8399918514433978E14,\x202.7798023919660528E14,\x204.0790479543861094E14\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20cutoffAngle\x20=\x201.6110731556870734;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20steepness\x20=\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20EE\x20=\x201000.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20sunIntensity(\x20float\x20zenithAngleCos\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20zenithAngleCos\x20=\x20clamp(\x20zenithAngleCos,\x20-1.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20EE\x20*\x20max(\x200.0,\x201.0\x20-\x20pow(\x20e,\x20-(\x20(\x20cutoffAngle\x20-\x20acos(\x20zenithAngleCos\x20)\x20)\x20/\x20steepness\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20totalMie(\x20float\x20T\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20(\x200.2\x20*\x20T\x20)\x20*\x2010E-18;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.434\x20*\x20c\x20*\x20MieConst;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunDirection\x20=\x20normalize(\x20sunPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunE\x20=\x20sunIntensity(\x20dot(\x20vSunDirection,\x20up\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunfade\x20=\x201.0\x20-\x20clamp(\x201.0\x20-\x20exp(\x20(\x20sunPosition.y\x20/\x20450000.0\x20)\x20),\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighCoefficient\x20=\x20rayleigh\x20-\x20(\x201.0\x20*\x20(\x201.0\x20-\x20vSunfade\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaR\x20=\x20totalRayleigh\x20*\x20rayleighCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaM\x20=\x20totalMie(\x20turbidity\x20)\x20*\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20luminance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieDirectionalG;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20cameraPos\x20=\x20vec3(\x200.0,\x200.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20n\x20=\x201.0003;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20N\x20=\x202.545E25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20rayleighZenithLength\x20=\x208.4E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20mieZenithLength\x20=\x201.25E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20sunAngularDiameterCos\x20=\x200.999956676946448443553574619906976478926848692873900859324;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20THREE_OVER_SIXTEENPI\x20=\x200.05968310365946075;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20ONE_OVER_FOURPI\x20=\x200.07957747154594767;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighPhase(\x20float\x20cosTheta\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20THREE_OVER_SIXTEENPI\x20*\x20(\x201.0\x20+\x20pow(\x20cosTheta,\x202.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hgPhase(\x20float\x20cosTheta,\x20float\x20g\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20g2\x20=\x20pow(\x20g,\x202.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20pow(\x201.0\x20-\x202.0\x20*\x20g\x20*\x20cosTheta\x20+\x20g2,\x201.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20ONE_OVER_FOURPI\x20*\x20(\x20(\x201.0\x20-\x20g2\x20)\x20*\x20inverse\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20A\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20B\x20=\x200.50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20C\x20=\x200.10;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20D\x20=\x200.20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20E\x20=\x200.02;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20F\x20=\x200.30;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20whiteScale\x20=\x201.0748724675633854;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Uncharted2Tonemap(\x20vec3\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20C\x20*\x20B\x20)\x20+\x20D\x20*\x20E\x20)\x20/\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20B\x20)\x20+\x20D\x20*\x20F\x20)\x20)\x20-\x20E\x20/\x20F;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zenithAngle\x20=\x20acos(\x20max(\x200.0,\x20dot(\x20up,\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20(\x20cos(\x20zenithAngle\x20)\x20+\x200.15\x20*\x20pow(\x2093.885\x20-\x20(\x20(\x20zenithAngle\x20*\x20180.0\x20)\x20/\x20pi\x20),\x20-1.253\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sR\x20=\x20rayleighZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sM\x20=\x20mieZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Fex\x20=\x20exp(\x20-(\x20vBetaR\x20*\x20sR\x20+\x20vBetaM\x20*\x20sM\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20cosTheta\x20=\x20dot(\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20),\x20vSunDirection\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rPhase\x20=\x20rayleighPhase(\x20cosTheta\x20*\x200.5\x20+\x200.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaRTheta\x20=\x20vBetaR\x20*\x20rPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mPhase\x20=\x20hgPhase(\x20cosTheta,\x20mieDirectionalG\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaMTheta\x20=\x20vBetaM\x20*\x20mPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Lin\x20=\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20(\x201.0\x20-\x20Fex\x20),\x20vec3(\x201.5\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Lin\x20*=\x20mix(\x20vec3(\x201.0\x20),\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20Fex,\x20vec3(\x201.0\x20/\x202.0\x20)\x20),\x20clamp(\x20pow(\x201.0\x20-\x20dot(\x20up,\x20vSunDirection\x20),\x205.0\x20),\x200.0,\x201.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20direction\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20theta\x20=\x20acos(\x20direction.y\x20);\x20//\x20elevation\x20-->\x20y-axis,\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20phi\x20=\x20atan(\x20direction.z,\x20direction.x\x20);\x20//\x20azimuth\x20-->\x20x-axis\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(\x20phi,\x20theta\x20)\x20/\x20vec2(\x202.0\x20*\x20pi,\x20pi\x20)\x20+\x20vec2(\x200.5,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20L0\x20=\x20vec3(\x200.1\x20)\x20*\x20Fex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sundisk\x20=\x20smoothstep(\x20sunAngularDiameterCos,\x20sunAngularDiameterCos\x20+\x200.00002,\x20cosTheta\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20L0\x20+=\x20(\x20vSunE\x20*\x2019000.0\x20*\x20Fex\x20)\x20*\x20sundisk;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texColor\x20=\x20(\x20Lin\x20+\x20L0\x20)\x20*\x200.04\x20+\x20vec3(\x200.0,\x200.0003,\x200.00075\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curr\x20=\x20Uncharted2Tonemap(\x20(\x20log2(\x202.0\x20/\x20pow(\x20luminance,\x204.0\x20)\x20)\x20)\x20*\x20texColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20curr\x20*\x20whiteScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20retColor\x20=\x20pow(\x20color,\x20vec3(\x201.0\x20/\x20(\x201.2\x20+\x20(\x201.2\x20*\x20vSunfade\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20retColor,\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vWorldPosition.y\x20<\x20-9e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','sign','log10','log','LOG10E','setColorMap','Lut','rainbow','lut','minV','maxV','updateCanvas','getImageData','ColorMapKeywords','LutAlpha','throw','ESMapTools\x20requires\x20esmap.js','ESLayerType','EFFECT_MARKER','effectMarker','ESLayer','init','buildings','floors','ground','models','routes','skybox','video','heatMap','clearAll','esmap\x20is\x20not\x20initialized','getFloorHeight','_effectLayers','FloorNum','o3d_','getFloor','isInitComplete','bid','fnum','effect\x20initialize\x20is\x20not\x20complete!','getLayersByNames','removeLayer','buildingList','floorNums','Symbol\x20is\x20not\x20a\x20constructor','__Name__','fill','this\x20is\x20null\x20or\x20not\x20defined','markers','removeAll','floatOffset','imgUrl','MARKER_ASSETS','moveHeight','isShine','anisotropy','renderer','capabilities','activeNum','animateType','period','seeThrough','isCilpGround','scanHeight','cincture','NumberUpParticle','alphaTexture','offsetHeight','isRandomMarker','randomCenter','getMaxAnisotropy','focuseColor','wallHeight','isTransparentLight','isScrollX','scrollImgUrl','scrollClockWise','extentList','addWall','FireSmokeMarker','innerTexture','outTexture','windFactor','ExplosionMarker','smokeTex','time','dirAngle','isRandomColor','extentHeight','pointNum','fixedSize','imgStyle','row','column','rowIndex','loop','imgRepeat','routeList','PlaneVideoMarker','src','planeWidth','planeHeight','PlaneFogMarker','thickness','layers','_init','setPosition','addCube','_bindClick','CYLINDER_FLOAT','CIRCLE_ROTATE','_instance','POINTS_LINE','CIRCLE_RIPPLE','CircleRippleMarker','CYLINDER_SPREAD','NUMBER_UP_BEAM','EXTENT_WALL','wallListData','changeStyle','wallMaterial','addExtent','isNoClose','extentWallList','FIRE_SMOKE','FIRE','SMOKE','SMOKE_SPREAD','EXPLOSION','toggleEmitter','playShockWave','WATER_SPREAD','FLOAT_POINTS','SPRITE_SHEET','play','ROUTES_LINE','viewModeChanged','userId','fadeOut','scaleLineWidth','_originLineWidth','PLANE_VIDEO','playVideo','playSound','PLANE_WIND','PLANE_FOG','setAlpha','PLANE_TERRAIN','mapCoord','_enabled','_removeListen','upadateMarker','_bindListen','removeEventListener','_setShowLevel','showLevel','zoomed','zoomLevel','_update','_options','_bindShowLevel',':No\x20permission\x20to\x20create\x20this\x20type\x20of\x20EffectMarker','isTileBuilding','texPath','topTexPath','gradientTexPath','emissiveTexScale','highLightColorStr','emissiveColorStr','isBlending','isOpenWireframScan','isBreathColor','isShowVerticalScan','isShowCenterSpread','isShowRadarScan','centerPos','hlColorStr','hlWidth','hlExtent','hlSpeed','vlHeight','vlColorStr','csColorStr','spreadValue','csMaxRadius','csSpeed','radarRadius','radarTexPath','textureLightStrength','topRepeat','topRotate','extentEffectConfig','screenSkyConfig','buildingColor','highLightColor','extentGradientTexture','screenSkyTexture','radarScanTexture','emissiveTexture','wireframeMaterial','emissiveFactor','vlTime','csTime','isShowHorizonScan','isShowScanEffect','hlDiffuse','hlColor','vlExtent','vlColor','vlSpeed','csColor','radarColor','radarSpeed','radarCenterPos','top','isUseExtentEffect','extentCenter','gradientImg','isUseScreenSky','_heightColorConfigs','themeTextureList','lightIntensity','buildingBaseRepeat','unrealBloom','computeTopFaceAttr','brothers','filltype','topImage','sideImage','themeImgMapping','topImgIndexMap','topTexArr','topTexWrapArr','buildingTexRepeat','topTexRepeatArr','sideImgIndexMap','sideTexArr','sideTexWrapArr','sideimagerepeat','ClampToEdgeWrapping','getStyleFromRoomStyle','roomStyle','_getColorByHeight','range','getDis','computeRoomWidth','sideTexPath','extentGradientTexPath','emissiveTexPath','screenSkyTexPath','MeshStandardMaterial','topTexture','Uniform','selectedColor_','isOpenScan','extentLightDown','selectedColor','sideTex','textureRotate','topTex','gradientTex','gradientTexture','texLightStg','isShowScan','hlTime','csCenterPos','rdCenterPos','rdRadius','rdTime','rdScanTex','exGradientTex','sideTexRepeatArr','styleId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_TEXTURE','#define\x20IS_OPEN_EF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_TILE_BUILDING','#define\x20IS_USE_SS_SKY','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20faceAspect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isHideFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20normalizeUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20rUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20buildingTexRotate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHighLight\x20=\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hideFlags\x20=\x20isHideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20normalizeUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.x,\x20buildingTexRepeat.y,\x20buildingTexRotate.x,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20suvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.z,\x20buildingTexRepeat.w,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tvUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svUv\x20=\x20(\x20suvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.x\x20+=\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.z\x20-=\x20centerPos.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHeight\x20=\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRandom\x20=\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBColor\x20=\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHLColor\x20=\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTopTexIndex\x20=\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSideTexIndex\x20=\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSelectedFlag\x20=\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRoundUv\x20=\x20vec2(rUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vGlPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_GRADIENT_TEXTURE','#define\x20IS_EMISSIVE_TEXTURE','#define\x20IS_BREATH_COL','#define\x20HORIZONTAL_LINE','#define\x20RADAR_SCAN','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20extentLightDown;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20styleId;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20int\x20TexNum\x20=\x205;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texLightStg;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20emissiveTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20emissiveFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20selectedColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20hlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlSpeed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20vlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spreadValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20csTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20csCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20csColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20rdCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20rdScanTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20extentRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20exGradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20topTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20sideTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20topTexRepeatArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sideTexRepeatArr[TexNum];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SRGB_TO_LINEAR(c)\x20pow(abs(c),\x20vec3(2.2))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20LINEAR_TO_SRGB(c)\x20pow(abs(c),\x20vec3(1.0\x20/\x202.2))\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gradientNoise(in\x20vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20magic\x20=\x20vec3(0.06711056,\x200.00583715,\x2052.9829189);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(magic.z\x20*\x20fract(dot(uv,\x20magic.xy)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edge\x20wihte\x20line\x20and\x20dark\x20bg\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20edgeFactor(vec2\x20p){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec2\x20grid\x20=\x20abs(fract(p\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(p)\x20/\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20min(grid.x,\x20grid.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20gradientBg\x20(vec3\x20col1,\x20vec3\x20col2,\x20vec2\x20a,\x20vec2\x20b,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20ba\x20=\x20b\x20-\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20dot(uv\x20-\x20a,\x20ba)\x20/\x20dot(ba,\x20ba);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Saturate\x20and\x20apply\x20smoothstep\x20to\x20the\x20factor.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t\x20=\x20smoothstep(0.0,\x201.0,\x20clamp(t,\x200.0,\x201.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interpolate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(SRGB_TO_LINEAR(col1),\x20SRGB_TO_LINEAR(col2),\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Convert\x20color\x20from\x20linear\x20to\x20sRGB\x20color\x20space\x20(=gamma\x20encode).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20LINEAR_TO_SRGB(color);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Add\x20gradient\x20noise\x20to\x20reduce\x20banding.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color\x20+=\x20(1.0/255.0)\x20*\x20gradientNoise(uv)\x20-\x20(0.5/255.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20horizontalLine\x20(vec4\x20resultColor,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20hlWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20old\x20-\x20should\x20not\x20use\x20it\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20colorAdd\x20=\x20pow(1.\x20-\x20pow(abs(posValue\x20-\x20time)\x20*\x200.001,\x201.2),\x203.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20colorAdd\x20=\x20colorAdd\x20*\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(resultColor,\x20vec3(1.0,\x201.0,\x201.0),\x20colorAdd);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20a\x20=\x20edgeFactor(nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20vec4(hlColor,\x201.0),\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20color\x20=\x20texture2D(scanTexture,\x20vec2(0.0,\x20extent\x20/\x20hlWidth\x20/\x202.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color.rgb\x20=\x20vec3(1).rgb\x20-\x20color.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(\x20color.rgb,\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20breathCol(float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20period\x20=\x20fract(time\x20/\x20120.0)\x20*\x203.14159265\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20trans\x20=\x20posValue\x20/\x20100.0\x20+\x20sin(period)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(trans,\x20trans,\x20trans);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20verticalLine(vec3\x20col,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(time\x20/\x20360.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hTrans\x20=\x20clamp(posValue\x20/\x20vlHeight,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20abs(f\x20-\x200.5)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20diff\x20=\x20step(0.02,\x20abs(hTrans\x20-\x20f));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20col\x20*\x20(1.0\x20-\x20diff);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec3\x20vPos,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(vPos.xz-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20centerSpreadLine(vec4\x20resultColor,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vModelPos,\x20vec2(csCenterPos.x,\x20csCenterPos.y),\x20time,\x20spreadValue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec4(csColor,\x201.0),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radarScan()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20rdCenterPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20rdCenterPos.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-rdRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20rdRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20-rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotationMatrix\x20=\x20mat2(\x20c,\x20s,-s,\x20\x20c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pivot\x20=\x20vec2(0.5,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotationMatrix\x20*\x20(uv\x20-\x20pivot)\x20+\x20pivot;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(rdScanTex,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb\x20*\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20extentTexColor()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20extentCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20extentCenter.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-extentRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20extentRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(exGradientTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vGlPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vGlPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingTopTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20topTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(topTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(topTexArr[0],\x20topTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(topTexArr[1],\x20topTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(topTexArr[2],\x20topTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(topTexArr[3],\x20topTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x20//\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x20//\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x20//\x203\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x20//\x204\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingSideTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20sideTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(sideTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(sideTexArr[0],\x20sideTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(sideTexArr[1],\x20sideTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(sideTexArr[2],\x20sideTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(sideTexArr[3],\x20sideTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x20//\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x20//\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x20//\x203\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x20//\x204\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<lights_fragment_begin>','#include\x20<map_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20useTopUv,\x20useSideUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingTopTextures(tvUv,\x20nvUv,\x20topTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.x\x20==\x200.0\x20&&\x20buildingTexRepeat.y\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20nvUv;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20texture2D(topTex,\x20useTopUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingSideTextures(svUv,\x20nvUv,\x20sideTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.z\x20==\x200.0\x20&&\x20buildingTexRepeat.w\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20texture2D(sideTex,\x20useSideUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20gradientColor\x20=\x20texture2D(gradientTex,\x20vec2(1.0,\x20nvUv.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20*=\x20gradientColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20originColor\x20=\x20vec4(outgoingLight,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(hideFlags\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20breathSpeed\x20=\x20iTime\x20*\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20breathCol(vModelPos.y,\x20breathSpeed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_EMISSIVE_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20oUV\x20=\x20emissiveFactor.w\x20>\x200.0000001\x20?\x20vec2(svUv.x\x20*\x20emissiveFactor.w,\x20svUv.y\x20*\x20emissiveFactor.w\x20+\x20vRandom)\x20:\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveTexCol\x20=\x20texture2D(emissiveTex,\x20vRoundUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveTexCol\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20*=\x20emissiveFactor.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20emissiveTexCol.rgb;\x20//\x20it\x20will\x20lost\x20origin\x20mat\x20config\x20effect\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(normalize(cameraPosition.xz));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20skyCol\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20extentTexColor();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20verticalLine(vlColor,\x20vModelPos.y,\x20vlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20horizonPos\x20=\x20vModelPos.x\x20-\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20horizontalLine(resultColor,\x20\x20horizonPos,\x20hlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20centerSpreadLine(resultColor,\x20csTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20radarScan();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extentLightDown)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(0.1),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vTopTexIndex\x20>\x200.0\x20||\x20vSideTexIndex\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(1.0),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vHighLight\x20>\x200.5)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vHLColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(resultColor.a,\x20vHLColor.a,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(originColor.rgb\x20*\x20selectedColor,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shaderCompileComplete','updateParams','getMaterial','getWireframeMaterial','toggleColorLight','toggleExtentLight','repeatTexPath','noiseTexPath','isShowTextureRepeat','repeatTexture','noiseTexture','curTexture','nextTexture','repeatFactor','transFactor','bgColor','repeatTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x09\x09\x09\x09','isShowBackground','#define\x20IS_BG','#define\x20IS_TEX_REPEAT','isShowWaterRipple','#define\x20IS_WATER_RIPPLE','\x0a\x0a\x09\x09\x09\x09uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texLightFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20repeatFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bgColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20repeatTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_WATER_RIPPLE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20MAX_RADIUS\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20DOUBLE_HASH\x200\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20HASHSCALE1\x20.1031\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20HASHSCALE3\x20vec3(.1031,\x20.1030,\x20.0973)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash12(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p3\x20\x20=\x20fract(vec3(p.xyx)\x20*\x20HASHSCALE1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p3\x20+=\x20dot(p3,\x20p3.yzx\x20+\x2019.19);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract((p3.x\x20+\x20p3.y)\x20*\x20p3.z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash22(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p3\x20=\x20fract(vec3(p.xyx)\x20*\x20HASHSCALE3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p3\x20+=\x20dot(p3,\x20p3.yzx+19.19);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract((p3.xx+p3.yz)*p3.zy);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20waterRipple()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repeat\x20=\x20vec2(repeatFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20repeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p0\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20circles\x20=\x20vec2(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20j\x20=\x20-MAX_RADIUS;\x20j\x20<=\x20MAX_RADIUS;\x20++j)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x20-MAX_RADIUS;\x20i\x20<=\x20MAX_RADIUS;\x20++i)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pi\x20=\x20p0\x20+\x20vec2(i,\x20j);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20DOUBLE_HASH\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hsh\x20=\x20hash22(pi);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hsh\x20=\x20pi;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20pi\x20+\x20hash22(hsh);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20fract(0.3*iTime\x20+\x20hash12(hsh));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20v\x20=\x20p\x20-\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x20length(v)\x20-\x20(float(MAX_RADIUS)\x20+\x201.)*t;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x201e-3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d1\x20=\x20d\x20-\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d2\x20=\x20d\x20+\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20p1\x20=\x20sin(31.*d1)\x20*\x20smoothstep(-0.6,\x20-0.3,\x20d1)\x20*\x20smoothstep(0.,\x20-0.3,\x20d1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20p2\x20=\x20sin(31.*d2)\x20*\x20smoothstep(-0.6,\x20-0.3,\x20d2)\x20*\x20smoothstep(0.,\x20-0.3,\x20d2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20circles\x20+=\x200.5\x20*\x20normalize(v)\x20*\x20((p2\x20-\x20p1)\x20/\x20(2.\x20*\x20h)\x20*\x20(1.\x20-\x20t)\x20*\x20(1.\x20-\x20t));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20circles\x20/=\x20float((MAX_RADIUS*2+1)*(MAX_RADIUS*2+1));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20mix(0.01,\x200.02,\x20smoothstep(0.1,\x200.6,\x20abs(fract(0.05*iTime\x20+\x200.5)*2.-1.)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20vec3(circles,\x20sqrt(1.\x20-\x20dot(circles,\x20circles)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20uv\x20/\x20repeat\x20-\x20intensity*n.xy);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curTexCol\x20=\x20texCol.rgb\x20+\x205.*pow(clamp(dot(n,\x20normalize(vec3(1.,\x200.7,\x200.5))),\x200.,\x201.),\x206.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(curTexCol,\x20texCol.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20curTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_WATER_RIPPLE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor\x20=\x20waterRipple();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nextTexColor\x20=\x20texture2D(texture2,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BG\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor.rgb\x20=\x20mix(bgColor,\x20curTexColor.rgb,\x20curTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nextTexColor.rgb\x20=\x20mix(bgColor,\x20nextTexColor.rgb,\x20nextTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(curTexColor.rgb,\x20nextTexColor.rgb,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor.rgb\x20=\x20mix(vec3(texLightFactor),\x20curTexColor.rgb,\x20curTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nextTexColor.rgb\x20=\x20mix(vec3(texLightFactor),\x20nextTexColor.rgb,\x20nextTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(curTexColor,\x20nextTexColor,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20repeatTexCol\x20=\x20texture2D(repeatTex,\x20(vUV\x20*\x20repeatFactor)\x20/\x2010.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20repeatTexCol\x20=\x20textureNoTile(repeatTex,\x20(vUV\x20*\x20repeatFactor)\x20/\x2010.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20repeatTexCol.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wireMaterial','settingShader','lineShader','#include\x20<logdepthbuf_vertex>','OctahedronBufferGeometry','cubeShader','moveOpts','animateOpts','swingHeight','centerHeight','rotateSpeed','isStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20animateType;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rand2(vec2\x20co){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(dot(co.xy,\x20vec2(12.9898,78.233)))\x20*\x2043758.5453);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scaleSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(iTime\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20time1\x20=\x20iTime\x20+\x20rand2(vec2(cIndex,\x20cIndex+1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(time1\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x204)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20scaleSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','breath','blink','flash','textureSprites','initLoop','isInit','textures','createTexture','addUv2AlphaMask','aoMap','aoMapIntensity','IS_USE_MASK_ALPHA','alphaMaskTex','#include\x20<alphamap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaMaskTex,\x20vUv2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20alphaTexCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addUv2Channel','uv2Trans','uv2TransSpeed','texture2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20tex2UvAni;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_MAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor\x20=\x20texture2D(\x20map,\x20vUv\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor2\x20=\x20texture2D(\x20texture2,\x20vUv2\x20+\x20tex2UvAni);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20=\x20mapTexelToLinear(\x20texelColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor2\x20=\x20mapTexelToLinear(\x20texelColor2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20+=\x20texelColor2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20texelColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imgWidth','imgHeight','uvSpriteAnimate','uvTranslate','uvAnimate','uvConfigs','LinearFilter','setLoop','SpriteMaterial','clipGroundY','cinctureCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightIntensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCilpGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20clipGroundY;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol\x20*\x20lightIntensity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCilpGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20clipGroundY){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','focusColorStr','#ffee98','scrollXRepeat','isClockWise','lineParams','extentIds','_focusExtentId','deltaSpeed','focusColor','groundMaterial','es_effect_mat','lineRep','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20lineTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repUv\x20=\x20vec2(nvUv)\x20*\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20repUv.y\x20+=\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20lineTexCol\x20=\x20texture2D(lineTex,\x20repUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20lineTexCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20(1.\x20-\x20pow(nvUv.y,\x205.0));\x20//\x20alpha\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','extentId','addWallScrollXGeometry','addWallScrollYGeometry','CatmullRomCurve3','catmullrom','extrusionSegments','radiusSegments','computeBoundingBox','addGround','createShape','ShapeBufferGeometry','Shape','moveTo','lineTo','getExtentWall','focusExtent','isAnimate','startPopAnimate','switchExtentsVisible','blurExtent','_tempColor','groundColorStr','groundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUv\x20=\x20vec2(uv)\x20*\x200.01;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(100.0,\x20100.0,\x201.0,\x201.0,\x200.7853,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20nUv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','TubeBufferGeometry','closed','boundingBox','getCenter','line','mesh_line','LineBasicMaterial','EdgesGeometry','lineList','dispseMesh','createCircleGradient','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20getAirWave(vec2\x20uv,\x20vec4\x20PerAmpThickDec,\x20float\x20rep,\x20float\x20time)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20val\x20=\x20abs(PerAmpThickDec.z\x20/\x20(uv.y\x20+\x20PerAmpThickDec.y\x20*\x20sin(uv.x\x20/\x20PerAmpThickDec.x\x20+\x20PerAmpThickDec.w)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mask\x20=\x200.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mod(uv.x,rep)\x20-\x20rep\x20*\x20.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20rep/2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20-=\x20rep/4.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mask\x20=\x20rep/2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20=\x20step(val,\x20.5)\x20+\x20step(mask,\x201.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20step(val,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x2010.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20-=\x203.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture2D(texture1,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vec3(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20params\x20=\x20vec4(.65,.37,.198,1.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv,\x20params,\x2010.,\x20iTime\x20*\x205.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(5.,\x202.),\x20params,\x2010.,\x20iTime\x20*\x202.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(10.,\x20-2.),\x20params,\x2010.,\x20iTime\x20*\x207.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(30.,\x20-5.),\x20params,\x2010.,\x20iTime\x20*\x204.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','CanvasTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20noise(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(uv.x\x20*\x20113.\x20+\x20uv.y\x20*\x20412.)\x20*\x206339.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20noiseSmooth(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20index\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pq\x20=\x20fract(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pq\x20=\x20smoothstep(0.,\x201.,\x20pq);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topLeft\x20=\x20noise(index);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topRight\x20=\x20noise(index\x20+\x20vec2(1,\x200.));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20top\x20=\x20mix(topLeft,\x20topRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomLeft\x20=\x20noise(index\x20+\x20vec2(0,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomRight\x20=\x20noise(index\x20+\x20vec2(1,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottom\x20=\x20mix(bottomLeft,\x20bottomRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(mix(top,\x20bottom,\x20pq.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flipY','grayTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20grayTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20*\x202.35;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(grayTex,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20texCol.a;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(vec3(0.5,\x200.5,\x200.5),\x20vec3(1.0),\x20outgoingLight.r);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20*=\x20(1.2\x20-\x20resultColor.r);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','normalTex','rainFall','computeRainFallFactor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20date\x20=\x20-vec4(iDate);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec2\x20fragCoord\x20=\x20vec2(gl_FragCoord.x,\x20gl_FragCoord.y)\x20\x20*\x20vec2(vUV.x,\x20vUV.y)\x20*\x200.5;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//float\x20a\x20=\x20.5\x20-\x206.*\x20fract((fragCoord.x*.2+fragCoord.y*.01)\x20*\x20fract(fragCoord.x*.161)-date.w);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a2\x20=\x20.5\x20-\x20rFall\x20*\x20fract((gl_FragCoord.x\x20*\x20.2\x20+\x20gl_FragCoord.y\x20*\x20.01)\x20*\x20fract(\x20gl_FragCoord.x\x20*\x20.61)\x20-\x20(-iTime));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20=\x20vec3(a2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20vec3(1.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20a2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20diffuseColor.a;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rFall','snowFall','computeSnowFallFactor','density','depth','sway','tex','smokeParticle','smokeEmitter','floatPointsParticle','isSpreadColor','explosionTex','particle','shockwaveParticle','createShockWave','coeficient','power','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexWorldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20coeficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20power;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20+=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vVertexWorldPosition.y\x20<\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(glowColor.rgb,\x20intensity\x20*\x20diffuseColor.a);','shockSphere','Circular','createLinearGradient','#000000','fillRect','texRepeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20iTime,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','RGBELoader','envCubeMap','resolutionSize','RGBEEncoding','minFilter','magFilter','PMREMCubeUVPacker','cubeLods','CubeUVRenderTarget','NoBlending','PMREMGenerator','OrthographicCamera','sourceTexture','isCubeTexture','SAMPLES_PER_LEVEL','samplesPerLevel','envMap','gammaOutput','toneMapping','toneMappingExposure','numLods','mapSize','renderToCubeMapTarget','gammaInput','renderToCubeMapTargetFace','faceIndex','clear','LinearEncoding','sRGBEncoding','NearestFilter','generateMipmaps','PMREMGenerator.cube','RGBM16Encoding','WebGLRenderTarget','PMREMCubeUVPacker.cubeUv','CubeUVReflectionMapping','objects','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20envMap;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mapSize;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20testColor;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20faceIndex;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20sampleDirection;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20uv\x20*\x202.0\x20-\x201.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20*=\x20-1.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(faceIndex\x20==\x200)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(1.0,\x20uv.y,\x20-uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x201)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x201.0,\x20uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x202)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20uv.y,\x201.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x203)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-1.0,\x20uv.y,\x20uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x204)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20-1.0,\x20-uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-uv.x,\x20uv.y,\x20-1.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20envMapTexelToLinear(\x20textureCube(\x20envMap,\x20sampleDirection\x20)\x20);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20linearToOutputTexel(\x20color\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','right','bottom','updateProjectionMatrix','getRenderTarget','LinearToneMapping','fromEquirectangular','CubemapFromEquirect','\x0a\x09\x09\x09uniform\x20sampler2D\x20tEquirect;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09#define\x20RECIPROCAL_PI\x200.31830988618\x0a\x09\x09\x09#define\x20RECIPROCAL_PI2\x200.15915494\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x0a\x09\x09\x09\x09vec2\x20sampleUV;\x0a\x0a\x09\x09\x09\x09sampleUV.y\x20=\x20asin(\x20clamp(\x20direction.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09sampleUV.x\x20=\x20atan(\x20direction.z,\x20direction.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','CubeCamera','renderTarget','PerspectiveCamera','varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localPosition\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20equirectangularMap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20EquirectangularSampleUV(vec3\x20v)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(atan(v.z,\x20v.x),\x20asin(v.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20*=\x20vec2(0.1591,\x200.3183);\x20//\x20inverse\x20atan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20EquirectangularSampleUV(normalize(localPosition));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(equirectangularMap,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','EquirectangularToCubeGenerator','equirectangularMap','views','setRenderTarget','format','WebGLRenderTargetCube','CubemapGenerator','manager','DefaultLoadingManager','UnsignedByteType','DataTextureLoader','_parser','THREE.RGBELoader\x20Read\x20Error:\x20','THREE.RGBELoader\x20Bad\x20File\x20Format:\x20','THREE.RGBELoader:\x20Error:\x20','pos','byteLength','fromCharCode','RGBE','no\x20header\x20found','bad\x20initial\x20token','valid','programtype','gamma','exposure','missing\x20image\x20size\x20specifier','wrong\x20scanline\x20width','unable\x20to\x20allocate\x20buffer\x20space','bad\x20rgbe\x20scanline\x20format','bad\x20scanline\x20data','RGBEFormat','FloatType','THREE.RGBELoader:\x20unsupported\x20type:\x20','setType','fluctuate','skyTexture','texUvScale','lightColorStr','lightColor','flowAngle','alphaMaskPath','targetMeshes','getAttribute','faceRange','sideRange','topFaceFlags','originTexName','IS_USE_CUS_ALPHA','IS_USE_SS_SKY','waterScale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV2\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','waterColor','createWater','water','Water','#001e0f','updateWater','textureWidth','textureHeight','clipBias','alpha','waterNormals','waterMask','sunDirection','sunColor','eye','distortionScale','FrontSide','useUv2','Plane','isPowerOfTwo','IS_USE_MASK_TEXTURE','lights','Texture','textureMatrix','maskTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20textureMatrix;\x0a\x09\x09\x09uniform\x20float\x20iTime;\x0a\x0a\x09\x09\x09varying\x20vec4\x20mirrorCoord;\x0a\x09\x09\x09varying\x20vec4\x20worldPosition;\x0a\x09\x09\x09varying\x20vec2\x20vUV;\x0a\x0a\x09\x09\x09//\x20t:offset\x20s:repeat\x20c:center\x0a\x09\x09\x09mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x09\x09\x09\x09float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x09\x09\x09\x09float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x09\x09\x09\x09return\x20mat3(\x0a\x09\x09\x09\x09\x09sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x09\x09\x09\x09\x09-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x09\x09\x09\x09\x09tx,\x20ty,\x201\x0a\x09\x09\x09\x09);\x0a\x09\x09\x09}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20mirrorSampler;\x0a\x09\x09\x09uniform\x20float\x20alpha;\x0a\x09\x09\x09uniform\x20float\x20iTime;\x0a\x09\x09\x09uniform\x20float\x20size;\x0a\x09\x09\x09uniform\x20float\x20distortionScale;\x0a\x09\x09\x09uniform\x20sampler2D\x20normalSampler;\x0a\x09\x09\x09uniform\x20vec3\x20sunColor;\x0a\x09\x09\x09uniform\x20vec3\x20sunDirection;\x0a\x09\x09\x09uniform\x20vec3\x20eye;\x0a\x09\x09\x09uniform\x20vec3\x20waterColor;\x0a\x09\x09\x09#ifdef\x20IS_USE_MASK_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09uniform\x20sampler2D\x20maskTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x09\x09\x09varying\x20vec4\x20mirrorCoord;\x0a\x09\x09\x09varying\x20vec4\x20worldPosition;\x0a\x09\x09\x09varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getNoise(\x20vec2\x20uv\x20)\x20{\x0a\x09\x09\x09\x09vec2\x20uv0\x20=\x20(\x20uv\x20/\x20103.0\x20)\x20+\x20vec2(iTime\x20/\x2017.0,\x20iTime\x20/\x2029.0);\x0a\x09\x09\x09\x09vec2\x20uv1\x20=\x20uv\x20/\x20107.0-vec2(\x20iTime\x20/\x20-19.0,\x20iTime\x20/\x2031.0\x20);\x0a\x09\x09\x09\x09vec2\x20uv2\x20=\x20uv\x20/\x20vec2(\x208907.0,\x209803.0\x20)\x20+\x20vec2(\x20iTime\x20/\x20101.0,\x20iTime\x20/\x2097.0\x20);\x0a\x09\x09\x09\x09vec2\x20uv3\x20=\x20uv\x20/\x20vec2(\x201091.0,\x201027.0\x20)\x20-\x20vec2(\x20iTime\x20/\x20109.0,\x20iTime\x20/\x20-113.0\x20);\x0a\x09\x09\x09\x09vec4\x20noise\x20=\x20texture2D(\x20normalSampler,\x20uv0\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv1\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv2\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv3\x20);\x0a\x09\x09\x09\x09return\x20noise\x20*\x200.5\x20-\x201.0;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20sunLight(\x20const\x20vec3\x20surfaceNormal,\x20const\x20vec3\x20eyeDirection,\x20float\x20shiny,\x20float\x20spec,\x20float\x20diffuse,\x20inout\x20vec3\x20diffuseColor,\x20inout\x20vec3\x20specularColor\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20reflection\x20=\x20normalize(\x20reflect(\x20-sunDirection,\x20surfaceNormal\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20direction\x20=\x20max(\x200.0,\x20dot(\x20eyeDirection,\x20reflection\x20)\x20);\x0a\x09\x09\x09\x09specularColor\x20+=\x20pow(\x20direction,\x20shiny\x20)\x20*\x20sunColor\x20*\x20spec;\x0a\x09\x09\x09\x09diffuseColor\x20+=\x20max(\x20dot(\x20sunDirection,\x20surfaceNormal\x20),\x200.0\x20)\x20*\x20sunColor\x20*\x20diffuse;\x0a\x09\x09\x09}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<shadowmap_pars_fragment>','\x0a\x09\x09\x09#include\x20<shadowmap_pars_fragment>\x0a\x09\x09\x09#include\x20<shadowmask_pars_fragment>\x0a\x09\x09\x09vec3\x20mirroWater()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20noise\x20=\x20getNoise(\x20worldPosition.xz\x20*\x20size\x20);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20surfaceNormal\x20=\x20normalize(\x20noise.xzy\x20*\x20vec3(\x201.5,\x201.0,\x201.5\x20)\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20diffuseLight\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20specularLight\x20=\x20vec3(0.0);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20worldToEye\x20=\x20eye-worldPosition.xyz;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20eyeDirection\x20=\x20normalize(\x20worldToEye\x20);\x0a\x09\x09\x09\x20\x20\x20\x20sunLight(\x20surfaceNormal,\x20eyeDirection,\x20100.0,\x202.0,\x200.5,\x20diffuseLight,\x20specularLight\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20float\x20distance\x20=\x20length(worldToEye);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec2\x20distortion\x20=\x20surfaceNormal.xz\x20*\x20(\x200.001\x20+\x201.0\x20/\x20distance\x20)\x20*\x20distortionScale;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20reflectionSample\x20=\x20vec3(\x20texture2D(\x20mirrorSampler,\x20mirrorCoord.xy\x20/\x20mirrorCoord.w\x20+\x20distortion\x20)\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20float\x20theta\x20=\x20max(\x20dot(\x20eyeDirection,\x20surfaceNormal\x20),\x200.0\x20);\x0a\x09\x09\x09\x20\x20\x20\x20float\x20rf0\x20=\x200.3;\x0a\x09\x09\x09\x20\x20\x20\x20float\x20reflectance\x20=\x20rf0\x20+\x20(\x201.0\x20-\x20rf0\x20)\x20*\x20pow(\x20(\x201.0\x20-\x20theta\x20),\x205.0\x20);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20scatter\x20=\x20max(\x200.0,\x20dot(\x20surfaceNormal,\x20eyeDirection\x20)\x20)\x20*\x20waterColor;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20albedo\x20=\x20mix(\x20(\x20sunColor\x20*\x20diffuseLight\x20*\x200.3\x20+\x20scatter\x20)\x20*\x20getShadowMask(),\x20(\x20vec3(\x200.1\x20)\x20+\x20reflectionSample\x20*\x200.9\x20+\x20reflectionSample\x20*\x20specularLight\x20),\x20reflectance);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20albedo;\x0a\x09\x09\x09\x20\x20\x20\x20return\x20outgoingLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x09\x09\x09','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20waterCol\x20=\x20mirroWater();\x0a\x0a\x09\x09\x09#ifdef\x20IS_USE_MASK_TEXTURE\x0a\x09\x09\x09\x09vec4\x20maskTex\x20=\x20texture2D(maskTexture,\x20vUV);\x0a\x09\x09\x09\x09//\x20if(maskTex.r\x20==\x200.0){\x0a\x09\x09\x09\x09//\x20\x09discard;\x0a\x09\x09\x09\x09//\x20}\x0a\x09\x09\x09\x09diffuseColor.a\x20=\x20maskTex.a;\x0a\x09\x09\x09#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20waterCol,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','receiveShadow','onBeforeRender','setFromMatrixPosition','dot','reflect','negate','projectionMatrix','multiply','setFromNormalAndCoplanarPoint','matrixWorldInverse','normal','particles','createPoints','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20alphaColor.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texColor.rgb\x20*\x20color,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(255,\x20255,\x20255,\x201)','basic','isShowScanLight','scanLightColorStr','createGround','lambert','materialType','standard','scanTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20','toFixed',',\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_SCAN_LIGHT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SCAN_LIGHT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20scanTex\x20=\x20texture2D(scanTexture,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20scanTex.rgb\x20=\x20centerSpreadLine(scanTex.rgb,\x20iTime,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scanTex.rgb\x20*=\x20(waveSpread(nUV)\x20+\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20scanTex,\x20scanTex.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20alphaColor.g\x20*\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','videoElement','muted','setAttribute','playsinline','anonymous','source','video/mp4;\x20codecs=\x22avc1.42E01E,\x20mp4a.40.2','currentTime','VideoTexture','num','shadowCamera','rot','isAnimation','isMorph','morphTargets','setMaterial','setShadow','castShadow','customDepthMaterial','depthMaterial','InstancedBufferGeometry','getIndex','morphAttributes','offsets','scales','orientations','Euler','DEG2RAD','rand','setFromEuler','InstancedBufferAttribute','setDynamic','scaleAttribute','orientation','vertexPars_V2','uniform\x20mat4\x20cmtx;','uniform\x20float\x20morpher[\x208\x20];','attribute\x20vec4\x20orientation;','float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;','float\x20yy\x20=\x20y\x20*\x20y2,\x20yz\x20=\x20y\x20*\x20z2,\x20zz\x20=\x20z\x20*\x20z2;','float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;','float\x20sx\x20=\x20scale.x,\x20sy\x20=\x20scale.y,\x20sz\x20=\x20scale.z;','B[0][0]\x20=\x20(\x201.0\x20-\x20(\x20yy\x20+\x20zz\x20)\x20)\x20*\x20sx;','B[0][1]\x20=\x20(\x20xy\x20+\x20wz\x20)\x20*\x20sx;','B[0][2]\x20=\x20(\x20xz\x20-\x20wy\x20)\x20*\x20sx;','B[1][0]\x20=\x20(\x20xy\x20-\x20wz\x20)\x20*\x20sy;','B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;','B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;','B[1][3]\x20=\x200.0;','B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;','B[2][1]\x20=\x20(\x20yz\x20-\x20wx\x20)\x20*\x20sz;','B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;','B[2][3]\x20=\x200.0;','B[3][0]\x20=\x20position.x;','B[3][1]\x20=\x20position.y;','B[3][2]\x20=\x20position.z;','B[3][3]\x20=\x201.0;','return\x20B;','mat3\x20getNormalMatrix(\x20mat4\x20A\x20)\x20{','return\x20transpose(\x20inverse(\x20mat3(\x20A\x20)\x20)\x20);','vertexPars_V1','attribute\x20vec3\x20offset;','attribute\x20vec3\x20scales;','mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{','float\x20x2\x20=\x20x\x20+\x20x,\x09y2\x20=\x20y\x20+\x20y,\x20z2\x20=\x20z\x20+\x20z;','mat4\x20B;','mat3\x20tmpInverse(\x20mat3\x20A\x20)\x20{','float\x20n11\x20=\x20A[0][0],\x20n21\x20=\x20A[0][1],\x20n31\x20=\x20A[0][2];','float\x20n12\x20=\x20A[1][0],\x20n22\x20=\x20A[1][1],\x20n32\x20=\x20A[1][2];','float\x20n13\x20=\x20A[2][0],\x20n23\x20=\x20A[2][1],\x20n33\x20=\x20A[2][2];','float\x20t11\x20=\x20n33\x20*\x20n22\x20-\x20n32\x20*\x20n23;','float\x20t13\x20=\x20n23\x20*\x20n12\x20-\x20n22\x20*\x20n13;','float\x20detInv\x20=\x201.0\x20/\x20det;','B[0][1]\x20=\x20(\x20n31\x20*\x20n23\x20-\x20n33\x20*\x20n21\x20)\x20*\x20detInv;','B[0][2]\x20=\x20(\x20n32\x20*\x20n21\x20-\x20n31\x20*\x20n22\x20)\x20*\x20detInv;','B[1][0]\x20=\x20t12\x20*\x20detInv;','B[1][1]\x20=\x20(\x20n33\x20*\x20n11\x20-\x20n31\x20*\x20n13\x20)\x20*\x20detInv;','B[1][2]\x20=\x20(\x20n31\x20*\x20n12\x20-\x20n32\x20*\x20n11\x20)\x20*\x20detInv;','B[2][1]\x20=\x20(\x20n21\x20*\x20n13\x20-\x20n23\x20*\x20n11\x20)\x20*\x20detInv;','B[2][2]\x20=\x20(\x20n22\x20*\x20n11\x20-\x20n21\x20*\x20n12\x20)\x20*\x20detInv;','mat3\x20tmpTranspose(\x20mat3\x20A\x20)\x20{','mat3\x20B;','B[0][0]\x20=\x20A[0][0];','B[0][1]\x20=\x20A[1][0];','B[0][2]\x20=\x20A[2][0];','B[1][0]\x20=\x20A[0][1];','B[1][2]\x20=\x20A[2][1];','B[2][1]\x20=\x20A[1][2];','B[2][2]\x20=\x20A[2][2];','return\x20tmpTranspose(\x20tmpInverse(\x20mat3(\x20A[0][0],\x20A[0][1],\x20A[0][2],\x20A[1][0],\x20A[1][1],\x20A[1][2],\x20A[2][0],\x20A[2][1],\x20A[2][2]\x20)\x20)\x20);','beginInstanceVertex','mat4\x20world\x20=\x20ComposeWorldMatrix(\x20offset,\x20orientation,\x20scales\x20);','mat4\x20viewMatrix\x20=\x20(\x20cmtx\x20*\x20world\x20);','vec4\x20mvPosition\x20=\x20viewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);','gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','worldPosVertex','#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)','vec4\x20worldPosition\x20=\x20world\x20*\x20vec4(\x20transformed,\x201.0\x20);','normalVertex','vec3\x20transformedNormal\x20=\x20normalMtx\x20*\x20objectNormal;','#ifdef\x20FLIP_SIDED','transformedNormal\x20=\x20-\x20transformedNormal;','#ifdef\x20USE_TANGENT','vec3\x20transformedTangent\x20=\x20normalMatrix\x20*\x20objectTangent;','#ifdef\x20USE_MORPHTARGETS','transformed\x20+=\x20(\x20morphTarget0\x20-\x20position\x20)\x20*\x20morpher[\x200\x20];','transformed\x20+=\x20(\x20morphTarget1\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x201\x20];','transformed\x20+=\x20(\x20morphTarget2\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x202\x20];','transformed\x20+=\x20(\x20morphTarget4\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x204\x20];','transformed\x20+=\x20(\x20morphTarget5\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x205\x20];','transformed\x20+=\x20(\x20morphTarget6\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x206\x20];','transformed\x20+=\x20(\x20morphTarget7\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x207\x20];','#include\x20<common>\x0a','#include\x20<uv_vertex>\x0a','#include\x20<defaultnormal_vertex>','projectVertex','#include\x20<worldpos_vertex>','MeshDepthMaterial','RGBADepthPacking','cmtx','setMorph','morphTargetInfluences','offsetAttribute','setOrientation','setScale','receiveLayer','videoAspect','isShowFarPlane','projectPlane','helper','containMeshList','cameraFar','cameraFov','isShowHelper','images/video_mask.png','nodeType','Material','resetMaterial2','_originMaterial','_tempMaterial','isProjected','videoProject','isLockCameraControls','enablePan','showVisualField','visualFieldColor','scanSceneMesh','minX','minY','maxX','gridNum','rayPointer','ignoredUuids','raySceneMesh','raycastByCoord','focusFloorNum','createProjector','projector','updateMatrixWorld','minDistance','createProjectorHelper','createCameraHelperFarPlane','pointMap','getX','getY','getZ','setFromPoints','videoTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoCol\x20=\x20texture2D(videoTex,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoMaskCol\x20=\x20texture2D(videoTexMask,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20videoCol.a\x20=\x20videoMaskCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20videoCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dot(\x20vClipPosition,\x20vec3(0.0,\x201.0,\x200.0)\x20)\x20>\x200.1)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updateCameraTarget','saveCameraMatrices','mapPicker','_root_','objects_','removeToPicker','resetMaterial','project','type_','videoWidth','naturalHeight','videoHeight','aspect','createMaterial2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSavedNormal\x20=\x20mat3(savedModelMatrix)\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cameraMvpPos\x20=\x20viewMatrixCamera\x20*\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTexCoords\x20=\x20projectionMatrixCamera\x20*\x20cameraMvpPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20cameraMvpPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectedTexelToLinear','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mapTex(float\x20value,\x20float\x20min1,\x20float\x20max1,\x20float\x20min2,\x20float\x20max2)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20min2\x20+\x20(value\x20-\x20min1)\x20*\x20(max2\x20-\x20min2)\x20/\x20(max1\x20-\x20min1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20clamp\x20the\x20w\x20to\x20make\x20sure\x20we\x20don\x27t\x20project\x20behind\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20w\x20=\x20max(vTexCoords.w,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20(vTexCoords.xy\x20/\x20w)\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20corrected\x20width\x20and\x20height\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mapTex(uv.x,\x200.0,\x201.0,\x200.5\x20-\x20widthScaled\x20/\x202.0,\x200.5\x20+\x20widthScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20=\x20mapTex(uv.y,\x200.0,\x201.0,\x200.5\x20-\x20heightScaled\x20/\x202.0,\x200.5\x20+\x20heightScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20sample\x20out\x20of\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isInTexture\x20=\x20(max(uv.x,\x20uv.y)\x20<=\x201.0\x20&&\x20min(uv.x,\x20uv.y)\x20>=\x200.0);\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20render\x20also\x20the\x20back\x20of\x20the\x20object\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20projectorDirection\x20=\x20normalize(projPosition\x20-\x20vWorldPosition.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20projectorDirection\x20=\x20projDirection;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dotProduct\x20=\x20dot(vSavedNormal,\x20projectorDirection);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isFacingProjector\x20=\x20dotProduct\x20>\x200.0000001;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20projectedColor\x20=\x20vec4(diffuse,\x20opacity\x20*\x20backgroundOpacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isFacingProjector\x20&&\x20isInTexture\x20&&\x20isTextureLoaded\x20&&\x20isTextureProjected)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureColor\x20=\x20texture2D(projectedTexture,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureMaskCol\x20=\x20texture2D(textureMask,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20enccoding\x20from\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textureColor\x20=\x20projectedTexelToLinear(textureColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20material\x20opacity\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20textureColor.a\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor\x20=\x20textureColor\x20*\x20textureColor.a\x20+\x20projectedColor\x20*\x20(1.0\x20-\x20textureColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20projectedColor\x20=\x20textureColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isCullByCamera\x20&&\x20dot(\x20vClipPosition,\x20vec3(0.0,\x200.0,\x201.0)\x20)\x20>\x20cameraFarDistance)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor.a\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,\x20resultColor.rgb\x20*\x20visualFieldColor,\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20projectedColor\x20*\x20vec4(visualFieldColor,\x201.0),\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectionMatrixCamera','saveDimensions','isTextureLoaded','textureScale','cover','widthScaled','heightScaled','updateWorldMatrix','projPosition','projDirection','isTextureProjected','savedModelMatrix','backgroundOpacity','textureOffset','isShowHepler','(\x20value\x20)','sRGB','RGBM7Encoding','RGBM','(\x20value,\x207.0\x20)','RGBDEncoding','RGBD','(\x20value,\x20256.0\x20)','GammaEncoding','Gamma','LogLuvEncoding','LogLuv','ToLinear','vector','createBasicLine','FaceColors','cn1','cn3','cn4','cf1','cf3','cf4','Float32BufferAttribute','matrix','matrixAutoUpdate','setPoint','unproject','setXYZ','projectionMatrixInverse','cn2','isNoTileFactor','textureMaskPath','texture3Path','texture4Path','normalUvIndex','cacheImages','texture4','normalFlipSide','textureMask','noise','loadTextures','textureManager','texture3','IS_USE_MASK_TEXTURE2','IS_USE_MASK_TEXTURE3','alphaMask','normalMap','normalMapType','ObjectSpaceNormalMap','FLIP_SIDED','noiseTex','othersRepeat','noTileConfigs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20othersRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20noTileConfigs;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include\x20<normal_fragment_maps>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20include\x20<normal_fragment_maps>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20OBJECTSPACE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_NORMAL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x20//\x20overrides\x20both\x20flatShading\x20and\x20attribute\x20normals\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20FLIP_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20-\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20DOUBLE_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normal\x20*\x20(\x20float(\x20gl_FrontFacing\x20)\x20*\x202.0\x20-\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x20//\x20tangent-space\x20normal\x20map\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TANGENT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20vTBN\x20=\x20mat3(\x20tangent,\x20bitangent,\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mapN.xy\x20=\x20normalScale\x20*\x20mapN.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20vTBN\x20*\x20mapN\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormal2Arb(\x20-vViewPosition,\x20normal\x20);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormalArb(\x20-vViewPosition,\x20normal,\x20dHdxy_fwd()\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20baseColor\x20=\x20vec4(1.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture1Col\x20=\x20textureNoTile(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture2Col\x20=\x20textureNoTile(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture1Col\x20=\x20noTileConfigs.x\x20>\x200.0\x20?\x20textureNoTile(texture1,\x20vUv\x20*\x20othersRepeat.x)\x20:\x20texture2D(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture2Col\x20=\x20noTileConfigs.y\x20>\x200.0\x20?\x20textureNoTile(texture2,\x20vUv\x20*\x20othersRepeat.y)\x20:\x20texture2D(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(texture1Col,\x20texture2Col,\x20texMaskCol.r);\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture3Col\x20=\x20noTileConfigs.z\x20>\x200.0\x20?\x20textureNoTile(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20)\x20:\x20texture2D(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20);\x20//\x20green\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture3Col,\x20texMaskCol.g);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture4Col\x20=\x20noTileConfigs.w\x20>\x200.0\x20?\x20textureNoTile(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20)\x20:\x20texture2D(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20);\x20//\x20blue\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture4Col,\x20texMaskCol.b);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20mapTexelToLinear(\x20baseColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isIgnoreAlpha','isUseScanEffect','isUseUv2Light','scanOffset','ignoreAlpha','useScan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20oriAlpha\x20=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(useScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20timer\x20=\x20mod(iTime\x20+\x20scanOffset,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20timer2\x20=\x20mod(iTime\x20+\x200.3,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20intensity\x20+=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer2,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20=\x20mix(diffuseColor,\x20mix(diffuseColor,\x20vec4(vec3(1.0),\x201.0),\x20intensity\x20*\x203.0),\x201.0-diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(ignoreAlpha){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20oriAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20diffuseColor\x20=\x20texMaskCol;\x20//\x20for\x20test\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<emissivemap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','effectShader','materialList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20if(isUseEmiisive){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fadeLight','isShow','clearMaterials','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor.rgb,\x20intensity);','textureSprite','foam','createUvAnimate','updateFps','settingMaterial','heightExtent','gradientType','seaground','isShowSeaGroundEffect','seaGroundConfigs','gradientLut','isShowContour','groundTexRepeat','getGradientConfig','setGradientConfig','colorArray','addColorMap','createCanvas','seaGroundScale','fogNear','fogFar','seaGroundFog','groundTexPath','groundTex','isShowSeaGround','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPos\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mvPos\x20=\x20modelViewMatrix\x20*\x20mvPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vFogDepth\x20=\x20-mvPos.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowContour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowSeaGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20heightExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20seaGroundFog;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20groundTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#define\x20F\x20length(.5-fract(k.xyw*=mat3(-2,-1,2,\x203,-2,1,\x201,2,2)*\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20fog(float\x20fogNear,\x20float\x20fogFar,\x20float\x20fogDepth,\x20vec3\x20fogNearColor,\x20vec3\x20fogFarColor,\x20vec4\x20fragColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fogFactor\x20=\x20smoothstep(fogNear,\x20fogFar,\x20fogDepth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(mix(\x20fragColor.rgb,\x20mix(fogNearColor,\x20fogFarColor,\x20fogFactor),\x20fogFactor\x20),\x20fragColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(gradientTex,\x20vec2(0.0,\x20(vModelPos.y\x20-\x20heightExtent.x)/(heightExtent.y\x20-\x20heightExtent.x)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowContour)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lineThickness\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20pick\x20a\x20coordinate\x20to\x20visualize\x20in\x20a\x20grid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20coord\x20=\x20vModelPos.y\x20/\x205.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20compute\x20anti-aliased\x20world-space\x20grid\x20lines\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20line\x20=\x20abs(fract(coord\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(coord)\x20/\x20lineThickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20just\x20visualize\x20the\x20grid\x20lines\x20directly\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20+=\x20vec4(vec3(1.0\x20-\x20min(line,\x201.0)),\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowSeaGround\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scale\x20=\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20imaging\x20an\x20axis-aligned\x20plane\x20in\x20space\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20iTime\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20rot\x20=\x20mat3(-2,-1,2,\x203,-2,1,\x201,2,2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(uv+t*1e2,\x20t*2e2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rotate\x20the\x20plane&&calc\x20distance\x20to\x20cell\x20center\x20then\x20get\x20minimum\x20of\x20three\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s[3]\x20=\x20float[3](.32,.28,.26);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for(int\x20i\x20=\x200;i<3;i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pos\x20*=\x20rot*s[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dist\x20=\x20min(dist,length(.5-fract(pos/2e2*scale)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20seaCausticTex\x20=\x20pow((dist),\x207.)*25.+vec4(0,0,0,1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20seaCausticTex\x20=\x20fog(seaGroundFog.x,\x20seaGroundFog.y,\x20vFogDepth,\x20vec3(1.0),\x20vec3(0.0),\x20seaCausticTex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20vec3(0,.35,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20seaCausticTex.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(vec3(1.0),\x20resultColor.rgb,\x20texture2D(groundTex,\x20vnUv\x20*\x201000.0).a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_USE_GROUND_TEX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20hmExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20hmTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hmCol','1.0','hmTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20replaceCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20hmTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20checkColorIsNear\x20(vec3\x20curCol,\x20vec3\x20targetCol,\x20float\x20nearFactor){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20delta\x20=\x20vec3(curCol\x20-\x20targetCol);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(abs(delta.r)\x20<\x20nearFactor\x20&&\x20abs(delta.g)\x20<\x20nearFactor\x20&&\x20abs(delta.b)\x20<\x20nearFactor){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hmCol\x20=\x20texture2D(hmTex,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20hmCol.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20','\x20?\x200.0\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setGradient','rgba(','getColor','rgb(','updateTexture','isSetTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x201.0,\x201.0,\x20rotateAngle,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20texture2D(gradientTex,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20=\x20mix(vec3(1.0,\x200.0,\x200.0),\x20vec3(0.0,\x200.0,\x201.0),\x20texCol.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20curTexColor\x20=\x20texture2D(texture1,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nextTexColor\x20=\x20texture2D(texture2,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(curTexColor,\x20nextTexColor,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','images/building/circular2.png','images/points/particle1.png','images/out_light4.png','images/scale1.png','images/number/fly0101_03.png','images/alpha_gradient.png','images/wall3.png','images/fire/inner_fire.png','images/fire/out_fire.png','images/fire/fire.png','images/explosion/sprite-explosion2.png','images/water/smokeparticle.png','images/line/up_line.png','images/line/light_old.png','checkFunLevel','ESTileMap','inited','shadow','updateShadow2','setShadowLight','json','isShowBuildingTip','isForceVisible','cameraFlyTo','cameraFlyToHelper','toSceneCoord','setWalkControls','removeWalkControls','createMiniMap','isSetRoomEffect','envTexture','isEnv','addEffect','roomEffect','openScan','topImg','sideImg','colorImg','extentEffect','Buildings','buildingsThemes','setBuildingAttribute','tileRoomEffect','buildingScanConfigs','buildingScanLight','emissiveImg','screenSky','skyImg','Floors','pointLight','Lights','isUseEffectLights','_useThemeLight','directLight','ambientLight','isAmbientLight','isShowSkybox','isShowGround','repeatImg','Ground','isSetModelEffect','Fog','screenEffects','getPlatform','isPc','platform','iPhone','iPod','closeComposer','PostProcessing','postprocessing\x20is\x20not\x20support\x20in\x20this\x20browser\x20environment','setConfigs','isShowShadow','modelLoadedAll','once','effectQuality','high','shadowMap','postProcessing','screenEffect','color:#66ccff;','medium','%c\x20effect\x20quality:\x20','low','checkIsInLowDevice','checkIsInLowDeviceComplete','isLockShadowVisible','isCanRender','EffectManager','IsMapLoading','show','effectsInitComplete','isPC','ESFileLoader','ESEventDispatcher','pointsSegement','switchConfigPath','showRoads','routesMarkers','beforeLoad','tilePreLoad','tileBuilidngThemes','addTileBuildingsEffect','addTilePlaneWater','tileLoadComplete','setTileBuildingAttribute','unloadTile','themeLoaded','can\x20not\x20convert\x20null\x20or\x20undefined\x20to\x20object','%cthis\x20map\x20does\x20not\x20specify\x20a\x20effect\x20package','effectsInitError','debugParams','localEffectSrc','localEffectId','%c\x20effects.json\x20cannot\x20be\x20parsed!\x20Please\x20check\x20the\x20response\x20content!','color:red;','tileTexturesReady','preLoadComplete','preload','loadComplete','change','viewMode','quality','modelPrefetched','__singlemesh','createTileInstanceModel','createInstanceModel','singleMesheDatas','routeLoaded','navData','Lines','editMode','loadRoads','loadTileRoutesData','tileService','isChangeTileRoute','model','setModelsEffect','mergeModel3D','modelEffects','setModelsEffect3','child','modelStore','setModelsEffect4','mapId','addLayerToMap','bidList','mapIds','modelinfo','box3','EffectMarker','CUBE_FLOAT','addMarker','envTextureCube','isSetTileBuilding','setTileBuildingsEnvTexture','buildingEnter','buildingExit','tileUpdated','buildingLoadComplete','setBuildingRoomShadow','showShadow','MODEL_IMAGE','imgdata','model_loading','controlchange','updateLightPoints','changeBuildingColor','updateTileBuildingHighLightColor','updateLts','Type','horizon','updateTileBuildingHorizonScan','updateTileBuildingCenterSpreadScan','radar_scan','updateTileBuildingRadarScan','toggleTileBuildingsLight','updateTileBuildingExtentLightDown','controlFloorLayer','controlFloors','_originPos','updateAmbientLight','directionalLights','updateDirectionalLights','updateTileRoutesStyle','toggleTileRoutesVisible','skyboxTool','updateSkybox','isLockSkyboxVisible','createWaveMarker','updateWaveLines','removeWaveLines','setWaterRipple','setHeatPointImg','boatFoams','gradientTerrainList','lightBlend','toggleLightPoints','shadowPlane','uvTransformTextures','_markerId','modelName','modelsControlGroups','_isBloom','setObjectBloomLight','removeObjectBloomLight','projectionHeatMaps','setHeatMapTexture','textureHeatMaps','transparencyCondition','createImgMaterial','gradients','minValue','minAlphaTrans','initVideoProjector','updateProjectorTarget','_bloomOriginColor','offsetHSL','not\x20support\x20this\x20obj','updateOutlineStyle','setObjectOutline','removeObjectOutline','clearSelectedOutline','relaceBgMaterial','materials','setRainScreenEffect','setSnowScreenEffect','switchEffectLight','updateLightProbe','closeShadow','updateShadowAnimate','Routes','Models','Shadow','HeatMap','configs','addBuildingsEffect','addGroundTexture','isPointLight','addPointLights','isDirectLight','addDirectLights','initEnvTexture','isNavPath','loadRoutesLine','computeRoutesData','setSkyBox','updateEffect','removeEffect','Video','edgeLineFrameList','isCanUseScanStatus','lineScanCenter','sideImgRepeatFactor','topImgRepeatFactor','imgLightFactor','emissiveImgScale','colorBreath','horizonScanColor','horizonScanWidth','horizonScanDiffuse','horizonScanExtent','horizonScanSpeed','verticalScanHeight','verticalScanColor','verticalScanExtent','verticalScanSpeed','centerSpreadColor','centerSpreadSpeed','radarScanColor','radarScanCenterPos','setBuildingScanConfig','MODEL','setBuildingsTheme','frameOpacity','frameColor','createLineFrame','_effectConfig','createTileBuildingsEffect2','tileStyles','createTileBuildingsEffect','prodMatIdx','tileTextures','mappingThemeImgStyle','renderSort','getTileById','getLayersByTypes','computeBuildingFaceAttr','topimage','sideimage','scanLightType','scanLightWidth','scanExtent','horizonScan','scanColor','scanSpeed','verticalScan','center_spread','scanCenter','centerSpreadRadius','maxRadius','centerSpread','radarScanImg','scanImg','radarScan','originOpacity','scanRadius','toggleTileBuildingsScan','horizon_scan','updateTileBuildingExtentLight','openLight','envMapIntensity','floorsMesh','floorEffects','underGroundLayers','setFloorMaterial','floorNum','effectType','effectConfigs','alphaTransitionImg','alpha_trans','isControl','controlId','scanRepeatImg','gradient_floor','GeometryMirro','groundThemes','FLOOR_BASE','GroundTexture','repeatScaleFactor','targetMesh','pointLights','tileBuildingLight','envTextureCubes','PointLight','extent','PointLightHelper','updatePointLights','distance','replaceLight','_originConfig','DirectionalLightHelper','DirectionalLight','updateDirectionalLightPos','isInfinite','planeScale','lightPlane','lightAnimate','AmbientLight','isRecover','_originIntensity','updateAllLightConfig','animateTime','imgPaths','HDR','createPMREMEnvTexture','createEnvTexture','createLightProbe','LightProbe','lightProbe','LightProbeGenerator','fromCubeTexture','_effectLightProbe','getTextureCubeByName','updateMaterialsEnvMap','updateLightProbeAnimate','loadHDR','SphericalHarmonics3','coefficients','setRGB','copySRGBToLinear','lengthSq','getBasisAt','tileRoute','routesLineGroup','routesEffectLayer','tileRoutesMarkers','isCanChangeTileRoutesStyle','isChangedTileRoutesStyle','tempColor','initHeight','createRoutesLine','lineTexture','coordTrans','computeNavDataToRoutesData','navs','naviData','#c37400','bstair','rank','Nodes','eid','lineImg','datatype','isHightLight','createTileRouteStyles','DEFAULT_COORDSYSTEM','changeColor','idColorMapping','_id','geometries','mergeGeometrys','_getMaterial','tileCode','tile_route_line','lineColorMapping','routeId','BufferGeometryUtils2','mergeBufferGeometries','addGroup','updateTileRoutesRandomColors','isChangeLineColor','tileList','colorList','changedTileRoutesStyleConfig','lineScale','isLoadedTileRouteStyle','routeEffectLayer','roadStyles','colorRGB2Hex','linewidth','url','animationspeed','computeTileRoutesData','outline','substring','tan','atan','exp','tangent','groups','crossVectors','has','mergedUserData','mergeBufferAttributes','normalized','getW','setY','setZ','BYTES_PER_ELEMENT','setArray','Number','textureCubes','isFirstTexCube','showSkybox','skyboxSwitchAnimate','box','isPlane','createSixPicCubeTexture','tileMapInited','gradient_sphere','gradient_cube','sphere_cube','clearSky','shaderSky','nightSkyConfigs','bindLight','azimuthAngle','verticalAngle','bindTileMapLevelChange','sky_wall','tileMapLevelChange','waterList','waveEffectLayer','tilePlaneWaters','isSetTilePlaneWater','addWater','addWaterShape','tilePlaneEffect','styleType','styleName','groundImg','waveFactor','getWater','MODEL_BASE','waveLine','waveLineMarker','modelBlendEffectList','modelTerrainList','isSetModelsConfigs','modelsConfigs','modelUvAnimation','mirroWaters','lightPointsMeshs','lightPointsLayer','tileInstanceModels','order','_ef_','splitEffectsTemplates','matchModelEffectConfig','_mesh','settingModelEffects','control','codeControlObj','additive','fresnel','createFresnelEffect','lineFrame','createEdgeLineFrame','faces','wireFrame','wireframe','uvAnimation','modelEffectInitComplete','uvTransform','textureBlend','createTextureBlend','blendEffect','createrBlendEffect','mirroWater','createMirroWater2','createLightBlend','lightPoints','_lightPointsType','_lightPointsConfig','_lightPointsIsLookAt','createTerrain','terrain','heatmap','gradient','mainLight','originalSrc','currentSrc','lastIndexOf','_ef_mask.png','images/water/waternormals.jpg','_effect','projection','createGradient','createUvAnimation','isUseAnimate','translate','uvRotation','spriteAnimate','addSpriteAnimate','useSpriteAnimate','translateX','translateY','uv2UseAlpha','uv2TranslateX','uv2TranslateY','_ef_uv-animate.','fixMobileIntensity','setEnvTextureMaterials','emissiveIntensity','closeLight','isUseAlphaMask','isUseNormal','_ef_blend-1.','_ef_blend-2.','images/ground/noise.png','blendCount','_ef_normal.','_createWater','noOriginTexture','_ef_mask.','isUseGround','groundScaleFactor','isShowWaterEffect','waterEffect','addEffectPointsMarker','POINTS','createEffectPoints','getWorldPosition','styleConfig','setRenderOrder','createEdgeLineFrameByMeshLine','collectPoints','parser','Box3','setFromObject','radToDeg','building','mapmodel3ds','rotate','instanceMeshs','gltfObj','offsetPos','outlineSelectList','isLockScreenVisible','isLockCreateScreenPlane','screenPlane','rainScreenEffect','isShowRainScreenEffect','isShowSnowScreenEffect','bindOutlineSelection','mapClickNode','ESNodeType','MODEL3D','outlinePass','selectedObjects','visibleEdgeColor','hiddenEdgeColor','edgeStrength','edgeWidth','edgeSpread','edgeGlow','edgeThickness','usePatternTexture','blinkPeriod','pulsePeriod','defaultOutlineConfig','ESWaterMark','plane','snowScreenEffect','composer','isWebGL2','bloomComposer','fxaaPass','originSize','scaleSize','bloomLayer','darkMaterial','black','darkColor','getPixelRatio','alphaMode','perspective','getDrawingBufferSize','EffectComposer','RenderPass','ShaderPass','CopyShader','renderToScreen','iPad','UnrealBloomPass','threshold','bloomPass','strength','bloomStrength','bloomRadius','addPass','bloomFinalPass','renderTarget2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20baseTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bloomTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getTexture(\x20sampler2D\x20texture1\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mapTexelToLinear(\x20texture2D(\x20texture1\x20,\x20vUv\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20(\x20getTexture(\x20baseTexture\x20)\x20+\x20vec4(\x201.0\x20)\x20*\x20getTexture(\x20bloomTexture\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseTexture','needsSwap','sceneBackground','originBgTexture','viewMode_','rendererCss2D','cameraTop','clearDepth','sceneOrtho','cameraOrtho','renderBloom','_originColor','darkenNonBloomed','restoreMaterial','SkinnedMesh','RGBAFormat','_pixelRatio','_width','_height','renderTarget1','EffectComposer.rt2','writeBuffer','readBuffer','passes','THREE.EffectComposer\x20relies\x20on\x20THREE.CopyShader','THREE.EffectComposer\x20relies\x20on\x20THREE.ShaderPass','clock','getDelta','isLastEnabledPass','context','NOTEQUAL','EQUAL','swapBuffers','MaskPass','ClearMaskPass','getSize','Pass','THREE.Pass:\x20.render()\x20must\x20be\x20implemented\x20in\x20derived\x20pass.','overrideMaterial','autoClear','clearColor','getClearColor','setClearColor','clearAlpha','autoClearColor','autoClearDepth','autoClearStencil','textureID','tDiffuse','fsQuad','FullScreenQuad','renderTargetsHorizontal','UnrealBloomPass.bright','renderTargetBright','nMips','UnrealBloomPass.h','renderTargetsVertical','LuminosityHighPassShader','highPassUniforms','materialHighPassFilter','separableBlurMaterials','getSeperableBlurMaterial','texSize','getCompositeMaterial','blurTexture1','compositeMaterial','blurTexture3','blurTexture4','blurTexture5','bloomFactors','bloomTintColors','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.CopyShader','copyUniforms','materialCopy','oldClearColor','oldClearAlpha','getClearAlpha','STENCIL_TEST','luminosityThreshold','colorTexture','BlurDirectionX','BlurDirectionY','varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x0a\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20fSigma\x20=\x20float(SIGMA);\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20fSigma);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<\x20KERNEL_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20x\x20=\x20float(i);\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(x,\x20fSigma);\x09\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20direction\x20*\x20invSize\x20*\x20x;\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20(sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w;\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x202.0\x20*\x20w;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x0a\x09\x09\x09\x09}','vUv\x20=\x20uv;','uniform\x20sampler2D\x20tDiffuse;','varying\x20vec2\x20vUv;','vec4\x20texel\x20=\x20texture2D(\x20tDiffuse,\x20vUv\x20);','gl_FragColor\x20=\x20opacity\x20*\x20texel;','luminosityHighPass','uniform\x20float\x20defaultOpacity;','uniform\x20float\x20luminosityThreshold;','uniform\x20float\x20smoothWidth;','float\x20v\x20=\x20dot(\x20texel.xyz,\x20luma\x20);','vec4\x20outputColor\x20=\x20vec4(\x20defaultColor.rgb,\x20defaultOpacity\x20);','float\x20alpha\x20=\x20smoothstep(\x20luminosityThreshold,\x20luminosityThreshold\x20+\x20smoothWidth,\x20v\x20);','FXAAShader','gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','precision\x20highp\x20float;','//\x20FXAA\x203.11\x20implementation\x20by\x20NVIDIA,\x20ported\x20to\x20WebGL\x20by\x20Agost\x20Biro\x20(biro@archilogic.com)','//\x20File:\x20\x20\x20\x20\x20\x20\x20\x20es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag','//\x20SDK\x20Version:\x20v3.00','//\x20Site:\x20\x20\x20\x20\x20\x20\x20\x20http://developer.nvidia.com/','//\x20Copyright\x20(c)\x202014-2015,\x20NVIDIA\x20CORPORATION.\x20All\x20rights\x20reserved.','//\x20modification,\x20are\x20permitted\x20provided\x20that\x20the\x20following\x20conditions','//\x20are\x20met:','//\x20\x20*\x20Redistributions\x20of\x20source\x20code\x20must\x20retain\x20the\x20above\x20copyright','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer.','//\x20\x20*\x20Redistributions\x20in\x20binary\x20form\x20must\x20reproduce\x20the\x20above\x20copyright','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer\x20in\x20the','//\x20\x20\x20\x20documentation\x20and/or\x20other\x20materials\x20provided\x20with\x20the\x20distribution.','//\x20\x20*\x20Neither\x20the\x20name\x20of\x20NVIDIA\x20CORPORATION\x20nor\x20the\x20names\x20of\x20its','//\x20\x20\x20\x20contributors\x20may\x20be\x20used\x20to\x20endorse\x20or\x20promote\x20products\x20derived','//\x20\x20\x20\x20from\x20this\x20software\x20without\x20specific\x20prior\x20written\x20permission.','//\x20THIS\x20SOFTWARE\x20IS\x20PROVIDED\x20BY\x20THE\x20COPYRIGHT\x20HOLDERS\x20``AS\x20IS\x27\x27\x20AND\x20ANY','//\x20EXPRESS\x20OR\x20IMPLIED\x20WARRANTIES,\x20INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,\x20THE','//\x20IMPLIED\x20WARRANTIES\x20OF\x20MERCHANTABILITY\x20AND\x20FITNESS\x20FOR\x20A\x20PARTICULAR','//\x20PURPOSE\x20ARE\x20DISCLAIMED.\x20\x20IN\x20NO\x20EVENT\x20SHALL\x20THE\x20COPYRIGHT\x20OWNER\x20OR','//\x20OF\x20LIABILITY,\x20WHETHER\x20IN\x20CONTRACT,\x20STRICT\x20LIABILITY,\x20OR\x20TORT','//\x20(INCLUDING\x20NEGLIGENCE\x20OR\x20OTHERWISE)\x20ARISING\x20IN\x20ANY\x20WAY\x20OUT\x20OF\x20THE\x20USE','//\x20OF\x20THIS\x20SOFTWARE,\x20EVEN\x20IF\x20ADVISED\x20OF\x20THE\x20POSSIBILITY\x20OF\x20SUCH\x20DAMAGE.','//----------------------------------------------------------------------------------','#define\x20FXAA_PC\x201','#define\x20FXAA_GLSL_100\x201','#define\x20FXAA_QUALITY_PRESET\x2012','/*--------------------------------------------------------------------------*/','#ifndef\x20FXAA_PC_CONSOLE','\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20The\x20console\x20algorithm\x20for\x20PC\x20is\x20included','\x20\x20\x20\x20//\x20for\x20developers\x20targeting\x20really\x20low\x20spec\x20machines.','\x20\x20\x20\x20//\x20Likely\x20better\x20to\x20just\x20run\x20FXAA_PC,\x20and\x20use\x20a\x20really\x20low\x20preset.','#ifndef\x20FXAA_GLSL_120','\x20\x20\x20\x20#define\x20FXAA_GLSL_120\x200','#ifndef\x20FXAA_GLSL_130','\x20\x20\x20\x20#define\x20FXAA_GLSL_130\x200','#ifndef\x20FXAA_HLSL_3','\x20\x20\x20\x20#define\x20FXAA_HLSL_3\x200','#ifndef\x20FXAA_HLSL_4','#ifndef\x20FXAA_HLSL_5','\x20\x20\x20\x20#define\x20FXAA_HLSL_5\x200','/*==========================================================================*/','\x20\x20\x20\x20//\x20For\x20those\x20using\x20non-linear\x20color,','\x20\x20\x20\x20//\x20and\x20either\x20not\x20able\x20to\x20get\x20luma\x20in\x20alpha,\x20or\x20not\x20wanting\x20to,','\x20\x20\x20\x20//\x20this\x20enables\x20FXAA\x20to\x20run\x20using\x20green\x20as\x20a\x20proxy\x20for\x20luma.','\x20\x20\x20\x20//\x20So\x20with\x20this\x20enabled,\x20no\x20need\x20to\x20pack\x20luma\x20in\x20alpha.','\x20\x20\x20\x20//\x20This\x20will\x20turn\x20off\x20AA\x20on\x20anything\x20which\x20lacks\x20some\x20amount\x20of\x20green.','\x20\x20\x20\x20//\x20Pure\x20red\x20and\x20blue\x20or\x20combination\x20of\x20only\x20R\x20and\x20B,\x20will\x20get\x20no\x20AA.','\x20\x20\x20\x20//\x20Might\x20want\x20to\x20lower\x20the\x20settings\x20for\x20both,','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaConsoleEdgeThresholdMin','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaQualityEdgeThresholdMin','\x20\x20\x20\x20//\x201\x20=\x20On.','\x20\x20\x20\x20//\x200\x20=\x20Off.','\x20\x20\x20\x20#define\x20FXAA_GREEN_AS_LUMA\x200','#ifndef\x20FXAA_EARLY_EXIT','\x20\x20\x20\x20//\x20Controls\x20algorithm\x27s\x20early\x20exit\x20path.','\x20\x20\x20\x20//\x20On\x20PS3\x20turning\x20this\x20ON\x20adds\x202\x20cycles\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20On\x20360\x20turning\x20this\x20OFF\x20adds\x2010ths\x20of\x20a\x20millisecond\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20Turning\x20this\x20off\x20on\x20console\x20will\x20result\x20in\x20a\x20more\x20blurry\x20image.','\x20\x20\x20\x20#define\x20FXAA_EARLY_EXIT\x201','\x20\x20\x20\x20//\x20Only\x20valid\x20for\x20PC\x20OpenGL\x20currently.','\x20\x20\x20\x20//\x201\x20=\x20Use\x20discard\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20//\x20\x20\x20\x20\x20For\x20APIs\x20which\x20enable\x20concurrent\x20TEX+ROP\x20from\x20same\x20surface.','\x20\x20\x20\x20//\x200\x20=\x20Return\x20unchanged\x20color\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20#define\x20FXAA_DISCARD\x200','#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20//\x20Used\x20for\x20GLSL\x20120\x20only.','\x20\x20\x20\x20//\x200\x20=\x20do\x20not\x20use\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20#ifdef\x20GL_EXT_gpu_shader4','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201','\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5','\x20\x20\x20\x20#ifdef\x20GL_ARB_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x200','\x20\x20\x20\x20//\x200\x20=\x20API\x20does\x20not\x20support\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201','\x20\x20\x20\x20#ifndef\x20FXAA_GATHER4_ALPHA','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x200','/*============================================================================','------------------------------------------------------------------------------','NOTE\x20the\x20other\x20tuning\x20knobs\x20are\x20now\x20in\x20the\x20shader\x20function\x20inputs!','============================================================================*/','#ifndef\x20FXAA_QUALITY_PRESET','\x20\x20\x20\x20//\x20This\x20needs\x20to\x20be\x20compiled\x20into\x20the\x20shader\x20as\x20it\x20effects\x20code.','\x20\x20\x20\x20//\x20Best\x20option\x20to\x20include\x20multiple\x20presets\x20is\x20to','\x20\x20\x20\x20//\x20in\x20each\x20shader\x20define\x20the\x20preset,\x20then\x20include\x20this\x20file.','\x20\x20\x20\x20//\x2010\x20to\x2015\x20-\x20default\x20medium\x20dither\x20(10=fastest,\x2015=highest\x20quality)','\x20\x20\x20\x20//\x2039\x20\x20\x20\x20\x20\x20\x20-\x20no\x20dither,\x20very\x20expensive','\x20\x20\x20\x20//\x20NOTES','\x20\x20\x20\x20//\x20-----------------------------------------------------------------------','\x20\x20\x20\x20//\x2012\x20=\x20slightly\x20faster\x20then\x20FXAA\x203.9\x20and\x20higher\x20edge\x20quality\x20(default)','\x20\x20\x20\x20//\x2013\x20=\x20about\x20same\x20speed\x20as\x20FXAA\x203.9\x20and\x20better\x20than\x2012','\x20\x20\x20\x20//\x2023\x20=\x20closest\x20to\x20FXAA\x203.9\x20visually\x20and\x20performance\x20wise','\x20\x20\x20\x20//\x20\x20_\x20=\x20the\x20lowest\x20digit\x20is\x20directly\x20related\x20to\x20performance','\x20\x20\x20\x20//\x20_\x20\x20=\x20the\x20highest\x20digit\x20is\x20directly\x20related\x20to\x20style','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20PRESETS','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20MEDIUM\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2010)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x203.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2011)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x204','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x2012.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x205','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x204.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2014)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x207','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2015)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20LOW\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2020)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2021)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2022)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2023)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2024)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2026)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x209','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2027)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2010','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2028)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2029)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20EXTREME\x20QUALITY','#if\x20(FXAA_QUALITY_PRESET\x20==\x2039)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2012','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x201.5','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20API\x20PORTING','#if\x20(FXAA_GLSL_100\x20==\x201)\x20||\x20(FXAA_GLSL_120\x20==\x201)\x20||\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaDiscard\x20discard','\x20\x20\x20\x20#define\x20FxaaFloat\x20float','\x20\x20\x20\x20#define\x20FxaaFloat2\x20vec2','\x20\x20\x20\x20#define\x20FxaaFloat4\x20vec4','\x20\x20\x20\x20#define\x20FxaaHalf\x20float','\x20\x20\x20\x20#define\x20FxaaHalf2\x20vec2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20vec3','\x20\x20\x20\x20#define\x20FxaaInt2\x20ivec2','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20clamp(x,\x200.0,\x201.0)','\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D','#else','\x20\x20\x20\x20#define\x20FxaaBool\x20bool','\x20\x20\x20\x20#define\x20FxaaFloat2\x20float2','\x20\x20\x20\x20#define\x20FxaaFloat4\x20float4','\x20\x20\x20\x20#define\x20FxaaHalf\x20half','\x20\x20\x20\x20#define\x20FxaaHalf2\x20half2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20half3','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20saturate(x)','\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2D(t,\x20p,\x200.0)','\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2D(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','#if\x20(FXAA_GLSL_120\x20==\x201)','\x20\x20\x20\x20//\x20And\x20at\x20least,','\x20\x20\x20\x20//\x20\x20#extension\x20GL_EXT_gpu_shader4\x20:\x20enable','\x20\x20\x20\x20//\x20\x20(or\x20set\x20FXAA_FAST_PIXEL_OFFSET\x201\x20to\x20work\x20like\x20DX9)','\x20\x20\x20\x20#if\x20(FXAA_FAST_PIXEL_OFFSET\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLod(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20textureGather(t,\x20p,\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)','#if\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20//\x20Requires\x20\x22#version\x20130\x22\x20or\x20better','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20textureLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20textureLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable','#if\x20(FXAA_HLSL_3\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20float2','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20tex2Dlod(t,\x20float4(p\x20+\x20(o\x20*\x20r),\x200,\x200))','\x20\x20\x20\x20#define\x20FxaaInt2\x20int2','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0,\x20o)','#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20struct\x20FxaaTex\x20{\x20SamplerState\x20smpl;\x20Texture2D\x20tex;\x20};','\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20t.tex.GatherAlpha(t.smpl,\x20p)','\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20t.tex.GatherAlpha(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20t.tex.GatherGreen(t.smpl,\x20p)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GREEN\x20AS\x20LUMA\x20OPTION\x20SUPPORT\x20FUNCTION','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.w;\x20}','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.y;\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA3\x20QUALITY\x20-\x20PC','#if\x20(FXAA_PC\x20==\x201)','\x20\x20\x20\x20//\x20{xy}\x20=\x20center\x20of\x20pixel','\x20\x20\x20\x20FxaaFloat2\x20pos,','\x20\x20\x20\x20//\x20Use\x20noperspective\x20interpolation\x20here\x20(turn\x20off\x20perspective\x20interpolation).','\x20\x20\x20\x20//\x20{xy_}\x20=\x20upper\x20left\x20of\x20pixel','\x20\x20\x20\x20//\x20{_zw}\x20=\x20lower\x20right\x20of\x20pixel','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsolePosPos,','\x20\x20\x20\x20//\x20Input\x20color\x20texture.','\x20\x20\x20\x20//\x20if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20//\x20\x20\x20\x20\x20{__a}\x20=\x20luma\x20in\x20perceptual\x20color\x20space\x20(not\x20linear)','\x20\x20\x20\x20FxaaTex\x20tex,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20For\x20everything\x20but\x20360,\x20just\x20use\x20the\x20same\x20input\x20here\x20as\x20for\x20\x22tex\x22.','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x202nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-1.','\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegOne,','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x203nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-2.','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.','\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.','\x20\x20\x20\x20//\x20{x_}\x20=\x201.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y}\x20=\x201.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat2\x20fxaaQualityRcpFrame,','\x20\x20\x20\x20//\x20This\x20effects\x20sub-pixel\x20AA\x20quality\x20and\x20inversely\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x20Where\x20N\x20ranges\x20between,','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.33\x20(sharper)','\x20\x20\x20\x20//\x20{x__}\x20=\x20-N/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x20N/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20Not\x20used\x20on\x20360,\x20but\x20used\x20on\x20PS3\x20and\x20PC.','\x20\x20\x20\x20//\x20{x__}\x20=\x20-2.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-2.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x202.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x202.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt2,','\x20\x20\x20\x20//\x20{_y_}\x20=\x20\x208.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20-4.0/screenWidthInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360RcpFrameOpt2,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_SUBPIX\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.','\x20\x20\x20\x20//\x20Choose\x20the\x20amount\x20of\x20sub-pixel\x20aliasing\x20removal.','\x20\x20\x20\x20//\x20This\x20can\x20effect\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x201.00\x20-\x20upper\x20limit\x20(softer)','\x20\x20\x20\x20//\x20\x20\x200.75\x20-\x20default\x20amount\x20of\x20filtering','\x20\x20\x20\x20//\x20\x20\x200.25\x20-\x20almost\x20off','\x20\x20\x20\x20FxaaFloat\x20fxaaQualitySubpix,','\x20\x20\x20\x20//\x20The\x20minimum\x20amount\x20of\x20local\x20contrast\x20required\x20to\x20apply\x20algorithm.','\x20\x20\x20\x20//\x20\x20\x200.333\x20-\x20too\x20little\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.250\x20-\x20low\x20quality','\x20\x20\x20\x20//\x20\x20\x200.166\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.063\x20-\x20overkill\x20(slower)','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThreshold,','\x20\x20\x20\x20//\x20Trims\x20the\x20algorithm\x20from\x20processing\x20darks.','\x20\x20\x20\x20//\x20\x20\x200.0625\x20-\x20high\x20quality\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.0312\x20-\x20visible\x20limit\x20(slower)','\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,','\x20\x20\x20\x20//\x20\x20\x20As\x20colors\x20that\x20are\x20mostly\x20not-green','\x20\x20\x20\x20//\x20\x20\x20will\x20appear\x20very\x20dark\x20in\x20the\x20green\x20channel!','\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThresholdMin,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_SHARPNESS\x20define.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20effect\x20PS3,\x20as\x20this\x20needs\x20to\x20be\x20compiled\x20in.','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_SHARPNESS\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20three\x20safe\x20values\x20here:\x202\x20and\x204\x20and\x208.','\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.','\x20\x20\x20\x20//\x20For\x20all\x20other\x20platforms\x20can\x20be\x20a\x20non-power\x20of\x20two.','\x20\x20\x20\x20//\x20\x20\x208.0\x20is\x20sharper\x20(default!!!)','\x20\x20\x20\x20//\x20\x20\x204.0\x20is\x20softer','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_THRESHOLD\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20two\x20safe\x20values\x20here:\x201/4\x20and\x201/8.','\x20\x20\x20\x20//\x20Other\x20platforms\x20can\x20use\x20other\x20values.','\x20\x20\x20\x20//\x20\x20\x200.125\x20leaves\x20less\x20aliasing,\x20but\x20is\x20softer\x20(default!!!)','\x20\x20\x20\x20//\x20\x20\x200.25\x20leaves\x20more\x20aliasing,\x20and\x20is\x20sharper','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThreshold,','\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.','\x20\x20\x20\x20//\x20This\x20only\x20applies\x20when\x20FXAA_EARLY_EXIT\x20is\x201.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20apply\x20to\x20PS3,','\x20\x20\x20\x20//\x20PS3\x20was\x20simplified\x20to\x20avoid\x20more\x20shader\x20instructions.','\x20\x20\x20\x20//\x20\x20\x200.06\x20-\x20faster\x20but\x20more\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20\x20\x200.05\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.04\x20-\x20slower\x20and\x20less\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThresholdMin,','\x20\x20\x20\x20//\x20Use\x20zeros\x20or\x20anything\x20else\x20for\x20other\x20platforms.','\x20\x20\x20\x20//\x20These\x20must\x20be\x20in\x20physical\x20constant\x20registers\x20and\x20NOT\x20immediates.','\x20\x20\x20\x20//\x20Immediates\x20will\x20result\x20in\x20compiler\x20un-optimizing.','\x20\x20\x20\x20//\x20{xyzw}\x20=\x20float4(1.0,\x20-1.0,\x200.25,\x20-0.25)','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360ConstDir',')\x20{','\x20\x20\x20\x20FxaaFloat2\x20posM;','\x20\x20\x20\x20posM.x\x20=\x20pos.x;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexAlpha4(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffAlpha4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexGreen4(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffGreen4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20luma4A.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaE\x20luma4A.z','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaS\x20luma4A.x','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaSE\x20luma4A.y','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaNW\x20luma4B.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaN\x20luma4B.z','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaW\x20luma4B.x','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20maxSM\x20=\x20max(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20minSM\x20=\x20min(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20maxESM\x20=\x20max(lumaE,\x20maxSM);','\x20\x20\x20\x20FxaaFloat\x20minESM\x20=\x20min(lumaE,\x20minSM);','\x20\x20\x20\x20FxaaFloat\x20maxWN\x20=\x20max(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20minWN\x20=\x20min(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20rangeMax\x20=\x20max(maxWN,\x20maxESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMin\x20=\x20min(minWN,\x20minESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMaxScaled\x20=\x20rangeMax\x20*\x20fxaaQualityEdgeThreshold;','\x20\x20\x20\x20FxaaFloat\x20range\x20=\x20rangeMax\x20-\x20rangeMin;','\x20\x20\x20\x20FxaaFloat\x20rangeMaxClamped\x20=\x20max(fxaaQualityEdgeThresholdMin,\x20rangeMaxScaled);','\x20\x20\x20\x20FxaaBool\x20earlyExit\x20=\x20range\x20<\x20rangeMaxClamped;','\x20\x20\x20\x20if(earlyExit)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaDiscard;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20rgbyM;','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(1,\x20-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20subpixRcpRange\x20=\x201.0/range;','\x20\x20\x20\x20FxaaFloat\x20subpixNSWE\x20=\x20lumaNS\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaNS;','\x20\x20\x20\x20FxaaFloat\x20edgeVert1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz2\x20=\x20(-2.0\x20*\x20lumaE)\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert2\x20=\x20(-2.0\x20*\x20lumaN)\x20+\x20lumaNWNE;','\x20\x20\x20\x20FxaaFloat\x20lumaNWSW\x20=\x20lumaNW\x20+\x20lumaSW;','\x20\x20\x20\x20FxaaFloat\x20lumaSWSE\x20=\x20lumaSW\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz4\x20=\x20(abs(edgeHorz1)\x20*\x202.0)\x20+\x20abs(edgeHorz2);','\x20\x20\x20\x20FxaaFloat\x20edgeHorz3\x20=\x20(-2.0\x20*\x20lumaW)\x20+\x20lumaNWSW;','\x20\x20\x20\x20FxaaFloat\x20edgeVert3\x20=\x20(-2.0\x20*\x20lumaS)\x20+\x20lumaSWSE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert\x20=\x20abs(edgeVert3)\x20+\x20edgeVert4;','\x20\x20\x20\x20FxaaFloat\x20lengthSign\x20=\x20fxaaQualityRcpFrame.x;','\x20\x20\x20\x20FxaaBool\x20horzSpan\x20=\x20edgeHorz\x20>=\x20edgeVert;','\x20\x20\x20\x20FxaaFloat\x20subpixA\x20=\x20subpixNSWE\x20*\x202.0\x20+\x20subpixNWSWNESE;','\x20\x20\x20\x20if(!horzSpan)\x20lumaN\x20=\x20lumaW;','\x20\x20\x20\x20if(!horzSpan)\x20lumaS\x20=\x20lumaE;','\x20\x20\x20\x20if(horzSpan)\x20lengthSign\x20=\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20FxaaFloat\x20subpixB\x20=\x20(subpixA\x20*\x20(1.0/12.0))\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20gradientN\x20=\x20lumaN\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20gradientS\x20=\x20lumaS\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaNN\x20=\x20lumaN\x20+\x20lumaM;','\x20\x20\x20\x20FxaaBool\x20pairN\x20=\x20abs(gradientN)\x20>=\x20abs(gradientS);','\x20\x20\x20\x20FxaaFloat\x20gradient\x20=\x20max(abs(gradientN),\x20abs(gradientS));','\x20\x20\x20\x20FxaaFloat2\x20posB;','\x20\x20\x20\x20posB.y\x20=\x20posM.y;','\x20\x20\x20\x20FxaaFloat2\x20offNP;','\x20\x20\x20\x20offNP.x\x20=\x20(!horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.x;','\x20\x20\x20\x20offNP.y\x20=\x20(\x20horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20if(!horzSpan)\x20posB.x\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20if(\x20horzSpan)\x20posB.y\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat2\x20posN;','\x20\x20\x20\x20posN.x\x20=\x20posB.x\x20-\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat2\x20posP;','\x20\x20\x20\x20FxaaFloat\x20subpixD\x20=\x20((-2.0)*subpixC)\x20+\x203.0;','\x20\x20\x20\x20FxaaFloat\x20subpixE\x20=\x20subpixC\x20*\x20subpixC;','\x20\x20\x20\x20FxaaFloat\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP));','\x20\x20\x20\x20if(!pairN)\x20lumaNN\x20=\x20lumaSS;','\x20\x20\x20\x20FxaaFloat\x20gradientScaled\x20=\x20gradient\x20*\x201.0/4.0;','\x20\x20\x20\x20FxaaFloat\x20lumaMM\x20=\x20lumaM\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixF\x20=\x20subpixD\x20*\x20subpixE;','\x20\x20\x20\x20lumaEndN\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20lumaEndP\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaBool\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20FxaaBool\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x203)','\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x206)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x207)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x208)','\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x209)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2010)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2012)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20if(!horzSpan)\x20dstN\x20=\x20posM.y\x20-\x20posN.y;','\x20\x20\x20\x20if(!horzSpan)\x20dstP\x20=\x20posP.y\x20-\x20posM.y;','\x20\x20\x20\x20FxaaBool\x20goodSpanN\x20=\x20(lumaEndN\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLength\x20=\x20(dstP\x20+\x20dstN);','\x20\x20\x20\x20FxaaBool\x20goodSpanP\x20=\x20(lumaEndP\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLengthRcp\x20=\x201.0/spanLength;','\x20\x20\x20\x20FxaaBool\x20goodSpan\x20=\x20directionN\x20?\x20goodSpanN\x20:\x20goodSpanP;','\x20\x20\x20\x20FxaaFloat\x20subpixG\x20=\x20subpixF\x20*\x20subpixF;','\x20\x20\x20\x20FxaaFloat\x20pixelOffset\x20=\x20(dst\x20*\x20(-spanLengthRcp))\x20+\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixH\x20=\x20subpixG\x20*\x20fxaaQualitySubpix;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetGood\x20=\x20goodSpan\x20?\x20pixelOffset\x20:\x200.0;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetSubpix\x20=\x20max(pixelOffsetGood,\x20subpixH);','\x20\x20\x20\x20if(!horzSpan)\x20posM.x\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20if(\x20horzSpan)\x20posM.y\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaFloat4(FxaaTexTop(tex,\x20posM).xyz,\x20lumaM);','\x20\x20gl_FragColor\x20=\x20FxaaPixelShader(','\x20\x20\x20\x20vUv,','\x20\x20\x20\x20tDiffuse,','\x20\x20\x20\x20resolution,','\x20\x20\x20\x20vec4(0.0),','\x20\x20\x20\x200.75,','\x20\x20\x20\x200.0833,','\x20\x20\x20\x200.0,','\x20\x20);','\x20\x20//\x20TODO\x20avoid\x20querying\x20texture\x20twice\x20for\x20same\x20texel','\x20\x20gl_FragColor.a\x20=\x20texture2D(tDiffuse,\x20vUv).a;','OutlinePass','renderScene','downSampleRatio','maskBufferMaterial','renderTargetMaskBuffer','depthPacking','prepareMaskMaterial','renderCamera','isPerspectiveCamera','orthographic','DepthToViewZ','renderTargetDepthBuffer','OutlinePass.depth','renderTargetMaskDownSampleBuffer','OutlinePass.depthDownSample','renderTargetBlurBuffer1','renderTargetBlurBuffer2','OutlinePass.blur2','edgeDetectionMaterial','getEdgeDetectionMaterial','renderTargetEdgeBuffer1','renderTargetEdgeBuffer2','OutlinePass.edge2','separableBlurMaterial1','kernelRadius','separableBlurMaterial2','getOverlayMaterial','THREE.OutlinePass\x20relies\x20on\x20THREE.CopyShader','isMesh','isLine','isSprite','bVisible','changeVisibilityOfSelectedObjects','updateTextureMatrix','cameraNearFar','changeVisibilityOfNonSelectedObjects','tempPulseColor1','tempPulseColor2','overlayMaterial','edgeTexture1','edgeTexture2','patternTexture','varying\x20vec4\x20projTexCoord;','\x09vPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09projTexCoord\x20=\x20textureMatrix\x20*\x20worldPosition;','#include\x20<packing>','uniform\x20vec2\x20cameraNearFar;','\x09float\x20depth\x20=\x20unpackRGBAToDepth(texture2DProj(\x20depthTexture,\x20projTexCoord\x20));','\x09float\x20depthTest\x20=\x20(-vPosition.z\x20>\x20viewZ)\x20?\x201.0\x20:\x200.0;','isUpdated','isRealTimeUpdate','shadowLight','shadowCameraHelper','spherical','Spherical','_tempControlsTarget','preInit','shadowConfigs','nearFactor','autoUpdate','PCFSoftShadowMap','mapWidth','LightShadow','normalBias','bias','mapHeight','CameraHelper','setRoomShadow','init2','initTileMapShadow','getDistance','_controlMove','_updateShadowByAngle','farFactor','targetX','targetZ','targetY','updateShadow','config','posX','posY','posZ','createTileShadow','getLights','updateTileShadow','tileInitComplete','castMinHeight','Height','bType','setMarkerShadowConfig','__no_shadow','setModelObjShadowConfig','noShadow','-receiveShadow','-castShadow','-shadow','__no_cast_shadow','setModelShadow','setMergeMeshShadow','activeShadow','setFromUnitVectors','applyQuaternion','applyAxisAngle','exp2','FogExp2','fov','showFarPlane','#FF0000','polyHeatMaps','heatMapTool','maxY','allMarkerList','orbitCameraFlyTo','autoRotateSpeed','removeControls','sortObjects','off','getScreenCenter','setGroundPick','imgPath','pickAnimateObj','face','isLockGroundPick','updateGroundPick','coordThreeToMap','checkIsCanMove','transformDirection','flytoGroundPickPos3','maxDistance','InOut','flytoGroundPickPos2','getPolarAngle','getAzimuthalAngle','flytoGroundPickPos','testPoints','removeGroundPick','disposeMesh','minZoom','maxZoom','maxPolarAngle','minAzimuthAngle','maxAzimuthAngle','dampingFactor','panSpeed','screenSpacePanning','enableKeys','mouseButtons','MOUSE','LEFT','MIDDLE','RIGHT','position0','zoom0','zoom','saveState','NONE','Quaternion','setFromVector3','forcePhi','radioFactor','makeSafe','setFromSpherical','distanceToSquared','quaternion','domElement','wheel','touchstart','touchend','mousemove','mouseup','keydown','setFromMatrixColumn','body','clientHeight','isOrthographicCamera','clientWidth','preventDefault','focus','button','metaKey','shiftKey','PAN','ROTATE','DOLLY','deltaY','keyCode','keyPanSpeed','BOTTOM','touches','pageX','pageY','TOUCH_ROTATE','stopPropagation','contextmenu','mousedown','touchmove','miniMapImgPath','cameraViewImgHeight','img','onload','relative','absolute','transformOrigin','px\x20','floorEdges','maxx','minx','maxy'];(function(_0x585e60,_0x57a30c){var _0x323e47=function(_0x10aea3){while(--_0x10aea3){_0x585e60['push'](_0x585e60['shift']());}};_0x323e47(++_0x57a30c);}(_0x2a59,0x11b));var _0x10de=function(_0x1fe344,_0x39e6b3){_0x1fe344=_0x1fe344-0x0;var _0x554098=_0x2a59[_0x1fe344];return _0x554098;};!function(_0x3998f7){var _0x432559={};function _0x2592a0(_0x1faf7e){if(_0x432559[_0x1faf7e])return _0x432559[_0x1faf7e]['exports'];var _0xeca99e=_0x432559[_0x1faf7e]={'i':_0x1faf7e,'l':!0x1,'exports':{}};return _0x3998f7[_0x1faf7e][_0x10de('0x0')](_0xeca99e[_0x10de('0x1')],_0xeca99e,_0xeca99e[_0x10de('0x1')],_0x2592a0),_0xeca99e['l']=!0x0,_0xeca99e[_0x10de('0x1')];}_0x2592a0['m']=_0x3998f7,_0x2592a0['c']=_0x432559,_0x2592a0['d']=function(_0x494c76,_0x1c8cdd,_0x3998f7){_0x2592a0['o'](_0x494c76,_0x1c8cdd)||Object[_0x10de('0x2')](_0x494c76,_0x1c8cdd,{'enumerable':!0x0,'get':_0x3998f7});},_0x2592a0['r']=function(_0x40eb30){'undefined'!=typeof Symbol&&Symbol[_0x10de('0x3')]&&Object['defineProperty'](_0x40eb30,Symbol[_0x10de('0x3')],{'value':_0x10de('0x4')}),Object['defineProperty'](_0x40eb30,_0x10de('0x5'),{'value':!0x0});},_0x2592a0['t']=function(_0x50782e,_0x24f8f0){if(0x1&_0x24f8f0&&(_0x50782e=_0x2592a0(_0x50782e)),0x8&_0x24f8f0)return _0x50782e;if(0x4&_0x24f8f0&&_0x10de('0x6')==typeof _0x50782e&&_0x50782e&&_0x50782e['__esModule'])return _0x50782e;var _0x3998f7=Object['create'](null);if(_0x2592a0['r'](_0x3998f7),Object[_0x10de('0x2')](_0x3998f7,'default',{'enumerable':!0x0,'value':_0x50782e}),0x2&_0x24f8f0&&_0x10de('0x7')!=typeof _0x50782e)for(var _0x432559 in _0x50782e)_0x2592a0['d'](_0x3998f7,_0x432559,function(_0x24f8f0){return _0x50782e[_0x24f8f0];}[_0x10de('0x8')](null,_0x432559));return _0x3998f7;},_0x2592a0['n']=function(_0x139fbe){var _0x3e80a4=_0x139fbe&&_0x139fbe['__esModule']?function(){return _0x139fbe[_0x10de('0x9')];}:function(){return _0x139fbe;};return _0x2592a0['d'](_0x3e80a4,'a',_0x3e80a4),_0x3e80a4;},_0x2592a0['o']=function(_0xc149b3,_0x773e0){return Object[_0x10de('0xa')][_0x10de('0xb')][_0x10de('0x0')](_0xc149b3,_0x773e0);},_0x2592a0['p']=_0x10de('0xc'),_0x2592a0(_0x2592a0['s']=0x195);}([function(_0x2d3298,_0x5a899d,_0x1559a6){'use strict';_0x5a899d[_0x10de('0x5')]=!0x0,_0x5a899d['default']=function(_0x2d3298,_0x5a899d){if(!(_0x2d3298 instanceof _0x5a899d))throw new TypeError(_0x10de('0xd'));};},function(_0x3f4a8e,_0x2d4f2b,_0x447c69){'use strict';_0x2d4f2b['__esModule']=!0x0;var _0x447c69=_0x447c69(0x32),_0x5a25a1=_0x447c69&&_0x447c69[_0x10de('0x5')]?_0x447c69:{'default':_0x447c69};function _0x30f5f4(_0x3f4a8e,_0x2d4f2b){for(var _0x447c69=0x0;_0x447c69<_0x2d4f2b[_0x10de('0xe')];_0x447c69++){var _0x30f5f4=_0x2d4f2b[_0x447c69];_0x30f5f4[_0x10de('0xf')]=_0x30f5f4[_0x10de('0xf')]||!0x1,_0x30f5f4['configurable']=!0x0,_0x10de('0x10')in _0x30f5f4&&(_0x30f5f4[_0x10de('0x11')]=!0x0),(0x0,_0x5a25a1['default'])(_0x3f4a8e,_0x30f5f4[_0x10de('0x12')],_0x30f5f4);}}_0x2d4f2b[_0x10de('0x9')]=function(_0x3f4a8e,_0x2d4f2b,_0x447c69){return _0x2d4f2b&&_0x30f5f4(_0x3f4a8e[_0x10de('0xa')],_0x2d4f2b),_0x447c69&&_0x30f5f4(_0x3f4a8e,_0x447c69),_0x3f4a8e;};},function(_0x165413,_0x492cf2){_0x165413=_0x165413['exports']={'version':'2.6.12'};_0x10de('0x13')==typeof __e&&(__e=_0x165413);},function(_0x381c3b,_0x30717d,_0x3c0847){function _0x42d56b(_0x381c3b,_0x30717d,_0x3c0847){var _0x1b47c1,_0x3cd519,_0x23cc20,_0x6f269c=_0x381c3b&_0x42d56b['F'],_0x4b212c=_0x381c3b&_0x42d56b['G'],_0x30016b=_0x381c3b&_0x42d56b['S'],_0x533d19=_0x381c3b&_0x42d56b['P'],_0x37bcaa=_0x381c3b&_0x42d56b['B'],_0x156105=_0x381c3b&_0x42d56b['W'],_0x493626=_0x4b212c?_0x387b57:_0x387b57[_0x30717d]||(_0x387b57[_0x30717d]={}),_0x57dd69=_0x493626[_0x5a55b8],_0x596569=_0x4b212c?_0x377148:_0x30016b?_0x377148[_0x30717d]:(_0x377148[_0x30717d]||{})[_0x5a55b8];for(_0x1b47c1 in _0x3c0847=_0x4b212c?_0x30717d:_0x3c0847)(_0x3cd519=!_0x6f269c&&_0x596569&&void 0x0!==_0x596569[_0x1b47c1])&&_0x2315c3(_0x493626,_0x1b47c1)||(_0x23cc20=(_0x3cd519?_0x596569:_0x3c0847)[_0x1b47c1],_0x493626[_0x1b47c1]=_0x4b212c&&_0x10de('0x14')!=typeof _0x596569[_0x1b47c1]?_0x3c0847[_0x1b47c1]:_0x37bcaa&&_0x3cd519?_0x94c82d(_0x23cc20,_0x377148):_0x156105&&_0x596569[_0x1b47c1]==_0x23cc20?function(_0x1b47c1){function _0x381c3b(_0x381c3b,_0x30717d,_0x3c0847){if(this instanceof _0x1b47c1){switch(arguments['length']){case 0x0:return new _0x1b47c1();case 0x1:return new _0x1b47c1(_0x381c3b);case 0x2:return new _0x1b47c1(_0x381c3b,_0x30717d);}return new _0x1b47c1(_0x381c3b,_0x30717d,_0x3c0847);}return _0x1b47c1[_0x10de('0x15')](this,arguments);}return _0x381c3b[_0x5a55b8]=_0x1b47c1[_0x5a55b8],_0x381c3b;}(_0x23cc20):_0x533d19&&_0x10de('0x14')==typeof _0x23cc20?_0x94c82d(Function[_0x10de('0x0')],_0x23cc20):_0x23cc20,_0x533d19&&((_0x493626['virtual']||(_0x493626[_0x10de('0x16')]={}))[_0x1b47c1]=_0x23cc20,_0x381c3b&_0x42d56b['R']&&_0x57dd69&&!_0x57dd69[_0x1b47c1]&&_0xa36a1c(_0x57dd69,_0x1b47c1,_0x23cc20)));}var _0x377148=_0x3c0847(0x4),_0x387b57=_0x3c0847(0x2),_0x94c82d=_0x3c0847(0xf),_0xa36a1c=_0x3c0847(0xb),_0x2315c3=_0x3c0847(0xc),_0x5a55b8='prototype';_0x42d56b['F']=0x1,_0x42d56b['G']=0x2,_0x42d56b['S']=0x4,_0x42d56b['P']=0x8,_0x42d56b['B']=0x10,_0x42d56b['W']=0x20,_0x42d56b['U']=0x40,_0x42d56b['R']=0x80,_0x381c3b[_0x10de('0x1')]=_0x42d56b;},function(_0x107a68,_0x3a3877){_0x107a68=_0x107a68[_0x10de('0x1')]=_0x10de('0x17')!=typeof window&&window[_0x10de('0x18')]==Math?window:_0x10de('0x17')!=typeof self&&self[_0x10de('0x18')]==Math?self:Function(_0x10de('0x19'))();_0x10de('0x13')==typeof __g&&(__g=_0x107a68);},function(_0x5a5c22,_0x33da27,_0x42adae){_0x5a5c22[_0x10de('0x1')]={'default':_0x42adae(0x4f),'__esModule':!0x0};},function(_0x2e2646,_0x318747,_0x5d4a57){var _0x486cb5=_0x5d4a57(0x26)(_0x10de('0x1a')),_0x3fd8ba=_0x5d4a57(0x19),_0x765e25=_0x5d4a57(0x4)[_0x10de('0x1b')],_0x3115f7='function'==typeof _0x765e25;(_0x2e2646['exports']=function(_0x2e2646){return _0x486cb5[_0x2e2646]||(_0x486cb5[_0x2e2646]=_0x3115f7&&_0x765e25[_0x2e2646]||(_0x3115f7?_0x765e25:_0x3fd8ba)(_0x10de('0x1c')+_0x2e2646));})[_0x10de('0x1d')]=_0x486cb5;},function(_0x1ca0ac,_0x445e10,_0x390683){_0x1ca0ac[_0x10de('0x1')]=!_0x390683(0xd)(function(){return 0x7!=Object[_0x10de('0x2')]({},'a',{'get':function(){return 0x7;}})['a'];});},function(_0x4b9770,_0xef8bd7,_0x553d7a){var _0x10571d=_0x553d7a(0xa),_0x241b22=_0x553d7a(0x38),_0x310b75=_0x553d7a(0x29),_0x272c82=Object[_0x10de('0x2')];_0xef8bd7['f']=_0x553d7a(0x7)?Object[_0x10de('0x2')]:function(_0x4b9770,_0xef8bd7,_0x553d7a){if(_0x10571d(_0x4b9770),_0xef8bd7=_0x310b75(_0xef8bd7,!0x0),_0x10571d(_0x553d7a),_0x241b22)try{return _0x272c82(_0x4b9770,_0xef8bd7,_0x553d7a);}catch(_0xd22090){}if('get'in _0x553d7a||_0x10de('0x1e')in _0x553d7a)throw TypeError('Accessors\x20not\x20supported!');return _0x10de('0x10')in _0x553d7a&&(_0x4b9770[_0xef8bd7]=_0x553d7a[_0x10de('0x10')]),_0x4b9770;};},function(_0x51fd46,_0x5c0d10){_0x51fd46[_0x10de('0x1')]=function(_0x51fd46){return _0x10de('0x6')==typeof _0x51fd46?null!==_0x51fd46:_0x10de('0x14')==typeof _0x51fd46;};},function(_0x173a41,_0x2f8784,_0x391458){var _0x301ac3=_0x391458(0x9);_0x173a41[_0x10de('0x1')]=function(_0x173a41){if(_0x301ac3(_0x173a41))return _0x173a41;throw TypeError(_0x173a41+_0x10de('0x1f'));};},function(_0x3d5b24,_0x32a2d9,_0x4f8ce7){var _0x29622e=_0x4f8ce7(0x8),_0x132a20=_0x4f8ce7(0x16);_0x3d5b24[_0x10de('0x1')]=_0x4f8ce7(0x7)?function(_0x3d5b24,_0x32a2d9,_0x4f8ce7){return _0x29622e['f'](_0x3d5b24,_0x32a2d9,_0x132a20(0x1,_0x4f8ce7));}:function(_0x3d5b24,_0x32a2d9,_0x4f8ce7){return _0x3d5b24[_0x32a2d9]=_0x4f8ce7,_0x3d5b24;};},function(_0x27eac4,_0x350af7){var _0x1b3e1e={}[_0x10de('0xb')];_0x27eac4[_0x10de('0x1')]=function(_0x27eac4,_0x350af7){return _0x1b3e1e[_0x10de('0x0')](_0x27eac4,_0x350af7);};},function(_0x2b1c6e,_0x4f85e7){_0x2b1c6e[_0x10de('0x1')]=function(_0x2b1c6e){try{return!!_0x2b1c6e();}catch(_0x310e9b){return!0x0;}};},function(_0x24c8cc,_0xd03b75,_0x1cdf92){var _0xbb144e=_0x1cdf92(0x33),_0x140ef7=_0x1cdf92(0x20);_0x24c8cc[_0x10de('0x1')]=function(_0x24c8cc){return _0xbb144e(_0x140ef7(_0x24c8cc));};},function(_0x5da9b7,_0xf6ac92,_0x51bdf7){var _0x50ab5a=_0x51bdf7(0x22);_0x5da9b7[_0x10de('0x1')]=function(_0x17bb1b,_0x57f4a3,_0x5da9b7){if(_0x50ab5a(_0x17bb1b),void 0x0===_0x57f4a3)return _0x17bb1b;switch(_0x5da9b7){case 0x1:return function(_0x5da9b7){return _0x17bb1b['call'](_0x57f4a3,_0x5da9b7);};case 0x2:return function(_0x5da9b7,_0xf6ac92){return _0x17bb1b[_0x10de('0x0')](_0x57f4a3,_0x5da9b7,_0xf6ac92);};case 0x3:return function(_0x5da9b7,_0xf6ac92,_0x51bdf7){return _0x17bb1b[_0x10de('0x0')](_0x57f4a3,_0x5da9b7,_0xf6ac92,_0x51bdf7);};}return function(){return _0x17bb1b[_0x10de('0x15')](_0x57f4a3,arguments);};};},function(_0x41c3c3,_0x4d5852){_0x41c3c3['exports']={};},function(_0x26c584,_0x5c8386,_0x35b5d0){'use strict';_0x5c8386[_0x10de('0x5')]=!0x0;_0x35b5d0=_0x35b5d0(0x68),_0x35b5d0=_0x35b5d0&&_0x35b5d0[_0x10de('0x5')]?_0x35b5d0:{'default':_0x35b5d0};_0x5c8386['default']=_0x35b5d0[_0x10de('0x9')]||function(_0x26c584){for(var _0x5c8386=0x1;_0x5c8386<arguments[_0x10de('0xe')];_0x5c8386++){var _0x35b5d0,_0x2e4432=arguments[_0x5c8386];for(_0x35b5d0 in _0x2e4432)Object[_0x10de('0xa')][_0x10de('0xb')]['call'](_0x2e4432,_0x35b5d0)&&(_0x26c584[_0x35b5d0]=_0x2e4432[_0x35b5d0]);}return _0x26c584;};},function(_0x4a8177,_0x58bef1,_0xc11af9){var _0x4ac084=_0xc11af9(0x20);_0x4a8177[_0x10de('0x1')]=function(_0x4a8177){return Object(_0x4ac084(_0x4a8177));};},function(_0x45b386,_0x1a17f7,_0x36f48e){'use strict';function _0x31d03e(_0x45b386,_0x1a17f7){_0x45b386=_0x1acde5()[_0x10de('0x20')]({'x':_0x45b386,'y':_0x1a17f7});return{'x':_0x45b386['x'],'y':_0x45b386['z']};}function _0x180483(){return _0x1acde5()[_0x10de('0x21')]===esmap[_0x10de('0x22')][_0x10de('0x23')];}function _0x1acde5(){if(esmap['ESMap'])return esmap[_0x10de('0x24')][_0x10de('0x25')];}Object[_0x10de('0x2')](_0x1a17f7,'__esModule',{'value':!0x0}),_0x1a17f7[_0x10de('0x26')]=_0x1a17f7[_0x10de('0x27')]=_0x1a17f7[_0x10de('0x28')]=_0x1a17f7['clearShaderCode']=_0x1a17f7[_0x10de('0x29')]=_0x1a17f7[_0x10de('0x2a')]=_0x1a17f7[_0x10de('0x2b')]=_0x1a17f7[_0x10de('0x2c')]=_0x1a17f7[_0x10de('0x2d')]=_0x1a17f7[_0x10de('0x2e')]=_0x1a17f7['getMapInstance']=_0x1a17f7[_0x10de('0x2f')]=_0x1a17f7[_0x10de('0x30')]=_0x1a17f7[_0x10de('0x31')]=_0x1a17f7[_0x10de('0x32')]=_0x1a17f7['innerCoordTransToThree']=void 0x0;var _0x3e29f7=_0x36f48e(0x57);function _0x41b9d9(_0x45b386){var _0x1a17f7=_0x1acde5();return _0x1a17f7[_0x10de('0x21')]===esmap['MapMode'][_0x10de('0x33')]?_0x1a17f7['getBuilding']():_0x1a17f7[_0x10de('0x34')](_0x45b386);}_0x1a17f7[_0x10de('0x35')]=function(_0x45b386,_0x1a17f7){var _0x36f48e=_0x1acde5();return{'x':-(_0x36f48e['mapScene'][_0x10de('0x36')]+_0x45b386),'y':_0x1a17f7-_0x36f48e[_0x10de('0x37')][_0x10de('0x38')]};},_0x1a17f7[_0x10de('0x32')]=_0x31d03e,_0x1a17f7[_0x10de('0x31')]=_0x180483,_0x1a17f7[_0x10de('0x30')]=function(){return esmap[_0x10de('0x39')]['getVersion']()===_0x3e29f7['CommonConstant']['Engine'][_0x10de('0x3a')];},_0x1a17f7['setPositionFromMc']=function(_0x45b386,_0x1a17f7,_0x36f48e){_0x1a17f7=_0x31d03e(_0x1a17f7['x'],_0x1a17f7['y']);_0x45b386['position']['set'](_0x1a17f7['x'],_0x36f48e,_0x1a17f7['y']);},_0x1a17f7[_0x10de('0x3b')]=_0x1acde5,_0x1a17f7[_0x10de('0x2e')]=_0x41b9d9,_0x1a17f7[_0x10de('0x2d')]=function(_0x45b386){var _0x1a17f7=_0x1acde5();if(_0x1a17f7[_0x10de('0x21')]===esmap[_0x10de('0x22')][_0x10de('0x23')])return!0x1;var _0x36f48e=_0x41b9d9();return _0x1a17f7[_0x10de('0x3c')][_0x10de('0x3d')][_0x36f48e['themeID']]['roomStyle'][_0x45b386];},_0x1a17f7[_0x10de('0x2c')]=function(_0x45b386,_0x1a17f7){return _0x45b386[_0x10de('0x3e')]&&_0x45b386[_0x10de('0x3e')]['RoomStyle']&&+_0x45b386[_0x10de('0x3e')][_0x10de('0x3f')]==+_0x1a17f7?(_0x45b386[_0x10de('0x40')][0x0][_0x10de('0x41')]['index']=0x0,_0x45b386[_0x10de('0x40')][0x0]):null;},_0x1a17f7['selectCityMapEffectConfigPath']=function(_0x45b386,_0x1a17f7,_0x36f48e){return _0x1a17f7[_0x10de('0x42')]&&(_0x45b386[_0x10de('0x43')]=_0x1a17f7['onlineEffectThemeId']),_0x1a17f7['effectThemeId']&&(_0x45b386[_0x10de('0x43')]=_0x1a17f7[_0x10de('0x44')]),0x1!=_0x45b386['options'][_0x10de('0x45')]||_0x36f48e?_0x45b386[_0x10de('0x46')][_0x10de('0x47')]+_0x10de('0x48')+_0x45b386[_0x10de('0x43')]+'/':0x3===_0x45b386[_0x10de('0x46')]['s']?_0x45b386[_0x10de('0x46')]['mapDataSrc']+_0x45b386['id']+_0x10de('0x48')+_0x45b386[_0x10de('0x43')]+'/':_0x45b386[_0x10de('0x46')][_0x10de('0x47')]+_0x10de('0x49')+_0x45b386['id']+_0x10de('0x48')+_0x45b386[_0x10de('0x43')]+'/';},_0x1a17f7[_0x10de('0x2a')]=function(_0x45b386,_0x1a17f7){return!!_0x1a17f7[_0x10de('0x4a')]&&''+_0x45b386[_0x10de('0x46')][_0x10de('0x4b')]+_0x45b386['id']+_0x10de('0x4c')+_0x1a17f7[_0x10de('0x4a')][_0x10de('0x44')]+'/';},_0x1a17f7[_0x10de('0x29')]=function(_0x45b386){var _0x1a17f7,_0x36f48e,_0x31d03e=!0x1;return _0x45b386&&-0x1<_0x45b386[_0x10de('0x4d')](_0x10de('0x4e'))&&(_0x31d03e=!0x0),_0x180483()?_0x31d03e?esmap[_0x10de('0x4f')][_0x10de('0x50')]+_0x45b386:esmap[_0x10de('0x4f')][_0x10de('0x51')]+_0x45b386:(_0x36f48e=esmap['ESMap'][_0x10de('0x25')],_0x1a17f7=esmap['ESEffectTool'][_0x10de('0x51')],_0x36f48e[_0x10de('0x52')][_0x10de('0x53')]('sk')&&!_0x31d03e&&(_0x1a17f7=esmap[_0x10de('0x4f')][_0x10de('0x54')]?esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x55')]&&esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x44')]?esmap[_0x10de('0x4f')]['options']['effectThemeSrc']+'/'+esmap[_0x10de('0x4f')]['options'][_0x10de('0x44')]+'/':''+_0x36f48e[_0x10de('0x46')]['mapDataSrc']+_0x36f48e['id']+_0x10de('0x4c')+_0x36f48e[_0x10de('0x43')]+'/':(_0x31d03e=_0x36f48e[_0x10de('0x43')]||esmap['ESEffectTool'][_0x10de('0x46')]['effectThemeId'],_0x36f48e['options']['serverUrl']+'/effects/'+_0x31d03e+'/')),(_0x1a17f7=(_0x36f48e=_0x1a17f7=esmap[_0x10de('0x4f')]['switchConfigPath']||_0x1a17f7)[_0x10de('0x56')](/^(https?:\/\/)/)?_0x36f48e:_0x36f48e[_0x10de('0x57')](/\/\//g,'/'))+_0x45b386);},_0x1a17f7[_0x10de('0x58')]=function(_0x45b386){_0x45b386&&(_0x45b386[_0x10de('0x59')]&&(_0x45b386[_0x10de('0x59')]=''),_0x45b386[_0x10de('0x5a')]&&(_0x45b386['fragmentShader']=''));},_0x1a17f7[_0x10de('0x28')]=function(_0x45b386,_0x1a17f7){var _0x45b386=_0x45b386/0xb4*Math['PI']+Math['PI']/0x2,_0x1a17f7=-_0x1a17f7/0xb4*Math['PI']+Math['PI']/0x2,_0x36f48e=new THREE['Vector3'](),_0x31d03e=Math['sin'](_0x45b386);return _0x36f48e['x']=_0x31d03e*Math[_0x10de('0x5b')](_0x1a17f7),_0x36f48e['y']=-Math[_0x10de('0x5b')](_0x45b386),_0x36f48e['z']=_0x31d03e*Math[_0x10de('0x5c')](_0x1a17f7),_0x36f48e;},_0x1a17f7[_0x10de('0x27')]=function(){return/macintosh|mac os x/i[_0x10de('0x5d')](navigator[_0x10de('0x5e')]);},_0x1a17f7[_0x10de('0x26')]=function(_0x31d03e,_0x180483,_0x1acde5){var _0x3e29f7=void 0x0,_0x41b9d9=void 0x0;if(_0x10de('0x14')!=typeof _0x31d03e)throw new TypeError(_0x10de('0x5f'));function _0x45b386(){var _0x45b386,_0x1a17f7=this,_0x36f48e=arguments;return _0x3e29f7&&clearTimeout(_0x3e29f7),_0x1acde5?(_0x45b386=!_0x3e29f7,_0x3e29f7=setTimeout(function(){_0x3e29f7=null;},_0x180483),_0x45b386&&(_0x41b9d9=_0x31d03e[_0x10de('0x15')](_0x1a17f7,_0x36f48e))):_0x3e29f7=setTimeout(function(){_0x31d03e[_0x10de('0x15')](_0x1a17f7,_0x36f48e);},_0x180483),_0x41b9d9;}return _0x180483=_0x180483||0x0,_0x45b386[_0x10de('0x60')]=function(){clearTimeout(_0x3e29f7),_0x3e29f7=null;},_0x45b386;};},function(_0x18451f,_0x3faeae){_0x18451f['exports']=!0x0;},function(_0x417ad2,_0x4e82d4,_0x3f95e9){var _0x1a9ab4=_0x3f95e9(0x3a),_0x4fc9fe=_0x3f95e9(0x27);_0x417ad2['exports']=Object[_0x10de('0x61')]||function(_0x417ad2){return _0x1a9ab4(_0x417ad2,_0x4fc9fe);};},function(_0x157e80,_0x459f95){_0x157e80['exports']=function(_0x157e80,_0x459f95){return{'enumerable':!(0x1&_0x157e80),'configurable':!(0x2&_0x157e80),'writable':!(0x4&_0x157e80),'value':_0x459f95};};},function(_0x3a8642,_0x131f8f){var _0xfbfed5={}[_0x10de('0x62')];_0x3a8642[_0x10de('0x1')]=function(_0x3a8642){return _0xfbfed5[_0x10de('0x0')](_0x3a8642)['slice'](0x8,-0x1);};},function(_0x594235,_0x54fbcc,_0x50e451){var _0x3b8af2=_0x50e451(0x8)['f'],_0x28dde3=_0x50e451(0xc),_0x42d689=_0x50e451(0x6)(_0x10de('0x3'));_0x594235[_0x10de('0x1')]=function(_0x594235,_0x54fbcc,_0x50e451){_0x594235&&!_0x28dde3(_0x594235=_0x50e451?_0x594235:_0x594235[_0x10de('0xa')],_0x42d689)&&_0x3b8af2(_0x594235,_0x42d689,{'configurable':!0x0,'value':_0x54fbcc});};},function(_0xc1a106,_0x2c45ef){var _0x307406=0x0,_0x2155a4=Math[_0x10de('0x63')]();_0xc1a106[_0x10de('0x1')]=function(_0xc1a106){return _0x10de('0x64')[_0x10de('0x65')](void 0x0===_0xc1a106?'':_0xc1a106,')_',(++_0x307406+_0x2155a4)[_0x10de('0x62')](0x24));};},function(_0x67501,_0x227e36,_0xf64077){'use strict';var _0x2cafaa=_0xf64077(0x55)(!0x0);_0xf64077(0x2c)(String,_0x10de('0x66'),function(_0x67501){this['_t']=String(_0x67501),this['_i']=0x0;},function(){var _0x67501=this['_t'],_0x227e36=this['_i'];return _0x227e36>=_0x67501[_0x10de('0xe')]?{'value':void 0x0,'done':!0x0}:(_0x67501=_0x2cafaa(_0x67501,_0x227e36),this['_i']+=_0x67501[_0x10de('0xe')],{'value':_0x67501,'done':!0x1});});},function(_0x2bdca7,_0x551528,_0x5909a5){_0x2bdca7[_0x10de('0x1')]={'default':_0x5909a5(0x87),'__esModule':!0x0};},function(_0xe8cc05,_0x22f425,_0x5c195b){_0x5c195b(0x50);for(var _0x19d853=_0x5c195b(0x4),_0x153713=_0x5c195b(0xb),_0x49cf8b=_0x5c195b(0x10),_0x44330b=_0x5c195b(0x6)(_0x10de('0x3')),_0x148fca=_0x10de('0x67')[_0x10de('0x68')](','),_0x58e83a=0x0;_0x58e83a<_0x148fca['length'];_0x58e83a++){var _0x80d817=_0x148fca[_0x58e83a],_0x4549ae=_0x19d853[_0x80d817],_0x4549ae=_0x4549ae&&_0x4549ae['prototype'];_0x4549ae&&!_0x4549ae[_0x44330b]&&_0x153713(_0x4549ae,_0x44330b,_0x80d817),_0x49cf8b[_0x80d817]=_0x49cf8b[_0x10de('0x69')];}},function(_0x978080,_0x4783e3){_0x4783e3['f']={}[_0x10de('0x6a')];},function(_0x201c81,_0x5be1e1,_0x2f820a){'use strict';_0x5be1e1['__esModule']=!0x0;var _0x2f820a=_0x2f820a(0x34),_0xac59d5=_0x2f820a&&_0x2f820a[_0x10de('0x5')]?_0x2f820a:{'default':_0x2f820a};_0x5be1e1[_0x10de('0x9')]=function(_0x201c81,_0x5be1e1){if(_0x201c81)return!_0x5be1e1||'object'!==(void 0x0===_0x5be1e1?_0x10de('0x17'):(0x0,_0xac59d5[_0x10de('0x9')])(_0x5be1e1))&&_0x10de('0x14')!=typeof _0x5be1e1?_0x201c81:_0x5be1e1;throw new ReferenceError(_0x10de('0x6b'));};},function(_0x458caa,_0x1b1222,_0x3602b4){'use strict';_0x1b1222[_0x10de('0x5')]=!0x0;var _0x5cefe5=_0x302f18(_0x3602b4(0x76)),_0x25a6bd=_0x302f18(_0x3602b4(0x25)),_0x48e943=_0x302f18(_0x3602b4(0x34));function _0x302f18(_0x458caa){return _0x458caa&&_0x458caa[_0x10de('0x5')]?_0x458caa:{'default':_0x458caa};}_0x1b1222['default']=function(_0x458caa,_0x1b1222){if(_0x10de('0x14')!=typeof _0x1b1222&&null!==_0x1b1222)throw new TypeError(_0x10de('0x6c')+(void 0x0===_0x1b1222?_0x10de('0x17'):(0x0,_0x48e943['default'])(_0x1b1222)));_0x458caa[_0x10de('0xa')]=(0x0,_0x25a6bd[_0x10de('0x9')])(_0x1b1222&&_0x1b1222[_0x10de('0xa')],{'constructor':{'value':_0x458caa,'enumerable':!0x1,'writable':!0x0,'configurable':!0x0}}),_0x1b1222&&(_0x5cefe5[_0x10de('0x9')]?(0x0,_0x5cefe5[_0x10de('0x9')])(_0x458caa,_0x1b1222):_0x458caa[_0x10de('0x6d')]=_0x1b1222);};},function(_0x1b80c0,_0x2d6d38){_0x1b80c0[_0x10de('0x1')]=function(_0x1b80c0){if(null==_0x1b80c0)throw TypeError(_0x10de('0x6e')+_0x1b80c0);return _0x1b80c0;};},function(_0x41c5b2,_0x49ff5a,_0x170e84){function _0x1d77bc(){}var _0x32c494=_0x170e84(0xa),_0x41c4b1=_0x170e84(0x3e),_0x40d6de=_0x170e84(0x27),_0x5d6a0e=_0x170e84(0x24)(_0x10de('0x6f')),_0x3cf5d5='prototype',_0x3ed5b4=function(){var _0x41c5b2=_0x170e84(0x2b)('iframe'),_0x49ff5a=_0x40d6de[_0x10de('0xe')];for(_0x41c5b2[_0x10de('0x70')][_0x10de('0x71')]=_0x10de('0x72'),_0x170e84(0x43)[_0x10de('0x73')](_0x41c5b2),_0x41c5b2['src']=_0x10de('0x74'),(_0x41c5b2=_0x41c5b2[_0x10de('0x75')][_0x10de('0x76')])[_0x10de('0x77')](),_0x41c5b2['write'](_0x10de('0x78')),_0x41c5b2[_0x10de('0x79')](),_0x3ed5b4=_0x41c5b2['F'];_0x49ff5a--;)delete _0x3ed5b4[_0x3cf5d5][_0x40d6de[_0x49ff5a]];return _0x3ed5b4();};_0x41c5b2[_0x10de('0x1')]=Object[_0x10de('0x7a')]||function(_0x41c5b2,_0x49ff5a){var _0x170e84;return null!==_0x41c5b2?(_0x1d77bc[_0x3cf5d5]=_0x32c494(_0x41c5b2),_0x170e84=new _0x1d77bc(),_0x1d77bc[_0x3cf5d5]=null,_0x170e84[_0x5d6a0e]=_0x41c5b2):_0x170e84=_0x3ed5b4(),void 0x0===_0x49ff5a?_0x170e84:_0x41c4b1(_0x170e84,_0x49ff5a);};},function(_0x4a53c1,_0x1bc32a){_0x4a53c1['exports']=function(_0x4a53c1){if(_0x10de('0x14')!=typeof _0x4a53c1)throw TypeError(_0x4a53c1+_0x10de('0x7b'));return _0x4a53c1;};},function(_0xb3b7c1,_0x512968){var _0x193b4c=Math[_0x10de('0x7c')],_0x4b691b=Math[_0x10de('0x7d')];_0xb3b7c1['exports']=function(_0xb3b7c1){return isNaN(_0xb3b7c1=+_0xb3b7c1)?0x0:(0x0<_0xb3b7c1?_0x4b691b:_0x193b4c)(_0xb3b7c1);};},function(_0x47c41f,_0x1cffe0,_0x5a6db4){var _0x31c75c=_0x5a6db4(0x26)(_0x10de('0x61')),_0x192eba=_0x5a6db4(0x19);_0x47c41f[_0x10de('0x1')]=function(_0x47c41f){return _0x31c75c[_0x47c41f]||(_0x31c75c[_0x47c41f]=_0x192eba(_0x47c41f));};},function(_0x279346,_0x1dcfee,_0x4a5c68){_0x279346['exports']={'default':_0x4a5c68(0x66),'__esModule':!0x0};},function(_0x570a5b,_0x54c4f2,_0x285b1e){var _0x3274a4=_0x285b1e(0x2),_0x55dacd=_0x285b1e(0x4),_0x3aca12='__core-js_shared__',_0x36b6f8=_0x55dacd[_0x3aca12]||(_0x55dacd[_0x3aca12]={});(_0x570a5b['exports']=function(_0x570a5b,_0x54c4f2){return _0x36b6f8[_0x570a5b]||(_0x36b6f8[_0x570a5b]=void 0x0!==_0x54c4f2?_0x54c4f2:{});})(_0x10de('0x7e'),[])['push']({'version':_0x3274a4[_0x10de('0x7f')],'mode':_0x285b1e(0x14)?_0x10de('0x80'):'global','copyright':_0x10de('0x81')});},function(_0x372500,_0x9f7a94){_0x372500['exports']='constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'[_0x10de('0x68')](',');},function(_0x2a5929,_0x6cc505,_0x597824){_0x2a5929[_0x10de('0x1')]={'default':_0x597824(0x89),'__esModule':!0x0};},function(_0x5738e1,_0x2006a5,_0xa80dc4){var _0x4bf203=_0xa80dc4(0x9);_0x5738e1[_0x10de('0x1')]=function(_0x5738e1,_0x2006a5){if(!_0x4bf203(_0x5738e1))return _0x5738e1;var _0xa80dc4,_0x3fe53c;if(_0x2006a5&&'function'==typeof(_0xa80dc4=_0x5738e1[_0x10de('0x62')])&&!_0x4bf203(_0x3fe53c=_0xa80dc4[_0x10de('0x0')](_0x5738e1)))return _0x3fe53c;if(_0x10de('0x14')==typeof(_0xa80dc4=_0x5738e1['valueOf'])&&!_0x4bf203(_0x3fe53c=_0xa80dc4[_0x10de('0x0')](_0x5738e1)))return _0x3fe53c;if(_0x2006a5||_0x10de('0x14')!=typeof(_0xa80dc4=_0x5738e1[_0x10de('0x62')])||_0x4bf203(_0x3fe53c=_0xa80dc4[_0x10de('0x0')](_0x5738e1)))throw TypeError('Can\x27t\x20convert\x20object\x20to\x20primitive\x20value');return _0x3fe53c;};},function(_0x4faf62,_0x53cf09,_0x50d29a){'use strict';Object[_0x10de('0x2')](_0x53cf09,_0x10de('0x5'),{'value':!0x0}),_0x53cf09[_0x10de('0x82')]=void 0x0;_0x50d29a=_0x50d29a(0x11);function _0x5db7b7(){}(0x0,(_0x50d29a&&_0x50d29a['__esModule']?_0x50d29a:{'default':_0x50d29a})['default'])(_0x5db7b7[_0x10de('0xa')],{'addEventListener':function(_0x4faf62,_0x53cf09){void 0x0===this['_listeners']&&(this['_listeners']={});var _0x50d29a=this[_0x10de('0x83')];void 0x0===_0x50d29a[_0x4faf62]&&(_0x50d29a[_0x4faf62]=[]),-0x1===_0x50d29a[_0x4faf62]['indexOf'](_0x53cf09)&&_0x50d29a[_0x4faf62][_0x10de('0x84')](_0x53cf09);},'hasEventListener':function(_0x4faf62,_0x53cf09){if(void 0x0===this[_0x10de('0x83')])return!0x1;var _0x50d29a=this[_0x10de('0x83')];return void 0x0!==_0x50d29a[_0x4faf62]&&-0x1!==_0x50d29a[_0x4faf62]['indexOf'](_0x53cf09);},'removeEventListener':function(_0x4faf62,_0x53cf09){void 0x0!==this['_listeners']&&void 0x0!==(_0x4faf62=this[_0x10de('0x83')][_0x4faf62])&&-0x1!==(_0x53cf09=_0x4faf62[_0x10de('0x4d')](_0x53cf09))&&_0x4faf62['splice'](_0x53cf09,0x1);},'dispatchEvent':function(_0x4faf62){if(void 0x0!==this['_listeners']){var _0x53cf09=this[_0x10de('0x83')][_0x4faf62[_0x10de('0x85')]];if(void 0x0!==_0x53cf09){_0x4faf62['target']=this;for(var _0x50d29a=_0x53cf09[_0x10de('0x86')](0x0),_0x5db7b7=0x0,_0x17865c=_0x50d29a['length'];_0x5db7b7<_0x17865c;_0x5db7b7++)_0x50d29a[_0x5db7b7]['call'](this,_0x4faf62);}}}}),_0x53cf09[_0x10de('0x82')]=_0x5db7b7;},function(_0x5a89e7,_0x11597c,_0x372249){var _0x3b9d28=_0x372249(0x9),_0x457d1=_0x372249(0x4)[_0x10de('0x76')],_0x4c0841=_0x3b9d28(_0x457d1)&&_0x3b9d28(_0x457d1[_0x10de('0x87')]);_0x5a89e7[_0x10de('0x1')]=function(_0x5a89e7){return _0x4c0841?_0x457d1['createElement'](_0x5a89e7):{};};},function(_0x175401,_0x47c21a,_0x5be0c4){'use strict';function _0x1eb1ac(){return this;}var _0x2d63b6=_0x5be0c4(0x14),_0x55c21d=_0x5be0c4(0x3),_0x2e0039=_0x5be0c4(0x39),_0x2d8e56=_0x5be0c4(0xb),_0x5b0cbf=_0x5be0c4(0x10),_0xc3b4fc=_0x5be0c4(0x52),_0x2171e5=_0x5be0c4(0x18),_0x2692cb=_0x5be0c4(0x44),_0x4b2af=_0x5be0c4(0x6)('iterator'),_0x1d7186=!([]['keys']&&_0x10de('0x88')in[][_0x10de('0x61')]()),_0x2b5bdc=_0x10de('0x89');_0x175401['exports']=function(_0x175401,_0x47c21a,_0x5be0c4,_0x41b409,_0x2019e1,_0x16fb18,_0x1d562f){function _0x37ed49(_0x175401){if(!_0x1d7186&&_0x175401 in _0x13230a)return _0x13230a[_0x175401];switch(_0x175401){case _0x10de('0x61'):case _0x2b5bdc:return function(){return new _0x5be0c4(this,_0x175401);};}return function(){return new _0x5be0c4(this,_0x175401);};}_0xc3b4fc(_0x5be0c4,_0x47c21a,_0x41b409);var _0x153430,_0x58a8ae,_0x41b409=_0x47c21a+_0x10de('0x8a'),_0x1cb8a9=_0x2019e1==_0x2b5bdc,_0x446fab=!0x1,_0x13230a=_0x175401[_0x10de('0xa')],_0x51e25e=_0x13230a[_0x4b2af]||_0x13230a['@@iterator']||_0x2019e1&&_0x13230a[_0x2019e1],_0x2769d8=_0x51e25e||_0x37ed49(_0x2019e1),_0x12bdf9=_0x2019e1?_0x1cb8a9?_0x37ed49(_0x10de('0x8b')):_0x2769d8:void 0x0,_0xc26d29='Array'==_0x47c21a&&_0x13230a['entries']||_0x51e25e;if(_0xc26d29&&(_0xc26d29=_0x2692cb(_0xc26d29['call'](new _0x175401())))!==Object[_0x10de('0xa')]&&_0xc26d29[_0x10de('0x88')]&&(_0x2171e5(_0xc26d29,_0x41b409,!0x0),_0x2d63b6||_0x10de('0x14')==typeof _0xc26d29[_0x4b2af]||_0x2d8e56(_0xc26d29,_0x4b2af,_0x1eb1ac)),_0x1cb8a9&&_0x51e25e&&_0x51e25e[_0x10de('0x8c')]!==_0x2b5bdc&&(_0x446fab=!0x0,_0x2769d8=function(){return _0x51e25e[_0x10de('0x0')](this);}),_0x2d63b6&&!_0x1d562f||!_0x1d7186&&!_0x446fab&&_0x13230a[_0x4b2af]||_0x2d8e56(_0x13230a,_0x4b2af,_0x2769d8),_0x5b0cbf[_0x47c21a]=_0x2769d8,_0x5b0cbf[_0x41b409]=_0x1eb1ac,_0x2019e1)if(_0x153430={'values':_0x1cb8a9?_0x2769d8:_0x37ed49(_0x2b5bdc),'keys':_0x16fb18?_0x2769d8:_0x37ed49(_0x10de('0x61')),'entries':_0x12bdf9},_0x1d562f)for(_0x58a8ae in _0x153430)_0x58a8ae in _0x13230a||_0x2e0039(_0x13230a,_0x58a8ae,_0x153430[_0x58a8ae]);else _0x55c21d(_0x55c21d['P']+_0x55c21d['F']*(_0x1d7186||_0x446fab),_0x47c21a,_0x153430);return _0x153430;};},function(_0x1cb3cc,_0x10543d,_0x5535d8){_0x10543d['f']=_0x5535d8(0x6);},function(_0x3ed0ea,_0x48b238,_0x117446){var _0x1cc7ea=_0x117446(0x4),_0x454b51=_0x117446(0x2),_0x4c1c65=_0x117446(0x14),_0x2998b6=_0x117446(0x2d),_0x43b63d=_0x117446(0x8)['f'];_0x3ed0ea[_0x10de('0x1')]=function(_0x3ed0ea){var _0x48b238=_0x454b51['Symbol']||(_0x454b51['Symbol']=!_0x4c1c65&&_0x1cc7ea[_0x10de('0x1b')]||{});'_'==_0x3ed0ea[_0x10de('0x8d')](0x0)||_0x3ed0ea in _0x48b238||_0x43b63d(_0x48b238,_0x3ed0ea,{'value':_0x2998b6['f'](_0x3ed0ea)});};},function(_0x26f54e,_0x506ce4,_0x1eed05){var _0x1568fa=_0x1eed05(0x23),_0x213af4=Math[_0x10de('0x8e')];_0x26f54e[_0x10de('0x1')]=function(_0x26f54e){return 0x0<_0x26f54e?_0x213af4(_0x1568fa(_0x26f54e),0x1fffffffffffff):0x0;};},function(_0x5dd225,_0x231106,_0x3e962b){var _0x23be0e=_0x3e962b(0x17),_0x55a146=_0x3e962b(0x6)('toStringTag'),_0x18ba4a=_0x10de('0x8f')==_0x23be0e(function(){return arguments;}());_0x5dd225[_0x10de('0x1')]=function(_0x5dd225){var _0x231106;return void 0x0===_0x5dd225?_0x10de('0x90'):null===_0x5dd225?'Null':_0x10de('0x7')==typeof(_0x231106=function(_0x5dd225,_0x231106){try{return _0x5dd225[_0x231106];}catch(_0x48eb15){}}(_0x5dd225=Object(_0x5dd225),_0x55a146))?_0x231106:_0x18ba4a?_0x23be0e(_0x5dd225):_0x10de('0x91')==(_0x231106=_0x23be0e(_0x5dd225))&&'function'==typeof _0x5dd225[_0x10de('0x92')]?_0x10de('0x8f'):_0x231106;};},function(_0x493e1f,_0x114b5d){_0x114b5d['f']=Object['getOwnPropertySymbols'];},function(_0x5238f4,_0x1a9464,_0x1620a2){_0x5238f4['exports']={'default':_0x1620a2(0x4d),'__esModule':!0x0};},function(_0x3280a5,_0x4f2a4a,_0x5ba462){var _0x4aa5e7=_0x5ba462(0x17);_0x3280a5[_0x10de('0x1')]=Object('z')[_0x10de('0x6a')](0x0)?Object:function(_0x3280a5){return _0x10de('0x66')==_0x4aa5e7(_0x3280a5)?_0x3280a5[_0x10de('0x68')](''):Object(_0x3280a5);};},function(_0x15870b,_0x5980e0,_0x9a3bee){'use strict';_0x5980e0[_0x10de('0x5')]=!0x0;var _0x165b24=_0x804116(_0x9a3bee(0x59)),_0x2060a7=_0x804116(_0x9a3bee(0x45)),_0x22c1ba=_0x10de('0x14')==typeof _0x2060a7[_0x10de('0x9')]&&_0x10de('0x93')==typeof _0x165b24['default']?function(_0x15870b){return typeof _0x15870b;}:function(_0x15870b){return _0x15870b&&_0x10de('0x14')==typeof _0x2060a7['default']&&_0x15870b['constructor']===_0x2060a7[_0x10de('0x9')]&&_0x15870b!==_0x2060a7[_0x10de('0x9')][_0x10de('0xa')]?'symbol':typeof _0x15870b;};function _0x804116(_0x15870b){return _0x15870b&&_0x15870b[_0x10de('0x5')]?_0x15870b:{'default':_0x15870b};}_0x5980e0[_0x10de('0x9')]='function'==typeof _0x2060a7[_0x10de('0x9')]&&'symbol'===_0x22c1ba(_0x165b24[_0x10de('0x9')])?function(_0x15870b){return void 0x0===_0x15870b?'undefined':_0x22c1ba(_0x15870b);}:function(_0x15870b){return _0x15870b&&'function'==typeof _0x2060a7['default']&&_0x15870b['constructor']===_0x2060a7[_0x10de('0x9')]&&_0x15870b!==_0x2060a7[_0x10de('0x9')][_0x10de('0xa')]?_0x10de('0x93'):void 0x0===_0x15870b?'undefined':_0x22c1ba(_0x15870b);};},function(_0x46634f,_0x1c994e,_0x35231b){var _0x4fa383=_0x35231b(0xf),_0x51a654=_0x35231b(0x6c),_0x423dd3=_0x35231b(0x6d),_0x3322c6=_0x35231b(0xa),_0x197933=_0x35231b(0x2f),_0x25d8ce=_0x35231b(0x3b),_0x24bfab={},_0x15221c={};(_0x1c994e=_0x46634f[_0x10de('0x1')]=function(_0x46634f,_0x1c994e,_0x35231b,_0xfbf5b7,_0x42060b){var _0x11533b,_0x1c7e49,_0x374dc0,_0x5184c4,_0x42060b=_0x42060b?function(){return _0x46634f;}:_0x25d8ce(_0x46634f),_0x11a681=_0x4fa383(_0x35231b,_0xfbf5b7,_0x1c994e?0x2:0x1),_0x1c6546=0x0;if(_0x10de('0x14')!=typeof _0x42060b)throw TypeError(_0x46634f+_0x10de('0x94'));if(_0x423dd3(_0x42060b)){for(_0x11533b=_0x197933(_0x46634f['length']);_0x1c6546<_0x11533b;_0x1c6546++)if((_0x5184c4=_0x1c994e?_0x11a681(_0x3322c6(_0x1c7e49=_0x46634f[_0x1c6546])[0x0],_0x1c7e49[0x1]):_0x11a681(_0x46634f[_0x1c6546]))===_0x24bfab||_0x5184c4===_0x15221c)return _0x5184c4;}else for(_0x374dc0=_0x42060b[_0x10de('0x0')](_0x46634f);!(_0x1c7e49=_0x374dc0['next']())['done'];)if((_0x5184c4=_0x51a654(_0x374dc0,_0x11a681,_0x1c7e49[_0x10de('0x10')],_0x1c994e))===_0x24bfab||_0x5184c4===_0x15221c)return _0x5184c4;})[_0x10de('0x95')]=_0x24bfab,_0x1c994e[_0x10de('0x96')]=_0x15221c;},function(_0x4d1ff4,_0x20ce2f,_0x1c8bff){'use strict';Object[_0x10de('0x2')](_0x20ce2f,'__esModule',{'value':!0x0}),_0x20ce2f[_0x10de('0x97')]=_0x20ce2f['ModelHeatMap']=_0x20ce2f[_0x10de('0x98')]=_0x20ce2f[_0x10de('0x99')]=_0x20ce2f['ModelFresnelEffect']=_0x20ce2f[_0x10de('0x9a')]=_0x20ce2f[_0x10de('0x9b')]=_0x20ce2f[_0x10de('0x9c')]=_0x20ce2f[_0x10de('0x9d')]=_0x20ce2f['ESInstanceMesh']=_0x20ce2f[_0x10de('0x9e')]=_0x20ce2f[_0x10de('0x9f')]=_0x20ce2f['ClearSkyGround']=_0x20ce2f[_0x10de('0xa0')]=_0x20ce2f['GroundPoints']=_0x20ce2f[_0x10de('0xa1')]=_0x20ce2f['WaterShape']=_0x20ce2f['EnvTextureLoader']=_0x20ce2f['PlaneCrossLine']=_0x20ce2f[_0x10de('0xa2')]=_0x20ce2f[_0x10de('0xa3')]=_0x20ce2f[_0x10de('0xa4')]=_0x20ce2f['WaterSpread']=_0x20ce2f[_0x10de('0xa5')]=_0x20ce2f[_0x10de('0xa6')]=_0x20ce2f[_0x10de('0xa7')]=_0x20ce2f[_0x10de('0xa8')]=_0x20ce2f[_0x10de('0xa9')]=_0x20ce2f[_0x10de('0xaa')]=_0x20ce2f[_0x10de('0xab')]=_0x20ce2f[_0x10de('0xac')]=_0x20ce2f[_0x10de('0xad')]=_0x20ce2f[_0x10de('0xae')]=_0x20ce2f[_0x10de('0xaf')]=_0x20ce2f[_0x10de('0xb0')]=_0x20ce2f['NumberUpEffect']=_0x20ce2f[_0x10de('0xb1')]=_0x20ce2f[_0x10de('0xb2')]=_0x20ce2f[_0x10de('0xb3')]=_0x20ce2f['ModelUvAnimation']=_0x20ce2f['Points']=_0x20ce2f[_0x10de('0xb4')]=_0x20ce2f[_0x10de('0xb5')]=_0x20ce2f[_0x10de('0xb6')]=_0x20ce2f[_0x10de('0xb7')]=_0x20ce2f[_0x10de('0xb8')]=_0x20ce2f[_0x10de('0xb9')]=_0x20ce2f[_0x10de('0xba')]=_0x20ce2f[_0x10de('0xbb')]=_0x20ce2f[_0x10de('0xbc')]=_0x20ce2f[_0x10de('0xbd')]=_0x20ce2f[_0x10de('0xbe')]=_0x20ce2f['Skybox']=void 0x0;var _0x2f5507=_0x44d449(_0x1c8bff(0xa7)),_0x1401c4=_0x44d449(_0x1c8bff(0xa8)),_0x376947=_0x44d449(_0x1c8bff(0xa9)),_0x16c118=_0x44d449(_0x1c8bff(0x9e)),_0x2cc97b=_0x44d449(_0x1c8bff(0x86)),_0x303e7a=_0x44d449(_0x1c8bff(0xcd)),_0x4f6c4e=_0x44d449(_0x1c8bff(0xce)),_0x4c4af5=_0x44d449(_0x1c8bff(0x75)),_0x5da548=_0x44d449(_0x1c8bff(0xcf)),_0x4c8e65=_0x44d449(_0x1c8bff(0xd0)),_0x60c541=_0x44d449(_0x1c8bff(0xd1)),_0x192dbb=_0x44d449(_0x1c8bff(0xa6)),_0x4435e4=_0x44d449(_0x1c8bff(0xd2)),_0x26ce98=_0x44d449(_0x1c8bff(0xd3)),_0x708dac=_0x44d449(_0x1c8bff(0xd4)),_0x4b8de1=_0x44d449(_0x1c8bff(0x9f)),_0x1d436b=_0x44d449(_0x1c8bff(0xd5)),_0x17f0b6=_0x44d449(_0x1c8bff(0xa0)),_0x1a7368=_0x44d449(_0x1c8bff(0xd6)),_0x42c106=_0x44d449(_0x1c8bff(0xd7)),_0x5c0212=_0x44d449(_0x1c8bff(0xd8)),_0x134cbf=_0x44d449(_0x1c8bff(0xd9)),_0x178a98=_0x44d449(_0x1c8bff(0xda)),_0x40bdcb=_0x44d449(_0x1c8bff(0xdb)),_0xf4f8b=_0x44d449(_0x1c8bff(0xdc)),_0xc777ed=_0x44d449(_0x1c8bff(0xdd)),_0x54593f=_0x44d449(_0x1c8bff(0xa1)),_0x13ac15=_0x44d449(_0x1c8bff(0xde)),_0x4d0ff7=_0x44d449(_0x1c8bff(0xdf)),_0x5653e1=_0x44d449(_0x1c8bff(0xe0)),_0x4e8207=_0x44d449(_0x1c8bff(0xa2)),_0x2f8006=_0x44d449(_0x1c8bff(0xe1)),_0x3b85a3=_0x44d449(_0x1c8bff(0xe2)),_0x14875a=_0x44d449(_0x1c8bff(0x85)),_0x596f48=_0x44d449(_0x1c8bff(0xe3)),_0x58584d=_0x44d449(_0x1c8bff(0xe4)),_0x38828d=_0x44d449(_0x1c8bff(0xe9)),_0x5c9493=_0x44d449(_0x1c8bff(0xea)),_0x26e3e5=_0x44d449(_0x1c8bff(0xec)),_0x550d35=_0x44d449(_0x1c8bff(0xed)),_0x521bc2=_0x44d449(_0x1c8bff(0xee)),_0x36dc59=_0x44d449(_0x1c8bff(0xef)),_0x13d141=_0x44d449(_0x1c8bff(0x72)),_0x5877fe=_0x44d449(_0x1c8bff(0xf0)),_0x5726cc=_0x44d449(_0x1c8bff(0xf1)),_0x24f2e7=_0x44d449(_0x1c8bff(0xf5)),_0x2c6100=_0x44d449(_0x1c8bff(0xf6)),_0x5da46d=_0x44d449(_0x1c8bff(0xf7)),_0x33ac34=_0x44d449(_0x1c8bff(0xf8)),_0x43a7cf=_0x44d449(_0x1c8bff(0xf9)),_0x37dc2b=_0x44d449(_0x1c8bff(0xfa)),_0x2064cb=_0x44d449(_0x1c8bff(0xfb)),_0x1c8bff=_0x44d449(_0x1c8bff(0xfc));function _0x44d449(_0x20ce2f){return _0x20ce2f&&_0x20ce2f[_0x10de('0x5')]?_0x20ce2f:{'default':_0x20ce2f};}_0x20ce2f[_0x10de('0xbf')]=_0x1401c4[_0x10de('0x9')],_0x20ce2f['CubeSkybox']=_0x2f5507[_0x10de('0x9')],_0x20ce2f[_0x10de('0xbd')]=_0x376947[_0x10de('0x9')],_0x20ce2f[_0x10de('0xbc')]=_0x16c118['default'],_0x20ce2f[_0x10de('0xbb')]=_0x2cc97b[_0x10de('0x9')],_0x20ce2f[_0x10de('0xba')]=_0x303e7a[_0x10de('0x9')],_0x20ce2f[_0x10de('0xb9')]=_0x4f6c4e[_0x10de('0x9')],_0x20ce2f['CameraFlyTo']=_0x4c4af5[_0x10de('0x9')],_0x20ce2f[_0x10de('0xb7')]=_0x5da548[_0x10de('0x9')],_0x20ce2f[_0x10de('0xb6')]=_0x4c8e65['default'],_0x20ce2f['CircleRotateYMarker']=_0x60c541[_0x10de('0x9')],_0x20ce2f[_0x10de('0xb4')]=_0x192dbb[_0x10de('0x9')],_0x20ce2f['Points']=_0x4435e4['default'],_0x20ce2f[_0x10de('0xc0')]=_0x26ce98[_0x10de('0x9')],_0x20ce2f[_0x10de('0xb3')]=_0x708dac[_0x10de('0x9')],_0x20ce2f['CircleRippleEffect']=_0x4b8de1[_0x10de('0x9')],_0x20ce2f[_0x10de('0xb1')]=_0x1d436b[_0x10de('0x9')],_0x20ce2f[_0x10de('0xc1')]=_0x17f0b6[_0x10de('0x9')],_0x20ce2f[_0x10de('0xb0')]=_0x1a7368[_0x10de('0x9')],_0x20ce2f[_0x10de('0xaf')]=_0x42c106[_0x10de('0x9')],_0x20ce2f[_0x10de('0xae')]=_0x5c0212[_0x10de('0x9')],_0x20ce2f[_0x10de('0xad')]=_0x134cbf[_0x10de('0x9')],_0x20ce2f[_0x10de('0xac')]=_0x178a98[_0x10de('0x9')],_0x20ce2f[_0x10de('0xab')]=_0x40bdcb[_0x10de('0x9')],_0x20ce2f[_0x10de('0xaa')]=_0xf4f8b['default'],_0x20ce2f[_0x10de('0xa9')]=_0xc777ed[_0x10de('0x9')],_0x20ce2f[_0x10de('0xa8')]=_0x54593f['default'],_0x20ce2f[_0x10de('0xa7')]=_0x13ac15['default'],_0x20ce2f['SmokeSpread']=_0x4d0ff7[_0x10de('0x9')],_0x20ce2f[_0x10de('0xa5')]=_0x5653e1['default'],_0x20ce2f[_0x10de('0xc2')]=_0x4e8207['default'],_0x20ce2f[_0x10de('0xa4')]=_0x2f8006['default'],_0x20ce2f[_0x10de('0xa3')]=_0x3b85a3[_0x10de('0x9')],_0x20ce2f[_0x10de('0xa2')]=_0x14875a[_0x10de('0x9')],_0x20ce2f[_0x10de('0xc3')]=_0x596f48[_0x10de('0x9')],_0x20ce2f[_0x10de('0xc4')]=_0x58584d[_0x10de('0x9')],_0x20ce2f[_0x10de('0xc5')]=_0x38828d[_0x10de('0x9')],_0x20ce2f['MirroWater']=_0x5c9493[_0x10de('0x9')],_0x20ce2f['GroundPoints']=_0x26e3e5[_0x10de('0x9')],_0x20ce2f[_0x10de('0xa0')]=_0x550d35['default'],_0x20ce2f[_0x10de('0xc6')]=_0x521bc2['default'],_0x20ce2f[_0x10de('0x9f')]=_0x36dc59[_0x10de('0x9')],_0x20ce2f['TextureUvAnimation']=_0x13d141[_0x10de('0x9')],_0x20ce2f[_0x10de('0xc7')]=_0x5877fe[_0x10de('0x9')],_0x20ce2f[_0x10de('0x9d')]=_0x5726cc[_0x10de('0x9')],_0x20ce2f['GroundBlend']=_0x24f2e7[_0x10de('0x9')],_0x20ce2f[_0x10de('0x9b')]=_0x2c6100[_0x10de('0x9')],_0x20ce2f[_0x10de('0x9a')]=_0x5da46d['default'],_0x20ce2f[_0x10de('0xc8')]=_0x33ac34[_0x10de('0x9')],_0x20ce2f[_0x10de('0x99')]=_0x43a7cf[_0x10de('0x9')],_0x20ce2f[_0x10de('0x98')]=_0x37dc2b[_0x10de('0x9')],_0x20ce2f[_0x10de('0xc9')]=_0x2064cb[_0x10de('0x9')],_0x20ce2f[_0x10de('0x97')]=_0x1c8bff[_0x10de('0x9')];},function(_0x63d1d8,_0x38d5d5){},function(_0x50c773,_0x11528b,_0x297798){_0x50c773[_0x10de('0x1')]=!_0x297798(0x7)&&!_0x297798(0xd)(function(){return 0x7!=Object[_0x10de('0x2')](_0x297798(0x2b)(_0x10de('0xca')),'a',{'get':function(){return 0x7;}})['a'];});},function(_0x4f232c,_0x1c7b90,_0x4f826a){_0x4f232c[_0x10de('0x1')]=_0x4f826a(0xb);},function(_0x99b107,_0x44396b,_0xcd101d){var _0x452ac6=_0xcd101d(0xc),_0x78912b=_0xcd101d(0xe),_0x5b5cf3=_0xcd101d(0x53)(!0x1),_0x461aa8=_0xcd101d(0x24)(_0x10de('0x6f'));_0x99b107['exports']=function(_0x99b107,_0x44396b){var _0xcd101d,_0xfd25d9=_0x78912b(_0x99b107),_0x3407a6=0x0,_0x38c479=[];for(_0xcd101d in _0xfd25d9)_0xcd101d!=_0x461aa8&&_0x452ac6(_0xfd25d9,_0xcd101d)&&_0x38c479[_0x10de('0x84')](_0xcd101d);for(;_0x44396b['length']>_0x3407a6;)_0x452ac6(_0xfd25d9,_0xcd101d=_0x44396b[_0x3407a6++])&&!~_0x5b5cf3(_0x38c479,_0xcd101d)&&_0x38c479[_0x10de('0x84')](_0xcd101d);return _0x38c479;};},function(_0x5cd038,_0x4be915,_0xe54de4){var _0x47a39f=_0xe54de4(0x30),_0x481a25=_0xe54de4(0x6)(_0x10de('0xcb')),_0x25d081=_0xe54de4(0x10);_0x5cd038[_0x10de('0x1')]=_0xe54de4(0x2)['getIteratorMethod']=function(_0x5cd038){if(null!=_0x5cd038)return _0x5cd038[_0x481a25]||_0x5cd038[_0x10de('0xcc')]||_0x25d081[_0x47a39f(_0x5cd038)];};},function(_0x50e54,_0x363168,_0x218b26){function _0x4c1266(_0x50e54){_0x56ff24(_0x50e54,_0x188096,{'value':{'i':'O'+ ++_0x5e78e9,'w':{}}});}var _0x188096=_0x218b26(0x19)('meta'),_0xcbaeb9=_0x218b26(0x9),_0x1caadd=_0x218b26(0xc),_0x56ff24=_0x218b26(0x8)['f'],_0x5e78e9=0x0,_0x4cfe97=Object['isExtensible']||function(){return!0x0;},_0x38b6eb=!_0x218b26(0xd)(function(){return _0x4cfe97(Object[_0x10de('0xcd')]({}));}),_0x23d217=_0x50e54[_0x10de('0x1')]={'KEY':_0x188096,'NEED':!0x1,'fastKey':function(_0x50e54,_0x363168){if(!_0xcbaeb9(_0x50e54))return _0x10de('0x93')==typeof _0x50e54?_0x50e54:(_0x10de('0x7')==typeof _0x50e54?'S':'P')+_0x50e54;if(!_0x1caadd(_0x50e54,_0x188096)){if(!_0x4cfe97(_0x50e54))return'F';if(!_0x363168)return'E';_0x4c1266(_0x50e54);}return _0x50e54[_0x188096]['i'];},'getWeak':function(_0x50e54,_0x363168){if(!_0x1caadd(_0x50e54,_0x188096)){if(!_0x4cfe97(_0x50e54))return!0x0;if(!_0x363168)return!0x1;_0x4c1266(_0x50e54);}return _0x50e54[_0x188096]['w'];},'onFreeze':function(_0x50e54){return _0x38b6eb&&_0x23d217['NEED']&&_0x4cfe97(_0x50e54)&&!_0x1caadd(_0x50e54,_0x188096)&&_0x4c1266(_0x50e54),_0x50e54;}};},function(_0xbc61d8,_0x18571c,_0x196083){'use strict';function _0x2697c7(_0xbc61d8){_0xbc61d8&&(_0xbc61d8[_0x10de('0xce')]?_0xbc61d8[_0x10de('0xce')]():(_0xbc61d8[_0x10de('0x40')]&&(_0xbc61d8[_0x10de('0x40')][_0x10de('0xcf')]&&(_0xbc61d8['material']['map'][_0x10de('0xce')](),_0xbc61d8[_0x10de('0x40')][_0x10de('0xcf')]=null),_0xbc61d8[_0x10de('0x40')]['dispose'](),_0xbc61d8[_0x10de('0x40')]=null),_0xbc61d8[_0x10de('0xd0')]&&(_0xbc61d8[_0x10de('0xd0')][_0x10de('0xce')](),_0xbc61d8[_0x10de('0xd0')]=null)));}function _0xc51c5a(_0xbc61d8){var _0x18571c=[];_0xbc61d8[_0x10de('0xd1')](function(_0xbc61d8){_0x18571c[_0x10de('0x84')](_0xbc61d8);});for(var _0x196083=0x0,_0xc51c5a=_0x18571c[_0x10de('0xe')];_0x196083<_0xc51c5a;_0x196083++)_0xbc61d8[_0x10de('0xd2')](_0x18571c[_0x196083]),_0x2697c7(_0x18571c[_0x196083]);_0x18571c=null;}Object['defineProperty'](_0x18571c,_0x10de('0x5'),{'value':!0x0}),_0x18571c[_0x10de('0x9')]={'disposeAll':function(_0xbc61d8){_0xc51c5a(_0xbc61d8),_0xbc61d8[_0x10de('0xd3')][_0x10de('0xd2')](_0xbc61d8),_0x2697c7(_0xbc61d8);},'disposeChilds':_0xc51c5a,'dispseMesh':_0x2697c7};},function(_0x21d391,_0x1eb975,_0x23d0f4){var _0x324338=_0x23d0f4(0x8),_0x5bf030=_0x23d0f4(0xa),_0x4cbae4=_0x23d0f4(0x15);_0x21d391[_0x10de('0x1')]=_0x23d0f4(0x7)?Object[_0x10de('0xd4')]:function(_0x21d391,_0x1eb975){_0x5bf030(_0x21d391);for(var _0x23d0f4,_0x145fda=_0x4cbae4(_0x1eb975),_0x407622=_0x145fda[_0x10de('0xe')],_0x59418c=0x0;_0x59418c<_0x407622;)_0x324338['f'](_0x21d391,_0x23d0f4=_0x145fda[_0x59418c++],_0x1eb975[_0x23d0f4]);return _0x21d391;};},function(_0x3b60bb,_0x57afc1,_0x463b37){_0x3b60bb[_0x10de('0x1')]={'default':_0x463b37(0x64),'__esModule':!0x0};},function(_0xea969a,_0x503c30,_0x507881){var _0x484e43=_0x507881(0x3a),_0x1c3734=_0x507881(0x27)['concat']('length',_0x10de('0xa'));_0x503c30['f']=Object['getOwnPropertyNames']||function(_0xea969a){return _0x484e43(_0xea969a,_0x1c3734);};},function(_0x2bb214,_0x143f6d,_0x7854cf){var _0x73ea5e=_0x7854cf(0x1d),_0x4ecc45=_0x7854cf(0x16),_0x17321d=_0x7854cf(0xe),_0x3490a3=_0x7854cf(0x29),_0x3ab178=_0x7854cf(0xc),_0x7cbc9f=_0x7854cf(0x38),_0x58def0=Object['getOwnPropertyDescriptor'];_0x143f6d['f']=_0x7854cf(0x7)?_0x58def0:function(_0x2bb214,_0x143f6d){if(_0x2bb214=_0x17321d(_0x2bb214),_0x143f6d=_0x3490a3(_0x143f6d,!0x0),_0x7cbc9f)try{return _0x58def0(_0x2bb214,_0x143f6d);}catch(_0x2fb878){}if(_0x3ab178(_0x2bb214,_0x143f6d))return _0x4ecc45(!_0x73ea5e['f']['call'](_0x2bb214,_0x143f6d),_0x2bb214[_0x143f6d]);};},function(_0x4353dd,_0x1f6f5a){_0x4353dd[_0x10de('0x1')]=function(_0x4353dd,_0x1f6f5a){return{'value':_0x1f6f5a,'done':!!_0x4353dd};};},function(_0x70af92,_0xe99b2a,_0xa420f1){_0xa420f1=_0xa420f1(0x4)['document'];_0x70af92[_0x10de('0x1')]=_0xa420f1&&_0xa420f1[_0x10de('0xd5')];},function(_0xffedfe,_0x5d2a1c,_0x4a2df3){var _0x2c6221=_0x4a2df3(0xc),_0x3317d9=_0x4a2df3(0x12),_0x470f77=_0x4a2df3(0x24)(_0x10de('0x6f')),_0x2292de=Object[_0x10de('0xa')];_0xffedfe[_0x10de('0x1')]=Object[_0x10de('0xd6')]||function(_0xffedfe){return _0xffedfe=_0x3317d9(_0xffedfe),_0x2c6221(_0xffedfe,_0x470f77)?_0xffedfe[_0x470f77]:_0x10de('0x14')==typeof _0xffedfe[_0x10de('0xd7')]&&_0xffedfe instanceof _0xffedfe[_0x10de('0xd7')]?_0xffedfe[_0x10de('0xd7')]['prototype']:_0xffedfe instanceof Object?_0x2292de:null;};},function(_0xf68766,_0x227748,_0xc37088){_0xf68766['exports']={'default':_0xc37088(0x5c),'__esModule':!0x0};},function(_0x227958,_0x4e7689,_0x553bef){'use strict';Object[_0x10de('0x2')](_0x4e7689,_0x10de('0x5'),{'value':!0x0});var _0xa3561a=_0x233753(_0x553bef(0x28)),_0x380949=_0x233753(_0x553bef(0x5)),_0x5a04fe=_0x233753(_0x553bef(0x0));function _0x233753(_0x227958){return _0x227958&&_0x227958[_0x10de('0x5')]?_0x227958:{'default':_0x227958};}function _0x3e7e85(){(0x0,_0x5a04fe[_0x10de('0x9')])(this,_0x3e7e85),this[_0x10de('0xd8')]=new THREE[(_0x10de('0xd9'))](),this[_0x10de('0xda')]=[];}(0x0,_0x233753(_0x553bef(0x1))[_0x10de('0x9')])(_0x3e7e85,[{'key':_0x10de('0xdb'),'value':function(_0x227958,_0x4e7689){var _0x553bef=this['checkTextureIsLoaded'](_0x227958);return _0x4e7689||!_0x553bef?(_0x4e7689=this[_0x10de('0xd8')]['load'](_0x227958),this[_0x10de('0xda')][_0x10de('0x84')]({'texture':_0x4e7689,'path':_0x227958}),_0x4e7689):_0x553bef[_0x10de('0xdc')];}},{'key':_0x10de('0xdd'),'value':function(_0x227958){var _0x4e7689=!0x0,_0x553bef=!0x1,_0x5a04fe=void 0x0;try{for(var _0xa3561a,_0x233753=(0x0,_0x380949[_0x10de('0x9')])(this[_0x10de('0xda')]);!(_0x4e7689=(_0xa3561a=_0x233753[_0x10de('0x88')]())['done']);_0x4e7689=!0x0){var _0x3e7e85=_0xa3561a[_0x10de('0x10')];if(_0x3e7e85[_0x10de('0xde')]===_0x227958)return _0x3e7e85;}}catch(_0x2e32e5){_0x553bef=!0x0,_0x5a04fe=_0x2e32e5;}finally{try{!_0x4e7689&&_0x233753[_0x10de('0xdf')]&&_0x233753['return']();}finally{if(_0x553bef)throw _0x5a04fe;}}return!0x1;}},{'key':_0x10de('0xe0'),'value':function(_0x227958){for(var _0x4e7689=[],_0x553bef=0x0,_0x5a04fe=_0x227958[_0x10de('0xe')];_0x553bef<_0x5a04fe;_0x553bef++)_0x227958[_0x553bef][_0x10de('0xde')]&&_0x4e7689[_0x10de('0x84')](this[_0x10de('0xe1')](_0x227958[_0x553bef]));return _0xa3561a[_0x10de('0x9')][_0x10de('0xe2')](_0x4e7689);}},{'key':'textureLoad','value':function(_0x553bef){var _0x5a04fe=this;return new _0xa3561a[(_0x10de('0x9'))](function(_0x4e7689,_0x227958){_0x5a04fe[_0x10de('0xd8')][_0x10de('0xdb')](_0x553bef['path'],function(_0x227958){_0x227958[_0x10de('0x8c')]=_0x553bef[_0x10de('0x8c')],_0x4e7689(_0x227958);});});}}],[{'key':_0x10de('0xe3'),'value':function(_0x5a04fe){return new _0xa3561a[(_0x10de('0x9'))](function(_0x227958,_0x4e7689){var _0x553bef=new THREE[(_0x10de('0xe4'))]()[_0x10de('0xdb')](_0x5a04fe,function(){_0x227958(_0x553bef);});});}},{'key':_0x10de('0xe5'),'value':function(_0x553bef){return new _0xa3561a[(_0x10de('0x9'))](function(_0x4e7689,_0x227958){new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x553bef,function(_0x227958){_0x4e7689(_0x227958);});});}}]),_0x4e7689[_0x10de('0x9')]=_0x3e7e85;},function(_0x531f18,_0x52e9de,_0x55d05a){'use strict';var _0x265726,_0x37fec7=_0x3fddf1(_0x55d05a(0x32)),_0x12a366=_0x3fddf1(_0x55d05a(0x3f)),_0xc5905f=_0x3fddf1(_0x55d05a(0x34));function _0x3fddf1(_0x531f18){return _0x531f18&&_0x531f18[_0x10de('0x5')]?_0x531f18:{'default':_0x531f18};}var _0x377ffe,_0x16520f,_0x31955c,_0x3f92fd,_0x3a9c0f,_0x3cd0a9,_0x1a2832,_0x346aa9={'distributions':{'BOX':0x1,'SPHERE':0x2,'DISC':0x3},'valueOverLifetimeLength':0x4};void 0x0!==(_0x55d05a='function'==typeof(_0x265726=_0x346aa9)?_0x265726[_0x10de('0x0')](_0x52e9de,_0x55d05a,_0x52e9de,_0x531f18):_0x265726)&&(_0x531f18['exports']=_0x55d05a),_0x346aa9[_0x10de('0xe6')]=function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726){this[_0x10de('0xe7')]=_0x55d05a||0x1,this[_0x10de('0xe8')]=_0x52e9de||0x1,this[_0x10de('0xe9')]=_0x531f18||Float32Array,this['array']=new _0x531f18(_0x52e9de*this[_0x10de('0xe7')]),this[_0x10de('0xea')]=_0x265726||0x0;},_0x346aa9['TypedArrayHelper'][_0x10de('0xd7')]=_0x346aa9[_0x10de('0xe6')],_0x346aa9[_0x10de('0xe6')]['prototype'][_0x10de('0xeb')]=function(_0x531f18,_0x52e9de){var _0x55d05a=this[_0x10de('0xec')]['length'];return _0x52e9de||(_0x531f18*=this[_0x10de('0xe7')]),_0x531f18<_0x55d05a?this[_0x10de('0xed')](_0x531f18):_0x55d05a<_0x531f18?this[_0x10de('0xee')](_0x531f18):void console[_0x10de('0xef')](_0x10de('0xf0'),_0x531f18+'.',_0x10de('0xf1'));},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')]['shrink']=function(_0x531f18){return this[_0x10de('0xec')]=this[_0x10de('0xec')][_0x10de('0xf2')](0x0,_0x531f18),this[_0x10de('0xe8')]=_0x531f18,this;},_0x346aa9['TypedArrayHelper'][_0x10de('0xa')][_0x10de('0xee')]=function(_0x531f18){var _0x52e9de=this[_0x10de('0xec')],_0x55d05a=new this[(_0x10de('0xe9'))](_0x531f18);return _0x55d05a[_0x10de('0x1e')](_0x52e9de),this[_0x10de('0xec')]=_0x55d05a,this[_0x10de('0xe8')]=_0x531f18,this;},_0x346aa9[_0x10de('0xe6')]['prototype'][_0x10de('0xf3')]=function(_0x531f18,_0x52e9de){_0x531f18*=this[_0x10de('0xe7')],_0x52e9de*=this[_0x10de('0xe7')];for(var _0x55d05a=[],_0x265726=this[_0x10de('0xec')],_0x37fec7=_0x265726['length'],_0x12a366=0x0;_0x12a366<_0x37fec7;++_0x12a366)(_0x12a366<_0x531f18||_0x52e9de<=_0x12a366)&&_0x55d05a[_0x10de('0x84')](_0x265726[_0x12a366]);return this[_0x10de('0xf4')](0x0,_0x55d05a),this;},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')][_0x10de('0xf4')]=function(_0x531f18,_0x52e9de){var _0x55d05a=_0x531f18+_0x52e9de['length'];return _0x55d05a>this[_0x10de('0xec')][_0x10de('0xe')]?this[_0x10de('0xee')](_0x55d05a):_0x55d05a<this[_0x10de('0xec')][_0x10de('0xe')]&&this[_0x10de('0xed')](_0x55d05a),this[_0x10de('0xec')]['set'](_0x52e9de,this[_0x10de('0xea')]+_0x531f18),this;},_0x346aa9['TypedArrayHelper']['prototype'][_0x10de('0xf5')]=function(_0x531f18,_0x52e9de){return this[_0x10de('0xf6')](_0x531f18,_0x52e9de['x'],_0x52e9de['y']);},_0x346aa9[_0x10de('0xe6')]['prototype']['setVec2Components']=function(_0x531f18,_0x52e9de,_0x55d05a){var _0x265726=this[_0x10de('0xec')],_0x531f18=this[_0x10de('0xea')]+_0x531f18*this[_0x10de('0xe7')];return _0x265726[_0x531f18]=_0x52e9de,_0x265726[_0x531f18+0x1]=_0x55d05a,this;},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')]['setVec3']=function(_0x531f18,_0x52e9de){return this[_0x10de('0xf7')](_0x531f18,_0x52e9de['x'],_0x52e9de['y'],_0x52e9de['z']);},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')]['setVec3Components']=function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726){var _0x37fec7=this[_0x10de('0xec')],_0x531f18=this['indexOffset']+_0x531f18*this[_0x10de('0xe7')];return _0x37fec7[_0x531f18]=_0x52e9de,_0x37fec7[_0x531f18+0x1]=_0x55d05a,_0x37fec7[_0x531f18+0x2]=_0x265726,this;},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')]['setVec4']=function(_0x531f18,_0x52e9de){return this[_0x10de('0xf8')](_0x531f18,_0x52e9de['x'],_0x52e9de['y'],_0x52e9de['z'],_0x52e9de['w']);},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')]['setVec4Components']=function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726,_0x37fec7){var _0x12a366=this[_0x10de('0xec')],_0x531f18=this[_0x10de('0xea')]+_0x531f18*this[_0x10de('0xe7')];return _0x12a366[_0x531f18]=_0x52e9de,_0x12a366[_0x531f18+0x1]=_0x55d05a,_0x12a366[_0x531f18+0x2]=_0x265726,_0x12a366[_0x531f18+0x3]=_0x37fec7,this;},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')][_0x10de('0xf9')]=function(_0x531f18,_0x52e9de){return this[_0x10de('0xf4')](this['indexOffset']+_0x531f18*this[_0x10de('0xe7')],_0x52e9de[_0x10de('0xfa')]);},_0x346aa9['TypedArrayHelper'][_0x10de('0xa')][_0x10de('0xfb')]=function(_0x531f18,_0x52e9de){return this[_0x10de('0xf4')](this[_0x10de('0xea')]+_0x531f18*this[_0x10de('0xe7')],_0x52e9de[_0x10de('0xfa')]);},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')][_0x10de('0xfc')]=function(_0x531f18,_0x52e9de){return this[_0x10de('0xf7')](_0x531f18,_0x52e9de['r'],_0x52e9de['g'],_0x52e9de['b']);},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')][_0x10de('0xfd')]=function(_0x531f18,_0x52e9de){return this[_0x10de('0xec')][this[_0x10de('0xea')]+_0x531f18*this[_0x10de('0xe7')]]=_0x52e9de,this;},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')][_0x10de('0xfe')]=function(_0x531f18){return this[_0x10de('0xec')][this['indexOffset']+_0x531f18];},_0x346aa9[_0x10de('0xe6')][_0x10de('0xa')][_0x10de('0xff')]=function(_0x531f18){return this[_0x10de('0xec')][_0x10de('0xf2')](this[_0x10de('0xea')]+_0x531f18*this[_0x10de('0xe7')]);},_0x346aa9[_0x10de('0x100')]=function(_0x531f18,_0x52e9de,_0x55d05a){var _0x265726=_0x346aa9[_0x10de('0x100')]['typeSizeMap'];this[_0x10de('0x85')]=_0x10de('0x7')==typeof _0x531f18&&_0x265726['hasOwnProperty'](_0x531f18)?_0x531f18:'f',this[_0x10de('0xe7')]=_0x265726[this[_0x10de('0x85')]],this[_0x10de('0x101')]=_0x55d05a||Float32Array,this['typedArray']=null,this[_0x10de('0x102')]=null,this[_0x10de('0x103')]=!!_0x52e9de,this[_0x10de('0x104')]=0x0,this[_0x10de('0x105')]=0x0;},_0x346aa9[_0x10de('0x100')]['constructor']=_0x346aa9[_0x10de('0x100')],_0x346aa9[_0x10de('0x100')][_0x10de('0x106')]={'f':0x1,'v2':0x2,'v3':0x3,'v4':0x4,'c':0x3,'m3':0x9,'m4':0x10},_0x346aa9[_0x10de('0x100')]['prototype'][_0x10de('0x107')]=function(_0x531f18,_0x52e9de){this[_0x10de('0x104')]=Math[_0x10de('0x8e')](_0x531f18*this['componentSize'],this[_0x10de('0x104')]*this[_0x10de('0xe7')]),this[_0x10de('0x105')]=Math[_0x10de('0x108')](_0x52e9de*this[_0x10de('0xe7')],this[_0x10de('0x105')]*this['componentSize']);},_0x346aa9['ShaderAttribute'][_0x10de('0xa')]['flagUpdate']=function(){var _0x531f18=this[_0x10de('0x102')],_0x52e9de=_0x531f18[_0x10de('0x109')];_0x52e9de[_0x10de('0x10a')]=this[_0x10de('0x104')],_0x52e9de['count']=Math['min'](this[_0x10de('0x105')]-this['updateMin']+this['componentSize'],this[_0x10de('0x10b')][_0x10de('0xec')][_0x10de('0xe')]),_0x531f18[_0x10de('0x10c')]=!0x0;},_0x346aa9[_0x10de('0x100')][_0x10de('0xa')][_0x10de('0x10d')]=function(){this[_0x10de('0x104')]=0x0,this[_0x10de('0x105')]=0x0;},_0x346aa9['ShaderAttribute'][_0x10de('0xa')][_0x10de('0x10e')]=function(){this['bufferAttribute'][_0x10de('0x10f')]=this['dynamicBuffer'];},_0x346aa9['ShaderAttribute'][_0x10de('0xa')]['splice']=function(_0x531f18,_0x52e9de){this['typedArray'][_0x10de('0xf3')](_0x531f18,_0x52e9de),this[_0x10de('0x110')]();},_0x346aa9['ShaderAttribute']['prototype'][_0x10de('0x110')]=function(){this[_0x10de('0x102')]['array']=this[_0x10de('0x10b')]['array'],this['bufferAttribute'][_0x10de('0x109')]['offset']=0x0,this[_0x10de('0x102')][_0x10de('0x109')]['count']=-0x1,this[_0x10de('0x102')][_0x10de('0x10f')]=!0x1,this[_0x10de('0x102')][_0x10de('0x10c')]=!0x0;},_0x346aa9[_0x10de('0x100')][_0x10de('0xa')][_0x10de('0x111')]=function(_0x531f18){null!==this[_0x10de('0x10b')]&&this['typedArray']['size']===_0x531f18*this[_0x10de('0xe7')]||(null!==this[_0x10de('0x10b')]&&this['typedArray'][_0x10de('0xe8')]!==_0x531f18?this[_0x10de('0x10b')][_0x10de('0xeb')](_0x531f18):null===this[_0x10de('0x10b')]&&(this[_0x10de('0x10b')]=new _0x346aa9[(_0x10de('0xe6'))](this[_0x10de('0x101')],_0x531f18,this[_0x10de('0xe7')])));},_0x346aa9['ShaderAttribute'][_0x10de('0xa')][_0x10de('0x112')]=function(_0x531f18){if(this[_0x10de('0x111')](_0x531f18),null!==this[_0x10de('0x102')])return this[_0x10de('0x102')]['array']=this[_0x10de('0x10b')][_0x10de('0xec')],0x51<=parseFloat(THREE[_0x10de('0x113')])&&(this[_0x10de('0x102')][_0x10de('0x114')]=this[_0x10de('0x102')][_0x10de('0xec')][_0x10de('0xe')]/this['bufferAttribute'][_0x10de('0x115')]),void(this[_0x10de('0x102')]['needsUpdate']=!0x0);this['bufferAttribute']=new THREE[(_0x10de('0x116'))](this[_0x10de('0x10b')][_0x10de('0xec')],this[_0x10de('0xe7')]),this[_0x10de('0x102')]['dynamic']=this['dynamicBuffer'];},_0x346aa9[_0x10de('0x100')][_0x10de('0xa')][_0x10de('0x117')]=function(){return null===this[_0x10de('0x10b')]?0x0:this[_0x10de('0x10b')][_0x10de('0xec')]['length'];},_0x346aa9['shaderChunks']={'defines':['#define\x20PACKED_COLOR_SIZE\x20256.0',_0x10de('0x118')][_0x10de('0x119')]('\x0a'),'uniforms':[_0x10de('0x11a'),_0x10de('0x11b'),_0x10de('0x11c'),_0x10de('0x11d'),_0x10de('0x11e')][_0x10de('0x119')]('\x0a'),'attributes':[_0x10de('0x11f'),_0x10de('0x120'),'attribute\x20vec4\x20rotation;','attribute\x20vec3\x20rotationCenter;',_0x10de('0x121'),_0x10de('0x122'),_0x10de('0x123'),_0x10de('0x124'),_0x10de('0x125')][_0x10de('0x119')]('\x0a'),'varyings':[_0x10de('0x126'),_0x10de('0x127'),_0x10de('0x128'),_0x10de('0x129'),_0x10de('0x12a'),'\x20\x20\x20\x20varying\x20vec4\x20vSpriteSheet;',_0x10de('0x129')]['join']('\x0a'),'branchAvoidanceFunctions':['float\x20when_gt(float\x20x,\x20float\x20y)\x20{',_0x10de('0x12b'),'}',_0x10de('0x12c'),_0x10de('0x12d'),'}',_0x10de('0x12e'),_0x10de('0x12f'),'}',_0x10de('0x130'),_0x10de('0x131'),'}',_0x10de('0x132'),_0x10de('0x133'),'}',_0x10de('0x134'),_0x10de('0x135'),'}',_0x10de('0x136'),_0x10de('0x137'),'}'][_0x10de('0x119')]('\x0a'),'unpackColor':[_0x10de('0x138'),_0x10de('0x139'),'\x20\x20\x20float\x20r\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);',_0x10de('0x13a'),_0x10de('0x13b'),_0x10de('0x13c'),'\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;',_0x10de('0x13d'),'}'][_0x10de('0x119')]('\x0a'),'unpackRotationAxis':[_0x10de('0x13e'),_0x10de('0x139'),'\x20\x20\x20float\x20r\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);',_0x10de('0x13a'),_0x10de('0x13b'),_0x10de('0x13c'),_0x10de('0x13f'),_0x10de('0x140'),_0x10de('0x141'),_0x10de('0x142'),_0x10de('0x13d'),'}'][_0x10de('0x119')]('\x0a'),'floatOverLifetime':[_0x10de('0x143'),_0x10de('0x144'),_0x10de('0x145'),'\x20\x20\x20\x20float\x20fIndex\x20=\x200.0;',_0x10de('0x146'),_0x10de('0x147'),'',_0x10de('0x148'),_0x10de('0x149'),_0x10de('0x14a'),_0x10de('0x14b'),_0x10de('0x14c'),'',_0x10de('0x14d'),'}'][_0x10de('0x119')]('\x0a'),'colorOverLifetime':[_0x10de('0x14e'),'\x20\x20\x20\x20vec3\x20value\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20value.x\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.x,\x20color2.x,\x20color3.x,\x20color4.x\x20)\x20);',_0x10de('0x14f'),_0x10de('0x150'),'\x20\x20\x20\x20return\x20value;','}'][_0x10de('0x119')]('\x0a'),'paramFetchingFunctions':[_0x10de('0x151'),_0x10de('0x152'),'}',_0x10de('0x153'),_0x10de('0x154'),'}',_0x10de('0x155'),'\x20\x20\x20return\x20params.z;','}',_0x10de('0x156'),_0x10de('0x157'),'}'][_0x10de('0x119')]('\x0a'),'forceFetchingFunctions':[_0x10de('0x158'),_0x10de('0x159'),'}','vec3\x20getVelocity(\x20in\x20float\x20age\x20)\x20{',_0x10de('0x15a'),'}',_0x10de('0x15b'),_0x10de('0x15c'),'}'][_0x10de('0x119')]('\x0a'),'rotationFunctions':[_0x10de('0x15d'),_0x10de('0x15e'),_0x10de('0x15f'),'\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);',_0x10de('0x160'),_0x10de('0x161'),'',_0x10de('0x162'),_0x10de('0x163'),_0x10de('0x164'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.0);',_0x10de('0x165'),'',_0x10de('0x166'),_0x10de('0x167'),_0x10de('0x168'),'\x20\x20\x20\x20\x20\x20}','',_0x10de('0x169'),_0x10de('0x16a'),'\x20\x20\x20\x20\x20\x20vec3\x20translated;','\x20\x20\x20\x20\x20\x20mat4\x20rotationMatrix;',_0x10de('0x16b'),_0x10de('0x16c'),_0x10de('0x16d'),_0x10de('0x16e'),_0x10de('0x16f'),_0x10de('0x170'),_0x10de('0x165'),_0x10de('0x129')][_0x10de('0x119')]('\x0a'),'rotateTexture':[_0x10de('0x171'),'',_0x10de('0x172'),_0x10de('0x173'),_0x10de('0x174'),_0x10de('0x175'),_0x10de('0x176'),'\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20vec2(\x20c\x20*\x20x\x20+\x20s\x20*\x20y\x20+\x200.5,\x20c\x20*\x20y\x20-\x20s\x20*\x20x\x20+\x200.5\x20);',_0x10de('0x177'),'',_0x10de('0x178'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20vSpriteSheet.x;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20vSpriteSheet.y;',_0x10de('0x179'),_0x10de('0x17a'),'\x20\x20\x20\x20\x20\x20\x20\x20vUv.x\x20=\x20gl_PointCoord.x\x20*\x20framesX\x20+\x20columnNorm;',_0x10de('0x17b'),'\x20\x20\x20\x20#endif','','\x20\x20\x20\x20vec4\x20rotatedTexture\x20=\x20texture2D(\x20texture1,\x20vUv\x20);'][_0x10de('0x119')]('\x0a')},_0x346aa9['shaders']={'vertex':[_0x346aa9[_0x10de('0x17c')][_0x10de('0x17d')],_0x346aa9[_0x10de('0x17c')]['uniforms'],_0x346aa9['shaderChunks'][_0x10de('0x17e')],_0x346aa9[_0x10de('0x17c')][_0x10de('0x17f')],THREE[_0x10de('0x180')][_0x10de('0x181')],THREE[_0x10de('0x180')][_0x10de('0x182')],THREE[_0x10de('0x180')][_0x10de('0x183')],_0x346aa9[_0x10de('0x17c')][_0x10de('0x184')],_0x346aa9['shaderChunks'][_0x10de('0x185')],_0x346aa9[_0x10de('0x17c')][_0x10de('0x186')],_0x346aa9[_0x10de('0x17c')][_0x10de('0x187')],_0x346aa9[_0x10de('0x17c')][_0x10de('0x188')],_0x346aa9[_0x10de('0x17c')][_0x10de('0x189')],_0x346aa9[_0x10de('0x17c')]['forceFetchingFunctions'],_0x346aa9[_0x10de('0x17c')]['rotationFunctions'],_0x10de('0x18a'),'\x20\x20\x20\x20highp\x20float\x20age\x20=\x20getAge();','\x20\x20\x20\x20highp\x20float\x20alive\x20=\x20getAlive();',_0x10de('0x18b'),_0x10de('0x18c'),_0x10de('0x18d'),'\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleAmount\x20=\x20positionInTime\x20*\x20getWiggle();',_0x10de('0x18e'),_0x10de('0x18f'),_0x10de('0x177'),_0x10de('0x190'),_0x10de('0x191'),'\x20\x20\x20\x20vec3\x20force\x20=\x20vec3(\x200.0\x20);',_0x10de('0x192'),_0x10de('0x193'),_0x10de('0x194'),_0x10de('0x195'),_0x10de('0x196'),'\x20\x20\x20\x20pos\x20+=\x20force;',_0x10de('0x197'),_0x10de('0x198'),_0x10de('0x199'),_0x10de('0x19a'),_0x10de('0x177'),_0x10de('0x19b'),'\x20\x20\x20\x20\x20\x20\x20\x20pos\x20=\x20getRotation(\x20pos,\x20positionInTime\x20);',_0x10de('0x177'),_0x10de('0x19c'),_0x10de('0x19d'),_0x10de('0x19e'),_0x10de('0x19f'),'\x20\x20\x20\x20#else',_0x10de('0x1a0'),_0x10de('0x177'),_0x10de('0x1a1'),_0x10de('0x1a2'),'\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20isAlive\x20*\x20getColorOverLifetime(',_0x10de('0x1a3'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.x\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.y\x20),',_0x10de('0x1a4'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.w\x20)',_0x10de('0x1a5'),_0x10de('0x1a6'),_0x10de('0x1a7'),'\x20\x20\x20\x20#endif','\x20\x20\x20\x20float\x20o\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20opacity\x20);',_0x10de('0x1a8'),_0x10de('0x172'),'\x20\x20\x20\x20\x20\x20\x20\x20vAngle\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20angle\x20);',_0x10de('0x177'),'\x20\x20\x20\x20#ifdef\x20SHOULD_CALCULATE_SPRITE',_0x10de('0x1a9'),_0x10de('0x1aa'),_0x10de('0x1ab'),_0x10de('0x1ac'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20frameNumber\x20=\x20mod(\x20(positionInTime\x20*\x20loopCount)\x20*\x20totalFrames,\x20totalFrames\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20column\x20=\x20floor(mod(\x20frameNumber,\x20framesX\x20));',_0x10de('0x1ad'),_0x10de('0x1ae'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20row\x20/\x20framesY;',_0x10de('0x1af'),_0x10de('0x1b0'),_0x10de('0x1b1'),_0x10de('0x1b2'),'\x20\x20\x20\x20#endif','\x20\x20\x20\x20gl_PointSize\x20=\x20pointSizePerspective;','\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;',THREE[_0x10de('0x180')][_0x10de('0x1b3')],THREE['ShaderChunk']['fog_vertex'],'}'][_0x10de('0x119')]('\x0a'),'fragment':[_0x346aa9['shaderChunks'][_0x10de('0x1b4')],THREE['ShaderChunk']['common'],THREE['ShaderChunk'][_0x10de('0x1b5')],THREE[_0x10de('0x180')][_0x10de('0x1b6')],_0x346aa9[_0x10de('0x17c')][_0x10de('0x17f')],_0x346aa9[_0x10de('0x17c')][_0x10de('0x184')],_0x10de('0x18a'),_0x10de('0x1b7'),'\x20\x20\x20\x20','\x20\x20\x20\x20#ifdef\x20ALPHATEST',_0x10de('0x1b8'),_0x10de('0x177'),_0x346aa9[_0x10de('0x17c')][_0x10de('0x1b9')],THREE[_0x10de('0x180')][_0x10de('0x1ba')],'\x20\x20\x20\x20outgoingLight\x20=\x20vColor.xyz\x20*\x20rotatedTexture.xyz;',_0x10de('0x1bb'),THREE[_0x10de('0x180')][_0x10de('0x1bc')],'}'][_0x10de('0x119')]('\x0a')},_0x346aa9[_0x10de('0x1bd')]={'types':{'BOOLEAN':'boolean','STRING':'string','NUMBER':'number','OBJECT':_0x10de('0x6')},'ensureTypedArg':function(_0x531f18,_0x52e9de,_0x55d05a){return(void 0x0===_0x531f18?_0x10de('0x17'):(0x0,_0xc5905f[_0x10de('0x9')])(_0x531f18))===_0x52e9de?_0x531f18:_0x55d05a;},'ensureArrayTypedArg':function(_0x531f18,_0x52e9de,_0x55d05a){if(Array[_0x10de('0x1be')](_0x531f18)){for(var _0x265726=_0x531f18['length']-0x1;0x0<=_0x265726;--_0x265726)if((0x0,_0xc5905f['default'])(_0x531f18[_0x265726])!==_0x52e9de)return _0x55d05a;return _0x531f18;}return this[_0x10de('0x1bf')](_0x531f18,_0x52e9de,_0x55d05a);},'ensureInstanceOf':function(_0x531f18,_0x52e9de,_0x55d05a){return void 0x0!==_0x52e9de&&_0x531f18 instanceof _0x52e9de?_0x531f18:_0x55d05a;},'ensureArrayInstanceOf':function(_0x531f18,_0x52e9de,_0x55d05a){if(Array[_0x10de('0x1be')](_0x531f18)){for(var _0x265726=_0x531f18[_0x10de('0xe')]-0x1;0x0<=_0x265726;--_0x265726)if(void 0x0!==_0x52e9de&&_0x531f18[_0x265726]instanceof _0x52e9de==0x0)return _0x55d05a;return _0x531f18;}return this[_0x10de('0x1c0')](_0x531f18,_0x52e9de,_0x55d05a);},'ensureValueOverLifetimeCompliance':function(_0x531f18,_0x52e9de,_0x55d05a){_0x52e9de=_0x52e9de||0x3,_0x55d05a=_0x55d05a||0x3,!0x1===Array[_0x10de('0x1be')](_0x531f18[_0x10de('0x1c1')])&&(_0x531f18[_0x10de('0x1c1')]=[_0x531f18[_0x10de('0x1c1')]]),!0x1===Array[_0x10de('0x1be')](_0x531f18[_0x10de('0x1c2')])&&(_0x531f18['_spread']=[_0x531f18[_0x10de('0x1c2')]]);var _0x265726=this[_0x10de('0x1c3')](_0x531f18['_value'][_0x10de('0xe')],_0x52e9de,_0x55d05a),_0x52e9de=this[_0x10de('0x1c3')](_0x531f18[_0x10de('0x1c2')][_0x10de('0xe')],_0x52e9de,_0x55d05a),_0x55d05a=Math['max'](_0x265726,_0x52e9de);_0x531f18[_0x10de('0x1c1')][_0x10de('0xe')]!==_0x55d05a&&(_0x531f18[_0x10de('0x1c1')]=this[_0x10de('0x1c4')](_0x531f18[_0x10de('0x1c1')],_0x55d05a)),_0x531f18['_spread']['length']!==_0x55d05a&&(_0x531f18[_0x10de('0x1c2')]=this[_0x10de('0x1c4')](_0x531f18[_0x10de('0x1c2')],_0x55d05a));},'interpolateArray':function(_0x531f18,_0x52e9de){for(var _0x55d05a=_0x531f18[_0x10de('0xe')],_0x265726=[_0x10de('0x14')==typeof _0x531f18[0x0][_0x10de('0x1c5')]?_0x531f18[0x0]['clone']():_0x531f18[0x0]],_0x37fec7=(_0x55d05a-0x1)/(_0x52e9de-0x1),_0x12a366=0x1;_0x12a366<_0x52e9de-0x1;++_0x12a366){var _0xc5905f=_0x12a366*_0x37fec7,_0x3fddf1=Math['floor'](_0xc5905f),_0x377ffe=Math[_0x10de('0x7c')](_0xc5905f);_0x265726[_0x12a366]=this['lerpTypeAgnostic'](_0x531f18[_0x3fddf1],_0x531f18[_0x377ffe],_0xc5905f-_0x3fddf1);}return _0x265726[_0x10de('0x84')]('function'==typeof _0x531f18[_0x55d05a-0x1][_0x10de('0x1c5')]?_0x531f18[_0x55d05a-0x1][_0x10de('0x1c5')]():_0x531f18[_0x55d05a-0x1]),_0x265726;},'clamp':function(_0x531f18,_0x52e9de,_0x55d05a){return Math[_0x10de('0x108')](_0x52e9de,Math[_0x10de('0x8e')](_0x531f18,_0x55d05a));},'zeroToEpsilon':function(_0x531f18,_0x52e9de){var _0x55d05a=_0x531f18,_0x55d05a=_0x52e9de?0.00001*Math[_0x10de('0x63')]()*0xa:0.00001;return _0x531f18<0x0&&-0.00001<_0x531f18?-_0x55d05a:_0x55d05a;},'lerpTypeAgnostic':function(_0x531f18,_0x52e9de,_0x55d05a){var _0x265726,_0x37fec7=this[_0x10de('0x1c6')];return(void 0x0===_0x531f18?'undefined':(0x0,_0xc5905f[_0x10de('0x9')])(_0x531f18))===_0x37fec7[_0x10de('0x1c7')]&&(void 0x0===_0x52e9de?_0x10de('0x17'):(0x0,_0xc5905f[_0x10de('0x9')])(_0x52e9de))===_0x37fec7['NUMBER']?_0x531f18+(_0x52e9de-_0x531f18)*_0x55d05a:_0x531f18 instanceof THREE[_0x10de('0x1c8')]&&_0x52e9de instanceof THREE[_0x10de('0x1c8')]?((_0x265726=_0x531f18[_0x10de('0x1c5')]())['x']=this['lerp'](_0x531f18['x'],_0x52e9de['x'],_0x55d05a),_0x265726['y']=this[_0x10de('0x1c9')](_0x531f18['y'],_0x52e9de['y'],_0x55d05a),_0x265726):_0x531f18 instanceof THREE[_0x10de('0x1ca')]&&_0x52e9de instanceof THREE[_0x10de('0x1ca')]?((_0x265726=_0x531f18[_0x10de('0x1c5')]())['x']=this['lerp'](_0x531f18['x'],_0x52e9de['x'],_0x55d05a),_0x265726['y']=this[_0x10de('0x1c9')](_0x531f18['y'],_0x52e9de['y'],_0x55d05a),_0x265726['z']=this[_0x10de('0x1c9')](_0x531f18['z'],_0x52e9de['z'],_0x55d05a),_0x265726):_0x531f18 instanceof THREE['Vector4']&&_0x52e9de instanceof THREE[_0x10de('0x1cb')]?((_0x265726=_0x531f18['clone']())['x']=this['lerp'](_0x531f18['x'],_0x52e9de['x'],_0x55d05a),_0x265726['y']=this[_0x10de('0x1c9')](_0x531f18['y'],_0x52e9de['y'],_0x55d05a),_0x265726['z']=this[_0x10de('0x1c9')](_0x531f18['z'],_0x52e9de['z'],_0x55d05a),_0x265726['w']=this[_0x10de('0x1c9')](_0x531f18['w'],_0x52e9de['w'],_0x55d05a),_0x265726):_0x531f18 instanceof THREE[_0x10de('0x1cc')]&&_0x52e9de instanceof THREE[_0x10de('0x1cc')]?((_0x265726=_0x531f18[_0x10de('0x1c5')]())['r']=this[_0x10de('0x1c9')](_0x531f18['r'],_0x52e9de['r'],_0x55d05a),_0x265726['g']=this[_0x10de('0x1c9')](_0x531f18['g'],_0x52e9de['g'],_0x55d05a),_0x265726['b']=this[_0x10de('0x1c9')](_0x531f18['b'],_0x52e9de['b'],_0x55d05a),_0x265726):void 0x0;},'lerp':function(_0x531f18,_0x52e9de,_0x55d05a){return _0x531f18+(_0x52e9de-_0x531f18)*_0x55d05a;},'roundToNearestMultiple':function(_0x531f18,_0x52e9de){var _0x55d05a;return 0x0===_0x52e9de||0x0==(_0x55d05a=Math[_0x10de('0x1cd')](_0x531f18)%_0x52e9de)?_0x531f18:_0x531f18<0x0?-(Math['abs'](_0x531f18)-_0x55d05a):_0x531f18+_0x52e9de-_0x55d05a;},'arrayValuesAreEqual':function(_0x531f18){for(var _0x52e9de=0x0;_0x52e9de<_0x531f18['length']-0x1;++_0x52e9de)if(_0x531f18[_0x52e9de]!==_0x531f18[_0x52e9de+0x1])return!0x1;return!0x0;},'randomFloat':function(_0x531f18,_0x52e9de){return _0x531f18+_0x52e9de*(Math[_0x10de('0x63')]()-0.5);},'randomVector3':function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726,_0x37fec7){var _0x12a366=_0x55d05a['x']+(Math['random']()*_0x265726['x']-0.5*_0x265726['x']),_0xc5905f=_0x55d05a['y']+(Math[_0x10de('0x63')]()*_0x265726['y']-0.5*_0x265726['y']),_0x55d05a=_0x55d05a['z']+(Math['random']()*_0x265726['z']-0.5*_0x265726['z']);_0x37fec7&&(_0x12a366=0.5*-_0x37fec7['x']+this[_0x10de('0x1ce')](_0x12a366,_0x37fec7['x']),_0xc5905f=0.5*-_0x37fec7['y']+this[_0x10de('0x1ce')](_0xc5905f,_0x37fec7['y']),_0x55d05a=0.5*-_0x37fec7['z']+this[_0x10de('0x1ce')](_0x55d05a,_0x37fec7['z'])),_0x531f18[_0x10de('0x10b')][_0x10de('0xf7')](_0x52e9de,_0x12a366,_0xc5905f,_0x55d05a);},'randomColor':function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726){var _0x37fec7=_0x55d05a['r']+Math[_0x10de('0x63')]()*_0x265726['x'],_0x12a366=_0x55d05a['g']+Math[_0x10de('0x63')]()*_0x265726['y'],_0x55d05a=_0x55d05a['b']+Math[_0x10de('0x63')]()*_0x265726['z'],_0x37fec7=this[_0x10de('0x1c3')](_0x37fec7,0x0,0x1),_0x12a366=this[_0x10de('0x1c3')](_0x12a366,0x0,0x1),_0x55d05a=this[_0x10de('0x1c3')](_0x55d05a,0x0,0x1);_0x531f18[_0x10de('0x10b')][_0x10de('0xf7')](_0x52e9de,_0x37fec7,_0x12a366,_0x55d05a);},'randomColorAsHex':(_0x1a2832=new THREE['Color'](),function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726){for(var _0x37fec7=_0x55d05a['length'],_0x12a366=[],_0xc5905f=0x0;_0xc5905f<_0x37fec7;++_0xc5905f){var _0x3fddf1=_0x265726[_0xc5905f];_0x1a2832['copy'](_0x55d05a[_0xc5905f]),_0x1a2832['r']+=Math['random']()*_0x3fddf1['x']-0.5*_0x3fddf1['x'],_0x1a2832['g']+=Math[_0x10de('0x63')]()*_0x3fddf1['y']-0.5*_0x3fddf1['y'],_0x1a2832['b']+=Math['random']()*_0x3fddf1['z']-0.5*_0x3fddf1['z'],_0x1a2832['r']=this[_0x10de('0x1c3')](_0x1a2832['r'],0x0,0x1),_0x1a2832['g']=this[_0x10de('0x1c3')](_0x1a2832['g'],0x0,0x1),_0x1a2832['b']=this[_0x10de('0x1c3')](_0x1a2832['b'],0x0,0x1),_0x12a366[_0x10de('0x84')](_0x1a2832[_0x10de('0x1cf')]());}_0x531f18[_0x10de('0x10b')][_0x10de('0xf8')](_0x52e9de,_0x12a366[0x0],_0x12a366[0x1],_0x12a366[0x2],_0x12a366[0x3]);}),'randomVector3OnSphere':function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726,_0x37fec7,_0x12a366,_0xc5905f,_0x3fddf1){var _0x377ffe=0x2*Math['random']()-0x1,_0x16520f=6.2832*Math[_0x10de('0x63')](),_0x31955c=Math[_0x10de('0x1d0')](0x1-_0x377ffe*_0x377ffe),_0x265726=this['randomFloat'](_0x265726,_0x37fec7);_0xc5905f&&(_0x265726=Math[_0x10de('0x1d1')](_0x265726/_0xc5905f)*_0xc5905f),_0x37fec7=_0x31955c*Math[_0x10de('0x5b')](_0x16520f)*_0x265726,_0xc5905f=_0x31955c*Math['sin'](_0x16520f)*_0x265726,_0x31955c=_0x377ffe*_0x265726,_0x37fec7*=_0x12a366['x'],_0xc5905f*=_0x12a366['y'],_0x31955c*=_0x12a366['z'],_0x37fec7+=_0x55d05a['x'],_0xc5905f+=_0x55d05a['y'],_0x31955c+=_0x55d05a['z'],_0x531f18[_0x10de('0x10b')][_0x10de('0xf7')](_0x52e9de,_0x37fec7,_0xc5905f,_0x31955c);},'seededRandom':function(_0x531f18){_0x531f18=0x2710*Math[_0x10de('0x5c')](_0x531f18);return _0x531f18-(0x0|_0x531f18);},'randomVector3OnDisc':function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726,_0x37fec7,_0x12a366,_0xc5905f){var _0x3fddf1=6.2832*Math[_0x10de('0x63')](),_0x265726=Math['abs'](this[_0x10de('0x1d2')](_0x265726,_0x37fec7)),_0x37fec7=0x0;_0xc5905f&&(_0x265726=Math[_0x10de('0x1d1')](_0x265726/_0xc5905f)*_0xc5905f),_0xc5905f=Math['cos'](_0x3fddf1)*_0x265726,_0x3fddf1=Math[_0x10de('0x5c')](_0x3fddf1)*_0x265726,_0xc5905f*=_0x12a366['x'],_0x3fddf1*=_0x12a366['y'],_0xc5905f+=_0x55d05a['x'],_0x3fddf1+=_0x55d05a['y'],_0x37fec7+=_0x55d05a['z'],_0x531f18[_0x10de('0x10b')][_0x10de('0xf7')](_0x52e9de,_0xc5905f,_0x3fddf1,_0x37fec7);},'randomDirectionVector3OnSphere':(_0x3cd0a9=new THREE[(_0x10de('0x1ca'))](),function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726,_0x37fec7,_0x12a366,_0xc5905f,_0x3fddf1){_0x3cd0a9[_0x10de('0x1d3')](_0x12a366),_0x3cd0a9['x']-=_0x55d05a,_0x3cd0a9['y']-=_0x265726,_0x3cd0a9['z']-=_0x37fec7,_0x3cd0a9[_0x10de('0x1d4')]()['multiplyScalar'](-this[_0x10de('0x1d2')](_0xc5905f,_0x3fddf1)),_0x531f18['typedArray'][_0x10de('0xf7')](_0x52e9de,_0x3cd0a9['x'],_0x3cd0a9['y'],_0x3cd0a9['z']);}),'randomDirectionVector3OnDisc':(_0x3a9c0f=new THREE['Vector3'](),function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726,_0x37fec7,_0x12a366,_0xc5905f,_0x3fddf1){_0x3a9c0f[_0x10de('0x1d3')](_0x12a366),_0x3a9c0f['x']-=_0x55d05a,_0x3a9c0f['y']-=_0x265726,_0x3a9c0f['z']-=_0x37fec7,_0x3a9c0f[_0x10de('0x1d4')]()['multiplyScalar'](-this[_0x10de('0x1d2')](_0xc5905f,_0x3fddf1)),_0x531f18[_0x10de('0x10b')][_0x10de('0xf7')](_0x52e9de,_0x3a9c0f['x'],_0x3a9c0f['y'],0x0);}),'getPackedRotationAxis':(_0x377ffe=new THREE[(_0x10de('0x1ca'))](),_0x16520f=new THREE['Vector3'](),_0x31955c=new THREE[(_0x10de('0x1cc'))](),_0x3f92fd=new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1),function(_0x531f18,_0x52e9de){return _0x377ffe[_0x10de('0x1d3')](_0x531f18)[_0x10de('0x1d4')](),_0x16520f[_0x10de('0x1d3')](_0x52e9de)[_0x10de('0x1d4')](),_0x377ffe['x']+=0.5*-_0x52e9de['x']+Math['random']()*_0x52e9de['x'],_0x377ffe['y']+=0.5*-_0x52e9de['y']+Math[_0x10de('0x63')]()*_0x52e9de['y'],_0x377ffe['z']+=0.5*-_0x52e9de['z']+Math[_0x10de('0x63')]()*_0x52e9de['z'],_0x377ffe[_0x10de('0x1d4')]()[_0x10de('0x1d5')](_0x3f92fd)[_0x10de('0x1d6')](0.5),_0x31955c['setRGB'](_0x377ffe['x'],_0x377ffe['y'],_0x377ffe['z']),_0x31955c[_0x10de('0x1cf')]();})},_0x346aa9[_0x10de('0x1d7')]=function(_0x531f18){var _0x52e9de=_0x346aa9[_0x10de('0x1bd')],_0x55d05a=_0x52e9de[_0x10de('0x1c6')];(_0x531f18=_0x52e9de[_0x10de('0x1bf')](_0x531f18,_0x55d05a['OBJECT'],{}))[_0x10de('0xdc')]=_0x52e9de[_0x10de('0x1bf')](_0x531f18['texture'],_0x55d05a[_0x10de('0x1d8')],{}),this[_0x10de('0x1d9')]=THREE['Math'][_0x10de('0x1da')](),this[_0x10de('0x1db')]=_0x52e9de[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1db')],_0x55d05a['NUMBER'],0.016),this[_0x10de('0xdc')]=_0x52e9de[_0x10de('0x1c0')](_0x531f18['texture'][_0x10de('0x10')],THREE['Texture'],null),this['textureFrames']=_0x52e9de['ensureInstanceOf'](_0x531f18[_0x10de('0xdc')][_0x10de('0x1dc')],THREE[_0x10de('0x1c8')],new THREE['Vector2'](0x1,0x1)),this['textureFrameCount']=_0x52e9de[_0x10de('0x1bf')](_0x531f18[_0x10de('0xdc')]['frameCount'],_0x55d05a[_0x10de('0x1c7')],this['textureFrames']['x']*this[_0x10de('0x1dd')]['y']),this['textureLoop']=_0x52e9de['ensureTypedArg'](_0x531f18[_0x10de('0xdc')]['loop'],_0x55d05a['NUMBER'],0x1),this['textureFrames']['max'](new THREE[(_0x10de('0x1c8'))](0x1,0x1)),this['hasPerspective']=_0x52e9de[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1de')],_0x55d05a[_0x10de('0x1df')],!0x0),this[_0x10de('0x1e0')]=_0x52e9de[_0x10de('0x1bf')](_0x531f18['colorize'],_0x55d05a[_0x10de('0x1df')],!0x0),this['maxParticleCount']=_0x52e9de[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1e1')],_0x55d05a[_0x10de('0x1c7')],null),this[_0x10de('0x1e2')]=_0x52e9de[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1e2')],_0x55d05a[_0x10de('0x1c7')],THREE[_0x10de('0x1e3')]),this[_0x10de('0x1e4')]=_0x52e9de[_0x10de('0x1bf')](_0x531f18['transparent'],_0x55d05a[_0x10de('0x1df')],!0x0),this['alphaTest']=parseFloat(_0x52e9de[_0x10de('0x1bf')](_0x531f18['alphaTest'],_0x55d05a['NUMBER'],0x0)),this[_0x10de('0x1e5')]=_0x52e9de[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1e5')],_0x55d05a[_0x10de('0x1df')],!0x1),this[_0x10de('0x1e6')]=_0x52e9de[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1e6')],_0x55d05a[_0x10de('0x1df')],!0x0),this[_0x10de('0x1e7')]=_0x52e9de['ensureTypedArg'](_0x531f18['fog'],_0x55d05a[_0x10de('0x1df')],!0x0),this[_0x10de('0x1e8')]=_0x52e9de[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1e8')],_0x55d05a[_0x10de('0x1c7')],0x12c),this[_0x10de('0x1e9')]=[],this['emitterIDs']=[],this[_0x10de('0x1ea')]=[],this[_0x10de('0x1eb')]=null,this[_0x10de('0x1ec')]=0x0,this[_0x10de('0x1ed')]=!0x1,this['_attributesNeedDynamicReset']=!0x1,this[_0x10de('0x1ee')]=0x0,this[_0x10de('0x1b4')]={'texture1':{'type':'t','value':this[_0x10de('0xdc')]},'textureAnimation':{'type':'v4','value':new THREE['Vector4'](this['textureFrames']['x'],this[_0x10de('0x1dd')]['y'],this[_0x10de('0x1ef')],Math[_0x10de('0x108')](Math[_0x10de('0x1cd')](this['textureLoop']),0x1))},'fogColor':{'type':'c','value':null},'fogNear':{'type':'f','value':0xa},'fogFar':{'type':'f','value':0xc8},'fogDensity':{'type':'f','value':0.5},'deltaTime':{'type':'f','value':0x0},'runTime':{'type':'f','value':0x0},'scale':{'type':'f','value':this[_0x10de('0x1e8')]}},this[_0x10de('0x17d')]={'HAS_PERSPECTIVE':this[_0x10de('0x1de')],'COLORIZE':this[_0x10de('0x1e0')],'VALUE_OVER_LIFETIME_LENGTH':_0x346aa9['valueOverLifetimeLength'],'SHOULD_ROTATE_TEXTURE':!0x1,'SHOULD_ROTATE_PARTICLES':!0x1,'SHOULD_WIGGLE_PARTICLES':!0x1,'SHOULD_CALCULATE_SPRITE':0x1<this['textureFrames']['x']||0x1<this[_0x10de('0x1dd')]['y']},this[_0x10de('0x17e')]={'position':new _0x346aa9['ShaderAttribute']('v3',!0x0),'acceleration':new _0x346aa9[(_0x10de('0x100'))]('v4',!0x0),'velocity':new _0x346aa9[(_0x10de('0x100'))]('v3',!0x0),'rotation':new _0x346aa9['ShaderAttribute']('v4',!0x0),'rotationCenter':new _0x346aa9[(_0x10de('0x100'))]('v3',!0x0),'params':new _0x346aa9['ShaderAttribute']('v4',!0x0),'size':new _0x346aa9[(_0x10de('0x100'))]('v4',!0x0),'angle':new _0x346aa9[(_0x10de('0x100'))]('v4',!0x0),'color':new _0x346aa9['ShaderAttribute']('v4',!0x0),'opacity':new _0x346aa9[(_0x10de('0x100'))]('v4',!0x0)},this[_0x10de('0x1f0')]=(0x0,_0x12a366[_0x10de('0x9')])(this['attributes']),this[_0x10de('0x1f1')]=this[_0x10de('0x1f0')][_0x10de('0xe')],this[_0x10de('0x40')]=new THREE[(_0x10de('0x1f2'))]({'uniforms':this[_0x10de('0x1b4')],'vertexShader':_0x346aa9[_0x10de('0x1f3')][_0x10de('0x1f4')],'fragmentShader':_0x346aa9[_0x10de('0x1f3')][_0x10de('0x1f5')],'blending':this['blending'],'transparent':this[_0x10de('0x1e4')],'alphaTest':this['alphaTest'],'depthWrite':this['depthWrite'],'depthTest':this[_0x10de('0x1e6')],'defines':this[_0x10de('0x17d')],'fog':this[_0x10de('0x1e7')]}),this[_0x10de('0xd0')]=new THREE['BufferGeometry'](),this[_0x10de('0x1f6')]=new THREE['Points'](this[_0x10de('0xd0')],this[_0x10de('0x40')]),this[_0x10de('0x1e1')];},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xd7')]=_0x346aa9[_0x10de('0x1d7')],_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x1f7')]=function(){for(var _0x531f18,_0x52e9de=this['emitters'],_0x55d05a=_0x52e9de['length']-0x1,_0x265726=this[_0x10de('0x17d')];0x0<=_0x55d05a;--_0x55d05a)_0x531f18=_0x52e9de[_0x55d05a],_0x265726[_0x10de('0x1f8')]||(_0x265726[_0x10de('0x1f9')]=_0x265726[_0x10de('0x1f9')]||!!Math[_0x10de('0x108')](Math[_0x10de('0x108')][_0x10de('0x15')](null,_0x531f18[_0x10de('0x1fa')][_0x10de('0x10')]),Math[_0x10de('0x108')][_0x10de('0x15')](null,_0x531f18['angle'][_0x10de('0x1fb')]))),_0x265726[_0x10de('0x1fc')]=_0x265726[_0x10de('0x1fc')]||!!Math[_0x10de('0x108')](_0x531f18[_0x10de('0x1fd')][_0x10de('0x1fa')],_0x531f18['rotation'][_0x10de('0x1fe')]),_0x265726[_0x10de('0x1ff')]=_0x265726['SHOULD_WIGGLE_PARTICLES']||!!Math[_0x10de('0x108')](_0x531f18[_0x10de('0x200')]['value'],_0x531f18[_0x10de('0x200')][_0x10de('0x1fb')]);this[_0x10de('0x40')]['needsUpdate']=!0x0;},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x201')]=function(){var _0x531f18,_0x52e9de,_0x55d05a,_0x265726=this[_0x10de('0x17e')],_0x37fec7=this[_0x10de('0xd0')],_0x12a366=_0x37fec7[_0x10de('0x17e')];for(_0x55d05a in _0x265726)_0x265726[_0x10de('0xb')](_0x55d05a)&&(_0x531f18=_0x265726[_0x55d05a],(_0x52e9de=_0x12a366[_0x55d05a])?_0x52e9de[_0x10de('0xec')]=_0x531f18[_0x10de('0x10b')]['array']:_0x37fec7[_0x10de('0x202')](_0x55d05a,_0x531f18[_0x10de('0x102')]),_0x531f18['bufferAttribute'][_0x10de('0x10c')]=!0x0);this['geometry'][_0x10de('0x203')](0x0,this[_0x10de('0x1ee')]);},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x204')]=function(_0x531f18){if(_0x531f18 instanceof _0x346aa9['Emitter']==0x0)console[_0x10de('0x205')](_0x10de('0x206'),_0x531f18);else if(-0x1<this[_0x10de('0x207')][_0x10de('0x4d')](_0x531f18[_0x10de('0x1d9')]))console[_0x10de('0x205')](_0x10de('0x208'));else{if(null===_0x531f18['group']){var _0x52e9de,_0x55d05a=this[_0x10de('0x17e')],_0x265726=this['particleCount'],_0x37fec7=_0x265726+_0x531f18[_0x10de('0x1ee')];for(_0x52e9de in this[_0x10de('0x1ee')]=_0x37fec7,null!==this[_0x10de('0x1e1')]&&this[_0x10de('0x1ee')]>this[_0x10de('0x1e1')]&&(this[_0x10de('0x1ee')],this[_0x10de('0x1e1')]),_0x531f18[_0x10de('0x209')](_0x531f18[_0x10de('0x20a')][_0x10de('0x1c1')]+_0x531f18[_0x10de('0x20a')][_0x10de('0x1c2')]),_0x531f18[_0x10de('0x20b')](this[_0x10de('0x1f0')]),_0x531f18[_0x10de('0x20c')](_0x265726),_0x531f18['group']=this,_0x531f18[_0x10de('0x17e')]=this[_0x10de('0x17e')],_0x55d05a)_0x55d05a['hasOwnProperty'](_0x52e9de)&&_0x55d05a[_0x52e9de][_0x10de('0x112')](null!==this[_0x10de('0x1e1')]?this[_0x10de('0x1e1')]:this[_0x10de('0x1ee')]);for(var _0x12a366=_0x265726;_0x12a366<_0x37fec7;++_0x12a366)_0x531f18['_assignPositionValue'](_0x12a366),_0x531f18[_0x10de('0x20d')](_0x12a366,'velocity'),_0x531f18[_0x10de('0x20d')](_0x12a366,_0x10de('0x20e')),_0x531f18[_0x10de('0x20f')](_0x12a366,'opacity'),_0x531f18[_0x10de('0x20f')](_0x12a366,'size'),_0x531f18[_0x10de('0x210')](_0x12a366),_0x531f18[_0x10de('0x211')](_0x12a366),_0x531f18[_0x10de('0x212')](_0x12a366),_0x531f18[_0x10de('0x213')](_0x12a366);return this['_applyAttributesToGeometry'](),this[_0x10de('0x1e9')][_0x10de('0x84')](_0x531f18),this[_0x10de('0x207')][_0x10de('0x84')](_0x531f18[_0x10de('0x1d9')]),this['_updateDefines'](_0x531f18),this[_0x10de('0x40')][_0x10de('0x10c')]=!0x0,this[_0x10de('0xd0')]['needsUpdate']=!0x0,this[_0x10de('0x1ed')]=!0x0,this;}console[_0x10de('0x205')](_0x10de('0x214'));}},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x215')]=function(_0x531f18){var _0x52e9de=this[_0x10de('0x207')]['indexOf'](_0x531f18['uuid']);if(_0x531f18 instanceof _0x346aa9[_0x10de('0x216')]==0x0)console[_0x10de('0x205')](_0x10de('0x206'),_0x531f18);else if(-0x1===_0x52e9de)console['error'](_0x10de('0x217'));else{for(var _0x55d05a,_0x265726=_0x531f18['attributeOffset'],_0x37fec7=_0x265726+_0x531f18[_0x10de('0x1ee')],_0x12a366=this[_0x10de('0x17e')]['params'][_0x10de('0x10b')],_0xc5905f=_0x265726;_0xc5905f<_0x37fec7;++_0xc5905f)_0x12a366[_0x10de('0xec')][0x4*_0xc5905f]=0x0,_0x12a366['array'][0x4*_0xc5905f+0x1]=0x0;for(_0x55d05a in this[_0x10de('0x1e9')][_0x10de('0xf3')](_0x52e9de,0x1),this[_0x10de('0x207')]['splice'](_0x52e9de,0x1),this[_0x10de('0x17e')])this[_0x10de('0x17e')][_0x10de('0xb')](_0x55d05a)&&this[_0x10de('0x17e')][_0x55d05a][_0x10de('0xf3')](_0x265726,_0x37fec7);this[_0x10de('0x1ee')]-=_0x531f18[_0x10de('0x1ee')],_0x531f18[_0x10de('0x218')](),this[_0x10de('0x1ed')]=!0x0;}},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x219')]=function(){var _0x531f18=this[_0x10de('0x1ea')],_0x52e9de=this[_0x10de('0x1ec')];return _0x531f18[_0x10de('0xe')]?_0x531f18[_0x10de('0x21a')]():_0x52e9de?(_0x531f18=new _0x346aa9[(_0x10de('0x216'))](this[_0x10de('0x1eb')]),this['addEmitter'](_0x531f18),_0x531f18):null;},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x21b')]=function(_0x531f18){if(_0x531f18 instanceof _0x346aa9[_0x10de('0x216')]!=0x0)return _0x531f18[_0x10de('0x21c')](),this[_0x10de('0x1ea')][_0x10de('0x21d')](_0x531f18),this;console['error'](_0x10de('0x21e'),_0x531f18);},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x21f')]=function(){return this['_pool'];},_0x346aa9[_0x10de('0x1d7')]['prototype'][_0x10de('0x220')]=function(_0x531f18,_0x52e9de,_0x55d05a){var _0x265726;this['_poolCreationSettings']=_0x52e9de,this[_0x10de('0x1ec')]=!!_0x55d05a;for(var _0x37fec7=0x0;_0x37fec7<_0x531f18;++_0x37fec7)_0x265726=Array['isArray'](_0x52e9de)?new _0x346aa9[(_0x10de('0x216'))](_0x52e9de[_0x37fec7]):new _0x346aa9[(_0x10de('0x216'))](_0x52e9de),this[_0x10de('0x204')](_0x265726),this[_0x10de('0x21b')](_0x265726);return this;},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x221')]=function(_0x531f18){var _0x52e9de=this[_0x10de('0x219')](),_0x55d05a=this;if(null!==_0x52e9de)return _0x531f18 instanceof THREE['Vector3']&&(_0x52e9de[_0x10de('0x222')]['value'][_0x10de('0x1d3')](_0x531f18),_0x52e9de[_0x10de('0x222')][_0x10de('0x10')]=_0x52e9de[_0x10de('0x222')][_0x10de('0x10')]),_0x52e9de[_0x10de('0x223')](),setTimeout(function(){_0x52e9de[_0x10de('0x224')](),_0x55d05a[_0x10de('0x21b')](_0x52e9de);},0x3e8*Math[_0x10de('0x108')](_0x52e9de[_0x10de('0x225')],_0x52e9de[_0x10de('0x20a')]['value']+_0x52e9de[_0x10de('0x20a')][_0x10de('0x1fb')])),this;},_0x346aa9['Group'][_0x10de('0xa')]['triggerPoolEmitter']=function(_0x531f18,_0x52e9de){if(_0x10de('0x13')==typeof _0x531f18&&0x1<_0x531f18)for(var _0x55d05a=0x0;_0x55d05a<_0x531f18;++_0x55d05a)this[_0x10de('0x221')](_0x52e9de);else this[_0x10de('0x221')](_0x52e9de);return this;},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0x226')]=function(_0x531f18){this['uniforms'][_0x10de('0x227')][_0x10de('0x10')]+=_0x531f18,this[_0x10de('0x1b4')][_0x10de('0x228')]['value']=_0x531f18;},_0x346aa9[_0x10de('0x1d7')]['prototype'][_0x10de('0x229')]=function(){for(var _0x531f18=this[_0x10de('0x1f0')],_0x52e9de=this[_0x10de('0x1f1')]-0x1,_0x55d05a=this[_0x10de('0x17e')];0x0<=_0x52e9de;--_0x52e9de)_0x55d05a[_0x531f18[_0x52e9de]][_0x10de('0x10d')]();},_0x346aa9[_0x10de('0x1d7')]['prototype']['_updateBuffers']=function(_0x531f18){for(var _0x52e9de,_0x55d05a,_0x265726=this['attributeKeys'],_0x37fec7=this[_0x10de('0x1f1')]-0x1,_0x12a366=this['attributes'],_0xc5905f=_0x531f18[_0x10de('0x22a')];0x0<=_0x37fec7;--_0x37fec7)_0x52e9de=_0xc5905f[_0x55d05a=_0x265726[_0x37fec7]],(_0x55d05a=_0x12a366[_0x55d05a])[_0x10de('0x107')](_0x52e9de[_0x10de('0x8e')],_0x52e9de[_0x10de('0x108')]),_0x55d05a['flagUpdate']();},_0x346aa9['Group'][_0x10de('0xa')][_0x10de('0x22b')]=function(_0x531f18){var _0x52e9de=this['emitters'],_0x55d05a=_0x52e9de[_0x10de('0xe')],_0x265726=_0x531f18||this[_0x10de('0x1db')],_0x37fec7=this[_0x10de('0x1f0')],_0x12a366=this[_0x10de('0x17e')];if(this['_updateUniforms'](_0x265726),this[_0x10de('0x229')](),0x0!==_0x55d05a||!0x1!==this[_0x10de('0x1ed')]||!0x1!==this[_0x10de('0x22c')]){for(var _0xc5905f,_0x3fddf1=0x0;_0x3fddf1<_0x55d05a;++_0x3fddf1)(_0xc5905f=_0x52e9de[_0x3fddf1])['tick'](_0x265726),this[_0x10de('0x22d')](_0xc5905f);if(!0x0===this['_attributesNeedDynamicReset']){for(_0x3fddf1=this['attributeCount']-0x1;0x0<=_0x3fddf1;--_0x3fddf1)_0x12a366[_0x37fec7[_0x3fddf1]][_0x10de('0x10e')]();this[_0x10de('0x22c')]=!0x1;}if(!0x0===this[_0x10de('0x1ed')]){for(_0x3fddf1=this[_0x10de('0x1f1')]-0x1;0x0<=_0x3fddf1;--_0x3fddf1)_0x12a366[_0x37fec7[_0x3fddf1]][_0x10de('0x110')]();this['_attributesNeedRefresh']=!0x1,this[_0x10de('0x22c')]=!0x0;}}},_0x346aa9[_0x10de('0x1d7')][_0x10de('0xa')][_0x10de('0xce')]=function(){return this[_0x10de('0xd0')][_0x10de('0xce')](),this['material'][_0x10de('0xce')](),this;},_0x346aa9['Emitter']=function(_0x531f18){var _0x52e9de,_0x55d05a=_0x346aa9[_0x10de('0x1bd')],_0x265726=_0x55d05a['types'],_0x37fec7=_0x346aa9[_0x10de('0x22e')];for(_0x52e9de in(_0x531f18=_0x55d05a['ensureTypedArg'](_0x531f18,_0x265726[_0x10de('0x1d8')],{}))[_0x10de('0x222')]=_0x55d05a['ensureTypedArg'](_0x531f18['position'],_0x265726[_0x10de('0x1d8')],{}),_0x531f18['velocity']=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x22f')],_0x265726['OBJECT'],{}),_0x531f18[_0x10de('0x20e')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x20e')],_0x265726['OBJECT'],{}),_0x531f18[_0x10de('0x230')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x230')],_0x265726['OBJECT'],{}),_0x531f18[_0x10de('0x231')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x231')],_0x265726[_0x10de('0x1d8')],{}),_0x531f18[_0x10de('0x1fd')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1fd')],_0x265726['OBJECT'],{}),_0x531f18['color']=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x232')],_0x265726[_0x10de('0x1d8')],{}),_0x531f18[_0x10de('0x233')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x233')],_0x265726[_0x10de('0x1d8')],{}),_0x531f18[_0x10de('0xe8')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18['size'],_0x265726[_0x10de('0x1d8')],{}),_0x531f18['angle']=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1fa')],_0x265726[_0x10de('0x1d8')],{}),_0x531f18[_0x10de('0x200')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x200')],_0x265726['OBJECT'],{}),_0x531f18['maxAge']=_0x55d05a['ensureTypedArg'](_0x531f18['maxAge'],_0x265726['OBJECT'],{}),_0x531f18[_0x10de('0x234')],this[_0x10de('0x1d9')]=THREE[_0x10de('0x18')][_0x10de('0x1da')](),this[_0x10de('0x85')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x85')],_0x265726['NUMBER'],_0x346aa9[_0x10de('0x235')][_0x10de('0x236')]),this[_0x10de('0x222')]={'_value':_0x55d05a['ensureInstanceOf'](_0x531f18[_0x10de('0x222')]['value'],THREE['Vector3'],new THREE['Vector3']()),'_spread':_0x55d05a[_0x10de('0x1c0')](_0x531f18[_0x10de('0x222')][_0x10de('0x1fb')],THREE[_0x10de('0x1ca')],new THREE[(_0x10de('0x1ca'))]()),'_spreadClamp':_0x55d05a[_0x10de('0x1c0')](_0x531f18['position'][_0x10de('0x237')],THREE['Vector3'],new THREE[(_0x10de('0x1ca'))]()),'_distribution':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x222')]['distribution'],_0x265726[_0x10de('0x1c7')],this[_0x10de('0x85')]),'_randomise':_0x55d05a['ensureTypedArg'](_0x531f18[_0x10de('0x222')][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1),'_radius':_0x55d05a[_0x10de('0x1bf')](_0x531f18['position'][_0x10de('0x230')],_0x265726[_0x10de('0x1c7')],0xa),'_radiusScale':_0x55d05a[_0x10de('0x1c0')](_0x531f18['position'][_0x10de('0x239')],THREE['Vector3'],new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1)),'_distributionClamp':_0x55d05a[_0x10de('0x1bf')](_0x531f18['position'][_0x10de('0x23a')],_0x265726['NUMBER'],0x0)},this[_0x10de('0x22f')]={'_value':_0x55d05a[_0x10de('0x1c0')](_0x531f18[_0x10de('0x22f')]['value'],THREE[_0x10de('0x1ca')],new THREE['Vector3']()),'_spread':_0x55d05a[_0x10de('0x1c0')](_0x531f18[_0x10de('0x22f')][_0x10de('0x1fb')],THREE['Vector3'],new THREE[(_0x10de('0x1ca'))]()),'_distribution':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x22f')][_0x10de('0x23b')],_0x265726['NUMBER'],this[_0x10de('0x85')]),'_randomise':_0x55d05a['ensureTypedArg'](_0x531f18[_0x10de('0x222')][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1)},this['acceleration']={'_value':_0x55d05a[_0x10de('0x1c0')](_0x531f18[_0x10de('0x20e')]['value'],THREE[_0x10de('0x1ca')],new THREE[(_0x10de('0x1ca'))]()),'_spread':_0x55d05a[_0x10de('0x1c0')](_0x531f18['acceleration'][_0x10de('0x1fb')],THREE[_0x10de('0x1ca')],new THREE['Vector3']()),'_distribution':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x20e')][_0x10de('0x23b')],_0x265726['NUMBER'],this[_0x10de('0x85')]),'_randomise':_0x55d05a['ensureTypedArg'](_0x531f18[_0x10de('0x222')][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1)},this[_0x10de('0x231')]={'_value':_0x55d05a['ensureTypedArg'](_0x531f18[_0x10de('0x231')]['value'],_0x265726[_0x10de('0x1c7')],0x0),'_spread':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x231')][_0x10de('0x1fb')],_0x265726['NUMBER'],0x0),'_randomise':_0x55d05a['ensureTypedArg'](_0x531f18[_0x10de('0x222')][_0x10de('0x238')],_0x265726['BOOLEAN'],!0x1)},this['wiggle']={'_value':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x200')]['value'],_0x265726[_0x10de('0x1c7')],0x0),'_spread':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x200')][_0x10de('0x1fb')],_0x265726[_0x10de('0x1c7')],0x0)},this[_0x10de('0x1fd')]={'_axis':_0x55d05a[_0x10de('0x1c0')](_0x531f18[_0x10de('0x1fd')][_0x10de('0x23c')],THREE[_0x10de('0x1ca')],new THREE[(_0x10de('0x1ca'))](0x0,0x1,0x0)),'_axisSpread':_0x55d05a['ensureInstanceOf'](_0x531f18['rotation'][_0x10de('0x23d')],THREE[_0x10de('0x1ca')],new THREE[(_0x10de('0x1ca'))]()),'_angle':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1fd')][_0x10de('0x1fa')],_0x265726[_0x10de('0x1c7')],0x0),'_angleSpread':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1fd')][_0x10de('0x1fe')],_0x265726[_0x10de('0x1c7')],0x0),'_static':_0x55d05a[_0x10de('0x1bf')](_0x531f18['rotation'][_0x10de('0x23e')],_0x265726[_0x10de('0x1df')],!0x1),'_center':_0x55d05a[_0x10de('0x1c0')](_0x531f18[_0x10de('0x1fd')][_0x10de('0x23f')],THREE[_0x10de('0x1ca')],this['position'][_0x10de('0x1c1')][_0x10de('0x1c5')]()),'_randomise':_0x55d05a[_0x10de('0x1bf')](_0x531f18['position']['randomise'],_0x265726[_0x10de('0x1df')],!0x1)},this[_0x10de('0x20a')]={'_value':_0x55d05a[_0x10de('0x1bf')](_0x531f18['maxAge'][_0x10de('0x10')],_0x265726[_0x10de('0x1c7')],0x2),'_spread':_0x55d05a[_0x10de('0x1bf')](_0x531f18['maxAge']['spread'],_0x265726['NUMBER'],0x0)},this[_0x10de('0x232')]={'_value':_0x55d05a['ensureArrayInstanceOf'](_0x531f18[_0x10de('0x232')][_0x10de('0x10')],THREE['Color'],new THREE[(_0x10de('0x1cc'))]()),'_spread':_0x55d05a[_0x10de('0x240')](_0x531f18[_0x10de('0x232')][_0x10de('0x1fb')],THREE['Vector3'],new THREE[(_0x10de('0x1ca'))]()),'_randomise':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x222')][_0x10de('0x238')],_0x265726['BOOLEAN'],!0x1)},this[_0x10de('0x233')]={'_value':_0x55d05a[_0x10de('0x241')](_0x531f18[_0x10de('0x233')][_0x10de('0x10')],_0x265726[_0x10de('0x1c7')],0x1),'_spread':_0x55d05a[_0x10de('0x241')](_0x531f18[_0x10de('0x233')][_0x10de('0x1fb')],_0x265726['NUMBER'],0x0),'_randomise':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x222')][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1)},this[_0x10de('0xe8')]={'_value':_0x55d05a[_0x10de('0x241')](_0x531f18[_0x10de('0xe8')]['value'],_0x265726[_0x10de('0x1c7')],0x1),'_spread':_0x55d05a['ensureArrayTypedArg'](_0x531f18[_0x10de('0xe8')][_0x10de('0x1fb')],_0x265726['NUMBER'],0x0),'_randomise':_0x55d05a['ensureTypedArg'](_0x531f18[_0x10de('0x222')][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1)},this['angle']={'_value':_0x55d05a[_0x10de('0x241')](_0x531f18[_0x10de('0x1fa')]['value'],_0x265726['NUMBER'],0x0),'_spread':_0x55d05a[_0x10de('0x241')](_0x531f18[_0x10de('0x1fa')][_0x10de('0x1fb')],_0x265726[_0x10de('0x1c7')],0x0),'_randomise':_0x55d05a[_0x10de('0x1bf')](_0x531f18['position'][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1)},this[_0x10de('0x1ee')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x1ee')],_0x265726['NUMBER'],0x64),this[_0x10de('0x225')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x225')],_0x265726[_0x10de('0x1c7')],null),this[_0x10de('0x242')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18['isStatic'],_0x265726[_0x10de('0x1df')],!0x1),this['activeMultiplier']=_0x55d05a[_0x10de('0x1bf')](_0x531f18['activeMultiplier'],_0x265726[_0x10de('0x1c7')],0x1),this['direction']=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x243')],_0x265726[_0x10de('0x1c7')],0x1),this[_0x10de('0x244')]=_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x244')],_0x265726[_0x10de('0x1df')],!0x0),this['particlesPerSecond']=0x0,this[_0x10de('0x245')]=0x0,this[_0x10de('0x246')]=0x0,this['attributeEnd']=0x0,this[_0x10de('0x247')]=0x0,this[_0x10de('0x248')]=0x0,this[_0x10de('0x249')]=null,this[_0x10de('0x17e')]=null,this['paramsArray']=null,this['resetFlags']={'position':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x222')][_0x10de('0x238')],_0x265726['BOOLEAN'],!0x1)||_0x55d05a[_0x10de('0x1bf')](_0x531f18['radius']['randomise'],_0x265726[_0x10de('0x1df')],!0x1),'velocity':_0x55d05a[_0x10de('0x1bf')](_0x531f18['velocity'][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1),'acceleration':_0x55d05a[_0x10de('0x1bf')](_0x531f18['acceleration'][_0x10de('0x238')],_0x265726['BOOLEAN'],!0x1)||_0x55d05a[_0x10de('0x1bf')](_0x531f18['drag'][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1),'rotation':_0x55d05a[_0x10de('0x1bf')](_0x531f18['rotation'][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1),'rotationCenter':_0x55d05a['ensureTypedArg'](_0x531f18[_0x10de('0x1fd')][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1),'size':_0x55d05a['ensureTypedArg'](_0x531f18[_0x10de('0xe8')]['randomise'],_0x265726['BOOLEAN'],!0x1),'color':_0x55d05a[_0x10de('0x1bf')](_0x531f18[_0x10de('0x232')][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1),'opacity':_0x55d05a[_0x10de('0x1bf')](_0x531f18['opacity'][_0x10de('0x238')],_0x265726['BOOLEAN'],!0x1),'angle':_0x55d05a[_0x10de('0x1bf')](_0x531f18['angle'][_0x10de('0x238')],_0x265726[_0x10de('0x1df')],!0x1)},this['updateFlags']={},this[_0x10de('0x24a')]={},this[_0x10de('0x24b')]={'maxAge':_0x10de('0x24c'),'position':_0x10de('0x222'),'velocity':'velocity','acceleration':_0x10de('0x20e'),'drag':_0x10de('0x20e'),'wiggle':_0x10de('0x24c'),'rotation':_0x10de('0x1fd'),'size':_0x10de('0xe8'),'color':_0x10de('0x232'),'opacity':_0x10de('0x233'),'angle':'angle'},this[_0x10de('0x24b')])this['updateMap'][_0x10de('0xb')](_0x52e9de)&&(this[_0x10de('0x24a')][this['updateMap'][_0x52e9de]]=0x0,this[_0x10de('0x24d')][this[_0x10de('0x24b')][_0x52e9de]]=!0x1,this['_createGetterSetters'](this[_0x52e9de],_0x52e9de));this[_0x10de('0x22a')]={},this[_0x10de('0x1f0')]=null,this[_0x10de('0x1f1')]=0x0,_0x55d05a[_0x10de('0x24e')](this[_0x10de('0x232')],_0x37fec7,_0x37fec7),_0x55d05a[_0x10de('0x24e')](this[_0x10de('0x233')],_0x37fec7,_0x37fec7),_0x55d05a['ensureValueOverLifetimeCompliance'](this[_0x10de('0xe8')],_0x37fec7,_0x37fec7),_0x55d05a[_0x10de('0x24e')](this[_0x10de('0x1fa')],_0x37fec7,_0x37fec7);},_0x346aa9['Emitter'][_0x10de('0xd7')]=_0x346aa9['Emitter'],_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x24f')]=function(_0x531f18,_0x12a366){var _0x52e9de,_0x55d05a,_0xc5905f=this;for(_0x52e9de in _0x531f18)_0x531f18['hasOwnProperty'](_0x52e9de)&&(_0x55d05a=_0x52e9de[_0x10de('0x57')]('_',''),(0x0,_0x37fec7[_0x10de('0x9')])(_0x531f18,_0x55d05a,{'get':function(_0x531f18){return function(){return this[_0x531f18];};}(_0x52e9de),'set':function(_0x37fec7){return function(_0x531f18){var _0x52e9de=_0xc5905f[_0x10de('0x24b')][_0x12a366],_0x55d05a=this[_0x37fec7],_0x265726=_0x346aa9[_0x10de('0x22e')];_0x10de('0x250')===_0x37fec7?(_0xc5905f[_0x10de('0x24d')][_0x10de('0x251')]=!0x0,_0xc5905f[_0x10de('0x24a')][_0x10de('0x251')]=0x0):_0x10de('0x252')===_0x37fec7?_0xc5905f[_0x10de('0x253')][_0x52e9de]=_0x531f18:(_0xc5905f['updateFlags'][_0x52e9de]=!0x0,_0xc5905f[_0x10de('0x24a')][_0x52e9de]=0x0),_0xc5905f['group'][_0x10de('0x1f7')](),this[_0x37fec7]=_0x531f18,Array[_0x10de('0x1be')](_0x55d05a)&&_0x346aa9[_0x10de('0x1bd')][_0x10de('0x24e')](_0xc5905f[_0x12a366],_0x265726,_0x265726);};}(_0x52e9de)}));},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x20b')]=function(_0x531f18){this[_0x10de('0x1f0')]=_0x531f18,this[_0x10de('0x1f1')]=_0x531f18[_0x10de('0xe')];for(var _0x52e9de=this[_0x10de('0x1f1')]-0x1;0x0<=_0x52e9de;--_0x52e9de)this[_0x10de('0x22a')][_0x531f18[_0x52e9de]]={'min':Number[_0x10de('0x254')],'max':Number['NEGATIVE_INFINITY']};},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x209')]=function(_0x531f18){var _0x52e9de=this[_0x10de('0x1ee')];this[_0x10de('0x225')]?this[_0x10de('0x255')]=_0x52e9de/(_0x531f18<this[_0x10de('0x225')]?_0x531f18:this[_0x10de('0x225')]):this[_0x10de('0x255')]=_0x52e9de/_0x531f18;},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')]['_setAttributeOffset']=function(_0x531f18){this['attributeOffset']=_0x531f18,this[_0x10de('0x245')]=_0x531f18,this[_0x10de('0x256')]=_0x531f18+this[_0x10de('0x1ee')];},_0x346aa9[_0x10de('0x216')]['prototype'][_0x10de('0x257')]=function(_0x531f18,_0x52e9de){switch(_0x531f18){case _0x10de('0x222'):this['_assignPositionValue'](_0x52e9de);break;case _0x10de('0x22f'):case'acceleration':this[_0x10de('0x20d')](_0x52e9de,_0x531f18);break;case _0x10de('0xe8'):case'opacity':this[_0x10de('0x20f')](_0x52e9de,_0x531f18);break;case _0x10de('0x1fa'):this[_0x10de('0x210')](_0x52e9de);break;case'params':this['_assignParamsValue'](_0x52e9de);break;case _0x10de('0x1fd'):this[_0x10de('0x211')](_0x52e9de);break;case _0x10de('0x232'):this[_0x10de('0x213')](_0x52e9de);}},_0x346aa9[_0x10de('0x216')]['prototype'][_0x10de('0x258')]=function(_0x531f18){var _0x52e9de=_0x346aa9[_0x10de('0x235')],_0x55d05a=_0x346aa9[_0x10de('0x1bd')],_0x265726=this['position'],_0x37fec7=this[_0x10de('0x17e')][_0x10de('0x222')],_0x12a366=_0x265726[_0x10de('0x1c1')],_0xc5905f=_0x265726['_spread'];switch(_0x265726[_0x10de('0x259')]){case _0x52e9de[_0x10de('0x236')]:_0x55d05a['randomVector3'](_0x37fec7,_0x531f18,_0x12a366,_0xc5905f,_0x265726[_0x10de('0x25a')]);break;case _0x52e9de[_0x10de('0x25b')]:_0x55d05a['randomVector3OnSphere'](_0x37fec7,_0x531f18,_0x12a366,_0x265726['_radius'],_0x265726[_0x10de('0x1c2')]['x'],_0x265726['_radiusScale'],_0x265726[_0x10de('0x25a')]['x'],_0x265726[_0x10de('0x25c')]||this['particleCount']);break;case _0x52e9de[_0x10de('0x25d')]:_0x55d05a['randomVector3OnDisc'](_0x37fec7,_0x531f18,_0x12a366,_0x265726['_radius'],_0x265726[_0x10de('0x1c2')]['x'],_0x265726['_radiusScale'],_0x265726[_0x10de('0x25a')]['x']);}},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x20d')]=function(_0x531f18,_0x52e9de){var _0x55d05a,_0x265726,_0x37fec7,_0x12a366,_0xc5905f,_0x3fddf1=_0x346aa9['distributions'],_0x377ffe=_0x346aa9[_0x10de('0x1bd')],_0x16520f=this[_0x52e9de],_0x31955c=_0x16520f[_0x10de('0x1c1')],_0x3f92fd=_0x16520f[_0x10de('0x1c2')];switch(_0x16520f[_0x10de('0x259')]){case _0x3fddf1[_0x10de('0x236')]:_0x377ffe[_0x10de('0x25e')](this[_0x10de('0x17e')][_0x52e9de],_0x531f18,_0x31955c,_0x3f92fd);break;case _0x3fddf1[_0x10de('0x25b')]:_0x265726=(_0x55d05a=this[_0x10de('0x17e')][_0x10de('0x222')]['typedArray'][_0x10de('0xec')])[_0xc5905f=0x3*_0x531f18],_0x37fec7=_0x55d05a[_0xc5905f+0x1],_0x12a366=_0x55d05a[_0xc5905f+0x2],_0x377ffe[_0x10de('0x25f')](this[_0x10de('0x17e')][_0x52e9de],_0x531f18,_0x265726,_0x37fec7,_0x12a366,this['position'][_0x10de('0x1c1')],_0x16520f[_0x10de('0x1c1')]['x'],_0x16520f['_spread']['x']);break;case _0x3fddf1[_0x10de('0x25d')]:_0x265726=(_0x55d05a=this['attributes'][_0x10de('0x222')]['typedArray'][_0x10de('0xec')])[_0xc5905f=0x3*_0x531f18],_0x37fec7=_0x55d05a[_0xc5905f+0x1],_0x12a366=_0x55d05a[_0xc5905f+0x2],_0x377ffe[_0x10de('0x260')](this[_0x10de('0x17e')][_0x52e9de],_0x531f18,_0x265726,_0x37fec7,_0x12a366,this[_0x10de('0x222')][_0x10de('0x1c1')],_0x16520f[_0x10de('0x1c1')]['x'],_0x16520f[_0x10de('0x1c2')]['x']);}'acceleration'===_0x52e9de&&(_0x3fddf1=_0x377ffe[_0x10de('0x1c3')](_0x377ffe[_0x10de('0x1d2')](this['drag'][_0x10de('0x1c1')],this['drag'][_0x10de('0x1c2')]),0x0,0x1),this[_0x10de('0x17e')][_0x10de('0x20e')][_0x10de('0x10b')][_0x10de('0xec')][0x4*_0x531f18+0x3]=_0x3fddf1);},_0x346aa9['Emitter']['prototype'][_0x10de('0x20f')]=function(_0x531f18,_0x52e9de){var _0x55d05a,_0x265726=this[_0x10de('0x17e')][_0x52e9de][_0x10de('0x10b')],_0x52e9de=this[_0x52e9de],_0x37fec7=_0x346aa9[_0x10de('0x1bd')];_0x37fec7[_0x10de('0x261')](_0x52e9de[_0x10de('0x1c1')])&&_0x37fec7[_0x10de('0x261')](_0x52e9de['_spread'])?(_0x55d05a=Math[_0x10de('0x1cd')](_0x37fec7['randomFloat'](_0x52e9de['_value'][0x0],_0x52e9de['_spread'][0x0])),_0x265726['setVec4Components'](_0x531f18,_0x55d05a,_0x55d05a,_0x55d05a,_0x55d05a)):_0x265726[_0x10de('0xf8')](_0x531f18,Math[_0x10de('0x1cd')](_0x37fec7[_0x10de('0x1d2')](_0x52e9de['_value'][0x0],_0x52e9de[_0x10de('0x1c2')][0x0])),Math['abs'](_0x37fec7[_0x10de('0x1d2')](_0x52e9de['_value'][0x1],_0x52e9de[_0x10de('0x1c2')][0x1])),Math['abs'](_0x37fec7[_0x10de('0x1d2')](_0x52e9de[_0x10de('0x1c1')][0x2],_0x52e9de[_0x10de('0x1c2')][0x2])),Math[_0x10de('0x1cd')](_0x37fec7[_0x10de('0x1d2')](_0x52e9de['_value'][0x3],_0x52e9de[_0x10de('0x1c2')][0x3])));},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x210')]=function(_0x531f18){var _0x52e9de,_0x55d05a=this[_0x10de('0x17e')][_0x10de('0x1fa')][_0x10de('0x10b')],_0x265726=this[_0x10de('0x1fa')],_0x37fec7=_0x346aa9[_0x10de('0x1bd')];_0x37fec7['arrayValuesAreEqual'](_0x265726[_0x10de('0x1c1')])&&_0x37fec7[_0x10de('0x261')](_0x265726[_0x10de('0x1c2')])?(_0x52e9de=_0x37fec7['randomFloat'](_0x265726[_0x10de('0x1c1')][0x0],_0x265726[_0x10de('0x1c2')][0x0]),_0x55d05a[_0x10de('0xf8')](_0x531f18,_0x52e9de,_0x52e9de,_0x52e9de,_0x52e9de)):_0x55d05a[_0x10de('0xf8')](_0x531f18,_0x37fec7[_0x10de('0x1d2')](_0x265726[_0x10de('0x1c1')][0x0],_0x265726['_spread'][0x0]),_0x37fec7['randomFloat'](_0x265726['_value'][0x1],_0x265726[_0x10de('0x1c2')][0x1]),_0x37fec7[_0x10de('0x1d2')](_0x265726[_0x10de('0x1c1')][0x2],_0x265726[_0x10de('0x1c2')][0x2]),_0x37fec7[_0x10de('0x1d2')](_0x265726['_value'][0x3],_0x265726[_0x10de('0x1c2')][0x3]));},_0x346aa9['Emitter'][_0x10de('0xa')]['_assignParamsValue']=function(_0x531f18){this[_0x10de('0x17e')][_0x10de('0x24c')][_0x10de('0x10b')][_0x10de('0xf8')](_0x531f18,this[_0x10de('0x242')]?0x1:0x0,0x0,Math[_0x10de('0x1cd')](_0x346aa9[_0x10de('0x1bd')][_0x10de('0x1d2')](this[_0x10de('0x20a')][_0x10de('0x1c1')],this['maxAge'][_0x10de('0x1c2')])),_0x346aa9[_0x10de('0x1bd')][_0x10de('0x1d2')](this[_0x10de('0x200')]['_value'],this[_0x10de('0x200')][_0x10de('0x1c2')]));},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x211')]=function(_0x531f18){this[_0x10de('0x17e')][_0x10de('0x1fd')][_0x10de('0x10b')][_0x10de('0xf7')](_0x531f18,_0x346aa9['utils'][_0x10de('0x262')](this[_0x10de('0x1fd')][_0x10de('0x263')],this[_0x10de('0x1fd')]['_axisSpread']),_0x346aa9[_0x10de('0x1bd')][_0x10de('0x1d2')](this[_0x10de('0x1fd')][_0x10de('0x264')],this[_0x10de('0x1fd')][_0x10de('0x265')]),this[_0x10de('0x1fd')][_0x10de('0x266')]?0x0:0x1),this['attributes'][_0x10de('0x251')][_0x10de('0x10b')][_0x10de('0x267')](_0x531f18,this[_0x10de('0x1fd')][_0x10de('0x268')]);},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x213')]=function(_0x531f18){_0x346aa9[_0x10de('0x1bd')]['randomColorAsHex'](this[_0x10de('0x17e')]['color'],_0x531f18,this[_0x10de('0x232')][_0x10de('0x1c1')],this['color'][_0x10de('0x1c2')]);},_0x346aa9[_0x10de('0x216')]['prototype'][_0x10de('0x269')]=function(_0x531f18){for(var _0x52e9de,_0x55d05a,_0x265726=this[_0x10de('0x253')],_0x37fec7=this[_0x10de('0x24d')],_0x12a366=this[_0x10de('0x24a')],_0xc5905f=this[_0x10de('0x1f0')],_0x3fddf1=this['attributeCount']-0x1;0x0<=_0x3fddf1;--_0x3fddf1)_0x55d05a=_0x37fec7[_0x52e9de=_0xc5905f[_0x3fddf1]],!0x0!==_0x265726[_0x52e9de]&&!0x0!==_0x55d05a||(this[_0x10de('0x257')](_0x52e9de,_0x531f18),this[_0x10de('0x26a')](_0x52e9de,_0x531f18),!0x0===_0x55d05a&&_0x12a366[_0x52e9de]===this[_0x10de('0x1ee')]?(_0x37fec7[_0x52e9de]=!0x1,_0x12a366[_0x52e9de]=0x0):0x1==_0x55d05a&&++_0x12a366[_0x52e9de]);},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x26a')]=function(_0x531f18,_0x52e9de){_0x531f18=this[_0x10de('0x22a')][_0x531f18];_0x531f18[_0x10de('0x8e')]=Math[_0x10de('0x8e')](_0x52e9de,_0x531f18['min']),_0x531f18[_0x10de('0x108')]=Math[_0x10de('0x108')](_0x52e9de,_0x531f18['max']);},_0x346aa9['Emitter'][_0x10de('0xa')][_0x10de('0x229')]=function(){for(var _0x531f18,_0x52e9de=this['bufferUpdateRanges'],_0x55d05a=this[_0x10de('0x26b')],_0x265726=this['bufferUpdateCount']-0x1;0x0<=_0x265726;--_0x265726)_0x52e9de[_0x531f18=_0x55d05a[_0x265726]]['min']=Number['POSITIVE_INFINITY'],_0x52e9de[_0x531f18][_0x10de('0x108')]=Number[_0x10de('0x26c')];},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x218')]=function(){this['particlesPerSecond']=0x0,this[_0x10de('0x246')]=0x0,this[_0x10de('0x245')]=0x0,this['activeParticleCount']=0x0,this[_0x10de('0x249')]=null,this['attributes']=null,this['paramsArray']=null,this[_0x10de('0x247')]=0x0;},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x26d')]=function(){--this[_0x10de('0x248')];},_0x346aa9['Emitter'][_0x10de('0xa')][_0x10de('0x26e')]=function(){++this['activeParticleCount'];},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')][_0x10de('0x26f')]=function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726){for(var _0x37fec7,_0x12a366,_0xc5905f,_0x3fddf1,_0x377ffe=_0x52e9de-0x1;_0x531f18<=_0x377ffe;--_0x377ffe)0x0!==(_0x3fddf1=_0x55d05a[_0x37fec7=0x4*_0x377ffe])&&(_0xc5905f=_0x55d05a[0x1+_0x37fec7],_0x12a366=_0x55d05a[0x2+_0x37fec7],0x1===this[_0x10de('0x243')]?_0x12a366<=(_0xc5905f+=_0x265726)&&(_0x3fddf1=_0xc5905f=0x0,this[_0x10de('0x26d')]()):(_0xc5905f-=_0x265726)<=0x0&&(_0xc5905f=_0x12a366,_0x3fddf1=0x0,this[_0x10de('0x26d')]()),_0x55d05a[_0x37fec7]=_0x3fddf1,_0x55d05a[0x1+_0x37fec7]=_0xc5905f,this[_0x10de('0x26a')](_0x10de('0x24c'),_0x377ffe));},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')]['_activateParticles']=function(_0x531f18,_0x52e9de,_0x55d05a,_0x265726){for(var _0x37fec7,_0x12a366,_0xc5905f=this[_0x10de('0x243')],_0x3fddf1=_0x531f18;_0x3fddf1<_0x52e9de;++_0x3fddf1)0x0!=_0x55d05a[_0x37fec7=0x4*_0x3fddf1]&&0x1!==this['particleCount']||(this[_0x10de('0x26e')](),_0x55d05a[_0x37fec7]=0x1,this[_0x10de('0x269')](_0x3fddf1),_0x12a366=_0x265726*(_0x3fddf1-_0x531f18),_0x55d05a[0x1+_0x37fec7]=-0x1===_0xc5905f?_0x55d05a[0x2+_0x37fec7]-_0x12a366:_0x12a366,this[_0x10de('0x26a')](_0x10de('0x24c'),_0x3fddf1));},_0x346aa9['Emitter']['prototype'][_0x10de('0x22b')]=function(_0x531f18){if(!this['isStatic']){null===this['paramsArray']&&(this[_0x10de('0x270')]=this[_0x10de('0x17e')][_0x10de('0x24c')][_0x10de('0x10b')][_0x10de('0xec')]);var _0x52e9de=this[_0x10de('0x246')],_0x55d05a=_0x52e9de+this[_0x10de('0x1ee')],_0x265726=this[_0x10de('0x270')],_0x37fec7=this[_0x10de('0x255')]*this[_0x10de('0x271')]*_0x531f18,_0x12a366=this[_0x10de('0x245')];if(this['_resetBufferRanges'](),this[_0x10de('0x26f')](_0x52e9de,_0x55d05a,_0x265726,_0x531f18),!0x1===this['alive'])this['age']=0x0;else{if(null!==this[_0x10de('0x225')]&&this[_0x10de('0x247')]>this[_0x10de('0x225')])return this[_0x10de('0x244')]=!0x1,void(this[_0x10de('0x247')]=0x0);var _0x12a366=0x1===this['particleCount']?_0x12a366:0x0|_0x12a366,_0xc5905f=Math[_0x10de('0x8e')](_0x12a366+_0x37fec7,this[_0x10de('0x256')]),_0x3fddf1=_0xc5905f-this['activationIndex']|0x0;this[_0x10de('0x272')](_0x12a366,_0xc5905f,_0x265726,0x0<_0x3fddf1?_0x531f18/_0x3fddf1:0x0),this[_0x10de('0x245')]+=_0x37fec7,this[_0x10de('0x245')]>_0x55d05a&&(this[_0x10de('0x245')]=_0x52e9de),this['age']+=_0x531f18;}}},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')]['reset']=function(_0x531f18){if(this[_0x10de('0x247')]=0x0,!(this[_0x10de('0x244')]=!0x1)===_0x531f18){for(var _0x52e9de,_0x55d05a=this[_0x10de('0x246')],_0x531f18=_0x55d05a+this[_0x10de('0x1ee')],_0x265726=this[_0x10de('0x270')],_0x37fec7=this[_0x10de('0x17e')][_0x10de('0x24c')][_0x10de('0x102')],_0x12a366=_0x531f18-0x1;_0x55d05a<=_0x12a366;--_0x12a366)_0x265726[_0x52e9de=0x4*_0x12a366]=0x0,_0x265726[0x1+_0x52e9de]=0x0;_0x37fec7['updateRange'][_0x10de('0x10a')]=0x0,_0x37fec7['updateRange']['count']=-0x1,_0x37fec7[_0x10de('0x10c')]=!0x0;}return this;},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')]['enable']=function(){return this[_0x10de('0x244')]=!0x0,this;},_0x346aa9[_0x10de('0x216')][_0x10de('0xa')]['disable']=function(){return this[_0x10de('0x244')]=!0x1,this;},_0x346aa9['Emitter']['prototype'][_0x10de('0xd2')]=function(){return null!==this[_0x10de('0x249')]?this['group']['removeEmitter'](this):console['error'](_0x10de('0x273')),this;};},function(_0x5cb2b3,_0x1f1b4e,_0x1bdd63){var _0x3065ad=_0x1bdd63(0x3),_0x5e2ab8=_0x1bdd63(0x2),_0x3e1212=_0x1bdd63(0xd);_0x5cb2b3['exports']=function(_0x5cb2b3,_0x1f1b4e){var _0x1bdd63=(_0x5e2ab8[_0x10de('0x91')]||{})[_0x5cb2b3]||Object[_0x5cb2b3],_0x1c6e42={};_0x1c6e42[_0x5cb2b3]=_0x1f1b4e(_0x1bdd63),_0x3065ad(_0x3065ad['S']+_0x3065ad['F']*_0x3e1212(function(){_0x1bdd63(0x1);}),_0x10de('0x91'),_0x1c6e42);};},function(_0x1a8982,_0x1815fb,_0x539fae){var _0x1aebfe=_0x539fae(0x17);_0x1a8982['exports']=Array['isArray']||function(_0x1a8982){return _0x10de('0x69')==_0x1aebfe(_0x1a8982);};},function(_0xc7231e,_0x173403,_0x314ea8){_0xc7231e[_0x10de('0x1')]={'default':_0x314ea8(0x7a),'__esModule':!0x0};},function(_0x4cd395,_0x5ca180){_0x4cd395[_0x10de('0x1')]=function(_0x4cd395,_0x5ca180,_0x374a5f,_0x48142f){if(!(_0x4cd395 instanceof _0x5ca180)||void 0x0!==_0x48142f&&_0x48142f in _0x4cd395)throw TypeError(_0x374a5f+':\x20incorrect\x20invocation!');return _0x4cd395;};},function(_0x5084e3,_0x4e4a42,_0x1fef35){var _0x187021=_0x1fef35(0xb);_0x5084e3['exports']=function(_0x5084e3,_0x4e4a42,_0x1fef35){for(var _0x4189a0 in _0x4e4a42)_0x1fef35&&_0x5084e3[_0x4189a0]?_0x5084e3[_0x4189a0]=_0x4e4a42[_0x4189a0]:_0x187021(_0x5084e3,_0x4189a0,_0x4e4a42[_0x4189a0]);return _0x5084e3;};},function(_0x12807a,_0x29aa00,_0x137622){_0x137622(0x4e);var _0x25bcf2=_0x137622(0x2)['Object'];_0x12807a[_0x10de('0x1')]=function(_0x12807a,_0x29aa00,_0x137622){return _0x25bcf2[_0x10de('0x2')](_0x12807a,_0x29aa00,_0x137622);};},function(_0x1d1c9d,_0xac17d3,_0x2e6677){var _0x421a86=_0x2e6677(0x3);_0x421a86(_0x421a86['S']+_0x421a86['F']*!_0x2e6677(0x7),_0x10de('0x91'),{'defineProperty':_0x2e6677(0x8)['f']});},function(_0x55db3b,_0x5b2393,_0x48da95){_0x48da95(0x1c),_0x48da95(0x1a),_0x55db3b[_0x10de('0x1')]=_0x48da95(0x56);},function(_0xdfd3ed,_0x43596c,_0x478867){'use strict';var _0x1161b8=_0x478867(0x51),_0x58b195=_0x478867(0x42),_0x50e19d=_0x478867(0x10),_0x43c1b6=_0x478867(0xe);_0xdfd3ed['exports']=_0x478867(0x2c)(Array,_0x10de('0x69'),function(_0xdfd3ed,_0x43596c){this['_t']=_0x43c1b6(_0xdfd3ed),this['_i']=0x0,this['_k']=_0x43596c;},function(){var _0xdfd3ed=this['_t'],_0x43596c=this['_k'],_0x478867=this['_i']++;return!_0xdfd3ed||_0x478867>=_0xdfd3ed[_0x10de('0xe')]?(this['_t']=void 0x0,_0x58b195(0x1)):_0x58b195(0x0,'keys'==_0x43596c?_0x478867:_0x10de('0x89')==_0x43596c?_0xdfd3ed[_0x478867]:[_0x478867,_0xdfd3ed[_0x478867]]);},_0x10de('0x89')),_0x50e19d[_0x10de('0x8f')]=_0x50e19d[_0x10de('0x69')],_0x1161b8(_0x10de('0x61')),_0x1161b8(_0x10de('0x89')),_0x1161b8(_0x10de('0x8b'));},function(_0x52fd68,_0x2030b7){_0x52fd68[_0x10de('0x1')]=function(){};},function(_0x59366b,_0x3b9fbe,_0x3a0cd9){'use strict';var _0x37d80f=_0x3a0cd9(0x21),_0x4fba12=_0x3a0cd9(0x16),_0x57c10c=_0x3a0cd9(0x18),_0x5c1e85={};_0x3a0cd9(0xb)(_0x5c1e85,_0x3a0cd9(0x6)(_0x10de('0xcb')),function(){return this;}),_0x59366b[_0x10de('0x1')]=function(_0x59366b,_0x3b9fbe,_0x3a0cd9){_0x59366b[_0x10de('0xa')]=_0x37d80f(_0x5c1e85,{'next':_0x4fba12(0x1,_0x3a0cd9)}),_0x57c10c(_0x59366b,_0x3b9fbe+'\x20Iterator');};},function(_0x383e9b,_0x2c58a1,_0x3ebbe9){var _0x2599ef=_0x3ebbe9(0xe),_0x3b6e95=_0x3ebbe9(0x2f),_0x3914be=_0x3ebbe9(0x54);_0x383e9b['exports']=function(_0x351050){return function(_0x383e9b,_0x2c58a1,_0x3ebbe9){var _0x53e7ed,_0x543605=_0x2599ef(_0x383e9b),_0x1d4b91=_0x3b6e95(_0x543605[_0x10de('0xe')]),_0x43be93=_0x3914be(_0x3ebbe9,_0x1d4b91);if(_0x351050&&_0x2c58a1!=_0x2c58a1){for(;_0x43be93<_0x1d4b91;)if((_0x53e7ed=_0x543605[_0x43be93++])!=_0x53e7ed)return!0x0;}else for(;_0x43be93<_0x1d4b91;_0x43be93++)if((_0x351050||_0x43be93 in _0x543605)&&_0x543605[_0x43be93]===_0x2c58a1)return _0x351050||_0x43be93||0x0;return!_0x351050&&-0x1;};};},function(_0x2f5a29,_0x538e8e,_0x7a1ca1){var _0x3fa21d=_0x7a1ca1(0x23),_0x38c91f=Math['max'],_0x54abab=Math[_0x10de('0x8e')];_0x2f5a29['exports']=function(_0x2f5a29,_0x538e8e){return(_0x2f5a29=_0x3fa21d(_0x2f5a29))<0x0?_0x38c91f(_0x2f5a29+_0x538e8e,0x0):_0x54abab(_0x2f5a29,_0x538e8e);};},function(_0x31bd5c,_0xe679c7,_0x3f69fe){var _0x5aeda7=_0x3f69fe(0x23),_0x1b8b1e=_0x3f69fe(0x20);_0x31bd5c[_0x10de('0x1')]=function(_0x12bd85){return function(_0x31bd5c,_0xe679c7){var _0x3f69fe,_0x31bd5c=String(_0x1b8b1e(_0x31bd5c)),_0xe679c7=_0x5aeda7(_0xe679c7),_0x3c9607=_0x31bd5c[_0x10de('0xe')];return _0xe679c7<0x0||_0x3c9607<=_0xe679c7?_0x12bd85?'':void 0x0:(_0x3f69fe=_0x31bd5c[_0x10de('0x274')](_0xe679c7))<0xd800||0xdbff<_0x3f69fe||_0xe679c7+0x1===_0x3c9607||(_0x3c9607=_0x31bd5c[_0x10de('0x274')](_0xe679c7+0x1))<0xdc00||0xdfff<_0x3c9607?_0x12bd85?_0x31bd5c['charAt'](_0xe679c7):_0x3f69fe:_0x12bd85?_0x31bd5c[_0x10de('0x86')](_0xe679c7,_0xe679c7+0x2):_0x3c9607-0xdc00+(_0x3f69fe-0xd800<<0xa)+0x10000;};};},function(_0x277b92,_0x309fcb,_0x35606e){var _0x591dc0=_0x35606e(0xa),_0x121614=_0x35606e(0x3b);_0x277b92[_0x10de('0x1')]=_0x35606e(0x2)['getIterator']=function(_0x277b92){var _0x309fcb=_0x121614(_0x277b92);if(_0x10de('0x14')!=typeof _0x309fcb)throw TypeError(_0x277b92+_0x10de('0x94'));return _0x591dc0(_0x309fcb[_0x10de('0x0')](_0x277b92));};},function(_0x14e613,_0x28bebe,_0x24cfa2){'use strict';Object[_0x10de('0x2')](_0x28bebe,_0x10de('0x5'),{'value':!0x0}),_0x28bebe[_0x10de('0x275')]=_0x28bebe[_0x10de('0x276')]=_0x28bebe[_0x10de('0x277')]=_0x28bebe[_0x10de('0x278')]=_0x28bebe[_0x10de('0x279')]=_0x28bebe[_0x10de('0x27a')]=_0x28bebe[_0x10de('0x27b')]=_0x28bebe[_0x10de('0x27c')]=void 0x0;var _0x24cfa2=_0x24cfa2(0x45),_0x24cfa2=_0x24cfa2&&_0x24cfa2[_0x10de('0x5')]?_0x24cfa2:{'default':_0x24cfa2},_0xe23379={'CUBE_FLOAT':(0x0,_0x24cfa2[_0x10de('0x9')])('cube_float'),'CYLINDER_FLOAT':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x27d')),'CYLINDER_SPREAD':(0x0,_0x24cfa2[_0x10de('0x9')])('cylinder_spread'),'CIRCLE_ROTATE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x27e')),'CIRCLE_RIPPLE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x27f')),'CIRCLE_BIPS':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x280')),'CIRCLES_RADIAN_ROTATE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x281')),'CIRCLE_BREATH':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x282')),'SPHERE_SPREAD':(0x0,_0x24cfa2[_0x10de('0x9')])('sphere_spread'),'TRANSFER_LINE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x283')),'POINTS_LINE':(0x0,_0x24cfa2[_0x10de('0x9')])('points_line'),'POINTS':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x284')),'UNDERGROUND_LINE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x285')),'NUMBER_UP_BEAM':(0x0,_0x24cfa2[_0x10de('0x9')])('number_up_beam'),'EXTENT_WALL':(0x0,_0x24cfa2[_0x10de('0x9')])('extent_wall'),'FIRE_SMOKE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x286')),'SMOKE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x287')),'SMOKE_SPREAD':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x288')),'FIRE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x289')),'EXPLOSION':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x28a')),'WATER_SPREAD':(0x0,_0x24cfa2['default'])(_0x10de('0x28b')),'FLOAT_POINTS':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x28c')),'ROUTES_LINE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x28d')),'UP_LINE':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x28e')),'PLANE_VIDEO':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x28f')),'GUIDE_LINE':(0x0,_0x24cfa2[_0x10de('0x9')])('guide_line'),'PLANE_WIND':(0x0,_0x24cfa2['default'])(_0x10de('0x290')),'PLANE_FOG':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x291')),'PLANE_TERRAIN':(0x0,_0x24cfa2['default'])(_0x10de('0x292')),'SIGNAL_WIFI':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x293')),'SPRITE_SHEET':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x294'))},_0x24cfa2={'CubeFloatMarker':(0x0,_0x24cfa2[_0x10de('0x9')])('CubeFloatMarker'),'CylinderFloatMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0xb6')),'CylinderSpreadMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x295')),'CircleRotateYMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0xb5')),'CircleRippleMarker':(0x0,_0x24cfa2[_0x10de('0x9')])('CircleRippleMarker'),'CircleBipsMarker':(0x0,_0x24cfa2['default'])('CircleBipsMarker'),'CircleRadianMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x296')),'MultiCircleBreathMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x297')),'CurveLinkLine':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x298')),'UpLine':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x299')),'MulripleMeshLine':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0xa2')),'PointsLine':(0x0,_0x24cfa2[_0x10de('0x9')])('PointsLine'),'Points':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x29a')),'UnderGroundLine':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x29b')),'NumberUpParticle':(0x0,_0x24cfa2[_0x10de('0x9')])('NumberUpParticle'),'SphereSpreadMarker':(0x0,_0x24cfa2['default'])(_0x10de('0x29c')),'ExtentWallMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x29d')),'FireSmokeMarker':(0x0,_0x24cfa2[_0x10de('0x9')])('FireSmokeMarker'),'SmokeMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x29e')),'SmokeSpreadMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x29f')),'FireMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x2a0')),'ExplosionMarker':(0x0,_0x24cfa2[_0x10de('0x9')])('ExplosionMarker'),'WaterSpreadMarker':(0x0,_0x24cfa2['default'])(_0x10de('0x2a1')),'FloatPointsMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x2a2')),'PlaneVideoMarker':(0x0,_0x24cfa2[_0x10de('0x9')])('PlaneVideoMarker'),'GuideLineMarker':(0x0,_0x24cfa2[_0x10de('0x9')])('GuideLineMarker'),'SignalWifiMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x2a3')),'PlaneWindMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x2a4')),'PlaneFogMarker':(0x0,_0x24cfa2[_0x10de('0x9')])('PlaneFogMarker'),'PlaneTerrainMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x2a5')),'SpriteSheetMarker':(0x0,_0x24cfa2[_0x10de('0x9')])(_0x10de('0x2a6'))};_0x28bebe[_0x10de('0x27c')]=_0xe23379,_0x28bebe[_0x10de('0x27b')]={'CUBE_FLOAT':0x0,'CYLINDER_FLOAT':0x1,'CYLINDER_SPREAD':0x1,'CIRCLE_ROTATE':0x0,'CIRCLE_RIPPLE':0x1,'CIRCLE_BIPS':0x1,'CIRCLES_RADIAN_ROTATE':0x1,'CIRCLE_BREATH':0x0,'SPHERE_SPREAD':0x1,'TRANSFER_LINE':0x1,'POINTS_LINE':0x1,'POINTS':0x1,'UNDERGROUND_LINE':0x0,'NUMBER_UP_BEAM':0x1,'EXTENT_WALL':0x1,'FIRE_SMOKE':0x1,'SMOKE':0x1,'SMOKE_SPREAD':0x1,'FIRE':0x1,'EXPLOSION':0x1,'WATER_SPREAD':0x1,'FLOAT_POINTS':0x1,'ROUTES_LINE':0x0,'UP_LINE':0x1,'PLANE_VIDEO':0x1,'GUIDE_LINE':0x1,'PLANE_WIND':0x1,'PLANE_FOG':0x1,'PLANE_TERRAIN':0x1,'SIGNAL_WIFI':0x1,'SPRITE_SHEET':0x1},_0x28bebe[_0x10de('0x27a')]={'Engine':{'Indoor':_0x10de('0x2a7'),'Park':_0x10de('0x2a8'),'City':_0x10de('0x2a9')},'BuildingTheme':{'Dark':'dark','Light':_0x10de('0x2aa'),'Technology':_0x10de('0x2ab'),'None':'none'},'RoadTheme':{'Style1':_0x10de('0x2ac'),'Style2':'style2'}},_0x28bebe[_0x10de('0x279')]={'BuildingTheme':{'Dark':_0x10de('0x2ad'),'Light':_0x10de('0x2aa'),'Technology':_0x10de('0x2ab'),'None':'none'},'TileTheme':{'Night':_0x10de('0x2ae'),'Day':_0x10de('0x2af')},'RoadTheme':{'Style1':_0x10de('0x2ac'),'Style2':_0x10de('0x2b0')}},_0x28bebe[_0x10de('0x278')]={'BuildingTheme':{'Dark':'dark','Light':_0x10de('0x2aa'),'Technology':_0x10de('0x2ab'),'None':_0x10de('0x72')},'RoadTheme':{'Style1':_0x10de('0x2ac'),'Style2':_0x10de('0x2b0')}},_0x28bebe['ESModelEffectConstant']={'NoFace':_0x10de('0x2b1'),'LineFrame':_0x10de('0x2b2'),'BlendingAdditive':_0x10de('0x2b3')},_0x28bebe[_0x10de('0x276')]={'Buildings':0x1,'Floors':0x2,'Ground':0x3,'Lights':0x4,'Routes':0x5,'Skybox':0x6,'Water':0x7,'Models':0x8,'PostProcessing':0x9,'Shadow':0xa,'Fog':0xb},_0x28bebe[_0x10de('0x275')]=_0x24cfa2;},function(_0x23cfa9,_0x24e790,_0x58cc69){'use strict';var _0x2dad9d=_0x58cc69(0x22);function _0x3b0917(_0x23cfa9){var _0x58cc69,_0x3b0917;this[_0x10de('0x2b4')]=new _0x23cfa9(function(_0x23cfa9,_0x24e790){if(void 0x0!==_0x58cc69||void 0x0!==_0x3b0917)throw TypeError(_0x10de('0x2b5'));_0x58cc69=_0x23cfa9,_0x3b0917=_0x24e790;}),this[_0x10de('0x2b6')]=_0x2dad9d(_0x58cc69),this['reject']=_0x2dad9d(_0x3b0917);}_0x23cfa9[_0x10de('0x1')]['f']=function(_0x23cfa9){return new _0x3b0917(_0x23cfa9);};},function(_0x4b340c,_0x288bb6,_0x42e3a6){_0x4b340c[_0x10de('0x1')]={'default':_0x42e3a6(0x5b),'__esModule':!0x0};},function(_0x2aa3ad,_0xe3850b,_0x2ced27){_0x2aa3ad[_0x10de('0x1')]={'default':_0x2ced27(0x80),'__esModule':!0x0};},function(_0x503f9e,_0x53e71b,_0x1af346){_0x1af346(0x1a),_0x1af346(0x1c),_0x503f9e['exports']=_0x1af346(0x2d)['f']('iterator');},function(_0x143f8d,_0x494b9e,_0x13d813){_0x13d813(0x5d),_0x13d813(0x37),_0x13d813(0x60),_0x13d813(0x61),_0x143f8d['exports']=_0x13d813(0x2)[_0x10de('0x1b')];},function(_0x213841,_0x2157ab,_0x7a3ec3){'use strict';function _0x538100(_0x7a3ec3){var _0x4a25c8=_0x183dab[_0x7a3ec3]=_0x1a96ae(_0x3dde2a[_0x58ba06]);return _0x4a25c8['_k']=_0x7a3ec3,_0x4a25c8;}function _0x2bd1c1(_0x7a3ec3,_0x10d2fd){_0x2a111b(_0x7a3ec3);for(var _0x2bd1c1,_0x538100=_0xe3a538(_0x10d2fd=_0x1c4fdc(_0x10d2fd)),_0x378cbe=0x0,_0x474bb5=_0x538100[_0x10de('0xe')];_0x378cbe<_0x474bb5;)_0x3a9bff(_0x7a3ec3,_0x2bd1c1=_0x538100[_0x378cbe++],_0x10d2fd[_0x2bd1c1]);return _0x7a3ec3;}function _0x47f3db(_0x7a3ec3){var _0x47f3db=_0x16fc84[_0x10de('0x0')](this,_0x7a3ec3=_0x265bfb(_0x7a3ec3,!0x0));return!(this===_0x4d85d3&&_0x5ebec7(_0x183dab,_0x7a3ec3)&&!_0x5ebec7(_0x7e061a,_0x7a3ec3))&&(!(_0x47f3db||!_0x5ebec7(this,_0x7a3ec3)||!_0x5ebec7(_0x183dab,_0x7a3ec3)||_0x5ebec7(this,_0x52e3c4)&&this[_0x52e3c4][_0x7a3ec3])||_0x47f3db);}function _0x41be0d(_0x7a3ec3,_0x47f3db){var _0x2bd1c1;if(_0x7a3ec3=_0x1c4fdc(_0x7a3ec3),_0x47f3db=_0x265bfb(_0x47f3db,!0x0),_0x7a3ec3!==_0x4d85d3||!_0x5ebec7(_0x183dab,_0x47f3db)||_0x5ebec7(_0x7e061a,_0x47f3db))return!(_0x2bd1c1=_0x126a15(_0x7a3ec3,_0x47f3db))||!_0x5ebec7(_0x183dab,_0x47f3db)||_0x5ebec7(_0x7a3ec3,_0x52e3c4)&&_0x7a3ec3[_0x52e3c4][_0x47f3db]||(_0x2bd1c1[_0x10de('0xf')]=!0x0),_0x2bd1c1;}function _0x1faff8(_0x7a3ec3){for(var _0x47f3db,_0x2bd1c1=_0x3f51e0(_0x1c4fdc(_0x7a3ec3)),_0x538100=[],_0x41be0d=0x0;_0x2bd1c1['length']>_0x41be0d;)_0x5ebec7(_0x183dab,_0x47f3db=_0x2bd1c1[_0x41be0d++])||_0x47f3db==_0x52e3c4||_0x47f3db==_0x181d17||_0x538100[_0x10de('0x84')](_0x47f3db);return _0x538100;}function _0x1034ca(_0x7a3ec3){for(var _0x47f3db,_0x2bd1c1=_0x7a3ec3===_0x4d85d3,_0x538100=_0x3f51e0(_0x2bd1c1?_0x7e061a:_0x1c4fdc(_0x7a3ec3)),_0x41be0d=[],_0x1faff8=0x0;_0x538100[_0x10de('0xe')]>_0x1faff8;)!_0x5ebec7(_0x183dab,_0x47f3db=_0x538100[_0x1faff8++])||_0x2bd1c1&&!_0x5ebec7(_0x4d85d3,_0x47f3db)||_0x41be0d[_0x10de('0x84')](_0x183dab[_0x47f3db]);return _0x41be0d;}function _0x3a9bff(_0x7a3ec3,_0x47f3db,_0x2bd1c1){return _0x7a3ec3===_0x4d85d3&&_0x3a9bff(_0x7e061a,_0x47f3db,_0x2bd1c1),_0x2a111b(_0x7a3ec3),_0x47f3db=_0x265bfb(_0x47f3db,!0x0),_0x2a111b(_0x2bd1c1),_0x5ebec7(_0x183dab,_0x47f3db)?(_0x2bd1c1['enumerable']?(_0x5ebec7(_0x7a3ec3,_0x52e3c4)&&_0x7a3ec3[_0x52e3c4][_0x47f3db]&&(_0x7a3ec3[_0x52e3c4][_0x47f3db]=!0x1),_0x2bd1c1=_0x1a96ae(_0x2bd1c1,{'enumerable':_0x37111d(0x0,!0x1)})):(_0x5ebec7(_0x7a3ec3,_0x52e3c4)||_0x315729(_0x7a3ec3,_0x52e3c4,_0x37111d(0x1,{})),_0x7a3ec3[_0x52e3c4][_0x47f3db]=!0x0),_0x16c209(_0x7a3ec3,_0x47f3db,_0x2bd1c1)):_0x315729(_0x7a3ec3,_0x47f3db,_0x2bd1c1);}var _0x3b8aea=_0x7a3ec3(0x4),_0x5ebec7=_0x7a3ec3(0xc),_0x326320=_0x7a3ec3(0x7),_0x22ae90=_0x7a3ec3(0x3),_0x4a4001=_0x7a3ec3(0x39),_0x181d17=_0x7a3ec3(0x3c)[_0x10de('0x2b7')],_0x324012=_0x7a3ec3(0xd),_0x45ed3a=_0x7a3ec3(0x26),_0x3f4143=_0x7a3ec3(0x18),_0x514415=_0x7a3ec3(0x19),_0x4fe74a=_0x7a3ec3(0x6),_0x46716e=_0x7a3ec3(0x2d),_0x17a24f=_0x7a3ec3(0x2e),_0xe3a538=_0x7a3ec3(0x5e),_0x4a5e7f=_0x7a3ec3(0x49),_0x2a111b=_0x7a3ec3(0xa),_0x59cdab=_0x7a3ec3(0x9),_0x133394=_0x7a3ec3(0x12),_0x1c4fdc=_0x7a3ec3(0xe),_0x265bfb=_0x7a3ec3(0x29),_0x37111d=_0x7a3ec3(0x16),_0x1a96ae=_0x7a3ec3(0x21),_0x4460e7=_0x7a3ec3(0x5f),_0xe7a8f=_0x7a3ec3(0x41),_0x26d5bc=_0x7a3ec3(0x31),_0x2e62a3=_0x7a3ec3(0x8),_0x1cdd75=_0x7a3ec3(0x15),_0x126a15=_0xe7a8f['f'],_0x315729=_0x2e62a3['f'],_0x3f51e0=_0x4460e7['f'],_0x3dde2a=_0x3b8aea[_0x10de('0x1b')],_0x2fde51=_0x3b8aea['JSON'],_0x19a344=_0x2fde51&&_0x2fde51[_0x10de('0x2b8')],_0x58ba06=_0x10de('0xa'),_0x52e3c4=_0x4fe74a(_0x10de('0x2b9')),_0x4d7992=_0x4fe74a('toPrimitive'),_0x16fc84={}[_0x10de('0x6a')],_0x488378=_0x45ed3a(_0x10de('0x2ba')),_0x183dab=_0x45ed3a(_0x10de('0x2bb')),_0x7e061a=_0x45ed3a(_0x10de('0x2bc')),_0x4d85d3=Object[_0x58ba06],_0x45ed3a='function'==typeof _0x3dde2a&&!!_0x26d5bc['f'],_0x1b7e85=_0x3b8aea['QObject'],_0x467569=!_0x1b7e85||!_0x1b7e85[_0x58ba06]||!_0x1b7e85[_0x58ba06][_0x10de('0x2bd')],_0x16c209=_0x326320&&_0x324012(function(){return 0x7!=_0x1a96ae(_0x315729({},'a',{'get':function(){return _0x315729(this,'a',{'value':0x7})['a'];}}))['a'];})?function(_0x7a3ec3,_0x47f3db,_0x2bd1c1){var _0x538100=_0x126a15(_0x4d85d3,_0x47f3db);_0x538100&&delete _0x4d85d3[_0x47f3db],_0x315729(_0x7a3ec3,_0x47f3db,_0x2bd1c1),_0x538100&&_0x7a3ec3!==_0x4d85d3&&_0x315729(_0x4d85d3,_0x47f3db,_0x538100);}:_0x315729,_0x5b48b8=_0x45ed3a&&_0x10de('0x93')==typeof _0x3dde2a[_0x10de('0xcb')]?function(_0x7a3ec3){return'symbol'==typeof _0x7a3ec3;}:function(_0x7a3ec3){return _0x7a3ec3 instanceof _0x3dde2a;};_0x45ed3a||(_0x4a4001((_0x3dde2a=function(){if(this instanceof _0x3dde2a)throw TypeError('Symbol\x20is\x20not\x20a\x20constructor!');var _0x47f3db=_0x514415(0x0<arguments[_0x10de('0xe')]?arguments[0x0]:void 0x0),_0x2bd1c1=function(_0x7a3ec3){this===_0x4d85d3&&_0x2bd1c1[_0x10de('0x0')](_0x7e061a,_0x7a3ec3),_0x5ebec7(this,_0x52e3c4)&&_0x5ebec7(this[_0x52e3c4],_0x47f3db)&&(this[_0x52e3c4][_0x47f3db]=!0x1),_0x16c209(this,_0x47f3db,_0x37111d(0x1,_0x7a3ec3));};return _0x326320&&_0x467569&&_0x16c209(_0x4d85d3,_0x47f3db,{'configurable':!0x0,'set':_0x2bd1c1}),_0x538100(_0x47f3db);})[_0x58ba06],'toString',function(){return this['_k'];}),_0xe7a8f['f']=_0x41be0d,_0x2e62a3['f']=_0x3a9bff,_0x7a3ec3(0x40)['f']=_0x4460e7['f']=_0x1faff8,_0x7a3ec3(0x1d)['f']=_0x47f3db,_0x26d5bc['f']=_0x1034ca,_0x326320&&!_0x7a3ec3(0x14)&&_0x4a4001(_0x4d85d3,'propertyIsEnumerable',_0x47f3db,!0x0),_0x46716e['f']=function(_0x7a3ec3){return _0x538100(_0x4fe74a(_0x7a3ec3));}),_0x22ae90(_0x22ae90['G']+_0x22ae90['W']+_0x22ae90['F']*!_0x45ed3a,{'Symbol':_0x3dde2a});for(var _0x584172='hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'[_0x10de('0x68')](','),_0x4a05cb=0x0;_0x584172[_0x10de('0xe')]>_0x4a05cb;)_0x4fe74a(_0x584172[_0x4a05cb++]);for(var _0x1fc88c=_0x1cdd75(_0x4fe74a[_0x10de('0x1d')]),_0x1ba669=0x0;_0x1fc88c[_0x10de('0xe')]>_0x1ba669;)_0x17a24f(_0x1fc88c[_0x1ba669++]);_0x22ae90(_0x22ae90['S']+_0x22ae90['F']*!_0x45ed3a,'Symbol',{'for':function(_0x7a3ec3){return _0x5ebec7(_0x488378,_0x7a3ec3+='')?_0x488378[_0x7a3ec3]:_0x488378[_0x7a3ec3]=_0x3dde2a(_0x7a3ec3);},'keyFor':function(_0x7a3ec3){if(!_0x5b48b8(_0x7a3ec3))throw TypeError(_0x7a3ec3+_0x10de('0x2be'));for(var _0x47f3db in _0x488378)if(_0x488378[_0x47f3db]===_0x7a3ec3)return _0x47f3db;},'useSetter':function(){_0x467569=!0x0;},'useSimple':function(){_0x467569=!0x1;}}),_0x22ae90(_0x22ae90['S']+_0x22ae90['F']*!_0x45ed3a,_0x10de('0x91'),{'create':function(_0x7a3ec3,_0x47f3db){return void 0x0===_0x47f3db?_0x1a96ae(_0x7a3ec3):_0x2bd1c1(_0x1a96ae(_0x7a3ec3),_0x47f3db);},'defineProperty':_0x3a9bff,'defineProperties':_0x2bd1c1,'getOwnPropertyDescriptor':_0x41be0d,'getOwnPropertyNames':_0x1faff8,'getOwnPropertySymbols':_0x1034ca});_0x1b7e85=_0x324012(function(){_0x26d5bc['f'](0x1);});_0x22ae90(_0x22ae90['S']+_0x22ae90['F']*_0x1b7e85,_0x10de('0x91'),{'getOwnPropertySymbols':function(_0x7a3ec3){return _0x26d5bc['f'](_0x133394(_0x7a3ec3));}}),_0x2fde51&&_0x22ae90(_0x22ae90['S']+_0x22ae90['F']*(!_0x45ed3a||_0x324012(function(){var _0x7a3ec3=_0x3dde2a();return _0x10de('0x2bf')!=_0x19a344([_0x7a3ec3])||'{}'!=_0x19a344({'a':_0x7a3ec3})||'{}'!=_0x19a344(Object(_0x7a3ec3));})),_0x10de('0x2c0'),{'stringify':function(_0x7a3ec3){for(var _0x47f3db,_0x2bd1c1,_0x538100=[_0x7a3ec3],_0x41be0d=0x1;_0x41be0d<arguments[_0x10de('0xe')];)_0x538100[_0x10de('0x84')](arguments[_0x41be0d++]);if(_0x2bd1c1=_0x47f3db=_0x538100[0x1],(_0x59cdab(_0x47f3db)||void 0x0!==_0x7a3ec3)&&!_0x5b48b8(_0x7a3ec3))return _0x4a5e7f(_0x47f3db)||(_0x47f3db=function(_0x7a3ec3,_0x47f3db){if(_0x10de('0x14')==typeof _0x2bd1c1&&(_0x47f3db=_0x2bd1c1[_0x10de('0x0')](this,_0x7a3ec3,_0x47f3db)),!_0x5b48b8(_0x47f3db))return _0x47f3db;}),_0x538100[0x1]=_0x47f3db,_0x19a344['apply'](_0x2fde51,_0x538100);}}),_0x3dde2a[_0x58ba06][_0x4d7992]||_0x7a3ec3(0xb)(_0x3dde2a[_0x58ba06],_0x4d7992,_0x3dde2a[_0x58ba06][_0x10de('0x2c1')]),_0x3f4143(_0x3dde2a,_0x10de('0x1b')),_0x3f4143(Math,_0x10de('0x18'),!0x0),_0x3f4143(_0x3b8aea[_0x10de('0x2c0')],_0x10de('0x2c0'),!0x0);},function(_0x592586,_0x3c6e91,_0x3b1324){var _0x3cca8a=_0x3b1324(0x15),_0x47fb4d=_0x3b1324(0x31),_0x3de0ea=_0x3b1324(0x1d);_0x592586[_0x10de('0x1')]=function(_0x592586){var _0x3c6e91=_0x3cca8a(_0x592586),_0x3b1324=_0x47fb4d['f'];if(_0x3b1324)for(var _0x41e693,_0x29a9fa=_0x3b1324(_0x592586),_0x3add17=_0x3de0ea['f'],_0x4d5ac9=0x0;_0x29a9fa[_0x10de('0xe')]>_0x4d5ac9;)_0x3add17[_0x10de('0x0')](_0x592586,_0x41e693=_0x29a9fa[_0x4d5ac9++])&&_0x3c6e91[_0x10de('0x84')](_0x41e693);return _0x3c6e91;};},function(_0x41a27c,_0x13ad34,_0x53831e){var _0x1ea11c=_0x53831e(0xe),_0x43cd19=_0x53831e(0x40)['f'],_0x3a7556={}[_0x10de('0x62')],_0x40febe='object'==typeof window&&window&&Object[_0x10de('0x2c2')]?Object[_0x10de('0x2c2')](window):[];_0x41a27c[_0x10de('0x1')]['f']=function(_0x41a27c){if(!_0x40febe||'[object\x20Window]'!=_0x3a7556['call'](_0x41a27c))return _0x43cd19(_0x1ea11c(_0x41a27c));try{return _0x43cd19(_0x41a27c);}catch(_0x1726d5){return _0x40febe[_0x10de('0x86')]();}};},function(_0x57055d,_0x380abf,_0x3f168a){_0x3f168a(0x2e)(_0x10de('0x2c3'));},function(_0x300d1f,_0x483f34,_0x572906){_0x572906(0x2e)(_0x10de('0x2c4'));},function(_0x18ab86,_0x19626a,_0x262bfb){var _0x1840da=_0x262bfb(0x9);_0x18ab86[_0x10de('0x1')]=function(_0x18ab86,_0x19626a){if(_0x1840da(_0x18ab86)&&_0x18ab86['_t']===_0x19626a)return _0x18ab86;throw TypeError(_0x10de('0x2c5')+_0x19626a+_0x10de('0x2c6'));};},function(_0x43cba1,_0x4dc5d6,_0x53e88d){'use strict';var _0x5f4857=_0x53e88d(0x4),_0x67263e=_0x53e88d(0x2),_0x1817b0=_0x53e88d(0x8),_0xf6d72d=_0x53e88d(0x7),_0x12379c=_0x53e88d(0x6)(_0x10de('0x2c7'));_0x43cba1[_0x10de('0x1')]=function(_0x43cba1){_0x43cba1=(_0x10de('0x14')==typeof _0x67263e[_0x43cba1]?_0x67263e:_0x5f4857)[_0x43cba1];_0xf6d72d&&_0x43cba1&&!_0x43cba1[_0x12379c]&&_0x1817b0['f'](_0x43cba1,_0x12379c,{'configurable':!0x0,'get':function(){return this;}});};},function(_0x32ac0f,_0x72c2b0,_0x36c0cb){_0x36c0cb(0x65),_0x32ac0f[_0x10de('0x1')]=_0x36c0cb(0x2)[_0x10de('0x91')][_0x10de('0x61')];},function(_0x2c4abd,_0x2b39cd,_0x291a5a){var _0x3752d3=_0x291a5a(0x12),_0x197f6a=_0x291a5a(0x15);_0x291a5a(0x48)(_0x10de('0x61'),function(){return function(_0x2c4abd){return _0x197f6a(_0x3752d3(_0x2c4abd));};});},function(_0x4ea812,_0xc1e0d7,_0x8c062c){_0x8c062c(0x67);var _0x141eb1=_0x8c062c(0x2)[_0x10de('0x91')];_0x4ea812['exports']=function(_0x4ea812,_0xc1e0d7){return _0x141eb1[_0x10de('0x7a')](_0x4ea812,_0xc1e0d7);};},function(_0x357151,_0x164107,_0x1a234e){var _0x5b8ad1=_0x1a234e(0x3);_0x5b8ad1(_0x5b8ad1['S'],_0x10de('0x91'),{'create':_0x1a234e(0x21)});},function(_0x515211,_0x49b598,_0x18337b){_0x515211[_0x10de('0x1')]={'default':_0x18337b(0x69),'__esModule':!0x0};},function(_0x165bea,_0xf3ecbc,_0x12bb46){_0x12bb46(0x6a),_0x165bea[_0x10de('0x1')]=_0x12bb46(0x2)[_0x10de('0x91')][_0x10de('0x2c8')];},function(_0x24fcaf,_0x575ba5,_0x49b3f9){var _0x37eb86=_0x49b3f9(0x3);_0x37eb86(_0x37eb86['S']+_0x37eb86['F'],'Object',{'assign':_0x49b3f9(0x6b)});},function(_0x3ad496,_0x2fcf70,_0x3b9444){'use strict';var _0x1bbf67=_0x3b9444(0x7),_0x44fdcd=_0x3b9444(0x15),_0x1959a9=_0x3b9444(0x31),_0x40ff87=_0x3b9444(0x1d),_0x3fad69=_0x3b9444(0x12),_0xea991c=_0x3b9444(0x33),_0x2a1da0=Object['assign'];_0x3ad496[_0x10de('0x1')]=!_0x2a1da0||_0x3b9444(0xd)(function(){var _0x3ad496={},_0x2fcf70={},_0x3b9444=Symbol(),_0x2a5af3='abcdefghijklmnopqrst';return _0x3ad496[_0x3b9444]=0x7,_0x2a5af3[_0x10de('0x68')]('')[_0x10de('0x2c9')](function(_0x3ad496){_0x2fcf70[_0x3ad496]=_0x3ad496;}),0x7!=_0x2a1da0({},_0x3ad496)[_0x3b9444]||Object['keys'](_0x2a1da0({},_0x2fcf70))['join']('')!=_0x2a5af3;})?function(_0x3ad496,_0x2fcf70){for(var _0x3b9444=_0x3fad69(_0x3ad496),_0x1ce7e4=arguments[_0x10de('0xe')],_0x2a1da0=0x1,_0x3caa41=_0x1959a9['f'],_0x199167=_0x40ff87['f'];_0x2a1da0<_0x1ce7e4;)for(var _0x314f71,_0x5e4ab0=_0xea991c(arguments[_0x2a1da0++]),_0x58a8f1=_0x3caa41?_0x44fdcd(_0x5e4ab0)['concat'](_0x3caa41(_0x5e4ab0)):_0x44fdcd(_0x5e4ab0),_0x4619b6=_0x58a8f1['length'],_0x2c6133=0x0;_0x2c6133<_0x4619b6;)_0x314f71=_0x58a8f1[_0x2c6133++],_0x1bbf67&&!_0x199167[_0x10de('0x0')](_0x5e4ab0,_0x314f71)||(_0x3b9444[_0x314f71]=_0x5e4ab0[_0x314f71]);return _0x3b9444;}:_0x2a1da0;},function(_0x30f4e4,_0x51fd5e,_0xa392b6){var _0x20a606=_0xa392b6(0xa);_0x30f4e4[_0x10de('0x1')]=function(_0x51fd5e,_0x30f4e4,_0xa392b6,_0x3bb0bb){try{return _0x3bb0bb?_0x30f4e4(_0x20a606(_0xa392b6)[0x0],_0xa392b6[0x1]):_0x30f4e4(_0xa392b6);}catch(_0x443882){_0x3bb0bb=_0x51fd5e[_0x10de('0xdf')];throw void 0x0!==_0x3bb0bb&&_0x20a606(_0x3bb0bb[_0x10de('0x0')](_0x51fd5e)),_0x443882;}};},function(_0x3f549c,_0x409c56,_0x1fd5cb){var _0x132822=_0x1fd5cb(0x10),_0x1a8b69=_0x1fd5cb(0x6)(_0x10de('0xcb')),_0x51e229=Array['prototype'];_0x3f549c[_0x10de('0x1')]=function(_0x3f549c){return void 0x0!==_0x3f549c&&(_0x132822[_0x10de('0x69')]===_0x3f549c||_0x51e229[_0x1a8b69]===_0x3f549c);};},function(_0x1d6e51,_0x318a9b,_0x581553){var _0x19a750=_0x581553(0xa),_0x9acb0e=_0x581553(0x22),_0x211560=_0x581553(0x6)(_0x10de('0x2c7'));_0x1d6e51['exports']=function(_0x1d6e51,_0x318a9b){var _0x1d6e51=_0x19a750(_0x1d6e51)['constructor'];return void 0x0===_0x1d6e51||null==(_0x1d6e51=_0x19a750(_0x1d6e51)[_0x211560])?_0x318a9b:_0x9acb0e(_0x1d6e51);};},function(_0x218525,_0x4b654a,_0x48ad52){function _0x2bea95(){var _0x218525,_0x4b654a=+this;_0x4c346c['hasOwnProperty'](_0x4b654a)&&(_0x218525=_0x4c346c[_0x4b654a],delete _0x4c346c[_0x4b654a],_0x218525());}function _0x57dfb5(_0x218525){_0x2bea95[_0x10de('0x0')](_0x218525[_0x10de('0x2ca')]);}var _0x5ea616,_0x53637c=_0x48ad52(0xf),_0x2e0d0e=_0x48ad52(0x8b),_0x5f296e=_0x48ad52(0x43),_0x2dff45=_0x48ad52(0x2b),_0x8a193d=_0x48ad52(0x4),_0xf18a99=_0x8a193d[_0x10de('0x2cb')],_0x53b3a4=_0x8a193d[_0x10de('0x2cc')],_0x1fd296=_0x8a193d[_0x10de('0x2cd')],_0x482b44=_0x8a193d['MessageChannel'],_0x5ca732=_0x8a193d[_0x10de('0x2ce')],_0x2d5f9f=0x0,_0x4c346c={},_0x5d3503=_0x10de('0x2cf');_0x53b3a4&&_0x1fd296||(_0x53b3a4=function(_0x218525){for(var _0x4b654a=[],_0x48ad52=0x1;_0x48ad52<arguments[_0x10de('0xe')];)_0x4b654a[_0x10de('0x84')](arguments[_0x48ad52++]);return _0x4c346c[++_0x2d5f9f]=function(){_0x2e0d0e(_0x10de('0x14')==typeof _0x218525?_0x218525:Function(_0x218525),_0x4b654a);},_0x5ea616(_0x2d5f9f),_0x2d5f9f;},_0x1fd296=function(_0x218525){delete _0x4c346c[_0x218525];},_0x10de('0x2cb')==_0x48ad52(0x17)(_0xf18a99)?_0x5ea616=function(_0x218525){_0xf18a99[_0x10de('0x2d0')](_0x53637c(_0x2bea95,_0x218525,0x1));}:_0x5ca732&&_0x5ca732[_0x10de('0x2d1')]?_0x5ea616=function(_0x218525){_0x5ca732['now'](_0x53637c(_0x2bea95,_0x218525,0x1));}:_0x482b44?(_0x482b44=(_0x48ad52=new _0x482b44())[_0x10de('0x2d2')],_0x48ad52[_0x10de('0x2d3')][_0x10de('0x2d4')]=_0x57dfb5,_0x5ea616=_0x53637c(_0x482b44[_0x10de('0x2d5')],_0x482b44,0x1)):_0x8a193d[_0x10de('0x2d6')]&&'function'==typeof postMessage&&!_0x8a193d[_0x10de('0x2d7')]?(_0x5ea616=function(_0x218525){_0x8a193d['postMessage'](_0x218525+'','*');},_0x8a193d[_0x10de('0x2d6')]('message',_0x57dfb5,!0x1)):_0x5ea616=_0x5d3503 in _0x2dff45(_0x10de('0x2d8'))?function(_0x218525){_0x5f296e[_0x10de('0x73')](_0x2dff45(_0x10de('0x2d8')))[_0x5d3503]=function(){_0x5f296e[_0x10de('0x2d9')](this),_0x2bea95[_0x10de('0x0')](_0x218525);};}:function(_0x218525){setTimeout(_0x53637c(_0x2bea95,_0x218525,0x1),0x0);}),_0x218525[_0x10de('0x1')]={'set':_0x53b3a4,'clear':_0x1fd296};},function(_0xfc7988,_0x5f5269){_0xfc7988[_0x10de('0x1')]=function(_0xfc7988){try{return{'e':!0x1,'v':_0xfc7988()};}catch(_0x1bf7df){return{'e':!0x0,'v':_0x1bf7df};}};},function(_0x40cc87,_0x17554d,_0x5512ff){var _0x1a1e86=_0x5512ff(0xa),_0x1d97cf=_0x5512ff(0x9),_0x1ce2cd=_0x5512ff(0x58);_0x40cc87[_0x10de('0x1')]=function(_0x40cc87,_0x17554d){if(_0x1a1e86(_0x40cc87),_0x1d97cf(_0x17554d)&&_0x17554d['constructor']===_0x40cc87)return _0x17554d;_0x40cc87=_0x1ce2cd['f'](_0x40cc87);return(0x0,_0x40cc87['resolve'])(_0x17554d),_0x40cc87[_0x10de('0x2b4')];};},function(_0x121aab,_0xf181ff,_0x47d119){'use strict';Object[_0x10de('0x2')](_0xf181ff,'__esModule',{'value':!0x0});var _0x1ea861=_0x15ac88(_0x47d119(0x1b)),_0xa0c3de=_0x15ac88(_0x47d119(0x0)),_0x3794ce=_0x15ac88(_0x47d119(0x1)),_0xe12ff5=_0x15ac88(_0x47d119(0x1e)),_0x16662a=_0x15ac88(_0x47d119(0x1f));function _0x15ac88(_0x121aab){return _0x121aab&&_0x121aab['__esModule']?_0x121aab:{'default':_0x121aab};}function _0x418f85(_0x121aab){var _0xf181ff=_0x121aab[_0x10de('0x2da')],_0x47d119=_0x121aab['imageWidth'],_0x47d119=void 0x0===_0x47d119?0x100:_0x47d119,_0x3794ce=_0x121aab['imageHeight'],_0x3794ce=void 0x0===_0x3794ce?0x100:_0x3794ce,_0x16662a=_0x121aab[_0x10de('0x2db')],_0x16662a=void 0x0===_0x16662a?0x1:_0x16662a,_0x15ac88=_0x121aab[_0x10de('0x2dc')],_0x15ac88=void 0x0===_0x15ac88?0x1:_0x15ac88,_0x1f94f1=_0x121aab[_0x10de('0x2dd')],_0x1f94f1=void 0x0===_0x1f94f1?0xc:_0x1f94f1,_0x188909=_0x121aab[_0x10de('0x2de')],_0x188909=void 0x0===_0x188909?0x0:_0x188909,_0x121aab=_0x121aab[_0x10de('0x2df')],_0x121aab=void 0x0===_0x121aab?0x0:_0x121aab,_0x1598b5=((0x0,_0xa0c3de[_0x10de('0x9')])(this,_0x418f85),(0x0,_0xe12ff5[_0x10de('0x9')])(this,(_0x418f85[_0x10de('0x6d')]||(0x0,_0x1ea861['default'])(_0x418f85))[_0x10de('0x0')](this)));return _0x1598b5[_0x10de('0x2da')]=_0xf181ff,_0x1598b5['imageWidth']=_0x47d119,_0x1598b5[_0x10de('0x2e0')]=_0x3794ce,_0x1598b5[_0x10de('0x2e1')]=_0x47d119/_0x16662a,_0x1598b5[_0x10de('0x2e2')]=_0x3794ce/_0x15ac88,_0x1598b5['xCount']=_0x16662a,_0x1598b5[_0x10de('0x2dc')]=_0x15ac88,_0x1598b5['fps']=_0x1f94f1,_0x1598b5[_0x10de('0x2e3')]=_0x188909,_0x1598b5[_0x10de('0x2e4')]=_0x121aab,_0x1598b5[_0x10de('0x2e5')]=!0x1,_0x1598b5['texture']=null,_0x1598b5[_0x10de('0x2e6')]=!0x1,_0x1598b5[_0x10de('0x2e7')]={'x':_0x188909,'y':_0x121aab},_0x1598b5[_0x10de('0x2e8')]=!0x0,_0x1598b5[_0x10de('0x2e9')]=!0x1,_0x1598b5[_0x10de('0x2ea')]=0x0,_0x1598b5;}_0x47d119=_0x47d119(0x2a)['EventDispatcher'],(0x0,_0x16662a[_0x10de('0x9')])(_0x418f85,_0x47d119),(0x0,_0x3794ce[_0x10de('0x9')])(_0x418f85,[{'key':_0x10de('0x7a'),'value':function(_0x121aab,_0xf181ff){this[_0x10de('0xdc')]=_0x121aab,_0xf181ff&&(this[_0x10de('0xdc')][_0x10de('0x2eb')]['x']=0x1/this[_0x10de('0x2db')],this[_0x10de('0xdc')][_0x10de('0x2eb')]['y']=0x1/this[_0x10de('0x2dc')],this[_0x10de('0x2e5')]=_0xf181ff),this[_0x10de('0xdc')][_0x10de('0x10c')]=!0x0;}},{'key':_0x10de('0x2ec'),'value':function(){this[_0x10de('0xdc')][_0x10de('0x10a')]['x']=this[_0x10de('0x2e3')]*this[_0x10de('0x2e1')]/this['imageWidth'],this[_0x10de('0xdc')][_0x10de('0x10a')]['y']=(this[_0x10de('0x2e0')]-this[_0x10de('0x2e2')]-this[_0x10de('0x2e4')]*this[_0x10de('0x2e2')])/this['imageHeight'];}},{'key':'update','value':function(){var _0x121aab,_0xf181ff;this[_0x10de('0x2da')]&&this[_0x10de('0xdc')]&&!this['isLockUpdate']&&(_0xf181ff=this['timer'][_0x10de('0x2ed')](),_0x121aab=Math[_0x10de('0x7d')](_0xf181ff*this[_0x10de('0x2dd')]%this[_0x10de('0x2db')]),_0xf181ff=Math[_0x10de('0x7d')](_0xf181ff*this['fps']%this[_0x10de('0x2dc')]),0x1===this[_0x10de('0x2db')]?(this[_0x10de('0xdc')][_0x10de('0x10a')]['x']=0x0,this[_0x10de('0xdc')]['offset']['y']=(this[_0x10de('0x2e0')]-this[_0x10de('0x2e2')]-_0xf181ff*this[_0x10de('0x2e2')])/this[_0x10de('0x2e0')]):_0x121aab!=this[_0x10de('0x2e3')]&&(this[_0x10de('0x2e3')]=_0x121aab,0x0==this['xIndex']&&(this[_0x10de('0x2e4')]++,this[_0x10de('0x2e4')]==this['yCount']&&(this['yIndex']=0x0)),this[_0x10de('0x2e5')]?(this[_0x10de('0xdc')]['offset']['x']=this[_0x10de('0x2e3')]*this[_0x10de('0x2e1')]/this[_0x10de('0x2ee')],this[_0x10de('0xdc')]['offset']['y']=(this['imageHeight']-this[_0x10de('0x2e2')]-this['yIndex']*this['ySize'])/this[_0x10de('0x2e0')]):(this[_0x10de('0xdc')][_0x10de('0x10a')]['x']=this['xIndex']*this[_0x10de('0x2e1')]/this['imageWidth'],this['texture'][_0x10de('0x10a')]['y']=this[_0x10de('0x2e4')]*this[_0x10de('0x2e2')]/this[_0x10de('0x2e0')])),this[_0x10de('0x2e3')]==this[_0x10de('0x2e7')]['x']&&this['yIndex']==this['targetFrame']['y']&&(this[_0x10de('0x2ea')]++,this[_0x10de('0x2e6')]&&this[_0x10de('0x2ef')]({'type':_0x10de('0x2f0')}),!this[_0x10de('0x2e8')]&&0x1<=this['loopCount']&&(this[_0x10de('0x2e9')]=!0x0)));}}]),_0xf181ff[_0x10de('0x9')]=_0x418f85;},function(_0x4d299f,_0x97617,_0x34c401){'use strict';Object['defineProperty'](_0x97617,_0x10de('0x5'),{'value':!0x0}),_0x97617[_0x10de('0x2f1')]=_0x97617[_0x10de('0x2f2')]=_0x97617[_0x10de('0x2f3')]=void 0x0;var _0x34c401=_0x34c401(0x28),_0x5e7070=_0x34c401&&_0x34c401['__esModule']?_0x34c401:{'default':_0x34c401};_0x97617[_0x10de('0x2f3')]=function(_0x4d299f){return new _0x5e7070[(_0x10de('0x9'))](function(_0x97617,_0x34c401){new THREE['FileLoader']()[_0x10de('0xdb')](_0x4d299f,function(_0x4d299f){_0x97617(JSON[_0x10de('0x2f4')](_0x4d299f));},null,function(_0x4d299f){_0x34c401(_0x4d299f);});});},_0x97617[_0x10de('0x2f2')]=function(_0x4d299f){return new _0x5e7070[(_0x10de('0x9'))](function(_0x97617,_0x34c401){new THREE[(_0x10de('0x2f5'))]()[_0x10de('0xdb')](_0x4d299f+_0x10de('0x2f6'),function(_0x4d299f){_0x97617(JSON[_0x10de('0x2f4')](_0x4d299f));},null,function(_0x4d299f){console[_0x10de('0xef')]('esmap.ESMapTools\x20initialize\x20cannot\x20find\x20effects.json.\x20Please\x20set\x20the\x20correct\x20file\x20path!'),_0x34c401(_0x4d299f);});});},_0x97617[_0x10de('0x2f1')]=function(_0x4d299f,_0x97617){void 0x0!==_0x97617[_0x10de('0x2f7')]&&(_0x4d299f[_0x10de('0x2f7')]=_0x97617[_0x10de('0x2f7')]),void 0x0!==_0x97617[_0x10de('0x2f8')]&&(_0x4d299f[_0x10de('0x2f8')]=_0x97617[_0x10de('0x2f8')]),void 0x0!==_0x97617[_0x10de('0x2f9')]&&(_0x4d299f['envMapIntensity']=_0x97617['mirrorReflection']),_0x97617['hightLightReflection'];};},function(_0x54a46c,_0x533cf0,_0x5a4789){var _0x42c452=_0x5a4789(0x6)(_0x10de('0xcb')),_0x3f5348=!0x1;try{var _0x225f04=[0x7][_0x42c452]();_0x225f04[_0x10de('0xdf')]=function(){_0x3f5348=!0x0;},Array[_0x10de('0x2fa')](_0x225f04,function(){throw 0x2;});}catch(_0x4b652f){}_0x54a46c[_0x10de('0x1')]=function(_0x54a46c,_0x533cf0){if(!_0x533cf0&&!_0x3f5348)return!0x1;var _0x5a4789=!0x1;try{var _0x225f04=[0x7],_0x176c30=_0x225f04[_0x42c452]();_0x176c30[_0x10de('0x88')]=function(){return{'done':_0x5a4789=!0x0};},_0x225f04[_0x42c452]=function(){return _0x176c30;},_0x54a46c(_0x225f04);}catch(_0x165116){}return _0x5a4789;};},function(_0xf1e3a9,_0x787b64,_0x2ab793){'use strict';Object[_0x10de('0x2')](_0x787b64,'__esModule',{'value':!0x0});var _0x45e218=_0x111427(_0x2ab793(0xa3)),_0x2dfaa1=_0x111427(_0x2ab793(0x1b)),_0x39e68c=_0x111427(_0x2ab793(0x0)),_0x505db4=_0x111427(_0x2ab793(0x1)),_0x231726=_0x111427(_0x2ab793(0x1e)),_0xb3ab8d=_0x111427(_0x2ab793(0x1f)),_0x4b5213=_0x111427(_0x2ab793(0x11));function _0x111427(_0xf1e3a9){return _0xf1e3a9&&_0xf1e3a9['__esModule']?_0xf1e3a9:{'default':_0xf1e3a9};}function _0x3fe144(_0xf1e3a9,_0x787b64){(0x0,_0x39e68c['default'])(this,_0x3fe144);var _0x2ab793=(0x0,_0x231726['default'])(this,(_0x3fe144[_0x10de('0x6d')]||(0x0,_0x2dfaa1[_0x10de('0x9')])(_0x3fe144))[_0x10de('0x0')](this));return _0x2ab793[_0x10de('0x2fb')]=_0xf1e3a9,_0x2ab793[_0x10de('0x2fc')]=_0x787b64,_0x2ab793[_0x10de('0x2fd')]=!0x1,_0x2ab793;}_0x2ab793=_0x2ab793(0x2a)[_0x10de('0x82')],(0x0,_0xb3ab8d[_0x10de('0x9')])(_0x3fe144,_0x2ab793),(0x0,_0x505db4[_0x10de('0x9')])(_0x3fe144,[{'key':_0x10de('0x2fe'),'value':function(_0xf1e3a9){var _0x787b64=_0xf1e3a9[_0x10de('0x243')],_0x2ab793=_0xf1e3a9[_0x10de('0x222')],_0x45e218=_0xf1e3a9[_0x10de('0x2ff')],_0x45e218=void 0x0===_0x45e218?0x3:_0x45e218,_0x2dfaa1=_0xf1e3a9[_0x10de('0x300')],_0x2dfaa1=void 0x0===_0x2dfaa1?0x5:_0x2dfaa1,_0x39e68c=_0xf1e3a9['radiusFactor'],_0x505db4=_0xf1e3a9[_0x10de('0x301')],_0x231726=_0xf1e3a9[_0x10de('0x302')];if(esmap[_0x10de('0x303')]){var _0xf1e3a9=new THREE[(_0x10de('0x1ca'))](_0x2ab793['x'],this[_0x10de('0x2fc')][_0x10de('0x304')]['y'],_0x2ab793['z'])[_0x10de('0x305')](this['controls'][_0x10de('0x304')]),_0xb3ab8d=this[_0x10de('0x2fc')]['object'][_0x10de('0x306')]-_0x39e68c,_0xf1e3a9=Math[_0x10de('0x7d')](_0xf1e3a9/_0x45e218),_0x4b5213=Math['floor'](Math['abs'](_0xb3ab8d)/_0x2dfaa1),_0x111427=(_0x4b5213<0x3e8&&(_0x4b5213=0x3e8),_0xf1e3a9<0x3e8&&(_0xf1e3a9=0x1),0x0);switch(_0x787b64){case esmap['ESDirection'][_0x10de('0x307')]:_0x111427=179.99;break;case esmap['ESDirection'][_0x10de('0x308')]:_0x111427=0.01;break;case esmap[_0x10de('0x303')][_0x10de('0x309')]:_0x111427=-0x5a;break;case esmap[_0x10de('0x303')][_0x10de('0x30a')]:_0x111427=0x5a;break;case esmap['ESDirection'][_0x10de('0x30b')]:_0x111427=0x87;break;case esmap[_0x10de('0x303')][_0x10de('0x30c')]:_0x111427=-0x87;break;case esmap['ESDirection'][_0x10de('0x30d')]:_0x111427=0x2d;break;case esmap[_0x10de('0x303')]['SOUTH_WEST']:_0x111427=-0x2d;}var _0x3fe144=this;this[_0x10de('0x2fc')][_0x10de('0x30e')]({'x':-_0x2ab793['x'],'y':_0x2ab793['z'],'callback':function(){_0x3fe144[_0x10de('0x2fc')]['flyToAnimate']({'thetaAngle':_0x111427,'phiAngle':_0x505db4},_0x39e68c,_0x4b5213,_0x231726);},'time':_0xf1e3a9});}else console['error']('can\x20not\x20find\x20esmap.ESDirection\x20data');}},{'key':'p2pFlyFocusTo','value':function(_0xf1e3a9,_0x787b64){var _0x2ab793=0x1+0x32/(0x0,_0x45e218[_0x10de('0x9')])(_0xf1e3a9['x'],_0xf1e3a9['y'],_0xf1e3a9['z']);this[_0x10de('0x30f')]({'x':_0xf1e3a9['x']*_0x2ab793,'y':_0xf1e3a9['y']*_0x2ab793,'z':_0xf1e3a9['z']*_0x2ab793},_0xf1e3a9,_0x787b64||0xbb8);}},{'key':_0x10de('0x310'),'value':function(_0xf1e3a9){var _0x787b64,_0x2ab793=_0xf1e3a9['targetPos'],_0x45e218=_0xf1e3a9[_0x10de('0x230')],_0x2dfaa1=_0xf1e3a9[_0x10de('0x301')],_0x2dfaa1=void 0x0===_0x2dfaa1?0x2d:_0x2dfaa1,_0x39e68c=_0xf1e3a9[_0x10de('0x311')],_0x39e68c=void 0x0===_0x39e68c?0x0:_0x39e68c,_0x505db4=_0xf1e3a9['time'],_0x505db4=void 0x0===_0x505db4?0x3:_0x505db4,_0x231726=_0xf1e3a9[_0x10de('0x312')],_0xf1e3a9=_0xf1e3a9[_0x10de('0x313')];if(!this[_0x10de('0x2fd')])return this[_0x10de('0x314')](!0x0),_0x2dfaa1=0x0<=0x5a-_0x2dfaa1&&0x5a-_0x2dfaa1<0x5a?0x5a-_0x2dfaa1:0x2d,_0x787b64=_0x45e218*Math['sin'](THREE[_0x10de('0x18')]['degToRad'](_0x2dfaa1)),_0x45e218=_0x45e218*Math['cos'](THREE['Math'][_0x10de('0x315')](_0x2dfaa1)),_0x2dfaa1=new THREE[(_0x10de('0x1c8'))](0x0,0x0),_0x45e218=new THREE[(_0x10de('0x1c8'))](_0x45e218,0x0)['rotateAround'](_0x2dfaa1,THREE[_0x10de('0x18')][_0x10de('0x315')](_0x39e68c-0x5a)),_0x2dfaa1=new THREE[(_0x10de('0x1ca'))](_0x2ab793['x']+_0x45e218['x'],_0x2ab793['y']+_0x787b64,_0x2ab793['z']+_0x45e218['y']),this['cameraPosition']({'x':_0x2dfaa1['x'],'y':_0x2dfaa1['y'],'z':_0x2dfaa1['z']},_0x2ab793,0x3e8*_0x505db4,_0x231726,_0xf1e3a9),_0x2dfaa1;}},{'key':_0x10de('0x30f'),'value':function(_0xf1e3a9,_0x787b64,_0x2ab793,_0x45e218,_0x39e68c){var _0x2dfaa1,_0x505db4=this[_0x10de('0x2fc')]['object'],_0x231726=this;_0xf1e3a9&&(_0xf1e3a9=_0xf1e3a9,_0x787b64=_0x787b64||{'x':0x0,'y':0x0,'z':0x0},_0x505db4=(0x0,_0x4b5213[_0x10de('0x9')])({},_0x505db4[_0x10de('0x222')]),_0x2dfaa1=_0x231726[_0x10de('0x2fc')][_0x10de('0x304')][_0x10de('0x1c5')](),new TWEEN[(_0x10de('0x316'))](_0x505db4)['to'](_0xf1e3a9,_0x2ab793)['easing'](TWEEN[_0x10de('0x317')][_0x10de('0x318')][_0x10de('0x319')])[_0x10de('0x31a')](function(){_0x39e68c&&_0x39e68c[_0x10de('0x31b')]&&_0x39e68c[_0x10de('0x31b')]();})[_0x10de('0x31c')](function(_0xf1e3a9){var _0x787b64=_0x231726[_0x10de('0x2fc')],_0x2ab793=_0x787b64[_0x10de('0x6')],_0x45e218=_0xf1e3a9['x'],_0x2dfaa1=_0xf1e3a9['y'],_0xf1e3a9=_0xf1e3a9['z'];void 0x0!==_0x45e218&&(_0x2ab793[_0x10de('0x222')]['x']=_0x45e218),void 0x0!==_0x2dfaa1&&(_0x2ab793[_0x10de('0x222')]['y']=_0x2dfaa1),void 0x0!==_0xf1e3a9&&(_0x2ab793['position']['z']=_0xf1e3a9),_0x787b64[_0x10de('0x31d')](),_0x39e68c&&_0x39e68c[_0x10de('0x31d')]&&_0x39e68c[_0x10de('0x31d')]();})[_0x10de('0x31e')](function(){_0x231726[_0x10de('0x314')](!0x1),_0x45e218&&_0x45e218(),_0x231726['controls'][_0x10de('0x31f')]&&_0x231726[_0x10de('0x2fc')][_0x10de('0x31f')](),_0x39e68c&&(_0x231726[_0x10de('0x2fc')][_0x10de('0x320')](_0x2dfaa1),_0x39e68c[_0x10de('0x302')]&&_0x39e68c[_0x10de('0x302')](),_0x231726['dispatchEvent']({'type':'flyToComplete'}));})[_0x10de('0x31b')](),new TWEEN['Tween'](_0x2dfaa1)['to'](_0x787b64,_0x2ab793/0x3)['easing'](TWEEN[_0x10de('0x317')][_0x10de('0x318')][_0x10de('0x319')])[_0x10de('0x31c')](function(_0xf1e3a9){var _0x787b64;(_0x787b64=_0x231726[_0x10de('0x2fc')])['target'][_0x10de('0x1e')](_0xf1e3a9['x'],_0xf1e3a9['y'],_0xf1e3a9['z']),_0x787b64[_0x10de('0x31d')]();})[_0x10de('0x31b')]());}},{'key':'toggleControlsLock','value':function(_0xf1e3a9){this[_0x10de('0x2fd')]=_0xf1e3a9,this['controls']['enablePan']=!_0xf1e3a9,this[_0x10de('0x2fc')][_0x10de('0x321')]=!_0xf1e3a9,this['controls'][_0x10de('0x322')]=!_0xf1e3a9;}}]),_0x787b64[_0x10de('0x9')]=_0x3fe144;},function(_0x54d2b2,_0x57e18f,_0x5938cf){_0x54d2b2[_0x10de('0x1')]={'default':_0x5938cf(0x77),'__esModule':!0x0};},function(_0x4cd008,_0x35412c,_0x3a1342){_0x3a1342(0x78),_0x4cd008[_0x10de('0x1')]=_0x3a1342(0x2)[_0x10de('0x91')]['setPrototypeOf'];},function(_0x3e84f0,_0x1b08cb,_0x27921d){var _0xda203c=_0x27921d(0x3);_0xda203c(_0xda203c['S'],_0x10de('0x91'),{'setPrototypeOf':_0x27921d(0x79)['set']});},function(_0x1f98cb,_0x1a064c,_0x2daaa9){function _0x3d9b24(_0x1f98cb,_0x1a064c){if(_0xe8966f(_0x1f98cb),!_0x4e7baf(_0x1a064c)&&null!==_0x1a064c)throw TypeError(_0x1a064c+':\x20can\x27t\x20set\x20as\x20prototype!');}var _0x4e7baf=_0x2daaa9(0x9),_0xe8966f=_0x2daaa9(0xa);_0x1f98cb[_0x10de('0x1')]={'set':Object['setPrototypeOf']||(_0x10de('0x6d')in{}?function(_0x1f98cb,_0x4e7baf,_0xe8966f){try{(_0xe8966f=_0x2daaa9(0xf)(Function[_0x10de('0x0')],_0x2daaa9(0x41)['f'](Object[_0x10de('0xa')],'__proto__')['set'],0x2))(_0x1f98cb,[]),_0x4e7baf=!(_0x1f98cb instanceof Array);}catch(_0x1b9ea3){_0x4e7baf=!0x0;}return function(_0x1f98cb,_0x1a064c){return _0x3d9b24(_0x1f98cb,_0x1a064c),_0x4e7baf?_0x1f98cb[_0x10de('0x6d')]=_0x1a064c:_0xe8966f(_0x1f98cb,_0x1a064c),_0x1f98cb;};}({},!0x1):void 0x0),'check':_0x3d9b24};},function(_0x1499ae,_0x31985d,_0x3a1a9b){var _0x3a1a9b=_0x3a1a9b(0x2),_0x382675=_0x3a1a9b[_0x10de('0x2c0')]||(_0x3a1a9b[_0x10de('0x2c0')]={'stringify':JSON[_0x10de('0x2b8')]});_0x1499ae['exports']=function(_0x1499ae){return _0x382675[_0x10de('0x2b8')][_0x10de('0x15')](_0x382675,arguments);};},function(_0x1175df,_0x43a6bd,_0x14146b){'use strict';function _0x10f562(_0x1175df,_0x43a6bd){var _0x14146b,_0x35ea71=_0x11c856(_0x43a6bd);if('F'!==_0x35ea71)return _0x1175df['_i'][_0x35ea71];for(_0x14146b=_0x1175df['_f'];_0x14146b;_0x14146b=_0x14146b['n'])if(_0x14146b['k']==_0x43a6bd)return _0x14146b;}var _0x527032=_0x14146b(0x8)['f'],_0x2f4dd9=_0x14146b(0x21),_0x65ce95=_0x14146b(0x4c),_0x8d8657=_0x14146b(0xf),_0x4acde0=_0x14146b(0x4b),_0x28b9ad=_0x14146b(0x35),_0x23c845=_0x14146b(0x2c),_0x258529=_0x14146b(0x42),_0x250693=_0x14146b(0x63),_0x8bbd5c=_0x14146b(0x7),_0x11c856=_0x14146b(0x3c)['fastKey'],_0x2a2b97=_0x14146b(0x62),_0x4a7ed7=_0x8bbd5c?'_s':'size';_0x1175df[_0x10de('0x1')]={'getConstructor':function(_0x1175df,_0x258529,_0x14146b,_0x23c845){var _0x250693=_0x1175df(function(_0x1175df,_0x43a6bd){_0x4acde0(_0x1175df,_0x250693,_0x258529,'_i'),_0x1175df['_t']=_0x258529,_0x1175df['_i']=_0x2f4dd9(null),_0x1175df['_f']=void 0x0,_0x1175df['_l']=void 0x0,_0x1175df[_0x4a7ed7]=0x0,null!=_0x43a6bd&&_0x28b9ad(_0x43a6bd,_0x14146b,_0x1175df[_0x23c845],_0x1175df);});return _0x65ce95(_0x250693['prototype'],{'clear':function(){for(var _0x1175df=_0x2a2b97(this,_0x258529),_0x43a6bd=_0x1175df['_i'],_0x14146b=_0x1175df['_f'];_0x14146b;_0x14146b=_0x14146b['n'])_0x14146b['r']=!0x0,_0x14146b['p']&&(_0x14146b['p']=_0x14146b['p']['n']=void 0x0),delete _0x43a6bd[_0x14146b['i']];_0x1175df['_f']=_0x1175df['_l']=void 0x0,_0x1175df[_0x4a7ed7]=0x0;},'delete':function(_0x1175df){var _0x43a6bd,_0x14146b,_0x23c845=_0x2a2b97(this,_0x258529),_0x1175df=_0x10f562(_0x23c845,_0x1175df);return _0x1175df&&(_0x43a6bd=_0x1175df['n'],_0x14146b=_0x1175df['p'],delete _0x23c845['_i'][_0x1175df['i']],_0x1175df['r']=!0x0,_0x14146b&&(_0x14146b['n']=_0x43a6bd),_0x43a6bd&&(_0x43a6bd['p']=_0x14146b),_0x23c845['_f']==_0x1175df&&(_0x23c845['_f']=_0x43a6bd),_0x23c845['_l']==_0x1175df&&(_0x23c845['_l']=_0x14146b),_0x23c845[_0x4a7ed7]--),!!_0x1175df;},'forEach':function(_0x1175df){_0x2a2b97(this,_0x258529);for(var _0x43a6bd,_0x14146b=_0x8d8657(_0x1175df,0x1<arguments['length']?arguments[0x1]:void 0x0,0x3);_0x43a6bd=_0x43a6bd?_0x43a6bd['n']:this['_f'];)for(_0x14146b(_0x43a6bd['v'],_0x43a6bd['k'],this);_0x43a6bd&&_0x43a6bd['r'];)_0x43a6bd=_0x43a6bd['p'];},'has':function(_0x1175df){return!!_0x10f562(_0x2a2b97(this,_0x258529),_0x1175df);}}),_0x8bbd5c&&_0x527032(_0x250693[_0x10de('0xa')],'size',{'get':function(){return _0x2a2b97(this,_0x258529)[_0x4a7ed7];}}),_0x250693;},'def':function(_0x1175df,_0x43a6bd,_0x14146b){var _0x23c845,_0x258529=_0x10f562(_0x1175df,_0x43a6bd);return _0x258529?_0x258529['v']=_0x14146b:(_0x1175df['_l']=_0x258529={'i':_0x23c845=_0x11c856(_0x43a6bd,!0x0),'k':_0x43a6bd,'v':_0x14146b,'p':_0x43a6bd=_0x1175df['_l'],'n':void 0x0,'r':!0x1},_0x1175df['_f']||(_0x1175df['_f']=_0x258529),_0x43a6bd&&(_0x43a6bd['n']=_0x258529),_0x1175df[_0x4a7ed7]++,'F'!==_0x23c845&&(_0x1175df['_i'][_0x23c845]=_0x258529)),_0x1175df;},'getEntry':_0x10f562,'setStrong':function(_0x1175df,_0x14146b,_0x43a6bd){_0x23c845(_0x1175df,_0x14146b,function(_0x1175df,_0x43a6bd){this['_t']=_0x2a2b97(_0x1175df,_0x14146b),this['_k']=_0x43a6bd,this['_l']=void 0x0;},function(){for(var _0x1175df=this,_0x43a6bd=_0x1175df['_k'],_0x14146b=_0x1175df['_l'];_0x14146b&&_0x14146b['r'];)_0x14146b=_0x14146b['p'];return _0x1175df['_t']&&(_0x1175df['_l']=_0x14146b=_0x14146b?_0x14146b['n']:_0x1175df['_t']['_f'])?_0x258529(0x0,'keys'==_0x43a6bd?_0x14146b['k']:'values'==_0x43a6bd?_0x14146b['v']:[_0x14146b['k'],_0x14146b['v']]):(_0x1175df['_t']=void 0x0,_0x258529(0x1));},_0x43a6bd?_0x10de('0x8b'):_0x10de('0x89'),!_0x43a6bd,!0x0),_0x250693(_0x14146b);}};},function(_0x55c12b,_0xe5c49c,_0x126786){'use strict';var _0x3c4722=_0x126786(0x4),_0x24e174=_0x126786(0x3),_0x5d153c=_0x126786(0x3c),_0x21add8=_0x126786(0xd),_0x517ba7=_0x126786(0xb),_0x28d3b0=_0x126786(0x4c),_0x567d77=_0x126786(0x35),_0x26e5a7=_0x126786(0x4b),_0x17679e=_0x126786(0x9),_0x5b1956=_0x126786(0x18),_0x665fc=_0x126786(0x8)['f'],_0x5b1083=_0x126786(0x92)(0x0),_0x42cc9f=_0x126786(0x7);_0x55c12b[_0x10de('0x1')]=function(_0x126786,_0x55c12b,_0xe5c49c,_0x1fd25e,_0x312fc6,_0x1e3882){var _0x5773c6=_0x3c4722[_0x126786],_0x545fdf=_0x5773c6,_0xe840c8=_0x312fc6?_0x10de('0x1e'):_0x10de('0x1d5'),_0x256ff0=_0x545fdf&&_0x545fdf[_0x10de('0xa')],_0xaa779d={};return _0x42cc9f&&'function'==typeof _0x545fdf&&(_0x1e3882||_0x256ff0['forEach']&&!_0x21add8(function(){new _0x545fdf()['entries']()['next']();}))?(_0x545fdf=_0x55c12b(function(_0x55c12b,_0xe5c49c){_0x26e5a7(_0x55c12b,_0x545fdf,_0x126786,'_c'),_0x55c12b['_c']=new _0x5773c6(),null!=_0xe5c49c&&_0x567d77(_0xe5c49c,_0x312fc6,_0x55c12b[_0xe840c8],_0x55c12b);}),_0x5b1083('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'[_0x10de('0x68')](','),function(_0x126786){var _0x1fd25e=_0x10de('0x1d5')==_0x126786||_0x10de('0x1e')==_0x126786;_0x126786 in _0x256ff0&&(!_0x1e3882||'clear'!=_0x126786)&&_0x517ba7(_0x545fdf[_0x10de('0xa')],_0x126786,function(_0x55c12b,_0xe5c49c){if(_0x26e5a7(this,_0x545fdf,_0x126786),!_0x1fd25e&&_0x1e3882&&!_0x17679e(_0x55c12b))return _0x10de('0x323')==_0x126786&&void 0x0;_0x55c12b=this['_c'][_0x126786](0x0===_0x55c12b?0x0:_0x55c12b,_0xe5c49c);return _0x1fd25e?this:_0x55c12b;});}),_0x1e3882||_0x665fc(_0x545fdf[_0x10de('0xa')],_0x10de('0xe8'),{'get':function(){return this['_c'][_0x10de('0xe8')];}})):(_0x545fdf=_0x1fd25e['getConstructor'](_0x55c12b,_0x126786,_0x312fc6,_0xe840c8),_0x28d3b0(_0x545fdf[_0x10de('0xa')],_0xe5c49c),_0x5d153c[_0x10de('0x324')]=!0x0),_0x5b1956(_0x545fdf,_0x126786),_0xaa779d[_0x126786]=_0x545fdf,_0x24e174(_0x24e174['G']+_0x24e174['W']+_0x24e174['F'],_0xaa779d),_0x1e3882||_0x1fd25e[_0x10de('0x325')](_0x545fdf,_0x126786,_0x312fc6),_0x545fdf;};},function(_0x192bf0,_0x3249e3,_0x1736b7){var _0x415449=_0x1736b7(0x30),_0x34539d=_0x1736b7(0x96);_0x192bf0['exports']=function(_0x192bf0){return function(){if(_0x415449(this)!=_0x192bf0)throw TypeError(_0x192bf0+_0x10de('0x326'));return _0x34539d(this);};};},function(_0x10b4fe,_0x440fee,_0x5d4ef9){'use strict';var _0x1e0fe6=_0x5d4ef9(0x3);_0x10b4fe[_0x10de('0x1')]=function(_0x10b4fe){_0x1e0fe6(_0x1e0fe6['S'],_0x10b4fe,{'of':function(){for(var _0x10b4fe=arguments['length'],_0x440fee=new Array(_0x10b4fe);_0x10b4fe--;)_0x440fee[_0x10b4fe]=arguments[_0x10b4fe];return new this(_0x440fee);}});};},function(_0x3ce416,_0x21dbd7,_0x52ab90){'use strict';var _0x5660e3=_0x52ab90(0x3),_0x47bc97=_0x52ab90(0x22),_0x18650c=_0x52ab90(0xf),_0x3b0b94=_0x52ab90(0x35);_0x3ce416[_0x10de('0x1')]=function(_0x3ce416){_0x5660e3(_0x5660e3['S'],_0x3ce416,{'from':function(_0x3ce416){var _0x21dbd7,_0x52ab90,_0x5660e3,_0x500e0d,_0x5d8092=arguments[0x1];return _0x47bc97(this),(_0x21dbd7=void 0x0!==_0x5d8092)&&_0x47bc97(_0x5d8092),null==_0x3ce416?new this():(_0x52ab90=[],_0x21dbd7?(_0x5660e3=0x0,_0x500e0d=_0x18650c(_0x5d8092,arguments[0x2],0x2),_0x3b0b94(_0x3ce416,!0x1,function(_0x3ce416){_0x52ab90[_0x10de('0x84')](_0x500e0d(_0x3ce416,_0x5660e3++));})):_0x3b0b94(_0x3ce416,!0x1,_0x52ab90[_0x10de('0x84')],_0x52ab90),new this(_0x52ab90));}});};},function(_0x4e64e1,_0x1e319e,_0x24fa11){_0x24fa11(0x81);var _0x33808f=_0x24fa11(0x2)['Object'];_0x4e64e1[_0x10de('0x1')]=function(_0x4e64e1,_0x1e319e){return _0x33808f['defineProperties'](_0x4e64e1,_0x1e319e);};},function(_0x3dd4db,_0x37c464,_0x35b0d0){var _0x417fee=_0x35b0d0(0x3);_0x417fee(_0x417fee['S']+_0x417fee['F']*!_0x35b0d0(0x7),_0x10de('0x91'),{'defineProperties':_0x35b0d0(0x3e)});},function(_0x3f7f69,_0x491a88,_0xd2d73f){'use strict';_0x491a88[_0x10de('0x5')]=!0x0;var _0xd2d73f=_0xd2d73f(0x32),_0xaccb7e=_0xd2d73f&&_0xd2d73f[_0x10de('0x5')]?_0xd2d73f:{'default':_0xd2d73f};_0x491a88[_0x10de('0x9')]=function(_0x3f7f69,_0x491a88,_0xd2d73f){return _0x491a88 in _0x3f7f69?(0x0,_0xaccb7e['default'])(_0x3f7f69,_0x491a88,{'value':_0xd2d73f,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x3f7f69[_0x491a88]=_0xd2d73f,_0x3f7f69;};},function(_0x4a67c2,_0x345525,_0x4e5b99){'use strict';Object[_0x10de('0x2')](_0x345525,_0x10de('0x5'),{'value':!0x0}),_0x345525['getSegementPoints']=_0x345525[_0x10de('0x327')]=void 0x0;var _0x6ad59a=_0xa5ecfa(_0x4e5b99(0x5)),_0x854fb1=_0xa5ecfa(_0x4e5b99(0x11));function _0xa5ecfa(_0x4a67c2){return _0x4a67c2&&_0x4a67c2[_0x10de('0x5')]?_0x4a67c2:{'default':_0x4a67c2};}function _0x42cb34(_0x4a67c2){for(var _0x345525=0x0,_0x4e5b99=_0x4a67c2[_0x10de('0xe')];_0x345525<_0x4e5b99;_0x345525++)_0x4a67c2[_0x345525][_0x10de('0x328')]=_0x345525;}function _0x52982f(_0x4a67c2,_0x345525){for(var _0x4e5b99=[],_0xa5ecfa=0x0,_0x1d2d9a=0x0,_0x192511=_0x4a67c2['length'];_0x1d2d9a<_0x192511-0x1;_0x1d2d9a++)_0xa5ecfa+=_0x4a67c2[_0x1d2d9a][_0x10de('0x305')](_0x4a67c2[_0x1d2d9a+0x1]);for(var _0x339ab2=0x1,_0xd664a2=Math[_0x10de('0x7d')](_0xa5ecfa/_0x345525);_0x339ab2<=_0xd664a2;_0x339ab2++){var _0x4275cc=function(_0x4a67c2,_0x345525){if(_0x4a67c2){if(0x0==_0x345525)return _0x4a67c2[0x0];for(var _0x4e5b99,_0xa5ecfa,_0x1d2d9a=0x0,_0x192511=0x0,_0x339ab2=_0x4a67c2[0x0],_0xd664a2=0x1;_0xd664a2<_0x4a67c2[_0x10de('0xe')];_0xd664a2++){if(_0x345525<=(_0x1d2d9a+=(_0xa5ecfa=(_0x4e5b99=_0x4a67c2[_0xd664a2])[_0x10de('0x1c5')]()[_0x10de('0x329')](_0x339ab2))[_0x10de('0xe')]()))return _0xa5ecfa[_0x10de('0x1d4')](),(_0xa5ecfa=_0x339ab2[_0x10de('0x1c5')]()[_0x10de('0x1d5')](_0xa5ecfa[_0x10de('0x1c5')]()[_0x10de('0x1d6')](_0x345525-_0x192511)))['index']=_0x4e5b99[_0x10de('0x328')],_0xa5ecfa;(_0x339ab2=_0x4e5b99['clone']())[_0x10de('0x32a')]=_0x4e5b99[_0x10de('0x328')],_0x192511=_0x1d2d9a;}var _0x4275cc=(0x0,_0x854fb1['default'])(new Vector3(),_0x4a67c2[_0x4a67c2[_0x10de('0xe')]-0x1]);return _0x4275cc['index']=_0x4275cc['_index'],_0x4275cc;}}(_0x4a67c2,_0x339ab2*_0x345525);_0x4e5b99[_0x10de('0x84')](_0x4275cc);}return _0x4e5b99;}_0x345525[_0x10de('0x327')]=function(_0x4a67c2,_0x345525){var _0x4e5b99=[],_0xa5ecfa=!0x0,_0x3a2369=!0x1,_0x149361=void 0x0;try{for(var _0x3fddbd,_0x397dc6=(0x0,_0x6ad59a[_0x10de('0x9')])(_0x4a67c2);!(_0xa5ecfa=(_0x3fddbd=_0x397dc6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0xa5ecfa=!0x0){var _0x54cf87=_0x3fddbd['value'];_0x4e5b99[_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](-_0x54cf87['x'],_0x54cf87[_0x10de('0x32c')],_0x54cf87['y']));}}catch(_0x5952ea){_0x3a2369=!0x0,_0x149361=_0x5952ea;}finally{try{!_0xa5ecfa&&_0x397dc6[_0x10de('0xdf')]&&_0x397dc6[_0x10de('0xdf')]();}finally{if(_0x3a2369)throw _0x149361;}}return _0x42cb34(_0x4e5b99),_0x52982f(_0x4e5b99,_0x345525);},_0x345525[_0x10de('0x32d')]=function(_0x4a67c2,_0x345525){var _0x4e5b99=[],_0xa5ecfa=!0x0,_0x232612=!0x1,_0x54540d=void 0x0;try{for(var _0x3022aa,_0x9ec74d=(0x0,_0x6ad59a['default'])(_0x4a67c2);!(_0xa5ecfa=(_0x3022aa=_0x9ec74d[_0x10de('0x88')]())[_0x10de('0x32b')]);_0xa5ecfa=!0x0){var _0x285f4e=_0x3022aa[_0x10de('0x10')];_0x4e5b99[_0x10de('0x84')](new THREE['Vector3'](-_0x285f4e['x'],_0x285f4e[_0x10de('0x32c')],_0x285f4e['y']));}}catch(_0x5496b0){_0x232612=!0x0,_0x54540d=_0x5496b0;}finally{try{!_0xa5ecfa&&_0x9ec74d['return']&&_0x9ec74d[_0x10de('0xdf')]();}finally{if(_0x232612)throw _0x54540d;}}_0x42cb34(_0x4e5b99);var _0x4a67c2=_0x52982f(_0x4e5b99,_0x345525),_0x854fb1=!0x0,_0x232612=!0x1,_0x54540d=void 0x0;try{for(var _0x11073a,_0x5d0a8e=(0x0,_0x6ad59a['default'])(_0x4a67c2);!(_0x854fb1=(_0x11073a=_0x5d0a8e['next']())[_0x10de('0x32b')]);_0x854fb1=!0x0){var _0xb0f875=_0x11073a[_0x10de('0x10')],_0x1aed67=(_0xb0f875['x']=-_0xb0f875['x'],_0xb0f875['y']);_0xb0f875['y']=_0xb0f875['z'],_0xb0f875['z']=_0x1aed67;}}catch(_0xe0a760){_0x232612=!0x0,_0x54540d=_0xe0a760;}finally{try{!_0x854fb1&&_0x5d0a8e['return']&&_0x5d0a8e[_0x10de('0xdf')]();}finally{if(_0x232612)throw _0x54540d;}}return _0x4a67c2;};},function(_0x14ec48,_0xd501bf,_0x14ad99){_0x14ec48['exports']={'default':_0x14ad99(0x90),'__esModule':!0x0};},function(_0x2fb964,_0x356d55,_0x4cc026){'use strict';Object[_0x10de('0x2')](_0x356d55,_0x10de('0x5'),{'value':!0x0});var _0x44bff4=_0x3541b1(_0x4cc026(0x5)),_0x5b957a=_0x3541b1(_0x4cc026(0x0)),_0x2a433a=_0x3541b1(_0x4cc026(0x1)),_0x3f2cbb=_0x3541b1(_0x4cc026(0x3d));function _0x3541b1(_0x2fb964){return _0x2fb964&&_0x2fb964[_0x10de('0x5')]?_0x2fb964:{'default':_0x2fb964};}var _0x44ffa1=_0x4cc026(0x9a),_0x4cc026=((0x0,_0x2a433a[_0x10de('0x9')])(_0x5a24b6,[{'key':_0x10de('0x32e'),'value':function(_0x2fb964){var _0x356d55=_0x2fb964[_0x10de('0xdc')],_0x4cc026=_0x2fb964[_0x10de('0x32f')],_0x2fb964=_0x2fb964['repeat'];this['lineMaterial']=new _0x44ffa1[(_0x10de('0x330'))]({'map':_0x356d55,'useMap':this[_0x10de('0x24c')]['map'],'useFadeOut':!0x1,'fadeOutFactor':0x0,'color':new THREE['Color']()[_0x10de('0x331')](_0x4cc026),'opacity':this[_0x10de('0x233')],'dashArray':this[_0x10de('0x24c')][_0x10de('0x332')],'dashOffset':this[_0x10de('0x24c')][_0x10de('0x333')],'dashRatio':this[_0x10de('0x24c')][_0x10de('0x334')],'resolution':this[_0x10de('0x335')],'sizeAttenuation':this['params'][_0x10de('0x336')],'lineWidth':this['params'][_0x10de('0x337')],'near':this[_0x10de('0x338')][_0x10de('0x339')],'far':this[_0x10de('0x338')]['far'],'depthWrite':!0x1,'depthTest':!0x0,'alphaTest':0x0,'transparent':!0x0,'side':THREE[_0x10de('0x33a')],'repeat':new THREE[(_0x10de('0x1c8'))](_0x2fb964['x'],_0x2fb964['y']),'offset':new THREE[(_0x10de('0x1c8'))](0x0,0x0),'useChange':!0x1}),this[_0x10de('0x33b')][_0x10de('0x1e7')]=!0x0,this['lineMaterial'][_0x10de('0x8c')]=_0x10de('0x33c');}},{'key':_0x10de('0x33d'),'value':function(){var _0x2fb964=new THREE[(_0x10de('0x33e'))]();return _0x2fb964[_0x10de('0x33f')][_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](-0x64,0x0,-0x64)),_0x2fb964[_0x10de('0x33f')][_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](0x64,0x0,-0x64)),_0x2fb964[_0x10de('0x33f')][_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](0x64,0x0,0x64)),_0x2fb964['vertices'][_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](-0x64,0x0,0x64)),_0x2fb964['vertices'][_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](-0x64,0x0,-0x64)),_0x2fb964;}},{'key':'makeLineGeometry','value':function(_0x2fb964){for(var _0x356d55=new THREE[(_0x10de('0x33e'))](),_0x4cc026=0x0,_0x2a433a=_0x2fb964['length'];_0x4cc026<_0x2a433a;_0x4cc026++)_0x356d55[_0x10de('0x33f')][_0x10de('0x84')](_0x2fb964[_0x4cc026]);return _0x356d55;}},{'key':'makeMeshLineGeometry','value':function(_0x2fb964){var _0x356d55=this[_0x10de('0x340')](_0x2fb964),_0x4cc026=new _0x44ffa1['MeshLine']();switch(this[_0x10de('0x24c')][_0x10de('0x341')]){case _0x10de('0x72'):_0x4cc026[_0x10de('0x342')](_0x356d55);break;case _0x10de('0x343'):_0x4cc026[_0x10de('0x342')](_0x356d55,function(_0x2fb964){return 0x1-_0x2fb964;});break;case _0x10de('0x344'):_0x4cc026[_0x10de('0x342')](_0x356d55,function(_0x2fb964){return+Math[_0x10de('0x345')](0x4*_0x2fb964*(0x1-_0x2fb964),0x1);});break;case _0x10de('0x346'):_0x4cc026[_0x10de('0x342')](_0x356d55,function(_0x2fb964){return 0x2+Math[_0x10de('0x5c')](0x32*_0x2fb964);});}return _0x4cc026['geometry'];}},{'key':_0x10de('0x347'),'value':function(_0x2fb964,_0x356d55){var _0x4cc026=_0x2fb964[0x0],_0x2a433a=[],_0x3f2cbb=!0x0,_0x3541b1=!0x1,_0x4f5ccb=void 0x0;try{for(var _0x4b804a,_0x43bfd4=(0x0,_0x44bff4[_0x10de('0x9')])(_0x2fb964);!(_0x3f2cbb=(_0x4b804a=_0x43bfd4[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x3f2cbb=!0x0){var _0x151bad=_0x4b804a[_0x10de('0x10')],_0x4fc101=_0x151bad['x']-_0x4cc026['x'],_0x5b957a=_0x151bad['z']-_0x4cc026['z'];_0x2a433a[_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](_0x4fc101,_0x151bad['y'],_0x5b957a));}}catch(_0x3b013f){_0x3541b1=!0x0,_0x4f5ccb=_0x3b013f;}finally{try{!_0x3f2cbb&&_0x43bfd4[_0x10de('0xdf')]&&_0x43bfd4[_0x10de('0xdf')]();}finally{if(_0x3541b1)throw _0x4f5ccb;}}var _0x5e8e77=this[_0x10de('0x340')](_0x2a433a),_0x592d00=new _0x44ffa1['MeshLine']();switch(this['meshLines'][_0x10de('0x84')](_0x592d00),this[_0x10de('0x24c')][_0x10de('0x341')]){case _0x10de('0x72'):_0x592d00['setGeometry'](_0x5e8e77);break;case _0x10de('0x343'):_0x592d00[_0x10de('0x342')](_0x5e8e77,function(_0x2fb964){return 0x1-_0x2fb964;});break;case'parabolic':_0x592d00[_0x10de('0x342')](_0x5e8e77,function(_0x2fb964){return+Math[_0x10de('0x345')](0x4*_0x2fb964*(0x1-_0x2fb964),0x1);});break;case _0x10de('0x346'):_0x592d00[_0x10de('0x342')](_0x5e8e77,function(_0x2fb964){return 0x2+Math['sin'](0x32*_0x2fb964);});}_0x2fb964=new THREE[(_0x10de('0x348'))](_0x592d00['geometry'],this[_0x10de('0x33b')]);return _0x2fb964[_0x10de('0x349')]=this[_0x10de('0x349')],this['object3d'][_0x10de('0x1d5')](_0x2fb964),_0x356d55&&(_0x3541b1=new THREE[(_0x10de('0x1ca'))](0x0,0x0,0x1),_0x4f5ccb=this['getAngleToNextLine'](_0x3541b1,_0x2a433a[_0x2a433a['length']-0x2],_0x2a433a[_0x2a433a[_0x10de('0xe')]-0x1]),_0x2fb964[_0x10de('0x34a')]=_0x4f5ccb),_0x2fb964;}},{'key':_0x10de('0x34b'),'value':function(_0x2fb964,_0x356d55,_0x4cc026){var _0x2a433a=[],_0x3f2cbb=!0x0,_0x3541b1=!0x1,_0x33baad=void 0x0;try{for(var _0x533c80,_0x26de9e=(0x0,_0x44bff4[_0x10de('0x9')])(_0x2fb964);!(_0x3f2cbb=(_0x533c80=_0x26de9e['next']())[_0x10de('0x32b')]);_0x3f2cbb=!0x0){var _0x5eb379=_0x533c80[_0x10de('0x10')],_0x40708f=new THREE['Vector3'](-(_0x356d55['x']+_0x5eb379['x']),_0x5eb379['offset']||0x0,_0x5eb379['y']-_0x356d55['z']);_0x2a433a[_0x10de('0x84')](_0x40708f);}}catch(_0x1b3fcf){_0x3541b1=!0x0,_0x33baad=_0x1b3fcf;}finally{try{!_0x3f2cbb&&_0x26de9e['return']&&_0x26de9e[_0x10de('0xdf')]();}finally{if(_0x3541b1)throw _0x33baad;}}var _0x5b957a=this['makeLineGeometry'](_0x2a433a),_0x1d173e=new _0x44ffa1['MeshLine']();switch(_0x4cc026||this[_0x10de('0x24c')][_0x10de('0x341')]){case _0x10de('0x72'):_0x1d173e[_0x10de('0x342')](_0x5b957a);break;case _0x10de('0x343'):_0x1d173e['setGeometry'](_0x5b957a,function(_0x2fb964){return 0x1-_0x2fb964;});break;case _0x10de('0x344'):_0x1d173e[_0x10de('0x342')](_0x5b957a,function(_0x2fb964){return+Math['pow'](0x4*_0x2fb964*(0x1-_0x2fb964),0x1);});break;case'wavy':_0x1d173e[_0x10de('0x342')](_0x5b957a,function(_0x2fb964){return 0x2+Math[_0x10de('0x5c')](0x32*_0x2fb964);});}return _0x1d173e[_0x10de('0xd0')];}},{'key':'getAngleToNextLine','value':function(_0x2fb964,_0x356d55,_0x4cc026){return this['tempDir'][_0x10de('0x34c')](_0x4cc026,_0x356d55),this['tempStartPoint']['copy'](_0x356d55)[_0x10de('0x1d4')](),this['tempEndPoint']['copy'](_0x4cc026)['normalize'](),0x0<this[_0x10de('0x34d')][_0x10de('0x34e')](this[_0x10de('0x34f')])['y']?-_0x2fb964['angleTo'](this[_0x10de('0x350')]):_0x2fb964['angleTo'](this['tempDir']);}},{'key':'collectPoints','value':function(_0x2fb964){for(var _0x356d55=0x0,_0x4cc026=(_0x2fb964[_0x10de('0x351')][_0x10de('0x2c9')](function(_0x2fb964){_0x356d55+=_0x2fb964[_0x10de('0xd0')][_0x10de('0x17e')][_0x10de('0x222')]['count'];}),new THREE[(_0x10de('0x352'))]()),_0x2a433a=(_0x4cc026[_0x10de('0x202')](_0x10de('0x222'),new THREE[(_0x10de('0x116'))](new Float32Array(0x3*_0x356d55),0x3)),0x0),_0x3f2cbb=(_0x2fb964[_0x10de('0x351')]['forEach'](function(_0x2fb964){_0x4cc026['merge'](_0x2fb964[_0x10de('0xd0')],_0x2a433a),_0x2a433a+=_0x2fb964[_0x10de('0xd0')][_0x10de('0x17e')][_0x10de('0x222')]['count'];}),_0x4cc026[_0x10de('0x23f')](_0x4cc026),new THREE[(_0x10de('0x353'))]()),_0x3541b1=(_0x3f2cbb[_0x10de('0x354')](0x3e8,0x3e8,0x3e8),_0x4cc026[_0x10de('0x355')](_0x3f2cbb),new THREE['Mesh'](_0x4cc026,new THREE[(_0x10de('0x356'))]())),_0x31f571=(_0x2fb964['add'](_0x3541b1),new THREE[(_0x10de('0x357'))]()),_0x3126ef=[],_0x4dc692=-0xc8,_0x42193b=0x0,_0x4cddb6=new THREE[(_0x10de('0x1ca'))](),_0x5b957a=new THREE[(_0x10de('0x1ca'))](),_0x5ec413=0x0;_0x5ec413<0x1770;_0x5ec413++){_0x42193b+=0.1,_0x4dc692+=0.075,_0x4cddb6[_0x10de('0x1e')](0x3e8*Math[_0x10de('0x5b')](_0x42193b),_0x4dc692,0x3e8*Math['sin'](_0x42193b)),_0x5b957a[_0x10de('0x1e')](-_0x4cddb6['x'],0x0,-_0x4cddb6['z']),_0x5b957a=_0x5b957a[_0x10de('0x1d4')](),_0x31f571['set'](_0x4cddb6,_0x5b957a);var _0x1d0291=_0x31f571['intersectObject'](_0x3541b1,!0x0);_0x1d0291[_0x10de('0xe')]&&_0x3126ef[_0x10de('0x84')](_0x1d0291[0x0][_0x10de('0x358')]['x'],_0x1d0291[0x0][_0x10de('0x358')]['y'],_0x1d0291[0x0][_0x10de('0x358')]['z']);}_0x2fb964['remove'](_0x3541b1);_0x3f2cbb=new _0x44ffa1[(_0x10de('0x359'))](),_0x3f2cbb[_0x10de('0x342')](_0x3126ef,function(_0x2fb964){return _0x2fb964;}),_0x3f2cbb=new THREE['Mesh'](_0x3f2cbb[_0x10de('0xd0')],this[_0x10de('0x33b')]);_0x2fb964[_0x10de('0x1d5')](_0x3f2cbb);}},{'key':'removeLine','value':function(_0x2fb964){_0x3f2cbb['default'][_0x10de('0x35a')](_0x2fb964);}},{'key':_0x10de('0x35b'),'value':function(_0x2fb964){var _0x356d55=this;_0x2fb964['on'](_0x10de('0x35c'),function(_0x2fb964){_0x356d55[_0x10de('0x33b')][_0x10de('0x335')]['set'](_0x2fb964[_0x10de('0x35d')],_0x2fb964['height']);});}},{'key':_0x10de('0xce'),'value':function(){this['lineMaterial']&&this[_0x10de('0x33b')][_0x10de('0xce')](),this['lineMaterial']=null,this[_0x10de('0xdc')]&&this[_0x10de('0xdc')][_0x10de('0xce')](),this['texture']=null,this[_0x10de('0x35e')]['length']=0x0,_0x3f2cbb[_0x10de('0x9')]['disposeAll'](this['object3d']);}},{'key':'fadeOut','value':function(_0x2fb964){var _0x356d55;this[_0x10de('0x33b')]&&(_0x2fb964=_0x2fb964||1.5,this[_0x10de('0x33b')][_0x10de('0x35f')]=!0x0,this[_0x10de('0x33b')][_0x10de('0x360')]=0x0,_0x356d55=this,new TWEEN['Tween']({'x':0x0})['to']({'x':0x1},0x3e8*_0x2fb964)[_0x10de('0x31c')](function(_0x2fb964){_0x356d55['lineMaterial'][_0x10de('0x360')]=_0x2fb964['x'];})[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x318')]['In'])[_0x10de('0x31b')]());}},{'key':_0x10de('0x362'),'value':function(_0x2fb964){this['lineMaterial']&&(this[_0x10de('0x33b')][_0x10de('0x1b4')][_0x10de('0x10a')][_0x10de('0x10')]['x']-=_0x2fb964*this[_0x10de('0x363')]);}},{'key':_0x10de('0x364'),'set':function(_0x2fb964){this['object3d'][_0x10de('0x364')]=_0x2fb964;},'get':function(){return this['object3d'][_0x10de('0x364')];}}]),_0x5a24b6);function _0x5a24b6(_0x2fb964){var _0x356d55=_0x2fb964['camera'],_0x4cc026=_0x2fb964[_0x10de('0xdc')],_0x2a433a=_0x2fb964['colorStr'],_0x2a433a=void 0x0===_0x2a433a?_0x10de('0x365'):_0x2a433a,_0x3f2cbb=_0x2fb964['opacity'],_0x3f2cbb=void 0x0===_0x3f2cbb?0x1:_0x3f2cbb,_0x3541b1=_0x2fb964[_0x10de('0x337')],_0x3541b1=void 0x0===_0x3541b1?0x7:_0x3541b1,_0x275599=_0x2fb964[_0x10de('0x366')],_0x275599=void 0x0===_0x275599?_0x10de('0x72'):_0x275599,_0x2a1ab2=_0x2fb964[_0x10de('0x2eb')],_0x2a1ab2=void 0x0===_0x2a1ab2?{'x':0x1,'y':0x1}:_0x2a1ab2,_0x152bfe=_0x2fb964[_0x10de('0x335')],_0x108f42=_0x2fb964[_0x10de('0x363')],_0x108f42=void 0x0===_0x108f42?0x1:_0x108f42,_0x3c9fcd=_0x2fb964[_0x10de('0x367')],_0x3c9fcd=void 0x0!==_0x3c9fcd&&_0x3c9fcd,_0x2fb964=_0x2fb964[_0x10de('0x349')],_0x2fb964=void 0x0===_0x2fb964?0xb:_0x2fb964;(0x0,_0x5b957a['default'])(this,_0x5a24b6),this['camera']=_0x356d55,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x349')]=_0x2fb964,this[_0x10de('0x24c')]={'curves':!0x0,'circles':!0x1,'amount':0x32,'lineWidth':_0x3541b1,'dashArray':0x0,'dashOffset':0x0,'dashRatio':0.3,'taper':_0x275599,'map':!0x0,'sizeAttenuation':!0x1,'animateWidth':!0x1,'spread':!0x1,'autoRotate':!0x0,'autoUpdate':!0x0,'animateVisibility':!0x1,'animateDashOffset':!0x1,'isCanChangeStyle':_0x3c9fcd},this[_0x10de('0x335')]=_0x152bfe||new THREE[(_0x10de('0x1c8'))](window[_0x10de('0x36a')],window[_0x10de('0x36b')]),this[_0x10de('0x363')]=_0x108f42,this['texture']=_0x4cc026,this[_0x10de('0xdc')]['wrapT']=THREE[_0x10de('0x36c')],this[_0x10de('0xdc')]['wrapS']=THREE[_0x10de('0x36c')],this[_0x10de('0x233')]=_0x3f2cbb,this[_0x10de('0x33b')]=null,this[_0x10de('0x32e')]({'texture':_0x4cc026,'colorStr':_0x2a433a,'repeat':_0x2a1ab2}),this[_0x10de('0x34d')]=new THREE[(_0x10de('0x1ca'))](),this[_0x10de('0x34f')]=new THREE[(_0x10de('0x1ca'))](),this[_0x10de('0x350')]=new THREE[(_0x10de('0x1ca'))](),this[_0x10de('0x35e')]=[];}_0x356d55['default']=_0x4cc026;},function(_0x111567,_0x24819d,_0x19ab86){'use strict';Object[_0x10de('0x2')](_0x24819d,_0x10de('0x5'),{'value':!0x0});var _0x592079=_0x58fccc(_0x19ab86(0x0));function _0x58fccc(_0x111567){return _0x111567&&_0x111567[_0x10de('0x5')]?_0x111567:{'default':_0x111567};}function _0x4edd20(_0x111567,_0x24819d,_0x19ab86,_0x58fccc,_0x53d9ee){(0x0,_0x592079['default'])(this,_0x4edd20),this[_0x10de('0x36d')]=_0x111567,this[_0x10de('0x36e')]=_0x58fccc||_0x10de('0x36f'),this['view']=_0x24819d,this[_0x10de('0x370')]=_0x19ab86,this[_0x10de('0x371')]=this['handleGetPos'][_0x10de('0x8')](this),this[_0x10de('0x312')]=_0x53d9ee;}(0x0,_0x58fccc(_0x19ab86(0x1))['default'])(_0x4edd20,[{'key':'init','value':function(){this['container']['addEventListener'](this[_0x10de('0x36e')],this[_0x10de('0x371')],!0x1);}},{'key':_0x10de('0xce'),'value':function(){this['container']['removeEventListener'](this[_0x10de('0x36e')],this[_0x10de('0x371')],!0x1);}},{'key':_0x10de('0x372'),'value':function(_0x111567){var _0x111567=_0x111567||window[_0x10de('0x373')],_0x24819d=_0x111567[_0x10de('0x304')]||_0x111567['srcElement'];return _0x111567[_0x10de('0x374')]||(_0x24819d=_0x24819d[_0x10de('0x375')](),_0x111567[_0x10de('0x376')]-_0x24819d['left']);}},{'key':_0x10de('0x377'),'value':function(_0x111567){var _0x111567=_0x111567||window[_0x10de('0x373')],_0x24819d=_0x111567[_0x10de('0x304')]||_0x111567[_0x10de('0x378')];return _0x111567[_0x10de('0x379')]||(_0x24819d=_0x24819d[_0x10de('0x375')](),_0x111567[_0x10de('0x37a')]-_0x24819d[_0x10de('0x37b')]);}},{'key':'handleGetPos','value':function(_0x111567){var _0x24819d=this[_0x10de('0x372')](_0x111567),_0x111567=this['getOffsetY'](_0x111567);this[_0x10de('0x2fb')][_0x10de('0x37c')]({'x':_0x24819d,'y':_0x111567},this['layer'])[_0x10de('0xe')];}}],[{'key':_0x10de('0x37d'),'value':function(_0x111567){return ESTileMap['CoordTransform'][_0x10de('0x37e')]({'mapType':_0x10de('0x37f'),'longitude':_0x111567[0x0],'latitude':_0x111567[0x1]});}},{'key':_0x10de('0x380'),'value':function(_0x111567){return ESTileMap[_0x10de('0x381')]['getLoLaFromWorldPos']({'mapType':_0x10de('0x37f'),'x':_0x111567['x'],'z':_0x111567['y']});}}]),_0x24819d['default']=_0x4edd20;},function(_0x938ca6,_0x521876,_0x301bd7){_0x301bd7(0x88),_0x938ca6[_0x10de('0x1')]=_0x301bd7(0x2)[_0x10de('0x91')][_0x10de('0xd6')];},function(_0x43abd3,_0x2ed63a,_0x5512b7){var _0x2be6c5=_0x5512b7(0x12),_0x268785=_0x5512b7(0x44);_0x5512b7(0x48)('getPrototypeOf',function(){return function(_0x43abd3){return _0x268785(_0x2be6c5(_0x43abd3));};});},function(_0x16e7da,_0x340319,_0x236093){_0x236093(0x37),_0x236093(0x1a),_0x236093(0x1c),_0x236093(0x8a),_0x236093(0x8e),_0x236093(0x8f),_0x16e7da[_0x10de('0x1')]=_0x236093(0x2)[_0x10de('0x382')];},function(_0xf711d6,_0x23ab6b,_0x2b59a0){'use strict';function _0x14791f(){}function _0x2c08cb(_0xab8102){return 0x1!==_0xab8102['_h']&&0x0===(_0xab8102['_a']||_0xab8102['_c'])[_0x10de('0xe')];}var _0x505499,_0x1167ab,_0x2d1466,_0x2c6e07,_0x2e84e8=_0x2b59a0(0x14),_0x220d57=_0x2b59a0(0x4),_0xcae969=_0x2b59a0(0xf),_0x4f26e4=_0x2b59a0(0x30),_0x3c91c0=_0x2b59a0(0x3),_0x1c2dba=_0x2b59a0(0x9),_0x1e8c95=_0x2b59a0(0x22),_0x3d93df=_0x2b59a0(0x4b),_0x2521e1=_0x2b59a0(0x35),_0x12ef18=_0x2b59a0(0x6e),_0x6c0920=_0x2b59a0(0x6f)['set'],_0x21b258=_0x2b59a0(0x8c)(),_0x2bf10b=_0x2b59a0(0x58),_0x4fbab8=_0x2b59a0(0x70),_0x5277e5=_0x2b59a0(0x8d),_0x6fc1bd=_0x2b59a0(0x71),_0xe99cd3=_0x10de('0x382'),_0x4575d5=_0x220d57['TypeError'],_0x332026=_0x220d57[_0x10de('0x2cb')],_0x213c32=_0x332026&&_0x332026['versions'],_0x56ad99=_0x213c32&&_0x213c32['v8']||'',_0x465762=_0x220d57[_0xe99cd3],_0x11d4d9='process'==_0x4f26e4(_0x332026),_0x4826e5=_0x1167ab=_0x2bf10b['f'],_0x213c32=!!function(){try{var _0x4f26e4=_0x465762[_0x10de('0x2b6')](0x1),_0x505499=(_0x4f26e4[_0x10de('0xd7')]={})[_0x2b59a0(0x6)('species')]=function(_0x4f26e4){_0x4f26e4(_0x14791f,_0x14791f);};return(_0x11d4d9||_0x10de('0x14')==typeof PromiseRejectionEvent)&&_0x4f26e4['then'](_0x14791f)instanceof _0x505499&&0x0!==_0x56ad99[_0x10de('0x4d')](_0x10de('0x383'))&&-0x1===_0x5277e5[_0x10de('0x4d')](_0x10de('0x384'));}catch(_0x491524){}}(),_0xf06322=function(_0x4f26e4){var _0x505499;return!(!_0x1c2dba(_0x4f26e4)||_0x10de('0x14')!=typeof(_0x505499=_0x4f26e4[_0x10de('0x385')]))&&_0x505499;},_0xf3bd6=function(_0x1c2dba,_0x505499){var _0x2b59a0;_0x1c2dba['_n']||(_0x1c2dba['_n']=!0x0,_0x2b59a0=_0x1c2dba['_c'],_0x21b258(function(){for(var _0x1167ab,_0xcae969=_0x1c2dba['_v'],_0x3c91c0=0x1==_0x1c2dba['_s'],_0x4f26e4=0x0;_0x2b59a0[_0x10de('0xe')]>_0x4f26e4;)!function(_0x4f26e4){var _0x505499,_0x2b59a0,_0x14791f,_0x1167ab,_0x2c08cb=_0x3c91c0?_0x4f26e4['ok']:_0x4f26e4['fail'],_0x2d1466=_0x4f26e4[_0x10de('0x2b6')],_0x2c6e07=_0x4f26e4[_0x10de('0x386')],_0x2e84e8=_0x4f26e4['domain'];try{_0x2c08cb?(_0x3c91c0||(0x2==_0x1c2dba['_h']&&(_0x1167ab=_0x1c2dba,_0x6c0920[_0x10de('0x0')](_0x220d57,function(){var _0x4f26e4;_0x11d4d9?_0x332026[_0x10de('0x387')](_0x10de('0x388'),_0x1167ab):(_0x4f26e4=_0x220d57[_0x10de('0x389')])&&_0x4f26e4({'promise':_0x1167ab,'reason':_0x1167ab['_v']});})),_0x1c2dba['_h']=0x1),!0x0===_0x2c08cb?_0x505499=_0xcae969:(_0x2e84e8&&_0x2e84e8[_0x10de('0x38a')](),_0x505499=_0x2c08cb(_0xcae969),_0x2e84e8&&(_0x2e84e8[_0x10de('0x38b')](),_0x14791f=!0x0)),_0x505499===_0x4f26e4[_0x10de('0x2b4')]?_0x2c6e07(_0x4575d5(_0x10de('0x38c'))):(_0x2b59a0=_0xf06322(_0x505499))?_0x2b59a0[_0x10de('0x0')](_0x505499,_0x2d1466,_0x2c6e07):_0x2d1466(_0x505499)):_0x2c6e07(_0xcae969);}catch(_0x1ea2af){_0x2e84e8&&!_0x14791f&&_0x2e84e8[_0x10de('0x38b')](),_0x2c6e07(_0x1ea2af);}}(_0x2b59a0[_0x4f26e4++]);_0x1c2dba['_c']=[],_0x1c2dba['_n']=!0x1,_0x505499&&!_0x1c2dba['_h']&&(_0x1167ab=_0x1c2dba,_0x6c0920[_0x10de('0x0')](_0x220d57,function(){var _0x4f26e4,_0x505499,_0x2b59a0=_0x1167ab['_v'],_0x14791f=_0x2c08cb(_0x1167ab);if(_0x14791f&&(_0x4f26e4=_0x4fbab8(function(){_0x11d4d9?_0x332026[_0x10de('0x387')](_0x10de('0x38d'),_0x2b59a0,_0x1167ab):(_0x505499=_0x220d57[_0x10de('0x38e')])?_0x505499({'promise':_0x1167ab,'reason':_0x2b59a0}):(_0x505499=_0x220d57['console'])&&_0x505499[_0x10de('0x205')]&&_0x505499[_0x10de('0x205')](_0x10de('0x38f'),_0x2b59a0);}),_0x1167ab['_h']=_0x11d4d9||_0x2c08cb(_0x1167ab)?0x2:0x1),_0x1167ab['_a']=void 0x0,_0x14791f&&_0x4f26e4['e'])throw _0x4f26e4['v'];}));}));},_0x1e3680=function(_0x4f26e4){var _0x505499=this;_0x505499['_d']||(_0x505499['_d']=!0x0,(_0x505499=_0x505499['_w']||_0x505499)['_v']=_0x4f26e4,_0x505499['_s']=0x2,_0x505499['_a']||(_0x505499['_a']=_0x505499['_c']['slice']()),_0xf3bd6(_0x505499,!0x0));},_0x3fb1b4=function(_0x4f26e4){var _0x2b59a0,_0x14791f=this;if(!_0x14791f['_d']){_0x14791f['_d']=!0x0,_0x14791f=_0x14791f['_w']||_0x14791f;try{if(_0x14791f===_0x4f26e4)throw _0x4575d5(_0x10de('0x390'));(_0x2b59a0=_0xf06322(_0x4f26e4))?_0x21b258(function(){var _0x505499={'_w':_0x14791f,'_d':!0x1};try{_0x2b59a0[_0x10de('0x0')](_0x4f26e4,_0xcae969(_0x3fb1b4,_0x505499,0x1),_0xcae969(_0x1e3680,_0x505499,0x1));}catch(_0x229ef8){_0x1e3680[_0x10de('0x0')](_0x505499,_0x229ef8);}}):(_0x14791f['_v']=_0x4f26e4,_0x14791f['_s']=0x1,_0xf3bd6(_0x14791f,!0x1));}catch(_0x41e0ce){_0x1e3680[_0x10de('0x0')]({'_w':_0x14791f,'_d':!0x1},_0x41e0ce);}}};_0x213c32||(_0x465762=function(_0x4f26e4){_0x3d93df(this,_0x465762,_0xe99cd3,'_h'),_0x1e8c95(_0x4f26e4),_0x505499['call'](this);try{_0x4f26e4(_0xcae969(_0x3fb1b4,this,0x1),_0xcae969(_0x1e3680,this,0x1));}catch(_0x531e5a){_0x1e3680['call'](this,_0x531e5a);}},(_0x505499=function(_0x4f26e4){this['_c']=[],this['_a']=void 0x0,this['_s']=0x0,this['_d']=!0x1,this['_v']=void 0x0,this['_h']=0x0,this['_n']=!0x1;})['prototype']=_0x2b59a0(0x4c)(_0x465762[_0x10de('0xa')],{'then':function(_0x4f26e4,_0x505499){var _0x2b59a0=_0x4826e5(_0x12ef18(this,_0x465762));return _0x2b59a0['ok']=_0x10de('0x14')!=typeof _0x4f26e4||_0x4f26e4,_0x2b59a0[_0x10de('0x391')]=_0x10de('0x14')==typeof _0x505499&&_0x505499,_0x2b59a0['domain']=_0x11d4d9?_0x332026[_0x10de('0x392')]:void 0x0,this['_c'][_0x10de('0x84')](_0x2b59a0),this['_a']&&this['_a'][_0x10de('0x84')](_0x2b59a0),this['_s']&&_0xf3bd6(this,!0x1),_0x2b59a0[_0x10de('0x2b4')];},'catch':function(_0x4f26e4){return this[_0x10de('0x385')](void 0x0,_0x4f26e4);}}),_0x2d1466=function(){var _0x4f26e4=new _0x505499();this[_0x10de('0x2b4')]=_0x4f26e4,this[_0x10de('0x2b6')]=_0xcae969(_0x3fb1b4,_0x4f26e4,0x1),this[_0x10de('0x386')]=_0xcae969(_0x1e3680,_0x4f26e4,0x1);},_0x2bf10b['f']=_0x4826e5=function(_0x4f26e4){return _0x4f26e4===_0x465762||_0x4f26e4===_0x2c6e07?new _0x2d1466():_0x1167ab(_0x4f26e4);}),_0x3c91c0(_0x3c91c0['G']+_0x3c91c0['W']+_0x3c91c0['F']*!_0x213c32,{'Promise':_0x465762}),_0x2b59a0(0x18)(_0x465762,_0xe99cd3),_0x2b59a0(0x63)(_0xe99cd3),_0x2c6e07=_0x2b59a0(0x2)[_0xe99cd3],_0x3c91c0(_0x3c91c0['S']+_0x3c91c0['F']*!_0x213c32,_0xe99cd3,{'reject':function(_0x4f26e4){var _0x505499=_0x4826e5(this);return(0x0,_0x505499[_0x10de('0x386')])(_0x4f26e4),_0x505499[_0x10de('0x2b4')];}}),_0x3c91c0(_0x3c91c0['S']+_0x3c91c0['F']*(_0x2e84e8||!_0x213c32),_0xe99cd3,{'resolve':function(_0x4f26e4){return _0x6fc1bd(_0x2e84e8&&this===_0x2c6e07?_0x465762:this,_0x4f26e4);}}),_0x3c91c0(_0x3c91c0['S']+_0x3c91c0['F']*!(_0x213c32&&_0x2b59a0(0x74)(function(_0x4f26e4){_0x465762[_0x10de('0xe2')](_0x4f26e4)[_0x10de('0x393')](_0x14791f);})),_0xe99cd3,{'all':function(_0x4f26e4){var _0x2d1466=this,_0x505499=_0x4826e5(_0x2d1466),_0x2c6e07=_0x505499[_0x10de('0x2b6')],_0x2e84e8=_0x505499[_0x10de('0x386')],_0x2b59a0=_0x4fbab8(function(){var _0x14791f=[],_0x1167ab=0x0,_0x2c08cb=0x1;_0x2521e1(_0x4f26e4,!0x1,function(_0x4f26e4){var _0x505499=_0x1167ab++,_0x2b59a0=!0x1;_0x14791f[_0x10de('0x84')](void 0x0),_0x2c08cb++,_0x2d1466[_0x10de('0x2b6')](_0x4f26e4)[_0x10de('0x385')](function(_0x4f26e4){_0x2b59a0||(_0x2b59a0=!0x0,_0x14791f[_0x505499]=_0x4f26e4,--_0x2c08cb||_0x2c6e07(_0x14791f));},_0x2e84e8);}),--_0x2c08cb||_0x2c6e07(_0x14791f);});return _0x2b59a0['e']&&_0x2e84e8(_0x2b59a0['v']),_0x505499[_0x10de('0x2b4')];},'race':function(_0x4f26e4){var _0x505499=this,_0x2b59a0=_0x4826e5(_0x505499),_0x14791f=_0x2b59a0['reject'],_0x1167ab=_0x4fbab8(function(){_0x2521e1(_0x4f26e4,!0x1,function(_0x4f26e4){_0x505499[_0x10de('0x2b6')](_0x4f26e4)[_0x10de('0x385')](_0x2b59a0[_0x10de('0x2b6')],_0x14791f);});});return _0x1167ab['e']&&_0x14791f(_0x1167ab['v']),_0x2b59a0[_0x10de('0x2b4')];}});},function(_0x552d9b,_0x4c34b6){_0x552d9b[_0x10de('0x1')]=function(_0x552d9b,_0x4c34b6,_0x4886aa){var _0x424ced=void 0x0===_0x4886aa;switch(_0x4c34b6['length']){case 0x0:return _0x424ced?_0x552d9b():_0x552d9b[_0x10de('0x0')](_0x4886aa);case 0x1:return _0x424ced?_0x552d9b(_0x4c34b6[0x0]):_0x552d9b[_0x10de('0x0')](_0x4886aa,_0x4c34b6[0x0]);case 0x2:return _0x424ced?_0x552d9b(_0x4c34b6[0x0],_0x4c34b6[0x1]):_0x552d9b[_0x10de('0x0')](_0x4886aa,_0x4c34b6[0x0],_0x4c34b6[0x1]);case 0x3:return _0x424ced?_0x552d9b(_0x4c34b6[0x0],_0x4c34b6[0x1],_0x4c34b6[0x2]):_0x552d9b['call'](_0x4886aa,_0x4c34b6[0x0],_0x4c34b6[0x1],_0x4c34b6[0x2]);case 0x4:return _0x424ced?_0x552d9b(_0x4c34b6[0x0],_0x4c34b6[0x1],_0x4c34b6[0x2],_0x4c34b6[0x3]):_0x552d9b[_0x10de('0x0')](_0x4886aa,_0x4c34b6[0x0],_0x4c34b6[0x1],_0x4c34b6[0x2],_0x4c34b6[0x3]);}return _0x552d9b[_0x10de('0x15')](_0x4886aa,_0x4c34b6);};},function(_0x5e12f3,_0x247824,_0x26c9c1){var _0x2cc65a=_0x26c9c1(0x4),_0x1db644=_0x26c9c1(0x6f)['set'],_0x1312dc=_0x2cc65a[_0x10de('0x394')]||_0x2cc65a[_0x10de('0x395')],_0x9e44f6=_0x2cc65a[_0x10de('0x2cb')],_0x5ceab8=_0x2cc65a[_0x10de('0x382')],_0x2524e2='process'==_0x26c9c1(0x17)(_0x9e44f6);_0x5e12f3[_0x10de('0x1')]=function(){function _0x5e12f3(){var _0x5e12f3,_0x247824;for(_0x2524e2&&(_0x5e12f3=_0x9e44f6[_0x10de('0x392')])&&_0x5e12f3[_0x10de('0x38b')]();_0x26c9c1;){_0x247824=_0x26c9c1['fn'],_0x26c9c1=_0x26c9c1['next'];try{_0x247824();}catch(_0x5076a9){throw _0x26c9c1?_0x569b28():_0x265f3b=void 0x0,_0x5076a9;}}_0x265f3b=void 0x0,_0x5e12f3&&_0x5e12f3[_0x10de('0x38a')]();}var _0x26c9c1,_0x265f3b,_0x247824,_0x3b87e9,_0x1f7153,_0x569b28=_0x2524e2?function(){_0x9e44f6['nextTick'](_0x5e12f3);}:!_0x1312dc||_0x2cc65a[_0x10de('0x396')]&&_0x2cc65a[_0x10de('0x396')][_0x10de('0x397')]?_0x5ceab8&&_0x5ceab8[_0x10de('0x2b6')]?(_0x247824=_0x5ceab8['resolve'](void 0x0),function(){_0x247824['then'](_0x5e12f3);}):function(){_0x1db644[_0x10de('0x0')](_0x2cc65a,_0x5e12f3);}:(_0x3b87e9=!0x0,_0x1f7153=document[_0x10de('0x398')](''),new _0x1312dc(_0x5e12f3)[_0x10de('0x399')](_0x1f7153,{'characterData':!0x0}),function(){_0x1f7153[_0x10de('0x2ca')]=_0x3b87e9=!_0x3b87e9;});return function(_0x5e12f3){_0x5e12f3={'fn':_0x5e12f3,'next':void 0x0};_0x265f3b&&(_0x265f3b[_0x10de('0x88')]=_0x5e12f3),_0x26c9c1||(_0x26c9c1=_0x5e12f3,_0x569b28()),_0x265f3b=_0x5e12f3;};};},function(_0x3047ed,_0xa49759,_0x2942e6){_0x2942e6=_0x2942e6(0x4)[_0x10de('0x396')];_0x3047ed['exports']=_0x2942e6&&_0x2942e6[_0x10de('0x5e')]||'';},function(_0x4ec4b7,_0x45713,_0x1cddb7){'use strict';var _0x115fa8=_0x1cddb7(0x3),_0x3b5a94=_0x1cddb7(0x2),_0x496f56=_0x1cddb7(0x4),_0x450973=_0x1cddb7(0x6e),_0x4e4f6e=_0x1cddb7(0x71);_0x115fa8(_0x115fa8['P']+_0x115fa8['R'],_0x10de('0x382'),{'finally':function(_0x45713){var _0x1cddb7=_0x450973(this,_0x3b5a94[_0x10de('0x382')]||_0x496f56['Promise']),_0x4ec4b7=_0x10de('0x14')==typeof _0x45713;return this[_0x10de('0x385')](_0x4ec4b7?function(_0x4ec4b7){return _0x4e4f6e(_0x1cddb7,_0x45713())[_0x10de('0x385')](function(){return _0x4ec4b7;});}:_0x45713,_0x4ec4b7?function(_0x4ec4b7){return _0x4e4f6e(_0x1cddb7,_0x45713())['then'](function(){throw _0x4ec4b7;});}:_0x45713);}});},function(_0x56b780,_0x16f290,_0x1cb770){'use strict';var _0x6bd56b=_0x1cb770(0x3),_0x1440b9=_0x1cb770(0x58),_0x20421a=_0x1cb770(0x70);_0x6bd56b(_0x6bd56b['S'],_0x10de('0x382'),{'try':function(_0x56b780){var _0x16f290=_0x1440b9['f'](this),_0x56b780=_0x20421a(_0x56b780);return(_0x56b780['e']?_0x16f290[_0x10de('0x386')]:_0x16f290[_0x10de('0x2b6')])(_0x56b780['v']),_0x16f290['promise'];}});},function(_0x23cecc,_0x4c89e0,_0x4d86d1){_0x4d86d1(0x37),_0x4d86d1(0x1a),_0x4d86d1(0x1c),_0x4d86d1(0x91),_0x4d86d1(0x95),_0x4d86d1(0x97),_0x4d86d1(0x98),_0x23cecc[_0x10de('0x1')]=_0x4d86d1(0x2)[_0x10de('0x39a')];},function(_0x53bd7f,_0x543f2f,_0x5cbe0c){'use strict';var _0x392eeb=_0x5cbe0c(0x7b),_0x4bd9b1=_0x5cbe0c(0x62);_0x53bd7f[_0x10de('0x1')]=_0x5cbe0c(0x7c)(_0x10de('0x39a'),function(_0x53bd7f){return function(){return _0x53bd7f(this,0x0<arguments[_0x10de('0xe')]?arguments[0x0]:void 0x0);};},{'add':function(_0x53bd7f){return _0x392eeb[_0x10de('0x39b')](_0x4bd9b1(this,_0x10de('0x39a')),_0x53bd7f=0x0===_0x53bd7f?0x0:_0x53bd7f,_0x53bd7f);}},_0x392eeb);},function(_0x5b5712,_0x4229d0,_0x77038c){var _0x326f57=_0x77038c(0xf),_0xbc72c4=_0x77038c(0x33),_0x3402f2=_0x77038c(0x12),_0x2d744a=_0x77038c(0x2f),_0x34b65e=_0x77038c(0x93);_0x5b5712[_0x10de('0x1')]=function(_0x1b8837,_0x5b5712){var _0x144b9e=0x1==_0x1b8837,_0x3f4d15=0x2==_0x1b8837,_0x1249ee=0x3==_0x1b8837,_0x41e61b=0x4==_0x1b8837,_0x3030c0=0x6==_0x1b8837,_0x8db3b7=0x5==_0x1b8837||_0x3030c0,_0x4eb838=_0x5b5712||_0x34b65e;return function(_0x5b5712,_0x4229d0,_0x77038c){for(var _0x34b65e,_0x18b10f,_0x2aa48d=_0x3402f2(_0x5b5712),_0x55f321=_0xbc72c4(_0x2aa48d),_0x2b683f=_0x326f57(_0x4229d0,_0x77038c,0x3),_0x3aa7f9=_0x2d744a(_0x55f321[_0x10de('0xe')]),_0x4342a2=0x0,_0x1d695d=_0x144b9e?_0x4eb838(_0x5b5712,_0x3aa7f9):_0x3f4d15?_0x4eb838(_0x5b5712,0x0):void 0x0;_0x4342a2<_0x3aa7f9;_0x4342a2++)if((_0x8db3b7||_0x4342a2 in _0x55f321)&&(_0x18b10f=_0x2b683f(_0x34b65e=_0x55f321[_0x4342a2],_0x4342a2,_0x2aa48d),_0x1b8837))if(_0x144b9e)_0x1d695d[_0x4342a2]=_0x18b10f;else if(_0x18b10f)switch(_0x1b8837){case 0x3:return!0x0;case 0x5:return _0x34b65e;case 0x6:return _0x4342a2;case 0x2:_0x1d695d[_0x10de('0x84')](_0x34b65e);}else if(_0x41e61b)return!0x1;return _0x3030c0?-0x1:_0x1249ee||_0x41e61b?_0x41e61b:_0x1d695d;};};},function(_0x849e5a,_0x287a64,_0x2c408a){var _0x56396a=_0x2c408a(0x94);_0x849e5a[_0x10de('0x1')]=function(_0x849e5a,_0x287a64){return new(_0x56396a(_0x849e5a))(_0x287a64);};},function(_0x17c037,_0x1c2ad9,_0x2f5182){var _0x1daa83=_0x2f5182(0x9),_0x3e0f0a=_0x2f5182(0x49),_0x266adc=_0x2f5182(0x6)(_0x10de('0x2c7'));_0x17c037[_0x10de('0x1')]=function(_0x17c037){var _0x1c2ad9;return _0x3e0f0a(_0x17c037)&&(_0x10de('0x14')!=typeof(_0x1c2ad9=_0x17c037[_0x10de('0xd7')])||_0x1c2ad9!==Array&&!_0x3e0f0a(_0x1c2ad9['prototype'])||(_0x1c2ad9=void 0x0),_0x1daa83(_0x1c2ad9)&&null===(_0x1c2ad9=_0x1c2ad9[_0x266adc])&&(_0x1c2ad9=void 0x0)),void 0x0===_0x1c2ad9?Array:_0x1c2ad9;};},function(_0x410c36,_0x4a0a03,_0x50524f){var _0x336f17=_0x50524f(0x3);_0x336f17(_0x336f17['P']+_0x336f17['R'],_0x10de('0x39a'),{'toJSON':_0x50524f(0x7d)('Set')});},function(_0x3ca16a,_0x2be35c,_0x4a373b){var _0xe36ebb=_0x4a373b(0x35);_0x3ca16a[_0x10de('0x1')]=function(_0x3ca16a,_0x2be35c){var _0x4a373b=[];return _0xe36ebb(_0x3ca16a,!0x1,_0x4a373b[_0x10de('0x84')],_0x4a373b,_0x2be35c),_0x4a373b;};},function(_0x5dedbd,_0x13a92d,_0x5f39e1){_0x5f39e1(0x7e)('Set');},function(_0x1a8ede,_0x28d4fd,_0x5db8fa){_0x5db8fa(0x7f)(_0x10de('0x39a'));},,function(_0x56e064,_0x376399,_0x559499){'use strict';var _0x31a1f3=_0x4f0cb4(_0x559499(0x25)),_0x474b39=_0x4f0cb4(_0x559499(0x5a)),_0x37cfdb=_0x4f0cb4(_0x559499(0x11));function _0x4f0cb4(_0x559499){return _0x559499&&_0x559499['__esModule']?_0x559499:{'default':_0x559499};}!function(){function _0x559499(){this['positions']=[],this[_0x10de('0x39c')]=[],this[_0x10de('0x88')]=[],this['side']=[],this[_0x10de('0x35d')]=[],this[_0x10de('0x39d')]=[],this[_0x10de('0x39e')]=[],this['counters']=[],this[_0x10de('0xd0')]=new THREE[(_0x10de('0x352'))](),this[_0x10de('0x39f')]=null,this[_0x10de('0x3a0')]=new THREE[(_0x10de('0x353'))]();}var _0x7512b,_0x31bc08,_0x37e46a;function _0x477e0b(_0x559499,_0x4f0cb4,_0x56e064,_0x376399,_0x31a1f3){var _0x477e0b;if(_0x559499=_0x559499[_0x10de('0xf2')]||_0x559499['slice']?_0x559499:_0x559499[_0x10de('0x3a1')],_0x56e064=_0x56e064[_0x10de('0xf2')]||_0x56e064[_0x10de('0x86')]?_0x56e064:_0x56e064[_0x10de('0x3a1')],_0x559499=_0x4f0cb4?_0x559499[_0x10de('0xf2')]?_0x559499['subarray'](_0x4f0cb4,_0x31a1f3&&_0x4f0cb4+_0x31a1f3):_0x559499['slice'](_0x4f0cb4,_0x31a1f3&&_0x4f0cb4+_0x31a1f3):_0x559499,_0x56e064[_0x10de('0x1e')])_0x56e064[_0x10de('0x1e')](_0x559499,_0x376399);else for(_0x477e0b=0x0;_0x477e0b<_0x559499[_0x10de('0xe')];_0x477e0b++)_0x56e064[_0x477e0b+_0x376399]=_0x559499[_0x477e0b];}function _0x4f0cb4(_0x559499){THREE[_0x10de('0x1f2')][_0x10de('0x0')](this,{'uniforms':(0x0,_0x37cfdb[_0x10de('0x9')])({},THREE[_0x10de('0x3a2')]['fog'],{'lineWidth':{'value':0x1},'map':{'value':null},'useMap':{'value':0x0},'alphaMap':{'value':null},'useAlphaMap':{'value':0x0},'useFadeOut':{'value':0x0},'fadeOutFactor':{'value':0x0},'color':{'value':new THREE['Color'](0xffffff)},'opacity':{'value':0x1},'resolution':{'value':new THREE[(_0x10de('0x1c8'))](0x1,0x1)},'sizeAttenuation':{'value':0x1},'near':{'value':0x1},'far':{'value':0x1},'dashArray':{'value':0x0},'dashOffset':{'value':0x0},'dashRatio':{'value':0.5},'useDash':{'value':0x0},'visibility':{'value':0x1},'alphaTest':{'value':0x0},'repeat':{'value':new THREE[(_0x10de('0x1c8'))](0x1,0x1)},'offset':{'value':new THREE['Vector2'](0x0,0x0)},'useChange':{'value':0x0}}),'vertexShader':THREE[_0x10de('0x180')][_0x10de('0x3a3')],'fragmentShader':THREE[_0x10de('0x180')]['meshline_frag']}),this[_0x10de('0x85')]=_0x10de('0x330'),(0x0,_0x474b39[_0x10de('0x9')])(this,{'lineWidth':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x337')]['value'];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0x337')]['value']=_0x559499;}},'map':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0xcf')]['value'];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0xcf')][_0x10de('0x10')]=_0x559499;}},'useMap':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x3a4')]['value'];},'set':function(_0x559499){this['uniforms'][_0x10de('0x3a4')][_0x10de('0x10')]=_0x559499;}},'alphaMap':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x3a5')][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms'][_0x10de('0x3a5')][_0x10de('0x10')]=_0x559499;}},'useAlphaMap':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')]['useAlphaMap'][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms'][_0x10de('0x3a6')]['value']=_0x559499;}},'useFadeOut':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x35f')][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms'][_0x10de('0x35f')]['value']=_0x559499;}},'color':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x10de('0x232')][_0x10de('0x10')];},'set':function(_0x559499){this[_0x10de('0x1b4')]['color'][_0x10de('0x10')]=_0x559499;}},'opacity':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')]['opacity']['value'];},'set':function(_0x559499){this['uniforms'][_0x10de('0x233')][_0x10de('0x10')]=_0x559499;}},'resolution':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x10de('0x335')][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms'][_0x10de('0x335')][_0x10de('0x10')][_0x10de('0x1d3')](_0x559499);}},'sizeAttenuation':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x336')][_0x10de('0x10')];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0x336')][_0x10de('0x10')]=_0x559499;}},'near':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x339')][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms'][_0x10de('0x339')][_0x10de('0x10')]=_0x559499;}},'far':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x3a7')]['value'];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0x3a7')][_0x10de('0x10')]=_0x559499;}},'dashArray':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x332')][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms']['dashArray'][_0x10de('0x10')]=_0x559499,this['useDash']=0x0!==_0x559499?0x1:0x0;}},'dashOffset':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')]['dashOffset'][_0x10de('0x10')];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0x333')][_0x10de('0x10')]=_0x559499;}},'dashRatio':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x334')][_0x10de('0x10')];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0x334')][_0x10de('0x10')]=_0x559499;}},'useDash':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x3a8')][_0x10de('0x10')];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0x3a8')][_0x10de('0x10')]=_0x559499;}},'visibility':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')]['visibility'][_0x10de('0x10')];},'set':function(_0x559499){this[_0x10de('0x1b4')]['visibility']['value']=_0x559499;}},'alphaTest':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x10de('0x3a9')][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms'][_0x10de('0x3a9')][_0x10de('0x10')]=_0x559499;}},'fadeOutFactor':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')][_0x10de('0x360')][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms'][_0x10de('0x360')][_0x10de('0x10')]=_0x559499;}},'repeat':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x10de('0x2eb')]['value'];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0x2eb')][_0x10de('0x10')][_0x10de('0x1d3')](_0x559499);}},'offset':{'enumerable':!0x0,'get':function(){return this[_0x10de('0x1b4')]['offset']['value'];},'set':function(_0x559499){this[_0x10de('0x1b4')][_0x10de('0x10a')]['value'][_0x10de('0x1d3')](_0x559499);}},'useChange':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x10de('0x3aa')][_0x10de('0x10')];},'set':function(_0x559499){this['uniforms'][_0x10de('0x3aa')][_0x10de('0x10')]=_0x559499;}}}),this['setValues'](_0x559499);}_0x559499['prototype']['setMatrixWorld']=function(_0x559499){this[_0x10de('0x3a0')]=_0x559499;},_0x559499[_0x10de('0xa')]['setGeometry']=function(_0x559499,_0x4f0cb4){if(this['widthCallback']=_0x4f0cb4,this[_0x10de('0x3ab')]=[],this[_0x10de('0x3ac')]=[],_0x559499 instanceof THREE['Geometry'])for(var _0x56e064=0x0;_0x56e064<_0x559499[_0x10de('0x33f')]['length'];_0x56e064++){var _0x376399=_0x559499[_0x10de('0x33f')][_0x56e064],_0x4f0cb4=_0x56e064/_0x559499[_0x10de('0x33f')][_0x10de('0xe')];this[_0x10de('0x3ab')][_0x10de('0x84')](_0x376399['x'],_0x376399['y'],_0x376399['z']),this[_0x10de('0x3ab')][_0x10de('0x84')](_0x376399['x'],_0x376399['y'],_0x376399['z']),this['counters'][_0x10de('0x84')](_0x4f0cb4),this[_0x10de('0x3ac')][_0x10de('0x84')](_0x4f0cb4);}if(THREE['BufferGeometry'],_0x559499 instanceof Float32Array||_0x559499 instanceof Array)for(_0x56e064=0x0;_0x56e064<_0x559499[_0x10de('0xe')];_0x56e064+=0x3)_0x4f0cb4=_0x56e064/_0x559499['length'],this[_0x10de('0x3ab')]['push'](_0x559499[_0x56e064],_0x559499[_0x56e064+0x1],_0x559499[_0x56e064+0x2]),this[_0x10de('0x3ab')][_0x10de('0x84')](_0x559499[_0x56e064],_0x559499[_0x56e064+0x1],_0x559499[_0x56e064+0x2]),this[_0x10de('0x3ac')][_0x10de('0x84')](_0x4f0cb4),this['counters'][_0x10de('0x84')](_0x4f0cb4);this[_0x10de('0x2cb')]();},_0x559499['prototype'][_0x10de('0x3ad')]=(_0x7512b=new THREE[(_0x10de('0x353'))](),_0x31bc08=new THREE[(_0x10de('0x3ae'))](),_0x37e46a=new THREE[(_0x10de('0x3af'))](),function(_0x559499,_0x4f0cb4){var _0x56e064=_0x559499[_0x10de('0x3b0')],_0x376399=_0x56e064*_0x56e064,_0x56e064=this[_0x10de('0xd0')];if(null===_0x56e064['boundingSphere']&&_0x56e064['computeBoundingSphere'](),_0x37e46a['copy'](_0x56e064[_0x10de('0x3b1')]),_0x37e46a[_0x10de('0x3b2')](this[_0x10de('0x3a0')]),!0x1!==_0x559499['ray'][_0x10de('0x3b3')](_0x37e46a)){_0x7512b[_0x10de('0x3b4')](this[_0x10de('0x3a0')]),_0x31bc08['copy'](_0x559499[_0x10de('0x3b5')])[_0x10de('0x3b2')](_0x7512b);var _0x31a1f3=new THREE['Vector3'](),_0x477e0b=new THREE[(_0x10de('0x1ca'))](),_0x474b39=new THREE[(_0x10de('0x1ca'))](),_0x37cfdb=new THREE[(_0x10de('0x1ca'))](),_0x4f5ed2=this instanceof THREE[_0x10de('0x3b6')]?0x2:0x1;if(_0x56e064 instanceof THREE[_0x10de('0x352')]){var _0xe6ec46=_0x56e064[_0x10de('0x32a')],_0xcab713=_0x56e064['attributes'];if(null!==_0xe6ec46)for(var _0x578e94=_0xe6ec46[_0x10de('0xec')],_0x5d7aec=_0xcab713[_0x10de('0x222')][_0x10de('0xec')],_0x4e6ee4=0x0,_0x279f8b=_0x578e94['length']-0x1;_0x4e6ee4<_0x279f8b;_0x4e6ee4+=_0x4f5ed2){var _0x3fb850=_0x578e94[_0x4e6ee4],_0x5d329a=_0x578e94[_0x4e6ee4+0x1];_0x31a1f3[_0x10de('0x3b7')](_0x5d7aec,0x3*_0x3fb850),_0x477e0b[_0x10de('0x3b7')](_0x5d7aec,0x3*_0x5d329a),_0x376399<_0x31bc08['distanceSqToSegment'](_0x31a1f3,_0x477e0b,_0x37cfdb,_0x474b39)||(_0x37cfdb[_0x10de('0x3b2')](this[_0x10de('0x3a0')]),(_0x3dad4f=_0x559499[_0x10de('0x3b5')][_0x10de('0x3b8')][_0x10de('0x305')](_0x37cfdb))<_0x559499[_0x10de('0x339')]||_0x3dad4f>_0x559499[_0x10de('0x3a7')]||_0x4f0cb4[_0x10de('0x84')]({'distance':_0x3dad4f,'point':_0x474b39[_0x10de('0x1c5')]()[_0x10de('0x3b2')](this[_0x10de('0x3a0')]),'index':_0x4e6ee4,'face':null,'faceIndex':null,'object':this}));}else for(_0x4e6ee4=0x0,_0x279f8b=(_0x5d7aec=_0xcab713['position'][_0x10de('0xec')])[_0x10de('0xe')]/0x3-0x1;_0x4e6ee4<_0x279f8b;_0x4e6ee4+=_0x4f5ed2)_0x31a1f3[_0x10de('0x3b7')](_0x5d7aec,0x3*_0x4e6ee4),_0x477e0b[_0x10de('0x3b7')](_0x5d7aec,0x3*_0x4e6ee4+0x3),_0x376399<_0x31bc08[_0x10de('0x3b9')](_0x31a1f3,_0x477e0b,_0x37cfdb,_0x474b39)||(_0x37cfdb[_0x10de('0x3b2')](this['matrixWorld']),(_0x3dad4f=_0x559499[_0x10de('0x3b5')]['origin'][_0x10de('0x305')](_0x37cfdb))<_0x559499['near']||_0x3dad4f>_0x559499['far']||_0x4f0cb4[_0x10de('0x84')]({'distance':_0x3dad4f,'point':_0x474b39[_0x10de('0x1c5')]()['applyMatrix4'](this[_0x10de('0x3a0')]),'index':_0x4e6ee4,'face':null,'faceIndex':null,'object':this}));}else if(_0x56e064 instanceof THREE[_0x10de('0x33e')])for(var _0x3dad4f,_0x103aab=_0x56e064[_0x10de('0x33f')],_0x173e68=_0x103aab['length'],_0x4e6ee4=0x0;_0x4e6ee4<_0x173e68-0x1;_0x4e6ee4+=_0x4f5ed2)_0x376399<_0x31bc08[_0x10de('0x3b9')](_0x103aab[_0x4e6ee4],_0x103aab[_0x4e6ee4+0x1],_0x37cfdb,_0x474b39)||(_0x37cfdb[_0x10de('0x3b2')](this[_0x10de('0x3a0')]),(_0x3dad4f=_0x559499[_0x10de('0x3b5')][_0x10de('0x3b8')][_0x10de('0x305')](_0x37cfdb))<_0x559499[_0x10de('0x339')]||_0x3dad4f>_0x559499['far']||_0x4f0cb4[_0x10de('0x84')]({'distance':_0x3dad4f,'point':_0x474b39[_0x10de('0x1c5')]()[_0x10de('0x3b2')](this['matrixWorld']),'index':_0x4e6ee4,'face':null,'faceIndex':null,'object':this}));}}),_0x559499[_0x10de('0xa')][_0x10de('0x3ba')]=function(_0x559499,_0x4f0cb4){_0x559499*=0x6,_0x4f0cb4*=0x6;return this['positions'][_0x559499]===this[_0x10de('0x3ab')][_0x4f0cb4]&&this[_0x10de('0x3ab')][0x1+_0x559499]===this[_0x10de('0x3ab')][0x1+_0x4f0cb4]&&this[_0x10de('0x3ab')][0x2+_0x559499]===this[_0x10de('0x3ab')][0x2+_0x4f0cb4];},_0x559499['prototype']['copyV3']=function(_0x559499){_0x559499*=0x6;return[this['positions'][_0x559499],this['positions'][0x1+_0x559499],this['positions'][0x2+_0x559499]];},_0x559499[_0x10de('0xa')][_0x10de('0x2cb')]=function(){var _0x559499=this[_0x10de('0x3ab')][_0x10de('0xe')]/0x6;this[_0x10de('0x39c')]=[],this[_0x10de('0x88')]=[],this[_0x10de('0x3bb')]=[],this['width']=[],this[_0x10de('0x39d')]=[],this[_0x10de('0x39e')]=[];for(var _0x4f0cb4,_0x56e064=0x0;_0x56e064<_0x559499;_0x56e064++)this['side'][_0x10de('0x84')](0x1),this['side']['push'](-0x1);for(_0x56e064=0x0;_0x56e064<_0x559499;_0x56e064++)_0x4f0cb4=this[_0x10de('0x39f')]?this[_0x10de('0x39f')](_0x56e064/(_0x559499-0x1)):0x1,this[_0x10de('0x35d')]['push'](_0x4f0cb4),this[_0x10de('0x35d')][_0x10de('0x84')](_0x4f0cb4);for(var _0x376399,_0x56e064=0x0;_0x56e064<_0x559499;_0x56e064++)this[_0x10de('0x39e')]['push'](_0x56e064/(_0x559499-0x1),0x0),this[_0x10de('0x39e')][_0x10de('0x84')](_0x56e064/(_0x559499-0x1),0x1);for(_0x376399=this[_0x10de('0x3ba')](0x0,_0x559499-0x1)?this[_0x10de('0x3bc')](_0x559499-0x2):this[_0x10de('0x3bc')](0x0),this[_0x10de('0x39c')]['push'](_0x376399[0x0],_0x376399[0x1],_0x376399[0x2]),this[_0x10de('0x39c')]['push'](_0x376399[0x0],_0x376399[0x1],_0x376399[0x2]),_0x56e064=0x0;_0x56e064<_0x559499-0x1;_0x56e064++)_0x376399=this[_0x10de('0x3bc')](_0x56e064),this[_0x10de('0x39c')][_0x10de('0x84')](_0x376399[0x0],_0x376399[0x1],_0x376399[0x2]),this[_0x10de('0x39c')][_0x10de('0x84')](_0x376399[0x0],_0x376399[0x1],_0x376399[0x2]);for(_0x56e064=0x1;_0x56e064<_0x559499;_0x56e064++)_0x376399=this['copyV3'](_0x56e064),this[_0x10de('0x88')]['push'](_0x376399[0x0],_0x376399[0x1],_0x376399[0x2]),this[_0x10de('0x88')][_0x10de('0x84')](_0x376399[0x0],_0x376399[0x1],_0x376399[0x2]);for(_0x376399=this[_0x10de('0x3ba')](_0x559499-0x1,0x0)?this[_0x10de('0x3bc')](0x1):this[_0x10de('0x3bc')](_0x559499-0x1),this['next'][_0x10de('0x84')](_0x376399[0x0],_0x376399[0x1],_0x376399[0x2]),this[_0x10de('0x88')][_0x10de('0x84')](_0x376399[0x0],_0x376399[0x1],_0x376399[0x2]),_0x56e064=0x0;_0x56e064<_0x559499-0x1;_0x56e064++){var _0x31a1f3=0x2*_0x56e064;this[_0x10de('0x39d')][_0x10de('0x84')](_0x31a1f3,0x1+_0x31a1f3,0x2+_0x31a1f3),this['indices_array'][_0x10de('0x84')](0x2+_0x31a1f3,0x1+_0x31a1f3,0x3+_0x31a1f3);}this[_0x10de('0x17e')]?(this[_0x10de('0x17e')][_0x10de('0x222')][_0x10de('0x3bd')](new Float32Array(this[_0x10de('0x3ab')])),this[_0x10de('0x17e')]['position'][_0x10de('0x10c')]=!0x0,this[_0x10de('0x17e')][_0x10de('0x39c')][_0x10de('0x3bd')](new Float32Array(this[_0x10de('0x39c')])),this[_0x10de('0x17e')][_0x10de('0x39c')][_0x10de('0x10c')]=!0x0,this[_0x10de('0x17e')]['next'][_0x10de('0x3bd')](new Float32Array(this['next'])),this['attributes']['next'][_0x10de('0x10c')]=!0x0,this[_0x10de('0x17e')][_0x10de('0x3bb')]['copyArray'](new Float32Array(this[_0x10de('0x3bb')])),this[_0x10de('0x17e')][_0x10de('0x3bb')]['needsUpdate']=!0x0,this[_0x10de('0x17e')][_0x10de('0x35d')][_0x10de('0x3bd')](new Float32Array(this[_0x10de('0x35d')])),this[_0x10de('0x17e')][_0x10de('0x35d')][_0x10de('0x10c')]=!0x0,this[_0x10de('0x17e')]['uv']['copyArray'](new Float32Array(this[_0x10de('0x39e')])),this[_0x10de('0x17e')]['uv'][_0x10de('0x10c')]=!0x0,this[_0x10de('0x17e')][_0x10de('0x32a')]['copyArray'](new Uint16Array(this[_0x10de('0x39d')])),this[_0x10de('0x17e')][_0x10de('0x32a')][_0x10de('0x10c')]=!0x0):this[_0x10de('0x17e')]={'position':new THREE['BufferAttribute'](new Float32Array(this['positions']),0x3),'previous':new THREE['BufferAttribute'](new Float32Array(this['previous']),0x3),'next':new THREE[(_0x10de('0x116'))](new Float32Array(this[_0x10de('0x88')]),0x3),'side':new THREE[(_0x10de('0x116'))](new Float32Array(this[_0x10de('0x3bb')]),0x1),'width':new THREE['BufferAttribute'](new Float32Array(this[_0x10de('0x35d')]),0x1),'uv':new THREE[(_0x10de('0x116'))](new Float32Array(this['uvs']),0x2),'index':new THREE[(_0x10de('0x116'))](new Uint16Array(this['indices_array']),0x1),'counters':new THREE[(_0x10de('0x116'))](new Float32Array(this[_0x10de('0x3ac')]),0x1)},this[_0x10de('0xd0')]['addAttribute'](_0x10de('0x222'),this[_0x10de('0x17e')]['position']),this[_0x10de('0xd0')][_0x10de('0x202')](_0x10de('0x39c'),this['attributes']['previous']),this[_0x10de('0xd0')][_0x10de('0x202')](_0x10de('0x88'),this['attributes'][_0x10de('0x88')]),this['geometry'][_0x10de('0x202')](_0x10de('0x3bb'),this[_0x10de('0x17e')][_0x10de('0x3bb')]),this[_0x10de('0xd0')]['addAttribute'](_0x10de('0x35d'),this[_0x10de('0x17e')][_0x10de('0x35d')]),this['geometry'][_0x10de('0x202')]('uv',this[_0x10de('0x17e')]['uv']),this['geometry'][_0x10de('0x202')](_0x10de('0x3ac'),this[_0x10de('0x17e')][_0x10de('0x3ac')]),this['geometry'][_0x10de('0x3be')](this[_0x10de('0x17e')][_0x10de('0x32a')]);},_0x559499[_0x10de('0xa')][_0x10de('0x3bf')]=function(_0x559499){var _0x4f0cb4=this[_0x10de('0x17e')][_0x10de('0x222')]['array'],_0x56e064=this[_0x10de('0x17e')][_0x10de('0x39c')][_0x10de('0xec')],_0x376399=this[_0x10de('0x17e')][_0x10de('0x88')][_0x10de('0xec')],_0x31a1f3=_0x4f0cb4[_0x10de('0xe')];_0x477e0b(_0x4f0cb4,0x0,_0x56e064,0x0,_0x31a1f3),_0x477e0b(_0x4f0cb4,0x6,_0x4f0cb4,0x0,_0x31a1f3-0x6),_0x4f0cb4[_0x31a1f3-0x6]=_0x559499['x'],_0x4f0cb4[_0x31a1f3-0x5]=_0x559499['y'],_0x4f0cb4[_0x31a1f3-0x4]=_0x559499['z'],_0x4f0cb4[_0x31a1f3-0x3]=_0x559499['x'],_0x4f0cb4[_0x31a1f3-0x2]=_0x559499['y'],_0x4f0cb4[_0x31a1f3-0x1]=_0x559499['z'],_0x477e0b(_0x4f0cb4,0x6,_0x376399,0x0,_0x31a1f3-0x6),_0x376399[_0x31a1f3-0x6]=_0x559499['x'],_0x376399[_0x31a1f3-0x5]=_0x559499['y'],_0x376399[_0x31a1f3-0x4]=_0x559499['z'],_0x376399[_0x31a1f3-0x3]=_0x559499['x'],_0x376399[_0x31a1f3-0x2]=_0x559499['y'],_0x376399[_0x31a1f3-0x1]=_0x559499['z'],this[_0x10de('0x17e')][_0x10de('0x222')]['needsUpdate']=!0x0,this[_0x10de('0x17e')][_0x10de('0x39c')][_0x10de('0x10c')]=!0x0,this[_0x10de('0x17e')][_0x10de('0x88')][_0x10de('0x10c')]=!0x0;},THREE[_0x10de('0x180')][_0x10de('0x3a3')]=['',THREE[_0x10de('0x180')]['common'],THREE[_0x10de('0x180')]['logdepthbuf_pars_vertex'],THREE[_0x10de('0x180')][_0x10de('0x183')],'','attribute\x20vec3\x20previous;','attribute\x20vec3\x20next;','attribute\x20vec3\x20changeColor;',_0x10de('0x3c0'),_0x10de('0x3c1'),'attribute\x20float\x20counters;','',_0x10de('0x3c2'),_0x10de('0x3c3'),_0x10de('0x3c4'),_0x10de('0x3c5'),_0x10de('0x3c6'),_0x10de('0x3c7'),'uniform\x20float\x20sizeAttenuation;','',_0x10de('0x3c8'),_0x10de('0x126'),_0x10de('0x3c9'),_0x10de('0x3ca'),'','vec2\x20fix(\x20vec4\x20i,\x20float\x20aspect\x20)\x20{','',_0x10de('0x3cb'),_0x10de('0x3cc'),_0x10de('0x3cd'),_0x10de('0x3ce'),'','}','','void\x20main()\x20{','',_0x10de('0x3cf'),_0x10de('0x3d0'),'','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20color,\x20opacity\x20);',_0x10de('0x3d1'),_0x10de('0x3d2'),'',_0x10de('0x3d3'),_0x10de('0x3d4'),_0x10de('0x3d5'),_0x10de('0x3d6'),'',_0x10de('0x3d7'),_0x10de('0x3d8'),_0x10de('0x3d9'),'',_0x10de('0x3da'),_0x10de('0x3db'),'','\x20\x20\x20\x20if(\x20sizeAttenuation\x20==\x201.\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.8\x20*\x20lineWidth\x20*\x20width;',_0x10de('0x14c'),'',_0x10de('0x3dc'),'\x20\x20\x20\x20if(\x20nextP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);',_0x10de('0x3dd'),'\x20\x20\x20\x20else\x20{',_0x10de('0x3de'),_0x10de('0x3df'),_0x10de('0x3e0'),'',_0x10de('0x3e1'),_0x10de('0x3e2'),_0x10de('0x3e3'),'',_0x10de('0x14c'),'',_0x10de('0x3e4'),'\x20\x20\x20\x20vec2\x20normal\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);',_0x10de('0x3e5'),_0x10de('0x3e6'),'',_0x10de('0x3e7'),_0x10de('0x3e8'),'','\x20\x20\x20\x20gl_Position\x20=\x20finalPosition;','',THREE[_0x10de('0x180')][_0x10de('0x1b3')],THREE[_0x10de('0x180')][_0x10de('0x3e9')]&&_0x10de('0x3ea'),THREE[_0x10de('0x180')][_0x10de('0x3e9')],'}'][_0x10de('0x119')]('\x0d\x0a'),THREE[_0x10de('0x180')][_0x10de('0x3eb')]=['',THREE['ShaderChunk'][_0x10de('0x1b5')],THREE[_0x10de('0x180')][_0x10de('0x1b6')],'',_0x10de('0x3ec'),_0x10de('0x3ed'),'uniform\x20float\x20useMap;',_0x10de('0x3ee'),_0x10de('0x3ef'),_0x10de('0x3f0'),_0x10de('0x3f1'),_0x10de('0x3f2'),_0x10de('0x3f3'),'uniform\x20float\x20visibility;',_0x10de('0x3f4'),_0x10de('0x3f5'),'uniform\x20float\x20useChange;','uniform\x20vec2\x20repeat;',_0x10de('0x3f6'),'',_0x10de('0x3c8'),_0x10de('0x126'),_0x10de('0x3ca'),'varying\x20vec3\x20vChangeColor;','',_0x10de('0x18a'),'',THREE[_0x10de('0x180')][_0x10de('0x1ba')],'',_0x10de('0x3f7'),'\x20\x20\x20\x20if(\x20useMap\x20==\x201.\x20)\x20c\x20*=\x20texture2D(\x20map,\x20vUV\x20*\x20repeat\x20+\x20offset\x20);',_0x10de('0x3f8'),_0x10de('0x3f9'),_0x10de('0x3fa'),_0x10de('0x3fb'),_0x10de('0x3fc'),_0x10de('0x14c'),_0x10de('0x3fd'),_0x10de('0x3fe'),_0x10de('0x3ff'),'',THREE[_0x10de('0x180')][_0x10de('0x1bc')],'}']['join']('\x0d\x0a'),((_0x4f0cb4[_0x10de('0xa')]=(0x0,_0x31a1f3[_0x10de('0x9')])(THREE[_0x10de('0x1f2')]['prototype']))[_0x10de('0xd7')]=_0x4f0cb4)[_0x10de('0xa')][_0x10de('0x400')]=!0x0,_0x4f0cb4[_0x10de('0xa')][_0x10de('0x1d3')]=function(_0x559499){return THREE[_0x10de('0x1f2')][_0x10de('0xa')][_0x10de('0x1d3')][_0x10de('0x0')](this,_0x559499),this[_0x10de('0x337')]=_0x559499[_0x10de('0x337')],this[_0x10de('0xcf')]=_0x559499['map'],this[_0x10de('0x3a4')]=_0x559499[_0x10de('0x3a4')],this[_0x10de('0x3a5')]=_0x559499[_0x10de('0x3a5')],this[_0x10de('0x3a6')]=_0x559499['useAlphaMap'],this[_0x10de('0x35f')]=_0x559499[_0x10de('0x35f')],this[_0x10de('0x360')]=_0x559499[_0x10de('0x360')],this[_0x10de('0x232')]['copy'](_0x559499[_0x10de('0x232')]),this[_0x10de('0x233')]=_0x559499['opacity'],this[_0x10de('0x335')]['copy'](_0x559499[_0x10de('0x335')]),this['sizeAttenuation']=_0x559499[_0x10de('0x336')],this[_0x10de('0x339')]=_0x559499['near'],this[_0x10de('0x3a7')]=_0x559499[_0x10de('0x3a7')],this['dashArray'][_0x10de('0x1d3')](_0x559499[_0x10de('0x332')]),this[_0x10de('0x333')][_0x10de('0x1d3')](_0x559499[_0x10de('0x333')]),this[_0x10de('0x334')][_0x10de('0x1d3')](_0x559499[_0x10de('0x334')]),this[_0x10de('0x3a8')]=_0x559499[_0x10de('0x3a8')],this[_0x10de('0x401')]=_0x559499['visibility'],this[_0x10de('0x3a9')]=_0x559499[_0x10de('0x3a9')],this['repeat'][_0x10de('0x1d3')](_0x559499[_0x10de('0x2eb')]),this[_0x10de('0x10a')]['copy'](_0x559499[_0x10de('0x10a')]),this;},(_0x376399=_0x56e064[_0x10de('0x1')]?_0x56e064[_0x10de('0x1')]={'MeshLine':_0x559499,'MeshLineMaterial':_0x4f0cb4}:_0x376399)['MeshLine']=_0x559499,_0x376399[_0x10de('0x330')]=_0x4f0cb4;}['call'](void 0x0);},function(_0x29fd95,_0x3c36d7,_0x538097){'use strict';Object[_0x10de('0x2')](_0x3c36d7,_0x10de('0x5'),{'value':!0x0}),_0x3c36d7[_0x10de('0x9')]={'createCircleGradient':function(_0x29fd95){var _0x3c36d7=document[_0x10de('0x87')]('canvas'),_0x538097=(_0x3c36d7[_0x10de('0x35d')]=0x100,_0x3c36d7[_0x10de('0x32c')]=0x100,_0x3c36d7['getContext']('2d')),_0x29fd95=_0x538097[_0x10de('0x402')](0x80,0x80,0x80*_0x29fd95[0x0],0x80,0x80,0x80*_0x29fd95[0x1]);return _0x29fd95[_0x10de('0x403')](0x0,'rgba(255,\x20255,\x20255,\x201)'),_0x29fd95[_0x10de('0x403')](0x1,_0x10de('0x404')),_0x538097[_0x10de('0x405')]=_0x29fd95,_0x538097['fillRect'](0x0,0x0,0x100,0x100),_0x3c36d7;}};},,function(_0x135e1f,_0x40498b,_0x11cba3){_0x135e1f[_0x10de('0x1')]={'default':_0x11cba3(0xab),'__esModule':!0x0};},function(_0x344d40,_0x15d15f,_0x5e67ec){'use strict';Object[_0x10de('0x2')](_0x15d15f,_0x10de('0x5'),{'value':!0x0});var _0x4ac6b8=_0x586244(_0x5e67ec(0x0));function _0x586244(_0x344d40){return _0x344d40&&_0x344d40[_0x10de('0x5')]?_0x344d40:{'default':_0x344d40};}function _0x97f793(_0x344d40){var _0x15d15f=_0x344d40['view'],_0x5e67ec=_0x344d40[_0x10de('0x406')],_0x586244=_0x344d40['originColor'],_0x344d40=_0x344d40['replaceColor'];(0x0,_0x4ac6b8[_0x10de('0x9')])(this,_0x97f793),this[_0x10de('0x2fb')]=_0x15d15f,this[_0x10de('0x406')]=_0x5e67ec,this[_0x10de('0x407')]=_0x586244||new THREE[(_0x10de('0x1cc'))](0xaadaff),this['replaceColor']=_0x344d40||new THREE['Color'](0x135d63);}(0x0,_0x586244(_0x5e67ec(0x1))[_0x10de('0x9')])(_0x97f793,[{'key':_0x10de('0x408'),'value':function(_0x344d40){this['view']=_0x344d40;}},{'key':'update','value':function(){this[_0x10de('0x2fb')]&&this[_0x10de('0x406')]&&this[_0x10de('0x409')](this['view']['tileLayer'][_0x10de('0x368')],function(_0x344d40){_0x344d40[_0x10de('0x40a')]+=0.005;});}},{'key':_0x10de('0x409'),'value':function(_0x344d40,_0x15d15f){_0x344d40[_0x10de('0xd1')](function(_0x344d40){_0x344d40[_0x10de('0x40')]&&_0x15d15f(_0x344d40['material']);});}}]),_0x15d15f[_0x10de('0x9')]=_0x97f793;},function(_0x123e09,_0x2a441c,_0x3dd241){'use strict';Object[_0x10de('0x2')](_0x2a441c,_0x10de('0x5'),{'value':!0x0});var _0x259112=_0x64d47b(_0x3dd241(0x0));function _0x64d47b(_0x123e09){return _0x123e09&&_0x123e09[_0x10de('0x5')]?_0x123e09:{'default':_0x123e09};}function _0x58377f(_0x123e09){var _0x2a441c=_0x123e09['texture'],_0x3dd241=_0x123e09['colorStr'],_0x3dd241=void 0x0===_0x3dd241?'#40ffff':_0x3dd241,_0x64d47b=_0x123e09['isSpread'],_0x186af8=_0x123e09['radius'],_0x123e09=_0x123e09[_0x10de('0x363')],_0x123e09=void 0x0===_0x123e09?0x1:_0x123e09;(0x0,_0x259112[_0x10de('0x9')])(this,_0x58377f),this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x32f')]=_0x3dd241,this[_0x10de('0x40b')]=_0x64d47b,this[_0x10de('0x40')]=null,this[_0x10de('0x40c')]=null,this[_0x10de('0x230')]=_0x186af8||0xc8,this[_0x10de('0x40d')]=null,this['count']=0x0,this['speed']=_0x123e09,this['createMaterial'](_0x3dd241,_0x2a441c);}(0x0,_0x64d47b(_0x3dd241(0x1))[_0x10de('0x9')])(_0x58377f,[{'key':_0x10de('0x32e'),'value':function(_0x123e09,_0x2a441c){var _0x3dd241=this;this[_0x10de('0x40')]=new THREE[(_0x10de('0x40e'))]({'transparent':!0x0}),this[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](_0x123e09),this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x123e09){_0x123e09['uniforms'][_0x10de('0x410')]={'value':0x0},_0x123e09['uniforms']['spread']={'value':_0x3dd241[_0x10de('0x40b')]?-0x1:0x1},_0x123e09['uniforms'][_0x10de('0x411')]={'value':_0x2a441c},_0x123e09[_0x10de('0x59')]=_0x123e09[_0x10de('0x59')]['replace'](_0x10de('0x412'),_0x10de('0x413')),_0x123e09[_0x10de('0x59')]=_0x123e09[_0x10de('0x59')]['replace'](_0x10de('0x414'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x123e09[_0x10de('0x5a')]=_0x123e09[_0x10de('0x5a')][_0x10de('0x57')]('uniform\x20float\x20opacity;',_0x10de('0x415')),_0x123e09[_0x10de('0x5a')]=_0x123e09['fragmentShader'][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x417')),_0x3dd241['shader']=_0x123e09;};}},{'key':_0x10de('0x7a'),'value':function(){var _0x123e09=new THREE[(_0x10de('0x418'))](this[_0x10de('0x230')],this[_0x10de('0x230')]),_0x123e09=new THREE[(_0x10de('0x348'))](_0x123e09,this[_0x10de('0x40')]);return _0x123e09[_0x10de('0x1fd')]['x']=0.5*-Math['PI'],this['object3d'][_0x10de('0x1d5')](_0x123e09),_0x123e09;}},{'key':_0x10de('0x362'),'value':function(){this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]+=0.01*this['speed'],this[_0x10de('0x40d')][_0x10de('0x1b4')]['iTime'][_0x10de('0x10')]=this[_0x10de('0x114')]);}}]),_0x2a441c[_0x10de('0x9')]=_0x58377f;},function(_0x5bf25d,_0xb478f4,_0x3ea11f){'use strict';Object[_0x10de('0x2')](_0xb478f4,_0x10de('0x5'),{'value':!0x0});var _0x5c0c88=_0x252607(_0x3ea11f(0x5)),_0x1f855f=_0x252607(_0x3ea11f(0x0));function _0x252607(_0x5bf25d){return _0x5bf25d&&_0x5bf25d[_0x10de('0x5')]?_0x5bf25d:{'default':_0x5bf25d};}function _0x259e99(_0x5bf25d){var _0xb478f4=_0x5bf25d[_0x10de('0x338')],_0x3ea11f=_0x5bf25d['controls'],_0x252607=_0x5bf25d['colorStr'],_0x252607=void 0x0===_0x252607?_0x10de('0x365'):_0x252607,_0x8eee72=_0x5bf25d['texture'],_0x1c4852=_0x5bf25d[_0x10de('0x419')],_0x5bf25d=_0x5bf25d[_0x10de('0x363')],_0x5bf25d=void 0x0===_0x5bf25d?0x1:_0x5bf25d;(0x0,_0x1f855f[_0x10de('0x9')])(this,_0x259e99),this[_0x10de('0x338')]=_0xb478f4,this[_0x10de('0x2fc')]=_0x3ea11f,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this['lookAtPos']=new THREE[(_0x10de('0x1ca'))](),this['material']=null,this[_0x10de('0x40d')]=null,this['count']=0x0,this[_0x10de('0x41a')]=0x0,this['speed']=_0x5bf25d,this[_0x10de('0x41b')]=!0x1,this[_0x10de('0x41c')]=!0x1,this['list']=[],this['createMaterial']({'colorStr':_0x252607,'texture':_0x8eee72,'alphaTex':_0x1c4852}),this[_0x10de('0x41d')]=0x0;}(0x0,_0x252607(_0x3ea11f(0x1))['default'])(_0x259e99,[{'key':'createMaterial','value':function(_0x5bf25d){var _0xb478f4=_0x5bf25d[_0x10de('0x32f')],_0x3ea11f=_0x5bf25d[_0x10de('0xdc')],_0x252607=_0x5bf25d['alphaTex'],_0x3d349e=(_0x3ea11f['wrapS']=THREE[_0x10de('0x36c')],_0x3ea11f[_0x10de('0x41e')]=THREE[_0x10de('0x36c')],this['material']=new THREE[(_0x10de('0x40e'))]({'color':0xffffff,'side':THREE[_0x10de('0x33a')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE['AdditiveBlending']}),_0xb478f4&&(this[_0x10de('0x40')]['color']=new THREE[(_0x10de('0x1cc'))]()['setStyle'](_0xb478f4)),this);this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x5bf25d){_0x5bf25d[_0x10de('0x1b4')][_0x10de('0x410')]={'value':0x1},_0x5bf25d['uniforms']['exRadius']={'value':_0x3d349e['extentRadius']},_0x5bf25d['uniforms'][_0x10de('0x41f')]={'value':_0x3ea11f},_0x5bf25d[_0x10de('0x1b4')][_0x10de('0x419')]={'value':_0x252607},_0x5bf25d[_0x10de('0x59')]=_0x5bf25d[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x420'),_0x10de('0x421')),_0x5bf25d[_0x10de('0x59')]=_0x5bf25d[_0x10de('0x59')]['replace'](_0x10de('0x422'),_0x10de('0x423')),_0x5bf25d[_0x10de('0x59')]=_0x5bf25d[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x424'),_0x10de('0x425')),_0x5bf25d[_0x10de('0x5a')]=_0x5bf25d[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x426')),_0x5bf25d[_0x10de('0x5a')]=_0x5bf25d['fragmentShader'][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x427')),_0x3d349e[_0x10de('0x40d')]=_0x5bf25d;};}},{'key':'create','value':function(_0x5bf25d){for(var _0xb478f4=_0x5bf25d[_0x10de('0x35d')],_0xb478f4=void 0x0===_0xb478f4?0xa:_0xb478f4,_0x3ea11f=_0x5bf25d['height'],_0x3ea11f=void 0x0===_0x3ea11f?0x50:_0x3ea11f,_0x252607=_0x5bf25d['extentRadius'],_0x5bf25d=_0x5bf25d[_0x10de('0x349')],_0x5bf25d=void 0x0===_0x5bf25d?0x4d:_0x5bf25d,_0x252607=(this['extentRadius']=void 0x0===_0x252607?0x64:_0x252607,new THREE[(_0x10de('0x418'))](_0xb478f4,_0x3ea11f)),_0x283ac5=_0x252607['getAttribute'](_0x10de('0x222'))[_0x10de('0x114')],_0x51dad3=[],_0x5c0c88=THREE['Math']['randFloat'](0.08,0.15),_0x1f855f=0x0;_0x1f855f<_0x283ac5;_0x1f855f++)_0x51dad3[_0x10de('0x84')](_0x5c0c88);_0x252607['addAttribute'](_0x10de('0x363'),new THREE['Float32BufferAttribute'](_0x51dad3,0x1));_0xb478f4=new THREE[(_0x10de('0x348'))](_0x252607,this[_0x10de('0x40')]);return _0xb478f4['renderOrder']=_0x5bf25d,_0xb478f4[_0x10de('0x428')]=!0x1,this[_0x10de('0x368')][_0x10de('0x1d5')](_0xb478f4),this['list']['push'](_0xb478f4),_0xb478f4;}},{'key':_0x10de('0x429'),'value':function(_0x5bf25d){for(var _0xb478f4=_0x5bf25d['extentRadius'],_0x3ea11f=void 0x0===_0xb478f4?0x64:_0xb478f4,_0xb478f4=_0x5bf25d[_0x10de('0x337')],_0x252607=void 0x0===_0xb478f4?0x1:_0xb478f4,_0xb478f4=_0x5bf25d[_0x10de('0x42a')],_0x30b083=void 0x0===_0xb478f4?0x8:_0xb478f4,_0xb478f4=_0x5bf25d[_0x10de('0x42b')],_0x54d627=void 0x0===_0xb478f4?0x32:_0xb478f4,_0x5c0c88=0x0;_0x5c0c88<_0x54d627;_0x5c0c88++){var _0x1f855f=this[_0x10de('0x7a')]({'width':_0x252607,'height':_0x30b083,'extentRadius':_0x3ea11f});_0x1f855f[_0x10de('0x428')]=!0x1,_0x1f855f[_0x10de('0x222')]['set'](-Math['random']()*_0x3ea11f+_0x3ea11f/0x2,-Math[_0x10de('0x63')]()*_0x3ea11f,-Math[_0x10de('0x63')]()*_0x3ea11f+_0x3ea11f/0x2);}}},{'key':_0x10de('0x42c'),'value':function(){this[_0x10de('0x41b')]=!0x0;var _0xb478f4=this;this[_0x10de('0x42d')](),this[_0x10de('0x2fc')][_0x10de('0x2d6')](_0x10de('0x31b'),function(_0x5bf25d){_0xb478f4['isNeedUpdateLookAt']=!0x0;}),this[_0x10de('0x2fc')][_0x10de('0x2d6')](_0x10de('0x42e'),function(_0x5bf25d){_0xb478f4[_0x10de('0x41c')]=!0x1;});}},{'key':_0x10de('0x42d'),'value':function(){if(this[_0x10de('0x338')]){var _0x5bf25d=!0x0,_0xb478f4=!0x1,_0x3ea11f=void 0x0;try{for(var _0x252607,_0x2c1435=(0x0,_0x5c0c88[_0x10de('0x9')])(this[_0x10de('0x42f')]);!(_0x5bf25d=(_0x252607=_0x2c1435[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x5bf25d=!0x0){var _0x2f408a=_0x252607[_0x10de('0x10')];this['lookAtPos'][_0x10de('0x1e')](this['camera']['position']['x'],_0x2f408a[_0x10de('0x222')]['y'],this[_0x10de('0x338')][_0x10de('0x222')]['z']),_0x2f408a[_0x10de('0x430')](this[_0x10de('0x431')]);}}catch(_0x3944dc){_0xb478f4=!0x0,_0x3ea11f=_0x3944dc;}finally{try{!_0x5bf25d&&_0x2c1435['return']&&_0x2c1435[_0x10de('0xdf')]();}finally{if(_0xb478f4)throw _0x3ea11f;}}}}},{'key':_0x10de('0x362'),'value':function(){this[_0x10de('0x41b')]&&(this[_0x10de('0x41c')]&&this[_0x10de('0x42d')](),this[_0x10de('0x114')]+=0.005*this[_0x10de('0x363')],this[_0x10de('0x40d')]&&(this[_0x10de('0x40d')]['uniforms'][_0x10de('0x410')]['value']=this[_0x10de('0x114')]));}},{'key':_0x10de('0x364'),'set':function(_0x5bf25d){this[_0x10de('0x368')]['visible']=_0x5bf25d;},'get':function(){return this['object3d'][_0x10de('0x364')];}}]),_0xb478f4['default']=_0x259e99;},function(_0x513a3a,_0x56257b,_0x5dfcec){'use strict';Object[_0x10de('0x2')](_0x56257b,'__esModule',{'value':!0x0});var _0x23cf39=_0x5822d5(_0x5dfcec(0x0)),_0x52cab2=_0x5822d5(_0x5dfcec(0x1)),_0x318a6b=_0x5822d5(_0x5dfcec(0x47)),_0x45d192=_0x5dfcec(0x13);function _0x5822d5(_0x513a3a){return _0x513a3a&&_0x513a3a[_0x10de('0x5')]?_0x513a3a:{'default':_0x513a3a};}function _0x54d8d2(_0x513a3a){_0x513a3a=_0x513a3a[_0x10de('0x1e8')],_0x513a3a=void 0x0===_0x513a3a?0xa:_0x513a3a;(0x0,_0x23cf39[_0x10de('0x9')])(this,_0x54d8d2),this['enabled']=!0x1,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x1e8')]=_0x513a3a,this[_0x10de('0x432')]=null,this[_0x10de('0x433')]=null,this[_0x10de('0x434')]=null,this[_0x10de('0x435')]=null,this['centerGroup']=null,this['_visible']=!0x0;}(0x0,_0x52cab2[_0x10de('0x9')])(_0x54d8d2,[{'key':'create','value':function(_0x513a3a){var _0x56257b=_0x513a3a[_0x10de('0x436')],_0x5dfcec=_0x513a3a['outTex'],_0x23cf39=(_0x513a3a[_0x10de('0x437')],_0x513a3a[_0x10de('0x438')]),_0x23cf39=void 0x0===_0x23cf39?{'x':0x1,'y':0x1}:_0x23cf39,_0x52cab2=_0x513a3a[_0x10de('0x1e6')],_0x5822d5=_0x513a3a['angle'],_0x513a3a=_0x513a3a['vectorSpread'],_0x54d8d2=(this['centerGroup']=new THREE[(_0x10de('0x1d7'))](),new THREE['Vector3']());_0x513a3a&&(_0x54d8d2=(0x0,_0x45d192['directionFromAlphaBeta'])(_0x513a3a[_0x10de('0x301')],_0x513a3a[_0x10de('0x311')]))['multiplyScalar'](_0x513a3a[_0x10de('0x1fb')]),this['fireSmokeParticle']=new _0x318a6b[(_0x10de('0x9'))][(_0x10de('0x1d7'))]({'texture':{'value':_0x5dfcec},'blending':THREE[_0x10de('0x439')],'depthWrite':!0x1,'depthTest':_0x52cab2,'maxParticleCount':0.5*(_0x23cf39['x']+_0x23cf39['y'])*0xa0}),this[_0x10de('0x43a')]=new _0x318a6b[(_0x10de('0x9'))][(_0x10de('0x216'))]({'maxAge':{'value':1.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE[(_0x10de('0x1ca'))](_0x23cf39['x']+0x1,0x1,_0x23cf39['y']+0x1)},'acceleration':{'value':_0x54d8d2['clone'](),'spread':_0x54d8d2[_0x10de('0x1c5')]()},'velocity':{'value':new THREE[(_0x10de('0x1ca'))](0x0,0x2,0x0),'spread':new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE[(_0x10de('0x1cc'))](0xad926c),new THREE['Color'](0x605f5c),new THREE[(_0x10de('0x1cc'))](0xa9a9a9)]},'size':{'value':[0x5*this[_0x10de('0x1e8')],0x10*this[_0x10de('0x1e8')],0xe*this['scale']]},'particleCount':0.5*(_0x23cf39['x']+_0x23cf39['y'])*0xa0}),this[_0x10de('0x433')]['material'][_0x10de('0x1b4')][_0x10de('0x43b')][_0x10de('0x10')]=new THREE[(_0x10de('0x1cc'))](),this[_0x10de('0x434')]=new _0x318a6b['default']['Group']({'texture':{'value':_0x56257b},'blending':THREE[_0x10de('0x1e3')],'depthWrite':!0x1,'depthTest':_0x52cab2,'maxParticleCount':0.5*(_0x23cf39['x']+_0x23cf39['y'])*0x78}),this[_0x10de('0x43c')]=new _0x318a6b[(_0x10de('0x9'))][(_0x10de('0x216'))]({'maxAge':{'value':0x1},'position':{'value':new THREE[(_0x10de('0x1ca'))](0x0,0x0,0x0),'spread':new THREE[(_0x10de('0x1ca'))](_0x23cf39['x'],0x1,_0x23cf39['y'])},'acceleration':{'value':new THREE[(_0x10de('0x1ca'))](0.1,0.5,0.1),'spread':new THREE[(_0x10de('0x1ca'))](0x0,0.1,0x0)},'velocity':{'value':new THREE[(_0x10de('0x1ca'))](0x0,0x1,0x0),'spread':new THREE[(_0x10de('0x1ca'))](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE['Color'](0xffa000),new THREE['Color'](0xff7c00),new THREE['Color'](0xff4100)]},'size':{'value':[+this['scale'],0x5*this[_0x10de('0x1e8')],0x2*this[_0x10de('0x1e8')]]},'wiggle':{'value':[0.5]},'particleCount':0.5*(_0x23cf39['x']+_0x23cf39['y'])*0x78}),this[_0x10de('0x434')][_0x10de('0x40')][_0x10de('0x1b4')][_0x10de('0x43b')][_0x10de('0x10')]=new THREE[(_0x10de('0x1cc'))](),this[_0x10de('0x433')][_0x10de('0x204')](this[_0x10de('0x43a')]),this[_0x10de('0x434')]['addEmitter'](this[_0x10de('0x43c')]),this[_0x10de('0x433')][_0x10de('0x1f6')][_0x10de('0x1e8')][_0x10de('0x1e')](this[_0x10de('0x1e8')],this[_0x10de('0x1e8')],this['scale']),this[_0x10de('0x434')][_0x10de('0x1f6')][_0x10de('0x1e8')][_0x10de('0x1e')](this[_0x10de('0x1e8')],this['scale'],this[_0x10de('0x1e8')]),this[_0x10de('0x43d')]['add'](this[_0x10de('0x433')][_0x10de('0x1f6')]),this[_0x10de('0x43d')][_0x10de('0x1d5')](this['fireParticle'][_0x10de('0x1f6')]),this[_0x10de('0x43d')][_0x10de('0x349')]=0x5a,void 0x0!==_0x5822d5&&(this['centerGroup'][_0x10de('0x1fd')]['y']=THREE[_0x10de('0x18')][_0x10de('0x315')](_0x5822d5)),this['object3d'][_0x10de('0x1d5')](this['centerGroup']),this['enabled']=!0x0;}},{'key':_0x10de('0x362'),'value':function(_0x513a3a){this[_0x10de('0x43e')]&&(this[_0x10de('0x433')]&&this[_0x10de('0x433')]['tick'](_0x513a3a),this[_0x10de('0x434')]&&this[_0x10de('0x434')][_0x10de('0x22b')](_0x513a3a));}},{'key':_0x10de('0x43f'),'value':function(_0x513a3a){(0x64<_0x513a3a||_0x513a3a<0x0)&&(_0x513a3a=0x64);_0x513a3a=Math['round'](0x64*(0x1-_0x513a3a/0x64))/0x64;this['fireEmitter'][_0x10de('0x271')]=_0x513a3a,this[_0x10de('0x43a')]['activeMultiplier']=_0x513a3a;}},{'key':'visible','set':function(_0x513a3a){this[_0x10de('0x440')]=_0x513a3a,this[_0x10de('0x43d')]['visible']=_0x513a3a;}}]),_0x56257b[_0x10de('0x9')]=_0x54d8d2;},function(_0x4c3952,_0x3a0f43,_0x42884c){'use strict';Object[_0x10de('0x2')](_0x3a0f43,_0x10de('0x5'),{'value':!0x0});var _0x398e36=_0x495a32(_0x42884c(0x0)),_0x44d7be=_0x495a32(_0x42884c(0x1)),_0x3426c3=_0x495a32(_0x42884c(0x47));function _0x495a32(_0x4c3952){return _0x4c3952&&_0x4c3952['__esModule']?_0x4c3952:{'default':_0x4c3952};}function _0x14b8bf(_0x4c3952){_0x4c3952=_0x4c3952['scale'],_0x4c3952=void 0x0===_0x4c3952?0x1:_0x4c3952;(0x0,_0x398e36[_0x10de('0x9')])(this,_0x14b8bf),this[_0x10de('0x43e')]=!0x1,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this['scale']=_0x4c3952,this[_0x10de('0x432')]=null,this[_0x10de('0x441')]=null,this['emitter']=null,this['centerGroup']=null,this[_0x10de('0x440')]=!0x0;}(0x0,_0x44d7be[_0x10de('0x9')])(_0x14b8bf,[{'key':'create','value':function(_0x4c3952){var _0x3a0f43=_0x4c3952[_0x10de('0xdc')],_0x42884c=_0x4c3952[_0x10de('0x438')],_0x42884c=void 0x0===_0x42884c?0x32:_0x42884c,_0x398e36=_0x4c3952[_0x10de('0x442')],_0x398e36=void 0x0===_0x398e36?0x12c:_0x398e36,_0x44d7be=_0x4c3952['dirAngle'],_0x44d7be=void 0x0===_0x44d7be?0x0:_0x44d7be,_0x495a32=_0x4c3952[_0x10de('0x301')],_0x495a32=void 0x0===_0x495a32?0x0:_0x495a32,_0x14b8bf=_0x4c3952[_0x10de('0x443')],_0x14b8bf=void 0x0!==_0x14b8bf&&_0x14b8bf,_0x4c3952=_0x4c3952[_0x10de('0x437')]?0x4:0x1;this[_0x10de('0x43d')]=new THREE[(_0x10de('0x1d7'))](),this['particleGroup']=new _0x3426c3[(_0x10de('0x9'))][(_0x10de('0x1d7'))]({'texture':{'value':_0x3a0f43}}),this[_0x10de('0x435')]=new _0x3426c3['default'][(_0x10de('0x216'))]({'maxAge':{'value':0x1},'acceleration':{'value':new THREE[(_0x10de('0x1ca'))](0x0,-0x3,0x14),'spread':new THREE[(_0x10de('0x1ca'))](0xf,0xf,0xf)},'velocity':{'value':new THREE[(_0x10de('0x1ca'))](0x0,_0x42884c,0x0),'spread':new THREE[(_0x10de('0x1ca'))](0x5,7.5,0x5)},'color':{'value':[new THREE[(_0x10de('0x1cc'))](0x5ba3f1)]},'size':{'value':0x3*this[_0x10de('0x1e8')]},'particleCount':_0x398e36*_0x4c3952}),this['particleGroup'][_0x10de('0x40')][_0x10de('0x1b4')][_0x10de('0x43b')][_0x10de('0x10')]=new THREE['Color'](),this[_0x10de('0x441')][_0x10de('0x204')](this[_0x10de('0x435')]),this[_0x10de('0x441')][_0x10de('0x1f6')]['scale'][_0x10de('0x1e')](this[_0x10de('0x1e8')],this['scale'],this[_0x10de('0x1e8')]),this[_0x10de('0x43d')][_0x10de('0x1d5')](this[_0x10de('0x441')][_0x10de('0x1f6')]),this[_0x10de('0x43d')][_0x10de('0x349')]=0xb,_0x14b8bf&&this[_0x10de('0x43d')][_0x10de('0x1d5')](new THREE[(_0x10de('0x444'))](0x2710)),(_0x44d7be<0x0||0x168<_0x44d7be)&&(_0x44d7be=0x0),(_0x495a32<0x0||0x3c<_0x495a32)&&(_0x495a32=0x0),this['centerGroup'][_0x10de('0x445')](THREE[_0x10de('0x18')]['degToRad'](_0x44d7be)),this['centerGroup'][_0x10de('0x446')](THREE[_0x10de('0x18')][_0x10de('0x315')](_0x495a32)),this[_0x10de('0x368')]['add'](this[_0x10de('0x43d')]),this[_0x10de('0x43e')]=!0x0;}},{'key':_0x10de('0x362'),'value':function(_0x4c3952){this[_0x10de('0x43e')]&&this[_0x10de('0x441')]&&this['particleGroup'][_0x10de('0x22b')](_0x4c3952);}},{'key':_0x10de('0x447'),'value':function(_0x4c3952){(0x64<_0x4c3952||_0x4c3952<0x0)&&(_0x4c3952=0x64);_0x4c3952=Math['round'](0x64*(0x1-_0x4c3952/0x64))/0x64;this[_0x10de('0x435')][_0x10de('0x271')]=_0x4c3952;}},{'key':_0x10de('0x364'),'set':function(_0x4c3952){this['_visible']=_0x4c3952,this[_0x10de('0x43d')]['visible']=_0x4c3952;}}]),_0x3a0f43[_0x10de('0x9')]=_0x14b8bf;},function(_0x3911f4,_0x549280,_0x46e130){_0x3911f4[_0x10de('0x1')]={'default':_0x46e130(0xa4),'__esModule':!0x0};},function(_0x12556f,_0x5df88b,_0x263db5){_0x263db5(0xa5),_0x12556f[_0x10de('0x1')]=_0x263db5(0x2)[_0x10de('0x18')][_0x10de('0x448')];},function(_0x21ba3c,_0x199321,_0x284706){var _0x284706=_0x284706(0x3),_0x381664=Math[_0x10de('0x1cd')];_0x284706(_0x284706['S'],_0x10de('0x18'),{'hypot':function(_0x21ba3c,_0x199321){for(var _0x284706,_0x452108,_0x363eb1=0x0,_0x6a614c=0x0,_0x15cc8b=arguments[_0x10de('0xe')],_0x1abe44=0x0;_0x6a614c<_0x15cc8b;)_0x1abe44<(_0x284706=_0x381664(arguments[_0x6a614c++]))?(_0x363eb1=_0x363eb1*(_0x452108=_0x1abe44/_0x284706)*_0x452108+0x1,_0x1abe44=_0x284706):_0x363eb1+=0x0<_0x284706?(_0x452108=_0x284706/_0x1abe44)*_0x452108:_0x284706;return _0x1abe44===0x1/0x0?0x1/0x0:_0x1abe44*Math[_0x10de('0x1d0')](_0x363eb1);}});},function(_0x346c31,_0x4e5a4d,_0x155a30){'use strict';Object[_0x10de('0x2')](_0x4e5a4d,_0x10de('0x5'),{'value':!0x0});var _0x16b98d=_0x329347(_0x155a30(0x0)),_0x40379e=_0x329347(_0x155a30(0x1)),_0x327232=_0x155a30(0x83);function _0x329347(_0x346c31){return _0x346c31&&_0x346c31[_0x10de('0x5')]?_0x346c31:{'default':_0x346c31};}function _0x289e0c(_0x346c31){var _0x4e5a4d=_0x346c31[_0x10de('0x449')],_0x4e5a4d=void 0x0===_0x4e5a4d?0x14:_0x4e5a4d,_0x155a30=_0x346c31[_0x10de('0x32c')],_0x155a30=void 0x0===_0x155a30?0x2:_0x155a30,_0x40379e=_0x346c31['pointSize'],_0x40379e=void 0x0===_0x40379e?0x32:_0x40379e,_0x346c31=_0x346c31[_0x10de('0x32f')],_0x346c31=void 0x0===_0x346c31?_0x10de('0x44a'):_0x346c31;(0x0,_0x16b98d[_0x10de('0x9')])(this,_0x289e0c),this[_0x10de('0x368')]=new THREE[(_0x10de('0x1d7'))](),this[_0x10de('0x368')][_0x10de('0x8c')]=_0x10de('0x44b'),this['height']=_0x155a30,this[_0x10de('0x44c')]=_0x40379e,this[_0x10de('0x32f')]=_0x346c31,this['points']=null,this[_0x10de('0x44d')]=_0x4e5a4d,this[_0x10de('0x40')]=null,this[_0x10de('0x40d')]=null,this[_0x10de('0x44e')]=[],this['currIndex']=0x0,this['animateHandle']=null,this['count']=0x0;}(0x0,_0x40379e[_0x10de('0x9')])(_0x289e0c,[{'key':'create','value':function(_0x346c31){for(var _0x4e5a4d,_0x155a30=_0x346c31['points'],_0x346c31=_0x346c31[_0x10de('0xdc')],_0x40379e=(this['routePoints']=(0x0,_0x327232[_0x10de('0x327')])(_0x155a30,this[_0x10de('0x44d')]),this[_0x10de('0x44e')][0x0]),_0x16b98d=new Float32Array(0x4*this[_0x10de('0x44e')][_0x10de('0xe')]),_0x329347=0x0,_0x289e0c=this['routePoints'][_0x10de('0xe')];_0x329347<_0x289e0c;_0x329347++)_0x16b98d[0x0+(_0x4e5a4d=0x4*_0x329347)]=this['routePoints'][_0x329347]['x']-_0x40379e['x'],_0x16b98d[0x1+_0x4e5a4d]=this[_0x10de('0x44e')][_0x329347]['y']-_0x40379e['y'],_0x16b98d[0x2+_0x4e5a4d]=this[_0x10de('0x44e')][_0x329347]['z']-_0x40379e['z'],_0x16b98d[0x3+_0x4e5a4d]=_0x329347;var _0x155a30=new THREE[(_0x10de('0x352'))](),_0x275fc1=new THREE[(_0x10de('0x44f'))](_0x16b98d,0x4),_0xc7b814=(_0x155a30[_0x10de('0x202')](_0x10de('0x222'),new THREE['InterleavedBufferAttribute'](_0x275fc1,0x3,0x0)),_0x155a30[_0x10de('0x202')](_0x10de('0x450'),new THREE[(_0x10de('0x451'))](_0x275fc1,0x1,0x3)),this[_0x10de('0x40')]=new THREE[(_0x10de('0x452'))]({'color':0xffffff,'map':_0x346c31,'blending':THREE[_0x10de('0x1e3')],'sizeAttenuation':!0x0,'size':this[_0x10de('0x44c')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0.2}),this[_0x10de('0x32f')]&&(this[_0x10de('0x40')][_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](this[_0x10de('0x32f')])),this);return this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x346c31){_0x346c31['uniforms']['iTime']={'value':0x0},_0x346c31['vertexShader']=_0x346c31[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x11e'),_0x10de('0x453')),_0x346c31[_0x10de('0x59')]=_0x346c31[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x454'),_0x10de('0x455')),_0x346c31[_0x10de('0x5a')]=_0x346c31[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sin2(const\x20float\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20v\x20=\x20mod(value,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20step(0.5,\x20v);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.0\x20-\x20s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(v\x20*\x20t\x20+\x20(1.0\x20-\x20v)\x20*\x20s)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x346c31[_0x10de('0x5a')]=_0x346c31['fragmentShader']['replace'](_0x10de('0x456'),_0x10de('0x457')),_0xc7b814[_0x10de('0x40d')]=_0x346c31;},this[_0x10de('0x284')]=new THREE[(_0x10de('0x29a'))](_0x155a30,this[_0x10de('0x40')]),this[_0x10de('0x284')][_0x10de('0x349')]=0x47,this[_0x10de('0x368')]['add'](this[_0x10de('0x284')]),this[_0x10de('0x284')];}},{'key':_0x10de('0x362'),'value':function(_0x346c31){this[_0x10de('0x284')]&&this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]+=_0x346c31,this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')]);}},{'key':'_addTestBox','value':function(){var _0x346c31=new THREE[(_0x10de('0x458'))](0xa,0xa,0xa),_0x4e5a4d=new THREE[(_0x10de('0x459'))]({'color':0xffc033});return _0x4e5a4d[_0x10de('0x45a')][_0x10de('0x1d3')](new THREE['Color'](0xfff000)),_0x4e5a4d[_0x10de('0x45a')][_0x10de('0x45b')](0.1,0x1,0.5),new THREE[(_0x10de('0x348'))](_0x346c31,_0x4e5a4d);}},{'key':'_moveObjInPointsLine','value':function(_0x4e5a4d,_0x155a30,_0x40379e){var _0x16b98d=this;this[_0x10de('0x45c')]=setInterval(function(){if(_0x16b98d[_0x10de('0x45d')]>=_0x16b98d[_0x10de('0x44e')][_0x10de('0xe')])return _0x16b98d[_0x10de('0x45d')]=0x0,void clearInterval(_0x16b98d[_0x10de('0x45c')]);var _0x346c31=_0x16b98d[_0x10de('0x44e')][_0x16b98d[_0x10de('0x45d')]];_0x346c31['y']=_0x40379e,_0x16b98d[_0x10de('0x45e')](_0x155a30,_0x346c31,_0x4e5a4d),_0x16b98d['currIndex']++;},_0x4e5a4d);}},{'key':_0x10de('0x45e'),'value':function(_0x346c31,_0x4e5a4d,_0x155a30,_0x40379e){var _0x16b98d=new THREE[(_0x10de('0x1ca'))]();_0x16b98d[_0x10de('0x1d3')](_0x4e5a4d),new TWEEN['Tween'](_0x346c31[_0x10de('0x222')])['to'](_0x16b98d,_0x155a30)[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x45f')][_0x10de('0x460')])[_0x10de('0x31a')](function(){_0x40379e&&_0x40379e();})[_0x10de('0x31b')]();}},{'key':'visible','set':function(_0x346c31){this[_0x10de('0x284')]&&(this[_0x10de('0x284')][_0x10de('0x364')]=_0x346c31);}},{'key':_0x10de('0x461'),'set':function(_0x346c31){this[_0x10de('0x284')][_0x10de('0x40')][_0x10de('0x336')]=!_0x346c31,this['points']['material']['needsUpdate']=!0x0;}}]),_0x4e5a4d[_0x10de('0x9')]=_0x289e0c;},function(_0x3e457e,_0x1c6eb8,_0x280caa){'use strict';Object[_0x10de('0x2')](_0x1c6eb8,'__esModule',{'value':!0x0});var _0x2a227c=_0x2826f8(_0x280caa(0x0));function _0x2826f8(_0x3e457e){return _0x3e457e&&_0x3e457e[_0x10de('0x5')]?_0x3e457e:{'default':_0x3e457e};}function _0x4f3f95(_0x3e457e){(0x0,_0x2a227c[_0x10de('0x9')])(this,_0x4f3f95),this[_0x10de('0x462')]=function(_0x3e457e,_0x1c6eb8){var _0x280caa=new THREE[(_0x10de('0x463'))](),_0x3e457e=this[_0x10de('0x464')](_0x3e457e),_0x2a227c=THREE[_0x10de('0x465')]['cube'],_0x2a227c=new THREE[(_0x10de('0x1f2'))]({'fragmentShader':_0x2a227c[_0x10de('0x5a')],'vertexShader':_0x2a227c[_0x10de('0x59')],'uniforms':_0x2a227c[_0x10de('0x1b4')],'depthWrite':!0x1,'depthTest':!0x1,'side':THREE[_0x10de('0x466')],'fog':!0x1}),_0x2a227c=(_0x2a227c[_0x10de('0x1b4')]['tCube']['value']=_0x3e457e,new THREE[(_0x10de('0x348'))](new THREE[(_0x10de('0x458'))](0x64,0x64,0x64),_0x2a227c));return _0x2a227c['position'][_0x10de('0x1d3')](_0x1c6eb8),_0x2a227c[_0x10de('0x1e8')][_0x10de('0x1e')](0xf4240,0xf4240,0xf4240),_0x280caa['add'](_0x2a227c),this[_0x10de('0x467')][_0x10de('0x1d5')](_0x280caa),_0x3e457e;},this[_0x10de('0x467')]=_0x3e457e;}(0x0,_0x2826f8(_0x280caa(0x1))[_0x10de('0x9')])(_0x4f3f95,[{'key':'createTextureCube','value':function(_0x3e457e){_0x3e457e=new THREE[(_0x10de('0xe4'))]()[_0x10de('0xdb')](_0x3e457e);return _0x3e457e['format']=THREE[_0x10de('0x468')],_0x3e457e[_0x10de('0x469')]=THREE[_0x10de('0x46a')],_0x3e457e[_0x10de('0x46b')]=THREE['sRGBEncoding'],_0x3e457e;}}]),_0x1c6eb8[_0x10de('0x9')]=_0x4f3f95;},function(_0x3fecae,_0x51fefe,_0x29adff){'use strict';Object['defineProperty'](_0x51fefe,'__esModule',{'value':!0x0});var _0x1749a1=_0x52268a(_0x29adff(0x4a)),_0x103092=_0x52268a(_0x29adff(0x1b)),_0x11cb8e=_0x52268a(_0x29adff(0x0)),_0x4c992b=_0x52268a(_0x29adff(0x1)),_0x1b8fe4=_0x52268a(_0x29adff(0x1e)),_0x3794e3=_0x52268a(_0x29adff(0x1f)),_0x96344b=_0x52268a(_0x29adff(0x3d)),_0x2a4ee=_0x29adff(0x2a),_0x11bb73=_0x52268a(_0x29adff(0x46));function _0x52268a(_0x3fecae){return _0x3fecae&&_0x3fecae['__esModule']?_0x3fecae:{'default':_0x3fecae};}function _0x1f24dd(_0x3fecae){var _0x3fecae=_0x3fecae[_0x10de('0x46c')],_0x51fefe=((0x0,_0x11cb8e[_0x10de('0x9')])(this,_0x1f24dd),(0x0,_0x1b8fe4[_0x10de('0x9')])(this,(_0x1f24dd['__proto__']||(0x0,_0x103092[_0x10de('0x9')])(_0x1f24dd))[_0x10de('0x0')](this)));return _0x51fefe[_0x10de('0x2fb')]=_0x3fecae,_0x51fefe[_0x10de('0x46d')]=null,_0x51fefe[_0x10de('0x46e')]=null,_0x51fefe[_0x10de('0x46f')]=null,_0x51fefe;}_0x29adff=_0x2a4ee['EventDispatcher'],(0x0,_0x3794e3[_0x10de('0x9')])(_0x1f24dd,_0x29adff),(0x0,_0x4c992b[_0x10de('0x9')])(_0x1f24dd,[{'key':'createSixPicCubeTexture','value':function(_0x3fecae,_0x51fefe){var _0x29adff=this;_0x11bb73[_0x10de('0x9')][_0x10de('0xe3')](_0x3fecae)[_0x10de('0x385')](function(_0x3fecae){_0x29adff[_0x10de('0x46d')]=_0x3fecae,_0x29adff[_0x10de('0x2ef')]({'type':'canUpdate'}),_0x51fefe&&_0x51fefe();});}},{'key':_0x10de('0x470'),'value':function(_0x3fecae,_0x4c992b,_0x51fefe){var _0x29adff=this,_0x103092=new THREE[(_0x10de('0x471'))]([]);_0x103092['format']=THREE[_0x10de('0x468')],new THREE['ImageLoader']()['load'](_0x3fecae,function(_0x11cb8e){function _0x3fecae(_0x3fecae,_0x51fefe){var _0x29adff=_0x4c992b||0x400,_0x103092=document[_0x10de('0x87')](_0x10de('0x472'));return _0x103092[_0x10de('0x35d')]=_0x29adff,_0x103092[_0x10de('0x32c')]=_0x29adff,_0x103092[_0x10de('0x473')]('2d')[_0x10de('0x474')](_0x11cb8e,-_0x3fecae*_0x29adff,-_0x51fefe*_0x29adff),_0x103092;}_0x103092[_0x10de('0x475')][0x0]=_0x3fecae(0x2,0x1),_0x103092[_0x10de('0x475')][0x1]=_0x3fecae(0x0,0x1),_0x103092[_0x10de('0x475')][0x2]=_0x3fecae(0x1,0x0),_0x103092[_0x10de('0x475')][0x3]=_0x3fecae(0x1,0x2),_0x103092[_0x10de('0x475')][0x4]=_0x3fecae(0x1,0x1),_0x103092[_0x10de('0x475')][0x5]=_0x3fecae(0x3,0x1),_0x103092[_0x10de('0x10c')]=!0x0,_0x29adff[_0x10de('0x46d')]=_0x103092,_0x29adff[_0x10de('0x2ef')]({'type':_0x10de('0x476')}),_0x51fefe&&_0x51fefe();});}},{'key':_0x10de('0x477'),'value':function(_0x3fecae){var _0x51fefe=_0x3fecae[_0x10de('0xe8')],_0x29adff=_0x3fecae[_0x10de('0x379')],_0x103092=_0x3fecae[_0x10de('0x478')],_0x103092=void 0x0!==_0x103092&&_0x103092,_0x3fecae=_0x3fecae[_0x10de('0x479')],_0x3fecae=void 0x0===_0x3fecae?0x1:_0x3fecae,_0x11cb8e=JSON[_0x10de('0x2f4')]((0x0,_0x1749a1['default'])(THREE['ShaderLib'][_0x10de('0x47a')])),_0x103092=(_0x11cb8e['uniforms'][_0x10de('0x47b')]={'value':null},_0x11cb8e[_0x10de('0x1b4')]['transFactor']={'value':0x0},_0x11cb8e[_0x10de('0x1b4')][_0x10de('0x478')]={'value':_0x103092},_0x11cb8e[_0x10de('0x1b4')][_0x10de('0x479')]={'value':_0x3fecae},_0x11cb8e[_0x10de('0x59')]=_0x11cb8e[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x47c'),_0x10de('0x47d')),_0x11cb8e[_0x10de('0x59')]=_0x11cb8e[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x47e'),_0x10de('0x47f')),_0x11cb8e[_0x10de('0x5a')]=_0x11cb8e[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x480'),_0x10de('0x481')),_0x11cb8e[_0x10de('0x5a')]=_0x11cb8e[_0x10de('0x5a')][_0x10de('0x57')]('vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20cubeUv\x20=\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20cubeUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor2\x20=\x20textureCube(\x20tCube2,\x20cubeUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texColor\x20=\x20mix(\x20texColor,\x20texColor2,\x20transFactor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20=\x20colorSaturation(texColor.rgb,\x203.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x200.8;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20-45e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),new THREE[(_0x10de('0x1f2'))]({'fragmentShader':_0x11cb8e['fragmentShader'],'vertexShader':_0x11cb8e['vertexShader'],'uniforms':_0x11cb8e[_0x10de('0x1b4')],'side':THREE[_0x10de('0x466')],'fog':!0x1}));_0x103092[_0x10de('0x1b4')]['tCube']?_0x103092[_0x10de('0x1b4')][_0x10de('0x482')][_0x10de('0x10')]=this[_0x10de('0x46d')]:_0x103092['envMap']=this[_0x10de('0x46d')],this[_0x10de('0x46f')]=new THREE[(_0x10de('0x348'))](new THREE[(_0x10de('0x458'))](0x64,0x64,0x64),_0x103092),this[_0x10de('0x46f')][_0x10de('0x222')]['y']=_0x29adff,this[_0x10de('0x46f')]['scale'][_0x10de('0x1e')](_0x51fefe,_0x51fefe,_0x51fefe),this[_0x10de('0x2fb')][_0x10de('0x467')]['add'](this[_0x10de('0x46f')]);}},{'key':_0x10de('0x483'),'value':function(_0x3fecae){var _0x51fefe=_0x3fecae[_0x10de('0x230')],_0x51fefe=void 0x0===_0x51fefe?0x2710:_0x51fefe,_0x29adff=_0x3fecae[_0x10de('0x484')],_0x29adff=void 0x0===_0x29adff?_0x10de('0x485'):_0x29adff,_0x103092=_0x3fecae[_0x10de('0x486')],_0x103092=void 0x0===_0x103092?_0x10de('0x44a'):_0x103092,_0x11cb8e=_0x3fecae['offset'],_0x4c992b=void 0x0===_0x11cb8e?0x64:_0x11cb8e,_0x11cb8e=_0x3fecae[_0x10de('0x487')],_0x1b8fe4=void 0x0===_0x11cb8e?0.6:_0x11cb8e,_0x1749a1=_0x3fecae[_0x10de('0xdc')],_0x11cb8e=new THREE[(_0x10de('0x458'))](_0x51fefe,_0x51fefe,_0x51fefe),_0x3794e3=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x29adff),_0x96344b=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x103092),_0x2a4ee=this,_0x3fecae=new THREE['MeshBasicMaterial']({'color':0xffffff,'side':THREE['BackSide'],'fog':!0x1});return _0x3fecae[_0x10de('0x40f')]=function(_0x3fecae){_0x3fecae['uniforms'][_0x10de('0x488')]={'value':_0x3794e3},_0x3fecae[_0x10de('0x1b4')][_0x10de('0x489')]={'value':_0x96344b},_0x3fecae['uniforms'][_0x10de('0x48a')]={'value':_0x1749a1},_0x3fecae[_0x10de('0x1b4')][_0x10de('0x10a')]={'value':_0x4c992b},_0x3fecae[_0x10de('0x1b4')]['exponent']={'value':_0x1b8fe4},_0x3fecae[_0x10de('0x59')]=_0x3fecae[_0x10de('0x59')]['replace'](_0x10de('0x412'),_0x10de('0x48b')),_0x3fecae[_0x10de('0x59')]=_0x3fecae[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3fecae[_0x10de('0x5a')]=_0x3fecae[_0x10de('0x5a')][_0x10de('0x57')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3fecae[_0x10de('0x5a')]=_0x3fecae[_0x10de('0x5a')]['replace'](_0x10de('0x416'),_0x10de('0x48c')),_0x2a4ee[_0x10de('0x46e')]=_0x3fecae;},this[_0x10de('0x46f')]=new THREE[(_0x10de('0x348'))](_0x11cb8e,_0x3fecae),this[_0x10de('0x2fb')]['scene'][_0x10de('0x1d5')](this[_0x10de('0x46f')]),this['skyBox'];}},{'key':_0x10de('0x48d'),'value':function(_0x3fecae){var _0x51fefe=_0x3fecae[_0x10de('0xe8')],_0x51fefe=void 0x0===_0x51fefe?0x2710:_0x51fefe,_0x29adff=_0x3fecae[_0x10de('0x484')],_0x103092=_0x3fecae['bottomColorStr'],_0x103092=void 0x0===_0x103092?'#ffffff':_0x103092,_0x11cb8e=_0x3fecae[_0x10de('0x379')],_0x11cb8e=void 0x0===_0x11cb8e?0x0:_0x11cb8e,_0x3fecae=_0x3fecae[_0x10de('0x487')],_0x3fecae=void 0x0===_0x3fecae?0.8:_0x3fecae,_0x103092=new THREE[(_0x10de('0x1cc'))]()['setStyle'](_0x103092),_0x4c992b=(_0x29adff&&(_0x1b8fe4=new THREE['Color']()['setStyle'](_0x29adff)),JSON['parse']((0x0,_0x1749a1[_0x10de('0x9')])(THREE[_0x10de('0x465')]['cube']))),_0x1b8fe4=(_0x29adff&&(_0x4c992b[_0x10de('0x1b4')][_0x10de('0x488')]={'value':_0x1b8fe4}),_0x4c992b[_0x10de('0x1b4')]['bottomColor']={'value':_0x103092},_0x4c992b[_0x10de('0x1b4')]['offset']={'value':_0x11cb8e},_0x4c992b['uniforms']['exponent']={'value':_0x3fecae},_0x4c992b[_0x10de('0x59')]=_0x4c992b[_0x10de('0x59')]['replace']('#include\x20<common>',_0x10de('0x48e')),_0x4c992b[_0x10de('0x59')]=_0x4c992b[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x48f'),_0x10de('0x490')),_0x4c992b['fragmentShader']=_0x4c992b['fragmentShader'][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x491')+(_0x29adff?_0x10de('0x492'):'')+_0x10de('0x493')),_0x4c992b[_0x10de('0x5a')]=_0x4c992b[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x494'),_0x10de('0x495')),new THREE[(_0x10de('0x1f2'))]({'fragmentShader':_0x4c992b[_0x10de('0x5a')],'vertexShader':_0x4c992b['vertexShader'],'uniforms':_0x4c992b['uniforms'],'side':THREE[_0x10de('0x466')],'depthWrite':!0x1,'fog':!0x1}));this[_0x10de('0x46d')]&&_0x1b8fe4['uniforms'][_0x10de('0x482')]&&!_0x29adff&&(_0x1b8fe4[_0x10de('0x1b4')][_0x10de('0x482')][_0x10de('0x10')]=this['textureCube']),this[_0x10de('0x46f')]=new THREE[(_0x10de('0x348'))](new THREE['SphereBufferGeometry'](0x64,0x40,0xa),_0x1b8fe4),this[_0x10de('0x46f')][_0x10de('0x1e8')][_0x10de('0x1e')](_0x51fefe,_0x51fefe,_0x51fefe),this[_0x10de('0x2fb')]['scene'][_0x10de('0x1d5')](this[_0x10de('0x46f')]);}},{'key':_0x10de('0x496'),'value':function(_0x3fecae){var _0x3fecae=_0x3fecae[_0x10de('0xdc')],_0x51fefe=new THREE[(_0x10de('0x497'))](0x1,0x40,0xa),_0x3fecae=new THREE[(_0x10de('0x40e'))]({'side':THREE[_0x10de('0x466')],'fog':!0x1,'map':_0x3fecae});_0x3fecae[_0x10de('0x40f')]=function(_0x3fecae){_0x3fecae['vertexShader']=_0x3fecae['vertexShader']['replace']('#include\x20<fog_vertex>',_0x10de('0x498'));},this[_0x10de('0x46f')]=new THREE[(_0x10de('0x348'))](_0x51fefe,_0x3fecae),this['skyBox'][_0x10de('0x1e8')][_0x10de('0x1e')](0x186a0,0x186a0,0x186a0),this[_0x10de('0x2fb')][_0x10de('0x467')][_0x10de('0x1d5')](this['skyBox']);}},{'key':_0x10de('0x499'),'value':function(_0x3fecae){var _0x3fecae=_0x3fecae['size'],_0x3fecae=void 0x0===_0x3fecae?0x2710:_0x3fecae,_0x51fefe=JSON['parse']((0x0,_0x1749a1[_0x10de('0x9')])(THREE['ShaderLib'][_0x10de('0x47a')])),_0x51fefe=new THREE[(_0x10de('0x1f2'))]({'fragmentShader':_0x51fefe[_0x10de('0x5a')],'vertexShader':_0x51fefe[_0x10de('0x59')],'uniforms':_0x51fefe[_0x10de('0x1b4')],'side':THREE[_0x10de('0x466')],'depthWrite':!0x1,'fog':!0x1});_0x51fefe['uniforms'][_0x10de('0x482')][_0x10de('0x10')]=this[_0x10de('0x46d')],this[_0x10de('0x46f')]=new THREE[(_0x10de('0x348'))](new THREE['SphereBufferGeometry'](0x64,0x40,0xa),_0x51fefe),this[_0x10de('0x46f')][_0x10de('0x1e8')][_0x10de('0x1e')](_0x3fecae,_0x3fecae,_0x3fecae),this['skyBox']['position']['y']=-0x55d4a80,this['view'][_0x10de('0x467')][_0x10de('0x1d5')](this[_0x10de('0x46f')]);}},{'key':'createCylinderWallSky','value':function(_0x3fecae){var _0x29adff=this,_0x51fefe=_0x3fecae[_0x10de('0x49a')],_0x103092=_0x3fecae['wallHeight'],_0x11cb8e=void 0x0===_0x103092?0x2710:_0x103092,_0x103092=_0x3fecae[_0x10de('0x379')],_0x4c992b=void 0x0===_0x103092?0x0:_0x103092,_0x103092=_0x3fecae[_0x10de('0x49b')],_0x1b8fe4=void 0x0===_0x103092?0x0:_0x103092,_0x1749a1=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x51fefe,function(){var _0x3fecae=_0x1749a1[_0x10de('0x49c')],_0x3fecae=_0x3fecae[_0x10de('0x35d')]/_0x3fecae['height']*_0x11cb8e/(0x2*Math['PI']),_0x3fecae=(_0x1749a1['wrapT']=THREE[_0x10de('0x36c')],_0x1749a1[_0x10de('0x49d')]=THREE[_0x10de('0x36c')],new THREE[(_0x10de('0x49e'))](_0x3fecae,_0x3fecae,_0x11cb8e,0x20,0x1,!0x0,0x0,0x2*Math['PI'])),_0x51fefe=new THREE['MeshBasicMaterial']({'map':_0x1749a1,'color':0xffffff,'side':THREE[_0x10de('0x466')],'transparent':!0x0});_0x51fefe[_0x10de('0x40f')]=function(_0x3fecae){_0x3fecae['vertexShader']=_0x3fecae[_0x10de('0x59')]['replace']('#include\x20<fog_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},_0x29adff[_0x10de('0x46f')]=new THREE[(_0x10de('0x348'))](_0x3fecae,_0x51fefe),_0x29adff['skyBox']['position']['y']=_0x4c992b,_0x29adff[_0x10de('0x46f')][_0x10de('0x1fd')]['y']=THREE[_0x10de('0x18')][_0x10de('0x315')](_0x1b8fe4),_0x29adff[_0x10de('0x2fb')][_0x10de('0x467')][_0x10de('0x1d5')](_0x29adff[_0x10de('0x46f')]);});}},{'key':_0x10de('0x49f'),'value':function(){this[_0x10de('0x2fb')][_0x10de('0x467')][_0x10de('0x4a0')]=this['textureCube'],this[_0x10de('0x2ef')]({'type':'canUpdate'});}},{'key':_0x10de('0xce'),'value':function(){this[_0x10de('0x46d')]&&this['textureCube'][_0x10de('0xce')](),this['textureCube']=null,_0x96344b['default'][_0x10de('0x4a1')](this['skyBox']),this['skyBox']=null;}}]),_0x51fefe[_0x10de('0x9')]=_0x1f24dd;},function(_0xf1f84c,_0x16564e,_0x517537){'use strict';Object[_0x10de('0x2')](_0x16564e,_0x10de('0x5'),{'value':!0x0});var _0xa0f8fb=_0x1ebce8(_0x517537(0x11)),_0x270cbd=_0x1ebce8(_0x517537(0x0)),_0x4a7bb1=_0x1ebce8(_0x517537(0x1)),_0x2344a1=_0x1ebce8(_0x517537(0xaa)),_0x35053d=_0x1ebce8(_0x517537(0x3d));function _0x1ebce8(_0xf1f84c){return _0xf1f84c&&_0xf1f84c['__esModule']?_0xf1f84c:{'default':_0xf1f84c};}function _0x1a144e(_0xf1f84c){_0xf1f84c=_0xf1f84c[_0x10de('0x338')];(0x0,_0x270cbd[_0x10de('0x9')])(this,_0x1a144e),this['object3d']=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x338')]=_0xf1f84c,this['shaders']=null,this['skyMaterial']=null,this[_0x10de('0x4a2')]=null,this[_0x10de('0x4a3')]=new THREE[(_0x10de('0x1ca'))](),this[_0x10de('0x4a4')]=0x32,this['theta']=0x91,this[_0x10de('0x4a5')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.415,'mieCoefficient':0.005,'mieDirectionalG':0.8},this['nightSkyConfigs']={'luminance':0x1,'turbidity':0x1,'rayleigh':0.15,'mieCoefficient':0.005,'mieDirectionalG':0.8};}(0x0,_0x4a7bb1['default'])(_0x1a144e,[{'key':_0x10de('0x7a'),'value':function(_0xf1f84c){_0xf1f84c=_0xf1f84c[_0x10de('0x478')],_0xf1f84c=void 0x0!==_0xf1f84c&&_0xf1f84c;return this[_0x10de('0x32e')](),this['skyMesh']=new THREE['Mesh'](new THREE['SphereBufferGeometry'](0x1,0x18,0xc),this['skyMaterial']),this[_0x10de('0x4a2')][_0x10de('0x1e8')][_0x10de('0x4a6')](0x1faa3b500),this[_0x10de('0x4a2')][_0x10de('0x8c')]='clearSkyBox',this[_0x10de('0x368')][_0x10de('0x1d5')](this[_0x10de('0x4a2')]),this[_0x10de('0x31d')](),this[_0x10de('0x4a7')]({'isCullGround':_0xf1f84c}),this[_0x10de('0x368')];}},{'key':'createMaterial','value':function(){this[_0x10de('0x4a8')]=new THREE['ShaderMaterial']({'uniforms':THREE[_0x10de('0x4a9')]['clone'](_0x2344a1['default'][_0x10de('0x1b4')]),'fragmentShader':_0x2344a1['default']['fragmentShader'],'vertexShader':_0x2344a1[_0x10de('0x9')][_0x10de('0x59')],'side':THREE[_0x10de('0x466')]});}},{'key':_0x10de('0x4a7'),'value':function(_0xf1f84c){_0xf1f84c=(0x0,_0xa0f8fb['default'])(this['skyConfigs'],_0xf1f84c);var _0x16564e=this[_0x10de('0x4a8')][_0x10de('0x1b4')];_0x16564e[_0x10de('0x4aa')]['value']=_0xf1f84c['turbidity'],_0x16564e[_0x10de('0x4ab')]['value']=_0xf1f84c[_0x10de('0x4ab')],_0x16564e[_0x10de('0x4ac')]['value']=_0xf1f84c[_0x10de('0x4ac')],_0x16564e[_0x10de('0x4ad')][_0x10de('0x10')]=_0xf1f84c[_0x10de('0x4ad')],_0x16564e['mieDirectionalG'][_0x10de('0x10')]=_0xf1f84c['mieDirectionalG'],_0x16564e[_0x10de('0x478')]['value']=_0xf1f84c[_0x10de('0x478')];}},{'key':'refreshSky','value':function(){this[_0x10de('0x4a3')]['x']=0xa*Math[_0x10de('0x5c')](this[_0x10de('0x4ae')]*Math['PI']/0xb4)*Math[_0x10de('0x5b')](this[_0x10de('0x4a4')]*Math['PI']/0xb4),this[_0x10de('0x4a3')]['y']=0xa*Math['sin'](this['phi']*Math['PI']/0xb4),this[_0x10de('0x4a3')]['z']=0xa*Math[_0x10de('0x5b')](this[_0x10de('0x4ae')]*Math['PI']/0xb4)*Math[_0x10de('0x5b')](this['phi']*Math['PI']/0xb4),this[_0x10de('0x4a8')][_0x10de('0x1b4')][_0x10de('0x4a3')]['value']['copy'](this[_0x10de('0x4a3')]),this[_0x10de('0x4a8')][_0x10de('0x1b4')]['cameraPos'][_0x10de('0x10')][_0x10de('0x1d3')](this[_0x10de('0x338')][_0x10de('0x222')]);}},{'key':_0x10de('0x31d'),'value':function(){this[_0x10de('0x368')][_0x10de('0x222')]['copy'](this[_0x10de('0x338')][_0x10de('0x222')]),this[_0x10de('0x4af')]();}},{'key':_0x10de('0xce'),'value':function(){_0x35053d[_0x10de('0x9')][_0x10de('0x4a1')](this['object3d']),this[_0x10de('0x368')]=null,this[_0x10de('0x1f3')]=null,this[_0x10de('0x4a8')]=null,this[_0x10de('0x4a2')]=null;}}]),_0x16564e[_0x10de('0x9')]=_0x1a144e;},function(_0x145042,_0x5cd947,_0x3edeec){'use strict';Object['defineProperty'](_0x5cd947,_0x10de('0x5'),{'value':!0x0}),_0x5cd947[_0x10de('0x9')]={'uniforms':{'luminance':{'value':0x1},'turbidity':{'value':0x2},'rayleigh':{'value':0x1},'mieCoefficient':{'value':0.005},'mieDirectionalG':{'value':0.8},'sunPosition':{'value':new THREE['Vector3']()},'cameraPos':{'value':new THREE['Vector3']()},'isCullGround':{'value':!0x1}},'vertexShader':_0x10de('0x4b0'),'fragmentShader':_0x10de('0x4b1')};},function(_0x171fae,_0xbe885b,_0x4e28c6){_0x4e28c6(0xac),_0x171fae[_0x10de('0x1')]=_0x4e28c6(0x2)[_0x10de('0x18')][_0x10de('0x4b2')];},function(_0x5e9bf0,_0x9d8655,_0x33debc){var _0x51cc61=_0x33debc(0x3);_0x51cc61(_0x51cc61['S'],_0x10de('0x18'),{'sign':_0x33debc(0xad)});},function(_0x151238,_0x15d3dc){_0x151238[_0x10de('0x1')]=Math['sign']||function(_0x151238){return 0x0==(_0x151238=+_0x151238)||_0x151238!=_0x151238?_0x151238:_0x151238<0x0?-0x1:0x1;};},function(_0x5bc4c1,_0x5225bc,_0xb0ecdc){_0x5bc4c1[_0x10de('0x1')]={'default':_0xb0ecdc(0xaf),'__esModule':!0x0};},function(_0x38df9d,_0x52c241,_0x4d4a9d){_0x4d4a9d(0xb0),_0x38df9d[_0x10de('0x1')]=_0x4d4a9d(0x2)['Math'][_0x10de('0x4b3')];},function(_0x3d29f0,_0x1da3d0,_0x35e98d){_0x35e98d=_0x35e98d(0x3);_0x35e98d(_0x35e98d['S'],_0x10de('0x18'),{'log10':function(_0x3d29f0){return Math[_0x10de('0x4b4')](_0x3d29f0)*Math[_0x10de('0x4b5')];}});},function(_0x4fa2dc,_0x1f3231,_0x18e1a6){'use strict';_0x1f3231[_0x10de('0x5')]=!0x0;var _0x441efd=_0x2f5252(_0x18e1a6(0xb2)),_0x4dad3c=_0x2f5252(_0x18e1a6(0x5));function _0x2f5252(_0x4fa2dc){return _0x4fa2dc&&_0x4fa2dc[_0x10de('0x5')]?_0x4fa2dc:{'default':_0x4fa2dc};}_0x1f3231[_0x10de('0x9')]=function(_0x4fa2dc,_0x1f3231){if(Array[_0x10de('0x1be')](_0x4fa2dc))return _0x4fa2dc;if((0x0,_0x441efd[_0x10de('0x9')])(Object(_0x4fa2dc))){var _0x18e1a6=_0x1f3231,_0x2f5252=[],_0x4ef0a3=!0x0,_0x1f3231=!0x1,_0x1e925f=void 0x0;try{for(var _0x4c7f04,_0x5972b3=(0x0,_0x4dad3c[_0x10de('0x9')])(_0x4fa2dc);!(_0x4ef0a3=(_0x4c7f04=_0x5972b3[_0x10de('0x88')]())[_0x10de('0x32b')])&&(_0x2f5252[_0x10de('0x84')](_0x4c7f04[_0x10de('0x10')]),!_0x18e1a6||_0x2f5252['length']!==_0x18e1a6);_0x4ef0a3=!0x0);}catch(_0x46f500){_0x1f3231=!0x0,_0x1e925f=_0x46f500;}finally{try{!_0x4ef0a3&&_0x5972b3['return']&&_0x5972b3['return']();}finally{if(_0x1f3231)throw _0x1e925f;}}return _0x2f5252;}throw new TypeError('Invalid\x20attempt\x20to\x20destructure\x20non-iterable\x20instance');};},function(_0x5bb727,_0x3e9beb,_0x37a819){_0x5bb727[_0x10de('0x1')]={'default':_0x37a819(0xb3),'__esModule':!0x0};},function(_0x2490dc,_0x5f0dc3,_0x471a05){_0x471a05(0x1c),_0x471a05(0x1a),_0x2490dc[_0x10de('0x1')]=_0x471a05(0xb4);},function(_0x1ffd53,_0x18265c,_0x420962){var _0x266926=_0x420962(0x30),_0x4dd782=_0x420962(0x6)(_0x10de('0xcb')),_0x4d319d=_0x420962(0x10);_0x1ffd53[_0x10de('0x1')]=_0x420962(0x2)['isIterable']=function(_0x1ffd53){_0x1ffd53=Object(_0x1ffd53);return void 0x0!==_0x1ffd53[_0x4dd782]||_0x10de('0xcc')in _0x1ffd53||_0x4d319d[_0x10de('0xb')](_0x266926(_0x1ffd53));};},function(_0x542cd6,_0x8ad514,_0x217b9c){'use strict';function _0x34974f(_0x542cd6,_0x8ad514){return this['lut']=[],this[_0x10de('0x4b6')](_0x542cd6,_0x8ad514),this;}Object[_0x10de('0x2')](_0x8ad514,_0x10de('0x5'),{'value':!0x0});var _0x27a7c1={'rainbow':[[0x0,0xff],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'rainbow_alpha':[[0x0,0x0],[0.2,0xff],[0.4,0xffff],[0.6,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x34974f[_0x10de('0xa')]={'constructor':THREE[_0x10de('0x4b7')],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x542cd6){return _0x542cd6 instanceof THREE[_0x10de('0x4b7')]&&this[_0x10de('0x1d3')](_0x542cd6),this;},'setMin':function(_0x542cd6){return this['minV']=_0x542cd6,this;},'setMax':function(_0x542cd6){return this['maxV']=_0x542cd6,this;},'setColorMap':function(_0x542cd6,_0x8ad514){this[_0x10de('0xcf')]=_0x27a7c1[_0x542cd6]||_0x27a7c1[_0x10de('0x4b8')],this['n']=_0x8ad514||0x20;for(var _0x217b9c=0x1/this['n'],_0x34974f=this[_0x10de('0x4b9')][_0x10de('0xe')]=0x0;_0x34974f<=0x1;_0x34974f+=_0x217b9c)for(var _0x5c4eb3,_0x5c2cd2,_0x387f16,_0x5f1204,_0x4f757b=0x0;_0x4f757b<this['map'][_0x10de('0xe')]-0x1;_0x4f757b++)_0x34974f>=this['map'][_0x4f757b][0x0]&&_0x34974f<this[_0x10de('0xcf')][_0x4f757b+0x1][0x0]&&(_0x5c4eb3=this['map'][_0x4f757b][0x0],_0x5c2cd2=this['map'][_0x4f757b+0x1][0x0],_0x5f1204=new THREE[(_0x10de('0x1cc'))](this[_0x10de('0xcf')][_0x4f757b][0x1]),_0x387f16=new THREE['Color'](this[_0x10de('0xcf')][_0x4f757b+0x1][0x1]),_0x5f1204=_0x5f1204[_0x10de('0x1c9')](_0x387f16,(_0x34974f-_0x5c4eb3)/(_0x5c2cd2-_0x5c4eb3)),this['lut']['push'](_0x5f1204));return this;},'copy':function(_0x542cd6){return this[_0x10de('0x4b9')]=_0x542cd6['lut'],this[_0x10de('0xcf')]=_0x542cd6[_0x10de('0xcf')],this['n']=_0x542cd6['n'],this[_0x10de('0x4ba')]=_0x542cd6[_0x10de('0x4ba')],this[_0x10de('0x4bb')]=_0x542cd6[_0x10de('0x4bb')],this;},'getColor':function(_0x542cd6){_0x542cd6<=this[_0x10de('0x4ba')]?_0x542cd6=this[_0x10de('0x4ba')]:_0x542cd6>=this[_0x10de('0x4bb')]&&(_0x542cd6=this[_0x10de('0x4bb')]),_0x542cd6=(_0x542cd6-this[_0x10de('0x4ba')])/(this[_0x10de('0x4bb')]-this['minV']);_0x542cd6=Math['round'](_0x542cd6*this['n']);return _0x542cd6==this['n']&&--_0x542cd6,this['lut'][_0x542cd6];},'addColorMap':function(_0x542cd6,_0x8ad514){_0x27a7c1[_0x542cd6]=_0x8ad514;},'createCanvas':function(){var _0x542cd6=document[_0x10de('0x87')]('canvas');return _0x542cd6[_0x10de('0x35d')]=0x1,_0x542cd6[_0x10de('0x32c')]=this['n'],this[_0x10de('0x4bc')](_0x542cd6),_0x542cd6;},'updateCanvas':function(_0x542cd6){for(var _0x8ad514=_0x542cd6[_0x10de('0x473')]('2d',{'alpha':!0x1}),_0x217b9c=_0x8ad514[_0x10de('0x4bd')](0x0,0x0,0x1,this['n']),_0x34974f=_0x217b9c[_0x10de('0x2ca')],_0xabe4c7=0x0,_0x479e8b=0x1/this['n'],_0x304258=0x1;0x0<=_0x304258;_0x304258-=_0x479e8b)for(var _0x1aec80,_0x576895,_0x27a7c1,_0xf7a3c5,_0x3da2c5=this[_0x10de('0xcf')][_0x10de('0xe')]-0x1;0x0<=_0x3da2c5;_0x3da2c5--)_0x304258<this[_0x10de('0xcf')][_0x3da2c5][0x0]&&_0x304258>=this[_0x10de('0xcf')][_0x3da2c5-0x1][0x0]&&(_0x1aec80=this['map'][_0x3da2c5-0x1][0x0],_0x576895=this['map'][_0x3da2c5][0x0],_0xf7a3c5=new THREE['Color'](this[_0x10de('0xcf')][_0x3da2c5-0x1][0x1]),_0x27a7c1=new THREE[(_0x10de('0x1cc'))](this['map'][_0x3da2c5][0x1]),_0xf7a3c5=_0xf7a3c5['lerp'](_0x27a7c1,(_0x304258-_0x1aec80)/(_0x576895-_0x1aec80)),_0x34974f[0x4*_0xabe4c7]=Math[_0x10de('0x1d1')](0xff*_0xf7a3c5['r']),_0x34974f[0x4*_0xabe4c7+0x1]=Math[_0x10de('0x1d1')](0xff*_0xf7a3c5['g']),_0x34974f[0x4*_0xabe4c7+0x2]=Math[_0x10de('0x1d1')](0xff*_0xf7a3c5['b']),_0x34974f[0x4*_0xabe4c7+0x3]=0xff,_0xabe4c7+=0x1);return _0x8ad514['putImageData'](_0x217b9c,0x0,0x0),_0x542cd6;}},_0x8ad514[_0x10de('0x4b7')]=_0x34974f,_0x8ad514[_0x10de('0x4be')]=_0x27a7c1;},function(_0x377245,_0x27967f,_0x6ebec2){'use strict';function _0x1f533c(_0x377245,_0x27967f){return this[_0x10de('0x4b9')]=[],this[_0x10de('0x4b6')](_0x377245,_0x27967f),this;}Object[_0x10de('0x2')](_0x27967f,_0x10de('0x5'),{'value':!0x0});var _0x3047ba={'rainbow':[[0x0,0xff,0x0],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x1f533c[_0x10de('0xa')]={'constructor':THREE[_0x10de('0x4bf')],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x377245){return _0x377245 instanceof THREE[_0x10de('0x4bf')]&&this[_0x10de('0x1d3')](_0x377245),this;},'setMin':function(_0x377245){return this[_0x10de('0x4ba')]=_0x377245,this;},'setMax':function(_0x377245){return this[_0x10de('0x4bb')]=_0x377245,this;},'setColorMap':function(_0x377245,_0x27967f){this['map']=_0x3047ba[_0x377245]||_0x3047ba['rainbow'],this['n']=_0x27967f||0x20;for(var _0x6ebec2=0x1/this['n'],_0x1f533c=this[_0x10de('0x4b9')][_0x10de('0xe')]=0x0;_0x1f533c<=0x1;_0x1f533c+=_0x6ebec2)for(var _0x2e285c,_0xce929b,_0x1c810e,_0x25792e,_0x4ff14c,_0x4667e7=0x0;_0x4667e7<this[_0x10de('0xcf')][_0x10de('0xe')]-0x1;_0x4667e7++)_0x1f533c>=this['map'][_0x4667e7][0x0]&&_0x1f533c<this[_0x10de('0xcf')][_0x4667e7+0x1][0x0]&&(_0x2e285c=this[_0x10de('0xcf')][_0x4667e7][0x0],_0xce929b=this[_0x10de('0xcf')][_0x4667e7+0x1][0x0],_0x1c810e=0x1,void 0x0!==this[_0x10de('0xcf')][_0x4667e7][0x2]&&(_0x1c810e=this[_0x10de('0xcf')][_0x4667e7][0x2]),_0x25792e=new THREE[(_0x10de('0x1cc'))](this[_0x10de('0xcf')][_0x4667e7][0x1]),_0x4ff14c=new THREE['Color'](this['map'][_0x4667e7+0x1][0x1]),_0x25792e=_0x25792e[_0x10de('0x1c9')](_0x4ff14c,(_0x1f533c-_0x2e285c)/(_0xce929b-_0x2e285c)),_0x4ff14c=new THREE[(_0x10de('0x1cb'))](_0x25792e['r'],_0x25792e['g'],_0x25792e['b'],_0x1c810e),this[_0x10de('0x4b9')][_0x10de('0x84')](_0x4ff14c));return this;},'copy':function(_0x377245){return this[_0x10de('0x4b9')]=_0x377245[_0x10de('0x4b9')],this['map']=_0x377245[_0x10de('0xcf')],this['n']=_0x377245['n'],this[_0x10de('0x4ba')]=_0x377245[_0x10de('0x4ba')],this[_0x10de('0x4bb')]=_0x377245[_0x10de('0x4bb')],this;},'getColor':function(_0x377245){_0x377245<=this[_0x10de('0x4ba')]?_0x377245=this['minV']:_0x377245>=this[_0x10de('0x4bb')]&&(_0x377245=this[_0x10de('0x4bb')]),_0x377245=(_0x377245-this[_0x10de('0x4ba')])/(this[_0x10de('0x4bb')]-this['minV']);_0x377245=Math[_0x10de('0x1d1')](_0x377245*this['n']);return _0x377245==this['n']&&--_0x377245,this[_0x10de('0x4b9')][_0x377245];},'addColorMap':function(_0x377245,_0x27967f){_0x3047ba[_0x377245]=_0x27967f;}},_0x27967f[_0x10de('0x4bf')]=_0x1f533c,_0x27967f['ColorMapKeywords']=_0x3047ba;},,,function(_0x5a6dc7,_0x52408b,_0xaf00a1){_0x5a6dc7[_0x10de('0x1')]=_0xaf00a1(0x123);},function(_0x47948c,_0xab129a,_0xbf8ca9){'use strict';_0xab129a[_0x10de('0x5')]=!0x0;var _0xbf8ca9=_0xbf8ca9(0x28),_0x2073b9=_0xbf8ca9&&_0xbf8ca9['__esModule']?_0xbf8ca9:{'default':_0xbf8ca9};_0xab129a[_0x10de('0x9')]=function(_0x47948c){return function(){var _0x2fe5f0=_0x47948c[_0x10de('0x15')](this,arguments);return new _0x2073b9[(_0x10de('0x9'))](function(_0x103ea8,_0x25c4d0){return function _0xab129a(_0x47948c,_0xbf8ca9){try{var _0x3db71c=_0x2fe5f0[_0x47948c](_0xbf8ca9),_0x1009e0=_0x3db71c['value'];}catch(_0xe3ed9d){return void _0x25c4d0(_0xe3ed9d);}if(!_0x3db71c[_0x10de('0x32b')])return _0x2073b9['default'][_0x10de('0x2b6')](_0x1009e0)[_0x10de('0x385')](function(_0x47948c){_0xab129a(_0x10de('0x88'),_0x47948c);},function(_0x47948c){_0xab129a(_0x10de('0x4c0'),_0x47948c);});_0x103ea8(_0x1009e0);}(_0x10de('0x88'));});};};},,,,,,,,,,,,,,function(_0xa315fc,_0xb82087,_0x5146e2){'use strict';var _0x582497,_0x493acf=_0x2fea58(_0x5146e2(0x5)),_0x2c7dbb=(_0x5146e2(0xc9),_0x5146e2(0xca),_0x5146e2(0x13)),_0x4825c8=_0x2fea58(_0x5146e2(0xcb)),_0x5692ed=_0x2fea58(_0x5146e2(0xcc)),_0x26aaff=_0x5146e2(0xb6),_0x47d125=_0x5146e2(0x57),_0x5146e2=_0x2fea58(_0x5146e2(0xff));function _0x2fea58(_0xa315fc){return _0xa315fc&&_0xa315fc['__esModule']?_0xa315fc:{'default':_0xa315fc};}if(!esmap)throw new Error(_0x10de('0x4c1'));for(_0x582497 in esmap[_0x10de('0x4c2')][_0x10de('0x4c3')]=_0x10de('0x4c4'),esmap[_0x10de('0x4c5')][_0x10de('0x4c3')]='effectMarker',esmap[_0x10de('0x27c')]={},_0x47d125[_0x10de('0x27c')])esmap[_0x10de('0x27c')][_0x582497]=_0x47d125[_0x10de('0x27c')][_0x582497];esmap['effects']=!0x0,esmap['ESEffectTool']={'init':_0x5146e2[_0x10de('0x9')][_0x10de('0x4c6')],'isExecuteInit':!0x1,'EffectLayer':_0x4825c8['default'],'EffectMarker':_0x5692ed[_0x10de('0x9')],'markers':_0x5146e2[_0x10de('0x9')]['markers'],'buildings':_0x5146e2[_0x10de('0x9')][_0x10de('0x4c7')],'floors':_0x5146e2[_0x10de('0x9')][_0x10de('0x4c8')],'ground':_0x5146e2[_0x10de('0x9')][_0x10de('0x4c9')],'lights':_0x5146e2[_0x10de('0x9')]['lights'],'models':_0x5146e2[_0x10de('0x9')][_0x10de('0x4ca')],'routes':_0x5146e2[_0x10de('0x9')][_0x10de('0x4cb')],'skybox':_0x5146e2[_0x10de('0x9')][_0x10de('0x4cc')],'water':_0x5146e2[_0x10de('0x9')]['water'],'video':_0x5146e2['default'][_0x10de('0x4cd')],'heatMap':_0x5146e2['default'][_0x10de('0x4ce')],'screenEffect':_0x5146e2[_0x10de('0x9')]['screenEffect'],'switchEffectTheme':_0x5146e2['default']['switchEffectTheme'],'switchEffectLight':_0x5146e2[_0x10de('0x9')]['switchEffectLight'],'clearAll':_0x5146e2['default'][_0x10de('0x4cf')],'LutAlpha':_0x26aaff[_0x10de('0x4bf')],'addLayerToMap':function(_0xa315fc,_0xb82087,_0x5146e2){if(esmap['ESEffectTool']['isInitComplete']){if(!(0x0,_0x2c7dbb[_0x10de('0x3b')])()[_0x10de('0x46c')][_0x10de('0x467')])throw new Error(_0x10de('0x4d0'));var _0x582497;(0x0,_0x2c7dbb[_0x10de('0x31')])()?((_0x582497=(0x0,_0x2c7dbb[_0x10de('0x2e')])(_0xb82087||0x0))[_0x10de('0x4d1')](_0x5146e2||0x1),(_0x582497=_0x582497['getFloor'](_0x5146e2||0x1))[_0x10de('0x4d2')]||(_0x582497[_0x10de('0x4d2')]=[]),_0x582497[_0x10de('0x4d2')][_0x10de('0x84')](_0xa315fc),_0xa315fc[_0x10de('0x4d3')]=_0x582497[_0x10de('0x4d3')],_0x582497[_0x10de('0x4d4')][_0x10de('0x1d5')](_0xa315fc[_0x10de('0x4d4')])):((_0x5146e2=(0x0,_0x2c7dbb[_0x10de('0x2e')])())[_0x10de('0x4d1')](_0xb82087||0x1),(_0x582497=_0x5146e2[_0x10de('0x4d5')](_0xb82087||0x1))['_effectLayers']||(_0x582497['_effectLayers']=[]),_0x582497['_effectLayers'][_0x10de('0x84')](_0xa315fc),_0xa315fc['FloorNum']=_0x582497[_0x10de('0x4d3')],_0x582497['o3d_'][_0x10de('0x1d5')](_0xa315fc[_0x10de('0x4d4')]));}else console['info']('effect\x20initialize\x20is\x20not\x20complete!');},'addLayer':function(_0xa315fc){var _0xb82087,_0x5146e2=0x1<arguments[_0x10de('0xe')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{};if(esmap[_0x10de('0x4f')][_0x10de('0x4d6')]){if(!(0x0,_0x2c7dbb[_0x10de('0x3b')])()['mapView']['scene'])throw new Error(_0x10de('0x4d0'));(0x0,_0x2c7dbb[_0x10de('0x31')])()?((_0xb82087=(0x0,_0x2c7dbb[_0x10de('0x2e')])(_0x5146e2[_0x10de('0x4d7')]||0x0))[_0x10de('0x4d1')](_0x5146e2[_0x10de('0x4d8')]||0x1),(_0xb82087=_0xb82087[_0x10de('0x4d5')](_0x5146e2['fnum']||0x1))[_0x10de('0x4d2')]||(_0xb82087[_0x10de('0x4d2')]=[]),_0xb82087[_0x10de('0x4d2')][_0x10de('0x84')](_0xa315fc),_0xa315fc['FloorNum']=_0xb82087[_0x10de('0x4d3')],_0xb82087[_0x10de('0x4d4')][_0x10de('0x1d5')](_0xa315fc[_0x10de('0x4d4')])):((_0xb82087=(0x0,_0x2c7dbb[_0x10de('0x2e')])()['getFloor'](_0x5146e2[_0x10de('0x4d8')]||0x1))[_0x10de('0x4d2')]||(_0xb82087[_0x10de('0x4d2')]=[]),_0xb82087['_effectLayers']['push'](_0xa315fc),_0xa315fc['FloorNum']=_0xb82087['FloorNum'],_0xb82087[_0x10de('0x4d4')][_0x10de('0x1d5')](_0xa315fc[_0x10de('0x4d4')]));}else console[_0x10de('0xef')](_0x10de('0x4d9'));},'removeLayer':function(_0xa315fc){_0xa315fc['dispose']();},'removeLayersByNames':function(_0xa315fc){var _0xa315fc=this[_0x10de('0x4da')](_0xa315fc),_0xb82087=!0x0,_0x5146e2=!0x1,_0x582497=void 0x0;try{for(var _0x4825c8,_0x5692ed=(0x0,_0x493acf[_0x10de('0x9')])(_0xa315fc);!(_0xb82087=(_0x4825c8=_0x5692ed[_0x10de('0x88')]())['done']);_0xb82087=!0x0){var _0x26aaff=_0x4825c8['value'];this[_0x10de('0x4db')](_0x26aaff);}}catch(_0x4d9585){_0x5146e2=!0x0,_0x582497=_0x4d9585;}finally{try{!_0xb82087&&_0x5692ed[_0x10de('0xdf')]&&_0x5692ed[_0x10de('0xdf')]();}finally{if(_0x5146e2)throw _0x582497;}}},'getLayersByNames':function(_0xa315fc){if(Array[_0x10de('0x1be')](_0xa315fc)&&0x0<_0xa315fc[_0x10de('0xe')]){var _0xb82087=[],_0x5146e2=(0x0,_0x2c7dbb[_0x10de('0x3b')])();if((0x0,_0x2c7dbb[_0x10de('0x31')])()){var _0x582497=(0x0,_0x2c7dbb['getBuiding'])(0x0)[_0x10de('0x4d5')](0x1),_0x4825c8=!0x0,_0x5692ed=!0x1,_0x26aaff=void 0x0;try{for(var _0x47d125,_0x2fea58=(0x0,_0x493acf[_0x10de('0x9')])(_0x582497[_0x10de('0x4d2')]);!(_0x4825c8=(_0x47d125=_0x2fea58[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x4825c8=!0x0){var _0x3cc7e2=_0x47d125['value'];-0x1<_0xa315fc[_0x10de('0x4d')](_0x3cc7e2[_0x10de('0x8c')])&&_0xb82087[_0x10de('0x84')](_0x3cc7e2);}}catch(_0x126f87){_0x5692ed=!0x0,_0x26aaff=_0x126f87;}finally{try{!_0x4825c8&&_0x2fea58[_0x10de('0xdf')]&&_0x2fea58['return']();}finally{if(_0x5692ed)throw _0x26aaff;}}for(var _0x2be76b=_0x5146e2[_0x10de('0x4dc')],_0x3f62d2=0x0;_0x3f62d2<_0x2be76b[_0x10de('0xe')];_0x3f62d2++){var _0x421f27=!0x0,_0x5cc4e9=!0x1,_0x5174dc=void 0x0;try{for(var _0x1f6c45,_0x3211e8=(0x0,_0x493acf[_0x10de('0x9')])(_0x2be76b[_0x3f62d2][_0x10de('0x4dd')]);!(_0x421f27=(_0x1f6c45=_0x3211e8[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x421f27=!0x0){var _0x49163f=_0x1f6c45['value'],_0xf21107=_0x2be76b[_0x3f62d2][_0x10de('0x4d5')](_0x49163f);if(_0xf21107[_0x10de('0x4d2')]){var _0x59f1d6=!0x0,_0x2d374e=!0x1,_0x212de5=void 0x0;try{for(var _0x258ab7,_0x16d2ae=(0x0,_0x493acf[_0x10de('0x9')])(_0xf21107[_0x10de('0x4d2')]);!(_0x59f1d6=(_0x258ab7=_0x16d2ae[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x59f1d6=!0x0){var _0xaff18a=_0x258ab7['value'];-0x1<_0xa315fc[_0x10de('0x4d')](_0xaff18a[_0x10de('0x8c')])&&_0xb82087[_0x10de('0x84')](_0xaff18a);}}catch(_0x880ae1){_0x2d374e=!0x0,_0x212de5=_0x880ae1;}finally{try{!_0x59f1d6&&_0x16d2ae[_0x10de('0xdf')]&&_0x16d2ae[_0x10de('0xdf')]();}finally{if(_0x2d374e)throw _0x212de5;}}}}}catch(_0x15931e){_0x5cc4e9=!0x0,_0x5174dc=_0x15931e;}finally{try{!_0x421f27&&_0x3211e8[_0x10de('0xdf')]&&_0x3211e8['return']();}finally{if(_0x5cc4e9)throw _0x5174dc;}}}}else{var _0x3dc410=(0x0,_0x2c7dbb['getBuiding'])(),_0x1be94d=!0x0,_0x582497=!0x1,_0x5692ed=void 0x0;try{for(var _0x47150c,_0x2b3d4b=(0x0,_0x493acf[_0x10de('0x9')])(_0x3dc410[_0x10de('0x4dd')]);!(_0x1be94d=(_0x47150c=_0x2b3d4b['next']())['done']);_0x1be94d=!0x0){var _0x345bf4=_0x47150c[_0x10de('0x10')],_0x5ad5d2=_0x3dc410[_0x10de('0x4d5')](_0x345bf4);if(_0x5ad5d2[_0x10de('0x4d2')]){var _0x47e518=!0x0,_0x5a97c8=!0x1,_0x12c3d9=void 0x0;try{for(var _0x57f141,_0x139f30=(0x0,_0x493acf[_0x10de('0x9')])(_0x5ad5d2[_0x10de('0x4d2')]);!(_0x47e518=(_0x57f141=_0x139f30[_0x10de('0x88')]())['done']);_0x47e518=!0x0){var _0x2d3e61=_0x57f141[_0x10de('0x10')];-0x1<_0xa315fc[_0x10de('0x4d')](_0x2d3e61[_0x10de('0x8c')])&&_0xb82087[_0x10de('0x84')](_0x2d3e61);}}catch(_0x5831c6){_0x5a97c8=!0x0,_0x12c3d9=_0x5831c6;}finally{try{!_0x47e518&&_0x139f30[_0x10de('0xdf')]&&_0x139f30['return']();}finally{if(_0x5a97c8)throw _0x12c3d9;}}}}}catch(_0x4909ff){_0x582497=!0x0,_0x5692ed=_0x4909ff;}finally{try{!_0x1be94d&&_0x2b3d4b[_0x10de('0xdf')]&&_0x2b3d4b[_0x10de('0xdf')]();}finally{if(_0x582497)throw _0x5692ed;}}}return _0xb82087;}}};},function(_0x405ef3,_0x17faf4,_0x455ec7){'use strict';var _0x9a8ee0,_0x10b103,_0x53c782,_0x2bc20c=_0x128278(_0x455ec7(0x5a)),_0x597c90=_0x128278(_0x455ec7(0x25));function _0x128278(_0x405ef3){return _0x405ef3&&_0x405ef3[_0x10de('0x5')]?_0x405ef3:{'default':_0x405ef3};}function _0x5745ac(_0x405ef3){if(this instanceof _0x5745ac)throw new TypeError(_0x10de('0x4de'));var _0x405ef3=void 0x0===_0x405ef3?void 0x0:String(_0x405ef3),_0x17faf4=(0x0,_0x597c90[_0x10de('0x9')])({'toString':function(){return this[_0x10de('0x4df')];},'valueOf':function(){return this;}});return(0x0,_0x2bc20c[_0x10de('0x9')])(_0x17faf4,{'__Description__':{'value':_0x405ef3,'writable':!0x1,'enumerable':!0x1,'configurable':!0x1},'__Name__':{'value':_0x10b103(_0x405ef3),'writable':!0x1,'enumerable':!0x1,'configurable':!0x1}}),_0x17faf4;}_0x455ec7=window,_0x10b103=function(_0x405ef3){return'@@'+_0x405ef3+'_'+ ++_0x9a8ee0;},_0x53c782={},(_0x9a8ee0=0x0,_0x2bc20c['default'])(_0x5745ac,{'for':{'value':function(_0x405ef3){_0x405ef3=void 0x0===_0x405ef3?void 0x0:String(_0x405ef3);return _0x53c782[_0x405ef3]||(_0x53c782[_0x405ef3]=_0x5745ac(_0x405ef3));},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0},'keyFor':{'value':function(_0x405ef3){for(var _0x17faf4 in _0x53c782)if(_0x53c782[_0x17faf4]===_0x405ef3)return _0x17faf4;},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0}}),window[_0x10de('0x1b')]||(_0x455ec7[_0x10de('0x1b')]=_0x5745ac);},function(_0x30cb13,_0x48d708,_0x5c9cbf){'use strict';Array['prototype'][_0x10de('0x4e0')]||Object[_0x10de('0x2')](Array[_0x10de('0xa')],_0x10de('0x4e0'),{'value':function(_0x30cb13){if(null==this)throw new TypeError(_0x10de('0x4e1'));for(var _0x48d708=Object(this),_0x5c9cbf=_0x48d708[_0x10de('0xe')]>>>0x0,_0x36b1e0=arguments[0x1]>>0x0,_0xd84be0=_0x36b1e0<0x0?Math['max'](_0x5c9cbf+_0x36b1e0,0x0):Math[_0x10de('0x8e')](_0x36b1e0,_0x5c9cbf),_0x36b1e0=arguments[0x2],_0x36b1e0=void 0x0===_0x36b1e0?_0x5c9cbf:_0x36b1e0>>0x0,_0x2e07d6=_0x36b1e0<0x0?Math['max'](_0x5c9cbf+_0x36b1e0,0x0):Math[_0x10de('0x8e')](_0x36b1e0,_0x5c9cbf);_0xd84be0<_0x2e07d6;)_0x48d708[_0xd84be0]=_0x30cb13,_0xd84be0++;return _0x48d708;}});},function(_0x3a7f22,_0x3d9f4b,_0x58abc9){'use strict';Object[_0x10de('0x2')](_0x3d9f4b,_0x10de('0x5'),{'value':!0x0});var _0x398c8a=_0x4d3452(_0x58abc9(0x5)),_0x193577=_0x4d3452(_0x58abc9(0x0));function _0x4d3452(_0x3a7f22){return _0x3a7f22&&_0x3a7f22['__esModule']?_0x3a7f22:{'default':_0x3a7f22};}function _0x338016(_0x3a7f22,_0x3d9f4b){(0x0,_0x193577['default'])(this,_0x338016),this[_0x10de('0x4d4')]=new THREE[(_0x10de('0x369'))](),(this[_0x10de('0x4d4')]['datas_']=this)[_0x10de('0x8c')]=_0x3a7f22,this[_0x10de('0x85')]=_0x3d9f4b,this['FloorNum']=0x1,this['children']=[];}(0x0,_0x4d3452(_0x58abc9(0x1))['default'])(_0x338016,[{'key':'addMarker','value':function(_0x3a7f22){_0x3a7f22['o3d_']&&(this['o3d_'][_0x10de('0x1d5')](_0x3a7f22['o3d_']),_0x3a7f22[_0x10de('0x2ef')]({'type':_0x10de('0x476')}),this[_0x10de('0x351')][_0x10de('0x84')](_0x3a7f22),_0x3a7f22[_0x10de('0x4d3')]=this[_0x10de('0x4d3')],esmap['ESEffectTool']['markers']&&esmap[_0x10de('0x4f')][_0x10de('0x4e2')]['add'](_0x3a7f22));}},{'key':_0x10de('0xd2'),'value':function(_0x3a7f22){_0x3a7f22[_0x10de('0x4d4')]&&(esmap['ESEffectTool'][_0x10de('0x4e2')]&&esmap[_0x10de('0x4f')]['markers'][_0x10de('0xd2')](_0x3a7f22),_0x3a7f22['dispose']());}},{'key':_0x10de('0x4e3'),'value':function(){if(0x0!==this['children'][_0x10de('0xe')]){var _0x3a7f22=!0x0,_0x3d9f4b=!0x1,_0x58abc9=void 0x0;try{for(var _0x193577,_0x4d3452=(0x0,_0x398c8a[_0x10de('0x9')])(this[_0x10de('0x351')]);!(_0x3a7f22=(_0x193577=_0x4d3452[_0x10de('0x88')]())['done']);_0x3a7f22=!0x0){var _0x338016=_0x193577[_0x10de('0x10')];esmap['ESEffectTool'][_0x10de('0x4e2')]&&esmap[_0x10de('0x4f')][_0x10de('0x4e2')][_0x10de('0xd2')](_0x338016),_0x338016[_0x10de('0xce')](),_0x338016=null;}}catch(_0x2bf12e){_0x3d9f4b=!0x0,_0x58abc9=_0x2bf12e;}finally{try{!_0x3a7f22&&_0x4d3452[_0x10de('0xdf')]&&_0x4d3452['return']();}finally{if(_0x3d9f4b)throw _0x58abc9;}}this['children']['length']=0x0;}}},{'key':_0x10de('0xce'),'value':function(){this[_0x10de('0x4e3')](),DisposeUtils[_0x10de('0xce')](this[_0x10de('0x4d4')]);}},{'key':_0x10de('0x364'),'set':function(_0x3a7f22){this[_0x10de('0x4d4')][_0x10de('0x364')]=_0x3a7f22;},'get':function(){return this['o3d_']['visible'];}}]),_0x3d9f4b[_0x10de('0x9')]=_0x338016;},function(_0xb1d874,_0x35a397,_0x463671){'use strict';Object['defineProperty'](_0x35a397,_0x10de('0x5'),{'value':!0x0});var _0x2b8874=_0x42e67b(_0x463671(0x28)),_0x4745bd=_0x42e67b(_0x463671(0x1b)),_0x59ef39=_0x42e67b(_0x463671(0x0)),_0x1df906=_0x42e67b(_0x463671(0x1)),_0x1ae5fb=_0x42e67b(_0x463671(0x1e)),_0x3fc7cc=_0x42e67b(_0x463671(0x1f)),_0x101ad3=_0x42e67b(_0x463671(0x82)),_0x90b2ba=_0x42e67b(_0x463671(0x5)),_0x5942c5=_0x42e67b(_0x463671(0x45)),_0x171bdd=_0x463671(0x57),_0x3665b4=function(_0xb1d874){if(_0xb1d874&&_0xb1d874[_0x10de('0x5')])return _0xb1d874;var _0x35a397={};if(null!=_0xb1d874)for(var _0x463671 in _0xb1d874)Object[_0x10de('0xa')][_0x10de('0xb')][_0x10de('0x0')](_0xb1d874,_0x463671)&&(_0x35a397[_0x463671]=_0xb1d874[_0x463671]);return _0x35a397['default']=_0xb1d874,_0x35a397;}(_0x463671(0x36)),_0x5263f9=_0x463671(0xfd),_0x1729a0=_0x463671(0x2a),_0x56b2a0=_0x42e67b(_0x463671(0x46)),_0x5b1fc6=_0x42e67b(_0x463671(0x3d)),_0xd80f42=_0x463671(0x13),_0x40f470=_0x42e67b(_0x463671(0xfe));function _0x42e67b(_0xb1d874){return _0xb1d874&&_0xb1d874[_0x10de('0x5')]?_0xb1d874:{'default':_0xb1d874};}var _0x149335=(0x0,_0x5942c5['default'])('marker'),_0x4dc80b=new _0x56b2a0[(_0x10de('0x9'))](),_0x2acc0b=((0x0,_0x101ad3[_0x10de('0x9')])(_0x463671={},_0x171bdd['MarkerFuncName'][_0x10de('0xb7')],function(_0xb1d874){var _0x35a397=new _0x3665b4[(_0x10de('0xb7'))]({'colorStr':_0xb1d874[_0x10de('0x232')],'floatOffset':_0xb1d874[_0x10de('0x4e4')],'speed':_0xb1d874[_0x10de('0x363')]});return _0xb1d874['x']&&_0xb1d874['y']&&_0x35a397[_0x10de('0x7a')]({'radius':_0xb1d874[_0x10de('0x230')]}),_0x3f7b3c(_0xb1d874,_0x35a397[_0x10de('0x368')]),_0x35a397;}),(0x0,_0x101ad3['default'])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0xb6')],function(_0xb1d874){var _0x35a397=new _0x3665b4[(_0x10de('0xb6'))](),_0x463671=_0xb1d874[_0x10de('0x4e5')]||(0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')]['CylinderFloatMarker']['texture']),_0x463671=_0x4dc80b[_0x10de('0xdb')](_0x463671);return _0x35a397['create']({'texture':_0x463671,'radius':_0xb1d874['radius'],'height':_0xb1d874['cylinderHeight'],'colorStr':_0xb1d874[_0x10de('0x232')],'animateOpts':{'centerHeight':_0xb1d874[_0x10de('0x32c')],'swingHeight':_0xb1d874[_0x10de('0x4e7')],'speed':0.02}}),!esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x437')]&&_0xb1d874[_0x10de('0x4e8')]&&(_0x35a397[_0x10de('0x40')]['blending']=THREE['AdditiveBlending']),_0x3f7b3c(_0xb1d874,_0x35a397[_0x10de('0x368')]),_0x35a397;}),(0x0,_0x101ad3['default'])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0xb5')],function(_0xb1d874){var _0x35a397=new _0x3665b4[(_0x10de('0xb5'))](),_0x463671=_0xb1d874[_0x10de('0x4e5')]||(0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')]['CircleRotateYMarker'][_0x10de('0xdc')]),_0x463671=_0x4dc80b[_0x10de('0xdb')](_0x463671),_0x2b8874=(0x0,_0xd80f42[_0x10de('0x3b')])();return _0x463671[_0x10de('0x4e9')]=_0x2b8874['mapView'][_0x10de('0x4ea')][_0x10de('0x4eb')]['getMaxAnisotropy'](),_0x35a397['create']({'colorStr':_0xb1d874['color'],'texture':_0x463671,'radius':_0xb1d874['radius'],'speed':_0xb1d874[_0x10de('0x363')],'textureAngle':_0xb1d874[_0x10de('0x1fa')]}),_0xb1d874['seeThrough']&&(_0x35a397[_0x10de('0x40')]['depthTest']=!0x1),_0xb1d874['renderOrder']&&(_0x35a397[_0x10de('0x368')][_0x10de('0x349')]=_0xb1d874[_0x10de('0x349')]),!esmap['ESEffectTool'][_0x10de('0x46')][_0x10de('0x437')]&&_0xb1d874['isShine']&&(_0x35a397['material'][_0x10de('0x1e2')]=THREE[_0x10de('0x1e3')]),_0xb1d874['noBloomLight']?!0x0===_0xb1d874['noBloomLight']&&_0xb1d874[_0x10de('0x4e8')]&&(_0x35a397[_0x10de('0x40')][_0x10de('0x1e2')]=THREE[_0x10de('0x1e3')]):_0x3f7b3c(_0xb1d874,_0x35a397[_0x10de('0x368')]),_0x35a397;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0xb4')],function(_0xb1d874){var _0x35a397=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9['MARKER_ASSETS'][_0x10de('0xb4')][_0x10de('0xdc')])),_0x463671=new _0x3665b4['PointsLine']({'gapDistance':_0xb1d874['gapDistance'],'activeNum':_0xb1d874[_0x10de('0x4ec')],'pointSize':_0xb1d874[_0x10de('0x44c')],'colorStr':_0xb1d874[_0x10de('0x232')]}),_0x35a397=_0x463671[_0x10de('0x7a')]({'texture':_0x35a397,'points':_0xb1d874['points']}),_0xb1d874=(_0x3f7b3c(_0xb1d874,_0x35a397),_0xb1d874[_0x10de('0x284')][0x0]);return(0x0,_0xd80f42[_0x10de('0x2f')])(_0x35a397,_0xb1d874,_0xb1d874['height']),_0x463671;}),(0x0,_0x101ad3['default'])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x29a')],function(_0xb1d874){var _0x35a397=(0x0,_0xd80f42[_0x10de('0x3b')])(),_0x463671=_0x4dc80b['load']((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x29a')][_0x10de('0xdc')])),_0x35a397=new _0x3665b4[(_0x10de('0x29a'))]({'pointSize':_0xb1d874[_0x10de('0x44c')],'colorStr':_0xb1d874['color'],'animateType':_0xb1d874[_0x10de('0x4ed')],'timer':_0x35a397['timer'],'period':_0xb1d874[_0x10de('0x4ee')]}),_0x463671=_0x35a397[_0x10de('0x7a')]({'texture':_0x463671,'points':_0xb1d874[_0x10de('0x284')]}),_0x2b8874=(_0xb1d874[_0x10de('0x4ef')]&&(_0x35a397['material']['depthTest']=!0x1),_0x3f7b3c(_0xb1d874,_0x463671),_0xb1d874[_0x10de('0x284')][0x0]),_0xb1d874=void 0x0!==_0xb1d874[_0x10de('0x32c')]?_0xb1d874[_0x10de('0x32c')]:0.1;return(0x0,_0xd80f42[_0x10de('0x2f')])(_0x463671,_0x2b8874,_0xb1d874),_0x35a397;}),(0x0,_0x101ad3['default'])(_0x463671,_0x171bdd[_0x10de('0x275')]['CircleRippleMarker'],function(_0xb1d874){var _0x35a397=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')]['CircleRippleMarker']['texture'])),_0x35a397=new _0x3665b4[(_0x10de('0xb2'))]({'colorStr':_0xb1d874[_0x10de('0x232')],'isSpread':_0xb1d874[_0x10de('0x40b')],'radius':_0xb1d874[_0x10de('0x230')],'texture':_0x35a397,'speed':_0xb1d874[_0x10de('0x363')]}),_0x463671=(_0xb1d874[_0x10de('0x4ef')]&&(_0x35a397[_0x10de('0x40')][_0x10de('0x1e6')]=!0x1),_0x35a397[_0x10de('0x40')][_0x10de('0x1e5')]=!0x1,_0xb1d874[_0x10de('0x233')]&&(_0x35a397[_0x10de('0x40')][_0x10de('0x233')]=_0xb1d874[_0x10de('0x233')]),_0x35a397[_0x10de('0x7a')]());return _0x463671[_0x10de('0x349')]=_0xb1d874[_0x10de('0x349')]||0x4c,!esmap[_0x10de('0x4f')][_0x10de('0x46')]['isOpenScreenEffect']&&_0xb1d874[_0x10de('0x4e8')]&&(_0x35a397[_0x10de('0x40')]['blending']=THREE[_0x10de('0x1e3')]),_0x3f7b3c(_0xb1d874,_0x463671),_0x35a397;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x295')],function(_0xb1d874){var _0x35a397=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')]['CylinderSpreadMarker'][_0x10de('0xdc')])),_0x35a397=((0x0,_0xd80f42[_0x10de('0x31')])()&&(_0xb1d874[_0x10de('0x4f0')]=!0x0),new _0x3665b4[(_0x10de('0xb1'))]({'texture':_0x35a397,'radius':_0xb1d874['radius'],'height':_0xb1d874[_0x10de('0x4f1')],'colorStr':_0xb1d874[_0x10de('0x232')],'isCilpGround':_0xb1d874[_0x10de('0x4f0')],'clipGroundY':_0xb1d874['clipGroundY']}));return _0x35a397[_0x10de('0x7a')](),esmap[_0x10de('0x4f')]['options'][_0x10de('0x437')]&&_0x35a397['material'][_0x10de('0x232')][_0x10de('0x45b')](0x0,0x0,0.2),!esmap[_0x10de('0x4f')][_0x10de('0x46')]['isOpenScreenEffect']&&_0xb1d874[_0x10de('0x4e8')]&&(_0x35a397[_0x10de('0x40')]['blending']=THREE['AdditiveBlending']),_0x3f7b3c(_0xb1d874,_0x35a397[_0x10de('0x4f2')]),_0x35a397;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x4f3')],function(_0xb1d874){var _0x35a397=(0x0,_0xd80f42[_0x10de('0x3b')])(),_0x463671=_0xb1d874[_0x10de('0x4e5')]||(0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x4f3')][_0x10de('0xdc')]),_0x463671=_0x4dc80b[_0x10de('0xdb')](_0x463671),_0x2b8874=_0x4dc80b['load']((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x4f3')][_0x10de('0x4f4')])),_0x1df906=new _0x3665b4[(_0x10de('0xc1'))]({'camera':_0x35a397['mapView'][_0x10de('0x338')],'controls':_0x35a397[_0x10de('0x2fc')],'colorStr':_0xb1d874[_0x10de('0x232')],'speed':_0xb1d874[_0x10de('0x363')],'texture':_0x463671,'alphaTex':_0x2b8874});if(_0xb1d874[_0x10de('0x4f5')]&&(_0x1df906['object3d'][_0x10de('0x222')]['y']=_0xb1d874[_0x10de('0x4f5')]),_0xb1d874[_0x10de('0x4e5')]||(_0xb1d874[_0x10de('0x32c')]=_0xb1d874[_0x10de('0x35d')]/(0x1/0x8)),_0xb1d874[_0x10de('0x4f6')])for(var _0x3fc7cc=0x0;_0x3fc7cc<_0xb1d874['lineNumber'];_0x3fc7cc++){var _0x4745bd=_0x1df906[_0x10de('0x7a')](_0xb1d874);(0x0,_0xd80f42[_0x10de('0x2f')])(_0x4745bd,{'x':-Math[_0x10de('0x63')]()*_0xb1d874['extentRadius']+_0xb1d874[_0x10de('0x41d')]/0x2+_0xb1d874[_0x10de('0x4f7')]['x'],'y':-Math[_0x10de('0x63')]()*_0xb1d874[_0x10de('0x41d')]+_0xb1d874['extentRadius']/0x2+_0xb1d874[_0x10de('0x4f7')]['y']},-Math[_0x10de('0x63')]()*_0xb1d874[_0x10de('0x41d')]);}else{var _0x59ef39=!0x0,_0x35a397=!0x1,_0x463671=void 0x0;try{for(var _0x1ae5fb,_0x101ad3=(0x0,_0x90b2ba[_0x10de('0x9')])(_0xb1d874[_0x10de('0x284')]);!(_0x59ef39=(_0x1ae5fb=_0x101ad3[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x59ef39=!0x0){var _0x5942c5=_0x1ae5fb['value'],_0x171bdd=_0x1df906[_0x10de('0x7a')](_0xb1d874),_0x1729a0=-Math[_0x10de('0x63')]()*_0xb1d874[_0x10de('0x41d')];_0x3f7b3c(_0xb1d874,_0x171bdd),(0x0,_0xd80f42['setPositionFromMc'])(_0x171bdd,_0x5942c5,_0x1729a0);}}catch(_0xad5f32){_0x35a397=!0x0,_0x463671=_0xad5f32;}finally{try{!_0x59ef39&&_0x101ad3[_0x10de('0xdf')]&&_0x101ad3['return']();}finally{if(_0x35a397)throw _0x463671;}}}return _0x1df906[_0x10de('0x42c')](),_0x1df906;}),(0x0,_0x101ad3['default'])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x29d')],function(_0xb1d874){var _0x35a397=(0x0,_0xd80f42[_0x10de('0x3b')])(),_0x463671=_0xb1d874[_0x10de('0x4e5')]||(0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x29d')][_0x10de('0xdc')]),_0x463671=_0xb1d874['scrollImgUrl']||_0x463671,_0x463671=_0x4dc80b[_0x10de('0xdb')](_0x463671,!0x0),_0x2b8874=(_0x463671[_0x10de('0x4e9')]=_0x35a397['mapView'][_0x10de('0x4ea')][_0x10de('0x4eb')][_0x10de('0x4f8')](),new _0x3665b4[(_0x10de('0xb0'))]({'texture':_0x463671,'colorStr':_0xb1d874[_0x10de('0x232')],'focusColorStr':_0xb1d874[_0x10de('0x4f9')],'scale':_0xb1d874[_0x10de('0x4fa')],'isTransparentLight':_0xb1d874[_0x10de('0x4fb')],'isScrollX':void 0x0!==_0xb1d874[_0x10de('0x4fc')]?_0xb1d874['isScrollX']:!!_0xb1d874[_0x10de('0x4fd')],'scrollXRepeat':_0xb1d874['scrollXRepeat'],'isClockWise':_0xb1d874[_0x10de('0x4fe')],'speed':void 0x0===_0xb1d874[_0x10de('0x363')]?0x1:_0xb1d874[_0x10de('0x363')]})),_0x1df906=(_0xb1d874['seeThrough']&&(_0x2b8874['wallMaterial']['depthTest']=!0x1),_0xb1d874[_0x10de('0x32c')]=_0xb1d874['height']||0x0,!0x0),_0x35a397=!0x1,_0x463671=void 0x0;try{for(var _0x3fc7cc,_0x4745bd=(0x0,_0x90b2ba['default'])(_0xb1d874[_0x10de('0x4ff')]);!(_0x1df906=(_0x3fc7cc=_0x4745bd[_0x10de('0x88')]())['done']);_0x1df906=!0x0){var _0x59ef39=_0x3fc7cc[_0x10de('0x10')],_0x1ae5fb=[],_0x101ad3=_0x59ef39[_0x10de('0x284')][0x0],_0x5942c5=(_0x101ad3[_0x10de('0x10a')]=_0x101ad3['offset']||0x0,!0x0),_0x171bdd=!0x1,_0x1729a0=void 0x0;try{for(var _0x56b2a0,_0x5b1fc6=(0x0,_0x90b2ba[_0x10de('0x9')])(_0x59ef39[_0x10de('0x284')]);!(_0x5942c5=(_0x56b2a0=_0x5b1fc6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x5942c5=!0x0){var _0x40f470=_0x56b2a0[_0x10de('0x10')];_0x1ae5fb[_0x10de('0x84')]({'x':-_0x40f470['x'],'y':_0x40f470[_0x10de('0x10a')]||0x0,'z':_0x40f470['y']});}}catch(_0x5f2933){_0x171bdd=!0x0,_0x1729a0=_0x5f2933;}finally{try{!_0x5942c5&&_0x5b1fc6['return']&&_0x5b1fc6[_0x10de('0xdf')]();}finally{if(_0x171bdd)throw _0x1729a0;}}var _0x42e67b=_0x2b8874[_0x10de('0x500')]({'points':_0x1ae5fb,'colorStr':_0x59ef39['color'],'extentId':_0x59ef39['id'],'wallHeight':_0xb1d874[_0x10de('0x4fa')],'isNoClose':_0xb1d874['isNoClose']});_0x3f7b3c(_0xb1d874,_0x42e67b),(0x0,_0xd80f42[_0x10de('0x2f')])(_0x42e67b,_0x101ad3,_0x101ad3[_0x10de('0x10a')]+_0xb1d874[_0x10de('0x32c')]),_0xb1d874[_0x10de('0x349')]&&(_0x42e67b[_0x10de('0x349')]=_0xb1d874[_0x10de('0x349')]);}}catch(_0x3ee097){_0x35a397=!0x0,_0x463671=_0x3ee097;}finally{try{!_0x1df906&&_0x4745bd['return']&&_0x4745bd[_0x10de('0xdf')]();}finally{if(_0x35a397)throw _0x463671;}}return _0x2b8874[_0x10de('0x4ff')]=_0xb1d874[_0x10de('0x4ff')],_0x2b8874;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x501')],function(_0xb1d874){var _0x35a397=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x501')][_0x10de('0x502')])),_0x463671=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x501')][_0x10de('0x503')])),_0x2b8874=new _0x3665b4['FireSmoke']({'scale':_0xb1d874['scale']}),_0x1df906=null;return _0xb1d874['windFactor']&&(_0x1df906={'directionAngle':_0xb1d874[_0x10de('0x504')][_0x10de('0x311')]-_0xb1d874[_0x10de('0x1fa')],'pitchAngle':_0xb1d874[_0x10de('0x504')]['pitchAngle'],'spread':_0xb1d874[_0x10de('0x504')][_0x10de('0x479')]}),_0x2b8874[_0x10de('0x7a')]({'innerTex':_0x35a397,'outTex':_0x463671,'spreadFactor':_0xb1d874[_0x10de('0x438')],'vectorSpread':_0x1df906,'angle':_0xb1d874['angle'],'depthTest':!_0xb1d874[_0x10de('0x4ef')],'isOpenScreenEffect':esmap[_0x10de('0x4f')]['options'][_0x10de('0x437')]}),_0x2b8874;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd['MarkerFuncName'][_0x10de('0x2a0')],function(_0xb1d874){var _0x35a397=_0x4dc80b['load']((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x2a0')][_0x10de('0xdc')])),_0x463671=new _0x3665b4[(_0x10de('0xa5'))]({'scale':_0xb1d874[_0x10de('0x1e8')]});return _0x463671[_0x10de('0x7a')]({'tex':_0x35a397,'color':_0xb1d874[_0x10de('0x232')],'isOpenScreenEffect':esmap[_0x10de('0x4f')][_0x10de('0x46')]['isOpenScreenEffect']}),_0x463671;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x29e')],function(_0xb1d874){var _0x35a397=_0x4dc80b['load']((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x29e')][_0x10de('0xdc')])),_0x463671=new _0x3665b4[(_0x10de('0xa7'))]({'scale':_0xb1d874['scale']});return _0x463671[_0x10de('0x7a')]({'tex':_0x35a397,'color':_0xb1d874[_0x10de('0x232')],'intensity':_0xb1d874[_0x10de('0x479')],'spread':_0xb1d874[_0x10de('0x1fb')],'isOpenScreenEffect':esmap[_0x10de('0x4f')]['options'][_0x10de('0x437')]}),_0xb1d874[_0x10de('0x1fa')]&&(_0x463671['object3d']['rotation']['y']=THREE[_0x10de('0x18')][_0x10de('0x315')](_0xb1d874[_0x10de('0x1fa')])),_0x463671;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x29f')],function(_0xb1d874){var _0x35a397=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x29e')]['texture'])),_0x463671=new _0x3665b4[(_0x10de('0xa6'))]({'scale':_0xb1d874[_0x10de('0x1e8')]});return _0x463671[_0x10de('0x7a')]({'tex':_0x35a397,'color':_0xb1d874[_0x10de('0x232')],'intensity':_0xb1d874['intensity'],'spread':_0xb1d874[_0x10de('0x1fb')],'vectorSpread':{'directionAngle':_0xb1d874['directionAngle'],'pitchAngle':_0xb1d874[_0x10de('0x301')]},'depthTest':void 0x0!==_0xb1d874['seeThrough']&&!_0xb1d874['seeThrough'],'isOpenScreenEffect':esmap[_0x10de('0x4f')]['options'][_0x10de('0x437')]}),_0xb1d874['angle']&&(_0x463671[_0x10de('0x368')][_0x10de('0x1fd')]['y']=THREE[_0x10de('0x18')]['degToRad'](_0xb1d874['angle'])),_0x463671;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x505')],function(_0xb1d874){var _0x35a397=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42['getConfigAssetsPath'])(_0x5263f9['MARKER_ASSETS'][_0x10de('0x505')][_0x10de('0x506')])),_0x463671=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42[_0x10de('0x29')])(_0x5263f9['MARKER_ASSETS'][_0x10de('0x505')]['explosionTex'])),_0x2b8874=new _0x3665b4['Explosion']({'scale':_0xb1d874[_0x10de('0x1e8')],'maxAge':_0xb1d874[_0x10de('0x507')]});return _0x2b8874[_0x10de('0x7a')]({'smokeTex':_0x35a397,'explosionTex':_0x463671,'isOpenScreenEffect':esmap[_0x10de('0x4f')]['options']['isOpenScreenEffect']}),_0xb1d874[_0x10de('0x1fa')]&&(_0x2b8874[_0x10de('0x368')][_0x10de('0x1fd')]['y']=THREE[_0x10de('0x18')][_0x10de('0x315')](_0xb1d874['angle'])),_0x2b8874;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x2a1')],function(_0xb1d874){var _0x35a397=_0x4dc80b[_0x10de('0xdb')]((0x0,_0xd80f42['getConfigAssetsPath'])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x2a1')][_0x10de('0xdc')])),_0x463671=new _0x3665b4['WaterSpread']({'scale':_0xb1d874[_0x10de('0x1e8')]});return _0x463671[_0x10de('0x7a')]({'texture':_0x35a397,'dirAngle':_0xb1d874[_0x10de('0x508')],'pitchAngle':_0xb1d874['pitchAngle'],'isOpenScreenEffect':esmap['ESEffectTool'][_0x10de('0x46')][_0x10de('0x437')]}),_0x463671;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x2a2')],function(_0xb1d874){var _0x35a397=_0xb1d874[_0x10de('0x4e5')]||(0x0,_0xd80f42['getConfigAssetsPath'])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x2a2')][_0x10de('0xdc')]),_0x35a397=_0x4dc80b[_0x10de('0xdb')](_0x35a397),_0x463671=new _0x3665b4['FloatPoints']({'scale':_0xb1d874[_0x10de('0x1e8')]});return _0x463671[_0x10de('0x7a')]({'texture':_0x35a397,'color':_0xb1d874[_0x10de('0x232')],'isSpreadColor':_0xb1d874[_0x10de('0x509')],'spread':_0xb1d874['radius'],'extentHeight':_0xb1d874[_0x10de('0x50a')],'pointNum':_0xb1d874[_0x10de('0x50b')],'isShine':_0xb1d874[_0x10de('0x4e8')],'fixedSize':_0xb1d874[_0x10de('0x50c')],'speed':_0xb1d874[_0x10de('0x363')]}),_0xb1d874[_0x10de('0x349')]&&(_0x463671[_0x10de('0x43d')][_0x10de('0x349')]=_0xb1d874[_0x10de('0x349')]),_0x463671;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x2a6')],function(_0xb1d874){var _0x35a397,_0x463671,_0x2b8874;if(_0xb1d874[_0x10de('0x4e5')])return _0x35a397=(0x0,_0xd80f42[_0x10de('0x3b')])(),_0x463671=_0x4dc80b[_0x10de('0xdb')](_0xb1d874[_0x10de('0x4e5')]),(_0x2b8874=new _0x3665b4[(_0x10de('0xb3'))]({}))[_0x10de('0x7a')]({'timer':_0x35a397[_0x10de('0x2da')],'texture':_0x463671,'scale':_0xb1d874[_0x10de('0x1e8')],'uvConfigs':{'imageWidth':_0xb1d874[_0x10de('0x50d')]['imageWidth'],'imageHeight':_0xb1d874['imgStyle'][_0x10de('0x2e0')],'xCount':_0xb1d874[_0x10de('0x50d')][_0x10de('0x50e')],'yCount':_0xb1d874[_0x10de('0x50d')][_0x10de('0x50f')],'xStart':_0xb1d874[_0x10de('0x50d')][_0x10de('0x510')],'yStart':_0xb1d874['imgStyle']['columnIndex'],'fps':_0xb1d874[_0x10de('0x50d')][_0x10de('0x2dd')]},'loop':_0xb1d874[_0x10de('0x511')]}),_0x2b8874['uvAnimate']['name']=_0xb1d874[_0x10de('0x8c')],_0x2b8874;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x299')],function(_0xb1d874){for(var _0x35a397=(0x0,_0xd80f42[_0x10de('0x3b')])(),_0x463671=_0xb1d874[_0x10de('0x4e5')]||(0x0,_0xd80f42['getConfigAssetsPath'])(_0x5263f9[_0x10de('0x4e6')][_0x10de('0x299')]['texture']),_0x463671=_0x4dc80b['load'](_0x463671),_0x463671=new _0x3665b4[(_0x10de('0xc3'))]({'colorStr':_0xb1d874[_0x10de('0x232')],'repeat':_0xb1d874[_0x10de('0x512')],'texture':_0x463671}),_0x2b8874=[],_0x1df906=0x0,_0x3fc7cc=_0xb1d874[_0x10de('0x284')][_0x10de('0xe')];_0x1df906<_0x3fc7cc;_0x1df906++){var _0x4745bd=_0x35a397[_0x10de('0x20')]({'x':_0xb1d874['points'][_0x1df906]['x'],'y':_0xb1d874[_0x10de('0x284')][_0x1df906]['y'],'z':_0xb1d874[_0x10de('0x284')][_0x1df906][_0x10de('0x10a')]});_0x2b8874[_0x10de('0x84')](_0x4745bd);}return _0x463671[_0x10de('0x7a')]({'points':_0x2b8874,'lineWidth':_0xb1d874[_0x10de('0x337')],'lineHeight':_0xb1d874[_0x10de('0x42a')]}),_0x463671;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd['MarkerFuncName'][_0x10de('0xa2')],function(_0xb1d874){var _0x35a397=(0x0,_0xd80f42['getMapInstance'])(),_0x463671=_0xb1d874[_0x10de('0x4e5')]||(0x0,_0xd80f42['getConfigAssetsPath'])(_0x5263f9['MARKER_ASSETS'][_0x10de('0xa2')][_0x10de('0xdc')]),_0x463671=_0x4dc80b[_0x10de('0xdb')](_0x463671),_0x2b8874=new _0x3665b4[(_0x10de('0xa2'))]({'camera':_0x35a397[_0x10de('0x46c')][_0x10de('0x338')],'texture':_0x463671,'colorStr':_0xb1d874['color'],'opacity':_0xb1d874['opacity'],'lineWidth':_0xb1d874[_0x10de('0x337')],'repeat':_0xb1d874['imgRepeat']&&0x0<_0xb1d874[_0x10de('0x512')]?{'x':_0xb1d874[_0x10de('0x512')],'y':0x1}:{'x':0x1,'y':0x1},'speed':_0xb1d874['speed'],'isCanChangeStyle':_0xb1d874[_0x10de('0x367')],'renderOrder':_0xb1d874[_0x10de('0x349')]});if(_0x2b8874[_0x10de('0x35b')](_0x35a397),_0xb1d874['renderOrder']&&(_0x2b8874[_0x10de('0x349')]=_0xb1d874[_0x10de('0x349')]),_0xb1d874[_0x10de('0x4ef')]&&(_0x2b8874[_0x10de('0x33b')][_0x10de('0x1e6')]=!0x1),Array[_0x10de('0x1be')](_0xb1d874[_0x10de('0x513')])&&0x0<_0xb1d874[_0x10de('0x513')][_0x10de('0xe')]){var _0x1df906=!0x0,_0x463671=!0x1,_0x35a397=void 0x0;try{for(var _0x3fc7cc,_0x4745bd=(0x0,_0x90b2ba[_0x10de('0x9')])(_0xb1d874[_0x10de('0x513')]);!(_0x1df906=(_0x3fc7cc=_0x4745bd[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x1df906=!0x0){var _0x59ef39=_0x3fc7cc[_0x10de('0x10')],_0x1ae5fb=[],_0x101ad3=_0x59ef39['points'][0x0],_0x5942c5=!0x0,_0x171bdd=!0x1,_0x1729a0=void 0x0;try{for(var _0x56b2a0,_0x5b1fc6=(0x0,_0x90b2ba[_0x10de('0x9')])(_0x59ef39[_0x10de('0x284')]);!(_0x5942c5=(_0x56b2a0=_0x5b1fc6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x5942c5=!0x0){var _0x40f470=_0x56b2a0[_0x10de('0x10')];_0x1ae5fb[_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](-_0x40f470['x'],_0x40f470['offset']||0x0,_0x40f470['y']));}}catch(_0x41dd73){_0x171bdd=!0x0,_0x1729a0=_0x41dd73;}finally{try{!_0x5942c5&&_0x5b1fc6[_0x10de('0xdf')]&&_0x5b1fc6[_0x10de('0xdf')]();}finally{if(_0x171bdd)throw _0x1729a0;}}var _0x42e67b=_0x2b8874[_0x10de('0x347')](_0x1ae5fb);_0x3f7b3c(_0xb1d874,_0x42e67b),(0x0,_0xd80f42[_0x10de('0x2f')])(_0x42e67b,_0x101ad3,_0xb1d874[_0x10de('0x32c')]);}}catch(_0x62e5a3){_0x463671=!0x0,_0x35a397=_0x62e5a3;}finally{try{!_0x1df906&&_0x4745bd[_0x10de('0xdf')]&&_0x4745bd['return']();}finally{if(_0x463671)throw _0x35a397;}}}return _0x2b8874;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x514')],function(_0xb1d874){var _0x35a397=new _0x3665b4[(_0x10de('0x9f'))]();return _0x35a397['createVideoElement'](_0xb1d874['id'],_0xb1d874[_0x10de('0x515')]),_0x35a397[_0x10de('0x32e')](),_0x35a397[_0x10de('0x7a')]({'width':_0xb1d874[_0x10de('0x516')],'height':_0xb1d874[_0x10de('0x517')]}),_0x35a397;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x2a4')],function(_0xb1d874){var _0x35a397=new _0x3665b4[(_0x10de('0xad'))]({'colorStr':_0xb1d874[_0x10de('0x232')],'radius':_0xb1d874['radius'],'speed':_0xb1d874[_0x10de('0x363')]}),_0x463671=_0x35a397[_0x10de('0x7a')]();return _0xb1d874[_0x10de('0x4ef')]&&(_0x463671['material'][_0x10de('0x1e6')]=!0x1),_0x35a397;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x518')],function(_0xb1d874){var _0x35a397=new _0x3665b4[(_0x10de('0xac'))]({'colorStr':_0xb1d874[_0x10de('0x232')],'radius':_0xb1d874['radius'],'speed':_0xb1d874[_0x10de('0x363')],'angle':_0xb1d874[_0x10de('0x1fa')],'thickness':_0xb1d874[_0x10de('0x519')]}),_0x463671=_0x35a397[_0x10de('0x7a')]();return _0xb1d874[_0x10de('0x4ef')]&&(_0x463671[_0x10de('0x40')][_0x10de('0x1e6')]=!0x1),_0x35a397;}),(0x0,_0x101ad3[_0x10de('0x9')])(_0x463671,_0x171bdd[_0x10de('0x275')][_0x10de('0x2a5')],function(_0xb1d874){var _0x35a397=new _0x3665b4['PlaneTerrainEffect'](),_0x463671=_0x4dc80b[_0x10de('0xdb')](_0xb1d874[_0x10de('0x4e5')]),_0x2b8874=_0x4dc80b['load'](_0xb1d874['normalUrl']);return _0x35a397[_0x10de('0x7a')]({'grayTex':_0x463671,'normalTex':_0x2b8874,'width':_0xb1d874[_0x10de('0x2e1')],'height':_0xb1d874[_0x10de('0x2e2')]}),_0x35a397;}),_0x463671),_0x3f7b3c=function(_0xb1d874,_0x35a397){_0xb1d874['isShine']&&_0x35a397[_0x10de('0x51a')][_0x10de('0x223')](0x1);},_0x56b2a0=(_0x5942c5=_0x1729a0[_0x10de('0x82')],(0x0,_0x3fc7cc[_0x10de('0x9')])(_0x391bad,_0x5942c5),(0x0,_0x1df906[_0x10de('0x9')])(_0x391bad,[{'key':_0x10de('0x51b'),'value':function(_0xb1d874,_0x5b1fc6){var _0x101ad3=null;switch(_0xb1d874){case _0x171bdd['ESMarkerType']['CUBE_FLOAT']:(_0x101ad3=_0x2acc0b[_0x171bdd['MarkerFuncName'][_0x10de('0xb7')]](_0x5b1fc6))[_0x10de('0x364')]=!0x0,this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this['o3d_'][_0x10de('0x3e')]=this)[_0x149335]['_instance']=_0x101ad3,_0x5b1fc6['x']&&_0x5b1fc6['y']&&this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]),this[_0x10de('0x51d')]=function(_0xb1d874){var _0x35a397=_0x101ad3['create']({'radius':_0xb1d874[_0x10de('0x230')]}),_0x463671=(0x0,_0xd80f42['coordTransToThree'])(_0xb1d874['x'],_0xb1d874['y']);_0x35a397['position'][_0x10de('0x1e')](_0x463671['x'],_0xb1d874[_0x10de('0x32c')]||0x0,_0x463671['y']);},this[_0x10de('0x331')]=function(_0xb1d874){_0xb1d874['scale']&&_0x101ad3[_0x10de('0x368')][_0x10de('0x1e8')][_0x10de('0x1e')](_0xb1d874['scale'],_0xb1d874[_0x10de('0x1e8')],_0xb1d874['scale']);},this[_0x10de('0x51e')](this[_0x10de('0x4d4')]);break;case _0x171bdd['ESMarkerType'][_0x10de('0x51f')]:(_0x101ad3=_0x2acc0b[_0x171bdd['MarkerFuncName'][_0x10de('0xb6')]](_0x5b1fc6))[_0x10de('0x364')]=!0x0,this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335]['_instance']=_0x101ad3,this['setPosition']({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]);break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x520')]:(_0x101ad3=_0x2acc0b[_0x171bdd['MarkerFuncName'][_0x10de('0xb5')]](_0x5b1fc6))[_0x10de('0x364')]=!0x0,this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],this[_0x10de('0x4d4')][_0x10de('0x3e')]=this,_0x101ad3['object3d']['renderOrder']=0x47,this[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]),this[_0x10de('0xfc')]=function(_0xb1d874){_0xb1d874?(_0x101ad3[_0x10de('0x40')][_0x10de('0x41')]['originColor']=_0x101ad3[_0x10de('0x40')][_0x10de('0x232')]['clone'](),_0x101ad3['material']['color'][_0x10de('0x331')](_0xb1d874)):_0x101ad3[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x1d3')](_0x101ad3[_0x10de('0x40')][_0x10de('0x41')]['originColor']);},this[_0x10de('0x331')]=function(_0xb1d874){_0xb1d874[_0x10de('0x1e8')]&&_0x101ad3['object3d'][_0x10de('0x1e8')]['set'](_0xb1d874['scale'],_0xb1d874[_0x10de('0x1e8')],_0xb1d874[_0x10de('0x1e8')]),_0xb1d874[_0x10de('0x232')]&&_0x101ad3[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](color);};break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x522')]:(_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0xb4')]](_0x5b1fc6))[_0x10de('0x364')]=!0x0,this['o3d_']=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')]['datas_']=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x461')]=function(_0xb1d874){_0x101ad3[_0x10de('0x461')]=_0xb1d874;};break;case _0x171bdd[_0x10de('0x27c')]['POINTS']:(_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x29a')]](_0x5b1fc6))[_0x10de('0x364')]=!0x0,this['o3d_']=_0x101ad3[_0x10de('0x368')],(this['o3d_'][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3;break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x523')]:(_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x524')]](_0x5b1fc6))[_0x10de('0x364')]=!0x0,this[_0x10de('0x4d4')]=_0x101ad3['object3d'],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]),this[_0x10de('0xfc')]=function(_0xb1d874){_0xb1d874?(_0x101ad3[_0x10de('0x40')][_0x10de('0x41')]['originColor']=_0x101ad3['material']['color'][_0x10de('0x1c5')](),_0x101ad3[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](_0xb1d874)):_0x101ad3[_0x10de('0x40')][_0x10de('0x232')]['copy'](_0x101ad3[_0x10de('0x40')][_0x10de('0x41')][_0x10de('0x407')]);},this[_0x10de('0x331')]=function(_0xb1d874){_0xb1d874[_0x10de('0x1e8')]&&_0x101ad3[_0x10de('0x368')]['scale'][_0x10de('0x1e')](_0xb1d874[_0x10de('0x1e8')],_0xb1d874[_0x10de('0x1e8')],_0xb1d874[_0x10de('0x1e8')]),_0xb1d874[_0x10de('0x232')]&&_0x101ad3['material'][_0x10de('0x232')][_0x10de('0x331')](color);};break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x525')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x295')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3['object3d'],(this['o3d_'][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]);break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x526')]:_0x101ad3=_0x2acc0b[_0x171bdd['MarkerFuncName'][_0x10de('0x4f3')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')]['datas_']=this)[_0x149335][_0x10de('0x521')]=_0x101ad3;break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x527')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x29d')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this['o3d_']['datas_']=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x528')]=_0x101ad3[_0x10de('0x4ff')],this[_0x10de('0x529')]=function(_0xb1d874){_0xb1d874[_0x10de('0x232')]&&_0x101ad3[_0x10de('0x52a')][_0x10de('0x232')][_0x10de('0x331')](_0xb1d874[_0x10de('0x232')]);},this[_0x10de('0x52b')]=function(_0xb1d874){var _0x35a397=[],_0x463671=_0xb1d874[_0x10de('0x284')][0x0],_0x2b8874=(_0x463671['offset']=_0x463671['offset']||0x0,!0x0),_0x1df906=!0x1,_0x3fc7cc=void 0x0;try{for(var _0x4745bd,_0x59ef39=(0x0,_0x90b2ba['default'])(_0xb1d874[_0x10de('0x284')]);!(_0x2b8874=(_0x4745bd=_0x59ef39[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2b8874=!0x0){var _0x1ae5fb=_0x4745bd[_0x10de('0x10')];_0x35a397[_0x10de('0x84')]({'x':-_0x1ae5fb['x'],'y':_0x1ae5fb[_0x10de('0x10a')]||0x0,'z':_0x1ae5fb['y']});}}catch(_0x3b1f64){_0x1df906=!0x0,_0x3fc7cc=_0x3b1f64;}finally{try{!_0x2b8874&&_0x59ef39['return']&&_0x59ef39[_0x10de('0xdf')]();}finally{if(_0x1df906)throw _0x3fc7cc;}}_0x1df906=_0x101ad3[_0x10de('0x500')]({'points':_0x35a397,'extentId':_0xb1d874['id'],'wallHeight':_0xb1d874['wallHeight']||_0x5b1fc6[_0x10de('0x4fa')],'isNoClose':_0xb1d874[_0x10de('0x52c')]||_0x5b1fc6['isNoClose']});_0x3f7b3c(_0x5b1fc6,_0x1df906),(0x0,_0xd80f42[_0x10de('0x2f')])(_0x1df906,_0x463671,_0x463671[_0x10de('0x10a')]+_0x5b1fc6[_0x10de('0x32c')]),_0x5b1fc6[_0x10de('0x349')]&&(_0x1df906[_0x10de('0x349')]=_0x5b1fc6[_0x10de('0x349')]);},this['deleteExtentById']=function(_0xb1d874){var _0x35a397=!0x0,_0x463671=!0x1,_0x2b8874=void 0x0;try{for(var _0x1df906,_0x3fc7cc=(0x0,_0x90b2ba[_0x10de('0x9')])(_0x101ad3[_0x10de('0x52d')]);!(_0x35a397=(_0x1df906=_0x3fc7cc[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x35a397=!0x0){var _0x4745bd=_0x1df906[_0x10de('0x10')];if(_0x4745bd['id']===_0xb1d874){_0x101ad3[_0x10de('0x368')][_0x10de('0xd2')](_0x4745bd[_0x10de('0x1f6')]);break;}}}catch(_0x5c94ee){_0x463671=!0x0,_0x2b8874=_0x5c94ee;}finally{try{!_0x35a397&&_0x3fc7cc['return']&&_0x3fc7cc[_0x10de('0xdf')]();}finally{if(_0x463671)throw _0x2b8874;}}};break;case _0x171bdd['ESMarkerType'][_0x10de('0x52e')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x501')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')]['datas_']=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6['height']),this[_0x10de('0x43f')]=function(_0xb1d874){this[_0x149335][_0x10de('0x521')][_0x10de('0x43f')](_0xb1d874);};break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x52f')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x2a0')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]);break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x530')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x29e')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]);break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x531')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x29f')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this['o3d_'][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this['setPosition']({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]);break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x532')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x505')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')]['datas_']=this)[_0x149335]['_instance']=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6['height']),this[_0x10de('0x28a')]=function(_0xb1d874){var _0x35a397=this,_0x463671=_0xb1d874[_0x10de('0x507')],_0x463671=void 0x0===_0x463671?0x2:_0x463671,_0xb1d874=_0xb1d874[_0x10de('0x230')],_0xb1d874=void 0x0===_0xb1d874?0x64:_0xb1d874;this[_0x149335][_0x10de('0x521')][_0x10de('0x533')](!0x0),this[_0x149335][_0x10de('0x521')][_0x10de('0x534')]({'time':_0x463671,'radius':_0xb1d874}),setTimeout(function(){_0x35a397[_0x149335][_0x10de('0x521')][_0x10de('0x533')](!0x1);},0x3e8*_0x463671);};break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x535')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')]['WaterSpreadMarker']](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]);break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x536')]:_0x101ad3=_0x2acc0b[_0x171bdd['MarkerFuncName']['FloatPointsMarker']](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3['object3d'],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]);break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x537')]:_0x101ad3=_0x2acc0b[_0x171bdd['MarkerFuncName'][_0x10de('0x2a6')]](_0x5b1fc6),this['o3d_']=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335]['_instance']=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]),this[_0x10de('0x538')]=function(){var _0x35a397=this,_0x463671=0x0<arguments[_0x10de('0xe')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{'duration':0x0};return new _0x2b8874[(_0x10de('0x9'))](function(_0xb1d874){setTimeout(function(){_0x35a397[_0x149335]['_instance']['play'](),_0xb1d874();},0x3e8*_0x463671[_0x10de('0x225')]);});};break;case _0x171bdd[_0x10de('0x27c')]['UP_LINE']:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x299')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this['o3d_']['datas_']=this)[_0x149335][_0x10de('0x521')]=_0x101ad3;break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x539')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')]['MulripleMeshLine']](_0x5b1fc6),this['o3d_']=_0x101ad3['object3d'],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,(0x0,_0xd80f42[_0x10de('0x3b')])()['on'](_0x10de('0x53a'),function(_0xb1d874){'2D'===_0xb1d874?_0x101ad3[_0x10de('0x368')]['visible']=!0x1:'3D'===_0xb1d874&&(_0x101ad3['object3d']['visible']=!0x0);}),this[_0x10de('0x347')]=function(_0xb1d874){var _0x35a397=_0xb1d874[_0x10de('0x4d7')],_0x463671=_0xb1d874[_0x10de('0x284')],_0xb1d874=_0xb1d874['id'],_0x2b8874=(0x0,_0xd80f42['getMapInstance'])(),_0x1df906=_0x463671[0x0],_0x3fc7cc=[],_0x4745bd=!0x0,_0x59ef39=!0x1,_0x1ae5fb=void 0x0;try{for(var _0x101ad3,_0x5942c5=(0x0,_0x90b2ba[_0x10de('0x9')])(_0x463671);!(_0x4745bd=(_0x101ad3=_0x5942c5['next']())['done']);_0x4745bd=!0x0){var _0x171bdd=_0x101ad3[_0x10de('0x10')],_0x1729a0=_0x171bdd[_0x10de('0x10a')]||0x0,_0x56b2a0=(_0x171bdd['fnum']&&(_0x1729a0=_0x2b8874['getBuildingById'](_0x35a397||0x0)[_0x10de('0x4d1')](_0x171bdd[_0x10de('0x4d8')])+_0x171bdd['offset']),_0x2b8874['coordMapToThree']({'x':_0x171bdd['x'],'y':_0x171bdd['y'],'z':_0x1729a0,'bid':_0x171bdd[_0x10de('0x4d7')]||0x0}));_0x3fc7cc['push'](_0x56b2a0);}}catch(_0xc8eab5){_0x59ef39=!0x0,_0x1ae5fb=_0xc8eab5;}finally{try{!_0x4745bd&&_0x5942c5[_0x10de('0xdf')]&&_0x5942c5[_0x10de('0xdf')]();}finally{if(_0x59ef39)throw _0x1ae5fb;}}_0x463671=this[_0x149335][_0x10de('0x521')]['addLine'](_0x3fc7cc,!0x0);return this[_0x149335][_0x10de('0x521')][_0x10de('0x349')]&&(_0x463671[_0x10de('0x349')]=this[_0x149335][_0x10de('0x521')][_0x10de('0x349')]),_0xb1d874&&(_0x463671[_0x10de('0x53b')]=_0xb1d874),(0x0,_0xd80f42[_0x10de('0x2f')])(_0x463671,_0x1df906,_0x5b1fc6[_0x10de('0x32c')]),_0x3f7b3c(_0x5b1fc6,_0x463671),{'lastAngle':_0x463671[_0x10de('0x34a')]};},this['removeAll']=function(){var _0x35a397=[],_0xb1d874=(this[_0x149335]['_instance'][_0x10de('0x368')][_0x10de('0xd1')](function(_0xb1d874){_0xb1d874 instanceof THREE[_0x10de('0x348')]&&_0x35a397[_0x10de('0x84')](_0xb1d874);}),!0x0),_0x463671=!0x1,_0x2b8874=void 0x0;try{for(var _0x1df906,_0x3fc7cc=(0x0,_0x90b2ba[_0x10de('0x9')])(_0x35a397);!(_0xb1d874=(_0x1df906=_0x3fc7cc['next']())[_0x10de('0x32b')]);_0xb1d874=!0x0){var _0x4745bd=_0x1df906[_0x10de('0x10')];this[_0x149335][_0x10de('0x521')][_0x10de('0x368')][_0x10de('0xd2')](_0x4745bd);}}catch(_0x1a795b){_0x463671=!0x0,_0x2b8874=_0x1a795b;}finally{try{!_0xb1d874&&_0x3fc7cc['return']&&_0x3fc7cc[_0x10de('0xdf')]();}finally{if(_0x463671)throw _0x2b8874;}}},this['_getMaterial']=this[_0x149335][_0x10de('0x521')][_0x10de('0x33b')],this[_0x10de('0x34b')]=this[_0x149335][_0x10de('0x521')][_0x10de('0x34b')][_0x10de('0x8')](this[_0x149335]['_instance']),this['fadeOut']=function(_0xb1d874){this[_0x149335][_0x10de('0x521')][_0x10de('0x53c')](_0xb1d874);},this['isChangeLineColor']=function(_0xb1d874){this[_0x149335][_0x10de('0x521')][_0x10de('0x33b')][_0x10de('0x3aa')]=_0xb1d874;},this[_0x10de('0x53d')]=function(_0xb1d874){_0xb1d874=_0xb1d874||0x1,this[_0x149335][_0x10de('0x521')][_0x10de('0x53e')]||(this[_0x149335][_0x10de('0x521')][_0x10de('0x53e')]=this[_0x149335][_0x10de('0x521')][_0x10de('0x33b')]['lineWidth']),this[_0x149335][_0x10de('0x521')]['lineMaterial'][_0x10de('0x337')]=this[_0x149335]['_instance'][_0x10de('0x53e')]*_0xb1d874;},this[_0x10de('0xfc')]=function(_0xb1d874){_0xb1d874&&this[_0x149335][_0x10de('0x521')][_0x10de('0x33b')]['color'][_0x10de('0x331')](_0xb1d874);};break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x53f')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x514')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3['object3d'],(this['o3d_'][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]),this['playVideo']=function(){this[_0x149335][_0x10de('0x521')][_0x10de('0x540')]();},this[_0x10de('0x541')]=function(){this[_0x149335][_0x10de('0x521')]['playSound']();};break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x542')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')]['PlaneWindMarker']](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this[_0x10de('0x4d4')][_0x10de('0x3e')]=this)[_0x149335]['_instance']=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6[_0x10de('0x32c')]),this['rotateTo']=function(_0xb1d874){this[_0x10de('0x4d4')][_0x10de('0x1fd')]['y']=THREE['Math'][_0x10de('0x315')](_0xb1d874);};break;case _0x171bdd['ESMarkerType'][_0x10de('0x543')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x518')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3[_0x10de('0x368')],(this['o3d_'][_0x10de('0x3e')]=this)[_0x149335][_0x10de('0x521')]=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6['height']),this[_0x10de('0x544')]=function(_0xb1d874){this[_0x149335]['_instance']['material']['opacity']=_0xb1d874;};break;case _0x171bdd[_0x10de('0x27c')][_0x10de('0x545')]:_0x101ad3=_0x2acc0b[_0x171bdd[_0x10de('0x275')][_0x10de('0x2a5')]](_0x5b1fc6),this[_0x10de('0x4d4')]=_0x101ad3['object3d'],(this[_0x10de('0x4d4')]['datas_']=this)[_0x149335]['_instance']=_0x101ad3,this[_0x10de('0x51c')]({'x':_0x5b1fc6['x'],'y':_0x5b1fc6['y']},_0x5b1fc6['height']);}_0x5b1fc6[_0x10de('0x443')]&&(_0xb1d874=_0x5b1fc6['debugAxeSize']||0x1f4,_0xb1d874=new THREE[(_0x10de('0x444'))](_0xb1d874),this['o3d_'][_0x10de('0x1d5')](_0xb1d874));}},{'key':_0x10de('0x51c'),'value':function(_0xb1d874,_0x35a397){this[_0x10de('0x546')]={'x':_0xb1d874['x'],'y':_0xb1d874['y'],'z':_0x35a397};_0xb1d874=(0x0,_0xd80f42['coordTransToThree'])(_0xb1d874['x'],_0xb1d874['y']);this[_0x10de('0x4d4')][_0x10de('0x222')][_0x10de('0x1e')](_0xb1d874['x'],_0x35a397||0x0,_0xb1d874['y']);}},{'key':'setRotation','value':function(_0xb1d874){this[_0x10de('0x4d4')][_0x10de('0x1fd')][_0x10de('0x1e')](THREE[_0x10de('0x18')][_0x10de('0x315')](_0xb1d874['x']),THREE[_0x10de('0x18')]['degToRad'](_0xb1d874['y']),THREE[_0x10de('0x18')][_0x10de('0x315')](_0xb1d874['z']));}},{'key':_0x10de('0xce'),'value':function(){this[_0x10de('0x547')]=!0x1,this[_0x10de('0x548')](),_0x5b1fc6[_0x10de('0x9')][_0x10de('0x4a1')](this['o3d_']),this[_0x149335][_0x10de('0x521')]=null;}},{'key':_0x10de('0x51e'),'value':function(_0xb1d874){var _0x35a397=(0x0,_0xd80f42[_0x10de('0x3b')])();_0xb1d874[_0x10de('0x3e')]={'nodeType':'line'},_0x35a397['mapPicker']['addObject'](_0xb1d874);}},{'key':_0x10de('0x549'),'value':function(_0xb1d874){this[_0x10de('0x547')]=!0x0,this[_0x10de('0x312')]&&this['callback'](_0xb1d874);}},{'key':_0x10de('0x54a'),'value':function(){this[_0x10de('0x2d6')](_0x10de('0x476'),this[_0x10de('0x549')]);}},{'key':_0x10de('0x548'),'value':function(){this[_0x10de('0x54b')]('canUpdate',this[_0x10de('0x549')]);}},{'key':_0x10de('0x54c'),'value':function(_0xb1d874){this[_0x10de('0x4d4')]&&!this['isForceVisible']&&(Array[_0x10de('0x1be')](this['showLevel'])?this['o3d_']['visible']=_0xb1d874>=this[_0x10de('0x54d')][0x0]&&_0xb1d874<=this['showLevel'][0x1]:this[_0x10de('0x4d4')]['visible']=_0xb1d874>=this[_0x10de('0x54d')]);}},{'key':'_bindShowLevel','value':function(){var _0x35a397=this,_0xb1d874=(0x0,_0xd80f42[_0x10de('0x3b')])();_0xb1d874['on'](_0x10de('0x54e'),function(_0xb1d874){_0x35a397[_0x10de('0x54c')](_0xb1d874);}),this['_setShowLevel'](_0xb1d874[_0x10de('0x54f')]);}},{'key':_0x10de('0x550'),'value':function(_0xb1d874){var _0x35a397;this[_0x10de('0x547')]&&(this[_0x149335][_0x10de('0x521')][_0x10de('0x31d')]&&this[_0x149335][_0x10de('0x521')][_0x10de('0x31d')](_0xb1d874),this[_0x149335][_0x10de('0x521')][_0x10de('0x362')]&&((_0x35a397=this[_0x149335]['_instance'][_0x10de('0x40d')])&&(_0x35a397[_0x10de('0x59')]&&(_0x35a397[_0x10de('0x59')]=''),_0x35a397[_0x10de('0x5a')]&&(_0x35a397[_0x10de('0x5a')]='')),this[_0x149335][_0x10de('0x521')][_0x10de('0x362')](_0xb1d874)));}},{'key':_0x10de('0x364'),'set':function(_0xb1d874){this[_0x10de('0x4d4')][_0x10de('0x364')]=_0xb1d874;},'get':function(){return this[_0x10de('0x4d4')][_0x10de('0x364')];}},{'key':_0x10de('0x43e'),'set':function(_0xb1d874){this[_0x149335][_0x10de('0x521')][_0x10de('0x43e')]=_0xb1d874;}},{'key':_0x10de('0x54d'),'set':function(_0xb1d874){null!==_0xb1d874&&(this[_0x10de('0x551')][_0x10de('0x54d')]=_0xb1d874,this[_0x10de('0x54c')](esmap['ESMap']['instance'][_0x10de('0x54f')]));},'get':function(){return this[_0x10de('0x551')]['showLevel'];}}]),_0x391bad);function _0x391bad(_0xb1d874){var _0x35a397=0x1<arguments[_0x10de('0xe')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{},_0x463671=((0x0,_0x59ef39[_0x10de('0x9')])(this,_0x391bad),(0x0,_0x1ae5fb[_0x10de('0x9')])(this,(_0x391bad[_0x10de('0x6d')]||(0x0,_0x4745bd['default'])(_0x391bad))[_0x10de('0x0')](this))),_0x2b8874=(_0x463671[_0x10de('0x547')]=!0x1,_0x463671['_options']=_0x35a397,_0x463671['id']=_0x35a397['id']||'',_0x463671['name']=_0x35a397['name']||'',_0x463671['markerType']=_0xb1d874,_0x463671[_0x10de('0x4d3')]=0x1,_0x463671[_0x10de('0x54d')]=_0x35a397[_0x10de('0x54d')],_0x463671[_0x10de('0x4d4')]=null,_0x463671[_0x10de('0x546')]=null,_0x463671[_0x149335]={},(0x0,_0x40f470['default'])(_0xb1d874)),_0x1df906=!0x1,_0x3fc7cc=(0x0,_0xd80f42[_0x10de('0x3b')])();return _0x3fc7cc&&(_0x1df906=_0x3fc7cc['mapService'][_0x10de('0x53')]('sk')),!0x0===_0x2b8874||_0x1df906?(Object[_0x10de('0x2')](_0x463671[_0x149335],_0x10de('0x521'),{'value':null,'writable':!0x0,'enumerable':!0x1}),_0x463671[_0x10de('0x51b')](_0xb1d874,_0x35a397),_0x463671[_0x10de('0x54a')](),_0x35a397['showLevel']&&_0x463671[_0x10de('0x552')](_0x35a397[_0x10de('0x54d')]),_0x463671[_0x10de('0x312')]=_0x35a397[_0x10de('0x312')],_0x463671):(console[_0x10de('0xef')](_0x2b8874+_0x10de('0x553')),(0x0,_0x1ae5fb['default'])(_0x463671));}_0x35a397[_0x10de('0x9')]=_0x56b2a0;},function(_0x2b7282,_0x449bf9,_0x20d29f){'use strict';Object[_0x10de('0x2')](_0x449bf9,_0x10de('0x5'),{'value':!0x0});var _0x32b993=_0x22e065(_0x20d29f(0x5)),_0x284bc6=_0x22e065(_0x20d29f(0x1b)),_0x2d3398=_0x22e065(_0x20d29f(0x0)),_0x56417f=_0x22e065(_0x20d29f(0x1)),_0x536145=_0x22e065(_0x20d29f(0x1e)),_0x821006=_0x22e065(_0x20d29f(0x1f)),_0x1eb57c=_0x22e065(_0x20d29f(0x46));function _0x22e065(_0x2b7282){return _0x2b7282&&_0x2b7282[_0x10de('0x5')]?_0x2b7282:{'default':_0x2b7282};}function _0x206c3d(_0x2b7282){var _0x449bf9=_0x2b7282[_0x10de('0xcf')],_0x20d29f=_0x2b7282['id'],_0x56417f=_0x2b7282[_0x10de('0x46c')],_0x821006=_0x2b7282[_0x10de('0x554')],_0x821006=void 0x0!==_0x821006&&_0x821006,_0x252a3c=_0x2b7282[_0x10de('0x555')],_0x28a72f=_0x2b7282[_0x10de('0x556')],_0x4ecd4a=_0x2b7282[_0x10de('0x557')],_0x3d1d0e=_0x2b7282['emissiveTexPath'],_0x22e065=_0x2b7282[_0x10de('0x558')],_0x22e065=void 0x0===_0x22e065?0.1:_0x22e065,_0x5645d9=_0x2b7282['buildingColorStr'],_0x5645d9=void 0x0===_0x5645d9?_0x10de('0x44a'):_0x5645d9,_0x5acc5c=_0x2b7282[_0x10de('0x559')],_0x5acc5c=void 0x0===_0x5acc5c?_0x10de('0x44a'):_0x5acc5c,_0x32b993=_0x2b7282[_0x10de('0x55a')],_0x32b993=void 0x0===_0x32b993?null:_0x32b993,_0x153d7c=_0x2b7282[_0x10de('0x233')],_0x153d7c=void 0x0===_0x153d7c?0x1:_0x153d7c,_0x5419c6=_0x2b7282[_0x10de('0x55b')],_0x5419c6=void 0x0!==_0x5419c6&&_0x5419c6,_0xaf0741=_0x2b7282['isOpenScan'],_0xaf0741=void 0x0!==_0xaf0741&&_0xaf0741,_0x508a9d=_0x2b7282[_0x10de('0x55c')],_0x508a9d=void 0x0!==_0x508a9d&&_0x508a9d,_0x4e0263=_0x2b7282[_0x10de('0x55d')],_0x4e0263=void 0x0!==_0x4e0263&&_0x4e0263,_0x1eb57c=_0x2b7282['isShowHorizonScan'],_0x1eb57c=void 0x0!==_0x1eb57c&&_0x1eb57c,_0x4a1c81=_0x2b7282[_0x10de('0x55e')],_0x4a1c81=void 0x0!==_0x4a1c81&&_0x4a1c81,_0x51f3b2=_0x2b7282[_0x10de('0x55f')],_0x51f3b2=void 0x0!==_0x51f3b2&&_0x51f3b2,_0x5393ad=_0x2b7282[_0x10de('0x560')],_0x5393ad=void 0x0!==_0x5393ad&&_0x5393ad,_0x231530=_0x2b7282[_0x10de('0x561')],_0x231530=void 0x0===_0x231530?{'x':0x0,'y':0x0}:_0x231530,_0x124ee7=_0x2b7282[_0x10de('0x562')],_0x124ee7=void 0x0===_0x124ee7?'#fbfbfb':_0x124ee7,_0x48c0af=_0x2b7282[_0x10de('0x563')],_0x48c0af=void 0x0===_0x48c0af?0x1f4:_0x48c0af,_0x5450f9=_0x2b7282['hlDiffuse'],_0x5450f9=void 0x0===_0x5450f9?0x1:_0x5450f9,_0x297b8a=_0x2b7282[_0x10de('0x564')],_0x297b8a=void 0x0===_0x297b8a?[-0x2710,0x2710]:_0x297b8a,_0x5c9d7b=_0x2b7282[_0x10de('0x565')],_0x5c9d7b=void 0x0===_0x5c9d7b?0x1:_0x5c9d7b,_0x1b572c=_0x2b7282[_0x10de('0x566')],_0x1b572c=void 0x0===_0x1b572c?0x64:_0x1b572c,_0x1cb531=_0x2b7282[_0x10de('0x567')],_0x1cb531=void 0x0===_0x1cb531?_0x10de('0x365'):_0x1cb531,_0x13da5a=_0x2b7282['vlExtent'],_0x13da5a=void 0x0===_0x13da5a?[-0x64,0x64]:_0x13da5a,_0xca3832=_0x2b7282['vlSpeed'],_0xca3832=void 0x0===_0xca3832?0x1:_0xca3832,_0x3a87f9=_0x2b7282['vlIsTop'],_0x3a87f9=void 0x0===_0x3a87f9||_0x3a87f9,_0x4bbfa1=_0x2b7282[_0x10de('0x568')],_0x4bbfa1=void 0x0===_0x4bbfa1?_0x10de('0x365'):_0x4bbfa1,_0x48ef02=_0x2b7282[_0x10de('0x569')],_0x48ef02=void 0x0===_0x48ef02?0x3e8:_0x48ef02,_0x4b1cf7=_0x2b7282[_0x10de('0x56a')],_0x4b1cf7=void 0x0===_0x4b1cf7?0x3e8:_0x4b1cf7,_0x14d447=_0x2b7282[_0x10de('0x56b')],_0x14d447=void 0x0===_0x14d447?0x1:_0x14d447,_0x37e5c3=_0x2b7282['csCenterPos'],_0x37e5c3=void 0x0===_0x37e5c3?{'x':0x0,'y':0x0}:_0x37e5c3,_0x17d633=_0x2b7282['rdColorStr'],_0x17d633=void 0x0===_0x17d633?_0x10de('0x365'):_0x17d633,_0x441b62=_0x2b7282[_0x10de('0x56c')],_0x441b62=void 0x0===_0x441b62?0x3e8:_0x441b62,_0x4d6c0f=_0x2b7282['radarSpeed'],_0x4d6c0f=void 0x0===_0x4d6c0f?0x1:_0x4d6c0f,_0x52034e=_0x2b7282['radarCenterPos'],_0x52034e=void 0x0===_0x52034e?{'x':0x0,'y':0x0}:_0x52034e,_0x5d3569=_0x2b7282[_0x10de('0x56d')],_0x21677e=_0x2b7282[_0x10de('0x56e')],_0x21677e=void 0x0===_0x21677e?{'top':0x1,'side':0x1}:_0x21677e,_0x578b86=_0x2b7282[_0x10de('0x2eb')],_0x578b86=void 0x0===_0x578b86?{'x':0.08,'y':0.08}:_0x578b86,_0x230199=_0x2b7282[_0x10de('0x56f')],_0x230199=void 0x0===_0x230199?{'x':0.08,'y':0.08}:_0x230199,_0x11c2e9=_0x2b7282[_0x10de('0x570')],_0x11c2e9=void 0x0===_0x11c2e9?0x0:_0x11c2e9,_0x145bec=_0x2b7282[_0x10de('0x571')],_0x145bec=void 0x0===_0x145bec?null:_0x145bec,_0x2b7282=_0x2b7282[_0x10de('0x572')],_0x2b7282=void 0x0===_0x2b7282?null:_0x2b7282,_0x302fae=((0x0,_0x2d3398[_0x10de('0x9')])(this,_0x206c3d),(0x0,_0x536145[_0x10de('0x9')])(this,(_0x206c3d[_0x10de('0x6d')]||(0x0,_0x284bc6['default'])(_0x206c3d))['call'](this))),_0x56417f=(_0x302fae[_0x10de('0xcf')]=_0x449bf9,_0x302fae['view']=_0x56417f,_0x302fae['id']=_0x20d29f,_0x302fae[_0x10de('0x573')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x5645d9),_0x302fae[_0x10de('0x574')]=new THREE['Color']()[_0x10de('0x331')](_0x5acc5c),_0x302fae[_0x10de('0xdc')]=null,_0x302fae['topTexture']=null,_0x302fae['gradientTexture']=null,_0x302fae[_0x10de('0x575')]=null,_0x302fae[_0x10de('0x576')]=null,_0x302fae[_0x10de('0x577')]=null,_0x302fae[_0x10de('0x578')]=null,_0x302fae[_0x10de('0x40')]=null,_0x302fae[_0x10de('0x579')]=null,_0x302fae['opacity']=_0x153d7c,_0x302fae[_0x10de('0x57a')]=new THREE['Vector4'](0x1,0x1,0x1,_0x22e065),_0x32b993&&(_0x449bf9=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x32b993),_0x302fae[_0x10de('0x57a')]['x']=_0x449bf9['r'],_0x302fae[_0x10de('0x57a')]['y']=_0x449bf9['g'],_0x302fae[_0x10de('0x57a')]['z']=_0x449bf9['b']),_0x302fae['shaderMesh']=null,_0x302fae[_0x10de('0x40d')]=null,_0x302fae[_0x10de('0x114')]=0x0,_0x302fae['hlTime']=_0x297b8a[0x0],_0x302fae[_0x10de('0x57b')]=0x0,_0x302fae[_0x10de('0x57c')]=0x0,_0x302fae['rdTime']=0x0,_0x302fae[_0x10de('0x55b')]=_0x5419c6,_0x302fae['isOpenScan']=_0xaf0741?0x1:0x0,_0x302fae[_0x10de('0x57d')]=_0x1eb57c,_0x302fae['isShowVerticalScan']=_0x4a1c81,_0x302fae['isShowCenterSpread']=_0x51f3b2,_0x302fae[_0x10de('0x560')]=_0x5393ad,_0x302fae[_0x10de('0x561')]=_0x231530,_0x302fae[_0x10de('0x55c')]=_0x508a9d?0x1:0x0,_0x302fae[_0x10de('0x57e')]=!0x1,_0x302fae[_0x10de('0x564')]=_0x297b8a,_0x302fae[_0x10de('0x563')]=_0x48c0af,_0x302fae[_0x10de('0x57f')]=_0x5450f9,_0x302fae[_0x10de('0x580')]=new THREE[(_0x10de('0x1cc'))]()['setStyle'](_0x124ee7),_0x302fae[_0x10de('0x565')]=_0x5c9d7b,_0x302fae[_0x10de('0x581')]=_0x13da5a,_0x302fae[_0x10de('0x582')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x1cb531),_0x302fae[_0x10de('0x566')]=_0x1b572c,_0x302fae[_0x10de('0x583')]=_0xca3832,_0x302fae['vlIsTop']=_0x3a87f9,_0x302fae[_0x10de('0x584')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x4bbfa1),_0x302fae['spreadValue']=_0x48ef02,_0x302fae[_0x10de('0x56a')]=_0x4b1cf7,_0x302fae[_0x10de('0x56b')]=_0x14d447,_0x302fae['csCenterPos']=_0x37e5c3,_0x302fae[_0x10de('0x585')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x17d633),_0x302fae[_0x10de('0x56c')]=_0x441b62,_0x302fae[_0x10de('0x586')]=_0x4d6c0f,_0x302fae[_0x10de('0x56d')]=_0x5d3569,_0x302fae[_0x10de('0x587')]=_0x52034e,_0x302fae[_0x10de('0x55d')]=_0x4e0263,_0x302fae['textureRepeat']=new THREE[(_0x10de('0x1cb'))](_0x230199['x'],_0x230199['y'],_0x578b86['x'],_0x578b86['y']),_0x302fae['textureRotate']=new THREE['Vector2'](THREE[_0x10de('0x18')][_0x10de('0x315')](_0x11c2e9),0x0),_0x302fae[_0x10de('0x56e')]=new THREE[(_0x10de('0x1c8'))](_0x21677e[_0x10de('0x588')],_0x21677e[_0x10de('0x3bb')]),_0x302fae[_0x10de('0x589')]=!0x1,_0x302fae['extentRadius']=0x1f4,_0x302fae[_0x10de('0x58a')]={'x':0x0,'y':0x0},null),_0x20d29f=(_0x145bec&&(_0x302fae[_0x10de('0x589')]=!0x0,_0x302fae[_0x10de('0x41d')]=_0x145bec[_0x10de('0x230')],_0x302fae[_0x10de('0x58a')]=_0x145bec[_0x10de('0x23f')],_0x56417f=_0x145bec[_0x10de('0x58b')]),_0x302fae[_0x10de('0x58c')]=!0x1,null);return _0x2b7282&&(_0x302fae['isUseScreenSky']=!0x0,_0x20d29f=_0x2b7282['skyImg']),_0x302fae[_0x10de('0x3d')]=null,_0x302fae[_0x10de('0x58d')]=null,_0x302fae[_0x10de('0x554')]=_0x821006,_0x302fae['themeImgMapping']=null,_0x302fae[_0x10de('0x58e')]=null,_0x302fae[_0x10de('0x58f')]=0x1,_0x302fae[_0x10de('0x590')]=0x1,_0x302fae['textureLoader']=new THREE[(_0x10de('0xd9'))](),_0x302fae[_0x10de('0x591')]=0x0,_0x302fae[_0x10de('0x32e')]({'sideTexPath':_0x252a3c,'topTexPath':_0x28a72f,'gradientTexPath':_0x4ecd4a,'extentGradientTexPath':_0x56417f,'emissiveTexPath':_0x3d1d0e,'screenSkyTexPath':_0x20d29f}),_0x302fae;}_0x20d29f=_0x20d29f(0x2a)[_0x10de('0x82')],(0x0,_0x821006['default'])(_0x206c3d,_0x20d29f),(0x0,_0x56417f[_0x10de('0x9')])(_0x206c3d,[{'key':_0x10de('0x592'),'value':function(_0x2b7282){var _0x449bf9=_0x2b7282[_0x10de('0x3e')][_0x10de('0x593')][_0x10de('0xe')];if(0x0<_0x449bf9)for(var _0x20d29f=0x0;_0x20d29f<_0x449bf9;_0x20d29f++)if(void 0x0!==_0x2b7282[_0x10de('0x3e')][_0x10de('0x593')][_0x20d29f][_0x10de('0x3f')]&&this[_0x10de('0x554')]){var _0x56417f=this[_0x10de('0x3d')][_0x2b7282[_0x10de('0x3e')][_0x10de('0x593')][_0x20d29f][_0x10de('0x3f')]];if(this[_0x10de('0x40')][_0x10de('0x1e4')]=!0x0,void 0x0===_0x56417f||!_0x56417f[_0x10de('0x594')]||0x1!=+_0x56417f['filltype']||!_0x56417f['color'])if(void 0x0!==_0x56417f&&_0x56417f[_0x10de('0x594')]&&0x2==+_0x56417f[_0x10de('0x594')]&&(_0x56417f[_0x10de('0x595')]||_0x56417f[_0x10de('0x596')])&&this[_0x10de('0x40d')]){if(_0x56417f[_0x10de('0x595')])for(var _0x821006 in this[_0x10de('0x597')][this['id']][_0x10de('0x598')]){var _0x22e065=_0x821006-0x1,_0x821006=this['themeImgMapping'][this['id']][_0x10de('0x598')][_0x821006];if(!this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x599')][_0x10de('0x10')][_0x22e065]){this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x599')][_0x10de('0x10')][_0x22e065]=this['themeTextureList'][_0x821006]['texture'],0x2!=_0x56417f['topTextureType']?(this[_0x10de('0x40d')][_0x10de('0x1b4')]['topTexArr'][_0x10de('0x10')][_0x22e065]['wrapS']=THREE[_0x10de('0x36c')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x599')][_0x10de('0x10')][_0x22e065][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x59a')][_0x10de('0x10')][_0x22e065]=THREE['RepeatWrapping'],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x59b')][_0x10de('0x10')]['x']=this[_0x10de('0x590')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x59b')][_0x10de('0x10')]['y']=this['buildingBaseRepeat'],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x59c')][_0x10de('0x10')][_0x22e065]=Math['floor'](+_0x56417f['topimagerepeat']/0x1f4*0x3e8)/0x3e8):this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x59a')]['value'][_0x22e065]=THREE['ClampToEdgeWrapping'],this['shader'][_0x10de('0x1b4')][_0x10de('0x599')][_0x10de('0x10')][_0x22e065]['name']=_0x821006;break;}}if(_0x56417f[_0x10de('0x596')])for(var _0x439439 in this['themeImgMapping'][this['id']][_0x10de('0x59d')]){var _0x217c60=_0x439439-0x1,_0x439439=this[_0x10de('0x597')][this['id']][_0x10de('0x59d')][_0x439439];if(!this['shader'][_0x10de('0x1b4')][_0x10de('0x59e')]['value'][_0x217c60]){this[_0x10de('0x40d')]['uniforms'][_0x10de('0x59e')][_0x10de('0x10')][_0x217c60]=this[_0x10de('0x58e')][_0x439439][_0x10de('0xdc')],this[_0x10de('0x40d')][_0x10de('0x1b4')]['sideTexArr'][_0x10de('0x10')][_0x217c60][_0x10de('0x4e9')]=0x10,0x2!=_0x56417f['sideTextureType']?(this[_0x10de('0x40d')]['uniforms'][_0x10de('0x59e')]['value'][_0x217c60]['wrapS']=THREE['RepeatWrapping'],this['shader'][_0x10de('0x1b4')][_0x10de('0x59e')][_0x10de('0x10')][_0x217c60][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],this['shader'][_0x10de('0x1b4')][_0x10de('0x59f')][_0x10de('0x10')][_0x217c60]=THREE[_0x10de('0x36c')],this[_0x10de('0x40d')]['uniforms'][_0x10de('0x59b')][_0x10de('0x10')]['z']=this[_0x10de('0x590')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x59b')][_0x10de('0x10')]['w']=this[_0x10de('0x590')],this['shader'][_0x10de('0x1b4')]['sideTexRepeatArr'][_0x10de('0x10')][_0x217c60]=Math['floor'](+_0x56417f[_0x10de('0x5a0')]/0x1f4*0x3e8)/0x3e8):this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x59f')][_0x10de('0x10')][_0x217c60]=THREE[_0x10de('0x5a1')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x59e')]['value'][_0x217c60][_0x10de('0x8c')]=_0x439439;break;}}}else _0x2b7282['datas_'][_0x10de('0x593')][_0x20d29f][_0x10de('0x3f')];}}},{'key':_0x10de('0x5a2'),'value':function(_0x2b7282){var _0x449bf9=!0x0,_0x20d29f=!0x1,_0x56417f=void 0x0;try{for(var _0x821006,_0x22e065=(0x0,_0x32b993[_0x10de('0x9')])(this['themeList']);!(_0x449bf9=(_0x821006=_0x22e065['next']())['done']);_0x449bf9=!0x0){var _0x216389=_0x821006[_0x10de('0x10')];if(_0x216389['typeid']==_0x2b7282)return _0x216389;}}catch(_0x5a9940){_0x20d29f=!0x0,_0x56417f=_0x5a9940;}finally{try{!_0x449bf9&&_0x22e065[_0x10de('0xdf')]&&_0x22e065['return']();}finally{if(_0x20d29f)throw _0x56417f;}}console['error'](_0x10de('0x5a3'),_0x2b7282);}},{'key':_0x10de('0x5a4'),'value':function(_0x2b7282,_0x449bf9){var _0x20d29f=!0x0,_0x56417f=!0x1,_0x821006=void 0x0;try{for(var _0x22e065,_0x382ce4=(0x0,_0x32b993[_0x10de('0x9')])(this[_0x10de('0x58d')]);!(_0x20d29f=(_0x22e065=_0x382ce4[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x20d29f=!0x0){var _0x8ef0d9=_0x22e065[_0x10de('0x10')];if(_0x8ef0d9['range'][0x0]<=_0x449bf9&&_0x8ef0d9[_0x10de('0x5a5')][0x1]>_0x449bf9)return void _0x2b7282['setStyle'](_0x8ef0d9[_0x10de('0x232')]);}}catch(_0x2a3d3a){_0x56417f=!0x0,_0x821006=_0x2a3d3a;}finally{try{!_0x20d29f&&_0x382ce4[_0x10de('0xdf')]&&_0x382ce4[_0x10de('0xdf')]();}finally{if(_0x56417f)throw _0x821006;}}}},{'key':_0x10de('0x5a6'),'value':function(_0x2b7282,_0x449bf9){return Math['abs'](Math['sqrt'](Math[_0x10de('0x345')](_0x2b7282['x']-_0x449bf9['x'],0x2)+Math[_0x10de('0x345')](_0x2b7282['y']-_0x449bf9['y'],0x2)));}},{'key':_0x10de('0x5a7'),'value':function(_0x2b7282,_0x449bf9,_0x20d29f){var _0x56417f={'x':_0x2b7282[0x9*_0x20d29f],'y':_0x2b7282[0x9*_0x20d29f+0x1]},_0x821006={'x':_0x2b7282[0x9*_0x20d29f+0x3],'y':_0x2b7282[0x9*_0x20d29f+0x4]},_0x2b7282={'x':_0x2b7282[0x9*_0x20d29f+0x6],'y':_0x2b7282[0x9*_0x20d29f+0x7]};return _0x449bf9[0x9*_0x20d29f+0x2]==_0x449bf9[0x9*_0x20d29f+0x5]?this['getDis'](_0x56417f,_0x821006):_0x449bf9[0x9*_0x20d29f+0x2]==_0x449bf9[0x9*_0x20d29f+0x8]?this['getDis'](_0x56417f,_0x2b7282):_0x449bf9[0x9*_0x20d29f+0x5]==_0x449bf9[0x9*_0x20d29f+0x8]?this[_0x10de('0x5a6')](_0x821006,_0x2b7282):void 0x0;}},{'key':_0x10de('0x32e'),'value':function(_0x2b7282){var _0x449bf9=_0x2b7282[_0x10de('0x5a8')],_0x20d29f=_0x2b7282['topTexPath'],_0x56417f=_0x2b7282['gradientTexPath'],_0x821006=_0x2b7282[_0x10de('0x5a9')],_0x22e065=_0x2b7282[_0x10de('0x5aa')],_0x2b7282=_0x2b7282[_0x10de('0x5ab')],_0x2ebe22=this,_0x4116ab=(new _0x1eb57c[(_0x10de('0x9'))](),this[_0x10de('0x40')]=new THREE[(_0x10de('0x5ac'))]({'color':this[_0x10de('0x573')]}),_0x449bf9&&!this['isTileBuilding']&&(_0x2ebe22[_0x10de('0xdc')]=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x449bf9),_0x2ebe22[_0x10de('0xdc')][_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x2ebe22[_0x10de('0xdc')][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x2ebe22['texture'][_0x10de('0x4e9')]=_0x2ebe22['view']['renderer'][_0x10de('0x4eb')]['getMaxAnisotropy']()),_0x20d29f&&!this[_0x10de('0x554')]&&(_0x2ebe22[_0x10de('0x5ad')]=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x20d29f),_0x2ebe22[_0x10de('0x5ad')][_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x2ebe22['topTexture'][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x2ebe22[_0x10de('0x5ad')][_0x10de('0x4e9')]=_0x2ebe22['view']['renderer'][_0x10de('0x4eb')][_0x10de('0x4f8')]()),_0x56417f&&(_0x2ebe22['gradientTexture']=new THREE['TextureLoader']()[_0x10de('0xdb')](_0x56417f)),_0x821006&&(_0x2ebe22[_0x10de('0x575')]=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x821006)),_0x2ebe22['radarTexPath']&&(_0x2ebe22['radarScanTexture']=new THREE['TextureLoader']()['load'](_0x2ebe22[_0x10de('0x56d')])),_0x22e065&&(_0x2ebe22[_0x10de('0x578')]=new THREE['TextureLoader']()['load'](_0x22e065),_0x2ebe22['emissiveTexture'][_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x2ebe22[_0x10de('0x578')]['wrapT']=THREE['RepeatWrapping'],_0x2ebe22[_0x10de('0x578')][_0x10de('0x4e9')]=_0x2ebe22[_0x10de('0x2fb')][_0x10de('0x4ea')][_0x10de('0x4eb')][_0x10de('0x4f8')]()),_0x2b7282&&(_0x2ebe22[_0x10de('0x576')]=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x22e065)),this[_0x10de('0x55b')]&&(this['material']['blending']=THREE[_0x10de('0x1e3')]),this[_0x10de('0x233')]<0x1&&(this['material']['transparent']=!0x0,this[_0x10de('0x40')][_0x10de('0x233')]=this[_0x10de('0x233')]),null),_0x32b993=null,_0x31dd1d=null,_0x225bf9=null,_0x8b9003=null,_0x5f543f=null,_0x1ddc2d=(this['isTileBuilding']&&(_0x31dd1d=new THREE[(_0x10de('0x5ae'))](new Array(0x4)[_0x10de('0x4e0')](THREE[_0x10de('0x36c')])),_0x4116ab=new THREE[(_0x10de('0x5ae'))](new Array(0x4)[_0x10de('0x4e0')](null)),_0x225bf9=new THREE[(_0x10de('0x5ae'))](new Array(0x4)[_0x10de('0x4e0')](THREE[_0x10de('0x36c')])),_0x32b993=new THREE[(_0x10de('0x5ae'))](new Array(0x4)['fill'](null)),_0x8b9003=new THREE['Uniform'](new Array(0x4)[_0x10de('0x4e0')](0x1)),_0x5f543f=new THREE[(_0x10de('0x5ae'))](new Array(0x4)[_0x10de('0x4e0')](0x1))),new THREE[(_0x10de('0x1cc'))](this[_0x10de('0xcf')]['mapTheme'][_0x10de('0x5af')]));this['material'][_0x10de('0x40f')]=function(_0x2b7282){_0x2b7282[_0x10de('0x1b4')]['isOpenScan']={'type':'i','value':_0x2ebe22[_0x10de('0x5b0')]},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x410')]={'value':_0x2ebe22['count']},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5b1')]={'value':!0x1},_0x2b7282['uniforms'][_0x10de('0x574')]={'value':_0x2ebe22['highLightColor']},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5b2')]={'value':_0x1ddc2d},_0x449bf9&&(_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5b3')]={'value':_0x2ebe22[_0x10de('0xdc')]},_0x2b7282['uniforms']['buildingTexRepeat']={'value':_0x2ebe22['textureRepeat']},_0x2b7282[_0x10de('0x1b4')]['buildingTexRotate']={'value':_0x2ebe22[_0x10de('0x5b4')]},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5b5')]={'value':_0x2ebe22[_0x10de('0x5ad')]},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5b6')]={'value':_0x2ebe22[_0x10de('0x5b7')]},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5b8')]={'value':_0x2ebe22[_0x10de('0x56e')]}),_0x22e065&&(_0x2b7282[_0x10de('0x1b4')]['emissiveTex']={'value':_0x2ebe22[_0x10de('0x578')]},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x57a')]={'value':_0x2ebe22['emissiveFactor']}),_0x2ebe22[_0x10de('0x5b0')]&&(_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5b9')]={'value':!0x0},_0x2b7282[_0x10de('0x1b4')]['centerPos']={'value':new THREE[(_0x10de('0x1c8'))](_0x2ebe22[_0x10de('0x561')]['x'],_0x2ebe22[_0x10de('0x561')]['y'])},_0x2ebe22[_0x10de('0x57d')]&&(_0x2b7282['uniforms'][_0x10de('0x580')]={'value':_0x2ebe22[_0x10de('0x580')]},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x57f')]={'value':_0x2ebe22['hlDiffuse']},_0x2b7282['uniforms'][_0x10de('0x563')]={'value':_0x2ebe22[_0x10de('0x563')]},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5ba')]={'value':_0x2ebe22[_0x10de('0x5ba')]}),_0x2ebe22[_0x10de('0x55e')]&&(_0x2b7282[_0x10de('0x1b4')]['vlColor']={'value':_0x2ebe22[_0x10de('0x582')]},_0x2b7282['uniforms'][_0x10de('0x566')]={'value':_0x2ebe22['vlHeight']},_0x2b7282[_0x10de('0x1b4')]['vlTime']={'value':_0x2ebe22[_0x10de('0x57b')]}),_0x2ebe22['isShowCenterSpread']&&(_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5bb')]={'value':new THREE[(_0x10de('0x1c8'))](_0x2ebe22[_0x10de('0x5bb')]['x'],_0x2ebe22['csCenterPos']['y'])},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x569')]={'value':_0x2ebe22[_0x10de('0x569')]},_0x2b7282[_0x10de('0x1b4')]['csColor']={'value':_0x2ebe22['csColor']},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x57c')]={'value':_0x2ebe22[_0x10de('0x57c')]}),_0x2ebe22[_0x10de('0x560')]&&(_0x2b7282['uniforms'][_0x10de('0x5bc')]={'value':new THREE['Vector2'](_0x2ebe22[_0x10de('0x587')]['x'],_0x2ebe22['radarCenterPos']['y'])},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5bd')]={'value':_0x2ebe22['radarRadius']},_0x2b7282[_0x10de('0x1b4')]['rdColor']={'value':_0x2ebe22[_0x10de('0x585')]},_0x2b7282[_0x10de('0x1b4')]['rdTime']={'value':_0x2ebe22[_0x10de('0x5be')]},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5bf')]={'value':_0x2ebe22[_0x10de('0x577')]})),_0x2ebe22[_0x10de('0x589')]&&(_0x2b7282[_0x10de('0x1b4')][_0x10de('0x41d')]={'value':_0x2ebe22['extentRadius']},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x58a')]={'value':new THREE[(_0x10de('0x1c8'))](_0x2ebe22[_0x10de('0x58a')]['x'],_0x2ebe22[_0x10de('0x58a')]['y'])},_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5c0')]={'value':_0x2ebe22[_0x10de('0x575')]}),_0x2ebe22[_0x10de('0x58c')]&&(_0x2b7282[_0x10de('0x1b4')][_0x10de('0x48a')]={'value':_0x2ebe22[_0x10de('0x576')]}),_0x2ebe22[_0x10de('0x554')]&&(_0x2b7282[_0x10de('0x1b4')]['topTexArr']=_0x4116ab,_0x2b7282[_0x10de('0x1b4')]['sideTexArr']=_0x32b993,_0x2b7282[_0x10de('0x1b4')][_0x10de('0x59a')]=_0x31dd1d,_0x2b7282['uniforms'][_0x10de('0x59f')]=_0x225bf9,_0x2b7282[_0x10de('0x1b4')]['topTexRepeatArr']=_0x8b9003,_0x2b7282[_0x10de('0x1b4')][_0x10de('0x5c1')]=_0x5f543f,_0x2b7282['uniforms'][_0x10de('0x5c2')]={'value':_0x2ebe22['id']}),_0x2b7282[_0x10de('0x59')]=_0x2b7282['vertexShader'][_0x10de('0x57')](_0x10de('0x412'),_0x10de('0x5c3')+(_0x449bf9?_0x10de('0x5c4'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ebe22[_0x10de('0x5b0')]?_0x10de('0x5c5'):'')+_0x10de('0x5c6')+(_0x2ebe22['isTileBuilding']?_0x10de('0x5c7'):'')+_0x10de('0x5c6')+(_0x2ebe22[_0x10de('0x58c')]?_0x10de('0x5c8'):'')+_0x10de('0x5c9')),_0x2b7282['vertexShader']=_0x2b7282[_0x10de('0x59')]['replace'](_0x10de('0x414'),_0x10de('0x5ca')),_0x2b7282[_0x10de('0x59')]=_0x2b7282[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x48f'),_0x10de('0x5cb')),_0x2b7282['fragmentShader']=_0x2b7282[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x5c6')+(_0x449bf9?_0x10de('0x5c4'):'')+_0x10de('0x5c6')+(_0x56417f?_0x10de('0x5cc'):'')+_0x10de('0x5c6')+(_0x22e065?_0x10de('0x5cd'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ebe22[_0x10de('0x5b0')]?_0x10de('0x5c5'):'')+_0x10de('0x5c6')+(_0x2ebe22[_0x10de('0x55d')]?_0x10de('0x5ce'):'')+_0x10de('0x5c6')+(_0x2ebe22[_0x10de('0x57d')]?_0x10de('0x5cf'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ebe22['isShowVerticalScan']?'#define\x20VERTICAL_LINE':'')+_0x10de('0x5c6')+(_0x2ebe22[_0x10de('0x55f')]?'#define\x20CENTER_SPREAD':'')+_0x10de('0x5c6')+(_0x2ebe22['isShowRadarScan']?_0x10de('0x5d0'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ebe22[_0x10de('0x589')]?'#define\x20EXTENT_EFFECT':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ebe22['isUseScreenSky']?_0x10de('0x5c8'):'')+_0x10de('0x5c6')+(_0x2ebe22[_0x10de('0x554')]?_0x10de('0x5c7'):'')+_0x10de('0x5d1')),_0x2b7282[_0x10de('0x5a')]=_0x2b7282['fragmentShader'][_0x10de('0x57')](_0x10de('0x5d2'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GeometricContext\x20geometry;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.position\x20=\x20-\x20vViewPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.normal\x20=\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20IncidentLight\x20directLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PointLight\x20pointLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getPointDirectLightIrradiance(\x20pointLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20pointLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SpotLight\x20spotLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getSpotDirectLightIrradiance(\x20spotLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20spotLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isNeedDirectShadow\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DirectionalLight\x20directionalLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getDirectionalDirectLightIrradiance(\x20directionalLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20all(\x20bvec2(\x20directionalLight.shadow,\x20directLight.visible\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20vSelectedFlag\x20<=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20isNeedDirectShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RectAreaLight\x20rectAreaLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct_RectArea(\x20rectAreaLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20clearCoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2b7282[_0x10de('0x5a')]=_0x2b7282[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x5d3'),_0x10de('0x5d4')),_0x2b7282['fragmentShader']=_0x2b7282[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x5d5')),_0x2ebe22['shader']=_0x2b7282,_0x2ebe22[_0x10de('0x2ef')]({'type':_0x10de('0x5d6')});};}},{'key':_0x10de('0x5d7'),'value':function(_0x2b7282){_0x2b7282[_0x10de('0x232')],this[_0x10de('0x40d')];}},{'key':_0x10de('0x5d8'),'value':function(){return this[_0x10de('0x40')];}},{'key':_0x10de('0x5d9'),'value':function(){return this[_0x10de('0x579')];}},{'key':_0x10de('0x5da'),'value':function(_0x2b7282,_0x449bf9){var _0x20d29f=this;new TWEEN[(_0x10de('0x316'))]({'intensity':_0x2b7282})['to']({'intensity':_0x449bf9},0x7d0)['easing'](TWEEN[_0x10de('0x317')][_0x10de('0x318')]['Out'])[_0x10de('0x31c')](function(_0x2b7282){_0x20d29f[_0x10de('0x58f')]=_0x2b7282[_0x10de('0x479')],_0x20d29f[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x45b')](0x0,0x0,_0x2b7282[_0x10de('0x479')]);})[_0x10de('0x31b')]();}},{'key':_0x10de('0x5db'),'value':function(_0x2b7282,_0x449bf9){var _0x20d29f=this;new TWEEN[(_0x10de('0x316'))]({'radius':_0x2b7282})['to']({'radius':_0x449bf9},0x7d0)[_0x10de('0x361')](TWEEN[_0x10de('0x317')]['Quadratic'][_0x10de('0x319')])[_0x10de('0x31c')](function(_0x2b7282){_0x20d29f[_0x10de('0x41d')]=_0x2b7282[_0x10de('0x230')],_0x20d29f['shader']['uniforms']['extentRadius'][_0x10de('0x10')]=_0x2b7282[_0x10de('0x230')];})[_0x10de('0x31b')]();}},{'key':_0x10de('0xce'),'value':function(){this['material']&&this[_0x10de('0x40')][_0x10de('0xce')](),this[_0x10de('0xdc')]?this[_0x10de('0xdc')][_0x10de('0xce')]():this['texture']=null,this[_0x10de('0x5ad')]?this['topTexture'][_0x10de('0xce')]():this[_0x10de('0x5ad')]=null,this[_0x10de('0x5b7')]?this[_0x10de('0x5b7')]['dispose']():this['gradientTexture']=null,this[_0x10de('0x40d')],this[_0x10de('0x40d')]=null,this['shaderMesh']&&(this[_0x10de('0x40c')]['material'][0x0]=null),this['shaderMesh']=null;}},{'key':_0x10de('0x362'),'value':function(_0x2b7282){this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]+=_0x2b7282,this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')],this[_0x10de('0x57d')]&&(this[_0x10de('0x5ba')]>this[_0x10de('0x564')][0x1]&&(this[_0x10de('0x5ba')]=this[_0x10de('0x564')][0x0]),this['hlTime']+=_0x2b7282*this[_0x10de('0x565')],this[_0x10de('0x40d')][_0x10de('0x1b4')]['hlTime'][_0x10de('0x10')]=-this[_0x10de('0x5ba')]),this[_0x10de('0x55e')]&&(this['vlTime']>this[_0x10de('0x581')][0x0]&&(this[_0x10de('0x57b')]=this['vlExtent'][0x1]),this[_0x10de('0x57b')]+=_0x2b7282*this['vlSpeed'],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x57b')][_0x10de('0x10')]=-this[_0x10de('0x57b')]),this['isShowCenterSpread']&&(this[_0x10de('0x57c')]+=_0x2b7282*this['csSpeed'],this['csTime']>this[_0x10de('0x56a')]&&(this[_0x10de('0x57c')]=0x0),this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x57c')][_0x10de('0x10')]=this[_0x10de('0x57c')]),this[_0x10de('0x560')]&&(this[_0x10de('0x5be')]+=_0x2b7282*this['radarSpeed'],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x5be')]['value']=this[_0x10de('0x5be')]));}}]),_0x449bf9[_0x10de('0x9')]=_0x206c3d;},function(_0x567efa,_0x221090,_0x3f74ce){'use strict';Object[_0x10de('0x2')](_0x221090,_0x10de('0x5'),{'value':!0x0});var _0x140eb3=_0x3aabc7(_0x3f74ce(0x0));function _0x3aabc7(_0x567efa){return _0x567efa&&_0x567efa[_0x10de('0x5')]?_0x567efa:{'default':_0x567efa};}function _0x4279f9(_0x567efa){var _0x221090=_0x567efa[_0x10de('0x5dc')],_0x3f74ce=_0x567efa[_0x10de('0x5dd')],_0x3aabc7=_0x567efa['isShowWaterRipple'],_0x567efa=_0x567efa['isShowTextureRepeat'];(0x0,_0x140eb3[_0x10de('0x9')])(this,_0x4279f9),this['isShowWaterRipple']=_0x3aabc7,this[_0x10de('0x5de')]=_0x567efa,this[_0x10de('0x5df')]=null,_0x567efa&&(this['repeatTexture']=new THREE['TextureLoader']()[_0x10de('0xdb')](_0x221090),this[_0x10de('0x5df')]['wrapT']=THREE['RepeatWrapping'],this[_0x10de('0x5df')][_0x10de('0x49d')]=THREE[_0x10de('0x36c')],this[_0x10de('0x5e0')]=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x3f74ce),this['noiseTexture'][_0x10de('0x49d')]=THREE['RepeatWrapping'],this[_0x10de('0x5e0')][_0x10de('0x41e')]=THREE[_0x10de('0x36c')]),this[_0x10de('0x363')]=0x1,this[_0x10de('0x114')]=0x0,this[_0x10de('0x40d')]=null;}(0x0,_0x3aabc7(_0x3f74ce(0x1))[_0x10de('0x9')])(_0x4279f9,[{'key':_0x10de('0x32e'),'value':function(_0x567efa){var _0x221090=_0x567efa[_0x10de('0x5e1')],_0x3f74ce=_0x567efa[_0x10de('0x5e2')],_0x3aabc7=_0x567efa[_0x10de('0x5e3')],_0x140eb3=this,_0x567efa=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0});return _0x567efa[_0x10de('0x40f')]=function(_0x567efa){_0x567efa[_0x10de('0x1b4')][_0x10de('0x5e4')]={'value':0x0},_0x567efa[_0x10de('0x1b4')]['texLightFactor']={'value':0.8},_0x567efa[_0x10de('0x1b4')][_0x10de('0x411')]={'value':_0x221090},_0x567efa[_0x10de('0x1b4')]['texture2']={'value':_0x3f74ce},_0x567efa[_0x10de('0x1b4')]['bgColor']={'value':_0x140eb3[_0x10de('0x5e5')]},_0x567efa['uniforms'][_0x10de('0x5e3')]={'value':new THREE[(_0x10de('0x1c8'))](_0x3aabc7['x'],_0x3aabc7['y'])},_0x567efa[_0x10de('0x1b4')]['iTime']={'value':0x0},_0x140eb3[_0x10de('0x5de')]&&(_0x567efa[_0x10de('0x1b4')]['noiseTex']={'value':_0x140eb3[_0x10de('0x5e0')]},_0x567efa['uniforms'][_0x10de('0x5e6')]={'value':_0x140eb3[_0x10de('0x5df')]}),_0x567efa['vertexShader']=_0x567efa['vertexShader'][_0x10de('0x57')](_0x10de('0x412'),_0x10de('0x5e7')),_0x567efa['vertexShader']=_0x567efa['vertexShader'][_0x10de('0x57')](_0x10de('0x414'),'\x0a\x09\x09\x09\x09#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x09\x09\x09\x09'),_0x567efa[_0x10de('0x5a')]=_0x567efa[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x140eb3[_0x10de('0x5e8')]?_0x10de('0x5e9'):'')+_0x10de('0x5c6')+(_0x140eb3['isShowTextureRepeat']?_0x10de('0x5ea'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x140eb3[_0x10de('0x5eb')]?_0x10de('0x5ec'):'')+_0x10de('0x5ed')),_0x567efa[_0x10de('0x5a')]=_0x567efa[_0x10de('0x5a')][_0x10de('0x57')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x10de('0x5ee')),_0x140eb3[_0x10de('0x40d')]=_0x567efa;},_0x567efa;}},{'key':_0x10de('0x362'),'value':function(_0x567efa){this[_0x10de('0x40d')]&&(this['count']+=_0x567efa*this[_0x10de('0x363')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')]);}}]),_0x221090[_0x10de('0x9')]=_0x4279f9;},function(_0x1ba403,_0x8e8387,_0xc9f5b1){'use strict';Object[_0x10de('0x2')](_0x8e8387,_0x10de('0x5'),{'value':!0x0});var _0x46e17d=_0x50af1e(_0xc9f5b1(0x0));function _0x50af1e(_0x1ba403){return _0x1ba403&&_0x1ba403[_0x10de('0x5')]?_0x1ba403:{'default':_0x1ba403};}function _0x59a1d5(_0x1ba403){var _0x8e8387=_0x1ba403[_0x10de('0x32f')],_0x8e8387=void 0x0===_0x8e8387?'#ffc033':_0x8e8387,_0xc9f5b1=_0x1ba403[_0x10de('0x4e4')],_0xc9f5b1=void 0x0===_0xc9f5b1?0x1:_0xc9f5b1,_0x1ba403=_0x1ba403[_0x10de('0x363')],_0x1ba403=void 0x0===_0x1ba403?0x4:_0x1ba403;(0x0,_0x46e17d[_0x10de('0x9')])(this,_0x59a1d5),this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this['colorStr']=_0x8e8387,this[_0x10de('0x363')]=_0x1ba403,this['floatOffset']=_0xc9f5b1,this[_0x10de('0x40')]=null,this['shaders']={'cubeShader':null,'lineShader':null},this[_0x10de('0x5ef')]=null,this[_0x10de('0x368')]['visible']=!0x1,this[_0x10de('0x32e')]();}(0x0,_0x50af1e(_0xc9f5b1(0x1))[_0x10de('0x9')])(_0x59a1d5,[{'key':'createMaterial','value':function(){var _0x8e8387=this;this['material']=new THREE[(_0x10de('0x40e'))](),this[_0x10de('0x40')][_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](this[_0x10de('0x32f')]),this[_0x10de('0x40')]['onBeforeCompile']=function(_0x1ba403){_0x8e8387[_0x10de('0x5f0')](_0x1ba403),_0x8e8387[_0x10de('0x1f3')]['cubeShader']=_0x1ba403;},this[_0x10de('0x5ef')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'wireframe':!0x0}),this[_0x10de('0x5ef')][_0x10de('0x40f')]=function(_0x1ba403){_0x8e8387['settingShader'](_0x1ba403),_0x8e8387['shaders'][_0x10de('0x5f1')]=_0x1ba403;};}},{'key':_0x10de('0x5f0'),'value':function(_0x1ba403){_0x1ba403['uniforms']['iTime']={'value':0x0},_0x1ba403[_0x10de('0x1b4')][_0x10de('0x4e4')]={'value':this[_0x10de('0x4e4')]},_0x1ba403[_0x10de('0x59')]=_0x1ba403['vertexShader']['replace'](_0x10de('0x412'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20floatOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rotateVerticesInY(vec3\x20vertices,\x20float\x20delta)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20vertices.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_x\x20=\x20p.x*cos(delta)\x20-\x20p.z*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_z\x20=\x20p.z*cos(delta)\x20+\x20p.x*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(new_x,\x20p.y,\x20new_z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1ba403[_0x10de('0x59')]=_0x1ba403[_0x10de('0x59')]['replace'](_0x10de('0x5f2'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20vPos\x20=\x20modelMatrix\x20*\x20vec4(\x20rotateVerticesInY(position,\x20iTime),\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vPos.y\x20+=\x20floatOffset\x20*\x20sin(iTime);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<logdepthbuf_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}},{'key':'create','value':function(_0x1ba403){for(var _0x1ba403=_0x1ba403[_0x10de('0x230')],_0x1ba403=void 0x0===_0x1ba403?0x5:_0x1ba403,_0x8e8387=new THREE['Group'](),_0xc9f5b1=new THREE[(_0x10de('0x5f3'))](0x1,0x0),_0x46e17d=0x0,_0x50af1e=_0xc9f5b1[_0x10de('0x17e')][_0x10de('0x222')][_0x10de('0xec')],_0x59a1d5=_0x50af1e[_0x10de('0xe')];_0x46e17d<_0x59a1d5;_0x46e17d+=0x3)0x1===_0x50af1e[_0x46e17d+0x1]&&(_0x50af1e[_0x46e17d+0x1]=0x2);var _0x41bec2=new THREE[(_0x10de('0x348'))](_0xc9f5b1,this[_0x10de('0x40')]),_0x41bec2=(_0x41bec2[_0x10de('0x1fd')]['x']=-Math['PI'],_0x8e8387['add'](_0x41bec2),new THREE[(_0x10de('0x348'))](_0xc9f5b1,this[_0x10de('0x5ef')]));return _0x41bec2[_0x10de('0x1fd')]['x']=-Math['PI'],_0x41bec2[_0x10de('0x1e8')][_0x10de('0x1e')](1.01,1.01,1.01),_0x8e8387['add'](_0x41bec2),_0x8e8387[_0x10de('0x1e8')]['set'](_0x1ba403,_0x1ba403,_0x1ba403),this['object3d'][_0x10de('0x1d5')](_0x8e8387),_0x8e8387;}},{'key':_0x10de('0x362'),'value':function(_0x1ba403){this[_0x10de('0x1f3')][_0x10de('0x5f4')]&&this[_0x10de('0x1f3')][_0x10de('0x5f1')]&&(this['shaders']['cubeShader'][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]+=_0x1ba403*this[_0x10de('0x363')],this['shaders'][_0x10de('0x5f1')][_0x10de('0x1b4')]['iTime'][_0x10de('0x10')]+=_0x1ba403*this['speed']);}},{'key':_0x10de('0x364'),'set':function(_0x1ba403){this[_0x10de('0x368')]&&(this[_0x10de('0x368')][_0x10de('0x364')]=_0x1ba403);}}]),_0x8e8387['default']=_0x59a1d5;},function(_0x16cde6,_0x56418f,_0x36f1f6){'use strict';Object[_0x10de('0x2')](_0x56418f,'__esModule',{'value':!0x0});var _0x48d343=_0xa852f5(_0x36f1f6(0x0));function _0xa852f5(_0x16cde6){return _0x16cde6&&_0x16cde6[_0x10de('0x5')]?_0x16cde6:{'default':_0x16cde6};}function _0x437dc0(){(0x0,_0x48d343[_0x10de('0x9')])(this,_0x437dc0),this[_0x10de('0x368')]=null,this['material']=null,this[_0x10de('0x230')]=0x0,this[_0x10de('0x5f5')]={'centerHeight':0x3c,'swingHeight':0x1e,'speed':0.02};}(0x0,_0xa852f5(_0x36f1f6(0x1))['default'])(_0x437dc0,[{'key':_0x10de('0x7a'),'value':function(_0x16cde6){var _0x56418f=_0x16cde6[_0x10de('0xdc')],_0x36f1f6=_0x16cde6['radius'],_0x48d343=_0x16cde6[_0x10de('0x32c')],_0xa852f5=_0x16cde6[_0x10de('0x5f6')],_0x16cde6=_0x16cde6[_0x10de('0x32f')],_0x48d343=new THREE[(_0x10de('0x49e'))](_0x36f1f6,_0x36f1f6,_0x48d343,0x20,0x1,!0x0,0x0,0x2*Math['PI']);return _0x56418f['wrapS']=THREE[_0x10de('0x36c')],_0x56418f[_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x56418f[_0x10de('0x2eb')]['x']=0x4,this['material']=new THREE[(_0x10de('0x40e'))]({'color':0xffffff,'side':THREE[_0x10de('0x33a')],'transparent':!0x0,'map':_0x56418f,'depthWrite':!0x1}),_0x16cde6&&(this['material'][_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x16cde6)),this['object3d']=new THREE[(_0x10de('0x348'))](_0x48d343,this[_0x10de('0x40')]),this['radius']=_0x36f1f6,_0xa852f5&&(void 0x0!==_0xa852f5['centerHeight']&&void 0x0!==_0xa852f5[_0x10de('0x5f7')]&&(this['moveOpts'][_0x10de('0x5f8')]=_0xa852f5[_0x10de('0x5f8')],this[_0x10de('0x5f5')][_0x10de('0x5f7')]=_0xa852f5[_0x10de('0x5f7')]),_0xa852f5[_0x10de('0x363')]&&(this[_0x10de('0x5f5')][_0x10de('0x363')]=_0xa852f5[_0x10de('0x363')])),this[_0x10de('0x368')];}},{'key':_0x10de('0x31d'),'value':function(){this[_0x10de('0x368')]&&(this['object3d']['rotation']['y']-=this[_0x10de('0x5f5')][_0x10de('0x363')],this[_0x10de('0x368')][_0x10de('0x222')]['y']=Math[_0x10de('0x5c')](0.5*this[_0x10de('0x368')][_0x10de('0x1fd')]['y'])*this[_0x10de('0x5f5')][_0x10de('0x5f7')]+this[_0x10de('0x5f5')][_0x10de('0x5f8')]);}},{'key':_0x10de('0x364'),'set':function(_0x16cde6){this[_0x10de('0x368')]&&(this[_0x10de('0x368')][_0x10de('0x364')]=_0x16cde6);}}]),_0x56418f[_0x10de('0x9')]=_0x437dc0;},function(_0x26f5d2,_0x29aeb9,_0x577479){'use strict';Object[_0x10de('0x2')](_0x29aeb9,_0x10de('0x5'),{'value':!0x0});var _0xe24cc9=_0x2bb35d(_0x577479(0x0));function _0x2bb35d(_0x26f5d2){return _0x26f5d2&&_0x26f5d2[_0x10de('0x5')]?_0x26f5d2:{'default':_0x26f5d2};}function _0x564353(){(0x0,_0xe24cc9[_0x10de('0x9')])(this,_0x564353),this[_0x10de('0x368')]=null,this[_0x10de('0x40')]=null,this[_0x10de('0x5f9')]=0x0;}(0x0,_0x2bb35d(_0x577479(0x1))[_0x10de('0x9')])(_0x564353,[{'key':'create','value':function(_0x26f5d2){var _0x29aeb9=_0x26f5d2['colorStr'],_0x577479=_0x26f5d2['texture'],_0xe24cc9=_0x26f5d2[_0x10de('0x230')],_0xe24cc9=void 0x0===_0xe24cc9?0x64:_0xe24cc9,_0x2bb35d=_0x26f5d2[_0x10de('0x363')],_0x2bb35d=void 0x0===_0x2bb35d?0x1:_0x2bb35d,_0x26f5d2=_0x26f5d2['textureAngle'],_0x26f5d2=void 0x0===_0x26f5d2?0x0:_0x26f5d2,_0xe24cc9=new THREE[(_0x10de('0x418'))](_0xe24cc9,_0xe24cc9);_0x577479[_0x10de('0x1fd')]=THREE[_0x10de('0x18')][_0x10de('0x315')](_0x26f5d2),this[_0x10de('0x40')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0,'map':_0x577479,'depthWrite':!0x1,'side':THREE[_0x10de('0x33a')]}),_0x29aeb9&&(this[_0x10de('0x40')][_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x29aeb9)),this[_0x10de('0x368')]=new THREE[(_0x10de('0x348'))](_0xe24cc9,this['material']),this[_0x10de('0x368')][_0x10de('0x1fd')]['x']=0.5*-Math['PI'],this[_0x10de('0x5f9')]=_0x2bb35d;}},{'key':_0x10de('0x31d'),'value':function(_0x26f5d2){this[_0x10de('0x368')]&&(this[_0x10de('0x368')][_0x10de('0x1fd')]['z']+=_0x26f5d2*this[_0x10de('0x5f9')]);}},{'key':_0x10de('0x364'),'set':function(_0x26f5d2){this['object3d']&&(this[_0x10de('0x368')][_0x10de('0x364')]=_0x26f5d2);}}]),_0x29aeb9[_0x10de('0x9')]=_0x564353;},function(_0x1a70ad,_0x3bb30e,_0x437e07){'use strict';Object['defineProperty'](_0x3bb30e,_0x10de('0x5'),{'value':!0x0});var _0xf06c05=_0x51d2be(_0x437e07(0x5)),_0x2fc0df=_0x51d2be(_0x437e07(0x0)),_0x437e07=_0x51d2be(_0x437e07(0x1));function _0x51d2be(_0x1a70ad){return _0x1a70ad&&_0x1a70ad[_0x10de('0x5')]?_0x1a70ad:{'default':_0x1a70ad};}(0x0,_0x437e07['default'])(_0x11033d,[{'key':_0x10de('0x7a'),'value':function(_0x1a70ad){var _0x3bb30e=_0x1a70ad['points'],_0x1a70ad=_0x1a70ad[_0x10de('0xdc')],_0x437e07=[],_0x51d2be=!0x0,_0x1da97a=!0x1,_0x222b2b=void 0x0;try{for(var _0x2fc0df,_0x32f2d3=(0x0,_0xf06c05[_0x10de('0x9')])(_0x3bb30e);!(_0x51d2be=(_0x2fc0df=_0x32f2d3[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x51d2be=!0x0){var _0x3c1eab=_0x2fc0df[_0x10de('0x10')];_0x437e07[_0x10de('0x84')](new THREE['Vector3'](-_0x3c1eab['x'],(void 0x0!==_0x3c1eab[_0x10de('0x32c')]?_0x3c1eab:this)[_0x10de('0x32c')],_0x3c1eab['y']));}}catch(_0x526f9c){_0x1da97a=!0x0,_0x222b2b=_0x526f9c;}finally{try{!_0x51d2be&&_0x32f2d3['return']&&_0x32f2d3[_0x10de('0xdf')]();}finally{if(_0x1da97a)throw _0x222b2b;}}for(var _0x149d1e,_0xe6b710=_0x437e07[0x0],_0x19f0cd=new Float32Array(0x4*_0x437e07[_0x10de('0xe')]),_0x4cc856=0x0,_0x57a3c6=_0x437e07['length'];_0x4cc856<_0x57a3c6;_0x4cc856++)_0x19f0cd[0x0+(_0x149d1e=0x4*_0x4cc856)]=_0x437e07[_0x4cc856]['x']-_0xe6b710['x'],_0x19f0cd[0x1+_0x149d1e]=_0x437e07[_0x4cc856]['y']-_0xe6b710['y'],_0x19f0cd[0x2+_0x149d1e]=_0x437e07[_0x4cc856]['z']-_0xe6b710['z'],_0x19f0cd[0x3+_0x149d1e]=_0x4cc856;var _0x3bb30e=new THREE[(_0x10de('0x352'))](),_0x1da97a=new THREE[(_0x10de('0x44f'))](_0x19f0cd,0x4),_0x2794d8=(_0x3bb30e['addAttribute']('position',new THREE[(_0x10de('0x451'))](_0x1da97a,0x3,0x0)),_0x3bb30e[_0x10de('0x202')](_0x10de('0x450'),new THREE['InterleavedBufferAttribute'](_0x1da97a,0x1,0x3)),this[_0x10de('0x40')]=new THREE[(_0x10de('0x452'))]({'color':0xffffff,'map':_0x1a70ad,'sizeAttenuation':!0x1,'size':this[_0x10de('0x44c')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0x1}),this['colorStr']&&(this[_0x10de('0x40')][_0x10de('0x232')]=new THREE['Color']()['setStyle'](this['colorStr'])),this);return this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x1a70ad){_0x1a70ad[_0x10de('0x1b4')][_0x10de('0x410')]={'value':0x0},_0x1a70ad['uniforms'][_0x10de('0x4ed')]={'value':_0x2794d8[_0x10de('0x4ed')]},_0x1a70ad[_0x10de('0x1b4')][_0x10de('0x5fa')]={'value':0x0},_0x1a70ad[_0x10de('0x59')]=_0x1a70ad[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x11e'),_0x10de('0x5fb')),_0x1a70ad[_0x10de('0x59')]=_0x1a70ad[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x454'),_0x10de('0x5fc')),_0x2794d8[_0x10de('0x40d')]=_0x1a70ad;},this[_0x10de('0x284')]=new THREE[(_0x10de('0x29a'))](_0x3bb30e,this[_0x10de('0x40')]),this[_0x10de('0x284')][_0x10de('0x349')]=0x50,this[_0x10de('0x368')][_0x10de('0x1d5')](this['points']),this['points'];}},{'key':_0x10de('0x362'),'value':function(_0x1a70ad){var _0x3bb30e;this[_0x10de('0x284')]&&this[_0x10de('0x40d')]&&(0x4===this[_0x10de('0x4ed')]?(_0x3bb30e=this['timer'][_0x10de('0x2ed')]()%this[_0x10de('0x4ee')],this['period']-_0x3bb30e<0.5?this['shader'][_0x10de('0x1b4')][_0x10de('0x5fa')][_0x10de('0x10')]=0x1:this[_0x10de('0x40d')]['uniforms'][_0x10de('0x5fa')][_0x10de('0x10')]=0x0):(this['count']+=_0x1a70ad,this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')]));}},{'key':'visible','set':function(_0x1a70ad){this[_0x10de('0x284')]&&(this[_0x10de('0x284')][_0x10de('0x364')]=_0x1a70ad);}},{'key':'autoScale','set':function(_0x1a70ad){this[_0x10de('0x284')]['material'][_0x10de('0x336')]=!_0x1a70ad,this[_0x10de('0x284')][_0x10de('0x40')][_0x10de('0x10c')]=!0x0;}}]);_0x437e07=_0x11033d;function _0x11033d(_0x1a70ad){var _0x3bb30e=_0x1a70ad[_0x10de('0x44c')],_0x3bb30e=void 0x0===_0x3bb30e?0x32:_0x3bb30e,_0x437e07=_0x1a70ad[_0x10de('0x32f')],_0x437e07=void 0x0===_0x437e07?'#ffffff':_0x437e07,_0x51d2be=_0x1a70ad[_0x10de('0x32c')],_0x51d2be=void 0x0===_0x51d2be?0.1:_0x51d2be,_0x7775c5=_0x1a70ad[_0x10de('0x4ed')],_0x7775c5=void 0x0===_0x7775c5?'':_0x7775c5,_0x2fbd09=_0x1a70ad[_0x10de('0x2da')],_0x1a70ad=_0x1a70ad[_0x10de('0x4ee')],_0x1a70ad=void 0x0===_0x1a70ad?0x1:_0x1a70ad;switch((0x0,_0x2fc0df['default'])(this,_0x11033d),this[_0x10de('0x368')]=new THREE['Group'](),this[_0x10de('0x368')][_0x10de('0x8c')]=_0x10de('0x44b'),this[_0x10de('0x44c')]=_0x3bb30e,this[_0x10de('0x32f')]=_0x437e07,this[_0x10de('0x32c')]=_0x51d2be,this[_0x10de('0x2da')]=_0x2fbd09,this[_0x10de('0x4ee')]=_0x1a70ad,this['points']=null,this['material']=null,this['shader']=null,this[_0x10de('0x44e')]=[],_0x7775c5){case _0x10de('0x5fd'):this[_0x10de('0x4ed')]=0x1;break;case _0x10de('0x5fe'):this[_0x10de('0x4ed')]=0x2;break;case'twinkle':this[_0x10de('0x4ed')]=0x3;break;case _0x10de('0x5ff'):this['animateType']=0x4;break;default:this['animateType']=0x1;}this[_0x10de('0x114')]=0x0;}_0x3bb30e[_0x10de('0x9')]=_0x437e07;},function(_0x22fe54,_0x723340,_0x312824){'use strict';Object[_0x10de('0x2')](_0x723340,_0x10de('0x5'),{'value':!0x0});var _0x1f90a7=_0x5389ea(_0x312824(0x0)),_0x346fb4=_0x5389ea(_0x312824(0x1)),_0x4cc389=_0x5389ea(_0x312824(0x72));function _0x5389ea(_0x22fe54){return _0x22fe54&&_0x22fe54[_0x10de('0x5')]?_0x22fe54:{'default':_0x22fe54};}function _0x220ab2(_0x22fe54){_0x22fe54=_0x22fe54[_0x10de('0xcf')];(0x0,_0x1f90a7[_0x10de('0x9')])(this,_0x220ab2),this[_0x10de('0xcf')]=_0x22fe54,this['textures']=[],this[_0x10de('0x600')]=[],this['isInit']=!0x1;}(0x0,_0x346fb4[_0x10de('0x9')])(_0x220ab2,[{'key':_0x10de('0x601'),'value':function(){this[_0x10de('0x602')]||(this[_0x10de('0x602')]=!0x0);}},{'key':_0x10de('0xce'),'value':function(){this[_0x10de('0x603')]['length']=0x0,this['textureSprites']['length']=0x0;}},{'key':_0x10de('0x604'),'value':function(){var _0x22fe54=document[_0x10de('0x87')](_0x10de('0x472'));return _0x22fe54[_0x10de('0x35d')]=0x2,_0x22fe54[_0x10de('0x32c')]=0x2,_0x22fe54[_0x10de('0x473')]('2d')[_0x10de('0x405')]=_0x10de('0x365'),new THREE['Texture'](_0x22fe54);}},{'key':_0x10de('0x605'),'value':function(_0x22fe54,_0x723340){_0x22fe54[_0x10de('0x606')]||(_0x22fe54[_0x10de('0x606')]=this[_0x10de('0x604')](),_0x22fe54[_0x10de('0x607')]=0x0),_0x22fe54['visible']=!0x0,_0x22fe54['defines'][_0x10de('0x608')]='',_0x22fe54[_0x10de('0x1e4')]=!0x0;var _0x312824=new THREE['TextureLoader']()['load'](_0x723340,function(){});_0x22fe54['onBeforeCompile']=function(_0x22fe54){_0x22fe54['uniforms'][_0x10de('0x609')]={'value':_0x312824},_0x22fe54[_0x10de('0x5a')]=_0x22fe54['fragmentShader'][_0x10de('0x57')](_0x10de('0x3c5'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x22fe54[_0x10de('0x5a')]=_0x22fe54[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x60a'),_0x10de('0x60b'));};}},{'key':_0x10de('0x60c'),'value':function(_0x22fe54,_0x723340,_0x312824){var _0x1f90a7=this,_0x346fb4=(_0x22fe54[_0x10de('0x606')]||(_0x22fe54[_0x10de('0x606')]=this[_0x10de('0x604')](),_0x22fe54['aoMapIntensity']=0x0),new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x723340,function(){_0x1f90a7[_0x10de('0x603')][_0x10de('0x84')](_0x346fb4);}));_0x346fb4[_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x346fb4[_0x10de('0x41e')]=THREE['RepeatWrapping'],_0x346fb4[_0x10de('0x60d')]=new THREE[(_0x10de('0x1c8'))](0x0,0x0),_0x346fb4[_0x10de('0x60e')]=new THREE[(_0x10de('0x1c8'))](0x1,0x1),_0x312824&&(_0x346fb4[_0x10de('0x60e')]=new THREE[(_0x10de('0x1c8'))](_0x312824['x'],_0x312824['y'])),_0x22fe54['onBeforeCompile']=function(_0x22fe54){_0x22fe54[_0x10de('0x1b4')][_0x10de('0x60f')]={'value':_0x346fb4},_0x22fe54['uniforms']['tex2UvAni']={'value':_0x346fb4[_0x10de('0x60d')]},_0x22fe54[_0x10de('0x5a')]=_0x22fe54[_0x10de('0x5a')][_0x10de('0x57')]('uniform\x20float\x20opacity;',_0x10de('0x610')),_0x22fe54['fragmentShader']=_0x22fe54['fragmentShader'][_0x10de('0x57')]('#include\x20<map_fragment>',_0x10de('0x611'));};}},{'key':'addSpriteAnimate','value':function(_0x22fe54,_0x723340){_0x723340=new _0x4cc389[(_0x10de('0x9'))]({'timer':this[_0x10de('0xcf')][_0x10de('0x2da')],'imageWidth':_0x723340[_0x10de('0x612')],'imageHeight':_0x723340[_0x10de('0x613')],'xCount':_0x723340[_0x10de('0x50e')],'yCount':_0x723340['column'],'fps':_0x723340[_0x10de('0x2dd')]});_0x723340[_0x10de('0x7a')](_0x22fe54),_0x22fe54[_0x10de('0x614')]=_0x723340,this[_0x10de('0x600')][_0x10de('0x84')](_0x723340);}},{'key':_0x10de('0x31d'),'value':function(_0x22fe54){if(this[_0x10de('0x602')]){for(var _0x723340=0x0,_0x312824=this['textures'][_0x10de('0xe')];_0x723340<_0x312824;_0x723340++)this[_0x10de('0x603')][_0x723340][_0x10de('0x615')]&&(this[_0x10de('0x603')][_0x723340][_0x10de('0x615')]['x']&&(this[_0x10de('0x603')][_0x723340][_0x10de('0x10a')]['x']+=_0x22fe54*this[_0x10de('0x603')][_0x723340]['uvTranslate']['x']),this[_0x10de('0x603')][_0x723340]['uvTranslate']['y']&&(this[_0x10de('0x603')][_0x723340][_0x10de('0x10a')]['y']+=_0x22fe54*this['textures'][_0x723340][_0x10de('0x615')]['y'])),this[_0x10de('0x603')][_0x723340][_0x10de('0x60d')]&&(void 0x0!==this[_0x10de('0x603')][_0x723340][_0x10de('0x60d')]['x']&&(this[_0x10de('0x603')][_0x723340][_0x10de('0x60d')]['x']+=_0x22fe54*this[_0x10de('0x603')][_0x723340][_0x10de('0x60e')]['x']),void 0x0!==this[_0x10de('0x603')][_0x723340]['uv2Trans']['y']&&(this['textures'][_0x723340]['uv2Trans']['y']+=_0x22fe54*this[_0x10de('0x603')][_0x723340][_0x10de('0x60e')]['y']));if(0x0<this[_0x10de('0x600')][_0x10de('0xe')])for(var _0x1f90a7=0x0,_0x346fb4=this[_0x10de('0x600')][_0x10de('0xe')];_0x1f90a7<_0x346fb4;_0x1f90a7++)this['textureSprites'][_0x1f90a7][_0x10de('0x31d')]();}}},{'key':_0x10de('0xce'),'value':function(){for(var _0x22fe54=this[_0x10de('0x603')][_0x10de('0xe')]=0x0,_0x723340=this[_0x10de('0x600')][_0x10de('0xe')];_0x22fe54<_0x723340;_0x22fe54++)this[_0x10de('0x600')][_0x22fe54][_0x10de('0xdc')]=null;this[_0x10de('0x600')][_0x10de('0xe')]=0x0;}}]),_0x723340[_0x10de('0x9')]=_0x220ab2;},function(_0x2435ce,_0x26ac27,_0x3ca404){'use strict';Object[_0x10de('0x2')](_0x26ac27,_0x10de('0x5'),{'value':!0x0});var _0x5bc78c=_0x8b68d1(_0x3ca404(0x0)),_0x301254=_0x8b68d1(_0x3ca404(0x1)),_0x14624f=_0x8b68d1(_0x3ca404(0x72));function _0x8b68d1(_0x2435ce){return _0x2435ce&&_0x2435ce['__esModule']?_0x2435ce:{'default':_0x2435ce};}function _0x5dafb9(){(0x0,_0x5bc78c[_0x10de('0x9')])(this,_0x5dafb9),this[_0x10de('0x368')]=new THREE['Object3D'](),this[_0x10de('0x616')]=null;}(0x0,_0x301254[_0x10de('0x9')])(_0x5dafb9,[{'key':_0x10de('0x7a'),'value':function(_0x2435ce){var _0x26ac27=_0x2435ce[_0x10de('0x2da')],_0x3ca404=_0x2435ce[_0x10de('0x1e8')],_0x3ca404=void 0x0===_0x3ca404?0x1:_0x3ca404,_0x5bc78c=_0x2435ce[_0x10de('0xdc')],_0x301254=_0x2435ce['loop'],_0x301254=void 0x0===_0x301254||_0x301254,_0x2435ce=_0x2435ce[_0x10de('0x617')],_0x2435ce=void 0x0===_0x2435ce?{'imageWidth':0x100,'imageHeight':0x100,'xCount':0x5,'yCount':0x5,'xStart':0x0,'yStart':0x0,'fps':0xc}:_0x2435ce,_0x26ac27=(_0x5bc78c['minFilter']=THREE[_0x10de('0x618')],this['uvAnimate']=new _0x14624f[(_0x10de('0x9'))]({'timer':_0x26ac27,'imageWidth':_0x2435ce[_0x10de('0x2ee')],'imageHeight':_0x2435ce[_0x10de('0x2e0')],'xCount':_0x2435ce['xCount'],'yCount':_0x2435ce[_0x10de('0x2dc')],'fps':_0x2435ce[_0x10de('0x2dd')],'xStart':_0x2435ce[_0x10de('0x2de')],'yStart':_0x2435ce[_0x10de('0x2df')]}),this[_0x10de('0x616')][_0x10de('0x7a')](_0x5bc78c,!0x0),!0x1===_0x301254&&(this[_0x10de('0x619')](!0x1),this[_0x10de('0x616')][_0x10de('0x2ec')]()),_0x3ca404),_0x2435ce=new THREE[(_0x10de('0x61a'))]({'map':_0x5bc78c,'transparent':!0x0,'sizeAttenuation':!0x1,'depthTest':!0x1}),_0x301254=new THREE['Sprite'](_0x2435ce);_0x301254['renderOrder']=0x5a,_0x301254[_0x10de('0x1e8')][_0x10de('0x1e')](+_0x26ac27,this[_0x10de('0x616')]['ySize']/this['uvAnimate'][_0x10de('0x2e1')]*_0x26ac27,0x1),this[_0x10de('0x368')][_0x10de('0x1d5')](_0x301254);}},{'key':_0x10de('0x538'),'value':function(){this[_0x10de('0x616')][_0x10de('0x2e9')]=!0x1;}},{'key':_0x10de('0x619'),'value':function(_0x2435ce){this[_0x10de('0x616')][_0x10de('0x2e8')]=_0x2435ce,this[_0x10de('0x616')][_0x10de('0x2e9')]=!_0x2435ce;}},{'key':_0x10de('0x31d'),'value':function(){this[_0x10de('0x616')]&&this[_0x10de('0x616')][_0x10de('0x31d')]();}}]),_0x26ac27[_0x10de('0x9')]=_0x5dafb9;},function(_0x3d9ff6,_0x5a1692,_0x393fae){'use strict';Object[_0x10de('0x2')](_0x5a1692,_0x10de('0x5'),{'value':!0x0});var _0xa2d345=_0x14f25d(_0x393fae(0x0));function _0x14f25d(_0x3d9ff6){return _0x3d9ff6&&_0x3d9ff6[_0x10de('0x5')]?_0x3d9ff6:{'default':_0x3d9ff6};}function _0x49bd90(_0x3d9ff6){var _0x5a1692=_0x3d9ff6['texture'],_0x393fae=_0x3d9ff6['radius'],_0x393fae=void 0x0===_0x393fae?0x64:_0x393fae,_0x14f25d=_0x3d9ff6[_0x10de('0x32c')],_0x14f25d=void 0x0===_0x14f25d?0x32:_0x14f25d,_0x17130a=_0x3d9ff6[_0x10de('0x32f')],_0x17130a=void 0x0===_0x17130a?_0x10de('0x365'):_0x17130a,_0x3a28f1=_0x3d9ff6[_0x10de('0x363')],_0x3a28f1=void 0x0===_0x3a28f1?0.3:_0x3a28f1,_0x1d4a62=_0x3d9ff6[_0x10de('0x4f0')],_0x1d4a62=void 0x0!==_0x1d4a62&&_0x1d4a62,_0x3d9ff6=_0x3d9ff6[_0x10de('0x61b')],_0x3d9ff6=void 0x0===_0x3d9ff6?0x0:_0x3d9ff6;(0x0,_0xa2d345[_0x10de('0x9')])(this,_0x49bd90),this['object3d']=new THREE[(_0x10de('0x369'))](),this[_0x10de('0xdc')]=_0x5a1692,this['radius']=_0x393fae,this[_0x10de('0x32c')]=_0x14f25d,this[_0x10de('0x32f')]=_0x17130a,this['count']=0x0,this[_0x10de('0x4f2')]=null,this[_0x10de('0x40')]=null,this[_0x10de('0x40d')]=null,this[_0x10de('0x61c')]=0x0,this[_0x10de('0x363')]=_0x3a28f1,this[_0x10de('0x4f0')]=_0x1d4a62,this[_0x10de('0x61b')]=_0x3d9ff6;}(0x0,_0x14f25d(_0x393fae(0x1))['default'])(_0x49bd90,[{'key':'create','value':function(){var _0x3d9ff6=new THREE['CylinderBufferGeometry'](this[_0x10de('0x230')],this[_0x10de('0x230')],this[_0x10de('0x32c')],0x20,0x1,!0x0,0x0,0x2*Math['PI']),_0x5a1692=(this[_0x10de('0xdc')]['wrapS']=THREE[_0x10de('0x36c')],this['texture']['wrapT']=THREE[_0x10de('0x36c')],this[_0x10de('0x40')]=new THREE[(_0x10de('0x40e'))]({'color':0xffffff,'side':THREE[_0x10de('0x33a')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x10de('0x1e3')]}),this[_0x10de('0x32f')]&&(this['colorStr'],this[_0x10de('0x40')]['color']['setStyle'](this[_0x10de('0x32f')])),this);return this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x3d9ff6){_0x3d9ff6[_0x10de('0x1b4')][_0x10de('0x58f')]={'value':0x1},_0x3d9ff6[_0x10de('0x1b4')]['texture1']={'value':_0x5a1692['texture']},_0x3d9ff6['uniforms'][_0x10de('0x4f0')]={'value':_0x5a1692['isCilpGround']},_0x3d9ff6['uniforms'][_0x10de('0x61b')]={'value':_0x5a1692['clipGroundY']},_0x3d9ff6[_0x10de('0x59')]=_0x3d9ff6[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv2_pars_vertex>',_0x10de('0x61d')),_0x3d9ff6[_0x10de('0x59')]=_0x3d9ff6['vertexShader'][_0x10de('0x57')](_0x10de('0x422'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20-0.03,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3d9ff6[_0x10de('0x5a')]=_0x3d9ff6[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x61e')),_0x3d9ff6[_0x10de('0x5a')]=_0x3d9ff6[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x61f')),_0x5a1692[_0x10de('0x40d')]=_0x3d9ff6;},this['cincture']=new THREE[(_0x10de('0x348'))](_0x3d9ff6,this[_0x10de('0x40')]),this['cincture'][_0x10de('0x349')]=0x45,this[_0x10de('0x368')][_0x10de('0x1d5')](this['cincture']),this[_0x10de('0x368')],this[_0x10de('0x368')];}},{'key':_0x10de('0x31d'),'value':function(_0x3d9ff6){this[_0x10de('0x4f2')]&&(this[_0x10de('0x61c')]+=_0x3d9ff6*this[_0x10de('0x363')],0x1<this['cinctureCount']&&(this[_0x10de('0x61c')]=0x0),_0x3d9ff6=0.5*(0x1-Math[_0x10de('0x5b')](this[_0x10de('0x61c')]*Math['PI']*0x2)),this[_0x10de('0x4f2')][_0x10de('0x1e8')]['x']=this[_0x10de('0x4f2')][_0x10de('0x1e8')]['z']=1.5*(0x1-Math[_0x10de('0x5b')](this['cinctureCount']*Math['PI']))*0.5+0.001,this[_0x10de('0x4f2')]['scale']['y']=1.5*_0x3d9ff6+0.001,this['material'][_0x10de('0x233')]=_0x3d9ff6,this[_0x10de('0x40d')]&&(this['shader'][_0x10de('0x1b4')][_0x10de('0x58f')][_0x10de('0x10')]=_0x3d9ff6));}},{'key':_0x10de('0x364'),'set':function(_0x3d9ff6){this[_0x10de('0x368')][_0x10de('0x364')]=_0x3d9ff6;},'get':function(){return this[_0x10de('0x368')][_0x10de('0x364')];}}]),_0x5a1692['default']=_0x49bd90;},function(_0x4577b0,_0xe39352,_0x4990cb){'use strict';Object['defineProperty'](_0xe39352,'__esModule',{'value':!0x0});var _0x572f0c=_0x481b0e(_0x4990cb(0x5)),_0x4d19c3=_0x481b0e(_0x4990cb(0x0));function _0x481b0e(_0x4577b0){return _0x4577b0&&_0x4577b0[_0x10de('0x5')]?_0x4577b0:{'default':_0x4577b0};}function _0x414fbb(_0x4577b0){var _0xe39352=_0x4577b0[_0x10de('0xdc')],_0x4990cb=_0x4577b0[_0x10de('0x32f')],_0x4990cb=void 0x0===_0x4990cb?_0x10de('0x365'):_0x4990cb,_0x481b0e=_0x4577b0[_0x10de('0x620')],_0x481b0e=void 0x0===_0x481b0e?_0x10de('0x621'):_0x481b0e,_0x1c5625=_0x4577b0['scale'],_0x1c5625=void 0x0===_0x1c5625?0x14:_0x1c5625,_0x1d0ec0=_0x4577b0[_0x10de('0x363')],_0x1d0ec0=void 0x0===_0x1d0ec0?0x1:_0x1d0ec0,_0x3d0529=_0x4577b0[_0x10de('0x4fb')],_0x3d0529=void 0x0===_0x3d0529||_0x3d0529,_0x4d1c0b=_0x4577b0[_0x10de('0x4fc')],_0x4d1c0b=void 0x0!==_0x4d1c0b&&_0x4d1c0b,_0xb04700=_0x4577b0[_0x10de('0x622')],_0xb04700=void 0x0===_0xb04700?0xa:_0xb04700,_0x4577b0=_0x4577b0[_0x10de('0x623')],_0x4577b0=void 0x0!==_0x4577b0&&_0x4577b0;(0x0,_0x4d19c3[_0x10de('0x9')])(this,_0x414fbb),this['enabled']=!0x0,this[_0x10de('0x368')]=new THREE[(_0x10de('0x1d7'))](),this[_0x10de('0xdc')]=_0xe39352,this[_0x10de('0x419')]=null,this[_0x10de('0x624')]={'spline':'GrannyKnot','scale':_0x1c5625,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this[_0x10de('0x32c')]=0x19,this[_0x10de('0x625')]=[],this[_0x10de('0x52d')]=[],this[_0x10de('0x626')]=null,this[_0x10de('0x114')]=0x0,this[_0x10de('0x627')]=0.005*_0x1d0ec0,this[_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x4990cb),this[_0x10de('0x628')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x481b0e),this[_0x10de('0x52a')]=null,this['shader']=null,this[_0x10de('0x629')]=null,this[_0x10de('0x4fc')]=_0x4d1c0b,this['scrollXRepeat']=_0xb04700,this[_0x10de('0x623')]=_0x4577b0,this['createMaterial'](_0x3d0529);}(0x0,_0x481b0e(_0x4990cb(0x1))[_0x10de('0x9')])(_0x414fbb,[{'key':_0x10de('0x32e'),'value':function(_0x4577b0){this[_0x10de('0x52a')]=new THREE[(_0x10de('0x40e'))]({'color':0xffffff,'transparent':!0x0,'depthWrite':!0x1}),this[_0x10de('0x52a')][_0x10de('0x8c')]=_0x10de('0x62a'),_0x4577b0&&(this[_0x10de('0x52a')][_0x10de('0x1e2')]=THREE[_0x10de('0x1e3')]),this[_0x10de('0x52a')][_0x10de('0x232')]=this[_0x10de('0x232')],this[_0x10de('0xdc')][_0x10de('0x49d')]=THREE[_0x10de('0x36c')],this[_0x10de('0xdc')][_0x10de('0x41e')]=THREE[_0x10de('0x36c')];var _0xe39352=this;this['isScrollX']?(this[_0x10de('0x52a')]['side']=THREE['FontSide'],this[_0x10de('0xdc')][_0x10de('0x2eb')]['y']=0x2,this['texture'][_0x10de('0x2eb')]['x']=this[_0x10de('0x622')],this[_0x10de('0x52a')][_0x10de('0xcf')]=this[_0x10de('0xdc')]):(this[_0x10de('0x52a')][_0x10de('0x3bb')]=THREE[_0x10de('0x33a')],this[_0x10de('0x52a')][_0x10de('0x40f')]=function(_0x4577b0){_0x4577b0[_0x10de('0x1b4')][_0x10de('0x410')]={'value':0x0},_0x4577b0[_0x10de('0x1b4')][_0x10de('0x62b')]={'value':0x1},_0x4577b0[_0x10de('0x1b4')]['lineTex']={'value':_0xe39352['texture']},_0x4577b0['vertexShader']=_0x4577b0[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv2_pars_vertex>',_0x10de('0x62c')),_0x4577b0[_0x10de('0x59')]=_0x4577b0[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x422'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4577b0[_0x10de('0x5a')]=_0x4577b0[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x62d')),_0x4577b0[_0x10de('0x5a')]=_0x4577b0[_0x10de('0x5a')]['replace'](_0x10de('0x416'),_0x10de('0x62e')),_0xe39352[_0x10de('0x40d')]=_0x4577b0;});}},{'key':'addWall','value':function(_0x4577b0){var _0xe39352=_0x4577b0['points'],_0x4990cb=_0x4577b0[_0x10de('0x62f')],_0x481b0e=_0x4577b0[_0x10de('0x4fa')],_0x481b0e=void 0x0===_0x481b0e?0x5:_0x481b0e,_0x4577b0=_0x4577b0['isNoClose'],_0x2fe5f6=_0xe39352[0x0],_0x403840=[],_0x3f296f=!0x0,_0x155865=!0x1,_0x4d6126=void 0x0;try{for(var _0x4d19c3,_0x414fbb=(0x0,_0x572f0c[_0x10de('0x9')])(_0xe39352);!(_0x3f296f=(_0x4d19c3=_0x414fbb['next']())['done']);_0x3f296f=!0x0){var _0x39ebe6=_0x4d19c3['value'],_0x4282b8=_0x39ebe6['x']-_0x2fe5f6['x'],_0x469b1c=_0x39ebe6['z']-_0x2fe5f6['z'];_0x403840['push']({'x':_0x4282b8,'y':_0x469b1c});}}catch(_0x42dd6b){_0x155865=!0x0,_0x4d6126=_0x42dd6b;}finally{try{!_0x3f296f&&_0x414fbb[_0x10de('0xdf')]&&_0x414fbb[_0x10de('0xdf')]();}finally{if(_0x155865)throw _0x4d6126;}}_0x4577b0||_0x403840[_0x10de('0x84')]({'x':0x0,'y':0x0});_0xe39352=null,(_0xe39352=this[_0x10de('0x4fc')]?this[_0x10de('0x630')]({'points':_0x403840,'height':_0x481b0e}):this[_0x10de('0x631')]({'points':_0x403840,'height':_0x481b0e}))['computeBoundingBox'](),_0x155865=new THREE['Mesh'](_0xe39352,this[_0x10de('0x52a')]);return _0x155865[_0x10de('0x349')]=0x47,_0x155865[_0x10de('0x62f')]=_0x4990cb,this[_0x10de('0x368')][_0x10de('0x1d5')](_0x155865),this['extentWallList']['push']({'id':_0x4990cb,'mesh':_0x155865}),_0x155865;}},{'key':_0x10de('0x630'),'value':function(_0xe39352){var _0x4577b0=_0xe39352['points'],_0x4577b0=void 0x0===_0x4577b0?[]:_0x4577b0,_0xe39352=_0xe39352['height'],_0x4990cb=void 0x0===_0xe39352?0x0:_0xe39352,_0x481b0e=[],_0x5efc4b=!0x0,_0xe39352=!0x1,_0x2912d8=void 0x0;try{for(var _0x2a0ca5,_0x59654d=(0x0,_0x572f0c[_0x10de('0x9')])(_0x4577b0);!(_0x5efc4b=(_0x2a0ca5=_0x59654d[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x5efc4b=!0x0){var _0x2dce2b=_0x2a0ca5[_0x10de('0x10')];_0x481b0e[_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](_0x2dce2b['x'],_0x4990cb,_0x2dce2b['y']));}}catch(_0x45b7a9){_0xe39352=!0x0,_0x2912d8=_0x45b7a9;}finally{try{!_0x5efc4b&&_0x59654d['return']&&_0x59654d['return']();}finally{if(_0xe39352)throw _0x2912d8;}}_0x4577b0=new THREE[(_0x10de('0x632'))](_0x481b0e,!0x1,_0x10de('0x633'),0.01),_0xe39352=new THREE['TubeBufferGeometry'](_0x4577b0,this[_0x10de('0x624')][_0x10de('0x634')],this[_0x10de('0x624')][_0x10de('0x1e8')],this[_0x10de('0x624')][_0x10de('0x635')],this['lineParams']['closed']);return _0xe39352[_0x10de('0x636')](),_0xe39352;}},{'key':_0x10de('0x631'),'value':function(_0x4577b0){for(var _0xe39352=_0x4577b0['points'],_0x4990cb=void 0x0===_0xe39352?[]:_0xe39352,_0xe39352=_0x4577b0[_0x10de('0x32c')],_0x481b0e=void 0x0===_0xe39352?0x0:_0xe39352,_0xddf00=[],_0x20f4e4=[],_0x2625b9=0x0,_0x7cedfc=_0xddf00[_0x10de('0xe')],_0x4a36d9=_0x20f4e4[_0x10de('0xe')];_0x2625b9<_0x4990cb['length']-0x1;_0x2625b9++){var _0x4d19c3=_0x4990cb[_0x2625b9],_0x414fbb=_0x4990cb[_0x2625b9+0x1];_0xddf00[_0x7cedfc++]=_0x4d19c3['x'],_0xddf00[_0x7cedfc++]=0x0,_0xddf00[_0x7cedfc++]=_0x4d19c3['y'],_0x20f4e4[_0x4a36d9++]=0x0,_0x20f4e4[_0x4a36d9++]=0x0,_0xddf00[_0x7cedfc++]=_0x414fbb['x'],_0xddf00[_0x7cedfc++]=0x0,_0xddf00[_0x7cedfc++]=_0x414fbb['y'],_0x20f4e4[_0x4a36d9++]=0x1,_0x20f4e4[_0x4a36d9++]=0x0,_0xddf00[_0x7cedfc++]=_0x4d19c3['x'],_0xddf00[_0x7cedfc++]=_0x481b0e,_0xddf00[_0x7cedfc++]=_0x4d19c3['y'],_0x20f4e4[_0x4a36d9++]=0x0,_0x20f4e4[_0x4a36d9++]=0x1,_0xddf00[_0x7cedfc++]=_0x4d19c3['x'],_0xddf00[_0x7cedfc++]=_0x481b0e,_0xddf00[_0x7cedfc++]=_0x4d19c3['y'],_0x20f4e4[_0x4a36d9++]=0x0,_0x20f4e4[_0x4a36d9++]=0x1,_0xddf00[_0x7cedfc++]=_0x414fbb['x'],_0xddf00[_0x7cedfc++]=0x0,_0xddf00[_0x7cedfc++]=_0x414fbb['y'],_0x20f4e4[_0x4a36d9++]=0x1,_0x20f4e4[_0x4a36d9++]=0x0,_0xddf00[_0x7cedfc++]=_0x414fbb['x'],_0xddf00[_0x7cedfc++]=_0x481b0e,_0xddf00[_0x7cedfc++]=_0x414fbb['y'],_0x20f4e4[_0x4a36d9++]=0x1,_0x20f4e4[_0x4a36d9++]=0x1;}_0x4577b0=new THREE[(_0x10de('0x352'))]();return _0x4577b0[_0x10de('0x202')](_0x10de('0x222'),new THREE[(_0x10de('0x116'))](new Float32Array(_0xddf00),0x3)),_0x4577b0[_0x10de('0x202')]('uv',new THREE['BufferAttribute'](new Float32Array(_0x20f4e4),0x2)),_0x4577b0;}},{'key':_0x10de('0x637'),'value':function(_0x4577b0){_0x4577b0=this[_0x10de('0x638')](_0x4577b0),_0x4577b0=new THREE[(_0x10de('0x348'))](new THREE[(_0x10de('0x639'))](_0x4577b0),this[_0x10de('0x629')]);return _0x4577b0[_0x10de('0x446')](0.5*-Math['PI']),_0x4577b0[_0x10de('0x222')]['y']=0x0,_0x4577b0;}},{'key':'createShape','value':function(_0x4577b0){var _0xe39352=new THREE[(_0x10de('0x63a'))](),_0x4990cb=(_0xe39352[_0x10de('0x63b')](0x0,0x0),!0x0),_0x481b0e=!0x1,_0x40eff9=void 0x0;try{for(var _0x15014f,_0x46becc=(0x0,_0x572f0c[_0x10de('0x9')])(_0x4577b0);!(_0x4990cb=(_0x15014f=_0x46becc[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x4990cb=!0x0){var _0xb8e84c=_0x15014f[_0x10de('0x10')];_0xe39352[_0x10de('0x63c')](_0xb8e84c['x'],-_0xb8e84c['z']);}}catch(_0xbc4314){_0x481b0e=!0x0,_0x40eff9=_0xbc4314;}finally{try{!_0x4990cb&&_0x46becc[_0x10de('0xdf')]&&_0x46becc['return']();}finally{if(_0x481b0e)throw _0x40eff9;}}return _0xe39352;}},{'key':'render','value':function(){this['enabled']&&this[_0x10de('0x40d')]?(this['count']-=this[_0x10de('0x627')],this[_0x10de('0x40d')][_0x10de('0x1b4')]['iTime'][_0x10de('0x10')]=this[_0x10de('0x114')]):this[_0x10de('0x4fc')]&&(this[_0x10de('0x114')]=this[_0x10de('0x623')]?this[_0x10de('0x114')]+this[_0x10de('0x627')]:this[_0x10de('0x114')]-this[_0x10de('0x627')],this[_0x10de('0x52a')][_0x10de('0xcf')][_0x10de('0x10a')]['x']=this['count']);}},{'key':'checkIsHaveId','value':function(_0x4577b0){var _0xe39352=!0x0,_0x4990cb=!0x1,_0x481b0e=void 0x0;try{for(var _0x5c96e3,_0x5513aa=(0x0,_0x572f0c[_0x10de('0x9')])(this[_0x10de('0x625')]);!(_0xe39352=(_0x5c96e3=_0x5513aa[_0x10de('0x88')]())['done']);_0xe39352=!0x0)if(_0x5c96e3[_0x10de('0x10')]===_0x4577b0)return!0x0;}catch(_0x2301d1){_0x4990cb=!0x0,_0x481b0e=_0x2301d1;}finally{try{!_0xe39352&&_0x5513aa[_0x10de('0xdf')]&&_0x5513aa[_0x10de('0xdf')]();}finally{if(_0x4990cb)throw _0x481b0e;}}return!0x1;}},{'key':_0x10de('0x63d'),'value':function(_0x4577b0){var _0xe39352=!0x0,_0x4990cb=!0x1,_0x481b0e=void 0x0;try{for(var _0x3f4c69,_0x2424f3=(0x0,_0x572f0c[_0x10de('0x9')])(this['extentWallList']);!(_0xe39352=(_0x3f4c69=_0x2424f3[_0x10de('0x88')]())[_0x10de('0x32b')]);_0xe39352=!0x0){var _0x43a8d8=_0x3f4c69[_0x10de('0x10')];if(_0x43a8d8['id']===_0x4577b0)return _0x43a8d8;}}catch(_0xd726b4){_0x4990cb=!0x0,_0x481b0e=_0xd726b4;}finally{try{!_0xe39352&&_0x2424f3[_0x10de('0xdf')]&&_0x2424f3[_0x10de('0xdf')]();}finally{if(_0x4990cb)throw _0x481b0e;}}return null;}},{'key':_0x10de('0x63e'),'value':function(_0x4577b0){var _0xe39352=_0x4577b0[_0x10de('0x62f')],_0x4577b0=_0x4577b0[_0x10de('0x63f')],_0x4577b0=void 0x0===_0x4577b0||_0x4577b0,_0x4990cb=this[_0x10de('0x63d')](_0xe39352);_0x4990cb&&(this[_0x10de('0x626')]=_0xe39352,_0x4990cb[_0x10de('0x1f6')][_0x10de('0x40')][_0x10de('0x232')]['copy'](this[_0x10de('0x628')]),_0x4577b0&&this[_0x10de('0x640')](_0x4990cb[_0x10de('0x1f6')]),this[_0x10de('0x641')](!0x1),_0x4990cb[_0x10de('0x1f6')][_0x10de('0x364')]=!0x0);}},{'key':_0x10de('0x642'),'value':function(){var _0x4577b0;this['_focusExtentId']&&(this[_0x10de('0x641')](!0x0),(_0x4577b0=this[_0x10de('0x63d')](this[_0x10de('0x626')]))[_0x10de('0x1f6')][_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x1d3')](_0x4577b0['mesh'][_0x10de('0x643')]),this[_0x10de('0x626')]=null);}},{'key':_0x10de('0x640'),'value':function(_0x4577b0){_0x4577b0[_0x10de('0x222')]['y']=-0x19;var _0xe39352=new THREE[(_0x10de('0x1ca'))]()['copy'](_0x4577b0[_0x10de('0x222')]);_0xe39352['y']=0x19,new TWEEN[(_0x10de('0x316'))](_0x4577b0[_0x10de('0x222')])['to'](_0xe39352,0x3e8)[_0x10de('0x361')](TWEEN[_0x10de('0x317')]['Elastic']['Out'])[_0x10de('0x31b')]();}},{'key':_0x10de('0x641'),'value':function(_0x4577b0){var _0xe39352=!0x0,_0x4990cb=!0x1,_0x481b0e=void 0x0;try{for(var _0x5d5f84,_0x1397e8=(0x0,_0x572f0c[_0x10de('0x9')])(this[_0x10de('0x52d')]);!(_0xe39352=(_0x5d5f84=_0x1397e8[_0x10de('0x88')]())['done']);_0xe39352=!0x0)_0x5d5f84[_0x10de('0x10')]['mesh'][_0x10de('0x364')]=_0x4577b0;}catch(_0x3e6e6c){_0x4990cb=!0x0,_0x481b0e=_0x3e6e6c;}finally{try{!_0xe39352&&_0x1397e8['return']&&_0x1397e8[_0x10de('0xdf')]();}finally{if(_0x4990cb)throw _0x481b0e;}}}},{'key':_0x10de('0x364'),'set':function(_0x4577b0){this[_0x10de('0x641')](_0x4577b0);}}]),_0xe39352[_0x10de('0x9')]=_0x414fbb;},function(_0x33f9b9,_0x1fef48,_0x5312e6){'use strict';Object[_0x10de('0x2')](_0x1fef48,_0x10de('0x5'),{'value':!0x0});var _0x2cae92=_0x865fc5(_0x5312e6(0x5)),_0x464bec=_0x865fc5(_0x5312e6(0x0));function _0x865fc5(_0x33f9b9){return _0x33f9b9&&_0x33f9b9[_0x10de('0x5')]?_0x33f9b9:{'default':_0x33f9b9};}function _0x4e1c23(_0x33f9b9){var _0x1fef48=_0x33f9b9[_0x10de('0xdc')],_0x5312e6=_0x33f9b9[_0x10de('0x32f')],_0x5312e6=void 0x0===_0x5312e6?_0x10de('0x365'):_0x5312e6,_0x865fc5=_0x33f9b9[_0x10de('0x620')],_0x865fc5=void 0x0===_0x865fc5?'#ffee98':_0x865fc5,_0x33ea47=_0x33f9b9[_0x10de('0x419')],_0x9bf41d=_0x33f9b9[_0x10de('0x644')],_0x1be849=_0x33f9b9[_0x10de('0x1e8')],_0x1be849=void 0x0===_0x1be849?0x14:_0x1be849,_0x33f9b9=_0x33f9b9['speed'],_0x33f9b9=void 0x0===_0x33f9b9?0.004:_0x33f9b9;(0x0,_0x464bec[_0x10de('0x9')])(this,_0x4e1c23),this[_0x10de('0x43e')]=!0x0,this[_0x10de('0x368')]=new THREE['Group'](),this['texture']=_0x1fef48,this[_0x10de('0x419')]=null,this[_0x10de('0x645')]=null,_0x9bf41d&&(this['groundColor']=new THREE[(_0x10de('0x1cc'))]()['setStyle'](_0x9bf41d),this['alphaTex']=_0x33ea47,this[_0x10de('0x419')][_0x10de('0x49d')]=THREE[_0x10de('0x36c')],this['alphaTex'][_0x10de('0x49d')]=THREE[_0x10de('0x36c')]),this[_0x10de('0x624')]={'spline':'GrannyKnot','scale':_0x1be849,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this[_0x10de('0x32c')]=0x19,this[_0x10de('0x625')]=[],this[_0x10de('0x52d')]=[],this['_focusExtentId']=null,this[_0x10de('0x114')]=0x0,this['deltaSpeed']=_0x33f9b9,this[_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()['setStyle'](_0x5312e6),this[_0x10de('0x628')]=new THREE[(_0x10de('0x1cc'))]()['setStyle'](_0x865fc5),this[_0x10de('0x52a')]=null,this[_0x10de('0x40d')]=null,this[_0x10de('0x629')]=null,this['createMaterial']();}(0x0,_0x865fc5(_0x5312e6(0x1))[_0x10de('0x9')])(_0x4e1c23,[{'key':_0x10de('0x32e'),'value':function(){this[_0x10de('0x52a')]=new THREE[(_0x10de('0x40e'))]({'color':0xffffff,'transparent':!0x0}),this[_0x10de('0x52a')][_0x10de('0x232')]=this['color'],this[_0x10de('0xdc')]['wrapS']=THREE[_0x10de('0x36c')],this[_0x10de('0xdc')][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],this[_0x10de('0xdc')][_0x10de('0x2eb')]['y']=0x1,this[_0x10de('0xdc')][_0x10de('0x10c')]=!0x0,this['wallMaterial'][_0x10de('0xcf')]=this[_0x10de('0xdc')];var _0x1fef48=this;this[_0x10de('0x645')]&&(this[_0x10de('0x629')]=new THREE['MeshBasicMaterial']({'color':this['groundColor'],'transparent':!0x0,'depthWrite':!0x1}),this[_0x10de('0x629')][_0x10de('0x40f')]=function(_0x33f9b9){_0x33f9b9['uniforms'][_0x10de('0x419')]={'value':_0x1fef48['alphaTex']},_0x33f9b9['vertexShader']=_0x33f9b9[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x420'),_0x10de('0x646')),_0x33f9b9[_0x10de('0x59')]=_0x33f9b9[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x422'),_0x10de('0x647')),_0x33f9b9[_0x10de('0x5a')]=_0x33f9b9[_0x10de('0x5a')]['replace'](_0x10de('0x3c5'),_0x10de('0x648')),_0x33f9b9[_0x10de('0x5a')]=_0x33f9b9['fragmentShader']['replace'](_0x10de('0x416'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20nvUv).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');});}},{'key':_0x10de('0x500'),'value':function(_0x33f9b9){var _0x1fef48=_0x33f9b9[_0x10de('0x284')],_0x33f9b9=_0x33f9b9[_0x10de('0x62f')],_0x5312e6=_0x1fef48[0x0],_0x865fc5=[],_0x24a93c=!0x0,_0x1dff27=!0x1,_0x215a95=void 0x0;try{for(var _0x464bec,_0x4e1c23=(0x0,_0x2cae92[_0x10de('0x9')])(_0x1fef48);!(_0x24a93c=(_0x464bec=_0x4e1c23['next']())[_0x10de('0x32b')]);_0x24a93c=!0x0){var _0xf4aea5=_0x464bec['value'],_0x56dbd6=_0xf4aea5['x']-_0x5312e6['x'],_0x320f17=_0xf4aea5['y']-_0x5312e6['y'],_0x935c5c=_0xf4aea5['z']-_0x5312e6['z'];_0x865fc5[_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))](_0x56dbd6,_0x320f17,_0x935c5c));}}catch(_0x348e5e){_0x1dff27=!0x0,_0x215a95=_0x348e5e;}finally{try{!_0x24a93c&&_0x4e1c23[_0x10de('0xdf')]&&_0x4e1c23[_0x10de('0xdf')]();}finally{if(_0x1dff27)throw _0x215a95;}}_0x865fc5[_0x10de('0x84')](new THREE[(_0x10de('0x1ca'))]());var _0x1fef48=new THREE[(_0x10de('0x632'))](_0x865fc5,!0x1,'catmullrom',0.01),_0x1dff27=new THREE[(_0x10de('0x649'))](_0x1fef48,this[_0x10de('0x624')][_0x10de('0x634')],this['lineParams'][_0x10de('0x1e8')],this['lineParams'][_0x10de('0x635')],this['lineParams'][_0x10de('0x64a')]),_0x215a95=(_0x1dff27[_0x10de('0x636')](),_0x1dff27[_0x10de('0x64b')][_0x10de('0x64c')]()),_0x1fef48={'x':-_0x5312e6['x']-_0x215a95['x'],'y':_0x5312e6['z']+_0x215a95['z']},_0x215a95=new THREE[(_0x10de('0x348'))](_0x1dff27,this[_0x10de('0x52a')]);return _0x215a95[_0x10de('0x349')]=0x47,_0x215a95[_0x10de('0x62f')]=_0x33f9b9,_0x215a95[_0x10de('0x643')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x1d3')](this[_0x10de('0x52a')][_0x10de('0x232')]),this['groundColor']&&(_0x1dff27=this[_0x10de('0x637')](_0x865fc5,this['groundColor']),_0x215a95[_0x10de('0x1d5')](_0x1dff27)),this[_0x10de('0x368')][_0x10de('0x1d5')](_0x215a95),this[_0x10de('0x52d')]['push']({'id':_0x33f9b9,'mesh':_0x215a95,'center':{'x':_0x1fef48['x'],'y':_0x1fef48['y']}}),_0x215a95;}},{'key':'addGround','value':function(_0x33f9b9){_0x33f9b9=this[_0x10de('0x638')](_0x33f9b9),_0x33f9b9=new THREE[(_0x10de('0x348'))](new THREE[(_0x10de('0x639'))](_0x33f9b9),this[_0x10de('0x629')]);return _0x33f9b9[_0x10de('0x446')](0.5*-Math['PI']),_0x33f9b9[_0x10de('0x222')]['y']=-0x14,_0x33f9b9;}},{'key':_0x10de('0x638'),'value':function(_0x33f9b9){var _0x1fef48=new THREE[(_0x10de('0x63a'))](),_0x5312e6=(_0x1fef48['moveTo'](0x0,0x0),!0x0),_0x865fc5=!0x1,_0x2a48b5=void 0x0;try{for(var _0x35755e,_0x3e5a74=(0x0,_0x2cae92['default'])(_0x33f9b9);!(_0x5312e6=(_0x35755e=_0x3e5a74[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x5312e6=!0x0){var _0x464bec=_0x35755e[_0x10de('0x10')];_0x1fef48[_0x10de('0x63c')](_0x464bec['x'],-_0x464bec['z']);}}catch(_0x1d34c7){_0x865fc5=!0x0,_0x2a48b5=_0x1d34c7;}finally{try{!_0x5312e6&&_0x3e5a74[_0x10de('0xdf')]&&_0x3e5a74['return']();}finally{if(_0x865fc5)throw _0x2a48b5;}}return _0x1fef48;}},{'key':'render','value':function(){this[_0x10de('0x43e')]&&this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]-=this['deltaSpeed'],this['wallMaterial'][_0x10de('0xcf')][_0x10de('0x10a')]['x']=this[_0x10de('0x114')]);}}]),_0x1fef48[_0x10de('0x9')]=_0x4e1c23;},function(_0x12034c,_0x4a5d56,_0x5e04ef){'use strict';Object[_0x10de('0x2')](_0x4a5d56,'__esModule',{'value':!0x0});var _0x274992=_0x4dcb28(_0x5e04ef(0x5)),_0x276187=_0x4dcb28(_0x5e04ef(0x0)),_0x395712=_0x4dcb28(_0x5e04ef(0x1)),_0x1fcf80=_0x4dcb28(_0x5e04ef(0x3d));function _0x4dcb28(_0x12034c){return _0x12034c&&_0x12034c[_0x10de('0x5')]?_0x12034c:{'default':_0x12034c};}function _0x4f6d38(_0x12034c){var _0x4a5d56=_0x12034c['colorStr'],_0x4a5d56=void 0x0===_0x4a5d56?_0x10de('0x365'):_0x4a5d56,_0x5e04ef=_0x12034c[_0x10de('0x366')],_0x5e04ef=void 0x0===_0x5e04ef?_0x10de('0x64d'):_0x5e04ef,_0x395712=_0x12034c[_0x10de('0x1e6')],_0x395712=void 0x0===_0x395712||_0x395712,_0x12034c=_0x12034c['opacity'],_0x12034c=void 0x0===_0x12034c?0.4:_0x12034c;(0x0,_0x276187[_0x10de('0x9')])(this,_0x4f6d38),this[_0x10de('0xd3')]=null,this[_0x10de('0x366')]=_0x5e04ef,this[_0x10de('0x40')]=null,this['lineList']=[],_0x10de('0x64e')!==_0x5e04ef&&(this[_0x10de('0x40')]=new THREE[(_0x10de('0x64f'))]({'color':0xffffff}),this[_0x10de('0x40')]['depthTest']=_0x395712,_0x12034c<0x1&&(this[_0x10de('0x40')]['transparent']=!0x0,this[_0x10de('0x40')]['opacity']=_0x12034c),_0x4a5d56&&(this[_0x10de('0x40')][_0x10de('0x232')]=new THREE['Color']()[_0x10de('0x331')](_0x4a5d56)));}(0x0,_0x395712[_0x10de('0x9')])(_0x4f6d38,[{'key':'createLineFrame','value':function(_0x12034c,_0x4a5d56){this[_0x10de('0xd3')]=_0x12034c;_0x12034c=new THREE[(_0x10de('0x650'))](_0x4a5d56),_0x4a5d56=new THREE['LineSegments'](_0x12034c,this[_0x10de('0x40')]);return _0x4a5d56[_0x10de('0x349')]=0x4f,this[_0x10de('0xd3')][_0x10de('0x1d5')](_0x4a5d56),this[_0x10de('0x651')][_0x10de('0x84')](_0x4a5d56),_0x4a5d56;}},{'key':_0x10de('0xce'),'value':function(){if(this[_0x10de('0xd3')]){var _0x12034c=!0x0,_0x4a5d56=!0x1,_0x5e04ef=void 0x0;try{for(var _0x395712,_0x276187=(0x0,_0x274992['default'])(this[_0x10de('0x651')]);!(_0x12034c=(_0x395712=_0x276187[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x12034c=!0x0){var _0x4dcb28=_0x395712[_0x10de('0x10')];this['parent'][_0x10de('0xd2')](_0x4dcb28),_0x1fcf80[_0x10de('0x9')][_0x10de('0x652')](_0x4dcb28);}}catch(_0x1b86cf){_0x4a5d56=!0x0,_0x5e04ef=_0x1b86cf;}finally{try{!_0x12034c&&_0x276187['return']&&_0x276187[_0x10de('0xdf')]();}finally{if(_0x4a5d56)throw _0x5e04ef;}}this[_0x10de('0x651')]=[];}}}]),_0x4a5d56[_0x10de('0x9')]=_0x4f6d38;},function(_0x56c640,_0x306a18,_0x2708db){'use strict';Object[_0x10de('0x2')](_0x306a18,'__esModule',{'value':!0x0});var _0x181b63=_0x57cef8(_0x2708db(0x0)),_0x3e4c5e=_0x57cef8(_0x2708db(0x1)),_0x3f730f=_0x57cef8(_0x2708db(0x9b));function _0x57cef8(_0x56c640){return _0x56c640&&_0x56c640['__esModule']?_0x56c640:{'default':_0x56c640};}function _0x21336f(_0x56c640){var _0x306a18=_0x56c640[_0x10de('0x32f')],_0x306a18=void 0x0===_0x306a18?'#ffffff':_0x306a18,_0x2708db=_0x56c640[_0x10de('0x230')],_0x56c640=_0x56c640['speed'],_0x56c640=void 0x0===_0x56c640?0x1:_0x56c640;(0x0,_0x181b63[_0x10de('0x9')])(this,_0x21336f),this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x32f')]=_0x306a18,this[_0x10de('0x40')]=null,this[_0x10de('0x40c')]=null,this[_0x10de('0x230')]=_0x2708db||0xc8,this[_0x10de('0x40d')]=null,this[_0x10de('0x114')]=0x0,this[_0x10de('0x363')]=_0x56c640,this[_0x10de('0x32e')](_0x306a18);}(0x0,_0x3e4c5e['default'])(_0x21336f,[{'key':_0x10de('0x32e'),'value':function(){var _0x56c640=_0x3f730f['default'][_0x10de('0x653')]([0.625,0x1]),_0x306a18=new THREE['CanvasTexture'](_0x56c640),_0x2708db=this;this[_0x10de('0x40')]=new THREE[(_0x10de('0x40e'))]({'transparent':!0x0,'opacity':0.5}),this['colorStr']&&this[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](this[_0x10de('0x32f')]),this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x56c640){_0x56c640[_0x10de('0x1b4')]['iTime']={'value':0x0},_0x56c640[_0x10de('0x1b4')][_0x10de('0x411')]={'value':_0x306a18},_0x56c640[_0x10de('0x59')]=_0x56c640[_0x10de('0x59')]['replace'](_0x10de('0x412'),_0x10de('0x654')),_0x56c640['vertexShader']=_0x56c640['vertexShader'][_0x10de('0x57')]('#include\x20<uv_vertex>',_0x10de('0x655')),_0x56c640['fragmentShader']=_0x56c640[_0x10de('0x5a')]['replace'](_0x10de('0x3c5'),_0x10de('0x656')),_0x56c640[_0x10de('0x5a')]=_0x56c640[_0x10de('0x5a')]['replace'](_0x10de('0x416'),_0x10de('0x657')),_0x2708db[_0x10de('0x40d')]=_0x56c640;};}},{'key':_0x10de('0x7a'),'value':function(){var _0x56c640=new THREE[(_0x10de('0x418'))](this[_0x10de('0x230')],this[_0x10de('0x230')]),_0x56c640=new THREE['Mesh'](_0x56c640,this[_0x10de('0x40')]);return _0x56c640[_0x10de('0x1fd')]['x']=0.5*-Math['PI'],_0x56c640[_0x10de('0x1fd')]['z']=0.5*Math['PI'],_0x56c640[_0x10de('0x349')]=0x4e,this['object3d']['add'](_0x56c640),_0x56c640;}},{'key':_0x10de('0x362'),'value':function(_0x56c640){this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]+=_0x56c640*this[_0x10de('0x363')],this['shader'][_0x10de('0x1b4')]['iTime'][_0x10de('0x10')]=this[_0x10de('0x114')]);}},{'key':_0x10de('0x364'),'set':function(_0x56c640){this['object3d'][_0x10de('0x364')]=_0x56c640;},'get':function(){return this['object3d'][_0x10de('0x364')];}}]),_0x306a18[_0x10de('0x9')]=_0x21336f;},function(_0x5d0b7e,_0x3477b9,_0x1148f1){'use strict';Object['defineProperty'](_0x3477b9,_0x10de('0x5'),{'value':!0x0});var _0x2bee92=_0x2a724d(_0x1148f1(0x0)),_0x7e795=_0x2a724d(_0x1148f1(0x1)),_0x4699dd=_0x2a724d(_0x1148f1(0x9b));function _0x2a724d(_0x5d0b7e){return _0x5d0b7e&&_0x5d0b7e['__esModule']?_0x5d0b7e:{'default':_0x5d0b7e};}function _0x1c0211(_0x5d0b7e){var _0x3477b9=_0x5d0b7e['colorStr'],_0x3477b9=void 0x0===_0x3477b9?'#ffffff':_0x3477b9,_0x1148f1=_0x5d0b7e[_0x10de('0x230')],_0x7e795=_0x5d0b7e[_0x10de('0x363')],_0x7e795=void 0x0===_0x7e795?0x1:_0x7e795,_0x4699dd=_0x5d0b7e[_0x10de('0x1fa')],_0x4699dd=void 0x0===_0x4699dd?0x0:_0x4699dd,_0x5d0b7e=_0x5d0b7e[_0x10de('0x519')],_0x5d0b7e=void 0x0===_0x5d0b7e?0x1:_0x5d0b7e;(0x0,_0x2bee92['default'])(this,_0x1c0211),this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),_0x4699dd&&(this[_0x10de('0x368')][_0x10de('0x1fd')]['y']=THREE[_0x10de('0x18')][_0x10de('0x315')](_0x4699dd)),this['colorStr']=_0x3477b9,this[_0x10de('0x40')]=null,this[_0x10de('0x40c')]=null,this[_0x10de('0x230')]=_0x1148f1||0xc8,this[_0x10de('0x40d')]=null,this[_0x10de('0x114')]=0x0,this[_0x10de('0x363')]=_0x7e795,this[_0x10de('0x519')]=0x1/_0x5d0b7e,this[_0x10de('0x32e')](_0x3477b9);}(0x0,_0x7e795[_0x10de('0x9')])(_0x1c0211,[{'key':'createMaterial','value':function(){var _0x5d0b7e=_0x4699dd['default']['createCircleGradient']([0.625,0x1]),_0x3477b9=new THREE[(_0x10de('0x658'))](_0x5d0b7e),_0x1148f1=this;this['material']=new THREE[(_0x10de('0x40e'))]({'transparent':!0x0,'opacity':0.5}),this[_0x10de('0x32f')]&&this[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](this[_0x10de('0x32f')]),this['material'][_0x10de('0x40f')]=function(_0x5d0b7e){_0x5d0b7e[_0x10de('0x1b4')][_0x10de('0x411')]={'value':_0x3477b9},_0x5d0b7e[_0x10de('0x1b4')][_0x10de('0x410')]={'value':0x0},_0x5d0b7e[_0x10de('0x1b4')][_0x10de('0x519')]={'value':_0x1148f1[_0x10de('0x519')]},_0x5d0b7e[_0x10de('0x59')]=_0x5d0b7e[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x412'),_0x10de('0x654')),_0x5d0b7e[_0x10de('0x59')]=_0x5d0b7e['vertexShader'][_0x10de('0x57')]('#include\x20<uv_vertex>',_0x10de('0x655')),_0x5d0b7e[_0x10de('0x5a')]=_0x5d0b7e[_0x10de('0x5a')]['replace'](_0x10de('0x3c5'),_0x10de('0x659')),_0x5d0b7e[_0x10de('0x5a')]=_0x5d0b7e['fragmentShader']['replace'](_0x10de('0x416'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uv\x20+=\x20iMouse.xy\x20/\x2020.;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20iTime\x20/\x2040.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv2\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv2.x\x20+=\x20iTime\x20/\x2010.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv3\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv3.x\x20+=\x20iTime\x20/\x2030.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20noiseSmooth(uv\x20*\x204.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv\x20*\x208.)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv2\x20*\x2016.)\x20*\x200.25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2032.)\x20*\x200.125;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2064.)\x20*\x200.0625;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20/=\x201.2;\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20*=\x20smoothstep(0.2,\x20.6,\x20col);\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1148f1[_0x10de('0x40d')]=_0x5d0b7e;};}},{'key':_0x10de('0x7a'),'value':function(){var _0x5d0b7e=new THREE[(_0x10de('0x418'))](this['radius'],this[_0x10de('0x230')]),_0x5d0b7e=new THREE[(_0x10de('0x348'))](_0x5d0b7e,this[_0x10de('0x40')]);return _0x5d0b7e[_0x10de('0x1fd')]['x']=0.5*-Math['PI'],_0x5d0b7e[_0x10de('0x1fd')]['z']=0.5*Math['PI'],_0x5d0b7e[_0x10de('0x349')]=0x4e,this[_0x10de('0x368')]['add'](_0x5d0b7e),_0x5d0b7e;}},{'key':_0x10de('0x362'),'value':function(_0x5d0b7e){this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]+=_0x5d0b7e*this[_0x10de('0x363')],this['shader'][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')]);}},{'key':'visible','set':function(_0x5d0b7e){this[_0x10de('0x368')]['visible']=_0x5d0b7e;},'get':function(){return this[_0x10de('0x368')][_0x10de('0x364')];}}]),_0x3477b9['default']=_0x1c0211;},function(_0x410131,_0x157bb8,_0x2b3c40){'use strict';Object[_0x10de('0x2')](_0x157bb8,_0x10de('0x5'),{'value':!0x0});var _0x5c0be2=_0x2c4031(_0x2b3c40(0x0)),_0x4b4aba=_0x2c4031(_0x2b3c40(0x1));function _0x2c4031(_0x410131){return _0x410131&&_0x410131[_0x10de('0x5')]?_0x410131:{'default':_0x410131};}function _0x35fa73(){(0x0,_0x5c0be2[_0x10de('0x9')])(this,_0x35fa73),this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))]();}_0x2c4031(_0x2b3c40(0x9b)),(0x0,_0x4b4aba[_0x10de('0x9')])(_0x35fa73,[{'key':_0x10de('0x32e'),'value':function(_0x157bb8,_0x410131){_0x157bb8[_0x10de('0x65a')]=!0x1,_0x410131[_0x10de('0x65a')]=!0x1;_0x410131=new THREE['MeshStandardMaterial']({'transparent':!0x0,'normalMap':_0x410131,'roughness':0x1,'matalness':0x0});return _0x410131[_0x10de('0x40f')]=function(_0x410131){_0x410131['uniforms'][_0x10de('0x65b')]={'value':_0x157bb8},_0x410131['vertexShader']=_0x410131[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x410131[_0x10de('0x59')]=_0x410131['vertexShader'][_0x10de('0x57')]('#include\x20<uv_vertex>',_0x10de('0x655')),_0x410131[_0x10de('0x5a')]=_0x410131['fragmentShader'][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x65c')),_0x410131[_0x10de('0x5a')]=_0x410131[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x65d'),_0x10de('0x65e')),_0x410131['fragmentShader']=_0x410131[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x65f'));},_0x410131;}},{'key':'create','value':function(_0x410131){var _0x157bb8=_0x410131[_0x10de('0x65b')],_0x2b3c40=_0x410131[_0x10de('0x660')],_0x5c0be2=_0x410131[_0x10de('0x35d')],_0x410131=_0x410131['height'],_0x157bb8=this['createMaterial'](_0x157bb8,_0x2b3c40),_0x2b3c40=new THREE['PlaneBufferGeometry'](_0x5c0be2,_0x410131),_0x2b3c40=new THREE['Mesh'](_0x2b3c40,_0x157bb8);return _0x2b3c40[_0x10de('0x1fd')]['x']=0.5*-Math['PI'],_0x2b3c40[_0x10de('0x222')][_0x10de('0x1e')](_0x5c0be2/0x2,0x0,_0x410131/0x2),this[_0x10de('0x368')][_0x10de('0x1d5')](_0x2b3c40),_0x2b3c40;}},{'key':_0x10de('0x364'),'set':function(_0x410131){this[_0x10de('0x368')][_0x10de('0x364')]=_0x410131;},'get':function(){return this[_0x10de('0x368')]['visible'];}}]),_0x157bb8[_0x10de('0x9')]=_0x35fa73;},function(_0x35f1af,_0x4ed56e,_0x3556b1){'use strict';Object[_0x10de('0x2')](_0x4ed56e,_0x10de('0x5'),{'value':!0x0});var _0x36e872=_0x13130e(_0x3556b1(0x1b)),_0x52dd1a=_0x13130e(_0x3556b1(0x0)),_0x40298d=_0x13130e(_0x3556b1(0x1)),_0x2f0605=_0x13130e(_0x3556b1(0x1e)),_0x56cd7c=_0x13130e(_0x3556b1(0x1f));function _0x13130e(_0x35f1af){return _0x35f1af&&_0x35f1af[_0x10de('0x5')]?_0x35f1af:{'default':_0x35f1af};}function _0x28e4a0(_0x35f1af){var _0x4ed56e=_0x35f1af[_0x10de('0x32f')],_0x4ed56e=void 0x0===_0x4ed56e?_0x10de('0x44a'):_0x4ed56e,_0x3556b1=_0x35f1af['radius'],_0x40298d=_0x35f1af[_0x10de('0x363')],_0x40298d=void 0x0===_0x40298d?0x1:_0x40298d,_0x35f1af=_0x35f1af[_0x10de('0x661')],_0x35f1af=void 0x0===_0x35f1af?0x32:_0x35f1af,_0x56cd7c=((0x0,_0x52dd1a[_0x10de('0x9')])(this,_0x28e4a0),(0x0,_0x2f0605['default'])(this,(_0x28e4a0[_0x10de('0x6d')]||(0x0,_0x36e872[_0x10de('0x9')])(_0x28e4a0))[_0x10de('0x0')](this)));return _0x56cd7c[_0x10de('0x32f')]=_0x4ed56e,_0x56cd7c[_0x10de('0x40')]=null,_0x56cd7c['radius']=_0x3556b1||0xc8,_0x56cd7c[_0x10de('0x40d')]=null,_0x56cd7c[_0x10de('0x114')]=0x0,_0x56cd7c[_0x10de('0x363')]=_0x40298d,_0x56cd7c[_0x10de('0x661')]=_0x35f1af,_0x56cd7c;}_0x3556b1=_0x3556b1(0x2a)[_0x10de('0x82')],(0x0,_0x56cd7c[_0x10de('0x9')])(_0x28e4a0,_0x3556b1),(0x0,_0x40298d['default'])(_0x28e4a0,[{'key':'computeRainFallFactor','value':function(_0x35f1af){return 0.84/_0x35f1af*0x168;}},{'key':_0x10de('0x32e'),'value':function(){var _0x4ed56e=this,_0x3556b1=(this[_0x10de('0x40')]=new THREE['MeshBasicMaterial']({'transparent':!0x0,'opacity':0.5}),this[_0x10de('0x32f')]&&this[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](this[_0x10de('0x32f')]),this[_0x10de('0x662')](this[_0x10de('0x661')]));return this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x35f1af){_0x35f1af[_0x10de('0x1b4')][_0x10de('0x410')]={'value':0x0},_0x35f1af[_0x10de('0x1b4')]['rFall']={'value':_0x3556b1},_0x35f1af['vertexShader']=_0x35f1af[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x412'),_0x10de('0x654')),_0x35f1af[_0x10de('0x59')]=_0x35f1af['vertexShader']['replace'](_0x10de('0x414'),_0x10de('0x655')),_0x35f1af[_0x10de('0x5a')]=_0x35f1af[_0x10de('0x5a')][_0x10de('0x57')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uniform\x20vec4\x20iDate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rFall;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x35f1af[_0x10de('0x5a')]=_0x35f1af['fragmentShader']['replace']('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x10de('0x663')),_0x4ed56e[_0x10de('0x40d')]=_0x35f1af,_0x4ed56e['dispatchEvent']({'type':'canUpdate'});},this[_0x10de('0x40')];}},{'key':_0x10de('0x31d'),'value':function(_0x35f1af){_0x35f1af[_0x10de('0x232')]&&this[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](_0x35f1af[_0x10de('0x232')]),_0x35f1af[_0x10de('0x661')]&&_0x10de('0x13')==typeof _0x35f1af[_0x10de('0x661')]&&this[_0x10de('0x40d')]&&(this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x664')][_0x10de('0x10')]=this['computeRainFallFactor'](_0x35f1af[_0x10de('0x661')]));}},{'key':'render','value':function(_0x35f1af){this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]+=_0x35f1af*this[_0x10de('0x363')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this['count']);}}]),_0x4ed56e[_0x10de('0x9')]=_0x28e4a0;},function(_0x496aff,_0x66897a,_0x1d2557){'use strict';Object[_0x10de('0x2')](_0x66897a,_0x10de('0x5'),{'value':!0x0});var _0x57788c=_0x39df50(_0x1d2557(0x1b)),_0x1ff567=_0x39df50(_0x1d2557(0x0)),_0x155f54=_0x39df50(_0x1d2557(0x1)),_0x1e93a9=_0x39df50(_0x1d2557(0x1e)),_0x2713e8=_0x39df50(_0x1d2557(0x1f));function _0x39df50(_0x496aff){return _0x496aff&&_0x496aff[_0x10de('0x5')]?_0x496aff:{'default':_0x496aff};}function _0x5e65d0(_0x496aff){var _0x66897a=_0x496aff[_0x10de('0x32f')],_0x66897a=void 0x0===_0x66897a?_0x10de('0x44a'):_0x66897a,_0x1d2557=_0x496aff[_0x10de('0x230')],_0x155f54=_0x496aff[_0x10de('0x363')],_0x155f54=void 0x0===_0x155f54?0x1:_0x155f54,_0x496aff=_0x496aff[_0x10de('0x665')],_0x496aff=void 0x0===_0x496aff?0x3:_0x496aff,_0x2713e8=((0x0,_0x1ff567[_0x10de('0x9')])(this,_0x5e65d0),(0x0,_0x1e93a9[_0x10de('0x9')])(this,(_0x5e65d0[_0x10de('0x6d')]||(0x0,_0x57788c[_0x10de('0x9')])(_0x5e65d0))[_0x10de('0x0')](this)));return _0x2713e8['colorStr']=_0x66897a,_0x2713e8[_0x10de('0x40')]=null,_0x2713e8['radius']=_0x1d2557||0xc8,_0x2713e8['shader']=null,_0x2713e8[_0x10de('0x114')]=0x0,_0x2713e8['speed']=_0x155f54,_0x2713e8[_0x10de('0x665')]=_0x496aff,_0x2713e8;}_0x1d2557=_0x1d2557(0x2a)[_0x10de('0x82')],(0x0,_0x2713e8['default'])(_0x5e65d0,_0x1d2557),(0x0,_0x155f54[_0x10de('0x9')])(_0x5e65d0,[{'key':_0x10de('0x666'),'value':function(_0x496aff){return{'density':Math[_0x10de('0x7d')](0xf*_0x496aff),'depth':0.5/_0x496aff,'sway':0.3*_0x496aff,'speed':0.7*_0x496aff};}},{'key':_0x10de('0x32e'),'value':function(){var _0x66897a=this,_0x1d2557=(this[_0x10de('0x40')]=new THREE[(_0x10de('0x40e'))]({'transparent':!0x0}),this[_0x10de('0x32f')]&&this[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](this[_0x10de('0x32f')]),this[_0x10de('0x666')](this[_0x10de('0x665')]));return this[_0x10de('0x363')]=_0x1d2557['speed'],this[_0x10de('0x40')]['onBeforeCompile']=function(_0x496aff){_0x496aff['uniforms'][_0x10de('0x410')]={'value':0x0},_0x496aff['uniforms'][_0x10de('0x667')]={'value':_0x1d2557[_0x10de('0x667')]},_0x496aff[_0x10de('0x1b4')][_0x10de('0x668')]={'value':_0x1d2557[_0x10de('0x668')]},_0x496aff[_0x10de('0x1b4')]['sway']={'value':_0x1d2557['sway']},_0x496aff[_0x10de('0x59')]=_0x496aff[_0x10de('0x59')]['replace'](_0x10de('0x412'),_0x10de('0x654')),_0x496aff['vertexShader']=_0x496aff[_0x10de('0x59')]['replace'](_0x10de('0x414'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x496aff[_0x10de('0x5a')]=_0x496aff[_0x10de('0x5a')]['replace'](_0x10de('0x3c5'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20density;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20depth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sway;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20mat3\x20p\x20=\x20mat3(13.323122,23.5112,21.71123,21.1212,28.7312,11.9312,21.8112,14.7212,61.3934);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x496aff[_0x10de('0x5a')]=_0x496aff[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20acc\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dof\x20=\x205.*sin(iTime*.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i=0;\x20i<density;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fi\x20=\x20float(i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20q\x20=\x20uv*(1.+fi*depth)*40.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20q\x20+=\x20vec2(q.y*(sway*mod(fi*7.238917,1.)-sway*.5),\x20iTime/(1.+fi*depth*.03));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20vec3(floor(q),31.189+fi);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20m\x20=\x20floor(n)*.00001\x20+\x20fract(n);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mp\x20=\x20(31415.9+m)/fract(p*m);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20fract(mp);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20s\x20=\x20abs(mod(q,1.)-.5+.9*r.xy-.45);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s\x20+=\x20.01*abs(2.*fract(10.*q.yx)-1.);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x20.6*max(s.x-s.y,s.x+s.y)+max(s.x,s.y)-.01;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20edge\x20=\x20.005+.05*min(.5*abs(fi-5.-dof),1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20acc\x20+=\x20vec3(smoothstep(edge,-edge,d)*(r.x/(1.+.02*fi*depth)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20acc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20acc.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x2020.0;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x66897a['shader']=_0x496aff,_0x66897a[_0x10de('0x2ef')]({'type':'canUpdate'});},this[_0x10de('0x40')];}},{'key':_0x10de('0x31d'),'value':function(_0x496aff){_0x496aff['color']&&this[_0x10de('0x40')][_0x10de('0x232')]['setStyle'](_0x496aff[_0x10de('0x232')]),_0x496aff[_0x10de('0x665')]&&_0x10de('0x13')==typeof _0x496aff[_0x10de('0x665')]&&(_0x496aff=this[_0x10de('0x666')](_0x496aff[_0x10de('0x665')]),this['shader']&&(this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x667')][_0x10de('0x10')]=_0x496aff[_0x10de('0x667')]),this['shader']&&(this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x668')][_0x10de('0x10')]=_0x496aff[_0x10de('0x668')]),this[_0x10de('0x40d')]&&(this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x669')][_0x10de('0x10')]=_0x496aff[_0x10de('0x669')]));}},{'key':_0x10de('0x362'),'value':function(_0x496aff){this['shader']&&(this[_0x10de('0x114')]+=_0x496aff*this[_0x10de('0x363')],this['shader'][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')]);}}]),_0x66897a[_0x10de('0x9')]=_0x5e65d0;},function(_0x1a89f6,_0xaf8963,_0x22a110){'use strict';Object[_0x10de('0x2')](_0xaf8963,_0x10de('0x5'),{'value':!0x0});var _0x4430ed=_0x258438(_0x22a110(0x0)),_0x1187e6=_0x258438(_0x22a110(0x1)),_0x4902c2=_0x258438(_0x22a110(0x47));function _0x258438(_0x1a89f6){return _0x1a89f6&&_0x1a89f6[_0x10de('0x5')]?_0x1a89f6:{'default':_0x1a89f6};}function _0x4763bf(_0x1a89f6){_0x1a89f6=_0x1a89f6[_0x10de('0x1e8')],_0x1a89f6=void 0x0===_0x1a89f6?0xa:_0x1a89f6;(0x0,_0x4430ed[_0x10de('0x9')])(this,_0x4763bf),this[_0x10de('0x43e')]=!0x1,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x1e8')]=_0x1a89f6,this[_0x10de('0x432')]=null,this['smokeParticle']=null,this[_0x10de('0x435')]=null,this[_0x10de('0x43d')]=null,this[_0x10de('0x440')]=!0x0;}(0x0,_0x1187e6[_0x10de('0x9')])(_0x4763bf,[{'key':_0x10de('0x7a'),'value':function(_0x1a89f6){var _0xaf8963=_0x1a89f6[_0x10de('0x66a')],_0x22a110=_0x1a89f6[_0x10de('0x479')],_0x22a110=void 0x0===_0x22a110?0x1:_0x22a110,_0x4430ed=_0x1a89f6['spread'],_0x4430ed=void 0x0===_0x4430ed?0x1:_0x4430ed,_0x1a89f6=_0x1a89f6[_0x10de('0x437')]?0x4:0x1;this[_0x10de('0x43d')]=new THREE['Group'](),this[_0x10de('0x66b')]=new _0x4902c2[(_0x10de('0x9'))][(_0x10de('0x1d7'))]({'texture':{'value':_0xaf8963},'transparent':!0x0,'blending':THREE[_0x10de('0x439')],'maxParticleCount':0x14*_0x1a89f6*_0x22a110}),this['smokeEmitter']=new _0x4902c2['default']['Emitter']({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x10de('0x1ca'))](0x0,0x0,0x0),'spread':new THREE['Vector3'](+_0x4430ed,0x1,0x1)},'velocity':{'value':new THREE['Vector3'](0x0,0x1,0x0),'spread':new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1)},'color':{'value':[new THREE['Color'](0xeeeeee)]},'size':{'value':[0xf*this['scale']]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0xa*_0x1a89f6*_0x22a110}),this[_0x10de('0x66b')][_0x10de('0x40')]['uniforms']['fogColor']['value']=new THREE[(_0x10de('0x1cc'))](),this[_0x10de('0x66b')][_0x10de('0x204')](this[_0x10de('0x66c')]),this[_0x10de('0x66b')][_0x10de('0x1f6')][_0x10de('0x1e8')]['set'](this[_0x10de('0x1e8')],this[_0x10de('0x1e8')],this[_0x10de('0x1e8')]),this[_0x10de('0x43d')]['add'](this[_0x10de('0x66b')][_0x10de('0x1f6')]),this['centerGroup']['renderOrder']=0xb,this['object3d'][_0x10de('0x1d5')](this[_0x10de('0x43d')]),this['enabled']=!0x0;}},{'key':_0x10de('0x362'),'value':function(_0x1a89f6){this[_0x10de('0x43e')]&&this['smokeParticle']&&this['smokeParticle'][_0x10de('0x22b')](_0x1a89f6);}},{'key':_0x10de('0x43f'),'value':function(_0x1a89f6){(0x64<_0x1a89f6||_0x1a89f6<0x0)&&(_0x1a89f6=0x64);_0x1a89f6=Math[_0x10de('0x1d1')](0x64*(0x1-_0x1a89f6/0x64))/0x64;this[_0x10de('0x66c')][_0x10de('0x271')]=_0x1a89f6;}},{'key':_0x10de('0x364'),'set':function(_0x1a89f6){this[_0x10de('0x440')]=_0x1a89f6,this[_0x10de('0x43d')][_0x10de('0x364')]=_0x1a89f6;}}]),_0xaf8963[_0x10de('0x9')]=_0x4763bf;},function(_0x42927f,_0xc00b7f,_0x585361){'use strict';Object[_0x10de('0x2')](_0xc00b7f,_0x10de('0x5'),{'value':!0x0});var _0xd0b8ef=_0x27d778(_0x585361(0x0)),_0x34e80e=_0x27d778(_0x585361(0x1)),_0x5584ec=_0x27d778(_0x585361(0x47)),_0x4468ca=_0x585361(0x13);function _0x27d778(_0x42927f){return _0x42927f&&_0x42927f[_0x10de('0x5')]?_0x42927f:{'default':_0x42927f};}function _0x4b79dc(_0x42927f){_0x42927f=_0x42927f[_0x10de('0x1e8')],_0x42927f=void 0x0===_0x42927f?0x1:_0x42927f;(0x0,_0xd0b8ef[_0x10de('0x9')])(this,_0x4b79dc),this[_0x10de('0x43e')]=!0x1,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x1e8')]=_0x42927f,this[_0x10de('0x432')]=null,this[_0x10de('0x66b')]=null,this[_0x10de('0x435')]=null,this[_0x10de('0x43d')]=null,this[_0x10de('0x440')]=!0x0;}(0x0,_0x34e80e[_0x10de('0x9')])(_0x4b79dc,[{'key':_0x10de('0x7a'),'value':function(_0x42927f){var _0xc00b7f=_0x42927f[_0x10de('0x66a')],_0x585361=_0x42927f[_0x10de('0x479')],_0x585361=void 0x0===_0x585361?0x1:_0x585361,_0xd0b8ef=_0x42927f[_0x10de('0x1fb')],_0xd0b8ef=void 0x0===_0xd0b8ef?0x1:_0xd0b8ef,_0x34e80e=_0x42927f[_0x10de('0x437')],_0x27d778=_0x42927f['vectorSpread'],_0x42927f=_0x42927f[_0x10de('0x1e6')],_0x42927f=void 0x0!==_0x42927f&&_0x42927f,_0x34e80e=_0x34e80e?0x4:0x1,_0x4b79dc=(this['centerGroup']=new THREE[(_0x10de('0x1d7'))](),new THREE[(_0x10de('0x1ca'))]());_0x27d778&&(_0x4b79dc=(0x0,_0x4468ca[_0x10de('0x28')])(_0x27d778['pitchAngle'],_0x27d778[_0x10de('0x311')]))[_0x10de('0x1d6')](_0xd0b8ef),this[_0x10de('0x66b')]=new _0x5584ec['default'][(_0x10de('0x1d7'))]({'texture':{'value':_0xc00b7f},'depthTest':_0x42927f,'depthWrite':!0x1,'transparent':!0x0,'blending':THREE[_0x10de('0x439')],'maxParticleCount':0x64*_0x34e80e*_0x585361}),this[_0x10de('0x66c')]=new _0x5584ec[(_0x10de('0x9'))][(_0x10de('0x216'))]({'maxAge':{'value':1.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE['Vector3'](0x1,0x1,0x1)},'acceleration':{'value':_0x4b79dc,'spread':new THREE['Vector3'](0x1,0x1,0x1)},'velocity':{'value':_0x4b79dc,'spread':new THREE['Vector3'](0x1,0x1,0x1)},'color':{'value':[new THREE['Color'](0xeeeeee)]},'size':{'value':[0x0,0x2*this[_0x10de('0x1e8')],0x4*this[_0x10de('0x1e8')],0x8*this[_0x10de('0x1e8')],0xf*this[_0x10de('0x1e8')]]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0x64*_0x34e80e*_0x585361}),this[_0x10de('0x66b')]['material'][_0x10de('0x1b4')][_0x10de('0x43b')][_0x10de('0x10')]=new THREE['Color'](),this['smokeParticle'][_0x10de('0x204')](this[_0x10de('0x66c')]),this[_0x10de('0x66b')][_0x10de('0x1f6')][_0x10de('0x1e8')]['set'](this[_0x10de('0x1e8')],this[_0x10de('0x1e8')],this[_0x10de('0x1e8')]),this[_0x10de('0x66b')][_0x10de('0x1f6')][_0x10de('0x349')]=0x64,this[_0x10de('0x43d')]['add'](this[_0x10de('0x66b')][_0x10de('0x1f6')]),this[_0x10de('0x368')][_0x10de('0x1d5')](this['centerGroup']),this[_0x10de('0x43e')]=!0x0;}},{'key':_0x10de('0x362'),'value':function(_0x42927f){this[_0x10de('0x43e')]&&this[_0x10de('0x66b')]&&this[_0x10de('0x66b')]['tick'](_0x42927f);}},{'key':_0x10de('0x43f'),'value':function(_0x42927f){(0x64<_0x42927f||_0x42927f<0x0)&&(_0x42927f=0x64);_0x42927f=Math['round'](0x64*(0x1-_0x42927f/0x64))/0x64;this[_0x10de('0x66c')][_0x10de('0x271')]=_0x42927f;}},{'key':_0x10de('0x364'),'set':function(_0x42927f){this[_0x10de('0x440')]=_0x42927f,this[_0x10de('0x43d')][_0x10de('0x364')]=_0x42927f;}}]),_0xc00b7f[_0x10de('0x9')]=_0x4b79dc;},function(_0x5dbbbc,_0x180ee8,_0x36ab7b){'use strict';Object[_0x10de('0x2')](_0x180ee8,_0x10de('0x5'),{'value':!0x0});var _0x27afea=_0x43c64e(_0x36ab7b(0x0)),_0x5bad5f=_0x43c64e(_0x36ab7b(0x1)),_0x5f1abd=_0x43c64e(_0x36ab7b(0x47));function _0x43c64e(_0x5dbbbc){return _0x5dbbbc&&_0x5dbbbc['__esModule']?_0x5dbbbc:{'default':_0x5dbbbc};}function _0x23dddb(_0x5dbbbc){_0x5dbbbc=_0x5dbbbc[_0x10de('0x1e8')],_0x5dbbbc=void 0x0===_0x5dbbbc?0xa:_0x5dbbbc;(0x0,_0x27afea[_0x10de('0x9')])(this,_0x23dddb),this['enabled']=!0x1,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x1e8')]=_0x5dbbbc,this[_0x10de('0x432')]=null,this[_0x10de('0x434')]=null,this[_0x10de('0x435')]=null,this[_0x10de('0x43d')]=null,this[_0x10de('0x440')]=!0x0;}(0x0,_0x5bad5f[_0x10de('0x9')])(_0x23dddb,[{'key':_0x10de('0x7a'),'value':function(_0x5dbbbc){var _0x180ee8=_0x5dbbbc['tex'],_0x5dbbbc=_0x5dbbbc[_0x10de('0x437')]?0x4:0x1;this['centerGroup']=new THREE[(_0x10de('0x1d7'))](),this[_0x10de('0x434')]=new _0x5f1abd[(_0x10de('0x9'))][(_0x10de('0x1d7'))]({'texture':{'value':_0x180ee8},'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x10de('0x1e3')],'maxParticleCount':0x32*_0x5dbbbc}),this[_0x10de('0x43c')]=new _0x5f1abd[(_0x10de('0x9'))][(_0x10de('0x216'))]({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x10de('0x1ca'))](0x0,0x0,0x0),'spread':new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1)},'acceleration':{'value':new THREE['Vector3'](0x0,0x5,0x0),'spread':new THREE[(_0x10de('0x1ca'))](0x0,0x0,0x0)},'velocity':{'value':new THREE[(_0x10de('0x1ca'))](0x0,-0x5,0x0),'spread':new THREE['Vector3'](0.5,0x1,0.5)},'color':{'value':[new THREE[(_0x10de('0x1cc'))](0xff00)]},'size':{'value':[0xf*this['scale']]},'opacity':{'value':[0x0,0.8,0x1,0.8,0x0]},'particleCount':0x32*_0x5dbbbc}),this[_0x10de('0x434')][_0x10de('0x40')][_0x10de('0x1b4')][_0x10de('0x43b')]['value']=new THREE[(_0x10de('0x1cc'))](),this['fireParticle'][_0x10de('0x204')](this['fireEmitter']),this[_0x10de('0x434')]['mesh'][_0x10de('0x1e8')]['set'](this[_0x10de('0x1e8')],this[_0x10de('0x1e8')],this[_0x10de('0x1e8')]),this['centerGroup'][_0x10de('0x1d5')](this[_0x10de('0x434')][_0x10de('0x1f6')]),this[_0x10de('0x43d')][_0x10de('0x349')]=0xb,this[_0x10de('0x368')][_0x10de('0x1d5')](this['centerGroup']),this[_0x10de('0x43e')]=!0x0;}},{'key':'render','value':function(_0x5dbbbc){this[_0x10de('0x43e')]&&this['fireParticle']&&this[_0x10de('0x434')][_0x10de('0x22b')](_0x5dbbbc);}},{'key':_0x10de('0x43f'),'value':function(_0x5dbbbc){(0x64<_0x5dbbbc||_0x5dbbbc<0x0)&&(_0x5dbbbc=0x64);_0x5dbbbc=Math[_0x10de('0x1d1')](0x64*(0x1-_0x5dbbbc/0x64))/0x64;this['fireEmitter'][_0x10de('0x271')]=_0x5dbbbc;}},{'key':_0x10de('0x364'),'set':function(_0x5dbbbc){this[_0x10de('0x440')]=_0x5dbbbc,this[_0x10de('0x43d')][_0x10de('0x364')]=_0x5dbbbc;}}]),_0x180ee8[_0x10de('0x9')]=_0x23dddb;},function(_0x593d04,_0x24f946,_0x3d09ee){'use strict';Object[_0x10de('0x2')](_0x24f946,'__esModule',{'value':!0x0});var _0x5c9de9=_0x9d7e72(_0x3d09ee(0x0)),_0x132f95=_0x9d7e72(_0x3d09ee(0x1)),_0x199862=_0x9d7e72(_0x3d09ee(0x47));function _0x9d7e72(_0x593d04){return _0x593d04&&_0x593d04[_0x10de('0x5')]?_0x593d04:{'default':_0x593d04};}function _0x4b2bed(_0x593d04){_0x593d04=_0x593d04[_0x10de('0x1e8')],_0x593d04=void 0x0===_0x593d04?0x1:_0x593d04;(0x0,_0x5c9de9['default'])(this,_0x4b2bed),this[_0x10de('0x43e')]=!0x1,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x1e8')]=_0x593d04,this[_0x10de('0x432')]=null,this[_0x10de('0x66d')]=null,this[_0x10de('0x435')]=null,this['centerGroup']=null,this['_visible']=!0x0;}(0x0,_0x132f95[_0x10de('0x9')])(_0x4b2bed,[{'key':_0x10de('0x7a'),'value':function(_0x593d04){var _0x24f946=_0x593d04[_0x10de('0xdc')],_0x3d09ee=_0x593d04['spread'],_0x3d09ee=void 0x0===_0x3d09ee?0x14:_0x3d09ee,_0x5c9de9=_0x593d04['extentHeight'],_0x5c9de9=void 0x0===_0x5c9de9?0xa:_0x5c9de9,_0x132f95=_0x593d04['speed'],_0x132f95=void 0x0===_0x132f95?0x1:_0x132f95,_0x9d7e72=_0x593d04[_0x10de('0x50c')],_0x9d7e72=void 0x0!==_0x9d7e72&&_0x9d7e72,_0x4b2bed=_0x593d04[_0x10de('0x232')],_0x4b2bed=void 0x0===_0x4b2bed?'#ffffff':_0x4b2bed,_0x3074c6=_0x593d04[_0x10de('0x50b')],_0x3074c6=void 0x0===_0x3074c6?0x14:_0x3074c6,_0x5b111c=_0x593d04[_0x10de('0x66e')],_0x5b111c=void 0x0!==_0x5b111c&&_0x5b111c,_0x593d04=_0x593d04[_0x10de('0x4e8')],_0x593d04=void 0x0!==_0x593d04&&_0x593d04;this[_0x10de('0x43d')]=new THREE[(_0x10de('0x1d7'))](),this[_0x10de('0x66d')]=new _0x199862[(_0x10de('0x9'))][(_0x10de('0x1d7'))]({'texture':{'value':_0x24f946},'hasPerspective':!_0x9d7e72,'transparent':!0x0,'blending':_0x593d04?THREE[_0x10de('0x1e3')]:THREE[_0x10de('0x439')],'depthWrite':!0x1,'maxParticleCount':0x2*_0x3074c6}),this[_0x10de('0x66c')]=new _0x199862[(_0x10de('0x9'))][(_0x10de('0x216'))]({'maxAge':{'value':0x3},'position':{'value':new THREE['Vector3'](0x0,0.5*_0x5c9de9,0x0),'spread':new THREE[(_0x10de('0x1ca'))](+_0x3d09ee,_0x5c9de9,+_0x3d09ee),'randomise':!0x0},'velocity':{'value':new THREE[(_0x10de('0x1ca'))](0x0,0x2*_0x132f95,0x0),'spread':new THREE[(_0x10de('0x1ca'))](0x0,0x0,0x0)},'color':{'value':[new THREE['Color']()[_0x10de('0x331')](_0x4b2bed)],'spread':_0x5b111c?new THREE[(_0x10de('0x1ca'))](0x0,0.5,0x0):null},'size':{'value':[0x6*this[_0x10de('0x1e8')]],'spread':0x1e,'randomise':!0x0},'opacity':{'value':[0x0,0.3,0x1,0.5,0x0]},'angle':{'value':0x5a},'particleCount':_0x3074c6}),this[_0x10de('0x66d')][_0x10de('0x40')][_0x10de('0x1b4')][_0x10de('0x43b')]['value']=new THREE[(_0x10de('0x1cc'))](),this[_0x10de('0x66d')][_0x10de('0x204')](this[_0x10de('0x66c')]),this[_0x10de('0x43d')][_0x10de('0x1d5')](this[_0x10de('0x66d')][_0x10de('0x1f6')]),this[_0x10de('0x368')][_0x10de('0x1d5')](this[_0x10de('0x43d')]),this['enabled']=!0x0;}},{'key':_0x10de('0x362'),'value':function(_0x593d04){this[_0x10de('0x43e')]&&this[_0x10de('0x66d')]&&this[_0x10de('0x66d')]['tick'](_0x593d04);}},{'key':_0x10de('0x364'),'set':function(_0x593d04){this[_0x10de('0x440')]=_0x593d04,this['centerGroup'][_0x10de('0x364')]=_0x593d04;}}]),_0x24f946[_0x10de('0x9')]=_0x4b2bed;},function(_0x39ccc8,_0x2b4960,_0x573d3d){'use strict';Object[_0x10de('0x2')](_0x2b4960,'__esModule',{'value':!0x0});var _0x222e41=_0x635479(_0x573d3d(0x5)),_0xa53e0f=_0x635479(_0x573d3d(0x0)),_0x3b800b=_0x635479(_0x573d3d(0x1)),_0x3a188e=_0x635479(_0x573d3d(0x47));function _0x635479(_0x39ccc8){return _0x39ccc8&&_0x39ccc8['__esModule']?_0x39ccc8:{'default':_0x39ccc8};}function _0x3083d9(_0x39ccc8){var _0x2b4960=_0x39ccc8[_0x10de('0x1e8')],_0x2b4960=void 0x0===_0x2b4960?0x2:_0x2b4960,_0x39ccc8=_0x39ccc8[_0x10de('0x20a')],_0x39ccc8=void 0x0===_0x39ccc8?0x2:_0x39ccc8;(0x0,_0xa53e0f[_0x10de('0x9')])(this,_0x3083d9),this[_0x10de('0x43e')]=!0x1,this['object3d']=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x1e8')]=_0x2b4960,this[_0x10de('0x20a')]=_0x39ccc8,this['shaderParticleEngine']=null,this['particle']=null,this['shockwaveParticle']=null,this[_0x10de('0x435')]=null,this[_0x10de('0x43d')]=null,this[_0x10de('0x440')]=!0x0;}(0x0,_0x3b800b[_0x10de('0x9')])(_0x3083d9,[{'key':'create','value':function(_0x39ccc8){var _0x2b4960=_0x39ccc8[_0x10de('0x66f')],_0x573d3d=_0x39ccc8[_0x10de('0x506')],_0x39ccc8=(_0x39ccc8[_0x10de('0x437')],this[_0x10de('0x20a')]),_0x2b4960=(this[_0x10de('0x43d')]=new THREE[(_0x10de('0x1d7'))](),this[_0x10de('0x670')]=new _0x3a188e['default'][(_0x10de('0x1d7'))]({'texture':{'value':_0x2b4960,'frames':new THREE[(_0x10de('0x1c8'))](0x5,0x5),'loop':0x1},'depthTest':!0x0,'depthWrite':!0x1,'blending':THREE[_0x10de('0x1e3')],'scale':0x258*this[_0x10de('0x1e8')]}),this['shockwaveParticle']=new _0x3a188e[(_0x10de('0x9'))][(_0x10de('0x1d7'))]({'texture':{'value':_0x573d3d},'depthTest':!0x0,'depthWrite':!0x0,'blending':THREE[_0x10de('0x439')]}),new _0x3a188e[(_0x10de('0x9'))][(_0x10de('0x216'))]({'particleCount':0xc8*this[_0x10de('0x1e8')],'type':_0x3a188e['default'][_0x10de('0x235')][_0x10de('0x25d')],'position':{'radius':0x5,'spread':new THREE[(_0x10de('0x1ca'))](0x5)},'maxAge':{'value':_0x39ccc8,'spread':0x0},'activeMultiplier':0x7d0,'velocity':{'value':new THREE[(_0x10de('0x1ca'))](0x28)},'rotation':{'axis':new THREE['Vector3'](0x1,0x0,0x0),'angle':0.5*Math['PI'],'static':!0x0},'size':{'value':0x2*this['scale']},'color':{'value':[new THREE['Color'](0.4,0.2,0.1),new THREE[(_0x10de('0x1cc'))](0.2,0.2,0.2)]},'opacity':{'value':[0.5,0.2,0x0]}})),_0x573d3d=new _0x3a188e[(_0x10de('0x9'))]['Emitter']({'particleCount':0x64*this[_0x10de('0x1e8')],'type':_0x3a188e[_0x10de('0x9')]['distributions'][_0x10de('0x25b')],'position':{'radius':0.1},'maxAge':{'value':_0x39ccc8},'activeMultiplier':0x28,'velocity':{'value':new THREE[(_0x10de('0x1ca'))](0x64)},'acceleration':{'value':new THREE[(_0x10de('0x1ca'))](0x0,-0x14,0x0),'distribution':_0x3a188e['default']['distributions'][_0x10de('0x236')]},'size':{'value':0x2*this[_0x10de('0x1e8')]},'drag':{'value':0x1},'color':{'value':[new THREE[(_0x10de('0x1cc'))](0x1,0x1,0x1),new THREE[(_0x10de('0x1cc'))](0x1,0x1,0x0),new THREE[(_0x10de('0x1cc'))](0x1,0x0,0x0),new THREE[(_0x10de('0x1cc'))](0.4,0.2,0.1)]},'opacity':{'value':[0.4,0x0]}}),_0xa53e0f=new _0x3a188e['default']['Emitter']({'particleCount':0x14*this[_0x10de('0x1e8')],'type':_0x3a188e[_0x10de('0x9')]['distributions'][_0x10de('0x25b')],'position':{'radius':0x1},'maxAge':{'value':_0x39ccc8},'activeMultiplier':0x14,'velocity':{'value':new THREE[(_0x10de('0x1ca'))](0xa)},'size':{'value':[0x14*this[_0x10de('0x1e8')],0x64*this[_0x10de('0x1e8')]]},'color':{'value':[new THREE[(_0x10de('0x1cc'))](0.5,0.1,0.05),new THREE[(_0x10de('0x1cc'))](0.2,0.2,0.2)]},'opacity':{'value':[0.5,0.35,0.1,0x0]}}),_0x3b800b=new _0x3a188e[(_0x10de('0x9'))]['Emitter']({'particleCount':0x32*this[_0x10de('0x1e8')],'position':{'spread':new THREE[(_0x10de('0x1ca'))](0xa,0xa,0xa),'distribution':_0x3a188e[_0x10de('0x9')][_0x10de('0x235')][_0x10de('0x25b')]},'maxAge':{'value':_0x39ccc8},'activeMultiplier':0x7d0,'velocity':{'value':new THREE['Vector3'](0x8,0x3,0xa),'distribution':_0x3a188e[_0x10de('0x9')][_0x10de('0x235')][_0x10de('0x25b')]},'size':{'value':0x28*this['scale']},'color':{'value':new THREE['Color'](0.2,0.2,0.2)},'opacity':{'value':[0x0,0x0,0.2,0x0]}}),_0x39ccc8=new _0x3a188e[(_0x10de('0x9'))]['Emitter']({'particleCount':0x32*this[_0x10de('0x1e8')],'position':{'spread':new THREE[(_0x10de('0x1ca'))](0x5,0x5,0x5)},'velocity':{'spread':new THREE[(_0x10de('0x1ca'))](0x1e),'distribution':_0x3a188e['default'][_0x10de('0x235')]['SPHERE']},'size':{'value':[0x2*this['scale'],0x14*this[_0x10de('0x1e8')],0x14*this[_0x10de('0x1e8')],0x14*this[_0x10de('0x1e8')]]},'maxAge':{'value':_0x39ccc8},'activeMultiplier':0x7d0,'opacity':{'value':[0.5,0.25,0x0,0x0]}});this['particle'][_0x10de('0x204')](_0xa53e0f)[_0x10de('0x204')](_0x39ccc8),this[_0x10de('0x671')][_0x10de('0x204')](_0x573d3d)['addEmitter'](_0x3b800b)[_0x10de('0x204')](_0x2b4960),this[_0x10de('0x670')],this[_0x10de('0x671')],this[_0x10de('0x533')](!0x1),this[_0x10de('0x670')][_0x10de('0x1f6')][_0x10de('0x1e8')][_0x10de('0x1e')](this['scale'],this['scale'],this[_0x10de('0x1e8')]),this['shockwaveParticle']['mesh'][_0x10de('0x1e8')][_0x10de('0x1e')](this[_0x10de('0x1e8')],this['scale'],this[_0x10de('0x1e8')]),this[_0x10de('0x43d')][_0x10de('0x1d5')](this[_0x10de('0x670')][_0x10de('0x1f6')]),this[_0x10de('0x43d')]['add'](this[_0x10de('0x671')]['mesh']),this[_0x10de('0x43d')]['renderOrder']=0x64,this[_0x10de('0x368')][_0x10de('0x1d5')](this[_0x10de('0x43d')]),this[_0x10de('0x672')](),this[_0x10de('0x43e')]=!0x0;}},{'key':_0x10de('0x533'),'value':function(_0x39ccc8){if(this[_0x10de('0x670')]&&0x0<this['particle'][_0x10de('0x1e9')][_0x10de('0xe')]){var _0x2b4960=!0x0,_0x573d3d=!0x1,_0xa53e0f=void 0x0;try{for(var _0x3b800b,_0x3a188e=(0x0,_0x222e41[_0x10de('0x9')])(this[_0x10de('0x670')][_0x10de('0x1e9')]);!(_0x2b4960=(_0x3b800b=_0x3a188e[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2b4960=!0x0)_0x3b800b[_0x10de('0x10')][_0x10de('0x244')]=_0x39ccc8;}catch(_0x14dd09){_0x573d3d=!0x0,_0xa53e0f=_0x14dd09;}finally{try{!_0x2b4960&&_0x3a188e[_0x10de('0xdf')]&&_0x3a188e['return']();}finally{if(_0x573d3d)throw _0xa53e0f;}}}if(this[_0x10de('0x671')]&&0x0<this[_0x10de('0x671')][_0x10de('0x1e9')][_0x10de('0xe')]){var _0x635479=!0x0,_0x573d3d=!0x1,_0xa53e0f=void 0x0;try{for(var _0x3083d9,_0x366e19=(0x0,_0x222e41[_0x10de('0x9')])(this[_0x10de('0x671')][_0x10de('0x1e9')]);!(_0x635479=(_0x3083d9=_0x366e19[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x635479=!0x0)_0x3083d9['value'][_0x10de('0x244')]=_0x39ccc8;}catch(_0x1af349){_0x573d3d=!0x0,_0xa53e0f=_0x1af349;}finally{try{!_0x635479&&_0x366e19[_0x10de('0xdf')]&&_0x366e19['return']();}finally{if(_0x573d3d)throw _0xa53e0f;}}}}},{'key':_0x10de('0x672'),'value':function(){var _0x39ccc8=new THREE[(_0x10de('0x5ac'))]({'color':'#fcfcfc','transparent':!0x0,'depthWrite':!0x1}),_0x2b4960=(_0x39ccc8[_0x10de('0x40f')]=function(_0x39ccc8){_0x39ccc8[_0x10de('0x1b4')][_0x10de('0x673')]={'value':1.2},_0x39ccc8[_0x10de('0x1b4')][_0x10de('0x674')]={'value':1.6},_0x39ccc8[_0x10de('0x1b4')]['glowColor']={'value':new THREE[(_0x10de('0x1cc'))](0xffffff)},_0x39ccc8[_0x10de('0x59')]=_0x39ccc8['vertexShader']['replace']('#include\x20<uv_pars_vertex>',_0x10de('0x675')),_0x39ccc8[_0x10de('0x59')]=_0x39ccc8[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x414'),_0x10de('0x676')),_0x39ccc8[_0x10de('0x5a')]=_0x39ccc8[_0x10de('0x5a')][_0x10de('0x57')]('uniform\x20float\x20opacity;',_0x10de('0x677')),_0x39ccc8[_0x10de('0x5a')]=_0x39ccc8[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x678'));},new THREE[(_0x10de('0x497'))](0x4,0x20,0x20)),_0x2b4960=new THREE[(_0x10de('0x348'))](_0x2b4960,_0x39ccc8);_0x2b4960[_0x10de('0x364')]=!0x1,this[_0x10de('0x679')]=_0x2b4960,this[_0x10de('0x368')][_0x10de('0x1d5')](_0x2b4960);}},{'key':'playShockWave','value':function(_0x39ccc8){var _0x2b4960=this,_0x573d3d=_0x39ccc8['time'],_0x573d3d=void 0x0===_0x573d3d?0x2:_0x573d3d,_0x39ccc8=_0x39ccc8['radius'],_0x39ccc8=void 0x0===_0x39ccc8?0x64:_0x39ccc8;this['shockSphere'][_0x10de('0x364')]=!0x0,this[_0x10de('0x679')][_0x10de('0x222')]['y']=-_0x39ccc8/0x2*1.5,new TWEEN[(_0x10de('0x316'))]({'x':0x0,'opacity':0.7})['to']({'x':_0x39ccc8,'opacity':0x0},0x3e8*_0x573d3d)['easing'](TWEEN[_0x10de('0x317')][_0x10de('0x67a')][_0x10de('0x319')])[_0x10de('0x31c')](function(_0x39ccc8){_0x2b4960[_0x10de('0x679')][_0x10de('0x1e8')][_0x10de('0x1e')](_0x39ccc8['x'],_0x39ccc8['x'],_0x39ccc8['x']),_0x2b4960['shockSphere']['material'][_0x10de('0x233')]=_0x39ccc8[_0x10de('0x233')];})[_0x10de('0x31e')](function(_0x39ccc8){_0x2b4960[_0x10de('0x679')]['visible']=!0x1;})[_0x10de('0x31b')]();}},{'key':_0x10de('0x362'),'value':function(_0x39ccc8){this['enabled']&&this[_0x10de('0x670')]&&this['shockwaveParticle']&&(this[_0x10de('0x670')][_0x10de('0x22b')](_0x39ccc8),this[_0x10de('0x671')][_0x10de('0x22b')](_0x39ccc8));}},{'key':_0x10de('0x364'),'set':function(_0x39ccc8){this[_0x10de('0x440')]=_0x39ccc8,this[_0x10de('0x43d')][_0x10de('0x364')]=_0x39ccc8;}}]),_0x2b4960[_0x10de('0x9')]=_0x3083d9;},function(_0x1c2dc7,_0x322e14,_0x19575d){'use strict';Object[_0x10de('0x2')](_0x322e14,'__esModule',{'value':!0x0});var _0x4b4384=_0x18d0a7(_0x19575d(0x0));function _0x18d0a7(_0x1c2dc7){return _0x1c2dc7&&_0x1c2dc7['__esModule']?_0x1c2dc7:{'default':_0x1c2dc7};}function _0x19d08e(_0x1c2dc7){var _0x322e14=_0x1c2dc7['colorStr'],_0x19575d=_0x1c2dc7['repeat'],_0x19575d=void 0x0===_0x19575d?{'x':0x1,'y':0x2}:_0x19575d,_0x18d0a7=_0x1c2dc7[_0x10de('0x363')],_0x18d0a7=void 0x0===_0x18d0a7?0.5:_0x18d0a7,_0x1c2dc7=_0x1c2dc7[_0x10de('0xdc')];(0x0,_0x4b4384[_0x10de('0x9')])(this,_0x19d08e),this['object3d']=new THREE['Object3D'](),this[_0x10de('0x40')]=null,this[_0x10de('0x40d')]=null,this[_0x10de('0x2eb')]=_0x19575d,this[_0x10de('0x363')]=_0x18d0a7,_0x1c2dc7[_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x1c2dc7[_0x10de('0x41e')]=THREE[_0x10de('0x36c')],this[_0x10de('0x32e')](_0x322e14,_0x1c2dc7);}(0x0,_0x18d0a7(_0x19575d(0x1))[_0x10de('0x9')])(_0x19d08e,[{'key':_0x10de('0x604'),'value':function(){var _0x1c2dc7=document[_0x10de('0x87')](_0x10de('0x472')),_0x322e14=(_0x1c2dc7['width']=0x4,_0x1c2dc7[_0x10de('0x32c')]=0x80,_0x1c2dc7['getContext']('2d')),_0x19575d=_0x322e14[_0x10de('0x67b')](0x0,0x0,_0x1c2dc7['width'],_0x1c2dc7[_0x10de('0x32c')]);return _0x19575d[_0x10de('0x403')](0x0,'#000000'),_0x19575d[_0x10de('0x403')](0.3,_0x10de('0x365')),_0x19575d['addColorStop'](0.7,_0x10de('0x365')),_0x19575d[_0x10de('0x403')](0x1,_0x10de('0x67c')),_0x322e14[_0x10de('0x405')]=_0x19575d,_0x322e14[_0x10de('0x67d')](0x0,0x0,_0x1c2dc7[_0x10de('0x35d')],_0x1c2dc7[_0x10de('0x32c')]),new THREE[(_0x10de('0x658'))](_0x1c2dc7);}},{'key':_0x10de('0x32e'),'value':function(_0x1c2dc7,_0x322e14){this[_0x10de('0x40')]=new THREE[(_0x10de('0x40e'))]({'side':THREE[_0x10de('0x33a')],'transparent':!0x0,'depthWrite':!0x0,'depthTest':!0x0,'blending':THREE[_0x10de('0x1e3')]});var _0x19575d=this['createTexture'](),_0x18d0a7=(_0x1c2dc7&&this['material']['color'][_0x10de('0x331')](_0x1c2dc7),this);this[_0x10de('0x40')]['onBeforeCompile']=function(_0x1c2dc7){_0x1c2dc7['uniforms'][_0x10de('0x410')]={'value':0x0},_0x1c2dc7['uniforms']['texture1']={'value':_0x322e14},_0x1c2dc7[_0x10de('0x1b4')][_0x10de('0x419')]={'value':_0x19575d},_0x1c2dc7[_0x10de('0x1b4')][_0x10de('0x67e')]={'value':new THREE['Vector2'](_0x18d0a7[_0x10de('0x2eb')]['x'],_0x18d0a7[_0x10de('0x2eb')]['y'])},_0x1c2dc7[_0x10de('0x59')]=_0x1c2dc7[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x420'),_0x10de('0x67f')),_0x1c2dc7[_0x10de('0x59')]=_0x1c2dc7['vertexShader'][_0x10de('0x57')](_0x10de('0x422'),_0x10de('0x680')),_0x1c2dc7[_0x10de('0x5a')]=_0x1c2dc7[_0x10de('0x5a')][_0x10de('0x57')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1c2dc7[_0x10de('0x5a')]=_0x1c2dc7[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20alphaTexCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x18d0a7['shader']=_0x1c2dc7;};}},{'key':'create','value':function(_0x1c2dc7){for(var _0x322e14=_0x1c2dc7[_0x10de('0x284')],_0x19575d=_0x1c2dc7[_0x10de('0x337')],_0x18d0a7=void 0x0===_0x19575d?0x1:_0x19575d,_0x19575d=_0x1c2dc7['lineHeight'],_0x4b4384=void 0x0===_0x19575d?0x64:_0x19575d,_0x19d08e=0x0,_0x54c9fe=_0x322e14['length'];_0x19d08e<_0x54c9fe;_0x19d08e++){var _0x5c7d7e=new THREE[(_0x10de('0x369'))](),_0x3c7db9=new THREE[(_0x10de('0x418'))](_0x18d0a7,_0x4b4384),_0x3c7db9=(_0x3c7db9['translate'](0x0,0.5*_0x4b4384,0x0),new THREE[(_0x10de('0x348'))](_0x3c7db9,this['material'])),_0x392923=new THREE['PlaneBufferGeometry'](_0x18d0a7,_0x4b4384),_0x392923=(_0x392923['translate'](0x0,0.5*_0x4b4384,0x0),new THREE['Mesh'](_0x392923,this['material']));_0x392923[_0x10de('0x1fd')]['y']=0.5*Math['PI'],_0x3c7db9['renderOrder']=0x5a,_0x392923['renderOrder']=0x5a,_0x5c7d7e[_0x10de('0x1d5')](_0x3c7db9),_0x5c7d7e[_0x10de('0x1d5')](_0x392923),_0x5c7d7e[_0x10de('0x222')][_0x10de('0x1d3')](_0x322e14[_0x19d08e]),this[_0x10de('0x368')]['add'](_0x5c7d7e);}}},{'key':_0x10de('0x362'),'value':function(_0x1c2dc7){this[_0x10de('0x40d')]&&(this[_0x10de('0x40d')]['uniforms']['iTime'][_0x10de('0x10')]-=_0x1c2dc7*this['speed']);}}]),_0x322e14[_0x10de('0x9')]=_0x19d08e;},function(_0x2d97a7,_0x1407ec,_0x1a17bc){'use strict';Object['defineProperty'](_0x1407ec,'__esModule',{'value':!0x0});var _0x30c397=_0x374927(_0x1a17bc(0x28)),_0xadf3ad=_0x374927(_0x1a17bc(0x0)),_0x3ec91f=_0x374927(_0x1a17bc(0x1)),_0x16f8e8=_0x1a17bc(0xe5),_0x4e04e5=_0x1a17bc(0xe6),_0x304781=_0x1a17bc(0xe7),_0x5e9f86=_0x1a17bc(0xe8);function _0x374927(_0x2d97a7){return _0x2d97a7&&_0x2d97a7['__esModule']?_0x2d97a7:{'default':_0x2d97a7};}function _0x359acc(_0x2d97a7){(0x0,_0xadf3ad[_0x10de('0x9')])(this,_0x359acc),this[_0x10de('0xcf')]=_0x2d97a7,this[_0x10de('0xd8')]=new _0x5e9f86[(_0x10de('0x681'))](),this[_0x10de('0x682')]=null;}(0x0,_0x3ec91f['default'])(_0x359acc,[{'key':'loadHDR','value':function(_0x2d97a7){var _0x1407ec=this,_0xadf3ad=_0x2d97a7['texPath'],_0x2d97a7=_0x2d97a7[_0x10de('0x683')],_0x3ec91f=void 0x0===_0x2d97a7?0x200:_0x2d97a7,_0x5e9f86=this;return new _0x30c397['default'](function(_0x1a17bc,_0x2d97a7){_0x1407ec['textureLoader'][_0x10de('0xdb')](_0xadf3ad,function(_0x2d97a7){_0x2d97a7['encoding']=THREE[_0x10de('0x684')],_0x2d97a7[_0x10de('0x685')]=THREE['NearestFilter'],_0x2d97a7[_0x10de('0x686')]=THREE['NearestFilter'],_0x2d97a7[_0x10de('0x65a')]=!0x0;var _0x2d97a7=new _0x304781['EquirectangularToCubeGenerator'](_0x2d97a7,{'resolution':_0x3ec91f})[_0x10de('0x31d')](_0x5e9f86[_0x10de('0xcf')]['mapView'][_0x10de('0x4ea')]),_0x2d97a7=new _0x16f8e8['PMREMGenerator'](_0x2d97a7),_0x1407ec=(_0x2d97a7[_0x10de('0x31d')](_0x5e9f86[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')]),new _0x4e04e5[(_0x10de('0x687'))](_0x2d97a7[_0x10de('0x688')]));_0x1407ec[_0x10de('0x31d')](_0x5e9f86[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')]),_0x5e9f86['envCubeMap']=_0x1407ec[_0x10de('0x689')]['texture'],_0x1a17bc(_0x5e9f86[_0x10de('0x682')]),_0x2d97a7['dispose'](),_0x1407ec['dispose']();});});}}]),_0x1407ec[_0x10de('0x9')]=_0x359acc;},function(_0x14fda3,_0x31d993,_0x4713af){'use strict';Object['defineProperty'](_0x31d993,_0x10de('0x5'),{'value':!0x0});(_0x1d85b3=new THREE[(_0x10de('0x1f2'))]({'defines':{'SAMPLES_PER_LEVEL':0x14},'uniforms':{'faceIndex':{'value':0x0},'roughness':{'value':0.5},'mapSize':{'value':0.5},'envMap':{'value':null},'tFlip':{'value':-0x1}},'vertexShader':'varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','fragmentShader':'#include\x20<common>\x0a\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20int\x20faceIndex;\x0a\x09\x09\x09\x09uniform\x20float\x20roughness;\x0a\x09\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09\x09\x09\x09uniform\x20float\x20mapSize;\x0a\x09\x09\x09\x09uniform\x20float\x20tFlip;\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09float\x20GGXRoughnessToBlinnExponent(\x20const\x20in\x20float\x20ggxRoughness\x20)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20ggxRoughness\x20+\x200.0001;\x0a\x09\x09\x09\x09\x09a\x20*=\x20a;\x0a\x09\x09\x09\x09\x09return\x20(\x202.0\x20/\x20a\x20-\x202.0\x20);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSamplePhong(vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20specPow)\x20{\x0a\x09\x09\x09\x09\x09float\x20phi\x20=\x20uv.y\x20*\x202.0\x20*\x20PI;\x0a\x09\x09\x09\x09\x09float\x20cosTheta\x20=\x20pow(1.0\x20-\x20uv.x,\x201.0\x20/\x20(specPow\x20+\x201.0));\x0a\x09\x09\x09\x09\x09float\x20sinTheta\x20=\x20sqrt(1.0\x20-\x20cosTheta\x20*\x20cosTheta);\x0a\x09\x09\x09\x09\x09vec3\x20sampleDir\x20=\x20vec3(cos(phi)\x20*\x20sinTheta,\x20sin(phi)\x20*\x20sinTheta,\x20cosTheta);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20sampleDir;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSampleGGX(\x20vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20Roughness\x20)\x0a\x09\x09\x09\x09{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20Roughness\x20*\x20Roughness;\x0a\x09\x09\x09\x09\x09float\x20Phi\x20=\x202.0\x20*\x20PI\x20*\x20uv.x;\x0a\x09\x09\x09\x09\x09float\x20CosTheta\x20=\x20sqrt(\x20(1.0\x20-\x20uv.y)\x20/\x20(\x201.0\x20+\x20(a*a\x20-\x201.0)\x20*\x20uv.y\x20)\x20);\x0a\x09\x09\x09\x09\x09float\x20SinTheta\x20=\x20sqrt(\x201.0\x20-\x20CosTheta\x20*\x20CosTheta\x20);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20vec3(SinTheta\x20*\x20cos(\x20Phi\x20),\x20SinTheta\x20*\x20sin(\x20Phi\x20),\x20CosTheta);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09mat3\x20matrixFromVector(vec3\x20n)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x201.0\x20/\x20(1.0\x20+\x20n.z);\x0a\x09\x09\x09\x09\x09float\x20b\x20=\x20-n.x\x20*\x20n.y\x20*\x20a;\x0a\x09\x09\x09\x09\x09vec3\x20b1\x20=\x20vec3(1.0\x20-\x20n.x\x20*\x20n.x\x20*\x20a,\x20b,\x20-n.x);\x0a\x09\x09\x09\x09\x09vec3\x20b2\x20=\x20vec3(b,\x201.0\x20-\x20n.y\x20*\x20n.y\x20*\x20a,\x20-n.y);\x0a\x09\x09\x09\x09\x09return\x20mat3(b1,\x20b2,\x20n);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09vec4\x20testColorMap(float\x20Roughness)\x20{\x0a\x09\x09\x09\x09\x09vec4\x20color;\x0a\x09\x09\x09\x09\x09if(faceIndex\x20==\x200)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x201)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x202)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x203)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x204)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09color\x20*=\x20(\x201.0\x20-\x20Roughness\x20);\x0a\x09\x09\x09\x09\x09return\x20color;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec3\x20sampleDirection;\x0a\x09\x09\x09\x09\x09vec2\x20uv\x20=\x20vUv*2.0\x20-\x201.0;\x0a\x09\x09\x09\x09\x09float\x20offset\x20=\x20-1.0/mapSize;\x0a\x09\x09\x09\x09\x09const\x20float\x20a\x20=\x20-1.0;\x0a\x09\x09\x09\x09\x09const\x20float\x20b\x20=\x201.0;\x0a\x09\x09\x09\x09\x09float\x20c\x20=\x20-1.0\x20+\x20offset;\x0a\x09\x09\x09\x09\x09float\x20d\x20=\x201.0\x20-\x20offset;\x0a\x09\x09\x09\x09\x09float\x20bminusa\x20=\x20b\x20-\x20a;\x0a\x09\x09\x09\x09\x09uv.x\x20=\x20(uv.x\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.x\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09uv.y\x20=\x20(uv.y\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.y\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09if\x20(faceIndex==0)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(1.0,\x20-uv.y,\x20-uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==1)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-1.0,\x20-uv.y,\x20uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==2)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x201.0,\x20uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==3)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-1.0,\x20-uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==4)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-uv.y,\x201.0);\x0a\x09\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-uv.x,\x20-uv.y,\x20-1.0);\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09vec3\x20correctedDirection\x20=\x20vec3(\x20tFlip\x20*\x20sampleDirection.x,\x20sampleDirection.yz\x20);\x0a\x09\x09\x09\x09\x09mat3\x20vecSpace\x20=\x20matrixFromVector(\x20normalize(\x20correctedDirection\x20)\x20);\x0a\x09\x09\x09\x09\x09vec3\x20rgbColor\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x09\x09const\x20int\x20NumSamples\x20=\x20SAMPLES_PER_LEVEL;\x0a\x09\x09\x09\x09\x09vec3\x20vect;\x0a\x09\x09\x09\x09\x09float\x20weight\x20=\x200.0;\x0a\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x200;\x20i\x20<\x20NumSamples;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09\x09\x09float\x20sini\x20=\x20sin(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20cosi\x20=\x20cos(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20r\x20=\x20rand(vec2(sini,\x20cosi));\x0a\x09\x09\x09\x09\x09\x09vect\x20=\x20ImportanceSampleGGX(vec2(float(i)\x20/\x20float(NumSamples),\x20r),\x20vecSpace,\x20roughness);\x0a\x09\x09\x09\x09\x09\x09float\x20dotProd\x20=\x20dot(vect,\x20normalize(sampleDirection));\x0a\x09\x09\x09\x09\x09\x09weight\x20+=\x20dotProd;\x0a\x09\x09\x09\x09\x09\x09vec3\x20color\x20=\x20envMapTexelToLinear(textureCube(envMap,\x20vect)).rgb;\x0a\x09\x09\x09\x09\x09\x09rgbColor.rgb\x20+=\x20color;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09rgbColor\x20/=\x20float(NumSamples);\x0a\x09\x09\x09\x09\x09//rgbColor\x20=\x20testColorMap(\x20roughness\x20).rgb;\x0a\x09\x09\x09\x09\x09gl_FragColor\x20=\x20linearToOutputTexel(\x20vec4(\x20rgbColor,\x201.0\x20)\x20);\x0a\x09\x09\x09\x09}','blending':THREE[_0x10de('0x68a')]}))['type']=_0x10de('0x68b'),_0x33acc1=_0x1d85b3,_0x23f396=new THREE[(_0x10de('0x68c'))](-0x1,0x1,0x1,-0x1,0x0,0x3e8),_0x2890f1=new THREE['Scene'](),(_0x1d85b3=new THREE['Mesh'](new THREE[(_0x10de('0x418'))](0x2,0x2,0x0),_0x33acc1))[_0x10de('0x40')]['side']=THREE[_0x10de('0x33a')],_0x2890f1[_0x10de('0x1d5')](_0x1d85b3),_0x2890f1[_0x10de('0x1d5')](_0x23f396),_0x3b295e[_0x10de('0xa')]={'constructor':_0x3b295e,'update':function(_0x14fda3){var _0x31d993=this[_0x10de('0x68d')][_0x10de('0x68e')]?-0x1:0x1,_0x4713af=(_0x33acc1['defines'][_0x10de('0x68f')]=this[_0x10de('0x690')],_0x33acc1[_0x10de('0x1b4')]['faceIndex'][_0x10de('0x10')]=0x0,_0x33acc1[_0x10de('0x1b4')]['envMap'][_0x10de('0x10')]=this[_0x10de('0x68d')],_0x33acc1[_0x10de('0x691')]=this[_0x10de('0x68d')],_0x33acc1['needsUpdate']=!0x0,_0x14fda3['gammaInput']),_0x22b307=_0x14fda3[_0x10de('0x692')],_0x4fb10a=_0x14fda3[_0x10de('0x693')],_0x1de735=_0x14fda3[_0x10de('0x694')],_0x396b44=_0x14fda3['getRenderTarget']();_0x14fda3['toneMapping']=THREE['LinearToneMapping'],_0x14fda3[_0x10de('0x694')]=0x1,_0x14fda3['gammaInput']=!0x1,_0x14fda3[_0x10de('0x692')]=!0x1;for(var _0x38abf3=0x0;_0x38abf3<this[_0x10de('0x695')];_0x38abf3++){var _0x9611f8=_0x38abf3/(this[_0x10de('0x695')]-0x1),_0x9611f8=(_0x33acc1['uniforms'][_0x10de('0x2f7')]['value']=0.9*_0x9611f8,_0x33acc1[_0x10de('0x1b4')]['tFlip']['value']=0x0==_0x38abf3?_0x31d993:0x1,this[_0x10de('0x688')][_0x38abf3][_0x10de('0x35d')]);_0x33acc1[_0x10de('0x1b4')][_0x10de('0x696')][_0x10de('0x10')]=_0x9611f8,this[_0x10de('0x697')](_0x14fda3,this[_0x10de('0x688')][_0x38abf3]),_0x38abf3<0x5&&(_0x33acc1[_0x10de('0x1b4')][_0x10de('0x691')][_0x10de('0x10')]=this[_0x10de('0x688')][_0x38abf3][_0x10de('0xdc')]);}_0x14fda3['setRenderTarget'](_0x396b44),_0x14fda3['toneMapping']=_0x4fb10a,_0x14fda3[_0x10de('0x694')]=_0x1de735,_0x14fda3[_0x10de('0x698')]=_0x4713af,_0x14fda3['gammaOutput']=_0x22b307;},'renderToCubeMapTarget':function(_0x14fda3,_0x31d993){for(var _0x4713af=0x0;_0x4713af<0x6;_0x4713af++)this[_0x10de('0x699')](_0x14fda3,_0x31d993,_0x4713af);},'renderToCubeMapTargetFace':function(_0x14fda3,_0x31d993,_0x4713af){_0x33acc1[_0x10de('0x1b4')][_0x10de('0x69a')][_0x10de('0x10')]=_0x4713af,_0x14fda3['setRenderTarget'](_0x31d993,_0x4713af),_0x14fda3[_0x10de('0x69b')](),_0x14fda3[_0x10de('0x362')](_0x2890f1,_0x23f396);},'dispose':function(){for(var _0x14fda3=0x0,_0x31d993=this[_0x10de('0x688')][_0x10de('0xe')];_0x14fda3<_0x31d993;_0x14fda3++)this[_0x10de('0x688')][_0x14fda3][_0x10de('0xce')]();}};var _0x33acc1,_0x23f396,_0x2890f1,_0x1d85b3=_0x3b295e;function _0x3b295e(_0x14fda3,_0x31d993,_0x4713af){this[_0x10de('0x68d')]=_0x14fda3,this[_0x10de('0x335')]=void 0x0!==_0x4713af?_0x4713af:0x100,this[_0x10de('0x690')]=void 0x0!==_0x31d993?_0x31d993:0x20;var _0x14fda3=this[_0x10de('0x68d')][_0x10de('0x46b')]===THREE[_0x10de('0x69c')]||this['sourceTexture'][_0x10de('0x46b')]===THREE['GammaEncoding']||this[_0x10de('0x68d')][_0x10de('0x46b')]===THREE[_0x10de('0x69d')],_0x23f396=(this[_0x10de('0x68d')][_0x10de('0x685')]=_0x14fda3?THREE[_0x10de('0x618')]:THREE[_0x10de('0x69e')],this[_0x10de('0x68d')]['magFilter']=_0x14fda3?THREE['LinearFilter']:THREE['NearestFilter'],this['sourceTexture'][_0x10de('0x69f')]=this[_0x10de('0x68d')]['generateMipmaps']&&_0x14fda3,this[_0x10de('0x688')]=[],this[_0x10de('0x335')]),_0x2890f1={'format':this[_0x10de('0x68d')]['format'],'magFilter':this[_0x10de('0x68d')][_0x10de('0x686')],'minFilter':this[_0x10de('0x68d')][_0x10de('0x685')],'type':this[_0x10de('0x68d')][_0x10de('0x85')],'generateMipmaps':this[_0x10de('0x68d')]['generateMipmaps'],'anisotropy':this['sourceTexture'][_0x10de('0x4e9')],'encoding':this[_0x10de('0x68d')]['encoding']};this[_0x10de('0x695')]=Math[_0x10de('0x4b4')](_0x23f396)/Math[_0x10de('0x4b4')](0x2)-0x2;for(var _0x1d85b3=0x0;_0x1d85b3<this[_0x10de('0x695')];_0x1d85b3++){var _0x3b295e=new THREE['WebGLRenderTargetCube'](_0x23f396,_0x23f396,_0x2890f1);_0x3b295e[_0x10de('0xdc')][_0x10de('0x8c')]=_0x10de('0x6a0')+_0x1d85b3,this['cubeLods']['push'](_0x3b295e),_0x23f396=Math[_0x10de('0x108')](0x10,_0x23f396/0x2);}}_0x31d993[_0x10de('0x68b')]=_0x1d85b3;},function(_0x3931d1,_0x1c5b7e,_0x576714){'use strict';var _0x50d1d0,_0x9f4b13,_0x105bf3,_0x1efe70;function _0x2e64c9(_0x3931d1){var _0x1c5b7e=0x4*(this['cubeLods']=_0x3931d1)[0x0][_0x10de('0x35d')],_0x576714=_0x3931d1[0x0][_0x10de('0xdc')],_0x576714={'format':_0x576714['format'],'magFilter':_0x576714[_0x10de('0x686')],'minFilter':_0x576714[_0x10de('0x685')],'type':_0x576714['type'],'generateMipmaps':_0x576714['generateMipmaps'],'anisotropy':_0x576714[_0x10de('0x4e9')],'encoding':_0x576714[_0x10de('0x46b')]===THREE[_0x10de('0x684')]?THREE[_0x10de('0x6a1')]:_0x576714[_0x10de('0x46b')]},_0x50d1d0=(_0x576714[_0x10de('0x46b')]===THREE['RGBM16Encoding']&&(_0x576714[_0x10de('0x686')]=THREE[_0x10de('0x618')],_0x576714[_0x10de('0x685')]=THREE['LinearFilter']),this['CubeUVRenderTarget']=new THREE[(_0x10de('0x6a2'))](_0x1c5b7e,_0x1c5b7e,_0x576714),this['CubeUVRenderTarget']['texture']['name']=_0x10de('0x6a3'),this[_0x10de('0x689')][_0x10de('0xdc')][_0x10de('0x469')]=THREE[_0x10de('0x6a4')],this['objects']=[],new THREE[(_0x10de('0x418'))](0x1,0x1)),_0x2e64c9=[],_0x4a1de9=(_0x2e64c9[_0x10de('0x84')](new THREE[(_0x10de('0x1c8'))](0x0,0x0)),_0x2e64c9['push'](new THREE['Vector2'](0x1,0x0)),_0x2e64c9[_0x10de('0x84')](new THREE[(_0x10de('0x1c8'))](0x2,0x0)),_0x2e64c9[_0x10de('0x84')](new THREE[(_0x10de('0x1c8'))](0x0,0x1)),_0x2e64c9['push'](new THREE[(_0x10de('0x1c8'))](0x1,0x1)),_0x2e64c9[_0x10de('0x84')](new THREE['Vector2'](0x2,0x1)),_0x1c5b7e),_0x1c5b7e=_0x3931d1[0x0][_0x10de('0x35d')],_0x372d30=0x0,_0x9f4b13=0x4;this[_0x10de('0x695')]=Math[_0x10de('0x4b4')](_0x3931d1[0x0][_0x10de('0x35d')])/Math[_0x10de('0x4b4')](0x2)-0x2;for(var _0x105bf3=0x0;_0x105bf3<this['numLods'];_0x105bf3++){for(var _0x33a48b=0.5*(_0x4a1de9-_0x4a1de9/_0x9f4b13),_0x510cb6=(0x10<_0x1c5b7e&&(_0x9f4b13*=0x2),0x10<_0x1c5b7e?0x6:0x1),_0xe1d3c8=0x0,_0x3724ec=0x0,_0x4fa513=_0x1c5b7e,_0x1847dd=0x0;_0x1847dd<_0x510cb6;_0x1847dd++){for(var _0xda058=0x0;_0xda058<0x6;_0xda058++){var _0xc93cbc=_0x1efe70[_0x10de('0x1c5')](),_0xc93cbc=(_0xc93cbc[_0x10de('0x1b4')][_0x10de('0x691')][_0x10de('0x10')]=this['cubeLods'][_0x105bf3][_0x10de('0xdc')],_0xc93cbc[_0x10de('0x691')]=this[_0x10de('0x688')][_0x105bf3]['texture'],_0xc93cbc[_0x10de('0x1b4')][_0x10de('0x69a')]['value']=_0xda058,_0xc93cbc[_0x10de('0x1b4')][_0x10de('0x696')][_0x10de('0x10')]=_0x4fa513,new THREE[(_0x10de('0x348'))](_0x50d1d0,_0xc93cbc));_0xc93cbc[_0x10de('0x222')]['x']=_0x2e64c9[_0xda058]['x']*_0x4fa513-_0x33a48b+_0xe1d3c8,_0xc93cbc['position']['y']=_0x2e64c9[_0xda058]['y']*_0x4fa513-_0x33a48b+_0x372d30+_0x3724ec,_0xc93cbc['material']['side']=THREE[_0x10de('0x466')],_0xc93cbc[_0x10de('0x1e8')]['setScalar'](_0x4fa513),this[_0x10de('0x6a5')]['push'](_0xc93cbc);}_0x3724ec+=1.75*_0x4fa513,_0xe1d3c8+=1.25*_0x4fa513,_0x4fa513/=0x2;}_0x372d30+=0x2*_0x1c5b7e,0x10<_0x1c5b7e&&(_0x1c5b7e/=0x2);}}Object['defineProperty'](_0x1c5b7e,_0x10de('0x5'),{'value':!0x0}),_0x9f4b13=new THREE[(_0x10de('0x68c'))](),_0x105bf3=new THREE['Scene'](),(_0x50d1d0=new THREE[(_0x10de('0x1f2'))]({'uniforms':{'faceIndex':{'value':0x0},'mapSize':{'value':0x0},'envMap':{'value':null},'testColor':{'value':new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1)}},'vertexShader':_0x10de('0x6a6'),'fragmentShader':_0x10de('0x6a7'),'blending':THREE['NoBlending']}))[_0x10de('0x85')]=_0x10de('0x687'),_0x1efe70=_0x50d1d0,_0x2e64c9[_0x10de('0xa')]={'constructor':_0x2e64c9,'update':function(_0x3931d1){var _0x1c5b7e=0x4*this[_0x10de('0x688')][0x0][_0x10de('0x35d')];_0x9f4b13['left']=0.5*-_0x1c5b7e,_0x9f4b13[_0x10de('0x6a8')]=0.5*_0x1c5b7e,_0x9f4b13[_0x10de('0x588')]=0.5*-_0x1c5b7e,_0x9f4b13[_0x10de('0x6a9')]=0.5*_0x1c5b7e,_0x9f4b13[_0x10de('0x339')]=0x0,_0x9f4b13[_0x10de('0x3a7')]=0x1,_0x9f4b13[_0x10de('0x6aa')]();for(var _0x576714=0x0;_0x576714<this[_0x10de('0x6a5')]['length'];_0x576714++)_0x105bf3['add'](this[_0x10de('0x6a5')][_0x576714]);var _0x1c5b7e=_0x3931d1['gammaInput'],_0x50d1d0=_0x3931d1[_0x10de('0x692')],_0x2e64c9=_0x3931d1[_0x10de('0x693')],_0x2979f3=_0x3931d1[_0x10de('0x694')],_0x3157d2=_0x3931d1[_0x10de('0x6ab')]();for(_0x3931d1[_0x10de('0x698')]=!0x1,_0x3931d1[_0x10de('0x692')]=!0x1,_0x3931d1[_0x10de('0x693')]=THREE[_0x10de('0x6ac')],_0x3931d1['toneMappingExposure']=0x1,_0x3931d1['setRenderTarget'](this[_0x10de('0x689')]),_0x3931d1[_0x10de('0x362')](_0x105bf3,_0x9f4b13),_0x3931d1['setRenderTarget'](_0x3157d2),_0x3931d1[_0x10de('0x693')]=_0x2e64c9,_0x3931d1[_0x10de('0x694')]=_0x2979f3,_0x3931d1[_0x10de('0x698')]=_0x1c5b7e,_0x3931d1['gammaOutput']=_0x50d1d0,_0x576714=0x0;_0x576714<this[_0x10de('0x6a5')]['length'];_0x576714++)_0x105bf3[_0x10de('0xd2')](this[_0x10de('0x6a5')][_0x576714]);},'dispose':function(){for(var _0x3931d1=0x0,_0x1c5b7e=this[_0x10de('0x6a5')][_0x10de('0xe')];_0x3931d1<_0x1c5b7e;_0x3931d1++)this[_0x10de('0x6a5')][_0x3931d1][_0x10de('0x40')][_0x10de('0xce')]();this[_0x10de('0x6a5')][0x0][_0x10de('0xd0')][_0x10de('0xce')]();}},_0x1c5b7e[_0x10de('0x687')]=_0x2e64c9;},function(_0x180597,_0x4aaf0c,_0x15d562){'use strict';function _0x37abd0(_0x180597){this[_0x10de('0x4ea')]=_0x180597;}Object[_0x10de('0x2')](_0x4aaf0c,_0x10de('0x5'),{'value':!0x0}),_0x37abd0['prototype'][_0x10de('0x6ad')]=function(_0x180597,_0x4aaf0c){_0x4aaf0c=_0x4aaf0c||{};var _0x15d562=new THREE[(_0x10de('0x463'))](),_0x37abd0=new THREE[(_0x10de('0x1f2'))]({'type':_0x10de('0x6ae'),'uniforms':THREE[_0x10de('0x4a9')]['clone']({'tEquirect':{'value':null}}),'vertexShader':'\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09vec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x0a\x09\x09\x09\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x0a\x09\x09\x09\x09#include\x20<begin_vertex>\x0a\x09\x09\x09\x09#include\x20<project_vertex>\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','fragmentShader':_0x10de('0x6af'),'side':THREE[_0x10de('0x466')],'blending':THREE[_0x10de('0x68a')]}),_0x37abd0=(_0x37abd0[_0x10de('0x1b4')]['tEquirect'][_0x10de('0x10')]=_0x180597,new THREE[(_0x10de('0x348'))](new THREE[(_0x10de('0x458'))](0x5,0x5,0x5),_0x37abd0)),_0x4ea291=(_0x15d562[_0x10de('0x1d5')](_0x37abd0),_0x4aaf0c[_0x10de('0x335')]||0x200),_0x4aaf0c={'type':_0x180597['type'],'format':_0x180597['format'],'encoding':_0x180597[_0x10de('0x46b')],'generateMipmaps':(void 0x0!==_0x4aaf0c[_0x10de('0x69f')]?_0x4aaf0c:_0x180597)['generateMipmaps'],'minFilter':(void 0x0!==_0x4aaf0c[_0x10de('0x685')]?_0x4aaf0c:_0x180597)[_0x10de('0x685')],'magFilter':(void 0x0!==_0x4aaf0c[_0x10de('0x686')]?_0x4aaf0c:_0x180597)['magFilter']},_0x180597=new THREE[(_0x10de('0x6b0'))](0x1,0xa,_0x4ea291,_0x4aaf0c);return _0x180597['update'](this[_0x10de('0x4ea')],_0x15d562),_0x37abd0[_0x10de('0xd0')][_0x10de('0xce')](),_0x37abd0['material'][_0x10de('0xce')](),_0x180597[_0x10de('0x6b1')];};_0x1a3cdd=new THREE[(_0x10de('0x6b2'))](0x5a,0x1,0.1,0xa),_0x234bba=new THREE[(_0x10de('0x463'))](),(_0x12cbb6=new THREE[(_0x10de('0x348'))](new THREE[(_0x10de('0x458'))](0x1,0x1,0x1),((_0x56dfd3=new THREE['ShaderMaterial']({'uniforms':{'equirectangularMap':{'value':null}},'vertexShader':_0x10de('0x6b3'),'fragmentShader':_0x10de('0x6b4'),'blending':THREE['NoBlending']}))[_0x10de('0x85')]=_0x10de('0x6b5'),_0x56dfd3)))[_0x10de('0x40')][_0x10de('0x3bb')]=THREE[_0x10de('0x466')],_0x234bba['add'](_0x12cbb6),_0x187b10[_0x10de('0xa')]={'constructor':_0x187b10,'update':function(_0x180597){var _0x4aaf0c=_0x180597[_0x10de('0x6ab')]();_0x12cbb6['material'][_0x10de('0x1b4')][_0x10de('0x6b6')]['value']=this['sourceTexture'];for(var _0x15d562=0x0;_0x15d562<0x6;_0x15d562++){var _0x37abd0=this[_0x10de('0x6b7')][_0x15d562];_0x1a3cdd[_0x10de('0x222')][_0x10de('0x1e')](0x0,0x0,0x0),_0x1a3cdd['up'][_0x10de('0x1e')](_0x37abd0['u'][0x0],_0x37abd0['u'][0x1],_0x37abd0['u'][0x2]),_0x1a3cdd[_0x10de('0x430')](_0x37abd0['t'][0x0],_0x37abd0['t'][0x1],_0x37abd0['t'][0x2]),_0x180597[_0x10de('0x6b8')](this['renderTarget'],_0x15d562),_0x180597[_0x10de('0x69b')](),_0x180597[_0x10de('0x362')](_0x234bba,_0x1a3cdd);}return _0x180597[_0x10de('0x6b8')](_0x4aaf0c),this['renderTarget'][_0x10de('0xdc')];},'dispose':function(){this['renderTarget'][_0x10de('0xce')]();}};var _0x1a3cdd,_0x234bba,_0x12cbb6,_0x56dfd3=_0x187b10;function _0x187b10(_0x180597,_0x4aaf0c){_0x4aaf0c=_0x4aaf0c||{},this[_0x10de('0x68d')]=_0x180597,this['resolution']=_0x4aaf0c[_0x10de('0x335')]||0x200,this[_0x10de('0x6b7')]=[{'t':[0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[-0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x1,0x0],'u':[0x0,0x0,0x1]},{'t':[0x0,-0x1,0x0],'u':[0x0,0x0,-0x1]},{'t':[0x0,0x0,0x1],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x0,-0x1],'u':[0x0,-0x1,0x0]}];_0x180597={'format':_0x4aaf0c['format']||this[_0x10de('0x68d')][_0x10de('0x6b9')],'magFilter':this[_0x10de('0x68d')][_0x10de('0x686')],'minFilter':this[_0x10de('0x68d')][_0x10de('0x685')],'type':_0x4aaf0c[_0x10de('0x85')]||this[_0x10de('0x68d')][_0x10de('0x85')],'generateMipmaps':this[_0x10de('0x68d')]['generateMipmaps'],'anisotropy':this[_0x10de('0x68d')]['anisotropy'],'encoding':this[_0x10de('0x68d')][_0x10de('0x46b')]};this[_0x10de('0x6b1')]=new THREE[(_0x10de('0x6ba'))](this[_0x10de('0x335')],this[_0x10de('0x335')],_0x180597);}_0x4aaf0c[_0x10de('0x6bb')]=_0x37abd0,_0x4aaf0c[_0x10de('0x6b5')]=_0x56dfd3;},function(_0x2c5981,_0x519e7f,_0x551e55){'use strict';Object[_0x10de('0x2')](_0x519e7f,_0x10de('0x5'),{'value':!0x0}),_0x519e7f[_0x10de('0x681')]=void 0x0;_0x551e55=_0x551e55(0x25),_0x551e55=_0x551e55&&_0x551e55[_0x10de('0x5')]?_0x551e55:{'default':_0x551e55};function _0x8c533b(_0x2c5981){this[_0x10de('0x6bc')]=void 0x0!==_0x2c5981?_0x2c5981:THREE[_0x10de('0x6bd')],this[_0x10de('0x85')]=THREE[_0x10de('0x6be')];}(_0x8c533b[_0x10de('0xa')]=(0x0,_0x551e55[_0x10de('0x9')])(THREE[_0x10de('0x6bf')][_0x10de('0xa')]))[_0x10de('0x6c0')]=function(_0x2c5981){function _0x3e5658(_0x2c5981,_0x519e7f){switch(_0x2c5981){case _0x330da9:console['error'](_0x10de('0x6c1')+(_0x519e7f||''));break;case _0x5b6890:console[_0x10de('0x205')]('THREE.RGBELoader\x20Write\x20Error:\x20'+(_0x519e7f||''));break;case _0x307069:console[_0x10de('0x205')](_0x10de('0x6c2')+(_0x519e7f||''));break;default:console[_0x10de('0x205')](_0x10de('0x6c3')+(_0x519e7f||''));}return _0x580343;}function _0x6d354(_0x2c5981,_0x519e7f,_0x551e55){_0x519e7f=_0x519e7f||0x400;for(var _0x8c533b=_0x2c5981[_0x10de('0x6c4')],_0xd08907=-0x1,_0x28c556=0x0,_0x123c41='',_0x46db31=String['fromCharCode']['apply'](null,new Uint16Array(_0x2c5981['subarray'](_0x8c533b,_0x8c533b+0x80)));(_0xd08907=_0x46db31[_0x10de('0x4d')](_0x3ac0d5))<0x0&&_0x28c556<_0x519e7f&&_0x8c533b<_0x2c5981[_0x10de('0x6c5')];)_0x123c41+=_0x46db31,_0x28c556+=_0x46db31[_0x10de('0xe')],_0x8c533b+=0x80,_0x46db31+=String[_0x10de('0x6c6')][_0x10de('0x15')](null,new Uint16Array(_0x2c5981[_0x10de('0xf2')](_0x8c533b,_0x8c533b+0x80)));return-0x1<_0xd08907&&(!0x1!==_0x551e55&&(_0x2c5981[_0x10de('0x6c4')]+=_0x28c556+_0xd08907+0x1),_0x123c41+_0x46db31[_0x10de('0x86')](0x0,_0xd08907));}var _0x519e7f,_0x551e55,_0x8c533b,_0x40d3e2,_0x431f29,_0x580343=-0x1,_0x330da9=0x1,_0x5b6890=0x2,_0x307069=0x3,_0x3ac0d5='\x0a',_0x2c5981=new Uint8Array(_0x2c5981),_0x57ac41=(_0x2c5981[_0x10de('0x6c4')]=0x0,function(_0x2c5981){var _0x519e7f,_0x551e55,_0x8c533b=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,_0x40d3e2=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,_0x431f29=/^\s*FORMAT=(\S+)\s*$/,_0x580343=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,_0x5b6890={'valid':0x0,'string':'','comments':'','programtype':_0x10de('0x6c7'),'format':'','gamma':0x1,'exposure':0x1,'width':0x0,'height':0x0};if(_0x2c5981[_0x10de('0x6c4')]>=_0x2c5981['byteLength']||!(_0x519e7f=_0x6d354(_0x2c5981)))return _0x3e5658(_0x330da9,_0x10de('0x6c8'));if(!(_0x551e55=_0x519e7f[_0x10de('0x56')](/^#\?(\S+)$/)))return _0x3e5658(_0x307069,_0x10de('0x6c9'));for(_0x5b6890[_0x10de('0x6ca')]|=0x1,_0x5b6890[_0x10de('0x6cb')]=_0x551e55[0x1],_0x5b6890[_0x10de('0x7')]+=_0x519e7f+'\x0a';!0x1!==(_0x519e7f=_0x6d354(_0x2c5981));)if(_0x5b6890['string']+=_0x519e7f+'\x0a','#'===_0x519e7f['charAt'](0x0))_0x5b6890['comments']+=_0x519e7f+'\x0a';else if((_0x551e55=_0x519e7f[_0x10de('0x56')](_0x8c533b))&&(_0x5b6890[_0x10de('0x6cc')]=parseFloat(_0x551e55[0x1],0xa)),(_0x551e55=_0x519e7f[_0x10de('0x56')](_0x40d3e2))&&(_0x5b6890[_0x10de('0x6cd')]=parseFloat(_0x551e55[0x1],0xa)),(_0x551e55=_0x519e7f[_0x10de('0x56')](_0x431f29))&&(_0x5b6890[_0x10de('0x6ca')]|=0x2,_0x5b6890[_0x10de('0x6b9')]=_0x551e55[0x1]),(_0x551e55=_0x519e7f[_0x10de('0x56')](_0x580343))&&(_0x5b6890[_0x10de('0x6ca')]|=0x4,_0x5b6890[_0x10de('0x32c')]=parseInt(_0x551e55[0x1],0xa),_0x5b6890[_0x10de('0x35d')]=parseInt(_0x551e55[0x2],0xa)),0x2&_0x5b6890['valid']&&0x4&_0x5b6890[_0x10de('0x6ca')])break;return 0x2&_0x5b6890['valid']?0x4&_0x5b6890[_0x10de('0x6ca')]?_0x5b6890:_0x3e5658(_0x307069,_0x10de('0x6ce')):_0x3e5658(_0x307069,'missing\x20format\x20specifier');}(_0x2c5981));if(_0x580343!==_0x57ac41){var _0x5ba4a5=_0x57ac41['width'],_0x10036c=_0x57ac41[_0x10de('0x32c')],_0x59b45b=function(_0x2c5981,_0x519e7f,_0x551e55){var _0x8c533b,_0x40d3e2,_0x431f29,_0x580343,_0x5b6890,_0x6d354,_0x3ac0d5,_0x57ac41,_0x5ba4a5,_0x10036c,_0x59b45b,_0x4db15f,_0x37c9e7,_0x4b3b95=_0x519e7f,_0xeda403=_0x551e55;if(_0x4b3b95<0x8||0x7fff<_0x4b3b95||0x2!==_0x2c5981[0x0]||0x2!==_0x2c5981[0x1]||0x80&_0x2c5981[0x2])return new Uint8Array(_0x2c5981);if(_0x4b3b95!==(_0x2c5981[0x2]<<0x8|_0x2c5981[0x3]))return _0x3e5658(_0x307069,_0x10de('0x6cf'));if(!(_0x8c533b=new Uint8Array(0x4*_0x519e7f*_0x551e55))||!_0x8c533b[_0x10de('0xe')])return _0x3e5658(0x4,_0x10de('0x6d0'));for(_0x431f29=_0x40d3e2=0x0,_0x57ac41=0x4*_0x4b3b95,_0x37c9e7=new Uint8Array(0x4),_0x6d354=new Uint8Array(_0x57ac41);0x0<_0xeda403&&_0x431f29<_0x2c5981[_0x10de('0x6c5')];){if(_0x431f29+0x4>_0x2c5981[_0x10de('0x6c5')])return _0x3e5658(_0x330da9);if(_0x37c9e7[0x0]=_0x2c5981[_0x431f29++],_0x37c9e7[0x1]=_0x2c5981[_0x431f29++],_0x37c9e7[0x2]=_0x2c5981[_0x431f29++],_0x37c9e7[0x3]=_0x2c5981[_0x431f29++],0x2!=_0x37c9e7[0x0]||0x2!=_0x37c9e7[0x1]||(_0x37c9e7[0x2]<<0x8|_0x37c9e7[0x3])!=_0x4b3b95)return _0x3e5658(_0x307069,_0x10de('0x6d1'));for(_0x3ac0d5=0x0;_0x3ac0d5<_0x57ac41&&_0x431f29<_0x2c5981['byteLength'];){if((_0x4db15f=0x80<(_0x580343=_0x2c5981[_0x431f29++]))&&(_0x580343-=0x80),0x0===_0x580343||_0x57ac41<_0x3ac0d5+_0x580343)return _0x3e5658(_0x307069,_0x10de('0x6d2'));if(_0x4db15f)for(_0x5b6890=_0x2c5981[_0x431f29++],_0x5ba4a5=0x0;_0x5ba4a5<_0x580343;_0x5ba4a5++)_0x6d354[_0x3ac0d5++]=_0x5b6890;else _0x6d354['set'](_0x2c5981[_0x10de('0xf2')](_0x431f29,_0x431f29+_0x580343),_0x3ac0d5),_0x3ac0d5+=_0x580343,_0x431f29+=_0x580343;}for(_0x10036c=_0x4b3b95,_0x5ba4a5=0x0;_0x5ba4a5<_0x10036c;_0x5ba4a5++)_0x8c533b[_0x40d3e2]=_0x6d354[_0x5ba4a5+(_0x59b45b=0x0)],_0x59b45b+=_0x4b3b95,_0x8c533b[_0x40d3e2+0x1]=_0x6d354[_0x5ba4a5+_0x59b45b],_0x59b45b+=_0x4b3b95,_0x8c533b[_0x40d3e2+0x2]=_0x6d354[_0x5ba4a5+_0x59b45b],_0x59b45b+=_0x4b3b95,_0x8c533b[_0x40d3e2+0x3]=_0x6d354[_0x5ba4a5+_0x59b45b],_0x40d3e2+=0x4;_0xeda403--;}return _0x8c533b;}(_0x2c5981['subarray'](_0x2c5981['pos']),_0x5ba4a5,_0x10036c);if(_0x580343!==_0x59b45b){if(this[_0x10de('0x85')]===THREE[_0x10de('0x6be')])var _0x2442ff=_0x59b45b,_0x200092=THREE[_0x10de('0x6d3')],_0x44a6d0=THREE[_0x10de('0x6be')];else if(this[_0x10de('0x85')]===THREE[_0x10de('0x6d4')]){for(var _0x1e5fdb=_0x59b45b['length']/0x4*0x3,_0x1a672c=new Float32Array(_0x1e5fdb),_0x13d6b2=0x0;_0x13d6b2<_0x1e5fdb;_0x13d6b2++)_0x8c533b=_0x1a672c,_0x40d3e2=0x3*_0x13d6b2,0x0,_0x431f29=(_0x519e7f=_0x59b45b)[0x3+(_0x551e55=0x4*_0x13d6b2)],_0x431f29=Math[_0x10de('0x345')](0x2,_0x431f29-0x80)/0xff,_0x8c533b[0x0+_0x40d3e2]=_0x519e7f[0x0+_0x551e55]*_0x431f29,_0x8c533b[0x1+_0x40d3e2]=_0x519e7f[0x1+_0x551e55]*_0x431f29,_0x8c533b[0x2+_0x40d3e2]=_0x519e7f[0x2+_0x551e55]*_0x431f29;_0x2442ff=_0x1a672c,_0x200092=THREE[_0x10de('0x468')],_0x44a6d0=THREE['FloatType'];}else console['error'](_0x10de('0x6d5'),this[_0x10de('0x85')]);return{'width':_0x5ba4a5,'height':_0x10036c,'data':_0x2442ff,'header':_0x57ac41[_0x10de('0x7')],'gamma':_0x57ac41[_0x10de('0x6cc')],'exposure':_0x57ac41[_0x10de('0x6cd')],'format':_0x200092,'type':_0x44a6d0};}}return null;},_0x8c533b[_0x10de('0xa')][_0x10de('0x6d6')]=function(_0x2c5981){return this[_0x10de('0x85')]=_0x2c5981,this;},_0x519e7f[_0x10de('0x681')]=_0x8c533b;},function(_0xb5accf,_0x594446,_0x5c3722){'use strict';Object[_0x10de('0x2')](_0x594446,_0x10de('0x5'),{'value':!0x0});var _0x2874e2=_0x56dfcf(_0x5c3722(0x0));function _0x56dfcf(_0xb5accf){return _0xb5accf&&_0xb5accf[_0x10de('0x5')]?_0xb5accf:{'default':_0xb5accf};}function _0x5eb0b7(_0xb5accf){var _0x594446=_0xb5accf[_0x10de('0x1e8')],_0x594446=void 0x0===_0x594446?0x6:_0x594446,_0x5c3722=_0xb5accf[_0x10de('0x363')],_0x5c3722=void 0x0===_0x5c3722?0.005:_0x5c3722,_0x56dfcf=_0xb5accf[_0x10de('0x6d7')],_0x56dfcf=void 0x0===_0x56dfcf?0x32:_0x56dfcf,_0x3193fc=_0xb5accf[_0x10de('0xdc')],_0x3f0c43=_0xb5accf[_0x10de('0x6d8')],_0x2bb48c=_0xb5accf[_0x10de('0x32f')],_0x2bb48c=void 0x0===_0x2bb48c?'#00335f':_0x2bb48c,_0x32ab35=_0xb5accf[_0x10de('0x6d9')],_0x32ab35=void 0x0===_0x32ab35?0x1:_0x32ab35,_0x3bc360=_0xb5accf[_0x10de('0x6da')],_0x3bc360=void 0x0===_0x3bc360?'#b2b2e6':_0x3bc360,_0x58e66f=_0xb5accf['flowAngle'],_0x58e66f=void 0x0===_0x58e66f?0x0:_0x58e66f,_0xb5accf=_0xb5accf[_0x10de('0x233')],_0xb5accf=void 0x0===_0xb5accf?0x1:_0xb5accf;(0x0,_0x2874e2[_0x10de('0x9')])(this,_0x5eb0b7),this[_0x10de('0x43e')]=!0x1,this[_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()['setStyle'](_0x2bb48c),this[_0x10de('0x6db')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x3bc360),this['speed']=_0x5c3722,this[_0x10de('0x6d7')]=_0x56dfcf,this[_0x10de('0x6d9')]=_0x32ab35,this[_0x10de('0x6dc')]=_0x58e66f,this[_0x10de('0x233')]=_0xb5accf,this[_0x10de('0x1e8')]=_0x594446,this['water']=null,this[_0x10de('0x40d')]=null,this['count']=0x0,this['material']=null,this[_0x10de('0xdc')]=_0x3193fc,this[_0x10de('0x6d8')]=_0x3f0c43,this[_0x10de('0x6dd')]=null,this[_0x10de('0x6de')]=[];}(0x0,_0x56dfcf(_0x5c3722(0x1))[_0x10de('0x9')])(_0x5eb0b7,[{'key':_0x10de('0x592'),'value':function(_0xb5accf){var _0x594446=_0xb5accf[_0x10de('0x3e')][_0x10de('0x593')]['length'];if(0x0<_0x594446){this[_0x10de('0x6de')][_0x10de('0x84')](_0xb5accf);for(var _0x5c3722=_0xb5accf[_0x10de('0xd0')][_0x10de('0x6df')](_0x10de('0x222')),_0x56dfcf=new Array(_0x5c3722[_0x10de('0x114')]),_0x1660b2=0x0;_0x1660b2<_0x594446;_0x1660b2++){var _0x2a9bce=_0xb5accf['datas_']['brothers'][_0x1660b2][_0x10de('0x6e0')][0x0],_0xb66724=_0xb5accf['datas_'][_0x10de('0x593')][_0x1660b2][_0x10de('0x6e1')][0x0],_0x2ee6fd=_0xb5accf['datas_'][_0x10de('0x593')][_0x1660b2][_0x10de('0x6e0')][0x1];_0x56dfcf['fill'](0x1,_0x2a9bce,_0xb66724),_0x56dfcf[_0x10de('0x4e0')](0x0,_0xb66724,_0x2ee6fd);}_0xb5accf[_0x10de('0xd0')][_0x10de('0x202')](_0x10de('0x6e2'),new THREE[(_0x10de('0x116'))](new Float32Array(_0x56dfcf),0x1));}}},{'key':'getMaterial','value':function(){return this['material'];}},{'key':_0x10de('0x32e'),'value':function(_0xb5accf,_0x594446){var _0x5c3722=this,_0x56dfcf=(this[_0x10de('0xdc')][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],this['texture'][_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0xb5accf?(this[_0x10de('0x40')]=_0xb5accf,this[_0x10de('0x40')][_0x10de('0x232')]=this[_0x10de('0x232')],_0x5c3722['material'][_0x10de('0xcf')]&&(_0x594446?(_0x5c3722[_0x10de('0x40')]['map']['dispose'](),_0x5c3722[_0x10de('0x40')][_0x10de('0xcf')]=null,_0x5c3722[_0x10de('0x40')][_0x10de('0x6e3')]=this['originTexName']):(_0x5c3722[_0x10de('0x40')]['defines']['IS_USE_ORIGING_MAP']='',this['texture']=_0x5c3722[_0x10de('0x40')][_0x10de('0xcf')],_0x5c3722[_0x10de('0x40')]['originTexName']=this[_0x10de('0x6e3')],_0x5c3722[_0x10de('0x40')][_0x10de('0xcf')]=null))):this[_0x10de('0x40')]=new THREE[(_0x10de('0x5ac'))]({'color':this[_0x10de('0x232')]}),0x1!==this[_0x10de('0x233')]&&(this['material']['transparent']=!0x0,this[_0x10de('0x40')]['opacity']=this[_0x10de('0x233')]),null);return _0x5c3722[_0x10de('0x6dd')]&&(_0x5c3722[_0x10de('0x40')][_0x10de('0x17d')][_0x10de('0x6e4')]='',_0x5c3722[_0x10de('0x40')][_0x10de('0x1e4')]=!0x0,(_0x56dfcf=new THREE[(_0x10de('0xd9'))]()['load'](_0x5c3722[_0x10de('0x6dd')]))[_0x10de('0x65a')]=!0x1),_0x5c3722['skyTexture']&&(_0x5c3722[_0x10de('0x40')]['defines'][_0x10de('0x6e5')]=''),this[_0x10de('0x40')]['onBeforeCompile']=function(_0xb5accf){_0xb5accf['uniforms']['iTime']={'value':0x0},_0xb5accf['uniforms'][_0x10de('0x6e6')]={'value':_0x5c3722[_0x10de('0x1e8')]||0x5},_0xb5accf[_0x10de('0x1b4')]['fluctuate']={'value':_0x5c3722['fluctuate']},_0xb5accf[_0x10de('0x1b4')][_0x10de('0x6d9')]={'value':_0x5c3722[_0x10de('0x6d9')]},_0xb5accf[_0x10de('0x1b4')][_0x10de('0x411')]={'value':_0x5c3722[_0x10de('0xdc')]},_0xb5accf['uniforms'][_0x10de('0x609')]={'value':_0x56dfcf},_0xb5accf[_0x10de('0x1b4')][_0x10de('0x48a')]={'value':_0x5c3722[_0x10de('0x6d8')]},_0xb5accf['uniforms'][_0x10de('0x6db')]={'value':_0x5c3722[_0x10de('0x6db')]},_0xb5accf['uniforms']['flowDirect']={'value':THREE[_0x10de('0x18')]['degToRad'](_0x5c3722['flowAngle'])},_0xb5accf['vertexShader']=_0xb5accf[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20uv2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xb5accf['vertexShader']=_0xb5accf[_0x10de('0x59')]['replace'](_0x10de('0x414'),_0x10de('0x6e7')),_0xb5accf[_0x10de('0x59')]=_0xb5accf[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x48f'),_0x10de('0x6e8')),_0xb5accf[_0x10de('0x5a')]=_0xb5accf['fragmentShader'][_0x10de('0x57')](_0x10de('0x3c5'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20fluctuate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texUvScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20flowDirect;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20varying\x20float\x20isTop;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash(\x20in\x20vec2\x20p\x20)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(p.x*15.32+p.y*35.78)\x20*\x2043758.23);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash2(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(hash(p*.754),hash(1.5743*p.yx+4.5891))-.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20add\x20=\x20vec2(0.5,\x200.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20floor(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20f\x20=\x20fract(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20f*f*(3.0-2.0*f);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20res\x20=\x20mix(mix(\x20hash2(p),\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash2(p\x20+\x20add.xy),f.x),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mix(\x20hash2(p\x20+\x20add.yx),\x20hash2(p\x20+\x20add.xx),f.x),f.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20res;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2b(\x20in\x20vec2\x20p\x20)//\x20Simplex\x20Noise\x20from\x20IQ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K1\x20=\x200.366025404;\x20//\x20(sqrt(3)-1)/2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K2\x20=\x200.211324865;\x20//\x20(3-sqrt(3))/6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20/=2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20i\x20=\x20floor(\x20p\x20+\x20(p.x+p.y)*K1\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20a\x20=\x20p\x20-\x20i\x20+\x20(i.x+i.y)*K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20o\x20=\x20(a.x>a.y)\x20?\x20vec2(1.0,0.0)\x20:\x20vec2(0.0,1.0);\x20//vec2\x20of\x20=\x200.5\x20+\x200.5*vec2(sign(a.x-a.y),\x20sign(a.y-a.x));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20b\x20=\x20a\x20-\x20o\x20+\x20K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20c\x20=\x20a\x20-\x201.0\x20+\x202.0*K2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20h\x20=\x20max(\x200.5-vec3(dot(a,a),\x20dot(b,b),\x20dot(c,c)\x20),\x200.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20nx\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+0.0)),\x20dot(b,hash2(i+o)),\x20dot(c,hash2(i+1.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20ny\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+4.5)),\x20dot(b,hash2(i+o+4.5)),\x20dot(c,hash2(i+1.0+4.5)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(dot(\x20nx,\x20vec3(fluctuate)\x20),dot(\x20ny,\x20vec3(fluctuate)\x20));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20m2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20fbm2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20r\x20=\x20vec2(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20+=\x20m2*noise2b(x+r)*a;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x\x20+=.3*r+.4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20water(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=fbm2(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20rotateUV(vec2\x20uv,\x20float\x20rotation)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mid\x20=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20sin(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20+\x20mid,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20-\x20sin(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20mid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv\x20+\x20disturb).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xb5accf[_0x10de('0x5a')]=_0xb5accf[_0x10de('0x5a')]['replace'](_0x10de('0x60a'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texture2D(\x20alphaMaskTex,\x20vUV2\x20).a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xb5accf[_0x10de('0x5a')]=_0xb5accf[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20/=\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotateUV(uv,\x20flowDirect);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.5*iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20st\x20=\x20sin(t),\x20ct\x20=\x20cos(t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m2\x20=\x20mat2(ct,st,-st,ct);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20water(uv+2.*iTime)+2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20length(p)/7.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c=clamp(pow(c,3.),0.,1.);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_ORIGING_MAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texCol\x20=\x20texture2D(texture1,uv\x20*\x20texUvScale\x20+\x20p/10.).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,lightColor,c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(p/10.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20skyCol\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5c3722['shader']=_0xb5accf;},this[_0x10de('0x40')];}},{'key':'updateParams','value':function(_0xb5accf){_0xb5accf=_0xb5accf[_0x10de('0x1e8')];this[_0x10de('0x40d')]&&_0xb5accf&&(this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x6e6')][_0x10de('0x10')]=_0xb5accf);}},{'key':_0x10de('0xce'),'value':function(){this[_0x10de('0x40')]&&this[_0x10de('0x40')][_0x10de('0xce')](),this['texture']&&this[_0x10de('0xdc')][_0x10de('0xce')](),this[_0x10de('0xdc')]=null,this[_0x10de('0x40')]=null,this[_0x10de('0x40d')]=null;for(var _0xb5accf=0x0,_0x594446=this[_0x10de('0x6de')][_0x10de('0xe')];_0xb5accf<_0x594446;_0xb5accf++)this[_0x10de('0x6de')][_0xb5accf][_0x10de('0x40')][0x0]=null;this[_0x10de('0x6de')]['length']=0x0;}},{'key':_0x10de('0x362'),'value':function(){this[_0x10de('0x40')]&&this['shader']&&(this['count']+=this[_0x10de('0x363')],this['shader']['uniforms'][_0x10de('0x410')]['value']=this['count']);}}]),_0x594446[_0x10de('0x9')]=_0x5eb0b7;},function(_0x13299d,_0x2298cd,_0x5b69c5){'use strict';Object[_0x10de('0x2')](_0x2298cd,_0x10de('0x5'),{'value':!0x0});var _0x202d23=_0x1cc076(_0x5b69c5(0x0)),_0x5b4ed8=_0x1cc076(_0x5b69c5(0x1)),_0x51670b=_0x5b69c5(0xeb);function _0x1cc076(_0x13299d){return _0x13299d&&_0x13299d['__esModule']?_0x13299d:{'default':_0x13299d};}function _0x2abf3a(_0x13299d){var _0x2298cd=_0x13299d[_0x10de('0x2aa')],_0x5b69c5=_0x13299d[_0x10de('0x363')],_0x5b69c5=void 0x0===_0x5b69c5?0x1:_0x5b69c5,_0x13299d=_0x13299d[_0x10de('0x6e9')];(0x0,_0x202d23[_0x10de('0x9')])(this,_0x2abf3a),this['water']=null,this['light']=_0x2298cd,this[_0x10de('0x363')]=_0x5b69c5,this[_0x10de('0x6e9')]=_0x13299d;}(0x0,_0x5b4ed8[_0x10de('0x9')])(_0x2abf3a,[{'key':_0x10de('0x6ea'),'value':function(_0x13299d,_0x2298cd,_0x5b69c5,_0x202d23){_0x5b69c5=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x5b69c5),_0x5b69c5[_0x10de('0x49d')]=_0x5b69c5[_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x202d23=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x202d23);return _0x202d23[_0x10de('0x65a')]=!0x1,_0x202d23[_0x10de('0x10c')]=!0x0,this[_0x10de('0x6eb')]=new _0x51670b[(_0x10de('0x6ec'))](_0x13299d,_0x2298cd,{'textureWidth':0x200,'textureHeight':0x200,'waterNormals':_0x5b69c5,'waterMask':_0x202d23,'alpha':0x1,'sunDirection':this[_0x10de('0x2aa')][_0x10de('0x222')][_0x10de('0x1c5')]()[_0x10de('0x1d4')](),'sunColor':_0x10de('0x44a'),'waterColor':this[_0x10de('0x6e9')]||_0x10de('0x6ed'),'distortionScale':3.7,'fog':!0x1}),this[_0x10de('0x6eb')];}},{'key':_0x10de('0x6ee'),'value':function(_0x13299d){this[_0x10de('0x6eb')]&&this['water'][_0x10de('0x40d')]&&_0x13299d[_0x10de('0x6e9')]&&(_0x13299d['waterColor'],this[_0x10de('0x6eb')][_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x6e9')][_0x10de('0x10')][_0x10de('0x331')](_0x13299d['waterColor']));}},{'key':_0x10de('0x362'),'value':function(_0x13299d){this['water']&&this[_0x10de('0x6eb')][_0x10de('0x40d')]&&(this[_0x10de('0x6eb')][_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')]['value']+=_0x13299d*this[_0x10de('0x363')]);}}]),_0x2298cd[_0x10de('0x9')]=_0x2abf3a;},function(_0x185426,_0x1daf3f,_0x3af3a3){'use strict';Object[_0x10de('0x2')](_0x1daf3f,_0x10de('0x5'),{'value':!0x0}),_0x1daf3f[_0x10de('0x6ec')]=void 0x0;var _0x3af3a3=_0x3af3a3(0x9d),_0x1d4e4d=_0x3af3a3&&_0x3af3a3[_0x10de('0x5')]?_0x3af3a3:{'default':_0x3af3a3};_0x1daf3f[_0x10de('0x6ec')]=function(_0x185426,_0x1daf3f,_0x3af3a3){var _0xe2568d=this,_0x58987a=void 0x0!==(_0x3af3a3=_0x3af3a3||{})[_0x10de('0x6ef')]?_0x3af3a3[_0x10de('0x6ef')]:0x200,_0x4cb02b=void 0x0!==_0x3af3a3[_0x10de('0x6f0')]?_0x3af3a3[_0x10de('0x6f0')]:0x200,_0x372207=void 0x0!==_0x3af3a3[_0x10de('0x6f1')]?_0x3af3a3[_0x10de('0x6f1')]:0x0,_0x509c0f=(void 0x0!==_0x3af3a3[_0x10de('0x6f2')]&&_0x3af3a3['alpha'],void 0x0!==_0x3af3a3['iTime']&&_0x3af3a3[_0x10de('0x410')],void 0x0!==_0x3af3a3[_0x10de('0x6f3')]?_0x3af3a3['waterNormals']:null),_0x28883e=void 0x0!==_0x3af3a3[_0x10de('0x6f4')]?_0x3af3a3[_0x10de('0x6f4')]:null,_0x290c7e=void 0x0!==_0x3af3a3[_0x10de('0x6f5')]?_0x3af3a3[_0x10de('0x6f5')]:new THREE[(_0x10de('0x1ca'))](0.70707,0.70707,0x0),_0x39d619=new THREE[(_0x10de('0x1cc'))](void 0x0!==_0x3af3a3[_0x10de('0x6f6')]?_0x3af3a3[_0x10de('0x6f6')]:0xffffff),_0x2088a6=new THREE[(_0x10de('0x1cc'))](void 0x0!==_0x3af3a3[_0x10de('0x6e9')]?_0x3af3a3[_0x10de('0x6e9')]:0x7f7f7f),_0x381c57=void 0x0!==_0x3af3a3[_0x10de('0x6f7')]?_0x3af3a3[_0x10de('0x6f7')]:new THREE[(_0x10de('0x1ca'))](0x0,0x0,0x0),_0x4e2a98=void 0x0!==_0x3af3a3[_0x10de('0x6f8')]?_0x3af3a3[_0x10de('0x6f8')]:0x14,_0x49f08c=void 0x0!==_0x3af3a3[_0x10de('0x3bb')]?_0x3af3a3[_0x10de('0x3bb')]:THREE[_0x10de('0x6f9')],_0x4b6230=void 0x0!==_0x3af3a3[_0x10de('0x1e7')]&&_0x3af3a3[_0x10de('0x1e7')],_0x3af3a3=void 0x0===_0x3af3a3[_0x10de('0x6fa')]||_0x3af3a3[_0x10de('0x6fa')],_0x490db7=new THREE[(_0x10de('0x6fb'))](),_0x558d71=new THREE['Vector3'](),_0x538ec9=new THREE[(_0x10de('0x1ca'))](),_0x5d7eaf=new THREE[(_0x10de('0x1ca'))](),_0x50e6fb=new THREE[(_0x10de('0x353'))](),_0xe99698=new THREE['Vector3'](0x0,0x0,-0x1),_0x4febb0=new THREE[(_0x10de('0x1cb'))](),_0x1beafd=new THREE[(_0x10de('0x1ca'))](),_0x2eb4c3=new THREE[(_0x10de('0x1ca'))](),_0x51bda2=new THREE[(_0x10de('0x1cb'))](),_0x561f3a=new THREE['Matrix4'](),_0x1c85bd=new THREE[(_0x10de('0x6b2'))](),_0x205720={'minFilter':THREE[_0x10de('0x618')],'magFilter':THREE[_0x10de('0x618')],'format':THREE[_0x10de('0x468')],'stencilBuffer':!0x0},_0x3eef26=new THREE[(_0x10de('0x6a2'))](_0x58987a,_0x4cb02b,_0x205720);THREE['Math'][_0x10de('0x6fc')](_0x58987a)&&THREE[_0x10de('0x18')][_0x10de('0x6fc')](_0x4cb02b)||(_0x3eef26[_0x10de('0xdc')][_0x10de('0x69f')]=!0x1),_0xe2568d['material']=_0x1daf3f,_0x28883e&&(_0xe2568d[_0x10de('0x40')][_0x10de('0x17d')][_0x10de('0x6fd')]=''),_0xe2568d[_0x10de('0x40')][_0x10de('0x1e4')]=!0x0,_0xe2568d[_0x10de('0x40')][_0x10de('0x6fe')]=!0x0,_0xe2568d['material'][_0x10de('0x3bb')]=_0x49f08c,_0xe2568d[_0x10de('0x40')][_0x10de('0x1e7')]=_0x4b6230,_0x3af3a3&&(_0xe2568d[_0x10de('0x40')][_0x10de('0x606')]=((_0x205720=document[_0x10de('0x87')]('canvas'))[_0x10de('0x35d')]=0x2,_0x205720['height']=0x2,_0x205720['getContext']('2d')[_0x10de('0x405')]='#FFFFFF',new THREE[(_0x10de('0x6ff'))](_0x205720)),_0xe2568d[_0x10de('0x40')][_0x10de('0x607')]=0x0),_0xe2568d[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x185426){_0x185426['uniforms']['normalSampler']={'value':_0x509c0f},_0x185426[_0x10de('0x1b4')]['mirrorSampler']={'value':_0x3eef26[_0x10de('0xdc')]},_0x185426[_0x10de('0x1b4')][_0x10de('0x6f2')]={'value':0x1},_0x185426['uniforms']['iTime']={'value':0x0},_0x185426[_0x10de('0x1b4')][_0x10de('0xe8')]={'value':0x1},_0x185426[_0x10de('0x1b4')][_0x10de('0x6f8')]={'value':_0x4e2a98},_0x185426['uniforms'][_0x10de('0x700')]={'value':_0x561f3a},_0x185426[_0x10de('0x1b4')]['sunColor']={'value':_0x39d619},_0x185426[_0x10de('0x1b4')]['sunDirection']={'value':_0x290c7e},_0x185426[_0x10de('0x1b4')]['eye']={'value':_0x381c57},_0x185426[_0x10de('0x1b4')][_0x10de('0x6e9')]={'value':_0x2088a6},_0x185426[_0x10de('0x1b4')][_0x10de('0x701')]={'value':_0x28883e},_0x185426[_0x10de('0x59')]=_0x185426[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x412'),_0x10de('0x702')),_0x185426[_0x10de('0x59')]=_0x185426[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mirrorCoord\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20mirrorCoord.xyzw;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mirrorCoord\x20=\x20textureMatrix\x20*\x20mirrorCoord;\x0a\x09\x09\x09//\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x201.0,\x201.0,\x201.5,\x200.0,\x200.0);\x0a\x09\x09\x09//\x20vUV\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x09\x09\x09vUV\x20=\x20uv;\x0a\x09\x09\x09#if\x20defined(\x20USE_AOMAP\x20)\x0a\x09\x09\x09\x09vUV\x20=\x20uv2;\x0a\x09\x09\x09#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x185426[_0x10de('0x5a')]=_0x185426[_0x10de('0x5a')]['replace']('uniform\x20float\x20opacity;',_0x10de('0x703')),_0x185426[_0x10de('0x5a')]=_0x185426[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x704'),_0x10de('0x705')),_0x185426[_0x10de('0x5a')]=_0x185426[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x706')),_0xe2568d[_0x10de('0x40d')]=_0x185426;},_0xe2568d[_0x10de('0x1f6')]=new THREE[(_0x10de('0x348'))](_0x185426,_0x1daf3f),_0xe2568d[_0x10de('0x1f6')][_0x10de('0x707')]=!0x0,_0xe2568d[_0x10de('0x1f6')][_0x10de('0x708')]=function(_0x185426,_0x1daf3f,_0x3af3a3){var _0x58987a;_0x538ec9[_0x10de('0x709')](_0xe2568d[_0x10de('0x1f6')]['matrixWorld']),_0x5d7eaf['setFromMatrixPosition'](_0x3af3a3['matrixWorld']),_0x50e6fb['extractRotation'](_0xe2568d['mesh'][_0x10de('0x3a0')]),_0x558d71[_0x10de('0x1e')](0x0,0x1,0x0),_0x558d71[_0x10de('0x3b2')](_0x50e6fb),_0x1beafd[_0x10de('0x34c')](_0x538ec9,_0x5d7eaf),0x0<_0x1beafd[_0x10de('0x70a')](_0x558d71)||(_0x1beafd[_0x10de('0x70b')](_0x558d71)[_0x10de('0x70c')](),_0x1beafd[_0x10de('0x1d5')](_0x538ec9),_0x50e6fb['extractRotation'](_0x3af3a3['matrixWorld']),_0xe99698[_0x10de('0x1e')](0x0,0x0,-0x1),_0xe99698[_0x10de('0x3b2')](_0x50e6fb),_0xe99698[_0x10de('0x1d5')](_0x5d7eaf),_0x2eb4c3[_0x10de('0x34c')](_0x538ec9,_0xe99698),_0x2eb4c3[_0x10de('0x70b')](_0x558d71)[_0x10de('0x70c')](),_0x2eb4c3[_0x10de('0x1d5')](_0x538ec9),_0x1c85bd[_0x10de('0x222')][_0x10de('0x1d3')](_0x1beafd),_0x1c85bd['up'][_0x10de('0x1e')](0x0,0x1,0x0),_0x1c85bd['up'][_0x10de('0x3b2')](_0x50e6fb),_0x1c85bd['up'][_0x10de('0x70b')](_0x558d71),_0x1c85bd[_0x10de('0x430')](_0x2eb4c3),_0x1c85bd[_0x10de('0x3a7')]=_0x3af3a3['far'],_0x1c85bd['updateMatrixWorld'](),_0x1c85bd['projectionMatrix'][_0x10de('0x1d3')](_0x3af3a3[_0x10de('0x70d')]),_0x561f3a[_0x10de('0x1e')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),_0x561f3a[_0x10de('0x70e')](_0x1c85bd[_0x10de('0x70d')]),_0x561f3a['multiply'](_0x1c85bd['matrixWorldInverse']),_0x490db7[_0x10de('0x70f')](_0x558d71,_0x538ec9),_0x490db7[_0x10de('0x3b2')](_0x1c85bd[_0x10de('0x710')]),_0x4febb0[_0x10de('0x1e')](_0x490db7[_0x10de('0x711')]['x'],_0x490db7[_0x10de('0x711')]['y'],_0x490db7['normal']['z'],_0x490db7['constant']),_0x58987a=_0x1c85bd['projectionMatrix'],_0x51bda2['x']=((0x0,_0x1d4e4d[_0x10de('0x9')])(_0x4febb0['x'])+_0x58987a['elements'][0x8])/_0x58987a[_0x10de('0xfa')][0x0],_0x51bda2['y']=((0x0,_0x1d4e4d[_0x10de('0x9')])(_0x4febb0['y'])+_0x58987a[_0x10de('0xfa')][0x9])/_0x58987a[_0x10de('0xfa')][0x5],_0x51bda2['z']=-0x1,_0x51bda2['w']=(0x1+_0x58987a['elements'][0xa])/_0x58987a[_0x10de('0xfa')][0xe],_0x4febb0['multiplyScalar'](0x2/_0x4febb0[_0x10de('0x70a')](_0x51bda2)),_0x58987a[_0x10de('0xfa')][0x2]=_0x4febb0['x'],_0x58987a[_0x10de('0xfa')][0x6]=_0x4febb0['y'],_0x58987a[_0x10de('0xfa')][0xa]=_0x4febb0['z']+0x1-_0x372207,_0x58987a[_0x10de('0xfa')][0xe]=_0x4febb0['w'],_0x381c57[_0x10de('0x709')](_0x3af3a3['matrixWorld']),_0x58987a=_0x185426['getRenderTarget'](),_0xe2568d[_0x10de('0x1f6')][_0x10de('0x364')]=!0x1,_0x185426[_0x10de('0x6b8')](_0x3eef26),_0x185426[_0x10de('0x69b')](),_0x185426[_0x10de('0x362')](_0x1daf3f,_0x1c85bd),_0xe2568d[_0x10de('0x1f6')][_0x10de('0x364')]=!0x0,_0x185426[_0x10de('0x6b8')](_0x58987a));};};},function(_0x5ed071,_0x3a553b,_0x1b52bc){'use strict';Object[_0x10de('0x2')](_0x3a553b,_0x10de('0x5'),{'value':!0x0});var _0xc3a05e=_0x4ed78b(_0x1b52bc(0x0));function _0x4ed78b(_0x5ed071){return _0x5ed071&&_0x5ed071[_0x10de('0x5')]?_0x5ed071:{'default':_0x5ed071};}function _0x1ea39e(){(0x0,_0xc3a05e['default'])(this,_0x1ea39e),this[_0x10de('0x712')]=null;}(0x0,_0x4ed78b(_0x1b52bc(0x1))[_0x10de('0x9')])(_0x1ea39e,[{'key':_0x10de('0x713'),'value':function(){for(var _0x5ed071=new Float32Array(0x7530),_0x3a553b=0x0,_0x1b52bc=0x0;_0x1b52bc<0x64;_0x1b52bc++)for(var _0xc3a05e=0x0;_0xc3a05e<0x64;_0xc3a05e++)_0x5ed071[_0x3a553b]=0xa*_0x1b52bc-0x1f4,_0x5ed071[_0x3a553b+0x1]=0x0,_0x5ed071[_0x3a553b+0x2]=0xa*_0xc3a05e-0x1f4,_0x3a553b+=0x3;var _0x4ed78b=new THREE[(_0x10de('0x352'))](),_0x1ea39e=(_0x4ed78b[_0x10de('0x202')](_0x10de('0x222'),new THREE[(_0x10de('0x116'))](_0x5ed071,0x3)),new THREE[(_0x10de('0x452'))]({'color':0xffffff,'size':1.2}));return _0x1ea39e['sizeAttenuation']=!0x1,this['particles']=new THREE[(_0x10de('0x29a'))](_0x4ed78b,_0x1ea39e),this[_0x10de('0x712')];}}]),_0x3a553b[_0x10de('0x9')]=_0x1ea39e;},function(_0x4b1f07,_0x5859a9,_0x13a79b){'use strict';Object['defineProperty'](_0x5859a9,_0x10de('0x5'),{'value':!0x0});var _0x3eed11=_0x444459(_0x13a79b(0x0));function _0x444459(_0x4b1f07){return _0x4b1f07&&_0x4b1f07[_0x10de('0x5')]?_0x4b1f07:{'default':_0x4b1f07};}function _0x4ab46c(_0x4b1f07){var _0x5859a9=_0x4b1f07[_0x10de('0x363')],_0x5859a9=void 0x0===_0x5859a9?0.5:_0x5859a9,_0x4b1f07=_0x4b1f07[_0x10de('0x5e4')],_0x4b1f07=void 0x0===_0x4b1f07?[0.078125,0.9375]:_0x4b1f07;(0x0,_0x3eed11[_0x10de('0x9')])(this,_0x4ab46c),this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x40')]=null,this[_0x10de('0x40d')]=null,this[_0x10de('0x5e4')]=_0x4b1f07,this[_0x10de('0x363')]=_0x5859a9,this[_0x10de('0x114')]=0x0;}(0x0,_0x444459(_0x13a79b(0x1))[_0x10de('0x9')])(_0x4ab46c,[{'key':_0x10de('0x7a'),'value':function(_0x4b1f07){_0x4b1f07=_0x4b1f07[_0x10de('0x230')],_0x4b1f07=void 0x0===_0x4b1f07?0x64:_0x4b1f07,_0x4b1f07=new THREE[(_0x10de('0x418'))](_0x4b1f07,_0x4b1f07),_0x4b1f07=new THREE['Mesh'](_0x4b1f07,this[_0x10de('0x40')]);return _0x4b1f07[_0x10de('0x1fd')]['x']=0.5*-Math['PI'],this[_0x10de('0x368')][_0x10de('0x1d5')](_0x4b1f07),this[_0x10de('0x368')];}},{'key':_0x10de('0x32e'),'value':function(_0x4b1f07){var _0x5859a9=_0x4b1f07[_0x10de('0xdc')],_0x13a79b=_0x4b1f07[_0x10de('0x2eb')],_0x3eed11=void 0x0===_0x13a79b?{'x':0x0,'y':0x0}:_0x13a79b,_0x13a79b=_0x4b1f07[_0x10de('0x32f')],_0x444459=void 0x0===_0x13a79b?_0x10de('0x365'):_0x13a79b,_0x4b1f07=this[_0x10de('0x653')](),_0x4ab46c=new THREE[(_0x10de('0x658'))](_0x4b1f07),_0x14a193=(_0x5859a9[_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x5859a9[_0x10de('0x49d')]=THREE[_0x10de('0x36c')],this[_0x10de('0x40')]=new THREE[(_0x10de('0x5ac'))]({'transparent':!0x0,'depthWrite':!0x1}),this);return this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x4b1f07){_0x4b1f07[_0x10de('0x1b4')]['iTime']={'value':0x0},_0x4b1f07[_0x10de('0x1b4')][_0x10de('0x411')]={'value':_0x5859a9},_0x4b1f07['uniforms'][_0x10de('0x419')]={'value':_0x4ab46c},_0x4b1f07[_0x10de('0x1b4')]['texRepeat']={'value':new THREE[(_0x10de('0x1c8'))](_0x3eed11['x'],_0x3eed11['y'])},_0x4b1f07[_0x10de('0x1b4')][_0x10de('0x232')]={'value':new THREE[(_0x10de('0x1cc'))](_0x444459)},_0x4b1f07['vertexShader']=_0x4b1f07['vertexShader'][_0x10de('0x57')]('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4b1f07[_0x10de('0x59')]=_0x4b1f07[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x414'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4b1f07[_0x10de('0x5a')]=_0x4b1f07[_0x10de('0x5a')][_0x10de('0x57')]('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4b1f07[_0x10de('0x5a')]=_0x4b1f07['fragmentShader']['replace'](_0x10de('0x416'),_0x10de('0x714')),_0x14a193[_0x10de('0x40d')]=_0x4b1f07;},this[_0x10de('0x40')];}},{'key':_0x10de('0x653'),'value':function(){var _0x4b1f07=document[_0x10de('0x87')](_0x10de('0x472')),_0x5859a9=(_0x4b1f07[_0x10de('0x35d')]=0x100,_0x4b1f07[_0x10de('0x32c')]=0x100,_0x4b1f07[_0x10de('0x473')]('2d')),_0x13a79b=_0x5859a9['createRadialGradient'](0x80,0x80,0x80*this[_0x10de('0x5e4')][0x0],0x80,0x80,0x80*this[_0x10de('0x5e4')][0x1]);return _0x13a79b[_0x10de('0x403')](0x0,_0x10de('0x715')),_0x13a79b[_0x10de('0x403')](0x1,_0x10de('0x404')),_0x5859a9['fillStyle']=_0x13a79b,_0x5859a9['fillRect'](0x0,0x0,0x100,0x100),_0x4b1f07;}},{'key':'dispose','value':function(){this[_0x10de('0x40')]&&this[_0x10de('0x40')][_0x10de('0xce')](),this['shader'],this[_0x10de('0x40d')]=null,this[_0x10de('0x368')]=null;}},{'key':_0x10de('0x362'),'value':function(_0x4b1f07){this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]+=_0x4b1f07*this[_0x10de('0x363')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')]);}}]),_0x5859a9[_0x10de('0x9')]=_0x4ab46c;},function(_0x4b7d97,_0x3b23aa,_0x24c607){'use strict';Object['defineProperty'](_0x3b23aa,_0x10de('0x5'),{'value':!0x0});var _0x5d1501=_0x30bd52(_0x24c607(0x0));function _0x30bd52(_0x4b7d97){return _0x4b7d97&&_0x4b7d97[_0x10de('0x5')]?_0x4b7d97:{'default':_0x4b7d97};}function _0x570fd1(_0x4b7d97){var _0x3b23aa=_0x4b7d97[_0x10de('0x32f')],_0x3b23aa=void 0x0===_0x3b23aa?_0x10de('0x365'):_0x3b23aa,_0x24c607=_0x4b7d97[_0x10de('0x230')],_0x24c607=void 0x0===_0x24c607?0x3e8:_0x24c607,_0x30bd52=_0x4b7d97[_0x10de('0x2eb')],_0x30bd52=void 0x0===_0x30bd52?{'x':0xa,'y':0xa}:_0x30bd52,_0xbb3572=_0x4b7d97[_0x10de('0x5e4')],_0xbb3572=void 0x0===_0xbb3572?[0.078125,0.9375]:_0xbb3572,_0x3173de=_0x4b7d97['materialType'],_0x3173de=void 0x0===_0x3173de?_0x10de('0x716'):_0x3173de,_0x13ec48=_0x4b7d97[_0x10de('0x717')],_0x13ec48=void 0x0===_0x13ec48||_0x13ec48,_0x3605a2=_0x4b7d97[_0x10de('0x718')],_0x3605a2=void 0x0===_0x3605a2?'#FFFFFF':_0x3605a2,_0x4b7d97=_0x4b7d97[_0x10de('0x363')],_0x4b7d97=void 0x0===_0x4b7d97?0.5:_0x4b7d97;(0x0,_0x5d1501[_0x10de('0x9')])(this,_0x570fd1),this['object3d']=new THREE[(_0x10de('0x369'))](),this[_0x10de('0x232')]=new THREE['Color']()[_0x10de('0x331')](_0x3b23aa),this['radius']=_0x24c607,this[_0x10de('0x67e')]=_0x30bd52,this['transFactor']=_0xbb3572,this['materialType']=_0x3173de,this[_0x10de('0x40d')]=null,this[_0x10de('0x363')]=_0x4b7d97,this[_0x10de('0x114')]=0x0,this[_0x10de('0x717')]=_0x13ec48,this['scanLightColor']=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x3605a2);}(0x0,_0x30bd52(_0x24c607(0x1))[_0x10de('0x9')])(_0x570fd1,[{'key':_0x10de('0x719'),'value':function(_0x3b23aa,_0x24c607){var _0x4b7d97=this[_0x10de('0x653')](),_0x30bd52=new THREE['CanvasTexture'](_0x4b7d97),_0x4b7d97=(this[_0x10de('0x230')],this[_0x10de('0x232')],new THREE['PlaneBufferGeometry'](0x2*this[_0x10de('0x230')],0x2*this[_0x10de('0x230')])),_0x5747bf=new THREE[(_0x10de('0x40e'))]({'color':this['color'],'transparent':!0x0}),_0x5747bf=new((_0x10de('0x71a'))===this[(_0x10de('0x71b'))]?THREE[(_0x10de('0x459'))]:(_0x10de('0x71c'))===this['materialType']?THREE['MeshStandardMaterial']:THREE[(_0x10de('0x40e'))])({'color':this[_0x10de('0x232')],'transparent':!0x0}),_0x2b013b=this;return _0x5747bf['onBeforeCompile']=function(_0x4b7d97){_0x4b7d97[_0x10de('0x1b4')]['iTime']={'value':0x0},_0x4b7d97[_0x10de('0x1b4')][_0x10de('0x411')]={'value':_0x3b23aa},_0x4b7d97[_0x10de('0x1b4')][_0x10de('0x71d')]={'value':_0x24c607},_0x4b7d97[_0x10de('0x1b4')]['scanLightColor']={'value':_0x2b013b['scanLightColor']},_0x4b7d97[_0x10de('0x1b4')][_0x10de('0x419')]={'value':_0x30bd52},_0x4b7d97['vertexShader']=_0x4b7d97[_0x10de('0x59')]['replace'](_0x10de('0x412'),_0x10de('0x71e')),_0x4b7d97[_0x10de('0x59')]=_0x4b7d97[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x414'),_0x10de('0x71f')+_0x2b013b['texRepeat']['x'][_0x10de('0x720')](0x1)+',\x20'+_0x2b013b['texRepeat']['y'][_0x10de('0x720')](0x1)+_0x10de('0x721')),_0x4b7d97[_0x10de('0x5a')]=_0x4b7d97['fragmentShader'][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x491')+(_0x3b23aa?_0x10de('0x5c4'):'')+_0x10de('0x491')+(_0x2b013b[_0x10de('0x717')]?_0x10de('0x722'):'')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20scanLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20scanTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20centerSpreadLine(vec3\x20resultColor,\x20float\x20time,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(uv,\x20vec2(0.5),\x20time,\x20.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec3(scanLightColor),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20waveSpread(vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-uv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-uv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4b7d97[_0x10de('0x5a')]=_0x4b7d97[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x723')),_0x2b013b[_0x10de('0x40d')]=_0x4b7d97;},{'geometry':_0x4b7d97,'material':_0x5747bf};}},{'key':_0x10de('0x653'),'value':function(){var _0x4b7d97=document[_0x10de('0x87')](_0x10de('0x472')),_0x3b23aa=(_0x4b7d97[_0x10de('0x35d')]=0x100,_0x4b7d97[_0x10de('0x32c')]=0x100,_0x4b7d97[_0x10de('0x473')]('2d')),_0x24c607=_0x3b23aa['createRadialGradient'](0x80,0x80,0x80*this[_0x10de('0x5e4')][0x0],0x80,0x80,0x80*this[_0x10de('0x5e4')][0x1]);return _0x24c607[_0x10de('0x403')](0x0,_0x10de('0x715')),_0x24c607[_0x10de('0x403')](0x1,_0x10de('0x404')),_0x3b23aa[_0x10de('0x405')]=_0x24c607,_0x3b23aa[_0x10de('0x67d')](0x0,0x0,0x100,0x100),_0x4b7d97;}},{'key':'dispose','value':function(){this[_0x10de('0x40')]&&this[_0x10de('0x40')][_0x10de('0xce')](),this[_0x10de('0x40d')],this[_0x10de('0x40d')]=null,this[_0x10de('0x368')]=null;}},{'key':_0x10de('0x362'),'value':function(_0x4b7d97){this[_0x10de('0x40d')]&&(this[_0x10de('0x114')]+=_0x4b7d97*this[_0x10de('0x363')],this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')]);}}]),_0x3b23aa[_0x10de('0x9')]=_0x570fd1;},function(_0x214b3d,_0x134be1,_0x56f344){'use strict';Object['defineProperty'](_0x134be1,_0x10de('0x5'),{'value':!0x0});var _0x4b5933=_0x51a1d7(_0x56f344(0x0));function _0x51a1d7(_0x214b3d){return _0x214b3d&&_0x214b3d[_0x10de('0x5')]?_0x214b3d:{'default':_0x214b3d};}function _0x41a6db(){(0x0,_0x4b5933['default'])(this,_0x41a6db),this[_0x10de('0x368')]=new THREE['Object3D'](),this['videoElement']=null,this[_0x10de('0xdc')]=null,this['material']=null;}(0x0,_0x51a1d7(_0x56f344(0x1))[_0x10de('0x9')])(_0x41a6db,[{'key':'playVideo','value':function(){this[_0x10de('0x724')]&&this[_0x10de('0x724')]['play']();}},{'key':'playSound','value':function(){this[_0x10de('0x724')]&&(this[_0x10de('0x724')][_0x10de('0x725')]=!0x1);}},{'key':'createVideoElement','value':function(_0x214b3d,_0x134be1){var _0x56f344=document[_0x10de('0x87')](_0x10de('0x4cd')),_0x214b3d=(_0x56f344[_0x10de('0x70')]['display']=_0x10de('0x72'),_0x56f344[_0x10de('0x726')]('id',_0x214b3d),_0x56f344[_0x10de('0x511')]=!0x0,_0x56f344[_0x10de('0x725')]=!0x0,_0x56f344[_0x10de('0x727')]=!0x0,_0x56f344['crossOrigin']=_0x10de('0x728'),document['createElement'](_0x10de('0x729')));return _0x214b3d['setAttribute'](_0x10de('0x85'),_0x10de('0x72a')),_0x214b3d[_0x10de('0x726')]('src',_0x134be1),_0x56f344[_0x10de('0x72b')]=0x1,_0x56f344[_0x10de('0x73')](_0x214b3d),this[_0x10de('0x724')]=_0x56f344,this[_0x10de('0x724')];}},{'key':_0x10de('0x32e'),'value':function(){if(this[_0x10de('0x724')])return this[_0x10de('0xdc')]=new THREE[(_0x10de('0x72c'))](this[_0x10de('0x724')]),this[_0x10de('0x40')]=new THREE[(_0x10de('0x40e'))]({'map':this[_0x10de('0xdc')],'side':THREE[_0x10de('0x33a')]}),this[_0x10de('0x40')];}},{'key':'create','value':function(_0x214b3d){var _0x134be1=_0x214b3d['width'],_0x214b3d=_0x214b3d['height'],_0x134be1=new THREE[(_0x10de('0x418'))](_0x134be1,_0x214b3d),_0x214b3d=new THREE['Mesh'](_0x134be1,this[_0x10de('0x40')]);return this[_0x10de('0x368')][_0x10de('0x1d5')](_0x214b3d),this['object3d'];}}]),_0x134be1[_0x10de('0x9')]=_0x41a6db;},function(_0x23891b,_0x2ec067,_0x32bc53){'use strict';Object['defineProperty'](_0x2ec067,_0x10de('0x5'),{'value':!0x0});var _0xad6823=_0x185595(_0x32bc53(0x0));function _0x185595(_0x23891b){return _0x23891b&&_0x23891b['__esModule']?_0x23891b:{'default':_0x23891b};}function _0x1c59cc(_0x23891b){var _0x2ec067=_0x23891b[_0x10de('0x40')],_0x32bc53=_0x23891b[_0x10de('0x72d')],_0x185595=_0x23891b['camera'],_0x3b29ab=_0x23891b[_0x10de('0x72e')],_0x5c97b5=_0x23891b[_0x10de('0xd0')],_0x193f2a=_0x23891b[_0x10de('0x6c4')],_0x1ee429=_0x23891b[_0x10de('0x72f')],_0x23891b=_0x23891b[_0x10de('0x1e8')];(0x0,_0xad6823[_0x10de('0x9')])(this,_0x1c59cc),this['num']=_0x32bc53||0x3e8,this[_0x10de('0x338')]=_0x185595,this[_0x10de('0x72e')]=_0x3b29ab,this['isMorph']=!0x1,this[_0x10de('0x730')]=!0x1,this['material']=_0x2ec067||new THREE[(_0x10de('0x40e'))]({'color':0xff00}),this[_0x10de('0x731')]=void 0x0!==this[_0x10de('0x40')][_0x10de('0x732')]&&this[_0x10de('0x40')]['morphTargets'],this[_0x10de('0x342')]({'geometry':_0x5c97b5,'pos':_0x193f2a,'rot':_0x1ee429,'scale':_0x23891b}),this[_0x10de('0x733')](),this[_0x10de('0x72e')]&&this[_0x10de('0x734')](),this['mesh']=new THREE[(_0x10de('0x348'))](this[_0x10de('0xd0')],this[_0x10de('0x40')]),this['mesh'][_0x10de('0x735')]=!0x0,this['mesh'][_0x10de('0x707')]=!0x0,this[_0x10de('0x1f6')][_0x10de('0x428')]=!0x1,this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this['object3d'][_0x10de('0x1d5')](this[_0x10de('0x1f6')]),this[_0x10de('0x1f6')][_0x10de('0x736')]=this[_0x10de('0x737')];}(0x0,_0x185595(_0x32bc53(0x1))['default'])(_0x1c59cc,[{'key':_0x10de('0x342'),'value':function(_0x23891b){var _0x2ec067,_0x32bc53;for(_0x32bc53 in this[_0x10de('0x69b')](),_0x2ec067=void 0x0!==_0x23891b[_0x10de('0x1f6')]?_0x23891b['mesh'][_0x10de('0xd0')]:void 0x0!==_0x23891b[_0x10de('0xd0')]?_0x23891b[_0x10de('0xd0')]:new THREE[(_0x10de('0x458'))](0x1,0x1,0x1),this[_0x10de('0xd0')]=new THREE[(_0x10de('0x738'))](),this[_0x10de('0xd0')]['maxInstancedCount']=this[_0x10de('0x72d')],_0x2ec067[_0x10de('0x17e')])this[_0x10de('0xd0')][_0x10de('0x202')](_0x32bc53,_0x2ec067['getAttribute'](_0x32bc53));if(this['geometry'][_0x10de('0x3be')](_0x2ec067[_0x10de('0x739')]()),this[_0x10de('0x731')]){var _0x185595=_0x2ec067[_0x10de('0x73a')];for(_0x32bc53 in _0x185595){for(var _0x1dbd34=[],_0x4c0bc5=_0x185595[_0x32bc53],_0x25694b=0x0,_0x181fcc=_0x4c0bc5[_0x10de('0xe')];_0x25694b<_0x181fcc;_0x25694b++)_0x1dbd34[_0x10de('0x84')](_0x4c0bc5[_0x25694b][_0x10de('0x1c5')]());this['geometry'][_0x10de('0x73a')][_0x32bc53]=_0x1dbd34;}this[_0x10de('0xd0')][_0x10de('0x732')]=_0x2ec067[_0x10de('0x732')];}this[_0x10de('0x73b')]=new Float32Array(0x3*this[_0x10de('0x72d')]),this[_0x10de('0x73c')]=new Float32Array(0x3*this[_0x10de('0x72d')]),this[_0x10de('0x73d')]=new Float32Array(0x4*this[_0x10de('0x72d')]);for(var _0xad6823=new THREE['Quaternion'](),_0x1c59cc=new THREE[(_0x10de('0x73e'))](),_0x1faa53=THREE[_0x10de('0x18')][_0x10de('0x73f')],_0x25694b=0x0;_0x25694b<this[_0x10de('0x72d')];_0x25694b++){var _0x19ea81=0x3*_0x25694b,_0x3b1091=0x4*_0x25694b;_0x23891b['pos']?(this[_0x10de('0x73b')][_0x19ea81]=_0x23891b[_0x10de('0x6c4')][_0x19ea81],this[_0x10de('0x73b')][0x1+_0x19ea81]=_0x23891b[_0x10de('0x6c4')][0x1+_0x19ea81],this[_0x10de('0x73b')][0x2+_0x19ea81]=_0x23891b[_0x10de('0x6c4')][0x2+_0x19ea81]):(this[_0x10de('0x73b')][_0x19ea81]=Math[_0x10de('0x740')](-0xc8,0xc8),this[_0x10de('0x73b')][0x1+_0x19ea81]=Math[_0x10de('0x740')](-0x14,0x14),this['offsets'][0x2+_0x19ea81]=Math[_0x10de('0x740')](-0xc8,0xc8)),_0x23891b['rot']?_0xad6823[_0x10de('0x741')](_0x1c59cc[_0x10de('0x1e')](_0x23891b[_0x10de('0x72f')][_0x19ea81]*_0x1faa53,_0x23891b[_0x10de('0x72f')][0x1+_0x19ea81]*_0x1faa53,_0x23891b[_0x10de('0x72f')][0x2+_0x19ea81]*_0x1faa53)):_0xad6823['set'](0x0,0x0,0x0,0x1),_0xad6823[_0x10de('0x1d4')](),this[_0x10de('0x73d')][_0x3b1091]=_0xad6823['x'],this[_0x10de('0x73d')][0x1+_0x3b1091]=_0xad6823['y'],this[_0x10de('0x73d')][0x2+_0x3b1091]=_0xad6823['z'],this[_0x10de('0x73d')][0x3+_0x3b1091]=_0xad6823['w'],_0x23891b['scale']?(this[_0x10de('0x73c')][_0x19ea81]=_0x23891b['scale'][_0x19ea81],this[_0x10de('0x73c')][0x1+_0x19ea81]=_0x23891b[_0x10de('0x1e8')][0x1+_0x19ea81],this['scales'][0x2+_0x19ea81]=_0x23891b['scale'][0x2+_0x19ea81]):(this[_0x10de('0x73c')][_0x19ea81]=0x1,this[_0x10de('0x73c')][0x1+_0x19ea81]=0x1,this[_0x10de('0x73c')][0x2+_0x19ea81]=0x1);}this['offsetAttribute']=new THREE[(_0x10de('0x742'))](this[_0x10de('0x73b')],0x3)[_0x10de('0x743')](!0x0),this[_0x10de('0x744')]=new THREE['InstancedBufferAttribute'](this[_0x10de('0x73c')],0x3),this['orientationAttribute']=new THREE[(_0x10de('0x742'))](this[_0x10de('0x73d')],0x4),this[_0x10de('0xd0')][_0x10de('0x202')](_0x10de('0x10a'),this['offsetAttribute']),this[_0x10de('0xd0')]['addAttribute']('scales',this[_0x10de('0x744')]),this[_0x10de('0xd0')][_0x10de('0x202')](_0x10de('0x745'),this['orientationAttribute']);}},{'key':_0x10de('0x733'),'value':function(){var _0x2ec067=[]['join']('\x0a'),_0x32bc53=(this[_0x10de('0x746')]=[_0x10de('0x747'),_0x10de('0x748'),'attribute\x20vec3\x20offset;','attribute\x20vec3\x20scales;',_0x10de('0x749'),'mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{',_0x10de('0x74a'),'float\x20x2\x20=\x20x\x20+\x20x,\x09y2\x20=\x20y\x20+\x20y,\x20z2\x20=\x20z\x20+\x20z;','float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;',_0x10de('0x74b'),_0x10de('0x74c'),_0x10de('0x74d'),'mat4\x20B;',_0x10de('0x74e'),_0x10de('0x74f'),_0x10de('0x750'),'B[0][3]\x20=\x200.0;',_0x10de('0x751'),_0x10de('0x752'),_0x10de('0x753'),_0x10de('0x754'),_0x10de('0x755'),_0x10de('0x756'),_0x10de('0x757'),_0x10de('0x758'),_0x10de('0x759'),_0x10de('0x75a'),_0x10de('0x75b'),_0x10de('0x75c'),_0x10de('0x75d'),'}',_0x10de('0x75e'),_0x10de('0x75f'),'}'][_0x10de('0x119')]('\x0a')+'\x0a',this[_0x10de('0x760')]=['uniform\x20mat4\x20cmtx;',_0x10de('0x748'),_0x10de('0x761'),_0x10de('0x762'),_0x10de('0x749'),_0x10de('0x763'),_0x10de('0x74a'),_0x10de('0x764'),'float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;',_0x10de('0x74b'),'float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;',_0x10de('0x74d'),_0x10de('0x765'),_0x10de('0x74e'),'B[0][1]\x20=\x20(\x20xy\x20+\x20wz\x20)\x20*\x20sx;',_0x10de('0x750'),'B[0][3]\x20=\x200.0;','B[1][0]\x20=\x20(\x20xy\x20-\x20wz\x20)\x20*\x20sy;',_0x10de('0x752'),'B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;','B[1][3]\x20=\x200.0;','B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;',_0x10de('0x756'),_0x10de('0x757'),'B[2][3]\x20=\x200.0;',_0x10de('0x759'),'B[3][1]\x20=\x20position.y;',_0x10de('0x75b'),_0x10de('0x75c'),_0x10de('0x75d'),'}',_0x10de('0x766'),_0x10de('0x767'),_0x10de('0x768'),_0x10de('0x769'),_0x10de('0x76a'),'float\x20t12\x20=\x20n32\x20*\x20n13\x20-\x20n33\x20*\x20n12;',_0x10de('0x76b'),'float\x20det\x20=\x20n11\x20*\x20t11\x20+\x20n21\x20*\x20t12\x20+\x20n31\x20*\x20t13;',_0x10de('0x76c'),'mat3\x20B;','B[0][0]\x20=\x20t11\x20*\x20detInv;',_0x10de('0x76d'),_0x10de('0x76e'),_0x10de('0x76f'),_0x10de('0x770'),_0x10de('0x771'),'B[2][0]\x20=\x20t13\x20*\x20detInv;',_0x10de('0x772'),_0x10de('0x773'),'return\x20B;','}',_0x10de('0x774'),_0x10de('0x775'),_0x10de('0x776'),_0x10de('0x777'),_0x10de('0x778'),_0x10de('0x779'),'B[1][1]\x20=\x20A[1][1];',_0x10de('0x77a'),'B[2][0]\x20=\x20A[0][2];',_0x10de('0x77b'),_0x10de('0x77c'),_0x10de('0x75d'),'}',_0x10de('0x75e'),_0x10de('0x77d'),'}'][_0x10de('0x119')]('\x0a')+'\x0a',this[_0x10de('0x77e')]=[_0x10de('0x77f'),_0x10de('0x780')]['join']('\x0a')+'\x0a',this['projectVertex']=[_0x10de('0x781'),_0x10de('0x782')][_0x10de('0x119')]('\x0a')+'\x0a',this[_0x10de('0x783')]=[_0x10de('0x784'),_0x10de('0x785'),'#endif'][_0x10de('0x119')]('\x0a')+'\x0a',this[_0x10de('0x786')]=['mat3\x20normalMtx\x20=\x20getNormalMatrix(\x20viewMatrix\x20);',_0x10de('0x787'),_0x10de('0x788'),_0x10de('0x789'),_0x10de('0x129'),_0x10de('0x78a'),_0x10de('0x78b'),'#ifdef\x20FLIP_SIDED','transformedTangent\x20=\x20-\x20transformedTangent;',_0x10de('0x129'),_0x10de('0x129')][_0x10de('0x119')]('\x0a')+'\x0a',this['morping']=[_0x10de('0x78c'),_0x10de('0x78d'),_0x10de('0x78e'),_0x10de('0x78f'),'transformed\x20+=\x20(\x20morphTarget3\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x203\x20];','#ifndef\x20USE_MORPHNORMALS',_0x10de('0x790'),_0x10de('0x791'),_0x10de('0x792'),_0x10de('0x793'),_0x10de('0x129'),_0x10de('0x129')]['join']('\x0a')+'\x0a',this);this[_0x10de('0x40')][_0x10de('0x40f')]=function(_0x23891b){_0x23891b['uniforms']['cmtx']={'value':_0x32bc53[_0x10de('0x338')][_0x10de('0x710')]},_0x23891b['uniforms']['morpher']={'value':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]},_0x23891b[_0x10de('0x59')]=_0x23891b[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x794'),_0x10de('0x794')+_0x32bc53[_0x10de('0x760')])[_0x10de('0x57')]('#include\x20<uv_vertex>',_0x10de('0x795')+_0x32bc53['beginInstanceVertex'])[_0x10de('0x57')](_0x10de('0x796'),_0x32bc53[_0x10de('0x786')])[_0x10de('0x57')](_0x10de('0x48f'),_0x32bc53[_0x10de('0x797')])[_0x10de('0x57')](_0x10de('0x798'),_0x32bc53[_0x10de('0x783')]),_0x23891b[_0x10de('0x5a')]=_0x2ec067+'\x0a'+_0x23891b[_0x10de('0x5a')],_0x32bc53['uniforms']=_0x23891b[_0x10de('0x1b4')];};}},{'key':_0x10de('0x734'),'value':function(){this[_0x10de('0x737')]=new THREE[(_0x10de('0x799'))]({'depthPacking':THREE[_0x10de('0x79a')],'skinning':this[_0x10de('0x730')],'morphTargets':this[_0x10de('0x731')]});var _0x2ec067=this;this['depthMaterial'][_0x10de('0x40f')]=function(_0x23891b){_0x23891b[_0x10de('0x1b4')][_0x10de('0x79b')]={'value':_0x2ec067['shadowCamera'][_0x10de('0x710')]},_0x23891b[_0x10de('0x59')]=_0x23891b['vertexShader']['replace'](_0x10de('0x794'),_0x10de('0x794')+_0x2ec067[_0x10de('0x760')])[_0x10de('0x57')](_0x10de('0x414'),_0x10de('0x795')+_0x2ec067[_0x10de('0x77e')])['replace']('#include\x20<project_vertex>',_0x2ec067['projectVertex']);};}},{'key':_0x10de('0x79c'),'value':function(_0x23891b){this[_0x10de('0x1f6')][_0x10de('0x79d')][0x0]=_0x23891b;}},{'key':_0x10de('0x51c'),'value':function(_0x23891b){this[_0x10de('0x79e')][_0x10de('0x10c')]=!0x0;}},{'key':_0x10de('0x79f'),'value':function(_0x23891b){this['orientationAttribute'][_0x10de('0x10c')]=!0x0;}},{'key':_0x10de('0x7a0'),'value':function(_0x23891b){this[_0x10de('0x744')][_0x10de('0x10c')]=!0x0;}},{'key':_0x10de('0x69b'),'value':function(){void 0x0!==this[_0x10de('0x1f6')]&&this['remove'](this['mesh']),void 0x0!==this[_0x10de('0xd0')]&&this[_0x10de('0xd0')][_0x10de('0xce')]();}},{'key':_0x10de('0xce'),'value':function(){this[_0x10de('0x368')][_0x10de('0xd2')](this['mesh']),this[_0x10de('0xd0')][_0x10de('0xce')](),this[_0x10de('0x40')][_0x10de('0xce')](),this['mesh']=null;}}]),_0x2ec067[_0x10de('0x9')]=_0x1c59cc;},function(_0x2be046,_0x361da1,_0x1608f5){'use strict';Object[_0x10de('0x2')](_0x361da1,_0x10de('0x5'),{'value':!0x0});var _0x182621=_0x43618a(_0x1608f5(0x5)),_0x855a06=_0x43618a(_0x1608f5(0x0)),_0x285e68=_0x43618a(_0x1608f5(0x1)),_0x2d929e=_0x43618a(_0x1608f5(0xf2)),_0x4c9d5c=_0x43618a(_0x1608f5(0x3d)),_0x204b00=_0x43618a(_0x1608f5(0xf4));function _0x43618a(_0x2be046){return _0x2be046&&_0x2be046[_0x10de('0x5')]?_0x2be046:{'default':_0x2be046};}function _0x465111(_0x2be046){var _0x361da1=_0x2be046[_0x10de('0xcf')],_0x1608f5=_0x2be046[_0x10de('0x222')],_0x1608f5=void 0x0===_0x1608f5?new THREE[(_0x10de('0x1ca'))](0x0,0x3,0x0):_0x1608f5,_0x285e68=_0x2be046[_0x10de('0x304')],_0x285e68=void 0x0===_0x285e68?new THREE[(_0x10de('0x1ca'))](0x3,0x0,0x0):_0x285e68,_0x2d929e=_0x2be046[_0x10de('0x7a1')],_0x204b00=_0x2be046['far'],_0x204b00=void 0x0===_0x204b00?0x14:_0x204b00,_0x43618a=_0x2be046['fov'],_0x43618a=void 0x0===_0x43618a?0x1e:_0x43618a,_0x4c9d5c=_0x2be046[_0x10de('0x7a2')],_0x4c9d5c=void 0x0===_0x4c9d5c?0x10/0x9:_0x4c9d5c,_0x586f15=_0x2be046['isShowHelper'],_0x586f15=void 0x0!==_0x586f15&&_0x586f15,_0x2be046=_0x2be046[_0x10de('0x7a3')],_0x2be046=void 0x0!==_0x2be046&&_0x2be046;(0x0,_0x855a06[_0x10de('0x9')])(this,_0x465111),this['map']=_0x361da1,this[_0x10de('0x40')]=null,this['projector']=null,this[_0x10de('0x7a4')]=null,this[_0x10de('0x7a5')]=null,this[_0x10de('0x7a6')]=[],this[_0x10de('0x222')]=_0x1608f5,this[_0x10de('0x304')]=_0x285e68,this['receiveLayer']=_0x2d929e,this[_0x10de('0x7a7')]=_0x204b00,this[_0x10de('0x7a8')]=_0x43618a,this[_0x10de('0x7a2')]=_0x4c9d5c,this[_0x10de('0x7a9')]=_0x586f15,this[_0x10de('0x7a3')]=_0x2be046,this['alphaMap']=null;}(0x0,_0x285e68['default'])(_0x465111,[{'key':'init','value':function(_0x361da1){if(this[_0x10de('0x7a1')]&&this[_0x10de('0x7a1')][_0x10de('0x4d4')]){var _0x1608f5=this,_0x2be046=new THREE[(_0x10de('0x72c'))](_0x361da1);if(this[_0x10de('0x3a5')]=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](esmap[_0x10de('0x4f')][_0x10de('0x51')]+_0x10de('0x7aa')),this['createProjector'](_0x2be046),this[_0x10de('0x7a1')][_0x10de('0x4d4')][_0x10de('0xd1')](function(_0x2be046){_0x10de('0x348')!=_0x2be046[_0x10de('0x85')]||_0x2be046[_0x10de('0x3e')]&&0x7==_0x2be046[_0x10de('0x3e')][_0x10de('0x7ab')]||_0x1608f5[_0x10de('0x7a6')][_0x10de('0x84')](_0x2be046);}),0x0<this[_0x10de('0x7a6')][_0x10de('0xe')]){var _0x285e68=!0x0,_0x361da1=!0x1,_0x2d929e=void 0x0;try{for(var _0x204b00,_0x43618a=(0x0,_0x182621[_0x10de('0x9')])(this[_0x10de('0x7a6')]);!(_0x285e68=(_0x204b00=_0x43618a[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x285e68=!0x0){var _0x4c9d5c=_0x204b00['value'];if(0x0<_0x4c9d5c[_0x10de('0x40')][_0x10de('0xe')]){var _0x2a1ec9=[],_0x855a06=!0x0,_0x465111=!0x1,_0x13a2dd=void 0x0;try{for(var _0x48e6a6,_0x49132a=(0x0,_0x182621[_0x10de('0x9')])(_0x4c9d5c[_0x10de('0x40')]);!(_0x855a06=(_0x48e6a6=_0x49132a['next']())[_0x10de('0x32b')]);_0x855a06=!0x0){var _0x107e9e,_0x52ead9=_0x48e6a6[_0x10de('0x10')];_0x52ead9 instanceof THREE[_0x10de('0x7ac')]&&(_0x107e9e=this[_0x10de('0x7ad')](_0x2be046,_0x4c9d5c,_0x52ead9[_0x10de('0x1c5')](),this[_0x10de('0x3a5')]),_0x2a1ec9[_0x10de('0x84')](_0x107e9e));}}catch(_0x1f8ea4){_0x465111=!0x0,_0x13a2dd=_0x1f8ea4;}finally{try{!_0x855a06&&_0x49132a[_0x10de('0xdf')]&&_0x49132a[_0x10de('0xdf')]();}finally{if(_0x465111)throw _0x13a2dd;}}_0x4c9d5c[_0x10de('0x7ae')]=_0x4c9d5c[_0x10de('0x40')],_0x4c9d5c['material']=_0x2a1ec9;}else{var _0x34e48b=this[_0x10de('0x7ad')](_0x2be046,_0x4c9d5c,_0x4c9d5c[_0x10de('0x40')][_0x10de('0x1c5')](),this[_0x10de('0x3a5')]);_0x4c9d5c['_originMaterial']=_0x4c9d5c[_0x10de('0x40')],_0x4c9d5c[_0x10de('0x40')]=_0x34e48b;}}}catch(_0xc88943){_0x361da1=!0x0,_0x2d929e=_0xc88943;}finally{try{!_0x285e68&&_0x43618a['return']&&_0x43618a[_0x10de('0xdf')]();}finally{if(_0x361da1)throw _0x2d929e;}}}}}},{'key':_0x10de('0xce'),'value':function(){if(0x0<this[_0x10de('0x7a6')][_0x10de('0xe')]){for(var _0x2be046=0x0,_0x361da1=this[_0x10de('0x7a6')]['length'];_0x2be046<_0x361da1;_0x2be046++){if(this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7af')]=this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x40')],this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x40')]=this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7ae')],0x0<this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7af')][_0x10de('0xe')]){var _0x1608f5=!0x0,_0x285e68=!0x1,_0x2d929e=void 0x0;try{for(var _0x204b00,_0x43618a=(0x0,_0x182621['default'])(this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7af')]);!(_0x1608f5=(_0x204b00=_0x43618a[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x1608f5=!0x0)_0x204b00[_0x10de('0x10')][_0x10de('0xce')]();}catch(_0x53f80c){_0x285e68=!0x0,_0x2d929e=_0x53f80c;}finally{try{!_0x1608f5&&_0x43618a[_0x10de('0xdf')]&&_0x43618a[_0x10de('0xdf')]();}finally{if(_0x285e68)throw _0x2d929e;}}this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7af')]['length']=0x0;}else this[_0x10de('0x7a6')][_0x2be046]['_tempMaterial'][_0x10de('0xce')]();this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7ae')]=null,this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7af')]=null,this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7b0')]=!0x1,this[_0x10de('0x7a6')][_0x2be046][_0x10de('0x7b1')]=null;}this['containMeshList'][_0x10de('0xe')]=0x0,_0x4c9d5c[_0x10de('0x9')][_0x10de('0x4a1')](this[_0x10de('0x7a5')][_0x10de('0x368')]),this['helper']=null,_0x4c9d5c['default'][_0x10de('0x652')](this[_0x10de('0x7a4')]),this[_0x10de('0x7a4')]=null;}}},{'key':_0x10de('0x7b2'),'value':function(_0x2be046){_0x2be046?(this['map'][_0x10de('0x2fc')][_0x10de('0x7b3')]=!0x1,this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x322')]=!0x1,_0x2be046=new THREE[(_0x10de('0x1ca'))]()[_0x10de('0x34c')](map[_0x10de('0x2fc')][_0x10de('0x304')],map[_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x222')])[_0x10de('0x1d4')](),this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x304')][_0x10de('0x1e')](this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x222')]['x']+_0x2be046['x'],this[_0x10de('0xcf')][_0x10de('0x2fc')]['object'][_0x10de('0x222')]['y']+_0x2be046['y'],this[_0x10de('0xcf')]['controls'][_0x10de('0x6')][_0x10de('0x222')]['z']+_0x2be046['z'])):(this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x7b3')]=!0x0,this[_0x10de('0xcf')]['controls'][_0x10de('0x322')]=!0x0);}},{'key':_0x10de('0x7b4'),'value':function(_0x2be046){if(0x0<this[_0x10de('0x7a6')][_0x10de('0xe')])for(var _0x361da1=0x0,_0x1608f5=this[_0x10de('0x7a6')][_0x10de('0xe')];_0x361da1<_0x1608f5;_0x361da1++)this[_0x10de('0x7a6')][_0x361da1][_0x10de('0x7b1')][_0x10de('0x1b4')][_0x10de('0x7b5')][_0x10de('0x10')]['setStyle'](_0x2be046);this[_0x10de('0x7a4')]&&this[_0x10de('0x7a4')][_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x331')](_0x2be046);}},{'key':_0x10de('0x7b6'),'value':function(_0x2be046){for(var _0x361da1=_0x2be046[_0x10de('0x7b7')],_0x1608f5=_0x2be046[_0x10de('0x7b8')],_0x285e68=_0x2be046[_0x10de('0x7b9')],_0x2d929e=_0x2be046['maxY'],_0x204b00=_0x2be046[_0x10de('0x7ba')],_0x43618a=(this[_0x10de('0xcf')][_0x10de('0x7bb')]&&(this['map'][_0x10de('0x7bb')][_0x10de('0x7bc')]={}),Math['abs'](_0x285e68-_0x361da1)/_0x204b00),_0x4c9d5c=Math['abs'](_0x2d929e-_0x1608f5)/_0x204b00,_0x3b40e3=0x0;_0x3b40e3<_0x204b00;_0x3b40e3++)for(var _0x855a06=0x0;_0x855a06<_0x204b00;_0x855a06++)this[_0x10de('0x7bd')]({'x':_0x361da1+_0x3b40e3*_0x43618a,'y':_0x1608f5+_0x855a06*_0x4c9d5c});}},{'key':'raySceneMesh','value':function(_0x2be046){_0x2be046=this[_0x10de('0xcf')][_0x10de('0x7be')]({'coord':{'x':_0x2be046['x'],'y':_0x2be046['y']},'debug':!0x0,'mode':_0x10de('0x1f6'),'depth':map[_0x10de('0x4d1')](map[_0x10de('0x7bf')])+0x5});_0x2be046&&(this[_0x10de('0xcf')][_0x10de('0x7bb')]['ignoredUuids'][_0x2be046['object'][_0x10de('0x1d9')]]=!0x0,this['containMeshList']['push'](_0x2be046[_0x10de('0x6')]));}},{'key':_0x10de('0x7c0'),'value':function(_0x2be046){this[_0x10de('0x7c1')]=new THREE[(_0x10de('0x6b2'))](this[_0x10de('0x7a8')],this[_0x10de('0x7a2')],0.01,this[_0x10de('0x7a7')]),this[_0x10de('0x7c1')][_0x10de('0x222')][_0x10de('0x1d3')](this[_0x10de('0x222')]),this[_0x10de('0x7c1')][_0x10de('0x430')](this[_0x10de('0x304')]),this['projector'][_0x10de('0x6aa')](),this[_0x10de('0x7c1')][_0x10de('0x7c2')](),this[_0x10de('0x7c1')]['updateWorldMatrix'](),this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x7c3')]=0x0,this[_0x10de('0x7c4')]();}},{'key':'createProjectorHelper','value':function(){var _0x2be046=this;this['helper']=new _0x204b00[(_0x10de('0x9'))](this[_0x10de('0x7c1')]),this[_0x10de('0x7a5')]['object3d'][_0x10de('0x364')]=this[_0x10de('0x7a9')],this[_0x10de('0x7a3')]&&this['createCameraHelperFarPlane'](this[_0x10de('0x7a5')],texture,function(){_0x2be046['projectPlane'][_0x10de('0x40')][_0x10de('0x3a5')]=_0x2be046['alphaMap'];}),this[_0x10de('0x7a5')][_0x10de('0x31d')](),this['map']['mapView'][_0x10de('0x467')][_0x10de('0x1d5')](this[_0x10de('0x7a5')][_0x10de('0x368')]);}},{'key':_0x10de('0x7c5'),'value':function(_0x2be046,_0x361da1,_0x1608f5){var _0x285e68,_0x2d929e=this,_0x204b00=['f1','f2','f3','f4'],_0x43618a=[],_0x4c9d5c=_0x2be046['geometry'][_0x10de('0x6df')](_0x10de('0x222'));for(_0x285e68 in _0x2be046[_0x10de('0x7c6')]){var _0x20d51e=!0x0,_0x855a06=!0x1,_0x465111=void 0x0;try{for(var _0x418714,_0x1ad1fc=(0x0,_0x182621[_0x10de('0x9')])(_0x204b00);!(_0x20d51e=(_0x418714=_0x1ad1fc['next']())[_0x10de('0x32b')]);_0x20d51e=!0x0){var _0x1ccffa=_0x418714[_0x10de('0x10')];if(_0x1ccffa===_0x285e68){for(var _0x257e6f=new THREE['Vector3'](),_0x1e54cb=0x0;_0x1e54cb<0x3;_0x1e54cb++)0x0==_0x1e54cb&&(_0x257e6f['x']=_0x4c9d5c[_0x10de('0x7c7')](_0x2be046[_0x10de('0x7c6')][_0x1ccffa][_0x1e54cb])),0x1==_0x1e54cb&&(_0x257e6f['y']=_0x4c9d5c[_0x10de('0x7c8')](_0x2be046[_0x10de('0x7c6')][_0x1ccffa][_0x1e54cb])),0x2==_0x1e54cb&&(_0x257e6f['z']=_0x4c9d5c[_0x10de('0x7c9')](_0x2be046[_0x10de('0x7c6')][_0x1ccffa][_0x1e54cb]));_0x43618a[_0x10de('0x84')](_0x257e6f);}}}catch(_0x3e42a4){_0x855a06=!0x0,_0x465111=_0x3e42a4;}finally{try{!_0x20d51e&&_0x1ad1fc[_0x10de('0xdf')]&&_0x1ad1fc[_0x10de('0xdf')]();}finally{if(_0x855a06)throw _0x465111;}}}var _0x4108b3=new THREE[(_0x10de('0x352'))]()[_0x10de('0x7ca')](_0x43618a),_0x178362=(_0x4108b3[_0x10de('0x202')]('uv',new THREE[(_0x10de('0x116'))](new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1]),0x2)),_0x4108b3[_0x10de('0x3be')]([0x0,0x1,0x3,0x1,0x2,0x3]),new THREE[(_0x10de('0x40e'))]({'color':0xffffff,'transparent':!0x0})),_0x4108b3=new THREE['Mesh'](_0x4108b3,_0x178362);_0x178362[_0x10de('0x40f')]=function(_0x2be046){_0x2be046[_0x10de('0x1b4')][_0x10de('0x7cb')]={'value':_0x361da1},_0x2be046[_0x10de('0x1b4')]['videoTexMask']={'value':_0x2d929e[_0x10de('0x3a5')]},_0x2be046[_0x10de('0x59')]=_0x2be046[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x412'),_0x10de('0x7cc')),_0x2be046[_0x10de('0x59')]=_0x2be046[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x414'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition2\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20mvPosition2.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2be046[_0x10de('0x5a')]=_0x2be046[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTexMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2be046[_0x10de('0x5a')]=_0x2be046[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x7cd')),_0x1608f5&&_0x1608f5();},_0x4108b3['renderOrder']=0xc8,_0x2be046[_0x10de('0x1d5')](_0x4108b3),this[_0x10de('0x7a4')]=_0x4108b3;}},{'key':_0x10de('0x7ce'),'value':function(_0x2be046){if(this[_0x10de('0x7c1')][_0x10de('0x430')](_0x2be046),0x0<this[_0x10de('0x7a6')]['length'])for(var _0x361da1=0x0,_0x1608f5=this['containMeshList']['length'];_0x361da1<_0x1608f5;_0x361da1++)this[_0x10de('0x7a6')][_0x361da1][_0x10de('0x7b1')][_0x10de('0x7cf')]();this[_0x10de('0x7a5')][_0x10de('0x31d')]();}},{'key':'addToPicker','value':function(_0x2be046,_0x361da1){_0x10de('0x348')===_0x2be046[_0x10de('0x85')]&&(_0x2be046[_0x10de('0x3e')]={'name':_0x361da1},this[_0x10de('0xcf')][_0x10de('0x7d0')]['objects_'][_0x10de('0x84')](_0x2be046)),_0x10de('0x369')===_0x2be046[_0x10de('0x85')]&&(_0x2be046[_0x10de('0x3e')]={'name':_0x361da1},_0x2be046['name']=_0x10de('0x7d1'),this['map'][_0x10de('0x7d0')][_0x10de('0x7d2')][_0x10de('0x84')](_0x2be046));}},{'key':_0x10de('0x7d3'),'value':function(_0x2be046){this[_0x10de('0xcf')][_0x10de('0x7d0')][_0x10de('0x7d2')]['push'](_0x2be046);}},{'key':_0x10de('0x7d4'),'value':function(_0x2be046,_0x361da1){texture[_0x10de('0x46b')]=THREE[_0x10de('0x69d')],_0x2be046[_0x10de('0x10c')]=!0x0;_0x2be046=new _0x2d929e[(_0x10de('0x9'))]({'camera':this[_0x10de('0x7c1')],'texture':_0x2be046,'color':_0x10de('0x365')});(_0x361da1[_0x10de('0x40')]=_0x2be046)[_0x10de('0x7d5')](_0x361da1);}},{'key':_0x10de('0x7ad'),'value':function(_0x2be046,_0x361da1,_0x1608f5,_0x285e68){_0x2be046['needsUpdate']=!0x0,_0x1608f5[_0x10de('0x1e4')]=!0x0;_0x2be046=new _0x2d929e['default']({'material':_0x1608f5,'camera':this[_0x10de('0x7c1')],'texture':_0x2be046,'alphaMap':_0x285e68,'color':_0x10de('0x365'),'isShowFarPlane':this[_0x10de('0x7a3')]});return _0x361da1[_0x10de('0x7b0')]||(_0x2be046[_0x10de('0x7d5')](_0x361da1),_0x361da1[_0x10de('0x7b1')]=_0x2be046,_0x361da1[_0x10de('0x7b0')]=!0x0),_0x1608f5;}},{'key':'resetAllMaterial','value':function(_0x2be046){var _0x361da1=this,_0x2be046=new THREE[(_0x10de('0x72c'))](_0x2be046);_0x2be046[_0x10de('0x10c')]=!0x0,this['material']=new _0x2d929e['default']({'camera':this[_0x10de('0x7c1')],'texture':_0x2be046,'color':'#aaa'}),this[_0x10de('0xcf')][_0x10de('0x46c')]['scene'][_0x10de('0xd1')](function(_0x2be046){_0x10de('0x348')===_0x2be046[_0x10de('0x85')]&&_0x2be046[_0x10de('0x7d6')]&&_0x10de('0x7d')===_0x2be046['type_']&&_0x2be046[_0x10de('0x3e')]&&0x1==_0x2be046[_0x10de('0x3e')][_0x10de('0x7d')]&&_0x2be046['material']&&(_0x2be046['material']=_0x361da1['material'],_0x361da1[_0x10de('0x40')]['project'](_0x2be046));});}}]),_0x361da1[_0x10de('0x9')]=_0x465111;},function(_0x5bb315,_0x3d60b3,_0x2284e4){'use strict';Object[_0x10de('0x2')](_0x3d60b3,_0x10de('0x5'),{'value':!0x0});var _0x54bb05=_0x2d05cb(_0x2284e4(0x11)),_0x36731b=_0x2d05cb(_0x2284e4(0xb1)),_0x13bb8b=_0x2d05cb(_0x2284e4(0xf3)),_0x16cb12=_0x2d05cb(_0x2284e4(0x0)),_0x2284e4=_0x2d05cb(_0x2284e4(0x1));function _0x2d05cb(_0x5bb315){return _0x5bb315&&_0x5bb315[_0x10de('0x5')]?_0x5bb315:{'default':_0x5bb315};}function _0x4f1979(_0x5bb315,_0x3d60b3,_0x2284e4,_0x2d05cb){if(!_0x5bb315[_0x10de('0x49c')])return[0x1,0x1];if(0x0===_0x5bb315[_0x10de('0x49c')][_0x10de('0x7d7')]&&0x0===_0x5bb315[_0x10de('0x49c')]['videoHeight'])return[0x1,0x1];var _0x5bb315=(_0x5bb315[_0x10de('0x49c')]['naturalWidth']||_0x5bb315[_0x10de('0x49c')][_0x10de('0x7d7')])/(_0x5bb315[_0x10de('0x49c')][_0x10de('0x7d8')]||_0x5bb315['image'][_0x10de('0x7d9')]),_0x3d60b3=_0x2b38f6(_0x3d60b3),_0x5303a0=0x1/_0x3d60b3*0x1,_0x54bb05=void 0x0,_0x4ab426=void 0x0;return(_0x2d05cb?_0x3d60b3<_0x5bb315:_0x5bb315<_0x3d60b3)?(_0x54bb05=0x1/(_0x5303a0*_0x5bb315*_0x2284e4),_0x4ab426=0x1/_0x2284e4):(_0x4ab426=0x1/(0x1/_0x5bb315*0x1/_0x5303a0*_0x2284e4),_0x54bb05=0x1/_0x2284e4),[_0x54bb05,_0x4ab426];}var _0x2b38f6=function(_0x5bb315){switch(_0x5bb315[_0x10de('0x85')]){case _0x10de('0x6b2'):return _0x5bb315[_0x10de('0x7da')];case _0x10de('0x68c'):return Math[_0x10de('0x1cd')](_0x5bb315[_0x10de('0x6a8')]-_0x5bb315[_0x10de('0x37b')])/Math[_0x10de('0x1cd')](_0x5bb315[_0x10de('0x588')]-_0x5bb315[_0x10de('0x6a9')]);default:throw new Error(_0x5bb315[_0x10de('0x85')]+'\x20is\x20currently\x20not\x20supported\x20in\x20ProjectedMaterial');}},_0x2284e4=((0x0,_0x2284e4[_0x10de('0x9')])(_0x5d1db9,[{'key':_0x10de('0x7db'),'value':function(_0x3d60b3){var _0x5bb315,_0x2284e4,_0x2d05cb,_0x524c34=this;_0x3d60b3['onBeforeCompile']=function(_0x5bb315){_0x3d60b3[_0x10de('0x7b0')]=!0x0,(0x0,_0x54bb05[_0x10de('0x9')])(_0x524c34[_0x10de('0x1b4')],_0x5bb315[_0x10de('0x1b4')]),_0x5bb315[_0x10de('0x1b4')]=_0x524c34[_0x10de('0x1b4')],_0x5bb315[_0x10de('0x59')]=_0x5bb315[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x412'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20viewMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20projectionMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20savedModelMatrix;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5bb315[_0x10de('0x59')]=_0x5bb315[_0x10de('0x59')]['replace']('#include\x20<uv_vertex>',_0x10de('0x7dc')),_0x5bb315[_0x10de('0x5a')]=_0x5bb315[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20projectedTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureLoaded;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureProjected;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20backgroundOpacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20widthScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20heightScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20cameraFarDistance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20visualFieldColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullByCamera;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x524c34[_0x10de('0x7dd')]+_0x10de('0x7de')),_0x5bb315[_0x10de('0x5a')]=_0x5bb315[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x7df'));},window[_0x10de('0x2d6')](_0x10de('0x35c'),function(){_0x524c34[_0x10de('0x1b4')][_0x10de('0x7e0')]['value'][_0x10de('0x1d3')](_0x524c34[_0x10de('0x338')]['projectionMatrix']),_0x524c34[_0x10de('0x7e1')]();}),_0x5bb315=_0x524c34[_0x10de('0xdc')],_0x2284e4=function(){_0x524c34[_0x10de('0x1b4')][_0x10de('0x7e2')][_0x10de('0x10')]=!0x0,_0x524c34[_0x10de('0x7e1')]();},_0x5bb315[_0x10de('0x49c')]&&0x0!==_0x5bb315[_0x10de('0x49c')][_0x10de('0x7d7')]&&0x0!==_0x5bb315[_0x10de('0x49c')][_0x10de('0x7d9')]||(_0x2d05cb=setInterval(function(){if(_0x5bb315[_0x10de('0x49c')]&&0x0!==_0x5bb315[_0x10de('0x49c')]['videoWidth']&&0x0!==_0x5bb315[_0x10de('0x49c')][_0x10de('0x7d9')])return clearInterval(_0x2d05cb),_0x2284e4();},0x10));}},{'key':_0x10de('0x7e1'),'value':function(){var _0x5bb315=_0x4f1979(this['texture'],this[_0x10de('0x338')],this[_0x10de('0x7e3')],this[_0x10de('0x7e4')]),_0x5bb315=(0x0,_0x36731b[_0x10de('0x9')])(_0x5bb315,0x2),_0x3d60b3=_0x5bb315[0x0],_0x5bb315=_0x5bb315[0x1];this['uniforms'][_0x10de('0x7e5')]['value']=_0x3d60b3,this['uniforms'][_0x10de('0x7e6')][_0x10de('0x10')]=_0x5bb315;}},{'key':_0x10de('0x7cf'),'value':function(){this[_0x10de('0x338')]['updateProjectionMatrix'](),this[_0x10de('0x338')][_0x10de('0x7c2')](),this[_0x10de('0x338')][_0x10de('0x7e7')]();var _0x5bb315=this[_0x10de('0x338')][_0x10de('0x710')],_0x3d60b3=this['camera'][_0x10de('0x70d')],_0x2284e4=this[_0x10de('0x338')][_0x10de('0x3a0')];this[_0x10de('0x1b4')]['viewMatrixCamera']['value'][_0x10de('0x1d3')](_0x5bb315),this[_0x10de('0x1b4')][_0x10de('0x7e0')][_0x10de('0x10')]['copy'](_0x3d60b3),this[_0x10de('0x1b4')][_0x10de('0x7e8')][_0x10de('0x10')][_0x10de('0x1d3')](this[_0x10de('0x338')][_0x10de('0x222')]),this[_0x10de('0x1b4')][_0x10de('0x7e9')][_0x10de('0x10')][_0x10de('0x1e')](0x0,0x0,0x1)[_0x10de('0x3b2')](_0x2284e4),this[_0x10de('0x1b4')][_0x10de('0x7ea')][_0x10de('0x10')]=!0x0;}},{'key':_0x10de('0x7d5'),'value':function(_0x5bb315){_0x5bb315[_0x10de('0x7e7')](!0x0,!0x1),this[_0x10de('0x1b4')][_0x10de('0x7eb')][_0x10de('0x10')][_0x10de('0x1d3')](_0x5bb315[_0x10de('0x3a0')]),this['uniforms'][_0x10de('0x7ec')][_0x10de('0x10')]=0x0,this[_0x10de('0x7cf')]();}}]),_0x5d1db9);function _0x5d1db9(_0x5bb315){var _0x3d60b3=_0x5bb315[_0x10de('0x338')],_0x2284e4=_0x5bb315[_0x10de('0xdc')],_0x2d05cb=_0x5bb315[_0x10de('0x3a5')],_0x168497=_0x5bb315[_0x10de('0x7e3')],_0x168497=void 0x0===_0x168497?0x1:_0x168497,_0x54bb05=_0x5bb315[_0x10de('0x7ed')],_0x54bb05=void 0x0===_0x54bb05?new THREE[(_0x10de('0x1c8'))]():_0x54bb05,_0x31c2bc=_0x5bb315[_0x10de('0x7e4')],_0x31c2bc=void 0x0!==_0x31c2bc&&_0x31c2bc,_0x2b38f6=_0x5bb315['material'],_0x2d1f8f=_0x5bb315[_0x10de('0x7ee')],_0x2d1f8f=void 0x0===_0x2d1f8f||_0x2d1f8f,_0xd9f6bc=_0x5bb315[_0x10de('0x7a3')],_0xd9f6bc=void 0x0===_0xd9f6bc||_0xd9f6bc,_0x5bb315=((0x0,_0x13bb8b['default'])(_0x5bb315,[_0x10de('0x338'),_0x10de('0xdc'),_0x10de('0x3a5'),_0x10de('0x7e3'),_0x10de('0x7ed'),'cover',_0x10de('0x40'),_0x10de('0x7ee'),_0x10de('0x7a3')]),(0x0,_0x16cb12[_0x10de('0x9')])(this,_0x5d1db9),this[_0x10de('0x40')]=_0x2b38f6,this[_0x10de('0x338')]=_0x3d60b3,this[_0x10de('0xdc')]=_0x2284e4,this[_0x10de('0x7e3')]=_0x168497,this[_0x10de('0x7e4')]=_0x31c2bc,this['isShowHepler']=_0x2d1f8f,_0x4f1979(_0x2284e4,_0x3d60b3,_0x168497,_0x31c2bc)),_0x2d1f8f=(0x0,_0x36731b[_0x10de('0x9')])(_0x5bb315,0x2),_0x168497=_0x2d1f8f[0x0],_0x31c2bc=_0x2d1f8f[0x1];this[_0x10de('0x7dd')]='\x0a\x20\x20\x20\x20\x20\x20vec4\x20projectedTexelToLinear(vec4\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20'+(_0x5bb315=function(_0x5bb315){switch(_0x5bb315){case THREE[_0x10de('0x69c')]:return['Linear',_0x10de('0x7ef')];case THREE[_0x10de('0x69d')]:return[_0x10de('0x7f0'),'(\x20value\x20)'];case THREE[_0x10de('0x684')]:return[_0x10de('0x6c7'),_0x10de('0x7ef')];case THREE[_0x10de('0x7f1')]:return[_0x10de('0x7f2'),_0x10de('0x7f3')];case THREE[_0x10de('0x6a1')]:return[_0x10de('0x7f2'),'(\x20value,\x2016.0\x20)'];case THREE[_0x10de('0x7f4')]:return[_0x10de('0x7f5'),_0x10de('0x7f6')];case THREE[_0x10de('0x7f7')]:return[_0x10de('0x7f8'),'(\x20value,\x20float(\x20GAMMA_FACTOR\x20)\x20)'];case THREE[_0x10de('0x7f9')]:return[_0x10de('0x7fa'),_0x10de('0x7ef')];default:return['Linear',_0x10de('0x7ef')];}}(_0x2284e4[_0x10de('0x46b')]))[0x0]+_0x10de('0x7fb')+_0x5bb315[0x1]+';\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',this[_0x10de('0x1b4')]={'projectedTexture':{'value':_0x2284e4},'textureMask':{'value':_0x2d05cb},'isTextureLoaded':{'value':Boolean(_0x2284e4[_0x10de('0x49c')])},'isTextureProjected':{'value':!0x1},'backgroundOpacity':{'value':0x1},'viewMatrixCamera':{'value':new THREE['Matrix4']()},'projectionMatrixCamera':{'value':new THREE[(_0x10de('0x353'))]()},'projPosition':{'value':new THREE['Vector3']()},'projDirection':{'value':new THREE['Vector3'](0x0,0x0,-0x1)},'savedModelMatrix':{'value':new THREE['Matrix4']()},'widthScaled':{'value':_0x168497},'heightScaled':{'value':_0x31c2bc},'textureOffset':{'value':_0x54bb05},'cameraFarDistance':{'value':_0x3d60b3['far']},'visualFieldColor':{'value':new THREE[(_0x10de('0x1cc'))](0xffffff)},'isCullByCamera':{'value':_0xd9f6bc}},this[_0x10de('0x7db')](_0x2b38f6);}_0x3d60b3[_0x10de('0x9')]=_0x2284e4;},function(_0x5293f5,_0x383a0d,_0x257747){'use strict';_0x383a0d[_0x10de('0x5')]=!0x0,_0x383a0d[_0x10de('0x9')]=function(_0x5293f5,_0x383a0d){var _0x257747,_0x382427={};for(_0x257747 in _0x5293f5)0x0<=_0x383a0d['indexOf'](_0x257747)||Object[_0x10de('0xa')]['hasOwnProperty'][_0x10de('0x0')](_0x5293f5,_0x257747)&&(_0x382427[_0x257747]=_0x5293f5[_0x257747]);return _0x382427;};},function(_0x37f09e,_0x342cc2,_0x554059){'use strict';Object[_0x10de('0x2')](_0x342cc2,_0x10de('0x5'),{'value':!0x0});var _0x29b260=_0x16ee1b(_0x554059(0x0));function _0x16ee1b(_0x37f09e){return _0x37f09e&&_0x37f09e['__esModule']?_0x37f09e:{'default':_0x37f09e};}function _0x5b2a4d(_0x37f09e){(0x0,_0x29b260['default'])(this,_0x5b2a4d),this[_0x10de('0x368')]=new THREE[(_0x10de('0x369'))](),this['basicLine']=null,this[_0x10de('0x338')]=_0x37f09e,this[_0x10de('0x7c6')]=null,this[_0x10de('0xd0')]=null,this['material']=null,this[_0x10de('0x7fc')]=new THREE['Vector3'](),this[_0x10de('0x7fd')](),this['update']();}(0x0,_0x16ee1b(_0x554059(0x1))[_0x10de('0x9')])(_0x5b2a4d,[{'key':_0x10de('0x7fd'),'value':function(){this[_0x10de('0xd0')]=new THREE[(_0x10de('0x352'))](),this[_0x10de('0x40')]=new THREE[(_0x10de('0x64f'))]({'color':0xffffff,'vertexColors':THREE[_0x10de('0x7fe')]});var _0x554059=[],_0x29b260=[],_0x16ee1b={},_0x37f09e=new THREE['Color'](0xffaa00),_0x342cc2=(new THREE[(_0x10de('0x1cc'))](0xff0000),new THREE['Color'](0xaaff)),_0x5b2a4d=new THREE[(_0x10de('0x1cc'))](0xffffff),_0x58dc90=new THREE[(_0x10de('0x1cc'))](0x333333);function _0x1b4a56(_0x37f09e,_0x342cc2){_0x554059[_0x10de('0x84')](0x0,0x0,0x0),_0x29b260[_0x10de('0x84')](_0x342cc2['r'],_0x342cc2['g'],_0x342cc2['b']),void 0x0===_0x16ee1b[_0x37f09e]&&(_0x16ee1b[_0x37f09e]=[]),_0x16ee1b[_0x37f09e]['push'](_0x554059[_0x10de('0xe')]/0x3-0x1);}function _0xd301ea(_0x37f09e,_0x342cc2,_0x554059){_0x1b4a56(_0x37f09e,_0x554059),_0x1b4a56(_0x342cc2,_0x554059);}_0xd301ea('n1','n2',_0x37f09e),_0xd301ea('n2','n4',_0x37f09e),_0xd301ea('n4','n3',_0x37f09e),_0xd301ea('n3','n1',_0x37f09e),_0xd301ea('f1','f2',_0x37f09e),_0xd301ea('f2','f4',_0x37f09e),_0xd301ea('f4','f3',_0x37f09e),_0xd301ea('f3','f1',_0x37f09e),_0xd301ea('n1','f1',_0x37f09e),_0xd301ea('n2','f2',_0x37f09e),_0xd301ea('n3','f3',_0x37f09e),_0xd301ea('n4','f4',_0x37f09e),_0xd301ea('u1','u2',_0x342cc2),_0xd301ea('u2','u3',_0x342cc2),_0xd301ea('u3','u1',_0x342cc2),_0xd301ea('c','t',_0x5b2a4d),_0xd301ea(_0x10de('0x7ff'),'cn2',_0x58dc90),_0xd301ea(_0x10de('0x800'),_0x10de('0x801'),_0x58dc90),_0xd301ea(_0x10de('0x802'),'cf2',_0x58dc90),_0xd301ea(_0x10de('0x803'),_0x10de('0x804'),_0x58dc90),this['geometry'][_0x10de('0x202')]('position',new THREE[(_0x10de('0x805'))](_0x554059,0x3)),this[_0x10de('0xd0')][_0x10de('0x202')]('color',new THREE[(_0x10de('0x805'))](_0x29b260,0x3)),this[_0x10de('0x338')]['updateProjectionMatrix']&&this[_0x10de('0x338')][_0x10de('0x6aa')](),this[_0x10de('0x806')]=this[_0x10de('0x338')][_0x10de('0x3a0')],this[_0x10de('0x807')]=!0x1;_0x37f09e=new THREE[(_0x10de('0x3b6'))](this['geometry'],this[_0x10de('0x40')]);this[_0x10de('0x7c6')]=_0x16ee1b,this[_0x10de('0x368')][_0x10de('0x1d5')](_0x37f09e);}},{'key':_0x10de('0x808'),'value':function(_0x37f09e,_0x342cc2,_0x554059,_0x29b260){this[_0x10de('0x7fc')]['set'](_0x342cc2,_0x554059,_0x29b260)[_0x10de('0x809')](this[_0x10de('0x338')]);var _0x16ee1b=this[_0x10de('0x7c6')][_0x37f09e];if(void 0x0!==_0x16ee1b)for(var _0x5b2a4d=this[_0x10de('0xd0')][_0x10de('0x6df')](_0x10de('0x222')),_0x1a6b68=0x0,_0x489ba7=_0x16ee1b[_0x10de('0xe')];_0x1a6b68<_0x489ba7;_0x1a6b68++)_0x5b2a4d[_0x10de('0x80a')](_0x16ee1b[_0x1a6b68],this[_0x10de('0x7fc')]['x'],this[_0x10de('0x7fc')]['y'],this['vector']['z']);}},{'key':_0x10de('0x31d'),'value':function(){this['camera'][_0x10de('0x80b')][_0x10de('0x1d3')](this[_0x10de('0x338')][_0x10de('0x80b')]),this[_0x10de('0x808')]('c',0x0,0x0,-0x1),this[_0x10de('0x808')]('t',0x0,0x0,0x1),this[_0x10de('0x808')]('n1',-0x1,-0x1,-0x1),this[_0x10de('0x808')]('n2',0x1,-0x1,-0x1),this[_0x10de('0x808')]('n3',-0x1,0x1,-0x1),this[_0x10de('0x808')]('n4',0x1,0x1,-0x1),this[_0x10de('0x808')]('f1',-0x1,-0x1,0x1),this['setPoint']('f2',0x1,-0x1,0x1),this[_0x10de('0x808')]('f3',-0x1,0x1,0x1),this['setPoint']('f4',0x1,0x1,0x1),this[_0x10de('0x808')]('u1',0.7,1.1,-0x1),this[_0x10de('0x808')]('u2',-0.7,1.1,-0x1),this[_0x10de('0x808')]('u3',0x0,0x2,-0x1),this[_0x10de('0x808')](_0x10de('0x802'),-0x1,0x0,0x1),this['setPoint']('cf2',0x1,0x0,0x1),this['setPoint'](_0x10de('0x803'),0x0,-0x1,0x1),this[_0x10de('0x808')](_0x10de('0x804'),0x0,0x1,0x1),this['setPoint'](_0x10de('0x7ff'),-0x1,0x0,-0x1),this['setPoint'](_0x10de('0x80c'),0x1,0x0,-0x1),this[_0x10de('0x808')](_0x10de('0x800'),0x0,-0x1,-0x1),this[_0x10de('0x808')](_0x10de('0x801'),0x0,0x1,-0x1),this['geometry'][_0x10de('0x6df')](_0x10de('0x222'))['needsUpdate']=!0x0;}}]),_0x342cc2[_0x10de('0x9')]=_0x5b2a4d;},function(_0x5ceab3,_0x402d8d,_0x5bb4c8){'use strict';Object['defineProperty'](_0x402d8d,_0x10de('0x5'),{'value':!0x0});var _0x390a68=_0x3ecc0d(_0x5bb4c8(0x5)),_0x53ff3d=_0x3ecc0d(_0x5bb4c8(0x1b)),_0x4e87fd=_0x3ecc0d(_0x5bb4c8(0x0)),_0x21dd61=_0x3ecc0d(_0x5bb4c8(0x1)),_0x39f0bc=_0x3ecc0d(_0x5bb4c8(0x1e)),_0xcf3cb1=_0x3ecc0d(_0x5bb4c8(0x1f)),_0x44be06=_0x3ecc0d(_0x5bb4c8(0x46));function _0x3ecc0d(_0x5ceab3){return _0x5ceab3&&_0x5ceab3[_0x10de('0x5')]?_0x5ceab3:{'default':_0x5ceab3};}function _0x3e1421(_0x5ceab3){var _0x402d8d=_0x5ceab3['repeatFactor'],_0x402d8d=void 0x0===_0x402d8d?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x402d8d,_0x5bb4c8=_0x5ceab3[_0x10de('0x80d')],_0x5bb4c8=void 0x0===_0x5bb4c8?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x5bb4c8,_0x21dd61=_0x5ceab3['texture2Path'],_0xcf3cb1=_0x5ceab3[_0x10de('0x80e')],_0x3ecc0d=_0x5ceab3[_0x10de('0x80f')],_0x5f43b5=_0x5ceab3[_0x10de('0x810')],_0x4bf1cd=_0x5ceab3['noisePath'],_0x5d2e58=_0x5ceab3[_0x10de('0x811')],_0x390a68=_0x5ceab3['normalFlipSide'],_0x4faf33=_0x5ceab3[_0x10de('0x4e9')],_0x5ceab3=(_0x5ceab3[_0x10de('0x812')],(0x0,_0x4e87fd[_0x10de('0x9')])(this,_0x3e1421),(0x0,_0x39f0bc[_0x10de('0x9')])(this,(_0x3e1421[_0x10de('0x6d')]||(0x0,_0x53ff3d[_0x10de('0x9')])(_0x3e1421))[_0x10de('0x0')](this))),_0x402d8d=(_0x5ceab3['textureManager']=new _0x44be06[(_0x10de('0x9'))](),_0x5ceab3['repeatFactor']=new THREE['Vector4'](_0x402d8d[_0x10de('0x411')],_0x402d8d[_0x10de('0x60f')],_0x402d8d['texture3'],_0x402d8d[_0x10de('0x813')]),_0x5ceab3['isNoTileFactor']=new THREE[(_0x10de('0x1cb'))](_0x5bb4c8[_0x10de('0x411')],_0x5bb4c8[_0x10de('0x60f')],_0x5bb4c8['texture3'],_0x5bb4c8[_0x10de('0x813')]),_0x5ceab3[_0x10de('0x811')]=_0x5d2e58,_0x5ceab3[_0x10de('0x814')]=_0x390a68,_0x5ceab3['anisotropy']=_0x4faf33,_0x5ceab3[_0x10de('0x603')]={'texture2':null,'textureMask':null,'texture3':null,'texture4':null,'noise':null},_0x5ceab3[_0x10de('0x40d')]=null,[{'name':_0x10de('0x60f'),'path':_0x21dd61},{'name':_0x10de('0x815'),'path':_0xcf3cb1},{'name':'texture3','path':_0x3ecc0d},{'name':_0x10de('0x813'),'path':_0x5f43b5},{'name':_0x10de('0x816'),'path':_0x4bf1cd}]);return _0x5ceab3[_0x10de('0x817')](_0x402d8d),_0x5ceab3;}_0x5bb4c8=_0x5bb4c8(0x2a)[_0x10de('0x82')],(0x0,_0xcf3cb1[_0x10de('0x9')])(_0x3e1421,_0x5bb4c8),(0x0,_0x21dd61['default'])(_0x3e1421,[{'key':'loadTextures','value':function(_0x5ceab3){var _0x57572b=this,_0x4d8946=this;this[_0x10de('0x818')][_0x10de('0xe0')](_0x5ceab3)[_0x10de('0x385')](function(_0x5ceab3){var _0x402d8d=!0x0,_0x5bb4c8=!0x1,_0x21dd61=void 0x0;try{for(var _0xcf3cb1,_0x3ecc0d=(0x0,_0x390a68[_0x10de('0x9')])(_0x5ceab3);!(_0x402d8d=(_0xcf3cb1=_0x3ecc0d[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x402d8d=!0x0){var _0x50f48b=_0xcf3cb1[_0x10de('0x10')];_0x10de('0x60f')===_0x50f48b['name']&&(_0x4d8946[_0x10de('0x603')][_0x10de('0x60f')]=_0x50f48b,_0x4d8946['textures'][_0x10de('0x60f')]['wrapS']=THREE[_0x10de('0x36c')],_0x4d8946[_0x10de('0x603')]['texture2'][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x57572b['anisotropy']&&(_0x4d8946['textures'][_0x10de('0x60f')]['anisotropy']=_0x57572b[_0x10de('0x4e9')])),_0x10de('0x815')===_0x50f48b[_0x10de('0x8c')]&&(_0x50f48b[_0x10de('0x65a')]=!0x1,_0x4d8946[_0x10de('0x603')][_0x10de('0x815')]=_0x50f48b),'texture3'===_0x50f48b[_0x10de('0x8c')]&&(_0x4d8946[_0x10de('0x603')][_0x10de('0x819')]=_0x50f48b,_0x4d8946['textures'][_0x10de('0x819')][_0x10de('0x49d')]=THREE['RepeatWrapping'],_0x4d8946['textures'][_0x10de('0x819')][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x57572b[_0x10de('0x4e9')]&&(_0x4d8946['textures'][_0x10de('0x819')][_0x10de('0x4e9')]=_0x57572b[_0x10de('0x4e9')])),_0x10de('0x813')===_0x50f48b[_0x10de('0x8c')]&&(_0x4d8946[_0x10de('0x603')][_0x10de('0x813')]=_0x50f48b,_0x4d8946[_0x10de('0x603')][_0x10de('0x813')]['wrapS']=THREE['RepeatWrapping'],_0x4d8946[_0x10de('0x603')]['texture4'][_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x57572b[_0x10de('0x4e9')]&&(_0x4d8946[_0x10de('0x603')][_0x10de('0x813')]['anisotropy']=_0x57572b[_0x10de('0x4e9')])),_0x10de('0x816')===_0x50f48b['name']&&(_0x4d8946[_0x10de('0x603')][_0x10de('0x816')]=_0x50f48b,_0x4d8946[_0x10de('0x603')][_0x10de('0x816')][_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x4d8946[_0x10de('0x603')]['noise'][_0x10de('0x41e')]=THREE['RepeatWrapping']);}}catch(_0x14ca79){_0x5bb4c8=!0x0,_0x21dd61=_0x14ca79;}finally{try{!_0x402d8d&&_0x3ecc0d[_0x10de('0xdf')]&&_0x3ecc0d[_0x10de('0xdf')]();}finally{if(_0x5bb4c8)throw _0x21dd61;}}_0x4d8946[_0x10de('0x2ef')]({'type':_0x10de('0x476')});});}},{'key':_0x10de('0x604'),'value':function(){var _0x5ceab3=document[_0x10de('0x87')](_0x10de('0x472'));return _0x5ceab3[_0x10de('0x35d')]=0x2,_0x5ceab3['height']=0x2,_0x5ceab3[_0x10de('0x473')]('2d')[_0x10de('0x405')]=_0x10de('0x365'),new THREE[(_0x10de('0x6ff'))](_0x5ceab3);}},{'key':'createMaterial','value':function(_0x402d8d){var _0x5bb4c8=this;_0x402d8d[_0x10de('0x606')]||(_0x402d8d[_0x10de('0x606')]=this[_0x10de('0x604')](),_0x402d8d[_0x10de('0x607')]=0x0),_0x5bb4c8['textures'][_0x10de('0x819')]&&(_0x402d8d['defines'][_0x10de('0x81a')]=''),_0x5bb4c8['textures'][_0x10de('0x813')]&&(_0x402d8d[_0x10de('0x17d')][_0x10de('0x81b')]=''),_0x5bb4c8['textures'][_0x10de('0x81c')]&&(_0x402d8d[_0x10de('0x17d')]['IS_USE_MASK_ALPHA']='',_0x402d8d[_0x10de('0x1e4')]=!0x0),_0x5bb4c8[_0x10de('0x811')]&&(_0x402d8d[_0x10de('0x17d')]['IS_USE_CUS_NORMAL']='',0x2==_0x5bb4c8[_0x10de('0x811')]&&(_0x402d8d['normalMap'][_0x10de('0x49d')]=THREE[_0x10de('0x5a1')],_0x402d8d[_0x10de('0x81d')][_0x10de('0x41e')]=THREE['ClampToEdgeWrapping'],_0x402d8d[_0x10de('0x81e')]=THREE[_0x10de('0x81f')]),_0x5bb4c8[_0x10de('0x814')]&&(_0x402d8d[_0x10de('0x17d')][_0x10de('0x820')]='')),this[_0x10de('0x4e9')]&&(_0x402d8d[_0x10de('0xcf')][_0x10de('0x4e9')]=this[_0x10de('0x4e9')]),_0x402d8d[_0x10de('0x40f')]=function(_0x5ceab3){_0x5ceab3[_0x10de('0x1b4')][_0x10de('0x411')]={'value':_0x402d8d[_0x10de('0xcf')]},_0x5ceab3[_0x10de('0x1b4')][_0x10de('0x60f')]={'value':_0x5bb4c8[_0x10de('0x603')][_0x10de('0x60f')]},_0x5ceab3[_0x10de('0x1b4')]['textureMask']={'value':_0x5bb4c8[_0x10de('0x603')]['textureMask']},_0x5bb4c8[_0x10de('0x603')][_0x10de('0x819')]&&(_0x5ceab3[_0x10de('0x1b4')][_0x10de('0x819')]={'value':_0x5bb4c8[_0x10de('0x603')][_0x10de('0x819')]}),_0x5bb4c8[_0x10de('0x603')][_0x10de('0x813')]&&(_0x5ceab3[_0x10de('0x1b4')]['texture4']={'value':_0x5bb4c8[_0x10de('0x603')]['texture4']}),_0x5ceab3[_0x10de('0x1b4')][_0x10de('0x821')]={'value':_0x5bb4c8[_0x10de('0x603')][_0x10de('0x816')]},_0x5ceab3[_0x10de('0x1b4')][_0x10de('0x822')]={'value':_0x5bb4c8[_0x10de('0x5e3')]},_0x5ceab3[_0x10de('0x1b4')][_0x10de('0x823')]={'value':_0x5bb4c8[_0x10de('0x80d')]},_0x5ceab3[_0x10de('0x59')]=_0x5ceab3[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5ceab3[_0x10de('0x59')]=_0x5ceab3[_0x10de('0x59')]['replace']('#include\x20<uv2_vertex>',_0x10de('0x824')),_0x5ceab3[_0x10de('0x5a')]=_0x5ceab3[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x825')),_0x5ceab3['fragmentShader']=_0x5ceab3[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x826'),_0x10de('0x827')),_0x5ceab3[_0x10de('0x5a')]=_0x5ceab3['fragmentShader'][_0x10de('0x57')](_0x10de('0x5d3'),_0x10de('0x828')),_0x5bb4c8[_0x10de('0x40d')]=_0x5ceab3;};}}]),_0x402d8d['default']=_0x3e1421;},function(_0x289428,_0x44d42e,_0x538225){'use strict';Object['defineProperty'](_0x44d42e,_0x10de('0x5'),{'value':!0x0});var _0x2cb710=_0xd462ed(_0x538225(0x5)),_0x23d6c7=_0xd462ed(_0x538225(0x1b)),_0x1752ed=_0xd462ed(_0x538225(0x0)),_0x2653d9=_0xd462ed(_0x538225(0x1)),_0x1086fb=_0xd462ed(_0x538225(0x1e)),_0x4b5a5a=_0xd462ed(_0x538225(0x1f)),_0x1721f4=_0xd462ed(_0x538225(0x46));function _0xd462ed(_0x289428){return _0x289428&&_0x289428[_0x10de('0x5')]?_0x289428:{'default':_0x289428};}function _0x2dc0be(_0x289428){var _0x44d42e=_0x289428['textureMaskPath'],_0x538225=_0x289428[_0x10de('0x829')],_0x2653d9=_0x289428[_0x10de('0x82a')],_0x2653d9=void 0x0!==_0x2653d9&&_0x2653d9,_0x4b5a5a=_0x289428[_0x10de('0x82b')],_0x4b5a5a=void 0x0!==_0x4b5a5a&&_0x4b5a5a,_0x289428=_0x289428[_0x10de('0x82c')],_0xd462ed=((0x0,_0x1752ed[_0x10de('0x9')])(this,_0x2dc0be),(0x0,_0x1086fb['default'])(this,(_0x2dc0be[_0x10de('0x6d')]||(0x0,_0x23d6c7[_0x10de('0x9')])(_0x2dc0be))[_0x10de('0x0')](this))),_0x538225=(_0xd462ed[_0x10de('0x818')]=new _0x1721f4['default'](),_0xd462ed['effectShader']=null,_0xd462ed[_0x10de('0x829')]=_0x538225,_0xd462ed[_0x10de('0x82a')]=_0x2653d9,_0xd462ed['isUseUv2Light']=_0x4b5a5a,_0xd462ed[_0x10de('0x57c')]=0x0,_0xd462ed[_0x10de('0x56b')]=0.15,_0xd462ed['csMaxRadius']=1.1,_0xd462ed[_0x10de('0x82c')]=_0x289428||0x0,_0xd462ed[_0x10de('0x603')]={'textureMask':null},[{'name':'textureMask','path':_0x44d42e}]);return _0xd462ed['loadTextures'](_0x538225),_0xd462ed;}_0x538225=_0x538225(0x2a)[_0x10de('0x82')],(0x0,_0x4b5a5a['default'])(_0x2dc0be,_0x538225),(0x0,_0x2653d9[_0x10de('0x9')])(_0x2dc0be,[{'key':_0x10de('0xce'),'value':function(){for(var _0x289428 in this['textures'])this[_0x10de('0x603')][_0x289428]&&this['textures'][_0x289428]['dispose']();}},{'key':_0x10de('0x817'),'value':function(_0x289428){var _0x1752ed=this;this['textureManager'][_0x10de('0xe0')](_0x289428)[_0x10de('0x385')](function(_0x289428){var _0x44d42e=!0x0,_0x538225=!0x1,_0x2653d9=void 0x0;try{for(var _0x4b5a5a,_0xd462ed=(0x0,_0x2cb710[_0x10de('0x9')])(_0x289428);!(_0x44d42e=(_0x4b5a5a=_0xd462ed[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x44d42e=!0x0){var _0x23d6c7=_0x4b5a5a[_0x10de('0x10')];_0x10de('0x815')===_0x23d6c7['name']&&(_0x23d6c7['flipY']=!0x1,_0x1752ed[_0x10de('0x603')][_0x10de('0x815')]=_0x23d6c7);}}catch(_0x1db542){_0x538225=!0x0,_0x2653d9=_0x1db542;}finally{try{!_0x44d42e&&_0xd462ed[_0x10de('0xdf')]&&_0xd462ed['return']();}finally{if(_0x538225)throw _0x2653d9;}}_0x1752ed[_0x10de('0x2ef')]({'type':_0x10de('0x476')});});}},{'key':_0x10de('0x604'),'value':function(){var _0x289428=document[_0x10de('0x87')](_0x10de('0x472'));return _0x289428['width']=0x2,_0x289428[_0x10de('0x32c')]=0x2,_0x289428[_0x10de('0x473')]('2d')[_0x10de('0x405')]=_0x10de('0x365'),new THREE['Texture'](_0x289428);}},{'key':_0x10de('0x32e'),'value':function(_0x289428){var _0x44d42e=this;if(!_0x44d42e['textures'][_0x10de('0x815')])return!0x1;_0x289428[_0x10de('0x606')]||(_0x289428[_0x10de('0x606')]=this[_0x10de('0x604')](),_0x289428[_0x10de('0x607')]=0x0),_0x289428[_0x10de('0x40f')]=function(_0x289428){_0x289428['uniforms'][_0x10de('0x410')]={'value':0x0},_0x289428[_0x10de('0x1b4')][_0x10de('0x82d')]={'value':_0x44d42e[_0x10de('0x829')]},_0x289428[_0x10de('0x1b4')][_0x10de('0x82e')]={'value':_0x44d42e['isUseScanEffect']},_0x289428[_0x10de('0x1b4')]['scanOffset']={'value':_0x44d42e[_0x10de('0x82c')]},_0x289428[_0x10de('0x1b4')]['textureMask']={'value':_0x44d42e['textures'][_0x10de('0x815')]},_0x289428[_0x10de('0x59')]=_0x289428['vertexShader'][_0x10de('0x57')](_0x10de('0x420'),_0x10de('0x82f')),_0x289428[_0x10de('0x59')]=_0x289428['vertexShader']['replace'](_0x10de('0x422'),_0x10de('0x830')),_0x289428[_0x10de('0x5a')]=_0x289428['fragmentShader']['replace']('uniform\x20float\x20opacity;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20ignoreAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20useScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scanOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x289428['fragmentShader']=_0x289428[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x5d3'),_0x10de('0x831')),_0x44d42e['isUseUv2Light']&&(_0x289428[_0x10de('0x5a')]=_0x289428[_0x10de('0x5a')]['replace'](_0x10de('0x832'),_0x10de('0x833'))),_0x289428[_0x10de('0x5a')]=_0x289428[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x44d42e['effectShader']=_0x289428;};}},{'key':_0x10de('0x362'),'value':function(_0x289428){this[_0x10de('0x834')]&&(this[_0x10de('0x57c')]+=_0x289428*this[_0x10de('0x56b')],this[_0x10de('0x834')][_0x10de('0x1b4')]['iTime'][_0x10de('0x10')]=this[_0x10de('0x57c')]);}}]),_0x44d42e[_0x10de('0x9')]=_0x2dc0be;},function(_0x442142,_0x307edb,_0x3126db){'use strict';Object['defineProperty'](_0x307edb,_0x10de('0x5'),{'value':!0x0});var _0x3083b8=_0x113ba3(_0x3126db(0x0));function _0x113ba3(_0x442142){return _0x442142&&_0x442142[_0x10de('0x5')]?_0x442142:{'default':_0x442142};}function _0x4715dc(){(0x0,_0x3083b8[_0x10de('0x9')])(this,_0x4715dc),this[_0x10de('0x835')]=[];}(0x0,_0x113ba3(_0x3126db(0x1))[_0x10de('0x9')])(_0x4715dc,[{'key':_0x10de('0xce'),'value':function(){this['materialList']['length']=0x0;}},{'key':_0x10de('0x604'),'value':function(){var _0x442142=document[_0x10de('0x87')](_0x10de('0x472'));return _0x442142[_0x10de('0x35d')]=0x2,_0x442142['height']=0x2,_0x442142['getContext']('2d')[_0x10de('0x405')]=_0x10de('0x365'),new THREE[(_0x10de('0x6ff'))](_0x442142);}},{'key':_0x10de('0x32e'),'value':function(_0x442142){_0x442142[_0x10de('0x606')]||(_0x442142[_0x10de('0x606')]=this[_0x10de('0x604')](),_0x442142[_0x10de('0x607')]=0x0),_0x442142[_0x10de('0x40f')]=function(_0x442142){_0x442142[_0x10de('0x1b4')]['isUseEmiisive']={'value':!0x1},_0x442142[_0x10de('0x5a')]=_0x442142[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x832'),_0x10de('0x836'));},this[_0x10de('0x835')]['push'](_0x442142);}},{'key':_0x10de('0x837'),'value':function(_0x442142){var _0x3083b8,_0x307edb=_0x442142[_0x10de('0x838')],_0x307edb=void 0x0!==_0x307edb&&_0x307edb,_0x3126db=_0x442142[_0x10de('0x507')],_0x3126db=void 0x0===_0x3126db?0x1:_0x3126db,_0x113ba3=_0x442142[_0x10de('0x312')];0x0<this['materialList']['length']&&(_0x3083b8=this,new TWEEN[(_0x10de('0x316'))]({'x':_0x307edb?0x0:0x1})['to']({'x':_0x307edb?0x1:0x0},0x3e8*_0x3126db)['onUpdate'](function(_0x442142){for(var _0x307edb=0x0,_0x3126db=_0x3083b8[_0x10de('0x835')][_0x10de('0xe')];_0x307edb<_0x3126db;_0x307edb++)_0x3083b8[_0x10de('0x835')][_0x307edb]['emissiveIntensity']=_0x442142['x'];})['onComplete'](function(){_0x113ba3&&_0x113ba3();})[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x318')]['In'])[_0x10de('0x31b')]());}},{'key':_0x10de('0x839'),'value':function(){this['materialList'][_0x10de('0xe')]=0x0;}}]),_0x307edb[_0x10de('0x9')]=_0x4715dc;},function(_0x4065a8,_0x4e34c1,_0x2a9d86){'use strict';Object['defineProperty'](_0x4e34c1,_0x10de('0x5'),{'value':!0x0});var _0x249e06=_0x5f3e7e(_0x2a9d86(0x0));function _0x5f3e7e(_0x4065a8){return _0x4065a8&&_0x4065a8['__esModule']?_0x4065a8:{'default':_0x4065a8};}function _0x1135b9(){(0x0,_0x249e06[_0x10de('0x9')])(this,_0x1135b9),this[_0x10de('0x40')]=null,this[_0x10de('0x40d')]=null,this[_0x10de('0x114')]=null;}(0x0,_0x5f3e7e(_0x2a9d86(0x1))[_0x10de('0x9')])(_0x1135b9,[{'key':_0x10de('0x32e'),'value':function(_0x4065a8){_0x4065a8[_0x10de('0x40f')]=function(_0x4065a8){_0x4065a8[_0x10de('0x1b4')]['coeficient']={'value':1.2},_0x4065a8['uniforms'][_0x10de('0x674')]={'value':1.4},_0x4065a8['uniforms']['glowColor']={'value':new THREE[(_0x10de('0x1cc'))](0x52ab)},_0x4065a8[_0x10de('0x59')]=_0x4065a8[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x412'),_0x10de('0x675')),_0x4065a8[_0x10de('0x59')]=_0x4065a8[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv_vertex>',_0x10de('0x676')),_0x4065a8[_0x10de('0x5a')]=_0x4065a8[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x677')),_0x4065a8[_0x10de('0x5a')]=_0x4065a8[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x83a'));},this[_0x10de('0x40')]=_0x4065a8;}},{'key':_0x10de('0x5d8'),'value':function(){return this[_0x10de('0x40')];}},{'key':_0x10de('0x362'),'value':function(_0x4065a8){this['shader']&&(this[_0x10de('0x114')]+=_0x4065a8,this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x410')][_0x10de('0x10')]=this[_0x10de('0x114')]);}}]),_0x4e34c1[_0x10de('0x9')]=_0x1135b9;},function(_0x3c8cfd,_0xbc463a,_0x45c909){'use strict';Object[_0x10de('0x2')](_0xbc463a,_0x10de('0x5'),{'value':!0x0});var _0x1dd632=_0x91bba6(_0x45c909(0x1b)),_0x3c4119=_0x91bba6(_0x45c909(0x0)),_0x4c4580=_0x91bba6(_0x45c909(0x1)),_0x583700=_0x91bba6(_0x45c909(0x1e)),_0x20c7aa=_0x91bba6(_0x45c909(0x1f)),_0x5aba19=_0x91bba6(_0x45c909(0x46)),_0x344c0b=_0x45c909(0x2a),_0x5e0821=_0x91bba6(_0x45c909(0x72));function _0x91bba6(_0x3c8cfd){return _0x3c8cfd&&_0x3c8cfd['__esModule']?_0x3c8cfd:{'default':_0x3c8cfd};}function _0x480cce(_0x3c8cfd){var _0xbc463a=_0x3c8cfd['map'],_0x3c8cfd=_0x3c8cfd['speed'],_0x3c8cfd=void 0x0===_0x3c8cfd?0.5:_0x3c8cfd,_0x45c909=((0x0,_0x3c4119['default'])(this,_0x480cce),(0x0,_0x583700['default'])(this,(_0x480cce[_0x10de('0x6d')]||(0x0,_0x1dd632[_0x10de('0x9')])(_0x480cce))[_0x10de('0x0')](this)));return _0x45c909[_0x10de('0xcf')]=_0xbc463a,_0x45c909['material']=null,_0x45c909[_0x10de('0x363')]=_0x3c8cfd,_0x45c909[_0x10de('0xdc')]=null,_0x45c909[_0x10de('0x602')]=!0x1,_0x45c909[_0x10de('0x83b')]=null,_0x45c909[_0x10de('0x600')]=[],_0x45c909;}_0x45c909=_0x344c0b[_0x10de('0x82')],(0x0,_0x20c7aa[_0x10de('0x9')])(_0x480cce,_0x45c909),(0x0,_0x4c4580[_0x10de('0x9')])(_0x480cce,[{'key':_0x10de('0xe5'),'value':function(_0x3c8cfd){var _0xbc463a=this;new _0x5aba19['default']()[_0x10de('0xe1')]({'name':_0x10de('0x83c'),'path':_0x3c8cfd})[_0x10de('0x385')](function(_0x3c8cfd){_0xbc463a[_0x10de('0xdc')]=_0x3c8cfd,_0xbc463a[_0x10de('0xdc')][_0x10de('0x4e9')]=_0xbc463a[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x4eb')]['getMaxAnisotropy'](),_0xbc463a[_0x10de('0x2ef')]({'type':_0x10de('0x476')});});}},{'key':_0x10de('0x83d'),'value':function(_0x3c8cfd){this[_0x10de('0x83b')]=new _0x5e0821[(_0x10de('0x9'))]({'timer':this[_0x10de('0xcf')][_0x10de('0x2da')],'imageWidth':_0x3c8cfd[_0x10de('0x612')],'imageHeight':_0x3c8cfd[_0x10de('0x613')],'xCount':_0x3c8cfd[_0x10de('0x50e')],'yCount':_0x3c8cfd['column'],'fps':_0x3c8cfd[_0x10de('0x2dd')]}),this[_0x10de('0x83b')][_0x10de('0x7a')](this[_0x10de('0xdc')],!0x0);}},{'key':_0x10de('0x83e'),'value':function(_0x3c8cfd){this['textureSprite']&&_0x3c8cfd&&(this['textureSprite']['fps']=_0x3c8cfd);}},{'key':_0x10de('0x83f'),'value':function(_0x3c8cfd){_0x3c8cfd[_0x10de('0x232')]['setStyle'](_0x10de('0x44a')),_0x3c8cfd[_0x10de('0x1e4')]=!0x0,_0x3c8cfd[_0x10de('0x233')]=0x1,_0x3c8cfd['depthWrite']=!0x1,_0x3c8cfd[_0x10de('0xcf')]=this[_0x10de('0xdc')],_0x3c8cfd[_0x10de('0xcf')]['needsUpdate']=!0x0,_0x3c8cfd[_0x10de('0x10c')]=!0x0,this['material']=_0x3c8cfd;}},{'key':_0x10de('0x362'),'value':function(){this[_0x10de('0x83b')]&&this[_0x10de('0x83b')]['update']();}}]),_0xbc463a['default']=_0x480cce;},function(_0x1880e5,_0x24a483,_0x169d71){'use strict';Object[_0x10de('0x2')](_0x24a483,_0x10de('0x5'),{'value':!0x0});var _0x48b938=_0x59c7a8(_0x169d71(0x0)),_0x4a8b81=_0x59c7a8(_0x169d71(0x1)),_0x2ba17f=_0x169d71(0xb5);function _0x59c7a8(_0x1880e5){return _0x1880e5&&_0x1880e5[_0x10de('0x5')]?_0x1880e5:{'default':_0x1880e5};}function _0x5948d5(_0x1880e5){var _0x24a483=_0x1880e5[_0x10de('0x840')],_0x24a483=void 0x0===_0x24a483?[0x0,0x0]:_0x24a483,_0x169d71=_0x1880e5[_0x10de('0x841')],_0x169d71=void 0x0===_0x169d71?_0x10de('0x842'):_0x169d71,_0x4a8b81=_0x1880e5[_0x10de('0x4fb')],_0x59c7a8=_0x1880e5['texPath'],_0x3c61e8=_0x1880e5[_0x10de('0x67e')],_0x3c61e8=void 0x0===_0x3c61e8?{'x':0x64,'y':0x64}:_0x3c61e8,_0x19b0b2=_0x1880e5['isShowContour'],_0x1159f2=_0x1880e5[_0x10de('0x843')],_0x1880e5=_0x1880e5[_0x10de('0x844')],_0x1880e5=void 0x0===_0x1880e5?{'scale':0xc8,'fogNear':0.15,'fogFar':0xc8}:_0x1880e5;(0x0,_0x48b938[_0x10de('0x9')])(this,_0x5948d5),this[_0x10de('0x840')]=new THREE[(_0x10de('0x1c8'))](_0x24a483[0x0],_0x24a483[0x1]),this[_0x10de('0x841')]=_0x169d71,this[_0x10de('0x845')]=new _0x2ba17f[(_0x10de('0x4b7'))](_0x169d71),this['isTransparentLight']=_0x4a8b81,this[_0x10de('0x846')]=_0x19b0b2,this[_0x10de('0x843')]=_0x1159f2,this[_0x10de('0x844')]=_0x1880e5,this['groundTexPath']=_0x59c7a8,this[_0x10de('0x847')]=_0x3c61e8,this[_0x10de('0x40d')]=null,this[_0x10de('0x114')]=0x0,this[_0x10de('0x363')]=0.05;}(0x0,_0x4a8b81['default'])(_0x5948d5,[{'key':_0x10de('0x848'),'value':function(){if(this[_0x10de('0x841')]&&_0x2ba17f[_0x10de('0x4be')][this[_0x10de('0x841')]])return _0x2ba17f[_0x10de('0x4be')][this[_0x10de('0x841')]];}},{'key':_0x10de('0x849'),'value':function(_0x1880e5){_0x1880e5&&_0x1880e5['name']&&_0x1880e5[_0x10de('0x84a')]&&0x0<_0x1880e5[_0x10de('0x84a')][_0x10de('0xe')]&&this[_0x10de('0x845')][_0x10de('0x84b')](this[_0x10de('0x841')],_0x1880e5[_0x10de('0x84a')]),this[_0x10de('0x845')][_0x10de('0x4b6')](this[_0x10de('0x841')]);_0x1880e5=new THREE[(_0x10de('0x658'))](this[_0x10de('0x845')][_0x10de('0x84c')]());_0x1880e5[_0x10de('0x10c')]=!0x0,this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x5b6')][_0x10de('0x10')]=_0x1880e5;}},{'key':'setSeaGroundConfigs','value':function(_0x1880e5){_0x1880e5['scale']&&(this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x84d')]['value']=_0x1880e5[_0x10de('0x1e8')]),_0x1880e5[_0x10de('0x84e')]&&_0x1880e5[_0x10de('0x84f')]&&(this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x850')][_0x10de('0x10')]=new THREE['Vector2'](_0x1880e5[_0x10de('0x84e')],_0x1880e5['fogFar']));}},{'key':'createMaterial','value':function(_0x1880e5){var _0x169d71=this,_0x4a8b81=new THREE[(_0x10de('0x658'))](this[_0x10de('0x845')]['createCanvas']()),_0x59c7a8=null;return this[_0x10de('0x851')]&&((_0x59c7a8=new THREE['TextureLoader']()['load'](this[_0x10de('0x851')]))[_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x59c7a8[_0x10de('0x41e')]=THREE[_0x10de('0x36c')]),_0x1880e5[_0x10de('0x40f')]=function(_0x1880e5){var _0x24a483=_0x1880e5[_0x10de('0x1b4')];_0x1880e5['uniforms']=_0x24a483,_0x1880e5[_0x10de('0x1b4')]['isShow']={'value':_0x169d71['isShow']||!0x1},_0x1880e5['uniforms'][_0x10de('0x410')]={'value':0x0},_0x1880e5['uniforms'][_0x10de('0x840')]={'value':_0x169d71['heightExtent']},_0x1880e5[_0x10de('0x1b4')][_0x10de('0x5b6')]={'value':_0x4a8b81},_0x59c7a8&&(_0x1880e5[_0x10de('0x1b4')][_0x10de('0x852')]={'value':_0x59c7a8}),_0x1880e5[_0x10de('0x1b4')][_0x10de('0x846')]={'value':_0x169d71[_0x10de('0x846')]||!0x1},_0x1880e5[_0x10de('0x1b4')][_0x10de('0x853')]={'value':_0x169d71[_0x10de('0x843')]||!0x1},_0x1880e5[_0x10de('0x1b4')][_0x10de('0x84d')]={'value':_0x169d71[_0x10de('0x844')][_0x10de('0x1e8')]},_0x1880e5[_0x10de('0x1b4')][_0x10de('0x850')]={'value':new THREE['Vector2'](_0x169d71['seaGroundConfigs']['fogNear'],_0x169d71['seaGroundConfigs'][_0x10de('0x84f')])},_0x1880e5[_0x10de('0x59')]=_0x1880e5[_0x10de('0x59')][_0x10de('0x57')](_0x10de('0x412'),_0x10de('0x854')),_0x1880e5[_0x10de('0x59')]=_0x1880e5[_0x10de('0x59')]['replace']('#include\x20<uv_vertex>',_0x10de('0x855')),_0x1880e5['fragmentShader']=_0x1880e5[_0x10de('0x5a')]['replace'](_0x10de('0x3c5'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x169d71[_0x10de('0x851')]?'#define\x20IS_USE_GROUND_TEX':'')+_0x10de('0x856')),_0x1880e5[_0x10de('0x5a')]=_0x1880e5[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x857')),_0x169d71[_0x10de('0x40d')]=_0x1880e5;},_0x1880e5;}},{'key':_0x10de('0x362'),'value':function(_0x1880e5){this['shader']&&(this['count']+=_0x1880e5*this['speed'],this[_0x10de('0x40d')]['uniforms'][_0x10de('0x410')][_0x10de('0x10')]=this['count']);}},{'key':_0x10de('0x838'),'set':function(_0x1880e5){this[_0x10de('0x40d')]&&(this['shader'][_0x10de('0x1b4')]['isShow'][_0x10de('0x10')]=_0x1880e5);},'get':function(){if(this[_0x10de('0x40d')])return this['shader'][_0x10de('0x1b4')]['isShow'][_0x10de('0x10')];}},{'key':'isShowWaterEffect','set':function(_0x1880e5){this[_0x10de('0x40d')]&&(this[_0x10de('0x40d')]['uniforms']['isShowSeaGround'][_0x10de('0x10')]=_0x1880e5);},'get':function(){if(this[_0x10de('0x40d')])return this[_0x10de('0x40d')]['uniforms'][_0x10de('0x853')][_0x10de('0x10')];}}]),_0x24a483[_0x10de('0x9')]=_0x5948d5;},function(_0x20822f,_0xa8af9a,_0x5c0511){'use strict';Object[_0x10de('0x2')](_0xa8af9a,_0x10de('0x5'),{'value':!0x0});var _0x4b6882=_0x103335(_0x5c0511(0x0));function _0x103335(_0x20822f){return _0x20822f&&_0x20822f[_0x10de('0x5')]?_0x20822f:{'default':_0x20822f};}function _0x45e964(){(0x0,_0x4b6882['default'])(this,_0x45e964),this[_0x10de('0x40d')]=null,this[_0x10de('0x40')]=null;}(0x0,_0x103335(_0x5c0511(0x1))[_0x10de('0x9')])(_0x45e964,[{'key':'createMaterial','value':function(_0x20822f,_0xa8af9a){var _0x5c0511=this;_0x20822f[_0x10de('0x40f')]=function(_0x20822f){_0x20822f[_0x10de('0x1b4')][_0x10de('0x838')]={'value':!0x1},_0x20822f[_0x10de('0x1b4')][_0x10de('0x410')]={'value':0x0},_0x20822f[_0x10de('0x1b4')]['hmExtent']={'value':new THREE[(_0x10de('0x1cb'))](_0xa8af9a['min']['x'],_0xa8af9a[_0x10de('0x108')]['x'],_0xa8af9a[_0x10de('0x8e')]['z'],_0xa8af9a['max']['z'])},_0x20822f[_0x10de('0x1b4')]['hmTex']={'value':null},_0x20822f[_0x10de('0x59')]=_0x20822f[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<uv_pars_vertex>',_0x10de('0x858')),_0x20822f[_0x10de('0x59')]=_0x20822f['vertexShader'][_0x10de('0x57')](_0x10de('0x414'),_0x10de('0x859')),_0x20822f['fragmentShader']=_0x20822f['fragmentShader'][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x5c6')+(_0x5c0511[_0x10de('0x851')]?_0x10de('0x85a'):'')+_0x10de('0x85b')),_0x20822f[_0x10de('0x5a')]=_0x20822f[_0x10de('0x5a')]['replace'](_0x10de('0x416'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20hmExtent.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20hmExtent.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20hmExtent.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20hmExtent.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(hmTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5c0511[_0x10de('0x40d')]=_0x20822f;},this[_0x10de('0x40')]=_0x20822f;}},{'key':'setHeatMapTexture','value':function(_0x20822f){this[_0x10de('0x40d')]&&((_0x20822f=_0x20822f[_0x10de('0x1c5')]())[_0x10de('0x65a')]=!0x1,_0x20822f['needsUpdate']=!0x0,this[_0x10de('0x40d')][_0x10de('0x1b4')]['hmTex'][_0x10de('0x10')]=_0x20822f);}},{'key':'createImgMaterial','value':function(_0x20822f,_0xa8af9a){var _0x5c0511=this,_0x4b6882=_0x20822f[_0x10de('0xcf')][_0x10de('0x1c5')]();return _0x4b6882[_0x10de('0x10c')]=!0x0,_0x20822f[_0x10de('0x1e4')]=!0x0,_0xa8af9a=_0xa8af9a&&_0xa8af9a[_0x10de('0x57')](/target/g,_0x10de('0x85c'))[_0x10de('0x57')](/(\d+)/g,function(_0x20822f){_0x20822f=Number(_0x20822f)/0xff;return(_0x20822f=0x1===(_0x20822f=0x0===_0x20822f?'0.0':_0x20822f)?_0x10de('0x85d'):_0x20822f)['toString']();}),_0x20822f[_0x10de('0x40f')]=function(_0x20822f){_0x20822f[_0x10de('0x1b4')][_0x10de('0x838')]={'value':!0x0},_0x20822f[_0x10de('0x1b4')][_0x10de('0x410')]={'value':0x0},_0x20822f[_0x10de('0x1b4')][_0x10de('0x85e')]={'value':_0x4b6882},_0x20822f[_0x10de('0x59')]=_0x20822f[_0x10de('0x59')]['replace'](_0x10de('0x412'),_0x10de('0x85f')),_0x20822f[_0x10de('0x59')]=_0x20822f['vertexShader'][_0x10de('0x57')](_0x10de('0x414'),_0x10de('0x860')),_0x20822f[_0x10de('0x5a')]=_0x20822f['fragmentShader']['replace'](_0x10de('0x3c5'),_0x10de('0x861')),_0x20822f[_0x10de('0x5a')]=_0x20822f['fragmentShader']['replace'](_0x10de('0x416'),_0x10de('0x862')+_0xa8af9a+_0x10de('0x863')),_0x5c0511['shader']=_0x20822f;},_0x20822f;}},{'key':_0x10de('0x838'),'set':function(_0x20822f){this[_0x10de('0x40d')]&&(this[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x838')][_0x10de('0x10')]=_0x20822f);}}]),_0xa8af9a[_0x10de('0x9')]=_0x45e964;},function(_0xf2ce97,_0x1a5f5c,_0x3c7096){'use strict';Object[_0x10de('0x2')](_0x1a5f5c,_0x10de('0x5'),{'value':!0x0});var _0x189a3e=_0x7fe8b0(_0x3c7096(0x0)),_0x1ae37a=_0x7fe8b0(_0x3c7096(0x1)),_0x4f1d37=_0x3c7096(0xb6),_0x14eac1=_0x3c7096(0xb5);function _0x7fe8b0(_0xf2ce97){return _0xf2ce97&&_0xf2ce97[_0x10de('0x5')]?_0xf2ce97:{'default':_0xf2ce97};}function _0x5630e7(){(0x0,_0x189a3e[_0x10de('0x9')])(this,_0x5630e7),this[_0x10de('0x841')]=_0x10de('0x4b8'),this['gradientLut']=new _0x4f1d37[(_0x10de('0x4bf'))](this['gradientType']),this['isSetTexture']=!0x1,this[_0x10de('0x40')]=null;}(0x0,_0x1ae37a['default'])(_0x5630e7,[{'key':_0x10de('0x864'),'value':function(_0xf2ce97){_0xf2ce97&&_0xf2ce97[_0x10de('0x8c')]&&_0xf2ce97[_0x10de('0x84a')]&&0x0<_0xf2ce97['colorArray'][_0x10de('0xe')]&&(this['gradientType']=_0xf2ce97[_0x10de('0x8c')],this[_0x10de('0x845')][_0x10de('0x84b')](this[_0x10de('0x841')],_0xf2ce97[_0x10de('0x84a')])),this[_0x10de('0x845')][_0x10de('0x4b6')](this[_0x10de('0x841')]);}},{'key':'createTexture','value':function(_0xf2ce97){for(var _0x1a5f5c=0x1<arguments['length']&&void 0x0!==arguments[0x1]?arguments[0x1]:-0x32,_0x3c7096=0x2<arguments['length']&&void 0x0!==arguments[0x2]?arguments[0x2]:0x32,_0x189a3e=arguments[0x3],_0x1ae37a=document[_0x10de('0x87')](_0x10de('0x472')),_0x4f1d37=(_0x1ae37a[_0x10de('0x35d')]=0x200,_0x1ae37a[_0x10de('0x32c')]=0x2,_0x1ae37a[_0x10de('0x473')]('2d')),_0x7fe8b0=(_0x189a3e||(this['gradientLut']=new _0x14eac1[(_0x10de('0x4b7'))](this[_0x10de('0x841')])),_0x4f1d37[_0x10de('0x67b')](0x0,0x0,_0x1ae37a['width'],0x0)),_0x5630e7=0x0,_0x355ff6=_0xf2ce97[_0x10de('0xe')];_0x5630e7<_0x355ff6;_0x5630e7++){var _0x38b11e,_0x4146ca=_0x5630e7/_0x355ff6,_0x126912=Math[_0x10de('0x1cd')](_0xf2ce97[_0x5630e7][_0x10de('0x10')]/((_0x3c7096-_0x1a5f5c)/0x2));_0x189a3e?(_0x38b11e=this[_0x10de('0x845')]['getColor'](_0x126912),_0x7fe8b0[_0x10de('0x403')](_0x4146ca,_0x10de('0x865')+0xff*_0x38b11e['x']+',\x20'+0xff*_0x38b11e['y']+',\x20'+0xff*_0x38b11e['z']+',\x20'+_0x38b11e['w']+')')):(_0x38b11e=this[_0x10de('0x845')][_0x10de('0x866')](_0x126912),_0x7fe8b0[_0x10de('0x403')](_0x4146ca,_0x10de('0x867')+0xff*_0x38b11e['r']+',\x20'+0xff*_0x38b11e['g']+',\x20'+0xff*_0x38b11e['b']+')'));}return _0x4f1d37[_0x10de('0x405')]=_0x7fe8b0,_0x4f1d37['fillRect'](0x0,0x0,_0x1ae37a[_0x10de('0x35d')],_0x1ae37a[_0x10de('0x32c')]),new THREE[(_0x10de('0x658'))](_0x1ae37a);}},{'key':_0x10de('0x868'),'value':function(_0xf2ce97){var _0x1a5f5c=this,_0x3c7096=_0xf2ce97[_0x10de('0xdc')],_0x189a3e=_0xf2ce97['time'],_0x189a3e=void 0x0===_0x189a3e?0x1:_0x189a3e,_0x1ae37a=_0xf2ce97[_0x10de('0x49b')];this[_0x10de('0x40d')]&&_0x3c7096&&(_0x3c7096[_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x3c7096[_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x3c7096[_0x10de('0x10c')]=!0x0,this[_0x10de('0x869')]?(this[_0x10de('0x40d')]['uniforms'][_0x10de('0x60f')][_0x10de('0x10')]=_0x3c7096,this[_0x10de('0x869')]=!0x1):(this[_0x10de('0x40d')]['uniforms'][_0x10de('0x411')][_0x10de('0x10')]=_0x3c7096,this[_0x10de('0x869')]=!0x0),new TWEEN[(_0x10de('0x316'))]({'x':this['isSetTexture']?0x1:0x0})['to']({'x':this[_0x10de('0x869')]?0x0:0x1},0x3e8*_0x189a3e)[_0x10de('0x361')](TWEEN['Easing'][_0x10de('0x45f')]['None'])['onUpdate'](function(_0xf2ce97){_0x1a5f5c[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x5e4')][_0x10de('0x10')]=_0xf2ce97['x'],_0x1ae37a&&(_0x1a5f5c[_0x10de('0x40d')]['uniforms']['rotateAngle'][_0x10de('0x10')]=THREE[_0x10de('0x18')][_0x10de('0x315')](_0x1ae37a));})[_0x10de('0x31b')]());}},{'key':_0x10de('0x32e'),'value':function(_0xf2ce97){var _0x1a5f5c=0x1<arguments['length']&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,_0x3c7096=this;_0xf2ce97[_0x10de('0x1e4')]=!0x0,_0xf2ce97[_0x10de('0x40f')]=function(_0xf2ce97){_0xf2ce97['uniforms'][_0x10de('0x838')]={'value':!0x1},_0xf2ce97[_0x10de('0x1b4')][_0x10de('0x410')]={'value':0x0},_0xf2ce97[_0x10de('0x1b4')][_0x10de('0x411')]={'value':null},_0xf2ce97[_0x10de('0x1b4')][_0x10de('0x60f')]={'value':null},_0xf2ce97[_0x10de('0x1b4')]['transFactor']={'value':0x0},_0xf2ce97[_0x10de('0x1b4')]['rotateAngle']={'value':THREE[_0x10de('0x18')][_0x10de('0x315')](_0x1a5f5c)},_0xf2ce97[_0x10de('0x59')]=_0xf2ce97['vertexShader'][_0x10de('0x57')](_0x10de('0x412'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rotateAngle;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xf2ce97[_0x10de('0x59')]=_0xf2ce97[_0x10de('0x59')]['replace']('#include\x20<uv_vertex>',_0x10de('0x86a')),_0xf2ce97[_0x10de('0x5a')]=_0xf2ce97['fragmentShader'][_0x10de('0x57')](_0x10de('0x3c5'),_0x10de('0x86b')),_0xf2ce97[_0x10de('0x5a')]=_0xf2ce97[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),_0x10de('0x86c')),_0x3c7096['shader']=_0xf2ce97;};}},{'key':'isShow','set':function(_0xf2ce97){this[_0x10de('0x40d')]&&(this[_0x10de('0x40d')][_0x10de('0x1b4')]['isShow'][_0x10de('0x10')]=_0xf2ce97);}}]),_0x1a5f5c[_0x10de('0x9')]=_0x5630e7;},function(_0x1f77f9,_0x235526,_0x30a3fa){'use strict';Object[_0x10de('0x2')](_0x235526,_0x10de('0x5'),{'value':!0x0}),_0x235526[_0x10de('0x4e6')]={'CylinderFloatMarker':{'texture':_0x10de('0x86d')},'CircleRotateYMarker':{'texture':'images/building/circular_04.png'},'PointsLine':{'texture':'images/points/particle1.png'},'Points':{'texture':_0x10de('0x86e')},'CircleRippleMarker':{'texture':_0x10de('0x86f')},'CylinderSpreadMarker':{'texture':_0x10de('0x870')},'NumberUpParticle':{'texture':_0x10de('0x871'),'alphaTexture':_0x10de('0x872')},'ExtentWallMarker':{'texture':_0x10de('0x873')},'FireSmokeMarker':{'innerTexture':_0x10de('0x874'),'outTexture':_0x10de('0x875')},'FireMarker':{'texture':_0x10de('0x876')},'SmokeMarker':{'texture':_0x10de('0x874')},'ExplosionMarker':{'smokeTex':'images/explosion/smokeparticle.png','explosionTex':_0x10de('0x877')},'WaterSpreadMarker':{'texture':_0x10de('0x878')},'FloatPointsMarker':{'texture':_0x10de('0x86e')},'UpLine':{'texture':_0x10de('0x879')},'MulripleMeshLine':{'texture':_0x10de('0x87a')}};},function(_0x1ff1ac,_0x33b0fa,_0x549fc9){'use strict';Object[_0x10de('0x2')](_0x33b0fa,_0x10de('0x5'),{'value':!0x0}),_0x33b0fa[_0x10de('0x9')]=function(_0x1ff1ac){for(var _0x33b0fa in _0x4bd992[_0x10de('0x27c')])if(_0x1ff1ac===_0x4bd992[_0x10de('0x27c')][_0x33b0fa])return esmap[_0x10de('0x39')][_0x10de('0x87b')](0x2)>=_0x4bd992['ESMarkerLevel'][_0x33b0fa]||_0x33b0fa;};var _0x4bd992=_0x549fc9(0x57);},function(_0x43930e,_0x1c60b1,_0x40a236){'use strict';Object[_0x10de('0x2')](_0x1c60b1,'__esModule',{'value':!0x0});var _0x578330,_0x5ac66a,_0x2ea907,_0x20ff88,_0x913827,_0x1e7207,_0x2eeb8c,_0x320b5a,_0x163dc7,_0x4e1837,_0x341442,_0x2c1cc6,_0x9cd543,_0x5218a0,_0x30726a,_0x121530,_0x24cc19,_0xe874e6,_0x248841=_0x4b7b96(_0x40a236(0x11)),_0x3444e1=_0x4b7b96(_0x40a236(0x4a)),_0x1d8b57=_0x4b7b96(_0x40a236(0x5)),_0xcc4261=_0x40a236(0x13),_0x336164=_0x40a236(0x73),_0x30aaf3=_0x40a236(0x57),_0x582c80=_0x4b7b96(_0x40a236(0x100)),_0xf5c168=_0x4b7b96(_0x40a236(0x11e)),_0x91e7ff=_0x4b7b96(_0x40a236(0x75)),_0xfbb837=_0x4b7b96(_0x40a236(0x11f)),_0xcc43a1=_0x4b7b96(_0x40a236(0x121)),_0x281587=_0x4b7b96(_0x40a236(0x122)),_0x2a9bb3=_0x4b7b96(_0x40a236(0x125)),_0x20e553=_0x4b7b96(_0x40a236(0x126)),_0x76ce77=_0x40a236(0x2a),_0x40a236=_0x40a236(0x83);function _0x4b7b96(_0x1c60b1){return _0x1c60b1&&_0x1c60b1[_0x10de('0x5')]?_0x1c60b1:{'default':_0x1c60b1};}function _0x6aeb64(){}function _0x313b7c(_0x1c60b1,_0x40a236){var _0x2eeb8c;!_0x1e7207||esmap[_0x10de('0x87c')]&&esmap[_0x10de('0x87c')][_0x10de('0x87d')]||(esmap[_0x10de('0x87c')]&&!esmap[_0x10de('0x87c')][_0x10de('0x87d')]?esmap['ESEffectTool']['options']['isShowShadow']&&_0x1c60b1&&_0x1c60b1[_0x10de('0x87e')]&&(_0x40a236&&_0x1c60b1['shadow'][_0x10de('0x23e')]||(_0x2eeb8c=_0x578330[_0x10de('0x46c')][_0x1c60b1[_0x10de('0x87e')]['setShadowLight']],_0x20ff88[_0x10de('0x87e')][_0x10de('0x87f')](_0x2eeb8c,_0x1c60b1[_0x10de('0x87e')],_0x9cd543))):esmap['ESEffectTool']['options']['isShowShadow']&&_0x1c60b1&&_0x1c60b1[_0x10de('0x87e')]&&(_0x40a236&&_0x1c60b1[_0x10de('0x87e')][_0x10de('0x23e')]||(_0x2eeb8c=_0x578330[_0x10de('0x46c')][_0x1c60b1[_0x10de('0x87e')][_0x10de('0x880')]],_0x20ff88[_0x10de('0x87e')][_0x10de('0x87f')](_0x2eeb8c,_0x1c60b1[_0x10de('0x87e')],_0x9cd543))));}function _0x353bb8(_0x1c60b1){_0x24cc19[_0x10de('0x881')]&&_0x24cc19['preload']&&_0x230cac(_0x1c60b1,_0x578330['id']);}function _0x208c0c(_0x1c60b1,_0x40a236){if(_0x2ea907[_0x10de('0x882')]&&_0xe874e6&&0x0<_0xe874e6[_0x10de('0x351')][_0x10de('0xe')]){var _0x2eeb8c=!0x0,_0x121530=!0x1,_0x582c80=void 0x0;try{for(var _0x9cd543,_0xf5c168=(0x0,_0x1d8b57[_0x10de('0x9')])(_0xe874e6[_0x10de('0x351')]);!(_0x2eeb8c=(_0x9cd543=_0xf5c168[_0x10de('0x88')]())['done']);_0x2eeb8c=!0x0){var _0x30726a=_0x9cd543['value'];if(_0x30726a[_0x10de('0x8c')]===_0x1c60b1){_0x30726a[_0x10de('0x883')]=!_0x40a236,_0x30726a[_0x10de('0x364')]=_0x40a236;break;}}}catch(_0x2c203d){_0x121530=!0x0,_0x582c80=_0x2c203d;}finally{try{!_0x2eeb8c&&_0xf5c168[_0x10de('0xdf')]&&_0xf5c168[_0x10de('0xdf')]();}finally{if(_0x121530)throw _0x582c80;}}}}function _0x230cac(_0x2eeb8c,_0x1c60b1){if(_0x1c60b1=_0x1c60b1||{},!_0x1e7207){if(_0x163dc7=new _0x91e7ff[(_0x10de('0x9'))](_0x578330,_0x578330[_0x10de('0x2fc')]),_0x578330[_0x10de('0x884')]||(_0x578330['cameraFlyTo']=function(_0x1c60b1){var _0x40a236=_0x578330[_0x10de('0x20')]({'x':_0x1c60b1['x'],'y':_0x1c60b1['y'],'z':_0x1c60b1['z'],'bid':_0x1c60b1[_0x10de('0x4d7')]||0x0});return _0x163dc7[_0x10de('0x310')]({'targetPos':_0x40a236,'radius':_0x1c60b1[_0x10de('0x230')],'pitchAngle':_0x1c60b1[_0x10de('0x301')],'directionAngle':_0x1c60b1[_0x10de('0x311')],'time':_0x1c60b1['time'],'callback':_0x1c60b1['callback']});}),_0x578330[_0x10de('0x885')]||(_0x578330['cameraFlyToHelper']=function(_0x1c60b1,_0x40a236){var _0x2eeb8c=_0x578330[_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x222')][_0x10de('0x305')](_0x578330[_0x10de('0x2fc')][_0x10de('0x304')]),_0x1c60b1=_0x1c60b1&&_0x40a236?_0x578330['getScreenCenter']({'bid':_0x1c60b1,'fnum':_0x40a236}):_0x578330[_0x10de('0x886')](_0x578330[_0x10de('0x2fc')][_0x10de('0x304')]);console[_0x10de('0xef')]((0x0,_0x3444e1[_0x10de('0x9')])({'direct':_0x578330[_0x10de('0x49b')],'pitch':_0x578330['tiltAngle'],'distance':_0x2eeb8c,'target':_0x1c60b1}));}),_0x4e1837||(_0x578330[_0x10de('0x887')]=function(){(_0x4e1837=_0x4e1837||new _0xfbb837[(_0x10de('0x9'))](_0x578330))['addControls']();},_0x578330[_0x10de('0x888')]=function(){_0x4e1837['removeControls']();}),_0x341442||(_0x578330[_0x10de('0x889')]=function(_0x1c60b1){(_0x341442=_0x341442||new _0xcc43a1[(_0x10de('0x9'))](_0x578330))[_0x10de('0x7a')](_0x1c60b1);}),_0x2eeb8c[_0x10de('0x88a')]){if(_0x5ac66a['envTexture']&&(_0x5ac66a[_0x10de('0x88b')][_0x10de('0x88c')]=!0x0,_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3[_0x10de('0x276')]['Lights'],'configs':_0x5ac66a[_0x10de('0x88b')]})),Array['isArray'](_0x5ac66a[_0x10de('0x88e')])){var _0x40a236=!0x0,_0x121530=!0x1,_0x582c80=void 0x0;try{for(var _0x9cd543,_0xf5c168=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x5ac66a[_0x10de('0x88e')]);!(_0x40a236=(_0x9cd543=_0xf5c168[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x40a236=!0x0){var _0x30726a=_0x9cd543[_0x10de('0x10')];(0x0,_0xcc4261['getOutdoorBuildingTheme'])(_0x30726a[_0x10de('0x5a3')],0x0)&&(_0x30726a[_0x10de('0x88f')]&&(_0x20ff88['buildings']['buildingScanConfigs']=_0x5ac66a['buildingScanLight']),_0x30726a[_0x10de('0x890')]&&(_0x30726a[_0x10de('0x890')]=(0x0,_0xcc4261[_0x10de('0x29')])(_0x30726a[_0x10de('0x890')])),_0x30726a[_0x10de('0x891')]&&(_0x30726a[_0x10de('0x891')]=(0x0,_0xcc4261['getConfigAssetsPath'])(_0x30726a['sideImg'])),_0x30726a['colorImg']&&(_0x30726a[_0x10de('0x892')]=(0x0,_0xcc4261[_0x10de('0x29')])(_0x30726a[_0x10de('0x892')])),_0x30726a[_0x10de('0x893')]&&_0x30726a[_0x10de('0x893')][_0x10de('0x58b')]&&(_0x30726a[_0x10de('0x893')]['gradientImg']=(0x0,_0xcc4261[_0x10de('0x29')])(_0x30726a[_0x10de('0x893')][_0x10de('0x58b')])),_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3[_0x10de('0x276')][_0x10de('0x894')],'configs':_0x30726a}));}}catch(_0x1e2ead){_0x121530=!0x0,_0x582c80=_0x1e2ead;}finally{try{!_0x40a236&&_0xf5c168[_0x10de('0xdf')]&&_0xf5c168[_0x10de('0xdf')]();}finally{if(_0x121530)throw _0x582c80;}}if(0x0<_0x20ff88[_0x10de('0x4c7')][_0x10de('0x895')]['length']){var _0x24cc19=!0x0,_0x121530=!0x1,_0x582c80=void 0x0;try{for(var _0x248841,_0x336164=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x20ff88[_0x10de('0x4c7')][_0x10de('0x895')]);!(_0x24cc19=(_0x248841=_0x336164[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x24cc19=!0x0){var _0x4b7b96=_0x248841[_0x10de('0x10')];_0x20ff88[_0x10de('0x4c7')][_0x10de('0x896')](_0x1c60b1,_0x4b7b96);}}catch(_0x6b4594){_0x121530=!0x0,_0x582c80=_0x6b4594;}finally{try{!_0x24cc19&&_0x336164[_0x10de('0xdf')]&&_0x336164[_0x10de('0xdf')]();}finally{if(_0x121530)throw _0x582c80;}}}}if(Array[_0x10de('0x1be')](_0x5ac66a['tileRoomEffect'])){var _0x6aeb64=!0x0,_0x121530=!0x1,_0x582c80=void 0x0;try{for(var _0x353bb8,_0xe874e6=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x5ac66a[_0x10de('0x897')]);!(_0x6aeb64=(_0x353bb8=_0xe874e6[_0x10de('0x88')]())['done']);_0x6aeb64=!0x0){var _0x208c0c=_0x353bb8[_0x10de('0x10')];_0x208c0c[_0x10de('0x88f')]&&(_0x20ff88[_0x10de('0x4c7')][_0x10de('0x898')]=_0x5ac66a[_0x10de('0x899')]),_0x208c0c[_0x10de('0x890')]&&(_0x208c0c[_0x10de('0x890')]=(0x0,_0xcc4261[_0x10de('0x29')])(_0x208c0c['topImg'])),_0x208c0c['sideImg']&&(_0x208c0c[_0x10de('0x891')]=(0x0,_0xcc4261[_0x10de('0x29')])(_0x208c0c[_0x10de('0x891')])),_0x208c0c['colorImg']&&(_0x208c0c['colorImg']=(0x0,_0xcc4261[_0x10de('0x29')])(_0x208c0c[_0x10de('0x892')])),_0x208c0c[_0x10de('0x893')]&&_0x208c0c['extentEffect']['gradientImg']&&(_0x208c0c[_0x10de('0x893')][_0x10de('0x58b')]=(0x0,_0xcc4261[_0x10de('0x29')])(_0x208c0c[_0x10de('0x893')]['gradientImg'])),_0x208c0c['emissiveImg']&&(_0x208c0c[_0x10de('0x89a')]=(0x0,_0xcc4261['getConfigAssetsPath'])(_0x208c0c[_0x10de('0x89a')])),_0x208c0c[_0x10de('0x89b')]&&_0x208c0c['screenSky'][_0x10de('0x89c')]&&(_0x208c0c[_0x10de('0x89b')]['skyImg']=(0x0,_0xcc4261[_0x10de('0x29')])(_0x208c0c[_0x10de('0x89b')][_0x10de('0x89c')])),_0x208c0c['isTileBuilding']=!0x0,_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3[_0x10de('0x276')][_0x10de('0x894')],'configs':_0x208c0c});}}catch(_0x3b3401){_0x121530=!0x0,_0x582c80=_0x3b3401;}finally{try{!_0x6aeb64&&_0xe874e6[_0x10de('0xdf')]&&_0xe874e6[_0x10de('0xdf')]();}finally{if(_0x121530)throw _0x582c80;}}}_0x5ac66a['floor']&&_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3['ESEffectsConstant'][_0x10de('0x89d')],'configs':_0x5ac66a['floor']}),_0x5ac66a[_0x10de('0x4c8')]&&_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3['ESEffectsConstant'][_0x10de('0x89d')],'configs':_0x5ac66a[_0x10de('0x4c8')]}),_0x5ac66a[_0x10de('0x89e')]&&(_0x5ac66a[_0x10de('0x89e')]['isPointLight']=!0x0,_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3['ESEffectsConstant'][_0x10de('0x89f')],'configs':_0x5ac66a[_0x10de('0x89e')]})),esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x8a0')]=!_0x578330['mapTheme'][_0x10de('0x8a1')],_0x5ac66a[_0x10de('0x8a2')]&&esmap[_0x10de('0x4f')][_0x10de('0x46')]['isUseEffectLights']&&(_0x5ac66a[_0x10de('0x8a2')]['isDirectLight']=!0x0,_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3[_0x10de('0x276')][_0x10de('0x89f')],'configs':_0x5ac66a[_0x10de('0x8a2')]})),_0x5ac66a['ambientLight']&&esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x8a0')]&&(_0x5ac66a[_0x10de('0x8a3')][_0x10de('0x8a4')]=!0x0,_0x20ff88['addEffect']({'type':_0x30aaf3[_0x10de('0x276')]['Lights'],'configs':_0x5ac66a[_0x10de('0x8a3')]}));}if(_0x2eeb8c[_0x10de('0x8a5')]&&_0x20ff88['addEffect']({'type':_0x30aaf3[_0x10de('0x276')][_0x10de('0xbf')],'configs':_0x5ac66a[_0x10de('0x4cc')]}),_0x2eeb8c[_0x10de('0x406')]&&0x0<=_0x5218a0&&Array[_0x10de('0x1be')](_0x5ac66a[_0x10de('0x6eb')])){var _0x230cac=!0x0,_0x121530=!0x1,_0x582c80=void 0x0;try{for(var _0x43930e,_0x281587=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x5ac66a['water']);!(_0x230cac=(_0x43930e=_0x281587['next']())[_0x10de('0x32b')]);_0x230cac=!0x0){var _0x2a9bb3=_0x43930e['value'];((0x0,_0xcc4261[_0x10de('0x2d')])(_0x2a9bb3[_0x10de('0x5a3')])||_0x2a9bb3['type'])&&_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3['ESEffectsConstant'][_0x10de('0x6ec')],'configs':_0x2a9bb3});}}catch(_0x27bb60){_0x121530=!0x0,_0x582c80=_0x27bb60;}finally{try{!_0x230cac&&_0x281587[_0x10de('0xdf')]&&_0x281587[_0x10de('0xdf')]();}finally{if(_0x121530)throw _0x582c80;}}}if(_0x2eeb8c[_0x10de('0x8a6')]&&0x0<=_0x5218a0&&Array['isArray'](_0x5ac66a[_0x10de('0x4c9')])){var _0x20e553=!0x0,_0x121530=!0x1,_0x582c80=void 0x0;try{for(var _0x76ce77,_0x3a1a49=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x5ac66a['ground']);!(_0x20e553=(_0x76ce77=_0x3a1a49[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x20e553=!0x0){var _0x3813c2=_0x76ce77[_0x10de('0x10')];(0x0,_0xcc4261[_0x10de('0x2d')])(_0x3813c2[_0x10de('0x5a3')],0x0)&&(_0x3813c2[_0x10de('0x8a7')]&&(_0x3813c2[_0x10de('0x8a7')]=(0x0,_0xcc4261[_0x10de('0x29')])(_0x3813c2[_0x10de('0x8a7')])),_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3[_0x10de('0x276')][_0x10de('0x8a8')],'configs':_0x3813c2})),_0x3813c2['floorNum']&&(_0x3813c2[_0x10de('0x8a7')]&&(_0x3813c2[_0x10de('0x8a7')]=(0x0,_0xcc4261[_0x10de('0x29')])(_0x3813c2['repeatImg'])),_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3[_0x10de('0x276')]['Ground'],'configs':_0x3813c2}));}}catch(_0xa8a87d){_0x121530=!0x0,_0x582c80=_0xa8a87d;}finally{try{!_0x20e553&&_0x3a1a49[_0x10de('0xdf')]&&_0x3a1a49[_0x10de('0xdf')]();}finally{if(_0x121530)throw _0x582c80;}}}_0x2eeb8c[_0x10de('0x8a9')]&&0x1<=_0x5218a0&&Array[_0x10de('0x1be')](_0x5ac66a[_0x10de('0x4ca')])&&(_0x20ff88[_0x10de('0x4ca')]['modelsConfigs']=_0x5ac66a['models']),_0x5ac66a[_0x10de('0x87e')]&&0x1<=_0x5218a0&&_0x20ff88[_0x10de('0x87e')]['preInit'](_0x5ac66a['shadow']),_0x5ac66a[_0x10de('0x1e7')]&&_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3[_0x10de('0x276')][_0x10de('0x8aa')],'configs':_0x5ac66a[_0x10de('0x1e7')]}),_0x2eeb8c[_0x10de('0x437')]&&_0x5ac66a[_0x10de('0x8ab')]&&0x1<=_0x5218a0&&(_0x121530=!0x1,(_0x582c80=esmap[_0x10de('0x39')][_0x10de('0x8ac')]())['isPC']&&(_0x121530=!0x0),!_0x582c80[_0x10de('0x8ad')]&&_0x582c80[_0x10de('0x8ae')]&&0x0<=[_0x10de('0x8af'),'iPad',_0x10de('0x8b0')][_0x10de('0x4d')](_0x582c80[_0x10de('0x8ae')])&&(_0x121530=!0x0),(_0x121530=!_0x582c80[_0x10de('0x8ad')]&&'Android'==_0x582c80[_0x10de('0x8ae')]||_0x121530)?(_0x578330[_0x10de('0x46')][_0x10de('0x8b1')]=!0x0,_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3[_0x10de('0x276')][_0x10de('0x8b2')],'configs':_0x5ac66a[_0x10de('0x8ab')]})):console[_0x10de('0xef')](_0x10de('0x8b3'))),_0x20ff88[_0x10de('0x4ca')][_0x10de('0x8b4')](_0x5ac66a),(_0x2ea907[_0x10de('0x8b5')]||_0x20ff88['postProcessing'][_0x10de('0x43e')])&&(_0x582c80=(0x0,_0xcc4261[_0x10de('0x31')])()?'tileUpdated':_0x10de('0x8b6'),_0x578330[_0x10de('0x8b7')](_0x582c80,function(_0x1c60b1){var _0x40a236;(_0x40a236=_0x2eeb8c)[_0x10de('0x8b8')]?_0x10de('0x8b9')===_0x40a236[_0x10de('0x8b8')]?(_0x20ff88[_0x10de('0x87e')]['enabled']&&(_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x43e')]=!0x0,_0x578330['mapView'][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x10c')]=!0x0),_0x20ff88[_0x10de('0x8bb')][_0x10de('0x43e')]&&_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')]['setScale'](0x2),_0x5d0fe1(),console[_0x10de('0xef')]('%c\x20effect\x20quality:\x20'+esmap['ESEffectTool'][_0x10de('0x46')]['effectQuality'],_0x10de('0x8bd'))):_0x10de('0x8be')===_0x40a236[_0x10de('0x8b8')]?(_0x20ff88[_0x10de('0x87e')]['enabled']&&(_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['enabled']=!0x0,_0x578330['mapView'][_0x10de('0x4ea')][_0x10de('0x8ba')]['needsUpdate']=!0x0),_0x20ff88[_0x10de('0x8bb')][_0x10de('0x43e')]&&_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')][_0x10de('0x7a0')](1.5),_0x5d0fe1(),console[_0x10de('0xef')](_0x10de('0x8bf')+esmap[_0x10de('0x4f')]['options'][_0x10de('0x8b8')],_0x10de('0x8bd'))):_0x10de('0x8c0')===_0x40a236[_0x10de('0x8b8')]&&(_0x20ff88[_0x10de('0x87e')]['enabled']&&(_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x43e')]=!0x1,_0x578330[_0x10de('0x46c')]['renderer'][_0x10de('0x8ba')][_0x10de('0x10c')]=!0x0),_0x20ff88['postProcessing'][_0x10de('0x43e')]&&_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')][_0x10de('0x7a0')](0x1),console[_0x10de('0xef')]('%c\x20effect\x20quality:\x20'+esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x8b8')],_0x10de('0x8bd'))):(_0x5d0fe1(),_0x2c1cc6[_0x10de('0x8c1')](0xf)[_0x10de('0x385')](function(){_0x2c1cc6[_0x10de('0x8c1')](0x3c,!0x0);}),_0x2c1cc6[_0x10de('0x2d6')](_0x10de('0x8c2'),function(_0x1c60b1){_0x1c60b1[_0x10de('0x2dd')]&&(_0x1c60b1[_0x10de('0x2dd')]<=0xa?(_0x20ff88[_0x10de('0x87e')][_0x10de('0x43e')]&&(_0x578330[_0x10de('0x46c')]['renderer'][_0x10de('0x8ba')][_0x10de('0x43e')]=!0x1,_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x10c')]=!0x0,Math[_0x10de('0x7d')](_0x1c60b1[_0x10de('0x2dd')])),_0x20ff88[_0x10de('0x8bb')][_0x10de('0x43e')]&&(_0x578330[_0x10de('0x46')][_0x10de('0x8b1')]=!0x1,Math[_0x10de('0x7d')](_0x1c60b1[_0x10de('0x2dd')])),esmap[_0x10de('0x4f')]['options'][_0x10de('0x8b8')]=_0x10de('0x79')):0xa<_0x1c60b1[_0x10de('0x2dd')]&&_0x1c60b1['fps']<=0x1e?(_0x20ff88['shadow'][_0x10de('0x43e')]&&!_0x20ff88[_0x10de('0x87e')][_0x10de('0x8c3')]&&(_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x43e')]=!0x0,_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')]['shadowMap'][_0x10de('0x10c')]=!0x0),_0x20ff88['postProcessing'][_0x10de('0x43e')]&&(_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')][_0x10de('0x7a0')](0x1),Math[_0x10de('0x7d')](_0x1c60b1['fps'])),esmap[_0x10de('0x4f')]['options'][_0x10de('0x8b8')]=_0x10de('0x8c0')):0x1e<_0x1c60b1[_0x10de('0x2dd')]&&_0x1c60b1['fps']<=0x28?(_0x20ff88[_0x10de('0x87e')][_0x10de('0x43e')]&&!_0x20ff88['shadow'][_0x10de('0x8c3')]&&(_0x578330['mapView'][_0x10de('0x4ea')][_0x10de('0x8ba')]['enabled']=!0x0,_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x10c')]=!0x0),_0x20ff88['postProcessing'][_0x10de('0x43e')]&&(_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')][_0x10de('0x7a0')](1.5),Math[_0x10de('0x7d')](_0x1c60b1[_0x10de('0x2dd')])),esmap['ESEffectTool'][_0x10de('0x46')]['effectQuality']='medium'):0x28<_0x1c60b1[_0x10de('0x2dd')]&&(_0x20ff88[_0x10de('0x87e')][_0x10de('0x43e')]&&!_0x20ff88[_0x10de('0x87e')][_0x10de('0x8c3')]&&(_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['enabled']=!0x0,_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')]['shadowMap'][_0x10de('0x10c')]=!0x0),_0x20ff88[_0x10de('0x8bb')]['enabled']&&(_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')][_0x10de('0x7a0')](0x2),Math[_0x10de('0x7d')](_0x1c60b1[_0x10de('0x2dd')])),esmap['ESEffectTool'][_0x10de('0x46')][_0x10de('0x8b8')]=_0x10de('0x8b9')),_0x320b5a||console[_0x10de('0xef')](_0x10de('0x8bf')+esmap['ESEffectTool'][_0x10de('0x46')][_0x10de('0x8b8')],_0x10de('0x8bd'))),_0x320b5a=!0x0;})),_0x313b7c(_0x5ac66a);})),_0x20ff88[_0x10de('0x8c4')]=!0x0,_0x913827[_0x10de('0x8c4')]=!0x0,esmap[_0x10de('0x4f')][_0x10de('0x54')]&&(esmap[_0x10de('0x8c5')]=_0x20ff88),esmap[_0x10de('0x24')][_0x10de('0x8c6')]?_0x578330[_0x10de('0x8b7')]('loadComplete',function(){_0x1e7207=!0x0,esmap['ESEffectTool'][_0x10de('0x4d6')]=!0x0,_0x578330[_0x10de('0x289')]&&_0x578330[_0x10de('0x289')]('effectsInitComplete'),_0x578330[_0x10de('0x46c')][_0x10de('0x8c7')]();}):(_0x1e7207=!0x0,esmap[_0x10de('0x4f')][_0x10de('0x4d6')]=!0x0,_0x578330[_0x10de('0x289')]&&_0x578330['fire'](_0x10de('0x8c8')),_0x578330[_0x10de('0x46c')][_0x10de('0x8c7')]());}}function _0x5d0fe1(){var _0x1c60b1;esmap[_0x10de('0x87c')]&&esmap[_0x10de('0x87c')][_0x10de('0x87d')]||_0x2ea907['isShowShadow']&&_0x5ac66a['shadow']&&0x1<=_0x5218a0&&(_0x1c60b1=!0x1,(_0x1c60b1=!!esmap[_0x10de('0x39')][_0x10de('0x8ac')]()[_0x10de('0x8c9')]||_0x1c60b1)&&_0x20ff88[_0x10de('0x88d')]({'type':_0x30aaf3['ESEffectsConstant']['Shadow'],'configs':_0x5ac66a[_0x10de('0x87e')]}));}_0x578330=(0x0,_0xcc4261[_0x10de('0x3b')])(),_0x2ea907=_0x5ac66a=null,_0x20ff88=new _0x582c80[(_0x10de('0x9'))](),_0x913827=new _0xf5c168[(_0x10de('0x9'))](),_0x320b5a=_0x2eeb8c=_0x1e7207=!0x1,_0x341442=_0x4e1837=_0x163dc7=null,_0x2c1cc6=new _0x281587[(_0x10de('0x9'))](),_0x9cd543=new THREE['Vector3'](),_0x30726a=null,_0x24cc19={'json':_0x121530=!(_0x5218a0=0x9),'preload':!0x1},esmap['ESJsonFileLoader']=_0x336164[_0x10de('0x2f3')],esmap[_0x10de('0x8ca')]=THREE[_0x10de('0x2f5')],esmap[_0x10de('0x8cb')]=_0x76ce77[_0x10de('0x82')],esmap[_0x10de('0x8cc')]=_0x40a236['getSegementPoints'],_0xe874e6=null,_0x6aeb64[_0x10de('0x4c6')]=function(){var _0xf5c168,_0x121530=0x0<arguments[_0x10de('0xe')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{},_0x582c80=JSON[_0x10de('0x2f4')]((0x0,_0x3444e1[_0x10de('0x9')])(_0x121530)),_0x1c60b1=(_0x121530=(0x0,_0x248841['default'])({'loadRoads':!0x1,'isUseEffectLights':!0x0,'isSetRoomEffect':!0x0,'isShowSkybox':!0x0,'isShowGround':!0x1,'isShowShadow':!0x1,'isSetModelEffect':!0x0,'isOpenScreenEffect':!0x1,'isCloseFpsDetection':!0x1,'isTileRouteShine':!0x1,'isChangeTileRoute':!0x1,'minFpsLimit':0x14,'roadsDataSrc':null,'effectQuality':null,'isShowBuildingTip':!0x0},_0x121530),_0x20ff88[_0x10de('0x4c6')](),(_0x2ea907=_0x121530)[_0x10de('0x55')]+'/'+_0x121530['effectThemeId']+'/');esmap[_0x10de('0x4f')][_0x10de('0x51')]=_0x1c60b1,esmap[_0x10de('0x4f')][_0x10de('0x8cd')]=null,esmap[_0x10de('0x4f')][_0x10de('0x46')]=_0x121530,(0x0,_0xcc4261['checkIsCityEngine'])()||(esmap[_0x10de('0x4f')]['configUserPath']=null),_0x578330=(0x0,_0xcc4261['getMapInstance'])(),_0x121530[_0x10de('0x8a9')],_0x121530['loadRoads']&&(_0xf5c168=!0x0,esmap[_0x10de('0x4f')][_0x10de('0x8ce')]||Object[_0x10de('0x2')](esmap[_0x10de('0x4f')],_0x10de('0x8ce'),{'get':function(){return _0xf5c168;},'set':function(_0x1c60b1){if(0x0<_0x20ff88['routes'][_0x10de('0x8cf')]['length']){var _0x40a236=!0x0,_0x2eeb8c=!0x1,_0x121530=void 0x0;try{for(var _0x582c80,_0x9cd543=(0x0,_0x1d8b57['default'])(_0x20ff88['routes'][_0x10de('0x8cf')]);!(_0x40a236=(_0x582c80=_0x9cd543['next']())['done']);_0x40a236=!0x0)_0x582c80[_0x10de('0x10')][_0x10de('0x368')][_0x10de('0x364')]=_0x1c60b1;}catch(_0x3ecaa3){_0x2eeb8c=!0x0,_0x121530=_0x3ecaa3;}finally{try{!_0x40a236&&_0x9cd543[_0x10de('0xdf')]&&_0x9cd543[_0x10de('0xdf')]();}finally{if(_0x2eeb8c)throw _0x121530;}}}_0xf5c168=_0x1c60b1;}})),esmap[_0x10de('0x4f')]&&(esmap[_0x10de('0x4f')]['isExecuteInit']=!0x0),_0x578330['on'](_0x10de('0x8d0'),function(_0x1c60b1){}),_0x578330['on'](_0x10de('0x8d1'),function(_0x1c60b1){if(0x0<_0x20ff88[_0x10de('0x4c7')][_0x10de('0x8d2')]['length']&&_0x2ea907[_0x10de('0x88a')]){var _0x40a236=!0x0,_0x2eeb8c=!0x1,_0x121530=void 0x0;try{for(var _0x582c80,_0x9cd543=(0x0,_0x1d8b57['default'])(_0x20ff88[_0x10de('0x4c7')][_0x10de('0x8d2')]);!(_0x40a236=(_0x582c80=_0x9cd543['next']())['done']);_0x40a236=!0x0){var _0xf5c168=_0x582c80['value'];_0xf5c168[_0x10de('0x602')]||(_0x20ff88[_0x10de('0x4c7')][_0x10de('0x8d3')](_0xf5c168),_0xf5c168[_0x10de('0x602')]=!0x0);}}catch(_0x59f52e){_0x2eeb8c=!0x0,_0x121530=_0x59f52e;}finally{try{!_0x40a236&&_0x9cd543[_0x10de('0xdf')]&&_0x9cd543['return']();}finally{if(_0x2eeb8c)throw _0x121530;}}}_0x2ea907[_0x10de('0x406')]&&_0x20ff88['water'][_0x10de('0x8d4')](_0x5ac66a);}),_0x578330['on'](_0x10de('0x8d5'),function(_0x1c60b1){if(0x0<_0x20ff88['buildings']['tileBuilidngThemes']['length']&&_0x2ea907[_0x10de('0x88a')]){var _0x40a236=!0x0,_0x2eeb8c=!0x1,_0x121530=void 0x0;try{for(var _0x582c80,_0x9cd543=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x20ff88[_0x10de('0x4c7')]['tileBuilidngThemes']);!(_0x40a236=(_0x582c80=_0x9cd543[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x40a236=!0x0){var _0xf5c168=_0x582c80['value'];_0x20ff88[_0x10de('0x4c7')][_0x10de('0x8d6')](_0x1c60b1['id'],_0xf5c168);}}catch(_0x381659){_0x2eeb8c=!0x0,_0x121530=_0x381659;}finally{try{!_0x40a236&&_0x9cd543[_0x10de('0xdf')]&&_0x9cd543['return']();}finally{if(_0x2eeb8c)throw _0x121530;}}}}),_0x578330['on']('navLoaded',function(_0x1c60b1){}),_0x578330['on'](_0x10de('0x8d7'),function(_0x1c60b1){}),_0x578330['on'](_0x10de('0x8d8'),function(_0x1c60b1){var _0x40a236,_0x2eeb8c=_0x1c60b1[_0x10de('0x2ca')]['Effect']||{};for(_0x40a236 in _0x2eeb8c=function(_0x1c60b1){if(null==_0x1c60b1)throw new TypeError(_0x10de('0x8d9'));for(var _0x2eeb8c=Object(_0x1c60b1),_0x40a236=arguments['length'],_0x121530=Array(0x1<_0x40a236?_0x40a236-0x1:0x0),_0x582c80=0x1;_0x582c80<_0x40a236;_0x582c80++)_0x121530[_0x582c80-0x1]=arguments[_0x582c80];return _0x121530[_0x10de('0x2c9')](function(_0x1c60b1){if(null!=_0x1c60b1)for(var _0x40a236 in _0x1c60b1)Object['prototype'][_0x10de('0xb')]['call'](_0x1c60b1,_0x40a236)&&!0x1!==_0x1c60b1[_0x40a236]&&(_0x2eeb8c[_0x40a236]=_0x1c60b1[_0x40a236]);}),_0x2eeb8c;}(_0x121530,_0x2eeb8c))void 0x0!==_0x582c80[_0x40a236]&&_0x582c80[_0x40a236]!==_0x2eeb8c[_0x40a236]&&(_0x2eeb8c[_0x40a236]=_0x582c80[_0x40a236]);if(_0x1c60b1[_0x10de('0x2ca')][_0x10de('0x4a')]&&_0x1c60b1['data'][_0x10de('0x4a')][_0x10de('0x44')]&&(_0x578330[_0x10de('0x43')]=_0x1c60b1['data'][_0x10de('0x4a')]['effectThemeId']),esmap['ESEffectTool'][_0x10de('0x46')]=_0x2eeb8c,_0x121530[_0x10de('0x55')]&&_0x121530[_0x10de('0x44')]||!(0x0,_0xcc4261[_0x10de('0x31')])()){if(!_0x2eeb8c['effectThemeSrc']||!_0x2eeb8c[_0x10de('0x44')]){_0x1c60b1=(0x0,_0xcc4261['selectBuildingMapEffectConfigPath'])(_0x578330,_0x1c60b1[_0x10de('0x2ca')]);if(!_0x1c60b1)return console[_0x10de('0xef')](_0x10de('0x8da'),'color:#f4c583'),void(_0x578330['fire']&&_0x578330['fire'](_0x10de('0x8db')));esmap[_0x10de('0x4f')][_0x10de('0x51')]=_0x1c60b1;}}else _0x30726a=(0x0,_0xcc4261['selectCityMapEffectConfigPath'])(_0x578330,_0x121530),esmap['ESEffectTool']['configPath']=(0x0,_0xcc4261[_0x10de('0x2b')])(_0x578330,_0x121530,!0x0),esmap[_0x10de('0x4f')][_0x10de('0x50')]=_0x30726a,_0x121530[_0x10de('0x8dc')]&&_0x121530[_0x10de('0x8dc')][_0x10de('0x8dd')]&&_0x121530[_0x10de('0x8dc')][_0x10de('0x8de')]&&(esmap['ESEffectTool'][_0x10de('0x51')]=_0x121530[_0x10de('0x8dc')]['localEffectSrc']+'/'+_0x121530[_0x10de('0x8dc')][_0x10de('0x8de')]+'/');_0x1c60b1=_0x30726a||esmap[_0x10de('0x4f')][_0x10de('0x51')];try{(0x0,_0x336164['requestEffectThemeConfig'])(_0x1c60b1)[_0x10de('0x385')](function(_0x1c60b1){_0x5ac66a=_0x1c60b1,_0x24cc19[_0x10de('0x881')]=!0x0,_0x353bb8(esmap['ESEffectTool'][_0x10de('0x46')]);});}catch(_0x50364d){console[_0x10de('0xef')](_0x10de('0x8df'),_0x10de('0x8e0')),console[_0x10de('0xef')](_0x50364d);}}),_0x578330['on'](_0x10de('0x8e1'),function(){}),_0x578330['on'](_0x10de('0x8e2'),function(_0x1c60b1){(0x0,_0x2a9bb3['default'])(),(0x0,_0x20e553[_0x10de('0x9')])(),_0x24cc19[_0x10de('0x8e3')]=!0x0,_0x353bb8(esmap[_0x10de('0x4f')][_0x10de('0x46')]);}),_0x578330['on'](_0x10de('0x8e4'),function(_0x1c60b1){}),_0x578330[_0x10de('0x2fc')][_0x10de('0x2d6')](_0x10de('0x8e5'),function(){_0x578330[_0x10de('0x8e6')]===esmap['ESViewMode']['MODE_2D']&&_0x10de('0x8c0')==_0x578330[_0x10de('0x46')][_0x10de('0x8e7')]&&(_0x578330[_0x10de('0x46c')][_0x10de('0x338')]['rotation']['copy'](_0x578330[_0x10de('0x2fc')]['object'][_0x10de('0x1fd')]),_0x578330[_0x10de('0x46c')][_0x10de('0x338')][_0x10de('0x222')][_0x10de('0x1d3')](_0x578330[_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x222')]),_0x578330[_0x10de('0x46c')][_0x10de('0x338')][_0x10de('0x7c2')]());}),_0x578330['on'](_0x10de('0x8e8'),function(_0x1c60b1){0x0<=_0x1c60b1[_0x10de('0x8c')][_0x10de('0x4d')](_0x10de('0x8e9'))&&_0x10de('0x8c0')==_0x578330[_0x10de('0x46')][_0x10de('0x8e7')]&&((0x0,_0xcc4261[_0x10de('0x31')])()?_0x20ff88[_0x10de('0x4ca')][_0x10de('0x8ea')](_0x1c60b1,_0x578330[_0x10de('0x52')]['singleMesheDatas'][_0x1c60b1['name']],_0x20ff88[_0x10de('0x87e')]):_0x20ff88[_0x10de('0x4ca')][_0x10de('0x8eb')](_0x1c60b1,_0x578330[_0x10de('0x52')][_0x10de('0x8ec')][_0x1c60b1[_0x10de('0x8c')]],_0x20ff88['shadow']));}),_0x578330['on'](_0x10de('0x8ed'),function(_0x1c60b1){_0x578330['tileService'][_0x10de('0x8ee')][_0x1c60b1]&&_0x578330['tileService'][_0x10de('0x8ee')][_0x1c60b1][_0x10de('0x8ef')]&&!_0x578330[_0x10de('0x46')][_0x10de('0x8f0')]&&_0x578330['options'][_0x10de('0x8f1')]&&_0x20ff88[_0x10de('0x4cb')][_0x10de('0x8f2')](_0x578330[_0x10de('0x8f3')]['navData'][_0x1c60b1]['Lines'],_0x1c60b1,_0x2ea907['isTileRouteShine'],_0x2ea907[_0x10de('0x8f4')]);}),_0x578330['on']('modelLoadComplete',function(_0x1c60b1){if(_0x5ac66a){var _0x40a236=_0x578330[_0x10de('0x46c')]['webgl2'];if(_0x40a236&&_0x2ea907[_0x10de('0x8b5')]&&_0x1c60b1['o3d_']&&_0x5ac66a['shadow']&&_0x20ff88[_0x10de('0x87e')]['setModelShadow'](_0x1c60b1,_0x5ac66a[_0x10de('0x87e')]),_0x2ea907[_0x10de('0x8a9')]&&0x1<=_0x5218a0&&_0x40a236){if(_0x5ac66a[_0x10de('0x4ca')]&&Array[_0x10de('0x1be')](_0x5ac66a[_0x10de('0x4ca')])){_0x20ff88[_0x10de('0x4cc')]['textureCube']&&(_0x20ff88[_0x10de('0x4ca')]['defaultCubeTexture']=_0x20ff88[_0x10de('0x4cc')]['textureCube']);var _0x2eeb8c=!0x0,_0x40a236=!0x1,_0x121530=void 0x0;try{for(var _0x582c80,_0x9cd543=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x5ac66a[_0x10de('0x4ca')]);!(_0x2eeb8c=(_0x582c80=_0x9cd543[_0x10de('0x88')]())['done']);_0x2eeb8c=!0x0)_0x582c80[_0x10de('0x10')][_0x10de('0x8c')]==_0x1c60b1[_0x10de('0x8f5')]&&_0x20ff88[_0x10de('0x4ca')][_0x10de('0x8f6')](_0x1c60b1[_0x10de('0x8f5')],!_0x578330[_0x10de('0x46')][_0x10de('0x8f7')]&&_0x1c60b1['child']||_0x1c60b1[_0x10de('0x4d4')],_0x578330['options'][_0x10de('0x8f7')],_0x5ac66a);}catch(_0x4f8f3a){_0x40a236=!0x0,_0x121530=_0x4f8f3a;}finally{try{!_0x2eeb8c&&_0x9cd543[_0x10de('0xdf')]&&_0x9cd543[_0x10de('0xdf')]();}finally{if(_0x40a236)throw _0x121530;}}}_0x5ac66a['modelEffects']&&Array[_0x10de('0x1be')](_0x5ac66a[_0x10de('0x8f8')])&&_0x20ff88[_0x10de('0x4ca')][_0x10de('0x8f9')](!_0x578330[_0x10de('0x46')][_0x10de('0x8f7')]&&_0x1c60b1[_0x10de('0x8fa')]||_0x1c60b1['o3d_'],_0x578330[_0x10de('0x46')]['mergeModel3D'],_0x5ac66a),_0x578330[_0x10de('0x52')]['modelStore']&&_0x578330['mapService'][_0x10de('0x8fb')][_0x1c60b1[_0x10de('0x8f5')]]['ms']&&_0x578330[_0x10de('0x52')][_0x10de('0x8fb')][_0x1c60b1[_0x10de('0x8f5')]]['ms'][_0x10de('0x1f6')]&&_0x578330[_0x10de('0x52')][_0x10de('0x8fb')][_0x1c60b1[_0x10de('0x8f5')]]['ms'][_0x10de('0x40')]&&_0x20ff88[_0x10de('0x4ca')][_0x10de('0x8fc')](_0x1c60b1['o3d_'],_0x578330[_0x10de('0x46')][_0x10de('0x8f7')],_0x578330[_0x10de('0x52')]['modelStore'][_0x1c60b1[_0x10de('0x8f5')]]['ms']);}if((0x0,_0xcc4261[_0x10de('0x31')])()){var _0x40a236=null,_0xf5c168=null;if(_0x578330[_0x10de('0x46')]['mergeModel3D']?_0x1c60b1[_0x10de('0x593')]&&0x0<_0x1c60b1[_0x10de('0x593')][_0x10de('0xe')]&&(_0xf5c168=(_0x40a236=_0x1c60b1)[_0x10de('0x593')][0x0][_0x10de('0x8fd')]):_0xf5c168=(_0x40a236=_0x1c60b1)[_0x10de('0x8fd')],_0xf5c168&&_0x2ea907[_0x10de('0x882')]){_0xe874e6||(_0xe874e6=new esmap['ESEffectTool']['EffectLayer']('_building_cube_float',esmap[_0x10de('0x4c5')][_0x10de('0x4c3')]),esmap[_0x10de('0x4f')][_0x10de('0x8fe')](_0xe874e6),_0xe874e6['mapIds']=[]);_0x121530=_0x578330[_0x10de('0x8f3')][_0x10de('0x8ff')][_0xf5c168];if(_0x121530){var _0x30726a,_0x24cc19=!0x0,_0x248841=!0x0,_0x336164=!0x1,_0x4b7b96=void 0x0;try{for(var _0x6aeb64,_0x353bb8=(0x0,_0x1d8b57['default'])(_0xe874e6[_0x10de('0x900')]);!(_0x248841=(_0x6aeb64=_0x353bb8[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x248841=!0x0)if(_0x6aeb64['value']===_0xf5c168){_0x24cc19=!0x1;break;}}catch(_0x3968be){_0x336164=!0x0,_0x4b7b96=_0x3968be;}finally{try{!_0x248841&&_0x353bb8[_0x10de('0xdf')]&&_0x353bb8[_0x10de('0xdf')]();}finally{if(_0x336164)throw _0x4b7b96;}}_0x24cc19&&(_0x336164=_0x40a236[_0x10de('0x4d4')][_0x10de('0x41')][_0x10de('0x901')][_0x10de('0x902')]['max']['y']-_0x40a236['o3d_']['userData'][_0x10de('0x901')][_0x10de('0x902')][_0x10de('0x8e')]['y'],_0x4b7b96=Math[_0x10de('0x1cd')](_0x40a236['o3d_'][_0x10de('0x41')][_0x10de('0x901')]['box3']['max']['x']-_0x40a236['o3d_']['userData']['modelinfo'][_0x10de('0x902')][_0x10de('0x8e')]['x']),_0x30726a=Math[_0x10de('0x1cd')](_0x40a236['o3d_'][_0x10de('0x41')]['modelinfo'][_0x10de('0x902')]['max']['z']-_0x40a236['o3d_']['userData'][_0x10de('0x901')][_0x10de('0x902')][_0x10de('0x8e')]['z']),_0x4b7b96=0.05*Math[_0x10de('0x1d0')](_0x4b7b96*_0x4b7b96+_0x30726a*_0x30726a),(_0x30726a=new esmap[(_0x10de('0x4f'))][(_0x10de('0x903'))](esmap[_0x10de('0x27c')][_0x10de('0x904')],{'x':_0x121530['x'],'y':_0x121530['y'],'height':_0x336164+0x4*_0x4b7b96,'radius':Math[_0x10de('0x8e')](0xa,_0x4b7b96),'showLevel':12.5}))[_0x10de('0x8c')]=_0xf5c168,_0x30726a['tileId']=_0x40a236[_0x10de('0x4d7')],_0x30726a['o3d_'][_0x10de('0x8c')]=_0x10de('0x7d1'),_0x30726a['o3d_']['datas_']={'buildingId':_0xf5c168,'isOpen':!0x1},_0x578330['mapPicker']['addObject'](_0x30726a[_0x10de('0x4d4')]),_0xe874e6[_0x10de('0x905')](_0x30726a),_0xe874e6[_0x10de('0x900')][_0x10de('0x84')](_0xf5c168));}}_0x20ff88[_0x10de('0x4ca')]['envTextureCube']&&!_0x20ff88[_0x10de('0x4ca')][_0x10de('0x906')][_0x10de('0x907')]&&(_0x20ff88[_0x10de('0x4c7')][_0x10de('0x908')](_0x20ff88['models'][_0x10de('0x906')]),_0x20ff88['models'][_0x10de('0x906')]['isSetTileBuilding']=!0x0);}}}),_0x578330['on'](_0x10de('0x909'),function(){_0xe874e6&&(_0xe874e6[_0x10de('0x364')]=!0x1);}),_0x578330['on'](_0x10de('0x90a'),function(){_0xe874e6&&(_0xe874e6['visible']=!0x0);}),_0x578330['on'](_0x10de('0x90b'),function(){0x0<_0x20ff88[_0x10de('0x4c7')][_0x10de('0x8d2')][_0x10de('0xe')]&&_0x2ea907[_0x10de('0x88a')]&&!_0x2eeb8c&&(setTimeout(function(){var _0x1c60b1=!0x0,_0x40a236=!0x1,_0x2eeb8c=void 0x0;try{for(var _0x121530,_0x582c80=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x20ff88[_0x10de('0x4c7')][_0x10de('0x8d2')]);!(_0x1c60b1=(_0x121530=_0x582c80[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x1c60b1=!0x0)_0x121530[_0x10de('0x10')][_0x10de('0x40')][_0x10de('0x10c')]=!0x0;}catch(_0x511173){_0x40a236=!0x0,_0x2eeb8c=_0x511173;}finally{try{!_0x1c60b1&&_0x582c80[_0x10de('0xdf')]&&_0x582c80['return']();}finally{if(_0x40a236)throw _0x2eeb8c;}}},0x1770),_0x2eeb8c=!0x0);}),_0x578330['on'](_0x10de('0x90c'),function(_0x1c60b1){_0x208c0c(_0x1c60b1['id'],!0x1),_0x2ea907[_0x10de('0x8b5')]&&_0x1c60b1[_0x10de('0x4d4')]&&_0x5ac66a&&_0x5ac66a[_0x10de('0x87e')]&&(_0x20ff88[_0x10de('0x87e')][_0x10de('0x90d')](_0x1c60b1,!0x1),esmap['ESEffectTool'][_0x10de('0x4ca')]['showShadow']());}),_0x578330['on']('closeBuilding',function(_0x1c60b1){_0x208c0c(_0x1c60b1['bid'],!0x0),_0x2ea907[_0x10de('0x8b5')]&&_0x5ac66a['shadow']&&setTimeout(function(){esmap[_0x10de('0x4f')][_0x10de('0x4ca')][_0x10de('0x90e')]();},0x1f4);}),_0x578330['on'](_0x10de('0x8b6'),function(_0x1c60b1){var _0x1c60b1=_0x1c60b1[_0x10de('0x4d7')],_0x40a236=(0x0,_0xcc4261[_0x10de('0x2e')])(_0x1c60b1)[_0x10de('0x4d5')](0x1)['getLayersByTypes'](esmap[_0x10de('0x4c2')][_0x10de('0x90f')]);if(_0x40a236&&_0x40a236[0x0])for(var _0x2eeb8c=0x0;_0x2eeb8c<_0x40a236[0x0]['o3d_'][_0x10de('0x351')]['length'];_0x2eeb8c++)for(var _0x121530=_0x40a236[0x0][_0x10de('0x4d4')][_0x10de('0x351')][_0x2eeb8c],_0x582c80=0x0;_0x582c80<_0x121530[_0x10de('0x40')][_0x10de('0xe')];_0x582c80++){var _0x9cd543=_0x121530['material'][_0x582c80];_0x9cd543&&_0x9cd543[_0x10de('0x41')][_0x10de('0x910')]&&_0x10de('0x911')==_0x9cd543[_0x10de('0x41')][_0x10de('0x910')]['name']&&(_0x9cd543[_0x10de('0x364')]=!0x1,_0x9cd543[_0x10de('0xce')]());}}),_0x578330['on'](_0x10de('0x53a'),function(_0x1c60b1){esmap[_0x10de('0x4f')][_0x10de('0x8ce')]&&'2D'===_0x1c60b1?esmap[_0x10de('0x4f')]['showRoads']=!0x1:!0x1===esmap['ESEffectTool'][_0x10de('0x8ce')]&&'3D'===_0x1c60b1&&(esmap[_0x10de('0x4f')][_0x10de('0x8ce')]=!0x0);}),_0x578330['on'](_0x10de('0x912'),function(_0x1c60b1){_0x20ff88[_0x10de('0x4ca')][_0x10de('0x913')]();}),_0x578330['on'](_0x10de('0x914'),function(_0x1c60b1){_0x20ff88['buildings'][_0x10de('0x915')](_0x1c60b1['color']);}),_0x578330['on']('controlstart',function(){_0x9cd543[_0x10de('0x1d3')](_0x578330['controls'][_0x10de('0x304')]),esmap[_0x10de('0x4f')]['_controlMove']=!0x0;}),_0x578330['on']('controlUpdated',function(){_0x313b7c(_0x5ac66a,!0x0);}),_0x578330['on'](_0x10de('0x916'),function(_0x1c60b1){TWEEN[_0x10de('0x31d')](),_0x20ff88[_0x10de('0x362')](_0x1c60b1),_0x913827['render'](_0x1c60b1),_0x2c1cc6[_0x10de('0x31d')]();}),_0x578330[_0x10de('0x8b7')](_0x10de('0xce'),function(){_0x6aeb64['clearAll']();});},_0x6aeb64[_0x10de('0x917')]=_0x30aaf3[_0x10de('0x276')],_0x6aeb64[_0x10de('0x4e2')]=_0x913827,_0x6aeb64[_0x10de('0x4c7')]={'dispose':function(_0x1c60b1){_0x20ff88[_0x10de('0x4c7')][_0x10de('0xce')](_0x1c60b1);},'removeAll':function(){_0x20ff88[_0x10de('0x4c7')][_0x10de('0x4a1')]();},'updateBuildingScanLight':function(_0x1c60b1,_0x40a236){_0x10de('0x918')===_0x1c60b1&&_0x20ff88[_0x10de('0x4c7')][_0x10de('0x919')](_0x40a236),'center_spread'===_0x1c60b1&&_0x20ff88['buildings'][_0x10de('0x91a')](_0x40a236),_0x10de('0x91b')===_0x1c60b1&&_0x20ff88[_0x10de('0x4c7')][_0x10de('0x91c')](_0x40a236);},'toggleBuildingScanLight':function(_0x1c60b1,_0x40a236){_0x20ff88[_0x10de('0x4c7')]['toggleTileBuildingsScan'](_0x1c60b1,_0x40a236);},'updateBuildingExtentLight':function(_0x1c60b1){_0x20ff88[_0x10de('0x4c7')]['updateTileBuildingExtentLight'](_0x1c60b1);},'closeTileBuildingsLight':function(){_0x20ff88[_0x10de('0x4c7')][_0x10de('0x91d')](!0x1);},'openTileBuildingsLight':function(){_0x20ff88[_0x10de('0x4c7')]['toggleTileBuildingsLight'](!0x0);},'toggleBuildingHighLight':function(_0x1c60b1){_0x1c60b1?_0x20ff88['buildings']['updateTileBuildingExtentLightDown'](!0x0):_0x20ff88['buildings'][_0x10de('0x91e')](!0x1);},'updateTileBuildingAlpha':function(_0x1c60b1){_0x20ff88['buildings']['updateTileBuildingAlpha'](_0x1c60b1);}},_0x6aeb64[_0x10de('0x4c8')]={'removeAll':function(){_0x20ff88[_0x10de('0x4c8')]['dispose']();},'settingControlFloor':function(_0x1c60b1){_0x20ff88[_0x10de('0x4c8')][_0x10de('0x91f')]&&_0x1c60b1['id']&&_0x20ff88[_0x10de('0x4c8')][_0x10de('0x920')][_0x1c60b1['id']]&&(_0x20ff88[_0x10de('0x4c8')][_0x10de('0x920')][_0x1c60b1['id']][_0x10de('0x921')]||(_0x20ff88['floors'][_0x10de('0x920')][_0x1c60b1['id']]['_originPos']=_0x20ff88[_0x10de('0x4c8')]['controlFloors'][_0x1c60b1['id']][_0x10de('0x222')][_0x10de('0x1c5')]()),_0x1c60b1['x']&&_0x1c60b1['y'],void 0x0!==_0x1c60b1[_0x10de('0x4f5')]&&(!0x1===_0x1c60b1['offsetHeight']?_0x20ff88[_0x10de('0x4c8')][_0x10de('0x920')][_0x1c60b1['id']][_0x10de('0x222')]['y']=_0x20ff88['floors'][_0x10de('0x920')][_0x1c60b1['id']][_0x10de('0x921')]['y']:_0x20ff88['floors'][_0x10de('0x920')][_0x1c60b1['id']]['position']['y']=_0x1c60b1['offsetHeight']),void 0x0!==_0x1c60b1[_0x10de('0x838')]&&(_0x20ff88[_0x10de('0x4c8')][_0x10de('0x920')][_0x1c60b1['id']]['visible']=_0x1c60b1['isShow']),_0x1c60b1[_0x10de('0x233')]&&(_0x20ff88[_0x10de('0x4c8')][_0x10de('0x920')][_0x1c60b1['id']][_0x10de('0x40')][_0x10de('0x233')]=_0x1c60b1[_0x10de('0x233')]),_0x1c60b1[_0x10de('0x53c')]&&_0x20ff88['floors'][_0x10de('0x53c')](_0x1c60b1['id'],_0x1c60b1[_0x10de('0x507')]));}},_0x6aeb64[_0x10de('0x4c9')]={'removeAll':function(){_0x20ff88[_0x10de('0x4c9')]['disposeAll']();}},_0x6aeb64[_0x10de('0x6fe')]={'updateAmbientLight':function(_0x1c60b1,_0x40a236){var _0x2eeb8c=null,_0x121530=null;_0x10de('0x13')==typeof _0x1c60b1?_0x2eeb8c=_0x1c60b1:(_0x2eeb8c=_0x1c60b1[_0x10de('0x479')],_0x121530=_0x1c60b1['color']),_0x20ff88['lights'][_0x10de('0x922')]({'intensity':_0x2eeb8c,'color':_0x121530,'isAnimate':!0x0,'time':_0x40a236});},'updateDirectLights':function(_0x1c60b1,_0x40a236){var _0x2eeb8c=!0x0,_0x121530=!0x1,_0x582c80=void 0x0;try{for(var _0x9cd543,_0xf5c168=(0x0,_0x1d8b57['default'])(_0x20ff88[_0x10de('0x6fe')][_0x10de('0x923')]);!(_0x2eeb8c=(_0x9cd543=_0xf5c168[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2eeb8c=!0x0){var _0x30726a=_0x9cd543['value'];_0x20ff88[_0x10de('0x6fe')][_0x10de('0x924')](_0x30726a,_0x1c60b1,!0x0,_0x40a236);}}catch(_0x3ebb97){_0x121530=!0x0,_0x582c80=_0x3ebb97;}finally{try{!_0x2eeb8c&&_0xf5c168['return']&&_0xf5c168[_0x10de('0xdf')]();}finally{if(_0x121530)throw _0x582c80;}}},'recoverAmbientLight':function(){_0x20ff88['lights'][_0x10de('0x922')]({'isAnimate':!0x0,'isRecover':!0x0});},'removeAll':function(){_0x20ff88[_0x10de('0x6fe')][_0x10de('0xce')]();},'getLights':function(){return _0x20ff88['lights'];}},_0x6aeb64['routes']={'removeAll':function(){_0x20ff88[_0x10de('0x4cb')][_0x10de('0x4a1')]();},'updateTileRoutesRandomStyle':function(_0x1c60b1){_0x578330[_0x10de('0x46')]['loadRoads']&&esmap['ESEffectTool'][_0x10de('0x46')][_0x10de('0x8f4')]&&_0x20ff88['routes'][_0x10de('0x925')](_0x1c60b1);},'recoverTileRoutesStyle':function(){_0x578330[_0x10de('0x46')][_0x10de('0x8f1')]&&esmap['ESEffectTool'][_0x10de('0x46')][_0x10de('0x8f4')]&&_0x20ff88[_0x10de('0x4cb')]['recoverTileRoutesStyle']();},'toggleTileRoutesVisible':function(_0x1c60b1){_0x20ff88[_0x10de('0x4cb')][_0x10de('0x926')](_0x1c60b1);}},_0x6aeb64[_0x10de('0x4cc')]={'removeAll':function(){_0x20ff88['skybox']['dispose']();},'getSkybox':function(){return _0x20ff88[_0x10de('0x4cc')][_0x10de('0x927')]?_0x20ff88[_0x10de('0x4cc')]:null;},'updateSkybox':function(_0x1c60b1,_0x40a236){_0x20ff88[_0x10de('0x4cc')][_0x10de('0x928')](_0x1c60b1,_0x40a236);},'toggleSkyBox':function(_0x1c60b1){var _0x40a236=_0x20ff88[_0x10de('0x4cc')][_0x10de('0x927')];_0x40a236&&_0x40a236[_0x10de('0x46f')]&&(_0x40a236[_0x10de('0x46f')][_0x10de('0x364')]=!!_0x1c60b1,_0x20ff88[_0x10de('0x4cc')][_0x10de('0x929')]=!_0x40a236[_0x10de('0x46f')][_0x10de('0x364')]);}},_0x6aeb64[_0x10de('0x6eb')]={'removeAll':function(){_0x20ff88[_0x10de('0x6eb')][_0x10de('0x4a1')]();},'setStyle':function(_0x1c60b1,_0x40a236){_0x20ff88[_0x10de('0x6eb')]['setStyle'](_0x1c60b1,_0x40a236);},'createWaveMarker':function(_0x1c60b1){_0x20ff88['water'][_0x10de('0x92a')](_0x1c60b1);},'updateWaveLines':function(_0x1c60b1,_0x40a236){_0x20ff88['water'][_0x10de('0x92b')](_0x1c60b1,_0x40a236);},'removeWaveLines':function(){_0x20ff88[_0x10de('0x6eb')][_0x10de('0x92c')]();}},_0x6aeb64[_0x10de('0x4ce')]={'setWaterRipple':function(_0x1c60b1){_0x20ff88[_0x10de('0x4ce')][_0x10de('0x92d')](_0x1c60b1);},'setHeatPointImg':function(_0x1c60b1,_0x40a236){_0x20ff88['heatMap'][_0x10de('0x92e')](_0x1c60b1,_0x40a236);}},_0x6aeb64[_0x10de('0x4ca')]={'showBoatFoam':function(_0x1c60b1){if(_0x1c60b1['id']&&void 0x0!==_0x1c60b1[_0x10de('0x838')])for(var _0x40a236=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x92f')],_0x2eeb8c=0x0;_0x2eeb8c<_0x40a236['length'];_0x2eeb8c++)if(_0x40a236[_0x2eeb8c]['id']===_0x1c60b1['id']){if(_0x40a236[_0x2eeb8c][_0x10de('0x40')]){_0x40a236[_0x2eeb8c][_0x10de('0x40')][_0x10de('0x364')]=_0x1c60b1['isShow'],_0x1c60b1[_0x10de('0x363')]&&(_0x40a236[_0x2eeb8c][_0x10de('0x363')]=_0x1c60b1[_0x10de('0x363')]),_0x1c60b1[_0x10de('0x2dd')]&&_0x40a236[_0x2eeb8c]['updateFps'](_0x1c60b1[_0x10de('0x2dd')]);break;}console[_0x10de('0xef')]('boat-foam:',_0x1c60b1);}},'showTerrainGradient':function(_0x1c60b1){var _0x40a236;_0x1c60b1[_0x10de('0x8c')]&&void 0x0!==_0x1c60b1[_0x10de('0x838')]&&(_0x40a236=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x930')])[_0x1c60b1['name']]&&_0x40a236[_0x1c60b1['name']][_0x10de('0x40d')]&&(_0x40a236[_0x1c60b1[_0x10de('0x8c')]][_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x838')][_0x10de('0x10')]=_0x1c60b1[_0x10de('0x838')]);},'setTerrainGradientConfig':function(_0x1c60b1){if(_0x1c60b1[_0x10de('0x8c')]){var _0x40a236=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x930')];if(_0x40a236[_0x1c60b1[_0x10de('0x8c')]])return _0x40a236[_0x1c60b1['name']][_0x10de('0x849')](_0x1c60b1);}},'getTerrainGradientConfig':function(_0x1c60b1){if(_0x1c60b1['name']){var _0x40a236=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x930')];if(_0x40a236[_0x1c60b1[_0x10de('0x8c')]])return _0x40a236[_0x1c60b1[_0x10de('0x8c')]][_0x10de('0x848')]();}},'toggleModelLights':function(_0x1c60b1){_0x20ff88[_0x10de('0x4ca')][_0x10de('0x931')][_0x10de('0x837')](_0x1c60b1),_0x20ff88[_0x10de('0x4ca')][_0x10de('0x932')](_0x1c60b1);},'createModelLightPoints':function(){_0x20ff88[_0x10de('0x4ca')]['createEffectPoints']();},'showShadow':function(){_0x2ea907[_0x10de('0x8b5')]&&_0x5ac66a[_0x10de('0x87e')]&&(_0x578330['mapView'][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x43e')]=!0x0,_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['needsUpdate']=!0x0,_0x20ff88[_0x10de('0x87e')][_0x10de('0x8c3')]=!0x1,_0x20ff88[_0x10de('0x87e')][_0x10de('0x933')]&&(_0x20ff88['shadow'][_0x10de('0x933')][_0x10de('0x364')]=!0x0));},'closeShadow':function(){_0x2ea907['isShowShadow']&&_0x5ac66a[_0x10de('0x87e')]&&(_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['enabled']=!0x1,_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['needsUpdate']=!0x0,_0x20ff88[_0x10de('0x87e')][_0x10de('0x8c3')]=!0x0,_0x20ff88[_0x10de('0x87e')][_0x10de('0x933')]&&(_0x20ff88[_0x10de('0x87e')][_0x10de('0x933')][_0x10de('0x364')]=!0x1));},'toggleShadow':function(_0x1c60b1){_0x2ea907[_0x10de('0x8b5')]&&_0x5ac66a[_0x10de('0x87e')]&&(_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x43e')]=!!_0x1c60b1,_0x20ff88['shadow'][_0x10de('0x8c3')]=!_0x1c60b1,_0x20ff88[_0x10de('0x87e')]['shadowPlane']&&(_0x20ff88[_0x10de('0x87e')][_0x10de('0x933')][_0x10de('0x364')]=!!_0x1c60b1),_0x578330[_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x10c')]=!0x0);},'getShadow':function(){return _0x20ff88[_0x10de('0x87e')];},'setUvTransform':function(_0x1c60b1){if(_0x1c60b1['id'])for(var _0x40a236=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x934')],_0x2eeb8c=0x0;_0x2eeb8c<_0x40a236[_0x10de('0xe')];_0x2eeb8c++)if(_0x40a236[_0x2eeb8c][_0x10de('0x935')]===_0x1c60b1['id']){_0x1c60b1[_0x10de('0x10a')]&&(_0x1c60b1[_0x10de('0x10a')]['x']&&(_0x40a236[_0x2eeb8c][_0x10de('0x10a')]['x']=_0x1c60b1[_0x10de('0x10a')]['x']),_0x1c60b1[_0x10de('0x10a')]['y']&&(_0x40a236[_0x2eeb8c][_0x10de('0x10a')]['y']=_0x1c60b1['offset']['y']));break;}},'setControlGroupObj':function(_0x1c60b1){var _0x40a236,_0x2eeb8c=_0x1c60b1[_0x10de('0x936')],_0x121530=_0x1c60b1['key'],_0x582c80=_0x1c60b1[_0x10de('0x233')],_0x9cd543=_0x1c60b1[_0x10de('0x364')],_0xf5c168=_0x1c60b1['offsetY'],_0x30726a=_0x1c60b1[_0x10de('0x349')],_0x24cc19=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x937')];if(_0x24cc19[_0x2eeb8c])for(var _0x248841 in _0x24cc19[_0x2eeb8c])_0x248841===_0x121530&&(void 0x0!==_0x582c80&&('Object3D'===_0x24cc19[_0x2eeb8c][_0x248841][_0x10de('0x85')]?_0x24cc19[_0x2eeb8c][_0x248841][_0x10de('0xd1')](function(_0x1c60b1){_0x10de('0x348')===_0x1c60b1[_0x10de('0x85')]&&-0x1<_0x1c60b1['name']['indexOf']('_ef_')&&-0x1<_0x1c60b1[_0x10de('0x8c')][_0x10de('0x4d')](_0x121530)&&(_0x582c80&&0x0<_0x582c80&&(_0x1c60b1[_0x10de('0x40')][_0x10de('0x41')]['opacity']||(_0x1c60b1['material'][_0x10de('0x41')]['opacity']=_0x1c60b1['material']['opacity']),_0x1c60b1[_0x10de('0x40')]['opacity']=_0x582c80),!0x1===_0x582c80&&(_0x1c60b1[_0x10de('0x40')][_0x10de('0x233')]=_0x1c60b1['material']['userData']['opacity']));}):(_0x40a236=_0x24cc19[_0x2eeb8c][_0x248841][_0x10de('0x40')],Array[_0x10de('0x1be')](_0x40a236)&&(_0x40a236=_0x40a236[0x0]),_0x582c80&&0x0<_0x582c80&&(_0x40a236[_0x10de('0x41')]['opacity']||(_0x40a236[_0x10de('0x41')]['opacity']=_0x40a236['opacity']),_0x40a236['opacity']=_0x582c80),!0x1===_0x582c80&&(_0x40a236['opacity']=_0x40a236['userData'][_0x10de('0x233')]))),void 0x0!==_0x9cd543&&(_0x24cc19[_0x2eeb8c][_0x248841][_0x10de('0x364')]=_0x9cd543),void 0x0!==_0xf5c168&&(_0x24cc19[_0x2eeb8c][_0x248841]['position']['y']=_0xf5c168),void 0x0!==_0x30726a&&(_0x24cc19[_0x2eeb8c][_0x248841][_0x10de('0x349')]=_0x30726a),_0x24cc19[_0x2eeb8c][_0x248841]);},'setModelBloomLight':function(_0x1c60b1,_0x40a236){_0x1c60b1&&_0x1c60b1[_0x10de('0x4d4')]&&_0x1c60b1[_0x10de('0x4d4')][_0x10de('0xd1')](function(_0x1c60b1){'Mesh'==_0x1c60b1[_0x10de('0x85')]&&!0x1===_0x1c60b1[_0x10de('0x938')]&&esmap[_0x10de('0x4f')][_0x10de('0x8bc')][_0x10de('0x939')](_0x1c60b1,_0x40a236);});},'removeModelBloomLight':function(_0x1c60b1){_0x1c60b1&&_0x1c60b1[_0x10de('0x4d4')]&&_0x1c60b1[_0x10de('0x4d4')]['traverse'](function(_0x1c60b1){'Mesh'==_0x1c60b1['type']&&!0x0===_0x1c60b1['_isBloom']&&esmap[_0x10de('0x4f')][_0x10de('0x8bc')][_0x10de('0x93a')](_0x1c60b1);});},'setModelProjectionHeatmap':function(_0x1c60b1,_0x40a236){var _0x2eeb8c=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x93b')];_0x2eeb8c[_0x1c60b1]&&(_0x40a236=_0x40a236['getTexture']())&&(_0x2eeb8c[_0x1c60b1][_0x10de('0x93c')](_0x40a236),_0x2eeb8c[_0x1c60b1][_0x10de('0x838')]=!0x0);},'setModelTextureHeatmap':function(_0x1c60b1,_0x40a236){var _0x2eeb8c,_0x121530,_0x582c80=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x93d')];_0x582c80[_0x1c60b1]&&_0x40a236[_0x10de('0x93e')]&&(_0x2eeb8c=_0x582c80[_0x1c60b1]['material']['_mesh'],_0x121530=_0x582c80[_0x1c60b1][_0x10de('0x40')][_0x10de('0x1c5')](),_0x582c80[_0x1c60b1][_0x10de('0x93f')](_0x121530,_0x40a236[_0x10de('0x93e')]),Array[_0x10de('0x1be')](_0x2eeb8c['material'])?_0x2eeb8c['material'][0x0]=_0x121530:_0x2eeb8c['material']=_0x121530,_0x121530[_0x10de('0x10c')]=!0x0);},'updateModelTextureHeatmap':function(_0x1c60b1,_0x40a236){var _0x2eeb8c,_0x121530,_0x582c80=_0x20ff88['models'][_0x10de('0x93d')];_0x582c80[_0x1c60b1]&&(_0x2eeb8c=_0x582c80[_0x1c60b1][_0x10de('0x40')]['_mesh'][_0x10de('0x40')],_0x40a236['imgUrl']&&(_0x121530=new THREE['TextureLoader']()[_0x10de('0xdb')](_0x40a236[_0x10de('0x4e5')],function(){_0x582c80[_0x1c60b1][_0x10de('0x93c')](_0x121530),_0x2eeb8c['needsUpdate']=!0x0;})));},'toggleModelHeatmap':function(_0x1c60b1,_0x40a236){var _0x2eeb8c=_0x20ff88['models'][_0x10de('0x93b')];_0x2eeb8c[_0x1c60b1]&&(_0x2eeb8c[_0x1c60b1][_0x10de('0x838')]=!!_0x40a236);},'setModelGradient':function(_0x1c60b1){var _0x40a236,_0x2eeb8c=_0x20ff88[_0x10de('0x4ca')][_0x10de('0x940')];_0x1c60b1[_0x10de('0x8c')]&&_0x2eeb8c[_0x1c60b1[_0x10de('0x8c')]]&&(_0x40a236=_0x2eeb8c[_0x1c60b1[_0x10de('0x8c')]][_0x10de('0x604')](_0x1c60b1[_0x10de('0x2ca')],_0x1c60b1[_0x10de('0x941')],_0x1c60b1['maxValue'],_0x1c60b1[_0x10de('0x942')]),_0x2eeb8c[_0x1c60b1['name']][_0x10de('0x868')]({'texture':_0x40a236,'time':_0x1c60b1['time'],'rotateAngle':_0x1c60b1[_0x10de('0x49b')]}),_0x2eeb8c[_0x1c60b1['name']][_0x10de('0x838')]=!0x0);},'toggleModelGradient':function(_0x1c60b1){var _0x40a236=_0x20ff88['models'][_0x10de('0x940')];_0x1c60b1[_0x10de('0x8c')]&&_0x40a236[_0x1c60b1[_0x10de('0x8c')]]&&(_0x40a236[_0x1c60b1[_0x10de('0x8c')]][_0x10de('0x838')]=!!_0x1c60b1['isShow']);}},_0x6aeb64[_0x10de('0x4cd')]={'createVideoProjector':function(_0x1c60b1){return _0x20ff88['video'][_0x10de('0x943')](_0x1c60b1);},'clearVideoProjector':function(){_0x20ff88[_0x10de('0x4cd')][_0x10de('0x69b')]();},'showVisualField':function(_0x1c60b1){_0x20ff88[_0x10de('0x4cd')][_0x10de('0x7b4')](_0x1c60b1);},'updateProjectorTarget':function(_0x1c60b1){_0x20ff88[_0x10de('0x4cd')][_0x10de('0x944')](_0x1c60b1);},'isLockCameraControls':function(_0x1c60b1){_0x20ff88[_0x10de('0x4cd')][_0x10de('0x7b2')](_0x1c60b1);}},_0x6aeb64[_0x10de('0x8bc')]={'setObjectBloomLight':function(_0x1c60b1,_0x40a236){if(esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x437')]){var _0x2eeb8c=esmap[_0x10de('0x39')][_0x10de('0x8ac')]();if((_0x1c60b1 instanceof THREE[_0x10de('0x348')]||_0x1c60b1 instanceof THREE['Object3D'])&&(_0x1c60b1['layers'][_0x10de('0x223')](0x1),_0x1c60b1[_0x10de('0x938')]=!0x0,_0x2eeb8c[_0x10de('0x8c9')]&&_0x40a236&&0x0<_0x40a236&&_0x40a236<0x1))if(Array['isArray'](_0x1c60b1[_0x10de('0x40')])){var _0x121530=!0x0,_0x2eeb8c=!0x1,_0x582c80=void 0x0;try{for(var _0x9cd543,_0xf5c168=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x1c60b1['material']);!(_0x121530=(_0x9cd543=_0xf5c168[_0x10de('0x88')]())['done']);_0x121530=!0x0){var _0x30726a=_0x9cd543['value'],_0x24cc19=(_0x30726a[_0x10de('0x945')]||(_0x30726a[_0x10de('0x945')]=_0x30726a[_0x10de('0x232')][_0x10de('0x1c5')]()),_0x30726a['_bloomOriginColor'][_0x10de('0x1c5')]());_0x24cc19[_0x10de('0x946')](0x0,0x0,_0x40a236-0x1),_0x30726a[_0x10de('0x232')]['copy'](_0x24cc19);}}catch(_0x2f9e9b){_0x2eeb8c=!0x0,_0x582c80=_0x2f9e9b;}finally{try{!_0x121530&&_0xf5c168['return']&&_0xf5c168[_0x10de('0xdf')]();}finally{if(_0x2eeb8c)throw _0x582c80;}}}else{_0x1c60b1['material']['_bloomOriginColor']||(_0x1c60b1[_0x10de('0x40')][_0x10de('0x945')]=_0x1c60b1[_0x10de('0x40')][_0x10de('0x232')]['clone']());_0x2eeb8c=_0x1c60b1[_0x10de('0x40')][_0x10de('0x945')]['clone']();_0x2eeb8c['offsetHSL'](0x0,0x0,_0x40a236-0x1),_0x1c60b1['material'][_0x10de('0x232')][_0x10de('0x1d3')](_0x2eeb8c);}}},'removeObjectBloomLight':function(_0x1c60b1){if(_0x1c60b1 instanceof THREE[_0x10de('0x348')])if(_0x1c60b1[_0x10de('0x51a')][_0x10de('0x224')](0x1),Array[_0x10de('0x1be')](_0x1c60b1['material'])){var _0x40a236=!0x0,_0x2eeb8c=!0x1,_0x121530=void 0x0;try{for(var _0x582c80,_0x9cd543=(0x0,_0x1d8b57[_0x10de('0x9')])(_0x1c60b1[_0x10de('0x40')]);!(_0x40a236=(_0x582c80=_0x9cd543['next']())[_0x10de('0x32b')]);_0x40a236=!0x0){var _0xf5c168=_0x582c80['value'];_0xf5c168['_bloomOriginColor']&&_0xf5c168[_0x10de('0x232')][_0x10de('0x1d3')](_0xf5c168[_0x10de('0x945')]);}}catch(_0x9d8db2){_0x2eeb8c=!0x0,_0x121530=_0x9d8db2;}finally{try{!_0x40a236&&_0x9cd543[_0x10de('0xdf')]&&_0x9cd543[_0x10de('0xdf')]();}finally{if(_0x2eeb8c)throw _0x121530;}}}else _0x1c60b1[_0x10de('0x40')]['_bloomOriginColor']&&_0x1c60b1[_0x10de('0x40')][_0x10de('0x232')][_0x10de('0x1d3')](_0x1c60b1[_0x10de('0x40')][_0x10de('0x945')]);else console[_0x10de('0xef')](_0x10de('0x947'));},'updateOutlineStyle':function(_0x1c60b1){_0x20ff88[_0x10de('0x8bb')][_0x10de('0x948')](_0x1c60b1);},'setObjectOutline':function(_0x1c60b1,_0x40a236){_0x20ff88[_0x10de('0x8bb')][_0x10de('0x949')](_0x1c60b1,_0x40a236);},'removeObjectOutline':function(_0x1c60b1){_0x20ff88[_0x10de('0x8bb')][_0x10de('0x94a')](_0x1c60b1);},'clearSelectedOutline':function(){_0x20ff88[_0x10de('0x8bb')][_0x10de('0x94b')]();},'resetBackgroundColor':function(_0x1c60b1){_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')]['relaceBgMaterial']&&(_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')][_0x10de('0x94c')][_0x10de('0x232')]['setStyle'](_0x1c60b1),_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')][_0x10de('0x94c')]['needsUpdate']=!0x0);},'toggleScreenEffect':function(_0x1c60b1){esmap[_0x10de('0x24')][_0x10de('0x25')][_0x10de('0x46')]['closeComposer']=!!_0x1c60b1,_0x20ff88[_0x10de('0x8bb')][_0x10de('0x8bc')][_0x10de('0x94d')][_0x10de('0xe')]=0x0,esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x437')]=_0x1c60b1;},'setRainScreenEffect':function(_0x1c60b1){return _0x20ff88[_0x10de('0x8bb')][_0x10de('0x94e')](_0x1c60b1);},'setSnowScreenEffect':function(_0x1c60b1){return _0x20ff88['postProcessing'][_0x10de('0x94f')](_0x1c60b1);}},_0x6aeb64[_0x10de('0x950')]=function(_0x1c60b1,_0x40a236){_0x121530||(_0x20ff88['lights']['updateAllLightConfig']({'configs':_0x1c60b1}),_0x20ff88[_0x10de('0x6fe')][_0x10de('0x951')](_0x1c60b1[_0x10de('0x88b')]),_0x20ff88['skybox'][_0x10de('0x928')](_0x1c60b1['skybox']),_0x20ff88[_0x10de('0x87e')]['enabled']&&(_0x10de('0x8c0')==esmap[_0x10de('0x4f')][_0x10de('0x46')]['effectQuality']?esmap['ESEffectTool'][_0x10de('0x4ca')][_0x10de('0x952')]():_0x20ff88['shadow'][_0x10de('0x953')]({'configs':_0x1c60b1,'isAnimate':!0x0})),setTimeout(function(){_0x121530=!0x1,_0x40a236&&_0x40a236();},0x7d0));},_0x6aeb64['switchEffectTheme']=function(_0x1c60b1){_0x6aeb64[_0x10de('0x4cf')](),_0x230cac(_0x1c60b1,esmap[_0x10de('0x4f')]['configPath']);},_0x6aeb64['clearAll']=function(){_0x341442=_0x2ea907=_0x5ac66a=null,_0x1e7207=!(_0x24cc19={'json':_0x121530=_0x320b5a=_0x2eeb8c=_0x1e7207=!0x1,'preload':!0x1}),_0x20ff88[_0x10de('0x4e3')](),_0x913827['dispose'](),_0x2c1cc6[_0x10de('0x83')]&&_0x2c1cc6[_0x10de('0x54b')](_0x10de('0x8c2'),_0x2c1cc6[_0x10de('0x83')][_0x10de('0x8c2')][0x0]),_0x578330=null;},Object[_0x10de('0x2')](_0x6aeb64,'initComplete',{'enumerable':!0x1,'get':function(){return _0x1e7207;},'set':function(_0x1c60b1){_0x1e7207=_0x1c60b1;}}),_0x1c60b1['default']=_0x6aeb64;},function(_0x57072d,_0x1e1fb8,_0x513b20){'use strict';Object[_0x10de('0x2')](_0x1e1fb8,_0x10de('0x5'),{'value':!0x0});var _0x143fc3=_0x417278(_0x513b20(0x0)),_0x4b44bb=_0x417278(_0x513b20(0x1)),_0x1d0bf3=function(_0x57072d){if(_0x57072d&&_0x57072d[_0x10de('0x5')])return _0x57072d;var _0x1e1fb8={};if(null!=_0x57072d)for(var _0x513b20 in _0x57072d)Object['prototype'][_0x10de('0xb')][_0x10de('0x0')](_0x57072d,_0x513b20)&&(_0x1e1fb8[_0x513b20]=_0x57072d[_0x513b20]);return _0x1e1fb8[_0x10de('0x9')]=_0x57072d,_0x1e1fb8;}(_0x513b20(0x101)),_0x5f3ea8=_0x513b20(0x57),_0x506a8a=_0x513b20(0x13);function _0x417278(_0x57072d){return _0x57072d&&_0x57072d[_0x10de('0x5')]?_0x57072d:{'default':_0x57072d};}function _0x162e56(){(0x0,_0x143fc3[_0x10de('0x9')])(this,_0x162e56),this[_0x10de('0xcf')]=(0x0,_0x506a8a[_0x10de('0x3b')])(),this['isCanRender']=!0x0,this[_0x10de('0x4c7')]=null,this[_0x10de('0x4c8')]=null,this[_0x10de('0x4c9')]=null,this['lights']=null,this['routes']=null,this[_0x10de('0x4cc')]=null,this[_0x10de('0x6eb')]=null,this[_0x10de('0x4ca')]=null,this[_0x10de('0x8bb')]=null,this[_0x10de('0x87e')]=null,this[_0x10de('0x1e7')]=null,this[_0x10de('0x4cd')]=null,this['heatMap']=null,this[_0x10de('0x4c6')]();}(0x0,_0x4b44bb['default'])(_0x162e56,[{'key':_0x10de('0x4c6'),'value':function(){this['lights']=new _0x1d0bf3[(_0x10de('0x89f'))](),this[_0x10de('0x4c7')]=new _0x1d0bf3['Buildings']({'lights':this[_0x10de('0x6fe')]}),this[_0x10de('0x4c8')]=new _0x1d0bf3[(_0x10de('0x89d'))](),this[_0x10de('0x4c9')]=new _0x1d0bf3[(_0x10de('0x8a8'))](),this['routes']=new _0x1d0bf3[(_0x10de('0x954'))](),this[_0x10de('0x4cc')]=new _0x1d0bf3[(_0x10de('0xbf'))](),this[_0x10de('0x6eb')]=new _0x1d0bf3[(_0x10de('0x6ec'))](this['skybox']),this[_0x10de('0x4ca')]=new _0x1d0bf3[(_0x10de('0x955'))]({'water':this['water'],'lights':this[_0x10de('0x6fe')]}),this[_0x10de('0x8bb')]=new _0x1d0bf3[(_0x10de('0x8b2'))](),this[_0x10de('0x87e')]=new _0x1d0bf3[(_0x10de('0x956'))](),this['fog']=new _0x1d0bf3['Fog'](),this['video']=new _0x1d0bf3['Video'](),this['heatMap']=new _0x1d0bf3[(_0x10de('0x957'))]();}},{'key':_0x10de('0x88d'),'value':function(_0x57072d){var _0x1e1fb8=_0x57072d[_0x10de('0x85')],_0x513b20=_0x57072d[_0x10de('0x958')],_0x143fc3=_0x57072d[_0x10de('0x2ca')];switch(_0x1e1fb8){case _0x5f3ea8['ESEffectsConstant'][_0x10de('0x894')]:_0x513b20[_0x10de('0x554')]?this[_0x10de('0x4c7')]['createTileBuildingsEffect2'](_0x513b20):this['buildings'][_0x10de('0x959')](_0x513b20['roomStyle'],_0x513b20);break;case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x89d')]:this[_0x10de('0x4c8')]['setFloorMaterial'](_0x513b20);break;case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x8a8')]:this[_0x10de('0x4c9')][_0x10de('0x95a')](_0x513b20);break;case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x89f')]:_0x513b20[_0x10de('0x95b')]&&this[_0x10de('0x6fe')][_0x10de('0x95c')](_0x513b20),_0x513b20[_0x10de('0x95d')]&&this[_0x10de('0x6fe')][_0x10de('0x95e')](_0x513b20),_0x513b20[_0x10de('0x8a4')]&&this[_0x10de('0x6fe')][_0x10de('0x922')](_0x513b20),_0x513b20[_0x10de('0x88c')]&&this[_0x10de('0x6fe')][_0x10de('0x95f')](_0x513b20);break;case _0x5f3ea8['ESEffectsConstant'][_0x10de('0x954')]:_0x513b20[_0x10de('0x960')]?this[_0x10de('0x4cb')][_0x10de('0x961')](0x1,_0x513b20):this[_0x10de('0x4cb')][_0x10de('0x962')](_0x513b20,_0x143fc3);break;case _0x5f3ea8[_0x10de('0x276')][_0x10de('0xbf')]:this[_0x10de('0x4cc')][_0x10de('0x963')](_0x513b20);break;case _0x5f3ea8['ESEffectsConstant'][_0x10de('0x6ec')]:this['water']['addWater'](_0x513b20);break;case _0x5f3ea8[_0x10de('0x276')]['Models']:this['models'][_0x10de('0x8f6')](_0x513b20,_0x143fc3);break;case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x8b2')]:this[_0x10de('0x8bb')][_0x10de('0x4c6')](_0x513b20);break;case _0x5f3ea8['ESEffectsConstant'][_0x10de('0x956')]:this[_0x10de('0x87e')]['init2'](_0x513b20);break;case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x8aa')]:this[_0x10de('0x1e7')][_0x10de('0x4c6')](_0x513b20);}}},{'key':_0x10de('0x964'),'value':function(_0x57072d){var _0x1e1fb8=_0x57072d['type'];switch(_0x57072d[_0x10de('0x5c2')],_0x57072d[_0x10de('0x2ca')],_0x1e1fb8){case _0x5f3ea8['ESEffectsConstant'][_0x10de('0x894')]:case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x89d')]:case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x8a8')]:case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x89f')]:case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x954')]:case _0x5f3ea8[_0x10de('0x276')]['Skybox']:case _0x5f3ea8['ESEffectsConstant'][_0x10de('0x6ec')]:}}},{'key':_0x10de('0x965'),'value':function(_0x57072d){var _0x1e1fb8=_0x57072d['type'];switch(_0x57072d['styleId'],_0x57072d['data'],_0x1e1fb8){case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x894')]:case _0x5f3ea8[_0x10de('0x276')]['Floors']:case _0x5f3ea8['ESEffectsConstant'][_0x10de('0x8a8')]:case _0x5f3ea8['ESEffectsConstant'][_0x10de('0x89f')]:case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x954')]:case _0x5f3ea8[_0x10de('0x276')][_0x10de('0xbf')]:case _0x5f3ea8[_0x10de('0x276')][_0x10de('0x6ec')]:}}},{'key':_0x10de('0x4e3'),'value':function(){this[_0x10de('0x4c7')][_0x10de('0x4a1')](),this[_0x10de('0x4c8')][_0x10de('0xce')](),this[_0x10de('0x4c9')]['disposeAll'](),this[_0x10de('0x6fe')]['dispose'](),this['routes'][_0x10de('0x4a1')](),this[_0x10de('0x4cc')][_0x10de('0xce')](),this['water'][_0x10de('0x4a1')](),this[_0x10de('0x4ca')][_0x10de('0x4a1')](),this[_0x10de('0x8bb')][_0x10de('0xce')]();}},{'key':'render','value':function(_0x57072d){this[_0x10de('0x8c4')]&&(this[_0x10de('0x4c7')][_0x10de('0x362')](_0x57072d),this[_0x10de('0x4cb')][_0x10de('0x362')](_0x57072d),this['water'][_0x10de('0x362')](_0x57072d),this[_0x10de('0x4c8')]['render'](_0x57072d),this[_0x10de('0x4ca')][_0x10de('0x362')](_0x57072d),this[_0x10de('0x8bb')][_0x10de('0x362')](_0x57072d),this['heatMap'][_0x10de('0x362')](_0x57072d));}},{'key':_0x10de('0xce'),'value':function(){}}]),_0x1e1fb8['default']=_0x162e56;},function(_0x5260e3,_0x4ad1a5,_0x415538){'use strict';Object['defineProperty'](_0x4ad1a5,_0x10de('0x5'),{'value':!0x0}),_0x4ad1a5[_0x10de('0x957')]=_0x4ad1a5[_0x10de('0x966')]=_0x4ad1a5[_0x10de('0x8aa')]=_0x4ad1a5[_0x10de('0x956')]=_0x4ad1a5[_0x10de('0x8b2')]=_0x4ad1a5[_0x10de('0x955')]=_0x4ad1a5[_0x10de('0x6ec')]=_0x4ad1a5[_0x10de('0xbf')]=_0x4ad1a5[_0x10de('0x954')]=_0x4ad1a5[_0x10de('0x89f')]=_0x4ad1a5[_0x10de('0x8a8')]=_0x4ad1a5[_0x10de('0x89d')]=_0x4ad1a5[_0x10de('0x894')]=void 0x0;var _0x51773e=_0x194359(_0x415538(0x102)),_0x19c31a=_0x194359(_0x415538(0x103)),_0x4face1=_0x194359(_0x415538(0x104)),_0x32f195=_0x194359(_0x415538(0x105)),_0x398d77=_0x194359(_0x415538(0x107)),_0x17c592=_0x194359(_0x415538(0x10d)),_0x3390ad=_0x194359(_0x415538(0x10e)),_0x1a29c3=_0x194359(_0x415538(0x10f)),_0x3b3677=_0x194359(_0x415538(0x110)),_0x2013a4=_0x194359(_0x415538(0x11a)),_0x49b56c=_0x194359(_0x415538(0x11b)),_0x5e540c=_0x194359(_0x415538(0x11c)),_0x415538=_0x194359(_0x415538(0x11d));function _0x194359(_0x5260e3){return _0x5260e3&&_0x5260e3[_0x10de('0x5')]?_0x5260e3:{'default':_0x5260e3};}_0x4ad1a5[_0x10de('0x894')]=_0x51773e[_0x10de('0x9')],_0x4ad1a5[_0x10de('0x89d')]=_0x19c31a['default'],_0x4ad1a5[_0x10de('0x8a8')]=_0x4face1[_0x10de('0x9')],_0x4ad1a5[_0x10de('0x89f')]=_0x32f195['default'],_0x4ad1a5[_0x10de('0x954')]=_0x398d77['default'],_0x4ad1a5[_0x10de('0xbf')]=_0x17c592[_0x10de('0x9')],_0x4ad1a5[_0x10de('0x6ec')]=_0x3390ad[_0x10de('0x9')],_0x4ad1a5[_0x10de('0x955')]=_0x1a29c3[_0x10de('0x9')],_0x4ad1a5[_0x10de('0x8b2')]=_0x3b3677[_0x10de('0x9')],_0x4ad1a5[_0x10de('0x956')]=_0x2013a4[_0x10de('0x9')],_0x4ad1a5['Fog']=_0x49b56c['default'],_0x4ad1a5[_0x10de('0x966')]=_0x5e540c[_0x10de('0x9')],_0x4ad1a5[_0x10de('0x957')]=_0x415538['default'];},function(_0x41395b,_0x407147,_0x2bcfa7){'use strict';Object[_0x10de('0x2')](_0x407147,_0x10de('0x5'),{'value':!0x0});var _0x573a20=_0x5e12a6(_0x2bcfa7(0x3f)),_0x2858aa=_0x5e12a6(_0x2bcfa7(0x5)),_0x15d93f=_0x5e12a6(_0x2bcfa7(0x0)),_0x291b61=_0x5e12a6(_0x2bcfa7(0x1)),_0x252eec=_0x2bcfa7(0x13),_0x15351c=function(_0x41395b){if(_0x41395b&&_0x41395b[_0x10de('0x5')])return _0x41395b;var _0x407147={};if(null!=_0x41395b)for(var _0x2bcfa7 in _0x41395b)Object['prototype'][_0x10de('0xb')][_0x10de('0x0')](_0x41395b,_0x2bcfa7)&&(_0x407147[_0x2bcfa7]=_0x41395b[_0x2bcfa7]);return _0x407147[_0x10de('0x9')]=_0x41395b,_0x407147;}(_0x2bcfa7(0x36)),_0x1e0a49=_0x2bcfa7(0x73);function _0x5e12a6(_0x41395b){return _0x41395b&&_0x41395b[_0x10de('0x5')]?_0x41395b:{'default':_0x41395b};}function _0x261d1f(_0x41395b){_0x41395b=_0x41395b[_0x10de('0x6fe')];(0x0,_0x15d93f[_0x10de('0x9')])(this,_0x261d1f),this[_0x10de('0xcf')]=(0x0,_0x252eec[_0x10de('0x3b')])(),this[_0x10de('0x6fe')]=_0x41395b,this['buildingsThemes']=[],this['tileBuilidngThemes']=[],this[_0x10de('0x967')]=[],this['buildingScanConfigs']=null,this[_0x10de('0x968')]={'horizonScan':!0x1,'verticalScan':!0x1,'centerSpread':!0x1,'radarScan':!0x1},this[_0x10de('0x8b5')]=!0x1;}(0x0,_0x291b61[_0x10de('0x9')])(_0x261d1f,[{'key':'setBuildingsTheme','value':function(_0x41395b,_0x407147,_0x2bcfa7){_0x407147={'map':this['map'],'id':_0x41395b['id'],'mapView':_0x407147,'isTileBuilding':_0x2bcfa7,'centerPos':_0x41395b[_0x10de('0x969')],'buildingColorStr':_0x41395b['color'],'repeat':_0x41395b[_0x10de('0x96a')],'topRepeat':_0x41395b[_0x10de('0x96b')],'textureLightStrength':_0x41395b[_0x10de('0x96c')],'texPath':_0x41395b['sideImg'],'topTexPath':_0x41395b[_0x10de('0x890')],'gradientTexPath':_0x41395b[_0x10de('0x892')],'emissiveTexPath':_0x41395b[_0x10de('0x89a')],'emissiveTexScale':_0x41395b[_0x10de('0x96d')],'emissiveColorStr':_0x41395b['emissiveColor'],'opacity':_0x41395b['opacity'],'isBreathColor':_0x41395b[_0x10de('0x96e')],'isBlending':_0x41395b['transprentHightLight'],'isOpenScan':_0x41395b['openScan'],'isShowHorizonScan':_0x41395b['isShowHorizonScan'],'isShowVerticalScan':_0x41395b[_0x10de('0x55e')],'isShowCenterSpread':_0x41395b['isShowCenterSpread'],'isShowRadarScan':_0x41395b['isShowRadarScan'],'hlColorStr':_0x41395b[_0x10de('0x96f')],'hlWidth':_0x41395b[_0x10de('0x970')],'hlDiffuse':_0x41395b[_0x10de('0x971')],'hlExtent':_0x41395b[_0x10de('0x972')],'hlSpeed':_0x41395b[_0x10de('0x973')],'vlHeight':_0x41395b[_0x10de('0x974')],'vlColorStr':_0x41395b[_0x10de('0x975')],'vlExtent':_0x41395b[_0x10de('0x976')],'vlSpeed':_0x41395b[_0x10de('0x977')],'csColorStr':_0x41395b[_0x10de('0x978')],'csMaxRadius':_0x41395b['centerSpreadRadius'],'csSpeed':_0x41395b[_0x10de('0x979')],'csCenterPos':_0x41395b['centerSpreadCenterPos'],'rdColorStr':_0x41395b[_0x10de('0x97a')],'radarRadius':_0x41395b['radarScanRadius'],'radarSpeed':_0x41395b['radarScanSpeed'],'radarCenterPos':_0x41395b[_0x10de('0x97b')],'radarTexPath':_0x41395b['radarScanImg'],'extentEffectConfig':_0x41395b[_0x10de('0x893')],'screenSkyConfig':_0x41395b[_0x10de('0x89b')]};return _0x407147[_0x10de('0x561')]&&(_0x407147[_0x10de('0x561')]=(0x0,_0x252eec[_0x10de('0x32')])(_0x407147[_0x10de('0x561')]['x'],_0x407147[_0x10de('0x561')]['y'])),_0x407147[_0x10de('0x571')]&&_0x407147[_0x10de('0x571')][_0x10de('0x23f')]&&(_0x407147[_0x10de('0x571')]['center']=(0x0,_0x252eec[_0x10de('0x32')])(_0x407147[_0x10de('0x571')][_0x10de('0x23f')]['x'],_0x407147[_0x10de('0x571')][_0x10de('0x23f')]['y'])),new _0x15351c[(_0x10de('0xba'))](_0x407147);}},{'key':_0x10de('0x959'),'value':function(_0x41395b,_0x1f509e){_0x1f509e[_0x10de('0x88f')]&&this[_0x10de('0x97c')](_0x1f509e);var _0x9cd01d=(0x0,_0x252eec[_0x10de('0x2e')])(0x0)[_0x10de('0x4d5')](_0x1f509e['floorNum']||0x1)['getLayersByTypes']([esmap['ESLayerType'][_0x10de('0x97d')],esmap[_0x10de('0x4c2')]['MODEL_BASE']]),_0x3698be=this[_0x10de('0x97e')](_0x1f509e,this['map'][_0x10de('0x46c')]);_0x3698be[_0x10de('0x2d6')](_0x10de('0x476'),function(){var _0x41395b=!0x0,_0x407147=!0x1,_0x2bcfa7=void 0x0;try{for(var _0x15d93f,_0x291b61=(0x0,_0x2858aa['default'])(_0x9cd01d);!(_0x41395b=(_0x15d93f=_0x291b61['next']())[_0x10de('0x32b')]);_0x41395b=!0x0){var _0x5e12a6=_0x15d93f[_0x10de('0x10')],_0x573a20=!0x0,_0x261d1f=!0x1,_0x212f25=void 0x0;try{for(var _0x1d6051,_0x3768f5=(0x0,_0x2858aa['default'])(_0x5e12a6[_0x10de('0x4d4')][_0x10de('0x351')]);!(_0x573a20=(_0x1d6051=_0x3768f5['next']())['done']);_0x573a20=!0x0){var _0x27efb0,_0x26ebc9=_0x1d6051[_0x10de('0x10')],_0x5c14d2=(0x0,_0x252eec[_0x10de('0x2c')])(_0x26ebc9,_0x1f509e[_0x10de('0x5a3')]);if(_0x5c14d2){_0x26ebc9[_0x10de('0x40')][_0x5c14d2[_0x10de('0x41')]['index']]=_0x3698be[_0x10de('0x5d8')](),_0x3698be[_0x10de('0x40c')]=_0x26ebc9,_0x10de('0x64d')===_0x1f509e[_0x10de('0x2b2')]&&_0x1f509e[_0x10de('0x97f')]&&((_0x27efb0=new _0x15351c[(_0x10de('0xae'))]({'colorStr':_0x1f509e[_0x10de('0x980')],'opacity':_0x1f509e['frameOpacity'],'depthTest':!0x1}))[_0x10de('0x981')](_0x26ebc9,_0x26ebc9[_0x10de('0xd0')]),_0x26ebc9[_0x10de('0x222')]['y']+=0x1,self[_0x10de('0x967')][_0x10de('0x84')](_0x27efb0)),(0x0,_0x1e0a49[_0x10de('0x2f1')])(_0x26ebc9['material'][_0x5c14d2['userData'][_0x10de('0x32a')]],_0x1f509e);break;}}}catch(_0x3a1f5a){_0x261d1f=!0x0,_0x212f25=_0x3a1f5a;}finally{try{!_0x573a20&&_0x3768f5[_0x10de('0xdf')]&&_0x3768f5['return']();}finally{if(_0x261d1f)throw _0x212f25;}}}}catch(_0x4355b4){_0x407147=!0x0,_0x2bcfa7=_0x4355b4;}finally{try{!_0x41395b&&_0x291b61['return']&&_0x291b61[_0x10de('0xdf')]();}finally{if(_0x407147)throw _0x2bcfa7;}}}),_0x3698be[_0x10de('0x5a3')]=_0x41395b,_0x3698be[_0x10de('0x982')]=_0x1f509e,this[_0x10de('0x895')][_0x10de('0x84')](_0x3698be);}},{'key':_0x10de('0x896'),'value':function(_0x41395b,_0x407147,_0x2bcfa7){var _0x41395b=(0x0,_0x252eec[_0x10de('0x2e')])(_0x41395b)[_0x10de('0x4d5')](_0x2bcfa7||0x1)['getLayersByTypes']([esmap[_0x10de('0x4c2')]['MODEL'],esmap[_0x10de('0x4c2')]['MODEL_BASE']]),_0x15d93f=!0x0,_0x2bcfa7=!0x1,_0x291b61=void 0x0;try{for(var _0x5e12a6,_0x573a20=(0x0,_0x2858aa[_0x10de('0x9')])(_0x41395b);!(_0x15d93f=(_0x5e12a6=_0x573a20[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x15d93f=!0x0){var _0x261d1f=_0x5e12a6['value'],_0x2b10af=!0x0,_0x3a1d6f=!0x1,_0x3f41a4=void 0x0;try{for(var _0x33153c,_0x2fbc05=(0x0,_0x2858aa[_0x10de('0x9')])(_0x261d1f[_0x10de('0x4d4')]['children']);!(_0x2b10af=(_0x33153c=_0x2fbc05['next']())[_0x10de('0x32b')]);_0x2b10af=!0x0){var _0x17f94f=_0x33153c[_0x10de('0x10')];if((0x0,_0x252eec[_0x10de('0x2c')])(_0x17f94f,_0x407147[_0x10de('0x5a3')])&&0x0<_0x17f94f[_0x10de('0x3e')]['brothers']['length']){_0x407147[_0x10de('0x592')](_0x17f94f);break;}}}catch(_0x79639){_0x3a1d6f=!0x0,_0x3f41a4=_0x79639;}finally{try{!_0x2b10af&&_0x2fbc05[_0x10de('0xdf')]&&_0x2fbc05['return']();}finally{if(_0x3a1d6f)throw _0x3f41a4;}}}}catch(_0x118c8b){_0x2bcfa7=!0x0,_0x291b61=_0x118c8b;}finally{try{!_0x15d93f&&_0x573a20[_0x10de('0xdf')]&&_0x573a20['return']();}finally{if(_0x2bcfa7)throw _0x291b61;}}}},{'key':_0x10de('0x983'),'value':function(_0x41395b){for(var _0x407147 in this['map'][_0x10de('0x3c')][_0x10de('0x984')])0x0===this[_0x10de('0x8d2')]['length']?this[_0x10de('0x985')](_0x41395b,0x0):this[_0x10de('0x8d2')][this[_0x10de('0xcf')][_0x10de('0x3c')][_0x10de('0x984')][_0x407147][_0x10de('0x986')]]||this[_0x10de('0x985')](_0x41395b,this[_0x10de('0xcf')]['mapTheme'][_0x10de('0x984')][_0x407147][_0x10de('0x986')]);}},{'key':'createTileBuildingsEffect','value':function(_0x41395b,_0x407147){_0x41395b[_0x10de('0x88f')]&&this[_0x10de('0x97c')](_0x41395b),_0x41395b['id']=_0x407147;var _0x407147=this['setBuildingsTheme'](_0x41395b,this[_0x10de('0xcf')]['mapView'],!0x0),_0x2bcfa7=(_0x407147[_0x10de('0x3d')]=this['map'][_0x10de('0x3c')][_0x10de('0x984')],_0x407147[_0x10de('0x58e')]=this[_0x10de('0xcf')][_0x10de('0x3c')][_0x10de('0x987')],_0x407147[_0x10de('0x88b')]=_0x41395b[_0x10de('0x88b')],_0x407147[_0x10de('0x597')]=this[_0x10de('0x988')](),_0x407147['getMaterial']());(0x0,_0x1e0a49[_0x10de('0x2f1')])(_0x2bcfa7,_0x41395b),_0x41395b[_0x10de('0x989')]&&(_0x407147[_0x10de('0x989')]=_0x41395b[_0x10de('0x989')]),_0x407147[_0x10de('0x5a3')]=_0x41395b[_0x10de('0x5a3')],this[_0x10de('0x8b5')]=_0x41395b[_0x10de('0x87e')],this['tileBuilidngThemes']['push'](_0x407147);}},{'key':_0x10de('0x8d3'),'value':function(_0x41395b){if(0x3e8<_0x41395b['id']){for(var _0x407147 in this['map'][_0x10de('0x3c')][_0x10de('0x984')])if(this[_0x10de('0xcf')]['mapTheme']['tileStyles'][_0x407147]['prodMatIdx']===_0x41395b['id']){this['map'][_0x10de('0x3c')]['modelBasicMat'][_0x41395b['id']]=this[_0x10de('0xcf')][_0x10de('0x3c')][_0x10de('0x984')][_0x407147]['material'];break;}}else{var _0x2bcfa7=_0x41395b[_0x10de('0x5d8')]();_0x2bcfa7&&(this[_0x10de('0xcf')]['mapTheme']['modelBasicMat'][_0x41395b['id']]=_0x2bcfa7);}}},{'key':_0x10de('0x8d6'),'value':function(_0x41395b,_0x407147){var _0x2bcfa7=this,_0x15d93f=this[_0x10de('0xcf')][_0x10de('0x98a')](_0x41395b)[_0x10de('0x98b')]([esmap[_0x10de('0x4c2')][_0x10de('0x97d')],esmap[_0x10de('0x4c2')]['MODEL_BASE']]);_0x407147[_0x10de('0x40d')]?this[_0x10de('0x98c')](_0x15d93f,_0x407147):_0x407147[_0x10de('0x2d6')](_0x10de('0x5d6'),function(){_0x2bcfa7[_0x10de('0x98c')](_0x15d93f,_0x407147);});}},{'key':_0x10de('0x98c'),'value':function(_0x41395b,_0x407147){var _0x2bcfa7=!0x0,_0x15d93f=!0x1,_0x291b61=void 0x0;try{for(var _0x5e12a6,_0x573a20=(0x0,_0x2858aa['default'])(_0x41395b);!(_0x2bcfa7=(_0x5e12a6=_0x573a20['next']())[_0x10de('0x32b')]);_0x2bcfa7=!0x0){var _0x261d1f=_0x5e12a6[_0x10de('0x10')],_0x3d0fb7=!0x0,_0x1ec3bc=!0x1,_0x282c30=void 0x0;try{for(var _0xe25363,_0x11577f=(0x0,_0x2858aa[_0x10de('0x9')])(_0x261d1f[_0x10de('0x4d4')][_0x10de('0x351')]);!(_0x3d0fb7=(_0xe25363=_0x11577f['next']())[_0x10de('0x32b')]);_0x3d0fb7=!0x0){var _0x1741ca=_0xe25363[_0x10de('0x10')];0x0<_0x1741ca[_0x10de('0x3e')][_0x10de('0x593')]['length']&&(_0x407147[_0x10de('0x592')](_0x1741ca),_0x407147[_0x10de('0x989')]&&(_0x1741ca['renderOrder']=_0x407147[_0x10de('0x989')]),this[_0x10de('0x8b5')]&&(_0x1741ca['castShadow']=!0x0,_0x1741ca[_0x10de('0x707')]=!0x0));}}catch(_0x4de2be){_0x1ec3bc=!0x0,_0x282c30=_0x4de2be;}finally{try{!_0x3d0fb7&&_0x11577f['return']&&_0x11577f['return']();}finally{if(_0x1ec3bc)throw _0x282c30;}}}}catch(_0x54226e){_0x15d93f=!0x0,_0x291b61=_0x54226e;}finally{try{!_0x2bcfa7&&_0x573a20[_0x10de('0xdf')]&&_0x573a20[_0x10de('0xdf')]();}finally{if(_0x15d93f)throw _0x291b61;}}}},{'key':_0x10de('0x988'),'value':function(){for(var _0x41395b={},_0x407147=0x0,_0x2bcfa7=this[_0x10de('0xcf')][_0x10de('0x3c')]['maptheme'][_0x10de('0x33')],_0x15d93f=0x0;_0x15d93f<_0x2bcfa7['length'];_0x15d93f++){var _0x291b61,_0x5e12a6=_0x2bcfa7[_0x15d93f];0x2==+_0x5e12a6[_0x10de('0x594')]&&0x1!=+_0x5e12a6[_0x10de('0x716')]&&(_0x41395b[_0x407147]||(_0x41395b[_0x407147]={'topImgIndexMap':{},'sideImgIndexMap':{}}),_0x5e12a6['topimage']&&!_0x41395b[_0x407147][_0x10de('0x598')][_0x5e12a6[_0x10de('0x98d')]]&&(_0x291b61=(0x0,_0x573a20['default'])(_0x41395b[_0x407147][_0x10de('0x598')])[_0x10de('0xe')]+0x1,_0x41395b[_0x407147][_0x10de('0x598')][_0x291b61]=_0x5e12a6[_0x10de('0x98d')]),_0x5e12a6['sideimage']&&!_0x41395b[_0x407147][_0x10de('0x59d')][_0x5e12a6[_0x10de('0x98e')]]&&(_0x291b61=(0x0,_0x573a20[_0x10de('0x9')])(_0x41395b[_0x407147][_0x10de('0x59d')])[_0x10de('0xe')]+0x1,_0x41395b[_0x407147]['sideImgIndexMap'][_0x291b61]=_0x5e12a6[_0x10de('0x98e')],0x4<=_0x291b61&&(_0x41395b[++_0x407147]={'topImgIndexMap':{},'sideImgIndexMap':{}})));}return _0x41395b;}},{'key':_0x10de('0x97c'),'value':function(_0x41395b){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa[_0x10de('0x9')])(_0x41395b[_0x10de('0x98f')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x407147=!0x0){var _0x573a20=_0x291b61[_0x10de('0x10')],_0x261d1f=null,_0x55b820=!0x0,_0x4bc298=!0x1,_0x964a26=void 0x0;try{for(var _0x5d52e1,_0x341a99=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x898')]);!(_0x55b820=(_0x5d52e1=_0x341a99[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x55b820=!0x0){var _0x37286a=_0x5d52e1[_0x10de('0x10')];if(_0x37286a[_0x10de('0x85')]===_0x573a20){_0x261d1f=_0x37286a;break;}}}catch(_0x196373){_0x4bc298=!0x0,_0x964a26=_0x196373;}finally{try{!_0x55b820&&_0x341a99[_0x10de('0xdf')]&&_0x341a99[_0x10de('0xdf')]();}finally{if(_0x4bc298)throw _0x964a26;}}switch(_0x573a20){case'horizon_scan':_0x41395b[_0x10de('0x57d')]=!0x0,_0x41395b['lineScanCenter']=_0x261d1f['lineScanCenter'],_0x41395b[_0x10de('0x96f')]=_0x261d1f['scanColor'],_0x41395b[_0x10de('0x970')]=_0x261d1f[_0x10de('0x990')],_0x41395b['horizonScanDiffuse']=_0x261d1f['scanDiffuse'],_0x41395b[_0x10de('0x972')]=_0x261d1f[_0x10de('0x991')],_0x41395b[_0x10de('0x973')]=_0x261d1f['scanSpeed'],this[_0x10de('0x968')][_0x10de('0x992')]=!0x0;break;case'vertical_scan':_0x41395b[_0x10de('0x55e')]=!0x0,_0x41395b[_0x10de('0x974')]=_0x261d1f['scanHeight'],_0x41395b[_0x10de('0x975')]=_0x261d1f[_0x10de('0x993')],_0x41395b[_0x10de('0x976')]=_0x261d1f['scanExtent'],_0x41395b[_0x10de('0x977')]=_0x261d1f[_0x10de('0x994')],this['isCanUseScanStatus'][_0x10de('0x995')]=!0x0;break;case _0x10de('0x996'):_0x41395b[_0x10de('0x55f')]=!0x0,_0x41395b['centerSpreadCenterPos']=(0x0,_0x252eec[_0x10de('0x32')])(_0x261d1f[_0x10de('0x997')]['x'],_0x261d1f['scanCenter']['y']),_0x41395b['centerSpreadColor']=_0x261d1f['scanColor'],_0x41395b[_0x10de('0x998')]=_0x261d1f[_0x10de('0x999')],_0x41395b[_0x10de('0x979')]=_0x261d1f[_0x10de('0x994')],this['isCanUseScanStatus'][_0x10de('0x99a')]=!0x0;break;case _0x10de('0x91b'):_0x41395b[_0x10de('0x560')]=!0x0,_0x41395b[_0x10de('0x97b')]=(0x0,_0x252eec[_0x10de('0x32')])(_0x261d1f[_0x10de('0x997')]['x'],_0x261d1f['scanCenter']['y']),_0x41395b['radarScanRadius']=_0x261d1f['scanRadius'],_0x41395b[_0x10de('0x97a')]=_0x261d1f[_0x10de('0x993')],_0x41395b[_0x10de('0x99b')]=(0x0,_0x252eec[_0x10de('0x29')])(_0x261d1f[_0x10de('0x99c')]),this[_0x10de('0x968')][_0x10de('0x99d')]=!0x0;}}}catch(_0x117c8b){_0x2bcfa7=!0x0,_0x15d93f=_0x117c8b;}finally{try{!_0x407147&&_0x5e12a6[_0x10de('0xdf')]&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}},{'key':_0x10de('0x915'),'value':function(_0x41395b){if(0x0<this['tileBuilidngThemes'][_0x10de('0xe')]&&_0x41395b){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x8d2')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())['done']);_0x407147=!0x0)_0x291b61[_0x10de('0x10')]['shader']['uniforms'][_0x10de('0x574')]['value']['setStyle'](_0x41395b);}catch(_0x518614){_0x2bcfa7=!0x0,_0x15d93f=_0x518614;}finally{try{!_0x407147&&_0x5e12a6[_0x10de('0xdf')]&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':'updateTileBuildingAlpha','value':function(_0x41395b){if(0x0<this['tileBuilidngThemes'][_0x10de('0xe')]){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa[_0x10de('0x9')])(this['tileBuilidngThemes']);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x407147=!0x0){var _0x573a20=_0x291b61[_0x10de('0x10')];_0x573a20[_0x10de('0x40')][_0x10de('0x41')][_0x10de('0x99e')]||(_0x573a20['material'][_0x10de('0x41')][_0x10de('0x99e')]=_0x573a20[_0x10de('0x40')][_0x10de('0x233')]),_0x573a20['material'][_0x10de('0x233')]=!0x1===_0x41395b?_0x573a20[_0x10de('0x40')][_0x10de('0x41')][_0x10de('0x99e')]:_0x573a20[_0x10de('0x40')][_0x10de('0x233')]=_0x41395b;}}catch(_0x1286d1){_0x2bcfa7=!0x0,_0x15d93f=_0x1286d1;}finally{try{!_0x407147&&_0x5e12a6[_0x10de('0xdf')]&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':_0x10de('0x91e'),'value':function(_0x41395b){if(0x0<this[_0x10de('0x8d2')][_0x10de('0xe')]){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa['default'])(this[_0x10de('0x8d2')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())['done']);_0x407147=!0x0)_0x291b61[_0x10de('0x10')]['shader'][_0x10de('0x1b4')]['extentLightDown'][_0x10de('0x10')]=_0x41395b;}catch(_0x3c9a01){_0x2bcfa7=!0x0,_0x15d93f=_0x3c9a01;}finally{try{!_0x407147&&_0x5e12a6[_0x10de('0xdf')]&&_0x5e12a6['return']();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':'updateTileBuildingHorizonScan','value':function(_0x41395b){if(0x0<this['tileBuilidngThemes'][_0x10de('0xe')]&&this[_0x10de('0x968')][_0x10de('0x992')]){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x8d2')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())['done']);_0x407147=!0x0){var _0x573a20,_0x261d1f=_0x291b61[_0x10de('0x10')];_0x261d1f['shader'][_0x10de('0x1b4')][_0x10de('0x5b9')][_0x10de('0x10')]=!0x0,_0x41395b[_0x10de('0x991')]&&(_0x261d1f[_0x10de('0x564')]=_0x41395b[_0x10de('0x991')],_0x261d1f['hlTime']=_0x261d1f['hlExtent'][0x0],_0x261d1f['shader'][_0x10de('0x1b4')][_0x10de('0x5ba')][_0x10de('0x10')]=_0x261d1f[_0x10de('0x564')][0x0]),_0x41395b['scanSpeed']&&(_0x261d1f[_0x10de('0x565')]=_0x41395b['scanSpeed']),_0x41395b[_0x10de('0x993')]&&_0x261d1f['hlColor'][_0x10de('0x331')](_0x41395b[_0x10de('0x993')]),_0x41395b[_0x10de('0x990')]&&(_0x261d1f['shader'][_0x10de('0x1b4')][_0x10de('0x563')][_0x10de('0x10')]=_0x41395b[_0x10de('0x990')]),_0x41395b[_0x10de('0x969')]&&(_0x573a20=(0x0,_0x252eec[_0x10de('0x32')])(_0x41395b['lineScanCenter']['x'],_0x41395b[_0x10de('0x969')]['y']),_0x261d1f['shader']['uniforms'][_0x10de('0x561')][_0x10de('0x10')]['set'](_0x573a20['x'],_0x573a20['y']));}}catch(_0x4aabf9){_0x2bcfa7=!0x0,_0x15d93f=_0x4aabf9;}finally{try{!_0x407147&&_0x5e12a6['return']&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':'updateTileBuildingCenterSpreadScan','value':function(_0x41395b){if(0x0<this[_0x10de('0x8d2')]['length']&&this[_0x10de('0x968')][_0x10de('0x99a')]){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa['default'])(this[_0x10de('0x8d2')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x407147=!0x0){var _0x573a20,_0x261d1f=_0x291b61[_0x10de('0x10')];_0x261d1f[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x57c')][_0x10de('0x10')]=0x0,_0x261d1f['shader'][_0x10de('0x1b4')][_0x10de('0x5b9')][_0x10de('0x10')]=!0x0,_0x41395b[_0x10de('0x994')]&&(_0x261d1f['csSpeed']=_0x41395b['scanSpeed']),_0x41395b[_0x10de('0x993')]&&_0x261d1f[_0x10de('0x584')][_0x10de('0x331')](_0x41395b[_0x10de('0x993')]),_0x41395b[_0x10de('0x999')]&&(_0x261d1f[_0x10de('0x56a')]=_0x41395b[_0x10de('0x999')]),_0x41395b[_0x10de('0x438')]&&(_0x261d1f[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x569')][_0x10de('0x10')]=0x3e8*_0x41395b[_0x10de('0x438')]),_0x41395b[_0x10de('0x997')]&&(_0x573a20=(0x0,_0x252eec[_0x10de('0x32')])(_0x41395b[_0x10de('0x997')]['x'],_0x41395b[_0x10de('0x997')]['y']),_0x261d1f[_0x10de('0x40d')][_0x10de('0x1b4')]['csCenterPos'][_0x10de('0x10')][_0x10de('0x1e')](_0x573a20['x'],_0x573a20['y'])),_0x261d1f[_0x10de('0x57c')]=0x0;}}catch(_0x34e38f){_0x2bcfa7=!0x0,_0x15d93f=_0x34e38f;}finally{try{!_0x407147&&_0x5e12a6[_0x10de('0xdf')]&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':'updateTileBuildingRadarScan','value':function(_0x41395b){if(0x0<this['tileBuilidngThemes'][_0x10de('0xe')]&&this[_0x10de('0x968')][_0x10de('0x99d')]){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x8d2')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x407147=!0x0){var _0x573a20,_0x261d1f=_0x291b61['value'];_0x261d1f['shader']['uniforms']['rdTime']['value']=0x0,_0x261d1f[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x5b9')][_0x10de('0x10')]=!0x0,_0x41395b[_0x10de('0x994')]&&(_0x261d1f[_0x10de('0x586')]=_0x41395b[_0x10de('0x994')]),_0x41395b['scanColor']&&_0x261d1f[_0x10de('0x585')][_0x10de('0x331')](_0x41395b[_0x10de('0x993')]),_0x41395b[_0x10de('0x99f')]&&(_0x261d1f['shader']['uniforms']['rdRadius'][_0x10de('0x10')]=_0x41395b[_0x10de('0x99f')]),_0x41395b[_0x10de('0x997')]&&(_0x573a20=(0x0,_0x252eec[_0x10de('0x32')])(_0x41395b[_0x10de('0x997')]['x'],_0x41395b['scanCenter']['y']),_0x261d1f['shader'][_0x10de('0x1b4')][_0x10de('0x5bc')][_0x10de('0x10')]['set'](_0x573a20['x'],_0x573a20['y'])),_0x261d1f['rdTime']=0x0;}}catch(_0xf86db6){_0x2bcfa7=!0x0,_0x15d93f=_0xf86db6;}finally{try{!_0x407147&&_0x5e12a6[_0x10de('0xdf')]&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':_0x10de('0x9a0'),'value':function(_0x41395b,_0x407147){if(_0x10de('0x9a1')===_0x41395b&&0x0<this[_0x10de('0x8d2')][_0x10de('0xe')]&&this[_0x10de('0x968')]['horizonScan']){var _0x2bcfa7=!0x0,_0x15d93f=!0x1,_0x291b61=void 0x0;try{for(var _0x5e12a6,_0x573a20=(0x0,_0x2858aa['default'])(this[_0x10de('0x8d2')]);!(_0x2bcfa7=(_0x5e12a6=_0x573a20[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2bcfa7=!0x0){var _0x261d1f=_0x5e12a6[_0x10de('0x10')];_0x261d1f['shader'][_0x10de('0x1b4')][_0x10de('0x5ba')][_0x10de('0x10')]=0x0,_0x261d1f['hlTime']=0x0,_0x261d1f[_0x10de('0x40d')][_0x10de('0x1b4')]['isShowScan'][_0x10de('0x10')]=_0x407147;}}catch(_0x296cc0){_0x15d93f=!0x0,_0x291b61=_0x296cc0;}finally{try{!_0x2bcfa7&&_0x573a20['return']&&_0x573a20['return']();}finally{if(_0x15d93f)throw _0x291b61;}}}if(_0x10de('0x996')===_0x41395b&&0x0<this['tileBuilidngThemes'][_0x10de('0xe')]&&this[_0x10de('0x968')][_0x10de('0x99a')]){var _0x253a6c=!0x0,_0x15d93f=!0x1,_0x291b61=void 0x0;try{for(var _0x273247,_0x4346e6=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x8d2')]);!(_0x253a6c=(_0x273247=_0x4346e6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x253a6c=!0x0){var _0x5da534=_0x273247[_0x10de('0x10')];_0x5da534[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x57c')][_0x10de('0x10')]=0x0,_0x5da534[_0x10de('0x57c')]=0x0,_0x5da534[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x5b9')][_0x10de('0x10')]=_0x407147;}}catch(_0x45db79){_0x15d93f=!0x0,_0x291b61=_0x45db79;}finally{try{!_0x253a6c&&_0x4346e6[_0x10de('0xdf')]&&_0x4346e6[_0x10de('0xdf')]();}finally{if(_0x15d93f)throw _0x291b61;}}}if(_0x10de('0x91b')===_0x41395b&&0x0<this[_0x10de('0x8d2')]['length']&&this[_0x10de('0x968')][_0x10de('0x99d')]){var _0x57d30a=!0x0,_0x15d93f=!0x1,_0x291b61=void 0x0;try{for(var _0x300143,_0x3c72f7=(0x0,_0x2858aa['default'])(this['tileBuilidngThemes']);!(_0x57d30a=(_0x300143=_0x3c72f7[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x57d30a=!0x0){var _0x60e7a9=_0x300143[_0x10de('0x10')];_0x60e7a9[_0x10de('0x40d')][_0x10de('0x1b4')]['rdTime'][_0x10de('0x10')]=0x0,_0x60e7a9['rdTime']=0x0,_0x60e7a9[_0x10de('0x40d')][_0x10de('0x1b4')][_0x10de('0x5b9')]['value']=_0x407147;}}catch(_0xe0639){_0x15d93f=!0x0,_0x291b61=_0xe0639;}finally{try{!_0x57d30a&&_0x3c72f7['return']&&_0x3c72f7[_0x10de('0xdf')]();}finally{if(_0x15d93f)throw _0x291b61;}}}}},{'key':_0x10de('0x9a2'),'value':function(_0x41395b){if(0x0<this[_0x10de('0x8d2')][_0x10de('0xe')]){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x8d2')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x407147=!0x0){var _0x573a20,_0x261d1f=_0x291b61[_0x10de('0x10')];_0x261d1f[_0x10de('0x589')]&&(_0x41395b[_0x10de('0x9a3')]?(_0x573a20=(0x0,_0x252eec[_0x10de('0x32')])(_0x41395b[_0x10de('0x23f')]['x'],_0x41395b[_0x10de('0x23f')]['y']),_0x261d1f['shader']['uniforms'][_0x10de('0x58a')][_0x10de('0x10')][_0x10de('0x1e')](_0x573a20['x'],_0x573a20['y']),_0x261d1f[_0x10de('0x5db')](0x0,_0x41395b['radius'])):_0x261d1f[_0x10de('0x5db')](_0x41395b[_0x10de('0x230')],0x0));}}catch(_0x571d9d){_0x2bcfa7=!0x0,_0x15d93f=_0x571d9d;}finally{try{!_0x407147&&_0x5e12a6[_0x10de('0xdf')]&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':_0x10de('0x91d'),'value':function(_0x41395b){if(0x0<this[_0x10de('0x8d2')]['length']){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x8d2')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x407147=!0x0){var _0x573a20=_0x291b61[_0x10de('0x10')];_0x41395b?_0x573a20[_0x10de('0x5da')](_0x573a20[_0x10de('0x58f')],0x1):_0x573a20[_0x10de('0x5da')](_0x573a20[_0x10de('0x58f')],0.1);}}catch(_0x1fc8fa){_0x2bcfa7=!0x0,_0x15d93f=_0x1fc8fa;}finally{try{!_0x407147&&_0x5e12a6['return']&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':_0x10de('0x908'),'value':function(_0x41395b){if(0x0<this[_0x10de('0x8d2')][_0x10de('0xe')]){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x8d2')]);!(_0x407147=(_0x291b61=_0x5e12a6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x407147=!0x0){var _0x573a20=_0x291b61[_0x10de('0x10')];_0x573a20[_0x10de('0x88b')]&&(_0x573a20[_0x10de('0x40')]['envMap']=_0x41395b,_0x573a20[_0x10de('0x40')][_0x10de('0x9a4')]=_0x573a20[_0x10de('0x88b')][_0x10de('0x479')]||0x1,_0x573a20[_0x10de('0x40')][_0x10de('0x10c')]=!0x0);}}catch(_0x4ecd0e){_0x2bcfa7=!0x0,_0x15d93f=_0x4ecd0e;}finally{try{!_0x407147&&_0x5e12a6['return']&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}},{'key':'update','value':function(_0x41395b){}},{'key':_0x10de('0xce'),'value':function(_0x41395b){for(var _0x407147=-0x1,_0x2bcfa7=0x0,_0x15d93f=this[_0x10de('0x895')]['length'];_0x2bcfa7<_0x15d93f;_0x2bcfa7++)if(this['buildingsThemes'][_0x2bcfa7]['roomStyle']===_0x41395b){this[_0x10de('0x895')][_0x2bcfa7][_0x10de('0xce')](),_0x407147=_0x2bcfa7;break;}-0x1<_0x407147&&this['buildingsThemes'][_0x10de('0xf3')](_0x407147,0x1);}},{'key':_0x10de('0x4a1'),'value':function(){for(var _0x41395b=0x0,_0x407147=this[_0x10de('0x895')][_0x10de('0xe')];_0x41395b<_0x407147;_0x41395b++)this[_0x10de('0x895')][_0x41395b][_0x10de('0xce')](),this[_0x10de('0x895')][_0x41395b]=null;for(var _0x2bcfa7=0x0,_0x15d93f=this[_0x10de('0x967')]['length'];_0x2bcfa7<_0x15d93f;_0x2bcfa7++)this[_0x10de('0x967')][_0x2bcfa7]['dispose'](),this[_0x10de('0x967')][_0x2bcfa7]=null;this[_0x10de('0x895')][_0x10de('0xe')]=0x0,this[_0x10de('0x967')][_0x10de('0xe')]=0x0;}},{'key':_0x10de('0x362'),'value':function(_0x41395b){if(0x0<this[_0x10de('0x895')]['length']){var _0x407147=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x291b61,_0x5e12a6=(0x0,_0x2858aa['default'])(this[_0x10de('0x895')]);!(_0x407147=(_0x291b61=_0x5e12a6['next']())[_0x10de('0x32b')]);_0x407147=!0x0){var _0x573a20=_0x291b61[_0x10de('0x10')];(0x0,_0x252eec['clearShaderCode'])(_0x573a20['shader']),_0x573a20[_0x10de('0x362')](_0x41395b);}}catch(_0x532646){_0x2bcfa7=!0x0,_0x15d93f=_0x532646;}finally{try{!_0x407147&&_0x5e12a6[_0x10de('0xdf')]&&_0x5e12a6[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}if(0x0<this[_0x10de('0x8d2')][_0x10de('0xe')]){var _0x261d1f=!0x0,_0x2bcfa7=!0x1,_0x15d93f=void 0x0;try{for(var _0x29d132,_0x48df17=(0x0,_0x2858aa[_0x10de('0x9')])(this[_0x10de('0x8d2')]);!(_0x261d1f=(_0x29d132=_0x48df17[_0x10de('0x88')]())['done']);_0x261d1f=!0x0){var _0x517960=_0x29d132[_0x10de('0x10')];(0x0,_0x252eec[_0x10de('0x58')])(_0x517960[_0x10de('0x40d')]),_0x517960[_0x10de('0x362')](_0x41395b);}}catch(_0x46cd96){_0x2bcfa7=!0x0,_0x15d93f=_0x46cd96;}finally{try{!_0x261d1f&&_0x48df17[_0x10de('0xdf')]&&_0x48df17[_0x10de('0xdf')]();}finally{if(_0x2bcfa7)throw _0x15d93f;}}}}}]),_0x407147[_0x10de('0x9')]=_0x261d1f;},function(_0x90e5a3,_0xb46e5d,_0x351bc2){'use strict';Object[_0x10de('0x2')](_0xb46e5d,'__esModule',{'value':!0x0});var _0x38fc15=_0x3e61cb(_0x351bc2(0x5)),_0x539972=_0x3e61cb(_0x351bc2(0x0)),_0x5265d6=_0x3e61cb(_0x351bc2(0x1)),_0x4f14e3=_0x351bc2(0x13),_0x441f32=function(_0x90e5a3){if(_0x90e5a3&&_0x90e5a3['__esModule'])return _0x90e5a3;var _0xb46e5d={};if(null!=_0x90e5a3)for(var _0x351bc2 in _0x90e5a3)Object[_0x10de('0xa')][_0x10de('0xb')]['call'](_0x90e5a3,_0x351bc2)&&(_0xb46e5d[_0x351bc2]=_0x90e5a3[_0x351bc2]);return _0xb46e5d['default']=_0x90e5a3,_0xb46e5d;}(_0x351bc2(0x36)),_0x3610f2=_0x351bc2(0x73);function _0x3e61cb(_0x90e5a3){return _0x90e5a3&&_0x90e5a3[_0x10de('0x5')]?_0x90e5a3:{'default':_0x90e5a3};}function _0x1c69b5(){(0x0,_0x539972[_0x10de('0x9')])(this,_0x1c69b5),this[_0x10de('0xcf')]=(0x0,_0x4f14e3[_0x10de('0x3b')])(),this[_0x10de('0x9a5')]=[],this[_0x10de('0x9a6')]=[],this[_0x10de('0x91f')]=null,this[_0x10de('0x920')]={},this[_0x10de('0x9a7')]={};}(0x0,_0x5265d6['default'])(_0x1c69b5,[{'key':_0x10de('0x9a8'),'value':function(_0x513e9c){var _0x90e5a3=!0x0,_0xb46e5d=!0x1,_0x351bc2=void 0x0;try{for(var _0x539972,_0x5265d6=(0x0,_0x38fc15[_0x10de('0x9')])(_0x513e9c);!(_0x90e5a3=(_0x539972=_0x5265d6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x90e5a3=!0x0){var _0x3e61cb=_0x539972[_0x10de('0x10')],_0x1c69b5=(0x0,_0x4f14e3[_0x10de('0x2e')])(0x0)['getFloor'](_0x3e61cb[_0x10de('0x9a9')]||0x1);if(_0x1c69b5){var _0x3d5e3a,_0x56d631,_0x200cd2,_0x33785c,_0x16c517,_0x401c29,_0x3125f6,_0x2aa613,_0x5563e1,_0xc3bf67,_0x322259,_0x888903,_0x40b254=_0x1c69b5[_0x10de('0x98b')]([esmap[_0x10de('0x4c2')]['FLOOR_BASE']]);if(_0x10de('0x71c')===_0x3e61cb[_0x10de('0x9aa')]&&(_0x3d5e3a=_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x351')][0x0][_0x10de('0x40')][0x0],_0x56d631=new THREE[(_0x10de('0x5ac'))]({'color':_0x3d5e3a[_0x10de('0x232')]}),(0x0,_0x3610f2[_0x10de('0x2f1')])(_0x56d631,_0x3e61cb),_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x351')][0x0][_0x10de('0x40')][0x0]=_0x56d631,this['floorsMesh']['push'](_0x40b254[0x0][_0x10de('0x4d4')]['children'][0x0])),'points_spread'===_0x3e61cb['effectType']&&_0x3e61cb[_0x10de('0x9ab')]){var _0x473a55=_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x351')][0x0];if(Array['isArray'](_0x473a55[_0x10de('0x40')])){var _0x2e7501=!0x0,_0x52d46f=!0x1,_0x4e338d=void 0x0;try{for(var _0x3cbe75,_0x1cddb3=(0x0,_0x38fc15[_0x10de('0x9')])(_0x473a55['material']);!(_0x2e7501=(_0x3cbe75=_0x1cddb3[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2e7501=!0x0)_0x3cbe75['value'][_0x10de('0xce')]();}catch(_0x3a043c){_0x52d46f=!0x0,_0x4e338d=_0x3a043c;}finally{try{!_0x2e7501&&_0x1cddb3['return']&&_0x1cddb3[_0x10de('0xdf')]();}finally{if(_0x52d46f)throw _0x4e338d;}}}else _0x473a55[_0x10de('0x40')][_0x10de('0xce')]();_0x473a55[_0x10de('0xd0')]['dispose']();var _0x2fbdb8=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')]((0x0,_0x4f14e3['getConfigAssetsPath'])(_0x3e61cb['effectConfigs'][_0x10de('0x8a7')])),_0x384fee=(_0x2fbdb8['anisotropy']=this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')]['capabilities'][_0x10de('0x4f8')](),new _0x441f32[(_0x10de('0xa0'))]({'speed':_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x363')]})),_0xcdef5c=(_0x473a55[_0x10de('0xd0')]=new THREE[(_0x10de('0x418'))](_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x230')],_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x230')]),_0x473a55[_0x10de('0x40')]=_0x384fee['createMaterial']({'texture':_0x2fbdb8,'repeat':_0x3e61cb['effectConfigs'][_0x10de('0x2eb')],'colorStr':_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x232')]}),_0x473a55[_0x10de('0x1fd')]['x']=0.5*-Math['PI'],_0x3e61cb[_0x10de('0x4f5')]?_0x473a55['position']['y']+ +_0x3e61cb[_0x10de('0x4f5')]:_0x473a55[_0x10de('0x222')]['y']);_0x473a55['position']['y']=_0xcdef5c,_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x23f')]&&(0x0,_0x4f14e3[_0x10de('0x2f')])(_0x473a55,_0x3e61cb['effectConfigs'][_0x10de('0x23f')],_0xcdef5c),this[_0x10de('0x9a6')]['push'](_0x384fee);}if(_0x3e61cb[_0x10de('0x232')]&&_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x351')][0x0][_0x10de('0x40')][0x0][_0x10de('0x232')][_0x10de('0x331')](_0x3e61cb[_0x10de('0x232')]),_0x3e61cb['alphaTransitionImg']&&(_0x200cd2=_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x351')][0x0][_0x10de('0x40')][0x0],(_0x33785c=new THREE['TextureLoader']()['load']((0x0,_0x4f14e3['getConfigAssetsPath'])(_0x3e61cb[_0x10de('0x9ac')])))[_0x10de('0x41e')]=THREE[_0x10de('0x5a1')],_0x33785c['wrapS']=THREE['ClampToEdgeWrapping'],_0x16c517=_0x3e61cb['alphaTransitionRadius']||0x2710,_0x401c29=new THREE[(_0x10de('0x418'))](_0x16c517,_0x16c517),_0x200cd2['transparent']=!0x0,_0x200cd2['alphaMap']=_0x33785c,_0x200cd2[_0x10de('0x10c')]=!0x0,(_0x3125f6=new THREE['Mesh'](_0x401c29,_0x200cd2))[_0x10de('0x1fd')]['x']=0.5*-Math['PI'],_0x3125f6[_0x10de('0x222')]['y']=_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x351')][0x0][_0x10de('0x222')]['y']-0.5,_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x1d5')](_0x3125f6)),_0x10de('0x9ad')===_0x3e61cb[_0x10de('0x9aa')]&&_0x3e61cb[_0x10de('0x9ab')]){var _0x4fc066=null;if(_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x9ae')])(_0x4fc066=0x0===_0x40b254[_0x10de('0xe')]?new THREE[(_0x10de('0x348'))](new THREE[(_0x10de('0x418'))](0x1,0x1),new THREE[(_0x10de('0x40e'))]()):_0x40b254[0x0][_0x10de('0x4d4')]['children'][0x0][_0x10de('0x1c5')]())[_0x10de('0x8c')]=_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x9af')],this[_0x10de('0x920')][_0x3e61cb[_0x10de('0x9ab')]['controlId']]=_0x4fc066;else{if(_0x4fc066=_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x351')][0x0],Array[_0x10de('0x1be')](_0x4fc066[_0x10de('0x40')])){var _0x2d09f5=!0x0,_0x322912=!0x1,_0x3fe86b=void 0x0;try{for(var _0x44110d,_0x3fdad0=(0x0,_0x38fc15[_0x10de('0x9')])(_0x4fc066[_0x10de('0x40')]);!(_0x2d09f5=(_0x44110d=_0x3fdad0[_0x10de('0x88')]())['done']);_0x2d09f5=!0x0)_0x44110d[_0x10de('0x10')][_0x10de('0xce')]();}catch(_0x340222){_0x322912=!0x0,_0x3fe86b=_0x340222;}finally{try{!_0x2d09f5&&_0x3fdad0[_0x10de('0xdf')]&&_0x3fdad0['return']();}finally{if(_0x322912)throw _0x3fe86b;}}}else _0x4fc066[_0x10de('0x40')][_0x10de('0xce')]();_0x4fc066['geometry'][_0x10de('0xce')]();}var _0x9ab1ae=null,_0x329313=(_0x3e61cb['effectConfigs'][_0x10de('0x8a7')]&&((_0x9ab1ae=new THREE['TextureLoader']()[_0x10de('0xdb')]((0x0,_0x4f14e3[_0x10de('0x29')])(_0x3e61cb['effectConfigs']['repeatImg'])))[_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x9ab1ae[_0x10de('0x49d')]=THREE[_0x10de('0x36c')],_0x3e61cb[_0x10de('0x9ab')]['anisotropy']&&(_0x9ab1ae[_0x10de('0x4e9')]=this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x4eb')][_0x10de('0x4f8')]())),null),_0x299bef=(_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x9b0')]&&((_0x329313=new THREE['TextureLoader']()[_0x10de('0xdb')]((0x0,_0x4f14e3[_0x10de('0x29')])(_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x9b0')])))[_0x10de('0x41e')]=THREE[_0x10de('0x36c')],_0x329313['wrapS']=THREE[_0x10de('0x36c')],_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x4e9')]&&(_0x329313[_0x10de('0x4e9')]=this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x4eb')][_0x10de('0x4f8')]())),new _0x441f32[(_0x10de('0xc6'))]({'colorStr':_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x232')],'radius':_0x3e61cb['effectConfigs'][_0x10de('0x230')],'repeat':_0x3e61cb['effectConfigs'][_0x10de('0x2eb')],'transFactor':_0x3e61cb[_0x10de('0x9ab')]['transFactor'],'materialType':_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x71b')]})),_0x26e515=(this[_0x10de('0x9a6')][_0x10de('0x84')](_0x299bef),_0x299bef['createGround'](_0x9ab1ae,_0x329313)),_0x2ff23d=_0x26e515['geometry'],_0x260613=_0x26e515['material'],_0x16a577=(_0x4fc066['geometry']=_0x2ff23d,_0x4fc066['material']=_0x260613,_0x4fc066[_0x10de('0x1fd')]['x']=0.5*-Math['PI'],_0x4fc066[_0x10de('0x8c')]=_0x10de('0x9b1'),(0x0,_0x3610f2[_0x10de('0x2f1')])(_0x260613,_0x3e61cb[_0x10de('0x9ab')]),_0x3e61cb['effectConfigs'][_0x10de('0x233')]&&(_0x4fc066['material']['transparent']=!0x0,_0x4fc066['material'][_0x10de('0x233')]=_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x233')]),_0x3e61cb[_0x10de('0x9ab')]['receiveShadow']&&(_0x4fc066[_0x10de('0x707')]=!0x0),_0x3e61cb[_0x10de('0x4f5')]?_0x4fc066[_0x10de('0x222')]['y']+ +_0x3e61cb[_0x10de('0x4f5')]:_0x4fc066[_0x10de('0x222')]['y']);_0x4fc066[_0x10de('0x222')]['y']=_0x16a577,_0x3e61cb[_0x10de('0x6c4')]&&(_0x4fc066['position']['x']=_0x3e61cb[_0x10de('0x6c4')]['x'],_0x4fc066[_0x10de('0x222')]['z']=_0x3e61cb['pos']['y']),_0x3e61cb['effectConfigs'][_0x10de('0x230')]&&this['map']['mapView'][_0x10de('0x338')][_0x10de('0x3a7')]<=_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x230')]&&(this['map'][_0x10de('0x46c')][_0x10de('0x338')][_0x10de('0x3a7')]=_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x230')]+0x3e8,this[_0x10de('0xcf')]['mapView'][_0x10de('0x338')][_0x10de('0x6aa')]()),_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x9ae')]&&(this[_0x10de('0x91f')]||(this[_0x10de('0x91f')]=new THREE[(_0x10de('0x369'))](),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](this['controlFloorLayer'])),void 0x0!==_0x3e61cb['effectConfigs'][_0x10de('0x364')]&&(_0x4fc066[_0x10de('0x364')]=_0x3e61cb[_0x10de('0x9ab')][_0x10de('0x364')]),this[_0x10de('0x91f')]['add'](_0x4fc066));}'mirro'===_0x3e61cb[_0x10de('0x9aa')]&&_0x3e61cb[_0x10de('0x9ab')]&&((_0x2aa613=_0x40b254[0x0][_0x10de('0x4d4')][_0x10de('0x351')][0x0])['visible']=!0x1,_0x5563e1=new _0x441f32[(_0x10de('0x9b2'))]({'texWidth':window[_0x10de('0x36a')],'texHeight':window[_0x10de('0x36b')]}),_0xc3bf67=new THREE[(_0x10de('0x418'))](0x3e8,0x3e8),_0x322259=_0x5563e1[_0x10de('0x7a')](_0xc3bf67),_0x888903=_0x3e61cb[_0x10de('0x4f5')]?_0x2aa613[_0x10de('0x222')]['y']+ +_0x3e61cb[_0x10de('0x4f5')]:_0x2aa613[_0x10de('0x222')]['y'],_0x322259[_0x10de('0x222')]['y']=_0x888903,_0x322259[_0x10de('0x446')](-Math['PI']/0x2),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x322259)),!0x1===_0x3e61cb[_0x10de('0x364')]&&(_0x40b254[0x0]['o3d_'][_0x10de('0x351')][0x0][_0x10de('0x364')]=!0x1);}}}catch(_0xc9c92c){_0xb46e5d=!0x0,_0x351bc2=_0xc9c92c;}finally{try{!_0x90e5a3&&_0x5265d6['return']&&_0x5265d6[_0x10de('0xdf')]();}finally{if(_0xb46e5d)throw _0x351bc2;}}}},{'key':'fadeOut','value':function(_0xb46e5d,_0x90e5a3){var _0x351bc2=this;new TWEEN['Tween']({'x':0x0})['to']({'x':0x1},0x3e8*_0x90e5a3)['onUpdate'](function(_0x90e5a3){_0x351bc2['controlFloors'][_0xb46e5d][_0x10de('0x40')]['opacity']=_0x90e5a3['x'];})['easing'](TWEEN[_0x10de('0x317')][_0x10de('0x318')]['In'])['start']();}},{'key':_0x10de('0xce'),'value':function(){for(var _0x90e5a3=0x0,_0xb46e5d=this[_0x10de('0x9a5')]['length'];_0x90e5a3<_0xb46e5d;_0x90e5a3++)this[_0x10de('0x9a5')][_0x90e5a3][_0x10de('0x40')][0x0][_0x10de('0xce')](),this[_0x10de('0x9a5')][_0x90e5a3][_0x10de('0x40')][0x0]=null;for(var _0x351bc2=this[_0x10de('0x9a5')][_0x10de('0xe')]=0x0,_0x539972=this['floorEffects'][_0x10de('0xe')];_0x351bc2<_0x539972;_0x351bc2++)this['floorEffects'][_0x351bc2]['dispose'](),this[_0x10de('0x9a6')][_0x351bc2]=null;this[_0x10de('0x9a6')][_0x10de('0xe')]=0x0,this[_0x10de('0x91f')]&&(this[_0x10de('0x91f')]=null);}},{'key':_0x10de('0x362'),'value':function(_0x90e5a3){if(0x0<this[_0x10de('0x9a6')][_0x10de('0xe')]){var _0xb46e5d=!0x0,_0x351bc2=!0x1,_0x539972=void 0x0;try{for(var _0x5265d6,_0x3e61cb=(0x0,_0x38fc15['default'])(this[_0x10de('0x9a6')]);!(_0xb46e5d=(_0x5265d6=_0x3e61cb['next']())[_0x10de('0x32b')]);_0xb46e5d=!0x0)_0x5265d6[_0x10de('0x10')][_0x10de('0x362')](_0x90e5a3);}catch(_0x4e2b20){_0x351bc2=!0x0,_0x539972=_0x4e2b20;}finally{try{!_0xb46e5d&&_0x3e61cb['return']&&_0x3e61cb[_0x10de('0xdf')]();}finally{if(_0x351bc2)throw _0x539972;}}}}}]),_0xb46e5d[_0x10de('0x9')]=_0x1c69b5;},function(_0x19b8d3,_0x3df62f,_0x313a76){'use strict';Object['defineProperty'](_0x3df62f,'__esModule',{'value':!0x0});var _0x32d9cd=_0x5f6f56(_0x313a76(0x5)),_0xb9c393=_0x5f6f56(_0x313a76(0x0)),_0x2fefb9=_0x5f6f56(_0x313a76(0x1)),_0x5de725=_0x313a76(0x13),_0x1c8656=function(_0x19b8d3){if(_0x19b8d3&&_0x19b8d3[_0x10de('0x5')])return _0x19b8d3;var _0x3df62f={};if(null!=_0x19b8d3)for(var _0x313a76 in _0x19b8d3)Object[_0x10de('0xa')][_0x10de('0xb')]['call'](_0x19b8d3,_0x313a76)&&(_0x3df62f[_0x313a76]=_0x19b8d3[_0x313a76]);return _0x3df62f['default']=_0x19b8d3,_0x3df62f;}(_0x313a76(0x36)),_0x28ff4a=_0x313a76(0x73);function _0x5f6f56(_0x19b8d3){return _0x19b8d3&&_0x19b8d3[_0x10de('0x5')]?_0x19b8d3:{'default':_0x19b8d3};}function _0x2f158f(){(0x0,_0xb9c393[_0x10de('0x9')])(this,_0x2f158f),this['map']=(0x0,_0x5de725[_0x10de('0x3b')])(),this[_0x10de('0x9b3')]=[],this[_0x10de('0x967')]=[],this['_tempMaterials']=[];}(0x0,_0x2fefb9[_0x10de('0x9')])(_0x2f158f,[{'key':'addGroundTexture','value':function(_0x17c73b){var _0x1adc6e,_0xe8d257=(0x0,_0x5de725['getBuiding'])(0x0)[_0x10de('0x4d5')](0x1)[_0x10de('0x98b')]([esmap[_0x10de('0x4c2')][_0x10de('0x97d')],esmap['ESLayerType']['MODEL_BASE'],esmap[_0x10de('0x4c2')][_0x10de('0x9b4')]]);if(_0x17c73b[_0x10de('0x8a7')]&&((_0x1adc6e=new _0x1c8656[(_0x10de('0x9b5'))]({'view':this[_0x10de('0xcf')][_0x10de('0x46c')],'type':_0x17c73b['repeatType'],'texPath':_0x17c73b['repeatImg'],'texScale':_0x17c73b[_0x10de('0x9b6')],'texRepeat':_0x17c73b[_0x10de('0x9b6')]?{'x':_0x17c73b[_0x10de('0x9b6')],'y':_0x17c73b[_0x10de('0x9b6')]}:null}))[_0x10de('0x2d6')](_0x10de('0x476'),function(){var _0x19b8d3=!0x0,_0x3df62f=!0x1,_0x313a76=void 0x0;try{for(var _0xb9c393,_0x2fefb9=(0x0,_0x32d9cd['default'])(_0xe8d257);!(_0x19b8d3=(_0xb9c393=_0x2fefb9['next']())[_0x10de('0x32b')]);_0x19b8d3=!0x0){var _0x5f6f56=_0xb9c393['value'],_0x2f158f=!0x0,_0x2993cb=!0x1,_0x5bd03e=void 0x0;try{for(var _0x3ea843,_0x5a22d2=(0x0,_0x32d9cd[_0x10de('0x9')])(_0x5f6f56[_0x10de('0x4d4')][_0x10de('0x351')]);!(_0x2f158f=(_0x3ea843=_0x5a22d2[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2f158f=!0x0){var _0x45bc91=_0x3ea843[_0x10de('0x10')],_0x1b7d1c=(0x0,_0x5de725[_0x10de('0x2c')])(_0x45bc91,_0x17c73b[_0x10de('0x5a3')]);if(_0x1b7d1c){_0x45bc91[_0x10de('0x40')][_0x1b7d1c[_0x10de('0x41')][_0x10de('0x32a')]]=_0x1adc6e[_0x10de('0x5d8')](),_0x1adc6e['targetMesh']=_0x45bc91;break;}if('floor'===_0x45bc91[_0x10de('0x7d6')]&&_0x17c73b['floorNum']&&_0x17c73b['floorNum']===_0x45bc91[_0x10de('0x3e')][_0x10de('0x4d3')]){_0x45bc91[_0x10de('0x40')][0x0]=_0x1adc6e['getMaterial'](),_0x1adc6e[_0x10de('0x9b7')]=_0x45bc91;break;}}}catch(_0x36f94c){_0x2993cb=!0x0,_0x5bd03e=_0x36f94c;}finally{try{!_0x2f158f&&_0x5a22d2[_0x10de('0xdf')]&&_0x5a22d2[_0x10de('0xdf')]();}finally{if(_0x2993cb)throw _0x5bd03e;}}}}catch(_0xafbbc6){_0x3df62f=!0x0,_0x313a76=_0xafbbc6;}finally{try{!_0x19b8d3&&_0x2fefb9[_0x10de('0xdf')]&&_0x2fefb9[_0x10de('0xdf')]();}finally{if(_0x3df62f)throw _0x313a76;}}}),this[_0x10de('0x9b3')][_0x10de('0x84')](_0x1adc6e)),_0x17c73b[_0x10de('0x2f7')]||_0x17c73b[_0x10de('0x2f8')]){var _0x19b8d3=!0x0,_0x3df62f=!0x1,_0x313a76=void 0x0;try{for(var _0xb9c393,_0x2fefb9=(0x0,_0x32d9cd[_0x10de('0x9')])(_0xe8d257);!(_0x19b8d3=(_0xb9c393=_0x2fefb9[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x19b8d3=!0x0){var _0x5f6f56=_0xb9c393['value'],_0x2f158f=!0x0,_0x2e7844=!0x1,_0x3ba57e=void 0x0;try{for(var _0x30e272,_0x3843c3=(0x0,_0x32d9cd[_0x10de('0x9')])(_0x5f6f56[_0x10de('0x4d4')][_0x10de('0x351')]);!(_0x2f158f=(_0x30e272=_0x3843c3[_0x10de('0x88')]())['done']);_0x2f158f=!0x0){var _0x198b8d=_0x30e272[_0x10de('0x10')];if(_0x3d2862=(0x0,_0x5de725['getMaterialByRoomStyle'])(_0x198b8d,_0x17c73b[_0x10de('0x5a3')])){var _0x1e2c2c=_0x198b8d[_0x10de('0x40')][_0x3d2862['userData']['index']],_0x54b6c7=new THREE[(_0x10de('0x5ac'))]({'color':_0x1e2c2c[_0x10de('0x232')]});(0x0,_0x28ff4a[_0x10de('0x2f1')])(_0x54b6c7,_0x17c73b),_0x198b8d['material'][_0x3d2862[_0x10de('0x41')][_0x10de('0x32a')]]=_0x54b6c7;break;}}}catch(_0x1ff250){_0x2e7844=!0x0,_0x3ba57e=_0x1ff250;}finally{try{!_0x2f158f&&_0x3843c3['return']&&_0x3843c3[_0x10de('0xdf')]();}finally{if(_0x2e7844)throw _0x3ba57e;}}}}catch(_0x222622){_0x3df62f=!0x0,_0x313a76=_0x222622;}finally{try{!_0x19b8d3&&_0x2fefb9[_0x10de('0xdf')]&&_0x2fefb9[_0x10de('0xdf')]();}finally{if(_0x3df62f)throw _0x313a76;}}}if(_0x17c73b[_0x10de('0x2b2')]){var _0x3db6d6=!0x0,_0x3df62f=!0x1,_0x313a76=void 0x0;try{for(var _0x5f5876,_0x18fae0=(0x0,_0x32d9cd[_0x10de('0x9')])(_0xe8d257);!(_0x3db6d6=(_0x5f5876=_0x18fae0[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x3db6d6=!0x0){var _0x3159e6=_0x5f5876[_0x10de('0x10')],_0x31896b=!0x0,_0x177536=!0x1,_0x3ab2b6=void 0x0;try{for(var _0x2a1648,_0x5b4762=(0x0,_0x32d9cd[_0x10de('0x9')])(_0x3159e6[_0x10de('0x4d4')][_0x10de('0x351')]);!(_0x31896b=(_0x2a1648=_0x5b4762[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x31896b=!0x0){var _0x3d2862,_0xed822=_0x2a1648[_0x10de('0x10')];if(_0x3d2862=(0x0,_0x5de725[_0x10de('0x2c')])(_0xed822,_0x17c73b[_0x10de('0x5a3')])){var _0x14ed2a=new _0x1c8656[(_0x10de('0xae'))]({'colorStr':_0x17c73b[_0x10de('0x980')],'opacity':_0x17c73b[_0x10de('0x97f')],'depthTest':!0x0});_0x14ed2a[_0x10de('0x981')](_0xed822,_0xed822[_0x10de('0xd0')]),_0x17c73b[_0x10de('0x379')]&&(_0xed822[_0x10de('0x222')]['y']+=_0x17c73b[_0x10de('0x379')]),this[_0x10de('0x967')][_0x10de('0x84')](_0x14ed2a);break;}}}catch(_0x57ea78){_0x177536=!0x0,_0x3ab2b6=_0x57ea78;}finally{try{!_0x31896b&&_0x5b4762[_0x10de('0xdf')]&&_0x5b4762['return']();}finally{if(_0x177536)throw _0x3ab2b6;}}}}catch(_0x86d478){_0x3df62f=!0x0,_0x313a76=_0x86d478;}finally{try{!_0x3db6d6&&_0x18fae0['return']&&_0x18fae0['return']();}finally{if(_0x3df62f)throw _0x313a76;}}}}},{'key':_0x10de('0xce'),'value':function(){}},{'key':'disposeAll','value':function(){for(var _0x19b8d3=0x0,_0x3df62f=this[_0x10de('0x9b3')]['length'];_0x19b8d3<_0x3df62f;_0x19b8d3++)this['groundThemes'][_0x19b8d3]['dispose'](),this[_0x10de('0x9b3')][_0x19b8d3]=null;for(var _0x313a76=this['groundThemes']['length']=0x0,_0xb9c393=this[_0x10de('0x967')][_0x10de('0xe')];_0x313a76<_0xb9c393;_0x313a76++)this['edgeLineFrameList'][_0x313a76]['dispose'](),this['edgeLineFrameList'][_0x313a76]=null;this[_0x10de('0x967')][_0x10de('0xe')]=0x0;}}]),_0x3df62f[_0x10de('0x9')]=_0x2f158f;},function(_0x31de1b,_0x3423a5,_0xba589){'use strict';Object[_0x10de('0x2')](_0x3423a5,_0x10de('0x5'),{'value':!0x0});var _0x535e71=_0x1ba5f5(_0xba589(0x28)),_0xef7974=_0x1ba5f5(_0xba589(0x5)),_0x4f0060=_0x1ba5f5(_0xba589(0x0)),_0xa5eb82=_0x1ba5f5(_0xba589(0x1)),_0x32c6f2=_0xba589(0x13),_0x52a7b6=_0xba589(0x106),_0x20211d=_0x1ba5f5(_0xba589(0x46));function _0x1ba5f5(_0x31de1b){return _0x31de1b&&_0x31de1b[_0x10de('0x5')]?_0x31de1b:{'default':_0x31de1b};}function _0x225ad8(){(0x0,_0x4f0060['default'])(this,_0x225ad8),this[_0x10de('0xcf')]=(0x0,_0x32c6f2[_0x10de('0x3b')])(),this['models']=null,this[_0x10de('0x8a3')]=null,this[_0x10de('0x9b8')]=[],this['directionalLights']=[],this[_0x10de('0x9b9')]=null,this['envTextureCube']=null,this[_0x10de('0x9ba')]=[];}(0x0,_0xa5eb82[_0x10de('0x9')])(_0x225ad8,[{'key':_0x10de('0x95c'),'value':function(_0x31de1b){if(0x0!=_0x31de1b[_0x10de('0xe')]){var _0x3423a5=!0x0,_0xba589=!0x1,_0x4f0060=void 0x0;try{for(var _0x535e71,_0xa5eb82=(0x0,_0xef7974[_0x10de('0x9')])(_0x31de1b);!(_0x3423a5=(_0x535e71=_0xa5eb82[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x3423a5=!0x0){var _0x52a7b6,_0x20211d=_0x535e71[_0x10de('0x10')],_0x1ba5f5=new THREE[(_0x10de('0x9bb'))]();_0x20211d[_0x10de('0x8c')]&&(_0x1ba5f5['name']=_0x20211d[_0x10de('0x8c')]),_0x20211d['color']&&(_0x1ba5f5[_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x20211d['color'])),_0x20211d[_0x10de('0x479')]&&(_0x1ba5f5[_0x10de('0x479')]=_0x20211d[_0x10de('0x479')]),_0x20211d[_0x10de('0x9bc')]&&(_0x1ba5f5['distance']=_0x20211d['extent']),_0x20211d[_0x10de('0x222')]&&(0x0,_0x32c6f2[_0x10de('0x2f')])(_0x1ba5f5,_0x20211d['position'],_0x20211d['position'][_0x10de('0x32c')]),(_0x20211d['debug']||esmap['ESEffectTool'][_0x10de('0x54')])&&(_0x52a7b6=new THREE[(_0x10de('0x9bd'))](_0x1ba5f5,0x1e),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x52a7b6)),this['map'][_0x10de('0x46c')][_0x10de('0x467')]['add'](_0x1ba5f5),this[_0x10de('0x9b8')][_0x10de('0x84')](_0x1ba5f5);}}catch(_0x603980){_0xba589=!0x0,_0x4f0060=_0x603980;}finally{try{!_0x3423a5&&_0xa5eb82[_0x10de('0xdf')]&&_0xa5eb82[_0x10de('0xdf')]();}finally{if(_0xba589)throw _0x4f0060;}}}}},{'key':_0x10de('0x9be'),'value':function(_0x31de1b,_0x3423a5){var _0xba589=!0x0,_0x4f0060=!0x1,_0x535e71=void 0x0;try{for(var _0xa5eb82,_0x52a7b6=(0x0,_0xef7974[_0x10de('0x9')])(this[_0x10de('0x958')]);!(_0xba589=(_0xa5eb82=_0x52a7b6[_0x10de('0x88')]())[_0x10de('0x32b')]);_0xba589=!0x0){var _0x20211d=_0xa5eb82[_0x10de('0x10')];if(_0x31de1b['name']===_0x20211d[_0x10de('0x8c')]){_0x31de1b[_0x10de('0x232')]&&(pointLight['color']=new THREE['Color']()[_0x10de('0x331')](_0x31de1b[_0x10de('0x232')])),_0x3423a5['intensity']&&(pointLight[_0x10de('0x479')]=_0x3423a5[_0x10de('0x479')]),_0x3423a5[_0x10de('0x9bc')]&&(pointLight[_0x10de('0x9bf')]=_0x3423a5[_0x10de('0x9bc')]),_0x3423a5[_0x10de('0x222')]&&(0x0,_0x32c6f2[_0x10de('0x2f')])(pointLight,_0x3423a5[_0x10de('0x222')],_0x3423a5[_0x10de('0x222')][_0x10de('0x32c')]);break;}}}catch(_0x549c49){_0x4f0060=!0x0,_0x535e71=_0x549c49;}finally{try{!_0xba589&&_0x52a7b6[_0x10de('0xdf')]&&_0x52a7b6[_0x10de('0xdf')]();}finally{if(_0x4f0060)throw _0x535e71;}}}},{'key':_0x10de('0x95e'),'value':function(_0x31de1b){if(0x0!=_0x31de1b[_0x10de('0xe')]){var _0x3423a5=!0x0,_0xba589=!0x1,_0x4f0060=void 0x0;try{for(var _0x535e71,_0xa5eb82=(0x0,_0xef7974[_0x10de('0x9')])(_0x31de1b);!(_0x3423a5=(_0x535e71=_0xa5eb82['next']())[_0x10de('0x32b')]);_0x3423a5=!0x0){var _0x52a7b6,_0x20211d,_0x1ba5f5,_0x225ad8,_0x590d75,_0x45a06f=_0x535e71[_0x10de('0x10')];_0x45a06f[_0x10de('0x9c0')]?((_0x52a7b6=this['map']['mapView'][_0x45a06f[_0x10de('0x9c0')]])&&(_0x52a7b6[_0x10de('0x9c1')]={},_0x45a06f[_0x10de('0x9c0')]&&(_0x52a7b6[_0x10de('0x8c')]=_0x45a06f['replaceLight']),!0x1===_0x45a06f[_0x10de('0x364')]&&(_0x52a7b6[_0x10de('0x364')]=!0x1),_0x45a06f[_0x10de('0x232')]&&(_0x52a7b6[_0x10de('0x9c1')]['color']=new THREE['Color']()[_0x10de('0x1d3')](_0x52a7b6['color']),_0x52a7b6[_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()['setStyle'](_0x45a06f[_0x10de('0x232')])),_0x45a06f[_0x10de('0x479')]&&(_0x52a7b6[_0x10de('0x9c1')][_0x10de('0x479')]=_0x52a7b6['intensity'],_0x52a7b6[_0x10de('0x479')]=_0x45a06f[_0x10de('0x479')]),_0x45a06f[_0x10de('0x243')]&&(_0x52a7b6['_originConfig']['position']=new THREE[(_0x10de('0x1ca'))]()[_0x10de('0x1d3')](_0x52a7b6[_0x10de('0x222')]),_0x52a7b6[_0x10de('0x222')]['set'](_0x45a06f[_0x10de('0x243')]['x'],_0x45a06f['direction']['y'],_0x45a06f['direction']['z'])),void 0x0!==_0x45a06f[_0x10de('0x311')]&&void 0x0!==_0x45a06f[_0x10de('0x301')]&&(_0x20211d=(0x0,_0x32c6f2[_0x10de('0x28')])(_0x45a06f[_0x10de('0x301')],_0x45a06f[_0x10de('0x311')]),_0x52a7b6['position'][_0x10de('0x1d3')](_0x20211d),_0x52a7b6[_0x10de('0x311')]=_0x45a06f[_0x10de('0x311')],_0x52a7b6[_0x10de('0x301')]=_0x45a06f[_0x10de('0x301')]),_0x45a06f[_0x10de('0x304')]&&(_0x52a7b6['_originConfig']['target']=new THREE['Vector3']()[_0x10de('0x1d3')](_0x52a7b6['target']),_0x52a7b6['target'][_0x10de('0x222')][_0x10de('0x1e')](_0x45a06f[_0x10de('0x304')]['x'],_0x45a06f['target']['y'],_0x45a06f[_0x10de('0x304')]['z']),_0x52a7b6[_0x10de('0x304')][_0x10de('0x7c2')]()),(_0x45a06f[_0x10de('0x443')]||esmap[_0x10de('0x4f')][_0x10de('0x54')])&&(_0x225ad8=0x64,_0x590d75=new THREE[(_0x10de('0x9c2'))](_0x52a7b6,_0x225ad8),_0x52a7b6[_0x10de('0x7a5')]=_0x590d75,this[_0x10de('0xcf')]['mapView'][_0x10de('0x467')][_0x10de('0x1d5')](_0x590d75))),this[_0x10de('0x923')]['push'](_0x52a7b6)):((_0x1ba5f5=new THREE[(_0x10de('0x9c3'))]())[_0x10de('0x9c1')]={},_0x45a06f[_0x10de('0x8c')]&&(_0x1ba5f5[_0x10de('0x8c')]=_0x45a06f[_0x10de('0x8c')]),_0x45a06f[_0x10de('0x232')]&&(_0x1ba5f5[_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x45a06f['color']),_0x1ba5f5[_0x10de('0x9c1')][_0x10de('0x232')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x1d3')](_0x1ba5f5[_0x10de('0x232')])),_0x45a06f['intensity']&&(_0x1ba5f5[_0x10de('0x479')]=_0x45a06f['intensity'],_0x1ba5f5['_originConfig']['intensity']=_0x45a06f[_0x10de('0x479')]),_0x45a06f[_0x10de('0x243')]&&_0x1ba5f5['position']['set'](_0x45a06f[_0x10de('0x243')]['x'],_0x45a06f[_0x10de('0x243')]['y'],_0x45a06f['direction']['z']),_0x45a06f[_0x10de('0x304')]&&(_0x1ba5f5[_0x10de('0x304')]['position'][_0x10de('0x1e')](_0x45a06f['target']['x'],_0x45a06f['target']['y'],_0x45a06f['target']['z']),_0x1ba5f5[_0x10de('0x304')][_0x10de('0x7c2')]()),void 0x0!==_0x45a06f[_0x10de('0x311')]&&void 0x0!==_0x45a06f[_0x10de('0x301')]&&(_0x1ba5f5['position']['copy']((0x0,_0x32c6f2[_0x10de('0x28')])(_0x45a06f[_0x10de('0x301')],_0x45a06f[_0x10de('0x311')])),_0x1ba5f5[_0x10de('0x311')]=_0x45a06f[_0x10de('0x311')],_0x1ba5f5[_0x10de('0x301')]=_0x45a06f[_0x10de('0x301')]),(_0x45a06f[_0x10de('0x443')]||esmap[_0x10de('0x4f')][_0x10de('0x54')])&&(_0x225ad8=0x64,_0x590d75=new THREE[(_0x10de('0x9c2'))](_0x1ba5f5,_0x225ad8),_0x1ba5f5[_0x10de('0x7a5')]=_0x590d75,this[_0x10de('0xcf')]['mapView']['scene'][_0x10de('0x1d5')](_0x590d75)),_0x45a06f[_0x10de('0x9b9')]&&(this[_0x10de('0x9b9')]=_0x1ba5f5),this[_0x10de('0xcf')]['mapView'][_0x10de('0x467')][_0x10de('0x1d5')](_0x1ba5f5),this[_0x10de('0x923')][_0x10de('0x84')](_0x1ba5f5));}}catch(_0xa2a518){_0xba589=!0x0,_0x4f0060=_0xa2a518;}finally{try{!_0x3423a5&&_0xa5eb82[_0x10de('0xdf')]&&_0xa5eb82['return']();}finally{if(_0xba589)throw _0x4f0060;}}}}},{'key':_0x10de('0x9c4'),'value':function(_0x31de1b,_0x3423a5,_0xba589){var _0x4f0060=(0x0,_0x32c6f2['directionFromAlphaBeta'])(_0x3423a5[_0x10de('0x301')],_0x3423a5[_0x10de('0x311')]);_0xba589[_0x10de('0x9bf')]&&_0x4f0060[_0x10de('0x1d6')](_0xba589[_0x10de('0x9bf')]),_0xba589[_0x10de('0x9c5')]?(_0x31de1b[_0x10de('0x222')][_0x10de('0x1d3')](_0x4f0060),_0x31de1b['position']['normalize']()[_0x10de('0x1d6')](_0xba589[_0x10de('0x9bf')])[_0x10de('0x1d5')](new THREE['Vector3'](this['map']['controls'][_0x10de('0x304')]['x'],0x0,this[_0x10de('0xcf')][_0x10de('0x2fc')]['target']['z'])),_0x31de1b[_0x10de('0x304')]['position'][_0x10de('0x1d3')](new THREE[(_0x10de('0x1ca'))](this[_0x10de('0xcf')][_0x10de('0x2fc')]['target']['x'],0x0,this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x304')]['z'])),_0x31de1b[_0x10de('0x304')]['updateMatrixWorld'](!0x0)):_0x31de1b[_0x10de('0x222')]['copy'](_0x4f0060),_0x31de1b[_0x10de('0x311')]=_0x3423a5[_0x10de('0x311')],_0x31de1b['pitchAngle']=_0x3423a5[_0x10de('0x301')],_0x31de1b[_0x10de('0x7a5')]&&(0x1<_0xba589[_0x10de('0x9c6')]&&_0x31de1b[_0x10de('0x7a5')][_0x10de('0x9c7')][_0x10de('0x1e8')][_0x10de('0x1d6')](_0xba589['planeScale']),_0x31de1b[_0x10de('0x7a5')]['update']());}},{'key':_0x10de('0x924'),'value':function(_0x31de1b,_0x3423a5,_0xba589,_0x4f0060){var _0x535e71=!0x0,_0xa5eb82=!0x1,_0x52a7b6=void 0x0;try{for(var _0x20211d,_0x1ba5f5=(0x0,_0xef7974[_0x10de('0x9')])(_0x3423a5);!(_0x535e71=(_0x20211d=_0x1ba5f5['next']())[_0x10de('0x32b')]);_0x535e71=!0x0){var _0x225ad8=_0x20211d['value'];_0x31de1b['name']===_0x225ad8[_0x10de('0x8c')]&&(!0x1===_0x225ad8['visible']&&(_0x31de1b[_0x10de('0x364')]=!0x1),_0x225ad8[_0x10de('0x232')]?_0x31de1b['color']=new THREE['Color']()[_0x10de('0x331')](_0x225ad8[_0x10de('0x232')]):_0x31de1b['_originConfig']&&_0x31de1b['_originConfig'][_0x10de('0x232')]&&_0x31de1b[_0x10de('0x232')][_0x10de('0x1d3')](_0x31de1b[_0x10de('0x9c1')][_0x10de('0x232')]),_0x225ad8[_0x10de('0x479')]?_0xba589?this['lightAnimate'](_0x31de1b,_0x225ad8[_0x10de('0x479')],_0x4f0060):_0x31de1b[_0x10de('0x479')]=_0x225ad8[_0x10de('0x479')]:_0xba589?_0x31de1b['_originConfig']&&_0x31de1b[_0x10de('0x9c1')][_0x10de('0x479')]&&this[_0x10de('0x9c8')](_0x31de1b,_0x31de1b[_0x10de('0x9c1')]['intensity'],_0x4f0060):_0x31de1b[_0x10de('0x9c1')]&&_0x31de1b[_0x10de('0x9c1')]['intensity']&&(_0x31de1b[_0x10de('0x479')]=_0x31de1b[_0x10de('0x9c1')][_0x10de('0x479')]),void 0x0!==_0x225ad8['directionAngle']&&void 0x0!==_0x225ad8[_0x10de('0x301')]&&(_0x31de1b[_0x10de('0x222')][_0x10de('0x1d3')]((0x0,_0x32c6f2['directionFromAlphaBeta'])(_0x225ad8[_0x10de('0x301')],_0x225ad8[_0x10de('0x311')])),_0x31de1b[_0x10de('0x311')]=_0x225ad8[_0x10de('0x311')],_0x31de1b[_0x10de('0x301')]=_0x225ad8[_0x10de('0x301')]));}}catch(_0x547c2f){_0xa5eb82=!0x0,_0x52a7b6=_0x547c2f;}finally{try{!_0x535e71&&_0x1ba5f5['return']&&_0x1ba5f5[_0x10de('0xdf')]();}finally{if(_0xa5eb82)throw _0x52a7b6;}}}},{'key':'getAmbientLight','value':function(){var _0x31de1b=!0x0,_0x3423a5=!0x1,_0xba589=void 0x0;try{for(var _0x4f0060,_0x535e71=(0x0,_0xef7974[_0x10de('0x9')])(this[_0x10de('0xcf')]['mapView'][_0x10de('0x467')][_0x10de('0x351')]);!(_0x31de1b=(_0x4f0060=_0x535e71[_0x10de('0x88')]())['done']);_0x31de1b=!0x0){var _0xa5eb82=_0x4f0060['value'];if('AmbientLight'==_0xa5eb82['type']){this[_0x10de('0x8a3')]=_0xa5eb82;break;}}}catch(_0x47dcc4){_0x3423a5=!0x0,_0xba589=_0x47dcc4;}finally{try{!_0x31de1b&&_0x535e71[_0x10de('0xdf')]&&_0x535e71[_0x10de('0xdf')]();}finally{if(_0x3423a5)throw _0xba589;}}}},{'key':_0x10de('0x922'),'value':function(_0x31de1b){if(!this[_0x10de('0x8a3')]){var _0x3423a5=!0x0,_0xba589=!0x1,_0x4f0060=void 0x0;try{for(var _0x535e71,_0xa5eb82=(0x0,_0xef7974[_0x10de('0x9')])(this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x351')]);!(_0x3423a5=(_0x535e71=_0xa5eb82[_0x10de('0x88')]())['done']);_0x3423a5=!0x0){var _0x52a7b6=_0x535e71[_0x10de('0x10')];if(_0x10de('0x9c9')==_0x52a7b6[_0x10de('0x85')]){this['ambientLight']=_0x52a7b6;break;}}}catch(_0x36a8f9){_0xba589=!0x0,_0x4f0060=_0x36a8f9;}finally{try{!_0x3423a5&&_0xa5eb82['return']&&_0xa5eb82[_0x10de('0xdf')]();}finally{if(_0xba589)throw _0x4f0060;}}}this[_0x10de('0x8a3')]&&(_0x31de1b[_0x10de('0x232')]&&this[_0x10de('0x8a3')][_0x10de('0x232')][_0x10de('0x331')](_0x31de1b[_0x10de('0x232')]),_0x31de1b[_0x10de('0x479')]&&(this[_0x10de('0x8a3')]['_originIntensity']||(this[_0x10de('0x8a3')]['_originIntensity']=this[_0x10de('0x8a3')][_0x10de('0x479')]),_0x31de1b[_0x10de('0x63f')]?this[_0x10de('0x9c8')](this[_0x10de('0x8a3')],_0x31de1b[_0x10de('0x479')],_0x31de1b[_0x10de('0x507')])['then'](function(){_0x31de1b[_0x10de('0x312')]&&_0x31de1b[_0x10de('0x312')]();}):this['ambientLight'][_0x10de('0x479')]=_0x31de1b['intensity']),_0x31de1b[_0x10de('0x9ca')]&&this['lightAnimate'](this['ambientLight'],this[_0x10de('0x8a3')][_0x10de('0x9cb')],_0x31de1b[_0x10de('0x507')])[_0x10de('0x385')](function(){_0x31de1b[_0x10de('0x312')]&&_0x31de1b[_0x10de('0x312')]();}));}},{'key':_0x10de('0x9c8'),'value':function(_0xba589,_0x3423a5){var _0x4f0060=0x2<arguments[_0x10de('0xe')]&&void 0x0!==arguments[0x2]?arguments[0x2]:0x2;return new _0x535e71[(_0x10de('0x9'))](function(_0x31de1b){new TWEEN['Tween']({'intensity':_0xba589['intensity']})['to']({'intensity':_0x3423a5},0x3e8*_0x4f0060)[_0x10de('0x361')](TWEEN[_0x10de('0x317')]['Linear']['None'])[_0x10de('0x31c')](function(_0x31de1b,_0x3423a5){_0xba589[_0x10de('0x479')]=_0x31de1b['intensity'];})[_0x10de('0x31e')](function(){_0x31de1b();})[_0x10de('0x31b')]();});}},{'key':_0x10de('0x9cc'),'value':function(_0x3423a5){var _0x31de1b=_0x3423a5['configs'];if(_0x3423a5[_0x10de('0x63f')],_0x3423a5[_0x10de('0x9cd')],_0x31de1b['ambientLight']&&this[_0x10de('0x922')](_0x31de1b[_0x10de('0x8a3')]),_0x31de1b[_0x10de('0x8a2')]){var _0xba589=!0x0,_0x3423a5=!0x1,_0x4f0060=void 0x0;try{for(var _0x535e71,_0xa5eb82=(0x0,_0xef7974[_0x10de('0x9')])(this['directionalLights']);!(_0xba589=(_0x535e71=_0xa5eb82[_0x10de('0x88')]())[_0x10de('0x32b')]);_0xba589=!0x0){var _0x52a7b6=_0x535e71[_0x10de('0x10')];this['updateDirectionalLights'](_0x52a7b6,_0x31de1b[_0x10de('0x8a2')]);}}catch(_0x142a78){_0x3423a5=!0x0,_0x4f0060=_0x142a78;}finally{try{!_0xba589&&_0xa5eb82[_0x10de('0xdf')]&&_0xa5eb82['return']();}finally{if(_0x3423a5)throw _0x4f0060;}}}if(_0x31de1b[_0x10de('0x89e')]){var _0x20211d=!0x0,_0x3423a5=!0x1,_0x4f0060=void 0x0;try{for(var _0x1ba5f5,_0x225ad8=(0x0,_0xef7974[_0x10de('0x9')])(this[_0x10de('0x9b8')]);!(_0x20211d=(_0x1ba5f5=_0x225ad8[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x20211d=!0x0){var _0x3b9d5f=_0x1ba5f5['value'];this[_0x10de('0x9be')](_0x3b9d5f,_0x31de1b[_0x10de('0x89e')]);}}catch(_0x162390){_0x3423a5=!0x0,_0x4f0060=_0x162390;}finally{try{!_0x20211d&&_0x225ad8[_0x10de('0xdf')]&&_0x225ad8[_0x10de('0xdf')]();}finally{if(_0x3423a5)throw _0x4f0060;}}}}},{'key':_0x10de('0x95f'),'value':function(_0x31de1b){_0x31de1b&&_0x31de1b[_0x10de('0x9ce')]&&0x0<_0x31de1b['imgPaths'][_0x10de('0xe')]&&!this[_0x10de('0x906')]&&(_0x31de1b[_0x10de('0x85')]&&_0x10de('0x9cf')===_0x31de1b[_0x10de('0x85')]?this[_0x10de('0x9d0')](_0x31de1b):this['envTextureCube']=this[_0x10de('0x9d1')](_0x31de1b));}},{'key':_0x10de('0x9d1'),'value':function(_0x3423a5,_0x31de1b){for(var _0xba589=this,_0x4f0060=0x0,_0x535e71=_0x3423a5[_0x10de('0x9ce')][_0x10de('0xe')];_0x4f0060<_0x535e71;_0x4f0060++)_0x31de1b||(_0x3423a5['imgPaths'][_0x4f0060]=(0x0,_0x32c6f2[_0x10de('0x29')])(_0x3423a5[_0x10de('0x9ce')][_0x4f0060]));return new THREE[(_0x10de('0xe4'))]()[_0x10de('0xdb')](_0x3423a5[_0x10de('0x9ce')],function(_0x31de1b){_0x31de1b[_0x10de('0x8c')]=_0x3423a5[_0x10de('0x8c')]||'',_0x3423a5['sRGB']&&(_0x31de1b[_0x10de('0x46b')]=THREE[_0x10de('0x69d')]),!_0x3423a5[_0x10de('0x43e')]&&void 0x0!==_0x3423a5[_0x10de('0x43e')]||_0xba589[_0x10de('0x9d2')](_0x3423a5),_0xba589[_0x10de('0x9ba')]['push'](_0x31de1b);});}},{'key':'createLightProbe','value':function(_0x31de1b){this['lightProbe']=new THREE[(_0x10de('0x9d3'))](),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')]['add'](this[_0x10de('0x9d4')]),this[_0x10de('0x9d4')][_0x10de('0x1d3')](_0x52a7b6[_0x10de('0x9d5')][_0x10de('0x9d6')](this['envTextureCube'])),this[_0x10de('0x9d4')][_0x10de('0x8c')]=_0x31de1b[_0x10de('0x8c')],_0x31de1b['intensity']&&(this[_0x10de('0x9d4')][_0x10de('0x479')]=_0x31de1b[_0x10de('0x479')]),this['map']['fire'](_0x10de('0x9d7'));}},{'key':'updateLightProbe','value':function(_0x3423a5,_0x31de1b){var _0xba589=this;if(this[_0x10de('0x9d4')]&&_0x3423a5[_0x10de('0x8c')]){var _0x4f0060=this[_0x10de('0x9d8')](_0x3423a5[_0x10de('0x8c')]);if(_0x4f0060)this['lightProbe'][_0x10de('0x1d3')](_0x52a7b6[_0x10de('0x9d5')]['fromCubeTexture'](_0x4f0060)),this[_0x10de('0x9d4')][_0x10de('0x479')]=_0x3423a5['intensity'],this[_0x10de('0x4ca')]&&this[_0x10de('0x4ca')][_0x10de('0x9d9')](_0x4f0060),this['envTextureCube']=_0x4f0060;else{for(var _0x535e71=0x0,_0xa5eb82=_0x3423a5['imgPaths'][_0x10de('0xe')];_0x535e71<_0xa5eb82;_0x535e71++)_0x31de1b||(_0x3423a5[_0x10de('0x9ce')][_0x535e71]=(0x0,_0x32c6f2[_0x10de('0x29')])(_0x3423a5[_0x10de('0x9ce')][_0x535e71]));_0x20211d[_0x10de('0x9')][_0x10de('0xe3')](_0x3423a5[_0x10de('0x9ce')])[_0x10de('0x385')](function(_0x31de1b){_0x31de1b[_0x10de('0x8c')]=_0x3423a5[_0x10de('0x8c')],_0xba589[_0x10de('0x9d4')][_0x10de('0x1d3')](_0x52a7b6[_0x10de('0x9d5')]['fromCubeTexture'](_0x31de1b)),_0xba589['lightProbe'][_0x10de('0x479')]=_0x3423a5[_0x10de('0x479')],_0xba589[_0x10de('0x4ca')]&&_0xba589[_0x10de('0x4ca')][_0x10de('0x9d9')](_0x31de1b),_0xba589[_0x10de('0x906')]=_0x31de1b,_0xba589['envTextureCubes'][_0x10de('0x84')](_0x31de1b);});}this[_0x10de('0x9d4')][_0x10de('0x479')]=_0x3423a5[_0x10de('0x479')];}}},{'key':_0x10de('0x9da'),'value':function(_0x31de1b,_0x3423a5){var _0xba589=this;_0x31de1b!=_0x3423a5&&new TWEEN['Tween']({'x':_0x31de1b})['to']({'x':_0x3423a5},0x3e8)[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x45f')]['None'])[_0x10de('0x31c')](function(_0x31de1b){_0xba589[_0x10de('0x9d4')][_0x10de('0x479')]=_0x31de1b['x'];})[_0x10de('0x31b')]();}},{'key':_0x10de('0x9d8'),'value':function(_0x31de1b){var _0x3423a5=!0x0,_0xba589=!0x1,_0x4f0060=void 0x0;try{for(var _0x535e71,_0xa5eb82=(0x0,_0xef7974[_0x10de('0x9')])(this[_0x10de('0x9ba')]);!(_0x3423a5=(_0x535e71=_0xa5eb82[_0x10de('0x88')]())['done']);_0x3423a5=!0x0){var _0x52a7b6=_0x535e71['value'];if(_0x52a7b6[_0x10de('0x8c')]===_0x31de1b)return _0x52a7b6;}}catch(_0x240c58){_0xba589=!0x0,_0x4f0060=_0x240c58;}finally{try{!_0x3423a5&&_0xa5eb82[_0x10de('0xdf')]&&_0xa5eb82[_0x10de('0xdf')]();}finally{if(_0xba589)throw _0x4f0060;}}return null;}},{'key':'createPMREMEnvTexture','value':function(_0x31de1b){var _0x3423a5,_0xba589=this;0x1===_0x31de1b['imgPaths'][_0x10de('0xe')]&&(_0x31de1b=(0x0,_0x32c6f2[_0x10de('0x29')])(_0x31de1b['imgPaths'][0x0]),_0x3423a5=new ESWorldMapTools['EnvTextureLoader'](this[_0x10de('0xcf')]),this[_0x10de('0x906')]=new THREE[(_0x10de('0x6ff'))](),_0x3423a5[_0x10de('0x9db')]({'texPath':_0x31de1b,'resolutionSize':0x200})['then'](function(_0x31de1b){_0xba589[_0x10de('0x906')]=_0x31de1b;}));}},{'key':'dispose','value':function(){for(var _0x31de1b=0x0,_0x3423a5=this[_0x10de('0x9b8')]['length'];_0x31de1b<_0x3423a5;_0x31de1b++)this[_0x10de('0xcf')][_0x10de('0x46c')]['scene'][_0x10de('0xd2')](this[_0x10de('0x9b8')][_0x31de1b]);for(var _0xba589=this[_0x10de('0x9b8')][_0x10de('0xe')]=0x0,_0x4f0060=this[_0x10de('0x923')][_0x10de('0xe')];_0xba589<_0x4f0060;_0xba589++)this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0xd2')](this[_0x10de('0x923')][_0xba589]);this[_0x10de('0x923')]['length']=0x0,this[_0x10de('0x9d4')]&&(this['map'][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0xd2')](this['lightProbe']),this[_0x10de('0x9d4')]=null),this[_0x10de('0x906')]&&(this[_0x10de('0x906')][_0x10de('0xce')](),this[_0x10de('0x906')]=null);for(var _0x535e71=0x0,_0xa5eb82=this[_0x10de('0x9ba')][_0x10de('0xe')];_0x535e71<_0xa5eb82;_0x535e71++)this[_0x10de('0x9ba')][_0x535e71][_0x10de('0xce')]();this[_0x10de('0x9ba')][_0x10de('0xe')]=0x0;}}]),_0x3423a5[_0x10de('0x9')]=_0x225ad8;},function(_0x129754,_0x2cb640,_0x164fb6){'use strict';Object[_0x10de('0x2')](_0x2cb640,'__esModule',{'value':!0x0}),_0x2cb640[_0x10de('0x9d5')]={'fromCubeTexture':function(_0x129754){for(var _0x2cb640,_0x164fb6=0x0,_0x4df447=new THREE[(_0x10de('0x1ca'))](),_0x37c02b=new THREE[(_0x10de('0x1ca'))](),_0x3d80ad=new THREE[(_0x10de('0x1cc'))](),_0x22f1c2=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x495980=new THREE[(_0x10de('0x9dc'))](),_0x2b38b6=_0x495980[_0x10de('0x9dd')],_0x12b908=0x0;_0x12b908<0x6;_0x12b908++)for(var _0x3f3cf9=_0x129754[_0x10de('0x49c')][_0x12b908],_0x44ae20=_0x3f3cf9[_0x10de('0x35d')],_0x3012a4=_0x3f3cf9[_0x10de('0x32c')],_0x34048e=document[_0x10de('0x87')](_0x10de('0x472')),_0x34048e=(_0x34048e['width']=_0x44ae20,_0x34048e[_0x10de('0x32c')]=_0x3012a4,_0x34048e[_0x10de('0x473')]('2d')),_0x3f3cf9=(_0x34048e[_0x10de('0x474')](_0x3f3cf9,0x0,0x0,_0x44ae20,_0x3012a4),_0x34048e[_0x10de('0x4bd')](0x0,0x0,_0x44ae20,_0x3012a4)),_0x1e6cf7=_0x3f3cf9['data'],_0x5128cb=_0x3f3cf9[_0x10de('0x35d')],_0xa92d4d=0x2/_0x5128cb,_0x17ce5c=0x0,_0x230d30=_0x1e6cf7[_0x10de('0xe')];_0x17ce5c<_0x230d30;_0x17ce5c+=0x4){_0x3d80ad[_0x10de('0x9de')](_0x1e6cf7[_0x17ce5c]/0xff,_0x1e6cf7[_0x17ce5c+0x1]/0xff,_0x1e6cf7[_0x17ce5c+0x2]/0xff),_0x3d80ad[_0x10de('0x9df')](_0x3d80ad);var _0x3dec01=_0x17ce5c/0x4,_0x4c0cd3=(_0x3dec01%_0x5128cb+0.5)*_0xa92d4d-0x1,_0x1739ab=0x1-(Math[_0x10de('0x7d')](_0x3dec01/_0x5128cb)+0.5)*_0xa92d4d;switch(_0x12b908){case 0x0:_0x4df447[_0x10de('0x1e')](-0x1,_0x1739ab,-_0x4c0cd3);break;case 0x1:_0x4df447[_0x10de('0x1e')](0x1,_0x1739ab,_0x4c0cd3);break;case 0x2:_0x4df447[_0x10de('0x1e')](-_0x4c0cd3,0x1,-_0x1739ab);break;case 0x3:_0x4df447[_0x10de('0x1e')](-_0x4c0cd3,-0x1,_0x1739ab);break;case 0x4:_0x4df447[_0x10de('0x1e')](-_0x4c0cd3,_0x1739ab,0x1);break;case 0x5:_0x4df447[_0x10de('0x1e')](_0x4c0cd3,_0x1739ab,-0x1);}_0x3dec01=_0x4df447[_0x10de('0x9e0')](),_0x164fb6+=_0x2cb640=0x4/(Math[_0x10de('0x1d0')](_0x3dec01)*_0x3dec01),_0x37c02b[_0x10de('0x1d3')](_0x4df447)['normalize'](),THREE['SphericalHarmonics3'][_0x10de('0x9e1')](_0x37c02b,_0x22f1c2);for(var _0x38629d=0x0;_0x38629d<0x9;_0x38629d++)_0x2b38b6[_0x38629d]['x']+=_0x22f1c2[_0x38629d]*_0x3d80ad['r']*_0x2cb640,_0x2b38b6[_0x38629d]['y']+=_0x22f1c2[_0x38629d]*_0x3d80ad['g']*_0x2cb640,_0x2b38b6[_0x38629d]['z']+=_0x22f1c2[_0x38629d]*_0x3d80ad['b']*_0x2cb640;}for(var _0x5c9053=0x4*Math['PI']/_0x164fb6,_0x38629d=0x0;_0x38629d<0x9;_0x38629d++)_0x2b38b6[_0x38629d]['x']*=_0x5c9053,_0x2b38b6[_0x38629d]['y']*=_0x5c9053,_0x2b38b6[_0x38629d]['z']*=_0x5c9053;return new THREE[(_0x10de('0x9d3'))](_0x495980);}};},function(_0x3ed996,_0x55a84d,_0x16a445){'use strict';Object[_0x10de('0x2')](_0x55a84d,'__esModule',{'value':!0x0});var _0x4d1f8c=_0x1d13cd(_0x16a445(0x34)),_0x32e35d=_0x1d13cd(_0x16a445(0x11)),_0x1c55b8=_0x1d13cd(_0x16a445(0x5)),_0xb36c1b=_0x1d13cd(_0x16a445(0x0)),_0x114509=_0x1d13cd(_0x16a445(0x1)),_0x4e70f8=_0x16a445(0x13),_0x23bdf0=function(_0x3ed996){if(_0x3ed996&&_0x3ed996[_0x10de('0x5')])return _0x3ed996;var _0x55a84d={};if(null!=_0x3ed996)for(var _0x16a445 in _0x3ed996)Object[_0x10de('0xa')]['hasOwnProperty']['call'](_0x3ed996,_0x16a445)&&(_0x55a84d[_0x16a445]=_0x3ed996[_0x16a445]);return _0x55a84d[_0x10de('0x9')]=_0x3ed996,_0x55a84d;}(_0x16a445(0x36)),_0x1463a8=_0x1d13cd(_0x16a445(0x108));function _0x1d13cd(_0x3ed996){return _0x3ed996&&_0x3ed996[_0x10de('0x5')]?_0x3ed996:{'default':_0x3ed996};}function _0x1b5caa(){(0x0,_0xb36c1b['default'])(this,_0x1b5caa),this[_0x10de('0xcf')]=(0x0,_0x4e70f8[_0x10de('0x3b')])(),this[_0x10de('0x9e2')]=null,this[_0x10de('0x9e3')]=new THREE[(_0x10de('0x1d7'))](),this[_0x10de('0x8cf')]=[],this['isLoadedTileRouteStyle']=!0x1,this[_0x10de('0x9e4')]=null,this[_0x10de('0x9e5')]={},this[_0x10de('0x9e6')]=!0x1,this[_0x10de('0x9e7')]=!0x1,this['changedTileRoutesStyleConfig']=null,this[_0x10de('0x9e8')]=new THREE['Color']();}_0x16a445(0x109),(0x0,_0x114509[_0x10de('0x9')])(_0x1b5caa,[{'key':_0x10de('0x9e9'),'value':function(){var _0x3ed996=((0x0,_0x4e70f8[_0x10de('0x31')])()||(0x0,_0x4e70f8[_0x10de('0x30')])()?this['map'][_0x10de('0x34')](0x0):this[_0x10de('0xcf')])[_0x10de('0x4d1')](0x1);this['routesLineGroup'][_0x10de('0x222')]['y']=_0x3ed996,this[_0x10de('0xcf')][_0x10de('0x46c')]['scene'][_0x10de('0x1d5')](this[_0x10de('0x9e3')]);}},{'key':_0x10de('0x9ea'),'value':function(_0x3ed996,_0x55a84d){_0x3ed996[_0x10de('0x9eb')]?_0x3ed996[_0x10de('0xdc')]=new THREE['TextureLoader']()[_0x10de('0xdb')](getConfigAssetsPath(_0x3ed996[_0x10de('0x9eb')])):_0x3ed996['texture']=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](getConfigAssetsPath(_0x10de('0x87a')));var _0x16a445=new _0x23bdf0['MulripleMeshLine']({'camera':_0x55a84d[_0x10de('0x338')],'texture':_0x3ed996['texture'],'colorStr':_0x3ed996[_0x10de('0x232')],'lineWidth':_0x3ed996[_0x10de('0x337')],'speed':_0x3ed996[_0x10de('0x363')]}),_0xb36c1b=(_0x16a445[_0x10de('0x35b')](this[_0x10de('0xcf')]),!0x0),_0x55a84d=!0x1,_0x114509=void 0x0;try{for(var _0x1d13cd,_0x1b5caa=(0x0,_0x1c55b8[_0x10de('0x9')])(_0x3ed996['list']);!(_0xb36c1b=(_0x1d13cd=_0x1b5caa[_0x10de('0x88')]())['done']);_0xb36c1b=!0x0){var _0x429f44=_0x1d13cd['value'],_0x35a14b=[],_0x3202de=_0x429f44['points'][0x0],_0x500999=!0x0,_0x5c3636=!0x1,_0x4fecdb=void 0x0;try{for(var _0x5d506e,_0x361f5e=(0x0,_0x1c55b8[_0x10de('0x9')])(_0x429f44[_0x10de('0x284')]);!(_0x500999=(_0x5d506e=_0x361f5e[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x500999=!0x0){var _0x83f077,_0x3b0f00,_0x407a62=_0x5d506e[_0x10de('0x10')];_0x3ed996[_0x10de('0x9ec')]&&(_0x83f077=_0x1463a8[_0x10de('0x9')][_0x10de('0x380')](_0x407a62['x'],_0x407a62['y']),_0x3b0f00=_0x1463a8[_0x10de('0x9')][_0x10de('0x37d')](_0x83f077[0x0],_0x83f077[0x1]),_0x407a62['x']=_0x3b0f00[0x0],_0x407a62['y']=_0x3b0f00[0x1]),_0x35a14b['push'](new THREE['Vector3'](-_0x407a62['x'],_0x407a62[_0x10de('0x10a')],_0x407a62['y']));}}catch(_0x701d19){_0x5c3636=!0x0,_0x4fecdb=_0x701d19;}finally{try{!_0x500999&&_0x361f5e[_0x10de('0xdf')]&&_0x361f5e[_0x10de('0xdf')]();}finally{if(_0x5c3636)throw _0x4fecdb;}}var _0xed28c=_0x16a445['addLine'](_0x35a14b);(0x0,_0x4e70f8[_0x10de('0x2f')])(_0xed28c,_0x3202de,_0x3ed996[_0x10de('0x32c')]),_0x3ed996['isHightLight']&&_0xed28c[_0x10de('0x51a')][_0x10de('0x223')](0x1);}}catch(_0x479ac8){_0x55a84d=!0x0,_0x114509=_0x479ac8;}finally{try{!_0xb36c1b&&_0x1b5caa[_0x10de('0xdf')]&&_0x1b5caa[_0x10de('0xdf')]();}finally{if(_0x55a84d)throw _0x114509;}}return _0x16a445;}},{'key':'loadRoutesLine','value':function(_0x3ed996,_0x55a84d){if(this['initHeight'](),(0x0,_0x4e70f8[_0x10de('0x30')])())_0x55a84d['mapId']&&this['map'][_0x10de('0x52')]['navData']&&this[_0x10de('0xcf')][_0x10de('0x52')][_0x10de('0x8ee')][_0x55a84d[_0x10de('0x8fd')]]&&this[_0x10de('0x9ed')](this[_0x10de('0xcf')][_0x10de('0x52')][_0x10de('0x8ee')][_0x55a84d['mapId']][_0x10de('0x9ee')][0x0],_0x55a84d);else{var _0x16a445=!0x0,_0xb36c1b=!0x1,_0x114509=void 0x0;try{for(var _0x1d13cd,_0x1b5caa=(0x0,_0x1c55b8[_0x10de('0x9')])(this['map'][_0x10de('0x9ef')]);!(_0x16a445=(_0x1d13cd=_0x1b5caa[_0x10de('0x88')]())['done']);_0x16a445=!0x0){var _0x54c9e3=_0x1d13cd[_0x10de('0x10')];if(_0x54c9e3['floornum']===_0x3ed996){this['computeNavDataToRoutesData'](_0x54c9e3,_0x55a84d);break;}}}catch(_0x165f74){_0xb36c1b=!0x0,_0x114509=_0x165f74;}finally{try{!_0x16a445&&_0x1b5caa[_0x10de('0xdf')]&&_0x1b5caa[_0x10de('0xdf')]();}finally{if(_0xb36c1b)throw _0x114509;}}}}},{'key':'computeNavDataToRoutesData','value':function(_0x3ed996,_0x55a84d){var _0x16a445,_0xb36c1b=(0x0,_0x32e35d[_0x10de('0x9')])({'height':0x47,'lineWidth':0x4,'color':_0x10de('0x9f0'),'routeList':[],'isHightLight':!0x1},_0x55a84d);for(_0x16a445 in _0x3ed996[_0x10de('0x8ef')]){var _0x114509,_0x1d13cd,_0x1b5caa=_0x3ed996[_0x10de('0x8ef')][_0x16a445];_0x1b5caa[_0x10de('0x9f1')]&&(0x4==_0x1b5caa[_0x10de('0x9f1')]||0x5==_0x1b5caa['bstair'])&&_0x1b5caa[_0x10de('0x9f2')]>=_0x55a84d['rank'][0x0]&&_0x1b5caa[_0x10de('0x9f2')]<_0x55a84d[_0x10de('0x9f2')][0x1]&&(_0x1d13cd=_0x3ed996[_0x10de('0x9f3')][_0x1b5caa['sid']],_0x1b5caa=_0x3ed996[_0x10de('0x9f3')][_0x1b5caa[_0x10de('0x9f4')]],(_0x114509={'points':[]})[_0x10de('0x284')][_0x10de('0x84')]({'x':_0x1d13cd['X'],'y':_0x1d13cd['Y']},{'x':_0x1b5caa['X'],'y':_0x1b5caa['Y']}),_0xb36c1b[_0x10de('0x513')][_0x10de('0x84')](_0x114509));}var _0x310367=this['createRoutesLine']({'color':_0xb36c1b[_0x10de('0x232')],'list':_0xb36c1b[_0x10de('0x513')],'height':_0xb36c1b['height'],'lineWidth':_0xb36c1b[_0x10de('0x337')],'lineTexture':_0xb36c1b[_0x10de('0x9f5')],'isHightLight':_0xb36c1b['isHightLight'],'speed':_0xb36c1b['speed']},this[_0x10de('0xcf')][_0x10de('0x46c')]);this[_0x10de('0x9e3')][_0x10de('0x1d5')](_0x310367[_0x10de('0x368')]),this[_0x10de('0x8cf')][_0x10de('0x84')](_0x310367);}},{'key':_0x10de('0x962'),'value':function(_0x55a84d,_0x16a445){this[_0x10de('0x9e9')]();var _0x3ed996=(0x0,_0x32e35d[_0x10de('0x9')])({'height':0x47,'lineWidth':0x4,'color':'#c37400','routeList':[],'isHightLight':!0x1},_0x55a84d),_0xb36c1b=[],_0x114509=!0x0,_0x55a84d=!0x1,_0x1d13cd=void 0x0;try{for(var _0x1b5caa,_0x1b6a25=(0x0,_0x1c55b8[_0x10de('0x9')])(_0x3ed996['colors']);!(_0x114509=(_0x1b5caa=_0x1b6a25[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x114509=!0x0){var _0x5a5b15=_0x1b5caa['value'];_0xb36c1b['push']({'color':_0x5a5b15[_0x10de('0x232')],'rank':_0x5a5b15['datatype'],'lineTexture':_0x5a5b15[_0x10de('0x9f5')],'routeList':[]});}}catch(_0x5b455a){_0x55a84d=!0x0,_0x1d13cd=_0x5b455a;}finally{try{!_0x114509&&_0x1b6a25[_0x10de('0xdf')]&&_0x1b6a25['return']();}finally{if(_0x55a84d)throw _0x1d13cd;}}var _0x4a46f7=!0x0,_0x55a84d=!0x1,_0x1d13cd=void 0x0;try{for(var _0x3e2425,_0x18d824=(0x0,_0x1c55b8[_0x10de('0x9')])(_0x16a445);!(_0x4a46f7=(_0x3e2425=_0x18d824[_0x10de('0x88')]())['done']);_0x4a46f7=!0x0){var _0x160aed=_0x3e2425['value'],_0x460e45={'points':[]},_0x3ced31=(_0x460e45[_0x10de('0x284')]=JSON[_0x10de('0x2f4')](_0x160aed['datas']),!0x0),_0x17dc3d=!0x1,_0xb7ab02=void 0x0;try{for(var _0x1c736a,_0x364bb1=(0x0,_0x1c55b8[_0x10de('0x9')])(_0xb36c1b);!(_0x3ced31=(_0x1c736a=_0x364bb1['next']())[_0x10de('0x32b')]);_0x3ced31=!0x0){var _0x4e70f8=_0x1c736a['value'];_0x10de('0x6')===(0x0,_0x4d1f8c[_0x10de('0x9')])(_0x4e70f8['rank'])&&+_0x160aed[_0x10de('0x9f6')]>=_0x4e70f8[_0x10de('0x9f2')][0x0]&&+_0x160aed[_0x10de('0x9f6')]<_0x4e70f8[_0x10de('0x9f2')][0x1]&&_0x4e70f8[_0x10de('0x513')]['push'](_0x460e45),_0x10de('0x7')==typeof _0x4e70f8[_0x10de('0x9f2')]&&_0x160aed['datatype']==_0x4e70f8[_0x10de('0x9f2')]&&_0x4e70f8['routeList'][_0x10de('0x84')](_0x460e45);}}catch(_0x49821b){_0x17dc3d=!0x0,_0xb7ab02=_0x49821b;}finally{try{!_0x3ced31&&_0x364bb1['return']&&_0x364bb1[_0x10de('0xdf')]();}finally{if(_0x17dc3d)throw _0xb7ab02;}}}}catch(_0x23e6ca){_0x55a84d=!0x0,_0x1d13cd=_0x23e6ca;}finally{try{!_0x4a46f7&&_0x18d824[_0x10de('0xdf')]&&_0x18d824[_0x10de('0xdf')]();}finally{if(_0x55a84d)throw _0x1d13cd;}}var _0x23bdf0=!0x0,_0x16a445=!0x1,_0x55a84d=void 0x0;try{for(var _0x1463a8,_0x30e738=(0x0,_0x1c55b8[_0x10de('0x9')])(_0xb36c1b);!(_0x23bdf0=(_0x1463a8=_0x30e738[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x23bdf0=!0x0){var _0x5e4322=_0x1463a8[_0x10de('0x10')],_0x5e3f41=this[_0x10de('0x9ea')]({'color':_0x5e4322['color'],'list':_0x5e4322[_0x10de('0x513')],'height':_0x3ed996[_0x10de('0x32c')],'lineWidth':_0x3ed996[_0x10de('0x337')],'coordTrans':_0x3ed996[_0x10de('0x9ec')],'lineTexture':_0x3ed996[_0x10de('0x9f5')],'isHightLight':_0x3ed996[_0x10de('0x9f7')],'speed':_0x3ed996[_0x10de('0x363')]},map[_0x10de('0x46c')]);this[_0x10de('0x9e3')][_0x10de('0x1d5')](_0x5e3f41[_0x10de('0x368')]),this[_0x10de('0x8cf')][_0x10de('0x84')](_0x5e3f41);}}catch(_0x1e3cf7){_0x16a445=!0x0,_0x55a84d=_0x1e3cf7;}finally{try{!_0x23bdf0&&_0x30e738[_0x10de('0xdf')]&&_0x30e738[_0x10de('0xdf')]();}finally{if(_0x16a445)throw _0x55a84d;}}}},{'key':_0x10de('0x8f2'),'value':function(_0x3ed996,_0x55a84d,_0x16a445,_0xb36c1b){_0xb36c1b&&(this['isCanChangeTileRoutesStyle']=_0xb36c1b),this[_0x10de('0x9f8')]();var _0x114509,_0x1d13cd=this['map'][_0x10de('0x98a')](_0x55a84d);if(_0x1d13cd){for(var _0x1b5caa in _0x3ed996){_0x1b5caa=_0x3ed996[_0x1b5caa];if(_0x1b5caa[_0x10de('0x284')]=this['computeTileRoutesData'](_0x1b5caa),_0x1b5caa[_0x10de('0x284')]=this[_0x10de('0xcf')]['transformCoordArray']({'from':this[_0x10de('0xcf')][_0x10de('0x9f9')],'to':this['map']['coordSystem'],'coords':_0x1b5caa[_0x10de('0x284')],'flipX':!0x1}),this['tileRoutesMarkers'][_0x1b5caa[_0x10de('0x70')]]){var _0x2f7bc5=this[_0x10de('0x9e5')][_0x1b5caa[_0x10de('0x70')]][_0x10de('0x34b')](_0x1b5caa[_0x10de('0x284')],new THREE[(_0x10de('0x1ca'))](this[_0x10de('0xcf')][_0x10de('0x37')][_0x10de('0x36')],0x0,this[_0x10de('0xcf')][_0x10de('0x37')][_0x10de('0x38')]));if(_0xb36c1b){var _0x405739=[],_0x44b691=_0x2f7bc5['attributes'][_0x10de('0x222')][_0x10de('0x114')];this[_0x10de('0x9e8')]['setStyle']('#FFFFFF');for(var _0x5d83b8=0x0;_0x5d83b8<_0x44b691;_0x5d83b8++)_0x405739[_0x10de('0x84')](this[_0x10de('0x9e8')]['r'],this[_0x10de('0x9e8')]['g'],this[_0x10de('0x9e8')]['b']);_0x2f7bc5[_0x10de('0x202')](_0x10de('0x9fa'),new THREE[(_0x10de('0x116'))](new Float32Array(_0x405739),0x3)),this[_0x10de('0x9e5')][_0x1b5caa[_0x10de('0x70')]][_0x10de('0x9fb')][_0x1b5caa['_id']]={'count':_0x44b691,'colorStr':'#FFFFFF'};}_0x2f7bc5['routeId']=_0x1b5caa[_0x10de('0x9fc')],this[_0x10de('0x9e5')][_0x1b5caa['style']][_0x10de('0x9fd')][_0x10de('0x84')](_0x2f7bc5);}}for(var _0x1e605c in this['tileRoutesMarkers'])0x0<this[_0x10de('0x9e5')][_0x1e605c][_0x10de('0x9fd')][_0x10de('0xe')]&&(_0x114509=this[_0x10de('0x9fe')](this[_0x10de('0x9e5')][_0x1e605c][_0x10de('0x9fd')]),_0x114509=new THREE[(_0x10de('0x348'))](_0x114509,this[_0x10de('0x9e5')][_0x1e605c][_0x10de('0x9ff')]),_0x16a445&&_0x114509['layers']['enable'](0x1),_0x114509[_0x10de('0x349')]=0x14,_0x114509[_0x10de('0xa00')]=_0x55a84d,_0x114509['name']=_0x10de('0xa01'),_0x114509[_0x10de('0xa02')]=this[_0x10de('0x9e5')][_0x1e605c][_0x10de('0x9fb')],_0x1d13cd[_0x10de('0x4d4')]['add'](_0x114509),this['tileRoutesMarkers'][_0x1e605c][_0x10de('0x9fd')][_0x10de('0xe')]=0x0,this[_0x10de('0x9e5')][_0x1e605c][_0x10de('0x9fb')]={});}}},{'key':_0x10de('0x9fe'),'value':function(_0x3ed996){var _0x55a84d=[],_0x16a445=[],_0xb36c1b=!0x0,_0x114509=!0x1,_0x1d13cd=void 0x0;try{for(var _0x1b5caa,_0x4205b2=(0x0,_0x1c55b8[_0x10de('0x9')])(_0x3ed996);!(_0xb36c1b=(_0x1b5caa=_0x4205b2[_0x10de('0x88')]())[_0x10de('0x32b')]);_0xb36c1b=!0x0){var _0x559ef8=_0x1b5caa['value'];_0x55a84d[_0x10de('0x84')](_0x559ef8),_0x16a445[_0x10de('0x84')](_0x559ef8[_0x10de('0xa03')]);}}catch(_0x59aab5){_0x114509=!0x0,_0x1d13cd=_0x59aab5;}finally{try{!_0xb36c1b&&_0x4205b2[_0x10de('0xdf')]&&_0x4205b2[_0x10de('0xdf')]();}finally{if(_0x114509)throw _0x1d13cd;}}_0x3ed996=THREE[_0x10de('0xa04')][_0x10de('0xa05')](_0x55a84d,!0x1);return _0x3ed996[_0x10de('0xa06')](0x0,_0x3ed996[_0x10de('0x17e')][_0x10de('0x222')][_0x10de('0x114')],0x0),_0x3ed996['routeIds']=_0x16a445,_0x3ed996;}},{'key':_0x10de('0xa07'),'value':function(_0x3ed996){for(var _0x55a84d in this[_0x10de('0x9e5')])this[_0x10de('0x9e5')][_0x55a84d][_0x10de('0xa08')](!0x0);for(var _0x16a445=0x0,_0xb36c1b=this[_0x10de('0xcf')]['tileList']['length'];_0x16a445<_0xb36c1b;_0x16a445++)for(var _0x114509=0x0,_0x1d13cd=this[_0x10de('0xcf')]['tileList'][_0x16a445][_0x10de('0x4d4')][_0x10de('0x351')][_0x10de('0xe')];_0x114509<_0x1d13cd;_0x114509++)if(_0x10de('0xa01')===this[_0x10de('0xcf')][_0x10de('0xa09')][_0x16a445]['o3d_'][_0x10de('0x351')][_0x114509][_0x10de('0x8c')]){var _0x1b5caa,_0x4f3e26=this[_0x10de('0xcf')][_0x10de('0xa09')][_0x16a445][_0x10de('0x4d4')][_0x10de('0x351')][_0x114509],_0x89171a=_0x4f3e26[_0x10de('0xd0')][_0x10de('0x17e')][_0x10de('0x9fa')],_0x5be673=0x0;for(_0x1b5caa in _0x4f3e26[_0x10de('0xa02')]){_0x4f3e26[_0x10de('0xa02')][_0x1b5caa][_0x10de('0x32f')]=_0x3ed996[Math[_0x10de('0x7d')](0x3*Math[_0x10de('0x63')]())],this[_0x10de('0x9e8')][_0x10de('0x331')](_0x4f3e26['lineColorMapping'][_0x1b5caa][_0x10de('0x32f')]);for(var _0x2a6ad1=0x3*_0x5be673,_0x340fd3=0x3*(_0x5be673+_0x4f3e26[_0x10de('0xa02')][_0x1b5caa][_0x10de('0x114')]);_0x2a6ad1<_0x340fd3;_0x2a6ad1+=0x3)_0x89171a[_0x10de('0xec')][_0x2a6ad1]=this[_0x10de('0x9e8')]['r'],_0x89171a['array'][_0x2a6ad1+0x1]=this[_0x10de('0x9e8')]['g'],_0x89171a[_0x10de('0xec')][_0x2a6ad1+0x2]=this[_0x10de('0x9e8')]['b'];_0x5be673+=_0x4f3e26[_0x10de('0xa02')][_0x1b5caa]['count'];}_0x89171a[_0x10de('0x10c')]=!0x0;}this[_0x10de('0x9e7')]=!0x0;}},{'key':_0x10de('0x925'),'value':function(_0x3ed996){var _0x55a84d=void 0x0,_0x16a445=void 0x0;if(_0x3ed996?(_0x55a84d=_0x3ed996[_0x10de('0xa0a')],_0x16a445=_0x3ed996['lineScale'],this[_0x10de('0xa0b')]=_0x3ed996):(_0x55a84d=this[_0x10de('0xa0b')]['colorList'],_0x16a445=this[_0x10de('0xa0b')][_0x10de('0xa0c')]),_0x55a84d&&this['updateTileRoutesRandomColors'](_0x55a84d),_0x16a445)for(var _0xb36c1b in this[_0x10de('0x9e5')])this[_0x10de('0x9e5')][_0xb36c1b]['scaleLineWidth'](_0x16a445);}},{'key':'recoverTileRoutesStyle','value':function(){if(this[_0x10de('0xa0b')]){for(var _0x3ed996 in this['tileRoutesMarkers'])this[_0x10de('0x9e5')][_0x3ed996][_0x10de('0xa08')](!0x1),this[_0x10de('0x9e5')][_0x3ed996]['scaleLineWidth'](0x1);this[_0x10de('0x9e7')]=!0x1,this[_0x10de('0xa0b')]=null;}}},{'key':'toggleTileRoutesVisible','value':function(){var _0x3ed996,_0x55a84d=0x0<arguments['length']&&void 0x0!==arguments[0x0]&&arguments[0x0];for(_0x3ed996 in this[_0x10de('0x9e5')])this[_0x10de('0x9e5')][_0x3ed996]['_getMaterial']['visible']=_0x55a84d;}},{'key':'createTileRouteStyles','value':function(){if(!this[_0x10de('0xa0d')]){for(var _0x3ed996 in this['routeEffectLayer']=new esmap[(_0x10de('0x4f'))]['EffectLayer']('tileRoutes',esmap[_0x10de('0x4c5')]['EFFECT_MARKER']),esmap[_0x10de('0x4f')][_0x10de('0x8fe')](this[_0x10de('0xa0e')]),this['map']['mapTheme'][_0x10de('0xa0f')]){var _0x55a84d=this[_0x10de('0xcf')][_0x10de('0x3c')][_0x10de('0xa0f')][_0x3ed996],_0x16a445=(_0x55a84d[_0x10de('0x232')]=esmap[_0x10de('0x39')][_0x10de('0xa10')](_0x55a84d[_0x10de('0x232')]),null),_0x16a445=(0x1==_0x55a84d['filltype']&&(_0x16a445=_0x55a84d[_0x10de('0x232')]),new esmap[(_0x10de('0x4f'))][(_0x10de('0x903'))](esmap[_0x10de('0x27c')][_0x10de('0x539')],{'color':_0x16a445,'height':0x0,'lineWidth':1.5*_0x55a84d[_0x10de('0xa11')],'imgUrl':0x2==_0x55a84d[_0x10de('0x594')]?_0x55a84d[_0x10de('0xa12')]:null,'speed':_0x55a84d[_0x10de('0xa13')]/0xc8,'isCanChangeStyle':this[_0x10de('0x9e6')],'opacity':_0x55a84d[_0x10de('0x233')]}));this[_0x10de('0xa0e')][_0x10de('0x905')](_0x16a445),this['tileRoutesMarkers'][_0x3ed996]=_0x16a445,this[_0x10de('0x9e5')][_0x3ed996]['geometries']=[],this[_0x10de('0x9e5')][_0x3ed996][_0x10de('0x9fb')]={};}this[_0x10de('0xa0d')]=!0x0;}}},{'key':_0x10de('0xa14'),'value':function(_0x3ed996){var _0x55a84d=_0x3ed996[_0x10de('0xa15')][_0x10de('0xa16')](0x2,_0x3ed996[_0x10de('0xa15')][_0x10de('0xe')]-0x2)[_0x10de('0x68')](/,/),_0x16a445={'x':0x0,'y':0x0};if(0x0!=_0x55a84d['length']){for(var _0xb36c1b=[],_0x114509=0x0;_0x114509<_0x55a84d[_0x10de('0xe')];_0x114509++){var _0x1d13cd=_0x55a84d[_0x114509][_0x10de('0x68')]('\x20'),_0x1b5caa=+_0x1d13cd[0x2]||0x0;_0xb36c1b[_0x10de('0x84')]({'x':+_0x1d13cd[0x0]+_0x16a445['x'],'y':+_0x1d13cd[0x1]+_0x16a445['y'],'offset':_0x1b5caa}),0x0==_0x114509&&(_0x16a445['x']=+_0x1d13cd[0x0],_0x16a445['y']=+_0x1d13cd[0x1]);}return _0xb36c1b;}}},{'key':'disposeAll','value':function(){for(var _0x3ed996,_0x55a84d=0x0,_0x16a445=this[_0x10de('0x8cf')][_0x10de('0xe')];_0x55a84d<_0x16a445;_0x55a84d++)this[_0x10de('0x8cf')][_0x55a84d][_0x10de('0xce')](),this['routesMarkers'][_0x55a84d]=null;for(_0x3ed996 in this[_0x10de('0x8cf')]['length']=0x0,this[_0x10de('0x9e4')]&&(this['routesEffectLayer'][_0x10de('0xce')](),this[_0x10de('0x9e4')]=null),this[_0x10de('0x9e5')])delete this[_0x10de('0x9e5')][_0x3ed996];}},{'key':_0x10de('0x362'),'value':function(){if(0x0<this[_0x10de('0x8cf')][_0x10de('0xe')]){var _0x3ed996=!0x0,_0x55a84d=!0x1,_0x16a445=void 0x0;try{for(var _0xb36c1b,_0x114509=(0x0,_0x1c55b8[_0x10de('0x9')])(this[_0x10de('0x8cf')]);!(_0x3ed996=(_0xb36c1b=_0x114509[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x3ed996=!0x0)_0xb36c1b[_0x10de('0x10')][_0x10de('0x362')]();}catch(_0x5534b5){_0x55a84d=!0x0,_0x16a445=_0x5534b5;}finally{try{!_0x3ed996&&_0x114509[_0x10de('0xdf')]&&_0x114509[_0x10de('0xdf')]();}finally{if(_0x55a84d)throw _0x16a445;}}}}}]),_0x55a84d[_0x10de('0x9')]=_0x1b5caa;},function(_0x20a065,_0xa83ebe,_0x4fceb9){'use strict';Object[_0x10de('0x2')](_0xa83ebe,_0x10de('0x5'),{'value':!0x0});var _0x103f8a=_0x90d6af(_0x4fceb9(0x0));function _0x90d6af(_0x20a065){return _0x20a065&&_0x20a065[_0x10de('0x5')]?_0x20a065:{'default':_0x20a065};}function _0x2621fe(){(0x0,_0x103f8a[_0x10de('0x9')])(this,_0x2621fe);}(0x0,_0x90d6af(_0x4fceb9(0x1))['default'])(_0x2621fe,null,[{'key':_0x10de('0x37d'),'value':function(_0x20a065,_0xa83ebe){var _0x4fceb9=[],_0x20a065=20037508.342789*_0x20a065/0xb4,_0xa83ebe=Math[_0x10de('0x4b4')](Math[_0x10de('0xa17')]((0x5a+_0xa83ebe)*Math['PI']/0x168))/(Math['PI']/0xb4)*20037508.34789/0xb4;return _0x4fceb9[_0x10de('0x84')](_0x20a065),_0x4fceb9[_0x10de('0x84')](_0xa83ebe),_0x4fceb9;}},{'key':_0x10de('0x380'),'value':function(_0x20a065,_0xa83ebe){var _0x4fceb9=[],_0x20a065=_0x20a065/20037508.342789*0xb4,_0xa83ebe=_0xa83ebe/20037508.342789*0xb4,_0xa83ebe=0xb4/Math['PI']*(0x2*Math[_0x10de('0xa18')](Math[_0x10de('0xa19')](_0xa83ebe*Math['PI']/0xb4))-Math['PI']/0x2);return _0x4fceb9[_0x10de('0x84')](_0x20a065),_0x4fceb9['push'](_0xa83ebe),_0x4fceb9;}}]),_0xa83ebe[_0x10de('0x9')]=_0x2621fe;},function(_0x3132db,_0x582a87,_0x36a748){'use strict';var _0x59bb41=_0x18d7d6(_0x36a748(0xae)),_0xa4af63=_0x18d7d6(_0x36a748(0x10a)),_0xfddbb3=_0x18d7d6(_0x36a748(0x3f)),_0x3b8368=_0x18d7d6(_0x36a748(0x84));function _0x18d7d6(_0x3132db){return _0x3132db&&_0x3132db[_0x10de('0x5')]?_0x3132db:{'default':_0x3132db};}THREE[_0x10de('0xa04')]={'computeTangents':function(_0x3132db){var _0x17db6f=_0x3132db[_0x10de('0x32a')],_0x582a87=_0x3132db[_0x10de('0x17e')];if(null!==_0x17db6f&&void 0x0!==_0x582a87[_0x10de('0x222')]&&void 0x0!==_0x582a87[_0x10de('0x711')]&&void 0x0!==_0x582a87['uv']){for(var _0x36a748=_0x17db6f[_0x10de('0xec')],_0x18d7d6=_0x582a87['position']['array'],_0x541e3f=_0x582a87[_0x10de('0x711')]['array'],_0x3cdcbe=_0x582a87['uv'][_0x10de('0xec')],_0x258413=_0x18d7d6['length']/0x3,_0x40be76=(void 0x0===_0x582a87[_0x10de('0xa1a')]&&_0x3132db['addAttribute']('tangent',new THREE[(_0x10de('0x116'))](new Float32Array(0x4*_0x258413),0x4)),_0x582a87[_0x10de('0xa1a')]['array']),_0xd9a774=[],_0x17aef3=[],_0xb44403=0x0;_0xb44403<_0x258413;_0xb44403++)_0xd9a774[_0xb44403]=new THREE['Vector3'](),_0x17aef3[_0xb44403]=new THREE[(_0x10de('0x1ca'))]();for(var _0x41b5cc,_0x429fea,_0x55afb2,_0x2ea84e,_0x41ed7a,_0x1568ec,_0x2f3ff8,_0x25f3a2,_0x50e7c3,_0x510c7c,_0xd4d3d8,_0x5dcb48,_0x3b8368,_0x497383,_0x1f433b=new THREE[(_0x10de('0x1ca'))](),_0x51e042=new THREE['Vector3'](),_0x32d95d=new THREE[(_0x10de('0x1ca'))](),_0x23be90=new THREE[(_0x10de('0x1c8'))](),_0x320ef8=new THREE[(_0x10de('0x1c8'))](),_0xc32481=new THREE['Vector2'](),_0x5a0a1c=new THREE[(_0x10de('0x1ca'))](),_0x4ae631=new THREE['Vector3'](),_0x251407=_0x3132db[_0x10de('0xa1b')],_0xb44403=0x0,_0x433686=(_0x251407=0x0===_0x251407['length']?[{'start':0x0,'count':_0x36a748[_0x10de('0xe')]}]:_0x251407)[_0x10de('0xe')];_0xb44403<_0x433686;++_0xb44403)for(var _0x40cb71=_0x2c05f4=(_0xfddbb3=_0x251407[_0xb44403])[_0x10de('0x31b')],_0x21a8f5=_0x2c05f4+_0xfddbb3['count'];_0x40cb71<_0x21a8f5;_0x40cb71+=0x3)_0x41b5cc=_0x36a748[_0x40cb71+0x0],_0x429fea=_0x36a748[_0x40cb71+0x1],_0x55afb2=_0x36a748[_0x40cb71+0x2],0x0,_0x1f433b[_0x10de('0x3b7')](_0x18d7d6,0x3*_0x41b5cc),_0x51e042['fromArray'](_0x18d7d6,0x3*_0x429fea),_0x32d95d[_0x10de('0x3b7')](_0x18d7d6,0x3*_0x55afb2),_0x23be90['fromArray'](_0x3cdcbe,0x2*_0x41b5cc),_0x320ef8[_0x10de('0x3b7')](_0x3cdcbe,0x2*_0x429fea),_0xc32481[_0x10de('0x3b7')](_0x3cdcbe,0x2*_0x55afb2),_0x2ea84e=_0x51e042['x']-_0x1f433b['x'],_0x41ed7a=_0x32d95d['x']-_0x1f433b['x'],_0x1568ec=_0x51e042['y']-_0x1f433b['y'],_0x2f3ff8=_0x32d95d['y']-_0x1f433b['y'],_0x25f3a2=_0x51e042['z']-_0x1f433b['z'],_0x50e7c3=_0x32d95d['z']-_0x1f433b['z'],_0x510c7c=_0x320ef8['x']-_0x23be90['x'],_0xd4d3d8=_0xc32481['x']-_0x23be90['x'],_0x5dcb48=_0x320ef8['y']-_0x23be90['y'],_0x3b8368=_0xc32481['y']-_0x23be90['y'],_0x5a0a1c['set']((_0x3b8368*_0x2ea84e-_0x5dcb48*_0x41ed7a)*(_0x497383=0x1/(_0x510c7c*_0x3b8368-_0xd4d3d8*_0x5dcb48)),(_0x3b8368*_0x1568ec-_0x5dcb48*_0x2f3ff8)*_0x497383,(_0x3b8368*_0x25f3a2-_0x5dcb48*_0x50e7c3)*_0x497383),_0x4ae631[_0x10de('0x1e')]((_0x510c7c*_0x41ed7a-_0xd4d3d8*_0x2ea84e)*_0x497383,(_0x510c7c*_0x2f3ff8-_0xd4d3d8*_0x1568ec)*_0x497383,(_0x510c7c*_0x50e7c3-_0xd4d3d8*_0x25f3a2)*_0x497383),_0xd9a774[_0x41b5cc]['add'](_0x5a0a1c),_0xd9a774[_0x429fea][_0x10de('0x1d5')](_0x5a0a1c),_0xd9a774[_0x55afb2][_0x10de('0x1d5')](_0x5a0a1c),_0x17aef3[_0x41b5cc][_0x10de('0x1d5')](_0x4ae631),_0x17aef3[_0x429fea]['add'](_0x4ae631),_0x17aef3[_0x55afb2]['add'](_0x4ae631);for(var _0x4c7bd7,_0x59bb41=new THREE['Vector3'](),_0x2beefc=new THREE[(_0x10de('0x1ca'))](),_0xa4af63=new THREE[(_0x10de('0x1ca'))](),_0x139bd9=new THREE[(_0x10de('0x1ca'))](),_0xb44403=0x0,_0x433686=_0x251407['length'];_0xb44403<_0x433686;++_0xb44403)for(var _0xfddbb3,_0x2c05f4,_0x40cb71=_0x2c05f4=(_0xfddbb3=_0x251407[_0xb44403])[_0x10de('0x31b')],_0x21a8f5=_0x2c05f4+_0xfddbb3[_0x10de('0x114')];_0x40cb71<_0x21a8f5;_0x40cb71+=0x3)_0x150c6f(_0x36a748[_0x40cb71+0x0]),_0x150c6f(_0x36a748[_0x40cb71+0x1]),_0x150c6f(_0x36a748[_0x40cb71+0x2]);}function _0x150c6f(_0x3132db){_0xa4af63[_0x10de('0x3b7')](_0x541e3f,0x3*_0x3132db),_0x139bd9['copy'](_0xa4af63),_0x4c7bd7=_0xd9a774[_0x3132db],_0x59bb41['copy'](_0x4c7bd7),_0x59bb41[_0x10de('0x329')](_0xa4af63['multiplyScalar'](_0xa4af63[_0x10de('0x70a')](_0x4c7bd7)))['normalize'](),_0x2beefc[_0x10de('0xa1c')](_0x139bd9,_0x4c7bd7),_0x4c7bd7=_0x2beefc[_0x10de('0x70a')](_0x17aef3[_0x3132db]),_0x4c7bd7=_0x4c7bd7<0x0?-0x1:0x1,_0x40be76[0x4*_0x3132db]=_0x59bb41['x'],_0x40be76[0x4*_0x3132db+0x1]=_0x59bb41['y'],_0x40be76[0x4*_0x3132db+0x2]=_0x59bb41['z'],_0x40be76[0x4*_0x3132db+0x3]=_0x4c7bd7;}},'splitBufferGeometryByLimit':function(_0x3132db,_0x582a87,_0x36a748){_0x36a748=(null===_0x36a748?0x1/0x0:_0x36a748)||0xc350;for(var _0x18d7d6=0x0,_0x4d4260=0x0,_0x45ff8d=[[]],_0xe87ce3=0x0;_0xe87ce3<_0x3132db[_0x10de('0xe')];_0xe87ce3++){var _0x3be002=_0x3132db[_0xe87ce3];_0x3be002[_0x10de('0x17e')][_0x10de('0x222')]&&((_0x18d7d6+=_0x3be002[_0x10de('0x17e')][_0x10de('0x222')][_0x10de('0x114')])<_0x36a748?(_0x45ff8d[_0x4d4260]instanceof Array||(_0x45ff8d[_0x4d4260]=[]),_0x45ff8d[_0x4d4260]['push'](_0x3be002)):(_0x18d7d6=0x0,_0x45ff8d[_0x4d4260]instanceof Array||(_0x45ff8d[_0x4d4260]=[]),_0x45ff8d[_0x4d4260][_0x10de('0x84')](_0x3be002),_0x4d4260++));}for(var _0x27792a=[],_0x88f7e6=0x0;_0x88f7e6<_0x45ff8d['length'];_0x88f7e6++){var _0x54952d=this[_0x10de('0xa05')](_0x45ff8d[_0x88f7e6],_0x582a87);_0x27792a[_0x10de('0x84')](_0x54952d);}return _0x27792a;},'mergeBufferGeometries':function(_0x3132db,_0x582a87){for(var _0x36a748=null!==_0x3132db[0x0][_0x10de('0x32a')],_0x18d7d6=new _0x3b8368[(_0x10de('0x9'))]((0x0,_0xfddbb3[_0x10de('0x9')])(_0x3132db[0x0][_0x10de('0x17e')])),_0x25161f=new _0x3b8368[(_0x10de('0x9'))]((0x0,_0xfddbb3[_0x10de('0x9')])(_0x3132db[0x0][_0x10de('0x73a')])),_0x47fe4e={},_0x1a4648={},_0xfb9102=new THREE['BufferGeometry'](),_0x5e1268=0x0,_0xdc0bd6=0x0;_0xdc0bd6<_0x3132db[_0x10de('0xe')];++_0xdc0bd6){var _0x440e30,_0x4cd244,_0x370ca6=_0x3132db[_0xdc0bd6];if(_0x36a748!=(null!==_0x370ca6[_0x10de('0x32a')]))return null;for(_0x440e30 in _0x370ca6[_0x10de('0x17e')]){if(!_0x18d7d6['has'](_0x440e30))return null;void 0x0===_0x47fe4e[_0x440e30]&&(_0x47fe4e[_0x440e30]=[]),_0x47fe4e[_0x440e30][_0x10de('0x84')](_0x370ca6[_0x10de('0x17e')][_0x440e30]);}for(_0x440e30 in _0x370ca6[_0x10de('0x73a')]){if(!_0x25161f[_0x10de('0xa1d')](_0x440e30))return null;void 0x0===_0x1a4648[_0x440e30]&&(_0x1a4648[_0x440e30]=[]),_0x1a4648[_0x440e30][_0x10de('0x84')](_0x370ca6[_0x10de('0x73a')][_0x440e30]);}if(_0xfb9102[_0x10de('0x41')][_0x10de('0xa1e')]=_0xfb9102[_0x10de('0x41')][_0x10de('0xa1e')]||[],_0xfb9102[_0x10de('0x41')][_0x10de('0xa1e')][_0x10de('0x84')](_0x370ca6['userData']),_0x582a87){if(_0x36a748)_0x4cd244=_0x370ca6[_0x10de('0x32a')][_0x10de('0x114')];else{if(void 0x0===_0x370ca6['attributes'][_0x10de('0x222')])return null;_0x4cd244=_0x370ca6['attributes'][_0x10de('0x222')][_0x10de('0x114')];}_0xfb9102[_0x10de('0xa06')](_0x5e1268,_0x4cd244,_0xdc0bd6),_0x5e1268+=_0x4cd244;}}if(_0x36a748){for(var _0x15835a=0x0,_0xd13f8a=[],_0xdc0bd6=0x0;_0xdc0bd6<_0x3132db[_0x10de('0xe')];++_0xdc0bd6){for(var _0x2cdd9a=_0x3132db[_0xdc0bd6]['index'],_0x225523=0x0;_0x225523<_0x2cdd9a['count'];++_0x225523)_0xd13f8a[_0x10de('0x84')](_0x2cdd9a[_0x10de('0x7c7')](_0x225523)+_0x15835a);_0x15835a+=_0x3132db[_0xdc0bd6][_0x10de('0x17e')][_0x10de('0x222')]['count'];}_0xfb9102[_0x10de('0x3be')](_0xd13f8a);}for(_0x440e30 in _0x47fe4e){var _0xd19b5d=this[_0x10de('0xa1f')](_0x47fe4e[_0x440e30]);if(!_0xd19b5d)return null;_0xfb9102[_0x10de('0x202')](_0x440e30,_0xd19b5d);}for(_0x440e30 in _0x1a4648){var _0x1d056d=_0x1a4648[_0x440e30][0x0][_0x10de('0xe')];if(0x0===_0x1d056d)break;for(_0xfb9102[_0x10de('0x73a')]=_0xfb9102[_0x10de('0x73a')]||{},_0xfb9102[_0x10de('0x73a')][_0x440e30]=[],_0xdc0bd6=0x0;_0xdc0bd6<_0x1d056d;++_0xdc0bd6){for(var _0x3f081a=[],_0x225523=0x0;_0x225523<_0x1a4648[_0x440e30]['length'];++_0x225523)_0x3f081a['push'](_0x1a4648[_0x440e30][_0x225523][_0xdc0bd6]);var _0x7e80b6=this[_0x10de('0xa1f')](_0x3f081a);if(!_0x7e80b6)return null;_0xfb9102[_0x10de('0x73a')][_0x440e30][_0x10de('0x84')](_0x7e80b6);}}return _0xfb9102;},'mergeBufferAttributes':function(_0x3132db){for(var _0x582a87,_0x36a748,_0x18d7d6,_0x10490a=0x0,_0x567758=0x0;_0x567758<_0x3132db[_0x10de('0xe')];++_0x567758){var _0x39340c=_0x3132db[_0x567758];if(_0x39340c['isInterleavedBufferAttribute'])return null;if((_0x582a87=void 0x0===_0x582a87?_0x39340c[_0x10de('0xec')][_0x10de('0xd7')]:_0x582a87)!==_0x39340c[_0x10de('0xec')][_0x10de('0xd7')])return null;if((_0x36a748=void 0x0===_0x36a748?_0x39340c['itemSize']:_0x36a748)!==_0x39340c[_0x10de('0x115')])return null;if((_0x18d7d6=void 0x0===_0x18d7d6?_0x39340c[_0x10de('0xa20')]:_0x18d7d6)!==_0x39340c[_0x10de('0xa20')])return null;_0x10490a+=_0x39340c['array'][_0x10de('0xe')];}for(var _0x19f349=new _0x582a87(_0x10490a),_0x15845d=0x0,_0x567758=0x0;_0x567758<_0x3132db[_0x10de('0xe')];++_0x567758)_0x19f349['set'](_0x3132db[_0x567758]['array'],_0x15845d),_0x15845d+=_0x3132db[_0x567758]['array'][_0x10de('0xe')];return new THREE[(_0x10de('0x116'))](_0x19f349,_0x36a748,_0x18d7d6);},'interleaveAttributes':function(_0x3132db){for(var _0x582a87,_0x36a748=0x0,_0x18d7d6=0x0,_0x56d08c=0x0,_0x3cda31=_0x3132db['length'];_0x56d08c<_0x3cda31;++_0x56d08c){var _0x46a834=_0x3132db[_0x56d08c];if((_0x582a87=void 0x0===_0x582a87?_0x46a834[_0x10de('0xec')][_0x10de('0xd7')]:_0x582a87)!==_0x46a834['array'][_0x10de('0xd7')])return null;_0x36a748+=_0x46a834[_0x10de('0xec')][_0x10de('0xe')],_0x18d7d6+=_0x46a834['itemSize'];}for(var _0x386a9a=new THREE[(_0x10de('0x44f'))](new _0x582a87(_0x36a748),_0x18d7d6),_0x3f4db5=0x0,_0x43a10f=[],_0x10cd45=[_0x10de('0x7c7'),_0x10de('0x7c8'),'getZ',_0x10de('0xa21')],_0x2aaaca=['setX',_0x10de('0xa22'),_0x10de('0xa23'),'setW'],_0x1a4e93=0x0,_0x3cda31=_0x3132db['length'];_0x1a4e93<_0x3cda31;_0x1a4e93++){var _0x4584d8=(_0x46a834=_0x3132db[_0x1a4e93])[_0x10de('0x115')],_0x4d013d=_0x46a834[_0x10de('0x114')],_0x30b061=new THREE[(_0x10de('0x451'))](_0x386a9a,_0x4584d8,_0x3f4db5,_0x46a834[_0x10de('0xa20')]);_0x43a10f[_0x10de('0x84')](_0x30b061),_0x3f4db5+=_0x4584d8;for(var _0xc93b7d=0x0;_0xc93b7d<_0x4d013d;_0xc93b7d++)for(var _0x1ac73d=0x0;_0x1ac73d<_0x4584d8;_0x1ac73d++)_0x30b061[_0x2aaaca[_0x1ac73d]](_0xc93b7d,_0x46a834[_0x10cd45[_0x1ac73d]](_0xc93b7d));}return _0x43a10f;},'estimateBytesUsed':function(_0x3132db){var _0x582a87,_0x36a748=0x0;for(_0x582a87 in _0x3132db[_0x10de('0x17e')]){var _0x18d7d6=_0x3132db[_0x10de('0x6df')](_0x582a87);_0x36a748+=_0x18d7d6['count']*_0x18d7d6[_0x10de('0x115')]*_0x18d7d6[_0x10de('0xec')][_0x10de('0xa24')];}var _0x55bd2d=_0x3132db['getIndex']();return _0x36a748+(_0x55bd2d?_0x55bd2d[_0x10de('0x114')]*_0x55bd2d['itemSize']*_0x55bd2d['array']['BYTES_PER_ELEMENT']:0x0);},'mergeVertices':function(_0x3132db){for(var _0x582a87=0x1<arguments[_0x10de('0xe')]&&void 0x0!==arguments[0x1]?arguments[0x1]:0.0001,_0x582a87=Math[_0x10de('0x108')](_0x582a87,_0xa4af63[_0x10de('0x9')]),_0x36a748={},_0x18d7d6=_0x3132db['getIndex'](),_0x19da37=_0x3132db['getAttribute'](_0x10de('0x222')),_0x4d8ccd=(_0x18d7d6||_0x19da37)[_0x10de('0x114')],_0x47cfdb=0x0,_0x5e8331=(0x0,_0xfddbb3['default'])(_0x3132db[_0x10de('0x17e')]),_0x29c584={},_0x363a38={},_0x4b8bba=[],_0x394ced=[_0x10de('0x7c7'),'getY',_0x10de('0x7c9'),_0x10de('0xa21')],_0x7b28e9=0x0,_0x2cf89c=_0x5e8331[_0x10de('0xe')];_0x7b28e9<_0x2cf89c;_0x7b28e9++)_0x29c584[_0x5c3cc7=_0x5e8331[_0x7b28e9]]=[],(_0x1ca2ac=_0x3132db[_0x10de('0x73a')][_0x5c3cc7])&&(_0x363a38[_0x5c3cc7]=new Array(_0x1ca2ac[_0x10de('0xe')])[_0x10de('0x4e0')]()[_0x10de('0xcf')](function(){return[];}));for(var _0x19da37=(0x0,_0x59bb41['default'])(0x1/_0x582a87),_0x1c884d=Math[_0x10de('0x345')](0xa,_0x19da37),_0x7b28e9=0x0;_0x7b28e9<_0x4d8ccd;_0x7b28e9++){for(var _0x1d4038=_0x18d7d6?_0x18d7d6[_0x10de('0x7c7')](_0x7b28e9):_0x7b28e9,_0x14b195='',_0x415da9=0x0,_0x2cf89c=_0x5e8331[_0x10de('0xe')];_0x415da9<_0x2cf89c;_0x415da9++)for(var _0x5c3cc7=_0x5e8331[_0x415da9],_0x54dc60=(_0x3b8368=_0x3132db[_0x10de('0x6df')](_0x5c3cc7))[_0x10de('0x115')],_0x27ceda=0x0;_0x27ceda<_0x54dc60;_0x27ceda++)_0x14b195+=~~(_0x3b8368[_0x394ced[_0x27ceda]](_0x1d4038)*_0x1c884d)+',';if(_0x14b195 in _0x36a748)_0x4b8bba[_0x10de('0x84')](_0x36a748[_0x14b195]);else{for(_0x415da9=0x0,_0x2cf89c=_0x5e8331[_0x10de('0xe')];_0x415da9<_0x2cf89c;_0x415da9++)for(var _0x5c3cc7=_0x5e8331[_0x415da9],_0x3b8368=_0x3132db['getAttribute'](_0x5c3cc7),_0x1ca2ac=_0x3132db[_0x10de('0x73a')][_0x5c3cc7],_0x54dc60=_0x3b8368[_0x10de('0x115')],_0x38a487=_0x29c584[_0x5c3cc7],_0x8fe2e9=_0x363a38[_0x5c3cc7],_0x27ceda=0x0;_0x27ceda<_0x54dc60;_0x27ceda++){var _0x13a68e=_0x394ced[_0x27ceda];if(_0x38a487[_0x10de('0x84')](_0x3b8368[_0x13a68e](_0x1d4038)),_0x1ca2ac)for(var _0x1a06a7=0x0,_0x328d87=_0x1ca2ac['length'];_0x1a06a7<_0x328d87;_0x1a06a7++)_0x8fe2e9[_0x1a06a7][_0x10de('0x84')](_0x1ca2ac[_0x1a06a7][_0x13a68e](_0x1d4038));}_0x36a748[_0x14b195]=_0x47cfdb,_0x4b8bba[_0x10de('0x84')](_0x47cfdb),_0x47cfdb++;}}for(var _0x5da2f6=_0x3132db[_0x10de('0x1c5')](),_0x7b28e9=0x0,_0x2cf89c=_0x5e8331[_0x10de('0xe')];_0x7b28e9<_0x2cf89c;_0x7b28e9++){var _0x5c3cc7=_0x5e8331[_0x7b28e9],_0x5f3ca4=_0x3132db[_0x10de('0x6df')](_0x5c3cc7),_0xf0fce9=new _0x5f3ca4[(_0x10de('0xec'))][(_0x10de('0xd7'))](_0x29c584[_0x5c3cc7]);if(_0x5f3ca4['isInterleavedBufferAttribute']?_0x3b8368=new THREE[(_0x10de('0x116'))](_0xf0fce9,_0x5f3ca4[_0x10de('0x115')],_0x5f3ca4[_0x10de('0x115')]):(_0x3b8368=_0x3132db[_0x10de('0x6df')](_0x5c3cc7)['clone']())['setArray'](_0xf0fce9),_0x5da2f6[_0x10de('0x202')](_0x5c3cc7,_0x3b8368),_0x5c3cc7 in _0x363a38)for(_0x415da9=0x0;_0x415da9<_0x363a38[_0x5c3cc7][_0x10de('0xe')];_0x415da9++){var _0x11b18c=_0x3132db[_0x10de('0x73a')][_0x5c3cc7][_0x415da9][_0x10de('0x1c5')]();_0x11b18c[_0x10de('0xa25')](new _0x11b18c[(_0x10de('0xec'))][(_0x10de('0xd7'))](_0x363a38[_0x5c3cc7][_0x415da9])),_0x5da2f6[_0x10de('0x73a')][_0x5c3cc7][_0x415da9]=_0x11b18c;}}_0x582a87=Uint8Array,_0x4b8bba['length']>=Math[_0x10de('0x345')](0x2,0x8)&&(_0x582a87=Uint16Array),_0x19da37=new(_0x582a87=_0x4b8bba['length']>=(Math[_0x10de('0x345')](0x2,0x10))?Uint32Array:_0x582a87)(_0x4b8bba),_0x4b8bba=null;return null===_0x18d7d6?_0x4b8bba=new THREE[(_0x10de('0x116'))](_0x19da37,0x1):(_0x4b8bba=_0x3132db['getIndex']()[_0x10de('0x1c5')]())[_0x10de('0xa25')](_0x19da37),_0x5da2f6[_0x10de('0x3be')](_0x4b8bba),_0x5da2f6;}};},function(_0x195d2c,_0x54ccea,_0x118152){_0x195d2c[_0x10de('0x1')]={'default':_0x118152(0x10b),'__esModule':!0x0};},function(_0x151e5b,_0x52ac2d,_0x45ecbb){_0x45ecbb(0x10c),_0x151e5b[_0x10de('0x1')]=Math[_0x10de('0x345')](0x2,-0x34);},function(_0x112d1b,_0x3d9108,_0x1ee6a9){_0x1ee6a9=_0x1ee6a9(0x3);_0x1ee6a9(_0x1ee6a9['S'],_0x10de('0xa26'),{'EPSILON':Math[_0x10de('0x345')](0x2,-0x34)});},function(_0x174771,_0xd9b12e,_0x74f78d){'use strict';Object['defineProperty'](_0xd9b12e,_0x10de('0x5'),{'value':!0x0});var _0x56cecb=_0x560571(_0x74f78d(0x5)),_0x5f49e2=_0x560571(_0x74f78d(0x0)),_0xf804e3=_0x560571(_0x74f78d(0x1)),_0x40e8ca=_0x74f78d(0x13),_0x20e5a9=function(_0x174771){if(_0x174771&&_0x174771[_0x10de('0x5')])return _0x174771;var _0xd9b12e={};if(null!=_0x174771)for(var _0x74f78d in _0x174771)Object[_0x10de('0xa')][_0x10de('0xb')]['call'](_0x174771,_0x74f78d)&&(_0xd9b12e[_0x74f78d]=_0x174771[_0x74f78d]);return _0xd9b12e[_0x10de('0x9')]=_0x174771,_0xd9b12e;}(_0x74f78d(0x36)),_0x511d76=_0x560571(_0x74f78d(0x46));function _0x560571(_0x174771){return _0x174771&&_0x174771['__esModule']?_0x174771:{'default':_0x174771};}function _0x3eb63f(){(0x0,_0x5f49e2[_0x10de('0x9')])(this,_0x3eb63f),this[_0x10de('0xcf')]=(0x0,_0x40e8ca[_0x10de('0x3b')])(),this[_0x10de('0x46f')]=null,this['object3d']=null,this[_0x10de('0x46d')]=null,this[_0x10de('0xa27')]=[],this[_0x10de('0xa28')]=!0x0,this[_0x10de('0x927')]=null,this['shaderSky']=null,this[_0x10de('0x929')]=!0x1;}(0x0,_0xf804e3[_0x10de('0x9')])(_0x3eb63f,[{'key':_0x10de('0xa29'),'value':function(_0x174771){this[_0x10de('0x927')][_0x10de('0x4cc')]=_0x174771;}},{'key':_0x10de('0x928'),'value':function(_0xd9b12e,_0x74f78d){var _0x5f49e2=this;if(this['skyboxTool']&&_0xd9b12e[_0x10de('0x8c')]){var _0x174771=this[_0x10de('0x9d8')](_0xd9b12e[_0x10de('0x8c')]);if(_0x174771)this['isFirstTexCube']?this[_0x10de('0xa2a')](this['skyboxTool']['skyBox'][_0x10de('0x40')][_0x10de('0x1b4')][_0x10de('0x47b')][_0x10de('0x10')],_0x174771,_0x74f78d):this[_0x10de('0xa2a')](this['skyboxTool']['skyBox'][_0x10de('0x40')]['uniforms']['tCube'][_0x10de('0x10')],_0x174771,_0x74f78d),this[_0x10de('0xa28')]=!this['isFirstTexCube'];else{for(var _0xf804e3=0x0,_0x560571=_0xd9b12e[_0x10de('0x9ce')]['length'];_0xf804e3<_0x560571;_0xf804e3++){var _0x3eb63f=(0x0,_0x40e8ca[_0x10de('0x29')])(_0xd9b12e[_0x10de('0x9ce')][_0xf804e3]);_0xd9b12e[_0x10de('0x43')]&&(_0x3eb63f=_0x3eb63f[_0x10de('0x57')](this[_0x10de('0xcf')][_0x10de('0x43')],_0xd9b12e['effectId'])),_0xd9b12e['imgPaths'][_0xf804e3]=_0x3eb63f;}_0x511d76[_0x10de('0x9')][_0x10de('0xe3')](_0xd9b12e[_0x10de('0x9ce')])['then'](function(_0x174771){_0x174771[_0x10de('0x8c')]=_0xd9b12e[_0x10de('0x8c')],_0x5f49e2[_0x10de('0xa2a')](null,_0x174771,_0x74f78d),_0x5f49e2[_0x10de('0xa27')][_0x10de('0x84')](_0x174771);});}}}},{'key':_0x10de('0xa2a'),'value':function(_0x174771,_0xd9b12e){var _0x74f78d,_0x5f49e2,_0xf804e3=this,_0x560571=0x2<arguments['length']&&void 0x0!==arguments[0x2]?arguments[0x2]:0x2;_0x174771?(_0x5f49e2=_0x74f78d=0x0,this['isFirstTexCube']?(_0x5f49e2=0x0,this[_0x10de('0x927')][_0x10de('0x46f')][_0x10de('0x40')][_0x10de('0x1b4')]['transFactor'][_0x10de('0x10')]=_0x74f78d=0x1,this[_0x10de('0x927')]['skyBox']['material'][_0x10de('0x1b4')][_0x10de('0x482')][_0x10de('0x10')]=_0xd9b12e,this['skyboxTool'][_0x10de('0x46f')]['material']['uniforms']['tCube2'][_0x10de('0x10')]=_0x174771):(_0x5f49e2=0x1,this[_0x10de('0x927')][_0x10de('0x46f')]['material'][_0x10de('0x1b4')][_0x10de('0x5e4')][_0x10de('0x10')]=_0x74f78d=0x0,this[_0x10de('0x927')][_0x10de('0x46f')]['material'][_0x10de('0x1b4')][_0x10de('0x482')][_0x10de('0x10')]=_0x174771,this['skyboxTool'][_0x10de('0x46f')][_0x10de('0x40')]['uniforms'][_0x10de('0x47b')]['value']=_0xd9b12e),new TWEEN[(_0x10de('0x316'))]({'x':_0x74f78d})['to']({'x':_0x5f49e2},0x3e8*_0x560571)[_0x10de('0x361')](TWEEN['Easing'][_0x10de('0x45f')][_0x10de('0x460')])['onUpdate'](function(_0x174771){_0xf804e3[_0x10de('0x927')]['skyBox']['material']['uniforms'][_0x10de('0x5e4')][_0x10de('0x10')]=_0x174771['x'];})['start']()):(this[_0x10de('0x927')][_0x10de('0x46f')][_0x10de('0x40')][_0x10de('0x1b4')]['transFactor'][_0x10de('0x10')]=0x0,this[_0x10de('0x927')][_0x10de('0x46f')][_0x10de('0x40')]['uniforms'][_0x10de('0x47b')]['value']=_0xd9b12e,new TWEEN['Tween']({'x':0x0})['to']({'x':0x1},0x3e8*_0x560571)[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x45f')][_0x10de('0x460')])['onUpdate'](function(_0x174771){_0xf804e3['skyboxTool'][_0x10de('0x46f')][_0x10de('0x40')][_0x10de('0x1b4')][_0x10de('0x5e4')][_0x10de('0x10')]=_0x174771['x'];})[_0x10de('0x31b')]());}},{'key':_0x10de('0x9d8'),'value':function(_0x174771){var _0xd9b12e=!0x0,_0x74f78d=!0x1,_0x5f49e2=void 0x0;try{for(var _0xf804e3,_0x560571=(0x0,_0x56cecb['default'])(this[_0x10de('0xa27')]);!(_0xd9b12e=(_0xf804e3=_0x560571[_0x10de('0x88')]())['done']);_0xd9b12e=!0x0){var _0x3eb63f=_0xf804e3[_0x10de('0x10')];if(_0x3eb63f['name']===_0x174771)return _0x3eb63f;}}catch(_0x2fd481){_0x74f78d=!0x0,_0x5f49e2=_0x2fd481;}finally{try{!_0xd9b12e&&_0x560571['return']&&_0x560571[_0x10de('0xdf')]();}finally{if(_0x74f78d)throw _0x5f49e2;}}return null;}},{'key':_0x10de('0x963'),'value':function(_0xd9b12e){var _0x174771,_0x74f78d=this;if(_0xd9b12e&&(_0x10de('0xa2b')===_0xd9b12e[_0x10de('0x85')]||_0x10de('0x4a0')===_0xd9b12e[_0x10de('0x85')])&&(0x1===_0xd9b12e[_0x10de('0x9ce')][_0x10de('0xe')]&&(_0x174771=(0x0,_0x40e8ca[_0x10de('0x29')])(_0xd9b12e[_0x10de('0x9ce')][0x0]),this[_0x10de('0x927')]=new _0x20e5a9[(_0x10de('0xbf'))]({'mapView':this[_0x10de('0xcf')]['mapView']}),this[_0x10de('0x927')]['type']=_0xd9b12e[_0x10de('0x85')],_0xd9b12e[_0x10de('0xa2c')]?_0x511d76['default'][_0x10de('0xe5')](_0x174771)[_0x10de('0x385')](function(_0x174771){_0x74f78d['skyboxTool'][_0x10de('0x46d')]=_0x174771,_0x74f78d[_0x10de('0x927')][_0x10de('0x49f')]();}):this[_0x10de('0x927')][_0x10de('0x470')](_0x174771,_0xd9b12e[_0x10de('0x335')],function(){_0x10de('0xa2b')===_0xd9b12e[_0x10de('0x85')]&&_0x74f78d[_0x10de('0x927')][_0x10de('0x477')]({'size':_0xd9b12e[_0x10de('0xe8')],'offsetY':_0xd9b12e['offsetY']}),_0x10de('0x4a0')===_0xd9b12e['type']&&_0x74f78d[_0x10de('0x927')]['setBackground']();}),this[_0x10de('0x927')][_0x10de('0x2d6')]('canUpdate',function(){_0x74f78d[_0x10de('0x46d')]=_0x74f78d[_0x10de('0x927')][_0x10de('0x46d')];})),0x6===_0xd9b12e['imgPaths'][_0x10de('0xe')])){for(var _0x5f49e2=0x0,_0xf804e3=_0xd9b12e[_0x10de('0x9ce')][_0x10de('0xe')];_0x5f49e2<_0xf804e3;_0x5f49e2++)_0xd9b12e[_0x10de('0x9ce')][_0x5f49e2]=(0x0,_0x40e8ca[_0x10de('0x29')])(_0xd9b12e[_0x10de('0x9ce')][_0x5f49e2]);this[_0x10de('0x927')]=new _0x20e5a9[(_0x10de('0xbf'))]({'mapView':this['map'][_0x10de('0x46c')]}),this[_0x10de('0x927')][_0x10de('0x85')]=_0xd9b12e[_0x10de('0x85')],this[_0x10de('0x927')][_0x10de('0xa2d')](_0xd9b12e[_0x10de('0x9ce')],function(){var _0x174771;_0x10de('0xa2b')===_0xd9b12e[_0x10de('0x85')]&&((0x0,_0x40e8ca['checkIsCityEngine'])()&&esmap[_0x10de('0xa2e')]?((_0x174771=!0x1,_0x40e8ca[_0x10de('0x27')])()&&(_0x174771=!0x0),_0x74f78d[_0x10de('0x927')][_0x10de('0x477')]({'size':_0xd9b12e['size'],'offsetY':_0xd9b12e[_0x10de('0x379')],'isCullGround':_0x174771,'intensity':_0xd9b12e[_0x10de('0x479')]}),_0x74f78d[_0x10de('0x927')][_0x10de('0x46f')][_0x10de('0x364')]=!0x1):_0x74f78d[_0x10de('0x927')][_0x10de('0x477')]({'size':_0xd9b12e['size'],'offsetY':_0xd9b12e[_0x10de('0x379')],'intensity':_0xd9b12e[_0x10de('0x479')]})),_0x10de('0x4a0')===_0xd9b12e['type']&&_0x74f78d['skyboxTool'][_0x10de('0x49f')]();}),this['skyboxTool'][_0x10de('0x2d6')](_0x10de('0x476'),function(){_0x74f78d[_0x10de('0x46d')]=_0x74f78d[_0x10de('0x927')]['textureCube'],_0x74f78d[_0x10de('0x46d')][_0x10de('0x8c')]=_0xd9b12e[_0x10de('0x8c')]||'',_0x74f78d[_0x10de('0xa27')][_0x10de('0x84')](_0x74f78d[_0x10de('0x46d')]);});}if(_0xd9b12e&&_0x10de('0xa2f')===_0xd9b12e['type']&&(this[_0x10de('0x927')]=new _0x20e5a9[(_0x10de('0xbf'))]({'mapView':this[_0x10de('0xcf')][_0x10de('0x46c')]}),_0x174771=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')]((0x0,_0x40e8ca[_0x10de('0x29')])(_0xd9b12e['imgPaths'][0x0])),this[_0x10de('0x927')]['createGradientSky']({'radius':_0xd9b12e[_0x10de('0xe8')],'topColorStr':_0xd9b12e[_0x10de('0x488')],'bottomColorStr':_0xd9b12e['bottomColor'],'offset':_0xd9b12e[_0x10de('0x379')],'exponent':_0xd9b12e[_0x10de('0x487')],'texture':_0x174771})),_0xd9b12e&&_0x10de('0xa30')===_0xd9b12e['type']&&(0x1===_0xd9b12e[_0x10de('0x9ce')][_0x10de('0xe')]&&(_0x174771=(0x0,_0x40e8ca[_0x10de('0x29')])(_0xd9b12e[_0x10de('0x9ce')][0x0]),this['skyboxTool']=new _0x20e5a9[(_0x10de('0xbf'))]({'mapView':this[_0x10de('0xcf')]['mapView']}),this[_0x10de('0x927')][_0x10de('0x85')]=_0xd9b12e['type'],this[_0x10de('0x927')][_0x10de('0x470')](_0x174771,_0xd9b12e[_0x10de('0x335')],function(){_0x74f78d[_0x10de('0x927')][_0x10de('0x48d')]({'size':_0xd9b12e[_0x10de('0xe8')],'offsetY':_0xd9b12e[_0x10de('0x379')],'topColorStr':_0xd9b12e[_0x10de('0x488')],'bottomColorStr':_0xd9b12e['bottomColor']});}),this[_0x10de('0x927')][_0x10de('0x2d6')](_0x10de('0x476'),function(){_0x74f78d[_0x10de('0x46d')]=_0x74f78d[_0x10de('0x927')][_0x10de('0x46d')];})),0x6===_0xd9b12e[_0x10de('0x9ce')][_0x10de('0xe')])){for(var _0x560571=0x0,_0x3eb63f=_0xd9b12e[_0x10de('0x9ce')][_0x10de('0xe')];_0x560571<_0x3eb63f;_0x560571++)_0xd9b12e['imgPaths'][_0x560571]=(0x0,_0x40e8ca[_0x10de('0x29')])(_0xd9b12e['imgPaths'][_0x560571]);this[_0x10de('0x927')]=new _0x20e5a9['Skybox']({'mapView':this[_0x10de('0xcf')][_0x10de('0x46c')]}),this[_0x10de('0x927')][_0x10de('0x85')]=_0xd9b12e[_0x10de('0x85')],this['skyboxTool'][_0x10de('0xa2d')](_0xd9b12e[_0x10de('0x9ce')],function(){_0x74f78d[_0x10de('0x927')]['createGradientCubeSky']({'size':_0xd9b12e['size'],'offsetY':_0xd9b12e[_0x10de('0x379')],'topColorStr':_0xd9b12e[_0x10de('0x488')],'bottomColorStr':_0xd9b12e[_0x10de('0x489')]});}),this[_0x10de('0x927')][_0x10de('0x2d6')](_0x10de('0x476'),function(){_0x74f78d[_0x10de('0x46d')]=_0x74f78d[_0x10de('0x927')][_0x10de('0x46d')];});}if(_0xd9b12e&&_0x10de('0xa31')===_0xd9b12e['type']&&(0x1===_0xd9b12e['imgPaths'][_0x10de('0xe')]&&(_0x174771=(0x0,_0x40e8ca[_0x10de('0x29')])(_0xd9b12e[_0x10de('0x9ce')][0x0]),this['skyboxTool']=new _0x20e5a9[(_0x10de('0xbf'))]({'mapView':this[_0x10de('0xcf')][_0x10de('0x46c')]}),this[_0x10de('0x927')][_0x10de('0x85')]=_0xd9b12e[_0x10de('0x85')],this[_0x10de('0x927')]['createOnePicCubeTexture'](_0x174771,_0xd9b12e[_0x10de('0x335')],function(){_0x74f78d[_0x10de('0x927')]['createSphereCubeSky']({'size':_0xd9b12e[_0x10de('0xe8')]});}),this['skyboxTool'][_0x10de('0x2d6')]('canUpdate',function(){_0x74f78d[_0x10de('0x46d')]=_0x74f78d[_0x10de('0x927')][_0x10de('0x46d')];})),0x6===_0xd9b12e[_0x10de('0x9ce')][_0x10de('0xe')])){for(var _0x56cecb=0x0,_0x1ac6c4=_0xd9b12e['imgPaths']['length'];_0x56cecb<_0x1ac6c4;_0x56cecb++)_0xd9b12e[_0x10de('0x9ce')][_0x56cecb]=(0x0,_0x40e8ca['getConfigAssetsPath'])(_0xd9b12e[_0x10de('0x9ce')][_0x56cecb]);this[_0x10de('0x927')]=new _0x20e5a9[(_0x10de('0xbf'))]({'mapView':this[_0x10de('0xcf')][_0x10de('0x46c')]}),this[_0x10de('0x927')][_0x10de('0x85')]=_0xd9b12e[_0x10de('0x85')],this[_0x10de('0x927')]['createSixPicCubeTexture'](_0xd9b12e[_0x10de('0x9ce')],function(){_0x74f78d[_0x10de('0x927')][_0x10de('0x499')]({'size':_0xd9b12e['size']});}),this[_0x10de('0x927')][_0x10de('0x2d6')]('canUpdate',function(){_0x74f78d[_0x10de('0x46d')]=_0x74f78d['skyboxTool'][_0x10de('0x46d')];});}_0xd9b12e&&_0x10de('0xa32')===_0xd9b12e[_0x10de('0x85')]&&(this[_0x10de('0xa33')]=new _0x20e5a9['ClearSky']({'camera':this[_0x10de('0xcf')][_0x10de('0x46c')]['camera']}),(_0x174771=!0x1,_0x40e8ca[_0x10de('0x31')])()&&(0x0,_0x40e8ca[_0x10de('0x27')])()&&(_0x174771=!0x0),this['object3d']=this['shaderSky']['create']({'isCullGround':_0x174771}),this['object3d'][_0x10de('0x364')]=!esmap[_0x10de('0x87c')][_0x10de('0x87d')],_0x10de('0x2af')===_0xd9b12e[_0x10de('0x9aa')]&&this[_0x10de('0xa33')][_0x10de('0x4a7')](this[_0x10de('0xa33')][_0x10de('0x4a5')]),'night'===_0xd9b12e[_0x10de('0x9aa')]&&this[_0x10de('0xa33')]['setSkyConfig'](this['shaderSky'][_0x10de('0xa34')]),_0xd9b12e[_0x10de('0xa35')]&&_0xd9b12e[_0x10de('0xa35')]['name']&&this[_0x10de('0xcf')][_0x10de('0x46c')][_0xd9b12e[_0x10de('0xa35')][_0x10de('0x8c')]]&&(_0xd9b12e[_0x10de('0xa35')][_0x10de('0xa36')]&&(this[_0x10de('0xa33')]['theta']=_0xd9b12e[_0x10de('0xa35')][_0x10de('0xa36')]),_0xd9b12e[_0x10de('0xa35')][_0x10de('0xa37')]&&(this[_0x10de('0xa33')][_0x10de('0x4a4')]=_0xd9b12e[_0x10de('0xa35')][_0x10de('0xa37')]),this[_0x10de('0xa33')][_0x10de('0x31d')]()),this['map'][_0x10de('0x46c')][_0x10de('0x467')]['add'](this[_0x10de('0x368')]),(0x0,_0x40e8ca[_0x10de('0x31')])()&&this[_0x10de('0xa38')]()),_0xd9b12e&&_0x10de('0xa39')===_0xd9b12e[_0x10de('0x85')]&&0x1===_0xd9b12e[_0x10de('0x9ce')][_0x10de('0xe')]&&(_0x174771=(0x0,_0x40e8ca[_0x10de('0x29')])(_0xd9b12e['imgPaths'][0x0]),this[_0x10de('0x927')]=new _0x20e5a9[(_0x10de('0xbf'))]({'mapView':this['map'][_0x10de('0x46c')]}),this[_0x10de('0x927')][_0x10de('0x85')]=_0xd9b12e[_0x10de('0x85')],this[_0x10de('0x927')]['createCylinderWallSky']({'texturePath':_0x174771,'wallHeight':_0xd9b12e[_0x10de('0xe8')],'offsetY':_0xd9b12e['offsetY'],'rotateAngle':_0xd9b12e[_0x10de('0x1fa')]}));}},{'key':_0x10de('0xa38'),'value':function(){var _0xd9b12e=this,_0x74f78d=(0x0,_0x40e8ca[_0x10de('0x27')])();this['map']['on'](_0x10de('0xa3a'),function(_0x174771){_0x174771<(_0x74f78d?0x10:0xd)?_0xd9b12e[_0x10de('0x368')]&&(_0xd9b12e[_0x10de('0x368')]['visible']=!0x1):_0xd9b12e[_0x10de('0x368')]&&(_0xd9b12e[_0x10de('0x368')]['visible']=!0x0);});}},{'key':_0x10de('0xce'),'value':function(){this[_0x10de('0x46d')]=null,this[_0x10de('0x927')]&&this[_0x10de('0x927')][_0x10de('0xce')](),this['shaderSky']&&this[_0x10de('0xa33')][_0x10de('0xce')]();}}]),_0xd9b12e[_0x10de('0x9')]=_0x3eb63f;},function(_0x4d936c,_0x4d8f08,_0x2c4e09){'use strict';Object['defineProperty'](_0x4d8f08,'__esModule',{'value':!0x0});var _0x5c8cde=_0x20e18a(_0x2c4e09(0x5)),_0x4a9678=_0x20e18a(_0x2c4e09(0x0)),_0x177a40=_0x20e18a(_0x2c4e09(0x1)),_0x37ed2f=_0x2c4e09(0x13),_0x283036=function(_0x4d936c){if(_0x4d936c&&_0x4d936c[_0x10de('0x5')])return _0x4d936c;var _0x4d8f08={};if(null!=_0x4d936c)for(var _0x2c4e09 in _0x4d936c)Object[_0x10de('0xa')][_0x10de('0xb')][_0x10de('0x0')](_0x4d936c,_0x2c4e09)&&(_0x4d8f08[_0x2c4e09]=_0x4d936c[_0x2c4e09]);return _0x4d8f08[_0x10de('0x9')]=_0x4d936c,_0x4d8f08;}(_0x2c4e09(0x36)),_0x513052=_0x2c4e09(0x73);function _0x20e18a(_0x4d936c){return _0x4d936c&&_0x4d936c[_0x10de('0x5')]?_0x4d936c:{'default':_0x4d936c};}function _0x427240(_0x4d936c){(0x0,_0x4a9678[_0x10de('0x9')])(this,_0x427240),this['map']=(0x0,_0x37ed2f[_0x10de('0x3b')])(),this[_0x10de('0xa3b')]=[],this[_0x10de('0x4cc')]=_0x4d936c,this['waveLineMarker']=null,this[_0x10de('0xa3c')]=null,this[_0x10de('0xa3d')]=[],this[_0x10de('0xa3e')]=!0x1;}(0x0,_0x177a40[_0x10de('0x9')])(_0x427240,[{'key':_0x10de('0xa3f'),'value':function(_0x4d936c){var _0x4d8f08;_0x4d936c[_0x10de('0x85')]&&_0x10de('0x8f5')===_0x4d936c[_0x10de('0x85')]?((_0x4d8f08=this[_0x10de('0x6ea')](_0x4d936c))['name']=_0x4d936c[_0x10de('0x8c')],this[_0x10de('0xa3b')][_0x10de('0x84')](_0x4d8f08)):this[_0x10de('0xa40')](_0x4d936c);}},{'key':'addTilePlaneWater','value':function(_0x4d936c){if(!this[_0x10de('0xa3e')]&&_0x4d936c['water']&&_0x4d936c[_0x10de('0xa41')]){var _0x4d8f08=!0x0,_0x2c4e09=!0x1,_0x4a9678=void 0x0;try{for(var _0x177a40,_0x283036=(0x0,_0x5c8cde[_0x10de('0x9')])(_0x4d936c[_0x10de('0xa41')]);!(_0x4d8f08=(_0x177a40=_0x283036[_0x10de('0x88')]())['done']);_0x4d8f08=!0x0){var _0x20e18a=_0x177a40[_0x10de('0x10')];if('water'===_0x20e18a[_0x10de('0xa42')]){var _0x427240=!0x0,_0x36681a=!0x1,_0x33d9fc=void 0x0;try{for(var _0x273fa1,_0x19a0df=(0x0,_0x5c8cde[_0x10de('0x9')])(_0x4d936c[_0x10de('0x6eb')]);!(_0x427240=(_0x273fa1=_0x19a0df[_0x10de('0x88')]())['done']);_0x427240=!0x0){var _0x5f3ab2=_0x273fa1[_0x10de('0x10')];if(_0x5f3ab2['name']===_0x20e18a[_0x10de('0xa43')]){var _0x2a762c=this[_0x10de('0x6ea')](_0x5f3ab2),_0x5d4696=(this[_0x10de('0xa3b')]['push'](_0x2a762c),_0x2a762c['createMaterial']());(0x0,_0x513052[_0x10de('0x2f1')])(_0x5d4696,_0x5f3ab2),_0x5d4696['side']=THREE[_0x10de('0x466')],this[_0x10de('0xcf')]['mapTheme']['tileMaterial'][_0x10de('0x6eb')][0x0]=_0x5d4696,this['isSetTilePlaneWater']=!0x0;break;}}}catch(_0x29ce9c){_0x36681a=!0x0,_0x33d9fc=_0x29ce9c;}finally{try{!_0x427240&&_0x19a0df[_0x10de('0xdf')]&&_0x19a0df[_0x10de('0xdf')]();}finally{if(_0x36681a)throw _0x33d9fc;}}}}}catch(_0x1ad446){_0x2c4e09=!0x0,_0x4a9678=_0x1ad446;}finally{try{!_0x4d8f08&&_0x283036[_0x10de('0xdf')]&&_0x283036[_0x10de('0xdf')]();}finally{if(_0x2c4e09)throw _0x4a9678;}}}}},{'key':_0x10de('0x6ea'),'value':function(_0x4d936c){var _0x4d8f08=void 0x0,_0x2c4e09=_0x4d936c[_0x10de('0xa44')]?new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')]((0x0,_0x37ed2f[_0x10de('0x29')])(_0x4d936c['groundImg'])):new THREE['Texture']();return _0x4d936c[_0x10de('0x89c')]&&(_0x4d8f08=new THREE[(_0x10de('0xd9'))]()['load']((0x0,_0x37ed2f[_0x10de('0x29')])(_0x4d936c['skyImg']))),new _0x283036[(_0x10de('0xc5'))]({'colorStr':_0x4d936c[_0x10de('0x232')],'lightColorStr':_0x4d936c['lightColor'],'scale':_0x4d936c['scale'],'speed':_0x4d936c['speed'],'fluctuate':_0x4d936c[_0x10de('0xa45')],'texture':_0x2c4e09,'skyTexture':_0x4d8f08,'texUvScale':_0x4d936c['groundScaleFactor'],'flowAngle':_0x4d936c[_0x10de('0x6dc')],'opacity':_0x4d936c[_0x10de('0x233')]});}},{'key':_0x10de('0xa46'),'value':function(_0x4d936c){var _0x4d8f08=!0x0,_0x2c4e09=!0x1,_0x4a9678=void 0x0;try{for(var _0x177a40,_0x283036=(0x0,_0x5c8cde[_0x10de('0x9')])(this['waterList']);!(_0x4d8f08=(_0x177a40=_0x283036[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x4d8f08=!0x0){var _0x20e18a=_0x177a40[_0x10de('0x10')];if(_0x20e18a['name']===_0x4d936c)return _0x20e18a;}}catch(_0xe9ba6f){_0x2c4e09=!0x0,_0x4a9678=_0xe9ba6f;}finally{try{!_0x4d8f08&&_0x283036[_0x10de('0xdf')]&&_0x283036[_0x10de('0xdf')]();}finally{if(_0x2c4e09)throw _0x4a9678;}}return!0x1;}},{'key':'addWaterShape','value':function(_0x4d936c){var _0x4d8f08=(0x0,_0x37ed2f[_0x10de('0x2e')])(0x0)[_0x10de('0x4d5')](_0x4d936c[_0x10de('0x9a9')]||0x1)[_0x10de('0x98b')]([esmap[_0x10de('0x4c2')]['MODEL'],esmap[_0x10de('0x4c2')][_0x10de('0xa47')]]),_0x2c4e09=this[_0x10de('0x6ea')](_0x4d936c),_0x4a9678=(_0x2c4e09[_0x10de('0x32e')](),!0x0),_0x177a40=!0x1,_0x283036=void 0x0;try{for(var _0x20e18a,_0x427240=(0x0,_0x5c8cde[_0x10de('0x9')])(_0x4d8f08);!(_0x4a9678=(_0x20e18a=_0x427240[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x4a9678=!0x0){var _0x34bca4=_0x20e18a[_0x10de('0x10')],_0x37ce59=!0x0,_0x5c1ade=!0x1,_0x2bd241=void 0x0;try{for(var _0x5b99b8,_0x532867=(0x0,_0x5c8cde[_0x10de('0x9')])(_0x34bca4[_0x10de('0x4d4')]['children']);!(_0x37ce59=(_0x5b99b8=_0x532867[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x37ce59=!0x0){var _0x37aed7=_0x5b99b8[_0x10de('0x10')],_0x2ca2f3=(0x0,_0x37ed2f[_0x10de('0x2c')])(_0x37aed7,_0x4d936c[_0x10de('0x5a3')]);if(_0x2ca2f3){_0x37aed7[_0x10de('0x40')][_0x2ca2f3[_0x10de('0x41')][_0x10de('0x32a')]]=_0x2c4e09[_0x10de('0x5d8')](),(0x0,_0x513052[_0x10de('0x2f1')])(_0x37aed7[_0x10de('0x40')][_0x2ca2f3['userData'][_0x10de('0x32a')]],_0x4d936c),_0x2c4e09['roomStyle']=_0x4d936c[_0x10de('0x5a3')],_0x2c4e09['_effectConfig']=_0x4d936c,this[_0x10de('0xa3b')][_0x10de('0x84')](_0x2c4e09);break;}}}catch(_0x1096d8){_0x5c1ade=!0x0,_0x2bd241=_0x1096d8;}finally{try{!_0x37ce59&&_0x532867[_0x10de('0xdf')]&&_0x532867[_0x10de('0xdf')]();}finally{if(_0x5c1ade)throw _0x2bd241;}}}}catch(_0x505b98){_0x177a40=!0x0,_0x283036=_0x505b98;}finally{try{!_0x4a9678&&_0x427240[_0x10de('0xdf')]&&_0x427240['return']();}finally{if(_0x177a40)throw _0x283036;}}}},{'key':_0x10de('0x331'),'value':function(_0x4d936c,_0x4d8f08){for(var _0x2c4e09=0x0;_0x2c4e09<this[_0x10de('0xa3b')][_0x10de('0xe')];_0x2c4e09++)if(_0x4d936c==this['waterList'][_0x2c4e09][_0x10de('0x8c')]){void 0x0!==_0x4d8f08[_0x10de('0x6f2')]&&(this[_0x10de('0xa3b')][_0x2c4e09]['material'][_0x10de('0x1e4')]=!0x0,this['waterList'][_0x2c4e09][_0x10de('0x40')][_0x10de('0x233')]=_0x4d8f08[_0x10de('0x6f2')]);break;}}},{'key':_0x10de('0x92a'),'value':function(_0x4d936c){this[_0x10de('0xa3c')]||(this[_0x10de('0xa3c')]=new esmap[(_0x10de('0x4f'))]['EffectLayer'](_0x10de('0xa48'),esmap['ESLayer']['EFFECT_MARKER']),esmap[_0x10de('0x4f')][_0x10de('0x8fe')](this[_0x10de('0xa3c')])),this[_0x10de('0xa49')]=new esmap['ESEffectTool'][(_0x10de('0x903'))](esmap[_0x10de('0x27c')]['ROUTES_LINE'],{'color':_0x4d936c[_0x10de('0x232')],'speed':_0x4d936c['speed'],'lineWidth':_0x4d936c[_0x10de('0x337')],'isShine':_0x4d936c[_0x10de('0x4e8')],'imgUrl':_0x4d936c[_0x10de('0x4e5')],'seeThrough':!0x1}),_0x4d936c[_0x10de('0x32c')]&&(this[_0x10de('0xa49')][_0x10de('0x4d4')][_0x10de('0x222')]['y']=_0x4d936c[_0x10de('0x32c')]),this[_0x10de('0xa3c')][_0x10de('0x905')](this[_0x10de('0xa49')]);}},{'key':_0x10de('0x92b'),'value':function(_0x4d936c,_0x4d8f08){for(var _0x2c4e09,_0x4a9678=[],_0x177a40=new THREE[(_0x10de('0x369'))](),_0x283036=0x0,_0x20e18a=_0x4d936c[_0x10de('0xe')];_0x283036<_0x20e18a;_0x283036++){var _0x427240=new THREE[(_0x10de('0x1c8'))](_0x4d936c[_0x283036]['u'],_0x4d936c[_0x283036]['v'])[_0x10de('0x1d4')]()['multiplyScalar'](_0x4d8f08),_0x427240=[{'x':_0x4d936c[_0x283036]['x']-_0x427240['x']/0x2,'y':_0x4d936c[_0x283036]['y']-_0x427240['y']/0x2,'offset':0x2},{'x':_0x4d936c[_0x283036]['x']+_0x427240['x'],'y':_0x4d936c[_0x283036]['y']+_0x427240['y'],'offset':0x2}],_0x427240=this[_0x10de('0xa49')]['addLineGeometry'](_0x427240,new THREE[(_0x10de('0x1ca'))](this[_0x10de('0xcf')][_0x10de('0x37')][_0x10de('0x36')],0x0,this[_0x10de('0xcf')]['mapScene'][_0x10de('0x38')])),_0x38f090=_0x427240['getAttribute']('uv'),_0x167ea4=Math[_0x10de('0x63')]();_0x38f090[_0x10de('0x1e')](new Float32Array([_0x167ea4,_0x167ea4,_0x167ea4,_0x167ea4+0x1,_0x167ea4+0x1,_0x167ea4,_0x167ea4+0x1,_0x167ea4+0x1])),_0x4a9678['push'](_0x427240);}0x0<_0x4a9678[_0x10de('0xe')]&&(_0x2c4e09=this['mergeGeometrys'](_0x4a9678),(_0x2c4e09=new THREE['Mesh'](_0x2c4e09,this['waveLineMarker'][_0x10de('0x9ff')]))[_0x10de('0x349')]=0x64,_0x177a40['add'](_0x2c4e09));for(var _0x5c06c7=0x0,_0x3bfd19=_0x4a9678[_0x10de('0xe')];_0x5c06c7<_0x3bfd19;_0x5c06c7++)_0x4a9678[_0x5c06c7]['dispose']();this['waveLineMarker'][_0x10de('0x4d4')][_0x10de('0x1d5')](_0x177a40);}},{'key':'removeWaveLines','value':function(){this[_0x10de('0xa49')]=null,this[_0x10de('0xa3c')]&&this[_0x10de('0xa3c')][_0x10de('0x4e3')]();}},{'key':_0x10de('0x9fe'),'value':function(_0x4d936c){var _0x4d8f08=[],_0x2c4e09=!0x0,_0x4a9678=!0x1,_0x177a40=void 0x0;try{for(var _0x283036,_0x20e18a=(0x0,_0x5c8cde[_0x10de('0x9')])(_0x4d936c);!(_0x2c4e09=(_0x283036=_0x20e18a[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2c4e09=!0x0){var _0x427240=_0x283036['value'];_0x4d8f08[_0x10de('0x84')](_0x427240);}}catch(_0x241866){_0x4a9678=!0x0,_0x177a40=_0x241866;}finally{try{!_0x2c4e09&&_0x20e18a[_0x10de('0xdf')]&&_0x20e18a['return']();}finally{if(_0x4a9678)throw _0x177a40;}}_0x4d936c=THREE[_0x10de('0xa04')][_0x10de('0xa05')](_0x4d8f08,!0x1);return _0x4d936c[_0x10de('0xa06')](0x0,_0x4d936c['attributes'][_0x10de('0x222')][_0x10de('0x114')],0x0),_0x4d936c;}},{'key':'disposeAll','value':function(){for(var _0x4d936c=0x0,_0x4d8f08=this[_0x10de('0xa3b')][_0x10de('0xe')];_0x4d936c<_0x4d8f08;_0x4d936c++)this[_0x10de('0xa3b')][_0x4d936c]['dispose'](),this[_0x10de('0xa3b')][_0x4d936c]=null;this[_0x10de('0xa3b')][_0x10de('0xe')]=0x0,this[_0x10de('0xa3c')]&&(this[_0x10de('0xa3c')][_0x10de('0x4e3')](),this['waveLineMarker']=null,this[_0x10de('0xa3c')]=null);}},{'key':'render','value':function(_0x4d936c){if(0x0<this[_0x10de('0xa3b')][_0x10de('0xe')]){var _0x4d8f08=!0x0,_0x2c4e09=!0x1,_0x4a9678=void 0x0;try{for(var _0x177a40,_0x283036=(0x0,_0x5c8cde['default'])(this[_0x10de('0xa3b')]);!(_0x4d8f08=(_0x177a40=_0x283036[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x4d8f08=!0x0)_0x177a40['value'][_0x10de('0x362')](_0x4d936c);}catch(_0x445fbe){_0x2c4e09=!0x0,_0x4a9678=_0x445fbe;}finally{try{!_0x4d8f08&&_0x283036['return']&&_0x283036[_0x10de('0xdf')]();}finally{if(_0x2c4e09)throw _0x4a9678;}}}}}]),_0x4d8f08[_0x10de('0x9')]=_0x427240;},function(_0x333df4,_0x2df132,_0x302295){'use strict';Object[_0x10de('0x2')](_0x2df132,'__esModule',{'value':!0x0});var _0x3e81ab=_0x5cba79(_0x302295(0x3f)),_0x27e383=_0x5cba79(_0x302295(0x5)),_0x21960f=_0x5cba79(_0x302295(0x0)),_0x1ec086=_0x5cba79(_0x302295(0x1)),_0xdc32c9=_0x302295(0x13),_0x2b56ac=function(_0x333df4){if(_0x333df4&&_0x333df4[_0x10de('0x5')])return _0x333df4;var _0x2df132={};if(null!=_0x333df4)for(var _0x302295 in _0x333df4)Object['prototype'][_0x10de('0xb')][_0x10de('0x0')](_0x333df4,_0x302295)&&(_0x2df132[_0x302295]=_0x333df4[_0x302295]);return _0x2df132['default']=_0x333df4,_0x2df132;}(_0x302295(0x36));function _0x5cba79(_0x333df4){return _0x333df4&&_0x333df4[_0x10de('0x5')]?_0x333df4:{'default':_0x333df4};}function _0x2f9601(_0x333df4){var _0x2df132=_0x333df4[_0x10de('0x6eb')],_0x333df4=_0x333df4[_0x10de('0x6fe')];(0x0,_0x21960f[_0x10de('0x9')])(this,_0x2f9601),this[_0x10de('0xcf')]=(0x0,_0xdc32c9['getMapInstance'])(),this[_0x10de('0x6eb')]=_0x2df132,this[_0x10de('0x92f')]=[],this[_0x10de('0x930')]={},this[_0x10de('0x934')]=[],this[_0x10de('0xa4a')]=[],this[_0x10de('0xa4b')]=[],this[_0x10de('0xa4c')]=!0x1,this[_0x10de('0xa4d')]=null,this['defaultCubeTexture']=null,this[_0x10de('0x6fe')]=_0x333df4,this[_0x10de('0x6fe')]&&(this[_0x10de('0x6fe')][_0x10de('0x4ca')]=this),this['setEnvTextureMaterials']=[],this[_0x10de('0xa4e')]=new _0x2b56ac['ModelUvAnimation']({'map':this[_0x10de('0xcf')]}),this[_0x10de('0x931')]=new _0x2b56ac[(_0x10de('0x9a'))](),this[_0x10de('0x93b')]={},this[_0x10de('0x93d')]={},this['gradients']={},this[_0x10de('0xa4f')]={},this[_0x10de('0xa50')]={},this[_0x10de('0xa51')]=null,this['instanceMeshs']=[],this[_0x10de('0xa52')]={},this[_0x10de('0x937')]={};}(0x0,_0x1ec086[_0x10de('0x9')])(_0x2f9601,[{'key':'getCurrModelConfig','value':function(_0x333df4){var _0x2df132=!0x0,_0x302295=!0x1,_0x21960f=void 0x0;try{for(var _0x1ec086,_0x5cba79=(0x0,_0x27e383[_0x10de('0x9')])(this[_0x10de('0xa4d')]);!(_0x2df132=(_0x1ec086=_0x5cba79[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2df132=!0x0){var _0x2f9601=_0x1ec086[_0x10de('0x10')];if(_0x2f9601['name']==_0x333df4||_0x2f9601['id']==_0x333df4)return _0x2f9601;}}catch(_0x9cba09){_0x302295=!0x0,_0x21960f=_0x9cba09;}finally{try{!_0x2df132&&_0x5cba79[_0x10de('0xdf')]&&_0x5cba79[_0x10de('0xdf')]();}finally{if(_0x302295)throw _0x21960f;}}return null;}},{'key':'getRenderOrder','value':function(_0x333df4,_0x2df132){var _0x302295=!0x0,_0x21960f=!0x1,_0x1ec086=void 0x0;try{for(var _0x5cba79,_0x2f9601=(0x0,_0x27e383[_0x10de('0x9')])(_0x2df132);!(_0x302295=(_0x5cba79=_0x2f9601[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x302295=!0x0){var _0x16224f=_0x5cba79[_0x10de('0x10')];if(_0x16224f[_0x10de('0x8c')]==_0x333df4)return _0x16224f[_0x10de('0xa53')];}}catch(_0x89d99b){_0x21960f=!0x0,_0x1ec086=_0x89d99b;}finally{try{!_0x302295&&_0x2f9601[_0x10de('0xdf')]&&_0x2f9601[_0x10de('0xdf')]();}finally{if(_0x21960f)throw _0x1ec086;}}}},{'key':_0x10de('0x8b4'),'value':function(_0x333df4){this['isSetModelsConfigs']||(this[_0x10de('0xa4d')]=_0x333df4,this[_0x10de('0xa4c')]=!0x0);}},{'key':_0x10de('0x8f9'),'value':function(_0x333df4,_0x1ce41b,_0x1bea2d){var _0x152751=this,_0x55a048=_0x333df4['datas_'];_0x333df4[_0x10de('0xd1')](function(_0x333df4){var _0x2df132=null,_0x302295=null;if(_0x1ce41b&&Array[_0x10de('0x1be')](_0x333df4['material'])?(_0x2df132=_0x333df4[_0x10de('0x40')][0x0],_0x302295=_0x333df4):_0x333df4['material']&&(_0x2df132=_0x333df4[_0x10de('0x40')],_0x302295=_0x333df4),_0x2df132&&_0x2df132[_0x10de('0x8c')]&&0x0<=_0x2df132[_0x10de('0x8c')][_0x10de('0x4d')](_0x10de('0xa54'))){var _0x21960f=_0x152751[_0x10de('0xa55')](_0x2df132[_0x10de('0x8c')]),_0x1ec086=!0x0,_0x5cba79=!0x1,_0x2f9601=void 0x0;try{for(var _0x32a801,_0x50f38c=(0x0,_0x27e383['default'])(_0x21960f);!(_0x1ec086=(_0x32a801=_0x50f38c[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x1ec086=!0x0){var _0x368c6c=_0x32a801[_0x10de('0x10')];_0x2df132['_mesh']=_0x302295,_0x152751[_0x10de('0xa56')](_0x1bea2d,_0x368c6c,_0x2df132,_0x55a048);}}catch(_0x5511fb){_0x5cba79=!0x0,_0x2f9601=_0x5511fb;}finally{try{!_0x1ec086&&_0x50f38c[_0x10de('0xdf')]&&_0x50f38c[_0x10de('0xdf')]();}finally{if(_0x5cba79)throw _0x2f9601;}}}if(0x0<=_0x333df4['name'][_0x10de('0x4d')]('_ef_')){var _0x280eeb=_0x152751[_0x10de('0xa55')](_0x333df4['name']);if(_0x10de('0x369')===_0x333df4[_0x10de('0x85')]||'Group'===_0x333df4[_0x10de('0x85')]){var _0x4c90ad=!0x0,_0x21960f=!0x1,_0x5cba79=void 0x0;try{for(var _0x53964c,_0x3a30d3=(0x0,_0x27e383[_0x10de('0x9')])(_0x280eeb);!(_0x4c90ad=(_0x53964c=_0x3a30d3['next']())[_0x10de('0x32b')]);_0x4c90ad=!0x0){var _0x57f5ea=_0x53964c[_0x10de('0x10')];_0x152751[_0x10de('0xa56')](_0x1bea2d,_0x57f5ea,_0x333df4,_0x55a048);}}catch(_0x2d6731){_0x21960f=!0x0,_0x5cba79=_0x2d6731;}finally{try{!_0x4c90ad&&_0x3a30d3[_0x10de('0xdf')]&&_0x3a30d3[_0x10de('0xdf')]();}finally{if(_0x21960f)throw _0x5cba79;}}}_0x333df4[_0x10de('0xd1')](function(_0x333df4){if(_0x10de('0x348')===_0x333df4[_0x10de('0x85')]){var _0x2df132=!0x0,_0x302295=!0x1,_0x21960f=void 0x0;try{for(var _0x1ec086,_0x5cba79=(0x0,_0x27e383[_0x10de('0x9')])(_0x280eeb);!(_0x2df132=(_0x1ec086=_0x5cba79[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2df132=!0x0){var _0x2f9601=_0x1ec086[_0x10de('0x10')];_0x152751[_0x10de('0xa56')](_0x1bea2d,_0x2f9601,_0x333df4,_0x55a048);}}catch(_0x50dbce){_0x302295=!0x0,_0x21960f=_0x50dbce;}finally{try{!_0x2df132&&_0x5cba79[_0x10de('0xdf')]&&_0x5cba79[_0x10de('0xdf')]();}finally{if(_0x302295)throw _0x21960f;}}}});}if(_0x10de('0x348')===_0x333df4[_0x10de('0x85')]&&0x0<=_0x333df4[_0x10de('0x8c')][_0x10de('0x4d')](_0x10de('0xa54'))){var _0x2f9601=_0x152751[_0x10de('0xa55')](_0x333df4[_0x10de('0x8c')]),_0x269a37=!0x0,_0x21960f=!0x1,_0x5cba79=void 0x0;try{for(var _0x35fa22,_0x2a67fa=(0x0,_0x27e383[_0x10de('0x9')])(_0x2f9601);!(_0x269a37=(_0x35fa22=_0x2a67fa[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x269a37=!0x0){var _0x469bc6=_0x35fa22[_0x10de('0x10')];_0x152751[_0x10de('0xa56')](_0x1bea2d,_0x469bc6,_0x333df4,_0x55a048);}}catch(_0x13ea16){_0x21960f=!0x0,_0x5cba79=_0x13ea16;}finally{try{!_0x269a37&&_0x2a67fa['return']&&_0x2a67fa[_0x10de('0xdf')]();}finally{if(_0x21960f)throw _0x5cba79;}}}});}},{'key':_0x10de('0x8fc'),'value':function(_0x333df4,_0x5cba79,_0x2f9601){var _0x4259e8=this,_0x3d0a65=_0x333df4[_0x10de('0x3e')];_0x333df4[_0x10de('0xd1')](function(_0x333df4){var _0x2df132=null,_0x302295=null;if(_0x5cba79&&Array['isArray'](_0x333df4[_0x10de('0x40')])?(_0x2df132=_0x333df4['material'][0x0],_0x302295=_0x333df4):_0x333df4[_0x10de('0x40')]&&(_0x2df132=_0x333df4[_0x10de('0x40')],_0x302295=_0x333df4),_0x2df132&&_0x2df132['name'])for(var _0x21960f in _0x2df132[_0x10de('0xa57')]=_0x302295,_0x2f9601[_0x10de('0x40')])_0x21960f===_0x2df132['name']&&_0x4259e8['settingModelEffects']('',_0x2df132,_0x3d0a65,_0x2f9601[_0x10de('0x40')][_0x21960f]);if(_0x10de('0x348')===_0x333df4[_0x10de('0x85')])for(var _0x1ec086 in _0x2f9601[_0x10de('0x1f6')])_0x1ec086===_0x333df4[_0x10de('0x8c')]&&_0x4259e8[_0x10de('0xa58')]('',_0x333df4,_0x3d0a65,_0x2f9601[_0x10de('0x1f6')][_0x1ec086]);});}},{'key':_0x10de('0xa56'),'value':function(_0x333df4,_0x2df132,_0x302295,_0x21960f){if(_0x333df4[_0x10de('0x8f8')]&&0x0<_0x333df4['modelEffects'][_0x10de('0xe')]){var _0x1ec086=!0x0,_0x5cba79=!0x1,_0x2f9601=void 0x0;try{for(var _0x48f57f,_0x3eee5b=(0x0,_0x27e383[_0x10de('0x9')])(_0x333df4[_0x10de('0x8f8')]);!(_0x1ec086=(_0x48f57f=_0x3eee5b['next']())[_0x10de('0x32b')]);_0x1ec086=!0x0){var _0x493244=_0x48f57f['value'];if(_0x493244[_0x10de('0x8c')]===_0x2df132)if(!this[_0x10de('0xa58')](_0x2df132,_0x302295,_0x21960f,_0x493244))break;}}catch(_0xc72898){_0x5cba79=!0x0,_0x2f9601=_0xc72898;}finally{try{!_0x1ec086&&_0x3eee5b[_0x10de('0xdf')]&&_0x3eee5b[_0x10de('0xdf')]();}finally{if(_0x5cba79)throw _0x2f9601;}}}}},{'key':_0x10de('0xa58'),'value':function(_0x333df4,_0x2df132,_0x302295,_0x21960f){if(!_0x21960f[_0x10de('0xa59')]||_0x10de('0x369')!==_0x2df132[_0x10de('0x85')]&&'Group'!==_0x2df132['type']||(this[_0x10de('0x937')][_0x302295[_0x10de('0x8c')]]||(this[_0x10de('0x937')][_0x302295[_0x10de('0x8c')]]={}),void 0x0!==_0x21960f['control'][_0x10de('0x364')]&&(_0x2df132[_0x10de('0x364')]=_0x21960f[_0x10de('0xa59')][_0x10de('0x364')]),this[_0x10de('0x937')][_0x302295['name']][_0x333df4]=_0x2df132),_0x21960f[_0x10de('0xa5a')]&&(this['modelsControlGroups'][_0x302295[_0x10de('0x8c')]||_0x302295[_0x10de('0x8f5')]]||(this[_0x10de('0x937')][_0x302295[_0x10de('0x8c')]||_0x302295['model']]={}),(_0x1ec086=_0x21960f[_0x10de('0xa5a')][_0x10de('0x8c')])&&(this[_0x10de('0x937')][_0x302295[_0x10de('0x8c')]||_0x302295[_0x10de('0x8f5')]][_0x1ec086]=_0x2df132)),_0x21960f[_0x10de('0x4e9')]&&_0x2df132[_0x10de('0xcf')]&&(_0x1ec086=this[_0x10de('0xcf')]['mapView']['renderer'][_0x10de('0x4eb')][_0x10de('0x4f8')](),_0x21960f[_0x10de('0x4e9')]&&!_0x21960f[_0x10de('0x4e9')][_0x10de('0x43e')]?_0x21960f['anisotropy']='max'==_0x21960f[_0x10de('0x4e9')]?_0x1ec086:_0x21960f[_0x10de('0x4e9')]:_0x21960f[_0x10de('0x4e9')]=0x10==_0x21960f[_0x10de('0x4e9')]?_0x1ec086:_0x21960f[_0x10de('0x4e9')]['value'],_0x2df132[_0x10de('0xcf')][_0x10de('0x4e9')]=_0x21960f[_0x10de('0x4e9')]),_0x21960f['blending']&&(_0x10de('0xa5b')==_0x21960f[_0x10de('0x1e2')]||_0x21960f[_0x10de('0x1e2')]['enabled']&&_0x21960f['blending'][_0x10de('0xa5b')])&&(_0x2df132[_0x10de('0x1e2')]=THREE['AdditiveBlending'],_0x2df132[_0x10de('0x1e5')]=!0x1),void 0x0!==_0x21960f['transparent']&&(_0x21960f[_0x10de('0x1e4')][_0x10de('0x43e')]?(_0x2df132[_0x10de('0x1e4')]=_0x21960f[_0x10de('0x1e4')][_0x10de('0x43e')],_0x21960f['transparent']['opacity']&&_0x21960f['transparent'][_0x10de('0x233')]<0x1&&(_0x2df132[_0x10de('0x233')]=_0x21960f[_0x10de('0x1e4')][_0x10de('0x233')]),_0x21960f[_0x10de('0x1e4')]['isClose']&&(_0x2df132[_0x10de('0x1e4')]=!0x1,_0x2df132[_0x10de('0xa57')]&&Array['isArray'](_0x2df132[_0x10de('0xa57')][_0x10de('0x40')])&&(_0x2df132[_0x10de('0xa57')][_0x10de('0x40')][0x1][_0x10de('0x1e4')]=!0x1)),_0x2df132[_0x10de('0x10c')]=!0x0):_0x2df132[_0x10de('0x1e4')]=_0x21960f[_0x10de('0x1e4')],_0x2df132[_0x10de('0x10c')]=!0x0),_0x21960f[_0x10de('0x989')]&&(_0x2df132[_0x10de('0x349')]&&!_0x21960f['renderSort'][_0x10de('0x43e')]?_0x2df132[_0x10de('0x349')]=_0x21960f['renderSort']:_0x2df132[_0x10de('0x349')]=_0x21960f[_0x10de('0x989')]['value']),_0x21960f[_0x10de('0x3bb')]&&_0x21960f['side']['enabled']&&(_0x2df132[_0x10de('0x3bb')]=_0x21960f[_0x10de('0x3bb')][_0x10de('0x10')]),_0x21960f[_0x10de('0x3a9')]&&void 0x0!==_0x2df132[_0x10de('0x3a9')]&&(_0x21960f[_0x10de('0x3a9')][_0x10de('0x43e')]?_0x2df132['alphaTest']=_0x21960f[_0x10de('0x3a9')][_0x10de('0x10')]:_0x2df132[_0x10de('0x3a9')]=_0x21960f[_0x10de('0x3a9')]),void 0x0!==_0x21960f[_0x10de('0x1e5')]&&(_0x21960f[_0x10de('0x1e5')]['enabled']?_0x2df132['depthWrite']=_0x21960f[_0x10de('0x1e5')]['value']:_0x2df132['depthWrite']=_0x21960f[_0x10de('0x1e5')]),_0x21960f[_0x10de('0xa5c')]&&(void 0x0!==_0x21960f[_0x10de('0xa5c')][_0x10de('0x43e')]&&_0x21960f['fresnel'][_0x10de('0x43e')],this[_0x10de('0xa5d')](_0x2df132,_0x21960f['fresnel'],_0x302295)),_0x21960f[_0x10de('0x88b')]&&this['createEnvTexture'](_0x2df132,_0x21960f['envTexture']),_0x21960f['shadow']&&(_0x2df132[_0x10de('0x735')]=_0x21960f[_0x10de('0x87e')]['castShadow']||!0x1,_0x2df132[_0x10de('0x707')]=_0x21960f['shadow'][_0x10de('0x707')]||!0x1),_0x21960f[_0x10de('0x591')]&&esmap['ESEffectTool'][_0x10de('0x46')][_0x10de('0x437')]&&(_0x21960f['unrealBloom'][_0x10de('0x43e')],esmap['ESEffectTool'][_0x10de('0x8bc')][_0x10de('0x939')](_0x2df132,_0x21960f['unrealBloom'][_0x10de('0x479')])),_0x21960f['outline']&&esmap[_0x10de('0x4f')][_0x10de('0x46')]['isOpenScreenEffect']&&esmap['ESEffectTool']['screenEffect'][_0x10de('0x949')](_0x2df132),_0x21960f[_0x10de('0xa5e')]&&(void 0x0===_0x21960f[_0x10de('0xa5e')]['enabled']||!0x1!==_0x21960f[_0x10de('0xa5e')]['enabled'])){var _0x1ec086=null;if(_0x21960f[_0x10de('0xa5e')]['color']&&(_0x2f9601=_0x21960f['lineFrame']['lineOpacity']||0x1,_0x1ec086=this[_0x10de('0xa5f')](_0x2df132,_0x21960f[_0x10de('0xa5e')]['color'],_0x2f9601)),_0x21960f[_0x10de('0xa5e')][_0x10de('0xa60')])if(Array['isArray'](_0x2df132[_0x10de('0x40')])){var _0x5cba79=!0x0,_0x2f9601=!0x1,_0xfb63f8=void 0x0;try{for(var _0x195c20,_0x565f84=(0x0,_0x27e383['default'])(_0x2df132[_0x10de('0x40')]);!(_0x5cba79=(_0x195c20=_0x565f84['next']())[_0x10de('0x32b')]);_0x5cba79=!0x0){var _0x18ffe7=_0x195c20[_0x10de('0x10')];void 0x0!==_0x21960f['lineFrame'][_0x10de('0xa60')][_0x10de('0x364')]&&(_0x18ffe7[_0x10de('0x364')]=_0x21960f['lineFrame']['faces'][_0x10de('0x364')]),_0x18ffe7[_0x10de('0x1e5')]=!0x1;}}catch(_0x357430){_0x2f9601=!0x0,_0xfb63f8=_0x357430;}finally{try{!_0x5cba79&&_0x565f84[_0x10de('0xdf')]&&_0x565f84[_0x10de('0xdf')]();}finally{if(_0x2f9601)throw _0xfb63f8;}}}else void 0x0!==_0x21960f[_0x10de('0xa5e')]['faces'][_0x10de('0x364')]&&(_0x2df132[_0x10de('0x40')][_0x10de('0x364')]=_0x21960f[_0x10de('0xa5e')]['faces'][_0x10de('0x364')]),_0x2df132[_0x10de('0x40')][_0x10de('0x1e5')]=!0x1;_0x21960f[_0x10de('0xa5e')][_0x10de('0x233')]&&(_0x2df132['material']['transparent']=!0x0,_0x2df132[_0x10de('0x40')][_0x10de('0x233')]=_0x21960f[_0x10de('0xa5e')]['opacity']),_0x10de('0xa5b')==_0x21960f[_0x10de('0xa5e')]['blending']&&(_0x2df132[_0x10de('0x40')][_0x10de('0x1e2')]=THREE[_0x10de('0x1e3')],_0x2df132[_0x10de('0x40')][_0x10de('0x1e5')]=!0x1),_0x1ec086&&_0x21960f[_0x10de('0xa5e')][_0x10de('0x591')]&&esmap[_0x10de('0x4f')]['screenEffect'][_0x10de('0x939')](_0x1ec086,_0x21960f['lineFrame']['unrealBloom']['intensity']);}_0x21960f[_0x10de('0xa61')]&&(_0x2df132[_0x10de('0xa62')]=!0x0),_0x21960f[_0x10de('0xa63')]&&this['createUvAnimation'](_0x2df132,_0x21960f[_0x10de('0xa63')],_0x302295),_0x21960f['uvTransform']&&_0x2df132[_0x10de('0xcf')]&&_0x302295&&_0x302295['ID']&&(_0x2f9601=_0x2df132[_0x10de('0xcf')][_0x10de('0x1c5')](),_0x2df132[_0x10de('0xcf')]=_0x2f9601,_0x2df132[_0x10de('0xcf')]['_markerId']=_0x302295['ID'],this[_0x10de('0x934')]['push'](_0x2df132[_0x10de('0xcf')]),_0x2df132['map']['needsUpdate']=!0x0,_0x2df132[_0x10de('0x10c')]=!0x0,this[_0x10de('0xcf')][_0x10de('0x289')](_0x10de('0xa64'),{'type':_0x10de('0xa65'),'id':_0x2df132[_0x10de('0xcf')][_0x10de('0x935')]})),_0x21960f['opacity']&&(_0x2df132[_0x10de('0x1e4')]=!0x0,_0x2df132[_0x10de('0x233')]=_0x21960f['opacity']),_0x21960f[_0x10de('0xa66')]&&_0x2df132[_0x10de('0xcf')]&&this[_0x10de('0xa67')](_0x2df132,_0x21960f[_0x10de('0xa66')],_0x302295),_0x21960f[_0x10de('0xa68')]&&_0x2df132[_0x10de('0xcf')]&&(void 0x0===_0x21960f[_0x10de('0xa68')]['enabled']||!0x1!==_0x21960f[_0x10de('0xa68')]['enabled'])&&this[_0x10de('0xa69')](_0x2df132,_0x21960f['blendEffect'],_0x302295),_0x21960f[_0x10de('0x6eb')]&&(void 0x0!==_0x21960f[_0x10de('0x6eb')][_0x10de('0x232')]?this[_0x10de('0x6ea')](_0x2df132,_0x21960f['water'],_0x302295):this['_createWater'](_0x2df132,_0x21960f[_0x10de('0x6eb')],_0x302295)),_0x21960f[_0x10de('0xa6a')]&&this[_0x10de('0xa6b')](_0x2df132,_0x21960f['mirroWater'],_0x302295),_0x21960f[_0x10de('0x931')]&&_0x2df132[_0x10de('0xcf')]&&this[_0x10de('0xa6c')](_0x2df132,_0x21960f['lightBlend']),_0x21960f[_0x10de('0xa6d')]&&(_0x21960f[_0x10de('0xa6d')]['type']?(_0x2df132[_0x10de('0xa6e')]=_0x333df4,_0x2df132[_0x10de('0xa6f')]=_0x21960f[_0x10de('0xa6d')],_0x2df132[_0x10de('0xa70')]=_0x21960f[_0x10de('0xa6d')]['isLookAt']):(_0x2df132[_0x10de('0x40')][_0x10de('0x1e5')]=!0x1,_0x2df132['material'][_0x10de('0x233')]=0x0),this[_0x10de('0xa50')][_0x2df132[_0x10de('0x1d9')]]=_0x2df132),_0x21960f['terrain']&&this[_0x10de('0xa71')](_0x2df132,_0x21960f[_0x10de('0xa72')],_0x302295),_0x21960f[_0x10de('0xa73')]&&this['createHeatMap'](_0x2df132,_0x21960f[_0x10de('0xa73')],_0x302295),_0x21960f[_0x10de('0xa74')]&&this['createGradient'](_0x2df132,_0x21960f[_0x10de('0xa74')],_0x302295);}},{'key':'setTransparent','value':function(){}},{'key':_0x10de('0xa5d'),'value':function(_0x333df4,_0x2df132,_0x302295){new _0x2b56ac[(_0x10de('0xc8'))]()[_0x10de('0x32e')](_0x333df4),_0x333df4['envMap']=this['lights'][_0x10de('0x906')],_0x333df4[_0x10de('0x9a4')]=_0x2df132[_0x10de('0x479')]||0x14;}},{'key':_0x10de('0xa6b'),'value':function(_0x333df4,_0x2df132,_0x302295){var _0x21960f,_0x1ec086=this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0xa75')],_0x1ec086=new _0x2b56ac[(_0x10de('0xa1'))]({'light':_0x1ec086,'speed':_0x2df132[_0x10de('0x363')],'waterColor':_0x2df132[_0x10de('0x6e9')]}),_0x5cba79=(_0x333df4[_0x10de('0x364')]=!0x1,_0x333df4['material'][_0x10de('0x364')]=!0x1,Array['isArray'](_0x333df4[_0x10de('0x40')])?_0x333df4[_0x10de('0x40')][0x0]:_0x333df4[_0x10de('0x40')]),_0x2f9601=null;_0x5cba79['map']&&(_0x5cba79=(_0x2f9601=_0x5cba79[_0x10de('0xcf')]['image']['getAttribute'](_0x10de('0xa76'))||_0x5cba79[_0x10de('0xcf')][_0x10de('0x49c')][_0x10de('0xa77')])[_0x10de('0xa78')]('/'),_0x21960f=_0x2f9601[_0x10de('0xa16')](0x0,_0x5cba79+0x1),_0x2f9601=(_0x5cba79=_0x2f9601['substring'](_0x5cba79+0x1,_0x2f9601['length']))['split']('.')[0x0],_0x5cba79['split']('.')[0x1],_0x5cba79=_0x21960f+_0x2f9601+_0x10de('0xa79'),_0x21960f=new THREE[(_0x10de('0x5ac'))](),(_0x2f9601=_0x1ec086[_0x10de('0x6ea')](_0x333df4[_0x10de('0xd0')][_0x10de('0x1c5')](),_0x21960f,(0x0,_0xdc32c9['getConfigAssetsPath'])(_0x10de('0xa7a')),_0x5cba79))[_0x10de('0x1f6')]['position'][_0x10de('0x1d3')](_0x333df4[_0x10de('0x222')]),_0x2f9601[_0x10de('0x1f6')][_0x10de('0x1fd')][_0x10de('0x1d3')](_0x333df4[_0x10de('0x1fd')]),_0x2f9601[_0x10de('0x1f6')][_0x10de('0x1e8')][_0x10de('0x1d3')](_0x333df4[_0x10de('0x1e8')]),_0x2f9601[_0x10de('0x1f6')][_0x10de('0x8c')]=_0x333df4[_0x10de('0x8c')],_0x2f9601['mesh'][_0x10de('0x349')]=_0x333df4['renderOrder'],esmap[_0x10de('0x4f')]['EFFECT_EDITOR']&&(_0x2f9601[_0x10de('0x1f6')][_0x10de('0xa7b')]=_0x1ec086),_0x333df4[_0x10de('0xd3')][_0x10de('0x1d5')](_0x2f9601[_0x10de('0x1f6')]),this[_0x10de('0xa4f')][_0x2df132[_0x10de('0x8c')]]=_0x1ec086);}},{'key':'createHeatMap','value':function(_0x333df4,_0x2df132,_0x302295){var _0x21960f=new _0x2b56ac[(_0x10de('0xc9'))]();_0x10de('0xa7c')===_0x2df132[_0x10de('0x85')]?(_0x21960f[_0x10de('0x32e')](_0x333df4,_0x302295[_0x10de('0x4d4')][_0x10de('0x41')][_0x10de('0x901')]['box3']),this['projectionHeatMaps'][_0x2df132[_0x10de('0x8c')]]=_0x21960f):_0x10de('0xdc')===_0x2df132[_0x10de('0x85')]&&(_0x21960f[_0x10de('0x40')]=_0x333df4,this['textureHeatMaps'][_0x2df132[_0x10de('0x8c')]]=_0x21960f);}},{'key':_0x10de('0xa7d'),'value':function(_0x333df4,_0x2df132,_0x302295){var _0x21960f=new _0x2b56ac[(_0x10de('0x97'))]();_0x21960f['createMaterial'](_0x333df4),this[_0x10de('0x940')][_0x2df132[_0x10de('0x8c')]]=_0x21960f;}},{'key':_0x10de('0xa7e'),'value':function(_0x333df4,_0x2df132,_0x302295){var _0x21960f,_0x1ec086,_0x5cba79,_0x2f9601;_0x333df4[_0x10de('0xcf')]&&!_0x2df132[_0x10de('0x43e')]?_0x333df4['map'][_0x10de('0xa7f')]||(_0x2df132[_0x10de('0xa80')]&&(_0x333df4['map'][_0x10de('0x615')]=_0x2df132[_0x10de('0xa80')]),_0x2df132[_0x10de('0x1fd')]&&(_0x333df4[_0x10de('0xcf')][_0x10de('0xa81')]=_0x2df132[_0x10de('0x1fd')]),_0x2df132[_0x10de('0x6fa')]&&(_0x5cba79=null,_0x21960f=(_0x5cba79=_0x333df4['map'][_0x10de('0x49c')][_0x10de('0x6df')](_0x10de('0xa76'))||_0x333df4[_0x10de('0xcf')]['image'][_0x10de('0xa77')])[_0x10de('0xa78')]('/'),_0x1ec086=_0x5cba79['substring'](0x0,_0x21960f+0x1),_0x5cba79=(_0x21960f=_0x5cba79[_0x10de('0xa16')](_0x21960f+0x1,_0x5cba79[_0x10de('0xe')]))[_0x10de('0x68')]('.')[0x0],_0x21960f=_0x21960f['split']('.')[0x1],_0x2df132[_0x10de('0x6fa')]['isUseAlphaMask']?this[_0x10de('0xa4e')][_0x10de('0x605')](_0x333df4,_0x1ec086+_0x5cba79+'_ef_mask.'+_0x21960f):this[_0x10de('0xa4e')][_0x10de('0x60c')](_0x333df4,_0x1ec086+_0x5cba79+'_ef_uv-animate.'+_0x21960f,_0x2df132[_0x10de('0x6fa')][_0x10de('0xa80')])),_0x2df132[_0x10de('0xa82')]&&this['modelUvAnimation'][_0x10de('0xa83')](_0x333df4['map'],_0x2df132[_0x10de('0xa82')]),this[_0x10de('0xa4e')]['textures'][_0x10de('0x84')](_0x333df4['map']),this[_0x10de('0xa4e')][_0x10de('0x601')](),_0x333df4[_0x10de('0xcf')][_0x10de('0xa7f')]=!0x0):_0x333df4['map']&&_0x2df132[_0x10de('0x43e')]&&(_0x333df4[_0x10de('0xcf')][_0x10de('0xa7f')]||(_0x2df132[_0x10de('0xa84')]?this[_0x10de('0xa4e')][_0x10de('0xa83')](_0x333df4['map'],{'imgWidth':_0x2df132[_0x10de('0x612')],'imgHeight':_0x2df132[_0x10de('0x612')],'row':_0x2df132[_0x10de('0x50e')],'column':_0x2df132[_0x10de('0x50f')],'fps':_0x2df132['fps']}):((_0x2df132[_0x10de('0xa85')]||_0x2df132[_0x10de('0xa86')])&&(_0x333df4[_0x10de('0xcf')][_0x10de('0x615')]={'x':_0x2df132[_0x10de('0xa85')],'y':_0x2df132[_0x10de('0xa86')]}),_0x2df132[_0x10de('0x1fd')]&&(_0x333df4[_0x10de('0xcf')][_0x10de('0xa81')]=_0x2df132[_0x10de('0x1fd')]),_0x2df132[_0x10de('0x6fa')]&&(_0x1ec086=null,_0x5cba79=(_0x1ec086=_0x333df4[_0x10de('0xcf')][_0x10de('0x49c')]['getAttribute'](_0x10de('0xa76'))||_0x333df4[_0x10de('0xcf')]['image']['currentSrc'])[_0x10de('0xa78')]('/'),_0x21960f=_0x1ec086[_0x10de('0xa16')](0x0,_0x5cba79+0x1),_0x1ec086=(_0x5cba79=_0x1ec086[_0x10de('0xa16')](_0x5cba79+0x1,_0x1ec086['length']))[_0x10de('0x68')]('.')[0x0],_0x5cba79=_0x5cba79['split']('.')[0x1],_0x2df132[_0x10de('0xa87')]?this[_0x10de('0xa4e')][_0x10de('0x605')](_0x333df4,_0x21960f+_0x1ec086+'_ef_mask.'+_0x5cba79):(_0x2f9601=null,(_0x2df132[_0x10de('0xa88')]||_0x2df132[_0x10de('0xa89')])&&(_0x2f9601={'x':_0x2df132[_0x10de('0xa88')],'y':_0x2df132['uv2TranslateY']}),this[_0x10de('0xa4e')][_0x10de('0x60c')](_0x333df4,_0x21960f+_0x1ec086+_0x10de('0xa8a')+_0x5cba79,_0x2f9601)))),this[_0x10de('0xa4e')]['textures'][_0x10de('0x84')](_0x333df4[_0x10de('0xcf')]),this[_0x10de('0xa4e')][_0x10de('0x601')](),_0x333df4[_0x10de('0xcf')][_0x10de('0xa7f')]=!0x0,esmap[_0x10de('0x4f')][_0x10de('0x54')]&&(_0x333df4[_0x10de('0xa7b')]=!0x0)));}},{'key':_0x10de('0x9d1'),'value':function(_0x333df4,_0x2df132){_0x333df4['envMap']=this[_0x10de('0x6fe')]['envTextureCube'],_0x2df132[_0x10de('0x2f7')]&&(_0x333df4[_0x10de('0x2f7')]=_0x2df132[_0x10de('0x2f7')]),_0x2df132[_0x10de('0x2f8')]&&(_0x333df4[_0x10de('0x2f8')]=_0x2df132[_0x10de('0x2f8')]),!esmap['ESMapUtil']['getPlatform']()[_0x10de('0x8c9')]&&_0x2df132[_0x10de('0xa8b')]?_0x333df4[_0x10de('0x9a4')]=_0x2df132[_0x10de('0xa8b')]:_0x333df4['envMapIntensity']=_0x2df132[_0x10de('0x479')]||0x1,_0x333df4[_0x10de('0x10c')]=!0x0,this[_0x10de('0xa8c')][_0x10de('0x84')](_0x333df4);}},{'key':_0x10de('0xa6c'),'value':function(_0x333df4,_0x2df132){_0x2df132[_0x10de('0x479')]&&(_0x333df4[_0x10de('0xa8d')]=_0x2df132[_0x10de('0x479')]),_0x2df132[_0x10de('0xa8e')]&&(_0x333df4[_0x10de('0xa8d')]=0x0),this[_0x10de('0x931')]['createMaterial'](_0x333df4),esmap[_0x10de('0x4f')][_0x10de('0x54')]&&(_0x333df4[_0x10de('0xa7b')]=!0x0);}},{'key':_0x10de('0xa67'),'value':function(_0x333df4,_0x2df132,_0x302295){var _0x21960f,_0x1ec086=null,_0x5cba79=(_0x1ec086=_0x333df4[_0x10de('0xcf')]['image'][_0x10de('0x6df')](_0x10de('0xa76'))||_0x333df4[_0x10de('0xcf')]['image']['currentSrc'])[_0x10de('0xa78')]('/'),_0x2f9601=_0x1ec086['substring'](0x0,_0x5cba79+0x1),_0x5cba79=_0x1ec086['substring'](_0x5cba79+0x1,_0x1ec086[_0x10de('0xe')]),_0x1ec086=_0x5cba79[_0x10de('0x68')]('.')[0x0],_0x5cba79=_0x5cba79['split']('.')[0x1],_0x58eac8=(_0x10de('0x7')==typeof _0x2df132[_0x10de('0x5e3')]&&(_0x2df132['repeatFactor']=_0x2df132[_0x10de('0x5e3')][_0x10de('0x68')](',')['map'](Number)),_0x10de('0x7')==typeof _0x2df132['isNoTileFactor']&&(_0x2df132[_0x10de('0x80d')]=_0x2df132['isNoTileFactor'][_0x10de('0x68')](',')['map'](Number)),_0x2df132[_0x10de('0x5e3')]),_0x4bb4e9=_0x2df132['isNoTileFactor'],_0x2f433b=_0x2df132[_0x10de('0xa8f')],_0x4b2d34=_0x2df132[_0x10de('0xa90')],_0x2a9efa=_0x2df132['blendCount'],_0x30667b=_0x2df132[_0x10de('0x814')],_0x19c0fd=null,_0x5471fe=(_0x2df132['anisotropy']&&(_0x21960f=this['map'][_0x10de('0x46c')]['renderer'][_0x10de('0x4eb')][_0x10de('0x4f8')](),_0x19c0fd=_0x10de('0x108')==_0x2df132[_0x10de('0x4e9')]?_0x21960f:_0x2df132[_0x10de('0x4e9')]),new _0x2b56ac[(_0x10de('0x9c'))]({'repeatFactor':_0x58eac8?{'texture1':_0x58eac8[0x0],'texture2':_0x58eac8[0x1],'texture3':_0x58eac8[0x2],'texture4':_0x58eac8[0x3]}:null,'isNoTileFactor':_0x4bb4e9?{'texture1':_0x4bb4e9[0x0],'texture2':_0x4bb4e9[0x1],'texture3':_0x4bb4e9[0x2],'texture4':_0x4bb4e9[0x3]}:void 0x0,'texture2Path':_0x2f9601+_0x1ec086+_0x10de('0xa91')+_0x5cba79,'textureMaskPath':_0x2f9601+_0x1ec086+'_ef_mask.png','texture3Path':0x3<=_0x2a9efa?_0x2f9601+_0x1ec086+_0x10de('0xa92')+_0x5cba79:null,'texture4Path':0x4<=_0x2a9efa?_0x2f9601+_0x1ec086+'_ef_blend-3.'+_0x5cba79:null,'noisePath':(0x0,_0xdc32c9[_0x10de('0x29')])(_0x10de('0xa93')),'normalUvIndex':_0x4b2d34?_0x2df132['normalUv']||0x1:null,'normalFlipSide':_0x30667b,'anisotropy':_0x19c0fd}));_0x333df4[_0x10de('0x364')]=!0x1,_0x2f433b&&(_0x333df4[_0x10de('0x1e4')]=!0x0),_0x5471fe[_0x10de('0x2d6')](_0x10de('0x476'),function(){_0x5471fe[_0x10de('0x32e')](_0x333df4),esmap[_0x10de('0x4f')][_0x10de('0x54')]&&(_0x5471fe[_0x10de('0xa94')]=_0x2a9efa,_0x333df4[_0x10de('0xa7b')]=_0x5471fe),_0x333df4[_0x10de('0x364')]=!0x0;});}},{'key':_0x10de('0xa69'),'value':function(_0x333df4,_0x2df132,_0x302295){var _0x21960f=null,_0x1ec086=(_0x21960f=_0x333df4['map'][_0x10de('0x49c')][_0x10de('0x6df')](_0x10de('0xa76'))||_0x333df4[_0x10de('0xcf')][_0x10de('0x49c')][_0x10de('0xa77')])[_0x10de('0xa78')]('/'),_0x5cba79=_0x21960f[_0x10de('0xa16')](0x0,_0x1ec086+0x1),_0x1ec086=_0x21960f[_0x10de('0xa16')](_0x1ec086+0x1,_0x21960f['length']),_0x21960f=_0x1ec086[_0x10de('0x68')]('.')[0x0],_0x1ec086=_0x1ec086[_0x10de('0x68')]('.')[0x1],_0x2f9601=_0x2df132[_0x10de('0xa8f')],_0x49b73b=_0x2df132['isUseNormal'],_0x2076a2=new _0x2b56ac[(_0x10de('0x9b'))]({'textureMaskPath':_0x2f9601?_0x5cba79+_0x21960f+'_ef_mask.png':null,'textureNormalPath':_0x49b73b?_0x5cba79+_0x21960f+_0x10de('0xa95')+_0x1ec086:null,'isIgnoreAlpha':_0x2df132[_0x10de('0x829')],'isUseScanEffect':_0x2df132[_0x10de('0x82a')],'isUseUv2Light':_0x2df132[_0x10de('0x82b')],'scanOffset':_0x2df132[_0x10de('0x82c')]});_0x333df4[_0x10de('0x364')]=!0x1,_0x2f9601&&(_0x333df4[_0x10de('0x1e4')]=!0x0),_0x2076a2[_0x10de('0x2d6')](_0x10de('0x476'),function(){_0x2076a2[_0x10de('0x32e')](_0x333df4),esmap[_0x10de('0x4f')][_0x10de('0x54')]&&(_0x333df4[_0x10de('0xa7b')]=_0x2076a2),_0x333df4['visible']=!0x0;}),this[_0x10de('0xa4a')]['push'](_0x2076a2);}},{'key':_0x10de('0xa96'),'value':function(_0x333df4,_0x2df132,_0x302295){if(!(_0x333df4 instanceof THREE[_0x10de('0x7ac')]))return!0x0;var _0x21960f=null,_0x1ec086=_0x2df132[_0x10de('0x8c')],_0x5cba79=_0x2df132[_0x10de('0xa97')],_0x2f9601=!0x0,_0x3779fa=!0x1,_0x2cfc8a=void 0x0;try{for(var _0x32b4cd,_0x42842f=(0x0,_0x27e383[_0x10de('0x9')])(this['water'][_0x10de('0xa3b')]);!(_0x2f9601=(_0x32b4cd=_0x42842f['next']())[_0x10de('0x32b')]);_0x2f9601=!0x0){var _0x3d934b=_0x32b4cd[_0x10de('0x10')];if(_0x3d934b['name']&&_0x3d934b['name']===_0x1ec086){_0x21960f=_0x3d934b;break;}}}catch(_0x880c7b){_0x3779fa=!0x0,_0x2cfc8a=_0x880c7b;}finally{try{!_0x2f9601&&_0x42842f[_0x10de('0xdf')]&&_0x42842f['return']();}finally{if(_0x3779fa)throw _0x2cfc8a;}}if(!_0x21960f)return!0x0;_0x2df132[_0x10de('0x2f7')]&&(_0x333df4[_0x10de('0x2f7')]=_0x2df132[_0x10de('0x2f7')]),_0x2df132[_0x10de('0x2f8')]&&(_0x333df4[_0x10de('0x2f8')]=_0x2df132['metalness']),_0x2df132[_0x10de('0xa8f')]&&(_0x3779fa=null,_0x2cfc8a=(_0x3779fa=_0x333df4[_0x10de('0xcf')]['image'][_0x10de('0x6df')](_0x10de('0xa76'))||_0x333df4['map'][_0x10de('0x49c')]['currentSrc'])['lastIndexOf']('/'),_0x2df132=_0x3779fa[_0x10de('0xa16')](0x0,_0x2cfc8a+0x1),_0x3779fa=(_0x2cfc8a=_0x3779fa[_0x10de('0xa16')](_0x2cfc8a+0x1,_0x3779fa[_0x10de('0xe')]))['split']('.')[0x0],_0x2cfc8a=_0x2cfc8a[_0x10de('0x68')]('.')[0x1],_0x21960f['alphaMaskPath']=_0x2df132+_0x3779fa+_0x10de('0xa98')+_0x2cfc8a,_0x21960f[_0x10de('0x6e3')]=_0x3779fa),_0x21960f[_0x10de('0x32e')](_0x333df4,_0x5cba79),esmap['ESEffectTool'][_0x10de('0x54')]&&(_0x333df4[_0x10de('0xa7b')]=_0x21960f);}},{'key':_0x10de('0x6ea'),'value':function(_0x333df4,_0x2df132,_0x302295){if(!(_0x333df4 instanceof THREE['Material']))return!0x0;var _0x21960f=_0x2df132[_0x10de('0x8c')],_0x1ec086=_0x2df132[_0x10de('0xa97')],_0x5cba79=void 0x0,_0x2f9601=_0x2df132[_0x10de('0xa99')]&&_0x2df132[_0x10de('0xa44')]?new THREE['TextureLoader']()[_0x10de('0xdb')]((0x0,_0xdc32c9['getConfigAssetsPath'])(_0x2df132[_0x10de('0xa44')])):new THREE[(_0x10de('0x6ff'))](),_0x2f9601=(_0x2df132[_0x10de('0x89c')]&&(_0x5cba79=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')]((0x0,_0xdc32c9[_0x10de('0x29')])(_0x2df132[_0x10de('0x89c')]))),new _0x2b56ac[(_0x10de('0xc5'))]({'colorStr':_0x2df132['color'],'lightColorStr':_0x2df132[_0x10de('0x6db')],'scale':_0x2df132[_0x10de('0x1e8')],'speed':_0x2df132[_0x10de('0x363')],'fluctuate':_0x2df132[_0x10de('0xa45')],'texture':_0x2f9601,'skyTexture':_0x5cba79,'texUvScale':_0x2df132[_0x10de('0xa9a')],'flowAngle':_0x2df132[_0x10de('0x6dc')],'opacity':_0x2df132['opacity']}));_0x2f9601['name']=_0x21960f,_0x2df132[_0x10de('0xa8f')]&&(_0x5cba79=null,_0x21960f=(_0x5cba79=_0x333df4['map'][_0x10de('0x49c')]['getAttribute'](_0x10de('0xa76'))||_0x333df4[_0x10de('0xcf')][_0x10de('0x49c')][_0x10de('0xa77')])[_0x10de('0xa78')]('/'),_0x2df132=_0x5cba79[_0x10de('0xa16')](0x0,_0x21960f+0x1),_0x5cba79=(_0x21960f=_0x5cba79[_0x10de('0xa16')](_0x21960f+0x1,_0x5cba79[_0x10de('0xe')]))[_0x10de('0x68')]('.')[0x0],_0x21960f=_0x21960f[_0x10de('0x68')]('.')[0x1],_0x2f9601[_0x10de('0x6dd')]=_0x2df132+_0x5cba79+_0x10de('0xa98')+_0x21960f,_0x2f9601[_0x10de('0x6e3')]=_0x5cba79),_0x2f9601['createMaterial'](_0x333df4,_0x1ec086),this[_0x10de('0x6eb')][_0x10de('0xa3b')][_0x10de('0x84')](_0x2f9601),esmap[_0x10de('0x4f')][_0x10de('0x54')]&&(_0x333df4[_0x10de('0xa7b')]=_0x2f9601);}},{'key':'createTerrain','value':function(_0x333df4,_0x2df132,_0x302295){var _0x302295=[_0x302295[_0x10de('0x4d4')][_0x10de('0x41')][_0x10de('0x901')][_0x10de('0x902')]['min']['y'],_0x302295[_0x10de('0x4d4')]['userData'][_0x10de('0x901')][_0x10de('0x902')]['max']['y']],_0x302295=_0x2df132[_0x10de('0x840')]||_0x302295,_0x21960f=(_0x10de('0x7')==typeof _0x2df132[_0x10de('0x840')]&&(_0x302295=_0x2df132['heightExtent'][_0x10de('0x68')](',')['map'](Number)),(_0x21960f=_0x2df132['groundImg'])&&(0x0,_0xdc32c9[_0x10de('0x29')])(_0x21960f)),_0x302295=new _0x2b56ac[(_0x10de('0x98'))]({'heightExtent':_0x302295,'gradientType':_0x2df132['gradientType'],'isTransparentLight':_0x2df132[_0x10de('0x4fb')],'texPath':_0x21960f,'isShowSeaGroundEffect':_0x2df132[_0x10de('0xa9b')],'seaGroundConfigs':_0x2df132[_0x10de('0xa9c')]}),_0x21960f=_0x333df4;_0x2df132[_0x10de('0x4fb')]&&(_0x333df4[_0x10de('0xa57')][_0x10de('0x40')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0,'opacity':0.6,'side':THREE['DoubleSide'],'depthWrite':!0x1,'blending':THREE[_0x10de('0x1e3')]}),_0x21960f=_0x333df4['_mesh'][_0x10de('0x40')]),_0x302295['createMaterial'](_0x21960f),_0x2df132[_0x10de('0x8c')]&&(this['gradientTerrainList'][_0x2df132['name']]=_0x302295),_0x2df132[_0x10de('0x479')]&&_0x21960f[_0x10de('0x232')]['setScalar'](_0x2df132['intensity']),this[_0x10de('0xa4b')]['push'](_0x302295),esmap[_0x10de('0x4f')][_0x10de('0x54')]&&(_0x333df4[_0x10de('0xa7b')]=_0x302295);}},{'key':_0x10de('0x913'),'value':function(){if(0x0<(0x0,_0x3e81ab[_0x10de('0x9')])(this[_0x10de('0xa50')])[_0x10de('0xe')])for(var _0x333df4 in this[_0x10de('0xa50')])this[_0x10de('0xa50')][_0x333df4]['isLookAt']&&this['lightPointsMeshs'][_0x333df4]['lookAt'](this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x338')][_0x10de('0x222')]);}},{'key':_0x10de('0x932'),'value':function(_0x333df4){var _0x302295=this,_0x2df132=_0x333df4['isShow'],_0x2df132=void 0x0!==_0x2df132&&_0x2df132,_0x333df4=_0x333df4[_0x10de('0x507')],_0x333df4=void 0x0===_0x333df4?1.5:_0x333df4;0x0<(0x0,_0x3e81ab['default'])(this[_0x10de('0xa50')])['length']&&new TWEEN[(_0x10de('0x316'))]({'x':_0x2df132?0x0:0x1})['to']({'x':_0x2df132?0x1:0x0},0x3e8*_0x333df4)[_0x10de('0x361')](TWEEN['Easing']['Linear']['None'])[_0x10de('0x31c')](function(_0x333df4){for(var _0x2df132 in _0x302295[_0x10de('0xa50')])_0x302295[_0x10de('0xa50')][_0x2df132][_0x10de('0x40')][_0x10de('0x233')]=_0x333df4['x'];})['start']();}},{'key':_0x10de('0xa9d'),'value':function(_0x333df4){return new esmap['ESEffectTool'][(_0x10de('0x903'))](esmap[_0x10de('0x27c')][_0x10de('0xa9e')],{'pointSize':_0x333df4['pointSize'],'color':_0x333df4[_0x10de('0x232')],'points':_0x333df4[_0x10de('0x284')],'height':_0x333df4[_0x10de('0x32c')],'animateType':_0x333df4[_0x10de('0x4ed')],'isShine':!0x0,'showLevel':_0x333df4[_0x10de('0x54d')],'seeThrough':_0x333df4['seeThrough']});}},{'key':_0x10de('0xa9f'),'value':function(){if(0x0<(0x0,_0x3e81ab[_0x10de('0x9')])(this[_0x10de('0xa50')])[_0x10de('0xe')]){var _0x333df4,_0x2df132=[];for(_0x333df4 in this[_0x10de('0xa50')]){var _0x302295=new THREE[(_0x10de('0x1ca'))](),_0x21960f=(this[_0x10de('0xa50')][_0x333df4][_0x10de('0xaa0')](_0x302295),this[_0x10de('0xcf')]['coordThreeToMap']({'x':_0x302295['x'],'y':_0x302295['y'],'z':_0x302295['z']}));_0x2df132[_0x10de('0x84')]({'styleId':this[_0x10de('0xa50')][_0x333df4][_0x10de('0xa6e')],'styleConfig':this[_0x10de('0xa50')][_0x333df4][_0x10de('0xa6f')],'x':_0x21960f['x'],'y':_0x21960f['y'],'height':_0x302295['y']}),this['lightPointsMeshs'][_0x333df4][_0x10de('0xd3')]?this[_0x10de('0xa50')][_0x333df4][_0x10de('0xd3')][_0x10de('0xd2')](this['lightPointsMeshs'][_0x333df4]):this[_0x10de('0xa50')][_0x333df4][_0x10de('0x364')]=!0x1;}this[_0x10de('0xa51')]=new esmap[(_0x10de('0x4f'))]['EffectLayer'](_0x10de('0xa6d'),esmap[_0x10de('0x4c5')]['EFFECT_MARKER']),esmap[_0x10de('0x4f')][_0x10de('0x8fe')](this['lightPointsLayer']);for(var _0x1ec086,_0x5cba79={},_0x2f9601=0x0,_0x348c88=_0x2df132[_0x10de('0xe')];_0x2f9601<_0x348c88;_0x2f9601++)_0x2df132[_0x2f9601][_0x10de('0xaa1')]&&(_0x2df132[_0x2f9601][_0x10de('0xaa1')][_0x10de('0x232')]&&!_0x5cba79[_0x2df132[_0x2f9601]['styleId']]?_0x5cba79[_0x2df132[_0x2f9601][_0x10de('0x5c2')]]=[]:_0x2df132[_0x2f9601][_0x10de('0x5c2')]&&_0x5cba79[_0x2df132[_0x2f9601][_0x10de('0x5c2')]]&&_0x5cba79[_0x2df132[_0x2f9601][_0x10de('0x5c2')]][_0x10de('0x84')](_0x2df132[_0x2f9601]));for(_0x1ec086 in _0x5cba79){var _0xf03b3a=[],_0x282859=_0x5cba79[_0x1ec086][0x0][_0x10de('0xaa1')],_0x77026e=!0x0,_0x1fe1b5=!0x1,_0x4c95c5=void 0x0;try{for(var _0x3016d2,_0x1e93ed=(0x0,_0x27e383[_0x10de('0x9')])(_0x5cba79[_0x1ec086]);!(_0x77026e=(_0x3016d2=_0x1e93ed[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x77026e=!0x0){var _0x599987=_0x3016d2['value'];_0xf03b3a['push']({'x':_0x599987['x'],'y':_0x599987['y'],'height':_0x599987[_0x10de('0x32c')]});}}catch(_0x42b41b){_0x1fe1b5=!0x0,_0x4c95c5=_0x42b41b;}finally{try{!_0x77026e&&_0x1e93ed[_0x10de('0xdf')]&&_0x1e93ed[_0x10de('0xdf')]();}finally{if(_0x1fe1b5)throw _0x4c95c5;}}_0x1fe1b5=this[_0x10de('0xa9d')]({'height':_0x282859[_0x10de('0x4f5')]||0x0,'pointSize':_0x282859[_0x10de('0x44c')]||0xf,'color':_0x282859[_0x10de('0x232')],'animateType':_0x10de('0x5fd'),'points':_0xf03b3a});this['lightPointsLayer'][_0x10de('0x905')](_0x1fe1b5);}}}},{'key':_0x10de('0xa55'),'value':function(_0x333df4){return _0x333df4[_0x10de('0x68')](_0x10de('0xa54'))[0x1]['split']('_');}},{'key':_0x10de('0xaa2'),'value':function(_0x333df4,_0x2df132){_0x333df4&&_0x2df132&&(_0x333df4[_0x10de('0x349')]=_0x2df132);}},{'key':'setTransparent','value':function(_0x333df4,_0x2df132){_0x333df4&&void 0x0!==_0x2df132&&(_0x333df4[_0x10de('0x1e4')]=_0x2df132);}},{'key':_0x10de('0x9d9'),'value':function(_0x333df4){for(var _0x2df132=0x0,_0x302295=this[_0x10de('0xa8c')][_0x10de('0xe')];_0x2df132<_0x302295;_0x2df132++)_0x333df4&&(this[_0x10de('0xa8c')][_0x2df132][_0x10de('0x691')]=_0x333df4),this[_0x10de('0xa8c')][_0x10de('0x10c')]=!0x0;}},{'key':_0x10de('0xa5f'),'value':function(_0x333df4,_0x2df132,_0x302295){return new _0x2b56ac[(_0x10de('0xae'))]({'colorStr':_0x2df132,'opacity':_0x302295})['createLineFrame'](_0x333df4,_0x333df4[_0x10de('0xd0')]);}},{'key':_0x10de('0xaa3'),'value':function(_0x333df4,_0x2df132){var _0x302295=new THREE[(_0x10de('0xd9'))]()['load']((0x0,_0xdc32c9[_0x10de('0x29')])(_0x2df132['lineImg']));new _0x2b56ac[(_0x10de('0xa2'))]({'camera':this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x338')],'texture':_0x302295,'colorStr':_0x2df132[_0x10de('0x232')],'lineWidth':_0x2df132[_0x10de('0x337')]})[_0x10de('0xaa4')](_0x333df4);}},{'key':_0x10de('0x8eb'),'value':function(_0x333df4,_0x2df132,_0x302295){var _0x21960f,_0x10bf37=this,_0x1ec086=_0x333df4['gltfObj'],_0x18fabd=void 0x0,_0x457a7a=void 0x0,_0x26fff5=_0x1ec086[_0x10de('0xaa5')][_0x10de('0x881')]['ms']||{},_0x173b57=_0x1ec086[_0x10de('0x467')][_0x10de('0x222')],_0xacbba6=new THREE[(_0x10de('0x1ca'))](),_0x56800d=new THREE[(_0x10de('0x1ca'))]();for(_0x21960f in new THREE[(_0x10de('0xaa6'))]()[_0x10de('0xaa7')](_0x1ec086[_0x10de('0x467')])[_0x10de('0x64c')](_0x1ec086[_0x10de('0x467')][_0x10de('0x222')]),_0x1ec086[_0x10de('0x467')][_0x10de('0x222')][_0x10de('0x1d6')](-0x1),_0x1ec086[_0x10de('0x467')][_0x10de('0xd1')](function(_0x333df4){if(_0x333df4 instanceof THREE['Mesh']){if(_0xacbba6[_0x10de('0x1e')](_0x173b57['x']+_0x333df4['position']['x'],_0x173b57['y']+_0x333df4[_0x10de('0x222')]['y'],_0x173b57['z']+_0x333df4[_0x10de('0x222')]['z']),_0x56800d['set'](THREE[_0x10de('0x18')]['radToDeg'](_0x333df4[_0x10de('0x1fd')]['x']),THREE[_0x10de('0x18')][_0x10de('0xaa8')](_0x333df4['rotation']['y']),THREE[_0x10de('0x18')][_0x10de('0xaa8')](_0x333df4[_0x10de('0x1fd')]['z'])),_0x56800d=_0x56800d[_0x10de('0x1d1')](),_0x18fabd=_0x333df4[_0x10de('0xd0')][_0x10de('0x1c5')](),0x0<=(_0x457a7a=_0x333df4[_0x10de('0x40')][_0x10de('0x1c5')]())[_0x10de('0x8c')]['indexOf'](_0x10de('0xa54'))){var _0x333df4=_0x10bf37['splitEffectsTemplates'](_0x457a7a['name']),_0x2df132=!0x0,_0x302295=!0x1,_0x21960f=void 0x0;try{for(var _0x1ec086,_0x5cba79=(0x0,_0x27e383['default'])(_0x333df4);!(_0x2df132=(_0x1ec086=_0x5cba79[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2df132=!0x0){var _0x2f9601=_0x1ec086[_0x10de('0x10')];_0x10bf37[_0x10de('0xa56')](_0x10bf37[_0x10de('0xa4d')],_0x2f9601,_0x457a7a);}}catch(_0x1b8bf1){_0x302295=!0x0,_0x21960f=_0x1b8bf1;}finally{try{!_0x2df132&&_0x5cba79[_0x10de('0xdf')]&&_0x5cba79[_0x10de('0xdf')]();}finally{if(_0x302295)throw _0x21960f;}}}_0x26fff5['material']&&0x0<(0x0,_0x3e81ab['default'])(_0x26fff5['material'])[_0x10de('0xe')]&&_0x26fff5[_0x10de('0x40')][_0x457a7a[_0x10de('0x8c')]]&&_0x10bf37[_0x10de('0xa58')]('',_0x457a7a,null,_0x26fff5[_0x10de('0x40')][_0x457a7a['name']]);}}),_0x2df132){var _0x5cba79=null,_0x2f9601=(_0x5cba79=(0x0,_0xdc32c9[_0x10de('0x31')])()?this[_0x10de('0xcf')]['getTileById'](_0x21960f):((0x0,_0xdc32c9[_0x10de('0x30')])()?_0x333df4[_0x10de('0xaa9')]:(0x0,_0xdc32c9[_0x10de('0x2e')])())[_0x10de('0x4d5')](_0x21960f)[_0x10de('0x4da')](_0x10de('0xaaa'))[0x0],_0x2df132[_0x21960f]),_0x5114d5=[],_0x564ec0=[],_0x20e0b4=[],_0x18746e=!0x0,_0x3b2620=!0x1,_0xf7e183=void 0x0;try{for(var _0x8c6fdf,_0x42c5e8=(0x0,_0x27e383['default'])(_0x2f9601);!(_0x18746e=(_0x8c6fdf=_0x42c5e8['next']())[_0x10de('0x32b')]);_0x18746e=!0x0){var _0x987efe,_0x58acc0=_0x8c6fdf[_0x10de('0x10')];_0x5114d5[_0x10de('0x84')](_0x58acc0[_0x10de('0x222')]['x']+_0xacbba6['x'],_0x58acc0['position']['y']+_0xacbba6['y'],_0x58acc0[_0x10de('0x222')]['z']+_0xacbba6['z']),_0x58acc0[_0x10de('0xaab')]?(_0x987efe=_0x58acc0['rotate']['split'](','),_0x20e0b4['push'](+_0x987efe[0x0]+_0x56800d['x'],+_0x987efe[0x1]+_0x56800d['y'],+_0x987efe[0x2]+_0x56800d['z'])):_0x20e0b4['push'](0x0,0x0,0x0),_0x564ec0[_0x10de('0x84')](_0x58acc0[_0x10de('0x1e8')]['x'],_0x58acc0[_0x10de('0x1e8')]['y'],_0x58acc0[_0x10de('0x1e8')]['z']);}}catch(_0x125627){_0x3b2620=!0x0,_0xf7e183=_0x125627;}finally{try{!_0x18746e&&_0x42c5e8[_0x10de('0xdf')]&&_0x42c5e8['return']();}finally{if(_0x3b2620)throw _0xf7e183;}}_0x3b2620=new _0x2b56ac[(_0x10de('0xc7'))]({'material':_0x457a7a,'geometry':_0x18fabd,'num':_0x2f9601[_0x10de('0xe')],'camera':this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x338')],'shadowCamera':_0x302295[_0x10de('0x72e')],'pos':_0x5114d5,'rot':_0x20e0b4,'scale':_0x564ec0});_0x3b2620['object3d'][_0x10de('0x8c')]=_0x333df4[_0x10de('0x8c')],_0x26fff5['mesh']&&(0x0,_0x3e81ab[_0x10de('0x9')])(_0x26fff5[_0x10de('0x1f6')])[_0x10de('0xe')],_0x5cba79['o3d_'][_0x10de('0x1d5')](_0x3b2620[_0x10de('0x368')]),this[_0x10de('0xaac')]['push'](_0x3b2620);}}},{'key':_0x10de('0x8ea'),'value':function(_0x333df4,_0x2df132,_0x302295){var _0x21960f,_0x5610d4,_0x95b037,_0x410aa8,_0x3d5740,_0xc97834,_0x1ec086,_0x4195a1=this,_0x1712bc={},_0x1c67d5=null;for(_0x1ec086 in this['tileInstanceModels'][_0x333df4[_0x10de('0x8c')]]||(_0x21960f=_0x333df4[_0x10de('0xaad')],_0x95b037=_0x5610d4=void 0x0,_0x1712bc=_0x21960f[_0x10de('0xaa5')][_0x10de('0x881')]['ms']||{},_0x410aa8=_0x21960f[_0x10de('0x467')][_0x10de('0x222')],_0x3d5740=new THREE[(_0x10de('0x1ca'))](),_0xc97834=new THREE['Vector3'](),new THREE[(_0x10de('0xaa6'))]()[_0x10de('0xaa7')](_0x21960f['scene'])['getCenter'](_0x21960f[_0x10de('0x467')]['position']),_0x21960f['scene'][_0x10de('0x222')][_0x10de('0x1d6')](-0x1),_0x21960f['scene'][_0x10de('0xd1')](function(_0x333df4){if(_0x333df4 instanceof THREE[_0x10de('0x348')]){if(_0x3d5740[_0x10de('0x1e')](_0x410aa8['x']+_0x333df4[_0x10de('0x222')]['x'],_0x410aa8['y']+_0x333df4[_0x10de('0x222')]['y'],_0x410aa8['z']+_0x333df4[_0x10de('0x222')]['z']),_0xc97834[_0x10de('0x1e')](THREE[_0x10de('0x18')]['radToDeg'](_0x333df4['rotation']['x']),THREE[_0x10de('0x18')][_0x10de('0xaa8')](_0x333df4[_0x10de('0x1fd')]['y']),THREE[_0x10de('0x18')][_0x10de('0xaa8')](_0x333df4[_0x10de('0x1fd')]['z'])),_0xc97834=_0xc97834[_0x10de('0x1d1')](),_0x5610d4=_0x333df4[_0x10de('0xd0')]['clone'](),_0x95b037=_0x333df4[_0x10de('0x40')][_0x10de('0x1c5')](),_0x1c67d5=_0x333df4['name'],0x0<=_0x95b037[_0x10de('0x8c')]['indexOf'](_0x10de('0xa54'))){var _0x333df4=_0x4195a1[_0x10de('0xa55')](_0x95b037[_0x10de('0x8c')]),_0x2df132=!0x0,_0x302295=!0x1,_0x21960f=void 0x0;try{for(var _0x1ec086,_0x5cba79=(0x0,_0x27e383[_0x10de('0x9')])(_0x333df4);!(_0x2df132=(_0x1ec086=_0x5cba79[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2df132=!0x0){var _0x2f9601=_0x1ec086[_0x10de('0x10')];_0x4195a1[_0x10de('0xa56')](_0x4195a1[_0x10de('0xa4d')],_0x2f9601,_0x95b037);}}catch(_0x5cc10f){_0x302295=!0x0,_0x21960f=_0x5cc10f;}finally{try{!_0x2df132&&_0x5cba79['return']&&_0x5cba79[_0x10de('0xdf')]();}finally{if(_0x302295)throw _0x21960f;}}}_0x1712bc['material']&&0x0<(0x0,_0x3e81ab[_0x10de('0x9')])(_0x1712bc[_0x10de('0x40')])['length']&&_0x1712bc[_0x10de('0x40')][_0x95b037[_0x10de('0x8c')]]&&_0x4195a1['settingModelEffects']('',_0x95b037,null,_0x1712bc[_0x10de('0x40')][_0x95b037[_0x10de('0x8c')]]);}}),this[_0x10de('0xa52')][_0x333df4[_0x10de('0x8c')]]={'material':_0x95b037,'geometry':_0x5610d4,'offsetPos':_0x3d5740,'rotation':_0xc97834}),_0x2df132){var _0x5cba79=this[_0x10de('0xcf')][_0x10de('0x98a')](_0x1ec086);if(_0x5cba79){var _0x2f9601=_0x2df132[_0x1ec086],_0x51f97b=[],_0x538b32=[],_0x552a96=[],_0x4ba560=!0x0,_0x360057=!0x1,_0x42513d=void 0x0;try{for(var _0x472192,_0x53700d=(0x0,_0x27e383[_0x10de('0x9')])(_0x2f9601);!(_0x4ba560=(_0x472192=_0x53700d[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x4ba560=!0x0){var _0x2c35b9,_0xdc32c9=_0x472192[_0x10de('0x10')];_0x51f97b[_0x10de('0x84')](_0xdc32c9['position']['x']+this[_0x10de('0xa52')][_0x333df4[_0x10de('0x8c')]]['offsetPos']['x'],_0xdc32c9['position']['y']+this['tileInstanceModels'][_0x333df4[_0x10de('0x8c')]]['offsetPos']['y']*_0xdc32c9['scale']['y'],_0xdc32c9[_0x10de('0x222')]['z']+this[_0x10de('0xa52')][_0x333df4['name']][_0x10de('0xaae')]['z']),_0xdc32c9['rotate']?(_0x2c35b9=_0xdc32c9[_0x10de('0xaab')]['split'](','),_0x552a96[_0x10de('0x84')](+_0x2c35b9[0x0]+this[_0x10de('0xa52')][_0x333df4[_0x10de('0x8c')]]['rotation']['x'],+_0x2c35b9[0x1]+this['tileInstanceModels'][_0x333df4[_0x10de('0x8c')]][_0x10de('0x1fd')]['y'],+_0x2c35b9[0x2]+this[_0x10de('0xa52')][_0x333df4[_0x10de('0x8c')]]['rotation']['z'])):_0x552a96[_0x10de('0x84')](0x0,0x0,0x0),_0x538b32[_0x10de('0x84')](_0xdc32c9[_0x10de('0x1e8')]['x'],_0xdc32c9[_0x10de('0x1e8')]['y'],_0xdc32c9['scale']['z']);}}catch(_0x1c0d9a){_0x360057=!0x0,_0x42513d=_0x1c0d9a;}finally{try{!_0x4ba560&&_0x53700d[_0x10de('0xdf')]&&_0x53700d['return']();}finally{if(_0x360057)throw _0x42513d;}}_0x360057=new _0x2b56ac[(_0x10de('0xc7'))]({'material':this[_0x10de('0xa52')][_0x333df4['name']][_0x10de('0x40')],'geometry':this[_0x10de('0xa52')][_0x333df4[_0x10de('0x8c')]][_0x10de('0xd0')],'num':_0x2f9601[_0x10de('0xe')],'camera':this['map'][_0x10de('0x46c')][_0x10de('0x338')],'shadowCamera':_0x302295['shadowCamera'],'pos':_0x51f97b,'rot':_0x552a96,'scale':_0x538b32});_0x360057['object3d'][_0x10de('0x8c')]=_0x333df4[_0x10de('0x8c')],_0x5cba79[_0x10de('0x4d4')]['add'](_0x360057[_0x10de('0x368')]),_0x1712bc[_0x10de('0x1f6')]&&0x0<(0x0,_0x3e81ab[_0x10de('0x9')])(_0x1712bc['mesh'])[_0x10de('0xe')]&&_0x1c67d5&&_0x1712bc['mesh'][_0x1c67d5]&&_0x4195a1['settingModelEffects']('',_0x360057['object3d'][_0x10de('0x351')][0x0],null,_0x1712bc['mesh'][_0x1c67d5]),this[_0x10de('0xaac')][_0x10de('0x84')](_0x360057),delete _0x2df132[_0x1ec086];}}}},{'key':_0x10de('0x4a1'),'value':function(){this['gradientTerrainList']={},this[_0x10de('0xa4b')]['length']=0x0,this[_0x10de('0x934')][_0x10de('0xe')]=0x0,this[_0x10de('0xa4e')][_0x10de('0xce')]();var _0x333df4=!0x0,_0x2df132=!0x1,_0x302295=void 0x0;try{for(var _0x21960f,_0x1ec086=(0x0,_0x27e383[_0x10de('0x9')])(this[_0x10de('0xa4a')]);!(_0x333df4=(_0x21960f=_0x1ec086['next']())['done']);_0x333df4=!0x0)_0x21960f[_0x10de('0x10')][_0x10de('0xce')]();}catch(_0x325386){_0x2df132=!0x0,_0x302295=_0x325386;}finally{try{!_0x333df4&&_0x1ec086[_0x10de('0xdf')]&&_0x1ec086['return']();}finally{if(_0x2df132)throw _0x302295;}}this['setEnvTextureMaterials'][_0x10de('0xe')]=0x0,this[_0x10de('0x931')][_0x10de('0xce')](),this[_0x10de('0xa50')]={},this['lightPointsLayer']&&this[_0x10de('0xa51')]['removeAll']();var _0x5cba79=!0x0,_0x2df132=!(this[_0x10de('0xa52')]={}),_0x302295=void 0x0;try{for(var _0x2f9601,_0x189b7a=(0x0,_0x27e383[_0x10de('0x9')])(this[_0x10de('0xaac')]);!(_0x5cba79=(_0x2f9601=_0x189b7a[_0x10de('0x88')]())['done']);_0x5cba79=!0x0)_0x2f9601[_0x10de('0x10')][_0x10de('0xce')]();}catch(_0x108392){_0x2df132=!0x0,_0x302295=_0x108392;}finally{try{!_0x5cba79&&_0x189b7a[_0x10de('0xdf')]&&_0x189b7a[_0x10de('0xdf')]();}finally{if(_0x2df132)throw _0x302295;}}this[_0x10de('0xaac')]['length']=0x0,this[_0x10de('0x937')]={};}},{'key':'render','value':function(_0x333df4){if(this[_0x10de('0xa4e')]['update'](_0x333df4),0x0<this[_0x10de('0x92f')][_0x10de('0xe')])for(var _0x2df132=0x0,_0x302295=this[_0x10de('0x92f')][_0x10de('0xe')];_0x2df132<_0x302295;_0x2df132++)this[_0x10de('0x92f')][_0x2df132]['render'](_0x333df4);if(0x0<this[_0x10de('0xa4a')][_0x10de('0xe')])for(var _0x21960f=0x0,_0x1ec086=this['modelBlendEffectList'][_0x10de('0xe')];_0x21960f<_0x1ec086;_0x21960f++)this[_0x10de('0xa4a')][_0x21960f][_0x10de('0x362')](_0x333df4);if(0x0<this[_0x10de('0xa4b')][_0x10de('0xe')])for(var _0x5cba79=0x0,_0x2f9601=this[_0x10de('0xa4b')]['length'];_0x5cba79<_0x2f9601;_0x5cba79++)this[_0x10de('0xa4b')][_0x5cba79][_0x10de('0x362')](_0x333df4);if(0x0<(0x0,_0x3e81ab[_0x10de('0x9')])(this[_0x10de('0xa4f')])['length'])for(var _0x4c99c1 in this['mirroWaters'])this[_0x10de('0xa4f')][_0x4c99c1]['render'](_0x333df4);}}]),_0x2df132[_0x10de('0x9')]=_0x2f9601;},function(_0xcf7669,_0x4bf19f,_0x2d0d20){'use strict';Object['defineProperty'](_0x4bf19f,_0x10de('0x5'),{'value':!0x0});var _0x302b80=_0x1d5feb(_0x2d0d20(0x28)),_0x29ae13=_0x1d5feb(_0x2d0d20(0x0)),_0xf9dba4=_0x1d5feb(_0x2d0d20(0x1)),_0x7657a1=_0x2d0d20(0x13),_0xaca646=function(_0xcf7669){if(_0xcf7669&&_0xcf7669[_0x10de('0x5')])return _0xcf7669;var _0x4bf19f={};if(null!=_0xcf7669)for(var _0x2d0d20 in _0xcf7669)Object[_0x10de('0xa')]['hasOwnProperty'][_0x10de('0x0')](_0xcf7669,_0x2d0d20)&&(_0x4bf19f[_0x2d0d20]=_0xcf7669[_0x2d0d20]);return _0x4bf19f[_0x10de('0x9')]=_0xcf7669,_0x4bf19f;}(_0x2d0d20(0x36)),_0x5bd880=_0x1d5feb(_0x2d0d20(0x111));function _0x1d5feb(_0xcf7669){return _0xcf7669&&_0xcf7669[_0x10de('0x5')]?_0xcf7669:{'default':_0xcf7669};}function _0x525d5b(){(0x0,_0x29ae13[_0x10de('0x9')])(this,_0x525d5b),this[_0x10de('0xcf')]=(0x0,_0x7657a1[_0x10de('0x3b')])(),this[_0x10de('0x43e')]=!0x1,this[_0x10de('0x8bc')]=null,this[_0x10de('0xaaf')]=[],this[_0x10de('0xab0')]=!0x1,this[_0x10de('0xab1')]=!0x1,this[_0x10de('0xab2')]=null,this[_0x10de('0xab3')]=null,this['snowScreenEffect']=null,this[_0x10de('0xab4')]=!0x1,this[_0x10de('0xab5')]=!0x1;}(0x0,_0xf9dba4[_0x10de('0x9')])(_0x525d5b,[{'key':_0x10de('0x4c6'),'value':function(_0xcf7669){var _0x4bf19f=this;this[_0x10de('0x43e')]=!0x0,this['screenEffect']=new _0x5bd880[(_0x10de('0x9'))]({'map':this['map']}),this['screenEffect']['init'](_0xcf7669),this[_0x10de('0xcf')]['on'](_0x10de('0x35c'),function(_0xcf7669){_0x4bf19f['screenEffect']['enabled']&&_0x4bf19f[_0x10de('0x8bc')][_0x10de('0x35c')](_0xcf7669[_0x10de('0x35d')],_0xcf7669[_0x10de('0x32c')]);});}},{'key':_0x10de('0xab6'),'value':function(){var _0x4bf19f;this['screenEffect']['outlinePass']&&(_0x4bf19f=this)[_0x10de('0xcf')]['on'](_0x10de('0xab7'),function(_0xcf7669){_0xcf7669[_0x10de('0x7ab')]==esmap[_0x10de('0xab8')][_0x10de('0xab9')]&&(_0x4bf19f[_0x10de('0xaaf')]['length']=0x0,_0x4bf19f[_0x10de('0xaaf')]['push'](_0xcf7669['o3d_']),_0x4bf19f[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xabb')]=_0x4bf19f[_0x10de('0xaaf')]);});}},{'key':_0x10de('0x948'),'value':function(_0xcf7669){_0xcf7669[_0x10de('0x232')]&&this[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xabc')][_0x10de('0x331')](_0xcf7669[_0x10de('0x232')]),_0xcf7669[_0x10de('0xabd')]&&this[_0x10de('0x8bc')][_0x10de('0xaba')]['hiddenEdgeColor'][_0x10de('0x331')](_0xcf7669[_0x10de('0xabd')]),_0xcf7669['edgeWidth']&&(this[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xabe')]=_0xcf7669[_0x10de('0xabf')]),_0xcf7669[_0x10de('0xac0')]&&(this['screenEffect'][_0x10de('0xaba')][_0x10de('0xac1')]=_0xcf7669[_0x10de('0xac0')]),_0xcf7669[_0x10de('0xac2')]&&(this[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xac2')]=_0xcf7669[_0x10de('0xac2')]),_0xcf7669['maskTexture']&&(this['screenEffect'][_0x10de('0xaba')]['patternTexture']=_0xcf7669[_0x10de('0x701')],this['screenEffect']['outlinePass'][_0x10de('0xac3')]=!0x0),_0xcf7669[_0x10de('0xac4')]=_0xcf7669['blinkPeriod']||2.5,this[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xac5')]=_0xcf7669[_0x10de('0x5fe')]?_0xcf7669[_0x10de('0xac4')]:0x0;}},{'key':_0x10de('0x949'),'value':function(_0xcf7669,_0x4bf19f){this[_0x10de('0x8bc')]&&(this[_0x10de('0x8bc')][_0x10de('0xaba')]['selectedObjects']['push'](_0xcf7669),_0x4bf19f?this['updateOutlineStyle'](_0x4bf19f):this[_0x10de('0x948')](this[_0x10de('0x8bc')][_0x10de('0xac6')]));}},{'key':'removeObjectOutline','value':function(_0xcf7669){if(this[_0x10de('0x8bc')]&&0x0<this[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xabb')][_0x10de('0xe')])for(var _0x4bf19f=0x0,_0x2d0d20=this[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xabb')]['length'];_0x4bf19f<_0x2d0d20;_0x4bf19f++)if(this[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xabb')][_0x4bf19f][_0x10de('0x1d9')]===_0xcf7669[_0x10de('0x1d9')]){this[_0x10de('0x8bc')][_0x10de('0xaba')][_0x10de('0xabb')][_0x10de('0xf3')](_0x4bf19f,0x1);break;}}},{'key':_0x10de('0x94b'),'value':function(){this[_0x10de('0x8bc')]&&(this['screenEffect'][_0x10de('0xaba')][_0x10de('0xabb')][_0x10de('0xe')]=0x0);}},{'key':'setRainScreenEffect','value':function(_0xcf7669){var _0x2d0d20=this,_0xcf7669=_0xcf7669[_0x10de('0x838')],_0x29ae13=void 0x0===_0xcf7669||_0xcf7669;return new _0x302b80['default'](function(_0xcf7669){var _0x4bf19f;_0x2d0d20[_0x10de('0xab1')]||(_0x29ae13?(_0x2d0d20[_0x10de('0xab2')]||(_0x2d0d20['screenPlane']=new esmap[(_0x10de('0xac7'))](_0x2d0d20[_0x10de('0xcf')])),_0x2d0d20[_0x10de('0xab3')]?(_0x2d0d20[_0x10de('0xab2')]['plane']['material']=_0x2d0d20['rainScreenEffect']['material'],_0x2d0d20[_0x10de('0xab2')][_0x10de('0xac8')]['material'][_0x10de('0x364')]=_0x29ae13,_0xcf7669()):(_0x2d0d20[_0x10de('0xab3')]=new _0xaca646[(_0x10de('0xaa'))]({}),_0x4bf19f=_0x2d0d20[_0x10de('0xab3')][_0x10de('0x32e')](),_0x2d0d20[_0x10de('0xab1')]=!0x0,setTimeout(function(){_0x2d0d20[_0x10de('0xab2')][_0x10de('0xac8')][_0x10de('0x40')]=_0x4bf19f,_0x2d0d20[_0x10de('0xab4')]=!0x0,_0x2d0d20['isLockCreateScreenPlane']=!0x1,_0xcf7669();},0x12c))):_0x2d0d20[_0x10de('0xab2')]&&(_0x2d0d20[_0x10de('0xab2')][_0x10de('0xac8')][_0x10de('0x40')][_0x10de('0x364')]=_0x29ae13,_0xcf7669()));});}},{'key':'setSnowScreenEffect','value':function(_0xcf7669){var _0x2d0d20=this,_0xcf7669=_0xcf7669[_0x10de('0x838')],_0x29ae13=void 0x0===_0xcf7669||_0xcf7669;return new _0x302b80[(_0x10de('0x9'))](function(_0xcf7669){var _0x4bf19f;_0x2d0d20[_0x10de('0xab1')]||(_0x29ae13?(_0x2d0d20[_0x10de('0xab2')]||(_0x2d0d20[_0x10de('0xab2')]=new esmap[(_0x10de('0xac7'))](_0x2d0d20[_0x10de('0xcf')])),_0x2d0d20[_0x10de('0xac9')]?(_0x2d0d20[_0x10de('0xab2')][_0x10de('0xac8')][_0x10de('0x40')]=_0x2d0d20['snowScreenEffect'][_0x10de('0x40')],_0x2d0d20[_0x10de('0xab2')][_0x10de('0xac8')]['material'][_0x10de('0x364')]=_0x29ae13,_0xcf7669()):(_0x2d0d20[_0x10de('0xac9')]=new _0xaca646[(_0x10de('0xa9'))]({}),_0x4bf19f=_0x2d0d20[_0x10de('0xac9')]['createMaterial'](),_0x2d0d20[_0x10de('0xab1')]=!0x0,setTimeout(function(){_0x2d0d20[_0x10de('0xab2')][_0x10de('0xac8')][_0x10de('0x40')]=_0x4bf19f,_0x2d0d20[_0x10de('0xab5')]=!0x0,_0x2d0d20[_0x10de('0xab1')]=!0x1,_0xcf7669();},0x12c))):_0x2d0d20['screenPlane']&&(_0x2d0d20[_0x10de('0xab2')][_0x10de('0xac8')][_0x10de('0x40')][_0x10de('0x364')]=_0x29ae13,_0xcf7669()));});}},{'key':'removePlaneScreenEffect','value':function(){}},{'key':_0x10de('0xce'),'value':function(){this['screenEffect']&&(this[_0x10de('0x8bc')][_0x10de('0xce')](),this[_0x10de('0x94b')](),this[_0x10de('0xaaf')][_0x10de('0xe')]=0x0);}},{'key':_0x10de('0x362'),'value':function(_0xcf7669){this[_0x10de('0x8bc')]&&this[_0x10de('0xcf')][_0x10de('0x46')][_0x10de('0x8b1')]&&this[_0x10de('0x8bc')][_0x10de('0x362')](),this[_0x10de('0xab3')]&&this[_0x10de('0xab3')][_0x10de('0x40d')]&&this[_0x10de('0xab3')][_0x10de('0x362')](_0xcf7669),this[_0x10de('0xac9')]&&this[_0x10de('0xac9')][_0x10de('0x40d')]&&this[_0x10de('0xac9')][_0x10de('0x362')](_0xcf7669);}}]),_0x4bf19f[_0x10de('0x9')]=_0x525d5b;},function(_0x3688ce,_0x33722e,_0x23a35d){'use strict';Object[_0x10de('0x2')](_0x33722e,_0x10de('0x5'),{'value':!0x0});var _0x2ac678=_0x2a3b14(_0x23a35d(0x11)),_0x9f432d=_0x2a3b14(_0x23a35d(0x0)),_0xb400e3=_0x2a3b14(_0x23a35d(0x1));function _0x2a3b14(_0x3688ce){return _0x3688ce&&_0x3688ce[_0x10de('0x5')]?_0x3688ce:{'default':_0x3688ce};}function _0x19e52d(_0x3688ce){_0x3688ce=_0x3688ce[_0x10de('0xcf')];(0x0,_0x9f432d['default'])(this,_0x19e52d),this[_0x10de('0xcf')]=_0x3688ce,this[_0x10de('0x43e')]=!0x0,this[_0x10de('0xaca')]=null,this[_0x10de('0xacb')]=!0x1,this[_0x10de('0xacc')]=null,this[_0x10de('0xacd')]=null,this['bloomPass']=null,this['bloomFinalPass']=null,this[_0x10de('0xaba')]=null,this[_0x10de('0x1e8')]=0x1,this[_0x10de('0xace')]={'width':this[_0x10de('0xcf')][_0x10de('0x46c')]['w_'],'height':this['map']['mapView']['h_']},this[_0x10de('0xacf')]={'width':this[_0x10de('0xcf')]['mapView']['w_']*this['scale'],'height':this['map'][_0x10de('0x46c')]['h_']*this['scale']},this[_0x10de('0xad0')]=new THREE['Layers'](),this[_0x10de('0xad0')][_0x10de('0x1e')](0x1),this['materials']={},this[_0x10de('0xad1')]=new THREE[(_0x10de('0x40e'))]({'color':_0x10de('0xad2')}),this[_0x10de('0xad3')]=new THREE[(_0x10de('0x1cc'))](0x0),this['originBgTexture']=null,this[_0x10de('0x94c')]=null,this[_0x10de('0xac6')]=null;}_0x23a35d(0x13),_0x23a35d(0x112),_0x23a35d(0x113),_0x23a35d(0x114),_0x23a35d(0x115),_0x23a35d(0x116),_0x23a35d(0x117),_0x23a35d(0x118),_0x23a35d(0x119),(0x0,_0xb400e3[_0x10de('0x9')])(_0x19e52d,[{'key':'init','value':function(_0x3688ce){var _0x33722e,_0x23a35d=this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')],_0x9f432d=this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')],_0xb400e3=this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x338')],_0x2a3b14=(_0x23a35d[_0x10de('0xad4')](),this[_0x10de('0x1e8')]=1.5,this[_0x10de('0xcf')]['options'][_0x10de('0xad5')]||this[_0x10de('0xcf')][_0x10de('0x46')][_0x10de('0xad6')]),_0x19e52d=(_0x23a35d[_0x10de('0x4eb')][_0x10de('0xacb')]?(_0x19e52d={'format':_0x2a3b14?THREE['RGBAFormat']:THREE[_0x10de('0x468')],'stencilBuffer':!0x1},_0x28c468=_0x23a35d[_0x10de('0xad7')](new THREE[(_0x10de('0x1c8'))]()),_0x28c468=new THREE['WebGLMultisampleRenderTarget'](_0x28c468[_0x10de('0x35d')],_0x28c468[_0x10de('0x32c')],_0x19e52d),this[_0x10de('0xaca')]=new THREE[(_0x10de('0xad8'))](_0x23a35d,_0x28c468),this['isWebGL2']=!0x0):this[_0x10de('0xaca')]=new THREE[(_0x10de('0xad8'))](_0x23a35d),new THREE[(_0x10de('0xad9'))](_0x9f432d,_0xb400e3)),_0x28c468=(this[_0x10de('0xacd')]=new THREE[(_0x10de('0xada'))](THREE['FXAAShader']),null);this[_0x10de('0xacb')]||((_0x28c468=new THREE[(_0x10de('0xada'))](THREE[_0x10de('0xadb')]))[_0x10de('0xadc')]=!0x1),_0x3688ce[_0x10de('0xa15')]&&(this[_0x10de('0xac6')]=(0x0,_0x2ac678['default'])({'color':_0x10de('0x365'),'edgeWidth':0x3,'edgeSpread':0x0,'edgeThickness':0x1,'blink':!0x1,'blinkPeriod':2.5},_0x3688ce[_0x10de('0xa15')]),_0x33722e=esmap[_0x10de('0x39')][_0x10de('0x8ac')](),this[_0x10de('0xaba')]=new THREE['OutlinePass'](new THREE['Vector2'](this[_0x10de('0xace')][_0x10de('0x35d')],this[_0x10de('0xace')][_0x10de('0x32c')]),_0x9f432d,_0xb400e3),this['outlinePass'][_0x10de('0xabc')]['setStyle'](this[_0x10de('0xac6')][_0x10de('0x232')]),this['defaultOutlineConfig'][_0x10de('0xabd')]&&this[_0x10de('0xaba')][_0x10de('0xabd')]['setStyle'](this[_0x10de('0xac6')][_0x10de('0xabd')]),this[_0x10de('0xaba')][_0x10de('0xabe')]=this[_0x10de('0xac6')]['edgeWidth'],this[_0x10de('0xaba')][_0x10de('0xac2')]=this[_0x10de('0xac6')][_0x10de('0xac2')],_0x33722e[_0x10de('0x8ae')]&&0x0<=[_0x10de('0x8af'),_0x10de('0xadd'),'iPod'][_0x10de('0x4d')](_0x33722e[_0x10de('0x8ae')])&&(this['outlinePass'][_0x10de('0xabe')]*=0x4,this[_0x10de('0xaba')][_0x10de('0xac2')]*=0x4),this[_0x10de('0xaba')][_0x10de('0xac1')]=this[_0x10de('0xac6')][_0x10de('0xac0')],this[_0x10de('0xaba')][_0x10de('0xac5')]=this[_0x10de('0xac6')][_0x10de('0x5fe')]?this[_0x10de('0xac6')][_0x10de('0xac4')]:0x0),_0x3688ce[_0x10de('0x591')]&&(_0x9f432d=(0x0,_0x2ac678[_0x10de('0x9')])({'bloomStrength':0x1,'bloomThreshold':0x0,'bloomRadius':0x0,'sceneBackground':new THREE['Color'](0x0)},_0x3688ce['unrealBloom']),this['bloomPass']=new THREE[(_0x10de('0xade'))](new THREE[(_0x10de('0x1c8'))](this['originSize'][_0x10de('0x35d')],this[_0x10de('0xace')][_0x10de('0x32c')]),1.5,0.4,0.85),this['bloomPass']['renderToScreen']=!0x1,this['bloomPass'][_0x10de('0xadf')]=_0x9f432d['bloomThreshold'],this[_0x10de('0xae0')][_0x10de('0xae1')]=_0x9f432d[_0x10de('0xae2')],this[_0x10de('0xae0')][_0x10de('0x230')]=_0x9f432d[_0x10de('0xae3')],this[_0x10de('0xacc')]=new THREE[(_0x10de('0xad8'))](_0x23a35d),this['bloomComposer'][_0x10de('0xadc')]=!0x1,this[_0x10de('0xacc')][_0x10de('0xae4')](_0x19e52d),this[_0x10de('0xacb')]||this['bloomComposer'][_0x10de('0xae4')](this[_0x10de('0xacd')]),this[_0x10de('0xacb')]||this[_0x10de('0xacc')][_0x10de('0xae4')](_0x28c468),this[_0x10de('0xacc')][_0x10de('0xae4')](this[_0x10de('0xae0')]),this[_0x10de('0xae5')]=new THREE['ShaderPass'](new THREE[(_0x10de('0x1f2'))]({'uniforms':{'baseTexture':{'value':null},'bloomTexture':{'value':this[_0x10de('0xacc')][_0x10de('0xae6')]['texture']}},'vertexShader':_0x10de('0xae7'),'fragmentShader':_0x10de('0xae8'),'defines':{}}),_0x10de('0xae9')),this['bloomFinalPass'][_0x10de('0xaea')]=!0x0,this[_0x10de('0xcf')]['mapView'][_0x10de('0x467')]['background']?this[_0x10de('0xcf')][_0x10de('0x46c')]['scene'][_0x10de('0x4a0')]instanceof THREE[_0x10de('0x6ff')]&&(this['originBgTexture']=this[_0x10de('0xcf')][_0x10de('0x46c')]['scene'][_0x10de('0x4a0')]):_0x2a3b14||(this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x4a0')]=_0x9f432d[_0x10de('0xaeb')],esmap['ESEffectTool'][_0x10de('0x46')][_0x10de('0x8a5')]||(_0xb400e3=new THREE[(_0x10de('0x1cc'))](this[_0x10de('0xcf')][_0x10de('0x3c')]['clearColor_']),this[_0x10de('0x94c')]=new THREE[(_0x10de('0x40e'))]({'color':_0xb400e3,'side':THREE[_0x10de('0x466')]}),this['relaceBgMaterial'][_0x10de('0x40f')]=function(_0x3688ce){_0x3688ce[_0x10de('0x59')]=_0x3688ce[_0x10de('0x59')][_0x10de('0x57')]('#include\x20<fog_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},(_0x33722e=new THREE[(_0x10de('0x348'))](new THREE[(_0x10de('0x458'))](0x1,0x1,0x1),this[_0x10de('0x94c')]))[_0x10de('0x1e8')][_0x10de('0x1e')](0x989680,0x989680,0x989680),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x33722e)))),this['composer']['addPass'](_0x19e52d),_0x3688ce[_0x10de('0x591')]&&this[_0x10de('0xaca')][_0x10de('0xae4')](this[_0x10de('0xae5')]),_0x3688ce[_0x10de('0xa15')]&&this[_0x10de('0xaca')][_0x10de('0xae4')](this[_0x10de('0xaba')]),this[_0x10de('0xacb')]||this[_0x10de('0xaca')]['addPass'](this[_0x10de('0xacd')]),this[_0x10de('0x7a0')](this['scale']);}},{'key':_0x10de('0x7a0'),'value':function(_0x3688ce){this['scale']=_0x3688ce,this['size']={'width':this[_0x10de('0xace')]['width']*this['scale'],'height':this[_0x10de('0xace')][_0x10de('0x32c')]*this[_0x10de('0x1e8')]};}},{'key':_0x10de('0x35c'),'value':function(_0x3688ce,_0x33722e){this[_0x10de('0xace')][_0x10de('0x35d')]=_0x3688ce,this[_0x10de('0xace')][_0x10de('0x32c')]=_0x33722e,this[_0x10de('0x7a0')](this[_0x10de('0x1e8')]);}},{'key':_0x10de('0xce'),'value':function(){this[_0x10de('0x94c')]&&(this[_0x10de('0x94c')]['dispose'](),this['relaceBgMaterial']=null),this[_0x10de('0xaec')]&&(this[_0x10de('0xaec')]=null);}},{'key':_0x10de('0x362'),'value':function(){this['composer']&&(this[_0x10de('0xacc')]&&this['renderBloom'](),this[_0x10de('0xaca')][_0x10de('0x362')](),'3D'==this[_0x10de('0xcf')][_0x10de('0xaed')]?this['map'][_0x10de('0x46c')][_0x10de('0xaee')][_0x10de('0x362')](this[_0x10de('0xcf')][_0x10de('0x46c')]['scene'],this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x338')]):(this['map'][_0x10de('0x46c')]['renderer'][_0x10de('0x362')](this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')],this[_0x10de('0xcf')]['mapView'][_0x10de('0xaef')]),this['map']['mapView'][_0x10de('0xaee')][_0x10de('0x362')](this['map'][_0x10de('0x46c')][_0x10de('0x467')],this['map'][_0x10de('0x46c')]['cameraTop'])),this['map'][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0xaf0')](),this['map']['mapView'][_0x10de('0x4ea')][_0x10de('0x362')](this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0xaf1')],this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0xaf2')]));}},{'key':_0x10de('0xaf3'),'value':function(){this[_0x10de('0xaec')]&&(this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x4a0')]=this[_0x10de('0xad3')]),this[_0x10de('0xcf')][_0x10de('0x46c')]['scene'][_0x10de('0x1e7')]&&(this[_0x10de('0xcf')][_0x10de('0x46c')]['scene']['fog'][_0x10de('0xaf4')]||(this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')]['fog'][_0x10de('0xaf4')]=new THREE['Color']()['copy'](this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')]['fog'][_0x10de('0x232')])),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')]['fog'][_0x10de('0x232')][_0x10de('0x1d3')](this['darkColor'])),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0xd1')](this[_0x10de('0xaf5')]['bind'](this)),this[_0x10de('0xacc')][_0x10de('0x362')](),this['originBgTexture']&&(this[_0x10de('0xcf')]['mapView']['scene'][_0x10de('0x4a0')]=this['originBgTexture']),this['map'][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1e7')]&&this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1e7')]['color'][_0x10de('0x1d3')](this[_0x10de('0xcf')]['mapView'][_0x10de('0x467')]['fog'][_0x10de('0xaf4')]),this['map']['mapView'][_0x10de('0x467')]['traverse'](this[_0x10de('0xaf6')][_0x10de('0x8')](this));}},{'key':_0x10de('0xaf5'),'value':function(_0x3688ce){_0x3688ce['material']&&!0x1===this[_0x10de('0xad0')][_0x10de('0x5d')](_0x3688ce['layers'])&&(this[_0x10de('0x94d')][_0x3688ce[_0x10de('0x1d9')]]=_0x3688ce['material'],!0x1!==_0x3688ce[_0x10de('0x40')][_0x10de('0x364')]&&(_0x10de('0xaf7')==_0x3688ce['type']?_0x3688ce[_0x10de('0x40')][_0x10de('0x364')]=!0x1:_0x3688ce[_0x10de('0x40')]=this[_0x10de('0xad1')]));}},{'key':'restoreMaterial','value':function(_0x3688ce){this[_0x10de('0x94d')][_0x3688ce['uuid']]&&(_0x3688ce[_0x10de('0x40')]=this[_0x10de('0x94d')][_0x3688ce[_0x10de('0x1d9')]],delete this['materials'][_0x3688ce[_0x10de('0x1d9')]]),_0x10de('0xaf7')==_0x3688ce[_0x10de('0x85')]&&(_0x3688ce['material'][_0x10de('0x364')]=!0x0);}},{'key':_0x10de('0xe8'),'set':function(_0x3688ce){this[_0x10de('0xacc')]&&this[_0x10de('0xacc')][_0x10de('0xeb')](_0x3688ce[_0x10de('0x35d')],_0x3688ce[_0x10de('0x32c')]),this[_0x10de('0xacb')]||this[_0x10de('0xacd')][_0x10de('0x1b4')][_0x10de('0x335')]['value'][_0x10de('0x1e')](0x1/_0x3688ce['width'],0x1/_0x3688ce[_0x10de('0x32c')]),this[_0x10de('0xaca')]&&this['composer']['setSize'](_0x3688ce['width'],_0x3688ce[_0x10de('0x32c')]);}}]),_0x33722e[_0x10de('0x9')]=_0x19e52d;},function(_0xac85b5,_0x3f6454,_0x523b1d){'use strict';var _0x46ccdb,_0x2f3d31,_0x523b1d=_0x523b1d(0x11),_0x523b1d=_0x523b1d&&_0x523b1d['__esModule']?_0x523b1d:{'default':_0x523b1d};function _0x2584e9(_0xac85b5){this[_0x10de('0xa57')]=new THREE[(_0x10de('0x348'))](_0x2f3d31,_0xac85b5);}THREE[_0x10de('0xad8')]=function(_0xac85b5,_0x3f6454){var _0x523b1d,_0x46ccdb;this[_0x10de('0x4ea')]=_0xac85b5,void 0x0===_0x3f6454?(_0x523b1d={'minFilter':THREE[_0x10de('0x618')],'magFilter':THREE[_0x10de('0x618')],'format':THREE[_0x10de('0xaf8')],'stencilBuffer':!0x1},_0x46ccdb=_0xac85b5['getSize'](new THREE[(_0x10de('0x1c8'))]()),this[_0x10de('0xaf9')]=_0xac85b5['getPixelRatio'](),this[_0x10de('0xafa')]=_0x46ccdb[_0x10de('0x35d')],this[_0x10de('0xafb')]=_0x46ccdb['height'],(_0x3f6454=new THREE[(_0x10de('0x6a2'))](this[_0x10de('0xafa')]*this[_0x10de('0xaf9')],this['_height']*this['_pixelRatio'],_0x523b1d))[_0x10de('0xdc')][_0x10de('0x8c')]='EffectComposer.rt1'):(this[_0x10de('0xaf9')]=0x1,this['_width']=_0x3f6454[_0x10de('0x35d')],this[_0x10de('0xafb')]=_0x3f6454[_0x10de('0x32c')]),this[_0x10de('0xafc')]=_0x3f6454,this[_0x10de('0xae6')]=_0x3f6454[_0x10de('0x1c5')](),this[_0x10de('0xae6')][_0x10de('0xdc')]['name']=_0x10de('0xafd'),this[_0x10de('0xafe')]=this[_0x10de('0xafc')],this[_0x10de('0xaff')]=this[_0x10de('0xae6')],this[_0x10de('0xadc')]=!0x0,this[_0x10de('0xb00')]=[],void 0x0===THREE[_0x10de('0xadb')]&&console[_0x10de('0x205')](_0x10de('0xb01')),void 0x0===THREE[_0x10de('0xada')]&&console['error'](_0x10de('0xb02')),this['copyPass']=new THREE['ShaderPass'](THREE[_0x10de('0xadb')]),this[_0x10de('0xb03')]=new THREE['Clock']();},(0x0,_0x523b1d[_0x10de('0x9')])(THREE[_0x10de('0xad8')][_0x10de('0xa')],{'swapBuffers':function(){var _0xac85b5=this[_0x10de('0xaff')];this['readBuffer']=this[_0x10de('0xafe')],this['writeBuffer']=_0xac85b5;},'addPass':function(_0xac85b5){this[_0x10de('0xb00')]['push'](_0xac85b5);var _0x3f6454=this[_0x10de('0x4ea')][_0x10de('0xad7')](new THREE['Vector2']());_0xac85b5[_0x10de('0xeb')](_0x3f6454[_0x10de('0x35d')],_0x3f6454[_0x10de('0x32c')]);},'insertPass':function(_0xac85b5,_0x3f6454){this['passes'][_0x10de('0xf3')](_0x3f6454,0x0,_0xac85b5);},'isLastEnabledPass':function(_0xac85b5){for(var _0x3f6454=_0xac85b5+0x1;_0x3f6454<this[_0x10de('0xb00')][_0x10de('0xe')];_0x3f6454++)if(this['passes'][_0x3f6454][_0x10de('0x43e')])return!0x1;return!0x0;},'render':function(_0xac85b5){void 0x0===_0xac85b5&&(_0xac85b5=this[_0x10de('0xb03')][_0x10de('0xb04')]());for(var _0x3f6454,_0x523b1d,_0x46ccdb=this[_0x10de('0x4ea')][_0x10de('0x6ab')](),_0x2f3d31=!0x1,_0x2584e9=this[_0x10de('0xb00')][_0x10de('0xe')],_0x30648e=0x0;_0x30648e<_0x2584e9;_0x30648e++)!0x1!==(_0x523b1d=this[_0x10de('0xb00')][_0x30648e])['enabled']&&(_0x523b1d[_0x10de('0xadc')]=this[_0x10de('0xadc')]&&this[_0x10de('0xb05')](_0x30648e),_0x523b1d['render'](this[_0x10de('0x4ea')],this[_0x10de('0xafe')],this[_0x10de('0xaff')],_0xac85b5,_0x2f3d31),_0x523b1d['needsSwap']&&(_0x2f3d31&&((_0x3f6454=this[_0x10de('0x4ea')][_0x10de('0xb06')])['stencilFunc'](_0x3f6454[_0x10de('0xb07')],0x1,0xffffffff),this['copyPass']['render'](this[_0x10de('0x4ea')],this[_0x10de('0xafe')],this['readBuffer'],_0xac85b5),_0x3f6454['stencilFunc'](_0x3f6454[_0x10de('0xb08')],0x1,0xffffffff)),this[_0x10de('0xb09')]()),void 0x0!==THREE[_0x10de('0xb0a')]&&(_0x523b1d instanceof THREE[_0x10de('0xb0a')]?_0x2f3d31=!0x0:_0x523b1d instanceof THREE[_0x10de('0xb0b')]&&(_0x2f3d31=!0x1)));this[_0x10de('0x4ea')][_0x10de('0x6b8')](_0x46ccdb);},'reset':function(_0xac85b5){var _0x3f6454;void 0x0===_0xac85b5&&(_0x3f6454=this['renderer'][_0x10de('0xb0c')](new THREE[(_0x10de('0x1c8'))]()),this['_pixelRatio']=this[_0x10de('0x4ea')][_0x10de('0xad4')](),this[_0x10de('0xafa')]=_0x3f6454[_0x10de('0x35d')],this['_height']=_0x3f6454[_0x10de('0x32c')],(_0xac85b5=this[_0x10de('0xafc')][_0x10de('0x1c5')]())['setSize'](this[_0x10de('0xafa')]*this[_0x10de('0xaf9')],this[_0x10de('0xafb')]*this[_0x10de('0xaf9')])),this[_0x10de('0xafc')][_0x10de('0xce')](),this[_0x10de('0xae6')][_0x10de('0xce')](),this['renderTarget1']=_0xac85b5,this['renderTarget2']=_0xac85b5[_0x10de('0x1c5')](),this[_0x10de('0xafe')]=this[_0x10de('0xafc')],this[_0x10de('0xaff')]=this[_0x10de('0xae6')];},'setSize':function(_0xac85b5,_0x3f6454){this[_0x10de('0xafa')]=_0xac85b5,this['_height']=_0x3f6454;var _0x523b1d=this[_0x10de('0xafa')]*this[_0x10de('0xaf9')],_0x46ccdb=this[_0x10de('0xafb')]*this[_0x10de('0xaf9')];this[_0x10de('0xafc')][_0x10de('0xeb')](_0x523b1d,_0x46ccdb),this[_0x10de('0xae6')][_0x10de('0xeb')](_0x523b1d,_0x46ccdb);for(var _0x2f3d31=0x0;_0x2f3d31<this[_0x10de('0xb00')][_0x10de('0xe')];_0x2f3d31++)this['passes'][_0x2f3d31][_0x10de('0xeb')](_0x523b1d,_0x46ccdb);},'setPixelRatio':function(_0xac85b5){this[_0x10de('0xaf9')]=_0xac85b5,this[_0x10de('0xeb')](this[_0x10de('0xafa')],this[_0x10de('0xafb')]);}}),THREE[_0x10de('0xb0d')]=function(){this[_0x10de('0x43e')]=!0x0,this[_0x10de('0xaea')]=!0x0,this[_0x10de('0x69b')]=!0x1,this[_0x10de('0xadc')]=!0x1;},(0x0,_0x523b1d[_0x10de('0x9')])(THREE[_0x10de('0xb0d')][_0x10de('0xa')],{'setSize':function(){},'render':function(){console[_0x10de('0x205')](_0x10de('0xb0e'));}}),THREE[_0x10de('0xb0d')]['FullScreenQuad']=(_0x46ccdb=new THREE[(_0x10de('0x68c'))](-0x1,0x1,0x1,-0x1,0x0,0x1),_0x2f3d31=new THREE['PlaneBufferGeometry'](0x2,0x2),Object['defineProperty'](_0x2584e9[_0x10de('0xa')],'material',{'get':function(){return this['_mesh'][_0x10de('0x40')];},'set':function(_0xac85b5){this[_0x10de('0xa57')]['material']=_0xac85b5;}}),(0x0,_0x523b1d[_0x10de('0x9')])(_0x2584e9[_0x10de('0xa')],{'render':function(_0xac85b5){_0xac85b5['render'](this['_mesh'],_0x46ccdb);}}),_0x2584e9);},function(_0x514a82,_0x3f369,_0x1fd548){'use strict';var _0x4cd4c0=_0x426e8e(_0x1fd548(0x25)),_0x1fd548=_0x426e8e(_0x1fd548(0x11));function _0x426e8e(_0x514a82){return _0x514a82&&_0x514a82['__esModule']?_0x514a82:{'default':_0x514a82};}THREE[_0x10de('0xad9')]=function(_0x514a82,_0x3f369,_0x1fd548,_0x4cd4c0,_0x426e8e){THREE['Pass'][_0x10de('0x0')](this),this[_0x10de('0x467')]=_0x514a82,this[_0x10de('0x338')]=_0x3f369,this[_0x10de('0xb0f')]=_0x1fd548,this['clearColor']=_0x4cd4c0,this['clearAlpha']=void 0x0!==_0x426e8e?_0x426e8e:0x0,this[_0x10de('0x69b')]=!0x0,this[_0x10de('0xaf0')]=!0x1,this[_0x10de('0xaea')]=!0x1;},THREE[_0x10de('0xad9')][_0x10de('0xa')]=(0x0,_0x1fd548['default'])((0x0,_0x4cd4c0[_0x10de('0x9')])(THREE[_0x10de('0xb0d')]['prototype']),{'constructor':THREE['RenderPass'],'render':function(_0x514a82,_0x3f369,_0x1fd548){var _0x4cd4c0,_0x426e8e,_0xe01c15=_0x514a82[_0x10de('0xb10')];_0x514a82['autoClear']=!0x1,this[_0x10de('0x467')][_0x10de('0xb0f')]=this[_0x10de('0xb0f')],this[_0x10de('0xb11')]&&(_0x4cd4c0=_0x514a82[_0x10de('0xb12')]()[_0x10de('0x1cf')](),_0x426e8e=_0x514a82['getClearAlpha'](),_0x514a82[_0x10de('0xb13')](this[_0x10de('0xb11')],this[_0x10de('0xb14')])),this[_0x10de('0xaf0')]&&_0x514a82[_0x10de('0xaf0')](),_0x514a82[_0x10de('0x6b8')](this['renderToScreen']?null:_0x1fd548),this[_0x10de('0x69b')]&&_0x514a82[_0x10de('0x69b')](_0x514a82[_0x10de('0xb15')],_0x514a82[_0x10de('0xb16')],_0x514a82[_0x10de('0xb17')]),_0x514a82[_0x10de('0x362')](this['scene'],this['camera']),this[_0x10de('0xb11')]&&_0x514a82[_0x10de('0xb13')](_0x4cd4c0,_0x426e8e),this[_0x10de('0x467')][_0x10de('0xb0f')]=null,_0x514a82[_0x10de('0xb10')]=_0xe01c15;}});},function(_0x1b0490,_0x3de841,_0x266e75){'use strict';var _0x349a89=_0x5be9d1(_0x266e75(0x25)),_0x2639d9=_0x5be9d1(_0x266e75(0x11));function _0x5be9d1(_0x1b0490){return _0x1b0490&&_0x1b0490[_0x10de('0x5')]?_0x1b0490:{'default':_0x1b0490};}THREE[_0x10de('0xada')]=function(_0x1b0490,_0x3de841){THREE[_0x10de('0xb0d')][_0x10de('0x0')](this),this[_0x10de('0xb18')]=void 0x0!==_0x3de841?_0x3de841:_0x10de('0xb19'),_0x1b0490 instanceof THREE['ShaderMaterial']?(this[_0x10de('0x1b4')]=_0x1b0490[_0x10de('0x1b4')],this['material']=_0x1b0490):_0x1b0490&&(this['uniforms']=THREE[_0x10de('0x4a9')][_0x10de('0x1c5')](_0x1b0490[_0x10de('0x1b4')]),this[_0x10de('0x40')]=new THREE['ShaderMaterial']({'defines':(0x0,_0x2639d9[_0x10de('0x9')])({},_0x1b0490[_0x10de('0x17d')]),'uniforms':this[_0x10de('0x1b4')],'vertexShader':_0x1b0490[_0x10de('0x59')],'fragmentShader':_0x1b0490[_0x10de('0x5a')]})),this[_0x10de('0xb1a')]=new THREE[(_0x10de('0xb0d'))][(_0x10de('0xb1b'))](this[_0x10de('0x40')]);},THREE[_0x10de('0xada')][_0x10de('0xa')]=(0x0,_0x2639d9[_0x10de('0x9')])((0x0,_0x349a89[_0x10de('0x9')])(THREE[_0x10de('0xb0d')][_0x10de('0xa')]),{'constructor':THREE[_0x10de('0xada')],'render':function(_0x1b0490,_0x3de841,_0x266e75){this[_0x10de('0x1b4')][this['textureID']]&&(this[_0x10de('0x1b4')][this['textureID']]['value']=_0x266e75[_0x10de('0xdc')]),this[_0x10de('0xb1a')][_0x10de('0x40')]=this[_0x10de('0x40')],this[_0x10de('0xadc')]?_0x1b0490[_0x10de('0x6b8')](null):(_0x1b0490[_0x10de('0x6b8')](_0x3de841),this[_0x10de('0x69b')]&&_0x1b0490['clear'](_0x1b0490[_0x10de('0xb15')],_0x1b0490['autoClearDepth'],_0x1b0490[_0x10de('0xb17')])),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x1b0490);}});},function(_0x251546,_0x383015,_0xad26ff){'use strict';var _0x1a43f7=_0x4fcec4(_0xad26ff(0x25)),_0xad26ff=_0x4fcec4(_0xad26ff(0x11));function _0x4fcec4(_0x251546){return _0x251546&&_0x251546['__esModule']?_0x251546:{'default':_0x251546};}THREE['UnrealBloomPass']=function(_0x251546,_0x383015,_0xad26ff,_0x1a43f7){THREE[_0x10de('0xb0d')][_0x10de('0x0')](this),this[_0x10de('0xae1')]=void 0x0!==_0x383015?_0x383015:0x1,this['radius']=_0xad26ff,this[_0x10de('0xadf')]=_0x1a43f7,this[_0x10de('0x335')]=void 0x0!==_0x251546?new THREE['Vector2'](_0x251546['x'],_0x251546['y']):new THREE[(_0x10de('0x1c8'))](0x100,0x100),this[_0x10de('0xb11')]=new THREE[(_0x10de('0x1cc'))](0x0,0x0,0x0);var _0x4fcec4={'minFilter':THREE[_0x10de('0x618')],'magFilter':THREE[_0x10de('0x618')],'format':THREE['RGBAFormat']},_0x371cf2=(this[_0x10de('0xb1c')]=[],this['renderTargetsVertical']=[],this['nMips']=0x5,Math[_0x10de('0x1d1')](this[_0x10de('0x335')]['x']/0x2)),_0x5d4c58=Math[_0x10de('0x1d1')](this['resolution']['y']/0x2);this['renderTargetBright']=new THREE['WebGLRenderTarget'](_0x371cf2,_0x5d4c58,_0x4fcec4),this['renderTargetBright'][_0x10de('0xdc')][_0x10de('0x8c')]=_0x10de('0xb1d'),this[_0x10de('0xb1e')][_0x10de('0xdc')][_0x10de('0x69f')]=!0x1;for(var _0x24eb6d=0x0;_0x24eb6d<this[_0x10de('0xb1f')];_0x24eb6d++){var _0x11e640=new THREE['WebGLRenderTarget'](_0x371cf2,_0x5d4c58,_0x4fcec4),_0x11e640=(_0x11e640[_0x10de('0xdc')][_0x10de('0x8c')]=_0x10de('0xb20')+_0x24eb6d,_0x11e640[_0x10de('0xdc')][_0x10de('0x69f')]=!0x1,this['renderTargetsHorizontal'][_0x10de('0x84')](_0x11e640),new THREE['WebGLRenderTarget'](_0x371cf2,_0x5d4c58,_0x4fcec4));_0x11e640[_0x10de('0xdc')][_0x10de('0x8c')]='UnrealBloomPass.v'+_0x24eb6d,_0x11e640[_0x10de('0xdc')][_0x10de('0x69f')]=!0x1,this[_0x10de('0xb21')]['push'](_0x11e640),_0x371cf2=Math[_0x10de('0x1d1')](_0x371cf2/0x2),_0x5d4c58=Math[_0x10de('0x1d1')](_0x5d4c58/0x2);}void 0x0===THREE['LuminosityHighPassShader']&&console[_0x10de('0x205')]('THREE.UnrealBloomPass\x20relies\x20on\x20THREE.LuminosityHighPassShader');for(var _0xad26ff=THREE[_0x10de('0xb22')],_0x2b2ef7=(this['highPassUniforms']=THREE[_0x10de('0x4a9')]['clone'](_0xad26ff[_0x10de('0x1b4')]),this[_0x10de('0xb23')]['luminosityThreshold']['value']=_0x1a43f7,this['highPassUniforms']['smoothWidth'][_0x10de('0x10')]=0.01,this[_0x10de('0xb24')]=new THREE[(_0x10de('0x1f2'))]({'uniforms':this['highPassUniforms'],'vertexShader':_0xad26ff['vertexShader'],'fragmentShader':_0xad26ff[_0x10de('0x5a')],'defines':{}}),this[_0x10de('0xb25')]=[],[0x3,0x5,0x7,0x9,0xb]),_0x371cf2=Math[_0x10de('0x1d1')](this[_0x10de('0x335')]['x']/0x2),_0x5d4c58=Math[_0x10de('0x1d1')](this['resolution']['y']/0x2),_0x24eb6d=0x0;_0x24eb6d<this[_0x10de('0xb1f')];_0x24eb6d++)this[_0x10de('0xb25')]['push'](this[_0x10de('0xb26')](_0x2b2ef7[_0x24eb6d])),this['separableBlurMaterials'][_0x24eb6d][_0x10de('0x1b4')][_0x10de('0xb27')][_0x10de('0x10')]=new THREE['Vector2'](_0x371cf2,_0x5d4c58),_0x371cf2=Math['round'](_0x371cf2/0x2),_0x5d4c58=Math[_0x10de('0x1d1')](_0x5d4c58/0x2);this['compositeMaterial']=this[_0x10de('0xb28')](this['nMips']),this['compositeMaterial']['uniforms'][_0x10de('0xb29')][_0x10de('0x10')]=this[_0x10de('0xb21')][0x0][_0x10de('0xdc')],this[_0x10de('0xb2a')][_0x10de('0x1b4')]['blurTexture2']['value']=this[_0x10de('0xb21')][0x1]['texture'],this[_0x10de('0xb2a')]['uniforms'][_0x10de('0xb2b')]['value']=this['renderTargetsVertical'][0x2][_0x10de('0xdc')],this['compositeMaterial'][_0x10de('0x1b4')][_0x10de('0xb2c')][_0x10de('0x10')]=this[_0x10de('0xb21')][0x3][_0x10de('0xdc')],this['compositeMaterial']['uniforms'][_0x10de('0xb2d')][_0x10de('0x10')]=this[_0x10de('0xb21')][0x4][_0x10de('0xdc')],this['compositeMaterial'][_0x10de('0x1b4')][_0x10de('0xae2')][_0x10de('0x10')]=_0x383015,this['compositeMaterial'][_0x10de('0x1b4')]['bloomRadius']['value']=0.1,this['compositeMaterial'][_0x10de('0x10c')]=!0x0,this[_0x10de('0xb2a')][_0x10de('0x1b4')][_0x10de('0xb2e')]['value']=[0x1,0.8,0.6,0.4,0.2],this['bloomTintColors']=[new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1),new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1),new THREE['Vector3'](0x1,0x1,0x1),new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1),new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1)],this['compositeMaterial'][_0x10de('0x1b4')][_0x10de('0xb2f')][_0x10de('0x10')]=this[_0x10de('0xb2f')],void 0x0===THREE[_0x10de('0xadb')]&&console[_0x10de('0x205')](_0x10de('0xb30'));_0x251546=THREE[_0x10de('0xadb')];this[_0x10de('0xb31')]=THREE['UniformsUtils'][_0x10de('0x1c5')](_0x251546[_0x10de('0x1b4')]),this[_0x10de('0xb31')][_0x10de('0x233')][_0x10de('0x10')]=0x1,this[_0x10de('0xb32')]=new THREE[(_0x10de('0x1f2'))]({'uniforms':this['copyUniforms'],'vertexShader':_0x251546[_0x10de('0x59')],'fragmentShader':_0x251546[_0x10de('0x5a')],'blending':THREE['AdditiveBlending'],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this[_0x10de('0x43e')]=!0x0,this[_0x10de('0xaea')]=!0x1,this[_0x10de('0xb33')]=new THREE[(_0x10de('0x1cc'))](),this[_0x10de('0xb34')]=0x1,this[_0x10de('0x716')]=new THREE[(_0x10de('0x40e'))](),this[_0x10de('0xb1a')]=new THREE[(_0x10de('0xb0d'))][(_0x10de('0xb1b'))](null);},THREE[_0x10de('0xade')][_0x10de('0xa')]=(0x0,_0xad26ff[_0x10de('0x9')])((0x0,_0x1a43f7[_0x10de('0x9')])(THREE[_0x10de('0xb0d')][_0x10de('0xa')]),{'constructor':THREE[_0x10de('0xade')],'dispose':function(){for(var _0x251546=0x0;_0x251546<this[_0x10de('0xb1c')]['length'];_0x251546++)this[_0x10de('0xb1c')][_0x251546][_0x10de('0xce')]();for(_0x251546=0x0;_0x251546<this[_0x10de('0xb21')]['length'];_0x251546++)this[_0x10de('0xb21')][_0x251546][_0x10de('0xce')]();this[_0x10de('0xb1e')]['dispose']();},'setSize':function(_0x251546,_0x383015){var _0xad26ff=Math[_0x10de('0x1d1')](_0x251546/0x2),_0x1a43f7=Math[_0x10de('0x1d1')](_0x383015/0x2);this[_0x10de('0xb1e')][_0x10de('0xeb')](_0xad26ff,_0x1a43f7);for(var _0x4fcec4=0x0;_0x4fcec4<this[_0x10de('0xb1f')];_0x4fcec4++)this[_0x10de('0xb1c')][_0x4fcec4]['setSize'](_0xad26ff,_0x1a43f7),this['renderTargetsVertical'][_0x4fcec4]['setSize'](_0xad26ff,_0x1a43f7),this[_0x10de('0xb25')][_0x4fcec4][_0x10de('0x1b4')][_0x10de('0xb27')]['value']=new THREE[(_0x10de('0x1c8'))](_0xad26ff,_0x1a43f7),_0xad26ff=Math[_0x10de('0x1d1')](_0xad26ff/0x2),_0x1a43f7=Math[_0x10de('0x1d1')](_0x1a43f7/0x2);},'render':function(_0x251546,_0x383015,_0xad26ff,_0x1a43f7,_0x4fcec4){this['oldClearColor'][_0x10de('0x1d3')](_0x251546['getClearColor']()),this['oldClearAlpha']=_0x251546[_0x10de('0xb35')]();for(var _0x454a26=_0x251546['autoClear'],_0x10ffaf=(_0x251546[_0x10de('0xb10')]=!0x1,_0x251546[_0x10de('0xb13')](this[_0x10de('0xb11')],0x0),_0x4fcec4&&_0x251546['context'][_0x10de('0x224')](_0x251546[_0x10de('0xb06')][_0x10de('0xb36')]),this['renderToScreen']&&(this[_0x10de('0xb1a')][_0x10de('0x40')]=this[_0x10de('0x716')],this[_0x10de('0x716')][_0x10de('0xcf')]=_0xad26ff['texture'],_0x251546[_0x10de('0x6b8')](null),_0x251546[_0x10de('0x69b')](),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x251546)),this[_0x10de('0xb23')][_0x10de('0xb19')][_0x10de('0x10')]=_0xad26ff[_0x10de('0xdc')],this[_0x10de('0xb23')][_0x10de('0xb37')][_0x10de('0x10')]=this['threshold'],this['fsQuad']['material']=this[_0x10de('0xb24')],_0x251546['setRenderTarget'](this['renderTargetBright']),_0x251546['clear'](),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x251546),this[_0x10de('0xb1e')]),_0x2f6123=0x0;_0x2f6123<this[_0x10de('0xb1f')];_0x2f6123++)this[_0x10de('0xb1a')]['material']=this[_0x10de('0xb25')][_0x2f6123],this['separableBlurMaterials'][_0x2f6123][_0x10de('0x1b4')][_0x10de('0xb38')][_0x10de('0x10')]=_0x10ffaf[_0x10de('0xdc')],this[_0x10de('0xb25')][_0x2f6123]['uniforms'][_0x10de('0x243')][_0x10de('0x10')]=THREE[_0x10de('0xade')][_0x10de('0xb39')],_0x251546[_0x10de('0x6b8')](this[_0x10de('0xb1c')][_0x2f6123]),_0x251546['clear'](),this['fsQuad'][_0x10de('0x362')](_0x251546),this[_0x10de('0xb25')][_0x2f6123]['uniforms'][_0x10de('0xb38')][_0x10de('0x10')]=this[_0x10de('0xb1c')][_0x2f6123]['texture'],this[_0x10de('0xb25')][_0x2f6123]['uniforms'][_0x10de('0x243')][_0x10de('0x10')]=THREE[_0x10de('0xade')][_0x10de('0xb3a')],_0x251546[_0x10de('0x6b8')](this['renderTargetsVertical'][_0x2f6123]),_0x251546[_0x10de('0x69b')](),this['fsQuad'][_0x10de('0x362')](_0x251546),_0x10ffaf=this['renderTargetsVertical'][_0x2f6123];this[_0x10de('0xb1a')][_0x10de('0x40')]=this[_0x10de('0xb2a')],this[_0x10de('0xb2a')][_0x10de('0x1b4')][_0x10de('0xae2')][_0x10de('0x10')]=this[_0x10de('0xae1')],this[_0x10de('0xb2a')][_0x10de('0x1b4')][_0x10de('0xae3')][_0x10de('0x10')]=this[_0x10de('0x230')],this[_0x10de('0xb2a')][_0x10de('0x1b4')][_0x10de('0xb2f')]['value']=this[_0x10de('0xb2f')],_0x251546[_0x10de('0x6b8')](this[_0x10de('0xb1c')][0x0]),_0x251546[_0x10de('0x69b')](),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x251546),this[_0x10de('0xb1a')]['material']=this[_0x10de('0xb32')],this[_0x10de('0xb31')][_0x10de('0xb19')][_0x10de('0x10')]=this['renderTargetsHorizontal'][0x0][_0x10de('0xdc')],_0x4fcec4&&_0x251546[_0x10de('0xb06')][_0x10de('0x223')](_0x251546['context']['STENCIL_TEST']),this['renderToScreen']?_0x251546[_0x10de('0x6b8')](null):_0x251546['setRenderTarget'](_0xad26ff),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x251546),_0x251546[_0x10de('0xb13')](this[_0x10de('0xb33')],this[_0x10de('0xb34')]),_0x251546[_0x10de('0xb10')]=_0x454a26;},'getSeperableBlurMaterial':function(_0x251546){return new THREE[(_0x10de('0x1f2'))]({'defines':{'KERNEL_RADIUS':_0x251546,'SIGMA':_0x251546},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE['Vector2'](0.5,0.5)},'direction':{'value':new THREE[(_0x10de('0x1c8'))](0.5,0.5)}},'vertexShader':_0x10de('0xb3b'),'fragmentShader':_0x10de('0xb3c')});},'getCompositeMaterial':function(_0x251546){return new THREE[(_0x10de('0x1f2'))]({'defines':{'NUM_MIPS':_0x251546},'uniforms':{'blurTexture1':{'value':null},'blurTexture2':{'value':null},'blurTexture3':{'value':null},'blurTexture4':{'value':null},'blurTexture5':{'value':null},'dirtTexture':{'value':null},'bloomStrength':{'value':0x1},'bloomFactors':{'value':null},'bloomTintColors':{'value':null},'bloomRadius':{'value':0x0}},'vertexShader':_0x10de('0xb3b'),'fragmentShader':'varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture3;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture4;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture5;\x09\x09\x09\x09uniform\x20sampler2D\x20dirtTexture;\x09\x09\x09\x09uniform\x20float\x20bloomStrength;\x09\x09\x09\x09uniform\x20float\x20bloomRadius;\x09\x09\x09\x09uniform\x20float\x20bloomFactors[NUM_MIPS];\x09\x09\x09\x09uniform\x20vec3\x20bloomTintColors[NUM_MIPS];\x09\x09\x09\x09\x09\x09\x09\x09float\x20lerpBloomFactor(const\x20in\x20float\x20factor)\x20{\x20\x09\x09\x09\x09\x09float\x20mirrorFactor\x20=\x201.2\x20-\x20factor;\x09\x09\x09\x09\x09return\x20mix(factor,\x20mirrorFactor,\x20bloomRadius);\x09\x09\x09\x09}\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09gl_FragColor\x20=\x20bloomStrength\x20*\x20(\x20lerpBloomFactor(bloomFactors[0])\x20*\x20vec4(bloomTintColors[0],\x201.0)\x20*\x20texture2D(blurTexture1,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[1])\x20*\x20vec4(bloomTintColors[1],\x201.0)\x20*\x20texture2D(blurTexture2,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[2])\x20*\x20vec4(bloomTintColors[2],\x201.0)\x20*\x20texture2D(blurTexture3,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[3])\x20*\x20vec4(bloomTintColors[3],\x201.0)\x20*\x20texture2D(blurTexture4,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[4])\x20*\x20vec4(bloomTintColors[4],\x201.0)\x20*\x20texture2D(blurTexture5,\x20vUv)\x20);\x09\x09\x09\x09}'});}}),THREE['UnrealBloomPass'][_0x10de('0xb39')]=new THREE[(_0x10de('0x1c8'))](0x1,0x0),THREE[_0x10de('0xade')]['BlurDirectionY']=new THREE['Vector2'](0x0,0x1);},function(_0x3f2548,_0x5c9021,_0x2e7673){'use strict';THREE[_0x10de('0xadb')]={'uniforms':{'tDiffuse':{'value':null},'opacity':{'value':0x1}},'vertexShader':['varying\x20vec2\x20vUv;',_0x10de('0x18a'),_0x10de('0xb3d'),'gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}'][_0x10de('0x119')]('\x0a'),'fragmentShader':[_0x10de('0x3c5'),_0x10de('0xb3e'),_0x10de('0xb3f'),'void\x20main()\x20{',_0x10de('0xb40'),_0x10de('0xb41'),'}'][_0x10de('0x119')]('\x0a')};},function(_0x1507ea,_0x3c0c2c,_0x5b490f){'use strict';THREE[_0x10de('0xb22')]={'shaderID':_0x10de('0xb42'),'uniforms':{'tDiffuse':{'value':null},'luminosityThreshold':{'value':0x1},'smoothWidth':{'value':0x1},'defaultColor':{'value':new THREE[(_0x10de('0x1cc'))](0x0)},'defaultOpacity':{'value':0x0}},'vertexShader':[_0x10de('0xb3f'),_0x10de('0x18a'),'vUv\x20=\x20uv;','gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}'][_0x10de('0x119')]('\x0a'),'fragmentShader':['uniform\x20sampler2D\x20tDiffuse;','uniform\x20vec3\x20defaultColor;',_0x10de('0xb43'),_0x10de('0xb44'),_0x10de('0xb45'),'varying\x20vec2\x20vUv;',_0x10de('0x18a'),_0x10de('0xb40'),'vec3\x20luma\x20=\x20vec3(\x200.299,\x200.587,\x200.114\x20);',_0x10de('0xb46'),_0x10de('0xb47'),_0x10de('0xb48'),'gl_FragColor\x20=\x20mix(\x20outputColor,\x20texel,\x20alpha\x20);','}']['join']('\x0a')};},function(_0x89259d,_0x581996,_0x3a384c){'use strict';THREE[_0x10de('0xb49')]={'uniforms':{'tDiffuse':{'value':null},'resolution':{'value':new THREE['Vector2'](0x1/0x400,0x1/0x200)}},'vertexShader':['varying\x20vec2\x20vUv;',_0x10de('0x18a'),_0x10de('0xb3d'),_0x10de('0xb4a'),'}']['join']('\x0a'),'fragmentShader':[_0x10de('0xb4b'),'',_0x10de('0xb3e'),'',_0x10de('0x3c2'),'',_0x10de('0xb3f'),'',_0x10de('0xb4c'),'','//----------------------------------------------------------------------------------',_0x10de('0xb4d'),_0x10de('0xb4e'),'//\x20Email:\x20\x20\x20\x20\x20\x20\x20gameworks@nvidia.com',_0x10de('0xb4f'),'//',_0x10de('0xb50'),'//','//\x20Redistribution\x20and\x20use\x20in\x20source\x20and\x20binary\x20forms,\x20with\x20or\x20without',_0x10de('0xb51'),_0x10de('0xb52'),_0x10de('0xb53'),_0x10de('0xb54'),_0x10de('0xb55'),_0x10de('0xb56'),_0x10de('0xb57'),_0x10de('0xb58'),_0x10de('0xb59'),_0x10de('0xb5a'),'//',_0x10de('0xb5b'),_0x10de('0xb5c'),_0x10de('0xb5d'),_0x10de('0xb5e'),'//\x20CONTRIBUTORS\x20BE\x20LIABLE\x20FOR\x20ANY\x20DIRECT,\x20INDIRECT,\x20INCIDENTAL,\x20SPECIAL,','//\x20EXEMPLARY,\x20OR\x20CONSEQUENTIAL\x20DAMAGES\x20(INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,','//\x20PROCUREMENT\x20OF\x20SUBSTITUTE\x20GOODS\x20OR\x20SERVICES;\x20LOSS\x20OF\x20USE,\x20DATA,\x20OR','//\x20PROFITS;\x20OR\x20BUSINESS\x20INTERRUPTION)\x20HOWEVER\x20CAUSED\x20AND\x20ON\x20ANY\x20THEORY',_0x10de('0xb5f'),_0x10de('0xb60'),_0x10de('0xb61'),'//',_0x10de('0xb62'),'',_0x10de('0xb63'),_0x10de('0xb64'),_0x10de('0xb65'),'','#define\x20FXAA_GREEN_AS_LUMA\x201','',_0x10de('0xb66'),_0x10de('0xb67'),_0x10de('0xb68'),_0x10de('0xb69'),_0x10de('0xb6a'),_0x10de('0xb6b'),_0x10de('0xb68'),'\x20\x20\x20\x20#define\x20FXAA_PC_CONSOLE\x200',_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xb6c'),_0x10de('0xb6d'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xb6e'),_0x10de('0xb6f'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xb70'),_0x10de('0xb71'),'#endif','/*--------------------------------------------------------------------------*/',_0x10de('0xb72'),'\x20\x20\x20\x20#define\x20FXAA_HLSL_4\x200',_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xb73'),_0x10de('0xb74'),_0x10de('0x129'),_0x10de('0xb75'),'#ifndef\x20FXAA_GREEN_AS_LUMA',_0x10de('0xb68'),_0x10de('0xb76'),_0x10de('0xb77'),_0x10de('0xb78'),_0x10de('0xb79'),_0x10de('0xb68'),_0x10de('0xb7a'),_0x10de('0xb7b'),_0x10de('0xb68'),_0x10de('0xb7c'),_0x10de('0xb7d'),_0x10de('0xb7e'),'\x20\x20\x20\x20//\x20In\x20order\x20to\x20insure\x20AA\x20does\x20not\x20get\x20turned\x20off\x20on\x20colors','\x20\x20\x20\x20//\x20which\x20contain\x20a\x20minor\x20amount\x20of\x20green.','\x20\x20\x20\x20//',_0x10de('0xb7f'),_0x10de('0xb80'),_0x10de('0xb68'),_0x10de('0xb81'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xb82'),_0x10de('0xb68'),_0x10de('0xb83'),_0x10de('0xb84'),_0x10de('0xb85'),_0x10de('0xb86'),'\x20\x20\x20\x20//\x20So\x20this\x20defaults\x20to\x20on.',_0x10de('0xb68'),_0x10de('0xb7f'),'\x20\x20\x20\x20//\x200\x20=\x20Off.',_0x10de('0xb68'),_0x10de('0xb87'),_0x10de('0x129'),_0x10de('0xb66'),'#ifndef\x20FXAA_DISCARD','\x20\x20\x20\x20//',_0x10de('0xb88'),'\x20\x20\x20\x20//\x20Probably\x20will\x20not\x20work\x20when\x20FXAA_GREEN_AS_LUMA\x20=\x201.',_0x10de('0xb68'),_0x10de('0xb89'),_0x10de('0xb8a'),_0x10de('0xb8b'),_0x10de('0xb68'),_0x10de('0xb8c'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xb8d'),_0x10de('0xb68'),_0x10de('0xb8e'),_0x10de('0xb68'),'\x20\x20\x20\x20//\x201\x20=\x20GL\x20API\x20supports\x20fast\x20pixel\x20offsets',_0x10de('0xb8f'),_0x10de('0xb68'),_0x10de('0xb90'),_0x10de('0xb91'),'\x20\x20\x20\x20#endif',_0x10de('0xb92'),_0x10de('0xb91'),_0x10de('0x177'),_0x10de('0xb93'),_0x10de('0xb91'),_0x10de('0x177'),_0x10de('0xb94'),_0x10de('0xb95'),_0x10de('0x177'),'#endif',_0x10de('0xb66'),'#ifndef\x20FXAA_GATHER4_ALPHA',_0x10de('0xb68'),'\x20\x20\x20\x20//\x201\x20=\x20API\x20supports\x20gather4\x20on\x20alpha\x20channel.',_0x10de('0xb96'),'\x20\x20\x20\x20//','\x20\x20\x20\x20#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201',_0x10de('0x177'),_0x10de('0xb93'),_0x10de('0xb97'),_0x10de('0x177'),_0x10de('0xb92'),_0x10de('0xb97'),_0x10de('0x177'),_0x10de('0xb98'),_0x10de('0xb99'),_0x10de('0x177'),_0x10de('0x129'),'','',_0x10de('0xb9a'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20TUNING\x20KNOBS',_0x10de('0xb9b'),_0x10de('0xb9c'),_0x10de('0xb9d'),_0x10de('0xb9e'),_0x10de('0xb68'),'\x20\x20\x20\x20//\x20Choose\x20the\x20quality\x20preset.',_0x10de('0xb9f'),_0x10de('0xba0'),_0x10de('0xba1'),_0x10de('0xb68'),'\x20\x20\x20\x20//\x20OPTIONS','\x20\x20\x20\x20//\x20-----------------------------------------------------------------------',_0x10de('0xba2'),'\x20\x20\x20\x20//\x2020\x20to\x2029\x20-\x20less\x20dither,\x20more\x20expensive\x20(20=fastest,\x2029=highest\x20quality)',_0x10de('0xba3'),'\x20\x20\x20\x20//',_0x10de('0xba4'),_0x10de('0xba5'),_0x10de('0xba6'),_0x10de('0xba7'),_0x10de('0xba8'),_0x10de('0xba9'),_0x10de('0xbaa'),_0x10de('0xb68'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PRESET\x2012',_0x10de('0x129'),'','',_0x10de('0xb9a'),'',_0x10de('0xbab'),'','============================================================================*/','',_0x10de('0xb9a'),_0x10de('0xbac'),_0x10de('0xb9d'),_0x10de('0xbad'),_0x10de('0xbae'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5',_0x10de('0xbaf'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x2012.0','#endif',_0x10de('0xb66'),_0x10de('0xbb0'),_0x10de('0xbb1'),_0x10de('0xbb2'),_0x10de('0xbb3'),_0x10de('0xbb4'),_0x10de('0xbb5'),_0x10de('0x129'),_0x10de('0xb66'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2012)',_0x10de('0xbb6'),_0x10de('0xbb2'),_0x10de('0xbb3'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x2012.0',_0x10de('0x129'),_0x10de('0xb66'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2013)',_0x10de('0xbb7'),_0x10de('0xbb2'),_0x10de('0xbb3'),_0x10de('0xbb8'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x10de('0xbb9'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x2012.0',_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xbba'),_0x10de('0xbbb'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x10de('0xbb3'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x10de('0xbbc'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0',_0x10de('0xbbd'),_0x10de('0xbbe'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xbbf'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x208',_0x10de('0xbb2'),_0x10de('0xbb3'),_0x10de('0xbb8'),_0x10de('0xbbc'),_0x10de('0xbc0'),_0x10de('0xbc1'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x2012.0',_0x10de('0x129'),'',_0x10de('0xb9a'),_0x10de('0xbc2'),_0x10de('0xb9d'),_0x10de('0xbc3'),_0x10de('0xbae'),_0x10de('0xbc4'),_0x10de('0xbc5'),_0x10de('0xbc6'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xbc7'),_0x10de('0xbb1'),_0x10de('0xbb2'),_0x10de('0xbb3'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x10de('0xbc8'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xbc9'),_0x10de('0xbb6'),_0x10de('0xbb2'),_0x10de('0xbb3'),_0x10de('0xbb8'),_0x10de('0xbbc'),_0x10de('0xbca'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xbcb'),_0x10de('0xbb7'),_0x10de('0xbb2'),_0x10de('0xbb3'),_0x10de('0xbb8'),_0x10de('0xbbc'),_0x10de('0xbc0'),_0x10de('0xbcc'),_0x10de('0x129'),_0x10de('0xb66'),_0x10de('0xbcd'),_0x10de('0xbbb'),_0x10de('0xbb2'),_0x10de('0xbb3'),_0x10de('0xbb8'),_0x10de('0xbbc'),_0x10de('0xbc0'),_0x10de('0xbce'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x208.0',_0x10de('0x129'),_0x10de('0xb66'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2025)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x208',_0x10de('0xbb2'),_0x10de('0xbb3'),_0x10de('0xbb8'),_0x10de('0xbbc'),_0x10de('0xbc0'),_0x10de('0xbc1'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x204.0',_0x10de('0xbcf'),_0x10de('0x129'),'/*--------------------------------------------------------------------------*/',_0x10de('0xbd0'),_0x10de('0xbd1'),_0x10de('0xbb2'),_0x10de('0xbb3'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x10de('0xbc0'),_0x10de('0xbc1'),_0x10de('0xbd2'),_0x10de('0xbd3'),_0x10de('0xbd4'),_0x10de('0x129'),'/*--------------------------------------------------------------------------*/',_0x10de('0xbd5'),_0x10de('0xbd6'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x10de('0xbb3'),_0x10de('0xbb8'),_0x10de('0xbbc'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0',_0x10de('0xbc1'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0',_0x10de('0xbd7'),_0x10de('0xbd8'),_0x10de('0xbd9'),_0x10de('0x129'),'/*--------------------------------------------------------------------------*/',_0x10de('0xbda'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2011',_0x10de('0xbb2'),_0x10de('0xbb3'),_0x10de('0xbb8'),_0x10de('0xbbc'),_0x10de('0xbc0'),_0x10de('0xbc1'),_0x10de('0xbd2'),_0x10de('0xbd7'),_0x10de('0xbdb'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x204.0',_0x10de('0xbdc'),_0x10de('0x129'),'/*--------------------------------------------------------------------------*/',_0x10de('0xbdd'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2012','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x10de('0xbb8'),_0x10de('0xbbc'),_0x10de('0xbc0'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0',_0x10de('0xbd7'),_0x10de('0xbdb'),_0x10de('0xbde'),_0x10de('0xbdf'),_0x10de('0xbe0'),_0x10de('0x129'),'',_0x10de('0xb9a'),_0x10de('0xbe1'),'============================================================================*/',_0x10de('0xbe2'),_0x10de('0xbe3'),_0x10de('0xbb2'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.0',_0x10de('0xbe4'),_0x10de('0xbe5'),_0x10de('0xbe6'),_0x10de('0xbe7'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0',_0x10de('0xbd7'),_0x10de('0xbdb'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0',_0x10de('0x129'),'','','',_0x10de('0xb9a'),'',_0x10de('0xbe8'),'','============================================================================*/',_0x10de('0xbe9'),'\x20\x20\x20\x20#define\x20FxaaBool\x20bool',_0x10de('0xbea'),_0x10de('0xbeb'),_0x10de('0xbec'),'\x20\x20\x20\x20#define\x20FxaaFloat3\x20vec3',_0x10de('0xbed'),_0x10de('0xbee'),_0x10de('0xbef'),_0x10de('0xbf0'),'\x20\x20\x20\x20#define\x20FxaaHalf4\x20vec4',_0x10de('0xbf1'),_0x10de('0xbf2'),_0x10de('0xbf3'),_0x10de('0xbf4'),_0x10de('0xbf5'),'\x20\x20\x20\x20#define\x20FxaaDiscard\x20clip(-1)','\x20\x20\x20\x20#define\x20FxaaFloat\x20float',_0x10de('0xbf6'),'\x20\x20\x20\x20#define\x20FxaaFloat3\x20float3',_0x10de('0xbf7'),_0x10de('0xbf8'),_0x10de('0xbf9'),_0x10de('0xbfa'),'\x20\x20\x20\x20#define\x20FxaaHalf4\x20half4',_0x10de('0xbfb'),'#endif',_0x10de('0xb66'),'#if\x20(FXAA_GLSL_100\x20==\x201)',_0x10de('0xbfc'),_0x10de('0xbfd'),'#endif','/*--------------------------------------------------------------------------*/',_0x10de('0xbfe'),'\x20\x20\x20\x20//\x20Requires,','\x20\x20\x20\x20//\x20\x20#version\x20120',_0x10de('0xbff'),_0x10de('0xc00'),_0x10de('0xc01'),'\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2DLod(t,\x20p,\x200.0)',_0x10de('0xc02'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20#else',_0x10de('0xc03'),_0x10de('0x177'),_0x10de('0xc04'),'\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable',_0x10de('0xc05'),_0x10de('0xc06'),_0x10de('0xc07'),_0x10de('0xc08'),'\x20\x20\x20\x20#endif','#endif',_0x10de('0xb66'),_0x10de('0xc09'),_0x10de('0xc0a'),_0x10de('0xc0b'),_0x10de('0xc0c'),_0x10de('0xc04'),_0x10de('0xc0d'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)',_0x10de('0xc06'),_0x10de('0xc07'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)',_0x10de('0x177'),'#endif',_0x10de('0xb66'),_0x10de('0xc0e'),_0x10de('0xc0f'),_0x10de('0xbf3'),'\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20tex2Dlod(t,\x20float4(p,\x200.0,\x200.0))',_0x10de('0xc10'),_0x10de('0x129'),_0x10de('0xb66'),'#if\x20(FXAA_HLSL_4\x20==\x201)',_0x10de('0xc11'),'\x20\x20\x20\x20struct\x20FxaaTex\x20{\x20SamplerState\x20smpl;\x20Texture2D\x20tex;\x20};',_0x10de('0xc12'),_0x10de('0xc13'),_0x10de('0x129'),'/*--------------------------------------------------------------------------*/',_0x10de('0xc14'),_0x10de('0xc11'),_0x10de('0xc15'),_0x10de('0xc12'),_0x10de('0xc13'),_0x10de('0xc16'),_0x10de('0xc17'),_0x10de('0xc18'),'\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20t.tex.GatherGreen(t.smpl,\x20p,\x20o)',_0x10de('0x129'),'','',_0x10de('0xb9a'),_0x10de('0xc19'),'============================================================================*/','#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)',_0x10de('0xc1a'),'#else',_0x10de('0xc1b'),_0x10de('0x129'),'','','','',_0x10de('0xb9a'),'',_0x10de('0xc1c'),'',_0x10de('0xb9d'),_0x10de('0xc1d'),_0x10de('0xb66'),'FxaaFloat4\x20FxaaPixelShader(',_0x10de('0xb68'),'\x20\x20\x20\x20//\x20Use\x20noperspective\x20interpolation\x20here\x20(turn\x20off\x20perspective\x20interpolation).',_0x10de('0xc1e'),_0x10de('0xc1f'),_0x10de('0xb68'),'\x20\x20\x20\x20//\x20Used\x20only\x20for\x20FXAA\x20Console,\x20and\x20not\x20used\x20on\x20the\x20360\x20version.',_0x10de('0xc20'),_0x10de('0xc21'),_0x10de('0xc22'),_0x10de('0xc23'),'\x20\x20\x20\x20//',_0x10de('0xc24'),'\x20\x20\x20\x20//\x20{rgb_}\x20=\x20color\x20in\x20linear\x20or\x20perceptual\x20color\x20space',_0x10de('0xc25'),_0x10de('0xc26'),_0x10de('0xc27'),'\x20\x20\x20\x20//',_0x10de('0xc28'),_0x10de('0xc29'),_0x10de('0xc2a'),_0x10de('0xc2b'),_0x10de('0xc2c'),_0x10de('0xb68'),_0x10de('0xc28'),_0x10de('0xc29'),_0x10de('0xc2d'),_0x10de('0xc2e'),'\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegTwo,','\x20\x20\x20\x20//',_0x10de('0xc2f'),_0x10de('0xc30'),_0x10de('0xc31'),_0x10de('0xc32'),_0x10de('0xc33'),_0x10de('0xb68'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.',_0x10de('0xc34'),_0x10de('0xc35'),'\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.50\x20(default)',_0x10de('0xc36'),_0x10de('0xc37'),'\x20\x20\x20\x20//\x20{_y_}\x20=\x20-N/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x20N/screenWidthInPixels',_0x10de('0xc38'),_0x10de('0xc39'),_0x10de('0xb68'),_0x10de('0xc3a'),_0x10de('0xc3b'),'\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.',_0x10de('0xc3c'),_0x10de('0xc3d'),_0x10de('0xc3e'),_0x10de('0xc3f'),_0x10de('0xc40'),_0x10de('0xb68'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20360\x20in\x20place\x20of\x20fxaaConsoleRcpFrameOpt2.',_0x10de('0xc30'),'\x20\x20\x20\x20//\x20{x__}\x20=\x20\x208.0/screenWidthInPixels',_0x10de('0xc41'),_0x10de('0xc42'),'\x20\x20\x20\x20//\x20{__w}\x20=\x20-4.0/screenHeightInPixels',_0x10de('0xc43'),'\x20\x20\x20\x20//',_0x10de('0xc2f'),_0x10de('0xc44'),_0x10de('0xc45'),_0x10de('0xc46'),_0x10de('0xc47'),_0x10de('0xc48'),_0x10de('0xc49'),'\x20\x20\x20\x20//\x20\x20\x200.50\x20-\x20lower\x20limit\x20(sharper,\x20less\x20sub-pixel\x20aliasing\x20removal)',_0x10de('0xc4a'),'\x20\x20\x20\x20//\x20\x20\x200.00\x20-\x20completely\x20off',_0x10de('0xc4b'),'\x20\x20\x20\x20//',_0x10de('0xc2f'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD\x20define.',_0x10de('0xc45'),_0x10de('0xc4c'),_0x10de('0xc4d'),_0x10de('0xc4e'),_0x10de('0xc4f'),'\x20\x20\x20\x20//\x20\x20\x200.125\x20-\x20high\x20quality',_0x10de('0xc50'),_0x10de('0xc51'),_0x10de('0xb68'),_0x10de('0xc2f'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD_MIN\x20define.',_0x10de('0xc45'),_0x10de('0xc52'),'\x20\x20\x20\x20//\x20\x20\x200.0833\x20-\x20upper\x20limit\x20(default,\x20the\x20start\x20of\x20visible\x20unfiltered\x20edges)',_0x10de('0xc53'),_0x10de('0xc54'),_0x10de('0xc55'),'\x20\x20\x20\x20//\x20\x20\x20Likely\x20want\x20to\x20set\x20this\x20to\x20zero.',_0x10de('0xc56'),_0x10de('0xc57'),_0x10de('0xc58'),'\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.',_0x10de('0xc59'),'\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.',_0x10de('0xc5a'),_0x10de('0xc45'),_0x10de('0xc5b'),_0x10de('0xc5c'),_0x10de('0xc5d'),_0x10de('0xc5e'),_0x10de('0xc5f'),_0x10de('0xc60'),_0x10de('0xc61'),_0x10de('0xc62'),'\x20\x20\x20\x20//\x20\x20\x202.0\x20is\x20really\x20soft\x20(good\x20only\x20for\x20vector\x20graphics\x20inputs)','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeSharpness,','\x20\x20\x20\x20//',_0x10de('0xc3a'),_0x10de('0xc63'),_0x10de('0xc45'),_0x10de('0xc5b'),_0x10de('0xc64'),_0x10de('0xc5d'),_0x10de('0xc65'),_0x10de('0xc5f'),'\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.',_0x10de('0xc66'),_0x10de('0xc67'),_0x10de('0xc68'),_0x10de('0xc69'),_0x10de('0xb68'),_0x10de('0xc3a'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD_MIN\x20define.',_0x10de('0xc45'),'\x20\x20\x20\x20//\x20Trims\x20the\x20algorithm\x20from\x20processing\x20darks.',_0x10de('0xc6a'),_0x10de('0xc6b'),_0x10de('0xc6c'),_0x10de('0xc6d'),_0x10de('0xc6e'),_0x10de('0xc6f'),_0x10de('0xc70'),_0x10de('0xc55'),'\x20\x20\x20\x20//\x20\x20\x20Likely\x20want\x20to\x20set\x20this\x20to\x20zero.',_0x10de('0xc56'),_0x10de('0xc57'),_0x10de('0xc58'),_0x10de('0xc71'),_0x10de('0xc72'),_0x10de('0xb68'),'\x20\x20\x20\x20//\x20Extra\x20constants\x20for\x20360\x20FXAA\x20Console\x20only.',_0x10de('0xc73'),_0x10de('0xc74'),_0x10de('0xc75'),_0x10de('0xc76'),_0x10de('0xc77'),_0x10de('0xc78'),_0x10de('0xb66'),_0x10de('0xc79'),_0x10de('0xc7a'),'\x20\x20\x20\x20posM.y\x20=\x20pos.y;',_0x10de('0xc04'),_0x10de('0xc7b'),_0x10de('0xc7c'),_0x10de('0xc7d'),_0x10de('0xc7e'),_0x10de('0xc7f'),_0x10de('0xc80'),_0x10de('0xc81'),_0x10de('0xc82'),_0x10de('0xc83'),_0x10de('0xc84'),_0x10de('0xc85'),_0x10de('0xc86'),_0x10de('0xc87'),_0x10de('0xc88'),_0x10de('0xc82'),_0x10de('0xc89'),_0x10de('0xc8a'),_0x10de('0xc82'),_0x10de('0xc8b'),_0x10de('0xc8c'),_0x10de('0xc8d'),_0x10de('0xc8e'),_0x10de('0xc8f'),_0x10de('0xc90'),_0x10de('0x1a6'),_0x10de('0xc91'),_0x10de('0xc83'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w',_0x10de('0xc86'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)',_0x10de('0xc92'),_0x10de('0xc93'),_0x10de('0xc94'),_0x10de('0xc95'),_0x10de('0xc86'),_0x10de('0xc96'),_0x10de('0xc97'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,-1),\x20fxaaQualityRcpFrame.xy));',_0x10de('0xc98'),_0x10de('0xc82'),_0x10de('0x177'),'/*--------------------------------------------------------------------------*/',_0x10de('0xc99'),_0x10de('0xc9a'),_0x10de('0xc9b'),_0x10de('0xc9c'),_0x10de('0xc9d'),_0x10de('0xc9e'),_0x10de('0xc9f'),_0x10de('0xca0'),_0x10de('0xca1'),_0x10de('0xca2'),_0x10de('0xca3'),_0x10de('0xca4'),'/*--------------------------------------------------------------------------*/',_0x10de('0xca5'),'\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)',_0x10de('0xca6'),'\x20\x20\x20\x20\x20\x20\x20\x20#else',_0x10de('0xca7'),_0x10de('0xc82'),_0x10de('0xb66'),_0x10de('0xca8'),_0x10de('0xca9'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,-1.0),\x20fxaaQualityRcpFrame.xy));',_0x10de('0xcaa'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,-1.0),\x20fxaaQualityRcpFrame.xy));',_0x10de('0xcab'),_0x10de('0xc86'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x201),\x20fxaaQualityRcpFrame.xy));',_0x10de('0xcac'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));',_0x10de('0xc82'),_0x10de('0x1a6'),_0x10de('0xcad'),_0x10de('0xcae'),_0x10de('0x177'),_0x10de('0xb66'),'\x20\x20\x20\x20FxaaFloat\x20lumaNS\x20=\x20lumaN\x20+\x20lumaS;','\x20\x20\x20\x20FxaaFloat\x20lumaWE\x20=\x20lumaW\x20+\x20lumaE;',_0x10de('0xcaf'),_0x10de('0xcb0'),_0x10de('0xcb1'),_0x10de('0xcb2'),_0x10de('0xb66'),'\x20\x20\x20\x20FxaaFloat\x20lumaNESE\x20=\x20lumaNE\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20lumaNWNE\x20=\x20lumaNW\x20+\x20lumaNE;',_0x10de('0xcb3'),_0x10de('0xcb4'),_0x10de('0xb66'),_0x10de('0xcb5'),_0x10de('0xcb6'),_0x10de('0xcb7'),'\x20\x20\x20\x20FxaaFloat\x20edgeVert4\x20=\x20(abs(edgeVert1)\x20*\x202.0)\x20+\x20abs(edgeVert2);',_0x10de('0xcb8'),_0x10de('0xcb9'),'\x20\x20\x20\x20FxaaFloat\x20edgeHorz\x20=\x20abs(edgeHorz3)\x20+\x20edgeHorz4;',_0x10de('0xcba'),_0x10de('0xb66'),'\x20\x20\x20\x20FxaaFloat\x20subpixNWSWNESE\x20=\x20lumaNWSW\x20+\x20lumaNESE;',_0x10de('0xcbb'),_0x10de('0xcbc'),_0x10de('0xcbd'),_0x10de('0xb66'),_0x10de('0xcbe'),_0x10de('0xcbf'),_0x10de('0xcc0'),_0x10de('0xcc1'),_0x10de('0xb66'),_0x10de('0xcc2'),_0x10de('0xcc3'),_0x10de('0xcc4'),'\x20\x20\x20\x20FxaaFloat\x20lumaSS\x20=\x20lumaS\x20+\x20lumaM;',_0x10de('0xcc5'),_0x10de('0xcc6'),'\x20\x20\x20\x20if(pairN)\x20lengthSign\x20=\x20-lengthSign;','\x20\x20\x20\x20FxaaFloat\x20subpixC\x20=\x20FxaaSat(abs(subpixB)\x20*\x20subpixRcpRange);',_0x10de('0xb66'),_0x10de('0xcc7'),'\x20\x20\x20\x20posB.x\x20=\x20posM.x;',_0x10de('0xcc8'),_0x10de('0xcc9'),_0x10de('0xcca'),_0x10de('0xccb'),_0x10de('0xccc'),_0x10de('0xccd'),_0x10de('0xb66'),_0x10de('0xcce'),_0x10de('0xccf'),'\x20\x20\x20\x20posN.y\x20=\x20posB.y\x20-\x20offNP.y\x20*\x20FXAA_QUALITY_P0;',_0x10de('0xcd0'),'\x20\x20\x20\x20posP.x\x20=\x20posB.x\x20+\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20posP.y\x20=\x20posB.y\x20+\x20offNP.y\x20*\x20FXAA_QUALITY_P0;',_0x10de('0xcd1'),'\x20\x20\x20\x20FxaaFloat\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN));',_0x10de('0xcd2'),_0x10de('0xcd3'),_0x10de('0xb66'),_0x10de('0xcd4'),_0x10de('0xcd5'),_0x10de('0xcd6'),_0x10de('0xcd7'),'\x20\x20\x20\x20FxaaBool\x20lumaMLTZero\x20=\x20lumaMM\x20<\x200.0;',_0x10de('0xb66'),_0x10de('0xcd8'),_0x10de('0xcd9'),_0x10de('0xcda'),_0x10de('0xcdb'),_0x10de('0xcdc'),_0x10de('0xcdd'),'\x20\x20\x20\x20FxaaBool\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x10de('0xcde'),_0x10de('0xcdf'),_0x10de('0xb66'),_0x10de('0xce0'),_0x10de('0xce1'),_0x10de('0xce2'),_0x10de('0xce3'),_0x10de('0xce4'),'\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x10de('0xce5'),_0x10de('0xce6'),_0x10de('0xce7'),_0x10de('0xce8'),_0x10de('0xce9'),_0x10de('0xcea'),_0x10de('0xb66'),_0x10de('0xceb'),_0x10de('0xcec'),_0x10de('0xced'),_0x10de('0xcee'),_0x10de('0xcef'),_0x10de('0xcf0'),_0x10de('0xcf1'),_0x10de('0xcf2'),_0x10de('0xcf3'),_0x10de('0xcf4'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x10de('0xcf5'),_0x10de('0xcf6'),_0x10de('0xb66'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x204)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{',_0x10de('0xcf7'),_0x10de('0xcf8'),_0x10de('0xcf9'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x10de('0xcfa'),_0x10de('0xcfb'),_0x10de('0xcfc'),_0x10de('0xcfd'),_0x10de('0xcfe'),_0x10de('0xcff'),'/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x205)',_0x10de('0xd00'),_0x10de('0xd01'),_0x10de('0xd02'),_0x10de('0xd03'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x10de('0xd04'),_0x10de('0xd05'),_0x10de('0xd06'),_0x10de('0xd07'),_0x10de('0xd08'),_0x10de('0xd09'),_0x10de('0xd0a'),'/*--------------------------------------------------------------------------*/',_0x10de('0xd0b'),_0x10de('0xd0c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x10de('0xd0d'),_0x10de('0xd0e'),_0x10de('0xd0f'),_0x10de('0xd10'),_0x10de('0xd11'),_0x10de('0xd12'),_0x10de('0xd13'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x10de('0xd14'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;',_0x10de('0xb66'),_0x10de('0xd15'),_0x10de('0xd16'),_0x10de('0xd17'),_0x10de('0xd18'),_0x10de('0xd19'),_0x10de('0xd1a'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x10de('0xd1b'),_0x10de('0xd1c'),_0x10de('0xd1d'),_0x10de('0xd1e'),_0x10de('0xd1f'),_0x10de('0xb66'),_0x10de('0xd20'),_0x10de('0xce0'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x10de('0xce2'),_0x10de('0xce3'),_0x10de('0xce4'),_0x10de('0xd21'),'\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x10de('0xd22'),_0x10de('0xd23'),'\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x10de('0xd24'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','/*--------------------------------------------------------------------------*/',_0x10de('0xd25'),_0x10de('0xcec'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x10de('0xcef'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x10de('0xcf2'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;',_0x10de('0xd26'),_0x10de('0xd27'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;',_0x10de('0xb66'),_0x10de('0xd28'),_0x10de('0xd29'),_0x10de('0xcf7'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x10de('0xcf9'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x10de('0xd2a'),_0x10de('0xcfa'),_0x10de('0xd2b'),_0x10de('0xd2c'),_0x10de('0xcfd'),_0x10de('0xd2d'),_0x10de('0xd2e'),_0x10de('0xb66'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2011)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{',_0x10de('0xd01'),_0x10de('0xd02'),_0x10de('0xd03'),_0x10de('0xd2f'),_0x10de('0xd04'),_0x10de('0xd05'),_0x10de('0xd30'),_0x10de('0xd31'),_0x10de('0xd08'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;',_0x10de('0xd32'),_0x10de('0xb66'),_0x10de('0xd33'),_0x10de('0xd0c'),_0x10de('0xd34'),_0x10de('0xd0d'),_0x10de('0xd0e'),_0x10de('0xd0f'),_0x10de('0xd10'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x10de('0xd35'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;',_0x10de('0xd36'),_0x10de('0xd37'),_0x10de('0xd38'),_0x10de('0xb66'),_0x10de('0xd39'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x10de('0xb66'),_0x10de('0xd3a'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x10de('0xb66'),_0x10de('0xd3b'),_0x10de('0xc81'),_0x10de('0xb66'),'\x20\x20\x20\x20\x20\x20\x20\x20}',_0x10de('0xc82'),'/*--------------------------------------------------------------------------*/',_0x10de('0x14c'),'\x20\x20\x20\x20#endif',_0x10de('0xb66'),_0x10de('0xd3c'),_0x10de('0xd3d'),_0x10de('0xb66'),_0x10de('0xd39'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x10de('0xb66'),_0x10de('0xd3a'),_0x10de('0xd3e'),_0x10de('0xb66'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}',_0x10de('0xc81'),'/*--------------------------------------------------------------------------*/',_0x10de('0xd3f'),'\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x10de('0xb66'),_0x10de('0x14c'),'/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20FxaaFloat\x20dstN\x20=\x20posM.x\x20-\x20posN.x;','\x20\x20\x20\x20FxaaFloat\x20dstP\x20=\x20posP.x\x20-\x20posM.x;',_0x10de('0xd40'),_0x10de('0xd41'),'/*--------------------------------------------------------------------------*/',_0x10de('0xd42'),_0x10de('0xd43'),_0x10de('0xd44'),_0x10de('0xd45'),_0x10de('0xb66'),'\x20\x20\x20\x20FxaaBool\x20directionN\x20=\x20dstN\x20<\x20dstP;','\x20\x20\x20\x20FxaaFloat\x20dst\x20=\x20min(dstN,\x20dstP);',_0x10de('0xd46'),_0x10de('0xd47'),_0x10de('0xd48'),_0x10de('0xd49'),_0x10de('0xb66'),_0x10de('0xd4a'),_0x10de('0xd4b'),_0x10de('0xd4c'),_0x10de('0xd4d'),_0x10de('0xd4e'),_0x10de('0xd4f'),_0x10de('0x1a6'),_0x10de('0xd50'),_0x10de('0x177'),'}',_0x10de('0xb75'),'#endif','',_0x10de('0x18a'),_0x10de('0xd51'),_0x10de('0xd52'),'\x20\x20\x20\x20vec4(0.0),',_0x10de('0xd53'),'\x20\x20\x20\x20tDiffuse,','\x20\x20\x20\x20tDiffuse,',_0x10de('0xd54'),_0x10de('0xd55'),_0x10de('0xd55'),'\x20\x20\x20\x20vec4(0.0),',_0x10de('0xd56'),'\x20\x20\x20\x200.166,',_0x10de('0xd57'),'\x20\x20\x20\x200.0,',_0x10de('0xd58'),'\x20\x20\x20\x200.0,','\x20\x20\x20\x20vec4(0.0)',_0x10de('0xd59'),'',_0x10de('0xd5a'),_0x10de('0xd5b'),'}'][_0x10de('0x119')]('\x0a')};},function(_0x276717,_0x356166,_0x1d0ec1){'use strict';var _0x40d5f8=_0x2dcd64(_0x1d0ec1(0x25)),_0x1d0ec1=_0x2dcd64(_0x1d0ec1(0x11));function _0x2dcd64(_0x276717){return _0x276717&&_0x276717[_0x10de('0x5')]?_0x276717:{'default':_0x276717};}THREE[_0x10de('0xd5c')]=function(_0x276717,_0x356166,_0x1d0ec1,_0x40d5f8){this[_0x10de('0xd5d')]=_0x356166,this['renderCamera']=_0x1d0ec1,this[_0x10de('0xabb')]=void 0x0!==_0x40d5f8?_0x40d5f8:[],this['visibleEdgeColor']=new THREE['Color'](0x1,0x1,0x1),this[_0x10de('0xabd')]=new THREE['Color'](0.1,0.04,0.02),this['edgeGlow']=0x0,this['usePatternTexture']=!0x1,this[_0x10de('0xac2')]=0x1,this[_0x10de('0xabe')]=0x3,this['downSampleRatio']=0x2,this['pulsePeriod']=0x0,THREE[_0x10de('0xb0d')]['call'](this),this[_0x10de('0x335')]=void 0x0!==_0x276717?new THREE['Vector2'](_0x276717['x'],_0x276717['y']):new THREE[(_0x10de('0x1c8'))](0x100,0x100);var _0x2dcd64,_0x356166={'minFilter':THREE['LinearFilter'],'magFilter':THREE[_0x10de('0x618')],'format':THREE['RGBAFormat']},_0x1d0ec1=Math['round'](this['resolution']['x']/this[_0x10de('0xd5e')]),_0x40d5f8=Math['round'](this[_0x10de('0x335')]['y']/this[_0x10de('0xd5e')]),_0x276717=(this[_0x10de('0xd5f')]=new THREE[(_0x10de('0x40e'))]({'color':0xffffff}),this[_0x10de('0xd5f')][_0x10de('0x3bb')]=THREE[_0x10de('0x33a')],this['renderTargetMaskBuffer']=new THREE[(_0x10de('0x6a2'))](this[_0x10de('0x335')]['x'],this[_0x10de('0x335')]['y'],_0x356166),this[_0x10de('0xd60')]['texture'][_0x10de('0x8c')]='OutlinePass.mask',this[_0x10de('0xd60')][_0x10de('0xdc')][_0x10de('0x69f')]=!0x1,this['depthMaterial']=new THREE[(_0x10de('0x799'))](),this[_0x10de('0x737')][_0x10de('0x3bb')]=THREE[_0x10de('0x33a')],this[_0x10de('0x737')][_0x10de('0xd61')]=THREE['RGBADepthPacking'],this[_0x10de('0x737')][_0x10de('0x1e2')]=THREE[_0x10de('0x68a')],this[_0x10de('0xd62')]=this['getPrepareMaskMaterial'](),this[_0x10de('0xd62')][_0x10de('0x3bb')]=THREE[_0x10de('0x33a')],this['prepareMaskMaterial'][_0x10de('0x5a')]=(_0x276717=this[_0x10de('0xd62')]['fragmentShader'],_0x2dcd64=this[_0x10de('0xd63')][_0x10de('0xd64')]?_0x10de('0xad6'):_0x10de('0xd65'),_0x276717[_0x10de('0x57')](/DEPTH_TO_VIEW_Z/g,_0x2dcd64+_0x10de('0xd66'))),this[_0x10de('0xd67')]=new THREE['WebGLRenderTarget'](this[_0x10de('0x335')]['x'],this[_0x10de('0x335')]['y'],_0x356166),this[_0x10de('0xd67')][_0x10de('0xdc')][_0x10de('0x8c')]=_0x10de('0xd68'),this[_0x10de('0xd67')]['texture'][_0x10de('0x69f')]=!0x1,this[_0x10de('0xd69')]=new THREE[(_0x10de('0x6a2'))](_0x1d0ec1,_0x40d5f8,_0x356166),this['renderTargetMaskDownSampleBuffer'][_0x10de('0xdc')][_0x10de('0x8c')]=_0x10de('0xd6a'),this[_0x10de('0xd69')][_0x10de('0xdc')][_0x10de('0x69f')]=!0x1,this[_0x10de('0xd6b')]=new THREE[(_0x10de('0x6a2'))](_0x1d0ec1,_0x40d5f8,_0x356166),this['renderTargetBlurBuffer1'][_0x10de('0xdc')][_0x10de('0x8c')]='OutlinePass.blur1',this['renderTargetBlurBuffer1'][_0x10de('0xdc')][_0x10de('0x69f')]=!0x1,this[_0x10de('0xd6c')]=new THREE['WebGLRenderTarget'](Math[_0x10de('0x1d1')](_0x1d0ec1/0x2),Math[_0x10de('0x1d1')](_0x40d5f8/0x2),_0x356166),this[_0x10de('0xd6c')][_0x10de('0xdc')][_0x10de('0x8c')]=_0x10de('0xd6d'),this[_0x10de('0xd6c')]['texture']['generateMipmaps']=!0x1,this[_0x10de('0xd6e')]=this[_0x10de('0xd6f')](),this[_0x10de('0xd70')]=new THREE[(_0x10de('0x6a2'))](_0x1d0ec1,_0x40d5f8,_0x356166),this['renderTargetEdgeBuffer1'][_0x10de('0xdc')]['name']='OutlinePass.edge1',this[_0x10de('0xd70')]['texture'][_0x10de('0x69f')]=!0x1,this[_0x10de('0xd71')]=new THREE[(_0x10de('0x6a2'))](Math[_0x10de('0x1d1')](_0x1d0ec1/0x2),Math[_0x10de('0x1d1')](_0x40d5f8/0x2),_0x356166),this[_0x10de('0xd71')][_0x10de('0xdc')]['name']=_0x10de('0xd72'),this[_0x10de('0xd71')][_0x10de('0xdc')][_0x10de('0x69f')]=!0x1,this['separableBlurMaterial1']=this[_0x10de('0xb26')](0x4),this[_0x10de('0xd73')][_0x10de('0x1b4')]['texSize'][_0x10de('0x10')]=new THREE[(_0x10de('0x1c8'))](_0x1d0ec1,_0x40d5f8),this['separableBlurMaterial1'][_0x10de('0x1b4')][_0x10de('0xd74')][_0x10de('0x10')]=0x1,this[_0x10de('0xd75')]=this['getSeperableBlurMaterial'](0x4),this['separableBlurMaterial2']['uniforms'][_0x10de('0xb27')][_0x10de('0x10')]=new THREE[(_0x10de('0x1c8'))](Math[_0x10de('0x1d1')](_0x1d0ec1/0x2),Math[_0x10de('0x1d1')](_0x40d5f8/0x2)),this[_0x10de('0xd75')][_0x10de('0x1b4')][_0x10de('0xd74')][_0x10de('0x10')]=0x4,this['overlayMaterial']=this[_0x10de('0xd76')](),void 0x0===THREE[_0x10de('0xadb')]&&console[_0x10de('0x205')](_0x10de('0xd77')),THREE[_0x10de('0xadb')]);this['copyUniforms']=THREE['UniformsUtils']['clone'](_0x276717[_0x10de('0x1b4')]),this[_0x10de('0xb31')][_0x10de('0x233')][_0x10de('0x10')]=0x1,this[_0x10de('0xb32')]=new THREE[(_0x10de('0x1f2'))]({'uniforms':this[_0x10de('0xb31')],'vertexShader':_0x276717['vertexShader'],'fragmentShader':_0x276717[_0x10de('0x5a')],'blending':THREE[_0x10de('0x68a')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this[_0x10de('0x43e')]=!0x0,this[_0x10de('0xaea')]=!0x1,this[_0x10de('0xb33')]=new THREE[(_0x10de('0x1cc'))](),this[_0x10de('0xb34')]=0x1,this[_0x10de('0xb1a')]=new THREE['Pass'][(_0x10de('0xb1b'))](null),this['tempPulseColor1']=new THREE['Color'](),this['tempPulseColor2']=new THREE[(_0x10de('0x1cc'))](),this[_0x10de('0x700')]=new THREE[(_0x10de('0x353'))]();},THREE[_0x10de('0xd5c')][_0x10de('0xa')]=(0x0,_0x1d0ec1[_0x10de('0x9')])((0x0,_0x40d5f8[_0x10de('0x9')])(THREE[_0x10de('0xb0d')][_0x10de('0xa')]),{'constructor':THREE[_0x10de('0xd5c')],'dispose':function(){this[_0x10de('0xd60')]['dispose'](),this[_0x10de('0xd67')]['dispose'](),this[_0x10de('0xd69')][_0x10de('0xce')](),this[_0x10de('0xd6b')][_0x10de('0xce')](),this[_0x10de('0xd6c')][_0x10de('0xce')](),this['renderTargetEdgeBuffer1'][_0x10de('0xce')](),this[_0x10de('0xd71')][_0x10de('0xce')]();},'setSize':function(_0x276717,_0x356166){this[_0x10de('0xd60')][_0x10de('0xeb')](_0x276717,_0x356166);_0x276717=Math[_0x10de('0x1d1')](_0x276717/this[_0x10de('0xd5e')]),_0x356166=Math[_0x10de('0x1d1')](_0x356166/this['downSampleRatio']);this[_0x10de('0xd69')]['setSize'](_0x276717,_0x356166),this[_0x10de('0xd6b')][_0x10de('0xeb')](_0x276717,_0x356166),this[_0x10de('0xd70')][_0x10de('0xeb')](_0x276717,_0x356166),this['separableBlurMaterial1'][_0x10de('0x1b4')][_0x10de('0xb27')][_0x10de('0x10')]=new THREE['Vector2'](_0x276717,_0x356166),_0x276717=Math[_0x10de('0x1d1')](_0x276717/0x2),_0x356166=Math[_0x10de('0x1d1')](_0x356166/0x2),this[_0x10de('0xd6c')][_0x10de('0xeb')](_0x276717,_0x356166),this[_0x10de('0xd71')][_0x10de('0xeb')](_0x276717,_0x356166),this[_0x10de('0xd75')][_0x10de('0x1b4')][_0x10de('0xb27')][_0x10de('0x10')]=new THREE[(_0x10de('0x1c8'))](_0x276717,_0x356166);},'changeVisibilityOfSelectedObjects':function(_0x356166){function _0x276717(_0x276717){_0x276717['isMesh']&&(_0x356166?(_0x276717[_0x10de('0x364')]=_0x276717[_0x10de('0x41')]['oldVisible'],delete _0x276717['userData']['oldVisible']):(_0x276717['userData']['oldVisible']=_0x276717[_0x10de('0x364')],_0x276717[_0x10de('0x364')]=_0x356166));}for(var _0x1d0ec1=0x0;_0x1d0ec1<this['selectedObjects'][_0x10de('0xe')];_0x1d0ec1++)this['selectedObjects'][_0x1d0ec1][_0x10de('0xd1')](_0x276717);},'changeVisibilityOfNonSelectedObjects':function(_0x2dcd64){var _0x4d155c=[];function _0x276717(_0x276717){_0x276717[_0x10de('0xd78')]&&_0x4d155c[_0x10de('0x84')](_0x276717);}for(var _0x356166=0x0;_0x356166<this[_0x10de('0xabb')][_0x10de('0xe')];_0x356166++)this['selectedObjects'][_0x356166][_0x10de('0xd1')](_0x276717);this[_0x10de('0xd5d')]['traverse'](function(_0x276717){if(_0x276717[_0x10de('0xd78')]||_0x276717[_0x10de('0xd79')]||_0x276717[_0x10de('0xd7a')]){for(var _0x356166,_0x1d0ec1=!0x1,_0x40d5f8=0x0;_0x40d5f8<_0x4d155c[_0x10de('0xe')];_0x40d5f8++)if(_0x4d155c[_0x40d5f8]['id']===_0x276717['id']){_0x1d0ec1=!0x0;break;}_0x1d0ec1||(_0x356166=_0x276717[_0x10de('0x364')],_0x2dcd64&&!_0x276717[_0x10de('0xd7b')]||(_0x276717[_0x10de('0x364')]=_0x2dcd64),_0x276717['bVisible']=_0x356166);}});},'updateTextureMatrix':function(){this[_0x10de('0x700')][_0x10de('0x1e')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),this[_0x10de('0x700')][_0x10de('0x70e')](this[_0x10de('0xd63')]['projectionMatrix']),this[_0x10de('0x700')][_0x10de('0x70e')](this[_0x10de('0xd63')][_0x10de('0x710')]);},'render':function(_0x276717,_0x356166,_0x1d0ec1,_0x40d5f8,_0x2dcd64){var _0x62ce08,_0x57274c;0x0<this[_0x10de('0xabb')]['length']&&(this[_0x10de('0xb33')][_0x10de('0x1d3')](_0x276717['getClearColor']()),this['oldClearAlpha']=_0x276717[_0x10de('0xb35')](),_0x62ce08=_0x276717[_0x10de('0xb10')],_0x276717[_0x10de('0xb10')]=!0x1,_0x2dcd64&&_0x276717[_0x10de('0xb06')][_0x10de('0x224')](_0x276717[_0x10de('0xb06')][_0x10de('0xb36')]),_0x276717[_0x10de('0xb13')](0xffffff,0x1),this[_0x10de('0xd7c')](!0x1),_0x57274c=this[_0x10de('0xd5d')]['background'],this[_0x10de('0xd5d')][_0x10de('0x4a0')]=null,this['renderScene']['overrideMaterial']=this['depthMaterial'],_0x276717['setRenderTarget'](this['renderTargetDepthBuffer']),_0x276717[_0x10de('0x69b')](),_0x276717[_0x10de('0x362')](this[_0x10de('0xd5d')],this[_0x10de('0xd63')]),this[_0x10de('0xd7c')](!0x0),this[_0x10de('0xd7d')](),this['changeVisibilityOfNonSelectedObjects'](!0x1),this[_0x10de('0xd5d')][_0x10de('0xb0f')]=this['prepareMaskMaterial'],this[_0x10de('0xd62')][_0x10de('0x1b4')][_0x10de('0xd7e')][_0x10de('0x10')]=new THREE[(_0x10de('0x1c8'))](this['renderCamera']['near'],this['renderCamera'][_0x10de('0x3a7')]),this[_0x10de('0xd62')][_0x10de('0x1b4')]['depthTexture'][_0x10de('0x10')]=this['renderTargetDepthBuffer']['texture'],this[_0x10de('0xd62')][_0x10de('0x1b4')][_0x10de('0x700')]['value']=this[_0x10de('0x700')],_0x276717[_0x10de('0x6b8')](this[_0x10de('0xd60')]),_0x276717[_0x10de('0x69b')](),_0x276717[_0x10de('0x362')](this[_0x10de('0xd5d')],this[_0x10de('0xd63')]),this[_0x10de('0xd5d')][_0x10de('0xb0f')]=null,this[_0x10de('0xd7f')](!0x0),this['renderScene'][_0x10de('0x4a0')]=_0x57274c,this[_0x10de('0xb1a')]['material']=this[_0x10de('0xb32')],this[_0x10de('0xb31')]['tDiffuse'][_0x10de('0x10')]=this[_0x10de('0xd60')][_0x10de('0xdc')],_0x276717[_0x10de('0x6b8')](this[_0x10de('0xd69')]),_0x276717[_0x10de('0x69b')](),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x276717),this[_0x10de('0xd80')]['copy'](this[_0x10de('0xabc')]),this[_0x10de('0xd81')]['copy'](this['hiddenEdgeColor']),0x0<this['pulsePeriod']&&(_0x57274c=0.625+0.75*Math[_0x10de('0x5b')](0.01*performance['now']()/this[_0x10de('0xac5')])/0x2,this['tempPulseColor1'][_0x10de('0x1d6')](_0x57274c),this[_0x10de('0xd81')][_0x10de('0x1d6')](_0x57274c)),this['fsQuad'][_0x10de('0x40')]=this[_0x10de('0xd6e')],this['edgeDetectionMaterial'][_0x10de('0x1b4')][_0x10de('0x701')][_0x10de('0x10')]=this[_0x10de('0xd69')]['texture'],this['edgeDetectionMaterial']['uniforms'][_0x10de('0xb27')][_0x10de('0x10')]=new THREE[(_0x10de('0x1c8'))](this[_0x10de('0xd69')][_0x10de('0x35d')],this[_0x10de('0xd69')][_0x10de('0x32c')]),this[_0x10de('0xd6e')]['uniforms'][_0x10de('0xabc')][_0x10de('0x10')]=this['tempPulseColor1'],this[_0x10de('0xd6e')][_0x10de('0x1b4')]['hiddenEdgeColor'][_0x10de('0x10')]=this[_0x10de('0xd81')],_0x276717['setRenderTarget'](this[_0x10de('0xd70')]),_0x276717[_0x10de('0x69b')](),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x276717),this['fsQuad'][_0x10de('0x40')]=this['separableBlurMaterial1'],this[_0x10de('0xd73')]['uniforms'][_0x10de('0xb38')]['value']=this[_0x10de('0xd70')][_0x10de('0xdc')],this[_0x10de('0xd73')][_0x10de('0x1b4')][_0x10de('0x243')][_0x10de('0x10')]=THREE[_0x10de('0xd5c')][_0x10de('0xb39')],this['separableBlurMaterial1']['uniforms'][_0x10de('0xd74')][_0x10de('0x10')]=this[_0x10de('0xac2')],_0x276717[_0x10de('0x6b8')](this[_0x10de('0xd6b')]),_0x276717[_0x10de('0x69b')](),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x276717),this[_0x10de('0xd73')]['uniforms'][_0x10de('0xb38')][_0x10de('0x10')]=this[_0x10de('0xd6b')][_0x10de('0xdc')],this[_0x10de('0xd73')][_0x10de('0x1b4')][_0x10de('0x243')][_0x10de('0x10')]=THREE[_0x10de('0xd5c')]['BlurDirectionY'],_0x276717[_0x10de('0x6b8')](this[_0x10de('0xd70')]),_0x276717[_0x10de('0x69b')](),this['fsQuad'][_0x10de('0x362')](_0x276717),this[_0x10de('0xb1a')][_0x10de('0x40')]=this[_0x10de('0xd75')],this['separableBlurMaterial2'][_0x10de('0x1b4')]['colorTexture'][_0x10de('0x10')]=this['renderTargetEdgeBuffer1'][_0x10de('0xdc')],this[_0x10de('0xd75')][_0x10de('0x1b4')][_0x10de('0x243')][_0x10de('0x10')]=THREE[_0x10de('0xd5c')]['BlurDirectionX'],_0x276717[_0x10de('0x6b8')](this[_0x10de('0xd6c')]),_0x276717['clear'](),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x276717),this[_0x10de('0xd75')][_0x10de('0x1b4')][_0x10de('0xb38')][_0x10de('0x10')]=this[_0x10de('0xd6c')]['texture'],this[_0x10de('0xd75')][_0x10de('0x1b4')][_0x10de('0x243')][_0x10de('0x10')]=THREE[_0x10de('0xd5c')][_0x10de('0xb3a')],_0x276717[_0x10de('0x6b8')](this[_0x10de('0xd71')]),_0x276717[_0x10de('0x69b')](),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x276717),this[_0x10de('0xb1a')][_0x10de('0x40')]=this[_0x10de('0xd82')],this[_0x10de('0xd82')][_0x10de('0x1b4')][_0x10de('0x701')][_0x10de('0x10')]=this['renderTargetMaskBuffer']['texture'],this['overlayMaterial'][_0x10de('0x1b4')][_0x10de('0xd83')]['value']=this[_0x10de('0xd70')][_0x10de('0xdc')],this['overlayMaterial'][_0x10de('0x1b4')][_0x10de('0xd84')]['value']=this[_0x10de('0xd71')][_0x10de('0xdc')],this['overlayMaterial'][_0x10de('0x1b4')][_0x10de('0xd85')][_0x10de('0x10')]=this['patternTexture'],this[_0x10de('0xd82')][_0x10de('0x1b4')]['edgeStrength'][_0x10de('0x10')]=this['edgeStrength'],this[_0x10de('0xd82')][_0x10de('0x1b4')][_0x10de('0xac1')][_0x10de('0x10')]=this['edgeGlow'],this[_0x10de('0xd82')]['uniforms'][_0x10de('0xac3')][_0x10de('0x10')]=this['usePatternTexture'],_0x2dcd64&&_0x276717['context'][_0x10de('0x223')](_0x276717[_0x10de('0xb06')][_0x10de('0xb36')]),_0x276717[_0x10de('0x6b8')](_0x1d0ec1),this[_0x10de('0xb1a')]['render'](_0x276717),_0x276717['setClearColor'](this[_0x10de('0xb33')],this['oldClearAlpha']),_0x276717[_0x10de('0xb10')]=_0x62ce08),this[_0x10de('0xadc')]&&(this[_0x10de('0xb1a')][_0x10de('0x40')]=this[_0x10de('0xb32')],this[_0x10de('0xb31')][_0x10de('0xb19')][_0x10de('0x10')]=_0x1d0ec1[_0x10de('0xdc')],_0x276717[_0x10de('0x6b8')](null),this[_0x10de('0xb1a')][_0x10de('0x362')](_0x276717));},'getPrepareMaskMaterial':function(){return new THREE[(_0x10de('0x1f2'))]({'uniforms':{'depthTexture':{'value':null},'cameraNearFar':{'value':new THREE['Vector2'](0.5,0.5)},'textureMatrix':{'value':new THREE['Matrix4']()}},'vertexShader':[_0x10de('0xd86'),'varying\x20vec4\x20vPosition;','uniform\x20mat4\x20textureMatrix;',_0x10de('0x18a'),_0x10de('0xd87'),_0x10de('0xd88'),_0x10de('0xd89'),'\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}'][_0x10de('0x119')]('\x0a'),'fragmentShader':[_0x10de('0xd8a'),'varying\x20vec4\x20vPosition;','varying\x20vec4\x20projTexCoord;','uniform\x20sampler2D\x20depthTexture;',_0x10de('0xd8b'),_0x10de('0x18a'),_0x10de('0xd8c'),'\x09float\x20viewZ\x20=\x20-\x20DEPTH_TO_VIEW_Z(\x20depth,\x20cameraNearFar.x,\x20cameraNearFar.y\x20);',_0x10de('0xd8d'),'\x09gl_FragColor\x20=\x20vec4(0.0,\x20depthTest,\x201.0,\x201.0);','}'][_0x10de('0x119')]('\x0a')});},'getEdgeDetectionMaterial':function(){return new THREE[(_0x10de('0x1f2'))]({'uniforms':{'maskTexture':{'value':null},'texSize':{'value':new THREE[(_0x10de('0x1c8'))](0.5,0.5)},'visibleEdgeColor':{'value':new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1)},'hiddenEdgeColor':{'value':new THREE[(_0x10de('0x1ca'))](0x1,0x1,0x1)}},'vertexShader':'varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','fragmentShader':'varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec3\x20visibleEdgeColor;\x09\x09\x09\x09uniform\x20vec3\x20hiddenEdgeColor;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09vec4\x20uvOffset\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0)\x20*\x20vec4(invSize,\x20invSize);\x09\x09\x09\x09\x09vec4\x20c1\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c2\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c3\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.yw);\x09\x09\x09\x09\x09vec4\x20c4\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.yw);\x09\x09\x09\x09\x09float\x20diff1\x20=\x20(c1.r\x20-\x20c2.r)*0.5;\x09\x09\x09\x09\x09float\x20diff2\x20=\x20(c3.r\x20-\x20c4.r)*0.5;\x09\x09\x09\x09\x09float\x20d\x20=\x20length(\x20vec2(diff1,\x20diff2)\x20);\x09\x09\x09\x09\x09float\x20a1\x20=\x20min(c1.g,\x20c2.g);\x09\x09\x09\x09\x09float\x20a2\x20=\x20min(c3.g,\x20c4.g);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x20min(a1,\x20a2);\x09\x09\x09\x09\x09vec3\x20edgeColor\x20=\x201.0\x20-\x20visibilityFactor\x20>\x200.001\x20?\x20visibleEdgeColor\x20:\x20hiddenEdgeColor;\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(edgeColor,\x201.0)\x20*\x20vec4(d);\x09\x09\x09\x09}'});},'getSeperableBlurMaterial':function(_0x276717){return new THREE['ShaderMaterial']({'defines':{'MAX_RADIUS':_0x276717},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x10de('0x1c8'))](0.5,0.5)},'direction':{'value':new THREE['Vector2'](0.5,0.5)},'kernelRadius':{'value':0x1}},'vertexShader':_0x10de('0xb3b'),'fragmentShader':'#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09uniform\x20float\x20kernelRadius;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20kernelRadius);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09vec2\x20delta\x20=\x20direction\x20*\x20invSize\x20*\x20kernelRadius/float(MAX_RADIUS);\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20delta;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<=\x20MAX_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(uvOffset.x,\x20kernelRadius);\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20((sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w);\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x20(2.0\x20*\x20w);\x09\x09\x09\x09\x09\x09uvOffset\x20+=\x20delta;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x09\x09\x09\x09}'});},'getOverlayMaterial':function(){return new THREE[(_0x10de('0x1f2'))]({'uniforms':{'maskTexture':{'value':null},'edgeTexture1':{'value':null},'edgeTexture2':{'value':null},'patternTexture':{'value':null},'edgeStrength':{'value':0x1},'edgeGlow':{'value':0x1},'usePatternTexture':{'value':0x0}},'vertexShader':_0x10de('0xb3b'),'fragmentShader':'varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20patternTexture;\x09\x09\x09\x09uniform\x20float\x20edgeStrength;\x09\x09\x09\x09uniform\x20float\x20edgeGlow;\x09\x09\x09\x09uniform\x20bool\x20usePatternTexture;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec4\x20edgeValue1\x20=\x20texture2D(edgeTexture1,\x20vUv);\x09\x09\x09\x09\x09vec4\x20edgeValue2\x20=\x20texture2D(edgeTexture2,\x20vUv);\x09\x09\x09\x09\x09vec4\x20maskColor\x20=\x20texture2D(maskTexture,\x20vUv);\x09\x09\x09\x09\x09vec4\x20patternColor\x20=\x20texture2D(patternTexture,\x206.0\x20*\x20vUv);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x201.0\x20-\x20maskColor.g\x20>\x200.0\x20?\x201.0\x20:\x200.5;\x09\x09\x09\x09\x09vec4\x20edgeValue\x20=\x20edgeValue1\x20+\x20edgeValue2\x20*\x20edgeGlow;\x09\x09\x09\x09\x09vec4\x20finalColor\x20=\x20edgeStrength\x20*\x20maskColor.r\x20*\x20edgeValue;\x09\x09\x09\x09\x09if(usePatternTexture)\x09\x09\x09\x09\x09\x09finalColor\x20+=\x20+\x20visibilityFactor\x20*\x20(1.0\x20-\x20maskColor.r)\x20*\x20(1.0\x20-\x20patternColor.r);\x09\x09\x09\x09\x09gl_FragColor\x20=\x20finalColor;\x09\x09\x09\x09}','blending':THREE[_0x10de('0x1e3')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0});}}),THREE[_0x10de('0xd5c')][_0x10de('0xb39')]=new THREE[(_0x10de('0x1c8'))](0x1,0x0),THREE[_0x10de('0xd5c')][_0x10de('0xb3a')]=new THREE['Vector2'](0x0,0x1);},function(_0x16683a,_0x2b658d,_0x2045f0){'use strict';Object['defineProperty'](_0x2b658d,_0x10de('0x5'),{'value':!0x0});var _0x41ed1d=_0x403064(_0x2045f0(0x5)),_0x4eb299=_0x403064(_0x2045f0(0x0)),_0x1089e4=_0x403064(_0x2045f0(0x1)),_0x2d50d0=_0x2045f0(0x13);function _0x403064(_0x16683a){return _0x16683a&&_0x16683a[_0x10de('0x5')]?_0x16683a:{'default':_0x16683a};}function _0x19a561(){(0x0,_0x4eb299['default'])(this,_0x19a561),this['map']=(0x0,_0x2d50d0[_0x10de('0x3b')])(),this[_0x10de('0x43e')]=!0x1,this[_0x10de('0xd8e')]=!0x1,this[_0x10de('0xd8f')]=!0x1,this[_0x10de('0xd90')]=null,this['shadowConfigs']={'bias':-0.0001,'normalBias':0x0,'radius':0x1,'mapWidth':0x800,'mapHeight':0x800},this['shadowCamera']=null,this[_0x10de('0xd91')]=null,this[_0x10de('0x8c3')]=!0x1,this[_0x10de('0x933')]=null,this[_0x10de('0xd92')]=new THREE[(_0x10de('0xd93'))](),this[_0x10de('0xd94')]=new THREE[(_0x10de('0x1ca'))]();}(0x0,_0x1089e4['default'])(_0x19a561,[{'key':_0x10de('0xd95'),'value':function(_0x16683a){var _0x2b658d;_0x16683a[_0x10de('0xd96')]&&(_0x2b658d=_0x16683a[_0x10de('0xd96')][_0x10de('0x9bf')]||_0x16683a[_0x10de('0xd96')]['far']||0x7d0,this[_0x10de('0x72e')]=new THREE['PerspectiveCamera'](0x2d,0x1,_0x16683a[_0x10de('0xd96')][_0x10de('0xd97')]*_0x2b658d,_0x16683a[_0x10de('0xd96')]['farFactor']*_0x2b658d));}},{'key':_0x10de('0x4c6'),'value':function(_0x16683a){this[_0x10de('0x43e')]=!0x0,this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x43e')]=!0x0,this['map']['mapView'][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0xd98')]=!!_0x16683a[_0x10de('0x443')],this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')]['shadowMap'][_0x10de('0x85')]=THREE[_0x10de('0xd99')];var _0x2b658d,_0x2045f0=this[_0x10de('0xcf')]['mapView'][_0x16683a[_0x10de('0x880')]];_0x16683a[_0x10de('0x335')]&&(this[_0x10de('0xd96')][_0x10de('0xd9a')]=_0x16683a[_0x10de('0x335')],this[_0x10de('0xd96')]['mapHeight']=_0x16683a[_0x10de('0x335')]),_0x2045f0&&(_0x16683a[_0x10de('0xd96')]?(_0x2045f0['position']['set'](_0x16683a[_0x10de('0xd96')][_0x10de('0x222')]['x'],_0x16683a[_0x10de('0xd96')][_0x10de('0x222')]['y'],_0x16683a[_0x10de('0xd96')][_0x10de('0x222')]['z']),(_0x2b658d=new THREE['Object3D']())[_0x10de('0x222')]['set'](_0x16683a['shadowConfigs'][_0x10de('0x304')]['x'],_0x16683a['shadowConfigs'][_0x10de('0x304')]['y'],_0x16683a['shadowConfigs'][_0x10de('0x304')]['z']),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x2b658d),_0x2045f0['target']=_0x2b658d,_0x2045f0[_0x10de('0x735')]=!0x0):(_0x2045f0[_0x10de('0x222')][_0x10de('0x1e')](0x1f4,0x2bc,-0x1f4),_0x2045f0['target'][_0x10de('0x222')]['set'](0x0,0x0,0x0),_0x2045f0[_0x10de('0x735')]=!0x0,this[_0x10de('0x72e')]=new THREE[(_0x10de('0x6b2'))](0x2d,0x1,0x2bc,0x4e2)),_0x2045f0[_0x10de('0x87e')]=new THREE[(_0x10de('0xd9b'))](this['shadowCamera']),_0x2045f0[_0x10de('0x87e')][_0x10de('0xd9c')]=0x2,_0x2045f0[_0x10de('0x87e')][_0x10de('0xd9d')]=_0x16683a[_0x10de('0xd9d')]||this[_0x10de('0xd96')][_0x10de('0xd9d')],_0x2045f0[_0x10de('0x87e')][_0x10de('0xd9c')]=_0x16683a['normalBias']||this[_0x10de('0xd96')][_0x10de('0xd9c')],_0x2045f0['shadow'][_0x10de('0x230')]=this[_0x10de('0xd96')][_0x10de('0x230')],_0x2045f0[_0x10de('0x87e')][_0x10de('0x696')][_0x10de('0x35d')]=this[_0x10de('0xd96')][_0x10de('0xd9a')],_0x2045f0[_0x10de('0x87e')][_0x10de('0x696')][_0x10de('0x32c')]=this['shadowConfigs'][_0x10de('0xd9e')],_0x16683a['debug']&&(_0x2b658d=new THREE[(_0x10de('0xd9f'))](_0x2045f0['shadow'][_0x10de('0x338')]),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x2b658d),this['shadowCameraHelper']=_0x2b658d),this[_0x10de('0xd90')]=_0x2045f0,this[_0x10de('0xda0')](_0x16683a));}},{'key':_0x10de('0xda1'),'value':function(_0x16683a){this['enabled']=!0x0,this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['enabled']=!0x0,this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')]['shadowMap'][_0x10de('0xd98')]=!!_0x16683a['debug'],this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x85')]=THREE['PCFSoftShadowMap'];var _0x2b658d=this[_0x10de('0xcf')][_0x10de('0x46c')][_0x16683a[_0x10de('0x880')]||_0x10de('0xa75')],_0x2045f0=(_0x16683a[_0x10de('0x335')]&&(this[_0x10de('0xd96')][_0x10de('0xd9a')]=_0x16683a[_0x10de('0x335')],this[_0x10de('0xd96')][_0x10de('0xd9e')]=_0x16683a[_0x10de('0x335')]),this[_0x10de('0x72e')]||(this[_0x10de('0x72e')]=new THREE[(_0x10de('0x6b2'))](0x2d,0x1,0xa,0x3e8)),new THREE[(_0x10de('0x369'))]());this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x2045f0),_0x2b658d[_0x10de('0x304')]=_0x2045f0,_0x2b658d[_0x10de('0x735')]=!0x0,_0x2b658d[_0x10de('0x87e')]=new THREE[(_0x10de('0xd9b'))](this[_0x10de('0x72e')]),_0x2b658d[_0x10de('0x87e')]['radius']=0.1,_0x2b658d[_0x10de('0x87e')][_0x10de('0xd9d')]=_0x16683a['bias']||this['shadowConfigs'][_0x10de('0xd9d')],_0x2b658d[_0x10de('0x87e')]['normalBias']=_0x16683a[_0x10de('0xd9c')]||this[_0x10de('0xd96')][_0x10de('0xd9c')],_0x2b658d[_0x10de('0x87e')][_0x10de('0x230')]=this[_0x10de('0xd96')][_0x10de('0x230')],_0x2b658d['shadow']['mapSize'][_0x10de('0x35d')]=this[_0x10de('0xd96')]['mapWidth'],_0x2b658d[_0x10de('0x87e')]['mapSize']['height']=this[_0x10de('0xd96')][_0x10de('0xd9e')],_0x16683a['debug']&&(_0x2045f0=new THREE['CameraHelper'](_0x2b658d['shadow'][_0x10de('0x338')]),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x2045f0),this[_0x10de('0xd91')]=_0x2045f0),this[_0x10de('0xd90')]=_0x2b658d;}},{'key':_0x10de('0xda2'),'value':function(_0x16683a,_0x2b658d){this[_0x10de('0x43e')]=!0x0,this['map'][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['enabled']=!0x0,this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0xd98')]=!!_0x2b658d[_0x10de('0x443')],this['map'][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x85')]=THREE[_0x10de('0xd99')],_0x2b658d[_0x10de('0x335')]&&(this[_0x10de('0xd96')][_0x10de('0xd9a')]=_0x2b658d[_0x10de('0x335')],this[_0x10de('0xd96')]['mapHeight']=_0x2b658d[_0x10de('0x335')]),this['shadowCamera']=new THREE[(_0x10de('0x6b2'))](0x2d,0x1,0xa,0x3e8);var _0x2045f0=new THREE[(_0x10de('0x369'))]();this[_0x10de('0xcf')][_0x10de('0x46c')]['scene']['add'](_0x2045f0),_0x16683a['target']=_0x2045f0,_0x16683a[_0x10de('0x735')]=!0x0,_0x16683a[_0x10de('0x87e')]=new THREE[(_0x10de('0xd9b'))](this[_0x10de('0x72e')]),_0x16683a[_0x10de('0x87e')][_0x10de('0x230')]=0.1,_0x16683a['shadow'][_0x10de('0xd9d')]=_0x2b658d[_0x10de('0xd9d')]||this[_0x10de('0xd96')]['bias'],_0x16683a['shadow'][_0x10de('0xd9c')]=_0x2b658d[_0x10de('0xd9c')]||this['shadowConfigs']['normalBias'],_0x16683a[_0x10de('0x87e')][_0x10de('0x230')]=this[_0x10de('0xd96')][_0x10de('0x230')],_0x16683a[_0x10de('0x87e')][_0x10de('0x696')][_0x10de('0x35d')]=this['shadowConfigs'][_0x10de('0xd9a')],_0x16683a[_0x10de('0x87e')]['mapSize']['height']=this[_0x10de('0xd96')][_0x10de('0xd9e')],_0x2b658d[_0x10de('0x443')]&&(_0x2045f0=new THREE[(_0x10de('0xd9f'))](_0x16683a[_0x10de('0x87e')][_0x10de('0x338')]),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x2045f0),this[_0x10de('0xd91')]=_0x2045f0),this['shadowLight']=_0x16683a,this[_0x10de('0xd90')];}},{'key':'updateShadow2','value':function(_0x16683a,_0x2b658d,_0x2045f0){var _0x4eb299;_0x16683a&&this[_0x10de('0x72e')]&&(_0x4eb299=Math[_0x10de('0x108')](this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0xda3')](),0xbb8),esmap[_0x10de('0x4f')][_0x10de('0xda4')]&&this[_0x10de('0xd8e')]&&!this[_0x10de('0xd8f')]&&this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x304')]['distanceTo'](_0x16683a[_0x10de('0x304')][_0x10de('0x222')])<Math[_0x10de('0x108')](0.25*_0x4eb299,0x64)||this[_0x10de('0xda5')](_0x16683a,_0x2b658d));}},{'key':'_updateShadowByAngle','value':function(_0x16683a,_0x2b658d){var _0x2045f0=(0x0,_0x2d50d0[_0x10de('0x28')])(_0x16683a['pitchAngle'],_0x16683a['directionAngle']),_0x2045f0=(_0x16683a[_0x10de('0x222')][_0x10de('0x1d3')](_0x2045f0),_0x2b658d[_0x10de('0xd96')][_0x10de('0x9bf')]||_0x2b658d[_0x10de('0xd96')][_0x10de('0x3a7')]||0x7d0);_0x16683a[_0x10de('0x222')]['normalize']()['multiplyScalar'](_0x2045f0)[_0x10de('0x1d5')](new THREE[(_0x10de('0x1ca'))](this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x304')]['x'],0x0,this['map'][_0x10de('0x2fc')]['target']['z'])),_0x16683a[_0x10de('0x304')][_0x10de('0x222')]['copy'](new THREE[(_0x10de('0x1ca'))](this['map'][_0x10de('0x2fc')]['target']['x'],0x0,this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x304')]['z'])),_0x16683a[_0x10de('0x304')][_0x10de('0x7c2')](!0x0),_0x2b658d[_0x10de('0xd96')]&&_0x2b658d[_0x10de('0xd96')][_0x10de('0xd97')]&&_0x2b658d[_0x10de('0xd96')][_0x10de('0xda6')]?(this['shadowCamera'][_0x10de('0x339')]=_0x2045f0*_0x2b658d[_0x10de('0xd96')][_0x10de('0xd97')],this[_0x10de('0x72e')]['far']=_0x2045f0*_0x2b658d['shadowConfigs']['farFactor']):(this[_0x10de('0x72e')][_0x10de('0x339')]=0.4*_0x2045f0,this[_0x10de('0x72e')][_0x10de('0x3a7')]=0.4*_0x2045f0*0x3),this['shadowCamera']['updateProjectionMatrix'](),_0x2b658d['debug']&&(_0x16683a[_0x10de('0x7a5')][_0x10de('0x31d')](),this[_0x10de('0xd91')]&&this[_0x10de('0xd91')][_0x10de('0x31d')]()),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')]['shadowMap'][_0x10de('0x10c')]=!0x0,this[_0x10de('0xd8e')]=!0x0;}},{'key':_0x10de('0x953'),'value':function(_0x16683a){for(var _0x2b658d=this,_0x2045f0=_0x16683a[_0x10de('0x958')],_0x4eb299=_0x16683a['isAnimate'],_0x4eb299=void 0x0===_0x4eb299||_0x4eb299,_0x16683a=_0x16683a[_0x10de('0x9cd')],_0x16683a=void 0x0===_0x16683a?1.5:_0x16683a,_0x1089e4=null,_0x403064=0x0;_0x403064<_0x2045f0[_0x10de('0x8a2')][_0x10de('0xe')];_0x403064++)_0x2045f0[_0x10de('0x8a2')][_0x403064]['name']===this[_0x10de('0xd90')][_0x10de('0x8c')]&&(_0x1089e4=_0x2045f0[_0x10de('0x8a2')][_0x403064]);this['shadowLight']&&_0x1089e4&&_0x1089e4[_0x10de('0x311')]&&_0x1089e4[_0x10de('0x301')]&&(_0x4eb299?new TWEEN[(_0x10de('0x316'))]({'directionAngle':this[_0x10de('0xd90')]['directionAngle'],'pitchAngle':this[_0x10de('0xd90')][_0x10de('0x301')],'targetX':this[_0x10de('0xd90')]['target'][_0x10de('0x222')]['x'],'targetY':this[_0x10de('0xd90')][_0x10de('0x304')]['position']['y'],'targetZ':this['shadowLight'][_0x10de('0x304')][_0x10de('0x222')]['z']})['to']({'directionAngle':_0x1089e4[_0x10de('0x311')],'pitchAngle':_0x1089e4['pitchAngle'],'targetX':_0x2045f0[_0x10de('0x87e')][_0x10de('0xd96')][_0x10de('0x304')]['x'],'targetY':_0x2045f0['shadow'][_0x10de('0xd96')][_0x10de('0x304')]['y'],'targetZ':_0x2045f0['shadow'][_0x10de('0xd96')][_0x10de('0x304')]['z']},0x3e8*_0x16683a)[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x45f')][_0x10de('0x460')])[_0x10de('0x31a')](function(){_0x2b658d[_0x10de('0xcf')][_0x10de('0x46c')]['renderer'][_0x10de('0x8ba')][_0x10de('0xd98')]=!0x0;})[_0x10de('0x31c')](function(_0x16683a){_0x2b658d[_0x10de('0xd90')][_0x10de('0x304')][_0x10de('0x222')][_0x10de('0x1e')](_0x16683a[_0x10de('0xda7')],_0x16683a['targetY'],_0x16683a[_0x10de('0xda8')]),_0x2b658d[_0x10de('0xd90')][_0x10de('0x311')]=_0x16683a[_0x10de('0x311')],_0x2b658d[_0x10de('0xd90')]['pitchAngle']=_0x16683a[_0x10de('0x301')],_0x2b658d['_updateShadowByAngle'](_0x2b658d[_0x10de('0xd90')],_0x2045f0[_0x10de('0x87e')]);})[_0x10de('0x31e')](function(){_0x2b658d[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')]['shadowMap'][_0x10de('0xd98')]=!0x1,_0x2b658d[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['enabled']=!0x0,_0x2b658d[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['needsUpdate']=!0x0;})[_0x10de('0x31b')]():(this['shadowLight'][_0x10de('0x304')]['position'][_0x10de('0x1e')](value[_0x10de('0xda7')],value[_0x10de('0xda9')],value[_0x10de('0xda8')]),this['shadowLight']['directionAngle']=_0x1089e4[_0x10de('0x311')],this[_0x10de('0xd90')][_0x10de('0x301')]=_0x1089e4[_0x10de('0x301')],this[_0x10de('0xda5')](this[_0x10de('0xd90')],_0x2045f0['shadow'])));}},{'key':_0x10de('0xdaa'),'value':function(_0x16683a){var _0x2b658d=this,_0x2045f0=_0x16683a[_0x10de('0xdab')],_0x4eb299=_0x16683a['isAnimate'],_0x16683a=_0x16683a[_0x10de('0x9cd')],_0x16683a=void 0x0===_0x16683a?1.5:_0x16683a;void 0x0===_0x4eb299||_0x4eb299?new TWEEN[(_0x10de('0x316'))]({'posX':this[_0x10de('0xd90')][_0x10de('0x222')]['x'],'posY':this[_0x10de('0xd90')][_0x10de('0x222')]['y'],'posZ':this[_0x10de('0xd90')][_0x10de('0x222')]['z'],'targetX':this[_0x10de('0xd90')][_0x10de('0x304')][_0x10de('0x222')]['x'],'targetY':this[_0x10de('0xd90')]['target'][_0x10de('0x222')]['y'],'targetZ':this[_0x10de('0xd90')][_0x10de('0x304')][_0x10de('0x222')]['z']})['to']({'posX':_0x2045f0['shadowConfigs'][_0x10de('0x222')]['x'],'posY':_0x2045f0[_0x10de('0xd96')][_0x10de('0x222')]['y'],'posZ':_0x2045f0[_0x10de('0xd96')]['position']['z'],'targetX':_0x2045f0[_0x10de('0xd96')][_0x10de('0x304')]['x'],'targetY':_0x2045f0['shadowConfigs'][_0x10de('0x304')]['y'],'targetZ':_0x2045f0['shadowConfigs'][_0x10de('0x304')]['z']},0x3e8*_0x16683a)[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x45f')][_0x10de('0x460')])[_0x10de('0x31a')](function(){_0x2b658d['map'][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')]['autoUpdate']=!0x0;})[_0x10de('0x31c')](function(_0x16683a){_0x2b658d['shadowLight']['position'][_0x10de('0x1e')](_0x16683a[_0x10de('0xdac')],_0x16683a[_0x10de('0xdad')],_0x16683a[_0x10de('0xdae')]),_0x2b658d[_0x10de('0xd90')][_0x10de('0x304')][_0x10de('0x222')][_0x10de('0x1e')](_0x16683a[_0x10de('0xda7')],_0x16683a[_0x10de('0xda9')],_0x16683a[_0x10de('0xda8')]);})[_0x10de('0x31e')](function(){_0x2b658d['map'][_0x10de('0x46c')]['renderer'][_0x10de('0x8ba')]['autoUpdate']=!0x1,_0x2b658d['map'][_0x10de('0x46c')][_0x10de('0x4ea')]['shadowMap'][_0x10de('0x43e')]=!0x0,_0x2b658d[_0x10de('0xcf')][_0x10de('0x46c')]['renderer'][_0x10de('0x8ba')][_0x10de('0x10c')]=!0x0;})[_0x10de('0x31b')]():(this[_0x10de('0xd90')][_0x10de('0x222')][_0x10de('0x1e')](_0x2045f0[_0x10de('0xd96')][_0x10de('0x222')]['x'],_0x2045f0[_0x10de('0xd96')][_0x10de('0x222')]['y'],_0x2045f0[_0x10de('0xd96')][_0x10de('0x222')]['z']),this['shadowLight'][_0x10de('0x304')][_0x10de('0x222')][_0x10de('0x1e')](_0x2045f0[_0x10de('0xd96')]['target']['x'],_0x2045f0[_0x10de('0xd96')][_0x10de('0x304')]['y'],_0x2045f0[_0x10de('0xd96')][_0x10de('0x304')]['z']),this[_0x10de('0x72e')]=new THREE[(_0x10de('0x6b2'))](0x2d,0x1,_0x2045f0[_0x10de('0xd96')][_0x10de('0xd97')],_0x2045f0[_0x10de('0xd96')]['farFactor']));}},{'key':_0x10de('0xdaf'),'value':function(_0x2b658d,_0x2045f0){var _0x4eb299=this,_0x16683a=esmap['ESEffectTool'][_0x10de('0x6fe')][_0x10de('0xdb0')]()['tileBuildingLight']||this['map']['mapView'][_0x10de('0xa75')],_0x16683a=(this[_0x10de('0xda2')](_0x16683a,_0x2b658d[_0x10de('0x87e')]),new THREE[(_0x10de('0x459'))]({'color':'#ffffff','transparent':!0x0,'depthWrite':!0x1}));_0x16683a[_0x10de('0x40f')]=function(_0x16683a){_0x16683a['fragmentShader']=_0x16683a[_0x10de('0x5a')][_0x10de('0x57')](_0x10de('0x416'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(1.0,\x200.0,\x20resultColor.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},this[_0x10de('0x933')]=new THREE['Mesh'](new THREE['PlaneBufferGeometry'](0x1,0x1),_0x16683a),this[_0x10de('0x933')][_0x10de('0x1fd')]['x']=0.5*-Math['PI'],this['shadowPlane'][_0x10de('0x707')]=!0x0,this[_0x10de('0x933')]['visible']=!0x1,this[_0x10de('0xcf')]['mapView'][_0x10de('0x467')][_0x10de('0x1d5')](this['shadowPlane']),this[_0x10de('0xdb1')](_0x2b658d[_0x10de('0x87e')]),this['map']['on'](_0x10de('0xdb2'),function(_0x16683a){setTimeout(function(){_0x4eb299[_0x10de('0xdb1')](_0x2b658d[_0x10de('0x87e')]);},0xfa0);}),this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x2d6')]('end',function(_0x16683a){_0x4eb299['updateTileShadow'](_0x2b658d[_0x10de('0x87e')],_0x2045f0);});}},{'key':_0x10de('0xdb1'),'value':function(_0x16683a,_0x2b658d){var _0x2045f0,_0x4eb299,_0x1089e4=esmap['ESEffectTool'][_0x10de('0x6fe')]['getLights']();_0x1089e4&&_0x1089e4[_0x10de('0x9b9')]&&(_0x2045f0=Math[_0x10de('0x108')](this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0xda3')](),0xfa0),esmap[_0x10de('0x4f')][_0x10de('0xda4')]&&this['isUpdated']&&this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x304')][_0x10de('0x305')](_0x1089e4[_0x10de('0x9b9')][_0x10de('0x304')][_0x10de('0x222')])<Math['max'](0.25*_0x2045f0,0x64)||(this['shadowPlane'][_0x10de('0x222')][_0x10de('0x1e')](this[_0x10de('0xcf')][_0x10de('0x2fc')]['target']['x'],0x0,this[_0x10de('0xcf')][_0x10de('0x2fc')]['target']['z']),this[_0x10de('0x933')][_0x10de('0x1e8')][_0x10de('0x1e')](0xa*_0x2045f0,0xa*_0x2045f0,0x1),_0x4eb299=(0x0,_0x2d50d0[_0x10de('0x28')])(_0x1089e4[_0x10de('0x9b9')]['pitchAngle'],_0x1089e4[_0x10de('0x9b9')]['directionAngle']),_0x1089e4['tileBuildingLight'][_0x10de('0x222')][_0x10de('0x1d3')](_0x4eb299),_0x1089e4[_0x10de('0x9b9')][_0x10de('0x222')][_0x10de('0x1d4')]()[_0x10de('0x1d6')](_0x2045f0)[_0x10de('0x1d5')](new THREE['Vector3'](this['map'][_0x10de('0x2fc')][_0x10de('0x304')]['x'],0x0,this['map'][_0x10de('0x2fc')][_0x10de('0x304')]['z'])),_0x1089e4['tileBuildingLight'][_0x10de('0x304')]['position'][_0x10de('0x1d3')](new THREE[(_0x10de('0x1ca'))](this['map'][_0x10de('0x2fc')]['target']['x'],0x0,this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x304')]['z'])),_0x1089e4[_0x10de('0x9b9')][_0x10de('0x304')][_0x10de('0x7c2')](!0x0),this['shadowCamera'][_0x10de('0x339')]=0.7*_0x2045f0,this[_0x10de('0x72e')][_0x10de('0x3a7')]=1.4*_0x2045f0,this[_0x10de('0x72e')][_0x10de('0x6aa')](),_0x16683a[_0x10de('0x443')]&&(_0x1089e4[_0x10de('0x9b9')][_0x10de('0x7a5')][_0x10de('0x31d')](),this[_0x10de('0xd91')][_0x10de('0x31d')]()),this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0x8ba')][_0x10de('0x10c')]=!0x0,this[_0x10de('0xd8e')]=!0x0));}},{'key':_0x10de('0xda0'),'value':function(_0x16683a){var _0x2b658d=(0x0,_0x2d50d0[_0x10de('0x2e')])(0x0)[_0x10de('0x4d5')](0x1)['getLayersByTypes']([esmap['ESLayerType'][_0x10de('0x97d')],esmap[_0x10de('0x4c2')]['MODEL_BASE'],esmap[_0x10de('0x4c2')][_0x10de('0x9b4')]]),_0x2045f0=!0x0,_0x4eb299=!0x1,_0x1089e4=void 0x0;try{for(var _0x403064,_0x19a561=(0x0,_0x41ed1d[_0x10de('0x9')])(_0x2b658d);!(_0x2045f0=(_0x403064=_0x19a561['next']())['done']);_0x2045f0=!0x0){var _0x184e67=_0x403064[_0x10de('0x10')],_0x17c4ad=!0x0,_0x3062f7=!0x1,_0x3d005e=void 0x0;try{for(var _0x1b55c3,_0x2b770c=(0x0,_0x41ed1d[_0x10de('0x9')])(_0x184e67[_0x10de('0x4d4')][_0x10de('0x351')]);!(_0x17c4ad=(_0x1b55c3=_0x2b770c[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x17c4ad=!0x0){var _0x3ecd3f=_0x1b55c3[_0x10de('0x10')];if(_0x3ecd3f[_0x10de('0x3e')][_0x10de('0x593')]){var _0x142d9e=!0x0,_0x5831a4=!0x1,_0x292c98=void 0x0;try{for(var _0x2a4e77,_0x255aed=(0x0,_0x41ed1d[_0x10de('0x9')])(_0x3ecd3f[_0x10de('0x3e')][_0x10de('0x593')]);!(_0x142d9e=(_0x2a4e77=_0x255aed[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x142d9e=!0x0){var _0x5b3cec=_0x2a4e77[_0x10de('0x10')],_0x56b935=+_0x16683a[_0x10de('0xdb3')]||0x5;if(_0x5b3cec[_0x10de('0xdb4')]>_0x56b935){_0x3ecd3f['castShadow']=!0x0;break;}_0x3ecd3f['receiveShadow']=!0x0;break;}}catch(_0x3d3753){_0x5831a4=!0x0,_0x292c98=_0x3d3753;}finally{try{!_0x142d9e&&_0x255aed[_0x10de('0xdf')]&&_0x255aed[_0x10de('0xdf')]();}finally{if(_0x5831a4)throw _0x292c98;}}}else _0x3ecd3f['receiveShadow']=!0x0;_0x3ecd3f[_0x10de('0x3e')][_0x10de('0xdb5')];}}catch(_0x442126){_0x3062f7=!0x0,_0x3d005e=_0x442126;}finally{try{!_0x17c4ad&&_0x2b770c['return']&&_0x2b770c[_0x10de('0xdf')]();}finally{if(_0x3062f7)throw _0x3d005e;}}}}catch(_0xa5367e){_0x4eb299=!0x0,_0x1089e4=_0xa5367e;}finally{try{!_0x2045f0&&_0x19a561['return']&&_0x19a561[_0x10de('0xdf')]();}finally{if(_0x4eb299)throw _0x1089e4;}}}},{'key':'setBuildingRoomShadow','value':function(_0x16683a,_0x2b658d){_0x16683a[_0x10de('0x4d4')][_0x10de('0xd1')](function(_0x16683a){_0x10de('0x348')===_0x16683a[_0x10de('0x85')]&&(_0x16683a[_0x10de('0x735')]=_0x2b658d,_0x16683a['receiveShadow']=_0x2b658d,_0x16683a[_0x10de('0x40')][_0x10de('0x10c')]=!0x0);});}},{'key':_0x10de('0xdb6'),'value':function(_0x4eb299,_0x1089e4){var _0x403064=this;_0x4eb299[_0x10de('0x4d4')][_0x10de('0xd1')](function(_0x16683a){var _0x2b658d=!0x0,_0x2045f0=!0x0;_0x10de('0x369')===_0x16683a['type']||'Group'===_0x16683a['type']?(_0x16683a[_0x10de('0x8c')]&&-0x1<_0x16683a['name'][_0x10de('0x4d')]('__no_receive_shadow')?_0x2045f0=!(_0x2b658d=!0x1):_0x16683a['name']&&-0x1<_0x16683a[_0x10de('0x8c')]['indexOf']('__no_cast_shadow')?_0x2045f0=!(_0x2b658d=!0x0):_0x16683a['name']&&-0x1<_0x16683a[_0x10de('0x8c')][_0x10de('0x4d')](_0x10de('0xdb7'))&&(_0x2045f0=_0x2b658d=!0x1),_0x403064[_0x10de('0xdb8')](_0x16683a,_0x2045f0,_0x2b658d)):_0x10de('0x348')===_0x16683a['type']&&(_0x4eb299[_0x10de('0xdb9')]&&(_0x2045f0=!(_0x2b658d=!0x0)),-0x1!=_0x1089e4[_0x10de('0x8f5')][_0x10de('0x4d')](_0x10de('0xdba'))&&(_0x2045f0=!(_0x2b658d=!0x0)),-0x1!=_0x1089e4['model'][_0x10de('0x4d')](_0x10de('0xdbb'))&&(_0x2045f0=!(_0x2b658d=!0x1)),-0x1!=_0x1089e4[_0x10de('0x8f5')]['indexOf'](_0x10de('0xdbc'))&&(_0x2045f0=_0x2b658d=!0x1),_0x16683a[_0x10de('0x8c')]&&-0x1<_0x16683a[_0x10de('0x8c')][_0x10de('0x4d')]('__no_receive_shadow')?_0x2045f0=!(_0x2b658d=!0x1):_0x16683a[_0x10de('0x8c')]&&-0x1<_0x16683a[_0x10de('0x8c')]['indexOf'](_0x10de('0xdbd'))?_0x2045f0=!(_0x2b658d=!0x0):_0x16683a[_0x10de('0x8c')]&&-0x1<_0x16683a['name']['indexOf'](_0x10de('0xdb7'))&&(_0x2045f0=_0x2b658d=!0x1),_0x16683a[_0x10de('0x735')]=_0x2045f0,_0x16683a[_0x10de('0x707')]=_0x2b658d);});}},{'key':_0x10de('0xdbe'),'value':function(_0x16683a,_0x2b658d){if(_0x16683a[_0x10de('0x593')]){var _0x2045f0=!0x0,_0x4eb299=!0x1,_0x1089e4=void 0x0;try{for(var _0x403064,_0x19a561=(0x0,_0x41ed1d[_0x10de('0x9')])(_0x16683a[_0x10de('0x593')]);!(_0x2045f0=(_0x403064=_0x19a561['next']())['done']);_0x2045f0=!0x0){var _0x8687d2=_0x403064[_0x10de('0x10')];this[_0x10de('0xdb6')](_0x16683a,_0x8687d2);}}catch(_0x55fe14){_0x4eb299=!0x0,_0x1089e4=_0x55fe14;}finally{try{!_0x2045f0&&_0x19a561[_0x10de('0xdf')]&&_0x19a561[_0x10de('0xdf')]();}finally{if(_0x4eb299)throw _0x1089e4;}}}else _0x16683a[_0x10de('0x8fa')]&&this[_0x10de('0xdb6')](_0x16683a,_0x16683a);}},{'key':_0x10de('0xdb8'),'value':function(_0x16683a,_0x2b658d,_0x2045f0){_0x10de('0x369')!==_0x16683a[_0x10de('0x85')]&&_0x10de('0x1d7')!==_0x16683a[_0x10de('0x85')]||_0x16683a['traverse'](function(_0x16683a){_0x10de('0x348')===_0x16683a[_0x10de('0x85')]&&(_0x16683a[_0x10de('0x735')]=_0x2b658d,_0x16683a['receiveShadow']=_0x2045f0);}),_0x10de('0x348')===_0x16683a['type']&&(_0x16683a[_0x10de('0x735')]=_0x2b658d,_0x16683a[_0x10de('0x707')]=_0x2045f0);}},{'key':_0x10de('0xdbf'),'value':function(_0x16683a){var _0x2b658d=new THREE[(_0x10de('0x799'))]({'depthPacking':THREE[_0x10de('0x79a')]}),_0x2045f0=this;_0x2b658d['onBeforeCompile']=function(_0x16683a){_0x16683a[_0x10de('0x1b4')][_0x10de('0x79b')]={'value':_0x2045f0[_0x10de('0x72e')]['matrixWorldInverse']},_0x16683a[_0x10de('0x59')]=_0x16683a['vertexShader'][_0x10de('0x57')]('#include\x20<common>\x0a',_0x10de('0x794')+_0x2045f0[_0x10de('0x760')])[_0x10de('0x57')](_0x10de('0x414'),_0x10de('0x795')+_0x2045f0[_0x10de('0x77e')])[_0x10de('0x57')](_0x10de('0x48f'),_0x2045f0[_0x10de('0x797')]);},_0x16683a[_0x10de('0x736')]=_0x2b658d;}},{'key':_0x10de('0xdc0'),'value':function(){var _0x16683a=new THREE['Quaternion']()[_0x10de('0xdc1')](new THREE[(_0x10de('0x1ca'))](0x0,0x1,0x0),this[_0x10de('0xd90')][_0x10de('0x222')]),_0x16683a=new THREE[(_0x10de('0x1ca'))](0x1,0x0,0x0)[_0x10de('0xdc2')](_0x16683a);this[_0x10de('0xd90')][_0x10de('0x222')][_0x10de('0xdc3')](_0x16683a,0x14);}}]),_0x2b658d[_0x10de('0x9')]=_0x19a561;},function(_0x224fee,_0x92e7cd,_0x24d180){'use strict';Object[_0x10de('0x2')](_0x92e7cd,_0x10de('0x5'),{'value':!0x0});var _0x50f42e=_0x5d912a(_0x24d180(0x0)),_0x2b6e54=_0x5d912a(_0x24d180(0x1)),_0x20f492=_0x24d180(0x13);function _0x5d912a(_0x224fee){return _0x224fee&&_0x224fee[_0x10de('0x5')]?_0x224fee:{'default':_0x224fee};}function _0x2a1ab3(){(0x0,_0x50f42e[_0x10de('0x9')])(this,_0x2a1ab3),this[_0x10de('0xcf')]=(0x0,_0x20f492[_0x10de('0x3b')])(),this['fog']=null;}(0x0,_0x2b6e54[_0x10de('0x9')])(_0x2a1ab3,[{'key':_0x10de('0x4c6'),'value':function(_0x224fee){_0x10de('0x343')===_0x224fee[_0x10de('0x85')]&&(this[_0x10de('0x1e7')]=new THREE[(_0x10de('0x8aa'))](0xffffff,0x0,0x3e8),_0x224fee[_0x10de('0x232')]&&this['fog'][_0x10de('0x232')][_0x10de('0x331')](_0x224fee[_0x10de('0x232')]),_0x224fee[_0x10de('0x339')]&&(this[_0x10de('0x1e7')][_0x10de('0x339')]=_0x224fee[_0x10de('0x339')]),_0x224fee['far']&&(this[_0x10de('0x1e7')][_0x10de('0x3a7')]=_0x224fee[_0x10de('0x3a7')]),this['map'][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1e7')]=this[_0x10de('0x1e7')]),_0x10de('0xdc4')===_0x224fee['type']&&(this[_0x10de('0x1e7')]=new THREE[(_0x10de('0xdc5'))](0xcccccc,0.002),_0x224fee[_0x10de('0x232')]&&this[_0x10de('0x1e7')][_0x10de('0x232')][_0x10de('0x331')](_0x224fee[_0x10de('0x232')]),_0x224fee[_0x10de('0x667')]&&(this[_0x10de('0x1e7')]['density']=_0x224fee[_0x10de('0x667')]),this[_0x10de('0xcf')][_0x10de('0x46c')]['scene'][_0x10de('0x1e7')]=this[_0x10de('0x1e7')]);}},{'key':_0x10de('0x31d'),'value':function(_0x224fee){_0x10de('0x343')===_0x224fee[_0x10de('0x85')]&&(_0x224fee[_0x10de('0x232')]&&(this[_0x10de('0x1e7')]['color'][_0x10de('0x331')](_0x224fee['color']),this[_0x10de('0x1e7')][_0x10de('0xaf4')]&&this[_0x10de('0x1e7')][_0x10de('0xaf4')][_0x10de('0x331')](_0x224fee['color'])),_0x224fee[_0x10de('0x339')]&&(this[_0x10de('0x1e7')][_0x10de('0x339')]=_0x224fee[_0x10de('0x339')]),_0x224fee[_0x10de('0x3a7')]&&(this['fog'][_0x10de('0x3a7')]=_0x224fee['far'])),_0x10de('0xdc4')===_0x224fee[_0x10de('0x85')]&&(_0x224fee['color']&&(this['fog'][_0x10de('0x232')][_0x10de('0x331')](_0x224fee[_0x10de('0x232')]),this[_0x10de('0x1e7')][_0x10de('0xaf4')]&&this['fog']['_originColor'][_0x10de('0x331')](_0x224fee['color'])),_0x224fee[_0x10de('0x667')]&&(this[_0x10de('0x1e7')]['density']=_0x224fee['density']));}}]),_0x92e7cd[_0x10de('0x9')]=_0x2a1ab3;},function(_0x4c8df9,_0xdd8e6,_0xa76f7f){'use strict';Object[_0x10de('0x2')](_0xdd8e6,_0x10de('0x5'),{'value':!0x0});var _0xbf99cd=_0x2fad6c(_0xa76f7f(0x0)),_0xf4e113=_0x2fad6c(_0xa76f7f(0x1)),_0x36128d=_0xa76f7f(0x13),_0x23be62=function(_0x4c8df9){if(_0x4c8df9&&_0x4c8df9[_0x10de('0x5')])return _0x4c8df9;var _0xdd8e6={};if(null!=_0x4c8df9)for(var _0xa76f7f in _0x4c8df9)Object[_0x10de('0xa')][_0x10de('0xb')]['call'](_0x4c8df9,_0xa76f7f)&&(_0xdd8e6[_0xa76f7f]=_0x4c8df9[_0xa76f7f]);return _0xdd8e6[_0x10de('0x9')]=_0x4c8df9,_0xdd8e6;}(_0xa76f7f(0x36));function _0x2fad6c(_0x4c8df9){return _0x4c8df9&&_0x4c8df9['__esModule']?_0x4c8df9:{'default':_0x4c8df9};}function _0x237035(){(0x0,_0xbf99cd[_0x10de('0x9')])(this,_0x237035),this[_0x10de('0xcf')]=null,this[_0x10de('0x4cd')]=null;}(0x0,_0xf4e113[_0x10de('0x9')])(_0x237035,[{'key':_0x10de('0x943'),'value':function(_0x4c8df9){this[_0x10de('0xcf')]=(0x0,_0x36128d[_0x10de('0x3b')])();var _0xdd8e6=(0x0,_0x36128d[_0x10de('0x35')])(_0x4c8df9[_0x10de('0x222')]['x'],_0x4c8df9[_0x10de('0x222')]['y']),_0xdd8e6=new THREE['Vector3'](_0xdd8e6['x'],_0x4c8df9[_0x10de('0x222')]['height'],_0xdd8e6['y']),_0xa76f7f=(0x0,_0x36128d['innerCoordTransToThree'])(_0x4c8df9[_0x10de('0x304')]['x'],_0x4c8df9[_0x10de('0x304')]['y']),_0xa76f7f=new THREE[(_0x10de('0x1ca'))](_0xa76f7f['x'],_0x4c8df9['target'][_0x10de('0x32c')],_0xa76f7f['y']);return this['video']=new _0x23be62[(_0x10de('0x9d'))]({'map':this[_0x10de('0xcf')],'position':_0xdd8e6,'target':_0xa76f7f,'receiveLayer':_0x4c8df9[_0x10de('0x7a1')],'far':_0x4c8df9[_0x10de('0x3a7')],'fov':_0x4c8df9[_0x10de('0xdc6')],'videoAspect':_0x4c8df9['videoAspect'],'isShowHelper':_0x4c8df9['showProjectorRange'],'isShowFarPlane':_0x4c8df9[_0x10de('0xdc7')]}),this[_0x10de('0x4cd')];}},{'key':_0x10de('0x7b4'),'value':function(_0x4c8df9,_0xdd8e6){this['video']&&this['video'][_0x10de('0x7b4')](_0x4c8df9?_0x10de('0xdc8'):_0x10de('0x365'));}},{'key':'updateProjectorTarget','value':function(_0x4c8df9){this[_0x10de('0x4cd')]&&(_0x4c8df9=new THREE[(_0x10de('0x1ca'))](_0x4c8df9['x'],_0x4c8df9['y'],_0x4c8df9['z']),this['video']['updateCameraTarget'](_0x4c8df9));}},{'key':_0x10de('0x7b2'),'value':function(_0x4c8df9){this[_0x10de('0x4cd')]&&this[_0x10de('0x4cd')][_0x10de('0x7b2')](_0x4c8df9);}},{'key':_0x10de('0x69b'),'value':function(){this[_0x10de('0x4cd')]&&(this[_0x10de('0x4cd')][_0x10de('0xce')](),this[_0x10de('0x4cd')]=null);}}]),_0xdd8e6['default']=_0x237035;},function(_0x537eae,_0x38dfab,_0x288f5f){'use strict';Object['defineProperty'](_0x38dfab,_0x10de('0x5'),{'value':!0x0});var _0x300420=_0x1c715e(_0x288f5f(0x0)),_0x475b5c=_0x1c715e(_0x288f5f(0x1)),_0x2a74b9=function(_0x537eae){if(_0x537eae&&_0x537eae[_0x10de('0x5')])return _0x537eae;var _0x38dfab={};if(null!=_0x537eae)for(var _0x288f5f in _0x537eae)Object['prototype'][_0x10de('0xb')][_0x10de('0x0')](_0x537eae,_0x288f5f)&&(_0x38dfab[_0x288f5f]=_0x537eae[_0x288f5f]);return _0x38dfab[_0x10de('0x9')]=_0x537eae,_0x38dfab;}(_0x288f5f(0x36)),_0x398f23=_0x288f5f(0x13);function _0x1c715e(_0x537eae){return _0x537eae&&_0x537eae[_0x10de('0x5')]?_0x537eae:{'default':_0x537eae};}function _0x4cbabb(){(0x0,_0x300420[_0x10de('0x9')])(this,_0x4cbabb),this[_0x10de('0xcf')]=(0x0,_0x398f23[_0x10de('0x3b')])(),this[_0x10de('0xdc9')]=[];}(0x0,_0x475b5c[_0x10de('0x9')])(_0x4cbabb,[{'key':_0x10de('0x92d'),'value':function(_0x537eae){var _0x38dfab=new _0x2a74b9['HeatMapEffect']({'isShowWaterRipple':!0x0}),_0x288f5f=_0x38dfab[_0x10de('0x32e')]({'curTexture':_0x537eae[_0x10de('0xa73')][_0x10de('0xdca')]['curTexture'],'nextTexture':_0x537eae[_0x10de('0xa73')][_0x10de('0xdca')][_0x10de('0x5e2')],'repeatFactor':{'x':_0x537eae['heatmap']['maxX']-_0x537eae[_0x10de('0xa73')][_0x10de('0x7b7')],'y':_0x537eae['heatmap'][_0x10de('0xdcb')]-_0x537eae[_0x10de('0xa73')]['minY']}});_0x537eae['o3d_']['material']=_0x288f5f,this[_0x10de('0xdc9')][_0x10de('0x84')](_0x38dfab);}},{'key':_0x10de('0x92e'),'value':function(_0x537eae,_0x38dfab){var _0x38dfab=new _0x2a74b9[(_0x10de('0xb9'))]({'isShowTextureRepeat':!0x0,'repeatTexPath':_0x38dfab['imgUrl'],'noiseTexPath':(0x0,_0x398f23['getConfigAssetsPath'])(_0x10de('0xa93'))}),_0x288f5f=_0x38dfab['createMaterial']({'curTexture':_0x537eae['heatmap'][_0x10de('0xdca')]['curTexture'],'nextTexture':_0x537eae['heatmap'][_0x10de('0xdca')]['nextTexture'],'repeatFactor':{'x':_0x537eae[_0x10de('0xa73')]['maxX']-_0x537eae['heatmap'][_0x10de('0x7b7')],'y':_0x537eae[_0x10de('0xa73')][_0x10de('0xdcb')]-_0x537eae[_0x10de('0xa73')][_0x10de('0x7b8')]}});_0x537eae[_0x10de('0x4d4')][_0x10de('0x40')]=_0x288f5f,this[_0x10de('0xdc9')][_0x10de('0x84')](_0x38dfab);}},{'key':_0x10de('0x362'),'value':function(_0x537eae){if(0x0<this['polyHeatMaps'][_0x10de('0xe')])for(var _0x38dfab=0x0;_0x38dfab<this[_0x10de('0xdc9')][_0x10de('0xe')];_0x38dfab++)this[_0x10de('0xdc9')][_0x38dfab][_0x10de('0x362')](_0x537eae);}}]),_0x38dfab[_0x10de('0x9')]=_0x4cbabb;},function(_0x245350,_0xb2caa4,_0x397589){'use strict';Object[_0x10de('0x2')](_0xb2caa4,_0x10de('0x5'),{'value':!0x0});var _0x26fa20=_0x538b33(_0x397589(0x0));function _0x538b33(_0x245350){return _0x245350&&_0x245350[_0x10de('0x5')]?_0x245350:{'default':_0x245350};}function _0x4e8d1c(){(0x0,_0x26fa20[_0x10de('0x9')])(this,_0x4e8d1c),this['isCanRender']=!0x1,this[_0x10de('0xdcc')]=[];}(0x0,_0x538b33(_0x397589(0x1))[_0x10de('0x9')])(_0x4e8d1c,[{'key':_0x10de('0x1d5'),'value':function(_0x245350){this[_0x10de('0xdcc')][_0x10de('0x84')](_0x245350);}},{'key':_0x10de('0xd2'),'value':function(_0x245350){_0x245350=this[_0x10de('0xdcc')][_0x10de('0x4d')](_0x245350);-0x1<_0x245350&&this['allMarkerList']['splice'](_0x245350,0x1);}},{'key':_0x10de('0x362'),'value':function(_0x245350){if(this[_0x10de('0x8c4')])for(var _0xb2caa4=0x0,_0x397589=this['allMarkerList'][_0x10de('0xe')];_0xb2caa4<_0x397589;_0xb2caa4++)this[_0x10de('0xdcc')][_0xb2caa4][_0x10de('0x550')](_0x245350);}},{'key':_0x10de('0x69b'),'value':function(){this['allMarkerList'][_0x10de('0xe')]=0x0;}},{'key':_0x10de('0xce'),'value':function(){for(var _0x245350=0x0,_0xb2caa4=this[_0x10de('0xdcc')]['length'];_0x245350<_0xb2caa4;_0x245350++)this[_0x10de('0xdcc')][_0x245350][_0x10de('0xce')]();this[_0x10de('0xdcc')][_0x10de('0xe')]=0x0;}}]),_0xb2caa4[_0x10de('0x9')]=_0x4e8d1c;},function(_0x3f0637,_0x53226d,_0x5a8cea){'use strict';Object['defineProperty'](_0x53226d,_0x10de('0x5'),{'value':!0x0});var _0x4abd0b=_0x4ad6d5(_0x5a8cea(0x0)),_0x450bce=_0x4ad6d5(_0x5a8cea(0x1)),_0x359574=_0x4ad6d5(_0x5a8cea(0x120)),_0x559dbd=_0x4ad6d5(_0x5a8cea(0x3d)),_0x5a681b=_0x4ad6d5(_0x5a8cea(0x75));function _0x4ad6d5(_0x3f0637){return _0x3f0637&&_0x3f0637[_0x10de('0x5')]?_0x3f0637:{'default':_0x3f0637};}function _0x14960e(){_0x2a8e69[_0x10de('0x31d')]();}var _0x2a8e69=null,_0x5a8cea=((0x0,_0x450bce[_0x10de('0x9')])(_0x5855a2,[{'key':'addControls','value':function(){_0x2a8e69=new _0x359574[(_0x10de('0x9'))](this['map'][_0x10de('0x46c')][_0x10de('0x338')],this[_0x10de('0xcf')][_0x10de('0x46c')]['container_']),this[_0x10de('0xdcd')]=new _0x5a681b['default'](this['map'],_0x2a8e69),_0x2a8e69['enabled']=!0x0,_0x2a8e69[_0x10de('0x7b3')]=!0x1,_0x2a8e69[_0x10de('0x322')]=!0x1,_0x2a8e69[_0x10de('0x7c3')]=0.00001;var _0x3f0637=this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x304')][_0x10de('0x1c5')]()[_0x10de('0x329')](this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x222')]['clone']())[_0x10de('0x1d4')](),_0x3f0637=this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x222')][_0x10de('0x1c5')]()[_0x10de('0x1d5')](_0x3f0637['multiplyScalar'](0.00001));_0x2a8e69[_0x10de('0x6')][_0x10de('0x222')][_0x10de('0x1d3')](this[_0x10de('0xcf')]['controls'][_0x10de('0x6')][_0x10de('0x222')]),_0x2a8e69[_0x10de('0x304')][_0x10de('0x1d3')](_0x3f0637),_0x2a8e69[_0x10de('0x6')][_0x10de('0x430')](_0x3f0637),this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x43e')]=!0x1,this[_0x10de('0xcf')][_0x10de('0x46c')]['renderer']['sortObjects']=!0x1,_0x2a8e69['autoRotate']=!0x1,_0x2a8e69[_0x10de('0xdce')]=0.4,_0x2a8e69['rotateSpeed']=0.5,this[_0x10de('0xcf')]['on'](_0x10de('0x31d'),_0x14960e);}},{'key':_0x10de('0xdcf'),'value':function(){_0x2a8e69[_0x10de('0xce')](),_0x2a8e69=null,this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x43e')]=!0x0,this['map'][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0xdd0')]=!0x0,this[_0x10de('0xcf')]['off']('update',_0x14960e);}},{'key':'backToMapControls','value':function(){_0x2a8e69[_0x10de('0xce')](),_0x2a8e69=null,this[_0x10de('0xcf')]['controls']['enabled']=!0x0,this['map'][_0x10de('0x46c')][_0x10de('0x4ea')][_0x10de('0xdd0')]=!0x0,this[_0x10de('0xcf')][_0x10de('0xdd1')](_0x10de('0x31d'),_0x14960e);var _0x3f0637=this[_0x10de('0xcf')][_0x10de('0xdd2')](0x0);_0x3f0637&&(this['map'][_0x10de('0x2fc')]['target'][_0x10de('0x1d3')](_0x3f0637),this[_0x10de('0xcf')]['controls'][_0x10de('0x6')][_0x10de('0x430')](_0x3f0637),this['map'][_0x10de('0x2fc')]['update']());}},{'key':'resetGroundPickView','value':function(_0x3f0637,_0x53226d,_0x5a8cea){new TWEEN['Tween']({'angle':_0x3f0637})['to']({'angle':_0x53226d},0x3e8)[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x318')][_0x10de('0x319')])[_0x10de('0x31c')](function(_0x3f0637,_0x53226d){_0x2a8e69[_0x10de('0x31d')]({'forcePhi':THREE['Math']['degToRad'](_0x3f0637['angle'])});})[_0x10de('0x31e')](function(){_0x5a8cea&&_0x5a8cea();})[_0x10de('0x31b')]();}},{'key':_0x10de('0xdd3'),'value':function(_0x3f0637){_0x3f0637[_0x10de('0xdd4')];var _0x3f0637=_0x3f0637[_0x10de('0x230')],_0x53226d=this,_0x5a8cea=new THREE[(_0x10de('0xd9'))]()['load'](esmap['ESEffectTool'][_0x10de('0x51')]+_0x10de('0x86f')),_0x3f0637=new THREE[(_0x10de('0x418'))](_0x3f0637,_0x3f0637),_0x5a8cea=new THREE[(_0x10de('0x40e'))]({'map':_0x5a8cea,'transparent':!0x0});this[_0x10de('0xdd5')]=new THREE[(_0x10de('0x348'))](_0x3f0637,_0x5a8cea),this[_0x10de('0xdd5')][_0x10de('0x349')]=0x46,this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](this['pickAnimateObj']),this[_0x10de('0xcf')]['on']('click',function(_0x3f0637){_0x53226d['pickAnimateObj']&&_0x3f0637[_0x10de('0xdd6')]&&_0x3f0637[_0x10de('0x6')]&&_0x10de('0x348')===_0x3f0637[_0x10de('0x6')][_0x10de('0x85')]&&_0x10de('0x7d')===_0x3f0637[_0x10de('0x6')][_0x10de('0x7d6')]&&!_0x53226d[_0x10de('0xdd7')]&&_0x53226d['updateGroundPick'](_0x3f0637);});}},{'key':_0x10de('0xdd8'),'value':function(_0x3f0637){this[_0x10de('0xdd7')]=!0x0;var _0x53226d,_0x5a8cea=_0x3f0637[_0x10de('0x358')]['clone'](),_0x4abd0b=this['map'][_0x10de('0xdd9')](_0x5a8cea);this[_0x10de('0xdda')](_0x4abd0b)?((_0x4abd0b=_0x3f0637[_0x10de('0xdd6')]['normal'][_0x10de('0x1c5')]())[_0x10de('0xddb')](_0x3f0637[_0x10de('0x6')][_0x10de('0x3a0')]),_0x4abd0b[_0x10de('0x1d6')](0.1),_0x4abd0b[_0x10de('0x1d5')](_0x5a8cea),(_0x53226d=_0x3f0637['face'][_0x10de('0x711')][_0x10de('0x1c5')]())['transformDirection'](_0x3f0637['object']['matrixWorld']),_0x53226d[_0x10de('0x1d6')](0.05),_0x53226d[_0x10de('0x1d5')](_0x5a8cea),this[_0x10de('0xdd5')][_0x10de('0x222')]['copy'](_0x53226d),this[_0x10de('0xdd5')][_0x10de('0x430')](_0x4abd0b),this[_0x10de('0xddc')](new THREE[(_0x10de('0x1ca'))](_0x53226d['x'],this[_0x10de('0xcf')][_0x10de('0x46c')][_0x10de('0x338')][_0x10de('0x222')]['y'],_0x53226d['z']))):this[_0x10de('0xdd7')]=!0x1;}},{'key':_0x10de('0xdda'),'value':function(_0x3f0637){_0x3f0637=this[_0x10de('0xcf')]['raycastByCoord']({'startCoord':{'x':_0x3f0637['x'],'y':_0x3f0637['y'],'z':0x3},'endCoord':{'x':_0x3f0637['x'],'y':_0x3f0637['y'],'z':0x0},'debug':!0x1,'mode':_0x10de('0x1f6')});if(_0x3f0637&&0x3*0.99<0x3-_0x3f0637['point']['y'])return!0x0;return!0x1;}},{'key':_0x10de('0xddc'),'value':function(_0x3f0637){this[_0x10de('0xdd7')]=!0x1;var _0x5a8cea,_0x53226d=_0x3f0637['clone']()[_0x10de('0x305')](this[_0x10de('0xcf')][_0x10de('0x2fc')][_0x10de('0x6')]['position']),_0x53226d=(_0x2a8e69[_0x10de('0xddd')]=_0x5a8cea=0.1*_0x53226d,_0x2a8e69[_0x10de('0x304')]['clone']()[_0x10de('0x329')](this['map'][_0x10de('0x2fc')][_0x10de('0x6')]['position']['clone']())[_0x10de('0x1d4')]()),_0x53226d=this[_0x10de('0xcf')]['controls']['object'][_0x10de('0x222')][_0x10de('0x1c5')]()[_0x10de('0x1d5')](_0x53226d[_0x10de('0x1d6')](_0x5a8cea));_0x2a8e69[_0x10de('0x304')]=_0x53226d,new TWEEN[(_0x10de('0x316'))](_0x2a8e69[_0x10de('0x304')])['to'](_0x3f0637,0x7d0)[_0x10de('0x361')](TWEEN[_0x10de('0x317')][_0x10de('0x318')][_0x10de('0xdde')])['onUpdate'](function(_0x3f0637,_0x53226d){_0x2a8e69['maxDistance']=(_0x5a8cea-0.00001)*(0x1-_0x53226d)+0.00001;})[_0x10de('0x31e')](function(){})[_0x10de('0x31b')]();}},{'key':_0x10de('0xddf'),'value':function(_0x3f0637){var _0x53226d=this,_0x5a8cea=_0x3f0637[_0x10de('0x1c5')]()['sub'](this[_0x10de('0xcf')][_0x10de('0x2fc')]['object']['position']['clone']())['normalize'](),_0x5a8cea=_0x3f0637[_0x10de('0x1c5')]()['add'](_0x5a8cea[_0x10de('0x1d6')](0.00001));THREE[_0x10de('0x18')][_0x10de('0xaa8')](_0x2a8e69[_0x10de('0xde0')]()),THREE[_0x10de('0x18')][_0x10de('0xaa8')](_0x2a8e69[_0x10de('0xde1')]()),_0x53226d[_0x10de('0xdcd')][_0x10de('0x30f')](_0x3f0637[_0x10de('0x1c5')](),_0x5a8cea,0x7d0,function(){_0x53226d[_0x10de('0xdd7')]=!0x1;});}},{'key':_0x10de('0xde2'),'value':function(_0x3f0637,_0x53226d){_0x2a8e69[_0x10de('0x304')][_0x10de('0x1d3')](_0x53226d),new TWEEN['Tween'](_0x3f0637)['to'](_0x53226d,0x7d0)[_0x10de('0x361')](TWEEN['Easing'][_0x10de('0x318')][_0x10de('0x319')])[_0x10de('0x31c')](function(_0x3f0637,_0x53226d){_0x53226d<0.99&&_0x2a8e69['object'][_0x10de('0x222')][_0x10de('0x1d3')](_0x3f0637);})['start']();}},{'key':_0x10de('0xde3'),'value':function(_0x3f0637,_0x53226d){_0x53226d=new THREE['Mesh'](new THREE[(_0x10de('0x497'))](0x2),new THREE[(_0x10de('0x40e'))]({'color':_0x53226d}));_0x53226d[_0x10de('0x222')]['copy'](_0x3f0637),this['map'][_0x10de('0x46c')][_0x10de('0x467')][_0x10de('0x1d5')](_0x53226d);}},{'key':_0x10de('0xde4'),'value':function(){_0x559dbd[_0x10de('0x9')][_0x10de('0xde5')](this[_0x10de('0xdd5')]),this['pickAnimateObj']=null;}}]),_0x5855a2);function _0x5855a2(_0x3f0637){(0x0,_0x4abd0b['default'])(this,_0x5855a2),this[_0x10de('0xcf')]=_0x3f0637,this['pickAnimateObj']=null,this[_0x10de('0x884')]=new _0x5a681b['default'](this[_0x10de('0xcf')],this[_0x10de('0xcf')]['controls']),this[_0x10de('0xdcd')]=null,this[_0x10de('0xdd7')]=!0x1;}_0x53226d[_0x10de('0x9')]=_0x5a8cea;},function(_0xccbdb0,_0x25ff6e,_0x316e52){'use strict';Object[_0x10de('0x2')](_0x25ff6e,_0x10de('0x5'),{'value':!0x0});var _0x1da975=_0x13a047(_0x316e52(0x5a)),_0x316e52=_0x13a047(_0x316e52(0x25));function _0x13a047(_0xccbdb0){return _0xccbdb0&&_0xccbdb0[_0x10de('0x5')]?_0xccbdb0:{'default':_0xccbdb0};}function _0x1dc322(_0xccbdb0,_0x25ff6e){this[_0x10de('0x6')]=_0xccbdb0,this['domElement']=void 0x0!==_0x25ff6e?_0x25ff6e:document,this[_0x10de('0x43e')]=!0x0,this[_0x10de('0x304')]=new THREE[(_0x10de('0x1ca'))](),this[_0x10de('0x7c3')]=0x0,this[_0x10de('0xddd')]=0x1/0x0,this[_0x10de('0xde6')]=0x0,this[_0x10de('0xde7')]=0x1/0x0,this['minPolarAngle']=0x0,this[_0x10de('0xde8')]=Math['PI'],this[_0x10de('0xde9')]=-0x1/0x0,this[_0x10de('0xdea')]=0x1/0x0,this['enableDamping']=!0x1,this[_0x10de('0xdeb')]=0.25,this['enableZoom']=!0x0,this['zoomSpeed']=0x1,this[_0x10de('0x321')]=!0x0,this[_0x10de('0x5f9')]=0x1,this[_0x10de('0x7b3')]=!0x0,this[_0x10de('0xdec')]=0x1,this[_0x10de('0xded')]=!0x1,this['keyPanSpeed']=0x7,this['autoRotate']=!0x1,this['autoRotateSpeed']=0x2,this[_0x10de('0xdee')]=!0x0,this[_0x10de('0x61')]={'LEFT':0x25,'UP':0x26,'RIGHT':0x27,'BOTTOM':0x28},this[_0x10de('0xdef')]={'LEFT':THREE[_0x10de('0xdf0')][_0x10de('0xdf1')],'MIDDLE':THREE['MOUSE'][_0x10de('0xdf2')],'RIGHT':THREE['MOUSE'][_0x10de('0xdf3')]},this['target0']=this[_0x10de('0x304')][_0x10de('0x1c5')](),this[_0x10de('0xdf4')]=this[_0x10de('0x6')]['position'][_0x10de('0x1c5')](),this[_0x10de('0xdf5')]=this['object'][_0x10de('0xdf6')],this[_0x10de('0xde0')]=function(){return _0x4cb127[_0x10de('0x4a4')];},this[_0x10de('0xde1')]=function(){return _0x4cb127[_0x10de('0x4ae')];},this[_0x10de('0xdf7')]=function(){_0x47604e['target0'][_0x10de('0x1d3')](_0x47604e['target']),_0x47604e[_0x10de('0xdf4')]['copy'](_0x47604e[_0x10de('0x6')][_0x10de('0x222')]),_0x47604e[_0x10de('0xdf5')]=_0x47604e[_0x10de('0x6')][_0x10de('0xdf6')];},this[_0x10de('0x21c')]=function(){_0x47604e[_0x10de('0x304')][_0x10de('0x1d3')](_0x47604e['target0']),_0x47604e[_0x10de('0x6')][_0x10de('0x222')]['copy'](_0x47604e['position0']),_0x47604e[_0x10de('0x6')]['zoom']=_0x47604e[_0x10de('0xdf5')],_0x47604e[_0x10de('0x6')][_0x10de('0x6aa')](),_0x47604e[_0x10de('0x2ef')](_0x27a5e7),_0x47604e[_0x10de('0x31d')](),_0x304075=_0x2698ba[_0x10de('0xdf8')];},this[_0x10de('0x31d')]=(_0x316e52=new THREE[(_0x10de('0x1ca'))](),_0x1da975=new THREE[(_0x10de('0xdf9'))]()['setFromUnitVectors'](_0xccbdb0['up'],new THREE['Vector3'](0x0,0x1,0x0)),_0x13a047=_0x1da975[_0x10de('0x1c5')]()['inverse'](),_0x1dc322=new THREE[(_0x10de('0x1ca'))](),_0x57f659=new THREE[(_0x10de('0xdf9'))](),function(_0xccbdb0){var _0x25ff6e=_0x47604e[_0x10de('0x6')][_0x10de('0x222')];return _0x316e52['copy'](_0x25ff6e)[_0x10de('0x329')](_0x47604e['target']),_0x316e52[_0x10de('0xdc2')](_0x1da975),_0x4cb127[_0x10de('0xdfa')](_0x316e52),_0x47604e['autoRotate']&&_0x304075===_0x2698ba['NONE']&&_0x3cd9ca(0x2*Math['PI']/0x3c/0x3c*_0x47604e[_0x10de('0xdce')]),_0x4cb127[_0x10de('0x4ae')]+=_0x5960cf['theta'],_0x4cb127['phi']+=_0x5960cf[_0x10de('0x4a4')],_0xccbdb0&&(_0xccbdb0[_0x10de('0xb')]('forceTheta')&&(_0x4cb127[_0x10de('0x4ae')]=_0xccbdb0['forceTheta'],_0x5960cf[_0x10de('0x4ae')]=0x0),_0xccbdb0[_0x10de('0xb')]('forcePhi')&&(_0x4cb127[_0x10de('0x4a4')]=_0xccbdb0[_0x10de('0xdfb')],_0x5960cf['phi']=0x0),_0xccbdb0[_0x10de('0xb')](_0x10de('0xdfc'))&&(_0x4cb127['radius']=_0xccbdb0[_0x10de('0xdfc')],_0x3cccdd=0x1)),_0x4cb127[_0x10de('0x4ae')]=Math[_0x10de('0x108')](_0x47604e['minAzimuthAngle'],Math[_0x10de('0x8e')](_0x47604e[_0x10de('0xdea')],_0x4cb127[_0x10de('0x4ae')])),_0x4cb127[_0x10de('0x4a4')]=Math[_0x10de('0x108')](_0x47604e['minPolarAngle'],Math['min'](_0x47604e['maxPolarAngle'],_0x4cb127[_0x10de('0x4a4')])),_0x4cb127[_0x10de('0xdfd')](),_0x4cb127[_0x10de('0x230')]*=_0x3cccdd,_0x4cb127[_0x10de('0x230')]=Math[_0x10de('0x108')](_0x47604e[_0x10de('0x7c3')],Math['min'](_0x47604e[_0x10de('0xddd')],_0x4cb127[_0x10de('0x230')])),_0x47604e[_0x10de('0x304')][_0x10de('0x1d5')](_0x52a5c6),_0x316e52[_0x10de('0xdfe')](_0x4cb127),_0x316e52[_0x10de('0xdc2')](_0x13a047),_0x25ff6e[_0x10de('0x1d3')](_0x47604e[_0x10de('0x304')])[_0x10de('0x1d5')](_0x316e52),_0x47604e[_0x10de('0x6')][_0x10de('0x430')](_0x47604e[_0x10de('0x304')]),!0x0===_0x47604e['enableDamping']?(_0x5960cf[_0x10de('0x4ae')]*=0x1-_0x47604e['dampingFactor'],_0x5960cf['phi']*=0x1-_0x47604e[_0x10de('0xdeb')],_0x52a5c6[_0x10de('0x1d6')](0x1-_0x47604e['dampingFactor'])):(_0x5960cf[_0x10de('0x1e')](0x0,0x0,0x0),_0x52a5c6[_0x10de('0x1e')](0x0,0x0,0x0)),_0x3cccdd=0x1,!(!(_0x5026be||_0x1dc322[_0x10de('0xdff')](_0x47604e[_0x10de('0x6')][_0x10de('0x222')])>_0x31e93f||0x8*(0x1-_0x57f659[_0x10de('0x70a')](_0x47604e[_0x10de('0x6')][_0x10de('0xe00')]))>_0x31e93f)||(_0x47604e['dispatchEvent'](_0x27a5e7),_0x1dc322[_0x10de('0x1d3')](_0x47604e[_0x10de('0x6')]['position']),_0x57f659[_0x10de('0x1d3')](_0x47604e[_0x10de('0x6')][_0x10de('0xe00')]),_0x5026be=!0x1));}),this[_0x10de('0xce')]=function(){_0x47604e[_0x10de('0xe01')]['removeEventListener']('contextmenu',_0x1e3221,!0x1),_0x47604e[_0x10de('0xe01')][_0x10de('0x54b')]('mousedown',_0x5756ad,!0x1),_0x47604e[_0x10de('0xe01')][_0x10de('0x54b')](_0x10de('0xe02'),_0x187570,!0x1),_0x47604e[_0x10de('0xe01')][_0x10de('0x54b')](_0x10de('0xe03'),_0x40239b,!0x1),_0x47604e[_0x10de('0xe01')][_0x10de('0x54b')](_0x10de('0xe04'),_0x2379b5,!0x1),_0x47604e[_0x10de('0xe01')]['removeEventListener']('touchmove',_0x4c27eb,!0x1),document[_0x10de('0x54b')](_0x10de('0xe05'),_0x15ccaa,!0x1),document[_0x10de('0x54b')](_0x10de('0xe06'),_0x46b275,!0x1),window[_0x10de('0x54b')](_0x10de('0xe07'),_0x5ef51f,!0x1);};var _0x316e52,_0x1da975,_0x13a047,_0x1dc322,_0x57f659,_0x47604e=this,_0x27a5e7={'type':'change'},_0x247b80={'type':_0x10de('0x31b')},_0x516a9f={'type':_0x10de('0x42e')},_0x2698ba={'NONE':-0x1,'ROTATE':0x0,'DOLLY':0x1,'PAN':0x2,'TOUCH_ROTATE':0x3,'TOUCH_DOLLY_PAN':0x4},_0x304075=_0x2698ba[_0x10de('0xdf8')],_0x31e93f=0.000001,_0x4cb127=new THREE[(_0x10de('0xd93'))](),_0x5960cf=new THREE[(_0x10de('0xd93'))](),_0x3cccdd=0x1,_0x52a5c6=new THREE[(_0x10de('0x1ca'))](),_0x5026be=!0x1,_0x521b14=new THREE[(_0x10de('0x1c8'))](),_0x29a515=new THREE[(_0x10de('0x1c8'))](),_0x55e37b=new THREE[(_0x10de('0x1c8'))](),_0x2ab314=new THREE[(_0x10de('0x1c8'))](),_0x300c24=new THREE['Vector2'](),_0x1de32a=new THREE[(_0x10de('0x1c8'))](),_0x334d7d=new THREE[(_0x10de('0x1c8'))](),_0x7a7394=new THREE[(_0x10de('0x1c8'))](),_0x3bdd13=new THREE[(_0x10de('0x1c8'))]();function _0x4f29ac(){return Math[_0x10de('0x345')](0.95,_0x47604e[_0x10de('0x300')]);}function _0x3cd9ca(_0xccbdb0){_0x5960cf[_0x10de('0x4ae')]-=_0xccbdb0;}function _0x42d707(_0xccbdb0){_0x5960cf[_0x10de('0x4a4')]-=_0xccbdb0;}function _0x4a27a3(_0xccbdb0,_0x25ff6e){_0x54228a[_0x10de('0xe08')](_0x25ff6e,0x0),_0x54228a[_0x10de('0x1d6')](-_0xccbdb0),_0x52a5c6[_0x10de('0x1d5')](_0x54228a);}function _0x4e7693(_0xccbdb0,_0x25ff6e){!0x0===_0x47604e[_0x10de('0xded')]?_0xd22fa1[_0x10de('0xe08')](_0x25ff6e,0x1):(_0xd22fa1[_0x10de('0xe08')](_0x25ff6e,0x0),_0xd22fa1['crossVectors'](_0x47604e[_0x10de('0x6')]['up'],_0xd22fa1)),_0xd22fa1[_0x10de('0x1d6')](_0xccbdb0),_0x52a5c6[_0x10de('0x1d5')](_0xd22fa1);}var _0x54228a,_0xd22fa1,_0x353a76,_0x54228a=new THREE['Vector3'](),_0x146b69=(_0xd22fa1=new THREE[(_0x10de('0x1ca'))](),_0x353a76=new THREE[(_0x10de('0x1ca'))](),function(_0xccbdb0,_0x25ff6e){var _0x316e52,_0x1da975=_0x47604e[_0x10de('0xe01')]===document?_0x47604e[_0x10de('0xe01')][_0x10de('0xe09')]:_0x47604e['domElement'];_0x47604e['object'][_0x10de('0xd64')]?(_0x316e52=_0x47604e['object'][_0x10de('0x222')],_0x353a76[_0x10de('0x1d3')](_0x316e52)[_0x10de('0x329')](_0x47604e[_0x10de('0x304')]),_0x316e52=_0x353a76['length'](),_0x316e52*=Math['tan'](_0x47604e[_0x10de('0x6')][_0x10de('0xdc6')]/0x2*Math['PI']/0xb4),_0x4a27a3(0x2*_0xccbdb0*_0x316e52/_0x1da975[_0x10de('0xe0a')],_0x47604e[_0x10de('0x6')][_0x10de('0x806')]),_0x4e7693(0x2*_0x25ff6e*_0x316e52/_0x1da975[_0x10de('0xe0a')],_0x47604e[_0x10de('0x6')]['matrix'])):_0x47604e['object'][_0x10de('0xe0b')]?(_0x4a27a3(_0xccbdb0*(_0x47604e['object'][_0x10de('0x6a8')]-_0x47604e[_0x10de('0x6')][_0x10de('0x37b')])/_0x47604e[_0x10de('0x6')]['zoom']/_0x1da975[_0x10de('0xe0c')],_0x47604e[_0x10de('0x6')]['matrix']),_0x4e7693(_0x25ff6e*(_0x47604e[_0x10de('0x6')][_0x10de('0x588')]-_0x47604e[_0x10de('0x6')][_0x10de('0x6a9')])/_0x47604e[_0x10de('0x6')][_0x10de('0xdf6')]/_0x1da975[_0x10de('0xe0a')],_0x47604e[_0x10de('0x6')][_0x10de('0x806')])):_0x47604e[_0x10de('0x7b3')]=!0x1;});function _0x3d30e1(_0xccbdb0){_0x47604e[_0x10de('0x6')][_0x10de('0xd64')]?_0x3cccdd/=_0xccbdb0:_0x47604e[_0x10de('0x6')][_0x10de('0xe0b')]?(_0x47604e[_0x10de('0x6')][_0x10de('0xdf6')]=Math[_0x10de('0x108')](_0x47604e[_0x10de('0xde6')],Math[_0x10de('0x8e')](_0x47604e[_0x10de('0xde7')],_0x47604e['object'][_0x10de('0xdf6')]*_0xccbdb0)),_0x47604e[_0x10de('0x6')]['updateProjectionMatrix'](),_0x5026be=!0x0):_0x47604e[_0x10de('0x322')]=!0x1;}function _0x588a97(_0xccbdb0){_0x47604e['object']['isPerspectiveCamera']?_0x3cccdd*=_0xccbdb0:_0x47604e[_0x10de('0x6')][_0x10de('0xe0b')]?(_0x47604e[_0x10de('0x6')][_0x10de('0xdf6')]=Math[_0x10de('0x108')](_0x47604e[_0x10de('0xde6')],Math[_0x10de('0x8e')](_0x47604e['maxZoom'],_0x47604e['object'][_0x10de('0xdf6')]/_0xccbdb0)),_0x47604e[_0x10de('0x6')][_0x10de('0x6aa')](),_0x5026be=!0x0):_0x47604e[_0x10de('0x322')]=!0x1;}function _0x6e5c57(_0xccbdb0){_0x2ab314[_0x10de('0x1e')](_0xccbdb0[_0x10de('0x376')],_0xccbdb0[_0x10de('0x37a')]);}function _0x5756ad(_0xccbdb0){if(!0x1!==_0x47604e[_0x10de('0x43e')]){switch(_0xccbdb0[_0x10de('0xe0d')](),(_0x47604e[_0x10de('0xe01')][_0x10de('0xe0e')]?_0x47604e[_0x10de('0xe01')]:window)['focus'](),_0xccbdb0[_0x10de('0xe0f')]){case _0x47604e[_0x10de('0xdef')]['LEFT']:if(_0xccbdb0['ctrlKey']||_0xccbdb0[_0x10de('0xe10')]||_0xccbdb0[_0x10de('0xe11')]){if(!0x1===_0x47604e[_0x10de('0x7b3')])return;_0x6e5c57(_0xccbdb0),_0x304075=_0x2698ba[_0x10de('0xe12')];}else{if(!0x1===_0x47604e[_0x10de('0x321')])return;_0x521b14[_0x10de('0x1e')](_0xccbdb0[_0x10de('0x376')],_0xccbdb0[_0x10de('0x37a')]),_0x304075=_0x2698ba[_0x10de('0xe13')];}break;case _0x47604e['mouseButtons'][_0x10de('0xdf2')]:if(!0x1===_0x47604e['enableZoom'])return;_0x334d7d['set'](_0xccbdb0[_0x10de('0x376')],_0xccbdb0['clientY']),_0x304075=_0x2698ba[_0x10de('0xe14')];break;case _0x47604e[_0x10de('0xdef')][_0x10de('0xdf3')]:if(!0x1===_0x47604e[_0x10de('0x7b3')])return;_0x6e5c57(_0xccbdb0),_0x304075=_0x2698ba[_0x10de('0xe12')];}_0x304075!==_0x2698ba[_0x10de('0xdf8')]&&(document[_0x10de('0x2d6')]('mousemove',_0x15ccaa,!0x1),document[_0x10de('0x2d6')]('mouseup',_0x46b275,!0x1),_0x47604e[_0x10de('0x2ef')](_0x247b80));}}function _0x15ccaa(_0xccbdb0){var _0x25ff6e;if(!0x1!==_0x47604e[_0x10de('0x43e')])switch(_0xccbdb0[_0x10de('0xe0d')](),_0x304075){case _0x2698ba[_0x10de('0xe13')]:if(!0x1===_0x47604e[_0x10de('0x321')])return;_0x29a515[_0x10de('0x1e')](_0xccbdb0[_0x10de('0x376')],_0xccbdb0['clientY']),_0x55e37b['subVectors'](_0x29a515,_0x521b14)['multiplyScalar'](_0x47604e[_0x10de('0x5f9')]),_0x25ff6e=_0x47604e[_0x10de('0xe01')]===document?_0x47604e[_0x10de('0xe01')][_0x10de('0xe09')]:_0x47604e[_0x10de('0xe01')],_0x3cd9ca(0x2*Math['PI']*_0x55e37b['x']/_0x25ff6e['clientHeight']),_0x42d707(0x2*Math['PI']*_0x55e37b['y']/_0x25ff6e[_0x10de('0xe0a')]),_0x521b14[_0x10de('0x1d3')](_0x29a515),_0x47604e[_0x10de('0x31d')]();break;case _0x2698ba['DOLLY']:if(!0x1===_0x47604e['enableZoom'])return;_0x7a7394['set'](_0xccbdb0['clientX'],_0xccbdb0[_0x10de('0x37a')]),_0x3bdd13[_0x10de('0x34c')](_0x7a7394,_0x334d7d),0x0<_0x3bdd13['y']?_0x3d30e1(_0x4f29ac()):_0x3bdd13['y']<0x0&&_0x588a97(_0x4f29ac()),_0x334d7d['copy'](_0x7a7394),_0x47604e[_0x10de('0x31d')]();break;case _0x2698ba[_0x10de('0xe12')]:if(!0x1===_0x47604e[_0x10de('0x7b3')])return;_0x300c24['set'](_0xccbdb0['clientX'],_0xccbdb0[_0x10de('0x37a')]),_0x1de32a['subVectors'](_0x300c24,_0x2ab314)[_0x10de('0x1d6')](_0x47604e[_0x10de('0xdec')]),_0x146b69(_0x1de32a['x'],_0x1de32a['y']),_0x2ab314[_0x10de('0x1d3')](_0x300c24),_0x47604e[_0x10de('0x31d')]();}}function _0x46b275(_0xccbdb0){!0x1!==_0x47604e[_0x10de('0x43e')]&&(document[_0x10de('0x54b')](_0x10de('0xe05'),_0x15ccaa,!0x1),document[_0x10de('0x54b')](_0x10de('0xe06'),_0x46b275,!0x1),_0x47604e[_0x10de('0x2ef')](_0x516a9f),_0x304075=_0x2698ba['NONE']);}function _0x187570(_0xccbdb0){!0x1===_0x47604e['enabled']||!0x1===_0x47604e[_0x10de('0x322')]||_0x304075!==_0x2698ba[_0x10de('0xdf8')]&&_0x304075!==_0x2698ba[_0x10de('0xe13')]||(_0xccbdb0['preventDefault'](),_0xccbdb0['stopPropagation'](),_0x47604e[_0x10de('0x2ef')](_0x247b80),(_0xccbdb0=_0xccbdb0)[_0x10de('0xe15')]<0x0?_0x588a97(_0x4f29ac()):0x0<_0xccbdb0[_0x10de('0xe15')]&&_0x3d30e1(_0x4f29ac()),_0x47604e[_0x10de('0x31d')](),_0x47604e[_0x10de('0x2ef')](_0x516a9f));}function _0x5ef51f(_0xccbdb0){if(!0x1!==_0x47604e['enabled']&&!0x1!==_0x47604e[_0x10de('0xdee')]&&!0x1!==_0x47604e[_0x10de('0x7b3')]){var _0x25ff6e=!0x1;switch(_0xccbdb0[_0x10de('0xe16')]){case _0x47604e[_0x10de('0x61')]['UP']:_0x146b69(0x0,_0x47604e[_0x10de('0xe17')]),_0x25ff6e=!0x0;break;case _0x47604e[_0x10de('0x61')][_0x10de('0xe18')]:_0x146b69(0x0,-_0x47604e[_0x10de('0xe17')]),_0x25ff6e=!0x0;break;case _0x47604e[_0x10de('0x61')][_0x10de('0xdf1')]:_0x146b69(_0x47604e[_0x10de('0xe17')],0x0),_0x25ff6e=!0x0;break;case _0x47604e[_0x10de('0x61')][_0x10de('0xdf3')]:_0x146b69(-_0x47604e['keyPanSpeed'],0x0),_0x25ff6e=!0x0;}_0x25ff6e&&(_0xccbdb0[_0x10de('0xe0d')](),_0x47604e[_0x10de('0x31d')]());}}function _0x40239b(_0xccbdb0){if(!0x1!==_0x47604e[_0x10de('0x43e')]){switch(_0xccbdb0['preventDefault'](),_0xccbdb0[_0x10de('0xe19')]['length']){case 0x1:if(!0x1===_0x47604e[_0x10de('0x321')])return;_0x521b14[_0x10de('0x1e')](_0xccbdb0[_0x10de('0xe19')][0x0][_0x10de('0xe1a')],_0xccbdb0[_0x10de('0xe19')][0x0][_0x10de('0xe1b')]),_0x304075=_0x2698ba[_0x10de('0xe1c')];break;case 0x2:if(!0x1===_0x47604e[_0x10de('0x322')]&&!0x1===_0x47604e['enablePan'])return;_0x25ff6e=_0xccbdb0,_0x47604e[_0x10de('0x322')]&&(_0x1da975=_0x25ff6e['touches'][0x0][_0x10de('0xe1a')]-_0x25ff6e[_0x10de('0xe19')][0x1][_0x10de('0xe1a')],_0x316e52=_0x25ff6e[_0x10de('0xe19')][0x0][_0x10de('0xe1b')]-_0x25ff6e[_0x10de('0xe19')][0x1][_0x10de('0xe1b')],_0x1da975=Math[_0x10de('0x1d0')](_0x1da975*_0x1da975+_0x316e52*_0x316e52),_0x334d7d[_0x10de('0x1e')](0x0,_0x1da975)),_0x47604e[_0x10de('0x7b3')]&&(_0x316e52=0.5*(_0x25ff6e['touches'][0x0][_0x10de('0xe1a')]+_0x25ff6e['touches'][0x1]['pageX']),_0x1da975=0.5*(_0x25ff6e['touches'][0x0][_0x10de('0xe1b')]+_0x25ff6e[_0x10de('0xe19')][0x1]['pageY']),_0x2ab314[_0x10de('0x1e')](_0x316e52,_0x1da975)),_0x304075=_0x2698ba['TOUCH_DOLLY_PAN'];break;default:_0x304075=_0x2698ba['NONE'];}var _0x25ff6e,_0x316e52,_0x1da975;_0x304075!==_0x2698ba['NONE']&&_0x47604e['dispatchEvent'](_0x247b80);}}function _0x4c27eb(_0xccbdb0){var _0x25ff6e,_0x316e52,_0x1da975;if(!0x1!==_0x47604e[_0x10de('0x43e')])switch(_0xccbdb0[_0x10de('0xe0d')](),_0xccbdb0[_0x10de('0xe1d')](),_0xccbdb0[_0x10de('0xe19')][_0x10de('0xe')]){case 0x1:if(!0x1===_0x47604e[_0x10de('0x321')])return;if(_0x304075!==_0x2698ba['TOUCH_ROTATE'])return;_0x29a515['set'](_0xccbdb0[_0x10de('0xe19')][0x0][_0x10de('0xe1a')],_0xccbdb0['touches'][0x0]['pageY']),_0x55e37b[_0x10de('0x34c')](_0x521b14,_0x29a515)[_0x10de('0x1d6')](_0x47604e['rotateSpeed']),_0x1da975=_0x47604e[_0x10de('0xe01')]===document?_0x47604e[_0x10de('0xe01')][_0x10de('0xe09')]:_0x47604e[_0x10de('0xe01')],_0x3cd9ca(0x2*Math['PI']*_0x55e37b['x']/_0x1da975['clientHeight']),_0x42d707(0x2*Math['PI']*_0x55e37b['y']/_0x1da975[_0x10de('0xe0a')]),_0x521b14[_0x10de('0x1d3')](_0x29a515),_0x47604e[_0x10de('0x31d')]();break;case 0x2:if(!0x1===_0x47604e[_0x10de('0x322')]&&!0x1===_0x47604e['enablePan'])return;if(_0x304075!==_0x2698ba['TOUCH_DOLLY_PAN'])return;_0x1da975=_0xccbdb0,_0x47604e['enableZoom']&&(_0x316e52=_0x1da975[_0x10de('0xe19')][0x0][_0x10de('0xe1a')]-_0x1da975[_0x10de('0xe19')][0x1][_0x10de('0xe1a')],_0x25ff6e=_0x1da975[_0x10de('0xe19')][0x0][_0x10de('0xe1b')]-_0x1da975['touches'][0x1][_0x10de('0xe1b')],_0x316e52=Math[_0x10de('0x1d0')](_0x316e52*_0x316e52+_0x25ff6e*_0x25ff6e),_0x7a7394[_0x10de('0x1e')](0x0,_0x316e52),_0x3bdd13[_0x10de('0x1e')](0x0,Math[_0x10de('0x345')](_0x7a7394['y']/_0x334d7d['y'],_0x47604e['zoomSpeed'])),_0x3d30e1(_0x3bdd13['y']),_0x334d7d[_0x10de('0x1d3')](_0x7a7394)),_0x47604e[_0x10de('0x7b3')]&&(_0x25ff6e=0.5*(_0x1da975['touches'][0x0]['pageX']+_0x1da975[_0x10de('0xe19')][0x1][_0x10de('0xe1a')]),_0x316e52=0.5*(_0x1da975[_0x10de('0xe19')][0x0][_0x10de('0xe1b')]+_0x1da975[_0x10de('0xe19')][0x1][_0x10de('0xe1b')]),_0x300c24[_0x10de('0x1e')](_0x25ff6e,_0x316e52),_0x1de32a[_0x10de('0x34c')](_0x300c24,_0x2ab314)[_0x10de('0x1d6')](_0x47604e[_0x10de('0xdec')]),_0x146b69(_0x1de32a['x'],_0x1de32a['y']),_0x2ab314[_0x10de('0x1d3')](_0x300c24)),_0x47604e[_0x10de('0x31d')]();break;default:_0x304075=_0x2698ba[_0x10de('0xdf8')];}}function _0x2379b5(_0xccbdb0){!0x1!==_0x47604e[_0x10de('0x43e')]&&(_0x47604e[_0x10de('0x2ef')](_0x516a9f),_0x304075=_0x2698ba[_0x10de('0xdf8')]);}function _0x1e3221(_0xccbdb0){!0x1!==_0x47604e[_0x10de('0x43e')]&&_0xccbdb0[_0x10de('0xe0d')]();}_0x47604e[_0x10de('0xe01')][_0x10de('0x2d6')](_0x10de('0xe1e'),_0x1e3221,!0x1),_0x47604e[_0x10de('0xe01')]['addEventListener'](_0x10de('0xe1f'),_0x5756ad,!0x1),_0x47604e[_0x10de('0xe01')][_0x10de('0x2d6')](_0x10de('0xe02'),_0x187570,!0x1),_0x47604e['domElement'][_0x10de('0x2d6')](_0x10de('0xe03'),_0x40239b,!0x1),_0x47604e[_0x10de('0xe01')][_0x10de('0x2d6')](_0x10de('0xe04'),_0x2379b5,!0x1),_0x47604e[_0x10de('0xe01')]['addEventListener'](_0x10de('0xe20'),_0x4c27eb,!0x1),window['addEventListener'](_0x10de('0xe07'),_0x5ef51f,!0x1),this['update']();}_0x1dc322[_0x10de('0xa')]=(0x0,_0x316e52['default'])(THREE[_0x10de('0x82')][_0x10de('0xa')]),(0x0,_0x1da975[_0x10de('0x9')])((_0x1dc322[_0x10de('0xa')][_0x10de('0xd7')]=_0x1dc322)[_0x10de('0xa')],{'center':{'get':function(){return this[_0x10de('0x304')];}},'noZoom':{'get':function(){return!this['enableZoom'];},'set':function(_0xccbdb0){this[_0x10de('0x322')]=!_0xccbdb0;}},'noRotate':{'get':function(){return!this[_0x10de('0x321')];},'set':function(_0xccbdb0){this[_0x10de('0x321')]=!_0xccbdb0;}},'noPan':{'get':function(){return!this[_0x10de('0x7b3')];},'set':function(_0xccbdb0){this[_0x10de('0x7b3')]=!_0xccbdb0;}},'noKeys':{'get':function(){return!this[_0x10de('0xdee')];},'set':function(_0xccbdb0){this['enableKeys']=!_0xccbdb0;}},'staticMoving':{'get':function(){return!this['enableDamping'];},'set':function(_0xccbdb0){this['enableDamping']=!_0xccbdb0;}},'dynamicDampingFactor':{'get':function(){return this[_0x10de('0xdeb')];},'set':function(_0xccbdb0){this[_0x10de('0xdeb')]=_0xccbdb0;}}}),_0x25ff6e[_0x10de('0x9')]=_0x1dc322;},function(_0x13ddcb,_0x56d3f9,_0x3993ab){'use strict';Object[_0x10de('0x2')](_0x56d3f9,_0x10de('0x5'),{'value':!0x0});var _0x235f53=_0x27e88f(_0x3993ab(0x28)),_0x1858e6=_0x27e88f(_0x3993ab(0x0)),_0x3993ab=_0x27e88f(_0x3993ab(0x1));function _0x27e88f(_0x13ddcb){return _0x13ddcb&&_0x13ddcb['__esModule']?_0x13ddcb:{'default':_0x13ddcb};}var _0xfc562d=null,_0x3993ab=((0x0,_0x3993ab[_0x10de('0x9')])(_0xfbdc46,[{'key':_0x10de('0x7a'),'value':function(_0x13ddcb){var _0x56d3f9=_0x13ddcb['floorNum'],_0x3993ab=void 0x0===_0x56d3f9?0x1:_0x56d3f9,_0x56d3f9=_0x13ddcb[_0x10de('0x36d')],_0x1858e6=_0x13ddcb[_0x10de('0xe21')],_0x27e88f=_0x13ddcb['miniMapImgHeight'],_0x5f31c9=_0x13ddcb['cameraViewImgPath'],_0x172ec2=_0x13ddcb[_0x10de('0xe22')],_0x13ddcb=_0x13ddcb['fixCameraViewImgOffset'],_0x222ea0=void 0x0===_0x13ddcb?0x3:_0x13ddcb,_0x4d5a7c=this,_0x13ddcb=(this['container']=_0x56d3f9,[]),_0x10e314=document[_0x10de('0x87')](_0x10de('0xe23')),_0x58481c=(_0x10e314[_0x10de('0x515')]=_0x1858e6,_0x10e314[_0x10de('0x70')][_0x10de('0x32c')]=_0x27e88f+'px',_0x13ddcb[_0x10de('0x84')](new _0x235f53[(_0x10de('0x9'))](function(_0x13ddcb){_0x10e314[_0x10de('0xe24')]=function(){_0x13ddcb();};})),this[_0x10de('0x36d')][_0x10de('0x73')](_0x10e314),document[_0x10de('0x87')](_0x10de('0xca'))),_0x530bbc=(_0x58481c['style']['position']=_0x10de('0xe25'),document[_0x10de('0x87')](_0x10de('0xe23')));_0x530bbc[_0x10de('0x515')]=_0x5f31c9,_0x530bbc[_0x10de('0x70')][_0x10de('0x222')]=_0x10de('0xe26'),_0x530bbc[_0x10de('0x70')]['height']=_0x172ec2+'px',_0x58481c[_0x10de('0x73')](_0x530bbc),_0x13ddcb['push'](new _0x235f53[(_0x10de('0x9'))](function(_0x13ddcb){_0x530bbc[_0x10de('0xe24')]=function(){_0x13ddcb();};})),this[_0x10de('0x36d')]['appendChild'](_0x58481c),_0x235f53[_0x10de('0x9')][_0x10de('0xe2')](_0x13ddcb)[_0x10de('0x385')](function(_0x13ddcb){var _0x1858e6=_0x10e314[_0x10de('0x35d')],_0x27e88f=_0x10e314[_0x10de('0x32c')],_0x5f31c9=_0x530bbc[_0x10de('0x32c')],_0x172ec2=(_0x58481c['style'][_0x10de('0x35d')]=_0x1858e6,_0x58481c[_0x10de('0x70')]['height']=_0x27e88f,_0x58481c[_0x10de('0x70')][_0x10de('0x588')]=-_0x27e88f+'px',_0x530bbc[_0x10de('0x70')][_0x10de('0xe27')]=_0x222ea0+_0x10de('0xe28')+(_0x5f31c9/0x2+_0x222ea0)+'px',_0x4d5a7c['map'][_0x10de('0x46c')][_0x10de('0x338')]),_0x56d3f9=_0x4d5a7c[_0x10de('0xcf')][_0x10de('0xe29')][_0x3993ab],_0x235f53=_0x56d3f9[_0x10de('0xe2a')]-_0x56d3f9[_0x10de('0xe2b')],_0x4a24ba=_0x56d3f9[_0x10de('0xe2c')]-_0x56d3f9[_0x10de('0xe2d')],_0x108cfd=_0x56d3f9['minx'],_0xb3be80=_0x56d3f9[_0x10de('0xe2c')];_0xfc562d=function(_0x13ddcb){var _0x56d3f9=_0x4d5a7c[_0x10de('0xcf')][_0x10de('0xdd9')](_0x172ec2[_0x10de('0x222')]),_0x3993ab=_0x56d3f9['x']-_0x108cfd,_0x56d3f9=_0x56d3f9['y']-_0xb3be80,_0x56d3f9=_0x27e88f*(_0x56d3f9/_0x4a24ba);_0x530bbc[_0x10de('0x70')][_0x10de('0x37b')]=_0x1858e6*(_0x3993ab/_0x235f53)+'px',_0x530bbc[_0x10de('0x70')][_0x10de('0x588')]=-(_0x56d3f9+(_0x5f31c9/0x2+_0x222ea0))+'px',_0x530bbc[_0x10de('0x70')]['transform']='rotate('+(_0x4d5a7c['map'][_0x10de('0x49b')]-0x5a)+_0x10de('0xe2e');},_0x4d5a7c[_0x10de('0xcf')]['on'](_0x10de('0x912'),_0xfc562d);});}},{'key':'remove','value':function(){this['container'][_0x10de('0xe2f')]='',this[_0x10de('0xcf')][_0x10de('0xdd1')](_0x10de('0x912'),_0xfc562d);}}]),_0xfbdc46);function _0xfbdc46(_0x13ddcb){(0x0,_0x1858e6[_0x10de('0x9')])(this,_0xfbdc46),this[_0x10de('0xcf')]=_0x13ddcb,this['container']=null;}_0x56d3f9[_0x10de('0x9')]=_0x3993ab;},function(_0x1a5ac8,_0x474491,_0x415063){'use strict';Object['defineProperty'](_0x474491,_0x10de('0x5'),{'value':!0x0});var _0x9ca0fa,_0x251002=_0x18ecec(_0x415063(0x28)),_0x272aca=_0x18ecec(_0x415063(0xb9)),_0x4c8d73=_0x18ecec(_0x415063(0xba)),_0x1cb434=_0x18ecec(_0x415063(0x5)),_0x1c8579=_0x18ecec(_0x415063(0x1b)),_0x3d5d95=_0x18ecec(_0x415063(0x0)),_0x50f4a7=_0x18ecec(_0x415063(0x1)),_0x387ba8=_0x18ecec(_0x415063(0x1e)),_0x4a70ff=_0x18ecec(_0x415063(0x1f));function _0x18ecec(_0x1a5ac8){return _0x1a5ac8&&_0x1a5ac8[_0x10de('0x5')]?_0x1a5ac8:{'default':_0x1a5ac8};}function _0x2630d9(){(0x0,_0x3d5d95[_0x10de('0x9')])(this,_0x2630d9);var _0x1a5ac8=(0x0,_0x387ba8['default'])(this,(_0x2630d9[_0x10de('0x6d')]||(0x0,_0x1c8579['default'])(_0x2630d9))['call'](this));return _0x1a5ac8[_0x10de('0xe30')]=(performance||Date)['now'](),_0x1a5ac8['prevTime']=_0x1a5ac8['beginTime'],_0x1a5ac8[_0x10de('0x1dc')]=0x0,_0x1a5ac8[_0x10de('0x2dd')]=0x0,_0x1a5ac8[_0x10de('0xe31')]=!0x1,_0x1a5ac8[_0x10de('0xe32')]=[],_0x1a5ac8['_tempResultList']=[],_0x1a5ac8;}_0x415063=_0x415063(0x2a)[_0x10de('0x82')],(0x0,_0x4a70ff[_0x10de('0x9')])(_0x2630d9,_0x415063),(0x0,_0x50f4a7[_0x10de('0x9')])(_0x2630d9,[{'key':_0x10de('0xe33'),'value':function(){this[_0x10de('0xe30')]=(performance||Date)[_0x10de('0x2d1')]();}},{'key':_0x10de('0x42e'),'value':function(){this[_0x10de('0x1dc')]++;var _0x1a5ac8=(performance||Date)[_0x10de('0x2d1')]();return _0x1a5ac8>=this['prevTime']+0x3e8&&(this[_0x10de('0x2dd')]=0x3e8*this[_0x10de('0x1dc')]/(_0x1a5ac8-this[_0x10de('0xe34')]),0xa<this[_0x10de('0xe32')]['length']?this[_0x10de('0xe32')][_0x10de('0xe')]=0x0:this[_0x10de('0xe32')][_0x10de('0x84')](this['fps']),this[_0x10de('0xe34')]=_0x1a5ac8,this[_0x10de('0x1dc')]=0x0),_0x1a5ac8;}},{'key':'update','value':function(){this['beginTime']=this[_0x10de('0x42e')]();}},{'key':_0x10de('0xe35'),'value':function(_0x1a5ac8,_0x474491){var _0x415063=_0x1a5ac8['length'],_0x474491=Math['floor'](_0x415063*_0x474491/0x2),_0x1a5ac8=_0x1a5ac8['sort'](function(_0x1a5ac8,_0x474491){return _0x1a5ac8-_0x474491;})[_0x10de('0x86')](_0x474491,_0x415063-_0x474491);return _0x1a5ac8[_0x10de('0xe36')](function(_0x1a5ac8,_0x474491){return _0x1a5ac8+_0x474491;},0x0)/_0x1a5ac8[_0x10de('0xe')];}},{'key':_0x10de('0xe37'),'value':function(){var _0x1a5ac8=0x0,_0x474491=!0x0,_0x415063=!0x1,_0x9ca0fa=void 0x0;try{for(var _0x251002,_0x272aca=(0x0,_0x1cb434[_0x10de('0x9')])(this['_tempFrameRateList']);!(_0x474491=(_0x251002=_0x272aca['next']())[_0x10de('0x32b')]);_0x474491=!0x0)_0x1a5ac8+=_0x251002[_0x10de('0x10')];}catch(_0x52deec){_0x415063=!0x0,_0x9ca0fa=_0x52deec;}finally{try{!_0x474491&&_0x272aca[_0x10de('0xdf')]&&_0x272aca[_0x10de('0xdf')]();}finally{if(_0x415063)throw _0x9ca0fa;}}return _0x1a5ac8/this['_tempFrameRateList'][_0x10de('0xe')];}},{'key':_0x10de('0x8c1'),'value':(_0x9ca0fa=(0x0,_0x4c8d73[_0x10de('0x9')])(_0x272aca['default'][_0x10de('0xe38')](function _0x1a5ac8(_0x474491,_0x415063){var _0x9ca0fa,_0x251002;return _0x272aca['default'][_0x10de('0xe39')](function(_0x1a5ac8){for(;;)switch(_0x1a5ac8[_0x10de('0xe3a')]=_0x1a5ac8[_0x10de('0x88')]){case 0x0:_0x9ca0fa=0x0;case 0x1:if(_0x9ca0fa<_0x474491)return _0x1a5ac8['next']=0x4,this[_0x10de('0xe3b')](0x3e8);_0x1a5ac8[_0x10de('0x88')]=0x9;break;case 0x4:0x0<this[_0x10de('0xe32')]['length']&&this[_0x10de('0xe3c')][_0x10de('0x84')](this[_0x10de('0xe37')]()),this[_0x10de('0xe32')][_0x10de('0xe')]=0x0;case 0x6:_0x9ca0fa++,_0x1a5ac8['next']=0x1;break;case 0x9:_0x251002=this['trimmedMean'](this[_0x10de('0xe3c')],0.2),this['dispatchEvent']({'type':_0x10de('0x8c2'),'fps':+_0x251002[_0x10de('0x720')](0x1)}),_0x415063&&this[_0x10de('0x8c1')](_0x474491,!0x0);case 0xc:case _0x10de('0x42e'):return _0x1a5ac8[_0x10de('0xe3d')]();}},_0x1a5ac8,this);})),function(_0x1a5ac8,_0x474491){return _0x9ca0fa[_0x10de('0x15')](this,arguments);})},{'key':_0x10de('0xe3b'),'value':function(_0x474491){return new _0x251002[(_0x10de('0x9'))](function(_0x1a5ac8){setTimeout(_0x1a5ac8,_0x474491);});}}]),_0x474491[_0x10de('0x9')]=_0x2630d9;},function(_0x1999b4,_0x5e1f86,_0x1deb5f){var _0xd52888=function(){return this;}()||Function(_0x10de('0x19'))(),_0x1cea82=_0xd52888[_0x10de('0xe3e')]&&0x0<=Object[_0x10de('0x2c2')](_0xd52888)[_0x10de('0x4d')](_0x10de('0xe3e')),_0x5b4251=_0x1cea82&&_0xd52888['regeneratorRuntime'];if(_0xd52888['regeneratorRuntime']=void 0x0,_0x1999b4[_0x10de('0x1')]=_0x1deb5f(0x124),_0x1cea82)_0xd52888['regeneratorRuntime']=_0x5b4251;else try{delete _0xd52888[_0x10de('0xe3e')];}catch(_0x2518ac){_0xd52888[_0x10de('0xe3e')]=void 0x0;}},function(_0x559d70,_0x533a53){!function(_0x533a53){'use strict';var _0x22e35f,_0x36e0ec,_0x2c436d,_0x421fd3,_0x2344e4,_0x27fcee,_0x26032a,_0x19a323=Object[_0x10de('0xa')],_0x55f113=_0x19a323[_0x10de('0xb')],_0x1591d5=_0x10de('0x14')==typeof Symbol?Symbol:{},_0x35641f=_0x1591d5[_0x10de('0xcb')]||_0x10de('0xcc'),_0x3a3906=_0x1591d5[_0x10de('0x2c3')]||_0x10de('0xe3f'),_0x1a47e2=_0x1591d5[_0x10de('0x3')]||_0x10de('0xe40'),_0x1591d5=_0x10de('0x6')==typeof _0x559d70,_0x23ec33=_0x533a53['regeneratorRuntime'];function _0x996859(_0x533a53,_0x26032a,_0x19a323,_0x1591d5){var _0x35641f,_0x3a3906,_0x1a47e2,_0x23ec33,_0x26032a=_0x26032a&&_0x26032a['prototype']instanceof _0x4903b3?_0x26032a:_0x4903b3,_0x26032a=Object['create'](_0x26032a[_0x10de('0xa')]),_0x1591d5=new _0x2a343e(_0x1591d5||[]);return _0x26032a[_0x10de('0xe41')]=(_0x35641f=_0x533a53,_0x3a3906=_0x19a323,_0x1a47e2=_0x1591d5,_0x23ec33=_0x36e0ec,function(_0x533a53,_0x26032a){if(_0x23ec33===_0x421fd3)throw new Error(_0x10de('0xe42'));if(_0x23ec33===_0x2344e4){if(_0x10de('0x4c0')===_0x533a53)throw _0x26032a;return _0x397094();}for(_0x1a47e2[_0x10de('0xe43')]=_0x533a53,_0x1a47e2[_0x10de('0xe44')]=_0x26032a;;){var _0x19a323=_0x1a47e2[_0x10de('0xe45')];if(_0x19a323){_0x19a323=function _0x533a53(_0x26032a,_0x19a323){var _0x1591d5=_0x26032a[_0x10de('0xcb')][_0x19a323[_0x10de('0xe43')]];if(_0x1591d5===_0x22e35f){if(_0x19a323['delegate']=null,'throw'===_0x19a323['method']){if(_0x26032a[_0x10de('0xcb')][_0x10de('0xdf')]&&(_0x19a323['method']=_0x10de('0xdf'),_0x19a323[_0x10de('0xe44')]=_0x22e35f,_0x533a53(_0x26032a,_0x19a323),_0x10de('0x4c0')===_0x19a323['method']))return _0x27fcee;_0x19a323[_0x10de('0xe43')]=_0x10de('0x4c0'),_0x19a323[_0x10de('0xe44')]=new TypeError(_0x10de('0xe46'));}return _0x27fcee;}_0x1591d5=_0x403225(_0x1591d5,_0x26032a['iterator'],_0x19a323['arg']);if(_0x10de('0x4c0')===_0x1591d5[_0x10de('0x85')])return _0x19a323[_0x10de('0xe43')]=_0x10de('0x4c0'),_0x19a323['arg']=_0x1591d5[_0x10de('0xe44')],_0x19a323[_0x10de('0xe45')]=null,_0x27fcee;_0x1591d5=_0x1591d5['arg'];return _0x1591d5?_0x1591d5[_0x10de('0x32b')]?(_0x19a323[_0x26032a['resultName']]=_0x1591d5[_0x10de('0x10')],_0x19a323[_0x10de('0x88')]=_0x26032a[_0x10de('0xe47')],_0x10de('0xdf')!==_0x19a323[_0x10de('0xe43')]&&(_0x19a323['method']='next',_0x19a323[_0x10de('0xe44')]=_0x22e35f),_0x19a323[_0x10de('0xe45')]=null,_0x27fcee):_0x1591d5:(_0x19a323[_0x10de('0xe43')]=_0x10de('0x4c0'),_0x19a323[_0x10de('0xe44')]=new TypeError(_0x10de('0xe48')),_0x19a323['delegate']=null,_0x27fcee);}(_0x19a323,_0x1a47e2);if(_0x19a323){if(_0x19a323===_0x27fcee)continue;return _0x19a323;}}if(_0x10de('0x88')===_0x1a47e2['method'])_0x1a47e2[_0x10de('0xe49')]=_0x1a47e2[_0x10de('0xe4a')]=_0x1a47e2[_0x10de('0xe44')];else if('throw'===_0x1a47e2[_0x10de('0xe43')]){if(_0x23ec33===_0x36e0ec)throw _0x23ec33=_0x2344e4,_0x1a47e2[_0x10de('0xe44')];_0x1a47e2[_0x10de('0xe4b')](_0x1a47e2[_0x10de('0xe44')]);}else'return'===_0x1a47e2[_0x10de('0xe43')]&&_0x1a47e2[_0x10de('0xe4c')](_0x10de('0xdf'),_0x1a47e2[_0x10de('0xe44')]);_0x23ec33=_0x421fd3;_0x19a323=_0x403225(_0x35641f,_0x3a3906,_0x1a47e2);if('normal'===_0x19a323[_0x10de('0x85')]){if(_0x23ec33=_0x1a47e2[_0x10de('0x32b')]?_0x2344e4:_0x2c436d,_0x19a323[_0x10de('0xe44')]!==_0x27fcee)return{'value':_0x19a323[_0x10de('0xe44')],'done':_0x1a47e2['done']};}else _0x10de('0x4c0')===_0x19a323[_0x10de('0x85')]&&(_0x23ec33=_0x2344e4,_0x1a47e2['method']=_0x10de('0x4c0'),_0x1a47e2[_0x10de('0xe44')]=_0x19a323['arg']);}}),_0x26032a;}function _0x403225(_0x533a53,_0x26032a,_0x19a323){try{return{'type':_0x10de('0x711'),'arg':_0x533a53[_0x10de('0x0')](_0x26032a,_0x19a323)};}catch(_0x43cea0){return{'type':_0x10de('0x4c0'),'arg':_0x43cea0};}}function _0x4903b3(){}function _0x2e4f53(){}function _0x3fd263(){}function _0x48e396(_0x533a53){[_0x10de('0x88'),_0x10de('0x4c0'),'return'][_0x10de('0x2c9')](function(_0x26032a){_0x533a53[_0x26032a]=function(_0x533a53){return this['_invoke'](_0x26032a,_0x533a53);};});}function _0x3dff1a(_0x1a47e2){var _0x26032a;this[_0x10de('0xe41')]=function(_0x19a323,_0x1591d5){function _0x533a53(){return new Promise(function(_0x533a53,_0x26032a){!function _0x26032a(_0x533a53,_0x19a323,_0x1591d5,_0x35641f){_0x533a53=_0x403225(_0x1a47e2[_0x533a53],_0x1a47e2,_0x19a323);if('throw'===_0x533a53[_0x10de('0x85')])_0x35641f(_0x533a53[_0x10de('0xe44')]);else{var _0x3a3906=_0x533a53[_0x10de('0xe44')],_0x19a323=_0x3a3906[_0x10de('0x10')];if(_0x19a323&&'object'==typeof _0x19a323&&_0x55f113[_0x10de('0x0')](_0x19a323,_0x10de('0xe4d')))return Promise[_0x10de('0x2b6')](_0x19a323[_0x10de('0xe4d')])[_0x10de('0x385')](function(_0x533a53){_0x26032a(_0x10de('0x88'),_0x533a53,_0x1591d5,_0x35641f);},function(_0x533a53){_0x26032a(_0x10de('0x4c0'),_0x533a53,_0x1591d5,_0x35641f);});Promise[_0x10de('0x2b6')](_0x19a323)[_0x10de('0x385')](function(_0x533a53){_0x3a3906[_0x10de('0x10')]=_0x533a53,_0x1591d5(_0x3a3906);},_0x35641f);}}(_0x19a323,_0x1591d5,_0x533a53,_0x26032a);});}return _0x26032a=_0x26032a?_0x26032a['then'](_0x533a53,_0x533a53):_0x533a53();};}function _0x46a44e(_0x533a53){var _0x26032a={'tryLoc':_0x533a53[0x0]};0x1 in _0x533a53&&(_0x26032a[_0x10de('0xe4e')]=_0x533a53[0x1]),0x2 in _0x533a53&&(_0x26032a[_0x10de('0xe4f')]=_0x533a53[0x2],_0x26032a[_0x10de('0xe50')]=_0x533a53[0x3]),this[_0x10de('0xe51')][_0x10de('0x84')](_0x26032a);}function _0x1f5a82(_0x533a53){var _0x26032a=_0x533a53[_0x10de('0xe52')]||{};_0x26032a[_0x10de('0x85')]=_0x10de('0x711'),delete _0x26032a['arg'],_0x533a53[_0x10de('0xe52')]=_0x26032a;}function _0x2a343e(_0x533a53){this[_0x10de('0xe51')]=[{'tryLoc':'root'}],_0x533a53[_0x10de('0x2c9')](_0x46a44e,this),this[_0x10de('0x21c')](!0x0);}function _0x136724(_0x26032a){if(_0x26032a){var _0x19a323,_0x533a53=_0x26032a[_0x35641f];if(_0x533a53)return _0x533a53[_0x10de('0x0')](_0x26032a);if(_0x10de('0x14')==typeof _0x26032a[_0x10de('0x88')])return _0x26032a;if(!isNaN(_0x26032a[_0x10de('0xe')]))return _0x19a323=-0x1,(_0x533a53=function _0x533a53(){for(;++_0x19a323<_0x26032a[_0x10de('0xe')];)if(_0x55f113[_0x10de('0x0')](_0x26032a,_0x19a323))return _0x533a53['value']=_0x26032a[_0x19a323],_0x533a53[_0x10de('0x32b')]=!0x1,_0x533a53;return _0x533a53[_0x10de('0x10')]=_0x22e35f,_0x533a53[_0x10de('0x32b')]=!0x0,_0x533a53;})[_0x10de('0x88')]=_0x533a53;}return{'next':_0x397094};}function _0x397094(){return{'value':_0x22e35f,'done':!0x0};}_0x23ec33?_0x1591d5&&(_0x559d70[_0x10de('0x1')]=_0x23ec33):((_0x23ec33=_0x533a53[_0x10de('0xe3e')]=_0x1591d5?_0x559d70[_0x10de('0x1')]:{})[_0x10de('0xe39')]=_0x996859,_0x36e0ec=_0x10de('0xe53'),_0x2c436d=_0x10de('0xe54'),_0x421fd3=_0x10de('0xe55'),_0x2344e4=_0x10de('0xe56'),_0x27fcee={},(_0x533a53={})[_0x35641f]=function(){return this;},(_0x1591d5=(_0x1591d5=Object['getPrototypeOf'])&&_0x1591d5(_0x1591d5(_0x136724([]))))&&_0x1591d5!==_0x19a323&&_0x55f113[_0x10de('0x0')](_0x1591d5,_0x35641f)&&(_0x533a53=_0x1591d5),_0x26032a=_0x3fd263[_0x10de('0xa')]=_0x4903b3[_0x10de('0xa')]=Object[_0x10de('0x7a')](_0x533a53),(_0x2e4f53[_0x10de('0xa')]=_0x26032a[_0x10de('0xd7')]=_0x3fd263)[_0x10de('0xd7')]=_0x2e4f53,_0x3fd263[_0x1a47e2]=_0x2e4f53['displayName']=_0x10de('0xe57'),_0x23ec33[_0x10de('0xe58')]=function(_0x533a53){_0x533a53=_0x10de('0x14')==typeof _0x533a53&&_0x533a53[_0x10de('0xd7')];return!!_0x533a53&&(_0x533a53===_0x2e4f53||'GeneratorFunction'===(_0x533a53[_0x10de('0xe59')]||_0x533a53[_0x10de('0x8c')]));},_0x23ec33['mark']=function(_0x533a53){return Object[_0x10de('0xe5a')]?Object[_0x10de('0xe5a')](_0x533a53,_0x3fd263):(_0x533a53['__proto__']=_0x3fd263,_0x1a47e2 in _0x533a53||(_0x533a53[_0x1a47e2]=_0x10de('0xe57'))),_0x533a53[_0x10de('0xa')]=Object[_0x10de('0x7a')](_0x26032a),_0x533a53;},_0x23ec33['awrap']=function(_0x533a53){return{'__await':_0x533a53};},_0x48e396(_0x3dff1a[_0x10de('0xa')]),_0x3dff1a[_0x10de('0xa')][_0x3a3906]=function(){return this;},_0x23ec33[_0x10de('0xe5b')]=_0x3dff1a,_0x23ec33[_0x10de('0xe5c')]=function(_0x533a53,_0x26032a,_0x19a323,_0x1591d5){var _0x35641f=new _0x3dff1a(_0x996859(_0x533a53,_0x26032a,_0x19a323,_0x1591d5));return _0x23ec33[_0x10de('0xe58')](_0x26032a)?_0x35641f:_0x35641f[_0x10de('0x88')]()['then'](function(_0x533a53){return _0x533a53[_0x10de('0x32b')]?_0x533a53[_0x10de('0x10')]:_0x35641f[_0x10de('0x88')]();});},_0x48e396(_0x26032a),_0x26032a[_0x1a47e2]=_0x10de('0xe5d'),_0x26032a[_0x35641f]=function(){return this;},_0x26032a[_0x10de('0x62')]=function(){return'[object\x20Generator]';},_0x23ec33[_0x10de('0x61')]=function(_0x19a323){var _0x533a53,_0x1591d5=[];for(_0x533a53 in _0x19a323)_0x1591d5[_0x10de('0x84')](_0x533a53);return _0x1591d5[_0x10de('0xe5e')](),function _0x533a53(){for(;_0x1591d5['length'];){var _0x26032a=_0x1591d5[_0x10de('0x21a')]();if(_0x26032a in _0x19a323)return _0x533a53['value']=_0x26032a,_0x533a53[_0x10de('0x32b')]=!0x1,_0x533a53;}return _0x533a53[_0x10de('0x32b')]=!0x0,_0x533a53;};},_0x23ec33[_0x10de('0x89')]=_0x136724,_0x2a343e[_0x10de('0xa')]={'constructor':_0x2a343e,'reset':function(_0x533a53){if(this[_0x10de('0xe3a')]=0x0,this[_0x10de('0x88')]=0x0,this[_0x10de('0xe49')]=this[_0x10de('0xe4a')]=_0x22e35f,this['done']=!0x1,this[_0x10de('0xe45')]=null,this[_0x10de('0xe43')]=_0x10de('0x88'),this[_0x10de('0xe44')]=_0x22e35f,this[_0x10de('0xe51')]['forEach'](_0x1f5a82),!_0x533a53)for(var _0x26032a in this)'t'===_0x26032a['charAt'](0x0)&&_0x55f113[_0x10de('0x0')](this,_0x26032a)&&!isNaN(+_0x26032a[_0x10de('0x86')](0x1))&&(this[_0x26032a]=_0x22e35f);},'stop':function(){this[_0x10de('0x32b')]=!0x0;var _0x533a53=this[_0x10de('0xe51')][0x0]['completion'];if('throw'===_0x533a53[_0x10de('0x85')])throw _0x533a53[_0x10de('0xe44')];return this['rval'];},'dispatchException':function(_0x19a323){if(this[_0x10de('0x32b')])throw _0x19a323;var _0x1591d5=this;function _0x533a53(_0x533a53,_0x26032a){return _0x3a3906['type']=_0x10de('0x4c0'),_0x3a3906['arg']=_0x19a323,_0x1591d5[_0x10de('0x88')]=_0x533a53,_0x26032a&&(_0x1591d5['method']=_0x10de('0x88'),_0x1591d5[_0x10de('0xe44')]=_0x22e35f),!!_0x26032a;}for(var _0x26032a=this[_0x10de('0xe51')][_0x10de('0xe')]-0x1;0x0<=_0x26032a;--_0x26032a){var _0x35641f=this[_0x10de('0xe51')][_0x26032a],_0x3a3906=_0x35641f['completion'];if(_0x10de('0x44b')===_0x35641f['tryLoc'])return _0x533a53(_0x10de('0x42e'));if(_0x35641f[_0x10de('0xe5f')]<=this[_0x10de('0xe3a')]){var _0x1a47e2=_0x55f113[_0x10de('0x0')](_0x35641f,_0x10de('0xe4e')),_0x23ec33=_0x55f113[_0x10de('0x0')](_0x35641f,_0x10de('0xe4f'));if(_0x1a47e2&&_0x23ec33){if(this['prev']<_0x35641f[_0x10de('0xe4e')])return _0x533a53(_0x35641f[_0x10de('0xe4e')],!0x0);if(this['prev']<_0x35641f['finallyLoc'])return _0x533a53(_0x35641f[_0x10de('0xe4f')]);}else if(_0x1a47e2){if(this['prev']<_0x35641f[_0x10de('0xe4e')])return _0x533a53(_0x35641f[_0x10de('0xe4e')],!0x0);}else{if(!_0x23ec33)throw new Error(_0x10de('0xe60'));if(this[_0x10de('0xe3a')]<_0x35641f[_0x10de('0xe4f')])return _0x533a53(_0x35641f[_0x10de('0xe4f')]);}}}},'abrupt':function(_0x533a53,_0x26032a){for(var _0x19a323=this[_0x10de('0xe51')][_0x10de('0xe')]-0x1;0x0<=_0x19a323;--_0x19a323){var _0x1591d5=this[_0x10de('0xe51')][_0x19a323];if(_0x1591d5['tryLoc']<=this[_0x10de('0xe3a')]&&_0x55f113[_0x10de('0x0')](_0x1591d5,_0x10de('0xe4f'))&&this['prev']<_0x1591d5['finallyLoc']){var _0x35641f=_0x1591d5;break;}}var _0x3a3906=(_0x35641f=_0x35641f&&(_0x10de('0xe61')===_0x533a53||'continue'===_0x533a53)&&_0x35641f[_0x10de('0xe5f')]<=_0x26032a&&_0x26032a<=_0x35641f[_0x10de('0xe4f')]?null:_0x35641f)?_0x35641f[_0x10de('0xe52')]:{};return _0x3a3906[_0x10de('0x85')]=_0x533a53,_0x3a3906[_0x10de('0xe44')]=_0x26032a,_0x35641f?(this[_0x10de('0xe43')]='next',this[_0x10de('0x88')]=_0x35641f['finallyLoc'],_0x27fcee):this[_0x10de('0x302')](_0x3a3906);},'complete':function(_0x533a53,_0x26032a){if(_0x10de('0x4c0')===_0x533a53[_0x10de('0x85')])throw _0x533a53[_0x10de('0xe44')];return _0x10de('0xe61')===_0x533a53[_0x10de('0x85')]||_0x10de('0xe62')===_0x533a53['type']?this['next']=_0x533a53[_0x10de('0xe44')]:'return'===_0x533a53[_0x10de('0x85')]?(this[_0x10de('0xe63')]=this['arg']=_0x533a53['arg'],this[_0x10de('0xe43')]=_0x10de('0xdf'),this[_0x10de('0x88')]=_0x10de('0x42e')):_0x10de('0x711')===_0x533a53[_0x10de('0x85')]&&_0x26032a&&(this['next']=_0x26032a),_0x27fcee;},'finish':function(_0x533a53){for(var _0x26032a=this['tryEntries'][_0x10de('0xe')]-0x1;0x0<=_0x26032a;--_0x26032a){var _0x19a323=this[_0x10de('0xe51')][_0x26032a];if(_0x19a323['finallyLoc']===_0x533a53)return this[_0x10de('0x302')](_0x19a323['completion'],_0x19a323['afterLoc']),_0x1f5a82(_0x19a323),_0x27fcee;}},'catch':function(_0x533a53){for(var _0x26032a=this[_0x10de('0xe51')][_0x10de('0xe')]-0x1;0x0<=_0x26032a;--_0x26032a){var _0x19a323,_0x1591d5,_0x35641f=this[_0x10de('0xe51')][_0x26032a];if(_0x35641f[_0x10de('0xe5f')]===_0x533a53)return _0x10de('0x4c0')===(_0x19a323=_0x35641f[_0x10de('0xe52')])[_0x10de('0x85')]&&(_0x1591d5=_0x19a323[_0x10de('0xe44')],_0x1f5a82(_0x35641f)),_0x1591d5;}throw new Error(_0x10de('0xe64'));},'delegateYield':function(_0x533a53,_0x26032a,_0x19a323){return this[_0x10de('0xe45')]={'iterator':_0x136724(_0x533a53),'resultName':_0x26032a,'nextLoc':_0x19a323},_0x10de('0x88')===this[_0x10de('0xe43')]&&(this[_0x10de('0xe44')]=_0x22e35f),_0x27fcee;}});}(function(){return this;}()||Function(_0x10de('0x19'))());},function(_0x4ec97f,_0x3ce4ba,_0x1f5194){'use strict';Object[_0x10de('0x2')](_0x3ce4ba,_0x10de('0x5'),{'value':!0x0});var _0x1f5194=_0x1f5194(0x5),_0x4bc859=_0x1f5194&&_0x1f5194[_0x10de('0x5')]?_0x1f5194:{'default':_0x1f5194};_0x3ce4ba[_0x10de('0x9')]=function(){esmap[_0x10de('0x39')][_0x10de('0xe65')]=function(_0x4ec97f,_0x3ce4ba,_0x1f5194,_0x47d0dc){if(!_0x1f5194&&_0x1f5194['markerType'])_0x47d0dc([]);else{var _0x4eaabb=[],_0x4ec97f=_0x4ec97f[_0x10de('0x4d5')](_0x3ce4ba),_0x284066=!0x0,_0x3ce4ba=!0x1,_0xe9fb83=void 0x0;try{for(var _0x16bedd,_0x11d882=(0x0,_0x4bc859[_0x10de('0x9')])(_0x4ec97f[_0x10de('0x4d2')]);!(_0x284066=(_0x16bedd=_0x11d882['next']())[_0x10de('0x32b')]);_0x284066=!0x0){var _0x46b15d=_0x16bedd['value'],_0x2bdd69=!0x0,_0x280eda=!0x1,_0x4403c9=void 0x0;try{for(var _0xca3000,_0x5d7428=(0x0,_0x4bc859[_0x10de('0x9')])(_0x46b15d[_0x10de('0x351')]);!(_0x2bdd69=(_0xca3000=_0x5d7428[_0x10de('0x88')]())[_0x10de('0x32b')]);_0x2bdd69=!0x0){var _0x21149e=_0xca3000[_0x10de('0x10')];_0x21149e[_0x10de('0xe66')]===_0x1f5194['markerType']&&(_0x1f5194[_0x10de('0xe67')]?Array[_0x10de('0x1be')](_0x1f5194['names'])&&0x0<_0x1f5194[_0x10de('0xe67')][_0x10de('0xe')]?0x0<=_0x1f5194[_0x10de('0xe67')]['indexOf'](_0x21149e[_0x10de('0x8c')])&&_0x4eaabb[_0x10de('0x84')](_0x21149e):_0x1f5194[_0x10de('0xe67')]===_0x21149e[_0x10de('0x8c')]&&_0x4eaabb['push'](_0x21149e):_0x4eaabb['push'](_0x21149e));}}catch(_0x259dc3){_0x280eda=!0x0,_0x4403c9=_0x259dc3;}finally{try{!_0x2bdd69&&_0x5d7428[_0x10de('0xdf')]&&_0x5d7428[_0x10de('0xdf')]();}finally{if(_0x280eda)throw _0x4403c9;}}}}catch(_0x2038dc){_0x3ce4ba=!0x0,_0xe9fb83=_0x2038dc;}finally{try{!_0x284066&&_0x11d882[_0x10de('0xdf')]&&_0x11d882[_0x10de('0xdf')]();}finally{if(_0x3ce4ba)throw _0xe9fb83;}}_0x47d0dc(_0x4eaabb);}},esmap[_0x10de('0xe68')]['ESModel3D'][_0x10de('0xa')][_0x10de('0xe69')]=function(){var _0x4ec97f=0x0<arguments[_0x10de('0xe')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{};_0x4ec97f['singleSelect']&&esmap[_0x10de('0x4f')][_0x10de('0x8bc')][_0x10de('0x94b')](),esmap[_0x10de('0x4f')]['screenEffect']['setObjectOutline'](this[_0x10de('0x4d4')],_0x4ec97f);},esmap[_0x10de('0xe68')][_0x10de('0xe6a')][_0x10de('0xa')][_0x10de('0xe6b')]=function(){esmap[_0x10de('0x4f')][_0x10de('0x8bc')]['removeObjectOutline'](this[_0x10de('0x4d4')]);},esmap[_0x10de('0xe68')]['ESModel3D'][_0x10de('0xa')][_0x10de('0xe6c')]=function(_0x22f368){this['o3d_'][_0x10de('0xd1')](function(_0x4ec97f){if(_0x10de('0x348')===_0x4ec97f['type'])if(0x0<_0x4ec97f[_0x10de('0x40')][_0x10de('0xe')]){var _0x3ce4ba=!0x0,_0x1f5194=!0x1,_0x3cc31e=void 0x0;try{for(var _0x16f8b7,_0x315662=(0x0,_0x4bc859[_0x10de('0x9')])(mesh[_0x10de('0x40')]);!(_0x3ce4ba=(_0x16f8b7=_0x315662['next']())['done']);_0x3ce4ba=!0x0){var _0x453abb=_0x16f8b7[_0x10de('0x10')];_0x453abb instanceof THREE['Material']&&(_0x453abb[_0x10de('0xa62')]=!0x0,_0x453abb[_0x10de('0x232')][_0x10de('0x331')](_0x22f368));}}catch(_0x461317){_0x1f5194=!0x0,_0x3cc31e=_0x461317;}finally{try{!_0x3ce4ba&&_0x315662[_0x10de('0xdf')]&&_0x315662[_0x10de('0xdf')]();}finally{if(_0x1f5194)throw _0x3cc31e;}}}else _0x4ec97f[_0x10de('0x40')]['wireframe']=!0x0,_0x4ec97f[_0x10de('0x40')]['color']['setStyle'](_0x22f368);});},esmap['ES3DMarker'][_0x10de('0xe6a')][_0x10de('0xa')][_0x10de('0xe6d')]=function(_0x4ec97f){_0x4ec97f['id']=this['ID'],esmap['ESEffectTool'][_0x10de('0x4ca')][_0x10de('0xe6d')](_0x4ec97f);},esmap[_0x10de('0xe68')][_0x10de('0xe6a')][_0x10de('0xa')][_0x10de('0xe6e')]=function(_0x4ec97f){_0x4ec97f['id']=this['ID'],esmap[_0x10de('0x4f')][_0x10de('0x4ca')][_0x10de('0xe6e')](_0x4ec97f);},esmap[_0x10de('0xe6f')][_0x10de('0xa')]['setOutline']=function(){esmap[_0x10de('0x4f')][_0x10de('0x8bc')]['setObjectOutline'](this[_0x10de('0x4d4')]);},esmap[_0x10de('0xe6f')][_0x10de('0xa')]['removeOutline']=function(){esmap[_0x10de('0x4f')]['screenEffect'][_0x10de('0x94a')](this['o3d_']);},esmap[_0x10de('0xe6f')][_0x10de('0xa')][_0x10de('0xe70')]=function(_0x4ec97f){this[_0x10de('0x4d4')][_0x10de('0x351')]&&0x0<this[_0x10de('0x4d4')]['children']['length']&&esmap[_0x10de('0x4f')]['screenEffect'][_0x10de('0x939')](this[_0x10de('0x4d4')]['children'][0x0]),this[_0x10de('0x49c')]&&esmap[_0x10de('0x4f')][_0x10de('0x8bc')]['setObjectBloomLight'](this[_0x10de('0x4d4')],_0x4ec97f);},esmap[_0x10de('0xe6f')][_0x10de('0xa')]['setWaterRipple']=function(_0x4ec97f){this['o3d_']&&this[_0x10de('0x4d4')]['material']&&esmap[_0x10de('0x4f')][_0x10de('0x4ce')][_0x10de('0x92d')](this);},esmap[_0x10de('0xe6f')][_0x10de('0xa')][_0x10de('0x92e')]=function(_0x4ec97f){this['o3d_']&&this['o3d_'][_0x10de('0x40')]&&esmap[_0x10de('0x4f')][_0x10de('0x4ce')][_0x10de('0x92e')](this,_0x4ec97f);},esmap['ESLineMarker']['prototype']['setBloomLight']=function(_0x4ec97f){var _0x3ce4ba=!0x0,_0x1f5194=!0x1,_0x33180e=void 0x0;try{for(var _0x20f28a,_0x2891ad=(0x0,_0x4bc859[_0x10de('0x9')])(this[_0x10de('0x4d4')]['children']);!(_0x3ce4ba=(_0x20f28a=_0x2891ad['next']())[_0x10de('0x32b')]);_0x3ce4ba=!0x0){var _0x15a498=_0x20f28a[_0x10de('0x10')];esmap[_0x10de('0x4f')][_0x10de('0x8bc')]['setObjectBloomLight'](_0x15a498,_0x4ec97f);}}catch(_0x467939){_0x1f5194=!0x0,_0x33180e=_0x467939;}finally{try{!_0x3ce4ba&&_0x2891ad[_0x10de('0xdf')]&&_0x2891ad[_0x10de('0xdf')]();}finally{if(_0x1f5194)throw _0x33180e;}}};};},function(_0x5dcd56,_0x381b03,_0x4c3236){'use strict';Object[_0x10de('0x2')](_0x381b03,'__esModule',{'value':!0x0});var _0x4c3236=_0x4c3236(0x5),_0x54f790=_0x4c3236&&_0x4c3236['__esModule']?_0x4c3236:{'default':_0x4c3236};_0x381b03[_0x10de('0x9')]=function(){esmap[_0x10de('0xe71')][_0x10de('0xa')][_0x10de('0xe72')]=function(_0x5dcd56){if(!_0x5dcd56)return[];if(!this[_0x10de('0x4d2')])return[];var _0x381b03=[],_0x4c3236=this[_0x10de('0x4d2')];if(Array[_0x10de('0x1be')](_0x5dcd56)&&0x0<_0x5dcd56['length']){var _0x2dc5f1=!0x0,_0x1a002f=!0x1,_0x1c6a65=void 0x0;try{for(var _0x4c22e8,_0x47b1e7=(0x0,_0x54f790[_0x10de('0x9')])(_0x4c3236);!(_0x2dc5f1=(_0x4c22e8=_0x47b1e7['next']())[_0x10de('0x32b')]);_0x2dc5f1=!0x0){var _0x28f10d=_0x4c22e8[_0x10de('0x10')];0x0<=_0x5dcd56['indexOf'](_0x28f10d[_0x10de('0x8c')])&&_0x381b03['push'](_0x28f10d);}}catch(_0x3f0efd){_0x1a002f=!0x0,_0x1c6a65=_0x3f0efd;}finally{try{!_0x2dc5f1&&_0x47b1e7[_0x10de('0xdf')]&&_0x47b1e7['return']();}finally{if(_0x1a002f)throw _0x1c6a65;}}}else{var _0x4031a9=!0x0,_0x1a002f=!0x1,_0x1c6a65=void 0x0;try{for(var _0x2fb05a,_0xb786cb=(0x0,_0x54f790[_0x10de('0x9')])(_0x4c3236);!(_0x4031a9=(_0x2fb05a=_0xb786cb[_0x10de('0x88')]())['done']);_0x4031a9=!0x0){var _0x1a0e40=_0x2fb05a[_0x10de('0x10')];_0x1a0e40[_0x10de('0x8c')]===_0x5dcd56&&_0x381b03['push'](_0x1a0e40);}}catch(_0x17f04d){_0x1a002f=!0x0,_0x1c6a65=_0x17f04d;}finally{try{!_0x4031a9&&_0xb786cb[_0x10de('0xdf')]&&_0xb786cb[_0x10de('0xdf')]();}finally{if(_0x1a002f)throw _0x1c6a65;}}}return _0x381b03;};};},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(_0x295ec0,_0x42b779,_0x25ccd3){'use strict';var _0x2f757f=_0x25ccd3(0x196);window[_0x10de('0xe73')]=_0x2f757f,_0x25ccd3(0x198);},function(_0x3e661c,_0xbbcdfe,_0x2cc4a1){'use strict';!function(_0x2cee90){_0x221c21(_0x2cc4a1(0x34));var _0x2e8f27,_0x26ed8b=_0x221c21(_0x2cc4a1(0x25)),_0x44064e=_0x221c21(_0x2cc4a1(0x3f));function _0x221c21(_0x2e8f27){return _0x2e8f27&&_0x2e8f27[_0x10de('0x5')]?_0x2e8f27:{'default':_0x2e8f27};}function _0x5c63e3(){this['_tweens']={},this[_0x10de('0xe74')]={};}_0x5c63e3[_0x10de('0xa')]={'getAll':function(){return(0x0,_0x44064e[_0x10de('0x9')])(this['_tweens'])[_0x10de('0xcf')](function(_0x2e8f27){return this['_tweens'][_0x2e8f27];}[_0x10de('0x8')](this));},'removeAll':function(){this['_tweens']={};},'add':function(_0x2e8f27){this['_tweens'][_0x2e8f27['getId']()]=_0x2e8f27,this[_0x10de('0xe74')][_0x2e8f27['getId']()]=_0x2e8f27;},'remove':function(_0x2e8f27){delete this['_tweens'][_0x2e8f27[_0x10de('0xe75')]()],delete this['_tweensAddedDuringUpdate'][_0x2e8f27[_0x10de('0xe75')]()];},'update':function(_0x2e8f27,_0x2cee90){var _0x26ed8b=(0x0,_0x44064e[_0x10de('0x9')])(this[_0x10de('0xe76')]);if(0x0===_0x26ed8b['length'])return!0x1;for(_0x2e8f27=void 0x0!==_0x2e8f27?_0x2e8f27:_0x554774[_0x10de('0x2d1')]();0x0<_0x26ed8b[_0x10de('0xe')];){this['_tweensAddedDuringUpdate']={};for(var _0x221c21=0x0;_0x221c21<_0x26ed8b['length'];_0x221c21++){var _0x5c63e3=this[_0x10de('0xe76')][_0x26ed8b[_0x221c21]];_0x5c63e3&&!0x1===_0x5c63e3[_0x10de('0x31d')](_0x2e8f27)&&(_0x5c63e3[_0x10de('0xe77')]=!0x1,_0x2cee90||delete this[_0x10de('0xe76')][_0x26ed8b[_0x221c21]]);}_0x26ed8b=(0x0,_0x44064e['default'])(this[_0x10de('0xe74')]);}return!0x0;}};var _0x381c4a,_0x554774=new _0x5c63e3();_0x554774[_0x10de('0x1d7')]=_0x5c63e3,_0x554774[_0x10de('0xe78')]=0x0,_0x554774['nextId']=function(){return _0x554774[_0x10de('0xe78')]++;},_0x10de('0x17')==typeof self&&void 0x0!==_0x2cee90&&_0x2cee90[_0x10de('0xe79')]?_0x554774[_0x10de('0x2d1')]=function(){var _0x2e8f27=_0x2cee90[_0x10de('0xe79')]();return 0x3e8*_0x2e8f27[0x0]+_0x2e8f27[0x1]/0xf4240;}:'undefined'!=typeof self&&void 0x0!==self[_0x10de('0xe7a')]&&void 0x0!==self[_0x10de('0xe7a')][_0x10de('0x2d1')]?_0x554774[_0x10de('0x2d1')]=self[_0x10de('0xe7a')][_0x10de('0x2d1')]['bind'](self[_0x10de('0xe7a')]):void 0x0!==Date[_0x10de('0x2d1')]?_0x554774[_0x10de('0x2d1')]=Date['now']:_0x554774[_0x10de('0x2d1')]=function(){return new Date()[_0x10de('0xe7b')]();},_0x554774['Tween']=function(_0x2e8f27,_0x2cee90){this[_0x10de('0xe7c')]=_0x2e8f27,this[_0x10de('0xe7d')]={},this[_0x10de('0xe7e')]={},this[_0x10de('0xe7f')]={},this['_duration']=0x3e8,this['_repeat']=0x0,this[_0x10de('0xe80')]=void 0x0,this[_0x10de('0xe81')]=!0x1,this[_0x10de('0xe77')]=!0x1,this[_0x10de('0xe82')]=!0x1,this['_delayTime']=0x0,this[_0x10de('0xe83')]=null,this[_0x10de('0xe84')]=_0x554774[_0x10de('0x317')][_0x10de('0x45f')][_0x10de('0x460')],this[_0x10de('0xe85')]=_0x554774[_0x10de('0xe86')][_0x10de('0x45f')],this['_chainedTweens']=[],this[_0x10de('0xe87')]=null,this[_0x10de('0xe88')]=!0x1,this[_0x10de('0xe89')]=null,this['_onRepeatCallback']=null,this['_onCompleteCallback']=null,this[_0x10de('0xe8a')]=null,this[_0x10de('0xe8b')]=_0x2cee90||_0x554774,this[_0x10de('0x9fc')]=_0x554774['nextId']();},_0x554774[_0x10de('0x316')][_0x10de('0xa')]={'getId':function(){return this[_0x10de('0x9fc')];},'isPlaying':function(){return this['_isPlaying'];},'to':function(_0x2e8f27,_0x2cee90){return this[_0x10de('0xe7e')]=(0x0,_0x26ed8b[_0x10de('0x9')])(_0x2e8f27),void 0x0!==_0x2cee90&&(this['_duration']=_0x2cee90),this;},'duration':function(_0x2e8f27){return this[_0x10de('0xe8c')]=_0x2e8f27,this;},'start':function(_0x2e8f27){for(var _0x2cee90 in this[_0x10de('0xe8b')][_0x10de('0x1d5')](this),this[_0x10de('0xe77')]=!0x0,this[_0x10de('0xe88')]=!0x1,this[_0x10de('0xe83')]=void 0x0!==_0x2e8f27?_0x10de('0x7')==typeof _0x2e8f27?_0x554774[_0x10de('0x2d1')]()+parseFloat(_0x2e8f27):_0x2e8f27:_0x554774[_0x10de('0x2d1')](),this[_0x10de('0xe83')]+=this[_0x10de('0xe8d')],this[_0x10de('0xe7e')]){if(this[_0x10de('0xe7e')][_0x2cee90]instanceof Array){if(0x0===this[_0x10de('0xe7e')][_0x2cee90]['length'])continue;this['_valuesEnd'][_0x2cee90]=[this[_0x10de('0xe7c')][_0x2cee90]]['concat'](this[_0x10de('0xe7e')][_0x2cee90]);}void 0x0!==this['_object'][_0x2cee90]&&(this[_0x10de('0xe7d')][_0x2cee90]=this['_object'][_0x2cee90],this[_0x10de('0xe7d')][_0x2cee90]instanceof Array==0x0&&(this[_0x10de('0xe7d')][_0x2cee90]*=0x1),this[_0x10de('0xe7f')][_0x2cee90]=this[_0x10de('0xe7d')][_0x2cee90]||0x0);}return this;},'stop':function(){return this['_isPlaying']&&(this['_group'][_0x10de('0xd2')](this),this['_isPlaying']=!0x1,null!==this[_0x10de('0xe8a')]&&this[_0x10de('0xe8a')](this['_object']),this['stopChainedTweens']()),this;},'end':function(){return this[_0x10de('0x31d')](0x1/0x0),this;},'stopChainedTweens':function(){for(var _0x2e8f27=0x0,_0x2cee90=this[_0x10de('0xe8e')][_0x10de('0xe')];_0x2e8f27<_0x2cee90;_0x2e8f27++)this[_0x10de('0xe8e')][_0x2e8f27]['stop']();},'group':function(_0x2e8f27){return this['_group']=_0x2e8f27,this;},'delay':function(_0x2e8f27){return this['_delayTime']=_0x2e8f27,this;},'repeat':function(_0x2e8f27){return this[_0x10de('0xe8f')]=_0x2e8f27,this;},'repeatDelay':function(_0x2e8f27){return this[_0x10de('0xe80')]=_0x2e8f27,this;},'yoyo':function(_0x2e8f27){return this['_yoyo']=_0x2e8f27,this;},'easing':function(_0x2e8f27){return this[_0x10de('0xe84')]=_0x2e8f27,this;},'interpolation':function(_0x2e8f27){return this['_interpolationFunction']=_0x2e8f27,this;},'chain':function(){return this[_0x10de('0xe8e')]=arguments,this;},'onStart':function(_0x2e8f27){return this[_0x10de('0xe87')]=_0x2e8f27,this;},'onUpdate':function(_0x2e8f27){return this[_0x10de('0xe89')]=_0x2e8f27,this;},'onRepeat':function(_0x2e8f27){return this['_onRepeatCallback']=_0x2e8f27,this;},'onComplete':function(_0x2e8f27){return this[_0x10de('0xe90')]=_0x2e8f27,this;},'onStop':function(_0x2e8f27){return this[_0x10de('0xe8a')]=_0x2e8f27,this;},'update':function(_0x2e8f27){var _0x2cee90,_0x26ed8b,_0x221c21,_0x5c63e3,_0x44064e,_0x381c4a;if(_0x2e8f27<this[_0x10de('0xe83')])return!0x0;for(_0x2cee90 in!0x1===this[_0x10de('0xe88')]&&(null!==this[_0x10de('0xe87')]&&this[_0x10de('0xe87')](this[_0x10de('0xe7c')]),this[_0x10de('0xe88')]=!0x0),_0x26ed8b=(_0x2e8f27-this['_startTime'])/this[_0x10de('0xe8c')],_0x26ed8b=0x0===this['_duration']||0x1<_0x26ed8b?0x1:_0x26ed8b,_0x221c21=this[_0x10de('0xe84')](_0x26ed8b),this['_valuesEnd'])void 0x0!==this['_valuesStart'][_0x2cee90]&&(_0x5c63e3=this[_0x10de('0xe7d')][_0x2cee90]||0x0,(_0x44064e=this[_0x10de('0xe7e')][_0x2cee90])instanceof Array?this['_object'][_0x2cee90]=this[_0x10de('0xe85')](_0x44064e,_0x221c21):_0x10de('0x13')==typeof(_0x44064e=_0x10de('0x7')==typeof _0x44064e?'+'===_0x44064e['charAt'](0x0)||'-'===_0x44064e['charAt'](0x0)?_0x5c63e3+parseFloat(_0x44064e):parseFloat(_0x44064e):_0x44064e)&&(this['_object'][_0x2cee90]=_0x5c63e3+(_0x44064e-_0x5c63e3)*_0x221c21));if(null!==this[_0x10de('0xe89')]&&this['_onUpdateCallback'](this['_object'],_0x26ed8b),0x1!==_0x26ed8b)return!0x0;if(0x0<this[_0x10de('0xe8f')]){for(_0x2cee90 in isFinite(this[_0x10de('0xe8f')])&&this[_0x10de('0xe8f')]--,this['_valuesStartRepeat'])_0x10de('0x7')==typeof this[_0x10de('0xe7e')][_0x2cee90]&&(this[_0x10de('0xe7f')][_0x2cee90]=this[_0x10de('0xe7f')][_0x2cee90]+parseFloat(this[_0x10de('0xe7e')][_0x2cee90])),this['_yoyo']&&(_0x381c4a=this[_0x10de('0xe7f')][_0x2cee90],this[_0x10de('0xe7f')][_0x2cee90]=this[_0x10de('0xe7e')][_0x2cee90],this['_valuesEnd'][_0x2cee90]=_0x381c4a),this[_0x10de('0xe7d')][_0x2cee90]=this['_valuesStartRepeat'][_0x2cee90];return this[_0x10de('0xe81')]&&(this[_0x10de('0xe82')]=!this['_reversed']),void 0x0!==this['_repeatDelayTime']?this['_startTime']=_0x2e8f27+this[_0x10de('0xe80')]:this[_0x10de('0xe83')]=_0x2e8f27+this[_0x10de('0xe8d')],null!==this['_onRepeatCallback']&&this[_0x10de('0xe91')](this[_0x10de('0xe7c')]),!0x0;}null!==this['_onCompleteCallback']&&this[_0x10de('0xe90')](this[_0x10de('0xe7c')]);for(var _0x554774=0x0,_0x3e661c=this[_0x10de('0xe8e')][_0x10de('0xe')];_0x554774<_0x3e661c;_0x554774++)this[_0x10de('0xe8e')][_0x554774][_0x10de('0x31b')](this[_0x10de('0xe83')]+this['_duration']);return!0x1;}},_0x554774[_0x10de('0x317')]={'Linear':{'None':function(_0x2e8f27){return _0x2e8f27;}},'Quadratic':{'In':function(_0x2e8f27){return _0x2e8f27*_0x2e8f27;},'Out':function(_0x2e8f27){return _0x2e8f27*(0x2-_0x2e8f27);},'InOut':function(_0x2e8f27){return(_0x2e8f27*=0x2)<0x1?0.5*_0x2e8f27*_0x2e8f27:-0.5*(--_0x2e8f27*(_0x2e8f27-0x2)-0x1);}},'Cubic':{'In':function(_0x2e8f27){return _0x2e8f27*_0x2e8f27*_0x2e8f27;},'Out':function(_0x2e8f27){return--_0x2e8f27*_0x2e8f27*_0x2e8f27+0x1;},'InOut':function(_0x2e8f27){return(_0x2e8f27*=0x2)<0x1?0.5*_0x2e8f27*_0x2e8f27*_0x2e8f27:0.5*((_0x2e8f27-=0x2)*_0x2e8f27*_0x2e8f27+0x2);}},'Quartic':{'In':function(_0x2e8f27){return _0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27;},'Out':function(_0x2e8f27){return 0x1- --_0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27;},'InOut':function(_0x2e8f27){return(_0x2e8f27*=0x2)<0x1?0.5*_0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27:-0.5*((_0x2e8f27-=0x2)*_0x2e8f27*_0x2e8f27*_0x2e8f27-0x2);}},'Quintic':{'In':function(_0x2e8f27){return _0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27;},'Out':function(_0x2e8f27){return--_0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27+0x1;},'InOut':function(_0x2e8f27){return(_0x2e8f27*=0x2)<0x1?0.5*_0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27:0.5*((_0x2e8f27-=0x2)*_0x2e8f27*_0x2e8f27*_0x2e8f27*_0x2e8f27+0x2);}},'Sinusoidal':{'In':function(_0x2e8f27){return 0x1-Math[_0x10de('0x5b')](_0x2e8f27*Math['PI']/0x2);},'Out':function(_0x2e8f27){return Math[_0x10de('0x5c')](_0x2e8f27*Math['PI']/0x2);},'InOut':function(_0x2e8f27){return 0.5*(0x1-Math['cos'](Math['PI']*_0x2e8f27));}},'Exponential':{'In':function(_0x2e8f27){return 0x0===_0x2e8f27?0x0:Math['pow'](0x400,_0x2e8f27-0x1);},'Out':function(_0x2e8f27){return 0x1===_0x2e8f27?0x1:0x1-Math[_0x10de('0x345')](0x2,-0xa*_0x2e8f27);},'InOut':function(_0x2e8f27){return 0x0===_0x2e8f27?0x0:0x1===_0x2e8f27?0x1:(_0x2e8f27*=0x2)<0x1?0.5*Math['pow'](0x400,_0x2e8f27-0x1):0.5*(0x2-Math['pow'](0x2,-0xa*(_0x2e8f27-0x1)));}},'Circular':{'In':function(_0x2e8f27){return 0x1-Math[_0x10de('0x1d0')](0x1-_0x2e8f27*_0x2e8f27);},'Out':function(_0x2e8f27){return Math[_0x10de('0x1d0')](0x1- --_0x2e8f27*_0x2e8f27);},'InOut':function(_0x2e8f27){return(_0x2e8f27*=0x2)<0x1?-0.5*(Math['sqrt'](0x1-_0x2e8f27*_0x2e8f27)-0x1):0.5*(Math[_0x10de('0x1d0')](0x1-(_0x2e8f27-=0x2)*_0x2e8f27)+0x1);}},'Elastic':{'In':function(_0x2e8f27){return 0x0===_0x2e8f27?0x0:0x1===_0x2e8f27?0x1:-Math[_0x10de('0x345')](0x2,0xa*(_0x2e8f27-0x1))*Math[_0x10de('0x5c')](0x5*(_0x2e8f27-1.1)*Math['PI']);},'Out':function(_0x2e8f27){return 0x0===_0x2e8f27?0x0:0x1===_0x2e8f27?0x1:Math[_0x10de('0x345')](0x2,-0xa*_0x2e8f27)*Math[_0x10de('0x5c')](0x5*(_0x2e8f27-0.1)*Math['PI'])+0x1;},'InOut':function(_0x2e8f27){return 0x0===_0x2e8f27?0x0:0x1===_0x2e8f27?0x1:(_0x2e8f27*=0x2)<0x1?-0.5*Math[_0x10de('0x345')](0x2,0xa*(_0x2e8f27-0x1))*Math['sin'](0x5*(_0x2e8f27-1.1)*Math['PI']):0.5*Math[_0x10de('0x345')](0x2,-0xa*(_0x2e8f27-0x1))*Math[_0x10de('0x5c')](0x5*(_0x2e8f27-1.1)*Math['PI'])+0x1;}},'Back':{'In':function(_0x2e8f27){return _0x2e8f27*_0x2e8f27*(2.70158*_0x2e8f27-1.70158);},'Out':function(_0x2e8f27){return--_0x2e8f27*_0x2e8f27*(2.70158*_0x2e8f27+1.70158)+0x1;},'InOut':function(_0x2e8f27){var _0x2cee90=2.5949095;return(_0x2e8f27*=0x2)<0x1?_0x2e8f27*_0x2e8f27*((0x1+_0x2cee90)*_0x2e8f27-_0x2cee90)*0.5:0.5*((_0x2e8f27-=0x2)*_0x2e8f27*((0x1+_0x2cee90)*_0x2e8f27+_0x2cee90)+0x2);}},'Bounce':{'In':function(_0x2e8f27){return 0x1-_0x554774[_0x10de('0x317')][_0x10de('0xe92')][_0x10de('0x319')](0x1-_0x2e8f27);},'Out':function(_0x2e8f27){return _0x2e8f27<0x1/2.75?7.5625*_0x2e8f27*_0x2e8f27:_0x2e8f27<0x2/2.75?7.5625*(_0x2e8f27-=1.5/2.75)*_0x2e8f27+0.75:_0x2e8f27<2.5/2.75?7.5625*(_0x2e8f27-=2.25/2.75)*_0x2e8f27+0.9375:7.5625*(_0x2e8f27-=2.625/2.75)*_0x2e8f27+0.984375;},'InOut':function(_0x2e8f27){return _0x2e8f27<0.5?0.5*_0x554774[_0x10de('0x317')][_0x10de('0xe92')]['In'](0x2*_0x2e8f27):0.5*_0x554774[_0x10de('0x317')][_0x10de('0xe92')][_0x10de('0x319')](0x2*_0x2e8f27-0x1)+0.5;}}},_0x554774[_0x10de('0xe86')]={'Linear':function(_0x2e8f27,_0x2cee90){var _0x26ed8b=_0x2e8f27['length']-0x1,_0x221c21=_0x26ed8b*_0x2cee90,_0x5c63e3=Math['floor'](_0x221c21),_0x44064e=_0x554774[_0x10de('0xe86')][_0x10de('0xe93')][_0x10de('0x45f')];return _0x2cee90<0x0?_0x44064e(_0x2e8f27[0x0],_0x2e8f27[0x1],_0x221c21):0x1<_0x2cee90?_0x44064e(_0x2e8f27[_0x26ed8b],_0x2e8f27[_0x26ed8b-0x1],_0x26ed8b-_0x221c21):_0x44064e(_0x2e8f27[_0x5c63e3],_0x2e8f27[_0x26ed8b<_0x5c63e3+0x1?_0x26ed8b:_0x5c63e3+0x1],_0x221c21-_0x5c63e3);},'Bezier':function(_0x2e8f27,_0x2cee90){for(var _0x26ed8b=0x0,_0x221c21=_0x2e8f27[_0x10de('0xe')]-0x1,_0x5c63e3=Math[_0x10de('0x345')],_0x44064e=_0x554774[_0x10de('0xe86')][_0x10de('0xe93')][_0x10de('0xe94')],_0x381c4a=0x0;_0x381c4a<=_0x221c21;_0x381c4a++)_0x26ed8b+=_0x5c63e3(0x1-_0x2cee90,_0x221c21-_0x381c4a)*_0x5c63e3(_0x2cee90,_0x381c4a)*_0x2e8f27[_0x381c4a]*_0x44064e(_0x221c21,_0x381c4a);return _0x26ed8b;},'CatmullRom':function(_0x2e8f27,_0x2cee90){var _0x26ed8b=_0x2e8f27[_0x10de('0xe')]-0x1,_0x221c21=_0x26ed8b*_0x2cee90,_0x5c63e3=Math['floor'](_0x221c21),_0x44064e=_0x554774[_0x10de('0xe86')][_0x10de('0xe93')][_0x10de('0xe95')];return _0x2e8f27[0x0]===_0x2e8f27[_0x26ed8b]?_0x44064e(_0x2e8f27[((_0x5c63e3=_0x2cee90<0x0?Math[_0x10de('0x7d')](_0x221c21=_0x26ed8b*(0x1+_0x2cee90)):_0x5c63e3)-0x1+_0x26ed8b)%_0x26ed8b],_0x2e8f27[_0x5c63e3],_0x2e8f27[(_0x5c63e3+0x1)%_0x26ed8b],_0x2e8f27[(_0x5c63e3+0x2)%_0x26ed8b],_0x221c21-_0x5c63e3):_0x2cee90<0x0?_0x2e8f27[0x0]-(_0x44064e(_0x2e8f27[0x0],_0x2e8f27[0x0],_0x2e8f27[0x1],_0x2e8f27[0x1],-_0x221c21)-_0x2e8f27[0x0]):0x1<_0x2cee90?_0x2e8f27[_0x26ed8b]-(_0x44064e(_0x2e8f27[_0x26ed8b],_0x2e8f27[_0x26ed8b],_0x2e8f27[_0x26ed8b-0x1],_0x2e8f27[_0x26ed8b-0x1],_0x221c21-_0x26ed8b)-_0x2e8f27[_0x26ed8b]):_0x44064e(_0x2e8f27[_0x5c63e3?_0x5c63e3-0x1:0x0],_0x2e8f27[_0x5c63e3],_0x2e8f27[_0x26ed8b<_0x5c63e3+0x1?_0x26ed8b:_0x5c63e3+0x1],_0x2e8f27[_0x26ed8b<_0x5c63e3+0x2?_0x26ed8b:_0x5c63e3+0x2],_0x221c21-_0x5c63e3);},'Utils':{'Linear':function(_0x2e8f27,_0x2cee90,_0x26ed8b){return(_0x2cee90-_0x2e8f27)*_0x26ed8b+_0x2e8f27;},'Bernstein':function(_0x2e8f27,_0x2cee90){var _0x26ed8b=_0x554774[_0x10de('0xe86')][_0x10de('0xe93')][_0x10de('0xe96')];return _0x26ed8b(_0x2e8f27)/_0x26ed8b(_0x2cee90)/_0x26ed8b(_0x2e8f27-_0x2cee90);},'Factorial':(_0x381c4a=[0x1],function(_0x2e8f27){var _0x2cee90=0x1;if(_0x381c4a[_0x2e8f27])return _0x381c4a[_0x2e8f27];for(var _0x26ed8b=_0x2e8f27;0x1<_0x26ed8b;_0x26ed8b--)_0x2cee90*=_0x26ed8b;return _0x381c4a[_0x2e8f27]=_0x2cee90;}),'CatmullRom':function(_0x2e8f27,_0x2cee90,_0x26ed8b,_0x221c21,_0x5c63e3){var _0x2e8f27=0.5*(_0x26ed8b-_0x2e8f27),_0x221c21=0.5*(_0x221c21-_0x2cee90),_0x44064e=_0x5c63e3*_0x5c63e3;return _0x5c63e3*_0x44064e*(0x2*_0x2cee90-0x2*_0x26ed8b+_0x2e8f27+_0x221c21)+(-0x3*_0x2cee90+0x3*_0x26ed8b-0x2*_0x2e8f27-_0x221c21)*_0x44064e+_0x2e8f27*_0x5c63e3+_0x2cee90;}}},void 0x0!==(_0x2e8f27=function(){return _0x554774;}['apply'](_0xbbcdfe,[]))&&(_0x3e661c[_0x10de('0x1')]=_0x2e8f27);}['call'](this,_0x2cc4a1(0x197));},function(_0x4d9ab0,_0x2bc886){var _0x4913ef,_0x520367,_0x4d9ab0=_0x4d9ab0[_0x10de('0x1')]={};function _0x54d4dc(){throw new Error(_0x10de('0xe97'));}function _0x410ca3(){throw new Error(_0x10de('0xe98'));}try{_0x4913ef=_0x10de('0x14')==typeof setTimeout?setTimeout:_0x54d4dc;}catch(_0x3ab2df){_0x4913ef=_0x54d4dc;}try{_0x520367=_0x10de('0x14')==typeof clearTimeout?clearTimeout:_0x410ca3;}catch(_0x48d018){_0x520367=_0x410ca3;}function _0x365e1a(_0x2bc886){if(_0x4913ef===setTimeout)return setTimeout(_0x2bc886,0x0);if((_0x4913ef===_0x54d4dc||!_0x4913ef)&&setTimeout)return(_0x4913ef=setTimeout)(_0x2bc886,0x0);try{return _0x4913ef(_0x2bc886,0x0);}catch(_0x1b3387){try{return _0x4913ef[_0x10de('0x0')](null,_0x2bc886,0x0);}catch(_0x23611f){return _0x4913ef[_0x10de('0x0')](this,_0x2bc886,0x0);}}}var _0x178111,_0x25f357=[],_0x2ddd00=!0x1,_0x455e4d=-0x1;function _0x3fbac2(){_0x2ddd00&&_0x178111&&(_0x2ddd00=!0x1,_0x178111[_0x10de('0xe')]?_0x25f357=_0x178111[_0x10de('0x65')](_0x25f357):_0x455e4d=-0x1,_0x25f357[_0x10de('0xe')]&&_0xd51a76());}function _0xd51a76(){if(!_0x2ddd00){for(var _0x4d9ab0=_0x365e1a(_0x3fbac2),_0x2bc886=(_0x2ddd00=!0x0,_0x25f357['length']);_0x2bc886;){for(_0x178111=_0x25f357,_0x25f357=[];++_0x455e4d<_0x2bc886;)_0x178111&&_0x178111[_0x455e4d][_0x10de('0xe99')]();_0x455e4d=-0x1,_0x2bc886=_0x25f357[_0x10de('0xe')];}_0x178111=null,_0x2ddd00=!0x1,function(_0x2bc886){if(_0x520367===clearTimeout)return clearTimeout(_0x2bc886);if((_0x520367===_0x410ca3||!_0x520367)&&clearTimeout)return(_0x520367=clearTimeout)(_0x2bc886);try{_0x520367(_0x2bc886);}catch(_0x40bf66){try{return _0x520367[_0x10de('0x0')](null,_0x2bc886);}catch(_0x1538f8){return _0x520367['call'](this,_0x2bc886);}}}(_0x4d9ab0);}}function _0x8d0565(_0x4d9ab0,_0x2bc886){this['fun']=_0x4d9ab0,this[_0x10de('0xec')]=_0x2bc886;}function _0x258776(){}_0x4d9ab0[_0x10de('0x2d0')]=function(_0x4d9ab0){var _0x2bc886=new Array(arguments[_0x10de('0xe')]-0x1);if(0x1<arguments[_0x10de('0xe')])for(var _0x4913ef=0x1;_0x4913ef<arguments[_0x10de('0xe')];_0x4913ef++)_0x2bc886[_0x4913ef-0x1]=arguments[_0x4913ef];_0x25f357[_0x10de('0x84')](new _0x8d0565(_0x4d9ab0,_0x2bc886)),0x1!==_0x25f357[_0x10de('0xe')]||_0x2ddd00||_0x365e1a(_0xd51a76);},_0x8d0565[_0x10de('0xa')][_0x10de('0xe99')]=function(){this[_0x10de('0xe9a')][_0x10de('0x15')](null,this[_0x10de('0xec')]);},_0x4d9ab0['title']=_0x10de('0xe9b'),_0x4d9ab0[_0x10de('0xe9b')]=!0x0,_0x4d9ab0[_0x10de('0xe9c')]={},_0x4d9ab0[_0x10de('0xe9d')]=[],_0x4d9ab0[_0x10de('0x7f')]='',_0x4d9ab0['versions']={},_0x4d9ab0['on']=_0x258776,_0x4d9ab0[_0x10de('0xe9e')]=_0x258776,_0x4d9ab0['once']=_0x258776,_0x4d9ab0['off']=_0x258776,_0x4d9ab0[_0x10de('0xe9f')]=_0x258776,_0x4d9ab0[_0x10de('0xea0')]=_0x258776,_0x4d9ab0[_0x10de('0x387')]=_0x258776,_0x4d9ab0[_0x10de('0xea1')]=_0x258776,_0x4d9ab0[_0x10de('0xea2')]=_0x258776,_0x4d9ab0[_0x10de('0xea3')]=function(_0x4d9ab0){return[];},_0x4d9ab0[_0x10de('0xea4')]=function(_0x4d9ab0){throw new Error(_0x10de('0xea5'));},_0x4d9ab0[_0x10de('0xea6')]=function(){return'/';},_0x4d9ab0[_0x10de('0xea7')]=function(_0x4d9ab0){throw new Error('process.chdir\x20is\x20not\x20supported');},_0x4d9ab0[_0x10de('0xea8')]=function(){return 0x0;};},function(_0x264054,_0x42dfd8,_0x7ff935){'use strict';if(_0x7ff935(0xc8),_0x7ff935(0x199),!esmap)throw new Error(_0x10de('0x4c1'));},function(_0x3d6b61,_0x293c4a,_0x32e8fc){'use strict';var _0x4dab5e=_0xd8acec(_0x32e8fc(0xb9)),_0x41db2f=_0xd8acec(_0x32e8fc(0xba)),_0x5d7896=_0xd8acec(_0x32e8fc(0x34)),_0x496257=_0xd8acec(_0x32e8fc(0x5)),_0x454f7=_0xd8acec(_0x32e8fc(0x11)),_0x5b821a=_0xd8acec(_0x32e8fc(0x28)),_0x2bd003=function(_0x3d6b61){if(_0x3d6b61&&_0x3d6b61[_0x10de('0x5')])return _0x3d6b61;var _0x293c4a={};if(null!=_0x3d6b61)for(var _0x32e8fc in _0x3d6b61)Object[_0x10de('0xa')][_0x10de('0xb')][_0x10de('0x0')](_0x3d6b61,_0x32e8fc)&&(_0x293c4a[_0x32e8fc]=_0x3d6b61[_0x32e8fc]);return _0x293c4a[_0x10de('0x9')]=_0x3d6b61,_0x293c4a;}(_0x32e8fc(0x36)),_0x3c161e=_0xd8acec(_0x32e8fc(0x19a)),_0x2cf673=_0x32e8fc(0x19b),_0x3dcc82=_0x32e8fc(0x13);function _0xd8acec(_0x3d6b61){return _0x3d6b61&&_0x3d6b61[_0x10de('0x5')]?_0x3d6b61:{'default':_0x3d6b61};}var _0x2f6939,_0x536fb8,_0x45dd0a,_0x1d1867,_0x41902b,_0x175864,_0x208845,_0x26a32a,_0x803b4b,_0x5140f4,_0x52c5dd,_0x5d16ad,_0x2eb33c,_0x4eb314={};function _0x3cd00d(){esmap[_0x10de('0x87c')][_0x10de('0xea9')]&&cancelAnimationFrame(esmap['ESTileMap'][_0x10de('0xea9')]),esmap[_0x10de('0xeaa')]=!0x0,_0x26a32a=!0x1,_0x52c5dd=_0x803b4b=_0x41902b=_0x1d1867=_0x45dd0a=_0x2f6939=null,_0x536fb8['removeLayer']('estile_map'),_0x536fb8=null;}function _0x1c4c90(_0x454f7){_0x45dd0a=_0x2f6939[_0x10de('0x46')][_0x10de('0xeab')]||'amap',!_0x454f7[_0x10de('0xeac')]&&_0x2f6939['tileService'][_0x10de('0xead')]&&(_0x454f7[_0x10de('0xeac')]=_0x2f6939[_0x10de('0x8f3')][_0x10de('0xead')][0x0]),_0x454f7['tileUrl']&&-0x1<_0x454f7['tileUrl'][_0x10de('0x4d')]('|')&&((_0x3d6b61=function(){for(var _0x3d6b61={},_0x293c4a=_0x454f7['tileUrl'][_0x10de('0x68')]('|'),_0x32e8fc=0x1;_0x32e8fc<_0x293c4a[_0x10de('0xe')];_0x32e8fc++){var _0x5d7896=_0x293c4a[_0x32e8fc][_0x10de('0x68')]('=');_0x3d6b61[_0x5d7896[0x0]]=_0x5d7896[0x1];}return _0x3d6b61;}())[_0x10de('0xeae')]&&(_0x454f7[_0x10de('0xeaf')]=+_0x3d6b61[_0x10de('0xeae')]),_0x3d6b61[_0x10de('0xeb0')]&&(_0x454f7[_0x10de('0xeb1')]=+_0x3d6b61[_0x10de('0xeb0')]),_0x3d6b61[_0x10de('0xeb2')]&&(_0x3d6b61[_0x10de('0xeb2')]=JSON[_0x10de('0x2f4')](_0x3d6b61[_0x10de('0xeb2')])),_0x3d6b61[_0x10de('0xeb2')]&&(_0x454f7['tileSourceLevelExtent']={'min':_0x3d6b61[_0x10de('0xeb2')][0x0],'max':_0x3d6b61[_0x10de('0xeb2')][0x1]}),_0x454f7[_0x10de('0xeac')]=_0x454f7[_0x10de('0xeac')][_0x10de('0x68')]('|')[0x0]),_0x454f7[_0x10de('0xeaf')]&&(esmap[_0x10de('0x87c')]['tileSourceLevelOffset']=_0x454f7[_0x10de('0xeaf')]);var _0x3d6b61=esmap[_0x10de('0x39')]['getControlsInfo'](),_0x293c4a={'tileUrl':_0x454f7['tileUrl'],'tileTheme':_0x454f7[_0x10de('0xeb3')],'isShowWater':_0x454f7[_0x10de('0x406')],'isShowTileSourceLicense':_0x454f7[_0x10de('0xeb4')],'isOpenControllerInertia':_0x454f7[_0x10de('0xeb5')],'tileSourceMinLevel':_0x454f7[_0x10de('0xeb6')],'tileSourceMaxLevel':_0x454f7['tileSourceMaxLevel'],'tileSourceZoom':_0x454f7[_0x10de('0xeb7')],'tileSourceLevelOffset':_0x454f7[_0x10de('0xeaf')],'isInitShow':_0x454f7[_0x10de('0xeb8')]},_0x32e8fc=_0x293c4a['tileUrl'],_0x5d7896=_0x293c4a[_0x10de('0x406')],_0x3c161e=_0x293c4a['isShowTileSourceLicense'],_0xd8acec=_0x293c4a[_0x10de('0xeb5')],_0x26a32a=_0x293c4a['tileSourceMinLevel'],_0x5140f4=_0x293c4a[_0x10de('0xeb1')],_0x496257=_0x293c4a['tileSourceZoom'],_0x293c4a=_0x293c4a['isInitShow'],_0x3cd00d=new ESTileMap['Extent']('EPSG:3857',-20037508.342789244,20037508.342789244,-20037508.342789244,20037508.342789244),_0x1c4c90=_0x2f6939[_0x10de('0x46')]['container'],_0x151a50=_0x2cf673['DEFAULT_THEME'],_0x1c4c90=(_0x5d7896&&(_0x1d1867=new _0x2bd003[(_0x10de('0xbc'))]({'isShowWater':!0x0,'originColor':_0x151a50[_0x10de('0xeb9')],'replaceColor':_0x151a50[_0x10de('0xeba')]}),_0x151a50[_0x10de('0xebb')]=new THREE['TextureLoader']()[_0x10de('0xdb')](_0x2cf673[_0x10de('0xebc')]['waterSkyTexPath'])),(_0x536fb8=new ESTileMap[(_0x10de('0xebd'))](_0x1c4c90,_0x3cd00d,{'scene3D':_0x2f6939[_0x10de('0x46c')][_0x10de('0x467')],'camera':_0x2f6939[_0x10de('0x46c')]['camera'],'renderer':_0x2f6939[_0x10de('0x46c')]['renderer'],'disableSkirt':!0x0,'minSubdivisionLevel':_0x26a32a||0x0,'maxSubdivisionLevel':_0x5140f4||0x13,'mapType':_0x45dd0a,'tileOptions':_0x151a50,'isCloseInsideRender':!0x0,'initCameraLola':[113.935092,22.517181]}))['isSetTileBlending']=!0x1,esmap[_0x10de('0x8c5')]&&(_0x536fb8[_0x10de('0xebe')]=_0x2cf673['DEFAULT_THEME'],esmap[_0x10de('0x8c5')][_0x10de('0xebf')]=_0x536fb8),_0x5d7896&&_0x1d1867['updateView'](_0x536fb8),new ESTileMap[(_0x10de('0xec0'))](_0x536fb8,_0x2f6939[_0x10de('0x46c')][_0x10de('0x36d')],_0x2f6939));if(_0x536fb8['camera'][_0x10de('0xec1')][_0x10de('0x2fc')]=_0x1c4c90,_0x2f6939[_0x10de('0xec2')](_0x1c4c90),_0x2f6939[_0x10de('0x2fc')][_0x10de('0x2d6')](_0x10de('0xec3'),function(_0x3d6b61){_0x2f6939['fire'](_0x10de('0xa3a'),_0x3d6b61[_0x10de('0xec4')]),esmap[_0x10de('0x4f')][_0x10de('0x4cc')][_0x10de('0xec5')]()&&_0x2eb988(_0x3d6b61[_0x10de('0xec4')]);}),_0x2f6939[_0x10de('0x2fc')]['addEventListener'](_0x10de('0x31b'),function(_0x3d6b61){_0x2eb33c[_0x10de('0x1d3')](_0x2f6939[_0x10de('0x2fc')][_0x10de('0x304')]),esmap[_0x10de('0x4f')][_0x10de('0xda4')]=!0x0;}),_0x2f6939[_0x10de('0x2fc')][_0x10de('0x2d6')](_0x10de('0x8e5'),function(){esmap[_0x10de('0x87c')][_0x10de('0xaed')]===esmap['ESViewMode']['MODE_2D']&&'low'==_0x2f6939[_0x10de('0x46')][_0x10de('0x8e7')]&&(_0x2f6939[_0x10de('0x46c')]['camera'][_0x10de('0x1fd')]['copy'](_0x2f6939[_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x1fd')]),_0x2f6939[_0x10de('0x46c')][_0x10de('0x338')]['position'][_0x10de('0x1d3')](_0x2f6939[_0x10de('0x2fc')][_0x10de('0x6')]['position']),_0x2f6939[_0x10de('0x46c')]['camera'][_0x10de('0x7c2')]());}),_0x2f6939[_0x10de('0x2fc')][_0x10de('0x2d6')](_0x10de('0x42e'),function(_0x3d6b61){_0x2f6939['updateTileView']();}),esmap[_0x10de('0x4f')][_0x10de('0x46')][_0x10de('0x8b5')]&&_0x803b4b[_0x10de('0x87e')]&&(_0x26a32a=_0x803b4b,_0x5140f4=!0x1,(_0x151a50=esmap[_0x10de('0x39')][_0x10de('0x8ac')]())[_0x10de('0x8c9')]&&(_0x5140f4=!0x0),!_0x151a50['isPc']&&_0x151a50['platform']&&0x0<=[_0x10de('0x8af'),'iPad','iPod'][_0x10de('0x4d')](_0x151a50[_0x10de('0x8ae')])&&(_0x5140f4=!0x1),_0x151a50[_0x10de('0x8ad')]||'Android'!=_0x151a50[_0x10de('0x8ae')]||(_0x5140f4=!0x1),_0x26a32a[_0x10de('0x87e')]&&_0x5140f4&&esmap[_0x10de('0x4f')]['models'][_0x10de('0xec6')]()[_0x10de('0xdaf')](_0x26a32a,_0x2eb33c)),_0xd8acec?(_0x2f6939[_0x10de('0x2fc')][_0x10de('0xec7')]=!0x0,_0x2f6939[_0x10de('0x2fc')]['dampingFactor']=0.1,_0x2f6939[_0x10de('0x2fc')][_0x10de('0x5f9')]=0.08,_0x2f6939[_0x10de('0x2fc')][_0x10de('0xdec')]=0.25):(_0x2f6939[_0x10de('0x2fc')][_0x10de('0xec7')]=!0x1,_0x2f6939[_0x10de('0x2fc')]['rotateSpeed']=0.7,_0x2f6939[_0x10de('0x2fc')]['panSpeed']=1.6),_0x2f6939[_0x10de('0x2fc')]['isOpenTileFrozen']=!0x1,_0x2f6939['controls'][_0x10de('0xdce')]=0.1,_0x3c161e){for(var _0x5d7896=_0x2f6939['options'][_0x10de('0x36d')],_0x1a6301=_0x32e8fc,_0x1c4c90=document[_0x10de('0x87')](_0x10de('0xca')),_0x151a50=(_0x1c4c90[_0x10de('0x70')]['position']=_0x10de('0xe26'),_0x1c4c90[_0x10de('0x70')][_0x10de('0x6a9')]=0x0,_0x1c4c90[_0x10de('0x70')]['right']=0x0,_0x1c4c90[_0x10de('0x70')][_0x10de('0x32c')]=_0x10de('0xec8'),_0x1c4c90[_0x10de('0x70')][_0x10de('0xec9')]=_0x10de('0xeca'),_0x1c4c90[_0x10de('0x70')]['paddingLeft']='5px',_0x1c4c90['style'][_0x10de('0x4a0')]=_0x10de('0xecb'),_0x1c4c90[_0x10de('0x70')][_0x10de('0xecc')]='4px',document['createElement']('a')),_0x19720f=(_0x151a50[_0x10de('0x726')]('href','https://www.esmap.cn/'),_0x151a50[_0x10de('0x726')](_0x10de('0x304'),'_blank'),_0x151a50['style'][_0x10de('0x232')]=_0x10de('0xecd'),_0x151a50['style']['textDecoration']=_0x10de('0x72'),_0x151a50['innerText']=_0x10de('0x24'),_0x1c4c90[_0x10de('0x73')](_0x151a50),document[_0x10de('0x87')]('a')),_0x13e33d=[{'url':_0x10de('0xece'),'text':_0x10de('0xecf'),'link':'http://www.google.cn'},{'url':'autonavi.com','text':_0x10de('0xed0'),'link':_0x10de('0xed1')},{'url':_0x10de('0xed2'),'text':_0x10de('0xed3'),'link':'https://map.tianditu.gov.cn'},{'url':_0x10de('0xed4'),'text':_0x10de('0xed5'),'link':_0x10de('0xed6')}],_0x4aa040=0x0;_0x4aa040<_0x13e33d['length'];_0x4aa040++)if(-0x1<_0x1a6301['indexOf'](_0x13e33d[_0x4aa040][_0x10de('0xa12')])){_0x19720f['innerText']=_0x13e33d[_0x4aa040][_0x10de('0xed7')],_0x19720f['setAttribute'](_0x10de('0xed8'),_0x13e33d[_0x4aa040][_0x10de('0xed9')]),_0x19720f[_0x10de('0x726')]('target',_0x10de('0xeda'));break;}_0x19720f[_0x10de('0x70')][_0x10de('0x232')]=_0x10de('0x67c'),_0x19720f[_0x10de('0x70')]['textDecoration']='none',_0x19720f[_0x10de('0x70')][_0x10de('0xedb')]=_0x10de('0xedc'),_0x1c4c90[_0x10de('0x73')](_0x19720f),_0x5d7896[_0x10de('0x73')](_0x1c4c90);}var _0x33bdd4,_0x5109db,_0x5140f4=_0x2f6939[_0x10de('0x46')]['container'],_0x26a32a=document[_0x10de('0x87')](_0x10de('0xca')),_0xd8acec=(_0x26a32a[_0x10de('0x70')][_0x10de('0x222')]='absolute',_0x26a32a[_0x10de('0x70')][_0x10de('0x588')]=0x0,_0x26a32a[_0x10de('0x70')][_0x10de('0x37b')]=0x0,_0x26a32a[_0x10de('0x70')][_0x10de('0x35d')]=_0x10de('0xedd'),_0x26a32a[_0x10de('0x70')][_0x10de('0x32c')]=_0x10de('0xedd'),_0x26a32a['style'][_0x10de('0xede')]=_0x10de('0xedf'),_0x5140f4[_0x10de('0x73')](_0x26a32a),_0x52c5dd=_0x26a32a,esmap['_toggleTileLoadingMask']=function(_0x3d6b61){_0x52c5dd&&(_0x52c5dd[_0x10de('0x70')][_0x10de('0x71')]=_0x3d6b61?'block':_0x10de('0x72'));},new ESTileMap[(_0x10de('0xee0'))]({'extent':_0x3cd00d,'format':_0x10de('0xee1'),'url':_0x32e8fc||_0x10de('0xee2'),'attribution':{'name':_0x10de('0xee3')},'tileMatrixSet':'PM','zoom':_0x496257,'projection':_0x10de('0xee4'),'isInverted':_0x10de('0xee5')==_0x2f6939['coordSystem']})),_0x3c161e=new ESTileMap[(_0x10de('0xee6'))](_0x10de('0xee7'),{'source':_0xd8acec,'sourceType':_0x10de('0x37f')}),_0x201db8=(_0x536fb8['addLayer'](_0x3c161e),_0x2f6939[_0x10de('0x2fc')][_0x10de('0x51a')]['push'](_0x3c161e),_0x4eb314['tileMapView']=_0x536fb8,_0x4eb314[_0x10de('0xee8')]=_0x3c161e,!(_0x536fb8[_0x10de('0xee9')]['object3d'][_0x10de('0x222')]['y']=-0x1)===_0x293c4a&&(_0x536fb8[_0x10de('0xee9')]['object3d'][_0x10de('0x364')]=!0x1),_0x2f6939['on']('updateLts',function(_0x3d6b61){TWEEN[_0x10de('0x31d')](),esmap[_0x10de('0xeaa')]||(_0x536fb8[_0x10de('0xeea')](_0x536fb8[_0x10de('0x338')][_0x10de('0xec1')]),_0x1d1867&&_0x1d1867['update']());}),(_0x41902b=new _0x2bd003[(_0x10de('0xb8'))](_0x536fb8,_0x2f6939['controls']))[_0x10de('0x2d6')]('flyToComplete',function(){var _0x3d6b61;_0x2f6939[_0x10de('0x289')](_0x10de('0x54e'),_0x2f6939[_0x10de('0x54f')]),_0x2f6939[_0x10de('0x289')](_0x10de('0xeeb')),esmap[_0x10de('0x4f')][_0x10de('0x46')]['isShowShadow']&&_0x803b4b[_0x10de('0x87e')]&&(_0x3d6b61=esmap[_0x10de('0x4f')]['models'][_0x10de('0xec6')](),setTimeout(function(){_0x3d6b61[_0x10de('0xdb1')](_0x803b4b[_0x10de('0x87e')]);},0xfa0));}),_0x4eb314['flyTo']=function(_0x3d6b61){_0x41902b['flyTo']({'direction':_0x3d6b61[_0x10de('0x243')]||esmap[_0x10de('0x303')][_0x10de('0x307')],'position':new THREE['Vector3'](-_0x3d6b61['x'],0x0,_0x3d6b61['y']),'radiusFactor':_0x3d6b61[_0x10de('0xeec')]||0x7d0,'pitchAngle':_0x3d6b61[_0x10de('0xeed')]||0x2d,'complete':_0x3d6b61[_0x10de('0x312')]});},_0x2f6939[_0x10de('0x884')]=(_0x5109db=(0x0,_0x41db2f[_0x10de('0x9')])(_0x4dab5e['default']['mark'](function _0x3d6b61(_0x293c4a){var _0x32e8fc,_0x5d7896,_0x454f7,_0x3c161e;return _0x4dab5e[_0x10de('0x9')][_0x10de('0xe39')](function(_0x3d6b61){for(;;)switch(_0x3d6b61[_0x10de('0xe3a')]=_0x3d6b61[_0x10de('0x88')]){case 0x0:if(_0x454f7=function(){esmap[_0x10de('0x4f')][_0x10de('0xda4')]=!0x1,_0x41902b[_0x10de('0x310')]({'targetPos':_0x32e8fc,'radius':_0x293c4a[_0x10de('0x230')],'pitchAngle':_0x293c4a[_0x10de('0x301')],'directionAngle':_0x293c4a['directionAngle'],'time':_0x293c4a[_0x10de('0x507')],'callback':_0x293c4a[_0x10de('0x312')],'tileUpdateCallbacks':{'start':_0x2f6939[_0x10de('0x2fc')]['cameraAnimateStart'],'update':_0x2f6939[_0x10de('0x2fc')][_0x10de('0xeee')],'complete':_0x2f6939[_0x10de('0x2fc')]['cameraAnimateComplete']}}),setTimeout(function(){_0x2eb988(Math[_0x10de('0x7c')](_0x2f6939[_0x10de('0x54f')]));},0x3e8*(_0x293c4a[_0x10de('0x507')]||0x3));},_0x293c4a[_0x10de('0x230')]){_0x3d6b61[_0x10de('0x88')]=0x4;break;}return console[_0x10de('0x205')](_0x10de('0xeef')),_0x3d6b61['abrupt'](_0x10de('0xdf'));case 0x4:if(_0x32e8fc=null,_0x5d7896=0x0,!_0x293c4a[_0x10de('0x4d7')]||!_0x293c4a[_0x10de('0x4d8')]){_0x3d6b61[_0x10de('0x88')]=0xf;break;}if(!_0x2f6939[_0x10de('0x34')](_0x293c4a['bid'])){_0x3d6b61[_0x10de('0x88')]=0xd;break;}(_0x3c161e=_0x2f6939[_0x10de('0x34')](_0x293c4a[_0x10de('0x4d7')]))[_0x10de('0xef0')](_0x293c4a['fnum']),_0x5d7896=_0x3c161e[_0x10de('0x4d1')](_0x293c4a[_0x10de('0x4d8')]),_0x3d6b61[_0x10de('0x88')]=0xf;break;case 0xd:return console[_0x10de('0x205')](_0x10de('0xef1')+_0x293c4a['bid']+_0x10de('0xef2')),_0x3d6b61[_0x10de('0xe4c')]('return');case 0xf:_0x32e8fc=_0x2f6939[_0x10de('0x20')]({'x':_0x293c4a['x'],'y':_0x293c4a['y'],'z':(_0x293c4a['z']||0x0)+_0x5d7896}),_0x3c161e=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef3')](_0x293c4a[_0x10de('0x230')]),0xf<_0x2f6939[_0x10de('0x2fc')]['_earthZoom']&&_0x3c161e<=0xf&&_0x293c4a[_0x10de('0x301')]<THREE['Math'][_0x10de('0xaa8')](_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef4')])?_0x293c4a['delay']?setTimeout(function(){_0x2f6939[_0x10de('0x2fc')]['pitchAnimate'](_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef4')],0x1f4,function(){_0x454f7();});},0x3e8*_0x293c4a[_0x10de('0xef5')]):_0x2f6939[_0x10de('0x2fc')]['pitchAnimate'](_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef4')],0x1f4,function(){_0x454f7();}):_0x293c4a[_0x10de('0xef5')]?setTimeout(function(){_0x454f7();},0x3e8*_0x293c4a[_0x10de('0xef5')]):_0x454f7();case 0x12:case'end':return _0x3d6b61['stop']();}},_0x3d6b61,this);})),function(_0x3d6b61){return _0x5109db[_0x10de('0x15')](this,arguments);}),_0x2f6939[_0x10de('0x885')]=function(_0x3d6b61,_0x293c4a){var _0x32e8fc=null,_0x5d7896=_0x3d6b61&&_0x293c4a?(_0x32e8fc=_0x2f6939[_0x10de('0xdd2')]({'bid':_0x3d6b61,'fnum':_0x293c4a}),_0x2f6939[_0x10de('0x20')](_0x32e8fc)):(_0x32e8fc=_0x2f6939[_0x10de('0xdd9')]({'x':_0x2f6939[_0x10de('0x2fc')][_0x10de('0x304')]['x'],'y':_0x2f6939[_0x10de('0x2fc')][_0x10de('0x304')]['y'],'z':_0x2f6939[_0x10de('0x2fc')][_0x10de('0x304')]['z']}),_0x2f6939[_0x10de('0x2fc')]['target']),_0x5d7896=_0x2f6939[_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x222')]['distanceTo'](_0x5d7896);return _0x3d6b61&&_0x293c4a?{'directionAngle':+_0x2f6939['rotateAngle'][_0x10de('0x720')](0x2),'pitchAngle':+_0x2f6939['tiltAngle'][_0x10de('0x720')](0x2),'radius':+_0x5d7896['toFixed'](0x2),'x':+_0x32e8fc['x']['toFixed'](0x2),'y':+_0x32e8fc['y'][_0x10de('0x720')](0x2),'z':0x0,'bid':_0x3d6b61,'fnum':_0x293c4a,'time':0x3}:{'directionAngle':+_0x2f6939['rotateAngle'][_0x10de('0x720')](0x2),'pitchAngle':+_0x2f6939[_0x10de('0xeed')][_0x10de('0x720')](0x2),'radius':+_0x5d7896['toFixed'](0x2),'x':+_0x32e8fc['x'][_0x10de('0x720')](0x2),'y':+_0x32e8fc['y']['toFixed'](0x2),'z':+_0x32e8fc['z'][_0x10de('0x720')](0x1),'time':0x3};},_0x2f6939[_0x10de('0xef6')]=_0x2c97ee,_0x454f7[_0x10de('0xef7')]||0x8),_0x2362d1=(_0x2f6939[_0x10de('0x8f3')][_0x10de('0xef8')]?esmap[_0x10de('0x39')]['setControlsInfo'](_0x3d6b61):(_0x151a50={'startZoom':_0x201db8,'scaleLevelAnimate':_0x454f7['scaleLevelAnimate']},_0x5d7896=(0x0,_0x3dcc82[_0x10de('0x32')])(_0x2f6939[_0x10de('0x46')][_0x10de('0x23f')]['x'],_0x2f6939[_0x10de('0x46')][_0x10de('0x23f')]['y']),_0x1c4c90=new THREE[(_0x10de('0x1ca'))](_0x5d7896['x'],_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef9')](_0x151a50[_0x10de('0xefa')]),_0x5d7896['y']),_0x5140f4=new THREE['Vector3'](_0x5d7896['x'],0x0,_0x5d7896['y']),_0x536fb8[_0x10de('0xee9')][_0x10de('0x368')]['position'][_0x10de('0x1e')](-_0x2f6939['mapScene'][_0x10de('0x36')],0x0,-_0x2f6939[_0x10de('0x37')][_0x10de('0x38')]),_0x2f6939[_0x10de('0x8f3')][_0x10de('0xefb')]&&!_0x151a50[_0x10de('0xefc')]?_0x2f6939[_0x10de('0x884')](_0x2f6939[_0x10de('0x8f3')][_0x10de('0xefb')]):(_0x2f6939['controls'][_0x10de('0xefd')](_0x1c4c90,_0x5140f4,_0x151a50[_0x10de('0xefa')]),_0x2f6939[_0x10de('0x2fc')][_0x10de('0x31d')]({'forceTheta':Math['PI']+THREE['Math'][_0x10de('0x315')](_0x2f6939[_0x10de('0x46')]['defaultAngle'])}))),void 0x0===_0x4eb314[_0x10de('0xaed')]&&Object[_0x10de('0x2')](_0x4eb314,_0x10de('0xaed'),{'get':function(){return _0x208845;},'set':function(_0x3d6b61){_0x5d16ad||_0x3d6b61===_0x208845||(_0x3d6b61===esmap[_0x10de('0xefe')][_0x10de('0xeff')]?(_0x5d16ad=!0x0,_0x2f6939[_0x10de('0x8e6')]={'mode':esmap[_0x10de('0xefe')][_0x10de('0xeff')],'force2D':!0x0,'time':0x1,'callback':function(){_0x2f6939[_0x10de('0x2fc')]['initDistance_']=_0x2f6939[_0x10de('0x2fc')][_0x10de('0x304')][_0x10de('0x305')](_0x2f6939[_0x10de('0x2fc')][_0x10de('0x6')][_0x10de('0x222')]),_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf00')]=_0x2f6939[_0x10de('0x46c')][_0x10de('0xaef')]['top'],_0x2f6939['controls'][_0x10de('0xde8')]=0x0,_0x2f6939[_0x10de('0x2fc')]['maxNearGroundPolarAngle']=0x0,_0x536fb8[_0x10de('0x338')][_0x10de('0xec1')]=_0x2f6939['controls'][_0x10de('0x6')],_0x208845=_0x3d6b61,_0x5d16ad=!0x1;}},esmap[_0x10de('0x4f')][_0x10de('0x4cb')][_0x10de('0x926')](!0x1)):_0x3d6b61===esmap[_0x10de('0xefe')][_0x10de('0xf01')]&&(_0x5d16ad=!0x0,_0x2f6939['viewMode']={'mode':esmap[_0x10de('0xefe')][_0x10de('0xf01')],'force2D':!0x0,'time':0x1,'callback':function(){_0x208845=_0x3d6b61,_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf02')]=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf03')],_0x2f6939['controls'][_0x10de('0xf04')](),_0x5d16ad=!0x1,_0x536fb8['camera'][_0x10de('0xec1')]=_0x2f6939['controls'][_0x10de('0x6')];}},esmap[_0x10de('0x4f')][_0x10de('0x4cb')][_0x10de('0x926')](!0x0)));}}),void 0x0===_0x4eb314[_0x10de('0x8e6')]&&Object['defineProperty'](_0x4eb314,_0x10de('0x8e6'),{'get':function(){return _0x175864;},'set':function(_0x3d6b61){_0x3d6b61===esmap[_0x10de('0xefe')][_0x10de('0xeff')]?(_0x175864=_0x3d6b61,_0x2f6939[_0x10de('0x2fc')]['_tempMaxPolarAngle']=0x0,_0x2f6939['controls'][_0x10de('0xf03')]=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf02')],_0x2f6939[_0x10de('0x2fc')][_0x10de('0xde8')]=0x0,_0x2f6939['controls'][_0x10de('0xf02')]=0x0):_0x3d6b61===esmap[_0x10de('0xefe')]['MODE_3D']&&(_0x175864=_0x3d6b61,_0x2f6939[_0x10de('0x2fc')]['_tempMaxPolarAngle']=0.3*Math['PI'],_0x2f6939[_0x10de('0x2fc')]['maxPolarAngle']=0.3*Math['PI'],_0x2f6939['controls'][_0x10de('0xf02')]=_0x2f6939['controls'][_0x10de('0xf03')],_0x2f6939[_0x10de('0xeed')]=0x28);}}),void 0x0===_0x4eb314[_0x10de('0xf05')]&&Object[_0x10de('0x2')](_0x4eb314,_0x10de('0xf05'),{'get':function(){return _0x2f6939[_0x10de('0x2fc')]['autoRotate'];},'set':function(_0x3d6b61){_0x2f6939[_0x10de('0x2fc')]['autoRotate']=_0x3d6b61;}}),void 0x0===_0x4eb314['tileSourceMaxLevel']&&Object[_0x10de('0x2')](_0x4eb314,_0x10de('0xeb1'),{'get':function(){return _0x536fb8[_0x10de('0xee9')]['maxSubdivisionLevel'];},'set':function(_0x3d6b61){_0x536fb8['tileLayer']['maxSubdivisionLevel']=_0x3d6b61;}}),_0x2f6939['mapScene'][_0x10de('0xf06')][_0x10de('0x364')]=!0x0,_0x454f7[_0x10de('0xef7')]),_0x26a32a=0x0;_0x454f7['scaleLevelAnimate']&&(_0x2362d1=_0x454f7['scaleLevelAnimate'][_0x10de('0xf07')],_0x26a32a=_0x454f7[_0x10de('0xefc')]['duration']),_0x2f6939[_0x10de('0x46')]['viewMode']==esmap[_0x10de('0xefe')][_0x10de('0xeff')]&&(_0x454f7[_0x10de('0xf08')]=0.1),_0x2362d1<_0x2f6939['options'][_0x10de('0xf09')]&&console['info'](_0x10de('0xf0a')+(_0x454f7[_0x10de('0xefc')]?_0x10de('0xf0b'):_0x10de('0xef7'))+_0x10de('0xf0c'),_0x10de('0x8e0')),_0x2f6939[_0x10de('0x8f3')][_0x10de('0xef8')]?_0x23a9c5({'targetLevel':_0x2362d1,'startZoom':_0x201db8,'scaleLevel':_0x454f7[_0x10de('0xef7')],'scaleLevelAnimate':_0x454f7['scaleLevelAnimate']}):(_0x2f6939['mapView'][_0x10de('0x36d')][_0x10de('0x70')][_0x10de('0xf0d')]='wait',_0x33bdd4={'isNeedAnimate':_0x454f7[_0x10de('0xefc')],'targetLevel':_0x2362d1,'duration':_0x26a32a,'initPitchAngle':_0x454f7['initPitchAngle']},new _0x5b821a[(_0x10de('0x9'))](function(_0x3d6b61,_0x293c4a){!_0x33bdd4[_0x10de('0xf0e')]&&_0x2f6939[_0x10de('0x8f3')][_0x10de('0xefb')]?_0x3d6b61():_0x2f6939[_0x10de('0x2fc')]['pointToPointAnimate'](_0x33bdd4[_0x10de('0xf07')],0x3e8*_0x33bdd4[_0x10de('0x225')],function(){_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf0f')](THREE[_0x10de('0x18')][_0x10de('0x315')](_0x33bdd4[_0x10de('0xf08')]),0x3e8,function(){_0x3d6b61();}),_0x33bdd4[_0x10de('0xf10')]&&_0x1ae603();});})['then'](function(){_0x23a9c5({'targetLevel':_0x2362d1,'startZoom':_0x201db8,'scaleLevel':_0x454f7[_0x10de('0xef7')],'scaleLevelAnimate':_0x454f7[_0x10de('0xefc')]}),_0x454f7[_0x10de('0xf11')]&&new _0x2bd003[(_0x10de('0xbb'))](_0x2f6939[_0x10de('0x46c')][_0x10de('0x36d')],_0x536fb8,_0x4eb314[_0x10de('0xee8')],_0x10de('0xf12'),function(_0x3d6b61){})[_0x10de('0x4c6')]();}));}function _0x23a9c5(_0x3d6b61){_0x2eb988(_0x3d6b61['targetLevel']),_0x2f6939[_0x10de('0xf13')]=!0x0,_0x2f6939['updateTileView'](),_0x2f6939[_0x10de('0x46')][_0x10de('0x8e6')]==esmap[_0x10de('0xefe')]['MODE_2D']&&(esmap[_0x10de('0x87c')]['viewMode']=esmap[_0x10de('0xefe')][_0x10de('0xeff')]),setTimeout(function(){_0x2f6939[_0x10de('0x289')](_0x10de('0xf14'),{'level':_0x3d6b61[_0x10de('0xefc')]?_0x3d6b61[_0x10de('0xefa')]:_0x3d6b61[_0x10de('0xef7')]});},0x3e8);}function _0x2c97ee(_0x3d6b61){var _0x293c4a=null,_0x32e8fc=0x1;if(_0x10de('0x13')==typeof _0x3d6b61)_0x293c4a=_0x3d6b61;else if('object'===(void 0x0===_0x3d6b61?_0x10de('0x17'):(0x0,_0x5d7896['default'])(_0x3d6b61))){if(!_0x3d6b61[_0x10de('0x10')])return;_0x293c4a=_0x3d6b61[_0x10de('0x10')],_0x3d6b61[_0x10de('0x507')]&&(_0x32e8fc=_0x3d6b61[_0x10de('0x507')]);}0xf<_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf15')]&&_0x293c4a<=0xf&&_0x2f6939[_0x10de('0xeed')]>_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef4')]?_0x2f6939[_0x10de('0x2fc')]['pitchAnimate'](_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef4')],0x1f4,function(){_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf16')](_0x293c4a,0x3e8*(_0x32e8fc-0.5),function(){_0x3d6b61[_0x10de('0x31e')]&&_0x3d6b61['onComplete'](),_0x2f6939[_0x10de('0xf17')]();});}):_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf16')](_0x293c4a,0x3e8*_0x32e8fc,function(){_0x3d6b61['onComplete']&&_0x3d6b61[_0x10de('0x31e')](),_0x2f6939[_0x10de('0xf17')]();});}function _0x2eb988(_0x3d6b61){var _0x293c4a=esmap[_0x10de('0x4f')][_0x10de('0x4cc')][_0x10de('0xec5')]();_0x293c4a&&_0x293c4a[_0x10de('0x927')]&&_0x293c4a[_0x10de('0x927')][_0x10de('0x46f')]&&(_0x293c4a[_0x10de('0x929')]||(_0x10de('0xa2b')==_0x293c4a[_0x10de('0x927')][_0x10de('0x85')]&&_0x3d6b61<(_0x5140f4?0x10:0xe)&&_0x536fb8['tileLayer']['object3d'][_0x10de('0x364')]?_0x293c4a[_0x10de('0x927')][_0x10de('0x46f')][_0x10de('0x364')]=!0x1:_0x293c4a[_0x10de('0x927')][_0x10de('0x46f')][_0x10de('0x364')]=!0x0));}function _0x1ae603(){new _0x3c161e[(_0x10de('0x9'))]({'container':_0x2f6939[_0x10de('0x46c')][_0x10de('0x36d')],'tileView':_0x536fb8,'tileLayer':_0x4eb314[_0x10de('0xee8')],'callback':function(_0x3d6b61){_0x2f6939[_0x10de('0x289')]('tileClick',{'x':-_0x3d6b61['x'],'y':_0x3d6b61['z']});}})[_0x10de('0x4c6')]();}esmap[_0x10de('0x87c')]=_0x4eb314,_0x41902b=_0x1d1867=_0x45dd0a=_0x536fb8=_0x2f6939=null,_0x175864=esmap[_0x10de('0xefe')][_0x10de('0xf01')],_0x208845=esmap[_0x10de('0xefe')]['MODE_3D'],_0x26a32a=!0x1,_0x5140f4=(_0x803b4b=null,_0x3dcc82['getOS'])(),_0x52c5dd=null,_0x5d16ad=!0x1,_0x2eb33c=new THREE['Vector3'](),_0x4eb314['init']=function(_0x5140f4){_0x5140f4=(0x0,_0x454f7[_0x10de('0x9')])({'effectThemeSrc':null,'effectThemeId':null,'tileUrl':null,'scaleLevelAnimate':!0x1,'scaleLevel':0xe,'openTileClick':!0x1,'isShowWater':!0x1,'initPitchAngle':0x2d,'isShowTileSourceLicense':!0x0,'tileSourceMinLevel':null,'tileSourceMaxLevel':null,'isOpenControllerInertia':!0x1,'tileClickDebug':!0x1,'tileSourceLevelOffset':null,'tileSourceLevelExtent':null,'isInitShow':!0x0},_0x5140f4),(_0x2f6939=esmap['ESMap'][_0x10de('0x25')])[_0x10de('0xf18')]=_0x1ae603,_0x5140f4[_0x10de('0xf19')]&&(selectEffect=!0x0,_0x2f6939['options'][_0x10de('0xf1a')]=!0x0),_0x5140f4[_0x10de('0xf1b')]&&(_0x2f6939[_0x10de('0x46')][_0x10de('0xf1b')]=_0x5140f4[_0x10de('0xf1b')]),esmap[_0x10de('0xa2e')]=!0x0,void 0x0!==esmap[_0x10de('0xeaa')]&&(esmap[_0x10de('0xeaa')]=!0x1),_0x2f6939['on'](_0x10de('0x8d0'),function(){}),_0x2f6939['on'](_0x10de('0x8e2'),function(_0x3d6b61){if(!_0x26a32a){var _0x293c4a,_0x5d7896;if(_0x26a32a=!0x0,_0x2f6939[_0x10de('0x46')][_0x10de('0x23f')]['x'],_0x2f6939[_0x10de('0x46')][_0x10de('0x23f')]['y'],_0x5140f4[_0x10de('0xeac')]){for(var _0x32e8fc=_0x2f6939[_0x10de('0xf1c')][_0x10de('0x68')](','),_0x454f7=!0x1,_0x3c161e=0x0;_0x3c161e<_0x32e8fc['length'];_0x3c161e++)if(-0x1<_0x5140f4[_0x10de('0xeac')][_0x10de('0x4d')](_0x32e8fc[_0x3c161e])){_0x454f7=!0x0;break;}if('WndNWnQOW24='!==esmap[_0x10de('0x39')][_0x10de('0xf1d')](document[_0x10de('0x392')])&&'TjEySDU2TS4xSDUyTw=='!==esmap[_0x10de('0x39')][_0x10de('0xf1d')](document['domain'])&&_0x10de('0xf1e')!==esmap[_0x10de('0x39')][_0x10de('0xf1d')](document[_0x10de('0x392')])&&_0x10de('0xf1f')!==esmap[_0x10de('0x39')][_0x10de('0xf1d')](document[_0x10de('0x392')])||(_0x454f7=!0x0),!(_0x454f7=!!window[_0x10de('0xf20')]||_0x454f7))return void console[_0x10de('0xef')]('tile\x20url\x20domain\x20is\x20not\x20permission');}if(''===_0x5140f4['tileUrl']||!_0x5140f4[_0x10de('0xeac')]&&!_0x2f6939[_0x10de('0x8f3')]['tileurl'][0x0])return _0x2f6939[_0x10de('0xf13')]=!0x0,void _0x2f6939['updateTileView']();esmap['ESEffectTool']&&esmap[_0x10de('0x4f')][_0x10de('0x51')]&&esmap[_0x10de('0x4f')][_0x10de('0x51')],_0x2f6939[_0x10de('0x37')][_0x10de('0xf06')][_0x10de('0x364')]=!0x1,esmap[_0x10de('0x87c')][_0x10de('0x87d')]=!0x0,esmap['ESEffectTool'][_0x10de('0xf21')]?(_0x293c4a=(0x0,_0x3dcc82['selectCityMapEffectConfigPath'])(_0x2f6939,esmap['ESEffectTool'][_0x10de('0x46')]),_0x5d7896=_0x293c4a,new _0x5b821a['default'](function(_0x293c4a,_0x32e8fc){new THREE[(_0x10de('0x2f5'))]()[_0x10de('0xdb')](_0x5d7896+_0x10de('0x2f6'),function(_0x3d6b61){try{_0x293c4a(JSON[_0x10de('0x2f4')](_0x3d6b61));}catch(_0x465947){console[_0x10de('0xef')](_0x10de('0x8df'),_0x10de('0x8e0')),console[_0x10de('0xef')](_0x465947);}},null,function(_0x3d6b61){console['error']('ESTileMap\x20Theme\x20need\x20'+_0x5d7896+_0x10de('0x2f6')),_0x32e8fc(_0x3d6b61);});})[_0x10de('0x385')](function(_0x3d6b61){if((_0x803b4b=_0x3d6b61)[_0x10de('0xeb3')]){_0x2cf673['DEFAULT_THEME'][_0x10de('0xf22')]=!0x0;var _0x293c4a=_0x3d6b61['tileTheme'],_0x32e8fc=(_0x293c4a[_0x10de('0x43b')]&&_0x2cf673['DEFAULT_THEME'][_0x10de('0x43b')][_0x10de('0x331')](_0x293c4a[_0x10de('0x43b')]),_0x293c4a[_0x10de('0x645')]&&_0x2cf673['DEFAULT_THEME'][_0x10de('0x645')][_0x10de('0x331')](_0x293c4a[_0x10de('0x645')]),_0x293c4a['skyColor']&&_0x2cf673[_0x10de('0xebc')][_0x10de('0xf23')][_0x10de('0x331')](_0x293c4a[_0x10de('0xf23')]),_0x293c4a['colorMapping']&&(_0x2cf673[_0x10de('0xebc')][_0x10de('0xf24')]=!0x0,_0x2cf673[_0x10de('0xebc')]['colorMapping']=(0x0,_0x2cf673[_0x10de('0xf25')])(_0x293c4a[_0x10de('0xf26')]['steps'],_0x293c4a[_0x10de('0xf26')][_0x10de('0xf27')])),_0x293c4a[_0x10de('0xf28')]&&(_0x2cf673[_0x10de('0xebc')][_0x10de('0xf29')]=!0x0,_0x5d7896=(0x0,_0x3dcc82[_0x10de('0x29')])(_0x293c4a[_0x10de('0xf28')]),(_0x5d7896=new THREE[(_0x10de('0xd9'))]()[_0x10de('0xdb')](_0x5d7896))[_0x10de('0x686')]=_0x5d7896[_0x10de('0x685')]=THREE['LinearFilter'],_0x5d7896[_0x10de('0x65a')]=!0x1,_0x2cf673[_0x10de('0xebc')][_0x10de('0xf26')]=_0x5d7896),!0x0),_0x5d7896=!0x1,_0x454f7=void 0x0;try{for(var _0x3c161e,_0xd8acec=(0x0,_0x496257[_0x10de('0x9')])([_0x10de('0xf2a'),_0x10de('0xf2b'),'contrast','hue',_0x10de('0xf2c'),_0x10de('0x6cc')]);!(_0x32e8fc=(_0x3c161e=_0xd8acec[_0x10de('0x88')]())['done']);_0x32e8fc=!0x0){var _0x26a32a=_0x3c161e['value'];_0x293c4a[_0x10de('0xb')](_0x26a32a)&&(_0x2cf673[_0x10de('0xebc')][_0x26a32a]=_0x293c4a[_0x26a32a]);}}catch(_0x911dbe){_0x5d7896=!0x0,_0x454f7=_0x911dbe;}finally{try{!_0x32e8fc&&_0xd8acec[_0x10de('0xdf')]&&_0xd8acec['return']();}finally{if(_0x5d7896)throw _0x454f7;}}}_0x3d6b61[_0x10de('0xf2d')]&&(_0x5d7896=_0x3d6b61[_0x10de('0xf2d')],_0x2cf673[_0x10de('0xebc')][_0x10de('0x406')]=_0x5140f4['isShowWater'],_0x2cf673[_0x10de('0xebc')]['waterSkyTexPath']=(0x0,_0x3dcc82[_0x10de('0x29')])(_0x5d7896[_0x10de('0x89c')]),_0x5d7896['originColor']&&(_0x2cf673[_0x10de('0xebc')][_0x10de('0xeb9')]=new THREE['Color']()[_0x10de('0x331')](_0x5d7896['originColor'])),_0x5d7896[_0x10de('0xf2e')]&&(_0x2cf673[_0x10de('0xebc')][_0x10de('0xeba')]=new THREE[(_0x10de('0x1cc'))]()[_0x10de('0x331')](_0x5d7896['replaceColor'])),_0x5d7896['sparklingColor']&&(_0x2cf673['DEFAULT_THEME'][_0x10de('0xf2f')]=new THREE['Color']()[_0x10de('0x331')](_0x5d7896['sparklingColor']))),_0x1c4c90(_0x5140f4);})):_0x1c4c90(_0x5140f4);}}),_0x2f6939['on']('_setMaxPolarAngle',function(_0x3d6b61){_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf02')]=THREE[_0x10de('0x18')]['degToRad'](_0x3d6b61);}),_0x2f6939['on'](_0x10de('0x53a'),function(_0x3d6b61){_0x2f6939[_0x10de('0x2fc')][_0x10de('0x321')]='2D'!==_0x3d6b61;}),_0x2f6939['once'](_0x10de('0xce'),function(){_0x3cd00d();});},_0x4eb314[_0x10de('0xf30')]=_0x2c97ee,_0x4eb314[_0x10de('0x4cf')]=_0x3cd00d,_0x4eb314['Tools']={'getTargetLoLaFromPos':function(_0x3d6b61){return ESTileMap['CoordTransform'][_0x10de('0xf31')]({'mapType':'google','x':_0x3d6b61[0x0],'z':_0x3d6b61[0x1]});},'getTargetPosFromLoLa':function(_0x3d6b61){_0x3d6b61=ESTileMap[_0x10de('0x381')][_0x10de('0x37e')]({'mapType':_0x10de('0x37f'),'longitude':_0x3d6b61[0x0],'latitude':_0x3d6b61[0x1]});return new THREE['Vector3'](_0x3d6b61['x'],0x0,_0x3d6b61['z']);},'setControlsConfigs':function(_0x3d6b61){_0x2f6939[_0x10de('0x2fc')]['isLockEarthZoom']=!0x0,_0x3d6b61[_0x10de('0xf32')]&&_0x3d6b61['minLevel']>=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf33')]&&(_0x2f6939[_0x10de('0x2fc')]['minEarthZoom']=_0x3d6b61[_0x10de('0xf32')]),_0x3d6b61['maxLevel']&&_0x3d6b61['maxLevel']<=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf34')]&&(_0x2f6939[_0x10de('0x2fc')]['maxEarthZoom']=_0x3d6b61[_0x10de('0xf35')]),void 0x0!==_0x3d6b61[_0x10de('0xde8')]&&(_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef4')]=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xde8')],_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf03')]=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf02')],_0x2f6939[_0x10de('0x2fc')][_0x10de('0xde8')]=_0x3d6b61[_0x10de('0xde8')],_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf02')]=_0x3d6b61[_0x10de('0xde8')]);},'resetControlsConfigs':function(){_0x2f6939['controls'][_0x10de('0xf36')]=!0x1,_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf33')]=_0x2f6939[_0x10de('0x2fc')]['_minEarthZoom'],_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf34')]=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf37')],_0x2f6939[_0x10de('0x2fc')]['maxPolarAngle']=_0x2f6939[_0x10de('0x2fc')][_0x10de('0xef4')],_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf02')]=_0x2f6939['controls'][_0x10de('0xf03')];},'toggleTileLayer':function(_0x3d6b61){_0x536fb8&&(_0x536fb8[_0x10de('0xee9')][_0x10de('0x368')]['visible']=!!_0x3d6b61,esmap[_0x10de('0x4f')][_0x10de('0x4cb')]['toggleTileRoutesVisible'](_0x3d6b61));},'setAlpha':function(_0x3d6b61,_0x293c4a){'number'!=typeof _0x3d6b61&&'number'!=typeof _0x293c4a||_0x536fb8&&(_0x3d6b61<0x1?(_0x536fb8[_0x10de('0xf38')]=!0x0,_0x536fb8[_0x10de('0xf39')]=!0x0,_0x536fb8[_0x10de('0xf3a')]=_0x3d6b61,_0x536fb8['_sortOrder']=_0x293c4a):_0x536fb8[_0x10de('0xf39')]=!0x1);},'pitchAnimate':function(_0x293c4a){return new _0x5b821a[(_0x10de('0x9'))](function(_0x3d6b61){_0x2f6939[_0x10de('0x2fc')][_0x10de('0xf0f')](THREE['Math'][_0x10de('0x315')](_0x293c4a[_0x10de('0x1fa')]),_0x293c4a[_0x10de('0x507')],_0x3d6b61());});}};},function(_0x45b8f6,_0x2a2aeb,_0x1279dd){'use strict';Object[_0x10de('0x2')](_0x2a2aeb,'__esModule',{'value':!0x0});var _0x32b9c6=_0x2c6193(_0x1279dd(0x0));function _0x2c6193(_0x45b8f6){return _0x45b8f6&&_0x45b8f6['__esModule']?_0x45b8f6:{'default':_0x45b8f6};}function _0x5985b0(_0x45b8f6){var _0x2a2aeb=_0x45b8f6[_0x10de('0x36d')],_0x1279dd=_0x45b8f6[_0x10de('0xf3b')],_0x2c6193=_0x45b8f6[_0x10de('0xee9')],_0x45b8f6=_0x45b8f6[_0x10de('0x312')];(0x0,_0x32b9c6[_0x10de('0x9')])(this,_0x5985b0),this[_0x10de('0x36d')]=_0x2a2aeb,this[_0x10de('0x2fb')]=_0x1279dd,this[_0x10de('0x370')]=_0x2c6193,this['_mousedown']=this[_0x10de('0xf3c')][_0x10de('0x8')](this),this['_mouseup']=this['mouseUp'][_0x10de('0x8')](this),this[_0x10de('0xf3d')]=this[_0x10de('0xf3e')][_0x10de('0x8')](this),this[_0x10de('0xf3f')]=this['mouseDown'][_0x10de('0x8')](this),this[_0x10de('0xf40')]=this['mouseMove'](this),this[_0x10de('0xf41')]=this[_0x10de('0xf42')]['bind'](this),this[_0x10de('0xf43')]=!0x1,this['moveCount']=0x0,this[_0x10de('0x312')]=_0x45b8f6;}(0x0,_0x2c6193(_0x1279dd(0x1))[_0x10de('0x9')])(_0x5985b0,[{'key':_0x10de('0x4c6'),'value':function(){this['container'][_0x10de('0x2d6')]('mousedown',this[_0x10de('0xf44')],!0x1),this[_0x10de('0x36d')]['addEventListener'](_0x10de('0xe06'),this[_0x10de('0xf45')],!0x1),this['container'][_0x10de('0x2d6')](_0x10de('0xe05'),this['_mousemove'],!0x1),this['container'][_0x10de('0x2d6')](_0x10de('0xe03'),this[_0x10de('0xf3f')],!0x1),this['container'][_0x10de('0x2d6')](_0x10de('0xe04'),this[_0x10de('0xf41')],!0x1),this[_0x10de('0x36d')][_0x10de('0x2d6')](_0x10de('0xe20'),this[_0x10de('0xf40')],!0x1);}},{'key':'dispose','value':function(){this[_0x10de('0x36d')][_0x10de('0x54b')](_0x10de('0xe1f'),this['_mousedown'],!0x1),this['container'][_0x10de('0x54b')](_0x10de('0xe06'),this[_0x10de('0xf45')],!0x1),this[_0x10de('0x36d')][_0x10de('0x54b')]('mousemove',this[_0x10de('0xf3d')],!0x1),this[_0x10de('0x36d')]['removeEventListener'](_0x10de('0xe03'),this[_0x10de('0xf3f')],!0x1),this['container'][_0x10de('0x54b')](_0x10de('0xe04'),this['_touchend'],!0x1),this['container']['removeEventListener'](_0x10de('0xe20'),this[_0x10de('0xf40')],!0x1);}},{'key':'getOffsetX','value':function(_0x45b8f6){var _0x45b8f6=_0x45b8f6||window[_0x10de('0x373')],_0x2a2aeb=_0x45b8f6[_0x10de('0x304')]||_0x45b8f6[_0x10de('0x378')];return _0x45b8f6[_0x10de('0x374')]||(_0x2a2aeb=_0x2a2aeb[_0x10de('0x375')](),_0x45b8f6['clientX']-_0x2a2aeb[_0x10de('0x37b')]);}},{'key':'getOffsetY','value':function(_0x45b8f6){var _0x45b8f6=_0x45b8f6||window[_0x10de('0x373')],_0x2a2aeb=_0x45b8f6[_0x10de('0x304')]||_0x45b8f6[_0x10de('0x378')];return _0x45b8f6[_0x10de('0x379')]||(_0x2a2aeb=_0x2a2aeb[_0x10de('0x375')](),_0x45b8f6['clientY']-_0x2a2aeb[_0x10de('0x37b')]);}},{'key':_0x10de('0xf3c'),'value':function(){this[_0x10de('0xf43')]=!0x1,this[_0x10de('0xf46')]=0x0;}},{'key':_0x10de('0xf3e'),'value':function(){this[_0x10de('0xf43')]=!0x0,this[_0x10de('0xf46')]++;}},{'key':_0x10de('0xf42'),'value':function(_0x45b8f6){var _0x2a2aeb;this[_0x10de('0xf43')]&&0x1<this[_0x10de('0xf46')]||(_0x2a2aeb=this[_0x10de('0x372')](_0x45b8f6),_0x45b8f6=this['getOffsetY'](_0x45b8f6),0x0<(_0x2a2aeb=this[_0x10de('0x2fb')][_0x10de('0x37c')]({'x':_0x2a2aeb,'y':_0x45b8f6},this['layer']))['length']&&this[_0x10de('0x312')]&&(_0x2a2aeb[0x0][_0x10de('0x358')]['y']=0x0,this[_0x10de('0x312')](_0x2a2aeb[0x0]['point'])));}}]),_0x2a2aeb[_0x10de('0x9')]=_0x5985b0;},function(_0x327e8f,_0x3e8119,_0x2d78df){'use strict';Object[_0x10de('0x2')](_0x3e8119,_0x10de('0x5'),{'value':!0x0});var _0x165c37={'fogColor':new THREE[(_0x10de('0x1cc'))](0xc8d4e4),'skyColor':new THREE[(_0x10de('0x1cc'))](0xc5dafb),'groundColor':new THREE[(_0x10de('0x1cc'))](0xc8d4e4),'isChangeDefaultTheme':!0x1};_0x3e8119[_0x10de('0xebc')]=_0x165c37,_0x3e8119['createColorMapping']=function(_0x327e8f,_0x3e8119){for(var _0x2d78df=document[_0x10de('0x87')](_0x10de('0x472')),_0x2d78df=(_0x2d78df[_0x10de('0x35d')]=0x100,_0x2d78df['height']=0x100,_0x2d78df[_0x10de('0x473')]('2d')),_0x165c37=_0x2d78df[_0x10de('0x67b')](0x0,0x0,0x100,0x0),_0x53b092=0x0,_0x22de96=_0x327e8f[_0x10de('0xe')];_0x53b092<_0x22de96;_0x53b092++)_0x165c37[_0x10de('0x403')](_0x327e8f[_0x53b092],_0x3e8119[_0x53b092]);_0x2d78df[_0x10de('0x405')]=_0x165c37,_0x2d78df['fillRect'](0x0,0x0,0x100,0x1);_0x2d78df=new Uint8Array(_0x2d78df[_0x10de('0x4bd')](0x0,0x0,0x100,0x1)[_0x10de('0x2ca')]['buffer']),_0x2d78df=new THREE[(_0x10de('0xf47'))](_0x2d78df,0x100,0x1);return _0x2d78df['magFilter']=_0x2d78df['minFilter']=THREE[_0x10de('0x618')],_0x2d78df[_0x10de('0x10c')]=!0x0,_0x2d78df;};}]);

