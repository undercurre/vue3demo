/*esmap-3.0.min.js 2/23/2023, 5:00:53 PM*/
/*esmapcore 3.0 2023-2-23 16:59:57*/
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[1],[function(t,n,r){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(111),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,i.default)(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}()},function(t,n,r){t.exports={default:r(166),__esModule:!0}},function(t,n){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},,,,,function(t,n,r){t.exports={default:r(211),__esModule:!0}},function(t,n,r){var e=r(14),o=r(3),i=r(23),u=r(26),s=r(25),f=function(t,n,r){var c,a,l,h=t&f.F,p=t&f.G,v=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,m=p?o:o[n]||(o[n]={}),b=m.prototype,_=p?e:v?e[n]:(e[n]||{}).prototype;for(c in p&&(r=n),r)(a=!h&&_&&void 0!==_[c])&&s(m,c)||(l=a?_[c]:r[c],m[c]=p&&"function"!=typeof _[c]?r[c]:y&&a?i(l,e):g&&_[c]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(l):d&&"function"==typeof l?i(Function.call,l):l,d&&((m.virtual||(m.virtual={}))[c]=l,t&f.R&&b&&!b[c]&&u(b,c,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n,r){"use strict";n.__esModule=!0;var e=u(r(196)),o=u(r(102)),i="function"==typeof o.default&&"symbol"==typeof e.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof o.default&&"symbol"===i(e.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},,function(t,n,r){t.exports=r(209)},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(8),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){return function(){var n=t.apply(this,arguments);return new i.default((function(t,r){return function e(o,u){try{var s=n[o](u),f=s.value}catch(t){return void r(t)}if(!s.done)return i.default.resolve(f).then((function(t){e("next",t)}),(function(t){e("throw",t)}));t(f)}("next")}))}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){t.exports={default:r(168),__esModule:!0}},function(t,n,r){var e=r(74)("wks"),o=r(57),i=r(14).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},function(t,n,r){t.exports={default:r(183),__esModule:!0}},,function(t,n,r){t.exports=!r(28)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(22),o=r(103),i=r(72),u=Object.defineProperty;n.f=r(20)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(15);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n,r){var e=r(44);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},,function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(21),o=r(45);t.exports=r(20)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){t.exports={default:r(158),__esModule:!0}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(77),o=r(78);t.exports=function(t){return e(o(t))}},,function(t,n,r){t.exports={default:r(201),__esModule:!0}},function(t,n,r){"use strict";(function(t){var e=n;function o(t,n,r){for(var e=Object.keys(n),o=0;o<e.length;++o)void 0!==t[e[o]]&&r||(t[e[o]]=n[e[o]]);return t}function i(t){function n(t,r){if(!(this instanceof n))return new n(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}e.asPromise=r(221),e.base64=r(222),e.EventEmitter=r(223),e.float=r(224),e.inquire=r(225),e.utf8=r(226),e.pool=r(227),e.LongBits=r(228),e.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isNode=Boolean(e.global.process&&e.global.process.versions&&e.global.process.versions.node),e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isObject=function(t){return t&&"object"==typeof t},e.isset=e.isSet=function(t,n){var r=t[n];return!(null==r||!t.hasOwnProperty(n))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},e.Buffer=function(){try{var t=e.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(t){return"number"==typeof t?e.Buffer?e._Buffer_allocUnsafe(t):new e.Array(t):e.Buffer?e._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(t){return t?e.LongBits.from(t).toHash():e.LongBits.zeroHash},e.longFromHash=function(t,n){var r=e.LongBits.fromHash(t);return e.Long?e.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},e.merge=o,e.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(t){for(var n={},r=0;r<t.length;++r)n[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(1===n[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},e.oneOfSetter=function(t){return function(n){for(var r=0;r<t.length;++r)t[r]!==n&&delete this[t[r]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var t=e.Buffer;t?(e._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},e._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}).call(this,r(93))},,function(t,n,r){var e=r(57)("meta"),o=r(15),i=r(25),u=r(21).f,s=0,f=Object.isExtensible||function(){return!0},c=!r(28)((function(){return f(Object.preventExtensions({}))})),a=function(t){u(t,e,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!f(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!i(t,e)){if(!f(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return c&&l.NEED&&f(t)&&!i(t,e)&&a(t),t}}},function(t,n,r){var e=r(104),o=r(81);t.exports=Object.keys||function(t){return e(t,o)}},function(t,n,r){"use strict";var e=r(159)(!0);r(83)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})}))},function(t,n,r){var e=r(78);t.exports=function(t){return Object(e(t))}},,function(t,n,r){r(175);for(var e=r(14),o=r(26),i=r(51),u=r(17)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<s.length;f++){var c=s[f],a=e[c],l=a&&a.prototype;l&&!l[u]&&o(l,u,c),i[c]=i.Array}},function(t,n,r){var e=r(23),o=r(113),i=r(114),u=r(22),s=r(58),f=r(84),c={},a={};(n=t.exports=function(t,n,r,l,h){var p,v,d,y,g=h?function(){return t}:f(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(p=s(t.length);p>b;b++)if((y=n?m(u(v=t[b])[0],v[1]):m(t[b]))===c||y===a)return y}else for(d=g.call(t);!(v=d.next()).done;)if((y=o(d,m,v.value,n))===c||y===a)return y}).BREAK=c,n.RETURN=a},function(t,n,r){var e=r(15);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},,,function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!0},function(t,n,r){var e=r(21).f,o=r(25),i=r(17)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n){},function(t,n){t.exports={}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(111),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t,n,r){return n in t?(0,i.default)(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}},function(t,n,r){t.exports={default:r(174),__esModule:!0}},function(t,n,r){t.exports={default:r(185),__esModule:!0}},,,function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(79),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){var e=r(22),o=r(106),i=r(81),u=r(80)("IE_PROTO"),s=function(){},f=function(){var t,n=r(71)("iframe"),e=i.length;for(n.style.display="none",r(107).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;e--;)delete f.prototype[i[e]];return f()};t.exports=Object.create||function(t,n){var r;return null!==t?(s.prototype=e(t),r=new s,s.prototype=null,r[u]=t):r=f(),void 0===n?r:o(r,n)}},function(t,n,r){var e=r(9),o=r(3),i=r(28);t.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*i((function(){r(1)})),"Object",u)}},function(t,n,r){var e=r(26);t.exports=function(t,n,r){for(var o in n)r&&t[o]?t[o]=n[o]:e(t,o,n[o]);return t}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){t.exports={default:r(187),__esModule:!0}},function(t,n,r){"use strict";t.exports=r(220)},,,,,,,function(t,n,r){var e=r(15),o=r(14).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){var e=r(15);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){t.exports=r(26)},function(t,n,r){var e=r(3),o=r(14),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(46)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){n.f=r(17)},function(t,n,r){var e=r(14),o=r(3),i=r(46),u=r(75),s=r(21).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||s(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(48);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(74)("keys"),o=r(57);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){"use strict";var e=r(46),o=r(9),i=r(73),u=r(26),s=r(51),f=r(160),c=r(47),a=r(112),l=r(17)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",v="values",d=function(){return this};t.exports=function(t,n,r,y,g,m,b){f(r,n,y);var _,w,x,S=function(t){if(!h&&t in j)return j[t];switch(t){case p:case v:return function(){return new r(this,t)}}return function(){return new r(this,t)}},O=n+" Iterator",E=g==v,M=!1,j=t.prototype,L=j[l]||j["@@iterator"]||g&&j[g],P=L||S(g),k=g?E?S("entries"):P:void 0,A="Array"==n&&j.entries||L;if(A&&(x=a(A.call(new t)))!==Object.prototype&&x.next&&(c(x,O,!0),e||"function"==typeof x[l]||u(x,l,d)),E&&L&&L.name!==v&&(M=!0,P=function(){return L.call(this)}),e&&!b||!h&&!M&&j[l]||u(j,l,P),s[n]=P,s[O]=d,g)if(_={values:E?P:S(v),keys:m?P:S(p),entries:k},b)for(w in _)w in j||i(j,w,_[w]);else o(o.P+o.F*(h||M),n,_);return _}},function(t,n,r){var e=r(85),o=r(17)("iterator"),i=r(51);t.exports=r(3).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[e(t)]}},function(t,n,r){var e=r(48),o=r(17)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){var e=r(23),o=r(77),i=r(37),u=r(58),s=r(178);t.exports=function(t,n){var r=1==t,f=2==t,c=3==t,a=4==t,l=6==t,h=5==t||l,p=n||s;return function(n,s,v){for(var d,y,g=i(n),m=o(g),b=e(s,v,3),_=u(m.length),w=0,x=r?p(n,_):f?p(n,0):void 0;_>w;w++)if((h||w in m)&&(y=b(d=m[w],w,g),t))if(r)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:x.push(d)}else if(a)return!1;return l?-1:c||a?a:x}}},function(t,n,r){"use strict";var e=r(14),o=r(9),i=r(34),u=r(28),s=r(26),f=r(61),c=r(40),a=r(62),l=r(15),h=r(47),p=r(21).f,v=r(86)(0),d=r(20);t.exports=function(t,n,r,y,g,m){var b=e[t],_=b,w=g?"set":"add",x=_&&_.prototype,S={};return d&&"function"==typeof _&&(m||x.forEach&&!u((function(){(new _).entries().next()})))?(_=n((function(n,r){a(n,_,t,"_c"),n._c=new b,null!=r&&c(r,g,n[w],n)})),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var n="add"==t||"set"==t;!(t in x)||m&&"clear"==t||s(_.prototype,t,(function(r,e){if(a(this,_,t),!n&&m&&!l(r))return"get"==t&&void 0;var o=this._c[t](0===r?0:r,e);return n?this:o}))})),m||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(n,t,g,w),f(_.prototype,r),i.NEED=!0),h(_,t),S[t]=_,o(o.G+o.W+o.F,S),m||y.setStrong(_,t,g),_}},function(t,n,r){"use strict";var e=r(9);t.exports=function(t){e(e.S,t,{of:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},function(t,n,r){"use strict";var e=r(9),o=r(44),i=r(23),u=r(40);t.exports=function(t){e(e.S,t,{from:function(t){var n,r,e,s,f=arguments[1];return o(this),(n=void 0!==f)&&o(f),null==t?new this:(r=[],n?(e=0,s=i(f,arguments[2],2),u(t,!1,(function(t){r.push(s(t,e++))}))):u(t,!1,r.push,r),new this(r))}})}},function(t,n,r){t.exports={default:r(194),__esModule:!0}},function(t,n,r){"use strict";var e=r(44);function o(t){var n,r;this.promise=new t((function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e})),this.resolve=e(n),this.reject=e(r)}t.exports.f=function(t){return new o(t)}},function(t,n,r){"use strict";r.r(n),r.d(n,"WGS84",(function(){return e})),r.d(n,"WGS1984",(function(){return o})),r.d(n,"EPSG4326",(function(){return i})),r.d(n,"GCJ02",(function(){return u})),r.d(n,"AMap",(function(){return s})),r.d(n,"BD09",(function(){return f})),r.d(n,"BD09LL",(function(){return c})),r.d(n,"Baidu",(function(){return a})),r.d(n,"BMap",(function(){return l})),r.d(n,"BD09MC",(function(){return h})),r.d(n,"BD09Meter",(function(){return p})),r.d(n,"EPSG3857",(function(){return v})),r.d(n,"EPSG900913",(function(){return d})),r.d(n,"EPSG102100",(function(){return y})),r.d(n,"WebMercator",(function(){return g})),r.d(n,"WM",(function(){return m})),r.d(n,"transform",(function(){return ft}));var e="WGS84",o=e,i=e,u="GCJ02",s=u,f="BD09",c=f,a=f,l=f,h="BD09MC",p=h,v="EPSG3857",d=v,y=v,g=v,m=v;function b(t){throw new Error(t)}function _(t){return!isNaN(t)&&null!==t&&!w(t)}function w(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)}function x(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length-1;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var o=r,i=t[r].apply(null,n);o--;)i=t[o].call(null,i);return i}}function S(t,n,r){if(void 0===r&&(r=!1),null!==t)for(var e,o,i,u,s,f,c,a,l=0,h=0,p=t.type,v="FeatureCollection"===p,d="Feature"===p,y=v?t.features.length:1,g=0;g<y;g++){s=(a=!!(c=v?t.features[g].geometry:d?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<s;m++){var _=0,w=0;if(null!==(u=a?c.geometries[m]:c)){var x=u.type;switch(l=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===n(f=u.coordinates,h,g,_,w))return!1;h++,_++;break;case"LineString":case"MultiPoint":for(f=u.coordinates,e=0;e<f.length;e++){if(!1===n(f[e],h,g,_,w))return!1;h++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(f=u.coordinates,e=0;e<f.length;e++){for(o=0;o<f[e].length-l;o++){if(!1===n(f[e][o],h,g,_,w))return!1;h++}"MultiLineString"===x&&_++,"Polygon"===x&&w++}"Polygon"===x&&_++;break;case"MultiPolygon":for(f=u.coordinates,e=0;e<f.length;e++){for(w=0,o=0;o<f[e].length;o++){for(i=0;i<f[e][o].length-l;i++){if(!1===n(f[e][o][i],h,g,_,w))return!1;h++}w++}_++}break;case"GeometryCollection":for(e=0;e<u.geometries.length;e++)if(!1===S(u.geometries[e],n,r))return!1;break;default:b("Unknown Geometry Type")}}}}}var O=Math.sin,E=Math.cos,M=Math.sqrt,j=Math.abs,L=Math.PI,P=6378245,k=.006693421622965823;function A(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];for(var e=[n,r],o=e[0],i=e[1],u=N([o,i]),s=u[0]-n,f=u[1]-r;j(s)>1e-6||j(f)>1e-6;)s=(u=N([o-=s,i-=f]))[0]-n,f=u[1]-r;return[o,i]}function N(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];var e=function(t,n){var r=(s=t-105,f=n-35,c=300+s+2*f+.1*s*s+.1*s*f+.1*M(j(s)),c+=2*(20*O(6*s*L)+20*O(2*s*L))/3,c+=2*(20*O(s*L)+40*O(s/3*L))/3,c+=2*(150*O(s/12*L)+300*O(s/30*L))/3),e=function(t,n){var r=2*t-100+3*n+.2*n*n+.1*t*n+.2*M(j(t));return r+=2*(20*O(6*t*L)+20*O(2*t*L))/3,r+=2*(20*O(n*L)+40*O(n/3*L))/3,r+=2*(160*O(n/12*L)+320*O(n*L/30))/3}(t-105,n-35),o=n/180*L,i=O(o),u=M(i=1-k*i*i);var s,f,c;return[r=180*r/(P/u*E(o)*L),e=180*e/(P*(1-k)/(i*u)*L)]}(n,r);return[n+e[0],r+e[1]]}function B(t,n){return t>=72.004&&t<=137.8347&&n>=.8293&&n<=55.8271}var C=Math.sin,F=Math.cos,T=Math.atan2,D=Math.sqrt,G=3e3*Math.PI/180;function R(t){var n=t[0]-.0065,r=t[1]-.006,e=D(n*n+r*r)-2e-5*C(r*G),o=T(r,n)-3e-6*F(n*G);return[e*F(o),e*C(o)]}function I(t){var n=t[0],r=t[1],e=D(n*n+r*r)+2e-5*C(r*G),o=T(r,n)+3e-6*F(n*G);return[e*F(o)+.0065,e*C(o)+.006]}var W=180/Math.PI,z=Math.PI/180,U=6378137,J=20037508.342789244;function q(t){return[t[0]*W/U,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/U)))*W]}function H(t){var n=Math.abs(t[0])<=180?t[0]:t[0]-360*(t[0]<0?-1:1),r=[U*n*z,U*Math.log(Math.tan(.25*Math.PI+.5*t[1]*z))];return r[0]>J&&(r[0]=J),r[0]<-J&&(r[0]=-J),r[1]>J&&(r[1]=J),r[1]<-J&&(r[1]=-J),r}var V=Math.abs,Y=Math.pow,K=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],$=[75,60,45,30,15,0],Z=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],X=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function Q(t,n,r){var e=V(n)/r[9],o=r[0]+r[1]*V(t),i=r[2]+r[3]*e+r[4]*Y(e,2)+r[5]*Y(e,3)+r[6]*Y(e,4)+r[7]*Y(e,5)+r[8]*Y(e,6);return[o*=t<0?-1:1,i*=n<0?-1:1]}function tt(t){for(var n=t[0],r=t[1],e=[],o=0;o<$.length;o++)if(V(r)>$[o]){e=X[o];break}return Q(n,r,e)}function nt(t){for(var n=t[0],r=t[1],e=[],o=0;o<K.length;o++)if(r>=K[o]){e=Z[o];break}return Q(n,r,e)}var rt={to:{GCJ02:N,BD09:x(I,N),BD09MC:x(tt,I,N),EPSG3857:H}},et={to:{WGS84:A,BD09:I,BD09MC:x(tt,I),EPSG3857:x(H,A)}},ot={to:{WGS84:x(A,R),GCJ02:R,EPSG3857:x(H,A,R),BD09MC:tt}},it={to:{WGS84:q,GCJ02:x(N,q),BD09:x(I,N,q),BD09MC:x(tt,I,N,q)}},ut={to:{WGS84:x(A,R,nt),GCJ02:x(R,nt),EPSG3857:x(H,A,R,nt),BD09:nt}},st=Object.freeze({WGS84:rt,GCJ02:et,BD09:ot,EPSG3857:it,BD09MC:ut});function ft(t,n,r){t||b("coordinate is required"),n||b("original coordinate system is required"),r||b("target coordinate system is required");var e=st[n];if(e||b("original coordinate system is invalid"),n===r)return t;var o=e.to[r];o||b("target coordinate system is invalid");var i=typeof t;if("string"!==i&&"object"!==i&&b("coordinate must be an geojson or an array of position"),"string"===i)try{t=JSON.parse(t)}catch(t){b("input is not a legal JSON string")}var u=!1;w(t)&&(t.length<2&&b("position must be at 2 numbers long"),_(t[0])&&_(t[1])||b("position must contain numbers"),t=t.map(Number),u=!0);var s=null,f=o;return u?s=f(t):(S(t,(function(t){var n;n=f(t),t[0]=n[0],t[1]=n[1]})),s=t),s}var ct={WGS84:e,WGS1984:o,EPSG4326:i,GCJ02:u,AMap:s,BD09:f,BD09LL:c,Baidu:a,BMap:l,BD09MC:h,BD09Meter:p,EPSG3857:v,EPSG900913:d,EPSG102100:y,WebMercator:g,WM:m,transform:ft};n.default=ct},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,,,function(t,n,r){t.exports={default:r(144),__esModule:!0}},function(t,n,r){t.exports=!r(20)&&!r(28)((function(){return 7!=Object.defineProperty(r(71)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(25),o=r(29),i=r(147)(!1),u=r(80)("IE_PROTO");t.exports=function(t,n){var r,s=o(t),f=0,c=[];for(r in s)r!=u&&e(s,r)&&c.push(r);for(;n.length>f;)e(s,r=n[f++])&&(~i(c,r)||c.push(r));return c}},function(t,n,r){var e=r(48);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(21),o=r(22),i=r(35);t.exports=r(20)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),s=u.length,f=0;s>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(14).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(29),o=r(109).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(e(t))}},function(t,n,r){var e=r(104),o=r(81).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){var e=r(49),o=r(45),i=r(29),u=r(72),s=r(25),f=r(103),c=Object.getOwnPropertyDescriptor;n.f=r(20)?c:function(t,n){if(t=i(t),n=u(n,!0),f)try{return c(t,n)}catch(t){}if(s(t,n))return o(!e.f.call(t,n),t[n])}},function(t,n,r){t.exports={default:r(153),__esModule:!0}},function(t,n,r){var e=r(25),o=r(37),i=r(80)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(22);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},function(t,n,r){var e=r(51),o=r(17)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,n,r){var e=r(17)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(35),o=r(82),i=r(49),u=r(37),s=r(77),f=Object.assign;t.exports=!f||r(28)((function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach((function(t){n[t]=t})),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e}))?function(t,n){for(var r=u(t),f=arguments.length,c=1,a=o.f,l=i.f;f>c;)for(var h,p=s(arguments[c++]),v=a?e(p).concat(a(p)):e(p),d=v.length,y=0;d>y;)l.call(p,h=v[y++])&&(r[h]=p[h]);return r}:f},function(t,n,r){t.exports={default:r(173),__esModule:!0}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){"use strict";var e=r(21).f,o=r(59),i=r(61),u=r(23),s=r(62),f=r(40),c=r(83),a=r(118),l=r(120),h=r(20),p=r(34).fastKey,v=r(41),d=h?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,c){var a=t((function(t,e){s(t,a,n,"_i"),t._t=n,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,null!=e&&f(e,r,t[c],t)}));return i(a.prototype,{clear:function(){for(var t=v(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var r=v(this,n),e=y(r,t);if(e){var o=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==e&&(r._f=o),r._l==e&&(r._l=i),r[d]--}return!!e},forEach:function(t){v(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(v(this,n),t)}}),h&&e(a.prototype,"size",{get:function(){return v(this,n)[d]}}),a},def:function(t,n,r){var e,o,i=y(t,n);return i?i.v=r:(t._l=i={i:o=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=i),e&&(e.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,r){c(t,n,(function(t,r){this._t=v(t,n),this._k=r,this._l=void 0}),(function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?a(0,"keys"==n?r.k:"values"==n?r.v:[r.k,r.v]):(t._t=void 0,a(1))}),r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(14),o=r(3),i=r(21),u=r(20),s=r(17)("species");t.exports=function(t){var n="function"==typeof o[t]?o[t]:e[t];u&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(85),o=r(204);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,n,r){var e=r(22),o=r(44),i=r(17)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[i])?n:o(r)}},function(t,n,r){var e,o,i,u=r(23),s=r(213),f=r(107),c=r(71),a=r(14),l=a.process,h=a.setImmediate,p=a.clearImmediate,v=a.MessageChannel,d=a.Dispatch,y=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},_=function(t){b.call(t.data)};h&&p||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),n)},e(y),y},p=function(t){delete g[t]},"process"==r(48)(l)?e=function(t){l.nextTick(u(b,t,1))}:d&&d.now?e=function(t){d.now(u(b,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=_,e=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(t){a.postMessage(t+"","*")},a.addEventListener("message",_,!1)):e=m in c("script")?function(t){f.appendChild(c("script")).onreadystatechange=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:p}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){var e=r(22),o=r(15),i=r(91);t.exports=function(t,n){if(e(t),o(n)&&n.constructor===t)return n;var r=i.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";t.exports=l;var e,o=r(32),i=o.LongBits,u=o.base64,s=o.utf8;function f(t,n,r){this.fn=t,this.len=n,this.next=void 0,this.val=r}function c(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function l(){this.len=0,this.head=new f(c,0,0),this.tail=this.head,this.states=null}function h(t,n,r){n[r]=255&t}function p(t,n){this.len=t,this.next=void 0,this.val=n}function v(t,n,r){for(;t.hi;)n[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)n[r++]=127&t.lo|128,t.lo=t.lo>>>7;n[r++]=t.lo}function d(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}l.create=o.Buffer?function(){return(l.create=function(){return new e})()}:function(){return new l},l.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype._push=function(t,n,r){return this.tail=this.tail.next=new f(t,n,r),this.len+=n,this},p.prototype=Object.create(f.prototype),p.prototype.fn=function(t,n,r){for(;t>127;)n[r++]=127&t|128,t>>>=7;n[r]=t},l.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},l.prototype.int32=function(t){return t<0?this._push(v,10,i.fromNumber(t)):this.uint32(t)},l.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},l.prototype.uint64=function(t){var n=i.from(t);return this._push(v,n.length(),n)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(t){var n=i.from(t).zzEncode();return this._push(v,n.length(),n)},l.prototype.bool=function(t){return this._push(h,1,t?1:0)},l.prototype.fixed32=function(t){return this._push(d,4,t>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(t){var n=i.from(t);return this._push(d,4,n.lo)._push(d,4,n.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},l.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var y=o.Array.prototype.set?function(t,n,r){n.set(t,r)}:function(t,n,r){for(var e=0;e<t.length;++e)n[r+e]=t[e]};l.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(h,1,0);if(o.isString(t)){var r=l.alloc(n=u.length(t));u.decode(t,r,0),t=r}return this.uint32(n)._push(y,n,t)},l.prototype.string=function(t){var n=s.length(t);return n?this.uint32(n)._push(s.write,n,t):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new f(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var t=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=n,this.len+=r),this},l.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,n,r),r+=t.len,t=t.next;return n},l._configure=function(t){e=t}},function(t,n,r){"use strict";t.exports=f;var e,o=r(32),i=o.LongBits,u=o.utf8;function s(t,n){return RangeError("index out of range: "+t.pos+" + "+(n||1)+" > "+t.len)}function f(t){this.buf=t,this.pos=0,this.len=t.length}var c,a="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new f(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new f(t);throw Error("illegal buffer")};function l(){var t=new i(0,0),n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,n){return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}f.create=o.Buffer?function(t){return(f.create=function(t){return o.Buffer.isBuffer(t)?new e(t):a(t)})(t)}:a,f.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,f.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},f.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},f.prototype.bytes=function(){var t=this.uint32(),n=this.pos,r=this.pos+t;if(r>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,r):n===r?new this.buf.constructor(0):this._slice.call(this.buf,n,r)},f.prototype.string=function(){var t=this.bytes();return u.read(t,0,t.length)},f.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},f._configure=function(t){e=t;var n=o.Long?"toLong":"toNumber";o.merge(f.prototype,{int64:function(){return l.call(this)[n](!1)},uint64:function(){return l.call(this)[n](!0)},sint64:function(){return l.call(this).zzDecode()[n](!1)},fixed64:function(){return p.call(this)[n](!0)},sfixed64:function(){return p.call(this)[n](!1)}})}},,,,,,,,,,,,,,,,,function(t,n,r){r(145),r(50),r(149),r(150),t.exports=r(3).Symbol},function(t,n,r){"use strict";var e=r(14),o=r(25),i=r(20),u=r(9),s=r(73),f=r(34).KEY,c=r(28),a=r(74),l=r(47),h=r(57),p=r(17),v=r(75),d=r(76),y=r(146),g=r(105),m=r(22),b=r(15),_=r(29),w=r(72),x=r(45),S=r(59),O=r(108),E=r(110),M=r(21),j=r(35),L=E.f,P=M.f,k=O.f,A=e.Symbol,N=e.JSON,B=N&&N.stringify,C=p("_hidden"),F=p("toPrimitive"),T={}.propertyIsEnumerable,D=a("symbol-registry"),G=a("symbols"),R=a("op-symbols"),I=Object.prototype,W="function"==typeof A,z=e.QObject,U=!z||!z.prototype||!z.prototype.findChild,J=i&&c((function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,n,r){var e=L(I,n);e&&delete I[n],P(t,n,r),e&&t!==I&&P(I,n,e)}:P,q=function(t){var n=G[t]=S(A.prototype);return n._k=t,n},H=W&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},V=function(t,n,r){return t===I&&V(R,n,r),m(t),n=w(n,!0),m(r),o(G,n)?(r.enumerable?(o(t,C)&&t[C][n]&&(t[C][n]=!1),r=S(r,{enumerable:x(0,!1)})):(o(t,C)||P(t,C,x(1,{})),t[C][n]=!0),J(t,n,r)):P(t,n,r)},Y=function(t,n){m(t);for(var r,e=y(n=_(n)),o=0,i=e.length;i>o;)V(t,r=e[o++],n[r]);return t},K=function(t){var n=T.call(this,t=w(t,!0));return!(this===I&&o(G,t)&&!o(R,t))&&(!(n||!o(this,t)||!o(G,t)||o(this,C)&&this[C][t])||n)},$=function(t,n){if(t=_(t),n=w(n,!0),t!==I||!o(G,n)||o(R,n)){var r=L(t,n);return!r||!o(G,n)||o(t,C)&&t[C][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=k(_(t)),e=[],i=0;r.length>i;)o(G,n=r[i++])||n==C||n==f||e.push(n);return e},X=function(t){for(var n,r=t===I,e=k(r?R:_(t)),i=[],u=0;e.length>u;)!o(G,n=e[u++])||r&&!o(I,n)||i.push(G[n]);return i};W||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===I&&n.call(R,r),o(this,C)&&o(this[C],t)&&(this[C][t]=!1),J(this,t,x(1,r))};return i&&U&&J(I,t,{configurable:!0,set:n}),q(t)},s(A.prototype,"toString",(function(){return this._k})),E.f=$,M.f=V,r(109).f=O.f=Z,r(49).f=K,r(82).f=X,i&&!r(46)&&s(I,"propertyIsEnumerable",K,!0),v.f=function(t){return q(p(t))}),u(u.G+u.W+u.F*!W,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var nt=j(p.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!W,"Symbol",{for:function(t){return o(D,t+="")?D[t]:D[t]=A(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var n in D)if(D[n]===t)return n},useSetter:function(){U=!0},useSimple:function(){U=!1}}),u(u.S+u.F*!W,"Object",{create:function(t,n){return void 0===n?S(t):Y(S(t),n)},defineProperty:V,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:X}),N&&u(u.S+u.F*(!W||c((function(){var t=A();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);if(r=n=e[1],(b(n)||void 0!==t)&&!H(t))return g(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!H(n))return n}),e[1]=n,B.apply(N,e)}}),A.prototype[F]||r(26)(A.prototype,F,A.prototype.valueOf),l(A,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(35),o=r(82),i=r(49);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,s=r(t),f=i.f,c=0;s.length>c;)f.call(t,u=s[c++])&&n.push(u);return n}},function(t,n,r){var e=r(29),o=r(58),i=r(148);t.exports=function(t){return function(n,r,u){var s,f=e(n),c=o(f.length),a=i(u,c);if(t&&r!=r){for(;c>a;)if((s=f[a++])!=s)return!0}else for(;c>a;a++)if((t||a in f)&&f[a]===r)return t||a||0;return!t&&-1}}},function(t,n,r){var e=r(79),o=Math.max,i=Math.min;t.exports=function(t,n){return(t=e(t))<0?o(t+n,0):i(t,n)}},function(t,n,r){r(76)("asyncIterator")},function(t,n,r){r(76)("observable")},,,function(t,n,r){r(154);var e=r(3).Object;t.exports=function(t,n,r){return e.defineProperty(t,n,r)}},function(t,n,r){var e=r(9);e(e.S+e.F*!r(20),"Object",{defineProperty:r(21).f})},function(t,n,r){function e(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/",r.oe=function(t){throw t};var e=r(r.s=ENTRY_MODULE);return e.default||e}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function u(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,n,e){var s={};s[e]=[];var f=n.toString(),c=f.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var a,l=c[1],h=new RegExp("(\\\\n|\\W)"+u(l)+i,"g");a=h.exec(f);)"dll-reference"!==a[3]&&s[e].push(a[3]);for(h=new RegExp("\\("+u(l)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");a=h.exec(f);)t[a[2]]||(s[e].push(a[1]),t[a[2]]=r(a[1]).m),s[a[2]]=s[a[2]]||[],s[a[2]].push(a[4]);for(var p,v=Object.keys(s),d=0;d<v.length;d++)for(var y=0;y<s[v[d]].length;y++)p=s[v[d]][y],isNaN(1*p)||(s[v[d]][y]=1*s[v[d]][y]);return s}function f(t){return Object.keys(t).reduce((function(n,r){return n||t[r].length>0}),!1)}t.exports=function(t,n){n=n||{};var o={main:r.m},i=n.all?{main:Object.keys(o.main)}:function(t,n){for(var r={main:[n]},e={main:[]},o={main:{}};f(r);)for(var i=Object.keys(r),u=0;u<i.length;u++){var c=i[u],a=r[c].pop();if(o[c]=o[c]||{},!o[c][a]&&t[c][a]){o[c][a]=!0,e[c]=e[c]||[],e[c].push(a);for(var l=s(t,t[c][a],c),h=Object.keys(l),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(l[h[p]])}}return e}(o,t),u="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var n=0;i[t][n];)n++;i[t].push(n),o[t][n]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+e.toString().replace("ENTRY_MODULE",JSON.stringify(n))+")({"+i[t].map((function(n){return JSON.stringify(n)+": "+o[t][n].toString()})).join(",")+"});\n"})),u=u+"new (("+e.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([u],{type:"text/javascript"});if(n.bare)return c;var a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),l=new window.Worker(a);return l.objectURL=a,l}},,,function(t,n,r){r(36),r(161),t.exports=r(3).Array.from},function(t,n,r){var e=r(79),o=r(78);t.exports=function(t){return function(n,r){var i,u,s=String(o(n)),f=e(r),c=s.length;return f<0||f>=c?t?"":void 0:(i=s.charCodeAt(f))<55296||i>56319||f+1===c||(u=s.charCodeAt(f+1))<56320||u>57343?t?s.charAt(f):i:t?s.slice(f,f+2):u-56320+(i-55296<<10)+65536}}},function(t,n,r){"use strict";var e=r(59),o=r(45),i=r(47),u={};r(26)(u,r(17)("iterator"),(function(){return this})),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(23),o=r(9),i=r(37),u=r(113),s=r(114),f=r(58),c=r(162),a=r(84);o(o.S+o.F*!r(115)((function(t){Array.from(t)})),"Array",{from:function(t){var n,r,o,l,h=i(t),p="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,y=void 0!==d,g=0,m=a(h);if(y&&(d=e(d,v>2?arguments[2]:void 0,2)),null==m||p==Array&&s(m))for(r=new p(n=f(h.length));n>g;g++)c(r,g,y?d(h[g],g):h[g]);else for(l=m.call(h),r=new p;!(o=l.next()).done;g++)c(r,g,y?u(l,d,[o.value,g],!0):o.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(21),o=r(45);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},function(t,n,r){t.exports={default:r(164),__esModule:!0}},function(t,n,r){r(165);var e=r(3).Object;t.exports=function(t){return e.getOwnPropertyNames(t)}},function(t,n,r){r(60)("getOwnPropertyNames",(function(){return r(108).f}))},function(t,n,r){r(167),t.exports=r(3).Object.assign},function(t,n,r){var e=r(9);e(e.S+e.F,"Object",{assign:r(116)})},function(t,n,r){r(169),t.exports=r(3).Object.keys},function(t,n,r){var e=r(37),o=r(35);r(60)("keys",(function(){return function(t){return o(e(t))}}))},function(t,n,r){t.exports={default:r(171),__esModule:!0}},function(t,n,r){r(172),t.exports=r(3).Object.freeze},function(t,n,r){var e=r(15),o=r(34).onFreeze;r(60)("freeze",(function(t){return function(n){return t&&e(n)?t(o(n)):n}}))},function(t,n,r){var e=r(3),o=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,n,r){r(50),r(39),r(177),r(181),r(182),t.exports=r(3).WeakMap},function(t,n,r){"use strict";var e=r(176),o=r(118),i=r(51),u=r(29);t.exports=r(83)(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])}),"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},function(t,n){t.exports=function(){}},function(t,n,r){"use strict";var e,o=r(14),i=r(86)(0),u=r(73),s=r(34),f=r(116),c=r(180),a=r(15),l=r(41),h=r(41),p=!o.ActiveXObject&&"ActiveXObject"in o,v="WeakMap",d=s.getWeak,y=Object.isExtensible,g=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(a(t)){var n=d(t);return!0===n?g(l(this,v)).get(t):n?n[this._i]:void 0}},set:function(t,n){return c.def(l(this,v),t,n)}},_=t.exports=r(87)(v,m,b,c,!0,!0);h&&p&&(f((e=c.getConstructor(m,v)).prototype,b),s.NEED=!0,i(["delete","has","get","set"],(function(t){var n=_.prototype,r=n[t];u(n,t,(function(n,o){if(a(n)&&!y(n)){this._f||(this._f=new e);var i=this._f[t](n,o);return"set"==t?this:i}return r.call(this,n,o)}))})))},function(t,n,r){var e=r(179);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(15),o=r(105),i=r(17)("species");t.exports=function(t){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)||(n=void 0),e(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(61),o=r(34).getWeak,i=r(22),u=r(15),s=r(62),f=r(40),c=r(86),a=r(25),l=r(41),h=c(5),p=c(6),v=0,d=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,n){return h(t.a,(function(t){return t[0]===n}))};y.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=p(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,i){var c=t((function(t,e){s(t,c,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&f(e,r,t[i],t)}));return e(c.prototype,{delete:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).delete(t):r&&a(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).has(t):r&&a(r,this._i)}}),c},def:function(t,n,r){var e=o(i(n),!0);return!0===e?d(t).set(n,r):e[t._i]=r,t},ufstore:d}},function(t,n,r){r(88)("WeakMap")},function(t,n,r){r(89)("WeakMap")},function(t,n,r){r(184);var e=r(3).Object;t.exports=function(t,n){return e.create(t,n)}},function(t,n,r){var e=r(9);e(e.S,"Object",{create:r(59)})},function(t,n,r){r(186);var e=r(3).Object;t.exports=function(t,n){return e.defineProperties(t,n)}},function(t,n,r){var e=r(9);e(e.S+e.F*!r(20),"Object",{defineProperties:r(106)})},function(t,n,r){r(188),t.exports=r(3).Math.sign},function(t,n,r){var e=r(9);e(e.S,"Math",{sign:r(189)})},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){t.exports={default:r(191),__esModule:!0}},function(t,n,r){r(192),t.exports=r(3).Number.isInteger},function(t,n,r){var e=r(9);e(e.S,"Number",{isInteger:r(193)})},function(t,n,r){var e=r(15),o=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&o(t)===t}},function(t,n,r){r(195),t.exports=Math.pow(2,-52)},function(t,n,r){var e=r(9);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){t.exports={default:r(197),__esModule:!0}},function(t,n,r){r(36),r(39),t.exports=r(75).f("iterator")},function(t,n,r){t.exports={default:r(199),__esModule:!0}},function(t,n,r){r(200),t.exports=r(3).Math.log10},function(t,n,r){var e=r(9);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,r){r(50),r(36),r(39),r(202),r(203),r(205),r(206),t.exports=r(3).Set},function(t,n,r){"use strict";var e=r(119),o=r(41);t.exports=r(87)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(o(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,r){var e=r(9);e(e.P+e.R,"Set",{toJSON:r(121)("Set")})},function(t,n,r){var e=r(40);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){r(88)("Set")},function(t,n,r){r(89)("Set")},,,function(t,n,r){var e=function(){return this}()||Function("return this")(),o=e.regeneratorRuntime&&Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime")>=0,i=o&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,t.exports=r(210),o)e.regeneratorRuntime=i;else try{delete e.regeneratorRuntime}catch(t){e.regeneratorRuntime=void 0}},function(t,n){!function(n){"use strict";var r,e=Object.prototype,o=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag",c="object"==typeof t,a=n.regeneratorRuntime;if(a)c&&(t.exports=a);else{(a=n.regeneratorRuntime=c?t.exports:{}).wrap=_;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",d={},y={};y[u]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==e&&o.call(m,u)&&(y=m);var b=O.prototype=x.prototype=Object.create(y);S.prototype=b.constructor=O,O.constructor=S,O[f]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f in t||(t[f]="GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},a.AsyncIterator=M,a.async=function(t,n,r,e){var o=new M(_(t,n,r,e));return a.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(b),b[f]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},a.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},a.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,o){return s.type="throw",s.arg=t,n.next=e,o&&(n.method="next",n.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],s=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var f=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(f&&c){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(f){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&o.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:A(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),d}}}function _(t,n,r,e){var o=n&&n.prototype instanceof x?n:x,i=Object.create(o.prototype),u=new k(e||[]);return i._invoke=function(t,n,r){var e=l;return function(o,i){if(e===p)throw new Error("Generator is already running");if(e===v){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var s=j(u,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=p;var f=w(t,n,r);if("normal"===f.type){if(e=r.done?v:h,f.arg===d)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(e=v,r.method="throw",r.arg=f.arg)}}}(t,r,u),i}function w(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function S(){}function O(){}function E(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function M(t){function n(r,e,i,u){var s=w(t[r],t,e);if("throw"!==s.type){var f=s.arg,c=f.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):Promise.resolve(c).then((function(t){f.value=t,i(f)}),u)}u(s.arg)}var r;this._invoke=function(t,e){function o(){return new Promise((function(r,o){n(t,e,r,o)}))}return r=r?r.then(o,o):o()}}function j(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,j(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=w(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function L(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function A(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(o.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,n,r){r(50),r(36),r(39),r(212),r(216),r(217),t.exports=r(3).Promise},function(t,n,r){"use strict";var e,o,i,u,s=r(46),f=r(14),c=r(23),a=r(85),l=r(9),h=r(15),p=r(44),v=r(62),d=r(40),y=r(122),g=r(123).set,m=r(214)(),b=r(91),_=r(124),w=r(215),x=r(125),S="Promise",O=f.TypeError,E=f.process,M=E&&E.versions,j=M&&M.v8||"",L=f.Promise,P="process"==a(E),k=function(){},A=o=b.f,N=!!function(){try{var t=L.resolve(1),n=(t.constructor={})[r(17)("species")]=function(t){t(k,k)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof n&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),B=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},C=function(t,n){if(!t._n){t._n=!0;var r=t._c;m((function(){for(var e=t._v,o=1==t._s,i=0,u=function(n){var r,i,u,s=o?n.ok:n.fail,f=n.resolve,c=n.reject,a=n.domain;try{s?(o||(2==t._h&&D(t),t._h=1),!0===s?r=e:(a&&a.enter(),r=s(e),a&&(a.exit(),u=!0)),r===n.promise?c(O("Promise-chain cycle")):(i=B(r))?i.call(r,f,c):f(r)):c(e)}catch(t){a&&!u&&a.exit(),c(t)}};r.length>i;)u(r[i++]);t._c=[],t._n=!1,n&&!t._h&&F(t)}))}},F=function(t){g.call(f,(function(){var n,r,e,o=t._v,i=T(t);if(i&&(n=_((function(){P?E.emit("unhandledRejection",o,t):(r=f.onunhandledrejection)?r({promise:t,reason:o}):(e=f.console)&&e.error})),t._h=P||T(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},T=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){g.call(f,(function(){var n;P?E.emit("rejectionHandled",t):(n=f.onrejectionhandled)&&n({promise:t,reason:t._v})}))},G=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),C(n,!0))},R=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw O("Promise can't be resolved itself");(n=B(t))?m((function(){var e={_w:r,_d:!1};try{n.call(t,c(R,e,1),c(G,e,1))}catch(t){G.call(e,t)}})):(r._v=t,r._s=1,C(r,!1))}catch(t){G.call({_w:r,_d:!1},t)}}};N||(L=function(t){v(this,L,S,"_h"),p(t),e.call(this);try{t(c(R,this,1),c(G,this,1))}catch(t){G.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(61)(L.prototype,{then:function(t,n){var r=A(y(this,L));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new e;this.promise=t,this.resolve=c(R,t,1),this.reject=c(G,t,1)},b.f=A=function(t){return t===L||t===u?new i(t):o(t)}),l(l.G+l.W+l.F*!N,{Promise:L}),r(47)(L,S),r(120)(S),u=r(3).Promise,l(l.S+l.F*!N,S,{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(s||!N),S,{resolve:function(t){return x(s&&this===u?L:this,t)}}),l(l.S+l.F*!(N&&r(115)((function(t){L.all(t).catch(k)}))),S,{all:function(t){var n=this,r=A(n),e=r.resolve,o=r.reject,i=_((function(){var r=[],i=0,u=1;d(t,!1,(function(t){var s=i++,f=!1;r.push(void 0),u++,n.resolve(t).then((function(t){f||(f=!0,r[s]=t,--u||e(r))}),o)})),--u||e(r)}));return i.e&&o(i.v),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,o=_((function(){d(t,!1,(function(t){n.resolve(t).then(r.resolve,e)}))}));return o.e&&e(o.v),r.promise}})},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(14),o=r(123).set,i=e.MutationObserver||e.WebKitMutationObserver,u=e.process,s=e.Promise,f="process"==r(48)(u);t.exports=function(){var t,n,r,c=function(){var e,o;for(f&&(e=u.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(c)};else if(!i||e.navigator&&e.navigator.standalone)if(s&&s.resolve){var a=s.resolve(void 0);r=function(){a.then(c)}}else r=function(){o.call(e,c)};else{var l=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}},function(t,n,r){var e=r(14).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){"use strict";var e=r(9),o=r(3),i=r(14),u=r(122),s=r(125);e(e.P+e.R,"Promise",{finally:function(t){var n=u(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return s(n,t()).then((function(){return r}))}:t,r?function(r){return s(n,t()).then((function(){throw r}))}:t)}})},function(t,n,r){"use strict";var e=r(9),o=r(91),i=r(124);e(e.S,"Promise",{try:function(t){var n=o.f(this),r=i(t);return(r.e?n.reject:n.resolve)(r.v),n.promise}})},,,function(t,n,r){"use strict";var e=n;function o(){e.Reader._configure(e.BufferReader),e.util._configure()}e.build="minimal",e.Writer=r(126),e.BufferWriter=r(229),e.Reader=r(127),e.BufferReader=r(230),e.util=r(32),e.rpc=r(231),e.roots=r(233),e.configure=o,e.Writer._configure(e.BufferWriter),o()},function(t,n,r){"use strict";t.exports=function(t,n){var r=new Array(arguments.length-1),e=0,o=2,i=!0;for(;o<arguments.length;)r[e++]=arguments[o++];return new Promise((function(o,u){r[e]=function(t){if(i)if(i=!1,t)u(t);else{for(var n=new Array(arguments.length-1),r=0;r<n.length;)n[r++]=arguments[r];o.apply(null,n)}};try{t.apply(n||null,r)}catch(t){i&&(i=!1,u(t))}}))}},function(t,n,r){"use strict";var e=n;e.length=function(t){var n=t.length;if(!n)return 0;for(var r=0;--n%4>1&&"="===t.charAt(n);)++r;return Math.ceil(3*t.length)/4-r};for(var o=new Array(64),i=new Array(123),u=0;u<64;)i[o[u]=u<26?u+65:u<52?u+71:u<62?u-4:u-59|43]=u++;e.encode=function(t,n,r){for(var e,i=null,u=[],s=0,f=0;n<r;){var c=t[n++];switch(f){case 0:u[s++]=o[c>>2],e=(3&c)<<4,f=1;break;case 1:u[s++]=o[e|c>>4],e=(15&c)<<2,f=2;break;case 2:u[s++]=o[e|c>>6],u[s++]=o[63&c],f=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,u)),s=0)}return f&&(u[s++]=o[e],u[s++]=61,1===f&&(u[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,u.slice(0,s))),i.join("")):String.fromCharCode.apply(String,u.slice(0,s))};var s="invalid encoding";e.decode=function(t,n,r){for(var e,o=r,u=0,f=0;f<t.length;){var c=t.charCodeAt(f++);if(61===c&&u>1)break;if(void 0===(c=i[c]))throw Error(s);switch(u){case 0:e=c,u=1;break;case 1:n[r++]=e<<2|(48&c)>>4,e=c,u=2;break;case 2:n[r++]=(15&e)<<4|(60&c)>>2,e=c,u=3;break;case 3:n[r++]=(3&e)<<6|c,u=0}}if(1===u)throw Error(s);return r-o},e.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,n,r){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,n,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:r||this}),this},e.prototype.off=function(t,n){if(void 0===t)this._listeners={};else if(void 0===n)this._listeners[t]=[];else for(var r=this._listeners[t],e=0;e<r.length;)r[e].fn===n?r.splice(e,1):++e;return this},e.prototype.emit=function(t){var n=this._listeners[t];if(n){for(var r=[],e=1;e<arguments.length;)r.push(arguments[e++]);for(e=0;e<n.length;)n[e].fn.apply(n[e++].ctx,r)}return this}},function(t,n,r){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),e=128===r[3];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3]}function i(t,e,o){n[0]=t,e[o]=r[3],e[o+1]=r[2],e[o+2]=r[1],e[o+3]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],n[0]}function s(t,e){return r[3]=t[e],r[2]=t[e+1],r[1]=t[e+2],r[0]=t[e+3],n[0]}t.writeFloatLE=e?o:i,t.writeFloatBE=e?i:o,t.readFloatLE=e?u:s,t.readFloatBE=e?s:u}():function(){function n(t,n,r,e){var o=n<0?1:0;if(o&&(n=-n),0===n)t(1/n>0?0:2147483648,r,e);else if(isNaN(n))t(2143289344,r,e);else if(n>34028234663852886e22)t((o<<31|2139095040)>>>0,r,e);else if(n<11754943508222875e-54)t((o<<31|Math.round(n/1401298464324817e-60))>>>0,r,e);else{var i=Math.floor(Math.log(n)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(n*Math.pow(2,-i)*8388608))>>>0,r,e)}}function r(t,n,r){var e=t(n,r),o=2*(e>>31)+1,i=e>>>23&255,u=8388607&e;return 255===i?u?NaN:o*(1/0):0===i?1401298464324817e-60*o*u:o*Math.pow(2,i-150)*(u+8388608)}t.writeFloatLE=n.bind(null,o),t.writeFloatBE=n.bind(null,i),t.readFloatLE=r.bind(null,u),t.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),e=128===r[7];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3],e[o+4]=r[4],e[o+5]=r[5],e[o+6]=r[6],e[o+7]=r[7]}function i(t,e,o){n[0]=t,e[o]=r[7],e[o+1]=r[6],e[o+2]=r[5],e[o+3]=r[4],e[o+4]=r[3],e[o+5]=r[2],e[o+6]=r[1],e[o+7]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],r[4]=t[e+4],r[5]=t[e+5],r[6]=t[e+6],r[7]=t[e+7],n[0]}function s(t,e){return r[7]=t[e],r[6]=t[e+1],r[5]=t[e+2],r[4]=t[e+3],r[3]=t[e+4],r[2]=t[e+5],r[1]=t[e+6],r[0]=t[e+7],n[0]}t.writeDoubleLE=e?o:i,t.writeDoubleBE=e?i:o,t.readDoubleLE=e?u:s,t.readDoubleBE=e?s:u}():function(){function n(t,n,r,e,o,i){var u=e<0?1:0;if(u&&(e=-e),0===e)t(0,o,i+n),t(1/e>0?0:2147483648,o,i+r);else if(isNaN(e))t(0,o,i+n),t(2146959360,o,i+r);else if(e>17976931348623157e292)t(0,o,i+n),t((u<<31|2146435072)>>>0,o,i+r);else{var s;if(e<22250738585072014e-324)t((s=e/5e-324)>>>0,o,i+n),t((u<<31|s/4294967296)>>>0,o,i+r);else{var f=Math.floor(Math.log(e)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(s=e*Math.pow(2,-f))>>>0,o,i+n),t((u<<31|f+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(t,n,r,e,o){var i=t(e,o+n),u=t(e,o+r),s=2*(u>>31)+1,f=u>>>20&2047,c=4294967296*(1048575&u)+i;return 2047===f?c?NaN:s*(1/0):0===f?5e-324*s*c:s*Math.pow(2,f-1075)*(c+4503599627370496)}t.writeDoubleLE=n.bind(null,o,0,4),t.writeDoubleBE=n.bind(null,i,4,0),t.readDoubleLE=r.bind(null,u,0,4),t.readDoubleBE=r.bind(null,s,4,0)}(),t}function o(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}function i(t,n,r){n[r]=t>>>24,n[r+1]=t>>>16&255,n[r+2]=t>>>8&255,n[r+3]=255&t}function u(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function s(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}t.exports=e(e)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,n,r){"use strict";var e=n;e.length=function(t){for(var n=0,r=0,e=0;e<t.length;++e)(r=t.charCodeAt(e))<128?n+=1:r<2048?n+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(e+1))?(++e,n+=4):n+=3;return n},e.read=function(t,n,r){if(r-n<1)return"";for(var e,o=null,i=[],u=0;n<r;)(e=t[n++])<128?i[u++]=e:e>191&&e<224?i[u++]=(31&e)<<6|63&t[n++]:e>239&&e<365?(e=((7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,i[u++]=55296+(e>>10),i[u++]=56320+(1023&e)):i[u++]=(15&e)<<12|(63&t[n++])<<6|63&t[n++],u>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),u=0);return o?(u&&o.push(String.fromCharCode.apply(String,i.slice(0,u))),o.join("")):String.fromCharCode.apply(String,i.slice(0,u))},e.write=function(t,n,r){for(var e,o,i=r,u=0;u<t.length;++u)(e=t.charCodeAt(u))<128?n[r++]=e:e<2048?(n[r++]=e>>6|192,n[r++]=63&e|128):55296==(64512&e)&&56320==(64512&(o=t.charCodeAt(u+1)))?(e=65536+((1023&e)<<10)+(1023&o),++u,n[r++]=e>>18|240,n[r++]=e>>12&63|128,n[r++]=e>>6&63|128,n[r++]=63&e|128):(n[r++]=e>>12|224,n[r++]=e>>6&63|128,n[r++]=63&e|128);return r-i}},function(t,n,r){"use strict";t.exports=function(t,n,r){var e=r||8192,o=e>>>1,i=null,u=e;return function(r){if(r<1||r>o)return t(r);u+r>e&&(i=t(e),u=0);var s=n.call(i,u,u+=r);return 7&u&&(u=1+(7|u)),s}}},function(t,n,r){"use strict";t.exports=o;var e=r(32);function o(t,n){this.lo=t>>>0,this.hi=n>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var u=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var n=t<0;n&&(t=-t);var r=t>>>0,e=(t-r)/4294967296>>>0;return n&&(e=~e>>>0,r=~r>>>0,++r>4294967295&&(r=0,++e>4294967295&&(e=0))),new o(r,e)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(e.isString(t)){if(!e.Long)return o.fromNumber(parseInt(t,10));t=e.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=1+~this.lo>>>0,r=~this.hi>>>0;return n||(r=r+1>>>0),-(n+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===u?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}},function(t,n,r){"use strict";t.exports=u;var e=r(126);(u.prototype=Object.create(e.prototype)).constructor=u;var o=r(32),i=o.Buffer;function u(){e.call(this)}u.alloc=function(t){return(u.alloc=o._Buffer_allocUnsafe)(t)};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(t,n,r){n.set(t,r)}:function(t,n,r){if(t.copy)t.copy(n,r,0,t.length);else for(var e=0;e<t.length;)n[r++]=t[e++]};function f(t,n,r){t.length<40?o.utf8.write(t,n,r):n.utf8Write(t,r)}u.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var n=t.length>>>0;return this.uint32(n),n&&this._push(s,n,t),this},u.prototype.string=function(t){var n=i.byteLength(t);return this.uint32(n),n&&this._push(f,n,t),this}},function(t,n,r){"use strict";t.exports=i;var e=r(127);(i.prototype=Object.create(e.prototype)).constructor=i;var o=r(32);function i(t){e.call(this,t)}o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice),i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,n,r){"use strict";n.Service=r(232)},function(t,n,r){"use strict";t.exports=o;var e=r(32);function o(t,n,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(n),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(e.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(n,r,o,i,u){if(!i)throw TypeError("request must be specified");var s=this;if(!u)return e.asPromise(t,s,n,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,r){if(t)return s.emit("error",t,n),u(t);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return s.emit("error",t,n),u(t)}return s.emit("data",r,n),u(null,r)}s.end(!0)}))}catch(t){return s.emit("error",t,n),void setTimeout((function(){u(t)}),0)}else setTimeout((function(){u(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,n,r){"use strict";t.exports={}}]]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[4],{101:function(e,t,n){e.exports={default:n(338),__esModule:!0}},139:function(e,t,n){(function(n){var r;!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),c=r.match(/Version\/(.*?) /),u=s&&c&&parseInt(c[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length&&this.init(e)};a.prototype={init:function(e){var t=this;return i.ctx||_(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&u(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var u=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,_=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=u,s._start=f,s._stop=_,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(u>=_)){var p=s._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;p.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===p.bufferSource.start?s._loop?p.bufferSource.noteGrainOn(0,u,86400):p.bufferSource.noteGrainOn(0,u,l):s._loop?p.bufferSource.start(0,u,86400):p.bufferSource.start(0,u,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var g=function(){p.currentTime=u,p.muted=s._muted||n._muted||i._muted||p.muted,p.volume=s._volume*i.volume(),p.playbackRate=s._rate;try{var r=p.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,p._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),p.playbackRate=s._rate,p.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),p.removeEventListener("ended",n._endTimers[s._id],!1)},p.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var v=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(p.readyState>=3||v)g();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",g(),p.removeEventListener(i._canPlayEvent,y,!1)};p.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)(n=r._soundById(t[c]))&&(n._volume=e,o[2]||r._stopFade(t[c]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var c=o._soundById(a[s]);if(c){if(r||o._stopFade(a[s]),o._webAudio&&!c._muted){var u=i.ctx.currentTime,l=u+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,u),c._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(c,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,c=n-t,u=Math.abs(c/.01),l=Math.max(4,u>0?r/u:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-d)/r;d=Date.now(),s+=c*o,s=Math.round(100*s)/100,s=c<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){var a=r._getSoundIds(),s=a.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var c=0;c<t.length;c++)if(n=r._soundById(t[c])){r.playing(t[c])&&(n._rateSeek=r.seek(t[c]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var u=r.seek(t[c]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-u,d=1e3*l/Math.abs(n._rate);!r._endTimers[t[c]]&&n._paused||(r._clearTimer(t[c]),r._endTimers[t[c]]=setTimeout(r._ended.bind(r,n),d)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){var o=n._getSoundIds(),a=o.indexOf(r[0]);a>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var c=n.playing(t)?i.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+c*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var f=function(){n._playLock?setTimeout(f,0):d()};setTimeout(f,0)}else d()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return c&&o&&delete c[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var c={},u=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,f(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,t,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._pos;c._pos=[e,n,r],c._node&&(c._panner&&!c._panner.pan||t(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(e,n,r)),i._emit("pos",c._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof e)return c._orientation;c._orientation=[e,n,r],c._node&&(c._panner||(c._pos||(c._pos=i._pos||[0,0,-.5]),t(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(e,n,r)),i._emit("orientation",c._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var c=r._pannerAttr;c={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:c.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:c.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:c.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:c.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:c.panningModel};var u=r._panner;u?(u.coneInnerAngle=c.coneInnerAngle,u.coneOuterAngle=c.coneOuterAngle,u.coneOuterGain=c.coneOuterGain,u.distanceModel=c.distanceModel,u.maxDistance=c.maxDistance,u.refDistance=c.refDistance,u.rolloffFactor=c.rolloffFactor,u.panningModel=c.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(93))},239:function(e,t,n){n(39),n(36),e.exports=n(240)},240:function(e,t,n){var r=n(22),o=n(84);e.exports=n(3).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},241:function(e,t,n){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===l(e)}n.r(t),n.d(t,"default",(function(){return q}));function o(e){return"string"==typeof e}function i(e){return"number"==typeof e}function a(e){return!0===e||!1===e||function(e){return s(e)&&null!==e}(e)&&"[object Boolean]"==l(e)}function s(e){return"object"==typeof e}function c(e){return null!=e}function u(e){return!e.trim().length}function l(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const d=Object.prototype.hasOwnProperty;class f{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=_(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function _(e){let t=null,n=null,i=null,a=1,s=null;if(o(e)||r(e))i=e,t=h(e),n=p(e);else{if(!d.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const r=e.name;if(i=r,d.call(e,"weight")&&(a=e.weight,a<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(r));t=h(r),n=p(r),s=e.getFn}return{path:t,id:n,weight:a,src:i,getFn:s}}function h(e){return r(e)?e:e.split(".")}function p(e){return r(e)?e.join("."):e}var m={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],s=!1;const u=(e,t,l)=>{if(c(e))if(t[l]){const d=e[t[l]];if(!c(d))return;if(l===t.length-1&&(o(d)||i(d)||a(d)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(d));else if(r(d)){s=!0;for(let e=0,n=d.length;e<n;e+=1)u(d[e],t,l+1)}else t.length&&u(d,t,l+1)}else n.push(e)};return u(e,o(t)?t.split("."):t,0),s?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const g=/[^ ]+/g;class v{constructor({getFn:e=m.getFn,fieldNormWeight:t=m.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(g).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,o(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();o(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!c(e)||u(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let a=t.getFn?t.getFn(e):this.getFn(e,t.path);if(c(a))if(r(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:n,value:i}=t.pop();if(c(i))if(o(i)&&!u(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else r(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(o(a)&&!u(a)){let e={v:a,n:this.norm.get(a)};n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function y(e,t,{getFn:n=m.getFn,fieldNormWeight:r=m.fieldNormWeight}={}){const o=new v({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(_)),o.setSources(t),o.create(),o}function b(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=m.distance,ignoreLocation:i=m.ignoreLocation}={}){const a=t/e.length;if(i)return a;const s=Math.abs(r-n);return o?a+s/o:s?1:a}const w=32;function A(e,t,n,{location:r=m.location,distance:o=m.distance,threshold:i=m.threshold,findAllMatches:a=m.findAllMatches,minMatchCharLength:s=m.minMatchCharLength,includeMatches:c=m.includeMatches,ignoreLocation:u=m.ignoreLocation}={}){if(t.length>w)throw new Error(`Pattern length exceeds max of ${w}.`);const l=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let _=i,h=f;const p=s>1||c,g=p?Array(d):[];let v;for(;(v=e.indexOf(t,h))>-1;){let e=b(t,{currentLocation:v,expectedLocation:f,distance:o,ignoreLocation:u});if(_=Math.min(e,_),h=v+l,p){let e=0;for(;e<l;)g[v+e]=1,e+=1}}h=-1;let y=[],A=1,x=l+d;const T=1<<l-1;for(let r=0;r<l;r+=1){let i=0,s=x;for(;i<s;){b(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:o,ignoreLocation:u})<=_?i=s:x=s,s=Math.floor((x-i)/2+i)}x=s;let c=Math.max(1,f-s+1),m=a?d:Math.min(f+s,d)+l,v=Array(m+2);v[m+1]=(1<<r)-1;for(let i=m;i>=c;i-=1){let a=i-1,s=n[e.charAt(a)];if(p&&(g[a]=+!!s),v[i]=(v[i+1]<<1|1)&s,r&&(v[i]|=(y[i+1]|y[i])<<1|1|y[i+1]),v[i]&T&&(A=b(t,{errors:r,currentLocation:a,expectedLocation:f,distance:o,ignoreLocation:u}),A<=_)){if(_=A,h=a,h<=f)break;c=Math.max(1,2*f-h)}}if(b(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:u})>_)break;y=v}const S={isMatch:h>=0,score:Math.max(.001,A)};if(p){const e=function(e=[],t=m.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(g,s);e.length?c&&(S.indices=e):S.isMatch=!1}return S}function x(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class T{constructor(e,{location:t=m.location,threshold:n=m.threshold,distance:r=m.distance,includeMatches:o=m.includeMatches,findAllMatches:i=m.findAllMatches,minMatchCharLength:a=m.minMatchCharLength,isCaseSensitive:s=m.isCaseSensitive,ignoreLocation:c=m.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:x(e),startIndex:t})},l=this.pattern.length;if(l>w){let e=0;const t=l%w,n=l-t;for(;e<n;)u(this.pattern.substr(e,w),e),e+=w;if(t){const e=l-w;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,ignoreLocation:c}=this.options;let u=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:_})=>{const{isMatch:h,score:p,indices:m}=A(e,t,f,{location:r+_,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});h&&(d=!0),l+=p,h&&m&&(u=[...u,...m])}));let f={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(f.indices=u),f}}class S{constructor(e){this.pattern=e}static isMultiMatch(e){return M(e,this.multiRegex)}static isSingleMatch(e){return M(e,this.singleRegex)}search(){}}function M(e,t){const n=e.match(t);return n?n[1]:null}class k extends S{constructor(e,{location:t=m.location,threshold:n=m.threshold,distance:r=m.distance,includeMatches:o=m.includeMatches,findAllMatches:i=m.findAllMatches,minMatchCharLength:a=m.minMatchCharLength,isCaseSensitive:s=m.isCaseSensitive,ignoreLocation:c=m.ignoreLocation}={}){super(e),this._bitapSearch=new T(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class C extends S{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const I=[class extends S{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},C,class extends S{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends S{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},k],E=I.length,L=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const O=new Set([k.type,C.type]);class P{constructor(e,{isCaseSensitive:t=m.isCaseSensitive,includeMatches:n=m.includeMatches,minMatchCharLength:r=m.minMatchCharLength,ignoreLocation:o=m.ignoreLocation,findAllMatches:i=m.findAllMatches,location:a=m.location,threshold:s=m.threshold,distance:c=m.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:s,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(L).filter((e=>e&&!!e.trim())),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<E;){const e=I[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<E;){const e=I[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];i.length=0,o=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:c,indices:u,score:l}=r.search(e);if(!c){a=0,o=0,i.length=0;break}if(o+=1,a+=l,n){const e=r.constructor.type;O.has(e)?i=[...i,...u]:i.push(u)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const F=[];function R(e,t){for(let n=0,r=F.length;n<r;n+=1){let r=F[n];if(r.condition(e,t))return new r(e,t)}return new T(e,t)}const $="$and",B="$or",D="$path",H="$val",j=e=>!(!e[$]&&!e[B]),N=e=>({[$]:Object.keys(e).map((t=>({[t]:e[t]})))});function V(e,t,{auto:n=!0}={}){const i=e=>{let a=Object.keys(e);const c=(e=>!!e[D])(e);if(!c&&a.length>1&&!j(e))return i(N(e));if((e=>!r(e)&&s(e)&&!j(e))(e)){const r=c?e[D]:a[0],i=c?e[H]:e[r];if(!o(i))throw new Error((e=>`Invalid value for key ${e}`)(r));const s={keyId:p(r),pattern:i};return n&&(s.searcher=R(i,t)),s}let u={children:[],operator:a[0]};return a.forEach((t=>{const n=e[t];r(n)&&n.forEach((e=>{u.children.push(i(e))}))})),u};return j(e)||(e=N(e)),i(e)}function G(e,t){const n=e.matches;t.matches=[],c(n)&&n.forEach((e=>{if(!c(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function W(e,t){t.score=e.score}class q{constructor(e,t={},n){this.options={...m,...t},this.options.useExtendedSearch,this._keyStore=new f(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof v))throw new Error("Incorrect 'index' type");this._myIndex=t||y(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){c(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:a,sortFn:s,ignoreFieldNorm:c}=this.options;let u=o(e)?o(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=m.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:o})=>{const i=e?e.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(t?1:r))})),e.score=n}))}(u,{ignoreFieldNorm:c}),a&&u.sort(s),i(t)&&t>-1&&(u=u.slice(0,t)),function(e,t,{includeMatches:n=m.includeMatches,includeScore:r=m.includeScore}={}){const o=[];return n&&o.push(G),r&&o.push(W),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,r)})),r}))}(u,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=R(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:o})=>{if(!c(e))return;const{isMatch:i,score:a,indices:s}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:o,indices:s}]})})),r}_searchLogical(e){const t=V(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],s=n(a,t,r);if(s.length)o.push(...s);else if(e.operator===$)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach((({$:e,i:r})=>{if(c(e)){let a=n(t,e,r);a.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},i.push(o[r])),a.forEach((({matches:e})=>{o[r].matches.push(...e)})))}})),i}_searchObjectList(e){const t=R(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:e,i:r})=>{if(!c(e))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),i.length&&o.push({idx:r,item:e,matches:i})})),o}_findMatches({key:e,value:t,searcher:n}){if(!c(t))return[];let o=[];if(r(t))t.forEach((({v:t,i:r,n:i})=>{if(!c(t))return;const{isMatch:a,score:s,indices:u}=n.searchIn(t);a&&o.push({score:s,key:e,value:t,idx:r,norm:i,indices:u})}));else{const{v:r,n:i}=t,{isMatch:a,score:s,indices:c}=n.searchIn(r);a&&o.push({score:s,key:e,value:r,norm:i,indices:c})}return o}}q.version="6.6.2",q.createIndex=y,q.parseIndex=function(e,{getFn:t=m.getFn,fieldNormWeight:n=m.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new v({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},q.config=m,q.parseQuery=V,function(...e){F.push(...e)}(P)},261:function(e,t,n){n(262),e.exports=n(3).Object.getPrototypeOf},262:function(e,t,n){var r=n(37),o=n(112);n(60)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},263:function(e,t,n){e.exports={default:n(264),__esModule:!0}},264:function(e,t,n){n(265),e.exports=n(3).Object.setPrototypeOf},265:function(e,t,n){var r=n(9);r(r.S,"Object",{setPrototypeOf:n(266).set})},266:function(e,t,n){var r=n(15),o=n(22),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(23)(Function.call,n(110).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},279:function(e,t,n){n(280),e.exports=n(3).Object.values},280:function(e,t,n){var r=n(9),o=n(281)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},281:function(e,t,n){var r=n(35),o=n(29),i=n(49).f;e.exports=function(e){return function(t){for(var n,a=o(t),s=r(a),c=s.length,u=0,l=[];c>u;)i.call(a,n=s[u++])&&l.push(e?[n,a[n]]:a[n]);return l}}},284:function(e,t,n){e.exports={default:n(285),__esModule:!0}},285:function(e,t,n){n(286),e.exports=n(3).Math.hypot},286:function(e,t,n){var r=n(9),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,c=0;a<s;)c<(n=o(arguments[a++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(i)}})},338:function(e,t,n){n(50),n(36),n(39),n(339),n(340),n(341),n(342),e.exports=n(3).Map},339:function(e,t,n){"use strict";var r=n(119),o=n(41),i="Map";e.exports=n(87)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},340:function(e,t,n){var r=n(9);r(r.P+r.R,"Map",{toJSON:n(121)("Map")})},341:function(e,t,n){n(88)("Map")},342:function(e,t,n){n(89)("Map")},345:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},365:function(e,t,n){"use strict";n.r(t);var r=n(7);function o(e,t,n){const o=`.${e}:${t}`,i=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return Object(r.h)(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${o}{${i}}`)}function i(e,t,n){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(""===a||"none"===a)return;const s=Object(r.i)();try{t.className=`${t.className} ${s}`}catch(e){return}const c=document.createElement("style");c.appendChild(o(s,n,i)),t.appendChild(c)}const a="application/font-woff",s="image/jpeg",c={woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:s,jpeg:s,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function u(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return c[t]||""}function l(e){return-1!==e.search(/^(data:)/)}function d(e,t){return`data:${t};base64,${e}`}async function f(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)}))}const _={};async function h(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=_[r])return _[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await f(e,n.fetchRequestInit,(({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(n))));o=d(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message)}return _[r]=o,o}async function p(e,t){return e instanceof HTMLCanvasElement?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):Object(r.c)(t)}(e):e instanceof HTMLVideoElement?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height);const o=t.toDataURL();return Object(r.c)(o)}const n=e.poster,o=u(n),i=await h(n,o,t);return Object(r.c)(i)}(e,t):e instanceof HTMLIFrameElement?async function(e){var t;try{if(null===(t=null==e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await g(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}(e):e.cloneNode(!1)}function m(e,t){return t instanceof Element&&(function(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Object(r.h)(o).forEach((e=>{let t=o.getPropertyValue(e);if("font-size"===e&&t.endsWith("px")){const e=Math.floor(parseFloat(t.substring(0,t.length-2)))-.1;t=`${e}px`}n.setProperty(e,t,o.getPropertyPriority(e))}))}(e,t),function(e,t){i(e,t,":before"),i(e,t,":after")}(e,t),function(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(e instanceof HTMLSelectElement){const n=t,r=Array.from(n.children).find((t=>e.value===t.getAttribute("value")));r&&r.setAttribute("selected","")}}(e,t)),t}async function g(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>p(e,t))).then((n=>async function(e,t,n){var o;const i=null!=(a=e).tagName&&"SLOT"===a.tagName.toUpperCase()&&e.assignedNodes?Object(r.h)(e.assignedNodes()):Object(r.h)((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes);var a;return 0===i.length||e instanceof HTMLVideoElement||await i.reduce(((e,r)=>e.then((()=>g(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,n,t))).then((t=>m(e,t))).then((e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await g(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t))):null}const v=/url\((['"]?)([^'"]+?)\1\)/g,y=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,b=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function w(e,t,n,o,i){try{const a=n?Object(r.g)(t,n):t,s=u(t);let c;if(i){c=d(await i(a),s)}else c=await h(a,s,o);return e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${c}$3`)}catch(e){}return e}function A(e){return-1!==e.search(v)}async function x(e,t,n){if(!A(e))return e;const r=function(e,{preferredFontFormat:t}){return t?e.replace(b,(e=>{for(;;){const[n,,r]=y.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}})):e}(e,n),o=function(e){const t=[];return e.replace(v,((e,n,r)=>(t.push(r),e))),t.filter((e=>!l(e)))}(r);return o.reduce(((e,r)=>e.then((e=>w(e,r,t,n)))),Promise.resolve(r))}async function T(e,t){e instanceof Element&&(await async function(e,t){var n;const r=null===(n=e.style)||void 0===n?void 0:n.getPropertyValue("background");if(r){const n=await x(r,null,t);e.style.setProperty("background",n,e.style.getPropertyPriority("background"))}}(e,t),await async function(e,t){if((!(e instanceof HTMLImageElement)||l(e.src))&&(!(e instanceof SVGImageElement)||l(e.href.baseVal)))return;const n=e instanceof HTMLImageElement?e.src:e.href.baseVal,r=await h(n,u(n),t);await new Promise(((t,n)=>{e.onload=t,e.onerror=n;const o=e;o.decode&&(o.decode=t),e instanceof HTMLImageElement?(e.srcset="",e.src=r):e.href.baseVal=r}))}(e,t),await async function(e,t){const n=Object(r.h)(e.childNodes).map((e=>T(e,t)));await Promise.all(n).then((()=>e))}(e,t))}const S={};async function M(e){let t=S[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},S[e]=t,t}async function k(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),f(i,t.fetchRequestInit,(({result:e})=>(n=n.replace(o,`url(${e})`),[o,e])))}));return Promise.all(o).then((()=>n))}function C(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function I(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=Object(r.h)(e.ownerDocument.styleSheets),o=await async function(e,t){const n=[],o=[];return e.forEach((n=>{if("cssRules"in n)try{Object(r.h)(n.cssRules||[]).forEach(((e,r)=>{if(e.type===CSSRule.IMPORT_RULE){let i=r+1;const a=M(e.href).then((e=>k(e,t))).then((e=>C(e).forEach((e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(e){}})))).catch((e=>{e.toString()}));o.push(a)}}))}catch(r){const i=e.find((e=>null==e.href))||document.styleSheets[0];null!=n.href&&o.push(M(n.href).then((e=>k(e,t))).then((e=>C(e).forEach((e=>{i.insertRule(e,n.cssRules.length)})))).catch((e=>{e.toString()}))),r.toString()}})),Promise.all(o).then((()=>(e.forEach((e=>{if("cssRules"in e)try{Object(r.h)(e.cssRules||[]).forEach((e=>{n.push(e)}))}catch(t){e.href,t.toString()}})),n)))}(n,t);return function(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>A(e.style.getPropertyValue("src"))))}(o)}async function E(e,t){const n=await I(e,t);return(await Promise.all(n.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return x(e.cssText,n,t)})))).join("\n")}async function L(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await g(e,t,!0);await async function(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await E(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(i,t),await T(i,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]}))}(i,t);return await Object(r.f)(i,n,o)}async function O(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await L(e,t),a=await Object(r.c)(i),s=document.createElement("canvas"),c=s.getContext("2d"),u=t.pixelRatio||Object(r.e)(),l=t.canvasWidth||n,d=t.canvasHeight||o;return s.width=l*u,s.height=d*u,t.skipAutoScale||Object(r.b)(s),s.style.width=`${l}`,s.style.height=`${d}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,s.width,s.height)),c.drawImage(a,0,0,s.width,s.height),s}async function P(e,t={}){const{width:n,height:o}=Object(r.d)(e,t);return(await O(e,t)).getContext("2d").getImageData(0,0,n,o).data}async function F(e,t={}){return(await O(e,t)).toDataURL()}async function R(e,t={}){return(await O(e,t)).toDataURL("image/jpeg",t.quality||1)}async function $(e,t={}){const n=await O(e,t);return await Object(r.a)(n)}async function B(e,t={}){return E(e,t)}n.d(t,"toSvg",(function(){return L})),n.d(t,"toCanvas",(function(){return O})),n.d(t,"toPixelData",(function(){return P})),n.d(t,"toPng",(function(){return F})),n.d(t,"toJpeg",(function(){return R})),n.d(t,"toBlob",(function(){return $})),n.d(t,"getFontEmbedCSS",(function(){return B}))},4:function(e,t,n){e.exports={default:n(261),__esModule:!0}},42:function(e,t,n){e.exports={default:n(239),__esModule:!0}},43:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(27),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},5:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(10),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},56:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(93))},6:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(263)),o=a(n(18)),i=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},66:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&_())}function _(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(_)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},7:function(e,t,n){"use strict";(function(e){function r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return _}));const o=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${e}`)})();function i(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function a(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function s(e,t={}){return{width:t.width||function(e){const t=a(e,"border-left-width"),n=a(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=a(e,"border-top-width"),n=a(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}function c(){let t,n;try{n=e}catch(e){}const r=n&&n.env?n.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const u=16384;function l(e){(e.width>u||e.height>u)&&(e.width>u&&e.height>u?e.width>e.height?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u):e.width>u?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u))}function d(e,t={}){return e.toBlob?new Promise((n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)})):new Promise((n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e+=1)i[e]=r.charCodeAt(e);n(new Blob([i],{type:t.type?t.type:"image/png"}))}))}function f(e){return new Promise(((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e}))}async function _(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(o)}}).call(this,n(66))},96:function(e,t,n){e.exports={default:n(279),__esModule:!0}}}]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[0],{11:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Callbacks=e.FullScreen=void 0;var r=h(i(16)),n=h(i(31)),a=h(i(27)),o=h(i(0)),s=h(i(1)),u=h(i(10));e.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t},e.isNil=c,e.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},e.isInteger=function(t){return(0|t)===t},e.isObject=function(t){return"object"===(void 0===t?"undefined":(0,u.default)(t))&&!!t},e.isString=function(t){if(c(t))return!1;return"string"==typeof t||null!==t.constructor&&t.constructor===String},e.isFunction=function(t){if(c(t))return!1;return"function"==typeof t||null!==t.constructor&&t.constructor===Function},e.hasOwn=function(t,e){return p.call(t,e)},e.join=function(t,e){return t.join?t.join(e||","):Array.prototype.join.call(t,e||",")},e.eachObject=function(t,e){if(!t)return;for(var i in t){if(!1===e(t[i],i,t))break}},e.startWith=function(t,e){return new RegExp("^"+e).test(t)},e.endWith=function(t,e){return new RegExp(e+"$").test(t)},e.getPlatform=function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,r="PC",n=!1,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){i=!1,r=e[a],t.indexOf("MicroMessenger")>0&&(n=!0);break}return{isPC:i,isWX:n,platform:r}},e.obj2params=function(t){var e="";for(var i in t)e.length>0&&(e+="&"),e+=i+"="+t[i];return e},e.getValue=function(t,e,i){return t&&t.hasOwnProperty(e)&&null!=t[e]?t[e]:i},e.getValues=function(t,e,i){for(var r,n=1;n<arguments.length-1;n++)if(void 0!==(r=t[arguments[n]]))return r;return arguments[arguments.length-1]},e.cloneObj=function(t){if(!t)return t;var e={};for(var i in t)e[i]=t[i];return e},e.DistanceofTwoPts=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.DistanceofTwoPtsZ=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.z-e.z)*(t.z-e.z))},e.dedupe=function(t){return(0,a.default)(new n.default(t))},e.calcProjPoint=function(t,e,i,r){var n=e.x,a=e.y,o=i.x,s=i.y,u=t.x,l=t.y,h=o-n,c=s-a,p=Math.sqrt(h*h+c*c),m=u-n,v=l-a,g=Math.sqrt(m*m+v*v);if(d(p))return d(g)?(r.x=e.x,r.y=e.y,0):(r.x=e.x,r.y=e.y,g);var y=h/p,x=c/p,b=y*m+x*v;if(!function(t){return t>f}(b))return r.x=e.x,r.y=e.y,g;if(!function(t){return t<-f}(b-p)){var w=u-o,_=l-s,M=Math.sqrt(w*w+_*_);return r.x=i.x,r.y=i.y,M}var S=n+b*y,A=a+b*x,T=u-S,L=l-A,P=Math.sqrt(T*T+L*L);return r.x=S,r.y=A,P},e.getRandom=function(){for(var t="?t=",e=0;e<6;e++)t+=Math.floor(10*Math.random());return t},e.setDefaultValues=function(t){var e=this;(0,r.default)(t).forEach((function(i){null==e[i]&&(e[i]=t[i])}))},e.exitInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},e.GPS84ToGCJ02=function(t){return l.default.transform([t[0],t[1]],l.default.WGS84,l.default.GCJ02)},e.Mercator2lonLat=function(t,e){var i=[],r=t/20037508.342789*180,n=e/20037508.342789*180;return n=180/Math.PI*(2*Math.atan(Math.exp(n*Math.PI/180))-Math.PI/2),i.push(r),i.push(n),i},e.lonLat2Mercator=function(t,e){var i=[],r=20037508.342789*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34789*n/180,i.push(r),i.push(n),i},e.copyProperties=function(t,e,i){for(var r=0;r<i.length;r++){var n=i[r];t.hasOwnProperty(n)&&(e[n]=t[n])}};var l=h(i(92));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){return null==t}var p=Object.prototype.hasOwnProperty;e.FullScreen={get _hasWebkitFullScreen(){return"webkitCancelFullScreen"in document},get _hasMozFullScreen(){return"mozCancelFullScreen"in document},get available(){return this._hasWebkitFullScreen||this._hasMozFullScreen},get activated(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:!!this._hasMozFullScreen&&document.mozFullScreen},request:function(t){t=t||document.body,this._hasWebkitFullScreen?t.webkitRequestFullScreen():this._hasMozFullScreen&&t.mozRequestFullScreen()},cancel:function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen&&document.mozCancelFullScreen()}};e.Callbacks=function(){function t(){(0,o.default)(this,t),this.fns=[]}return(0,s.default)(t,[{key:"add",value:function(t){this.fns.push(t)}},{key:"remove",value:function(t){this.fns.splice(fns.indexOf(t),1)}},{key:"fire",value:function(){for(var t=arguments;this.fns.length>0;){var e=this.fns.shift().apply(this,t);e&&(t=e)}}},{key:"empty",value:function(){this.fns=[]}}]),t}();function d(t){return t<f&&t>-f}var f=1e-5},128:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}}},151:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.esWorker=e.THREE_=void 0;var r,n=i(152),a=(r=n)&&r.__esModule?r:{default:r};var o=i(234);e.THREE_=o,e.esWorker=a.default},152:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=o(i(155));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,r.default)(this,t)}return(0,n.default)(t,null,[{key:"createWorker",value:function(t,e){e(new a.default(156))}}]),t}();e.default=s},156:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(157)),n=a(i(208));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new r.default(t);t.addEventListener("message",(function(i){if(1==i.data.messageType)2==i.data.layerType?e.createFloors(i.data):e.createRooms(i.data);else if(2==i.data.messageType){var r=new n.default(t);i.data.clearAll?r.IDBClearAll():"info"==i.data.controlIndex?r.startInfo(i.data):r.start(i.data)}})),t.addEventListener("error",(function(e){console.info("workerError",e),t.terminate()}),!1)}},157:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(27)),n=d(i(52)),a=d(i(163)),o=d(i(2)),s=d(i(16)),u=d(i(0)),l=d(i(1)),h=i(38),c=i(30),p=i(207);function d(t){return t&&t.__esModule?t:{default:t}}var f=0,m=0,v=function(){function t(e){(0,u.default)(this,t),this.worker=e,this.maptheme=null,this.tileStylesMap=null}return(0,l.default)(t,[{key:"getStyleFromRoomStyle",value:function(t){for(var e=this.maptheme.Building,i=0;i<e.length;i++)if(1*e[i].typeid==t)return e[i];return e[0]}},{key:"handleTheme",value:function(){for(var t={},e={},i=0,r=this.maptheme.Building,n=0;n<r.length;n++){var a=r[n];if(1*a.filltype==2){if(t[i]||(t[i]={topImgIndexMap:{},sideImgIndexMap:{}}),e[a.typeid]||(e[a.typeid]=[i]),a.topimage&&!t[i].topImgIndexMap[a.topimage]){var o=(0,s.default)(t[i].topImgIndexMap).length+1;t[i].topImgIndexMap[o]=a.topimage,e[a.typeid].push(o)}if(a.sideimage&&!t[i].sideImgIndexMap[a.sideimage]){var u=(0,s.default)(t[i].sideImgIndexMap).length+1;t[i].sideImgIndexMap[u]=a.sideimage,e[a.typeid].push(u),u>=4&&(t[++i]={topImgIndexMap:{},sideImgIndexMap:{}})}}}this.imgConfigs=t,this.styleIndexMap=e}},{key:"createRooms",value:function(t){var e={},i={},r={extrudes:{},planes:{},tubes:{}};this.maptheme=t.maptheme,this.tileStylesMap=t.tileStylesMap,this.maptheme&&this.handleTheme();var s=t.lod,u={},l=t.id,p={},d={},f=t.fnum,v={},g=[],y=[],x=[],b=[],w=[],_={},M=t.layers,S=t.layerType,A=t.bid,T=t.isTile,L=5,P=t.isMerge,C=t.showBase,E=t.editMode,I={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},D=0,B=this;if(!m){var O=t.maxX-t.minX;m=B.getRandomHeight(O)}for(var z=0;z<M.length;z++){var N,R=M[z];switch(S){case 0:N=R.modelbases;break;case 1:N=R.models}for(var F=N.length,U=0;U<F;U++){var k=N[U];if(k.hasOwnProperty("RoomHigh")&&null!=k.RoomHigh&&k.RoomHigh>0&&(L=k.RoomHigh),k.hasOwnProperty("RoomLogo")&&null!=k.RoomLogo&&k.RoomLogo.length>1&&0==k.FsId&&""!=k.RoomLogoSize){for(var G=k.RoomLogoSize.split(";"),V=k.RoomLogo.split(";"),W=[],H=0;H<G.length;H++){var j={};j.layerType=S,j.RoomStyle=k.RoomStyle,j.fnum=f,j.dataID=k.FC;var X=G[H].split(",");if(j.coord={x:k.CenX,y:k.CenY},j.size=[parseFloat(X[0]),parseFloat(X[1])],j.RoomLogo=V[H],j.id=k.oid,j.height=k.RoomHigh+.05,j.rotate=X.length>2?parseFloat(X[2]):0,j.angle=X.length>3?parseFloat(X[3]):0,j.offset=X.length>5?{x:parseFloat(X[4]),y:parseFloat(X[5]),z:parseFloat(X[6])||0}:{x:0,y:0,z:0},k.hasOwnProperty("offset")&&k.offset.length>0&&!(k.RModel&&k.RModel.length>2&&"undefined"!=k.RModel)){var q=k.offset.split(",");j.offset.x+=parseFloat(q[0]),j.offset.z+=parseFloat(q[1]),j.offset.y+=parseFloat(q[2])}var Y=void 0;j.repeatType=1*X[7];var J=1*X[3];1*J<3?(j.TextureType=J,(Y=new h.PlaneBufferGeometry(1,1,1,1)).scale(j.size[0],j.size[1],1),j.angle?(Y.rotateZ((180-j.rotate)*(Math.PI/180)),Y.rotateX(Math.PI)):(Y.rotateX(-Math.PI/2),Y.rotateZ((j.rotate-180)*(Math.PI/180))),Y.translate(-I.sceneX-j.coord.x+j.offset.x,j.coord.y-I.sceneZ+j.offset.y,-(j.offset.z+j.height)),P?(g.push(j),y.push(Y)):(p[k.oid]||(p[k.oid]=[]),v[k.oid]||(v[k.oid]=[]),p[k.oid].push(j),v[k.oid]=Y)):(j.TextureType=J,j.RS=k.RS,W.push(j))}if(W.length>0)if(P){var Z=f+"_"+S+"_"+k.RoomStyle+"_"+k.RoomLogo+"_"+k.RoomLogoSize;i[Z]||(i[Z]=!0,x.push(W))}else d[k.oid]=W}if(k.RModel&&k.RModel.length>2&&"undefined"!=k.RModel){var Q={model:k.RModel,name:k.name,scale:k.scale,dataID:k.FC,mapId:k.bids,rotate:k.rotate,x:k.CenX,y:k.CenY,gid:k.gid,offset:k.offset,id:k.oid,bclick:k.bclick,rank:k.ShowLevel,top:k.top};if(Q.roomdata=k,k.RModel.indexOf("BIM-")>-1?(Q.fnum=f,w.push(Q)):b.push(Q),!E)continue}var K=0;void 0===(K=T?E?k.RoomStyle:this.tileStylesMap[k.RoomStyle]:P?k.texturekey?k.texturekey:k.RoomStyle:k.oid||0)&&(K=0),e[K]||(e[K]={},r.extrudes[K]=[],r.planes[K]=[],r.tubes[K]=[],u[K]=[],e[K].brothers=[],e[K].groupIndex=0,e[K].lineIndex=0,e[K].planes=null,P&&(_[K]={}));var $,tt=!1,et=!1;if(L<=.3&&[120005,40003,40004].indexOf(k.Typeid),!C||!k.RModel||2!=k.top&&3!=k.top)if(k.isTube?(et=!0,$=B.createTubeGeo(k,I,L,1,tt)):$=B.createGeometry_(k,I,L,1,tt,E,T),$){var it=$.geometry,rt=$.pointsGeometry,nt=$.geometry.userData.groupInfo,at=e[K],ot=r.extrudes[K];et&&(e[K].tubes||(e[K].tubes={brothers:[],groupIndex:0,geos:[]}),at=e[K].tubes,ot=r.tubes[K],e[K].tubes.geos.push($));var st=P?at.groupIndex:0,ut={},lt=(0,o.default)({},k);if(E&&C&&(ut.data_=lt),ut.FloorNum=lt.floornum,ut.ID=lt.oid,ut.bid=A,ut.name=lt.name,ut.top=lt.top,ut.typeID=lt.Typeid,ut.nodeType=5,ut.isTube=lt.isTube,ut.RoomHigh=lt.RoomHigh,ut.dataID=lt.FC,ut.gid=lt.gid,ut.RoomLogo=lt.RoomLogo,ut.RoomStyle=lt.RoomStyle,ut.classID=lt.classID,ut.points=lt.originalPoints,lt.bids&&(ut.mapId=lt.bids),ut.ShowLevel=lt.ShowLevel||24,ut.TextureType=k.TextureType,ut.mapCoord={x:lt.CenX,y:lt.CenY},T&&(ut.Fnums=lt.fnums,ut.x=lt.x,ut.y=lt.y,ut.size=lt.AS),at.brothers.push(ut),ot.push(it),D++,et)at.groupIndex+=it.index.count,ut.faceRange=[st,at.groupIndex];else{if(u[K].push(rt),at.groupIndex+=it.attributes.position.count,P){for(var ht=0;ht<nt.length;ht++)nt[ht].start+=st;_[K][ut.ID]=nt}e[K].lineIndex+=rt.attributes.position.count,ut.faceRange=[st,at.groupIndex]}}else r.extrudes[K].push(null),D++,console.info("outline error id: ",k.oid);else r.extrudes[K].push(null),D++}}var ct=[],pt=[],dt=[],ft=[],mt=[],vt=[],gt=[],yt=[],xt=[],bt=[],wt=[],_t=[],Mt=[],St=[],At=[],Tt=new Float32Array,Lt=new Float32Array,Pt=new Float32Array,Ct=new Uint16Array,Et=[],It=[];if(P&&y.length>0){var Dt=c.BufferGeometryUtils.mergeBufferGeometries(y,!0);if(Dt){Tt=Dt.getAttribute("position").array,Lt=Dt.getAttribute("normal").array,Pt=Dt.getAttribute("uv").array,Ct=Dt.index.array;for(var Bt=Dt.groups,Ot=[],zt=0;zt<g.length;zt++)0!=Ot.length&&Ot[Ot.length-1]==g[zt].RoomLogo||Ot.push(g[zt].RoomLogo),g[zt].hasOwnProperty("matindex")||(g[zt].matindex=Bt[zt].materialIndex),g[zt+1]&&g[zt].RoomLogo==g[zt+1].RoomLogo&&(g[zt+1].matindex=Bt[zt].materialIndex,Bt[zt+1].materialIndex=Bt[zt].materialIndex);for(var Nt=0;Nt<Bt.length;Nt++)Bt[Nt+1]&&Bt[Nt].materialIndex==Bt[Nt+1].materialIndex&&(Bt[Nt].count=Bt[Nt].count+Bt[Nt+1].count,Bt.splice(Nt+1,1),Nt--);Et=Bt}}if(P){for(var Rt in r.extrudes)r.extrudes[Rt].forEach((function(t){if(t){ct.push(t.getAttribute("uv")),pt.push(t.getAttribute("position")),dt.push(t.getAttribute("normal")),St.push(t.getAttribute("normalizeUv")),ft.push(t.getAttribute("topFaceFlags")),_t.push(t.getAttribute("isHideFlags")),mt.push(t.getAttribute("highLightFlags")),vt.push(t.getAttribute("buildingsHeight")),gt.push(t.getAttribute("randomFactor")),xt.push(t.getAttribute("highLightColor")),yt.push(t.getAttribute("buildingsColor")),Mt.push(t.getAttribute("isSelectFlags")),It.push(t.getAttribute("rUv"));var e=t.getAttribute("topTexIndex"),i=t.getAttribute("sideTexIndex");e&&bt.push(e),i&&wt.push(i)}})),u[Rt].forEach((function(t){At.push(t.getAttribute("position"))}));for(var Ft in r.tubes)if(r.tubes[Ft].length>0){var Ut;Ut=c.BufferGeometryUtils.mergeBufferGeometries(r.tubes[Ft]),e[Ft].tubeData=Ut}var kt=new Float32Array,Gt=new Float32Array,Vt=new Float32Array,Wt=new Float32Array,Ht=new Float32Array,jt=new Float32Array,Xt=new Float32Array,qt=new Float32Array,Yt=new Float32Array,Jt=new Float32Array,Zt=new Float32Array,Qt=new Float32Array,Kt=new Float32Array,$t=new Float32Array,te=new Float32Array,ee=new Float32Array;return 0!=(0,a.default)(r).length&&0!=ct.length&&(kt=c.BufferGeometryUtils.mergeBufferAttributes(ct).array,Ht=c.BufferGeometryUtils.mergeBufferAttributes(St).array,Gt=c.BufferGeometryUtils.mergeBufferAttributes(pt).array,Vt=c.BufferGeometryUtils.mergeBufferAttributes(dt).array,Wt=c.BufferGeometryUtils.mergeBufferAttributes(At).array,jt=c.BufferGeometryUtils.mergeBufferAttributes(It).array,Xt=c.BufferGeometryUtils.mergeBufferAttributes(ft).array,te=c.BufferGeometryUtils.mergeBufferAttributes(_t).array,ee=c.BufferGeometryUtils.mergeBufferAttributes(Mt).array,qt=c.BufferGeometryUtils.mergeBufferAttributes(mt).array,Yt=c.BufferGeometryUtils.mergeBufferAttributes(vt).array,Jt=c.BufferGeometryUtils.mergeBufferAttributes(gt).array,Zt=c.BufferGeometryUtils.mergeBufferAttributes(yt).array,Qt=c.BufferGeometryUtils.mergeBufferAttributes(xt).array,bt.length>0&&(Kt=c.BufferGeometryUtils.mergeBufferAttributes(bt).array),wt.length>0&&($t=c.BufferGeometryUtils.mergeBufferAttributes(wt).array)),void B.worker.postMessage({lod:s,bid:A,isTile:T,id:l,types:e,fnum:t.fnum,pointGeometrys:Wt,layerType:t.layerType,uvs:kt,rUvs:jt,normalizeUvs:Ht,isMerge:P,vertices:Gt,highLightColorAttr:Qt,buildingsColorAttr:Zt,topFaceFlags:Xt,isHideFlags:te,isSelectFlags:ee,highLightFlags:qt,buildingsHeight:Yt,buildingsRandomFactor:Jt,topTexIndex:Kt,sideTexIndex:$t,bimModelData:w,showBase:C,normals:Vt,groups:_,modelTexturesData:x,modelImagesData:g,model3DData:b,modelImagePos:Tt,modelImageNor:Lt,modelImageUv:Pt,modelImageGroups:Et,modelImageIndex:Ct},[kt.buffer,Ht.buffer,Gt.buffer,Vt.buffer,Wt.buffer,Tt.buffer,Lt.buffer,Pt.buffer,Ct.buffer,Xt.buffer,te.buffer,qt.buffer,Yt.buffer,Jt.buffer,Qt.buffer,Zt.buffer,Kt.buffer,$t.buffer,ee.buffer,jt.buffer])}var ie=!1,re=!1,ne=function(i){re=!0,r.planes[i].forEach((function(r,n){var a=new Float32Array,o=new Float32Array,h=new Float32Array,c={},f=[],m=new Float32Array;r?(c[i]={brothers:[],groupIndex:e[i].groupIndex,lineIndex:e[i].lineIndex,planes:e[i].planes},a=r.getAttribute("uv").array,o=r.getAttribute("normal").array,h=r.getAttribute("position").array,m=u[i][0].getAttribute("position").array):c[i]=null;var g=p[i]||null;ie||(ie=!0,f=b);var y=new Float32Array,x=new Float32Array,M=new Float32Array,S=new Uint16Array,T=[];v[i]&&(y=v[i].getAttribute("position").array,x=v[i].getAttribute("normal").array,M=v[i].getAttribute("uv").array,S=v[i].index.array,T=v[i].groups),B.worker.postMessage({lod:s,bid:A,id:l,types:c,fnum:t.fnum,roomid:i,layerType:t.layerType,pointGeometrys:m,uvs:a,normals:o,isMerge:P,vertices:h,modelImagesData:g,modelTexturesData:d,groups:_,postcount:D,showBase:C,model3DData:f,bimModelData:w,modelImagePos:y,modelImageNor:x,modelImageUv:M,modelImageGroups:T,modelImageIndex:S},[a.buffer,h.buffer,o.buffer,y.buffer,m.buffer,x.buffer,M.buffer,S.buffer]),D--}))};for(var ae in r.planes)ne(ae);for(var oe in r.tubes)if(r.tubes[oe].length>0){var se=(0,n.default)({},oe,e[oe]);se[oe].tubeData=r.tubes[oe][0],B.worker.postMessage({id:l,types:se,fnum:t.fnum,layerType:t.layerType,pointGeometrys:[],groups:{},roomid:oe,model3DData:[],isMerge:P,modelImagesData:[],modelImagePos:[],modelTexturesData:[],postcount:D,showBase:C}),D--}var ue=function(i){re=!0,r.extrudes[i].forEach((function(r,a){var o=new Float32Array,h=new Float32Array,c=new Float32Array,f=new Float32Array,m={},g=[],y=[],x=new Float32Array,_=(0,n.default)({},i,r?(0,n.default)({},i,r.userData.groupInfo):[]);r?(m[i]={brothers:[e[i].brothers[a]],groupIndex:e[i].groupIndex,lineIndex:e[i].lineIndex},o=r.getAttribute("uv").array,h=r.getAttribute("normal").array,c=r.getAttribute("normalizeUv").array,f=r.getAttribute("position").array,x=u[i][0].getAttribute("position").array):m[i]=null;var M=p[i]||null,S=d[i]||null;ie||(ie=!0,g=b,y=w);var T=new Float32Array,L=new Float32Array,E=new Float32Array,I=new Uint16Array,O=[];if(v[i]){var z=v[i];T=z.getAttribute("position").array,L=z.getAttribute("normal").array,E=z.getAttribute("uv").array,I=z.index.array,O=z.groups}B.worker.postMessage({bid:A,lod:s,id:l,types:m,fnum:t.fnum,layerType:t.layerType,pointGeometrys:x,uvs:o,normals:h,roomid:i,isMerge:P,vertices:f,modelImagesData:M,modelTexturesData:S,groups:_,postcount:D,normalizeUvs:c,showBase:C,model3DData:g,bimModelData:y,modelImagePos:T,modelImageNor:L,modelImageUv:E,modelImageGroups:O,modelImageIndex:I},[o.buffer,f.buffer,h.buffer,T.buffer,c.buffer,x.buffer,L.buffer,E.buffer,I.buffer]),D--}))};for(var le in r.extrudes)ue(le);re||B.worker.postMessage({id:l,reset:!0})}},{key:"createFloors",value:function(t){var e={},i={},r={},n=t.layers,o=t.id,s=(t.layerType,t.floorHeight),u=t.bid,l={},h={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},p=this;if(!m){var d=t.maxX-t.minX;m=p.getRandomHeight(d)}for(var f=0;f<n.length;f++)for(var v=n[f].floorBases,g=v.length,y=0;y<g;y++){var x=v[y],b=p.createGeometry_(x,h,s,0,0),w=b.geometry,_=b.pointsGeometry,M=b.geometry.userData.groupInfo;e[0]||(e[0]={},i[0]=[],r[0]=[],e[0].brothers=[],e[0].faceIndex=0,l[0]=[]),l[0].push(M),i[0].push(w),r[0].push(_)}if(0!=(0,a.default)(i).length){var S=[],A=[],T=[],L=[],P=[];for(var C in i)i[C].forEach((function(t){S.push(t.getAttribute("uv")),A.push(t.getAttribute("position")),T.push(t.getAttribute("normal")),L.push(t.getAttribute("floorUvs"))})),r[C].forEach((function(t){P.push(t.getAttribute("position"))}));var E=c.BufferGeometryUtils.mergeBufferAttributes(S).array,I=c.BufferGeometryUtils.mergeBufferAttributes(A).array,D=c.BufferGeometryUtils.mergeBufferAttributes(T).array,B=c.BufferGeometryUtils.mergeBufferAttributes(P).array,O=c.BufferGeometryUtils.mergeBufferAttributes(L).array;p.worker.postMessage({bid:u,id:o,types:e,fnum:t.fnum,layerType:2,uvs:E,floorUvs:O,pointGeometrys:B,vertices:I,groups:l,normals:D},[E.buffer],[I.buffer],[D.buffer],[O.buffer],[r.buffer])}else p.worker.postMessage({id:o,reset:!0})}},{key:"getRandomHeight",value:function(t){var e=1,i=.01;return t<=50?(e=.1,i=.003):t<=100?(e=.2,i=.006):t<=200&&(e=.5,i=.008),(f+=.003)>=.03&&(f=0),i+f*e}},{key:"getDis",value:function(t,e){return Math.abs(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}},{key:"createTubeGeo",value:function(t,e,i,r,n){var a=t.points,o=e.sceneX,s=e.sceneZ,u=void 0;u=t.offset?t.offset.split(","):[0,0,0];for(var l={scale:t.RoomHigh,extrusionSegments:1,radiusSegments:10,closed:!1},c=[],p=0;p<a.length;p++){var d=a[p];c.push(new h.Vector3(d.x-o+1*u[0],d.z+1*u[1],d.y-s+1*u[2]))}var f=new h.CatmullRomCurve3(c,!1,"centripetal");return{geometry:new h.TubeBufferGeometry(f,l.extrusionSegments,l.scale,l.radiusSegments,l.closed)}}},{key:"createGeometry_",value:function(t,e,i,n,a,o,s){var u,l=this,c=e.sceneX,d=e.sceneZ,f=!1,v=!1,g=0;if(this.styleIndexMap&&s){var y=this.styleIndexMap;g=y[t.RoomStyle]?y[t.RoomStyle][1]:0}var x=o;a&&(i=0),t.normalizeTop&&x&&(f=!0),t.normalizeSide&&x&&(v=!0);var b=[];if(!(u=t.points[0]instanceof Array?t.points[0]:t.points))return null;if(u.length>=4){for(var w,_=new h.Shape,M=0;M<u.length;M++){var S=u[M];0==M?_.moveTo(S.x-c,S.y-d):_.lineTo(S.x-c,S.y-d),b.push(new h.Vector3(S.x-c,S.y-d,0),new h.Vector3(S.x-c,S.y-d,0))}if(t.holes&&t.holes.length>0)for(var A in t.holes){var T=t.holes[A],L=new h.Path;for(var M in T){S=T[M];0==M?L.moveTo(S.x-c,S.y-d):L.lineTo(S.x-c,S.y-d)}_.holes.push(L)}w=a?new h.ShapeBufferGeometry(_):new h.ExtrudeBufferGeometry(_,{depth:i,bevelEnabled:!1,material:0,extrudeMaterial:0});var P=e.minX,C=e.minY,E=e.maxX-P,I=e.maxY-C,D=w.getAttribute("uv"),B=w.getAttribute("normal").array,O=w.getAttribute("position").array,z=(0,p.getRUv)(_,{height:i,gridSize:{x:i,y:i}}),N=[];A=0;var R=D.array,F=(0,r.default)(R),U=(Math.max(E,I),D.count/3),k=e.floorCenX,G=e.floorCenZ,V=Math.abs(k)-Math.abs(e.sceneX),W=Math.abs(G)-Math.abs(e.sceneZ);if(n){if(!a){var H=function(t){var e={x:O[9*t],y:O[9*t+1]},i={x:O[9*t+3],y:O[9*t+4]},r={x:O[9*t+6],y:O[9*t+7]};return B[9*t+2]==B[9*t+5]?l.getDis(e,i):B[9*t+2]==B[9*t+8]?l.getDis(e,r):B[9*t+5]==B[9*t+8]?l.getDis(i,r):void 0};w.computeBoundingBox();var j=w.boundingBox.max,X=w.boundingBox.min,q=new h.Vector2(0-X.x,0-X.y),Y=new h.Vector2(j.x-X.x,j.y-X.y),J=Y.x/1,Z=Y.y/1,Q=1,K=1;for(f&&(Q=J,K=Z),U=w.groups[0].count/3;A<U;A++)R[6*A]=(O[9*A]+q.x)/Q,R[6*A+1]=(O[9*A+1]+q.y)/K,R[6*A+2]=(O[9*A+3]+q.x)/Q,R[6*A+3]=(O[9*A+4]+q.y)/K,R[6*A+4]=(O[9*A+6]+q.x)/Q,R[6*A+5]=(O[9*A+7]+q.y)/K,F[6*A]=(O[9*A]+q.x)/J,F[6*A+1]=(O[9*A+1]+q.y)/Z,F[6*A+2]=(O[9*A+3]+q.x)/J,F[6*A+3]=(O[9*A+4]+q.y)/Z,F[6*A+4]=(O[9*A+6]+q.x)/J,F[6*A+5]=(O[9*A+7]+q.y)/Z;for(var $=w.groups[1].count/6,tt=U/2,et=0;et<$;et++,tt++){var it=H(2*tt);it<1&&(it=1),v?(R[12*tt]=1,R[12*tt+1]=1,R[12*tt+2]=0,R[12*tt+3]=1,R[12*tt+4]=1,R[12*tt+5]=0,R[12*tt+6]=0,R[12*tt+7]=1,R[12*tt+8]=0,R[12*tt+9]=0,R[12*tt+10]=1,R[12*tt+11]=0):(R[12*tt]=it,R[12*tt+1]=i,R[12*tt+2]=0,R[12*tt+3]=i,R[12*tt+4]=it,R[12*tt+5]=0,R[12*tt+6]=0,R[12*tt+7]=i,R[12*tt+8]=0,R[12*tt+9]=0,R[12*tt+10]=it,R[12*tt+11]=0),F[12*tt]=1,F[12*tt+1]=1,F[12*tt+2]=0,F[12*tt+3]=1,F[12*tt+4]=1,F[12*tt+5]=0,F[12*tt+6]=0,F[12*tt+7]=1,F[12*tt+8]=0,F[12*tt+9]=0,F[12*tt+10]=1,F[12*tt+11]=0}}}else for(;A<U;A++)N[6*A]=(O[9*A]-P-k+V)/E,N[6*A+1]=(O[9*A+1]-C+G-W)/I,N[6*A+2]=(O[9*A+3]-P-k+V)/E,N[6*A+3]=(O[9*A+4]-C+G-W)/I,N[6*A+4]=(O[9*A+6]-P-k+V)/E,N[6*A+5]=(O[9*A+7]-C+G-W)/I;var rt=(new h.BufferGeometry).setFromPoints(b),nt=[],at=rt.getAttribute("position").array,ot=null;if(s&&this.styleIndexMap&&(ot=this.getStyleFromRoomStyle(t.RoomStyle)),n){var st={x:0,y:0,z:0};if(t.offset&&!t.RModel){var ut=t.offset.split(",");ut.length>=2&&(st.x+=parseFloat(ut[0]),st.y+=parseFloat(ut[2]),st.z+=parseFloat(ut[1]))}st.z+=i;var lt=w.getAttribute("position").count,ht=w.getAttribute("position").array,ct=st.z;if(a)for(var pt,dt=3*lt;pt<dt;pt+=3)ht[pt]-=ct;else{var ft=[],mt=[],vt=[],gt=[],yt=w.getAttribute("normal").array,xt=w.getAttribute("uv").array,bt=[];n&&(bt=F);for(var wt=[],_t=ht[2],Mt=ot?1*ot.height:0,St=0,At=0;At<lt;At++)ht[3*At+2]==_t||0!=St&&At>St?(mt.push(ht[3*At],ht[3*At+1],ht[3*At+2]-ct-Mt),ft.push(yt[3*At],yt[3*At+1],yt[3*At+2]),vt.push(xt[2*At],xt[2*At+1]),wt.push(z[2*At],z[2*At+1]),n&&gt.push(bt[2*At],bt[2*At+1])):0==St&&(St=2*At);w.addAttribute("position",new h.BufferAttribute(new Float32Array(mt),3)),w.addAttribute("normal",new h.BufferAttribute(new Float32Array(ft),3)),w.addAttribute("uv",new h.BufferAttribute(new Float32Array(vt),2)),w.addAttribute("normalizeUv",new h.BufferAttribute(new Float32Array(gt),2)),w.addAttribute("rUv",new h.BufferAttribute(new Float32Array(wt),2)),w.groups[0].count-=St/2,w.groups[1].start-=St/2}st.z-=.002;for(var Tt=m,Lt=at.length,Pt=0;Pt<=Lt-3;Pt+=3){at[Pt];at[Pt]+=parseFloat(st.x),at[Pt+1]+=parseFloat(st.y),at[Pt+2]-=parseFloat(st.z),0==Pt||Pt==Lt-3?nt.push(at[Pt],at[Pt+1],at[Pt+2]):nt.push(at[Pt],at[Pt+1],at[Pt+2]-Tt,at[Pt],at[Pt+1],at[Pt+2]-Tt)}}else w.addAttribute("floorUvs",new h.BufferAttribute(new Float32Array(N),2));nt=new Float32Array(nt);var Ct=rt.getAttribute("position");if(Ct.setArray(nt),Ct.needsUpdate=!0,!a){var Et=w.groups;w.userData.groupInfo=Et,w.clearGroups(),w.addGroup(Et[0].start,Et[1].start+Et[1].count,0);var It=w.attributes.position.count,Dt=new Array(It);Dt.fill(1,Et[0].start,Et[1].start),Dt.fill(0,Et[1].start,Et[1].start+Et[1].count),w.addAttribute("topFaceFlags",new h.BufferAttribute(new Float32Array(Dt),1));var Bt=new Array(It);Bt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("highLightFlags",new h.BufferAttribute(new Float32Array(Bt),1));var Ot=new Array(It);Ot.fill(i,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("buildingsHeight",new h.BufferAttribute(new Float32Array(Ot),1));var zt=new Array(It);zt.fill(h.Math.randFloat(0,1),Et[0].start,Et[1].start+Et[1].count),w.addAttribute("randomFactor",new h.BufferAttribute(new Float32Array(zt),1));var Nt=new Array(It);Nt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Nt),1));var Rt=new Array(It);Rt.fill(0,Et[0].start,Et[1].start+Et[1].count),w.addAttribute("isSelectFlags",new h.BufferAttribute(new Float32Array(Rt),1));var Ft=[],Ut=[],kt=void 0,Gt=void 0;if(kt=new Array(It),Gt=new Array(It),ot&&ot.filltype&&1*ot.filltype==1&&ot.color)for(var Vt=ot.color.split(","),Wt=0;Wt<It;Wt++)Ft.push(1*Vt[0]/255,1*Vt[1]/255,1*Vt[2]/255,1*ot.opacity),Ut.push(1,1,1,1);else if(ot&&ot.filltype&&1*ot.filltype==2&&(ot.topimage||ot.sideimage)){for(var Ht=0;Ht<It;Ht++)Ft.push(1,1,1,1*ot.opacity),Ut.push(1,1,1,1);ot.topimage&&kt.fill(g,0,Et[1].start+Et[1].count),ot.sideimage&&Gt.fill(g,0,Et[1].start+Et[1].count)}w.addAttribute("buildingsColor",new h.BufferAttribute(new Float32Array(Ft),4)),w.addAttribute("highLightColor",new h.BufferAttribute(new Float32Array(Ut),4)),w.addAttribute("topTexIndex",new h.BufferAttribute(new Float32Array(kt),1)),w.addAttribute("sideTexIndex",new h.BufferAttribute(new Float32Array(Gt),1))}return{geometry:w,pointsGeometry:rt,model:t}}return null}}]),t}();e.default=v},207:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRUv=void 0;var r=i(38);function n(t,e,i){var n=i.x,a=i.y,o=0;return{generateTopUV:function(e,i,n,a,o){var s=[new r.Vector2(0,0),new r.Vector2(0,0),new r.Vector2(0,0)];return t.topUv.push(s[0].x,s[0].y,s[1].x,s[1].y,s[2].x,s[2].y),s},generateSideWallUV:function(i,s,u,l,h,c){var p,d,f=s[3*u],m=s[3*u+1],v=s[3*u+2],g=s[3*l],y=s[3*l+1],x=s[3*l+2],b=new r.Vector3(f,m,v),w=new r.Vector3(g,y,x),_=b.distanceTo(w);return p=t.sideUv,d=[new r.Vector2(o,0),new r.Vector2(o+_/n,0),new r.Vector2(o+_/n,e/a),new r.Vector2(o,e/a)],p.push(d[0].x,d[0].y,d[1].x,d[1].y,d[3].x,d[3].y),p.push(d[1].x,d[1].y,d[2].x,d[2].y,d[3].x,d[3].y),o+=_/n,t.sideUv}}}e.getRUv=function(t,e){var i={topUv:[],sideUv:[]};return new r.ExtrudeBufferGeometry(t,{depth:e.height,material:0,extrudeMaterial:0,bevelEnabled:!1,UVGenerator:n(i,e.height,e.gridSize)}).dispose(),i.topUv.concat(i.sideUv)}},208:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(16)),n=d(i(12)),a=d(i(13)),o=d(i(8)),s=d(i(0)),u=d(i(1)),l=d(i(218)),h=d(i(219)),c=i(38),p=i(30);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,s.default)(this,t),this.worker=e,this.opts={mapDataSrc:"",mapid:""},this.threeCenter=null,this.bimDatas={},this.sceneX=0,this.sceneZ=0,this.sourceData={},this.queue=null,this.mapCenter=null,this.collections={},this.db=null,this.needsUpdate=!0,this.devMode=!1,this.mergeMode=!0,this.bimInfo=null,this.buffers=[],this.useIDB=!0,this.ajaxPrefix=e.location.href}var e,i,d,f,m,v;return(0,u.default)(t,[{key:"getBimDatasFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimDatas").objectStore("bimDatas"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"startInfo",value:(v=(0,a.default)(n.default.mark((function t(e){var i,r,a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(this.url=e.url,r=e.useCache,this.queue=e.datas,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!r||!i){t.next=23;break}return t.next=19,this.getBimInfoFromDB(e.mapid);case 19:(a=t.sent)?(this.bimInfo=a,this.postBimInfo()):this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null}),t.next=24;break;case 23:this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null});case 24:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"start",value:(m=(0,a.default)(n.default.mark((function t(e){var i,a,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(a=e.useCache,this.queue=e.datas,this.url=e.url,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!a||!i){t.next=24;break}return t.next=19,this.IDBQueryData("bimDatas",{page:e.controlIndex,bids:e.mapid});case 19:o=t.sent,(0,r.default)(o).length>0?(this.bimDatas=o,this.threeCenter=o.threeCenter,this.mapCenter=o.mapCenter,this.handleFromCache(this.controlIndex,e.mapid)):(this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex})),t.next=26;break;case 24:this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex});case 26:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"onSourceLoaded",value:function(){var t=this.queue,e={},i=this.mergeMode;for(var r in t)if(this.bimDatas[r]){e[r]={};var n=t[r];if(i)for(var a in n){e[r][a]=[];var o=n[a],s=this.mergeQueue(o,r);e[r][a].push(s)}else for(var u in n){e[r][u]=[];var l=n[u];for(var h in l){var c=[l[h]],p=this.mergeQueue(c,r);e[r][u].push(p)}}t[r]={}}this.worker.postMessage({message:"bimMerged",useCache:!this.needsUpdate,data:e,id:this.workerId,center:this.threeCenter,bimCenter:this.mapCenter,bids:this.opts.mapid},this.buffers),this.bimDatas=null,this.sourceData=null}},{key:"getTransformMatrix",value:function(t,e,i){var r=new c.Euler(e.x,e.y,e.z,"XYZ"),n=(new c.Quaternion).setFromEuler(r),a=new c.Vector3(t.x,t.y,t.z),o=new c.Vector3(i.x,i.y,i.z);return(new c.Matrix4).compose(a,n,o)}},{key:"coordMapToThree",value:function(t){return new c.Vector3(-(t.x+this.sceneX),0,t.y-this.sceneZ)}},{key:"coordThreeToMap",value:function(t){return{x:-(t.x+this.sceneX),y:t.z+this.sceneZ}}},{key:"mergeQueue",value:function(t,e){var i=this.bimDatas[e];if(!i)return null;for(var r={},n=[],a=0;a<t.length;a++){var o=t[a];o.isBim=!0;var s=o.offset.split(","),u=o.center,l=this.coordMapToThree(u),h=new c.Vector3(l.x+1*s[0],0+1*s[1],l.z+1*s[2]);o.scale={x:o.scale.x,y:o.scale.y,z:o.scale.z};var d=new c.Vector3(o.scale.x,o.scale.y,o.scale.z),f=new c.Vector3(0,0,0);if(o.rotate){var m=o.rotate.split(",");f.x=c.Math.degToRad(1*m[0]),f.y=c.Math.degToRad(1*m[1]),f.z=c.Math.degToRad(1*m[2])}var v=this.getTransformMatrix({x:h.x,y:h.y,z:h.z},{x:f.x,y:f.y,z:f.z},{x:d.x,y:d.y,z:d.z});for(var g in i){r[g]||(r[g]={geometries:[],groupInfo:[],groupIndex:0});var y=i[g],x=new c.BufferGeometry;x.setIndex(new c.BufferAttribute(y.indexes,1)),x.addAttribute("position",new c.BufferAttribute(y.positions,3)),x.addAttribute("uv",new c.BufferAttribute(y.uvs,2)),(x=x.clone()).applyMatrix(v),r[g].geometries.push(x),r[g].groupInfo.push({style:g,id:o.id,start:r[g].groupIndex,count:x.index.count,materialIndex:0}),r[g].groupIndex+=x.index.count}}for(var b in r){var w=p.BufferGeometryUtils.mergeBufferGeometries(r[b].geometries);n.push({style:b,groupInfo:r[b].groupInfo,position:w.attributes.position.array,uv:w.attributes.uv.array,index:w.index.array,mapCoord:r[b].mapCoord}),this.buffers.push(w.attributes.position.array.buffer,w.attributes.uv.array.buffer,w.index.array.buffer)}return n}},{key:"getHeadTime",value:function(t){var e=t.controlIndex,i=this.opts.mapDataSrc,r=this.opts.mapid,n=""+i+r+"/"+r+"-bim"+e+".bin";return n.indexOf("http")<0&&(n=this.ajaxPrefix+"/"+n),new o.default((function(t,e){l.default.get({type:"HEAD",url:n,isArrayBuffer:!0,useCacheSince:null}).success((function(e,i){var r=i.getResponseHeader("Last-Modified"),n=Date.parse(r);t(n)})).error((function(){e(null)}))}))}},{key:"getBimInfoFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimInfos").objectStore("bimInfos"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"postBimInfo",value:(f=(0,a.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.worker.postMessage({message:"bimInfos",data:this.bimInfo,id:this.workerId});case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"loadBimInfo",value:(d=(0,a.default)(n.default.mark((function t(){var e,i,r;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=this).opts.mapDataSrc,e.opts.mapid,this.controlIndex,i=e.useIDB,r=this.url,l.default.get({url:r,isArrayBuffer:!0,useCacheSince:null}).success((function(t,r){var n=r.getResponseHeader("Last-Modified"),a=Date.parse(n),o=new Uint8Array(t),s=h.default.ESBim.ESBimInfoSet.decode(o);s.lastModified=a,i&&e.IDBAddItem("bimInfos",s),e.bimInfo=s,e.postBimInfo()})).error((function(t,i){e.clearCache()}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"loadBimDatas",value:(i=(0,a.default)(n.default.mark((function t(e){var i,r,o,s=e.controlIndex;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this).opts.mapDataSrc,r=i.opts.mapid,o=this.url,l.default.get({url:o,isArrayBuffer:!0,useCacheSince:null}).success(function(){var t=(0,a.default)(n.default.mark((function t(e,a){var u,l,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.needsUpdate=!0,u=new Uint8Array(e),t.prev=3,l=h.default.ESBim.ESBimGeoSet.decode(u),i.needsUpdate&&(this.devMode,i.needsUpdate=!0,c={x:l.x,y:l.y},i.coordMapToThree({x:c.x,y:c.y}),i.sourceData=l,i.convertSources(s),i.onSourceLoaded(s)),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(3),console.info(r,'Error on reading "'+o+'"',"please confirm your file path"),console.info(r,t.t0),t.abrupt("return");case 13:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,i){return t.apply(this,arguments)}}()).error((function(t,e){i.clearCache()}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"handleFromCache",value:(e=(0,a.default)(n.default.mark((function t(e,i){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parseQueue();case 1:case"end":return t.stop()}}),t,this)}))),function(t,i){return e.apply(this,arguments)})},{key:"parseQueue",value:function(){this.onSourceLoaded()}},{key:"convertSources",value:function(t){var e=this,i=e.sourceData,r=e.opts.mapid,n=e.queue,a=e.needsUpdate,o=e.useIDB;for(var s in this.threeCenter=this.coordMapToThree({x:i.x,y:i.y}),this.mapCenter={x:i.x,y:i.y},i.Ones){var u="BIM-"+s;if(n[u]){var l=i.Ones[s],h=l.pts,c=l.uv,p=l.fs,d={};if(0!=p.length){for(var f=0;f<p.length;f++){var m=p[f],v=m.idx,g=m.uv,y=m.vtx,x=m.c;d[x]||(d[x]={positions:[],uvs:[],indexes:[],offset:0});for(var b=0;b<y.length;b++)d[x].positions.push(h[y[b]]);for(var w=0;w<g.length;w++)d[x].uvs.push(c[g[w]]);for(var _=0;_<v.length;_++){var M=v[_];d[x].indexes.push(M+d[x].offset)}d[x].offset+=y.length/3}var S={};for(var A in d){var T=d[A];S[A]={indexes:new Uint16Array(T.indexes),positions:new Float32Array(T.positions),uvs:new Float32Array(T.uvs)}}if(this.bimDatas[u]=S,a&&o){var L=r+"-"+s;e.IDBAddItem("bimDatas",{id:L,bids:r,bimId:s,page:t,datas:S,mapCenter:this.mapCenter,threeCenter:this.threeCenter})}}}}}},{key:"IDBTryInit",value:function(t){var e=this;return new o.default((function(i){var r=e.worker.indexedDB.open(t.db);r.onsuccess=function(){var t=r.result;e.db=t,e.devMode,i()},r.onerror=function(){r.errorCode}}))}},{key:"IDBAddItem",value:function(t,e){var i=this.db,r=this,n=i.transaction([t],"readwrite").objectStore(t).add(e);n.onsuccess=function(t){r.devMode},n.onerror=function(t){r.devMode}}},{key:"clearCache",value:function(){if(this.useIDB){var t=this.db,e=this.opts.mapid;t.transaction("bimDatas","readwrite").objectStore("bimDatas").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimInfos","readwrite").objectStore("bimInfos").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimSets","readwrite").objectStore("bimSets").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())}}}},{key:"IDBQueryData",value:function(t,e){var i=this,r=this;return new o.default((function(n){var a=i.db.transaction([t],"readonly").objectStore(t),o=a.index("myIndex").openCursor(IDBKeyRange.only([e.bids,e.page])),s={};o.onsuccess=function(t){var e=t.target.result;if(e){var i=e.value,r="BIM-"+i.bimId;s.mapCenter||(s.mapCenter=i.mapCenter,s.threeCenter=i.threeCenter),s[r]=i.datas,e.continue()}else n(s)},o.onerror=function(){};var u=a.count();u.onsuccess=function(){u.result;r.devMode}}))}}]),t}();e.default=f},218:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=i(11);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){(0,r.default)(this,t),this.url=e.url;var i=this.url,n=e.data;this.type=e.type||(n?"POST":"GET");var o=this.type,s=null==e.async||e.async;if(this.isArrayBuffer=e.isArrayBuffer||!1,this._isComplete=!1,this._status,this._responseData,this._httpStatus,this._completeCallbacks=new a.Callbacks,this._successCallbacks=new a.Callbacks,this._errorCallbacks=new a.Callbacks,this._since=e.useCacheSince||null,this._httpServer,this._initHttpServer(),this._httpServer.open(o,i,s),this._since){var u=new Date(this._since).toGMTString();this._httpServer.setRequestHeader("If-Modified-Since",u)}this._httpServer.onreadystatechange=this._httpStateChange.bind(this),"GET"==o&&this.isArrayBuffer&&(this._httpServer.responseType="arraybuffer",this._httpServer.custom&&(this._httpServer.custom.xhr.responseType="arraybuffer")),"POST"===o&&(this._httpServer.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._httpServer.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this._httpServer.setRequestHeader("Connection","close"));try{this._httpServer.send(n)}catch(t){this._errorCallback()}}return(0,n.default)(t,[{key:"complete",value:function(t){return this._completeCallbacks.add(t),this._isComplete&&this._completeCallbacks.fire(this._responseData,this._status),this}},{key:"success",value:function(t){return this._successCallbacks.add(t),this._isComplete&&"success"===this._status&&this._successCallbacks.fire(this._responseData),this}},{key:"error",value:function(t){return this._errorCallbacks.add(t),this._isComplete&&"error"===this._status&&this._errorCallbacks.fire(this._responseData),this}}],[{key:"get",value:function(e){return new t(e)}},{key:"getJSON",value:function(e){return new t({url:e.url,async:e.async}).success((function(t){var e;try{e=JSON.parse(t)}catch(t){}return[e]}))}},{key:"post",value:function(e,i){return new t({url:e,data:i})}}]),(0,n.default)(t,[{key:"_initHttpServer",value:function(){XMLHttpRequest&&(this._httpServer=new XMLHttpRequest)}},{key:"_httpStateChange",value:function(){4===this._httpServer.readyState&&(this._isComplete=!0,this.judgeStatus())}},{key:"_successCallback",value:function(){this._completeCallbacks.fire(this._responseData,this._status),this._successCallbacks.fire(this._responseData,this._httpServer)}},{key:"judgeStatus",value:function(){200==this._httpServer.status?(this._status="success","GET"==this.type&&(this.isArrayBuffer||this.url.indexOf(".loc")>0)?this._responseData=this._httpServer.response:this._responseData=this._httpServer.responseText,this._successCallback()):(this._status="error",this._responseData=this._httpServer.response,this._httpStatus=this._httpServer.status,this._errorCallback())}},{key:"_errorCallback",value:function(){this._httpStatus,this._completeCallbacks.fire(this._responseData,this._status),this._errorCallbacks.fire(this._responseData,this._httpStatus)}}]),t}();e.default=s},219:function(t,e,i){"use strict";var r=a(i(10)),n=a(i(16));function a(t){return t&&t.__esModule?t:{default:t}}var o,s=i(64),u=s.Reader,l=s.Writer,h=s.util,c=s.roots.default||(s.roots.default={});c.ESBim=((o={}).ESBimGeoSet=function(){function t(t){if(this.Ones={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.pageno=0,t.prototype.pages=0,t.prototype.x=0,t.prototype.y=0,t.prototype.z=0,t.prototype.Ones=h.emptyObject,t.prototype.t1="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&e.uint32(40).int32(t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&e.uint32(48).int32(t.pages),null!=t.x&&t.hasOwnProperty("x")&&e.uint32(57).double(t.x),null!=t.y&&t.hasOwnProperty("y")&&e.uint32(65).double(t.y),null!=t.z&&t.hasOwnProperty("z")&&e.uint32(73).double(t.z),null!=t.Ones&&t.hasOwnProperty("Ones"))for(var i=(0,n.default)(t.Ones),r=0;r<i.length;++r)e.uint32(82).fork().uint32(10).string(i[r]),c.ESBim.OneGeoSet.encode(t.Ones[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(90).string(t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimGeoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.pageno=t.int32();break;case 6:n.pages=t.int32();break;case 7:n.x=t.double();break;case 8:n.y=t.double();break;case 9:n.z=t.double();break;case 10:t.skip().pos++,n.Ones===h.emptyObject&&(n.Ones={}),i=t.string(),t.pos++,n.Ones[i]=c.ESBim.OneGeoSet.decode(t,t.uint32());break;case 11:n.t1=t.string();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.pageno&&t.hasOwnProperty("pageno")&&!h.isInteger(t.pageno))return"pageno: integer expected";if(null!=t.pages&&t.hasOwnProperty("pages")&&!h.isInteger(t.pages))return"pages: integer expected";if(null!=t.x&&t.hasOwnProperty("x")&&"number"!=typeof t.x)return"x: number expected";if(null!=t.y&&t.hasOwnProperty("y")&&"number"!=typeof t.y)return"y: number expected";if(null!=t.z&&t.hasOwnProperty("z")&&"number"!=typeof t.z)return"z: number expected";if(null!=t.Ones&&t.hasOwnProperty("Ones")){if(!h.isObject(t.Ones))return"Ones: object expected";for(var e=(0,n.default)(t.Ones),i=0;i<e.length;++i){var a=c.ESBim.OneGeoSet.verify(t.Ones[e[i]]);if(a)return"Ones."+a}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimGeoSet)return t;var e=new c.ESBim.ESBimGeoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),null!=t.pageno&&(e.pageno=0|t.pageno),null!=t.pages&&(e.pages=0|t.pages),null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.z&&(e.z=Number(t.z)),t.Ones){if("object"!==(0,r.default)(t.Ones))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones={};for(var i=(0,n.default)(t.Ones),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.Ones[i[a]]))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones[i[a]]=c.ESBim.OneGeoSet.fromObject(t.Ones[i[a]])}}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.Ones={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.pageno=0,r.pages=0,r.x=0,r.y=0,r.z=0,r.t1="",r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&(r.pageno=t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&(r.pages=t.pages),null!=t.x&&t.hasOwnProperty("x")&&(r.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(r.y=t.y),null!=t.z&&t.hasOwnProperty("z")&&(r.z=t.z),t.Ones&&(i=(0,n.default)(t.Ones)).length){r.Ones={};for(var a=0;a<i.length;++a)r.Ones[i[a]]=c.ESBim.OneGeoSet.toObject(t.Ones[i[a]],e)}return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneGeoSet=function(){function t(t){if(this.pts=[],this.uv=[],this.fs=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.ps=0,t.prototype.pts=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.fs=h.emptyArray,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.ps&&t.hasOwnProperty("ps")&&e.uint32(8).int32(t.ps),null!=t.pts&&t.pts.length){e.uint32(18).fork();for(var i=0;i<t.pts.length;++i)e.double(t.pts[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(26).fork(),i=0;i<t.uv.length;++i)e.double(t.uv[i]);e.ldelim()}if(null!=t.fs&&t.fs.length)for(i=0;i<t.fs.length;++i)c.ESBim.FaceSet.encode(t.fs[i],e.uint32(34).fork()).ldelim();return null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(40).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(50).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.OneGeoSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.ps=t.int32();break;case 2:if(r.pts&&r.pts.length||(r.pts=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.pts.push(t.double());else r.pts.push(t.double());break;case 3:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.double());else r.uv.push(t.double());break;case 4:r.fs&&r.fs.length||(r.fs=[]),r.fs.push(c.ESBim.FaceSet.decode(t,t.uint32()));break;case 5:r.o1=t.int32();break;case 6:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.ps&&t.hasOwnProperty("ps")&&!h.isInteger(t.ps))return"ps: integer expected";if(null!=t.pts&&t.hasOwnProperty("pts")){if(!Array.isArray(t.pts))return"pts: array expected";for(var e=0;e<t.pts.length;++e)if("number"!=typeof t.pts[e])return"pts: number[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if("number"!=typeof t.uv[e])return"uv: number[] expected"}if(null!=t.fs&&t.hasOwnProperty("fs")){if(!Array.isArray(t.fs))return"fs: array expected";for(e=0;e<t.fs.length;++e){var i=c.ESBim.FaceSet.verify(t.fs[e]);if(i)return"fs."+i}}return null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneGeoSet)return t;var e=new c.ESBim.OneGeoSet;if(null!=t.ps&&(e.ps=0|t.ps),t.pts){if(!Array.isArray(t.pts))throw TypeError(".ESBim.OneGeoSet.pts: array expected");e.pts=[];for(var i=0;i<t.pts.length;++i)e.pts[i]=Number(t.pts[i])}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.OneGeoSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=Number(t.uv[i])}if(t.fs){if(!Array.isArray(t.fs))throw TypeError(".ESBim.OneGeoSet.fs: array expected");for(e.fs=[],i=0;i<t.fs.length;++i){if("object"!==(0,r.default)(t.fs[i]))throw TypeError(".ESBim.OneGeoSet.fs: object expected");e.fs[i]=c.ESBim.FaceSet.fromObject(t.fs[i])}}return null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.pts=[],i.uv=[],i.fs=[]),e.defaults&&(i.ps=0,i.o1=0,i.o2=""),null!=t.ps&&t.hasOwnProperty("ps")&&(i.ps=t.ps),t.pts&&t.pts.length){i.pts=[];for(var r=0;r<t.pts.length;++r)i.pts[r]=t.pts[r]}if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];if(t.fs&&t.fs.length)for(i.fs=[],r=0;r<t.fs.length;++r)i.fs[r]=c.ESBim.FaceSet.toObject(t.fs[r],e);return null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.FaceSet=function(){function t(t){if(this.vtx=[],this.idx=[],this.uv=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.c=0,t.prototype.vtx=h.emptyArray,t.prototype.idx=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.t=0,t.prototype.n="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.c&&t.hasOwnProperty("c")&&e.uint32(8).int32(t.c),null!=t.vtx&&t.vtx.length){e.uint32(18).fork();for(var i=0;i<t.vtx.length;++i)e.int32(t.vtx[i]);e.ldelim()}if(null!=t.idx&&t.idx.length){for(e.uint32(26).fork(),i=0;i<t.idx.length;++i)e.int32(t.idx[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(34).fork(),i=0;i<t.uv.length;++i)e.int32(t.uv[i]);e.ldelim()}return null!=t.t&&t.hasOwnProperty("t")&&e.uint32(40).int32(t.t),null!=t.n&&t.hasOwnProperty("n")&&e.uint32(50).string(t.n),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(56).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(66).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.FaceSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.c=t.int32();break;case 2:if(r.vtx&&r.vtx.length||(r.vtx=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.vtx.push(t.int32());else r.vtx.push(t.int32());break;case 3:if(r.idx&&r.idx.length||(r.idx=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.idx.push(t.int32());else r.idx.push(t.int32());break;case 4:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.int32());else r.uv.push(t.int32());break;case 5:r.t=t.int32();break;case 6:r.n=t.string();break;case 7:r.o1=t.int32();break;case 8:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.c&&t.hasOwnProperty("c")&&!h.isInteger(t.c))return"c: integer expected";if(null!=t.vtx&&t.hasOwnProperty("vtx")){if(!Array.isArray(t.vtx))return"vtx: array expected";for(var e=0;e<t.vtx.length;++e)if(!h.isInteger(t.vtx[e]))return"vtx: integer[] expected"}if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(e=0;e<t.idx.length;++e)if(!h.isInteger(t.idx[e]))return"idx: integer[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if(!h.isInteger(t.uv[e]))return"uv: integer[] expected"}return null!=t.t&&t.hasOwnProperty("t")&&!h.isInteger(t.t)?"t: integer expected":null!=t.n&&t.hasOwnProperty("n")&&!h.isString(t.n)?"n: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.FaceSet)return t;var e=new c.ESBim.FaceSet;if(null!=t.c&&(e.c=0|t.c),t.vtx){if(!Array.isArray(t.vtx))throw TypeError(".ESBim.FaceSet.vtx: array expected");e.vtx=[];for(var i=0;i<t.vtx.length;++i)e.vtx[i]=0|t.vtx[i]}if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.FaceSet.idx: array expected");for(e.idx=[],i=0;i<t.idx.length;++i)e.idx[i]=0|t.idx[i]}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.FaceSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=0|t.uv[i]}return null!=t.t&&(e.t=0|t.t),null!=t.n&&(e.n=String(t.n)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.vtx=[],i.idx=[],i.uv=[]),e.defaults&&(i.c=0,i.t=0,i.n="",i.o1=0,i.o2=""),null!=t.c&&t.hasOwnProperty("c")&&(i.c=t.c),t.vtx&&t.vtx.length){i.vtx=[];for(var r=0;r<t.vtx.length;++r)i.vtx[r]=t.vtx[r]}if(t.idx&&t.idx.length)for(i.idx=[],r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r];if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];return null!=t.t&&t.hasOwnProperty("t")&&(i.t=t.t),null!=t.n&&t.hasOwnProperty("n")&&(i.n=t.n),null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.ESBimInfoSet=function(){function t(t){if(this.nlist=[],this.infos={},this.cates={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.nlist=h.emptyArray,t.prototype.infos=h.emptyObject,t.prototype.cates=h.emptyObject,t.prototype.t1="",t.prototype.cnt=0,t.prototype.pts=0,t.prototype.vects=0,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.nlist&&t.nlist.length)for(var i=0;i<t.nlist.length;++i)e.uint32(42).string(t.nlist[i]);if(null!=t.infos&&t.hasOwnProperty("infos")){var r=(0,n.default)(t.infos);for(i=0;i<r.length;++i)e.uint32(50).fork().uint32(8).int32(r[i]),c.ESBim.OneInfoSet.encode(t.infos[r[i]],e.uint32(18).fork()).ldelim().ldelim()}if(null!=t.cates&&t.hasOwnProperty("cates"))for(r=(0,n.default)(t.cates),i=0;i<r.length;++i)e.uint32(58).fork().uint32(8).int32(r[i]).uint32(18).string(t.cates[r[i]]).ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(66).string(t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&e.uint32(72).int32(t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&e.uint32(80).int32(t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&e.uint32(88).int32(t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.nlist&&n.nlist.length||(n.nlist=[]),n.nlist.push(t.string());break;case 6:t.skip().pos++,n.infos===h.emptyObject&&(n.infos={}),i=t.int32(),t.pos++,n.infos[i]=c.ESBim.OneInfoSet.decode(t,t.uint32());break;case 7:t.skip().pos++,n.cates===h.emptyObject&&(n.cates={}),i=t.int32(),t.pos++,n.cates[i]=t.string();break;case 8:n.t1=t.string();break;case 9:n.cnt=t.int32();break;case 10:n.pts=t.int32();break;case 11:n.vects=t.int32();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.nlist&&t.hasOwnProperty("nlist")){if(!Array.isArray(t.nlist))return"nlist: array expected";for(var e=0;e<t.nlist.length;++e)if(!h.isString(t.nlist[e]))return"nlist: string[] expected"}if(null!=t.infos&&t.hasOwnProperty("infos")){if(!h.isObject(t.infos))return"infos: object expected";var i=(0,n.default)(t.infos);for(e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"infos: integer key{k:int32} expected";var a=c.ESBim.OneInfoSet.verify(t.infos[i[e]]);if(a)return"infos."+a}}if(null!=t.cates&&t.hasOwnProperty("cates")){if(!h.isObject(t.cates))return"cates: object expected";for(i=(0,n.default)(t.cates),e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"cates: integer key{k:int32} expected";if(!h.isString(t.cates[i[e]]))return"cates: string{k:int32} expected"}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.cnt&&t.hasOwnProperty("cnt")&&!h.isInteger(t.cnt)?"cnt: integer expected":null!=t.pts&&t.hasOwnProperty("pts")&&!h.isInteger(t.pts)?"pts: integer expected":null!=t.vects&&t.hasOwnProperty("vects")&&!h.isInteger(t.vects)?"vects: integer expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimInfoSet)return t;var e=new c.ESBim.ESBimInfoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),t.nlist){if(!Array.isArray(t.nlist))throw TypeError(".ESBim.ESBimInfoSet.nlist: array expected");e.nlist=[];for(var i=0;i<t.nlist.length;++i)e.nlist[i]=String(t.nlist[i])}if(t.infos){if("object"!==(0,r.default)(t.infos))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos={};var a=(0,n.default)(t.infos);for(i=0;i<a.length;++i){if("object"!==(0,r.default)(t.infos[a[i]]))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos[a[i]]=c.ESBim.OneInfoSet.fromObject(t.infos[a[i]])}}if(t.cates){if("object"!==(0,r.default)(t.cates))throw TypeError(".ESBim.ESBimInfoSet.cates: object expected");for(e.cates={},a=(0,n.default)(t.cates),i=0;i<a.length;++i)e.cates[a[i]]=String(t.cates[a[i]])}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.cnt&&(e.cnt=0|t.cnt),null!=t.pts&&(e.pts=0|t.pts),null!=t.vects&&(e.vects=0|t.vects),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.arrays||e.defaults)&&(r.nlist=[]),(e.objects||e.defaults)&&(r.infos={},r.cates={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.t1="",r.cnt=0,r.pts=0,r.vects=0,r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),t.nlist&&t.nlist.length){r.nlist=[];for(var a=0;a<t.nlist.length;++a)r.nlist[a]=t.nlist[a]}if(t.infos&&(i=(0,n.default)(t.infos)).length)for(r.infos={},a=0;a<i.length;++a)r.infos[i[a]]=c.ESBim.OneInfoSet.toObject(t.infos[i[a]],e);if(t.cates&&(i=(0,n.default)(t.cates)).length)for(r.cates={},a=0;a<i.length;++a)r.cates[i[a]]=t.cates[i[a]];return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&(r.cnt=t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&(r.pts=t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&(r.vects=t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneInfoSet=function(){function t(t){if(this.info={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.id=0,t.prototype.name="",t.prototype.bimid=0,t.prototype.uuid="",t.prototype.fnum=0,t.prototype.tid=0,t.prototype.info=h.emptyObject,t.prototype.status=0,t.prototype.msg="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(8).int32(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&e.uint32(24).int32(t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&e.uint32(34).string(t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&e.uint32(40).int32(t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&e.uint32(48).int32(t.tid),null!=t.info&&t.hasOwnProperty("info"))for(var i=(0,n.default)(t.info),r=0;r<i.length;++r)e.uint32(58).fork().uint32(8).int32(i[r]),c.ESBim.IDList.encode(t.info[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.status&&t.hasOwnProperty("status")&&e.uint32(64).int32(t.status),null!=t.msg&&t.hasOwnProperty("msg")&&e.uint32(74).string(t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(80).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(90).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.OneInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.id=t.int32();break;case 2:n.name=t.string();break;case 3:n.bimid=t.int32();break;case 4:n.uuid=t.string();break;case 5:n.fnum=t.int32();break;case 6:n.tid=t.int32();break;case 7:t.skip().pos++,n.info===h.emptyObject&&(n.info={}),i=t.int32(),t.pos++,n.info[i]=c.ESBim.IDList.decode(t,t.uint32());break;case 8:n.status=t.int32();break;case 9:n.msg=t.string();break;case 10:n.o1=t.int32();break;case 11:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!h.isInteger(t.id))return"id: integer expected";if(null!=t.name&&t.hasOwnProperty("name")&&!h.isString(t.name))return"name: string expected";if(null!=t.bimid&&t.hasOwnProperty("bimid")&&!h.isInteger(t.bimid))return"bimid: integer expected";if(null!=t.uuid&&t.hasOwnProperty("uuid")&&!h.isString(t.uuid))return"uuid: string expected";if(null!=t.fnum&&t.hasOwnProperty("fnum")&&!h.isInteger(t.fnum))return"fnum: integer expected";if(null!=t.tid&&t.hasOwnProperty("tid")&&!h.isInteger(t.tid))return"tid: integer expected";if(null!=t.info&&t.hasOwnProperty("info")){if(!h.isObject(t.info))return"info: object expected";for(var e=(0,n.default)(t.info),i=0;i<e.length;++i){if(!h.key32Re.test(e[i]))return"info: integer key{k:int32} expected";var a=c.ESBim.IDList.verify(t.info[e[i]]);if(a)return"info."+a}}return null!=t.status&&t.hasOwnProperty("status")&&!h.isInteger(t.status)?"status: integer expected":null!=t.msg&&t.hasOwnProperty("msg")&&!h.isString(t.msg)?"msg: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneInfoSet)return t;var e=new c.ESBim.OneInfoSet;if(null!=t.id&&(e.id=0|t.id),null!=t.name&&(e.name=String(t.name)),null!=t.bimid&&(e.bimid=0|t.bimid),null!=t.uuid&&(e.uuid=String(t.uuid)),null!=t.fnum&&(e.fnum=0|t.fnum),null!=t.tid&&(e.tid=0|t.tid),t.info){if("object"!==(0,r.default)(t.info))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info={};for(var i=(0,n.default)(t.info),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.info[i[a]]))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info[i[a]]=c.ESBim.IDList.fromObject(t.info[i[a]])}}return null!=t.status&&(e.status=0|t.status),null!=t.msg&&(e.msg=String(t.msg)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.info={}),e.defaults&&(r.id=0,r.name="",r.bimid=0,r.uuid="",r.fnum=0,r.tid=0,r.status=0,r.msg="",r.o1=0,r.o2=""),null!=t.id&&t.hasOwnProperty("id")&&(r.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(r.name=t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&(r.bimid=t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&(r.uuid=t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&(r.fnum=t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&(r.tid=t.tid),t.info&&(i=(0,n.default)(t.info)).length){r.info={};for(var a=0;a<i.length;++a)r.info[i[a]]=c.ESBim.IDList.toObject(t.info[i[a]],e)}return null!=t.status&&t.hasOwnProperty("status")&&(r.status=t.status),null!=t.msg&&t.hasOwnProperty("msg")&&(r.msg=t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.IDList=function(){function t(t){if(this.idx=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.idx=h.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.idx&&t.idx.length)for(var i=0;i<t.idx.length;++i)e.uint32(10).string(t.idx[i]);return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.IDList;t.pos<i;){var n=t.uint32();n>>>3==1?(r.idx&&r.idx.length||(r.idx=[]),r.idx.push(t.string())):t.skipType(7&n)}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(var e=0;e<t.idx.length;++e)if(!h.isString(t.idx[e]))return"idx: string[] expected"}return null},t.fromObject=function(t){if(t instanceof c.ESBim.IDList)return t;var e=new c.ESBim.IDList;if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.IDList.idx: array expected");e.idx=[];for(var i=0;i<t.idx.length;++i)e.idx[i]=String(t.idx[i])}return e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.idx=[]),t.idx&&t.idx.length){i.idx=[];for(var r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r]}return i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o),t.exports=c},234:function(t,e,i){"use strict";var r=i(235),n=i(236),a=i(237),o=i(38);o.FileLoader=r.FileLoader,o.ImageLoader=n.ImageLoader,o.TextureLoader=a.TextureLoader,o.DirectionalLight.prototype.updateDirection=function(t){var e,i,r,n,a,o;this.pitchAngle=t.hasOwnProperty("pitchAngle")?t.pitchAngle:this.pitchAngle,this.directionAngle=t.hasOwnProperty("directionAngle")?t.directionAngle:this.directionAngle,this.position.copy((e=this.pitchAngle,i=this.directionAngle,r=e/180*Math.PI+Math.PI/2,n=-i/180*Math.PI+Math.PI/2,a=new THREE.Vector3,o=Math.sin(r),a.x=o*Math.cos(n),a.y=-Math.cos(r),a.z=o*Math.sin(n),a))},o.BufferGeometry.prototype.merge=function(t){if(t instanceof THREE.BufferGeometry!=!1){var e,i,r,n,a=this.attributes;if(this.index){for(var o=t.index.array,s=a.position.count,u=0,l=o.length;u<l;u++)o[u]=s+o[u];this.index.array=(e=this.index.array,i=o,r=e.length,(n=new Uint32Array(r+i.length)).set(e),n.set(i,r),n)}for(var h in a)void 0!==t.attributes[h]&&(a[h].array=c(a[h].array,t.attributes[h].array));return this}function c(t,e){var i=t.length,r=new Float32Array(i+e.length);return r.set(t),r.set(e,i),r}},o.BufferGeometry.prototype.toIndexed=function(){var t=0,e=[],i={};function r(r,n,a,o){var s=Math.floor(r*t)+"_"+Math.floor(n*t)+"_"+Math.floor(a*t);return void 0===i[s]&&(i[s]=e.length,e.push(o)),i[s]}return function(n){t=Math.pow(10,n||6);var a=new THREE.BufferGeometry;return function(t,n){for(var a=t.attributes.position.array,o=a.length/3/3,s=new(3*o>65536?Uint32Array:Uint16Array)(3*o),u=0,l=o;u<l;u++){var h=9*u;s[3*u]=r(a[h],a[h+1],a[h+2],3*u),s[3*u+1]=r(a[h+3],a[h+4],a[h+5],3*u+1),s[3*u+2]=r(a[h+6],a[h+7],a[h+8],3*u+2)}n.index=new THREE.BufferAttribute(s,1);var c=e.length;for(var p in t.attributes){var d=t.attributes[p],f=new THREE.BufferAttribute(new d.array.constructor(c*d.itemSize),d.itemSize),m=f.array,v=d.array;switch(d.itemSize){case 1:for(var g=0,y=e.length;g<y;g++)m[g]=v[e[g]];break;case 2:for(var x=0,b=e.length;x<b;x++){var w=2*e[x],_=2*x;m[_]=v[w],m[_+1]=v[w+1]}break;case 3:for(var M=0,S=e.length;M<S;M++){var A=3*e[M],T=3*M;m[T]=v[A],m[T+1]=v[A+1],m[T+2]=v[A+2]}break;case 4:for(var L=0,P=e.length;L<P;L++){var C=4*e[L],E=4*L;m[E]=v[C],m[E+1]=v[C+1],m[E+2]=v[C+2],m[E+3]=v[C+3]}}n.attributes[p]=f}i={},e=[]}(this,a),a}}(),t.exports=o},235:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileLoader=void 0;var r=s(i(12)),n=s(i(13)),a=s(i(2)),o=i(128);function s(t){return t&&t.__esModule?t:{default:t}}var u,l=i(38),h={};function c(t){this.manager=void 0!==t?t:l.DefaultLoadingManager}(0,a.default)(c.prototype,{load:(u=(0,n.default)(r.default.mark((function t(e,i,n,a,s){var u,l,c,p,d,f,m,v,g,y,x,b,w,_,M,S;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s&&!THREE.ESCache.enabled&&(s=!1),void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),u=this,void 0===(l=o.Cache.get(e))){t.next=10;break}return u.manager.itemStart(e),setTimeout((function(){i&&i(l),u.manager.itemEnd(e)}),0),t.abrupt("return",l);case 10:if(!s||!s.updatetime){t.next=23;break}if(!(c=s.updatetime)){t.next=23;break}return t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:c});case 15:if(!t.sent){t.next=23;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(p=t.sent)){t.next=23;break}return i&&i(p.data),t.abrupt("return");case 23:if(void 0===h[e]){t.next=26;break}return h[e].push({onLoad:i,onProgress:n,onError:a}),t.abrupt("return");case 26:if(d=/^data:(.*?)(;base64)?,(.*)$/,!(f=e.match(d))){t.next=58;break}m=f[1],v=!!f[2],g=f[3],g=decodeURIComponent(g),v&&(g=atob(g)),t.prev=34,x=(this.responseType||"").toLowerCase(),t.t0=x,t.next="arraybuffer"===t.t0||"blob"===t.t0?39:"document"===t.t0?43:"json"===t.t0?46:48;break;case 39:for(b=new Uint8Array(g.length),w=0;w<g.length;w++)b[w]=g.charCodeAt(w);return y="blob"===x?new Blob([b.buffer],{type:m}):b.buffer,t.abrupt("break",50);case 43:return _=new DOMParser,y=_.parseFromString(g,m),t.abrupt("break",50);case 46:return y=JSON.parse(g),t.abrupt("break",50);case 48:return y=g,t.abrupt("break",50);case 50:setTimeout((function(){i&&i(y),u.manager.itemEnd(e)}),0),t.next=56;break;case 53:t.prev=53,t.t1=t.catch(34),setTimeout((function(){a&&a(t.t1),u.manager.itemError(e),u.manager.itemEnd(e)}),0);case 56:t.next=71;break;case 58:for(S in h[e]=[],h[e].push({onLoad:i,onProgress:n,onError:a}),(M=new XMLHttpRequest).open("GET",e,!0),M.addEventListener("load",(function(t){var i=this.response;o.Cache.add(e,i);var r=h[e];if(delete h[e],200===this.status||0===this.status){s&&s.updatetime&&THREE.ESCache.upsert({id:e,data:i,updatetime:s.updatetime}),this.status;for(var n=0,a=r.length;n<a;n++)(l=r[n]).onLoad&&l.onLoad(i);u.manager.itemEnd(e)}else{for(n=0,a=r.length;n<a;n++){var l;(l=r[n]).onError&&l.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}}),!1),M.addEventListener("progress",(function(t){for(var i=h[e],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(t)}}),!1),M.addEventListener("error",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}),!1),M.addEventListener("abort",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}u.manager.itemError(e),u.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(M.responseType=this.responseType),void 0!==this.withCredentials&&(M.withCredentials=this.withCredentials),M.overrideMimeType&&M.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)M.setRequestHeader(S,this.requestHeader[S]);M.send(null);case 71:return u.manager.itemStart(e),t.abrupt("return",M);case 73:case"end":return t.stop()}}),t,this,[[34,53]])}))),function(t,e,i,r,n){return u.apply(this,arguments)}),setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setLastModifiedTime:function(t){return this.lastModifiedTime=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),e.FileLoader=c},236:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLoader=void 0;var r,n=u(i(12)),a=u(i(13)),o=u(i(2)),s=i(128);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,o.default)(l.prototype,{crossOrigin:"anonymous",load:(r=(0,a.default)(n.default.mark((function t(e,i,r,a,o){var u,l,h,c,p,d,f,m,v,g,y,x;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o&&!THREE.ESCache.enabled&&(o=!1),void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),u=this,void 0===(l=s.Cache.get(e))){t.next=10;break}return u.manager.itemStart(e),setTimeout((function(){i&&i(l),u.manager.itemEnd(e)}),0),t.abrupt("return",l);case 10:if(!o||!o.updatetime){t.next=29;break}if(!(h=o.updatetime)){t.next=29;break}return t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:h});case 15:if(!t.sent){t.next=29;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(c=t.sent)){t.next=29;break}return p=c.data,d=document.createElementNS("http://www.w3.org/1999/xhtml","img"),f=window.URL||window.webkitURL,m=f.createObjectURL(p),d.src=m,d.setAttribute("originalSrc",e),d.onload=function(){i&&i(this)},t.abrupt("return");case 29:return v=document.createElementNS("http://www.w3.org/1999/xhtml","img"),o&&o.updatetime?((g=new XMLHttpRequest).open("GET",e,!0),g.responseType="blob",g.onload=function(){if(200==this.status){var t=g.response;if(!t)return;THREE.ESCache.upsert({id:e,data:t,updatetime:o.updatetime||(new Date).getTime()/1e3});var r=(window.URL||window.webkitURL).createObjectURL(t);v.src=r,v.setAttribute("originalSrc",e),v.addEventListener("load",(function(){i&&i(this)}),!1),v.addEventListener("error",(function(t){a&&a(t)}),!1)}},g.send()):(y=function t(){v.removeEventListener("load",t,!1),v.removeEventListener("error",x,!1),s.Cache.add(e,this),i&&i(this),u.manager.itemEnd(e)},x=function t(i){v.removeEventListener("load",y,!1),v.removeEventListener("error",t,!1),a&&a(i),u.manager.itemError(e),u.manager.itemEnd(e)},v.addEventListener("load",y,!1),v.addEventListener("error",x,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(v.crossOrigin=this.crossOrigin),u.manager.itemStart(e),v.src=e),t.abrupt("return",v);case 32:case"end":return t.stop()}}),t,this)}))),function(t,e,i,n,a){return r.apply(this,arguments)}),setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.ImageLoader=l},237:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureLoader=void 0;var r,n=i(2);function a(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,((r=n)&&r.__esModule?r:{default:r}).default)(a.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r,n){var a=new THREE.Texture,o=new THREE.ImageLoader(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(i){a.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);a.format=r?THREE.RGBFormat:THREE.RGBAFormat,a.needsUpdate=!0,void 0!==e&&e(a)}),i,r,n),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.TextureLoader=a},30:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferGeometryUtils=void 0;var r=u(i(198)),n=u(i(90)),a=u(i(16)),o=u(i(31)),s=i(38);function u(t){return t&&t.__esModule?t:{default:t}}var l={computeTangents:function(t){var e=t.index,i=t.attributes;if(null!==e&&void 0!==i.position&&void 0!==i.normal&&void 0!==i.uv){var r=e.array,n=i.position.array,a=i.normal.array,o=i.uv.array,u=n.length/3;void 0===i.tangent&&t.addAttribute("tangent",new s.BufferAttribute(new Float32Array(4*u),4));for(var l=i.tangent.array,h=[],c=[],p=0;p<u;p++)h[p]=new s.Vector3,c[p]=new s.Vector3;var d=new s.Vector3,f=new s.Vector3,m=new s.Vector3,v=new s.Vector2,g=new s.Vector2,y=new s.Vector2,x=new s.Vector3,b=new s.Vector3,w=t.groups;0===w.length&&(w=[{start:0,count:r.length}]);p=0;for(var _=w.length;p<_;++p)for(var M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)O(r[M+0],r[M+1],r[M+2]);var A,T,L,P=new s.Vector3,C=new s.Vector3,E=new s.Vector3,I=new s.Vector3;for(p=0,_=w.length;p<_;++p){var D,B;for(M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)z(r[M+0]),z(r[M+1]),z(r[M+2])}}function O(t,e,i){d.fromArray(n,3*t),f.fromArray(n,3*e),m.fromArray(n,3*i),v.fromArray(o,2*t),g.fromArray(o,2*e),y.fromArray(o,2*i);var r=f.x-d.x,a=m.x-d.x,s=f.y-d.y,u=m.y-d.y,l=f.z-d.z,p=m.z-d.z,w=g.x-v.x,_=y.x-v.x,M=g.y-v.y,S=y.y-v.y,A=1/(w*S-_*M);x.set((S*r-M*a)*A,(S*s-M*u)*A,(S*l-M*p)*A),b.set((w*a-_*r)*A,(w*u-_*s)*A,(w*p-_*l)*A),h[t].add(x),h[e].add(x),h[i].add(x),c[t].add(b),c[e].add(b),c[i].add(b)}function z(t){E.fromArray(a,3*t),I.copy(E),T=h[t],P.copy(T),P.sub(E.multiplyScalar(E.dot(T))).normalize(),C.crossVectors(I,T),L=C.dot(c[t]),A=L<0?-1:1,l[4*t]=P.x,l[4*t+1]=P.y,l[4*t+2]=P.z,l[4*t+3]=A}},mergeBufferGeometries:function(t,e){for(var i=null!==t[0].index,r=new o.default((0,a.default)(t[0].attributes)),n=new o.default((0,a.default)(t[0].morphAttributes)),u={},l={},h=new s.BufferGeometry,c=0,p=0;p<t.length;++p){var d=t[p];if(i!==(null!==d.index))return null;for(var f in d.attributes){if(!r.has(f))return null;void 0===u[f]&&(u[f]=[]),u[f].push(d.attributes[f])}for(var f in d.morphAttributes){if(!n.has(f))return null;void 0===l[f]&&(l[f]=[]),l[f].push(d.morphAttributes[f])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(d.userData),e){var m;if(i)m=d.index.count;else{if(void 0===d.attributes.position)return null;m=d.attributes.position.count}h.addGroup(c,m,p),c+=m}}if(i){var v=0,g=[];for(p=0;p<t.length;++p){var y=t[p].index;y.getX||(y.getX=function(t){return this.array[t*this.itemSize]});for(var x=0;x<y.count;++x)g.push(y.getX(x)+v);v+=t[p].attributes.position.count}h.setIndex(g)}for(var f in u){var b=this.mergeBufferAttributes(u[f]);if(!b)return null;h.addAttribute(f,b)}for(var f in l){var w=l[f][0].length;if(0===w)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[f]=[];for(p=0;p<w;++p){var _=[];for(x=0;x<l[f].length;++x)_.push(l[f][x][p]);var M=this.mergeBufferAttributes(_);if(!M)return null;h.morphAttributes[f].push(M)}}return h},mergeBufferAttributes:function(t){for(var e,i,r,n=0,a=0;a<t.length;++a){var o=t[a];if(o.isInterleavedBufferAttribute)return null;if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;if(void 0===i&&(i=o.itemSize),i!==o.itemSize)return null;if(void 0===r&&(r=o.normalized),r!==o.normalized)return null;n+=o.array.length}var u=new e(n),l=0;for(a=0;a<t.length;++a)u.set(t[a].array,l),l+=t[a].array.length;return new s.BufferAttribute(u,i,r)},interleaveAttributes:function(t){for(var e,i=0,r=0,n=0,a=t.length;n<a;++n){var o=t[n];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;i+=o.array.length,r+=o.itemSize}var u=new s.InterleavedBuffer(new e(i),r),l=0,h=[],c=["getX","getY","getZ","getW"],p=["setX","setY","setZ","setW"],d=0;for(a=t.length;d<a;d++){var f=(o=t[d]).itemSize,m=o.count,v=new s.InterleavedBufferAttribute(u,f,l,o.normalized);h.push(v),l+=f;for(var g=0;g<m;g++)for(var y=0;y<f;y++)v[p[y]](g,o[c[y]](g))}return h},estimateBytesUsed:function(t){var e=0;for(var i in t.attributes){var r=t.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0},mergeVertices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,n.default);for(var i={},o=t.getIndex(),u=t.getAttribute("position"),l=o?o.count:u.count,h=0,c=(0,a.default)(t.attributes),p={},d={},f=[],m=["getX","getY","getZ","getW"],v=0,g=c.length;v<g;v++){p[M=c[v]]=[],(L=t.morphAttributes[M])&&(d[M]=new Array(L.length).fill().map((function(){return[]})))}var y=(0,r.default)(1/e),x=Math.pow(10,y);for(v=0;v<l;v++){var b=o?o.getX(v):v,w="",_=0;for(g=c.length;_<g;_++)for(var M=c[_],S=(T=t.getAttribute(M)).itemSize,A=0;A<S;A++)w+=~~(T[m[A]](b)*x)+",";if(w in i)f.push(i[w]);else{for(_=0,g=c.length;_<g;_++){M=c[_];var T=t.getAttribute(M),L=t.morphAttributes[M],P=(S=T.itemSize,p[M]),C=d[M];for(A=0;A<S;A++){var E=m[A];if(P.push(T[E](b)),L)for(var I=0,D=L.length;I<D;I++)C[I].push(L[I][E](b))}}i[w]=h,f.push(h),h++}}var B=t.clone();for(v=0,g=c.length;v<g;v++){M=c[v];var O=t.getAttribute(M),z=new O.array.constructor(p[M]);if(O.isInterleavedBufferAttribute?T=new s.BufferAttribute(z,O.itemSize,O.itemSize):(T=t.getAttribute(M).clone()).setArray(z),B.addAttribute(M,T),M in d)for(_=0;_<d[M].length;_++){var N=t.morphAttributes[M][_].clone();N.setArray(new N.array.constructor(d[M][_])),B.morphAttributes[M][_]=N}}var R=Uint8Array;f.length>=Math.pow(2,8)&&(R=Uint16Array),f.length>=Math.pow(2,16)&&(R=Uint32Array);var F=new R(f);f=null;return null===o?f=new s.BufferAttribute(F,1):(f=t.getIndex().clone()).setArray(F),B.setIndex(f),B},toTrianglesDrawMode:function(t,e){if(e===THREE.TrianglesDrawMode)return t;if(e===THREE.TriangleFanDrawMode||e===THREE.TriangleStripDrawMode){var i=t.getIndex();if(null===i){var r=[],n=t.getAttribute("position");if(void 0===n)return t;for(var a=0;a<n.count;a++)r.push(a);t.setIndex(r),i=t.getIndex()}var o=i.count-2,s=[];if(e===THREE.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(i.getX(0)),s.push(i.getX(a)),s.push(i.getX(a+1));else for(a=0;a<o;a++)a%2==0?(s.push(i.getX(a)),s.push(i.getX(a+1)),s.push(i.getX(a+2))):(s.push(i.getX(a+2)),s.push(i.getX(a+1)),s.push(i.getX(a)));s.length;var u=t.clone();return u.setIndex(s),u.clearGroups(),u}return t}};e.BufferGeometryUtils=l},38:function(t,e,i){"use strict";var r,n,a,o,s=x(i(27)),u=x(i(170)),l=x(i(16)),h=x(i(117)),c=x(i(53)),p=x(i(18)),d=x(i(54)),f=x(i(2)),m=x(i(63)),v=x(i(190)),g=x(i(90)),y=x(i(10));function x(t){return t&&t.__esModule?t:{default:t}}o=function(t){function e(){}void 0===g.default&&(Number.EPSILON=Math.pow(2,-52)),void 0===v.default&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===m.default&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===f.default&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),(0,f.default)(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,t)}}}});var i,r,n,a=100,o=103,x=104,b=300,w=301,_=302,M=304,S=306,A=307,T=1e3,L=1001,P=1002,C=1003,E=1004,I=1005,D=1006,B=1007,O=1008,z=1009,N=1012,R=1014,F=1015,U=1016,k=1020,G=1022,V=1023,W=1026,H=1027,j=33776,X=33777,q=33778,Y=33779,J=35840,Z=35841,Q=35842,K=35843,$=2300,tt=2301,et=2302,it=2400,rt=2401,nt=2402,at=3e3,ot=3007,st={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*st.DEG2RAD},radToDeg:function(t){return t*st.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function ut(t,e){this.x=t||0,this.y=e||0}function lt(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1}function ht(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function ct(){this.elements=[1,0,0,0,1,0,0,0,1]}(0,d.default)(ut.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),(0,f.default)(ut.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=this.x-t.x,a=this.y-t.y;return this.x=n*i-a*r+t.x,this.y=n*r+a*i+t.y,this}}),(0,f.default)(lt,{slerp:function(t,e,i,r){return i.copy(t).slerp(e,r)},slerpFlat:function(t,e,i,r,n,a,o){var s=i[r+0],u=i[r+1],l=i[r+2],h=i[r+3],c=n[a+0],p=n[a+1],d=n[a+2],f=n[a+3];if(h!==f||s!==c||u!==p||l!==d){var m=1-o,v=s*c+u*p+l*d+h*f,y=v>=0?1:-1,x=1-v*v;if(x>g.default){var b=Math.sqrt(x),w=Math.atan2(b,v*y);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*y;if(s=s*m+c*_,u=u*m+p*_,l=l*m+d*_,h=h*m+f*_,m===1-o){var M=1/Math.sqrt(s*s+u*u+l*l+h*h);s*=M,u*=M,l*=M,h*=M}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=h}}),(0,d.default)(lt.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),(0,f.default)(lt.prototype,{isQuaternion:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,a=t.order,o=Math.cos,s=Math.sin,u=o(i/2),l=o(r/2),h=o(n/2),c=s(i/2),p=s(r/2),d=s(n/2);return"XYZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"YXZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"ZXY"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"ZYX"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"YZX"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h-c*p*d):"XZY"===a&&(this._x=c*l*h-u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h+c*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],n=i[4],a=i[8],o=i[1],s=i[5],u=i[9],l=i[2],h=i[6],c=i[10],p=r+s+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(h-u)*e,this._y=(a-l)*e,this._z=(o-n)*e):r>s&&r>c?(e=2*Math.sqrt(1+r-s-c),this._w=(h-u)/e,this._x=.25*e,this._y=(n+o)/e,this._z=(a+l)/e):s>c?(e=2*Math.sqrt(1+s-r-c),this._w=(a-l)/e,this._x=(n+o)/e,this._y=.25*e,this._z=(u+h)/e):(e=2*Math.sqrt(1+c-r-s),this._w=(o-n)/e,this._x=(a+l)/e,this._y=(u+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){var i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(st.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,n=t._z,a=t._w,o=e._x,s=e._y,u=e._z,l=e._w;return this._x=i*l+a*o+r*u-n*s,this._y=r*l+a*s+n*o-i*u,this._z=n*l+a*u+i*s-r*o,this._w=a*l-i*o-r*s-n*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,a=this._w,o=a*t._w+i*t._x+r*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;var s=1-o*o;if(s<=g.default){var u=1-e;return this._w=u*a+e*this._w,this._x=u*i+e*this._x,this._y=u*r+e*this._y,this._z=u*n+e*this._z,this.normalize()}var l=Math.sqrt(s),h=Math.atan2(l,o),c=Math.sin((1-e)*h)/l,p=Math.sin(e*h)/l;return this._w=a*c+this._w*p,this._x=i*c+this._x*p,this._y=r*c+this._y*p,this._z=n*c+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ht.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(r=new lt,function(t){return!t||t.isEuler,this.applyQuaternion(r.setFromEuler(t))}),applyAxisAngle:function(){var t=new lt;return function(e,i){return this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,a=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*r-o*i,l=s*i+o*e-n*r,h=s*r+n*i-a*e,c=-n*e-a*i-o*r;return this.x=u*s+c*-n+l*-o-h*-a,this.y=l*s+c*-a+h*-n-u*-o,this.z=h*s+c*-o+u*-a-l*-n,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-n*o,this.y=n*a-i*s,this.z=i*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(i=new ht,function(t){return i.copy(this).projectOnVector(t),this.sub(i)}),reflect:function(){var t=new ht;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(st.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),(0,f.default)(ct.prototype,{isMatrix3:!0,set:function(t,e,i,r,n,a,o,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=o,l[3]=e,l[4]=n,l[5]=s,l[6]=i,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new ht;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[3],s=i[6],u=i[1],l=i[4],h=i[7],c=i[2],p=i[5],d=i[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return n[0]=a*f+o*g+s*b,n[3]=a*m+o*y+s*w,n[6]=a*v+o*x+s*_,n[1]=u*f+l*g+h*b,n[4]=u*m+l*y+h*w,n[7]=u*v+l*x+h*_,n[2]=c*f+p*g+d*b,n[5]=c*m+p*y+d*w,n[8]=c*v+p*x+d*_,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*a*l-e*o*u-i*n*l+i*o*s+r*n*u-r*a*s},getInverse:function(t,e){t&&t.isMatrix4;var i=t.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],h=i[6],c=i[7],p=i[8],d=p*u-l*c,f=l*h-p*s,m=c*s-u*h,v=n*d+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*c-p*a)*y,r[2]=(l*a-o*u)*y,r[3]=f*y,r[4]=(p*n-o*h)*y,r[5]=(o*s-l*n)*y,r[6]=m*y,r[7]=(a*h-c*n)*y,r[8]=(u*n-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,r,n,a,o){var s=Math.cos(n),u=Math.sin(n);this.set(i*s,i*u,-i*(s*a+u*o)+a+t,-r*u,r*s,-r*(-u*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=e*n+i*s,r[3]=e*a+i*u,r[6]=e*o+i*l,r[1]=-i*n+e*s,r[4]=-i*a+e*u,r[7]=-i*o+e*l,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var pt,dt,ft,mt,vt,gt,yt,xt,bt,wt,_t,Mt,St,At,Tt={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===n&&(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),n.width=t.width,n.height=t.height;var i=n.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=n}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Lt=0;function Pt(t,e,i,r,n,a,o,s,u,l){Object.defineProperty(this,"id",{value:Lt++}),this.uuid=st.generateUUID(),this.name="",this.image=void 0!==t?t:Pt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Pt.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:L,this.wrapT=void 0!==r?r:L,this.magFilter=void 0!==n?n:D,this.minFilter=void 0!==a?a:O,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:V,this.type=void 0!==s?s:z,this.offset=new ut(0,0),this.repeat=new ut(1,1),this.center=new ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:at,this.version=0,this.onUpdate=null}function Ct(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1}function Et(t,e,i){this.width=t,this.height=e,this.scissor=new Ct(0,0,t,e),this.scissorTest=!1,this.viewport=new Ct(0,0,t,e),i=i||{},this.texture=new Pt(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:D,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function It(t,e,i){Et.call(this,t,e,i),this.samples=4}function Dt(t,e,i){Et.call(this,t,e,i)}function Bt(t,e,i,r,n,a,o,s,u,l,h,c){Pt.call(this,null,a,o,s,u,l,r,n,h,c),this.image={data:t,width:e,height:i},this.magFilter=void 0!==u?u:C,this.minFilter=void 0!==l?l:C,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Ot(t,e){this.min=void 0!==t?t:new ht(1/0,1/0,1/0),this.max=void 0!==e?e:new ht(-1/0,-1/0,-1/0)}function zt(t,e){this.center=void 0!==t?t:new ht,this.radius=void 0!==e?e:0}function Nt(t,e){this.normal=void 0!==t?t:new ht(1,0,0),this.constant=void 0!==e?e:0}function Rt(t,e,i,r,n,a){this.planes=[void 0!==t?t:new Nt,void 0!==e?e:new Nt,void 0!==i?i:new Nt,void 0!==r?r:new Nt,void 0!==n?n:new Nt,void 0!==a?a:new Nt]}function Ft(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}Pt.DEFAULT_IMAGE=void 0,Pt.DEFAULT_MAPPING=b,Pt.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Pt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=st.generateUUID()),!e&&void 0===t.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var a=0,o=r.length;a<o;a++)n.push(Tt.getDataURL(r[a]))}else n=Tt.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==b)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case T:t.x=t.x-Math.floor(t.x);break;case L:t.x=t.x<0?0:1;break;case P:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case T:t.y=t.y-Math.floor(t.y);break;case L:t.y=t.y<0?0:1;break;case P:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Pt.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Ct.prototype,{isVector4:!0,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*e+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*e+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*e+a[7]*i+a[11]*r+a[15]*n,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,n,a=.01,o=.1,s=t.elements,u=s[0],l=s[4],h=s[8],c=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(l-c)<a&&Math.abs(h-f)<a&&Math.abs(d-m)<a){if(Math.abs(l+c)<o&&Math.abs(h+f)<o&&Math.abs(d+m)<o&&Math.abs(u+p+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(p+1)/2,x=(v+1)/2,b=(l+c)/4,w=(h+f)/4,_=(d+m)/4;return g>y&&g>x?g<a?(i=0,r=.707106781,n=.707106781):(r=b/(i=Math.sqrt(g)),n=w/i):y>x?y<a?(i=.707106781,r=0,n=.707106781):(i=b/(r=Math.sqrt(y)),n=_/r):x<a?(i=.707106781,r=.707106781,n=0):(i=w/(n=Math.sqrt(x)),r=_/n),this.set(i,r,n,e),this}var M=Math.sqrt((m-d)*(m-d)+(h-f)*(h-f)+(c-l)*(c-l));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(h-f)/M,this.z=(c-l)/M,this.w=Math.acos((u+p+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===pt&&(pt=new Ct,dt=new Ct),pt.set(t,t,t,t),dt.set(e,e,e,e),this.clamp(pt,dt)},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Et.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Et,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),It.prototype=(0,f.default)((0,p.default)(Et.prototype),{constructor:It,isWebGLMultisampleRenderTarget:!0,copy:function(t){return Et.prototype.copy.call(this,t),this.samples=t.samples,this}}),Dt.prototype=(0,p.default)(Et.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isWebGLRenderTargetCube=!0,Bt.prototype=(0,p.default)(Pt.prototype),Bt.prototype.constructor=Bt,Bt.prototype.isDataTexture=!0,(0,f.default)(Ot.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],h=t[s+1],c=t[s+2];l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),h=t.getY(s),c=t.getZ(s);l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ht;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(t=new ht),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ht),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,i,r=new ht;function n(n){var a=n.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,i=o.length;e<i;e++)r.copy(o[e]),r.applyMatrix4(n.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,i=s.count;e<i;e++)r.fromBufferAttribute(s,e).applyMatrix4(n.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(n),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(e=new ht),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(mt=new ht,function(t){return this.clampPoint(t.center,mt),mt.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant},intersectsTriangle:function(){var t=new ht,e=new ht,i=new ht,r=new ht,n=new ht,a=new ht,o=new ht,s=new ht,u=new ht,l=new ht;function h(r){var n,a;for(n=0,a=r.length-3;n<=a;n+=3){o.fromArray(r,n);var s=u.x*Math.abs(o.x)+u.y*Math.abs(o.y)+u.z*Math.abs(o.z),l=t.dot(o),h=e.dot(o),c=i.dot(o);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),i.subVectors(o.c,s),r.subVectors(e,t),n.subVectors(i,e),a.subVectors(t,i);var c=[0,-r.z,r.y,0,-n.z,n.y,0,-a.z,a.y,r.z,0,-r.x,n.z,0,-n.x,a.z,0,-a.x,-r.y,r.x,0,-n.y,n.x,0,-a.y,a.x,0];return!!h(c)&&!!h(c=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,n),h(c=[l.x,l.y,l.z]))}}(),clampPoint:function(t,e){return void 0===e&&(e=new ht),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ht;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new ht;return function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(ft=[new ht,new ht,new ht,new ht,new ht,new ht,new ht,new ht],function(t){return this.isEmpty()||(ft[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ft[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ft[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ft[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ft[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ft[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ft[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ft[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ft)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(zt.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(vt=new Ot,function(t,e){var i=this.center;void 0!==e?i.copy(e):vt.setFromPoints(t).getCenter(i);for(var r=0,n=0,a=t.length;n<a;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(e=new ht),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(t=new Ot),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),(0,f.default)(Nt.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new ht,e=new ht;return function(i,r,n){var a=t.subVectors(n,r).cross(e.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(e=new ht),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new ht;return function(e,i){void 0===i&&(i=new ht);var r=e.delta(t),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:i.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(t=new ht),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new ht,e=new ct;return function(i,r){var n=r||e.getNormalMatrix(i),a=this.coplanarPoint(t).applyMatrix4(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),(0,f.default)(Rt.prototype,{set:function(t,e,i,r,n,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],h=i[7],c=i[8],p=i[9],d=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-r,h-s,f-c,y-m).normalize(),e[1].setComponents(o+r,h+s,f+c,y+m).normalize(),e[2].setComponents(o+n,h+u,f+p,y+v).normalize(),e[3].setComponents(o-n,h-u,f-p,y-v).normalize(),e[4].setComponents(o-a,h-l,f-d,y-g).normalize(),e[5].setComponents(o+a,h+l,f+d,y+g).normalize(),this},intersectsObject:(yt=new zt,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),yt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(yt)}),intersectsSprite:function(){var t=new zt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,n=0;n<6;n++)if(e[n].distanceToPoint(i)<r)return!1;return!0},intersectsBox:(gt=new ht,function(t){for(var e=this.planes,i=0;i<6;i++){var r=e[i];if(gt.x=r.normal.x>0?t.max.x:t.min.x,gt.y=r.normal.y>0?t.max.y:t.min.y,gt.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(gt)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}}),(0,f.default)(Ft.prototype,{isMatrix4:!0,set:function(t,e,i,r,n,a,o,s,u,l,h,c,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=n,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=h,v[14]=c,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ft).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t=new ht;return function(e){var i=this.elements,r=e.elements,n=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var e=this.elements,i=t.x,r=t.y,n=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(r),u=Math.sin(r),l=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){var c=a*l,p=a*h,d=o*l,f=o*h;e[0]=s*l,e[4]=-s*h,e[8]=u,e[1]=p+d*u,e[5]=c-f*u,e[9]=-o*s,e[2]=f-c*u,e[6]=d+p*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,v=s*h,g=u*l,y=u*h;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*u,e[1]=a*h,e[5]=a*l,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*l,v=s*h,g=u*l,y=u*h,e[0]=m-y*o,e[4]=-a*h,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*u,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)c=a*l,p=a*h,d=o*l,f=o*h,e[0]=s*l,e[4]=d*u-p,e[8]=c*u+f,e[1]=s*h,e[5]=f*u+c,e[9]=p*u-d,e[2]=-u,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var x=a*s,b=a*u,w=o*s,_=o*u;e[0]=s*l,e[4]=_-x*h,e[8]=w*h+b,e[1]=h,e[5]=a*l,e[9]=-o*l,e[2]=-u*l,e[6]=b*h+w,e[10]=x-_*h}else"XZY"===t.order&&(x=a*s,b=a*u,w=o*s,_=o*u,e[0]=s*l,e[4]=-h,e[8]=u*l,e[1]=x*h+_,e[5]=a*l,e[9]=b*h-w,e[2]=w*h-b,e[6]=o*l,e[10]=_*h+x);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(St=new ht(0,0,0),At=new ht(1,1,1),function(t){return this.compose(St,t,At)}),lookAt:(wt=new ht,_t=new ht,Mt=new ht,function(t,e,i){var r=this.elements;return Mt.subVectors(t,e),0===Mt.lengthSq()&&(Mt.z=1),Mt.normalize(),wt.crossVectors(i,Mt),0===wt.lengthSq()&&(1===Math.abs(i.z)?Mt.x+=1e-4:Mt.z+=1e-4,Mt.normalize(),wt.crossVectors(i,Mt)),wt.normalize(),_t.crossVectors(Mt,wt),r[0]=wt.x,r[4]=_t.x,r[8]=Mt.x,r[1]=wt.y,r[5]=_t.y,r[9]=Mt.y,r[2]=wt.z,r[6]=_t.z,r[10]=Mt.z,this}),multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[4],s=i[8],u=i[12],l=i[1],h=i[5],c=i[9],p=i[13],d=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],x=i[11],b=i[15],w=r[0],_=r[4],M=r[8],S=r[12],A=r[1],T=r[5],L=r[9],P=r[13],C=r[2],E=r[6],I=r[10],D=r[14],B=r[3],O=r[7],z=r[11],N=r[15];return n[0]=a*w+o*A+s*C+u*B,n[4]=a*_+o*T+s*E+u*O,n[8]=a*M+o*L+s*I+u*z,n[12]=a*S+o*P+s*D+u*N,n[1]=l*w+h*A+c*C+p*B,n[5]=l*_+h*T+c*E+p*O,n[9]=l*M+h*L+c*I+p*z,n[13]=l*S+h*P+c*D+p*N,n[2]=d*w+f*A+m*C+v*B,n[6]=d*_+f*T+m*E+v*O,n[10]=d*M+f*L+m*I+v*z,n[14]=d*S+f*P+m*D+v*N,n[3]=g*w+y*A+x*C+b*B,n[7]=g*_+y*T+x*E+b*O,n[11]=g*M+y*L+x*I+b*z,n[15]=g*S+y*P+x*D+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new ht;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],a=t[1],o=t[5],s=t[9],u=t[13],l=t[2],h=t[6],c=t[10],p=t[14];return t[3]*(+n*s*h-r*u*h-n*o*c+i*u*c+r*o*p-i*s*p)+t[7]*(+e*s*p-e*u*c+n*a*c-r*a*p+r*u*l-n*s*l)+t[11]*(+e*u*h-e*o*p-n*a*h+i*a*p+n*o*l-i*u*l)+t[15]*(-r*o*l-e*s*h+e*o*c+r*a*h-i*a*c+i*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,i){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this},getInverse:function(t,e){var i=this.elements,r=t.elements,n=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],h=r[6],c=r[7],p=r[8],d=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],b=d*y*c-g*f*c+g*h*m-l*y*m-d*h*x+l*f*x,w=v*f*c-p*y*c-v*h*m+u*y*m+p*h*x-u*f*x,_=p*g*c-v*d*c+v*l*m-u*g*m-p*l*x+u*d*x,M=v*d*h-p*g*h-v*l*f+u*g*f+p*l*y-u*d*y,S=n*b+a*w+o*_+s*M;if(0===S){var A="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(A);return this.identity()}var T=1/S;return i[0]=b*T,i[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*T,i[2]=(l*y*s-g*h*s+g*o*c-a*y*c-l*o*x+a*h*x)*T,i[3]=(d*h*s-l*f*s-d*o*c+a*f*c+l*o*m-a*h*m)*T,i[4]=w*T,i[5]=(p*y*s-v*f*s+v*o*m-n*y*m-p*o*x+n*f*x)*T,i[6]=(v*h*s-u*y*s-v*o*c+n*y*c+u*o*x-n*h*x)*T,i[7]=(u*f*s-p*h*s+p*o*c-n*f*c-u*o*m+n*h*m)*T,i[8]=_*T,i[9]=(v*d*s-p*g*s-v*a*m+n*g*m+p*a*x-n*d*x)*T,i[10]=(u*g*s-v*l*s+v*a*c-n*g*c-u*a*x+n*l*x)*T,i[11]=(p*l*s-u*d*s-p*a*c+n*d*c+u*a*m-n*l*m)*T,i[12]=M*T,i[13]=(p*g*o-v*d*o+v*a*f-n*g*f-p*a*y+n*d*y)*T,i[14]=(v*l*o-u*g*o-v*a*h+n*g*h+u*a*y-n*l*y)*T,i[15]=(u*d*o-p*l*o+p*a*h-n*d*h-u*a*f+n*l*f)*T,this},scale:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,a=t.x,o=t.y,s=t.z,u=n*a,l=n*o;return this.set(u*a+i,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+i,l*s-r*a,0,u*s-r*o,l*s+r*a,n*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var r=this.elements,n=e._x,a=e._y,o=e._z,s=e._w,u=n+n,l=a+a,h=o+o,c=n*u,p=n*l,d=n*h,f=a*l,m=a*h,v=o*h,g=s*u,y=s*l,x=s*h,b=i.x,w=i.y,_=i.z;return r[0]=(1-(f+v))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*w,r[5]=(1-(c+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(d+y)*_,r[9]=(m-g)*_,r[10]=(1-(c+f))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(xt=new ht,bt=new Ft,function(t,e,i){var r=this.elements,n=xt.set(r[0],r[1],r[2]).length(),a=xt.set(r[4],r[5],r[6]).length(),o=xt.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],bt.copy(this);var s=1/n,u=1/a,l=1/o;return bt.elements[0]*=s,bt.elements[1]*=s,bt.elements[2]*=s,bt.elements[4]*=u,bt.elements[5]*=u,bt.elements[6]*=u,bt.elements[8]*=l,bt.elements[9]*=l,bt.elements[10]*=l,e.setFromRotationMatrix(bt),i.x=n,i.y=a,i.z=o,this}),makePerspective:function(t,e,i,r,n,a){var o=this.elements,s=2*n/(e-t),u=2*n/(i-r),l=(e+t)/(e-t),h=(i+r)/(i-r),c=-(a+n)/(a-n),p=-2*a*n/(a-n);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,r,n,a){var o=this.elements,s=1/(e-t),u=1/(i-r),l=1/(a-n),h=(e+t)*s,c=(i+r)*u,p=(a+n)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-c,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}});var Ut={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 projectionMatrix ) {\n\treturn projectionMatrix[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowNormalBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective > 0.5 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform float directionalShadowBias[ NUM_DIR_LIGHTS ];\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalShadowBias[ i ], 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function kt(t){var e={};for(var i in t)for(var r in e[i]={},t[i]){var n=t[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[i][r]=n.clone():Array.isArray(n)?e[i][r]=n.slice():e[i][r]=n}return e}function Gt(t){for(var e={},i=0;i<t.length;i++){var r=kt(t[i]);for(var n in r)e[n]=r[n]}return e}var Vt,Wt,Ht,jt={clone:kt,merge:Gt},Xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qt(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}(0,f.default)(qt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,r){if(e=st.euclideanModulo(e,1),i=st.clamp(i,0,1),r=st.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=t(a,n,e+1/3),this.g=t(a,n,e),this.b=t(a,n,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,u)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,h=(l=i[1]).length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0&&void 0!==(l=Xt[t])&&this.setHex(l),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(t={h:0,s:0,l:0});var e,i,r=this.r,n=this.g,a=this.b,o=Math.max(r,n,a),s=Math.min(r,n,a),u=(s+o)/2;if(s===o)e=0,i=0;else{var l=o-s;switch(i=u<=.5?l/(o+s):l/(2-o-s),o){case r:e=(n-a)/l+(n<a?6:0);break;case n:e=(a-r)/l+2;break;case a:e=(r-n)/l+4}e/=6}return t.h=e,t.s=i,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(Ht={},function(t,e,i){return this.getHSL(Ht),Ht.h+=t,Ht.s+=e,Ht.l+=i,this.setHSL(Ht.h,Ht.s,Ht.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:(Vt={h:0,s:0,l:0},Wt={h:0,s:0,l:0},function(t,e){this.getHSL(Vt),t.getHSL(Wt);var i=st.lerp(Vt.h,Wt.h,e),r=st.lerp(Vt.s,Wt.s,e),n=st.lerp(Vt.l,Wt.l,e);return this.setHSL(i,r,n),this}),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Yt,Jt={common:{diffuse:{value:new qt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ct},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowBias:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new qt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ct}},sprite:{diffuse:{value:new qt(15658734)},opacity:{value:1},center:{value:new ut(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new ct}}},Zt={basic:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.fog]),vertexShader:Ut.meshbasic_vert,fragmentShader:Ut.meshbasic_frag},lambert:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)}}]),vertexShader:Ut.meshlambert_vert,fragmentShader:Ut.meshlambert_frag},phong:{uniforms:Gt([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.gradientmap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)},specular:{value:new qt(1118481)},shininess:{value:30}}]),vertexShader:Ut.meshphong_vert,fragmentShader:Ut.meshphong_frag},standard:{uniforms:Gt([Jt.common,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.roughnessmap,Jt.metalnessmap,Jt.fog,Jt.lights,{emissive:{value:new qt(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},matcap:{uniforms:Gt([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,{matcap:{value:null}}]),vertexShader:Ut.meshmatcap_vert,fragmentShader:Ut.meshmatcap_frag},points:{uniforms:Gt([Jt.points,Jt.fog]),vertexShader:Ut.points_vert,fragmentShader:Ut.points_frag},dashed:{uniforms:Gt([Jt.common,Jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ut.linedashed_vert,fragmentShader:Ut.linedashed_frag},depth:{uniforms:Gt([Jt.common,Jt.displacementmap]),vertexShader:Ut.depth_vert,fragmentShader:Ut.depth_frag},normal:{uniforms:Gt([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,{opacity:{value:1}}]),vertexShader:Ut.normal_vert,fragmentShader:Ut.normal_frag},sprite:{uniforms:Gt([Jt.sprite,Jt.fog]),vertexShader:Ut.sprite_vert,fragmentShader:Ut.sprite_frag},background:{uniforms:{uvTransform:{value:new ct},t2D:{value:null}},vertexShader:Ut.background_vert,fragmentShader:Ut.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ut.cube_vert,fragmentShader:Ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ut.equirect_vert,fragmentShader:Ut.equirect_frag},distanceRGBA:{uniforms:Gt([Jt.common,Jt.displacementmap,{referencePosition:{value:new ht},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ut.distanceRGBA_vert,fragmentShader:Ut.distanceRGBA_frag},shadow:{uniforms:Gt([Jt.lights,Jt.fog,{color:{value:new qt(0)},opacity:{value:1}}]),vertexShader:Ut.shadow_vert,fragmentShader:Ut.shadow_frag}};function Qt(){var t=null,e=!1,i=null;function r(n,a){!1!==e&&(i(n,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==i&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function Kt(t){var e=new c.default;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var r=e.get(i);r&&(t.deleteBuffer(r.buffer),e.delete(i))},update:function(i,r){i.isInterleavedBufferAttribute&&(i=i.data);var n=e.get(i);void 0===n?e.set(i,function(e,i){var r=e.array,n=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,n),e.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array||(r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121)),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(i,r)):n.version<i.version&&(function(e,i,r){var n=i.array,a=i.updateRange;t.bindBuffer(r,e),!1===i.dynamic?t.bufferData(r,n,35044):-1===a.count?t.bufferSubData(r,0,n):0===a.count||(t.bufferSubData(r,a.offset*n.BYTES_PER_ELEMENT,n.subarray(a.offset,a.offset+a.count)),a.count=-1)}(n.buffer,i,r),n.version=i.version)}}}function $t(t,e,i,r,n,a){this.a=t,this.b=e,this.c=i,this.normal=r&&r.isVector3?r:new ht,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new qt,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0}function te(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||te.DefaultOrder}function ee(){this.mask=1}Zt.physical={uniforms:Gt([Zt.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},(0,f.default)($t.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),te.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],te.DefaultOrder="XYZ",(0,d.default)(te.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),(0,f.default)(te.prototype,{isEuler:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var r=st.clamp,n=t.elements,a=n[0],o=n[4],s=n[8],u=n[1],l=n[5],h=n[9],c=n[2],p=n[6],d=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-c,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===e?(this._y=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e&&(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,d),this._y=0)),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Ft;return function(e,i,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Yt=new lt,function(t){return Yt.setFromEuler(this),this.setFromQuaternion(Yt,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ht(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ee.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var ie,re,ne,ae,oe,se=0;function ue(){Object.defineProperty(this,"id",{value:se++}),this.uuid=st.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ue.DefaultUp.clone();var t=new ht,e=new te,i=new lt,r=new ht(1,1,1);e.onChange((function(){i.setFromEuler(e,!1)})),i.onChange((function(){e.setFromQuaternion(i,void 0,!1)})),(0,d.default)(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ft},normalMatrix:{value:new ct}}),this.matrix=new Ft,this.matrixWorld=new Ft,this.matrixAutoUpdate=ue.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ee,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}ue.DefaultUp=new ht(0,1,0),ue.DefaultMatrixAutoUpdate=!0,ue.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ue,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(oe=new lt,function(t,e){return oe.setFromAxisAngle(t,e),this.quaternion.multiply(oe),this}),rotateOnWorldAxis:function(){var t=new lt;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new ht(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new ht(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new ht(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new ht;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new ht(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new ht(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new ht(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(ae=new Ft,function(t){return t.applyMatrix4(ae.getInverse(this.matrixWorld))}),lookAt:function(){var t=new lt,e=new Ft,i=new ht,r=new ht;return function(n,a,o){n.isVector3?i.copy(n):i.set(n,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(r,i,this.up):e.lookAt(i,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},attach:(ne=new Ft,function(t){return this.updateWorldMatrix(!0,!1),ne.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ne.multiply(t.parent.matrixWorld)),t.applyMatrix(ne),t.updateWorldMatrix(!1,!1),this.add(t),this}),getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(t=new ht),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(ie=new ht,re=new ht,function(t){return void 0===t&&(t=new lt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ie,t,re),t}),getWorldScale:function(){var t=new ht,e=new lt;return function(i){return void 0===i&&(i=new ht),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(t){void 0===t&&(t=new ht),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,n=0,a=r.length;n<a;n++)r[n].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==(0,h.default)(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=n(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];n(t.shapes,l)}else n(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(n(t.materials,this.material[s]));r.material=c}else r.material=n(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var p=v(t.geometries),d=v(t.materials),f=v(t.textures),m=v(t.images);o=v(t.shapes),p.length>0&&(i.geometries=p),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),m.length>0&&(i.images=m),o.length>0&&(i.shapes=o)}return i.object=r,i;function v(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse((0,h.default)(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}});var le,he,ce=0;function pe(){Object.defineProperty(this,"id",{value:ce+=2}),this.uuid=st.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function de(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function fe(t,e,i){de.call(this,new Int8Array(t),e,i)}function me(t,e,i){de.call(this,new Uint8Array(t),e,i)}function ve(t,e,i){de.call(this,new Uint8ClampedArray(t),e,i)}function ge(t,e,i){de.call(this,new Int16Array(t),e,i)}function ye(t,e,i){de.call(this,new Uint16Array(t),e,i)}function xe(t,e,i){de.call(this,new Int32Array(t),e,i)}function be(t,e,i){de.call(this,new Uint32Array(t),e,i)}function we(t,e,i){de.call(this,new Float32Array(t),e,i)}function _e(t,e,i){de.call(this,new Float64Array(t),e,i)}function Me(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Se(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,r=t.length;i<r;++i)t[i]>e&&(e=t[i]);return e}pe.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:pe,isGeometry:!0,applyMatrix:function(t){for(var e=(new ct).getNormalMatrix(t),i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(t);for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Ft;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ft;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ft;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ft;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Ft;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:(he=new ue,function(t){he.lookAt(t),he.updateMatrix(),this.applyMatrix(he.matrix)}),fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,r=t.attributes,n=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<n.length;l+=3)e.vertices.push((new ht).fromArray(n,l)),void 0!==o&&e.colors.push((new qt).fromArray(o,l));function h(t,i,r,n){var l=void 0===o?[]:[e.colors[t].clone(),e.colors[i].clone(),e.colors[r].clone()],h=new $t(t,i,r,void 0===a?[]:[(new ht).fromArray(a,3*t),(new ht).fromArray(a,3*i),(new ht).fromArray(a,3*r)],l,n);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new ut).fromArray(s,2*t),(new ut).fromArray(s,2*i),(new ut).fromArray(s,2*r)]),void 0!==u&&e.faceVertexUvs[1].push([(new ut).fromArray(u,2*t),(new ut).fromArray(u,2*i),(new ut).fromArray(u,2*r)])}var c=t.groups;if(c.length>0)for(l=0;l<c.length;l++)for(var p=c[l],d=p.start,f=d,m=d+p.count;f<m;f+=3)void 0!==i?h(i[f],i[f+1],i[f+2],p.materialIndex):h(f,f+1,f+2,p.materialIndex);else if(void 0!==i)for(l=0;l<i.length;l+=3)h(i[l],i[l+1],i[l+2]);else for(l=0;l<n.length/3;l+=3)h(l,l+1,l+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(le=new ht,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(le).negate(),this.translate(le.x,le.y,le.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,r=new Ft;return r.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new ht,e=new ht,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),n.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,n,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new ht;if(t){var s,u,l,h=new ht,c=new ht;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],h.subVectors(l,u),c.subVectors(s,u),h.cross(c),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(r=0,n=this.faces.length;r<n;r++){var p=(a=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(i=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),t=0,e=n.vertexNormals.length;t<e;t++)n.__originalVertexNormals[t]?n.__originalVertexNormals[t].copy(n.vertexNormals[t]):n.__originalVertexNormals[t]=n.vertexNormals[t].clone();var a=new pe;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)u=new ht,l={a:new ht,b:new ht,c:new ht},o.push(u),s.push(l)}var u,l,h=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],u=h.faceNormals[i],l=h.vertexNormals[i],u.copy(n.normal),l.a.copy(n.vertexNormals[0]),l.b.copy(n.vertexNormals[1]),l.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ot),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new zt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var r,n=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],h=t.faceVertexUvs[0],c=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(r=(new ct).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(d=0,f=p.length;d<f;d++)c.push(p[d].clone());for(d=0,f=u.length;d<f;d++){var v,g,y,x=u[d],b=x.vertexNormals,w=x.vertexColors;(v=new $t(x.a+n,x.b+n,x.c+n)).normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,M=b.length;_<M;_++)g=b[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);for(v.color.copy(x.color),_=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+i,s.push(v)}for(d=0,f=h.length;d<f;d++){var S=h[d],A=[];if(void 0!==S){for(_=0,M=S.length;_<M;_++)A.push(S[_].clone());l.push(A)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,r,n,a,o,s,u={},l=[],h=[],c=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)t=this.vertices[i],void 0===u[e=Math.round(t.x*c)+"_"+Math.round(t.y*c)+"_"+Math.round(t.z*c)]?(u[e]=i,l.push(this.vertices[i]),h[i]=l.length-1):h[i]=h[u[e]];var p=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=h[n.a],n.b=h[n.b],n.c=h[n.c],a=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var f=p[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var r=t[e];this.vertices.push(new ht(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,n,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(r=[]),o&&o.length===e&&(n=[]),i=0;i<e;i++){var s=t[i]._id;r&&r.push(a[s]),n&&n.push(o[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var r=[],n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],h={},c=[],p={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],f=void 0!==this.faceVertexUvs[0][n],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,v),x=M(x,6,g),x=M(x,7,y),o.push(x),o.push(d.a,d.b,d.c),o.push(d.materialIndex),f){var b=this.faceVertexUvs[0][n];o.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&o.push(S(d.normal)),v){var w=d.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&o.push(A(d.color)),y){var _=d.vertexColors;o.push(A(_[0]),A(_[1]),A(_[2]))}}function M(t,e,i){return i?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]||(u[e]=s.length/3,s.push(t.x,t.y,t.z)),u[e]}function A(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]||(h[e]=l.length,l.push(t.getHex())),h[e]}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=c.length/2,c.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=r,t.data.normals=s,l.length>0&&(t.data.colors=l),c.length>0&&(t.data.uvs=[c]),t.data.faces=o,t},clone:function(){return(new pe).copy(this)},copy:function(t){var e,i,r,n,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,i=u.length;e<i;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,i=l.length;e<i;e++)this.faces.push(l[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,n=h.length;r<n;r++){var c=h[r],p=[];for(a=0,o=c.length;a<o;a++){var d=c[a];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,n=f[e].vertices.length;r<n;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,n=f[e].normals.length;r<n;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,i=v.length;e<i;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,n=v[e].vertexNormals.length;r<n;r++){var y=v[e].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),g.vertexNormals.push(x)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,n=v[e].faceNormals.length;r<n;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,i=b.length;e<i;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,i=w.length;e<i;e++)this.skinIndices.push(w[e].clone());var _=t.lineDistances;for(e=0,i=_.length;e<i;e++)this.lineDistances.push(_[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(de.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(de.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[t+r]=e.array[i+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new qt),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ut),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ht),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Ct),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=n,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),fe.prototype=(0,p.default)(de.prototype),fe.prototype.constructor=fe,me.prototype=(0,p.default)(de.prototype),me.prototype.constructor=me,ve.prototype=(0,p.default)(de.prototype),ve.prototype.constructor=ve,ge.prototype=(0,p.default)(de.prototype),ge.prototype.constructor=ge,ye.prototype=(0,p.default)(de.prototype),ye.prototype.constructor=ye,xe.prototype=(0,p.default)(de.prototype),xe.prototype.constructor=xe,be.prototype=(0,p.default)(de.prototype),be.prototype.constructor=be,we.prototype=(0,p.default)(de.prototype),we.prototype.constructor=we,_e.prototype=(0,p.default)(de.prototype),_e.prototype.constructor=_e,(0,f.default)(Me.prototype,{computeGroups:function(t){for(var e,i=[],r=void 0,n=t.faces,a=0;a<n.length;a++){var o=n[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,r=t.vertices,n=t.faceVertexUvs,a=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var l=0;l<u;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var h,c=t.morphNormals,p=c.length;if(p>0){for(h=[],l=0;l<p;l++)h[l]={name:c[l].name,data:[]};this.morphTargets.normal=h}var d=t.skinIndices,f=t.skinWeights,m=d.length===r.length,v=f.length===r.length;for(r.length>0&&i.length,l=0;l<i.length;l++){var g=i[l];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=g.normal;this.normals.push(x,x,x)}var b,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}!0===a&&(void 0!==(b=n[0][l])?this.uvs.push(b[0],b[1],b[2]):this.uvs.push(new ut,new ut,new ut)),!0===o&&(void 0!==(b=n[1][l])?this.uvs2.push(b[0],b[1],b[2]):this.uvs2.push(new ut,new ut,new ut));for(var M=0;M<u;M++){var S=s[M].vertices;e[M].data.push(S[g.a],S[g.b],S[g.c])}for(M=0;M<p;M++){var A=c[M].vertexNormals[l];h[M].data.push(A.a,A.b,A.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Ae=1;function Te(){Object.defineProperty(this,"id",{value:Ae+=2}),this.uuid=st.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Le(t,e,i,r,n,a){pe.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.fromBufferGeometry(new Pe(t,e,i,r,n,a)),this.mergeVertices()}function Pe(t,e,i,r,n,a){Te.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;t=t||1,e=e||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],h=[],c=0,p=0;function d(t,e,i,r,n,a,d,f,m,v,g){var y,x,b=a/m,w=d/v,_=a/2,M=d/2,S=f/2,A=m+1,T=v+1,L=0,P=0,C=new ht;for(x=0;x<T;x++){var E=x*w-M;for(y=0;y<A;y++){var I=y*b-_;C[t]=I*r,C[e]=E*n,C[i]=S,u.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[i]=f>0?1:-1,l.push(C.x,C.y,C.z),h.push(y/m),h.push(1-x/v),L+=1}}for(x=0;x<v;x++)for(y=0;y<m;y++){var D=c+y+A*x,B=c+y+A*(x+1),O=c+(y+1)+A*(x+1),z=c+(y+1)+A*x;s.push(D,B,z),s.push(B,O,z),P+=6}o.addGroup(p,P,g),p+=P,c+=L}d("z","y","x",-1,-1,i,e,t,a,n,0),d("z","y","x",1,-1,i,e,-t,a,n,1),d("x","z","y",1,1,t,i,e,r,a,2),d("x","z","y",1,-1,t,i,-e,r,a,3),d("x","y","z",1,-1,t,e,i,r,n,4),d("x","y","z",-1,-1,t,e,-i,r,n,5),this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(h,2))}function Ce(t,e,i,r){pe.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new Ee(t,e,i,r)),this.mergeVertices()}function Ee(t,e,i,r){Te.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};var n,a,o=(t=t||1)/2,s=(e=e||1)/2,u=Math.floor(i)||1,l=Math.floor(r)||1,h=u+1,c=l+1,p=t/u,d=e/l,f=[],m=[],v=[],g=[];for(a=0;a<c;a++){var y=a*d-s;for(n=0;n<h;n++){var x=n*p-o;m.push(x,-y,0),v.push(0,0,1),g.push(n/u),g.push(1-a/l)}}for(a=0;a<l;a++)for(n=0;n<u;n++){var b=n+h*a,w=n+h*(a+1),_=n+1+h*(a+1),M=n+1+h*a;f.push(b,w,M),f.push(w,_,M)}this.setIndex(f),this.addAttribute("position",new we(m,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(g,2))}Te.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Te,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Se(t)>65535?be:ye)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(this.setIndex(e),this):(this.attributes[t]=e,this):this.addAttribute(t,new de(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new ct).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);var r=this.attributes.tangent;return void 0!==r&&((new ct).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Ft;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ft;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ft;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ft;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Ft;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new ue;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new ht;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new we(3*e.vertices.length,3),r=new we(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var n=new we(e.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];e.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new we(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Me).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new de(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new de(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new de(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var n=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new de(n,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new de(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],u=t.morphTargets[o],l=0,h=u.length;l<h;l++){var c=u[l],p=new we(3*c.data.length,3);p.name=c.name,s.push(p.copyVector3sArray(c.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var d=new we(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new we(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){var t=new Ot;return function(){null===this.boundingBox&&(this.boundingBox=new Ot);var e=this.attributes.position,i=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),i)for(var r=0,n=i.length;r<n;r++){var a=i[r];t.setFromBufferAttribute(a),this.boundingBox.expandByPoint(t.min),this.boundingBox.expandByPoint(t.max)}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}(),computeBoundingSphere:function(){var t=new Ot,e=new Ot,i=new ht;return function(){null===this.boundingSphere&&(this.boundingSphere=new zt);var r=this.attributes.position,n=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(r),n)for(var o=0,s=n.length;o<s;o++){var u=n[o];e.setFromBufferAttribute(u),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var l=0;for(o=0,s=r.count;o<s;o++)i.fromBufferAttribute(r,o),l=Math.max(l,a.distanceToSquared(i));if(n)for(o=0,s=n.length;o<s;o++)for(var h=0,c=(u=n[o]).count;h<c;h++)i.fromBufferAttribute(u,h),l=Math.max(l,a.distanceToSquared(i));this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new de(new Float32Array(i.length),3));else for(var r=e.normal.array,n=0,a=r.length;n<a;n++)r[n]=0;var o,s,u,l=e.normal.array,h=new ht,c=new ht,p=new ht,d=new ht,f=new ht;if(t){var m=t.array;for(n=0,a=t.count;n<a;n+=3)o=3*m[n+0],s=3*m[n+1],u=3*m[n+2],h.fromArray(i,o),c.fromArray(i,s),p.fromArray(i,u),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z}else for(n=0,a=i.length;n<a;n+=9)h.fromArray(i,n),c.fromArray(i,n+3),p.fromArray(i,n+6),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[n]=d.x,l[n+1]=d.y,l[n+2]=d.z,l[n+3]=d.x,l[n+4]=d.y,l[n+5]=d.z,l[n+6]=d.x,l[n+7]=d.y,l[n+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0);var i=this.attributes;for(var r in i)if(void 0!==t.attributes[r])for(var n=i[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,u=Math.min(o.length,n.length-s),l=0,h=s;l<u;l++,h++)n[h]=o[l];return this}},normalizeNormals:function(){var t=new ht;return function(){for(var e=this.attributes.normal,i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.normalize(),e.setXYZ(i,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var i=t.array,r=t.itemSize,n=new i.constructor(e.length*r),a=0,o=0,s=0,u=e.length;s<u;s++){a=e[s]*r;for(var l=0;l<r;l++)n[o++]=i[a++]}return new de(n,r)}if(null===this.index)return this;var e=new Te,i=this.index.array,r=this.attributes;for(var n in r){var a=t(r[n],i);e.addAttribute(n,a)}var o=this.morphAttributes;for(n in o){for(var s=[],u=o[n],l=0,h=u.length;l<h;l++)a=t(u[l],i),s.push(a);e.morphAttributes[n]=s}for(var c=this.groups,p=(l=0,c.length);l<p;l++){var d=c[l];e.addGroup(d.start,d.count,d.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),(0,l.default)(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var n=this.attributes;for(var i in n){var a=(f=n[i]).toJSON();""!==f.name&&(a.name=f.name),t.data.attributes[i]=a}var o={},s=!1;for(var i in this.morphAttributes){for(var u=this.morphAttributes[i],c=[],p=0,d=u.length;p<d;p++){var f;a=(f=u[p]).toJSON(),""!==f.name&&(a.name=f.name),c.push(a)}c.length>0&&(o[i]=c,s=!0)}s&&(t.data.morphAttributes=o);var m=this.groups;m.length>0&&(t.data.groups=JSON.parse((0,h.default)(m)));var v=this.boundingSphere;return null!==v&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t},clone:function(){return(new Te).copy(this)},copy:function(t){var e,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(i=0,r=l.length;i<r;i++)u.push(l[i].clone());this.morphAttributes[e]=u}var h=t.groups;for(i=0,r=h.length;i<r;i++){var c=h[i];this.addGroup(c.start,c.count,c.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Le.prototype=(0,p.default)(pe.prototype),Le.prototype.constructor=Le,Pe.prototype=(0,p.default)(Te.prototype),Pe.prototype.constructor=Pe,Ce.prototype=(0,p.default)(pe.prototype),Ce.prototype.constructor=Ce,Ee.prototype=(0,p.default)(Te.prototype),Ee.prototype.constructor=Ee;var Ie,De,Be,Oe,ze,Ne,Re,Fe,Ue,ke,Ge,Ve,We=0;function He(){Object.defineProperty(this,"id",{value:We++}),this.uuid=st.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function je(t){He.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(t.attributes,this.setValues(t))}function Xe(t,e){this.origin=void 0!==t?t:new ht,this.direction=void 0!==e?e:new ht}function qe(t,e,i){this.a=void 0!==t?t:new ht,this.b=void 0!==e?e:new ht,this.c=void 0!==i?i:new ht}function Ye(t){He.call(this),this.type="MeshBasicMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Je(t,e){ue.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new Ye({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Ze(t,e,i,r){var n,a,o=new qt(0),s=0,u=null,l=0;function h(t,i){e.buffers.color.setClear(t.r,t.g,t.b,i,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,r,c,p){var d=r.background,f=t.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(d=null),null===d?(h(o,s),u=null,l=0):d&&d.isColor&&(h(d,1),p=!0,u=null,l=0),(t.autoClear||p)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new Je(new Pe(1,1,1),new je({type:"BackgroundCubeMaterial",uniforms:kt(Zt.cube.uniforms),vertexShader:Zt.cube.vertexShader,fragmentShader:Zt.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),i.update(a));var v=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,u===d&&l===v.version||(a.material.needsUpdate=!0,u=d,l=v.version),e.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===n&&((n=new Je(new Ee(2,2),new je({type:"BackgroundMaterial",uniforms:kt(Zt.background.uniforms),vertexShader:Zt.background.vertexShader,fragmentShader:Zt.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(n.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(n)),n.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),n.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&l===d.version||(n.material.needsUpdate=!0,u=d,l=d.version),e.unshift(n,n.geometry,n.material,0,0,null))}}}function Qe(t,e,i,r){var n;this.setMode=function(t){n=t},this.render=function(e,r){t.drawArrays(n,e,r),i.update(r,n)},this.renderInstances=function(a,o,s){var u;if(r.isWebGL2)u=t;else if(null===(u=e.get("ANGLE_instanced_arrays")))return;u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](n,o,s,a.maxInstancedCount),i.update(s,n,a.maxInstancedCount)}}function Ke(t,e,i){var r;function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=n(o);s!==o&&(o=s);var u=!0===i.logarithmicDepthBuffer,l=t.getParameter(34930),h=t.getParameter(35660),c=t.getParameter(3379),p=t.getParameter(34076),d=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=h>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var i=e.get("EXT_texture_filter_anisotropic");return r=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:h,maxTextureSize:c,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function $e(){var t=this,e=null,i=0,r=!1,n=!1,a=new Nt,o=new ct,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function l(e,i,r,n){var u=null!==e?e.length:0,l=null;if(0!==u){if(l=s.value,!0!==n||null===l){var h=r+4*u,c=i.matrixWorldInverse;o.getNormalMatrix(c),(null===l||l.length<h)&&(l=new Float32Array(h));for(var p=0,d=r;p!==u;++p,d+=4)a.copy(e[p]).applyMatrix4(c,o),a.normal.toArray(l,d),l[d+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var o=0!==t.length||n||0!==i||r;return r=n,e=l(t,a,0),i=t.length,o},this.beginShadows=function(){n=!0,l(null)},this.endShadows=function(){n=!1,u()},this.setState=function(t,a,o,h,c,p){if(!r||null===t||0===t.length||n&&!o)n?l(null):u();else{var d=n?0:i,f=4*d,m=c.clippingState||null;s.value=m,m=l(t,h,f,p);for(var v=0;v!==f;++v)m[v]=e[v];c.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function ti(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}}}function ei(t,e,i){var r={},n={};function a(t){var o=t.target,s=r[o.id];for(var u in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[u]);o.removeEventListener("dispose",a),delete r[o.id];var l=n[s.id];l&&(e.remove(l),delete n[s.id]),i.memory.geometries--}return{get:function(t,e){var n=r[e.id];return n||(e.addEventListener("dispose",a),e.isBufferGeometry?n=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Te).setFromObject(t)),n=e._bufferGeometry),r[e.id]=n,i.memory.geometries++,n)},update:function(t){var i=t.index,r=t.attributes;for(var n in null!==i&&e.update(i,34963),r)e.update(r[n],34962);var a=t.morphAttributes;for(var n in a)for(var o=a[n],s=0,u=o.length;s<u;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var i=n[t.id];if(i)return i;var r,a=[],o=t.index,s=t.attributes;if(null!==o)for(var u=0,l=(r=o.array).length;u<l;u+=3){var h=r[u+0],c=r[u+1],p=r[u+2];a.push(h,c,c,p,p,h)}else for(u=0,l=(r=s.position.array).length/3-1;u<l;u+=3)h=u+0,c=u+1,p=u+2,a.push(h,c,c,p,p,h);return i=new(Se(a)>65535?be:ye)(a,1),e.update(i,34963),n[t.id]=i,i}}}function ii(t,e,i,r){var n,a,o;this.setMode=function(t){n=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(n,r,a,e*o),i.update(r,n)},this.renderInstances=function(s,u,l){var h;if(r.isWebGL2)h=t;else if(null===(h=e.get("ANGLE_instanced_arrays")))return;h[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](n,l,a,u*o,s.maxInstancedCount),i.update(l,n,s.maxInstancedCount)}}function ri(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,i,r){switch(r=r||1,e.calls++,i){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t}}}}function ni(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ai(t){var e={},i=new Float32Array(8);return{update:function(r,n,a,o){var s=r.morphTargetInfluences,u=s.length,l=e[n.id];if(void 0===l){l=[];for(var h=0;h<u;h++)l[h]=[h,0];e[n.id]=l}var c=a.morphTargets&&n.morphAttributes.position,p=a.morphNormals&&n.morphAttributes.normal;for(h=0;h<u;h++)0!==(d=l[h])[1]&&(c&&n.removeAttribute("morphTarget"+h),p&&n.removeAttribute("morphNormal"+h));for(h=0;h<u;h++)(d=l[h])[0]=h,d[1]=s[h];for(l.sort(ni),h=0;h<8;h++){var d;if(d=l[h]){var f=d[0],m=d[1];if(m){c&&n.addAttribute("morphTarget"+h,c[f]),p&&n.addAttribute("morphNormal"+h,p[f]),i[h]=m;continue}}i[h]=0}o.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function oi(t,e){var i={};return{update:function(r){var n=e.render.frame,a=r.geometry,o=t.get(r,a);return i[o.id]!==n&&(a.isGeometry&&o.updateFromObject(r),t.update(o),i[o.id]=n),o},dispose:function(){i={}}}}function si(t,e,i,r,n,a,o,s,u,l){t=void 0!==t?t:[],e=void 0!==e?e:w,o=void 0!==o?o:G,Pt.call(this,t,e,i,r,n,a,o,s,u,l),this.flipY=!1}function ui(t,e,i,r){Pt.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=C,this.minFilter=C,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1}function li(t,e,i,r){Pt.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=C,this.minFilter=C,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1}He.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:He,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:this.type}else this.type,this.flatShading=1===i}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),0!==this.side&&(i.side=this.side),0!==this.vertexColors&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==(0,h.default)(this.userData)&&(i.userData=this.userData),e){var n=r(t.textures),a=r(t.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse((0,h.default)(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var r=e.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),je.prototype=(0,p.default)(He.prototype),je.prototype.constructor=je,je.prototype.isShaderMaterial=!0,je.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=kt(t.uniforms),this.defines=(0,f.default)({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},je.prototype.toJSON=function(t){var e=He.prototype.toJSON.call(this,t);for(var i in e.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}(0,l.default)(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var n={};for(var a in this.extensions)!0===this.extensions[a]&&(n[a]=!0);return(0,l.default)(n).length>0&&(e.extensions=n),e},(0,f.default)(Xe.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(e=new ht),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new ht;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(e=new ht),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new ht;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(De=new ht,Be=new ht,Oe=new ht,function(t,e,i,r){De.copy(t).add(e).multiplyScalar(.5),Be.copy(e).sub(t).normalize(),Oe.copy(this.origin).sub(De);var n,a,o,s,u=.5*t.distanceTo(e),l=-this.direction.dot(Be),h=Oe.dot(this.direction),c=-Oe.dot(Be),p=Oe.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*h-c,s=u*d,(n=l*c-h)>=0)if(a>=-s)if(a<=s){var f=1/d;o=(n*=f)*(n+l*(a*=f)+2*h)+a*(l*n+a+2*c)+p}else a=u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a=-u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a<=-s?o=-(n=Math.max(0,-(-l*u+h)))*n+(a=n>0?-u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p:a<=s?(n=0,o=(a=Math.min(Math.max(-u,-c),u))*(a+2*c)+p):o=-(n=Math.max(0,-(l*u+h)))*n+(a=n>0?u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p;else a=l>0?-u:u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(Be).multiplyScalar(a).add(De),o}),intersectSphere:function(){var t=new ht;return function(e,i){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),n=t.dot(t)-r*r,a=e.radius*e.radius;if(n>a)return null;var o=Math.sqrt(a-n),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,r,n,a,o,s,u=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,c=this.origin;return u>=0?(i=(t.min.x-c.x)*u,r=(t.max.x-c.x)*u):(i=(t.max.x-c.x)*u,r=(t.min.x-c.x)*u),l>=0?(n=(t.min.y-c.y)*l,a=(t.max.y-c.y)*l):(n=(t.max.y-c.y)*l,a=(t.min.y-c.y)*l),i>a||n>r?null:((n>i||i!=i)&&(i=n),(a<r||r!=r)&&(r=a),h>=0?(o=(t.min.z-c.z)*h,s=(t.max.z-c.z)*h):(o=(t.max.z-c.z)*h,s=(t.min.z-c.z)*h),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,e)))},intersectsBox:(Ie=new ht,function(t){return null!==this.intersectBox(t,Ie)}),intersectTriangle:function(){var t=new ht,e=new ht,i=new ht,r=new ht;return function(n,a,o,s,u){e.subVectors(a,n),i.subVectors(o,n),r.crossVectors(e,i);var l,h=this.direction.dot(r);if(h>0){if(s)return null;l=1}else{if(!(h<0))return null;l=-1,h=-h}t.subVectors(this.origin,n);var c=l*this.direction.dot(i.crossVectors(t,i));if(c<0)return null;var p=l*this.direction.dot(e.cross(t));if(p<0)return null;if(c+p>h)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/h,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),(0,f.default)(qe,{getNormal:(Ne=new ht,function(t,e,i,r){void 0===r&&(r=new ht),r.subVectors(i,e),Ne.subVectors(t,e),r.cross(Ne);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:function(){var t=new ht,e=new ht,i=new ht;return function(r,n,a,o,s){t.subVectors(o,n),e.subVectors(a,n),i.subVectors(r,n);var u=t.dot(t),l=t.dot(e),h=t.dot(i),c=e.dot(e),p=e.dot(i),d=u*c-l*l;if(void 0===s&&(s=new ht),0===d)return s.set(-2,-1,-1);var f=1/d,m=(c*h-l*p)*f,v=(u*p-l*h)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new ht;return function(e,i,r,n){return qe.getBarycoord(e,i,r,n,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:(ze=new ht,function(t,e,i,r,n,a,o,s){return this.getBarycoord(t,e,i,r,ze),s.set(0,0),s.addScaledVector(n,ze.x),s.addScaledVector(a,ze.y),s.addScaledVector(o,ze.z),s}),isFrontFacing:function(){var t=new ht,e=new ht;return function(i,r,n,a){return t.subVectors(n,r),e.subVectors(i,r),t.cross(e).dot(a)<0}}()}),(0,f.default)(qe.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new ht,e=new ht;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(t=new ht),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return qe.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(t=new ht),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return qe.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,i,r,n){return qe.getUV(t,this.a,this.b,this.c,e,i,r,n)},containsPoint:function(t){return qe.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return qe.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(Re=new ht,Fe=new ht,Ue=new ht,ke=new ht,Ge=new ht,Ve=new ht,function(t,e){void 0===e&&(e=new ht);var i,r,n=this.a,a=this.b,o=this.c;Re.subVectors(a,n),Fe.subVectors(o,n),ke.subVectors(t,n);var s=Re.dot(ke),u=Fe.dot(ke);if(s<=0&&u<=0)return e.copy(n);Ge.subVectors(t,a);var l=Re.dot(Ge),h=Fe.dot(Ge);if(l>=0&&h<=l)return e.copy(a);var c=s*h-l*u;if(c<=0&&s>=0&&l<=0)return i=s/(s-l),e.copy(n).addScaledVector(Re,i);Ve.subVectors(t,o);var p=Re.dot(Ve),d=Fe.dot(Ve);if(d>=0&&p<=d)return e.copy(o);var f=p*u-s*d;if(f<=0&&u>=0&&d<=0)return r=u/(u-d),e.copy(n).addScaledVector(Fe,r);var m=l*d-p*h;if(m<=0&&h-l>=0&&p-d>=0)return Ue.subVectors(o,a),r=(h-l)/(h-l+(p-d)),e.copy(a).addScaledVector(Ue,r);var v=1/(m+f+c);return i=f*v,r=c*v,e.copy(n).addScaledVector(Re,i).addScaledVector(Fe,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Ye.prototype=(0,p.default)(He.prototype),Ye.prototype.constructor=Ye,Ye.prototype.isMeshBasicMaterial=!0,Ye.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Je.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Je,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ue.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=(0,f.default)({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,a=(0,l.default)(n);if(a.length>0){var o=n[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=r.morphTargets;void 0!==s&&s.length}},raycast:function(){var t=new Ft,e=new Xe,i=new zt,r=new ht,n=new ht,a=new ht,o=new ht,s=new ht,u=new ht,l=new ht,h=new ht,c=new ht,p=new ut,d=new ut,f=new ut,m=new ht,v=new ht;function g(t,e,i,r,n,a,o,s){if(null===(1===e.side?r.intersectTriangle(o,a,n,!0,s):r.intersectTriangle(n,a,o,2!==e.side,s)))return null;v.copy(s),v.applyMatrix4(t.matrixWorld);var u=i.ray.origin.distanceTo(v);return u<i.near||u>i.far?null:{distance:u,point:v.clone(),object:t}}function y(t,e,i,v,y,x,b,w,_,M){r.fromBufferAttribute(y,w),n.fromBufferAttribute(y,_),a.fromBufferAttribute(y,M);var S=t.morphTargetInfluences;if(e.morphTargets&&x&&S){l.set(0,0,0),h.set(0,0,0),c.set(0,0,0);for(var A=0,T=x.length;A<T;A++){var L=S[A],P=x[A];0!==L&&(o.fromBufferAttribute(P,w),s.fromBufferAttribute(P,_),u.fromBufferAttribute(P,M),l.addScaledVector(o.sub(r),L),h.addScaledVector(s.sub(n),L),c.addScaledVector(u.sub(a),L))}r.add(l),n.add(h),a.add(c)}var C=g(t,e,i,v,r,n,a,m);if(C){b&&(p.fromBufferAttribute(b,w),d.fromBufferAttribute(b,_),f.fromBufferAttribute(b,M),C.uv=qe.getUV(m,r,n,a,p,d,f,new ut));var E=new $t(w,_,M);qe.getNormal(r,n,a,E.normal),C.face=E}return C}return function(r,n){var a,o=this.geometry,s=this.material,u=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(u),!1!==r.ray.intersectsSphere(i)&&(t.getInverse(u),e.copy(r.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var l,h,c,v,x,b,w,_,M,S,A,T=o.index,L=o.attributes.position,P=o.morphAttributes.position,C=o.attributes.uv,E=o.groups,I=o.drawRange;if(null!==T)if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],x=S=Math.max(_.start,I.start),w=A=Math.min(_.start+_.count,I.start+I.count);x<w;x+=3)l=T.getX(x),h=T.getX(x+1),c=T.getX(x+2),(a=y(this,M,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(x/3),a.face.materialIndex=_.materialIndex,n.push(a));else for(v=S=Math.max(0,I.start),b=A=Math.min(T.count,I.start+I.count);v<b;v+=3)l=T.getX(v),h=T.getX(v+1),c=T.getX(v+2),(a=y(this,s,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(v/3),n.push(a));else if(void 0!==L){var D=1==this.drawMode,B=D?1:3;if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],S=Math.max(_.start,I.start),A=Math.min(_.start+_.count,I.start+I.count),A=Math.min(A,L.count),D&&(A-=2),x=S,w=A;x<w;x+=B)(a=y(this,M,r,e,L,P,C,l=x,h=x+1,c=x+2))&&(a.faceIndex=Math.floor(x/B),a.face.materialIndex=_.materialIndex,n.push(a));else for(S=Math.max(0,I.start),A=Math.min(L.count,I.start+I.count),D&&(A-=2),v=S,b=A;v<b;v+=B)(a=y(this,s,r,e,L,P,C,l=v,h=v+1,c=v+2))&&(a.faceIndex=Math.floor(v/B),n.push(a))}}else if(o.isGeometry){var O,z,N,R,F=Array.isArray(s),U=o.vertices,k=o.faces,G=o.faceVertexUvs[0];G.length>0&&(R=G);for(var V=0,W=k.length;V<W;V++){var H=k[V],j=F?s[H.materialIndex]:s;if(void 0!==j&&(O=U[H.a],z=U[H.b],N=U[H.c],a=g(this,j,r,e,O,z,N,m))){if(R&&R[V]){var X=R[V];p.copy(X[0]),d.copy(X[1]),f.copy(X[2]),a.uv=qe.getUV(m,O,z,N,p,d,f,new ut)}a.face=H,a.faceIndex=V,n.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),si.prototype=(0,p.default)(Pt.prototype),si.prototype.constructor=si,si.prototype.isCubeTexture=!0,Object.defineProperty(si.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),ui.prototype=(0,p.default)(Pt.prototype),ui.prototype.constructor=ui,ui.prototype.isDataTexture2DArray=!0,li.prototype=(0,p.default)(Pt.prototype),li.prototype.constructor=li,li.prototype.isDataTexture3D=!0;var hi=new Pt,ci=new ui,pi=new li,di=new si,fi=[],mi=[],vi=new Float32Array(16),gi=new Float32Array(9),yi=new Float32Array(4);function xi(t,e,i){var r=t[0];if(r<=0||r>0)return t;var n=e*i,a=fi[n];if(void 0===a&&(a=new Float32Array(n),fi[n]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function bi(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function wi(t,e){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}function _i(t,e){var i=mi[e];void 0===i&&(i=new Int32Array(e),mi[e]=i);for(var r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function Mi(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function Si(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(bi(i,e))return;t.uniform2fv(this.addr,e),wi(i,e)}}function Ai(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(bi(i,e))return;t.uniform3fv(this.addr,e),wi(i,e)}}function Ti(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(bi(i,e))return;t.uniform4fv(this.addr,e),wi(i,e)}}function Li(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;yi.set(r),t.uniformMatrix2fv(this.addr,!1,yi),wi(i,r)}}function Pi(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;gi.set(r),t.uniformMatrix3fv(this.addr,!1,gi),wi(i,r)}}function Ci(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(bi(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),wi(i,e)}else{if(bi(i,r))return;vi.set(r),t.uniformMatrix4fv(this.addr,!1,vi),wi(i,r)}}function Ei(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTexture2D(e||hi,n)}function Ii(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(e||ci,n)}function Di(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(e||pi,n)}function Bi(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTextureCube(e||di,n)}function Oi(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function zi(t,e){var i=this.cache;bi(i,e)||(t.uniform2iv(this.addr,e),wi(i,e))}function Ni(t,e){var i=this.cache;bi(i,e)||(t.uniform3iv(this.addr,e),wi(i,e))}function Ri(t,e){var i=this.cache;bi(i,e)||(t.uniform4iv(this.addr,e),wi(i,e))}function Fi(t,e){t.uniform1fv(this.addr,e)}function Ui(t,e){t.uniform1iv(this.addr,e)}function ki(t,e){t.uniform2iv(this.addr,e)}function Gi(t,e){t.uniform3iv(this.addr,e)}function Vi(t,e){t.uniform4iv(this.addr,e)}function Wi(t,e){var i=xi(e,this.size,2);t.uniform2fv(this.addr,i)}function Hi(t,e){var i=xi(e,this.size,3);t.uniform3fv(this.addr,i)}function ji(t,e){var i=xi(e,this.size,4);t.uniform4fv(this.addr,i)}function Xi(t,e){var i=xi(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function qi(t,e){var i=xi(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Yi(t,e){var i=xi(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Ji(t,e,i){var r=e.length,n=_i(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTexture2D(e[a]||hi,n[a])}function Zi(t,e,i){var r=e.length,n=_i(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTextureCube(e[a]||di,n[a])}function Qi(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Mi;case 35664:return Si;case 35665:return Ai;case 35666:return Ti;case 35674:return Li;case 35675:return Pi;case 35676:return Ci;case 35678:case 36198:return Ei;case 35679:return Di;case 35680:return Bi;case 36289:return Ii;case 5124:case 35670:return Oi;case 35667:case 35671:return zi;case 35668:case 35672:return Ni;case 35669:case 35673:return Ri}}(e.type)}function Ki(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Fi;case 35664:return Wi;case 35665:return Hi;case 35666:return ji;case 35674:return Xi;case 35675:return qi;case 35676:return Yi;case 35678:return Ji;case 35680:return Zi;case 5124:case 35670:return Ui;case 35667:case 35671:return ki;case 35668:case 35672:return Gi;case 35669:case 35673:return Vi}}(e.type)}function $i(t){this.id=t,this.seq=[],this.map={}}Ki.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),wi(e,t)},$i.prototype.setValue=function(t,e,i){for(var r=this.seq,n=0,a=r.length;n!==a;++n){var o=r[n];o.setValue(t,e[o.id],i)}};var tr=/([\w\d_]+)(\])?(\[|\.)?/g;function er(t,e){t.seq.push(e),t.map[e.id]=e}function ir(t,e,i){var r=t.name,n=r.length;for(tr.lastIndex=0;;){var a=tr.exec(r),o=tr.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===n){er(i,void 0===l?new Qi(s,t,e):new Ki(s,t,e));break}var h=i.map[s];void 0===h&&er(i,h=new $i(s)),i=h}}function rr(t,e){this.seq=[],this.map={};for(var i=t.getProgramParameter(e,35718),r=0;r<i;++r){var n=t.getActiveUniform(e,r);ir(n,t.getUniformLocation(e,n.name),this)}}function nr(t,e,i,r){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!0===r&&(t.getShaderParameter(n,35713),""!==t.getShaderInfoLog(n)&&(t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];e.join("\n")}(i))),n}rr.prototype.setValue=function(t,e,i,r){var n=this.map[e];void 0!==n&&n.setValue(t,i,r)},rr.prototype.setOptional=function(t,e,i){var r=e[i];void 0!==r&&this.setValue(t,i,r)},rr.upload=function(t,e,i,r){for(var n=0,a=e.length;n!==a;++n){var o=e[n],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},rr.seqWithValue=function(t,e){for(var i=[],r=0,n=t.length;r!==n;++r){var a=t[r];a.id in e&&i.push(a)}return i};var ar=0;function or(t){switch(t){case at:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case ot:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function sr(t,e){var i=or(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function ur(t,e){var i;switch(e){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="Uncharted2";break;case 4:i="OptimizedCineon";break;case 5:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function lr(t){return""!==t}function hr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function cr(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function pr(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(t,e){var i=Ut[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return pr(i)}))}function dr(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,i,r){for(var n="",a=parseInt(e);a<parseInt(i);a++)n+=r.replace(/\[ i \]/g,"[ "+a+" ]");return n}))}function fr(t,e,i,r,n,a,o,s){var u=t.context,l=r.defines,h=n.vertexShader,c=n.fragmentShader,p="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?p="SHADOWMAP_TYPE_PCF":2===a.shadowMapType&&(p="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",v="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case w:case _:f="ENVMAP_TYPE_CUBE";break;case S:case A:f="ENVMAP_TYPE_CUBE_UV";break;case 303:case M:f="ENVMAP_TYPE_EQUIREC";break;case 305:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case _:case M:m="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:v="ENVMAP_BLENDING_MULTIPLY";break;case 1:v="ENVMAP_BLENDING_MIX";break;case 2:v="ENVMAP_BLENDING_ADD"}}var g,y,x,b,T,L=t.gammaFactor>0?t.gammaFactor:1,P=o.isWebGL2?"":function(t,e,i){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(lr).join("\n")}(r.extensions,a,e),C=function(t){var e=[];for(var i in t){var r=t[i];!1!==r&&e.push("#define "+i+" "+r)}return e.join("\n")}(l),E=u.createProgram();if(r.isRawShaderMaterial?((g=[C].filter(lr).join("\n")).length>0&&(g+="\n"),(y=[P,C].filter(lr).join("\n")).length>0&&(y+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,C,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+L,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(lr).join("\n"),y=[P,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,C,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+L,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.envMap?"#define "+m:"",a.envMap?"#define "+v:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?Ut.tonemapping_pars_fragment:"",0!==a.toneMapping?ur("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Ut.encodings_pars_fragment:"",a.mapEncoding?sr("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?sr("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?sr("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?sr("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(x="linearToOutputTexel",b=a.outputEncoding,T=or(b),"vec4 "+x+"( vec4 value ) { return LinearTo"+T[0]+T[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(lr).join("\n")),h=cr(h=hr(h=pr(h),a),a),c=cr(c=hr(c=pr(c),a),a),h=dr(h),c=dr(c),o.isWebGL2&&!r.isRawShaderMaterial){var I=!1,D=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==h.match(D)&&null!==c.match(D)&&(I=!0,h=h.replace(D,""),c=c.replace(D,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#version 300 es\n","#define varying in",I?"":"out highp vec4 pc_fragColor;",I?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var B,O,z=y+c,N=nr(u,35633,g+h,t.debug.checkShaderErrors),R=nr(u,35632,z,t.debug.checkShaderErrors);if(u.attachShader(E,N),u.attachShader(E,R),void 0!==r.index0AttributeName?u.bindAttribLocation(E,0,r.index0AttributeName):!0===a.morphTargets&&u.bindAttribLocation(E,0,"position"),u.linkProgram(E),t.debug.checkShaderErrors){var F=u.getProgramInfoLog(E).trim(),U=u.getShaderInfoLog(N).trim(),k=u.getShaderInfoLog(R).trim(),G=!0,V=!0;!1===u.getProgramParameter(E,35714)?(G=!1,u.getError(),u.getProgramParameter(E,35715)):""!==F||""!==U&&""!==k||(V=!1),V&&(this.diagnostics={runnable:G,material:r,programLog:F,vertexShader:{log:U,prefix:g},fragmentShader:{log:k,prefix:y}})}return u.deleteShader(N),u.deleteShader(R),this.getUniforms=function(){return void 0===B&&(B=new rr(u,E,s)),B},this.getAttributes=function(){return void 0===O&&(O=function(t,e){for(var i={},r=t.getProgramParameter(e,35721),n=0;n<r;n++){var a=t.getActiveAttrib(e,n).name;i[a]=t.getAttribLocation(e,a)}return i}(u,E)),O},this.destroy=function(){u.deleteProgram(E),this.program=void 0},(0,d.default)(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.name=n.name,this.id=ar++,this.code=i,this.usedTimes=1,this.program=E,this.vertexShader=N,this.fragmentShader=R,this}function mr(t,e,i,r){var n=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(i=t.texture.encoding):i=at,i===at&&e&&(i=ot),i}this.getParameters=function(e,r,n,o,u,l,h){var c=a[e.type],p=h.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(i.floatVertexTextures)return 1024;var r=i.maxVertexUniforms,n=Math.floor((r-20)/4),a=Math.min(n,e.length);return a<e.length?(e.length,0):a}(h):0,d=i.precision;null!==e.precision&&(d=i.getMaxPrecision(e.precision))!==e.precision&&e.precision;var f=t.getRenderTarget();return{shaderID:c,precision:d,supportsVertexTextures:i.vertexTextures,outputEncoding:s(f?f.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:s(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:s(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:s(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===S||e.envMap.mapping===A),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:s(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:1===e.normalMapType,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!o,useFog:e.fog,fogExp:o&&o.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:i.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:l,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&n.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:2===e.side,flipSided:1===e.side,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,i){var r=[];if(i.shaderID?r.push(i.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)r.push(n),r.push(e.defines[n]);for(var a=0;a<o.length;a++)r.push(i[o[a]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(a,o,s,u){for(var l,h=0,c=n.length;h<c;h++){var p=n[h];if(p.code===u){++(l=p).usedTimes;break}}return void 0===l&&(l=new fr(t,e,u,a,o,s,i,r),n.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function vr(){var t=new c.default;return{get:function(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,r){t.get(e)[i]=r},dispose:function(){t=new c.default}}}function gr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function yr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function xr(){var t=[],e=0,i=[],r=[],n={id:-1};function a(i,r,a,o,s,u){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:r,material:a,program:a.program||n,groupOrder:o,renderOrder:i.renderOrder,z:s,group:u},t[e]=l):(l.id=i.id,l.object=i,l.geometry=r,l.material=a,l.program=a.program||n,l.groupOrder=o,l.renderOrder=i.renderOrder,l.z=s,l.group=u),e++,l}return{opaque:i,transparent:r,init:function(){e=0,i.length=0,r.length=0},push:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).unshift(l)},sort:function(){i.length>1&&i.sort(gr),r.length>1&&r.sort(yr)}}}function br(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n,a=t[i.id];return void 0===a?(n=new xr,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===(n=a[r.id])&&(n=new xr,a[r.id]=n),n},dispose:function(){t={}}}}function wr(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new ht,color:new qt,shadow:!1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"SpotLight":i={position:new ht,direction:new ht,color:new qt,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"PointLight":i={position:new ht,color:new qt,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ut,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new ht,skyColor:new qt,groundColor:new qt};break;case"RectAreaLight":i={color:new qt,position:new ht,halfWidth:new ht,halfHeight:new ht}}return t[e.id]=i,i}}}var _r=0;function Mr(){for(var t=new wr,e={id:_r++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowBias:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)e.probe.push(new ht);var r=new ht,n=new Ft,a=new Ft;return{setup:function(i,o,s){for(var u=0,l=0,h=0,c=0;c<9;c++)e.probe[c].set(0,0,0);for(var p=0,d=0,f=0,m=0,v=0,g=s.matrixWorldInverse,y=(c=0,i.length);c<y;c++){var x=i[c],b=x.color,w=x.intensity,_=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)u+=b.r*w,l+=b.g*w,h+=b.b*w;else if(x.isLightProbe)for(var S=0;S<9;S++)e.probe[S].addScaledVector(x.sh.coefficients[S],w);else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var A=x.shadow;T.shadowBias=A.bias,T.shadowNormalBias=A.normalBias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize}e.directionalShadowMap[p]=M,e.directionalShadowBias[p]=x.shadow.normalBias,e.directionalShadowMatrix[p]=x.shadow.matrix,e.directional[p]=T,p++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(w),T.distance=_,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize),e.spotShadowMap[f]=M,e.spotShadowMatrix[f]=x.shadow.matrix,e.spot[f]=T,f++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(w),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),a.identity(),n.copy(x.matrixWorld),n.premultiply(g),a.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),e.rectArea[m]=T,m++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize,T.shadowCameraNear=A.camera.near,T.shadowCameraFar=A.camera.far),e.pointShadowMap[d]=M,e.pointShadowMatrix[d]=x.shadow.matrix,e.point[d]=T,d++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),e.hemi[v]=T,v++}}e.ambient[0]=u,e.ambient[1]=l,e.ambient[2]=h,e.directional.length=p,e.spot.length=f,e.rectArea.length=m,e.point.length=d,e.hemi.length=v,e.hash.stateID=e.id,e.hash.directionalLength=p,e.hash.pointLength=d,e.hash.spotLength=f,e.hash.rectAreaLength=m,e.hash.hemiLength=v,e.hash.shadowsLength=o.length},state:e}}function Sr(){var t=new Mr,e=[],i=[];return{init:function(){e.length=0,i.length=0},state:{lightsArray:e,shadowsArray:i,lights:t},setupLights:function(r){t.setup(e,i,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){i.push(t)}}}function Ar(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n;return void 0===t[i.id]?(n=new Sr,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===t[i.id][r.id]?(n=new Sr,t[i.id][r.id]=n):n=t[i.id][r.id],n},dispose:function(){t={}}}}function Tr(t){He.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Lr(t){He.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ht,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Pr(t,e,i){for(var r=new Rt,n=new Ft,a=new ut,o=new ut(i,i),s=new ht,u=new ht,l=new Array(4),h=new Array(4),c={},p={0:1,1:0,2:2},d=[new ht(1,0,0),new ht(-1,0,0),new ht(0,0,1),new ht(0,0,-1),new ht(0,1,0),new ht(0,-1,0)],f=[new ht(0,1,0),new ht(0,1,0),new ht(0,1,0),new ht(0,1,0),new ht(0,0,1),new ht(0,0,-1)],m=[new Ct,new Ct,new Ct,new Ct,new Ct,new Ct],v=0;4!==v;++v){var g=0!=(1&v),y=0!=(2&v),x=new Tr({depthPacking:3201,morphTargets:g,skinning:y});l[v]=x;var b=new Lr({morphTargets:g,skinning:y});h[v]=b}var w=this;function _(e,i,r,n,a,o){var s=e.geometry,u=null,d=l,f=e.customDepthMaterial;if(r&&(d=h,f=e.customDistanceMaterial),f)u=f;else{var m=!1;i.morphTargets&&(s&&s.isBufferGeometry?m=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(m=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&i.skinning;var v=0;m&&(v|=1),e.isSkinnedMesh&&i.skinning&&(v|=2),u=d[v]}if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var g=u.uuid,y=i.uuid,x=c[g];void 0===x&&(x={},c[g]=x);var b=x[y];void 0===b&&(b=u.clone(),x[y]=b),u=b}return u.visible=i.visible,u.wireframe=i.wireframe,u.side=null!=i.shadowSide?i.shadowSide:p[i.side],u.clipShadows=i.clipShadows,u.clippingPlanes=i.clippingPlanes,u.clipIntersection=i.clipIntersection,u.wireframeLinewidth=i.wireframeLinewidth,u.linewidth=i.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(n),u.nearDistance=a,u.farDistance=o),u}function M(i,n,a,o){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var s=e.update(i),l=i.material;if(Array.isArray(l))for(var h=s.groups,c=0,p=h.length;c<p;c++){var d=h[c],f=l[d.materialIndex];if(f&&f.visible){var m=_(i,f,o,u,a.near,a.far);t.renderBufferDirect(a,null,s,m,i,d)}}else l.visible&&(m=_(i,l,o,u,a.near,a.far),t.renderBufferDirect(a,null,s,m,i,null))}for(var v=i.children,g=0,y=v.length;g<y;g++)M(v[g],n,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,i,l){if(!1!==w.enabled&&(!1!==w.autoUpdate||!1!==w.needsUpdate)&&0!==e.length){var h,c=t.getRenderTarget(),p=t.getActiveCubeFace(),v=t.getActiveMipMapLevel(),g=t.state;g.setBlending(0),g.buffers.color.setClear(1,1,1,1),g.buffers.depth.setTest(!0),g.setScissorTest(!1);for(var y=0,x=e.length;y<x;y++){var b=e[y],_=b.shadow,S=b&&b.isPointLight;if(void 0!==_){var A=_.camera;if(a.copy(_.mapSize),a.min(o),S){var T=a.x,L=a.y;m[0].set(2*T,L,T,L),m[1].set(0,L,T,L),m[2].set(3*T,L,T,L),m[3].set(T,L,T,L),m[4].set(3*T,0,T,L),m[5].set(T,0,T,L),a.x*=4,a.y*=2}if(null===_.map){var P={minFilter:C,magFilter:C,format:V};_.map=new Et(a.x,a.y,P),_.map.texture.name=b.name+".shadowMap",A.updateProjectionMatrix()}_.isSpotLightShadow&&_.update(b);var E=_.map,I=_.matrix;u.setFromMatrixPosition(b.matrixWorld),A.position.copy(u),S?(h=6,I.makeTranslation(-u.x,-u.y,-u.z)):(h=1,s.setFromMatrixPosition(b.target.matrixWorld),A.lookAt(s),A.updateMatrixWorld(),I.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),I.multiply(A.projectionMatrix),I.multiply(A.matrixWorldInverse)),t.setRenderTarget(E),t.clear();for(var D=0;D<h;D++){if(S){s.copy(A.position),s.add(d[D]),A.up.copy(f[D]),A.lookAt(s),A.updateMatrixWorld();var B=m[D];g.viewport(B)}n.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),r.setFromMatrix(n),M(i,l,A,S)}}}w.needsUpdate=!1,t.setRenderTarget(c,p,v)}}}function Cr(t,e,i,r){var n=new function(){var e=!1,i=new Ct,r=null,n=new Ct(0,0,0,0);return{setMask:function(i){r===i||e||(t.colorMask(i,i,i,i),r=i)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),i.set(e,r,a,o),!1===n.equals(i)&&(t.clearColor(e,r,a,o),n.copy(i))},reset:function(){e=!1,r=null,n.set(-1,0,0,0)}}},o=new function(){var e=!1,i=null,r=null,n=null;return{setTest:function(t){t?k(2929):G(2929)},setMask:function(r){i===r||e||(t.depthMask(r),i=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){n!==e&&(t.clearDepth(e),n=e)},reset:function(){e=!1,i=null,r=null,n=null}}},s=new function(){var e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(t){t?k(2960):G(2960)},setMask:function(r){i===r||e||(t.stencilMask(r),i=r)},setFunc:function(e,i,o){r===e&&n===i&&a===o||(t.stencilFunc(e,i,o),r=e,n=i,a=o)},setOp:function(e,i,r){o===e&&s===i&&u===r||(t.stencilOp(e,i,r),o=e,s=i,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null}}},u=t.getParameter(34921),l=new Uint8Array(u),h=new Uint8Array(u),c=new Uint8Array(u),p={},d=null,f=null,m=null,v=null,g=null,y=null,x=null,b=null,w=null,_=null,M=!1,S=null,A=null,T=null,L=null,P=null,C=t.getParameter(35661),E=!1,I=0,D=t.getParameter(7938);-1!==D.indexOf("WebGL")?(I=parseFloat(/^WebGL\ ([0-9])/.exec(D)[1]),E=I>=1):-1!==D.indexOf("OpenGL ES")&&(I=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(D)[1]),E=I>=2);var B=null,O={},z=new Ct,N=new Ct;function R(e,i,r){var n=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,n);return a}var F={};function U(i,n){l[i]=1,0===h[i]&&(t.enableVertexAttribArray(i),h[i]=1),c[i]!==n&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),c[i]=n)}function k(e){!0!==p[e]&&(t.enable(e),p[e]=!0)}function G(e){!1!==p[e]&&(t.disable(e),p[e]=!1)}function V(e,r,n,o,s,u,l,h){if(0!==e){if(m||(k(3042),m=!0),5===e)s=s||r,u=u||n,l=l||o,r===g&&s===b||(t.blendEquationSeparate(i.convert(r),i.convert(s)),g=r,b=s),n===y&&o===x&&u===w&&l===_||(t.blendFuncSeparate(i.convert(n),i.convert(o),i.convert(u),i.convert(l)),y=n,x=o,w=u,_=l),v=e,M=null;else if(e!==v||h!==M){if(g===a&&b===a||(t.blendEquation(32774),g=a,b=a),h)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768)}y=null,x=null,w=null,_=null,v=e,M=h}}else m&&(G(3042),m=!1)}function W(e){S!==e&&(e?t.frontFace(2304):t.frontFace(2305),S=e)}function H(e){0!==e?(k(2884),e!==A&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):G(2884),A=e}function j(e,i,r){e?(k(32823),L===i&&P===r||(t.polygonOffset(i,r),L=i,P=r)):G(32823)}function X(e){void 0===e&&(e=33984+C-1),B!==e&&(t.activeTexture(e),B=e)}return F[3553]=R(3553,3553,1),F[34067]=R(34067,34069,6),n.setClear(0,0,0,1),o.setClear(1),s.setClear(0),k(2929),o.setFunc(3),W(!1),H(1),k(2884),V(0),{buffers:{color:n,depth:o,stencil:s},initAttributes:function(){for(var t=0,e=l.length;t<e;t++)l[t]=0},enableAttribute:function(t){U(t,0)},enableAttributeAndDivisor:U,disableUnusedAttributes:function(){for(var e=0,i=h.length;e!==i;++e)h[e]!==l[e]&&(t.disableVertexAttribArray(e),h[e]=0)},enable:k,disable:G,getCompressedTextureFormats:function(){if(null===d&&(d=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var i=t.getParameter(34467),r=0;r<i.length;r++)d.push(i[r]);return d},useProgram:function(e){return f!==e&&(t.useProgram(e),f=e,!0)},setBlending:V,setMaterial:function(t,e){2===t.side?G(2884):k(2884);var i=1===t.side;e&&(i=!i),W(i),1===t.blending&&!1===t.transparent?V(0):V(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),n.setMask(t.colorWrite),j(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:W,setCullFace:H,setLineWidth:function(e){e!==T&&(E&&t.lineWidth(e),T=e)},setPolygonOffset:j,setScissorTest:function(t){t?k(3089):G(3089)},activeTexture:X,bindTexture:function(e,i){null===B&&X();var r=O[B];void 0===r&&(r={type:void 0,texture:void 0},O[B]=r),r.type===e&&r.texture===i||(t.bindTexture(e,i||F[e]),r.type=e,r.texture=i)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===z.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),z.copy(e))},viewport:function(e){!1===N.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),N.copy(e))},reset:function(){for(var e=0;e<h.length;e++)1===h[e]&&(t.disableVertexAttribArray(e),h[e]=0);p={},d=null,B=null,O={},f=null,v=null,S=null,A=null,n.reset(),o.reset(),s.reset()}}}function Er(t,e,i,r,n,a,o){var s,u={},l="undefined"!=typeof OffscreenCanvas;function h(t,e){return l?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function c(t,e,i,r){var n=1;if((t.width>r||t.height>r)&&(n=r/Math.max(t.width,t.height)),n<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?st.floorPowerOfTwo:Math.floor,o=a(n*t.width),u=a(n*t.height);void 0===s&&(s=h(o,u));var l=i?h(o,u):s;return l.width=o,l.height=u,l.getContext("2d").drawImage(t,0,0,o,u),t.width,t.height,l}return"data"in t&&(t.width,t.height),t}return t}function p(t){return st.isPowerOfTwo(t.width)&&st.isPowerOfTwo(t.height)}function d(t,e){return t.generateMipmaps&&e&&t.minFilter!==C&&t.minFilter!==D}function f(e,i,n,a){t.generateMipmap(e),r.get(i).__maxMipLevel=Math.log(Math.max(n,a))*Math.LOG2E}function m(t,i){if(!n.isWebGL2)return t;var r=t;return 6403===t&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===t&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===t&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325!==r&&33326!==r&&34842!==r&&34836!==r||e.get("EXT_color_buffer_float"),r}function v(t){return t===C||t===E||t===I?9728:9729}function g(e){var i=e.target;i.removeEventListener("dispose",g),function(e){var i=r.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),r.remove(e))}(i),i.isVideoTexture&&delete u[i.id],o.memory.textures--}function y(e){var i=e.target;i.removeEventListener("dispose",y),function(e){var i=r.get(e),n=r.get(e.texture);if(e){if(void 0!==n.__webglTexture&&t.deleteTexture(n.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(i),o.memory.textures--}var x=0;function b(t,e){var n=r.get(t);if(t.isVideoTexture&&function(t){var e=t.id,i=o.render.frame;u[e]!==i&&(u[e]=i,t.update())}(t),t.version>0&&n.__version!==t.version){var a=t.image;if(void 0===a);else if(!1!==a.complete)return void A(n,t,e)}i.activeTexture(33984+e),i.bindTexture(3553,n.__webglTexture)}function w(e,o){var s=r.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){S(s,e),i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var u=e&&e.isCompressedTexture,l=e.image[0]&&e.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=u||l?l?e.image[v].image:e.image[v]:c(e.image[v],!1,!0,n.maxCubemapSize);var g=h[0],y=p(g)||n.isWebGL2,x=a.convert(e.format),b=a.convert(e.type),w=m(x,b);for(M(34067,e,y),v=0;v<6;v++)if(u)for(var _,A=h[v].mipmaps,T=0,L=A.length;T<L;T++)_=A[T],e.format!==V&&e.format!==G?i.getCompressedTextureFormats().indexOf(x)>-1&&i.compressedTexImage2D(34069+v,T,w,_.width,_.height,0,_.data):i.texImage2D(34069+v,T,w,_.width,_.height,0,x,b,_.data);else l?i.texImage2D(34069+v,0,w,h[v].width,h[v].height,0,x,b,h[v].data):i.texImage2D(34069+v,0,w,x,b,h[v]);s.__maxMipLevel=u?A.length-1:0,d(e,y)&&f(34067,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture)}function _(t,e){i.activeTexture(33984+e),i.bindTexture(34067,r.get(t).__webglTexture)}function M(i,o,s){var u;if(s?(t.texParameteri(i,10242,a.convert(o.wrapS)),t.texParameteri(i,10243,a.convert(o.wrapT)),32879!==i&&35866!==i||t.texParameteri(i,32882,a.convert(o.wrapR)),t.texParameteri(i,10240,a.convert(o.magFilter)),t.texParameteri(i,10241,a.convert(o.minFilter))):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),o.wrapS!==L||o.wrapT,t.texParameteri(i,10240,v(o.magFilter)),t.texParameteri(i,10241,v(o.minFilter)),o.minFilter!==C&&o.minFilter),u=e.get("EXT_texture_filter_anisotropic")){if(o.type===F&&null===e.get("OES_texture_float_linear"))return;if(o.type===U&&null===(n.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(i,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function S(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function A(e,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),S(e,r),i.activeTexture(33984+o),i.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var u=function(t){return!n.isWebGL2&&(t.wrapS!==L||t.wrapT!==L||t.minFilter!==C&&t.minFilter!==D)}(r)&&!1===p(r.image),l=c(r.image,u,!1,n.maxTextureSize),h=p(l)||n.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);M(s,r,h);var x,b=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===F){if(!n.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else n.isWebGL2&&(y=33189);r.format===W&&6402===y&&r.type!==N&&r.type!==R&&(r.type=N,g=a.convert(r.type)),r.format===H&&(y=34041,r.type!==k&&(r.type=k,g=a.convert(r.type))),i.texImage2D(3553,0,y,l.width,l.height,0,v,g,null)}else if(r.isDataTexture)if(b.length>0&&h){for(var w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,l.width,l.height,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(w=0,_=b.length;w<_;w++)x=b[w],r.format!==V&&r.format!==G?i.getCompressedTextureFormats().indexOf(v)>-1&&i.compressedTexImage2D(3553,w,y,x.width,x.height,0,x.data):i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);e.__maxMipLevel=b.length-1}else if(r.isDataTexture2DArray)i.texImage3D(35866,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)i.texImage3D(32879,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(b.length>0&&h){for(w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,v,g,x);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,v,g,l),e.__maxMipLevel=0;d(r,h)&&f(3553,r,l.width,l.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(e,n,o,s){var u=a.convert(n.texture.format),l=a.convert(n.texture.type),h=m(u,l);i.texImage2D(s,0,h,n.width,n.height,0,u,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,r.get(n.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function P(e,i,r){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){if(r){var n=O(i);t.renderbufferStorageMultisample(36161,n,33189,i.width,i.height)}else t.renderbufferStorage(36161,33189,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer)r?(n=O(i),t.renderbufferStorageMultisample(36161,n,34041,i.width,i.height)):t.renderbufferStorage(36161,34041,i.width,i.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=m(a.convert(i.texture.format),a.convert(i.texture.type));r?(n=O(i),t.renderbufferStorageMultisample(36161,n,o,i.width,i.height)):t.renderbufferStorage(36161,o,i.width,i.height)}t.bindRenderbuffer(36161,null)}function B(e){var i=r.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),b(i.depthTexture,0);var n=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===W)t.framebufferTexture2D(36160,36096,3553,n,0);else{if(i.depthTexture.format!==H)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,n,0)}}(i.__webglFramebuffer,e)}else if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),P(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),P(i.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function O(t){return n.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(n.maxSamples,t.samples):0}var z=!1,j=!1;this.allocateTextureUnit=function(){var t=x;return t>=n.maxTextures&&n.maxTextures,x+=1,t},this.resetTextureUnits=function(){x=0},this.setTexture2D=b,this.setTexture2DArray=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,n.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(e){var s=r.get(e),u=r.get(e.texture);e.addEventListener("dispose",y),u.__webglTexture=t.createTexture(),o.memory.textures++;var l=!0===e.isWebGLRenderTargetCube,h=!0===e.isWebGLMultisampleRenderTarget,c=p(e)||n.isWebGL2;if(l){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h&&n.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),x=O(e);t.renderbufferStorageMultisample(36161,x,g,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),P(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}if(l){for(i.bindTexture(34067,u.__webglTexture),M(34067,e.texture,c),v=0;v<6;v++)T(s.__webglFramebuffer[v],e,36064,34069+v);d(e.texture,c)&&f(34067,e.texture,e.width,e.height),i.bindTexture(34067,null)}else i.bindTexture(3553,u.__webglTexture),M(3553,e.texture,c),T(s.__webglFramebuffer,e,36064,3553),d(e.texture,c)&&f(3553,e.texture,e.width,e.height),i.bindTexture(3553,null);e.depthBuffer&&B(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(d(e,p(t)||n.isWebGL2)){var a=t.isWebGLRenderTargetCube?34067:3553,o=r.get(e).__webglTexture;i.bindTexture(a,o),f(a,e,t.width,t.height),i.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&n.isWebGL2){var i=r.get(e);t.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,i.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===z&&(z=!0),t=t.texture),b(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLRenderTargetCube&&(!1===j&&(j=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?w(t,e):_(t,e)}}function Ir(t,e,i){return{convert:function(t){var r;if(t===T)return 10497;if(t===L)return 33071;if(t===P)return 33648;if(t===C)return 9728;if(t===E)return 9984;if(t===I)return 9986;if(t===D)return 9729;if(t===B)return 9985;if(t===O)return 9987;if(t===z)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===N)return 5123;if(1013===t)return 5124;if(t===R)return 5125;if(t===F)return 5126;if(t===U){if(i.isWebGL2)return 5131;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(1021===t)return 6406;if(t===G)return 6407;if(t===V)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===W)return 6402;if(t===H)return 34041;if(1028===t)return 6403;if(t===a)return 32774;if(101===t)return 32778;if(102===t)return 32779;if(200===t)return 0;if(201===t)return 1;if(202===t)return 768;if(203===t)return 769;if(204===t)return 770;if(205===t)return 771;if(206===t)return 772;if(207===t)return 773;if(208===t)return 774;if(209===t)return 775;if(210===t)return 776;if((t===j||t===X||t===q||t===Y)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(t===j)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===X)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===q)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Y)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===J||t===Z||t===Q||t===K)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===J)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Z)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Q)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===K)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return t;if(t===o||t===x){if(i.isWebGL2){if(t===o)return 32775;if(t===x)return 32776}if(null!==(r=e.get("EXT_blend_minmax"))){if(t===o)return r.MIN_EXT;if(t===x)return r.MAX_EXT}}if(t===k){if(i.isWebGL2)return 34042;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Dr(){ue.call(this),this.type="Group"}function Br(){ue.call(this),this.type="Camera",this.matrixWorldInverse=new Ft,this.projectionMatrix=new Ft,this.projectionMatrixInverse=new Ft}function Or(t,e,i,r){Br.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function zr(t){Or.call(this),this.cameras=t||[]}Tr.prototype=(0,p.default)(He.prototype),Tr.prototype.constructor=Tr,Tr.prototype.isMeshDepthMaterial=!0,Tr.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Lr.prototype=(0,p.default)(He.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isMeshDistanceMaterial=!0,Lr.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Dr.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Dr,isGroup:!0}),Br.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Br,isCamera:!0,copy:function(t,e){return ue.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new ht),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){ue.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Or.prototype=(0,f.default)((0,p.default)(Br.prototype),{constructor:Or,isPerspectiveCamera:!0,copy:function(t,e){return Br.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:(0,f.default)({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*st.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*st.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*st.RAD2DEG*Math.atan(Math.tan(.5*st.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,r,n,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*st.DEG2RAD*this.fov)/this.zoom,i=2*e,r=this.aspect*i,n=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o,e-=a.offsetY*i/s,r*=a.width/o,i*=a.height/s}var u=this.filmOffset;0!==u&&(n+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,e,e-i,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),zr.prototype=(0,f.default)((0,p.default)(Or.prototype),{constructor:zr,isArrayCamera:!0});var Nr,Rr,Fr,Ur,kr,Gr,Vr=new ht,Wr=new ht;function Hr(t,e,i){Vr.setFromMatrixPosition(e.matrixWorld),Wr.setFromMatrixPosition(i.matrixWorld);var r=Vr.distanceTo(Wr),n=e.projectionMatrix.elements,a=i.projectionMatrix.elements,o=n[14]/(n[10]-1),s=n[14]/(n[10]+1),u=(n[9]+1)/n[5],l=(n[9]-1)/n[5],h=(n[8]-1)/n[0],c=(a[8]+1)/a[0],p=o*h,d=o*c,f=r/(-h+c),m=f*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=p-m,x=d+(r-m),b=u*s/g*v,w=l*s/g*v;t.projectionMatrix.makePerspective(y,x,b,w,v,g)}function jr(t){var e,i,r=this,n=null,a=null,o=null,s=[],u=new Ft,l=new Ft,h=1,c="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var p=new Ft,d=new lt,f=new ht,m=new Or;m.viewport=new Ct,m.layers.enable(1);var v=new Or;v.viewport=new Ct,v.layers.enable(2);var g=new zr([m,v]);function y(){return null!==n&&!0===n.isPresenting}g.layers.enable(1),g.layers.enable(2);var x,b=new ut;function w(){if(y()){var a=n.getEyeParameters("left");e=2*a.renderWidth*h,i=a.renderHeight*h,x=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,i,1),m.viewport.set(0,0,e/2,i),v.viewport.set(e/2,0,e/2,i),A.start()}else r.enabled&&t.setDrawingBufferSize(b.width,b.height,x),A.stop()}var _=[];function M(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=e.length;i<n;i++){var a=e[i];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===t)return a;r++}}}function S(t,r){null!==r&&4===r.length&&t.set(r[0]*e,r[1]*i,r[2]*e,r[3]*i)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new Dr).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),A.setContext(t)},this.setFramebufferScaleFactor=function(t){h=t},this.setReferenceSpaceType=function(t){c=t},this.setPoseTarget=function(t){void 0!==t&&(o=t)},this.getCamera=function(t){var e="local-floor"===c?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(a),"local-floor"===c){var i=n.stageParameters;i?u.fromArray(i.sittingToStandingTransform):u.makeTranslation(0,e,0)}var r=a.pose,h=null!==o?o:t;h.matrix.copy(u),h.matrix.decompose(h.position,h.quaternion,h.scale),null!==r.orientation&&(d.fromArray(r.orientation),h.quaternion.multiply(d)),null!==r.position&&(d.setFromRotationMatrix(u),f.fromArray(r.position),f.applyQuaternion(d),h.position.add(f)),h.updateMatrixWorld(),m.near=t.near,v.near=t.near,m.far=t.far,v.far=t.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),v.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(u),"local-floor"===c&&(m.matrixWorldInverse.multiply(l),v.matrixWorldInverse.multiply(l));var x=h.parent;null!==x&&(p.getInverse(x.matrixWorld),m.matrixWorldInverse.multiply(p),v.matrixWorldInverse.multiply(p)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),v.projectionMatrix.fromArray(a.rightProjectionMatrix),Hr(g,m,v);var b=n.getLayers();if(b.length){var w=b[0];S(m.viewport,w.leftBounds),S(v.viewport,w.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],i=M(t);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(u),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var n="Daydream Controller"===i.id?0:1;void 0===_[t]&&(_[t]=!1),_[t]!==i.buttons[n].pressed&&(_[t]=i.buttons[n].pressed,!0===_[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return u},this.isPresenting=y;var A=new Qt;this.setAnimationLoop=function(t){A.setAnimationLoop(t),y()&&A.start()},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){}}function Xr(t){var e=t.context,i=null,r=null,n="local-floor",a=null,o=[],s=[];function u(){return null!==i&&null!==r}var l=new Or;l.layers.enable(1),l.viewport=new Ct;var h=new Or;h.layers.enable(2),h.viewport=new Ct;var c=new zr([l,h]);function p(t){for(var e=0;e<o.length;e++)s[e]===t.inputSource&&o[e].dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),g.stop()}function f(t){r=t,g.setContext(i),g.start()}function m(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}c.layers.enable(1),c.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=o[t];return void 0===e&&((e=new Dr).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.setFramebufferScaleFactor=function(t){},this.setReferenceSpaceType=function(t){n=t},this.setSession=function(t){null!==(i=t)&&(i.addEventListener("select",p),i.addEventListener("selectstart",p),i.addEventListener("selectend",p),i.addEventListener("end",d),i.updateRenderState({baseLayer:new XRWebGLLayer(i,e)}),i.requestReferenceSpace(n).then(f),s=i.inputSources,i.addEventListener("inputsourceschange",(function(){s=i.inputSources;for(var t=0;t<o.length;t++)o[t].userData.inputSource=s[t]})))},this.getCamera=function(t){if(u()){var e=t.parent,i=c.cameras;m(c,e);for(var r=0;r<i.length;r++)m(i[r],e);t.matrixWorld.copy(c.matrixWorld);for(var n=t.children,a=(r=0,n.length);r<a;r++)n[r].updateMatrixWorld(!0);return Hr(c,l,h),c}return t},this.isPresenting=u;var v=null,g=new Qt;g.setAnimationLoop((function(e,n){if(null!==(a=n.getViewerPose(r))){var u=a.views,l=i.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var h=0;h<u.length;h++){var p=u[h],d=l.getViewport(p),f=p.transform.inverse.matrix,m=c.cameras[h];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(p.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===h&&c.matrix.copy(m.matrix)}}for(h=0;h<o.length;h++){var g=o[h],y=s[h];if(y){var x=n.getPose(y.targetRaySpace,r);if(null!==x){g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)})),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return new Ft},this.getDevice=function(){},this.setDevice=function(){},this.setFrameOfReferenceType=function(){},this.submitFrame=function(){}}function qr(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,n=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,c=null,p=null;this.domElement=e,this.context=null,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,f,m,v,g,y,x,b,w,_,M,S,A,T,L,P,C,E,I=this,D=!1,B=null,O=0,N=0,R=null,k=null,G=-1,W={geometry:null,program:null,wireframe:!1},H=null,j=null,X=new Ct,q=new Ct,Y=null,J=e.width,Z=e.height,Q=1,K=new Ct(0,0,J,Z),$=new Ct(0,0,J,Z),tt=!1,et=new Rt,it=new $e,rt=!1,nt=!1,at=new Ft,ot=new ht;function lt(){return null===R?Q:1}try{var ct={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(e.addEventListener("webglcontextlost",mt,!1),e.addEventListener("webglcontextrestored",vt,!1),null===(d=i||e.getContext("webgl",ct)||e.getContext("experimental-webgl",ct)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t.message,t}function pt(){f=new ti(d),(m=new Ke(d,f,t)).isWebGL2||(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),E=new Ir(d,f,m),(v=new Cr(d,f,E,m)).scissor(q.copy($).multiplyScalar(Q)),v.viewport(X.copy(K).multiplyScalar(Q)),g=new ri(d),y=new vr,x=new Er(d,f,v,y,m,E,g),b=new Kt(d),w=new ei(d,b,g),_=new oi(w,g),L=new ai(d),M=new mr(I,f,m,x),S=new br,A=new Ar,T=new Ze(I,v,_,s),P=new Qe(d,f,g,m),C=new ii(d,f,g,m),g.programs=M.programs,I.context=d,I.capabilities=m,I.extensions=f,I.properties=y,I.renderLists=S,I.state=v,I.info=g}pt();var dt="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new Xr(I):new jr(I);this.vr=dt;var ft=new Pr(I,_,m.maxTextureSize);function mt(t){t.preventDefault(),D=!0}function vt(){D=!1,pt()}function gt(t){var e=t.target;e.removeEventListener("dispose",gt),function(t){yt(t),y.remove(t)}(e)}function yt(t){var e=y.get(t).program;t.program=void 0,void 0!==e&&M.releaseProgram(e)}this.shadowMap=ft,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var t=f.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=f.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(t){void 0!==t&&(Q=t,this.setSize(J,Z,!1))},this.getSize=function(t){return void 0===t&&(t=new ut),t.set(J,Z)},this.setSize=function(t,i,r){dt.isPresenting()||(J=t,Z=i,e.width=t*Q,e.height=i*Q,!1!==r&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new ut),t.set(J*Q,Z*Q)},this.setDrawingBufferSize=function(t,i,r){J=t,Z=i,Q=r,e.width=t*r,e.height=i*r,this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(t=new Ct),t.copy(X)},this.getViewport=function(t){return t.copy(K)},this.setViewport=function(t,e,i,r){t.isVector4?K.set(t.x,t.y,t.z,t.w):K.set(t,e,i,r),v.viewport(X.copy(K).multiplyScalar(Q))},this.getScissor=function(t){return t.copy($)},this.setScissor=function(t,e,i,r){t.isVector4?$.set(t.x,t.y,t.z,t.w):$.set(t,e,i,r),v.scissor(q.copy($).multiplyScalar(Q))},this.getScissorTest=function(){return tt},this.setScissorTest=function(t){v.setScissorTest(tt=t)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===i||i)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",mt,!1),e.removeEventListener("webglcontextrestored",vt,!1),S.dispose(),A.dispose(),y.dispose(),_.dispose(),dt.dispose(),bt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var i=y.get(t);t.hasPositions&&!i.position&&(i.position=d.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=d.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=d.createBuffer()),t.hasColors&&!i.color&&(i.color=d.createBuffer());var r=e.getAttributes();t.hasPositions&&(d.bindBuffer(34962,i.position),d.bufferData(34962,t.positionArray,35048),v.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(d.bindBuffer(34962,i.normal),d.bufferData(34962,t.normalArray,35048),v.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(d.bindBuffer(34962,i.uv),d.bufferData(34962,t.uvArray,35048),v.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(d.bindBuffer(34962,i.color),d.bufferData(34962,t.colorArray,35048),v.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),d.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,n,a){var o=n.isMesh&&n.matrixWorld.determinant()<0;v.setMaterial(r,o);var s=At(t,e,r,n),u=!1;W.geometry===i.id&&W.program===s.id&&W.wireframe===(!0===r.wireframe)||(W.geometry=i.id,W.program=s.id,W.wireframe=!0===r.wireframe,u=!0),n.morphTargetInfluences&&(L.update(n,i,r,s),u=!0);var l,h=i.index,c=i.attributes.position,p=1;!0===r.wireframe&&(h=w.getWireframeAttribute(i),p=2);var g=P;null!==h&&(l=b.get(h),(g=C).setIndex(l)),u&&(function(t,e,i){if(!i||!i.isInstancedBufferGeometry||m.isWebGL2||null!==f.get("ANGLE_instanced_arrays")){v.initAttributes();var r=i.attributes,n=e.getAttributes(),a=t.defaultAttributeValues;for(var o in n){var s=n[o];if(s>=0){var u=r[o];if(void 0!==u){var l=u.normalized,h=u.itemSize,c=b.get(u);if(void 0===c)continue;var p=c.buffer,g=c.type,y=c.bytesPerElement;if(u.isInterleavedBufferAttribute){var x=u.data,w=x.stride,_=u.offset;x&&x.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=x.meshPerAttribute*x.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,w*y,_*y)}else u.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,0,0)}else if(void 0!==a){var M=a[o];if(void 0!==M)switch(M.length){case 2:d.vertexAttrib2fv(s,M);break;case 3:d.vertexAttrib3fv(s,M);break;case 4:d.vertexAttrib4fv(s,M);break;default:d.vertexAttrib1fv(s,M)}}}}v.disableUnusedAttributes()}}(r,s,i),null!==h&&d.bindBuffer(34963,l.buffer));var y=1/0;null!==h?y=h.count:void 0!==c&&(y=c.count);var x=i.drawRange.start*p,_=i.drawRange.count*p,M=null!==a?a.start*p:0,S=null!==a?a.count*p:1/0,A=Math.max(x,M),T=Math.min(y,x+_,M+S)-1,E=Math.max(0,T-A+1);if(0!==E){if(n.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*lt()),g.setMode(1);else switch(n.drawMode){case 0:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(n.isLine){var I=r.linewidth;void 0===I&&(I=1),v.setLineWidth(I*lt()),n.isLineSegments?g.setMode(1):n.isLineLoop?g.setMode(2):g.setMode(3)}else n.isPoints?g.setMode(0):n.isSprite&&g.setMode(4);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,A,E):g.render(A,E)}},this.compile=function(t,e){(p=A.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var i=0;i<e.material.length;i++)St(e.material[i],t.fog,e);else St(e.material,t.fog,e)}))};var xt=null,bt=new Qt;function wt(t,e,i,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||et.intersectsSprite(t)){r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at);var n=_.update(t);(a=t.material).visible&&c.push(t,n,a,i,ot.z,null)}}else if(t.isImmediateRenderObject)r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at),c.push(t,null,t.material,i,ot.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||et.intersectsObject(t))){r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at),n=_.update(t);var a=t.material;if(Array.isArray(a))for(var o=n.groups,s=0,u=o.length;s<u;s++){var l=o[s],h=a[l.materialIndex];h&&h.visible&&c.push(t,n,h,i,ot.z,l)}else a.visible&&c.push(t,n,a,i,ot.z,null)}var d=t.children;for(s=0,u=d.length;s<u;s++)wt(d[s],e,i,r)}}function _t(t,e,i,r){for(var n=0,a=t.length;n<a;n++){var o=t[n],s=o.object,u=o.geometry,l=void 0===r?o.material:r,h=o.group;if(i.isArrayCamera){j=i;for(var c=i.cameras,d=0,f=c.length;d<f;d++){var m=c[d];s.layers.test(m.layers)&&(v.viewport(X.copy(m.viewport)),p.setupLights(m),Mt(s,e,m,u,l,h))}}else j=null,Mt(s,e,i,u,l,h)}}function Mt(t,e,i,r,n,a){if(t.onBeforeRender(I,e,i,r,n,a),p=A.get(e,j||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){v.setMaterial(n);var o=At(i,e.fog,n,t);W.geometry=null,W.program=null,W.wireframe=!1,function(t,e){t.render((function(t){I.renderBufferImmediate(t,e)}))}(t,o)}else I.renderBufferDirect(i,e.fog,r,n,t,a);t.onAfterRender(I,e,i,r,n,a),p=A.get(e,j||i)}function St(t,e,i){var r=y.get(t),n=p.state.lights,a=p.state.shadowsArray,o=r.lightsHash,s=n.state.hash,u=M.getParameters(t,n.state,a,e,it.numPlanes,it.numIntersection,i),l=M.getProgramCode(t,u),h=r.program,c=!0;if(void 0===h)t.addEventListener("dispose",gt);else if(h.code!==l)yt(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,c=!1;else{if(void 0!==u.shaderID)return;c=!1}if(c){if(u.shaderID){var d=Zt[u.shaderID];r.shader={name:t.type,uniforms:kt(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,I),l=M.getProgramCode(t,u),h=M.acquireProgram(t,r.shader,u,l),r.program=h,t.program=h}var f=h.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<I.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,m=0;m<I.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++;var v=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=it.numPlanes,r.numIntersection=it.numIntersection,v.clippingPlanes=it.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(v.ambientLightColor.value=n.state.ambient,v.lightProbe.value=n.state.probe,v.directionalLights.value=n.state.directional,v.spotLights.value=n.state.spot,v.rectAreaLights.value=n.state.rectArea,v.pointLights.value=n.state.point,v.hemisphereLights.value=n.state.hemi,v.directionalShadowMap.value=n.state.directionalShadowMap,v.directionalShadowBias.value=n.state.directionalShadowBias,v.directionalShadowMatrix.value=n.state.directionalShadowMatrix,v.spotShadowMap.value=n.state.spotShadowMap,v.spotShadowMatrix.value=n.state.spotShadowMatrix,v.pointShadowMap.value=n.state.pointShadowMap,v.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),x=rr.seqWithValue(g.seq,v);r.uniformsList=x}function At(t,e,i,r){x.resetTextureUnits();var n=y.get(i),a=p.state.lights,o=n.lightsHash,s=a.state.hash;if(rt&&(nt||t!==H)){var u=t===H&&i.id===G;it.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,n,u)}!1===i.needsUpdate&&(void 0===n.program||i.fog&&n.fog!==e?i.needsUpdate=!0:(!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===it.numPlanes&&n.numIntersection===it.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(St(i,e,r),i.needsUpdate=!1);var l,h,c=!1,f=!1,g=!1,b=n.program,w=b.getUniforms(),_=n.shader.uniforms;if(v.useProgram(b.program)&&(c=!0,f=!0,g=!0),i.id!==G&&(G=i.id,f=!0),c||H!==t){if(w.setValue(d,"projectionMatrix",t.projectionMatrix),m.logarithmicDepthBuffer&&w.setValue(d,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),H!==t&&(H=t,f=!0,g=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var M=w.map.cameraPosition;void 0!==M&&M.setValue(d,ot.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&w.setValue(d,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){w.setOptional(d,r,"bindMatrix"),w.setOptional(d,r,"bindMatrixInverse");var S=r.skeleton;if(S){var A=S.bones;if(m.floatVertexTextures){if(void 0===S.boneTexture){var T=Math.sqrt(4*A.length);T=st.ceilPowerOfTwo(T),T=Math.max(T,4);var L=new Float32Array(T*T*4);L.set(S.boneMatrices);var P=new Bt(L,T,T,V,F);P.needsUpdate=!0,S.boneMatrices=L,S.boneTexture=P,S.boneTextureSize=T}w.setValue(d,"boneTexture",S.boneTexture,x),w.setValue(d,"boneTextureSize",S.boneTextureSize)}else w.setOptional(d,S,"boneMatrices")}}return f&&(w.setValue(d,"toneMappingExposure",I.toneMappingExposure),w.setValue(d,"toneMappingWhitePoint",I.toneMappingWhitePoint),i.lights&&(h=g,(l=_).ambientLightColor.needsUpdate=h,l.lightProbe.needsUpdate=h,l.directionalLights.needsUpdate=h,l.pointLights.needsUpdate=h,l.spotLights.needsUpdate=h,l.rectAreaLights.needsUpdate=h,l.hemisphereLights.needsUpdate=h),e&&i.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(_,e),i.isMeshBasicMaterial?Tt(_,i):i.isMeshLambertMaterial?(Tt(_,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(_,i)):i.isMeshPhongMaterial?(Tt(_,i),i.isMeshToonMaterial?function(t,e){Lt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(_,i):Lt(_,i)):i.isMeshStandardMaterial?(Tt(_,i),i.isMeshPhysicalMaterial?function(t,e){Pt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(_,i):Pt(_,i)):i.isMeshMatcapMaterial?(Tt(_,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDepthMaterial?(Tt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDistanceMaterial?(Tt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(_,i)):i.isMeshNormalMaterial?(Tt(_,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(_,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(_,i)):i.isPointsMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Q,t.scale.value=.5*Z,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isShadowMaterial&&(_.color.value.copy(i.color),_.opacity.value=i.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=Jt.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=Jt.LTC_2),rr.upload(d,n.uniformsList,_,x)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(rr.upload(d,n.uniformsList,_,x),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&w.setValue(d,"center",r.center),w.setValue(d,"modelViewMatrix",r.modelViewMatrix),w.setValue(d,"normalMatrix",r.normalMatrix),w.setValue(d,"modelMatrix",r.matrixWorld),b}function Tt(t,e){var i;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=y.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function Lt(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Pt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}bt.setAnimationLoop((function(t){dt.isPresenting()||xt&&xt(t)})),"undefined"!=typeof window&&bt.setContext(window),this.setAnimationLoop=function(t){xt=t,dt.setAnimationLoop(t),bt.start()},this.render=function(t,e){var i,r;if(void 0!==arguments[2]&&(i=arguments[2]),void 0!==arguments[3]&&(r=arguments[3]),e&&e.isCamera&&!D){W.geometry=null,W.program=null,W.wireframe=!1,G=-1,H=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),dt.enabled&&(e=dt.getCamera(e)),(p=A.get(t,e)).init(),t.onBeforeRender(I,t,e,i||R),at.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),et.setFromMatrix(at),nt=this.localClippingEnabled,rt=it.init(this.clippingPlanes,nt,e),(c=S.get(t,e)).init(),wt(t,e,0,I.sortObjects),!0===I.sortObjects&&c.sort(),rt&&it.beginShadows();var n=p.state.shadowsArray;ft.render(n,t,e),p.setupLights(e),rt&&it.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),T.render(c,t,e,r);var a=c.opaque,o=c.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&_t(a,t,e,s),o.length&&_t(o,t,e,s)}else a.length&&_t(a,t,e),o.length&&_t(o,t,e);t.onAfterRender(I,t,e),null!==R&&(x.updateRenderTargetMipmap(R),x.updateMultisampleRenderTarget(R)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),dt.enabled&&dt.submitFrame(),c=null,p=null}},this.setFramebuffer=function(t){B!==t&&d.bindFramebuffer(36160,t),B=t},this.getActiveCubeFace=function(){return O},this.getActiveMipMapLevel=function(){return N},this.getRenderTarget=function(){return R},this.setRenderTarget=function(t,e,i){R=t,O=e,N=i,t&&void 0===y.get(t).__webglFramebuffer&&x.setupRenderTarget(t);var r=B,n=!1;if(t){var a=y.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=a[e||0],n=!0):r=t.isWebGLMultisampleRenderTarget?y.get(t).__webglMultisampledFramebuffer:a,X.copy(t.viewport),q.copy(t.scissor),Y=t.scissorTest}else X.copy(K).multiplyScalar(Q),q.copy($).multiplyScalar(Q),Y=tt;if(k!==r&&(d.bindFramebuffer(36160,r),k=r),v.viewport(X),v.scissor(q),v.setScissorTest(Y),n){var o=y.get(t.texture);d.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(t,e,i,r,n,a,o){if(t&&t.isWebGLRenderTarget){var s=y.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var u=!1;s!==k&&(d.bindFramebuffer(36160,s),u=!0);try{var l=t.texture,h=l.format,c=l.type;if(h!==V&&E.convert(h)!==d.getParameter(35739))return;if(!(c===z||E.convert(c)===d.getParameter(35738)||c===F&&(m.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float"))||c===U&&(m.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return;36053===d.checkFramebufferStatus(36160)&&e>=0&&e<=t.width-r&&i>=0&&i<=t.height-n&&d.readPixels(e,i,r,n,E.convert(h),E.convert(c),a)}finally{u&&d.bindFramebuffer(36160,k)}}}},this.copyFramebufferToTexture=function(t,e,i){var r=e.image.width,n=e.image.height,a=E.convert(e.format);x.setTexture2D(e,0),d.copyTexImage2D(3553,i||0,a,t.x,t.y,r,n,0)},this.copyTextureToTexture=function(t,e,i,r){var n=e.image.width,a=e.image.height,o=E.convert(i.format),s=E.convert(i.type);x.setTexture2D(i,0),e.isDataTexture?d.texSubImage2D(3553,r||0,t.x,t.y,n,a,o,s,e.image.data):d.texSubImage2D(3553,r||0,t.x,t.y,o,s,e.image)}}function Yr(t,e){this.name="",this.color=new qt(t),this.density=void 0!==e?e:25e-5}function Jr(t,e,i){this.name="",this.color=new qt(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Zr(){ue.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Qr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Kr(t,e,i,r){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===r}function $r(t){He.call(this),this.type="SpriteMaterial",this.color=new qt(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function tn(t){if(ue.call(this),this.type="Sprite",void 0===Nr){Nr=new Te;var e=new Qr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Nr.setIndex([0,1,2,0,2,3]),Nr.addAttribute("position",new Kr(e,3,0,!1)),Nr.addAttribute("uv",new Kr(e,2,3,!1))}this.geometry=Nr,this.material=void 0!==t?t:new $r,this.center=new ut(.5,.5)}function en(){ue.call(this),this.type="LOD",(0,d.default)(this,{levels:{enumerable:!0,value:[]}})}function rn(t,e){t&&t.isGeometry,Je.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ft,this.bindMatrixInverse=new Ft}function nn(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ft)}}function an(){ue.call(this),this.type="Bone"}function on(t){He.call(this),this.type="LineBasicMaterial",this.color=new qt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function sn(t,e,i){ue.call(this),this.type="Line",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new on({color:16777215*Math.random()})}function un(t,e){sn.call(this,t,e),this.type="LineSegments"}function ln(t,e){sn.call(this,t,e),this.type="LineLoop"}function hn(t){He.call(this),this.type="PointsMaterial",this.color=new qt(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function cn(t,e){ue.call(this),this.type="Points",this.geometry=void 0!==t?t:new Te,this.material=void 0!==e?e:new hn({color:16777215*Math.random()})}function pn(t,e,i,r,n,a,o,s,u){Pt.call(this,t,e,i,r,n,a,o,s,u),this.format=void 0!==o?o:G,this.minFilter=void 0!==a?a:D,this.magFilter=void 0!==n?n:D,this.generateMipmaps=!1}function dn(t,e,i,r,n,a,o,s,u,l,h,c){Pt.call(this,null,a,o,s,u,l,r,n,h,c),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function fn(t,e,i,r,n,a,o,s,u){Pt.call(this,t,e,i,r,n,a,o,s,u),this.needsUpdate=!0}function mn(t,e,i,r,n,a,o,s,u,l){if((l=void 0!==l?l:W)!==W&&l!==H)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===W&&(i=N),void 0===i&&l===H&&(i=k),Pt.call(this,null,r,n,a,o,s,l,i,u),this.image={width:t,height:e},this.magFilter=void 0!==o?o:C,this.minFilter=void 0!==s?s:C,this.flipY=!1,this.generateMipmaps=!1}function vn(t){Te.call(this),this.type="WireframeGeometry";var e,i,r,n,a,o,s,u,l,h,c=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var v=m[e];for(i=0;i<3;i++)s=v[f[i]],u=v[f[(i+1)%3]],p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]})}for(l in d)o=d[l],h=t.vertices[o.index1],c.push(h.x,h.y,h.z),h=t.vertices[o.index2],c.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var g,y,x,b,w,_,M;if(h=new ht,null!==t.index){for(g=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),n=0,a=x.length;n<a;++n)for(e=w=(b=x[n]).start,r=w+b.count;e<r;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),u=y.getX(e+(i+1)%3),p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]});for(l in d)o=d[l],h.fromBufferAttribute(g,o.index1),c.push(h.x,h.y,h.z),h.fromBufferAttribute(g,o.index2),c.push(h.x,h.y,h.z)}else for(e=0,r=(g=t.attributes.position).count/3;e<r;e++)for(i=0;i<3;i++)_=3*e+i,h.fromBufferAttribute(g,_),c.push(h.x,h.y,h.z),M=3*e+(i+1)%3,h.fromBufferAttribute(g,M),c.push(h.x,h.y,h.z)}this.addAttribute("position",new we(c,3))}function gn(t,e,i){pe.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new yn(t,e,i)),this.mergeVertices()}function yn(t,e,i){Te.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var r,n,a=[],o=[],s=[],u=[],l=1e-5,h=new ht,c=new ht,p=new ht,d=new ht,f=new ht;t.length;var m=e+1;for(r=0;r<=i;r++){var v=r/i;for(n=0;n<=e;n++){var g=n/e;t(g,v,c),o.push(c.x,c.y,c.z),g-l>=0?(t(g-l,v,p),d.subVectors(c,p)):(t(g+l,v,p),d.subVectors(p,c)),v-l>=0?(t(g,v-l,p),f.subVectors(c,p)):(t(g,v+l,p),f.subVectors(p,c)),h.crossVectors(d,f).normalize(),s.push(h.x,h.y,h.z),u.push(g,v)}}for(r=0;r<i;r++)for(n=0;n<e;n++){var y=r*m+n,x=r*m+n+1,b=(r+1)*m+n+1,w=(r+1)*m+n;a.push(y,x,w),a.push(x,b,w)}this.setIndex(a),this.addAttribute("position",new we(o,3)),this.addAttribute("normal",new we(s,3)),this.addAttribute("uv",new we(u,2))}function xn(t,e,i,r){pe.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},this.fromBufferGeometry(new bn(t,e,i,r)),this.mergeVertices()}function bn(t,e,i,r){Te.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1;var n=[],a=[];function o(t,e,i,r){var n,a,o=Math.pow(2,r),u=[];for(n=0;n<=o;n++){u[n]=[];var l=t.clone().lerp(i,n/o),h=e.clone().lerp(i,n/o),c=o-n;for(a=0;a<=c;a++)u[n][a]=0===a&&n===o?l:l.clone().lerp(h,a/c)}for(n=0;n<o;n++)for(a=0;a<2*(o-n)-1;a++){var p=Math.floor(a/2);a%2==0?(s(u[n][p+1]),s(u[n+1][p]),s(u[n][p])):(s(u[n][p+1]),s(u[n+1][p+1]),s(u[n+1][p]))}}function s(t){n.push(t.x,t.y,t.z)}function u(e,i){var r=3*e;i.x=t[r+0],i.y=t[r+1],i.z=t[r+2]}function l(t,e,i,r){r<0&&1===t.x&&(a[e]=t.x-1),0===i.x&&0===i.z&&(a[e]=r/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}function c(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!function(t){for(var i=new ht,r=new ht,n=new ht,a=0;a<e.length;a+=3)u(e[a+0],i),u(e[a+1],r),u(e[a+2],n),o(i,r,n,t)}(r=r||0),function(t){for(var e=new ht,i=0;i<n.length;i+=3)e.x=n[i+0],e.y=n[i+1],e.z=n[i+2],e.normalize().multiplyScalar(t),n[i+0]=e.x,n[i+1]=e.y,n[i+2]=e.z}(i),function(){for(var t=new ht,e=0;e<n.length;e+=3){t.x=n[e+0],t.y=n[e+1],t.z=n[e+2];var i=h(t)/2/Math.PI+.5,r=c(t)/Math.PI+.5;a.push(i,1-r)}(function(){for(var t=new ht,e=new ht,i=new ht,r=new ht,o=new ut,s=new ut,u=new ut,c=0,p=0;c<n.length;c+=9,p+=6){t.set(n[c+0],n[c+1],n[c+2]),e.set(n[c+3],n[c+4],n[c+5]),i.set(n[c+6],n[c+7],n[c+8]),o.set(a[p+0],a[p+1]),s.set(a[p+2],a[p+3]),u.set(a[p+4],a[p+5]),r.copy(t).add(e).add(i).divideScalar(3);var d=h(r);l(o,p+0,t,d),l(s,p+2,e,d),l(u,p+4,i,d)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],i=a[t+2],r=a[t+4],n=Math.max(e,i,r),o=Math.min(e,i,r);n>.9&&o<.1&&(e<.2&&(a[t+0]+=1),i<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute("position",new we(n,3)),this.addAttribute("normal",new we(n.slice(),3)),this.addAttribute("uv",new we(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function wn(t,e){pe.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new _n(t,e)),this.mergeVertices()}function _n(t,e){bn.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Mn(t,e){pe.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Sn(t,e)),this.mergeVertices()}function Sn(t,e){bn.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function An(t,e){pe.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Tn(t,e)),this.mergeVertices()}function Tn(t,e){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];bn.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ln(t,e){pe.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Pn(t,e)),this.mergeVertices()}function Pn(t,e){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];bn.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Cn(t,e,i,r,n,a){pe.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n};var o=new En(t,e,i,r,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function En(t,e,i,r,n){Te.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n},e=e||64,i=i||1,r=r||8,n=n||!1;var a=t.computeFrenetFrames(e,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new ht,l=new ht,h=new ut,c=new ht,p=[],d=[],f=[],m=[];function v(n){c=t.getPointAt(n/e,c);var o=a.normals[n],h=a.binormals[n];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*o.x+m*h.x,l.y=v*o.y+m*h.y,l.z=v*o.z+m*h.z,l.normalize(),d.push(l.x,l.y,l.z),u.x=c.x+i*l.x,u.y=c.y+i*l.y,u.z=c.z+i*l.z,p.push(u.x,u.y,u.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===n?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)h.x=o/e,h.y=s/r,f.push(h.x,h.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),i=(r+1)*s+(o-1),n=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,i,a),m.push(i,n,a)}}()}(),this.setIndex(m),this.addAttribute("position",new we(p,3)),this.addAttribute("normal",new we(d,3)),this.addAttribute("uv",new we(f,2))}function In(t,e,i,r,n,a,o){pe.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},this.fromBufferGeometry(new Dn(t,e,i,r,n,a)),this.mergeVertices()}function Dn(t,e,i,r,n,a){Te.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},t=t||1,e=e||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,a=a||3;var o,s,u=[],l=[],h=[],c=[],p=new ht,d=new ht,f=new ht,m=new ht,v=new ht,g=new ht,y=new ht;for(o=0;o<=i;++o){var x=o/i*n*Math.PI*2;for(L(x,n,a,t,f),L(x+.01,n,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,w=-e*Math.cos(b),_=e*Math.sin(b);p.x=f.x+(w*y.x+_*v.x),p.y=f.y+(w*y.y+_*v.y),p.z=f.z+(w*y.z+_*v.z),l.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),h.push(d.x,d.y,d.z),c.push(o/i),c.push(s/r)}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),S=(r+1)*s+(o-1),A=(r+1)*s+o,T=(r+1)*(s-1)+o;u.push(M,S,T),u.push(S,A,T)}function L(t,e,i,r,n){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,u=Math.cos(s);n.x=r*(2+u)*.5*a,n.y=r*(2+u)*o*.5,n.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new we(l,3)),this.addAttribute("normal",new we(h,3)),this.addAttribute("uv",new we(c,2))}function Bn(t,e,i,r,n){pe.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new On(t,e,i,r,n)),this.mergeVertices()}function On(t,e,i,r,n){Te.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},t=t||1,e=e||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var a,o,s=[],u=[],l=[],h=[],c=new ht,p=new ht,d=new ht;for(a=0;a<=i;a++)for(o=0;o<=r;o++){var f=o/r*n,m=a/i*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),u.push(p.x,p.y,p.z),c.x=t*Math.cos(f),c.y=t*Math.sin(f),d.subVectors(p,c).normalize(),l.push(d.x,d.y,d.z),h.push(o/r),h.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,x=(r+1)*a+o;s.push(v,g,x),s.push(g,y,x)}this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("normal",new we(l,3)),this.addAttribute("uv",new we(h,2))}(0,f.default)(Yr.prototype,{isFogExp2:!0,clone:function(){return new Yr(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),(0,f.default)(Jr.prototype,{isFog:!0,clone:function(){return new Jr(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Zr.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Zr,isScene:!0,copy:function(t,e){return ue.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Qr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Qr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var r=0,n=this.stride;r<n;r++)this.array[t+r]=e.array[i+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),(0,d.default)(Kr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),(0,f.default)(Kr.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=n,this}}),$r.prototype=(0,p.default)(He.prototype),$r.prototype.constructor=$r,$r.prototype.isSpriteMaterial=!0,$r.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},tn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:tn,isSprite:!0,raycast:function(){var t=new ht,e=new ht,i=new ht,r=new ut,n=new ut,a=new Ft,o=new ht,s=new ht,u=new ht,l=new ut,h=new ut,c=new ut;function p(t,e,i,o,s,u){r.subVectors(t,i).addScalar(.5).multiply(o),void 0!==s?(n.x=u*r.x-s*r.y,n.y=s*r.x+u*r.y):n.copy(r),t.copy(e),t.x+=n.x,t.y+=n.y,t.applyMatrix4(a)}return function(r,n){e.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var d,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),d=Math.sin(m));var v=this.center;p(o.set(-.5,-.5,0),i,v,e,d,f),p(s.set(.5,-.5,0),i,v,e,d,f),p(u.set(.5,.5,0),i,v,e,d,f),l.set(0,0),h.set(1,0),c.set(1,1);var g=r.ray.intersectTriangle(o,s,u,!1,t);if(null!==g||(p(s.set(-.5,.5,0),i,v,e,d,f),h.set(0,1),null!==(g=r.ray.intersectTriangle(o,u,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||n.push({distance:y,point:t.clone(),uv:qe.getUV(t,o,s,u,l,h,c,new ut),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return ue.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),en.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:en,isLOD:!0,copy:function(t){ue.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var n=e[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,r=0;r<i.length&&!(e<i[r].distance);r++);return i.splice(r,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,i=1,r=e.length;i<r&&!(t<e[i].distance);i++);return e[i-1].object},raycast:(Rr=new ht,function(t,e){Rr.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(Rr);this.getObjectForDistance(i).raycast(t,e)}),update:function(){var t=new ht,e=new ht;return function(i){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var n=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&n>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),rn.prototype=(0,f.default)((0,p.default)(Je.prototype),{constructor:rn,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new Ct,e=this.geometry.attributes.skinWeight,i=0,r=e.count;i<r;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Je.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):this.bindMode},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(0,f.default)(nn.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new Ft;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Fr=new Ft,Ur=new Ft,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,a=t.length;n<a;n++){var o=t[n]?t[n].matrixWorld:Ur;Fr.multiplyMatrices(o,e[n]),Fr.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new nn(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var r=this.bones[e];if(r.name===t)return r}}}),an.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:an,isBone:!0}),on.prototype=(0,p.default)(He.prototype),on.prototype.constructor=on,on.prototype.isLineBasicMaterial=!0,on.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},sn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:sn,isLine:!0,computeLineDistances:(kr=new ht,Gr=new ht,function(){var t=this.geometry;if(t.isBufferGeometry){if(null===t.index){for(var e=t.attributes.position,i=[0],r=1,n=e.count;r<n;r++)kr.fromBufferAttribute(e,r-1),Gr.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=kr.distanceTo(Gr);t.addAttribute("lineDistance",new we(i,1))}}else if(t.isGeometry){var a=t.vertices;for((i=t.lineDistances)[0]=0,r=1,n=a.length;r<n;r++)i[r]=i[r-1],i[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var t=new Ft,e=new Xe,i=new zt;return function(r,n){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=a,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,h=new ht,c=new ht,p=new ht,d=new ht,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,x=g.length-1;y<x;y+=f){var b=g[y],w=g[y+1];h.fromArray(v,3*b),c.fromArray(v,3*w),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,x=v.length/3-1;y<x;y+=f)h.fromArray(v,3*y),c.fromArray(v,3*y+3),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var _=o.vertices,M=_.length;for(y=0;y<M-1;y+=f){var S;e.distanceSqToSegment(_[y],_[y+1],d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),un.prototype=(0,f.default)((0,p.default)(sn.prototype),{constructor:un,isLineSegments:!0,computeLineDistances:function(){var t=new ht,e=new ht;return function(){var i=this.geometry;if(i.isBufferGeometry){if(null===i.index){for(var r=i.attributes.position,n=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e);i.addAttribute("lineDistance",new we(n,1))}}else if(i.isGeometry){var s=i.vertices;for(n=i.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e)}return this}}()}),ln.prototype=(0,f.default)((0,p.default)(sn.prototype),{constructor:ln,isLineLoop:!0}),hn.prototype=(0,p.default)(He.prototype),hn.prototype.constructor=hn,hn.prototype.isPointsMaterial=!0,hn.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},cn.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:cn,isPoints:!0,raycast:function(){var t=new Ft,e=new Xe,i=new zt;return function(r,n){var a=this,o=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=u,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=u/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,c=new ht,p=new ht;if(o.isBufferGeometry){var d=o.index,f=o.attributes.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];c.fromArray(f,3*y),w(c,y)}else{v=0;for(var x=f.length/3;v<x;v++)c.fromArray(f,3*v),w(c,v)}}else{var b=o.vertices;for(v=0,x=b.length;v<x;v++)w(b[v],v)}}function w(t,i){var o=e.distanceSqToPoint(t);if(o<h){e.closestPointToPoint(t,p),p.applyMatrix4(s);var u=r.ray.origin.distanceTo(p);if(u<r.near||u>r.far)return;n.push({distance:u,distanceToRay:Math.sqrt(o),point:p.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),pn.prototype=(0,f.default)((0,p.default)(Pt.prototype),{constructor:pn,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),dn.prototype=(0,p.default)(Pt.prototype),dn.prototype.constructor=dn,dn.prototype.isCompressedTexture=!0,fn.prototype=(0,p.default)(Pt.prototype),fn.prototype.constructor=fn,fn.prototype.isCanvasTexture=!0,mn.prototype=(0,p.default)(Pt.prototype),mn.prototype.constructor=mn,mn.prototype.isDepthTexture=!0,vn.prototype=(0,p.default)(Te.prototype),vn.prototype.constructor=vn,gn.prototype=(0,p.default)(pe.prototype),gn.prototype.constructor=gn,yn.prototype=(0,p.default)(Te.prototype),yn.prototype.constructor=yn,xn.prototype=(0,p.default)(pe.prototype),xn.prototype.constructor=xn,bn.prototype=(0,p.default)(Te.prototype),bn.prototype.constructor=bn,wn.prototype=(0,p.default)(pe.prototype),wn.prototype.constructor=wn,_n.prototype=(0,p.default)(bn.prototype),_n.prototype.constructor=_n,Mn.prototype=(0,p.default)(pe.prototype),Mn.prototype.constructor=Mn,Sn.prototype=(0,p.default)(bn.prototype),Sn.prototype.constructor=Sn,An.prototype=(0,p.default)(pe.prototype),An.prototype.constructor=An,Tn.prototype=(0,p.default)(bn.prototype),Tn.prototype.constructor=Tn,Ln.prototype=(0,p.default)(pe.prototype),Ln.prototype.constructor=Ln,Pn.prototype=(0,p.default)(bn.prototype),Pn.prototype.constructor=Pn,Cn.prototype=(0,p.default)(pe.prototype),Cn.prototype.constructor=Cn,En.prototype=(0,p.default)(Te.prototype),En.prototype.constructor=En,En.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},In.prototype=(0,p.default)(pe.prototype),In.prototype.constructor=In,Dn.prototype=(0,p.default)(Te.prototype),Dn.prototype.constructor=Dn,Bn.prototype=(0,p.default)(pe.prototype),Bn.prototype.constructor=Bn,On.prototype=(0,p.default)(Te.prototype),On.prototype.constructor=On;var zn=function(t,e,i){i=i||2;var r,n,a,o,s,u,l,h=e&&e.length,c=h?e[0]*i:t.length,p=Nn(t,0,c,i,!0),d=[];if(!p)return d;if(h&&(p=function(t,e,i,r){var n,a,o,s=[];for(n=0,a=e.length;n<a;n++)(o=Nn(t,e[n]*r,n<a-1?e[n+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(Xn(o));for(s.sort(Wn),n=0;n<s.length;n++)Hn(s[n],i),i=Rn(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=a=t[0],n=o=t[1];for(var f=i;f<c;f+=i)(s=t[f])<r&&(r=s),(u=t[f+1])<n&&(n=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-n))?1/l:0}return Fn(p,d,i,r,n,l),d};function Nn(t,e,i,r,n){var a,o;if(n===function(t,e,i,r){for(var n=0,a=e,o=i-r;a<i;a+=r)n+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return n}(t,e,i,r)>0)for(a=e;a<i;a+=r)o=ta(a,t[a],t[a+1],o);else for(a=i-r;a>=e;a-=r)o=ta(a,t[a],t[a+1],o);return o&&Zn(o,o.next)&&(ea(o),o=o.next),o}function Rn(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!Zn(r,r.next)&&0!==Jn(r.prev,r,r.next))r=r.next;else{if(ea(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function Fn(t,e,i,r,n,a,o){if(t){!o&&a&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=jn(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,a,o,s,u,l=1;do{for(i=t,t=null,a=null,o=0;i;){for(o++,r=i,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,u--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;i=r}a.nextZ=null,l*=2}while(o>1)}(n)}(t,r,n,a);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,a?kn(t,r,n,a):Un(t))e.push(s.i/i),e.push(t.i/i),e.push(u.i/i),ea(t),t=u.next,l=u.next;else if((t=u)===l){o?1===o?Fn(t=Gn(t,e,i),e,i,r,n,a,2):2===o&&Vn(t,e,i,r,n,a):Fn(Rn(t),e,i,r,n,a,1);break}}}function Un(t){var e=t.prev,i=t,r=t.next;if(Jn(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(qn(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Jn(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function kn(t,e,i,r){var n=t.prev,a=t,o=t.next;if(Jn(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,u=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,l=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,h=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,c=jn(s,u,e,i,r),p=jn(l,h,e,i,r),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&qn(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Jn(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&qn(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Jn(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Gn(t,e,i){var r=t;do{var n=r.prev,a=r.next.next;!Zn(n,a)&&Qn(n,r,r.next,a)&&Kn(n,a)&&Kn(a,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(a.i/i),ea(r),ea(r.next),r=t=a),r=r.next}while(r!==t);return r}function Vn(t,e,i,r,n,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Yn(o,s)){var u=$n(o,s);return o=Rn(o,o.next),u=Rn(u,u.next),Fn(o,e,i,r,n,a),void Fn(u,e,i,r,n,a)}s=s.next}o=o.next}while(o!==t)}function Wn(t,e){return t.x-e.x}function Hn(t,e){if(e=function(t,e){var i,r=e,n=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i.prev;var u,l=i,h=i.x,c=i.y,p=1/0;for(r=i.next;r!==l;)n>=r.x&&r.x>=h&&n!==r.x&&qn(a<c?n:o,a,h,c,a<c?o:n,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(n-r.x))<p||u===p&&r.x>i.x)&&Kn(r,t)&&(i=r,p=u),r=r.next;return i}(t,e),e){var i=$n(e,t);Rn(i,i.next)}}function jn(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Xn(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function qn(t,e,i,r,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function Yn(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Qn(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&Kn(t,e)&&Kn(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function Jn(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Zn(t,e){return t.x===e.x&&t.y===e.y}function Qn(t,e,i,r){return!!(Zn(t,e)&&Zn(i,r)||Zn(t,r)&&Zn(i,e))||Jn(t,e,i)>0!=Jn(t,e,r)>0&&Jn(i,r,t)>0!=Jn(i,r,e)>0}function Kn(t,e){return Jn(t.prev,t,t.next)<0?Jn(t,e,t.next)>=0&&Jn(t,t.prev,e)>=0:Jn(t,e,t.prev)<0||Jn(t,t.next,e)<0}function $n(t,e){var i=new ia(t.i,t.x,t.y),r=new ia(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function ta(t,e,i,r){var n=new ia(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function ea(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ia(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ra={area:function(t){for(var e=t.length,i=0,r=e-1,n=0;n<e;r=n++)i+=t[r].x*t[n].y-t[n].x*t[r].y;return.5*i},isClockWise:function(t){return ra.area(t)<0},triangulateShape:function(t,e){var i=[],r=[],n=[];na(t),aa(i,t);var a=t.length;e.forEach(na);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,aa(i,e[o]);var s=zn(i,r);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function na(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function aa(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function oa(t,e){pe.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new sa(t,e)),this.mergeVertices()}function sa(t,e){Te.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var i=this,r=[],n=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,c=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,v=void 0!==e.UVGenerator?e.UVGenerator:ua;void 0!==e.amount&&(u=e.amount);var y,x,b,w,_,M,S,A,T=!1;f&&(y=f.getSpacedPoints(s),T=!0,l=!1,x=f.computeFrenetFrames(s,!1),b=new ht,w=new ht,_=new ht),l||(d=0,h=0,c=0,p=0);var L=t.extractPoints(o),P=L.shape,C=L.holes;if(!ra.isClockWise(P))for(P=P.reverse(),S=0,A=C.length;S<A;S++)M=C[S],ra.isClockWise(M)&&(C[S]=M.reverse());var E=ra.triangulateShape(P,C),I=P;for(S=0,A=C.length;S<A;S++)M=C[S],P=P.concat(M);function D(t,e,i){return e.clone().multiplyScalar(i).add(t)}var B,O,z,N,R,F,U=P.length,k=E.length;function G(t,e,i){var r,n,a,o=t.x-e.x,s=t.y-e.y,u=i.x-t.x,l=i.y-t.y,h=o*o+s*s,c=o*l-s*u;if(Math.abs(c)>g.default){var p=Math.sqrt(h),d=Math.sqrt(u*u+l*l),f=e.x-s/p,v=e.y+o/p,y=((i.x-l/d-f)*l-(i.y+u/d-v)*u)/(o*l-s*u),x=(r=f+o*y-t.x)*r+(n=v+s*y-t.y)*n;if(x<=2)return new ut(r,n);a=Math.sqrt(x/2)}else{var b=!1;o>g.default?u>g.default&&(b=!0):o<-g.default?u<-g.default&&(b=!0):(0,m.default)(s)===(0,m.default)(l)&&(b=!0),b?(r=-s,n=o,a=Math.sqrt(h)):(r=o,n=s,a=Math.sqrt(h/2))}return new ut(r/a,n/a)}for(var V=[],W=0,H=I.length,j=H-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),V[W]=G(I[W],I[j],I[X]);var q,Y,J=[],Z=V.concat();for(S=0,A=C.length;S<A;S++){for(M=C[S],q=[],W=0,j=(H=M.length)-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),q[W]=G(M[W],M[j],M[X]);J.push(q),Z=Z.concat(q)}for(B=0;B<d;B++){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,-N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)K((R=D(M[W],q[W],O)).x,R.y,-N)}for(O=c+p,W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[0]).multiplyScalar(R.x),b.copy(x.binormals[0]).multiplyScalar(R.y),_.copy(y[0]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,0);for(Y=1;Y<=s;Y++)for(W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[Y]).multiplyScalar(R.x),b.copy(x.binormals[Y]).multiplyScalar(R.y),_.copy(y[Y]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,u/s*Y);for(B=d-1;B>=0;B--){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,u+N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)R=D(M[W],q[W],O),T?K(R.x,R.y+y[s-1].y,y[s-1].x+N):K(R.x,R.y,u+N)}function Q(t,e){var i,r;for(W=t.length;--W>=0;){i=W,(r=W-1)<0&&(r=t.length-1);var n=0,a=s+2*d;for(n=0;n<a;n++){var o=U*n,u=U*(n+1);tt(e+i+o,e+r+o,e+r+u,e+i+u)}}}function K(t,e,i){a.push(t),a.push(e),a.push(i)}function $(t,e,n){et(t),et(e),et(n);var a=r.length/3,o=v.generateTopUV(i,r,a-3,a-2,a-1);it(o[0]),it(o[1]),it(o[2])}function tt(t,e,n,a){et(t),et(e),et(a),et(e),et(n),et(a);var o=r.length/3,s=v.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);it(s[0]),it(s[1]),it(s[3]),it(s[1]),it(s[2]),it(s[3])}function et(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function it(t){n.push(t.x),n.push(t.y)}!function(){var t=r.length/3;if(l){var e=0,n=U*e;for(W=0;W<k;W++)$((F=E[W])[2]+n,F[1]+n,F[0]+n);for(n=U*(e=s+2*d),W=0;W<k;W++)$((F=E[W])[0]+n,F[1]+n,F[2]+n)}else{for(W=0;W<k;W++)$((F=E[W])[2],F[1],F[0]);for(W=0;W<k;W++)$((F=E[W])[0]+U*s,F[1]+U*s,F[2]+U*s)}i.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(Q(I,e),e+=I.length,S=0,A=C.length;S<A;S++)Q(M=C[S],e),e+=M.length;i.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new we(r,3)),this.addAttribute("uv",new we(n,2)),this.computeVertexNormals()}oa.prototype=(0,p.default)(pe.prototype),oa.prototype.constructor=oa,oa.prototype.toJSON=function(){var t=pe.prototype.toJSON.call(this);return la(this.parameters.shapes,this.parameters.options,t)},sa.prototype=(0,p.default)(Te.prototype),sa.prototype.constructor=sa,sa.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return la(this.parameters.shapes,this.parameters.options,t)};var ua={generateTopUV:function(t,e,i,r,n){var a=e[3*i],o=e[3*i+1],s=e[3*r],u=e[3*r+1],l=e[3*n],h=e[3*n+1];return[new ut(a,o),new ut(s,u),new ut(l,h)]},generateSideWallUV:function(t,e,i,r,n,a){var o=e[3*i],s=e[3*i+1],u=e[3*i+2],l=e[3*r],h=e[3*r+1],c=e[3*r+2],p=e[3*n],d=e[3*n+1],f=e[3*n+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-h)<.01?[new ut(o,1-u),new ut(l,1-c),new ut(p,1-f),new ut(m,1-g)]:[new ut(s,1-u),new ut(h,1-c),new ut(d,1-f),new ut(v,1-g)]}};function la(t,e,i){if(i.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var a=t[r];i.shapes.push(a.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}function ha(t,e){pe.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new ca(t,e)),this.mergeVertices()}function ca(t,e){var i=(e=e||{}).font;if(!i||!i.isFont)return new pe;var r=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),sa.call(this,r,e),this.type="TextBufferGeometry"}function pa(t,e,i,r,n,a,o){pe.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new da(t,e,i,r,n,a,o)),this.mergeVertices()}function da(t,e,i,r,n,a,o){Te.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),h=0,c=[],p=new ht,d=new ht,f=[],m=[],v=[],g=[];for(u=0;u<=i;u++){var y=[],x=u/i,b=0;for(0==u&&0==a?b=.5/e:u==i&&l==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var w=s/e;p.x=-t*Math.cos(r+w*n)*Math.sin(a+x*o),p.y=t*Math.cos(a+x*o),p.z=t*Math.sin(r+w*n)*Math.sin(a+x*o),m.push(p.x,p.y,p.z),d.copy(p).normalize(),v.push(d.x,d.y,d.z),g.push(w+b,1-x),y.push(h++)}c.push(y)}for(u=0;u<i;u++)for(s=0;s<e;s++){var _=c[u][s+1],M=c[u][s],S=c[u+1][s],A=c[u+1][s+1];(0!==u||a>0)&&f.push(_,M,A),(u!==i-1||l<Math.PI)&&f.push(M,S,A)}this.setIndex(f),this.addAttribute("position",new we(m,3)),this.addAttribute("normal",new we(v,3)),this.addAttribute("uv",new we(g,2))}function fa(t,e,i,r,n,a){pe.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},this.fromBufferGeometry(new ma(t,e,i,r,n,a)),this.mergeVertices()}function ma(t,e,i,r,n,a){Te.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},t=t||.5,e=e||1,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,u,l=[],h=[],c=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new ht,v=new ut;for(s=0;s<=r;s++){for(u=0;u<=i;u++)o=n+u/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),h.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,p.push(v.x,v.y);d+=f}for(s=0;s<r;s++){var g=s*(i+1);for(u=0;u<i;u++){var y=o=u+g,x=o+i+1,b=o+i+2,w=o+1;l.push(y,x,w),l.push(x,b,w)}}this.setIndex(l),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(c,3)),this.addAttribute("uv",new we(p,2))}function va(t,e,i,r){pe.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},this.fromBufferGeometry(new ga(t,e,i,r)),this.mergeVertices()}function ga(t,e,i,r){Te.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=st.clamp(r,0,2*Math.PI);var n,a,o,s=[],u=[],l=[],h=1/e,c=new ht,p=new ut;for(a=0;a<=e;a++){var d=i+a*h*r,f=Math.sin(d),m=Math.cos(d);for(o=0;o<=t.length-1;o++)c.x=t[o].x*f,c.y=t[o].y,c.z=t[o].x*m,u.push(c.x,c.y,c.z),p.x=a/e,p.y=o/(t.length-1),l.push(p.x,p.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=n=o+a*t.length,g=n+t.length,y=n+t.length+1,x=n+1;s.push(v,g,x),s.push(g,y,x)}if(this.setIndex(s),this.addAttribute("position",new we(u,3)),this.addAttribute("uv",new we(l,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,w=new ht,_=new ht,M=new ht;for(n=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)w.x=b[o+0],w.y=b[o+1],w.z=b[o+2],_.x=b[n+o+0],_.y=b[n+o+1],_.z=b[n+o+2],M.addVectors(w,_).normalize(),b[o+0]=b[n+o+0]=M.x,b[o+1]=b[n+o+1]=M.y,b[o+2]=b[n+o+2]=M.z}}function ya(t,e){pe.call(this),this.type="ShapeGeometry","object"===(void 0===e?"undefined":(0,y.default)(e))&&(e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new xa(t,e)),this.mergeVertices()}function xa(t,e){Te.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],n=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var u=0;u<t.length;u++)l(t[u]),this.addGroup(o,s,u),o+=s,s=0;function l(t){var o,u,l,h=r.length/3,c=t.extractPoints(e),p=c.shape,d=c.holes;for(!1===ra.isClockWise(p)&&(p=p.reverse()),o=0,u=d.length;o<u;o++)l=d[o],!0===ra.isClockWise(l)&&(d[o]=l.reverse());var f=ra.triangulateShape(p,d);for(o=0,u=d.length;o<u;o++)l=d[o],p=p.concat(l);for(o=0,u=p.length;o<u;o++){var m=p[o];r.push(m.x,m.y,0),n.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=f.length;o<u;o++){var v=f[o],g=v[0]+h,y=v[1]+h,x=v[2]+h;i.push(g,y,x),s+=3}}this.setIndex(i),this.addAttribute("position",new we(r,3)),this.addAttribute("normal",new we(n,3)),this.addAttribute("uv",new we(a,2))}function ba(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}function wa(t,e){Te.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,r,n,a,o=[],s=Math.cos(st.DEG2RAD*e),u=[0,0],l={},h=["a","b","c"];t.isBufferGeometry?(a=new pe).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],v=0;v<3;v++)i=m[h[v]],r=m[h[(v+1)%3]],u[0]=Math.min(i,r),u[1]=Math.max(i,r),void 0===l[n=u[0]+","+u[1]]?l[n]={index1:u[0],index2:u[1],face1:d,face2:void 0}:l[n].face2=d;for(n in l){var g=l[n];if(void 0===g.face2||p[g.face1].normal.dot(p[g.face2].normal)<=s){var y=c[g.index1];o.push(y.x,y.y,y.z),y=c[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new we(o,3))}function _a(t,e,i,r,n,a,o,s){pe.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Ma(t,e,i,r,n,a,o,s)),this.mergeVertices()}function Ma(t,e,i,r,n,a,o,s){Te.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var u=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],h=[],c=[],p=[],d=0,f=[],m=i/2,v=0;function g(i){var n,a,f,g=new ut,y=new ht,x=0,b=!0===i?t:e,w=!0===i?1:-1;for(a=d,n=1;n<=r;n++)h.push(0,m*w,0),c.push(0,w,0),p.push(.5,.5),d++;for(f=d,n=0;n<=r;n++){var _=n/r*s+o,M=Math.cos(_),S=Math.sin(_);y.x=b*S,y.y=m*w,y.z=b*M,h.push(y.x,y.y,y.z),c.push(0,w,0),g.x=.5*M+.5,g.y=.5*S*w+.5,p.push(g.x,g.y),d++}for(n=0;n<r;n++){var A=a+n,T=f+n;!0===i?l.push(T,T+1,A):l.push(T+1,T,A),x+=3}u.addGroup(v,x,!0===i?1:2),v+=x}!function(){var a,g,y=new ht,x=new ht,b=0,w=(e-t)/i;for(g=0;g<=n;g++){var _=[],M=g/n,S=M*(e-t)+t;for(a=0;a<=r;a++){var A=a/r,T=A*s+o,L=Math.sin(T),P=Math.cos(T);x.x=S*L,x.y=-M*i+m,x.z=S*P,h.push(x.x,x.y,x.z),y.set(L,w,P).normalize(),c.push(y.x,y.y,y.z),p.push(A,1-M),_.push(d++)}f.push(_)}for(a=0;a<r;a++)for(g=0;g<n;g++){var C=f[g][a],E=f[g+1][a],I=f[g+1][a+1],D=f[g][a+1];l.push(C,E,D),l.push(E,I,D),b+=6}u.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(l),this.addAttribute("position",new we(h,3)),this.addAttribute("normal",new we(c,3)),this.addAttribute("uv",new we(p,2))}function Sa(t,e,i,r,n,a,o){_a.call(this,0,t,e,i,r,n,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function Aa(t,e,i,r,n,a,o){Ma.call(this,0,t,e,i,r,n,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function Ta(t,e,i,r){pe.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new La(t,e,i,r)),this.mergeVertices()}function La(t,e,i,r){Te.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,a,o=[],s=[],u=[],l=[],h=new ht,c=new ut;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,n=3;a<=e;a++,n+=3){var p=i+a/e*r;h.x=t*Math.cos(p),h.y=t*Math.sin(p),s.push(h.x,h.y,h.z),u.push(0,0,1),c.x=(s[n]/t+1)/2,c.y=(s[n+1]/t+1)/2,l.push(c.x,c.y)}for(n=1;n<=e;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute("position",new we(s,3)),this.addAttribute("normal",new we(u,3)),this.addAttribute("uv",new we(l,2))}ha.prototype=(0,p.default)(pe.prototype),ha.prototype.constructor=ha,ca.prototype=(0,p.default)(sa.prototype),ca.prototype.constructor=ca,pa.prototype=(0,p.default)(pe.prototype),pa.prototype.constructor=pa,da.prototype=(0,p.default)(Te.prototype),da.prototype.constructor=da,fa.prototype=(0,p.default)(pe.prototype),fa.prototype.constructor=fa,ma.prototype=(0,p.default)(Te.prototype),ma.prototype.constructor=ma,va.prototype=(0,p.default)(pe.prototype),va.prototype.constructor=va,ga.prototype=(0,p.default)(Te.prototype),ga.prototype.constructor=ga,ya.prototype=(0,p.default)(pe.prototype),ya.prototype.constructor=ya,ya.prototype.toJSON=function(){var t=pe.prototype.toJSON.call(this);return ba(this.parameters.shapes,t)},xa.prototype=(0,p.default)(Te.prototype),xa.prototype.constructor=xa,xa.prototype.toJSON=function(){var t=Te.prototype.toJSON.call(this);return ba(this.parameters.shapes,t)},wa.prototype=(0,p.default)(Te.prototype),wa.prototype.constructor=wa,_a.prototype=(0,p.default)(pe.prototype),_a.prototype.constructor=_a,Ma.prototype=(0,p.default)(Te.prototype),Ma.prototype.constructor=Ma,Sa.prototype=(0,p.default)(_a.prototype),Sa.prototype.constructor=Sa,Aa.prototype=(0,p.default)(Ma.prototype),Aa.prototype.constructor=Aa,Ta.prototype=(0,p.default)(pe.prototype),Ta.prototype.constructor=Ta,La.prototype=(0,p.default)(Te.prototype),La.prototype.constructor=La;var Pa=(0,u.default)({WireframeGeometry:vn,ParametricGeometry:gn,ParametricBufferGeometry:yn,TetrahedronGeometry:wn,TetrahedronBufferGeometry:_n,OctahedronGeometry:Mn,OctahedronBufferGeometry:Sn,IcosahedronGeometry:An,IcosahedronBufferGeometry:Tn,DodecahedronGeometry:Ln,DodecahedronBufferGeometry:Pn,PolyhedronGeometry:xn,PolyhedronBufferGeometry:bn,TubeGeometry:Cn,TubeBufferGeometry:En,TorusKnotGeometry:In,TorusKnotBufferGeometry:Dn,TorusGeometry:Bn,TorusBufferGeometry:On,TextGeometry:ha,TextBufferGeometry:ca,SphereGeometry:pa,SphereBufferGeometry:da,RingGeometry:fa,RingBufferGeometry:ma,PlaneGeometry:Ce,PlaneBufferGeometry:Ee,LatheGeometry:va,LatheBufferGeometry:ga,ShapeGeometry:ya,ShapeBufferGeometry:xa,ExtrudeGeometry:oa,ExtrudeBufferGeometry:sa,EdgesGeometry:wa,ConeGeometry:Sa,ConeBufferGeometry:Aa,CylinderGeometry:_a,CylinderBufferGeometry:Ma,CircleGeometry:Ta,CircleBufferGeometry:La,BoxGeometry:Le,BoxBufferGeometry:Pe});function Ca(t){He.call(this),this.type="ShadowMaterial",this.color=new qt(0),this.transparent=!0,this.setValues(t)}function Ea(t){je.call(this,t),this.type="RawShaderMaterial"}function Ia(t){He.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new qt(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Da(t){Ia.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Ba(t){He.call(this),this.type="MeshPhongMaterial",this.color=new qt(16777215),this.specular=new qt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oa(t){Ba.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function za(t){He.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Na(t){He.call(this),this.type="MeshLambertMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ra(t){He.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function Fa(t){on.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Ca.prototype=(0,p.default)(He.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isShadowMaterial=!0,Ca.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this},Ea.prototype=(0,p.default)(je.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isRawShaderMaterial=!0,Ia.prototype=(0,p.default)(He.prototype),Ia.prototype.constructor=Ia,Ia.prototype.isMeshStandardMaterial=!0,Ia.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Da.prototype=(0,p.default)(Ia.prototype),Da.prototype.constructor=Da,Da.prototype.isMeshPhysicalMaterial=!0,Da.prototype.copy=function(t){return Ia.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Ba.prototype=(0,p.default)(He.prototype),Ba.prototype.constructor=Ba,Ba.prototype.isMeshPhongMaterial=!0,Ba.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Oa.prototype=(0,p.default)(Ba.prototype),Oa.prototype.constructor=Oa,Oa.prototype.isMeshToonMaterial=!0,Oa.prototype.copy=function(t){return Ba.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},za.prototype=(0,p.default)(He.prototype),za.prototype.constructor=za,za.prototype.isMeshNormalMaterial=!0,za.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Na.prototype=(0,p.default)(He.prototype),Na.prototype.constructor=Na,Na.prototype.isMeshLambertMaterial=!0,Na.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ra.prototype=(0,p.default)(He.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isMeshMatcapMaterial=!0,Ra.prototype.copy=function(t){return He.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Fa.prototype=(0,p.default)(on.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isLineDashedMaterial=!0,Fa.prototype.copy=function(t){return on.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Ua=(0,u.default)({ShadowMaterial:Ca,SpriteMaterial:$r,RawShaderMaterial:Ea,ShaderMaterial:je,PointsMaterial:hn,MeshPhysicalMaterial:Da,MeshStandardMaterial:Ia,MeshPhongMaterial:Ba,MeshToonMaterial:Oa,MeshNormalMaterial:za,MeshLambertMaterial:Na,MeshDepthMaterial:Tr,MeshDistanceMaterial:Lr,MeshBasicMaterial:Ye,MeshMatcapMaterial:Ra,LineDashedMaterial:Fa,LineBasicMaterial:on,Material:He}),ka={arraySlice:function(t,e,i){return ka.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),r=0;r!==e;++r)i[r]=r;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var r=t.length,n=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=i[a]*e,u=0;u!==e;++u)n[o++]=t[s+u];return n},flattenJSON:function(t,e,i,r){for(var n=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[n++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),i.push.apply(i,o)),a=t[n++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(i,i.length)),a=t[n++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),i.push(o)),a=t[n++]}while(void 0!==a)}}};function Ga(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function Va(t,e,i,r){Ga.call(this,t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Wa(t,e,i,r){Ga.call(this,t,e,i,r)}function Ha(t,e,i,r){Ga.call(this,t,e,i,r)}function ja(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ka.convertArray(e,this.TimeBufferType),this.values=ka.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Xa(t,e,i){ja.call(this,t,e,i)}function qa(t,e,i,r){ja.call(this,t,e,i,r)}function Ya(t,e,i,r){ja.call(this,t,e,i,r)}function Ja(t,e,i,r){Ga.call(this,t,e,i,r)}function Za(t,e,i,r){ja.call(this,t,e,i,r)}function Qa(t,e,i,r){ja.call(this,t,e,i,r)}function Ka(t,e,i,r){ja.call(this,t,e,i,r)}function $a(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=st.generateUUID(),this.duration<0&&this.resetDuration()}function to(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ya;case"vector":case"vector2":case"vector3":case"vector4":return Ka;case"color":return qa;case"quaternion":return Za;case"bool":case"boolean":return Xa;case"string":return Qa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],r=[];ka.flattenJSON(t.keys,i,r,"value"),t.times=i,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}(0,f.default)(Ga.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,r=e[i],n=e[i-1];t:{e:{var a;i:{r:if(!(t<r)){for(var o=i+2;;){if(void 0===r){if(t<n)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,n)}if(i===o)break;if(n=r,t<(r=e[++i]))break e}a=e.length;break i}if(t>=n)break t;var s=e[1];for(t<s&&(i=2,n=s),o=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===o)break;if(r=n,t>=(n=e[--i-1]))break e}a=i,i=0}for(;i<a;){var u=i+a>>>1;t<e[u]?a=u:i=u+1}if(r=e[i],void 0===(n=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,n,t)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=t*r,a=0;a!==r;++a)e[a]=i[n+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),(0,f.default)(Ga.prototype,{beforeStart_:Ga.prototype.copySampleValue_,afterEnd_:Ga.prototype.copySampleValue_}),Va.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Va,DefaultSettings_:{endingStart:it,endingEnd:it},intervalChanged_:function(t,e,i){var r=this.parameterPositions,n=t-2,a=t+1,o=r[n],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case rt:n=t,o=2*e-i;break;case nt:o=e+r[n=r.length-2]-r[n+1];break;default:n=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case rt:a=t,s=2*i-e;break;case nt:a=1,s=i+r[1]-r[0];break;default:a=t-1,s=e}var u=.5*(i-e),l=this.valueSize;this._weightPrev=u/(e-o),this._weightNext=u/(s-i),this._offsetPrev=n*l,this._offsetNext=a*l},interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,p=this._weightNext,d=(i-e)/(r-e),f=d*d,m=f*d,v=-c*m+2*c*f-c*d,g=(1+c)*m+(-1.5-2*c)*f+(-.5+c)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)n[b]=v*a[l+b]+g*a[u+b]+y*a[s+b]+x*a[h+b];return n}}),Wa.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Wa,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=(i-e)/(r-e),h=1-l,c=0;c!==o;++c)n[c]=a[u+c]*h+a[s+c]*l;return n}}),Ha.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Ha,interpolate_:function(t){return this.copySampleValue_(t-1)}}),(0,f.default)(ja,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:ka.convertArray(t.times,Array),values:ka.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),(0,f.default)(ja.prototype,{constructor:ja,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:tt,InterpolantFactoryMethodDiscrete:function(t){return new Ha(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Wa(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Va(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case $:e=this.InterpolantFactoryMethodDiscrete;break;case tt:e=this.InterpolantFactoryMethodLinear;break;case et:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $;case this.InterpolantFactoryMethodLinear:return tt;case this.InterpolantFactoryMethodSmooth:return et}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,r=i.length,n=0,a=r-1;n!==r&&i[n]<t;)++n;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==n||a!==r){n>=a&&(n=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=ka.arraySlice(i,n,a),this.values=ka.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);var i=this.times,r=this.values,n=i.length;0===n&&(t=!1);for(var a=null,o=0;o!==n;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){t=!1;break}if(null!==a&&a>s){t=!1;break}a=s}if(void 0!==r&&ka.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var l=r[o];if(isNaN(l)){t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),r=this.getInterpolation()===et,n=1,a=t.length-1,o=1;o<a;++o){var s=!1,u=t[o];if(u!==t[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*i,h=l-i,c=l+i,p=0;p!==i;++p){var d=e[l+p];if(d!==e[h+p]||d!==e[c+p]){s=!0;break}}if(s){if(o!==n){t[n]=t[o];var f=o*i,m=n*i;for(p=0;p!==i;++p)e[m+p]=e[f+p]}++n}}if(a>0){for(t[n]=t[a],f=a*i,m=n*i,p=0;p!==i;++p)e[m+p]=e[f+p];++n}return n!==t.length&&(this.times=ka.arraySlice(t,0,n),this.values=ka.arraySlice(e,0,n*i)),this},clone:function(){var t=ka.arraySlice(this.times,0),e=ka.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),Xa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Xa,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:$,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:qa,ValueTypeName:"color"}),Ya.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Ya,ValueTypeName:"number"}),Ja.prototype=(0,f.default)((0,p.default)(Ga.prototype),{constructor:Ja,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=(i-e)/(r-e),l=s+o;s!==l;s+=4)lt.slerpFlat(n,0,a,s-o,a,s,u);return n}}),Za.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Za,ValueTypeName:"quaternion",DefaultInterpolation:tt,InterpolantFactoryMethodLinear:function(t){return new Ja(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Qa.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Qa,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:$,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ka.prototype=(0,f.default)((0,p.default)(ja.prototype),{constructor:Ka,ValueTypeName:"vector"}),(0,f.default)($a,{parse:function(t){for(var e=[],i=t.tracks,r=1/(t.fps||1),n=0,a=i.length;n!==a;++n)e.push(to(i[n]).scale(r));return new $a(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},n=0,a=i.length;n!==a;++n)e.push(ja.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(t,e,i,r){for(var n=e.length,a=[],o=0;o<n;o++){var s=[],u=[];s.push((o+n-1)%n,o,(o+1)%n),u.push(0,1,0);var l=ka.getKeyframeOrder(s);s=ka.sortedArray(s,1,l),u=ka.sortedArray(u,1,l),r||0!==s[0]||(s.push(n),u.push(u[0])),a.push(new Ya(".morphTargetInfluences["+e[o].name+"]",s,u).scale(1/i))}return new $a(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var r=t;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],u=s.name.match(n);if(u&&u.length>1){var l=r[c=u[1]];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push($a.CreateFromMorphTargetSequence(c,r[c],e,i));return h},parseAnimation:function(t,e){if(!t)return null;for(var i=function(t,e,i,r,n){if(0!==i.length){var a=[],o=[];ka.flattenJSON(i,a,o,r),0!==a.length&&n.push(new t(e,a,o))}},r=[],n=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var h={},c=0;c<l.length;c++)if(l[c].morphTargets)for(var p=0;p<l[c].morphTargets.length;p++)h[l[c].morphTargets[p]]=-1;for(var d in h){var f=[],m=[];for(p=0;p!==l[c].morphTargets.length;++p){var v=l[c];f.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Ya(".morphTargetInfluence["+d+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+e[u].name+"]";i(Ka,g+".position",l,"pos",r),i(Za,g+".quaternion",l,"rot",r),i(Ka,g+".scale",l,"scl",r)}}return 0===r.length?null:new $a(n,a,r)}}),(0,f.default)($a.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new $a(this.name,this.duration,t)}});var eo={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function io(t,e,i){var r=this,n=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===n&&void 0!==r.onStart&&r.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var ro=new io,no={};function ao(t){this.manager=void 0!==t?t:ro}function oo(t){this.manager=void 0!==t?t:ro}function so(t){this.manager=void 0!==t?t:ro,this._parser=null}function uo(t){this.manager=void 0!==t?t:ro,this._parser=null}function lo(t){this.manager=void 0!==t?t:ro}function ho(t){this.manager=void 0!==t?t:ro}function co(t){this.manager=void 0!==t?t:ro}function po(){this.type="Curve",this.arcLengthDivisions=200}function fo(t,e,i,r,n,a,o,s){po.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function mo(t,e,i,r,n,a){fo.call(this,t,e,i,i,r,n,a),this.type="ArcCurve"}function vo(){var t=0,e=0,i=0,r=0;function n(n,a,o,s){t=n,e=o,i=-3*n+3*a-2*o-s,r=2*n-2*a+o+s}return{initCatmullRom:function(t,e,i,r,a){n(e,i,a*(i-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,a,o,s){var u=(e-t)/a-(i-t)/(a+o)+(i-e)/o,l=(i-e)/o-(r-e)/(o+s)+(r-i)/s;n(e,i,u*=o,l*=o)},calc:function(n){var a=n*n;return t+e*n+i*a+r*(a*n)}}}(0,f.default)(ao.prototype,{load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;if(void 0===no[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var h,c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var p=new Uint8Array(l.length),d=0;d<l.length;d++)p[d]=l.charCodeAt(d);h="blob"===c?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(l,s);break;case"json":h=JSON.parse(l);break;default:h=l}setTimeout((function(){e&&e(h),n.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}),0)}}else{no[t]=[],no[t].push({onLoad:e,onProgress:i,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var i=this.response;eo.add(t,i);var r=no[t];if(delete no[t],200===this.status||0===this.status){this.status;for(var a=0,o=r.length;a<o;a++)(s=r[a]).onLoad&&s.onLoad(i);n.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var i=no[t],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var i=no[t];delete no[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var i=no[t];delete no[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return n.manager.itemStart(t),m}no[t].push({onLoad:e,onProgress:i,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),(0,f.default)(oo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){for(var e=[],i=0;i<t.length;i++){var r=$a.parse(t[i]);e.push(r)}return e},setPath:function(t){return this.path=t,this}}),(0,f.default)(so.prototype,{load:function(t,e,i,r){var n=this,a=[],o=new dn;o.image=a;var s=new ao(this.manager);function u(u){s.load(t[u],(function(t){var i=n._parser(t,!0);a[u]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(l+=1)&&(1===i.mipmapCount&&(o.minFilter=D),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,h=0,c=t.length;h<c;++h)u(h);else s.load(t,(function(t){var i=n._parser(t,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<i.mipmapCount;u++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+u]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=D),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,r);return o},setPath:function(t){return this.path=t,this}}),(0,f.default)(uo.prototype,{load:function(t,e,i,r){var n=this,a=new Bt,o=new ao(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var i=n._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:L,a.wrapT=void 0!==i.wrapT?i.wrapT:L,a.magFilter=void 0!==i.magFilter?i.magFilter:D,a.minFilter=void 0!==i.minFilter?i.minFilter:O,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=D),a.needsUpdate=!0,e&&e(a,i))}),i,r),a},setPath:function(t){return this.path=t,this}}),(0,f.default)(lo.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),eo.add(t,this),e&&e(this),n.manager.itemEnd(t)}function u(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(ho.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new si,a=new lo(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(t[i],(function(t){n.images[i]=t,6==++o&&(n.needsUpdate=!0,e&&e(n))}),void 0,r)}for(var u=0;u<t.length;++u)s(u);return n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(co.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new Pt,a=new lo(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?G:V,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(po.prototype,{getPoint:function(){return null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],n=this.getPoint(0),a=0;for(r.push(0),i=1;i<=t;i++)a+=(e=this.getPoint(i/t)).distanceTo(n),r.push(a),n=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,r=this.getLengths(),n=0,a=r.length;i=e||t*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[n=Math.floor(s+(u-s)/2)]-i)<0)s=n+1;else{if(!(o>0)){u=n;break}u=n-1}if(r[n=u]===i)return n/(a-1);var l=r[n];return(n+(i-l)/(r[n+1]-l))/(a-1)},getTangent:function(t){var e=1e-4,i=t-e,r=t+e;i<0&&(i=0),r>1&&(r=1);var n=this.getPoint(i);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,r,n,a=new ht,o=[],s=[],u=[],l=new ht,h=new Ft;for(i=0;i<=t;i++)r=i/t,o[i]=this.getTangentAt(r),o[i].normalize();s[0]=new ht,u[0]=new ht;var c=Number.MAX_VALUE,p=Math.abs(o[0].x),d=Math.abs(o[0].y),f=Math.abs(o[0].z);for(p<=c&&(c=p,a.set(1,0,0)),d<=c&&(c=d,a.set(0,1,0)),f<=c&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),u[i]=u[i-1].clone(),l.crossVectors(o[i-1],o[i]),l.length()>g.default&&(l.normalize(),n=Math.acos(st.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(h.makeRotationAxis(l,n))),u[i].crossVectors(o[i],s[i]);if(!0===e)for(n=Math.acos(st.clamp(s[0].dot(s[t]),-1,1)),n/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(n=-n),i=1;i<=t;i++)s[i].applyMatrix4(h.makeRotationAxis(o[i],n*i)),u[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),fo.prototype=(0,p.default)(po.prototype),fo.prototype.constructor=fo,fo.prototype.isEllipseCurve=!0,fo.prototype.getPoint=function(t,e){for(var i=e||new ut,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<g.default;n<0;)n+=r;for(;n>r;)n-=r;n<g.default&&(n=a?0:r),!0!==this.aClockwise||a||(n===r?n=-r:n-=r);var o=this.aStartAngle+t*n,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),h=Math.sin(this.aRotation),c=s-this.aX,p=u-this.aY;s=c*l-p*h+this.aX,u=c*h+p*l+this.aY}return i.set(s,u)},fo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},fo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},fo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},mo.prototype=(0,p.default)(fo.prototype),mo.prototype.constructor=mo,mo.prototype.isArcCurve=!0;var go=new ht,yo=new vo,xo=new vo,bo=new vo;function wo(t,e,i,r){po.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=r||.5}function _o(t,e,i,r,n){var a=.5*(r-e),o=.5*(n-i),s=t*t;return(2*i-2*r+a+o)*(t*s)+(-3*i+3*r-2*a-o)*s+a*t+i}function Mo(t,e,i,r){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,r)}function So(t,e,i,r,n){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,n)}function Ao(t,e,i,r){po.call(this),this.type="CubicBezierCurve",this.v0=t||new ut,this.v1=e||new ut,this.v2=i||new ut,this.v3=r||new ut}function To(t,e,i,r){po.call(this),this.type="CubicBezierCurve3",this.v0=t||new ht,this.v1=e||new ht,this.v2=i||new ht,this.v3=r||new ht}function Lo(t,e){po.call(this),this.type="LineCurve",this.v1=t||new ut,this.v2=e||new ut}function Po(t,e){po.call(this),this.type="LineCurve3",this.v1=t||new ht,this.v2=e||new ht}function Co(t,e,i){po.call(this),this.type="QuadraticBezierCurve",this.v0=t||new ut,this.v1=e||new ut,this.v2=i||new ut}function Eo(t,e,i){po.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new ht,this.v1=e||new ht,this.v2=i||new ht}function Io(t){po.call(this),this.type="SplineCurve",this.points=t||[]}wo.prototype=(0,p.default)(po.prototype),wo.prototype.constructor=wo,wo.prototype.isCatmullRomCurve3=!0,wo.prototype.getPoint=function(t,e){var i,r,n,a,o=e||new ht,s=this.points,u=s.length,l=(u-(this.closed?0:1))*t,h=Math.floor(l),c=l-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/u)+1)*u:0===c&&h===u-1&&(h=u-2,c=1),this.closed||h>0?i=s[(h-1)%u]:(go.subVectors(s[0],s[1]).add(s[0]),i=go),r=s[h%u],n=s[(h+1)%u],this.closed||h+2<u?a=s[(h+2)%u]:(go.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=go),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),p),f=Math.pow(r.distanceToSquared(n),p),m=Math.pow(n.distanceToSquared(a),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),yo.initNonuniformCatmullRom(i.x,r.x,n.x,a.x,d,f,m),xo.initNonuniformCatmullRom(i.y,r.y,n.y,a.y,d,f,m),bo.initNonuniformCatmullRom(i.z,r.z,n.z,a.z,d,f,m)}else"catmullrom"===this.curveType&&(yo.initCatmullRom(i.x,r.x,n.x,a.x,this.tension),xo.initCatmullRom(i.y,r.y,n.y,a.y,this.tension),bo.initCatmullRom(i.z,r.z,n.z,a.z,this.tension));return o.set(yo.calc(c),xo.calc(c),bo.calc(c)),o},wo.prototype.copy=function(t){po.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},wo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},wo.prototype.fromJSON=function(t){po.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ht).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Ao.prototype=(0,p.default)(po.prototype),Ao.prototype.constructor=Ao,Ao.prototype.isCubicBezierCurve=!0,Ao.prototype.getPoint=function(t,e){var i=e||new ut,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(So(t,r.x,n.x,a.x,o.x),So(t,r.y,n.y,a.y,o.y)),i},Ao.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ao.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ao.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},To.prototype=(0,p.default)(po.prototype),To.prototype.constructor=To,To.prototype.isCubicBezierCurve3=!0,To.prototype.getPoint=function(t,e){var i=e||new ht,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(So(t,r.x,n.x,a.x,o.x),So(t,r.y,n.y,a.y,o.y),So(t,r.z,n.z,a.z,o.z)),i},To.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},To.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},To.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Lo.prototype=(0,p.default)(po.prototype),Lo.prototype.constructor=Lo,Lo.prototype.isLineCurve=!0,Lo.prototype.getPoint=function(t,e){var i=e||new ut;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Lo.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Lo.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Lo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Lo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Lo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Po.prototype=(0,p.default)(po.prototype),Po.prototype.constructor=Po,Po.prototype.isLineCurve3=!0,Po.prototype.getPoint=function(t,e){var i=e||new ht;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},Po.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Po.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Po.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Po.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Co.prototype=(0,p.default)(po.prototype),Co.prototype.constructor=Co,Co.prototype.isQuadraticBezierCurve=!0,Co.prototype.getPoint=function(t,e){var i=e||new ut,r=this.v0,n=this.v1,a=this.v2;return i.set(Mo(t,r.x,n.x,a.x),Mo(t,r.y,n.y,a.y)),i},Co.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Co.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Co.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Eo.prototype=(0,p.default)(po.prototype),Eo.prototype.constructor=Eo,Eo.prototype.isQuadraticBezierCurve3=!0,Eo.prototype.getPoint=function(t,e){var i=e||new ht,r=this.v0,n=this.v1,a=this.v2;return i.set(Mo(t,r.x,n.x,a.x),Mo(t,r.y,n.y,a.y),Mo(t,r.z,n.z,a.z)),i},Eo.prototype.copy=function(t){return po.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Eo.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Eo.prototype.fromJSON=function(t){return po.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Io.prototype=(0,p.default)(po.prototype),Io.prototype.constructor=Io,Io.prototype.isSplineCurve=!0,Io.prototype.getPoint=function(t,e){var i=e||new ut,r=this.points,n=(r.length-1)*t,a=Math.floor(n),o=n-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(_o(o,s.x,u.x,l.x,h.x),_o(o,s.y,u.y,l.y,h.y)),i},Io.prototype.copy=function(t){po.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this},Io.prototype.toJSON=function(){var t=po.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t},Io.prototype.fromJSON=function(t){po.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ut).fromArray(r))}return this};var Do=(0,u.default)({ArcCurve:mo,CatmullRomCurve3:wo,CubicBezierCurve:Ao,CubicBezierCurve3:To,EllipseCurve:fo,LineCurve:Lo,LineCurve3:Po,QuadraticBezierCurve:Co,QuadraticBezierCurve3:Eo,SplineCurve:Io});function Bo(){po.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Oo(t){Bo.call(this),this.type="Path",this.currentPoint=new ut,t&&this.setFromPoints(t)}function zo(t){Oo.call(this,t),this.uuid=st.generateUUID(),this.type="Shape",this.holes=[]}function No(t,e){ue.call(this),this.type="Light",this.color=new qt(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Ro(t,e,i){No.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ue.DefaultUp),this.updateMatrix(),this.groundColor=new qt(e)}function Fo(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ut(512,512),this.map=null,this.matrix=new Ft}function Uo(){Fo.call(this,new Or(50,1,.5,500))}function ko(t,e,i,r,n,a){No.call(this,t,e),this.type="SpotLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==a?a:1,this.shadow=new Uo}function Go(t,e,i,r){No.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new Fo(new Or(90,1,.5,500))}function Vo(t,e,i,r,n,a){Br.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==i?i:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Wo(){Fo.call(this,new Vo(-5,5,5,-5,.5,500))}function Ho(t,e){No.call(this,t,e),this.type="DirectionalLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,this.shadow=new Wo}function jo(t,e){No.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Xo(t,e,i,r){No.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}function qo(t){this.manager=void 0!==t?t:ro,this.textures={}}Bo.prototype=(0,f.default)((0,p.default)(po.prototype),{constructor:Bo,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Lo(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=e){var n=i[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],r=0,n=this.curves;r<n.length;r++)for(var a=n[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(i.push(l),e=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){po.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=po.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){po.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new Do[r.type]).fromJSON(r))}return this}}),Oo.prototype=(0,f.default)((0,p.default)(Bo.prototype),{constructor:Oo,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new Lo(this.currentPoint.clone(),new ut(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var n=new Co(this.currentPoint.clone(),new ut(t,e),new ut(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,n,a){var o=new Ao(this.currentPoint.clone(),new ut(t,e),new ut(i,r),new ut(n,a));this.curves.push(o),this.currentPoint.set(n,a)},splineThru:function(t){var e=new Io([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,r,n,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,r,n,a)},absarc:function(t,e,i,r,n,a){this.absellipse(t,e,i,i,r,n,a)},ellipse:function(t,e,i,r,n,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,i,r,n,a,o,s)},absellipse:function(t,e,i,r,n,a,o,s){var u=new fo(t,e,i,r,n,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var h=u.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return Bo.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Bo.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Bo.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),zo.prototype=(0,f.default)((0,p.default)(Oo.prototype),{constructor:zo,getPointsHoles:function(t){for(var e=[],i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Oo.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=Oo.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){Oo.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new Oo).fromJSON(r))}return this}}),No.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:No,isLight:!0,copy:function(t){return ue.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Ro.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Ro,isHemisphereLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),(0,f.default)(Fo.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Uo.prototype=(0,f.default)((0,p.default)(Fo.prototype),{constructor:Uo,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*st.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,n=t.distance||e.far;i===e.fov&&r===e.aspect&&n===e.far||(e.fov=i,e.aspect=r,e.far=n,e.updateProjectionMatrix())}}),ko.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:ko,isSpotLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Go.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Go,isPointLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Vo.prototype=(0,f.default)((0,p.default)(Br.prototype),{constructor:Vo,isOrthographicCamera:!0,copy:function(t,e){return Br.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:(0,f.default)({},t.view),this},setViewOffset:function(t,e,i,r,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-t,a=i+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;a=(n+=h*(this.view.offsetX/u))+h*(this.view.width/u),s=(o-=c*(this.view.offsetY/l))-c*(this.view.height/l)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=ue.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e}}),Wo.prototype=(0,f.default)((0,p.default)(Fo.prototype),{constructor:Wo}),Ho.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Ho,isDirectionalLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),jo.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:jo,isAmbientLight:!0}),Xo.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:Xo,isRectAreaLight:!0,copy:function(t){return No.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=No.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),(0,f.default)(qo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=this.textures;function i(t){return e[t],e[t]}var r=new Ua[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var n in t.uniforms){var a=t.uniforms[n];switch(r.uniforms[n]={},a.type){case"t":r.uniforms[n].value=i(a.value);break;case"c":r.uniforms[n].value=(new qt).setHex(a.value);break;case"v2":r.uniforms[n].value=(new ut).fromArray(a.value);break;case"v3":r.uniforms[n].value=(new ht).fromArray(a.value);break;case"v4":r.uniforms[n].value=(new Ct).fromArray(a.value);break;case"m3":r.uniforms[n].value=(new ct).fromArray(a.value);case"m4":r.uniforms[n].value=(new Ft).fromArray(a.value);break;default:r.uniforms[n].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new ut).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),r},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Yo={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Jo(){Te.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Zo(t,e,i,r){"number"==typeof i&&(r=i,i=!1),de.call(this,t,e,i),this.meshPerAttribute=r||1}function Qo(t){this.manager=void 0!==t?t:ro}Jo.prototype=(0,f.default)((0,p.default)(Te.prototype),{constructor:Jo,isInstancedBufferGeometry:!0,copy:function(t){return Te.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=Te.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),Zo.prototype=(0,f.default)((0,p.default)(de.prototype),{constructor:Zo,isInstancedBufferAttribute:!0,copy:function(t){return de.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=de.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),(0,f.default)(Qo.prototype,{load:function(t,e,i,r){var n=this,a=new ao(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=t.isInstancedBufferGeometry?new Jo:new Te,i=t.data.index;if(void 0!==i){var r=new Ko[i.type](i.array);e.setIndex(new de(r,1))}var n=t.data.attributes;for(var a in n){var o=n[a],s=(r=new Ko[o.type](o.array),new(o.isInstancedBufferAttribute?Zo:de)(r,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),e.addAttribute(a,s)}var u=t.data.morphAttributes;if(u)for(var a in u){for(var l=u[a],h=[],c=0,p=l.length;c<p;c++)o=l[c],s=new de(r=new Ko[o.type](o.array),o.itemSize,o.normalized),void 0!==o.name&&(s.name=o.name),h.push(s);e.morphAttributes[a]=h}var d=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==d){c=0;for(var f=d.length;c!==f;++c){var m=d[c];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new ht;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new zt(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var Ko={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function $o(t){this.manager=void 0!==t?t:ro,this.resourcePath=""}(0,f.default)($o.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=this,a=void 0===this.path?Yo.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new ao(n.manager);o.setPath(this.path),o.load(t,(function(t){var i=null;try{i=JSON.parse(t)}catch(t){return void 0!==r&&r(t),void t.message}var a=i.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()&&n.parse(i,e)}),i,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var i=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,i),n=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,r=t.length;i<r;i++){var n=(new zo).fromJSON(t[i]);e[n.uuid]=n}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var r=new Qo,n=0,a=t.length;n<a;n++){var o,s=t[n];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Pa[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Pa[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Pa[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Pa[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Pa[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Pa[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new Pa[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Pa[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Pa[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Pa[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new Pa[s.type]((new Do[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Pa[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new Pa[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,h=s.shapes.length;l<h;l++){var c=e[s.shapes[l]];u.push(c)}o=new Pa[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],l=0,h=s.shapes.length;l<h;l++)c=e[s.shapes[l]],u.push(c);var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new Do[p.type]).fromJSON(p)),o=new Pa[s.type](u,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE&&(o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry);break;default:s.type;continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),i[s.uuid]=o}return i},parseMaterials:function(t,e){var i={},r={};if(void 0!==t){var n=new qo;n.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var h=s.materials[l];void 0===i[h.uuid]&&(i[h.uuid]=n.parse(h)),u.push(i[h.uuid])}r[s.uuid]=u}else void 0===i[s.uuid]&&(i[s.uuid]=n.parse(s)),r[s.uuid]=i[s.uuid]}}return r},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],n=$a.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),e.push(n)}return e},parseImages:function(t,e){var i=this,r={};function n(t){return i.manager.itemStart(t),a.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t),i.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new lo(new io(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var u=t[o],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var h=0,c=l.length;h<c;h++){var p=l[h],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;r[u.uuid].push(n(d))}}else d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:i.resourcePath+u.url,r[u.uuid]=n(d)}}return r},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:e[t]}var r={};if(void 0!==t)for(var n=0,a=t.length;n<a;n++){var o,s=t[n];void 0===s.image&&s.uuid,void 0===e[s.image]&&s.image,(o=Array.isArray(e[s.image])?new si(e[s.image]):new Pt(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,as)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],os),o.wrapT=i(s.wrap[1],os)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,ss)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,ss)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(t,e,i){var r;function n(t){return e[t],e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;r<n;r++){var a=t[r];i[a],e.push(i[a])}return e}return i[t],i[t]}}switch(t.type){case"Scene":r=new Zr,void 0!==t.background&&(0,v.default)(t.background)&&(r.background=new qt(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Jr(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new Yr(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new Or(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"OrthographicCamera":r=new Vo(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"AmbientLight":r=new jo(t.color,t.intensity);break;case"DirectionalLight":r=new Ho(t.color,t.intensity);break;case"PointLight":r=new Go(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new Xo(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new ko(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new Ro(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":case"Mesh":var o=n(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new rn(o,s):new Je(o,s),void 0!==t.drawMode&&r.setDrawMode(t.drawMode);break;case"LOD":r=new en;break;case"Line":r=new sn(n(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new ln(n(t.geometry),a(t.material));break;case"LineSegments":r=new un(n(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new cn(n(t.geometry),a(t.material));break;case"Sprite":r=new tn(a(t.material));break;case"Group":r=new Dr;break;default:r=new ue}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(r.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,l=0;l<u.length;l++)r.add(this.parseObject(u[l],e,i));if("LOD"===t.type)for(var h=t.levels,c=0;c<h.length;c++){var p=h[c],d=r.getObjectByProperty("uuid",p.object);void 0!==d&&r.addLevel(d,p.distance)}return r}});var ts,es,is,rs,ns,as={UVMapping:b,CubeReflectionMapping:w,CubeRefractionMapping:_,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:M,SphericalReflectionMapping:305,CubeUVReflectionMapping:S,CubeUVRefractionMapping:A},os={RepeatWrapping:T,ClampToEdgeWrapping:L,MirroredRepeatWrapping:P},ss={NearestFilter:C,NearestMipMapNearestFilter:E,NearestMipMapLinearFilter:I,LinearFilter:D,LinearMipMapNearestFilter:B,LinearMipMapLinearFilter:O};function us(t){this.manager=void 0!==t?t:ro,this.options=void 0}function ls(){this.type="ShapePath",this.color=new qt,this.subPaths=[],this.currentPath=null}function hs(t){this.type="Font",this.data=t}function cs(t,e,i,r,n){var a=n.glyphs[t]||n.glyphs["?"];if(a){var o,s,u,l,h,c,p,d,f=new ls;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+i,s=m[v++]*e+r,f.moveTo(o,s);break;case"l":o=m[v++]*e+i,s=m[v++]*e+r,f.lineTo(o,s);break;case"q":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,f.quadraticCurveTo(h,c,u,l);break;case"b":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,p=m[v++]*e+i,d=m[v++]*e+r,f.bezierCurveTo(h,c,p,d,u,l)}return{offsetX:a.ha*e,path:f}}}function ps(t){this.manager=void 0!==t?t:ro}function ds(){}us.prototype={constructor:us,setOptions:function(t){return this.options=t,this},load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=eo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===n.options?createImageBitmap(t):createImageBitmap(t,n.options)})).then((function(i){eo.add(t,i),e&&e(i),n.manager.itemEnd(t)})).catch((function(e){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)})),n.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},(0,f.default)(ls.prototype,{moveTo:function(t,e){this.currentPath=new Oo,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,r){this.currentPath.quadraticCurveTo(t,e,i,r)},bezierCurveTo:function(t,e,i,r,n,a){this.currentPath.bezierCurveTo(t,e,i,r,n,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i],a=new zo;a.curves=n.curves,e.push(a)}return e}function r(t,e){for(var i=e.length,r=!1,n=i-1,a=0;a<i;n=a++){var o=e[n],s=e[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>g.default){if(l<0&&(o=e[a],u=-u,s=e[n],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var h=l*(t.x-o.x)-u*(t.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var n=ra.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new zo).curves=s.curves,l.push(u),l;var h=!n(a[0].getPoints());h=t?!h:h;var c,p,d=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var y=0,x=a.length;y<x;y++)o=n(c=(s=a[y]).getPoints()),(o=t?!o:o)?(!h&&f[v]&&v++,f[v]={s:new zo,p:c},f[v].s.curves=s.curves,h&&v++,m[v]=[]):m[v].push({h:s,p:c[0]});if(!f[0])return i(a);if(f.length>1){for(var b=!1,w=[],_=0,M=f.length;_<M;_++)d[_]=[];for(_=0,M=f.length;_<M;_++)for(var S=m[_],A=0;A<S.length;A++){for(var T=S[A],L=!0,P=0;P<f.length;P++)r(T.p,f[P].p)&&(_!==P&&w.push({froms:_,tos:P,hole:A}),L?(L=!1,d[P].push(T)):b=!0);L&&d[_].push(T)}w.length>0&&(b||(m=d))}y=0;for(var C=f.length;y<C;y++){u=f[y].s,l.push(u);for(var E=0,I=(p=m[y]).length;E<I;E++)u.holes.push(p[E].h)}return l}}),(0,f.default)(hs.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var i=[],r=function(t,e,i){for(var r=s.default?(0,s.default)(t):String(t).split(""),n=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,o=[],u=0,l=0,h=0;h<r.length;h++){var c=r[h];if("\n"===c)u=0,l-=a;else{var p=cs(c,n,u,l,i);u+=p.offsetX,o.push(p.path)}}return o}(t,e,this.data),n=0,a=r.length;n<a;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),(0,f.default)(ps.prototype,{load:function(t,e,i,r){var n=this,a=new ao(this.manager);a.setPath(this.path),a.load(t,(function(t){var i;try{i=JSON.parse(t)}catch(e){i=JSON.parse(t.substring(65,t.length-2))}var r=n.parse(i);e&&e(r)}),i,r)},parse:function(t){return new hs(t)},setPath:function(t){return this.path=t,this}}),ds.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,r=e.length;i<r;i+=2){var n=e[i],a=e[i+1];if(n.test(t))return a}return null}},(0,f.default)(ds.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var r=[],n=0;n<t.length;++n)r[n]=this.createMaterial(t[n],e,i);return r},createMaterial:(ts={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},es=new qt,is=new co,rs=new qo,function(t,e,i){var r={};function n(t,n,a,o,s){var u,l=e+t,h=ds.Handlers.get(l);null!==h?u=h.load(l):(is.setCrossOrigin(i),u=is.load(l)),void 0!==n&&(u.repeat.fromArray(n),1!==n[0]&&(u.wrapS=T),1!==n[1]&&(u.wrapT=T)),void 0!==a&&u.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(u.wrapS=T),"mirror"===o[0]&&(u.wrapS=P),"repeat"===o[1]&&(u.wrapT=T),"mirror"===o[1]&&(u.wrapT=P)),void 0!==s&&(u.anisotropy=s);var c=st.generateUUID();return r[c]=u,c}var a={uuid:st.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"colorAmbient":case"mapAmbient":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":default:break;case"DbgName":a.name=s;break;case"blending":a.blending=ts[s];break;case"colorDiffuse":a.color=es.fromArray(s).getHex();break;case"colorSpecular":a.specular=es.fromArray(s).getHex();break;case"colorEmissive":a.emissive=es.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=n(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapEmissive":a.emissiveMap=n(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapLight":a.lightMap=n(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapAO":a.aoMap=n(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapBump":a.bumpMap=n(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapNormal":a.normalMap=n(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapSpecular":a.specularMap=n(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapMetalness":a.metalnessMap=n(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapRoughness":a.roughnessMap=n(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapAlpha":a.alphaMap=n(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"flipSided":a.side=1;break;case"doubleSided":a.side=2;break;case"transparency":a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=2),"face"===s&&(a.vertexColors=1)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),rs.setTextures(r),rs.parse(a)})});var fs={getContext:function(){return void 0===ns&&(ns=new(window.AudioContext||window.webkitAudioContext)),ns},setContext:function(t){ns=t}};function ms(t){this.manager=void 0!==t?t:ro}function vs(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ht)}function gs(t,e){No.call(this,void 0,e),this.sh=void 0!==t?t:new vs}function ys(t,e,i){gs.call(this,void 0,i);var r=(new qt).set(t),n=(new qt).set(e),a=new ht(r.r,r.g,r.b),o=new ht(n.r,n.g,n.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function xs(t,e){gs.call(this,void 0,e);var i=(new qt).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}function bs(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Or,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Or,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}(0,f.default)(ms.prototype,{load:function(t,e,i,r){var n=new ao(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.load(t,(function(t){var i=t.slice(0);fs.getContext().decodeAudioData(i,(function(t){e(t)}))}),i,r)},setPath:function(t){return this.path=t,this}}),(0,f.default)(vs.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.282095*a[0],e+=.488603*a[1]*r,e+=.488603*a[2]*n,e+=.488603*a[3]*i,e+=1.092548*a[4]*(i*r),e+=1.092548*a[5]*(r*n),e+=.315392*a[6]*(3*n*n-1),e+=1.092548*a[7]*(i*n),e+=.546274*a[8]*(i*i-r*r)},getIrradianceAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.886227*a[0],e+=2*a[1]*.511664*r,e+=2*a[2]*.511664*n,e+=2*a[3]*.511664*i,e+=2*a[4]*.429043*i*r,e+=2*a[5]*.429043*r*n,e+=a[6]*(.743125*n*n-.247708),e+=2*a[7]*.429043*i*n,e+=.429043*a[8]*(i*i-r*r)},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t){for(var e=this.coefficients,i=0;i<9;i++)e[i].fromArray(t,3*i);return this},toArray:function(){for(var t=[],e=this.coefficients,i=0;i<9;i++)e[i].toArray(t,3*i);return t}}),(0,f.default)(vs,{getBasisAt:function(t,e){var i=t.x,r=t.y,n=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*n,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*n,e[6]=.315392*(3*n*n-1),e[7]=1.092548*i*n,e[8]=.546274*(i*i-r*r)}}),gs.prototype=(0,f.default)((0,p.default)(No.prototype),{constructor:gs,isLightProbe:!0,copy:function(t){return No.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return No.prototype.toJSON.call(this,t)}}),ys.prototype=(0,f.default)((0,p.default)(gs.prototype),{constructor:ys,isHemisphereLightProbe:!0,copy:function(t){return gs.prototype.copy.call(this,t),this},toJSON:function(t){return gs.prototype.toJSON.call(this,t)}}),xs.prototype=(0,f.default)((0,p.default)(gs.prototype),{constructor:xs,isAmbientLightProbe:!0,copy:function(t){return gs.prototype.copy.call(this,t),this},toJSON:function(t){return gs.prototype.toJSON.call(this,t)}}),(0,f.default)(bs.prototype,{update:function(){var t,e,i,r,n,a,o,s,u=new Ft,l=new Ft;return function(h){if(t!==this||e!==h.focus||i!==h.fov||r!==h.aspect*this.aspect||n!==h.near||a!==h.far||o!==h.zoom||s!==this.eyeSep){t=this,e=h.focus,i=h.fov,r=h.aspect*this.aspect,n=h.near,a=h.far,o=h.zoom;var c,p,d=h.projectionMatrix.clone(),f=(s=this.eyeSep/2)*n/e,m=n*Math.tan(st.DEG2RAD*i*.5)/o;l.elements[12]=-s,u.elements[12]=s,c=-m*r+f,p=m*r+f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraL.projectionMatrix.copy(d),c=-m*r-f,p=m*r-f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(u)}}()});var ws=90;function _s(t,e,i,r){ue.call(this),this.type="CubeCamera";var n=new Or(ws,1,t,e);n.up.set(0,-1,0),n.lookAt(new ht(1,0,0)),this.add(n);var a=new Or(ws,1,t,e);a.up.set(0,-1,0),a.lookAt(new ht(-1,0,0)),this.add(a);var o=new Or(ws,1,t,e);o.up.set(0,0,1),o.lookAt(new ht(0,1,0)),this.add(o);var s=new Or(ws,1,t,e);s.up.set(0,0,-1),s.lookAt(new ht(0,-1,0)),this.add(s);var u=new Or(ws,1,t,e);u.up.set(0,-1,0),u.lookAt(new ht(0,0,1)),this.add(u);var l=new Or(ws,1,t,e);l.up.set(0,-1,0),l.lookAt(new ht(0,0,-1)),this.add(l),r=r||{format:G,magFilter:D,minFilter:D},this.renderTarget=new Dt(i,i,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=t.getRenderTarget(),r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,n),t.setRenderTarget(r,1),t.render(e,a),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,s),t.setRenderTarget(r,4),t.render(e,u),r.texture.generateMipmaps=h,t.setRenderTarget(r,5),t.render(e,l),t.setRenderTarget(i)},this.clear=function(t,e,i,r){for(var n=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,i,r);t.setRenderTarget(n)}}function Ms(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ss(){ue.call(this),this.type="AudioListener",this.context=fs.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function As(t){ue.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ts(t){As.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Ls(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ps(t,e,i){this.binding=t,this.valueSize=i;var r,n=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}_s.prototype=(0,p.default)(ue.prototype),_s.prototype.constructor=_s,(0,f.default)(Ms.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Ss.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:Ss,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new ht,e=new lt,i=new ht,r=new ht,n=new Ms;return function(a){ue.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=n.getDelta(),this.matrixWorld.decompose(t,e,i),r.set(0,0,-1).applyQuaternion(e),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,u),o.positionY.linearRampToValueAtTime(t.y,u),o.positionZ.linearRampToValueAtTime(t.z,u),o.forwardX.linearRampToValueAtTime(r.x,u),o.forwardY.linearRampToValueAtTime(r.y,u),o.forwardZ.linearRampToValueAtTime(r.z,u),o.upX.linearRampToValueAtTime(s.x,u),o.upY.linearRampToValueAtTime(s.y,u),o.upZ.linearRampToValueAtTime(s.z,u)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),As.prototype=(0,f.default)((0,p.default)(ue.prototype),{constructor:As,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Ts.prototype=(0,f.default)((0,p.default)(As.prototype),{constructor:Ts,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(){var t=new ht,e=new lt,i=new ht,r=new ht;return function(n){if(ue.prototype.updateMatrixWorld.call(this,n),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,i),r.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}}()}),(0,f.default)(Ls.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),(0,f.default)(Ps.prototype,{accumulate:function(t,e){var i=this.buffer,r=this.valueSize,n=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)i[n+o]=i[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,r=t*e+e,n=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*e;this._mixBufferRegion(i,r,o,1-n,e)}for(var s=e,u=e+e;s!==u;++s)if(i[s]!==i[s+e]){a.setValue(i,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,r=3*i;t.getValue(e,r);for(var n=i,a=r;n!==a;++n)e[n]=e[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,r,n){if(r>=.5)for(var a=0;a!==n;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,r){lt.slerpFlat(t,e,t,e,t,i,r)},_lerp:function(t,e,i,r,n){for(var a=1-r,o=0;o!==n;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*r}}});var Cs,Es,Is,Ds,Bs,Os,zs,Ns,Rs,Fs,Us,ks,Gs,Vs,Ws,Hs="\\[\\]\\.:\\/";function js(t,e,i){var r=i||Xs.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Xs(t,e,i){this.path=e,this.parsedPath=i||Xs.parseTrackName(e),this.node=Xs.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function qs(){this.uuid=st.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Ys(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var r=e.tracks,n=r.length,a=new Array(n),o={endingStart:it,endingEnd:it},s=0;s!==n;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Js(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Zs(t){"string"==typeof t&&(t=arguments[1]),this.value=t}function Qs(t,e,i){Qr.call(this,t,e),this.meshPerAttribute=i||1}function Ks(t,e,i,r){this.ray=new Xe(t,e),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},(0,d.default)(this.params,{PointCloud:{get:function(){return this.Points}}})}function $s(t,e){return t.distance-e.distance}function tu(t,e,i,r){if(!1!==t.visible&&(t.raycast(e,i),!0===r))for(var n=t.children,a=0,o=n.length;a<o;a++)tu(n[a],e,i,!0)}function eu(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function iu(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}function ru(t,e){this.min=void 0!==t?t:new ut(1/0,1/0),this.max=void 0!==e?e:new ut(-1/0,-1/0)}function nu(t,e){this.start=void 0!==t?t:new ht,this.end=void 0!==e?e:new ht}function au(t){ue.call(this),this.material=t,this.render=function(){}}function ou(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new Te,l=new we(2*o*3,3);u.addAttribute("position",l),un.call(this,u,new on({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function su(t,e){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new Te,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,a=1;n<32;n++,a++){var o=n/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new we(r,3));var u=new on({fog:!1});this.cone=new un(i,u),this.add(this.cone),this.update()}function uu(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,uu(t.children[i]));return e}function lu(t){for(var e=uu(t),i=new Te,r=[],n=[],a=new qt(0,0,1),o=new qt(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(a.r,a.g,a.b),n.push(o.r,o.g,o.b))}i.addAttribute("position",new we(r,3)),i.addAttribute("color",new we(n,3));var l=new on({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});un.call(this,i,l),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function hu(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var r=new da(e,4,2),n=new Ye({wireframe:!0,fog:!1});Je.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function cu(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var i=new Te;i.addAttribute("position",new we([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere();var r=new on({fog:!1});sn.call(this,i,r);var n=new Te;n.addAttribute("position",new we([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Je(n,new Ye({side:1,fog:!1}))),this.update()}function pu(t,e,i){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new Sn(e);r.rotateY(.5*Math.PI),this.material=new Ye({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var n=r.getAttribute("position"),a=new Float32Array(3*n.count);r.addAttribute("color",new de(a,3)),this.add(new Je(r,this.material)),this.update()}function du(t,e){this.lightProbe=t,this.size=e;var i={GAMMA_OUTPUT:""},r=new je({defines:i,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),n=new da(1,32,16);Je.call(this,n,r),this.onBeforeRender()}function fu(t,e,i,r){t=t||10,e=e||10,i=new qt(void 0!==i?i:4473924),r=new qt(void 0!==r?r:8947848);for(var n=e/2,a=t/e,o=t/2,s=[],u=[],l=0,h=0,c=-o;l<=e;l++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);var p=l===n?i:r;p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3}var d=new Te;d.addAttribute("position",new we(s,3)),d.addAttribute("color",new we(u,3));var f=new on({vertexColors:2});un.call(this,d,f)}function mu(t,e,i,r,n,a){t=t||10,e=e||16,i=i||8,r=r||64,n=new qt(void 0!==n?n:4473924),a=new qt(void 0!==a?a:8947848);var o,s,u,l,h,c,p,d=[],f=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),o=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(o,0,s),p=1&l?n:a,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(l=0;l<=i;l++)for(p=1&l?n:a,c=t-t/i*l,h=0;h<r;h++)u=h/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b),u=(h+1)/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b);var m=new Te;m.addAttribute("position",new we(d,3)),m.addAttribute("color",new we(f,3));var v=new on({vertexColors:2});un.call(this,m,v)}function vu(t,e,i,r){this.audio=t,this.range=e||1,this.divisionsInnerAngle=i||16,this.divisionsOuterAngle=r||2;var n=new Te,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));n.addAttribute("position",new de(o,3));var s=new on({color:65280}),u=new on({color:16776960});sn.call(this,n,[u,s]),this.update()}function gu(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry&&(o=s.faces.length);var u=new Te,l=new we(2*o*3,3);u.addAttribute("position",l),un.call(this,u,new on({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function yu(t,e,i){ue.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var r=new Te;r.addAttribute("position",new we([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new on({fog:!1});this.lightPlane=new sn(r,n),this.add(this.lightPlane),(r=new Te).addAttribute("position",new we([0,0,0,0,0,1],3)),this.targetLine=new sn(r,n),this.add(this.targetLine),this.update()}function xu(t){var e=new Te,i=new on({color:16777215,vertexColors:1}),r=[],n=[],a={},o=new qt(16755200),s=new qt(16711680),u=new qt(43775),l=new qt(16777215),h=new qt(3355443);function c(t,e,i){p(t,i),p(e,i)}function p(t,e){r.push(0,0,0),n.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",u),c("u2","u3",u),c("u3","u1",u),c("c","t",l),c("p","c",h),c("cn1","cn2",h),c("cn3","cn4",h),c("cf1","cf2",h),c("cf3","cf4",h),e.addAttribute("position",new we(r,3)),e.addAttribute("color",new we(n,3)),un.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function bu(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new Te;n.setIndex(new de(i,1)),n.addAttribute("position",new de(r,3)),un.call(this,n,new on({color:e})),this.matrixAutoUpdate=!1,this.update()}function wu(t,e){this.type="Box3Helper",this.box=t;var i=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Te;n.setIndex(new de(r,1)),n.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),un.call(this,n,new on({color:i})),this.geometry.computeBoundingSphere()}function _u(t,e,i){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==i?i:16776960,n=new Te;n.addAttribute("position",new we([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),sn.call(this,n,new on({color:r}));var a=new Te;a.addAttribute("position",new we([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Je(a,new Ye({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Mu(t,e,i,r,n,a){ue.call(this),void 0===t&&(t=new ht(0,0,1)),void 0===e&&(e=new ht(0,0,0)),void 0===i&&(i=1),void 0===r&&(r=16776960),void 0===n&&(n=.2*i),void 0===a&&(a=.2*n),void 0===ks&&((ks=new Te).addAttribute("position",new we([0,0,0,0,1,0],3)),(Gs=new Ma(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new sn(ks,new on({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Je(Gs,new Ye({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,n,a)}function Su(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new Te;i.addAttribute("position",new we(e,3)),i.addAttribute("color",new we([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new on({vertexColors:2});un.call(this,i,r)}function Au(t){wo.call(this,t),this.type="catmullrom",this.closed=!0}function Tu(t){wo.call(this,t),this.type="catmullrom"}function Lu(t){wo.call(this,t),this.type="catmullrom"}(0,f.default)(js.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),(0,f.default)(Xs,{Composite:js,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Xs.Composite(t,e,i):new Xs(t,e,i)},sanitizeNodeName:(Rs=new RegExp("[\\[\\]\\.:\\/]","g"),function(t){return t.replace(/\s/g,"_").replace(Rs,"")}),parseTrackName:(Cs="[^\\[\\]\\.:\\/]",Es="[^"+Hs.replace("\\.","")+"]",Is=/((?:WC+[\/:])*)/.source.replace("WC",Cs),Ds=/(WCOD+)?/.source.replace("WCOD",Es),Bs=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Cs),Os=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Cs),zs=new RegExp("^"+Is+Ds+Bs+Os+"$"),Ns=["material","materials","bones"],function(t){var e=zs.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==Ns.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var r=function t(i){for(var r=0;r<i.length;r++){var n=i[r];if(n.name===e||n.uuid===e)return n;var a=t(n.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),(0,f.default)(Xs.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)t[e++]=i[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,r=e.propertyName,n=e.propertyIndex;if(t||(t=Xs.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return;t=t[i]}if(void 0!==a){if(void 0===t[a])return;t=t[a]}}var s=t[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!t.geometry)return;if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return;for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!t.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===n){n=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else e.nodeName}else this.path},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),(0,f.default)(Xs.prototype,{_getValue_unbound:Xs.prototype.getValue,_setValue_unbound:Xs.prototype.setValue}),(0,f.default)(qs.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=0,l=arguments.length;u!==l;++u){var h=arguments[u],c=h.uuid,p=r[c];if(void 0===p){p=e++,r[c]=p,t.push(h);for(var d=0,f=s;d!==f;++d)o[d].push(new Xs(h,n[d],a[d]))}else if(p<i){t[p];var m=--i,v=t[m];for(r[v.uuid]=p,t[p]=v,r[c]=m,t[m]=h,d=0,f=s;d!==f;++d){var g=o[d],y=g[m],x=g[p];g[p]=y,void 0===x&&(x=new Xs(h,n[d],a[d])),g[m]=x}}else t[p]}this.nCachedObjects_=i},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,n=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=i[u];if(void 0!==l&&l>=e){var h=e++,c=t[h];i[c.uuid]=l,t[l]=c,i[u]=h,t[h]=s;for(var p=0,d=n;p!==d;++p){var f=r[p],m=f[h],v=f[l];f[l]=m,f[h]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,h=r[l];if(void 0!==h)if(delete r[l],h<i){var c=--i,p=t[c],d=t[y=--e];r[p.uuid]=h,t[h]=p,r[d.uuid]=c,t[c]=d,t.pop();for(var f=0,m=a;f!==m;++f){var v=(x=n[f])[c],g=x[y];x[h]=v,x[c]=g,x.pop()}}else{var y;for(r[(d=t[y=--e]).uuid]=h,t[h]=d,t.pop(),f=0,m=a;f!==m;++f){var x;(x=n[f])[h]=x[y],x.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,r=i[t],n=this._bindings;if(void 0!==r)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,h=new Array(u);r=n.length,i[t]=r,a.push(t),o.push(e),n.push(h);for(var c=l,p=s.length;c!==p;++c){var d=s[c];h[c]=new Xs(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=i,a[i]=s,a.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}),(0,f.default)(Ys.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var r=this._clip.duration,n=t._clip.duration,a=n/r,o=r/n;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=n,s[1]=n+i,u[0]=t/o,u[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var a=(t-n)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,h=0,c=u.length;h!==c;++h)u[h].evaluate(o),l[h].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,r=this.loop,n=this._loopCount,a=2202===r;if(0===t)return-1===n?e:a&&1==(1&n)?i-e:e;if(2200===r){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(t>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1==(1&n))return i-e}return e},_setEndings:function(t,e,i){var r=this._interpolantSettings;i?(r.endingStart=rt,r.endingEnd=rt):(r.endingStart=t?this.zeroSlopeAtStart?rt:it:nt,r.endingEnd=e?this.zeroSlopeAtEnd?rt:it:nt)},_scheduleFading:function(t,e,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=e,o[1]=n+t,s[1]=i,this}}),Js.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Js,_bindAction:function(t,e){var i=t._localRoot||this._root,r=t._clip.tracks,n=r.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var h=0;h!==n;++h){var c=r[h],p=c.name,d=l[p];if(void 0!==d)a[h]=d;else{if(void 0!==(d=a[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;++(d=new Ps(Xs.create(i,p,f),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),a[h]=d}o[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}for(var n=t._propertyBindings,a=0,o=n.length;a!==o;++a){var s=n[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var r=this._actions,n=this._actionsByClip,a=n[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;var n=t._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[n],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_addInactiveBinding:function(t,e,i){var r=this._bindingsByRootAndName,n=r[e],a=this._bindings;void 0===n&&(n={},r[e]=n),n[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete o[n];t:{for(var l in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new Wa(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,n=e[r];t.__cacheIndex=r,e[r]=t,n.__cacheIndex=i,e[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?$a.findByName(i,t):t,a=null!==n?n.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var l=new Ys(this,n,e);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?$a.findByName(i,t):t,a=n?n.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==e;++n)t[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,r=this.time+=t,n=(0,m.default)(t),a=this._accuIndex^=1,o=0;o!==i;++o)e[o]._update(r,t,n,a);var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var a=n.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,h=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=l,e[l]=h,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Zs.prototype.clone=function(){return new Zs(void 0===this.value.clone?this.value:this.value.clone())},Qs.prototype=(0,f.default)((0,p.default)(Qr.prototype),{constructor:Qs,isInstancedInterleavedBuffer:!0,copy:function(t){return Qr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),(0,f.default)(Ks.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld))},intersectObject:function(t,e,i){var r=i||[];return tu(t,this,r,e),r.sort($s),r},intersectObjects:function(t,e,i){var r=i||[];if(!1===Array.isArray(t))return r;for(var n=0,a=t.length;n<a;n++)tu(t[n],this,r,e);return r.sort($s),r}}),(0,f.default)(eu.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(st.clamp(e/this.radius,-1,1))),this}}),(0,f.default)(iu.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}}),(0,f.default)(ru.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ut;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(t=new ut),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ut),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(e=new ut),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(e=new ut),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ut;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(nu.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(t=new ht),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(t=new ht),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(e=new ht),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(Fs=new ht,Us=new ht,function(t,e){Fs.subVectors(t,this.start),Us.subVectors(this.end,this.start);var i=Us.dot(Us),r=Us.dot(Fs)/i;return e&&(r=st.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e);return void 0===i&&(i=new ht),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),au.prototype=(0,p.default)(ue.prototype),au.prototype.constructor=au,au.prototype.isImmediateRenderObject=!0,ou.prototype=(0,p.default)(un.prototype),ou.prototype.constructor=ou,ou.prototype.update=function(){var t=new ht,e=new ht,i=new ct;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,u=o.faces,l=0,h=0,c=u.length;h<c;h++)for(var p=u[h],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[r[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(n),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(l=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(n),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}a.needsUpdate=!0}}(),su.prototype=(0,p.default)(ue.prototype),su.prototype.constructor=su,su.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},su.prototype.update=function(){var t=new ht;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),lu.prototype=(0,p.default)(un.prototype),lu.prototype.constructor=lu,lu.prototype.updateMatrixWorld=function(){var t=new ht,e=new Ft,i=new Ft;return function(r){var n=this.bones,a=this.geometry,o=a.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<n.length;s++){var l=n[s];l.parent&&l.parent.isBone&&(e.multiplyMatrices(i,l.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u,t.x,t.y,t.z),e.multiplyMatrices(i,l.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u+1,t.x,t.y,t.z),u+=2)}a.getAttribute("position").needsUpdate=!0,ue.prototype.updateMatrixWorld.call(this,r)}}(),hu.prototype=(0,p.default)(Je.prototype),hu.prototype.constructor=hu,hu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},hu.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},cu.prototype=(0,p.default)(sn.prototype),cu.prototype.constructor=cu,cu.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},cu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},pu.prototype=(0,p.default)(ue.prototype),pu.prototype.constructor=pu,pu.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},pu.prototype.update=function(){var t=new ht,e=new qt,i=new qt;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var n=r.geometry.getAttribute("color");e.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=n.count;a<o;a++){var s=a<o/2?e:i;n.setXYZ(a,s.r,s.g,s.b)}n.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),du.prototype=(0,p.default)(Je.prototype),du.prototype.constructor=du,du.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},du.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},fu.prototype=(0,f.default)((0,p.default)(un.prototype),{constructor:fu,copy:function(t){return un.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),mu.prototype=(0,p.default)(un.prototype),mu.prototype.constructor=mu,vu.prototype=(0,p.default)(sn.prototype),vu.prototype.constructor=vu,vu.prototype.update=function(){var t,e,i=this.audio,r=this.range,n=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=st.degToRad(i.panner.coneInnerAngle),s=st.degToRad(i.panner.coneOuterAngle),u=o/2,l=s/2,h=0,c=0,p=this.geometry,d=p.attributes.position;function f(i,n,a,o){var s=(n-i)/a;for(d.setXYZ(h,0,0,0),c++,t=i;t<n;t+=s)e=h+c,d.setXYZ(e,Math.sin(t)*r,0,Math.cos(t)*r),d.setXYZ(e+1,Math.sin(Math.min(t+s,n))*r,0,Math.cos(Math.min(t+s,n))*r),d.setXYZ(e+2,0,0,0),c+=3;p.addGroup(h,c,o),h+=c,c=0}p.clearGroups(),f(-l,-u,a,0),f(-u,u,n,1),f(u,l,a,0),d.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},vu.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},gu.prototype=(0,p.default)(un.prototype),gu.prototype.constructor=gu,gu.prototype.update=function(){var t=new ht,e=new ht,i=new ct;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,l=0,h=s.length;l<h;l++){var c=s[l],p=c.normal;t.copy(o[c.a]).add(o[c.b]).add(o[c.c]).divideScalar(3).applyMatrix4(r),e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),n.setXYZ(u,t.x,t.y,t.z),u+=1,n.setXYZ(u,e.x,e.y,e.z),u+=1}n.needsUpdate=!0}}(),yu.prototype=(0,p.default)(ue.prototype),yu.prototype.constructor=yu,yu.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},yu.prototype.update=function(){var t=new ht,e=new ht,i=new ht;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=i.length()}}(),xu.prototype=(0,p.default)(un.prototype),xu.prototype.constructor=xu,xu.prototype.update=function(){var t,e,i=new ht,r=new Br;function n(n,a,o,s){i.set(a,o,s).unproject(r);var u=e[n];if(void 0!==u)for(var l=t.getAttribute("position"),h=0,c=u.length;h<c;h++)l.setXYZ(u[h],i.x,i.y,i.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),bu.prototype=(0,p.default)(un.prototype),bu.prototype.constructor=bu,bu.prototype.update=function(){var t=new Ot;return function(e){if(void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var i=t.min,r=t.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=i.x,a[4]=r.y,a[5]=r.z,a[6]=i.x,a[7]=i.y,a[8]=r.z,a[9]=r.x,a[10]=i.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=i.z,a[15]=i.x,a[16]=r.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=r.x,a[22]=i.y,a[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),bu.prototype.setFromObject=function(t){return this.object=t,this.update(),this},bu.prototype.copy=function(t){return un.prototype.copy.call(this,t),this.object=t.object,this},bu.prototype.clone=function(){return(new this.constructor).copy(this)},wu.prototype=(0,p.default)(un.prototype),wu.prototype.constructor=wu,wu.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),ue.prototype.updateMatrixWorld.call(this,t))},_u.prototype=(0,p.default)(sn.prototype),_u.prototype.constructor=_u,_u.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),ue.prototype.updateMatrixWorld.call(this,t)},Mu.prototype=(0,p.default)(ue.prototype),Mu.prototype.constructor=Mu,Mu.prototype.setDirection=(Ws=new ht,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Ws.set(t.z,0,-t.x).normalize(),Vs=Math.acos(t.y),this.quaternion.setFromAxisAngle(Ws,Vs))}),Mu.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},Mu.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Mu.prototype.copy=function(t){return ue.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},Mu.prototype.clone=function(){return(new this.constructor).copy(this)},Su.prototype=(0,p.default)(un.prototype),Su.prototype.constructor=Su,po.create=function(t,e){return t.prototype=(0,p.default)(po.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},(0,f.default)(Bo.prototype,{createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new pe,i=0,r=t.length;i<r;i++){var n=t[i];e.vertices.push(new ht(n.x,n.y,n.z||0))}return e}}),(0,f.default)(Oo.prototype,{fromPoints:function(t){this.setFromPoints(t)}}),Au.prototype=(0,p.default)(wo.prototype),Tu.prototype=(0,p.default)(wo.prototype),Lu.prototype=(0,p.default)(wo.prototype),(0,f.default)(Lu.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),fu.prototype.setColors=function(){},lu.prototype.update=function(){},(0,f.default)(ds.prototype,{extractUrlBase:function(t){return Yo.extractUrlBase(t)}}),(0,f.default)($o.prototype,{setTexturePath:function(t){return this.setResourcePath(t)}}),(0,f.default)(ru.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},size:function(t){return this.getSize(t)}}),(0,f.default)(Ot.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)},size:function(t){return this.getSize(t)}}),nu.prototype.center=function(t){return this.getCenter(t)},(0,f.default)(st,{random16:function(){return Math.random()},nearestPowerOfTwo:function(t){return st.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return st.ceilPowerOfTwo(t)}}),(0,f.default)(ct.prototype,{flattenToArrayOffset:function(t,e){return this.toArray(t,e)},multiplyVector3:function(t){return t.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){}}),(0,f.default)(Ft.prototype,{extractPosition:function(t){return this.copyPosition(t)},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new ht),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return this.makeRotationFromQuaternion(t)},multiplyToArray:function(){},multiplyVector3:function(t){return t.applyMatrix4(this)},multiplyVector4:function(t){return t.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(t){t.transformDirection(this)},crossVector:function(t){return t.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){},makeFrustum:function(t,e,i,r,n,a){return this.makePerspective(t,e,r,i,n,a)}}),Nt.prototype.isIntersectionLine=function(t){return this.intersectsLine(t)},lt.prototype.multiplyVector3=function(t){return t.applyQuaternion(this)},(0,f.default)(Xe.prototype,{isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionPlane:function(t){return this.intersectsPlane(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),(0,f.default)(qe.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(t,e){return this.getBarycoord(t,e)},midpoint:function(t){return this.getMidpoint(t)},normal:function(t){return this.getNormal(t)},plane:function(t){return this.getPlane(t)}}),(0,f.default)(qe,{barycoordFromPoint:function(t,e,i,r,n){return qe.getBarycoord(t,e,i,r,n)},normal:function(t,e,i,r){return qe.getNormal(t,e,i,r)}}),(0,f.default)(zo.prototype,{extractAllPoints:function(t){return this.extractPoints(t)},extrude:function(t){return new oa(this,t)},makeGeometry:function(t){return new ya(this,t)}}),(0,f.default)(ut.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ht.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(t){return this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return this.setFromMatrixColumn(e,t)},applyProjection:function(t){return this.applyMatrix4(t)},fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(Ct.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(pe.prototype,{computeTangents:function(){},computeLineDistances:function(){}}),(0,f.default)(ue.prototype,{getChildByName:function(t){return this.getObjectByName(t)},renderDepth:function(){},translate:function(t,e){return this.translateOnAxis(e,t)},getWorldRotation:function(){}}),(0,d.default)(ue.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(t){this.rotation.order=t}},useQuaternion:{get:function(){},set:function(){}}}),(0,d.default)(en.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(nn.prototype,"useVertexTexture",{get:function(){},set:function(){}}),rn.prototype.initBones=function(){},Object.defineProperty(po.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(t){this.arcLengthDivisions=t}}),Or.prototype.setLens=function(t,e){void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},(0,d.default)(No.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),(0,d.default)(de.prototype,{length:{get:function(){return this.array.length}},copyIndicesArray:function(){}}),(0,f.default)(Te.prototype,{addIndex:function(t){this.setIndex(t)},addDrawCall:function(t,e,i){this.addGroup(t,e)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),(0,d.default)(Te.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),(0,f.default)(sa.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),(0,d.default)(Zs.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),(0,d.default)(He.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new qt}},shading:{get:function(){this.type},set:function(t){this.type,this.flatShading=1===t}}}),(0,d.default)(Ba.prototype,{metal:{get:function(){return!1},set:function(){}}}),(0,d.default)(je.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(t){this.extensions.derivatives=t}}}),(0,f.default)(qr.prototype,{clearTarget:function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},animate:function(t){this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){this.setScissorTest(t)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){},allocTextureUnit:function(){},setTexture:function(){},setTexture2D:function(){},setTextureCube:function(){}}),(0,d.default)(qr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){this.shadowMap.type=t}},shadowMapCullFace:{get:function(){},set:function(){}}}),(0,d.default)(Pr.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),(0,d.default)(Dt.prototype,{activeCubeFace:{set:function(){}},activeMipMapLevel:{set:function(){}}}),(0,d.default)(Et.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(t){this.texture.wrapS=t}},wrapT:{get:function(){return this.texture.wrapT},set:function(t){this.texture.wrapT=t}},magFilter:{get:function(){return this.texture.magFilter},set:function(t){this.texture.magFilter=t}},minFilter:{get:function(){return this.texture.minFilter},set:function(t){this.texture.minFilter=t}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(t){this.texture.anisotropy=t}},offset:{get:function(){return this.texture.offset},set:function(t){this.texture.offset=t}},repeat:{get:function(){return this.texture.repeat},set:function(t){this.texture.repeat=t}},format:{get:function(){return this.texture.format},set:function(t){this.texture.format=t}},type:{get:function(){return this.texture.type},set:function(t){this.texture.type=t}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(t){this.texture.generateMipmaps=t}}}),(0,d.default)(jr.prototype,{standing:{set:function(){}},userHeight:{set:function(){}}}),As.prototype.load=function(t){var e=this;return(new ms).load(t,(function(t){e.setBuffer(t)})),this},Ls.prototype.getData=function(){return this.getFrequencyData()},_s.prototype.updateCubeMap=function(t,e){return this.update(t,e)};var Pu={merge:function(t,e,i){var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,i)},center:function(t){return t.center()}};Tt.crossOrigin=void 0,Tt.loadTexture=function(t,e,i,r){var n=new co;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},Tt.loadTextureCube=function(t,e,i,r){var n=new ho;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},Tt.loadCompressedTexture=function(){},Tt.loadCompressedTextureCube=function(){};var Cu={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}};t.ACESFilmicToneMapping=5,t.AddEquation=a,t.AddOperation=2,t.AdditiveBlending=2,t.AlphaFormat=1021,t.AlwaysDepth=1,t.AmbientLight=jo,t.AmbientLightProbe=xs,t.AnimationClip=$a,t.AnimationLoader=oo,t.AnimationMixer=Js,t.AnimationObjectGroup=qs,t.AnimationUtils=ka,t.ArcCurve=mo,t.ArrayCamera=zr,t.ArrowHelper=Mu,t.Audio=As,t.AudioAnalyser=Ls,t.AudioContext=fs,t.AudioListener=Ss,t.AudioLoader=ms,t.AxesHelper=Su,t.AxisHelper=function(t){return new Su(t)},t.BackSide=1,t.BasicDepthPacking=3200,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return new uo(t)},t.Bone=an,t.BooleanKeyframeTrack=Xa,t.BoundingBoxHelper=function(t,e){return new bu(t,e)},t.Box2=ru,t.Box3=Ot,t.Box3Helper=wu,t.BoxBufferGeometry=Pe,t.BoxGeometry=Le,t.BoxHelper=bu,t.BufferAttribute=de,t.BufferGeometry=Te,t.BufferGeometryLoader=Qo,t.ByteType=1010,t.Cache=eo,t.Camera=Br,t.CameraHelper=xu,t.CanvasRenderer=function(){},t.CanvasTexture=fn,t.CatmullRomCurve3=wo,t.CineonToneMapping=4,t.CircleBufferGeometry=La,t.CircleGeometry=Ta,t.ClampToEdgeWrapping=L,t.Clock=Ms,t.ClosedSplineCurve3=Au,t.Color=qt,t.ColorKeyframeTrack=qa,t.CompressedTexture=dn,t.CompressedTextureLoader=so,t.ConeBufferGeometry=Aa,t.ConeGeometry=Sa,t.CubeCamera=_s,t.CubeGeometry=Le,t.CubeReflectionMapping=w,t.CubeRefractionMapping=_,t.CubeTexture=si,t.CubeTextureLoader=ho,t.CubeUVReflectionMapping=S,t.CubeUVRefractionMapping=A,t.CubicBezierCurve=Ao,t.CubicBezierCurve3=To,t.CubicInterpolant=Va,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.CullFaceNone=0,t.Curve=po,t.CurvePath=Bo,t.CustomBlending=5,t.CylinderBufferGeometry=Ma,t.CylinderGeometry=_a,t.Cylindrical=iu,t.DataTexture=Bt,t.DataTexture2DArray=ui,t.DataTexture3D=li,t.DataTextureLoader=uo,t.DefaultLoadingManager=ro,t.DepthFormat=W,t.DepthStencilFormat=H,t.DepthTexture=mn,t.DirectionalLight=Ho,t.DirectionalLightHelper=yu,t.DirectionalLightShadow=Wo,t.DiscreteInterpolant=Ha,t.DodecahedronBufferGeometry=Pn,t.DodecahedronGeometry=Ln,t.DoubleSide=2,t.DstAlphaFactor=206,t.DstColorFactor=208,t.DynamicBufferAttribute=function(t,e){return new de(t,e).setDynamic(!0)},t.EdgesGeometry=wa,t.EdgesHelper=function(t,e){return new un(new wa(t.geometry),new on({color:void 0!==e?e:16777215}))},t.EllipseCurve=fo,t.EqualDepth=4,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=M,t.Euler=te,t.EventDispatcher=e,t.ExtrudeBufferGeometry=sa,t.ExtrudeGeometry=oa,t.Face3=$t,t.Face4=function(t,e,i,r,n,a,o){return new $t(t,e,i,n,a,o)},t.FaceColors=1,t.FaceNormalsHelper=gu,t.FileLoader=ao,t.FlatShading=1,t.Float32Attribute=function(t,e){return new we(t,e)},t.Float32BufferAttribute=we,t.Float64Attribute=function(t,e){return new _e(t,e)},t.Float64BufferAttribute=_e,t.FloatType=F,t.Fog=Jr,t.FogExp2=Yr,t.Font=hs,t.FontLoader=ps,t.FrontFaceDirectionCCW=1,t.FrontFaceDirectionCW=0,t.FrontSide=0,t.Frustum=Rt,t.GammaEncoding=ot,t.Geometry=pe,t.GeometryUtils=Pu,t.GreaterDepth=6,t.GreaterEqualDepth=5,t.GridHelper=fu,t.Group=Dr,t.HalfFloatType=U,t.HemisphereLight=Ro,t.HemisphereLightHelper=pu,t.HemisphereLightProbe=ys,t.IcosahedronBufferGeometry=Tn,t.IcosahedronGeometry=An,t.ImageBitmapLoader=us,t.ImageLoader=lo,t.ImageUtils=Tt,t.ImmediateRenderObject=au,t.InstancedBufferAttribute=Zo,t.InstancedBufferGeometry=Jo,t.InstancedInterleavedBuffer=Qs,t.Int16Attribute=function(t,e){return new ge(t,e)},t.Int16BufferAttribute=ge,t.Int32Attribute=function(t,e){return new xe(t,e)},t.Int32BufferAttribute=xe,t.Int8Attribute=function(t,e){return new fe(t,e)},t.Int8BufferAttribute=fe,t.IntType=1013,t.InterleavedBuffer=Qr,t.InterleavedBufferAttribute=Kr,t.Interpolant=Ga,t.InterpolateDiscrete=$,t.InterpolateLinear=tt,t.InterpolateSmooth=et,t.JSONLoader=function(){},t.KeyframeTrack=ja,t.LOD=en,t.LatheBufferGeometry=ga,t.LatheGeometry=va,t.Layers=ee,t.LensFlare=function(){},t.LessDepth=2,t.LessEqualDepth=3,t.Light=No,t.LightProbe=gs,t.LightProbeHelper=du,t.LightShadow=Fo,t.Line=sn,t.Line3=nu,t.LineBasicMaterial=on,t.LineCurve=Lo,t.LineCurve3=Po,t.LineDashedMaterial=Fa,t.LineLoop=ln,t.LinePieces=1,t.LineSegments=un,t.LineStrip=0,t.LinearEncoding=at,t.LinearFilter=D,t.LinearInterpolant=Wa,t.LinearMipMapLinearFilter=O,t.LinearMipMapNearestFilter=B,t.LinearToneMapping=1,t.Loader=ds,t.LoaderUtils=Yo,t.LoadingManager=io,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=1025,t.LuminanceFormat=1024,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.Material=He,t.MaterialLoader=qo,t.Math=st,t.Matrix3=ct,t.Matrix4=Ft,t.MaxEquation=x,t.Mesh=Je,t.MeshBasicMaterial=Ye,t.MeshDepthMaterial=Tr,t.MeshDistanceMaterial=Lr,t.MeshFaceMaterial=function(t){return t},t.MeshLambertMaterial=Na,t.MeshMatcapMaterial=Ra,t.MeshNormalMaterial=za,t.MeshPhongMaterial=Ba,t.MeshPhysicalMaterial=Da,t.MeshStandardMaterial=Ia,t.MeshToonMaterial=Oa,t.MinEquation=o,t.MirroredRepeatWrapping=P,t.MixOperation=1,t.MultiMaterial=function(t){return void 0===t&&(t=[]),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=4,t.MultiplyOperation=0,t.NearestFilter=C,t.NearestMipMapLinearFilter=I,t.NearestMipMapNearestFilter=E,t.NeverDepth=0,t.NoBlending=0,t.NoColors=0,t.NoToneMapping=0,t.NormalBlending=1,t.NotEqualDepth=7,t.NumberKeyframeTrack=Ya,t.Object3D=ue,t.ObjectLoader=$o,t.ObjectSpaceNormalMap=1,t.OctahedronBufferGeometry=Sn,t.OctahedronGeometry=Mn,t.OneFactor=201,t.OneMinusDstAlphaFactor=207,t.OneMinusDstColorFactor=209,t.OneMinusSrcAlphaFactor=205,t.OneMinusSrcColorFactor=203,t.OrthographicCamera=Vo,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.ParametricBufferGeometry=yn,t.ParametricGeometry=gn,t.Particle=function(t){return new tn(t)},t.ParticleBasicMaterial=function(t){return new hn(t)},t.ParticleSystem=function(t,e){return new cn(t,e)},t.ParticleSystemMaterial=function(t){return new hn(t)},t.Path=Oo,t.PerspectiveCamera=Or,t.Plane=Nt,t.PlaneBufferGeometry=Ee,t.PlaneGeometry=Ce,t.PlaneHelper=_u,t.PointCloud=function(t,e){return new cn(t,e)},t.PointCloudMaterial=function(t){return new hn(t)},t.PointLight=Go,t.PointLightHelper=hu,t.Points=cn,t.PointsMaterial=hn,t.PolarGridHelper=mu,t.PolyhedronBufferGeometry=bn,t.PolyhedronGeometry=xn,t.PositionalAudio=Ts,t.PositionalAudioHelper=vu,t.PropertyBinding=Xs,t.PropertyMixer=Ps,t.QuadraticBezierCurve=Co,t.QuadraticBezierCurve3=Eo,t.Quaternion=lt,t.QuaternionKeyframeTrack=Za,t.QuaternionLinearInterpolant=Ja,t.REVISION="105",t.RGBADepthPacking=3201,t.RGBAFormat=V,t.RGBA_ASTC_10x10_Format=37819,t.RGBA_ASTC_10x5_Format=37816,t.RGBA_ASTC_10x6_Format=37817,t.RGBA_ASTC_10x8_Format=37818,t.RGBA_ASTC_12x10_Format=37820,t.RGBA_ASTC_12x12_Format=37821,t.RGBA_ASTC_4x4_Format=37808,t.RGBA_ASTC_5x4_Format=37809,t.RGBA_ASTC_5x5_Format=37810,t.RGBA_ASTC_6x5_Format=37811,t.RGBA_ASTC_6x6_Format=37812,t.RGBA_ASTC_8x5_Format=37813,t.RGBA_ASTC_8x6_Format=37814,t.RGBA_ASTC_8x8_Format=37815,t.RGBA_PVRTC_2BPPV1_Format=K,t.RGBA_PVRTC_4BPPV1_Format=Q,t.RGBA_S3TC_DXT1_Format=X,t.RGBA_S3TC_DXT3_Format=q,t.RGBA_S3TC_DXT5_Format=Y,t.RGBDEncoding=3006,t.RGBEEncoding=3002,t.RGBEFormat=1023,t.RGBFormat=G,t.RGBM16Encoding=3005,t.RGBM7Encoding=3004,t.RGB_ETC1_Format=36196,t.RGB_PVRTC_2BPPV1_Format=Z,t.RGB_PVRTC_4BPPV1_Format=J,t.RGB_S3TC_DXT1_Format=j,t.RawShaderMaterial=Ea,t.Ray=Xe,t.Raycaster=Ks,t.RectAreaLight=Xo,t.RectAreaLightHelper=cu,t.RedFormat=1028,t.ReinhardToneMapping=2,t.RepeatWrapping=T,t.ReverseSubtractEquation=102,t.RingBufferGeometry=ma,t.RingGeometry=fa,t.Scene=Zr,t.SceneUtils=Cu,t.ShaderChunk=Ut,t.ShaderLib=Zt,t.ShaderMaterial=je,t.ShadowMaterial=Ca,t.Shape=zo,t.ShapeBufferGeometry=xa,t.ShapeGeometry=ya,t.ShapePath=ls,t.ShapeUtils=ra,t.ShortType=1011,t.Skeleton=nn,t.SkeletonHelper=lu,t.SkinnedMesh=rn,t.SmoothShading=2,t.Sphere=zt,t.SphereBufferGeometry=da,t.SphereGeometry=pa,t.Spherical=eu,t.SphericalHarmonics3=vs,t.SphericalReflectionMapping=305,t.Spline=Lu,t.SplineCurve=Io,t.SplineCurve3=Tu,t.SpotLight=ko,t.SpotLightHelper=su,t.SpotLightShadow=Uo,t.Sprite=tn,t.SpriteMaterial=$r,t.SrcAlphaFactor=204,t.SrcAlphaSaturateFactor=210,t.SrcColorFactor=202,t.StereoCamera=bs,t.StringKeyframeTrack=Qa,t.SubtractEquation=101,t.SubtractiveBlending=3,t.TangentSpaceNormalMap=0,t.TetrahedronBufferGeometry=_n,t.TetrahedronGeometry=wn,t.TextBufferGeometry=ca,t.TextGeometry=ha,t.Texture=Pt,t.TextureLoader=co,t.TorusBufferGeometry=On,t.TorusGeometry=Bn,t.TorusKnotBufferGeometry=Dn,t.TorusKnotGeometry=In,t.Triangle=qe,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeBufferGeometry=En,t.TubeGeometry=Cn,t.UVMapping=b,t.Uint16Attribute=function(t,e){return new ye(t,e)},t.Uint16BufferAttribute=ye,t.Uint32Attribute=function(t,e){return new be(t,e)},t.Uint32BufferAttribute=be,t.Uint8Attribute=function(t,e){return new me(t,e)},t.Uint8BufferAttribute=me,t.Uint8ClampedAttribute=function(t,e){return new ve(t,e)},t.Uint8ClampedBufferAttribute=ve,t.Uncharted2ToneMapping=3,t.Uniform=Zs,t.UniformsLib=Jt,t.UniformsUtils=jt,t.UnsignedByteType=z,t.UnsignedInt248Type=k,t.UnsignedIntType=R,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedShortType=N,t.Vector2=ut,t.Vector3=ht,t.Vector4=Ct,t.VectorKeyframeTrack=Ka,t.Vertex=function(t,e,i){return new ht(t,e,i)},t.VertexColors=2,t.VertexNormalsHelper=ou,t.VideoTexture=pn,t.WebGLMultisampleRenderTarget=It,t.WebGLRenderTarget=Et,t.WebGLRenderTargetCube=Dt,t.WebGLRenderer=qr,t.WebGLUtils=Ir,t.WireframeGeometry=vn,t.WireframeHelper=function(t,e){return new un(new vn(t.geometry),new on({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=nt,t.XHRLoader=function(t){return new ao(t)},t.ZeroCurvatureEnding=it,t.ZeroFactor=200,t.ZeroSlopeEnding=rt,t.sRGBEncoding=3001,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(0,y.default)(e)&&void 0!==t?o(e):(n=[e],void 0===(a="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=a))}}]);
!function(e){function r(r){for(var n,l,i=r[0],f=r[1],a=r[2],c=0,s=[];c<i.length;c++)l=i[c],o[l]&&s.push(o[l][0]),o[l]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++){var f=t[i];0!==o[f]&&(n=!1)}n&&(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={3:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/dist/";var i=window.ESJsonpModules=window.ESJsonpModules||[],f=i.push.bind(i);i.push=r,i=i.slice();for(var a=0;a<i.length;a++)r(i[a]);var p=f;u.push([151,1,0]),t()}([]);
var _0x15c9=["focusAnimateTime","notMove","_alwaysShowLabelAndPOI","loadFloorBase","asyncBuidExtents","loadFloor","loadedFloorNums","putFloor","forEachFloor","updateFactor","loadRoad","asyncBuildPOIs","asyncBuildLabels","thicks","floorBases","poiLayer","poilayers","pois","loadLayerComplete","labellayers","labels","callbackByFloor","floorLoaded","mapModelsLoadedAll","initViewState","floorNames","updateScrollFloorsControl","visibleBuildingsChanged","blured","visibleBuildings","easeOutQuad","focusOnLoaded","naviData","maxShowModels","buildingMergeModel3D","handleBims","addBimModel","bimModelsCount","addToQueue","Bone","SkeletonUtils","isWall","$basic","jpg","model load failed:",", error: ","sources","allDataMap","queuesOther","bimNewQues","loadedCount","bimInfos","tanks","bimSetData","controlstate","bins","onesize","pages","total","handleTanks","mergeMode","checkComplete","onGetBimInfo","IDBUpdateItem","IDBAddItem","queues","bim加载完成，耗时","bimLoadedAll","getBimSetFromIDB","bimSets","deleteObjectStore","ESBIM","collections","bimDatas","ESBIM IDB初始化失败","fetchBimSet","bimset not exist!","dispatchBimPageByControlIndex","filetime","clearCache","-bimset.bin","startsWith","-bim",".bin","getDesFromNlist","nlist","infos","cates","bimid","bimInfo不存在:","bimId","onQueueUnMerged","computeVertexNormals","模型数据为空","IDBUpgrade","onupgradeneeded","createIndex","myIndex","page","dynamicShowsModel","excludes","hideGroup","loadFloors2","normals","EXTENT_EPSILON_Y","themeList_","themeStyleLoaded","texture lost","addFloor","extent","pointGeometrys","scaleRateChanged","mergeExcludes","planes","tubes","isMerge","normalizeUvs","geos","tubeData","tube","modelimagelayer","modelImageMeshs","modelMats","modelImagesData","bimModelData","bimModelDatas","modelTexturesData","modelImagePos","modelImageNor","modelImageIndex","modelImageGroups","loadModelTextures","repeatType","MODELTEXTURE_ERR","computeTopFaceAttr","computedTopFace","loadImageLogo","fixTextures","isPowerOfTwo","matindex","roomid","convertBimData","loadImageDatas","percent","updatePoints","splitAlpha","isFront","shaderConfigs","shaderNeedUpdate","updateColor","updateHeight","updateHeightId_","componentsManager","minRepeatLevel","textureOffset","CIRCLE","PLANE","getDashArrayByLineType","notCenter","linemode","ESMapNavLineGeometry","nocenter","yScale","baseRepeatX","uvBaseLen","transparency","isSectionGray","sectionAlpha","isSectionFront","\n                    #include <clipping_planes_pars_vertex>\n                    attribute float texOffset;\n    \n                    varying vec2 nvUv;\n                    ","\n                    #include <uv_vertex>\n                    nvUv = vec2(uv.x + texOffset, uv.y);\n                    ","uniform vec3 diffuse;","\n                    uniform vec3 diffuse;\n                    uniform float passPercent;\n                    uniform bool isSectionAlpha;\n                    uniform bool isSectionGray;\n                    uniform float sectionAlpha;\n                    uniform float isSectionFront;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n    \n                    float changeProgressAlpha(float oa, float ta, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            return mix(oa, ta, isSectionFront);\n                        }else{\n                            return mix(ta, oa, isSectionFront);\n                        }\n                    }\n    \n                    ","   \n                    // #ifdef IS_SECTION_GRAY\n                    //     outgoingLight = changePassColor(outgoingLight, passPercent);\n                    // #endif\n                    if(isSectionGray){\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                    }\n    \n                    float resultAlpha = diffuseColor.a;\n                    // #ifdef IS_SECTION_ALPHA\n                    //     // resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    //     resultAlpha = 0.0;\n                    // #endif\n                    if(isSectionAlpha){\n                        resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    }\n                    \n                    gl_FragColor = vec4( outgoingLight, resultAlpha );\n                    ","_updateMaterialByNaviMap","_update","baseFloorHeight","transparentLine","CENTER","DASH","DOUBLE_DOT_DASH","TRI_DOT_DASH","ARROW","materialInfo","isSectionAlpha","_billboard","initUpdated","updateReapeat","pathVertices","_upVec","setFromAxisAngle","#ff0000","#4a82d2","_doColor","_drawNormal","_drawGodArrow","godColor","godEdgeColor","godArrowColor","arrowHeightPercent","arrowWidthPercent","arrowPercent","_setMaterialInfo","godHeightPercent","#ffffff","godArrowPercent","godArrowWidthPercent","godArrowXScale","_uvs","_up_","_rings","Face3","makeBasis","Geometry","_locked","toPng","topCard","toCanvas","createCard","template","-9999px","card","animateTime","animateHeight","animateDelay","preserveMatrix","preservePosition","preserveHipPosition","useTargetMatrix","hip","names","isObject3D","getBones","bones","offsets","setFromMatrixScale","makeRotationFromQuaternion","skeleton","boneInverses","isBone","useFirstFramePosition","fps","getHelperFromSkeleton","getBoneByName","toArray","quat","bone","].position",".bones[","].quaternion","SkeletonHelper","getNearestBone","bindMatrix","length","push","prototype","call","shift","apply","exports","defineProperty","undefined","toStringTag","__esModule","default","hasOwnProperty","ESJsonpModules","bind","slice","getValue","getValues","dedupe","attributeCount","setDefaultValues","isObject","eachObject","cloneObj","getDeviceDPI","base64ToBlob","createHash","forEach","object","screen","deviceXDPI","deviceYDPI","createElement","DIV","cssText","body","appendChild","offsetHeight","parentNode","removeChild","split","atob","charCodeAt","random","toString","join","paths","addEventListener","ESMapResolveReady","init","ESMap","options","mode","mapId","detail","map","mapMode","MapMode","City","initIndoorPaths","EPATHDEBUG","EPathManager","initCityPaths","mapDataSrc","gdbs","serverUrl","Base64","decode","getLicUrl","lic","setPath","tile","getCityTilePath","getRemoteNotifyUrl","query_sign","building","getCityBuildingPath","getCitySearchJsonPath","buildingSearchJson","getCityBuildingSearchJsonPath","cityTheme","getCityThemePath","buildingTheme","getCityBuildingThemePath","buildingAsset","getCityBuildingAssetsPath","buildingModel","tileModel","getCityTileModelPath","getIndoorMap","buildingThemeAsset","getIndoorThemeAssetPath","getIndoorAssetsPath","searchJson","getIndoorSearchJsonPath","getPath","string","off","isRandom","skMode","map/mapdata!getmap.action?bids=","mapoff/mapoffdata!getmap.action?bids=","&token=","&t=","parse","?t=","themeID","filename","mapThemeSrc","getIndoorThemePath","ext","timestamp","type","lang","getIndoorModelLibPath","/map/mapmodel!getmodel.action?bids=","&name=","getIndoorBuildingModelsPath","/model/",".gltf","/search.json","version","location","href","getTime","encode64","token","worldeditor","ESMapUtil","getSubDirByS","_lic.esmap","/eslic/lic!getlic.action?cids=","&s=","&k=","&url=","&tid=","domain","/esworldmap/eslic/lic!getlic.action?cids=","&sign=","&tid=99","buildingId","/buildings/",".esmap","AND","/esmapoff/mapoff/mapoffdata!getmap.action?bids=","/escopemap/map/mapdata!getmap.action?bids=","&ck=","&p=","/worldtheme/","getCityBuildingThemeAssetPath","tid","/theme/","/buildings/theme/","/EsmapJsonOffData/","/EsmapJsonData/","typeId","/15/","_tile","nav","/citymap/citymapdata!getmap.action?cids=","&x=","&y=","__mtn","/map/mapmodel!getmodel.action?cids=",".gltf&token=","getCityBuildingModelsPath","modeltoken","/buildingModels/","doDispose","getTileBound","getTileFromMec","computeModelInfo","findGroup","getChildByFaceIndex","datas_","o3d_","children","geometry","dispose","material","pow","maxx","WGS84ToGCJ02","lonLat2Mercator","Mercator2lonLat","minx","miny","maxy","ceil","json","materials","parser","meshes","scene","attributes","position","count","name","_root_","parent","gsdbt","fromCharCode","PRIVITES","aHR0cHM6Ly93d3cuZXNtYXAuY24=","aHR0cDovLzE5Mi4xNjguMS4xMjc6ODA4MQ==","ZXN3b3JsZG1hcA==","ZXN3b3JsZG1hcG9mZg==","aHR0cHM6Ly93d3cuZXNtYXAuY24vdGVzdDEyNw==","ZXNjb3BlbWFw","indexOf","test127","instance","http","../","DistanceofTwoPts","calcProjPoint","getRandom","exitInArray","merge","diffProperties","sqrt","floor","function","reduce","symbol","nodeType","clone","divideScalar","#FFFFFF","TEXTURE","plane","Vector3","alpha","iscross","style","bid","points","center","fnum","type_","esline","ESNodeType","PathPointList","hiddenByFloor","getBuildingById","visibleFloorNums","visible","floorHeightChanged","value","updateGeometry","isMapRoad","roadType","mapTheme","mapRoadMats","main","normal","light","MeshStandardMaterial","transparent","opacity","metalness","roughness","MeshBasicMaterial","color","Color","onBeforeCompile","uniforms","passPercent","uvDistance","maxUvVal","vertexShader","#include <clipping_planes_pars_vertex>","\n                    #include <clipping_planes_pars_vertex>\n                    varying vec2 nvUv;\n                    ","replace","#include <uv_vertex>","fragmentShader","uniform float opacity;","\n                    uniform float opacity;\n                    uniform float passPercent;\n                    uniform float uvDistance;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float percent)\n                    {\n                        if(nvUv.x < percent * uvDistance){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n                    ","gl_FragColor = vec4( outgoingLight, diffuseColor.a );","\n                    outgoingLight = changePassColor(outgoingLight, passPercent);\n                    \n                    gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n                    ","lineMaterialShader","dashArray","textureLength","side","DoubleSide","repeat","matSide","circle","lineWidth","lineWidthMeter","pathPointList","set","PathTubeGeometry","fixedWidth","getSpriteScale","userData","trueRadius","drawMode","PathGeometry","update","both","arrow","progress","depthTest","blend","blending","AdditiveBlending","renderOrder","ESRenderOrder","lineObject","_onUpdate","onUpdate","_onControlChange","onControlChange","_onvisibleFloorNumsChanged","visibleFloorNumsChanged","zoomed","updateLineWidth","noAnimate","lineMode","clearGroups","addGroup","reverseAnimate","offset","animateSpeed","passDistance","needsUpdate","_colorToStr","number","createTexture","TextureLoader","load","anisotropy","minFilter","LinearMipMapLinearFilter","wrapS","RepeatWrapping","wrapT","updateStyle","lineType","controlchange","mapPicker","watchingList","splice","remove","Mesh","lodSources","Object3D","meshHandler","mapScene","layerManager","ESLayerManager","buildingType","modelLoadManager","lineLevel3","add","roadLoaded","firstEmitLoaded","lineLevel2","controlUpdated","zoomLevel","tileService","currentShows","tempDatas","loadBuildings","showRoads","setLineLayerVisible","checkLoadProgress","tileLoadComplete_","checkLoadedAll","lineLevel1","modelStatic","roomModelsCount","mapService","modelLoadCount","handleModels","handlePolygons","loadPois","sourceData","Labels","ESLayer","ESLayerType","MODEL_LABEL","boxCollision_","ESMapBoxCollision","MODEL_POI","ipos","left","top","bottom","Sid","image","poiStyles","fontstyleid","labelStyle_","ESMapLabel","ESLabel","tileId","data_","scaleOffset","bType","DEFAULT_COORDSYSTEM","coordSystem","_coordMapSceneToThree","modelViewMatrix","multiplyMatrices","currentCamera","matrixWorldInverse","mapTheme_","transformCoord","initY_","POI","ShowLevel","matrixWorld","deleteRoadById","loadRoads","navData","addLayer","getOrCreateLayerByName","getLayersByTypes","getLayersByNames","handleLine2","LineBasicMaterial","roadStyles","substring","outline","__ro","sceneX_","sceneZ_","BufferGeometry","array","getAttribute","addAttribute","rotation","XYZ","baseScene","drawRoad","linewidth","animationspeed","height","roadStyle","url","LINE","addObject","handleLine","rank","inView","tileScene_","stopJumpO3d","jumpO3d","getNearTilesByCoord","_jumpID1","stop","_isAnimating","force","times","MAX_VALUE","delay","duration","time","TWEEN","Tween","easing","Easing","Quadratic","InOut","onComplete","_jumpID2","Out","start","callback","chain","coord","WGS84","round","__proto__","isString","_switch","_eventMap","context","once","_wrapOnceHandler","toLowerCase","Z__","handler","listens","isNil","fire","_eventParent","_fire","_clearAllListeners","_setEventParent","concat","domEvent","getBuildingOptions","MapOptions","data/","Building","dataUrlPrefix","scalerOffet","scalerBgColor","firebrick","#fff","userCrs","mapYoffset","mergeModelLines","modelSelectedEffect","model3DSelectedEffect","container","minViewDistance","viewMode","shadowEnabled","compassPointerUrl","compassPosition","cameraMode","ESCameraMode","NORMAL","shadowSize","shadowAlpha","lightAngleX","lightAngleY","defaultControlsPose","controlsRotateThreshold","controlsScaleThreshold","defaultAngle","defaultTiltAngle","perspective","viewModeAnimateMode","viewModeAnimateTime","moveToAnimateMode","moveToAnimateTime","compassOffset","compassSize","compassAngle","hoverMode","hoverTypes","all","powerPreference","maxScaleLevel","defaultScaleLevel","randomTexture","naviLineAnimation","loadModel3D","loadPoi","hideRoomLogoMeshes","lineSelectedEffect","enableZBufferFixing","editMode","closeComposer","effects","mergeModel3D","devMode","quality","compatibleMode","minZoomLevel","modelImageAlphaTest","getPlatform","isPC","initBuildingOptions","maximumBuildings","DefaultBuildingOptions","DefaultCityOptions","MODEL3D","Evento","convert","model","model3d","glowing","movePathLoopCount","Clock","markers","_lastDirectionV","_lodLevel","_lodName","created","_lodManager","modelLod","computePosition","child","scaleLevel","showLevel","isChildNode","actions","tweens","gltfModel","model3D","scaleRate","scale","Quaternion","setFromEuler","initMapCoord","coordThreeToMap","addTo","FloorNum","bindEvents","callbackparams","onZoomed","ANCHOR_","getObjectByName","error","can not find anchor ","ACHOR: ","getWorldPosition","removed","_bindupates","stopMoving","emit","toRot","needRotateCamera","quaternion","setPosition","applyMatrix4","cross","angleTo","radToDeg","istaped","needRotate","rotateAngle","moveTo","_moveToID","angle","threshold","_coordThreeToMapScene","coordMapToThree","getRouteAngle","orientToPath","lastWalkAngle","distance","abs","forward","backward","Matrix4","lookAt","multiply","Euler","degToRad","setFromRotationMatrix","copy","lastRotateAction","Circular","slerp","Linear","onMoving","jump","movePathing","stopJump","flash","stopFlash","restoreScale","originalScale","hide","setScale","multiplyScalar","rotateTo","Math","ZXY","rotateAnimate","viewLocked","gestureController","enableMapPan","lockView","target","controls","setScaleLevelValue","scaleLevels","followAngle","keyCode","keydown","animating","currentCamera_","enableCollide","viewRangeUpdated","makeRotationFromEuler","traverse","istransparent","setAlpha","clonemat","changed","stopGlow","glowSprite","glow","fixedSize","seeThrough","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAABnRSTlMAAAAAAABupgeRAAAgAElEQVR42u192ZbjOrIrWL3//5Ob96HXqZvbIhGIgZTkJB9qOV2yBkoCIhADgTPOOOOMM84444wzzjjjjDPOOOOMM84444wzzjjjG0c7U3DGL3rcm/TA997PXJ3xK96IMwVnfMmj3LY+zIckzviGt+ZMwRlvel6rUb61Vg7lhxvOeM0LdabgjOc+nSG4X+oKxMD9UMIZD33FzhSc8YgH0YnamwUfZXhR/rDCGfe/d2cKzrjhsfPA90P8gA22/6GEM3a/iWcKztjxnGlw/FI/YJHtf/jgjOUv5pmCM1Y9WxY6v8UPeILtf8jgjCUv6ZmCM8oepiLE30AMhWOFyHP44IxN7+yZgjNSDxDF3yc4AZkfhnF2p/l/yOCM+Pt7puCMyHMzh9QkJbg2C2xcO/ab/+R/DxOc4X6RzxScoT4rE5x9vhOw2QN4gvl/yOAM6dU4U3CG8Yj4cT/vBPxaD6Dc/D9McAZ7d84UnDF+Mpy4H+YDeBA8gPVJeggAqP6TjPnvRfzDBGcM3o4zBWf8/6ehCPSPBxDeuFbwOWRwhvHunCk4w4XjN3oAN5aJ3VXqVeUBHCY4Y/yOnCn41bf/ApEbnICH5IZWjW0h33Xm/6GB34sAZwp+413XTPuXKkJYxgrPSfpcBPqHCX4dFJwp+F33+9/IqIs8XxMTnv02g30vivoqTHBo4BcBwpmCL7mR/wdnw7dXtO7Dm8W+V/4Xz1OEnpzmHwZ9HCb4nbhxpuAb7mICIpPKz04ySIK76+c3Zn8uAn1Ezf9DA98MHWcKXn8LW4MgaChAn1SEtslBT+gC/UDZ5zDBGW70OFPw+ls4IgDlJ9fPVV+imgz2t4H7OVbkgD5T6z808OvQ40zBu+/fD/T/CXZKJMCkAfJf61KGvMfNT+DDw7/liT0l3xwa+BIAOVPw4pv3f2jYWot5ANcP4g/JN1hs/t+r/7xC+aligkMD348hZwpefPMu5r/LCdC1o9r4AULB3hlX6Ri0NAi8P+t/p8jDcf/QwIsx5EzBK2/bv9HQGwYY/tz1Q9c3se+H/ytGvDeM5+T8PAf3DxO8D0nOFLzshs0BUXECiAcw++FO89/8CWcLJfcpMHZ2fFvtBGzA/UMDb8KTMwWvuVUTKTzjBFw5gLy9twtBs2v0Ig457iLlB88Tf1bj/qGBd6DKmYIX3CQaBeVOwPVVnDkBG4SgfBD4CRLQatDHF+H+oYGnY8uZgkffHgH6EcJx87eENvRvsKCj3MepcsR5oAS0J83/XqA/NPAahDlT8Nx7I6ftuyIBSQ/gxpAAOU8XxOyXgJ4s+i/683DAO0DmTMET74oT+uHX9EXv4e/PYx2EVjDB7SpQiQS0obFPIRMcGvhaqDlT8Kz74Yd+aGg+hHLiOoS7iq6WhkwXh6cwBcaNEtCTTf5DA98AOGcKnnInctAPpxNQVUkw/BMVDgEsCejnpX2ZBHSL7r8C3A8NPB12zhQ84jZQTFf+NHOB+HF/NpOoLQjIV4rhd0tAq52AEgSP7eRwwP3Ic6bg5hvgt/RB9R/8QHOCkuFQ8F00MOtfxMHu1RJQOfSvxvqS/zpjK/6cKbht6j3Cjr7ZXxz3egDIpQPtKQ7I14KZV/eE5s+vhv78ZmfsQ6EzBffMuwD3AYbICEFKFqmJ6UcCErcs9AM2BHX3bHY44AYgOlOwe8ar4f7jz5ieU6sC7ZSAZtjRey9sHH1L3/8nQ/+en5yxHI7OFOyb6xzEl4QByFmFA8jKGc6+gYcJhpcpYkeADJ6c/blZ8NlACUcRugeUzhRsmugFcA+5GuAqmIRrib0oX94velFLuM0JoGE/oCrDZxH0r6OEM5bg0pmC5VNcZ/gHwgBXq3nWGSKjAu2UgCCvflM+3qv+b4b7RbRxRj06nSlYOLl3QD8SwYCkCrSaBvRi4L/fbE4Drer5vE79f/vnM4ox6kxBzTzKre130kAtBwzDqpsDwnxlmLtiADcGfrElRefQwNcC15mCgkmUl1YXjffkZ28oWHEdeJvl1TUBylLGJaUAr277s0GLr6WEwwH3Y9eZgoJJtEA2H9ENb+xNB9KdhkW2f5gDYujAF0EbjvLKr23qf/nn/ZyBQwO12HWmoGASE6n34ufYBi4OWBENRmluqLcUoHZs6/u2Ie2nFrjv5YkzUth1piA7gxpc8j7+4ucAN8zSgfS+QFeQ9aJ8oSIkrgv298udQeD9/R52Gv6xDfYwzRlx+DpTkJo+v9VciPLedCCvB8DbriVBPxwK5pNsLoCjj3uTPp9p+Bf+qtwtOCOCYGcKHJPlX6tk9vNynWf2ZUAFWlcQUMIB+YUhHxgE3tDj4RZA30kzZ0Qw7UyBY7IEOAuo7Yu+NC16cm6ZgoANrsDsQgJYsDkI/E2G/3MII3ybzjgE4AMLE55upIGkCpSpI4NnMQNURIb3FwOviARs6PBT6ARk/nfRl/A32zjjX+/UmQLHZI3QMLCySi24Q1aBUMEBel+gJAfAEwRe/cKv6PzzWPRfRwOL/IPZ3B4OsDHtTIE6UwK4u2znEsSPqUAuDghXt2ElB5g9jlDUDWJPClB5fe9DaGApH5gzdgjAhrUzBdI0TdZb1zc2Ua8W8WF5ACIHBELBqznAbAp9hYMwB/wq9N/wvyv4YDZ1vfdDADaynSmQpkkw7b1aUK0HkM8FSq4sFlvLHloAQM8E5e+8yATrur89LdN/EYLX7hYC9M/M/8MBxmt7psCeI2d0NOAuIIH4tSpQvqXo8HpL8kGVdFvzhS9cE3h10e9j0T+8fQkxwKKBQwAOcDtTIOIFr/niUnWABsqhH57+oAT9P/QWXfCp1YKS7YAyZQSIJiDervw8lgYKAwA/lZ/DAfaLcKZAgQaCiaITcDv0//3gPatYNNv1X+IGsJyA8KJghfVfJegPPxlUof+jaMAL/biA/ikZM16BMwUcceBcb2sIVas9AP2Dl5kyGU3YLgRtKARbtOTL6uLe1ei/B/pjHAAtevxLQe9MwQwxdUwsEYJu5ACk/Rhs5IC7SgGU/d8u/X8Z+nPgJnmf5FoOB/zrbTpTMEMTERZd6J/3AGo5QJfaS/rcmf8FDyUopQCFo6rzzx7p/3b0XwT9hAlI7PdwwPSdPVMwREYR4K7ISJLW13kAsZ/EwgC1i18iERt4WjFwufm/Othbhf53eQAQdH+c1CCOe2cKrmgimqgESc0+cetUoKpQcCwfdKcTsNMDeL75v9nk388Tw5kRPYbDAdMX9kwBPEkv3pgq76wQo4E8GYjdgbxx4+tFbXYCnkYA95r/5fLO0/QfEuy9bvA3PfQEhP/1Kp0pQDQ6qv9QJJgVmo8YBijkgA1OwEsJoNb8X5TUvwH9l3oA1wMR8/9wwC8lADG3JJYkw+MBYvIoNARHjgOqChoyq95n/twWBthMAHsU/53onznEcMbIZkPEdx3lFyHh77pafwc0UbER4wHi2iwuKx51ElAVB2wmAEwWrSwcKwhgXbqna7MNpn3m0MMpIjo+wf3DAYPX9hddqpxj7srxh6aTeIMBIqYnucFVGKwHSLCLD17tAdTW9yYdgnIbP08Gs4k1ZZyf6C9C/6/lgN9CAHqdl4l3YoYP+a3oYSzigLwQ9DQCwPowwKMI4Eahfxv6m9Y92eZq/mcyTb97/PMbLlKMWA5RUoQkjpjmD++CfviFoEyPa6wngG8dvXe+lv1fEUxpd/qx8exXsw3M74ebXf/E/7XiUM7n506GS/38RfBre4+Pw/EPv2p8vweggIWuBelCkKIC6bvFYg7wljI8kwDeVQdAYsJPKNmtdQK8HsNwZniVLybiT0nF2SGAdxOACUYu9Fdav3GdJ9BVNPan8v0M1nkWk8tJcpEBvkUC4qCfJIDaSO+NcK+v82VGCzLq/+/kgN9LAK5lp5TIrZcDIHSSKOEAVy5QrPLZxPRDAAoBINTYcr/V/zT0H4r+5eXHXzl+RQxAAQ6RAxCqYBJzQ11gV0sMuhOghzfWEQC01cGe89S5VqrhUBi4Ul3r598rf5q6P/nzJ/j+/HMWD/g47nAmXer/L4wH/C4PgOOgiOAiUoe1IPM0UM0BYmM715Z3EcADPYCPDUQngNvL2J7Jo/yZtP29AYCPVcBiuf+/3A/4cg/A2+PBu2cTqQleQ4gEBPJ5wn8qToAuiOF4AHWDGP56/k+hmf/xZ94zgN+5GRr+M8g+fsAUx7788rQkfV3J8boCSq49ScQ0laIqYnClA7mymMwr4tubN2hPItAiDwByJ4PZTnba++FtxGOZkzbbOU/7qTL/v5IMDgEE4wFJDjCBmKBkLegj6gQkgwGLCOAuDhj+74cJaTYwyBNACQ3UAn0t+l+/JPoPirKARD/jjeObJSAly1P8oW7tNmG5dgXfXdvEvkQoEmASQGB+agngmY8flzg2qw1ctFF+Yn7pEoLI4T7qv66lZMOZJIVmAeXni7Wgr/UAXC0wRTTRu+i4VCBXH7oVoA/qqUAIA3jFNP4ZuRiA6111vduiEzCrUOU2LzF4X6TzeP9LnAdcQr4Ymf/ivBWuQHAI4GXoD48WZLoCSoboB7aa+n6GA5L0MFSBXOURZp3dniCw+IoGVCNFshieTKzP5QoCWKHwmP+lpDMN5+T685j078pB4jV6RwJ6JfqbKAYhVgm52GqIknqfOCUpKAb6Cikqkpde77aOADL6z8fRdc4gqSaZh7YQVhSFR99Gyfwx/2u4wbClzwf+fkg617maaTiuPz92e00oICdwCOAd6K/nC+otcVwcQPbA9+NtKJT8L50AIGdGLSWA2f+6kFpPItr2/sfKvjJ784L7UKCf/dd1M8VvG+5hdlO8HACtsd0XJ4N+FQGY6M9/KApBImy1+QIAmTZBMXXLxQdeFWg/AfCLInac8iR8zdtegvjmr1y4z1F1FvUl6E+28Rr+w1Lkr68D+B4CUNDfDFEOMc6LUMPjzuzrPAfowo5rs5ha9QQCuEoEmKsNMQ54Jk+sQHwO4goluE5VR3+TLVwccIV+jBpQP/wB+NUE4CUGseWDWBYLWV0hyGXCq5cwMiqQeXRX2MBFAF6uHRYuuAz/r+GAGCsEtg9QgtiSSER/3vzHywHKPeUa1CGAJ6I82YDjiyt5UcdWCBqLmRUqNpPIsEKAACB3t64lgOtBS+r4FQXADAgPQecV3CAa/i74rkJ/AsoxDvh7AvAoP9/BBN9AAHrgV3ECIPSMc3EAPFI+h2PzBEpcAaV62TzJjATkirIM2bTqzTTDgKbNCCE35gk0EDb8vVQxnLGA7q/AvRIE/nkC0KyH9kXNgl5PALriLwL6cP96Qg40P8DFAQqF5EV/aOylBJDF6dWTbl0E4H1+RHMPWr8HBTU+sG8bygfwPXnEYex3WCOdR3+lctg0/L3Q/3YOeHchmB74FcE6kOEuRlCVgHC5EJSBe1Pc52dYQgBipJ3UgpnmuReIXW97bL3DcMc3sRrLtVnVv7MZMH/Lu/0kOxGZk+ntyPS68WIPoBz9yW+9HKAArglhusZSC/0QtCDIUY3VWtBs9n5upgSERfE3nB34NAnoOecz8xJctn9ABUKd+f9eP+DFHoCoUaDaCfAK4iT5hyPsZg6YEYCejZrPBw1oQcPM2tnq4SLkKS+zy2NQut/km4DeYtrr5j9oa52h4Y+JE4CQf4OE4f+tC8i81QPQs31WOAEu1T4TEBYJICn0B6LBIgFsMP9hOQGznfAtn5AG+mUZh3rJGCbNGCBHoXHxAzBaSBI02f/nXWhaG9HXMcErCSCc7aNHa4dHjHEAga2f/6Unj8JfRVxOACQZP0wAmUSgjyBwPvNSiRB49/9lgA6t38MVwRWSiOk/edmneZoOXZ+W1zHB+wggnO2j2P4ixyT9AJcQ5Mr6N3H8RgIoDwXPTlXMvncFgWfg1UblqYWc8S6In6H5EN8JZM8mTUf/WcanSTDkiKBF5i+9vy8jgBKhH3K2foADXMa7nlQKWWqP4bu5WdvYGSJs/n9wAHlLdYg3t1GUpXbpNKmwzhOAPryrwBFBKdaL/rrsE64hMEvJns8H764DMJ0A8mfTWkGUcABoQJjHM2PxgIyxj+pIAITC4Bj6/5w0LgGJWBamgRnol0DAIhwpr1BT8v0xKpDm+nse/YeyjzmrpgRkQv+RgLbCvcsJ0OFyeBpeM1ynCpOHzDqDn8j4BAIojwQMD9r+3Q0iGQDYEwQ2gW8PE3jZIsAZvBUE7w9BzkFEf8Uq181/XIyA2f6PB7AQ/cOajwvxXTmXyGWXDuMB0JyAwMZ5AgiHgs3cLfizgJREoMDz9hd6knDcrIY2D3zpCl2E6zUq4g/oYsJiHtHQJmjWCsB6JBnvEXzeRwAKUsCp+ZgIZVruAQ4QQVYhOVBdPhwNDjAE/B4A14ICQtAwEYhkE7og/gpGfCcmYZjHap7+lKuhX9/muv3HmcfWdscom3O2w9lyY0pSgKj7z5aaGNIbThZQFe5zmCjUfCCrN/quQKX/ppUHi6QCzcsJ/1cgFKyjvznhsHyOGQYNHXYR4r3bXAFlljV4IzqYfUCV//Jq6FfgBjX8QaV/aB2nh2RjhhZml9CirUMPAcTRP+ME6Fa/uVmGAwIyURPqyFxB4zwNmNqUzhYi+iufr9IZJoE+MV2nkAZ0rIRl+1d5BiXQL/7XDPSvGPqxMS65Us3f+g3zpM/Z5IuJpISlhjs8BBBBfxcN6Fa/iPhhDtAVEkUtMWmA4KwpPSUJwDyWSLcBJjAJoOohRLQRtLK9uAf9QCvgxtU/o01a+rTcwpA6B0CI/SqiUBMqyBDi9UMAvgeuVuuH0JcNpapO7Iiz3NAwKHtpQA8IIxqjNpkgEwRWUgzF91OBqiFnmMLxcyDDuyYw2cA8eS7EYyL+wFmp4EJ/0/D/Suh/KAGY7+EMHRSr3xX2NDkAzmovIt/PtueOwvMJQEF/ZW7NW/9xOBN5hweqigO7KKcJvQceDiuuyi9oVOoS/Yk3EED/RvP9Z5ewQq87BMBeVzgT8Mv/i1MR/7mozwyRzgW1Jg0kCUBRw6pUIPNwHxyAeQkuf8yURb7E51ZcUjwJ/bUQ45V9yH/p60FinrgZ1oLC6N/mRQmcrZvcPugQgBv9RbDIp/2UcICyQ+IENFocoOfnbCMAHu1AdTXAzJFypamYj9yMD0waMAG9FdUQ7B+x4gAej53J98MjkqzQK6MEqNor9ZBdPZ8DHk0AgRSRpvV645gV4wCvHKRoQbOYMITM0Z0E0ITszMIwgEmoIliXiz+gQePrBhlX4CF5JnqoQNf9RdBXqAJaXul1wtuooExZoZ7fu0MAqWdLiRBCdgWQSKgnAVsCuDp8605Ao9WwruhxngAK04F0P2Amgs3WgCW+iLKEZKyBjPnNE/AisJ570sKdgSyiiUBEqFFkHxIP19uFNq2Z6CEAcCyI0YAuAfGcHAU9fx5FxD4zoch0AhQmIFgJwQ8wgxn5dCAR3CGrQB8HIhl+4uOXFNzDr33bmFfuUnIUZeaKmGZIHBPdHx7xpxz9vbPdtLoNVwzpNxKA+ZaWx2M5eCmbzU5AdAJEcDd5IpMRtIgAlFPKoz9oO6AWTQMlZDBUn0ljgOEGYmDgXWk/JB9f3H74vSn+gAZpXehvlnd9/Bkw/59DA88igCYXcCkwYaapBDjAzNgRhXsTUhutDiMIq1xjCQGYh2uefNCMCtTm7YDapOyoOdNAm1UNgEmyKV+ZAEI50tMgPnCSnGLFki5u/mOSUNs8+aOw1qOfXb7L/MeTFg57EAE0OVt8iO/N01JGPAeFA0QagJXvP8R3TIIB3FGA0LChkAC8YQBOALHI//VDoBuEYpeJ+T9J2VeM/e4PHriaxLniwzoHYBSSbbTTpxf9m6dzHLlxT4b+xxEAgWDz4dNdgeap7VKYADT80OTUIJMzZjv3+gFK1Ndl+4tOwOwaZxzvjQFgnggUewJ/PngBqphtrICL8qWOSrFJiEV0m9yEp1ld22Ys4kJ/MYCsoH/zlI81YeWA5Gx/FQE0T48HkTxKOMCEfp60A0vch6wFKX6AArhhAkiqQJgHqJPoD6EbxBXKm5Xsf93SXAwyo/8URn33AAo/Shj6Z3SiLDGGiYLvRf8S9m2jTiFPKw54BAE0rQGcspNyDkC0SwRoPEA5GRPQOQNBq9ctJABdBRLRH5ab1WgdgEsCerj+c/tYsXJk0vyfQT+EFFKO/l7z/7oZJi2j22WZBJwYAMECyOa/TgaLOMDE6CsmwnICIPgBmGvxZjygigC2qUC6E1BSAwy//mMqADH95wkBgCGOE0QGdbmSfMPhlXsA0Gz/GBM0q4foo8b9BMCFdYUMdNW+lgOU6CiHbMhOgIL+3gitTgDmnyIBrAsFzzigTdYeaTQxcXhKpv6DuQS0Wv9pe5OITAYaulyk4Q8sb8BM84enkJijf/M0jp4d+oPGTiGYSgPkT92CWM0BCozyyxHDrfzzjGlgtYhouXSgFq0JICpQs2r9xJvycQ7DYmDxUQwv45WRgMoxovnXmXHRj2L7Y1SJrXy4HmiW5o9RSmgTWkZzUoEz9otRKAKTMPUhgAjuN6HJz2wPpo4/wxFXFBeCEKSg/+zoQyeD4CwPZa8ggEwoGCE/YHiZ5svG48Azs324sXi4IdyYToCo/NQii57NOZzD4dzGoD9wqnrfCP1mkfsCYQWCZ447CSAv/ujUIqI/wRrIPoQoBIkgy6O7M46ZqUM6/7n+bFqhgxkKDqP/kAOuYKQsC4yJWBRLAWqe9I+HKz+znQ9DtbOJjVn9PJTatMR/yIq/rsi1UcUZrMqynbfsuQTAQVYkA1FW1hFQ54BaJ0D0A0xXAHJGkOIABQhAdAJAO0N4Q8HNKgYmuD97Jr0SUKOZJIq9ufQtW7paJGdHvuKYWPE7vAtK/GBIJ6bmg0QDCT7hj+oYehsBFOK+qbyLon/TylbFyDCngaalhzYh50f5X0QT9nU3xUsAtaHgJmeCzh45E2s+fqWg+YwzNig/hcjSKtKNzBipIvrr0E+Iqgn9gvQbETD8m9A94vsJQKEBQgb6PgMcACrFKMBqakGQWzsQxIcWEzbRGSG1B2tUIK/tT+b8WhEKQWU25aPZY2Z2/qpyAlp14VgGzfX3kXPADLI/iNmU1GaBXyU932X789OAp1D819UBBMx/BccVkmhWJg/kpCBOGLC0IF0OaqOuQZhrRKYH4IoG36IC6bY/rGJgxT4waQD+VG7FAAw4AS74EMGleeoPwmwBIdjLlR8IHsDHrvSFXJqW9Nloq4nZDCjTfgsT3EAA4divru+LGkIAB2F5A5wGZkxQ5QdwN6UkGOAlAO5UmQaBjv6zSwssDKA3diY4govxG+svtugdNLlk2EhDUcCuM8w5YBanNZlY0f1hLeeCef4ohAoyyGlFCtns54AXxAB0/0B8veGp8ILcqUJ0Aoag/0EJEPyAKiFIDwboG2RUIN0PUDwMcQHbNk8yaVpRq1gxdEUB7zuvKMh5Uz25K4L7gR/O6MTbMQK0Ii+J/rfcsvcRwFLxJwAoXMGH0Mmg+cO510tzeRWKpW8SgMsJSDIBNL9q9qiIDsFst+IrCqt2twkdIDLvc0uHf5sz3bAl0pYyfCD2lAYtJIal+yueRMD2z3d5ehQTPDEGMIOkGCtANipdrkCeBoZOwBC7EcoIygcDMj5BxgkIoL/JsuZDOISJmQSkMMFM/8lo6y2U8FOIKWJnm7DhP7sRmLTW0Q3/mYjkRf+Y4V/C368ngLD5r1OCwgEEaGLBgDbPyAQVc664P/wekz4TYfQ3tRqkxR/iZIhU7UV/TGrBVkhAmBin3jIiAhYt3SloHaCYrTXC4s+VDPT98Om6/mmi//ByRPRXbvQTmODOIDDBfa/go0QLTJRRRKGW6PTQRjFhziIKyM6kIZOlkAgIKxu4nADzvphfNq0WjBsNpgSEeV4/QhUASfOfnIMLg8gZhkliht3X3ZrrNJgS/MwwD6O/qw0c5PIxFxN8FQF4cV/fp2lRujggLAR5aYAHA0QBp2k9JxT5aAamSDgB0CIBSFcCg2ZbgYo51y95364ZQilrE4q4nNcNZsAUpo0rvpvvuMkNJN9/SLqKkV5SM0xoLAPQD2SCTQTQhFxPF7jrYYOAjh8TgmY4bgIoCQlg3s9HPwGdAJaqQEqYgQCKiP7DOwunEKFIQJxazFpT3dCO6f6uvQXg3oRLMuc66wyjKR/7V1J9CB22XLWXyOI6l7e9KaEPjQHoQTxd/DHjAZBdgTbPCCIIDs0PMBEcmhCkhCgUO11HfERrpGf3xWv7Y6QsZVaGcUlAzVoAwMTlsGLgRY22rBwhHPUlL6NrcRg4M0eJB6DDcczD40ywB5N3EICC+yLEK4K1iwO4jNPkTjjNWesLwQ+YEQxokwn+W+4QwJO3E/vAd2s+IU2oBmhaLVgLFYJhFP6F4N0/wfyvGuac6BwgcglfLvh6VjMpr2mZo01YdB7OBhLK/d3PBDfHAESsD0hAcFaiKlGB5q/w0q14Mm+zPYN6IS6fACEnADkVSLmtiu0PZzsg5VkVJSCiNrhejZJG/y6hA/NA6AzKSVNVUfwhMzmb2Dbv7DbDfTil/1hYPkz2j3IClhOAjvuxPYcNfwIrV1YgqAdLyRmiOSw9R/EGQF0BvkPQ9FCOqpkPJqOYjw2/m9dz3i8BtXQFgKICLRKLrxau2EybgH7gDM1yX7NFR5uXjEGw1l00ELsFT2CC3UFg8iQFzH8zDCCihgnZM+QCrdG9gr7CBCYHiL+F3/w3p32DE6DcO8hOAP5t/nuXBW5yFtAQhlqoAiCPnq49NGtp34B9plwIUUVmHCBCPybdfjhL6ZoPqEcV1v1ucQLWEsAK87/JPeN0839mX1+/ISKMVw5yCUFX5nAFAwIegEgAzRMKFj2qMPpj7k8ElgXmi9wSAG255pouw1D5UAIombxPAtwzICZ7ECWgRptGmIIYYbUmR+lFpmVdBSAAACAASURBVLzRCbg/CDxDcFMgVr4MSBMKDZh7blqtb9gPMI8rikjf6gS0fxcDQ7CCMbciZ8+tmP0pvv+brUJ9V4Q7udY/O0TA9uft4YanyptGYJ5FSkAfWpn3i5yAhQRwi/kPp+F//SDSQMAJaKF+bXw2dDnIJIbZrrxUau5NmboM+mMkAWFi188ASHkDG+0RVq7+K6jUtEpXfjgTZ3UOmDFlYFdKYz4T+l2tp/VZNSdTNAL2M8HNQeDhq4tom4ckBzSakG7qQvAk+JPvFUN+huBwBgNmB1Juh/eD1wlQPjehJ+hwKSjloRUlIE4zswzUW+zBJkQ4vesne4eYQsrv2swzI7q/UjnMZ7t52kWUOwGLOGAVAejmfxO6dCkS/xAaXDgF6grMvleAL+8KxOQghQMgBCf0KQVtVoG0E2CiP+bJoLWPNEb6MuaKU3MGhE3cD5j/HGtikK3s1lTSXD6ESQbicvNi5TBoRVjT4sDKHVf8PEQLG3cTgEIDItDPNpt9mf/Q5l0WPr5vtFyAyDjcEjfRn+wQcnMIhS1Q4QS4OCCM/hBqwcTn1hX+jXHMBkuwFUV9Y5ANjzMxWzJs+BjwtqxDD+xjA5eljwoJyGX+c+ivpYElBLDO/OegXw79Jl7DEuKhNfwBzctU+IMjuMsLaUJlwH4nQEd/TBy18HK+LdQHtC1Q/10gxbc0VSCvBNScIV/vIbjsA6vp0ywVOI/+ogSkmAKY1JQoLuaDCMB7s2PmfwkHNFoVbELw7Msh8OkgLiL4ZgKodQIUs92L/jOaIbIMhxh9+wBW7jT/CVqZ0xLDfWjLBgyB2zwfM/WzUbkfQvVADP0zTkCbrFoDq6jtoQRgWu5J89/8U/kAwQMwhRfypQLinBvKCSDMQDO8zjsBzV8S7JWAIAgXbd5IgOM45uLDCvM/gPvKqAr/hvdDjHd+s5qVViRSe7K0IuAEDB+h2fm3BQHhegJoNMFOAfrV5r9u9XO1hyMpLF0+AMT6LeAE4KKQKicA1KtQHgOXBJQBsjYKEhIwIhDMsb4JUnKVKDE7t0VpP2KnT/NXTSgKuyr+OvTDCuMvdQJc9/fj2h8tASkgbv58kflvfgnBAzAN+byeg7QrkNnJUg4A9ZOgxYGRqwUzjc1G+0DMMg7hN/9F5tBfPbOibV01WTmdeDuPkhiyWTegVwCIczu7+wEOWDSKCaDJ1V4t0ebTfOdF0DGxnv85Q3wRf5XJ/DICMFUjVJQEhyUgzG1/ETvM93a1+U9OwIQS3WZvpY2DvO2jZ6vEzPI7h1fX5jVfENYPgCc3dHgXZv6KCP1vygIyycDkhtlO8h+a1g6IaEGiH5BxBTIEED4unNVhsQ/kzzD6k4dH9ACa0DlOwdly819B//Z/LTz/flBgpbCJvxcZ4Fw5h5wwbxtHOD6gxhAoNysDOOjvgf56AmjprP8WVf+roF/EfT4JpougoDD5uWLGDh0XnQAw9z8U6Ie/JiDjBIgc4PUAGq0DmL3/SBQAm+b/uqGjf6PCdCsNJIhERTKIhswxu9cZ9Df/bNZiDLCWHX5HJbCuApk7aXXZPs1q+eBSfkwsdkkr3j2YOE52InIP/x5FQpBCKrMHQLnFTSgFaDSjfAaOuvKTN/9d4k/zN5TOA3cJ9Ouuw7BLRL5rd4YGhve6WesM7yT4fQQwe2ewrOdPBvqHWD9kBcjRYJchn1d1an8IoTgAVg5P03R/ZVcK9EMIA8CfBtpCTSJbbk0oHRQCpBK22YdnpUdKFPRvVss5TPSf2VWY+s91D7FcIPiVH+/qYy9oB92c2Z/mrlaY/5h3+wl7AIoiVIvjYfTXId78X+xqDhFD/+FTpNtZbbQkJObtYjKKTRNChdCszmatZxIr+Gpy9JiLM+aZZOrR9PXloYUBXDQ/Y7IA+pM2Sq6bspsATBp4lPnvMvmHaK6jvI62+iTfQgBNk+9jH1DkBDSrkkBvKxboW9mi7aCb1rWt0cyf1WMGWI0qmea5zfhj6GE0rTnrEPdN6IcnJKDY+NeJCq89WQ79lQTQKnR/8tty8x/zAICI+zHs5jieAXcXVczO30UeWOkENE+D6CaHAUy0+okXjeaTZMQfjvtJT6I516XhmfvN6vDT0tJ/0tJvVqsJE/rJpA0FH9elzW59+ZoBdxIAf4Bg1XY+2fyfGfsi1Lrgu9yuX8E9t3CAYgSgrhi40fY4pkTQNPlefJ8Xmf8BBBdXVNaxm1+1SBIu8Qd+J8D0b9qoGq4JWT0fJ6bPT6ETsKkVBEF2cw+LzP+Wy/nRzXBx0hapOiv2AKGgN0MAraIqWCSAZkn83nfS5RCgKPXTCxOzZEoXuJsJl+IeGm3eycExwHOzCDCE9WRMKmqTwHIhuj6uDsA0/HU+WAH9XpP/CsozpC7H8TCXlBwu7AGscAKapyAAWhxYzAISk1t4h16XBETe8+ZM/WxCwRcs88tUkPiymuLPTXwQU4NEdFI8AFjZPsMzJOsVu7S45mkUWMUHa7OA+DupMEdS+ZmBhQv3Z7icAe7VFv06DsAkk/VjMkW4F4nEhf6YeA/i29KsMuB8c/a2puBLURtcj2iy3wN3ERSjPtAM1SQbkwmu4o8o4xCXxevMmfpee0gWUHtV2ZdOA9Cy/r3ILvLEY9Gf+AFwOgHmTpoQB4ZWD0xem+bJKiHvXnOm/zd/uSm0ylLMe7SZDtD/+kaIGBdDJW7+J2PLZvM+L/STCxzGdZemY7UFoeAlWUCcDEQngO/cPJMq8x9U9mnfMlzXgrkTMINy5TOicWCF+00Ia1QjngFBowsG6G+v4g20RLw3YJN9QFvTBPdmdftJeg8i+Az3Q5yAGfS3SQUcue/9x/DCevNUkrdXZAFxMuAbBIQgJMz/1bKPOXsBp+FFToD+JeQaEf48XB8bV8O164H0NmrKW81Rhm+sv/yxLm+FJWMKU2ZeIl2VIoUFBPp/bsmh3/u+mwsNrdZ/sgSg2O/mz5vW79OE/qvFN/x8o+yTEYVM7nHtM0kAQ440rXidA0wCMD+bXmbs5WyT+iCMmgEEmObnnpXwQKsT/ZucrUhedr37grJzF/IEAsIi9H8cov97iJTDb3r4mcnzwY4sINGaa9UrvbSo+g/a+POxGo5+qsPLzDgKyLUFbenOoLgjBtDkxb6bPxEIE+mfJ/9g3sciPDK93pYuN9aE4oCrA5f3hz7+i1BC05aRUR6Y9rQsoJZQ6hGKAXg5AOlyX6zUfFyQvZo28lvq0I+o/uNF/48/YzEA/v63aHFWi64J9fdPZQXd5LOah/6lLwu/LzMmULJLW6LITu/QlzlKKwoFL+kFxN8xYv5noD+D+zMU3g/TN5JBzPbXOSBMADrNmzQQiAHM0MSV4p1822eEUVVt1BJZQzP4C7hWLpARIbhZTUNbUbeG67Qkzf/yR2gJATRP+v/1v0xbz/shJvt4IRhrhn6UB6K/iOPiB9SVgyHknpp1+S2xFljTcoFmmk+Afrzob85YsxrDLRJ/FFwOyD5V3fm9nlzTQsFtWUD4n/B1zrBe/GGzSjerzH9+2hz0N+OvfojNHOA6nIsD4C8FEN3E2bORibYp4Ft7CAUNmyeyKkKheFxOgVWwLp5P7IfmrjodXvRv/l6wnBuSTLAvC6hZ5Zot1MkrJgEpTACPMu6aNBcZhA99FwEoUK47AXCGAWY0oIBCOO/eZcc1LQe0zaMLHyrQrOhUfD7DXfhnHY9jOKvfFx2LPs6H6DxtVNLlKuxq/mYPphYkHqW9IgvIfG9nL7BpBgYkIFjqv/gcJ818ZYfJA91IAEkmgOYXDu2A2Z9K58h8E4hWHdxz7arluvPHRiDLs62MDyuzdxWsSkC/OWMAGRWovaIXkLl9s8LCHDVQnfhfCJ1JetAdAmWH2whAQXNdHUJuYQA4a8EUvPBijQj04k/apGdDVeKNy4dQoL+le7rlsaiNsqcyId/mWTtMpIESp3M5ATRPQW/Mf+dMACEMEFaBwtpO8pEVhaAMlGcYLswBOvQjVxIsPhvht6tZbSM5K3iteO/isUqv0/DKjia4e0t8C3NVxUFwP9DDJ4z+LZER1BYEhLN1ACYZkC9nNfTwGI+YSEAQKhUI1j/E8J/hfsl5uvawgQCWqkAuSEI6Qiv+vAkL/LrexzA4wqn+Q6uuyIO+bhFX7Uo5kMsOEB+DGLK3XG7owmZwrl/xDnw6fCARAd5s+Ct8YEJ2nr2gFbtltCPkVCB4GsM1KwgsvtiY14K1aGKfSAP8zW/CElpe9G/OcLEJ/YEzLGkT1P6dOPtX85kdMWP4z56EEvM/cDKx4SaAKv1H2W2zAsK6K9C2rOxYLsjwcy4x7df5QFgZBgiY/y0RAGhFLcBiwzQzMx3fml/oN6G/+VN6mieAPPuV3qytsPi2VQQDRF+wXAWqqQMI8IT3CSZkYH6Y0QCEot8VL7OO9ab5X6XwrCM5guBJLWgI8fxDhgMIIpd76M1abNaL/m2S+yiiZB769QCDnh7aJqmxfJ8xwx9zB6gkGGA+e+Yj1O6qA/B62ebt19lliCYKDdxo+yuUYP7XOm9gDwG0ojhwC3UM3Mb0JaBvYmXzy9+x2eBFZ82fCFSeHsrRPw/9oH33wv0EW7Skq6WbQ/wTmA4XGXhJQnyqmlUQMGSIJrR/WAcHJiXo/zXjMxOIk+PPnz+ufXoJwBR/mlAOom82Q4pmqf+xFzL2nrf00oz5ETP8M/9l4k+bN8XL9/PBPCakdGB1Wf3eZ6lWBSpuBieCfsmDOwT3KzZhVCCmSC4PNPyHTCACvYuTvAa+8r/wVHiIzMFtgoCHGs7+bLkKgCbnfb4C+uF3F1xJqE3r2hZjgjaKIpDb3VamhIqgHx7xOgDvI+h6aV3P0wzaPj6bKsrSwRHZ+1+mKBTjJC8rQA5XlBBAy4UBwhzAX/K2rLz23jHDdxOpXZyh437796KMs0PPttEfA3EVSQX9A49cKw0aLSEAnQya3PS/5OkcGsuzzwSnClFedDi8/3X9cvhnIaYPJ8e7H8yVnFYRBmhCl8BMIpDSBk605VfTRmvtv//9b9XLpafw81UK2jzXlh+CTxfpSp1ENmUpefORQEVFmAv09afrH++MiGTQ5GXiW3XgjrBCOVyK5BGw/XWz2ktp4lWUq0OQVZ0qAuDbuJYTmb1XLZr7zzkjiVz/M4T//PkT4ABXS+eZYsb3aYI+d/dnze+qCNUrAaFaBWqexNDZoyg+SJV1AN5feX3zwBN8RT0TMfNPT0ztEVE4TANefI9xALkcUQvS/0QoCEyeKDMAgKibz2kg8Dyb28eKez/Ir6VXHOMLGBDlYIbyWFOT0eYLwJmGP6oLg72PU9P6y9YQgBeOlXdPdAKalsvRtKVUhn+iwvLlrGB+H6YHLw3wC/mZ8JNUkDCJVGeYAHIYoKXFxuYPd9XqP95e+co5E4mci/jibAwXXg8vNPax26vVn8xzJa6M3sizhUrDGl1VVHQ6/375Mdvmk6YSgCnpNK2bfwD6Ay9w0xIJdNnEe3TRA1j3pUID8Iv4MacBCwLCCFUDxO4mJipzk6Xq5un5hcURgvLEzSGMtlG1lHIjPiaWZPIsmqKZBOQiAxH9+cPQPMvIXEG/3gPIv0jJXTWrspe8nCITEMSMOQGKSKJAuetLaOmhhRwAj7fhgn4UNQdNgkJ4uZgYRpec9mbob/PGDF4Vi8zz6tUFTI/NqwKJTsDMIcBlnfrZrF43MB9UiQBabgHIZq3LqH8QiSQv1GT8gFrzP8wN/E+dA8SJhRyxaM4lgJqnKxyoBMRfBvF/25a8zxUc8OfPn977NTKspO5wrGyTzM5M1YKJ+219JpVJSAHXzUT/mS3P/3d4DgUSEFdUG20ApxCJ6+jh/ShAFiASL2h6v/R+M7T9oeldtY6O6BPAkxIKjwcAzf5Q3vlCQHG1c1lR8zUUWNokHm5CP8f92MkHmmAX3qwmR4NF5G2W4k/u0cwDgNxDIisBNW2lPfNmi29dk9M2SgQlEe6TOxn+r8gEVcRQRQNXjA6IQphnBCHhAYT91D3IEkDn2Tvc5IxJE+BKoB/zRM887iuG/1L9B87E0CF246LPfEzdTN4x48Nt0XoApiDTtFwLxRUQTwBCr/8Vr2XGLkaFwlNIDF4HwqQB1wazU0I0GmwSAKot6MKHqir3X8zLvLZ0bvMVj13QD3lxGG+fOz57e24T5MTQNol7uxhxKPG7ikX4KggSAYigz8lAscjKbf91NIAKRcjFBCIxBGx/7068V+qihBmmKzTwHAJo0V5AtUNMGJ3Zoauhv3l6gg4ziIi4tEII0lUg7gGY/5IdKs/MEPQVJvhHmQVu8itvL2EC5QN5lEHDgLWgn6eKAO6LG+S9AR3NXYJPSwQD4MwCarQtRABJ93sPG44rhgEI2orQz12TcOkTbkoEAi2XIx9+bilGffWTDIC+SgAEbb3o3/zhOP4aKxyQ8QbMn2eEoBJYz9OACO7QRKHA/8IqD84QQIYDAiq2+JOh0ccbGs/wN3Zd0EIISnA41g00kMvf5NU6y0eTm8E1WorVJsv4xE4+Cfo2AQwJajY7AQ4QlSUvB3DkdUF/OTHMtrmFBszPRMARr9qcE8zLg+H3A6oIQCmCNd8LAv38m3VjlrTT5HJfF/Rz8gj3zR7C3woyaPNuRbNQCk/Sr+oa+1H5fMOawLOZ8qK/iwPMN1yBb6+QbR49BnyKEMT/rKWN2WdOA0lFCFppmEIA0PqFKGC9qPzq3mEm7SgbwyP4JKG/jbJIRfO/6vbNiKcJmU48Vb9Nlvf5C+jk84rH4x/+MpiuwPXLFRxA7NAhamfEnzD5zWBXYYsYsgdoQHQFdKCvUoQgZPg0v7TYcpGAbdxg5noiKqMr7+zsexf0h0+PHIUzAVbWbXzs+Xp6ivqvr1QMefma2H+5CUAnBu+cNi3Jj8gCcNYD5x8FZT+mB8CZIKzzJP/k52BymMmC3stPEkArCgMU8kTM9w+kaYo0o6C/mTOqQH8b1bXxvP5GuyxAE4JigMhnm5u/eveFD1ue/Gk2vBteQuWCMGbYevboNK063+UBKByQFH9colDzBCQUKJzxTR7ZvbY/ZPFKn17IPkGAALAsF+j6SCtPex6OvRyT/OG1R3/Tci4DVn+bpDnCarksMoHJCvnbMZwubpgPgX62Wn3tCgct3wtoxWhCsgc0OahRVX3FmXPNgStUIhOUWPSxLRVkdzEr5HgArBz/dSpQEsrbJOEvCdkukG00HKqY8KbMzRNDvdCv4L65EkBLB4FFc3aWld9GDRiGqv31y5L16zMjTgCzJFbvQ09eci4HKTi7GvohN8Dg0BmgAWJBI6r5ZFA+xhMQCoNF6M84AYEVzKueLqWESjxWbKmW64EI8YhqT7OKm9pIUic0ACEegKifZ8pf/LgkQjtkAj0RtuWahLd1C8KYM9i04giRDDgNtHmeYisdHOIVDAJVh1w0YAK98kOdnIZcaPpbopTUJo2AoBUYNq0ijL8qLogsQeo26aSGZYMwBH9DeXaQC6Rmyk/A/A/b/opn483Zdf1vxthvQjeItmJN4EIaUN6WGVTNYHSGKSvG8BBNiBYoTKDQQIlAxH8lIjjfzMT9QhUoyQGB51wJiX18P1PbReAOXIjpFgwzW8h77YJ+r8kv0gByCaDh4mdztx9D2UMLrRd/JYMW6isltYIoH2SRaPOgIiYi2sVBPzqH8hgTiDQAv66iSEBIN4TQcZ+fKrT2U4VOgAIBJQ8SAT4ITobrVXV1+JktxTWUR1zBXtBkyivMmSpQCTopqbfPGS1RR0Z+uy8IbPoB3JJqctaNy5JNqkDcD3AxgU4DppJjSkAz/G1WI0/XlJpbwpKAvEygPzD5p1fMhRPTpmfBxjCWmcSASao7JwMFX1zQ3+bp/+aE5EO+yjR2YYQRuclrRuZpIEgAS7WUzGhWPHaFB2ByjHm2jcYnC5Ucrq6IDpPIhSKLuK4oBv1Ni8qYQC+ivzcrlKMeAbgVzgfB+kY73ii4hpG7QD7DmQYanhMRQF3gvq5SN4n4bemi8IVUYdpTCuJjHgBQTFoF8XU/wISe5umArVvxoC3+ITsNLq1f3ExXqCDnBJdwgNL2kjy0XvM/IIF6iwbEfpmzSn5YxU1tvnw5JmvBF+b/LEX8RWje6pYUdUlwfGQXhW/z1WBatCZTj6qBhl5Nkzys/JBDDC1oMglehwChZB6yN3hs/5JpVM4qEwlwcUCgGqukFCsWBguvz64QnqhFiIJPXvnx3p1YeYSLJHTAJREOQgnNEwduk6ivi2D+iV0qHiwNZRAqzAozAB3+mXEIMq6Aor8nbX9OvS6/BH4nwGRWjg4cRl1JbjPon6XcuFIhTEXe/FWjPX9KBB9vAAAek1/xb6pWH4uhf3iV9swJtMJWEBl8r42/8TfqIexy/ZL8yWGdEIa+vSm1t3nzn6TII3KGqGspEB/wA0w4aFqavBke4LkPhAPCr6QYECaNjmdQUij4NK312+yimtD5p1krpJeoPW2UqGouHlDCKxmKsgmgBPpn/2u+q973cym469KQywkQr72EBjjoK56NF+VFCag8EoAFHaG99YyzJ3bWSxI0DZ+fG/yhUaK0uHLVC6EfIaVXr73Ss/K9QEfWCINV0ODK/ymhATcB6E+5EgaI7aqt7/HAcVxnCC/0I2fy6zSAUOqnYvjHOFVkRN3Gr3UCOOyKfYDbJPBr+gTISR/mD03dv40Ki+6y+rnjomj6w548SegX5f5W0a265fJB2xOawbnwCzcFGDioiTEAl/7T5FBwhgY4/cQMfySCK3Aa/ooQ1LSKMDi77lwx2ov+Ygd5WBJQjLpmPzfzO2ccgFKrH54mHBzOFnVVa3LTiEbbqc5AOewHVI1/YrMwe9kWIfgePpg5oWJIk3yvW76F6M/5gNv+CgWGb5kYCYAmBAU4QDxnJTArijbKmiHwLLAeXgrmuoc2X9X2ynkx6Ie2vAERTGqHV74b/jzWxDR8ac2TCKQ/J/94Z62tTAHSDbdFQpC+tLcO+o02r95AAzM89dr1yjZEaDIjAYQGCNCjWv8hqi6JASgLAXIYVVQR8SnlcWBuzs+0oAz0gyZ3KiHTNllJEbtG4Pyv/Lqa1QIdgf5ZOlPiWxeG8ruUIvOSm9zlzRUSKLkRoniFUiHInB+RBhQ5CImeEMnsskAU94MYkCiA4tsr5j+Egi94LH2l03ITUmX48lixvFjvnR3COvnGPLfmr+eK6UKEFf7ZBqymgRZ7dctPNbbOJYc280/THIbfM/j550wRckWAkQgC67IYuczVHGAuiquL/pB1Xsgms+tR1KGHm/+YuC/XGVP6+RDob3U5jots7cAd+bsxzze9KwCAWg8gn3HhPcQQWJP7b1a5vC4T6dA/+xXZXuSD4Sk12rHONORjgV/XbHijwS4C0N/wNs/UNOWgmbCOeRCY04CINdfLUcAXVgWDCehNKJorgfsZ6Jd0ChLndoby/NEqZLihtdH83aFr2kHn57oJzfTNLW9RhBT0N6HfzIpBImuoaXWwM6M+bPXPdjL8ZsZnBO5JsNfkVPMlb7RGVy/7UnKHTLDmcGACTdMKU81osEJUuqpT8paVrA+zYcTyOE3c987tdeMdaaBhQ9XLAUg3flB4pSRiEf7sFYUCIkle8RdjyNdJJnzgdX2qJCDdCTA5AAkViJ8nhMWzlLyUJlczDNkR815yOkQqgn6gUegeSgiUFrdEI6DAUT5Gth30Hl3+lkPsOfmmVWwhGhtQgHKmR8Gf+qlw82x7UQj62D7GAeZ90at2M7UCcPbFJNDZhKQasgG5QFPxd2W+6zhIfk4EH5dvdBcNNH8dQLPSQIf//jyloQMRbwddDsHhzI11MG1edfLEXFa5Cf3EZA5ApCgH6RECgvten0a/rsD9ErtpNjkNtFkJl5AX51KwVcR9CHmcevZnidpTEiQ31bM9NNCK+sEpKhCEEu7ZQf8oWP/xX6KmvBq49++8WaUJK07A6wHEwNG8tJmM4439Nq04bnbtQzIYHvfqRTUt5Wn4zfB8eFD6+j3XsnQ/zOTUwDdiKB6ax+l9ws0vlYtVLBhRounaCMBgLHo3DH1dH3jQHLmhG/2gVhABLlkR+CXBAJEwXPfYNSczPIKVPUnUcy+xueY87AGIl4OQF2XeQS5nt0nvTNMDaJ5CMMUDaFoNKqwFAD4uEzTOod96PYI9i0Vfz3NPtbD4hM86drhK25TYu5nb06JZQH/wpBGIN6DO9CbQtkEBM7GeHFc3mc3P3j/Dsd8qDwBCqbNy5kPeGp6GwkPcFSPEDL9Z49XuyA0lD57yHOrPsMsH8sZy7sIu0ZBSQlzN6m4CoRNPE3o3/Ilh8ToUju0z4wrwCKc3ErDnYfVq5Vf84q8Z6vSuMO6YfvHsoScgZd5owgQE/Wcvnv5BeYyVk2/OFt/QenK4KMGrOoqmSeDZ2xPyVbQ1069VZlgH9/9d+Me/wzyrP+smZRHQK1jjGt7DBaAwxgSK+S+qhyiqWEaocMzcj0uMNo+oyPriU8TPtlnNKlxoaM4q/57zhHJTvNZ9Xt5sco3LA4fo4w6vJU8DV4if4T5oim3BegC1N8mE123PRAD9dQMnHAAQX0Wy80ab07kuUGFQ/SUR3xZTBBOnsVmJg6CSbrP6Jzc5ExRCYrv+oCpt9JULz+eef/yq0bbS+QN558qbR//xjbfwwmzBzQevkyD7+eCAj/EndvElWPxweje/FIUgE6bLJ1DRbRXzXNRtxFPVY79KHBhU8/E6oC4a4yJJxgMw9R/Fj1GiGsopuZ6ogNpTAgjmKylOaVgnMD1d0II+gu9mZdzM/FfylHwEMHv3ks9KOfA9EP3FJz7sRMfeDZfCA031CgtB4rQTDsBcVSdnqOCmeTKgjepaKAsLls4jQhUHfdc8I0RsXt9Xf5712BWcAqByGjoZJ8cQ3D8+cKoYbvZzbEoDzeCvAsfPR/8q/vO+nObo9QAAIABJREFUSBzNTSbg4Sw9lGJGyYY43rQUIB3dXDPMK4maVYSplFPB01jYdf6iHFH+7tzS1bJNmgKtaA9XezkzJ0D3A5LjTxJYW6hB4wq3oOQxSqK/iSleKF86P7oZpes/isc93G3MvjP90czUmZcZ0H/MR0vxBgLpDJknc6h0bXs4lWQBWMLXTngZmuEfmH79c/ZbZf+Zex3PAioXsl1uXe1jx3WDEkhd/c6YCkl4tnXCM0WY2atrvuomKmG7pzib7RZquySq9uHHL5+twB/j8g/6Z1H330kDMxWe/7nhrK5f2gTQ5JoChIJF+q4K1T09wiNeoPIqLn2XahHNBClR6+ea+2zPs8lpQjps+WyYfmGbFwSI0OYKXeovYJWrKt6C5PMWSwwrfB56euC+ET76H+9zoON15iEg99UbgQw4ywpmIeGmrDagwuZ/LLzsAlPyTfNUgSm2SK2PaN5H4pToQCYGhMMWjHkaXiMj/KDqQeOwSCCiZBV8KwmaPKUHniwgL/S7JaCmNd7KPx8lqFrykot+hmkaK+/VivNftzfRfowFhF1ItM38V47S5NI8rJeAzBun/xfZfqnP6hUG9GFK8yVjvx+QfPj/lOydc4P4wQU9SftOpzGXH+BKAVohm5LzX2H+mwmInFOHf5q2IfxSJH8Mki9bedAl8Fbr28eEoBKKLVEyTQta+ROPWTJsW7OK2X/ZvYCuaB574BThYujhKkDD33CvWu06uon4Xv+3UAXa8AAV7lY0/5vVmsbLZC4aECVEAnCuhKvYZAYiwPA4rJvDVEMxZPYZd6O/ebjZMpa3vKF/AocxYXHp4wtPO5rhD3X91Ewsm/0JKnAnXyT9ZcuI0cpm+Qc0wAFkez26o4eX9NMOBABWxGmVlyhwfxcFgX/DcMna+ksdfu9+fukjANJmCLRJlmi+xaZMfOGbs5Ux2QP3BmZbcp4odwtK0L/2NfBGffb4N8MHJgPEAYCGJn9nXv6wrJRU7TeP28WfGyckcOg/5jwOy45JGwrQwmWzdrkEU0pebzMuR8x/CB7AUnWoJBTJNa68q5eEKpdrUpsUVIWe5e95zIkpcfL0oWS86L3PHqLmb5s98RzEM3nWgjCFkx7OoAgYqqBZ7aaxr3wZi6iHxWidCQLTHjNjN79a3gtpVuv82uyXAEfeBU+rmxkohybfbEanzVxrjn/MGWzzbh6NLn33wGH2BhmunLfiOfj4sjwwYObS6Pgugsgs/1WcDV0Iioknj3oOm7M5T9vSUafknbr3QOY2T57J2mdGHP9k3hOyDmrgqtq/W3WTP2enYT4KbdIkffjz68ZeaTgcuih8aLgEhKI+EPtBec80VkFzG7WD1y+TP8y1veRePRSUbOt74b1o3NwNdLgmBibt/fjS2OLhYK3tMDvcxykNz7bN17aeLQNS4jbpNrKu8ygbmyUUfJsWbTkXm5wHIhRHDZ1dyOuT33/VJbei9WSQINR1F57Z543M8ZoYQOEEmU08vMfiecobOrtyCzGfjV4iJYv+UG0NVB79zWCAK/mq6rqeMzLZUN5glauCgZ/eNg/SddAVVRR8fEMQOD+ufOBtAnVNcJodKPPBe1FkP+Y6iNvAQslp+db08/3wtO6Iq4ta9PPc/5C897E8BDAYYQt9mPZKqML7QdxgmG77sT0ufDBsUD6ckNuFzpemqC9Fk5Lc0Nn0mjlOt09U4PLvPf/a7hrhUU8AvzYAtW0eCpePIMj+9vv4y0tVV9RSfN/dfAgK3zj+Kb+ee3ONbznPJ2e+nlEyfnNqzXffvpZegFPcc8kjVH62AwJIwlkJGuppoLPEHuUQfydFuQpXZuoZXzaeo3qREyO5c7PP+Hc66Sxj7bri8c//NXV8skP4k52uJzz8LLqzyTur73ndkgOZn787BrB0Tl07v7Hc8YxvGgG9PtOlip9DVQxA6e2qNOZCdQeLJ4DyvePPQ67/mQuqxWKhOxNAt832o+6yMp+Fa314M7vKx56koN/m0b50EcfanbzYA3ga8b7UEEjmmOZ/ojjRL3KwVpxz7VW7ktMVJyDQ7rdkupI5C7VRwDe++9hAAIEbfEvS4SIn4HVjlhuauS/EGF89UavBN6/JXmd11v/yWro4K2YM36lmrWw63NLcFe5IHlWcm9Un470R+y2eOz2AzLWtmJfCfc4WDHF166y6nHWmKKmm5nBWeBe89sSik9FlIhOvxYuKmSxYZmB5F/n4DUO85BvtxT8POY+lGJHcs25ehaG2tujXWx+wqOwr4Oq9vRBhVqYXmGTvkuUxalnxMLvGtmLvpbQU6879hFHmATytWLTqQgqv7kZFO7mq6ooH4EVqftUlmOCriz/ke1zIgPx8+OeQt2YnTx5mL6brqxhdd9vmK3Lz1f1AFwrd/EQVvl/ieEQQuBaJHggiyRZAgQ9XV8DLAYVI994bF3toyYRftxFp4GODcPr5jBuuRzdX9JvxhGjoBGIM+vJ2Zqdb/qV3LHrGNow/rnN9whlvOIelAYYNH5Zeiwk9sQYVuhYReBTNWEXhpJlkIAo13hNWkJ2b/ErnKL3NFDdN8s+tsrqRa33vcifgLsHH9YL8CR/gxmt72vA+wZvN/5j0tC49dAUnFUZrvQHYkrIP00vQSUKRemaN/7hRb7YsBO1OKP4QmpPqeopcjUUzZLBNTap6s/7U7lQXCtdJ7fcOYtty73hDg+gnTI7rvhPxAbKGXvKelD8YycyfkqzlQAyAP5NKDNxcPMP8HAMKr+Az28C1f2hLJ7le9gwgX7+MrwhW1QxH30+3Fob0Htq1zGSmF9C6xkF911LMfbR2W34tNtfEKtcozsPHJeRNdUXf4LY5Qv4HObdAwg809hVdAbKfDy8BGvSbuhaZ1cLK8NrX6t79/NlwciWXtKLov/AC9fy5/bb/ugQ7kogSm2dT+ocQCQhkT4YfGO7wKZc/03YCNyL8p/LoutIZYgyBCTdAowGlRG726A6lqvx4SN4nuZw/63Z9465KDlpbQfNY0carF3uBXoe/GPo/ISJFAqT8Mvm8ETziOaCxP8nZBqRdF0OAcgOhhFle7Gyi1rkCe1Iwyg/xZ8VOd76T+WNVpT/qT0DGwF9Rz+KVp3VvLID+w8wTAkar3z3FlhQhsstrrolz5b2VSfSvzWmeTZcSCiaWPqfG/ChBgFuwbvjzPxvOLIB34uuxX0HLnNgKXlQaeyl2qCikkg2Gb5ryv0rmiQ5G/Cq8T0XAQdTNf28AwOuBxWIASx9XERYQCgubtn/g7nvJYOau1cJj4Q063UCNvYWdgJhqLxr4yvIgsPRl3aeumnNi+SoZIyQjCDf5nbqNrISFESWtp8UAMh/g5E7zoUXI9tennXgh/KyeMP4UourbJXLC6lWXOYP1Gb67Ovfyk9RtTy5QhK+XHFSMH0KueJi9pcknYQhPumvStaRGWNYr+V/XrYRTBXom+vOXUferqlQg0S/ZBq18V0/0AJSrXUcYGzhAhPvrBoGXSkyliF2Uy1CaQX9AOO5aowsvsuuPx5CWCAe4dG1+5hkJSPEDMhHgwrcvj/5cpcmY5IoQtA2vkuOP67IhpF5seFy2qZP626Wcm2jOX7/XNcTuqdU03yhlfmaip+gXz84cuTrnDA14n+1Oa9PIxUIw2GPnFlaEqgyCFfFhONHfe98zcKFIeS67tvurwER8/hh/xCtcAcSPZcXac/PKOGKaxM/H7vrZRMZCZR9azuLwheFCEHJ6iwtMlcA1LoIS+beHap28OEUi6l6g7HIa7iKsF1+BMPrvB42ARVUIVspu/+TPbGkw9kZnKnmgsHwPZwoEh0uvWuIKtQWwyXUJXG/ptDxVBBozo2PGmqDozyFVpwGXHp0xQpUnZKmBH4sHPAf9FbwqP408Pv+zbiJWdEroG7tBbBv9RzsH/Ls5gfL5f3/+/f7nh3DvipLn7yN0Mfxz+Pnjy58ffv7788vZJHycZDiKDsEF0TkAQmJ78l7oAQDdmDAhuwT0M+gW2E8PjfBLEeaDRRz2p+p4i8Q1fctMPKfwnM0EzYB1z8UE+OXyDKzoM6Z7AJA7CgwRWYl88BkwLWt+AhBUIH6joaUzKs9w3vBfgf7hzcTPcKYAZYLA8Mt0N2Ij336VBxC+KleDNuVX+ePGdsU/QLPoEbWUC2ejj1q/Kc+f4gHolzO0+j+ma+gADQ/nfWG6szWFCXOm8nP9Jq8CifH/nehvglQG/fPYHUPVjIuweWwiAAUWTRiapcfksbtWG3FB/wfcX9GfsEU59POJDT+41+sd/jmjNw7u5vfXGRYvLc8BfZ4PCiErNxkKDvgBVwmIRJVK0D/vB8CZAFqObK6HZ7aZN05eNf6Yp379L3ODPGTsHCXddZRwWddKcL2JMfAYpPz0Oi04qnpJZn+GPygINZtzctUzpIZQDTCLUUOQwsh5BpwAyH6Ay74O4/sG9N8D/duAznsvdHyG7gF0qz9+yXX+9NMV83+d7S86JRhpC0NLFnNhB5aBD1kYqX3a7vIARPFHFII+riUmAUFmWTEYgJEolPcAXPscWhWok4Ceg/64Y4ihlxXH0g/xj7Jrry7fFy9OUjLMBXpIYzUukSuy/nOgn2gjs2co5huVxAA+/sUP5UfPBUJIAgpwgJIXtMIDIHFsjkczB4sH2ANOgPhlEv1XG/6baSZAb+ZZ7YgBLAKv1RxDAgw8Lkpij2YQeDX0fxxCBP2MK8A9JMwN9pn070X/4ZXq4TslEiCif6flWkR/M+9phgy61QCOb7lOAsqjvzJdgaGjrctBuSUM8I8CFjqs5EnCywHh4aIBBQpNrJ8h+wzTF+k8xIkJIL7euELhQh4Hvu5QR3/X0o8i1iiIbypCs4QfHbMIwHEycAUwA3Gpu9B/dRCY7MfFQyUvcnLLSg+gL6s8ckH20mEKJiINKJa+PtV8sz7Pm+TXEoN77jNBS2y9zsxMAvq4okIJCAnzH1rDuBk0E9A3KcEkAzMHYXaNqHMClCyJGRPof5ZDv0gzq2Gn8BD/ZPClcCiNEzJlnItOVRe44TH/TTL435dKDOMaOJ2hoQLlyTgwmRPTFVCYzJSAhr/iF1guAc1iwtCqk7j5Gc5uAk12iqG/7gTMJpwwAWSBZX/+jzf8u0f8Ge7z5kKwn7ig4LvpCnShMkCfXDEODKHWaZ3aM8vO6rT4YAb93nhA4OFTCh0U8efjT1IFBk8VW5gDvGQwE4KQ7k8g/u8M+kX0z8SBzf3AY/jj1ghw+CjKD9fZ/m4C6KNmLEv5ICDWhzUKBbaG/0VUrz5JbC3X9LmGPpyHGT6KCn74znJ1Xsz8GeL+kBvIl+EXz0Q9L/orqG2erfkrUQu6XggWOAG1AQAxBoBlEWCTkEwnID96qB30P+KuSV48lyn4B1yMeq/8bUJYbXEsKmx/RE1+sZX00K4nNji5unVPrZImq2T+KBfY5X5w4nsbFoJELcgLWMpPOO7PPIAk+ouIT3jI6wfoGB3GAW/EqBZ/ZqAfe2d3S0A/OUAPYw7/7JNslqrypRlkiBKQ+Zkf5afK/6H4z4LJQ7wbslefVCqgKPdfuZtd6wl6PQ0T93kTCNdrpvsBor1v0kChiSqGka9/mtq9F/1NxOczrEA/aAxgWwRYfLS887Zu/OPC3wDKV8FHtxqoQcv3SB56Bqlh3NdxVtT0iQBCOgvBUvxXeAAB838I9CSpyXw8TBBRtIhOuwMlnQAXJIWFIILRXCZCwleAPwsIcofaDTEAPVyUeYmUOLP35yoBeOFekX1MH1yvkILgAZTfbN4Sgxi5uuZD4rrwZPIMc2n4fmK4L+oqovmfYZSA3G++M13opAQt4Uf5vkqbDgtBJvR70T8TCQj4AdvCv3Cq/8pTBL+Nkhn/mEC8dO68nZO56ertVxzDNZN4xKkbyjv8roehH5fGmQg1gchsz/fTrY6eEEICvAA4owXBUioyVn/AD8hrQUMIm51SQCkKOAFY1vih1w3laakKBhQGFWa//Se2r+uL6oX7Ljf/wiRbHJocn6SoGRMMaUDX+gNuECYZTd1K7+mJ5MiS9dcIVfdRS7ihrlUSECan5CIAUD8gif4BGMqEiIc0AGcHU4LvfLOlsd8V3gA5lvJ2LHJNujP5J0gAJtb3SdNQjv5daAEPKwKMlRJQQP9RcF+BV6JpcDt3SKImMor4OLsKvn1Mlyd745eTaf8A2QnwSv8ZPyDPB7PNPtCtW23MP36rizyFsV/z8rFsKFHonqj/UuhkBvquC4+3g75+f/08xMdOF/GAJQRByARdeuNBc/+rcB9CWk6fFMF+nJgouIf7gHZnB+mh+T/Tc0xl3ywG1oktyQEuLSjmB4iU4NpsBuVcBRpCrWkd604AZwLMJaBt6r8XfEWJP3bc2DbIt4MmTMCFWu4BYF4xq+NvfqK9jPIR6I7hPgTTlRRSdaEBtSIluYiBTwjfc6d5n9eTjOUF6d6ArueWOAEZIciUdwjWe815yCrN9aDKw9M9HSBECciclqT0D9lEWIr1mZ/X1wEoci0PBsDqlzAjg49rrkoAHeKgmeakZD11IXlxiMVday4Na/lJFAWEFeB2bSym9FTV/VZxgOIKmOjvIgAXGcw2uAK363O3wsUI9RBFWgIqdAhM70rhAEXzEeMoVaOyHfQM6K/EAMtyV9B/3RLBSbDz4gs0zT28dDBBRt1STrZX4jzd5bbPixA/zAFdDgWbQM8JQIQnPSowpAEu6fR5/r7+J5lDgqr8TxOjax8MBZpr/YDkTnphO+iZRDuDZr5N17Lj+64VIr0o77L6Y7gP5/qRw33OYJ3zQSa6q8xhj9brumggHGeOcUDXCoN1g1pxCDjW93lKqHlcCC2DAjQghgpc0I+Nw8sB5mMDZwSYPHKuC3E3gwvwRGYP+s0o7F08REAd/atwfwbKxHbWkVGpqIgp/voLkyz+EisAulAZ3oWkvYAT8PGnKPiYMJ0hAy8HcFbI04BL8eieGuDaMTw3/dEt5CcF6PXDpZrBzRBf8Qkg+wHi3hRKyDOBWNjMJRTx9iiGPyYJ/hxhzV5pGdCsHfmQgPfV8hIA5FYQMQKAs9kn13lm4g8BaPMbFw3AI5rPfrJfAgooP0j3/9FdgTANLGwG1ysWCPOi/4owgIj+HDT1m6cvogva/0Dppya2Bc3b74GeQuJKkPyIZszDxB0Fp3qoJ0TAJDexfsgH5Etu87qYQ6QBfT/6ndomAc2muhC1C3eijCXN4FzI3uUmOSYZoMJWnZn23sZ2gXum1EkN4Tss+3R/W9DZdIlXrRQ3rAjqxu5XJgyAUL4//wb+9FATeV1IXU4DECz37kkJHZ5zofKDO/r/lD/YKgEQ7O5WNFhBbZ1++rwaoK/MB/Xq+5mjdGFtgy4kz+j9IZBYOd3kgy5nNIl7nvEc6YCdXEY07OBXmf/K9hz4OOjritMiGuBcBa20SueSANaJMQBy2q7zUbik05xj1yhuBQFnGk8gDNDvzgctfLzE6KtZOmuiv+lDYEEyJSGDrjWScvX3V6YiyQEBhbcQ/QPhAVHlR8jwr6UBhQkCrkAtE7jwujYAoIOPax6yrSAyNBDY1eoYgFmaUEIJSnM0zgdd63kphpEx8gOqLjZ8I3QNqi9bDACWKdeFUHCPZn+a8QBFwSB4DcG30L+EljCKeT3XkMZmX+qovVT80TnAhXj5907cvqwVRAw3C6sBFln9fZJgE5gfHfdn0Ea6PsDSizCvB+ZtomdX4XraREAv8Qxqc4G8KlDMA5gBq8v8J0CmsIgX8c1jDWmgW9lBLreAEHPSUtHFHziN9+4MABQ+zBECMF/XviUM0P3JoEnGMqHfi/4K7s9kE1HEH/IEqMRkFuLGuM3FAX1xEV/hwpAEfbonDXSFHGSimIL7i2gAVofRrrWtNjG6XAsSWadbCQLJB+/jy56T/uME0OlC8OR97rkwgItRAjYsvx9VJUvD0+OBU7Ojw4wnlKXhw0+qPrdda0D9HPRH1AkoJAAINVziT2JHLKeBbnWBdvEZoQQRzWP6TwCvsSsAECODVZXAeRqY/SopBIWD2N7LNyuTA4vx6qVhcKaTYpm4vxn0r4fr0cjT7E9OAGEJaAUBmFKMCNkraKBbsWiXEyDShn73Z1Z/d0qCOhmEoT+z/cJCMJ0G+A97Lhk0ds5/j/VzuOiEPwpm++U+6slDLtkF/dAWnNnzMOTh/uclVD0GXVuuZPjYXP80IRvOeCz87SJgtSDVjy5S1FAFmulCJrjrpjrB68BjYNIAuSKXe10C/d6RbQXRrQCA8uaX+wEEL/QbEChenR2ue9R/0eSHENrlh87rWjuf1CH0K09sUgJyoT/kYuAMIns9APOISNd/EazXmaALZcA6ahc+kDMaUJ4ZQgaKpEP+y9R8lBkoWBNY/98Aavdoa2jvew6rE7L+PHmzPJWT0f/Uawtcb4iuaAX4YBaI7kLASXly4PQJys1/lEaDYx6AyQcivrvEH8hNimY0EBhYM2L6T8D271bs1/u/xQSQpIq+sjdcAPEVuEQidAyPb6E0AkLaCQjwmffZchFM96wScf2zR+sTqwhAMf8RqgwoJ4APbOV/9lxggOgnik09+9W9lJDhgO4MAIRhfRUB9LqagF5RFIaJZRpo16M0xXQhJjzOhNjEn6wEqdBY7HI2azvbHsgMAfANhh56wAPgqJrxAFDaDVS0+s1tPv6r9oYqXojIH/xsS96ypAJWTwBE0ukVrYF6rihsCKbmBMV6x3tvgNIxtM9DviiK+saeqlsSNwOI30vXCCongBItyJRcAkYxZwVRt4HHIXAxAYSy4bAToNNMv3v5F+W5itFAUALqztUi8zSAtP8xBLVCw3/GGSIfmE4AoQFy8snyrhXo3511HvpDNbsF5m67EElL6j8QJCCTAOBs4FyuCAW+FJnAdYYiGZCNMwBicoBXCNIP4T3DegLoFW39A7tSmKDLZag8Cz6jKnSa1I+EE2CecJXVz/lpxVNI7rjpTVaZBeYGrtf7LQSwgQa8DgHkMmDl/hbywUwOMjmghF0W0UBlIVjsje2JkmDXjCjxUlSb/xz0kRB/ZtCPCsv9uts8svddizZ3mjIQe5dEJuC4/4EjAQloEQHMJKAVNEBQXofjMDiafGC+F10ICQQ+DB+V2X+5DJcyAjBB3/W/PVQSHIB+U0DHYvOfgz60tFER6M3ER+URh1D1rqNwWOfRf3K93qRy2J3pfd3KAYWWDtRDAeFaDlBoAEIkwAT6AGTHhCBTmCJonn8LXNBPQN/7vwsJIOZ69+gy8V3I/CGbdaGB2gbLtCcyf+BsEw1tPUgR+mOPvjmUSq7uz91U1pDw3i/+9ioqEDQPwCUHxWhAQdvZNzHbvwSslbPV76xIb64XIewu606AuZPAbCypA+jOwmBRBYIW37v+pFtd7/uCUOcM7ocHFWvHlGUDzDi2NxCqB8a7J52/j1r4JTV90MYhsWXdujMIDFkO8noAJQTQPflFJuhzxFes76SzwvFd93WGuB8jGP5UwOkEJPG9mAC61hMi+Va75CCC8sM29+Wyj/eBGGJxp6I/2YkL+mO8ldlh91d4ifvsl/UAro9EfmZEkz9MA11uCbeBAMxzIN944b7qnQrvmTABZ4USMtB/1SdibJVOVbYeQIA/Pn4eAIKf7/bQ6jc748dmLYOnw4N614YcTumKSyjZJ7/FJsf06kLfwLV7CaALAYAPJigkAFMFEo1rXRHqWjFwLx21LHK95I/PhS9FnyQIePef9wxW1QF4Lb7uSQHqE7WXC0fcpt6WoDIE9B5aGxLVqfrXSfjvf//7txnqnz9/wigfeLp6RfvxDD10fxjAxHoXAXTaJG6dEyBKQIQGIJjn/RljyARD6M+4Bab+Y0K/ebgYDlTWAVzf2z5PDO3+lFATDa+wOIP+G/0AvnqByRD8++RZdXmFMuWpEGG3VzSUvW7TE02izLcXfj/AJABQseUWAuhy/074Y7/Ded5p+18PSpiAcwOBoOGf16erz0PBfZ5vlqeBf6omcU9h8AduchUIVquc65RtDgZwJtMzecJ+QDmRFPoBCsRjROGuXhGu+9U96j/8YYBCDqgiAGLvQwgIuySgGGoXksT1bD++D/PB8InyOgFJrC8mgIzJ1hMpodB0fwjt53oiXz489PXLuhDy/ZhP75mUqJl/V8sRxb0MPQwX/MKkCGD4PMQ89wwTXDEi5gR4LffA/5o4a4I+x+gAjoexPkwGM6lHlHH0h/bjz5hd33NhgHgdgIjsfU17uCENiIuFmX4AVroCLi1r+BiVZPs8rcvb7FHhf+rPpOuNrUV/yCmhXQ4JJAmga+vMQOvrMERzBeULnxxdXMrQwPAD+f66KwXZt+k/KKwD8KpAvWKRgCsNuJgANAi8Ah+9IQdi2CbPYYXtr4TllYchRle9qG9gHvTDBKAgPmQBJE8AfS7lizTQtwd+Tbh3ORNeGiBvd9IJWIROBQTQtU7Rym97rktot9R/U37pzniAchuUOKpZ5WAeTsHQRcRm3jXvqdY+ivmb2KNBYFgqkEkA+zkAcmPOLoSIAyZ/Uv9RzlY5OqGB2S3G3CEgT5oo7/RcwGAJAXRP7kdABXKdg8sJQFFSkIskxBXkr/v30kwM5sx99stijcNpjz0SRP/BPH5zPVXTGggowia+u6AB0cJgF74rSArNCVC0HYUbYoAeJgwInZRc74vXFZg9JF0IAgcko60E0IWcTvPnXasL6852oV1eP7JHk4JcMx4zvc0l3VeP4fK8JvpzJkAuTainu0RkfiIygU4DiwhAhN0S/vg4FuGGMB+EaWOo3pBtlP8N8L3iCsT0n16xiFhNN1AT5Xs0I8j7AZoE1LW2EF7FppYtNncrmnHPuicEuU4hsy+71j0wTADdGQ/ok/CgaVF6hSAdYRFSh/SNyZksemiVE0O0A6hpwpuMPvttRv8pQYZ/ym+D2B2612UEZeLAPVQeHMN0F+KsyNLqKZpVAAAgAElEQVTJLOry93xcXlcA2bunE5TONIFLHm7Qi4LAXc4Fcn2pAzf8HgABXPKlTkvlfsDw9GagbypCGb53KT99Zf/nMgLodYu894qMIAWMUOQELPIA1pn8eaM+gMJ9nqwpeofkJ7MLJBUAsZuSUYEgmIQf+OJVfrAxRAyP2rPH8J8hPmEmUGWmy4EB8QEwv49NTon+A+A/eVj5++Hnv8MvP/5Vvpz9Ofzw8eXws/nnh3jdLmPRszs7aPI2156zaAiDxtDInnuob6J+DoGdBy6Z4zsSTsAMiwMcAKcHAGfIgYDyjU4ArGpeCFmkOgeYlDB7BcjTUoL7f8e+LKDZz7unRWi/oyygCy05TUy/bklKmbqzOQQ5dInx1UNBfnJ1ovlPEFlxGjDqFp7nPK8Z2OexQVhxYDjLtVyYW8UBnUZ6Z9+vgHsI9WgiDZALGeo5ovmfdALKaaAyBtD9qwUoZABPghASMWFUK0Jd663mAuv9i7N7776O/uaT07U00GSrCWWuwugPqgJ1oRogwAH7CcDrFhQ+dfwos7Ny0cD1h0ib/z3R3aFwJhc2g+vCEjH9GWUB4W5xyTthSvN9Wc1U5ua6oLZbWbld6P3HV4XrzmxgrFGButwW1JSAFA7YTwCune9UgQgrDL+H1vIzb27HlB+RDEpooDgNNObX9+pQcE8nhiIqB5UA7tPQv086vunYjbk/p9AMaGNwF/f00uhClRPQrcYyLvNcxFxzM/3QHOsJQC+VfaBV9nZZf4vdfRSFf3td+v/fkQoCf7yEs3gv/KFg+CPA0ILDYkx4+A3m4VnvjC2NJ5dTUfk+iTDaPbUXna7aAU9Prp6I+OmgEOMAr0+wkwCgtVsoFIICsg9oNBjz9s7dyufxCkGiE7BNBdrRC0j5+QOdAK8cpINX13rTxzo864Ce7IMdMP+7vAho97ST+ztXw1spzja0rKEY+rs4AOudAIKkAfNfN9sXaT7QZJ+ZidCFxb8Wmf9djj8tUoGKC8Egi8J9ZYe47okE9MkyvDwg3P3RYCXN/+NilfhwbNGuIbt0T7+Hqufk4wOJCnQaVFceldg70/1yP7QSoS4HAxTkhT96HHAOxKNw4E7ivv6/MyYY/olJbKAW+r0oX4v4CwnAdAW6JyDchb7wyDkBGQ/AFVTMB3sDjeRMrBxuI55kj9brijQg7jDwq5klZfpDedsftEWMSw4ywR1aVdQKAphNe14F4jsp8QBMUShz34dw32ngd5HhX0wAvSIUTH67yAnIFAkrcooLX54wRDx1QTNCXT+HbsGQ0vp8+eifS+h0qzCtayWg+Q9dyweFMz5pcgBkuxue7CDIbodOPzE/YPi9gvso7frHH7DYK98XhH//NwqCwB8IGKsKRrRCWP+AdJHwx/XyWK5eP/xBME/I/OFvBd+SXB1/jvVX6wqm/A3sNBgYmBCXJdi1xaTM35oG/pMJIGn7X+97Fe53q1PQBvO/763+/TnWrgj2ZCeAWP3dExUAjaaS/yKT410qsuQR4RM+XNdUXw5a+cY8n+FVX52JjzlU9LcNNDB8+Xc6AQ8hgJIx44MZzQ//nNFA8o6TPzPm/yIaqA8Cm3yg/Dsjg14XCSBY74oKeG+eTorhot9k54PZjVMKfcU7rhC5eUrQGkJ0OQtImeEw6IO2Bgo4AV0I8wbQ2YX+Ch8sghdOBkNwh5ze8wTzfxHiLyeA/qrSsBIPQMTunl72Sx/epBd+m1zmf5hmMK87U8z/Pm8O0a0sIELtXMKKoT9ucgJEiaaWAFY7ASUeQAn0z970mPnfl+n+qwigyy0cRPN/iE1JJ6A8L4jcPBdirlgAoPxWurQd3fz3TkX/d5h3uGf8uzhAtKq6VQpQ+MHlBJhkUKUCeQmgywVrH/MZUHtme5jhPnaJ/thb9lUIFEskoL64NCyP/oWNIqCVXw3N2F7XWCLzTHRPR34sMP/5be00X+vqAZiN58g92ob+qHACFAIQty9B/xgZmE+L7gQouL8I+hHK+OT0UPiOz8Z/yvco5v+guj/Ex8vPP/AEIfNPTLKASM5PTy8so0x7hjlmlKaXIHRhPSx+XGipO0OLcvZ6Q5aMOdBUfYBVETakhBInIEMAEMrKsEwOMrmB31DzKepCf9DZ/YJH8+l+3X+pCnRbEFj5efdEAj7+7HIukLdUWAFTXdZfEQDgd0HZss8bOHeavGReSK+uJe5WK2mFiQM0mUR/TBQeCNUDOqYj6jQE0L/LqxTE5l9UhBSLoafr+2aP07vMf2xrBdETiSIEhnooMIB/lwhBDgl4wWIIjrymKTPzisrkvVkmMQx/2KPJP31e1TWcsY9n4zqfwxtt3q9ZxNhr4IvoD2pU9tJIgAjl5QRQ4grA8tIQFf27v+i316n/OoyU08AqDwA0k0dxBZY6Ad2zgIyCQT9vjwm7sXLi2NNATqbLxdJVZrvoAnp9RPEZ0Oeta1VveQkIQle4nyAVEHYwkZi6HJWFxzOAEHxG1Bsgv3KpPWGrf5H53y2ldJH5jxUxAExUfvjjAbFIQKA8+O8HXicsFvfqhJFEVb2eQO9iXRVLUIwd02jq8zbuQ6w0XXuslIBilLDUCYClGiGaFzSkDQgegPfoXVgAoGvhorzVj1vN/xVjRxbQOiegb8kNdQHE7Kr/wqvX6u+eFnIrcklNRyHzbECw5ZWJ/dheWUgy8LIl0V9xArqcMtSLIgGoEH9EvulWx83ZtJuswLUg0wMo5IAZ3POHqgvx3hWssFACMpmAY32Xw8h9WW5oDPo/sDhcTTZkiO7X9E00d22g7Fa5mxkhqNPFxYYb5N+ictsfWv4PckIQEk5AGP1dHgBCfoD4/Qroh1+uyZj/S72B/6zbNRF54GwPh6gE9IGhem4oz/scKkguHEdFDuhwn8puk4BYjqHdaio3FB84HGyTgEpAJOwEEBgdTl3MdQh8adLV7EtyCzrtCUi+n82q6FeZj1O39E/+XN1l/mO1BwDNCehregRlDP9OK7/IBcJj+5uVR0PQ76N0lysxZJ6Y7in+6nLyj/6o9MkKMOYT5ZWAXLNUiP4QtB3Mqwc6je4qxrvCAQGsFy191NWpXXlOh35UaD6iBCRyw07zHxuygPif3Skl9/XxAA7NgbsSyM4skX1EGtjQgqLLlQSZx4A/eyVvVJd7AaHCCei0X01M2OG0oaCq8g1ktQoeP2Ao+3AtaDhpyTsFvwTkeqh20sBCCQge/QelqwXALwRd9R+S/POx5+H16oXEpm6TgcufO1e87OGfBEBN59fUOk1Td4YvoIW+ynulv2NDKaBQUO40EtC1FqEBAphNoGiDi3wgEhW59QTc9S/DKpAX9N9i/uPeIPAiJ6AnqsNc+PgXYfu/C446bSbanVUFP49CdguPSMX/t9cV6173WWX+kz8x0u6IoKS/b4USUB/lqyjSM4d7VFSHmeShfyOe5GwePqaIXIhIAzFXgFg5nAmUhxn3mf9Y7QFgjRMA/8JhEMoCuNXvumSzrZCy/81Lg1VpIxnzv8/zXmbmv/he8R16p6jqAxKRgHIC4GgbMP8hh6Ax9wPE23H1/4bcELtH0LI8dcP/IeY/bg8Cx5yA6297Ohqch0VzLYFOQ7vDg7oE+kz6/HWzXt20B56+TOQl4U0gcOkDIUbyxTsSQ3ZUOAEQIgHIeQA6+utw7xKsXKc08yE6rQvzfgh4Ay574kbzHxs8AGhOACqSQRFKDI3J/R/nrKj/Sdtf7zzKH7Kw2ct37jL/XWcSM/+vJ0lUBXLQK6DAoyx7qWKDChRA23L071pMGJYfMNOCiDSU0f1N+z3sBNxi/m8igDD0r0B/UfYhQGzy3PWHZD9hoUk/GeW/dCz2nkmnOf6dNn8egu8Qi7uQnT2kk+S1uKICJlWIQvkQ0XQnQP8JuSP5PyELQeZdG3pLELqPoMLwFyUg3VjZSQNbCQB7q8My6E8SK6/nbH6G1pBH7MI/oxD90anq7JZ56PMhhyEKiKrx7LfcJ8igvw46ihOAee4/JwAdjnWHAFoNsMvYd13RdUKu3DBki4zh75WAHmj+7yMA+MO/yElAM/Q3CUDBR9JR7vqZ6DlX7J4V9854hcO6KXmbUTKTokQuUVTy65bX91x5VbpVYQshFDwDmiT6m0Y9qBVMwJGjakCQgRYPKEF/RdRSiJ/cbpHOw4p/wB7S3dZvIAAsSATyov8QfE0FZgjQejNRVOg84tPAXavAzhVDXn/ExcsZgjJ5M2cbd9pLJ3MXym1/bHECrtzmJYAZ5obJAFqfOwghAVM6M82dmPijP06mJ+F9319JAKuZYPYlN/9NlAxA/xDx9WDDkLSGf5ooiai+xIHbRF4TLl0PeqfNNWslIB0vsKbLWLfaw+lWs6IIwXIshhOFnCtgHj1JA4SkYxygMIHIE/fi/t/xz86D9VxKaNeazPANSAvM/u+KIdLCoU0WFOuj9E2ehtjoSmE6p3485UqjzZ5I9Oxyiyfzt+IL0OjCL8pz0v2pUK4o4k70v+JILQEEggHKZ1HkcXkDhK2H7ulMHQqLP+HNTFr6NgIIwEcX1n3t8x5k3SpzNefaLCMAXWDy4yjKoa/t3vbbBbFb2XOlA12rWL7e4g+SICCen0nFusx/4Kg3QzrRmnbB8Tb0jxGAAqNmVCDAAQrcx2IAm8d/9h9yRUoo5kLQTO0Ru/rA2U0IVucfcbc8qrwinNDlYkj9uVfeotlOhtKzeWl8/14JaIZ65ehvEgC3ZAnClhPAcNK8ZIBSP+B6SpxKAxygM4GJ+M8x/3GXBwCPHNTriodnp9EnlbfeNqKK8jPbPkal3Ur3JKJT4ewV3pHZW9EmHafFs6p6zUQQhyb1zH6VUYF0zcQFxH3eJy6D+NB0Ho7+fdL8p2t9NZTbpBgfCmE8BPf/jv/cctQNDYJmTgCEVVNcbUSvH4bGPk/3VOLJfCYz2JoHaNfOFSlDPCJRgT+2ueJChgDy6A+hYREsm9flBMCZEQQ5Lyhj77vkfi8NwEqyCnCASD8KJeCm1M/7CQCLa4M5AZi0FOaAWa4OwXSlkoBQi861GZ72EkbXsoP4HmZg7X3bRd6qkoBK0B85JwCCLW/iOPx5QbACyAH0V2jAfCrIPsVn+PvEn/+N2ySgv9fsigYnj6WjXo+uKfaxk5/fdCvqq+QUzfaPeRA1o/mQ32b0H674zTbuudSjqjdNl/KTH0QnQKeNTDAA/oSiDPq7LhmCEa1HEThqux4SxZe9S/z53/jPjcf2OgEIRX1hxVT1k4HmAfzc+VDGEbFSb/12pYfazkLiK+F6UU1snfnp0KqFiX79WPSH3OqHoJWolngJQKcQEd8V9Ofnj5GY0+eFAl75aPhgB5yAJ8cAbvYAECoOmFmdCkSSuGgT2kpjXg2AeQLoLNmf5I92qxZhOF1khvuCZV6q7j7Jjp3dEf4sdU8v6MDrFwsnemkg4wSI0BnwADAJpVSZ/C70nwE0ua0mag8tjy/D/b/jP/cePm/+86gvhCad4U6imMcbZhcIZwsdWCmq5Psw3CvSf8w77vP6ZBKe1U08WCow5int3quA3wkwsfv6pR75DBjIIgHEpKQk6HtpIMkB5sb60/6K2O9TCABRIYgrP0OcNZWfsBw03L+4vZL2o8d+l9r43ZPzYD7rXSgC4G8mZAnoSgMmuCfRH3WhYGgqUIwAhjMZJoAb0V+hQ/7QemMJ+Aon4CkE4GUCl+Gvo7/uAQyhWRT9zcqv2ZdiIbGO5uZ/ZeJgGZrhkN21WjY98GuGN9ehPwRfQYdjyGpJMho8vDuL0N/EXEXPMQ0F87ffhPsPIgD4k0GJ/OI9qNlIjvyp0E9AltEDG7Ntkn4AF9mR03/IdXEL3WWgDZEd83RP88yJLrwC/b0EcN2VN44qQjZCKtAiGsDcFeBc5QJ0Xah5l/jzXALgmIuJ4Q9ZnNHRn8cAeG9OLvoPeYsnFGWAu5ADFEoQX5WPAMAVo02s5xKQ4kwM9+l9z8tjAF1uC6FrQbDSga5sF5CSUO0H6HitmPZECyLPD/HMkHACnjAeQQBIKz/Qgqte9J+dEtd8uAyl1PdyIO5W+7PYM2c2EA3cVhcxDKGE0Aw5ye4v/SWOAj+lTrNH4AwGmLYtJ4BulQVwAvBGAjBXz1Bn7OsXHlDDXAxdK/48gQ/uTwP9Oxdmjc8Vp5q1BtY1pZL3DTX/63p6/d+5m8NET71pD0khNX+LXM3XzvurE0wP9Qwf/jBz8grTDLe/UQXSCWBGe7oIjnnJxTr0169d/4lCGLMnxCX6nxjAFNl15QfU8M8oP5iL/rMzmf2cXAtodRinN1MgMmnDu59YAECBOaL/kLdLCdXqHkCAEtahv6m5w6OBiNvwUDCskLIoIpWgv6L5KBsP7ynXjlyTj+eJ/s8lgELox4KF5nm/NrPCAFpS0CyPiF8j5OKAAMzBkxKXedaTJlL+1VLiw9wwXMEESDsBJnZjrgW5uMcbDc6jf9faQihIbdI85J4/5p/PoYFnEQD8or+CiRkOME8DmuHPoT9wIXl8v/cuX1OATAYKxABMiIcVJ+B+xlL0X0cASsDcG38eTtEG9Bct7sDGOuK/Ufx5DQGQbB9zP6jwABQSIvzBQXyYRTrDNU4Pz3zCMI+OgoYQOTHMTHUSB1ZMNv2KsN72D6hASQLIC0Eif8Tg3hXUXcEB+CLx56EEAKfhT/yAPAe4NKiZeS7+kF8RYTjz8l27rX1YddvH3DJg/gfUfyVmEIgAI60CwSPFQIuIIpoSCmfGvYjjYfQXQRxRLWj4EMas/hMDiBCAF/pRtLaMiP5K/NY8W97HYrifmP7DS44VZSZzZxHVfwJ8o6M8+UbxMNahP6JtcPSUGFgJnV4CAC27LYF77+W7OMB0AmZ3By90Ah5KABn0d8E9aOwXtKuPK4wMGmBwlTHP9qkjfh5DZy+ACd9EsBIN9sA2RMfXvYR8DAAeqQEeFUiBsD6vb+IaDiryQQvhXsnSQUKr0R/4F2n9LyOAWcGtiXF5wx/zZnPQ0kZnF4Ko/d6sVQ1ij9pwh1VehUIGM1QKxHJ1g7pk6H4Aoua/GQ2O2bAcMZWMIDg7UnShtM0L9F6rf3YvMn6D1+o/MYAgAQSgH2nxx4v+BKyJHBRQfgL9jgKU4wLBFfvpQoGluR9vDKBPxuxYSfTXwUu0xFEnBF3nBJofAK1Guhb9zYAwBJcr4xDod/8QgI8AoGW4i4b/OvRXEv9nMYYZOs/EE7OwAH73Agv0yit6DsUuL6yHGWUG7qYQNPuVjv7Imf8IVTl1oZ4AWmkYnOlAoJXGMaAX0b8L3dzMFAPznrq0/idrQY+OAcBZ4pvnABf66+czZDhT2CGqURutCcyPGKOHwtFzCaBdaPFGoL+QYERY0TGIo08+EpAhgNnNglMVUZyAWvTX5zwp2rzO6n8HAZiwVQL6sIrOIGeg8pZwHO4/zPAhYZjYrUC/yDSFWM8d6is6E92Ww+Lml3BREBiaoRoOBSMXEPaqQJgwfRXEd6syWZ9ShTjJA/Au6f/RBABL0wjo/siJP/pulaivnt3ENaJA8k9JFXHAoB62/u+0w0TslLw5RTNqUWIA2BgGgEf3CEQCQLM5P6bUqwUFgskKuIfRX1T59efnvU7AQwnAhLww6K9A/9m5ceiHHPV1JX2Gkb32qVXEGZMPvCHc2LmZhDFzU7aFAYb6iQjlCi7r2B0A3z6vGwjDur6ZOL3mD2ufwEMAcSbIm/9e3DfRPxD1VRL/Xda6N10q8+CKfYrCWAx/FyByOSRhlJv5M5bqNHPfRP8YAczQahEBYGK5I1QToP+qEPf1SABhAjKBw1/hVeb/awhAwVkkJKAA+s+QVxFedOhX1H+9J4SSPhSjAdfGinYPfzKP+JIXjvIwgBenulaUO0Mx12bQOkN0oU0Q1lv9pjkvykHhgPBbvIE3EQBkYzyj15scwOkEVsUvgWBeQuyaolr3gj/r5pczHN/wwMSOopyejv7ICUFKKFiBPwVV4UkKCoDyftxX3DXvBJrP1Yu0oHcTAHLmv7cpNEFMk2lIH2nlMjnQB5qkDp9X14M7S+ef5efMDu2KFnhfOe/eRI0oFgSG3/zv89ppyG15TGR3beaN5eIOe9+VHUueHP5qvFH0fzcBFHJALNhrZk+2+TpinEXIIgRIizbPXEIg9irqbywXkQj0E27wKk6LhKC8CN61XjrQggFJ4K7Ceh39XXLQHkXxEECWA5TvTScAc7PaDPYS2Ye3tciLP0kPJn87XFUICuKb2wSCt31UYxVOGDURP0YAeiAhnwlDCAByTW8YoNfhvuISici+ObB0CKCSAxSkdjX3h5xjOgz86sgeOLQyV7e7AkpyPSyPm2+54UXNSP8IuQIQQsG1BNCtFhHm0Vfjewb9va5AF9p/HgK4kwOSTZvz6D9LKjVb2pF1CF50O7pWAua9udejdKHu15U2OjsKGcOTCbgCMSaYgbiCiZDTgWZb5kPBD0F/rysg3txDAPcQQAb6Icg+yv4hpP3AmdBZshpBOKcoBtNhNC/MoluX/5NB/BgTFBKAWFIwI4DrLFVJQHehf0xwCzPHIYA7OcBVNwC56xzpJgSt2YMZ+92J19uGbqeXvFpc9PdCv47+7yIA+DOCsMUJyGw2e+TCmP41NPBuAhA5IFPci1BakbiegR77rTL/OaomWScDoCVcwnF/dg76yZBdJckgQwA6/noBUU8cul3YUXJ+dFdAf5jfrgW9ngDgTM4xo8cl6K9kcO7UagLgvs5dEMO2xD8QI8nKC5mvXHPxQV4XwsSKD1RCIaoCKVrQkzkA0W5O4g06BHAzB8SCvWKSvtlHOoD+HHPzsY11Ex7YRnxVSOHY8M8VpTpmkmjGG4jlBcHZGkiUO/hvIbSIiIF+7U+S6C/OM5nPQwA3c4AXFsUFXqDpLQEFn8cnEE39hJ9XSsbH+1DbeE78eYldpuhCARekNjFUIQAF0yEUBmOxEJTfOIP+SSHoEMBTCACJkC+ECG0M/V2BX8it/2MFayLUki/XQeoM2gI/T6J/bJtFkeGdBACrLgxaNBi3ijxJ9A/Q9iGAp3BAoeYDOflHWeJxuAe9jSg8i2WGrfvyZWSSFKL83CXRrEP/WwgAFRVhIgFg7gTEzuEWoV9Hf/NJeFelznD8CgKAHPJVfqKk/cDT8iFQdpC8ZJTqP31NZ0Sy7nHmxErOVtzziwgAQl0YtEjAag64Bf2/VRr6cgKAZv4jLf4k0d+UcVyuQB7ck3KQ6THo70+4VXUf9dEkeZ+uZFDx+20SkEID8KSEBpwABdbzQF8I9wr6fz0NfC0BiB9QIf6UoH/gAvm1u3aeRPxZSQHZeMXLQ3JG+cbh6l/+Xw8hAPidAH0zV2cI3KfsJ9H/W6PBX0UAcK6BJYo/kBcQhkdDN4UdhMSf8EJd8Jvb/K0YpgAtDeR6k468VOSVj8oJoFs98pQuCyhyAqBli+IxHIAQ+pu39dXjOwkAoYzP4Wai+AMtKqu3hkZC/DHTijJ/eiF455sTeFfXoT/WE8C1KgI5FQgJJ0APBeNWfT+G/scDeMfQV26BP/wLS/zhe1b0H6VwbHiswMK/SfPfdTvCb1HmrLZ1m8AdBBCIBsMjc38UwYlOAI8Sw4Pddwk+vwf98X0EACsjnv+pN5Xzru8YQ//kejXDx9c7FV4oTxYAb4Ps2l3tIQBEawLgcQJg9YYzd6goUas5AAf9hfFLCcDEXHjEH9yN/qT9XNL8937/cT4BODZN/ny6TmC8ggDgkV8gOwGYB0v0o9xl4x/05+MLCWAIvgr2BWK/Ckqa6O/N/jQRU68orsV9svFOLL7loPsJgBwxmQsEoUnccA9KMAAbs/gP+pvj+wlAgb/wgl/moXln5kAGKoT+z+JZmd+TmfRuVo7FmXrd8EG9G2wmgK415oQWVFC6A8Fpie+U9Q/6K+NXEwAqzH+yf1e2aBX6B7rFmXOi7+pq9QdSP1EUSPidEhBoHmfYCcDzOADLQP+XoD++mwA4oGRWExM9gOR6L+af5s9NjEZFmOS6/c/T2JmKk086ih0XiwkAHpsdiQCAkutpbolQURgeA/q/B/3xewjAi2jPR39X338Tu8u7yP398xb1f/+hVxAAQniNaJgUcjTYe6qBuoQ9od1fjv74nQSAosWEzd3qjeeQQH9T/MmUCCh8wLc5BKD8WesNhNETcqTX3MBb+YUHgP5vQ3/8WgJA1PyHs+IXCVwOrCYmLiRgnoBr3j7+t1CHSe7qmwgAnpBABkNnu1VahKKoxBd3gP4vRH/8ZgKAM/d/CEl6xS+cHfy9dQnwq0D8BOAhBiVmm3/BDgFcP3tLiBdxAKx4clgFwrIwAH49+uOXEwAozuqrx3z8EJ546fW3cKYAKbZ/VQyAk8T1y0DBcBiCk9sn95YkACzGfUStYEXDUTZGKDS91Mw/6I9DAPCrN4qOry/x6BWClMW5Aja+Pj/wYLe3+pe4MocAsN0J+NitWRj8sfHsrJa26zl9nl3jEMAn7ojCPeYhXFOTCaj/V0wXE5NcCo8X6zkn7Q//rrPpVhAAtAwc5HAfFRxgtpdQto8lpx70XzoOAXxiWaaBhBI2ID/nH8RmQcmjBHY1fP/1hP3kqr/eQ8dGCQFgb1SgUAgaXoXOGeLPD/rvH4cA/gVDisxCDH9otQIloF+L/uJ5mluW35GHvKvhdQWWOgGogHuk/QDznMUSYiyW+I/ofx2HAP4FN942D6gWf6Cxgtn8p9DAF4PJsRWDZ7fAhNcVlMPHG50AVIdGRRVIj+7iPho4A4cACAAFqr1E/kjqP95WdChCc2+9gj7n5vdPeGmf7wSg2iEYnkksEiDuYZGZf9B/Ng4BfIJOAFi9i8OgzhWYISaK0D8D7nwGvOPnqxtebCA59jsBWFYwHNPHzWZzZHto6UCoNvMP+pNxCMDGJnFJd1H8QZ3+gxDTIIf+egjanGFXKDhsgJunVNhhVHQC8MyoVa4AAAfaSURBVFQOQDQllFxdYGUYLIhkHPQfjkMADKGG/2VyANln3t5P+hkoQv/83IqL23zAinKDAqe0nwNclOBqwYZdHGBetXhKG+z9g/6zcQjAAVth8x8VNAC5Gtm1qxj6824ZZszW9ac4XC95stZsAwfcGByG3w+AzAHK6pKxM9RXTTjj7zgE4MOLmSCDtPgDZ2tSjmj5ODA83MObQGzI2MnnIAXwgmx5ezAAdYHi2YV4C4mhLTuDnJyFI/p7xiEAN8ToreLIz2dfFuo/WIz+ZiD6f69feF3iwK2p2nKdK/B9HKAkAkHoVn1kn1vGIQA30KyGfkSLDHAT+mcWoUwGGPKLFfPhbUEh/tftWhDqOEC/WH3FAtQ5AWfwcQgggjjhtB9EXQG9xAyJlB79Mzm6vk1y4d/V6O86me/gADjx1BsJIBwALQyAI/qXjkMAvhE2/+GHYLPLED/iahowq5Fn8zD8xgXTe6B/CGGxzZZyAO6Afsh4Le6T9Bc6hv+6cQjAPUrSfuDPsl+h/6AuAGDOGPnm4ejvApeMZvIcDoBfBdIXDTb3fwz/beMQgHsklR/kUoD4WWGl7KPsTWnaE84Bjbka5vYrVhqoqghDuj4A1XxALircYYLnAuGg/7JxCCAyYsY4QirQalcDOSfg+tmcN/KrQHWY6wTMjQsrwrClMBgLyoYh9O/84Hul15trko/ss2ccAogM0WgtT7DZQwOoloDESVuXBRTb+bqCALzZFZidVUD3n212iry2jUMA8REWZBANAJinsQ7xkWgCqmC91/bfGQnYkwiE51UJQC6q8io5rtk4hv+6cQigcqwIAJAi2xLFJvPZNSH6N3gM9HOE8m5WUh6MZ7sCJgfAuZCkcplnhMchgOJRZWK7aqyWony4O3QM/b87CIyQ4Y8nuQLitdeuxHLQf9E4BLBklKgrrqx/LKABONvPkS+Thn/tmpQPDAKjmgY21JG5LsGF4Cso5IzhOASwasSQN99iIUwJKGUL8qVu9Rfi/l1BYL5BHvSRxnrkVKBh+z9FxvFOyEH/FeMQwNqxusHONs3H9V+Zb/j3yv/GtiRjc5torMwTXa0CfbSHC8dveRThjKpxCGD5cFnZSfEHd8D9NujfjPvXcW9iKIpwH3uDAXDieKxu4IzYOASwaWzor3kL3Jf4AbHvY5vNtl8RCoYzDICbkoIQgv7hkg/ehm5n3DsOAewbJqqG26ttE3Zchv9bAr+z8eSA8IquQaj2ACA4AdecZlJUfEb5OASwe+gLrP/ccri4SjKEi4Rpv98P0DcIbGmOVwSE7xKIfk642PkZB9mfMQ4B3DMy6j/SmTx4G/Tfrv7/HO+NBKCaBvjV8eV/h3/OWgydsWgcArhtiOo/WVx3p6BfIvisKPpNSv/XcXtdGPamh6IibCDOwAkDPA6FzhTcfANKY794D/Q/Vvq/joe0CMUjaYBfZqCvw7Cw4IxF43gANw+u/s/ejeufK7D+OdB/JCDXN1WZQqjzAJQdnnED/pwpuP8e5JZWX4H1K5gAayQglKpAm5NBIUtAqMZ9FLECJt0J4XECzrhrHA/g/qGo/9gF7nucABwJSPt+tflf++eK+TxjLficKbj/HiTW113ECqjI9kEd9P9mCQhFDkFVazloNHBNCT15/Q8cxwN4xPip/s9ep1v+xK0m/6+VgPBOh6Bqus7YNg4BPGKsNv+xwMZfhPtHAlK+X437qGCCWV3YGc8ZhwBeMJ4P9KtT/r9PAsKW4gBsJ4YzXoYtZwpec6u+DvfvAv39EhCiZPB2JjhOwMPH8QBeNjYEbx8u+r9dAsKzQwJIM8EZb8KTMwWvvG3rcR+76rxeJP78HLfY/igy/7GLCU5Z79OR5EzBu+/fs3F/KeiXdwH6OfanA+EOIQjL3Igz3gEgZwq+4S7el8q5Tfx5iCuwoS80FjABtsQJzngfdJwp+J57ucv8x3rlB7sQf1Z4IY5b1gmYfb/TUTjQ/yWgcabg2+7os0WepzV/VsYTGkTjwQLRGS+GizMF33lfF0P8b1N+ruMVWhAW08MZrweKMwVffoPvYAI8MudnaRAYT8oLwsH9M8SX4kzBr7jNt8Z4k6C/P/Gfjz2dIfj/3hUlPuPbkOFMwe+632/Q+reFf3/++fBQMG6NDZzxtYBwpuA33vW9iT37s/4X+QHlJcHY4gEg4QSc8eVQcKbgV9/+O0D/dZoPH9sUoc1kcMavQIAzBWe4QPxGxL8lB/R/45bCYCxOEMKB/vPunyk44/8/DY/RfN7iBOzsE4eVTsAZv/SVP1NwxvjJ+Jaob5IebswHxRZF6Ixf/ZqfKTjDeESqEf94AOFtCvngjDNwCOAMx7Py2jT/MEPE0PPJhQJnnPGvV+NMwRmR52bx4o6/1gPAAifgjDOm786ZgjNSD9Abqnw3ewB4hhNwxhn2q3Gm4Iyyh+mOdM8vqwMQNzugf0bNO3um4IxVz9ab1f+f4/mRgDPOCL6kZwrO2PGcPb7UKzPuKhM744zsi3mm4IwbHruX2P4/xxP8gDPOKH4TzxSc8YgH8Z22/8+xyA8444yF792ZgjOe+3Q+w/b/OTb4AWecse8VO1Nwxpue12pwTy4KPxwH7s94zQt1puCML3mUn7om8BlnPPetOVNwxjc/3/elgZ5xxhlnnHHGGWecccYZZ5xxxhlnnHHGGWfcPv4fgpSc7L7JrjoAAAAASUVORK5CYII=","setStyle","Sprite","glowEffect","enableScaling","flash3d","faceTo","binded","stopAnimation","delete","mark","wrap","prev","next","lastIndexOf","modelStore","info","ESInfo","MODEL3D_LOADING","return","AnimationMixer","clampWhenFinished","repetitions","mixer","MODEL3D_ACTION_ERR","previousAction","loop","LoopOnce","LoopRepeat","stopLastAction","reset","setEffectiveWeight","setDuration","play","watching","getDelta","bindedUpdate","removeEventListener","finished","bindedFinished","end","playAnimationPre","animations","clipAction","toLocaleLowerCase","loopReverse","LoopPingPong","setEffectiveTimeScale","match","changeColor","oriEmissive","getHex","emissive","toColor","emissiveIntensity","changedColors","movePathingTween","resume","pauseMovePath","movePathController","followPosition","maxDistance","minDistance","enableTileBaseMap","fadeIn","None","faded","rotateModel","rotated","paused","clock","rotateMap","sub","normalize","RAD2DEG","movePath","startPathIndex","from","elevation","followTilt","rotateSmooth","_directionVolume","followSmooth","toAngle","fromAngle","index","distanceTo","_clockMovePath","getElapsedTime","tileBaseFrozen","disableTileBaseMap","getAzimuthalAngle","getPolarAngle","queueRanked","complete","fp_","path","maxViewDistance","onStart","getFloorHeight","speed","time is NaN!","viewTiltAngle","then","reverse","status","filter","close","open","getChildPosition","getChildObject","getChildByName","_enableLod","lod","gltfObj","setFromObject","getCenter","loadingList","preFetchModel3D","getTileById","MapError","code","未知错误","width","100%","display","flex","justifyContent","alignItems","backgroundColor","white","padding","20px","boxSizing","border-box","innerHTML","setAttribute","class","mapError","ESMapError","isElement","tagName","element","attr","addEvent","startWith","fill","this is null or not defined","max","min","buildingColor","brothers","faceRange","sideRange","topFaceFlags","createMaterial","topTexture","sideTexture","updateMatrix","roomTextureMaterial","isTopTex","topTex","matrix","isSideTex","sideTex","sideTexMat","#include <uv_pars_vertex>","\n                #include <uv_pars_vertex>\n\n                attribute float topFaceFlags;\n                attribute float isHideFlags;\n                uniform mat3 topTexMat;\n                uniform mat3 sideTexMat;\n\n                varying float flag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                tvUV = ( topTexMat * vec3( uv, 1 ) ).xy;\n                svUV = ( sideTexMat * vec3( uv, 1 ) ).xy;\n\n                flag = topFaceFlags;\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity;\n                uniform float isTopTex;\n                uniform float isSideTex;\n                uniform sampler2D topTex;\n                uniform sampler2D sideTex;\n\n                varying float flag;\n                varying float hideFlag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                ","vec4 diffuseColor = vec4( diffuse, opacity );","shader","_completeCallbacks","_isComplete","_responseData","_status","success","_successCallbacks","_errorCallbacks","get","isArrayBuffer","async","getJSON","log","Request error, unable to convert to JSON: ","_errorCallback","post","data","GET","_httpStatus","Callbacks","_httpServer","_initHttpServer","onreadystatechange",".loc","responseType","arraybuffer","POST","setRequestHeader","X-Requested-With","XMLHttpRequest","Content-type","application/x-www-form-urlencoded","Connection","send","ActiveXObject","Microsoft.XMLHTTP","Platform does not support HTTP！","readyState","judgeStatus","file:","protocol","response","_successCallback","TRANSITION","TRANSFORMORIGIN","TRANSFORM","createEl","removeDomNode","removeDomEvent","listensDomEvent","stopPropagation","preventSelection","offsetDom","computeDomPosition","getEventContainerPoint","hasClass","addClass","setClass","getClass","setOpacity","setTransformMatrix","removeTransform","isHTML","measureDom","getDomRuler","documentElement","transform","OTransform","msTransform","transformOrigin","WebkitTransformOrigin","MozTransformOrigin","msTransformOrigin","WebkitTransition","OTransition","msFilter","ielt9","div","event","mousewheel","gecko","preventDefault","returnValue","ondragstart","unselectable","any3d","getComputedStyle","padding-left","padding-top","getBoundingClientRect","offsetWidth","__position","clientX","clientY","classList","contains","(^|\\s)","(\\s|$)","test","splitWords","className","baseVal","translate3d(","px,","px,0px)","translate(","matrix(","clientWidth","position:absolute;left:-10000px;top:-10000px;","IS_NODE","[object process]","versions",'Class instance is being created without "new" operator.',"setOptions","callInitHooks","_visitInitHooks","config","enable","disable","onConfig","_initHooksCalled","_initHooks","addInitHook","extend","setX","opts_","setZ","mapCoord","ESFloorManager","stopMoveTo","lastSelectModelStore","nodes","getTransformMatrix","compose","fromArray","getParentList","Scene","done","mergePromise","geometries","Box3","_meshName","pos","getObjectTransformMatrix","translation","applyMatrix","objName","showModel3DErrorMsg","checkGeoIsHaveUv","mergeGeometry","buffers","uri","mergeTranformGroup","OPAQUE","cloned","selectedColor","selectModelMat","intensity","warn"," can not find matching geometry or duplicate name","alphaMode","material name:"," data error !! Erro Code: 2501; object:","checkValueIsNormalize","getX","mergeBufferAttributes","BufferGeometryUtils","BufferAttribute","uv2","selectModel","groupData","locked","getFaceIndexToGroup","error data , code 983253","setTargetModelSelected","lastSelectNode","changeModelAlphaById","_settedAlpha","matRecord","splitGroup","materialIndex","islocked","changeModelColorById","groups","unSelectLast","mesh","getMatIndexByFaceIndex","setTargetMeshVisible","setModelVisible","isModelVisible","lastSelectMathInfo","lastSelectMatIndex","sort","sprite_","visible_","sceneOrtho_","margin_verti","updateHUD","getState","logo","margin_horiz","updateHUD2","sprite_2","img","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAABDCAYAAABzydsQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB7uSURBVHhe7Z0JnBTF9cffq5ldYEEULwQVUbwS70SjMRpjEs8YExM1h0YjwnIYRKMSFRDwxIggKIJANAZzKJ94xTt/8Yga0cSQvyfeBs/EKAKy7M50vf/v9dSwM9PVc+zOrv+Y/sKb7uq7q+u9enUuJSQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT858NuWR/+IoOIs7sZ5m0Q2iDcJvRvmzIvUSv/nfbmd8NtCQkJ/y/opAEQnM9Cz9gNucXehqt9iZij15Twx2L5JFbnU6u5ifYzq8J9CQkJnxgdMwBL7EZk6Gi29iQo9J2USk2FHRjIgdyAvfvlDiqD0DvCMo72Sv0aBiM0DwkJCd1PbQbgEbseG5kJZT8epza4rUCQs5thtJyfNYOCcSI0Eft7uZ3xiNwmqdTIpGiQkPDJUJMB4EeD67D4cS5UirSypcm2V+pyamvbkW2Yu+/idsYj8p6QnED7pf+IO3zy3oCgWPN3OZiC7PvUlH7RtNjvWDbP079oE+4nR1IWxwSQjFvmw6Xrut+FxbfPumWAT1B6jfy1LT1Lc80srFVmtPShjOwLz+zzOG8wtqyP+De5nXVC5GGab65yoWJOlA0oLYNcqJi+kXT2Ps0wb7n1jjPKbklt1M+FytNKr9AN5mMXSnBUbwCW2t680iKn5j5uix+RJZLJDqWmxtc4E1yIRHgqzkm7vTFARURmSUNqPO1rWtzGTwYRQ0uDU8maV0n4MWY7Ucg+RO+l7uTecgv1oMNCJc0r7bolorIo3L4ukWNLlwVGoHDJcgpdZa7GWjwjZDBZOQdr30dc981t7CpQbJtnLnOBYobbsbj/FS5UzHaw64UpwMqtdEbqKBfqGKfbXvQxvYxIGui2lAE+qdB2MF6vuA0JjupziA//xWGuVUmE9+Z0+ilqs6PkvfQ5EshB2P4CBXI3PsKlWL8MCeB+yNqC81ahCCGUWbMBPdi2Pz8QXMQPZO/lB4NnsIQE9/Di4GK6v+3L9Iw04oyuAxpPu6dmkQ1WGRMMk/V4HLZtyANkkjTwd2mNwFPpDqSVevLNLhBlEgzVcDsaaft5PF9z1ys/sPQnt+ZjJ7eMoqlMfbu8MG2N387xMQ2LKL/exyu8khr4PawllFC9BwCghL/ABxzqgpUReUys+TGt4FfpWNZ8rZ0H7LYsdiY87ifxcWbDlTsEunce7rKdO8KPyMvCZjx9lRch0XddkeHv9kiG8ZJGcwa1BT9lkp3EpofSK5LmjWDM0nRAJBcvzcHdeoc8gEAeQO7/VaxFUeV/W2bg/eFddRfyMaV5M7qaV7sNxTTbJ/Dt9nKhdjTn3wafqTClWVlJq00/mgJj2xHOsL1pJb2E9x/gtuSur8ruRV6kObwjDuq69PIfSmyU+ZDVZgwS6G8oKzaXSCuI5X3hNiylvsFoukYKKg3BgeZl2RRuYFZe4Bb7J7ayEOXh7bzXKRTL20Ixb+T7sr+DMUhhS/15Knsecrv+MF4TuM0uIDYfSo/UBE4F99P29H35wBwBg/WYO7prYNIWFT/vyGndq/xA6A2ajXzXRzO+rcR4APkvlM/9VdRbaZLNdHOHWEknFSl/HjUCfnkBP4nye6jJANCRvEYONseLlcNhxd8ocOHLCDex8CweFCymO0Q7CCERCNPd2WN4efA09v0WxYYd/OfGyotCqel0nxxA99q9saWuhJFiLVMjVsOCD/5nsC4wf7qdqEXW8KHUSn/VQ+uPrIYxvMkFihlhP4vnmOpC3clTUDq/EjFtjt+euUAJagCKv11OJKhcQezjeOT+TBNcqJ3Q1Y8Rpufwm+BBo6c2NBEc1nAvcsSdkSPPgLQV5dA+CT8678ccLKU77UioTRrbNsW2Ad7j4yWD82aKXqtNvsdZ+SPkYbrLnkk31c8bsJ9Ln49Es4oDu0jaWs5m4kFs7e1iU0ew4aN4u2AZfYs/llV8GJ7oaXda/WB60O9qw3BamoJvUOxNeZE2GNp/QpZD3ui0ED2Uu66HAIY9rsVBv0ph7p8XSn1Gf2umF3J/4v4u1E5O0f1iEgMQh0ZP57jV7gGlmA8P6/NuS3nCjy+LJTAnUw9JQYHh6vI+sU8iKEEzLRTmR2EwliFdr2ROaxPjzu6I/DXvEjInwkt5P9zWWZbaQ1jkSGlbfR419D6WmfeXFf8YyusPmkxst5Td08eHxvBKuxHC3wzPUUOnhkoRI+sMl5LfVy6sfSU1bJDbXm6eCbcXMtLCaNJyxFeZilD5G34m0RpaTE3cRh+GV+48i/Q6MR5Asx2Dff7myg1wyoZuvRCRq+mc1CkuVB3N0oTztOwfrfnvAYlLQ1naAwZ1qQslFNB5A6DcJI1Q5jFQmMm4ZPlmwnXIRyhKnEUfpRbSRjKOrYzHuSUJW16SlGmmb/KDYQ7fKD9hkktwnL+TkcgLkjG70bFI+PVipB0Kd9zfvp2Wm2mO+V8X6nqGW23q+60LRRF5jlroC93e3j3cXoPnanahYjaEAVjfrReilZwTUv5KzjiaLQwGR/shaCr2F0CAZGgDpMkpdUwTnyLqYwDy3CKDWewc5GOHIEFUvnYu574X3kAzpaQ/lPt6nPcZJORWPNps5P0T6HumRZWfjdV9x8U+scgKscGRdExjuaaq2si1NX+AZ/Enr56yC83y5NRdxXA7DXFwhgtFYfkhXWPiDUSXgGJJszyCm+/rNhTTz2aor6/IIq9TmxlSdUuAdnTKIvcnjlYeGih5z7hiEc65gnfQyHEbEgqorwHQyr1baSvKyD7wjuES8iZuTwXgDQifSmvp99xLxovhW+i75km3k+hGezRKmItcyIuQPZuOSV/qgvVhtOwH9zHGoMhbNM9s4QLdQ7O9DXF6pAsVExpN2prmm3dyG7qJSZKmtxEXzJu6Le2IWNpU7qFefLjbUoCspgxvTlPMSrehPNrngXm2CxUgQg10D/Xgw9yGYkTupBnmCBeKMso+hMJNLX0oBFqTwa822H4IeRXhV8nAS622mNFsv4zfc3OBmtD7qnenxdx/QJ6Gx/dwZzy++hiAB5AI3s0eymRQBKDdIFdBiWfDrZ+IdeTaXFUFHbyHs+wP0tNccB38W8396QQXjCKAcK8XUpd0uG3Zx0g7hSyf50LFsNyA3PZHLtQ9NNuHceP9XagEWYUkuTld282jLMN6iZhONgIl35wmU5oi31S/Gd5lO5pYRe+8E6Unipgv4vgt3ZZC/kpNdgkZM9qFS5DLaLoZ5wLFnGI3ghGqT52RYuRRpNPRFYuFI+zhcJzudKHOoXHMNJPSPDW2j0YZam8FKETL5TfYw/gt+wRbczsSwuchachpnIVZCHiRMB9EFm5YvsKrjOD4M/V6eKliw2Txip7jc4KEFNAsuJNzeXv7IP0qexKu1HnDps9g+RsuFCVN9fmAtaG5fBxNcIOHuPXuQ/izbi0K09vYvySshiwVJAwsd8daZRpFe/1FlV+NCMs5lDI7aUdSrxD9PTzWSxVjVWrB8peQFh+BUdzHbfGzlp/Cs6sH0XlY69x4PLzuR+Gx1ty3omMGQPvL/8oeyq32UZSs7sLH3AMvH7aYF8gW8ABu5wyPkkzmCBiBS0q6/0ZFuD/OuZMXygK6TnITigCx9g7v8ar8wtPgbVyCIsd9eIb9mXkBLZTOd5IZTRsgce3qQiXgPQJa7ALdh8DVjAVeFts5dIlUNzimXliJNwCizW9rXsUx2hdfw8VibXz34Txa9o93lx+jD/ghXGw7KIIqQ7HoXbiMAQik8v1rhtdD2vw9nWXXcxuiXM/v4rk8xZlOwLwrjMB9Lr6qpnYDcG3b/ny9fQyKehcFvHd7TuwRNQqBHMPS8IRk+TWx2X0Rftzl2vHnWBqKn2fol/ZgfEOm41OLcM6NxcfqNXiqZHg6t4bK/7ncdjYcwO271nbSusuBuLW/YonpJZpr/ulC3QfT427NT8bsQ2vsc3RxdiJdZA+i8+1udIEdQhfaAQhvQtNkY7oYbu8kuyFNlfVRfu9DM22PMI47TntzbJTnaErvt/E9PwpvUSqk3XMrkJUTkbijvf6QC+H8yTSEeiMVD0DcaPyUSgs1cPyoQ6Ed3Fqd4YF445hRs47edA4e4Pbce9QJHX2bkZo6iWk0VY2Znz1dUvxznFZhdF8MIo/C8xuFLP3LTHwxHrh85YuEA2mvhTd+Bi3nFhosP4HhwXnUA+efbw0tgLLfj+tEP6TADzjZxNcbVGKknQujMsKFijEyHQbgDBoO5UqFvd07RxutQtn9bReK52TbH/d7HfEf2+gVPs3mSFNe0y6F/lMWcaR9LFpwvZXIpZejHP0kjvkzraUHaqicW4L4/4ILFZNvlThPHkTogNzGAgTl9wt4TxeKkmv3f9lvAOghmsdfoTPtlyjFj7htJcgbdKnRodF+RtrfISZivDwv2jNUPdONYcAq1GvhneeZA13Aj47peIeOxDv+CNdFESemM5WE3eg3QzxEK1pLEVkDozeErq5ujo3qDcC8zCHM5q7Yh6wKaRHOfomG9fgbzV6zJTf20DbdIypeU+QNuPkn0zBeTAvgtll7IKXNrdoT0Kv8ishy2cBsHRmEVA3HSIo2lLfwkaM9zpS0fB0J52l4HHDlcr5m55CJSCwXukB5yrW559FOMf3jjEAViMAg8EWU5ek0hePLqmPgPbSGFYC+ln6YGdmBFpgXaYKdjWf2VNLJKhgAnBvbwcjf7q/DxxkG5RrzKI2zw/Ge89yOYoTugQHwtw50GLguJyKGm+RopIEZCG7sdhQj8g9awdvQog6kPy+47zAUt1g9B/oB4jP+64r8jOYbZNSVqT6JWHORwL3WPLnjws+Hyq+c0rRchplvizXfxb53oscWiOWt4AreS3PkSmqk16g5fSVlaAy27+A9XsXSRrhqx3LnTWUIPm5ME6ashmI8DOXfvy7Kr813GbrGhSrDPB4nvelCfrSq8J94NMRDmNfXKgLPjOlSStvLEYqnBXEk0tuFitHa6V6kXYj1ms9CGbGtVFBeniS+3D3XB0PCxO7jAbqGc4OxmD4bpmKfpOh5/NYZGKvreS3NMTfgHtrK5cdQPzxZ3bqnh/ddYJ6l+azeQvx9FaaqO1hpNFVmtt0SOYLONBNNLLVIIIMKK/eQmIVG8K249k7YNw+S9Z4XClwuoVNolcB7sLtSJnO9/zgnOm7gg5icpRIZRGCchWVaAtczg+VBbkvnYLqfrjP/cqHKzOP38X6HQntyyhXHWsi7MALa/y2ieFUK0U+goF8J13ykaWvEU5yRfZNmud53AkX0XV8ly9vjN8pqlKGZdZBRCTDvooOB3Lc1tCfiUOMxKkRd3EmL2/uqlJKr9oxykd2ZpgbTaVr2OJr0YbsuVA3e+0OeBgO7zG2IIjA9VVKdAcjSNrkKtk6Khbu0yj5EM0vGDYzmD+mUFMrbfACMwHPec9vlAzhgr5E0HOnZ1y6WXqXJUOWOcbBbRmG6lw6AZyF0iNvSOZh0mrXa0JwgxXsgEcyDxHcC0bd/D5rwESQXJzUKjCBbfxu6YstMAsL0YmjglYBeQrFNZ31C4iyRQKIVgTren2JyOXXr5/MT4boOQ1YPQB0xn1Cma/v/W4mvi9FOQrmUXEyj/Qo18ulk4EGs3/cVutzWPjPSotCw/iYX8MBx3msUjaXKXGm/iI9dv/HvIshBWae6Oo/GllQ2aa20EBKdnItjiiNYZAmJQe5H30bCXID98S6W2DPptHR5F9aHVsy8KytC97QU7dmWpj3g+n5IDfQ67l+dAY1D5H1cY2DoUXSUUdIPxSN1+bSSTZVJXWqtXG3C19W41BzahKa+CaIx2hCGG6r7/HYFreIt6HJPb7Phdhaef4wLFSMyFeXQnAuv7nwPeRvH+nK86XSJKe7eHN/rL4BR2psWcG4Y9rl2AN7jDRzr62rcCi+iH82oMMWc9vcYLdpitBfS+OaIr/645gAsNabKf1+mzfA82vHNgzxB80x0qPplwdVkeJQL6f2zSGvH0VnGP/w7jmH2WFznRhcqRvVrvqlq5qwqPQCU3dU9L8xhOyMWHyygsbjm8zTDFlfSjDWtdJq5gCSzO/Y/VHDeY5Q2XycbHATl/gWukSrYVyLyAgUV5tKL45+yj1f5Fab36Wp+mhppXyS6zim/wrSwU8qvzIH3NN/8HnIq5GDkjrvimoNpIPenAVC4FXiXFdwbxaHe9CbkZcjzjPI1tovsjYQ+BTnZ+1gi4XjEcl/qwxthLQqX8QC0m2oeVULh13EtvV6xBKHRakd7/eUquqII3bFO+RWd/NQgLeEyESF6i/pyfMcpNfSj7DdopGhl7lIKeAGecQpOHo3nOgrrh0EOKSuxyh/i739gUWQp9LJEi1AyN2yirY34dMO8xq1VpLpEfDqvgELdUvTg9ZAA/zL8DtygbWlqyYyyp/dcRluYr1Fgh+HYeyhFh9Ea2Q+RvhBiItfKSyCrqS17NJ3RwclFLX3drUVhWozI1cazx6E83+q0BFRdzX9N4Pn0GbVLtIrWQvtkCq+mKeYJLCfjnfdDvLUUxWNeJIxrv0spcU1o8O1LK+AsPVlkWPJCKF4W9vxslKF4h+gYC83VTEmHoFSZCkDtnx/bLRz3e0+mIf7/gFUYsbC8UF8Mij2l5GZO2rEofkPhfoj/E7FWPUzxTYIiVU+zX/2L/9wOwcNr2cs3urt2hJG7yzFkgl2IkYOFLdg8kXrRnNALKOVSeyBe7C58q/hyV9g1lIfRz8y1bkuNIGGMkKew8HdRTeEjzTG/cqFPF+Pt44g7/+xKFsWei0sGupQfA5ChBt6wqG/6WXYsvm901mChj6hV+tOV+Oa5EX/LcJxvpt9F8GyOdes5JgbTKY3ytA8rM2lK6jQXKgDfeKRcgGcf7zZ0DUa+RnNNcW9RzeTEvop4jhZdrfyBzk35B3r5GG6vwnX88ynoAKj5ZQZAFaC2sjrGmVcQaQdDaZfDcjpXuwOShZIGMp9anj0Y5udQlOnvxnU3gPRBQptBq+VJugjKPkkaw7EGk2xfutieinPuwjE9vdfMi6VrO678YAzcMCH/TDWsQ07hgn4aCcc9wPW2yJJLJbCWgpYP3JHt2Jjae4XpzcjAFOFncR+9V7GQrA/Tn3N/M/Ijv/Kj7J+SSS7QjtEKQCy9gvv5aJb9kVbimhfrg9YVGYoOcgpkazyYtmbhmBKpZUSi9lMh+lou4CXX1F4F1RsA5RyUv1pX7ooIvAovkylSvqpEWpGoxlKrGU3mM+ci/EuUvRqLjrG8CyJjMaXtm/SCXYYP/y62z8Rx5ZU/kKW4bufGAAQo2xNrNxofy2gGytufRs5G4tN5830JUyfgpl4fhWvFVBgDUILW96in7xNDu4e9/uCH5A6O8Dt4XtE2fUO7+ZUfloU9TYA5xdGKS3+613N1bgHWCkt5s6yQxDfdMq2hq020mVYzl4j7v06q71q+sWyPe5SbPftut6xIbQZAmdJvBU00YxCJ+0CZ/+J5Eb8E8m/c7gj6wCwgtr9ALE2CsseX5S1vgsSBYgf38u8vFFlBWT4GZb6qKz+82DLNf0L3a8pyoU8XIkfDE2tCnCMOIvImXcpRAyASPwaAKZr79uV3wu9UamByshOup33+fe3+LZTxDMk+W/pRivqHShsVi+eOlsE3Fi3iROst1PRoz8kBMo/WR7r7gAdBBpcVop+G5/rgmHkirWjmhqVHWKrvsxDQGTghpgUMxqtn9ZPV1m4A8kwwT9FmZl98PLjnSCD6J65iBQkixXvB/X+K+hBceXOC/7iOCJ5A++xPMS+7J+s4Qrm5/XykqJv+IEg3M85C+fhyp4hRsfQwfqMwfc6t+YgqgFbICbwoX+LXYcEcO+LvRrqOo6Mge8gOMBjsFL5YdMKMKZ5x/kKH44DcEYqubYaXVGlE2pzMI0Nj56s0LRVT0npRjD8tWngAhXFbKFmpbmq54Vabe+MHGgndFNanVEl7ZHSGc+3muJJOCvntYvcKrpg23bTRcdQYlvP+gP11HoIps+hCM9YFOs4pdnvKhPPHe+IE75FG4hEdONMFWFz3GpPr3NJd6Ew+/6YjoEjz8cplmqDkMJpm7nGBHOEYAO3mGzNWgpDQ5zHisoSx9lqcc5ILtaNNzG2eHoWC3J95R1xLZ78p5vzsUGow8CQ9WFlM41PRMnKzxXtwrgOXfuWB0DydXVKNUFam0oRU9XUDI+z/wHD6y+FGTqe5prjCU+tZpljtCxEds6+D3gx/hs4zUa+lkOH2c3hufYeYVhlZgzSq4y/KdxUvoD4GQNEXnCCHIDLn4LKDEdZpPC6ll3kibS2fRw56J7bX2tZZAXmcGvkAWPvOT/g4SprhTVTfJ7+eGPk1EszxLhRlpN0BHzZ+1FwtaPUU0SD8fg+u785IeGXSgLxFffAtSwcEjbGb0FrSxOxT2tWIx4HemYlOteq6emYHgnjzLLmG5pmRLlDMBcE0aoiZH1HoajrHlNSQI32OkKVY5IoA2iVpU9w474Vk5RHKmAMj7+pD6xL6ySt4l63clmIa5GCabYo9Ri2y9NBisCe+tTenjvSLK8IOteshAxqJ99Ip4eP/6raV86H80crSMtTPAOTRMeZrZSKu/AxN5RtonGhXx4V4cC1p1Q9BZDLvCZftdbelc4ywtyFxVN8MU098TUaFVJoMtFbUBGhVZ6UCoMh4usJc7ELtNNsvIun4e4aKvEoDeTskZlWrYkbbw1EU9M+klB+zkEdzszTc7DlmudtSzEXBQ5RmnVsvikBZzjYlxhwGoFndbN45TPVDcDN9/7wByBmB5ShOar3WezBiLXgGPQ1FzNLj4M+upRH4Jr4eiAE1UH8YACh7AePb9qNUg39+yYA+ovdkpgvlYG0WD5vcdbTr3hX1R+QJlP2/XIv7r9TfABRylj0CEXYLHj6aU3QGkTY8+bcirmlHyc3++xaio3tn0wlBohvA25TNeYbbBxCH8YNyakGrjrSTaKUvr4qcpl29XYBH2JOhGAtcqAS5G7m2ZxJQMNpui/suw7tETY/2ays0ACxXoljkb9XRDjXb2Nfhvfj/MnCWvkDnFkwqm2eEvQPP/Q3SkQZbFuT+edHWpHAdkbNuux5XGHaiaqbLCPIuvudW+J7FXum58DBNjIepA7eqm33Bj4hmgvtSByaErZQHdI7X+W5E0kiU8d4PI7cuol2SeUzdlF9p07npPgnlB4ZuLqv8mthzuUDnUIXXK6moopUm6EIJwgFGP/QqvxL3dwAVXxNgniy/jf1t3nsWGiSdj6CNLnChKIOlL+Jt4/CcUtExAK2eFoAct4W/TYWWpoNolhberwSmdyPKH6J/0g339UnlQkcZ5GV4Ql/riPIrXWsAtLZ0hvkFXvCzsKQ3hMrr+/jVinbztXQCXcH+CSA6SlCm+a+rYV7o1uLQyTY63vtSv7AmVs31dR3praxY0U4/36GZZgmWcZSbbi3eAMxDGdfqSE6sl0oxC8oOkW6lIcj9G4sUf52wtqf7Z8ftoyPoZFldUr3ey3+dp9yyGBsONipOz3npiAHQOjaR22Ds9qI5nlaSKulaA5DnSnzMmeZH+NBfRznrhWiuXo3In+GK7YXr1P8PXwh91611L4zEOKdgcIsPkUFI1HGdk/xo4lRXX3N7XWrYl/CKREfayU04Z1d8r/uwJQbtuUN75Na9lP9biToNWDkDoJWI2Qp//LQn7RimXJ8wvR7rUalHk+LDEe+dbzJWQoOTW12H8TQB6l/GFt4+V5TwSM0GQJbivt+GQT2KrucVbmOHwN27GXVpG+UEKLVOEbUbEndMhwaQ+2MXS5CIZ9JVfAsetzCp1Iefysa0WrRCy19PkZvruKuYjXLuDLfup9l+EwpS/phcwq/tazKSndAKLF/BUicbvTW2wq2Qk+wmiKlncZ7etRht9GWUfzWnj2O4PR3nxvfD1xr8+cb/txjynJ+dSL3Y088fMF9HZ5ozXcjPJGmi3nIyDN638Cxb4guvh/TYhKXO88AoYroOakhueQOZrwzUzCi/LdzutuUxdBTNNfe6UI4zZTMk3X/g2aKVhhY5+Up8h9yVStE7aO2IejT4TvwErnMHzTN/0Z31oPsNQJ7chIhbQLkPRSTsjtcfiKfRoaBa7tSEqDnjvTSX4Qp2cQ88fZY4Jns/TH3IT5hRkTDXrTMdjVM8i86JF4dOl1UObUJrCn0TP4NR+o8dxefQTGRA6Nv4yJatU/GhOfTbeKY+eLfVzLQmJr6bCuIsroCyCa2JPP+ZZVpNyD4Hg7Mn+Wav6isCF9/SPPURukYHPjkDkJDw38JP7VAYe3+nJZGbabr5ZIqgID7nS0hIqA86dVq+yFAq4hk30Y0kBiAhoavRSTp9yq8SlGk16QYSA5CQ0NXoYCctwfukXLNpN5AYgISEruR0uyEUvX9E8VWsTghK8dN7dwOJAUhI6EoytC3l/hJyseuvIvRKrX33601iABISupJsmVmAPuEKQCUxAAkJXUk421G4jIrtij9dVhtJP4CEhK5khB0LZY+ZZZrm0xxTvz+4k5CQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkPBfDNH/AY+O2zzm8xElAAAAAElFTkSuQmCC","SpriteMaterial","options_","offsetLeft","clientHeight","offsetTop","initUserLogo","userCompany","esmap","src","data:image/png;base64,","Texture","userLogoConfig","LinearFilter","userLogo","points_","holes_","MULTIPOLYGON(((","GLEN1","Circle(((","hasHoles","GData","Writer","util","roots","ESMapSet","floors","_id","nameEn","address","Tel","FirstRotateAngleX","FirstRotateAngleZ","Firstscale","DefaultCenX","DefaultCenZ","minX","minY","maxX","maxY","FloorBarName","navs","emptyArray","panos","logotoken","other1","other2","create","encode","uint32","int32","maptime","Hash","Type","Brief","adcode","BuildingHigh","float","double","FirstRotateAngleY","DefaultFnum","DefaultCenY","ScaleLevel","Remark","FloorHigh","FloorSet","fork","ldelim","NavSet","PicSet","styleid","encodeDelimited","len","skipType","object expected","isInteger","version: integer expected","maptime: integer expected","_id: integer expected","Type: integer expected","name: string expected","adcode: string expected","BuildingHigh: number expected","FirstRotateAngleY: number expected","Firstscale: number expected","DefaultFnum: integer expected","DefaultCenZ: number expected","y: number expected","minX: number expected","maxY: number expected","ScaleLevel: string expected","Remark: string expected","FloorBarName: string expected","FloorHigh: integer expected","isArray","floors: array expected","floors.","verify","navs.","panos.","styleid: string expected","token: string expected","bid: string expected","o1: integer expected","other2: string expected","o2: integer expected","ul: integer expected","t1: string expected",".ESMap.ESMapSet.floors: array expected",".ESMap.ESMapSet.floors: object expected","fromObject",".ESMap.ESMapSet.navs: array expected",".ESMap.ESMapSet.navs: object expected",".ESMap.ESMapSet.panos: array expected",".ESMap.ESMapSet.panos: object expected","toObject","constructor","toJSON","Rooms","Facility","NameEn","Height","Outline","Alias","emptyObject","Lifts","imagesize","floornum","floornumtext","Elevation","POISet","LiftSet","skip","RoomSet","decodeDelimited","floornumtext: integer expected","NameEn: string expected","AS: number expected","Elevation: integer expected","Outline: string expected","Alias: string expected","Rooms: object expected","key32Re","Rooms.","Facility: integer key{k:int32} expected","Facility.","Labels: integer key{k:int32} expected","Lifts: object expected","Lifts: integer key{k:int32} expected","Lifts.","image: string expected","imagesize: string expected","other1: string expected",".ESMap.FloorSet.Rooms: object expected",".ESMap.FloorSet.Labels: object expected",".ESMap.FloorSet.Lifts: object expected","objects","defaults","toJSONOptions","Tid","RLSize","RMS","RMO","CenX","ShopID","RMR","CenY","PointID","Brief: string expected","Tid: integer expected","RLSize: string expected","RC: string expected","RH: number expected","RM: string expected","RMS: string expected","RMR: string expected","RS: integer expected","CenY: number expected","PointID: integer expected","ShopID: integer expected","FS: integer expected","FC: string expected","FSId","X: number expected","Y: number expected","SH: number expected","w: number expected","FSId: integer expected","F1: integer expected","ST: integer expected","LH: integer expected","LM: string expected","LS: string expected","LR: string expected","X1: number expected","Y1: number expected","Y2: number expected","O1: string expected","Nodes","Lines","NavNodeSet","NavLineSet","floornum: integer expected","Nodes: object expected","Nodes: integer key{k:int32} expected","Nodes.","Lines.",".ESMap.NavSet.Nodes: object expected",".ESMap.NavSet.Lines: object expected","rid","sid","tid: integer expected","rid: integer expected","sid: integer expected","Z: number expected","eid","efnum","direction","bstair","eid: integer expected","efnum: integer expected","length: number expected","direction: string expected","bstair: string expected","Infos","bgaudio","bgaudioplay","picscale","msgscale","serverurl","PicNodeSet","PicClickSet","serverurl: string expected","bgaudioplay: integer expected","picscale: string expected","msgscale: string expected","Infos: object expected","Infos: integer key{k:int32} expected","Infos.",".ESMap.PicSet.Nodes: object expected","idlist2","base","idlist1","url: string expected","base: integer expected","idlist1: integer[] expected","idlist2: array expected","idlist2: integer[] expected",".ESMap.PicNodeSet.idlist1: array expected",".ESMap.PicNodeSet.idlist2: array expected","arrays","purl","aurl","msgt","curl","csize","msgc","purl: string expected","aurl: string expected","msgt: string expected","msgc: string expected","curl: string expected","csize: string expected","ESCityLicSet","mtime","ltime","AngleX","AngleY","Long","fromBits","tileurl","bidnums","modnums","cids","tiletoken","bidlist","AngleZ","int64","offsetroad","alist","comparehs","v: integer expected","mtime: integer expected","ltime: string expected","Hash: string expected","AngleX: number expected","AngleY: number expected","AngleZ: number expected","low","high","minX: integer|Long expected","minY: integer|Long expected","maxY: integer|Long expected","offsetbid","offsetroad: string expected","bidnums: integer expected","modnums: integer expected","cids: string expected","logotoken: string expected","l1: integer expected","l2: integer expected","l3: integer expected","l4: integer expected","eid: string expected","unsigned","LongBits","toNumber","fromValue","longs","dynamicBufferGeometry","normalizeUv","findChildById","range","hiddenChilds","getChildIndex","subarray","deleteChild","getDis","genGeo","Shape","normalizeSide","normalizeTop","lineTo","holes","ExtrudeBufferGeometry","computeBoundingBox","boundingBox","Vector2","error face","transformCoordArray","offsetZ","mergeBufferGeometries","addChild","getChildList","getChildByRange","getChildsData","texture","aoTexture","colorStr","iTime","activeColor","texture1","\n                #include <uv_pars_vertex>\n                varying vec2 nvUv;\n                ","gl_Position = projectionMatrix * mvPosition;","\n                gl_Position = projectionMatrix * mvPosition;\n\n                nvUv = uv;\n                ","\n                uniform float opacity;\n                uniform float iTime;\n                uniform vec3 activeColor;\n                uniform sampler2D texture1;\n                uniform sampler2D aoTexture;\n                varying vec2 nvUv;\n                ","createSprite","sizeAttenuation","render","components","manager","enabled","component","append","addComponent","_invokeFunction","removeComponent","THREE_","Ajax","callbacks","Promise","resolve","ESMapConfiguration","ESHeatMap","ESappendMapPoi__","loadTexture","ESDirection","none","floorBase","facility","label","modelLine","modelImage","modelBase","externalModel","locationMarker","lineMarker","textMarker","cardMarker","boardMarker","mapRoad","ESNaviMode","ShowBuildingMode","near","ESElementType","poi","This map has already expired,please contact esmap to download the latest map!","Please provide the corresponding token!","Token is not correct","This domain is forbidden","Maximum es3dMarker limited","Cannot get audio token","Data type must be an array","You cannot display allFloors in viewMode 2d","Your operation frequency is too fast. Please try again later.","Invalid source type.Please check out your request url","License data error","current is online licensce , please contact esmap to get offline license","ESLineMode","ESLineType","full","dotted","dotDash","dash","doubleDotDash","triDotDash","raw","EScontrolSize","small","ESBuildingType","onerror","noWebGL","ESComposerRender","ESMapTheme","ESMapPoi","ESMapPoi2","ESMapPoi4","ESComponent","ESComponentsManager","ComponentsManager","ESMapCoord","ESMapGestureController","ESElement","ESFacility","ESLocationMarker","ESPolygonMarker","ESTextMarker","ESControlOptions","ESControlOffset","ESScrollFloorsControl","ESToolControl","ESNavigation","ESNaviCore","ESBuilding","ESWebViewMarker","esmap.ESWebViewMarker 已弃用","ESTextureLine","ESLineMarker","ESNaviMap","ESTile","ESCardMarker","bidList","sent","datas","bids","cenx","keys","delegateYield","typeID","abrupt","continue","keyword","item","colorRGB2Hex","containPolygons","getMapScene","getAlias","getNearestAngle","getTileNumsByPolygon","computeCameraStateByBounds","getOrthoCameraSizeByPerspectiveCamera","restoreFloorAlpha","getModelTypesCount","getModelsCount","getVersion","searchModel","search","getRoomDirection","_setGeneralProperties","pointInArea","getExtentByPoints","getCenterByExtent","buildBezierCurvePoints","interpolatePoints","buildCurvePoints","GCJ02ToWGS84","transformWGS84ToMap","transformBD09ToMap","transformGCJ02ToMap","transformMapToWGS84","getDistance","timestampToTime","getPolygonBounds","color format error","intersectsPolygonAndPolygonNew","containPolygon","rgba(",",1)","_type_","toFixed","userAgent","Android","SymbianOS","Windows Phone","iPad","iPod","MicroMessenger","camera","mapView","zoom","[object Array]","sin","fov","aspect","DEG2RAD","getFloor","modelbases","modellayers","oid","OCenX","OCenY","typeid","RoomHigh","RoomStyle","fnums","lastAlpha","o3dFloors_","hideOnComplete","uuid","getBuilding","CITY","key","floorNums","getDatasByAlias","includes","GLTFMergeTool","types","imageMarker","polygonMarker","classID","buildingList","indoor","polygon","dataID","radius","MODEL","FACILITY","getMapCoordDistance","node","dis","computeExtentByPoints","ghijklmnopqrstuv","wxyz0123456789+/","charAt","segments","QuadraticBezierCurve3","ESMapSceneUtil","GCJ02","atan","exp","BD09","cos","getMonth","getDate","getHours","getMinutes","getSeconds","_tweens","_tweensAddedDuringUpdate","getId","now","_isPlaying","_nextId","fadeTo","hrtime","performance","_isPaused","_pauseStart","_object","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","Interpolation","_onStartCallback","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","nextId","_valuesStart","stopChainedTweens","_chainedTweens","updateCountDown_","_onStartCallbackFired","Bounce","Utils","CatmullRom","CopyShader","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","uniform sampler2D tDiffuse;","varying vec2 vUv;","gl_FragColor = opacity * texel;","EffectComposer","getSize","_pixelRatio","_height","WebGLRenderTarget","EffectComposer.rt1","_width","renderTarget1","renderTarget2","writeBuffer","readBuffer","passes","ShaderPass","THREE.EffectComposer relies on THREE.ShaderPass","copyPass","renderer","getDrawingBufferSize","setSize","getRenderTarget","isLastEnabledPass","needsSwap","stencilFunc","NOTEQUAL","EQUAL","swapBuffers","MaskPass","ClearMaskPass","setRenderTarget","getPixelRatio","Pass","clear","THREE.Pass: .render() must be implemented in derived pass.","FullScreenQuad","_mesh","inverse","setMask","depth","setLocked","setTest","stencil","setOp","REPLACE","setFunc","ALWAYS","setClear","KEEP","overrideMaterial","clearColor","clearAlpha","clearDepth","RenderPass","autoClear","getClearColor","getClearAlpha","setClearColor","renderToScreen","autoClearColor","autoClearDepth","autoClearStencil","fsQuad","textureID","FXAAShader","#define FXAA_REDUCE_MIN   (1.0/128.0)","#define FXAA_REDUCE_MUL   (1.0/8.0)","#define FXAA_SPAN_MAX     8.0","vec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float lumaNW = dot( rgbNW, luma );","float lumaNE = dot( rgbNE, luma );","float lumaSW = dot( rgbSW, luma );","float lumaSE = dot( rgbSE, luma );","float lumaM  = dot( rgbM,  luma );","float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );","float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );","dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),","max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * resolution;","vec4 rgbA = (1.0/2.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));","vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));","float lumaB = dot(rgbB, vec4(luma, 0.0));","if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {","gl_FragColor = rgbA;","gl_FragColor = rgbB;","absolute","CSS3DObject","CSS3DSprite","CSS3DRenderer","overflow","hidden","domElement","WebkitTransformStyle","preserve-3d","transformStyle","elements","matrix3d(","translate(-50%,-50%)","transpose","copyPosition","WebkitTransform","projectionMatrix","isPerspectiveCamera","WebkitPerspective","updateMatrixWorld","getInverse","isOrthographicCamera","right","translateZ(","px)","CSS2DObject","CSS2DRenderer","relative","setFromMatrixPosition","-100%","-50%","updateAlign","computedScale",") translate(","px) scale(","offsetY","MozTransform","oTransform","createEvent","HTMLEvents","popMakerCreated","dispatchEvent","distanceToCameraSquared","zIndex","FirstPersonControls","lookSpeed","lookVertical","activeLook","heightSpeed","heightCoef","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","autoSpeedFactor","mouseX","mouseY","lat","lon","phi","theta","moveBackward","moveLeft","moveRight","mouseClickMoving","mouseLastPos","mouseMoveOn","viewHalfX","viewHalfY","stopAsap","stopAsap2","nextPos","lookAtTarget","rotating","userIntersecting","tabindex","onMouseDown","button","moveForward","mouseDragOn","onMouseUp","onMouseMove","pageX","pageY","clearTimer","onKeyDown","moveUp","moveDown","clamp","cruisingMode","autoForward","translateZ","translateX","translateY","cruisingAngle","mapLinear","contextmenu","mousedown","mousemove","mouseup","keyup","onKeyUp","handleResize","ESGLTFLoader","DefaultLoadingManager","dracoLoader","anonymous","resourcePath","LoaderUtils","extractUrlBase","itemStart","itemError","itemEnd","FileLoader","crossOrigin","KHR_BINARY_GLTF","content","decodeText","trim","action","asset","ESMAPEDITOR","gltf version>=2.1 supported!","MODEL3D_ERROR","hash","GLTF","scenes","accessors","bufferViews","textures","images","samplers","ESMAP","ESMAPBID","模型未经授权!","extensionsUsed","KHR_MATERIALS_UNLIT","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","MSFT_TEXTURE_DDS","KHR_TEXTURE_TRANSFORM","URL","KHR_binary_glTF","KHR_draco_mesh_compression","KHR_lights_punctual","KHR_materials_pbrSpecularGlossiness","KHR_materials_unlit","KHR_texture_transform","MSFT_texture_dds","DDSLoader","THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader","ddsLoader","KHR_LIGHTS_PUNCTUAL","extensions","lights","loadLight","lightDefs","directional","DirectionalLight","point","PointLight","spot","innerConeAngle","outerConeAngle","penumbra",'THREE.GLTFLoader: Unexpected light type, "',"decay","light_","getMaterialType","extendParams","baseColorFactor","baseColorTexture","assignTexture","binary_glTF","glTF","header","magic","THREE.GLTFLoader: Unsupported glTF-Binary header.","byteLength","getUint32","JSON","BIN","THREE.GLTFLoader: JSON content not found.","THREE.GLTFLoader: No DRACOLoader instance provided.","KHR_DRACO_MESH_COMPRESSION","DRACOLoader","getDecoderModule","decodePrimitive","bufferView","componentType","normalized","getDependency","decodeDracoFile","extendTexture","texCoord",'THREE.GLTFLoader: Custom UV sets in "','" extension not yet supported.',"lightMap","aoMap","aoMapIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","specularMap","specular","glossinessMap","glossiness","alphaMap","ShaderLib","UniformsUtils","#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif","#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\tspecularFactor *= texelSpecular.rgb;","float glossinessFactor = glossiness;","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","PhysicalMaterial material;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","uniform vec3 specular;","uniform float metalness;","uniform float glossiness;","#include <roughnessmap_pars_fragment>","#include <metalnessmap_pars_fragment>","#include <roughnessmap_fragment>","#include <lights_physical_fragment>","metalnessMap","setHex","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","lightMapIntensity","normalScale","displacementBias","envMap","envMapIntensity","refractionRatio","derivatives","isGLTFSpecularGlossinessMaterial","defines","diffuse","isWebGLRenderTarget","matrixAutoUpdate","uvTransform","flipEnvMap","reflectivity","maxMipLevel","properties","__maxMipLevel","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","Interpolant","copySampleValue_","sampleValues","valueSize","afterEnd_","resultBuffer","Matrix3","NearestMipMapNearestFilter","NearestMipMapLinearFilter","ClampToEdgeWrapping","BackSide","FrontSide","LessDepth","LessEqualDepth","NotEqualDepth","GreaterEqualDepth","AlwaysDepth","AddEquation","SubtractEquation","ReverseSubtractEquation","ZeroFactor","SrcColorFactor","OneMinusSrcAlphaFactor","DstColorFactor","SrcAlphaSaturateFactor","skinWeight","skinIndex","morphTargetInfluences","InterpolateLinear","InterpolateDiscrete","DEPTH_TEST","SCISSOR_TEST","MASK","BLEND","RGBAFormat","RGBFormat","gltfExtensions","extras","THREE.GLTFLoader: Ignoring primitive type .extras, ","POSITION","accessor","morphTarget","setXYZ","getY","getZ","morphAttributes","updateMorphTargets","weights","targetNames","THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.","indices","primitive","promise","baseGeometries","baseGeometry","primitives","isInterleavedBufferAttribute","itemSize","getW","targets","cache","primitiveCache","multiplePrimitivesCache","multiPassGeometryCache","textureLoader","setCrossOrigin","fileLoader","setResponseType","removeAll","markDefs","animation","cameras","catch","skins","joints","skin","isSkinnedMesh","meshReferences","meshUses","loadScene","loadMesh","loadAccessor","loadBufferView","buffer","loadMaterial","loadAnimation","loadCamera","Unknown type: ","getMultiDependencies","getDependencies","loadBuffer","THREE.GLTFLoader: "," buffer type is not supported.",'THREE.GLTFLoader: Failed to load buffer "',"byteOffset","values","BYTES_PER_ELEMENT","byteStride","InterleavedBuffer:","InterleavedBuffer","SCALAR","sparse","setArray","setY","THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.","webkitURL","source","createObjectURL","Loader","Handlers","revokeObjectURL","mimeType","format","magFilter","pbrMetallicRoughness","metallicFactor","roughnessFactor","metallicRoughnessTexture","roughnessMap","doubleSided","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","sRGBEncoding","setIndex","TRIANGLES","TRIANGLE_FAN","SkinnedMesh","normalizeSkinWeights","TRIANGLE_STRIP","TriangleStripDrawMode","TriangleFanDrawMode","LINES","LineSegments","LINE_STRIP","Line","LINE_LOOP","LineLoop","POINTS","THREE.GLTFLoader: Primitive mode unsupported: ","mesh_","isPoints","PointsMaterial:","Material","isLine","LineBasicMaterial:","ClonedMaterial:","specular-glossiness:","skinning:","flat-shading:","morph-normals:","cloneMaterial","vertexColors","VertexColors","flatShading","morphTargets","morphNormals","THREE.GLTFLoader: Duplicating UVs to support aoMap.","refreshUniforms","PerspectiveCamera","yfov","orthographic","xmag","ymag","loadSkin","inverseBindMatrices","channels","sampler","parameters","input","output","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","interpolation","AnimationUtils","arraySlice","CUBICSPLINE","createInterpolant","getValueSize","AnimationClip","loadNode","_instance_","onBeforeRender","isMesh","sanitizeNodeName","isGroup",'THREE.GLTFLoader: Joint "%s" could not be found.',"Skeleton","dist","lerpVectors","dir","widthScale","PathPointList: points length less than 2.","equals","_start","_corner","_getByIndex","subVectors","crossVectors","_getCornerBezierCurve","getPoints","_hardCorner","addVectors","dot","acos","makeRotationAxis","_drawing","_points","_lastPoint","_lastFixedPoint","fixRadius","_cornerRadius","_cornerSplit","_pathPointList","cornerSplit","_includeDrawingPoint","pop","_getLastFixedPoint","_dirty","confirm","setUsage","DynamicDrawUsage","setDynamic","_updateAttributes","drawRange","usage","setLength","_resizeAttribute","updateRange","radialSegments","startRad","lerpPathPoints","getIndex","Path3D","Frustum","startPoint","endPoint","collection","deep","watchlist","select","updateFrustum","searchWatchlist","unproject","setFromCoplanarPoints","WARNING: SelectionBox.js encountered an unknown camera type.","preWatchs","boxSelectPoints","box3","intersectsBox","pickType","isVisible","buildingBounds","intersectPolygons","mapExtends","clonedMats","containsPoint","searchChildInFrustum","originalPoints","SelectionHelper","pointerEvents","1px solid #55aaff","rgba(75, 160, 255, 0.3)","pointTopLeft","pointBottomRight","selectionBox","isDown","onSelectMove","onSelectOver","parentElement","matInfos","HeatMapMaterials","getDeviceWH","floorEdges","getPixXY","mapOpacity","maxSize","gendatas","gradient","rgb(0,0,255)","rgb(0,255,0)","yellow","rgb(255,0,0)","canvas","getContext","ctx","ctxCopy","canvasCopy","renderShadowCopy","boundVal","shadowColor","shadowOffsetY","shadowBlur","beginPath","arc","closePath","renderShadow","getImageData","putImageData","setFloorNum","renderToFloor","matTool","层热力图错误，请先执行setFloorNum","_hasHeatMap","mat","heatmap","focusFloorNum","getObjectsByAlias","originalUv","floorUvs","originalMainMat","originalStatus","depthWrite","originalColor","antitrans_","disposeHeatMap","texture2","getPalette","addColorStop","fillRect","cachePoint","clearPoints","addPoint","colorize","clearRect","getHeatMapTextures","copyCanvas","bgColor","isShowBackground","texLightFactor","\n                #include <uv_pars_vertex>\n                varying vec2 vUV;\n\t\t\t\t","\n\t\t\t\t#include <uv_vertex>\n                vUV = uv;\n\t\t\t\t","\n                vec4 resultColor = vec4(outgoingLight, opacity);\n                vec4 curTexColor = texture2D(texture1, vUV);\n                vec4 nextTexColor = texture2D(texture2, vUV);\n\n                #ifdef IS_BG\n                    curTexColor.rgb = mix(bgColor, curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(bgColor, nextTexColor.rgb, nextTexColor.a);\n                    resultColor.rgb = mix(curTexColor.rgb, nextTexColor.rgb, transFactor);\n                    resultColor.a = 1.0;\n                #else\n                    curTexColor.rgb = mix(vec3(texLightFactor), curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(vec3(texLightFactor), nextTexColor.rgb, nextTexColor.a);\n                    resultColor = mix(curTexColor, nextTexColor, transFactor);\n                #endif\n\n                gl_FragColor = vec4( resultColor );\n                ","animate","transFactor","__viewModeAnimating","lastSelectStore","__moveToId","TEXTURE_LOADER","updateTile","3.0","minPolarAngle","baseDistance","dynamicLoadModels","mapPickHighLight","ESMapScene","change","controlsChange_","requireUpdateCollide_","deltaVec3","scaler_","ESMapScaler","hideRecord","controlend","updateTileView","scaleLevels_","scaleLevel_","timer","timerImmediate","matList","animatque","o_count","tileConfigs","focusBuilding","onMapResize","MapInited","localScaleLevel","firstPersonAnimating","firstPersonControls","initLocalScaleLevels","loadComplete","focusFloorNumChanged","viewModeChanged","gestureController_","popMarkers_","updateCssScene","maxBuildingZoomLevel","localScaleLevels","showChild","stopCruising","toClearId","exitModeOnEnd","needAnimate","beforeCruiseState","originalRotateAngle","firstPersonMode","originalTiltAngle","scaleLevelTo","originalScaleLevel","setControlsInfo","originalControlState","getModelInfo","modelInfos","playAnimation","afterEnd","easeOut","getControlsInfo","easeIn","beforeStart","noFly","unshift","cssFactor","far","firstCameraPos","cssCamera","autoUpdateObjects","mixerPlane","cssFuncs","openBuildingById","tl_","TOO_FAST","preLoadBuildingId","openBuilding","meshLoader","baseLayers","lineLayer","modelImageDatas","modelTextureDatas","modelLineLayers","modelImageGeos","modelTextureMeshs","dynamicShows","queue","toAddQueue","modelManagerStarted","isLoadedAll","logomatlist_","openMap","resetAll","IsMapLoading","maxPolarAngle","loadBuilding","buildingRouteDataLoaded","buildingService","setState","mapName","mapNameEn","setScene","_start_","setOriginCameraPosition","clearTrans_","userBgColor","setBackgroundColor","clearColor_","buildingMapLoadComplete_","onlineAuth","tiltAngle","solvingList","currentView","tileInited","tileList","mergeQueue","modelLoadedAll","tileModelInited","tryFetchBoundary","initMap","_disableTileUpdate","setting view","closeBuilding","ESTileMap","Tools","toggleTileLayer","loadComplete_","unsetScaleLevel","beforeOpenBuilding","finish","initESAudioTool","mapAudioSrc","esaudio-1.2.mp3","/esaudio-1.2-","AUDIO_ERR","setTilesVisible","modelBasicMat","cacheBuildings","shell","buildingScene_","showBuildingMode","enter","moveComplete","hideFloorBase","checkToLoadedBuildings","toLoadedBuildings","请使用ESMap城市地图编辑器绑定该室内地图!","loadTile","clearLineMarkById","clearAllLineMark","drawLineMark","onUpdating","added","originHeight","smooth","_analyseRawPoints","画线点集数据错误","lineManager","ESLine","curvature","-&-","crossFnums","crossBuilding","DistanceofTwoPtsZ","bid_","originalLength","screenshot","screenshot.png","ULTRA_HD_ERROR","viewMode_","sceneOrtho","cameraOrtho","resize","download","initEvent","click","newTab","document","Screenshot","mapmodel3ds","layers","change3dVisible","MODEL_BASE","isHideFlags","merged","changeBuildingColor","buildingColorStaged","highLightColor","highLightFlags","restoreColor","changeModelColor","colorMap","toSceneCoord","getTileBuildingByMapId","targetAndBuildingList","raycastByCoord","rayPointer","configs","intersectByCoord","startCoord","endCoord","debug","cubeTip","fillStyle","red","strokeStyle","green","globalAlpha","stroke","cameraFlyToHelper","getCenterLonLat","cameraFlyTo","buildingLoadComplete","changeFocusFloor","pitchAngle","flyFocusTo","directionAngle","highlightBuildingById","selectNull","group","popDiv_","storeSelect","tiltTo","未找到scaleLevel为","的缩放级别","initDistance_","initScaleLevel","scaleLevelIn","scaleLevelOut","zoomIn_","zoomOut","zoomOut_","background","setModelSelectColor","_selectModelAlpha","queryBuildingTheme2","queryBuildingTheme","setThemeList","selectMatIndex","isSelectFlags","selectMat","slots","setSelectColor","LINE_MARKER","selectedLineColor","toggleTileBuildings","highLightArea","userTiles","cachedTiles","addToCache","unloadTile","unsetArea","change3dOpacity","userScene","selectModelNull","Model3DSelectColor","POLYGON_MARKER","isMergedWall","originEMS","naviMap","lastColor","isSelected","line","setRadius","_originalRadius","storeModelSelected","setBuildingTip","setTapTip","tapTip","spanId","defaultTemplate","getElementById","hideTip","originalOp","setCompassPointerUrl","compass","setPointer","setCompassBgUrl","setBg","restoreModelAlpha","_canPicked","pickFilterFunction","initScene","zonTempObj","getO3dScene","getTileFromCache","loadTile_","queryTileScene","__bo","getTileScene","queryNavs","failedTiles","needNewTileByRoutes","routeDataLoaded","worldScale","loadCompleted","setUserNavLangLib","langLib","applyToNavLib","setUserGenLangLib","applyToGeneralLib","getMapGenLangLib","generalLib","building do not exist","preCloseBuilding","shellId","entered","exit","buildingCache","loaded","break","closeAllBuildings","showRoomModel","oz_","faces","vertices","hideRoomModel","verticesNeedUpdate","isCoordInView","frustum","closeBuildingById","zoomLevelTo","selectLineNull","lastSelectLineStore","multipleSelect","originalMat","pickedObjects","propogation","seeThrough_","Unknown Object,skipping","faceIndex","bimInfoLib","bimLoader","getInfo","infoList","logModelInfo","diableClickEffect","bclick","clickOpenBuildings","isBim","%clogModelInfo:","color: #2BDE73;","storeSelectLine","_originalWidth","FLOOR","LABEL","worldCoord","hitCoord","raycaster","intersectObjects","plane_","mousePos","pickerNone_","mapClickNode","mouse","NONE","keepPress_","intersects","IMAGE_MARKER","TEXT_MARKER","stopAllAnimate","getUserScene","_insureUserCoordInbounds","coords","x or y contains NaN:","localCenter","__isChangeTheme","_stop_","panRange","PlaneBufferGeometry","$ESMapPlane","mapplane","_haveUpdate","routeLoaded","requisitesQueue","modelInited","tileUpdated","_checkTileModelInited","updateSize","updateText","tileShowLevel","privites","preLoadComplete","tileMapInited","queryTiles","checkTileView","maxZoomLevel","computeLocalScaleLevel","_sdu","WELL","ABC","_em","share","initTilesView","_cdu","unloadBuildingById","TILE","maximumTiles","computeCenters","checkBuildingHide","buildings","modelLoadings","tileDisabled","handling","cameraTop","getLocalCenter","autoOpenLevel","hold","clearTimeout","getScaleRate","scaleLevelChanged","updateCollide","forceUpdate","box3_","floorCenter_","minScaleLevel_","maxScaleLevel_","initTop_","ESViewMode","addLocationMarker","removeLocationMarker","getModelByName","getScreenCenter","coordScreenToMap","Raycaster","setFromCamera","intersectObject","coordScreenToScene","coordMapToScreen","project","w_2_","h_2_","getPopMarkerById","popGroup","clearPopMarkerById","forceLoadTiles","tileGrids","Tilelimit","queryTilesByNum","secondViews","forceLoadSecond","tileLoadComplete","onProgress","_rotateToID","targettocamera","FullScreen","available","fullScreen","activated","request","container_","canel","lineStyle","navigateStyle_","size","gap","minX_","minY_","getCurrentScaleLevel","setScaleLevelLimit","scaleLevelValue","viewCenter","watchingOpens","mapOriginCoord","toUpperCase","viewMode must be 2D or 3D","lastTiltAngle","updateProjectionMatrix","__lastPhi","themeName","themeName_","sceneId_","themeDataSrc","updateBuildingTheme","showScaler","shadowLight","castShadow","shadowAngleX","shadowAngleY","Name","tempFlipX_","maindeltaTime","MapControls","registerEvents","dumpScene","webgl2","Cache","registerMapControllerEvents","controls_","controlsReseted","pageVisibility","screenX","visibilityState","state","visibilitychange","visibilityChanged","controlstart","maintimer","stopRender","reRender","spriteBg_","spritePt_","updateDirection","_minResolution","WebGLRenderer","highp","sortObjects","setPixelRatio","shadowMap","innerHeight","vFOV","tan","cam2control","vFovHeight","rotationAutoUpdate","composer","OrthographicCamera","ambientLight","AmbientLight","mainLight","secondLight","initCss2dScene","onWindowResize","getZoomLevelByDistance","resolution2Level","distance2Resolution","LOG2E","calResolution","getWorldDirection","rendererCss2D","reSize","rendererCss","renderOrtho","level2Resolution","resolution","_maxResolution","<h5>您的浏览器目前不支持WebGL!<h5><h5>为更好的浏览，建议您下载 &nbsp;谷歌浏览器</h5>","isPicked","boxPickedObjects","ebp_","tapcount","debugPick","hoverList","hoverUserObject","isPc","touchstart","touchmove","BoxPicker","ESSelectBox","onmousedown","onmousemove","onmouseup","checkHover","hightLightObject","unhightLightObject","findAndDelete","lastHoverTarget","$originalEmissive","lineGroup","hovered","$originalColor","traverseTarget","#f49452","hoverBuildingModel","obb","hover","hoverObject","onLeave","isStaping","mousemoved_","getPick","startClientX","offsetX","traverseAncestors","clickCompass","compassRaycaster","compassClick","enableBoxPick","touches","endClientY","startClientY","endClientX","focusTileId","indx","centerTile","indy","mapBoxSelected","webkit","phantom","android [23]","chrome","PointerEvent","MSPointerEvent","pointerEnabled","transition","WebKitCSSMatrix","MozPerspective","ontouchstart","DocumentTouch","webgl","documentMode","safari","opera","devicePixelRatio","logicalXDPI","browserLanguage","language","escapeSpecialChars","stringWidth","stringLength","replaceVariable","getAlignPoint","getFont","measureText","_default_","font","textFont","textStyle","textWeight","textSize","px ","textWrapCharacter","text","_enabled","addHooks","removeHooks","dom","materialPt_","materialBg_","onload","compassBackgroundUrl","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCMjc1MTQ0M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEIyNzUxNDIzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEIyNzUxNDMzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Bj/RUAAATkElEQVR42pRbT2xex3Gf/fiJ/yKKlEhbov5YduvGdgoURe1DhSY9G+3Bl7aH/IFdo4kLBIiLJI2AXpL0UrR2CiSXQmgQJSjqQ3Qo2qBteisQ2G6BKocAjmPFbizHEmWLIk3RIinK30xmdmdmZ9/7KMkf8fje27dv3+7s7sxvfjubfvBvPwBKAAmI/+TMN/wjItDLnCoPk93zNSWCRPoMLK+/kEtL5b1jnPEUnx/h5w/zex/l1COcZZ6PuZyLYJMzbvDlFc5zgfP+jK9f5VJf5jyXktYnn5PViGtMep30ebJva53kGZUM3pxEEH9DAsylkjYME5kIytessZKCoY1UPkGcmFKyG3v+KB+fZCH8Aac/TF4RynkoCCrfJ5gTYfCD45zwmKVrYT/jq//g8wsIdF4yJxVwrUfJS9YIvbc6Nv9NalqHYS1A5UredyU9QSgIXKr1PlnDpTef4es/5cSPQeiFIsQUGlX7KEGT3Py0Dg/zWYT4Rb79Kaec5fMZvt/0V+q/0D9VzLX8IHj9+gBBe4XKWe6JyGVG/qwUKqMAqX6TUxaQ6Kuc500eDc9x1o8VIaNLPN8jad+g/4fQ5vJ5anox/8morH3IZdNzXNSbfP9VTl+wukH4lrchlkkUxo2NRIIB5AaVB6hCMIHEwmWogzZMC+CBQE/x+eec8DVEOOQfaRqdL0rZWKSHWK5xVA4pmxC98bXyWL6X82taqY1862vl2/QUl5hQOw+BfJTrXelYKVO+Ecvhi0GdS1Z5lX0jwXCNuWIPcoE/4sLO8rEkhZp0iWqD5Q8JvGEYe5yPG1s38mEVovweeuPzGWMdSBvgxxKfzvLxI37w666HYv5Oe6qAizCGRJ2J1/1RUP8l6x/z+dt8c6B5s1cMNY3tZ2PVv7mZr2ZnZ6tC2PPNoFL6Vf49Pn7MT/6Mj3PRGsUyZDykTqUH1JFWK73aq6Kr+fw8H9/n4wBBJ5/n3yO99wzg/fffz8cd37u740CuG4DUMXWf90dGOYZA0QZU5dT5TfIj0b6f7Ak29bt4jEIvtrpTuDTeMQeMswDjy7r9iIUv8TvL/I5Yo907VXeIjiayXhv3uUk+/pWPx3sVTKoTYexI7c2k9p5ga2urDE1ULBFAFZF1yZjSvJppbNOodNQhPp6IQhgnjDoCaGzVJc93uo3vZv/QvcQ/abw03K6zHgi4YW9R7vW8l/dxrftnbvdGHQFdhVd+f8PHp+486nr4Iuq0zk07/O16ZmZmXLY9vpb2+FDvW1L3S3yc3qsstwIZOTVTgP6Ix/jpfo0q7KwYvFMRClq3gZK1/Bs3blQB8PXS0qIOeYgOh/op4TsByHRhuYtFoZ9i2q9w3v/jl89VWJ9aHZCiH4C5Zb/GKd92zRlgZLnEgL0NsKTOlDBBYRlUuSWkgm4FsMXXeTZwud4JJlOx+wqj3UHTshzGk2lZqyYFc5oT/5HrcZ5v/r84UeQO4DADi1SkRgWzS47v8dW8VSYrx1w51Xnq2KSufVbpotYkFeOpTlSpqJQ54hzb29suALkmHBWvzfwEF0QBP+6daF2Ko4bVxIgE5X2k6MCaNp3nenyPE36fzK3EMtoGBkPRbTE+yfcfL4gLFfcX1IQRq1OBtKhQuiA4yorNkBYSVuSmcFbStre2XQGaFdja3nE8UASIjtYolG9p0OAWbPIY7DUorvX4OCc/RY4HSvl5BPhwI1jg09+1/lTHFbQp0czVOL2p43U1U9q1ft8q3IDp6ameIdhLz1fdNT4zxbpVbPq3XIV/4Vffs7QBWk8VqTzLArkHK+ZXJ4XqNVAYDYrNod6j4/gWt9sokVET57/9JK2+g+03Qhk9fwApjEAM76KmhzIJ7+HrZ33Uiy9QtF+Wzn6e/19IhE4plAlfFFCZz8khZRWuskUihFT4BASdpxCBkipRfh7nf6MHzON0pwWcpSKlpEjNT3LdlUJvp8bd9X7XeqljxG2Evxc+QYb8ENHHyJ9zjkN1SKXArtRh14CeVCEeNewMjXWOsqw5/87OzlgBjEYYTN0Yt4raM0Ur0DhRfe8pPJE2PsPn5yVxqCZMRPs5CPa8mKsKjCjqBVUYpJrezVKEo/5qavgZafxoNBoDlYtgpqemgxEtTFIKzaumPzWCjw6rI4Ae/tC6JHiGn35DbgoOIDrFN7/ROCVOJqJ/wGm91h4WXNBRgAZeSEcJ0giuXbsGG+9twF4u+FtvvQXz8/OwuLgEE4OBu68GqLJJdSlQoOZSwAOVAiOdmgV/qKkv/suDfHWKR9tLBQeIj9/1XJTHc4k6cUoNAVxJ1YD6GvBNsL6+Du+++y588MEHwTtMsG/fvmwCZUTYCJBjdXUVDh8+DAcPHgSqkKqn7aMwvP2V3dWGp9ayVGL3T/ibLw2xgInHtavqUHJXzyGZo7+CRYJuSO1sNbFJ2SuXV7IAssnhXj3EjTqwMM9DfQYGKkl5f5tN48bGdc67Brdu3YK33347W4ajR5e5ToNCqaWWtk+xcRGE2SShODKoQavS5pR1ANJxvnnY+pCC9gRHXZXWSnWA9Hxd6tjgy5cve+P3798Px44dg+FwH0CgR62w6enpfCwuHoJLly5lB2ltbS3X5+jRoz6tovNGHcPfVYI9pUgNyHiITyfEGfrdyMOaqcpNTVTNmgowTAql0ccwGPxbX1vPcz6r3UOHYHl5ucxjxKq1MDonRRATEwM4ceIErKysZAFIGVNTU1wGT4cwrFPDoZkW9BZAMIhhEaXqDXXgTrEZxN8ey8YnwwfQ8vuN+TMlV5WmICGZ0ytXVnLvSc/LfCanojtkPVGnJ0uBhw8fgd2bN2GTR8KVK1dg7sAcK8aJihF6/jfu2fe9xZGKJH9rwD3ySFaEaLTxCEZjMXiL9x35BcRmfsBVVmIyj+W3fGTZ8T42KE7yjhoUF6lrkf6R5fKulHX13dU+O4yG/UcBbUbUiH6mMaiSv/uITIGTpMs9iSrN1cgwBdbINWtfyiLUmzd3YI2HrTRYtPjEcKKsAzSjhcYDqTCEy3SYyGZRpsHa2jWYm5vj6TAJaZDG4P86betUT77AssfvpOCA5Tx8DGb6FEhhaUnnnWGArOEpN1YQ3M4Wn3e2swmLXt78gfnSU6nqlg7/3RCy0ECeorhFAFevXuVv3YQLF17LlkSU5cwMH9MzMDM7m3VEqquktTT7XjDn0C6gLYkOmIPQuz24qdc7XAFprB3dxvbIRP7oJPeWLXC44kxhEdUUSopLYuBr1ELQSOOc2tapZHR6/JZQavHIQqk2PV9jWHZTWe0XKDzXMCy5Z29mlzU2+I4LKF0qeXKyVJjMXmDD5HSX3mMfNFMOylTY3d297ffuJJRZHSmgI7vwAmmuOEOpIKekbm1BZlgUlx4fVgBSho+QFJ0zAzB1NAQWLAM4Ra8+h5uy7vKXe9zqnombkdPv1CFFN/k8VypSumZqeio7JfPzB32xJMPU7S0eGXc3KqTHnO8naOCs6YQyJlNQtKmjFwr6lLJu963Y29LTZQpMs75I1WxawzEGfsAmI0HcJAlOiH6/m3Xz+CCzNTM8hBYWDqrZ5amyU5Tglhw6ZWJFheycyXx/J3KD2mWM1CBQCISnuMlbjfdojbWGyiFKUeBytCpSBmpjk1FnyjkGjuL94YhohfMcjSExjqLUUzYy0t1j/cYkS3mSP77A5q66tNvwi1+8mXvtGiO5o1zB1CHsu8sPvmiZKDgy5Y1ralJFp9z/wAOs+afLFOogz7p8H2BxSlWvp04bykurAoQulvmFSiRiS3bqvVNPHb1g5Gcug++nRCDzC7nXxAPcvblbwRK2lFchY/WbUIGLlSdIUMqQssQcZs4QrF41XwVjem+oExWcAfp3UYWlwOyicIKvOqKzF3LmkSKuwAn21uc5bUQBNVK+X1xazENV3N+LF9/MCkjSMSO/Us7IGjtSwXIjR1KOBkzIO/KulCFlLS0u5fqNsHJ/GOthHaV1HoW6RxRalKF3xKuyPP4Tb7iFmDjZiF4ghrPR3YhB6qFHxaFZZg9O0sUbFKIjC8EgKEbIq+VZz2QLQvzOL/nd93IZ4hJPDAe1F53IRR8J5BrfRmMZCaVuoMLAQvbmUZLz/WTIPfNydek6oQkYfH1fRCXX2NQLjKtLU4vsAUoAxDX2C955551sRU6ePJlJkEhcdS3ErQ92uecvwsbGRi51cXGRPcFFh9MBkzdcY5eRpw5fHheAQ6DY/wgU/iWnvMbj7CGIjIotQYUwtNTxvVPE3QHjkCrO+44fz0N69dpqHgnXr1+He5aW4CD7/LMzH2kWv2+wFVlbX4PVq6uu9aXx97FrXFzoAGRTYRMy4ZGCi9tA4MobOiuZmuX2CwnTW0qKwg+5JQ/1V57pdvRCu+ZP0HF1y+++k/fB7EdmM8MjXt1l9vPlEEwvo0GmhaRHMzgcDuE4C2+JhVXjjmgMr9HS86T+O411hHuBGP9JBQjll87x+88SmJmoPJdzfU4sVo7eHI+UbCG0jpTYW8LyLLAWF40uptGY4S47XBihRbj33nsz/M09n2qcYYrMrq9HgENtc+CcAIXqa3i9bF0B4FyJD8DsGLzE77/Ow+nBilCDnya0GLasX/EgjdIK/GGuCFT+0Lg87vHDR47AARbEK6+8MhbR3X//AxngJFVeHlaji58tx4PNqgV1o0ahAiLAGiKr64nc1vSSCGmoml+Sz/D/5yIeqYzreO6/tyBBFOjoqkFtjT/jhKkp9+rir7i5U2p+U89/6HJ9qRuTHNYtE3SCPiA1Cp1TzkgUFZYRgKY+zrCk/4ofHnTiA6vDlgg6DaeOU5faFalUR1EK8cGitGSod9cHJY0MfaqCc//AqXmtaYKKTktUIjQRxL34IooIe52vzpCyP0PyENLEThF+U6I+e8tjYQkqjWHkxvdSVI6pIeQFv1uMoP1yiAxioEdIBddRZA1XWUcDNgHSNDa8Sn2Rb3HBmzYthmZilJT4Jnfk5znhnvGBioUh7i7f1VWXMaYyLrGr2ZyVxnYENjszC0gUBKwhO2ncEmMM544hL3SbuKX87yr/+5ZCmVz20HCzDrT3+PI0V+47JpQm/ohU+TiTU2OLCDq9RZXpSTHWAMSbm+0JQCiugt6Sx/igj4KwaEP1uxCDut0atXHjiRrYdZrv14wDlc8MSAlQg4sMK7/L6S9ChLvBiXHWFQx6gq/FV3gMGuGhON1cy+xzIUzPFLrKfAq5FifKWWGPMYhlWKQ6tbjfYhIgOEWogdotZH6R6/dd1LLs/WF1I8MWBKIn+fp8ktia3kRIzZJ0/ynUcHvqAhBq5rwpQrkuMqI6z2mcLqE9eP7OuqEh1Pq5Da7XkxTX1TVvP1i6lPUGv/BZPn/ftW3cfZC6Tn1kdDsmdI/IP7H3JgC59pCXEA5Xl75bNreuUneneFjRaxvFbUlv9OJ1Ug6RoYY7KyMin8/J5oQSkBQWLQBrMBN1Q1W0DPO/LdS9WQwp19brbgHUU3Qa3nZmWKQIwZ2DspEqF1Dr/DyfzlUvVM9a/6Ht5Ehh2FQDgqczW5TSp5IrKGi8Mgoh7mUd0Xwp9GUuY2JCOF/m9FsTqK5xhNhQ9xilGOqSKh70dYBUPVbSD3HqP7NAvpLCXick8gDPjANiEEII/zQqTEp8mjMvcsLjBMEr0zGYQgV8ATLFzQnBtVCFJZeTjPoE/UlFJoX7B2wWMAt4s6ajeuEah6Sd1tpcTUO1BkQ/REpPlwKxQmqqgErSB+XFsJXEFFGNudvluyf4+gWP4rPdHDodsl5FbFkj3y1CDYNj21eSor88FYxNAtPeRphAiE2ESmeZcHuEjDNTL/D1E5ywC7Yw01iYSsx4kFT1mUk/EBcQJOScPs3nFe7JL1lvxICLqksxIDLsBDZT4f1VCU2z7XfSMg86dD/AoTbV6C8nOtWM9YOjMwL8Br/yl7Jnoi6IYd2r5qG7paxsBlPTkKRmKMw90LhlSl/mq//ldIkjPuBNJuoHIoFpbzJdVoOrsyBIA6LqpgOKC6eUgo6p0QvZMdXQXne8SmOu8/+8ZcYaSimEy0DHPJZoC5kCtg2OfIjZEhnZ5iedGoUPZD8a6VHO9SI1GhrrBiXdKRaDG6EJrCy4aHq6cPql7Br2hmgbnSrHhxpJErf1oQZb8N+LnPY7IJYLwxY9MucqLN9rKC6qtRpQ2C2W6em8o436zAuYacqQ8XV+7xN8+TSbvtXa7MjSajlEvoENw7Y6OctS99TUvqKAA4okMJI2TK1AbFqcsvD6LLynOekTfH4DjdCFsEfI4pxDGrg5h7JtDiniavSGdLefxY2pmuFsDq9D+jonrtkHzM76tjWEpjwLZOhHidQgZxM8Omtc0SV/j/E8/TXKtwHP5lKJoN23WPc9YrASXpaO8onHHnvsDquMd9wPI2Gf/83HP3BWcTROVG/yrsu429+rGswt22D+S7/94TdahQxDWzOzLu7G+rWx+1U5Wcha2NW9yZfP5xBUSI/yk8/wkz/k+we97MDytFsRO/uQ23jQ1znl3/ninzjhfEVTnTJTDO6kdm9z4GwgjOa8aYoqDdNwbJXoDP45prqTPAY3UbOiKM/Py05vTvkLTj/Giaf42W/yKw/x449yRY7wFJBV1lnOe0u2EHL6On9znc8XWFu/xuW/wj7By/zsEvkGjO4O8OoQxH0M7j5TCkE3VHkjC5jg618JMAD1kaihzbRwnwAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA9RWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTA0LTEzVDE3OjUxOjE3KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDQtMTNUMTg6MjY6NTkrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjE3YzU2N2NiLWM4YzMtNTM0My05OTQ0LTVmMGVkY2NmMzI4ZTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwNTNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNjU5NDIwMjNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwMzNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjM2NTk0MjA1M0YwMDExRTg4RDQ3RTA0NkZDN0M4NzgzPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiZGY3MGExNy1hNWVkLWVmNDEtYmY3MS0yYzc5OTFmNmE3MDQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDQtMTNUMTc6NTM6MTgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MTdjNTY3Y2ItYzhjMy01MzQzLTk5NDQtNWYwZWRjY2YzMjhlPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4KICAgICAgICAgICAgPHJkZjpCYWc+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0MTNiNGUwNS04ZDAyLThiNGEtYWE4Zi1hYWVhMTJjOWI1MzE8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3PC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0QzQ2QTgyQTNDQjMxMUU4OEQ1NDgwMUYxQUY4RkNDNzwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpPnhtcC5kaWQ6OTQyMUI4QjMzQ0IzMTFFODkzRjZGRjlGM0U3ODBDM0M8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOkMwMEIwRTdDM0NCMzExRTg5QTVFQUM0Njc0OUYzMkMwPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkJhZz4KICAgICAgICAgPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+WZs/LgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAEvklEQVR42uSbzWsbRxjGn9ldaWVbyKsqq9YfmEaOVFNyyakXmxwLRddCIaeAwX+SS0tL/wcdSiklPtnQs/thR05aE7cJsuMPrWNJq5m3B72rDpGcW2fL7IKRpRlrPb993nned3ZWEBGyfHj/5ZcLIfS3DgCdNgFAdDOY+Lu5Qs4OAG8N3uVXCUABoFarZbcCEiHw4HMA8gBiAANWAGUBgH6uOb76V6yEMre9TguAY+g8xAqY5UEXWRV1APfSVIBjaPDEAy4CqAAoAcgrpeoMIRMhQAB8HnwPwLkQos4hYT0A0ibDGQ6DMyLKDADdCgv8e4mIGuwK1gNwNQB5VkHgOM5qlhQgOBQ8AHO1Wm1FCBFw23tpWaHpSdBjBcyura1VtLZ7xZn8z+OOBusTxyCAROo+gJnFxcWVpCGO449YIdYmQpIH6PCrF4bh0rhRykZaabHJTFBqV1lUKpVw/E84Tt12BQjtXC4AUS6X72gAVm2vBfSqkACI+fn58tgjXTc1ACZdwOUJMFetVgu+7xe0hZNy+/mfFQCnNidCM2yBfqPRCN/uUJwrNmwHMMvrAd7KykppSp/GB9XKrq15QB7/rgi5CwsL5WkA0nACx7ACCgDcarUaTHTwvFQWRhxD58jxTwGAU6lUJgGMnMBaBeR58B4ANwiCCQCe59UM27KxSdDVLNAJw3BGt0AtGQq+/+HHOwBe2gjA1yywfFvHu7XVxlq99tImF0iyvwJDEMvLy8GtV8NzjVeFjiGVeQwhv7S0dCsA3/frNgJIQsAFIMIwLEkpsbOzg+3tbTz64nN8/dWXGA6HcB3XuBWaCIHkPB4AGYZhaW9vD1EUYWtrC5ubm/j911/w3bffIJfP32VQVilA8FqABCCCIAj29/fRbDZRKpVQLBbRbDbx5MlP8H3/Q9sUQBjdCE2Ww9z48WOBKJrs2e3i5rNPAcOrxCYAxADeJAq4ILr8uNNBq9VCFEWIogitVgsbSmFI9Mw0ABN5gALQZwh0qtTVJycn1d3dXWwfHCDneVhXCo9GAI5szAQVq+AaQK9DdHmfCBvHx9g4Psb6gwfjjj2iNgwvjpq6O9znuSD+S6mLd/Q9fL6+DhsBSA6B/sm7ARzYGAIEYMhh0G9LeX5bx2spn9paDscY7QkYdJSKekT9KRPFBVJYEzQVAgrADUOgC6LLCQBE7Uouh0ouZ6UCJE+EEYDBqVJXUxRwpGD+XrlnEECPIfQ7UxRARMbj3yQA4hDo3maFjhCHaQAwFQKKneANgN6L6VZ4aLMCFCdCPQA3R1JO7AZ5HcfjNHjBQgD6PBB3lIr6RD1fiALHx/n9vb0zPV5sCwFdBX0A8oLoXLPAp0hpg4RnGECyUWp4SXT6PqtdCNF+9fBhGuM3fiNimCRG50SvtM9TsUDTCtDrgsGpUidaDtDOAoAk0ZMABn8r9UfS4KaUA6ShAMkT4fVvUr7QPs+EApKiqA/g6pmUJzSqABVSfGAiLQV0AXTV6MoPkeJheq+w4mSoy5Vhm6FkBgBxPRBj9NzQYZYAJBYYMYxrMfJ/ygoA8JXv8qD7NAoBlSUFJPcHFIB4kGINkCYApVniGVI+0kiFJf4HT4yOZ+asPz3uIOPHPwMAX8PDjLFTmrgAAAAASUVORK5CYII=","lw_","lh_","autonavi","255,255,255","image/light2.png","minZoom","maxZoom","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotateSpeed","mouseButtons","MOUSE","LEFT","MIDDLE","RIGHT","position0","saveState","target0","setFromUnitVectors","setFromVector3","autoRotate","forceTheta","forcePhi","makeSafe","applyQuaternion","distanceToSquared","wheel","touchend","Spherical","zoomSpeed","setFromMatrixColumn","WARNING: MapControls.js encountered an unknown camera type - pan disabled.","WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled.","enableIncline","deltaY","BOTTOM","ROTATE","ROTATE_UP","ROTATE_LEFT","PAN","DOLLY","enableKeys","DOLLY_ROTATE","EventDispatcher","THREE.MapControls: .center has been renamed to .target","THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead.","THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead.","THREE.MapControls: .noPan has been deprecated. Use .enablePan instead.","THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead.","THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead.","THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.","loader","modelLoader","toLoadedCount","autoLoad","mapModelsCount","mergeQueueWaiting","mapModelLoadStatus","userMergeQueue","lasViewCenter","hiddenFactor","mergeModels","mapDispose","modelTypesCount","checkMergeQueByShowLevel","setFrustum","inited","setFromMatrix","addMapModel","__singlemesh","__nomerge","rankRequisites","checkO1","ES3DMARKERNUM_ERR","layerid","rankSingModel","applyRequisitToMap","startLoadModelsByShowLevel","iswall","disableIndoorClick","modelinfo","focusAlphaMode","focusAlpha","setFloorAlpha","toLoaded","modelLoadComplete","concurrencyLimit","loadExist","invisibleMergeModels","marker3d","disposeInvisible","applyMergeToMap","addUserModel","loadUserMergeModel","startLoadModelsByFLoor","userModelLoadStatus","modelrank","keepalive","sizeInfo","ind","rankAllModels","applyToMap","floorObj","__ignore_box","_ef_$fl-id-","floorLabel","_ef_$fl-group","marker","gid","lod.gltf","find","自定义动画 "," 不存在","setAlpha2","wallmodel_prefetch","model3DsRGBCity","isMaterial","LinearEncoding","needDepth","modelPrefetched","setMatAlpha","computeBoundingSphere","updatechange_","__bindchange","controlchange_","updateLineTextureOffset","fetchTexture","__bindupdate","transparentObj","view","moveSpeed","radiusFactor","_cameraSphericalRadius","NORTH","SOUTH","WAST","EAST","NORTH_WEST","SOUTH_EAST","SOUTH_WEST","moveToAnimate","flyToAnimate","cameraPosition","toggleControlsLock","checkScaleLevel","isFlying","ray","ignoredUuids","meshList","ignoreTarget","BuildingService","TileService","ResourcePool","modelLoadingList","filterSingleMesh","ModelLod","addToSingleMeshData","rotate","singleMesheDatas","2001","themeLoaded","setBuildingThemeData","_convertIndoorFullData","focusFnum_","focusFloor","asyncLoadFloors","singleMeshData","ESMapLogo","useCache","startTime","IDBTryInit","ESCACHE","setCacheObject","transaction","cacheObjects","readwrite","objectStore","save cacheObjects error","getCacheObject","onsuccess","result","canUseCache","updatetime","clearAll","indexedDB","deleteDatabase","Error deleting database ESBIM","upsert","put","getOrCreateCacheMap","cacheMaps","expiresIn","objectStoreNames","createObjectStore","openCursor","upserttime","errorCode","IDBInit Error","modelImageTexturePool","roomTexturePool","imgs","loadRecords","failed","capabilities","drawImage","image/png","syncGetTextureByUrl","map_","getMaxAnisotropy","dropList","areas","LOD","counters","failedNavs","navLoaded","buildingIDs","tileUrl","_ul","buildingLoadingCount","getBuildingColorStaged","convertGeo2Geometry_","addBuildingColorStaged","drawExtent","#FF0000","mypoly","addMarker","debugTileBounds","DOTTED","-BOUNDS","modelWorker","loader_","INVALID_TYPE","INVALID_OFFLICENSE","service","throw","_mo","ESRemark","TjEySDU2TS4xSDk4","TjsySDY5SDUxTi4yTTk=","TOKEN_MISS","TOKEN_ERR","ESTileurl"," map uses the WGS84 coordinate system. ","color: #3399FF;","userCenter","showTapTip","ESPopMarker","ESTapTip","#52564b","4px 11px","borderRadius","4px","12px","es-control-popmarker-top","auto","solid dashed dashed","9px","hexToRgb","userSelect","propogationIndex","remoteNotify","setBidList","effectId","roadGrids","decodeByte","ESTileMapNavSet","transformTileNavdata","tileRouteDataLoaded","tilePreLoad","X2BBXGk=","ESTileMapSet","cname","convertTileData","queryTileTheme","setMapTheme","主题文件请求错误","tileSize","isValidTile","showBounds","getContainerExtent","getTileNumbers","ESTileToken","__trl","tileType","buildingScale","vBoundary","tileStyles","counter","filltype","topTextureType","sideTextureType","scaleheight","bidox","bidoz","Fnum","GID","Did","RModel","versionCheck","maxV","minV","transformNavData","getQueryUrl","&v=","getTileThemeUrl","/boundary.json","grids1","grids2","citycode","tileMapView","tileLayer","frozen","三维场景","未绑定","buildingFoucsMode","isFirstLoading","_mats","dataCenter","shellMap","buildingHighLighted","BUILDING","udoffset","yoffset","undergroundOffset","originHeight_","buildingReady","loadedList","planishTilesAround","scaleZ","tilePlanished","toggleTilesLayer","_o1","您的浏览器目前不支持WebGL!<h5><h5>为更好的浏览，建议您下载 &nbsp;谷歌浏览器","版本错误","三维场景${1} 未曾购买当前域名:${2}，请联系易景商务或者易景官网购买！#${3}","三维场景 ${1} 已过期，请重新下载最新的数据或者联系ESMap商务! #${2}","三维场景 ${1} Liscense 文件错误, 或者三维场景类型 mode 是否配置错误。请检查参数或者联系ESMap商务! #${2}","三维场景 ${1} 请求失败，请检查三维场景资源是否存在 或者三维场景类型 mode 是否配置错误! #${2}","三维场景 ${1} 解析失败，请检查三维场景资源请求响应结果! 路径: ${2}, #${3}","三维场景 ${1} 楼层数据为空，请检查三维场景数据是否有误! #${2}","三维场景 ${1} 的 ${2} 域名已过期，请联系易景商务或者易景官网购买! #${3}","cname: string expected","x: number expected","z: number expected","minY: number expected","maxX: number expected","Rooms: integer key{k:int32} expected","Labels: object expected","Labels.",".ESTileMap.ESTileMapSet.Rooms: object expected",".ESTileMap.ESTileMapSet.Labels: object expected","PID","bidoy","bidor","bidstyle","bidrids","layer","bidpids","NE: string expected","MC: integer expected","RL: string expected","Fnum: integer expected","FH: number expected","SL: integer expected","CenX: number expected","PID: integer expected","GID: integer expected","bidor: number expected","bidpids: string expected","Did: string expected","NA: string expected","h: number expected","ipos: integer expected","layer: integer expected","Sid: integer expected","Lines: integer key{k:int32} expected",".ESTileMap.ESTileMapNavSet.Nodes: object expected",".ESTileMap.ESTileMapNavSet.Lines: object expected","H: number expected","gid: integer expected","outline: string expected","rank: integer expected","dis: number expected","dir: string expected","style: integer expected","buildingOffsets","mapOptions","buildingFilters","include","addFilter","queryFloor","_convertFloorFromSourceData","_scaleLevels","_convertToSceneFloor","checkBuildingFilter","convertIndoorGeo2Geometry_","Circle","isTube","RColor","originalHoles","TextureType","Typeid","FsId","getLangItemFromJson","RoomLogoSize","RoomLogo","imagelogo","texturekey","包含singleMesh，但是quality没有设置为low","convertShowLevel","/imagelabel/","imagealign","_box3","calcSceneBox3","_initDistance","the visibleFloors","ARRAY_REQUIRED"," or string ","'all'","defaultFloornum","MODE_2D","VIEW_MODE2D_ALLFNUM","visibleFloors","visibleFloorNums_","mapFloorSpan","HeightSpan","theme","jsonLib","authenticate","_authBuilding","_authCity","VERS_ERR"," : ","EXPIRED","decrypt","editor","mapshow","domainWhiteList","navBrand","queryData","QRSTUVWXYZabcdef","ABCDEFGHIJKLMNOP","TjEySDU2TS4xSDU1TQ==","TjEySDU2TS4xSDUyTw==","X3t3SGlzWmVwSGdO","navLib","ESMAP()*&<GoodWork","stringtoChar","导航结束","即将到达目的地","右后转","左前方直行","右前方直行","到达目的地","左转后右转","已重新规划路线","步行导航开始","进入室内","进入室外","车形导航开始","目的地在道路左侧","目的地在道路右侧","keyBytes","queryJsonData",".ESLang.json","getDesFromNavLib","getDesFromGeneralLib","caches","waitings","distanceToPoint","targetLod","applyLod","replaceAll","sound","audioGroupMapData","canInterrupt","isLoaded","playIndex","playLength","spriteArray","endHandler","loadFile","loadSoundArrayBuffer","dataBytes","configStrLength","ab2str","decodeUnicode",".mp3","sprite","extentIndex","Howl","loaderror","audio load error","destroy","playSoundByName","startNaving","playAudioByText","startCarNaving","_testEachKey","absoulte","margin","distory","unload","playSprites","isPlaying","getExtentUint8Array","num2text","audioGroupSound","100","10px","rate","and","composerOrtho","originSize","addPass","fxaaPass","composerUpdate","materialList","defaultTheme_","floorColor_","model3DsRGB","selectedColor_","polygonSelectColor_","12.0","fontStyleThemeDic","0,0,0","tileTextures","bindedLineMatUpdate","model3DSelectedColor_","lineTexture","userBgImg","maptheme","MeshLambertMaterial","defaultMaterial","createMaterial_","MapTextureList","material_list","defaultLightConfig","#777777","#888888","#000000","removeLight"," not exist","createLight","setLightProperties","initPoiMateriaByData","existflooridmap","topimage","sideimage","主题文件错误,贴图样式","/building/","topimagerepeat","/upload/building/","topimagetype","sideimagetype","roomTex","topTexMat","initPoiStylesByData","fontsize","strokewidth","basic","borderwidth","bordercolor","sideimagerepeat","tileTexturesReady","texSide","texTop","matIndex","roomTexture","prodMatIdx","initRoadStylesByData","/upload/","linetype","layerstyle","modelLines","initTileStylesByData","Poi","mapstyle","clearcolor","themeList","roomStyle","setLights","roomstyle","color_","floorstyle","floorStyleBase","baseheight",".png","fontStyle","fontstyle","fixAlpha","\n                #include <uv_pars_vertex>\n\n                attribute float isHideFlags;\n\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity; \n                varying float hideFlag;\n                ","getModelTheme","getFontTheme","getModelMaterial","/EsmapTileOffData/","/buildingImagelabel/","NearestFilter","poiStyle","material_","strokeColor_","floorOpacity_","style_","ELEMENT","RandomNum","topIndex","ImageLoader","./assets/1.0.png","./assets/100001B.png ","dataA","getRandomMat","rects_","collision_","width_","height_","flashDelayId","flashId","flashId1","flashId2","alwaysShow","isOver","animateEnd","startDistance","rotateY","_stop","updateScreenSize","enabledUpdateSize","originPosition","showLevel_","_lastScale","getPerspectiveScale","spritify_","firstGet","meterperpixel","notAddImageHeight","Model3D","UserPOI","UserLabel","unspritify_","makeTextSprite_","toRgba","imageheight","imagewidth","isMarker","isTile","fontface","scaleRatio_","rgba(0,0,0,1)","borderThickness","borderColor","rgba(150,150,150,1)","lineheight","imagespace","fontspace","originPivot","iconPivot","icon","pivottype","pivot","createdCallback","isCallbackExeced","shadow","shadowoffset","shadowOffsetX","shadowcolor","shadowblur","imageSmoothingEnabled","roundRect","letterSpacingText","external","message","fillcolor","strokecolor","3,3","setname","setfontsize","setfontstrokecolor","_initY","alias","_rotateID","fade","_isFading","out","_fadeID","fade3dOut","pivot_","pivotOffset","YXZ","meterperpixel_","vertex","spritify","NEAR","letterSpacing","strokeText","fillText","textAlign","save","clip","restore","glowMat","noramlMat","genTexture","stopFloat","_floatTween","_originalHeight","floating","toggleGlow","glowColor","glowMode","canvasSize","size_","clip_","initActiveEffect","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ0MzA5RjcwODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ0MzA5RjcxODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDQzMDlGNkU4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDQzMDlGNkY4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ueb6GAAAH1ElEQVR42uRbaXMTRxCdWa0uW74AgcEOFEkIX/L/f0uSAnKAAUcotgyypNWxmUm9xk/tWWl1IK8qquqSLGulfa9f9/T0zNg0Tc0GHzbn5zZ2U/EGgFr62+YgISUCUkVGWnQCbABwRO9F6jNWARWbBN7TVigCrALJVlIWKSLkMVE2VjYhYiYZCtk4AdqzAjCGlWH8WhNhCJQHOoIN6XlI74fISDdNgPZ4SYGsOKs6q8HkdQVWJhKEgDGAJrC+swE9i2lCzCqhES8Jnj1eImAeaB3WcLbjbM/ZLv6W/1Xx2yWSvwDrwbrOvsC6sGv8r09EiSpSFR7fhICICIjJ2zWAbQDwIezI2T1nB7AGyKiSCpiAAQB60FfOOs7+cXYB6+D9zyCjT6oYEfjJugnQCS4OAD8A2AfOHjp7hNcPQMY+PlvB9aEcMIJXewDpAbedtZydO/sbf3u7VEQkIMIsQkK8BHiRex3e9sDuO2s6ewI7dfYY7x+AqHJG9g/VACnIGMDjXgUfnb1z9t7ZGZHRISIsiDB5R4l4gZgvAYR4fR8SfwjA3zl7htfHAC6xHqoPZlWAKeWWHSjrEUg9g6regpBzlVQt5Ya5o0ScI+bFBPwuwD0AUA/6e2fP8fo+1FHKKHryVILsPQm5GqntCLYTINmokcUuSwBLv0LgjyD3U4D+ydmPzk5wg7EqdhaZA5jANUKEBbFl5JxDGmFqalSR65J5OSGeI3tOeCL7JsC+cPYSzye4kUglN2tWf7CCxJOegKdUU8QKaKqKpTRLCfGcHw2BPwXon+H9J5BhlCPJrWOCFUPaNRAvSVl+d0zy1wXSOA8BloqcspL+MWT/EuAfA3yJVLOJ6TTnlyaehwA4wHNCpfWE8skkDwGRysIHyMJPAZw9X1Lxvqm+gpBdAQkvAPaaSuihmj/cCoV4Dvga4u0+5PYDEt5dgg+REGM4Tqgm6KoCSUiYS4ClMle838Q4/1wlPHtH4EMkVBGSUkJfgAyZO/CcIRgCOvbr5P0nGOOfIRnqbG8KQEIJ93wK8FIlyiRKJltTKogyhj5JfntEwClex3co+zwkHOJeT1Cs7YOYSihko8BYy0PfIZW6x/iiqIAEGFW0Nemej2gGGuvQ1QqQxkaVhj6pwQ8KCjxUMO0C/DHmEQ2akJWyCDAk/yopQKa01QJ7X6ugDOBNhG2IgGAIcALco/n9Pk04ivzg+UsD935vVh6IlPdLpACZ9R3iYluAYW9RFcj9awV8dXxIATEVQIfK+0UHr/NZg1pxdZo4fa0foozurowCu5T5twm8WC3Qh5yqX6JA7MRq/l9dcl5fBCKkmq1TL5KToI1mtL4qM7ot2wBeZo1V1YWeWQdoEsqqy2K2jISI4j7WNcAsAnhNz24pAamZXrwJLsxG5n/+iGZ0YydmxYXHgqhA9wan8GoF8LL0iKaP20xAaGU5DSmA1+Z5lXZk1rwpYUPADfUGE+oNTqkhCshe1uf6aCQkKjy2zfuy2jxQJPz3mSgQ80KA9NV6W6YAboV70F+oUcq9wWASlNjvA3wHXzDaQhImCkOfCMgMAdmlIcz5iy/x97YQkJL8O0RAz0zvI0glBJgxIaCPi/5Bc/FKM1dw8BPIvg0MV/MUYChrigK8fHx3tYUvSbakLpA85pX7CSRICCQqCd7KAXIxE+A3IvjNCZ/NGnZlbSDuU3j/HPfdViEwzjMMDvAlHXyRbEQYFJgE3lnSxj1/hBO/0DCYGQI6EfYQO/7L3sMuVBIpmvfHUKpso2kBQ8/cLJZmLo5qAvr4sra52ZZyhA5LA+SlBZgtcg0zAPg/oIBPRMAwlMjjGTJKKAx8HngLAnyf8CkBv+t2WUrlu/f4787+Ivl3VRGUiwBWwRXaY+/QIttDh+WkACTw9lo/Ur1x9goEtOC8TO9nESAxMqRkeGlutrzuULeoidbZpknQSdvf32tnv0EBH8j7fZrVziVAf7kuimTRVHqGskMj3iAJHPNjgPee/xXeP1Oxz8nv1tQ+nvMjMiRG1B7jHqH0DB5BHan5dvsG9KRtCKe8BvhfkPzOQUo3MPSZRQgIkaAJ4B3exwgP3i+0DiLSQL9igBh/A9m/IvBZiW+hbXJGXZCY24cbxjRS+OHSb5Y8xShRzlDDomeG9AmSEX7rDIBfIebPCPxnkv7cmiXOKTsBGxouuWq8xOjQxIhRyVCDzQmcVdhDbMs4/yeG5g94/5L6F7qTtRIBsqVkpG6Kh0qZN7RxQ7I5Qdbm9aKkkJDOIECAdwHuIzx9BuDnCIMLJDyRfaj9ZZYlQN/UmFpkHAZSNcrc4T0IkPX5rBVaO6cfIaV4iyY3LXhczg90qeU1NDk3SS9CgFaCrr15j38XmbkFT90jAmSVVjY4hw5MSE6R2qNDPYk2vScev1ZeH2eN91kPu8TBST41wqvJci6obm6OyHjbp9ey2swrtcbcPixxbW6Oy1yZ6aMz1+TxhFreE7PE2SG75MlRGyAi68BUnZ6r5mZvrz40NSIVyE7PnnoW0EMa4sarTNHtikdnQ0SETpCVzfQROr3uqENqqCyh98cK+EqHKe0azg7rBUdeXI0U4NBCpQkUOrw6lXV4ci2nSO0aD0/bOYTMOjrLhVfoUGQaSG5rufF1nh3mG2MyJgFiNGkhUKHjsYU/PG1mAFr0zNA3Aawf/wowALH/m2fIXechAAAAAElFTkSuQmCC","activeSprite_","updateHandler","setUrl","strokeWidth","strokeColor","fixedAngle","initArrow","createArrow","arrowSize","arrowOffset","Group","arrowGroup","FetchImgByUrl","#FFF","CanvasTexture","PlaneGeometry","rotateZ","mapSceneData","mapId_","o3dScene_","asyncWaitTime","initBase","tiles","centerX","centerY","disableViewCenter","meta_","checkIfNeedLoad","maxY_","calcInitCamera","getBuildingScene","collideLabel_","project_","loadTiles","tileMode","floorEdge","showBase","tileStylesMap","handleFloors","floorBaseLayers","addTask","model3Ds","workers","workerStatus","tsTank","postCount","receiveCount","hardwareConcurrency","createWorker","bimMerged","onMessage","layerType","loadFloors","loadRooms","checkTstank","checkWorker","postMessage","modelLayers","closeAll","toHandle","_loadcount","_lodRecords","model3data","model3DData","lineTheme","lineIndex","drawOutline","lastGeoCount","usedRoomStyles","Fnums","groupIndex","buildingsHeight","buildingsColorAttr","highLightColorAttr","uvs","rUvs","rUv","randomFactor","buildingsColor","appendAttribute","sideTexIndex","loadModelandImage","loadModel","viewRank","viewrank","rmodellayer","roomdata","ESWall","MODEL_LINE","startIndex","groupInfo","POSITIVE_INFINITY","NEGATIVE_INFINITY","lerp","mouseSelected_","selected_","setDefaultTheme_","setSelectedTheme_","selectedMaterial_","setGeoPoint","enableMapPan_","enableMapRotate_","enableMapPinch_","enableMapSingleTap_","enableCompassTap_","enableMapRotate","enableGestureRotate","enableMapIncline","enableMapIncline_","enableMapZoom","enableMapSingleTap","mapPicker_","o3d","ESNode","forceVisible_","coord_","localToWorld","createMarker_","../image/user.png","name_","id_","up_","glow_","glowColor_","#F3F3F3","ESMapPoi3","canvasSize_","onLevel","viewRadius","setColor","setSizeAnimId","url_","arrow_","arrowSize_","arrowColor_","arrowColor","#50C1E9","fixedAngle_","arrowOffset_","_visibleFloorNumsChanged","hideBound","showBound","initRadius","FULL","_update_","#1ee3cf","rectangle","thickness","setImage","createBox","show","imageRepeat","_processUvs","processsedUv","faceVertexUvs","多边形生成错误，请检查数据","uvsNeedUpdate","groupsNeedUpdate","initHeatMap","randomHeatPoints","randomPoints","clearHeatPoints","addPoints","addHeatPoint","_dispose_","pickable","removeModels","setLineWidth","_createPoints","_normalizePoints","rotateX","_createLine","ShapeGeometry","contain","rgb(0,255,255)","getTexture","createLinearGradient","MODEL_IMAGE","XZY","params","imageSize","shadowOffset","0,0,0,1","glowOpacity","cancelActiveEffect","hooks","模拟文本","marker_","scale_","text_","angle_","pickPriority","removeLayer","removeLayersByTypes","removeLayersByNames","applyHeatMap","removeHeatMap","floorAlias","floorDesc","floorHeight","floorName","Only ESLayer acceptable!","webViewMarker","WEBVIEW_MARKER","BOARD_MARKER","getFirstLayer","traverse_","FLOOR_BASE","requireCollide_","CARD_MARKER","disableColide","checkType","AUTHO_REQUIRED","loadManger","请添加图层对应的marker!","_init_","loadMergeModels","load3dmarker","clickable","checkViewRadius","loadqueue","Map_CONTROL_NORMAL","allLayer","imgURL","image/wedgets/","expandSpan","timer2","taped","isTapping","tapCount","triggerSkip","#252c41","#1F6ED4","showBtnCount","expanded","disposed","showshowBtnCount","scrollMode","unset"," .floor-scroller.smooth{\n                        -webkit-transition: -webkit-transform .5s ease;\n                        transition: -webkit-transform .5s ease;\n                        transition: transform .5s ease;\n                        transition: transform .5s ease,-webkit-transform .5s ease;\n                    }\n                    ","  \n                    ."," .layersToggle , ."," .viewModeToggle , ."," .controlWrapper{\n                        background-color: ",";\n                        border-radius:","px;\n                        box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n                    }\n                    ","textColor","\n                     ."," .floor-item .floor-item-devide{\n                        color:","toggleColor"," .layer , ."," .layers, ."," .view2d, ."," .view3d, "," .exit{\n                        fill: ",";\n                    }","focusBgColor","focusTextColor"," .floor-item.active .floor-item-devide{\n                        background-color: ",";\n                        color:",";\n                    }\n                    ","marginBottom"," .viewModeToggle{\n                        margin-bottom:","px;\n                    }\n                    ","\n                    ."," .floor-item-devide{\n                        font-size: "," .arrows {\n                        fill:","styleHash","getStyle","styleSheet","deleteRule","insertRule","updateBtnCount","$scroller","buttonSize","$box","createExpandBtn","8px","pointer","layersToggle","flexDirection","view2d","inline-block","iconExpand","iconShrink","view3d","toggleExpanded","$expandToggle","updateFloorSpan","expandIcon","shrinkIcon",'<svg t="1635142140694" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5371" width="100%" height="100%"><path d="M342.7 536.6c-30.6 21.9-50.1 42.6-58.3 62.1-8.5 17.4-13 36.6-13.6 57.7h201v-50.8H343.7c3.6-6.1 8.1-11.4 13.5-16 5.3-4.6 15.2-12 29.7-22.3l23.1-16.4c19.5-13.8 33.5-26.2 42-37.4 13-16.9 19.5-36.2 19.5-57.9 0-28.3-9.2-51.1-27.6-68.3-18.4-17.2-43.1-25.8-74.2-25.8-39.3 0-66.7 14.6-82.1 43.9-8.1 15.4-12.6 35.6-13.6 60.5h56.1c0.7-16.5 2.8-28.5 6.5-36 6.3-13.1 18.3-19.6 35.8-19.6 12.8 0 22.7 4.1 29.6 12.3 6.9 8.2 10.3 18.6 10.3 31 0 15.2-6 29.3-18 42.1-7.8 8.2-25 21.8-51.6 40.9zM343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7zM695.4 399.8c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.5 118h-0.2c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5372"></path></svg>','<svg t="1635142241861" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5764" width="100%" height="100%"><path d="M343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7z m33.1-243c-7.1 0-13.6-0.9-19.6-3.2-5.8-2-10.8-5-14.9-8.8-4.1-3.7-7.3-8.4-9.5-13.6-2.2-5.4-3.4-11.2-3.4-17.5h-48.4c0 13.4 2.6 25.1 7.8 35.4 5.2 10.2 12.1 18.8 20.9 25.5 8.8 6.9 18.8 11.9 30.3 15.5 11.5 3.7 23.5 5.4 36.1 5.4 13.8 0 26.6-1.9 38.5-5.6 11.9-3.7 22.2-9.3 30.9-16.6 8.8-7.3 15.5-16.2 20.5-26.8 4.8-10.6 7.4-22.7 7.4-36.3 0-7.3-0.9-14.2-2.6-20.9-1.9-6.7-4.7-13-8.4-19-3.9-6-8.9-11.2-15.1-16-6.9-5-14.5-9-22.5-11.7 7.4-3.4 14-7.4 19.6-12.3 5.6-4.8 10.2-10.1 14-15.5 3.7-5.6 6.5-11.2 8.4-17.1 1.9-6 2.8-11.9 2.8-17.7 0-13.6-2.2-25.5-6.7-35.7-4.5-10.2-10.8-18.8-19-25.7-8.2-6.9-17.9-12.1-29.4-15.6-12.4-3.7-25.4-5.6-38.4-5.4-13.4 0-25.9 2-37.2 6-11.4 3.9-21 9.5-29.2 16.6-8.2 7.1-14.5 15.5-19.2 25.1-4.7 9.7-6.9 20.3-6.9 31.7h48.4c0-6.3 1.1-11.9 3.4-16.8 2.2-5 5.4-9.3 9.3-12.7 3.9-3.5 8.8-6.3 14.2-8.2 5.4-1.9 11.4-3 17.7-3 14.9 0 25.9 3.9 33.1 11.5 7.3 7.6 10.8 18.4 10.8 32.2 0 6.7-0.9 12.7-3 18.1-2 5.4-5 10.1-9.1 14-4.1 3.9-9.3 6.9-15.3 9.1-6.1 2.2-13.4 3.4-21.6 3.4h-28.7v38.2h28.7c8.2 0 15.6 0.9 22.2 2.8s12.1 4.7 16.8 8.8c4.7 3.9 8.2 8.9 10.8 14.9 2.4 6 3.7 13 3.7 21.2 0 15.1-4.3 26.6-13 34.6-8.4 7.8-20.1 11.7-35.2 11.7z m318.8-220.6c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.7 118c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3h-0.2zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5765"></path></svg>',"iconLayer","iconLayers",'<svg t="1635143998255" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21667" width="100%" height="100%"><path d="M954.66666687 368l-426.66666656 170.66666625c-10.66666687 5.33333344-26.66666625 5.33333344-37.33333406 0L69.33333313 368C37.33333344 351.99999969 37.33333344 303.99999969 69.33333313 288.00000031l421.33333312-176.00000062c10.66666687-5.33333344 26.66666625-5.33333344 37.33333406 0l421.33333313 176.00000062c37.33333312 16.00000031 37.33333312 64.00000031 5.33333343 79.99999969zM938.66666656 730.66666625l-410.66666625 176.00000063s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-176.00000063c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 816.00000031l405.33333375-170.66666719s10.66666687-5.33333344 15.99999937-5.33333343c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21668"></path><path d="M938.66666656 560l-410.66666625 175.99999969s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-175.99999969c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 645.33333312l405.33333375-170.66666624s10.66666687-5.33333344 15.99999937-5.33333344c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21669"></path></svg>',"iconArrow",'<svg t="1639103281020" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21930" width="32" height="32"><path d="M127.4 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l315-315L80.1 195.5c-16.8-16.8-23.4-41.3-17.2-64.3 6.2-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L535.7 463c26 26 26 68.1 0 94.1L174.1 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21931"></path><path d="M527.7 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l314.9-314.9-314.8-315c-16.8-16.8-23.4-41.3-17.2-64.3 6.1-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L936 463c26 26 26 68.1 0 94.1L574.4 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21932"></path></svg>','<svg t="1655692108337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2145" width="100%" height="100%"><path d="M1024 0 1024 384 885.728 245.728 673.728 457.728 566.272 350.272 778.272 138.272 640 0ZM245.728 138.272 457.728 350.272 350.272 457.728 138.272 245.728 0 384 0 0 384 0ZM885.728 778.272 1024 640 1024 1024 640 1024 778.272 885.728 566.272 673.728 673.728 566.272ZM457.728 673.728 245.728 885.728 384 1024 0 1024 0 640 138.272 778.272 350.272 566.272Z" p-id="2146"></path></svg>',"iconExit",'<svg t="1657681674199" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9284" width="100%" height="100%"><path d="M768 640l0-128-320 0 0-128 320 0 0-128 192 192zM704 576l0 256-320 0 0 192-384-192 0-832 704 0 0 320-64 0 0-256-512 0 256 128 0 576 256 0 0-192z" p-id="9285"></path></svg>'," .floor-scroller.smooth{\n            -webkit-transition: -webkit-transform .5s ease;\n            transition: -webkit-transform .5s ease;\n            transition: transform .5s ease;\n            transition: transform .5s ease,-webkit-transform .5s ease;\n        }\n        ."," .controlWrapper{\n            background-color: ",";\n            border-radius:","px;\n            box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n        }\n        ."," .floor-item .floor-item-devide{\n            color:",";\n        }\n        ."," .view3d, ."," .exit{\n            fill: "," .floor-item.active .floor-item-devide{\n            background-color: ",";\n            color:"," .viewModeToggle{\n            margin-bottom:","px;\n        }\n        ."," .floor-item-devide{\n            font-size: ","querySelector","head","sheet","999","block","scale(","allFloorsState","$layersToggle","layersImage","setAllFloorState","cursor","viewModeToggle","viewModeState","icon2d","toggleViewModeState","viewModeBtn","expandBtn","exitBtn","createExitBtn","1111.11rem","-webkit-perspective","-webkit-tap-highlight-color","rgba(0,0,0,0)","tap-highlight-color","-webkit-box-align","5px 0","transform-style","floor-scroller smooth","angleStep","arrows","lineHeight","deg) translateZ(","backfaceVisibility","-webkit-backface-visibility","-moz-backface-visibility","-ms-backface-visibility","childNodes","40%","currentTarget","setTransformAngle","toggleTargetClass","floor-item","-webkit-transform","rotateX("," active","span","innerText","fontWeight","bolder","80%","pre-wrap","all .5s ease-in","-webkit-transition","floor-item-devide","rotate(-90deg)","$controlWrapper","onmousewheel","getElementsByClassName","toggleTargetClassByFnum","ontouchmove","ontouchend","setViewModeState","setMapViewMode","layerImage","onScroll","wheelDelta","limitValue","deg)","getActiveAngle","active","getCurrentAngle","tapedPos","tapedAngle","checkPos","$maxAngle","toDecimal5","focusMode","margin_","init2D_","init2D","initFloors_","initFloors","floors_","defaultPadding_","top_","2px 2px 3px rgba(0,0,0, 0.3)","defaultRadius_","tool-wrap","boxShadow","defaultShadow_","expand_","white url(","imgURL_","less.png) no-repeat 50% 50%","more.png) no-repeat 50% 50%","createTool_","tools-wrap","to-3d-view-btn","2D.png) no-repeat 50% 50%","onclick","controlViewMode","marginTop","groups.png) no-repeat 50% 50%","group.png) no-repeat 50% 50%","controlFloor","getElementsByTagName","insertBefore","setPosition_","controlPositionListener",".tool-wrap",".tools-wrap","positon_","left_","right_","3D.png) no-repeat","MODE_3D","tool-floor-btn","2D.png) no-repeat","group.png) no-repeat","MouseEvents","groups.png) no-repeat","IsAllFloors","zoom-in-btn","padding_","zoom-out-btn","zoomout.png","hrEl",".zoom-wrap","1px","1px solid rgba(153, 153, 153, 0.45)","60%","0 20%","scalelevel","down","keepLeft","keepRight","appKey","navidistance","startMarkerLayer","endMarkerLayer","_naviResult","endData","locMoveTimer","navMode","naviDescriptions","allowPlayDis","isCrossingFuti","crossedFnum","curLadder","moveTimer","lastNavCode","toSubDis","analysedData","blockList","audioPlayed","_toPos","_toRot","_allLen","_preGid","_changeFnumIng","_animateFun","routePlanner","ESARROW","#33cc61","init audiotool error","ESAudioTool","setPreferCrosses","dataList","allPointMap","navLine","_createMarker","startMarker","endMarker","image/end.png","ESImageMarker","setView","setStartPoint","clearNaviLines","_isEnd_","startData","reRoute","getRouteResult","outcome","drawNaviLine","pointList","_getFloorsPoints","_naviDescriptions","naviDescriptionsData","crossPoints","_getCrossPoints","toPassedFnum","_groupsPoints","linkMinDistance","noGoingBack","multiLinesUsed","drawRoute","useAMap","driving","AMAP","linkStartEnd","rawPointList","des","outDoorNaviDescriptions","combinePoints","ladderType","无法到达!请重新选点","_transformResults","clearLocationMarker","startmarker","clearMarkers","_drawLines","_trs","_drawlineByResults","esarrow","billboard","autoClearNaviLine","_locMarkerToStartPoint","playAudio","navCodeChanged","_computeCameraStateByDistance","fitView","fitViewStage1","computedRawLevel","fitViewStage2","fitViewStage3","constraint","_broadcast","maxEnd","_setNavCode","tipAlmosted","已到达目的地附近","tipEnded","manModeTipStarted","tipDistance","manModeTipEnded","manWalkedCount","carModeTipStarted","endDirection","请减速","tipSlowDowned","carWalkedCount","over","navTip","_getDisToNextCross","point1","point2","dis2","_checkDeviated","routeCore","nearbyLine","lineList","has","_walkingfunction","crossFloorTime","crossFutiTime","reRouteDis","reRouteLimit","audioPlay","reRouting","setEndPoint","deviateCount","surDistance","remain","backcount","walking","_gps","walk","autoStop","parkDir","_updateLinePass","目的地在道路","restoreState","distanceToNext","segindex","instruction","bestView","bestViewMinDistance","isSimulating","_animID","_viewID","_scaleLevelToID","_preBid","_groupPointsIndex","_gpsData","isNaving","arrivalCount","curPathInfos","dis2next","audioCountDown","filterList","lastAngle","lineObj","passed","_linesVisible","_index","inTime","zOffset","_needDrawLines_","scaleAnimate","_onstartNavi","_watchAudioPlay","simulate","_anim","walkTo","_naviConstraint","naviinfoindex","somthing error","totalDisntance","balanceValue","distonex","nexbid","_getTransformByLength","_getLadderType","crossSchemes","manModeAllScheme","carModeScheme","allLineMap","combineAsset","relAngle","relField","_boo","crossBid: ","进入 室内","_tailLen","relDesc","absDesc","继续直行","进入 ","isMultiFloors","getPosition","isNaviAnimating","minScale","changeTiltAngle","crossFloor","rotateTimer","followGap","localMoveTo","_analyse","timerDelta","pause","_segindex","endFloor","getLineInfo","updateNavData","未找到线数据: ","源数据不存在: ","navidata","naviTip","locationMarkerOptions","image/pointer.png","locationMarkerSize","locationMarkerSpritify","locationMarkerSeeThough","analyticRouteData","steps","splitLLStrToPoints","transLLPointsToWorldPosPoints","posList","requestAMapData","param","errcode","bicycling","route","computeDistance","checkStatus","getMapTypeData","https://restapi.amap.com/v3/direction/driving","https://restapi.amap.com/v3/direction/walking","https://restapi.amap.com/v4/direction/bicycling","getNaviResult","getPointById","setSourceData","getNaviResultBetbuildings","preferCrosses","roomNodeMap","roomPolygons","baseSceneId","preprocessMain","preprocessTileNav","preprocess","computeLinePoints","nodeLinkMap","env","development","preprocess start","entryid","找不到进入室内","的入口","重复的线","man mode schemes error","pointids","lineids","fnumPoints","crosses","manModeScheme","preprocessComplete","getSource","ESNaviResult","startFloorNum","getNearestNode","请重新选点","noEntryPoint","getShortestPath","walkPath","isMulti","walkLines","costDistance","entries","起点与终点不能相同","JudgeCostDistance","compare","deepClone","error!id: 9920587","manhattenCost","mapcoord","getAllGates","walls","asyncGetWallModel","_modelObj","_oriModelObj","updateByPoints","thickset","heightset","wallModelPrefetch","modelPrefetchFailed","angle must be a object or number!","es3dmarker","onError","clickAnimation","arcTo","dataList1","dataList2","layerPoints","getAreaFormId","calculateCrossAreaPoints","calculateAreaRelation","canGoAreas","calculativeCrossLayerLine","getCanRunPoint2","getCanRunPoint1","pointIdListAdd","getSameId","calculatePath","opposite","getArrayMinus","updataOneTime","getOptimutic","getNumber","crossScheme","起点与终点不能重复","queryRoutesInBuilding","出入口到终点：","convertToCoor","calculateAreaStartEnd","layerPToP","findLine","findAllPath","updateNewShortestPathList","getNaviResult2","initDataList2","crossLine","getShortestPath2","updateNewShortestPathList2","box","scalerWidth","11px","Arial,sans-serif","18px","rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) -1px 0px 6px, rgb(0, 0, 0) 0px 0px 2px, rgb(0, 0, 0) 0px 1px 4px","textBox","5px","-1px","3px","7px","#000","6px","barBox","barBoxer","&nbsp;米","&nbsp;公里","hideOnCreated","screenCoord_","screenCoord","bindMarker","mapCoord_","transformOrigin_","center bottom","translateStyle_","translateStyle","new esmap.ESPopMarker: id不能重复: ","IsScreenCoord","borderStyle_","borderStyle","rgba(0,0,0,.2)","maxScale","updateSize_","_tryInit","drop","content_","contentHeight_","px;'>","</div>","border","es-control-popmarker-bot","fontSize","borderWidth"," transparent transparent",") transparent transparent","24px","webkitAppearance","bindCloseClick_","initY","inLevel","setVisible","bindchange","onVisibleCallBack","targetELement","cssObject","cssOnUpdate","getMapCoord_Z","closed","animating_","originFloorHeights","floorSpanOffset","getFloorNumByName","listFloors","roadDatas","MAP_ROAD","findRoomById","isSelect","isHide","hided","animatingId_","getO3dFloor","SINGLE","PLANISH","enteredStyle","未知的建筑聚焦模式,请参考esmap.showBuildingMode","focusAnimateMode","floorTempData","focusFloor_"];!function(x,a){!function(a){for(;--a;)x.push(x.shift())}(++a)}(_0x15c9,253);var _0x27ab=function(x,a){return _0x15c9[x-=0]};!function(x){function a(a){for(var _,i,n=a[0],r=a[1],s=a[2],c=0,l=[];c<n[_0x27ab("0x0")];c++)i=n[c],e[i]&&l[_0x27ab("0x1")](e[i][0]),e[i]=0;for(_ in r)Object[_0x27ab("0x2")].hasOwnProperty[_0x27ab("0x3")](r,_)&&(x[_]=r[_]);for(o&&o(a);l[_0x27ab("0x0")];)l[_0x27ab("0x4")]()();return t[_0x27ab("0x1")][_0x27ab("0x5")](t,s||[]),b()}function b(){for(var x,a=0;a<t[_0x27ab("0x0")];a++){for(var b=t[a],_=!0,n=1;n<b[_0x27ab("0x0")];n++){var r=b[n];0!==e[r]&&(_=!1)}_&&(t.splice(a--,1),x=i(i.s=b[0]))}return x}var _={},e={2:0},t=[];function i(a){if(_[a])return _[a][_0x27ab("0x6")];var b=_[a]={i:a,l:!1,exports:{}};return x[a][_0x27ab("0x3")](b[_0x27ab("0x6")],b,b.exports,i),b.l=!0,b.exports}i.m=x,i.c=_,i.d=function(x,a,b){i.o(x,a)||Object[_0x27ab("0x7")](x,a,{enumerable:!0,get:b})},i.r=function(x){typeof Symbol!==_0x27ab("0x8")&&Symbol[_0x27ab("0x9")]&&Object.defineProperty(x,Symbol[_0x27ab("0x9")],{value:"Module"}),Object[_0x27ab("0x7")](x,"__esModule",{value:!0})},i.t=function(x,a){if(1&a&&(x=i(x)),8&a)return x;if(4&a&&"object"==typeof x&&x&&x[_0x27ab("0xa")])return x;var b=Object.create(null);if(i.r(b),Object[_0x27ab("0x7")](b,_0x27ab("0xb"),{enumerable:!0,value:x}),2&a&&"string"!=typeof x)for(var _ in x)i.d(b,_,function(a){return x[a]}.bind(null,_));return b},i.n=function(x){var a=x&&x[_0x27ab("0xa")]?function(){return x[_0x27ab("0xb")]}:function(){return x};return i.d(a,"a",a),a},i.o=function(x,a){return Object.prototype[_0x27ab("0xc")][_0x27ab("0x3")](x,a)},i.p="/dist/";var n=window.ESJsonpModules=window[_0x27ab("0xd")]||[],r=n[_0x27ab("0x1")][_0x27ab("0xe")](n);n[_0x27ab("0x1")]=a,n=n[_0x27ab("0xf")]();for(var s=0;s<n.length;s++)a(n[s]);var o=r;t.push([143,1,4,0]),b()}(Array(19).concat([function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=n(b(10)),e=n(b(16)),t=n(b(31)),i=n(b(27));function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}a[_0x27ab("0x10")]=function(x,a,b){return x&&x.hasOwnProperty(a)?x[a]:b},a[_0x27ab("0x11")]=function(x,a,b){for(var _,e=1;e<arguments[_0x27ab("0x0")]-1;e++)if(void 0!==(_=x[arguments[e]]))return _;return arguments[arguments[_0x27ab("0x0")]-1]},a[_0x27ab("0x12")]=function(x){return(0,i.default)(new t.default(x))},a[_0x27ab("0x13")]=function(x){var a=0;for(var b in x)x[_0x27ab("0xc")](b)&&a++;return a},a[_0x27ab("0x14")]=function(x){var a=this;(0,e[_0x27ab("0xb")])(x)[_0x27ab("0x1b")]((function(b){null==a[b]&&(a[b]=x[b])}))},a.exitInArray=function(x,a){for(var b=0;b<x[_0x27ab("0x0")];b++)if(x[b]==a)return!0;return!1},a[_0x27ab("0x15")]=function(x){var a=typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x);return null!=x&&(a==_0x27ab("0x1c")||"function"==a)},a[_0x27ab("0x16")]=function(x,a){if(!x)return;for(var b in x){if(!1===a(x[b],b,x))break}},a[_0x27ab("0x17")]=function(x){if(!x)return x;var a={};for(var b in x)a[b]=x[b];return a},a[_0x27ab("0x18")]=function(){var x=new Array;if(null!=window[_0x27ab("0x1d")][_0x27ab("0x1e")])x[0]=window[_0x27ab("0x1d")].deviceXDPI,x[1]=window[_0x27ab("0x1d")][_0x27ab("0x1f")];else{var a=document[_0x27ab("0x20")](_0x27ab("0x21"));a.style[_0x27ab("0x22")]="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document[_0x27ab("0x23")][_0x27ab("0x24")](a),x[0]=parseInt(a.offsetWidth),x[1]=parseInt(a[_0x27ab("0x25")]),a[_0x27ab("0x26")][_0x27ab("0x27")](a)}return x},a.startWith=function(x,a){return new RegExp("^"+a).test(x)},a[_0x27ab("0x19")]=function(x){for(var a=x[_0x27ab("0x28")](";base64,"),b=a[0][_0x27ab("0x28")](":")[1],_=window[_0x27ab("0x29")](a[1]),e=_[_0x27ab("0x0")],t=new Uint8Array(e),i=0;i<e;++i)t[i]=_[_0x27ab("0x2a")](i);return new Blob([t],{type:b})},a[_0x27ab("0x1a")]=function(x){return(0,i.default)(Array(Number(x)||24),(function(){return Math.floor(36*Math[_0x27ab("0x2b")]())[_0x27ab("0x2c")](36)}))[_0x27ab("0x2d")]("")}},,,,,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=n(b(0)),e=n(b(1)),t=b(55),i=b(56);function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var r=function(){function x(){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x2e")]={},window[_0x27ab("0x2f")](_0x27ab("0x30"),this[_0x27ab("0x31")].bind(this))}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x31"),value:function(x){var a=esmap[_0x27ab("0x32")].instance,b=a[_0x27ab("0x33")],_=b.s&&b.k,e=b[_0x27ab("0x34")];if(this[_0x27ab("0x35")]=x[_0x27ab("0x36")].id,this[_0x27ab("0x37")]=a,this.skMode=_,this[_0x27ab("0x38")]=e,e==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]?this.initCityPaths():this[_0x27ab("0x3b")](),1==window[_0x27ab("0x3c")]){var t=new CustomEvent("ESMapResolveDone",{});window[_0x27ab("0x3d")]=this,window.dispatchEvent(t)}}},{key:_0x27ab("0x3e"),value:function(){var x=this[_0x27ab("0x35")],a=this.map[_0x27ab("0x33")],b=a.tid,_=a.s,e=a[_0x27ab("0x3f")];if(1==b){var n=(0,t[_0x27ab("0x40")])(_);this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x41")]=3==_?n:i[_0x27ab("0x42")][_0x27ab("0x43")](n)}else this.map[_0x27ab("0x33")][_0x27ab("0x41")]=e+"/"+x;var r=this[_0x27ab("0x44")]();this.setPath(_0x27ab("0x45"),r.url),this[_0x27ab("0x46")](_0x27ab("0x47"),this[_0x27ab("0x48")][_0x27ab("0xe")](this)),this[_0x27ab("0x46")]("remoteNotify",this[_0x27ab("0x49")](r[_0x27ab("0x4a")])),this.setPath(_0x27ab("0x4b"),this[_0x27ab("0x4c")][_0x27ab("0xe")](this)),this.setPath("searchJson",this[_0x27ab("0x4d")][_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x4e"),this[_0x27ab("0x4f")][_0x27ab("0xe")](this)),this.setPath(_0x27ab("0x50"),this[_0x27ab("0x51")][_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x52"),this[_0x27ab("0x53")][_0x27ab("0xe")](this)),this[_0x27ab("0x46")]("buildingThemeAsset",this.getCityBuildingThemeAssetPath[_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x54"),this[_0x27ab("0x55")][_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x56"),this.getCityBuildingModelsPath[_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x57"),this[_0x27ab("0x58")].bind(this))}},{key:_0x27ab("0x3b"),value:function(){this[_0x27ab("0x46")](_0x27ab("0x4b"),this[_0x27ab("0x59")][_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x52"),this.getIndoorThemePath[_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x5a"),this[_0x27ab("0x5b")][_0x27ab("0xe")](this)),this.setPath("buildingAsset",this[_0x27ab("0x5c")][_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x56"),this.getIndoorBuildingModelsPath[_0x27ab("0xe")](this)),this[_0x27ab("0x46")](_0x27ab("0x5d"),this[_0x27ab("0x5e")][_0x27ab("0xe")](this))}},{key:_0x27ab("0x46"),value:function(x,a){this.paths[x]=a}},{key:_0x27ab("0x5f"),value:function(x,a){var b=this[_0x27ab("0x2e")][x];return typeof b==_0x27ab("0x60")?b:b(a)}},{key:_0x27ab("0x59"),value:function(){var x=this[_0x27ab("0x35")],a=this.map[_0x27ab("0x33")],b=a[_0x27ab("0x3f")],_=a.s,e=a.k,t=a[_0x27ab("0x61")],i=a[_0x27ab("0x62")],n=b+"/"+x+"/"+x+".esmap",r=!1;if(this[_0x27ab("0x63")]){r=!0;var s=_0x27ab("0x64");t&&(s=_0x27ab("0x65")),n=_+s+x+_0x27ab("0x66")+e+_0x27ab("0x67")+Date[_0x27ab("0x68")](new Date)}else i&&(n+=_0x27ab("0x69")+Date[_0x27ab("0x68")](new Date));return{url:n,skMode:r}}},{key:_0x27ab("0x5b"),value:function(x){var a=x[_0x27ab("0x6a")],b=x[_0x27ab("0x6b")],_=this.mapId,e=this[_0x27ab("0x37")][_0x27ab("0x33")],t=e[_0x27ab("0x3f")],i=e.timestamp,n=e[_0x27ab("0x6c")],r=void 0;return r=n?n+"/"+a+"/"+b:t+"/"+_+"/theme/"+a+"/"+b,i&&(r=r+_0x27ab("0x69")+Date[_0x27ab("0x68")](new Date)),r}},{key:_0x27ab("0x6d"),value:function(x){var a=x[_0x27ab("0x6a")],b=x[_0x27ab("0x6e")],_=this.mapId,e=this[_0x27ab("0x37")][_0x27ab("0x33")],t=e[_0x27ab("0x3f")],i=e[_0x27ab("0x6f")],n=e[_0x27ab("0x6c")],r=void 0;return r=n?n+"/"+a+"/"+a+"."+b:t+"/"+_+"/theme/"+a+"/"+a+"."+b,i&&(r=r+"?t="+Date[_0x27ab("0x68")](new Date)),r}},{key:"getIndoorAssetsPath",value:function(x){var a=x[_0x27ab("0x6b")],b=x[_0x27ab("0x70")],_=this[_0x27ab("0x37")][_0x27ab("0x33")],e=_[_0x27ab("0x71")];return _.mapDataSrc+"/"+this[_0x27ab("0x35")]+"/"+b+((e?String(e):"")+"/")+a}},{key:_0x27ab("0x72"),value:function(x){var a=x[_0x27ab("0x6b")],b=this.map[_0x27ab("0x33")],_=b.s,e=b.k,t=(b[_0x27ab("0x3f")],this[_0x27ab("0x35")]);return _+_0x27ab("0x73")+t+_0x27ab("0x74")+a+_0x27ab("0x66")+e}},{key:_0x27ab("0x75"),value:function(x){var a=x[_0x27ab("0x6b")],b=this[_0x27ab("0x37")].options,_=b[_0x27ab("0x3f")],e=b.s,t=b.k,i=this.mapId,n=void 0;this[_0x27ab("0x63")]?n=e+"/map/mapmodel!getmodel.action?bids="+i+_0x27ab("0x74")+a+"&token="+t:n=_+"/"+i+_0x27ab("0x76")+a+_0x27ab("0x77");return n}},{key:_0x27ab("0x5e"),value:function(){return this[_0x27ab("0x37")][_0x27ab("0x33")].mapDataSrc+"/"+this[_0x27ab("0x37")].id+_0x27ab("0x78")}},{key:_0x27ab("0x44"),value:function(){var x,a=this.map[_0x27ab("0x33")],b=this[_0x27ab("0x35")],_=a[_0x27ab("0x79")],e=a.s,n=a.tid,r=window[_0x27ab("0x7a")][_0x27ab("0x7b")],s=parseInt((new Date)[_0x27ab("0x7c")]()/1e3);x=a.s&&a.k?a.k:esmap.ESMapUtil[_0x27ab("0x7d")](a[_0x27ab("0x7e")]+_0x27ab("0x7f")+s);var o=esmap[_0x27ab("0x80")][_0x27ab("0x7d")](n+"&"+b+"&"+e+"&"+x+"&"+s+"&"+r+"&"+_),c=i[_0x27ab("0x42")].decode((0,t[_0x27ab("0x81")])(e)),l=void 0;if(3==n)l=a[_0x27ab("0x41")]+"/"+b+_0x27ab("0x82");else{var f=(0,t[_0x27ab("0x40")])(e);l=(3==e?f:i[_0x27ab("0x42")][_0x27ab("0x43")](f))+"/"+c+_0x27ab("0x83")+b+_0x27ab("0x84")+a.s+_0x27ab("0x85")+x+"&t="+s+_0x27ab("0x86")+encodeURIComponent(r)+"&sign="+o+"&v="+_+_0x27ab("0x87")+n}return{url:l,query_sign:o}}},{key:_0x27ab("0x49"),value:function(x){var a=this.mapId,b=this.map[_0x27ab("0x33")],_=b.s,e=b.k,n=document[_0x27ab("0x88")],r=parseInt((new Date)[_0x27ab("0x7c")]()/1e3);return i[_0x27ab("0x42")].decode(t.PRIVITES[2803])+(_0x27ab("0x89")+a+_0x27ab("0x84")+_+_0x27ab("0x85")+e+_0x27ab("0x67")+r+_0x27ab("0x86")+n+_0x27ab("0x8a")+x+_0x27ab("0x8b"))}},{key:_0x27ab("0x4d"),value:function(){return this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x41")]+_0x27ab("0x78")}},{key:_0x27ab("0x4f"),value:function(x){var a=x[_0x27ab("0x8c")];return this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x41")]+_0x27ab("0x8d")+a+_0x27ab("0x78")}},{key:_0x27ab("0x4c"),value:function(x){var a=this[_0x27ab("0x37")][_0x27ab("0x33")],b=a.tid,_=a.serverUrl,e=a.k,t=a.isRandom,i=a.s,n=x.buildingId,r=void 0,s=!1;if(1!=b)r=_+_0x27ab("0x8d")+n+"/"+n+_0x27ab("0x8e"),t&&(r+=_0x27ab("0x69")+Date[_0x27ab("0x68")](new Date));else{s=!0;var o=e[_0x27ab("0x28")]("&"),c=esmap[_0x27ab("0x80")][_0x27ab("0x7d")](esmap[_0x27ab("0x80")][_0x27ab("0x7d")](n+_0x27ab("0x8f")+2+"#"+o[0])+_0x27ab("0x7f"));r=_+_0x27ab(3==i?"0x90":"0x91")+n+_0x27ab("0x92")+e+_0x27ab("0x93")+2+_0x27ab("0x66")+c+_0x27ab("0x87"),t&&(r+=_0x27ab("0x67")+Date[_0x27ab("0x68")](new Date))}return{url:r,skMode:s}}},{key:_0x27ab("0x51"),value:function(x){var a=x[_0x27ab("0x6e")],b=x[_0x27ab("0x6a")],_=this[_0x27ab("0x35")],e=this[_0x27ab("0x37")][_0x27ab("0x33")],t=e[_0x27ab("0x62")],i=e[_0x27ab("0x3f")]+"/"+_+_0x27ab("0x94")+b+"/"+b+"."+a;return t&&(i+=_0x27ab("0x69")+Date[_0x27ab("0x68")](new Date)),i}},{key:_0x27ab("0x95"),value:function(x){var a=x.filename,b=x[_0x27ab("0x6a")],_=this[_0x27ab("0x37")][_0x27ab("0x33")],e=_[_0x27ab("0x96")],t=_.serverUrl;return 1==e?t+"/theme/"+b+"/"+a:t+"/buildings/theme/"+b+"/"+a}},{key:_0x27ab("0x53"),value:function(x){var a=x[_0x27ab("0x6e")],b=x.themeID,_=this[_0x27ab("0x37")][_0x27ab("0x33")],e=_[_0x27ab("0x96")],t=_[_0x27ab("0x41")];return 1==e?t+_0x27ab("0x97")+b+"/"+b+"."+a:t+_0x27ab("0x98")+b+"/"+b+"."+a}},{key:_0x27ab("0x55"),value:function(x){var a=x[_0x27ab("0x6b")],b=x[_0x27ab("0x70")],_=x[_0x27ab("0x8c")],e=this.map[_0x27ab("0x33")],t=e[_0x27ab("0x96")],i=e.s,n=e[_0x27ab("0x41")],r=e[_0x27ab("0x71")],s="";1==t?s=n+_0x27ab(3==i?"0x99":"0x9a")+_+"/":s=n+_0x27ab("0x8d")+_+"/";return s+b+((r?String(r):"")+"/")+a}},{key:"getCityTilePath",value:function(x){var a=x.tileId,b=x[_0x27ab("0x9b")],_=this[_0x27ab("0x35")],e=this[_0x27ab("0x37")][_0x27ab("0x33")],n=e[_0x27ab("0x96")],r=e.s,s=e.k,o=e[_0x27ab("0x41")],c=e[_0x27ab("0x7e")],l=e[_0x27ab("0x79")],f=e[_0x27ab("0x3f")],u=e[_0x27ab("0x62")],d=a[_0x27ab("0x28")]("_"),h=d[0],g=d[1],v=s,p="";if(1!=n)p=f+"/"+_+_0x27ab("0x9c")+h+"_"+g+"/"+h+"_"+g+_0x27ab("0x9d")+(1==b?"":_0x27ab("0x9e"))+_0x27ab("0x8e"),u&&(p+=_0x27ab("0x69")+Date[_0x27ab("0x68")](new Date));else{2==n&&(v=esmap[_0x27ab("0x80")][_0x27ab("0x7d")](c+"worldeditor"));var A=esmap[_0x27ab("0x80")][_0x27ab("0x7d")](n+"&"+_+"&"+r+"&"+v+"&"+l+"&"+b+"&"+h+"&"+g);p=o+"/"+i.Base64[_0x27ab("0x43")]((0,t[_0x27ab("0x81")])(r))+_0x27ab("0x9f")+_+_0x27ab("0x85")+v+_0x27ab("0x84")+r+"&typeid="+b+_0x27ab("0xa0")+h+_0x27ab("0xa1")+g+"&sign="+A+"&v1="+l+_0x27ab("0x87")+n,u&&(p+=_0x27ab("0x67")+Date[_0x27ab("0x68")](new Date))}return p}},{key:"getCityModelLibPath",value:function(x){var a=x[_0x27ab("0x6b")],b=(x.modeltoken,this[_0x27ab("0x37")].options),_=b.s,e=(b.k,b[_0x27ab("0x41")]),n=this[_0x27ab("0x35")],r=this[_0x27ab("0x37")][_0x27ab("0xa2")],s=i[_0x27ab("0x42")][_0x27ab("0x43")]((0,t[_0x27ab("0x81")])(_));url=e+"/"+s+_0x27ab("0xa3")+n+_0x27ab("0x74")+a+_0x27ab("0xa4")+r}},{key:_0x27ab("0xa5"),value:function(x){var a=x.filename,b=x[_0x27ab("0x8c")],_=x.modeltoken,e=this[_0x27ab("0x37")][_0x27ab("0x33")],n=e[_0x27ab("0x96")],r=e[_0x27ab("0x41")],s=e.s,o=void 0;this[_0x27ab("0x63")]?o=r+"/"+i[_0x27ab("0x42")].decode((0,t[_0x27ab("0x81")])(s,!0))+_0x27ab("0x73")+b+_0x27ab("0x74")+a+".gltf&token="+_+_0x27ab("0x87")+n:o=r+_0x27ab("0x8d")+b+"/model/"+a+_0x27ab("0x77");return o}},{key:"getCityTileModelPath",value:function(x){var a=x[_0x27ab("0x6b")],b=x[_0x27ab("0xa6")],_=this[_0x27ab("0x37")][_0x27ab("0x33")],e=_.tid,n=_.serverUrl,r=_.s,s=this[_0x27ab("0x35")],o="";1!=e?o=n+_0x27ab("0xa7")+a+"/"+a+_0x27ab("0x77"):o=n+"/"+i[_0x27ab("0x42")].decode((0,t[_0x27ab("0x81")])(r))+"/map/mapmodel!getmodel.action?cids="+s+_0x27ab("0x74")+a+"&token="+b+_0x27ab("0x87")+e;return o}}]),x}();a[_0x27ab("0xb")]=new r},,,,,,,,,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0xa8")]=function x(a){if(null!==a){a[_0x27ab("0xae")]&&a[_0x27ab("0xae")].o3d_&&(a.datas_[_0x27ab("0xaf")]=void 0,a[_0x27ab("0xae")]=void 0);for(var b=0;b<a[_0x27ab("0xb0")][_0x27ab("0x0")];b++)x(a[_0x27ab("0xb0")][b]);a[_0x27ab("0xb1")]&&(a[_0x27ab("0xb1")][_0x27ab("0xb2")](),a[_0x27ab("0xb1")]=void 0),a[_0x27ab("0xb3")]&&(a[_0x27ab("0xb3")]instanceof Array?a[_0x27ab("0xb3")].forEach((function(x){x.map&&(x[_0x27ab("0x37")][_0x27ab("0xb2")](),x.map=void 0),x[_0x27ab("0xb2")](),x=void 0})):(a[_0x27ab("0xb3")][_0x27ab("0xb2")](),a[_0x27ab("0xb3")]=void 0))}a=void 0},a[_0x27ab("0xa9")]=function(x,a,b,t){var i=e/Math[_0x27ab("0xb4")](2,b),n={minx:256*x*i-_,miny:256*a*i-_,maxx:256*(x+1)*i-_,maxy:256*(a+1)*i-_};if(t){var r=esmap[_0x27ab("0x80")].Mercator2lonLat(n[_0x27ab("0xb5")],n.maxy),s=esmap.ESMapUtil[_0x27ab("0xb6")](r),o=esmap[_0x27ab("0x80")][_0x27ab("0xb7")](s[0],s[1]),c=esmap.ESMapUtil[_0x27ab("0xb8")](n[_0x27ab("0xb9")],n.miny),l=esmap[_0x27ab("0x80")].WGS84ToGCJ02(c),f=esmap[_0x27ab("0x80")][_0x27ab("0xb7")](l[0],l[1]);n.minx=f[0],n[_0x27ab("0xba")]=f[1],n.maxx=o[0],n[_0x27ab("0xbb")]=o[1]}return n},a[_0x27ab("0xaa")]=function(x,a,b){var t=e/Math[_0x27ab("0xb4")](2,b),i={},n=(x+_)/t,r=(a+_)/t;return i.x=Math.ceil(n/256)-1,i.y=Math[_0x27ab("0xbc")](r/256)-1,i},a[_0x27ab("0xab")]=function(x){var a=x.parser[_0x27ab("0xbd")][_0x27ab("0xbe")].length,b=x[_0x27ab("0xbf")][_0x27ab("0xbd")][_0x27ab("0xc0")].length,_=0;return x[_0x27ab("0xc1")].traverse((function(x){if(x[_0x27ab("0xb1")]){var a=x[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")];_+=a}})),{materials:a,meshes:b,vertexes:_}},a[_0x27ab("0xac")]=function(x){return function x(a,b){return a?a[_0x27ab("0xc5")]==_0x27ab("0xc6")?a:x(a[_0x27ab("0xc7")],!1)||void 0:null}(x)},a[_0x27ab("0xad")]=function(x,a){for(var b=3*x,_=0;_<a[_0x27ab("0x0")];_++){var e=a[_];if(b>=e.faceRange[0]&&b<e.faceRange[1])return _}return-1};var _=20037508.342789244,e=156543.03392804062},,,,,,,,,,,,,,,,,,,,,,function(x,a,b){"use strict";function _(x){for(var a=[],b=0;b<x.length;b++)a[b]=x[_0x27ab("0x2a")](b);return a}Object[_0x27ab("0x7")](a,"__esModule",{value:!0}),a.decode=function(x,a,b){for(var e="",t=_(a+b),i=_(x),n=0;n<i[_0x27ab("0x0")];n++){for(var r=0;r<t[_0x27ab("0x0")];r++)i[n]=i[n]^t[r];e+=String[_0x27ab("0xc9")](i[n])}return e},a.decodeByte=function(x,a){for(var b=_(x),e=0;e<16;e++)for(var t=0;t<b[_0x27ab("0x0")];t++)a[e]=a[e]^b[t]},a[_0x27ab("0x40")]=function(x){if(1==x)return window[_0x27ab("0x7a")].href[_0x27ab("0xd1")](_0x27ab("0xd2"))>-1?e[2807]:e[2803];if(2==x)return e[2804];if(3==x){var a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x33")][_0x27ab("0x3f")];return a.indexOf(_0x27ab("0xd4"))>-1?a+_0x27ab("0xd5"):""}return null},a[_0x27ab("0x81")]=function(x){var a=arguments[_0x27ab("0x0")]>1&&void 0!==arguments[1]&&arguments[1];if(1==x||2==x)return a?e[2809]:e[2805];if(3==x)return a?e[2808]:e[2806];return x},a[_0x27ab("0xc8")]=function(x){if(1==x||2==x)return e[2805];if(3==x)return e[2806];return null};var e=a[_0x27ab("0xca")]={2803:_0x27ab("0xcb"),2804:_0x27ab("0xcc"),2805:_0x27ab("0xcd"),2806:_0x27ab("0xce"),2807:_0x27ab("0xcf"),2808:"ZXNtYXBvZmY=",2809:_0x27ab("0xd0")}},,,,,,,,,,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=n(b(10)),e=n(b(16)),t=n(b(31)),i=n(b(27));function n(x){return x&&x.__esModule?x:{default:x}}function r(x){return x<s&&x>-s}a[_0x27ab("0xd6")]=function(x,a){return Math.sqrt((x.x-a.x)*(x.x-a.x)+(x.y-a.y)*(x.y-a.y))},a[_0x27ab("0x12")]=function(x){return(0,i.default)(new(t[_0x27ab("0xb")])(x))},a[_0x27ab("0x43")]=function(x,a,b){for(var _="",e=o(a+b),t=o(x),i=0;i<t[_0x27ab("0x0")];i++){for(var n=0;n<e[_0x27ab("0x0")];n++)t[i]=t[i]^e[n];_+=String[_0x27ab("0xc9")](t[i])}return _},a[_0x27ab("0xd7")]=function(x,a,b,_){var e=a.x,t=a.y,i=b.x,n=b.y,o=x.x,c=x.y,l=i-e,f=n-t,u=Math[_0x27ab("0xdc")](l*l+f*f),d=o-e,h=c-t,g=Math[_0x27ab("0xdc")](d*d+h*h);if(r(u))return r(g)?(_.x=a.x,_.y=a.y,0):(_.x=a.x,_.y=a.y,g);var v=l/u,p=f/u,A=v*d+p*h;if(m=A,!(m>s))return _.x=a.x,_.y=a.y,g;var m;if(E=A-u,!(E<-s)){var C=o-i,I=c-n,y=Math[_0x27ab("0xdc")](C*C+I*I);return _.x=b.x,_.y=b.y,y}var E;var w=e+A*v,T=t+A*p,k=o-w,S=c-T,M=Math[_0x27ab("0xdc")](k*k+S*S);return _.x=w,_.y=T,M},a[_0x27ab("0xd8")]=function(){for(var x=_0x27ab("0x69"),a=0;a<6;a++)x+=Math[_0x27ab("0xdd")](10*Math[_0x27ab("0x2b")]());return x},a.setDefaultValues=function(x){var a=this;(0,e[_0x27ab("0xb")])(x)[_0x27ab("0x1b")]((function(b){null==a[b]&&(a[b]=x[b])}))},a[_0x27ab("0xd9")]=function(x,a){for(var b=0;b<x[_0x27ab("0x0")];b++)if(x[b]==a)return!0;return!1},a[_0x27ab("0xda")]=function x(a){for(var b=arguments.length,t=Array(b>1?b-1:0),i=1;i<b;i++)t[i-1]=arguments[i];return t[_0x27ab("0xdf")]((function(a,b){return(0,e.default)(b)[_0x27ab("0xdf")]((function(a,e){var t=b[e];return l(t)?a[e]=t.map((function(b,_){if(c(b)){var t=a[e]?a[e]:[];return x(t[_]?t[_]:{},b)}return b})):c(t)?f(t)?a[e]=t:a[e]=x(a[e]?a[e]:{},t):(typeof a===_0x27ab("0x8")?_0x27ab("0x8"):(0,_.default)(a))==_0x27ab("0xe0")?(a={})[e]=t:void 0!==t&&(a[e]=t),a}),a)}),a)},a.isHTMLElement=f,a[_0x27ab("0xdb")]=function(x,a){for(var b in x)if(x[b]!=a[b])return!0;return!1};var s=1e-5;function o(x){for(var a=[],b=0;b<x[_0x27ab("0x0")];b++)a[b]=x[_0x27ab("0x2a")](b);return a}function c(x){var a=typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x);return null!=x&&("object"==a||a==_0x27ab("0xde"))}function l(x){return x instanceof Array}function f(x){if(x[_0x27ab("0xe1")])return 1==x[_0x27ab("0xe1")]}},,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=o(b(2)),e=o(b(4)),t=o(b(0)),i=o(b(1)),n=o(b(5)),r=o(b(6)),s=b(65);function o(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}function c(x){if(x){if(x[_0x27ab("0xae")]&&x[_0x27ab("0xae")][_0x27ab("0xaf")]&&(x[_0x27ab("0xae")][_0x27ab("0xaf")]=void 0,x.datas_=void 0),x[_0x27ab("0xb0")])for(var a=0;a<x[_0x27ab("0xb0")][_0x27ab("0x0")];a++)c(x[_0x27ab("0xb0")][a]);x[_0x27ab("0xb1")]&&(x[_0x27ab("0xb1")][_0x27ab("0xb2")](),x[_0x27ab("0xb1")]=void 0),x[_0x27ab("0xb3")]&&(x.material instanceof Array?x[_0x27ab("0xb3")][_0x27ab("0x1b")]((function(x){x&&(x[_0x27ab("0x37")]&&(x[_0x27ab("0x37")][_0x27ab("0xb2")](),x[_0x27ab("0x37")]=void 0),x.dispose(),x=void 0)})):(x.material.dispose(),x[_0x27ab("0xb3")]=void 0))}x=void 0}var l=function(x){function a(x,b,_){(0,t[_0x27ab("0xb")])(this,a);var i={lineWidth:6,lineWidthMeter:!1,color:_0x27ab("0xe4"),lineType:esmap.ESLineType[_0x27ab("0xe5")],offsetHeight:0,fixedWidth:!1,closed:!1,hiddenByFloor:!0,blend:!1,metalness:.2,roughness:.5,light:!0,reverseAnimate:0,lineMode:_0x27ab("0xe6"),repeat:1,animateSpeed:1,isMapRoad:!1,transparent:!0,opacity:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x27ab("0xe7")])(0,1,0),matSide:1,noAnimate:!1,cross:!1};(0,s[_0x27ab("0xda")])(i,b),i[_0x27ab("0xc")](_0x27ab("0xe8"))&&(i.opacity=i.alpha);var r=(0,n.default)(this,(a.__proto__||(0,e[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this));r[_0x27ab("0xe9")]=_||!1,r[_0x27ab("0xea")]=i;var o=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];r.bid=x[0][_0x27ab("0xeb")]||o.id;var c=function(x){for(var a=0,b=x[0][_0x27ab("0xe2")](),_=1;_<x.length;_++)a+=x[_].distanceTo(x[_-1]),b.add(x[_]);return{length:a,center:b[_0x27ab("0xe3")](x.length)}}(x);return r[_0x27ab("0xec")]=x,r[_0x27ab("0x0")]=c[_0x27ab("0x0")],r[_0x27ab("0xed")]=c[_0x27ab("0xed")],r[_0x27ab("0xee")]=x[0][_0x27ab("0xee")],r[_0x27ab("0xef")]=_0x27ab("0xf0"),r[_0x27ab("0xe1")]=esmap[_0x27ab("0xf1")].LINE,r[_0x27ab("0x31")](),r}return(0,r.default)(a,x),(0,i[_0x27ab("0xb")])(a,[{key:"init",value:function(){var x=this,a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],b=this,_=this;b.map=a;var e,t=new(THREE[_0x27ab("0xf2")]),i=null;this.style[_0x27ab("0xf3")]&&(a[_0x27ab("0xf4")](this[_0x27ab("0xeb")])[_0x27ab("0xf5")][_0x27ab("0xd1")](this[_0x27ab("0xee")])<0&&(this[_0x27ab("0xf6")]=!1));if(this[_0x27ab("0xe9")]){var n=this[_0x27ab("0xec")][0][_0x27ab("0xeb")],r=this[_0x27ab("0xec")][1][_0x27ab("0xeb")],s=this[_0x27ab("0x37")][_0x27ab("0xf4")](n),o=this.map[_0x27ab("0xf4")](r);s&&s.on(_0x27ab("0xf7"),(function(a){var b=a.fnum,_=a[_0x27ab("0xf8")];b==x[_0x27ab("0xec")][0][_0x27ab("0xee")]&&(x.points[0].y=_),x[_0x27ab("0xf9")](x[_0x27ab("0xec")])})),o&&o.on("floorHeightChanged",(function(a){var b=a[_0x27ab("0xee")],_=a.value;b==x.points[1].fnum&&(x.points[1].y=_),x.updateGeometry(x[_0x27ab("0xec")])}))}else{var c=a[_0x27ab("0xf4")](this[_0x27ab("0xeb")]);c&&c.on(_0x27ab("0xf7"),(function(a){for(var b=a[_0x27ab("0xee")],_=a[_0x27ab("0xf8")],e=0;e<x.points[_0x27ab("0x0")];e++)x[_0x27ab("0xec")][e].fnum&&b==x[_0x27ab("0xec")][e][_0x27ab("0xee")]&&(x[_0x27ab("0xec")][e].y=_);x[_0x27ab("0xf9")](x[_0x27ab("0xec")])}))}if(b[_0x27ab("0xea")][_0x27ab("0xfa")])i=b[_0x27ab("0xea")][_0x27ab("0xfb")]>=20?a[_0x27ab("0xfc")][_0x27ab("0xfd")][_0x27ab("0xfe")][_0x27ab("0xe2")]():a[_0x27ab("0xfc")][_0x27ab("0xfd")][_0x27ab("0xff")].clone();else{(i=b[_0x27ab("0xea")][_0x27ab("0x100")]?new(THREE[_0x27ab("0x101")])({transparent:this[_0x27ab("0xea")][_0x27ab("0x102")],opacity:this.style[_0x27ab("0x103")],color:16777215,wireframe:!1,metalness:this[_0x27ab("0xea")][_0x27ab("0x104")],roughness:this[_0x27ab("0xea")][_0x27ab("0x105")]}):new(THREE[_0x27ab("0x106")])({transparent:this[_0x27ab("0xea")][_0x27ab("0x102")],opacity:this[_0x27ab("0xea")][_0x27ab("0x103")],color:16777215}))[_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(this[_0x27ab("0xea")][_0x27ab("0x107")]),i[_0x27ab("0x109")]=function(x){x[_0x27ab("0x10a")][_0x27ab("0x10b")]={value:0},x[_0x27ab("0x10a")][_0x27ab("0x10c")]={value:e[_0x27ab("0x10d")]},x[_0x27ab("0x10e")]=x[_0x27ab("0x10e")].replace(_0x27ab("0x10f"),_0x27ab("0x110")),x[_0x27ab("0x10e")]=x[_0x27ab("0x10e")][_0x27ab("0x111")](_0x27ab("0x112"),"\n                    #include <uv_vertex>\n                    nvUv = uv;\n                    "),x[_0x27ab("0x113")]=x[_0x27ab("0x113")][_0x27ab("0x111")](_0x27ab("0x114"),_0x27ab("0x115")),x[_0x27ab("0x113")]=x[_0x27ab("0x113")][_0x27ab("0x111")](_0x27ab("0x116"),_0x27ab("0x117")),_[_0x27ab("0x118")]=x},this[_0x27ab("0xea")][_0x27ab("0x119")]=[2,0],this[_0x27ab("0x11a")]=this[_0x27ab("0xea")].dashArray.reduce((function(x,a){return x+a}));var l=this.createTexture();i.transparent=this.style[_0x27ab("0x102")],i[_0x27ab("0x11b")]=THREE[_0x27ab("0x11c")],l.repeat.x=this[_0x27ab("0xea")][_0x27ab("0x11d")],i[_0x27ab("0x37")]=l,2==b[_0x27ab("0xea")][_0x27ab("0x11e")]&&(i[_0x27ab("0x11b")]=THREE[_0x27ab("0x11c")])}if(this[_0x27ab("0xea")].lineMode==_0x27ab("0x11f")){var f=this.style[_0x27ab("0x120")]/8;if(this[_0x27ab("0xea")][_0x27ab("0x121")]&&(f=this[_0x27ab("0xea")][_0x27ab("0x120")]),this[_0x27ab("0x122")]=t,this[_0x27ab("0x122")][_0x27ab("0x123")](this.points,f,0,void 0,!1),e=new(THREE[_0x27ab("0x124")]),this.style[_0x27ab("0x125")]){var u=esmap[_0x27ab("0x80")][_0x27ab("0x126")](a,this);e.update(this[_0x27ab("0x122")],{radius:f/2*u*10,radialSegments:20,startRad:0}),e[_0x27ab("0x127")].trueRadius=f/2*u*10}else e.update(this[_0x27ab("0x122")],{radius:f/2,radialSegments:20,startRad:0}),e[_0x27ab("0x127")][_0x27ab("0x128")]=f/2}else{var d=this[_0x27ab("0xea")].lineWidth/8;this[_0x27ab("0xea")].lineWidthMeter&&(d=this[_0x27ab("0xea")].lineWidth),this[_0x27ab("0x129")]=1,e=new(THREE[_0x27ab("0x12a")]),this.pathPointList=t;var h=!1,g=this[_0x27ab("0xec")][_0x27ab("0x0")]-1;if(this[_0x27ab("0xec")][0].x==this[_0x27ab("0xec")][g].x&&this[_0x27ab("0xec")][0].z==this.points[g].z&&(h=!0),this[_0x27ab("0x122")][_0x27ab("0x123")](this[_0x27ab("0xec")],0,0,this[_0x27ab("0xea")].up,h),this[_0x27ab("0xea")][_0x27ab("0x125")]){var v=esmap[_0x27ab("0x80")].getSpriteScale(a,this);e[_0x27ab("0x12b")](this.pathPointList,{width:d*v*18,side:_0x27ab("0x12c"),arrow:this.style.arrow}),e[_0x27ab("0x127")][_0x27ab("0x128")]=d*v*18}else e.update(this[_0x27ab("0x122")],{width:d,side:"both",arrow:this[_0x27ab("0xea")][_0x27ab("0x12d")]}),e[_0x27ab("0x127")][_0x27ab("0x128")]=d}e[_0x27ab("0x12e")]=1,e.computeBoundingSphere(),2==b.style[_0x27ab("0x11e")]&&(i[_0x27ab("0x11b")]=THREE.DoubleSide),b[_0x27ab("0xea")].seeThrough&&(i[_0x27ab("0x12f")]=!1),b[_0x27ab("0xea")][_0x27ab("0x130")]&&(i.depthWrite=!1,i[_0x27ab("0x131")]=THREE[_0x27ab("0x132")]),this[_0x27ab("0xb3")]=i,this[_0x27ab("0xb1")]=e,this[_0x27ab("0x120")]=this.style[_0x27ab("0x120")],this[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x135")],this[_0x27ab("0x136")]=this[_0x27ab("0x137")][_0x27ab("0xe")](this),this[_0x27ab("0x138")]=this[_0x27ab("0x139")].bind(this),this[_0x27ab("0x13a")]=this[_0x27ab("0x13b")][_0x27ab("0xe")](this),a.on(_0x27ab("0x12b"),this[_0x27ab("0x136")]),a.on(_0x27ab("0x13c"),this[_0x27ab("0x138")]),this[_0x27ab("0xea")][_0x27ab("0xf3")]&&a.on(_0x27ab("0x13b"),this[_0x27ab("0x13a")]),_[_0x27ab("0xea")].fixedWidth&&_[_0x27ab("0x13d")]()}},{key:_0x27ab("0x137"),value:function(x){this.parent&&this[_0x27ab("0xc7")].visible&&!this.style[_0x27ab("0x13e")]&&this.updateLineTextureOffset(x)}},{key:_0x27ab("0x139"),value:function(){this.parent&&this[_0x27ab("0xc7")][_0x27ab("0xf6")]&&this[_0x27ab("0xea")][_0x27ab("0x125")]&&this.updateLineWidth()}},{key:_0x27ab("0xf9"),value:function(x){var a=this[_0x27ab("0xb1")][_0x27ab("0x127")][_0x27ab("0x128")];this.points=x;var b=!1,_=this.points[_0x27ab("0x0")]-1;this[_0x27ab("0xec")][0].x==this[_0x27ab("0xec")][_].x&&this[_0x27ab("0xec")][0].z==this[_0x27ab("0xec")][_].z&&(b=!0),this.style[_0x27ab("0x13f")]==_0x27ab("0x11f")?(this[_0x27ab("0x122")][_0x27ab("0x123")](x,a,0,void 0,!1),this.geometry[_0x27ab("0x12b")](this[_0x27ab("0x122")],{radius:a,radialSegments:20,startRad:0})):(this.pathPointList.set(this[_0x27ab("0xec")],0,0,this[_0x27ab("0xea")].up,b),this[_0x27ab("0xb1")].update(this[_0x27ab("0x122")],{width:a,side:_0x27ab("0x12c"),arrow:this[_0x27ab("0xea")][_0x27ab("0x12d")]})),this[_0x27ab("0xb1")][_0x27ab("0x140")](),this[_0x27ab("0xb1")][_0x27ab("0x141")](0,this.geometry[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],0)}},{key:_0x27ab("0x13d"),value:function(){var x=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],a=esmap[_0x27ab("0x80")][_0x27ab("0x126")](x),b=this[_0x27ab("0xea")][_0x27ab("0x121")]?this.lineWidth:this[_0x27ab("0x120")]/8;"plane"==this[_0x27ab("0xea")][_0x27ab("0x13f")]?this[_0x27ab("0xb1")].update(this[_0x27ab("0x122")],{width:b*a*18,side:_0x27ab("0x12c"),arrow:this[_0x27ab("0xea")][_0x27ab("0x12d")],progress:this[_0x27ab("0xb1")][_0x27ab("0x12e")]}):this[_0x27ab("0xb1")][_0x27ab("0x12b")](this[_0x27ab("0x122")],{radius:b*a*10,radialSegments:20,startRad:0,progress:this[_0x27ab("0xb1")][_0x27ab("0x12e")]})}},{key:"updateLineTextureOffset",value:function(x){if(this[_0x27ab("0xb3")]&&this[_0x27ab("0xb3")][_0x27ab("0x37")]&&!this[_0x27ab("0xea")][_0x27ab("0x13e")]){if(this[_0x27ab("0xea")][_0x27ab("0x142")]?this.material.map[_0x27ab("0x143")].x+=.5*x*this[_0x27ab("0xea")][_0x27ab("0x144")]:this.material[_0x27ab("0x37")][_0x27ab("0x143")].x-=.5*x*this[_0x27ab("0xea")].animateSpeed,this.lineMaterialShader&&this.length>0){this[_0x27ab("0x145")]=this[_0x27ab("0x145")]||0;var a=this.passDistance/this[_0x27ab("0x0")];this[_0x27ab("0x118")][_0x27ab("0x10a")][_0x27ab("0x10b")][_0x27ab("0xf8")]=a}this[_0x27ab("0xb3")][_0x27ab("0x146")]=!0}}},{key:"updateColor",value:function(x){this.material.color=new(THREE[_0x27ab("0x108")])(this[_0x27ab("0x147")](x))}},{key:_0x27ab("0x147"),value:function(x){if(_0x27ab("0x148")==typeof x){for(var a=x[_0x27ab("0x2c")](16);a[_0x27ab("0x0")]<6;)a="0"+a;return"#"+a}return x}},{key:_0x27ab("0x149"),value:function(){var x=(new(THREE[_0x27ab("0x14a")]))[_0x27ab("0x14b")](this[_0x27ab("0xea")].url,(function(x){x.needsUpdate=!0}));return x[_0x27ab("0x14c")]=4,x.repeat.y=1,x[_0x27ab("0x143")].y=0,x[_0x27ab("0x14d")]=THREE[_0x27ab("0x14e")],x[_0x27ab("0x14f")]=THREE[_0x27ab("0x150")],x[_0x27ab("0x151")]=THREE[_0x27ab("0x150")],x}},{key:_0x27ab("0x152"),value:function(x){x[_0x27ab("0x107")]&&_0x27ab("0x148")==typeof x[_0x27ab("0x107")]&&(x[_0x27ab("0x107")]=this[_0x27ab("0x147")](x[_0x27ab("0x107")])),(0,_.default)(this[_0x27ab("0xea")],x),x[_0x27ab("0x153")]&&!x[_0x27ab("0x119")]&&(this[_0x27ab("0xea")][_0x27ab("0x119")]=[2,0]);var a=this[_0x27ab("0x149")]();this[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0xb2")](),this[_0x27ab("0xb3")].map=a,this[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x146")]=!0,this[_0x27ab("0xb3")][_0x27ab("0x146")]=!0}},{key:"visibleFloorNumsChanged",value:function(x){if(x[_0x27ab("0xeb")]==this[_0x27ab("0xeb")]){var a=x.fnums,b=this.fnum,_=!0;_0x27ab("0x148")==typeof b?-1==a.indexOf(b)&&(_=!1):b instanceof Array&&b[_0x27ab("0x1b")]((function(x){-1==a[_0x27ab("0xd1")](x)&&(_=!1)})),this[_0x27ab("0xf6")]=_}}},{key:_0x27ab("0xb2"),value:function(){var x=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];x[_0x27ab("0x61")](_0x27ab("0x12b"),this._onUpdate),x[_0x27ab("0x61")](_0x27ab("0x154"),this[_0x27ab("0x138")]),x.off(_0x27ab("0x13b"),this[_0x27ab("0x13a")]),this[_0x27ab("0xf6")]=!1;var a=this.parent,b=x[_0x27ab("0x155")][_0x27ab("0x156")];for(var _ in b){var e=b[_],t=e[_0x27ab("0xd1")](this);if(t>-1){e[_0x27ab("0x157")](t,1);break}}var i=x.lastSelectLineStore[_0x27ab("0xd1")](this[_0x27ab("0xaf")]);return i>-1&&x.lastSelectLineStore[_0x27ab("0x157")](i,1),a?(a[_0x27ab("0x158")](this),c(this),!0):void 0}}]),a}(THREE[_0x27ab("0x159")]);a[_0x27ab("0xb")]=l},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=s(b(2)),e=s(b(0)),t=s(b(1)),i=s(b(278)),n=s(b(282)),r=b(30);function s(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var o=function(){function x(a){(0,e[_0x27ab("0xb")])(this,x),this[_0x27ab("0x15a")]={},this.id=a.id,this[_0x27ab("0x37")]=a.map,this[_0x27ab("0xaf")]=new(THREE[_0x27ab("0x15b")]),this[_0x27ab("0x15c")]=this.map[_0x27ab("0x15d")][_0x27ab("0x15c")],this.o3d_.datas_=this,this._loadcount=0,this[_0x27ab("0x15e")]=new(esmap[_0x27ab("0x15f")])(this[_0x27ab("0xaf")]),this[_0x27ab("0x160")]=1,this[_0x27ab("0x161")]=new(i[_0x27ab("0xb")])(this),this.lineLevel1=new(THREE[_0x27ab("0x15b")]),this.lineLevel2=new(THREE[_0x27ab("0x15b")]),this[_0x27ab("0x162")]=new(THREE[_0x27ab("0x15b")]),this.o3d_[_0x27ab("0x163")](this.lineLevel1),this[_0x27ab("0xaf")].add(this.lineLevel2),this[_0x27ab("0xaf")][_0x27ab("0x163")](this.lineLevel3),this[_0x27ab("0x164")]=!1;var b=this;b[_0x27ab("0x165")]=!1;var _=b[_0x27ab("0x37")].mapView.zoomLevel;_<16.5||(_<15?this[_0x27ab("0x166")].visible=!1:_<14&&(this[_0x27ab("0x162")][_0x27ab("0xf6")]=!1)),this[_0x27ab("0x37")].on(_0x27ab("0x167"),(function(){var x=b[_0x27ab("0x37")].mapView[_0x27ab("0x168")],a=b[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x16a")];b[_0x27ab("0x16b")]&&(x>=16.5?a[_0x27ab("0xd1")](b.id)>-1&&(b[_0x27ab("0x16b")][2]&&b[_0x27ab("0x16c")](2),b[_0x27ab("0x16b")][3]&&b[_0x27ab("0x16c")](3)):x>=14.5&&a[_0x27ab("0xd1")](b.id)>-1&&b[_0x27ab("0x16b")][2]&&b[_0x27ab("0x16c")](2)),b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x16d")]?(x<15?b[_0x27ab("0x166")].visible&&(b[_0x27ab("0x166")][_0x27ab("0xf6")]=!1):b[_0x27ab("0x166")].visible||(b[_0x27ab("0x166")][_0x27ab("0xf6")]=!0),x<14?b[_0x27ab("0x162")].visible&&(b[_0x27ab("0x162")].visible=!1):b[_0x27ab("0x162")][_0x27ab("0xf6")]||(b[_0x27ab("0x162")][_0x27ab("0xf6")]=!0)):(b[_0x27ab("0x166")][_0x27ab("0xf6")]&&(b.lineLevel2[_0x27ab("0xf6")]=!1),b.lineLevel3[_0x27ab("0xf6")]&&(b[_0x27ab("0x162")].visible=!1))}))}return(0,t.default)(x,[{key:_0x27ab("0x16e"),value:function(){}},{key:_0x27ab("0x16f"),value:function(){this.firstEmitLoaded||(this[_0x27ab("0x165")]=!0,this[_0x27ab("0x37")][_0x27ab("0x170")](this))}},{key:_0x27ab("0x171"),value:function(){}},{key:"hideRoads",value:function(){this[_0x27ab("0x172")].visible=!1}},{key:"showRoads",value:function(){this.lineLevel1[_0x27ab("0xf6")]=!0}},{key:"loadBuildings",value:function(x){var a=this[_0x27ab("0x16b")][x];this[_0x27ab("0x161")][_0x27ab("0x173")].roomModelsCount=a[_0x27ab("0x174")],this[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x176")]+=a[_0x27ab("0x174")],a.lod=x,this[_0x27ab("0x15c")][_0x27ab("0x177")](a,1,this,!0),this[_0x27ab("0x15c")][_0x27ab("0x178")](a,1,this,!0),this[_0x27ab("0x16b")][x]=null}},{key:_0x27ab("0x179"),value:function(){var x=this[_0x27ab("0x17a")];if(x){var a=x[_0x27ab("0x17b")],b=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0x17e")]);this[_0x27ab("0xaf")][_0x27ab("0x163")](b[_0x27ab("0xaf")]),b[_0x27ab("0xaf")][_0x27ab("0x17f")]=new(esmap[_0x27ab("0x180")]);var _=this[_0x27ab("0x37")].id,e=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0x181")]);this[_0x27ab("0xaf")][_0x27ab("0x163")](e[_0x27ab("0xaf")]),e.o3d_[_0x27ab("0x17f")]=new(esmap[_0x27ab("0x180")]);var t=this[_0x27ab("0x37")][_0x27ab("0x15d")],i=this;for(var n in this[_0x27ab("0x37")].on(_0x27ab("0x13c"),(function(){i[_0x27ab("0x37")].mapView.zoomLevel<=10?(b[_0x27ab("0xf6")]&&(b[_0x27ab("0xf6")]=!1),e.visible&&(e[_0x27ab("0xf6")]=!1)):(!b.visible&&(b[_0x27ab("0xf6")]=!0),!b[_0x27ab("0xf6")]&&(e[_0x27ab("0xf6")]=!0))})),a){var r=a[n],s=Math[_0x27ab("0xdd")](r[_0x27ab("0x182")]/100),o=r[_0x27ab("0x182")]%100,c=_0x27ab("0x183");if(1==o?c=_0x27ab("0x184"):2==o?c="right":3==o&&(c=_0x27ab("0x185")),2==s||3==s||4==s){var l=r.SH||2.5,f={oid:r._id,Typeid:r.Tid,name:r.NA||"",fontstyleid:r[_0x27ab("0x186")],Height:r.SH,X:r.X,Y:r.Y,imagealign:c,image:r[_0x27ab("0x187")],w:r.w?r.w:32,h:r.h?r.h:32,ShowLevel:r.SL,texture:null},u=this[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0x188")][f[_0x27ab("0x189")]]||this[_0x27ab("0x37")].mapTheme[_0x27ab("0x188")][0]||this.map[_0x27ab("0xfc")][_0x27ab("0x18a")],d=new(esmap[_0x27ab("0x18b")])(1,f,u,!0),h=new(esmap[_0x27ab("0x18c")])(f,d,this);h.bid=this[_0x27ab("0x37")].id,h[_0x27ab("0x18d")]=this.id,d[_0x27ab("0xf6")]=!0,b[_0x27ab("0xaf")][_0x27ab("0x163")](d),d[_0x27ab("0xae")][_0x27ab("0x18e")][_0x27ab("0x18f")]=0,d.datas_[_0x27ab("0x190")]=1;var g=this[_0x27ab("0x37")].transformCoord({from:this[_0x27ab("0x37")][_0x27ab("0x191")],to:this.map[_0x27ab("0x192")],coord:{x:r.X,y:r.Y}}),v=this[_0x27ab("0x37")][_0x27ab("0x193")](g);d.position[_0x27ab("0x123")](v.x,l,v.z),this.map[_0x27ab("0x155")].addObject(d,_),d[_0x27ab("0x194")][_0x27ab("0x195")](this[_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x197")],d.matrixWorld)}else if(11==s){var p=new esmap.ESMapPoi(1,r,t[_0x27ab("0x198")],this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x6a")],_,1);new esmap.ESFacility(r,p,t,_),p[_0x27ab("0xf6")]=!1,e[_0x27ab("0xaf")][_0x27ab("0x163")](p),p[_0x27ab("0xae")][_0x27ab("0x18e")][_0x27ab("0x18f")]=1;var A=r.SH||3,m=this[_0x27ab("0x37")][_0x27ab("0x199")]({from:this[_0x27ab("0x37")][_0x27ab("0x191")],to:this[_0x27ab("0x37")].coordSystem,coord:{x:r.X,y:r.Y}}),C=this.map[_0x27ab("0x193")](m);p[_0x27ab("0xc3")][_0x27ab("0x123")](C.x,A,C.z),p[_0x27ab("0x19a")]=A,p[_0x27ab("0xef")]=_0x27ab("0x19b"),p[_0x27ab("0xae")][_0x27ab("0x190")]=1,p.datas_[_0x27ab("0x19c")]=r.SL,p.datas_[_0x27ab("0x18d")]=this.id,p[_0x27ab("0x18e")][_0x27ab("0x19c")]=r.SL,p[_0x27ab("0x194")][_0x27ab("0x195")](this[_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x197")],p[_0x27ab("0x19d")]),this[_0x27ab("0x37")].mapPicker.addObject(p,this.id)}}}}},{key:_0x27ab("0x19e"),value:function(x){for(var a=this[_0x27ab("0x172")].children,b=this.map[_0x27ab("0x155")][_0x27ab("0x156")][this.id],_=0;_<a[_0x27ab("0x0")];_++)if(a[_][_0x27ab("0xae")].ID==x){var e=a[_],t=b.indexOf(e);t>-1&&b.splice(t,1),e[_0x27ab("0xb1")][_0x27ab("0xb2")](),e[_0x27ab("0xb3")]=null,this[_0x27ab("0x172")][_0x27ab("0x158")](e)}}},{key:_0x27ab("0x19f"),value:function(){if(!this[_0x27ab("0x164")]){var x=this,a=x[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x1a0")][x.id];if(a){var b=a.Lines;for(var _ in b)x.handleLine(b[_]);this[_0x27ab("0x164")]=!0}}}},{key:"addLayer",value:function(x){this[_0x27ab("0x15e")][_0x27ab("0x1a1")](x)}},{key:"getOrCreateLayerByName",value:function(x,a){return this[_0x27ab("0x15e")][_0x27ab("0x1a2")](x,a)}},{key:"getLayersByTypes",value:function(x,a){return this[_0x27ab("0x15e")][_0x27ab("0x1a3")](x,a)}},{key:"getLayersByNames",value:function(x,a){return this[_0x27ab("0x15e")][_0x27ab("0x1a4")](x,a)}},{key:_0x27ab("0x1a5"),value:function(x){var a=this,b=(new(THREE[_0x27ab("0xe7")])(0,1,0),[]),_=new(THREE[_0x27ab("0x1a6")])({color:255,linewidth:2});for(var e in x){var t=x[e],i=a[_0x27ab("0x37")][_0x27ab("0xfc")].roadStyles[t[_0x27ab("0xea")]];i||(i=a[_0x27ab("0x37")].mapTheme[_0x27ab("0x1a7")][0]);var n=t.outline[_0x27ab("0x1a8")](2,t[_0x27ab("0x1a9")][_0x27ab("0x0")]-2).split(/,/),s=[],o=a[_0x27ab("0x37")][_0x27ab("0x1aa")][_0x27ab("0x28")](","),c={x:1*o[0],y:1*o[1],z:1*o[2]},l={x:0,y:0};if(0!=n.length){for(var f=[],u=-a.map.mapScene[_0x27ab("0x1ab")],d=a.map[_0x27ab("0x15d")][_0x27ab("0x1ac")],h=0;h<n[_0x27ab("0x0")];h++){var g=n[h][_0x27ab("0x28")](" "),v=1*g[2]||0,p=new(THREE[_0x27ab("0xe7")])(-(1*g[0]+l.x+c.x)+u,c.z+1+v,1*g[1]+l.y+c.y-d);p.y=0,p.fnum=1,p[_0x27ab("0xeb")]=0,p.offset=0,s.push(p),f[_0x27ab("0x1")]({x:1*g[0]+l.x,y:1*g[1]+l.y,offset:v}),0==h&&(l.x=1*g[0],l.y=1*g[1])}for(var A=[],m=0;m<s[_0x27ab("0x0")];m++){var C=s[m];A[_0x27ab("0x1")](new THREE.Vector3(C.x,C.z,0),new(THREE[_0x27ab("0xe7")])(C.x,C.z,0))}for(var I=(new(THREE[_0x27ab("0x1ad")])).setFromPoints(A),y=[],E=I.getAttribute(_0x27ab("0xc3"))[_0x27ab("0x1ae")],w=E[_0x27ab("0x0")],T=0;T<=w-3;T+=3)0==T||T==w-3?y[_0x27ab("0x1")](E[T],E[T+1],E[T+2]):y[_0x27ab("0x1")](E[T],E[T+1],E[T+2]-0,E[T],E[T+1],E[T+2]-0);b[_0x27ab("0x1")](I)}}var k=r.BufferGeometryUtils.mergeBufferGeometries(b)[_0x27ab("0x1af")](_0x27ab("0xc3"))[_0x27ab("0x1ae")],S=new THREE.BufferGeometry;S[_0x27ab("0x1b0")](_0x27ab("0xc3"),new THREE.BufferAttribute(k,3)),S.addGroup(0,k/3,0);var M=new THREE.LineSegments(S,[_]);M[_0x27ab("0x1b1")][_0x27ab("0x123")](Math.PI/2,0,0,_0x27ab("0x1b2")),M.renderOrder=100,a[_0x27ab("0x37")][_0x27ab("0x15d")][_0x27ab("0x1b3")].add(M)}},{key:_0x27ab("0x1b4"),value:function(x){var a=(0,_.default)({style:0,points:[],id:0,name:"",rank:10},x),b=this,e=(b.id,a[_0x27ab("0xea")]||0),t=b.map.mapTheme[_0x27ab("0x1a7")][e];t||(t=b[_0x27ab("0x37")].mapTheme[_0x27ab("0x1a7")][0]);for(var i=b[_0x27ab("0x37")],r=i.id,s=b.id,o=[],c=0;c<a.points[_0x27ab("0x0")];c++){var l=a.points[c],f=i[_0x27ab("0x199")]({from:i.DEFAULT_COORDSYSTEM,to:i[_0x27ab("0x192")],coord:{x:l.x,y:l.y}}),u=i[_0x27ab("0x193")](f);u[_0x27ab("0xeb")]=0,u[_0x27ab("0xee")]=1,u.y+=l[_0x27ab("0x143")]||0,o[_0x27ab("0x1")](u)}var d=new n.default(o,{lineWidthMeter:!0,repeat:t[_0x27ab("0x11d")]||0,lineWidth:t[_0x27ab("0x1b5")],noAnimate:0==t.animationspeed,randomOffset:!0,animateSpeed:t[_0x27ab("0x1b6")]/100,offsetHeight:.1*Math[_0x27ab("0x2b")]()+t[_0x27ab("0x1b7")],url:i[_0x27ab("0x33")][_0x27ab("0x1b8")][_0x27ab("0x1b9")]},t.material);return d[_0x27ab("0xc5")]=a[_0x27ab("0xc5")],d[_0x27ab("0xae")]={ID:a.id,nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0x1ba")],name:a[_0x27ab("0xc5")],o3d_:d,roadType:a.rank,points:a[_0x27ab("0xec")],bid:r,tileId:s,bType:1},b[_0x27ab("0x172")].add(d),i[_0x27ab("0x155")][_0x27ab("0x1bb")](d,b.id),d}},{key:_0x27ab("0x1bc"),value:function(x){var a=x.na,b=x[_0x27ab("0x1a9")][_0x27ab("0x1a8")](2,x.outline[_0x27ab("0x0")]-2)[_0x27ab("0x28")](/,/),_={x:0,y:0},e=this[_0x27ab("0x37")].__ro[_0x27ab("0x28")](","),t=1*e[0],i=1*e[1],n=1*e[2];if(0!=b[_0x27ab("0x0")]){for(var r=[],s=0;s<b[_0x27ab("0x0")];s++){var o=b[s][_0x27ab("0x28")](" "),c=1*o[2]||0;r.push({x:1*o[0]+_.x+t,y:1*o[1]+_.y+i,offset:c+n}),0==s&&(_.x=1*o[0],_.y=1*o[1])}this.drawRoad({id:x._id,name:a,rank:x[_0x27ab("0x1bd")],points:r,style:x[_0x27ab("0xea")]||0})}}},{key:"visible",get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xf6")]},set:function(x){this[_0x27ab("0xaf")].visible=x}},{key:_0x27ab("0x1be"),get:function(){for(var x=this[_0x27ab("0x37")].mapScene[_0x27ab("0x1bf")].children,a=this.id,b=0;b<x.length;b++)if(x[b].datas_.id==a)return!0;return!1}}]),x}();a.default=o},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0}),a[_0x27ab("0x1c0")]=function(x){x[_0x27ab("0x1c3")]&&x[_0x27ab("0x1c3")][_0x27ab("0x1c4")](),x.o3d_[_0x27ab("0xc3")].y=x[_0x27ab("0x19a")],x[_0x27ab("0x1c5")]=!1},a[_0x27ab("0x1c1")]=function(x,a){var b=x;a=a||{};var e=x.o3d_,t=b.position.y;b[_0x27ab("0x1c5")]&&!a[_0x27ab("0x1c6")]||(b[_0x27ab("0x1c5")]=!0,a.times=(0,_[_0x27ab("0x11")])(a,_0x27ab("0x1c7"),1),0==a[_0x27ab("0x1c7")]&&(a[_0x27ab("0x1c7")]=Number[_0x27ab("0x1c8")]),a[_0x27ab("0x1c9")]=(0,_[_0x27ab("0x11")])(a,_0x27ab("0x1c9"),0),a.height=(0,_[_0x27ab("0x11")])(a,_0x27ab("0x1b7"),18),a[_0x27ab("0x1ca")]=(0,_[_0x27ab("0x11")])(a,_0x27ab("0x1cb"),_0x27ab("0x1ca"),1),b[_0x27ab("0x1c3")]&&b[_0x27ab("0x1c3")][_0x27ab("0x1c4")](),b._jumpID1=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(e.position).to({y:t+a[_0x27ab("0x1b7")]},.2*a[_0x27ab("0x1ca")]*1e3)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d1")])[_0x27ab("0x1d2")]((function(){})),b[_0x27ab("0x1d3")]=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(e[_0x27ab("0xc3")]).to({y:t},.8*a[_0x27ab("0x1ca")]*1e3).easing(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")].Bounce[_0x27ab("0x1d4")]).onComplete((function(){a.times--,a.times>0?b[_0x27ab("0x1c5")]&&(a[_0x27ab("0x1c6")]=!0,b[_0x27ab("0x1c3")][_0x27ab("0x1c9")](1e3*a[_0x27ab("0x1c9")])[_0x27ab("0x1d5")]()):(b[_0x27ab("0x1c5")]=!1,b[_0x27ab("0x1c3")][_0x27ab("0x1c4")](),a.callback&&a[_0x27ab("0x1d6")]())})),b[_0x27ab("0x1c3")][_0x27ab("0x1d7")](b[_0x27ab("0x1d3")])[_0x27ab("0x1d5")]());return a},a[_0x27ab("0x1c2")]=function(x){var a=x[_0x27ab("0x1d8")],b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],_=(0,e.getTileFromMec)(a.x,a.y,15),t=[_.x+"_"+_.y],i=(0,e[_0x27ab("0xa9")])(_.x,_.y,b[_0x27ab("0x33")].worldScale,!0),n={x:(i[_0x27ab("0xb5")]-i[_0x27ab("0xb9")])/2+i[_0x27ab("0xb9")],y:(i.maxy-i.miny)/2+i[_0x27ab("0xba")]},r=b[_0x27ab("0x199")]({from:b[_0x27ab("0x192")],to:_0x27ab("0x1d9"),coord:{x:n.x,y:n.y}});n=r,a.x>n.x&&a.y>n.y?(t[_0x27ab("0x1")](_.x+"_"+(_.y+1)),t[_0x27ab("0x1")](_.x+1+"_"+(_.y+1)),t[_0x27ab("0x1")](_.x+1+"_"+_.y)):a.x>n.x&&a.y<n.y?(t[_0x27ab("0x1")](_.x+1+"_"+_.y),t[_0x27ab("0x1")](_.x+1+"_"+(_.y-1)),t[_0x27ab("0x1")](_.x+"_"+(_.y-1))):a.x<n.x&&a.y>n.y?(t.push(_.x-1+"_"+_.y),t[_0x27ab("0x1")](_.x-1+"_"+(_.y+1)),t.push(_.x+"_"+(_.y+1))):a.x<n.x&&a.y<n.y&&(t[_0x27ab("0x1")](_.x+"_"+(_.y-1)),t.push(_.x-1+"_"+(_.y-1)),t[_0x27ab("0x1")](_.x-1+"_"+_.y));return t},a[_0x27ab("0xa8")]=function x(a){var b=!(arguments[_0x27ab("0x0")]>1&&void 0!==arguments[1])||arguments[1];if(a){if(a[_0x27ab("0xae")]&&a[_0x27ab("0xae")].o3d_&&(a.datas_.o3d_=void 0,a[_0x27ab("0xae")]=void 0),a.children)for(var _=0;_<a[_0x27ab("0xb0")][_0x27ab("0x0")];_++)x(a[_0x27ab("0xb0")][_],b);if(a[_0x27ab("0xb1")]&&(a.geometry[_0x27ab("0xb2")](),a.geometry=null),a[_0x27ab("0xb3")])if(a[_0x27ab("0xb3")]instanceof Array)for(var e=0;e<a[_0x27ab("0xb3")][_0x27ab("0x0")];e++){var t=a[_0x27ab("0xb3")][e];t&&(b&&t[_0x27ab("0x37")]&&(t[_0x27ab("0x37")][_0x27ab("0xb2")](),t[_0x27ab("0x37")]=null),t.dispose(),t=null)}else b&&a[_0x27ab("0xb3")][_0x27ab("0x37")]&&(a[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0xb2")](),a[_0x27ab("0xb3")].map=null),a[_0x27ab("0xb3")][_0x27ab("0xb2")](),a[_0x27ab("0xb3")]=null}a=null};var _=b(11),e=b(33)},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0xd6")]=function(x,a){return Math[_0x27ab("0xdc")]((x.x-a.x)*(x.x-a.x)+(x.y-a.y)*(x.y-a.y))},a[_0x27ab("0xd7")]=function(x,a,b,t){var i=a.x,n=a.y,r=b.x,s=b.y,o=x.x,c=x.y,l=r-i,f=s-n,u=Math[_0x27ab("0xdc")](l*l+f*f),d=o-i,h=c-n,g=Math[_0x27ab("0xdc")](d*d+h*h);if(e(u))return e(g)?(t.x=a.x,t.y=a.y,0):(t.x=a.x,t.y=a.y,g);var v=l/u,p=f/u,A=v*d+p*h;if(m=A,!(m>_))return t.x=a.x,t.y=a.y,g;var m;if(E=A-u,!(E<-1e-5)){var C=o-r,I=c-s,y=Math.sqrt(C*C+I*I);return t.x=b.x,t.y=b.y,y}var E;var w=i+A*v,T=n+A*p,k=o-w,S=c-T,M=Math[_0x27ab("0xdc")](k*k+S*S);return t.x=w,t.y=T,M},a.toDecimal5=function(x){var a=parseFloat(x);if(isNaN(a))return;return a=Math[_0x27ab("0x1da")](1e5*x)/1e5};var _=1e-5;function e(x){return x<_&&x>-1e-5}},,,,,,,,,,,,,,,,,,,,,,,,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=c(b(43)),e=c(b(4)),t=c(b(0)),i=c(b(1)),n=c(b(5)),r=c(b(6)),s=b(11),o=b(130);function c(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}a.default=function(x){return function(x){function a(){return(0,t[_0x27ab("0xb")])(this,a),(0,n.default)(this,(a[_0x27ab("0x1db")]||(0,e[_0x27ab("0xb")])(a))[_0x27ab("0x5")](this,arguments))}return(0,r[_0x27ab("0xb")])(a,x),(0,i[_0x27ab("0xb")])(a,[{key:"on",value:function(x,a,b){if(!x||!a)return this;if(!(0,s[_0x27ab("0x1dc")])(x))return this[_0x27ab("0x1dd")]("on",x,a);this._eventMap||(this._eventMap={});var _=x.toLowerCase().split(" "),e=void 0;b||(b=this);for(var t=void 0,i=0,n=_[_0x27ab("0x0")];i<n;i++){e=_[i],(t=this._eventMap[e])||(t=[],this[_0x27ab("0x1de")][e]=t);var r=t.length;if(r>0)for(var o=0;o<r;o++)if(a===t[o].handler&&t[o][_0x27ab("0x1df")]===b)return this;t[_0x27ab("0x1")]({handler:a,context:b})}return this}},{key:_0x27ab("0x2f"),value:function(){return this.on[_0x27ab("0x5")](this,arguments)}},{key:_0x27ab("0x1e0"),value:function(x,a,b){if(!(0,s[_0x27ab("0x1dc")])(x)){var _={};for(var e in x)x[_0x27ab("0xc")](e)&&(_[e]=this[_0x27ab("0x1e1")](e,x[e],b));return this[_0x27ab("0x1dd")]("on",_)}for(var t=x.split(" "),i=0,n=t.length;i<n;i++)this.on(t[i],this[_0x27ab("0x1e1")](t[i],a,b));return this}},{key:"off",value:function(x,a,b){if(!x||!this[_0x27ab("0x1de")]||!a)return this;if(!(0,s[_0x27ab("0x1dc")])(x))return this[_0x27ab("0x1dd")](_0x27ab("0x61"),x,a);var _=x[_0x27ab("0x28")](" "),e=void 0,t=void 0,i=void 0;b||(b=this);for(var n=0,r=_[_0x27ab("0x0")];n<r;n++){if(e=_[n][_0x27ab("0x1e2")](),i=_0x27ab("0x1e3")+e,!(t=this[_0x27ab("0x1de")][e]))return this;for(var o=t[_0x27ab("0x0")]-1;o>=0;o--){var c=t[o];a!==c[_0x27ab("0x1e4")]&&a!==c.handler[i]||c[_0x27ab("0x1df")]!==b||(delete c[_0x27ab("0x1e4")][i],t.splice(o,1))}}return this}},{key:"removeEventListener",value:function(){return this.off.apply(this,arguments)}},{key:_0x27ab("0x1e5"),value:function(x,a,b){if(!this[_0x27ab("0x1de")]||!(0,s[_0x27ab("0x1dc")])(x))return 0;var _=this[_0x27ab("0x1de")][x[_0x27ab("0x1e2")]()];if(!_||!_.length)return 0;for(var e=0,t=0,i=_[_0x27ab("0x0")];t<i;t++)if(a){if(a===_[t][_0x27ab("0x1e4")]&&((0,s[_0x27ab("0x1e6")])(b)||_[t][_0x27ab("0x1df")]===b))return 1}else e++;return e}},{key:"copyEventListeners",value:function(x){var a=x._eventMap;if(!a)return this;var b=void 0;for(var _ in a)for(var e=0,t=(b=a[_]).length;e<t;e++)this.on(_,b[e][_0x27ab("0x1e4")],b[e][_0x27ab("0x1df")]);return this}},{key:_0x27ab("0x1e7"),value:function(){return this._eventParent?this[_0x27ab("0x1e8")][_0x27ab("0x1e7")][_0x27ab("0x5")](this[_0x27ab("0x1e8")],arguments):this[_0x27ab("0x1e9")][_0x27ab("0x5")](this,arguments)}},{key:"_wrapOnceHandler",value:function(x,a,b){var _=this,e="Z__"+x,t=!1,i=function n(){t||(delete i[e],t=!0,b?a.apply(b,arguments):a[_0x27ab("0x5")](this,arguments),_[_0x27ab("0x61")](x,n,this))};return i[e]=a,i}},{key:"_switch",value:function(x,a,b){for(var _ in a)a[_0x27ab("0xc")](_)&&this[x](_,a[_],b);return this}},{key:"_clearListeners",value:function(x){this[_0x27ab("0x1de")]&&(0,s[_0x27ab("0x1dc")])(x)&&(this[_0x27ab("0x1de")][x[_0x27ab("0x1e2")]()]&&(this._eventMap[x]=null))}},{key:_0x27ab("0x1ea"),value:function(){this._eventMap=null}},{key:_0x27ab("0x1eb"),value:function(x){return this[_0x27ab("0x1e8")]=x,this}},{key:"_fire",value:function(x,a){if(!this[_0x27ab("0x1de")])return this;var b=this[_0x27ab("0x1de")][x[_0x27ab("0x1e2")]()];if(!b)return this;a||(a={});var e=Array[_0x27ab("0x2")][_0x27ab("0xf")][_0x27ab("0x3")](arguments);e=e[_0x27ab("0xf")](1);for(var t=b[_0x27ab("0xf")](0),i=void 0,n=void 0,r=0,s=t[_0x27ab("0x0")];r<s;r++)if(t[r]){var c,l;if(n=!0,a,i=t[r][_0x27ab("0x1df")])n=(c=t[r][_0x27ab("0x1e4")])[_0x27ab("0x3")].apply(c,[i][_0x27ab("0x1ec")]((0,_[_0x27ab("0xb")])(e)));else n=(l=t[r])[_0x27ab("0x1e4")][_0x27ab("0x5")](l,(0,_[_0x27ab("0xb")])(e));!1===n&&a.domEvent&&(0,o.stopPropagation)(a[_0x27ab("0x1ed")])}return this}}]),a}(x)}},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0x1ee")]=a[_0x27ab("0x1ef")]=void 0;var _=r(b(0)),e=r(b(1)),t=b(275),i=b(276),n=b(65);function r(x){return x&&x.__esModule?x:{default:x}}var s={dataUrlPrefix:_0x27ab("0x1f0"),themeUrlPrefix:null},o=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x34")]=esmap[_0x27ab("0x39")][_0x27ab("0x1f1")],this[_0x27ab("0x3f")]=s[_0x27ab("0x1f2")],this.mapThemeSrc=s.themeUrlPrefix,this[_0x27ab("0x1f3")]=[10,20],this.scalerWidth=60,this[_0x27ab("0x1f4")]=_0x27ab("0x1f5"),this.scalerColor=_0x27ab("0x1f6"),this.dynamicLoadModels=!1,this[_0x27ab("0x1f7")]=_0x27ab("0x1d9"),this.version=1,this[_0x27ab("0x1f8")]=5,this[_0x27ab("0x1f9")]=!0,this.mergeModels=!0,this[_0x27ab("0x1fa")]=!0,this[_0x27ab("0x1fb")]=!0,this[_0x27ab("0x1fc")]=document[_0x27ab("0x23")],this[_0x27ab("0xed")]=null,this.showAxes=!0,this[_0x27ab("0x1fd")]=20,this[_0x27ab("0x1fe")]="3D",this[_0x27ab("0x1ff")]=!1,this[_0x27ab("0x200")]=null,this.compassBackgroundUrl=null,this[_0x27ab("0x201")]=null,this[_0x27ab("0x202")]=esmap[_0x27ab("0x203")][_0x27ab("0x204")],this[_0x27ab("0x205")]=2048,this[_0x27ab("0x206")]=.6,this[_0x27ab("0x207")]=45,this[_0x27ab("0x208")]=45,this[_0x27ab("0x209")]=null,this[_0x27ab("0x20a")]=.04,this[_0x27ab("0x20b")]=.05,this[_0x27ab("0x20c")]=null,this[_0x27ab("0x20d")]=null,this[_0x27ab("0x20e")]=!1,this[_0x27ab("0x20f")]=!0,this[_0x27ab("0x210")]=.3,this[_0x27ab("0x211")]=!0,this[_0x27ab("0x212")]=.3,this[_0x27ab("0x213")]=[10,20],this[_0x27ab("0x214")]=64,this[_0x27ab("0x215")]=0,this[_0x27ab("0x216")]=!1,this[_0x27ab("0x217")]=_0x27ab("0x218"),this[_0x27ab("0x219")]=_0x27ab("0xb"),this.minScaleLevel=0,this[_0x27ab("0x21a")]=null,this[_0x27ab("0x21b")]=null,this[_0x27ab("0x21c")]=!0,this[_0x27ab("0x21d")]=!0,this[_0x27ab("0x168")]=null,this[_0x27ab("0x6a")]=null,this.showBase=0,this[_0x27ab("0x21e")]=1,this[_0x27ab("0x21f")]=1,this.loadLabel=1,this[_0x27ab("0x220")]=!0,this[_0x27ab("0x221")]=!0,this[_0x27ab("0x222")]=!0,this[_0x27ab("0x223")]=!1,this[_0x27ab("0x224")]=!1,this[_0x27ab("0x62")]=!0,this[_0x27ab("0x225")]=null,this.mapAudioSrc="./",this[_0x27ab("0x226")]=!0,this[_0x27ab("0x227")]=!1,this[_0x27ab("0x228")]="normal",this.useCache=!0,this[_0x27ab("0x229")]=!1,this[_0x27ab("0x71")]=0,this[_0x27ab("0x22a")]=null,this.maxZoomLevel=null,this[_0x27ab("0x22b")]=0,this.rightClick=!1;var b=esmap.ESMapUtil[_0x27ab("0x22c")]()[_0x27ab("0x22d")];this.scalerWidth=b?this.scalerWidth:"50",this.isRandom&&(THREE[_0x27ab("0x62")]=!0),a[_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x1f1")]?this[_0x27ab("0x22e")](a):(this.initCityOptions(a),this[_0x27ab("0x22f")]>=5&&(this[_0x27ab("0x22f")]=5))}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x22e"),value:function(x){(0,n[_0x27ab("0xda")])(this,i[_0x27ab("0x230")]),(0,n[_0x27ab("0xda")])(this,x)}},{key:"initCityOptions",value:function(x){(0,n[_0x27ab("0xda")])(this,t[_0x27ab("0x231")]),(0,n[_0x27ab("0xda")])(this,x)}}]),x}();a[_0x27ab("0x1ef")]=o,a[_0x27ab("0x1ee")]=function(x){var a=(0,n[_0x27ab("0xda")])({},i[_0x27ab("0x230")]);for(var b in a)x[_0x27ab("0xc")](b)&&void 0!==x[b]&&(a[b]=x[b]);return a}},,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _,e=h(b(12)),t=h(b(13)),i=h(b(8)),n=h(b(2)),r=h(b(4)),s=h(b(0)),o=h(b(1)),c=h(b(5)),l=h(b(6)),f=h(b(133)),u=b(69),d=b(11);function h(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var g=null,v=null,p=function(x){function a(x){(0,s[_0x27ab("0xb")])(this,a);var b=new THREE.Group,_=(0,c[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,r[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,esmap[_0x27ab("0xf1")][_0x27ab("0x232")],{},b));em[_0x27ab("0x233")][_0x27ab("0x234")](_),_[_0x27ab("0x37")]=_[_0x27ab("0x15d")][_0x27ab("0x37")];var e=_[_0x27ab("0x37")].mode==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]?20:12;return(0,n.default)(_,{diableClickEffect:!1,ID:Math[_0x27ab("0x2b")]()[_0x27ab("0x2c")](36)[_0x27ab("0xf")](-8),name:_0x27ab("0x235"),model:"",alias:_0x27ab("0x236"),bid:0,top:1,gid:0,mapId:null,animations:[],callbackparams:null,fnum:null,url:null,isChildNode:!1,showLevel:e,configs:!1,clickAnimation:!0,status:0,callback:null},x),_[_0x27ab("0x237")]=!1,_[_0x27ab("0x238")]=0,_._clockMovePath=new(THREE[_0x27ab("0x239")]),_[_0x27ab("0x23a")]=[],_[_0x27ab("0x23b")]=0,_._directionVolume=0,_[_0x27ab("0x23c")]=0,_[_0x27ab("0x23d")]=null,_[_0x27ab("0x23e")]=!1,_[_0x27ab("0x23f")]=_[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x240")],_}return(0,l.default)(a,x),(0,o[_0x27ab("0xb")])(a,[{key:"addMarker",value:function(x){this[_0x27ab("0xaf")].add(x[_0x27ab("0xaf")]),x[_0x27ab("0xaf")][_0x27ab("0xc3")].x=0,x.o3d_.position.z=0,x[_0x27ab("0xaf")].userData[_0x27ab("0x241")]=this[_0x27ab("0xaf")].position.clone(),this.markers[_0x27ab("0x1")](x)}},{key:_0x27ab("0x31"),value:function(){this[_0x27ab("0x15d")][_0x27ab("0x37")].mode==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]?this[_0x27ab("0x15d")].map[_0x27ab("0x168")]<this.showLevel&&(this[_0x27ab("0x242")].visible=!1):this[_0x27ab("0x15d")][_0x27ab("0x37")][_0x27ab("0x243")]>this[_0x27ab("0x244")]&&(this[_0x27ab("0x242")][_0x27ab("0xf6")]=!1);this.o3d_[_0x27ab("0xc5")]=this[_0x27ab("0x245")]?"":_0x27ab("0xc6"),this[_0x27ab("0xaf")].userData[_0x27ab("0x246")]={},this[_0x27ab("0xaf")].userData[_0x27ab("0x247")]=[],this[_0x27ab("0xaf")][_0x27ab("0x127")].mixer=null,this.o3d_[_0x27ab("0x127")][_0x27ab("0x70")]=_0x27ab("0x248"),this.o3d_[_0x27ab("0x133")]=esmap[_0x27ab("0x134")].model3D,this[_0x27ab("0x242")][_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x249")],this[_0x27ab("0xaf")][_0x27ab("0x163")](this[_0x27ab("0x242")]),this[_0x27ab("0xaf")].scaleRate=this[_0x27ab("0x24a")];var x=this[_0x27ab("0x24b")];this[_0x27ab("0xaf")][_0x27ab("0x24b")][_0x27ab("0x123")](x.x,x.y,x.z);var a=this[_0x27ab("0x1b1")]||new(THREE[_0x27ab("0xe7")])(0,0,0),b=(new(THREE[_0x27ab("0x24c")]))[_0x27ab("0x24d")](new THREE.Euler(a.x,a.y,a.z,"ZXY"));this[_0x27ab("0xaf")].quaternion[_0x27ab("0x123")](b.x,b.y,b.z,b.w);var _=this[_0x27ab("0xc3")];this.o3d_[_0x27ab("0xc3")].x=_.x,this[_0x27ab("0xaf")].position.y=_.y,this[_0x27ab("0xaf")][_0x27ab("0xc3")].z=_.z,this[_0x27ab("0x24e")]=this[_0x27ab("0x37")][_0x27ab("0x24f")](this[_0x27ab("0xaf")][_0x27ab("0xc3")]),this[_0x27ab("0x250")][_0x27ab("0x163")](this[_0x27ab("0xaf")]),this[_0x27ab("0xdd")]&&(this.fnum=this.floor[_0x27ab("0x251")]),this[_0x27ab("0x252")](),this[_0x27ab("0x1d6")]&&this[_0x27ab("0x1d6")](this.callbackparams?this[_0x27ab("0x253")]:this),this.created=!0}},{key:_0x27ab("0x254"),value:function(x){this[_0x27ab("0x15d")][_0x27ab("0x37")][_0x27ab("0x34")]==esmap[_0x27ab("0x39")].City?x<this[_0x27ab("0x244")]?this[_0x27ab("0x242")][_0x27ab("0xf6")]&&(this[_0x27ab("0x242")].visible=!1):this.child[_0x27ab("0xf6")]||(this.child[_0x27ab("0xf6")]=!0):(x=this[_0x27ab("0x15d")][_0x27ab("0x37")].scaleLevel)>=this[_0x27ab("0x244")]?this[_0x27ab("0x242")].visible&&(this[_0x27ab("0x242")][_0x27ab("0xf6")]=!1):this[_0x27ab("0x242")].visible||(this.child[_0x27ab("0xf6")]=!0)}},{key:"getAnchorPosition",value:function(x){var a=this[_0x27ab("0x37")],b=_0x27ab("0x255")+x,_=this[_0x27ab("0x242")][_0x27ab("0x256")](b);if(_){_0x27ab("0x259");var e=_[_0x27ab("0x25a")](new(THREE[_0x27ab("0xe7")]));return a.coordThreeToMap(e)}console[_0x27ab("0x257")](_0x27ab("0x258")+b)}},{key:"bindEvents",value:function(){var x=this,a=x[_0x27ab("0x15d")].map,b=x[_0x27ab("0x137")][_0x27ab("0xe")](x);a.on("update",b);var _=x[_0x27ab("0x254")][_0x27ab("0xe")](this);a.on(_0x27ab("0x13c"),_),this[_0x27ab("0xaf")].addEventListener(_0x27ab("0x25b"),(function(){for(;x[_0x27ab("0x23a")][_0x27ab("0x0")]>0;){var e=x.markers[_0x27ab("0x4")]();e._bindupates&&(a[_0x27ab("0x61")](_0x27ab("0x12b"),e[_0x27ab("0x25c")]),e[_0x27ab("0xb2")]())}a[_0x27ab("0x61")](_0x27ab("0x12b"),b),a[_0x27ab("0x61")](_0x27ab("0x13c"),_),x[_0x27ab("0x25d")](),x[_0x27ab("0x25e")](_0x27ab("0x25b"))}))}},{key:_0x27ab("0x137"),value:function(){var x=this,a=x[_0x27ab("0x15d")][_0x27ab("0x37")];if(x[_0x27ab("0xaf")]){var b=x.o3d_[_0x27ab("0x127")][_0x27ab("0x25f")],_=x[_0x27ab("0xaf")].userData[_0x27ab("0x260")];if(b&&(x.o3d_[_0x27ab("0x261")].slerp(b,.08),_)){var e=new(THREE[_0x27ab("0xe7")])(1,0,0),t=e[_0x27ab("0xe2")](),i=x[_0x27ab("0xaf")].matrix[_0x27ab("0xe2")]();i[_0x27ab("0x262")](new(THREE[_0x27ab("0xe7")])),t[_0x27ab("0x263")](i);var n=(n=t[_0x27ab("0xe2")]()[_0x27ab("0x264")](e)).y<0?-1:1,r=e[_0x27ab("0x265")](t),s=THREE.Math[_0x27ab("0x266")](r*n);a[_0x27ab("0x155")][_0x27ab("0x267")]?x[_0x27ab("0x268")]=!0:x[_0x27ab("0x268")]?(s<0&&(s=360+s),a[_0x27ab("0x269")]>s?a[_0x27ab("0x269")]-=1:a[_0x27ab("0x269")]+=1,Math.abs(a[_0x27ab("0x269")]-s)<=3&&(x.needRotate=!1)):a[_0x27ab("0x269")]=s}x.updateScreenSize()}}},{key:_0x27ab("0x26a"),value:function(x){var a=x;if(!this.o3d_.userData.movePathing){var b=this,_=(0,d[_0x27ab("0x11")])(a,_0x27ab("0x1cb"),_0x27ab("0x1ca"),1),e=esmap[_0x27ab("0x32")][_0x27ab("0xd3")].mapScene;b._isAnimating=!0,b[_0x27ab("0x26b")]&&b[_0x27ab("0x26b")].stop();var t=this,i=e[_0x27ab("0x37")],n=t[_0x27ab("0xaf")][_0x27ab("0xc3")][_0x27ab("0xe2")](),r=a[_0x27ab("0xc")]("angle")?a[_0x27ab("0x26c")]:0,s=a[_0x27ab("0xc")]("z")?a.z:t.o3d_[_0x27ab("0xc3")].y,o=a[_0x27ab("0xc")](_0x27ab("0x26d"))?a.threshold:null,c=i[_0x27ab("0x26e")](n,!0);a[_0x27ab("0xc")]("x")||(a.x=c.x),a[_0x27ab("0xc")]("y")||(a.y=c.y);var l=i[_0x27ab("0x26f")]({x:a.x,y:a.y,z:s},!0),f=esmap.ESMapUtil[_0x27ab("0x270")]({x:n.x,y:n.z},{x:l.x,y:l.z}),u=!1;if(a.hasOwnProperty("orientToPath")&&(u=a[_0x27ab("0x271")]),u&&null!=o&&null!=this.o3d_[_0x27ab("0x127")][_0x27ab("0x272")])if(l.distanceTo(n)<=o[_0x27ab("0x273")]){var h=Math[_0x27ab("0x274")](f-this[_0x27ab("0xaf")].userData.lastWalkAngle);h>360&&(h-=360),h>=o[_0x27ab("0x275")][0]&&h<=o[_0x27ab("0x275")][1]||h>=o.backward[0]&&h<=o[_0x27ab("0x276")][1]&&(r=180)}if(null==this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x272")]||u){var g=f+r;this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x272")]=g>360?g-360:g}if(u){var v=new(THREE[_0x27ab("0x277")]);if(n.x!=l.x||n.z!=l.z){v[_0x27ab("0x278")](l,n,this[_0x27ab("0xaf")].up),v[_0x27ab("0x279")]((new(THREE[_0x27ab("0x277")])).makeRotationFromEuler(new(THREE[_0x27ab("0x27a")])(0,THREE.Math[_0x27ab("0x27b")](r),0)));var p=(new THREE.Quaternion)[_0x27ab("0x27c")](v);t[_0x27ab("0xaf")].userData.lastRotateAction&&t.o3d_[_0x27ab("0x127")].lastRotateAction.stop();var A=(new THREE.Quaternion)[_0x27ab("0x27d")](t.o3d_[_0x27ab("0x261")]),m=new(THREE[_0x27ab("0x24c")]),C={value:0};t[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x27e")]=new(esmap[_0x27ab("0x1cc")].Tween)(C).to({value:1},500)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x27f")].Out)[_0x27ab("0x137")]((function(x,a){THREE[_0x27ab("0x24c")][_0x27ab("0x280")](A,p,m,C[_0x27ab("0xf8")]),t[_0x27ab("0xaf")][_0x27ab("0x261")][_0x27ab("0x123")](m.x,m.y,m.z,m.w)}))[_0x27ab("0x1d2")]((function(){}))[_0x27ab("0x1d5")]()}}b._moveToID=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(this.o3d_[_0x27ab("0xc3")]).to(l,1e3*_).easing(esmap.TWEEN[_0x27ab("0x1cf")][_0x27ab("0x281")].None)[_0x27ab("0x137")]((function(x,b){if(a[_0x27ab("0x282")]){var _=i[_0x27ab("0x24f")](x);a[_0x27ab("0x282")]({position:{x:_.x,y:_.y},progress:b,angle:f})}}))[_0x27ab("0x1d2")]((function(){t[_0x27ab("0x1c5")]=!1,a[_0x27ab("0x1d6")]&&a.callback(t)})).start()}}},{key:_0x27ab("0x163"),value:function(x){this[_0x27ab("0xaf")][_0x27ab("0x163")](x)}},{key:_0x27ab("0x283"),value:function(x){this.o3d_[_0x27ab("0x127")][_0x27ab("0x284")]||(0,u[_0x27ab("0x1c1")])(this,x)}},{key:_0x27ab("0x285"),value:function(){(0,u[_0x27ab("0x1c0")])(this)}},{key:_0x27ab("0x286"),value:function(){}},{key:_0x27ab("0x287"),value:function(){}},{key:"updateScreenSize",value:function(){}},{key:_0x27ab("0x288"),value:function(){var x=this[_0x27ab("0xaf")];x[_0x27ab("0x127")][_0x27ab("0x289")]&&(x[_0x27ab("0x24b")][_0x27ab("0x27d")](x[_0x27ab("0x127")][_0x27ab("0x289")]),x[_0x27ab("0x127")].originalScale=null)}},{key:"show",value:function(){this[_0x27ab("0xf6")]=!0}},{key:_0x27ab("0x28a"),value:function(){this.visible=!1}},{key:_0x27ab("0x28b"),value:function(x){var a=this.o3d_;a[_0x27ab("0x127")][_0x27ab("0x289")]||(a.userData[_0x27ab("0x289")]=a.scale[_0x27ab("0xe2")]()),a[_0x27ab("0x24b")][_0x27ab("0x28c")](x)}},{key:_0x27ab("0x28d"),value:function(x){var a=this[_0x27ab("0xaf")];isNaN(x)||(x={angle:x});var b=(0,n.default)({time:1e3,angle:0,onComplete:null},x),_={x:0,y:0,z:0};b[_0x27ab("0x26c")]instanceof Object?(0,n.default)(_,b[_0x27ab("0x26c")]):_.z=1*b[_0x27ab("0x26c")];var e=(new(THREE[_0x27ab("0x24c")]))[_0x27ab("0x24d")](new(THREE[_0x27ab("0x27a")])(THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](_.x),THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](_.z),THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](_.y),_0x27ab("0x28f"))),t={value:0},i=(new(THREE[_0x27ab("0x24c")])).copy(a[_0x27ab("0x261")]),r=new(THREE[_0x27ab("0x24c")]);a.userData[_0x27ab("0x290")]&&a.userData[_0x27ab("0x290")].stop();var s=new(esmap.TWEEN[_0x27ab("0x1cd")])(t).to({value:1},b[_0x27ab("0x1cb")])[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x27f")][_0x27ab("0x1d4")])[_0x27ab("0x137")]((function(x){THREE.Quaternion.slerp(i,e,r,t.value),a[_0x27ab("0x261")].set(r.x,r.y,r.z,r.w)})).onComplete(b[_0x27ab("0x1d2")]).start();a[_0x27ab("0x127")].rotateAnimate=s}},{key:"unLockView",value:function(){this[_0x27ab("0x291")]=!1,map[_0x27ab("0x292")][_0x27ab("0x293")]=!0,this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x260")]=!1}},{key:_0x27ab("0x294"),value:function(x){var a=this;x=x||{};var b=esmap.ESMap[_0x27ab("0xd3")];b.controls[_0x27ab("0x295")][_0x27ab("0x27d")](a[_0x27ab("0xaf")][_0x27ab("0x25a")](new(THREE[_0x27ab("0xe7")]))),b[_0x27ab("0x296")][_0x27ab("0x297")](b[_0x27ab("0x298")][1]);var e=null!=x[_0x27ab("0x299")],t=!1,i=!1,n=!1,r=!1;a[_0x27ab("0x291")]=!0,a[_0x27ab("0xaf")][_0x27ab("0x127")].needRotateCamera=e;b[_0x27ab("0x292")][_0x27ab("0x293")]=!1;var s=a[_0x27ab("0xaf")][_0x27ab("0xc3")].y;a.lockViewInited||(document.addEventListener(_0x27ab("0x29b"),(function(x){switch(x.keyCode){case 38:case 87:t=!0;break;case 37:case 65:i=!0;break;case 40:case 83:r=!0;break;case 39:case 68:n=!0}}),!1),document[_0x27ab("0x2f")]("keyup",(function(x){switch(x[_0x27ab("0x29a")]){case 38:case 87:t=!1;break;case 37:case 65:i=!1;break;case 40:case 83:r=!1;break;case 39:case 68:n=!1}}),!1),a.lockViewInited=!0,b.on(_0x27ab("0x12b"),(function(){if(a[_0x27ab("0x291")])if(t||i||n||r){var x=b[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0xe2")]();x.y=s,b[_0x27ab("0x292")][_0x27ab("0x293")]=!0;var e=0;i?e=90:n?e=-90:r&&(e=180),!a[_0x27ab("0x29c")]&&a.playAnimation({name:"walk"});var o=b[_0x27ab("0x29d")][_0x27ab("0xc3")].clone();o.y=s,_||(_=setTimeout((function(){a.mapScene[_0x27ab("0x37")][_0x27ab("0x29e")]=!0,a[_0x27ab("0x161")].queueRanked=!1,a[_0x27ab("0x161")][_0x27ab("0x29f")]=!1,window.clearTimeout(_),_=null}),800)),a.o3d_[_0x27ab("0xc3")][_0x27ab("0x27d")](x);var c=new(THREE[_0x27ab("0x277")]);c.lookAt(x,o,a[_0x27ab("0xaf")].up),c[_0x27ab("0x279")]((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x2a0")](new THREE.Euler(0,THREE[_0x27ab("0x28e")].degToRad(e),0))),a[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x25f")]=(new THREE.Quaternion)[_0x27ab("0x27c")](c)}else b.gestureController[_0x27ab("0x293")]&&(b[_0x27ab("0x292")][_0x27ab("0x293")]=!1)})))}},{key:"restoreAlpha",value:function(x){x=x||1,this[_0x27ab("0xaf")][_0x27ab("0x2a1")]((function(x){x[_0x27ab("0xb3")]&&x.material[_0x27ab("0x127")][_0x27ab("0xc")](_0x27ab("0x2a2"))&&(x[_0x27ab("0xb3")][_0x27ab("0x102")]=x[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0x2a2")],x[_0x27ab("0xb3")][_0x27ab("0x103")]=x[_0x27ab("0xb3")][_0x27ab("0x127")].opacity,delete x[_0x27ab("0xb3")][_0x27ab("0x127")].istransparent,delete x[_0x27ab("0xb3")].userData[_0x27ab("0x103")])}))}},{key:_0x27ab("0x2a3"),value:function(x){var a,b,_;typeof x==_0x27ab("0x148")?(a=x,b=1,_=!1):(a=x[_0x27ab("0xe8")],b=null==x[_0x27ab("0x1cb")]?1:x[_0x27ab("0x1cb")],_=null!=x.clonemat&&x[_0x27ab("0x2a4")]),this[_0x27ab("0xaf")][_0x27ab("0x2a1")]((function(x){x[_0x27ab("0xb3")]&&!x[_0x27ab("0xb3")].userData[_0x27ab("0x2a5")]&&(_&&(x.material=x[_0x27ab("0xb3")].clone()),x[_0x27ab("0xb3")][_0x27ab("0x127")].hasOwnProperty(_0x27ab("0x2a2"))||(x[_0x27ab("0xb3")][_0x27ab("0x127")].istransparent=x[_0x27ab("0xb3")].transparent,x[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0x103")]=x[_0x27ab("0xb3")][_0x27ab("0x103")]),x[_0x27ab("0xb3")].transparent=!0,x.material.userData[_0x27ab("0x2a5")]=!0,new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(x.material).to({opacity:a},1e3*b)[_0x27ab("0x1ce")](esmap.TWEEN[_0x27ab("0x1cf")][_0x27ab("0x281")].None)[_0x27ab("0x1d2")]((function(){x[_0x27ab("0xb3")][_0x27ab("0x127")].changed=!1}))[_0x27ab("0x1d5")]())}))}},{key:_0x27ab("0x2a6"),value:function(){this[_0x27ab("0x2a7")]&&(this.glowSprite[_0x27ab("0xf6")]=!1,this[_0x27ab("0x2a7")][_0x27ab("0x24b")].set(.01,.01,1),esmap.ESMapLabel.prototype[_0x27ab("0x287")].call(this[_0x27ab("0x2a7")]),this[_0x27ab("0x237")]=!1)}},{key:_0x27ab("0x2a8"),value:function(x){var a=this,b=x||{};if(b[_0x27ab("0x107")]=null==b[_0x27ab("0x107")]?"#FF0000":b.color,b.height=null==b[_0x27ab("0x1b7")]?0:b[_0x27ab("0x1b7")],b[_0x27ab("0x2a9")]=null==b[_0x27ab("0x2a9")]||b.fixedSize,b[_0x27ab("0x2aa")]=null==b[_0x27ab("0x2aa")]||b.seeThrough,!this[_0x27ab("0x2a7")]){var _=_0x27ab("0x2ab"),e=(new(THREE[_0x27ab("0x14a")]))[_0x27ab("0x14b")](_),t=new THREE.SpriteMaterial({map:e,depthWrite:!0,transparent:!0,blending:THREE.AdditiveBlending,sizeAttenuation:!b[_0x27ab("0x2a9")]});b[_0x27ab("0x2aa")]&&(t.depthTest=!1),t[_0x27ab("0x107")]=(new(THREE[_0x27ab("0x108")]))[_0x27ab("0x2ac")](b.color||_0x27ab("0xe4"));var i=new(THREE[_0x27ab("0x2ad")])(t);i.scale[_0x27ab("0x123")](.001,.001,1),i[_0x27ab("0xc5")]=_0x27ab("0x2ae"),i[_0x27ab("0x133")]=esmap[_0x27ab("0x134")].model3D,i[_0x27ab("0x127")][_0x27ab("0x2af")]=!0,i[_0x27ab("0x127")][_0x27ab("0x1c7")]=1e3,a[_0x27ab("0xaf")][_0x27ab("0x163")](i),a[_0x27ab("0x2a7")]=i}this[_0x27ab("0x2a6")](),this.glowSprite[_0x27ab("0xf6")]=!0,b[_0x27ab("0x24b")]=null==b[_0x27ab("0x24b")]?2:b.scale,b[_0x27ab("0x1c7")]=null==b.times?0:b[_0x27ab("0x1c7")],a[_0x27ab("0x2a7")].position.y=b[_0x27ab("0x1b7")],esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0x2b0")][_0x27ab("0x3")](a[_0x27ab("0x2a7")],b),a[_0x27ab("0x237")]=!0}},{key:_0x27ab("0x2b1"),value:function(x,a,b){var _=new(THREE[_0x27ab("0xe7")])(this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xed")][0]-x,this.o3d_.position.y,a-this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xed")][1]),e=new(THREE[_0x27ab("0x277")]),t=this;e[_0x27ab("0x278")](this[_0x27ab("0xaf")][_0x27ab("0xc3")][_0x27ab("0xe2")](),_,this[_0x27ab("0xaf")].up),e[_0x27ab("0x279")]((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x2a0")](new(THREE[_0x27ab("0x27a")])(0,THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](b||0),0))),this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x25f")]=(new THREE.Quaternion)[_0x27ab("0x27c")](e),this[_0x27ab("0xaf")][_0x27ab("0xc3")].x=_.x,this[_0x27ab("0xaf")][_0x27ab("0xc3")].z=_.z,this[_0x27ab("0xaf")].userData[_0x27ab("0x2b2")]||(this.o3d_[_0x27ab("0x127")][_0x27ab("0x2b2")]=!0,this[_0x27ab("0x37")].on("update",(function(){var x=t[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x25f")];x&&t[_0x27ab("0xaf")][_0x27ab("0x261")][_0x27ab("0x280")](x,.1)})))}},{key:_0x27ab("0x2b3"),value:function(x){if(x&&x[_0x27ab("0x1ca")])for(var a in this[_0x27ab("0xaf")][_0x27ab("0x127")].actions)this[_0x27ab("0xaf")].userData.actions[a].fadeOut(x[_0x27ab("0x1ca")]);else for(var b in this.o3d_[_0x27ab("0x127")][_0x27ab("0x246")])this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x246")][b][_0x27ab("0x1c4")]();this[_0x27ab("0x29c")]=!1}},{key:_0x27ab("0x2b4"),value:function(){this[_0x27ab("0xb2")]()}},{key:"playAnimation",value:function(x){var a,b=this,_={name:"",repeat:1,stopAllActions:!1,clampWhenFinished:!1,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,delay:0};return new i.default((a=(0,t.default)(e[_0x27ab("0xb")][_0x27ab("0x2b5")]((function a(t){var r,s,o,c,l,f,u,d,h,g,v,p,A,m;return e[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(a){for(;;)switch(a[_0x27ab("0x2b7")]=a[_0x27ab("0x2b8")]){case 0:if(typeof x===_0x27ab("0x60")?_[_0x27ab("0xc5")]=x:(0,n[_0x27ab("0xb")])(_,x),r=b[_0x27ab("0x1b9")],s=b,o=r[_0x27ab("0x2b9")]("/"),r.substring(o),c=b[_0x27ab("0xaf")][_0x27ab("0x127")].actions,l=b[_0x27ab("0xaf")][_0x27ab("0xb0")][0],f=b[_0x27ab("0x15d")].map[_0x27ab("0x175")][_0x27ab("0x2ba")][s[_0x27ab("0x235")]]){a[_0x27ab("0x2b8")]=11;break}return console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")][_0x27ab("0x2bd")]),a.abrupt(_0x27ab("0x2be"));case 11:return u=b.mapScene[_0x27ab("0x37")],d=s[_0x27ab("0xaf")][_0x27ab("0x127")].mixer,_.loop&&(_[_0x27ab("0x11d")]=1/0),d||(d=new(THREE[_0x27ab("0x2bf")])(l),f.animations[_0x27ab("0x1b")]((function(x){var a=d.clipAction(x);a[_0x27ab("0x2c0")]=!0,a[_0x27ab("0x2c1")]=_[_0x27ab("0x11d")],c[x[_0x27ab("0xc5")].toLocaleLowerCase()]=a})),b[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x2c2")]=d),a[_0x27ab("0x2b8")]=17,new i.default((function(x){setTimeout(x,1e3*_[_0x27ab("0x1c9")])}));case 17:if(h=c[_[_0x27ab("0xc5")]]){a[_0x27ab("0x2b8")]=22;break}return console.info(_[_0x27ab("0xc5")]+" :  "+esmap[_0x27ab("0x2bc")][_0x27ab("0x2c3")]),console[_0x27ab("0x2bb")](b.animations),a.abrupt(_0x27ab("0x2be"));case 22:if(g=b[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x2c4")],_[_0x27ab("0x2c5")]?h[_0x27ab("0x2c5")]=THREE.LoopRepeat:1===_[_0x27ab("0x11d")]?h[_0x27ab("0x2c5")]=THREE[_0x27ab("0x2c6")]:h[_0x27ab("0x2c5")]=THREE[_0x27ab("0x2c7")],h[_0x27ab("0x2c1")]=_[_0x27ab("0x11d")],h.clampWhenFinished=_[_0x27ab("0x2c0")],_.stopAllActions)for(v in c)c[v].fadeOut(_[_0x27ab("0x1cb")]);else _[_0x27ab("0x2c8")]&&g&&g.fadeOut(_[_0x27ab("0x1cb")]);h[_0x27ab("0x2c9")]().setEffectiveTimeScale(1)[_0x27ab("0x2ca")](1)[_0x27ab("0x2cb")](_.time)[_0x27ab("0x2cc")](),d[_0x27ab("0x2cd")]||(d[_0x27ab("0x2cd")]=!0,p=new(THREE[_0x27ab("0x239")]),A=function(){d[_0x27ab("0x12b")](p[_0x27ab("0x2ce")]())},u.on(_0x27ab("0x12b"),A),d[_0x27ab("0x2cf")]=A),s.animating=!0,s.o3d_[_0x27ab("0x127")][_0x27ab("0x2c4")]=h,_.loop?t():(m=function x(a){_[_0x27ab("0x1d6")]&&_[_0x27ab("0x1d6")](s),s.animating=!1,d[_0x27ab("0x2d0")](_0x27ab("0x2d1"),x),d[_0x27ab("0x2d2")]=null,t()},d[_0x27ab("0x2f")](_0x27ab("0x2d1"),m),d[_0x27ab("0x2d2")]=m);case 32:case _0x27ab("0x2d3"):return a[_0x27ab("0x1c4")]()}}),a,b)}))),function(x){return a[_0x27ab("0x5")](this,arguments)}))}},{key:_0x27ab("0x2d4"),value:function(x){var a={name:"",repeat:1,clampWhenFinished:!0,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,loopReverse:!1};typeof x===_0x27ab("0x60")?a[_0x27ab("0xc5")]=x:(0,n[_0x27ab("0xb")])(a,x);var b=this[_0x27ab("0x1b9")],_=this,e=b[_0x27ab("0x2b9")]("/"),t=(b[_0x27ab("0x1a8")](e),this.o3d_[_0x27ab("0x127")].actions),i=this[_0x27ab("0xaf")][_0x27ab("0xb0")][0],r=this.modelLoadManager[_0x27ab("0x2ba")][_[_0x27ab("0x235")]];if(r){var s=this[_0x27ab("0x15d")].map,o=this.o3d_[_0x27ab("0x127")][_0x27ab("0x2c2")];a.loop&&(a[_0x27ab("0x11d")]=1/0),o||(o=new THREE.AnimationMixer(i),r[_0x27ab("0x2d5")][_0x27ab("0x1b")]((function(x){var b=o[_0x27ab("0x2d6")](x);b[_0x27ab("0x2c0")]=!0,b[_0x27ab("0x2c1")]=a[_0x27ab("0x11d")],t[x[_0x27ab("0xc5")][_0x27ab("0x2d7")]()]=b})),this[_0x27ab("0xaf")].userData[_0x27ab("0x2c2")]=o);var c=t[a[_0x27ab("0xc5")]];if(c){var l=this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x2c4")];if(l||(this.o3d_[_0x27ab("0x127")].previousAction=c,l=c),a[_0x27ab("0x2c5")]?(c.loop=THREE[_0x27ab("0x2c7")],a[_0x27ab("0x2d8")]&&(c.loop=THREE[_0x27ab("0x2d9")])):c[_0x27ab("0x2c5")]=THREE[_0x27ab("0x2c6")],c[_0x27ab("0x2c1")]=a.repeat,c[_0x27ab("0x2c0")]=a[_0x27ab("0x2c0")],a[_0x27ab("0x2c8")])l!=c?(c[_0x27ab("0x2c9")]()[_0x27ab("0x2cb")](a[_0x27ab("0x1cb")]).play(),l.crossFadeTo(c,0)):c.reset()[_0x27ab("0x2da")](1).setEffectiveWeight(1).setDuration(a[_0x27ab("0x1cb")])[_0x27ab("0x2cc")]();else{var f=a[_0x27ab("0xc5")][_0x27ab("0x2db")](/^[A-Za-z0-9]+\-/);if(f){var u=f[0];for(var d in t)d[_0x27ab("0x2db")](/^[A-Za-z0-9]+\-/)[0]==u&&t[d][_0x27ab("0x1c4")]()[_0x27ab("0x2c9")]()}c[_0x27ab("0x2cc")]()}if(!o[_0x27ab("0x2cd")]){o[_0x27ab("0x2cd")]=!0;var h=new(THREE[_0x27ab("0x239")]);s.on(_0x27ab("0x12b"),(function(){o[_0x27ab("0x12b")](h[_0x27ab("0x2ce")]())}))}_.animating=!0,_[_0x27ab("0xaf")].userData[_0x27ab("0x2c4")]=c;o[_0x27ab("0x2f")](_0x27ab("0x2d1"),(function x(b){a[_0x27ab("0x1d6")]&&a[_0x27ab("0x1d6")](),_.animating=!1,o[_0x27ab("0x2d0")]("finished",x)}))}else console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")].MODEL3D_ACTION_ERR)}else console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")][_0x27ab("0x2bd")])}},{key:"restoreColor",value:function(){this[_0x27ab("0x2dc")](!1)}},{key:"changeColor",value:function(x){this[_0x27ab("0xaf")][_0x27ab("0x2a1")]((function(a){if(a.material)if(a.material instanceof Array)a[_0x27ab("0xb3")][_0x27ab("0x1b")]((function(a){var b=a[_0x27ab("0xe2")]();x?(b[_0x27ab("0x127")].hasOwnProperty(_0x27ab("0x2dd"))||(b[_0x27ab("0x127")][_0x27ab("0x2dd")]=b.emissive[_0x27ab("0x2de")]()),b[_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](esmap[_0x27ab("0x80")].hexToRgb(x))),b.emissiveIntensity=1):b[_0x27ab("0x127")][_0x27ab("0xc")](_0x27ab("0x2dd"))&&(b.emissive=new(THREE[_0x27ab("0x108")])(b[_0x27ab("0x127")].oriEmissive)),a=b}));else{var b=a[_0x27ab("0xb3")].clone();x?(b.userData[_0x27ab("0xc")](_0x27ab("0x2dd"))||(b[_0x27ab("0x127")][_0x27ab("0x2dd")]=b[_0x27ab("0x2df")][_0x27ab("0x2de")]()),b[_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](esmap.ESMapUtil.hexToRgb(x))),b[_0x27ab("0x2e1")]=1,b[_0x27ab("0x127")][_0x27ab("0x2e2")]=!0):(b[_0x27ab("0x127")][_0x27ab("0xc")]("oriEmissive")&&(b[_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(b[_0x27ab("0x127")][_0x27ab("0x2dd")])),b.userData[_0x27ab("0x2e2")]=!1,b[_0x27ab("0x146")]=!0),a[_0x27ab("0xb3")]=b}}))}},{key:"resumeMovePath",value:function(){var x=this.o3d_.userData[_0x27ab("0x2e3")];x&&x[_0x27ab("0x2e4")]()}},{key:_0x27ab("0x2e5"),value:function(){var x=this.o3d_[_0x27ab("0x127")][_0x27ab("0x2e3")];x&&x.pause()}},{key:"stopMoving",value:function(){var x=!(arguments[_0x27ab("0x0")]>0&&void 0!==arguments[0])||arguments[0],a=this;if(x&&(a.movePathLoopCount=0),a[_0x27ab("0xaf")]){var b=a[_0x27ab("0x15d")][_0x27ab("0x37")];this[_0x27ab("0x2e6")]&&this[_0x27ab("0x2e6")][_0x27ab("0x2e7")]&&(g&&(b[_0x27ab("0x296")][_0x27ab("0x2e8")]=g,g=null),v&&(b[_0x27ab("0x296")][_0x27ab("0x2e9")]=v,v=null),b[_0x27ab("0x292")].enableMapPan||(b[_0x27ab("0x292")][_0x27ab("0x293")]=!0),a[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x260")]=!1),a[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x25f")]=null,this.o3d_[_0x27ab("0x127")][_0x27ab("0x284")]=!1,a[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x27e")]&&(a.o3d_.userData.lastRotateAction[_0x27ab("0x1c4")](),a.o3d_[_0x27ab("0x127")][_0x27ab("0x27e")]=null),a[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x247")]&&a[_0x27ab("0xaf")].userData.tweens[_0x27ab("0x1b")]((function(x){x[_0x27ab("0x1c4")]()})),a[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x2e3")]&&(a.o3d_[_0x27ab("0x127")][_0x27ab("0x2e3")][_0x27ab("0x1c4")](),a[_0x27ab("0xaf")][_0x27ab("0x127")].movePathingTween=null),a.o3d_[_0x27ab("0x127")][_0x27ab("0x247")]=[],b.mapService[_0x27ab("0x169")][_0x27ab("0x2ea")]()}}},{key:_0x27ab("0x2eb"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{time:1},a=this[_0x27ab("0xaf")],b=null==x[_0x27ab("0x1cb")]?1:x.time;a[_0x27ab("0x2a1")]((function(x){if(x[_0x27ab("0xb3")]){var a=x.material;if(a instanceof Array&&(a=x[_0x27ab("0xb3")][0]),a.userData.faded){a[_0x27ab("0x127")].faded=!1;var _=a.userData[_0x27ab("0x103")];new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(a).to({opacity:_},1e3*b)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x1d2")]((function(){a[_0x27ab("0x102")]=a[_0x27ab("0x127")][_0x27ab("0x2a2")]}))[_0x27ab("0x1d5")]()}}}))}},{key:"fadeOut",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{time:1},a=this[_0x27ab("0xaf")],b=x[_0x27ab("0x1cb")];a[_0x27ab("0x2a1")]((function(x){if(x[_0x27ab("0xb3")]){var a=x[_0x27ab("0xb3")];a instanceof Array&&(a=x.material[0]),a[_0x27ab("0x127")].faded||(a[_0x27ab("0x127")][_0x27ab("0x2ed")]=!0,!a[_0x27ab("0x127")][_0x27ab("0xc")](_0x27ab("0x103"))&&(a[_0x27ab("0x127")][_0x27ab("0x103")]=a[_0x27ab("0x103")]),!a[_0x27ab("0x127")].hasOwnProperty(_0x27ab("0x2a2"))&&(a[_0x27ab("0x127")][_0x27ab("0x2a2")]=a.transparent),a[_0x27ab("0x102")]=!0,new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(a).to({opacity:0},1e3*b)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x281")].None)[_0x27ab("0x1d2")]((function(){})).start())}}))}},{key:_0x27ab("0x2ee"),value:function(x){var a=this,b=a[_0x27ab("0x15d")].map,_=new(THREE[_0x27ab("0xe7")])(0,1,0),e=_[_0x27ab("0xe2")](),t=a.o3d_.matrix.clone();t[_0x27ab("0x262")](new(THREE[_0x27ab("0xe7")])),e[_0x27ab("0x263")](t);e[_0x27ab("0xe2")]()[_0x27ab("0x264")](_).y,_[_0x27ab("0x265")](e);a[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x2ef")]||(a.o3d_[_0x27ab("0x127")][_0x27ab("0x2ef")]=!0);Math.PI;b[_0x27ab("0x155")][_0x27ab("0x267")]?(a[_0x27ab("0x2f0")]=!0,this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x2f1")][_0x27ab("0x1d5")]()):a[_0x27ab("0x2f0")]&&this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x2f1")].getElapsedTime()>3&&(this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x2f1")][_0x27ab("0x1c4")](),a[_0x27ab("0x2f0")]=!1)}},{key:_0x27ab("0x2f2"),value:function(x){var a=this[_0x27ab("0x15d")][_0x27ab("0x37")];a.mapPicker.isStaping||a.rotateTo(x)}},{key:_0x27ab("0x270"),value:function(x,a){var b=new(THREE[_0x27ab("0xe7")])(0,0,1),_=new(THREE[_0x27ab("0xe7")])(x.x,0,x.y),e=new(THREE[_0x27ab("0xe7")])(a.x,0,a.y)[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](_)[_0x27ab("0x2f4")](),t=e.angleTo(b)*THREE.Math[_0x27ab("0x2f5")];return isNaN(t)&&(t=0),e[_0x27ab("0xe2")]().cross(b).y>0?360-t:t}},{key:_0x27ab("0x2f6"),value:function(x,a){var b,r,s=this,o=(b=(0,t[_0x27ab("0xb")])(e[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(){var a;return e[_0x27ab("0xb")].wrap((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:a=r[_0x27ab("0x2f7")];case 1:if(!(a<C[_0x27ab("0x0")])){x[_0x27ab("0x2b8")]=9;break}return new THREE.Vector3(-C[a][_0x27ab("0x2f8")].x,C[a][_0x27ab("0x2f8")].offset||0,C[a].from.y).y+=3,x[_0x27ab("0x2b8")]=6,l(C[a],a,a==C.length-1);case 6:a++,x.next=1;break;case 9:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(){return b[_0x27ab("0x5")](this,arguments)}),c=this,l=function(x,a,b){return new i.default((function(e){var t=r.offsetHeight;if(a==r[_0x27ab("0x2f7")]){var i=f[_0x27ab("0x193")](x[_0x27ab("0x2f8")],!0);c[_0x27ab("0xaf")][_0x27ab("0xc3")].x=i.x,c[_0x27ab("0xaf")][_0x27ab("0xc3")].z=i.z,c.o3d_[_0x27ab("0xc3")].y=(x.from[_0x27ab("0x2f9")]||0)+t,r[_0x27ab("0x2e7")]&&(f[_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x3a")]&&f[_0x27ab("0x169")].disableTileBaseMap(),f[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0x27d")](c[_0x27ab("0xaf")][_0x27ab("0x25a")](new(THREE[_0x27ab("0xe7")]))))}var n=(x.to.elevation||0)+t,o=c[_0x27ab("0xaf")][_0x27ab("0xc3")][_0x27ab("0xe2")](),l=f._coordMapSceneToThree(x.to,!0);l.y=n;var d=c[_0x27ab("0x270")](x[_0x27ab("0x2f8")],x.to);if(r[_0x27ab("0x271")]){r[_0x27ab("0x2fa")]||(l.y=o.y);var g=new(THREE[_0x27ab("0x277")]);if(o.x!=l.x||o.z!=l.z){g[_0x27ab("0x278")](l,o,s[_0x27ab("0xaf")].up),g[_0x27ab("0x279")]((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x2a0")](new THREE.Euler(0,THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](r.angle),0)));var v=(new(THREE[_0x27ab("0x24c")]))[_0x27ab("0x27c")](g);c[_0x27ab("0xaf")].userData[_0x27ab("0x27e")]&&c[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x27e")][_0x27ab("0x1c4")]();var p=(new THREE.Quaternion)[_0x27ab("0x27d")](c[_0x27ab("0xaf")][_0x27ab("0x261")]),A=new THREE.Quaternion,m={value:0},C=void 0;if(C=x[_0x27ab("0x1cb")]<.2?1e3*x[_0x27ab("0x1cb")]:x.time<.5?200:x.time<.8?500:800,c[_0x27ab("0xaf")][_0x27ab("0x127")].lastRotateAction=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(m).to({value:1},C*r[_0x27ab("0x2fb")]).easing(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x27f")][_0x27ab("0x1d4")])[_0x27ab("0x137")]((function(x,a){THREE[_0x27ab("0x24c")].slerp(p,v,A,m[_0x27ab("0xf8")]),c[_0x27ab("0xaf")][_0x27ab("0x261")].set(A.x,A.y,A.z,A.w)})).onComplete((function(){}))[_0x27ab("0x1d5")](),r[_0x27ab("0x299")]){var E=d-c[_0x27ab("0x23b")];if(Math[_0x27ab("0x274")](E)+c[_0x27ab("0x2fc")]>=20){if(x[_0x27ab("0x1cb")]>=.3){var w=C/1e3*r[_0x27ab("0x2fd")];c[_0x27ab("0x2f2")]({angle:d,time:w})}c[_0x27ab("0x2fc")]=0}else c[_0x27ab("0x2fc")]+=1;c._lastDirectionV=d}}}else if(null!=x[_0x27ab("0x2fe")]&&null!=x[_0x27ab("0x2ff")])if(o.y!=l.y){var T=new(THREE[_0x27ab("0x277")]);T[_0x27ab("0x278")](l,o,s.o3d_.up),T[_0x27ab("0x279")]((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x2a0")](new THREE.Euler(0,THREE.Math[_0x27ab("0x27b")](0),0))),c[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x25f")]=(new(THREE[_0x27ab("0x24c")])).setFromRotationMatrix(T)}else c.rotateTo({angle:x[_0x27ab("0x2fe")],time:1e3*x[_0x27ab("0x1cb")]});f[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0xe2")]();var k=f[_0x27ab("0x193")](x.to,!0),S=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(c[_0x27ab("0xaf")][_0x27ab("0xc3")]).to({x:k.x,z:k.z,y:n},1e3*x[_0x27ab("0x1cb")])[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x137")]((function(x,b,e){var t=c[_0x27ab("0xaf")][_0x27ab("0x25a")](new(THREE[_0x27ab("0xe7")]));if(r[_0x27ab("0x2e7")]){if(u&&(u[_0x27ab("0xe2")](),u=null),c.map[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]){var i=c[_0x27ab("0x302")][_0x27ab("0x303")](),n=c[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x304")];i>=3&&n&&c[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x2ea")](),i>=4&&!n&&(c._clockMovePath[_0x27ab("0x1d5")](),c[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x305")]()),f.updateTileView()}f[_0x27ab("0x296")].target[_0x27ab("0x27d")](t),f[_0x27ab("0x296")].update({forceTheta:f[_0x27ab("0x296")][_0x27ab("0x306")](),forcePhi:f[_0x27ab("0x296")][_0x27ab("0x307")]()})}var s={x:c.o3d_[_0x27ab("0xc3")].x,y:c[_0x27ab("0xaf")].position.z},o=f[_0x27ab("0x26e")]({x:s.x,z:s.y,y:0}),l=function(x,a){for(var b=x[_0x27ab("0x300")],_=0,e=h[_0x27ab("0x0")]-1;e>b;e--)if(e-1>b){var t=h[e],i=h[e-1],n=t[_0x27ab("0x143")]||0,r=i[_0x27ab("0x143")]||0,s=f[_0x27ab("0x193")]({x:t.x,y:t.y,z:n}),o=f[_0x27ab("0x193")]({x:i.x,y:i.y,z:r});_+=s.distanceTo(o)}var c=h[x[_0x27ab("0x300")]+1],l=c.offset||0,u=f[_0x27ab("0x193")]({x:c.x,y:c.y,z:l});return _+a[_0x27ab("0x301")](u)}({x:o.x,y:o.y,index:a},x[_0x27ab("0xe2")]()),d=f[_0x27ab("0x24f")]({x:s.x,z:s.y,y:0}),g={x:d.x,y:d.y,z:c[_0x27ab("0xaf")].position.y,index:a},v=(I-l)/I;r[_0x27ab("0x282")]&&r[_0x27ab("0x282")]({position:g,progress:v,angle:r[_0x27ab("0x26c")],loopDirection:y}),_||(_=setTimeout((function(){c.mapScene[_0x27ab("0x37")].enableCollide=!0,c[_0x27ab("0x161")][_0x27ab("0x308")]=!1,c[_0x27ab("0x161")][_0x27ab("0x29f")]=!1,window.clearTimeout(_),_=null}),800))}))[_0x27ab("0x1d2")]((function(){b&&r[_0x27ab("0x2c5")]&&r[_0x27ab("0x309")]&&r[_0x27ab("0x309")](c),e()}))[_0x27ab("0x1d5")]();c[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x247")]&&c[_0x27ab("0xaf")][_0x27ab("0x127")].tweens[_0x27ab("0x1")](S),c[_0x27ab("0xaf")].userData[_0x27ab("0x2e3")]=S}))};c[_0x27ab("0x25d")](!1);var f=c[_0x27ab("0x15d")].map;if(a)(r=x)[_0x27ab("0x2f7")]=0;else{var u=null;(r={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,offsetHeight:0,speed:null,path:[]})[_0x27ab("0x30a")]=!1,Object[_0x27ab("0x7")](r,_0x27ab("0x2e7"),{get:function(){return this.fp_},set:function(x){if(c[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x284")]){var a=c[_0x27ab("0xaf")][_0x27ab("0x25a")](new(THREE[_0x27ab("0xe7")]));f[_0x27ab("0x296")][_0x27ab("0x295")].copy(a),u=f.controls.target[_0x27ab("0xe2")]()}x?(null==g&&(g=f.controls[_0x27ab("0x2e8")]),null==v&&(v=f[_0x27ab("0x296")][_0x27ab("0x2e9")]),f[_0x27ab("0x296")][_0x27ab("0x2e8")]=r.maxViewDistance,f.controls[_0x27ab("0x2e9")]=r.minViewDistance,f[_0x27ab("0x292")].enableMapPan=!1):this.fp_&&(g&&(f[_0x27ab("0x296")][_0x27ab("0x2e8")]=g,g=null),v&&(f[_0x27ab("0x296")].minDistance=v,v=null),f[_0x27ab("0x292")][_0x27ab("0x293")]||(f[_0x27ab("0x292")].enableMapPan=!0)),this[_0x27ab("0x30a")]=x}}),(0,n[_0x27ab("0xb")])(r,{followPosition:!1},x)}var d=r[_0x27ab("0x30b")],h=[];if(0!=d[_0x27ab("0x0")]){for(var p=0;p<d[_0x27ab("0x0")];p++){var A=d[p],m=f[_0x27ab("0x199")]({from:f[_0x27ab("0x33")][_0x27ab("0x1f7")],to:f[_0x27ab("0x192")],coord:A});h[p]=m}if(1!=h[_0x27ab("0x0")]){var C=[],I=0,y=c.movePathLoopCount%2;c[_0x27ab("0xaf")].userData[_0x27ab("0x25f")]=null,r.followPosition&&(null==g&&(g=f[_0x27ab("0x296")][_0x27ab("0x2e8")]),null==v&&(v=f.controls[_0x27ab("0x2e9")]),f.controls[_0x27ab("0x2e8")]=r[_0x27ab("0x30c")],f.controls[_0x27ab("0x2e9")]=r[_0x27ab("0x1fd")],f[_0x27ab("0x292")][_0x27ab("0x293")]=!1),r[_0x27ab("0x30d")]&&r[_0x27ab("0x30d")]();for(var E=0;E<h[_0x27ab("0x0")];E++){var w=h[E];if(w[_0x27ab("0xeb")]||(w.bid=f.id),h[E].offset=1*h[E].offset||0,h[E][_0x27ab("0x2f9")]=h[E][_0x27ab("0x143")],this.FloorNum&&w.bid&&w[_0x27ab("0xee")]&&f[_0x27ab("0xf4")](w[_0x27ab("0xeb")])&&this[_0x27ab("0x251")]!=w[_0x27ab("0xee")]){var T=f.getBuildingById(w.bid).getFloorHeight(this[_0x27ab("0x251")]),k=f[_0x27ab("0xf4")](w[_0x27ab("0xeb")])[_0x27ab("0x30e")](w[_0x27ab("0xee")]);h[E][_0x27ab("0x2f9")]+=k-T}}for(var S=0;S<h[_0x27ab("0x0")]-1;S++)if(h[S+1]){var M=f[_0x27ab("0x26f")](h[S]),R=f.coordMapToThree(h[S+1]),L=M[_0x27ab("0x301")](R);I+=L,h[S]&&C[_0x27ab("0x1")]({distance:L,fnum:h[S][_0x27ab("0xee")]||1,from:h[S],fromAngle:h[S][_0x27ab("0xc")](_0x27ab("0x26c"))?h[S][_0x27ab("0x26c")]:null,to:h[S+1],toAngle:h[S+1][_0x27ab("0xc")](_0x27ab("0x26c"))?h[S+1][_0x27ab("0x26c")]:null})}if(r[_0x27ab("0x30f")]&&(r[_0x27ab("0x1cb")]=I/(1.62*r[_0x27ab("0x30f")])),!isNaN(r.time))return C[_0x27ab("0x1b")]((function(x){x[_0x27ab("0x1cb")]=0==x[_0x27ab("0x273")]?0:x.distance/I*r[_0x27ab("0x1cb")]})),c.o3d_.userData[_0x27ab("0x284")]=!0,r[_0x27ab("0x2e7")]&&null!=r[_0x27ab("0x311")]&&(f.tiltAngle=r[_0x27ab("0x311")]),c[_0x27ab("0x2e6")]=r,o()[_0x27ab("0x312")]((function(){r[_0x27ab("0x2c5")]?(r[_0x27ab("0x2f7")]=0,r[_0x27ab("0x2d8")]&&(c[_0x27ab("0x238")]++,r.path[_0x27ab("0x313")]()),c[_0x27ab("0x2f6")](r,!0)):(c[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x284")]=!1,c[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x25f")]=null,c[_0x27ab("0xaf")].userData.needRotateCamera=!1,f[_0x27ab("0x175")][_0x27ab("0x169")].enableTileBaseMap(),r[_0x27ab("0x309")]&&r[_0x27ab("0x309")](),g&&(f.controls[_0x27ab("0x2e8")]=g,g=null),v&&(f.controls.minDistance=v,v=null),f[_0x27ab("0x292")][_0x27ab("0x293")]||(f[_0x27ab("0x292")].enableMapPan=!0))})),r;console[_0x27ab("0x257")](_0x27ab("0x310"))}else{var H=f[_0x27ab("0x193")](h[0],!0);if(c.o3d_[_0x27ab("0xc3")].x=H.x,c.o3d_.position.z=H.z,c[_0x27ab("0xaf")][_0x27ab("0xc3")].y=(1*h[0][_0x27ab("0x143")]||0)+r.offsetHeight,r.onMoving){var D={x:c.o3d_[_0x27ab("0xc3")].x,y:c.o3d_[_0x27ab("0xc3")].z},P=f[_0x27ab("0x24f")]({x:D.x,z:D.y,y:0}),O={x:P.x,y:P.y,index:0};r[_0x27ab("0x282")]({position:O,progress:1,angle:0,loopDirection:0})}r[_0x27ab("0x309")]&&r[_0x27ab("0x309")]()}}}},{key:"toggle",value:function(){var x=this;if(!this[_0x27ab("0x29c")]){var a,b=this[_0x27ab("0x2d5")];this[_0x27ab("0x314")]?(a=b[_0x27ab("0x315")]((function(x){return x[_0x27ab("0xd1")](_0x27ab("0x316"))>-1})))[_0x27ab("0x0")]>0&&this.playAnimation({name:a[0],stopLastAction:!0,callback:function(){x.status=0}}):(a=b[_0x27ab("0x315")]((function(x){return x[_0x27ab("0xd1")](_0x27ab("0x317"))>-1})))[_0x27ab("0x0")]>0&&this.playAnimation({name:a[0],stopLastAction:!0,callback:function(){x[_0x27ab("0x314")]=1}})}}},{key:_0x27ab("0x318"),value:function(x,a){var b=this;setTimeout((function(){var _=b[_0x27ab("0xaf")][_0x27ab("0x256")](x);if(_){var e=_.getWorldPosition(new(THREE[_0x27ab("0xe7")]));e={x:-b.scene[_0x27ab("0x1ab")]-e.x,y:e.z+b[_0x27ab("0xc1")][_0x27ab("0x1ac")]},a&&a(e)}else a&&a(null)}),10)}},{key:_0x27ab("0x319"),value:function(x){return this[_0x27ab("0xaf")][_0x27ab("0x31a")](x)}},{key:_0x27ab("0x31b"),value:function(){this[_0x27ab("0x23f")].add(this)}},{key:"_lod",value:function(x){var a=this;if(!(x<0||x>2)&&x!==this[_0x27ab("0x23c")]){0==x&&(x="");var b=this[_0x27ab("0x23d")]+_0x27ab("0x31c")+x+".gltf",_=this.map[_0x27ab("0x175")][_0x27ab("0x2ba")][b];if(_){this[_0x27ab("0x242")][_0x27ab("0xc7")][_0x27ab("0x158")](this[_0x27ab("0x242")]);var e=_[_0x27ab("0x31d")].scene[_0x27ab("0xe2")](!0);(new THREE.Box3)[_0x27ab("0x31e")](e)[_0x27ab("0x31f")](e.position),e[_0x27ab("0xc3")].multiplyScalar(-1),this.child=e,this.o3d_[_0x27ab("0x163")](e),this[_0x27ab("0x23c")]=x}else{var t=this.model[_0x27ab("0x111")](_0x27ab("0x77"),""),i=this._lodName+_0x27ab("0x31c")+x,n=this[_0x27ab("0x1b9")].replaceAll(t,i);this[_0x27ab("0x161")][_0x27ab("0x320")][b]||this[_0x27ab("0x161")][_0x27ab("0x321")](b,n,(function(b){a.child.parent[_0x27ab("0x158")](a[_0x27ab("0x242")]),a.child=null;var _=b[_0x27ab("0xc1")][_0x27ab("0xe2")](!0);(new THREE.Box3)[_0x27ab("0x31e")](_)[_0x27ab("0x31f")](_[_0x27ab("0xc3")]),_[_0x27ab("0xc3")][_0x27ab("0x28c")](-1),a[_0x27ab("0x242")]=_,a[_0x27ab("0xaf")].add(_),a._lodLevel=x}))}}}},{key:_0x27ab("0x161"),get:function(){var x=this[_0x27ab("0x15d")][_0x27ab("0x37")],a=x[_0x27ab("0xf4")](this[_0x27ab("0xeb")]);return a||(a=x[_0x27ab("0x322")](this.bid)),a.modelLoadManager}},{key:"Height",get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xc3")].y}},{key:_0x27ab("0x26c"),get:function(){var x=new(THREE[_0x27ab("0xe7")])(1,0,0),a=x[_0x27ab("0xe2")](),b=this.o3d_.matrix[_0x27ab("0xe2")]();b[_0x27ab("0x262")](new(THREE[_0x27ab("0xe7")])),a[_0x27ab("0x263")](b);var _=(_=a[_0x27ab("0xe2")]()[_0x27ab("0x264")](x)).y<0?-1:1,e=x[_0x27ab("0x265")](a),t=THREE.Math.radToDeg(e*_);return t=t>0?360-t:-t}}]),a}(f[_0x27ab("0xb")]);a[_0x27ab("0xb")]=p},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0x323")]=void 0;var _=i(b(0)),e=i(b(1)),t=b(292);function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}a[_0x27ab("0x323")]=function(){function x(){(0,_[_0x27ab("0xb")])(this,x)}return(0,e[_0x27ab("0xb")])(x,null,[{key:"throw",value:function(x){var a=esmap.ESMap[_0x27ab("0xd3")],b=a.mapView.rendererCss2D.domElement,_=void 0,e="";"[object Object]"===Object[_0x27ab("0x2")].toString[_0x27ab("0x3")](x)?(_=x[_0x27ab("0x324")],e=function(x,a){if(a&&a[_0x27ab("0x0")])for(var b=0;b<a[_0x27ab("0x0")];b++)x=x[_0x27ab("0x111")]("${"+(b+1)+"}",a[b]);return x}(t.ERRORS[_],x.param)):e=t.ERRORS[_],e||(e=_0x27ab("0x325"));var i=document.createElement("div");i.style[_0x27ab("0x326")]=_0x27ab("0x327"),i[_0x27ab("0xea")].height=_0x27ab("0x327"),i[_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab("0x329"),i[_0x27ab("0xea")][_0x27ab("0x32a")]=_0x27ab("0xed"),i[_0x27ab("0xea")][_0x27ab("0x32b")]=_0x27ab("0xed"),i.style[_0x27ab("0x32c")]="rgba(0,0,0,0.8)",i[_0x27ab("0xea")][_0x27ab("0x107")]=_0x27ab("0x32d"),i[_0x27ab("0xea")][_0x27ab("0x32e")]=_0x27ab("0x32f"),i.style[_0x27ab("0x330")]=_0x27ab("0x331"),i[_0x27ab("0x332")]=e,i[_0x27ab("0x333")](_0x27ab("0x334"),_0x27ab("0x335")),b.innerHTML="",b.appendChild(i),a[_0x27ab("0x1e7")](_0x27ab("0x257"),{code:_,message:e});var n=new CustomEvent(_0x27ab("0x336"),{detail:{code:_,message:e}});window.dispatchEvent(n)}}]),x}()},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=i(b(0)),e=i(b(1));a[_0x27ab("0xb")]=function(x,a,b){return new n(x,a,b)};var t=b(11);function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a,b,e,t){if((0,_[_0x27ab("0xb")])(this,x),x.isElement(a))this.element=a;else{if(a instanceof x)return a;this[_0x27ab("0x339")]=document[_0x27ab("0x20")](a)}this[_0x27ab("0x33a")](b),this[_0x27ab("0xea")](e),this[_0x27ab("0x33b")](t)}return(0,e[_0x27ab("0xb")])(x,null,[{key:_0x27ab("0x337"),value:function(x){return!(!x||1!==x[_0x27ab("0xe1")]||void 0===x[_0x27ab("0x338")])}}]),(0,e.default)(x,[{key:_0x27ab("0xea"),value:function(x,a){var b=this;return x?"string"==typeof x&&void 0===a?this[_0x27ab("0x339")][_0x27ab("0xea")][x]:((0,t[_0x27ab("0x15")])(x)?(0,t[_0x27ab("0x16")])(x,(function(x,a){b[_0x27ab("0x339")].style[a]=x})):this.element[_0x27ab("0xea")][x]=a,this):this}},{key:_0x27ab("0x33a"),value:function(x,a){var b=this;return x?"string"==typeof x&&void 0===a?this[_0x27ab("0x339")][_0x27ab("0x1af")](x):((0,t[_0x27ab("0x15")])(x)?(0,t.eachObject)(x,(function(x,a){b[_0x27ab("0x339")][_0x27ab("0x333")](a,x)})):this[_0x27ab("0x339")][_0x27ab("0x333")](x,a),this):this}},{key:_0x27ab("0x33b"),value:function(x,a){var b=this;if(!x)return this;function _(x){return(0,t[_0x27ab("0x33c")])(x,"on")?x:"on"+x}return(0,t[_0x27ab("0x15")])(x)?(0,t[_0x27ab("0x16")])(x,(function(x,a){b[_0x27ab("0x339")][_(a)]=x})):this[_0x27ab("0x339")][_(x)]=a,this}}]),x}()},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}Array.prototype[_0x27ab("0x33d")]||Object[_0x27ab("0x7")](Array[_0x27ab("0x2")],"fill",{value:function(x){if(null==this)throw new TypeError(_0x27ab("0x33e"));for(var a=Object(this),b=a[_0x27ab("0x0")]>>>0,_=arguments[1],e=_>>0,t=e<0?Math[_0x27ab("0x33f")](b+e,0):Math[_0x27ab("0x340")](e,b),i=arguments[2],n=void 0===i?b:i>>0,r=n<0?Math.max(b+n,0):Math[_0x27ab("0x340")](n,b);t<r;)a[t]=x,t++;return a}});var i=function(){function x(a){var b=a.colorStr,e=void 0===b?_0x27ab("0xe4"):b;(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x341")]=(new(THREE[_0x27ab("0x108")]))[_0x27ab("0x2ac")](e),this[_0x27ab("0xb3")]=null}return(0,e[_0x27ab("0xb")])(x,[{key:"computeTopFaceAttr",value:function(x){var a=x[_0x27ab("0xae")][_0x27ab("0x342")].length;if(a>0){for(var b=x[_0x27ab("0xb1")][_0x27ab("0x1af")](_0x27ab("0xc3")),_=new Array(b.count),e=0;e<a;e++){var t=x.datas_[_0x27ab("0x342")][e][_0x27ab("0x343")][0],i=x[_0x27ab("0xae")][_0x27ab("0x342")][e][_0x27ab("0x344")][0],n=x[_0x27ab("0xae")][_0x27ab("0x342")][e][_0x27ab("0x343")][1];_[_0x27ab("0x33d")](1,t,i),_[_0x27ab("0x33d")](0,i,n)}x[_0x27ab("0xb1")].addAttribute(_0x27ab("0x345"),new THREE.BufferAttribute(new Float32Array(_),1))}}},{key:_0x27ab("0x346"),value:function(x){var a=x[_0x27ab("0x347")],b=x[_0x27ab("0x348")];a&&a.updateMatrix(),b&&b[_0x27ab("0x349")](),this[_0x27ab("0xb3")]=new THREE.MeshLambertMaterial({color:this[_0x27ab("0x341")]}),this[_0x27ab("0xb3")][_0x27ab("0xc5")]=_0x27ab("0x34a");var _=this;return this[_0x27ab("0xb3")].onBeforeCompile=function(x){x[_0x27ab("0x10a")][_0x27ab("0x34b")]={value:0},a&&(x.uniforms.isTopTex[_0x27ab("0xf8")]=1,x[_0x27ab("0x10a")][_0x27ab("0x34c")]={value:a},x.uniforms.topTexMat={value:a[_0x27ab("0x34d")]}),x[_0x27ab("0x10a")][_0x27ab("0x34e")]={value:0},b&&(x.uniforms[_0x27ab("0x34e")][_0x27ab("0xf8")]=1,x[_0x27ab("0x10a")][_0x27ab("0x34f")]={value:b},x[_0x27ab("0x10a")][_0x27ab("0x350")]={value:b[_0x27ab("0x34d")]}),x[_0x27ab("0x10e")]=x[_0x27ab("0x10e")].replace(_0x27ab("0x351"),_0x27ab("0x352")),x[_0x27ab("0x10e")]=x[_0x27ab("0x10e")][_0x27ab("0x111")](_0x27ab("0x112"),_0x27ab("0x353")),x[_0x27ab("0x113")]=x[_0x27ab("0x113")][_0x27ab("0x111")](_0x27ab("0x114"),_0x27ab("0x354")),x[_0x27ab("0x113")]=x[_0x27ab("0x113")][_0x27ab("0x111")](_0x27ab("0x355"),"   \n                    vec4 topTexColor = texture2D(topTex, tvUV);\n                    topTexColor.a *= opacity;\n                    vec4 sideTexColor = texture2D(sideTex, svUV);\n                    sideTexColor.a *= opacity;\n\n                    vec4 dColor = vec4( diffuse, opacity );\n\n                    vec4 resultColor = mix(mix(dColor, sideTexColor, isSideTex), mix(dColor, topTexColor, isTopTex), flag);\n\n                    // resultColor = mix(vec4(1.0, 0.0, 0.0, 1.0), vec4(0.0, 1.0, 0.0, 1.0), flag); // flag == 1 is top\n                    if(hideFlag > 0.0){\n                        discard;\n                    }\n\n                    vec4 diffuseColor = resultColor;\n                    "),_[_0x27ab("0x356")]=x},this[_0x27ab("0xb3")]}}]),x}();a[_0x27ab("0xb")]=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=i(b(0)),e=i(b(1)),t=b(11);function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var n=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this.url=a[_0x27ab("0x1b9")];var b=this.url,e=a[_0x27ab("0x366")];this[_0x27ab("0x70")]=a.type||(e?"POST":_0x27ab("0x367"));var i=this.type,n=null==a[_0x27ab("0x360")]||a[_0x27ab("0x360")];this[_0x27ab("0x35f")]=a.isArrayBuffer||!1,this._isComplete=!1,this[_0x27ab("0x35a")],this._responseData,this[_0x27ab("0x368")],this[_0x27ab("0x357")]=new(t[_0x27ab("0x369")]),this[_0x27ab("0x35c")]=new(t[_0x27ab("0x369")]),this._errorCallbacks=new(t[_0x27ab("0x369")]),this[_0x27ab("0x36a")],this[_0x27ab("0x36b")](),this[_0x27ab("0x36a")][_0x27ab("0x317")](i,b,n),this._httpServer[_0x27ab("0x36c")]=this._httpStateChange[_0x27ab("0xe")](this),i==_0x27ab("0x367")&&(this[_0x27ab("0x35f")]||this[_0x27ab("0x1b9")].indexOf(_0x27ab("0x36d"))>0)&&this.isArrayBuffer&&(this._httpServer[_0x27ab("0x36e")]=_0x27ab("0x36f")),i===_0x27ab("0x370")&&(this._httpServer[_0x27ab("0x371")](_0x27ab("0x372"),_0x27ab("0x373")),this[_0x27ab("0x36a")][_0x27ab("0x371")](_0x27ab("0x374"),_0x27ab("0x375")),this._httpServer[_0x27ab("0x371")](_0x27ab("0x376"),_0x27ab("0x316")));try{this[_0x27ab("0x36a")][_0x27ab("0x377")](e)}catch(x){console[_0x27ab("0x362")](x)}}return(0,e.default)(x,[{key:"complete",value:function(x){return this[_0x27ab("0x357")][_0x27ab("0x163")](x),this[_0x27ab("0x358")]&&this[_0x27ab("0x357")].fire(this[_0x27ab("0x359")],this[_0x27ab("0x35a")]),this}},{key:_0x27ab("0x35b"),value:function(x){return this._successCallbacks[_0x27ab("0x163")](x),this[_0x27ab("0x358")]&&"success"===this[_0x27ab("0x35a")]&&this[_0x27ab("0x35c")][_0x27ab("0x1e7")](this[_0x27ab("0x359")]),this}},{key:_0x27ab("0x257"),value:function(x){return this._errorCallbacks.add(x),this[_0x27ab("0x358")]&&this[_0x27ab("0x35a")]===_0x27ab("0x257")&&this[_0x27ab("0x35d")][_0x27ab("0x1e7")](this[_0x27ab("0x359")]),this}}],[{key:_0x27ab("0x35e"),value:function(a){return new x({url:a[_0x27ab("0x1b9")],isArrayBuffer:a[_0x27ab("0x35f")],async:a[_0x27ab("0x360")]})}},{key:_0x27ab("0x361"),value:function(a){var b=new x({url:a[_0x27ab("0x1b9")],async:a.async});return b[_0x27ab("0x35b")](function(x){var a;try{a=JSON[_0x27ab("0x68")](x)}catch(x){console[_0x27ab("0x362")](x),console[_0x27ab("0x257")](_0x27ab("0x363")+this[_0x27ab("0x1b9")]),b[_0x27ab("0x364")]()}return[a]}.bind(b)),b}},{key:_0x27ab("0x365"),value:function(a,b){return new x({url:a,data:b})}}]),(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x36b"),value:function(){window[_0x27ab("0x378")]?this[_0x27ab("0x36a")]=new ActiveXObject(_0x27ab("0x379")):window[_0x27ab("0x373")]?this._httpServer=new XMLHttpRequest:console[_0x27ab("0x257")](_0x27ab("0x37a"))}},{key:"_httpStateChange",value:function(){4===this[_0x27ab("0x36a")][_0x27ab("0x37b")]&&(this[_0x27ab("0x358")]=!0,this[_0x27ab("0x37c")]())}},{key:"_successCallback",value:function(){this[_0x27ab("0x357")].fire(this[_0x27ab("0x359")],this._status),this[_0x27ab("0x35c")][_0x27ab("0x1e7")](this._responseData)}},{key:"judgeStatus",value:function(){200==this[_0x27ab("0x36a")][_0x27ab("0x314")]||0==this[_0x27ab("0x36a")][_0x27ab("0x314")]&&_0x27ab("0x37d")==window[_0x27ab("0x7a")][_0x27ab("0x37e")]?(this._status=_0x27ab("0x35b"),"GET"==this[_0x27ab("0x70")]&&(this[_0x27ab("0x35f")]||this.url[_0x27ab("0xd1")](_0x27ab("0x36d"))>0)?this._responseData=this._httpServer[_0x27ab("0x37f")]:this[_0x27ab("0x359")]=this[_0x27ab("0x36a")].responseText,this[_0x27ab("0x380")]()):(this._status=_0x27ab("0x257"),this._responseData=this[_0x27ab("0x36a")].response,this[_0x27ab("0x368")]=this[_0x27ab("0x36a")][_0x27ab("0x314")],this._errorCallback())}},{key:"_errorCallback",value:function(){this[_0x27ab("0x357")][_0x27ab("0x1e7")](this[_0x27ab("0x359")],this[_0x27ab("0x35a")]),this[_0x27ab("0x35d")].fire(this[_0x27ab("0x359")])}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0}),a[_0x27ab("0x61")]=a.on=a.CSSFILTER=a[_0x27ab("0x381")]=a[_0x27ab("0x382")]=a[_0x27ab("0x383")]=void 0,a[_0x27ab("0x384")]=c,a.createElOn=function(x,a,b){var _=c(x);a&&g(_,a);b&&b[_0x27ab("0x24")](_);return _},a[_0x27ab("0x385")]=l,a.addDomEvent=f,a[_0x27ab("0x386")]=u,a[_0x27ab("0x387")]=d,a.preventDefault=function(x){x.preventDefault?x[_0x27ab("0x3a7")]():x[_0x27ab("0x3a8")]=!1;return this},a[_0x27ab("0x388")]=function(x){x[_0x27ab("0x388")]?x[_0x27ab("0x388")]():x.cancelBubble=!0;return this},a[_0x27ab("0x389")]=function(x){return x.onselectstart=function(){return!1},x[_0x27ab("0x3a9")]=function(){return!1},x.setAttribute(_0x27ab("0x3aa"),"on"),this},a[_0x27ab("0x38a")]=function(x,a){if(!x)return null;t[_0x27ab("0xb")][_0x27ab("0x3ab")]?m(x,a):(x[_0x27ab("0xea")][_0x27ab("0x183")]=a.x+"px",x[_0x27ab("0xea")][_0x27ab("0x184")]=a.y+"px");return a},a[_0x27ab("0x38b")]=h,a[_0x27ab("0x38c")]=function(x,a){x||(x=window[_0x27ab("0x3a4")]);var b=a[_0x27ab("0x3b1")];b||(b=h(a));return new Point(x[_0x27ab("0x3b2")]/b[2]-b[0]-a.clientLeft,x[_0x27ab("0x3b3")]/b[3]-b[1]-a.clientTop)},a.setStyle=g,a[_0x27ab("0x38d")]=v,a[_0x27ab("0x38e")]=function(x,a){if(void 0===x[_0x27ab("0x3b4")]||v(x,a)){var b=A(x);p(x,(b?b+" ":"")+a)}else for(var _=(0,r[_0x27ab("0x3b9")])(a),e=0,t=_[_0x27ab("0x0")];e<t;e++)x.classList[_0x27ab("0x163")](_[e]);return this},a[_0x27ab("0x38f")]=p,a[_0x27ab("0x390")]=A,a[_0x27ab("0x391")]=function(x,a){return x.style.opacity=a,this},a.setTransform=m,a[_0x27ab("0x392")]=function(x,a){var b=_0x27ab("0x3c0")+((0,n[_0x27ab("0x1dc")])(a)?a:a[_0x27ab("0x2d")]())+")";x[_0x27ab("0xea")][o]!==b&&(x[_0x27ab("0xea")][o]=b);return this},a[_0x27ab("0x393")]=function(x){x[_0x27ab("0xea")][o]&&(x[_0x27ab("0xea")][o]="");return this},a[_0x27ab("0x394")]=function(x){return/<[a-z\][\s\S]*>/i[_0x27ab("0x3b8")](x)},a[_0x27ab("0x395")]=function(x,a){var b=C(x);(0,n[_0x27ab("0x1dc")])(a)?b[_0x27ab("0x332")]=a:b[_0x27ab("0x24")](a);var _=new Size(b[_0x27ab("0x3c1")],b.clientHeight);return l(b),_},a[_0x27ab("0x396")]=C;var _,e=b(271),t=(_=e)&&_.__esModule?_:{default:_},i=b(131),n=b(11),r=b(272);var s=i.IS_NODE?function(x){return x[0]}:function(x){for(var a=document[_0x27ab("0x397")][_0x27ab("0xea")],b=0;b<x[_0x27ab("0x0")];b++)if(x[b]in a)return x[b];return!1},o=a[_0x27ab("0x383")]=s([_0x27ab("0x398"),"WebkitTransform",_0x27ab("0x399"),"MozTransform",_0x27ab("0x39a")]);a.TRANSFORMORIGIN=s([_0x27ab("0x39b"),_0x27ab("0x39c"),"OTransformOrigin",_0x27ab("0x39d"),_0x27ab("0x39e")]),a[_0x27ab("0x381")]=s(["transition",_0x27ab("0x39f"),_0x27ab("0x3a0"),"MozTransition","msTransition"]),a.CSSFILTER=s([_0x27ab("0x315"),"WebkitFilter","OFilter","MozFilter",_0x27ab("0x3a1")]);function c(x,a){var b=document[_0x27ab("0x20")](x);return a&&p(b,a),b}function l(x){if(!x)return this;if(t[_0x27ab("0xb")][_0x27ab("0x3a2")]||t[_0x27ab("0xb")].ie9){var a=c(_0x27ab("0x3a3"));a.appendChild(x),a[_0x27ab("0x332")]="",a=null}else x.parentNode&&x[_0x27ab("0x26")][_0x27ab("0x27")](x);return this}function f(x,a,b,_){if(!(x&&x[_0x27ab("0x2f")]&&a&&b))return this;for(var e=function(a){a||(a=window[_0x27ab("0x3a4")]),b[_0x27ab("0x3")](_||x,a)},i=a.split(" "),n=i[_0x27ab("0x0")]-1;n>=0;n--){var r=i[n];if(r)x[_0x27ab("0x1e3")+r]||(x[_0x27ab("0x1e3")+r]=[]),d(x,r,b)>=0&&u(x,r,b),x[_0x27ab("0x1e3")+r][_0x27ab("0x1")]({callback:e,src:b}),r===_0x27ab("0x3a5")&&t.default.gecko&&(r="DOMMouseScroll"),x[_0x27ab("0x2f")](r,e,!1)}return this}function u(x,a,b){function _(a,b){a===_0x27ab("0x3a5")&&t[_0x27ab("0xb")][_0x27ab("0x3a6")]&&(a="DOMMouseScroll"),x.removeEventListener(a,b,!1)}if(!x||!x[_0x27ab("0x2d0")]||!a)return this;for(var e=a[_0x27ab("0x28")](" "),i=e[_0x27ab("0x0")]-1;i>=0;i--){var n=e[i];if(n){if(!b&&x[_0x27ab("0x1e3")+n]){for(var r=x[_0x27ab("0x1e3")+n],s=0,o=r.length;s<o;s++)_(r[s][_0x27ab("0x1d6")]);return delete x[_0x27ab("0x1e3")+n],this}var c=d(x,n,b);if(c<0)return this;_(n,x[_0x27ab("0x1e3")+n][c][_0x27ab("0x1d6")]),x["Z__"+n][_0x27ab("0x157")](c,1)}}return this}function d(x,a,b){if(!x||!x[_0x27ab("0x1e3")+a]||!b)return-1;for(var _=x[_0x27ab("0x1e3")+a],e=0,t=_[_0x27ab("0x0")];e<t;e++)if(_[e].src===b)return e;return-1}function h(x){var a=window[_0x27ab("0x3ac")](x),b=[parseInt(a[_0x27ab("0x3ad")]),parseInt(a[_0x27ab("0x3ae")])],_=x[_0x27ab("0x3af")](),e=x[_0x27ab("0x3b0")],t=x.offsetHeight,i=e?_[_0x27ab("0x326")]/e:1,n=t?_[_0x27ab("0x1b7")]/t:1;return x[_0x27ab("0x3b1")]=[_.left+b[0],_[_0x27ab("0x184")]+b[1],i,n],x.__position}function g(x,a){var b,_,e,t=x[_0x27ab("0xea")][_0x27ab("0x22")];return _=";",(e=(b=t)[_0x27ab("0x0")]-_.length)>=0&&b.indexOf(_,e)===e||(t+=";"),x[_0x27ab("0xea")][_0x27ab("0x22")]=t+a,this}function v(x,a){if(void 0!==x[_0x27ab("0x3b4")])return x[_0x27ab("0x3b4")][_0x27ab("0x3b5")](a);var b=A(x);return b[_0x27ab("0x0")]>0&&new RegExp(_0x27ab("0x3b6")+a+_0x27ab("0x3b7"))[_0x27ab("0x3b8")](b)}function p(x,a){return(0,n[_0x27ab("0x1e6")])(x[_0x27ab("0x3ba")][_0x27ab("0x3bb")])?x[_0x27ab("0x3ba")]=a:x.className[_0x27ab("0x3bb")]=a,this}function A(x){return(0,n[_0x27ab("0x1e6")])(x[_0x27ab("0x3ba")].baseVal)?x[_0x27ab("0x3ba")]:x.className.baseVal}function m(x,a){var b=a||new Point(0,0);return x.style[o]=t.default[_0x27ab("0x3ab")]?_0x27ab("0x3bc")+b.x+_0x27ab("0x3bd")+b.y+_0x27ab("0x3be"):_0x27ab("0x3bf")+b.x+_0x27ab("0x3bd")+b.y+"px)",this}function C(x){var a=document[_0x27ab("0x20")](x);return a[_0x27ab("0xea")][_0x27ab("0x22")]=_0x27ab("0x3c2"),document[_0x27ab("0x23")].appendChild(a),a}a.on=f,a[_0x27ab("0x61")]=u},function(x,a,b){"use strict";(function(x){Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});a[_0x27ab("0x3c3")]=Object.prototype.toString[_0x27ab("0x3")](void 0!==x?x:0)===_0x27ab("0x3c4")&&!x[_0x27ab("0x3c5")].electron})[_0x27ab("0x3")](this,b(66))},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=s(b(18)),e=s(b(4)),t=s(b(0)),i=s(b(1)),n=b(11),r=s(b(273));function s(x){return x&&x.__esModule?x:{default:x}}var o=function(){function x(a){if((0,t.default)(this,x),!this||!this.setOptions)throw new Error(_0x27ab("0x3c6"));this[_0x27ab("0x3c7")](a),this[_0x27ab("0x3c8")]()}return(0,i[_0x27ab("0xb")])(x,[{key:"callInitHooks",value:function(){var x=(0,e[_0x27ab("0xb")])(this);return this[_0x27ab("0x3c9")](x),this}},{key:_0x27ab("0x3c7"),value:function(x){if(this[_0x27ab("0xc")]("options")||(this[_0x27ab("0x33")]=this[_0x27ab("0x33")]?(0,_.default)(this[_0x27ab("0x33")]):{}),!x)return this;for(var a in x)this[_0x27ab("0x33")][a]=x[a];return this}},{key:_0x27ab("0x3ca"),value:function(x){if(!x){var a={};for(var b in this[_0x27ab("0x33")])this.options.hasOwnProperty(b)&&(a[b]=this[_0x27ab("0x33")][b]);return a}if(2===arguments[_0x27ab("0x0")]){var _={};_[x]=arguments[1],x=_}for(var e in x)this[_0x27ab("0x33")][e]=x[e],this[e]&&this[e]instanceof r[_0x27ab("0xb")]&&(x[e]?this[e][_0x27ab("0x3cb")]():this[e][_0x27ab("0x3cc")]());return this[_0x27ab("0x3cd")](x),this}},{key:_0x27ab("0x3cd"),value:function(){}},{key:"_visitInitHooks",value:function(x){if(!this[_0x27ab("0x3ce")]){var a=(0,e[_0x27ab("0xb")])(x);a._visitInitHooks&&a[_0x27ab("0x3c9")][_0x27ab("0x3")](this,a),this[_0x27ab("0x3ce")]=!0;var b=x[_0x27ab("0x3cf")];if(b&&b!==a[_0x27ab("0x3cf")])for(var _=0;_<b[_0x27ab("0x0")];_++)b[_][_0x27ab("0x3")](this)}}}],[{key:_0x27ab("0x3d0"),value:function(x){for(var a=arguments.length,b=Array(a>1?a-1:0),_=1;_<a;_++)b[_-1]=arguments[_];var t=typeof x===_0x27ab("0xde")?x:function(){this[x][_0x27ab("0x5")](this,b)},i=this.prototype,n=(0,e.default)(i);return i[_0x27ab("0x3cf")]&&i[_0x27ab("0x3cf")]!==n[_0x27ab("0x3cf")]||(i[_0x27ab("0x3cf")]=[]),i[_0x27ab("0x3cf")].push(t),this}},{key:"include",value:function(){for(var x=arguments[_0x27ab("0x0")],a=Array(x),b=0;b<x;b++)a[b]=arguments[b];for(var _=0;_<a.length;_++)(0,n[_0x27ab("0x3d1")])(this[_0x27ab("0x2")],a[_]);return this}},{key:"mergeOptions",value:function(x){var a=this[_0x27ab("0x2")],b=(0,e[_0x27ab("0xb")])(a);return a[_0x27ab("0x33")]&&a[_0x27ab("0x33")]!==b.options||(a[_0x27ab("0x33")]=a[_0x27ab("0x33")]?(0,_[_0x27ab("0xb")])(a[_0x27ab("0x33")]):{}),(0,n[_0x27ab("0x3d1")])(a[_0x27ab("0x33")],x),this}}]),x}();a.default=o},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=i(b(54)),e=i(b(0)),t=i(b(1));function i(x){return x&&x.__esModule?x:{default:x}}function n(x){if(x){if(x[_0x27ab("0xae")]&&x.datas_.o3d_&&(x[_0x27ab("0xae")][_0x27ab("0xaf")]=void 0,x.datas_=void 0),x[_0x27ab("0xb0")])for(var a=0;a<x[_0x27ab("0xb0")][_0x27ab("0x0")];a++)n(x.children[a]);x[_0x27ab("0xb1")]&&x[_0x27ab("0xb1")].dispose(),x[_0x27ab("0xb3")]&&(x[_0x27ab("0xb3")]instanceof Array?x[_0x27ab("0xb3")][_0x27ab("0x1b")]((function(x){x&&x[_0x27ab("0xb2")]()})):x.material.dispose())}}var r=function(){function x(a,b,t,i){(0,e.default)(this,x),t[_0x27ab("0xae")]=this,(0,_[_0x27ab("0xb")])(this,{nodeType:{enumerable:!0,get:function(){return a}},mapScene:{get:function(){return esmap[_0x27ab("0x32")].instance[_0x27ab("0x15d")]},set:function(x){}},o3d_:{get:function(){return t},set:function(x){t=x},configurable:!0,enumerable:!1},data_:{enumerable:!0,get:function(){return b}}})}return(0,t[_0x27ab("0xb")])(x,[{key:"x",get:function(){return this[_0x27ab("0x15d")]?-this[_0x27ab("0xaf")][_0x27ab("0xc3")].x-this[_0x27ab("0x15d")][_0x27ab("0x1ab")]:0},set:function(x){this[_0x27ab("0x15d")]?this[_0x27ab("0xaf")].position[_0x27ab("0x3d2")](-x-this.mapScene[_0x27ab("0x1ab")]):(this[_0x27ab("0x3d3")]=this[_0x27ab("0x3d3")]||{},this.opts_.x=x)}},{key:"y",get:function(){return this[_0x27ab("0x15d")]?this[_0x27ab("0xaf")][_0x27ab("0xc3")].z+this[_0x27ab("0x15d")][_0x27ab("0x1ac")]:0},set:function(x){this[_0x27ab("0x15d")]?this[_0x27ab("0xaf")][_0x27ab("0xc3")][_0x27ab("0x3d4")](x-this[_0x27ab("0x15d")].sceneZ_):(this[_0x27ab("0x3d3")]=this[_0x27ab("0x3d3")]||{},this[_0x27ab("0x3d3")].y=x)}},{key:"z",get:function(){return this[_0x27ab("0x15d")]?this[_0x27ab("0xaf")][_0x27ab("0xc3")].y:0},set:function(x){}},{key:_0x27ab("0x3d5"),get:function(){var x=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],a=new esmap.ESMapCoord(this.x,this.y,this.z),b=x.transformCoord({from:x[_0x27ab("0x192")],to:x[_0x27ab("0x33")][_0x27ab("0x1f7")],coord:{x:a.x,y:a.y}});return b.z=this.z,b}},{key:_0x27ab("0xc7"),get:function(){return this[_0x27ab("0xaf")].parent?this[_0x27ab("0xaf")][_0x27ab("0xc7")][_0x27ab("0xae")]:null}},{key:_0x27ab("0xf6"),set:function(x){this[_0x27ab("0xaf")].visible=x},get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xf6")]}},{key:"floor",get:function(){if(this instanceof esmap[_0x27ab("0x3d6")])return this;var x=this.parent;if(x){if(x instanceof esmap[_0x27ab("0x3d6")])return x;var a=x[_0x27ab("0xc7")];if(a&&a instanceof esmap[_0x27ab("0x3d6")])return a}return null}},{key:_0x27ab("0x251"),get:function(){return this[_0x27ab("0xdd")]?this[_0x27ab("0xdd")].FloorNum:null}}]),(0,t.default)(x,[{key:_0x27ab("0xb2"),value:function(){if(this.o3d_){this[_0x27ab("0xaf")][_0x27ab("0xf6")]=!1,this[_0x27ab("0xaf")].stopMoveTo&&this[_0x27ab("0xaf")][_0x27ab("0x3d7")]();var x=this[_0x27ab("0xaf")].parent,a=this[_0x27ab("0x15d")][_0x27ab("0x37")].mapPicker[_0x27ab("0x156")];for(var b in a){var _=a[b],e=_[_0x27ab("0xd1")](this[_0x27ab("0xaf")]);if(e>-1){_.splice(e,1);break}}var t=this[_0x27ab("0x15d")][_0x27ab("0x37")][_0x27ab("0x3d8")][_0x27ab("0xd1")](this[_0x27ab("0xaf")]);return t>-1&&this[_0x27ab("0x15d")][_0x27ab("0x37")][_0x27ab("0x3d8")][_0x27ab("0x157")](t,1),x?(x.remove(this[_0x27ab("0xaf")]),n(this[_0x27ab("0xaf")]),!0):void 0}}},{key:_0x27ab("0x286"),value:function(x,a){this.o3d_[_0x27ab("0x286")]&&this[_0x27ab("0xaf")].flash({scale:a,time:x})}}]),x}();a[_0x27ab("0xb")]=r},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=r(b(8)),e=r(b(42)),t=r(b(0)),i=r(b(1)),n=b(30);function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=function(){function x(){(0,t.default)(this,x),this[_0x27ab("0xbe")]=[],this[_0x27ab("0x3d9")]=[],this.lastSelectNode=null}return(0,i.default)(x,[{key:_0x27ab("0x3da"),value:function(x,a,b){var _=new(THREE[_0x27ab("0x27a")])(a.x,a.y,a.z,_0x27ab("0x1b2")),e=(new THREE.Quaternion).setFromEuler(_),t=new(THREE[_0x27ab("0xe7")])(x.x,x.y,x.z),i=new(THREE[_0x27ab("0xe7")])(b.x,b.y,b.z);return(new(THREE[_0x27ab("0x277")]))[_0x27ab("0x3db")](t,e,i)}},{key:"getObjectTransformMatrix",value:function(x,a,b){var _=new(THREE[_0x27ab("0x15b")]);return _[_0x27ab("0xc3")][_0x27ab("0x3dc")](x||[0,0,0]),_[_0x27ab("0x261")].fromArray(a||[0,0,0,1]),_[_0x27ab("0x24b")][_0x27ab("0x3dc")](b||[1,1,1]),_[_0x27ab("0x349")](),_[_0x27ab("0x34d")].clone()}},{key:_0x27ab("0x3dd"),value:function(x){var a=this,b=[],_=new(THREE[_0x27ab("0xe7")]);return function x(t){if(t[_0x27ab("0xc7")]&&t.parent.type!=_0x27ab("0x3de")){_.x+=t.parent[_0x27ab("0xc3")].x,_.y+=t[_0x27ab("0xc7")].position.y,_.z+=t.parent[_0x27ab("0xc3")].z;var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e.default)(a.nodes);!(i=(s=o[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);i=!0){var c=s[_0x27ab("0xf8")];if(c[_0x27ab("0xc5")]==t[_0x27ab("0xc7")].name){c.calpos=_,b.push(c);break}}}catch(x){n=!0,r=x}finally{try{!i&&o[_0x27ab("0x2be")]&&o.return()}finally{if(n)throw r}}x(t[_0x27ab("0xc7")])}}(x),b}},{key:_0x27ab("0x3e0"),value:function(x,a){var b=this,t=this,i=new(THREE[_0x27ab("0x15b")]);if(this[_0x27ab("0xbe")]=x[_0x27ab("0xbf")][_0x27ab("0xbd")][_0x27ab("0xbe")],this[_0x27ab("0x3d9")]=x[_0x27ab("0xbf")].json[_0x27ab("0x3d9")],!this.materials)return!1;if(this[_0x27ab("0xbe")]instanceof Array&&0==this[_0x27ab("0xbe")][_0x27ab("0x0")])return!1;var n=!0,r=!1,s=void 0;try{for(var o,c=(0,e.default)(this[_0x27ab("0xbe")]);!(n=(o=c.next())[_0x27ab("0x3df")]);n=!0){var l=o[_0x27ab("0xf8")];l[_0x27ab("0x3e1")]=[],l[_0x27ab("0xb3")]=null}}catch(x){r=!0,s=x}finally{try{!n&&c.return&&c[_0x27ab("0x2be")]()}finally{if(r)throw s}}var f=x[_0x27ab("0xc1")].position[_0x27ab("0xe2")]();(new(THREE[_0x27ab("0x3e2")])).setFromObject(x[_0x27ab("0xc1")])[_0x27ab("0x31f")](f),f.multiplyScalar(-1);var u=[f.x,f.y,f.z];return new(_[_0x27ab("0xb")])((function(_){x.scene.traverse((function(x){if(x instanceof THREE[_0x27ab("0x159")]){var a=t[_0x27ab("0x3dd")](x),b=!0,_=!1,i=void 0;try{for(var n,r=(0,e[_0x27ab("0xb")])(t.materials);!(b=(n=r[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);b=!0){var s=n[_0x27ab("0xf8")];if(x[_0x27ab("0xb3")][_0x27ab("0xc5")]==s.name){var o=x[_0x27ab("0xb1")][_0x27ab("0xe2")]();o[_0x27ab("0x3e3")]=x[_0x27ab("0xc5")],o[_0x27ab("0x127")][_0x27ab("0x3e4")]=x[_0x27ab("0xc3")].clone();var c=void 0,l=!0,f=!1,d=void 0;try{for(var h,g=(0,e[_0x27ab("0xb")])(t.nodes);!(l=(h=g[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);l=!0){var v=h[_0x27ab("0xf8")];v[_0x27ab("0xc5")]==x[_0x27ab("0xc5")]?(c=t[_0x27ab("0x3e5")](v[_0x27ab("0x3e6")],v[_0x27ab("0x1b1")],v[_0x27ab("0x24b")]),o[_0x27ab("0x3e7")](c)):x.parent.name==v[_0x27ab("0xc5")]&&v}}catch(x){f=!0,d=x}finally{try{!l&&g[_0x27ab("0x2be")]&&g[_0x27ab("0x2be")]()}finally{if(f)throw d}}if(a[_0x27ab("0x0")]>0)for(var p in a){var A=a[p],m=t[_0x27ab("0x3e5")](A[_0x27ab("0x3e6")],A[_0x27ab("0x1b1")],A[_0x27ab("0x24b")]);o.applyMatrix(m)}var C=new(THREE[_0x27ab("0x15b")]);C[_0x27ab("0xc3")][_0x27ab("0x3dc")](u),C.updateMatrix(),o.applyMatrix(C[_0x27ab("0x34d")][_0x27ab("0xe2")]()),s[_0x27ab("0x3e1")][_0x27ab("0x1")](o),s.material=x[_0x27ab("0xb3")],s[_0x27ab("0x3e8")]=x[_0x27ab("0xc5")];break}}}catch(x){_=!0,i=x}finally{try{!b&&r.return&&r[_0x27ab("0x2be")]()}finally{if(_)throw i}}}}));var n=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],r=!0,s=!1,o=void 0;try{for(var c,l=(0,e[_0x27ab("0xb")])(b[_0x27ab("0xbe")]);!(r=(c=l.next()).done);r=!0){var f=c[_0x27ab("0xf8")];if(f[_0x27ab("0x3e1")][_0x27ab("0x0")]>0){f[_0x27ab("0xb3")].map&&n[_0x27ab("0x33")][_0x27ab("0x3e9")]&&b[_0x27ab("0x3ea")](f[_0x27ab("0x3e1")],a[0][_0x27ab("0x235")]);var d=b[_0x27ab("0x3eb")](f.geometries,!1,x[_0x27ab("0xbf")][_0x27ab("0xbd")][_0x27ab("0x3ec")][0][_0x27ab("0x3ed")]),h=b[_0x27ab("0x3ee")](d,a),g=b.mergeGeometry(h,!0,x[_0x27ab("0xbf")].json.buffers[0].uri);f.alphaMode==_0x27ab("0x3ef")&&(f[_0x27ab("0xb3")][_0x27ab("0x11b")]=THREE.DoubleSide),f.material[_0x27ab("0x127")][_0x27ab("0x3f0")]=!0;var v=f[_0x27ab("0xb3")].clone();n[_0x27ab("0x33")].selectedColor&&n[_0x27ab("0x33")][_0x27ab("0x3f1")][_0x27ab("0x236")]?(n[_0x27ab("0x33")][_0x27ab("0x3f1")][_0x27ab("0x236")].color?v[_0x27ab("0x107")]=(new(THREE[_0x27ab("0x108")])).setStyle(n[_0x27ab("0x33")][_0x27ab("0x3f1")][_0x27ab("0x236")].color):v[_0x27ab("0x107")]=n.mapTheme[_0x27ab("0x3f2")][_0x27ab("0x107")][_0x27ab("0xe2")](),v[_0x27ab("0x2df")]=v[_0x27ab("0x107")][_0x27ab("0xe2")](),v[_0x27ab("0x2e1")]=null==n[_0x27ab("0x33")].selectedColor.model3d.intensity?.3:n[_0x27ab("0x33")][_0x27ab("0x3f1")][_0x27ab("0x236")][_0x27ab("0x3f3")]):(v[_0x27ab("0x2df")]=n.mapTheme[_0x27ab("0x3f2")][_0x27ab("0x107")].clone(),v.emissiveIntensity=.3);var p=f[_0x27ab("0xb3")][_0x27ab("0xe2")]();p[_0x27ab("0xf6")]=!1;var A=new(THREE[_0x27ab("0x159")])(g,[f[_0x27ab("0xb3")],v,p]);A[_0x27ab("0xc5")]=f[_0x27ab("0x3e8")],A[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x249")],i[_0x27ab("0x163")](A)}else console[_0x27ab("0x3f4")]("material name:"+f[_0x27ab("0xc5")]+_0x27ab("0x3f5"))}}catch(x){s=!0,o=x}finally{try{!r&&l.return&&l[_0x27ab("0x2be")]()}finally{if(s)throw o}}_(i)}))}},{key:"merge",value:function(x,a){var b=this,_=new(THREE[_0x27ab("0x15b")]);if(this[_0x27ab("0xbe")]=x[_0x27ab("0xbf")][_0x27ab("0xbd")][_0x27ab("0xbe")],this[_0x27ab("0x3d9")]=x[_0x27ab("0xbf")][_0x27ab("0xbd")][_0x27ab("0x3d9")],!this[_0x27ab("0xbe")])return!1;if(this.materials instanceof Array&&0==this[_0x27ab("0xbe")][_0x27ab("0x0")])return!1;var t=!0,i=!1,n=void 0;try{for(var r,s=(0,e[_0x27ab("0xb")])(this[_0x27ab("0xbe")]);!(t=(r=s.next())[_0x27ab("0x3df")]);t=!0){var o=r.value;o[_0x27ab("0x3e1")]=[],o[_0x27ab("0xb3")]=null}}catch(x){i=!0,n=x}finally{try{!t&&s.return&&s.return()}finally{if(i)throw n}}var c=x[_0x27ab("0xc1")].position[_0x27ab("0xe2")]();(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](x[_0x27ab("0xc1")])[_0x27ab("0x31f")](c),c.multiplyScalar(-1);var l=[c.x,c.y,c.z];x.scene[_0x27ab("0x2a1")]((function(x){if(x instanceof THREE[_0x27ab("0x159")]){var a=b.getParentList(x),_=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x27ab("0xb")])(b.materials);!(_=(n=r[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);_=!0){var s=n[_0x27ab("0xf8")];if(x.material[_0x27ab("0xc5")]==s.name){var o=x.geometry[_0x27ab("0xe2")]();o[_0x27ab("0x3e3")]=x[_0x27ab("0xc5")],o[_0x27ab("0x127")][_0x27ab("0x3e4")]=x[_0x27ab("0xc3")].clone();var c=void 0,f=!0,u=!1,d=void 0;try{for(var h,g=(0,e[_0x27ab("0xb")])(b.nodes);!(f=(h=g[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);f=!0){var v=h[_0x27ab("0xf8")];v[_0x27ab("0xc5")]==x[_0x27ab("0xc5")]?(c=b[_0x27ab("0x3e5")](v[_0x27ab("0x3e6")],v[_0x27ab("0x1b1")],v.scale),o[_0x27ab("0x3e7")](c)):x[_0x27ab("0xc7")][_0x27ab("0xc5")]==v[_0x27ab("0xc5")]&&v}}catch(x){u=!0,d=x}finally{try{!f&&g.return&&g[_0x27ab("0x2be")]()}finally{if(u)throw d}}if(a[_0x27ab("0x0")]>0)for(var p in a){var A=a[p],m=b[_0x27ab("0x3e5")](A.translation,A[_0x27ab("0x1b1")],A[_0x27ab("0x24b")]);o[_0x27ab("0x3e7")](m)}var C=new(THREE[_0x27ab("0x15b")]);C[_0x27ab("0xc3")][_0x27ab("0x3dc")](l),C[_0x27ab("0x349")](),o[_0x27ab("0x3e7")](C[_0x27ab("0x34d")][_0x27ab("0xe2")]()),s[_0x27ab("0x3e1")][_0x27ab("0x1")](o),s[_0x27ab("0xb3")]=x[_0x27ab("0xb3")],s[_0x27ab("0x3e8")]=x[_0x27ab("0xc5")];break}}}catch(x){t=!0,i=x}finally{try{!_&&r[_0x27ab("0x2be")]&&r[_0x27ab("0x2be")]()}finally{if(t)throw i}}}}));var f=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],u=!0,d=!1,h=void 0;try{for(var g,v=(0,e[_0x27ab("0xb")])(this[_0x27ab("0xbe")]);!(u=(g=v[_0x27ab("0x2b8")]()).done);u=!0){var p=g[_0x27ab("0xf8")];if(p[_0x27ab("0x3e1")][_0x27ab("0x0")]>0){p[_0x27ab("0xb3")][_0x27ab("0x37")]&&f[_0x27ab("0x33")][_0x27ab("0x3e9")]&&this[_0x27ab("0x3ea")](p[_0x27ab("0x3e1")],a[0][_0x27ab("0x235")]);var A=this[_0x27ab("0x3eb")](p[_0x27ab("0x3e1")],!1,x[_0x27ab("0xbf")].json[_0x27ab("0x3ec")][0][_0x27ab("0x3ed")]),m=this.mergeTranformGroup(A,a),C=this[_0x27ab("0x3eb")](m,!0,x.parser.json[_0x27ab("0x3ec")][0][_0x27ab("0x3ed")]);p[_0x27ab("0x3f6")]==_0x27ab("0x3ef")&&(p[_0x27ab("0xb3")][_0x27ab("0x11b")]=THREE[_0x27ab("0x11c")]),p[_0x27ab("0xb3")][_0x27ab("0x127")].cloned=!0;var I=p[_0x27ab("0xb3")][_0x27ab("0xe2")]();f.options[_0x27ab("0x3f1")]&&f.options[_0x27ab("0x3f1")][_0x27ab("0x236")]?(f.options[_0x27ab("0x3f1")].model3d[_0x27ab("0x107")]?I.color=(new THREE.Color)[_0x27ab("0x2ac")](f[_0x27ab("0x33")].selectedColor.model3d[_0x27ab("0x107")]):I[_0x27ab("0x107")]=f[_0x27ab("0xfc")][_0x27ab("0x3f2")].color[_0x27ab("0xe2")](),I[_0x27ab("0x2df")]=I[_0x27ab("0x107")][_0x27ab("0xe2")](),I[_0x27ab("0x2e1")]=null==f[_0x27ab("0x33")][_0x27ab("0x3f1")][_0x27ab("0x236")][_0x27ab("0x3f3")]?.3:f[_0x27ab("0x33")][_0x27ab("0x3f1")][_0x27ab("0x236")][_0x27ab("0x3f3")]):(I[_0x27ab("0x2df")]=f.mapTheme[_0x27ab("0x3f2")][_0x27ab("0x107")][_0x27ab("0xe2")](),I.emissiveIntensity=.3);var y=p[_0x27ab("0xb3")].clone();y[_0x27ab("0xf6")]=!1;var E=new(THREE[_0x27ab("0x159")])(C,[p[_0x27ab("0xb3")],I,y]);E[_0x27ab("0xc5")]=p.objName,E[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x249")],_.add(E)}else console[_0x27ab("0x3f4")](_0x27ab("0x3f7")+p.name+_0x27ab("0x3f5"))}}catch(x){d=!0,h=x}finally{try{!u&&v.return&&v[_0x27ab("0x2be")]()}finally{if(d)throw h}}return _}},{key:_0x27ab("0x3ea"),value:function(x,a){var b=[],_=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x27ab("0xb")])(x);!(_=(n=r[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);_=!0){var s=n.value;s.attributes.uv||b[_0x27ab("0x1")](s[_0x27ab("0x3e3")])}}catch(x){t=!0,i=x}finally{try{!_&&r[_0x27ab("0x2be")]&&r[_0x27ab("0x2be")]()}finally{if(t)throw i}}b[_0x27ab("0x0")]>0&&console[_0x27ab("0x2bb")](a+_0x27ab("0x3f8"),b)}},{key:_0x27ab("0x3f9"),value:function(x,a){return!(Math[_0x27ab("0x274")](x.x)>a||Math[_0x27ab("0x274")](x.y)>a||Math[_0x27ab("0x274")](x.z)>a)}},{key:_0x27ab("0x3ee"),value:function(x,a){var b=[],_=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x27ab("0xb")])(a);!(_=(n=r[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);_=!0){var s=n[_0x27ab("0xf8")];s[_0x27ab("0x1b1")]||(s[_0x27ab("0x1b1")]={x:0,y:0,z:0});var o=this[_0x27ab("0x3da")]({x:s.position.x,y:s.position.y,z:s[_0x27ab("0xc3")].z},{x:s[_0x27ab("0x1b1")].x,y:s[_0x27ab("0x1b1")].y,z:s[_0x27ab("0x1b1")].z},{x:s.scale.x,y:s.scale.y,z:s[_0x27ab("0x24b")].z}),c=x[_0x27ab("0xe2")]();c[_0x27ab("0xc5")]=s.id,c[_0x27ab("0x3e7")](o),b[_0x27ab("0x1")](c)}}catch(x){t=!0,i=x}finally{try{!_&&r[_0x27ab("0x2be")]&&r[_0x27ab("0x2be")]()}finally{if(t)throw i}}return x[_0x27ab("0xb2")](),x=null,b}},{key:"mergeGeometry",value:function(x,a,b){var _=new(THREE[_0x27ab("0x1ad")]),t=[],i=[],r=[],s=[],o=[],c=[],l=0,f=[],u=!1,d=!1,h=!1,g=!1,v=0,p=!0,A=!1,m=void 0;try{for(var C,I=(0,e[_0x27ab("0xb")])(x);!(p=(C=I[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);p=!0){var y=C[_0x27ab("0xf8")],E=y[_0x27ab("0x127")][_0x27ab("0x3e4")];E&&(0!=E.x||0!=E.y||E.z);var w=y[_0x27ab("0x1af")]("uv"),T=y[_0x27ab("0x1af")]("uv2"),k=y.getAttribute(_0x27ab("0x107")),S=y[_0x27ab("0x300")]?y[_0x27ab("0x300")]:null;if(w&&(t[_0x27ab("0x1")](w),u=!0),T&&(s.push(T),d=!0),k&&(o[_0x27ab("0x1")](k),h=!0),S){for(var M=0;M<S[_0x27ab("0xc4")];++M)c.push(S[_0x27ab("0x3fa")](M)+v);g=!0}i[_0x27ab("0x1")](y[_0x27ab("0x1af")](_0x27ab("0xc3"))),r.push(y[_0x27ab("0x1af")]("normal"));var R=y.attributes.position.count,L=void 0;S&&(L=S[_0x27ab("0xc4")]),a&&f[_0x27ab("0x1")]({id:y[_0x27ab("0xc5")],start:l,count:S?L:R,materialIndex:0}),l+=L,v+=R}}catch(x){A=!0,m=x}finally{try{!p&&I[_0x27ab("0x2be")]&&I.return()}finally{if(A)throw m}}var H=new Float32Array,D=new Float32Array,P=new Float32Array,O=new Float32Array,B=new Float32Array;new Uint16Array;u&&(H=n.BufferGeometryUtils[_0x27ab("0x3fb")](t).array),d&&(D=n[_0x27ab("0x3fc")][_0x27ab("0x3fb")](s)[_0x27ab("0x1ae")]),h&&(B=n[_0x27ab("0x3fc")].mergeBufferAttributes(o).array),P=n[_0x27ab("0x3fc")][_0x27ab("0x3fb")](i)[_0x27ab("0x1ae")],O=n[_0x27ab("0x3fc")][_0x27ab("0x3fb")](r)[_0x27ab("0x1ae")],_[_0x27ab("0x1b0")](_0x27ab("0xc3"),new THREE.BufferAttribute(P,3)),_[_0x27ab("0x1b0")](_0x27ab("0xff"),new(THREE[_0x27ab("0x3fd")])(O,3)),u&&_.addAttribute("uv",new THREE.BufferAttribute(H,2)),d&&_[_0x27ab("0x1b0")](_0x27ab("0x3fe"),new THREE.BufferAttribute(D,2)),h&&_[_0x27ab("0x1b0")](_0x27ab("0x107"),new(THREE[_0x27ab("0x3fd")])(B,3)),g?(_.setIndex(c),_.addGroup(0,_[_0x27ab("0x300")][_0x27ab("0xc4")],0)):_.addGroup(0,_[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],0),a&&(_[_0x27ab("0x127")].groupData=f);var N=!0,F=!1,z=void 0;try{for(var j,U=(0,e[_0x27ab("0xb")])(x);!(N=(j=U.next()).done);N=!0){var X=j.value;X[_0x27ab("0xb2")](),X=null}}catch(x){F=!0,z=x}finally{try{!N&&U[_0x27ab("0x2be")]&&U.return()}finally{if(F)throw z}}return x[_0x27ab("0x0")]=0,t[_0x27ab("0x0")]=0,i[_0x27ab("0x0")]=0,r[_0x27ab("0x0")]=0,s.length=0,o[_0x27ab("0x0")]=0,c[_0x27ab("0x0")]=0,_}},{key:_0x27ab("0x3ff"),value:function(x,a,b){if(a[_0x27ab("0xb1")][_0x27ab("0x127")][_0x27ab("0x400")]){if(a[_0x27ab("0xc7")].userData[_0x27ab("0x401")])return;var _=this[_0x27ab("0x402")](x,a[_0x27ab("0xb1")][_0x27ab("0x127")][_0x27ab("0x400")],a[_0x27ab("0xb1")].index);_||console[_0x27ab("0x2bb")](_0x27ab("0x403")),this[_0x27ab("0x404")](a,_.id,!0),this[_0x27ab("0x405")]={mesh:a,id:_.id,lastSelectMatIndex:b}}}},{key:_0x27ab("0x406"),value:function(x,a,b,_,t){var i=a,n=[],r=function(x){if(!x[_0x27ab("0x127")][_0x27ab("0x407")]){var a=b;!1===b?(a=x[_0x27ab("0x127")][_0x27ab("0x103")],x[_0x27ab("0x127")][_0x27ab("0xc")]("istransparent")&&(x.transparent=x[_0x27ab("0x127")].istransparent)):(x.userData[_0x27ab("0xc")](_0x27ab("0x2a2"))||(x[_0x27ab("0x127")][_0x27ab("0x2a2")]=x[_0x27ab("0x102")],x[_0x27ab("0x127")][_0x27ab("0x103")]=x[_0x27ab("0x103")]),x.transparent=!0),x[_0x27ab("0x127")][_0x27ab("0x407")]=!0,n[_0x27ab("0x1")](x),x[_0x27ab("0x103")]=a}};if(i&&i[_0x27ab("0xb0")][_0x27ab("0x0")]>0){var s=!0,o=!1,c=void 0;try{for(var l,f=(0,e[_0x27ab("0xb")])(i[_0x27ab("0xb0")]);!(s=(l=f[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);s=!0){var u=l[_0x27ab("0xf8")],d=!0,h=!1,g=void 0;try{for(var v,p=(0,e[_0x27ab("0xb")])(u[_0x27ab("0xb1")][_0x27ab("0x127")][_0x27ab("0x400")]);!(d=(v=p[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);d=!0){var A=v[_0x27ab("0xf8")];if(x===A.id){var m=0;if(0!=b){var C=u[_0x27ab("0xb3")][0][_0x27ab("0xe2")]();C[_0x27ab("0xf6")]||(C[_0x27ab("0xf6")]=!0),u[_0x27ab("0xb3")][_0x27ab("0x1")](C),m=u[_0x27ab("0xb3")][_0x27ab("0x0")]-1,u.geometry[_0x27ab("0x127")][_0x27ab("0x408")]||(u[_0x27ab("0xb1")].userData[_0x27ab("0x408")]={}),u.geometry.userData.matRecord[x]=m,r(C)}else{if(u.geometry.userData.matRecord){var I=u.geometry[_0x27ab("0x127")][_0x27ab("0x408")][x];null!=I&&u[_0x27ab("0xb3")][I]&&(u[_0x27ab("0xb3")][I][_0x27ab("0xb2")](),u[_0x27ab("0xb3")][I]=null)}m=0}var y=u.geometry.groups,E=this[_0x27ab("0x409")](A[_0x27ab("0x1d5")],A.start+A[_0x27ab("0xc4")],m,y);u[_0x27ab("0xb1")][_0x27ab("0x140")]();var w=!0,T=!1,k=void 0;try{for(var S,M=(0,e[_0x27ab("0xb")])(E);!(w=(S=M[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);w=!0){var R=S[_0x27ab("0xf8")];u[_0x27ab("0xb1")][_0x27ab("0x141")](R[_0x27ab("0x1d5")],R.count,R[_0x27ab("0x40a")])}}catch(x){T=!0,k=x}finally{try{!w&&M[_0x27ab("0x2be")]&&M[_0x27ab("0x2be")]()}finally{if(T)throw k}}break}}}catch(x){h=!0,g=x}finally{try{!d&&p[_0x27ab("0x2be")]&&p[_0x27ab("0x2be")]()}finally{if(h)throw g}}}}catch(x){o=!0,c=x}finally{try{!s&&f[_0x27ab("0x2be")]&&f[_0x27ab("0x2be")]()}finally{if(o)throw c}}}for(var L in n){n[L].userData[_0x27ab("0x407")]=!1}a[_0x27ab("0x127")][_0x27ab("0x40b")]=!1}},{key:_0x27ab("0x40c"),value:function(x,a,b,_){var t=a;if(t&&t[_0x27ab("0xb0")][_0x27ab("0x0")]>0){var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e[_0x27ab("0xb")])(t.children);!(i=(s=o[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);i=!0){var c=s.value,l=!0,f=!1,u=void 0;try{for(var d,h=(0,e.default)(c[_0x27ab("0xb1")].userData[_0x27ab("0x400")]);!(l=(d=h[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);l=!0){var g=d[_0x27ab("0xf8")];if(x===g.id){var v=0;if(b){var p=c.material[0].clone();p.color=new(THREE[_0x27ab("0x108")])(esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](b)),p.emissive=p[_0x27ab("0x107")].clone(),p.emissiveIntensity=_,c[_0x27ab("0xb3")][_0x27ab("0x1")](p),v=c[_0x27ab("0xb3")][_0x27ab("0x0")]-1}else v=0,c[_0x27ab("0xb3")]=c[_0x27ab("0xb3")].slice(0,3);var A=c[_0x27ab("0xb1")][_0x27ab("0x40d")],m=this[_0x27ab("0x409")](g[_0x27ab("0x1d5")],g[_0x27ab("0x1d5")]+g[_0x27ab("0xc4")],v,A);c[_0x27ab("0xb1")][_0x27ab("0x140")]();var C=!0,I=!1,y=void 0;try{for(var E,w=(0,e[_0x27ab("0xb")])(m);!(C=(E=w[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);C=!0){var T=E[_0x27ab("0xf8")];c[_0x27ab("0xb1")][_0x27ab("0x141")](T.start,T[_0x27ab("0xc4")],T[_0x27ab("0x40a")])}}catch(x){I=!0,y=x}finally{try{!C&&w[_0x27ab("0x2be")]&&w[_0x27ab("0x2be")]()}finally{if(I)throw y}}break}}}catch(x){f=!0,u=x}finally{try{!l&&h[_0x27ab("0x2be")]&&h.return()}finally{if(f)throw u}}}}catch(x){n=!0,r=x}finally{try{!i&&o.return&&o[_0x27ab("0x2be")]()}finally{if(n)throw r}}}}},{key:_0x27ab("0x40e"),value:function(){this.lastSelectNode&&(this[_0x27ab("0x404")](this.lastSelectNode[_0x27ab("0x40f")],this[_0x27ab("0x405")].id,!1,this[_0x27ab("0x405")].lastSelectMatIndex),this[_0x27ab("0x405")]=null)}},{key:_0x27ab("0x410"),value:function(x,a){var b=!0,_=!1,t=void 0;try{for(var i,n=(0,e.default)(a);!(b=(i=n[_0x27ab("0x2b8")]()).done);b=!0){var r=i[_0x27ab("0xf8")];if(x>=r.start&&x<r[_0x27ab("0x1d5")]+r[_0x27ab("0xc4")])return r[_0x27ab("0x40a")]}}catch(x){_=!0,t=x}finally{try{!b&&n[_0x27ab("0x2be")]&&n[_0x27ab("0x2be")]()}finally{if(_)throw t}}return 0}},{key:_0x27ab("0x411"),value:function(x,a,b){var _=!!x.geometry.index,t=!0,i=!1,n=void 0;try{for(var r,s=(0,e[_0x27ab("0xb")])(x.geometry[_0x27ab("0x127")][_0x27ab("0x400")]);!(t=(r=s[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);t=!0){var o=r[_0x27ab("0xf8")];if(a===o.id){var c=0;c=_?x[_0x27ab("0xb1")][_0x27ab("0x300")][_0x27ab("0xc4")]:x.geometry[_0x27ab("0xc2")][_0x27ab("0xc3")].count;var l=x.geometry.groups;0==l[_0x27ab("0x0")]&&(l=[{start:0,count:c,materialIndex:2}]);var f=this.splitGroup(o[_0x27ab("0x1d5")],o[_0x27ab("0x1d5")]+o[_0x27ab("0xc4")],b?0:2,l);x[_0x27ab("0xb1")][_0x27ab("0x140")]();var u=!0,d=!1,h=void 0;try{for(var g,v=(0,e.default)(f);!(u=(g=v[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);u=!0){var p=g.value;x[_0x27ab("0xb1")][_0x27ab("0x141")](p[_0x27ab("0x1d5")],p[_0x27ab("0xc4")],p[_0x27ab("0x40a")])}}catch(x){d=!0,h=x}finally{try{!u&&v[_0x27ab("0x2be")]&&v[_0x27ab("0x2be")]()}finally{if(d)throw h}}break}}}catch(x){i=!0,n=x}finally{try{!t&&s[_0x27ab("0x2be")]&&s.return()}finally{if(i)throw n}}}},{key:"setTargetModelSelected",value:function(x,a,b){var _=arguments[_0x27ab("0x0")]>3&&void 0!==arguments[3]?arguments[3]:0,t=x[_0x27ab("0xc7")];if(t&&t[_0x27ab("0xb0")][_0x27ab("0x0")]>0){var i=!0,n=!1,r=void 0;try{for(var s,o=(0,e.default)(t[_0x27ab("0xb0")]);!(i=(s=o[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);i=!0){var c=s[_0x27ab("0xf8")],l=!!c[_0x27ab("0xb1")][_0x27ab("0x300")];if(!(c.name[_0x27ab("0xd1")]("_hidden")>-1)){var f=!0,u=!1,d=void 0;try{for(var h,g=(0,e[_0x27ab("0xb")])(c.geometry[_0x27ab("0x127")].groupData);!(f=(h=g[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);f=!0){var v=h.value;if(a===v.id){var p=0;p=l?c[_0x27ab("0xb1")][_0x27ab("0x300")][_0x27ab("0xc4")]:c[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")];var A=this[_0x27ab("0x409")](v[_0x27ab("0x1d5")],v.start+v[_0x27ab("0xc4")],b?1:_,[{start:0,count:p,materialIndex:0}]);c[_0x27ab("0xb1")][_0x27ab("0x140")]();var m=!0,C=!1,I=void 0;try{for(var y,E=(0,e.default)(A);!(m=(y=E.next())[_0x27ab("0x3df")]);m=!0){var w=y[_0x27ab("0xf8")];c.geometry.addGroup(w[_0x27ab("0x1d5")],w.count,w[_0x27ab("0x40a")])}}catch(x){C=!0,I=x}finally{try{!m&&E[_0x27ab("0x2be")]&&E[_0x27ab("0x2be")]()}finally{if(C)throw I}}break}}}catch(x){u=!0,d=x}finally{try{!f&&g.return&&g[_0x27ab("0x2be")]()}finally{if(u)throw d}}}}}catch(x){n=!0,r=x}finally{try{!i&&o[_0x27ab("0x2be")]&&o[_0x27ab("0x2be")]()}finally{if(n)throw r}}}}},{key:_0x27ab("0x402"),value:function(x,a){var b=!0,_=!1,t=void 0;try{for(var i,n=(0,e[_0x27ab("0xb")])(a);!(b=(i=n[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);b=!0){var r=i[_0x27ab("0xf8")],s=3*x;if(s>=r.start&&s<r[_0x27ab("0x1d5")]+r[_0x27ab("0xc4")])return r}}catch(x){_=!0,t=x}finally{try{!b&&n.return&&n[_0x27ab("0x2be")]()}finally{if(_)throw t}}}},{key:"clearCacheData",value:function(){this[_0x27ab("0xbe")][_0x27ab("0x0")]=0,this[_0x27ab("0x3d9")][_0x27ab("0x0")]=0}},{key:_0x27ab("0x412"),value:function(x,a,b){if(x&&x[_0x27ab("0xb0")][_0x27ab("0x0")]>0){var _=!0,t=!1,i=void 0;try{for(var n,r=(0,e[_0x27ab("0xb")])(x[_0x27ab("0xb0")]);!(_=(n=r.next())[_0x27ab("0x3df")]);_=!0){var s=n[_0x27ab("0xf8")];if(!s[_0x27ab("0xb1")][_0x27ab("0x127")][_0x27ab("0x400")])return!1;var o=!0,c=!1,l=void 0;try{for(var f,u=(0,e[_0x27ab("0xb")])(s[_0x27ab("0xb1")][_0x27ab("0x127")].groupData);!(o=(f=u[_0x27ab("0x2b8")]()).done);o=!0){var d=f[_0x27ab("0xf8")],h=!0,g=!1,v=void 0;try{for(var p,A=(0,e[_0x27ab("0xb")])(a);!(h=(p=A[_0x27ab("0x2b8")]()).done);h=!0){if(p.value===d.id){var m=this[_0x27ab("0x409")](d[_0x27ab("0x1d5")],d[_0x27ab("0x1d5")]+d[_0x27ab("0xc4")],b?0:2,s[_0x27ab("0xb1")].groups);s[_0x27ab("0xb1")][_0x27ab("0x140")]();var C=!0,I=!1,y=void 0;try{for(var E,w=(0,e[_0x27ab("0xb")])(m);!(C=(E=w[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);C=!0){var T=E.value;s[_0x27ab("0xb1")].addGroup(T[_0x27ab("0x1d5")],T[_0x27ab("0xc4")],T[_0x27ab("0x40a")])}}catch(x){I=!0,y=x}finally{try{!C&&w[_0x27ab("0x2be")]&&w[_0x27ab("0x2be")]()}finally{if(I)throw y}}}}}catch(x){g=!0,v=x}finally{try{!h&&A[_0x27ab("0x2be")]&&A[_0x27ab("0x2be")]()}finally{if(g)throw v}}}}catch(x){c=!0,l=x}finally{try{!o&&u[_0x27ab("0x2be")]&&u[_0x27ab("0x2be")]()}finally{if(c)throw l}}}}catch(x){t=!0,i=x}finally{try{!_&&r.return&&r[_0x27ab("0x2be")]()}finally{if(t)throw i}}}}},{key:_0x27ab("0x413"),value:function(x,a){if(x&&x[_0x27ab("0xb0")][_0x27ab("0x0")]>0){var b=!0,_=!1,t=void 0;try{for(var i,n=(0,e[_0x27ab("0xb")])(x[_0x27ab("0xb0")]);!(b=(i=n[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);b=!0){var r=i[_0x27ab("0xf8")];if(!r[_0x27ab("0xb1")][_0x27ab("0x127")][_0x27ab("0x400")])return!1;var s=!0,o=!1,c=void 0;try{for(var l,f=(0,e[_0x27ab("0xb")])(r[_0x27ab("0xb1")][_0x27ab("0x127")][_0x27ab("0x400")]);!(s=(l=f[_0x27ab("0x2b8")]()).done);s=!0){var u=l[_0x27ab("0xf8")];if(a===u.id)for(var d=u.start,h=0;h<r.geometry.groups[_0x27ab("0x0")];h++)if(r.geometry[_0x27ab("0x40d")][h][_0x27ab("0x1d5")]+r[_0x27ab("0xb1")][_0x27ab("0x40d")][h][_0x27ab("0xc4")]>d)return 0==r[_0x27ab("0xb1")].groups[h][_0x27ab("0x40a")]}}catch(x){o=!0,c=x}finally{try{!s&&f[_0x27ab("0x2be")]&&f[_0x27ab("0x2be")]()}finally{if(o)throw c}}}}catch(x){_=!0,t=x}finally{try{!b&&n[_0x27ab("0x2be")]&&n[_0x27ab("0x2be")]()}finally{if(_)throw t}}}}},{key:_0x27ab("0x409"),value:function(x,a,b,_,e){var t=this,i=[];_[_0x27ab("0x1b")]((function(x){i[_0x27ab("0x1")]({start:x.start,count:x.count,materialIndex:x[_0x27ab("0x40a")]}),e&&t[_0x27ab("0x414")][_0x27ab("0x1")]({start:x[_0x27ab("0x1d5")],end:x[_0x27ab("0x1d5")]+x[_0x27ab("0xc4")],materialIndex:x[_0x27ab("0x40a")]})}));for(var n,r=[],s=0;s<i[_0x27ab("0x0")];s++){var o=i[s],c=o.start+o.count,l=x>=o[_0x27ab("0x1d5")]&&x<c,f=a<=c&&a>o.start;(l||f)&&o.materialIndex!=b?l&&f?(e&&(t[_0x27ab("0x415")]=o[_0x27ab("0x40a")]),x>o[_0x27ab("0x1d5")]&&r.push({start:o[_0x27ab("0x1d5")],count:x-o.start,materialIndex:o[_0x27ab("0x40a")]}),r[_0x27ab("0x1")]({start:x,count:a-x,materialIndex:b}),a<c&&r[_0x27ab("0x1")]({start:a,count:c-a,materialIndex:o[_0x27ab("0x40a")]})):l?(e&&(t.lastSelectMatIndex=o.materialIndex),x>o[_0x27ab("0x1d5")]&&r[_0x27ab("0x1")]({start:o[_0x27ab("0x1d5")],count:x-o[_0x27ab("0x1d5")],materialIndex:o.materialIndex}),r[_0x27ab("0x1")]({start:x,count:c-x,materialIndex:b})):f&&(a<c&&r[_0x27ab("0x1")]({start:a,count:c-a,materialIndex:o[_0x27ab("0x40a")]}),r.push({start:o[_0x27ab("0x1d5")],count:a-o[_0x27ab("0x1d5")],materialIndex:b})):(x<=o[_0x27ab("0x1d5")]&&o[_0x27ab("0x1d5")]+o.count<=a&&(o[_0x27ab("0x40a")]=b),r[_0x27ab("0x1")](o))}r[_0x27ab("0x416")]((n="start",function(x,a){return x[n]-a[n]}));for(var u=0;u<r[_0x27ab("0x0")]-1;u++)r[u][_0x27ab("0x40a")]==r[u+1][_0x27ab("0x40a")]&&(r[u].count+=r[u+1][_0x27ab("0xc4")],r.splice(u+1,1),u--);return r}}]),x}();a.default=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=i(b(2)),e=i(b(0)),t=i(b(1));function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var n=function(){function x(a,b,_){(0,e[_0x27ab("0xb")])(this,x),this.options_=_,this[_0x27ab("0x417")]=null,this[_0x27ab("0x418")]=a,this[_0x27ab("0x419")]=b,this.w_,this.h_,this.margin_horiz=8,this[_0x27ab("0x41a")]=15}return(0,t[_0x27ab("0xb")])(x,[{key:"sl",value:function(x){for(var a=x[_0x27ab("0x0")],b=0,_=0;_<a;_++)b+=x[_][_0x27ab("0x2a")]();return parseInt(b,16)}},{key:_0x27ab("0x41b"),value:function(x,a){if(esmap[_0x27ab("0x32")][_0x27ab("0xd3")].mapService[_0x27ab("0x41c")](_0x27ab("0x41d"))||(this[_0x27ab("0x417")][_0x27ab("0xf6")]=!1,this[_0x27ab("0x417")].userData[_0x27ab("0xf6")]=!1),null!=this[_0x27ab("0x417")]){var b=x/2,_=a/2;this[_0x27ab("0x417")][_0x27ab("0xc3")][_0x27ab("0x123")](b-this.w_/2-this[_0x27ab("0x41e")],-_+this.h_/2+this[_0x27ab("0x41a")],1),this[_0x27ab("0x417")][_0x27ab("0x127")][_0x27ab("0xf6")]?this[_0x27ab("0x417")][_0x27ab("0xf6")]=!0:this.sprite_[_0x27ab("0xf6")]=!1}this[_0x27ab("0x418")]&&null==this[_0x27ab("0x417")]&&(this[_0x27ab("0x31")](),this[_0x27ab("0x417")][_0x27ab("0xf6")]=!0)}},{key:_0x27ab("0x41f"),value:function(x,a,b,_){if(null!=this[_0x27ab("0x420")]){var e=x/2,t=a/2;this[_0x27ab("0x420")][_0x27ab("0xc3")][_0x27ab("0x123")](e-this.w_/2-this[_0x27ab("0x41e")]+b,-t+this.h_/2+this.margin_verti+_,1)}this[_0x27ab("0x418")]&&null==this.sprite_2&&(this.initUserLogo(),this[_0x27ab("0x420")].visible=!0)}},{key:"init",value:function(){if(null==this[_0x27ab("0x417")]){var x=document[_0x27ab("0x20")](_0x27ab("0x421"));x.src=_0x27ab("0x422");var a=new THREE.Texture(x),b=esmap[_0x27ab("0x80")].getPlatform()[_0x27ab("0x22d")];this.w_=b?96:60,this.h_=b?25:15,a[_0x27ab("0x14d")]=THREE.LinearFilter,a[_0x27ab("0x146")]=!0,this[_0x27ab("0x417")]=new THREE.Sprite(new(THREE[_0x27ab("0x423")])({map:a})),this[_0x27ab("0x417")].userData.visible=20,this.sprite_[_0x27ab("0x24b")][_0x27ab("0x123")](this.w_,this.h_,1),this[_0x27ab("0x419")][_0x27ab("0x163")](this[_0x27ab("0x417")]);var _=this[_0x27ab("0x424")][_0x27ab("0x1fc")],e=_[_0x27ab("0x3c1")]-_[_0x27ab("0x425")],t=_[_0x27ab("0x426")]+_[_0x27ab("0x427")];this[_0x27ab("0x41b")](e,t)}}},{key:_0x27ab("0x428"),value:function(){var x=1&esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x175")]._ul;if(window.userCompany&&window.userLogoBase64&&x){var a=document[_0x27ab("0x20")](_0x27ab("0x421")),b=userLogoBase64[_0x27ab("0x28")](","),e=this.sl(b[2]),t=b[0];if(1==t)if(esmap[_0x27ab("0x80")][_0x27ab("0x7d")](t+e+window[_0x27ab("0x429")]+_0x27ab("0x42a"))!=b[1])return;a[_0x27ab("0x42b")]=_0x27ab("0x42c")+b[2];var i=new(THREE[_0x27ab("0x42d")])(a),n=esmap[_0x27ab("0x80")][_0x27ab("0x22c")]().isPC,r={w_:this.w_,h_:this.h_,x:0,y:0};window[_0x27ab("0x42e")]&&(0,_[_0x27ab("0xb")])(r,window.userLogoConfig),window[_0x27ab("0x42e")]&&(r.w_=n?r.w_:.7*r.w_,r.h_=n?r.h_:.7*r.h_,r.x=n?r.x:.7*r.x,r.y=n?r.y:.7*r.y),i[_0x27ab("0x14d")]=THREE[_0x27ab("0x42f")],i[_0x27ab("0x146")]=!0,this[_0x27ab("0x420")]=new(THREE[_0x27ab("0x2ad")])(new(THREE[_0x27ab("0x423")])({map:i})),this[_0x27ab("0x420")][_0x27ab("0x24b")][_0x27ab("0x123")](r.w_,r.h_,1),this[_0x27ab("0x420")][_0x27ab("0xc5")]=_0x27ab("0x430"),this[_0x27ab("0x419")][_0x27ab("0x163")](this[_0x27ab("0x420")]);var s=this[_0x27ab("0x424")].container,o=s[_0x27ab("0x3c1")],c=s[_0x27ab("0x426")]+20;this.updateHUD2(n?o-180:o-120,c-25,r.x,r.y)}}},{key:_0x27ab("0xf6"),set:function(x){x!=this[_0x27ab("0x418")]&&(this.visible_=x,x?(this[_0x27ab("0x31")](),this.sprite_.visible=!0):null!=this.sprite_&&(this[_0x27ab("0x417")].visible=!1))},get:function(){return this.visible_}}]),x}();a.default=n},function(x,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x431")],this[_0x27ab("0x432")]}return(0,e[_0x27ab("0xb")])(x,[{key:"parseBoundary",value:function(x){if(this.points_=[],this[_0x27ab("0x432")]=[],x[_0x27ab("0xd1")]("((")>=0)for(var a=x[_0x27ab("0x1a8")](2,x[_0x27ab("0x0")]-2)[_0x27ab("0x28")](/\)\)&&\(\(/),b=0;b<a[_0x27ab("0x0")];b++){for(var _=a[b][_0x27ab("0x28")](/,/),e=[],t={},i=0;i<_[_0x27ab("0x0")];i++){var n=_[i][_0x27ab("0x28")](" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1])};0==i&&(t=r),i>0&&(r.x=t.x+r.x,r.y=t.y+r.y),e[_0x27ab("0x1")](r)}this[_0x27ab("0x431")].push(e)}return this}},{key:"parse",value:function(x){if(this[_0x27ab("0x431")]=[],this.holes_=[],x.indexOf("((")>=0)for(var a=x.substring(2,x[_0x27ab("0x0")]-2)[_0x27ab("0x28")](/\),\(/),b=0;b<a[_0x27ab("0x0")];b++){for(var _=a[b][_0x27ab("0x28")](/,/),e=[],t={},i=0;i<_.length;i++){var n=_[i].split(" "),r={x:-parseFloat(n[0]),y:parseFloat(n[1])};0==i&&(t=r),i>0&&(r.x=t.x+r.x,r.y=t.y+r.y),e[_0x27ab("0x1")](r)}0==b?this[_0x27ab("0x431")][_0x27ab("0x1")](e):this[_0x27ab("0x432")].push(e)}return this}},{key:"parseIndoorGeo",value:function(x,a,b){if(this[_0x27ab("0x431")]=[],this[_0x27ab("0x432")]=[],x[_0x27ab("0xd1")](_0x27ab("0x433"))>=0)for(var _=x[_0x27ab("0x1a8")](n[_0x27ab("0x434")],x.length-3)[_0x27ab("0x28")](/\),\(/),e=0;e<_.length;e++){var t=_[e].split(/,/);if(0==e)for(var i=0;i<t.length;i++){var r=t[i].split(" "),s={x:-parseFloat(r[0])-a,y:parseFloat(r[1])+b};this[_0x27ab("0x431")][_0x27ab("0x1")](s)}else{var o=[];for(i=0;i<t[_0x27ab("0x0")];i++){r=t[i][_0x27ab("0x28")](" "),s={x:-parseFloat(r[0])-a,y:parseFloat(r[1])+b};o[_0x27ab("0x1")](s)}this.holes_[_0x27ab("0x1")](o)}}else if(x[_0x27ab("0xd1")](_0x27ab("0x435"))>=0)for(_=x[_0x27ab("0x1a8")](n.CLEN,x[_0x27ab("0x0")]-3).split(/\),\(/),e=0;e<_[_0x27ab("0x0")];e++){t=_[e][_0x27ab("0x28")](/,/);if(0==e)for(i=0;i<t.length;i++){r=t[i].split(" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])};this[_0x27ab("0x431")][_0x27ab("0x1")](s)}else{for(o=[],i=0;i<t.length;i++){r=t[i][_0x27ab("0x28")](" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])};o[_0x27ab("0x1")](s)}this[_0x27ab("0x432")][_0x27ab("0x1")](o)}}return this}},{key:_0x27ab("0x436"),value:function(){return null!=this[_0x27ab("0x432")]&&this[_0x27ab("0x432")][_0x27ab("0x0")]>0}}]),x}(),n=function x(){(0,_[_0x27ab("0xb")])(this,x)};n[_0x27ab("0x434")]=_0x27ab("0x433")[_0x27ab("0x0")],n.CLEN=_0x27ab("0x435")[_0x27ab("0x0")],n[_0x27ab("0x437")]=i,a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";var _=t(b(10)),e=t(b(16));function t(x){return x&&x.__esModule?x:{default:x}}var i,n=b(64),r=n.Reader,s=n[_0x27ab("0x438")],o=n[_0x27ab("0x439")],c=n.roots[_0x27ab("0xb")]||(n[_0x27ab("0x43a")][_0x27ab("0xb")]={});c[_0x27ab("0x32")]=((i={})[_0x27ab("0x43b")]=function(){function x(x){if(this[_0x27ab("0x43c")]=[],this.navs=[],this.panos=[],x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a.length;++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x.prototype[_0x27ab("0x79")]=0,x[_0x27ab("0x2")].maptime=0,x.prototype.Hash="",x[_0x27ab("0x2")][_0x27ab("0x43d")]=0,x[_0x27ab("0x2")].Type=0,x.prototype[_0x27ab("0xc5")]="",x[_0x27ab("0x2")][_0x27ab("0x43e")]="",x[_0x27ab("0x2")].Brief="",x[_0x27ab("0x2")].adcode="",x[_0x27ab("0x2")][_0x27ab("0x43f")]="",x[_0x27ab("0x2")].AS=0,x[_0x27ab("0x2")].BuildingHigh=0,x[_0x27ab("0x2")][_0x27ab("0x440")]="",x[_0x27ab("0x2")][_0x27ab("0x441")]=0,x[_0x27ab("0x2")].FirstRotateAngleY=0,x[_0x27ab("0x2")][_0x27ab("0x442")]=0,x[_0x27ab("0x2")][_0x27ab("0x443")]=0,x[_0x27ab("0x2")].DefaultFnum=0,x.prototype[_0x27ab("0x444")]=0,x.prototype.DefaultCenY=0,x[_0x27ab("0x2")][_0x27ab("0x445")]=0,x.prototype.x=0,x.prototype.y=0,x[_0x27ab("0x2")].z=0,x.prototype[_0x27ab("0x446")]=0,x[_0x27ab("0x2")][_0x27ab("0x447")]=0,x[_0x27ab("0x2")][_0x27ab("0x448")]=0,x[_0x27ab("0x2")][_0x27ab("0x449")]=0,x.prototype.ScaleLevel="",x[_0x27ab("0x2")].Remark="",x.prototype[_0x27ab("0x44a")]="",x[_0x27ab("0x2")].FloorHigh=0,x.prototype[_0x27ab("0x43c")]=o.emptyArray,x[_0x27ab("0x2")][_0x27ab("0x44b")]=o[_0x27ab("0x44c")],x[_0x27ab("0x2")][_0x27ab("0x44d")]=o[_0x27ab("0x44c")],x[_0x27ab("0x2")].styleid="",x[_0x27ab("0x2")][_0x27ab("0x7e")]="",x.prototype[_0x27ab("0xeb")]="",x[_0x27ab("0x2")][_0x27ab("0x44e")]="",x.prototype[_0x27ab("0x44f")]="",x[_0x27ab("0x2")].o1=0,x[_0x27ab("0x2")][_0x27ab("0x450")]="",x[_0x27ab("0x2")].o2=0,x[_0x27ab("0x2")].ul=0,x[_0x27ab("0x2")].t1="",x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){if(a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x79")]&&x.hasOwnProperty("version")&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x[_0x27ab("0x79")]),null!=x.maptime&&x[_0x27ab("0xc")](_0x27ab("0x455"))&&a[_0x27ab("0x453")](16)[_0x27ab("0x454")](x[_0x27ab("0x455")]),null!=x.Hash&&x.hasOwnProperty(_0x27ab("0x456"))&&a[_0x27ab("0x453")](26).string(x.Hash),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty("_id")&&a.uint32(32)[_0x27ab("0x454")](x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x457")]&&x[_0x27ab("0xc")]("Type")&&a.uint32(40)[_0x27ab("0x454")](x.Type),null!=x[_0x27ab("0xc5")]&&x.hasOwnProperty(_0x27ab("0xc5"))&&a.uint32(50)[_0x27ab("0x60")](x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x43e")]&&x[_0x27ab("0xc")](_0x27ab("0x43e"))&&a[_0x27ab("0x453")](58)[_0x27ab("0x60")](x[_0x27ab("0x43e")]),null!=x[_0x27ab("0x458")]&&x[_0x27ab("0xc")](_0x27ab("0x458"))&&a[_0x27ab("0x453")](66).string(x[_0x27ab("0x458")]),null!=x[_0x27ab("0x459")]&&x[_0x27ab("0xc")](_0x27ab("0x459"))&&a[_0x27ab("0x453")](74).string(x[_0x27ab("0x459")]),null!=x.address&&x.hasOwnProperty(_0x27ab("0x43f"))&&a[_0x27ab("0x453")](82)[_0x27ab("0x60")](x.address),null!=x.AS&&x[_0x27ab("0xc")]("AS")&&a.uint32(89).double(x.AS),null!=x[_0x27ab("0x45a")]&&x[_0x27ab("0xc")](_0x27ab("0x45a"))&&a.uint32(101)[_0x27ab("0x45b")](x.BuildingHigh),null!=x[_0x27ab("0x440")]&&x[_0x27ab("0xc")]("Tel")&&a.uint32(106)[_0x27ab("0x60")](x[_0x27ab("0x440")]),null!=x.FirstRotateAngleX&&x[_0x27ab("0xc")](_0x27ab("0x441"))&&a[_0x27ab("0x453")](113)[_0x27ab("0x45c")](x[_0x27ab("0x441")]),null!=x[_0x27ab("0x45d")]&&x[_0x27ab("0xc")](_0x27ab("0x45d"))&&a.uint32(121)[_0x27ab("0x45c")](x.FirstRotateAngleY),null!=x[_0x27ab("0x442")]&&x[_0x27ab("0xc")](_0x27ab("0x442"))&&a[_0x27ab("0x453")](129)[_0x27ab("0x45c")](x.FirstRotateAngleZ),null!=x.Firstscale&&x[_0x27ab("0xc")](_0x27ab("0x443"))&&a[_0x27ab("0x453")](137).double(x[_0x27ab("0x443")]),null!=x[_0x27ab("0x45e")]&&x.hasOwnProperty(_0x27ab("0x45e"))&&a.uint32(144).int32(x[_0x27ab("0x45e")]),null!=x[_0x27ab("0x444")]&&x[_0x27ab("0xc")](_0x27ab("0x444"))&&a[_0x27ab("0x453")](153).double(x[_0x27ab("0x444")]),null!=x[_0x27ab("0x45f")]&&x.hasOwnProperty(_0x27ab("0x45f"))&&a[_0x27ab("0x453")](161).double(x[_0x27ab("0x45f")]),null!=x[_0x27ab("0x445")]&&x[_0x27ab("0xc")](_0x27ab("0x445"))&&a.uint32(169).double(x[_0x27ab("0x445")]),null!=x.x&&x[_0x27ab("0xc")]("x")&&a[_0x27ab("0x453")](177)[_0x27ab("0x45c")](x.x),null!=x.y&&x[_0x27ab("0xc")]("y")&&a[_0x27ab("0x453")](185)[_0x27ab("0x45c")](x.y),null!=x.z&&x[_0x27ab("0xc")]("z")&&a[_0x27ab("0x453")](193)[_0x27ab("0x45c")](x.z),null!=x[_0x27ab("0x446")]&&x.hasOwnProperty("minX")&&a.uint32(201)[_0x27ab("0x45c")](x[_0x27ab("0x446")]),null!=x[_0x27ab("0x447")]&&x[_0x27ab("0xc")]("minY")&&a[_0x27ab("0x453")](209)[_0x27ab("0x45c")](x[_0x27ab("0x447")]),null!=x[_0x27ab("0x448")]&&x[_0x27ab("0xc")](_0x27ab("0x448"))&&a[_0x27ab("0x453")](217)[_0x27ab("0x45c")](x[_0x27ab("0x448")]),null!=x[_0x27ab("0x449")]&&x[_0x27ab("0xc")](_0x27ab("0x449"))&&a[_0x27ab("0x453")](225)[_0x27ab("0x45c")](x[_0x27ab("0x449")]),null!=x[_0x27ab("0x460")]&&x[_0x27ab("0xc")](_0x27ab("0x460"))&&a[_0x27ab("0x453")](234)[_0x27ab("0x60")](x[_0x27ab("0x460")]),null!=x.Remark&&x[_0x27ab("0xc")](_0x27ab("0x461"))&&a[_0x27ab("0x453")](242).string(x[_0x27ab("0x461")]),null!=x[_0x27ab("0x44a")]&&x[_0x27ab("0xc")](_0x27ab("0x44a"))&&a[_0x27ab("0x453")](250).string(x.FloorBarName),null!=x[_0x27ab("0x462")]&&x[_0x27ab("0xc")](_0x27ab("0x462"))&&a.uint32(256)[_0x27ab("0x454")](x[_0x27ab("0x462")]),null!=x[_0x27ab("0x43c")]&&x.floors[_0x27ab("0x0")])for(var b=0;b<x[_0x27ab("0x43c")].length;++b)c[_0x27ab("0x32")][_0x27ab("0x463")][_0x27ab("0x452")](x[_0x27ab("0x43c")][b],a[_0x27ab("0x453")](266)[_0x27ab("0x464")]())[_0x27ab("0x465")]();if(null!=x[_0x27ab("0x44b")]&&x[_0x27ab("0x44b")][_0x27ab("0x0")])for(b=0;b<x[_0x27ab("0x44b")][_0x27ab("0x0")];++b)c[_0x27ab("0x32")][_0x27ab("0x466")].encode(x[_0x27ab("0x44b")][b],a[_0x27ab("0x453")](274).fork())[_0x27ab("0x465")]();if(null!=x.panos&&x[_0x27ab("0x44d")][_0x27ab("0x0")])for(b=0;b<x.panos[_0x27ab("0x0")];++b)c[_0x27ab("0x32")][_0x27ab("0x467")][_0x27ab("0x452")](x[_0x27ab("0x44d")][b],a[_0x27ab("0x453")](282)[_0x27ab("0x464")]())[_0x27ab("0x465")]();return null!=x[_0x27ab("0x468")]&&x[_0x27ab("0xc")](_0x27ab("0x468"))&&a[_0x27ab("0x453")](290)[_0x27ab("0x60")](x[_0x27ab("0x468")]),null!=x[_0x27ab("0x7e")]&&x[_0x27ab("0xc")](_0x27ab("0x7e"))&&a[_0x27ab("0x453")](298).string(x[_0x27ab("0x7e")]),null!=x[_0x27ab("0xeb")]&&x[_0x27ab("0xc")](_0x27ab("0xeb"))&&a[_0x27ab("0x453")](306).string(x[_0x27ab("0xeb")]),null!=x.logotoken&&x[_0x27ab("0xc")]("logotoken")&&a[_0x27ab("0x453")](314)[_0x27ab("0x60")](x[_0x27ab("0x44e")]),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&a[_0x27ab("0x453")](322)[_0x27ab("0x60")](x[_0x27ab("0x44f")]),null!=x.o1&&x.hasOwnProperty("o1")&&a[_0x27ab("0x453")](328)[_0x27ab("0x454")](x.o1),null!=x[_0x27ab("0x450")]&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&a[_0x27ab("0x453")](338)[_0x27ab("0x60")](x.other2),null!=x.o2&&x.hasOwnProperty("o2")&&a.uint32(344)[_0x27ab("0x454")](x.o2),null!=x.ul&&x[_0x27ab("0xc")]("ul")&&a[_0x27ab("0x453")](352)[_0x27ab("0x454")](x.ul),null!=x.t1&&x[_0x27ab("0xc")]("t1")&&a[_0x27ab("0x453")](362).string(x.t1),a},x[_0x27ab("0x469")]=function(x,a){return this.encode(x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,_=new c.ESMap.ESMapSet;x[_0x27ab("0x3e4")]<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_[_0x27ab("0x79")]=x[_0x27ab("0x454")]();break;case 2:_.maptime=x[_0x27ab("0x454")]();break;case 3:_[_0x27ab("0x456")]=x.string();break;case 4:_[_0x27ab("0x43d")]=x[_0x27ab("0x454")]();break;case 5:_[_0x27ab("0x457")]=x[_0x27ab("0x454")]();break;case 6:_[_0x27ab("0xc5")]=x.string();break;case 7:_[_0x27ab("0x43e")]=x[_0x27ab("0x60")]();break;case 8:_[_0x27ab("0x458")]=x[_0x27ab("0x60")]();break;case 9:_[_0x27ab("0x459")]=x.string();break;case 10:_.address=x[_0x27ab("0x60")]();break;case 11:_.AS=x[_0x27ab("0x45c")]();break;case 12:_[_0x27ab("0x45a")]=x[_0x27ab("0x45b")]();break;case 13:_[_0x27ab("0x440")]=x[_0x27ab("0x60")]();break;case 14:_[_0x27ab("0x441")]=x[_0x27ab("0x45c")]();break;case 15:_[_0x27ab("0x45d")]=x[_0x27ab("0x45c")]();break;case 16:_.FirstRotateAngleZ=x[_0x27ab("0x45c")]();break;case 17:_[_0x27ab("0x443")]=x[_0x27ab("0x45c")]();break;case 18:_.DefaultFnum=x[_0x27ab("0x454")]();break;case 19:_.DefaultCenX=x[_0x27ab("0x45c")]();break;case 20:_.DefaultCenY=x[_0x27ab("0x45c")]();break;case 21:_.DefaultCenZ=x[_0x27ab("0x45c")]();break;case 22:_.x=x[_0x27ab("0x45c")]();break;case 23:_.y=x[_0x27ab("0x45c")]();break;case 24:_.z=x[_0x27ab("0x45c")]();break;case 25:_.minX=x[_0x27ab("0x45c")]();break;case 26:_[_0x27ab("0x447")]=x.double();break;case 27:_[_0x27ab("0x448")]=x.double();break;case 28:_[_0x27ab("0x449")]=x.double();break;case 29:_[_0x27ab("0x460")]=x.string();break;case 30:_[_0x27ab("0x461")]=x[_0x27ab("0x60")]();break;case 31:_[_0x27ab("0x44a")]=x.string();break;case 32:_[_0x27ab("0x462")]=x.int32();break;case 33:_[_0x27ab("0x43c")]&&_[_0x27ab("0x43c")].length||(_[_0x27ab("0x43c")]=[]),_.floors[_0x27ab("0x1")](c[_0x27ab("0x32")][_0x27ab("0x463")].decode(x,x[_0x27ab("0x453")]()));break;case 34:_[_0x27ab("0x44b")]&&_[_0x27ab("0x44b")][_0x27ab("0x0")]||(_[_0x27ab("0x44b")]=[]),_[_0x27ab("0x44b")].push(c[_0x27ab("0x32")][_0x27ab("0x466")][_0x27ab("0x43")](x,x[_0x27ab("0x453")]()));break;case 35:_[_0x27ab("0x44d")]&&_[_0x27ab("0x44d")][_0x27ab("0x0")]||(_[_0x27ab("0x44d")]=[]),_[_0x27ab("0x44d")][_0x27ab("0x1")](c[_0x27ab("0x32")].PicSet[_0x27ab("0x43")](x,x[_0x27ab("0x453")]()));break;case 36:_[_0x27ab("0x468")]=x[_0x27ab("0x60")]();break;case 37:_[_0x27ab("0x7e")]=x[_0x27ab("0x60")]();break;case 38:_.bid=x[_0x27ab("0x60")]();break;case 39:_.logotoken=x[_0x27ab("0x60")]();break;case 40:_[_0x27ab("0x44f")]=x[_0x27ab("0x60")]();break;case 41:_.o1=x[_0x27ab("0x454")]();break;case 42:_[_0x27ab("0x450")]=x[_0x27ab("0x60")]();break;case 43:_.o2=x[_0x27ab("0x454")]();break;case 44:_.ul=x[_0x27ab("0x454")]();break;case 45:_.t1=x[_0x27ab("0x60")]();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x.verify=function(x){if("object"!==(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_.default)(x))||null===x)return _0x27ab("0x46c");if(null!=x[_0x27ab("0x79")]&&x[_0x27ab("0xc")](_0x27ab("0x79"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x79")]))return _0x27ab("0x46e");if(null!=x[_0x27ab("0x455")]&&x[_0x27ab("0xc")]("maptime")&&!o.isInteger(x.maptime))return _0x27ab("0x46f");if(null!=x.Hash&&x[_0x27ab("0xc")](_0x27ab("0x456"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x456")]))return"Hash: string expected";if(null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")]))return _0x27ab("0x470");if(null!=x[_0x27ab("0x457")]&&x[_0x27ab("0xc")]("Type")&&!o[_0x27ab("0x46d")](x[_0x27ab("0x457")]))return _0x27ab("0x471");if(null!=x[_0x27ab("0xc5")]&&x.hasOwnProperty(_0x27ab("0xc5"))&&!o.isString(x[_0x27ab("0xc5")]))return _0x27ab("0x472");if(null!=x[_0x27ab("0x43e")]&&x[_0x27ab("0xc")](_0x27ab("0x43e"))&&!o[_0x27ab("0x1dc")](x.nameEn))return"nameEn: string expected";if(null!=x[_0x27ab("0x458")]&&x[_0x27ab("0xc")](_0x27ab("0x458"))&&!o[_0x27ab("0x1dc")](x.Brief))return"Brief: string expected";if(null!=x[_0x27ab("0x459")]&&x.hasOwnProperty(_0x27ab("0x459"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x459")]))return _0x27ab("0x473");if(null!=x[_0x27ab("0x43f")]&&x[_0x27ab("0xc")](_0x27ab("0x43f"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x43f")]))return"address: string expected";if(null!=x.AS&&x[_0x27ab("0xc")]("AS")&&typeof x.AS!==_0x27ab("0x148"))return"AS: number expected";if(null!=x[_0x27ab("0x45a")]&&x.hasOwnProperty("BuildingHigh")&&typeof x[_0x27ab("0x45a")]!==_0x27ab("0x148"))return _0x27ab("0x474");if(null!=x.Tel&&x[_0x27ab("0xc")](_0x27ab("0x440"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x440")]))return"Tel: string expected";if(null!=x[_0x27ab("0x441")]&&x.hasOwnProperty(_0x27ab("0x441"))&&typeof x[_0x27ab("0x441")]!==_0x27ab("0x148"))return"FirstRotateAngleX: number expected";if(null!=x[_0x27ab("0x45d")]&&x[_0x27ab("0xc")](_0x27ab("0x45d"))&&typeof x[_0x27ab("0x45d")]!==_0x27ab("0x148"))return _0x27ab("0x475");if(null!=x[_0x27ab("0x442")]&&x.hasOwnProperty("FirstRotateAngleZ")&&typeof x.FirstRotateAngleZ!==_0x27ab("0x148"))return"FirstRotateAngleZ: number expected";if(null!=x[_0x27ab("0x443")]&&x[_0x27ab("0xc")](_0x27ab("0x443"))&&typeof x[_0x27ab("0x443")]!==_0x27ab("0x148"))return _0x27ab("0x476");if(null!=x[_0x27ab("0x45e")]&&x[_0x27ab("0xc")]("DefaultFnum")&&!o[_0x27ab("0x46d")](x[_0x27ab("0x45e")]))return _0x27ab("0x477");if(null!=x[_0x27ab("0x444")]&&x[_0x27ab("0xc")]("DefaultCenX")&&typeof x[_0x27ab("0x444")]!==_0x27ab("0x148"))return"DefaultCenX: number expected";if(null!=x[_0x27ab("0x45f")]&&x.hasOwnProperty(_0x27ab("0x45f"))&&"number"!=typeof x.DefaultCenY)return"DefaultCenY: number expected";if(null!=x[_0x27ab("0x445")]&&x[_0x27ab("0xc")](_0x27ab("0x445"))&&typeof x[_0x27ab("0x445")]!==_0x27ab("0x148"))return _0x27ab("0x478");if(null!=x.x&&x.hasOwnProperty("x")&&typeof x.x!==_0x27ab("0x148"))return"x: number expected";if(null!=x.y&&x.hasOwnProperty("y")&&"number"!=typeof x.y)return _0x27ab("0x479");if(null!=x.z&&x[_0x27ab("0xc")]("z")&&typeof x.z!==_0x27ab("0x148"))return"z: number expected";if(null!=x[_0x27ab("0x446")]&&x[_0x27ab("0xc")](_0x27ab("0x446"))&&"number"!=typeof x.minX)return _0x27ab("0x47a");if(null!=x[_0x27ab("0x447")]&&x.hasOwnProperty("minY")&&"number"!=typeof x[_0x27ab("0x447")])return"minY: number expected";if(null!=x.maxX&&x.hasOwnProperty("maxX")&&typeof x[_0x27ab("0x448")]!==_0x27ab("0x148"))return"maxX: number expected";if(null!=x[_0x27ab("0x449")]&&x[_0x27ab("0xc")](_0x27ab("0x449"))&&typeof x.maxY!==_0x27ab("0x148"))return _0x27ab("0x47b");if(null!=x[_0x27ab("0x460")]&&x[_0x27ab("0xc")](_0x27ab("0x460"))&&!o[_0x27ab("0x1dc")](x.ScaleLevel))return _0x27ab("0x47c");if(null!=x.Remark&&x.hasOwnProperty(_0x27ab("0x461"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x461")]))return _0x27ab("0x47d");if(null!=x[_0x27ab("0x44a")]&&x[_0x27ab("0xc")](_0x27ab("0x44a"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x44a")]))return _0x27ab("0x47e");if(null!=x[_0x27ab("0x462")]&&x[_0x27ab("0xc")]("FloorHigh")&&!o[_0x27ab("0x46d")](x[_0x27ab("0x462")]))return _0x27ab("0x47f");if(null!=x.floors&&x[_0x27ab("0xc")](_0x27ab("0x43c"))){if(!Array[_0x27ab("0x480")](x[_0x27ab("0x43c")]))return _0x27ab("0x481");for(var a=0;a<x[_0x27ab("0x43c")].length;++a)if(b=c[_0x27ab("0x32")][_0x27ab("0x463")].verify(x[_0x27ab("0x43c")][a]))return _0x27ab("0x482")+b}if(null!=x[_0x27ab("0x44b")]&&x[_0x27ab("0xc")](_0x27ab("0x44b"))){if(!Array[_0x27ab("0x480")](x[_0x27ab("0x44b")]))return"navs: array expected";for(a=0;a<x[_0x27ab("0x44b")][_0x27ab("0x0")];++a)if(b=c.ESMap[_0x27ab("0x466")][_0x27ab("0x483")](x[_0x27ab("0x44b")][a]))return _0x27ab("0x484")+b}if(null!=x[_0x27ab("0x44d")]&&x[_0x27ab("0xc")](_0x27ab("0x44d"))){if(!Array.isArray(x[_0x27ab("0x44d")]))return"panos: array expected";for(a=0;a<x[_0x27ab("0x44d")][_0x27ab("0x0")];++a){var b;if(b=c[_0x27ab("0x32")][_0x27ab("0x467")][_0x27ab("0x483")](x[_0x27ab("0x44d")][a]))return _0x27ab("0x485")+b}}return null!=x[_0x27ab("0x468")]&&x[_0x27ab("0xc")](_0x27ab("0x468"))&&!o.isString(x.styleid)?_0x27ab("0x486"):null!=x[_0x27ab("0x7e")]&&x[_0x27ab("0xc")](_0x27ab("0x7e"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x7e")])?_0x27ab("0x487"):null!=x[_0x27ab("0xeb")]&&x[_0x27ab("0xc")](_0x27ab("0xeb"))&&!o.isString(x[_0x27ab("0xeb")])?_0x27ab("0x488"):null!=x[_0x27ab("0x44e")]&&x.hasOwnProperty(_0x27ab("0x44e"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x44e")])?"logotoken: string expected":null!=x.other1&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&!o[_0x27ab("0x1dc")](x.other1)?"other1: string expected":null!=x.o1&&x[_0x27ab("0xc")]("o1")&&!o.isInteger(x.o1)?_0x27ab("0x489"):null!=x[_0x27ab("0x450")]&&x.hasOwnProperty(_0x27ab("0x450"))&&!o[_0x27ab("0x1dc")](x.other2)?_0x27ab("0x48a"):null!=x.o2&&x[_0x27ab("0xc")]("o2")&&!o[_0x27ab("0x46d")](x.o2)?_0x27ab("0x48b"):null!=x.ul&&x[_0x27ab("0xc")]("ul")&&!o[_0x27ab("0x46d")](x.ul)?_0x27ab("0x48c"):null!=x.t1&&x.hasOwnProperty("t1")&&!o[_0x27ab("0x1dc")](x.t1)?_0x27ab("0x48d"):null},x.fromObject=function(x){if(x instanceof c.ESMap[_0x27ab("0x43b")])return x;var a=new(c.ESMap[_0x27ab("0x43b")]);if(null!=x[_0x27ab("0x79")]&&(a[_0x27ab("0x79")]=0|x[_0x27ab("0x79")]),null!=x.maptime&&(a[_0x27ab("0x455")]=0|x.maptime),null!=x.Hash&&(a[_0x27ab("0x456")]=String(x[_0x27ab("0x456")])),null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x.Type&&(a[_0x27ab("0x457")]=0|x[_0x27ab("0x457")]),null!=x.name&&(a.name=String(x[_0x27ab("0xc5")])),null!=x.nameEn&&(a[_0x27ab("0x43e")]=String(x.nameEn)),null!=x[_0x27ab("0x458")]&&(a[_0x27ab("0x458")]=String(x.Brief)),null!=x[_0x27ab("0x459")]&&(a.adcode=String(x[_0x27ab("0x459")])),null!=x.address&&(a[_0x27ab("0x43f")]=String(x[_0x27ab("0x43f")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x.BuildingHigh&&(a[_0x27ab("0x45a")]=Number(x.BuildingHigh)),null!=x.Tel&&(a[_0x27ab("0x440")]=String(x[_0x27ab("0x440")])),null!=x[_0x27ab("0x441")]&&(a[_0x27ab("0x441")]=Number(x[_0x27ab("0x441")])),null!=x[_0x27ab("0x45d")]&&(a[_0x27ab("0x45d")]=Number(x.FirstRotateAngleY)),null!=x[_0x27ab("0x442")]&&(a[_0x27ab("0x442")]=Number(x[_0x27ab("0x442")])),null!=x.Firstscale&&(a.Firstscale=Number(x.Firstscale)),null!=x[_0x27ab("0x45e")]&&(a[_0x27ab("0x45e")]=0|x[_0x27ab("0x45e")]),null!=x[_0x27ab("0x444")]&&(a[_0x27ab("0x444")]=Number(x[_0x27ab("0x444")])),null!=x[_0x27ab("0x45f")]&&(a.DefaultCenY=Number(x[_0x27ab("0x45f")])),null!=x[_0x27ab("0x445")]&&(a.DefaultCenZ=Number(x.DefaultCenZ)),null!=x.x&&(a.x=Number(x.x)),null!=x.y&&(a.y=Number(x.y)),null!=x.z&&(a.z=Number(x.z)),null!=x[_0x27ab("0x446")]&&(a.minX=Number(x[_0x27ab("0x446")])),null!=x[_0x27ab("0x447")]&&(a[_0x27ab("0x447")]=Number(x[_0x27ab("0x447")])),null!=x.maxX&&(a.maxX=Number(x[_0x27ab("0x448")])),null!=x[_0x27ab("0x449")]&&(a[_0x27ab("0x449")]=Number(x[_0x27ab("0x449")])),null!=x.ScaleLevel&&(a[_0x27ab("0x460")]=String(x.ScaleLevel)),null!=x[_0x27ab("0x461")]&&(a[_0x27ab("0x461")]=String(x[_0x27ab("0x461")])),null!=x[_0x27ab("0x44a")]&&(a[_0x27ab("0x44a")]=String(x.FloorBarName)),null!=x.FloorHigh&&(a[_0x27ab("0x462")]=0|x.FloorHigh),x[_0x27ab("0x43c")]){if(!Array[_0x27ab("0x480")](x[_0x27ab("0x43c")]))throw TypeError(_0x27ab("0x48e"));a[_0x27ab("0x43c")]=[];for(var b=0;b<x[_0x27ab("0x43c")][_0x27ab("0x0")];++b){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x43c")][b])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0x48f"));a[_0x27ab("0x43c")][b]=c[_0x27ab("0x32")][_0x27ab("0x463")][_0x27ab("0x490")](x.floors[b])}}if(x[_0x27ab("0x44b")]){if(!Array[_0x27ab("0x480")](x.navs))throw TypeError(_0x27ab("0x491"));for(a.navs=[],b=0;b<x[_0x27ab("0x44b")][_0x27ab("0x0")];++b){if("object"!==(0,_[_0x27ab("0xb")])(x[_0x27ab("0x44b")][b]))throw TypeError(_0x27ab("0x492"));a.navs[b]=c[_0x27ab("0x32")][_0x27ab("0x466")][_0x27ab("0x490")](x[_0x27ab("0x44b")][b])}}if(x[_0x27ab("0x44d")]){if(!Array[_0x27ab("0x480")](x[_0x27ab("0x44d")]))throw TypeError(_0x27ab("0x493"));for(a[_0x27ab("0x44d")]=[],b=0;b<x[_0x27ab("0x44d")][_0x27ab("0x0")];++b){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x44d")][b])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0x494"));a[_0x27ab("0x44d")][b]=c[_0x27ab("0x32")][_0x27ab("0x467")][_0x27ab("0x490")](x[_0x27ab("0x44d")][b])}}return null!=x[_0x27ab("0x468")]&&(a[_0x27ab("0x468")]=String(x.styleid)),null!=x[_0x27ab("0x7e")]&&(a[_0x27ab("0x7e")]=String(x[_0x27ab("0x7e")])),null!=x[_0x27ab("0xeb")]&&(a[_0x27ab("0xeb")]=String(x[_0x27ab("0xeb")])),null!=x[_0x27ab("0x44e")]&&(a.logotoken=String(x[_0x27ab("0x44e")])),null!=x[_0x27ab("0x44f")]&&(a.other1=String(x.other1)),null!=x.o1&&(a.o1=0|x.o1),null!=x[_0x27ab("0x450")]&&(a[_0x27ab("0x450")]=String(x.other2)),null!=x.o2&&(a.o2=0|x.o2),null!=x.ul&&(a.ul=0|x.ul),null!=x.t1&&(a.t1=String(x.t1)),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};if((a.arrays||a.defaults)&&(b.floors=[],b[_0x27ab("0x44b")]=[],b[_0x27ab("0x44d")]=[]),a.defaults&&(b[_0x27ab("0x79")]=0,b[_0x27ab("0x455")]=0,b[_0x27ab("0x456")]="",b[_0x27ab("0x43d")]=0,b[_0x27ab("0x457")]=0,b[_0x27ab("0xc5")]="",b[_0x27ab("0x43e")]="",b[_0x27ab("0x458")]="",b[_0x27ab("0x459")]="",b[_0x27ab("0x43f")]="",b.AS=0,b[_0x27ab("0x45a")]=0,b[_0x27ab("0x440")]="",b[_0x27ab("0x441")]=0,b.FirstRotateAngleY=0,b[_0x27ab("0x442")]=0,b[_0x27ab("0x443")]=0,b[_0x27ab("0x45e")]=0,b.DefaultCenX=0,b[_0x27ab("0x45f")]=0,b.DefaultCenZ=0,b.x=0,b.y=0,b.z=0,b[_0x27ab("0x446")]=0,b[_0x27ab("0x447")]=0,b.maxX=0,b.maxY=0,b.ScaleLevel="",b.Remark="",b[_0x27ab("0x44a")]="",b.FloorHigh=0,b[_0x27ab("0x468")]="",b[_0x27ab("0x7e")]="",b[_0x27ab("0xeb")]="",b[_0x27ab("0x44e")]="",b[_0x27ab("0x44f")]="",b.o1=0,b[_0x27ab("0x450")]="",b.o2=0,b.ul=0,b.t1=""),null!=x.version&&x[_0x27ab("0xc")](_0x27ab("0x79"))&&(b[_0x27ab("0x79")]=x[_0x27ab("0x79")]),null!=x.maptime&&x[_0x27ab("0xc")](_0x27ab("0x455"))&&(b[_0x27ab("0x455")]=x[_0x27ab("0x455")]),null!=x.Hash&&x[_0x27ab("0xc")]("Hash")&&(b.Hash=x[_0x27ab("0x456")]),null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b[_0x27ab("0x43d")]=x._id),null!=x[_0x27ab("0x457")]&&x[_0x27ab("0xc")]("Type")&&(b[_0x27ab("0x457")]=x.Type),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&(b[_0x27ab("0xc5")]=x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x43e")]&&x[_0x27ab("0xc")](_0x27ab("0x43e"))&&(b[_0x27ab("0x43e")]=x[_0x27ab("0x43e")]),null!=x[_0x27ab("0x458")]&&x.hasOwnProperty(_0x27ab("0x458"))&&(b[_0x27ab("0x458")]=x[_0x27ab("0x458")]),null!=x[_0x27ab("0x459")]&&x[_0x27ab("0xc")](_0x27ab("0x459"))&&(b[_0x27ab("0x459")]=x[_0x27ab("0x459")]),null!=x[_0x27ab("0x43f")]&&x[_0x27ab("0xc")]("address")&&(b.address=x.address),null!=x.AS&&x[_0x27ab("0xc")]("AS")&&(b.AS=x.AS),null!=x[_0x27ab("0x45a")]&&x[_0x27ab("0xc")](_0x27ab("0x45a"))&&(b[_0x27ab("0x45a")]=x[_0x27ab("0x45a")]),null!=x[_0x27ab("0x440")]&&x.hasOwnProperty(_0x27ab("0x440"))&&(b[_0x27ab("0x440")]=x.Tel),null!=x[_0x27ab("0x441")]&&x[_0x27ab("0xc")](_0x27ab("0x441"))&&(b.FirstRotateAngleX=x[_0x27ab("0x441")]),null!=x[_0x27ab("0x45d")]&&x.hasOwnProperty(_0x27ab("0x45d"))&&(b[_0x27ab("0x45d")]=x.FirstRotateAngleY),null!=x[_0x27ab("0x442")]&&x[_0x27ab("0xc")]("FirstRotateAngleZ")&&(b[_0x27ab("0x442")]=x[_0x27ab("0x442")]),null!=x[_0x27ab("0x443")]&&x.hasOwnProperty("Firstscale")&&(b[_0x27ab("0x443")]=x[_0x27ab("0x443")]),null!=x[_0x27ab("0x45e")]&&x[_0x27ab("0xc")](_0x27ab("0x45e"))&&(b[_0x27ab("0x45e")]=x[_0x27ab("0x45e")]),null!=x[_0x27ab("0x444")]&&x[_0x27ab("0xc")](_0x27ab("0x444"))&&(b[_0x27ab("0x444")]=x[_0x27ab("0x444")]),null!=x[_0x27ab("0x45f")]&&x[_0x27ab("0xc")](_0x27ab("0x45f"))&&(b[_0x27ab("0x45f")]=x[_0x27ab("0x45f")]),null!=x.DefaultCenZ&&x[_0x27ab("0xc")]("DefaultCenZ")&&(b[_0x27ab("0x445")]=x[_0x27ab("0x445")]),null!=x.x&&x[_0x27ab("0xc")]("x")&&(b.x=x.x),null!=x.y&&x.hasOwnProperty("y")&&(b.y=x.y),null!=x.z&&x.hasOwnProperty("z")&&(b.z=x.z),null!=x[_0x27ab("0x446")]&&x[_0x27ab("0xc")]("minX")&&(b[_0x27ab("0x446")]=x[_0x27ab("0x446")]),null!=x[_0x27ab("0x447")]&&x[_0x27ab("0xc")](_0x27ab("0x447"))&&(b.minY=x[_0x27ab("0x447")]),null!=x[_0x27ab("0x448")]&&x[_0x27ab("0xc")](_0x27ab("0x448"))&&(b[_0x27ab("0x448")]=x[_0x27ab("0x448")]),null!=x[_0x27ab("0x449")]&&x[_0x27ab("0xc")](_0x27ab("0x449"))&&(b.maxY=x[_0x27ab("0x449")]),null!=x[_0x27ab("0x460")]&&x[_0x27ab("0xc")](_0x27ab("0x460"))&&(b[_0x27ab("0x460")]=x[_0x27ab("0x460")]),null!=x[_0x27ab("0x461")]&&x[_0x27ab("0xc")]("Remark")&&(b.Remark=x[_0x27ab("0x461")]),null!=x[_0x27ab("0x44a")]&&x[_0x27ab("0xc")](_0x27ab("0x44a"))&&(b[_0x27ab("0x44a")]=x[_0x27ab("0x44a")]),null!=x[_0x27ab("0x462")]&&x[_0x27ab("0xc")]("FloorHigh")&&(b[_0x27ab("0x462")]=x[_0x27ab("0x462")]),x.floors&&x[_0x27ab("0x43c")][_0x27ab("0x0")]){b[_0x27ab("0x43c")]=[];for(var _=0;_<x[_0x27ab("0x43c")][_0x27ab("0x0")];++_)b[_0x27ab("0x43c")][_]=c[_0x27ab("0x32")][_0x27ab("0x463")][_0x27ab("0x495")](x[_0x27ab("0x43c")][_],a)}if(x[_0x27ab("0x44b")]&&x[_0x27ab("0x44b")][_0x27ab("0x0")])for(b.navs=[],_=0;_<x[_0x27ab("0x44b")][_0x27ab("0x0")];++_)b[_0x27ab("0x44b")][_]=c[_0x27ab("0x32")][_0x27ab("0x466")].toObject(x.navs[_],a);if(x[_0x27ab("0x44d")]&&x[_0x27ab("0x44d")].length)for(b[_0x27ab("0x44d")]=[],_=0;_<x[_0x27ab("0x44d")][_0x27ab("0x0")];++_)b.panos[_]=c[_0x27ab("0x32")].PicSet[_0x27ab("0x495")](x[_0x27ab("0x44d")][_],a);return null!=x[_0x27ab("0x468")]&&x[_0x27ab("0xc")](_0x27ab("0x468"))&&(b[_0x27ab("0x468")]=x[_0x27ab("0x468")]),null!=x[_0x27ab("0x7e")]&&x[_0x27ab("0xc")](_0x27ab("0x7e"))&&(b[_0x27ab("0x7e")]=x[_0x27ab("0x7e")]),null!=x[_0x27ab("0xeb")]&&x[_0x27ab("0xc")](_0x27ab("0xeb"))&&(b[_0x27ab("0xeb")]=x[_0x27ab("0xeb")]),null!=x[_0x27ab("0x44e")]&&x[_0x27ab("0xc")](_0x27ab("0x44e"))&&(b[_0x27ab("0x44e")]=x[_0x27ab("0x44e")]),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&(b.other1=x[_0x27ab("0x44f")]),null!=x.o1&&x.hasOwnProperty("o1")&&(b.o1=x.o1),null!=x.other2&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&(b[_0x27ab("0x450")]=x[_0x27ab("0x450")]),null!=x.o2&&x[_0x27ab("0xc")]("o2")&&(b.o2=x.o2),null!=x.ul&&x[_0x27ab("0xc")]("ul")&&(b.ul=x.ul),null!=x.t1&&x.hasOwnProperty("t1")&&(b.t1=x.t1),b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n[_0x27ab("0x439")].toJSONOptions)},x}(),i[_0x27ab("0x463")]=function(){function x(x){if(this[_0x27ab("0x498")]={},this[_0x27ab("0x499")]={},this[_0x27ab("0x17b")]={},this.Lifts={},x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x.prototype[_0x27ab("0x43d")]=0,x[_0x27ab("0x2")].floornum=0,x.prototype.floornumtext=0,x[_0x27ab("0x2")][_0x27ab("0xc5")]="",x.prototype[_0x27ab("0x49a")]="",x[_0x27ab("0x2")].AS=0,x[_0x27ab("0x2")][_0x27ab("0x49b")]=0,x[_0x27ab("0x2")].Elevation=0,x[_0x27ab("0x2")][_0x27ab("0x49c")]="",x.prototype[_0x27ab("0x49d")]="",x.prototype[_0x27ab("0x498")]=o[_0x27ab("0x49e")],x[_0x27ab("0x2")][_0x27ab("0x499")]=o.emptyObject,x[_0x27ab("0x2")].Labels=o[_0x27ab("0x49e")],x[_0x27ab("0x2")][_0x27ab("0x49f")]=o[_0x27ab("0x49e")],x[_0x27ab("0x2")][_0x27ab("0x187")]="",x[_0x27ab("0x2")][_0x27ab("0x4a0")]="",x[_0x27ab("0x2")][_0x27ab("0x44f")]="",x[_0x27ab("0x2")].other2="",x.create=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){if(a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty(_0x27ab("0x43d"))&&a[_0x27ab("0x453")](8).int32(x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x4a1")]&&x[_0x27ab("0xc")](_0x27ab("0x4a1"))&&a.uint32(16)[_0x27ab("0x454")](x[_0x27ab("0x4a1")]),null!=x[_0x27ab("0x4a2")]&&x[_0x27ab("0xc")](_0x27ab("0x4a2"))&&a[_0x27ab("0x453")](24)[_0x27ab("0x454")](x[_0x27ab("0x4a2")]),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&a.uint32(34)[_0x27ab("0x60")](x[_0x27ab("0xc5")]),null!=x.NameEn&&x[_0x27ab("0xc")]("NameEn")&&a[_0x27ab("0x453")](42).string(x[_0x27ab("0x49a")]),null!=x.AS&&x[_0x27ab("0xc")]("AS")&&a[_0x27ab("0x453")](49)[_0x27ab("0x45c")](x.AS),null!=x[_0x27ab("0x49b")]&&x[_0x27ab("0xc")]("Height")&&a.uint32(56)[_0x27ab("0x454")](x[_0x27ab("0x49b")]),null!=x[_0x27ab("0x4a3")]&&x[_0x27ab("0xc")]("Elevation")&&a[_0x27ab("0x453")](64).int32(x[_0x27ab("0x4a3")]),null!=x.Outline&&x.hasOwnProperty("Outline")&&a.uint32(74).string(x[_0x27ab("0x49c")]),null!=x[_0x27ab("0x49d")]&&x[_0x27ab("0xc")]("Alias")&&a[_0x27ab("0x453")](82)[_0x27ab("0x60")](x[_0x27ab("0x49d")]),null!=x[_0x27ab("0x498")]&&x[_0x27ab("0xc")](_0x27ab("0x498")))for(var b=(0,e.default)(x[_0x27ab("0x498")]),_=0;_<b[_0x27ab("0x0")];++_)a[_0x27ab("0x453")](90).fork().uint32(8).int32(b[_]),c[_0x27ab("0x32")].RoomSet.encode(x[_0x27ab("0x498")][b[_]],a[_0x27ab("0x453")](18).fork())[_0x27ab("0x465")]().ldelim();if(null!=x[_0x27ab("0x499")]&&x[_0x27ab("0xc")](_0x27ab("0x499")))for(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x499")]),_=0;_<b[_0x27ab("0x0")];++_)a[_0x27ab("0x453")](98)[_0x27ab("0x464")]()[_0x27ab("0x453")](8)[_0x27ab("0x454")](b[_]),c.ESMap.POISet[_0x27ab("0x452")](x[_0x27ab("0x499")][b[_]],a.uint32(18)[_0x27ab("0x464")]())[_0x27ab("0x465")]()[_0x27ab("0x465")]();if(null!=x[_0x27ab("0x17b")]&&x[_0x27ab("0xc")](_0x27ab("0x17b")))for(b=(0,e.default)(x[_0x27ab("0x17b")]),_=0;_<b.length;++_)a[_0x27ab("0x453")](106)[_0x27ab("0x464")]().uint32(8).int32(b[_]),c.ESMap[_0x27ab("0x4a4")][_0x27ab("0x452")](x[_0x27ab("0x17b")][b[_]],a[_0x27ab("0x453")](18).fork())[_0x27ab("0x465")]().ldelim();if(null!=x[_0x27ab("0x49f")]&&x[_0x27ab("0xc")](_0x27ab("0x49f")))for(b=(0,e.default)(x.Lifts),_=0;_<b[_0x27ab("0x0")];++_)a[_0x27ab("0x453")](114)[_0x27ab("0x464")]()[_0x27ab("0x453")](8)[_0x27ab("0x454")](b[_]),c[_0x27ab("0x32")][_0x27ab("0x4a5")].encode(x[_0x27ab("0x49f")][b[_]],a[_0x27ab("0x453")](18)[_0x27ab("0x464")]())[_0x27ab("0x465")]()[_0x27ab("0x465")]();return null!=x[_0x27ab("0x187")]&&x[_0x27ab("0xc")]("image")&&a[_0x27ab("0x453")](122)[_0x27ab("0x60")](x.image),null!=x[_0x27ab("0x4a0")]&&x.hasOwnProperty(_0x27ab("0x4a0"))&&a[_0x27ab("0x453")](130)[_0x27ab("0x60")](x[_0x27ab("0x4a0")]),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&a[_0x27ab("0x453")](138).string(x[_0x27ab("0x44f")]),null!=x[_0x27ab("0x450")]&&x.hasOwnProperty(_0x27ab("0x450"))&&a.uint32(146).string(x[_0x27ab("0x450")]),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r.create(x));for(var b,_=void 0===a?x[_0x27ab("0x46a")]:x.pos+a,e=new(c[_0x27ab("0x32")][_0x27ab("0x463")]);x.pos<_;){var t=x[_0x27ab("0x453")]();switch(t>>>3){case 1:e[_0x27ab("0x43d")]=x[_0x27ab("0x454")]();break;case 2:e.floornum=x[_0x27ab("0x454")]();break;case 3:e.floornumtext=x.int32();break;case 4:e[_0x27ab("0xc5")]=x.string();break;case 5:e[_0x27ab("0x49a")]=x[_0x27ab("0x60")]();break;case 6:e.AS=x[_0x27ab("0x45c")]();break;case 7:e[_0x27ab("0x49b")]=x[_0x27ab("0x454")]();break;case 8:e[_0x27ab("0x4a3")]=x.int32();break;case 9:e[_0x27ab("0x49c")]=x[_0x27ab("0x60")]();break;case 10:e.Alias=x[_0x27ab("0x60")]();break;case 11:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e[_0x27ab("0x498")]===o[_0x27ab("0x49e")]&&(e[_0x27ab("0x498")]={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e[_0x27ab("0x498")][b]=c.ESMap[_0x27ab("0x4a7")][_0x27ab("0x43")](x,x[_0x27ab("0x453")]());break;case 12:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e.Facility===o.emptyObject&&(e[_0x27ab("0x499")]={}),b=x[_0x27ab("0x454")](),x.pos++,e[_0x27ab("0x499")][b]=c.ESMap[_0x27ab("0x4a4")][_0x27ab("0x43")](x,x[_0x27ab("0x453")]());break;case 13:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e[_0x27ab("0x17b")]===o[_0x27ab("0x49e")]&&(e.Labels={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e[_0x27ab("0x17b")][b]=c.ESMap[_0x27ab("0x4a4")][_0x27ab("0x43")](x,x[_0x27ab("0x453")]());break;case 14:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e.Lifts===o[_0x27ab("0x49e")]&&(e[_0x27ab("0x49f")]={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e[_0x27ab("0x49f")][b]=c.ESMap.LiftSet.decode(x,x[_0x27ab("0x453")]());break;case 15:e[_0x27ab("0x187")]=x[_0x27ab("0x60")]();break;case 16:e[_0x27ab("0x4a0")]=x.string();break;case 17:e[_0x27ab("0x44f")]=x[_0x27ab("0x60")]();break;case 18:e[_0x27ab("0x450")]=x[_0x27ab("0x60")]();break;default:x[_0x27ab("0x46b")](7&t)}}return e},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){if("object"!==(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))||null===x)return _0x27ab("0x46c");if(null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")]))return _0x27ab("0x470");if(null!=x[_0x27ab("0x4a1")]&&x.hasOwnProperty(_0x27ab("0x4a1"))&&!o.isInteger(x[_0x27ab("0x4a1")]))return"floornum: integer expected";if(null!=x.floornumtext&&x[_0x27ab("0xc")](_0x27ab("0x4a2"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4a2")]))return _0x27ab("0x4a9");if(null!=x.name&&x.hasOwnProperty(_0x27ab("0xc5"))&&!o.isString(x[_0x27ab("0xc5")]))return _0x27ab("0x472");if(null!=x[_0x27ab("0x49a")]&&x[_0x27ab("0xc")](_0x27ab("0x49a"))&&!o.isString(x[_0x27ab("0x49a")]))return _0x27ab("0x4aa");if(null!=x.AS&&x[_0x27ab("0xc")]("AS")&&"number"!=typeof x.AS)return _0x27ab("0x4ab");if(null!=x[_0x27ab("0x49b")]&&x[_0x27ab("0xc")](_0x27ab("0x49b"))&&!o.isInteger(x[_0x27ab("0x49b")]))return"Height: integer expected";if(null!=x[_0x27ab("0x4a3")]&&x[_0x27ab("0xc")]("Elevation")&&!o[_0x27ab("0x46d")](x.Elevation))return _0x27ab("0x4ac");if(null!=x[_0x27ab("0x49c")]&&x[_0x27ab("0xc")](_0x27ab("0x49c"))&&!o[_0x27ab("0x1dc")](x.Outline))return _0x27ab("0x4ad");if(null!=x[_0x27ab("0x49d")]&&x.hasOwnProperty(_0x27ab("0x49d"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x49d")]))return _0x27ab("0x4ae");if(null!=x[_0x27ab("0x498")]&&x[_0x27ab("0xc")](_0x27ab("0x498"))){if(!o[_0x27ab("0x15")](x[_0x27ab("0x498")]))return _0x27ab("0x4af");for(var a=(0,e[_0x27ab("0xb")])(x.Rooms),b=0;b<a[_0x27ab("0x0")];++b){if(!o[_0x27ab("0x4b0")][_0x27ab("0x3b8")](a[b]))return"Rooms: integer key{k:int32} expected";if(t=c[_0x27ab("0x32")][_0x27ab("0x4a7")][_0x27ab("0x483")](x[_0x27ab("0x498")][a[b]]))return _0x27ab("0x4b1")+t}}if(null!=x[_0x27ab("0x499")]&&x.hasOwnProperty(_0x27ab("0x499"))){if(!o[_0x27ab("0x15")](x[_0x27ab("0x499")]))return"Facility: object expected";for(a=(0,e[_0x27ab("0xb")])(x.Facility),b=0;b<a[_0x27ab("0x0")];++b){if(!o[_0x27ab("0x4b0")][_0x27ab("0x3b8")](a[b]))return _0x27ab("0x4b2");if(t=c[_0x27ab("0x32")][_0x27ab("0x4a4")][_0x27ab("0x483")](x[_0x27ab("0x499")][a[b]]))return _0x27ab("0x4b3")+t}}if(null!=x[_0x27ab("0x17b")]&&x[_0x27ab("0xc")](_0x27ab("0x17b"))){if(!o[_0x27ab("0x15")](x[_0x27ab("0x17b")]))return"Labels: object expected";for(a=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x17b")]),b=0;b<a[_0x27ab("0x0")];++b){if(!o.key32Re[_0x27ab("0x3b8")](a[b]))return _0x27ab("0x4b4");if(t=c[_0x27ab("0x32")].POISet[_0x27ab("0x483")](x[_0x27ab("0x17b")][a[b]]))return"Labels."+t}}if(null!=x[_0x27ab("0x49f")]&&x[_0x27ab("0xc")]("Lifts")){if(!o[_0x27ab("0x15")](x[_0x27ab("0x49f")]))return _0x27ab("0x4b5");for(a=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x49f")]),b=0;b<a.length;++b){if(!o[_0x27ab("0x4b0")].test(a[b]))return _0x27ab("0x4b6");var t;if(t=c[_0x27ab("0x32")].LiftSet[_0x27ab("0x483")](x[_0x27ab("0x49f")][a[b]]))return _0x27ab("0x4b7")+t}}return null!=x[_0x27ab("0x187")]&&x[_0x27ab("0xc")](_0x27ab("0x187"))&&!o[_0x27ab("0x1dc")](x.image)?_0x27ab("0x4b8"):null!=x.imagesize&&x[_0x27ab("0xc")](_0x27ab("0x4a0"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x4a0")])?_0x27ab("0x4b9"):null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")]("other1")&&!o.isString(x[_0x27ab("0x44f")])?_0x27ab("0x4ba"):null!=x[_0x27ab("0x450")]&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x450")])?"other2: string expected":null},x[_0x27ab("0x490")]=function(x){if(x instanceof c[_0x27ab("0x32")][_0x27ab("0x463")])return x;var a=new(c[_0x27ab("0x32")][_0x27ab("0x463")]);if(null!=x._id&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x4a1")]&&(a.floornum=0|x.floornum),null!=x[_0x27ab("0x4a2")]&&(a[_0x27ab("0x4a2")]=0|x[_0x27ab("0x4a2")]),null!=x[_0x27ab("0xc5")]&&(a[_0x27ab("0xc5")]=String(x[_0x27ab("0xc5")])),null!=x[_0x27ab("0x49a")]&&(a[_0x27ab("0x49a")]=String(x[_0x27ab("0x49a")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x27ab("0x49b")]&&(a[_0x27ab("0x49b")]=0|x[_0x27ab("0x49b")]),null!=x.Elevation&&(a[_0x27ab("0x4a3")]=0|x[_0x27ab("0x4a3")]),null!=x[_0x27ab("0x49c")]&&(a[_0x27ab("0x49c")]=String(x[_0x27ab("0x49c")])),null!=x[_0x27ab("0x49d")]&&(a[_0x27ab("0x49d")]=String(x[_0x27ab("0x49d")])),x[_0x27ab("0x498")]){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x498")])!==_0x27ab("0x1c"))throw TypeError(".ESMap.FloorSet.Rooms: object expected");a[_0x27ab("0x498")]={};for(var b=(0,e.default)(x.Rooms),t=0;t<b.length;++t){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x498")][b[t]])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0x4bb"));a.Rooms[b[t]]=c[_0x27ab("0x32")].RoomSet.fromObject(x[_0x27ab("0x498")][b[t]])}}if(x[_0x27ab("0x499")]){if((0,_[_0x27ab("0xb")])(x.Facility)!==_0x27ab("0x1c"))throw TypeError(".ESMap.FloorSet.Facility: object expected");for(a[_0x27ab("0x499")]={},b=(0,e.default)(x[_0x27ab("0x499")]),t=0;t<b[_0x27ab("0x0")];++t){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x499")][b[t]])!==_0x27ab("0x1c"))throw TypeError(".ESMap.FloorSet.Facility: object expected");a[_0x27ab("0x499")][b[t]]=c[_0x27ab("0x32")].POISet[_0x27ab("0x490")](x[_0x27ab("0x499")][b[t]])}}if(x[_0x27ab("0x17b")]){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x17b")])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0x4bc"));for(a.Labels={},b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x17b")]),t=0;t<b.length;++t){if("object"!==(0,_[_0x27ab("0xb")])(x[_0x27ab("0x17b")][b[t]]))throw TypeError(".ESMap.FloorSet.Labels: object expected");a[_0x27ab("0x17b")][b[t]]=c.ESMap[_0x27ab("0x4a4")].fromObject(x.Labels[b[t]])}}if(x[_0x27ab("0x49f")]){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x49f")])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0x4bd"));for(a.Lifts={},b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x49f")]),t=0;t<b[_0x27ab("0x0")];++t){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x49f")][b[t]])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0x4bd"));a[_0x27ab("0x49f")][b[t]]=c[_0x27ab("0x32")][_0x27ab("0x4a5")].fromObject(x[_0x27ab("0x49f")][b[t]])}}return null!=x[_0x27ab("0x187")]&&(a[_0x27ab("0x187")]=String(x[_0x27ab("0x187")])),null!=x[_0x27ab("0x4a0")]&&(a[_0x27ab("0x4a0")]=String(x.imagesize)),null!=x[_0x27ab("0x44f")]&&(a[_0x27ab("0x44f")]=String(x.other1)),null!=x[_0x27ab("0x450")]&&(a[_0x27ab("0x450")]=String(x[_0x27ab("0x450")])),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b,_={};if((a[_0x27ab("0x4be")]||a.defaults)&&(_[_0x27ab("0x498")]={},_[_0x27ab("0x499")]={},_.Labels={},_.Lifts={}),a[_0x27ab("0x4bf")]&&(_[_0x27ab("0x43d")]=0,_[_0x27ab("0x4a1")]=0,_[_0x27ab("0x4a2")]=0,_[_0x27ab("0xc5")]="",_[_0x27ab("0x49a")]="",_.AS=0,_[_0x27ab("0x49b")]=0,_[_0x27ab("0x4a3")]=0,_[_0x27ab("0x49c")]="",_.Alias="",_[_0x27ab("0x187")]="",_[_0x27ab("0x4a0")]="",_[_0x27ab("0x44f")]="",_[_0x27ab("0x450")]=""),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")]("_id")&&(_[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x4a1")]&&x[_0x27ab("0xc")](_0x27ab("0x4a1"))&&(_[_0x27ab("0x4a1")]=x[_0x27ab("0x4a1")]),null!=x[_0x27ab("0x4a2")]&&x[_0x27ab("0xc")]("floornumtext")&&(_.floornumtext=x[_0x27ab("0x4a2")]),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&(_.name=x[_0x27ab("0xc5")]),null!=x.NameEn&&x.hasOwnProperty(_0x27ab("0x49a"))&&(_[_0x27ab("0x49a")]=x.NameEn),null!=x.AS&&x.hasOwnProperty("AS")&&(_.AS=x.AS),null!=x[_0x27ab("0x49b")]&&x[_0x27ab("0xc")](_0x27ab("0x49b"))&&(_[_0x27ab("0x49b")]=x[_0x27ab("0x49b")]),null!=x[_0x27ab("0x4a3")]&&x.hasOwnProperty(_0x27ab("0x4a3"))&&(_[_0x27ab("0x4a3")]=x[_0x27ab("0x4a3")]),null!=x[_0x27ab("0x49c")]&&x.hasOwnProperty("Outline")&&(_[_0x27ab("0x49c")]=x[_0x27ab("0x49c")]),null!=x[_0x27ab("0x49d")]&&x[_0x27ab("0xc")](_0x27ab("0x49d"))&&(_.Alias=x[_0x27ab("0x49d")]),x[_0x27ab("0x498")]&&(b=(0,e.default)(x[_0x27ab("0x498")]))[_0x27ab("0x0")]){_[_0x27ab("0x498")]={};for(var t=0;t<b[_0x27ab("0x0")];++t)_.Rooms[b[t]]=c[_0x27ab("0x32")][_0x27ab("0x4a7")][_0x27ab("0x495")](x[_0x27ab("0x498")][b[t]],a)}if(x[_0x27ab("0x499")]&&(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x499")]))[_0x27ab("0x0")])for(_[_0x27ab("0x499")]={},t=0;t<b[_0x27ab("0x0")];++t)_.Facility[b[t]]=c.ESMap[_0x27ab("0x4a4")][_0x27ab("0x495")](x[_0x27ab("0x499")][b[t]],a);if(x[_0x27ab("0x17b")]&&(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x17b")]))[_0x27ab("0x0")])for(_.Labels={},t=0;t<b.length;++t)_.Labels[b[t]]=c[_0x27ab("0x32")].POISet[_0x27ab("0x495")](x.Labels[b[t]],a);if(x[_0x27ab("0x49f")]&&(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x49f")]))[_0x27ab("0x0")])for(_[_0x27ab("0x49f")]={},t=0;t<b[_0x27ab("0x0")];++t)_[_0x27ab("0x49f")][b[t]]=c[_0x27ab("0x32")][_0x27ab("0x4a5")][_0x27ab("0x495")](x[_0x27ab("0x49f")][b[t]],a);return null!=x[_0x27ab("0x187")]&&x.hasOwnProperty(_0x27ab("0x187"))&&(_[_0x27ab("0x187")]=x.image),null!=x[_0x27ab("0x4a0")]&&x[_0x27ab("0xc")]("imagesize")&&(_[_0x27ab("0x4a0")]=x[_0x27ab("0x4a0")]),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")]("other1")&&(_[_0x27ab("0x44f")]=x[_0x27ab("0x44f")]),null!=x[_0x27ab("0x450")]&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&(_[_0x27ab("0x450")]=x[_0x27ab("0x450")]),_},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this.constructor[_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")].toJSON=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n[_0x27ab("0x439")][_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x4a7")]=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")][_0x27ab("0x43d")]=0,x[_0x27ab("0x2")].name="",x[_0x27ab("0x2")][_0x27ab("0x49a")]="",x[_0x27ab("0x2")][_0x27ab("0x458")]="",x[_0x27ab("0x2")][_0x27ab("0x4c1")]=0,x[_0x27ab("0x2")].RL="",x[_0x27ab("0x2")][_0x27ab("0x4c2")]="",x[_0x27ab("0x2")].BC=0,x.prototype.RC="",x.prototype.RH=0,x[_0x27ab("0x2")].RM="",x[_0x27ab("0x2")][_0x27ab("0x4c3")]="",x[_0x27ab("0x2")].RMR="",x[_0x27ab("0x2")][_0x27ab("0x4c4")]="",x[_0x27ab("0x2")].RS=0,x[_0x27ab("0x2")].SL=0,x[_0x27ab("0x2")][_0x27ab("0x4c5")]=0,x.prototype.CenY=0,x.prototype.AS=0,x[_0x27ab("0x2")].Outline="",x[_0x27ab("0x2")].PointID=0,x[_0x27ab("0x2")][_0x27ab("0x4c6")]=0,x.prototype.FS=0,x.prototype.FC="",x[_0x27ab("0x2")][_0x27ab("0x44f")]="",x.create=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){return a||(a=s.create()),null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x._id),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&a[_0x27ab("0x453")](18)[_0x27ab("0x60")](x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x49a")]&&x[_0x27ab("0xc")]("NameEn")&&a[_0x27ab("0x453")](26).string(x.NameEn),null!=x[_0x27ab("0x458")]&&x[_0x27ab("0xc")]("Brief")&&a[_0x27ab("0x453")](34).string(x[_0x27ab("0x458")]),null!=x.Tid&&x[_0x27ab("0xc")](_0x27ab("0x4c1"))&&a.uint32(40)[_0x27ab("0x454")](x[_0x27ab("0x4c1")]),null!=x.RL&&x[_0x27ab("0xc")]("RL")&&a.uint32(50)[_0x27ab("0x60")](x.RL),null!=x[_0x27ab("0x4c2")]&&x[_0x27ab("0xc")]("RLSize")&&a[_0x27ab("0x453")](58)[_0x27ab("0x60")](x.RLSize),null!=x.BC&&x[_0x27ab("0xc")]("BC")&&a.uint32(64)[_0x27ab("0x454")](x.BC),null!=x.RC&&x[_0x27ab("0xc")]("RC")&&a.uint32(74)[_0x27ab("0x60")](x.RC),null!=x.RH&&x.hasOwnProperty("RH")&&a.uint32(81)[_0x27ab("0x45c")](x.RH),null!=x.RM&&x[_0x27ab("0xc")]("RM")&&a[_0x27ab("0x453")](90)[_0x27ab("0x60")](x.RM),null!=x.RMS&&x[_0x27ab("0xc")](_0x27ab("0x4c3"))&&a.uint32(98)[_0x27ab("0x60")](x[_0x27ab("0x4c3")]),null!=x.RMR&&x[_0x27ab("0xc")](_0x27ab("0x4c7"))&&a[_0x27ab("0x453")](106)[_0x27ab("0x60")](x[_0x27ab("0x4c7")]),null!=x[_0x27ab("0x4c4")]&&x[_0x27ab("0xc")](_0x27ab("0x4c4"))&&a[_0x27ab("0x453")](114).string(x[_0x27ab("0x4c4")]),null!=x.RS&&x[_0x27ab("0xc")]("RS")&&a[_0x27ab("0x453")](120)[_0x27ab("0x454")](x.RS),null!=x.SL&&x.hasOwnProperty("SL")&&a.uint32(128)[_0x27ab("0x454")](x.SL),null!=x[_0x27ab("0x4c5")]&&x[_0x27ab("0xc")]("CenX")&&a[_0x27ab("0x453")](137)[_0x27ab("0x45c")](x[_0x27ab("0x4c5")]),null!=x[_0x27ab("0x4c8")]&&x[_0x27ab("0xc")]("CenY")&&a[_0x27ab("0x453")](145).double(x[_0x27ab("0x4c8")]),null!=x.AS&&x[_0x27ab("0xc")]("AS")&&a[_0x27ab("0x453")](153)[_0x27ab("0x45c")](x.AS),null!=x[_0x27ab("0x49c")]&&x.hasOwnProperty("Outline")&&a[_0x27ab("0x453")](162)[_0x27ab("0x60")](x[_0x27ab("0x49c")]),null!=x[_0x27ab("0x4c9")]&&x.hasOwnProperty(_0x27ab("0x4c9"))&&a.uint32(168)[_0x27ab("0x454")](x[_0x27ab("0x4c9")]),null!=x[_0x27ab("0x4c6")]&&x[_0x27ab("0xc")](_0x27ab("0x4c6"))&&a[_0x27ab("0x453")](176)[_0x27ab("0x454")](x[_0x27ab("0x4c6")]),null!=x.FS&&x[_0x27ab("0xc")]("FS")&&a[_0x27ab("0x453")](184)[_0x27ab("0x454")](x.FS),null!=x.FC&&x[_0x27ab("0xc")]("FC")&&a[_0x27ab("0x453")](194)[_0x27ab("0x60")](x.FC),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&a[_0x27ab("0x453")](202).string(x[_0x27ab("0x44f")]),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a).ldelim()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x.pos+a,_=new(c[_0x27ab("0x32")][_0x27ab("0x4a7")]);x.pos<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_[_0x27ab("0x43d")]=x.int32();break;case 2:_[_0x27ab("0xc5")]=x[_0x27ab("0x60")]();break;case 3:_[_0x27ab("0x49a")]=x[_0x27ab("0x60")]();break;case 4:_.Brief=x[_0x27ab("0x60")]();break;case 5:_[_0x27ab("0x4c1")]=x[_0x27ab("0x454")]();break;case 6:_.RL=x[_0x27ab("0x60")]();break;case 7:_[_0x27ab("0x4c2")]=x[_0x27ab("0x60")]();break;case 8:_.BC=x.int32();break;case 9:_.RC=x[_0x27ab("0x60")]();break;case 10:_.RH=x[_0x27ab("0x45c")]();break;case 11:_.RM=x[_0x27ab("0x60")]();break;case 12:_.RMS=x[_0x27ab("0x60")]();break;case 13:_.RMR=x[_0x27ab("0x60")]();break;case 14:_[_0x27ab("0x4c4")]=x.string();break;case 15:_.RS=x[_0x27ab("0x454")]();break;case 16:_.SL=x[_0x27ab("0x454")]();break;case 17:_[_0x27ab("0x4c5")]=x[_0x27ab("0x45c")]();break;case 18:_[_0x27ab("0x4c8")]=x[_0x27ab("0x45c")]();break;case 19:_.AS=x.double();break;case 20:_[_0x27ab("0x49c")]=x[_0x27ab("0x60")]();break;case 21:_[_0x27ab("0x4c9")]=x[_0x27ab("0x454")]();break;case 22:_[_0x27ab("0x4c6")]=x[_0x27ab("0x454")]();break;case 23:_.FS=x[_0x27ab("0x454")]();break;case 24:_.FC=x[_0x27ab("0x60")]();break;case 25:_.other1=x[_0x27ab("0x60")]();break;default:x.skipType(7&e)}}return _},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x.uint32())},x[_0x27ab("0x483")]=function(x){return(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?_0x27ab("0x46c"):null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")])?_0x27ab("0x470"):null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&!o.isString(x[_0x27ab("0xc5")])?_0x27ab("0x472"):null!=x[_0x27ab("0x49a")]&&x.hasOwnProperty("NameEn")&&!o[_0x27ab("0x1dc")](x.NameEn)?_0x27ab("0x4aa"):null!=x[_0x27ab("0x458")]&&x.hasOwnProperty(_0x27ab("0x458"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x458")])?_0x27ab("0x4ca"):null!=x[_0x27ab("0x4c1")]&&x.hasOwnProperty(_0x27ab("0x4c1"))&&!o[_0x27ab("0x46d")](x.Tid)?_0x27ab("0x4cb"):null!=x.RL&&x[_0x27ab("0xc")]("RL")&&!o.isString(x.RL)?"RL: string expected":null!=x[_0x27ab("0x4c2")]&&x.hasOwnProperty(_0x27ab("0x4c2"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x4c2")])?_0x27ab("0x4cc"):null!=x.BC&&x[_0x27ab("0xc")]("BC")&&!o[_0x27ab("0x46d")](x.BC)?"BC: integer expected":null!=x.RC&&x[_0x27ab("0xc")]("RC")&&!o[_0x27ab("0x1dc")](x.RC)?_0x27ab("0x4cd"):null!=x.RH&&x[_0x27ab("0xc")]("RH")&&"number"!=typeof x.RH?_0x27ab("0x4ce"):null!=x.RM&&x[_0x27ab("0xc")]("RM")&&!o[_0x27ab("0x1dc")](x.RM)?_0x27ab("0x4cf"):null!=x[_0x27ab("0x4c3")]&&x[_0x27ab("0xc")](_0x27ab("0x4c3"))&&!o[_0x27ab("0x1dc")](x.RMS)?_0x27ab("0x4d0"):null!=x.RMR&&x.hasOwnProperty(_0x27ab("0x4c7"))&&!o.isString(x[_0x27ab("0x4c7")])?_0x27ab("0x4d1"):null!=x[_0x27ab("0x4c4")]&&x[_0x27ab("0xc")](_0x27ab("0x4c4"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x4c4")])?"RMO: string expected":null!=x.RS&&x[_0x27ab("0xc")]("RS")&&!o.isInteger(x.RS)?_0x27ab("0x4d2"):null!=x.SL&&x[_0x27ab("0xc")]("SL")&&!o[_0x27ab("0x46d")](x.SL)?"SL: integer expected":null!=x.CenX&&x.hasOwnProperty(_0x27ab("0x4c5"))&&"number"!=typeof x.CenX?"CenX: number expected":null!=x[_0x27ab("0x4c8")]&&x[_0x27ab("0xc")]("CenY")&&"number"!=typeof x.CenY?_0x27ab("0x4d3"):null!=x.AS&&x[_0x27ab("0xc")]("AS")&&typeof x.AS!==_0x27ab("0x148")?"AS: number expected":null!=x.Outline&&x[_0x27ab("0xc")](_0x27ab("0x49c"))&&!o.isString(x[_0x27ab("0x49c")])?_0x27ab("0x4ad"):null!=x[_0x27ab("0x4c9")]&&x[_0x27ab("0xc")](_0x27ab("0x4c9"))&&!o.isInteger(x[_0x27ab("0x4c9")])?_0x27ab("0x4d4"):null!=x[_0x27ab("0x4c6")]&&x[_0x27ab("0xc")](_0x27ab("0x4c6"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4c6")])?_0x27ab("0x4d5"):null!=x.FS&&x[_0x27ab("0xc")]("FS")&&!o[_0x27ab("0x46d")](x.FS)?_0x27ab("0x4d6"):null!=x.FC&&x.hasOwnProperty("FC")&&!o[_0x27ab("0x1dc")](x.FC)?_0x27ab("0x4d7"):null!=x.other1&&x[_0x27ab("0xc")]("other1")&&!o[_0x27ab("0x1dc")](x.other1)?_0x27ab("0x4ba"):null},x.fromObject=function(x){if(x instanceof c.ESMap[_0x27ab("0x4a7")])return x;var a=new(c[_0x27ab("0x32")].RoomSet);return null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x.name&&(a.name=String(x[_0x27ab("0xc5")])),null!=x.NameEn&&(a[_0x27ab("0x49a")]=String(x.NameEn)),null!=x[_0x27ab("0x458")]&&(a.Brief=String(x[_0x27ab("0x458")])),null!=x.Tid&&(a.Tid=0|x[_0x27ab("0x4c1")]),null!=x.RL&&(a.RL=String(x.RL)),null!=x[_0x27ab("0x4c2")]&&(a[_0x27ab("0x4c2")]=String(x.RLSize)),null!=x.BC&&(a.BC=0|x.BC),null!=x.RC&&(a.RC=String(x.RC)),null!=x.RH&&(a.RH=Number(x.RH)),null!=x.RM&&(a.RM=String(x.RM)),null!=x.RMS&&(a.RMS=String(x[_0x27ab("0x4c3")])),null!=x[_0x27ab("0x4c7")]&&(a.RMR=String(x[_0x27ab("0x4c7")])),null!=x.RMO&&(a.RMO=String(x[_0x27ab("0x4c4")])),null!=x.RS&&(a.RS=0|x.RS),null!=x.SL&&(a.SL=0|x.SL),null!=x[_0x27ab("0x4c5")]&&(a.CenX=Number(x.CenX)),null!=x[_0x27ab("0x4c8")]&&(a[_0x27ab("0x4c8")]=Number(x[_0x27ab("0x4c8")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x27ab("0x49c")]&&(a[_0x27ab("0x49c")]=String(x[_0x27ab("0x49c")])),null!=x[_0x27ab("0x4c9")]&&(a[_0x27ab("0x4c9")]=0|x[_0x27ab("0x4c9")]),null!=x[_0x27ab("0x4c6")]&&(a[_0x27ab("0x4c6")]=0|x[_0x27ab("0x4c6")]),null!=x.FS&&(a.FS=0|x.FS),null!=x.FC&&(a.FC=String(x.FC)),null!=x[_0x27ab("0x44f")]&&(a[_0x27ab("0x44f")]=String(x[_0x27ab("0x44f")])),a},x[_0x27ab("0x2f8")]=x.fromObject,x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b._id=0,b[_0x27ab("0xc5")]="",b.NameEn="",b[_0x27ab("0x458")]="",b[_0x27ab("0x4c1")]=0,b.RL="",b[_0x27ab("0x4c2")]="",b.BC=0,b.RC="",b.RH=0,b.RM="",b[_0x27ab("0x4c3")]="",b[_0x27ab("0x4c7")]="",b[_0x27ab("0x4c4")]="",b.RS=0,b.SL=0,b[_0x27ab("0x4c5")]=0,b.CenY=0,b.AS=0,b[_0x27ab("0x49c")]="",b[_0x27ab("0x4c9")]=0,b.ShopID=0,b.FS=0,b.FC="",b.other1=""),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&(b[_0x27ab("0xc5")]=x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x49a")]&&x[_0x27ab("0xc")](_0x27ab("0x49a"))&&(b[_0x27ab("0x49a")]=x[_0x27ab("0x49a")]),null!=x[_0x27ab("0x458")]&&x[_0x27ab("0xc")](_0x27ab("0x458"))&&(b[_0x27ab("0x458")]=x.Brief),null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")](_0x27ab("0x4c1"))&&(b.Tid=x[_0x27ab("0x4c1")]),null!=x.RL&&x[_0x27ab("0xc")]("RL")&&(b.RL=x.RL),null!=x[_0x27ab("0x4c2")]&&x[_0x27ab("0xc")](_0x27ab("0x4c2"))&&(b[_0x27ab("0x4c2")]=x.RLSize),null!=x.BC&&x.hasOwnProperty("BC")&&(b.BC=x.BC),null!=x.RC&&x.hasOwnProperty("RC")&&(b.RC=x.RC),null!=x.RH&&x.hasOwnProperty("RH")&&(b.RH=x.RH),null!=x.RM&&x[_0x27ab("0xc")]("RM")&&(b.RM=x.RM),null!=x.RMS&&x[_0x27ab("0xc")](_0x27ab("0x4c3"))&&(b[_0x27ab("0x4c3")]=x[_0x27ab("0x4c3")]),null!=x[_0x27ab("0x4c7")]&&x.hasOwnProperty(_0x27ab("0x4c7"))&&(b.RMR=x[_0x27ab("0x4c7")]),null!=x.RMO&&x.hasOwnProperty(_0x27ab("0x4c4"))&&(b[_0x27ab("0x4c4")]=x[_0x27ab("0x4c4")]),null!=x.RS&&x.hasOwnProperty("RS")&&(b.RS=x.RS),null!=x.SL&&x.hasOwnProperty("SL")&&(b.SL=x.SL),null!=x.CenX&&x[_0x27ab("0xc")](_0x27ab("0x4c5"))&&(b[_0x27ab("0x4c5")]=x[_0x27ab("0x4c5")]),null!=x.CenY&&x[_0x27ab("0xc")](_0x27ab("0x4c8"))&&(b.CenY=x[_0x27ab("0x4c8")]),null!=x.AS&&x.hasOwnProperty("AS")&&(b.AS=x.AS),null!=x.Outline&&x.hasOwnProperty(_0x27ab("0x49c"))&&(b[_0x27ab("0x49c")]=x.Outline),null!=x[_0x27ab("0x4c9")]&&x[_0x27ab("0xc")](_0x27ab("0x4c9"))&&(b[_0x27ab("0x4c9")]=x[_0x27ab("0x4c9")]),null!=x[_0x27ab("0x4c6")]&&x.hasOwnProperty(_0x27ab("0x4c6"))&&(b.ShopID=x[_0x27ab("0x4c6")]),null!=x.FS&&x[_0x27ab("0xc")]("FS")&&(b.FS=x.FS),null!=x.FC&&x[_0x27ab("0xc")]("FC")&&(b.FC=x.FC),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")]("other1")&&(b[_0x27ab("0x44f")]=x[_0x27ab("0x44f")]),b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this.constructor[_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n[_0x27ab("0x439")].toJSONOptions)},x}(),i[_0x27ab("0x4a4")]=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")][_0x27ab("0x43d")]=0,x[_0x27ab("0x2")][_0x27ab("0xc5")]="",x[_0x27ab("0x2")][_0x27ab("0x49a")]="",x.prototype.Brief="",x.prototype[_0x27ab("0x4c1")]=0,x[_0x27ab("0x2")].X=0,x.prototype.Y=0,x.prototype.SL=0,x[_0x27ab("0x2")].SH=0,x[_0x27ab("0x2")].w=0,x.prototype.h=0,x[_0x27ab("0x2")].image="",x.prototype[_0x27ab("0x4d8")]=0,x[_0x27ab("0x2")][_0x27ab("0x44f")]="",x.prototype.ipos=0,x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x._id&&x[_0x27ab("0xc")]("_id")&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x[_0x27ab("0x43d")]),null!=x.name&&x.hasOwnProperty(_0x27ab("0xc5"))&&a[_0x27ab("0x453")](18).string(x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x49a")]&&x[_0x27ab("0xc")](_0x27ab("0x49a"))&&a.uint32(26)[_0x27ab("0x60")](x[_0x27ab("0x49a")]),null!=x[_0x27ab("0x458")]&&x[_0x27ab("0xc")](_0x27ab("0x458"))&&a[_0x27ab("0x453")](34)[_0x27ab("0x60")](x[_0x27ab("0x458")]),null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")]("Tid")&&a[_0x27ab("0x453")](40)[_0x27ab("0x454")](x[_0x27ab("0x4c1")]),null!=x.X&&x[_0x27ab("0xc")]("X")&&a[_0x27ab("0x453")](49)[_0x27ab("0x45c")](x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&a[_0x27ab("0x453")](57)[_0x27ab("0x45c")](x.Y),null!=x.SL&&x.hasOwnProperty("SL")&&a[_0x27ab("0x453")](64)[_0x27ab("0x454")](x.SL),null!=x.SH&&x[_0x27ab("0xc")]("SH")&&a.uint32(77)[_0x27ab("0x45b")](x.SH),null!=x.w&&x.hasOwnProperty("w")&&a[_0x27ab("0x453")](85)[_0x27ab("0x45b")](x.w),null!=x.h&&x.hasOwnProperty("h")&&a[_0x27ab("0x453")](93)[_0x27ab("0x45b")](x.h),null!=x[_0x27ab("0x187")]&&x[_0x27ab("0xc")]("image")&&a[_0x27ab("0x453")](98)[_0x27ab("0x60")](x[_0x27ab("0x187")]),null!=x.FSId&&x.hasOwnProperty(_0x27ab("0x4d8"))&&a[_0x27ab("0x453")](104)[_0x27ab("0x454")](x[_0x27ab("0x4d8")]),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&a[_0x27ab("0x453")](114)[_0x27ab("0x60")](x[_0x27ab("0x44f")]),null!=x[_0x27ab("0x182")]&&x[_0x27ab("0xc")](_0x27ab("0x182"))&&a[_0x27ab("0x453")](120).int32(x.ipos),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,_=new(c.ESMap[_0x27ab("0x4a4")]);x[_0x27ab("0x3e4")]<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_[_0x27ab("0x43d")]=x.int32();break;case 2:_[_0x27ab("0xc5")]=x[_0x27ab("0x60")]();break;case 3:_[_0x27ab("0x49a")]=x[_0x27ab("0x60")]();break;case 4:_[_0x27ab("0x458")]=x[_0x27ab("0x60")]();break;case 5:_[_0x27ab("0x4c1")]=x[_0x27ab("0x454")]();break;case 6:_.X=x.double();break;case 7:_.Y=x[_0x27ab("0x45c")]();break;case 8:_.SL=x[_0x27ab("0x454")]();break;case 9:_.SH=x[_0x27ab("0x45b")]();break;case 10:_.w=x[_0x27ab("0x45b")]();break;case 11:_.h=x.float();break;case 12:_[_0x27ab("0x187")]=x[_0x27ab("0x60")]();break;case 13:_[_0x27ab("0x4d8")]=x[_0x27ab("0x454")]();break;case 14:_[_0x27ab("0x44f")]=x[_0x27ab("0x60")]();break;case 15:_[_0x27ab("0x182")]=x[_0x27ab("0x454")]();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x.uint32())},x[_0x27ab("0x483")]=function(x){return(typeof x===_0x27ab("0x8")?"undefined":(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?_0x27ab("0x46c"):null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")]("_id")&&!o.isInteger(x[_0x27ab("0x43d")])?_0x27ab("0x470"):null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")]("name")&&!o[_0x27ab("0x1dc")](x[_0x27ab("0xc5")])?_0x27ab("0x472"):null!=x[_0x27ab("0x49a")]&&x[_0x27ab("0xc")](_0x27ab("0x49a"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x49a")])?"NameEn: string expected":null!=x[_0x27ab("0x458")]&&x[_0x27ab("0xc")](_0x27ab("0x458"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x458")])?"Brief: string expected":null!=x.Tid&&x[_0x27ab("0xc")]("Tid")&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4c1")])?"Tid: integer expected":null!=x.X&&x[_0x27ab("0xc")]("X")&&typeof x.X!==_0x27ab("0x148")?_0x27ab("0x4d9"):null!=x.Y&&x.hasOwnProperty("Y")&&typeof x.Y!==_0x27ab("0x148")?_0x27ab("0x4da"):null!=x.SL&&x[_0x27ab("0xc")]("SL")&&!o[_0x27ab("0x46d")](x.SL)?"SL: integer expected":null!=x.SH&&x[_0x27ab("0xc")]("SH")&&typeof x.SH!==_0x27ab("0x148")?_0x27ab("0x4db"):null!=x.w&&x[_0x27ab("0xc")]("w")&&typeof x.w!==_0x27ab("0x148")?_0x27ab("0x4dc"):null!=x.h&&x[_0x27ab("0xc")]("h")&&typeof x.h!==_0x27ab("0x148")?"h: number expected":null!=x[_0x27ab("0x187")]&&x[_0x27ab("0xc")](_0x27ab("0x187"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x187")])?_0x27ab("0x4b8"):null!=x.FSId&&x.hasOwnProperty(_0x27ab("0x4d8"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4d8")])?_0x27ab("0x4dd"):null!=x[_0x27ab("0x44f")]&&x.hasOwnProperty("other1")&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x44f")])?"other1: string expected":null!=x[_0x27ab("0x182")]&&x[_0x27ab("0xc")](_0x27ab("0x182"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x182")])?"ipos: integer expected":null},x[_0x27ab("0x490")]=function(x){if(x instanceof c[_0x27ab("0x32")].POISet)return x;var a=new c.ESMap.POISet;return null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x[_0x27ab("0xc5")]&&(a[_0x27ab("0xc5")]=String(x[_0x27ab("0xc5")])),null!=x[_0x27ab("0x49a")]&&(a[_0x27ab("0x49a")]=String(x[_0x27ab("0x49a")])),null!=x[_0x27ab("0x458")]&&(a.Brief=String(x[_0x27ab("0x458")])),null!=x[_0x27ab("0x4c1")]&&(a[_0x27ab("0x4c1")]=0|x.Tid),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x.SL&&(a.SL=0|x.SL),null!=x.SH&&(a.SH=Number(x.SH)),null!=x.w&&(a.w=Number(x.w)),null!=x.h&&(a.h=Number(x.h)),null!=x[_0x27ab("0x187")]&&(a[_0x27ab("0x187")]=String(x[_0x27ab("0x187")])),null!=x.FSId&&(a.FSId=0|x[_0x27ab("0x4d8")]),null!=x[_0x27ab("0x44f")]&&(a[_0x27ab("0x44f")]=String(x.other1)),null!=x[_0x27ab("0x182")]&&(a[_0x27ab("0x182")]=0|x[_0x27ab("0x182")]),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b._id=0,b[_0x27ab("0xc5")]="",b[_0x27ab("0x49a")]="",b[_0x27ab("0x458")]="",b[_0x27ab("0x4c1")]=0,b.X=0,b.Y=0,b.SL=0,b.SH=0,b.w=0,b.h=0,b[_0x27ab("0x187")]="",b[_0x27ab("0x4d8")]=0,b.other1="",b.ipos=0),null!=x._id&&x[_0x27ab("0xc")]("_id")&&(b[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0xc5")]&&x.hasOwnProperty(_0x27ab("0xc5"))&&(b[_0x27ab("0xc5")]=x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x49a")]&&x[_0x27ab("0xc")]("NameEn")&&(b[_0x27ab("0x49a")]=x.NameEn),null!=x[_0x27ab("0x458")]&&x[_0x27ab("0xc")](_0x27ab("0x458"))&&(b[_0x27ab("0x458")]=x[_0x27ab("0x458")]),null!=x[_0x27ab("0x4c1")]&&x.hasOwnProperty(_0x27ab("0x4c1"))&&(b[_0x27ab("0x4c1")]=x[_0x27ab("0x4c1")]),null!=x.X&&x[_0x27ab("0xc")]("X")&&(b.X=x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&(b.Y=x.Y),null!=x.SL&&x[_0x27ab("0xc")]("SL")&&(b.SL=x.SL),null!=x.SH&&x[_0x27ab("0xc")]("SH")&&(b.SH=x.SH),null!=x.w&&x[_0x27ab("0xc")]("w")&&(b.w=x.w),null!=x.h&&x[_0x27ab("0xc")]("h")&&(b.h=x.h),null!=x[_0x27ab("0x187")]&&x[_0x27ab("0xc")](_0x27ab("0x187"))&&(b[_0x27ab("0x187")]=x[_0x27ab("0x187")]),null!=x[_0x27ab("0x4d8")]&&x[_0x27ab("0xc")](_0x27ab("0x4d8"))&&(b[_0x27ab("0x4d8")]=x[_0x27ab("0x4d8")]),null!=x[_0x27ab("0x44f")]&&x.hasOwnProperty(_0x27ab("0x44f"))&&(b.other1=x.other1),null!=x.ipos&&x[_0x27ab("0xc")]("ipos")&&(b[_0x27ab("0x182")]=x[_0x27ab("0x182")]),b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")].toObject(this,n.util[_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x4a5")]=function(){function x(x){if(x)for(var a=(0,e.default)(x),b=0;b<a.length;++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x.prototype[_0x27ab("0x43d")]=0,x[_0x27ab("0x2")][_0x27ab("0xc5")]="",x[_0x27ab("0x2")][_0x27ab("0x4c1")]=0,x.prototype.F1=0,x[_0x27ab("0x2")].F2=0,x[_0x27ab("0x2")].ST=0,x[_0x27ab("0x2")].LT=0,x[_0x27ab("0x2")].LH=0,x[_0x27ab("0x2")].LM="",x[_0x27ab("0x2")].LS="",x[_0x27ab("0x2")].LR="",x[_0x27ab("0x2")].LO="",x[_0x27ab("0x2")].X1=0,x.prototype.X2=0,x[_0x27ab("0x2")].Y1=0,x[_0x27ab("0x2")].Y2=0,x[_0x27ab("0x2")].O1="",x.prototype.O2="",x[_0x27ab("0x2")].other1="",x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&a[_0x27ab("0x453")](8).int32(x[_0x27ab("0x43d")]),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&a[_0x27ab("0x453")](18)[_0x27ab("0x60")](x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")](_0x27ab("0x4c1"))&&a[_0x27ab("0x453")](24)[_0x27ab("0x454")](x[_0x27ab("0x4c1")]),null!=x.F1&&x[_0x27ab("0xc")]("F1")&&a[_0x27ab("0x453")](32).int32(x.F1),null!=x.F2&&x[_0x27ab("0xc")]("F2")&&a[_0x27ab("0x453")](40)[_0x27ab("0x454")](x.F2),null!=x.ST&&x[_0x27ab("0xc")]("ST")&&a[_0x27ab("0x453")](48)[_0x27ab("0x454")](x.ST),null!=x.LT&&x[_0x27ab("0xc")]("LT")&&a.uint32(56)[_0x27ab("0x454")](x.LT),null!=x.LH&&x.hasOwnProperty("LH")&&a[_0x27ab("0x453")](64)[_0x27ab("0x454")](x.LH),null!=x.LM&&x[_0x27ab("0xc")]("LM")&&a[_0x27ab("0x453")](74).string(x.LM),null!=x.LS&&x[_0x27ab("0xc")]("LS")&&a[_0x27ab("0x453")](82)[_0x27ab("0x60")](x.LS),null!=x.LR&&x[_0x27ab("0xc")]("LR")&&a.uint32(90)[_0x27ab("0x60")](x.LR),null!=x.LO&&x[_0x27ab("0xc")]("LO")&&a[_0x27ab("0x453")](98)[_0x27ab("0x60")](x.LO),null!=x.X1&&x.hasOwnProperty("X1")&&a[_0x27ab("0x453")](105)[_0x27ab("0x45c")](x.X1),null!=x.X2&&x[_0x27ab("0xc")]("X2")&&a.uint32(113).double(x.X2),null!=x.Y1&&x[_0x27ab("0xc")]("Y1")&&a[_0x27ab("0x453")](121).double(x.Y1),null!=x.Y2&&x[_0x27ab("0xc")]("Y2")&&a[_0x27ab("0x453")](129)[_0x27ab("0x45c")](x.Y2),null!=x.O1&&x[_0x27ab("0xc")]("O1")&&a[_0x27ab("0x453")](138)[_0x27ab("0x60")](x.O1),null!=x.O2&&x[_0x27ab("0xc")]("O2")&&a[_0x27ab("0x453")](146)[_0x27ab("0x60")](x.O2),null!=x.other1&&x[_0x27ab("0xc")]("other1")&&a[_0x27ab("0x453")](154)[_0x27ab("0x60")](x[_0x27ab("0x44f")]),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a)[_0x27ab("0x465")]()},x.decode=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,_=new(c[_0x27ab("0x32")][_0x27ab("0x4a5")]);x[_0x27ab("0x3e4")]<b;){var e=x.uint32();switch(e>>>3){case 1:_[_0x27ab("0x43d")]=x.int32();break;case 2:_.name=x[_0x27ab("0x60")]();break;case 3:_[_0x27ab("0x4c1")]=x[_0x27ab("0x454")]();break;case 4:_.F1=x[_0x27ab("0x454")]();break;case 5:_.F2=x.int32();break;case 6:_.ST=x[_0x27ab("0x454")]();break;case 7:_.LT=x.int32();break;case 8:_.LH=x.int32();break;case 9:_.LM=x[_0x27ab("0x60")]();break;case 10:_.LS=x[_0x27ab("0x60")]();break;case 11:_.LR=x[_0x27ab("0x60")]();break;case 12:_.LO=x[_0x27ab("0x60")]();break;case 13:_.X1=x[_0x27ab("0x45c")]();break;case 14:_.X2=x[_0x27ab("0x45c")]();break;case 15:_.Y1=x[_0x27ab("0x45c")]();break;case 16:_.Y2=x.double();break;case 17:_.O1=x[_0x27ab("0x60")]();break;case 18:_.O2=x[_0x27ab("0x60")]();break;case 19:_[_0x27ab("0x44f")]=x.string();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x.uint32())},x[_0x27ab("0x483")]=function(x){return(typeof x===_0x27ab("0x8")?"undefined":(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?"object expected":null!=x._id&&x[_0x27ab("0xc")]("_id")&&!o[_0x27ab("0x46d")](x._id)?_0x27ab("0x470"):null!=x.name&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&!o.isString(x[_0x27ab("0xc5")])?"name: string expected":null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")](_0x27ab("0x4c1"))&&!o[_0x27ab("0x46d")](x.Tid)?_0x27ab("0x4cb"):null!=x.F1&&x.hasOwnProperty("F1")&&!o[_0x27ab("0x46d")](x.F1)?_0x27ab("0x4de"):null!=x.F2&&x.hasOwnProperty("F2")&&!o[_0x27ab("0x46d")](x.F2)?"F2: integer expected":null!=x.ST&&x[_0x27ab("0xc")]("ST")&&!o[_0x27ab("0x46d")](x.ST)?_0x27ab("0x4df"):null!=x.LT&&x[_0x27ab("0xc")]("LT")&&!o[_0x27ab("0x46d")](x.LT)?"LT: integer expected":null!=x.LH&&x.hasOwnProperty("LH")&&!o[_0x27ab("0x46d")](x.LH)?_0x27ab("0x4e0"):null!=x.LM&&x[_0x27ab("0xc")]("LM")&&!o.isString(x.LM)?_0x27ab("0x4e1"):null!=x.LS&&x[_0x27ab("0xc")]("LS")&&!o[_0x27ab("0x1dc")](x.LS)?_0x27ab("0x4e2"):null!=x.LR&&x[_0x27ab("0xc")]("LR")&&!o[_0x27ab("0x1dc")](x.LR)?_0x27ab("0x4e3"):null!=x.LO&&x[_0x27ab("0xc")]("LO")&&!o.isString(x.LO)?"LO: string expected":null!=x.X1&&x.hasOwnProperty("X1")&&typeof x.X1!==_0x27ab("0x148")?_0x27ab("0x4e4"):null!=x.X2&&x[_0x27ab("0xc")]("X2")&&typeof x.X2!==_0x27ab("0x148")?"X2: number expected":null!=x.Y1&&x[_0x27ab("0xc")]("Y1")&&typeof x.Y1!==_0x27ab("0x148")?_0x27ab("0x4e5"):null!=x.Y2&&x[_0x27ab("0xc")]("Y2")&&typeof x.Y2!==_0x27ab("0x148")?_0x27ab("0x4e6"):null!=x.O1&&x[_0x27ab("0xc")]("O1")&&!o[_0x27ab("0x1dc")](x.O1)?_0x27ab("0x4e7"):null!=x.O2&&x[_0x27ab("0xc")]("O2")&&!o[_0x27ab("0x1dc")](x.O2)?"O2: string expected":null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x44f")])?_0x27ab("0x4ba"):null},x[_0x27ab("0x490")]=function(x){if(x instanceof c[_0x27ab("0x32")][_0x27ab("0x4a5")])return x;var a=new(c.ESMap[_0x27ab("0x4a5")]);return null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x[_0x27ab("0xc5")]&&(a[_0x27ab("0xc5")]=String(x[_0x27ab("0xc5")])),null!=x[_0x27ab("0x4c1")]&&(a[_0x27ab("0x4c1")]=0|x[_0x27ab("0x4c1")]),null!=x.F1&&(a.F1=0|x.F1),null!=x.F2&&(a.F2=0|x.F2),null!=x.ST&&(a.ST=0|x.ST),null!=x.LT&&(a.LT=0|x.LT),null!=x.LH&&(a.LH=0|x.LH),null!=x.LM&&(a.LM=String(x.LM)),null!=x.LS&&(a.LS=String(x.LS)),null!=x.LR&&(a.LR=String(x.LR)),null!=x.LO&&(a.LO=String(x.LO)),null!=x.X1&&(a.X1=Number(x.X1)),null!=x.X2&&(a.X2=Number(x.X2)),null!=x.Y1&&(a.Y1=Number(x.Y1)),null!=x.Y2&&(a.Y2=Number(x.Y2)),null!=x.O1&&(a.O1=String(x.O1)),null!=x.O2&&(a.O2=String(x.O2)),null!=x[_0x27ab("0x44f")]&&(a.other1=String(x[_0x27ab("0x44f")])),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b[_0x27ab("0x43d")]=0,b[_0x27ab("0xc5")]="",b[_0x27ab("0x4c1")]=0,b.F1=0,b.F2=0,b.ST=0,b.LT=0,b.LH=0,b.LM="",b.LS="",b.LR="",b.LO="",b.X1=0,b.X2=0,b.Y1=0,b.Y2=0,b.O1="",b.O2="",b.other1=""),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")]("_id")&&(b._id=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")]("name")&&(b.name=x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")](_0x27ab("0x4c1"))&&(b[_0x27ab("0x4c1")]=x[_0x27ab("0x4c1")]),null!=x.F1&&x[_0x27ab("0xc")]("F1")&&(b.F1=x.F1),null!=x.F2&&x[_0x27ab("0xc")]("F2")&&(b.F2=x.F2),null!=x.ST&&x[_0x27ab("0xc")]("ST")&&(b.ST=x.ST),null!=x.LT&&x[_0x27ab("0xc")]("LT")&&(b.LT=x.LT),null!=x.LH&&x[_0x27ab("0xc")]("LH")&&(b.LH=x.LH),null!=x.LM&&x[_0x27ab("0xc")]("LM")&&(b.LM=x.LM),null!=x.LS&&x[_0x27ab("0xc")]("LS")&&(b.LS=x.LS),null!=x.LR&&x[_0x27ab("0xc")]("LR")&&(b.LR=x.LR),null!=x.LO&&x[_0x27ab("0xc")]("LO")&&(b.LO=x.LO),null!=x.X1&&x.hasOwnProperty("X1")&&(b.X1=x.X1),null!=x.X2&&x[_0x27ab("0xc")]("X2")&&(b.X2=x.X2),null!=x.Y1&&x[_0x27ab("0xc")]("Y1")&&(b.Y1=x.Y1),null!=x.Y2&&x[_0x27ab("0xc")]("Y2")&&(b.Y2=x.Y2),null!=x.O1&&x.hasOwnProperty("O1")&&(b.O1=x.O1),null!=x.O2&&x[_0x27ab("0xc")]("O2")&&(b.O2=x.O2),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&(b.other1=x[_0x27ab("0x44f")]),b},x[_0x27ab("0x2")].toObject=function(x){return this.constructor[_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n.util[_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x466")]=function(){function x(x){if(this[_0x27ab("0x4e8")]={},this[_0x27ab("0x4e9")]={},x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")][_0x27ab("0x4a1")]=0,x[_0x27ab("0x2")][_0x27ab("0x4e8")]=o.emptyObject,x.prototype[_0x27ab("0x4e9")]=o[_0x27ab("0x49e")],x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){if(a||(a=s.create()),null!=x.floornum&&x[_0x27ab("0xc")](_0x27ab("0x4a1"))&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x[_0x27ab("0x4a1")]),null!=x[_0x27ab("0x4e8")]&&x.hasOwnProperty(_0x27ab("0x4e8")))for(var b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e8")]),_=0;_<b[_0x27ab("0x0")];++_)a.uint32(18)[_0x27ab("0x464")]()[_0x27ab("0x453")](8).int32(b[_]),c[_0x27ab("0x32")][_0x27ab("0x4ea")].encode(x.Nodes[b[_]],a.uint32(18)[_0x27ab("0x464")]())[_0x27ab("0x465")]().ldelim();if(null!=x[_0x27ab("0x4e9")]&&x[_0x27ab("0xc")](_0x27ab("0x4e9")))for(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e9")]),_=0;_<b[_0x27ab("0x0")];++_)a[_0x27ab("0x453")](26)[_0x27ab("0x464")]().uint32(8).int32(b[_]),c[_0x27ab("0x32")][_0x27ab("0x4eb")][_0x27ab("0x452")](x[_0x27ab("0x4e9")][b[_]],a[_0x27ab("0x453")](18)[_0x27ab("0x464")]())[_0x27ab("0x465")]()[_0x27ab("0x465")]();return a},x.encodeDelimited=function(x,a){return this.encode(x,a)[_0x27ab("0x465")]()},x.decode=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b,_=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,e=new(c[_0x27ab("0x32")][_0x27ab("0x466")]);x[_0x27ab("0x3e4")]<_;){var t=x[_0x27ab("0x453")]();switch(t>>>3){case 1:e[_0x27ab("0x4a1")]=x.int32();break;case 2:x.skip().pos++,e[_0x27ab("0x4e8")]===o[_0x27ab("0x49e")]&&(e.Nodes={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e[_0x27ab("0x4e8")][b]=c[_0x27ab("0x32")][_0x27ab("0x4ea")][_0x27ab("0x43")](x,x[_0x27ab("0x453")]());break;case 3:x[_0x27ab("0x4a6")]().pos++,e[_0x27ab("0x4e9")]===o.emptyObject&&(e.Lines={}),b=x.int32(),x[_0x27ab("0x3e4")]++,e[_0x27ab("0x4e9")][b]=c[_0x27ab("0x32")][_0x27ab("0x4eb")][_0x27ab("0x43")](x,x[_0x27ab("0x453")]());break;default:x[_0x27ab("0x46b")](7&t)}}return e},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x.uint32())},x[_0x27ab("0x483")]=function(x){if("object"!==(void 0===x?"undefined":(0,_[_0x27ab("0xb")])(x))||null===x)return _0x27ab("0x46c");if(null!=x.floornum&&x[_0x27ab("0xc")]("floornum")&&!o.isInteger(x.floornum))return _0x27ab("0x4ec");if(null!=x.Nodes&&x.hasOwnProperty("Nodes")){if(!o[_0x27ab("0x15")](x[_0x27ab("0x4e8")]))return _0x27ab("0x4ed");for(var a=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e8")]),b=0;b<a[_0x27ab("0x0")];++b){if(!o.key32Re[_0x27ab("0x3b8")](a[b]))return _0x27ab("0x4ee");if(t=c[_0x27ab("0x32")].NavNodeSet[_0x27ab("0x483")](x.Nodes[a[b]]))return _0x27ab("0x4ef")+t}}if(null!=x.Lines&&x[_0x27ab("0xc")](_0x27ab("0x4e9"))){if(!o[_0x27ab("0x15")](x.Lines))return"Lines: object expected";for(a=(0,e[_0x27ab("0xb")])(x.Lines),b=0;b<a[_0x27ab("0x0")];++b){if(!o.key32Re[_0x27ab("0x3b8")](a[b]))return"Lines: integer key{k:int32} expected";var t;if(t=c.ESMap[_0x27ab("0x4eb")][_0x27ab("0x483")](x[_0x27ab("0x4e9")][a[b]]))return _0x27ab("0x4f0")+t}}return null},x.fromObject=function(x){if(x instanceof c[_0x27ab("0x32")][_0x27ab("0x466")])return x;var a=new(c[_0x27ab("0x32")].NavSet);if(null!=x[_0x27ab("0x4a1")]&&(a.floornum=0|x.floornum),x.Nodes){if("object"!==(0,_[_0x27ab("0xb")])(x[_0x27ab("0x4e8")]))throw TypeError(_0x27ab("0x4f1"));a[_0x27ab("0x4e8")]={};for(var b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e8")]),t=0;t<b[_0x27ab("0x0")];++t){if((0,_[_0x27ab("0xb")])(x.Nodes[b[t]])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0x4f1"));a[_0x27ab("0x4e8")][b[t]]=c.ESMap[_0x27ab("0x4ea")][_0x27ab("0x490")](x[_0x27ab("0x4e8")][b[t]])}}if(x[_0x27ab("0x4e9")]){if("object"!==(0,_[_0x27ab("0xb")])(x[_0x27ab("0x4e9")]))throw TypeError(_0x27ab("0x4f2"));for(a.Lines={},b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e9")]),t=0;t<b.length;++t){if((0,_[_0x27ab("0xb")])(x.Lines[b[t]])!==_0x27ab("0x1c"))throw TypeError(".ESMap.NavSet.Lines: object expected");a[_0x27ab("0x4e9")][b[t]]=c.ESMap[_0x27ab("0x4eb")][_0x27ab("0x490")](x[_0x27ab("0x4e9")][b[t]])}}return a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b,_={};if((a[_0x27ab("0x4be")]||a[_0x27ab("0x4bf")])&&(_[_0x27ab("0x4e8")]={},_[_0x27ab("0x4e9")]={}),a.defaults&&(_[_0x27ab("0x4a1")]=0),null!=x[_0x27ab("0x4a1")]&&x[_0x27ab("0xc")]("floornum")&&(_[_0x27ab("0x4a1")]=x[_0x27ab("0x4a1")]),x.Nodes&&(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e8")]))[_0x27ab("0x0")]){_.Nodes={};for(var t=0;t<b[_0x27ab("0x0")];++t)_[_0x27ab("0x4e8")][b[t]]=c[_0x27ab("0x32")][_0x27ab("0x4ea")][_0x27ab("0x495")](x[_0x27ab("0x4e8")][b[t]],a)}if(x[_0x27ab("0x4e9")]&&(b=(0,e.default)(x[_0x27ab("0x4e9")]))[_0x27ab("0x0")])for(_[_0x27ab("0x4e9")]={},t=0;t<b[_0x27ab("0x0")];++t)_[_0x27ab("0x4e9")][b[t]]=c.ESMap.NavLineSet[_0x27ab("0x495")](x.Lines[b[t]],a);return _},x.prototype.toObject=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n[_0x27ab("0x439")][_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x4ea")]=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")][_0x27ab("0x43d")]=0,x[_0x27ab("0x2")][_0x27ab("0x96")]=0,x[_0x27ab("0x2")][_0x27ab("0x4f3")]=0,x[_0x27ab("0x2")].X=0,x[_0x27ab("0x2")].Y=0,x[_0x27ab("0x2")].sid=0,x[_0x27ab("0x2")].Z=0,x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty(_0x27ab("0x43d"))&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x96")]&&x[_0x27ab("0xc")](_0x27ab("0x96"))&&a.uint32(16).int32(x.tid),null!=x[_0x27ab("0x4f3")]&&x.hasOwnProperty(_0x27ab("0x4f3"))&&a[_0x27ab("0x453")](24)[_0x27ab("0x454")](x[_0x27ab("0x4f3")]),null!=x.X&&x[_0x27ab("0xc")]("X")&&a.uint32(33)[_0x27ab("0x45c")](x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&a[_0x27ab("0x453")](41)[_0x27ab("0x45c")](x.Y),null!=x[_0x27ab("0x4f4")]&&x.hasOwnProperty("sid")&&a[_0x27ab("0x453")](48)[_0x27ab("0x454")](x[_0x27ab("0x4f4")]),null!=x.Z&&x[_0x27ab("0xc")]("Z")&&a[_0x27ab("0x453")](57)[_0x27ab("0x45c")](x.Z),a},x[_0x27ab("0x469")]=function(x,a){return this.encode(x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r.create(x));for(var b=void 0===a?x.len:x[_0x27ab("0x3e4")]+a,_=new c.ESMap.NavNodeSet;x[_0x27ab("0x3e4")]<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_[_0x27ab("0x43d")]=x[_0x27ab("0x454")]();break;case 2:_.tid=x[_0x27ab("0x454")]();break;case 3:_[_0x27ab("0x4f3")]=x.int32();break;case 4:_.X=x.double();break;case 5:_.Y=x[_0x27ab("0x45c")]();break;case 6:_[_0x27ab("0x4f4")]=x[_0x27ab("0x454")]();break;case 7:_.Z=x.double();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x27ab("0x453")]())},x.verify=function(x){return(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?_0x27ab("0x46c"):null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")])?_0x27ab("0x470"):null!=x.tid&&x[_0x27ab("0xc")](_0x27ab("0x96"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x96")])?_0x27ab("0x4f5"):null!=x.rid&&x[_0x27ab("0xc")](_0x27ab("0x4f3"))&&!o[_0x27ab("0x46d")](x.rid)?_0x27ab("0x4f6"):null!=x.X&&x[_0x27ab("0xc")]("X")&&typeof x.X!==_0x27ab("0x148")?"X: number expected":null!=x.Y&&x[_0x27ab("0xc")]("Y")&&typeof x.Y!==_0x27ab("0x148")?_0x27ab("0x4da"):null!=x.sid&&x[_0x27ab("0xc")](_0x27ab("0x4f4"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4f4")])?_0x27ab("0x4f7"):null!=x.Z&&x[_0x27ab("0xc")]("Z")&&"number"!=typeof x.Z?_0x27ab("0x4f8"):null},x[_0x27ab("0x490")]=function(x){if(x instanceof c.ESMap[_0x27ab("0x4ea")])return x;var a=new(c[_0x27ab("0x32")][_0x27ab("0x4ea")]);return null!=x._id&&(a[_0x27ab("0x43d")]=0|x._id),null!=x.tid&&(a[_0x27ab("0x96")]=0|x.tid),null!=x[_0x27ab("0x4f3")]&&(a[_0x27ab("0x4f3")]=0|x[_0x27ab("0x4f3")]),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x.sid&&(a[_0x27ab("0x4f4")]=0|x[_0x27ab("0x4f4")]),null!=x.Z&&(a.Z=Number(x.Z)),a},x.from=x.fromObject,x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b[_0x27ab("0x43d")]=0,b[_0x27ab("0x96")]=0,b[_0x27ab("0x4f3")]=0,b.X=0,b.Y=0,b.sid=0,b.Z=0),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x96")]&&x[_0x27ab("0xc")](_0x27ab("0x96"))&&(b[_0x27ab("0x96")]=x[_0x27ab("0x96")]),null!=x[_0x27ab("0x4f3")]&&x[_0x27ab("0xc")]("rid")&&(b[_0x27ab("0x4f3")]=x.rid),null!=x.X&&x[_0x27ab("0xc")]("X")&&(b.X=x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&(b.Y=x.Y),null!=x[_0x27ab("0x4f4")]&&x[_0x27ab("0xc")](_0x27ab("0x4f4"))&&(b.sid=x[_0x27ab("0x4f4")]),null!=x.Z&&x.hasOwnProperty("Z")&&(b.Z=x.Z),b},x.prototype[_0x27ab("0x495")]=function(x){return this.constructor[_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this.constructor[_0x27ab("0x495")](this,n[_0x27ab("0x439")][_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x4eb")]=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a.length;++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x.prototype[_0x27ab("0x43d")]=0,x[_0x27ab("0x2")].sid=0,x.prototype[_0x27ab("0x4f9")]=0,x[_0x27ab("0x2")][_0x27ab("0x4fa")]=0,x[_0x27ab("0x2")][_0x27ab("0x1bd")]=0,x[_0x27ab("0x2")].length=0,x[_0x27ab("0x2")][_0x27ab("0x4fb")]="",x[_0x27ab("0x2")].bstair="",x.create=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty(_0x27ab("0x43d"))&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x._id),null!=x[_0x27ab("0x4f4")]&&x.hasOwnProperty(_0x27ab("0x4f4"))&&a[_0x27ab("0x453")](16)[_0x27ab("0x454")](x[_0x27ab("0x4f4")]),null!=x[_0x27ab("0x4f9")]&&x[_0x27ab("0xc")](_0x27ab("0x4f9"))&&a.uint32(24)[_0x27ab("0x454")](x.eid),null!=x[_0x27ab("0x4fa")]&&x[_0x27ab("0xc")](_0x27ab("0x4fa"))&&a.uint32(32)[_0x27ab("0x454")](x[_0x27ab("0x4fa")]),null!=x.rank&&x[_0x27ab("0xc")](_0x27ab("0x1bd"))&&a[_0x27ab("0x453")](40)[_0x27ab("0x454")](x[_0x27ab("0x1bd")]),null!=x[_0x27ab("0x0")]&&x[_0x27ab("0xc")]("length")&&a.uint32(49)[_0x27ab("0x45c")](x[_0x27ab("0x0")]),null!=x[_0x27ab("0x4fb")]&&x[_0x27ab("0xc")](_0x27ab("0x4fb"))&&a[_0x27ab("0x453")](58)[_0x27ab("0x60")](x[_0x27ab("0x4fb")]),null!=x[_0x27ab("0x4fc")]&&x[_0x27ab("0xc")]("bstair")&&a[_0x27ab("0x453")](66)[_0x27ab("0x60")](x[_0x27ab("0x4fc")]),a},x.encodeDelimited=function(x,a){return this.encode(x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x.pos+a,_=new(c[_0x27ab("0x32")][_0x27ab("0x4eb")]);x[_0x27ab("0x3e4")]<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_[_0x27ab("0x43d")]=x[_0x27ab("0x454")]();break;case 2:_.sid=x[_0x27ab("0x454")]();break;case 3:_[_0x27ab("0x4f9")]=x[_0x27ab("0x454")]();break;case 4:_[_0x27ab("0x4fa")]=x[_0x27ab("0x454")]();break;case 5:_[_0x27ab("0x1bd")]=x[_0x27ab("0x454")]();break;case 6:_.length=x[_0x27ab("0x45c")]();break;case 7:_[_0x27ab("0x4fb")]=x[_0x27ab("0x60")]();break;case 8:_.bstair=x[_0x27ab("0x60")]();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){return(void 0===x?"undefined":(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?"object expected":null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")])?_0x27ab("0x470"):null!=x[_0x27ab("0x4f4")]&&x.hasOwnProperty(_0x27ab("0x4f4"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4f4")])?_0x27ab("0x4f7"):null!=x[_0x27ab("0x4f9")]&&x[_0x27ab("0xc")](_0x27ab("0x4f9"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4f9")])?_0x27ab("0x4fd"):null!=x[_0x27ab("0x4fa")]&&x[_0x27ab("0xc")](_0x27ab("0x4fa"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4fa")])?_0x27ab("0x4fe"):null!=x[_0x27ab("0x1bd")]&&x.hasOwnProperty(_0x27ab("0x1bd"))&&!o[_0x27ab("0x46d")](x.rank)?"rank: integer expected":null!=x[_0x27ab("0x0")]&&x.hasOwnProperty("length")&&typeof x.length!==_0x27ab("0x148")?_0x27ab("0x4ff"):null!=x[_0x27ab("0x4fb")]&&x.hasOwnProperty("direction")&&!o.isString(x[_0x27ab("0x4fb")])?_0x27ab("0x500"):null!=x[_0x27ab("0x4fc")]&&x[_0x27ab("0xc")](_0x27ab("0x4fc"))&&!o.isString(x[_0x27ab("0x4fc")])?_0x27ab("0x501"):null},x.fromObject=function(x){if(x instanceof c[_0x27ab("0x32")][_0x27ab("0x4eb")])return x;var a=new(c[_0x27ab("0x32")][_0x27ab("0x4eb")]);return null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x4f4")]&&(a.sid=0|x[_0x27ab("0x4f4")]),null!=x[_0x27ab("0x4f9")]&&(a.eid=0|x.eid),null!=x[_0x27ab("0x4fa")]&&(a[_0x27ab("0x4fa")]=0|x[_0x27ab("0x4fa")]),null!=x[_0x27ab("0x1bd")]&&(a[_0x27ab("0x1bd")]=0|x.rank),null!=x.length&&(a.length=Number(x[_0x27ab("0x0")])),null!=x[_0x27ab("0x4fb")]&&(a[_0x27ab("0x4fb")]=String(x[_0x27ab("0x4fb")])),null!=x[_0x27ab("0x4fc")]&&(a[_0x27ab("0x4fc")]=String(x[_0x27ab("0x4fc")])),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b[_0x27ab("0x43d")]=0,b[_0x27ab("0x4f4")]=0,b.eid=0,b[_0x27ab("0x4fa")]=0,b[_0x27ab("0x1bd")]=0,b[_0x27ab("0x0")]=0,b.direction="",b[_0x27ab("0x4fc")]=""),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x4f4")]&&x.hasOwnProperty(_0x27ab("0x4f4"))&&(b[_0x27ab("0x4f4")]=x[_0x27ab("0x4f4")]),null!=x[_0x27ab("0x4f9")]&&x[_0x27ab("0xc")](_0x27ab("0x4f9"))&&(b.eid=x[_0x27ab("0x4f9")]),null!=x[_0x27ab("0x4fa")]&&x.hasOwnProperty(_0x27ab("0x4fa"))&&(b.efnum=x[_0x27ab("0x4fa")]),null!=x[_0x27ab("0x1bd")]&&x[_0x27ab("0xc")]("rank")&&(b[_0x27ab("0x1bd")]=x.rank),null!=x[_0x27ab("0x0")]&&x.hasOwnProperty(_0x27ab("0x0"))&&(b[_0x27ab("0x0")]=x[_0x27ab("0x0")]),null!=x[_0x27ab("0x4fb")]&&x[_0x27ab("0xc")](_0x27ab("0x4fb"))&&(b[_0x27ab("0x4fb")]=x.direction),null!=x[_0x27ab("0x4fc")]&&x[_0x27ab("0xc")](_0x27ab("0x4fc"))&&(b.bstair=x[_0x27ab("0x4fc")]),b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this.constructor[_0x27ab("0x495")](this,n.util[_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x467")]=function(){function x(x){if(this[_0x27ab("0x4e8")]={},this[_0x27ab("0x502")]={},x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a.length;++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")].serverurl="",x.prototype[_0x27ab("0x503")]="",x[_0x27ab("0x2")][_0x27ab("0x504")]=0,x[_0x27ab("0x2")][_0x27ab("0x505")]="",x[_0x27ab("0x2")][_0x27ab("0x506")]="",x.prototype[_0x27ab("0x4e8")]=o[_0x27ab("0x49e")],x.prototype[_0x27ab("0x502")]=o.emptyObject,x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){if(a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x507")]&&x[_0x27ab("0xc")](_0x27ab("0x507"))&&a[_0x27ab("0x453")](10)[_0x27ab("0x60")](x[_0x27ab("0x507")]),null!=x[_0x27ab("0x503")]&&x.hasOwnProperty(_0x27ab("0x503"))&&a[_0x27ab("0x453")](18)[_0x27ab("0x60")](x[_0x27ab("0x503")]),null!=x[_0x27ab("0x504")]&&x[_0x27ab("0xc")](_0x27ab("0x504"))&&a[_0x27ab("0x453")](24)[_0x27ab("0x454")](x[_0x27ab("0x504")]),null!=x[_0x27ab("0x505")]&&x.hasOwnProperty(_0x27ab("0x505"))&&a.uint32(34)[_0x27ab("0x60")](x[_0x27ab("0x505")]),null!=x[_0x27ab("0x506")]&&x[_0x27ab("0xc")]("msgscale")&&a[_0x27ab("0x453")](42).string(x[_0x27ab("0x506")]),null!=x[_0x27ab("0x4e8")]&&x.hasOwnProperty("Nodes"))for(var b=(0,e[_0x27ab("0xb")])(x.Nodes),_=0;_<b[_0x27ab("0x0")];++_)a[_0x27ab("0x453")](50)[_0x27ab("0x464")]()[_0x27ab("0x453")](8).int32(b[_]),c[_0x27ab("0x32")][_0x27ab("0x508")][_0x27ab("0x452")](x.Nodes[b[_]],a[_0x27ab("0x453")](18)[_0x27ab("0x464")]()).ldelim()[_0x27ab("0x465")]();if(null!=x[_0x27ab("0x502")]&&x[_0x27ab("0xc")](_0x27ab("0x502")))for(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x502")]),_=0;_<b[_0x27ab("0x0")];++_)a.uint32(58).fork()[_0x27ab("0x453")](8)[_0x27ab("0x454")](b[_]),c.ESMap[_0x27ab("0x509")][_0x27ab("0x452")](x.Infos[b[_]],a[_0x27ab("0x453")](18)[_0x27ab("0x464")]()).ldelim().ldelim();return a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b,_=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,e=new(c[_0x27ab("0x32")][_0x27ab("0x467")]);x.pos<_;){var t=x.uint32();switch(t>>>3){case 1:e.serverurl=x[_0x27ab("0x60")]();break;case 2:e.bgaudio=x[_0x27ab("0x60")]();break;case 3:e[_0x27ab("0x504")]=x[_0x27ab("0x454")]();break;case 4:e.picscale=x[_0x27ab("0x60")]();break;case 5:e[_0x27ab("0x506")]=x.string();break;case 6:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e.Nodes===o.emptyObject&&(e[_0x27ab("0x4e8")]={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e.Nodes[b]=c[_0x27ab("0x32")][_0x27ab("0x508")].decode(x,x[_0x27ab("0x453")]());break;case 7:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e[_0x27ab("0x502")]===o[_0x27ab("0x49e")]&&(e[_0x27ab("0x502")]={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e.Infos[b]=c.ESMap[_0x27ab("0x509")][_0x27ab("0x43")](x,x[_0x27ab("0x453")]());break;default:x[_0x27ab("0x46b")](7&t)}}return e},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){if((void 0===x?"undefined":(0,_.default)(x))!==_0x27ab("0x1c")||null===x)return _0x27ab("0x46c");if(null!=x[_0x27ab("0x507")]&&x.hasOwnProperty(_0x27ab("0x507"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x507")]))return _0x27ab("0x50a");if(null!=x[_0x27ab("0x503")]&&x[_0x27ab("0xc")](_0x27ab("0x503"))&&!o.isString(x.bgaudio))return"bgaudio: string expected";if(null!=x[_0x27ab("0x504")]&&x[_0x27ab("0xc")](_0x27ab("0x504"))&&!o[_0x27ab("0x46d")](x.bgaudioplay))return _0x27ab("0x50b");if(null!=x[_0x27ab("0x505")]&&x[_0x27ab("0xc")](_0x27ab("0x505"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x505")]))return _0x27ab("0x50c");if(null!=x[_0x27ab("0x506")]&&x[_0x27ab("0xc")](_0x27ab("0x506"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x506")]))return _0x27ab("0x50d");if(null!=x[_0x27ab("0x4e8")]&&x[_0x27ab("0xc")]("Nodes")){if(!o[_0x27ab("0x15")](x.Nodes))return _0x27ab("0x4ed");for(var a=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e8")]),b=0;b<a[_0x27ab("0x0")];++b){if(!o[_0x27ab("0x4b0")][_0x27ab("0x3b8")](a[b]))return"Nodes: integer key{k:int32} expected";if(t=c[_0x27ab("0x32")].PicNodeSet[_0x27ab("0x483")](x[_0x27ab("0x4e8")][a[b]]))return _0x27ab("0x4ef")+t}}if(null!=x[_0x27ab("0x502")]&&x.hasOwnProperty(_0x27ab("0x502"))){if(!o[_0x27ab("0x15")](x[_0x27ab("0x502")]))return _0x27ab("0x50e");for(a=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x502")]),b=0;b<a[_0x27ab("0x0")];++b){if(!o[_0x27ab("0x4b0")][_0x27ab("0x3b8")](a[b]))return _0x27ab("0x50f");var t;if(t=c.ESMap[_0x27ab("0x509")][_0x27ab("0x483")](x[_0x27ab("0x502")][a[b]]))return _0x27ab("0x510")+t}}return null},x.fromObject=function(x){if(x instanceof c[_0x27ab("0x32")][_0x27ab("0x467")])return x;var a=new(c.ESMap[_0x27ab("0x467")]);if(null!=x.serverurl&&(a.serverurl=String(x[_0x27ab("0x507")])),null!=x[_0x27ab("0x503")]&&(a.bgaudio=String(x[_0x27ab("0x503")])),null!=x[_0x27ab("0x504")]&&(a[_0x27ab("0x504")]=0|x[_0x27ab("0x504")]),null!=x[_0x27ab("0x505")]&&(a.picscale=String(x[_0x27ab("0x505")])),null!=x.msgscale&&(a[_0x27ab("0x506")]=String(x[_0x27ab("0x506")])),x[_0x27ab("0x4e8")]){if("object"!==(0,_.default)(x[_0x27ab("0x4e8")]))throw TypeError(".ESMap.PicSet.Nodes: object expected");a[_0x27ab("0x4e8")]={};for(var b=(0,e[_0x27ab("0xb")])(x.Nodes),t=0;t<b[_0x27ab("0x0")];++t){if("object"!==(0,_[_0x27ab("0xb")])(x[_0x27ab("0x4e8")][b[t]]))throw TypeError(_0x27ab("0x511"));a[_0x27ab("0x4e8")][b[t]]=c[_0x27ab("0x32")][_0x27ab("0x508")][_0x27ab("0x490")](x[_0x27ab("0x4e8")][b[t]])}}if(x.Infos){if("object"!==(0,_[_0x27ab("0xb")])(x.Infos))throw TypeError(".ESMap.PicSet.Infos: object expected");for(a[_0x27ab("0x502")]={},b=(0,e.default)(x[_0x27ab("0x502")]),t=0;t<b.length;++t){if((0,_[_0x27ab("0xb")])(x.Infos[b[t]])!==_0x27ab("0x1c"))throw TypeError(".ESMap.PicSet.Infos: object expected");a[_0x27ab("0x502")][b[t]]=c[_0x27ab("0x32")][_0x27ab("0x509")][_0x27ab("0x490")](x[_0x27ab("0x502")][b[t]])}}return a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b,_={};if((a[_0x27ab("0x4be")]||a[_0x27ab("0x4bf")])&&(_[_0x27ab("0x4e8")]={},_[_0x27ab("0x502")]={}),a[_0x27ab("0x4bf")]&&(_[_0x27ab("0x507")]="",_.bgaudio="",_[_0x27ab("0x504")]=0,_[_0x27ab("0x505")]="",_[_0x27ab("0x506")]=""),null!=x.serverurl&&x[_0x27ab("0xc")](_0x27ab("0x507"))&&(_.serverurl=x.serverurl),null!=x[_0x27ab("0x503")]&&x.hasOwnProperty(_0x27ab("0x503"))&&(_[_0x27ab("0x503")]=x[_0x27ab("0x503")]),null!=x[_0x27ab("0x504")]&&x[_0x27ab("0xc")](_0x27ab("0x504"))&&(_[_0x27ab("0x504")]=x[_0x27ab("0x504")]),null!=x[_0x27ab("0x505")]&&x.hasOwnProperty(_0x27ab("0x505"))&&(_[_0x27ab("0x505")]=x[_0x27ab("0x505")]),null!=x[_0x27ab("0x506")]&&x[_0x27ab("0xc")]("msgscale")&&(_.msgscale=x[_0x27ab("0x506")]),x[_0x27ab("0x4e8")]&&(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e8")]))[_0x27ab("0x0")]){_[_0x27ab("0x4e8")]={};for(var t=0;t<b[_0x27ab("0x0")];++t)_.Nodes[b[t]]=c[_0x27ab("0x32")].PicNodeSet.toObject(x.Nodes[b[t]],a)}if(x[_0x27ab("0x502")]&&(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x502")]))[_0x27ab("0x0")])for(_[_0x27ab("0x502")]={},t=0;t<b[_0x27ab("0x0")];++t)_[_0x27ab("0x502")][b[t]]=c[_0x27ab("0x32")][_0x27ab("0x509")][_0x27ab("0x495")](x[_0x27ab("0x502")][b[t]],a);return _},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n[_0x27ab("0x439")][_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x508")]=function(){function x(x){if(this.idlist1=[],this[_0x27ab("0x512")]=[],x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x.prototype[_0x27ab("0x4a1")]=0,x.prototype[_0x27ab("0x43d")]=0,x[_0x27ab("0x2")][_0x27ab("0x1b9")]="",x[_0x27ab("0x2")][_0x27ab("0x513")]=0,x[_0x27ab("0x2")].X=0,x[_0x27ab("0x2")].Y=0,x[_0x27ab("0x2")][_0x27ab("0x514")]=o[_0x27ab("0x44c")],x[_0x27ab("0x2")][_0x27ab("0x512")]=o.emptyArray,x.create=function(a){return new x(a)},x.encode=function(x,a){if(a||(a=s[_0x27ab("0x451")]()),null!=x.floornum&&x[_0x27ab("0xc")](_0x27ab("0x4a1"))&&a.uint32(8)[_0x27ab("0x454")](x.floornum),null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&a[_0x27ab("0x453")](16)[_0x27ab("0x454")](x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x1b9")]&&x[_0x27ab("0xc")](_0x27ab("0x1b9"))&&a.uint32(26)[_0x27ab("0x60")](x[_0x27ab("0x1b9")]),null!=x[_0x27ab("0x513")]&&x[_0x27ab("0xc")]("base")&&a.uint32(32)[_0x27ab("0x454")](x[_0x27ab("0x513")]),null!=x.X&&x[_0x27ab("0xc")]("X")&&a.uint32(41)[_0x27ab("0x45c")](x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&a.uint32(49)[_0x27ab("0x45c")](x.Y),null!=x[_0x27ab("0x514")]&&x[_0x27ab("0x514")][_0x27ab("0x0")]){a[_0x27ab("0x453")](58)[_0x27ab("0x464")]();for(var b=0;b<x[_0x27ab("0x514")][_0x27ab("0x0")];++b)a[_0x27ab("0x454")](x.idlist1[b]);a.ldelim()}if(null!=x.idlist2&&x[_0x27ab("0x512")][_0x27ab("0x0")]){for(a.uint32(66).fork(),b=0;b<x[_0x27ab("0x512")][_0x27ab("0x0")];++b)a[_0x27ab("0x454")](x[_0x27ab("0x512")][b]);a.ldelim()}return a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,_=new(c.ESMap[_0x27ab("0x508")]);x[_0x27ab("0x3e4")]<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_.floornum=x[_0x27ab("0x454")]();break;case 2:_[_0x27ab("0x43d")]=x[_0x27ab("0x454")]();break;case 3:_[_0x27ab("0x1b9")]=x.string();break;case 4:_[_0x27ab("0x513")]=x[_0x27ab("0x454")]();break;case 5:_.X=x[_0x27ab("0x45c")]();break;case 6:_.Y=x[_0x27ab("0x45c")]();break;case 7:if(_.idlist1&&_.idlist1[_0x27ab("0x0")]||(_.idlist1=[]),2==(7&e))for(var t=x.uint32()+x[_0x27ab("0x3e4")];x[_0x27ab("0x3e4")]<t;)_[_0x27ab("0x514")][_0x27ab("0x1")](x[_0x27ab("0x454")]());else _[_0x27ab("0x514")][_0x27ab("0x1")](x[_0x27ab("0x454")]());break;case 8:if(_[_0x27ab("0x512")]&&_.idlist2[_0x27ab("0x0")]||(_[_0x27ab("0x512")]=[]),2==(7&e))for(t=x[_0x27ab("0x453")]()+x[_0x27ab("0x3e4")];x.pos<t;)_[_0x27ab("0x512")][_0x27ab("0x1")](x.int32());else _[_0x27ab("0x512")].push(x.int32());break;default:x[_0x27ab("0x46b")](7&e)}}return _},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){if((typeof x===_0x27ab("0x8")?"undefined":(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x)return _0x27ab("0x46c");if(null!=x.floornum&&x[_0x27ab("0xc")](_0x27ab("0x4a1"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4a1")]))return"floornum: integer expected";if(null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o.isInteger(x[_0x27ab("0x43d")]))return _0x27ab("0x470");if(null!=x.url&&x[_0x27ab("0xc")](_0x27ab("0x1b9"))&&!o.isString(x[_0x27ab("0x1b9")]))return _0x27ab("0x515");if(null!=x[_0x27ab("0x513")]&&x[_0x27ab("0xc")](_0x27ab("0x513"))&&!o.isInteger(x[_0x27ab("0x513")]))return _0x27ab("0x516");if(null!=x.X&&x[_0x27ab("0xc")]("X")&&"number"!=typeof x.X)return _0x27ab("0x4d9");if(null!=x.Y&&x[_0x27ab("0xc")]("Y")&&"number"!=typeof x.Y)return _0x27ab("0x4da");if(null!=x[_0x27ab("0x514")]&&x[_0x27ab("0xc")]("idlist1")){if(!Array.isArray(x[_0x27ab("0x514")]))return"idlist1: array expected";for(var a=0;a<x[_0x27ab("0x514")][_0x27ab("0x0")];++a)if(!o[_0x27ab("0x46d")](x[_0x27ab("0x514")][a]))return _0x27ab("0x517")}if(null!=x.idlist2&&x[_0x27ab("0xc")]("idlist2")){if(!Array[_0x27ab("0x480")](x[_0x27ab("0x512")]))return _0x27ab("0x518");for(a=0;a<x[_0x27ab("0x512")][_0x27ab("0x0")];++a)if(!o[_0x27ab("0x46d")](x[_0x27ab("0x512")][a]))return _0x27ab("0x519")}return null},x.fromObject=function(x){if(x instanceof c[_0x27ab("0x32")].PicNodeSet)return x;var a=new(c[_0x27ab("0x32")][_0x27ab("0x508")]);if(null!=x.floornum&&(a[_0x27ab("0x4a1")]=0|x[_0x27ab("0x4a1")]),null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x1b9")]&&(a[_0x27ab("0x1b9")]=String(x[_0x27ab("0x1b9")])),null!=x[_0x27ab("0x513")]&&(a[_0x27ab("0x513")]=0|x[_0x27ab("0x513")]),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),x[_0x27ab("0x514")]){if(!Array[_0x27ab("0x480")](x.idlist1))throw TypeError(_0x27ab("0x51a"));a.idlist1=[];for(var b=0;b<x.idlist1[_0x27ab("0x0")];++b)a[_0x27ab("0x514")][b]=0|x.idlist1[b]}if(x[_0x27ab("0x512")]){if(!Array[_0x27ab("0x480")](x.idlist2))throw TypeError(_0x27ab("0x51b"));for(a[_0x27ab("0x512")]=[],b=0;b<x[_0x27ab("0x512")].length;++b)a[_0x27ab("0x512")][b]=0|x.idlist2[b]}return a},x[_0x27ab("0x2f8")]=x.fromObject,x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};if((a[_0x27ab("0x51c")]||a[_0x27ab("0x4bf")])&&(b[_0x27ab("0x514")]=[],b[_0x27ab("0x512")]=[]),a.defaults&&(b[_0x27ab("0x4a1")]=0,b[_0x27ab("0x43d")]=0,b[_0x27ab("0x1b9")]="",b[_0x27ab("0x513")]=0,b.X=0,b.Y=0),null!=x[_0x27ab("0x4a1")]&&x[_0x27ab("0xc")](_0x27ab("0x4a1"))&&(b[_0x27ab("0x4a1")]=x[_0x27ab("0x4a1")]),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")]("_id")&&(b[_0x27ab("0x43d")]=x._id),null!=x.url&&x[_0x27ab("0xc")](_0x27ab("0x1b9"))&&(b.url=x[_0x27ab("0x1b9")]),null!=x[_0x27ab("0x513")]&&x[_0x27ab("0xc")](_0x27ab("0x513"))&&(b.base=x[_0x27ab("0x513")]),null!=x.X&&x.hasOwnProperty("X")&&(b.X=x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&(b.Y=x.Y),x[_0x27ab("0x514")]&&x[_0x27ab("0x514")][_0x27ab("0x0")]){b[_0x27ab("0x514")]=[];for(var _=0;_<x[_0x27ab("0x514")][_0x27ab("0x0")];++_)b[_0x27ab("0x514")][_]=x.idlist1[_]}if(x.idlist2&&x.idlist2[_0x27ab("0x0")])for(b.idlist2=[],_=0;_<x.idlist2[_0x27ab("0x0")];++_)b.idlist2[_]=x[_0x27ab("0x512")][_];return b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this.constructor[_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")].toObject(this,n[_0x27ab("0x439")][_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x509")]=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")].floornum=0,x.prototype._id=0,x.prototype[_0x27ab("0x51d")]="",x[_0x27ab("0x2")][_0x27ab("0x51e")]="",x[_0x27ab("0x2")][_0x27ab("0x51f")]="",x[_0x27ab("0x2")].msgc="",x[_0x27ab("0x2")].X=0,x[_0x27ab("0x2")].Y=0,x[_0x27ab("0x2")].Z=0,x[_0x27ab("0x2")][_0x27ab("0x520")]="",x[_0x27ab("0x2")][_0x27ab("0x521")]="",x[_0x27ab("0x451")]=function(a){return new x(a)},x.encode=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x4a1")]&&x.hasOwnProperty(_0x27ab("0x4a1"))&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x.floornum),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty("_id")&&a[_0x27ab("0x453")](16)[_0x27ab("0x454")](x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x51d")]&&x[_0x27ab("0xc")](_0x27ab("0x51d"))&&a[_0x27ab("0x453")](26).string(x[_0x27ab("0x51d")]),null!=x[_0x27ab("0x51e")]&&x[_0x27ab("0xc")](_0x27ab("0x51e"))&&a[_0x27ab("0x453")](34)[_0x27ab("0x60")](x[_0x27ab("0x51e")]),null!=x.msgt&&x[_0x27ab("0xc")](_0x27ab("0x51f"))&&a[_0x27ab("0x453")](42)[_0x27ab("0x60")](x.msgt),null!=x[_0x27ab("0x522")]&&x[_0x27ab("0xc")](_0x27ab("0x522"))&&a[_0x27ab("0x453")](50)[_0x27ab("0x60")](x[_0x27ab("0x522")]),null!=x.X&&x.hasOwnProperty("X")&&a[_0x27ab("0x453")](57).double(x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&a[_0x27ab("0x453")](65).double(x.Y),null!=x.Z&&x[_0x27ab("0xc")]("Z")&&a[_0x27ab("0x453")](73)[_0x27ab("0x45c")](x.Z),null!=x.curl&&x.hasOwnProperty(_0x27ab("0x520"))&&a[_0x27ab("0x453")](82)[_0x27ab("0x60")](x[_0x27ab("0x520")]),null!=x[_0x27ab("0x521")]&&x[_0x27ab("0xc")](_0x27ab("0x521"))&&a.uint32(90).string(x[_0x27ab("0x521")]),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,_=new(c[_0x27ab("0x32")][_0x27ab("0x509")]);x[_0x27ab("0x3e4")]<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_[_0x27ab("0x4a1")]=x[_0x27ab("0x454")]();break;case 2:_[_0x27ab("0x43d")]=x[_0x27ab("0x454")]();break;case 3:_.purl=x[_0x27ab("0x60")]();break;case 4:_[_0x27ab("0x51e")]=x[_0x27ab("0x60")]();break;case 5:_[_0x27ab("0x51f")]=x[_0x27ab("0x60")]();break;case 6:_[_0x27ab("0x522")]=x[_0x27ab("0x60")]();break;case 7:_.X=x[_0x27ab("0x45c")]();break;case 8:_.Y=x.double();break;case 9:_.Z=x[_0x27ab("0x45c")]();break;case 10:_[_0x27ab("0x520")]=x[_0x27ab("0x60")]();break;case 11:_.csize=x[_0x27ab("0x60")]();break;default:x.skipType(7&e)}}return _},x.decodeDelimited=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){return(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?_0x27ab("0x46c"):null!=x[_0x27ab("0x4a1")]&&x.hasOwnProperty(_0x27ab("0x4a1"))&&!o[_0x27ab("0x46d")](x.floornum)?_0x27ab("0x4ec"):null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x._id)?_0x27ab("0x470"):null!=x[_0x27ab("0x51d")]&&x[_0x27ab("0xc")](_0x27ab("0x51d"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x51d")])?_0x27ab("0x523"):null!=x[_0x27ab("0x51e")]&&x[_0x27ab("0xc")]("aurl")&&!o.isString(x[_0x27ab("0x51e")])?_0x27ab("0x524"):null!=x[_0x27ab("0x51f")]&&x.hasOwnProperty(_0x27ab("0x51f"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x51f")])?_0x27ab("0x525"):null!=x.msgc&&x[_0x27ab("0xc")]("msgc")&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x522")])?_0x27ab("0x526"):null!=x.X&&x.hasOwnProperty("X")&&"number"!=typeof x.X?_0x27ab("0x4d9"):null!=x.Y&&x[_0x27ab("0xc")]("Y")&&typeof x.Y!==_0x27ab("0x148")?_0x27ab("0x4da"):null!=x.Z&&x[_0x27ab("0xc")]("Z")&&typeof x.Z!==_0x27ab("0x148")?_0x27ab("0x4f8"):null!=x[_0x27ab("0x520")]&&x[_0x27ab("0xc")](_0x27ab("0x520"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x520")])?_0x27ab("0x527"):null!=x[_0x27ab("0x521")]&&x[_0x27ab("0xc")](_0x27ab("0x521"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x521")])?_0x27ab("0x528"):null},x[_0x27ab("0x490")]=function(x){if(x instanceof c[_0x27ab("0x32")][_0x27ab("0x509")])return x;var a=new(c.ESMap[_0x27ab("0x509")]);return null!=x[_0x27ab("0x4a1")]&&(a.floornum=0|x.floornum),null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x51d")]&&(a[_0x27ab("0x51d")]=String(x[_0x27ab("0x51d")])),null!=x.aurl&&(a[_0x27ab("0x51e")]=String(x[_0x27ab("0x51e")])),null!=x[_0x27ab("0x51f")]&&(a[_0x27ab("0x51f")]=String(x[_0x27ab("0x51f")])),null!=x[_0x27ab("0x522")]&&(a[_0x27ab("0x522")]=String(x[_0x27ab("0x522")])),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x.Z&&(a.Z=Number(x.Z)),null!=x[_0x27ab("0x520")]&&(a[_0x27ab("0x520")]=String(x[_0x27ab("0x520")])),null!=x[_0x27ab("0x521")]&&(a[_0x27ab("0x521")]=String(x[_0x27ab("0x521")])),a},x[_0x27ab("0x2f8")]=x.fromObject,x.toObject=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b[_0x27ab("0x4a1")]=0,b[_0x27ab("0x43d")]=0,b[_0x27ab("0x51d")]="",b.aurl="",b.msgt="",b[_0x27ab("0x522")]="",b.X=0,b.Y=0,b.Z=0,b[_0x27ab("0x520")]="",b[_0x27ab("0x521")]=""),null!=x[_0x27ab("0x4a1")]&&x[_0x27ab("0xc")]("floornum")&&(b.floornum=x[_0x27ab("0x4a1")]),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b._id=x._id),null!=x[_0x27ab("0x51d")]&&x[_0x27ab("0xc")](_0x27ab("0x51d"))&&(b[_0x27ab("0x51d")]=x[_0x27ab("0x51d")]),null!=x[_0x27ab("0x51e")]&&x.hasOwnProperty(_0x27ab("0x51e"))&&(b.aurl=x[_0x27ab("0x51e")]),null!=x[_0x27ab("0x51f")]&&x[_0x27ab("0xc")]("msgt")&&(b[_0x27ab("0x51f")]=x[_0x27ab("0x51f")]),null!=x[_0x27ab("0x522")]&&x[_0x27ab("0xc")](_0x27ab("0x522"))&&(b[_0x27ab("0x522")]=x[_0x27ab("0x522")]),null!=x.X&&x[_0x27ab("0xc")]("X")&&(b.X=x.X),null!=x.Y&&x.hasOwnProperty("Y")&&(b.Y=x.Y),null!=x.Z&&x[_0x27ab("0xc")]("Z")&&(b.Z=x.Z),null!=x.curl&&x[_0x27ab("0xc")]("curl")&&(b[_0x27ab("0x520")]=x.curl),null!=x[_0x27ab("0x521")]&&x[_0x27ab("0xc")](_0x27ab("0x521"))&&(b.csize=x[_0x27ab("0x521")]),b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n[_0x27ab("0x439")][_0x27ab("0x4c0")])},x}(),i),x.exports=c},function(x,a,b){"use strict";var _=t(b(10)),e=t(b(16));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=b(64),n=i.Reader,r=i[_0x27ab("0x438")],s=i[_0x27ab("0x439")],o=i[_0x27ab("0x43a")][_0x27ab("0xb")]||(i[_0x27ab("0x43a")][_0x27ab("0xb")]={});o[_0x27ab("0x529")]=function(){var x=null,a=null;function b(x){if(x)for(var a=(0,e.default)(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return b[_0x27ab("0x2")].v=0,b[_0x27ab("0x2")][_0x27ab("0x52a")]=0,b[_0x27ab("0x2")][_0x27ab("0x52b")]="",b[_0x27ab("0x2")].Hash="",b[_0x27ab("0x2")]._id=0,b[_0x27ab("0x2")].tid=0,b[_0x27ab("0x2")][_0x27ab("0xc5")]="",b[_0x27ab("0x2")][_0x27ab("0x43e")]="",b[_0x27ab("0x2")][_0x27ab("0x459")]="",b[_0x27ab("0x2")].AS=0,b[_0x27ab("0x2")][_0x27ab("0x52c")]=0,b[_0x27ab("0x2")][_0x27ab("0x52d")]=0,b[_0x27ab("0x2")].AngleZ=0,b[_0x27ab("0x2")].x=0,b[_0x27ab("0x2")].y=0,b[_0x27ab("0x2")].z=0,b[_0x27ab("0x2")][_0x27ab("0x446")]=s.Long?s[_0x27ab("0x52e")][_0x27ab("0x52f")](0,0,!1):0,b[_0x27ab("0x2")][_0x27ab("0x447")]=s[_0x27ab("0x52e")]?s.Long.fromBits(0,0,!1):0,b.prototype[_0x27ab("0x448")]=s[_0x27ab("0x52e")]?s[_0x27ab("0x52e")].fromBits(0,0,!1):0,b[_0x27ab("0x2")][_0x27ab("0x449")]=s[_0x27ab("0x52e")]?s[_0x27ab("0x52e")].fromBits(0,0,!1):0,b[_0x27ab("0x2")].offsetbid="",b[_0x27ab("0x2")].offsetroad="",b[_0x27ab("0x2")][_0x27ab("0x530")]="",b.prototype[_0x27ab("0x531")]=0,b[_0x27ab("0x2")][_0x27ab("0x532")]=0,b[_0x27ab("0x2")].Remark="",b[_0x27ab("0x2")][_0x27ab("0x468")]="",b.prototype[_0x27ab("0x7e")]="",b[_0x27ab("0x2")][_0x27ab("0x533")]="",b[_0x27ab("0x2")][_0x27ab("0x44e")]="",b.prototype[_0x27ab("0x534")]="",b.prototype.o1=0,b[_0x27ab("0x2")].o2=0,b.prototype.ul=0,b[_0x27ab("0x2")][_0x27ab("0x44f")]="",b[_0x27ab("0x2")][_0x27ab("0x450")]="",b.prototype.l1=0,b[_0x27ab("0x2")].l2=0,b[_0x27ab("0x2")].l3=0,b[_0x27ab("0x2")].l4=0,b.prototype.alist="",b[_0x27ab("0x2")].eid="",b[_0x27ab("0x2")][_0x27ab("0x535")]="",b.create=function(x){return new b(x)},b[_0x27ab("0x452")]=function(x,a){return a||(a=r.create()),null!=x.v&&x[_0x27ab("0xc")]("v")&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x.v),null!=x[_0x27ab("0x52a")]&&x[_0x27ab("0xc")](_0x27ab("0x52a"))&&a[_0x27ab("0x453")](16)[_0x27ab("0x454")](x.mtime),null!=x[_0x27ab("0x52b")]&&x.hasOwnProperty("ltime")&&a.uint32(26).string(x[_0x27ab("0x52b")]),null!=x[_0x27ab("0x456")]&&x[_0x27ab("0xc")](_0x27ab("0x456"))&&a[_0x27ab("0x453")](34)[_0x27ab("0x60")](x[_0x27ab("0x456")]),null!=x._id&&x[_0x27ab("0xc")]("_id")&&a[_0x27ab("0x453")](40)[_0x27ab("0x454")](x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x96")]&&x[_0x27ab("0xc")](_0x27ab("0x96"))&&a.uint32(48)[_0x27ab("0x454")](x[_0x27ab("0x96")]),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&a[_0x27ab("0x453")](58)[_0x27ab("0x60")](x[_0x27ab("0xc5")]),null!=x[_0x27ab("0x43e")]&&x[_0x27ab("0xc")](_0x27ab("0x43e"))&&a.uint32(66)[_0x27ab("0x60")](x[_0x27ab("0x43e")]),null!=x.adcode&&x[_0x27ab("0xc")]("adcode")&&a[_0x27ab("0x453")](74).string(x.adcode),null!=x.AS&&x[_0x27ab("0xc")]("AS")&&a.uint32(81)[_0x27ab("0x45c")](x.AS),null!=x[_0x27ab("0x52c")]&&x.hasOwnProperty(_0x27ab("0x52c"))&&a[_0x27ab("0x453")](89).double(x[_0x27ab("0x52c")]),null!=x[_0x27ab("0x52d")]&&x[_0x27ab("0xc")](_0x27ab("0x52d"))&&a[_0x27ab("0x453")](97)[_0x27ab("0x45c")](x.AngleY),null!=x[_0x27ab("0x536")]&&x[_0x27ab("0xc")](_0x27ab("0x536"))&&a[_0x27ab("0x453")](105)[_0x27ab("0x45c")](x[_0x27ab("0x536")]),null!=x.x&&x.hasOwnProperty("x")&&a[_0x27ab("0x453")](113)[_0x27ab("0x45c")](x.x),null!=x.y&&x.hasOwnProperty("y")&&a[_0x27ab("0x453")](121)[_0x27ab("0x45c")](x.y),null!=x.z&&x.hasOwnProperty("z")&&a[_0x27ab("0x453")](129)[_0x27ab("0x45c")](x.z),null!=x[_0x27ab("0x446")]&&x[_0x27ab("0xc")](_0x27ab("0x446"))&&a[_0x27ab("0x453")](136)[_0x27ab("0x537")](x[_0x27ab("0x446")]),null!=x.minY&&x[_0x27ab("0xc")](_0x27ab("0x447"))&&a[_0x27ab("0x453")](144)[_0x27ab("0x537")](x[_0x27ab("0x447")]),null!=x[_0x27ab("0x448")]&&x[_0x27ab("0xc")](_0x27ab("0x448"))&&a[_0x27ab("0x453")](152)[_0x27ab("0x537")](x.maxX),null!=x[_0x27ab("0x449")]&&x[_0x27ab("0xc")](_0x27ab("0x449"))&&a.uint32(160)[_0x27ab("0x537")](x[_0x27ab("0x449")]),null!=x.offsetbid&&x[_0x27ab("0xc")]("offsetbid")&&a[_0x27ab("0x453")](170)[_0x27ab("0x60")](x.offsetbid),null!=x[_0x27ab("0x538")]&&x[_0x27ab("0xc")](_0x27ab("0x538"))&&a[_0x27ab("0x453")](178)[_0x27ab("0x60")](x.offsetroad),null!=x.tileurl&&x.hasOwnProperty("tileurl")&&a[_0x27ab("0x453")](186)[_0x27ab("0x60")](x[_0x27ab("0x530")]),null!=x[_0x27ab("0x531")]&&x[_0x27ab("0xc")](_0x27ab("0x531"))&&a[_0x27ab("0x453")](192).int32(x[_0x27ab("0x531")]),null!=x.modnums&&x.hasOwnProperty(_0x27ab("0x532"))&&a[_0x27ab("0x453")](200)[_0x27ab("0x454")](x[_0x27ab("0x532")]),null!=x[_0x27ab("0x461")]&&x[_0x27ab("0xc")]("Remark")&&a[_0x27ab("0x453")](210)[_0x27ab("0x60")](x[_0x27ab("0x461")]),null!=x[_0x27ab("0x468")]&&x[_0x27ab("0xc")](_0x27ab("0x468"))&&a.uint32(218).string(x.styleid),null!=x[_0x27ab("0x7e")]&&x[_0x27ab("0xc")]("token")&&a[_0x27ab("0x453")](226).string(x[_0x27ab("0x7e")]),null!=x[_0x27ab("0x533")]&&x.hasOwnProperty(_0x27ab("0x533"))&&a[_0x27ab("0x453")](234)[_0x27ab("0x60")](x.cids),null!=x[_0x27ab("0x44e")]&&x[_0x27ab("0xc")]("logotoken")&&a[_0x27ab("0x453")](242).string(x[_0x27ab("0x44e")]),null!=x[_0x27ab("0x534")]&&x[_0x27ab("0xc")](_0x27ab("0x534"))&&a[_0x27ab("0x453")](250)[_0x27ab("0x60")](x[_0x27ab("0x534")]),null!=x.o1&&x.hasOwnProperty("o1")&&a[_0x27ab("0x453")](256)[_0x27ab("0x454")](x.o1),null!=x.o2&&x.hasOwnProperty("o2")&&a[_0x27ab("0x453")](264).int32(x.o2),null!=x.ul&&x[_0x27ab("0xc")]("ul")&&a[_0x27ab("0x453")](272)[_0x27ab("0x454")](x.ul),null!=x[_0x27ab("0x44f")]&&x.hasOwnProperty(_0x27ab("0x44f"))&&a[_0x27ab("0x453")](282)[_0x27ab("0x60")](x[_0x27ab("0x44f")]),null!=x.other2&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&a[_0x27ab("0x453")](290)[_0x27ab("0x60")](x[_0x27ab("0x450")]),null!=x.l1&&x[_0x27ab("0xc")]("l1")&&a.uint32(296)[_0x27ab("0x454")](x.l1),null!=x.l2&&x[_0x27ab("0xc")]("l2")&&a.uint32(304)[_0x27ab("0x454")](x.l2),null!=x.l3&&x[_0x27ab("0xc")]("l3")&&a.uint32(312)[_0x27ab("0x454")](x.l3),null!=x.l4&&x.hasOwnProperty("l4")&&a.uint32(320)[_0x27ab("0x454")](x.l4),null!=x.alist&&x[_0x27ab("0xc")](_0x27ab("0x539"))&&a[_0x27ab("0x453")](330).string(x[_0x27ab("0x539")]),null!=x[_0x27ab("0x4f9")]&&x[_0x27ab("0xc")](_0x27ab("0x4f9"))&&a[_0x27ab("0x453")](338)[_0x27ab("0x60")](x.eid),null!=x[_0x27ab("0x535")]&&x[_0x27ab("0xc")]("bidlist")&&a[_0x27ab("0x453")](346)[_0x27ab("0x60")](x[_0x27ab("0x535")]),a},b.encodeDelimited=function(x,a){return this.encode(x,a)[_0x27ab("0x465")]()},b.decode=function(b,_){b instanceof n||(b=n.create(b));for(var e=void 0===_?b[_0x27ab("0x46a")]:b[_0x27ab("0x3e4")]+_,t=new(o[_0x27ab("0x529")]);b[_0x27ab("0x3e4")]<e;){var i=b[_0x27ab("0x453")]();switch(i>>>3){case 1:t.v=b[_0x27ab("0x454")]();break;case 2:t[_0x27ab("0x52a")]=b[_0x27ab("0x454")]();break;case 3:t[_0x27ab("0x52b")]=b[_0x27ab("0x60")]();break;case 4:t.Hash=b[_0x27ab("0x60")]();break;case 5:t._id=b[_0x27ab("0x454")]();break;case 6:t[_0x27ab("0x96")]=b[_0x27ab("0x454")]();break;case 7:t[_0x27ab("0xc5")]=b[_0x27ab("0x60")]();break;case 8:t.nameEn=b.string();break;case 9:t[_0x27ab("0x459")]=b[_0x27ab("0x60")]();break;case 10:t.AS=b[_0x27ab("0x45c")]();break;case 11:t.AngleX=b.double();break;case 12:t[_0x27ab("0x52d")]=b[_0x27ab("0x45c")]();break;case 13:t[_0x27ab("0x536")]=b.double();break;case 14:t.x=b.double();break;case 15:t.y=b[_0x27ab("0x45c")]();break;case 16:t.z=b[_0x27ab("0x45c")]();break;case 17:t.minX=b[_0x27ab("0x537")]();break;case 18:t[_0x27ab("0x447")]=b[_0x27ab("0x537")]();break;case 19:t[_0x27ab("0x448")]=b[_0x27ab("0x537")]();break;case 20:t[_0x27ab("0x449")]=b[_0x27ab("0x537")]();break;case 21:t.offsetbid=b[_0x27ab("0x60")]();break;case 22:t.offsetroad=b.string();break;case 23:t.tileurl=b.string();break;case 24:t.bidnums=b[_0x27ab("0x454")]();break;case 25:t[_0x27ab("0x532")]=b[_0x27ab("0x454")]();break;case 26:t[_0x27ab("0x461")]=b[_0x27ab("0x60")]();break;case 27:t.styleid=b[_0x27ab("0x60")]();break;case 28:t[_0x27ab("0x7e")]=b[_0x27ab("0x60")]();break;case 29:t[_0x27ab("0x533")]=b[_0x27ab("0x60")]();break;case 30:t[_0x27ab("0x44e")]=b.string();break;case 31:t[_0x27ab("0x534")]=b.string();break;case 32:t.o1=b[_0x27ab("0x454")]();break;case 33:t.o2=b[_0x27ab("0x454")]();break;case 34:t.ul=b.int32();break;case 35:t[_0x27ab("0x44f")]=b[_0x27ab("0x60")]();break;case 36:t[_0x27ab("0x450")]=b[_0x27ab("0x60")]();break;case 37:t.l1=b[_0x27ab("0x454")]();break;case 38:t.l2=b[_0x27ab("0x454")]();break;case 39:t.l3=b[_0x27ab("0x454")]();break;case 40:t.l4=b[_0x27ab("0x454")]();break;case 41:t[_0x27ab("0x539")]=b[_0x27ab("0x60")]();break;case 42:t.eid=b.string();break;case 43:t[_0x27ab("0x535")]=b[_0x27ab("0x60")]();break;default:b[_0x27ab("0x46b")](7&i)}}return a=t.Hash+t[_0x27ab("0x7e")]+t.logotoken+t.ul+t.o1+t.o2+t.tiletoken,x=t,t},b[_0x27ab("0x53a")]=function(){var b=x[_0x27ab("0x456")]+x.token+x[_0x27ab("0x44e")]+x.ul+x.o1+x.o2+x[_0x27ab("0x534")];return a===b},b.decodeDelimited=function(x){return x instanceof n||(x=n(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},b[_0x27ab("0x483")]=function(x){return(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?"object expected":null!=x.v&&x[_0x27ab("0xc")]("v")&&!s.isInteger(x.v)?_0x27ab("0x53b"):null!=x[_0x27ab("0x52a")]&&x[_0x27ab("0xc")]("mtime")&&!s.isInteger(x[_0x27ab("0x52a")])?_0x27ab("0x53c"):null!=x[_0x27ab("0x52b")]&&x[_0x27ab("0xc")]("ltime")&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x52b")])?_0x27ab("0x53d"):null!=x[_0x27ab("0x456")]&&x[_0x27ab("0xc")](_0x27ab("0x456"))&&!s[_0x27ab("0x1dc")](x.Hash)?_0x27ab("0x53e"):null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!s[_0x27ab("0x46d")](x._id)?_0x27ab("0x470"):null!=x.tid&&x[_0x27ab("0xc")](_0x27ab("0x96"))&&!s[_0x27ab("0x46d")](x[_0x27ab("0x96")])?_0x27ab("0x4f5"):null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&!s[_0x27ab("0x1dc")](x.name)?_0x27ab("0x472"):null!=x[_0x27ab("0x43e")]&&x[_0x27ab("0xc")]("nameEn")&&!s.isString(x.nameEn)?"nameEn: string expected":null!=x.adcode&&x[_0x27ab("0xc")](_0x27ab("0x459"))&&!s[_0x27ab("0x1dc")](x.adcode)?_0x27ab("0x473"):null!=x.AS&&x[_0x27ab("0xc")]("AS")&&typeof x.AS!==_0x27ab("0x148")?_0x27ab("0x4ab"):null!=x.AngleX&&x[_0x27ab("0xc")](_0x27ab("0x52c"))&&"number"!=typeof x.AngleX?_0x27ab("0x53f"):null!=x[_0x27ab("0x52d")]&&x[_0x27ab("0xc")](_0x27ab("0x52d"))&&typeof x[_0x27ab("0x52d")]!==_0x27ab("0x148")?_0x27ab("0x540"):null!=x[_0x27ab("0x536")]&&x[_0x27ab("0xc")](_0x27ab("0x536"))&&"number"!=typeof x[_0x27ab("0x536")]?_0x27ab("0x541"):null!=x.x&&x[_0x27ab("0xc")]("x")&&"number"!=typeof x.x?"x: number expected":null!=x.y&&x[_0x27ab("0xc")]("y")&&typeof x.y!==_0x27ab("0x148")?_0x27ab("0x479"):null!=x.z&&x[_0x27ab("0xc")]("z")&&typeof x.z!==_0x27ab("0x148")?"z: number expected":null!=x[_0x27ab("0x446")]&&x.hasOwnProperty(_0x27ab("0x446"))&&!(s.isInteger(x[_0x27ab("0x446")])||x[_0x27ab("0x446")]&&s.isInteger(x[_0x27ab("0x446")][_0x27ab("0x542")])&&s[_0x27ab("0x46d")](x[_0x27ab("0x446")][_0x27ab("0x543")]))?_0x27ab("0x544"):null!=x[_0x27ab("0x447")]&&x[_0x27ab("0xc")](_0x27ab("0x447"))&&!(s[_0x27ab("0x46d")](x.minY)||x[_0x27ab("0x447")]&&s[_0x27ab("0x46d")](x[_0x27ab("0x447")][_0x27ab("0x542")])&&s.isInteger(x[_0x27ab("0x447")].high))?_0x27ab("0x545"):null!=x[_0x27ab("0x448")]&&x[_0x27ab("0xc")](_0x27ab("0x448"))&&!(s.isInteger(x[_0x27ab("0x448")])||x[_0x27ab("0x448")]&&s[_0x27ab("0x46d")](x.maxX[_0x27ab("0x542")])&&s[_0x27ab("0x46d")](x[_0x27ab("0x448")][_0x27ab("0x543")]))?"maxX: integer|Long expected":null!=x[_0x27ab("0x449")]&&x[_0x27ab("0xc")](_0x27ab("0x449"))&&!(s[_0x27ab("0x46d")](x[_0x27ab("0x449")])||x.maxY&&s[_0x27ab("0x46d")](x[_0x27ab("0x449")][_0x27ab("0x542")])&&s.isInteger(x[_0x27ab("0x449")][_0x27ab("0x543")]))?_0x27ab("0x546"):null!=x[_0x27ab("0x547")]&&x[_0x27ab("0xc")](_0x27ab("0x547"))&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x547")])?"offsetbid: string expected":null!=x[_0x27ab("0x538")]&&x.hasOwnProperty(_0x27ab("0x538"))&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x538")])?_0x27ab("0x548"):null!=x[_0x27ab("0x530")]&&x[_0x27ab("0xc")]("tileurl")&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x530")])?"tileurl: string expected":null!=x[_0x27ab("0x531")]&&x[_0x27ab("0xc")]("bidnums")&&!s.isInteger(x[_0x27ab("0x531")])?_0x27ab("0x549"):null!=x[_0x27ab("0x532")]&&x.hasOwnProperty(_0x27ab("0x532"))&&!s[_0x27ab("0x46d")](x[_0x27ab("0x532")])?_0x27ab("0x54a"):null!=x[_0x27ab("0x461")]&&x.hasOwnProperty("Remark")&&!s[_0x27ab("0x1dc")](x.Remark)?_0x27ab("0x47d"):null!=x[_0x27ab("0x468")]&&x[_0x27ab("0xc")](_0x27ab("0x468"))&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x468")])?_0x27ab("0x486"):null!=x[_0x27ab("0x7e")]&&x[_0x27ab("0xc")]("token")&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x7e")])?_0x27ab("0x487"):null!=x[_0x27ab("0x533")]&&x[_0x27ab("0xc")](_0x27ab("0x533"))&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x533")])?_0x27ab("0x54b"):null!=x[_0x27ab("0x44e")]&&x[_0x27ab("0xc")]("logotoken")&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x44e")])?_0x27ab("0x54c"):null!=x[_0x27ab("0x534")]&&x[_0x27ab("0xc")](_0x27ab("0x534"))&&!s.isString(x[_0x27ab("0x534")])?"tiletoken: string expected":null!=x.o1&&x[_0x27ab("0xc")]("o1")&&!s[_0x27ab("0x46d")](x.o1)?_0x27ab("0x489"):null!=x.o2&&x.hasOwnProperty("o2")&&!s[_0x27ab("0x46d")](x.o2)?_0x27ab("0x48b"):null!=x.ul&&x.hasOwnProperty("ul")&&!s.isInteger(x.ul)?_0x27ab("0x48c"):null!=x.other1&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&!s.isString(x.other1)?_0x27ab("0x4ba"):null!=x[_0x27ab("0x450")]&&x.hasOwnProperty("other2")&&!s[_0x27ab("0x1dc")](x.other2)?"other2: string expected":null!=x.l1&&x.hasOwnProperty("l1")&&!s[_0x27ab("0x46d")](x.l1)?_0x27ab("0x54d"):null!=x.l2&&x[_0x27ab("0xc")]("l2")&&!s.isInteger(x.l2)?_0x27ab("0x54e"):null!=x.l3&&x[_0x27ab("0xc")]("l3")&&!s.isInteger(x.l3)?_0x27ab("0x54f"):null!=x.l4&&x[_0x27ab("0xc")]("l4")&&!s.isInteger(x.l4)?_0x27ab("0x550"):null!=x[_0x27ab("0x539")]&&x[_0x27ab("0xc")]("alist")&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x539")])?"alist: string expected":null!=x.eid&&x.hasOwnProperty(_0x27ab("0x4f9"))&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x4f9")])?_0x27ab("0x551"):null!=x[_0x27ab("0x535")]&&x[_0x27ab("0xc")](_0x27ab("0x535"))&&!s[_0x27ab("0x1dc")](x[_0x27ab("0x535")])?"bidlist: string expected":null},b[_0x27ab("0x490")]=function(x){if(x instanceof o.ESCityLicSet)return x;var a=new(o[_0x27ab("0x529")]);return null!=x.v&&(a.v=0|x.v),null!=x[_0x27ab("0x52a")]&&(a[_0x27ab("0x52a")]=0|x.mtime),null!=x[_0x27ab("0x52b")]&&(a.ltime=String(x[_0x27ab("0x52b")])),null!=x[_0x27ab("0x456")]&&(a.Hash=String(x[_0x27ab("0x456")])),null!=x._id&&(a._id=0|x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x96")]&&(a[_0x27ab("0x96")]=0|x[_0x27ab("0x96")]),null!=x[_0x27ab("0xc5")]&&(a[_0x27ab("0xc5")]=String(x[_0x27ab("0xc5")])),null!=x[_0x27ab("0x43e")]&&(a[_0x27ab("0x43e")]=String(x[_0x27ab("0x43e")])),null!=x[_0x27ab("0x459")]&&(a[_0x27ab("0x459")]=String(x[_0x27ab("0x459")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x27ab("0x52c")]&&(a[_0x27ab("0x52c")]=Number(x[_0x27ab("0x52c")])),null!=x[_0x27ab("0x52d")]&&(a[_0x27ab("0x52d")]=Number(x[_0x27ab("0x52d")])),null!=x[_0x27ab("0x536")]&&(a.AngleZ=Number(x[_0x27ab("0x536")])),null!=x.x&&(a.x=Number(x.x)),null!=x.y&&(a.y=Number(x.y)),null!=x.z&&(a.z=Number(x.z)),null!=x[_0x27ab("0x446")]&&(s[_0x27ab("0x52e")]?(a[_0x27ab("0x446")]=s[_0x27ab("0x52e")].fromValue(x.minX))[_0x27ab("0x552")]=!1:typeof x[_0x27ab("0x446")]===_0x27ab("0x60")?a[_0x27ab("0x446")]=parseInt(x[_0x27ab("0x446")],10):typeof x[_0x27ab("0x446")]===_0x27ab("0x148")?a.minX=x[_0x27ab("0x446")]:(0,_.default)(x[_0x27ab("0x446")])===_0x27ab("0x1c")&&(a[_0x27ab("0x446")]=new(s[_0x27ab("0x553")])(x[_0x27ab("0x446")][_0x27ab("0x542")]>>>0,x[_0x27ab("0x446")][_0x27ab("0x543")]>>>0)[_0x27ab("0x554")]())),null!=x[_0x27ab("0x447")]&&(s[_0x27ab("0x52e")]?(a[_0x27ab("0x447")]=s[_0x27ab("0x52e")][_0x27ab("0x555")](x[_0x27ab("0x447")]))[_0x27ab("0x552")]=!1:typeof x[_0x27ab("0x447")]===_0x27ab("0x60")?a[_0x27ab("0x447")]=parseInt(x[_0x27ab("0x447")],10):typeof x.minY===_0x27ab("0x148")?a[_0x27ab("0x447")]=x[_0x27ab("0x447")]:(0,_[_0x27ab("0xb")])(x[_0x27ab("0x447")])===_0x27ab("0x1c")&&(a.minY=new(s[_0x27ab("0x553")])(x[_0x27ab("0x447")][_0x27ab("0x542")]>>>0,x[_0x27ab("0x447")].high>>>0).toNumber())),null!=x[_0x27ab("0x448")]&&(s[_0x27ab("0x52e")]?(a[_0x27ab("0x448")]=s[_0x27ab("0x52e")][_0x27ab("0x555")](x.maxX))[_0x27ab("0x552")]=!1:typeof x[_0x27ab("0x448")]===_0x27ab("0x60")?a.maxX=parseInt(x[_0x27ab("0x448")],10):typeof x.maxX===_0x27ab("0x148")?a[_0x27ab("0x448")]=x[_0x27ab("0x448")]:"object"===(0,_[_0x27ab("0xb")])(x.maxX)&&(a[_0x27ab("0x448")]=new(s[_0x27ab("0x553")])(x[_0x27ab("0x448")].low>>>0,x[_0x27ab("0x448")][_0x27ab("0x543")]>>>0)[_0x27ab("0x554")]())),null!=x.maxY&&(s[_0x27ab("0x52e")]?(a.maxY=s[_0x27ab("0x52e")][_0x27ab("0x555")](x.maxY)).unsigned=!1:"string"==typeof x[_0x27ab("0x449")]?a[_0x27ab("0x449")]=parseInt(x.maxY,10):"number"==typeof x.maxY?a.maxY=x[_0x27ab("0x449")]:"object"===(0,_[_0x27ab("0xb")])(x[_0x27ab("0x449")])&&(a[_0x27ab("0x449")]=new(s[_0x27ab("0x553")])(x[_0x27ab("0x449")][_0x27ab("0x542")]>>>0,x[_0x27ab("0x449")][_0x27ab("0x543")]>>>0)[_0x27ab("0x554")]())),null!=x[_0x27ab("0x547")]&&(a.offsetbid=String(x[_0x27ab("0x547")])),null!=x[_0x27ab("0x538")]&&(a[_0x27ab("0x538")]=String(x[_0x27ab("0x538")])),null!=x[_0x27ab("0x530")]&&(a[_0x27ab("0x530")]=String(x[_0x27ab("0x530")])),null!=x[_0x27ab("0x531")]&&(a.bidnums=0|x[_0x27ab("0x531")]),null!=x[_0x27ab("0x532")]&&(a.modnums=0|x.modnums),null!=x.Remark&&(a[_0x27ab("0x461")]=String(x[_0x27ab("0x461")])),null!=x[_0x27ab("0x468")]&&(a[_0x27ab("0x468")]=String(x.styleid)),null!=x[_0x27ab("0x7e")]&&(a[_0x27ab("0x7e")]=String(x[_0x27ab("0x7e")])),null!=x[_0x27ab("0x533")]&&(a[_0x27ab("0x533")]=String(x.cids)),null!=x[_0x27ab("0x44e")]&&(a[_0x27ab("0x44e")]=String(x[_0x27ab("0x44e")])),null!=x[_0x27ab("0x534")]&&(a[_0x27ab("0x534")]=String(x[_0x27ab("0x534")])),null!=x.o1&&(a.o1=0|x.o1),null!=x.o2&&(a.o2=0|x.o2),null!=x.ul&&(a.ul=0|x.ul),null!=x[_0x27ab("0x44f")]&&(a[_0x27ab("0x44f")]=String(x.other1)),null!=x[_0x27ab("0x450")]&&(a[_0x27ab("0x450")]=String(x[_0x27ab("0x450")])),null!=x.l1&&(a.l1=0|x.l1),null!=x.l2&&(a.l2=0|x.l2),null!=x.l3&&(a.l3=0|x.l3),null!=x.l4&&(a.l4=0|x.l4),null!=x.alist&&(a.alist=String(x.alist)),null!=x[_0x27ab("0x4f9")]&&(a.eid=String(x[_0x27ab("0x4f9")])),null!=x[_0x27ab("0x535")]&&(a[_0x27ab("0x535")]=String(x.bidlist)),a},b[_0x27ab("0x2f8")]=b.fromObject,b[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};if(a.defaults){if(b.v=0,b[_0x27ab("0x52a")]=0,b.ltime="",b.Hash="",b[_0x27ab("0x43d")]=0,b[_0x27ab("0x96")]=0,b[_0x27ab("0xc5")]="",b.nameEn="",b[_0x27ab("0x459")]="",b.AS=0,b[_0x27ab("0x52c")]=0,b.AngleY=0,b[_0x27ab("0x536")]=0,b.x=0,b.y=0,b.z=0,s[_0x27ab("0x52e")]){var _=new(s[_0x27ab("0x52e")])(0,0,!1);b[_0x27ab("0x446")]=a[_0x27ab("0x556")]===String?_[_0x27ab("0x2c")]():a.longs===Number?_[_0x27ab("0x554")]():_}else b.minX=a[_0x27ab("0x556")]===String?"0":0;if(s[_0x27ab("0x52e")]){_=new(s[_0x27ab("0x52e")])(0,0,!1);b[_0x27ab("0x447")]=a[_0x27ab("0x556")]===String?_[_0x27ab("0x2c")]():a[_0x27ab("0x556")]===Number?_[_0x27ab("0x554")]():_}else b[_0x27ab("0x447")]=a[_0x27ab("0x556")]===String?"0":0;if(s[_0x27ab("0x52e")]){_=new(s[_0x27ab("0x52e")])(0,0,!1);b[_0x27ab("0x448")]=a[_0x27ab("0x556")]===String?_[_0x27ab("0x2c")]():a[_0x27ab("0x556")]===Number?_.toNumber():_}else b.maxX=a[_0x27ab("0x556")]===String?"0":0;if(s.Long){_=new(s[_0x27ab("0x52e")])(0,0,!1);b[_0x27ab("0x449")]=a[_0x27ab("0x556")]===String?_[_0x27ab("0x2c")]():a[_0x27ab("0x556")]===Number?_.toNumber():_}else b[_0x27ab("0x449")]=a[_0x27ab("0x556")]===String?"0":0;b[_0x27ab("0x547")]="",b[_0x27ab("0x538")]="",b[_0x27ab("0x530")]="",b.bidnums=0,b[_0x27ab("0x532")]=0,b.Remark="",b[_0x27ab("0x468")]="",b.token="",b.cids="",b[_0x27ab("0x44e")]="",b[_0x27ab("0x534")]="",b.o1=0,b.o2=0,b.ul=0,b.other1="",b[_0x27ab("0x450")]="",b.l1=0,b.l2=0,b.l3=0,b.l4=0,b.alist="",b[_0x27ab("0x4f9")]="",b[_0x27ab("0x535")]=""}return null!=x.v&&x[_0x27ab("0xc")]("v")&&(b.v=x.v),null!=x[_0x27ab("0x52a")]&&x.hasOwnProperty("mtime")&&(b[_0x27ab("0x52a")]=x[_0x27ab("0x52a")]),null!=x[_0x27ab("0x52b")]&&x[_0x27ab("0xc")](_0x27ab("0x52b"))&&(b[_0x27ab("0x52b")]=x.ltime),null!=x[_0x27ab("0x456")]&&x.hasOwnProperty(_0x27ab("0x456"))&&(b[_0x27ab("0x456")]=x[_0x27ab("0x456")]),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b._id=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x96")]&&x[_0x27ab("0xc")]("tid")&&(b[_0x27ab("0x96")]=x[_0x27ab("0x96")]),null!=x[_0x27ab("0xc5")]&&x[_0x27ab("0xc")](_0x27ab("0xc5"))&&(b[_0x27ab("0xc5")]=x.name),null!=x[_0x27ab("0x43e")]&&x[_0x27ab("0xc")](_0x27ab("0x43e"))&&(b[_0x27ab("0x43e")]=x[_0x27ab("0x43e")]),null!=x[_0x27ab("0x459")]&&x[_0x27ab("0xc")](_0x27ab("0x459"))&&(b[_0x27ab("0x459")]=x[_0x27ab("0x459")]),null!=x.AS&&x[_0x27ab("0xc")]("AS")&&(b.AS=x.AS),null!=x[_0x27ab("0x52c")]&&x.hasOwnProperty(_0x27ab("0x52c"))&&(b[_0x27ab("0x52c")]=x.AngleX),null!=x[_0x27ab("0x52d")]&&x[_0x27ab("0xc")](_0x27ab("0x52d"))&&(b.AngleY=x.AngleY),null!=x[_0x27ab("0x536")]&&x[_0x27ab("0xc")]("AngleZ")&&(b[_0x27ab("0x536")]=x[_0x27ab("0x536")]),null!=x.x&&x[_0x27ab("0xc")]("x")&&(b.x=x.x),null!=x.y&&x[_0x27ab("0xc")]("y")&&(b.y=x.y),null!=x.z&&x.hasOwnProperty("z")&&(b.z=x.z),null!=x.minX&&x[_0x27ab("0xc")](_0x27ab("0x446"))&&(typeof x.minX===_0x27ab("0x148")?b[_0x27ab("0x446")]=a[_0x27ab("0x556")]===String?String(x[_0x27ab("0x446")]):x[_0x27ab("0x446")]:b.minX=a[_0x27ab("0x556")]===String?s.Long.prototype.toString[_0x27ab("0x3")](x[_0x27ab("0x446")]):a[_0x27ab("0x556")]===Number?new(s[_0x27ab("0x553")])(x[_0x27ab("0x446")][_0x27ab("0x542")]>>>0,x.minX[_0x27ab("0x543")]>>>0)[_0x27ab("0x554")]():x[_0x27ab("0x446")]),null!=x[_0x27ab("0x447")]&&x[_0x27ab("0xc")]("minY")&&(typeof x[_0x27ab("0x447")]===_0x27ab("0x148")?b.minY=a.longs===String?String(x[_0x27ab("0x447")]):x[_0x27ab("0x447")]:b[_0x27ab("0x447")]=a[_0x27ab("0x556")]===String?s.Long[_0x27ab("0x2")][_0x27ab("0x2c")][_0x27ab("0x3")](x[_0x27ab("0x447")]):a.longs===Number?new s.LongBits(x.minY.low>>>0,x[_0x27ab("0x447")][_0x27ab("0x543")]>>>0)[_0x27ab("0x554")]():x[_0x27ab("0x447")]),null!=x[_0x27ab("0x448")]&&x[_0x27ab("0xc")](_0x27ab("0x448"))&&(typeof x[_0x27ab("0x448")]===_0x27ab("0x148")?b[_0x27ab("0x448")]=a[_0x27ab("0x556")]===String?String(x[_0x27ab("0x448")]):x[_0x27ab("0x448")]:b.maxX=a[_0x27ab("0x556")]===String?s[_0x27ab("0x52e")][_0x27ab("0x2")][_0x27ab("0x2c")][_0x27ab("0x3")](x[_0x27ab("0x448")]):a[_0x27ab("0x556")]===Number?new(s[_0x27ab("0x553")])(x[_0x27ab("0x448")][_0x27ab("0x542")]>>>0,x.maxX[_0x27ab("0x543")]>>>0)[_0x27ab("0x554")]():x[_0x27ab("0x448")]),null!=x[_0x27ab("0x449")]&&x[_0x27ab("0xc")](_0x27ab("0x449"))&&(typeof x.maxY===_0x27ab("0x148")?b[_0x27ab("0x449")]=a.longs===String?String(x[_0x27ab("0x449")]):x[_0x27ab("0x449")]:b[_0x27ab("0x449")]=a.longs===String?s.Long[_0x27ab("0x2")][_0x27ab("0x2c")][_0x27ab("0x3")](x[_0x27ab("0x449")]):a[_0x27ab("0x556")]===Number?new(s[_0x27ab("0x553")])(x[_0x27ab("0x449")].low>>>0,x.maxY[_0x27ab("0x543")]>>>0)[_0x27ab("0x554")]():x.maxY),null!=x[_0x27ab("0x547")]&&x[_0x27ab("0xc")](_0x27ab("0x547"))&&(b[_0x27ab("0x547")]=x[_0x27ab("0x547")]),null!=x[_0x27ab("0x538")]&&x[_0x27ab("0xc")]("offsetroad")&&(b[_0x27ab("0x538")]=x[_0x27ab("0x538")]),null!=x[_0x27ab("0x530")]&&x[_0x27ab("0xc")](_0x27ab("0x530"))&&(b[_0x27ab("0x530")]=x[_0x27ab("0x530")]),null!=x[_0x27ab("0x531")]&&x.hasOwnProperty("bidnums")&&(b[_0x27ab("0x531")]=x[_0x27ab("0x531")]),null!=x[_0x27ab("0x532")]&&x[_0x27ab("0xc")]("modnums")&&(b[_0x27ab("0x532")]=x[_0x27ab("0x532")]),null!=x[_0x27ab("0x461")]&&x[_0x27ab("0xc")](_0x27ab("0x461"))&&(b.Remark=x[_0x27ab("0x461")]),null!=x[_0x27ab("0x468")]&&x.hasOwnProperty(_0x27ab("0x468"))&&(b[_0x27ab("0x468")]=x[_0x27ab("0x468")]),null!=x.token&&x.hasOwnProperty(_0x27ab("0x7e"))&&(b[_0x27ab("0x7e")]=x.token),null!=x[_0x27ab("0x533")]&&x[_0x27ab("0xc")](_0x27ab("0x533"))&&(b[_0x27ab("0x533")]=x[_0x27ab("0x533")]),null!=x[_0x27ab("0x44e")]&&x[_0x27ab("0xc")]("logotoken")&&(b[_0x27ab("0x44e")]=x[_0x27ab("0x44e")]),null!=x.tiletoken&&x[_0x27ab("0xc")](_0x27ab("0x534"))&&(b[_0x27ab("0x534")]=x[_0x27ab("0x534")]),null!=x.o1&&x.hasOwnProperty("o1")&&(b.o1=x.o1),null!=x.o2&&x[_0x27ab("0xc")]("o2")&&(b.o2=x.o2),null!=x.ul&&x[_0x27ab("0xc")]("ul")&&(b.ul=x.ul),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&(b[_0x27ab("0x44f")]=x.other1),null!=x[_0x27ab("0x450")]&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&(b[_0x27ab("0x450")]=x.other2),null!=x.l1&&x[_0x27ab("0xc")]("l1")&&(b.l1=x.l1),null!=x.l2&&x[_0x27ab("0xc")]("l2")&&(b.l2=x.l2),null!=x.l3&&x[_0x27ab("0xc")]("l3")&&(b.l3=x.l3),null!=x.l4&&x[_0x27ab("0xc")]("l4")&&(b.l4=x.l4),null!=x[_0x27ab("0x539")]&&x[_0x27ab("0xc")](_0x27ab("0x539"))&&(b[_0x27ab("0x539")]=x[_0x27ab("0x539")]),null!=x[_0x27ab("0x4f9")]&&x[_0x27ab("0xc")](_0x27ab("0x4f9"))&&(b.eid=x[_0x27ab("0x4f9")]),null!=x[_0x27ab("0x535")]&&x[_0x27ab("0xc")](_0x27ab("0x535"))&&(b.bidlist=x[_0x27ab("0x535")]),b},b[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")].toObject(this,x)},b[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,i[_0x27ab("0x439")].toJSONOptions)},b}(),x[_0x27ab("0x6")]=o},,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0x557")]=void 0;var _=o(b(27)),e=o(b(4)),t=o(b(0)),i=o(b(1)),n=o(b(5)),r=o(b(6)),s=b(30);function o(x){return x&&x.__esModule?x:{default:x}}var c=function(x){function a(){(0,t[_0x27ab("0xb")])(this,a);var x=(0,n.default)(this,(a.__proto__||(0,e.default)(a))[_0x27ab("0x3")](this));return x[_0x27ab("0x342")]=[],x[_0x27ab("0x1b0")](_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])(new Float32Array([]),3)),x[_0x27ab("0x1b0")]("normal",new THREE.BufferAttribute(new Float32Array([]),3)),x[_0x27ab("0x1b0")]("uv",new(THREE[_0x27ab("0x3fd")])(new Float32Array([]),2)),x.addAttribute(_0x27ab("0x558"),new(THREE[_0x27ab("0x3fd")])(new Float32Array([]),2)),x.hiddenChilds={},x}return(0,r.default)(a,x),(0,i[_0x27ab("0xb")])(a,[{key:"showChild",value:function(x){var a=this[_0x27ab("0x559")](x)[_0x27ab("0x55a")],b=3*a[0],_=3*a[1],e=this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0x1ae")];if(this[_0x27ab("0x55b")][x]){for(var t=0;t<e[_0x27ab("0x0")];t++)t>=b&&t<_&&(e[t]=this[_0x27ab("0x55b")][x][t]);this[_0x27ab("0x55b")][x]=null,this.getAttribute(_0x27ab("0xc3"))[_0x27ab("0x146")]=!0}}},{key:"hideChild",value:function(x){var a=this[_0x27ab("0x559")](x)[_0x27ab("0x55a")],b=3*a[0],_=3*a[1],e=this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0x1ae")];if(!this[_0x27ab("0x55b")][x]){this[_0x27ab("0x55b")][x]=[];for(var t=0;t<e[_0x27ab("0x0")];t++)if(t>=b&&t<_){var i=e[t];this[_0x27ab("0x55b")][x][t]=i,e[t]=.01}this.getAttribute(_0x27ab("0xc3"))[_0x27ab("0x146")]=!0}}},{key:"clearAll",value:function(){this[_0x27ab("0x342")]=[],this.dispose(),this[_0x27ab("0x1b0")](_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])(new Float32Array([]),3)),this[_0x27ab("0x1b0")]("normal",new(THREE[_0x27ab("0x3fd")])(new Float32Array([]),3)),this.addAttribute("uv",new(THREE[_0x27ab("0x3fd")])(new Float32Array([]),2)),this[_0x27ab("0x140")](),this[_0x27ab("0x141")](0,0,0)}},{key:_0x27ab("0x559"),value:function(x){return this[_0x27ab("0x342")][_0x27ab("0x315")]((function(a){return a.ID==x}))[0]}},{key:_0x27ab("0x55c"),value:function(x){for(var a=0;a<this[_0x27ab("0x342")][_0x27ab("0x0")];a++)if(this.brothers[a].ID==x)return a}},{key:"updateChildByData",value:function(x,a){var b=x.ID,_=x[_0x27ab("0x1b7")],e=x.offsetZ,t=x[_0x27ab("0xec")],i=x.holes,n=this[_0x27ab("0x559")](b)[_0x27ab("0x55a")],r=n[0],s=n[1],o=n[1]-n[0],c=this[_0x27ab("0x55c")](b),l=this.genGeo(t,i,_,e,a),f=l[_0x27ab("0xc2")][_0x27ab("0xc3")].array,u=l[_0x27ab("0xc2")].normal[_0x27ab("0x1ae")],d=l[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")],h=l[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],g=this.attributes.position[_0x27ab("0x1ae")],v=this.attributes.normal[_0x27ab("0x1ae")],p=this.attributes.uv[_0x27ab("0x1ae")],A=this[_0x27ab("0xc2")].position[_0x27ab("0xc4")],m=A-o+h,C=g[_0x27ab("0x55d")](0,3*r),I=g.subarray(3*s,3*A),y=new Float32Array(C[_0x27ab("0x0")]+I[_0x27ab("0x0")]+f[_0x27ab("0x0")]);y.set(C),y.set(f,C.length),y.set(I,C[_0x27ab("0x0")]+f.lenth),this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0x1ae")]=y,this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")]=m;var E=v[_0x27ab("0x55d")](0,2*r),w=v.subarray(2*s,2*A),T=new Float32Array(E[_0x27ab("0x0")]+u.length+w[_0x27ab("0x0")]);T[_0x27ab("0x123")](E),T[_0x27ab("0x123")](u,E[_0x27ab("0x0")]),T[_0x27ab("0x123")](w,E[_0x27ab("0x0")]+u[_0x27ab("0x0")]),this[_0x27ab("0xc2")].normal[_0x27ab("0x1ae")]=T,this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0xc4")]=m;var k=p[_0x27ab("0x55d")](0,2*r),S=p[_0x27ab("0x55d")](2*s,2*A),M=new Float32Array(k.length+d[_0x27ab("0x0")]+S[_0x27ab("0x0")]);M.set(k),M[_0x27ab("0x123")](d,k[_0x27ab("0x0")]),M[_0x27ab("0x123")](S,k[_0x27ab("0x0")]+d[_0x27ab("0x0")]),this[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")]=M,this.attributes.uv.count=m;var R=h-o;this[_0x27ab("0x342")][c][_0x27ab("0x55a")][1]+=R;for(var L=0;L<this.brothers[_0x27ab("0x0")];L++)L>c&&(this[_0x27ab("0x342")][L].range[0]+=R,this.brothers[L][_0x27ab("0x55a")][1]+=R);this[_0x27ab("0x1af")](_0x27ab("0xc3")).needsUpdate=!0,this[_0x27ab("0x1af")](_0x27ab("0xff")).needsUpdate=!0,this.getAttribute("uv").needsUpdate=!0}},{key:_0x27ab("0x55e"),value:function(x){for(var a=!1,b=void 0,_=0;_<this[_0x27ab("0x342")][_0x27ab("0x0")];_++)if(this[_0x27ab("0x342")][_].ID==x){a=!0;var e=this.brothers[_][_0x27ab("0x55a")];b=e[1]-e[0];var t=this.attributes[_0x27ab("0xc3")][_0x27ab("0x1ae")][_0x27ab("0x55d")](0,3*e[0]),i=this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0x1ae")][_0x27ab("0x55d")](3*e[1],3*this.attributes[_0x27ab("0xc3")][_0x27ab("0xc4")]),n=new Float32Array(t[_0x27ab("0x0")]+i[_0x27ab("0x0")]);n[_0x27ab("0x123")](t),n[_0x27ab("0x123")](i,t[_0x27ab("0x0")]),this[_0x27ab("0xc2")][_0x27ab("0xc3")].array=n,this.attributes[_0x27ab("0xc3")].count-=b;var r=this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0x1ae")].subarray(0,3*e[0]),s=this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0x1ae")].subarray(3*e[1],3*this.attributes.normal.count),o=new Float32Array(r.length+s[_0x27ab("0x0")]);o[_0x27ab("0x123")](r),o.set(s,r[_0x27ab("0x0")]),this.attributes.normal.array=o,this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0xc4")]-=b;var c=this[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")][_0x27ab("0x55d")](0,2*e[0]),l=this[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")][_0x27ab("0x55d")](2*e[1],2*this[_0x27ab("0xc2")].uv[_0x27ab("0xc4")]),f=new Float32Array(c[_0x27ab("0x0")]+l[_0x27ab("0x0")]);f[_0x27ab("0x123")](c),f[_0x27ab("0x123")](l,c.length),this[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")]=f,this[_0x27ab("0xc2")].uv[_0x27ab("0xc4")]-=b,this[_0x27ab("0x342")][_0x27ab("0x157")](_,1),_--}else a&&(this.brothers[_][_0x27ab("0x55a")][0]-=b,this[_0x27ab("0x342")][_][_0x27ab("0x55a")][1]-=b,this.brothers[_][_0x27ab("0x344")][0]-=b,this.brothers[_][_0x27ab("0x344")][1]-=b,this.brothers[_].split-=b);this[_0x27ab("0x1af")](_0x27ab("0xc3")).needsUpdate=!0,this[_0x27ab("0x1af")](_0x27ab("0xff"))[_0x27ab("0x146")]=!0,this[_0x27ab("0x1af")]("uv")[_0x27ab("0x146")]=!0}},{key:_0x27ab("0x55f"),value:function(x,a){return Math.abs(Math[_0x27ab("0xdc")](Math[_0x27ab("0xb4")](x.x-a.x,2)+Math[_0x27ab("0xb4")](x.y-a.y,2)))}},{key:_0x27ab("0x560"),value:function(x,a,b,e,t){for(var i=this,n=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],r=n[_0x27ab("0x15d")][_0x27ab("0x1ab")],s=n[_0x27ab("0x15d")][_0x27ab("0x1ac")],o=new(THREE[_0x27ab("0x561")]),c=b+e,l=t[_0x27ab("0x562")],f=t[_0x27ab("0x563")],u=0;u<x[_0x27ab("0x0")];u++){var d=x[u];0==u?o.moveTo(d.x-r,d.y-s):o[_0x27ab("0x564")](d.x-r,d.y-s)}for(var h in a){var g=a[h],v=new THREE.Path;for(var p in g){var A=g[p];0==p?v.moveTo(A.x,A.y):v.lineTo(A.x,A.y)}o[_0x27ab("0x565")][_0x27ab("0x1")](v)}var m=new(THREE[_0x27ab("0x566")])(o,{depth:b,bevelEnabled:!1,material:0,extrudeMaterial:0}),C=m[_0x27ab("0x1af")]("position")[_0x27ab("0xc4")],I=m[_0x27ab("0x1af")](_0x27ab("0xc3")).array,y=[],E=[],w=[],T=m.getAttribute("normal")[_0x27ab("0x1ae")],k=m[_0x27ab("0x1af")]("uv").array,S=(0,_[_0x27ab("0xb")])(k);m[_0x27ab("0x567")]();var M=m[_0x27ab("0x568")][_0x27ab("0x33f")],R=m.boundingBox[_0x27ab("0x340")],L=new(THREE[_0x27ab("0x569")])(0-R.x,0-R.y),H=new(THREE[_0x27ab("0x569")])(M.x-R.x,M.y-R.y),D=H.x/1,P=H.y/1,O=1,B=1;f&&(O=D,B=P);for(var N=m.groups[0][_0x27ab("0xc4")]/3,F=0;F<N;F++)k[6*F]=(I[9*F]+L.x)/O,k[6*F+1]=(I[9*F+1]+L.y)/B,k[6*F+2]=(I[9*F+3]+L.x)/O,k[6*F+3]=(I[9*F+4]+L.y)/B,k[6*F+4]=(I[9*F+6]+L.x)/O,k[6*F+5]=(I[9*F+7]+L.y)/B,S[6*F]=(I[9*F]+L.x)/D,S[6*F+1]=(I[9*F+1]+L.y)/P,S[6*F+2]=(I[9*F+3]+L.x)/D,S[6*F+3]=(I[9*F+4]+L.y)/P,S[6*F+4]=(I[9*F+6]+L.x)/D,S[6*F+5]=(I[9*F+7]+L.y)/P;for(var z,j,U,X,Y=m.groups[1].count/6,G=N/2,Q=0;Q<Y;Q++,G++){var V=(j=void 0,U=void 0,X=void 0,j={x:I[9*(z=2*G)],y:I[9*z+1]},U={x:I[9*z+3],y:I[9*z+4]},X={x:I[9*z+6],y:I[9*z+7]},T[9*z+2]==T[9*z+5]?i[_0x27ab("0x55f")](j,U):T[9*z+2]==T[9*z+8]?i[_0x27ab("0x55f")](j,X):T[9*z+5]==T[9*z+8]?i[_0x27ab("0x55f")](U,X):void console[_0x27ab("0x362")](_0x27ab("0x56a")));V<1&&(V=1),l?(k[12*G]=1,k[12*G+1]=1,k[12*G+2]=0,k[12*G+3]=1,k[12*G+4]=1,k[12*G+5]=0,k[12*G+6]=0,k[12*G+7]=1,k[12*G+8]=0,k[12*G+9]=0,k[12*G+10]=1,k[12*G+11]=0):(k[12*G]=V,k[12*G+1]=b,k[12*G+2]=0,k[12*G+3]=b,k[12*G+4]=V,k[12*G+5]=0,k[12*G+6]=0,k[12*G+7]=b,k[12*G+8]=0,k[12*G+9]=0,k[12*G+10]=V,k[12*G+11]=0),S[12*G]=1,S[12*G+1]=1,S[12*G+2]=0,S[12*G+3]=1,S[12*G+4]=1,S[12*G+5]=0,S[12*G+6]=0,S[12*G+7]=1,S[12*G+8]=0,S[12*G+9]=0,S[12*G+10]=1,S[12*G+11]=0}for(var W=I[2],Z=S,J=[],K=0,q=0;q<C;q++)I[3*q+2]==W||0!=K&&q>K?(E.push(I[3*q],I[3*q+1],I[3*q+2]-c),y[_0x27ab("0x1")](T[3*q],T[3*q+1],T[3*q+2]),w[_0x27ab("0x1")](k[2*q],k[2*q+1]),J[_0x27ab("0x1")](Z[2*q],Z[2*q+1])):0==K&&(K=2*q);return m.addAttribute(_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])(new Float32Array(E),3)),m[_0x27ab("0x1b0")](_0x27ab("0xff"),new(THREE[_0x27ab("0x3fd")])(new Float32Array(y),3)),m.addAttribute("uv",new(THREE[_0x27ab("0x3fd")])(new Float32Array(w),2)),m[_0x27ab("0x1b0")](_0x27ab("0x558"),new(THREE[_0x27ab("0x3fd")])(new Float32Array(J),2)),m[_0x27ab("0x40d")][0][_0x27ab("0xc4")]-=K/2,m[_0x27ab("0x40d")][1][_0x27ab("0x1d5")]-=K/2,m}},{key:"addChilds",value:function(x){for(var a=arguments[_0x27ab("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],_=[],e=[],t=0;t<x[_0x27ab("0x0")];t++){var i=x[t];i[_0x27ab("0xec")]=b.transformCoordArray({from:b[_0x27ab("0x191")],to:b.coordSystem,coords:i[_0x27ab("0xec")],flipX:!0});var n=i[_0x27ab("0x565")];n.length>0&&(n[0]instanceof Array&&(n=n[0]),n=b[_0x27ab("0x56b")]({from:b[_0x27ab("0x191")],to:b[_0x27ab("0x192")],coords:n,flipX:!0}));var r=this[_0x27ab("0x560")](i[_0x27ab("0xec")],n,i[_0x27ab("0x1b7")],i[_0x27ab("0x56c")],a);_[_0x27ab("0x1")](r),e.push(r[_0x27ab("0x40d")])}var o=this[_0x27ab("0x342")].length,c=this.attributes[_0x27ab("0xc3")][_0x27ab("0xc4")],l=s[_0x27ab("0x3fc")][_0x27ab("0x56d")](_,!0),f=l.groups,u=l[_0x27ab("0xc2")].position.array,d=l[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0x1ae")],h=l[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")],g=l.attributes[_0x27ab("0x558")][_0x27ab("0x1ae")],v=this[_0x27ab("0xc2")].position[_0x27ab("0x1ae")].length,p=new Float32Array(v+u[_0x27ab("0x0")]);p[_0x27ab("0x123")](this[_0x27ab("0xc2")].position.array),p[_0x27ab("0x123")](u,v),this[_0x27ab("0xc2")][_0x27ab("0xc3")].count+=l[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0x1ae")]=p;var A=this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0x1ae")][_0x27ab("0x0")],m=new Float32Array(A+d.length);m[_0x27ab("0x123")](this.attributes[_0x27ab("0xff")][_0x27ab("0x1ae")]),m.set(d,A),this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0xc4")]+=l[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0xc4")],this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0x1ae")]=m;var C=this[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")][_0x27ab("0x0")],I=new Float32Array(C+h[_0x27ab("0x0")]);I.set(this[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")]),I[_0x27ab("0x123")](h,C),this[_0x27ab("0xc2")].uv.count+=l[_0x27ab("0xc2")].uv[_0x27ab("0xc4")],this.attributes.uv[_0x27ab("0x1ae")]=I;var y=new Float32Array(C+h[_0x27ab("0x0")]);y.set(this[_0x27ab("0xc2")].normalizeUv[_0x27ab("0x1ae")]),y[_0x27ab("0x123")](g,C),this.attributes[_0x27ab("0x558")].count+=l[_0x27ab("0xc2")].normalizeUv[_0x27ab("0xc4")],this[_0x27ab("0xc2")].normalizeUv[_0x27ab("0x1ae")]=y,this[_0x27ab("0x1af")]("position")[_0x27ab("0x146")]=!0,this[_0x27ab("0x1af")](_0x27ab("0xff"))[_0x27ab("0x146")]=!0,this[_0x27ab("0x1af")]("uv")[_0x27ab("0x146")]=!0,this[_0x27ab("0x1af")](_0x27ab("0x558"))[_0x27ab("0x146")]=!0;for(var E=0;E<f[_0x27ab("0x0")];E++){var w=x[E].ID,T=[f[E][_0x27ab("0x1d5")]+c,f[E][_0x27ab("0x1d5")]+c+f[E].count],k=[T[0]+e[E][1].start,T[0]+f[E][_0x27ab("0xc4")]];this[_0x27ab("0x342")][_0x27ab("0x1")]({ID:w,range:T,sideRange:k})}return this[_0x27ab("0x140")](),this[_0x27ab("0x141")](0,this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],0),this[_0x27ab("0x342")][_0x27ab("0xf")](o)}},{key:_0x27ab("0x56e"),value:function(x){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},b=esmap.ESMap[_0x27ab("0xd3")],_=x.ID,e=x[_0x27ab("0x1b7")],t=x.offsetZ||0,i=x[_0x27ab("0xec")],n=x[_0x27ab("0x565")]||[];i=b[_0x27ab("0x56b")]({from:b.DEFAULT_COORDSYSTEM,to:b.coordSystem,coords:i,flipX:!0}),n[_0x27ab("0x0")]>0&&(n=b[_0x27ab("0x56b")]({from:b.DEFAULT_COORDSYSTEM,to:b.coordSystem,coords:n,flipX:!0}));var r=this[_0x27ab("0x560")](i,n,e,t,a),s=r[_0x27ab("0xc2")][_0x27ab("0xc3")].array,o=s[_0x27ab("0x0")]/3,c=r[_0x27ab("0xc2")][_0x27ab("0xff")].array,l=r[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")],f=r.attributes[_0x27ab("0x558")][_0x27ab("0x1ae")],u=this.attributes[_0x27ab("0xc3")][_0x27ab("0xc4")],d=this[_0x27ab("0xc2")][_0x27ab("0xc3")].array.length,h=new Float32Array(d+s[_0x27ab("0x0")]);h[_0x27ab("0x123")](this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0x1ae")]),h[_0x27ab("0x123")](s,d),this[_0x27ab("0xc2")][_0x27ab("0xc3")].array=h,this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")]+=o;var g=this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0x1ae")][_0x27ab("0x0")],v=new Float32Array(g+c[_0x27ab("0x0")]);v[_0x27ab("0x123")](this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0x1ae")]),v[_0x27ab("0x123")](c,g),this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0x1ae")]=v,this[_0x27ab("0xc2")][_0x27ab("0xff")][_0x27ab("0xc4")]+=o;var p=this[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")][_0x27ab("0x0")],A=new Float32Array(p+l.length);A.set(this[_0x27ab("0xc2")].uv.array),A[_0x27ab("0x123")](l,p),this[_0x27ab("0xc2")].uv.array=A,this[_0x27ab("0xc2")].uv[_0x27ab("0xc4")]+=o;var m=this.attributes[_0x27ab("0x558")][_0x27ab("0x1ae")][_0x27ab("0x0")],C=new Float32Array(m+f[_0x27ab("0x0")]);C.set(this[_0x27ab("0xc2")][_0x27ab("0x558")].array),C[_0x27ab("0x123")](f,m),this[_0x27ab("0xc2")].normalizeUv[_0x27ab("0x1ae")]=C,this[_0x27ab("0xc2")].normalizeUv.count+=o,this.getAttribute("position").needsUpdate=!0,this.getAttribute(_0x27ab("0xff"))[_0x27ab("0x146")]=!0,this[_0x27ab("0x1af")]("uv")[_0x27ab("0x146")]=!0,this[_0x27ab("0x1af")](_0x27ab("0x558"))[_0x27ab("0x146")]=!0;var I=r[_0x27ab("0x40d")],y=u+I[1].start,E=[u,u+o],w=[y,u+o];return this[_0x27ab("0x342")][_0x27ab("0x1")]({ID:_,range:E,sideRange:w}),this[_0x27ab("0x140")](),this[_0x27ab("0x141")](0,this[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],0),{ID:_,range:E,sideRange:w}}},{key:_0x27ab("0x56f"),value:function(){}},{key:_0x27ab("0x570"),value:function(){}},{key:_0x27ab("0x571"),value:function(){}}]),a}(THREE.BufferGeometry);a[_0x27ab("0x557")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(a){var b=a[_0x27ab("0x572")],e=a[_0x27ab("0x573")],t=a[_0x27ab("0x574")];(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x107")]=(new(THREE[_0x27ab("0x108")])).setStyle(t),this[_0x27ab("0xb3")]=null,this[_0x27ab("0x356")]=null,this[_0x27ab("0xc4")]=0,this.createMaterial(b,e)}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x346"),value:function(x,a){var b=this;return this[_0x27ab("0xb3")]=new THREE.SpriteMaterial({color:16777215,transparent:!0}),this[_0x27ab("0xb3")].onBeforeCompile=function(_){_[_0x27ab("0x10a")][_0x27ab("0x575")]={value:0},_[_0x27ab("0x10a")][_0x27ab("0x576")]={value:b.color},_[_0x27ab("0x10a")].aoTexture={value:a},_[_0x27ab("0x10a")][_0x27ab("0x577")]={value:x},_[_0x27ab("0x10e")]=_.vertexShader.replace(_0x27ab("0x351"),_0x27ab("0x578")),_[_0x27ab("0x10e")]=_[_0x27ab("0x10e")][_0x27ab("0x111")](_0x27ab("0x579"),_0x27ab("0x57a")),_[_0x27ab("0x113")]=_[_0x27ab("0x113")][_0x27ab("0x111")]("uniform float opacity;",_0x27ab("0x57b")),_[_0x27ab("0x113")]=_[_0x27ab("0x113")][_0x27ab("0x111")](_0x27ab("0x116"),"\n                    vec4 resultColor = vec4(outgoingLight, opacity);\n    \n                    float x = (0.5 - nvUv.x);\n                    float y = (0.5 - nvUv.y);\n                    vec2 cUv = vec2(x, y);\n    \n                    vec4 aoTexColor = texture2D(aoTexture, nvUv);\n                    vec4 texColor = texture2D(texture1, nvUv);\n    \n                    vec3 col = vec3(0);\n                    float d = 1.0 - (dot(cUv, cUv));\n                    d += iTime / 3.;\n                    d *= 3.;\n                    \n                    vec3 colors = activeColor;\n                    //colors = fract(colors);\n    \n                    resultColor.a *= aoTexColor.a;\n                    \n                    float m = fract(d);\n                    m = 2.0 * (m - 0.5);\n                    m = 1.0 - abs(m);\n                   \n                    m = smoothstep(0.0, 1.0, m);\n                    resultColor.a *= m;\n                    col += (colors * m);\n                    col.rgb *= 1.5;\n                    vec4 rCol = vec4( col.rgb,  resultColor.a );\n                    if(texColor.a > 0.6){\n                        rCol = texColor;\n                    }\n                    gl_FragColor = rCol;\n    \n                    "),b[_0x27ab("0x356")]=_},this[_0x27ab("0xb3")]}},{key:_0x27ab("0x57c"),value:function(x){var a=x[_0x27ab("0xc3")],b=x.size,_=new THREE.Sprite(this[_0x27ab("0xb3")]);return this[_0x27ab("0xb3")][_0x27ab("0x57d")]=!1,_[_0x27ab("0x24b")].set(b,b,b),_.position[_0x27ab("0x123")](a.x,a.y,a.z),_}},{key:_0x27ab("0x57e"),value:function(x){this[_0x27ab("0x356")]&&(this[_0x27ab("0xc4")]+=x,this[_0x27ab("0x356")][_0x27ab("0x10a")].iTime[_0x27ab("0xf8")]=this.count)}}]),x}();a[_0x27ab("0xb")]=i},function(x,a,b){"use strict";function _(x){this[_0x27ab("0x37")]=x,this[_0x27ab("0x57f")]=[]}function e(x,a){x&&(this[_0x27ab("0x580")]=x,this[_0x27ab("0x581")]=!0,this[_0x27ab("0x1c")]=a,this[_0x27ab("0x1c")]&&(this.object[_0x27ab("0x582")]=this),this[_0x27ab("0x580")][_0x27ab("0x583")](this))}Object.defineProperty(a,_0x27ab("0xa"),{value:!0}),_[_0x27ab("0x2")]={constructor:_,_invokeFunction:function(x,a){this[_0x27ab("0x57f")][_0x27ab("0x1b")]((function(b){b.enabled&&b[x]&&b[x](a)}))},append:function(x){this[_0x27ab("0x57f")].push(x),x[_0x27ab("0x1c")]&&this.map.mapPicker[_0x27ab("0x584")](x[_0x27ab("0x1c")]),x[_0x27ab("0x1d5")]&&x[_0x27ab("0x1d5")]()},remove:function(x){for(var a=0;a<this[_0x27ab("0x57f")].length;a++)if(this[_0x27ab("0x57f")][a]==x)return void this[_0x27ab("0x57f")][_0x27ab("0x157")](a,1)},invokeUpdate:function(x){this[_0x27ab("0x585")](_0x27ab("0x12b"),x)}},e.prototype={constructor:e,dispose:function(){this[_0x27ab("0x580")]=this,this[_0x27ab("0x580")][_0x27ab("0x158")](this),this.object&&(this[_0x27ab("0x580")][_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x586")](this.object),this.object[_0x27ab("0xc7")]&&this[_0x27ab("0x1c")][_0x27ab("0xc7")][_0x27ab("0x158")](this[_0x27ab("0x1c")]))}};var t={Component:e,ComponentsManager:_};a[_0x27ab("0xb")]=t},function(x,a,b){"use strict";var _=s(b(102)),e=r(b(151)),t=r(b(238)),i=s(b(129)),n=s(b(243));function r(x){if(x&&x[_0x27ab("0xa")])return x;var a={};if(null!=x)for(var b in x)Object[_0x27ab("0x2")].hasOwnProperty[_0x27ab("0x3")](x,b)&&(a[b]=x[b]);return a[_0x27ab("0xb")]=x,a}function s(x){return x&&x.__esModule?x:{default:x}}var o=e[_0x27ab("0x587")];window.THREE=o;var c=window.em=o;window.esWorker=e.esWorker;var l=window[_0x27ab("0x42a")]={version:"1.0.2",minV:1,maxV:2};l.webgl2=!1,l.TWEEN=n[_0x27ab("0xb")],window[_0x27ab("0x42a")][_0x27ab("0x588")]=i[_0x27ab("0xb")],l[_0x27ab("0x80")]=t,b(244),b(245),b(246),b(247),b(248),b(249),b(250),b(251),b(252),b(253),b(255),b(256),b(257),o.Promise=function(){this[_0x27ab("0x589")]=[]},o[_0x27ab("0x58a")].delay=function(x){var a=new o.Promise;return setTimeout((function(){a[_0x27ab("0x58b")]()}),x),a},o.Promise[_0x27ab("0x2")]={constructor:o[_0x27ab("0x58a")],then:function(x){return this.callbacks[_0x27ab("0x1")](x),this},resolve:function(x){var a=this;setTimeout((function(){for(var x=0;x<a[_0x27ab("0x589")][_0x27ab("0x0")];x++){var b=a[_0x27ab("0x589")][x]();if(b instanceof o[_0x27ab("0x58a")])for(x++;x<a[_0x27ab("0x589")][_0x27ab("0x0")];x++)b[_0x27ab("0x312")](a[_0x27ab("0x589")][x])}}),0)}},l[_0x27ab("0x58c")]={EXTENT_EPSILON_Y:-.01,SCENE_AXIS:!1},l[_0x27ab("0x58d")]={create:function(x,a){return new f(x,a)}},l[_0x27ab("0x58e")]={setUrl:function(x){this[_0x27ab("0xb3")][_0x27ab("0x37")]&&this.material[_0x27ab("0x37")][_0x27ab("0xb2")](),this[_0x27ab("0xb3")].map=l.ESMapUtil[_0x27ab("0x58f")](x),this[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x146")]=!0}},l[_0x27ab("0x590")]={NORTH:"n",SOUTH:"s",WEST:"w",EAST:"e",NORTH_EAST:"ne",NORTH_WEST:"nw",SOUTH_EAST:"se",SOUTH_WEST:"sw"},l.ESLayerType={NONE:_0x27ab("0x591"),FLOOR_BASE:_0x27ab("0x592"),MODEL:"model",MODEL_POI:_0x27ab("0x593"),MODEL_LABEL:_0x27ab("0x594"),MODEL_LINE:_0x27ab("0x595"),MODEL_IMAGE:_0x27ab("0x596"),MODEL_BASE:_0x27ab("0x597"),MODEL3D:"model3d",EXTERANL_MODEL:_0x27ab("0x598"),POLYGON_MARKER:"polygonMarker",LOCATION_MARKER:_0x27ab("0x599"),LINE_MARKER:_0x27ab("0x59a"),IMAGE_MARKER:"imageMarker",TEXT_MARKER:_0x27ab("0x59b"),CARD_MARKER:_0x27ab("0x59c"),BOARD_MARKER:_0x27ab("0x59d"),MAP_ROAD:_0x27ab("0x59e")},l[_0x27ab("0x59f")]={MAN:1,CAR:2},l[_0x27ab("0x39")]={Building:(0,_.default)(1),City:(0,_[_0x27ab("0xb")])(2)},l[_0x27ab("0x5a0")]={NONE:(0,_[_0x27ab("0xb")])(0),SINGLE:(0,_.default)(1),PLANISH:(0,_[_0x27ab("0xb")])(2)},l[_0x27ab("0x203")]={NORMAL:"normal",NEAR:_0x27ab("0x5a1")},l[_0x27ab("0x5a2")]={NONE:_0x27ab("0x591"),MODEL:_0x27ab("0x235"),MODEL_POI:_0x27ab("0x5a3"),MODEL_LABEL:"label",MODEL_IMAGE:_0x27ab("0x596"),MODEL_BASE:_0x27ab("0x597"),MODEL3D:_0x27ab("0x236"),EXTERANL_MODEL:_0x27ab("0x598"),POLYGON_MARKER:"polygonMarker"},l[_0x27ab("0x134")]={floorBase:1,model:10,polygonMarker:15,externalModel:20,label:76,facility:77,textMarker:76,imageMarker:76,locationMarker:77,transparentLine:11,lineObject:76,model3D:76,modelImage:11},l.ESInfo={EXPIRED:_0x27ab("0x5a4"),TOKEN_MISS:_0x27ab("0x5a5"),TOKEN_ERR:_0x27ab("0x5a6"),VERS_ERR:"Error version",DOM_ERR:_0x27ab("0x5a7"),ES3DMARKERNUM_ERR:_0x27ab("0x5a8"),AUDIO_TOKEN:_0x27ab("0x5a9"),ARRAY_REQUIRED:_0x27ab("0x5aa"),VIEW_MODE2D_ALLFNUM:_0x27ab("0x5ab"),TOO_FAST:_0x27ab("0x5ac"),INVALID_TYPE:_0x27ab("0x5ad"),AUTH_EXPIRED:"Your license has expired",AUTH_FAILED:_0x27ab("0x5ae"),INVALID_OFFLICENSE:_0x27ab("0x5af"),AUTHO_REQUIRED:"This feature is not authorized"},l[_0x27ab("0xf1")]={NONE:0,FLOOR:4,MODEL:5,MODEL3D:6,FACILITY:11,LABEL:12,LINE:21,IMAGE_MARKER:31,LINE_MARKER:35,TEXT_MARKER:32,LOCATION_MARKER:33,CARD_MARKER:34,POLYGON_MARKER:100,ALL:65535,ELEMENT:100},l[_0x27ab("0x5b0")]={PLANE:_0x27ab("0xe6"),CIRCLE:_0x27ab("0x11f")},l[_0x27ab("0x5b1")]={FULL:_0x27ab("0x5b2"),DOTTED:_0x27ab("0x5b3"),DOT_DASH:_0x27ab("0x5b4"),CENTER:"center",DASH:_0x27ab("0x5b5"),DOUBLE_DOT_DASH:_0x27ab("0x5b6"),TRI_DOT_DASH:_0x27ab("0x5b7"),NORMAL:_0x27ab("0xff"),ARROW:_0x27ab("0x12d"),RAW:_0x27ab("0x5b8"),ESARROW:"esarrow",TEXTURE:_0x27ab("0x572")},l.ESViewMode={MODE_3D:"3D",MODE_2D:"2D"},l[_0x27ab("0x5b9")]={Map_CONTROL_SMALL:_0x27ab("0x5ba"),Map_CONTROL_NORMAL:_0x27ab("0xff")},l.ESControlPositon={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4},l[_0x27ab("0x5bb")]={TILE:1,BUILDING:2,BASE:3},window[_0x27ab("0x5bc")]=function(x){l[_0x27ab("0x32")]=function(x){var a;a=x&&x[_0x27ab("0x1fc")]?x[_0x27ab("0x1fc")]:document[_0x27ab("0x23")],(new l.ESMapError)[_0x27ab("0x5bd")](a)},window.onerror=null};var f=b(258).default,u=b(260)[_0x27ab("0xb")];l.ESMapError=b(98)[_0x27ab("0xb")],c[_0x27ab("0x233")]=b(301)[_0x27ab("0xb")],l[_0x27ab("0x5be")]=b(302)[_0x27ab("0xb")],l[_0x27ab("0x5bf")]=b(303)[_0x27ab("0xb")],l[_0x27ab("0x180")]=b(306)[_0x27ab("0xb")],l[_0x27ab("0x18b")]=b(307)[_0x27ab("0xb")],l[_0x27ab("0x557")]=b(140).dynamicBufferGeometry,l.BufferGeometryUtils=b(30)[_0x27ab("0x3fc")],l[_0x27ab("0x5c0")]=b(308).default,l[_0x27ab("0x5c1")]=b(309).default,l.ESMapPoi3=b(310)[_0x27ab("0xb")],l[_0x27ab("0x5c2")]=b(311)[_0x27ab("0xb")],l.ESMapScene=b(312)[_0x27ab("0xb")],l.ESMapSceneUtil=b(316)[_0x27ab("0xb")],l.ESModelMesh=b(317).default,l[_0x27ab("0x5c3")]=b(142)[_0x27ab("0xb")].Component,l[_0x27ab("0x5c4")]=b(142)[_0x27ab("0xb")][_0x27ab("0x5c5")],l[_0x27ab("0x5c6")]=b(318)[_0x27ab("0xb")],l[_0x27ab("0x5c7")]=b(319)[_0x27ab("0xb")],l.ESNode=b(133).default,l[_0x27ab("0x5c8")]=b(320)[_0x27ab("0xb")],l[_0x27ab("0x5c9")]=b(321)[_0x27ab("0xb")],l.ESImageMarker=b(322).default,l[_0x27ab("0x18c")]=b(323)[_0x27ab("0xb")],l[_0x27ab("0x5ca")]=b(324)[_0x27ab("0xb")],l[_0x27ab("0x5cb")]=b(325).default,l.ESModelImage=b(327).default,l[_0x27ab("0x5cc")]=b(328)[_0x27ab("0xb")],l[_0x27ab("0x3d6")]=b(329).default,l[_0x27ab("0x15f")]=b(330)[_0x27ab("0xb")],l[_0x27ab("0x17c")]=b(331)[_0x27ab("0xb")],l[_0x27ab("0x5cd")]=b(332)[_0x27ab("0xb")],l[_0x27ab("0x5ce")]=b(333)[_0x27ab("0xb")],l[_0x27ab("0x5cf")]=b(334)[_0x27ab("0xb")],l[_0x27ab("0x5d0")]=b(335).default,l.ESZoomControl=b(336)[_0x27ab("0xb")],l[_0x27ab("0x5d1")]=b(337)[_0x27ab("0xb")],l.ESNaviResult=b(347)[_0x27ab("0xb")],l.ESWall=b(348)[_0x27ab("0xb")],l.ES3DMarker=b(349)[_0x27ab("0xb")],b(350),l[_0x27ab("0x5d2")]=b(351)[_0x27ab("0xb")],l.ESMapScaler=b(352).default,l.ESPopMarker=b(353)[_0x27ab("0xb")],l[_0x27ab("0x5d3")]=b(354)[_0x27ab("0xb")],l.ESRoomTexture=b(100)[_0x27ab("0xb")],l[_0x27ab("0x5d4")]=function(){console[_0x27ab("0x257")](_0x27ab("0x5d5"))},l.ESModelGroup=b(358)[_0x27ab("0xb")],l[_0x27ab("0x5d6")]=b(67)[_0x27ab("0xb")],l[_0x27ab("0x5d7")]=b(359)[_0x27ab("0xb")],l.ESLine=b(360)[_0x27ab("0xb")],l[_0x27ab("0x5d8")]=b(361).default,l.ESMapNavLineGeometry=b(362)[_0x27ab("0xb")],l[_0x27ab("0x5d9")]=b(68)[_0x27ab("0xb")],l[_0x27ab("0x5da")]=b(363)[_0x27ab("0xb")],b(364),l[_0x27ab("0x32")]=u,window[_0x27ab("0x5bc")]=null},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,b,_){"use strict";Object.defineProperty(b,_0x27ab("0xa"),{value:!0}),b[_0x27ab("0x5d")]=void 0;var e,t=A(_(54)),i=A(_(52)),n=A(_(12)),r=A(_(13)),s=A(_(8)),o=A(_(42)),c=A(_(43)),l=A(_(63));b[_0x27ab("0x5d")]=(e=(0,r[_0x27ab("0xb")])(n[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){var b,_,e,t,r,s,o,c,l,f,d,h,g,p=this;return n.default.wrap((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:if(b=esmap[_0x27ab("0x32")].instance,_=b.id,C){x[_0x27ab("0x2b8")]=19;break}for(t in(e=[])[_0x27ab("0x1")](v[_0x27ab("0xb")][_0x27ab("0x5f")](_0x27ab("0x5d"))),b.tileService[_0x27ab("0x5db")])e.push({path:v[_0x27ab("0xb")].getPath(_0x27ab("0x4e"),{buildingId:t}),bid:t});r=[],s=n[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){var t,i,s,o,c,l,f;return n[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x.prev=x[_0x27ab("0x2b8")]){case 0:return t="",i=null,"string"==typeof e[a]?(t=e[a],i=_):(t=e[a].path,i=e[a][_0x27ab("0xeb")]),x[_0x27ab("0x2b8")]=5,fetch(t);case 5:return s=x[_0x27ab("0x5dc")],x[_0x27ab("0x2b8")]=8,s[_0x27ab("0xbd")]();case 8:(o=x[_0x27ab("0x5dc")])[_0x27ab("0x5dd")]&&(c={x:0,y:0},o.building&&(l=b.tileService.bidList[o[_0x27ab("0x4b")][_0x27ab("0x5de")]])&&(c.x=l.x-o.building[_0x27ab("0x5df")],c.y=l.y-o.building.ceny),f=o[_0x27ab("0x5dd")][_0x27ab("0x37")]((function(x){var a=null;return 1==x.t?a=5:2==x.t&&(a=11),{name:x.n,bid:i,mapCoord:{x:1*x.x+c.x,y:1*x.y+c.y},FloorNum:x.f||1,Height:1*x.h||0,ID:1*x.i,typeID:1*x.c,nodeType:a}})),r=r[_0x27ab("0x1ec")](f));case 10:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,p)})),x.t0=n.default[_0x27ab("0x5e0")](e);case 10:if((x.t1=x.t0())[_0x27ab("0x3df")]){x[_0x27ab("0x2b8")]=15;break}return o=x.t1[_0x27ab("0xf8")],x[_0x27ab("0x5e1")](s(o),"t2",13);case 13:x[_0x27ab("0x2b8")]=10;break;case 15:c={isCaseSensitive:!1,useExtendedSearch:!0,keys:["ID",_0x27ab("0xc5"),_0x27ab("0x251"),_0x27ab("0x5e2"),"bid",_0x27ab("0xe1")]},l=["ID","name","FloorNum",_0x27ab("0x5e2"),_0x27ab("0xeb"),"nodeType"],f=u.default.createIndex(l,r),C=new(u[_0x27ab("0xb")])(r,c,f);case 19:d=[],h=[],x.t3=n[_0x27ab("0xb")][_0x27ab("0x5e0")](a);case 22:if((x.t4=x.t3())[_0x27ab("0x3df")]){x[_0x27ab("0x2b8")]=32;break}if((g=x.t4[_0x27ab("0xf8")])!=_0x27ab("0x1d2")){x[_0x27ab("0x2b8")]=26;break}return x[_0x27ab("0x5e3")](_0x27ab("0x5e4"),22);case 26:if(g!=_0x27ab("0x5e5")){x[_0x27ab("0x2b8")]=29;break}return h.push({name:""+a[g]}),x.abrupt(_0x27ab("0x5e4"),22);case 29:h.push((0,i[_0x27ab("0xb")])({},g,"="+a[g])),x.next=22;break;case 32:return d=(d=C.search({$and:h}))[_0x27ab("0x37")]((function(x){return x[_0x27ab("0x5e6")]})),a[_0x27ab("0x1d2")]&&a[_0x27ab("0x1d2")](d),x[_0x27ab("0x5e3")](_0x27ab("0x2be"),d);case 36:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x){return e[_0x27ab("0x5")](this,arguments)});b[_0x27ab("0x2e0")]=function(x){var a=x[_0x27ab("0x28")](",");if(a[_0x27ab("0x0")]<3){var b=esmap.ESMapUtil.hexToRgb(x);if((a=b[_0x27ab("0x28")](","))[_0x27ab("0x0")]<3)return _0x27ab("0x605"),0}return parseInt(a[0])<<16|parseInt(a[1])<<8|parseInt(a[2])},b.checkFunLevel=function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];if(a.mode==esmap[_0x27ab("0x39")].Building){var b=a[_0x27ab("0x175")][_0x27ab("0x41c")]("o2");return b/Math[_0x27ab("0xb4")](10,x)%10}return a[_0x27ab("0x175")][_0x27ab("0x41c")]("l"+x)},b[_0x27ab("0x5e7")]=function(x){var a=x[_0x27ab("0x28")](","),b=parseInt(a[0]),_=parseInt(a[1]),e=parseInt(a[2]);return"#"+((1<<24)+(b<<16)+(_<<8)+e).toString(16).slice(1)},b.hexToRgb=function(x){var a=x[_0x27ab("0x1e2")]();if(a&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/[_0x27ab("0x3b8")](a)){if(4===a[_0x27ab("0x0")]){for(var b="#",_=1;_<4;_+=1)b+=a[_0x27ab("0xf")](_,_+1)[_0x27ab("0x1ec")](a[_0x27ab("0xf")](_,_+1));a=b}var e=[];for(_=1;_<7;_+=2)e.push(parseInt("0x"+a[_0x27ab("0xf")](_,_+2)));return e.join(",")}return a},b.intersectPolygons=function(x,a){return(0,d[_0x27ab("0x606")])(x,a)},b[_0x27ab("0x5e8")]=function(x,a){return(0,d[_0x27ab("0x607")])(x,a)},b.toRgba=function(x){var a=x[_0x27ab("0x28")](",");return a[_0x27ab("0x0")]>=3?_0x27ab("0x608")+parseInt(a[0])+","+parseInt(a[1])+","+parseInt(a[2])+_0x27ab("0x609"):0},b[_0x27ab("0x5e9")]=function(x){return x&&x instanceof esmap[_0x27ab("0x3d6")]?x.mapScene:x[_0x27ab("0xaf")]&&x[_0x27ab("0xaf")].parent?esmap.ESMapUtil[_0x27ab("0x5e9")](x[_0x27ab("0xaf")][_0x27ab("0xc7")][_0x27ab("0xae")]):null},b[_0x27ab("0x5ea")]=function(x){return x[_0x27ab("0x60a")]||null},b.getControlsInfo=function(x){var a=esmap[_0x27ab("0x32")].instance[_0x27ab("0x296")];x&&(a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")].firstPersonControls);return{target:a[_0x27ab("0x295")].x[_0x27ab("0x60b")](3)+","+a[_0x27ab("0x295")].y[_0x27ab("0x60b")](3)+","+a[_0x27ab("0x295")].z[_0x27ab("0x60b")](3),position:a[_0x27ab("0x1c")].position.x[_0x27ab("0x60b")](3)+","+a[_0x27ab("0x1c")][_0x27ab("0xc3")].y[_0x27ab("0x60b")](3)+","+a[_0x27ab("0x1c")][_0x27ab("0xc3")].z[_0x27ab("0x60b")](3)}},b[_0x27ab("0x5eb")]=function(x,a){var b=a-x;return Math[_0x27ab("0x274")](b)>180&&(b=-1*(0,l.default)(b)*360+b),b},b.setControlsInfo=function(x){var a=esmap[_0x27ab("0x32")].instance[_0x27ab("0x296")],b=x[_0x27ab("0x295")][_0x27ab("0x28")](","),_=x[_0x27ab("0xc3")][_0x27ab("0x28")](","),e=new(THREE[_0x27ab("0xe7")])(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2])),t=new(THREE[_0x27ab("0xe7")])(parseFloat(_[0]),parseFloat(_[1]),parseFloat(_[2]));a[_0x27ab("0x295")].copy(e),a[_0x27ab("0x1c")][_0x27ab("0xc3")].copy(t),a.update()},b[_0x27ab("0x22c")]=function(){for(var x=navigator[_0x27ab("0x60c")],a=new Array(_0x27ab("0x60d"),"iPhone",_0x27ab("0x60e"),_0x27ab("0x60f"),_0x27ab("0x610"),_0x27ab("0x611")),b=!0,_="PC",e=!1,t=0;t<a[_0x27ab("0x0")];t++)if(x[_0x27ab("0xd1")](a[t])>0){b=!1,_=a[t],x.indexOf(_0x27ab("0x612"))>0&&(e=!0);break}return{isPC:b,isWX:e,platform:_}},b[_0x27ab("0x5ec")]=function(x){for(var a=esmap[_0x27ab("0x80")].getPolygonBounds(x),b=(0,h[_0x27ab("0xaa")])(a[_0x27ab("0x448")],a.maxY,15),_=(0,h[_0x27ab("0xaa")])(a[_0x27ab("0x446")],a[_0x27ab("0x447")],15),e=_.x,t=b.x,i=_.y,n=b.y,r=[],s=e;s<=t;s++)for(var o=i;o<=n;o++){var c=s+"_"+o;r[_0x27ab("0x1")](c)}return r},b[_0x27ab("0x126")]=function(x,a){var b=null,_=100;if("3D"==x.viewMode){if(_0x27ab("0x148")==typeof a)_=a;else{var e=null!=a?a[_0x27ab("0x25a")](new THREE.Vector3):x[_0x27ab("0x296")].target;_=x.mapView[_0x27ab("0x613")][_0x27ab("0xc3")][_0x27ab("0x301")](e)}var t=esmap[_0x27ab("0x80")].getOrthoCameraSizeByPerspectiveCamera(x[_0x27ab("0x614")][_0x27ab("0x613")],x[_0x27ab("0x296")],_);b=2*t[_0x27ab("0x184")]/x[_0x27ab("0x1b7")]}else"2D"==x[_0x27ab("0x1fe")]&&(b=2*x[_0x27ab("0x296")][_0x27ab("0x1c")][_0x27ab("0x184")]/x.controls[_0x27ab("0x1c")][_0x27ab("0x615")]/x.height);return b},b[_0x27ab("0x480")]=function(x){return Object[_0x27ab("0x2")].toString[_0x27ab("0x3")](x)==_0x27ab("0x616")},b[_0x27ab("0x5ed")]=function(x){var a={x:(x[_0x27ab("0x448")]-x[_0x27ab("0x446")])/2+x[_0x27ab("0x446")],y:(x[_0x27ab("0x449")]-x.minY)/2+x[_0x27ab("0x447")]},b=esmap.ESMap[_0x27ab("0xd3")],_=Math[_0x27ab("0x33f")]((x[_0x27ab("0x448")]-x[_0x27ab("0x446")])/2,(x[_0x27ab("0x449")]-x[_0x27ab("0x447")])/2)/Math[_0x27ab("0x617")](b.currentCamera[_0x27ab("0x618")]*(Math.PI/180)/2);return{target:a,radius:_}},b[_0x27ab("0x5ee")]=function(x,a,b){x instanceof esmap[_0x27ab("0x32")]&&(b=a,a=x.controls,x=x[_0x27ab("0x614")][_0x27ab("0x613")]);var _=x[_0x27ab("0x618")],e=x[_0x27ab("0x619")],t=null!=b?b:a.target[_0x27ab("0x301")](x[_0x27ab("0xc3")]),i=Math.tan(_*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")]/2)*t;return{top:i||1,right:2*i*e/2}},b.getDatasByAlias=function(x,a,b,_,e){function t(x,a){if(_&&_(x)&&(a&&(x[_0x27ab("0xaf")]=a),n[_0x27ab("0x1")](x)),e)return e==n[_0x27ab("0x0")]}var i,n=[];i=1==x[_0x27ab("0x160")]?x[_0x27ab("0x15e")]:x[_0x27ab("0x61b")]?x[_0x27ab("0x61b")](a):x;var r=x[_0x27ab("0x16b")];if(r)for(var s in r)if(r[s]){var o=r[s].modelbaselayer[0][_0x27ab("0x61c")],c=r[s][_0x27ab("0x61d")][0].models,l=o[_0x27ab("0x1ec")](c);for(var f in l){var u=l[f],d={ID:u[_0x27ab("0x61e")],name:u[_0x27ab("0xc5")],mapCoord:{x:u[_0x27ab("0x61f")],y:u[_0x27ab("0x620")]},dataID:u.FC,typeID:u[_0x27ab("0x621")],RoomHigh:u[_0x27ab("0x622")],RoomStyle:u[_0x27ab("0x623")],buildingFnums:u[_0x27ab("0x624")],mapId:u[_0x27ab("0x5de")],nodeType:esmap[_0x27ab("0xf1")].MODEL,pending:!0};if(t(d,null))return n}}return i&&i.getLayersByTypes(b,(function(x){if(null!=_)for(var a=x[_0x27ab("0xaf")][_0x27ab("0xb0")][_0x27ab("0x0")],b=0;b<a;b++){var e=x.o3d_[_0x27ab("0xb0")][b].datas_;if(e){var i=e[_0x27ab("0x342")],r=x[_0x27ab("0xaf")][_0x27ab("0xb0")][b];if(i){for(var s=i[_0x27ab("0x0")],o=0;o<s;o++)if(t(i[o],r))return i[o].o3d_=r,n}else if(t(e))return e[_0x27ab("0xaf")]=r,n}}else n=x[_0x27ab("0xaf")][_0x27ab("0xb0")][_0x27ab("0xdf")]((function(x,a){return x[_0x27ab("0x1")][_0x27ab("0x5")](x,null!=a[_0x27ab("0xae")][_0x27ab("0x342")]?a[_0x27ab("0xae")][_0x27ab("0x342")]:[a[_0x27ab("0xae")]]),x}),[])})),n},b.setFloorAlpha=function(x){var a=x[_0x27ab("0xee")],b=x.alpha,_=x[_0x27ab("0xeb")],e=x[_0x27ab("0x1cb")];null==e&&(e=1);var t=[][_0x27ab("0x1ec")](a),i=esmap.ESMap[_0x27ab("0xd3")][_0x27ab("0xf4")](_),n=function(a){var _=t[a];if(a=i.getFloor(_)){var n=a[_0x27ab("0xaf")];esmap.ESMapUtil[_0x27ab("0x2a3")]({target:n,alpha:b,clonemat:!0,hideOnComplete:x.hideOnComplete,onUpdate:function(x){a[_0x27ab("0xaf")][_0x27ab("0x625")]||(a[_0x27ab("0xaf")][_0x27ab("0x625")]={}),a[_0x27ab("0xaf")][_0x27ab("0x625")][x.uuid]||(a[_0x27ab("0xaf")].lastAlpha[x.uuid]=x[_0x27ab("0x103")])},time:e})}};for(var r in t)n(r)},b[_0x27ab("0x5ef")]=function(x){var a=x.fnum,b=x[_0x27ab("0xeb")],_=x[_0x27ab("0x1cb")],e=esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0xf4")](b),t=(e[_0x27ab("0x626")][a],[].concat(a));null==_&&(_=1);var i=function(a){var b=t[a];if(a=e.getFloor(b)){var i=a[_0x27ab("0xaf")];esmap[_0x27ab("0x80")].setAlpha({target:i,alpha:!1,clonemat:!0,hideOnComplete:x[_0x27ab("0x627")],onUpdate:function(x){a[_0x27ab("0xaf")][_0x27ab("0x625")]||(a[_0x27ab("0xaf")][_0x27ab("0x625")]={}),a[_0x27ab("0xaf")][_0x27ab("0x625")][x[_0x27ab("0x628")]]||(a[_0x27ab("0xaf")][_0x27ab("0x625")][x[_0x27ab("0x628")]]=x[_0x27ab("0x103")])},time:_})}};for(var n in t)i(n)},b[_0x27ab("0x5f0")]=function(){var x=esmap.ESMap[_0x27ab("0xd3")];return x[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]?x.getBuilding()[_0x27ab("0x161")][_0x27ab("0x173")].modelTypesCount:0},b[_0x27ab("0x5f1")]=function(){var x=esmap[_0x27ab("0x32")].instance;return x[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]?x[_0x27ab("0x629")]()[_0x27ab("0x161")][_0x27ab("0x173")][_0x27ab("0x174")]:0},b[_0x27ab("0x5f2")]=function(){return _0x27ab("0x62a")},b[_0x27ab("0x5f3")]=function(x,a){var b,_=[],e=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],t=(_[_0x27ab("0x0")],x[_0x27ab("0x62b")]||"ID"),i=[][_0x27ab("0x1ec")](x[_0x27ab("0x366")]),n=i[_0x27ab("0x0")];return e.buildingList.forEach((function(a){b=[][_0x27ab("0x1ec")]((0,c[_0x27ab("0xb")])(x[_0x27ab("0xee")]?[x[_0x27ab("0xee")]]:a[_0x27ab("0x62c")]));var e=!0,r=!1,s=void 0;try{for(var l,f=(0,o[_0x27ab("0xb")])(b);!(e=(l=f[_0x27ab("0x2b8")]()).done);e=!0){var u=l[_0x27ab("0xf8")];_[_0x27ab("0x1")][_0x27ab("0x5")](_,esmap[_0x27ab("0x80")][_0x27ab("0x62d")](a,u,["model"],(function(x){return i[_0x27ab("0x62e")](x[t])}),t==_0x27ab("0xc5")?void 0:n))}}catch(x){r=!0,s=x}finally{try{!e&&f.return&&f.return()}finally{if(r)throw s}}})),a&&a(_),_},b.m=function(x){return x>m},b.n=function(x){return x<-1e-5},b.l=function(x){return x<m&&x>-1e-5},b.o=function(x,a,b,_){var e=a.x,t=a.y,i=b.x,n=b.y,r=x.x,s=x.y,o=i-e,c=n-t,l=Math[_0x27ab("0xdc")](o*o+c*c),f=r-e,u=s-t,d=Math[_0x27ab("0xdc")](f*f+u*u);if(esmap.ESMapUtil.l(l))return esmap.ESMapUtil.l(d)?(_.x=a.x,_.y=a.y,0):(_.x=a.x,_.y=a.y,d);var h=o/l,g=c/l,v=h*f+g*u;if(!esmap[_0x27ab("0x80")].m(v))return _.x=a.x,_.y=a.y,d;if(!esmap[_0x27ab("0x80")].n(v-l)){var p=r-i,A=s-n,m=Math.sqrt(p*p+A*A);return _.x=b.x,_.y=b.y,m}var C=e+v*h,I=t+v*g,y=r-C,E=s-I,w=Math[_0x27ab("0xdc")](y*y+E*E);return _.x=C,_.y=I,w},b[_0x27ab("0x2a3")]=function(x){var a,b,_,e=x.onUpdate;return new s.default((function(t){if(x[_0x27ab("0x295")][_0x27ab("0x127")][_0x27ab("0x40b")])t();else{x[_0x27ab("0x295")].traverse((function(x){if(x[_0x27ab("0xb3")])if(x[_0x27ab("0xb3")]instanceof Array)for(var a in x[_0x27ab("0xb3")]){var b=x.material[a];b[_0x27ab("0x127")]&&(b.userData[_0x27ab("0x407")]&&(b.userData[_0x27ab("0x407")]=!1))}else x[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0x407")]&&(x[_0x27ab("0xb3")].userData[_0x27ab("0x407")]=!1)})),x[_0x27ab("0x295")].userData[_0x27ab("0x40b")]=!0,typeof x==_0x27ab("0x148")?(a=x,b=1,_=!1):(a=x[_0x27ab("0xe8")],b=null==x.time?1:x.time,_=null!=x[_0x27ab("0x2a4")]&&x[_0x27ab("0x2a4")]),x.visible&&(x[_0x27ab("0x295")][_0x27ab("0xf6")]=x[_0x27ab("0xf6")]);var i=x[_0x27ab("0x627")],n=[],r=function(_){if(_[_0x27ab("0x127")][_0x27ab("0x407")])i&&x.target[_0x27ab("0xf6")]&&(x[_0x27ab("0x295")][_0x27ab("0xf6")]=!1);else{var t=a;!1===a?(t=_[_0x27ab("0x127")][_0x27ab("0x103")],_[_0x27ab("0x127")][_0x27ab("0xc")]("istransparent")&&(_[_0x27ab("0x102")]=_[_0x27ab("0x127")][_0x27ab("0x2a2")])):(_.userData.hasOwnProperty(_0x27ab("0x2a2"))||(_[_0x27ab("0x127")][_0x27ab("0x2a2")]=_.transparent,_.userData[_0x27ab("0x103")]=_[_0x27ab("0x103")]),_[_0x27ab("0x102")]=!0),_[_0x27ab("0x127")][_0x27ab("0x407")]=!0,n[_0x27ab("0x1")](_),e&&e(_),new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(_).to({opacity:t},1e3*b)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x1d2")]((function(){}))[_0x27ab("0x1d5")]()}};if(x.id&&x[_0x27ab("0x295")][_0x27ab("0xae")]&&6==x.target[_0x27ab("0xae")][_0x27ab("0xe1")]&&x.target[_0x27ab("0xae")][_0x27ab("0x342")]){var s=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];s[_0x27ab("0xf4")](s.id)[_0x27ab("0x161")][_0x27ab("0x62f")][_0x27ab("0x406")](x.id,x[_0x27ab("0x295")],a,b,i)}else{x[_0x27ab("0x295")][_0x27ab("0x2a1")]((function(x){if(x[_0x27ab("0xb3")])if(x.material instanceof Array)for(var a in x[_0x27ab("0xb3")]){var b=x[_0x27ab("0xb3")][a];b[_0x27ab("0x127")]&&(_&&(x[_0x27ab("0xb3")][a]=b[_0x27ab("0xe2")](),b=x[_0x27ab("0xb3")][a]),r(b))}else _&&(x[_0x27ab("0xb3")]=x[_0x27ab("0xb3")][_0x27ab("0xe2")]()),r(x[_0x27ab("0xb3")])}));setTimeout((function(){for(var a in i&&(x.target[_0x27ab("0xf6")]=!1),n){n[a][_0x27ab("0x127")][_0x27ab("0x407")]=!1}x[_0x27ab("0x295")][_0x27ab("0x127")][_0x27ab("0x40b")]=!1,t()}),1e3*b+50)}}}))},b[_0x27ab("0x5f4")]=function(x,b,_,e){var t,i=[],n=null,r=null,s=[],o=_[_0x27ab("0x630")]||[_0x27ab("0x235"),_0x27ab("0x594"),_0x27ab("0x593"),_0x27ab("0x631"),_0x27ab("0x59b"),_0x27ab("0x599"),_0x27ab("0x236"),_0x27ab("0x632"),_0x27ab("0x59c")],c=[][_0x27ab("0x1ec")](b);_.ID&&(_.ID=[][_0x27ab("0x1ec")](_.ID));_[_0x27ab("0x633")]&&(_[_0x27ab("0x633")]=[].concat(_.classID));if(1==c[_0x27ab("0x0")]&&c[0]==_0x27ab("0x218")){c=x.tileList[_0x27ab("0x37")]((function(x){return x.id}));var l=x[_0x27ab("0x634")][_0x27ab("0x37")]((function(x){return x.id}));(c=c[_0x27ab("0x1ec")](l))[_0x27ab("0x1")](0)}else x.mode==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]&&typeof c[0]==_0x27ab("0x148")&&(c=[{bid:x.id,fnum:c}]);_.polygon&&(_[_0x27ab("0x635")]||(c=esmap[_0x27ab("0x80")].getTileNumsByPolygon(_[_0x27ab("0x636")])));return c.forEach((function(b){var e;if(b instanceof Object?(b[_0x27ab("0xeb")]&&(e=x[_0x27ab("0xf4")](b[_0x27ab("0xeb")])),b[_0x27ab("0xee")]&&(t=[][_0x27ab("0x1ec")](b[_0x27ab("0xee")]))):(e=x.getBuildingById(b))?t=e[_0x27ab("0x62c")]:(e=x[_0x27ab("0x322")](b),t=[1]),e){t=t||e[_0x27ab("0x62c")];for(var c=0;c<t[_0x27ab("0x0")];c++){var l=t[c],f=_.ID?_.ID[_0x27ab("0x0")]:void 0,u=esmap[_0x27ab("0x80")][_0x27ab("0x62d")](e,l,o,(function(b){if(_.nodeType&&_[_0x27ab("0xe1")]!=esmap[_0x27ab("0xf1")].ALL&&_[_0x27ab("0xe1")]!=b[_0x27ab("0xe1")])return!1;if(_[_0x27ab("0xc5")]){if(!b[_0x27ab("0xc5")])return!1;if(_[_0x27ab("0xc5")]instanceof Array){if(_[_0x27ab("0xc5")][_0x27ab("0xd1")](b[_0x27ab("0xc5")])<0)return!1}else if(_[_0x27ab("0xc5")]!=b.name)return!1}if(_[_0x27ab("0x5e5")]){if(!b[_0x27ab("0xc5")])return!1;for(var e=_[_0x27ab("0x5e5")][_0x27ab("0x28")](" "),t=b[_0x27ab("0xc5")][_0x27ab("0x1e2")](),i=!1,o=0;o<e[_0x27ab("0x0")];o++){var c=e[o].toLowerCase();if(t[_0x27ab("0xd1")](c)>=0){i=!0;break}}if(!i)return!1}if(_.ID&&_.ID[_0x27ab("0xd1")](b.ID)<0)return!1;if(_.hasOwnProperty(_0x27ab("0x637"))&&_[_0x27ab("0x637")]!=b[_0x27ab("0x637")])return!1;if(_[_0x27ab("0x633")]&&_[_0x27ab("0x633")].indexOf(b[_0x27ab("0x633")])<0)return!1;if(_.FloorNum&&_[_0x27ab("0x251")]!=b[_0x27ab("0x251")])return!1;if(_.typeID&&_[_0x27ab("0x5e2")]!=b[_0x27ab("0x5e2")])return!1;if(_[_0x27ab("0x3d5")]&&_[_0x27ab("0x638")]){if(b.nodeType==esmap.ESNodeType.MODEL3D){if((0,g[_0x27ab("0xd6")])(_[_0x27ab("0x3d5")],b.mapCoord)>_.radius)return;s.push({node:b,distance:n})}if(b.nodeType==esmap[_0x27ab("0xf1")][_0x27ab("0x639")]){var l=x[_0x27ab("0x175")].buildingBounds[b.ID][0],f=[];n=null;for(var u=0;u<l[_0x27ab("0x0")];u+=2)f.push(new esmap.ESMapCoord(-l[u].x,l[u].y,0));if(f[_0x27ab("0x0")]<2)n=p(_[_0x27ab("0x3d5")],f[0]);else{var d=new(esmap[_0x27ab("0x5c6")]);for(u=0;u<f[_0x27ab("0x0")]-1;u++)r=esmap[_0x27ab("0x80")].o(_[_0x27ab("0x3d5")],f[u],f[u+1],d),(!n||r<n)&&(n=r)}if(n>_[_0x27ab("0x638")])return;s.push({node:b,distance:n})}if(b[_0x27ab("0xe1")]==esmap.ESNodeType[_0x27ab("0x63a")]){if((n=esmap.MapUtil[_0x27ab("0x63b")](a,_[_0x27ab("0x3d5")],b.mapCoord))>_[_0x27ab("0x638")])return;s.push({node:b,distance:n})}}return!(_[_0x27ab("0x636")]&&!esmap[_0x27ab("0x80")].pointInArea(b[_0x27ab("0x3d5")],_[_0x27ab("0x636")]))}),f);u&&(i=i[_0x27ab("0x1ec")](u))}}})),s[_0x27ab("0x0")]>0&&(s[_0x27ab("0x416")]((function(x,a){return x[_0x27ab("0x273")]-a[_0x27ab("0x273")]})),i=s[_0x27ab("0x37")]((function(x){return x[_0x27ab("0x63c")]}))),e&&e(i),i},b[_0x27ab("0x5f5")]=function(x){for(var a=x[_0x27ab("0xec")][_0x27ab("0x37")]((function(x){return{x:-x.x,y:x.y}})),b={dis:0,pa:null,pb:null},_=0;_<a[_0x27ab("0x0")]-1;_++){var e=a[_],t=a[_+1],i=(0,g.DistanceofTwoPts)(e,t);i>b[_0x27ab("0x63d")]&&(b[_0x27ab("0x63d")]=i,b.pa=e,b.pb=t)}return b.pa=new(THREE[_0x27ab("0x569")])(b.pa.x,b.pa.y),b.pb=new(THREE[_0x27ab("0x569")])(b.pb.x,b.pb.y),esmap[_0x27ab("0x80")][_0x27ab("0x270")](b.pa,b.pb)},b[_0x27ab("0x58f")]=function(x,a,b,_){return esmap[_0x27ab("0x32")].instance.TEXTURE_LOADER[_0x27ab("0x14b")](x,a,b,_)},b[_0x27ab("0x5f6")]=function(x,a,b,_){a=a||_0x27ab("0xc3"),b=b||_0x27ab("0x19a"),(0,t[_0x27ab("0xb")])(x,{x:{get:function(){return esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0xed")].x-this[a].x},set:function(x){var b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0xed")].x;this[a].x=b-x}},y:{get:function(){var x=esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0xed")].y;return this[a].z+x},set:function(x){var b=esmap.ESMap[_0x27ab("0xd3")].center.y;this[a].z=x-b}},height:_||{get:function(){return this[b]},set:function(x){this[b]=x}}})},b[_0x27ab("0x5f7")]=function(x,a){for(var b=!1,_=-1,e=a[_0x27ab("0x0")],t=e-1;++_<e;t=_)(a[_].y<=x.y&&x.y<a[t].y||a[t].y<=x.y&&x.y<a[_].y)&&x.x<(Math[_0x27ab("0x274")](a[t].x)-Math[_0x27ab("0x274")](a[_].x))*(x.y-a[_].y)/(a[t].y-a[_].y)+Math.abs(a[_].x)&&(b=!b);return b},b[_0x27ab("0x5f8")]=function(x){return(0,d[_0x27ab("0x63e")])(x)},b[_0x27ab("0x5f9")]=function(x){var a=(x[_0x27ab("0x448")]+x.minX)/2,b=(x[_0x27ab("0x449")]+x.minY)/2;return{x:a,y:b}},b.encode64=function(x){var a,b,_,e,t,i="QRSTUVWXYZabcdef"+_0x27ab("0x63f")+"ABCDEFGHIJKLMNOP"+_0x27ab("0x640")+"=",n="",r="",s="",o=0;do{a=x[_0x27ab("0x2a")](o++),b=x[_0x27ab("0x2a")](o++),r=x[_0x27ab("0x2a")](o++),_=a>>4,e=(3&a)<<4|b>>4,t=(15&b)<<2|r>>6,s=63&r,isNaN(b)?t=s=64:isNaN(r)&&(s=64),n=n+i.charAt(_)+i.charAt(e)+i.charAt(t)+i[_0x27ab("0x641")](s),a=b=r="",_=e=t=s=""}while(o<x[_0x27ab("0x0")]);return n},b[_0x27ab("0x5fa")]=function(x){var a=x.points,b=void 0===a?[]:a,_=x[_0x27ab("0x642")],e=void 0===_?20:_;if(b[_0x27ab("0x0")]<3)return;var t=new(THREE[_0x27ab("0x643")])(new(THREE[_0x27ab("0xe7")])(b[0].x,b[0].offset,b[0].y),new(THREE[_0x27ab("0xe7")])(b[1].x,b[1].offset,b[1].y),new(THREE[_0x27ab("0xe7")])(b[2].x,b[2][_0x27ab("0x143")],b[2].y)).getPoints(e),i=[],n=!0,r=!1,s=void 0;try{for(var c,l=(0,o[_0x27ab("0xb")])(t);!(n=(c=l[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);n=!0){var f=c.value;i[_0x27ab("0x1")]({x:f.x,y:f.z,offset:f.y})}}catch(x){r=!0,s=x}finally{try{!n&&l[_0x27ab("0x2be")]&&l[_0x27ab("0x2be")]()}finally{if(r)throw s}}return i},b[_0x27ab("0x5fb")]=function(x){for(var a=arguments[_0x27ab("0x0")]>1&&void 0!==arguments[1]&&arguments[1],b=0;b<x[_0x27ab("0x0")];b++){var _=x[b-1],e=x[b+1],t=x[b];if(e&&t){if(t.x==e.x&&t.z==e.z&&t.y==e.y){x[_0x27ab("0x157")](b+1,1),b--;continue}if(a&&e[_0x27ab("0x301")](t)<=.1){x[_0x27ab("0x157")](b+1,1),b--;continue}}if(_&&e&&_.y==e.y&&_.y==t.y){var i=new(THREE[_0x27ab("0xe7")])(t.x,0,t.z),n=new(THREE[_0x27ab("0xe7")])(_.x,0,_.z),r=new(THREE[_0x27ab("0xe7")])(e.x,0,e.z),s=n[_0x27ab("0xe2")]().sub(i[_0x27ab("0xe2")]())[_0x27ab("0x2f4")](),o=r.clone()[_0x27ab("0x2f3")](i[_0x27ab("0xe2")]()).normalize(),c=s.equals(o),l=Math[_0x27ab("0x274")](s[_0x27ab("0x265")](o))<Math.PI/6;if(c||l){var f=t[_0x27ab("0xe2")]();f.y+=.01,f[_0x27ab("0xee")]=t[_0x27ab("0xee")],x[_0x27ab("0x157")](b,0,f),b+=1;continue}}}},b[_0x27ab("0x5fc")]=function(x){var a=x[_0x27ab("0xec")],b=void 0===a?[]:a,_=x[_0x27ab("0x638")],e=void 0===_?.3:_,t=x[_0x27ab("0x642")],i=void 0===t?8:t,n=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],r=b[_0x27ab("0x37")]((function(x){var a=x.z||x[_0x27ab("0x143")]||0,b={x:x.x,y:x.y},_=n[_0x27ab("0x26f")](b);return _.y=a,_[_0x27ab("0xee")]=x[_0x27ab("0xee")]||1,_})),s=esmap[_0x27ab("0x644")][_0x27ab("0x5fc")](r,i,e);return s=s[_0x27ab("0x37")]((function(x){var a=n[_0x27ab("0x24f")](x);return{x:a.x,y:a.y,offset:x.y,fnum:x.fnum}}))},b[_0x27ab("0x270")]=function(x,a){var b=new THREE.Vector3(0,0,1),_=new(THREE[_0x27ab("0xe7")])(x.x,0,x.y),e=new(THREE[_0x27ab("0xe7")])(a.x,0,a.y)[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](_)[_0x27ab("0x2f4")](),t=e[_0x27ab("0x265")](b)*THREE[_0x27ab("0x28e")][_0x27ab("0x2f5")];return e[_0x27ab("0xe2")]()[_0x27ab("0x264")](b).y>0?360-t:t},b[_0x27ab("0x18")]=function(){var x=new Array;if(null!=window[_0x27ab("0x1d")].deviceXDPI)x[0]=window[_0x27ab("0x1d")][_0x27ab("0x1e")],x[1]=window[_0x27ab("0x1d")][_0x27ab("0x1f")];else{var a=document[_0x27ab("0x20")]("DIV");a[_0x27ab("0xea")][_0x27ab("0x22")]="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body[_0x27ab("0x24")](a),x[0]=parseInt(a[_0x27ab("0x3b0")]),x[1]=parseInt(a.offsetHeight),a.parentNode.removeChild(a)}return x},b[_0x27ab("0xb6")]=function(x){return f[_0x27ab("0xb")][_0x27ab("0x398")]([x[0],x[1]],f[_0x27ab("0xb")][_0x27ab("0x1d9")],f[_0x27ab("0xb")][_0x27ab("0x645")])},b[_0x27ab("0x5fd")]=function(x){return f.default.transform([x[0],x[1]],f[_0x27ab("0xb")][_0x27ab("0x645")],f.default[_0x27ab("0x1d9")])},b[_0x27ab("0xb8")]=function(x,a){var b=[],_=x/20037508.342789*180,e=a/20037508.342789*180;return e=180/Math.PI*(2*Math[_0x27ab("0x646")](Math[_0x27ab("0x647")](e*Math.PI/180))-Math.PI/2),b[_0x27ab("0x1")](_),b[_0x27ab("0x1")](e),b},b[_0x27ab("0xb7")]=function(x,a){var b=[],_=20037508.342789*x/180,e=Math[_0x27ab("0x362")](Math.tan((90+a)*Math.PI/360))/(Math.PI/180);return e=20037508.34789*e/180,b[_0x27ab("0x1")](_),b[_0x27ab("0x1")](e),b},b[_0x27ab("0x5fe")]=function(x){var a=x,b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];if(Array[_0x27ab("0x480")](x)){var _=esmap[_0x27ab("0x80")][_0x27ab("0xb7")](x[0],x[1]);a={x:_[0],y:_[1]}}return b[_0x27ab("0x199")]({from:_0x27ab("0x1d9"),to:b.DEFAULT_COORDSYSTEM,coord:a})},b[_0x27ab("0x5ff")]=function(x){var a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],b=x;if(Array.isArray(x)){var _=esmap[_0x27ab("0x80")].lonLat2Mercator(x[0],x[1]);b={x:_[0],y:_[1]}}return a[_0x27ab("0x199")]({from:_0x27ab("0x648"),to:a.DEFAULT_COORDSYSTEM,coord:b})},b[_0x27ab("0x600")]=function(x){var a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],b=x;if(Array[_0x27ab("0x480")](x)){var _=esmap.ESMapUtil[_0x27ab("0xb7")](x[0],x[1]);b={x:_[0],y:_[1]}}return a.transformCoord({from:_0x27ab("0x645"),to:a[_0x27ab("0x191")],coord:b})},b[_0x27ab("0x601")]=function(x){return esmap.ESMapUtil[_0x27ab("0xb8")](x.x,x.y)},b[_0x27ab("0x602")]=function(x,a){function b(x){return x*Math.PI/180}var _=esmap[_0x27ab("0x32")].instance.mode,e=0;if(_===esmap[_0x27ab("0x39")].City){var t=esmap[_0x27ab("0x80")][_0x27ab("0xb8")](x.x,x.y),i=esmap.ESMapUtil[_0x27ab("0xb8")](a.x,a.y),n=b(t[1]),r=b(i[1]),s=n-r,o=b(t[0])-b(i[0]);e=6378.137*(e=2*Math.asin(Math[_0x27ab("0xdc")](Math.pow(Math[_0x27ab("0x617")](s/2),2)+Math[_0x27ab("0x649")](n)*Math[_0x27ab("0x649")](r)*Math[_0x27ab("0xb4")](Math[_0x27ab("0x617")](o/2),2))))*1e3}else e=(0,g[_0x27ab("0xd6")])(x,a);return e},b[_0x27ab("0x603")]=function(x){x=x||null;var a=new Date(x),b=a.getFullYear()+"-",_=(a[_0x27ab("0x64a")]()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-",e=(a[_0x27ab("0x64b")]()<10?"0"+a[_0x27ab("0x64b")]():a[_0x27ab("0x64b")]())+" ",t=(a[_0x27ab("0x64c")]()<10?"0"+a.getHours():a[_0x27ab("0x64c")]())+":",i=(a[_0x27ab("0x64d")]()<10?"0"+a[_0x27ab("0x64d")]():a[_0x27ab("0x64d")]())+":",n=a.getSeconds()<10?"0"+a[_0x27ab("0x64e")]():a.getSeconds();return b+_+e+t+i+n},b[_0x27ab("0x604")]=function(x){for(var a={maxX:0,minX:1/0,maxY:0,minY:1/0},b=0;b<x.length;b++){var _=x[b];_.y<a[_0x27ab("0x447")]&&(a[_0x27ab("0x447")]=_.y),_.y>a[_0x27ab("0x449")]&&(a[_0x27ab("0x449")]=_.y),_.x<a[_0x27ab("0x446")]&&(a[_0x27ab("0x446")]=_.x),_.x>a[_0x27ab("0x448")]&&(a[_0x27ab("0x448")]=_.x)}return a};var f=A(_(92)),u=A(_(241)),d=(_(11),_(242)),h=_(33),g=_(65),v=A(_(24));function A(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var m=1e-5,C=null},,,,function(x,a,b){"use strict";function _(x,a){for(var b=x.x,_=x.y,e=0,t=0;t<a[_0x27ab("0x0")];t++){var i=a[t],n=i.y1<i.y2?i.y2:i.y1;if(_>(i.y1<i.y2?i.y1:i.y2)&&_<n)b<=(i.x1*i.y2-i.x2*i.y1-(i.x1-i.x2)*_)/(i.y2-i.y1)&&e++}return e%2!=0}Object[_0x27ab("0x7")](a,"__esModule",{value:!0}),a[_0x27ab("0x606")]=function(x,a){var b,e=x,t=a;if(0==(b=function(x,a){for(var b,_,e,t,i,n,r,s,o=0;o<x.length;o++){var c=x[o];b=b>c.x?b:c.x,e=e<c.x?e:c.x,_=_>c.y?_:c.y,t=t<c.y?t:c.y}for(o=0;o<a[_0x27ab("0x0")];o++){var l=a[o];i=i>l.x?i:l.x,r=r<l.x?r:l.x,n=n>l.y?n:l.y,s=s<l.y?s:l.y}return!(b<=r||i<=e||t>=n||s>=_)}(e,t)))return b;var i=o(e),n=o(t);if(b=function(x,a){for(var b=function(x,a){this.x=x,this.y=a},_=0;_<x[_0x27ab("0x0")];_++)for(var e=x[_],t=0;t<a[_0x27ab("0x0")];t++){var i=a[t],n=new b(i.x2-i.x1,i.y2-i.y1),r=new b(e.x1-i.x1,e.y1-i.y1),s=new b(e.x2-i.x1,e.y2-i.y1),o=r.x*n.y-n.x*r.y,c=s.x*n.y-n.x*s.y,l=new b(e.x2-e.x1,e.y2-e.y1),f=new b(i.x1-e.x1,i.y1-e.y1),u=new b(i.x2-e.x1,i.y2-e.y1),d=f.x*l.y-l.x*f.y,h=u.x*l.y-l.x*u.y;if(o*c<0&&d*h<0)return!0}return!1;function b(x,a){this.x=x,this.y=a}}(i,n))return b;for(var r=0,s=0;s<e[_0x27ab("0x0")]-1;s++){_(e[s],n)&&r++}return b=r==e[_0x27ab("0x0")]-1;function o(x){for(var a=[],b=0;b<x[_0x27ab("0x0")]-1;b++){var _=x[b],e=x[b+1];a[_0x27ab("0x1")]({x1:_.x,y1:_.y,x2:e.x,y2:e.y})}return a}},a.computeExtentByPoints=function(x){for(var a,b,_,e,t=0;t<x.length;t++){var i=x[t];a=a>i.x?a:i.x,_=_<i.x?_:i.x,b=b>i.y?b:i.y,e=e<i.y?e:i.y}return{maxX:a,minX:_,maxY:b,minY:e}},a.containPolygon=function(x,a){for(var b,_,e,t,i,n,r,s,o=0;o<x[_0x27ab("0x0")];o++){var c=x[o];b=b>c.x?b:c.x,e=e<c.x?e:c.x,_=_>c.y?_:c.y,t=t<c.y?t:c.y}for(o=0;o<a[_0x27ab("0x0")];o++){var l=a[o];i=i>l.x?i:l.x,r=r<l.x?r:l.x,n=n>l.y?n:l.y,s=s<l.y?s:l.y}var f=e<=r,u=_>=n,d=t<=s;return b>=i&&f&&u&&d}},function(x,a,b){"use strict";(function(x){Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=t(b(18)),e=t(b(16));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){this[_0x27ab("0x64f")]={},this[_0x27ab("0x650")]={}};i[_0x27ab("0x2")]={getAll:function(){return(0,e[_0x27ab("0xb")])(this[_0x27ab("0x64f")]).map(function(x){return this._tweens[x]}[_0x27ab("0xe")](this))},removeAll:function(){this[_0x27ab("0x64f")]={}},add:function(x){this[_0x27ab("0x64f")][x.getId()]=x,this[_0x27ab("0x650")][x[_0x27ab("0x651")]()]=x},remove:function(x){delete this._tweens[x.getId()],delete this[_0x27ab("0x650")][x[_0x27ab("0x651")]()]},update:function(x,a){var b=(0,e[_0x27ab("0xb")])(this[_0x27ab("0x64f")]);if(0===b[_0x27ab("0x0")])return!1;for(x=void 0!==x?x:r[_0x27ab("0x652")]();b[_0x27ab("0x0")]>0;){this[_0x27ab("0x650")]={};for(var _=0;_<b.length;_++){var t=this[_0x27ab("0x64f")][b[_]];t&&!1===t[_0x27ab("0x12b")](x)&&(t[_0x27ab("0x653")]=!1,a||delete this._tweens[b[_]])}b=(0,e[_0x27ab("0xb")])(this[_0x27ab("0x650")])}return!0}};var n,r=new i;r.Group=i,r[_0x27ab("0x654")]=0,r.nextId=function(){return r[_0x27ab("0x654")]++},r[_0x27ab("0x655")]=function(x,a,b,_){return new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])({value:0}).to({value:1},1e3*x)[_0x27ab("0x1ce")](esmap.TWEEN.Easing[_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x137")](a)[_0x27ab("0x1d2")](_)[_0x27ab("0x1d5")]()},"undefined"==typeof self&&typeof x!==_0x27ab("0x8")&&x[_0x27ab("0x656")]?r[_0x27ab("0x652")]=function(){var a=x[_0x27ab("0x656")]();return 1e3*a[0]+a[1]/1e6}:"undefined"!=typeof self&&void 0!==self[_0x27ab("0x657")]&&void 0!==self[_0x27ab("0x657")][_0x27ab("0x652")]?r[_0x27ab("0x652")]=self[_0x27ab("0x657")][_0x27ab("0x652")][_0x27ab("0xe")](self[_0x27ab("0x657")]):void 0!==Date[_0x27ab("0x652")]?r[_0x27ab("0x652")]=Date[_0x27ab("0x652")]:r.now=function(){return(new Date)[_0x27ab("0x7c")]()},r[_0x27ab("0x1cd")]=function(x,a){this[_0x27ab("0x658")]=!1,this[_0x27ab("0x659")]=null,this[_0x27ab("0x65a")]=x,this._valuesStart={},this[_0x27ab("0x65b")]={},this[_0x27ab("0x65c")]={},this[_0x27ab("0x65d")]=1e3,this[_0x27ab("0x65e")]=0,this[_0x27ab("0x65f")]=void 0,this[_0x27ab("0x660")]=!1,this[_0x27ab("0x653")]=!1,this[_0x27ab("0x661")]=!1,this[_0x27ab("0x662")]=0,this[_0x27ab("0x663")]=null,this[_0x27ab("0x664")]=r[_0x27ab("0x1cf")][_0x27ab("0x281")][_0x27ab("0x2ec")],this[_0x27ab("0x665")]=r[_0x27ab("0x666")][_0x27ab("0x281")],this._chainedTweens=[],this[_0x27ab("0x667")]=null,this._onStartCallbackFired=!1,this[_0x27ab("0x668")]=null,this[_0x27ab("0x669")]=null,this[_0x27ab("0x66a")]=null,this[_0x27ab("0x66b")]=null,this[_0x27ab("0x66c")]=a||r,this[_0x27ab("0x43d")]=r[_0x27ab("0x66d")]()},r[_0x27ab("0x1cd")][_0x27ab("0x2")]={getId:function(){return this[_0x27ab("0x43d")]},isPlaying:function(){return this[_0x27ab("0x653")]},isPaused:function(){return this[_0x27ab("0x658")]},to:function(x,a){return this[_0x27ab("0x65b")]=(0,_[_0x27ab("0xb")])(x),void 0!==a&&(this[_0x27ab("0x65d")]=a),this},duration:function(x){return this[_0x27ab("0x65d")]=x,this},start:function(x){for(var a in this._group[_0x27ab("0x163")](this),this[_0x27ab("0x653")]=!0,this[_0x27ab("0x658")]=!1,this._onStartCallbackFired=!1,this[_0x27ab("0x663")]=void 0!==x?typeof x===_0x27ab("0x60")?r[_0x27ab("0x652")]()+parseFloat(x):x:r[_0x27ab("0x652")](),this[_0x27ab("0x663")]+=this[_0x27ab("0x662")],this._valuesEnd){if(this[_0x27ab("0x65b")][a]instanceof Array){if(0===this[_0x27ab("0x65b")][a][_0x27ab("0x0")])continue;this[_0x27ab("0x65b")][a]=[this[_0x27ab("0x65a")][a]][_0x27ab("0x1ec")](this[_0x27ab("0x65b")][a])}void 0!==this[_0x27ab("0x65a")][a]&&(typeof this[_0x27ab("0x66e")][a]===_0x27ab("0x8")&&(this[_0x27ab("0x66e")][a]=this[_0x27ab("0x65a")][a]),this[_0x27ab("0x66e")][a]instanceof Array==!1&&(this[_0x27ab("0x66e")][a]*=1),this[_0x27ab("0x65c")][a]=this[_0x27ab("0x66e")][a]||0)}return this},stop:function(){return this[_0x27ab("0x653")]?(this._group[_0x27ab("0x158")](this),this[_0x27ab("0x653")]=!1,this[_0x27ab("0x658")]=!1,null!==this[_0x27ab("0x66b")]&&this[_0x27ab("0x66b")](this[_0x27ab("0x65a")]),this[_0x27ab("0x66f")](),this):this},end:function(){return this.update(1/0),this},pause:function(x){return this[_0x27ab("0x658")]||!this[_0x27ab("0x653")]||(this[_0x27ab("0x658")]=!0,this[_0x27ab("0x659")]=void 0===x?r.now():x,this._group[_0x27ab("0x158")](this)),this},resume:function(x){return this[_0x27ab("0x658")]&&this._isPlaying?(this[_0x27ab("0x658")]=!1,this[_0x27ab("0x663")]+=(void 0===x?r[_0x27ab("0x652")]():x)-this[_0x27ab("0x659")],this[_0x27ab("0x659")]=0,this[_0x27ab("0x66c")].add(this),this):this},stopChainedTweens:function(){for(var x=0,a=this[_0x27ab("0x670")].length;x<a;x++)this[_0x27ab("0x670")][x].stop()},group:function(x){return this[_0x27ab("0x66c")]=x,this},delay:function(x){return this[_0x27ab("0x662")]=x,this},repeat:function(x){return this[_0x27ab("0x65e")]=x,this},repeatDelay:function(x){return this[_0x27ab("0x65f")]=x,this},yoyo:function(x){return this._yoyo=x,this},easing:function(x){return this[_0x27ab("0x664")]=x,this},interpolation:function(x){return this[_0x27ab("0x665")]=x,this},chain:function(){return this[_0x27ab("0x670")]=arguments,this},onStart:function(x){return this[_0x27ab("0x667")]=x,this},onUpdate:function(x){return this[_0x27ab("0x668")]=x,this},onRepeat:function(x){return this[_0x27ab("0x669")]=x,this},onComplete:function(x){return this[_0x27ab("0x66a")]=x,this},onStop:function(x){return this[_0x27ab("0x66b")]=x,this},update:function(x){var a,b,_;if(r[_0x27ab("0x37")][_0x27ab("0x671")]=0,x<this._startTime)return!0;for(a in!1===this[_0x27ab("0x672")]&&(null!==this[_0x27ab("0x667")]&&this[_0x27ab("0x667")](this[_0x27ab("0x65a")]),this[_0x27ab("0x672")]=!0),b=(x-this[_0x27ab("0x663")])/this[_0x27ab("0x65d")],b=0===this._duration||b>1?1:b,_=this._easingFunction(b),this[_0x27ab("0x65b")])if(void 0!==this[_0x27ab("0x66e")][a]){var e=this[_0x27ab("0x66e")][a]||0,t=this[_0x27ab("0x65b")][a];t instanceof Array?this[_0x27ab("0x65a")][a]=this._interpolationFunction(t,_):(typeof t===_0x27ab("0x60")&&(t="+"===t[_0x27ab("0x641")](0)||"-"===t[_0x27ab("0x641")](0)?e+parseFloat(t):parseFloat(t)),typeof t===_0x27ab("0x148")&&(this[_0x27ab("0x65a")][a]=e+(t-e)*_))}if(null!==this[_0x27ab("0x668")]&&this[_0x27ab("0x668")](this[_0x27ab("0x65a")],b),1===b){if(this[_0x27ab("0x65e")]>0){for(a in isFinite(this[_0x27ab("0x65e")])&&this[_0x27ab("0x65e")]--,this[_0x27ab("0x65c")]){if(typeof this._valuesEnd[a]===_0x27ab("0x60")&&(this[_0x27ab("0x65c")][a]=this._valuesStartRepeat[a]+parseFloat(this[_0x27ab("0x65b")][a])),this._yoyo){var i=this._valuesStartRepeat[a];this._valuesStartRepeat[a]=this._valuesEnd[a],this[_0x27ab("0x65b")][a]=i}this[_0x27ab("0x66e")][a]=this._valuesStartRepeat[a]}return this[_0x27ab("0x660")]&&(this[_0x27ab("0x661")]=!this[_0x27ab("0x661")]),void 0!==this[_0x27ab("0x65f")]?this[_0x27ab("0x663")]=x+this[_0x27ab("0x65f")]:this._startTime=x+this[_0x27ab("0x662")],null!==this[_0x27ab("0x669")]&&this[_0x27ab("0x669")](this[_0x27ab("0x65a")]),!0}null!==this[_0x27ab("0x66a")]&&this[_0x27ab("0x66a")](this._object);for(var n=0,s=this._chainedTweens.length;n<s;n++)this._chainedTweens[n][_0x27ab("0x1d5")](this._startTime+this._duration);return!1}return!0}},r[_0x27ab("0x1cf")]={Linear:{None:function(x){return x}},Quadratic:{In:function(x){return x*x},Out:function(x){return x*(2-x)},InOut:function(x){return(x*=2)<1?.5*x*x:-.5*(--x*(x-2)-1)}},Cubic:{In:function(x){return x*x*x},Out:function(x){return--x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x:.5*((x-=2)*x*x+2)}},Quartic:{In:function(x){return x*x*x*x},Out:function(x){return 1- --x*x*x*x},InOut:function(x){return(x*=2)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2)}},Quintic:{In:function(x){return x*x*x*x*x},Out:function(x){return--x*x*x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2)}},Sinusoidal:{In:function(x){return 1-Math[_0x27ab("0x649")](x*Math.PI/2)},Out:function(x){return Math.sin(x*Math.PI/2)},InOut:function(x){return.5*(1-Math[_0x27ab("0x649")](Math.PI*x))}},Exponential:{In:function(x){return 0===x?0:Math[_0x27ab("0xb4")](1024,x-1)},Out:function(x){return 1===x?1:1-Math[_0x27ab("0xb4")](2,-10*x)},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?.5*Math[_0x27ab("0xb4")](1024,x-1):.5*(2-Math[_0x27ab("0xb4")](2,-10*(x-1)))}},Circular:{In:function(x){return 1-Math[_0x27ab("0xdc")](1-x*x)},Out:function(x){return Math[_0x27ab("0xdc")](1- --x*x)},InOut:function(x){return(x*=2)<1?-.5*(Math[_0x27ab("0xdc")](1-x*x)-1):.5*(Math[_0x27ab("0xdc")](1-(x-=2)*x)+1)}},Elastic:{In:function(x){return 0===x?0:1===x?1:-Math[_0x27ab("0xb4")](2,10*(x-1))*Math[_0x27ab("0x617")](5*(x-1.1)*Math.PI)},Out:function(x){return 0===x?0:1===x?1:Math[_0x27ab("0xb4")](2,-10*x)*Math[_0x27ab("0x617")](5*(x-.1)*Math.PI)+1},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?-.5*Math[_0x27ab("0xb4")](2,10*(x-1))*Math[_0x27ab("0x617")](5*(x-1.1)*Math.PI):.5*Math[_0x27ab("0xb4")](2,-10*(x-1))*Math[_0x27ab("0x617")](5*(x-1.1)*Math.PI)+1}},Back:{In:function(x){var a=1.70158;return x*x*(2.70158*x-a)},Out:function(x){var a=1.70158;return--x*x*(2.70158*x+a)+1},InOut:function(x){var a=2.5949095;return(x*=2)<1?x*x*(3.5949095*x-a)*.5:.5*((x-=2)*x*(3.5949095*x+a)+2)}},Bounce:{In:function(x){return 1-r[_0x27ab("0x1cf")][_0x27ab("0x673")][_0x27ab("0x1d4")](1-x)},Out:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375},InOut:function(x){return x<.5?.5*r[_0x27ab("0x1cf")][_0x27ab("0x673")].In(2*x):.5*r.Easing.Bounce[_0x27ab("0x1d4")](2*x-1)+.5}}},r[_0x27ab("0x666")]={Linear:function(x,a){var b=x[_0x27ab("0x0")]-1,_=b*a,e=Math[_0x27ab("0xdd")](_),t=r[_0x27ab("0x666")][_0x27ab("0x674")].Linear;return a<0?t(x[0],x[1],_):a>1?t(x[b],x[b-1],b-_):t(x[e],x[e+1>b?b:e+1],_-e)},Bezier:function(x,a){for(var b=0,_=x.length-1,e=Math[_0x27ab("0xb4")],t=r[_0x27ab("0x666")][_0x27ab("0x674")].Bernstein,i=0;i<=_;i++)b+=e(1-a,_-i)*e(a,i)*x[i]*t(_,i);return b},CatmullRom:function(x,a){var b=x[_0x27ab("0x0")]-1,_=b*a,e=Math[_0x27ab("0xdd")](_),t=r[_0x27ab("0x666")][_0x27ab("0x674")][_0x27ab("0x675")];return x[0]===x[b]?(a<0&&(e=Math[_0x27ab("0xdd")](_=b*(1+a))),t(x[(e-1+b)%b],x[e],x[(e+1)%b],x[(e+2)%b],_-e)):a<0?x[0]-(t(x[0],x[0],x[1],x[1],-_)-x[0]):a>1?x[b]-(t(x[b],x[b],x[b-1],x[b-1],_-b)-x[b]):t(x[e?e-1:0],x[e],x[b<e+1?b:e+1],x[b<e+2?b:e+2],_-e)},Utils:{Linear:function(x,a,b){return(a-x)*b+x},Bernstein:function(x,a){var b=r.Interpolation[_0x27ab("0x674")].Factorial;return b(x)/b(a)/b(x-a)},Factorial:(n=[1],function(x){var a=1;if(n[x])return n[x];for(var b=x;b>1;b--)a*=b;return n[x]=a,a}),CatmullRom:function(x,a,b,_,e){var t=.5*(b-x),i=.5*(_-a),n=e*e;return(2*a-2*b+t+i)*(e*n)+(-3*a+3*b-2*t-i)*n+t*e+a}}},a[_0x27ab("0xb")]=r})[_0x27ab("0x3")](this,b(66))},function(x,a,b){"use strict";THREE[_0x27ab("0x676")]={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;",_0x27ab("0x677"),_0x27ab("0x678"),_0x27ab("0x679"),"}"][_0x27ab("0x2d")]("\n"),fragmentShader:[_0x27ab("0x114"),_0x27ab("0x67a"),_0x27ab("0x67b"),_0x27ab("0x677"),"vec4 texel = texture2D( tDiffuse, vUv );",_0x27ab("0x67c"),"}"].join("\n")}},function(x,a,b){"use strict";var _,e,t,i,n=b(2),r=(_=n)&&_[_0x27ab("0xa")]?_:{default:_};THREE[_0x27ab("0x67d")]=function(x,a){if(this.renderer=x,void 0===a){var b={minFilter:THREE[_0x27ab("0x42f")],magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1},_=x[_0x27ab("0x67e")](new(THREE[_0x27ab("0x569")]));this[_0x27ab("0x67f")]=x.getPixelRatio(),this._width=_.width,this[_0x27ab("0x680")]=_[_0x27ab("0x1b7")],(a=new(THREE[_0x27ab("0x681")])(this._width*this[_0x27ab("0x67f")],this._height*this[_0x27ab("0x67f")],b))[_0x27ab("0x572")].name=_0x27ab("0x682")}else this[_0x27ab("0x67f")]=1,this[_0x27ab("0x683")]=a[_0x27ab("0x326")],this[_0x27ab("0x680")]=a.height;this[_0x27ab("0x684")]=a,this.renderTarget2=a[_0x27ab("0xe2")](),this[_0x27ab("0x685")][_0x27ab("0x572")].name="EffectComposer.rt2",this[_0x27ab("0x686")]=this[_0x27ab("0x684")],this[_0x27ab("0x687")]=this[_0x27ab("0x685")],this.renderToScreen=!0,this[_0x27ab("0x688")]=[],void 0===THREE.CopyShader&&console[_0x27ab("0x257")]("THREE.EffectComposer relies on THREE.CopyShader"),void 0===THREE[_0x27ab("0x689")]&&_0x27ab("0x68a"),this[_0x27ab("0x68b")]=new(THREE[_0x27ab("0x689")])(THREE[_0x27ab("0x676")]),this.clock=new(THREE[_0x27ab("0x239")])},(0,r.default)(THREE[_0x27ab("0x67d")][_0x27ab("0x2")],{swapBuffers:function(){var x=this[_0x27ab("0x687")];this[_0x27ab("0x687")]=this.writeBuffer,this.writeBuffer=x},addPass:function(x){this[_0x27ab("0x688")].push(x);var a=this[_0x27ab("0x68c")][_0x27ab("0x68d")](new(THREE[_0x27ab("0x569")]));x[_0x27ab("0x68e")](a[_0x27ab("0x326")],a[_0x27ab("0x1b7")])},insertPass:function(x,a){this[_0x27ab("0x688")][_0x27ab("0x157")](a,0,x)},isLastEnabledPass:function(x){for(var a=x+1;a<this[_0x27ab("0x688")].length;a++)if(this[_0x27ab("0x688")][a][_0x27ab("0x581")])return!1;return!0},render:function(x){void 0===x&&(x=this[_0x27ab("0x2f1")][_0x27ab("0x2ce")]());var a,b,_=this[_0x27ab("0x68c")][_0x27ab("0x68f")](),e=!1,t=this.passes[_0x27ab("0x0")];for(b=0;b<t;b++)if(!1!==(a=this[_0x27ab("0x688")][b])[_0x27ab("0x581")]){if(a.renderToScreen=this.renderToScreen&&this[_0x27ab("0x690")](b),a[_0x27ab("0x57e")](this[_0x27ab("0x68c")],this.writeBuffer,this[_0x27ab("0x687")],x,e),a[_0x27ab("0x691")]){if(e){var i=this.renderer.context;i[_0x27ab("0x692")](i[_0x27ab("0x693")],1,4294967295),this[_0x27ab("0x68b")][_0x27ab("0x57e")](this[_0x27ab("0x68c")],this[_0x27ab("0x686")],this[_0x27ab("0x687")],x),i[_0x27ab("0x692")](i[_0x27ab("0x694")],1,4294967295)}this[_0x27ab("0x695")]()}void 0!==THREE[_0x27ab("0x696")]&&(a instanceof THREE[_0x27ab("0x696")]?e=!0:a instanceof THREE[_0x27ab("0x697")]&&(e=!1))}this[_0x27ab("0x68c")][_0x27ab("0x698")](_)},reset:function(x){if(void 0===x){var a=this[_0x27ab("0x68c")][_0x27ab("0x67e")](new THREE.Vector2);this._pixelRatio=this[_0x27ab("0x68c")][_0x27ab("0x699")](),this[_0x27ab("0x683")]=a[_0x27ab("0x326")],this._height=a[_0x27ab("0x1b7")],(x=this.renderTarget1[_0x27ab("0xe2")]())[_0x27ab("0x68e")](this[_0x27ab("0x683")]*this[_0x27ab("0x67f")],this[_0x27ab("0x680")]*this[_0x27ab("0x67f")])}this[_0x27ab("0x684")][_0x27ab("0xb2")](),this.renderTarget2[_0x27ab("0xb2")](),this[_0x27ab("0x684")]=x,this.renderTarget2=x[_0x27ab("0xe2")](),this[_0x27ab("0x686")]=this[_0x27ab("0x684")],this[_0x27ab("0x687")]=this[_0x27ab("0x685")]},setSize:function(x,a){this._width=x,this[_0x27ab("0x680")]=a;var b=this[_0x27ab("0x683")]*this[_0x27ab("0x67f")],_=this[_0x27ab("0x680")]*this[_0x27ab("0x67f")];this[_0x27ab("0x684")][_0x27ab("0x68e")](b,_),this.renderTarget2.setSize(b,_);for(var e=0;e<this.passes[_0x27ab("0x0")];e++)this[_0x27ab("0x688")][e][_0x27ab("0x68e")](b,_)},setPixelRatio:function(x){this[_0x27ab("0x67f")]=x,this.setSize(this[_0x27ab("0x683")],this[_0x27ab("0x680")])}}),THREE[_0x27ab("0x69a")]=function(){this[_0x27ab("0x581")]=!0,this.needsSwap=!0,this[_0x27ab("0x69b")]=!1,this.renderToScreen=!1},(0,r[_0x27ab("0xb")])(THREE[_0x27ab("0x69a")][_0x27ab("0x2")],{setSize:function(){},render:function(){_0x27ab("0x69c")}}),THREE[_0x27ab("0x69a")][_0x27ab("0x69d")]=(e=new THREE.OrthographicCamera(-1,1,1,-1,0,1),t=new THREE.PlaneBufferGeometry(2,2),i=function(x){this[_0x27ab("0x69e")]=new(THREE[_0x27ab("0x159")])(t,x)},Object[_0x27ab("0x7")](i[_0x27ab("0x2")],_0x27ab("0xb3"),{get:function(){return this[_0x27ab("0x69e")][_0x27ab("0xb3")]},set:function(x){this._mesh.material=x}}),(0,r[_0x27ab("0xb")])(i[_0x27ab("0x2")],{render:function(x){x[_0x27ab("0x57e")](this[_0x27ab("0x69e")],e)}}),i)},function(x,a,b){"use strict";var _=t(b(18)),e=t(b(2));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}THREE.MaskPass=function(x,a){THREE[_0x27ab("0x69a")][_0x27ab("0x3")](this),this[_0x27ab("0xc1")]=x,this[_0x27ab("0x613")]=a,this[_0x27ab("0x69b")]=!0,this.needsSwap=!1,this[_0x27ab("0x69f")]=!1},THREE.MaskPass[_0x27ab("0x2")]=(0,e[_0x27ab("0xb")])((0,_[_0x27ab("0xb")])(THREE.Pass[_0x27ab("0x2")]),{constructor:THREE[_0x27ab("0x696")],render:function(x,a,b){var _,e,t=x[_0x27ab("0x1df")],i=x.state;i[_0x27ab("0x3ec")][_0x27ab("0x107")][_0x27ab("0x6a0")](!1),i.buffers[_0x27ab("0x6a1")][_0x27ab("0x6a0")](!1),i[_0x27ab("0x3ec")].color[_0x27ab("0x6a2")](!0),i.buffers.depth.setLocked(!0),this[_0x27ab("0x69f")]?(_=0,e=1):(_=1,e=0),i.buffers.stencil[_0x27ab("0x6a3")](!0),i.buffers[_0x27ab("0x6a4")][_0x27ab("0x6a5")](t[_0x27ab("0x6a6")],t.REPLACE,t[_0x27ab("0x6a6")]),i[_0x27ab("0x3ec")][_0x27ab("0x6a4")][_0x27ab("0x6a7")](t[_0x27ab("0x6a8")],_,4294967295),i[_0x27ab("0x3ec")][_0x27ab("0x6a4")][_0x27ab("0x6a9")](e),x[_0x27ab("0x698")](b),this[_0x27ab("0x69b")]&&x[_0x27ab("0x69b")](),x[_0x27ab("0x57e")](this[_0x27ab("0xc1")],this[_0x27ab("0x613")]),x[_0x27ab("0x698")](a),this.clear&&x[_0x27ab("0x69b")](),x.render(this[_0x27ab("0xc1")],this[_0x27ab("0x613")]),i[_0x27ab("0x3ec")].color.setLocked(!1),i[_0x27ab("0x3ec")][_0x27ab("0x6a1")][_0x27ab("0x6a2")](!1),i[_0x27ab("0x3ec")][_0x27ab("0x6a4")][_0x27ab("0x6a7")](t[_0x27ab("0x694")],1,4294967295),i[_0x27ab("0x3ec")][_0x27ab("0x6a4")][_0x27ab("0x6a5")](t[_0x27ab("0x6aa")],t[_0x27ab("0x6aa")],t.KEEP)}}),THREE[_0x27ab("0x697")]=function(){THREE.Pass.call(this),this[_0x27ab("0x691")]=!1},THREE[_0x27ab("0x697")][_0x27ab("0x2")]=(0,_[_0x27ab("0xb")])(THREE[_0x27ab("0x69a")][_0x27ab("0x2")]),(0,e.default)(THREE[_0x27ab("0x697")][_0x27ab("0x2")],{render:function(x){x.state[_0x27ab("0x3ec")].stencil[_0x27ab("0x6a3")](!1)}})},function(x,a,b){"use strict";var _=t(b(18)),e=t(b(2));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}THREE.RenderPass=function(x,a,b,_,e){THREE[_0x27ab("0x69a")][_0x27ab("0x3")](this),this[_0x27ab("0xc1")]=x,this.camera=a,this[_0x27ab("0x6ab")]=b,this[_0x27ab("0x6ac")]=_,this[_0x27ab("0x6ad")]=void 0!==e?e:0,this[_0x27ab("0x69b")]=!0,this[_0x27ab("0x6ae")]=!1,this[_0x27ab("0x691")]=!1},THREE.RenderPass.prototype=(0,e.default)((0,_.default)(THREE[_0x27ab("0x69a")][_0x27ab("0x2")]),{constructor:THREE[_0x27ab("0x6af")],render:function(x,a,b){var _,e,t=x[_0x27ab("0x6b0")];x[_0x27ab("0x6b0")]=!1,this[_0x27ab("0xc1")][_0x27ab("0x6ab")]=this[_0x27ab("0x6ab")],this[_0x27ab("0x6ac")]&&(_=x[_0x27ab("0x6b1")]()[_0x27ab("0x2de")](),e=x[_0x27ab("0x6b2")](),x[_0x27ab("0x6b3")](this[_0x27ab("0x6ac")],this[_0x27ab("0x6ad")])),this[_0x27ab("0x6ae")]&&x.clearDepth(),x[_0x27ab("0x698")](this[_0x27ab("0x6b4")]?null:b),this.clear&&x[_0x27ab("0x69b")](x[_0x27ab("0x6b5")],x[_0x27ab("0x6b6")],x[_0x27ab("0x6b7")]),x[_0x27ab("0x57e")](this[_0x27ab("0xc1")],this[_0x27ab("0x613")]),this[_0x27ab("0x6ac")]&&x[_0x27ab("0x6b3")](_,e),this.scene[_0x27ab("0x6ab")]=null,x[_0x27ab("0x6b0")]=t}})},function(x,a,b){"use strict";var _=t(b(18)),e=t(b(2));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}THREE[_0x27ab("0x689")]=function(x,a){THREE.Pass.call(this),this.textureID=void 0!==a?a:"tDiffuse",x instanceof THREE.ShaderMaterial?(this[_0x27ab("0x10a")]=x[_0x27ab("0x10a")],this[_0x27ab("0xb3")]=x):x&&(this[_0x27ab("0x10a")]=THREE.UniformsUtils.clone(x[_0x27ab("0x10a")]),this[_0x27ab("0xb3")]=new THREE.ShaderMaterial({defines:(0,e[_0x27ab("0xb")])({},x.defines),uniforms:this[_0x27ab("0x10a")],vertexShader:x[_0x27ab("0x10e")],fragmentShader:x[_0x27ab("0x113")]})),this[_0x27ab("0x6b8")]=new(THREE[_0x27ab("0x69a")].FullScreenQuad)(this[_0x27ab("0xb3")])},THREE[_0x27ab("0x689")][_0x27ab("0x2")]=(0,e.default)((0,_[_0x27ab("0xb")])(THREE[_0x27ab("0x69a")][_0x27ab("0x2")]),{constructor:THREE.ShaderPass,render:function(x,a,b){this.uniforms[this[_0x27ab("0x6b9")]]&&(this[_0x27ab("0x10a")][this[_0x27ab("0x6b9")]][_0x27ab("0xf8")]=b.texture),this.fsQuad[_0x27ab("0xb3")]=this[_0x27ab("0xb3")],this[_0x27ab("0x6b4")]?(x[_0x27ab("0x698")](null),this[_0x27ab("0x6b8")][_0x27ab("0x57e")](x)):(x.setRenderTarget(a),this[_0x27ab("0x69b")]&&x[_0x27ab("0x69b")](x[_0x27ab("0x6b5")],x[_0x27ab("0x6b6")],x[_0x27ab("0x6b7")]),this.fsQuad[_0x27ab("0x57e")](x))}})},function(x,a,b){"use strict";THREE[_0x27ab("0x6ba")]={uniforms:{tDiffuse:{value:null},resolution:{value:new(THREE[_0x27ab("0x569")])(1/1024,1/512)}},vertexShader:[_0x27ab("0x677"),"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"][_0x27ab("0x2d")]("\n"),fragmentShader:[_0x27ab("0x67a"),"uniform vec2 resolution;",_0x27ab("0x6bb"),_0x27ab("0x6bc"),_0x27ab("0x6bd"),_0x27ab("0x677"),_0x27ab("0x6be"),_0x27ab("0x6bf"),"vec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;","vec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;","vec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );","vec3 rgbM  = rgbaM.xyz;",_0x27ab("0x6c0"),_0x27ab("0x6c1"),_0x27ab("0x6c2"),_0x27ab("0x6c3"),_0x27ab("0x6c4"),_0x27ab("0x6c5"),_0x27ab("0x6c6"),_0x27ab("0x6c7"),"vec2 dir;",_0x27ab("0x6c8"),_0x27ab("0x6c9"),_0x27ab("0x6ca"),"float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );",_0x27ab("0x6cb"),_0x27ab("0x6cc"),_0x27ab("0x6cd"),_0x27ab("0x6ce"),_0x27ab("0x6cf"),_0x27ab("0x6d0"),_0x27ab("0x6d1"),_0x27ab("0x6d2"),_0x27ab("0x6d3"),_0x27ab("0x6d4"),_0x27ab("0x6d5"),_0x27ab("0x6d6"),"} else {",_0x27ab("0x6d7"),"}","}"].join("\n")}},function(x,a,b){"use strict";var _=t(b(53)),e=t(b(18));function t(x){return x&&x.__esModule?x:{default:x}}THREE.CSS3DObject=function(x){THREE.Object3D.call(this),this.element=x,this[_0x27ab("0x339")][_0x27ab("0xea")].position=_0x27ab("0x6d8"),this.addEventListener(_0x27ab("0x25b"),(function(){null!==this.element[_0x27ab("0x26")]&&this[_0x27ab("0x339")][_0x27ab("0x26")].removeChild(this[_0x27ab("0x339")])}))},THREE[_0x27ab("0x6d9")][_0x27ab("0x2")]=(0,e.default)(THREE.Object3D[_0x27ab("0x2")]),THREE[_0x27ab("0x6d9")][_0x27ab("0x2")].constructor=THREE[_0x27ab("0x6d9")],THREE.CSS3DSprite=function(x){THREE[_0x27ab("0x6d9")].call(this,x)},THREE[_0x27ab("0x6da")][_0x27ab("0x2")]=(0,e[_0x27ab("0xb")])(THREE[_0x27ab("0x6d9")][_0x27ab("0x2")]),THREE.CSS3DSprite.prototype[_0x27ab("0x496")]=THREE[_0x27ab("0x6da")],THREE[_0x27ab("0x6db")]=function(){var x,a,b,e,t=new THREE.Matrix4,i={camera:{fov:0,style:""},objects:new _.default},n=document[_0x27ab("0x20")](_0x27ab("0x3a3"));n[_0x27ab("0xea")][_0x27ab("0x6dc")]=_0x27ab("0x6dd"),this[_0x27ab("0x6de")]=n;var r=document[_0x27ab("0x20")](_0x27ab("0x3a3"));r[_0x27ab("0xea")][_0x27ab("0x6df")]=_0x27ab("0x6e0"),r[_0x27ab("0xea")][_0x27ab("0x6e1")]="preserve-3d",n[_0x27ab("0x24")](r);var s=/Trident/i[_0x27ab("0x3b8")](navigator[_0x27ab("0x60c")]);function o(x){return Math[_0x27ab("0x274")](x)<1e-10?0:x}function c(x){var a=x[_0x27ab("0x6e2")];return _0x27ab("0x6e3")+o(a[0])+","+o(-a[1])+","+o(a[2])+","+o(a[3])+","+o(a[4])+","+o(-a[5])+","+o(a[6])+","+o(a[7])+","+o(a[8])+","+o(-a[9])+","+o(a[10])+","+o(a[11])+","+o(a[12])+","+o(-a[13])+","+o(a[14])+","+o(a[15])+")"}function l(x,a){var _=x[_0x27ab("0x6e2")],t=_0x27ab("0x6e3")+o(_[0])+","+o(_[1])+","+o(_[2])+","+o(_[3])+","+o(-_[4])+","+o(-_[5])+","+o(-_[6])+","+o(-_[7])+","+o(_[8])+","+o(_[9])+","+o(_[10])+","+o(_[11])+","+o(_[12])+","+o(_[13])+","+o(_[14])+","+o(_[15])+")";return s?"translate(-50%,-50%)translate("+b+_0x27ab("0x3bd")+e+"px)"+a+t:_0x27ab("0x6e4")+t}function f(x,a,b){if(x instanceof THREE[_0x27ab("0x6d9")]){var _;x instanceof THREE[_0x27ab("0x6da")]?(t[_0x27ab("0x27d")](a.matrixWorldInverse),t[_0x27ab("0x6e5")](),t[_0x27ab("0x6e6")](x.matrixWorld),t[_0x27ab("0x24b")](x[_0x27ab("0x24b")]),t[_0x27ab("0x6e2")][3]=0,t[_0x27ab("0x6e2")][7]=0,t[_0x27ab("0x6e2")][11]=0,t[_0x27ab("0x6e2")][15]=1,_=l(t,b)):_=l(x.matrixWorld,b);var e=x.element,n=i[_0x27ab("0x4be")][_0x27ab("0x35e")](x);if(void 0===n||n!==_){e[_0x27ab("0xea")][_0x27ab("0x6e7")]=_,e[_0x27ab("0xea")].transform=_;var s={style:_};i.objects[_0x27ab("0x123")](x,s)}e[_0x27ab("0x26")]!==r&&r.appendChild(e)}for(var o=0,c=x[_0x27ab("0xb0")].length;o<c;o++)f(x[_0x27ab("0xb0")][o],a,b)}this.getSize=function(){return{width:x,height:a}},this[_0x27ab("0x68e")]=function(_,t){b=(x=_)/2,e=(a=t)/2,n[_0x27ab("0xea")].width=_+"px",n.style[_0x27ab("0x1b7")]=t+"px",r[_0x27ab("0xea")].width=_+"px",r[_0x27ab("0xea")][_0x27ab("0x1b7")]=t+"px"},this.render=function(x,a){var _=a[_0x27ab("0x6e8")][_0x27ab("0x6e2")][5]*e;if(i.camera[_0x27ab("0x618")]!==_&&(a[_0x27ab("0x6e9")]&&(n[_0x27ab("0xea")][_0x27ab("0x6ea")]=_+"px",n[_0x27ab("0xea")][_0x27ab("0x20e")]=_+"px"),i[_0x27ab("0x613")].fov=_),x[_0x27ab("0x6eb")](),null===a[_0x27ab("0xc7")]&&a.updateMatrixWorld(),a[_0x27ab("0x197")][_0x27ab("0x6ec")](a[_0x27ab("0x19d")]),a[_0x27ab("0x6ed")])var t=-(a[_0x27ab("0x6ee")]+a[_0x27ab("0x183")])/2,l=(a[_0x27ab("0x184")]+a[_0x27ab("0x185")])/2;var u=a.isOrthographicCamera?"scale("+_+")"+_0x27ab("0x3bf")+o(t)+"px,"+o(l)+"px)"+c(a.matrixWorldInverse):_0x27ab("0x6ef")+_+_0x27ab("0x6f0")+c(a[_0x27ab("0x197")]),d=u+_0x27ab("0x3bf")+b+_0x27ab("0x3bd")+e+_0x27ab("0x6f0");i[_0x27ab("0x613")].style===d||s||(r[_0x27ab("0xea")][_0x27ab("0x6e7")]=d,r[_0x27ab("0xea")][_0x27ab("0x398")]=d,i[_0x27ab("0x613")].style=d),f(x,a,u)}}},function(x,a,b){"use strict";var _=t(b(53)),e=t(b(18));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}THREE[_0x27ab("0x6f1")]=function(x){THREE.Object3D[_0x27ab("0x3")](this),this[_0x27ab("0x339")]=x,this[_0x27ab("0x339")][_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0x6d8"),this[_0x27ab("0x2f")](_0x27ab("0x25b"),(function(x){null!==this[_0x27ab("0x339")].parentNode&&this.element[_0x27ab("0x26")][_0x27ab("0x27")](this[_0x27ab("0x339")])}))},THREE.CSS2DObject[_0x27ab("0x2")]=(0,e[_0x27ab("0xb")])(THREE[_0x27ab("0x15b")][_0x27ab("0x2")]),THREE.CSS2DObject[_0x27ab("0x2")][_0x27ab("0x496")]=THREE.CSS2DObject,THREE[_0x27ab("0x6f2")]=function(){var x,a,b,e,t=new(THREE[_0x27ab("0xe7")]),i=new(THREE[_0x27ab("0x277")]),n=new(THREE[_0x27ab("0x277")]),r={objects:new(_[_0x27ab("0xb")])},s=document[_0x27ab("0x20")](_0x27ab("0x3a3"));s[_0x27ab("0xea")].overflow=_0x27ab("0x6dd"),s[_0x27ab("0xea")].position=_0x27ab("0x6f3"),this[_0x27ab("0x6de")]=s,this[_0x27ab("0x67e")]=function(){return{width:x,height:a}},this[_0x27ab("0x68e")]=function(_,t){b=(x=_)/2,e=(a=t)/2,s[_0x27ab("0xea")].width=_+"px",s.style.height=t+"px"};var o,c,l=function x(a,_){if(a instanceof THREE[_0x27ab("0x6f1")]){t[_0x27ab("0x6f4")](a[_0x27ab("0x19d")]),t.applyMatrix4(n);var i=t.x*b+b,o=-t.y*e+e,c=_0x27ab("0x6f5"),l=_0x27ab("0x6f6"),u=a[_0x27ab("0x339")];if(a[_0x27ab("0x127")][_0x27ab("0x6f7")]){var d=u[_0x27ab("0x3af")]();c=o>d.height?_0x27ab("0x6f5"):0,i<d[_0x27ab("0x326")]/2?l="0":2*b-i<d[_0x27ab("0x326")]/2&&(l=_0x27ab("0x6f5"))}var h=a.userData[_0x27ab("0x6f8")],g="translate("+l+", "+c+_0x27ab("0x6f9")+i+_0x27ab("0x3bd")+o+_0x27ab("0x6fa")+h+")";a.offsetX=i,a[_0x27ab("0x6fb")]=o,u[_0x27ab("0xea")][_0x27ab("0x6e7")]=g,u[_0x27ab("0xea")][_0x27ab("0x6fc")]=g,u[_0x27ab("0xea")][_0x27ab("0x6fd")]=g,u[_0x27ab("0xea")][_0x27ab("0x398")]=g;var v=a[_0x27ab("0xf6")]&&t.z>=-1&&t.z<=1?"":_0x27ab("0x591");u[_0x27ab("0xea")][_0x27ab("0x328")]=v,a.dispatchEvent({type:"update",message:{x:i,y:o,display:v}});var p={distanceToCameraSquared:f(_,a)};if(r[_0x27ab("0x4be")][_0x27ab("0x123")](a,p),u.parentNode!==s){var A=esmap.ESMap[_0x27ab("0xd3")][_0x27ab("0x614")].canvas;s[_0x27ab("0x3b5")](A)?s.insertBefore(u,A):s[_0x27ab("0x24")](u);var m=document[_0x27ab("0x6fe")](_0x27ab("0x6ff"));m.initEvent(_0x27ab("0x700"),!1,!0),m.targetELement=u,document[_0x27ab("0x701")](m,{dom:u})}}for(var C=0,I=a[_0x27ab("0xb0")][_0x27ab("0x0")];C<I;C++)x(a[_0x27ab("0xb0")][C],_)},f=(o=new(THREE[_0x27ab("0xe7")]),c=new(THREE[_0x27ab("0xe7")]),function(x,a){return o[_0x27ab("0x6f4")](x.matrixWorld),c[_0x27ab("0x6f4")](a[_0x27ab("0x19d")]),o.distanceToSquared(c)}),u=function(x){for(var a,b,_=(a=x,b=[],a[_0x27ab("0x2a1")]((function(x){x instanceof THREE[_0x27ab("0x6f1")]&&b[_0x27ab("0x1")](x)})),b)[_0x27ab("0x416")]((function(x,a){return r.objects.get(x)[_0x27ab("0x702")]-r[_0x27ab("0x4be")][_0x27ab("0x35e")](a).distanceToCameraSquared})),e=_[_0x27ab("0x0")],t=0,i=_[_0x27ab("0x0")];t<i;t++)_[t][_0x27ab("0x339")].style[_0x27ab("0x703")]=e-t};this.render=function(x,a){x.updateMatrixWorld(),null===a[_0x27ab("0xc7")]&&a[_0x27ab("0x6eb")](),i[_0x27ab("0x27d")](a[_0x27ab("0x197")]),n.multiplyMatrices(a[_0x27ab("0x6e8")],i),l(x,a),u(x)}}},function(x,a,b){"use strict";THREE[_0x27ab("0x704")]=function(x,a){function b(x){x[_0x27ab("0x3a7")]()}this[_0x27ab("0x1c")]=x,this[_0x27ab("0x295")]=new(THREE[_0x27ab("0xe7")])(0,0,0),this[_0x27ab("0x6de")]=void 0!==a?a:document,this[_0x27ab("0x581")]=!0,this.movementSpeed=1,this[_0x27ab("0x705")]=.005,this[_0x27ab("0x706")]=!0,this.autoForward=!1,this[_0x27ab("0x707")]=!0,this[_0x27ab("0x708")]=!1,this[_0x27ab("0x709")]=1,this[_0x27ab("0x70a")]=0,this[_0x27ab("0x70b")]=10,this[_0x27ab("0x70c")]=!1,this[_0x27ab("0x70d")]=0,this[_0x27ab("0x70e")]=Math.PI,this[_0x27ab("0x70f")]=0,this[_0x27ab("0x710")]=0,this[_0x27ab("0x711")]=0,this[_0x27ab("0x712")]=0,this[_0x27ab("0x713")]=0,this[_0x27ab("0x714")]=0,this[_0x27ab("0x715")]=0,this.moveForward=!1,this[_0x27ab("0x716")]=!1,this[_0x27ab("0x717")]=!1,this[_0x27ab("0x718")]=!1,this[_0x27ab("0x719")]=!1,this.mouseDragOn=!1,this[_0x27ab("0x71a")]={x:0,y:0},this[_0x27ab("0x71b")]=!1,this[_0x27ab("0x71c")]=0,this[_0x27ab("0x71d")]=0,this[_0x27ab("0x71e")]=!1,this[_0x27ab("0x71f")]=!1,this.cruisingMode=0,this[_0x27ab("0x720")]=null,this[_0x27ab("0x721")]=null,this.cruisingAngle=0,this[_0x27ab("0x722")]=0,this[_0x27ab("0x723")]=0,this[_0x27ab("0x6de")]!==document&&this[_0x27ab("0x6de")][_0x27ab("0x333")](_0x27ab("0x724"),-1),this.handleResize=function(){this[_0x27ab("0x6de")]===document?(this[_0x27ab("0x71c")]=window.innerWidth/2,this[_0x27ab("0x71d")]=window.innerHeight/2):(this[_0x27ab("0x71c")]=this[_0x27ab("0x6de")][_0x27ab("0x3b0")]/2,this[_0x27ab("0x71d")]=this[_0x27ab("0x6de")][_0x27ab("0x25")]/2)},this[_0x27ab("0x725")]=function(x){if(this[_0x27ab("0x581")]){if(this.domElement!==document&&this[_0x27ab("0x6de")].focus(),x[_0x27ab("0x3a7")](),0==this[_0x27ab("0x719")]&&x[_0x27ab("0x388")](),this[_0x27ab("0x707")]&&this[_0x27ab("0x719")])switch(x[_0x27ab("0x726")]){case 0:this[_0x27ab("0x727")]=!0;break;case 2:this.moveBackward=!0}this[_0x27ab("0x728")]=!0}},this[_0x27ab("0x729")]=function(x){if(this[_0x27ab("0x581")]){if(x.preventDefault(),0==this.mouseClickMoving&&x[_0x27ab("0x388")](),this[_0x27ab("0x707")])switch(x[_0x27ab("0x726")]){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}this[_0x27ab("0x728")]=!1}},this[_0x27ab("0x72a")]=function(x){if(this[_0x27ab("0x71e")]=!1,this.enabled){this[_0x27ab("0x6de")]===document?(this[_0x27ab("0x710")]=x.pageX-this.viewHalfX,this.mouseY=x.pageY-this[_0x27ab("0x71d")]):(this[_0x27ab("0x710")]=x[_0x27ab("0x72b")]-this[_0x27ab("0x6de")][_0x27ab("0x425")]-this.viewHalfX,this[_0x27ab("0x711")]=x[_0x27ab("0x72c")]-this.domElement[_0x27ab("0x427")]-this[_0x27ab("0x71d")]),this[_0x27ab("0x71b")]=!0;var a=this;window.clearTimeout(a[_0x27ab("0x72d")]),this[_0x27ab("0x72d")]=setTimeout((function(){a.stopAsap=!0}),1e3),this[_0x27ab("0x71a")]={x:this[_0x27ab("0x710")],y:this[_0x27ab("0x711")]}}},this[_0x27ab("0x72e")]=function(x){if(this[_0x27ab("0x581")])switch(x[_0x27ab("0x3a7")](),x[_0x27ab("0x29a")]){case 38:case 87:this.moveForward=!0;break;case 37:case 65:this[_0x27ab("0x717")]=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this[_0x27ab("0x718")]=!0;break;case 82:this[_0x27ab("0x72f")]=!0;break;case 70:this[_0x27ab("0x730")]=!0;break;case 18:this.stopAsap2=!0}},this.onKeyUp=function(x){if(this[_0x27ab("0x581")])switch(x[_0x27ab("0x29a")]){case 38:case 87:this.moveForward=!1;break;case 37:case 65:this[_0x27ab("0x717")]=!1;break;case 40:case 83:this[_0x27ab("0x716")]=!1;break;case 39:case 68:this.moveRight=!1;break;case 82:this[_0x27ab("0x72f")]=!1;break;case 70:this[_0x27ab("0x730")]=!1;break;case 18:this[_0x27ab("0x71f")]=!1}},this[_0x27ab("0x12b")]=function(x){if(!1!==this.enabled){if(this[_0x27ab("0x708")]){var a=THREE[_0x27ab("0x28e")][_0x27ab("0x731")](this.object[_0x27ab("0xc3")].y,this[_0x27ab("0x70a")],this[_0x27ab("0x70b")])-this.heightMin;this.autoSpeedFactor=x*(a*this[_0x27ab("0x709")])}else this[_0x27ab("0x70f")]=0;var b=x*this.movementSpeed,_=this.object[_0x27ab("0xc3")].y;this[_0x27ab("0x732")]&&this[_0x27ab("0x720")]?(this.object[_0x27ab("0xc3")].x=this[_0x27ab("0x720")].x,this[_0x27ab("0x1c")][_0x27ab("0xc3")].z=this.nextPos.z,this[_0x27ab("0x1c")].position.y=this[_0x27ab("0x720")].y):((this[_0x27ab("0x727")]||this[_0x27ab("0x733")]&&!this[_0x27ab("0x716")])&&this[_0x27ab("0x1c")].translateZ(-(b+this[_0x27ab("0x70f")])),this[_0x27ab("0x716")]&&this.object[_0x27ab("0x734")](b),this[_0x27ab("0x717")]&&this[_0x27ab("0x1c")][_0x27ab("0x735")](-b),this[_0x27ab("0x718")]&&this[_0x27ab("0x1c")][_0x27ab("0x735")](b),this[_0x27ab("0x1c")][_0x27ab("0xc3")].y=_,this[_0x27ab("0x72f")]&&this[_0x27ab("0x1c")][_0x27ab("0x736")](b),this[_0x27ab("0x730")]&&this[_0x27ab("0x1c")][_0x27ab("0x736")](-b));var e=x*this[_0x27ab("0x705")];this[_0x27ab("0x707")]||(e=0);var t=1;this[_0x27ab("0x70c")]&&(t=Math.PI/(this[_0x27ab("0x70e")]-this.verticalMin)),this[_0x27ab("0x732")]&&!this.userIntersecting&&(this.mouseX=0,this[_0x27ab("0x711")]=0),(this.stopAsap||this[_0x27ab("0x71f")])&&(this.mouseX=0,this[_0x27ab("0x711")]=0),this[_0x27ab("0x713")]+=this[_0x27ab("0x710")]*e,this[_0x27ab("0x706")]&&(this[_0x27ab("0x712")]-=this[_0x27ab("0x711")]*e*t),this[_0x27ab("0x712")]=Math.max(-85,Math[_0x27ab("0x340")](85,this.lat)),this[_0x27ab("0x714")]=THREE[_0x27ab("0x28e")].degToRad(90-this[_0x27ab("0x712")]),this[_0x27ab("0x715")]=THREE[_0x27ab("0x28e")].degToRad(this[_0x27ab("0x713")])+this[_0x27ab("0x737")],this[_0x27ab("0x70c")]&&(this[_0x27ab("0x714")]=THREE[_0x27ab("0x28e")][_0x27ab("0x738")](this[_0x27ab("0x714")],0,Math.PI,this.verticalMin,this.verticalMax));var i=this[_0x27ab("0x295")],n=this[_0x27ab("0x1c")][_0x27ab("0xc3")];i.x=n.x+100*Math[_0x27ab("0x617")](this[_0x27ab("0x714")])*Math[_0x27ab("0x649")](this.theta),this[_0x27ab("0x732")]&&this[_0x27ab("0x720")]?i.y=n.y:i.y=n.y+100*Math[_0x27ab("0x649")](this[_0x27ab("0x714")]),i.z=n.z+100*Math[_0x27ab("0x617")](this[_0x27ab("0x714")])*Math.sin(this.theta),this[_0x27ab("0x732")]&&this.lookAtTarget?this[_0x27ab("0x1c")][_0x27ab("0x278")](this[_0x27ab("0x721")]):this[_0x27ab("0x1c")][_0x27ab("0x278")](i),this[_0x27ab("0x71b")]=!1,this[_0x27ab("0x71e")]=!1}},this[_0x27ab("0xb2")]=function(){this[_0x27ab("0x6de")].removeEventListener(_0x27ab("0x739"),b,!1),this[_0x27ab("0x6de")][_0x27ab("0x2d0")](_0x27ab("0x73a"),e,!1),this[_0x27ab("0x6de")].removeEventListener(_0x27ab("0x73b"),_,!1),this[_0x27ab("0x6de")][_0x27ab("0x2d0")](_0x27ab("0x73c"),t,!1),window[_0x27ab("0x2d0")](_0x27ab("0x29b"),i,!1),window[_0x27ab("0x2d0")](_0x27ab("0x73d"),n,!1)};var _=r(this,this.onMouseMove),e=r(this,this.onMouseDown),t=r(this,this.onMouseUp),i=r(this,this[_0x27ab("0x72e")]),n=r(this,this[_0x27ab("0x73e")]);function r(x,a){return function(){a.apply(x,arguments)}}this.domElement[_0x27ab("0x2f")](_0x27ab("0x739"),b,!1),this[_0x27ab("0x6de")][_0x27ab("0x2f")](_0x27ab("0x73b"),_,!1),this[_0x27ab("0x6de")][_0x27ab("0x2f")](_0x27ab("0x73a"),e,!1),this[_0x27ab("0x6de")][_0x27ab("0x2f")](_0x27ab("0x73c"),t,!1),window[_0x27ab("0x2f")](_0x27ab("0x29b"),i,!1),window[_0x27ab("0x2f")]("keyup",n,!1),this[_0x27ab("0x73f")]()}},function(x,a,b){"use strict";var _=s(b(16)),e=s(b(10)),t=s(b(18)),i=s(b(8)),n=b(254),r=b(56);function s(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var o=null,c=null,l=null;THREE[_0x27ab("0x740")]=function(){function x(x){this.manager=void 0!==x?x:THREE[_0x27ab("0x741")],this[_0x27ab("0x742")]=null,l=new a}function a(){var x={};return{get:function(a){return x[a]},add:function(a,b){x[a]=b},remove:function(a){delete x[a]},removeAll:function(){x={}}}}x[_0x27ab("0x2")]={constructor:x,crossOrigin:_0x27ab("0x743"),clearREG:function(){l.removeAll()},load:function(x,a,b,_,e){var t,i=this;e||(e=""),t=void 0!==this.resourcePath?this[_0x27ab("0x744")]:void 0!==this[_0x27ab("0x30b")]?this[_0x27ab("0x30b")]:THREE[_0x27ab("0x745")][_0x27ab("0x746")](x),i[_0x27ab("0x580")][_0x27ab("0x747")](x);var n=function(a){_?_(a):console[_0x27ab("0x3f4")](a),i[_0x27ab("0x580")][_0x27ab("0x748")](x),i.manager[_0x27ab("0x749")](x)},r=new(THREE[_0x27ab("0x74a")])(i[_0x27ab("0x580")]);r[_0x27ab("0x46")](this[_0x27ab("0x30b")]),r.setResponseType(_0x27ab("0x36f")),r[_0x27ab("0x14b")](x,(function(b){try{i.parse(b,t,(function(b){a(b),i.manager.itemEnd(x)}),n,x,e)||_&&_()}catch(x){n(x)}}),b,n)},setCrossOrigin:function(x){return this[_0x27ab("0x74b")]=x,this},setPath:function(x){return this[_0x27ab("0x30b")]=x,this},setResourcePath:function(x){return this[_0x27ab("0x744")]=x,this},setDRACOLoader:function(x){return this.dracoLoader=x,this},parse:function(x,a,_,e,t,i){var h,m,C={};if(typeof x===_0x27ab("0x60"))h=x;else if(THREE[_0x27ab("0x745")].decodeText(new Uint8Array(x,0,4))===d){try{C[b[_0x27ab("0x74c")]]=new g(x)}catch(x){return void(e&&e(x))}h=C[b[_0x27ab("0x74c")]][_0x27ab("0x74d")]}else h=THREE[_0x27ab("0x745")][_0x27ab("0x74e")](new Uint8Array(x));m=JSON[_0x27ab("0x68")](h[_0x27ab("0x74f")]());esmap[_0x27ab("0x32")][_0x27ab("0xd3")];if(m[_0x27ab("0x79")]||t.indexOf(_0x27ab("0x750"))>-1){var I=m[_0x27ab("0x79")][_0x27ab("0x28")](".");if(I[0]>1)return;m[_0x27ab("0x751")]=JSON.parse((0,n.decode)(r[_0x27ab("0x42")][_0x27ab("0x43")](m[_0x27ab("0x366")]),_0x27ab("0x752"),I[1]))}if(m.asset[_0x27ab("0x79")]<2.1)console[_0x27ab("0x3f4")](_0x27ab("0x753"));else if(m[_0x27ab("0x751")]&&m[_0x27ab("0x751")].hash&&m[_0x27ab("0x751")][_0x27ab("0x366")]){var y=m[_0x27ab("0x751")][_0x27ab("0x755")];2.2==m[_0x27ab("0x751")].version&&(m[_0x27ab("0x751")].data=r.Base64.decode(m[_0x27ab("0x751")][_0x27ab("0x366")]));var E=(0,n[_0x27ab("0x43")])(m[_0x27ab("0x751")][_0x27ab("0x366")],"ESMAPOK",_0x27ab("0x756"));if(E[_0x27ab("0x111")]('\\"','"'),E=E[_0x27ab("0x28")](",")[_0x27ab("0x37")]((function(x){return 1*x})),m[_0x27ab("0x757")][0][_0x27ab("0x3d9")]=E,o=m[_0x27ab("0x757")][0].nodes[0],c=m[_0x27ab("0x757")][0].nodes[1],o&&c){m.nodes||(m[_0x27ab("0x3d9")]=[]),m.meshes||(m.meshes=[]),m[_0x27ab("0x758")]||(m[_0x27ab("0x758")]=[]),m[_0x27ab("0x759")]||(m[_0x27ab("0x759")]=[]),m.buffers||(m[_0x27ab("0x3ec")]=[]),m[_0x27ab("0xbe")]||(m.materials=[]),m.textures||(m[_0x27ab("0x75a")]=[]),m[_0x27ab("0x75b")]||(m[_0x27ab("0x75b")]=[]),m[_0x27ab("0x75c")]||(m[_0x27ab("0x75c")]=[]);var w=(m[_0x27ab("0x3d9")][_0x27ab("0x0")]+1)*(m[_0x27ab("0xc0")][_0x27ab("0x0")]+1)*(m[_0x27ab("0x758")][_0x27ab("0x0")]+1)*(m[_0x27ab("0x759")].length+1)*(m[_0x27ab("0x3ec")][_0x27ab("0x0")]+1)*(m.materials[_0x27ab("0x0")]+1)*(m[_0x27ab("0x75a")][_0x27ab("0x0")]+1)*(m[_0x27ab("0x75b")][_0x27ab("0x0")]+1)*(m.samplers[_0x27ab("0x0")]+1);if((w%=1e7)==o){var T=esmap.ESMapUtil[_0x27ab("0x7d")](c+esmap[_0x27ab("0x80")][_0x27ab("0x7d")](o+_0x27ab("0x75d")));if(m[_0x27ab("0x751")][_0x27ab("0xc")]("b")){var k=m.asset.b;if(esmap.ESMapUtil.encode64(_0x27ab("0x75e")+i)!=k)throw _0x27ab("0x75f");T=esmap[_0x27ab("0x80")][_0x27ab("0x7d")](T+k)}var S=T==y;if(T==y){if(m[_0x27ab("0x751")].URL=t,m[_0x27ab("0x760")])for(var M=0;M<m.extensionsUsed.length&&S;++M){var R=m[_0x27ab("0x760")][M],L=m.extensionsRequired||[];switch(R){case b.KHR_LIGHTS_PUNCTUAL:C[R]=new f(m);break;case b[_0x27ab("0x761")]:C[R]=new u(m);break;case b[_0x27ab("0x762")]:C[R]=new A(m);break;case b.KHR_DRACO_MESH_COMPRESSION:C[R]=new v(m,this[_0x27ab("0x742")]);break;case b[_0x27ab("0x763")]:C[b[_0x27ab("0x763")]]=new s(m);break;case b.KHR_TEXTURE_TRANSFORM:C[b[_0x27ab("0x764")]]=new p(m);break;default:L[_0x27ab("0xd1")](R)>=0&&console[_0x27ab("0x3f4")]('THREE.GLTFLoader: Unknown extension "'+R+'".')}}if(S&&m[_0x27ab("0x757")][0][_0x27ab("0x3d9")][_0x27ab("0x157")](0,2),2.2==m.asset[_0x27ab("0x79")]){var D=c%100,P=c%50;l[_0x27ab("0x163")](m[_0x27ab("0x751")][_0x27ab("0x765")],[D,P])}var O=new z(m,C,{path:a||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this[_0x27ab("0x580")]});return O[_0x27ab("0x68")]((function(x,a,b,e,t){var i={scene:x,scenes:a,cameras:b,animations:e,asset:t[_0x27ab("0x751")],parser:O,userData:{}};H(C,i,t),_(i)}),e),!0}}}}else console[_0x27ab("0x3f4")](esmap[_0x27ab("0x2bc")][_0x27ab("0x754")]+t)}};var b={KHR_BINARY_GLTF:_0x27ab("0x766"),KHR_DRACO_MESH_COMPRESSION:_0x27ab("0x767"),KHR_LIGHTS_PUNCTUAL:_0x27ab("0x768"),KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:_0x27ab("0x769"),KHR_MATERIALS_UNLIT:_0x27ab("0x76a"),KHR_TEXTURE_TRANSFORM:_0x27ab("0x76b"),MSFT_TEXTURE_DDS:_0x27ab("0x76c")};function s(){if(!THREE[_0x27ab("0x76d")])throw new Error(_0x27ab("0x76e"));this[_0x27ab("0xc5")]=b[_0x27ab("0x763")],this[_0x27ab("0x76f")]=new(THREE[_0x27ab("0x76d")])}function f(x){this[_0x27ab("0xc5")]=b[_0x27ab("0x770")];var a=x[_0x27ab("0x771")]&&x[_0x27ab("0x771")][b.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=a[_0x27ab("0x772")]||[]}function u(x){this[_0x27ab("0xc5")]=b.KHR_MATERIALS_UNLIT}f[_0x27ab("0x2")][_0x27ab("0x773")]=function(x){var a,b=this[_0x27ab("0x774")][x],_=new(THREE[_0x27ab("0x108")])(16777215);void 0!==b[_0x27ab("0x107")]&&_[_0x27ab("0x3dc")](b[_0x27ab("0x107")]);var e=void 0!==b.range?b[_0x27ab("0x55a")]:0;switch(b[_0x27ab("0x70")]){case _0x27ab("0x775"):(a=new(THREE[_0x27ab("0x776")])(_))[_0x27ab("0x295")][_0x27ab("0xc3")].set(0,0,-1),a.add(a[_0x27ab("0x295")]);break;case _0x27ab("0x777"):(a=new(THREE[_0x27ab("0x778")])(_))[_0x27ab("0x273")]=e;break;case _0x27ab("0x779"):(a=new THREE.SpotLight(_))[_0x27ab("0x273")]=e,b[_0x27ab("0x779")]=b[_0x27ab("0x779")]||{},b[_0x27ab("0x779")][_0x27ab("0x77a")]=void 0!==b.spot[_0x27ab("0x77a")]?b[_0x27ab("0x779")][_0x27ab("0x77a")]:0,b[_0x27ab("0x779")][_0x27ab("0x77b")]=void 0!==b[_0x27ab("0x779")][_0x27ab("0x77b")]?b[_0x27ab("0x779")][_0x27ab("0x77b")]:Math.PI/4,a[_0x27ab("0x26c")]=b.spot[_0x27ab("0x77b")],a[_0x27ab("0x77c")]=1-b.spot[_0x27ab("0x77a")]/b[_0x27ab("0x779")].outerConeAngle,a.target[_0x27ab("0xc3")][_0x27ab("0x123")](0,0,-1),a[_0x27ab("0x163")](a[_0x27ab("0x295")]);break;default:throw new Error(_0x27ab("0x77d")+b[_0x27ab("0x70")]+'".')}return a[_0x27ab("0x77e")]=2,void 0!==b[_0x27ab("0x3f3")]&&(a[_0x27ab("0x3f3")]=b.intensity),a.name=b[_0x27ab("0xc5")]||_0x27ab("0x77f")+x,i[_0x27ab("0xb")].resolve(a)},u.prototype[_0x27ab("0x780")]=function(x){return THREE.MeshBasicMaterial},u[_0x27ab("0x2")][_0x27ab("0x781")]=function(x,a,b){var _=[];x[_0x27ab("0x107")]=new THREE.Color(1,1,1),x.opacity=1;var e=a.pbrMetallicRoughness;if(e){if(Array.isArray(e.baseColorFactor)){var t=e[_0x27ab("0x782")];x.color[_0x27ab("0x3dc")](t),x.opacity=t[3]}void 0!==e[_0x27ab("0x783")]&&_[_0x27ab("0x1")](b[_0x27ab("0x784")](x,_0x27ab("0x37"),e[_0x27ab("0x783")]))}return i[_0x27ab("0xb")][_0x27ab("0x218")](_)};_0x27ab("0x785");var d=_0x27ab("0x786"),h={JSON:1313821514,BIN:5130562};function g(x){this[_0x27ab("0xc5")]=b[_0x27ab("0x74c")],this[_0x27ab("0x74d")]=null,this[_0x27ab("0x23")]=null;var a=new DataView(x,0,12);if(this[_0x27ab("0x787")]={magic:THREE[_0x27ab("0x745")].decodeText(new Uint8Array(x[_0x27ab("0xf")](0,4))),version:a.getUint32(4,!0),length:a.getUint32(8,!0)},this[_0x27ab("0x787")][_0x27ab("0x788")]!==d)throw new Error(_0x27ab("0x789"));if(this[_0x27ab("0x787")][_0x27ab("0x79")]<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var _=new DataView(x,12),e=0;e<_[_0x27ab("0x78a")];){var t=_[_0x27ab("0x78b")](e,!0);e+=4;var i=_[_0x27ab("0x78b")](e,!0);if(e+=4,i===h[_0x27ab("0x78c")]){var n=new Uint8Array(x,12+e,t);this[_0x27ab("0x74d")]=THREE[_0x27ab("0x745")][_0x27ab("0x74e")](n)}else if(i===h[_0x27ab("0x78d")]){var r=12+e;this[_0x27ab("0x23")]=x[_0x27ab("0xf")](r,r+t)}e+=t}if(null===this[_0x27ab("0x74d")])throw new Error(_0x27ab("0x78e"))}function v(x,a){if(!a)throw new Error(_0x27ab("0x78f"));this[_0x27ab("0xc5")]=b[_0x27ab("0x790")],this[_0x27ab("0xbd")]=x,this[_0x27ab("0x742")]=a,THREE[_0x27ab("0x791")][_0x27ab("0x792")]()}function p(x){this[_0x27ab("0xc5")]=b.KHR_TEXTURE_TRANSFORM}function A(){return{name:b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color",_0x27ab("0x37"),_0x27ab("0x79d"),"lightMapIntensity",_0x27ab("0x79e"),_0x27ab("0x79f"),"emissive",_0x27ab("0x2e1"),_0x27ab("0x7a0"),_0x27ab("0x7a1"),_0x27ab("0x7a2"),_0x27ab("0x7a3"),_0x27ab("0x7a4"),_0x27ab("0x7a5"),"displacementBias",_0x27ab("0x7a6"),_0x27ab("0x7a7"),_0x27ab("0x7a8"),_0x27ab("0x7a9"),_0x27ab("0x7aa"),"envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(x,a,b){var _=a[_0x27ab("0x771")][this[_0x27ab("0xc5")]],e=THREE[_0x27ab("0x7ab")].standard,t=THREE[_0x27ab("0x7ac")].clone(e[_0x27ab("0x10a")]),n=[_0x27ab("0x7ad"),_0x27ab("0x7ae"),_0x27ab("0x7af")][_0x27ab("0x2d")]("\n"),r=[_0x27ab("0x7b0"),_0x27ab("0x7b1"),"#endif"].join("\n"),s=["vec3 specularFactor = specular;",_0x27ab("0x7ad"),_0x27ab("0x7b2"),_0x27ab("0x7b3"),"\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture",_0x27ab("0x7b4"),_0x27ab("0x7af")][_0x27ab("0x2d")]("\n"),o=[_0x27ab("0x7b5"),_0x27ab("0x7b0"),_0x27ab("0x7b6"),_0x27ab("0x7b7"),_0x27ab("0x7b8"),"#endif"][_0x27ab("0x2d")]("\n"),c=[_0x27ab("0x7b9"),"material.diffuseColor = diffuseColor.rgb;",_0x27ab("0x7ba"),"material.specularColor = specularFactor.rgb;"].join("\n"),l=e.fragmentShader[_0x27ab("0x111")]("uniform float roughness;",_0x27ab("0x7bb"))[_0x27ab("0x111")](_0x27ab("0x7bc"),_0x27ab("0x7bd"))[_0x27ab("0x111")](_0x27ab("0x7be"),n)[_0x27ab("0x111")](_0x27ab("0x7bf"),r).replace(_0x27ab("0x7c0"),s)[_0x27ab("0x111")]("#include <metalnessmap_fragment>",o)[_0x27ab("0x111")](_0x27ab("0x7c1"),c);delete t.roughness,delete t.metalness,delete t.roughnessMap,delete t[_0x27ab("0x7c2")],t[_0x27ab("0x7a7")]={value:(new(THREE[_0x27ab("0x108")]))[_0x27ab("0x7c3")](1118481)},t[_0x27ab("0x7a9")]={value:.5},t.specularMap={value:null},t[_0x27ab("0x7a8")]={value:null},x[_0x27ab("0x10e")]=e[_0x27ab("0x10e")],x[_0x27ab("0x113")]=l,x[_0x27ab("0x10a")]=t,x.defines={STANDARD:""},x[_0x27ab("0x107")]=new THREE.Color(1,1,1),x[_0x27ab("0x103")]=1;var f=[];if(Array[_0x27ab("0x480")](_.diffuseFactor)){var u=_[_0x27ab("0x7c4")];x[_0x27ab("0x107")][_0x27ab("0x3dc")](u),x[_0x27ab("0x103")]=u[3]}if(void 0!==_[_0x27ab("0x7c5")]&&f[_0x27ab("0x1")](b.assignTexture(x,_0x27ab("0x37"),_.diffuseTexture)),x[_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(0,0,0),x[_0x27ab("0x7a9")]=void 0!==_[_0x27ab("0x7c6")]?_[_0x27ab("0x7c6")]:1,x[_0x27ab("0x7a7")]=new(THREE[_0x27ab("0x108")])(1,1,1),Array[_0x27ab("0x480")](_.specularFactor)&&x.specular[_0x27ab("0x3dc")](_[_0x27ab("0x7c7")]),void 0!==_[_0x27ab("0x7c8")]){var d=_[_0x27ab("0x7c8")];f[_0x27ab("0x1")](b[_0x27ab("0x784")](x,"glossinessMap",d)),f[_0x27ab("0x1")](b[_0x27ab("0x784")](x,"specularMap",d))}return i[_0x27ab("0xb")][_0x27ab("0x218")](f)},createMaterial:function(x){var a=new THREE.ShaderMaterial({defines:x.defines,vertexShader:x.vertexShader,fragmentShader:x[_0x27ab("0x113")],uniforms:x[_0x27ab("0x10a")],fog:!0,lights:!0,opacity:x[_0x27ab("0x103")],transparent:x.transparent});return a.isGLTFSpecularGlossinessMaterial=!0,a.color=x[_0x27ab("0x107")],a[_0x27ab("0x37")]=void 0===x[_0x27ab("0x37")]?null:x[_0x27ab("0x37")],a[_0x27ab("0x79d")]=null,a[_0x27ab("0x7c9")]=1,a[_0x27ab("0x79e")]=void 0===x[_0x27ab("0x79e")]?null:x[_0x27ab("0x79e")],a[_0x27ab("0x79f")]=1,a[_0x27ab("0x2df")]=x[_0x27ab("0x2df")],a[_0x27ab("0x2e1")]=1,a[_0x27ab("0x7a0")]=void 0===x[_0x27ab("0x7a0")]?null:x[_0x27ab("0x7a0")],a[_0x27ab("0x7a1")]=void 0===x.bumpMap?null:x[_0x27ab("0x7a1")],a.bumpScale=1,a.normalMap=void 0===x[_0x27ab("0x7a3")]?null:x[_0x27ab("0x7a3")],x[_0x27ab("0x7ca")]&&(a[_0x27ab("0x7ca")]=x[_0x27ab("0x7ca")]),a[_0x27ab("0x7a4")]=null,a[_0x27ab("0x7a5")]=1,a[_0x27ab("0x7cb")]=0,a[_0x27ab("0x7a6")]=void 0===x[_0x27ab("0x7a6")]?null:x[_0x27ab("0x7a6")],a.specular=x[_0x27ab("0x7a7")],a[_0x27ab("0x7a8")]=void 0===x[_0x27ab("0x7a8")]?null:x[_0x27ab("0x7a8")],a[_0x27ab("0x7a9")]=x.glossiness,a[_0x27ab("0x7aa")]=null,a[_0x27ab("0x7cc")]=void 0===x[_0x27ab("0x7cc")]?null:x[_0x27ab("0x7cc")],a[_0x27ab("0x7cd")]=1,a[_0x27ab("0x7ce")]=.98,a.extensions[_0x27ab("0x7cf")]=!0,a},cloneMaterial:function(x){var a=x[_0x27ab("0xe2")]();a[_0x27ab("0x7d0")]=!0;for(var b=this.specularGlossinessParams,_=0,e=b[_0x27ab("0x0")];_<e;_++)a[b[_]]=x[b[_]];return a},refreshUniforms:function(x,a,b,_,e,t){if(!0===e[_0x27ab("0x7d0")]){var i,n=e[_0x27ab("0x10a")],r=e[_0x27ab("0x7d1")];n[_0x27ab("0x103")][_0x27ab("0xf8")]=e[_0x27ab("0x103")],n[_0x27ab("0x7d2")].value[_0x27ab("0x27d")](e[_0x27ab("0x107")]),n[_0x27ab("0x2df")][_0x27ab("0xf8")].copy(e.emissive)[_0x27ab("0x28c")](e[_0x27ab("0x2e1")]),n.map[_0x27ab("0xf8")]=e[_0x27ab("0x37")],n[_0x27ab("0x7a6")].value=e[_0x27ab("0x7a6")],n[_0x27ab("0x7aa")][_0x27ab("0xf8")]=e[_0x27ab("0x7aa")],n[_0x27ab("0x79d")].value=e[_0x27ab("0x79d")],n.lightMapIntensity.value=e[_0x27ab("0x7c9")],n.aoMap[_0x27ab("0xf8")]=e.aoMap,n.aoMapIntensity[_0x27ab("0xf8")]=e.aoMapIntensity,e.map?i=e[_0x27ab("0x37")]:e[_0x27ab("0x7a6")]?i=e.specularMap:e[_0x27ab("0x7a4")]?i=e[_0x27ab("0x7a4")]:e[_0x27ab("0x7a3")]?i=e.normalMap:e.bumpMap?i=e[_0x27ab("0x7a1")]:e.glossinessMap?i=e[_0x27ab("0x7a8")]:e[_0x27ab("0x7aa")]?i=e[_0x27ab("0x7aa")]:e[_0x27ab("0x7a0")]&&(i=e[_0x27ab("0x7a0")]),void 0!==i&&(i[_0x27ab("0x7d3")]&&(i=i[_0x27ab("0x572")]),!0===i[_0x27ab("0x7d4")]&&i[_0x27ab("0x349")](),n[_0x27ab("0x7d5")][_0x27ab("0xf8")][_0x27ab("0x27d")](i[_0x27ab("0x34d")])),e.envMap&&(n[_0x27ab("0x7cc")][_0x27ab("0xf8")]=e.envMap,n[_0x27ab("0x7cd")].value=e[_0x27ab("0x7cd")],n[_0x27ab("0x7d6")][_0x27ab("0xf8")]=e.envMap.isCubeTexture?-1:1,n[_0x27ab("0x7d7")][_0x27ab("0xf8")]=e[_0x27ab("0x7d7")],n[_0x27ab("0x7ce")][_0x27ab("0xf8")]=e[_0x27ab("0x7ce")],n[_0x27ab("0x7d8")][_0x27ab("0xf8")]=x[_0x27ab("0x7d9")].get(e[_0x27ab("0x7cc")])[_0x27ab("0x7da")]),n.specular[_0x27ab("0xf8")][_0x27ab("0x27d")](e[_0x27ab("0x7a7")]),n[_0x27ab("0x7a9")][_0x27ab("0xf8")]=e[_0x27ab("0x7a9")],n[_0x27ab("0x7a8")][_0x27ab("0xf8")]=e[_0x27ab("0x7a8")],n.emissiveMap[_0x27ab("0xf8")]=e.emissiveMap,n.bumpMap[_0x27ab("0xf8")]=e.bumpMap,n.normalMap.value=e[_0x27ab("0x7a3")],n[_0x27ab("0x7a4")].value=e.displacementMap,n[_0x27ab("0x7a5")][_0x27ab("0xf8")]=e.displacementScale,n[_0x27ab("0x7cb")][_0x27ab("0xf8")]=e[_0x27ab("0x7cb")],null!==n.glossinessMap.value&&void 0===r.USE_GLOSSINESSMAP&&(r[_0x27ab("0x7db")]="",r[_0x27ab("0x7dc")]=""),null===n.glossinessMap.value&&void 0!==r[_0x27ab("0x7db")]&&(delete r[_0x27ab("0x7db")],delete r[_0x27ab("0x7dc")])}}}}function m(x,a,b,_){THREE.Interpolant[_0x27ab("0x3")](this,x,a,b,_)}v.prototype[_0x27ab("0x793")]=function(x,a){var b=this.json,_=this[_0x27ab("0x742")],e=x.extensions[this.name][_0x27ab("0x794")],t=x.extensions[this[_0x27ab("0xc5")]][_0x27ab("0xc2")],n={},r={},s={};for(var o in t)o in T&&(n[T[o]]=t[o]);for(o in x[_0x27ab("0xc2")])if(void 0!==T[o]&&void 0!==t[o]){var c=b.accessors[x[_0x27ab("0xc2")][o]],l=I[c[_0x27ab("0x795")]];s[T[o]]=l,r[T[o]]=!0===c[_0x27ab("0x796")]}return a[_0x27ab("0x797")](_0x27ab("0x794"),e)[_0x27ab("0x312")]((function(x){return new(i[_0x27ab("0xb")])((function(a){_[_0x27ab("0x798")](x,(function(x){for(var b in x.attributes){var _=x[_0x27ab("0xc2")][b],e=r[b];void 0!==e&&(_.normalized=e)}a(x)}),n,s)}))}))},p[_0x27ab("0x2")][_0x27ab("0x799")]=function(x,a){return x=x[_0x27ab("0xe2")](),void 0!==a[_0x27ab("0x143")]&&x[_0x27ab("0x143")].fromArray(a[_0x27ab("0x143")]),void 0!==a.rotation&&(x[_0x27ab("0x1b1")]=a[_0x27ab("0x1b1")]),void 0!==a[_0x27ab("0x24b")]&&x[_0x27ab("0x11d")][_0x27ab("0x3dc")](a[_0x27ab("0x24b")]),void 0!==a[_0x27ab("0x79a")]&&console[_0x27ab("0x3f4")](_0x27ab("0x79b")+this[_0x27ab("0xc5")]+_0x27ab("0x79c")),x.needsUpdate=!0,x},m[_0x27ab("0x2")]=(0,t[_0x27ab("0xb")])(THREE[_0x27ab("0x7dd")][_0x27ab("0x2")]),m[_0x27ab("0x2")][_0x27ab("0x496")]=m,m[_0x27ab("0x2")][_0x27ab("0x7de")]=function(x){for(var a=this.resultBuffer,b=this[_0x27ab("0x7df")],_=this[_0x27ab("0x7e0")],e=x*_*3+_,t=0;t!==_;t++)a[t]=b[e+t];return a},m[_0x27ab("0x2")].beforeStart_=m[_0x27ab("0x2")][_0x27ab("0x7de")],m[_0x27ab("0x2")][_0x27ab("0x7e1")]=m.prototype[_0x27ab("0x7de")],m[_0x27ab("0x2")].interpolate_=function(x,a,b,_){for(var e=this[_0x27ab("0x7e2")],t=this[_0x27ab("0x7df")],i=this.valueSize,n=2*i,r=3*i,s=_-a,o=(b-a)/s,c=o*o,l=c*o,f=x*r,u=f-r,d=-2*l+3*c,h=l-c,g=1-d,v=h-c+o,p=0;p!==i;p++){var A=t[u+p+i],m=t[u+p+n]*s,C=t[f+p+i],I=t[f+p]*s;e[p]=g*A+v*m+d*C+h*I}return e};var C={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},I=(THREE[_0x27ab("0x7e3")],THREE[_0x27ab("0x277")],THREE.Vector2,THREE[_0x27ab("0xe7")],THREE.Vector4,THREE[_0x27ab("0x42d")],{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),y={9728:THREE.NearestFilter,9729:THREE[_0x27ab("0x42f")],9984:THREE[_0x27ab("0x7e4")],9985:THREE.LinearMipMapNearestFilter,9986:THREE[_0x27ab("0x7e5")],9987:THREE.LinearMipMapLinearFilter},E={33071:THREE[_0x27ab("0x7e6")],33648:THREE.MirroredRepeatWrapping,10497:THREE[_0x27ab("0x150")]},w=(THREE[_0x27ab("0x7e7")],THREE[_0x27ab("0x7e8")],THREE.NeverDepth,THREE[_0x27ab("0x7e9")],THREE.EqualDepth,THREE[_0x27ab("0x7ea")],THREE.GreaterEqualDepth,THREE[_0x27ab("0x7eb")],THREE[_0x27ab("0x7ec")],THREE[_0x27ab("0x7ed")],THREE[_0x27ab("0x7ee")],THREE[_0x27ab("0x7ef")],THREE[_0x27ab("0x7f0")],THREE[_0x27ab("0x7f1")],THREE.OneFactor,THREE[_0x27ab("0x7f2")],THREE.OneMinusSrcColorFactor,THREE.SrcAlphaFactor,THREE[_0x27ab("0x7f3")],THREE.DstAlphaFactor,THREE.OneMinusDstAlphaFactor,THREE[_0x27ab("0x7f4")],THREE.OneMinusDstColorFactor,THREE[_0x27ab("0x7f5")],{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),T={POSITION:_0x27ab("0xc3"),NORMAL:_0x27ab("0xff"),TEXCOORD_0:"uv",TEXCOORD_1:_0x27ab("0x3fe"),COLOR_0:"color",WEIGHTS_0:_0x27ab("0x7f6"),JOINTS_0:_0x27ab("0x7f7")},k={scale:"scale",translation:_0x27ab("0xc3"),rotation:_0x27ab("0x261"),weights:_0x27ab("0x7f8")},S={CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE[_0x27ab("0x7f9")],STEP:THREE[_0x27ab("0x7fa")]},M=(_0x27ab("0x7fb"),_0x27ab("0x7fc"),{OPAQUE:_0x27ab("0x3ef"),MASK:_0x27ab("0x7fd"),BLEND:_0x27ab("0x7fe")}),R={"image/png":THREE[_0x27ab("0x7ff")],"image/jpeg":THREE[_0x27ab("0x800")]};function L(x,a){return"string"!=typeof x||""===x?"":/^(https?:)?\/\//i[_0x27ab("0x3b8")](x)||/^data:.*,.*$/i.test(x)||/^blob:.*$/i[_0x27ab("0x3b8")](x)?x:a+x}function H(x,a,b){for(var _ in b[_0x27ab("0x771")])void 0===x[_]&&(a[_0x27ab("0x127")][_0x27ab("0x801")]=a.userData[_0x27ab("0x801")]||{},a[_0x27ab("0x127")][_0x27ab("0x801")][_]=b[_0x27ab("0x771")][_])}function D(x,a){void 0!==a.extras&&((0,e[_0x27ab("0xb")])(a[_0x27ab("0x802")])===_0x27ab("0x1c")?x[_0x27ab("0x127")]=a[_0x27ab("0x802")]:(_0x27ab("0x803"),a[_0x27ab("0x802")]))}function P(x,a){if(x[_0x27ab("0x80b")](),void 0!==a[_0x27ab("0x80c")])for(var b=0,_=a[_0x27ab("0x80c")][_0x27ab("0x0")];b<_;b++)x[_0x27ab("0x7f8")][b]=a[_0x27ab("0x80c")][b];if(a[_0x27ab("0x802")]&&Array[_0x27ab("0x480")](a[_0x27ab("0x802")][_0x27ab("0x80d")])){var e=a[_0x27ab("0x802")][_0x27ab("0x80d")];if(x[_0x27ab("0x7f8")][_0x27ab("0x0")]===e[_0x27ab("0x0")]){x.morphTargetDictionary={};for(b=0,_=e.length;b<_;b++)x.morphTargetDictionary[e[b]]=b}else console[_0x27ab("0x3f4")](_0x27ab("0x80e"))}}function O(x,a){if((0,_.default)(x)[_0x27ab("0x0")]!==(0,_[_0x27ab("0xb")])(a)[_0x27ab("0x0")])return!1;for(var b in x)if(x[b]!==a[b])return!1;return!0}function B(x,a){if(x.length!==a[_0x27ab("0x0")])return!1;for(var b=0,_=x[_0x27ab("0x0")];b<_;b++)if(x[b]!==a[b])return!1;return!0}function N(x,a){for(var _=0,e=x[_0x27ab("0x0")];_<e;_++){var t=x[_];if(i=t[_0x27ab("0x810")],n=a,r=void 0,s=void 0,r=i[_0x27ab("0x771")]?i.extensions[b.KHR_DRACO_MESH_COMPRESSION]:void 0,s=n[_0x27ab("0x771")]?n[_0x27ab("0x771")][b[_0x27ab("0x790")]]:void 0,r&&s?r[_0x27ab("0x794")]===s[_0x27ab("0x794")]&&O(r[_0x27ab("0xc2")],s[_0x27ab("0xc2")]):i[_0x27ab("0x80f")]===n[_0x27ab("0x80f")]&&O(i[_0x27ab("0xc2")],n[_0x27ab("0xc2")]))return t[_0x27ab("0x811")]}var i,n,r,s;return null}function F(x){if(x[_0x27ab("0x815")]){for(var a=x[_0x27ab("0xc4")],b=x[_0x27ab("0x816")],_=x.array[_0x27ab("0xf")](0,a*b),e=0,t=0;e<a;++e)_[t++]=x.getX(e),b>=2&&(_[t++]=x.getY(e)),b>=3&&(_[t++]=x[_0x27ab("0x809")](e)),b>=4&&(_[t++]=x[_0x27ab("0x817")](e));return new(THREE[_0x27ab("0x3fd")])(_,b,x[_0x27ab("0x796")])}return x[_0x27ab("0xe2")]()}function z(x,b,_){this[_0x27ab("0xbd")]=x||{},this[_0x27ab("0x771")]=b||{},this[_0x27ab("0x33")]=_||{},this[_0x27ab("0x819")]=new a,this[_0x27ab("0x81a")]=[],this[_0x27ab("0x81b")]=[],this[_0x27ab("0x81c")]=[],this[_0x27ab("0x81d")]=new(THREE[_0x27ab("0x14a")])(this[_0x27ab("0x33")][_0x27ab("0x580")]),this[_0x27ab("0x81d")][_0x27ab("0x81e")](this.options.crossOrigin),this[_0x27ab("0x81f")]=new(THREE[_0x27ab("0x74a")])(this[_0x27ab("0x33")][_0x27ab("0x580")]),this.fileLoader[_0x27ab("0x820")](_0x27ab("0x36f"))}function j(x,a,b){var _=a.attributes,e=[];function t(a,_){return b.getDependency(_0x27ab("0x805"),a)[_0x27ab("0x312")]((function(a){x[_0x27ab("0x1b0")](_,a)}))}for(var n in _){var r=T[n];r&&(r in x[_0x27ab("0xc2")]||e[_0x27ab("0x1")](t(_[n],r)))}if(void 0!==a[_0x27ab("0x80f")]&&!x[_0x27ab("0x300")]){var s=b[_0x27ab("0x797")](_0x27ab("0x805"),a[_0x27ab("0x80f")])[_0x27ab("0x312")]((function(a){x[_0x27ab("0x85e")](a)}));e[_0x27ab("0x1")](s)}return D(x,a),i[_0x27ab("0xb")][_0x27ab("0x218")](e).then((function(){return void 0!==a.targets?function(x,a,b){for(var _=!1,e=!1,t=0,n=a[_0x27ab("0x0")];t<n&&(void 0!==(o=a[t])[_0x27ab("0x804")]&&(_=!0),void 0!==o.NORMAL&&(e=!0),!_||!e);t++);if(!_&&!e)return i[_0x27ab("0xb")].resolve(x);var r=[],s=[];for(t=0,n=a[_0x27ab("0x0")];t<n;t++){var o=a[t];if(_){var c=void 0!==o.POSITION?b[_0x27ab("0x797")](_0x27ab("0x805"),o[_0x27ab("0x804")])[_0x27ab("0x312")]((function(x){return F(x)})):x.attributes[_0x27ab("0xc3")];r.push(c)}e&&(c=void 0!==o[_0x27ab("0x204")]?b[_0x27ab("0x797")]("accessor",o.NORMAL)[_0x27ab("0x312")]((function(x){return F(x)})):x[_0x27ab("0xc2")][_0x27ab("0xff")],s[_0x27ab("0x1")](c))}return i[_0x27ab("0xb")][_0x27ab("0x218")]([i[_0x27ab("0xb")][_0x27ab("0x218")](r),i[_0x27ab("0xb")].all(s)])[_0x27ab("0x312")]((function(b){for(var t=b[0],i=b[1],n=0,r=a[_0x27ab("0x0")];n<r;n++){var s=a[n],o=_0x27ab("0x806")+n;if(_&&void 0!==s.POSITION){var c=t[n];c[_0x27ab("0xc5")]=o;for(var l=x[_0x27ab("0xc2")][_0x27ab("0xc3")],f=0,u=c[_0x27ab("0xc4")];f<u;f++)c[_0x27ab("0x807")](f,c[_0x27ab("0x3fa")](f)+l[_0x27ab("0x3fa")](f),c[_0x27ab("0x808")](f)+l.getY(f),c[_0x27ab("0x809")](f)+l[_0x27ab("0x809")](f))}if(e&&void 0!==s.NORMAL){var d=i[n];d[_0x27ab("0xc5")]=o;var h=x[_0x27ab("0xc2")][_0x27ab("0xff")];for(f=0,u=d.count;f<u;f++)d[_0x27ab("0x807")](f,d[_0x27ab("0x3fa")](f)+h[_0x27ab("0x3fa")](f),d[_0x27ab("0x808")](f)+h[_0x27ab("0x808")](f),d[_0x27ab("0x809")](f)+h[_0x27ab("0x809")](f))}}return _&&(x[_0x27ab("0x80a")][_0x27ab("0xc3")]=t),e&&(x[_0x27ab("0x80a")].normal=i),x}))}(x,a.targets,b):x}))}return z[_0x27ab("0x2")][_0x27ab("0x68")]=function(x,a){var b=this.json;this[_0x27ab("0x819")][_0x27ab("0x821")](),this[_0x27ab("0x822")](),this.getMultiDependencies([_0x27ab("0xc1"),_0x27ab("0x823"),_0x27ab("0x613")])[_0x27ab("0x312")]((function(a){var _=a[_0x27ab("0x757")]||[],e=_[b[_0x27ab("0xc1")]||0],t=a.animations||[],i=a[_0x27ab("0x824")]||[];x(e,_,i,t,b)}))[_0x27ab("0x825")](a)},z[_0x27ab("0x2")][_0x27ab("0x822")]=function(){for(var x=this[_0x27ab("0xbd")][_0x27ab("0x3d9")]||[],a=this[_0x27ab("0xbd")][_0x27ab("0x826")]||[],b=this.json[_0x27ab("0xc0")]||[],_={},e={},t=0,i=a[_0x27ab("0x0")];t<i;t++)for(var n=a[t][_0x27ab("0x827")],r=0,s=n[_0x27ab("0x0")];r<s;r++)x[n[r]].isBone=!0;for(var o=0,c=x[_0x27ab("0x0")];o<c;o++){var l=x[o];void 0!==l[_0x27ab("0x40f")]&&(void 0===_[l[_0x27ab("0x40f")]]&&(_[l.mesh]=e[l.mesh]=0),_[l[_0x27ab("0x40f")]]++,void 0!==l[_0x27ab("0x828")]&&(b[l[_0x27ab("0x40f")]][_0x27ab("0x829")]=!0))}this[_0x27ab("0xbd")][_0x27ab("0x82a")]=_,this[_0x27ab("0xbd")][_0x27ab("0x82b")]=e},z[_0x27ab("0x2")][_0x27ab("0x797")]=function(x,a,_,e){var t=x+":"+a,i=this[_0x27ab("0x819")][_0x27ab("0x35e")](t);if(!i){switch(x){case _0x27ab("0xc1"):i=this[_0x27ab("0x82c")](a);break;case"node":i=this.loadNode(a);break;case _0x27ab("0x40f"):i=this[_0x27ab("0x82d")](a);break;case _0x27ab("0x805"):i=this[_0x27ab("0x82e")](a);break;case _0x27ab("0x794"):i=this[_0x27ab("0x82f")](a);break;case _0x27ab("0x830"):i=this.loadBuffer(a);break;case _0x27ab("0xb3"):i=this[_0x27ab("0x831")](a);break;case _0x27ab("0x572"):i=this[_0x27ab("0x58f")](a);break;case _0x27ab("0x828"):i=this.loadSkin(a);break;case _0x27ab("0x823"):i=this[_0x27ab("0x832")](a);break;case _0x27ab("0x613"):i=this[_0x27ab("0x833")](a);break;case _0x27ab("0x100"):i=this[_0x27ab("0x771")][b[_0x27ab("0x770")]][_0x27ab("0x773")](a);break;default:throw new Error(_0x27ab("0x834")+x)}this[_0x27ab("0x819")][_0x27ab("0x163")](t,i)}return i},z[_0x27ab("0x2")].getDependencies=function(x){var a=this[_0x27ab("0x819")][_0x27ab("0x35e")](x);if(!a){var b=this,_=this[_0x27ab("0xbd")][x+(x===_0x27ab("0x40f")?"es":"s")]||[];a=i[_0x27ab("0xb")][_0x27ab("0x218")](_.map((function(a,_){return b[_0x27ab("0x797")](x,_)}))),this[_0x27ab("0x819")][_0x27ab("0x163")](x,a)}return a},z[_0x27ab("0x2")][_0x27ab("0x835")]=function(x){for(var a={},b=[],_=0,e=x[_0x27ab("0x0")];_<e;_++){var t=x[_],n=this[_0x27ab("0x836")](t);n=n.then(function(x,b){a[x]=b}[_0x27ab("0xe")](this,t+(t===_0x27ab("0x40f")?"es":"s"))),b[_0x27ab("0x1")](n)}return i[_0x27ab("0xb")].all(b)[_0x27ab("0x312")]((function(){return a}))},z[_0x27ab("0x2")][_0x27ab("0x837")]=function(x){var a=this[_0x27ab("0xbd")].buffers[x],_=a.t?a.t:null,e=this[_0x27ab("0x81f")];if(a[_0x27ab("0x70")]&&a[_0x27ab("0x70")]!==_0x27ab("0x36f"))throw new Error(_0x27ab("0x838")+a.type+_0x27ab("0x839"));if(void 0===a[_0x27ab("0x3ed")]&&0===x)return i[_0x27ab("0xb")][_0x27ab("0x58b")](this[_0x27ab("0x771")][b[_0x27ab("0x74c")]][_0x27ab("0x23")]);var t=this[_0x27ab("0x33")];return new i.default((function(x,b){e[_0x27ab("0x14b")](L(a[_0x27ab("0x3ed")],t[_0x27ab("0x30b")]),x,void 0,(function(){b(new Error(_0x27ab("0x83a")+a[_0x27ab("0x3ed")]+'".'))}),{updatetime:_})}))},z[_0x27ab("0x2")][_0x27ab("0x82f")]=function(x){var a=this[_0x27ab("0xbd")][_0x27ab("0x759")][x],b=this;return this[_0x27ab("0x797")](_0x27ab("0x830"),a[_0x27ab("0x830")])[_0x27ab("0x312")]((function(_){b[_0x27ab("0xbd")][_0x27ab("0x751")].hash;var e=l[_0x27ab("0x35e")](b[_0x27ab("0xbd")][_0x27ab("0x751")].URL);if(e)var t=(a[_0x27ab("0x78a")]-x-1)/(e[1]+1)||0,i=(a[_0x27ab("0x83b")]-x)/(e[0]+1)||0;else t=a[_0x27ab("0x78a")]||0,i=a[_0x27ab("0x83b")]||0;return _.slice(i,i+t)}))},z[_0x27ab("0x2")][_0x27ab("0x82e")]=function(x){var a=this,b=this.json,_=this[_0x27ab("0xbd")][_0x27ab("0x758")][x];if(void 0===_[_0x27ab("0x794")]&&void 0===_.sparse)return i[_0x27ab("0xb")][_0x27ab("0x58b")](null);var e=[];return void 0!==_.bufferView?e[_0x27ab("0x1")](this[_0x27ab("0x797")](_0x27ab("0x794"),_[_0x27ab("0x794")])):e[_0x27ab("0x1")](null),void 0!==_.sparse&&(e[_0x27ab("0x1")](this.getDependency(_0x27ab("0x794"),_.sparse.indices[_0x27ab("0x794")])),e.push(this.getDependency(_0x27ab("0x794"),_.sparse[_0x27ab("0x83c")].bufferView))),i[_0x27ab("0xb")].all(e)[_0x27ab("0x312")]((function(x){var e,t,i=x[0],n=w[_[_0x27ab("0x70")]],r=I[_[_0x27ab("0x795")]],s=r[_0x27ab("0x83d")],o=s*n,c=_.byteOffset||0,l=void 0!==_.bufferView?b[_0x27ab("0x759")][_.bufferView][_0x27ab("0x83e")]:void 0,f=!0===_[_0x27ab("0x796")];if(l&&l!==o){var u=_0x27ab("0x83f")+_.bufferView+":"+_[_0x27ab("0x795")],d=a[_0x27ab("0x819")][_0x27ab("0x35e")](u);d||(e=new r(i),d=new(THREE[_0x27ab("0x840")])(e,l/s),a[_0x27ab("0x819")][_0x27ab("0x163")](u,d)),t=new THREE.InterleavedBufferAttribute(d,n,c/s,f)}else e=null===i?new r(_[_0x27ab("0xc4")]*n):new r(i,c,_[_0x27ab("0xc4")]*n),t=new(THREE[_0x27ab("0x3fd")])(e,n,f);if(void 0!==_.sparse){var h=w[_0x27ab("0x841")],g=I[_[_0x27ab("0x842")][_0x27ab("0x80f")][_0x27ab("0x795")]],v=_[_0x27ab("0x842")][_0x27ab("0x80f")][_0x27ab("0x83b")]||0,p=_[_0x27ab("0x842")][_0x27ab("0x83c")][_0x27ab("0x83b")]||0,A=new g(x[1],v,_[_0x27ab("0x842")].count*h),m=new r(x[2],p,_[_0x27ab("0x842")].count*n);null!==i&&t[_0x27ab("0x843")](t[_0x27ab("0x1ae")][_0x27ab("0xf")]());for(var C=0,y=A[_0x27ab("0x0")];C<y;C++){var E=A[C];if(t[_0x27ab("0x3d2")](E,m[C*n]),n>=2&&t[_0x27ab("0x844")](E,m[C*n+1]),n>=3&&t[_0x27ab("0x3d4")](E,m[C*n+2]),n>=4&&t.setW(E,m[C*n+3]),n>=5)throw new Error(_0x27ab("0x845"))}}return t}))},z[_0x27ab("0x2")][_0x27ab("0x58f")]=function(x){var a,_=this,e=this[_0x27ab("0xbd")],t=this[_0x27ab("0x33")],n=this.textureLoader,r=window[_0x27ab("0x765")]||window[_0x27ab("0x846")],s=e[_0x27ab("0x75a")][x],o=e.images[x],c=s[_0x27ab("0x771")]||{},l=o?o.t:null,f=(a=c[b.MSFT_TEXTURE_DDS]?e.images[c[b[_0x27ab("0x763")]][_0x27ab("0x847")]]:e[_0x27ab("0x75b")][s[_0x27ab("0x847")]]).uri,u=!1;return void 0!==a[_0x27ab("0x794")]&&(f=_[_0x27ab("0x797")](_0x27ab("0x794"),a[_0x27ab("0x794")])[_0x27ab("0x312")]((function(x){u=!0;var b=new Blob([x],{type:a.mimeType});return f=r[_0x27ab("0x848")](b)}))),i[_0x27ab("0xb")][_0x27ab("0x58b")](f)[_0x27ab("0x312")]((function(x){var a=THREE[_0x27ab("0x849")][_0x27ab("0x84a")].get(x);return a||(a=c[b[_0x27ab("0x763")]]?_[_0x27ab("0x771")][b.MSFT_TEXTURE_DDS][_0x27ab("0x76f")]:n),new(i[_0x27ab("0xb")])((function(b,_){a[_0x27ab("0x14b")](L(x,t[_0x27ab("0x30b")]),b,void 0,_,{updatetime:l})}))}))[_0x27ab("0x312")]((function(x){!0===u&&r[_0x27ab("0x84b")](f),x.flipY=!1,void 0!==s[_0x27ab("0xc5")]&&(x[_0x27ab("0xc5")]=s[_0x27ab("0xc5")]),a[_0x27ab("0x84c")]in R&&(x[_0x27ab("0x84d")]=R[a[_0x27ab("0x84c")]]);var b=(e[_0x27ab("0x75c")]||{})[s.sampler]||{};return x[_0x27ab("0x84e")]=y[b[_0x27ab("0x84e")]]||THREE[_0x27ab("0x42f")],x[_0x27ab("0x14d")]=y[b[_0x27ab("0x14d")]]||THREE[_0x27ab("0x14e")],x.wrapS=E[b[_0x27ab("0x14f")]]||THREE[_0x27ab("0x150")],x[_0x27ab("0x151")]=E[b.wrapT]||THREE[_0x27ab("0x150")],x}))},z[_0x27ab("0x2")][_0x27ab("0x784")]=function(x,a,_){var e=this;return this[_0x27ab("0x797")](_0x27ab("0x572"),_[_0x27ab("0x300")])[_0x27ab("0x312")]((function(t){if(e[_0x27ab("0x771")][b[_0x27ab("0x764")]]){var i=void 0!==_[_0x27ab("0x771")]?_.extensions[b.KHR_TEXTURE_TRANSFORM]:void 0;i&&(t=e[_0x27ab("0x771")][b.KHR_TEXTURE_TRANSFORM][_0x27ab("0x799")](t,i))}x[a]=t}))},z[_0x27ab("0x2")][_0x27ab("0x831")]=function(x){var a,_=this,e=this[_0x27ab("0xbd")],t=this[_0x27ab("0x771")],n=e[_0x27ab("0xbe")][x],r={},s=n.extensions||{},o=[];if(s[b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=t[b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=c.getMaterialType(n),o[_0x27ab("0x1")](c[_0x27ab("0x781")](r,n,_))}else if(s[b[_0x27ab("0x761")]]){var l=t[b.KHR_MATERIALS_UNLIT];a=l[_0x27ab("0x780")](n),o[_0x27ab("0x1")](l.extendParams(r,n,_))}else{a=THREE.MeshStandardMaterial;var f=n[_0x27ab("0x84f")]||{};if(r.color=new(THREE[_0x27ab("0x108")])(1,1,1),r[_0x27ab("0x103")]=1,Array.isArray(f[_0x27ab("0x782")])){var u=f[_0x27ab("0x782")];r[_0x27ab("0x107")][_0x27ab("0x3dc")](u),r.opacity=u[3]}void 0!==f.baseColorTexture&&o[_0x27ab("0x1")](_[_0x27ab("0x784")](r,"map",f[_0x27ab("0x783")])),r[_0x27ab("0x104")]=void 0!==f[_0x27ab("0x850")]?f.metallicFactor:1,r[_0x27ab("0x105")]=void 0!==f[_0x27ab("0x851")]?f[_0x27ab("0x851")]:1,void 0!==f[_0x27ab("0x852")]&&(o.push(_[_0x27ab("0x784")](r,"metalnessMap",f.metallicRoughnessTexture)),o[_0x27ab("0x1")](_.assignTexture(r,_0x27ab("0x853"),f.metallicRoughnessTexture)))}!0===n[_0x27ab("0x854")]&&(r[_0x27ab("0x11b")]=THREE.DoubleSide);var d=n.alphaMode||M.OPAQUE;return d===M[_0x27ab("0x7fe")]?r[_0x27ab("0x102")]=!0:(r[_0x27ab("0x102")]=!1,d===M[_0x27ab("0x7fd")]&&(r[_0x27ab("0x855")]=void 0!==n[_0x27ab("0x856")]?n[_0x27ab("0x856")]:.5)),void 0!==n[_0x27ab("0x857")]&&a!==THREE[_0x27ab("0x106")]&&(o[_0x27ab("0x1")](_[_0x27ab("0x784")](r,_0x27ab("0x7a3"),n[_0x27ab("0x857")])),r[_0x27ab("0x7ca")]=new(THREE[_0x27ab("0x569")])(1,1),void 0!==n.normalTexture[_0x27ab("0x24b")]&&r[_0x27ab("0x7ca")][_0x27ab("0x123")](n[_0x27ab("0x857")].scale,n.normalTexture[_0x27ab("0x24b")])),void 0!==n.occlusionTexture&&a!==THREE[_0x27ab("0x106")]&&(o.push(_[_0x27ab("0x784")](r,_0x27ab("0x79e"),n[_0x27ab("0x858")])),void 0!==n[_0x27ab("0x858")].strength&&(r[_0x27ab("0x79f")]=n.occlusionTexture[_0x27ab("0x859")])),void 0!==n[_0x27ab("0x85a")]&&a!==THREE[_0x27ab("0x106")]&&(r[_0x27ab("0x2df")]=(new(THREE[_0x27ab("0x108")]))[_0x27ab("0x3dc")](n.emissiveFactor)),void 0!==n.emissiveTexture&&a!==THREE[_0x27ab("0x106")]&&o.push(_[_0x27ab("0x784")](r,_0x27ab("0x7a0"),n[_0x27ab("0x85b")])),i[_0x27ab("0xb")][_0x27ab("0x218")](o).then((function(){var x;return x=a===THREE.ShaderMaterial?t[b[_0x27ab("0x762")]][_0x27ab("0x346")](r):new a(r),void 0!==n[_0x27ab("0xc5")]&&(x[_0x27ab("0xc5")]=n[_0x27ab("0xc5")]),x.normalScale&&(x[_0x27ab("0x7ca")].y=-x[_0x27ab("0x7ca")].y),x[_0x27ab("0x37")]&&(x[_0x27ab("0x37")][_0x27ab("0x85c")]=THREE.sRGBEncoding),x[_0x27ab("0x7a0")]&&(x.emissiveMap[_0x27ab("0x85c")]=THREE[_0x27ab("0x85d")]),x.specularMap&&(x[_0x27ab("0x7a6")][_0x27ab("0x85c")]=THREE[_0x27ab("0x85d")]),D(x,n),n.extensions&&H(t,x,n),x}))},z[_0x27ab("0x2")].loadGeometries=function(x){var a,_=this,e=this[_0x27ab("0x771")],t=this[_0x27ab("0x81a")],n=function(x){if(x[_0x27ab("0x0")]<2)return!1;var a=x[0],_=a[_0x27ab("0x818")]||[];if(void 0===a[_0x27ab("0x80f")])return!1;for(var e=1,t=x[_0x27ab("0x0")];e<t;e++){var i=x[e];if(a.mode!==i.mode)return!1;if(void 0===i[_0x27ab("0x80f")])return!1;if(i[_0x27ab("0x771")]&&i[_0x27ab("0x771")][b[_0x27ab("0x790")]])return!1;if(!O(a.attributes,i[_0x27ab("0xc2")]))return!1;var n=i.targets||[];if(_[_0x27ab("0x0")]!==n[_0x27ab("0x0")])return!1;for(var r=0,s=_[_0x27ab("0x0")];r<s;r++)if(!O(_[r],n[r]))return!1}return!0}(x);function r(x){return e[b[_0x27ab("0x790")]][_0x27ab("0x793")](x,_).then((function(a){return j(a,x,_)}))}n&&(a=x,x=[x[0]]);for(var s=[],o=0,c=x.length;o<c;o++){var l,f=x[o],u=N(t,f);if(u)s[_0x27ab("0x1")](u);else l=f.extensions&&f[_0x27ab("0x771")][b[_0x27ab("0x790")]]?r(f):j(new THREE.BufferGeometry,f,_),t.push({primitive:f,promise:l}),s[_0x27ab("0x1")](l)}return i.default[_0x27ab("0x218")](s)[_0x27ab("0x312")]((function(b){if(n){var e=b[0];if(null!==(f=function(x,a,b){for(var _=0,e=x.length;_<e;_++){var t=x[_];if(a===t[_0x27ab("0x813")]&&B(b,t[_0x27ab("0x814")]))return t.geometry}return null}(l=_[_0x27ab("0x81c")],e,a)))return[f[_0x27ab("0xb1")]];var t=new THREE.BufferGeometry;for(var r in t[_0x27ab("0xc5")]=e[_0x27ab("0xc5")],t[_0x27ab("0x127")]=e[_0x27ab("0x127")],e[_0x27ab("0xc2")])t[_0x27ab("0x1b0")](r,e.attributes[r]);for(var r in e[_0x27ab("0x80a")])t.morphAttributes[r]=e[_0x27ab("0x80a")][r];for(var s=[],o=0,c=a[_0x27ab("0x0")];o<c;o++)s[_0x27ab("0x1")](_[_0x27ab("0x797")](_0x27ab("0x805"),a[o][_0x27ab("0x80f")]));return i[_0x27ab("0xb")][_0x27ab("0x218")](s)[_0x27ab("0x312")]((function(x){for(var b=[],_=0,i=0,n=a[_0x27ab("0x0")];i<n;i++){for(var r=x[i],s=0,o=r[_0x27ab("0xc4")];s<o;s++)b.push(r.array[s]);t.addGroup(_,r[_0x27ab("0xc4")],i),_+=r[_0x27ab("0xc4")]}return t[_0x27ab("0x85e")](b),l.push({geometry:t,baseGeometry:e,primitives:a}),[t]}))}if(b[_0x27ab("0x0")]>1&&void 0!==THREE.BufferGeometryUtils){for(o=1,c=x[_0x27ab("0x0")];o<c;o++)if(x[0].mode!==x[o][_0x27ab("0x34")])return b;var l,f;if(f=function(x,a){for(var b=0,_=x.length;b<_;b++){var e=x[b];if(B(a,e[_0x27ab("0x812")]))return e[_0x27ab("0xb1")]}return null}(l=_.multiplePrimitivesCache,b)){if(null!==f.geometry)return[f[_0x27ab("0xb1")]]}else{t=THREE[_0x27ab("0x3fc")].mergeBufferGeometries(b,!0);if(l[_0x27ab("0x1")]({geometry:t,baseGeometries:b}),null!==t)return[t]}}return b}))},z[_0x27ab("0x2")].loadMesh=function(x){for(var a=this,e=this.json,t=this.extensions,n=e[_0x27ab("0xc0")][x],r=n[_0x27ab("0x814")],s=[],o=0,c=r[_0x27ab("0x0")];o<c;o++){var l=void 0===r[o].material?new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide}):this[_0x27ab("0x797")]("material",r[o][_0x27ab("0xb3")]);s[_0x27ab("0x1")](l)}return i.default[_0x27ab("0x218")](s)[_0x27ab("0x312")]((function(e){return a.loadGeometries(r)[_0x27ab("0x312")]((function(i){for(var s=1===i[_0x27ab("0x0")]&&i[0].groups[_0x27ab("0x0")]>0,o=[],c=0,l=i.length;c<l;c++){var f,u=i[c],d=r[c],h=s?e:e[c];if(d[_0x27ab("0x34")]===C[_0x27ab("0x85f")]||d[_0x27ab("0x34")]===C.TRIANGLE_STRIP||d[_0x27ab("0x34")]===C[_0x27ab("0x860")]||void 0===d[_0x27ab("0x34")])!0===(f=!0===n[_0x27ab("0x829")]?new(THREE[_0x27ab("0x861")])(u,h):new(THREE[_0x27ab("0x159")])(u,h))[_0x27ab("0x829")]&&f[_0x27ab("0x862")](),d.mode===C[_0x27ab("0x863")]?f[_0x27ab("0x129")]=THREE[_0x27ab("0x864")]:d[_0x27ab("0x34")]===C[_0x27ab("0x860")]&&(f[_0x27ab("0x129")]=THREE[_0x27ab("0x865")]);else if(d[_0x27ab("0x34")]===C[_0x27ab("0x866")])f=new(THREE[_0x27ab("0x867")])(u,h);else if(d.mode===C[_0x27ab("0x868")])f=new(THREE[_0x27ab("0x869")])(u,h);else if(d.mode===C[_0x27ab("0x86a")])f=new(THREE[_0x27ab("0x86b")])(u,h);else{if(d[_0x27ab("0x34")]!==C[_0x27ab("0x86c")])throw new Error(_0x27ab("0x86d")+d.mode);f=new THREE.Points(u,h)}(0,_[_0x27ab("0xb")])(f.geometry.morphAttributes)[_0x27ab("0x0")]>0&&P(f,n),f[_0x27ab("0xc5")]=n[_0x27ab("0xc5")]||_0x27ab("0x86e")+x,i[_0x27ab("0x0")]>1&&(f[_0x27ab("0xc5")]+="_"+c),D(f,n),o.push(f);for(var g=s?f[_0x27ab("0xb3")]:[f[_0x27ab("0xb3")]],v=void 0!==u.attributes[_0x27ab("0x107")],p=void 0===u.attributes[_0x27ab("0xff")],A=!0===f[_0x27ab("0x829")],m=(0,_[_0x27ab("0xb")])(u.morphAttributes)[_0x27ab("0x0")]>0,I=m&&void 0!==u[_0x27ab("0x80a")][_0x27ab("0xff")],y=0,E=g.length;y<E;y++){h=g[y];if(f[_0x27ab("0x86f")]){var w=_0x27ab("0x870")+h[_0x27ab("0x628")],T=a.cache[_0x27ab("0x35e")](w);T||(T=new THREE.PointsMaterial,THREE[_0x27ab("0x871")][_0x27ab("0x2")][_0x27ab("0x27d")][_0x27ab("0x3")](T,h),T[_0x27ab("0x107")][_0x27ab("0x27d")](h[_0x27ab("0x107")]),T[_0x27ab("0x37")]=h[_0x27ab("0x37")],T[_0x27ab("0x772")]=!1,a.cache[_0x27ab("0x163")](w,T)),h=T}else if(f[_0x27ab("0x872")]){w=_0x27ab("0x873")+h[_0x27ab("0x628")];var k=a[_0x27ab("0x819")][_0x27ab("0x35e")](w);k||(k=new(THREE[_0x27ab("0x1a6")]),THREE[_0x27ab("0x871")][_0x27ab("0x2")][_0x27ab("0x27d")][_0x27ab("0x3")](k,h),k[_0x27ab("0x107")][_0x27ab("0x27d")](h[_0x27ab("0x107")]),k[_0x27ab("0x772")]=!1,a.cache.add(w,k)),h=k}if(v||p||A||m){w=_0x27ab("0x874")+h[_0x27ab("0x628")]+":";h.isGLTFSpecularGlossinessMaterial&&(w+=_0x27ab("0x875")),A&&(w+=_0x27ab("0x876")),v&&(w+="vertex-colors:"),p&&(w+=_0x27ab("0x877")),m&&(w+="morph-targets:"),I&&(w+=_0x27ab("0x878"));var S=a[_0x27ab("0x819")][_0x27ab("0x35e")](w);S||(S=h[_0x27ab("0x7d0")]?t[b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS][_0x27ab("0x879")](h):h[_0x27ab("0xe2")](),A&&(S.skinning=!0),v&&(S[_0x27ab("0x87a")]=THREE[_0x27ab("0x87b")]),p&&(S[_0x27ab("0x87c")]=!0),m&&(S[_0x27ab("0x87d")]=!0),I&&(S[_0x27ab("0x87e")]=!0),a[_0x27ab("0x819")][_0x27ab("0x163")](w,S)),h=S}g[y]=h,h[_0x27ab("0x79e")]&&void 0===u[_0x27ab("0xc2")][_0x27ab("0x3fe")]&&void 0!==u[_0x27ab("0xc2")].uv&&(_0x27ab("0x87f"),u[_0x27ab("0x1b0")](_0x27ab("0x3fe"),new(THREE[_0x27ab("0x3fd")])(u.attributes.uv[_0x27ab("0x1ae")],2))),h[_0x27ab("0x7d0")]&&(f.onBeforeRender=t[b[_0x27ab("0x762")]][_0x27ab("0x880")])}f.material=s?g:g[0]}if(1===o[_0x27ab("0x0")])return o[0];var M=new THREE.Group;for(c=0,l=o[_0x27ab("0x0")];c<l;c++)M[_0x27ab("0x163")](o[c]);return M}))}))},z[_0x27ab("0x2")][_0x27ab("0x833")]=function(x){var a,b=this[_0x27ab("0xbd")].cameras[x],_=b[b[_0x27ab("0x70")]];if(_)return b.type===_0x27ab("0x20e")?a=new(THREE[_0x27ab("0x881")])(THREE[_0x27ab("0x28e")].radToDeg(_[_0x27ab("0x882")]),_.aspectRatio||1,_.znear||1,_.zfar||2e6):b.type===_0x27ab("0x883")&&(a=new THREE.OrthographicCamera(_[_0x27ab("0x884")]/-2,_[_0x27ab("0x884")]/2,_[_0x27ab("0x885")]/2,_.ymag/-2,_.znear,_.zfar)),void 0!==b[_0x27ab("0xc5")]&&(a[_0x27ab("0xc5")]=b[_0x27ab("0xc5")]),D(a,b),i.default[_0x27ab("0x58b")](a)},z[_0x27ab("0x2")][_0x27ab("0x886")]=function(x){var a=this[_0x27ab("0xbd")][_0x27ab("0x826")][x],b={joints:a[_0x27ab("0x827")]};return void 0===a[_0x27ab("0x887")]?i[_0x27ab("0xb")][_0x27ab("0x58b")](b):this[_0x27ab("0x797")]("accessor",a[_0x27ab("0x887")])[_0x27ab("0x312")]((function(x){return b[_0x27ab("0x887")]=x,b}))},z[_0x27ab("0x2")][_0x27ab("0x832")]=function(x){for(var a=this[_0x27ab("0xbd")].animations[x],b=[],_=[],e=[],t=[],n=[],r=0,s=a[_0x27ab("0x888")][_0x27ab("0x0")];r<s;r++){var o=a[_0x27ab("0x888")][r],c=a[_0x27ab("0x75c")][o[_0x27ab("0x889")]],l=o[_0x27ab("0x295")],f=void 0!==l[_0x27ab("0x63c")]?l[_0x27ab("0x63c")]:l.id,u=void 0!==a[_0x27ab("0x88a")]?a[_0x27ab("0x88a")][c[_0x27ab("0x88b")]]:c.input,d=void 0!==a[_0x27ab("0x88a")]?a[_0x27ab("0x88a")][c[_0x27ab("0x88c")]]:c.output;b[_0x27ab("0x1")](this[_0x27ab("0x797")]("node",f)),_[_0x27ab("0x1")](this[_0x27ab("0x797")](_0x27ab("0x805"),u)),e[_0x27ab("0x1")](this[_0x27ab("0x797")](_0x27ab("0x805"),d)),t.push(c),n[_0x27ab("0x1")](l)}return i[_0x27ab("0xb")][_0x27ab("0x218")]([i[_0x27ab("0xb")].all(b),i.default[_0x27ab("0x218")](_),i[_0x27ab("0xb")][_0x27ab("0x218")](e),i[_0x27ab("0xb")][_0x27ab("0x218")](t),i[_0x27ab("0xb")].all(n)]).then((function(b){for(var _=b[0],e=b[1],t=b[2],i=b[3],n=b[4],r=[],s=0,o=_.length;s<o;s++){var c=_[s],l=e[s],f=t[s],u=i[s],d=n[s];if(void 0!==c){var h;switch(c[_0x27ab("0x349")](),c[_0x27ab("0x7d4")]=!0,k[d[_0x27ab("0x30b")]]){case k[_0x27ab("0x80c")]:h=THREE[_0x27ab("0x88d")];break;case k[_0x27ab("0x1b1")]:h=THREE[_0x27ab("0x88e")];break;default:h=THREE[_0x27ab("0x88f")]}var g=c[_0x27ab("0xc5")]?c[_0x27ab("0xc5")]:c[_0x27ab("0x628")],v=void 0!==u[_0x27ab("0x890")]?S[u[_0x27ab("0x890")]]:THREE[_0x27ab("0x7f9")],p=[];k[d.path]===k.weights?c[_0x27ab("0x2a1")]((function(x){!0===x.isMesh&&x[_0x27ab("0x7f8")]&&p[_0x27ab("0x1")](x[_0x27ab("0xc5")]?x[_0x27ab("0xc5")]:x[_0x27ab("0x628")])})):p[_0x27ab("0x1")](g);for(var A=0,C=p.length;A<C;A++){var I=new h(p[A]+"."+k[d[_0x27ab("0x30b")]],THREE[_0x27ab("0x891")][_0x27ab("0x892")](l.array,0),THREE[_0x27ab("0x891")][_0x27ab("0x892")](f[_0x27ab("0x1ae")],0),v);u.interpolation===_0x27ab("0x893")&&(I[_0x27ab("0x894")]=function(x){return new m(this[_0x27ab("0x1c7")],this[_0x27ab("0x83c")],this[_0x27ab("0x895")]()/3,x)},I[_0x27ab("0x894")].isInterpolantFactoryMethodGLTFCubicSpline=!0),r.push(I)}}}var y=void 0!==a[_0x27ab("0xc5")]?a[_0x27ab("0xc5")]:"animation_"+x;return new(THREE[_0x27ab("0x896")])(y,void 0,r)}))},z[_0x27ab("0x2")][_0x27ab("0x897")]=function(x){var a=this[_0x27ab("0xbd")],_=this[_0x27ab("0x771")],e=this,t=a[_0x27ab("0x82a")],n=a[_0x27ab("0x82b")],r=a.nodes[x];return(!0===r.isBone?i[_0x27ab("0xb")][_0x27ab("0x58b")](new THREE.Bone):void 0!==r[_0x27ab("0x40f")]?e[_0x27ab("0x797")](_0x27ab("0x40f"),r.mesh)[_0x27ab("0x312")]((function(x){var a;if(t[r[_0x27ab("0x40f")]]>1){var b=n[r[_0x27ab("0x40f")]]++;(a=x[_0x27ab("0xe2")]())[_0x27ab("0xc5")]+=_0x27ab("0x898")+b,a[_0x27ab("0x899")]=x[_0x27ab("0x899")];for(var _=0,e=a[_0x27ab("0xb0")][_0x27ab("0x0")];_<e;_++)a[_0x27ab("0xb0")][_][_0x27ab("0xc5")]+=_0x27ab("0x898")+b,a[_0x27ab("0xb0")][_][_0x27ab("0x899")]=x[_0x27ab("0xb0")][_][_0x27ab("0x899")]}else a=x;return void 0!==r[_0x27ab("0x80c")]&&a[_0x27ab("0x2a1")]((function(x){if(x[_0x27ab("0x89a")])for(var a=0,b=r[_0x27ab("0x80c")][_0x27ab("0x0")];a<b;a++)x[_0x27ab("0x7f8")][a]=r[_0x27ab("0x80c")][a]})),a})):void 0!==r[_0x27ab("0x613")]?e.getDependency(_0x27ab("0x613"),r[_0x27ab("0x613")]):r[_0x27ab("0x771")]&&r[_0x27ab("0x771")][b[_0x27ab("0x770")]]&&void 0!==r[_0x27ab("0x771")][b.KHR_LIGHTS_PUNCTUAL][_0x27ab("0x100")]?e.getDependency(_0x27ab("0x100"),r[_0x27ab("0x771")][b[_0x27ab("0x770")]][_0x27ab("0x100")]):i[_0x27ab("0xb")][_0x27ab("0x58b")](new(THREE[_0x27ab("0x15b")])))[_0x27ab("0x312")]((function(x){if(void 0!==r[_0x27ab("0xc5")]&&(x[_0x27ab("0xc5")]=THREE.PropertyBinding[_0x27ab("0x89b")](r.name)),D(x,r),r[_0x27ab("0x771")]&&H(_,x,r),void 0!==r[_0x27ab("0x34d")]){var a=new THREE.Matrix4;a[_0x27ab("0x3dc")](r[_0x27ab("0x34d")]),x[_0x27ab("0x3e7")](a)}else void 0!==r.translation&&x[_0x27ab("0xc3")].fromArray(r[_0x27ab("0x3e6")]),void 0!==r.rotation&&x[_0x27ab("0x261")].fromArray(r.rotation),void 0!==r[_0x27ab("0x24b")]&&x.scale.fromArray(r[_0x27ab("0x24b")]);return x}))},z.prototype[_0x27ab("0x82c")]=function(){function x(a,b,_,e){var t=_.nodes[a];return e[_0x27ab("0x797")]("node",a).then((function(x){return void 0===t[_0x27ab("0x828")]?x:e[_0x27ab("0x797")](_0x27ab("0x828"),t[_0x27ab("0x828")]).then((function(x){for(var b=[],_=0,t=(a=x)[_0x27ab("0x827")].length;_<t;_++)b[_0x27ab("0x1")](e[_0x27ab("0x797")](_0x27ab("0x63c"),a[_0x27ab("0x827")][_]));return i[_0x27ab("0xb")][_0x27ab("0x218")](b)}))[_0x27ab("0x312")]((function(b){for(var _=!0===x[_0x27ab("0x89c")]?x[_0x27ab("0xb0")]:[x],e=0,t=_.length;e<t;e++){for(var i=_[e],n=[],r=[],s=0,o=b[_0x27ab("0x0")];s<o;s++){var c=b[s];if(c){n.push(c);var l=new THREE.Matrix4;void 0!==a[_0x27ab("0x887")]&&l[_0x27ab("0x3dc")](a[_0x27ab("0x887")][_0x27ab("0x1ae")],16*s),r[_0x27ab("0x1")](l)}else console[_0x27ab("0x3f4")](_0x27ab("0x89d"),a[_0x27ab("0x827")][s])}i[_0x27ab("0xe")](new(THREE[_0x27ab("0x89e")])(n,r),i.matrixWorld)}return x}));var a}))[_0x27ab("0x312")]((function(a){b[_0x27ab("0x163")](a);var n=[];if(t.children)for(var r=t[_0x27ab("0xb0")],s=0,o=r[_0x27ab("0x0")];s<o;s++){var c=r[s];n[_0x27ab("0x1")](x(c,a,_,e))}return i[_0x27ab("0xb")][_0x27ab("0x218")](n)}))}return function(a){var b=this[_0x27ab("0xbd")],_=this.extensions,e=this[_0x27ab("0xbd")][_0x27ab("0x757")][a],t=new(THREE[_0x27ab("0x3de")]);void 0!==e[_0x27ab("0xc5")]&&(t[_0x27ab("0xc5")]=e[_0x27ab("0xc5")]),D(t,e),e[_0x27ab("0x771")]&&H(_,t,e);for(var n=e[_0x27ab("0x3d9")]||[],r=[],s=0,o=n[_0x27ab("0x0")];s<o;s++)r[_0x27ab("0x1")](x(n[s],t,b,this));return i.default[_0x27ab("0x218")](r).then((function(){return t}))}}(),x}()},function(x,a,b){"use strict";function _(x){for(var a=[],b=0;b<x.length;b++)a[b]=x[_0x27ab("0x2a")](b);return a}Object[_0x27ab("0x7")](a,"__esModule",{value:!0}),a[_0x27ab("0x43")]=function(x,a,b){for(var e="",t=_(a+b),i=_(x),n=0;n<i.length;n++){for(var r=0;r<t[_0x27ab("0x0")];r++)i[n]=i[n]^t[r];e+=String.fromCharCode(i[n])}return e}},function(x,a,b){"use strict";var _=i(b(18)),e=i(b(2)),t=i(b(90));function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var n=function(){this.pos=new(THREE[_0x27ab("0xe7")]),this.dir=new(THREE[_0x27ab("0xe7")]),this.right=new(THREE[_0x27ab("0xe7")]),this.up=new(THREE[_0x27ab("0xe7")]),this[_0x27ab("0x89f")]=0,this.widthScale=1};n[_0x27ab("0x2")].lerpPathPoints=function(x,a,b){this[_0x27ab("0x3e4")][_0x27ab("0x8a0")](x[_0x27ab("0x3e4")],a[_0x27ab("0x3e4")],b),this[_0x27ab("0x8a1")][_0x27ab("0x8a0")](x[_0x27ab("0x8a1")],a[_0x27ab("0x8a1")],b),this.up[_0x27ab("0x8a0")](x.up,a.up,b),this[_0x27ab("0x6ee")].lerpVectors(x[_0x27ab("0x6ee")],a.right,b),this.dist=(a[_0x27ab("0x89f")]-x[_0x27ab("0x89f")])*b+x[_0x27ab("0x89f")],this[_0x27ab("0x8a2")]=(a[_0x27ab("0x8a2")]-x[_0x27ab("0x8a2")])*b+x.widthScale},n[_0x27ab("0x2")][_0x27ab("0x27d")]=function(x){this[_0x27ab("0x3e4")][_0x27ab("0x27d")](x[_0x27ab("0x3e4")]),this[_0x27ab("0x8a1")].copy(x[_0x27ab("0x8a1")]),this.up[_0x27ab("0x27d")](x.up),this[_0x27ab("0x6ee")].copy(x.right),this[_0x27ab("0x89f")]=x[_0x27ab("0x89f")],this[_0x27ab("0x8a2")]=x[_0x27ab("0x8a2")]};var r=function(){this[_0x27ab("0x1ae")]=[],this[_0x27ab("0xc4")]=0};r.prototype[_0x27ab("0x123")]=function(x,a,b,_,e){if((x=x.slice(0)).length<2)return this.count=0,void _0x27ab("0x8a3");a=void 0!==a?a:.1,b=void 0!==b?b:10,(e=void 0!==e&&e)&&!x[0][_0x27ab("0x8a4")](x[x[_0x27ab("0x0")]-1])&&x[_0x27ab("0x1")]((new THREE.Vector3)[_0x27ab("0x27d")](x[0]));for(var t=0,i=x[_0x27ab("0x0")];t<i;t++)if(0===t)this[_0x27ab("0x8a5")](x[t],x[t+1],_);else if(t===i-1)if(e){this._corner(x[t],x[1],a,b,_);var n=this[_0x27ab("0x1ae")][0].dist;this[_0x27ab("0x1ae")][0][_0x27ab("0x27d")](this[_0x27ab("0x1ae")][this[_0x27ab("0xc4")]-1]),this[_0x27ab("0x1ae")][0][_0x27ab("0x89f")]=n}else this._end(x[t]);else this[_0x27ab("0x8a6")](x[t],x[t+1],a,b,_)},r.prototype[_0x27ab("0x273")]=function(){return 0==this.count?0:this[_0x27ab("0x1ae")][this[_0x27ab("0xc4")]-1][_0x27ab("0x89f")]},r[_0x27ab("0x2")]._start=function(x,a,b){this.count=0;var _=this[_0x27ab("0x8a7")](this[_0x27ab("0xc4")]);if(_[_0x27ab("0x3e4")][_0x27ab("0x27d")](x),_[_0x27ab("0x8a1")][_0x27ab("0x8a8")](a,x),b)_.up.copy(b);else{var e=Number.MAX_VALUE,t=Math[_0x27ab("0x274")](_[_0x27ab("0x8a1")].x),i=Math.abs(_[_0x27ab("0x8a1")].y),n=Math[_0x27ab("0x274")](_[_0x27ab("0x8a1")].z);t<e&&(e=t,_.up.set(1,0,0)),i<e&&(e=i,_.up[_0x27ab("0x123")](0,1,0)),n<e&&_.up[_0x27ab("0x123")](0,0,1)}_.right[_0x27ab("0x8a9")](_[_0x27ab("0x8a1")],_.up).normalize(),_.up[_0x27ab("0x8a9")](_.right,_[_0x27ab("0x8a1")])[_0x27ab("0x2f4")](),_.dist=0,_[_0x27ab("0x8a2")]=1,_[_0x27ab("0x8a1")][_0x27ab("0x2f4")](),this[_0x27ab("0xc4")]++};var s=new THREE.Vector3,o=new(THREE[_0x27ab("0xe7")]),c=new(THREE[_0x27ab("0xe7")]),l=new(THREE[_0x27ab("0x277")]),f=new(THREE[_0x27ab("0x643")]);r[_0x27ab("0x2")][_0x27ab("0x8a6")]=function(x,a,b,_,e){if(b>0&&_>0){for(var t=this[_0x27ab("0x1ae")][this.count-1],i=this[_0x27ab("0x8aa")](t[_0x27ab("0x3e4")],x,a,b,f)[_0x27ab("0x8ab")](_),n=0;n<_;n+=1)this[_0x27ab("0x8ac")](i[n],i[n+1],e);i[_][_0x27ab("0x8a4")](a)||this[_0x27ab("0x8ac")](i[_],a,e)}else this._hardCorner(x,a,e)},r[_0x27ab("0x2")]._hardCorner=function(x,a,b){var _=this[_0x27ab("0x1ae")][this[_0x27ab("0xc4")]-1],e=this[_0x27ab("0x8a7")](this[_0x27ab("0xc4")]),i=s.subVectors(x,_.pos),n=o[_0x27ab("0x8a8")](a,x),r=i.length();if(i[_0x27ab("0x2f4")](),n[_0x27ab("0x2f4")](),e[_0x27ab("0x3e4")][_0x27ab("0x27d")](x),e[_0x27ab("0x8a1")][_0x27ab("0x8ad")](i,n),e[_0x27ab("0x8a1")][_0x27ab("0x2f4")](),b)1===e[_0x27ab("0x8a1")][_0x27ab("0x8ae")](b)?e[_0x27ab("0x6ee")][_0x27ab("0x8a9")](n,b)[_0x27ab("0x2f4")]():e[_0x27ab("0x6ee")][_0x27ab("0x8a9")](e.dir,b)[_0x27ab("0x2f4")](),e.up.crossVectors(e[_0x27ab("0x6ee")],e[_0x27ab("0x8a1")])[_0x27ab("0x2f4")]();else{e.up[_0x27ab("0x27d")](_.up);var f=c[_0x27ab("0x8a9")](_[_0x27ab("0x8a1")],e[_0x27ab("0x8a1")]);if(f[_0x27ab("0x0")]()>t[_0x27ab("0xb")]){f.normalize();var u=Math[_0x27ab("0x8af")](Math[_0x27ab("0x340")](Math.max(_[_0x27ab("0x8a1")].dot(e.dir),-1),1));e.up.applyMatrix4(l[_0x27ab("0x8b0")](f,u))}e[_0x27ab("0x6ee")].crossVectors(e[_0x27ab("0x8a1")],e.up)[_0x27ab("0x2f4")]()}e.dist=_[_0x27ab("0x89f")]+r;var d=i[_0x27ab("0x8ae")](n);e[_0x27ab("0x8a2")]=Math.min(1/Math.sqrt((1+d)/2),1.414213562373)||1,this[_0x27ab("0xc4")]++},r.prototype._end=function(x){var a=this[_0x27ab("0x1ae")][this[_0x27ab("0xc4")]-1],b=this[_0x27ab("0x8a7")](this.count);b[_0x27ab("0x3e4")][_0x27ab("0x27d")](x),b[_0x27ab("0x8a1")][_0x27ab("0x8a8")](x,a[_0x27ab("0x3e4")]);var _=b.dir[_0x27ab("0x0")]();b[_0x27ab("0x8a1")][_0x27ab("0x2f4")](),b.up[_0x27ab("0x27d")](a.up);var e=s[_0x27ab("0x8a9")](a[_0x27ab("0x8a1")],b[_0x27ab("0x8a1")]);if(e[_0x27ab("0x0")]()>t[_0x27ab("0xb")]){e.normalize();var i=Math[_0x27ab("0x8af")](Math[_0x27ab("0x340")](Math[_0x27ab("0x33f")](a[_0x27ab("0x8a1")].dot(b[_0x27ab("0x8a1")]),-1),1));b.up.applyMatrix4(l[_0x27ab("0x8b0")](e,i))}b[_0x27ab("0x6ee")].crossVectors(b.dir,b.up)[_0x27ab("0x2f4")](),b[_0x27ab("0x89f")]=a[_0x27ab("0x89f")]+_,b[_0x27ab("0x8a2")]=1,this.count++},r.prototype[_0x27ab("0x8a7")]=function(x){return this[_0x27ab("0x1ae")][x]||(this[_0x27ab("0x1ae")][x]=new n),this[_0x27ab("0x1ae")][x]},r[_0x27ab("0x2")][_0x27ab("0x8aa")]=function(x,a,b,_,e){var t=s[_0x27ab("0x8a8")](a,x),i=o[_0x27ab("0x8a8")](b,a),n=t[_0x27ab("0x0")](),r=i.length();return t[_0x27ab("0x2f4")](),i[_0x27ab("0x2f4")](),n>_?e.v0[_0x27ab("0x27d")](a).sub(t[_0x27ab("0x28c")](_)):e.v0.copy(x),e.v1[_0x27ab("0x27d")](a),r>_?e.v2[_0x27ab("0x27d")](a)[_0x27ab("0x163")](i[_0x27ab("0x28c")](_)):e.v2[_0x27ab("0x27d")](b),e};var u=function(){this[_0x27ab("0x8b1")]=!1,this._includeDrawingPoint=!1,this[_0x27ab("0x8b2")]=[],this[_0x27ab("0x8b3")]=new(THREE[_0x27ab("0xe7")]),this[_0x27ab("0x8b4")]=new(THREE[_0x27ab("0xe7")]),this[_0x27ab("0x8b5")]=.5,this[_0x27ab("0x1b7")]=.1,this[_0x27ab("0x8b6")]=.2,this[_0x27ab("0x8b7")]=10,this[_0x27ab("0x8b8")]=new r,this._dirty=!0,this.up=new(THREE[_0x27ab("0xe7")])(0,1,0)};Object.defineProperty(u[_0x27ab("0x2")],"cornerRadius",{set:function(x){this._cornerRadius=x,this._dirty=!0},get:function(){return this[_0x27ab("0x8b6")]}}),Object[_0x27ab("0x7")](u[_0x27ab("0x2")],_0x27ab("0x8b9"),{set:function(x){this._cornerSplit=x,this._dirty=!0},get:function(){return this[_0x27ab("0x8b7")]}}),u[_0x27ab("0x2")][_0x27ab("0x8ab")]=function(){if(this[_0x27ab("0x8ba")]&&(this[_0x27ab("0x8b2")][_0x27ab("0x8bb")](),this[_0x27ab("0x8ba")]=!1),this[_0x27ab("0x8b1")]&&this[_0x27ab("0x8b2")][_0x27ab("0x0")]>0){var x=this[_0x27ab("0x8bc")]();x&&(this[_0x27ab("0x8b2")][_0x27ab("0x1")](x),this[_0x27ab("0x8ba")]=!0)}return this[_0x27ab("0x8b2")]},u.prototype.getPathPointList=function(){return(this._drawing||this._dirty)&&(this._pathPointList[_0x27ab("0x123")](this[_0x27ab("0x8ab")](),this[_0x27ab("0x8b6")],this._cornerSplit,this.up),this[_0x27ab("0x8bd")]=!1),this[_0x27ab("0x8b8")]},u[_0x27ab("0x2")][_0x27ab("0x12b")]=function(x){this._lastPoint[_0x27ab("0x27d")](x),this[_0x27ab("0x8b3")].y+=this[_0x27ab("0x1b7")]},u[_0x27ab("0x2")][_0x27ab("0x8be")]=function(){this[_0x27ab("0x8b1")]=!0;var x=this[_0x27ab("0x8bc")]();x&&(this[_0x27ab("0x8ba")]&&(this._points[_0x27ab("0x8bb")](),this[_0x27ab("0x8ba")]=!1),this[_0x27ab("0x8b2")][_0x27ab("0x1")](x[_0x27ab("0xe2")]())),this[_0x27ab("0x8bd")]=!0},u[_0x27ab("0x2")][_0x27ab("0x1d5")]=function(){this[_0x27ab("0x8b1")]=!0,this[_0x27ab("0x8bd")]=!0},u[_0x27ab("0x2")][_0x27ab("0x1c4")]=function(){this[_0x27ab("0x8b1")]=!1,this._dirty=!0},u.prototype[_0x27ab("0x69b")]=function(){this[_0x27ab("0x8b1")]=!1,this._includeDrawingPoint=!1,this[_0x27ab("0x8b2")]=[],this._dirty=!0};var d=new(THREE[_0x27ab("0xe7")]),h=new THREE.Vector3,g=new(THREE[_0x27ab("0xe7")]);u.prototype[_0x27ab("0x8bc")]=function(){if(this._lastFixedPoint[_0x27ab("0x27d")](this[_0x27ab("0x8b3")]),this._points.length>0){var x=this[_0x27ab("0x8ba")]?this[_0x27ab("0x8b2")][this._points[_0x27ab("0x0")]-2]:this[_0x27ab("0x8b2")][this[_0x27ab("0x8b2")][_0x27ab("0x0")]-1];if(function(x,a){return d[_0x27ab("0x27d")](a)[_0x27ab("0x2f3")](x)[_0x27ab("0x0")]()}(x,this[_0x27ab("0x8b4")])<this[_0x27ab("0x8b5")]&&(d[_0x27ab("0x2f4")]()[_0x27ab("0x28c")](this[_0x27ab("0x8b5")]),this._lastFixedPoint.copy(x).add(d)),this._includeDrawingPoint?this[_0x27ab("0x8b2")][_0x27ab("0x0")]>2:this._points[_0x27ab("0x0")]>1){var a=this._includeDrawingPoint?this[_0x27ab("0x8b2")][this[_0x27ab("0x8b2")][_0x27ab("0x0")]-3]:this[_0x27ab("0x8b2")][this._points.length-2];if(h[_0x27ab("0x8a8")](x,a),g.subVectors(this[_0x27ab("0x8b4")],x),h[_0x27ab("0x2f4")](),g[_0x27ab("0x2f4")](),h.multiplyScalar(-1).dot(g)>.99)return null}}return this[_0x27ab("0x8b4")]};var v=function(x){THREE[_0x27ab("0x1ad")][_0x27ab("0x3")](this),x=x||3e3,this.setAttribute?(this.setAttribute(_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])(new Float32Array(3*x),3)[_0x27ab("0x8bf")](THREE[_0x27ab("0x8c0")])),this[_0x27ab("0x333")]("normal",new(THREE[_0x27ab("0x3fd")])(new Float32Array(3*x),3)[_0x27ab("0x8bf")](THREE[_0x27ab("0x8c0")])),this[_0x27ab("0x333")]("uv",new(THREE[_0x27ab("0x3fd")])(new Float32Array(2*x),2)[_0x27ab("0x8bf")](THREE[_0x27ab("0x8c0")]))):(this.addAttribute(_0x27ab("0xc3"),new THREE.BufferAttribute(new Float32Array(3*x),3)[_0x27ab("0x8c1")](!0)),this.addAttribute(_0x27ab("0xff"),new THREE.BufferAttribute(new Float32Array(3*x),3).setDynamic(!0)),this[_0x27ab("0x1b0")]("uv",new(THREE[_0x27ab("0x3fd")])(new Float32Array(2*x),2).setDynamic(!0))),this.drawRange.start=0,this.drawRange[_0x27ab("0xc4")]=0};v[_0x27ab("0x2")]=(0,e[_0x27ab("0xb")])((0,_[_0x27ab("0xb")])(THREE[_0x27ab("0x1ad")][_0x27ab("0x2")]),{constructor:v,update:function(x,a){a=a||{};var b=this[_0x27ab("0x8c2")](x,a);this[_0x27ab("0x8c3")][_0x27ab("0xc4")]=b},_resizeAttribute:function(x,a,b){for(;a[_0x27ab("0x1ae")].length<b;){var _=a.array[_0x27ab("0x0")],e=new(THREE[_0x27ab("0x3fd")])(new Float32Array(2*_),a[_0x27ab("0x816")],a[_0x27ab("0x796")]);e[_0x27ab("0xc5")]=a[_0x27ab("0xc5")],e[_0x27ab("0x8c4")]=a[_0x27ab("0x8c4")],this[_0x27ab("0x1b0")],this[_0x27ab("0x1b0")](x,e),a=e}},_updateAttributes:function(x,a){var b=a[_0x27ab("0x326")]||.1,_=void 0!==a[_0x27ab("0x12e")]?a[_0x27ab("0x12e")]:1,e=void 0===a[_0x27ab("0x12d")]||a[_0x27ab("0x12d")],t=void 0!==a[_0x27ab("0x11b")]?a[_0x27ab("0x11b")]:_0x27ab("0x12c"),i=0,r=[],s=[],o=[],c=new THREE.Vector3,l=new THREE.Vector3;function f(x,a,b){x.dir;var _=x.up,e=x[_0x27ab("0x6ee")];_0x27ab("0x183")!==t?c[_0x27ab("0x27d")](e).multiplyScalar(a*x[_0x27ab("0x8a2")]):c[_0x27ab("0x123")](0,0,0),"right"!==t?l[_0x27ab("0x27d")](e)[_0x27ab("0x28c")](-a*x[_0x27ab("0x8a2")]):l[_0x27ab("0x123")](0,0,0),c[_0x27ab("0x163")](x[_0x27ab("0x3e4")]),l[_0x27ab("0x163")](x[_0x27ab("0x3e4")]),r[_0x27ab("0x1")](l.x,l.y,l.z,c.x,c.y,c.z),s[_0x27ab("0x1")](_.x,_.y,_.z,_.x,_.y,_.z),o.push(b,0,b,1),i+=2}var u=new(THREE[_0x27ab("0xe7")]),d=x[_0x27ab("0x273")]();if(0==d)return 0;var h,g=_*d;if(g>0)for(var v=0;v<x[_0x27ab("0xc4")];v++){var p=x[_0x27ab("0x1ae")][v];if(p[_0x27ab("0x89f")]>g){var A=x[_0x27ab("0x1ae")][v-1];h=new n;var m=(g-A.dist)/(p[_0x27ab("0x89f")]-A[_0x27ab("0x89f")]);h.lerpPathPoints(A,p,m),f(h,b/2,h[_0x27ab("0x89f")]/(_0x27ab("0x12c")!==t?b/2:b));break}f(p,b/2,p[_0x27ab("0x89f")]/(_0x27ab("0x12c")!==t?b/2:b))}else h=x[_0x27ab("0x1ae")][0];e&&function(x,a,b){var _=x[_0x27ab("0x8a1")],e=x.up,n=x[_0x27ab("0x6ee")];_0x27ab("0x183")!==t?c[_0x27ab("0x27d")](n).multiplyScalar(2*a):c.set(0,0,0),"right"!==t?l.copy(n)[_0x27ab("0x28c")](2*-a):l.set(0,0,0),u[_0x27ab("0x27d")](_)[_0x27ab("0x8c5")](3*a),c[_0x27ab("0x163")](x[_0x27ab("0x3e4")]),l.add(x[_0x27ab("0x3e4")]),u[_0x27ab("0x163")](x.pos),r[_0x27ab("0x1")](l.x,l.y,l.z,c.x,c.y,c.z,u.x,u.y,u.z),s[_0x27ab("0x1")](e.x,e.y,e.z,e.x,e.y,e.z,e.x,e.y,e.z),o[_0x27ab("0x1")](b,_0x27ab("0x12c")!==t?_0x27ab("0x6ee")!==t?-2:0:-.5,b,_0x27ab("0x12c")!==t?_0x27ab("0x183")!==t?2:0:1.5,b+3*a/(_0x27ab("0x12c")!==t?a:2*a),"both"!==t?0:.5),i+=3}(h=h||x[_0x27ab("0x1ae")][x[_0x27ab("0xc4")]-1],b/2,h.dist/("both"!==t?b/2:b));var C=this.getAttribute(_0x27ab("0xc3")),I=this[_0x27ab("0x1af")](_0x27ab("0xff")),y=this[_0x27ab("0x1af")]("uv");return this[_0x27ab("0x8c6")]("position",C,r.length),this[_0x27ab("0x8c6")](_0x27ab("0xff"),I,s[_0x27ab("0x0")]),this[_0x27ab("0x8c6")]("uv",y,o[_0x27ab("0x0")]),C=this[_0x27ab("0x1af")]("position"),I=this[_0x27ab("0x1af")](_0x27ab("0xff")),y=this[_0x27ab("0x1af")]("uv"),C[_0x27ab("0x1ae")].set(r,0),I.array[_0x27ab("0x123")](s,0),y[_0x27ab("0x1ae")][_0x27ab("0x123")](o,0),C.updateRange[_0x27ab("0xc4")]=r[_0x27ab("0x0")],I[_0x27ab("0x8c7")][_0x27ab("0xc4")]=s[_0x27ab("0x0")],y[_0x27ab("0x8c7")].count=o[_0x27ab("0x0")],C[_0x27ab("0x146")]=!0,I[_0x27ab("0x146")]=!0,y[_0x27ab("0x146")]=!0,i}});var p=function(x){v[_0x27ab("0x3")](this,x||1e3),this[_0x27ab("0x85e")](new Array(2*(x||1e3))),this[_0x27ab("0x10d")]=0};p[_0x27ab("0x2")]=(0,e[_0x27ab("0xb")])((0,_[_0x27ab("0xb")])(v[_0x27ab("0x2")]),{constructor:p,_resizeIndex:function(x,a){for(;x[_0x27ab("0x1ae")][_0x27ab("0x0")]<a;){var b=x[_0x27ab("0x1ae")][_0x27ab("0x0")],_=new(THREE[_0x27ab("0x3fd")])(2*b>65535?new Uint32Array(2*b):new Uint16Array(2*b),1);_[_0x27ab("0xc5")]=x[_0x27ab("0xc5")],_[_0x27ab("0x8c4")]=x.usage,this[_0x27ab("0x85e")](_),x=_}},_updateAttributes:function(x,a){var b=this,_=a[_0x27ab("0x638")]||.1,e=a[_0x27ab("0x8c8")]||8;e=Math[_0x27ab("0x33f")](2,e);var t=a[_0x27ab("0x8c9")]||0,i=void 0!==a[_0x27ab("0x12e")]?a.progress:1,r=0,s=[],o=[],c=[],l=[],f=0,u=new THREE.Vector3;function d(x,a,_,e){for(var i=0===s.length,n=0;n<=_;n++){var d=n;d==_&&(d=0);var h=n/_,g=Math.max(e,h);g>b.maxUvVal&&(b.maxUvVal=g),u[_0x27ab("0x27d")](x.up).applyAxisAngle(x.dir,t+2*Math.PI*d/_)[_0x27ab("0x2f4")](),s[_0x27ab("0x1")](x[_0x27ab("0x3e4")].x+u.x*a*x[_0x27ab("0x8a2")],x.pos.y+u.y*a*x[_0x27ab("0x8a2")],x.pos.z+u.z*a*x[_0x27ab("0x8a2")]),o[_0x27ab("0x1")](u.x,u.y,u.z),c[_0x27ab("0x1")](e,h),f++}if(!i)for(var v=f-2*(_+1),p=f-(_+1),A=0;A<_;A++)l[_0x27ab("0x1")](p+A,v+A,v+A+1,p+A,v+A+1,p+A+1),r+=6}var h=i*x[_0x27ab("0x273")]();if(0==h)return 0;if(h>0)for(var g=0;g<x.count;g++){var v=x.array[g];if(v[_0x27ab("0x89f")]>h){var p=x[_0x27ab("0x1ae")][g-1],A=new n,m=(h-p.dist)/(v[_0x27ab("0x89f")]-p.dist);A[_0x27ab("0x8ca")](p,v,m),d(A,_,e,A[_0x27ab("0x89f")]/(2*_*Math.PI));break}d(v,_,e,v[_0x27ab("0x89f")]/(2*_*Math.PI))}var C=this[_0x27ab("0x1af")]("position"),I=this[_0x27ab("0x1af")](_0x27ab("0xff")),y=this[_0x27ab("0x1af")]("uv"),E=this[_0x27ab("0x8cb")]();return this._resizeAttribute(_0x27ab("0xc3"),C,s[_0x27ab("0x0")]),this[_0x27ab("0x8c6")](_0x27ab("0xff"),I,o[_0x27ab("0x0")]),this[_0x27ab("0x8c6")]("uv",y,c[_0x27ab("0x0")]),this._resizeIndex(E,l.length),C=this[_0x27ab("0x1af")](_0x27ab("0xc3")),I=this[_0x27ab("0x1af")]("normal"),y=this[_0x27ab("0x1af")]("uv"),E=this.getIndex(),C[_0x27ab("0x1ae")][_0x27ab("0x123")](s,0),I[_0x27ab("0x1ae")][_0x27ab("0x123")](o,0),y[_0x27ab("0x1ae")][_0x27ab("0x123")](c,0),E[_0x27ab("0x123")](l,0),C[_0x27ab("0x8c7")][_0x27ab("0xc4")]=s[_0x27ab("0x0")],I.updateRange[_0x27ab("0xc4")]=o[_0x27ab("0x0")],y[_0x27ab("0x8c7")][_0x27ab("0xc4")]=c[_0x27ab("0x0")],E[_0x27ab("0x8c7")].count=l[_0x27ab("0x0")],C.needsUpdate=!0,I[_0x27ab("0x146")]=!0,y[_0x27ab("0x146")]=!0,E[_0x27ab("0x146")]=!0,r}}),THREE[_0x27ab("0x12a")]=v,THREE[_0x27ab("0x124")]=p,THREE[_0x27ab("0xf2")]=r,THREE[_0x27ab("0x8cc")]=u},function(x,a,b){"use strict";THREE.SelectionBox=function(){var x=new(THREE[_0x27ab("0x8cd")]);new(THREE[_0x27ab("0xe7")]);function a(x,a,b){this[_0x27ab("0x613")]=x,this[_0x27ab("0xc1")]=a,this[_0x27ab("0x8ce")]=new(THREE[_0x27ab("0xe7")]),this[_0x27ab("0x8cf")]=new(THREE[_0x27ab("0xe7")]),this[_0x27ab("0x8d0")]=[],this[_0x27ab("0x8d1")]=b||Number[_0x27ab("0x1c8")],this[_0x27ab("0x8d2")]=null,this.focusTileId=""}return a[_0x27ab("0x2")][_0x27ab("0x8d3")]=function(a,b){return this[_0x27ab("0x8ce")]=a||this.startPoint,this[_0x27ab("0x8cf")]=b||this[_0x27ab("0x8cf")],this[_0x27ab("0x8d0")]=[],this[_0x27ab("0x8d4")](this[_0x27ab("0x8ce")],this[_0x27ab("0x8cf")]),this[_0x27ab("0x8d5")](x),this[_0x27ab("0x8d0")]},a[_0x27ab("0x2")][_0x27ab("0x8d4")]=function(a,b){a=a||this[_0x27ab("0x8ce")],b=b||this[_0x27ab("0x8cf")];var _=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];if(this[_0x27ab("0x613")]=_[_0x27ab("0x196")],this[_0x27ab("0x613")].updateProjectionMatrix(),this[_0x27ab("0x613")].updateMatrixWorld(),this[_0x27ab("0x613")][_0x27ab("0x6e9")]){var e=a[_0x27ab("0xe2")]();e.x=Math[_0x27ab("0x340")](a.x,b.x),e.y=Math[_0x27ab("0x33f")](a.y,b.y),b.x=Math[_0x27ab("0x33f")](a.x,b.x),b.y=Math[_0x27ab("0x340")](a.y,b.y);var t=this[_0x27ab("0x613")].position[_0x27ab("0xe2")](),i=e[_0x27ab("0xe2")](),n=new(THREE[_0x27ab("0xe7")])(b.x,e.y,0),r=b[_0x27ab("0xe2")](),s=new(THREE[_0x27ab("0xe7")])(e.x,b.y,0);i.unproject(this.camera),n[_0x27ab("0x8d6")](this[_0x27ab("0x613")]),r.unproject(this.camera),s[_0x27ab("0x8d6")](this[_0x27ab("0x613")]);var o=i[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](t),c=n[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](t),l=r[_0x27ab("0xe2")]().sub(t);o.normalize(),c[_0x27ab("0x2f4")](),l[_0x27ab("0x2f4")](),o[_0x27ab("0x28c")](this[_0x27ab("0x8d1")]),c.multiplyScalar(this[_0x27ab("0x8d1")]),l[_0x27ab("0x28c")](this.deep),o.add(t),c[_0x27ab("0x163")](t),l[_0x27ab("0x163")](t),(g=x.planes)[0].setFromCoplanarPoints(t,i,n),g[1][_0x27ab("0x8d7")](t,n,r),g[2][_0x27ab("0x8d7")](r,s,t),g[3][_0x27ab("0x8d7")](s,i,t),g[4].setFromCoplanarPoints(n,r,s),g[5].setFromCoplanarPoints(l,c,o),g[5][_0x27ab("0xff")].multiplyScalar(-1)}else{if(!this[_0x27ab("0x613")][_0x27ab("0x6ed")])return console[_0x27ab("0x3f4")](_0x27ab("0x8d8")),!1;var f=Math[_0x27ab("0x340")](a.x,b.x),u=Math[_0x27ab("0x33f")](a.y,b.y),d=Math[_0x27ab("0x33f")](a.x,b.x),h=Math[_0x27ab("0x340")](a.y,b.y);if(f===d||u===h)return!1;i=new(THREE[_0x27ab("0xe7")])(f,u,-1),n=new(THREE[_0x27ab("0xe7")])(d,u,-1),r=new(THREE[_0x27ab("0xe7")])(d,h,-1),s=new(THREE[_0x27ab("0xe7")])(f,h,-1);var g,v=new THREE.Vector3(f,u,1),p=new(THREE[_0x27ab("0xe7")])(d,u,1),A=new(THREE[_0x27ab("0xe7")])(d,h,1),m=new THREE.Vector3(f,h,1);i[_0x27ab("0x8d6")](this[_0x27ab("0x613")]),n[_0x27ab("0x8d6")](this[_0x27ab("0x613")]),r.unproject(this.camera),s[_0x27ab("0x8d6")](this[_0x27ab("0x613")]),v[_0x27ab("0x8d6")](this[_0x27ab("0x613")]),p.unproject(this[_0x27ab("0x613")]),A[_0x27ab("0x8d6")](this[_0x27ab("0x613")]),m[_0x27ab("0x8d6")](this[_0x27ab("0x613")]),(g=x.planes)[0][_0x27ab("0x8d7")](i,v,p),g[1][_0x27ab("0x8d7")](n,p,A),g[2][_0x27ab("0x8d7")](A,m,s),g[3][_0x27ab("0x8d7")](m,v,i),g[4][_0x27ab("0x8d7")](n,r,s),g[5].setFromCoplanarPoints(A,p,v),g[5].normal[_0x27ab("0x28c")](-1)}return!0},a[_0x27ab("0x2")][_0x27ab("0x8d5")]=function(x){var a=this.watchlist,b=new(THREE[_0x27ab("0xe7")]),_=esmap[_0x27ab("0x32")].instance,e=_[_0x27ab("0x33")][_0x27ab("0x223")];if(this[_0x27ab("0x8d9")])for(var t=0;t<this.preWatchs[_0x27ab("0x0")];t++){var i=this.preWatchs[t];if(i.type_==_0x27ab("0xf0")){if(!i.boxSelectPoints){for(var n=i.points,r=[],s=0;s<n[_0x27ab("0x0")]-1;s++){var o=n[s],c=n[s+1],l=c.x-o.x,f=c.y-o.y,u=c.z-o.z,d=Math[_0x27ab("0x33f")](Math[_0x27ab("0x274")](l),Math[_0x27ab("0x274")](f),Math[_0x27ab("0x274")](u));if(0!=d&&d!=1/0)for(var h=l/d,g=f/d,v=u/d,p=0;p<d+1;p++){var A=h*p,m=g*p,C=v*p,I=new(THREE[_0x27ab("0xe7")])(o.x+A,o.y+m,o.z+C);r[_0x27ab("0x1")](I)}}i[_0x27ab("0x8da")]=r}for(var y=0;y<i[_0x27ab("0x8da")][_0x27ab("0x0")];y++){var E=i[_0x27ab("0x8da")][y];if(x.containsPoint(E)){this.collection.push(i);break}}}else i[_0x27ab("0x127")][_0x27ab("0x8db")]||(i.userData[_0x27ab("0x8db")]=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](i)),x[_0x27ab("0x8dc")](i[_0x27ab("0x127")].box3)&&this[_0x27ab("0x8d0")][_0x27ab("0x1")](i)}for(var w in a)for(var T=a[w],k=0;k<T[_0x27ab("0x0")];k++){var S=T[k];if(S[_0x27ab("0xae")]&&S[_0x27ab("0xae")].nodeType){if(this[_0x27ab("0x8dd")]!=_0x27ab("0x218"))if(this[_0x27ab("0x8dd")]instanceof Array){if(this.pickType[_0x27ab("0xd1")](S[_0x27ab("0xae")][_0x27ab("0xe1")])<0)continue}else if(S[_0x27ab("0xae")][_0x27ab("0xe1")]!=this.pickType)continue;if(_[_0x27ab("0x155")][_0x27ab("0x8de")](S))switch(S.datas_[_0x27ab("0xe1")]){case esmap[_0x27ab("0xf1")][_0x27ab("0x639")]:if(999==S[_0x27ab("0xae")][_0x27ab("0x623")])continue;for(var M=S[_0x27ab("0xae")].brothers,R=0;R<M[_0x27ab("0x0")];R++){var L=[];L=e?M[R][_0x27ab("0xec")]:_[_0x27ab("0x175")][_0x27ab("0x8df")][M[R].ID][0];for(var H=[],D=1;D<L.length;D++)H[_0x27ab("0x1")]({x:-L[D].x,y:L[D].y});(esmap[_0x27ab("0x80")][_0x27ab("0x8e0")](H,this[_0x27ab("0x8e1")])||esmap[_0x27ab("0x80")][_0x27ab("0x5e8")](H,this[_0x27ab("0x8e1")]))&&this[_0x27ab("0x8d0")][_0x27ab("0x1")](M[R])}break;case esmap.ESNodeType.MODEL3D:S[_0x27ab("0x127")][_0x27ab("0x8db")]||(S.userData[_0x27ab("0x8db")]=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](S)),S[_0x27ab("0x127")][_0x27ab("0x8e2")]||S[_0x27ab("0x2a1")]((function(x){x[_0x27ab("0xb3")]&&(x[_0x27ab("0xb3")]instanceof Array?(x[_0x27ab("0xb3")][0]=x[_0x27ab("0xb3")][0][_0x27ab("0xe2")](),x[_0x27ab("0xb3")][0][_0x27ab("0x127")][_0x27ab("0x8e2")]=!0):(x[_0x27ab("0xb3")]=x.material[_0x27ab("0xe2")](),x[_0x27ab("0xb3")].userData[_0x27ab("0x8e2")]=!0))})),x[_0x27ab("0x8dc")](S[_0x27ab("0x127")].box3)&&this.collection.push(S[_0x27ab("0xae")]);break;case esmap[_0x27ab("0xf1")][_0x27ab("0x1ba")]:if(!S[_0x27ab("0x8da")]){for(var P=S[_0x27ab("0xec")],O=[],B=0;B<P[_0x27ab("0x0")]-1;B++){var N=P[B],F=P[B+1],z=F.x-N.x,j=F.y-N.y,U=F.z-N.z,X=Math[_0x27ab("0x33f")](Math[_0x27ab("0x274")](z),Math.abs(j),Math.abs(U));if(0!=X&&X!=1/0)for(var Y=z/X,G=j/X,Q=U/X,V=0;V<X+1;V++){var W=Y*V,Z=G*V,J=Q*V,K=new THREE.Vector3(N.x+W,N.y+Z,N.z+J);O.push(K)}}S[_0x27ab("0x8da")]=O}for(var q=0;q<S[_0x27ab("0x8da")][_0x27ab("0x0")];q++){var $=S[_0x27ab("0x8da")][q];if(x[_0x27ab("0x8e3")]($)){this.collection[_0x27ab("0x1")](S[_0x27ab("0xae")]);break}}break;default:b=S.getWorldPosition(b),x.containsPoint(b)&&this[_0x27ab("0x8d0")][_0x27ab("0x1")](S[_0x27ab("0xae")])}}}},a[_0x27ab("0x2")][_0x27ab("0x8e4")]=function(x,a){if(a[_0x27ab("0x89a")]&&void 0!==a.material)if(a[_0x27ab("0x8e5")]){if(!a[_0x27ab("0x8da")]){for(var b=a[_0x27ab("0xec")],_=[],e=0;e<b.length-1;e++){var t=b[e],i=b[e+1],n=i.x-t.x,r=i.y-t.y,s=i.z-t.z,o=Math.max(Math[_0x27ab("0x274")](n),Math.abs(r),Math.abs(s));if(0!=o&&o!=1/0)for(var c=n/o,l=r/o,f=s/o,u=0;u<o+1;u++){var d=c*u,h=l*u,g=f*u,v=new THREE.Vector3(t.x+d,t.y+h,t.z+g);_.push(v)}}a.boxSelectPoints=_}for(var p=0;p<a.boxSelectPoints[_0x27ab("0x0")];p++){var A=a[_0x27ab("0x8da")][p];if(x[_0x27ab("0x8e3")](A)){this.collection[_0x27ab("0x1")](a);break}}}else{null===a.geometry.boundingBox&&a.geometry[_0x27ab("0x567")]();var m=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x27d")](a[_0x27ab("0xb1")][_0x27ab("0x568")])[_0x27ab("0x263")](a[_0x27ab("0x19d")]);if(x[_0x27ab("0x8dc")](m)){var C=null,I=!1;if(a.datas_?C=a:(C=esmap.ESMapSceneUtil.findGroup(a),I=!0),C&&this.collection[_0x27ab("0x1")](C[_0x27ab("0xae")]),C&&I)return!0}}if(a[_0x27ab("0xb0")].length>0)for(var y=0;y<a[_0x27ab("0xb0")].length;y++){if(this.searchChildInFrustum(x,a[_0x27ab("0xb0")][y]))break}},a}()},function(x,a,b){"use strict";THREE[_0x27ab("0x8e6")]=function(){function x(x,a,b){this.element=document[_0x27ab("0x20")]("div"),this[_0x27ab("0x339")][_0x27ab("0x3b4")].add(b),this[_0x27ab("0x339")].style[_0x27ab("0x8e7")]=_0x27ab("0x591"),this[_0x27ab("0x339")].style.border=_0x27ab("0x8e8"),this[_0x27ab("0x339")][_0x27ab("0xea")].backgroundColor=_0x27ab("0x8e9"),this[_0x27ab("0x339")][_0x27ab("0xea")].position="fixed",this.renderer={domElement:a},this.startPoint=new(THREE[_0x27ab("0x569")]),this[_0x27ab("0x8ea")]=new(THREE[_0x27ab("0x569")]),this[_0x27ab("0x8eb")]=new(THREE[_0x27ab("0x569")]),this[_0x27ab("0x8ec")]=x,this[_0x27ab("0x8ed")]=!1,this.renderer[_0x27ab("0x6de")][_0x27ab("0x2f")](_0x27ab("0x73a"),function(x){this[_0x27ab("0x8ec")][_0x27ab("0x581")]&&2!=x[_0x27ab("0x726")]&&(this[_0x27ab("0x8ed")]=!0,this.onSelectStart(x))}[_0x27ab("0xe")](this),!1),this.renderer.domElement[_0x27ab("0x2f")](_0x27ab("0x73b"),function(x){this.isDown&&this[_0x27ab("0x8ee")](x)}[_0x27ab("0xe")](this),!1),this[_0x27ab("0x68c")][_0x27ab("0x6de")][_0x27ab("0x2f")](_0x27ab("0x73c"),function(x){this[_0x27ab("0x8ec")][_0x27ab("0x581")]&&(this.isDown=!1,this[_0x27ab("0x8ef")](x))}[_0x27ab("0xe")](this),!1)}return x[_0x27ab("0x2")].onSelectStart=function(x){this[_0x27ab("0x68c")].domElement[_0x27ab("0x8f0")][_0x27ab("0x24")](this[_0x27ab("0x339")]),this[_0x27ab("0x339")][_0x27ab("0xea")][_0x27ab("0x183")]=x[_0x27ab("0x3b2")]+"px",this[_0x27ab("0x339")][_0x27ab("0xea")].top=x[_0x27ab("0x3b3")]+"px",this.element[_0x27ab("0xea")][_0x27ab("0x326")]="0px",this[_0x27ab("0x339")][_0x27ab("0xea")].height="0px",this[_0x27ab("0x339")].style.zIndex=1e3,this.startPoint.x=x[_0x27ab("0x3b2")],this.startPoint.y=x[_0x27ab("0x3b3")]},x[_0x27ab("0x2")][_0x27ab("0x8ee")]=function(x){this[_0x27ab("0x8eb")].x=Math[_0x27ab("0x33f")](this[_0x27ab("0x8ce")].x,x.clientX),this[_0x27ab("0x8eb")].y=Math.max(this[_0x27ab("0x8ce")].y,x[_0x27ab("0x3b3")]),this[_0x27ab("0x8ea")].x=Math.min(this[_0x27ab("0x8ce")].x,x[_0x27ab("0x3b2")]),this[_0x27ab("0x8ea")].y=Math[_0x27ab("0x340")](this.startPoint.y,x[_0x27ab("0x3b3")]),this[_0x27ab("0x339")][_0x27ab("0xea")][_0x27ab("0x183")]=this.pointTopLeft.x+"px",this[_0x27ab("0x339")].style[_0x27ab("0x184")]=this[_0x27ab("0x8ea")].y+"px",this.element[_0x27ab("0xea")][_0x27ab("0x326")]=this[_0x27ab("0x8eb")].x-this[_0x27ab("0x8ea")].x+"px",this[_0x27ab("0x339")][_0x27ab("0xea")][_0x27ab("0x1b7")]=this[_0x27ab("0x8eb")].y-this.pointTopLeft.y+"px"},x[_0x27ab("0x2")][_0x27ab("0x8ef")]=function(){this.element[_0x27ab("0x8f0")]&&this[_0x27ab("0x339")][_0x27ab("0x8f0")][_0x27ab("0x27")](this[_0x27ab("0x339")])},x}()},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=s(b(12)),e=s(b(13)),t=s(b(0)),i=s(b(1)),n=b(19),r=s(b(259));function s(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var o=function(){function x(a,b){(0,t[_0x27ab("0xb")])(this,x),this.map_=a,this.building=a.getBuildingById(b[_0x27ab("0xeb")]),this[_0x27ab("0x3ca")](b),this[_0x27ab("0x8f1")]={},this[_0x27ab("0xee")]=1,this[_0x27ab("0x8f2")]={}}var a;return(0,i.default)(x,[{key:_0x27ab("0x8f3"),value:function(x,a){var b=this.building[_0x27ab("0x8f4")][a][_0x27ab("0xb5")]-this[_0x27ab("0x4b")].floorEdges[a][_0x27ab("0xb9")],_=this[_0x27ab("0x4b")][_0x27ab("0x8f4")][a].maxy-this[_0x27ab("0x4b")][_0x27ab("0x8f4")][a][_0x27ab("0xba")],e={w:Math[_0x27ab("0x1da")](b),h:Math.round(_)},t=(0,n[_0x27ab("0x18")])();e.w=e.w*t[0]/15,e.h=e.h*t[1]/15;var i=1,r=x||8192;return(b>500||_>500)&&r>=8192&&(r=2048),(e.w>=r||e.h>=r)&&(e.w>=e.h?(i=e.h/e.w,e.w=r,e.h=r*i):(i=e.w/e.h,e.h=r,e.w=r*i)),e}},{key:_0x27ab("0x8f5"),value:function(x,a){var b={x:1-(x-this[_0x27ab("0x4b")].floorEdges[this[_0x27ab("0xee")]].minx)/(this[_0x27ab("0x4b")].floorEdges[this.fnum][_0x27ab("0xb5")]-this[_0x27ab("0x4b")].floorEdges[this[_0x27ab("0xee")]][_0x27ab("0xb9")]),y:1-(a-this[_0x27ab("0x4b")][_0x27ab("0x8f4")][this[_0x27ab("0xee")]][_0x27ab("0xba")])/(this[_0x27ab("0x4b")][_0x27ab("0x8f4")][this[_0x27ab("0xee")]].maxy-this[_0x27ab("0x4b")][_0x27ab("0x8f4")][this[_0x27ab("0xee")]][_0x27ab("0xba")])};return b.x=b.x*this.options[_0x27ab("0x326")],b.y=b.y*this[_0x27ab("0x33")].height,b}},{key:_0x27ab("0x3ca"),value:function(x){var a=this;a[_0x27ab("0x33")]={opacity:x[_0x27ab("0xc")](_0x27ab("0x103"))?x[_0x27ab("0x103")]:1,mapOpacity:x[_0x27ab("0xc")]("mapOpacity")?x[_0x27ab("0x8f6")]:1,radius:x[_0x27ab("0x638")]?x[_0x27ab("0x638")]:30,bshadow:x.radius?x[_0x27ab("0x638")]/20:1.5,maxSize:x[_0x27ab("0x8f7")]||8192,gendatas:!!x[_0x27ab("0x8f8")],backgroundColor:x.backgroundColor||_0x27ab("0xe4"),boundVal:15e3,duration:x.duration,shadowBlur:15,points:{max:x.max?x.max:100,data:[]},gradient:x[_0x27ab("0x8f9")]?x[_0x27ab("0x8f9")]:{.45:_0x27ab("0x8fa"),.55:"rgb(0,255,255)",.65:_0x27ab("0x8fb"),.95:_0x27ab("0x8fc"),1:_0x27ab("0x8fd")}};var b=document[_0x27ab("0x20")](_0x27ab("0x8fe")),_=b[_0x27ab("0x8ff")]("2d");a.options[_0x27ab("0x900")]=_,a[_0x27ab("0x33")][_0x27ab("0x8fe")]=b;var e=document.createElement(_0x27ab("0x8fe")),t=e.getContext("2d");a[_0x27ab("0x33")][_0x27ab("0x901")]=t,a.options[_0x27ab("0x902")]=e}},{key:_0x27ab("0x903"),value:function(x,a,b,_){var e=this,t=e[_0x27ab("0x33")][_0x27ab("0x901")],i=(e.options[_0x27ab("0x638")],e[_0x27ab("0x33")][_0x27ab("0x904")]),n=parseFloat(b/e.options[_0x27ab("0xec")][_0x27ab("0x33f")],10);t[_0x27ab("0x905")]="rgba(255, 255, 255, "+n+")",t.shadowOffsetX=i,t[_0x27ab("0x906")]=i,t.shadowBlur=e[_0x27ab("0x33")][_0x27ab("0x907")],t[_0x27ab("0x908")](),t[_0x27ab("0x909")](x-i,a-i,e[_0x27ab("0x33")][_0x27ab("0x638")],0,2*Math.PI,!0),t[_0x27ab("0x90a")](),t[_0x27ab("0x33d")]()}},{key:_0x27ab("0x90b"),value:function(x,a,b,_){var e=this,t=e[_0x27ab("0x33")][_0x27ab("0x900")],i=(e[_0x27ab("0x33")][_0x27ab("0x638")],e.options[_0x27ab("0x904")]),n=parseFloat(b/e[_0x27ab("0x33")][_0x27ab("0xec")][_0x27ab("0x33f")],10);t[_0x27ab("0x905")]="rgba(0, 0, 0, "+n+")",t.shadowOffsetX=i,t.shadowOffsetY=i,t[_0x27ab("0x907")]=e[_0x27ab("0x33")][_0x27ab("0x907")],t[_0x27ab("0x908")](),t[_0x27ab("0x909")](x-i,a-i,e[_0x27ab("0x33")][_0x27ab("0x638")],0,2*Math.PI,!0),t.closePath(),t[_0x27ab("0x33d")]()}},{key:"colorize",value:function(){for(var x=this,a=x.options[_0x27ab("0x326")],b=x[_0x27ab("0x33")][_0x27ab("0x1b7")],_=x[_0x27ab("0x33")][_0x27ab("0x900")],e=_[_0x27ab("0x90c")](0,0,a,b),t=e.data,i=t.length,n=x.getPalette(),r=x[_0x27ab("0x33")][_0x27ab("0x103")]?255*x[_0x27ab("0x33")][_0x27ab("0x103")]:25500,s=3;s<i;s+=4){var o=t[s],c=4*o;if(c){var l=o<r?o:r;t[s-3]=n[c],t[s-2]=n[c+1],t[s-1]=n[c+2],t[s]=l}}e.data[_0x27ab("0x123")](t),_[_0x27ab("0x90d")](e,0,0)}},{key:_0x27ab("0x90e"),value:function(x){var a=this;a[_0x27ab("0xee")]=x;var b=a[_0x27ab("0x33")],_=a[_0x27ab("0x8f3")](b[_0x27ab("0x8f7")],x),e=_.w,t=_.h;b[_0x27ab("0x326")]=e,b[_0x27ab("0x1b7")]=t,b[_0x27ab("0x8fe")][_0x27ab("0x326")]=e,b[_0x27ab("0x8fe")][_0x27ab("0x1b7")]=t,b[_0x27ab("0x902")].width=e,b[_0x27ab("0x902")][_0x27ab("0x1b7")]=t,this[_0x27ab("0x8f2")][x]||(this[_0x27ab("0x8f2")][x]={matTool:new(r[_0x27ab("0xb")])({duration:b.hasOwnProperty("duration")?b[_0x27ab("0x1ca")]:1,colorStr:b[_0x27ab("0x32c")]})})}},{key:_0x27ab("0x90f"),value:(a=(0,e[_0x27ab("0xb")])(_[_0x27ab("0xb")].mark((function x(a){var b,e,t,i,n,r,s,o,c,l,f,u,d,h;return _[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:if(e=(b=this)[_0x27ab("0x33")][_0x27ab("0x8fe")],t=new THREE.Texture(e),i=b[_0x27ab("0x33")][_0x27ab("0x8f6")],n=b.building[_0x27ab("0x61b")](a),r=null,t.needsUpdate=!0,b.HeatMapMaterials[a]&&b[_0x27ab("0x8f2")][a][_0x27ab("0x910")]){x[_0x27ab("0x2b8")]=7;break}return console[_0x27ab("0x257")]("应用"+a+_0x27ab("0x911")),x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 7:if(!n[_0x27ab("0x912")]){x[_0x27ab("0x2b8")]=16;break}return r=b[_0x27ab("0x8f2")][a][_0x27ab("0x913")],x[_0x27ab("0x2b8")]=11,b[_0x27ab("0x8f2")][a][_0x27ab("0x910")][_0x27ab("0x12b")](t);case 11:if(b[_0x27ab("0x8f2")][a]&&b[_0x27ab("0x8f2")][a][_0x27ab("0x910")][_0x27ab("0x356")]){x.next=13;break}return x.abrupt(_0x27ab("0x2be"));case 13:b[_0x27ab("0x8f2")][a][_0x27ab("0x910")][_0x27ab("0x356")][_0x27ab("0x10a")][_0x27ab("0x577")][_0x27ab("0xf8")].dispose(),x[_0x27ab("0x2b8")]=19;break;case 16:(r=b[_0x27ab("0x8f2")][a][_0x27ab("0x910")][_0x27ab("0x346")](t,new(THREE[_0x27ab("0x42d")])))[_0x27ab("0x127")].name=_0x27ab("0x914"),b[_0x27ab("0x8f2")][a].mat=r;case 19:a!=b.building[_0x27ab("0x915")]&&b[_0x27ab("0x4b")][_0x27ab("0x33")].focusAlphaMode,s=n[_0x27ab("0x916")](_0x27ab("0x592")),o=0;case 23:if(!(o<s.length)){x[_0x27ab("0x2b8")]=36;break}if(c=s[o],"heatmap"!=(l=c[_0x27ab("0xb3")][0])[_0x27ab("0x127")][_0x27ab("0xc5")]){x[_0x27ab("0x2b8")]=28;break}return x[_0x27ab("0x5e3")]("continue",33);case 28:c[_0x27ab("0xb1")][_0x27ab("0x1b0")](_0x27ab("0x917"),c[_0x27ab("0xb1")][_0x27ab("0x1af")]("uv")),c[_0x27ab("0xb1")].addAttribute("uv",c.geometry.getAttribute(_0x27ab("0x918"))),c[_0x27ab("0x127")][_0x27ab("0x919")]=l,f=c[_0x27ab("0xb3")][1],c.material=f?[r,f]:[r];case 33:o++,x[_0x27ab("0x2b8")]=23;break;case 36:u=n[_0x27ab("0x916")]([_0x27ab("0x235"),_0x27ab("0x597")]),d=n[_0x27ab("0x916")]([_0x27ab("0x236")]),h=function(x){x[_0x27ab("0x127")].originalStatus||(x[_0x27ab("0x127")][_0x27ab("0x91a")]={transparent:x[_0x27ab("0x102")],opacity:x.opacity,depthWrite:x[_0x27ab("0x91b")]},x[_0x27ab("0x102")]=!0,x.opacity=i,x[_0x27ab("0x91b")]=!1)},1!=i&&d[_0x27ab("0x1b")]((function(x){x[_0x27ab("0x133")]=0,x[_0x27ab("0x2a1")]((function(x){if(x[_0x27ab("0xb3")])if(x[_0x27ab("0xb3")]instanceof Array)for(var a in x.material)x[_0x27ab("0xb3")][a]&&h(x[_0x27ab("0xb3")][a]);else h(x[_0x27ab("0xb3")])}))})),u[_0x27ab("0x1b")]((function(x){var a=x[_0x27ab("0xb3")],b=a[0];b.userData[_0x27ab("0xc")]("opacity")||(b.userData[_0x27ab("0x102")]=b[_0x27ab("0x102")],b[_0x27ab("0x127")][_0x27ab("0x103")]=b.opacity),b[_0x27ab("0x102")]=!0,b[_0x27ab("0x103")]=i})),n[_0x27ab("0x912")]=!0;case 42:case _0x27ab("0x2d3"):return x.stop()}}),x,this)}))),function(x){return a.apply(this,arguments)})},{key:_0x27ab("0x91e"),value:function(x){var a=this,b=function(x){if(x.userData.originalStatus){var a=x[_0x27ab("0x127")].originalStatus;x[_0x27ab("0x102")]=a[_0x27ab("0x102")],x[_0x27ab("0x103")]=a[_0x27ab("0x103")],x[_0x27ab("0x91b")]=a[_0x27ab("0x91b")],x[_0x27ab("0x146")]=!0,x.map&&(x.map[_0x27ab("0x146")]=!0),x[_0x27ab("0x127")][_0x27ab("0x91a")]=null}};if(x){var _=a[_0x27ab("0x4b")][_0x27ab("0x61b")](x);if(!_._hasHeatMap||!this[_0x27ab("0x8f2")][x])return;if(1!=a[_0x27ab("0x33")][_0x27ab("0x8f6")])_.getObjectsByAlias([_0x27ab("0x236")])[_0x27ab("0x1b")]((function(x){x[_0x27ab("0x2a1")]((function(x){if(x[_0x27ab("0xb3")])if(x[_0x27ab("0xb3")]instanceof Array)for(var a in x.material)x[_0x27ab("0xb3")][a]&&b(x.material[a]);else b(x[_0x27ab("0xb3")])}))}));for(var e=_.getObjectsByAlias(_0x27ab("0x592")),t=0;t<e[_0x27ab("0x0")];t++){var i=e[t];i[_0x27ab("0xb1")][_0x27ab("0x1b0")]("uv",i[_0x27ab("0xb1")].getAttribute("originalUv"));var n=i.material[0];"heatmap"==n[_0x27ab("0x127")][_0x27ab("0xc5")]&&a.HeatMapMaterials[x][_0x27ab("0x910")][_0x27ab("0x356")]&&(a[_0x27ab("0x8f2")][x][_0x27ab("0x910")][_0x27ab("0x356")][_0x27ab("0x10a")][_0x27ab("0x577")]&&a[_0x27ab("0x8f2")][x][_0x27ab("0x910")][_0x27ab("0x356")][_0x27ab("0x10a")][_0x27ab("0x577")][_0x27ab("0xf8")][_0x27ab("0xb2")](),a[_0x27ab("0x8f2")][x][_0x27ab("0x910")][_0x27ab("0x356")][_0x27ab("0x10a")][_0x27ab("0x91f")]&&a[_0x27ab("0x8f2")][x][_0x27ab("0x910")][_0x27ab("0x356")][_0x27ab("0x10a")][_0x27ab("0x91f")][_0x27ab("0xf8")][_0x27ab("0xb2")]()),n[_0x27ab("0xb2")](),n=null;var r=i[_0x27ab("0xb3")][1],s=i.userData[_0x27ab("0x919")];s[_0x27ab("0x37")]&&(s[_0x27ab("0x37")][_0x27ab("0x146")]=!0),i[_0x27ab("0xb3")]=r?[s,r]:[s],_[_0x27ab("0x916")]([_0x27ab("0x235"),_0x27ab("0x597")])[_0x27ab("0x1b")]((function(x){x[_0x27ab("0xb3")][0][_0x27ab("0x102")]=x[_0x27ab("0xb3")][0][_0x27ab("0x127")][_0x27ab("0x102")],x[_0x27ab("0xb3")][0][_0x27ab("0x103")]=x[_0x27ab("0xb3")][0].userData[_0x27ab("0x103")]}))}this.HeatMapMaterials[x]=null,_[_0x27ab("0x912")]=!1}}},{key:_0x27ab("0x920"),value:function(){var x=document[_0x27ab("0x20")]("canvas"),a=x[_0x27ab("0x8ff")]("2d");x[_0x27ab("0x326")]=1,x[_0x27ab("0x1b7")]=256;var b=this.options[_0x27ab("0x8f9")],_=a.createLinearGradient(0,0,1,256);for(var e in b)_[_0x27ab("0x921")](e,b[e]);return a.fillStyle=_,a[_0x27ab("0x922")](0,0,1,256),a[_0x27ab("0x90c")](0,0,1,256)[_0x27ab("0x366")]}},{key:_0x27ab("0x923"),value:function(x,a,b){var _=this[_0x27ab("0x33")][_0x27ab("0xec")],e=_[_0x27ab("0x366")];b>_[_0x27ab("0x33f")]&&(_.max=b),e.push([x,a,b])}},{key:_0x27ab("0x924"),value:function(){this[_0x27ab("0x33")][_0x27ab("0xec")][_0x27ab("0x366")]=[],this[_0x27ab("0x69b")]()}},{key:_0x27ab("0x925"),value:function(x,a,b){if(x&&a&&b){var _=this[_0x27ab("0x8f5")](x,a);if(_){this[_0x27ab("0x90b")](_.x,_.y,b),this[_0x27ab("0x926")]()}}}},{key:"clear",value:function(){this[_0x27ab("0x33")][_0x27ab("0x900")][_0x27ab("0x927")](0,0,this[_0x27ab("0x33")].width,this[_0x27ab("0x33")][_0x27ab("0x1b7")])}},{key:_0x27ab("0x928"),value:function(){var x=this[_0x27ab("0x33")][_0x27ab("0x8fe")],a=this[_0x27ab("0x33")][_0x27ab("0x929")];return{mainTexture:new(THREE[_0x27ab("0x42d")])(x),copyTexture:new THREE.Texture(a)}}},{key:"addPoints",value:function(x){var a=this;a[_0x27ab("0x69b")]();for(var b=x[_0x27ab("0x0")],_=0;_<b;_++){var e=x[_][_0x27ab("0xf8")];if(e){var t=this[_0x27ab("0x8f5")](x[_].x,x[_].y);if(!t)return!0;a[_0x27ab("0x90b")](t.x,t.y,e,!1)}}a.colorize()}},{key:"randomPoints",value:function(x){var a=this,b=a.options[_0x27ab("0x326")],_=a[_0x27ab("0x33")][_0x27ab("0x1b7")],e=a[_0x27ab("0x33")][_0x27ab("0xec")][_0x27ab("0x33f")],t=a.options[_0x27ab("0x8f8")];a.clear();for(var i=0;i<x;i++){var n=Math[_0x27ab("0xdd")](Math[_0x27ab("0x2b")]()*b+1),r=Math[_0x27ab("0xdd")](Math.random()*_+1),s=Math[_0x27ab("0xdd")](Math[_0x27ab("0x2b")]()*e+1);a[_0x27ab("0x90b")](n,r,s),t&&a[_0x27ab("0x903")](n,r,s)}a[_0x27ab("0x926")]()}}]),x}();a[_0x27ab("0xb")]=o},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=i(b(8)),e=i(b(0)),t=i(b(1));function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a){var b=a[_0x27ab("0x574")],_=void 0===b?_0x27ab("0xe4"):b,t=a.isShowBackground,i=void 0===t||t,n=a[_0x27ab("0x1ca")],r=void 0===n?1:n;(0,e[_0x27ab("0xb")])(this,x),this[_0x27ab("0x92a")]=new THREE.Color(_),this[_0x27ab("0x92b")]=i,this[_0x27ab("0x1ca")]=r,this[_0x27ab("0x356")]=null}return(0,t.default)(x,[{key:_0x27ab("0x346"),value:function(x,a){var b=this,_=new THREE.MeshBasicMaterial({color:16777215,transparent:!0});return _[_0x27ab("0x109")]=function(_){_[_0x27ab("0x10a")].transFactor={value:0},_.uniforms[_0x27ab("0x92c")]={value:.8},_[_0x27ab("0x10a")][_0x27ab("0x577")]={value:x},_[_0x27ab("0x10a")][_0x27ab("0x91f")]={value:a},_[_0x27ab("0x10a")].bgColor={value:b[_0x27ab("0x92a")]},_.vertexShader=_[_0x27ab("0x10e")][_0x27ab("0x111")]("#include <uv_pars_vertex>",_0x27ab("0x92d")),_.vertexShader=_[_0x27ab("0x10e")][_0x27ab("0x111")]("#include <uv_vertex>",_0x27ab("0x92e")),_[_0x27ab("0x113")]=_.fragmentShader[_0x27ab("0x111")](_0x27ab("0x114"),"\n                "+(b[_0x27ab("0x92b")]?"#define IS_BG":"")+"\n\n\t\t\t\tuniform float opacity;\n                uniform float transFactor;\n                uniform float texLightFactor;\n                uniform sampler2D texture1;\n                uniform sampler2D texture2;\n                uniform vec3 bgColor;\n                \n                varying vec2 vUV;\n                "),_[_0x27ab("0x113")]=_[_0x27ab("0x113")][_0x27ab("0x111")](_0x27ab("0x116"),_0x27ab("0x92f")),b.shader=_},_}},{key:"update",value:function(x){var a=this,b=this;return new(_[_0x27ab("0xb")])((function(_){x?(x[_0x27ab("0x146")]=!0,b.shader?(a[_0x27ab("0x356")][_0x27ab("0x10a")][_0x27ab("0x91f")].value=x,b[_0x27ab("0x930")]&&b[_0x27ab("0x930")].stop(),b[_0x27ab("0x930")]=new(esmap[_0x27ab("0x1cc")].Tween)({x:0}).to({x:1},1e3*b.duration)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x137")]((function(x){b[_0x27ab("0x356")].uniforms[_0x27ab("0x931")][_0x27ab("0xf8")]=x.x}))[_0x27ab("0x1d2")](_).start()):_()):_()}))}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=S(b(10)),e=S(b(52)),t=S(b(8)),i=S(b(12)),n=S(b(13)),r=S(b(2)),s=S(b(63)),o=S(b(4)),c=S(b(0)),l=S(b(1)),f=S(b(5)),u=S(b(6)),d=S(b(92)),h=b(11),g=b(33),v=S(b(267)),p=S(b(67)),A=S(b(68)),m=S(b(283)),C=b(19),I=S(b(287)),y=S(b(288)),E=S(b(135)),w=b(95),T=S(b(299)),k=S(b(300));function S(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var M=0,R={},L=!1,H=void 0,D=null,P=0,O=function(x){function a(x){(0,c[_0x27ab("0xb")])(this,a);var b=(0,f.default)(this,(a[_0x27ab("0x1db")]||(0,o[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,x));b.__lastPhi=0,b[_0x27ab("0x932")]=!1,b[_0x27ab("0x933")]=[],b.lastSelectModelStore=[],b.lastSelectLineStore=[],b[_0x27ab("0x934")]=null,window[_0x27ab("0x37")],b[_0x27ab("0x935")]=new THREE.TextureLoader,b.TEXTURE_LOADER[_0x27ab("0x74b")]=_0x27ab("0x743");var _=b;_[_0x27ab("0x936")]=!1,_.version=_0x27ab("0x937"),b[_0x27ab("0x296")][_0x27ab("0x938")]=0,b[_0x27ab("0x296")][_0x27ab("0x939")]=1,b[_0x27ab("0x296")][_0x27ab("0x2e8")]=17e3,b[_0x27ab("0x33")].editMode&&(b.options[_0x27ab("0x93a")]=!0,b[_0x27ab("0x33")][_0x27ab("0x226")]=!1),b[_0x27ab("0x93b")]=!0,b[_0x27ab("0xfc")]=new(esmap[_0x27ab("0x5bf")])(b[_0x27ab("0x33")]),b[_0x27ab("0x15d")]=new(esmap[_0x27ab("0x93c")])(b,b[_0x27ab("0xfc")]),b[_0x27ab("0x175")]=new(y[_0x27ab("0xb")])(b),b.zonTempObj=new(E[_0x27ab("0xb")])(!0,b[_0x27ab("0x614")].sceneOrtho,b[_0x27ab("0x33")]),b.controls[_0x27ab("0x2f")](_0x27ab("0x93d"),b[_0x27ab("0x93e")].bind(b)),b.viewMode_="3D",b[_0x27ab("0x196")]=b.mapView[_0x27ab("0x613")],b.fullSceen_=!1,b[_0x27ab("0x93f")]=!1,b.firstCameraPos=new(THREE[_0x27ab("0xe7")]),b[_0x27ab("0x940")]=new(THREE[_0x27ab("0xe7")]),b[_0x27ab("0x941")]=new(esmap[_0x27ab("0x942")])(b),b.flyController=new(m[_0x27ab("0xb")])(b,b[_0x27ab("0x296")]),b[_0x27ab("0x943")]={},b.DEFAULT_COORDSYSTEM=_0x27ab("0x1d9"),(e=b).on(_0x27ab("0x944"),(function(){e[_0x27ab("0x945")]()})),b[_0x27ab("0x946")]=[.025,.03,.045,.055,.07,.085,.09,.1,.12,.14,.18,.25,.3,.4,.5,.65,.72,.81,.89,.95,1.02,1.1,1.2],b[_0x27ab("0x947")]=12,b[_0x27ab("0x948")]=new(THREE[_0x27ab("0x239")]),b[_0x27ab("0x949")]=new(THREE[_0x27ab("0x239")]),b._selectModelAlpha=1,b[_0x27ab("0x94a")]={},b[_0x27ab("0x94b")]=[],b[_0x27ab("0x94c")]=0,b[_0x27ab("0x29e")]=!0,b[_0x27ab("0x94d")]={},b[_0x27ab("0x94e")]=null,b[_0x27ab("0x634")]=[],esmap.ESMap.instance=b;var e=b;b.on("resize",b[_0x27ab("0x94f")]),b.zonTempObj.init(),b[_0x27ab("0x950")]=!1,b[_0x27ab("0x951")]=16,b.firstPersonControls=new THREE.FirstPersonControls(b.currentCamera,b[_0x27ab("0x614")].container),b[_0x27ab("0x952")]=!1,b[_0x27ab("0x953")][_0x27ab("0x581")]=!1,esmap[_0x27ab("0x1cc")][_0x27ab("0x37")]=b,b[_0x27ab("0x954")](),b.on("update",(function(x){e[_0x27ab("0x953")][_0x27ab("0x12b")](x),esmap.TWEEN[_0x27ab("0x12b")]()})),b.on(_0x27ab("0x13c"),(function(){_[_0x27ab("0x936")]||(_[_0x27ab("0x936")]=!0)})),b.on(_0x27ab("0x955"),(function(){b[_0x27ab("0x33")][_0x27ab("0x216")]&&(b[_0x27ab("0x155")][_0x27ab("0x216")]=!0)})),b.on(_0x27ab("0x956"),(function(){b[_0x27ab("0x33")][_0x27ab("0x216")]&&(b[_0x27ab("0x155")][_0x27ab("0x216")]=!0)})),b.on(_0x27ab("0x957"),(function(){b[_0x27ab("0x33")][_0x27ab("0x216")]&&(b.mapPicker[_0x27ab("0x216")]=!0)})),b[_0x27ab("0x958")]=new(esmap[_0x27ab("0x5c7")])(b[_0x27ab("0x155")],b[_0x27ab("0x296")]),b[_0x27ab("0x959")]=[],b.localMoveTo=b.moveTo;var t=new CustomEvent("ESMapInited",{});return window.dispatchEvent(t),b}var v,S,O,B;return(0,u[_0x27ab("0xb")])(a,x),(0,l[_0x27ab("0xb")])(a,[{key:_0x27ab("0x95a"),value:function(){this.cssFuncs[_0x27ab("0x1b")]((function(x){x()}))}},{key:_0x27ab("0x954"),value:function(){for(var x=this[_0x27ab("0x33")][_0x27ab("0x95b")],a=(24-x)/24,b=[],_=0;_<24;_++)b.push(x+_*a);b=b[_0x27ab("0x313")](),this[_0x27ab("0x95c")]=b}},{key:"restoreArea",value:function(x){var a=this[_0x27ab("0x943")][x];for(var b in a){var _=a[b],e=this[_0x27ab("0x322")](b);e||(a[b]=null);var t=e.layerManager[_0x27ab("0x1a3")](esmap[_0x27ab("0x17d")][_0x27ab("0x639")]);if(t[0])for(var i=(t=t[0])[_0x27ab("0xaf")][_0x27ab("0xb0")],n=0;n<i[_0x27ab("0x0")];n++)for(var r=i[n],s=r[_0x27ab("0xae")].brothers,o=r.geometry,c=0;c<s[_0x27ab("0x0")];c++){var l=s[c],f=_[_0x27ab("0xd1")](l.ID);f>-1&&(_[_0x27ab("0x157")](f,1),o[_0x27ab("0x95d")](l.ID))}}this[_0x27ab("0x943")][x]=null}},{key:_0x27ab("0x95e"),value:function(x){var a=this;if(!a[_0x27ab("0x952")]){for(var b in a.firstPersonControls[_0x27ab("0x732")]=!1,a[_0x27ab("0x953")].lastCruAngle=0,a.firstPersonControls.nextPos=null,a[_0x27ab("0x953")].cruisingAngle=0,a[_0x27ab("0x95f")])a[_0x27ab("0x95f")][b]&&a[_0x27ab("0x95f")][b][_0x27ab("0x1c4")]();a[_0x27ab("0x95f")]=[],x[_0x27ab("0x960")]?(x[_0x27ab("0x961")]&&this[_0x27ab("0x28d")]({angle:a[_0x27ab("0x962")][_0x27ab("0x963")]}),a[_0x27ab("0x964")]=!1,x[_0x27ab("0x961")]?new esmap.TWEEN.Tween(a).to({tiltAngle:a[_0x27ab("0x962")][_0x27ab("0x965")]},1e3).easing(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x1d2")]((function(){a[_0x27ab("0x966")](a[_0x27ab("0x962")][_0x27ab("0x967")],{callback:function(){esmap[_0x27ab("0x80")][_0x27ab("0x968")](a[_0x27ab("0x962")][_0x27ab("0x969")]),_()}})}))[_0x27ab("0x1d5")]():_()):_()}function _(){x[_0x27ab("0x1d6")]&&x[_0x27ab("0x1d6")]()}}},{key:_0x27ab("0x96a"),value:function(x){for(var a=x.id,b=x[_0x27ab("0x637")],_=0;_<this[_0x27ab("0x15d")][_0x27ab("0x96b")][_0x27ab("0x0")];_++){var e=this[_0x27ab("0x15d")][_0x27ab("0x96b")][_];if(e.id===a||e[_0x27ab("0x637")]===b)return e}return null}},{key:"cruisingByPoints",value:function(x){var a=null;function b(x,a){var b=new(THREE[_0x27ab("0xe7")])(0,0,1),_=new THREE.Vector3(x.x,0,x.y),e=new(THREE[_0x27ab("0xe7")])(a.x,0,a.y).clone()[_0x27ab("0x2f3")](_)[_0x27ab("0x2f4")](),t=e[_0x27ab("0x265")](b)*THREE[_0x27ab("0x28e")][_0x27ab("0x2f5")];return e.clone()[_0x27ab("0x264")](b).y>0?360-t:t}function _(x,i){if(x!=i[_0x27ab("0x0")]){var n=(0,h[_0x27ab("0xd6")])(i[x-1],i[x])/(i[x-1][_0x27ab("0x30f")]||t[_0x27ab("0x30f")]);!function(){if(0!=e.firstPersonControls[_0x27ab("0x732")]){var r={x:i[x-1].x,y:i[x-1].y},s={x:i[x].x,y:i[x].y};i[x][_0x27ab("0x823")]&&esmap[_0x27ab("0x80")][_0x27ab("0x5f4")](e,_0x27ab("0x218"),{nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0x232")],ID:i[x][_0x27ab("0x823")].id},(function(a){a[_0x27ab("0x0")]>0&&a[0][_0x27ab("0x96c")](i[x][_0x27ab("0x823")].action)}));var o=b(r,s),c=!1;null!=a&&Math[_0x27ab("0x274")](a-o)>10&&(c=!0),a=o;var l=90-o;c&&e[_0x27ab("0x28d")]({angle:l,time:t.rotateTime});var f=new(esmap.TWEEN[_0x27ab("0x1cd")])(r).to(s,1e3*n).easing(esmap.TWEEN[_0x27ab("0x1cf")][_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x137")]((function(a){i[x-1].x,i[x-1].y;var b={x:i[x-1].x+a[_0x27ab("0xf8")]*(i[x].x-i[x-1].x),y:i[x-1].y+a.value*(i[x].y-i[x-1].y)};e[_0x27ab("0x953")].nextPos=b}))[_0x27ab("0x1d2")]((function(){_(x+=1,i)})).start();e[_0x27ab("0x95f")].push(f)}}()}else e[_0x27ab("0x95e")]({callback:t[_0x27ab("0x96d")],needAnimate:t[_0x27ab("0x96e")]})}var e=this;e[_0x27ab("0x95f")]=[];var t=(0,r.default)({speed:1,lookSpeed:.05,userIntersecting:!1,exitModeOnEnd:!0,beforeStart:null,afterEnd:null,easeIn:!0,easeOut:!0,rotateTime:1.2,lookVertical:!0,fnum:e[_0x27ab("0x915")],scaleRate:.025,height:2},x),i=x.points;e.beforeCruiseState={originalControlState:esmap[_0x27ab("0x80")][_0x27ab("0x96f")](),originalScaleLevel:map[_0x27ab("0x243")],originalTiltAngle:map.tiltAngle,originalRotateAngle:map[_0x27ab("0x269")]};var n=b(i[0],i[1]);function s(){t[_0x27ab("0x971")]&&t[_0x27ab("0x971")](),e[_0x27ab("0x952")]=!1;var x=e.controls[_0x27ab("0x1c")].position[_0x27ab("0xe2")]();e.controls[_0x27ab("0x581")]=!1,e[_0x27ab("0x964")]=!0,e[_0x27ab("0x953")][_0x27ab("0x723")]=t[_0x27ab("0x723")],e[_0x27ab("0x953")].movementSpeed=1,e[_0x27ab("0x953")][_0x27ab("0x705")]=t[_0x27ab("0x705")],e[_0x27ab("0x953")][_0x27ab("0x972")]=!1,e[_0x27ab("0x953")][_0x27ab("0x706")]=t[_0x27ab("0x706")],e[_0x27ab("0x953")][_0x27ab("0x732")]=!0,o[_0x27ab("0x973")]({x:x.x,y:x.z}),_(1,o)}e.firstPersonAnimating=!0,t[_0x27ab("0x970")]?map.moveTo({time:1,x:i[0].x,y:i[0].y,callback:function(){e[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0x27d")](new(THREE[_0x27ab("0xe7")])(-i[0].x,t[_0x27ab("0x1b7")],i[0].y)),e[_0x27ab("0x296")][_0x27ab("0x12b")](),map[_0x27ab("0x28d")]({angle:n,time:.5,onComplete:function(){map[_0x27ab("0x33")].tileMode?map[_0x27ab("0x296")].pointToPointAnimate(19,4e3,(function(){new(esmap.TWEEN[_0x27ab("0x1cd")])(e).to({tiltAngle:89},1e3)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x281")].None)[_0x27ab("0x1d2")]((function(){s()}))[_0x27ab("0x1d5")]()})):map.scaleLevelTo(t.scaleRate,{time:1,rawLevel:!0,callback:function(){new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(e).to({tiltAngle:89},1e3)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x1d2")]((function(){s()})).start()}})}})}}):s();var o=[];i[_0x27ab("0x1b")]((function(x){o.push({x:-x.x,y:x.y,speed:x.speed||null,animation:x[_0x27ab("0x823")]||null})}))}},{key:"initCssScene",value:function(){var x=[];this[_0x27ab("0x614")][_0x27ab("0x974")]=1;var a=new(THREE[_0x27ab("0x6db")]);this[_0x27ab("0x614")].rendererCss=a;var b=this.currentCamera,_=new(THREE[_0x27ab("0x881")])(b[_0x27ab("0x618")],b[_0x27ab("0x619")],1*b[_0x27ab("0x5a1")],1*b[_0x27ab("0x975")]),e=this;x.push((function(){_[_0x27ab("0x27d")](b),L?(e.deltaVec3[_0x27ab("0x8a8")](b.position,e[_0x27ab("0x976")]),_[_0x27ab("0xc3")][_0x27ab("0x27d")](e[_0x27ab("0x940")])[_0x27ab("0x28c")](1)):(e[_0x27ab("0x976")][_0x27ab("0x27d")](b[_0x27ab("0xc3")]),L=!0)})),this.mapView[_0x27ab("0x977")]=_;var t=new(THREE[_0x27ab("0x3de")]);this[_0x27ab("0x614")].cssScene=t,this.autoUpdateObjects=!0,x[_0x27ab("0x1")](function(){!0===this[_0x27ab("0x978")]&&t.traverse((function(x){if(x instanceof THREE[_0x27ab("0x3de")]!=!0){var a=x[_0x27ab("0x127")][_0x27ab("0x979")];void 0!==a&&a[_0x27ab("0x12b")]()}}))}.bind(this)),x.push((function(x,b){a[_0x27ab("0x57e")](t,_)})),this[_0x27ab("0x97a")]=x}},{key:_0x27ab("0x94f"),value:function(x){this.zonTempObj.updateHUD(x[_0x27ab("0x326")],x[_0x27ab("0x1b7")])}},{key:_0x27ab("0x97b"),value:function(x){var a=null;if(this[_0x27ab("0xf4")](x))console[_0x27ab("0x3f4")]("建筑已处于打开状态！");else{var b=(new Date)[_0x27ab("0x7c")]();this[_0x27ab("0x97c")]?a=b-this[_0x27ab("0x97c")]:this.tl_=b,this[_0x27ab("0x97c")]=b,a&&a<=1e3&&console.info(esmap.ESInfo[_0x27ab("0x97d")]),esmap[_0x27ab("0x32")].IsMapLoading?this[_0x27ab("0x169")][_0x27ab("0x97e")]=x:this[_0x27ab("0x97f")]({id:x})}}},{key:_0x27ab("0x26a"),value:function(x){if(x){var a=this,b=this.mapView[_0x27ab("0x613")][_0x27ab("0xc3")].clone();b.y=this[_0x27ab("0x296")].target.y;var _=this.coordMapToThree({x:x.x,y:x.y});_.y=b.y;var e=a[_0x27ab("0x296")].target[_0x27ab("0xe2")](),t=_.clone()[_0x27ab("0x2f3")](e);this.__moveToId&&this[_0x27ab("0x934")][_0x27ab("0x1c4")](),this[_0x27ab("0x934")]=esmap[_0x27ab("0x1cc")][_0x27ab("0x655")](null==x[_0x27ab("0x1cb")]?a[_0x27ab("0x33")][_0x27ab("0x211")]?a[_0x27ab("0x33")][_0x27ab("0x212")]:0:x[_0x27ab("0x1cb")],(function(x){var _=e.clone().add(t.clone()[_0x27ab("0x28c")](x[_0x27ab("0xf8")]));a[_0x27ab("0x296")][_0x27ab("0x295")].x=_.x,a[_0x27ab("0x296")][_0x27ab("0x295")].z=_.z,_0x27ab("0x184")==a[_0x27ab("0x1fe")]&&a[_0x27ab("0x614")][_0x27ab("0x613")].position[_0x27ab("0x27d")](b[_0x27ab("0xe2")]()[_0x27ab("0x163")](t[_0x27ab("0xe2")]().multiplyScalar(x[_0x27ab("0xf8")]))),a.controls[_0x27ab("0x12b")]({forceTheta:a[_0x27ab("0x296")][_0x27ab("0x306")](),forcePhi:a[_0x27ab("0x296")][_0x27ab("0x307")]()})}),esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")].InOut,(function(){a[_0x27ab("0x945")](),x[_0x27ab("0x1d6")]&&x[_0x27ab("0x1d6")]()}))}}},{key:"disposeBuilding",value:function(x){for(var a=this,b=this.getBuildingById(x),_=0;_<this[_0x27ab("0x634")][_0x27ab("0x0")];_++)if(this[_0x27ab("0x634")][_].id==x){this[_0x27ab("0x634")][_0x27ab("0x157")](_,1);break}var e=b[_0x27ab("0x980")];for(var t in e.toHandle={},e.modelLayers={},e[_0x27ab("0x981")]={},e[_0x27ab("0x982")]={},this[_0x27ab("0x1fe")]={mode:"3D",time:0,init:!1},e[_0x27ab("0x983")]=[],e[_0x27ab("0x984")]=[],e[_0x27ab("0x985")]={},e[_0x27ab("0x986")]={},e[_0x27ab("0x987")]={},e.modelMats={},e.cleared=!1,e[_0x27ab("0x988")]={},b[_0x27ab("0x161")].modelStore={},b[_0x27ab("0x161")][_0x27ab("0x989")]=[],b[_0x27ab("0x161")][_0x27ab("0x98a")]=[],b[_0x27ab("0x161")][_0x27ab("0x308")]=!1,b.modelLoadManager[_0x27ab("0x29f")]=!1,e[_0x27ab("0x98b")]=!1,b[_0x27ab("0x98c")]=!1,b[_0x27ab("0x626")])for(var i=b[_0x27ab("0x626")][t],n=0;n<i[_0x27ab("0xb0")][_0x27ab("0x0")];n++)for(var r=i[_0x27ab("0xb0")][n],s=0;s<r[_0x27ab("0xb0")].length;s++)r.remove(r[_0x27ab("0xb0")][s]),s--;this[_0x27ab("0xfc")][_0x27ab("0x98d")]={},this.on(_0x27ab("0x12b"),(function(x){a[_0x27ab("0x953")][_0x27ab("0x12b")](x),esmap[_0x27ab("0x1cc")][_0x27ab("0x12b")]()})),b[_0x27ab("0xaf")][_0x27ab("0xc7")].remove(b[_0x27ab("0xaf")]),this[_0x27ab("0x15d")].clear(b[_0x27ab("0xaf")])}},{key:"openMapById",value:function(x){this[_0x27ab("0x175")].cache[_0x27ab("0x35")]=x,this[_0x27ab("0x98e")]({id:x})}},{key:_0x27ab("0x98f"),value:function(){this[_0x27ab("0x169")][_0x27ab("0x2c9")](),this[_0x27ab("0x175")][_0x27ab("0x2c9")](),this[_0x27ab("0x950")]=!1}},{key:_0x27ab("0x98e"),value:(B=(0,n[_0x27ab("0xb")])(i[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){var b,_,e,t,n,r,s,o,c,l,f=this;return i.default[_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:if(b=a.id,_=new CustomEvent(_0x27ab("0x30"),{detail:{id:b}}),this.id,window[_0x27ab("0x701")](_),e=this[_0x27ab("0x33")],esmap[_0x27ab("0x32")][_0x27ab("0x990")]=!0,this[_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x1f1")]?this[_0x27ab("0x296")][_0x27ab("0x991")]=Math.PI/2.2:this[_0x27ab("0x296")].maxPolarAngle=Math.PI/2.5,e[_0x27ab("0x34")]!==esmap[_0x27ab("0x39")].Building){x.next=35;break}return this.id&&this.disposeBuilding(this.id),this.id=b,this[_0x27ab("0x192")]=_0x27ab("0x1d9"),(t=(0,w[_0x27ab("0x1ee")])(this[_0x27ab("0x33")])).id=b,x.next=15,this[_0x27ab("0x175")][_0x27ab("0x992")](t);case 15:n=x[_0x27ab("0x5dc")],r=n[_0x27ab("0x17a")],this[_0x27ab("0x1e7")](_0x27ab("0x993"),{bid:b,data:r.navs}),this[_0x27ab("0x994")][_0x27ab("0x1a0")][b]=r[_0x27ab("0x44b")],this[_0x27ab("0x946")]=n.scaleLevels_,this[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]&&(this[_0x27ab("0x175")][_0x27ab("0x995")](_0x27ab("0x996"),r[_0x27ab("0xc5")]),this[_0x27ab("0x175")][_0x27ab("0x995")](_0x27ab("0x997"),r[_0x27ab("0x43e")])),this[_0x27ab("0x15d")].userScene=n,this[_0x27ab("0x94e")]=n,this.mapScene[_0x27ab("0x998")]({maxX:r.maxX,maxY:r[_0x27ab("0x449")],minX:r[_0x27ab("0x446")],minY:r.minY,centerX:r[_0x27ab("0x444")],centerY:r[_0x27ab("0x45f")]},!0,r),this[_0x27ab("0x614")][_0x27ab("0xed")]={x:r.DefaultCenX,y:r[_0x27ab("0x45f")]},this[_0x27ab("0x999")](),this[_0x27ab("0x99a")](n)||(null!=this[_0x27ab("0x33")].defaultScaleLevel?this[_0x27ab("0x296")][_0x27ab("0x297")](this[_0x27ab("0x946")][this[_0x27ab("0x33")][_0x27ab("0x21b")]]):null!=this.options[_0x27ab("0x168")]?this.mapView.zoomLevel=this[_0x27ab("0x33")][_0x27ab("0x168")]:this[_0x27ab("0x296")].setScaleLevelValue(this.scaleLevels_[r[_0x27ab("0x443")]])),s=this[_0x27ab("0x33")].perspective?0:1,this[_0x27ab("0xfc")][_0x27ab("0x99b")]=s,null==this[_0x27ab("0xfc")][_0x27ab("0x99c")]&&this[_0x27ab("0x99d")](this[_0x27ab("0xfc")][_0x27ab("0x99e")],s),this[_0x27ab("0x99f")](),this.initMap(),x.next=73;break;case 35:if(e[_0x27ab("0x34")]!==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]){x[_0x27ab("0x2b8")]=73;break}return this.id=b,this[_0x27ab("0x175")].tileService.init(),x[_0x27ab("0x2b8")]=40,this[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a0")]();case 40:if(x.sent){x[_0x27ab("0x2b8")]=43;break}return x[_0x27ab("0x5e3")]("return");case 43:return this[_0x27ab("0x33")].center&&(o=this.coordMapToThree(this[_0x27ab("0x33")].center),this[_0x27ab("0x296")][_0x27ab("0x295")].x=o.x,this.controls[_0x27ab("0x295")].z=o.z),c=this.options[_0x27ab("0x20c")]||0,this[_0x27ab("0x269")]=c,l=null==this.options[_0x27ab("0x20d")]?60:this[_0x27ab("0x33")][_0x27ab("0x20d")],this[_0x27ab("0x9a1")]=l,this[_0x27ab("0x175")][_0x27ab("0x819")][_0x27ab("0x31")](e.id),x[_0x27ab("0x2b7")]=49,x[_0x27ab("0x2b8")]=52,this[_0x27ab("0x175")][_0x27ab("0x169")].queryTileTheme(_0x27ab("0xbd"));case 52:x[_0x27ab("0x2b8")]=58;break;case 54:return x[_0x27ab("0x2b7")]=54,x.t0=x[_0x27ab("0x825")](49),console[_0x27ab("0x257")](x.t0),x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 58:return this.on("modelLoadComplete",(function(){if(0==f[_0x27ab("0x169")][_0x27ab("0x9a2")][_0x27ab("0x0")]&&0==f[_0x27ab("0x169")][_0x27ab("0x9a3")].length){f[_0x27ab("0x175")][_0x27ab("0x9a4")]=!0;var x=f[_0x27ab("0x9a5")],a=!0;for(var b in x){var _=x[b],e=_[_0x27ab("0x161")].queue[_0x27ab("0x0")],t=_.modelLoadManager.requisitesQueue[_0x27ab("0x0")],i=0;for(var n in _[_0x27ab("0x161")][_0x27ab("0x9a6")]){var r=_[_0x27ab("0x161")].mergeQueue[n];for(var s in r)i+=r[s][_0x27ab("0x0")]}if(e>0||t>0||i>0){a=!1;break}}f.mapService[_0x27ab("0x9a7")]||!a||f.tileService[_0x27ab("0x97e")]||(f.mapService[_0x27ab("0x9a7")]=!0,f[_0x27ab("0x1e7")](_0x27ab("0x9a8")),f[_0x27ab("0x1e7")](_0x27ab("0x9a7"),{bid:f.id}))}})),x[_0x27ab("0x2b7")]=59,x[_0x27ab("0x2b8")]=62,this[_0x27ab("0x169")][_0x27ab("0x9a9")]();case 62:x[_0x27ab("0x2b8")]=66;break;case 64:x[_0x27ab("0x2b7")]=64,x.t1=x[_0x27ab("0x825")](59);case 66:return x.prev=66,this[_0x27ab("0x999")](),this[_0x27ab("0x9aa")](),this.tileService[_0x27ab("0x97e")]?(this[_0x27ab("0x175")][_0x27ab("0x9ab")]=!0,this[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0xf6")]=!1,this[_0x27ab("0x169")].openBuilding({mapId:this[_0x27ab("0x169")][_0x27ab("0x97e")]},null,!0,!1).then((function(x){console[_0x27ab("0x362")]("building loaded",x),console[_0x27ab("0x362")](_0x27ab("0x9ac")),f[_0x27ab("0x99a")](x)||(null!=f[_0x27ab("0x33")].defaultScaleLevel?f.controls[_0x27ab("0x297")](f[_0x27ab("0x946")][f[_0x27ab("0x33")][_0x27ab("0x21b")]]):f[_0x27ab("0x296")][_0x27ab("0x297")](f.scaleLevels_[x.sourceData[_0x27ab("0x443")]]))})),this[_0x27ab("0x1e0")](_0x27ab("0x9ad"),(function(x){x[_0x27ab("0xeb")]===f[_0x27ab("0x169")][_0x27ab("0x97e")]&&(f[_0x27ab("0x175")]._disableTileUpdate=!1,esmap[_0x27ab("0x9ae")]&&esmap[_0x27ab("0x9ae")][_0x27ab("0x9af")][_0x27ab("0x9b0")](!0),f.mapScene[_0x27ab("0x1bf")][_0x27ab("0xf6")]=!0,f[_0x27ab("0x169")][_0x27ab("0x97e")]=null,f[_0x27ab("0x9b1")](),f[_0x27ab("0x936")]=!0,f[_0x27ab("0x296")][_0x27ab("0x9b2")]())}))):(this[_0x27ab("0x9b1")](),this[_0x27ab("0x936")]=!0),this.on(_0x27ab("0x9b3"),(function(){P+=1})),this.on("buildingLoadComplete",(function(){P-=1})),x[_0x27ab("0x9b4")](66);case 73:case _0x27ab("0x2d3"):return x.stop()}}),x,this,[[49,54],[59,64,66,73]])}))),function(x){return B[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0x9b5"),value:function(){var x=this;return new(t[_0x27ab("0xb")])((function(a,b){var _,e;0==x[_0x27ab("0x33")][_0x27ab("0x71")]?R[0]?_=R[0]:(e=x[_0x27ab("0x33")][_0x27ab("0x9b6")]+"/"+_0x27ab("0x9b7"),(_=new(T[_0x27ab("0xb")])({speed:1}))[_0x27ab("0x31")](e,(function(){})),R[0]=_):R[x.options.lang]?_=R[x[_0x27ab("0x33")].lang]:(e=x.options.mapAudioSrc+_0x27ab("0x9b8")+x[_0x27ab("0x33")][_0x27ab("0x71")]+".mp3",(_=new(k[_0x27ab("0xb")])({speed:1})).init(e,(function(){})),R[x[_0x27ab("0x33")][_0x27ab("0x71")]]=_),x.ESAudioTool=_}))[_0x27ab("0x825")]((function(x){console.info(esmap[_0x27ab("0x2bc")][_0x27ab("0x9b9")])}))}},{key:_0x27ab("0x9ba"),value:function(x){this[_0x27ab("0xfc")][_0x27ab("0x9bb")][_0x27ab("0x1b")]((function(a){a[_0x27ab("0xf6")]=x}))}},{key:_0x27ab("0x97f"),value:function(x){if(this[_0x27ab("0x169")][_0x27ab("0x9bc")][x.id]){var a=this[_0x27ab("0x169")].cacheBuildings[x.id],b=a.datas_,_=b[_0x27ab("0x9bd")];return _&&(6==_[_0x27ab("0xe1")]?_[_0x27ab("0xaf")]?esmap[_0x27ab("0x80")][_0x27ab("0x2a3")]({target:_[_0x27ab("0xaf")],alpha:.1,hideOnComplete:!0,time:1.5}):_[_0x27ab("0xf6")]=!1:5==_.nodeType&&(_[_0x27ab("0x1b7")]=1e4)),this[_0x27ab("0x15d")][_0x27ab("0x9be")][_0x27ab("0x163")](a),this.options[_0x27ab("0x9bf")]&&(this[_0x27ab("0x175")].getState("tilePlanished")?a.datas_.enter(!0):a[_0x27ab("0xae")][_0x27ab("0x9c0")]()),this[_0x27ab("0x634")][_0x27ab("0x1")](a[_0x27ab("0xae")]),a.visible=!0,this[_0x27ab("0x1e7")]("buildingLoadComplete",a.datas_),void b[_0x27ab("0x25e")]("modelLoadedAll",{bid:b.id})}var e=x.id,t=x[_0x27ab("0x26a")],i=void 0===t||t,n=x[_0x27ab("0x9c1")],r=(x.x,x.y,x.tileid,x[_0x27ab("0x9c2")],this.tileService[_0x27ab("0x5db")][e]),s=this;if(r){var o={x:r.x,y:r.y,callback:function(){s[_0x27ab("0x945")](),s[_0x27ab("0x169")][_0x27ab("0x9c3")](),n&&n()}};i?(s[_0x27ab("0x26a")](o),s.tileService[_0x27ab("0x9c4")][_0x27ab("0xd1")](e)<0&&s[_0x27ab("0x169")][_0x27ab("0x9c4")][_0x27ab("0x1")](e)):(s[_0x27ab("0x169")].toLoadedBuildings[_0x27ab("0xd1")](e)<0&&s[_0x27ab("0x169")][_0x27ab("0x9c4")].push(e),s.updateTileView(),s.tileService[_0x27ab("0x9c3")]())}else console[_0x27ab("0x257")](_0x27ab("0x9c5"))}},{key:_0x27ab("0x9c6"),value:function(x){this.o_count++;this.loadTile_(x)}},{key:_0x27ab("0x9c7"),value:function(x){for(var a=this.getBuildingById(0),b=a.o3d_.children,_=0;_<b[_0x27ab("0x0")];_++)if(b[_][_0x27ab("0xae")]){var e=b[_][_0x27ab("0xae")];if(e.ID&&e.ID==x){for(var t=0;t<b[_][_0x27ab("0xb0")][_0x27ab("0x0")];t++){var i=b[_].children[t],n=this[_0x27ab("0x155")][_0x27ab("0x156")][_0x27ab("0xb")][_0x27ab("0xd1")](i);i[_0x27ab("0x580")]=null,i.dispose(),i[_0x27ab("0x37")]=null,i=null,n>-1&&this[_0x27ab("0x155")][_0x27ab("0x156")][_0x27ab("0xb")][_0x27ab("0x157")](n,1)}return void a[_0x27ab("0xaf")][_0x27ab("0x158")](b[_])}}}},{key:_0x27ab("0x9c8"),value:function(){var x=this.getBuildingById(0);if(x){for(var a=x[_0x27ab("0xaf")][_0x27ab("0xb0")],b=0;b<a.length;b++){var _=a[b];if(a[b].datas_&&35==a[b][_0x27ab("0xae")][_0x27ab("0xe1")]){for(var e=0;e<_[_0x27ab("0xb0")][_0x27ab("0x0")];e++){var t=_[_0x27ab("0xb0")][e];_.remove(t),e--}x[_0x27ab("0xaf")][_0x27ab("0x158")](a[b]),b--}}for(var i=this[_0x27ab("0x155")][_0x27ab("0x156")][_0x27ab("0xb")],n=0;n<i[_0x27ab("0x0")];n++)21==i[n][_0x27ab("0xe1")]&&(i[_0x27ab("0x157")](n,1),n--)}}},{key:_0x27ab("0x9c9"),value:function(x,a){var b=!(arguments[_0x27ab("0x0")]>2&&void 0!==arguments[2])||arguments[2];function _(a){x[_0x27ab("0xaf")][_0x27ab("0x163")](a);e[_0x27ab("0xf4")](a.bid);a[_0x27ab("0xb3")][_0x27ab("0xf6")]=!0,e[_0x27ab("0x9ca")](!0),t.pickable&&!x[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x9cb")]&&(x[_0x27ab("0xaf")][_0x27ab("0x127")].added=!0,e[_0x27ab("0x155")][_0x27ab("0x1bb")](a)),null!=t.height&&(a[_0x27ab("0xc3")].y+=t.height),t[_0x27ab("0x25")]=(0,h[_0x27ab("0x11")])(t,_0x27ab("0x25"),0),a.position.y+=t[_0x27ab("0x25")],a[_0x27ab("0x127")][_0x27ab("0x9cc")]=a[_0x27ab("0xc3")].y}var e=this,t=x[_0x27ab("0xea")]||e[_0x27ab("0xfc")].navigateStyle_;t[_0x27ab("0x9cd")]=null==t[_0x27ab("0x9cd")]||t[_0x27ab("0x9cd")],t.segments=t.segments||null;var i=e[_0x27ab("0x9ce")](x[_0x27ab("0xec")]);if(!i){console[_0x27ab("0x2bb")](_0x27ab("0x9cf")),e.mapScene[_0x27ab("0x9d0")][_0x27ab("0x163")](x.o3d_);var n=void 0;if("texture"==t[_0x27ab("0x153")])n=new(p[_0x27ab("0xb")])([],t,!1);else{var s=(0,r[_0x27ab("0xb")])({doubleSide:!0},t);n=new(esmap[_0x27ab("0x9d1")])([],s,{},0)}return _(n),void(a&&a(n))}var o,c,l=i[0],f=l[_0x27ab("0x37")]((function(x){return(0,r[_0x27ab("0xb")])(new THREE.Vector3,x)}));o=x[_0x27ab("0xeb")]?e[_0x27ab("0xf4")](x[_0x27ab("0xeb")]):e[_0x27ab("0xf4")](0),b&&o[_0x27ab("0xaf")][_0x27ab("0x163")](x[_0x27ab("0xaf")]);var u=t.nobuildCurveZ||!0;t[_0x27ab("0x9cd")]||esmap[_0x27ab("0x80")][_0x27ab("0x5fb")](l),c=t.smooth?esmap[_0x27ab("0x644")][_0x27ab("0x5fc")](l,8,t[_0x27ab("0x9d2")]||.2,u):l;for(var d=[],g=[],v=0;v<c.length-1;v++){var A=c[v][_0x27ab("0xeb")],m=c[v+1].bid,C=d[d.length-1],I=g[g[_0x27ab("0x0")]-1];if(A==m)I!=A&&(g[_0x27ab("0x1")](A),d[_0x27ab("0x1")]([]),(C=d[d[_0x27ab("0x0")]-1])[_0x27ab("0x1")](c[v])),C||(d.push([]),C=d[d.length-1]),C[_0x27ab("0x1")](c[v+1]);else{g[_0x27ab("0x1")](A+_0x27ab("0x9d3")+m);var y=c[v][_0x27ab("0xe2")]();y[_0x27ab("0xee")]=c[v][_0x27ab("0xee")],y[_0x27ab("0xeb")]=c[v].bid;var E=c[v+1][_0x27ab("0xe2")]();E[_0x27ab("0xee")]=c[v+1].fnum,E[_0x27ab("0xeb")]=c[v+1][_0x27ab("0xeb")],d[_0x27ab("0x1")]([y,E])}}for(var w=0;w<g.length;w++){for(var T=d[w],k=[],S=[],M=0;M<T[_0x27ab("0x0")]-1;M++){var R=T[M][_0x27ab("0xee")],L=T[M+1].fnum,H=k[k[_0x27ab("0x0")]-1],D=S[S[_0x27ab("0x0")]-1];R==L?(D!=R&&(S.push(R),k.push([]),(H=k[k[_0x27ab("0x0")]-1])[_0x27ab("0x1")](T[M])),H||(k.push([]),H=k[k[_0x27ab("0x0")]-1]),H[_0x27ab("0x1")](T[M+1])):(S.push(R+"-&-"+L),k[_0x27ab("0x1")]([T[M],T[M+1]]))}for(var P=-1,O=0;O<S[_0x27ab("0x0")];O++){var B=S[O]+"",N=g[w]+"",F="",z=!1;B[_0x27ab("0xd1")]("-&-")>-1&&N[_0x27ab("0xd1")](_0x27ab("0x9d3"))<0?(z=!0,F=_0x27ab("0x9d4")+B,!0):N[_0x27ab("0xd1")](_0x27ab("0x9d3"))>-1&&(z=!0,F=_0x27ab("0x9d5")+N);var j=k[O];if(j&&0!=j[_0x27ab("0x0")]){P+=1;for(var U,X=0,Y=S[O],G=!1,Q=1;Q<f[_0x27ab("0x0")];Q++){var V=f[Q-1],W=f[Q];if(V[_0x27ab("0xeb")]==N&&W[_0x27ab("0xeb")]==N&&V.fnum==Y&&W[_0x27ab("0xee")]==Y)X+=(0,h[_0x27ab("0x9d6")])(V,W),G||(G=!0);else if(G)break}if("texture"==t[_0x27ab("0x153")])(U=new p.default(j,t,z)).bid_=N;else{var Z=(0,r[_0x27ab("0xb")])({doubleSide:!0},t);z&&(Z[_0x27ab("0x264")]=!0),(U=new(esmap[_0x27ab("0x9d1")])(j,Z,{},P))[_0x27ab("0x9d7")]=N}X&&(U[_0x27ab("0x9d8")]=X),z?U[_0x27ab("0xc5")]=F:U.name=g[w]+"",_(U),a&&a(U)}}}}},{key:_0x27ab("0x9d9"),value:function(x){var a=this,b=(0,r[_0x27ab("0xb")])({newTab:!1,filename:_0x27ab("0x9da"),download:!0,width:a[_0x27ab("0x614")].w_,height:a[_0x27ab("0x614")].h_},x),_=[a[_0x27ab("0x614")].w_,a[_0x27ab("0x614")].h_];if((b[_0x27ab("0x326")]>a[_0x27ab("0x614")].w_||b[_0x27ab("0x1b7")]>a.mapView.h_)&&(this[_0x27ab("0x175")].getState("ul")>>1&1||0)<1)return void console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")][_0x27ab("0x9db")]);a.mapView.resize(b[_0x27ab("0x326")],b[_0x27ab("0x1b7")]),a[_0x27ab("0x614")].renderer[_0x27ab("0x69b")](),"3D"==a[_0x27ab("0x9dc")]?a[_0x27ab("0x614")][_0x27ab("0x68c")].render(a[_0x27ab("0x614")][_0x27ab("0xc1")],a.mapView[_0x27ab("0x613")]):a[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0x57e")](a[_0x27ab("0x614")][_0x27ab("0xc1")],a.mapView.cameraTop),a[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0x6ae")](),a[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0x57e")](a[_0x27ab("0x614")][_0x27ab("0x9dd")],a[_0x27ab("0x614")][_0x27ab("0x9de")]);var e=a.mapView[_0x27ab("0x68c")][_0x27ab("0x6de")].toDataURL("image/png",1);if(a.mapView[_0x27ab("0x9df")](_[0],_[1]),b[_0x27ab("0x9e0")]){var t=document.createElement("a"),i=(0,C[_0x27ab("0x19")])(e);document[_0x27ab("0x6fe")]("HTMLEvents")[_0x27ab("0x9e1")](_0x27ab("0x9e2"),!0,!0),t[_0x27ab("0x9e0")]=b.filename,t[_0x27ab("0x7b")]=URL.createObjectURL(i),t[_0x27ab("0x9e2")]()}if(b[_0x27ab("0x9e3")]){var n=window.open("","");n[_0x27ab("0x9e4")].title=_0x27ab("0x9e5");var s=new Image;s[_0x27ab("0x42b")]=e,n[_0x27ab("0x9e4")].body.appendChild(s)}return e}},{key:"change3dColor",value:function(x){var a,b=null==x[_0x27ab("0x3f3")]?.3:x[_0x27ab("0x3f3")],_=_0x27ab("0xc5"),e=this,t=[][_0x27ab("0x1ec")](x.name);x[_0x27ab("0xc5")]||(t=[][_0x27ab("0x1ec")](x.id),_="ID");var i=[];x[_0x27ab("0xeb")]?[][_0x27ab("0x1ec")](x.bid).forEach((function(x){var a=e[_0x27ab("0xf4")](x);a||(a=e.getTileById(x)),a&&i[_0x27ab("0x1")](a)})):i=e[_0x27ab("0x634")][_0x27ab("0x1ec")](e[_0x27ab("0x9a5")]);var n=x[_0x27ab("0x107")];e=this;a=x[_0x27ab("0xee")]?[][_0x27ab("0x1ec")](x[_0x27ab("0xee")]):null,i.forEach((function(x){if(1==x[_0x27ab("0x160")]){var e=x[_0x27ab("0x15e")][_0x27ab("0x1a4")](_0x27ab("0x9e6"));if(e[0])e[0].traverse((function(a){if(a[_0x27ab("0xe1")]==esmap.ESNodeType[_0x27ab("0x232")])if(a[_0x27ab("0x342")])for(var e in a.brothers){var i=a[_0x27ab("0x342")][e];t[_0x27ab("0xd1")](i[_])>-1&&x[_0x27ab("0x161")][_0x27ab("0x62f")][_0x27ab("0x40c")](i.ID,a[_0x27ab("0xaf")],n,b)}else t[_0x27ab("0xd1")](a[_])>-1&&a[_0x27ab("0x2dc")](n)}))}else{var i=a||x.floorNums,r=function(a){var e=x[_0x27ab("0x61b")](i[a]),r=x.modelLoadManager;if(!e)return _0x27ab("0x5e4");e[_0x27ab("0x9e7")][_0x27ab("0x1b")]((function(x){x[_0x27ab("0x60a")]==esmap[_0x27ab("0x17d")][_0x27ab("0x232")]&&x[_0x27ab("0xaf")][_0x27ab("0xb0")].forEach((function(x){x.datas_&&(x.datas_[_0x27ab("0x342")]?x.datas_.brothers[_0x27ab("0x1b")]((function(a){t[_0x27ab("0xd1")](a[_])>-1&&r[_0x27ab("0x62f")][_0x27ab("0x40c")](a.id,x,n,b)})):t[_0x27ab("0xd1")](x.datas_[_])>-1&&x[_0x27ab("0xae")][_0x27ab("0x2dc")](n))}))}))};for(var s in i){r(s);_0x27ab("0x5e4")}}}))}},{key:_0x27ab("0x9e8"),value:function(x){function a(x){var a=[];this[_0x27ab("0x9e7")][_0x27ab("0x1b")]((function(x){x._type_!=esmap[_0x27ab("0x17d")][_0x27ab("0x639")]&&x[_0x27ab("0x60a")]!=esmap.ESLayerType[_0x27ab("0x9e9")]&&x[_0x27ab("0x60a")]!=esmap[_0x27ab("0x17d")][_0x27ab("0x232")]||(a=a[_0x27ab("0x1ec")](x[_0x27ab("0xaf")].children))}));for(var b=0;b<a[_0x27ab("0x0")];b++){var _=a[b];if(_[_0x27ab("0xae")][_0x27ab("0x342")])for(var e=_[_0x27ab("0xae")][_0x27ab("0x342")],t=0;t<e[_0x27ab("0x0")];t++){if(x(e[t],a[b].datas_[_0x27ab("0xaf")]))return}else if(x(_[_0x27ab("0xae")],_.o3d_))return}}var b=this,_=_0x27ab("0xc5"),e=[][_0x27ab("0x1ec")](x[_0x27ab("0xc5")]),t=[];x[_0x27ab("0xeb")]?[][_0x27ab("0x1ec")](x[_0x27ab("0xeb")])[_0x27ab("0x1b")]((function(x){var a=b.getTileById(x);a||(a=b[_0x27ab("0xf4")](x)),a&&t[_0x27ab("0x1")](a)})):t=b[_0x27ab("0x9a5")];x[_0x27ab("0xc5")]||(e=[][_0x27ab("0x1ec")](x.id),_="ID");var i=x[_0x27ab("0xf8")],n=0,r=b.getBuildingById(0)[_0x27ab("0x161")].GLTFMergeTool;t[_0x27ab("0x1b")]((function(x){var b=[];1==x[_0x27ab("0x160")]?b=[x[_0x27ab("0x15e")]]:x[_0x27ab("0x62c")].forEach((function(a){b[_0x27ab("0x1")](x[_0x27ab("0x61b")](a))}));for(var t in b){var s=b[t];a[_0x27ab("0x3")](s,(function(x,a){if(!a)return!1;if(x[_]&&e.indexOf(x[_])>-1)if(n++,i){if(5==x[_0x27ab("0xe1")]){s=x[_0x27ab("0x343")][0],o=x[_0x27ab("0x343")][1];for(var b=a[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ea")][_0x27ab("0x1ae")],t=s;t<o;t++)b[t]=0;a[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ea")][_0x27ab("0x146")]=!0}else if(6==x[_0x27ab("0xe1")]){a[_0x27ab("0x127")][_0x27ab("0x9eb")]&&(1==a[_0x27ab("0xae")].brothers.length?a[_0x27ab("0xf6")]=!0:node.children[_0x27ab("0x1b")]((function(a){r.setTargetMeshVisible(a,x.ID,!0)})))}}else if(5==x[_0x27ab("0xe1")]){for(var s=x.faceRange[0],o=x[_0x27ab("0x343")][1],c=a.geometry[_0x27ab("0xc2")][_0x27ab("0x9ea")][_0x27ab("0x1ae")],l=s;l<o;l++)c[l]=1;a.geometry.attributes.isHideFlags[_0x27ab("0x146")]=!0}else if(6==x[_0x27ab("0xe1")]){a[_0x27ab("0x127")][_0x27ab("0x9eb")]&&(1==a[_0x27ab("0xae")][_0x27ab("0x342")][_0x27ab("0x0")]?a[_0x27ab("0xf6")]=!1:node[_0x27ab("0xb0")][_0x27ab("0x1b")]((function(a){r[_0x27ab("0x411")](a,x.ID,!1)})))}return n==e[_0x27ab("0x0")]&&"ID"==_}))}}))}},{key:_0x27ab("0x9ec"),value:function(x){function a(x){var a=[];this[_0x27ab("0x9e7")][_0x27ab("0x1b")]((function(x){x[_0x27ab("0x60a")]!=esmap[_0x27ab("0x17d")][_0x27ab("0x639")]&&x._type_!=esmap[_0x27ab("0x17d")].MODEL_BASE&&x._type_!=esmap[_0x27ab("0x17d")][_0x27ab("0x232")]||(a=a[_0x27ab("0x1ec")](x[_0x27ab("0xaf")][_0x27ab("0xb0")]))}));for(var b=0;b<a[_0x27ab("0x0")];b++){var _=a[b];if(_.datas_[_0x27ab("0x342")])for(var e=_[_0x27ab("0xae")].brothers,t=0;t<e[_0x27ab("0x0")];t++){if(x(e[t],a[b].datas_.o3d_))return}else if(x(_[_0x27ab("0xae")],_.o3d_))return}}var b=this,_="name",e=[].concat(x[_0x27ab("0xc5")]),t=[];x[_0x27ab("0xeb")]?[].concat(x[_0x27ab("0xeb")])[_0x27ab("0x1b")]((function(x){var a=b[_0x27ab("0x322")](x);a&&t[_0x27ab("0x1")](a)})):t=b[_0x27ab("0x9a5")];x[_0x27ab("0xc5")]||(e=[][_0x27ab("0x1ec")](x.id),_="ID");var i=x.color,n=i.length,r=x[_0x27ab("0xc")]("opacity")?x[_0x27ab("0x103")]:1,s=0,o=!1;if(i){var c=(o=esmap[_0x27ab("0x80")].hexToRgb(i))[_0x27ab("0x28")](","),l=[1*c[0]/255,1*c[1]/255,1*c[2]/255,r];o=l}if(!n)for(;this.mapService[_0x27ab("0x9ed")].length>0;){var f=this[_0x27ab("0x175")].buildingColorStaged[_0x27ab("0x4")]();e[_0x27ab("0x1")](f.value)}var u=e[_0x27ab("0x37")]((function(x){return{key:_,value:x,data:o}}));if(t[_0x27ab("0x1b")]((function(x){var t=x.layerManager;a[_0x27ab("0x3")](t,(function(a,t){if(!t)return!1;if(a[_]&&e[_0x27ab("0xd1")](a[_])>-1){if(s++,n)if(5==a[_0x27ab("0xe1")]){for(var r=a[_0x27ab("0x343")][0],c=a.faceRange[1],l=t[_0x27ab("0xb1")][_0x27ab("0xc2")].highLightFlags.array,f=t[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ee")].array,d=r;d<c;d++)l[d]=1;for(var h=4*r;h<4*c;h+=4)f[h]=o[0],f[h+1]=o[1],f[h+2]=o[2],f[h+3]=o[3];t[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ef")][_0x27ab("0x146")]=!0,t[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ee")].needsUpdate=!0,b[_0x27ab("0x1e7")](_0x27ab("0x9ec"),{color:i,value:1,startIndex:r,endIndex:c})}else 6==a[_0x27ab("0xe1")]&&(t[_0x27ab("0x127")][_0x27ab("0x401")]=!0,a[_0x27ab("0x2dc")]?a[_0x27ab("0x2dc")](i):x[_0x27ab("0x161")][_0x27ab("0x62f")][_0x27ab("0x40c")](a.ID,t,i,.3));else if(5==a[_0x27ab("0xe1")]){r=a[_0x27ab("0x343")][0],c=a[_0x27ab("0x343")][1],l=t[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ef")][_0x27ab("0x1ae")];for(var g=t.geometry.attributes[_0x27ab("0x9ee")][_0x27ab("0x1ae")],v=r;v<c;v++)l[v]=0;for(var p=4*r;p<4*c;p+=4)g[p]=1,g[p+1]=1,g[p+2]=1,g[p+3]=1;t[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ef")][_0x27ab("0x146")]=!0,t[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ee")][_0x27ab("0x146")]=!0,b.fire(_0x27ab("0x9ec"),{color:i,value:0,startIndex:r,endIndex:c})}else 6==a[_0x27ab("0xe1")]&&(t[_0x27ab("0x127")][_0x27ab("0x401")]=!1,a[_0x27ab("0x2dc")]?a[_0x27ab("0x9f0")]():x[_0x27ab("0x161")][_0x27ab("0x62f")][_0x27ab("0x40c")](a.ID,t,i,.3));for(var A=0;A<u[_0x27ab("0x0")];A++)if(u[A][_0x27ab("0xf8")]==a[_]){u[_0x27ab("0x157")](A,1);break}}return s==e[_0x27ab("0x0")]&&"ID"==_}))})),n)for(var d=0;d<u[_0x27ab("0x0")];d++)this.mapService.addBuildingColorStaged(u[d])}},{key:_0x27ab("0x9f1"),value:function(x){function a(x){var a=[];this[_0x27ab("0x9e7")][_0x27ab("0x1b")]((function(x){x[_0x27ab("0x60a")]!=esmap[_0x27ab("0x17d")][_0x27ab("0x639")]&&x._type_!=esmap[_0x27ab("0x17d")].MODEL_BASE||(a=a[_0x27ab("0x1ec")](x[_0x27ab("0xaf")][_0x27ab("0xb0")]))}));for(var b=0;b<a.length;b++){var _=a[b][_0x27ab("0xae")][_0x27ab("0x342")];if(_)for(var e=0;e<_[_0x27ab("0x0")];e++){if(x(_[e],a[b][_0x27ab("0xae")][_0x27ab("0xaf")]))return}}}var b,_=this,e=(esmap.ESMapUtil[_0x27ab("0x5e7")],x.color),t=!!e,i=!!x[_0x27ab("0xc")](_0x27ab("0x103"))&&x[_0x27ab("0x103")],n=0!=i,r=_0x27ab("0xc5"),s=[][_0x27ab("0x1ec")](x[_0x27ab("0xc5")]),o=[];x[_0x27ab("0xeb")]?[][_0x27ab("0x1ec")](x[_0x27ab("0xeb")])[_0x27ab("0x1b")]((function(x){var a=_.getBuildingById(x);a&&o.push(a)})):o=_.buildingList;x[_0x27ab("0xc5")]||(s=[].concat(x.id),r="ID");e[_0x27ab("0x0")];var c=0;b=x[_0x27ab("0xee")]?[][_0x27ab("0x1ec")](x.fnum):null,o[_0x27ab("0x1b")]((function(x){var o=b||x[_0x27ab("0x62c")];for(var l in o){var f=x[_0x27ab("0x61b")](o[l]);f&&a.call(f,(function(x,a){var b;if(x[r]&&s[_0x27ab("0xd1")](x[r])>-1)if(c++,t||n){if(a[_0x27ab("0x127")].colorMap||(a[_0x27ab("0x127")][_0x27ab("0x9f2")]={}),!a[_0x27ab("0x127")][_0x27ab("0x9f2")][e]){var o=a.material[0].clone();t&&(o[_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(e),f[_0x27ab("0xaf")][_0x27ab("0x625")]||(f[_0x27ab("0xaf")][_0x27ab("0x625")]={}),f[_0x27ab("0xaf")][_0x27ab("0x625")][o[_0x27ab("0x628")]]=f[_0x27ab("0xaf")][_0x27ab("0x625")][a[_0x27ab("0xb3")][0].uuid]),i&&(o[_0x27ab("0x103")]=i,o.transparent=1!=i),a[_0x27ab("0xb3")].push(o),a[_0x27ab("0x127")][_0x27ab("0x9f2")][e]=a[_0x27ab("0xb3")][_0x27ab("0x0")]-1}var l=a.geometry.groups;a.geometry.clearGroups();var u=x.faceRange[0],d=x[_0x27ab("0x343")][1],h=a[_0x27ab("0x127")].colorMap[e];_[_0x27ab("0x409")](u,d,h,l,!1)[_0x27ab("0x1b")]((function(x){a.geometry[_0x27ab("0x141")](x[_0x27ab("0x1d5")],x[_0x27ab("0xc4")],x[_0x27ab("0x40a")])}))}else{l=a[_0x27ab("0xb1")].groups;a[_0x27ab("0xb1")].clearGroups();u=x[_0x27ab("0x343")][0],d=x[_0x27ab("0x343")][1];for(var g=null,v=0;v<l[_0x27ab("0x0")];v++)if(u>=l[v][_0x27ab("0x1d5")]&&u<l[v].start+l[v][_0x27ab("0xc4")]){b=l[v][_0x27ab("0x40a")],g=v;break}null!=g&&0!=b&&(l=_[_0x27ab("0x409")](u,d,0,l,!1));for(v=0;v<l.length;v++)a[_0x27ab("0xb1")][_0x27ab("0x141")](l[v].start,l[v][_0x27ab("0xc4")],l[v][_0x27ab("0x40a")])}return c==s[_0x27ab("0x0")]&&("ID"==r||r==_0x27ab("0xc5"))}))}o=null}))}},{key:"_analyseRawPoints",value:function(x){function a(x,a){var b,_=0;x.fnum&&x[_0x27ab("0xeb")]?_+=(b=n[_0x27ab("0xf4")](x.bid))?b[_0x27ab("0x30e")](x[_0x27ab("0xee")]):0:_+=(b=n[_0x27ab("0xf4")](0)).getFloorHeight(1);var e=n.coordMapToThree({x:x.x,y:x.y});return e.y=_+Number(x[_0x27ab("0x143")]||x.z||0),e}if(!(x[_0x27ab("0x0")]<1)){var b,_=[],e=[],t=null,i=null,n=this;return function(x){for(var b=0;b<x.length;b++)t=x[b],(i=a(t))[_0x27ab("0xee")]=t.fnum||1,i.bid=t[_0x27ab("0xeb")]||0,e[_0x27ab("0x1")](i)}(x),(b=e)[_0x27ab("0x0")]>1&&_[_0x27ab("0x1")](b),_}}},{key:_0x27ab("0x9f3"),value:function(x,a){var b=null;null==a&&this.mode==esmap[_0x27ab("0x39")].Building&&(a=this.id);var _=this.getBuildingById(a);return x[_0x27ab("0xee")]&&(b=_.getFloorHeight(x[_0x27ab("0xee")])),new(THREE[_0x27ab("0xe7")])(-this.mapScene[_0x27ab("0x1ab")]-x.x,x.z||b||0,x.y-this[_0x27ab("0x15d")][_0x27ab("0x1ac")])}},{key:_0x27ab("0x9f4"),value:function(x){return this[_0x27ab("0x169")][_0x27ab("0x9f5")][x]||null}},{key:_0x27ab("0x9f6"),value:function(x){x=(0,r[_0x27ab("0xb")])({coord:null,mode:_0x27ab("0x1b7"),inverse:!1,startCoord:null,depth:100,endCoord:null},x),this.rayPointer||(this[_0x27ab("0x9f7")]=new(I[_0x27ab("0xb")])(x)),this[_0x27ab("0x9f7")][_0x27ab("0x9f8")][_0x27ab("0x6a1")]=x.depth;var a=void 0;if(x[_0x27ab("0x34")]==_0x27ab("0x1b7")){var b=this[_0x27ab("0x26f")](x[_0x27ab("0x1d8")]);a=this[_0x27ab("0x9f7")][_0x27ab("0x9f9")](b,x[_0x27ab("0x34")])}else{var _=this[_0x27ab("0x26f")](x[_0x27ab("0x9fa")]),e=this[_0x27ab("0x26f")](x[_0x27ab("0x9fb")]);a=this.rayPointer.intersectByStartEnd(_,e)}if(x[_0x27ab("0x9fc")]&&a){if(!this[_0x27ab("0x9f7")][_0x27ab("0x9fd")]){var t=document[_0x27ab("0x20")]("canvas");t.width=64,t[_0x27ab("0x1b7")]=64;var i=t.getContext("2d");i[_0x27ab("0x908")](),i.arc(32,32,20,0,360,!1),i[_0x27ab("0x9fe")]=_0x27ab("0x9ff"),i[_0x27ab("0x33d")](),i[_0x27ab("0x120")]=20,i[_0x27ab("0xa00")]=_0x27ab("0xa01"),i[_0x27ab("0xa02")]=.2,i[_0x27ab("0xa03")](),i.closePath();var n=new(THREE[_0x27ab("0x42d")])(t),s=new(THREE[_0x27ab("0x2ad")]);s[_0x27ab("0xb3")]=new(THREE[_0x27ab("0x423")])({map:n,depthTest:!1,sizeAttenuation:!1}),s[_0x27ab("0x133")]=101,s.scale[_0x27ab("0x28c")](.02),s.material[_0x27ab("0x37")][_0x27ab("0x146")]=!0,this.rayPointer[_0x27ab("0x9fd")]=s,this.mapView[_0x27ab("0xc1")][_0x27ab("0x163")](s)}"height"==x[_0x27ab("0x34")]?this[_0x27ab("0x9f7")][_0x27ab("0x9fd")][_0x27ab("0xc3")][_0x27ab("0x27d")](a):this[_0x27ab("0x9f7")][_0x27ab("0x9fd")][_0x27ab("0xc3")][_0x27ab("0x27d")](a[_0x27ab("0x777")])}return x.mode==_0x27ab("0x1b7")?a?a.y:null:a||null}},{key:_0x27ab("0xa04"),value:function(){var x=this[_0x27ab("0x296")][_0x27ab("0x1c")][_0x27ab("0xc3")][_0x27ab("0x301")](this.controls.target),a=this[_0x27ab("0x614")].getCenter();return{directionAngle:1*this[_0x27ab("0x269")][_0x27ab("0x60b")](1),pitchAngle:1*this[_0x27ab("0x9a1")][_0x27ab("0x60b")](1),radius:1*x[_0x27ab("0x60b")](1),x:1*a.x.toFixed(1),y:1*a.y[_0x27ab("0x60b")](1),z:1*this.controls[_0x27ab("0x295")].y[_0x27ab("0x60b")](1)}}},{key:"getCenter",value:function(){return this[_0x27ab("0x614")].getCenter()}},{key:_0x27ab("0xa05"),value:function(){return this[_0x27ab("0x614")][_0x27ab("0xa05")]()}},{key:_0x27ab("0xa06"),value:(O=(0,n[_0x27ab("0xb")])(i[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){var b,_=this;return i.default[_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:if(!(a=(0,r[_0x27ab("0xb")])({fnum:1,scaleLevel:null,radius:100,bid:null,pitchAngle:60,directionAngle:0,delay:0,time:1},a)).delay){x[_0x27ab("0x2b8")]=5;break}return x[_0x27ab("0x2b8")]=5,new t.default((function(x){setTimeout(x,1e3*a[_0x27ab("0x1c9")])}));case 5:if(!a[_0x27ab("0xeb")]){x[_0x27ab("0x2b8")]=13;break}if(this[_0x27ab("0xf4")](a[_0x27ab("0xeb")])){x[_0x27ab("0x2b8")]=11;break}return x[_0x27ab("0x2b8")]=9,new(t[_0x27ab("0xb")])((function(x){_.openBuildingById(a[_0x27ab("0xeb")]),_[_0x27ab("0x1e0")](_0x27ab("0xa07"),(function(){_.getBuildingById(a[_0x27ab("0xeb")])[_0x27ab("0xa08")](a.fnum),x()}))}));case 9:x[_0x27ab("0x2b8")]=13;break;case 11:this[_0x27ab("0xf4")](a[_0x27ab("0xeb")]).changeFocusFloor(a[_0x27ab("0xee")]);case 13:return null!=a[_0x27ab("0x243")]?a[_0x27ab("0x638")]=(this[_0x27ab("0x946")][a[_0x27ab("0x243")]]+1e-4)*this[_0x27ab("0x296")].initDistance_:null==a[_0x27ab("0x638")]&&(a[_0x27ab("0x638")]=this[_0x27ab("0x296")][_0x27ab("0x602")]()),b=this.coordMapToThree({x:a.x,y:a.y,z:a.z}),a[_0x27ab("0xa09")]=a[_0x27ab("0xa09")]<=1?1:a[_0x27ab("0xa09")],x[_0x27ab("0x5e3")]("return",new(t[_0x27ab("0xb")])((function(x){_.flyController[_0x27ab("0xa0a")]({targetPos:b,radius:a.radius,pitchAngle:a.pitchAngle,directionAngle:a[_0x27ab("0xa0b")],time:a.time,callback:function(){a.callback&&a[_0x27ab("0x1d6")](),x()}})})));case 17:case _0x27ab("0x2d3"):return x.stop()}}),x,this)}))),function(x){return O[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0xa0c"),value:function(x){var a=this;a[_0x27ab("0xa0d")](),esmap[_0x27ab("0x80")][_0x27ab("0x5f4")](this,_0x27ab("0x218"),{ID:x},(function(x){if(x[_0x27ab("0x0")]>0){var b=x[0],_=a.tapTip,e=document.getElementById(_.spanId);e[_0x27ab("0x332")]="",_.popDiv_.style[_0x27ab("0x103")]=0,b.name?(_[_0x27ab("0x26a")]({x:b[_0x27ab("0x3d5")].x,y:b[_0x27ab("0x3d5")].y,time:.01,callback:function(){_[_0x27ab("0xa0e")][_0x27ab("0xc3")].y=b.RoomHigh+20,setTimeout((function(){e[_0x27ab("0x332")]=b[_0x27ab("0xc5")],_[_0x27ab("0xa0f")][_0x27ab("0xea")].opacity=1}),1)}}),_[_0x27ab("0xeb")]=b.bid):_[_0x27ab("0xa0f")].style[_0x27ab("0x103")]=0,a[_0x27ab("0xa10")](b)}}))}},{key:_0x27ab("0xa11"),value:function(x){var a=x,b=.2,_=null;x instanceof Object&&(a=x[_0x27ab("0x26c")],b=x.time||.2,_=x.callback||null),new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(this).to({tiltAngle:a},1e3*b).easing(esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x1d0")][_0x27ab("0x1d4")]).onUpdate((function(x){})).onComplete((function(){_&&_()}))[_0x27ab("0x1d5")]()}},{key:_0x27ab("0x966"),value:function(x){var a=this;if(this[_0x27ab("0x34")]!=esmap[_0x27ab("0x39")].City){var b=void 0;if(b=(x=(0,r[_0x27ab("0xb")])({value:0,time:1,emitError:!1,raw:!1,onComplete:null},x))[_0x27ab("0x5b8")]?x[_0x27ab("0xf8")]:this.scaleLevels_[x[_0x27ab("0xf8")]],!x.emitError&&null==b)return _0x27ab("0xa12"),x.value,void _0x27ab("0xa13");var _=this[_0x27ab("0x296")][_0x27ab("0x602")]()/this[_0x27ab("0x296")][_0x27ab("0xa14")];D&&(D[_0x27ab("0x1c4")](),D=null),D=new esmap.TWEEN.Tween({value:_}).to({value:b},1e3*x[_0x27ab("0x1cb")])[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")]).onUpdate((function(x){a[_0x27ab("0x296")].setScaleLevelValue(x[_0x27ab("0xf8")])}))[_0x27ab("0x1d2")]((function(){x[_0x27ab("0x1d2")]&&x[_0x27ab("0x1d2")](),D=null}))[_0x27ab("0x1d5")]()}}},{key:"setScaleLevelLimit",value:function(x,a){var b=this;x=THREE[_0x27ab("0x28e")][_0x27ab("0x731")](x,0,b[_0x27ab("0x946")][_0x27ab("0x0")]-1),a=THREE.Math[_0x27ab("0x731")](a,0,b[_0x27ab("0x946")][_0x27ab("0x0")]-1),b.minScaleLevel_=x,b.maxScaleLevel_=a,b[_0x27ab("0x296")][_0x27ab("0xa15")](b.scaleLevels_[x],b[_0x27ab("0x946")][a]),b[_0x27ab("0x243")]=b[_0x27ab("0x946")][Math[_0x27ab("0xbc")]((x+a)/2)]}},{key:_0x27ab("0xa16"),value:function(){this[_0x27ab("0x243")]>0&&this[_0x27ab("0x966")]({value:this[_0x27ab("0x243")]-1})}},{key:_0x27ab("0xa17"),value:function(){this[_0x27ab("0x243")]<this[_0x27ab("0x946")][_0x27ab("0x0")]-1&&this[_0x27ab("0x966")]({value:this.scaleLevel+1})}},{key:"zoomIn",value:function(x){this.controls[_0x27ab("0xa18")](x)}},{key:_0x27ab("0xa19"),value:function(x){this.controls[_0x27ab("0xa1a")](x)}},{key:"setBackgroundImage",value:function(x){x?(this[_0x27ab("0x614")][_0x27ab("0xc1")][_0x27ab("0xa1b")]=esmap[_0x27ab("0x80")].loadTexture(x),this[_0x27ab("0x614")][_0x27ab("0xc1")].background[_0x27ab("0x146")]=!0):(this[_0x27ab("0x614")][_0x27ab("0xc1")][_0x27ab("0xa1b")]=null,this[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0x6b3")](this[_0x27ab("0xfc")][_0x27ab("0x99e")],this[_0x27ab("0xfc")][_0x27ab("0x99b")]))}},{key:_0x27ab("0x99d"),value:function(x,a){if(esmap.ESMap.IsMapLoading)return this[_0x27ab("0xfc")].userBgColor=x,void this[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0x6b3")](x);!1!==x?this[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0x6b3")](x,a):this[_0x27ab("0x614")].renderer[_0x27ab("0x6b3")](this[_0x27ab("0xfc")][_0x27ab("0x99e")],this[_0x27ab("0xfc")].clearTrans_)}},{key:_0x27ab("0xa1c"),value:function(x,a){var b=null==a?1:a;this[_0x27ab("0xfc")][_0x27ab("0x3f2")][_0x27ab("0x107")][_0x27ab("0x123")](x),this[_0x27ab("0xfc")][_0x27ab("0x3f2")][_0x27ab("0x2df")].set(x),this[_0x27ab("0xfc")][_0x27ab("0x3f2")][_0x27ab("0x103")]=b,this[_0x27ab("0xa1d")]=b}},{key:_0x27ab("0x409"),value:function(x,a,b,_,e){var t,i=a-x,n=[];_.forEach((function(x){n[_0x27ab("0x1")]({start:x[_0x27ab("0x1d5")],count:x[_0x27ab("0xc4")],materialIndex:x[_0x27ab("0x40a")]})}));for(var r=0;r<n[_0x27ab("0x0")];r++){var s=n[r],o=s[_0x27ab("0x1d5")]+s[_0x27ab("0xc4")];if(x>=s.start&&x<o&&s.materialIndex!=b){if(s[_0x27ab("0xc4")]>=i){e&&(this.lastSelectMatIndex=s[_0x27ab("0x40a")]),n.splice(r,1),x>s[_0x27ab("0x1d5")]&&n[_0x27ab("0x1")]({start:s[_0x27ab("0x1d5")],count:x-s[_0x27ab("0x1d5")],materialIndex:s[_0x27ab("0x40a")]}),n[_0x27ab("0x1")]({start:x,count:i,materialIndex:b}),a<o&&n[_0x27ab("0x1")]({start:a,count:o-a,materialIndex:s[_0x27ab("0x40a")]});break}n[r][_0x27ab("0x40a")]=b}}n[_0x27ab("0x416")]((t=_0x27ab("0x1d5"),function(x,a){return x[t]-a[t]}));for(var c=0;c<n[_0x27ab("0x0")]-1;c++)n[c][_0x27ab("0x40a")]==n[c+1].materialIndex&&(n[c][_0x27ab("0xc4")]+=n[c+1][_0x27ab("0xc4")],n[_0x27ab("0x157")](c+1,1),c--);return n}},{key:"prepare_",value:function(x,a,b,_){var e=this;this[_0x27ab("0xfc")].themeList[a]?x():b?this.buildingService[_0x27ab("0xa1e")](a,_,(function(b){b&&(e[_0x27ab("0xfc")].setThemeList(a,b),x())})):this[_0x27ab("0x994")][_0x27ab("0xa1f")](a,_,(function(b){e[_0x27ab("0xfc")][_0x27ab("0xa20")](a,b),x()}))}},{key:_0x27ab("0xa10"),value:function(x,a,b){if(x&&x[_0x27ab("0xaf")]&&x.o3d_.geometry){var _=this;null==a&&(a=!0);var e=x[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0x40d")],t=x[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0xa21")],i=x.faceRange[0],n=x[_0x27ab("0x343")][1];if(1==x.bType){var r=1;0==a&&(r=0);for(var s=x[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0xa22")][_0x27ab("0x1ae")],o=i;o<n;o+=1)s[o]=r;return x[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0xa22")].needsUpdate=!0,void(a&&!b&&(_[_0x27ab("0xa0d")](),_[_0x27ab("0x933")][_0x27ab("0x1")](x)))}x[_0x27ab("0xaf")].geometry.clearGroups();if(0!=a){x.sideRange?x.o3d_[_0x27ab("0xb3")].push(_.mapScene[_0x27ab("0x198")][_0x27ab("0x3f2")]):x[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x1")](_.mapScene[_0x27ab("0x198")][_0x27ab("0x3f2")]),x[_0x27ab("0xaf")][_0x27ab("0xb3")][0][_0x27ab("0x127")][_0x27ab("0xa24")]&&x.o3d_[_0x27ab("0xb3")][0].map&&!x[_0x27ab("0xaf")][_0x27ab("0xb3")][1]&&(x[_0x27ab("0xaf")].material[x[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x0")]-1]=_[_0x27ab("0x15d")][_0x27ab("0x198")][_0x27ab("0x3f2")][_0x27ab("0xe2")](),e=x.o3d_[_0x27ab("0x127")][_0x27ab("0x40d")],t=1,x[_0x27ab("0xaf")].material[t][_0x27ab("0x37")]=x[_0x27ab("0xaf")].material[0][_0x27ab("0x37")][_0x27ab("0xe2")](),x[_0x27ab("0xaf")][_0x27ab("0xb3")][t][_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(0,0,0),x[_0x27ab("0xaf")][_0x27ab("0xb3")][t][_0x27ab("0x37")][_0x27ab("0x146")]=!0,x[_0x27ab("0xaf")].material[t][_0x27ab("0x146")]=!0),t=x[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x0")]-1;x[_0x27ab("0xaf")][_0x27ab("0xb1")].attributes[_0x27ab("0xc3")].count;_[_0x27ab("0x409")](i,n,t,e,true)[_0x27ab("0x1b")]((function(a){x[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0x141")](a[_0x27ab("0x1d5")],a[_0x27ab("0xc4")],a.materialIndex)})),a&&!b&&(_.selectNull(),_[_0x27ab("0x933")][_0x27ab("0x1")](x))}else{for(var c=0;c<x[_0x27ab("0xaf")].material[_0x27ab("0x0")];c++)if(x[_0x27ab("0xaf")].material[c]&&x[_0x27ab("0xaf")].material[c][_0x27ab("0xc5")]==_0x27ab("0xa23")){x.o3d_[_0x27ab("0xb3")][c][_0x27ab("0x37")]&&x[_0x27ab("0xaf")][_0x27ab("0xb3")][c][_0x27ab("0x37")][_0x27ab("0xb2")]()&&(x.o3d_[_0x27ab("0xb3")][c][_0x27ab("0x37")]=null),x[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x157")](c,1);break}_[_0x27ab("0x409")](i,n,_[_0x27ab("0x415")],e,true).forEach((function(a){x[_0x27ab("0xaf")].geometry[_0x27ab("0x141")](a[_0x27ab("0x1d5")],a[_0x27ab("0xc4")],a.materialIndex)}))}}}},{key:"getTileById",value:function(x){for(var a=[][_0x27ab("0x1ec")](this[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0xb0")]),b=0;b<a[_0x27ab("0x0")];b++)if(a[b].datas_.id==x)return a[b][_0x27ab("0xae")]}},{key:"ol",value:function(x,a){if(a==this.id){var b=this[_0x27ab("0x175")][_0x27ab("0x8df")][x]||[],_=[];return b[_0x27ab("0x37")]((function(x){var a=[];x.forEach((function(x){a[_0x27ab("0x1")]({x:-x.x,y:x.y})})),_[_0x27ab("0x1")](a)})),_}}},{key:_0x27ab("0xa25"),value:function(x,a){var b=esmap.ESMapUtil[_0x27ab("0x2e0")](a);switch(x){case esmap.ESNodeType[_0x27ab("0x639")]:this[_0x27ab("0xfc")][_0x27ab("0x3f2")][_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(a);break;case esmap[_0x27ab("0xf1")].POLYGON_MARKER:this[_0x27ab("0xfc")].polygonSelectColor_=b;break;case esmap[_0x27ab("0xf1")][_0x27ab("0xa26")]:case esmap.ESNodeType[_0x27ab("0x1ba")]:this.mapTheme[_0x27ab("0xa27")]=b}}},{key:_0x27ab("0xa28"),value:function(x){x?(this.mapTheme.modelBasicMat[_0x27ab("0x1b")]((function(x){x&&(x[_0x27ab("0xf6")]=!0)})),this[_0x27ab("0x175")][_0x27ab("0x9ab")]=!1):(this[_0x27ab("0x175")]._disableTileUpdate=!0,this[_0x27ab("0xfc")][_0x27ab("0x9bb")][_0x27ab("0x1b")]((function(x){x&&(x[_0x27ab("0xf6")]=!1)})))}},{key:_0x27ab("0xa29"),value:function(x){var a=this,b=esmap[_0x27ab("0x80")][_0x27ab("0x5ec")](x);b[_0x27ab("0x1b")]((function(x){a[_0x27ab("0x169")][_0x27ab("0xa2a")][_0x27ab("0x1")](x)}));var _=[];this[_0x27ab("0x9a5")][_0x27ab("0x1b")]((function(x){-1==b.indexOf(x.id)&&_[_0x27ab("0x1")](x.id)}));for(var e=this[_0x27ab("0x15d")][_0x27ab("0x1bf")].children,t=0;t<e[_0x27ab("0x0")];t++){var i=e[t];_[_0x27ab("0x62e")](i[_0x27ab("0xae")].id)&&(i[_0x27ab("0xf6")]=!1,this[_0x27ab("0x15d")][_0x27ab("0x1bf")].remove(i),t--,this.mapService.tileService[_0x27ab("0xa2b")][_0x27ab("0xd1")](i[_0x27ab("0xae")])<0&&this.tileService[_0x27ab("0xa2c")](i[_0x27ab("0xae")]),this[_0x27ab("0x1e7")](_0x27ab("0xa2d"),{bid:i[_0x27ab("0xae")].id}))}}},{key:_0x27ab("0xa2e"),value:function(){this.tileService[_0x27ab("0xa2a")]=[],this.updateTileView()}},{key:_0x27ab("0xa2f"),value:function(x){var a=this,b=_0x27ab("0xc5"),_=[][_0x27ab("0x1ec")](x[_0x27ab("0xc5")]);x.name||(_=[][_0x27ab("0x1ec")](x.id),b="ID");var t=x.clonemat||!1,i=x[_0x27ab("0x103")],n=x[_0x27ab("0x1c9")]||0,r=null==x[_0x27ab("0x1cb")]?.8:x[_0x27ab("0x1cb")],s=null!=x[_0x27ab("0x627")]&&x[_0x27ab("0x627")];setTimeout((function(){esmap[_0x27ab("0x80")][_0x27ab("0x5f4")](a,"all",(0,e.default)({nodeType:6},b,_),(function(a){for(var b=0;b<a[_0x27ab("0x0")];b++)esmap[_0x27ab("0x80")][_0x27ab("0x2a3")]({target:a[b][_0x27ab("0xaf")],time:r,alpha:i,hideOnComplete:s,clonemat:t,visible:x[_0x27ab("0xf6")]})}))}),1e3*n)}},{key:"getBuilding",value:function(){return this[_0x27ab("0xf4")](this.id)}},{key:_0x27ab("0xf4"),value:function(x){if(this[_0x27ab("0x15d")][_0x27ab("0xa30")]&&(0==x||x==this.id))return this.mapScene[_0x27ab("0xa30")];for(var a=[].concat(this.mapScene[_0x27ab("0x9be")][_0x27ab("0xb0")]),b=0;b<a[_0x27ab("0x0")];b++)if(a[b][_0x27ab("0xae")].id==x)return a[b][_0x27ab("0xae")];return null}},{key:"storeModelSelected",value:function(x,a,b){var _=this;null==a&&(a=!0),a&&!b&&(_[_0x27ab("0xa31")](),_.lastSelectModelStore[_0x27ab("0x1")](x));var e=_[_0x27ab("0xfc")][_0x27ab("0xa32")];x[_0x27ab("0xae")][_0x27ab("0xe1")]==esmap[_0x27ab("0xf1")][_0x27ab("0xa33")]&&(e=_[_0x27ab("0xfc")].polygonSelectColor_);var t=x[_0x27ab("0x127")][_0x27ab("0xa34")];x[_0x27ab("0x2a1")]((function(x){if(x.material)if(x.material instanceof Array)if(t)x.material[0][_0x27ab("0x127")][_0x27ab("0xa35")]||(x.material[0][_0x27ab("0x127")][_0x27ab("0xa35")]=x[_0x27ab("0xb3")][0][_0x27ab("0x2df")][_0x27ab("0xe2")]()),a?x[_0x27ab("0xb3")][0][_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(e):(x.material[0][_0x27ab("0x2df")]=x[_0x27ab("0xb3")][0].userData.originEMS,x.material[0].userData[_0x27ab("0xa35")]=null);else for(var b=0;b<x[_0x27ab("0xb3")][_0x27ab("0x0")];b++){var _=x[_0x27ab("0xb3")][b][_0x27ab("0xe2")]();_[_0x27ab("0xc")](_0x27ab("0x2df"))&&(_.userData[_0x27ab("0xa35")]||(_[_0x27ab("0x127")][_0x27ab("0xa35")]=_.emissive[_0x27ab("0xe2")]()),_.emissive=a?new THREE.Color(e):_[_0x27ab("0x127")][_0x27ab("0xa35")]instanceof THREE[_0x27ab("0x108")]?_.userData[_0x27ab("0xa35")]:new(THREE[_0x27ab("0x108")])(_[_0x27ab("0x127")].originEMS),x[_0x27ab("0xb3")][b]=_,_[_0x27ab("0x146")]=!0)}else{var i=x[_0x27ab("0xb3")];i[_0x27ab("0x127")].cloned||((i=i[_0x27ab("0xe2")]())[_0x27ab("0x127")].cloned=!0,x[_0x27ab("0xb3")]=i),i[_0x27ab("0xc")](_0x27ab("0x2df"))?(a?(i[_0x27ab("0x127")].hasOwnProperty("originEMS")||(i.userData.originEMS=x[_0x27ab("0xb3")].emissive[_0x27ab("0x497")]()),i.emissive=new THREE.Color(e)):i[_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(i[_0x27ab("0x127")][_0x27ab("0xa35")]),x[_0x27ab("0xb3")].needsUpdate=!0):(a?x[_0x27ab("0xa36")]?(i[_0x27ab("0x127")][_0x27ab("0xa37")]||(i.userData[_0x27ab("0xa37")]=x[_0x27ab("0x107")]),x[_0x27ab("0x107")]=e):(i[_0x27ab("0x127")][_0x27ab("0xa37")]||(i[_0x27ab("0x127")].lastColor=i.color[_0x27ab("0xe2")]()),i[_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(e)):null!=i[_0x27ab("0x127")].lastColor&&(x[_0x27ab("0xa36")]?(x[_0x27ab("0x107")]=i.userData[_0x27ab("0xa37")],i.color=new(THREE[_0x27ab("0x108")])(1,1,1)):i[_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(i[_0x27ab("0x127")][_0x27ab("0xa37")]),i[_0x27ab("0x127")][_0x27ab("0xa37")]=null),x[_0x27ab("0xa36")]||(x[_0x27ab("0xb3")]=i),x[_0x27ab("0xb3")].needsUpdate=!0)}})),a?(x[_0x27ab("0x127")].isSelected=!0,x[_0x27ab("0x133")]+=1):(x[_0x27ab("0x127")][_0x27ab("0xa38")]=!1,x[_0x27ab("0x133")]-=1)}},{key:_0x27ab("0xa31"),value:function(){var x=this;x[_0x27ab("0x3d8")][_0x27ab("0x1b")]((function(a){a[_0x27ab("0xae")]&&a.datas_[_0x27ab("0xe1")]==esmap[_0x27ab("0xf1")][_0x27ab("0xa33")]&&a[_0x27ab("0xae")][_0x27ab("0xa39")]&&(a[_0x27ab("0xae")][_0x27ab("0xa39")][_0x27ab("0x125")]=a[_0x27ab("0xae")][_0x27ab("0xa39")][_0x27ab("0xea")][_0x27ab("0x125")],a[_0x27ab("0xae")][_0x27ab("0xa39")][_0x27ab("0x120")]=a[_0x27ab("0xae")][_0x27ab("0xa39")]._originalWidth||a[_0x27ab("0xae")].line[_0x27ab("0xea")].lineWidth,a[_0x27ab("0xae")][_0x27ab("0xa39")][_0x27ab("0xb1")][_0x27ab("0xa3a")]?a[_0x27ab("0xae")].line[_0x27ab("0xb1")][_0x27ab("0xa3a")](a.datas_[_0x27ab("0xa39")][_0x27ab("0xb1")][_0x27ab("0xa3b")]):a[_0x27ab("0xae")].line.updateLineWidth()),x[_0x27ab("0xa3c")](a,!1)})),x.lastSelectModelStore[_0x27ab("0x0")]=0;var a=x[_0x27ab("0xf4")](0);a[_0x27ab("0x161")][_0x27ab("0x62f")][_0x27ab("0x405")]&&a[_0x27ab("0x161")].GLTFMergeTool[_0x27ab("0x40e")]()}},{key:_0x27ab("0xa3d"),value:function(x){x.customClass}},{key:_0x27ab("0xa3e"),value:function(x){if(x){var a="",b=document.getElementById(this[_0x27ab("0xa3f")][_0x27ab("0xa40")]);b&&(a=b[_0x27ab("0x332")]),this[_0x27ab("0xa3f")][_0x27ab("0xa41")]||(this[_0x27ab("0xa3f")][_0x27ab("0xa41")]=this[_0x27ab("0xa3f")][_0x27ab("0xa0f")][_0x27ab("0x332")]),this.tapTip[_0x27ab("0xa0f")][_0x27ab("0x332")]=x;var _=document[_0x27ab("0xa42")](this.tapTip[_0x27ab("0xa40")]);_&&(_.innerHTML=a)}}},{key:_0x27ab("0xa43"),value:function(){this[_0x27ab("0xa3f")].popDiv_[_0x27ab("0xea")][_0x27ab("0x103")]=0}},{key:"selectNull",value:function(){var x=this;x[_0x27ab("0x933")][_0x27ab("0x1b")]((function(a){x[_0x27ab("0xa10")](a,!1)})),x.lastSelectStore.length=0}},{key:"setModelAlpha",value:function(x,a,b){b=b||0;var _=esmap.ESMapUtil[_0x27ab("0x5f4")](this,b,{types:[_0x27ab("0x235"),_0x27ab("0x236")],ID:x});if(0!=_[_0x27ab("0x0")]){var e=_[0];if(e[_0x27ab("0xe1")]==esmap[_0x27ab("0xf1")].MODEL){for(var t=e[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x40d")],i=(e[_0x27ab("0xaf")].geometry[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],e[_0x27ab("0x343")][0]),n=(e[_0x27ab("0x343")][1],null),r=0;r<t[_0x27ab("0x0")];r++)if(i>=t[r][_0x27ab("0x1d5")]&&i<t[r].start+t[r][_0x27ab("0xc4")]){n=t[r][_0x27ab("0x40a")];break}e[_0x27ab("0xaf")].material[n][_0x27ab("0x127")][_0x27ab("0xa44")]=e[_0x27ab("0xaf")][_0x27ab("0xb3")][n][_0x27ab("0x103")],e.o3d_[_0x27ab("0xb3")][n][_0x27ab("0x103")]=a}else{[].concat(e[_0x27ab("0xaf")][_0x27ab("0xb3")])[_0x27ab("0x1b")]((function(x){var b=x.opacity;x[_0x27ab("0x127")].originalOp=b,x[_0x27ab("0x103")]=a}))}}}},{key:_0x27ab("0xa45"),value:function(x){this[_0x27ab("0xa46")][_0x27ab("0xa47")](x)}},{key:_0x27ab("0xa48"),value:function(x){this.compass[_0x27ab("0xa49")](x)}},{key:_0x27ab("0xa4a"),value:function(x,a){a=a||0;var b=esmap[_0x27ab("0x80")][_0x27ab("0x5f4")](this,a,{types:[_0x27ab("0x235"),_0x27ab("0x236")],ID:x});if(0!=b[_0x27ab("0x0")]){var _=b[0];if(_.nodeType==esmap[_0x27ab("0xf1")].MODEL){for(var e=0;e<_[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x0")];e++)if(_0x27ab("0xa44")in _[_0x27ab("0xaf")].material[e][_0x27ab("0x127")]){_[_0x27ab("0xaf")][_0x27ab("0xb3")][e][_0x27ab("0x103")]=_[_0x27ab("0xaf")].material[e].userData[_0x27ab("0xa44")],delete _.o3d_[_0x27ab("0xb3")][e][_0x27ab("0x127")][_0x27ab("0xa44")];break}}else[][_0x27ab("0x1ec")](_[_0x27ab("0xaf")][_0x27ab("0xb3")]).forEach((function(x){x[_0x27ab("0x103")]=x[_0x27ab("0x127")].originalOp,delete x[_0x27ab("0x127")][_0x27ab("0xa44")]}))}}},{key:_0x27ab("0xa4b"),value:function(x){return!this.pickFilterFunction||this[_0x27ab("0xa4c")](x)}},{key:_0x27ab("0xa4d"),value:function(){this[_0x27ab("0xa4e")].initUserLogo();var x=this.mapScene[_0x27ab("0xa4f")]();this.mapView.scene[_0x27ab("0x163")](x)}},{key:_0x27ab("0xa50"),value:function(x){for(var a=0;a<this[_0x27ab("0x169")][_0x27ab("0xa2b")][_0x27ab("0x0")];a++)if(this[_0x27ab("0x169")][_0x27ab("0xa2b")][a].id==x)return this.tileService.cachedTiles[a]}},{key:_0x27ab("0xa51"),value:function(x){var a=this,b=x.id,_=x[_0x27ab("0x160")];9568297==this.sl()&&this[_0x27ab("0x175")].tileService[_0x27ab("0xa52")](b,(function(x,e){e.buildingType=_,e[_0x27ab("0xed")]=[e[_0x27ab("0x17a")].x,e.sourceData.y];var t=a[_0x27ab("0xa53")].split(",");e.o3d_[_0x27ab("0xc3")][_0x27ab("0x123")](0+1*t[0]-0,1*t[1],0+1*t[2]+0),a[_0x27ab("0x15d")][_0x27ab("0xa54")]().add(e[_0x27ab("0xaf")]),e.loadBuildings(1),a[_0x27ab("0x169")][_0x27ab("0xa55")](b,a[_0x27ab("0x33")],b)}),(function(x){a[_0x27ab("0x169")][_0x27ab("0xa56")][b]=!0,a.tileService[_0x27ab("0x9a2")][_0x27ab("0x157")](a.tileService[_0x27ab("0x9a2")][_0x27ab("0xd1")](b),1),esmap[_0x27ab("0x32")].IsMapLoading=!1,a[_0x27ab("0x169")][_0x27ab("0xa57")][b]=!0,a.tileService.queryNavs(b,a[_0x27ab("0x33")],b),a.once(_0x27ab("0xa58"),(function(x){if(a[_0x27ab("0x169")][_0x27ab("0xa57")][x]){var b=x[_0x27ab("0x28")]("_"),e=(0,g[_0x27ab("0xa9")])(1*b[0],1*b[1],a[_0x27ab("0x33")][_0x27ab("0xa59")],!0),t=(e[_0x27ab("0xb5")]-e[_0x27ab("0xb9")])/2+e[_0x27ab("0xb9")],i=(e[_0x27ab("0xbb")]-e[_0x27ab("0xba")])/2+e[_0x27ab("0xba")],n=new(A[_0x27ab("0xb")])({id:x,map:a});n[_0x27ab("0xed")]=[t,i],n.buildingType=_;var r=a[_0x27ab("0xa53")][_0x27ab("0x28")](",");n[_0x27ab("0xaf")][_0x27ab("0xc3")].set(0+1*r[0]-0,1*r[1],0+1*r[2]+0),a[_0x27ab("0x15d")][_0x27ab("0xa54")]().add(n[_0x27ab("0xaf")]),a[_0x27ab("0x169")].needNewTileByRoutes[x]=null,a.tileLoadComplete_(n)}})),0==a[_0x27ab("0x169")][_0x27ab("0x9a3")][_0x27ab("0x0")]&&0==a[_0x27ab("0x169")][_0x27ab("0x9a2")][_0x27ab("0x0")]&&(a[_0x27ab("0x1e7")]("tileUpdated"),a[_0x27ab("0xa5a")]||0!==a[_0x27ab("0x9a5")][_0x27ab("0x0")]||(esmap[_0x27ab("0x32")][_0x27ab("0x990")]=!1,a[_0x27ab("0x1e7")](_0x27ab("0x955"),{bid:a.id}),a.loadCompleted=!0))}))}},{key:_0x27ab("0xa5b"),value:function(x){this[_0x27ab("0x175")][_0x27ab("0xa5c")][_0x27ab("0xa5d")](x)}},{key:_0x27ab("0xa5e"),value:function(x){this[_0x27ab("0x175")][_0x27ab("0xa5c")][_0x27ab("0xa5f")](x)}},{key:"getMapNavLangLib",value:function(){return this[_0x27ab("0x175")][_0x27ab("0xa5c")].navLib[_0x27ab("0xb")]}},{key:_0x27ab("0xa60"),value:function(){return this[_0x27ab("0x175")][_0x27ab("0xa5c")][_0x27ab("0xa61")][_0x27ab("0xb")]}},{key:"closeBuildingById",value:(S=(0,n[_0x27ab("0xb")])(i[_0x27ab("0xb")].mark((function x(a){var b,_,e,n,r,s,o,c,l,f,u,d,h,g;return i[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x.next){case 0:if(!esmap[_0x27ab("0x32")][_0x27ab("0x990")]){x[_0x27ab("0x2b8")]=2;break}return x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 2:if(b=this,_=this.getBuildingById(a)){x.next=7;break}return console[_0x27ab("0x362")](_0x27ab("0xa62")),x.abrupt("return");case 7:return e=_[_0x27ab("0x160")],this[_0x27ab("0x1e7")](_0x27ab("0xa63"),{bid:a,type:e}),n=this[_0x27ab("0x196")][_0x27ab("0xc3")].y,r=this[_0x27ab("0x296")][_0x27ab("0x295")].y,x[_0x27ab("0x2b8")]=13,new(t[_0x27ab("0xb")])((function(x){new(esmap.TWEEN[_0x27ab("0x1cd")])(b[_0x27ab("0x296")][_0x27ab("0x295")]).to({y:0},300).easing(esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x1d0")][_0x27ab("0x1d4")]).onUpdate((function(x){b.currentCamera[_0x27ab("0xc3")].y=n-(r-x.y),b[_0x27ab("0x296")][_0x27ab("0x12b")]()}))[_0x27ab("0x1d2")](x)[_0x27ab("0x1d5")]()}));case 13:s=0;case 14:if(!(s<this[_0x27ab("0x634")][_0x27ab("0x0")])){x[_0x27ab("0x2b8")]=21;break}if(this.buildingList[s].id!=a){x[_0x27ab("0x2b8")]=18;break}return this[_0x27ab("0x634")][_0x27ab("0x157")](s,1),x.abrupt("break",21);case 18:s++,x[_0x27ab("0x2b8")]=14;break;case 21:if(_[_0x27ab("0xa64")],(o=_[_0x27ab("0xaf")]).visible=!1,c=_[_0x27ab("0x9bd")])if(6==c.nodeType)c[_0x27ab("0xaf")]?c.o3d_[_0x27ab("0xae")][_0x27ab("0x342")]&&c[_0x27ab("0xaf")].datas_[_0x27ab("0x342")].length>1?c[_0x27ab("0xaf")][_0x27ab("0xb0")][_0x27ab("0x1b")]((function(x){_.modelLoadManager[_0x27ab("0x62f")][_0x27ab("0x411")](x,c.ID,!0)})):(c[_0x27ab("0xaf")].visible=!0,esmap[_0x27ab("0x80")][_0x27ab("0x2a3")]({target:c.o3d_,alpha:!1})):c.visible=!0;else if(5==c[_0x27ab("0xe1")]){for(l=c[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0xc2")].isHideFlags.array,f=c[_0x27ab("0x343")],u=f[0];u<f[1];u+=1)l[u]=0;c[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0xc2")].isHideFlags[_0x27ab("0x146")]=!0}if(!_[_0x27ab("0xa65")]||0!=P){x[_0x27ab("0x2b8")]=29;break}return x[_0x27ab("0x2b8")]=29,_[_0x27ab("0xa66")]();case 29:this.options[_0x27ab("0xa67")]?(this.tileService[_0x27ab("0x9bc")][_.id]=o,this[_0x27ab("0x15d")][_0x27ab("0x9be")][_0x27ab("0x158")](o)):(_[_0x27ab("0x37")]=void 0,_[_0x27ab("0x15c")]=void 0,_.sourceData=void 0,_[_0x27ab("0x626")]=void 0,this[_0x27ab("0x15d")][_0x27ab("0x9be")].remove(o),o=void 0),this[_0x27ab("0x33")].buildingCache||this[_0x27ab("0x155")][_0x27ab("0x156")][a]&&(this[_0x27ab("0x155")].watchingList[a]=void 0,delete this[_0x27ab("0x155")][_0x27ab("0x156")][a]),x.t0=i[_0x27ab("0xb")][_0x27ab("0x5e0")](this.tileService.bidList);case 32:if((x.t1=x.t0()).done){x[_0x27ab("0x2b8")]=40;break}if((d=x.t1[_0x27ab("0xf8")])!=a){x[_0x27ab("0x2b8")]=38;break}return this[_0x27ab("0x169")][_0x27ab("0x5db")][d].loaded&&(this[_0x27ab("0x169")][_0x27ab("0x5db")][d][_0x27ab("0xa68")]=!1),this[_0x27ab("0x169")].bidList[d].hold=!0,x[_0x27ab("0x5e3")](_0x27ab("0xa69"),40);case 38:x[_0x27ab("0x2b8")]=32;break;case 40:for(this.fire(_0x27ab("0x9ad"),{bid:a,type:e}),h=0;h<this[_0x27ab("0x634")][_0x27ab("0x0")];h++)(g=this[_0x27ab("0x634")][h])[_0x27ab("0xaf")]&&1!=g[_0x27ab("0xaf")][_0x27ab("0x24b")].y&&new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(g[_0x27ab("0xaf")][_0x27ab("0x24b")]).to({y:1},1e3)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x1d5")]();0===this[_0x27ab("0x634")][_0x27ab("0x0")]&&this[_0x27ab("0x1e7")](_0x27ab("0xa6a"));case 43:case"end":return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x){return S[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0xa6b"),value:function(x){for(var a,b=[],_=x.o3d_,e=x[_0x27ab("0x343")][0];e<x[_0x27ab("0x343")][1];e++){var t=_[_0x27ab("0xb1")][_0x27ab("0xa6d")][e];!t.normal.x&&!t[_0x27ab("0xff")].y&&t[_0x27ab("0xff")].z<0&&b.push(t.a,t.b,t.c)}b=(0,h[_0x27ab("0x12")])(b);for(var i=0;i<b[_0x27ab("0x0")];i++)a=_[_0x27ab("0xb1")][_0x27ab("0xa6e")][b[i]],new esmap.TWEEN.Tween(a).to({z:a[_0x27ab("0xa6c")]},500)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing.Linear.None)[_0x27ab("0x1d2")]((function(){_.geometry.verticesNeedUpdate=!0}))[_0x27ab("0x1d5")]()}},{key:_0x27ab("0xa6f"),value:function(x){for(var a,b=[],_=x[_0x27ab("0xaf")],e=x[_0x27ab("0x343")][0];e<x[_0x27ab("0x343")][1];e++){var t=_[_0x27ab("0xb1")][_0x27ab("0xa6d")][e];!t[_0x27ab("0xff")].x&&!t.normal.y&&t[_0x27ab("0xff")].z<0&&b[_0x27ab("0x1")](t.a,t.b,t.c)}b=(0,h.dedupe)(b);for(var i=0;i<b[_0x27ab("0x0")];i++)(a=_[_0x27ab("0xb1")][_0x27ab("0xa6e")][b[i]])[_0x27ab("0xa6c")]=a.z,new esmap.TWEEN.Tween(a).to({z:0},500).easing(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x281")][_0x27ab("0x2ec")]).onComplete((function(){_[_0x27ab("0xb1")][_0x27ab("0xa70")]=!0})).start()}},{key:_0x27ab("0xa71"),value:function(x){var a=arguments[_0x27ab("0x0")]>1&&void 0!==arguments[1]&&arguments[1],b=a?x:this[_0x27ab("0x26f")](x),_=this[_0x27ab("0xf4")](0),e=_.modelLoadManager;return e[_0x27ab("0x8d4")](),e[_0x27ab("0xa72")][_0x27ab("0x8e3")](b)}},{key:"closeAllBuildings",value:function(){for(;this[_0x27ab("0x634")][_0x27ab("0x0")]>0;){var x=this[_0x27ab("0x634")][_0x27ab("0x4")]();this[_0x27ab("0xa73")](x.id)}}},{key:_0x27ab("0xa74"),value:function(x){var a=this;typeof x!=_0x27ab("0x148")&&typeof x!=_0x27ab("0x60")||(x={value:1*x});var b=(x=(0,r[_0x27ab("0xb")])({value:0,time:1,emitError:!1,onComplete:null},x))[_0x27ab("0xf8")],_=this.zoomLevel;D&&(D[_0x27ab("0x1c4")](),D=null),D=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])({value:_}).to({value:b},1e3*x[_0x27ab("0x1cb")])[_0x27ab("0x1ce")](esmap.TWEEN[_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x137")]((function(x){a[_0x27ab("0x168")]=x[_0x27ab("0xf8")]}))[_0x27ab("0x1d2")]((function(){x.onComplete&&x[_0x27ab("0x1d2")](),D=null}))[_0x27ab("0x1d5")]()}},{key:_0x27ab("0xa75"),value:function(){var x=this;x[_0x27ab("0xa76")][_0x27ab("0x1b")]((function(a){x.storeSelectLine(a,!1)})),x.lastSelectLineStore[_0x27ab("0x0")]=0}},{key:"storeSelectLine",value:function(x,a,b){var _=this;null==a&&(a=!0),a&&!b&&(!_.options[_0x27ab("0xa77")]&&_[_0x27ab("0xa75")](),_[_0x27ab("0xa76")][_0x27ab("0x1")](x));var e=x[_0x27ab("0xb0")][0];if(x[_0x27ab("0x70")]==_0x27ab("0x159")&&(e=x),e&&e[_0x27ab("0xb3")]){if(0==a)return e[_0x27ab("0x127")].originalMat?(e[_0x27ab("0xb3")]=e[_0x27ab("0x127")].originalMat,e[_0x27ab("0x127")][_0x27ab("0xa78")]=null):e.naviMap?e.color=e[_0x27ab("0x127")][_0x27ab("0x91c")]:e.material[_0x27ab("0x107")]=e.material[_0x27ab("0x127")][_0x27ab("0x91c")]?e[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0x91c")]:e.userData[_0x27ab("0x91c")],void(e.userData[_0x27ab("0xa38")]=!1);e.userData[_0x27ab("0x9eb")]&&(e[_0x27ab("0x127")][_0x27ab("0xa78")]=e[_0x27ab("0xb3")],e[_0x27ab("0xb3")]=e[_0x27ab("0xb3")][_0x27ab("0xe2")]()),e[_0x27ab("0xa36")]?(e[_0x27ab("0x127")][_0x27ab("0x91c")]=e[_0x27ab("0x107")],e[_0x27ab("0x107")]=_[_0x27ab("0xfc")][_0x27ab("0xa27")]):(e[_0x27ab("0x127")][_0x27ab("0x91c")]=e[_0x27ab("0xb3")][_0x27ab("0x107")][_0x27ab("0xe2")](),e.userData[_0x27ab("0xa78")]||(e.userData[_0x27ab("0xa78")]=e[_0x27ab("0xb3")]),e[_0x27ab("0xb3")]=e[_0x27ab("0xb3")][_0x27ab("0xe2")](),e[_0x27ab("0xb3")].color=new(THREE[_0x27ab("0x108")])(_[_0x27ab("0xfc")].selectedLineColor)),e[_0x27ab("0x127")][_0x27ab("0xa38")]=!0}}},{key:_0x27ab("0x9aa"),value:function(){var x=this;this.mapPicker&&(this.mapPicker.init_||(this[_0x27ab("0x155")].on(_0x27ab("0xa79"),(function(a){x[_0x27ab("0xa0d")](),x.selectLineNull(),x[_0x27ab("0xa31")]();for(var b=x[_0x27ab("0x155")][_0x27ab("0xa7a")],_=a[_0x27ab("0x4be")],e=!1,t=a.button,i=0;i<a[_0x27ab("0x4be")][_0x27ab("0x0")];i++)if((a[_0x27ab("0x4be")][i].object instanceof esmap[_0x27ab("0x5c1")]||a[_0x27ab("0x4be")][i][_0x27ab("0x1c")]instanceof esmap[_0x27ab("0x18b")])&&(a.objects[i].object[_0x27ab("0xae")][_0x27ab("0xa7b")]||a[_0x27ab("0x4be")][i][_0x27ab("0x1c")][_0x27ab("0xae")].pickPriority_)){_=[a.objects[i]];break}for(var n={},r=!1,s=0;s<_[_0x27ab("0x0")];s++)if(b||!s){b&&(x[_0x27ab("0xa0d")](),x[_0x27ab("0xa31")]());var o=_[s],c=o[_0x27ab("0x1c")],l=c,f=null;if(!c[_0x27ab("0xae")])if(21==c[_0x27ab("0xe1")])c=c.parent;else{if(c[_0x27ab("0xc5")]&&c[_0x27ab("0xc5")][_0x27ab("0xd1")]("__ignore_box")>-1)continue;c=(0,g[_0x27ab("0xac")])(c)}if(c&&!n[c[_0x27ab("0x628")]]){n[c.uuid]=!0;var u=o.point;if(c[_0x27ab("0xae")]){switch(c[_0x27ab("0xae")].nodeType){case esmap[_0x27ab("0xf1")][_0x27ab("0x639")]:var d=c.datas_[_0x27ab("0x342")],h=c.datas_.bid,v=x[_0x27ab("0x33")];2==c[_0x27ab("0xae")].bType&&(v=x[_0x27ab("0xf4")](h)[_0x27ab("0x33")]);var p=!1;if(d){var A=(0,g.getChildByFaceIndex)(o[_0x27ab("0xa7d")],d);if((f=d[A])[_0x27ab("0xaf")]||(f[_0x27ab("0xaf")]=c),l[_0x27ab("0xb1")].attributes[_0x27ab("0x9ea")]){for(var m=l[_0x27ab("0xb1")][_0x27ab("0xc2")][_0x27ab("0x9ea")][_0x27ab("0x1ae")],C=f[_0x27ab("0x343")][0],I=f[_0x27ab("0x343")][1],y=!1,E=C+1;E<I-1;E+=1)if(1==m[E]){y=!0,b=!0;break}y&&(p=!0,r=!0)}}else f=c.datas_;if(p)continue;var w=!1;f.mapId&&x[_0x27ab("0x33")].clickOpenBuildings&&2!=t&&(x.tileService[_0x27ab("0x97f")](f),w=!0);var T=f[_0x27ab("0x637")],k=x[_0x27ab("0xf4")](h);if(k){var S=k[_0x27ab("0x161")].bimLoader[_0x27ab("0xa7e")][T];S||(S=k.modelLoadManager[_0x27ab("0xa7f")][_0x27ab("0xa80")](T))&&(k[_0x27ab("0x161")][_0x27ab("0xa7f")][_0x27ab("0xa7e")][T]=S),S&&(f.uuid=S[_0x27ab("0x628")],f[_0x27ab("0xa81")]=S[_0x27ab("0xa81")])}w||(d?v[_0x27ab("0x1fa")]&&x[_0x27ab("0xa4b")](f)&&x.storeSelect(f):x[_0x27ab("0xa10")](f));break;case esmap[_0x27ab("0xf1")].MODEL3D:var M=x.options,R=x[_0x27ab("0x155")][_0x27ab("0xa82")];if(2==c[_0x27ab("0xae")][_0x27ab("0x190")]&&(M=x[_0x27ab("0xf4")](c.datas_.bid)[_0x27ab("0x33")]),!s&&M[_0x27ab("0x1fb")]&&(c[_0x27ab("0x127")].merged||!c[_0x27ab("0xae")][_0x27ab("0xa83")]&&x[_0x27ab("0xa3c")](c)),c[_0x27ab("0xae")][_0x27ab("0x342")]){var L=function(){var a=x[_0x27ab("0xf4")](0),b=a[_0x27ab("0x161")][_0x27ab("0x62f")].getFaceIndexToGroup(o.faceIndex,l[_0x27ab("0xb1")].userData[_0x27ab("0x400")]),e=a[_0x27ab("0x161")][_0x27ab("0x62f")][_0x27ab("0x410")](o[_0x27ab("0xa7d")],l.geometry.groups),i=b.id,n=c.datas_[_0x27ab("0x342")].filter((function(x){return x.id==i})),r=!1;if(!n[0])return _0x27ab("0x5e4");if(!n[0][_0x27ab("0xa84")])return _[_0x27ab("0x157")](s,1),s--,_0x27ab("0x5e4");if(n[0][_0x27ab("0x35")]&&x[_0x27ab("0x33")][_0x27ab("0xa85")]&&(r=!0),x[_0x27ab("0x33")].model3DSelectedEffect&&!r&&a[_0x27ab("0x161")].GLTFMergeTool.selectModel(o[_0x27ab("0xa7d")],l,e),f={mapId:n[0][_0x27ab("0x35")],nodeType:esmap[_0x27ab("0xf1")].MODEL3D,angle:n[0][_0x27ab("0x26c")],dataID:n[0][_0x27ab("0x637")],bid:c.datas_[_0x27ab("0xeb")],bType:c[_0x27ab("0xae")][_0x27ab("0x190")],ID:i,name:n[0][_0x27ab("0xc5")],scale:n[0].scale,Height:n[0][_0x27ab("0x49b")],model:n[0][_0x27ab("0x235")],FloorNum:n[0].fnum,gid:n[0].gid,url:n[0].url,o3d_:c,typeID:n[0][_0x27ab("0x5e2")],mapCoord:x[_0x27ab("0x24f")](n[0][_0x27ab("0xc3")])},n[0][_0x27ab("0x633")]&&(f[_0x27ab("0x633")]=n[0][_0x27ab("0x633")]),n[0][_0x27ab("0x244")]&&(f[_0x27ab("0x244")]=n[0][_0x27ab("0x244")]),n[0][_0x27ab("0xa86")]&&(f=n[0],!n[0].uuid)){var u=x[_0x27ab("0xf4")](f[_0x27ab("0xeb")]),d=n[0][_0x27ab("0x637")],h=u[_0x27ab("0x161")].bimLoader[_0x27ab("0xa7e")][d];h||(h=u[_0x27ab("0x161")][_0x27ab("0xa7f")].getInfo(d)),h&&(u[_0x27ab("0x161")][_0x27ab("0xa7f")][_0x27ab("0xa7e")][d]=h,f[_0x27ab("0x628")]=h.uuid,f[_0x27ab("0xa81")]=h.infoList)}r&&2!=t&&x[_0x27ab("0x169")][_0x27ab("0x97f")](f)}();if(L===_0x27ab("0x5e4"))continue}else c.datas_[_0x27ab("0x35")]&&x.options[_0x27ab("0xa85")]&&x[_0x27ab("0x169")][_0x27ab("0x97f")](c[_0x27ab("0xae")]);if(R){var H="";H=c[_0x27ab("0xae")][_0x27ab("0x342")]?c[_0x27ab("0xae")][_0x27ab("0x342")][0][_0x27ab("0x235")]:c[_0x27ab("0xae")][_0x27ab("0x235")];var D=x[_0x27ab("0x175")].modelStore[H][_0x27ab("0x31d")];if(!D[_0x27ab("0x127")][_0x27ab("0x2bb")]){var P=(0,g[_0x27ab("0xab")])(D);D[_0x27ab("0x127")][_0x27ab("0x2bb")]=P}_0x27ab("0xa87"),_0x27ab("0xa88"),D[_0x27ab("0x127")][_0x27ab("0x2bb")]}break;case esmap[_0x27ab("0xf1")].LINE_MARKER:f=c[_0x27ab("0xae")]||null,x[_0x27ab("0x33")].lineSelectedEffect&&x[_0x27ab("0xa89")](c);break;case esmap[_0x27ab("0xf1")][_0x27ab("0x1ba")]:x[_0x27ab("0x33")][_0x27ab("0x221")]&&x.storeSelectLine(c);break;case esmap[_0x27ab("0xf1")][_0x27ab("0xa33")]:x.options[_0x27ab("0x1fa")]&&(c[_0x27ab("0xae")][_0x27ab("0xa39")]&&(c[_0x27ab("0xae")].line.hasOwnProperty(_0x27ab("0xa8a"))||(c[_0x27ab("0xae")].line[_0x27ab("0xa8a")]=c[_0x27ab("0xae")].line.lineWidth),c[_0x27ab("0xae")].line[_0x27ab("0xc")](_0x27ab("0xa3b"))||(c[_0x27ab("0xae")].line.geometry[_0x27ab("0xa3b")]=c[_0x27ab("0xae")][_0x27ab("0xa39")][_0x27ab("0xb1")][_0x27ab("0x638")]),c[_0x27ab("0xae")][_0x27ab("0xa39")][_0x27ab("0x120")]=5,c[_0x27ab("0xae")][_0x27ab("0xa39")][_0x27ab("0x13d")]&&c[_0x27ab("0xae")].line[_0x27ab("0x13d")](),c[_0x27ab("0xae")][_0x27ab("0xa39")][_0x27ab("0x125")]=!0),x[_0x27ab("0xa3c")](c));case esmap[_0x27ab("0xf1")][_0x27ab("0xa8b")]:case esmap.ESNodeType[_0x27ab("0x63a")]:case esmap[_0x27ab("0xf1")][_0x27ab("0xa8c")]:}var O=f||c[_0x27ab("0xae")];O[_0x27ab("0xa8d")]=u.clone();var B=x[_0x27ab("0x26e")](u),N=x[_0x27ab("0x199")]({from:x[_0x27ab("0x192")],to:x[_0x27ab("0x33")].userCrs,coord:B});O[_0x27ab("0xa8e")]=N,e||(e=!0),b&&x[_0x27ab("0x33")][_0x27ab("0x223")]&&(O.propogationIndex=s);var F={button:a[_0x27ab("0x726")],object:l};if(x.fire("mapClickNode",O,F),r)break}else console[_0x27ab("0x257")](_0x27ab("0xa7c"))}}if(!e){var z=x.mapPicker[_0x27ab("0xa8f")][_0x27ab("0xa90")]([x[_0x27ab("0xa91")]],!0);1==z.length&&x.mapPicker[_0x27ab("0x1e7")]("pickerNone_",{mouse:x.mapPicker[_0x27ab("0xa92")],hitCoord:z[0][_0x27ab("0x777")],worldCoord:z[0][_0x27ab("0x777")]})}})),this.mapPicker.on(_0x27ab("0xa93"),(function(a){x[_0x27ab("0xa0d")](),x[_0x27ab("0xa31")](),x[_0x27ab("0xa75")]();var b=a[_0x27ab("0xa8e")]?x._coordThreeToMapScene(a[_0x27ab("0xa8e")]):null,_=x.transformCoord({from:x[_0x27ab("0x192")],to:x.options[_0x27ab("0x1f7")],coord:b});x[_0x27ab("0x1e7")](_0x27ab("0xa94"),{target:null,mouse:a[_0x27ab("0xa95")],hitCoord:_,nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0xa96")],worldCoord:a[_0x27ab("0xa8e")]},{button:a[_0x27ab("0x726")]})})),this[_0x27ab("0x155")].on(_0x27ab("0xa97"),(function(a){if(0!=a[_0x27ab("0xa98")][_0x27ab("0x0")]){var b=a.intersects[0][_0x27ab("0x1c")];if(!b[_0x27ab("0xae")]&&!(b=(0,g[_0x27ab("0xac")])(b)))return null;if(!b)return null;var _=b.datas_;if(_&&_[_0x27ab("0xe1")]&&(_[_0x27ab("0xe1")]==esmap[_0x27ab("0xf1")][_0x27ab("0xa99")]||_[_0x27ab("0xe1")]==esmap.ESNodeType[_0x27ab("0xa9a")]||_[_0x27ab("0xe1")]==esmap.ESNodeType[_0x27ab("0x63a")]||_[_0x27ab("0xe1")]==esmap.ESNodeType[_0x27ab("0xa8c")])){var e=a[_0x27ab("0xa98")][0][_0x27ab("0x777")];_.worldCoord=e[_0x27ab("0xe2")]();var t=x._coordThreeToMapScene(e),i=x[_0x27ab("0x199")]({from:x[_0x27ab("0x192")],to:x.options[_0x27ab("0x1f7")],coord:t});_[_0x27ab("0xa8e")]=i;var n=0;if(x[_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x3a")])n=x[_0x27ab("0x175")][_0x27ab("0x41c")]("l0");else n=x.mapService[_0x27ab("0x41c")]("ul")>>1&1||0;n>=1&&x[_0x27ab("0x1e7")]("mapKeepPress",_)}}}))))}},{key:_0x27ab("0xa9b"),value:function(){for(var x=0;x<this.animatque[_0x27ab("0x0")];x++)this[_0x27ab("0x61")](_0x27ab("0x12b"),this[_0x27ab("0x94b")][x]);this[_0x27ab("0x94b")]=[]}},{key:_0x27ab("0xa9c"),value:function(){return this[_0x27ab("0x15d")][_0x27ab("0xa30")]}},{key:_0x27ab("0x199"),value:function(x){var a=x[_0x27ab("0x2f8")],b=void 0===a?this.DEFAULT_COORDSYSTEM:a,_=x.to,e=void 0===_?this[_0x27ab("0x192")]:_,t=x[_0x27ab("0x1d8")];if(b==e)return t;var i=(0,r.default)({},t),n=esmap[_0x27ab("0x80")][_0x27ab("0xb8")](i.x,i.y),s=n;b!==e&&(s=d.default[_0x27ab("0x398")](n,d[_0x27ab("0xb")][b],d.default[e]));var o=esmap[_0x27ab("0x80")][_0x27ab("0xb7")](s[0],s[1]);return i.x=o[0],i.y=o[1],i}},{key:_0x27ab("0xa9d"),value:function(x){return this[_0x27ab("0x33")].userCrs!=this[_0x27ab("0x192")]?this[_0x27ab("0x199")]({from:this.options[_0x27ab("0x1f7")],to:this[_0x27ab("0x192")],coord:x}):x}},{key:_0x27ab("0x56b"),value:function(x){var a=x.from,b=x.to,_=x[_0x27ab("0xa9e")],e=x.flipX,t=void 0!==e&&e;if(a==b)return _;var i=[];for(var n in _)if(isNaN(_[n].x)||isNaN(_[n].y))console[_0x27ab("0x257")](_0x27ab("0xa9f"),_[n]);else{var s=(0,r.default)({},_[n]);t&&(s.x=-s.x);var o=this[_0x27ab("0x199")]({from:a,to:b,coord:s});s.x=o.x,s.y=o.y,t&&(s.x=-s.x),i[_0x27ab("0x1")](s)}return i}},{key:_0x27ab("0x26f"),value:function(x){var a=this[_0x27ab("0x199")]({from:this[_0x27ab("0x33")].userCrs,to:this[_0x27ab("0x192")],coord:x});return this[_0x27ab("0x193")](a)}},{key:"_coordMapSceneToThree",value:function(x){var a=x.z||x[_0x27ab("0x143")]||0,b=this[_0x27ab("0x15d")],_={x:x.x,y:x.y};return _.x=-(_.x+b[_0x27ab("0x1ab")]),_.y=_.y-b[_0x27ab("0x1ac")],new(THREE[_0x27ab("0xe7")])(_.x,a,_.y)}},{key:"coordThreeToMap",value:function(x){var a={x:this.localCenter.x-x.x,y:x.z+this[_0x27ab("0xaa0")].y,z:x.y||0};return this[_0x27ab("0x199")]({from:this[_0x27ab("0x192")],to:this[_0x27ab("0x33")][_0x27ab("0x1f7")],coord:a})}},{key:_0x27ab("0x26e"),value:function(x){return{x:this[_0x27ab("0xaa0")].x-x.x,y:x.z+this[_0x27ab("0xaa0")].y,z:x.y||0}}},{key:_0x27ab("0x999"),value:function(){this[_0x27ab("0x93f")]=!0,this[_0x27ab("0xaa1")]=!1,this[_0x27ab("0xaa2")]=!1,this.updateCountDown_=0,this[_0x27ab("0xaa3")]=Math.sqrt(Math.pow((this[_0x27ab("0x448")]-this[_0x27ab("0x446")])/2,2)+Math[_0x27ab("0xb4")]((this[_0x27ab("0x449")]-this.minY)/2,2)),this.viewMode={mode:this[_0x27ab("0x33")][_0x27ab("0x1fe")],init:!0,time:0},this[_0x27ab("0xa91")]=new(THREE[_0x27ab("0x159")])(new(THREE[_0x27ab("0xaa4")])(30707730.7171648,30707730.7171648,1,1),new(THREE[_0x27ab("0x106")])({color:6724044,visible:!1})),this.plane_[_0x27ab("0xc5")]=_0x27ab("0xaa5"),this[_0x27ab("0xa91")][_0x27ab("0xae")]={nodeType:1,name:_0x27ab("0xaa6"),o3d_:this[_0x27ab("0xa91")]},this[_0x27ab("0x15d")].o3dScene_[_0x27ab("0x163")](this[_0x27ab("0xa91")]),this[_0x27ab("0xa91")].position[_0x27ab("0x123")](0,0,0),this[_0x27ab("0xa91")][_0x27ab("0x1b1")].x=-Math.PI/2,this.fire(_0x27ab("0x1d5")),this[_0x27ab("0xaa7")]||(this._haveUpdate=!0),this.on("update",this[_0x27ab("0x9ca")])}},{key:"tileLoadComplete_",value:function(x){var a=this;a[_0x27ab("0x1e7")]("tileLoadComplete",x),a.mapService[_0x27ab("0x1a0")][x.id]&&a[_0x27ab("0x1e7")](_0x27ab("0xaa8"),x.id),a[_0x27ab("0x33")].editMode&&a.options.loadRoads&&x[_0x27ab("0x19f")](),a[_0x27ab("0x33")][_0x27ab("0x21f")]&&x[_0x27ab("0x179")]();var b=x.id,_=a[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a2")].indexOf(b);if(a[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a2")][_0x27ab("0x157")](_,1),0==a[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a2")][_0x27ab("0x0")]&&0==a[_0x27ab("0x175")].tileService.currentView[_0x27ab("0x0")]){if(!a.mapService[_0x27ab("0x9a4")]){a[_0x27ab("0x175")].tileInited=!0;var e=a[_0x27ab("0x9a5")],t=!0;for(var i in e){var n=e[i],r=n.modelLoadManager.queue[_0x27ab("0x0")],s=n.modelLoadManager[_0x27ab("0xaa9")][_0x27ab("0x0")];if(r>0||s>0){t=!1;break}}!a[_0x27ab("0x175")][_0x27ab("0xaaa")]&&t&&(a[_0x27ab("0x175")][_0x27ab("0xaaa")]=!0)}a[_0x27ab("0x1e7")](_0x27ab("0xaab")),a[_0x27ab("0xa5a")]||(a.loadCompleted=!0,esmap[_0x27ab("0x32")].IsMapLoading=!1,a[_0x27ab("0x1e7")]("loadComplete",{bid:a.id})),a[_0x27ab("0xaac")]()}}},{key:"buildingMapLoadComplete_",value:function(){var x=this;esmap[_0x27ab("0x32")][_0x27ab("0x990")]=!1;var a=this[_0x27ab("0x614")][_0x27ab("0x1fc")].clientWidth,b=this.mapView[_0x27ab("0x1fc")][_0x27ab("0x426")];x[_0x27ab("0x614")][_0x27ab("0xaad")](a,b),x.zonTempObj[_0x27ab("0x41b")](a,b),x.scaler_[_0x27ab("0xaae")](),this.on(_0x27ab("0x13c"),(function(){var a=x.mapView[_0x27ab("0x168")];x.computeLocalScaleLevel(a),a<=x[_0x27ab("0x33")][_0x27ab("0xaaf")]?x.closeAllBuildings():a<=x.options[_0x27ab("0xaaf")]&&x[_0x27ab("0xa3f")]&&0!=x[_0x27ab("0xa3f")][_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x103")]&&(x[_0x27ab("0xa3f")][_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x103")]=0),x[_0x27ab("0x941")][_0x27ab("0xaae")]()}))}},{key:"loadComplete_",value:function(x){var a=this;a[_0x27ab("0x614")].initViewState=this[_0x27ab("0xa04")](),esmap[_0x27ab("0x32")][_0x27ab("0x990")]=!1;var _=this[_0x27ab("0x614")][_0x27ab("0x1fc")][_0x27ab("0x3c1")],e=this[_0x27ab("0x614")][_0x27ab("0x1fc")].clientHeight;a[_0x27ab("0x614")][_0x27ab("0xaad")](_,e),a[_0x27ab("0xa4e")][_0x27ab("0x41b")](_,e),a[_0x27ab("0x941")][_0x27ab("0xaae")]();var t=b(138),i=t.ESCityLicSet[_0x27ab("0x43")](a[_0x27ab("0x175")].tileService[_0x27ab("0xab0")]);if(Object[_0x27ab("0x7")](a,"__mbs",{value:i[_0x27ab("0x531")],writable:!1,enumerable:!1,configurable:!0}),a[_0x27ab("0x1e7")](_0x27ab("0xab1"),{}),window[_0x27ab("0x42a")][_0x27ab("0xab2")]||(a[_0x27ab("0x936")]=!0,a.tileService[_0x27ab("0xab3")]()),this.on(_0x27ab("0x12b"),(function(){a[_0x27ab("0xab4")]()})),this.on(_0x27ab("0x13c"),(function(){var x=a[_0x27ab("0x614")][_0x27ab("0x168")],b=a.options[_0x27ab("0x22a")],_=a.options[_0x27ab("0xab5")];null!=b&&x<b&&(a[_0x27ab("0x168")]=b),null!=_&&x>_&&(a[_0x27ab("0x168")]=_),a[_0x27ab("0xab6")](x),x<=a[_0x27ab("0x33")][_0x27ab("0xaaf")]?a[_0x27ab("0xa6a")]():x<=a.options.tileShowLevel&&a[_0x27ab("0xa3f")]&&0!=a[_0x27ab("0xa3f")][_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x103")]&&(a[_0x27ab("0xa3f")][_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x103")]=0),a.scaler_[_0x27ab("0xaae")]()})),t[_0x27ab("0x529")].comparehs()){if(a[_0x27ab("0x33")].logotoken&&i[_0x27ab("0x44e")])esmap[_0x27ab("0x80")][_0x27ab("0x7d")](_0x27ab("0xab8")+i[_0x27ab("0x533")]+a[_0x27ab("0x33")][_0x27ab("0x44e")])===i[_0x27ab("0x44e")]&&(a[_0x27ab("0xa4e")][_0x27ab("0x417")][_0x27ab("0x127")][_0x27ab("0xf6")]=!1);if(esmap[_0x27ab("0x80")][_0x27ab("0x7d")](i[_0x27ab("0x446")]+""+i.minY+i[_0x27ab("0x448")]+i[_0x27ab("0x449")]+i[_0x27ab("0x7e")]+i[_0x27ab("0x44e")]+ +i[_0x27ab("0x531")]+i[_0x27ab("0x532")]+_0x27ab("0xab9")+i.o1+i.ul)===i[_0x27ab("0x456")]){if(!a[_0x27ab("0xaba")]&&i[_0x27ab("0x7e")]!=_0x27ab("0xabb"))if(esmap[_0x27ab("0x80")][_0x27ab("0x7d")](i[_0x27ab("0x43d")]+""+a[_0x27ab("0x33")][_0x27ab("0x7e")])!=i[_0x27ab("0x7e")]&&3==a[_0x27ab("0x33")][_0x27ab("0x96")])return void a[_0x27ab("0x175")][_0x27ab("0xab7")](0)}else a[_0x27ab("0x175")]._sdu(0)}else a.mapService[_0x27ab("0xab7")](0)}},{key:_0x27ab("0xab6"),value:function(x){for(var a=this.localScaleLevels,b=23,_=0;_<a.length;_++)if(a[_]<=x){b=_;break}this[_0x27ab("0x951")]=b}},{key:_0x27ab("0xabc"),value:function(){var x=this[_0x27ab("0x33")].worldScale,a=-this[_0x27ab("0x15d")][_0x27ab("0x1ab")]-this[_0x27ab("0x296")][_0x27ab("0x295")].x,b=this.mapScene[_0x27ab("0x1ac")]+this.controls[_0x27ab("0x295")].z,_=(0,g[_0x27ab("0xaa")])(a,b,x);this.mapService[_0x27ab("0x169")].loadTile(_.x+"_"+_.y,!0)}},{key:_0x27ab("0x945"),value:function(){if(this[_0x27ab("0x34")]===esmap[_0x27ab("0x39")].City&&(!this.mapService[_0x27ab("0x9ab")]&&!(this[_0x27ab("0x168")]<=this[_0x27ab("0x33")][_0x27ab("0xaaf")])&&this.mapService[_0x27ab("0x169")][_0x27ab("0xabd")]())){(0==this[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a3")][_0x27ab("0x0")]||this.mapService.tileDisabled)&&this.mapService[_0x27ab("0x169")][_0x27ab("0xab3")]();for(var x=0;x<this[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0xb0")][_0x27ab("0x0")];x++){var a=this[_0x27ab("0x15d")].tileScene_.children[x][_0x27ab("0xae")];a[_0x27ab("0xaf")]&&(a[_0x27ab("0xaf")][_0x27ab("0xf6")]&&a[_0x27ab("0x161")][_0x27ab("0x98a")][_0x27ab("0x0")]>0&&(a.modelLoadManager[_0x27ab("0x308")]=!1))}}}},{key:_0x27ab("0xabe"),value:function(x){for(var a=this,b=0;b<a[_0x27ab("0x15d")][_0x27ab("0x9be")][_0x27ab("0xb0")][_0x27ab("0x0")];b++){var _=a[_0x27ab("0x15d")].buildingScene_[_0x27ab("0xb0")][b].datas_;if(_[_0x27ab("0x98c")]&&_.id==x){var e=a[_0x27ab("0x15d")][_0x27ab("0x9be")][_0x27ab("0xb0")][b];e[_0x27ab("0xf6")]=!1,e[_0x27ab("0xc7")][_0x27ab("0x158")](e);for(var t=0;t<a[_0x27ab("0x634")][_0x27ab("0x0")];t++)if(a[_0x27ab("0x634")][t].id==e[_0x27ab("0xae")].id){a[_0x27ab("0x634")][_0x27ab("0x157")](t,1);break}e[_0x27ab("0xae")][_0x27ab("0x160")]==esmap.ESBuildingType[_0x27ab("0xabf")]&&a[_0x27ab("0x169")][_0x27ab("0xa2c")](e[_0x27ab("0xae")]);break}}}},{key:_0x27ab("0xa2d"),value:function(){for(var x=this,a=this[_0x27ab("0x26e")](this[_0x27ab("0x296")][_0x27ab("0x295")],!0),b=[],_=0;_<x[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0xb0")][_0x27ab("0x0")];_++){var e=x.mapScene.tileScene_[_0x27ab("0xb0")][_];if(e[_0x27ab("0xae")][_0x27ab("0xed")]){var t=e[_0x27ab("0xae")][_0x27ab("0xed")],i=e[_0x27ab("0xae")].id,n=(0,h.DistanceofTwoPts)({x:t[0],y:t[1]},a);b.push({dis:n,id:i,index:_})}}b=b[_0x27ab("0x416")]((function(x,a){return a[_0x27ab("0x63d")]-x[_0x27ab("0x63d")]}));for(var r=0;r<b[_0x27ab("0x0")];r++){var s=x.mapScene[_0x27ab("0x1bf")].children[_0x27ab("0x0")],o=b[r];if(!(x.mapService[_0x27ab("0x169")][_0x27ab("0x16a")][_0x27ab("0xd1")](o.id)>-1)){if(s<=x[_0x27ab("0x33")][_0x27ab("0xac0")])break;for(var c=0;c<x[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0xb0")][_0x27ab("0x0")];c++){var l=x.mapScene[_0x27ab("0x1bf")][_0x27ab("0xb0")][c];if(l[_0x27ab("0xae")].id==o.id){l[_0x27ab("0xf6")]=!1,x[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0x158")](l),c--,b[_0x27ab("0x157")](r,1),r--,x.mapService[_0x27ab("0x169")].cachedTiles[_0x27ab("0xd1")](l.datas_)<0&&x[_0x27ab("0x169")][_0x27ab("0xa2c")](l.datas_),x[_0x27ab("0x1e7")](_0x27ab("0xa2d"),{bid:l[_0x27ab("0xae")].id});break}}}}}},{key:_0x27ab("0xac1"),value:function(x,a,b,_,e){if(a==x[_0x27ab("0x0")]-1)return!0;var t,i,n,r,s,o,c=x[a],l=x[a+1],f=l[_0x27ab("0xe2")]().sub(c),u=_/2,d=(t=l,i=c,n=new THREE.Vector3(1,0,0),r=new(THREE[_0x27ab("0xe7")])(t.x,0,t.y),s=new THREE.Vector3(i.x,0,i.y).clone()[_0x27ab("0x2f3")](r)[_0x27ab("0x2f4")](),o=s[_0x27ab("0x265")](n)*THREE[_0x27ab("0x28e")][_0x27ab("0x2f5")],s[_0x27ab("0xe2")]()[_0x27ab("0x264")](n).y>0?o:360-o),h=f[_0x27ab("0x0")]();if(f[_0x27ab("0x2f4")](),0!=h){if(h>_){var g=Math[_0x27ab("0xdd")](h/_),v=h%_,p=c[_0x27ab("0xe2")]()[_0x27ab("0x163")](f[_0x27ab("0xe2")]()[_0x27ab("0x28c")](u));p[_0x27ab("0x26c")]=d,p[_0x27ab("0x24b")]=_/e,b.push(p);for(var A=1;A<g;A++){var m=b[b.length-1][_0x27ab("0xe2")]()[_0x27ab("0x163")](f[_0x27ab("0xe2")]()[_0x27ab("0x28c")](_));m[_0x27ab("0x26c")]=d,m[_0x27ab("0x24b")]=_/e,b[_0x27ab("0x1")](m)}if(v>0)if(v>=e/2){var C=b[b.length-1][_0x27ab("0xe2")]()[_0x27ab("0x163")](f[_0x27ab("0xe2")]()[_0x27ab("0x28c")](u+v/2));C.angle=d,C.scale=v/e,b[_0x27ab("0x1")](C)}else{var I=b[b.length-1];I[_0x27ab("0x24b")]=(v+_)/e;var y=I[_0x27ab("0xe2")]().add(f[_0x27ab("0xe2")]()[_0x27ab("0x28c")](v/2));I.x=y.x,I.y=y.y}}else{var E=c[_0x27ab("0xe2")]()[_0x27ab("0x163")](f[_0x27ab("0xe2")]()[_0x27ab("0x28c")](h/2));E[_0x27ab("0x26c")]=d,E[_0x27ab("0x24b")]=h/e,b[_0x27ab("0x1")](E)}this[_0x27ab("0xac1")](x,++a,b,_,e)}}},{key:_0x27ab("0xac2"),value:function(){for(var x=this,a=0;a<x.mapScene.tileScene_[_0x27ab("0xb0")][_0x27ab("0x0")];a++){var b=x[_0x27ab("0x15d")][_0x27ab("0x1bf")].children[a].datas_;if(b)for(var _={x:b[_0x27ab("0xed")][0],y:b[_0x27ab("0xed")][1]},e=0;e<x[_0x27ab("0x175")][_0x27ab("0xac3")][_0x27ab("0x0")];e++){if((0,h[_0x27ab("0xd6")])(x.mapService[_0x27ab("0xac3")][e],_)<=2*x[_0x27ab("0x175")].tileSize){new(esmap[_0x27ab("0x1cc")].Tween)(b[_0x27ab("0xaf")][_0x27ab("0x24b")]).to({y:.15},1e3)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x1d5")]();break}}}}},{key:_0x27ab("0xaac"),value:function(){var x=this[_0x27ab("0x175")][_0x27ab("0xac4")],a=!0;for(var b in x)if(x[b]){a=!1;break}if(a&&!this[_0x27ab("0x175")][_0x27ab("0x9a7")]){var _=this.tileList,e=!0;for(var t in _){var i=_[t],n=i.modelLoadManager[_0x27ab("0x989")][_0x27ab("0x0")],r=i.modelLoadManager.requisitesQueue[_0x27ab("0x0")],s=0;for(var o in i[_0x27ab("0x161")][_0x27ab("0x9a6")]){var c=i[_0x27ab("0x161")][_0x27ab("0x9a6")][o];for(var l in c)s+=c[l][_0x27ab("0x0")]}if(n>0||r>0||s>0){e=!1;break}}e&&(this[_0x27ab("0x175")][_0x27ab("0x9a7")]=!0,this.fire(_0x27ab("0x9a8")),this[_0x27ab("0x1e7")](_0x27ab("0x9a7"),{bid:this.id}))}}},{key:"checkTileView",value:(v=(0,n.default)(i[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(){var a,b,_,e,t,n,r,s;return i.default[_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:if(!this[_0x27ab("0x175")][_0x27ab("0x9ab")]){x[_0x27ab("0x2b8")]=2;break}return x.abrupt("return");case 2:if(this[_0x27ab("0x936")]&&!this[_0x27ab("0x175")][_0x27ab("0xac5")]){x[_0x27ab("0x2b8")]=4;break}return x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 4:if(!((a=this)[_0x27ab("0x168")]<=a[_0x27ab("0x33")][_0x27ab("0xaaf")])){x.next=13;break}if(!(a[_0x27ab("0x936")]&&a[_0x27ab("0x15d")][_0x27ab("0x1bf")].children[_0x27ab("0x0")]>0)){x[_0x27ab("0x2b8")]=11;break}return a.mapScene[_0x27ab("0x1bf")][_0x27ab("0xf6")]&&(a[_0x27ab("0x15d")].tileScene_.visible=!1),a.mapService[_0x27ab("0x169")][_0x27ab("0x16a")]=[],a[_0x27ab("0xa2d")](),x.abrupt(_0x27ab("0x2be"));case 11:x[_0x27ab("0x2b8")]=14;break;case 13:a[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0xf6")]||(a[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0xf6")]=!0);case 14:if(!(a[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a3")][_0x27ab("0x0")]>0)){x[_0x27ab("0x2b8")]=48;break}a.handling||(a[_0x27ab("0xac6")]=!0),b=a[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a3")][_0x27ab("0x4")](),_=!1,e=null,t=0;case 20:if(!(t<a[_0x27ab("0x15d")].tileScene_[_0x27ab("0xb0")][_0x27ab("0x0")])){x.next=29;break}if((n=a[_0x27ab("0x15d")][_0x27ab("0x1bf")][_0x27ab("0xb0")][t]).datas_.id!=b){x[_0x27ab("0x2b8")]=26;break}return _=!0,e=n,x[_0x27ab("0x5e3")](_0x27ab("0xa69"),29);case 26:t++,x[_0x27ab("0x2b8")]=20;break;case 29:if(_){x[_0x27ab("0x2b8")]=45;break}r=a[_0x27ab("0x175")][_0x27ab("0x169")].cachedTiles,s=0;case 32:if(!(s<r[_0x27ab("0x0")])){x[_0x27ab("0x2b8")]=45;break}if(r[s].id!=b){x[_0x27ab("0x2b8")]=42;break}return a[_0x27ab("0x15d")].tileScene_[_0x27ab("0x163")](r[s][_0x27ab("0xaf")]),r[s].o3d_.visible||(r[s][_0x27ab("0xaf")][_0x27ab("0xf6")]=!0),r[s][_0x27ab("0x161")].queueRanked=!1,a[_0x27ab("0x175")][_0x27ab("0x169")].checkToLoadedBuildings(),a[_0x27ab("0x175")].tileService[_0x27ab("0xa2b")][_0x27ab("0x157")](s,1),_=!0,0==a[_0x27ab("0x175")].tileService.currentView[_0x27ab("0x0")]&&0==a[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a2")][_0x27ab("0x0")]&&(a.fire(_0x27ab("0xaab")),a[_0x27ab("0xaac")]()),x[_0x27ab("0x5e3")](_0x27ab("0xa69"),45);case 42:s++,x[_0x27ab("0x2b8")]=32;break;case 45:!_&&a[_0x27ab("0x175")].tileService[_0x27ab("0x9a2")].indexOf(b)<0?(a[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9a2")].push(b),a[_0x27ab("0x175")].tileService.loadTile(b)):e&&!e[_0x27ab("0xf6")]&&(e[_0x27ab("0xf6")]=!0),x.next=49;break;case 48:a.handling&&(a[_0x27ab("0xac6")]=!1);case 49:a.mapScene[_0x27ab("0x1bf")].children.length>a[_0x27ab("0x33")].maximumTiles&&0==a.mapService.tileService[_0x27ab("0x9a2")].length&&0==a[_0x27ab("0x175")].tileService[_0x27ab("0x9a3")][_0x27ab("0x0")]&&a[_0x27ab("0xa2d")]();case 50:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(){return v.apply(this,arguments)})},{key:_0x27ab("0x93e"),value:function(){var x=this;if("3D"==this.viewMode_&&Math.PI,this[_0x27ab("0x1e7")](_0x27ab("0x154")),this[_0x27ab("0x93f")]=!0,"3D"!=this[_0x27ab("0x9dc")]&&(this[_0x27ab("0x614")][_0x27ab("0x613")][_0x27ab("0xc3")][_0x27ab("0x27d")](this[_0x27ab("0x614")][_0x27ab("0xac7")].position),this[_0x27ab("0x941")][_0x27ab("0xaae")]()),this[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]&&this[_0x27ab("0x33")].autoOpenBuilding&&!esmap.ESMap[_0x27ab("0x990")]&&!esmap.ESMap.isAnimating){var a=this.mapView[_0x27ab("0xac8")](),b=this[_0x27ab("0x169")][_0x27ab("0x5db")];if(this.zoomLevel>=this.options[_0x27ab("0xac9")]){var _=null,e=null;for(var t in b){var i=b[t];if(!i[_0x27ab("0xaca")]&&(!i.locked&&i[_0x27ab("0x636")])){var n=esmap[_0x27ab("0x80")].pointInArea(a,i[_0x27ab("0x636")]);i[_0x27ab("0xa68")]?n||e||(e=i):n&&!_&&(_=i.bid,i[_0x27ab("0xa68")]=!0)}}_&&e&&(this[_0x27ab("0xa73")](e[_0x27ab("0xeb")]),e[_0x27ab("0xa68")]=!1),_&&this[_0x27ab("0x97b")](_)}else for(var r in b){var s=b[r];s.hold&&(s[_0x27ab("0xaca")]=!1),s[_0x27ab("0x401")]||s[_0x27ab("0xa68")]&&(this[_0x27ab("0xa73")](s[_0x27ab("0xeb")]),s.loaded=!1)}}H&&window[_0x27ab("0xacb")](H),H=setTimeout((function(){x[_0x27ab("0x1e7")](_0x27ab("0x167")),window[_0x27ab("0xacb")](H),H=null}),300);for(var o=this.controls[_0x27ab("0xacc")](),c=M,l=0;l<this[_0x27ab("0x946")][_0x27ab("0x0")];l++)if(o<this[_0x27ab("0x946")][l])return void((M=l-1)!=c&&this.fire(_0x27ab("0xacd"),{level:M,rate:o}))}},{key:_0x27ab("0x9ca"),value:function(){this[_0x27ab("0x15d")][_0x27ab("0xace")](this[_0x27ab("0x614")])}},{key:_0x27ab("0xacf"),value:function(){}},{key:"validRange_",value:function(x,a){return!0}},{key:_0x27ab("0x99a"),value:function(x){var a=x.focusFnum_,b=x[_0x27ab("0x17a")],e=x[_0x27ab("0x33")][_0x27ab("0xed")]||x.center,t=this[_0x27ab("0x26f")](e),i=this;if(x[_0x27ab("0xad0")]&&b[_0x27ab("0x43c")][a-1]){var n,r=x.box3_[_0x27ab("0x67e")](new(THREE[_0x27ab("0xe7")])),s=b[_0x27ab("0x43c")][a-1][_0x27ab("0x4a3")],o=.75*r.x+s,c=e?new(THREE[_0x27ab("0xe7")])(t.x,s,t.z):new(THREE[_0x27ab("0xe7")])(0,s,0);n=new THREE.Vector3(r.x,o,-r.x),this.mapView[_0x27ab("0x613")][_0x27ab("0xc3")].copy(n),this[_0x27ab("0xad1")]=c,this[_0x27ab("0x296")][_0x27ab("0x295")].copy(c),i[_0x27ab("0xad2")]=i[_0x27ab("0x33")].minScaleLevel,i[_0x27ab("0xad3")]=i[_0x27ab("0x33")][_0x27ab("0x21a")]?i.options[_0x27ab("0x21a")]>=i[_0x27ab("0x946")][_0x27ab("0x0")]?i[_0x27ab("0x946")][_0x27ab("0x0")]-1:i[_0x27ab("0x33")][_0x27ab("0x21a")]:i[_0x27ab("0x946")].length-1;var l=new THREE.Vector3,f=this[_0x27ab("0x296")].object[_0x27ab("0xc3")][_0x27ab("0x301")](l);if(this[_0x27ab("0x296")].initDistance_=f,this.controls[_0x27ab("0xad4")]=esmap[_0x27ab("0x80")][_0x27ab("0x5ee")](this[_0x27ab("0x614")][_0x27ab("0x613")],this.controls,f)[_0x27ab("0x184")],i[_0x27ab("0x296")][_0x27ab("0xa15")](i.scaleLevels_[i[_0x27ab("0xad2")]],i[_0x27ab("0x946")][i[_0x27ab("0xad3")]],!0),this[_0x27ab("0x33")][_0x27ab("0x209")]){var u=this[_0x27ab("0x33")][_0x27ab("0x209")],d=0;switch(void 0===u?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(u)){case _0x27ab("0x60"):switch(u){case"n":d=Math.PI;break;case"s":default:d=0;break;case"w":d=-Math.PI/2;break;case"e":d=Math.PI/2;break;case"ne":d=.75*Math.PI;break;case"nw":d=1.25*Math.PI;break;case"se":d=Math.PI/4;break;case"sw":d=-Math.PI/4}this[_0x27ab("0x33")][_0x27ab("0x1fe")],esmap[_0x27ab("0xad5")].MODE_2D,this[_0x27ab("0x296")][_0x27ab("0x12b")]({forceTheta:d});break;case _0x27ab("0x148"):this[_0x27ab("0x296")][_0x27ab("0x12b")]({forceTheta:u*THREE.Math[_0x27ab("0x61a")]});break;case"object":var h=this[_0x27ab("0x33")].defaultControlsPose[_0x27ab("0x295")][_0x27ab("0x28")](","),g=this[_0x27ab("0x33")][_0x27ab("0x209")][_0x27ab("0xc3")][_0x27ab("0x28")](","),v=new(THREE[_0x27ab("0xe7")])(parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])),p=new(THREE[_0x27ab("0xe7")])(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]));return this[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0x27d")](v),this[_0x27ab("0x296")][_0x27ab("0x1c")].position.copy(p),this[_0x27ab("0x296")][_0x27ab("0x12b")](),!0}}if(this[_0x27ab("0x33")].hasOwnProperty(_0x27ab("0x20c"))&&null!=this[_0x27ab("0x33")][_0x27ab("0x20c")]){var A=(180-this[_0x27ab("0x33")][_0x27ab("0x20c")])*Math.PI/180;this.controls[_0x27ab("0x12b")]({forceTheta:A})}else if(!this[_0x27ab("0x33")].defaultControlsPose){var m=Math.PI;this[_0x27ab("0x296")].update({forceTheta:m})}return null!=this[_0x27ab("0x33")][_0x27ab("0x20d")]&&(this[_0x27ab("0x9a1")]=this[_0x27ab("0x33")].defaultTiltAngle),this[_0x27ab("0x671")]=0,!1}}},{key:"_alwaysShowLabelAndPOI",value:function(x,a){}},{key:"sl",value:function(){for(var x=this[_0x27ab("0x614")][_0x27ab("0x9dd")][_0x27ab("0xb0")],a=null,b=0;b<x[_0x27ab("0x0")];b++)x[b][_0x27ab("0x127")][_0x27ab("0xf6")]&&(a=x[b]);if(!a)return 9568297;for(var _=a.material[_0x27ab("0x37")][_0x27ab("0x187")]?a[_0x27ab("0xb3")].map[_0x27ab("0x187")].src:"",e=_[_0x27ab("0x0")],t=0,i=0;i<e;i++)t+=_[i][_0x27ab("0x2a")]();return parseInt(t,16)}},{key:_0x27ab("0xad6"),value:function(x){this[_0x27ab("0x15d")][_0x27ab("0x1b3")][_0x27ab("0x163")](x.o3d_),this[_0x27ab("0x155")][_0x27ab("0x1bb")](x[_0x27ab("0xaf")])}},{key:_0x27ab("0xad7"),value:function(x){x[_0x27ab("0xb2")]()}},{key:_0x27ab("0xad8"),value:function(x){return this[_0x27ab("0x15d")][_0x27ab("0xa4f")]()[_0x27ab("0x256")](x)}},{key:_0x27ab("0xad9"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bid:0,fnum:1},a=this[_0x27ab("0x614")].w_/2,b=this[_0x27ab("0x614")].h_/2,_=void 0,e=this[_0x27ab("0xf4")](x[_0x27ab("0xeb")]);e?_=e[_0x27ab("0x30e")](x[_0x27ab("0xee")]):(e=this.getTileById(x[_0x27ab("0xeb")]),_=0);var t=this[_0x27ab("0xada")](a,b,_);return t.z+=1,t}},{key:"coordScreenToScene",value:function(x,a){var b=arguments[_0x27ab("0x0")]>2&&void 0!==arguments[2]?arguments[2]:0;if(!this[_0x27ab("0xa91")])return null;var _=this.currentCamera||this[_0x27ab("0x614")][_0x27ab("0x613")],e=null;e=new(THREE[_0x27ab("0xe7")])(x/this.mapView.w_*2-1,1-a/this[_0x27ab("0x614")].h_*2,.5);var t=new(THREE[_0x27ab("0xadb")]);t[_0x27ab("0xadc")](e,_),this.plane_[_0x27ab("0xc3")].y=b,this[_0x27ab("0xa91")][_0x27ab("0x6eb")](),this[_0x27ab("0xacf")]();var i=t[_0x27ab("0xadd")](this[_0x27ab("0xa91")]);if(i[_0x27ab("0x0")]>0){var n=i[0][_0x27ab("0x777")];return n}return null}},{key:"coordScreenToMap",value:function(x,a){_0x27ab("0x0");var b=this[_0x27ab("0xade")](x,a,0);return b?this[_0x27ab("0x24f")](b):null}},{key:_0x27ab("0xadf"),value:function(x,a,b){var _=this[_0x27ab("0x196")],e=this[_0x27ab("0x26f")]({x:x,y:a,z:b||0});e[_0x27ab("0xae0")](_);var t=this.mapView[_0x27ab("0xae1")],i=this.mapView[_0x27ab("0xae2")];return{x:e.x*t+t,y:i-e.y*i}}},{key:"project_",value:function(x){var a=new(THREE[_0x27ab("0xe7")]);a.setFromMatrixPosition(x[_0x27ab("0x19d")]),a.project(this.currentCamera);var b=a.x*this[_0x27ab("0x614")][_0x27ab("0xae1")],_=a.y*this[_0x27ab("0x614")][_0x27ab("0xae2")];return{x:b+this[_0x27ab("0x614")].w_2_,y:-_+this[_0x27ab("0x614")][_0x27ab("0xae2")]}}},{key:_0x27ab("0xae3"),value:function(x){var a=[this[_0x27ab("0xa9c")]()].concat(this[_0x27ab("0x634")]);for(var b in a){var _=a[b][_0x27ab("0x626")];for(var e in _)for(var t=_[e][_0x27ab("0xb0")],i=0;i<t[_0x27ab("0x0")];i++)if(t[i][_0x27ab("0xc5")]==_0x27ab("0xae4")&&t[i][_0x27ab("0x127")].id===x)return t[i][_0x27ab("0xae")]}return null}},{key:_0x27ab("0xae5"),value:function(x){var a=[this[_0x27ab("0xa9c")]()][_0x27ab("0x1ec")](this[_0x27ab("0x634")]);for(var b in a){var _=a[b].o3dFloors_;for(var e in _)for(var t=_[e].children,i=0;i<t.length;i++)if(t[i][_0x27ab("0xc5")]==_0x27ab("0xae4")&&t[i][_0x27ab("0x127")].id===x)return t[i].datas_[_0x27ab("0x316")](),!0}}},{key:"clearAllPopMarker",value:function(){var x=[this[_0x27ab("0xa9c")]()][_0x27ab("0x1ec")](this[_0x27ab("0x634")]);for(var a in x){var b=x[a].o3dFloors_;for(var _ in b)for(var e=b[_][_0x27ab("0xb0")],t=0;t<e[_0x27ab("0x0")];t++)"popGroup"==e[t].name&&(e[t][_0x27ab("0xae")].close(),t--)}}},{key:_0x27ab("0xae6"),value:function(x){var a=this,b=this[_0x27ab("0x169")][_0x27ab("0xae7")][_0x27ab("0x0")],_=0;this[_0x27ab("0x33")][_0x27ab("0xac0")]=x[_0x27ab("0x148")],this[_0x27ab("0x169")][_0x27ab("0xae8")]=(Math.floor(Math.sqrt(this.options[_0x27ab("0xac0")]))-1)/2,this.tileService[_0x27ab("0xae9")](x[_0x27ab("0x148")]),this.on(_0x27ab("0xaab"),(function(){a[_0x27ab("0x169")][_0x27ab("0xaea")]&&a.tileService.secondViews[_0x27ab("0x0")]>0?a.tileService[_0x27ab("0xaeb")]():x[_0x27ab("0x1d2")]&&x.onComplete()})),this.on(_0x27ab("0xaec"),(function(){var a=(_+=1)/b;x[_0x27ab("0xaed")]&&x.onProgress(a)}))}},{key:_0x27ab("0x28d"),value:function(x){var a=this;_0x27ab("0x148")==typeof x&&(x={angle:x});var b,_=(0,h[_0x27ab("0x11")])(x,_0x27ab("0x1cb"),"duration",.3),e=a[_0x27ab("0x269")],t=function(x,a){var b=a-x;return Math[_0x27ab("0x274")](b)>180&&(b=-1*(0,s.default)(b)*360+b),b}(e,x.angle);a[_0x27ab("0xaee")]&&a[_0x27ab("0xaee")].stop(),a[_0x27ab("0xaee")]=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])({value:0}).to({value:1},1e3*_)[_0x27ab("0x1ce")](esmap.TWEEN[_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x137")]((function(x){x=x.value,(b=e+t*x)<=0?b=360+b:b>=360&&(b-=360),a.rotateAngle=b})).onComplete((function(){x[_0x27ab("0x1d2")]&&x[_0x27ab("0x1d2")]()}))[_0x27ab("0x1d5")]()}},{key:"firstPersonMode",set:function(x){var a=this;if(x){a.controls[_0x27ab("0x581")]=!1;var b=a.currentCamera[_0x27ab("0xc3")][_0x27ab("0xe2")]();a[_0x27ab("0x296")][_0x27ab("0x306")](),a[_0x27ab("0x296")][_0x27ab("0x307")]();a[_0x27ab("0x296")][_0x27ab("0xaef")]=b[_0x27ab("0xe2")]().sub(a[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0xe2")]())[_0x27ab("0x0")](),a[_0x27ab("0x953")][_0x27ab("0x713")]=a[_0x27ab("0x269")]+90,a[_0x27ab("0x953")][_0x27ab("0x712")]=-(90-a.tiltAngle),a[_0x27ab("0x953")][_0x27ab("0x581")]=!0}else{var _=a.currentCamera[_0x27ab("0xc3")][_0x27ab("0xe2")](),e=a[_0x27ab("0x953")][_0x27ab("0x295")].clone();a[_0x27ab("0x953")][_0x27ab("0x581")]=!1,a.controls[_0x27ab("0x581")]=!0,a[_0x27ab("0x269")]=a.firstPersonControls.lon-90,a[_0x27ab("0x9a1")]=a[_0x27ab("0x953")].lat+90,a[_0x27ab("0x196")][_0x27ab("0xc3")][_0x27ab("0x27d")](_);var t=e[_0x27ab("0x2f3")](_);t.normalize();var i=_.clone()[_0x27ab("0x163")](t[_0x27ab("0xe2")]().multiplyScalar(a[_0x27ab("0x296")][_0x27ab("0xaef")]));a.controls.target[_0x27ab("0x27d")](i),a[_0x27ab("0x196")][_0x27ab("0x278")](i),a[_0x27ab("0x296")][_0x27ab("0x12b")]()}},get:function(){return!(!this[_0x27ab("0x953")]||!this[_0x27ab("0x953")][_0x27ab("0x581")])}},{key:_0x27ab("0x169"),get:function(){return this[_0x27ab("0x175")][_0x27ab("0x169")]}},{key:_0x27ab("0x994"),get:function(){return this[_0x27ab("0x175")].buildingService}},{key:_0x27ab("0x292"),get:function(){return this[_0x27ab("0x958")]}},{key:"fullScreenAvaliable",get:function(){return h[_0x27ab("0xaf0")][_0x27ab("0xaf1")]}},{key:_0x27ab("0xaf2"),get:function(){return h[_0x27ab("0xaf0")][_0x27ab("0xaf3")]},set:function(x){x?h.FullScreen[_0x27ab("0xaf4")](this[_0x27ab("0x614")][_0x27ab("0xaf5")]):h[_0x27ab("0xaf0")][_0x27ab("0xaf6")]()}},{key:"layerLocalHeight",get:function(){return 6}},{key:_0x27ab("0x34"),get:function(){return this[_0x27ab("0x33")][_0x27ab("0x34")]}},{key:_0x27ab("0xaf7"),set:function(x){x[_0x27ab("0xc")]("color")&&(this[_0x27ab("0xfc")][_0x27ab("0xaf8")][_0x27ab("0x107")]=x[_0x27ab("0x107")]),x[_0x27ab("0xc")](_0x27ab("0x120"))&&(this.mapTheme[_0x27ab("0xaf8")][_0x27ab("0x120")]=x.lineWidth),x.hasOwnProperty("alpha")&&(this[_0x27ab("0xfc")][_0x27ab("0xaf8")][_0x27ab("0xe8")]=x[_0x27ab("0xe8")]),x[_0x27ab("0xc")](_0x27ab("0xe8"))&&(this.mapTheme[_0x27ab("0xaf8")][_0x27ab("0xe8")]=x.alpha),x[_0x27ab("0xc")](_0x27ab("0x5b5"))&&x[_0x27ab("0x5b5")][_0x27ab("0xc")](_0x27ab("0xaf9"))&&(this[_0x27ab("0xfc")][_0x27ab("0xaf8")].dash.size=x[_0x27ab("0x5b5")][_0x27ab("0xaf9")]),x.hasOwnProperty(_0x27ab("0x5b5"))&&x[_0x27ab("0x5b5")][_0x27ab("0xc")](_0x27ab("0xafa"))&&(this[_0x27ab("0xfc")][_0x27ab("0xaf8")][_0x27ab("0x5b5")][_0x27ab("0xafa")]=x[_0x27ab("0x5b5")].gap)},get:function(){return this[_0x27ab("0xfc")][_0x27ab("0xaf8")]}},{key:_0x27ab("0x446"),get:function(){return this[_0x27ab("0x15d")][_0x27ab("0xafb")]}},{key:_0x27ab("0x448"),get:function(){return this.mapScene.maxX_}},{key:_0x27ab("0x447"),get:function(){return this[_0x27ab("0x15d")][_0x27ab("0xafc")]}},{key:"maxY",get:function(){return this[_0x27ab("0x15d")].maxY_}},{key:_0x27ab("0x243"),get:function(){return this[_0x27ab("0x296")].getCurrentScaleLevel?this[_0x27ab("0x296")][_0x27ab("0xafd")]():24-this[_0x27ab("0x168")]},set:function(x){M=Math.ceil(x)}},{key:"minScaleLevel",get:function(){return this[_0x27ab("0xad2")]},set:function(x){this[_0x27ab("0xafe")](x,this.maxScaleLevel_)}},{key:_0x27ab("0x21a"),get:function(){return this[_0x27ab("0xad3")]},set:function(x){this[_0x27ab("0xafe")](this[_0x27ab("0xad2")],x)}},{key:_0x27ab("0xaff"),get:function(){return this[_0x27ab("0x296")].getScaleRate()},set:function(x){this[_0x27ab("0x296")][_0x27ab("0x297")](x)}},{key:_0x27ab("0xaa0"),get:function(){return{x:-this[_0x27ab("0x614")][_0x27ab("0xed")].x,y:this[_0x27ab("0x614")][_0x27ab("0xed")].y}}},{key:_0x27ab("0xb00"),get:function(){return this.mapView[_0x27ab("0x31f")]()}},{key:"center",get:function(){return{x:-this[_0x27ab("0x614")][_0x27ab("0xed")].x,y:this.mapView[_0x27ab("0xed")].y}}},{key:_0x27ab("0xb01"),get:function(){return this[_0x27ab("0x169")][_0x27ab("0x5db")]}},{key:_0x27ab("0x991"),get:function(){return this[_0x27ab("0x296")].maxPolarAngle*THREE[_0x27ab("0x28e")].RAD2DEG},set:function(x){this[_0x27ab("0x296")].maxPolarAngle=x*THREE[_0x27ab("0x28e")].DEG2RAD,this[_0x27ab("0x296")].update()}},{key:_0x27ab("0xb02"),get:function(){return new(THREE[_0x27ab("0xe7")])(this[_0x27ab("0x15d")][_0x27ab("0x1ab")],0,this.mapScene[_0x27ab("0x1ac")])}},{key:_0x27ab("0x1fe"),set:function(x){var a=x,b=!1;if(typeof x==_0x27ab("0x60")){if("2D"!=(x=x[_0x27ab("0xb03")]())&&"3D"!=x)return void console[_0x27ab("0x257")](_0x27ab("0xb04"))}else{if("2D"!=x.mode&&"3D"!=x[_0x27ab("0x34")])return void console[_0x27ab("0x257")]("viewMode must be 2D or 3D");b=x[_0x27ab("0x31")]}if(!(b&&window[_0x27ab("0x42a")][_0x27ab("0xab2")]&&"2D"==x[_0x27ab("0x34")]||x==this[_0x27ab("0x1fe")]))if(b||this.options[_0x27ab("0x223")]||1!=this[_0x27ab("0x15d")].tileScene_.visible||!window[_0x27ab("0x42a")][_0x27ab("0xab2")]){if(!this[_0x27ab("0x932")]){var e=null,t=null;if(_0x27ab("0x1c")==(typeof a===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(a))&&(e=a[_0x27ab("0x1cb")],t=a[_0x27ab("0x1d6")],a=a[_0x27ab("0x34")]),a!=this[_0x27ab("0x9dc")]){var i=this;i[_0x27ab("0x932")]=!0;var n=this.mapView[_0x27ab("0x613")],r=this[_0x27ab("0x614")][_0x27ab("0xac7")];"3D"==this[_0x27ab("0x9dc")]?(i[_0x27ab("0xb07")]=i[_0x27ab("0x296")][_0x27ab("0x307")](),esmap[_0x27ab("0x1cc")][_0x27ab("0x655")](null!=e?e:i[_0x27ab("0x33")][_0x27ab("0x20f")]?i[_0x27ab("0x33")].viewModeAnimateTime:0,(function(x){i[_0x27ab("0x296")][_0x27ab("0x12b")]({forcePhi:i[_0x27ab("0xb07")]-i[_0x27ab("0xb07")]*x[_0x27ab("0xf8")]}),i[_0x27ab("0x93f")]=!0}),null,(function(){i[_0x27ab("0x296")].object=i[_0x27ab("0x614")][_0x27ab("0xac7")],i[_0x27ab("0x296")][_0x27ab("0x938")]=0,i[_0x27ab("0x296")][_0x27ab("0x991")]=0,i[_0x27ab("0x196")]=i.mapView[_0x27ab("0xac7")],i[_0x27ab("0x296")][_0x27ab("0x12b")]({forceTheta:i[_0x27ab("0x296")][_0x27ab("0x306")]()+Math.PI,notChangeCompass:!0}),i.controls[_0x27ab("0x1c")]=i.mapView[_0x27ab("0xac7")],i[_0x27ab("0x296")][_0x27ab("0x991")]=0,i.mapView.cameraTop[_0x27ab("0xc3")][_0x27ab("0x27d")](n[_0x27ab("0xc3")]),i[_0x27ab("0x296")][_0x27ab("0x12b")](),function(x){var b=esmap[_0x27ab("0x80")][_0x27ab("0x5ee")](n,x[_0x27ab("0x296")]);r[_0x27ab("0x615")]=1,r[_0x27ab("0x183")]=-b[_0x27ab("0x6ee")],r[_0x27ab("0x6ee")]=b[_0x27ab("0x6ee")],r.top=b[_0x27ab("0x184")],r[_0x27ab("0x185")]=-b[_0x27ab("0x184")],r.updateProjectionMatrix(),a&&(x.viewMode_=a),x[_0x27ab("0x932")]=!1}(i),t&&t(i[_0x27ab("0x9dc")]),i[_0x27ab("0x1e7")](_0x27ab("0x957"),i[_0x27ab("0x9dc")])}))):(i[_0x27ab("0x296")][_0x27ab("0x1c")]=i.mapView[_0x27ab("0x613")],i[_0x27ab("0x296")].minPolarAngle=0,i[_0x27ab("0x296")][_0x27ab("0x991")]=Math.PI/2.5,i[_0x27ab("0x196")]=i.mapView[_0x27ab("0x613")],i.controls[_0x27ab("0x12b")]({forceTheta:i[_0x27ab("0x296")].getAzimuthalAngle(),notChangeCompass:!0}),esmap[_0x27ab("0x1cc")][_0x27ab("0x655")](null!=e?e:i[_0x27ab("0x33")][_0x27ab("0x20f")]?i.options[_0x27ab("0x210")]:0,(function(x){i[_0x27ab("0x296")][_0x27ab("0x12b")]({forcePhi:i.__lastPhi*x[_0x27ab("0xf8")]}),i.requireUpdateCollide_=!0}),null,(function(){t&&t(i[_0x27ab("0x9dc")]),i[_0x27ab("0x932")]=!1})),function(x){var b=r.zoom,_=x[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0x301")](n[_0x27ab("0xc3")]),e=n[_0x27ab("0xc3")].clone().sub(x[_0x27ab("0x296")][_0x27ab("0x295")])[_0x27ab("0x2f4")]();n.position.copy(x[_0x27ab("0x296")].target[_0x27ab("0xe2")]()[_0x27ab("0x163")](e[_0x27ab("0x28c")](_/b))),n[_0x27ab("0xb06")](),x.viewMode_=a}(i),i[_0x27ab("0x1e7")](_0x27ab("0x957"),i[_0x27ab("0x9dc")])),this[_0x27ab("0x671")]=0}}}else{"2D"==x&&(this[_0x27ab("0xb05")]=this.tiltAngle);var s="2D"==x?.01:this[_0x27ab("0xb05")];this[_0x27ab("0xa11")]({angle:s,callback:function(){}})}},get:function(){return this[_0x27ab("0x9dc")]}},{key:_0x27ab("0xb08"),set:function(x){var a=this;if(x!=this[_0x27ab("0xfc")][_0x27ab("0xb09")]){if(a[_0x27ab("0xfc")][_0x27ab("0xb09")]=x,!a[_0x27ab("0xb0a")])return;a[_0x27ab("0xfc")].themeID_=x;var b=this[_0x27ab("0x33")][_0x27ab("0xb0b")];this[_0x27ab("0x994")][_0x27ab("0xa1e")](x,b,(function(b){a[_0x27ab("0xfc")][_0x27ab("0xb0c")](b,x)}))}},get:function(){return this[_0x27ab("0xfc")][_0x27ab("0xb09")]}},{key:"backgroundColor",set:function(x){this[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0x6b3")](parseInt(x))}},{key:_0x27ab("0xb0d"),set:function(x){x!=this[_0x27ab("0x941")][_0x27ab("0xf6")]&&(this[_0x27ab("0x941")][_0x27ab("0xf6")]=x)},get:function(){return this[_0x27ab("0x941")].visible}},{key:"zoomLevelInt",get:function(){return Math[_0x27ab("0xbc")](this[_0x27ab("0x614")][_0x27ab("0x168")])}},{key:_0x27ab("0x168"),get:function(){return this[_0x27ab("0x614")][_0x27ab("0x168")]},set:function(x){this[_0x27ab("0x614")][_0x27ab("0x168")]=x}},{key:_0x27ab("0x1ff"),get:function(){return this.mapView[_0x27ab("0xb0e")][_0x27ab("0xb0f")]},set:function(x){this[_0x27ab("0x614")][_0x27ab("0xb0e")][_0x27ab("0xb0f")]=x}},{key:"lightAngleX",get:function(){return this.mapView[_0x27ab("0xb10")]},set:function(x){this[_0x27ab("0x614")][_0x27ab("0xb10")]=x}},{key:_0x27ab("0x208"),get:function(){return this[_0x27ab("0x614")][_0x27ab("0xb11")]},set:function(x){this[_0x27ab("0x614")][_0x27ab("0xb11")]=x}},{key:"id",set:function(x){this[_0x27ab("0xb0a")]=x},get:function(){return this.sceneId_}},{key:"tileList",get:function(){for(var x=[],a=0;a<this.mapScene[_0x27ab("0x1bf")][_0x27ab("0xb0")].length;a++)x.push(this.mapScene.tileScene_[_0x27ab("0xb0")][a][_0x27ab("0xae")]);return x}},{key:_0x27ab("0xb12"),get:function(){return this[_0x27ab("0x175")][_0x27ab("0x41c")](_0x27ab("0x996"))}},{key:_0x27ab("0x49a"),get:function(){return this.mapService[_0x27ab("0x41c")]("mapNameEn")}},{key:_0x27ab("0x9a1"),get:function(){return this.controls.getPolarAngle()*THREE.Math[_0x27ab("0x2f5")]},set:function(x){(x=x*Math.PI/180)<this[_0x27ab("0x296")][_0x27ab("0x938")]&&(x=this.controls[_0x27ab("0x938")]),x>this[_0x27ab("0x296")][_0x27ab("0x991")]&&(x=this[_0x27ab("0x296")][_0x27ab("0x991")]),this[_0x27ab("0x296")][_0x27ab("0x12b")]({forcePhi:x}),this[_0x27ab("0x671")]=0}},{key:_0x27ab("0x269"),get:function(){var x=this[_0x27ab("0x296")][_0x27ab("0x306")]();return("3D"==this[_0x27ab("0x1fe")]?Math.PI-x:-x)*THREE[_0x27ab("0x28e")].RAD2DEG},set:function(x){x=-x*THREE.Math[_0x27ab("0x61a")],this[_0x27ab("0x296")][_0x27ab("0x12b")]({forceTheta:x+("3D"==this[_0x27ab("0x1fe")]?Math.PI:0)}),this[_0x27ab("0x671")]=0}},{key:_0x27ab("0x326"),get:function(){return this[_0x27ab("0x614")].w_}},{key:_0x27ab("0x1b7"),get:function(){return this[_0x27ab("0x614")].h_}}]),a}(v[_0x27ab("0xb")]);O[_0x27ab("0xb13")]=!0,O.IsMapLoading=!1,O.id=1,a[_0x27ab("0xb")]=O},,,,,,,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=h(b(27)),e=h(b(4)),t=h(b(0)),i=h(b(1)),n=h(b(5)),r=h(b(6)),s=h(b(268)),o=h(b(270)),c=h(b(94)),l=h(b(132)),f=b(33),u=h(b(274)),d=b(95);function h(x){return x&&x.__esModule?x:{default:x}}b(277);var g=null,v=!1,p=function(x){function a(x){(0,t[_0x27ab("0xb")])(this,a);var b=(0,n[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,e[_0x27ab("0xb")])(a)).call(this));return b[_0x27ab("0xb14")]=.01,b[_0x27ab("0x31")](x),b}return(0,r[_0x27ab("0xb")])(a,x),(0,i[_0x27ab("0xb")])(a,[{key:_0x27ab("0x31"),value:function(x){this[_0x27ab("0x33")]=new(d[_0x27ab("0x1ef")])(x),this[_0x27ab("0x614")]=new(s[_0x27ab("0xb")])(this),this.mapView[_0x27ab("0x31")]()&&(this[_0x27ab("0x196")]=this[_0x27ab("0x614")][_0x27ab("0x613")],this.currentCamera[_0x27ab("0xc3")][_0x27ab("0x123")](30,30,30),this[_0x27ab("0x296")]=new(THREE[_0x27ab("0xb15")])(this.mapView.camera,this[_0x27ab("0x614")].container),this.mapView[_0x27ab("0x1fc")][_0x27ab("0x2f")]("wheel",(function(x){x[_0x27ab("0x3a7")]()})),this[_0x27ab("0x155")]=new(o[_0x27ab("0xb")])(this),this.maintimer=new(THREE[_0x27ab("0x239")]),this[_0x27ab("0xa46")]=new(u[_0x27ab("0xb")])(!1,this.mapView[_0x27ab("0x9dd")],this[_0x27ab("0x33")]),this[_0x27ab("0xb16")](),this.mapView[_0x27ab("0xaad")](),this[_0x27ab("0x12b")]())}},{key:_0x27ab("0xb17"),value:function(){var x=this;x[_0x27ab("0x1e7")](_0x27ab("0xb2")),x[_0x27ab("0x98f")](),x._clearAllListeners(),cancelAnimationFrame(g);var a=this.mapView.scene,b=this[_0x27ab("0x614")][_0x27ab("0x68c")];x[_0x27ab("0x155")][_0x27ab("0xb2")](),(0,f.doDispose)(a),x[_0x27ab("0x296")][_0x27ab("0xb2")]();var e=x[_0x27ab("0x614")].canvas[_0x27ab("0x8ff")]("webgl");e||(e=x.mapView[_0x27ab("0x8fe")][_0x27ab("0x8ff")](_0x27ab("0xb18"))),e[_0x27ab("0x69b")](e.COLOR_BUFFER_BIT);for(var t=0;t<x[_0x27ab("0x9a5")][_0x27ab("0x0")];t++)x[_0x27ab("0x9a5")][t]=null;for(var i=0;i<x[_0x27ab("0x634")][_0x27ab("0x0")];i++)x[_0x27ab("0x634")][i]=null;(0,_[_0x27ab("0xb")])(x[_0x27ab("0x614")][_0x27ab("0x1fc")][_0x27ab("0xb0")])[_0x27ab("0x1b")]((function(a){x.mapView[_0x27ab("0x1fc")][_0x27ab("0x27")](a)})),b[_0x27ab("0x6de")]=void 0,esmap[_0x27ab("0x32")][_0x27ab("0xd3")]=null,THREE[_0x27ab("0xb19")][_0x27ab("0x69b")]()}},{key:"resetControls",value:function(x){var a=this[_0x27ab("0x296")][_0x27ab("0x939")];this.controls[_0x27ab("0xb2")](),this[_0x27ab("0xb1a")](x);var b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];b&&x[_0x27ab("0x2f")](_0x27ab("0x93d"),b.controlsChange_[_0x27ab("0xe")](this)),this.controls=x,this[_0x27ab("0x296")][_0x27ab("0x939")]=a,this[_0x27ab("0x958")]&&(this[_0x27ab("0x958")][_0x27ab("0xb1b")]=x),this[_0x27ab("0x1e7")](_0x27ab("0xb1c"))}},{key:"registerEvents",value:function(){var x,a,b,_,e,t=this;t[_0x27ab("0x155")].registerEvents(t),this[_0x27ab("0x155")].on(_0x27ab("0xa79"),(function(x){var a=null;x[_0x27ab("0x4be")][_0x27ab("0x0")]>0&&(a=x[_0x27ab("0x4be")][0][_0x27ab("0x1c")]),t[_0x27ab("0x1e7")]("mapClickObject",{obj:a})})),t.registerMapControllerEvents(t[_0x27ab("0x296")]),t[_0x27ab("0xb1d")]=(b=function(x,a){return""!==x?x+a.slice(0,1).toUpperCase()+a[_0x27ab("0xf")](1):a},a=!1,typeof window[_0x27ab("0xb1e")]===_0x27ab("0x148")&&["webkit","moz","ms","o",""][_0x27ab("0x1b")]((function(_){0==a&&null!=document[b(_,"hidden")]&&(x=_,a=!0)})),_=a,{state:(e=function(){if(_)return document[b(x,_0x27ab("0xb1f"))]})(),visibilitychange:function(a,b){if(_&&typeof a===_0x27ab("0xde"))return document[_0x27ab("0x2f")](x+"visibilitychange",function(x){this[_0x27ab("0xb20")]=e(),a.call(this,x)}[_0x27ab("0xe")](this),!1)}}),t[_0x27ab("0xb1d")][_0x27ab("0xb21")]((function(){t[_0x27ab("0x1e7")](_0x27ab("0xb22"),this[_0x27ab("0xb20")])})),t.on(_0x27ab("0xb23"),(function(){t.options[_0x27ab("0x216")]&&(t.mapPicker[_0x27ab("0x216")]=!1)})),t.on(_0x27ab("0x944"),(function(){t[_0x27ab("0x33")][_0x27ab("0x216")]&&(t[_0x27ab("0x155")][_0x27ab("0x216")]=!0)})),t.on(_0x27ab("0x154"),(function(){t[_0x27ab("0x33")].hoverMode&&(t[_0x27ab("0x155")].hoverMode=!1)}))}},{key:_0x27ab("0xb1a"),value:function(x){var a=this;x[_0x27ab("0x2f")](_0x27ab("0x1d5"),(function(x){esmap[_0x27ab("0x32")].IsMapLoading&&(v=!1),a.fire(_0x27ab("0xb23"))})),x[_0x27ab("0x2f")]("end",(function(){esmap[_0x27ab("0x32")][_0x27ab("0x990")]&&(v=!0),a[_0x27ab("0x1e7")](_0x27ab("0x944"))})),x[_0x27ab("0x2f")](_0x27ab("0x13c"),(function(){a[_0x27ab("0x1e7")](_0x27ab("0x13c"),a.mapView[_0x27ab("0x168")])})),x.addEventListener(_0x27ab("0x93d"),(function(){a.compass.updateDirection(-a[_0x27ab("0x296")].getAzimuthalAngle()-Math.PI)}))}},{key:_0x27ab("0x12b"),value:function(){var x=this;x[_0x27ab("0x1e7")]("update",x.maindeltaTime),g=requestAnimationFrame(x.update[_0x27ab("0xe")](x)),v||(x[_0x27ab("0x614")][_0x27ab("0x57e")](),x[_0x27ab("0x296")].update(),x.maindeltaTime=x[_0x27ab("0xb24")][_0x27ab("0x2ce")]())}},{key:_0x27ab("0xb25"),value:function(){v=!0}},{key:_0x27ab("0xb26"),value:function(){v=!1}},{key:_0x27ab("0x213"),get:function(){return this.compass[_0x27ab("0x424")].compassOffset},set:function(x){var a=this.compass[_0x27ab("0x424")][_0x27ab("0x213")];this[_0x27ab("0xa46")][_0x27ab("0xb27")].position.x=this.compass[_0x27ab("0xb27")][_0x27ab("0xc3")].x-a[0]+x[0],this[_0x27ab("0xa46")][_0x27ab("0xb27")][_0x27ab("0xc3")].y=this[_0x27ab("0xa46")][_0x27ab("0xb27")][_0x27ab("0xc3")].y+a[1]-x[1],this[_0x27ab("0xa46")][_0x27ab("0xb28")][_0x27ab("0xc3")].x=this[_0x27ab("0xa46")][_0x27ab("0xb28")][_0x27ab("0xc3")].x-a[0]+x[0],this[_0x27ab("0xa46")].spritePt_.position.y=this[_0x27ab("0xa46")].spritePt_[_0x27ab("0xc3")].y+a[1]-x[1],this[_0x27ab("0xa46")][_0x27ab("0x424")][_0x27ab("0x213")]=x}},{key:_0x27ab("0x214"),get:function(){return this[_0x27ab("0xa46")].spriteBg_[_0x27ab("0x24b")].x},set:function(x){this[_0x27ab("0xa46")][_0x27ab("0xb27")].scale.x=x,this[_0x27ab("0xa46")].spriteBg_[_0x27ab("0x24b")].y=x,this[_0x27ab("0xa46")][_0x27ab("0xb28")][_0x27ab("0x24b")].x=x,this[_0x27ab("0xa46")][_0x27ab("0xb28")][_0x27ab("0x24b")].y=x}},{key:"showCompass",set:function(x){x!=this[_0x27ab("0xa46")].visible&&(this[_0x27ab("0xa46")][_0x27ab("0xf6")]=x,x&&this[_0x27ab("0xa46")][_0x27ab("0xb29")](this.options[_0x27ab("0x20c")]*THREE.Math[_0x27ab("0x61a")]))},get:function(){return this[_0x27ab("0xa46")][_0x27ab("0xf6")]}}]),a}((0,c[_0x27ab("0xb")])(l[_0x27ab("0xb")]));a[_0x27ab("0xb")]=p},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=n(b(0)),e=n(b(1)),t=n(b(53)),i=n(b(269));function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var r=new(t[_0x27ab("0xb")]),s=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0xb2a")]=.018661384582519532,this._maxResolution=19567.88,this.ZoomLevel={1:78271.52},this[_0x27ab("0x772")]={},this[_0x27ab("0x37")]=a}return(0,e.default)(x,[{key:"getSize",value:function(){var x={};this[_0x27ab("0x1fc")][_0x27ab("0xea")][_0x27ab("0x326")]&&this[_0x27ab("0x1fc")][_0x27ab("0xea")].height?(this[_0x27ab("0x1fc")][_0x27ab("0xea")].width[_0x27ab("0xd1")]("px")>-1&&(x[_0x27ab("0x326")]=this.container.style[_0x27ab("0x326")][_0x27ab("0x111")]("px","")),this.container[_0x27ab("0xea")][_0x27ab("0x1b7")][_0x27ab("0xd1")]("px")>-1&&(x[_0x27ab("0x1b7")]=this[_0x27ab("0x1fc")][_0x27ab("0xea")][_0x27ab("0x1b7")][_0x27ab("0x111")]("px","")),x[_0x27ab("0x326")]&&x[_0x27ab("0x1b7")]||(x=this[_0x27ab("0x1fc")][_0x27ab("0x3af")]())):x=this[_0x27ab("0x1fc")][_0x27ab("0x3af")]();var a=x[_0x27ab("0x326")],b=x.height;return a!=this.w_||b!=this.h_?{w:a,h:b}:null}},{key:"init",value:function(){this[_0x27ab("0x1fc")]=this.map[_0x27ab("0x33")][_0x27ab("0x1fc")],this[_0x27ab("0x1fc")][_0x27ab("0xea")][_0x27ab("0x1a9")]=_0x27ab("0x591");var x=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x219")];try{var a=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x225")];if(esmap.effects&&(null==a||a)){var b={antialias:!0,alpha:!!this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x20e")]},_=document[_0x27ab("0x20")](_0x27ab("0x8fe")),e=_[_0x27ab("0x8ff")](_0x27ab("0xb18"),b);this[_0x27ab("0x68c")]=null!==e?new(THREE[_0x27ab("0xb2b")])({canvas:_,context:e,powerPreference:x,alpha:!!this[_0x27ab("0x37")][_0x27ab("0x33")].perspective,precision:_0x27ab("0xb2c"),logarithmicDepthBuffer:true}):new(THREE[_0x27ab("0xb2b")])({antialias:!0,precision:"highp",powerPreference:x,alpha:!!this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x20e")],logarithmicDepthBuffer:!0})}else this[_0x27ab("0x68c")]=new(THREE[_0x27ab("0xb2b")])({antialias:!0,precision:"highp",powerPreference:x,logarithmicDepthBuffer:true});this.renderer[_0x27ab("0xb2d")]=!0,this[_0x27ab("0x68c")].zBufferSupport=!0}catch(x){return void(new(i[_0x27ab("0xb")]))[_0x27ab("0x5bd")](this[_0x27ab("0x1fc")])}this[_0x27ab("0x68c")][_0x27ab("0xb2e")](window.devicePixelRatio),this[_0x27ab("0x68c")].autoClear=!1,this[_0x27ab("0x68c")][_0x27ab("0xb2f")].enabled=!1;var t=this[_0x27ab("0x1fc")][_0x27ab("0x3c1")],n=this.container.clientHeight||window[_0x27ab("0xb30")];this[_0x27ab("0x68c")][_0x27ab("0x68e")](t,n),this[_0x27ab("0x8fe")]=this[_0x27ab("0x68c")][_0x27ab("0x6de")],this[_0x27ab("0x1fc")][_0x27ab("0x24")](this[_0x27ab("0x8fe")]),this.map.options[_0x27ab("0x202")]==esmap.ESCameraMode[_0x27ab("0x204")]?this[_0x27ab("0x613")]=new(THREE[_0x27ab("0x881")])(35,t/n,1,4e4):this[_0x27ab("0x613")]=new(THREE[_0x27ab("0x881")])(60,t/n,.001,1e4),this[_0x27ab("0xb31")]=2*Math[_0x27ab("0xb32")](this.camera.fov*Math.PI/360),this[_0x27ab("0x613")][_0x27ab("0xb33")]=new(THREE[_0x27ab("0xe7")]),this[_0x27ab("0x613")][_0x27ab("0x127")][_0x27ab("0xb34")]=this[_0x27ab("0xb31")]/n,this[_0x27ab("0xc1")]=new(THREE[_0x27ab("0x3de")]),this[_0x27ab("0x613")][_0x27ab("0x278")](this[_0x27ab("0xc1")][_0x27ab("0xc3")]),this[_0x27ab("0xac7")]=new THREE.OrthographicCamera(-t/2,t/2,-n/2,n/2,1,1e5),this[_0x27ab("0xac7")][_0x27ab("0x1b1")][_0x27ab("0x123")](-Math.PI/2,0,0,"XYZ"),this[_0x27ab("0xac7")][_0x27ab("0xb35")]=!1,this[_0x27ab("0xac7")][_0x27ab("0xc3")][_0x27ab("0x123")](0,1e5,0),this.map[_0x27ab("0x33")][_0x27ab("0x20e")]&&this[_0x27ab("0x68c")].setClearAlpha(0),this[_0x27ab("0xb36")]=new(esmap[_0x27ab("0x5be")])(this[_0x27ab("0x37")]),this[_0x27ab("0x9de")]=new(THREE[_0x27ab("0xb37")])(-t/2,t/2,n/2,-n/2,1,1e3),this[_0x27ab("0x9de")][_0x27ab("0xc3")][_0x27ab("0x3d4")](10),this[_0x27ab("0x9dd")]=new(THREE[_0x27ab("0x3de")]),this[_0x27ab("0xb38")]=new(THREE[_0x27ab("0xb39")]),this.ambientLight[_0x27ab("0xc5")]="1",this[_0x27ab("0xb38")][_0x27ab("0x3f3")]=.5,this.scene[_0x27ab("0x163")](this[_0x27ab("0xb38")]),this[_0x27ab("0x772")][1]=this[_0x27ab("0xb38")],this.mainLight=new(THREE[_0x27ab("0x776")])(8947848,1.4),this[_0x27ab("0xb3a")].name="2",this[_0x27ab("0xc1")][_0x27ab("0x163")](this[_0x27ab("0xb3a")]),this[_0x27ab("0x772")][2]=this.mainLight;var r=new(THREE[_0x27ab("0x776")])(0,.1);return r[_0x27ab("0xc5")]="3",this[_0x27ab("0xb3b")]=r,this[_0x27ab("0xc1")][_0x27ab("0x163")](r),this.lights[3]=r,this[_0x27ab("0xb3c")](t,n),window.addEventListener(_0x27ab("0x9df"),this[_0x27ab("0xb3d")][_0x27ab("0xe")](this),!1),!0}},{key:"distance2Resolution",value:function(x){return this[_0x27ab("0x613")][_0x27ab("0x127")].vFovHeight*x}},{key:_0x27ab("0xb3e"),value:function(x){return this[_0x27ab("0xb3f")](this[_0x27ab("0xb40")](x))}},{key:_0x27ab("0xb3f"),value:function(x){return Math[_0x27ab("0x362")](78271.52/x)*Math[_0x27ab("0xb41")]+1}},{key:"level2Resolution",value:function(x){return 78271.52/Math[_0x27ab("0xb4")](Math.E,(x-1)/Math[_0x27ab("0xb41")])}},{key:_0x27ab("0xb42"),value:function(x,a){x[_0x27ab("0xb43")](x[_0x27ab("0xb33")]);var b=x[_0x27ab("0xb33")],_=new(THREE[_0x27ab("0xe7")]),e=x[_0x27ab("0xc3")];if("top"==this.map.viewMode){var t=this[_0x27ab("0x37")];e=t[_0x27ab("0x296")].target[_0x27ab("0xe2")]()[_0x27ab("0x163")](this[_0x27ab("0x613")][_0x27ab("0xc3")].clone().sub(t[_0x27ab("0x296")].target)[_0x27ab("0x2f4")]()[_0x27ab("0x28c")](t[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0x301")](this[_0x27ab("0x613")][_0x27ab("0xc3")])/this.cameraTop.zoom))}return _[_0x27ab("0x8a8")](a,e),x[_0x27ab("0x127")][_0x27ab("0xb34")]*b.dot(_)}},{key:_0x27ab("0xac8"),value:function(){return this[_0x27ab("0x37")][_0x27ab("0x26e")](this[_0x27ab("0x37")].controls[_0x27ab("0x295")])}},{key:_0x27ab("0x31f"),value:function(){return this[_0x27ab("0x37")].coordThreeToMap(this[_0x27ab("0x37")][_0x27ab("0x296")].target)}},{key:_0x27ab("0xa05"),value:function(){var x=this[_0x27ab("0x37")][_0x27ab("0x24f")](this.map[_0x27ab("0x296")].target);return esmap.ESMapUtil[_0x27ab("0xb8")](x.x,x.y)}},{key:_0x27ab("0xaad"),value:function(x,a){if(!x||!a){var b=this.getSize();if(!b)return;x=b.w,a=b.h}if(0!=x&&0!=a){this.resize(x,a),this.map[_0x27ab("0x1e7")]("resize",{width:x,height:a});var _=this[_0x27ab("0x8fe")][_0x27ab("0x326")],e=this.canvas[_0x27ab("0x1b7")];_==x&&e==a||this.updateSize()}}},{key:_0x27ab("0xb3c"),value:function(x,a){var b=new(THREE[_0x27ab("0x6f2")]);b[_0x27ab("0x68e")](x,a);var _=b[_0x27ab("0x6de")];_[_0x27ab("0xea")][_0x27ab("0x326")]=_0x27ab("0x327"),_.style[_0x27ab("0x1b7")]=_0x27ab("0x327"),this[_0x27ab("0x1fc")].appendChild(_);var e=this[_0x27ab("0x8fe")];e.style[_0x27ab("0x326")]="100%",e[_0x27ab("0xea")][_0x27ab("0x1b7")]=_0x27ab("0x327"),e[_0x27ab("0xea")].pointerEvents=_0x27ab("0x591"),_[_0x27ab("0x24")](e),this[_0x27ab("0xb44")]=b}},{key:_0x27ab("0xb3d"),value:function(){this[_0x27ab("0xaad")](),this[_0x27ab("0x37")][_0x27ab("0xa46")][_0x27ab("0x41b")](this.w_,this.h_),this[_0x27ab("0xaad")]()}},{key:_0x27ab("0x9df"),value:function(x,a){this[_0x27ab("0xae1")]=x/2,this[_0x27ab("0xae2")]=a/2,this.composer[_0x27ab("0xb45")](x,a),this.renderer[_0x27ab("0x68e")](x,a),this[_0x27ab("0xb44")].setSize(x,a),this[_0x27ab("0x613")][_0x27ab("0x619")]=x/a,this[_0x27ab("0x613")].updateProjectionMatrix(),this[_0x27ab("0x977")]&&(this[_0x27ab("0x977")].aspect=x/a,this[_0x27ab("0x977")][_0x27ab("0xb06")](),this[_0x27ab("0xb46")].setSize(x,a));var b=esmap[_0x27ab("0x80")][_0x27ab("0x5ee")](this.camera,this[_0x27ab("0x37")][_0x27ab("0x296")]);this[_0x27ab("0xac7")][_0x27ab("0x183")]=-b[_0x27ab("0x6ee")],this[_0x27ab("0xac7")][_0x27ab("0x6ee")]=b[_0x27ab("0x6ee")],this.cameraTop.top=b.top,this[_0x27ab("0xac7")][_0x27ab("0x185")]=-b.top,this[_0x27ab("0xac7")][_0x27ab("0xb06")](),this[_0x27ab("0x9de")][_0x27ab("0x183")]=-this[_0x27ab("0xae1")],this[_0x27ab("0x9de")][_0x27ab("0x6ee")]=this[_0x27ab("0xae1")],this.cameraOrtho.top=this[_0x27ab("0xae2")],this[_0x27ab("0x9de")][_0x27ab("0x185")]=-this[_0x27ab("0xae2")],this[_0x27ab("0x9de")][_0x27ab("0xb06")](),this.w_=x,this.h_=a}},{key:_0x27ab("0x57e"),value:function(){this[_0x27ab("0x68c")][_0x27ab("0x69b")](),"3D"==this[_0x27ab("0x37")].viewMode_?this[_0x27ab("0xb36")].render():this[_0x27ab("0xb36")][_0x27ab("0xb47")](),this[_0x27ab("0x68c")][_0x27ab("0x6ae")](),this[_0x27ab("0x68c")][_0x27ab("0x57e")](this[_0x27ab("0x9dd")],this.cameraOrtho),"3D"==this[_0x27ab("0x37")].viewMode_?this[_0x27ab("0xb44")][_0x27ab("0x57e")](this.scene,this[_0x27ab("0x613")]):this[_0x27ab("0xb44")].render(this.scene,this[_0x27ab("0xac7")])}},{key:_0x27ab("0x296"),get:function(){return this[_0x27ab("0x37")].controls}},{key:"zoomLevel",get:function(){return this[_0x27ab("0xb3f")](this.resolution)},set:function(x){var a=this[_0x27ab("0xb48")](x);this[_0x27ab("0xb49")]=a}},{key:_0x27ab("0xb49"),get:function(){var x=this[_0x27ab("0xb42")](this[_0x27ab("0x613")],this.controls[_0x27ab("0x295")]);return r[_0x27ab("0x123")](this,x),r[_0x27ab("0x35e")](this)},set:function(x){if(x&&null!=x&&!isNaN(x)&&(x=Math[_0x27ab("0x33f")](this[_0x27ab("0xb2a")],Math[_0x27ab("0x340")](x,this[_0x27ab("0xb4a")])),r[_0x27ab("0x123")](this,x),this[_0x27ab("0x296")]&&this[_0x27ab("0x613")][_0x27ab("0x127")][_0x27ab("0xb34")])){var a=x/this[_0x27ab("0x613")][_0x27ab("0x127")][_0x27ab("0xb34")];this[_0x27ab("0x613")][_0x27ab("0xb43")](this.camera[_0x27ab("0xb33")]);var b=this[_0x27ab("0x613")].cam2control,_=b[_0x27ab("0x8ae")](this[_0x27ab("0x296")][_0x27ab("0x295")]),e=b[_0x27ab("0x8ae")](this[_0x27ab("0x613")][_0x27ab("0xc3")]),t=(new(THREE[_0x27ab("0xe7")]))[_0x27ab("0x8a8")](this[_0x27ab("0x296")][_0x27ab("0x295")],this.camera[_0x27ab("0xc3")]),i=(e-(_-a))/t[_0x27ab("0x8ae")](b);t[_0x27ab("0x28c")](i),this[_0x27ab("0x613")][_0x27ab("0xc3")][_0x27ab("0x2f3")](t),this[_0x27ab("0x613")][_0x27ab("0x6eb")](!0),this[_0x27ab("0x296")][_0x27ab("0x12b")]()}}}]),x}();a.default=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(){(0,_[_0x27ab("0xb")])(this,x)}return(0,e.default)(x,[{key:_0x27ab("0x5bd"),value:function(x){var a=document[_0x27ab("0x20")](_0x27ab("0x3a3"));a[_0x27ab("0x332")]=_0x27ab("0xb4b"),a.setAttribute("class",_0x27ab("0x5bd")),x[_0x27ab("0x24")](a)}}]),x}();a.default=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=l(b(4)),e=l(b(0)),t=l(b(1)),i=l(b(5)),n=l(b(6)),r=b(11),s=l(b(94)),o=l(b(132)),c=b(33);function l(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var f={},u=!1,d=function(x){function a(){(0,e[_0x27ab("0xb")])(this,a);var x=(0,i[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_.default)(a))[_0x27ab("0x3")](this));return x[_0x27ab("0xa92")]=null,x.raycaster=new(THREE[_0x27ab("0xadb")]),x.compassRaycaster=new THREE.Raycaster,x[_0x27ab("0xa7a")]=!1,x.enabled=!0,x[_0x27ab("0xb4c")]=!1,x[_0x27ab("0xb4d")]=[],x[_0x27ab("0xb4e")]=!1,x[_0x27ab("0xb4f")]=0,x[_0x27ab("0xb50")]=!1,x[_0x27ab("0xa82")]=!1,x[_0x27ab("0xb51")]=[],x[_0x27ab("0xa98")]=[],x.lastHoverTarget=null,x[_0x27ab("0xb52")]=null,x[_0x27ab("0x216")]=!1,x.watchingList={default:[]},x[_0x27ab("0xb53")]=(0,r[_0x27ab("0x22c")])().isPc,x}return(0,n.default)(a,x),(0,t[_0x27ab("0xb")])(a,[{key:_0x27ab("0x1bb"),value:function(x){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_0x27ab("0xb");this[_0x27ab("0x156")][a]||(this[_0x27ab("0x156")][a]=[]),this[_0x27ab("0x156")][a].push(x)}},{key:_0x27ab("0xb2"),value:function(){var x=this[_0x27ab("0x37")][_0x27ab("0x614")].container;x[_0x27ab("0x2d0")]("mousedown",f[_0x27ab("0x73a")]),x.removeEventListener(_0x27ab("0x73b"),f[_0x27ab("0x73b")]),x[_0x27ab("0x2d0")]("mouseup",f[_0x27ab("0x73c")]),x[_0x27ab("0x2d0")](_0x27ab("0xb54"),f.mousedown),x[_0x27ab("0x2d0")](_0x27ab("0xb55"),f[_0x27ab("0x73b")]),x[_0x27ab("0x2d0")]("touchend",f[_0x27ab("0x73c")]),this[_0x27ab("0x156")]=null,f={}}},{key:"registerEvents",value:function(x){var a=this;this[_0x27ab("0x37")]=x;var b=this[_0x27ab("0x37")][_0x27ab("0x614")].container;this[_0x27ab("0xb56")]=new THREE.SelectionBox(this[_0x27ab("0x37")][_0x27ab("0x196")],null,7e9),this[_0x27ab("0xb56")][_0x27ab("0x581")]=!1,this[_0x27ab("0xb56")][_0x27ab("0x8dd")]=_0x27ab("0x218"),this.BoxPickerHelper=new(THREE[_0x27ab("0x8e6")])(this[_0x27ab("0xb56")],b,_0x27ab("0xb57")),f.mousedown=this[_0x27ab("0xb58")].bind(this),f[_0x27ab("0x73b")]=this[_0x27ab("0xb59")][_0x27ab("0xe")](this),f[_0x27ab("0x73c")]=this[_0x27ab("0xb5a")].bind(this),b[_0x27ab("0x2f")]("mousedown",f[_0x27ab("0x73a")]),b[_0x27ab("0x2f")]("mousemove",f[_0x27ab("0x73b")]),b[_0x27ab("0x2f")](_0x27ab("0x73c"),f[_0x27ab("0x73c")]),b[_0x27ab("0x2f")](_0x27ab("0xb54"),f[_0x27ab("0x73a")]),b[_0x27ab("0x2f")]("touchmove",f.mousemove),b[_0x27ab("0x2f")]("touchend",f[_0x27ab("0x73c")]),this[_0x27ab("0x37")].on("dispose",(function(){a[_0x27ab("0xb2")]()}))}},{key:_0x27ab("0xb5b"),value:function(){if(0!=this.hoverList[_0x27ab("0x0")]){this[_0x27ab("0xa8f")][_0x27ab("0xadc")](this[_0x27ab("0xa92")],this.map.currentCamera);var x=this.raycaster[_0x27ab("0xa90")](this.hoverList,!0);if(x[_0x27ab("0x0")]>0){var a=x[0];this[_0x27ab("0xb5c")](a.object)}else this[_0x27ab("0xb5d")]()}}},{key:_0x27ab("0xb5e"),value:function(x){var a=this.watchingList;for(var b in a){var _=a[b];if(_.indexOf(x)>-1)return _[_0x27ab("0x157")](_[_0x27ab("0xd1")](x),1),!0}return!1}},{key:_0x27ab("0xb5d"),value:function(){if(this[_0x27ab("0xb5f")]){(this[_0x27ab("0xb5f")][_0x27ab("0x127")].traverseTarget||this.lastHoverTarget)[_0x27ab("0x2a1")]((function(x){x.material&&x[_0x27ab("0xb3")][_0x27ab("0x2df")]&&x.material[_0x27ab("0x127")].hovered&&(x[_0x27ab("0xb3")][_0x27ab("0x2df")]=x[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0xb60")],x[_0x27ab("0xb3")][_0x27ab("0x127")].hovered=!1)}));var x=this[_0x27ab("0xb5f")][_0x27ab("0x127")][_0x27ab("0xb61")],a=this.lastHoverTarget[_0x27ab("0x127")][_0x27ab("0x594")];x&&x[_0x27ab("0xf6")]&&(x[_0x27ab("0xf6")]=!1),a&&a[_0x27ab("0x127")][_0x27ab("0xb62")]&&(a[_0x27ab("0xb3")].color=a[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0xb63")],a[_0x27ab("0x127")].hovered=!1),this.lastHoverTarget=null}}},{key:_0x27ab("0xb5c"),value:function(x){if(this[_0x27ab("0xb5f")]!=x){this[_0x27ab("0xb5d")]();var a=x[_0x27ab("0x127")][_0x27ab("0xb64")]||x,b=_0x27ab("0xb65");this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x3f1")]&&this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x3f1")].buildingModel&&(b=this[_0x27ab("0x37")][_0x27ab("0x33")].selectedColor[_0x27ab("0x56")].color),a[_0x27ab("0x2a1")]((function(x){x[_0x27ab("0xb3")]&&x.material[_0x27ab("0x2df")]&&!x[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0xb62")]&&(x[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0xb60")]=x[_0x27ab("0xb3")][_0x27ab("0x2df")][_0x27ab("0xe2")](),x[_0x27ab("0xb3")][_0x27ab("0x2df")]=(new(THREE[_0x27ab("0x108")])).setStyle(b),x[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0xb62")]=!0)}));var _=x.userData[_0x27ab("0xb61")],e=x[_0x27ab("0x127")][_0x27ab("0x594")];_&&!_[_0x27ab("0xf6")]&&(_[_0x27ab("0xf6")]=!0),e&&!e[_0x27ab("0x127")][_0x27ab("0xb62")]&&(e[_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0xb63")]=e[_0x27ab("0xb3")][_0x27ab("0x107")].clone(),e[_0x27ab("0xb3")][_0x27ab("0x107")]=(new(THREE[_0x27ab("0x108")])).setStyle(b),e[_0x27ab("0x127")][_0x27ab("0xb62")]=!0),this.map[_0x27ab("0x1e7")](_0x27ab("0xb66"),{floornum:x[_0x27ab("0x127")][_0x27ab("0x4a1")],target:x[_0x27ab("0x127")][_0x27ab("0x235")]}),this.lastHoverTarget=x}}},{key:"update",value:function(x){var a=this,b=this;this.raycaster[_0x27ab("0xadc")](this.mousePos,this.map[_0x27ab("0x196")]),this[_0x27ab("0xb4c")]=!1,this[_0x27ab("0xa98")]=[];var _=[];if(this[_0x27ab("0xb50")])this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xc1")][_0x27ab("0x2a1")]((function(x){x[_0x27ab("0x70")]!=_0x27ab("0x159")||"$ESMapPlane"==x[_0x27ab("0xc5")]||x[_0x27ab("0xb67")]||b[_0x27ab("0x8de")](x)&&_[_0x27ab("0x1")](x)}));else{var e=this[_0x27ab("0x37")][_0x27ab("0x33")].disableOutdoorClick;for(var t in this.watchingList){var i=this.watchingList[t];e&&this[_0x27ab("0x37")][_0x27ab("0x322")](t)||i[_0x27ab("0x1b")]((function(e){x?a[_0x27ab("0x37")].options[_0x27ab("0x217")]!=_0x27ab("0x218")?e[_0x27ab("0xae")]&&a.map.options[_0x27ab("0x217")].indexOf(e.datas_.nodeType)>-1&&b.isVisible(e)&&_.push(e):b.isVisible(e)&&_[_0x27ab("0x1")](e):b[_0x27ab("0x8de")](e)&&_[_0x27ab("0x1")](e)}))}}if(this[_0x27ab("0x581")]&&(this[_0x27ab("0xa98")]=this[_0x27ab("0xa8f")][_0x27ab("0xa90")](_,!0)),this[_0x27ab("0xa98")].length>0&&(this.isPicked=!0),x)if(this.intersects.length>0){var n=this[_0x27ab("0xa98")][0][_0x27ab("0x1c")],r=null;if(21==n[_0x27ab("0xe1")])r=(n=n[_0x27ab("0xc7")]).datas_;else if(n[_0x27ab("0xae")]){if(n[_0x27ab("0xae")]){var s=n[_0x27ab("0xae")][_0x27ab("0xe1")];if(s==esmap[_0x27ab("0xf1")].MODEL&&n[_0x27ab("0xae")][_0x27ab("0x342")]){var o=(0,c[_0x27ab("0xad")])(this[_0x27ab("0xa98")][0][_0x27ab("0xa7d")],n[_0x27ab("0xae")][_0x27ab("0x342")]);r=n[_0x27ab("0xae")].brothers[o]}else s==esmap[_0x27ab("0xf1")][_0x27ab("0xa8b")]?r=n[_0x27ab("0xae")]:s!=esmap[_0x27ab("0xf1")].IMAGE_MARKER&&s!=esmap.ESNodeType[_0x27ab("0xa9a")]||(r=n[_0x27ab("0xae")])}}else r=(n=(0,c[_0x27ab("0xac")])(n))[_0x27ab("0xae")];if(this[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0xb68"),n),!r)return;this[_0x27ab("0xb69")]==n&&this[_0x27ab("0xb52")]==r||(this.map[_0x27ab("0x1e7")]("onOver",r),this[_0x27ab("0xb69")]=n,this[_0x27ab("0xb52")]=r)}else this.hoverObject&&(this.map[_0x27ab("0x1e7")](_0x27ab("0xb6a")),this[_0x27ab("0xb69")]=null,this[_0x27ab("0xb52")]=null)}},{key:_0x27ab("0xb58"),value:function(x){var a=this;if(this[_0x27ab("0xb6b")]=!0,this[_0x27ab("0xb6c")]=!1,this.tapcount=0,u=!1,this[_0x27ab("0xa92")]=this[_0x27ab("0xb6d")](x),this[_0x27ab("0x12b")](),x[_0x27ab("0x3a7")](),this.enableBoxPick&&2!=x[_0x27ab("0x726")])return this[_0x27ab("0xb56")][_0x27ab("0x8ce")].set(this[_0x27ab("0xa92")].x,this[_0x27ab("0xa92")].y,.5),this[_0x27ab("0xb56")][_0x27ab("0xb6e")]=x[_0x27ab("0xb6f")],void(this.BoxPicker.startClientY=x.offsetY);var b=setTimeout((function(){if(1==a[_0x27ab("0xb6b")]){if(a[_0x27ab("0xb6c")]&&a[_0x27ab("0xb4f")]>1)return void window[_0x27ab("0xacb")](b);a[_0x27ab("0x12b")](!1),a[_0x27ab("0x1e7")](_0x27ab("0xa97"),{intersects:a.intersects,mouse:a[_0x27ab("0xa92")][_0x27ab("0xe2")]()})}}),800)}},{key:_0x27ab("0x8de"),value:function(x){var a=x[_0x27ab("0xae")]&&x[_0x27ab("0xae")][_0x27ab("0xe1")]==esmap[_0x27ab("0xf1")][_0x27ab("0xa8b")];if(!this[_0x27ab("0x37")].options[_0x27ab("0x223")]&&x[_0x27ab("0xb3")]&&!a)if(Array[_0x27ab("0x480")](x[_0x27ab("0xb3")])){var b=!1;if(x.material.forEach((function(x){x[_0x27ab("0xf6")]&&(b=!0)})),!b)return!1}else if(!x[_0x27ab("0xb3")][_0x27ab("0xf6")])return!1;if(!x[_0x27ab("0xf6")])return!1;var _=!0;return x[_0x27ab("0xb70")]((function(x){x.visible||(_=!1)})),_}},{key:_0x27ab("0xb71"),value:function(){var x=!1,a=this[_0x27ab("0x37")];if(this[_0x27ab("0xa92")]&&this[_0x27ab("0x37")][_0x27ab("0x292")].enableCompassTap){if(this.compassRaycaster.setFromCamera(this.mousePos,a.mapView.cameraOrtho),!a[_0x27ab("0xa46")][_0x27ab("0xb27")])return;if(this[_0x27ab("0xb72")][_0x27ab("0xadd")](a[_0x27ab("0xa46")][_0x27ab("0xb27")])[_0x27ab("0x0")]>0)if(a.fire(_0x27ab("0xb73")),x=!0,a[_0x27ab("0x33")][_0x27ab("0x223")])a[_0x27ab("0x28d")]("2D"==a[_0x27ab("0x1fe")]?180:0);else{if("2D"==a.viewMode)return;a[_0x27ab("0x28d")](0)}}return x}},{key:_0x27ab("0xb59"),value:function(x){this[_0x27ab("0xb6c")]=!0,this[_0x27ab("0xb4f")]++,this.mousePos=this[_0x27ab("0xb6d")](x),this.checkHover(),this.hoverMode&&this.update(!0)}},{key:_0x27ab("0xb5a"),value:function(x){if(this.isStaping=!1,!(!this[_0x27ab("0xb74")]&&this[_0x27ab("0xb6c")]&&this[_0x27ab("0xb4f")]>=5)){if(x[_0x27ab("0xb75")]||(this[_0x27ab("0xa92")]=this[_0x27ab("0xb6d")](x)),this[_0x27ab("0xb74")]&&2!=x[_0x27ab("0x726")]&&this.tapcount>5&&this[_0x27ab("0xb6c")]){var a=this.map;this[_0x27ab("0xb56")][_0x27ab("0x8cf")][_0x27ab("0x123")](this[_0x27ab("0xa92")].x,this[_0x27ab("0xa92")].y,.5),this[_0x27ab("0xb56")].endClientX=x[_0x27ab("0xb6f")],this[_0x27ab("0xb56")][_0x27ab("0xb76")]=x.offsetY;var b=a.coordScreenToMap(this[_0x27ab("0xb56")][_0x27ab("0xb6e")],this.BoxPicker[_0x27ab("0xb77")],0),_=a[_0x27ab("0xada")](this[_0x27ab("0xb56")][_0x27ab("0xb78")],this[_0x27ab("0xb56")][_0x27ab("0xb76")],0),e=a.coordScreenToMap(this[_0x27ab("0xb56")].startClientX,this.BoxPicker.endClientY,0),t=a[_0x27ab("0xada")](this[_0x27ab("0xb56")][_0x27ab("0xb78")],this.BoxPicker[_0x27ab("0xb77")],0),i=1,n=0;a[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]&&(i=a[_0x27ab("0x629")]()[_0x27ab("0x915")],n=a.id);var r=[{x:b.x,y:b.y},{x:e.x,y:e.y},{x:_.x,y:_.y},{x:t.x,y:t.y},{x:b.x,y:b.y}],s=[];return r.forEach((function(x){s.push({x:x.x,y:x.y,fnum:i,bid:n,offset:0})})),this.BoxPicker[_0x27ab("0x8e1")]=r,this.BoxPicker[_0x27ab("0x8d2")]||(this.BoxPicker.watchlist=this[_0x27ab("0x156")]),this.map[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]&&(this[_0x27ab("0xb56")][_0x27ab("0xb79")]=this[_0x27ab("0x37")][_0x27ab("0x169")].centerTile[_0x27ab("0xb7a")]+"_"+this[_0x27ab("0x37")].tileService[_0x27ab("0xb7b")][_0x27ab("0xb7c")]),this[_0x27ab("0xb4d")]=this[_0x27ab("0xb56")][_0x27ab("0x8d3")](),this.map.fire(_0x27ab("0xb7d"),{objects:this[_0x27ab("0xb4d")],points:s}),void this.map[_0x27ab("0xa0d")]()}var o=!1;if(this[_0x27ab("0x37")][_0x27ab("0x33")].rightClick&&2==x.button&&(o=!0),(0==x[_0x27ab("0x726")]||x[_0x27ab("0xb75")]||o)&&!u){if(this.clickCompass())return;if(0==this.intersects[_0x27ab("0x0")]){var c=this[_0x27ab("0xa8f")][_0x27ab("0xa90")]([this[_0x27ab("0x37")][_0x27ab("0xa91")]],!0);1==c[_0x27ab("0x0")]&&(this[_0x27ab("0x1e7")](_0x27ab("0xa93"),{mouse:this[_0x27ab("0xa92")],hitCoord:c[0][_0x27ab("0x777")],button:x[_0x27ab("0x726")]}),this[_0x27ab("0xb50")]&&(console[_0x27ab("0x362")](c),this[_0x27ab("0x1e7")](_0x27ab("0xb50"),c)))}else this[_0x27ab("0xb50")]?(console[_0x27ab("0x362")](this[_0x27ab("0xa98")]),this[_0x27ab("0x1e7")](_0x27ab("0xb50"),this[_0x27ab("0xa98")])):this[_0x27ab("0x1e7")](_0x27ab("0xa79"),{objects:this[_0x27ab("0xa98")],mouse:this[_0x27ab("0xa92")],button:x[_0x27ab("0x726")]})}x.preventDefault()}}},{key:_0x27ab("0xb6d"),value:function(x){var a=this[_0x27ab("0x37")][_0x27ab("0x614")].container[_0x27ab("0x3af")](),b=new(THREE[_0x27ab("0x569")]);return b.x=((x[_0x27ab("0xb75")]?x[_0x27ab("0xb75")][0][_0x27ab("0x3b2")]:x.clientX)-a.left)/a[_0x27ab("0x326")]*2-1,b.y=-((x.touches?x.touches[0][_0x27ab("0x3b3")]:x[_0x27ab("0x3b3")])-a[_0x27ab("0x184")])/a[_0x27ab("0x1b7")]*2+1,b}},{key:_0x27ab("0xb74"),set:function(x){this[_0x27ab("0xb4e")]=x,x?(this[_0x27ab("0x37")][_0x27ab("0x292")].enableMapPan=!1,this[_0x27ab("0xb56")][_0x27ab("0x581")]=!0):(this.map.gestureController[_0x27ab("0x293")]=!0,this[_0x27ab("0xb56")][_0x27ab("0x581")]=!1)},get:function(){return this[_0x27ab("0xb4e")]}}]),a}((0,s[_0x27ab("0xb")])(o.default));a[_0x27ab("0xb")]=d},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _={};if(!b(131)[_0x27ab("0x3c3")]){var e=navigator[_0x27ab("0x60c")].toLowerCase(),t=document[_0x27ab("0x397")],i=_0x27ab("0x378")in window,n=-1!==e.indexOf(_0x27ab("0xb7e")),r=-1!==e[_0x27ab("0xd1")](_0x27ab("0xb7f")),s=-1!==e[_0x27ab("0x5f4")](_0x27ab("0xb80")),o=-1!==e[_0x27ab("0xd1")](_0x27ab("0xb81")),c=-1!==e[_0x27ab("0xd1")](_0x27ab("0x3a6"))&&!n&&!window.opera&&!i,l="undefined"!=typeof orientation||-1!==e.indexOf("mobile"),f=!window[_0x27ab("0xb82")]&&window[_0x27ab("0xb83")],u=window[_0x27ab("0xb82")]&&navigator[_0x27ab("0xb84")]||f,d=i&&_0x27ab("0xb85")in t[_0x27ab("0xea")],h=_0x27ab("0xb86")in window&&"m11"in new(window[_0x27ab("0xb86")])&&!s,g=_0x27ab("0xb87")in t[_0x27ab("0xea")],v=_0x27ab("0x3a0")in t.style,p=(d||h||g)&&!v&&!r,A=0;o&&(A=e.match(/chrome\/([\d.]+)/)[1]);var m=!r&&(u||_0x27ab("0xb88")in window||window[_0x27ab("0xb89")]&&document instanceof window.DocumentTouch),C=void 0;try{var I=document[_0x27ab("0x20")](_0x27ab("0x8fe")),y=I[_0x27ab("0x8ff")](_0x27ab("0xb8a"))||I[_0x27ab("0x8ff")]("experimental-webgl");C=y&&y instanceof WebGLRenderingContext}catch(x){C=!1}_={ie:i,ielt9:i&&!document[_0x27ab("0x2f")],edge:"msLaunchUri"in navigator&&!(_0x27ab("0xb8b")in document),webkit:n,gecko:c,android:-1!==e[_0x27ab("0xd1")]("android"),android23:s,chrome:o,chromeVersion:A,safari:!o&&-1!==e[_0x27ab("0xd1")](_0x27ab("0xb8c")),phantomjs:r,ie3d:d,webkit3d:h,gecko3d:g,opera12:v,any3d:p,mobile:l,mobileWebkit:l&&n,mobileWebkit3d:l&&h,mobileOpera:l&&window[_0x27ab("0xb8d")],mobileGecko:l&&c,touch:!!m,msPointer:!!f,pointer:!!u,retina:(window[_0x27ab("0xb8e")]||window.screen.deviceXDPI/window.screen[_0x27ab("0xb8f")])>1,language:navigator[_0x27ab("0xb90")]?navigator[_0x27ab("0xb90")]:navigator[_0x27ab("0xb91")],ie9:i&&9===document[_0x27ab("0xb8b")],ie10:i&&10===document.documentMode,webgl:C}}a[_0x27ab("0xb")]=_},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0x74f")]=t,a[_0x27ab("0xb92")]=function(x){if(!(0,_[_0x27ab("0x1dc")])(x))return x;return x[_0x27ab("0x111")](i,"")},a[_0x27ab("0x3b9")]=function(x){return t(x)[_0x27ab("0x28")](/\s+/)},a[_0x27ab("0xb93")]=r,a[_0x27ab("0xb94")]=o,a.getFontHeight=c,a.splitContent=l,a[_0x27ab("0xb95")]=function(x,a){if(!(0,_[_0x27ab("0x1dc")])(x))return x;return x.replace(f,(function(x,b){if(!a)return"";var e=a[b];return(0,_[_0x27ab("0x1e6")])(e)?"":Array.isArray(e)?e[_0x27ab("0x2d")]():e}))},a[_0x27ab("0xb96")]=function(x,a,b){var _=x[_0x27ab("0x326")],e=x[_0x27ab("0x1b7")],t=void 0,i=void 0;t=a===_0x27ab("0x183")?-_:a===_0x27ab("0x6ee")?0:-_/2;i="top"===b?-e:"bottom"===b?0:-e/2;return new Point(t,i)},a[_0x27ab("0xb97")]=u,a.splitTextToRow=function(x,a){var b=u(a),e=a.textLineSpacing||0,t=o(x,b),i=t.width,n=t.height,s=a[_0x27ab("0xba0")],c=[],f=a.textWrapWidth;(!f||f>i)&&(f=i);(0,_[_0x27ab("0x1dc")])(x)||(x+="");var d=0;if(s&&x.indexOf(s)>=0)for(var h=x[_0x27ab("0x28")](s),g=0,v=h[_0x27ab("0x0")];g<v;g++){var p=h[g],A=r(p,b);if(A>f)for(var m=l(p,b,f,A),C=0,I=m[_0x27ab("0x0")];C<I;C++){var y=m[C].width;y>d&&(d=y),c[_0x27ab("0x1")]({text:m[C][_0x27ab("0xba1")],size:new Size(y,n)})}else A>d&&(d=A),c[_0x27ab("0x1")]({text:p,size:new Size(A,n)})}else if(i>f)for(var E=l(x,b,f,i),w=0;w<E[_0x27ab("0x0")];w++){var T=E[w][_0x27ab("0x326")];T>d&&(d=T),c[_0x27ab("0x1")]({text:E[w][_0x27ab("0xba1")],size:new Size(T,n)})}else i>d&&(d=i),c[_0x27ab("0x1")]({text:x,size:t});var k=c[_0x27ab("0x0")],S=new Size(d,n*k+e*(k-1));return{total:k,size:S,rows:c,rawSize:t}};var _=b(11),e=b(130);function t(x){return x[_0x27ab("0x74f")]?x[_0x27ab("0x74f")]():x[_0x27ab("0x111")](/^\s+|\s+$/g,"")}var i=/[\b\t\r\v\f]/gim;var n=typeof document!==_0x27ab("0x8")?document[_0x27ab("0x20")](_0x27ab("0x8fe"))[_0x27ab("0x8ff")]("2d"):null;function r(x,a){return r.node?r[_0x27ab("0x63c")](x,a):(n.font=a,n[_0x27ab("0xb98")](x)[_0x27ab("0x326")])}var s={};function o(x,a){if(o[_0x27ab("0x63c")])return o[_0x27ab("0x63c")](x,a);var b=r(x,a);return a||(a=_0x27ab("0xb99")),s[a]||(s[a]=c(a)),new Size(b,s[a])}function c(x){var a=(0,e[_0x27ab("0x396")])();"_default_"!==x&&(a[_0x27ab("0xea")][_0x27ab("0xb9a")]=x),a[_0x27ab("0x332")]="秦";var b=a[_0x27ab("0x426")];return(0,e.removeDomNode)(a),b}function l(x,a,b,e){if(!x||0===x[_0x27ab("0x0")])return[{text:"",width:0}];var t=(0,_[_0x27ab("0x1e6")])(e)?r(x,a):e,i=t/x[_0x27ab("0x0")],n=Math[_0x27ab("0xdd")](b/i/2);if(i>=b||n<=0)return[{text:"",width:b}];if(t<=b)return[{text:x,width:t}];for(var s=[],o=x.substring(0,n),c=i*n,l=n,f=x.length;l<f;l++){var u=x[l],d=r(o+u);d>=b?(s[_0x27ab("0x1")]({text:o,width:c}),o=x.substring(l,n+l),l+=n-1,c=i*n):(o+=u,c=d),l>=f-1&&(c=r(o),s.push({text:o,width:c}))}return s}var f=/\{([\w_]+)\}/g;function u(x){return x[_0x27ab("0xb9b")]?x[_0x27ab("0xb9b")]:(x[_0x27ab("0xb9c")]&&x[_0x27ab("0xb9c")]!==_0x27ab("0xff")?x[_0x27ab("0xb9c")]+" ":"")+(x[_0x27ab("0xb9d")]&&"normal"!==x[_0x27ab("0xb9d")]?x.textWeight+" ":"")+x[_0x27ab("0xb9e")]+_0x27ab("0xb9f")+('"'===x.textFaceName[0]?x.textFaceName:'"'+x.textFaceName+'"')}},function(x,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(94));function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this.target=a}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x3cb"),value:function(){return this[_0x27ab("0xba2")]||(this._enabled=!0,this[_0x27ab("0xba3")]()),this}},{key:_0x27ab("0x3cc"),value:function(){return this._enabled?(this._enabled=!1,this[_0x27ab("0xba4")](),this):this}},{key:_0x27ab("0x581"),value:function(){return!!this[_0x27ab("0xba2")]}},{key:"remove",value:function(){this[_0x27ab("0x3cc")](),delete this[_0x27ab("0x295")],delete this[_0x27ab("0xba5")]}}]),x}();a[_0x27ab("0xb")]=(0,t[_0x27ab("0xb")])(n)},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(a,b,e){(0,_[_0x27ab("0xb")])(this,x),this.options_=e,this[_0x27ab("0xb27")]=null,this[_0x27ab("0xb28")]=null,this[_0x27ab("0xba6")]=null,this[_0x27ab("0xba7")]=null,this[_0x27ab("0x418")]=a,this[_0x27ab("0x419")]=b,this.w_=Math[_0x27ab("0x340")](e[_0x27ab("0x214")],128),this.h_=Math.min(e[_0x27ab("0x214")],128)}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x41b"),value:function(x,a,b){if(null!=this[_0x27ab("0xb27")]&&null!=this[_0x27ab("0xb28")]){var _=x/2,e=a/2,t=b||this[_0x27ab("0x424")].compassOffset,i=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],n=1;i[_0x27ab("0x33")][_0x27ab("0x201")]&&(n=i[_0x27ab("0x33")].compassPosition),1==n?(this.spriteBg_.position[_0x27ab("0x123")](-_+this.w_/2+t[0],e-this.h_/2-t[1],.5),this[_0x27ab("0xb28")][_0x27ab("0xc3")][_0x27ab("0x123")](-_+this.w_/2+t[0],e-this.h_/2-t[1],1)):3==n?(this[_0x27ab("0xb27")][_0x27ab("0xc3")][_0x27ab("0x123")](_-this.w_/2-t[0],e-this.h_/2-t[1],.5),this[_0x27ab("0xb28")][_0x27ab("0xc3")][_0x27ab("0x123")](_-this.w_/2-t[0],e-this.h_/2-t[1],1)):2==n?(this[_0x27ab("0xb27")][_0x27ab("0xc3")][_0x27ab("0x123")](-_+this.w_/2+t[0],this.h_/2-e+t[1],.5),this.spritePt_[_0x27ab("0xc3")][_0x27ab("0x123")](-_+this.w_/2+t[0],this.h_/2-e+t[1],1)):4==n&&(this[_0x27ab("0xb27")][_0x27ab("0xc3")][_0x27ab("0x123")](_-this.w_/2-t[0],this.h_/2-e+t[1],.5),this[_0x27ab("0xb28")][_0x27ab("0xc3")][_0x27ab("0x123")](_-this.w_/2-t[0],this.h_/2-e+t[1],1))}}},{key:_0x27ab("0xb29"),value:function(x){null!=this.materialBg_&&(this[_0x27ab("0xba6")][_0x27ab("0x1b1")]=Math.PI+x)}},{key:_0x27ab("0xa47"),value:function(x){var a=document.createElement(_0x27ab("0x421"));a[_0x27ab("0x42b")]=x;var b=new(THREE[_0x27ab("0x42d")])(a);this.materialPt_[_0x27ab("0x37")]=b,a[_0x27ab("0xba8")]=function(){b[_0x27ab("0x146")]=!0}}},{key:_0x27ab("0xa49"),value:function(x){var a=document[_0x27ab("0x20")]("img");a[_0x27ab("0x42b")]=x;var b=new(THREE[_0x27ab("0x42d")])(a);this[_0x27ab("0xba7")][_0x27ab("0x37")]=b,a[_0x27ab("0xba8")]=function(){b.needsUpdate=!0}}},{key:_0x27ab("0x31"),value:function(){var x=esmap.ESMap[_0x27ab("0xd3")];if(null==this.spriteBg_&&null==this[_0x27ab("0xb28")]){var a=document[_0x27ab("0x20")](_0x27ab("0x421"));x.options[_0x27ab("0xba9")]?a[_0x27ab("0x42b")]=x[_0x27ab("0x33")][_0x27ab("0xba9")]:a.src=_0x27ab("0xbaa");var b=new(THREE[_0x27ab("0x42d")])(a),_=document[_0x27ab("0x20")](_0x27ab("0x421"));x[_0x27ab("0x33")][_0x27ab("0x200")]?_[_0x27ab("0x42b")]=x.options.compassPointerUrl:_.src=_0x27ab("0xbab");var e=new(THREE[_0x27ab("0x42d")])(_);this[_0x27ab("0xbac")]=this.w_,this[_0x27ab("0xbad")]=this.h_,b[_0x27ab("0x146")]=!0,e[_0x27ab("0x146")]=!0,this[_0x27ab("0xba7")]=new(THREE[_0x27ab("0x423")])({map:b}),this.spriteBg_=new(THREE[_0x27ab("0x2ad")])(this.materialBg_),this[_0x27ab("0xb27")][_0x27ab("0x24b")].set(this.w_,this.h_,1),this[_0x27ab("0xba6")]=new THREE.SpriteMaterial({map:e}),this[_0x27ab("0xb28")]=new(THREE[_0x27ab("0x2ad")])(this[_0x27ab("0xba6")]),this.spritePt_[_0x27ab("0x24b")].set(this[_0x27ab("0xbac")],this[_0x27ab("0xbad")],1),this.materialBg_[_0x27ab("0x37")][_0x27ab("0x14d")]=THREE[_0x27ab("0x42f")],this[_0x27ab("0xba6")].map.minFilter=THREE[_0x27ab("0x42f")],this.sceneOrtho_[_0x27ab("0x163")](this.spriteBg_),this[_0x27ab("0x419")][_0x27ab("0x163")](this[_0x27ab("0xb28")]);var t=this[_0x27ab("0x424")][_0x27ab("0x1fc")],i=t[_0x27ab("0x3c1")],n=t[_0x27ab("0x426")];this.updateHUD(i,n)}}},{key:"visible",set:function(x){x!=this[_0x27ab("0x418")]&&(this.visible_=x,x?(this[_0x27ab("0x31")](),this[_0x27ab("0xb27")].visible=this[_0x27ab("0xb28")][_0x27ab("0xf6")]=!0):null!=this[_0x27ab("0xb27")]&&null!=this[_0x27ab("0xb28")]&&(this[_0x27ab("0xb27")].visible=this[_0x27ab("0xb28")][_0x27ab("0xf6")]=!1))},get:function(){return this.visible_}}]),x}();a.default=i},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _={s:1,k:null,token:"",tid:3,version:1,themeID:null,tileType:_0x27ab("0xbae"),maximumTiles:25,maximumBuildings:1,loadRoads:!0,showRoads:!0,serverUrl:null,showBuildingMode:esmap.ShowBuildingMode.PLANISH,showBuildingModeBk:{tileScaleZ:.25,time:1,mode:1},roadShowLevel:{6:18,15:15.6},buildingCache:!1,zoomLevel:15,maxBuildingZoomLevel:18,tileShowLevel:12.5,disableViewCenter:!1,clickOpenBuildings:!0,esTileMode:!0,tileColor:_0x27ab("0xbaf"),disableIndoorClick:!1,disableOutdoorClick:!1,buildingScale:1,pickableBuildings:[],tileMode:!0,roadStyle:{url:_0x27ab("0xbb0"),lineWidth:12,isMapRoad:!0,speed:50,dashArray:[100],dash:{speed:50},alpha:.8,offsetHeight:10,lineType:esmap[_0x27ab("0x5b1")].TEXTURE},worldScale:15,showTapTip:!0,offsetbid:0,offsetroad:0,buildingMergeModel3D:!0,autoOpenBuilding:!1,autoOpenLevel:20,buildingFoucsMode:2};a.DefaultCityOptions=_},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});a[_0x27ab("0x230")]={callbackByFloor:null,themeID:0,focusAnimateMode:!0,focusAnimateTime:.3,focusAlphaMode:!1,focusAlpha:.4,undergroundOffset:0,modelSelectedEffect:!0,mergeModelLines:!0,mergeModels:!0,scaleOffset:0,offset:[0,0,0],visibleFloors:null,focusFloor:null,showBase:0,mapFloorSpan:0,loadModel3D:1,loadPoi:1,loadLabel:1,token:null,logotoken:null,modelLines:!1,mergeModel3D:!0,s:null,k:null,dataCenter:null,center:null,focusMode:2}},function(x,a,b){"use strict";var _=t(b(54)),e=t(b(18));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}THREE[_0x27ab("0xb15")]=function(x,a){var b,_,e,t,i;this.object=x,this[_0x27ab("0x6de")]=void 0!==a?a:document,this[_0x27ab("0x581")]=!0,this[_0x27ab("0x295")]=new(THREE[_0x27ab("0xe7")]),this[_0x27ab("0x2e9")]=0,this.maxDistance=1/0,this[_0x27ab("0xbb1")]=0,this[_0x27ab("0xbb2")]=1/0,this[_0x27ab("0x938")]=0,this[_0x27ab("0x991")]=Math.PI,this[_0x27ab("0xbb3")]=-1/0,this[_0x27ab("0xbb4")]=1/0,this[_0x27ab("0xbb5")]=!1,this[_0x27ab("0xbb6")]=.25,this[_0x27ab("0xbb7")]=!0,this.zoomSpeed=1,this[_0x27ab("0xbb8")]=!0,this[_0x27ab("0xbb9")]=1,this.enableIncline=!0,this[_0x27ab("0xbba")]=!0,this[_0x27ab("0xbbb")]=1,this[_0x27ab("0xbbc")]=!1,this[_0x27ab("0xbbd")]=7,this.autoRotate=!1,this[_0x27ab("0xbbe")]=2,this.enableKeys=!0,this[_0x27ab("0x5e0")]={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this[_0x27ab("0xbbf")]={LEFT:THREE[_0x27ab("0xbc0")][_0x27ab("0xbc1")],MIDDLE:THREE[_0x27ab("0xbc0")][_0x27ab("0xbc2")],RIGHT:THREE[_0x27ab("0xbc0")][_0x27ab("0xbc3")]},this.target0=this.target.clone(),this[_0x27ab("0xbc4")]=this[_0x27ab("0x1c")][_0x27ab("0xc3")].clone(),this.zoom0=this[_0x27ab("0x1c")].zoom,this[_0x27ab("0x307")]=function(){return d[_0x27ab("0x714")]},this[_0x27ab("0x306")]=function(){return d[_0x27ab("0x715")]},this.getDistance=function(){return this[_0x27ab("0x1c")][_0x27ab("0xc3")][_0x27ab("0xe2")]()[_0x27ab("0x2f3")](this.target)[_0x27ab("0x0")]()},this[_0x27ab("0xacc")]=function(){return this[_0x27ab("0x1c")]instanceof THREE[_0x27ab("0x881")]?this[_0x27ab("0x602")]()/this[_0x27ab("0xa14")]:this.object[_0x27ab("0x184")]/this.object.zoom/this[_0x27ab("0xad4")]},this[_0x27ab("0x297")]=function(x,a){var b=this[_0x27ab("0x1c")],_=b[_0x27ab("0xc3")][_0x27ab("0xe2")]()[_0x27ab("0x2f3")](this[_0x27ab("0x295")])[_0x27ab("0x2f4")]();_[_0x27ab("0x28c")](this[_0x27ab("0xa14")]*x);var e=this[_0x27ab("0x295")].clone()[_0x27ab("0x163")](_);b[_0x27ab("0xc3")].copy(e)},this[_0x27ab("0xafd")]=function(){for(var x=this[_0x27ab("0xacc")](),a=esmap[_0x27ab("0x32")].instance,b=0;b<a[_0x27ab("0x946")].length;b++)if(Math[_0x27ab("0x274")](a[_0x27ab("0x946")][b]-x)>.001&&x<a[_0x27ab("0x946")][b])return b-1<0?0:b-1;return b-1<0?0:b-1},this[_0x27ab("0xbc5")]=function(){n[_0x27ab("0xbc6")][_0x27ab("0x27d")](n[_0x27ab("0x295")]),n[_0x27ab("0xbc4")].copy(n[_0x27ab("0x1c")].position),n.zoom0=n[_0x27ab("0x1c")].zoom},this.drop=function(){f=l[_0x27ab("0xa96")],this[_0x27ab("0x701")](o)},this.reset=function(){n.target[_0x27ab("0x27d")](n[_0x27ab("0xbc6")]),n[_0x27ab("0x1c")][_0x27ab("0xc3")][_0x27ab("0x27d")](n[_0x27ab("0xbc4")]),n[_0x27ab("0x1c")][_0x27ab("0x615")]=n.zoom0,n[_0x27ab("0x1c")][_0x27ab("0xb06")](),n[_0x27ab("0x701")](r),n[_0x27ab("0x12b")](),f=l[_0x27ab("0xa96")]},this[_0x27ab("0x12b")]=(b=new THREE.Vector3,_=(new(THREE[_0x27ab("0x24c")]))[_0x27ab("0xbc7")](x.up,new(THREE[_0x27ab("0xe7")])(0,1,0)),e=_[_0x27ab("0xe2")]()[_0x27ab("0x69f")](),t=new THREE.Vector3,i=new THREE.Quaternion,function(x){var a=n.object[_0x27ab("0xc3")];return b.copy(a)[_0x27ab("0x2f3")](n[_0x27ab("0x295")]),b.applyQuaternion(_),d[_0x27ab("0xbc8")](b),n[_0x27ab("0xbc9")]&&f===l[_0x27ab("0xa96")]&&P(2*Math.PI/60/60*n[_0x27ab("0xbbe")]),d.theta+=h.theta,d[_0x27ab("0x714")]+=h[_0x27ab("0x714")],x&&(x.hasOwnProperty(_0x27ab("0xbca"))&&(d[_0x27ab("0x715")]=x.forceTheta,h.theta=0),x[_0x27ab("0xc")]("forcePhi")&&(d[_0x27ab("0x714")]=x[_0x27ab("0xbcb")],h[_0x27ab("0x714")]=0)),d.theta=Math.max(n[_0x27ab("0xbb3")],Math[_0x27ab("0x340")](n[_0x27ab("0xbb4")],d.theta)),d[_0x27ab("0x714")]=Math[_0x27ab("0x33f")](n[_0x27ab("0x938")],Math[_0x27ab("0x340")](n[_0x27ab("0x991")],d[_0x27ab("0x714")])),d[_0x27ab("0xbcc")](),1!=g&&n[_0x27ab("0x701")](c),d[_0x27ab("0x638")]*=g,d[_0x27ab("0x638")]=Math[_0x27ab("0x33f")](n[_0x27ab("0x2e9")],Math.min(n[_0x27ab("0x2e8")],d[_0x27ab("0x638")])),n[_0x27ab("0x295")][_0x27ab("0x163")](v),b.setFromSpherical(d),b[_0x27ab("0xbcd")](e),a[_0x27ab("0x27d")](n[_0x27ab("0x295")])[_0x27ab("0x163")](b),n[_0x27ab("0x1c")][_0x27ab("0x278")](n.target),!0===n[_0x27ab("0xbb5")]?(h.theta*=1-n[_0x27ab("0xbb6")],h[_0x27ab("0x714")]*=1-n[_0x27ab("0xbb6")],v[_0x27ab("0x28c")](1-n.dampingFactor)):(h[_0x27ab("0x123")](0,0,0),v[_0x27ab("0x123")](0,0,0)),g=1,!!(p||t[_0x27ab("0xbce")](n[_0x27ab("0x1c")][_0x27ab("0xc3")])>u||8*(1-i[_0x27ab("0x8ae")](n[_0x27ab("0x1c")].quaternion))>u)&&(n.dispatchEvent(r),t[_0x27ab("0x27d")](n[_0x27ab("0x1c")][_0x27ab("0xc3")]),i[_0x27ab("0x27d")](n[_0x27ab("0x1c")].quaternion),p=!1,!0)}),this[_0x27ab("0xb2")]=function(){n[_0x27ab("0x6de")][_0x27ab("0x2d0")](_0x27ab("0x739"),ex,!1),n.domElement[_0x27ab("0x2d0")](_0x27ab("0x73a"),J,!1),n[_0x27ab("0x6de")][_0x27ab("0x2d0")](_0x27ab("0xbcf"),$,!1),n[_0x27ab("0x6de")][_0x27ab("0x2d0")](_0x27ab("0xb54"),ax,!1),n[_0x27ab("0x6de")][_0x27ab("0x2d0")](_0x27ab("0xbd0"),_x,!1),n[_0x27ab("0x6de")][_0x27ab("0x2d0")](_0x27ab("0xb55"),bx,!1),document[_0x27ab("0x2d0")](_0x27ab("0x73b"),K,!1),document[_0x27ab("0x2d0")]("mouseup",q,!1),window[_0x27ab("0x2d0")](_0x27ab("0x29b"),xx,!1)};var n=this,r={type:_0x27ab("0x93d")},s={type:"start"},o={type:"end"},c={type:"zoomed"},l={NONE:0,ROTATE_UP:1,ROTATE_LEFT:2,ROTATE:3,DOLLY:4,DOLLY_ROTATE:7,PAN:8,DOLLY_PAN:12},f=l.NONE,u=1e-6,d=new(THREE[_0x27ab("0xbd1")]),h=new(THREE[_0x27ab("0xbd1")]),g=1,v=new THREE.Vector3,p=!1,A=new(THREE[_0x27ab("0x569")]),m=new(THREE[_0x27ab("0x569")]),C=new THREE.Vector2,I=new(THREE[_0x27ab("0x569")]),y=new THREE.Vector2,E=new(THREE[_0x27ab("0x569")]),w=new THREE.Vector2,T=new(THREE[_0x27ab("0x569")]),k=new(THREE[_0x27ab("0x569")]),S=new(THREE[_0x27ab("0x569")]),M=new(THREE[_0x27ab("0x569")]),R=new(THREE[_0x27ab("0x569")]),L=new THREE.Vector2,H=new(THREE[_0x27ab("0x569")]);function D(){return Math[_0x27ab("0xb4")](.95,n[_0x27ab("0xbd2")])}function P(x){h[_0x27ab("0x715")]-=x}function O(x){h[_0x27ab("0x714")]-=x}var B,N,F,z=(B=new(THREE[_0x27ab("0xe7")]),function(x,a){B[_0x27ab("0xbd3")](a,0),B[_0x27ab("0x28c")](-x),v[_0x27ab("0x163")](B)}),j=(N=new(THREE[_0x27ab("0xe7")]),function(x,a){!0===n[_0x27ab("0xbbc")]?N[_0x27ab("0xbd3")](a,1):(N[_0x27ab("0xbd3")](a,0),N[_0x27ab("0x8a9")](n[_0x27ab("0x1c")].up,N)),N[_0x27ab("0x28c")](x),v[_0x27ab("0x163")](N)}),U=(F=new(THREE[_0x27ab("0xe7")]),function(x,a){var b=n[_0x27ab("0x6de")]===document?n[_0x27ab("0x6de")][_0x27ab("0x23")]:n[_0x27ab("0x6de")];if(n[_0x27ab("0x1c")][_0x27ab("0x6e9")]){var _=n[_0x27ab("0x1c")][_0x27ab("0xc3")];F[_0x27ab("0x27d")](_)[_0x27ab("0x2f3")](n[_0x27ab("0x295")]);var e=F[_0x27ab("0x0")]();e*=Math[_0x27ab("0xb32")](n[_0x27ab("0x1c")][_0x27ab("0x618")]/2*Math.PI/180),z(2*x*e/b[_0x27ab("0x426")],n[_0x27ab("0x1c")][_0x27ab("0x34d")]),j(2*a*e/b[_0x27ab("0x426")],n[_0x27ab("0x1c")][_0x27ab("0x34d")])}else n[_0x27ab("0x1c")].isOrthographicCamera?(z(x*(n[_0x27ab("0x1c")][_0x27ab("0x6ee")]-n[_0x27ab("0x1c")][_0x27ab("0x183")])/n[_0x27ab("0x1c")].zoom/b.clientWidth,n[_0x27ab("0x1c")][_0x27ab("0x34d")]),j(a*(n[_0x27ab("0x1c")].top-n[_0x27ab("0x1c")][_0x27ab("0x185")])/n[_0x27ab("0x1c")][_0x27ab("0x615")]/b[_0x27ab("0x426")],n.object.matrix)):(console[_0x27ab("0x3f4")](_0x27ab("0xbd4")),n[_0x27ab("0xbba")]=!1)});function X(x){n.object[_0x27ab("0x6e9")]?g/=x:n[_0x27ab("0x1c")][_0x27ab("0x6ed")]?(n[_0x27ab("0x1c")][_0x27ab("0x615")]=Math[_0x27ab("0x33f")](n[_0x27ab("0xbb1")],Math[_0x27ab("0x340")](n.maxZoom,n.object[_0x27ab("0x615")]*x)),n.object.updateProjectionMatrix(),p=!0):(console[_0x27ab("0x3f4")](_0x27ab("0xbd5")),n[_0x27ab("0xbb7")]=!1)}function Y(x){n[_0x27ab("0x1c")][_0x27ab("0x6e9")]?g*=x:n[_0x27ab("0x1c")][_0x27ab("0x6ed")]?(n[_0x27ab("0x1c")][_0x27ab("0x615")]=Math[_0x27ab("0x33f")](n.minZoom,Math[_0x27ab("0x340")](n[_0x27ab("0xbb2")],n[_0x27ab("0x1c")].zoom/x)),n[_0x27ab("0x1c")][_0x27ab("0xb06")](),p=!0):(console[_0x27ab("0x3f4")](_0x27ab("0xbd5")),n[_0x27ab("0xbb7")]=!1)}function G(x){if(!1!==n[_0x27ab("0xbb8")]&&0!=(f&l[_0x27ab("0xbd9")])){if(C[_0x27ab("0x123")](x.touches[0][_0x27ab("0x72b")],x[_0x27ab("0xb75")][0].pageY),I[_0x27ab("0x123")](x.touches[1].pageX,x[_0x27ab("0xb75")][1].pageY),y[_0x27ab("0x8a8")](C,A),E.subVectors(I,m),w[_0x27ab("0x8a8")](m,A),T.subVectors(I,C),function(){W(w);W(T);if(!Z(y))return!1;if(!Z(E))return!1;return y[_0x27ab("0x8ae")](E)>0}()){var a=n[_0x27ab("0x6de")]===document?n[_0x27ab("0x6de")][_0x27ab("0x23")]:n.domElement;O(2*Math.PI*y.y/a[_0x27ab("0x426")]),f=l[_0x27ab("0xbda")]}else 0!=(f&l[_0x27ab("0xbdb")])&&P((w[_0x27ab("0x26c")]()-T.angle())*n[_0x27ab("0xbb9")]);A[_0x27ab("0x27d")](C),m.copy(I)}}var Q,V,W=(Q=Math[_0x27ab("0x617")](Math.PI/6),function(x){return Math[_0x27ab("0x274")](Math.sin(x[_0x27ab("0x26c")]()))<Q}),Z=(V=Math[_0x27ab("0x649")](Math.PI/2-Math.PI/6),function(x){return Math.abs(Math.cos(x[_0x27ab("0x26c")]()))<V});function J(x){if(!1!==n[_0x27ab("0x581")]){switch(x[_0x27ab("0x3a7")](),x[_0x27ab("0x726")]){case n[_0x27ab("0xbbf")][_0x27ab("0xbc1")]:if(!1===n[_0x27ab("0xbba")])return;_=x,k[_0x27ab("0x123")](_[_0x27ab("0x3b2")],_[_0x27ab("0x3b3")]),f=l[_0x27ab("0xbdc")];break;case n[_0x27ab("0xbbf")].MIDDLE:if(!1===n[_0x27ab("0xbb7")])return;b=x,R[_0x27ab("0x123")](b[_0x27ab("0x3b2")],b.clientY),f=l[_0x27ab("0xbdd")];break;case n[_0x27ab("0xbbf")][_0x27ab("0xbc3")]:a=x,A[_0x27ab("0x123")](a.clientX,a[_0x27ab("0x3b3")]),f=l[_0x27ab("0xbd9")]}var a,b,_;f!==l[_0x27ab("0xa96")]&&(document[_0x27ab("0x2f")](_0x27ab("0x73b"),K,!1),document[_0x27ab("0x2f")]("mouseup",q,!1),n[_0x27ab("0x701")](s))}}function K(x){var a,b;if(!1!==n[_0x27ab("0x581")])switch(x[_0x27ab("0x3a7")](),f){case l[_0x27ab("0xbd9")]:!function(x){C[_0x27ab("0x123")](x[_0x27ab("0x3b2")],x[_0x27ab("0x3b3")]),y[_0x27ab("0x8a8")](C,A)[_0x27ab("0x28c")](n.rotateSpeed);var a=n[_0x27ab("0x6de")]===document?n[_0x27ab("0x6de")][_0x27ab("0x23")]:n[_0x27ab("0x6de")];n[_0x27ab("0xbb8")]&&P(2*Math.PI*y.x/a[_0x27ab("0x426")]),n[_0x27ab("0xbd6")]&&O(2*Math.PI*y.y/a[_0x27ab("0x426")]),A[_0x27ab("0x27d")](C),n.update()}(x);break;case l[_0x27ab("0xbdd")]:if(!1===n[_0x27ab("0xbb7")])return;b=x,L[_0x27ab("0x123")](b[_0x27ab("0x3b2")],b[_0x27ab("0x3b3")]),H[_0x27ab("0x8a8")](L,R),H.y>0?X(D()):H.y<0&&Y(D()),R[_0x27ab("0x27d")](L),n[_0x27ab("0x12b")]();break;case l[_0x27ab("0xbdc")]:if(!1===n[_0x27ab("0xbba")])return;a=x,S[_0x27ab("0x123")](a[_0x27ab("0x3b2")],a.clientY),M[_0x27ab("0x8a8")](S,k).multiplyScalar(n[_0x27ab("0xbbb")]),U(M.x,M.y),k[_0x27ab("0x27d")](S),n.update()}}function q(x){!1!==n[_0x27ab("0x581")]&&(document[_0x27ab("0x2d0")](_0x27ab("0x73b"),K,!1),document.removeEventListener(_0x27ab("0x73c"),q,!1),n[_0x27ab("0x701")](o),f=l.NONE)}function $(x){var a;!1===n[_0x27ab("0x581")]||!1===n[_0x27ab("0xbb7")]||f!==l[_0x27ab("0xa96")]&&f!==l[_0x27ab("0xbd9")]||(x[_0x27ab("0x3a7")](),x.stopPropagation(),n.dispatchEvent(s),(a=x).deltaY<0?Y(D()):a[_0x27ab("0xbd7")]>0&&X(D()),n[_0x27ab("0x12b")](),n[_0x27ab("0x701")](o))}function xx(x){!1!==n[_0x27ab("0x581")]&&!1!==n[_0x27ab("0xbde")]&&!1!==n.enablePan&&function(x){switch(x[_0x27ab("0x29a")]){case n[_0x27ab("0x5e0")].UP:U(0,n.keyPanSpeed),n.update();break;case n[_0x27ab("0x5e0")][_0x27ab("0xbd8")]:U(0,-n[_0x27ab("0xbbd")]),n[_0x27ab("0x12b")]();break;case n[_0x27ab("0x5e0")][_0x27ab("0xbc1")]:U(n[_0x27ab("0xbbd")],0),n[_0x27ab("0x12b")]();break;case n[_0x27ab("0x5e0")][_0x27ab("0xbc3")]:U(-n[_0x27ab("0xbbd")],0),n[_0x27ab("0x12b")]()}}(x)}function ax(x){if(!1!==n.enabled){switch(x[_0x27ab("0x3a7")](),x[_0x27ab("0xb75")][_0x27ab("0x0")]){case 1:if(!1===n.enablePan)return;b=x,n.enablePan&&k.set(b[_0x27ab("0xb75")][0][_0x27ab("0x72b")],b[_0x27ab("0xb75")][0][_0x27ab("0x72c")]),f=l[_0x27ab("0xbdc")];break;case 2:if(!1===n[_0x27ab("0xbb7")]&&!1===n[_0x27ab("0xbb8")])return;a=x,A[_0x27ab("0x123")](a[_0x27ab("0xb75")][0].pageX,a[_0x27ab("0xb75")][0][_0x27ab("0x72c")]),m[_0x27ab("0x123")](a[_0x27ab("0xb75")][1][_0x27ab("0x72b")],a.touches[1][_0x27ab("0x72c")]),function(x){if(n[_0x27ab("0xbb7")]){var a=x[_0x27ab("0xb75")][0][_0x27ab("0x72b")]-x.touches[1][_0x27ab("0x72b")],b=x[_0x27ab("0xb75")][0][_0x27ab("0x72c")]-x[_0x27ab("0xb75")][1][_0x27ab("0x72c")],_=Math[_0x27ab("0xdc")](a*a+b*b);R.set(0,_)}}(x),f=l[_0x27ab("0xbdf")];break;default:f=l[_0x27ab("0xa96")]}var a,b;f!==l[_0x27ab("0xa96")]&&n[_0x27ab("0x701")](s)}}function bx(x){var a;if(!1!==n[_0x27ab("0x581")])switch(x.preventDefault(),x.stopPropagation(),x[_0x27ab("0xb75")].length){case 1:if(!1===n.enablePan)return;if(f!==l[_0x27ab("0xbdc")])return;a=x,!1!==n[_0x27ab("0xbba")]&&0!=(f&l[_0x27ab("0xbdc")])&&(S.set(a[_0x27ab("0xb75")][0][_0x27ab("0x72b")],a[_0x27ab("0xb75")][0][_0x27ab("0x72c")]),M[_0x27ab("0x8a8")](S,k).multiplyScalar(n.panSpeed),U(M.x,M.y),k[_0x27ab("0x27d")](S)),n[_0x27ab("0x12b")]();break;case 2:if(!1===n[_0x27ab("0xbb7")]&&!1===n[_0x27ab("0xbb8")])return;if(0==(f&l.DOLLY_ROTATE))return;G(x),function(x){if(!1!==n[_0x27ab("0xbb7")]&&0!=(f&l.DOLLY)){var a=x[_0x27ab("0xb75")][0][_0x27ab("0x72b")]-x[_0x27ab("0xb75")][1][_0x27ab("0x72b")],b=x[_0x27ab("0xb75")][0][_0x27ab("0x72c")]-x[_0x27ab("0xb75")][1].pageY,_=Math[_0x27ab("0xdc")](a*a+b*b);L[_0x27ab("0x123")](0,_),H[_0x27ab("0x123")](0,Math.pow(L.y/R.y,n[_0x27ab("0xbd2")])),X(H.y),R[_0x27ab("0x27d")](L)}}(x),n.update();break;default:f=l[_0x27ab("0xa96")]}}function _x(x){!1!==n[_0x27ab("0x581")]&&(n.dispatchEvent(o),f=l[_0x27ab("0xa96")])}function ex(x){!1!==n.enabled&&x[_0x27ab("0x3a7")]()}n[_0x27ab("0x6de")][_0x27ab("0x2f")](_0x27ab("0x739"),ex,!1),n[_0x27ab("0x6de")][_0x27ab("0x2f")](_0x27ab("0x73a"),J,!1),n.domElement[_0x27ab("0x2f")](_0x27ab("0xbcf"),$,!1),n[_0x27ab("0x6de")][_0x27ab("0x2f")](_0x27ab("0xb54"),ax,!1),n[_0x27ab("0x6de")][_0x27ab("0x2f")]("touchend",_x,!1),n.domElement[_0x27ab("0x2f")](_0x27ab("0xb55"),bx,!1),window[_0x27ab("0x2f")](_0x27ab("0x29b"),xx,!1),this[_0x27ab("0x12b")]()},THREE[_0x27ab("0xb15")][_0x27ab("0x2")]=(0,e[_0x27ab("0xb")])(THREE[_0x27ab("0xbe0")][_0x27ab("0x2")]),THREE[_0x27ab("0xb15")].prototype[_0x27ab("0x496")]=THREE[_0x27ab("0xb15")],(0,_[_0x27ab("0xb")])(THREE.MapControls[_0x27ab("0x2")],{unsetScaleLevel:{value:function(){this[_0x27ab("0x2e9")]=0,this[_0x27ab("0x2e8")]=1/0}},initScaleLevel:{value:function(x,a){var b=this.initDistance_*x,_=this[_0x27ab("0xa14")]*a;this[_0x27ab("0x2e9")]=b,this[_0x27ab("0x2e8")]=_}},center:{get:function(){return console[_0x27ab("0x3f4")](_0x27ab("0xbe1")),this[_0x27ab("0x295")]}},noZoom:{get:function(){return _0x27ab("0xbe2"),!this[_0x27ab("0xbb7")]},set:function(x){console[_0x27ab("0x3f4")](_0x27ab("0xbe2")),this[_0x27ab("0xbb7")]=!x}},noRotate:{get:function(){return console[_0x27ab("0x3f4")](_0x27ab("0xbe3")),!this[_0x27ab("0xbb8")]},set:function(x){console[_0x27ab("0x3f4")](_0x27ab("0xbe3")),this[_0x27ab("0xbb8")]=!x}},noPan:{get:function(){return console[_0x27ab("0x3f4")](_0x27ab("0xbe4")),!this[_0x27ab("0xbba")]},set:function(x){console[_0x27ab("0x3f4")](_0x27ab("0xbe4")),this.enablePan=!x}},noKeys:{get:function(){return console[_0x27ab("0x3f4")](_0x27ab("0xbe5")),!this[_0x27ab("0xbde")]},set:function(x){console[_0x27ab("0x3f4")](_0x27ab("0xbe5")),this[_0x27ab("0xbde")]=!x}},staticMoving:{get:function(){return console[_0x27ab("0x3f4")](_0x27ab("0xbe6")),!this[_0x27ab("0xbb5")]},set:function(x){console[_0x27ab("0x3f4")](_0x27ab("0xbe6")),this[_0x27ab("0xbb5")]=!x}},dynamicDampingFactor:{get:function(){return console[_0x27ab("0x3f4")](_0x27ab("0xbe7")),this[_0x27ab("0xbb6")]},set:function(x){console[_0x27ab("0x3f4")]("THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=x}}})},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=l(b(96)),e=l(b(8)),t=l(b(10)),i=l(b(12)),n=l(b(13)),r=l(b(0)),s=l(b(1)),o=l(b(97)),c=l(b(134));function l(x){return x&&x.__esModule?x:{default:x}}function f(x){if(x){if(x[_0x27ab("0xae")]&&x[_0x27ab("0xae")][_0x27ab("0xaf")]&&(x[_0x27ab("0xae")][_0x27ab("0xaf")]=void 0,x[_0x27ab("0xae")]=void 0),x[_0x27ab("0xb0")])for(var a=0;a<x.children[_0x27ab("0x0")];a++)f(x.children[a]);x[_0x27ab("0xb1")]&&x[_0x27ab("0xb1")].dispose(),x.material&&(x[_0x27ab("0xb3")]instanceof Array?x[_0x27ab("0xb3")].forEach((function(x){x&&x.dispose()})):x[_0x27ab("0xb3")][_0x27ab("0xb2")]())}x=void 0}var u=function(){function x(a){(0,r[_0x27ab("0xb")])(this,x),this[_0x27ab("0xc1")]=a.map[_0x27ab("0x15d")],this[_0x27ab("0xbe8")]=this.scene[_0x27ab("0xbe9")],this.loadingList=a.map[_0x27ab("0x175")].modelLoadingList,this[_0x27ab("0xbea")]=0,this[_0x27ab("0xbeb")]=1,this.concurrencyLimit=20,this[_0x27ab("0xbec")]=0,this[_0x27ab("0x9a6")]={},this[_0x27ab("0xbed")]={},this[_0x27ab("0x989")]=[],this[_0x27ab("0xaa9")]=[],this[_0x27ab("0x98a")]=[],this[_0x27ab("0x308")]=!1,this[_0x27ab("0x29f")]=!1,this[_0x27ab("0xbee")]={},this.userModelLoadStatus={},this[_0x27ab("0xbef")]={},this[_0x27ab("0xbf0")]=null,this[_0x27ab("0xbf1")]=50,this.maxShowModels=1e4,this[_0x27ab("0x62f")]=new(c[_0x27ab("0xb")]),this[_0x27ab("0xbf2")]=!a.map[_0x27ab("0x33")][_0x27ab("0x223")]&&a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x226")],this.modelStatic={modelTypesCount:0,roomModelsCount:0},this[_0x27ab("0xa72")]=new(THREE[_0x27ab("0x8cd")]);var b=this;a[_0x27ab("0x37")].on(_0x27ab("0xbf3"),(function(){0,b[_0x27ab("0xbec")]=0,b[_0x27ab("0x173")][_0x27ab("0xbf4")]=0,b[_0x27ab("0x173")][_0x27ab("0x174")]=0})),a[_0x27ab("0x37")].on(_0x27ab("0x944"),(function(){b.viewRangeUpdated=!1})),this[_0x27ab("0xeb")]=a.id,this.building=a,this.zoomLevel=b.scene[_0x27ab("0x37")][_0x27ab("0x33")].zoomLevel,a.map.on(_0x27ab("0x167"),this[_0x27ab("0xbf5")].bind(this))}var a,b,l,u;return(0,s[_0x27ab("0xb")])(x,[{key:_0x27ab("0xbf6"),value:function(){this[_0x27ab("0xa72")][_0x27ab("0xbf7")]||(this.frustum[_0x27ab("0xbf8")]((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x195")](this[_0x27ab("0xc1")][_0x27ab("0x37")].currentCamera[_0x27ab("0x6e8")],this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x197")])),this[_0x27ab("0xa72")][_0x27ab("0xbf7")]=!0),this[_0x27ab("0x168")]=this[_0x27ab("0xc1")].map[_0x27ab("0x168")]}},{key:_0x27ab("0xbf9"),value:function(x,a){var b=x[_0x27ab("0x235")],_=x.url,e=x[_0x27ab("0xee")];if(a=a||!1,!(b[_0x27ab("0xd1")](_0x27ab("0xbfa"))>-1&&this.scene.map[_0x27ab("0x33")][_0x27ab("0x228")]==_0x27ab("0x542"))){this[_0x27ab("0xbea")]++,b[_0x27ab("0xd1")](_0x27ab("0xbfb"))>-1&&(a=!0);var t=x[_0x27ab("0x244")],i=this.zoomLevel;this.mergeModels&&!a?(this.modelStore[b]||this[_0x27ab("0x320")][b]||(this[_0x27ab("0x320")][b]=!0,this.preFetchModel3D(b,_)),i<t?(this.mergeQueueWaiting[t]||(this[_0x27ab("0xbed")][t]={}),this[_0x27ab("0xbed")][t][e]||(this[_0x27ab("0xbed")][t][e]={}),this.mergeQueueWaiting[t][e][b]||(this[_0x27ab("0xbed")][t][e][b]=[]),this[_0x27ab("0xbed")][t][e][b][_0x27ab("0x1")](x)):(this[_0x27ab("0x9a6")][e]||(this[_0x27ab("0x9a6")][e]={}),this[_0x27ab("0x9a6")][e][b]||(this.mergeQueue[e][b]=[]),this[_0x27ab("0x9a6")][e][b].push(x))):x[_0x27ab("0x1bd")]<=12?(this[_0x27ab("0x2ba")][b]||this[_0x27ab("0x320")][b]||(this.loadingList[b]=!0,this[_0x27ab("0x321")](b,_)),this[_0x27ab("0xaa9")].push(x),this.rankRequisites()):(this.frustum[_0x27ab("0x8e3")](x[_0x27ab("0xc3")])&&(this[_0x27ab("0x2ba")][b]||this[_0x27ab("0x320")][b]||(this[_0x27ab("0x320")][b]=!0,this[_0x27ab("0x321")](b,_))),this.rankSingModel(x))}}},{key:_0x27ab("0xbfc"),value:function(){this[_0x27ab("0xaa9")].sort((function(x,a){return a[_0x27ab("0x1bd")]-x.rank}))}},{key:"addUserModel",value:function(x){var a=x.model,b=x.url;!this[_0x27ab("0xbfd")]()||this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0xaba")]?(this[_0x27ab("0xbea")]++,this[_0x27ab("0x2ba")][a]||this[_0x27ab("0x320")][a]||(this[_0x27ab("0x320")][a]=!0,this[_0x27ab("0x321")](a,b)),x[_0x27ab("0xda")]?(this[_0x27ab("0xbef")][x[_0x27ab("0xbff")]]||(this[_0x27ab("0xbef")][x[_0x27ab("0xbff")]]={}),this.userMergeQueue[x[_0x27ab("0xbff")]][a]||(this.userMergeQueue[x[_0x27ab("0xbff")]][a]=[]),this[_0x27ab("0xbef")][x[_0x27ab("0xbff")]][a][_0x27ab("0x1")](x)):this[_0x27ab("0xc00")](x)):console[_0x27ab("0x3f4")](esmap[_0x27ab("0x2bc")][_0x27ab("0xbfe")])}},{key:_0x27ab("0x1d5"),value:(u=(0,n[_0x27ab("0xb")])(i[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){return i[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x.next){case 0:return x[_0x27ab("0x2b8")]=2,this.applyToMap(a);case 2:if(!(this[_0x27ab("0xaa9")].length>0)){x[_0x27ab("0x2b8")]=5;break}return x[_0x27ab("0x2b8")]=5,this[_0x27ab("0xc01")]();case 5:case"end":return x.stop()}}),x,this)}))),function(x){return u[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0xc02"),value:function(x){var a=this,b=this,_=this[_0x27ab("0x4b")],e=b.building[_0x27ab("0x37")].id,i=b[_0x27ab("0xbed")][x];if(i)for(var n in this.mergeQueueWaiting[x]=null,i){var r=i[n],s=Array[_0x27ab("0x480")](r);for(var o in r){var c=r[o=s?r[o].model:o],l=!1;if(b.modelStore[o]&&c[_0x27ab("0x0")]>0){var u=function(){c[0][_0x27ab("0xc03")]&&(l=!0),!l&&o[_0x27ab("0xd1")](_0x27ab("0xbfa"))<0&&(b[_0x27ab("0xbec")]+=c.length);var x=c[0].parent,t=c[0][_0x27ab("0x1b9")],i=c[0][_0x27ab("0x244")];0,0;for(var r=null,s={},u=0;u<c.length;u++){var d=c[u];d[_0x27ab("0x35")]&&(r=d[_0x27ab("0x35")],s=a[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x24f")](d[_0x27ab("0xc3")]))}if(0!=b[_0x27ab("0x2ba")][o][_0x27ab("0x31d")][_0x27ab("0x2d5")][_0x27ab("0x0")]){for(var h=0;h<c[_0x27ab("0x0")];h++)b[_0x27ab("0xbf9")](c[h],!0);return _0x27ab("0x5e4")}var g=b[_0x27ab("0x62f")].merge(b[_0x27ab("0x2ba")][o][_0x27ab("0x31d")],c);if(!g){for(var v=0;v<c[_0x27ab("0x0")];v++)c[v].merge=!1,1,b[_0x27ab("0xbf9")](c[v]);return{v:void 0}}g[_0x27ab("0xc5")]=_0x27ab("0xc6"),g[_0x27ab("0x127")][_0x27ab("0x9eb")]=!0,g.datas_={isWall:l,bid:e,tileId:b[_0x27ab("0x4b")].id,bType:b[_0x27ab("0x4b")][_0x27ab("0x160")],FloorNum:n,nodeType:esmap.ESNodeType[_0x27ab("0x232")],brothers:c,animations:[],o3d_:g,url:t,mapCoord:s},r&&(g[_0x27ab("0xae")][_0x27ab("0x35")]=r,a[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x9f5")][r]=g[_0x27ab("0xae")]),g[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x249")],c[0].bclick&&(2==_[_0x27ab("0x160")]?(!b.scene.map[_0x27ab("0x33")][_0x27ab("0xc04")]&&b[_0x27ab("0xc1")].map[_0x27ab("0x155")][_0x27ab("0x1bb")](g,_.id),_.toLoaded[n][_0x27ab("0x249")]-=c[_0x27ab("0x0")]):b[_0x27ab("0xc1")].map.mapPicker[_0x27ab("0x1bb")](g,_.id)),x[_0x27ab("0x163")](g);var p=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](g),A={};[p[_0x27ab("0x33f")].x-p[_0x27ab("0x340")].x,p[_0x27ab("0x33f")].z-p.min.z,p.max.y-p[_0x27ab("0x340")].y][_0x27ab("0x416")](),A[_0x27ab("0x8db")]=p,g[_0x27ab("0x127")][_0x27ab("0xc05")]=A,b[_0x27ab("0xc1")][_0x27ab("0x37")].mapService[_0x27ab("0x176")]-=c[_0x27ab("0x0")],b[_0x27ab("0xc1")][_0x27ab("0x37")].on("controlUpdated",(function(){if(b[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x168")]<i&&g[_0x27ab("0xc7")]){g[_0x27ab("0xc7")][_0x27ab("0x158")](g);var x=b[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x156")][b[_0x27ab("0x4b")].id];if(x){var a=x.indexOf(g);a>-1&&x[_0x27ab("0x157")](a,1)}b[_0x27ab("0xbed")][i]||(b[_0x27ab("0xbed")][i]={}),b[_0x27ab("0xbed")][i][1]||(b[_0x27ab("0xbed")][i][1]={});var _=g.datas_[_0x27ab("0x342")][0][_0x27ab("0x235")];b.mergeQueueWaiting[i][1][_]||(b[_0x27ab("0xbed")][i][1][_]=[]),b.mergeQueueWaiting[i][1][_]=b.mergeQueueWaiting[i][1][_][_0x27ab("0x1ec")](g.datas_[_0x27ab("0x342")]),f(g)}})),b[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9c3")](),b[_0x27ab("0xc1")][_0x27ab("0x37")].fire("modelLoadComplete",g.datas_),_[_0x27ab("0x171")](n),2==_[_0x27ab("0x160")]&&_[_0x27ab("0x33")][_0x27ab("0xc06")]&&_[_0x27ab("0x33")][_0x27ab("0xc07")]<1&&_.focusFloorNum!=n&&esmap[_0x27ab("0x80")][_0x27ab("0xc08")](n,_.options.focusAlpha)}();if(u===_0x27ab("0x5e4"))continue;if((typeof u===_0x27ab("0x8")?_0x27ab("0x8"):(0,t[_0x27ab("0xb")])(u))===_0x27ab("0x1c"))return u.v}}}}},{key:"startLoadModelsByFLoor",value:function(x,a){var b=this,_=b[_0x27ab("0x9a6")][a],e=b[_0x27ab("0xc1")].map.id;for(var t in _){var i=_[t],n=!1;if(b.modelStore[t]&&i[_0x27ab("0x0")]>0){i[0].iswall&&(n=!0),!n&&t[_0x27ab("0xd1")]("__singlemesh")<0&&(b[_0x27ab("0xbec")]+=i.length);for(var r=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](b[_0x27ab("0x2ba")][t][_0x27ab("0x31d")].scene),s=i[0][_0x27ab("0xc7")],o=i[0][_0x27ab("0x1b9")],c=null,l={},f=r[_0x27ab("0x33f")].y-r.min.y,u=0;u<i[_0x27ab("0x0")];u++){var d=f*i[u][_0x27ab("0x24b")].y,h=d+i[u][_0x27ab("0xc3")].y-d/2;i[u].Height=1*h[_0x27ab("0x60b")](2);var g=i[u];g[_0x27ab("0xe1")]=esmap[_0x27ab("0xf1")][_0x27ab("0x232")],g.ID=g.id;var v=b[_0x27ab("0xc1")].map.coordThreeToMap(g[_0x27ab("0xc3")]);g[_0x27ab("0x3d5")]=v,g.mapId&&(c=g.mapId,l=v)}if(0!=b[_0x27ab("0x2ba")][t][_0x27ab("0x31d")][_0x27ab("0x2d5")][_0x27ab("0x0")]){for(var p=0;p<i[_0x27ab("0x0")];p++)b[_0x27ab("0xbf9")](i[p],!0);b[_0x27ab("0x9a6")][a][t]=[];continue}var A=b[_0x27ab("0x62f")][_0x27ab("0xda")](b.modelStore[t][_0x27ab("0x31d")],i);if(!A){for(var m=0;m<i.length;m++)i[m][_0x27ab("0xda")]=!1,1,b[_0x27ab("0xbf9")](i[m]);return void(b[_0x27ab("0x9a6")][a][t]=[])}A[_0x27ab("0xc5")]=_0x27ab("0xc6"),A[_0x27ab("0x127")][_0x27ab("0x9eb")]=!0,A[_0x27ab("0xae")]={isWall:n,model:t,bid:e,tileId:b[_0x27ab("0x4b")].id,bType:b[_0x27ab("0x4b")][_0x27ab("0x160")],FloorNum:a,nodeType:esmap.ESNodeType[_0x27ab("0x232")],brothers:i,animations:[],o3d_:A,url:o,mapCoord:l},c&&(A[_0x27ab("0xae")].mapId=c,this.scene[_0x27ab("0x37")].tileService[_0x27ab("0x9f5")][c]=A[_0x27ab("0xae")]),A[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x249")],i[0][_0x27ab("0xa84")]&&(2==x[_0x27ab("0x160")]?(!b[_0x27ab("0xc1")].map[_0x27ab("0x33")][_0x27ab("0xc04")]&&b[_0x27ab("0xc1")][_0x27ab("0x37")].mapPicker[_0x27ab("0x1bb")](A,x.id),x[_0x27ab("0xc09")][a][_0x27ab("0x249")]-=i.length):b[_0x27ab("0xc1")].map[_0x27ab("0x155")][_0x27ab("0x1bb")](A,x.id)),s.add(A);var C=(new THREE.Box3)[_0x27ab("0x31e")](A),I={};[C[_0x27ab("0x33f")].x-C.min.x,C[_0x27ab("0x33f")].z-C[_0x27ab("0x340")].z,C[_0x27ab("0x33f")].y-C[_0x27ab("0x340")].y][_0x27ab("0x416")](),I[_0x27ab("0x8db")]=C,A.userData[_0x27ab("0xc05")]=I,b[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x176")]-=i.length,b[_0x27ab("0xc1")].map[_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9c3")](),b[_0x27ab("0x9a6")][a][t]=[],b[_0x27ab("0xc1")][_0x27ab("0x37")].fire(_0x27ab("0xc0a"),A.datas_),x[_0x27ab("0x171")](a),2==x.buildingType&&x[_0x27ab("0x33")][_0x27ab("0xc06")]&&x.options[_0x27ab("0xc07")]<1&&x[_0x27ab("0x915")]!=a&&esmap.ESMapUtil[_0x27ab("0xc08")](a,x.options[_0x27ab("0xc07")])}}}},{key:_0x27ab("0xc01"),value:function(){var x=this,a=this;return new(e[_0x27ab("0xb")])((function(b){for(var _=0,e=0;e<a[_0x27ab("0xaa9")].length;e++){var t=a.requisitesQueue[e];if(_>=x[_0x27ab("0xc0b")])break;a[_0x27ab("0x2ba")][t[_0x27ab("0x235")]]?(a[_0x27ab("0xaa9")].splice(e,1),e--,a[_0x27ab("0xc0c")](t),_++):a[_0x27ab("0x320")][t.model]||(a.loadingList[t[_0x27ab("0x235")]]=!0,a.preFetchModel3D(t[_0x27ab("0x235")],t.url))}b()}))}},{key:_0x27ab("0xc0d"),value:function(){var x=this;if(x[_0x27ab("0xbf2")]&&x[_0x27ab("0xc1")][_0x27ab("0x37")].enableCollide&&!this[_0x27ab("0x29f")]&&x.scene.map[_0x27ab("0x33")][_0x27ab("0x93a")]){for(var a=x[_0x27ab("0xc1")][_0x27ab("0x37")].scaleLevel,b=x[_0x27ab("0x4b")],_=0;_<b[_0x27ab("0x0")];_++){var e=x.scene[_0x27ab("0x37")][_0x27ab("0x61b")](b[_]);if(!e)return;var t=e[_0x27ab("0x1a4")](_0x27ab("0xc0e"))[0];if(!t)return;var i=t[_0x27ab("0xaf")].children;this.scene[_0x27ab("0x37")][_0x27ab("0x964")]?this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x953")][_0x27ab("0x295")].distanceTo(this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")].position):this[_0x27ab("0xc1")].map[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0x301")](this[_0x27ab("0xc1")].map[_0x27ab("0x196")][_0x27ab("0xc3")]);for(var n=0;n<i[_0x27ab("0x0")];n++){for(var r=i[n],s=r[_0x27ab("0xae")][_0x27ab("0x342")],o=[],c=[],l=0;l<s[_0x27ab("0x0")];l++){var f=s[l],u=f[_0x27ab("0xc3")][_0x27ab("0xe2")]();u.project(this[_0x27ab("0xc1")].map.currentCamera);var d=!1;(Math[_0x27ab("0x274")](u.x)>=1.5||Math[_0x27ab("0x274")](u.y)>=1.5)&&(d=!0);var h=x[_0x27ab("0x62f")][_0x27ab("0x413")](r,f.id);f[_0x27ab("0x244")]<a||d?h&&o[_0x27ab("0x1")](f.id):!h&&c[_0x27ab("0x1")](f.id)}x[_0x27ab("0x62f")][_0x27ab("0x412")](r,o,!1),x.GLTFMergeTool[_0x27ab("0x412")](r,c,!0)}}this[_0x27ab("0x29f")]=!0}}},{key:_0x27ab("0xc0f"),value:function(){var x=this;if(!x[_0x27ab("0xbf2")]&&x[_0x27ab("0xc1")][_0x27ab("0x37")].enableCollide&&!this[_0x27ab("0x29f")]){var a=new(THREE[_0x27ab("0x8cd")]);a[_0x27ab("0xbf8")]((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x195")](this.scene.map[_0x27ab("0x196")][_0x27ab("0x6e8")],this[_0x27ab("0xc1")].map.currentCamera[_0x27ab("0x197")]));var b=x.building[_0x27ab("0x15e")][_0x27ab("0x1a4")](_0x27ab("0x9e6"))[0];if(!b)return;var _=b.o3d_[_0x27ab("0xb0")];this[_0x27ab("0xc1")][_0x27ab("0x37")].firstPersonMode?this[_0x27ab("0xc1")].map.firstPersonControls[_0x27ab("0x295")][_0x27ab("0x301")](this[_0x27ab("0xc1")][_0x27ab("0x37")].currentCamera.position):this[_0x27ab("0xc1")].map[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0x301")](this[_0x27ab("0xc1")][_0x27ab("0x37")].currentCamera[_0x27ab("0xc3")]);for(var e=0;e<_.length;e++){var t=_[e],i=(t[_0x27ab("0xc3")],t[_0x27ab("0x127")][_0x27ab("0xc05")].sizeInfo,t[_0x27ab("0x127")][_0x27ab("0xc05")][_0x27ab("0x8db")]);a[_0x27ab("0x8dc")](i)||(x[_0x27ab("0x98a")][_0x27ab("0x1")](t.userData.modelinfo),t[_0x27ab("0xae")][_0x27ab("0xb2")](),e--)}this[_0x27ab("0x29f")]=!0}}},{key:_0x27ab("0xc10"),value:function(x,a,b,_){var t=this;return new(e[_0x27ab("0xb")])((function(e){if(t[_0x27ab("0x2ba")][b]&&a[_0x27ab("0x0")]>0){t[_0x27ab("0xbec")]+=a.length;var i=a[0][_0x27ab("0xc7")],n=a[0].url,r=(new(THREE[_0x27ab("0x3e2")])).setFromObject(t[_0x27ab("0x2ba")][b][_0x27ab("0x31d")][_0x27ab("0xc1")]),s=(r[_0x27ab("0x33f")].y-r.min.y)/2,o=0,c=0;if(0!=t[_0x27ab("0x2ba")][b][_0x27ab("0x31d")][_0x27ab("0x2d5")][_0x27ab("0x0")]){for(var l=0;l<a[_0x27ab("0x0")];l++)a[l][_0x27ab("0xda")]=!1,1,t[_0x27ab("0xc11")](a[l]);return void(t[_0x27ab("0xbef")][_][b]=[])}for(var u=r.max.y-r[_0x27ab("0x340")].y,d=!1,h=0;h<a.length;h++){var g=u*a[h][_0x27ab("0x24b")].y+a[h][_0x27ab("0xc3")].y-u/2;a[h][_0x27ab("0x49b")]=1*g.toFixed(2),a[h].position.y+=s*a[h].scale.y,0==h&&a[h][_0x27ab("0xc03")]&&(d=!0),2==x.buildingType&&(o=x[_0x27ab("0x17a")][_0x27ab("0x444")]-t[_0x27ab("0xc1")][_0x27ab("0x1ab")],c=x[_0x27ab("0x17a")][_0x27ab("0x45f")]-t[_0x27ab("0xc1")][_0x27ab("0x1ac")]);var v=a[h].position;a[h][_0x27ab("0xc3")].x=v.x-o,a[h][_0x27ab("0xc3")].z=v.z-c}var p=t[_0x27ab("0x62f")][_0x27ab("0xda")](t[_0x27ab("0x2ba")][b][_0x27ab("0x31d")],a);if(!p){for(var A=0;A<a[_0x27ab("0x0")];A++)a[A][_0x27ab("0xda")]=!1,1,t[_0x27ab("0xc11")](a[A]);return void(t[_0x27ab("0xbef")][_][b]=[])}p.name=_0x27ab("0xc6");var m=a[0][_0x27ab("0xee")];p[_0x27ab("0x127")][_0x27ab("0x9eb")]=!0;p[_0x27ab("0xae")]={model:b,isWall:d,bid:mapId,tileId:x.id,FloorNum:m,nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0x232")],brothers:a,animations:[],url:n,bType:x[_0x27ab("0x160")],o3d_:p,dispose:function(x){(x=x||this)[_0x27ab("0xf6")]=!1;var a=x[_0x27ab("0xc7")];return a?(a[_0x27ab("0x158")](x),f(x),!0):void 0}[_0x27ab("0xe")](p)},p[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x249")],a[0][_0x27ab("0xa84")]&&(2==x[_0x27ab("0x160")]?!t.scene[_0x27ab("0x37")][_0x27ab("0x33")].disableIndoorClick&&t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x1bb")](p,x.id):t.scene.map[_0x27ab("0x155")][_0x27ab("0x1bb")](p,x.id)),i[_0x27ab("0x163")](p),t.scene[_0x27ab("0x37")].mapService[_0x27ab("0x176")]-=a[_0x27ab("0x0")],t.userMergeQueue[_][b]=[],t[_0x27ab("0xc1")].map[_0x27ab("0x1e7")](_0x27ab("0xc0a"),p[_0x27ab("0xae")]),t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xc06")]&&t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xc07")]<1&&t[_0x27ab("0xc1")].map[_0x27ab("0x915")]!=m&&esmap[_0x27ab("0x80")][_0x27ab("0xc08")](m,t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x33")].focusAlpha)}e()}))}},{key:_0x27ab("0xc12"),value:(l=(0,n.default)(i[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a,b){var _,e,t,n,r;return i[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x.prev=x[_0x27ab("0x2b8")]){case 0:for(t in e=(_=this).userMergeQueue[b])e[t][_0x27ab("0x0")];x.t0=i[_0x27ab("0xb")][_0x27ab("0x5e0")](e);case 5:if((x.t1=x.t0())[_0x27ab("0x3df")]){x[_0x27ab("0x2b8")]=12;break}return n=x.t1[_0x27ab("0xf8")],r=e[n],x.next=10,_[_0x27ab("0xc10")](a,r,n,b);case 10:x[_0x27ab("0x2b8")]=5;break;case 12:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x,a){return l.apply(this,arguments)})},{key:_0x27ab("0xbfd"),value:function(){return!1}},{key:_0x27ab("0xbf5"),value:function(){var x=this,a=this[_0x27ab("0xc1")][_0x27ab("0x37")].zoomLevel,b=function(b){if(!x.mergeQueueWaiting[b])return _0x27ab("0x5e4");a>=b&&setTimeout((function(){x[_0x27ab("0xc02")](b)}),0)};for(var _ in this[_0x27ab("0xbed")]){b(_);_0x27ab("0x5e4")}}},{key:"checkIfNeedLoad",value:function(){var x=this,a=this[_0x27ab("0x4b")];if(this[_0x27ab("0xbf2")]&&x.mapModelsCount<x[_0x27ab("0x173")][_0x27ab("0x174")])for(var b in this[_0x27ab("0xbee")])this[_0x27ab("0xbee")][b]&&this[_0x27ab("0xc13")](a,b);for(var _ in this[_0x27ab("0xbef")])this[_0x27ab("0xc14")][_]&&this[_0x27ab("0xc12")](a,_);if(this[_0x27ab("0xbeb")]&&x[_0x27ab("0xaa9")][_0x27ab("0x0")]>0&&x[_0x27ab("0x1d5")](),this[_0x27ab("0xbeb")]&&x[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x29e")]&&(x[_0x27ab("0x989")][_0x27ab("0x0")]>0||x[_0x27ab("0x98a")][_0x27ab("0x0")]>0)){if(!this[_0x27ab("0x308")]){var e=x[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x964")];if(this[_0x27ab("0xbf0")]||(this[_0x27ab("0xbf0")]=e?this[_0x27ab("0xc1")][_0x27ab("0x37")].firstPersonControls[_0x27ab("0x295")][_0x27ab("0xe2")]():this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0xe2")]()),x.queue=x[_0x27ab("0x989")].concat(x.toAddQueue),x[_0x27ab("0x98a")]=[],x[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x33")].dynamicLoadModels){var t=new THREE.Frustum;e?this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x953")][_0x27ab("0x295")][_0x27ab("0x301")](this[_0x27ab("0xc1")].map.currentCamera[_0x27ab("0xc3")]):this[_0x27ab("0xc1")][_0x27ab("0x37")].controls[_0x27ab("0x295")][_0x27ab("0x301")](this.scene[_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0xc3")]);var i=e?this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x953")][_0x27ab("0x295")]:this.scene[_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x295")];t[_0x27ab("0xbf8")]((new(THREE[_0x27ab("0x277")])).multiplyMatrices(this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x6e8")],this[_0x27ab("0xc1")].map[_0x27ab("0x196")][_0x27ab("0x197")]));for(var n=0;n<x[_0x27ab("0x989")][_0x27ab("0x0")];n++){if(x[_0x27ab("0x989")][n].modelrank=1/x.queue[n][_0x27ab("0xc3")].distanceTo(i),x[_0x27ab("0x989")][n][_0x27ab("0x8db")]){if(!t[_0x27ab("0x8dc")](x[_0x27ab("0x989")][n][_0x27ab("0x8db")])){x[_0x27ab("0x98a")].push(x.queue[n]),x[_0x27ab("0x989")].splice(n,1),n--;continue}x[_0x27ab("0x989")][n][_0x27ab("0xc15")]=1/x[_0x27ab("0x989")][n][_0x27ab("0xc3")][_0x27ab("0x301")](i)}else if(!t[_0x27ab("0x8e3")](x[_0x27ab("0x989")][n][_0x27ab("0xc3")])){x[_0x27ab("0x98a")][_0x27ab("0x1")](x[_0x27ab("0x989")][n]),x[_0x27ab("0x989")][_0x27ab("0x157")](n,1),n--;continue}}for(var r=a[_0x27ab("0x15e")][_0x27ab("0x1a4")]("mapmodel3ds")[0][_0x27ab("0xaf")].children,s=[],o=0;o<r[_0x27ab("0x0")];o++){var c=r[o];if(!c[_0x27ab("0xae")][_0x27ab("0xc16")]){c[_0x27ab("0x127")][_0x27ab("0xc05")][_0x27ab("0xc17")],x[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x947")];var l={modelrank:1/c.position[_0x27ab("0x301")](i),model:c,ind:o};s.push(l)}}var f=[];(f=[][_0x27ab("0x1ec")](s,x[_0x27ab("0x989")]))[_0x27ab("0x416")]((function(x,a){return a[_0x27ab("0xc15")]-x.modelrank}));var u=[];if(f.length>x.maxShowModels){u=f[_0x27ab("0x157")](x.maxShowModels);for(var d=0;d<u[_0x27ab("0x0")];d++)u[d].hasOwnProperty(_0x27ab("0xc18"))?(x.toAddQueue.push(u[d][_0x27ab("0x235")][_0x27ab("0x127")][_0x27ab("0xc05")]),u[d][_0x27ab("0x235")].datas_[_0x27ab("0xb2")](),u[d][_0x27ab("0x235")]=null):x[_0x27ab("0x98a")][_0x27ab("0x1")](u[d]),u[_0x27ab("0x157")](d,1),d--}for(var h=0;h<f[_0x27ab("0x0")];h++)f[h][_0x27ab("0xc")]("ind")&&(f[_0x27ab("0x157")](h,1),h--);x[_0x27ab("0x989")]=f}this[_0x27ab("0xc19")](),this[_0x27ab("0x308")]=!0,this[_0x27ab("0xbf0")]=e?this.scene[_0x27ab("0x37")][_0x27ab("0x953")][_0x27ab("0x295")][_0x27ab("0xe2")]():this[_0x27ab("0xc1")].map[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0xe2")]()}x[_0x27ab("0x1d5")](a)}}},{key:"rankSingModel",value:function(x){for(var a=this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x964")]?this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x953")][_0x27ab("0x295")]:this[_0x27ab("0xc1")][_0x27ab("0x37")].controls[_0x27ab("0x295")],b=this[_0x27ab("0x989")][_0x27ab("0x0")],_=x[_0x27ab("0xc3")][_0x27ab("0x301")](a),e=0;e<b;e++){if(this[_0x27ab("0x989")][e].position.distanceTo(a)>=_)return void this[_0x27ab("0x989")][_0x27ab("0x157")](e,0,x)}this.toAddQueue[_0x27ab("0x1")](x),this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x29e")]=!0}},{key:_0x27ab("0xc19"),value:function(){var x=this[_0x27ab("0xc1")][_0x27ab("0x37")].firstPersonMode?this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x953")][_0x27ab("0x295")]:this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x295")];this[_0x27ab("0x989")][_0x27ab("0x0")];this[_0x27ab("0x989")][_0x27ab("0x416")]((function(a,b){return a[_0x27ab("0xc3")].distanceTo(x)-b.position[_0x27ab("0x301")](x)})),this[_0x27ab("0x989")]}},{key:_0x27ab("0xc1a"),value:function(){var x=this,a=this;return new(e[_0x27ab("0xb")])((function(b){for(var _=0,e=0;e<a[_0x27ab("0x989")][_0x27ab("0x0")];e++){var t=a[_0x27ab("0x989")][e];if(_>=x[_0x27ab("0xc0b")])break;a.modelStore[t.model]?(a[_0x27ab("0x989")][_0x27ab("0x157")](e,1),e--,a[_0x27ab("0xc0c")](t),_++):a[_0x27ab("0x320")][t[_0x27ab("0x235")]]||(a.loadingList[t[_0x27ab("0x235")]]=!0,a[_0x27ab("0x321")](t[_0x27ab("0x235")],t.url))}b()}))}},{key:_0x27ab("0xc0c"),value:function(x){var a,b=this,_=this[_0x27ab("0x4b")],e=x[_0x27ab("0x235")],t=b[_0x27ab("0x2ba")][e][_0x27ab("0x31d")][_0x27ab("0xc1")],i=b[_0x27ab("0x2ba")][e].animNames,n=(i[_0x27ab("0x0")],!1);t[_0x27ab("0xb0")][_0x27ab("0x1b")]((function(x){(x instanceof THREE[_0x27ab("0x861")]||x instanceof THREE.Bone)&&(n=!0)})),a=n?THREE.SkeletonUtils[_0x27ab("0xe2")](t):t.clone(),b[_0x27ab("0x5")](a,x,i,_)}},{key:_0x27ab("0x5"),value:function(x,a,b){var t=this,i=this,n=this[_0x27ab("0x4b")],r=n[_0x27ab("0x37")].id;return new e.default((function(e){b=b||[];var s=i.scene.map[_0x27ab("0x155")],c=a[_0x27ab("0xee")],l=null,f=null,u={},d=null,h=!1;x.traverse((function(x){if(x&&x[_0x27ab("0xc5")])if(x[_0x27ab("0xc5")][_0x27ab("0xd1")]("_ef_$floor")>-1){s[_0x27ab("0xb51")].push(x);var a=x[_0x27ab("0xc5")][_0x27ab("0x28")]("-"),b=a[a[_0x27ab("0x0")]-1];u[b]||(u[b]={floorObj:null,floorLabel:null,lineGroup:null}),u[b][_0x27ab("0xc1b")]=x,x[_0x27ab("0x127")][_0x27ab("0x4a1")]=b}else if(x[_0x27ab("0xc5")][_0x27ab("0xd1")](_0x27ab("0xc1c"))>-1)l=x,f=x.parent;else if(x.name.indexOf(_0x27ab("0xc1d"))>-1){var _=x[_0x27ab("0xc5")][_0x27ab("0x28")]("-"),e=_[_[_0x27ab("0x0")]-1];u[e]||(u[e]={floorObj:null,floorLabel:null,lineGroup:null}),u[e][_0x27ab("0xc1e")]=x}else x[_0x27ab("0xc5")][_0x27ab("0xd1")](_0x27ab("0xc1f"))>-1&&(d=x)})),d&&(h=!0),l&&f[_0x27ab("0x158")](l);var g=(new(THREE[_0x27ab("0x3e2")])).setFromObject(x);g[_0x27ab("0x31f")](x[_0x27ab("0xc3")]),x[_0x27ab("0xc3")].multiplyScalar(-1),l&&f.add(l);var v,p,A=g[_0x27ab("0x33f")].y-g[_0x27ab("0x340")].y;g[_0x27ab("0x33f")].x,g.min.x;v=A<1?15:20,v*=a.scale.y;var m=a[_0x27ab("0x245")]||!1;if(a[_0x27ab("0xc20")]){0;var C=a[_0x27ab("0x1b9")][_0x27ab("0x2b9")]("/"),I=a.url;C>-1&&(I=a[_0x27ab("0x1b9")].slice(C+1)),p=a[_0x27ab("0xc20")],a[_0x27ab("0xc20")][_0x27ab("0x250")]=a.parent,a[_0x27ab("0xc20")].callbackparams=a[_0x27ab("0x253")],a[_0x27ab("0xc20")][_0x27ab("0x242")]=x,a[_0x27ab("0xc20")][_0x27ab("0x235")]=I,a.marker[_0x27ab("0x2d5")]=b,a[_0x27ab("0xc20")][_0x27ab("0x245")]=m,a[_0x27ab("0xc20")][_0x27ab("0x31")](),a.marker.on(_0x27ab("0x25b"),(function(){0})),a.iswall&&(a[_0x27ab("0xc20")].isWall=!0)}else{var y=a[_0x27ab("0xc3")];for(var E in a[_0x27ab("0xc3")].x=y.x-0,a[_0x27ab("0xc3")].y=y.y,a[_0x27ab("0xc3")].z=y.z-0,(p=new(o[_0x27ab("0xb")])({diableClickEffect:h,name:a[_0x27ab("0xc5")],fnum:a[_0x27ab("0xee")],ID:a.id,url:a[_0x27ab("0x1b9")],gid:a[_0x27ab("0xc21")],mapId:a[_0x27ab("0x35")],bid:r,dataID:a[_0x27ab("0x637")],bType:n[_0x27ab("0x160")],model:a[_0x27ab("0x235")],callback:a.callback,top:a[_0x27ab("0x184")],rotation:a[_0x27ab("0x1b1")],position:a[_0x27ab("0xc3")],scale:a.scale,scaleRate:v,child:x,addTo:a.parent,isChildNode:m,animations:b}))[_0x27ab("0x18d")]=a[_0x27ab("0x18d")],a[_0x27ab("0xc03")]&&(p.isWall=!0),u){var w=u[E];w.floorObj[_0x27ab("0x127")][_0x27ab("0x594")]=w[_0x27ab("0xc1e")],d&&(d[_0x27ab("0xf6")]=!1,w[_0x27ab("0xc1b")].userData[_0x27ab("0xb61")]=d),w[_0x27ab("0xc1b")][_0x27ab("0x127")][_0x27ab("0x235")]=p;var T=w[_0x27ab("0xc1b")].children;for(var k in T)T[k][_0x27ab("0x127")][_0x27ab("0x594")]=w[_0x27ab("0xc1e")],d&&(T[k][_0x27ab("0x127")].lineGroup=d),T[k][_0x27ab("0x127")].model=p,T[k][_0x27ab("0x127")][_0x27ab("0x4a1")]=E,T[k][_0x27ab("0x127")][_0x27ab("0xb64")]=w[_0x27ab("0xc1b")]}p[_0x27ab("0x31")](),t[_0x27ab("0xc1")][_0x27ab("0x37")].mapService[_0x27ab("0x176")]--,a.model[_0x27ab("0x62e")](_0x27ab("0xc22"))&&(p[_0x27ab("0x23d")]=a.model.replace(_0x27ab("0xc22"),""),p._enableLod())}a.brief&&a.brief.MA&&(0,_[_0x27ab("0xb")])(a.brief.MA)[_0x27ab("0x1b")]((function(x){var a=x.n,_=x.t,e=x.dt,t=x.l;b[_0x27ab("0xc23")]((function(x){return x==a}))?p[_0x27ab("0x96c")]({name:a,time:_,delay:e,loop:t}):console[_0x27ab("0x257")](_0x27ab("0xc24")+a+_0x27ab("0xc25"))}));var S=p[_0x27ab("0xaf")],M=(new THREE.Box3)[_0x27ab("0x31e")](S),R=[M[_0x27ab("0x33f")].x-M.min.x,M[_0x27ab("0x33f")].z-M[_0x27ab("0x340")].z,M[_0x27ab("0x33f")].y-M[_0x27ab("0x340")].y];R.sort(),a[_0x27ab("0xc17")]=R[1]*R[2],a[_0x27ab("0x8db")]=M,S[_0x27ab("0x127")][_0x27ab("0xc05")]=a,S[_0x27ab("0x127")].box3=M,2==n[_0x27ab("0x160")]?i[_0x27ab("0x2a3")](n,S):t[_0x27ab("0xc26")](S),a.id!=_0x27ab("0xc27")&&(a.bclick||i[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x33")].editMode)&&(2==n.buildingType?a[_0x27ab("0xc20")]?s[_0x27ab("0x1bb")](S,n.id):i[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xc04")]||s[_0x27ab("0x1bb")](S,n.id):s[_0x27ab("0x1bb")](S,n.id)),p[_0x27ab("0x35")]&&(t[_0x27ab("0xc1")][_0x27ab("0x37")].tileService[_0x27ab("0x9f5")][p.mapId]=p),t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x169")][_0x27ab("0x9c3")](),t.scene.map[_0x27ab("0x1e7")](_0x27ab("0xc0a"),p),2==n[_0x27ab("0x160")]&&n[_0x27ab("0x171")](c),e()}))}},{key:"preFetchModel3D",value:function(x,a,b){var _=this,e=_[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xc28")];_.scene[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")];var t=esmap[_0x27ab("0x134")].model3D;_.scene[_0x27ab("0x37")][_0x27ab("0x175")].modelLoadings[x]=!0;var i=this[_0x27ab("0xc1")][_0x27ab("0x37")].id;this[_0x27ab("0xbe8")][_0x27ab("0x14b")](a,(function(a){_[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0xac4")][x]=!1,_[_0x27ab("0xbea")]--,_[_0x27ab("0x173")].modelTypesCount++,_[_0x27ab("0x320")][x]=!1;var i=new(THREE[_0x27ab("0x2bf")])(a[_0x27ab("0xc1")]);i[_0x27ab("0x2cd")]=!1;var n=[];a.animations[_0x27ab("0x1b")]((function(x){n[_0x27ab("0x1")](x.name[_0x27ab("0x2d7")]())})),a[_0x27ab("0xc1")][_0x27ab("0x2a1")]((function(x){x[_0x27ab("0x133")]=t,x[_0x27ab("0xb3")]&&x[_0x27ab("0xb3")][_0x27ab("0xc29")]&&(x[_0x27ab("0xb3")][_0x27ab("0x105")]||(x.material.roughness=.9),x.material[_0x27ab("0x37")]&&(x[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0xc5")][_0x27ab("0xd1")]("jpg")>-1&&(x[_0x27ab("0xb3")][_0x27ab("0x102")]=!1),e||(x[_0x27ab("0xb3")][_0x27ab("0x37")].encoding=THREE[_0x27ab("0xc2a")])),!a.scene[_0x27ab("0x127")][_0x27ab("0xc2b")]&&x[_0x27ab("0xb3")].name[_0x27ab("0xd1")](_0x27ab("0x6a1"))>=0&&(a.scene[_0x27ab("0x127")][_0x27ab("0xc2b")]=!0))}));var r=null;a.parser&&a[_0x27ab("0xbf")].json&&a[_0x27ab("0xbf")].json.ms&&(r=a[_0x27ab("0xbf")][_0x27ab("0xbd")].ms),_[_0x27ab("0x2ba")][x]={mixer:i,gltfObj:a,queue:[],animations:a[_0x27ab("0x2d5")],animNames:n,ms:r},b&&b(a),_.scene[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0xc2c"),{name:x,gltfObj:a}),_[_0x27ab("0x308")]=!1}),(function(){}),(function(x){console[_0x27ab("0x3f4")](x,a),_[_0x27ab("0xbea")]--}),i)}},{key:_0x27ab("0xc2d"),value:function(x){var a=esmap[_0x27ab("0x134")][_0x27ab("0x249")];x[_0x27ab("0xc5")][_0x27ab("0xd1")](_0x27ab("0x6a1"))>=0&&(x[_0x27ab("0x91b")]=!1),obj[_0x27ab("0x133")]=a,x[_0x27ab("0x146")]=!0}},{key:_0x27ab("0xc26"),value:(b=(0,n[_0x27ab("0xb")])(i[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){var b;return i[_0x27ab("0xb")].wrap((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x.next){case 0:b=esmap[_0x27ab("0x134")][_0x27ab("0x249")],a[_0x27ab("0x2a1")]((function(x){if(x[_0x27ab("0xb3")]){if(x[_0x27ab("0xb3")]instanceof Array)for(var a=0;a<x[_0x27ab("0xb3")][_0x27ab("0x0")];a++){var _=x[_0x27ab("0xb3")][a];_[_0x27ab("0xc5")][_0x27ab("0xd1")](_0x27ab("0x6a1"))>=0&&(_[_0x27ab("0x91b")]=!1,_.needsUpdate=!0)}else x[_0x27ab("0xb3")][_0x27ab("0xc5")].indexOf(_0x27ab("0x6a1"))>=0&&(x[_0x27ab("0xb3")].depthWrite=!1,x[_0x27ab("0xb3")][_0x27ab("0x146")]=!0);x[_0x27ab("0x133")]=b}}));case 2:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x){return b[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0x2a3"),value:(a=(0,n.default)(i[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a,b){var _,e,t;return i.default[_0x27ab("0x2b6")]((function(x){for(;;)switch(x.prev=x[_0x27ab("0x2b8")]){case 0:_=b.datas_[_0x27ab("0x251")],e=a[_0x27ab("0x626")][_],t=esmap[_0x27ab("0x134")][_0x27ab("0x249")],e&&e[_0x27ab("0xf6")]&&(a.options[_0x27ab("0xc07")],b[_0x27ab("0x2a1")]((function(x){if(x[_0x27ab("0xb3")]){if(x[_0x27ab("0xb3")]instanceof Array)for(var a=0;a<x[_0x27ab("0xb3")].length;a++){var b=x.material[a];b[_0x27ab("0xc5")][_0x27ab("0xd1")](_0x27ab("0x6a1"))>=0&&(b[_0x27ab("0x91b")]=!1,b[_0x27ab("0x146")]=!0)}else x[_0x27ab("0xb3")][_0x27ab("0xc5")][_0x27ab("0xd1")](_0x27ab("0x6a1"))>=0&&(x[_0x27ab("0xb3")][_0x27ab("0x91b")]=!1,x[_0x27ab("0xb3")][_0x27ab("0x146")]=!0);x[_0x27ab("0x133")]=t}})));case 6:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x,b){return a[_0x27ab("0x5")](this,arguments)})},{key:"modelStore",get:function(){return this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x2ba")]}}]),x}();a.default=u},,,,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=s(b(4)),e=s(b(2)),t=s(b(0)),i=s(b(1)),n=s(b(5)),r=s(b(6));function s(x){return x&&x.__esModule?x:{default:x}}var o=function(x){function a(x,b,i){(0,t[_0x27ab("0xb")])(this,a);var r=(0,e[_0x27ab("0xb")])({lineWidth:6,lineWidthMeter:!1,color:"#FFFFFF",lineType:esmap[_0x27ab("0x5b1")][_0x27ab("0xe5")],offsetHeight:0,fixedWidth:!1,closed:!1,metalness:.2,roughness:.5,transparent:!1,hiddenByFloor:!0,randomeTexture:!1,reverseAnimate:0,lineMode:_0x27ab("0xe6"),repeat:1,animateSpeed:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x27ab("0xe7")])(0,1,0),matSide:1,noAnimate:!1},b),s=(0,n[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_[_0x27ab("0xb")])(a)).call(this)),o=esmap[_0x27ab("0x32")].instance;s[_0x27ab("0xaf7")]=r;var c=function(x){for(var a=0,b=x[0].clone(),_=1;_<x[_0x27ab("0x0")];_++)a+=x[_].distanceTo(x[_-1]),b[_0x27ab("0x163")](x[_]);return{length:a,center:b[_0x27ab("0xe3")](x[_0x27ab("0x0")])}}(x);return s[_0x27ab("0xec")]=x,s[_0x27ab("0x0")]=c[_0x27ab("0x0")],s[_0x27ab("0xed")]=c[_0x27ab("0xed")],s[_0x27ab("0xee")]=x[0][_0x27ab("0xee")]||1,s[_0x27ab("0xeb")]=x[0][_0x27ab("0xeb")]||o.id,s.type_=_0x27ab("0xf0"),s[_0x27ab("0xe1")]=esmap[_0x27ab("0xf1")][_0x27ab("0x1ba")],s[_0x27ab("0x31")](i),s}return(0,r[_0x27ab("0xb")])(a,x),(0,i[_0x27ab("0xb")])(a,[{key:_0x27ab("0x31"),value:function(x){var a=esmap[_0x27ab("0x32")].instance,b=this;b[_0x27ab("0x37")]=a;var _,e=new(THREE[_0x27ab("0xf2")]),t=void 0;if(x?t=x:(t=this[_0x27ab("0xaf7")].metalness||this.lineStyle.roughness?new(THREE[_0x27ab("0x101")])({color:16777215,wireframe:!1,metalness:this.lineStyle.metalness,roughness:this[_0x27ab("0xaf7")][_0x27ab("0x105")]}):new(THREE[_0x27ab("0x106")])({color:16777215,wireframe:!1}),2==b.lineStyle.matSide&&(t[_0x27ab("0x11b")]=THREE[_0x27ab("0x11c")]),t[_0x27ab("0x102")]=b.lineStyle[_0x27ab("0x102")],t[_0x27ab("0x11b")]=THREE[_0x27ab("0x11c")],t[_0x27ab("0x146")]=!0),this[_0x27ab("0xaf7")][_0x27ab("0x13f")]==_0x27ab("0x11f")){var i=this.lineStyle.lineWidth/8;if(this[_0x27ab("0xaf7")][_0x27ab("0x121")]&&(i=this.lineStyle[_0x27ab("0x120")]),this[_0x27ab("0x122")]=e,this[_0x27ab("0x122")][_0x27ab("0x123")](this[_0x27ab("0xec")],i,0,void 0,!1),_=new(THREE[_0x27ab("0x124")]),this[_0x27ab("0xaf7")].fixedWidth){var n=esmap[_0x27ab("0x80")][_0x27ab("0x126")](a,this);_[_0x27ab("0x12b")](this[_0x27ab("0x122")],{radius:i/2*n*10,radialSegments:20,startRad:0}),_[_0x27ab("0x127")][_0x27ab("0x128")]=i/2*n*10}else _.update(this.pathPointList,{radius:i/2,radialSegments:20,startRad:0}),_.userData[_0x27ab("0x128")]=i/2;this.lineWidth=i/2}else{var r=this[_0x27ab("0xaf7")].lineWidth/8;this[_0x27ab("0xaf7")][_0x27ab("0x121")]&&(r=this[_0x27ab("0xaf7")][_0x27ab("0x120")]),this[_0x27ab("0x129")]=1,_=new(THREE[_0x27ab("0x12a")]),this[_0x27ab("0x122")]=e;var s=!1,o=this[_0x27ab("0xec")].length-1;if(this.points[0].x==this[_0x27ab("0xec")][o].x&&this[_0x27ab("0xec")][0].z==this.points[o].z&&(s=!0),this[_0x27ab("0x122")][_0x27ab("0x123")](this[_0x27ab("0xec")],0,0,this[_0x27ab("0xaf7")].up,s),this[_0x27ab("0xaf7")][_0x27ab("0x125")]){var c=esmap.ESMapUtil[_0x27ab("0x126")](a,this);_[_0x27ab("0x12b")](this[_0x27ab("0x122")],{width:r*c*18,side:_0x27ab("0x12c"),arrow:this[_0x27ab("0xaf7")][_0x27ab("0x12d")]}),_[_0x27ab("0x127")][_0x27ab("0x128")]=r*c*18}else _[_0x27ab("0x12b")](this[_0x27ab("0x122")],{width:r,side:_0x27ab("0x12c"),arrow:this[_0x27ab("0xaf7")][_0x27ab("0x12d")]}),_[_0x27ab("0x127")][_0x27ab("0x128")]=r;this.lineWidth=r}_[_0x27ab("0xc2e")]();this[_0x27ab("0xaf7")][_0x27ab("0x119")]=[2,0],this[_0x27ab("0x11a")]=this[_0x27ab("0xaf7")][_0x27ab("0x119")][_0x27ab("0xdf")]((function(x,a){return x+a})),this.material=t,this[_0x27ab("0xb1")]=_,this.renderOrder=71,x[_0x27ab("0x127")][_0x27ab("0x2cf")]||(this.__bindupdate=this[_0x27ab("0xc2f")][_0x27ab("0xe")](this),a.on("update",this.__bindupdate),this[_0x27ab("0xc30")]=this[_0x27ab("0xc31")][_0x27ab("0xe")](this),a.on(_0x27ab("0x154"),this[_0x27ab("0xc30")]),x.userData.bindedUpdate=!0),this[_0x27ab("0xaf7")][_0x27ab("0xf3")]&&a.on(_0x27ab("0x13b"),this[_0x27ab("0x13b")][_0x27ab("0xe")](this)),this.position.y+=this[_0x27ab("0xaf7")][_0x27ab("0x25")]}},{key:"updatechange_",value:function(x){!this[_0x27ab("0xaf7")][_0x27ab("0x13e")]&&this[_0x27ab("0xc32")](x)}},{key:_0x27ab("0xc31"),value:function(){this[_0x27ab("0xaf7")][_0x27ab("0x125")]&&this[_0x27ab("0x13d")]()}},{key:_0x27ab("0xf9"),value:function(x){var a=this[_0x27ab("0xb1")][_0x27ab("0x127")].trueRadius;this[_0x27ab("0xec")]=x;var b=!1,_=this[_0x27ab("0xec")][_0x27ab("0x0")]-1;this.points[0].x==this[_0x27ab("0xec")][_].x&&this[_0x27ab("0xec")][0].z==this[_0x27ab("0xec")][_].z&&(b=!0),this[_0x27ab("0xaf7")][_0x27ab("0x13f")]==_0x27ab("0x11f")?(this[_0x27ab("0x122")][_0x27ab("0x123")](x,a,0,void 0,!1),this[_0x27ab("0xb1")][_0x27ab("0x12b")](this[_0x27ab("0x122")],{radius:a,radialSegments:20,startRad:0})):(this[_0x27ab("0x122")][_0x27ab("0x123")](this.points,0,0,this[_0x27ab("0xaf7")].up,b),this[_0x27ab("0xb1")].update(this.pathPointList,{width:a,side:_0x27ab("0x12c"),arrow:this[_0x27ab("0xaf7")].arrow}))}},{key:_0x27ab("0x13d"),value:function(){var x=esmap.ESMap[_0x27ab("0xd3")],a=esmap[_0x27ab("0x80")].getSpriteScale(x,this);this[_0x27ab("0xaf7")].lineMode==_0x27ab("0xe6")?this[_0x27ab("0xb1")][_0x27ab("0x12b")](this[_0x27ab("0x122")],{width:this[_0x27ab("0x120")]*a*18,side:"both",arrow:this.lineStyle[_0x27ab("0x12d")]}):this[_0x27ab("0xb1")][_0x27ab("0x12b")](this[_0x27ab("0x122")],{radius:this[_0x27ab("0x120")]*a*10,radialSegments:20,startRad:0})}},{key:"updateLineTextureOffset",value:function(x){this[_0x27ab("0xb3")]&&this.material[_0x27ab("0x37")]&&!this[_0x27ab("0xaf7")][_0x27ab("0x13e")]&&(this[_0x27ab("0xaf7")][_0x27ab("0x142")]?this.material[_0x27ab("0x37")].offset.x+=x*this.lineStyle.animateSpeed:this.material[_0x27ab("0x37")][_0x27ab("0x143")].x-=x*this[_0x27ab("0xaf7")][_0x27ab("0x144")],this[_0x27ab("0xb3")][_0x27ab("0x146")]=!0)}},{key:"updateColor",value:function(x){this[_0x27ab("0xb3")][_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(this[_0x27ab("0x147")](x))}},{key:"_colorToStr",value:function(x){if(_0x27ab("0x148")==typeof x){for(var a=x.toString(16);a[_0x27ab("0x0")]<6;)a="0"+a;return"#"+a}return x}},{key:"fetchTexture",value:function(x){var a=(new(THREE[_0x27ab("0x14a")])).load(this[_0x27ab("0xaf7")].url);a[_0x27ab("0x11d")].y=1,a.offset.y=0,a[_0x27ab("0x14d")]=THREE[_0x27ab("0x14e")],a[_0x27ab("0x14f")]=THREE[_0x27ab("0x150")],a[_0x27ab("0x151")]=THREE[_0x27ab("0x150")],x(a)}},{key:_0x27ab("0x152"),value:function(x){x[_0x27ab("0x107")]&&_0x27ab("0x148")==typeof x[_0x27ab("0x107")]&&(x[_0x27ab("0x107")]=this._colorToStr(x.color)),(0,e[_0x27ab("0xb")])(this[_0x27ab("0xaf7")],x),x[_0x27ab("0x153")]&&!x[_0x27ab("0x119")]&&(this.lineStyle[_0x27ab("0x119")]=[2,0]),this.material.map[_0x27ab("0xb2")]();this[_0x27ab("0xc33")]((function(x){}))}},{key:_0x27ab("0x13b"),value:function(x){if(x.bid==this[_0x27ab("0xeb")]){var a=x[_0x27ab("0x624")],b=this[_0x27ab("0xee")],_=!0;"number"==typeof b?-1==a[_0x27ab("0xd1")](b)&&(_=!1):b instanceof Array&&b[_0x27ab("0x1b")]((function(x){-1==a[_0x27ab("0xd1")](x)&&(_=!1)})),this[_0x27ab("0xf6")]=_}}},{key:_0x27ab("0xb2"),value:function(){var x=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];this[_0x27ab("0x342")]&&this[_0x27ab("0x342")].length>0&&this.brothers[_0x27ab("0x1b")]((function(x){x[_0x27ab("0xb2")]()})),esmap[_0x27ab("0x5c3")][_0x27ab("0x2")][_0x27ab("0xb2")].call(this),x.off(_0x27ab("0x12b"),this[_0x27ab("0xc34")]),x[_0x27ab("0x61")](_0x27ab("0x154"),this.__bindchange),x[_0x27ab("0x61")](_0x27ab("0x13b"),this[_0x27ab("0x13b")]),this.parent&&this[_0x27ab("0xc7")][_0x27ab("0x158")](this),this[_0x27ab("0xc35")]=null;var a=this.children[0];a&&(a[_0x27ab("0xb3")]&&(a.material.map&&(a[_0x27ab("0xb3")][_0x27ab("0x37")].dispose(),a.material[_0x27ab("0x37")]=null),a[_0x27ab("0xb3")][_0x27ab("0xb2")](),a[_0x27ab("0xb3")]=void 0),a.geometry&&(a[_0x27ab("0xb1")][_0x27ab("0xb2")](),a[_0x27ab("0xb1")]=void 0),this[_0x27ab("0xb0")][0]=null),this[_0x27ab("0xb1")]&&(this.geometry.dispose(),this.geometry=void 0),this.material&&(this[_0x27ab("0xb3")][_0x27ab("0x37")]&&(this[_0x27ab("0xb3")][_0x27ab("0x37")].dispose(),this[_0x27ab("0xb3")][_0x27ab("0x37")]=null),this[_0x27ab("0xb3")][_0x27ab("0xb2")](),this.material=void 0)}}]),a}(THREE.Mesh);a[_0x27ab("0xb")]=o},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=n(b(284)),e=n(b(0)),t=n(b(1)),i=n(b(2));function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var r=function(){function x(a,b){(0,e[_0x27ab("0xb")])(this,x),this[_0x27ab("0xc36")]=a,this.controls=b,this.isFlying=!1}return(0,t[_0x27ab("0xb")])(x,[{key:"flyTo",value:function(x){var a=x[_0x27ab("0x4fb")],b=x[_0x27ab("0xc3")],_=x[_0x27ab("0xc37")],e=void 0===_?3:_,t=x[_0x27ab("0xbd2")],i=void 0===t?5:t,n=x[_0x27ab("0xc38")],r=x[_0x27ab("0xa09")],s=x.complete;if(esmap[_0x27ab("0x590")]){var o=new(THREE[_0x27ab("0xe7")])(b.x,this[_0x27ab("0x296")][_0x27ab("0x295")].y,b.z)[_0x27ab("0x301")](this[_0x27ab("0x296")][_0x27ab("0x295")]),c=this[_0x27ab("0x296")][_0x27ab("0x1c")][_0x27ab("0xc39")]-n,l=Math.floor(o/e),f=Math.floor(Math.abs(c)/i);f<1e3&&(f=1e3),l<1e3&&(l=1e3);var u=0;switch(a){case esmap[_0x27ab("0x590")][_0x27ab("0xc3a")]:u=179.99;break;case esmap[_0x27ab("0x590")][_0x27ab("0xc3b")]:u=.01;break;case esmap[_0x27ab("0x590")][_0x27ab("0xc3c")]:u=-90;break;case esmap[_0x27ab("0x590")][_0x27ab("0xc3d")]:u=90;break;case esmap[_0x27ab("0x590")].NORTH_EAST:u=135;break;case esmap[_0x27ab("0x590")][_0x27ab("0xc3e")]:u=-135;break;case esmap[_0x27ab("0x590")][_0x27ab("0xc3f")]:u=45;break;case esmap[_0x27ab("0x590")][_0x27ab("0xc40")]:u=-45}var d=this;this[_0x27ab("0x296")][_0x27ab("0xc41")]({x:-b.x,y:b.z,callback:function(){d.controls[_0x27ab("0xc42")]({thetaAngle:u,phiAngle:r},n,f,s)},time:l})}else console[_0x27ab("0x257")]("can not find esmap.ESDirection data")}},{key:"p2pFlyFocusTo",value:function(x,a){var b=1+50/(0,_[_0x27ab("0xb")])(x.x,x.y,x.z);this.cameraPosition({x:x.x*b,y:x.y*b,z:x.z*b},x,a||3e3)}},{key:_0x27ab("0xa0a"),value:function(x){var a=x.targetPos,b=x[_0x27ab("0x638")],_=x[_0x27ab("0xa09")],e=void 0===_?45:_,t=x.directionAngle,i=void 0===t?0:t,n=x[_0x27ab("0x1cb")],r=void 0===n?3:n,s=x[_0x27ab("0x1d6")];this.toggleControlsLock(!0),e=90-e>=0&&90-e<90?90-e:45;var o=b*Math[_0x27ab("0x617")](THREE[_0x27ab("0x28e")].degToRad(e)),c=b*Math.cos(THREE.Math[_0x27ab("0x27b")](e)),l=new(THREE[_0x27ab("0x569")])(0,0),f=new(THREE[_0x27ab("0x569")])(c,0).rotateAround(l,THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](i-90)),u=new THREE.Vector3(a.x+f.x,a.y+o,a.z+f.y);return this[_0x27ab("0xc43")]({x:u.x,y:u.y,z:u.z},a,1e3*r,s),u}},{key:_0x27ab("0xc43"),value:function(x,a,b,_){var e=this[_0x27ab("0x296")].object,t=this;if(x){var n=x,r=a||{x:0,y:0,z:0},s=(0,i[_0x27ab("0xb")])({},e[_0x27ab("0xc3")]),o=t.controls[_0x27ab("0x295")][_0x27ab("0xe2")]();new(esmap.TWEEN[_0x27ab("0x1cd")])(s).to(n,b)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing.Quadratic.Out)[_0x27ab("0x137")]((function(x){var a,b,_,e,i,n;a=t[_0x27ab("0x296")],b=x,_=a[_0x27ab("0x1c")],e=b.x,i=b.y,n=b.z,void 0!==e&&(_[_0x27ab("0xc3")].x=e),void 0!==i&&(_[_0x27ab("0xc3")].y=i),void 0!==n&&(_.position.z=n),a[_0x27ab("0x12b")]()})).onComplete((function(){t[_0x27ab("0xc44")](!1),_&&_(),t[_0x27ab("0x296")].checkScaleLevel&&t[_0x27ab("0x296")][_0x27ab("0xc45")]()}))[_0x27ab("0x1d5")](),new(esmap[_0x27ab("0x1cc")].Tween)(o).to(r,b)[_0x27ab("0x1ce")](esmap.TWEEN[_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x137")]((function(x){var a,b;a=t[_0x27ab("0x296")],b=x,a[_0x27ab("0x295")][_0x27ab("0x123")](b.x,b.y,b.z),a.update()}))[_0x27ab("0x1d5")]()}}},{key:_0x27ab("0xc44"),value:function(x){this[_0x27ab("0xc46")]=x}}]),x}();a[_0x27ab("0xb")]=r},,,,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(){var a=arguments[_0x27ab("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{depth:100,inverse:!1};(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x9f8")]=a;var b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];this[_0x27ab("0xc47")]=new THREE.Raycaster,this[_0x27ab("0x156")]=b[_0x27ab("0x155")].watchingList,this.testMat=new(THREE[_0x27ab("0x106")])({color:16711680}),this[_0x27ab("0x37")]=b,this[_0x27ab("0xc48")]={},this[_0x27ab("0xc49")]=null}return(0,e[_0x27ab("0xb")])(x,[{key:"intersectByStartEnd",value:function(x,a){var b=a.clone()[_0x27ab("0x2f3")](x[_0x27ab("0xe2")]())[_0x27ab("0x2f4")]();this[_0x27ab("0xc47")][_0x27ab("0x123")](x,b);var _=x.distanceTo(a);this.ray[_0x27ab("0x975")]=_;var e=[];if(!this[_0x27ab("0xc49")]){var t=[],i=this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xc1")],n=this.map[_0x27ab("0xa91")][_0x27ab("0x628")];i[_0x27ab("0x2a1")]((function(x){"Mesh"==x[_0x27ab("0x70")]&&x.uuid!=n&&t[_0x27ab("0x1")](x)})),this.meshList=t}for(var r=0;r<this[_0x27ab("0xc49")][_0x27ab("0x0")];r++){var s=this[_0x27ab("0xc49")][r];this[_0x27ab("0xc48")][s[_0x27ab("0x628")]]||e.push(s)}var o=this[_0x27ab("0xc47")][_0x27ab("0xa90")](e,!0);return o.length>0?o[0]:null}},{key:"intersectByCoord",value:function(x){var a=arguments[_0x27ab("0x0")]>1&&void 0!==arguments[1]?arguments[1]:_0x27ab("0x1b7"),b=this[_0x27ab("0x9f8")][_0x27ab("0x69f")]?1:-1,_=new THREE.Vector3(x.x,this[_0x27ab("0x9f8")][_0x27ab("0x6a1")],x.z),e=new THREE.Vector3(x.x,-this[_0x27ab("0x9f8")].depth,x.z),t=new(THREE[_0x27ab("0xe7")])(0,b,0),i=_[_0x27ab("0x301")](e);this[_0x27ab("0xc47")][_0x27ab("0x123")](this[_0x27ab("0x9f8")][_0x27ab("0x69f")]?e:_,t),this[_0x27ab("0xc47")][_0x27ab("0x975")]=i;var n=[];if(a==_0x27ab("0x1b7"))for(var r in this[_0x27ab("0x156")])for(var s=this[_0x27ab("0x156")][r],o=0;o<s[_0x27ab("0x0")];o++)s[o][_0x27ab("0x70")]!=_0x27ab("0x2ad")&&(this[_0x27ab("0xc4a")]&&s[o]==this[_0x27ab("0xc4a")]||n[_0x27ab("0x1")](s[o]));else{if(!this[_0x27ab("0xc49")]){var c=[],l=this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xc1")],f=this[_0x27ab("0x37")][_0x27ab("0xa91")][_0x27ab("0x628")];l[_0x27ab("0x2a1")]((function(x){x.type==_0x27ab("0x159")&&x.uuid!=f&&c[_0x27ab("0x1")](x)})),this.meshList=c}for(var u=0;u<this[_0x27ab("0xc49")].length;u++){var d=this[_0x27ab("0xc49")][u];this[_0x27ab("0xc48")][d[_0x27ab("0x628")]]||n.push(d)}}var h=this[_0x27ab("0xc47")][_0x27ab("0xa90")](n,!0);if(h.length>0){if(a==_0x27ab("0x1b7")){var g=h[0].point;return g}return h[0]}return null}}]),x}();a[_0x27ab("0xb")]=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=d(b(12)),e=d(b(13)),t=d(b(0)),i=d(b(1)),n=d(b(135)),r=d(b(289)),s=d(b(290)),o=b(291),c=b(294),l=d(b(297)),f=b(298),u=d(b(24));function d(x){return x&&x.__esModule?x:{default:x}}var h={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},g=function(){function x(a){(0,t[_0x27ab("0xb")])(this,x),this[_0x27ab("0x37")]=a,this.buildingService=new(c[_0x27ab("0xc4b")])(this),this[_0x27ab("0x169")]=new(o[_0x27ab("0xc4c")])(this),this[_0x27ab("0x424")]=a[_0x27ab("0x33")],this[_0x27ab("0xac3")]=[];var b=new(r[_0x27ab("0xb")])(a);THREE.ESCache=b,this[_0x27ab("0x819")]=b,this.cache[_0x27ab("0x31")](),this[_0x27ab("0xac5")]=!1,this[_0x27ab("0x9ab")]=!1,this.singleMeshData={},this[_0x27ab("0xc4d")]=new(s[_0x27ab("0xb")])(this),this[_0x27ab("0xc4e")]={},this[_0x27ab("0x2ba")]={},this[_0x27ab("0x176")]=0,this[_0x27ab("0xaaa")]=!1,this.modelLoadings={},this.singleMesheDatas={},this[_0x27ab("0xc4f")]=!1,this.modelLod=new(f[_0x27ab("0xc50")])(a),this.navData={},this[_0x27ab("0xa5c")]=new(l[_0x27ab("0xb")])(this),this[_0x27ab("0x8df")]={},a[_0x27ab("0x33")][_0x27ab("0x223")]?this.filterSingleMesh=!1:a[_0x27ab("0x33")][_0x27ab("0x228")]==_0x27ab("0x542")&&(this.filterSingleMesh=!0)}var a;return(0,i[_0x27ab("0xb")])(x,[{key:_0x27ab("0x41c"),value:function(x){return h[x]}},{key:_0x27ab("0x995"),value:function(x,a){h[x]=a}},{key:_0x27ab("0xc51"),value:function(x,a){var b,_=this,e=(this[_0x27ab("0x37")][_0x27ab("0x15d")],new(THREE[_0x27ab("0xe7")])(1,1.5,1));if(x[_0x27ab("0x4c3")]){var t=x.RMS[_0x27ab("0x28")](",");e=new(THREE[_0x27ab("0xe7")])(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}if(x[_0x27ab("0x4c7")]){var i=Math.PI/180,n=x[_0x27ab("0x4c7")][_0x27ab("0x28")](",");b=new(THREE[_0x27ab("0x27a")])(parseFloat(n[0])*i,parseFloat(n[1])*i,parseFloat(n[2])*i)}var r=new THREE.Vector3(x.x,x.y,0),s=this[_0x27ab("0x37")][_0x27ab("0x26f")]({x:x[_0x27ab("0x4c5")],y:x[_0x27ab("0x4c8")],z:0});if(x[_0x27ab("0x4c4")]){var o=x[_0x27ab("0x4c4")][_0x27ab("0x28")](",");s.x+=parseFloat(o[0]),s.y+=parseFloat(o[1]),s.z+=parseFloat(o[2]),r.x-=parseFloat(o[0]),r.z+=parseFloat(o[1]),r.y+=parseFloat(o[2])}var c={id:x[_0x27ab("0x43d")],name:x.NA,rotation:b,position:s,scale:e,rotate:x[_0x27ab("0xc52")]};_[_0x27ab("0xc53")][x.RM]||(_.singleMesheDatas[x.RM]={}),_.singleMesheDatas[x.RM][a]||(_[_0x27ab("0xc53")][x.RM][a]=[]),_[_0x27ab("0xc53")][x.RM][a][_0x27ab("0x1")](c)}},{key:_0x27ab("0x992"),value:(a=(0,e[_0x27ab("0xb")])(_[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){var b,e,t,i,n,r,s,o,c,l,f;return _[_0x27ab("0xb")].wrap((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:return b=a.id,e=u.default[_0x27ab("0x5f")](_0x27ab("0x4b"),{buildingId:b}),t=e.url,i=e.skMode,x[_0x27ab("0x2b8")]=4,this[_0x27ab("0x994")].queryData({url:t,skMode:i,id:b});case 4:if(n=x[_0x27ab("0x5dc")]){x.next=7;break}return x[_0x27ab("0x5e3")](_0x27ab("0x2be"),!1);case 7:if(this.buildingService.authenticate(n)){x[_0x27ab("0x2b8")]=10;break}return x.abrupt(_0x27ab("0x2be"),!1);case 10:if(!a.lang){x[_0x27ab("0x2b8")]=13;break}return x[_0x27ab("0x2b8")]=13,this[_0x27ab("0xa5c")].queryJsonData(b);case 13:return r=a[_0x27ab("0x6a")]||n.styleid||_0x27ab("0xc54"),x[_0x27ab("0x2b8")]=16,this[_0x27ab("0x994")].queryBuildingTheme(r);case 16:return s=x[_0x27ab("0x5dc")],this[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0xc55"),{id:r,data:s}),this[_0x27ab("0x37")].mapTheme[_0x27ab("0xc56")]({id:r,data:s}),(o=new esmap.ESBuilding(b,a,this.map)).type=n[_0x27ab("0x457")],o[_0x27ab("0xc5")]=n.name,o.version=n[_0x27ab("0x79")],o.center={x:n[_0x27ab("0x444")],y:n[_0x27ab("0x45f")]},o[_0x27ab("0x6a")]=r,(c=this[_0x27ab("0x994")][_0x27ab("0xc57")](n,o))[_0x27ab("0x444")]=-c[_0x27ab("0x444")],c.x=-c.x,this[_0x27ab("0x37")].mapScene[_0x27ab("0x9be")][_0x27ab("0x163")](o[_0x27ab("0xaf")]),o[_0x27ab("0xc58")]=1,l=o[_0x27ab("0x62c")],1!=(f=o[_0x27ab("0x33")][_0x27ab("0xc59")])&&l.indexOf(f)>-1&&(l[0]=l[_0x27ab("0x157")](f-1,1,l[0])[0]),o[_0x27ab("0x946")]=JSON[_0x27ab("0x68")]("["+n[_0x27ab("0x460")]+"]"),o[_0x27ab("0xad0")]=esmap.ESMapSceneUtil.calcSceneBox3(n),o[_0x27ab("0xf5")]=o[_0x27ab("0x33")].visibleFloors==_0x27ab("0x218")?l:o[_0x27ab("0x33")].visibleFloors,o[_0x27ab("0xc5a")](0,l,(function(){})),x[_0x27ab("0x5e3")](_0x27ab("0x2be"),o);case 39:case"end":return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x){return a[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0x2c9"),value:function(){h={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},this.tileDisabled=!1,this[_0x27ab("0x9ab")]=!1,this[_0x27ab("0xc5b")]={},this[_0x27ab("0xc4e")]={},this[_0x27ab("0x2ba")]={},this[_0x27ab("0x176")]=0,this.modelInited=!1,this[_0x27ab("0xac4")]={},this[_0x27ab("0xc53")]={},this[_0x27ab("0xc4f")]=!1,this[_0x27ab("0x1a0")]={},this.buildingBounds={},this.modelLoadedAll=!1}},{key:"mapId",get:function(){return this[_0x27ab("0x37")].id}}]),x}();g[_0x27ab("0xc5c")]=n[_0x27ab("0xb")],a.default=g},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=r(b(8)),e=r(b(12)),t=r(b(13)),i=r(b(0)),n=r(b(1));function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=function(){function x(a){(0,i[_0x27ab("0xb")])(this,x),this.map=a,this[_0x27ab("0x581")]=!1}var a;return(0,n[_0x27ab("0xb")])(x,[{key:_0x27ab("0x31"),value:(a=(0,t[_0x27ab("0xb")])(e[_0x27ab("0xb")].mark((function x(){var a;return e[_0x27ab("0xb")].wrap((function(x){for(;;)switch(x.prev=x[_0x27ab("0x2b8")]){case 0:if(this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xc5d")]){x[_0x27ab("0x2b8")]=2;break}return x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 2:return this[_0x27ab("0xc5e")]=(new Date)[_0x27ab("0x7c")](),this.expiresIn=2592e5,x.next=6,this[_0x27ab("0xc5f")]({db:_0x27ab("0xc60"),version:4});case 6:if(a=x[_0x27ab("0x5dc")]){x[_0x27ab("0x2b8")]=10;break}return console[_0x27ab("0x257")]("IDB初始化失败,不使用缓存"),x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 10:this.db=a,this[_0x27ab("0x581")]=!0;case 12:case _0x27ab("0x2d3"):return x.stop()}}),x,this)}))),function(){return a[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0xc61"),value:function(x){var a=this.db[_0x27ab("0xc62")](_0x27ab("0xc63"),_0x27ab("0xc64"))[_0x27ab("0xc65")](_0x27ab("0xc63")).put(x);a.onsuccess=function(){},a[_0x27ab("0x5bc")]=function(){console[_0x27ab("0x257")](_0x27ab("0xc66"))}}},{key:_0x27ab("0xc67"),value:function(x){var a=this.db,b=this[_0x27ab("0x35")]+":"+x;return new(_[_0x27ab("0xb")])((function(x){var _=a[_0x27ab("0xc62")](_0x27ab("0xc63")).objectStore(_0x27ab("0xc63"))[_0x27ab("0x35e")](b);_[_0x27ab("0xc68")]=function(){x(_[_0x27ab("0xc69")])},_.onerror=function(){x(null)}}))}},{key:_0x27ab("0xc6a"),value:function(x){var a=x[_0x27ab("0x1b9")],b=x[_0x27ab("0xc6b")],e=this.mapId+":"+a,t=this.db;return new(_[_0x27ab("0xb")])((function(x){var a=t.transaction("cacheObjects")[_0x27ab("0xc65")]("cacheObjects")[_0x27ab("0x35e")](e);a.onsuccess=function(){a[_0x27ab("0xc69")]&&1*a[_0x27ab("0xc69")].updatetime==1*b?x(!0):x(!1)},a[_0x27ab("0x5bc")]=function(){x(!1)}}))}},{key:_0x27ab("0xc6c"),value:function(){if(window[_0x27ab("0xc6d")]){var x=window[_0x27ab("0xc6d")][_0x27ab("0xc6e")]("ESCACHE");x.onerror=function(){console[_0x27ab("0x257")]("Error deleting database ESCACHE")},x[_0x27ab("0xc68")]=function(){};var a=window[_0x27ab("0xc6d")][_0x27ab("0xc6e")]("ESBIM");a[_0x27ab("0x5bc")]=function(){console[_0x27ab("0x257")](_0x27ab("0xc6f"))},a[_0x27ab("0xc68")]=function(){}}}},{key:_0x27ab("0xc70"),value:function(x){var a=this.db,b=this[_0x27ab("0x35")]+":"+x.id,e=x[_0x27ab("0xc6b")],t=this[_0x27ab("0xc5e")];new(_[_0x27ab("0xb")])((function(_){a.transaction(_0x27ab("0xc63"),_0x27ab("0xc64"))[_0x27ab("0xc65")](_0x27ab("0xc63"))[_0x27ab("0xc71")]({id:b,data:x[_0x27ab("0x366")],updatetime:e,upserttime:t})[_0x27ab("0xc68")]=function(){_()}}))}},{key:_0x27ab("0xc72"),value:function(x){var a=this.db;return new(_[_0x27ab("0xb")])((function(b){var _=a.transaction("cacheMaps")[_0x27ab("0xc65")]("cacheMaps").get(x);_[_0x27ab("0xc68")]=function(){var e=_[_0x27ab("0xc69")];if(e)b(e);else{var t={id:x,list:[]};a.transaction("cacheMaps",_0x27ab("0xc64"))[_0x27ab("0xc65")](_0x27ab("0xc73"))[_0x27ab("0x163")](t)[_0x27ab("0xc68")]=function(x){},b(t)}}}))}},{key:_0x27ab("0xc5f"),value:function(x){var a=this[_0x27ab("0xc5e")],b=this[_0x27ab("0xc74")];return new _.default((function(_){if(window[_0x27ab("0xc6d")]){var e=window[_0x27ab("0xc6d")].open(x.db,x[_0x27ab("0x79")]);e.onupgradeneeded=function(x){var a=x[_0x27ab("0x295")].result,b=x[_0x27ab("0x295")][_0x27ab("0xc62")];if(a[_0x27ab("0xc75")][_0x27ab("0x3b5")](_0x27ab("0xc63")))b.objectStore("cacheObjects")[_0x27ab("0x69b")]();else a[_0x27ab("0xc76")](_0x27ab("0xc63"),{keyPath:"id"});a[_0x27ab("0xc75")].contains("cacheMaps")&&a.deleteObjectStore(_0x27ab("0xc73"))},e[_0x27ab("0xc68")]=function(){var x=e.result;x.transaction("cacheObjects","readwrite")[_0x27ab("0xc65")](_0x27ab("0xc63"))[_0x27ab("0xc77")]()[_0x27ab("0xc68")]=function(e){var t=e[_0x27ab("0x295")][_0x27ab("0xc69")];if(t){var i=t[_0x27ab("0xf8")];a-i[_0x27ab("0xc78")]>b&&t.delete(),t.continue()}else _(x)}},e[_0x27ab("0x5bc")]=function(x){var a=e[_0x27ab("0xc79")];console[_0x27ab("0x257")](_0x27ab("0xc7a"),a,x),_(!1)}}else _(!1)}))}}]),x}();a.default=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0xc7b")]={},this[_0x27ab("0xc7c")]={},this[_0x27ab("0x175")]=a,this[_0x27ab("0xfe")]={},this[_0x27ab("0xc7d")]={},this[_0x27ab("0xc7e")]=[];var b=new(THREE[_0x27ab("0x14a")]);b[_0x27ab("0x74b")]=_0x27ab("0x743"),this[_0x27ab("0x81d")]=b,this[_0x27ab("0xc7f")]={}}return(0,e[_0x27ab("0xb")])(x,[{key:"prefetchTexture",value:function(x,a,b){var _=this;_.loadRecords[_0x27ab("0xd1")](x)<0&&!_[_0x27ab("0xc7f")][x]&&(_.loadRecords[_0x27ab("0x1")](x),_[a]||(_[a]={}),this[_0x27ab("0x81d")][_0x27ab("0x14b")](x,(function(x){x[_0x27ab("0x14c")]=_[_0x27ab("0x175")].map[_0x27ab("0x614")].renderer[_0x27ab("0xc80")].getMaxAnisotropy(),_[a][b]=x}),null,(function(){_[_0x27ab("0xc7f")][x]=!0,_[a][b]=null})))}},{key:"FetchImgByUrl",value:function(x,a){var b=this;if(this[_0x27ab("0xc7d")][x]){var _=this.imgs[x],e=document.createElement(_0x27ab("0x421"));e.src=_,e[_0x27ab("0xba8")]=function(){a(e)}}else if(!b.failed[x]){var t=new Image;t[_0x27ab("0x74b")]="anonymous",t[_0x27ab("0x42b")]=x,t[_0x27ab("0xba8")]=function(){var _=document.createElement("canvas");_[_0x27ab("0x326")]=t.width,_[_0x27ab("0x1b7")]=t.height,_[_0x27ab("0x8ff")]("2d")[_0x27ab("0xc81")](t,0,0,_[_0x27ab("0x326")],_[_0x27ab("0x1b7")]);var e=_.toDataURL(_0x27ab("0xc82"));b[_0x27ab("0xc7d")][x]=e,t[_0x27ab("0xba8")]=null,a(t)},t[_0x27ab("0x5bc")]=function(){b[_0x27ab("0xc7f")][x]=!0}}}},{key:_0x27ab("0xc83"),value:function(x){var a=this;return this[_0x27ab("0xfe")][x]?this[_0x27ab("0xfe")][x][_0x27ab("0xe2")]():a[_0x27ab("0xc7f")][x]?void 0:this.textureLoader[_0x27ab("0x14b")](x,(function(b){b[_0x27ab("0x14c")]=a[_0x27ab("0x175")][_0x27ab("0xc84")].mapView[_0x27ab("0x68c")][_0x27ab("0xc80")][_0x27ab("0xc85")](),a[_0x27ab("0xfe")][x]=b[_0x27ab("0xe2")]()}),null,(function(){a[_0x27ab("0xfe")][x]=null,a[_0x27ab("0xc7f")][x]=!0}))}},{key:_0x27ab("0x58f"),value:function(x,a,b,_){var e=this;if(this[_0x27ab("0xfe")][x]){var t=this[_0x27ab("0xfe")][x][_0x27ab("0xe2")]();return a&&setTimeout((function(){a(t)}),0),t}return e[_0x27ab("0xc7f")][x]?new(THREE[_0x27ab("0x42d")]):this.textureLoader.load(x,(function(b){e[_0x27ab("0xfe")][x]=b[_0x27ab("0xe2")](),a&&a(b)}),b,(function(){e.failed[x]=!0,_&&_()}))}}]),x}();a.default=i},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0xc4c")]=void 0;var _=v(b(16)),e=v(b(8)),t=v(b(0)),i=v(b(1)),n=b(56),r=b(33),s=b(55),o=b(19),c=v(b(68)),l=v(b(136)),f=b(98),u=v(b(24)),d=v(b(99)),h=b(95),g=b(69);function v(x){return x&&x.__esModule?x:{default:x}}b(137);var p=_0x27ab("0x1d9"),A={1:_0x27ab("0x645"),2:_0x27ab("0x1d9")},m=null,C=1,I=null,y=b(293),E=b(138),w=null,T=!1,k=[],S=1,M=function(){function x(a){(0,t[_0x27ab("0xb")])(this,x),this.service=a,this[_0x27ab("0x37")]=a[_0x27ab("0x37")],this.solvingList=[],this.loadedList=[],this[_0x27ab("0xc86")]=[],this[_0x27ab("0x17a")]={},this[_0x27ab("0x9a3")]=[],this[_0x27ab("0x16a")]=[],this[_0x27ab("0xb7b")]=null,this[_0x27ab("0xa2b")]=[],this[_0x27ab("0x9bc")]={},this[_0x27ab("0xab0")]=null,this[_0x27ab("0xc87")]=[],this[_0x27ab("0xa57")]={},this[_0x27ab("0x1a0")]={},this[_0x27ab("0xc88")]={1:12,2:16,3:18},this[_0x27ab("0xc89")]={buildings:0,models:0},this.buildingColorStaged=[],this[_0x27ab("0x304")]=!1,this[_0x27ab("0x9a4")]=!1,this.tileGrids=null,this.roadGrids=null,this[_0x27ab("0xa2a")]=[],this[_0x27ab("0xc8a")]={},this[_0x27ab("0xc8b")]=!1,this[_0x27ab("0x5db")]={},this[_0x27ab("0xa56")]={},this[_0x27ab("0x9c4")]=[],this[_0x27ab("0x9f5")]={},this[_0x27ab("0xc8c")]=[],this[_0x27ab("0xc8d")]="",this._o1=0,this._mo=0,this[_0x27ab("0xc8e")]=0,this.getTileBound=r[_0x27ab("0xa9")],this[_0x27ab("0xc8f")]=0,this.preLoadBuildingId=null,this.buildingHighLighted=!1}return(0,i[_0x27ab("0xb")])(x,[{key:"init",value:function(){this[_0x27ab("0xae8")]=(Math[_0x27ab("0xdd")](Math[_0x27ab("0xdc")](this[_0x27ab("0x33")].maximumTiles))-1)/2}},{key:_0x27ab("0xc90"),value:function(x){for(var a=0;a<this[_0x27ab("0x9ed")].length;a++){var b=this.buildingColorStaged[a];if(x[b.key]==b[_0x27ab("0xf8")])return b.data}return!1}},{key:"checkToLoadedBuildings",value:function(){if(this[_0x27ab("0x9c4")][_0x27ab("0x0")]>0)for(var x=0;x<this[_0x27ab("0x9c4")][_0x27ab("0x0")];x++){var a=this[_0x27ab("0x9c4")][x];this[_0x27ab("0x9f5")][a]&&(this[_0x27ab("0x97f")](this[_0x27ab("0x9f5")][a]),this.toLoadedBuildings[_0x27ab("0x157")](x,1))}}},{key:_0x27ab("0xa98"),value:function(x,a){var b=Math.max(x[_0x27ab("0xb9")],a[_0x27ab("0xb9")]),_=Math.max(x.miny,a[_0x27ab("0xba")]),e=Math[_0x27ab("0x340")](x[_0x27ab("0xb5")],a[_0x27ab("0xb5")]),t=Math[_0x27ab("0x340")](x[_0x27ab("0xbb")],a[_0x27ab("0xbb")]),i=!(b>e||_>t);return i}},{key:_0x27ab("0xc91"),value:function(x){var a=(new(l[_0x27ab("0xb")].GData)).parse(x);return{points:a[_0x27ab("0x431")],holes:a.holes_}}},{key:_0x27ab("0xc92"),value:function(x){for(var a in this[_0x27ab("0x9ed")]){var b=this.buildingColorStaged[a];if(b[_0x27ab("0xf8")]==x.value&&b.key==x[_0x27ab("0x62b")])return void(b[_0x27ab("0x366")]=x[_0x27ab("0x366")])}this[_0x27ab("0x9ed")][_0x27ab("0x1")](x)}},{key:_0x27ab("0xab7"),value:function(x){C=x}},{key:_0x27ab("0xabd"),value:function(){return C}},{key:_0x27ab("0xc93"),value:function(x){var a=[{x:x[_0x27ab("0xb5")],y:x[_0x27ab("0xbb")]},{x:x[_0x27ab("0xb5")],y:x[_0x27ab("0xba")]},{x:x[_0x27ab("0xb9")],y:x[_0x27ab("0xba")]},{x:x[_0x27ab("0xb9")],y:x[_0x27ab("0xbb")]},{x:x[_0x27ab("0xb5")],y:x[_0x27ab("0xbb")]}],b=new(esmap[_0x27ab("0x5cb")])({color:_0x27ab("0xc94"),alpha:.3,lineWidth:30,bid:0,height:20,pickable:!0,points:a});map[_0x27ab("0xf4")](0)[_0x27ab("0x61b")](1).getOrCreateLayerByName(_0x27ab("0xc95"),esmap[_0x27ab("0x17d")][_0x27ab("0xa33")])[_0x27ab("0xc96")](b)}},{key:"showPolygons",value:function(){for(var x in this[_0x27ab("0x5db")]){var a=this[_0x27ab("0x5db")][x];if(a.polygon){var b=this.map[_0x27ab("0x56b")]({from:this[_0x27ab("0x37")][_0x27ab("0x192")],to:this[_0x27ab("0x37")].options[_0x27ab("0x1f7")],coords:a[_0x27ab("0x636")]}),_=new(esmap[_0x27ab("0x5cb")])({alpha:.5,color:"#"+Math[_0x27ab("0xdd")](16777215*Math[_0x27ab("0x2b")]()).toString(16),lineWidth:1,height:200,points:b});map.getBuildingById(0)[_0x27ab("0x61b")](1)[_0x27ab("0x1a2")](_0x27ab("0xc95"),esmap[_0x27ab("0x17d")][_0x27ab("0xa33")])[_0x27ab("0xc96")](_)}}}},{key:_0x27ab("0xc97"),value:function(){var x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.map,b={color:"#FF0000",lineWidth:120,alpha:1,offsetHeight:1,pickable:!1,smooth:!1,fixedWidth:!1,lineType:esmap[_0x27ab("0x5b1")][_0x27ab("0xc98")],noAnimate:!1};if(x)for(var _ in a[_0x27ab("0x9a5")]){var e=a.tileList[_],t=e.id.split("_"),i=(0,r[_0x27ab("0xa9")])(1*t[0],1*t[1],a.options[_0x27ab("0xa59")],!0),n=[{x:i[_0x27ab("0xb9")],y:i[_0x27ab("0xba")]},{x:i[_0x27ab("0xb9")],y:i.maxy},{x:i[_0x27ab("0xb5")],y:i[_0x27ab("0xbb")]},{x:i[_0x27ab("0xb5")],y:i[_0x27ab("0xba")]},{x:i.minx,y:i[_0x27ab("0xba")]}],s=a.transformCoordArray({from:a[_0x27ab("0x192")],to:a.options[_0x27ab("0x1f7")],coords:n}),o=new esmap.ESLineMarker({id:e.id+_0x27ab("0xc99"),bid:0,points:s,style:b});a[_0x27ab("0x9c9")](o)}else for(var c in a.tileList){var l=a.tileList[c],f=l.id+_0x27ab("0xc99");a.clearLineMarkById(f)}}},{key:_0x27ab("0xa2c"),value:function(x){if(64==this[_0x27ab("0xa2b")][_0x27ab("0x0")]){var a=this[_0x27ab("0xa2b")][_0x27ab("0x4")]();for(var b in this[_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x156")][a.id]=[],this[_0x27ab("0x9f5")])this.targetAndBuildingList[b]&&this.targetAndBuildingList[b][_0x27ab("0xeb")]==a.id&&(this[_0x27ab("0x9f5")][b]=null);a.meshHandler[_0x27ab("0xc9a")][_0x27ab("0xc9b")][_0x27ab("0x98b")][a.id]=!1,a=null}this.cachedTiles[_0x27ab("0x1")](x)}},{key:_0x27ab("0xaeb"),value:function(){this[_0x27ab("0x16a")]=this[_0x27ab("0x16a")][_0x27ab("0x1ec")](this.secondViews),this[_0x27ab("0x9a3")]=this[_0x27ab("0x9a3")][_0x27ab("0x1ec")](this[_0x27ab("0xaea")]),this[_0x27ab("0x37")].updateTileView(),this.secondViews=[]}},{key:_0x27ab("0x9a0"),value:function(){var x=this,a=this,b=a[_0x27ab("0x37")][_0x27ab("0x33")],_=a[_0x27ab("0x37")].id,t=b[_0x27ab("0x44e")],i=(b.s,b.token),n=(b.k,b.tid),r=3==b[_0x27ab("0x96")],c=u[_0x27ab("0xb")].getPath(_0x27ab("0x45")),l=parseInt((new Date)[_0x27ab("0x7c")]()/1e3);return new(e[_0x27ab("0xb")])((function(b,e){esmap[_0x27ab("0x588")][_0x27ab("0x35e")]({url:c,isArrayBuffer:!0}).success((function(e){var c,h=!1,g=!1,v=new Uint8Array(e);r||(0,s.decodeByte)(_+""+n+l,v),a.privites=v;try{c=E[_0x27ab("0x529")][_0x27ab("0x43")](v)}catch(x){return console[_0x27ab("0x257")](esmap[_0x27ab("0x2bc")][_0x27ab("0xc9c")]),void console[_0x27ab("0x2bb")](x)}if(3==c[_0x27ab("0x96")]||3!=n){w=c[_0x27ab("0x7e")],a[_0x27ab("0xc9e")].setState("mapName",c[_0x27ab("0xc5")]),a[_0x27ab("0xc9e")][_0x27ab("0x995")](_0x27ab("0x997"),c.name),a[_0x27ab("0xc9e")][_0x27ab("0x995")]("l0",c.ul>>1&1||0),a[_0x27ab("0xc9e")][_0x27ab("0x995")]("l1",c.l1||0),a.service[_0x27ab("0x995")]("l2",c.l2||0),a[_0x27ab("0xc9e")][_0x27ab("0x995")]("l3",c.l3||0),a[_0x27ab("0xc9e")][_0x27ab("0x995")]("l4",c.l4||0);var m=!1,C=c.token;I=c[_0x27ab("0x533")];var y="X2BBXGk="===esmap[_0x27ab("0x80")][_0x27ab("0x7d")](C);if((new Date).getTime()-1e6*c[_0x27ab("0x52a")]>0)f[_0x27ab("0x323")][_0x27ab("0xc9f")]({code:2005,param:[_,3]});else if(esmap.ESMapUtil[_0x27ab("0x7d")](c.minX+""+c[_0x27ab("0x447")]+c[_0x27ab("0x448")]+c.maxY+c.token+c[_0x27ab("0x44e")]+ +c[_0x27ab("0x531")]+c.modnums+_0x27ab("0xab9")+c.o1+c.ul)===c.Hash){if(x._o1=c.o1,x[_0x27ab("0xca0")]=c[_0x27ab("0x532")],x[_0x27ab("0xc8e")]=c.ul,a[_0x27ab("0x37")][_0x27ab("0x33")].s&&a[_0x27ab("0x37")][_0x27ab("0x33")].k&&(a[_0x27ab("0x37")].hasOwnProperty(_0x27ab("0xaba"))||Object[_0x27ab("0x7")](a.map,"_em",{value:!0,writable:!1,enumerable:!1,configurable:!0}),m=!0,x._mo=1e4,x[_0x27ab("0xc9e")][_0x27ab("0x995")]("sk",!0)),a.map.zonTempObj[_0x27ab("0x417")].userData[_0x27ab("0xf6")]=!0,!m||!a[_0x27ab("0x37")][_0x27ab("0xaba")]){g=!0;var k=document[_0x27ab("0x88")],S=(0,s[_0x27ab("0x43")])(c.Remark,_0x27ab("0xca1"),""),M=["TjEySDU2TS4xSDU1TQ==","TjEySDU2TS4xSDU0TA==",_0x27ab("0xca2"),_0x27ab("0xca3"),"TjEySDU2TS4xSDUyTQ=="],R=esmap[_0x27ab("0x80")][_0x27ab("0x7d")](k),L=M[_0x27ab("0xd1")](R)>-1;h=L;var H=!S;if(!y&&!L){if(2!=x[_0x27ab("0x37")].options.tid&&!H&&S.length>1&&-1==S[_0x27ab("0xd1")](k))return void f[_0x27ab("0x323")][_0x27ab("0xc9f")]({code:2002,param:[_,k,3]});var D=S.split(","),P=!0;if(D[_0x27ab("0x1b")]((function(x){var a=c[_0x27ab("0x52a")],b=x;if(x.includes("|")){var e=x[_0x27ab("0x28")]("|");b=e[0],a=e[1]}if(b===k&&(new Date)[_0x27ab("0x7c")]()-1e6*a>0)return f[_0x27ab("0x323")][_0x27ab("0xc9f")]({code:2010,param:[_,k,3]}),void(P=!1)})),!P)return}var O=[c[_0x27ab("0x44e")],c.token],B=[t,i];if(a[_0x27ab("0x37")].zonTempObj[_0x27ab("0x417")].userData[_0x27ab("0xf6")]=!0,O[0]&&B[0])esmap[_0x27ab("0x80")].encode64(_0x27ab("0xab8")+c[_0x27ab("0x533")]+B[0])==O[0]&&(a[_0x27ab("0x37")][_0x27ab("0xa4e")].sprite_[_0x27ab("0x127")].visible=!1);if(!y){if(!B[1]&&1!=n)return f.MapError[_0x27ab("0xc9f")]({code:2003,param:[_,3]}),void console.info(esmap[_0x27ab("0x2bc")][_0x27ab("0xca4")]);if(esmap[_0x27ab("0x80")][_0x27ab("0x7d")](c[_0x27ab("0x43d")]+""+B[1])!=O[1]&&3==n)return f[_0x27ab("0x323")][_0x27ab("0xc9f")]({code:2004,param:[_,3]}),void console[_0x27ab("0x257")](esmap[_0x27ab("0x2bc")][_0x27ab("0xca5")])}}y&&(T=!0);var N=(0,s[_0x27ab("0x43")])(c[_0x27ab("0x530")],_0x27ab("0xca6"),"")[_0x27ab("0x28")](";");N[_0x27ab("0x0")]>1?a[_0x27ab("0x530")]=N:a[_0x27ab("0x530")]="",Object[_0x27ab("0x7")](a.map,"__trl",{value:N[1],writable:!1,enumerable:!1,configurable:!0});var F=esmap[_0x27ab("0x80")].encode64(c[_0x27ab("0xeb")]+c[_0x27ab("0x7e")]);Object[_0x27ab("0x7")](a[_0x27ab("0x37")],_0x27ab("0xa2"),{value:F,writable:!1,enumerable:!1,configurable:!0}),Object[_0x27ab("0x7")](a,"__maptk",{value:C,writable:!1,enumerable:!1,configurable:!0});var z=parseInt(c.v%10),j=A[z],U="%cThe "+_+_0x27ab("0xca7")+z;if(c[_0x27ab("0x52b")])U+=",updated on "+esmap.ESMapUtil[_0x27ab("0x603")](1e3*c[_0x27ab("0x52b")]);console[_0x27ab("0x2bb")](U,_0x27ab("0xca8")),a[_0x27ab("0x37")][_0x27ab("0x192")]=j,null==a.map.options[_0x27ab("0x1f7")]&&(a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")]=p);var X=a[_0x27ab("0x37")][_0x27ab("0x199")]({from:p,to:j,coord:{x:c.x,y:c.y}});if(a.map[_0x27ab("0x614")][_0x27ab("0xed")]={x:-X.x,y:X.y},a[_0x27ab("0x37")].mapView[_0x27ab("0xca9")]={x:c.x,y:c.y},a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xed")]||(a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xed")]={x:X.x,y:X.y}),a[_0x27ab("0x37")][_0x27ab("0x15d")].setScene({maxX:c[_0x27ab("0x448")],maxY:c[_0x27ab("0x449")],minX:c.minX,minY:c[_0x27ab("0x447")],centerX:X.x,centerY:X.y},!1),a.map[_0x27ab("0x33")][_0x27ab("0xcaa")]){var Y=(0,o[_0x27ab("0x1a")])(8),G=new(esmap[_0x27ab("0xcab")])({id:Y,content:"<div> <span id="+Y+">esmap</span> </div>",className:_0x27ab("0xcac"),created:function(x){x[_0x27ab("0xea")][_0x27ab("0x32c")]=_0x27ab("0xcad"),x[_0x27ab("0xea")][_0x27ab("0x107")]=_0x27ab("0x32d"),x[_0x27ab("0xea")].padding=_0x27ab("0xcae"),x.style[_0x27ab("0xcaf")]=_0x27ab("0xcb0"),x.style.fontSize=_0x27ab("0xcb1"),x[_0x27ab("0xea")][_0x27ab("0x328")]="flex",x.style[_0x27ab("0x32a")]=_0x27ab("0xed"),x[_0x27ab("0x8f0")][_0x27ab("0x8f0")].style[_0x27ab("0x8e7")]=_0x27ab("0x591");var a=(0,d[_0x27ab("0xb")])("span");a[_0x27ab("0x33a")](_0x27ab("0x334"),_0x27ab("0xcb2")),a.style({width:0,height:0,fontSize:0,overflow:_0x27ab("0xcb3"),position:_0x27ab("0x6d8"),borderStyle:_0x27ab("0xcb4"),borderWidth:_0x27ab("0xcb5"),borderColor:_0x27ab("0x608")+esmap.ESMapUtil[_0x27ab("0xcb6")](_0x27ab("0xcad"))+",1) transparent transparent",left:this.w_/2-25+"px",bottom:"-16px"}),x.appendChild(a.element),G[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0xb85")]="all 0.2s ease",G[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x103")]=0,G[_0x27ab("0xa0f")][_0x27ab("0xea")].pointerEvents=_0x27ab("0x591"),G[_0x27ab("0xa0f")].style[_0x27ab("0xcb7")]="none"},mapCoord:{x:a[_0x27ab("0x37")].options[_0x27ab("0xed")][0],y:a.map.options[_0x27ab("0xed")][1],height:150}});G[_0x27ab("0xa40")]=Y,a[_0x27ab("0x37")][_0x27ab("0xa3f")]=G,a[_0x27ab("0x37")].on("tileUpdated",(function(){a[_0x27ab("0x16a")][_0x27ab("0xd1")](G.bid)<0&&0!=G[_0x27ab("0xa0f")].style[_0x27ab("0x103")]&&(G.popDiv_[_0x27ab("0xea")][_0x27ab("0x103")]=0)})),a[_0x27ab("0x37")].on(_0x27ab("0xa94"),(function(x){var b=a[_0x27ab("0x37")][_0x27ab("0xa3f")];if(!a[_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0xa7a")]||!a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")]||0==x[_0x27ab("0xcb8")]){var _=a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xcaa")];if(x[_0x27ab("0xe1")]!=esmap[_0x27ab("0xf1")][_0x27ab("0x639")]||x[_0x27ab("0x35")]||2==x[_0x27ab("0x190")])if(x[_0x27ab("0xe1")]!=esmap[_0x27ab("0xf1")][_0x27ab("0x232")]||x[_0x27ab("0x35")]||2==x[_0x27ab("0x190")]||x instanceof esmap.ES3DMarker)b[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x103")]=0;else{var e=document[_0x27ab("0xa42")](b[_0x27ab("0xa40")]);if(b.popDiv_[_0x27ab("0xea")].opacity=0,e[_0x27ab("0x332")]="",x.name&&_){var t=x[_0x27ab("0xa8e")].z;x[_0x27ab("0xaf")]&&x[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0xc05")]&&(t=x[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0xc05")][_0x27ab("0x8db")][_0x27ab("0x33f")].y-x.o3d_.userData.modelinfo[_0x27ab("0x8db")][_0x27ab("0x340")].y),b.moveTo({x:x[_0x27ab("0x3d5")].x,y:x[_0x27ab("0x3d5")].y,time:.01,callback:function(){b[_0x27ab("0xa0e")].position.y=1.1*t,e.innerHTML=x.name,setTimeout((function(){b[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x103")]=1}),1)}})}else b[_0x27ab("0xa0f")].style[_0x27ab("0x103")]=0}else{var i=document[_0x27ab("0xa42")](b[_0x27ab("0xa40")]);if(i.innerHTML="",b.popDiv_[_0x27ab("0xea")][_0x27ab("0x103")]=0,x[_0x27ab("0xc5")]&&_){var n=a.map[_0x27ab("0x199")]({from:a[_0x27ab("0x37")].DEFAULT_COORDSYSTEM,to:a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")],coord:x[_0x27ab("0x3d5")]});b[_0x27ab("0x26a")]({x:n.x,y:n.y,time:.01,callback:function(){b[_0x27ab("0xa0e")].position.y=1.1*x.RoomHigh,i[_0x27ab("0x332")]=x[_0x27ab("0xc5")],setTimeout((function(){b[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x103")]=1}),1)}}),b[_0x27ab("0xeb")]=x[_0x27ab("0xeb")]}else b[_0x27ab("0xa0f")].style[_0x27ab("0x103")]=0}}}))}1!=n&&setTimeout((function(){var x=u.default[_0x27ab("0x5f")](_0x27ab("0xcb9"));esmap[_0x27ab("0x588")][_0x27ab("0x35e")]({url:x,isArrayBuffer:!0})}),18e5),null==a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x6a")]&&(a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x6a")]=c.styleid,a[_0x27ab("0x33")][_0x27ab("0x6a")]=c[_0x27ab("0x468")]),c[_0x27ab("0x535")]&&a[_0x27ab("0xcba")](c[_0x27ab("0x535")]),a.map[_0x27ab("0xcbb")]=c[_0x27ab("0x4f9")];var Q=(0,s.decode)(c[_0x27ab("0x461")],"ESRemark","").split(","),V=!0;Q[_0x27ab("0x1b")]((function(x){var a=x.split("|"),b=a[0],_=a[1];if(b===k&&_&&(new Date)[_0x27ab("0x7c")]()-1e6*_>0)return void(V=!1)})),(!g||y||h||V)&&b(!0)}}else console[_0x27ab("0x3f4")](esmap[_0x27ab("0x2bc")][_0x27ab("0xc9d")])}))[_0x27ab("0x257")]((function(x){f[_0x27ab("0x323")][_0x27ab("0xc9f")]({code:2006,param:[_,3]}),e(!1)}))}))}},{key:"queryNavs",value:function(x,a,b){if(!(this.failedNavs[x]||this[_0x27ab("0xcbc")]&&this.roadGrids[_0x27ab("0xd1")](x)<0)){a[_0x27ab("0x143")]&&(a[_0x27ab("0x143")][0],a.offset[1]);var e=this,t=1!=e[_0x27ab("0x37")].options[_0x27ab("0x96")],i=u[_0x27ab("0xb")].getPath(_0x27ab("0x47"),{tileId:b,typeId:2});esmap[_0x27ab("0x588")][_0x27ab("0x35e")]({url:i,isArrayBuffer:!0})[_0x27ab("0x35b")]((function(a){var b=new Uint8Array(a);t||(0,s[_0x27ab("0xcbd")])(e[_0x27ab("0x37")].id+""+e[_0x27ab("0x33")][_0x27ab("0x96")],b);var i=null;try{i=y[_0x27ab("0x9ae")][_0x27ab("0xcbe")].decode(b)}catch(a){return e[_0x27ab("0xc8a")][x]=!0,void console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")][_0x27ab("0xc9c")])}if(i){e[_0x27ab("0x1a0")][x]=i,i.Nodes&&(0,_.default)(i[_0x27ab("0x4e8")])[_0x27ab("0x0")]>0&&(e[_0x27ab("0xcbf")](i),e.map[_0x27ab("0x1e7")](_0x27ab("0xcc0"),{bid:x,data:i})),e[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0xa58"),x);var n=e.map.getTileById(x);e.map[_0x27ab("0x33")][_0x27ab("0x223")]&&n&&n[_0x27ab("0x19f")]()}}))[_0x27ab("0x257")]((function(){e[_0x27ab("0xc8a")][x]=!0}))}}},{key:_0x27ab("0xa52"),value:function(x,a,b){var _=this;if(this.failedTiles[x])b();else if(1!=this[_0x27ab("0x33")][_0x27ab("0x96")]&&this[_0x27ab("0xae7")]&&this[_0x27ab("0xae7")][_0x27ab("0xd1")](x)<0)b();else{var e=x,t=1!=_[_0x27ab("0x37")][_0x27ab("0x33")].tid,i=u[_0x27ab("0xb")][_0x27ab("0x5f")](_0x27ab("0x47"),{tileId:x,typeId:1});if(_[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0xcc1"),e),T)if(!(esmap[_0x27ab("0x80")].encode64(w)===_0x27ab("0xcc2")))return;esmap.Ajax.get({url:i,isArrayBuffer:!0})[_0x27ab("0x35b")]((function(e){var n=new Uint8Array(e);t||(0,s[_0x27ab("0xcbd")])(_.map.id+""+_.options[_0x27ab("0x96")],n);var r=null;try{r=y.ESTileMap[_0x27ab("0xcc3")].decode(n)}catch(x){return console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")].INVALID_TYPE,i),void b()}if(I==r[_0x27ab("0xcc4")]){var o=new(c[_0x27ab("0xb")])({id:x,map:_[_0x27ab("0x37")]});o[_0x27ab("0x17a")]=r;var l=_[_0x27ab("0xcc5")](r,x);o[_0x27ab("0x16b")]=l,a(r,o)}}))[_0x27ab("0x257")](b)}}},{key:_0x27ab("0xcc6"),value:function(x){var a=this,b=a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x6a")],_=u[_0x27ab("0xb")].getPath(_0x27ab("0x50"),{ext:x,themeID:b});return new e.default((function(e,t){esmap[_0x27ab("0x588")][_0x27ab("0x361")]({url:_}).success((function(x){if(x){a[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0xc55"),{id:b,data:x}),a[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xcc7")](x);var _=E[_0x27ab("0x529")][_0x27ab("0x43")](a[_0x27ab("0xab0")]);(new Date)[_0x27ab("0x7c")]()-1e6*_[_0x27ab("0x52a")]>0||e()}else t("主题文件请求错误")}))[_0x27ab("0x257")]((function(){x==_0x27ab("0xbd")?e(a[_0x27ab("0xcc6")]("theme")):t(_0x27ab("0xcc8"))}))}))}},{key:_0x27ab("0xab3"),value:function(){var x=this;if(0!=this[_0x27ab("0x37")][_0x27ab("0x936")]){var a=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xa59")],b=this[_0x27ab("0x37")][_0x27ab("0x24f")](this.map[_0x27ab("0x296")][_0x27ab("0x295")],!0),_=b.x,e=b.y,t=(0,r[_0x27ab("0xaa")])(_,e,a),i={x:_,y:e,indx:t.x,indy:t.y},n=this.getContainerExtent();if(n){var s=(0,r[_0x27ab("0xa9")])(i[_0x27ab("0xb7a")],i.indy,this.map.options[_0x27ab("0xa59")],!1),o=s.maxx-s.minx,c=s[_0x27ab("0xbb")]-s[_0x27ab("0xba")];this.centerTile=i,this[_0x27ab("0xcc9")]=o;for(var l=i[_0x27ab("0xb7a")],f=i.indy,u=_,d=e,h=[l],g=[f],v=this[_0x27ab("0xae8")],p=0;p<v;p++){if((u+=o)>n[_0x27ab("0xb5")]){h[_0x27ab("0x1")](l+p+1,l-(p+1));break}h[_0x27ab("0x1")](l+p+1,l-(p+1))}for(var A=0;A<v;A++){if((d+=c)>n[_0x27ab("0xbb")]){g[_0x27ab("0x1")](f+A+1,f-(A+1));break}g[_0x27ab("0x1")](f+A+1,f-(A+1))}this[_0x27ab("0x16a")]=[];var m=this,C=[];g[_0x27ab("0x1b")]((function(a){h.forEach((function(b){var _=b+"_"+a,e=(0,r[_0x27ab("0xa9")])(b,a,x.map[_0x27ab("0x33")][_0x27ab("0xa59")],!1),t=m[_0x27ab("0xa98")](n,e),i=x[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0x168")]>=18&&x.map.tiltAngle>=60,s=m[_0x27ab("0xcca")](_),o=m[_0x27ab("0xabd")]();s&&o&&(t||i)&&(C[_0x27ab("0x1")](_),m[_0x27ab("0x16a")].push(_))}))})),this.currentView=C,0!=C[_0x27ab("0x0")]||this[_0x27ab("0x37")].loadCompleted||(this[_0x27ab("0x37")].loadCompleted=!0,esmap[_0x27ab("0x32")].IsMapLoading=!1,this[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0x955"),{bid:this[_0x27ab("0x37")][_0x27ab("0xeb")]}))}}}},{key:_0x27ab("0xccb"),value:function(x){var a=[{x:x[_0x27ab("0x446")],y:x.minY},{x:x[_0x27ab("0x448")],y:x[_0x27ab("0x447")]},{x:x[_0x27ab("0x448")],y:x[_0x27ab("0x449")]},{x:x.minX,y:x.maxY},{x:x[_0x27ab("0x446")],y:x.minY}],b=new(esmap[_0x27ab("0x5cb")])({alpha:.5,lineWidth:1,height:6,points:a});this[_0x27ab("0x37")][_0x27ab("0xf4")](0).getFloor(1)[_0x27ab("0x1a2")]("mypoly",esmap[_0x27ab("0x17d")].POLYGON_MARKER)[_0x27ab("0xc96")](b)}},{key:_0x27ab("0xae9"),value:function(x){if(0!=this[_0x27ab("0x37")][_0x27ab("0x936")]){var a=this[_0x27ab("0x37")].options.worldScale,b=this[_0x27ab("0x37")][_0x27ab("0x24f")](this.map.controls.target),_=this[_0x27ab("0xccc")]();if(_){var e=1,t=(0,r.getTileFromMec)(b.x,b.y,a),i={x:b.x,y:b.y,indx:t.x,indy:t.y},n=(0,r[_0x27ab("0xa9")])(i[_0x27ab("0xb7a")],i.indy,this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xa59")],!0),s=n[_0x27ab("0xb5")]-n[_0x27ab("0xb9")];this[_0x27ab("0xb7b")]=i;var o=[i[_0x27ab("0xb7a")]+"_"+i[_0x27ab("0xb7c")]],c=this[_0x27ab("0xccd")](8);this.currentShows=[i.indx+"_"+i[_0x27ab("0xb7c")]];for(var l=[],f=0;f<c[_0x27ab("0x0")];f++){var u=c[f][0]+i[_0x27ab("0xb7a")],d=c[f][1]+i[_0x27ab("0xb7c")],h=u+"_"+d,g=this[_0x27ab("0xcca")](h);if(!(e>=x)&&g){var v=(0,r.getTileBound)(u,d,this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xa59")],!0);this[_0x27ab("0xa98")](_,v)?(o[_0x27ab("0x1")](h),this.currentShows.push(h)):l[_0x27ab("0x1")](h),e+=1}}this[_0x27ab("0xcc9")]=s,this[_0x27ab("0x9a3")]=o,this[_0x27ab("0xaea")]=l}}}},{key:_0x27ab("0xccd"),value:function(x){for(var a=[],b=-x;b<x+1;b++)for(var _=-x;_<x+1;_++)0==b&&0==_||a[_0x27ab("0x1")]([b,_]);return a[_0x27ab("0x416")]((function(x,a){return Math[_0x27ab("0x274")](x[0])+Math.abs(x[1])-(Math[_0x27ab("0x274")](a[0])+Math[_0x27ab("0x274")](a[1]))})),a}},{key:_0x27ab("0x9c6"),value:function(x,a){if(!m){var b=E.ESCityLicSet[_0x27ab("0x43")](this[_0x27ab("0xab0")]);if(E[_0x27ab("0x529")].comparehs(),m=(0,s[_0x27ab("0x43")])(b[_0x27ab("0x534")],_0x27ab("0xcce"),""),{maxx:b[_0x27ab("0x448")],minx:b[_0x27ab("0x446")],maxy:b[_0x27ab("0x449")],miny:b[_0x27ab("0x447")]},this.map[_0x27ab("0xa53")]=b.offsetbid||"0,0,0",this[_0x27ab("0x37")][_0x27ab("0x1aa")]=b[_0x27ab("0x538")]||"0,0,0",this.map[_0x27ab("0xccf")][_0x27ab("0xd1")](this[_0x27ab("0x33")][_0x27ab("0xcd0")])<0)return void console[_0x27ab("0x257")]("invalid tileType")}var _={id:x,buildingType:esmap[_0x27ab("0x5bb")].TILE,isFirstLoading:a};this[_0x27ab("0x37")][_0x27ab("0x9c6")](_)}},{key:_0x27ab("0xcc5"),value:function(x,a){var b=this,_=x[_0x27ab("0x498")],e=this.map[_0x27ab("0x33")][_0x27ab("0xcd1")],t=this[_0x27ab("0x37")][_0x27ab("0x192")],i=(this[_0x27ab("0x5db")],0),n=0,r=this[_0x27ab("0xc9e")].filterSingleMesh,s={1:[],2:[],3:[]},o={1:[],2:[],3:[]},c=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xcd2")];for(var l in _){var f,u=_[l],d=!1,h=!1,g=this[_0x27ab("0x37")].mapTheme[_0x27ab("0xcd3")][u.RS],v=!1;999!=u.RS&&(this.map.mapScene[_0x27ab("0xcd4")][_0x27ab("0x4b")]+=1),g&&999!=u.RS?g&&2==g[_0x27ab("0xcd5")]&&(d=2==g[_0x27ab("0xcd6")],h=2==g.sideTextureType):2==(g=this[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xcd3")][0]).filltype&&(d=2==g[_0x27ab("0xcd6")],h=2==g[_0x27ab("0xcd7")]),f=g[_0x27ab("0xcd8")];var A=this.convertGeo2Geometry_(u[_0x27ab("0x49c")]);if(c){var m=!0;if(A[_0x27ab("0xec")][0][_0x27ab("0x0")]>=3){var C=A[_0x27ab("0xec")][0][_0x27ab("0x37")]((function(x){return{x:-x.x,y:x.y}}));m=esmap.ESMapUtil[_0x27ab("0x5e8")](c,C)}else m=esmap.ESMapUtil[_0x27ab("0x5f7")]({x:u[_0x27ab("0x4c5")],y:u.CenY},c);if(!m)continue}var I=this[_0x27ab("0x37")][_0x27ab("0x56b")]({from:p,to:t,coords:A.points[0],flipX:!0}),y=A[_0x27ab("0x565")];y[_0x27ab("0x0")]>0&&(y=this.map[_0x27ab("0x56b")]({from:p,to:t,coords:A[_0x27ab("0x565")][0],flipX:!0})),u[_0x27ab("0x5de")]&&this[_0x27ab("0x5db")][u[_0x27ab("0x5de")]]&&function(){var x={x:u[_0x27ab("0xcd9")]||0,y:u.bidoy||0,z:u[_0x27ab("0xcda")]||0};b[_0x27ab("0x5db")][u[_0x27ab("0x5de")]][_0x27ab("0x143")]=x,b[_0x27ab("0x5db")][u[_0x27ab("0x5de")]]._computedOffset||(b[_0x27ab("0x5db")][u[_0x27ab("0x5de")]]._computedOffset=!0,b[_0x27ab("0x5db")][u[_0x27ab("0x5de")]].x+=x.x,b[_0x27ab("0x5db")][u[_0x27ab("0x5de")]].y+=x.y);var a=[];I[_0x27ab("0x1b")]((function(x){a.push({x:-x.x,y:x.y})})),b[_0x27ab("0x5db")][u[_0x27ab("0x5de")]].polygon=a}();var E=this[_0x27ab("0x37")][_0x27ab("0x199")]({from:p,to:t,coord:{x:u[_0x27ab("0x4c5")],y:u[_0x27ab("0x4c8")]}}),w=u.FH*f*e;u.RM&&(r&&u.RM[_0x27ab("0xd1")](_0x27ab("0xbfa"))>=0?v=!0:i++);var T={fnums:u[_0x27ab("0xcdb")],RoomHigh:w,Typeid:u[_0x27ab("0x4c1")],classID:u.MC||0,gid:u[_0x27ab("0xcdc")],CenX:E.x,RoomLogoSize:null==u[_0x27ab("0x4c2")]?"":u[_0x27ab("0x4c2")],CenY:E.y,OCenX:u[_0x27ab("0x4c5")],OCenY:u[_0x27ab("0x4c8")],tileid:a,oid:u._id,FC:u[_0x27ab("0xcdd")]||null,AS:u.AS,name:u.NA,nameEn:u.NE,scale:u.RMS,rotate:u[_0x27ab("0x4c7")],RModel:u.RM,bids:u[_0x27ab("0x5de")],offset:u[_0x27ab("0x4c4")],RoomStyle:u.RS||0,points:[I],originalPoints:A[_0x27ab("0xec")],holes:y,originalHoles:A[_0x27ab("0x565")],normalizeTop:d,normalizeSide:h,ShowLevel:(24==u.SL?10:u.SL)||10};this[_0x27ab("0xc9e")][_0x27ab("0x8df")][u[_0x27ab("0x43d")]]=A[_0x27ab("0xec")],T[_0x27ab("0x184")]=u.BC>>1||1,T[_0x27ab("0xa84")]=1&u.BC||0;var k=null;k=u.SL<=12?1:u.SL<=16?2:3,T[_0x27ab("0xa84")]?s[k].push(T):o[k][_0x27ab("0x1")](T),v?(this[_0x27ab("0x33")][_0x27ab("0x228")]==_0x27ab("0x542")||this[_0x27ab("0x33")][_0x27ab("0x223")]||console[_0x27ab("0x362")]("包含singleMesh，但是quality没有设置为low"),this.service[_0x27ab("0xc51")](u,a)):T[_0x27ab("0xcde")]&&1==k&&n++}for(var S={},M=1;M<4;M++){var R={modellayers:[{models:s[M]}],modelbaselayer:[{modelbases:o[M]}],maxX:x[_0x27ab("0x448")],maxY:x[_0x27ab("0x449")],minX:x.minX,minY:x.minY,roomModelsCount:i,lod1ModelsCount:n};S[M]=R}return S}},{key:_0x27ab("0xcca"),value:function(x){var a=this[_0x27ab("0xae7")]&&this[_0x27ab("0xae7")][_0x27ab("0xd1")](x)>-1,b=this[_0x27ab("0xcbc")]&&this.roadGrids[_0x27ab("0xd1")](x)>-1,_=0==this[_0x27ab("0xa2a")][_0x27ab("0x0")]||this[_0x27ab("0xa2a")][_0x27ab("0xd1")](x)>-1;return(a||b)&&_}},{key:_0x27ab("0xcdf"),value:function(x){return!(x>esmap[_0x27ab("0xce0")]||x<esmap[_0x27ab("0xce1")])}},{key:_0x27ab("0xcbf"),value:function(x){var a=x[_0x27ab("0x4e8")],b=this[_0x27ab("0x37")].coordSystem;for(var _ in a){var e=this.map[_0x27ab("0x199")]({from:_0x27ab("0x1d9"),to:b,coord:{x:a[_].X,y:a[_].Y}});a[_].X=e.x,a[_].Y=e.y}}},{key:_0x27ab("0xce2"),value:function(x,a,b){var _=a.x,e=a.y,t=b.x,i=b.y,n=this.map[_0x27ab("0x192")],r=_-t,s=e-i;for(var o in x){var c=x[o][_0x27ab("0x4e8")];for(var l in c){c[l].X=c[l].X+r,c[l].Y=c[l].Y+s;var f=this[_0x27ab("0x37")][_0x27ab("0x199")]({from:_0x27ab("0x1d9"),to:n,coord:{x:c[l].X,y:c[l].Y}});c[l].X=f.x,c[l].Y=f.y}}}},{key:"getContainerExtent",value:function(){var x=this[_0x27ab("0x37")][_0x27ab("0x614")].canvas[_0x27ab("0x3af")](),a=0;this[_0x27ab("0x37")].tiltAngle>=80?a=x[_0x27ab("0x1b7")]/2:this[_0x27ab("0x37")][_0x27ab("0x9a1")]>=70&&(a=x[_0x27ab("0x1b7")]/3);var b=this.map.coordScreenToMap(0,a,0),_=this[_0x27ab("0x37")][_0x27ab("0xada")](x[_0x27ab("0x326")],a,0),e=this[_0x27ab("0x37")][_0x27ab("0xada")](x.width,x[_0x27ab("0x1b7")],0),t=this[_0x27ab("0x37")][_0x27ab("0xada")](0,x[_0x27ab("0x1b7")],0);return b&&_&&e&&t?{minx:Math[_0x27ab("0x340")](b.x,_.x,e.x,t.x),maxx:Math.max(b.x,_.x,e.x,t.x),miny:Math[_0x27ab("0x340")](b.y,_.y,e.y,t.y),maxy:Math[_0x27ab("0x33f")](b.y,_.y,e.y,t.y)}:null}},{key:_0x27ab("0xce3"),value:function(x){var a,b=this[_0x27ab("0x37")][_0x27ab("0x33")],_=x,e=b.version,t=b.s,i=b[_0x27ab("0x96")],r=window[_0x27ab("0x7a")][_0x27ab("0x7b")],o=parseInt((new Date).getTime()/1e3);a=b.s&&b.k?b.k:esmap.ESMapUtil[_0x27ab("0x7d")](b.token+"worldeditor"+o);var c=esmap[_0x27ab("0x80")][_0x27ab("0x7d")](i+"&"+_+"&"+t+"&"+a+"&"+o+"&"+r+"&"+e);querySign=c;var l=n[_0x27ab("0x42")][_0x27ab("0x43")]((0,s[_0x27ab("0x81")])(t)),f=void 0;if(3==i)f=b[_0x27ab("0x41")]+"/"+_+"_lic.esmap";else{var u=(0,s[_0x27ab("0x40")])(t);f=(3==t?u:n.Base64[_0x27ab("0x43")](u))+"/"+l+"/eslic/lic!getlic.action?cids="+_+_0x27ab("0x84")+b.s+_0x27ab("0x85")+a+_0x27ab("0x67")+o+_0x27ab("0x86")+encodeURIComponent(r)+_0x27ab("0x8a")+c+_0x27ab("0xce4")+e+_0x27ab("0x87")+i}return f}},{key:_0x27ab("0xce5"),value:function(x){var a=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x3f")]+this[_0x27ab("0x37")].id+"/worldtheme/"+this[_0x27ab("0x33")].themeID+"/"+this.options[_0x27ab("0x6a")]+"."+x;return this.options[_0x27ab("0x62")]&&(a+="?t="+Date[_0x27ab("0x68")](new Date)),a}},{key:_0x27ab("0xcba"),value:function(x){for(var a=x[_0x27ab("0x28")]("|"),b=0;b<a[_0x27ab("0x0")];b++){var _=a[b][_0x27ab("0x28")](",");this.bidList[_[1]]||(this[_0x27ab("0x5db")][_[1]]={bid:_[1],x:1*_[2],y:1*_[3],id:1*_[0],_raws:{x:1*_[2],y:1*_[3]}})}}},{key:"tryFetchBoundary",value:function(){var x=this,a=x[_0x27ab("0x37")][_0x27ab("0x33")],b=void 0;a.s;return b=1==a[_0x27ab("0x96")]?a[_0x27ab("0x3f")]+"/"+this[_0x27ab("0x37")].id+_0x27ab("0xce6"):a[_0x27ab("0x41")]+_0x27ab("0xce6"),new(e[_0x27ab("0xb")])((function(_,e){esmap.Ajax[_0x27ab("0x361")]({url:b})[_0x27ab("0x35b")]((function(b){if(a.vBoundary){for(var e=esmap[_0x27ab("0x80")][_0x27ab("0x5ec")](a[_0x27ab("0xcd2")]),t=[],i=[],n=0;n<b.grids1[_0x27ab("0x0")];n++)e.indexOf(b[_0x27ab("0xce7")][n])>-1&&t[_0x27ab("0x1")](b[_0x27ab("0xce7")][n]),e[_0x27ab("0xd1")](b[_0x27ab("0xce8")][n])>-1&&i[_0x27ab("0x1")](b.grids2[n]);x[_0x27ab("0xae7")]=t,x[_0x27ab("0xcbc")]=i}else x[_0x27ab("0xae7")]=b[_0x27ab("0xce7")],x.roadGrids=b[_0x27ab("0xce8")];for(var r=b.areas,s=[],o=0;o<r[_0x27ab("0x0")];o++){var c=r[o],f=c[_0x27ab("0xce9")],u=c.outline,d=(new(l[_0x27ab("0xb")].GData)).parseBoundary(u);s.push({citycode:f,outline:d[_0x27ab("0x431")]})}x[_0x27ab("0xc87")]=s,_()}))[_0x27ab("0x257")]((function(){e(!1)}))}))}},{key:_0x27ab("0x305"),value:function(){esmap[_0x27ab("0x9ae")]&&esmap.ESTileMap.tileMapView&&(esmap[_0x27ab("0x9ae")][_0x27ab("0xcea")][_0x27ab("0xceb")][_0x27ab("0xcec")]=!0,this[_0x27ab("0x304")]=!0)}},{key:"enableTileBaseMap",value:function(){esmap[_0x27ab("0x9ae")]&&esmap.ESTileMap[_0x27ab("0xcea")]&&(esmap[_0x27ab("0x9ae")][_0x27ab("0xcea")].tileLayer[_0x27ab("0xcec")]=!1,this[_0x27ab("0x304")]=!1)}},{key:_0x27ab("0x97f"),value:function(x){var a=arguments[_0x27ab("0x0")]>1&&void 0!==arguments[1]?arguments[1]:null,b=this,_=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],t=this.map,i=this;if(!t[_0x27ab("0xf4")](x[_0x27ab("0x35")])){if(!this[_0x27ab("0x5db")][x[_0x27ab("0x35")]])return _0x27ab("0xced"),x.mapId,void _0x27ab("0xcee");if(t.buildingList[_0x27ab("0x0")]>=t[_0x27ab("0x33")][_0x27ab("0x22f")]){var n=t[_0x27ab("0x634")][0];t.closeBuildingById(n.id)}var r=(0,h.getBuildingOptions)({loadModel3D:!0,visibleFloors:1==t[_0x27ab("0x33")].buildingFoucsMode?[1]:"all",focusFloor:1==t[_0x27ab("0x33")][_0x27ab("0xcef")]?1:_0x27ab("0x184"),focusMode:t[_0x27ab("0x33")][_0x27ab("0xcef")],focusAnimateMode:1==t[_0x27ab("0x33")][_0x27ab("0xcef")],hideFloorBase:e,dataCenter:{x:this[_0x27ab("0x5db")][x[_0x27ab("0x35")]].x,y:this.bidList[x[_0x27ab("0x35")]].y},token:a||t[_0x27ab("0x33")][_0x27ab("0x7e")]}),s=this[_0x27ab("0x5db")][x[_0x27ab("0x35")]][_0x27ab("0x143")]||{x:0,y:0,z:0},o={shell:_?null:x,tile:x.bid,id:x[_0x27ab("0x35")],angle:10,options:r},c=o.id,l=o[_0x27ab("0x33")],f=o.shell||null;o[_0x27ab("0xcf0")];if(!(this[_0x27ab("0xc8f")]>0)){if(t.fire(_0x27ab("0x9b3")),esmap[_0x27ab("0x5c0")][_0x27ab("0xcf1")]={},this.service[_0x27ab("0xac3")][_0x27ab("0x1")]({x:l.dataCenter.x,y:l[_0x27ab("0xcf2")].y,bid:c,changed:[]}),f)if(6==f[_0x27ab("0xe1")])if(f.o3d_)if(f[_0x27ab("0xaf")][_0x27ab("0xae")][_0x27ab("0x342")]&&f.o3d_[_0x27ab("0xae")][_0x27ab("0x342")][_0x27ab("0x0")]>1){var u=i[_0x27ab("0x37")][_0x27ab("0xf4")](t.id),d=u.modelLoadManager[_0x27ab("0x62f")];f[_0x27ab("0xaf")].children[_0x27ab("0x1b")]((function(x){d[_0x27ab("0x411")](x,f.ID,!1)})),f[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0xcf3")]||(f.o3d_[_0x27ab("0x127")][_0x27ab("0xcf3")]={}),f[_0x27ab("0xaf")][_0x27ab("0x127")].shellMap[c]||(f[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0xcf3")][c]=f.ID)}else esmap[_0x27ab("0x80")][_0x27ab("0x2a3")]({clonemat:!0,target:f.o3d_,alpha:.1,hideOnComplete:!0,time:1.5});else f[_0x27ab("0xf6")]=!1;else if(5==f[_0x27ab("0xe1")]){for(var g=f.o3d_.geometry[_0x27ab("0xc2")][_0x27ab("0x9ea")].array,v=f[_0x27ab("0x343")][0],p=f[_0x27ab("0x343")][1],A=v;A<p;A+=1)g[A]=1;f[_0x27ab("0xaf")].geometry[_0x27ab("0xc2")][_0x27ab("0x9ea")].needsUpdate=!0}if(this.cacheBuildings[c]){var m=this.cacheBuildings[c];return t[_0x27ab("0x15d")].buildingScene_[_0x27ab("0x163")](m),t[_0x27ab("0x33")].showBuildingMode&&(this[_0x27ab("0xcf4")]?m[_0x27ab("0xae")][_0x27ab("0x9c0")](!0):m.datas_[_0x27ab("0x9c0")]()),t[_0x27ab("0x634")].push(m[_0x27ab("0xae")]),m[_0x27ab("0xf6")]=!0,t[_0x27ab("0x1e7")](_0x27ab("0xa07"),m[_0x27ab("0xae")]),void m[_0x27ab("0xae")][_0x27ab("0x25e")]("modelLoadedAll",{bid:m.datas_.id})}var C=t.sl();if(9568297==C)return l.id=c,this[_0x27ab("0xc9e")][_0x27ab("0x992")](l)[_0x27ab("0x312")]((function(x){var a=x.sourceData;if(x[_0x27ab("0x160")]=esmap[_0x27ab("0x5bb")][_0x27ab("0xcf5")],x[_0x27ab("0xa64")]=o[_0x27ab("0xa64")],x[_0x27ab("0x9bd")]=o[_0x27ab("0x9bd")],x.center={x:l[_0x27ab("0xcf2")].x,y:l[_0x27ab("0xcf2")].y},b[_0x27ab("0xce2")](a[_0x27ab("0x44b")],x[_0x27ab("0xed")],{x:-a[_0x27ab("0x444")],y:a[_0x27ab("0x45f")]}),b[_0x27ab("0xc9e")][_0x27ab("0x994")][_0x27ab("0x1a0")][c]=a[_0x27ab("0x44b")],b[_0x27ab("0x37")].fire(_0x27ab("0x993"),{bid:c,data:a[_0x27ab("0x44b")]}),t.options.tileMode&&x.o3d_[_0x27ab("0xc3")][_0x27ab("0x123")](0,0,0),x[_0x27ab("0xcf6")]=0,x[_0x27ab("0x33")][_0x27ab("0x143")]?(x.options[_0x27ab("0x143")][2]&&(s+=x[_0x27ab("0x33")][_0x27ab("0x143")][2]),x[_0x27ab("0xcf7")]=s):x[_0x27ab("0xcf7")]=s,x[_0x27ab("0x33")][_0x27ab("0xcf8")]){var _=x.listFloors[1*x[_0x27ab("0x33")].undergroundOffset-1][_0x27ab("0x49b")];x[_0x27ab("0xaf")][_0x27ab("0xc3")].y-=_,x[_0x27ab("0xcf6")]=_}x[_0x27ab("0xcf9")]=x[_0x27ab("0xaf")][_0x27ab("0xc3")].y+1;var e=a[_0x27ab("0x455")]<32503514?a[_0x27ab("0x455")]:a.maptime/1e3;if(!((new Date).getTime()>1e6*e))return t[_0x27ab("0x94e")]=x,t.scaleLevels_=x.scaleLevels_,t[_0x27ab("0x1e7")](_0x27ab("0xcfa"),x),x}))[_0x27ab("0x825")]((function(x){i[_0x27ab("0x9a2")][_0x27ab("0x157")](i[_0x27ab("0x9a2")][_0x27ab("0xd1")](c),1),i[_0x27ab("0xcfb")][_0x27ab("0x1")](c),esmap[_0x27ab("0x32")].IsMapLoading=!1}))}}}},{key:_0x27ab("0xcfc"),value:function(x){var a=this,b=[],_=x[_0x27ab("0x1d8")],e=x[_0x27ab("0x1d2")],t=x[_0x27ab("0x1cb")],i=void 0===t?1:t,n=x[_0x27ab("0xcfd")],r=void 0===n?.25:n;if(!1!==r){var s=(0,g[_0x27ab("0x1c2")])({coord:_}),o=[esmap[_0x27ab("0x17d")][_0x27ab("0x181")],esmap[_0x27ab("0x17d")][_0x27ab("0x17e")]];s[_0x27ab("0x1b")]((function(x){var _=a[_0x27ab("0x37")].getTileById(x);_&&_[_0x27ab("0x15e")][_0x27ab("0x9e7")].forEach((function(x){o[_0x27ab("0x62e")](x._type_)||b[_0x27ab("0x1")](x)}))})),k=b,S=r,new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])({value:1}).to({value:r},1e3*i)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x137")]((function(x){b.forEach((function(a){a[_0x27ab("0xaf")][_0x27ab("0x24b")].y=x.value}))}))[_0x27ab("0x1d2")]((function(){a[_0x27ab("0xc9e")][_0x27ab("0x995")](_0x27ab("0xcfe"),!0),e&&e()}))[_0x27ab("0x1d5")]()}else new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])({value:S}).to({value:1},1e3*i)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x137")]((function(x){k.forEach((function(a){a[_0x27ab("0xaf")][_0x27ab("0x24b")].y=x[_0x27ab("0xf8")]}))})).onComplete((function(){k=[],a[_0x27ab("0xc9e")].setState(_0x27ab("0xcfe"),!1),e&&e()})).start()}},{key:_0x27ab("0xcff"),value:function(x){this[_0x27ab("0x37")][_0x27ab("0x175")]._disableTileUpdate=!x,esmap[_0x27ab("0x9ae")]&&esmap[_0x27ab("0x9ae")].Tools[_0x27ab("0x9b0")](x),this[_0x27ab("0x37")][_0x27ab("0x15d")].tileScene_.visible=x}},{key:_0x27ab("0x2c9"),value:function(){m=null,C=1,I=null,w=null,T=!1,k=[],S=1,this[_0x27ab("0x9a2")]=[],this[_0x27ab("0xcfb")]=[],this[_0x27ab("0xc86")]=[],this[_0x27ab("0x17a")]={},this.currentView=[],this.currentShows=[],this.centerTile=null,this[_0x27ab("0xa2b")]=[],this[_0x27ab("0x9bc")]={},this[_0x27ab("0xab0")]=null,this[_0x27ab("0xc87")]=[],this[_0x27ab("0xa57")]={},this[_0x27ab("0x1a0")]={},this[_0x27ab("0xc88")]={1:12,2:16,3:18},this[_0x27ab("0xc89")]={buildings:0,models:0},this[_0x27ab("0x9ed")]=[],this[_0x27ab("0x304")]=!1,this[_0x27ab("0x9a4")]=!1,this[_0x27ab("0xae7")]=null,this[_0x27ab("0xcbc")]=null,this.userTiles=[],this[_0x27ab("0xc8a")]={},this[_0x27ab("0xc8b")]=!1,this[_0x27ab("0x5db")]={},this.failedTiles={},this.toLoadedBuildings=[],this[_0x27ab("0x9f5")]={},this.buildingIDs=[],this.tileUrl="",this[_0x27ab("0xd00")]=0,this._mo=0,this[_0x27ab("0xc8e")]=0,this.buildingLoadingCount=0,this.preLoadBuildingId=null,this[_0x27ab("0xcf4")]=!1}},{key:"options",get:function(){return this[_0x27ab("0x37")][_0x27ab("0x33")]}}]),x}();a.TileService=M},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _={1e3:_0x27ab("0xd01"),2e3:_0x27ab("0xd02"),2001:"sk验证错误",2002:_0x27ab("0xd03"),2003:"请提供三维场景:${1}的token #${2}",2004:"三维场景 ${1} token验证错误 #${2}",2005:_0x27ab("0xd04"),2006:_0x27ab("0xd05"),2007:_0x27ab("0xd06"),2008:_0x27ab("0xd07"),2009:_0x27ab("0xd08"),2010:_0x27ab("0xd09")};a.ERRORS=_},function(x,a,b){"use strict";var _=t(b(10)),e=t(b(16));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i,n=b(64),r=n.Reader,s=n[_0x27ab("0x438")],o=n[_0x27ab("0x439")],c=n[_0x27ab("0x43a")][_0x27ab("0xb")]||(n[_0x27ab("0x43a")][_0x27ab("0xb")]={});c[_0x27ab("0x9ae")]=((i={})[_0x27ab("0xcc3")]=function(){function x(x){if(this[_0x27ab("0x498")]={},this[_0x27ab("0x17b")]={},x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a.length;++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")].v=0,x[_0x27ab("0x2")][_0x27ab("0x52a")]=0,x[_0x27ab("0x2")][_0x27ab("0x456")]="",x[_0x27ab("0x2")].cname="",x[_0x27ab("0x2")][_0x27ab("0x43d")]=0,x.prototype[_0x27ab("0x457")]=0,x[_0x27ab("0x2")].x=0,x[_0x27ab("0x2")].y=0,x[_0x27ab("0x2")].z=0,x.prototype[_0x27ab("0x446")]=0,x[_0x27ab("0x2")][_0x27ab("0x447")]=0,x[_0x27ab("0x2")][_0x27ab("0x448")]=0,x[_0x27ab("0x2")][_0x27ab("0x449")]=0,x[_0x27ab("0x2")][_0x27ab("0x7e")]="",x[_0x27ab("0x2")].Rooms=o[_0x27ab("0x49e")],x[_0x27ab("0x2")][_0x27ab("0x17b")]=o[_0x27ab("0x49e")],x[_0x27ab("0x2")][_0x27ab("0x44f")]="",x[_0x27ab("0x2")].o1=0,x[_0x27ab("0x2")][_0x27ab("0x450")]="",x.prototype.o2=0,x[_0x27ab("0x2")].t1="",x.create=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){if(a||(a=s[_0x27ab("0x451")]()),null!=x.v&&x[_0x27ab("0xc")]("v")&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x.v),null!=x[_0x27ab("0x52a")]&&x[_0x27ab("0xc")]("mtime")&&a[_0x27ab("0x453")](16)[_0x27ab("0x454")](x[_0x27ab("0x52a")]),null!=x[_0x27ab("0x456")]&&x[_0x27ab("0xc")](_0x27ab("0x456"))&&a[_0x27ab("0x453")](26)[_0x27ab("0x60")](x.Hash),null!=x[_0x27ab("0xcc4")]&&x[_0x27ab("0xc")]("cname")&&a[_0x27ab("0x453")](34).string(x.cname),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty(_0x27ab("0x43d"))&&a[_0x27ab("0x453")](40).int32(x._id),null!=x[_0x27ab("0x457")]&&x[_0x27ab("0xc")](_0x27ab("0x457"))&&a[_0x27ab("0x453")](48)[_0x27ab("0x454")](x.Type),null!=x.x&&x[_0x27ab("0xc")]("x")&&a[_0x27ab("0x453")](57)[_0x27ab("0x45c")](x.x),null!=x.y&&x[_0x27ab("0xc")]("y")&&a[_0x27ab("0x453")](65).double(x.y),null!=x.z&&x[_0x27ab("0xc")]("z")&&a[_0x27ab("0x453")](73)[_0x27ab("0x45c")](x.z),null!=x[_0x27ab("0x446")]&&x[_0x27ab("0xc")](_0x27ab("0x446"))&&a[_0x27ab("0x453")](81)[_0x27ab("0x45c")](x[_0x27ab("0x446")]),null!=x[_0x27ab("0x447")]&&x[_0x27ab("0xc")](_0x27ab("0x447"))&&a[_0x27ab("0x453")](89)[_0x27ab("0x45c")](x.minY),null!=x.maxX&&x[_0x27ab("0xc")]("maxX")&&a.uint32(97)[_0x27ab("0x45c")](x.maxX),null!=x.maxY&&x[_0x27ab("0xc")](_0x27ab("0x449"))&&a[_0x27ab("0x453")](105)[_0x27ab("0x45c")](x[_0x27ab("0x449")]),null!=x[_0x27ab("0x7e")]&&x.hasOwnProperty("token")&&a[_0x27ab("0x453")](114).string(x[_0x27ab("0x7e")]),null!=x.Rooms&&x[_0x27ab("0xc")](_0x27ab("0x498")))for(var b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x498")]),_=0;_<b[_0x27ab("0x0")];++_)a[_0x27ab("0x453")](122).fork()[_0x27ab("0x453")](8)[_0x27ab("0x454")](b[_]),c[_0x27ab("0x9ae")][_0x27ab("0x4a7")][_0x27ab("0x452")](x[_0x27ab("0x498")][b[_]],a[_0x27ab("0x453")](18)[_0x27ab("0x464")]()).ldelim()[_0x27ab("0x465")]();if(null!=x.Labels&&x[_0x27ab("0xc")](_0x27ab("0x17b")))for(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x17b")]),_=0;_<b[_0x27ab("0x0")];++_)a.uint32(130)[_0x27ab("0x464")]()[_0x27ab("0x453")](8)[_0x27ab("0x454")](b[_]),c[_0x27ab("0x9ae")][_0x27ab("0x4a4")][_0x27ab("0x452")](x[_0x27ab("0x17b")][b[_]],a[_0x27ab("0x453")](18)[_0x27ab("0x464")]()).ldelim()[_0x27ab("0x465")]();return null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&a[_0x27ab("0x453")](138)[_0x27ab("0x60")](x.other1),null!=x.o1&&x[_0x27ab("0xc")]("o1")&&a[_0x27ab("0x453")](144)[_0x27ab("0x454")](x.o1),null!=x[_0x27ab("0x450")]&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&a[_0x27ab("0x453")](154)[_0x27ab("0x60")](x[_0x27ab("0x450")]),null!=x.o2&&x[_0x27ab("0xc")]("o2")&&a[_0x27ab("0x453")](160)[_0x27ab("0x454")](x.o2),null!=x.t1&&x.hasOwnProperty("t1")&&a.uint32(170)[_0x27ab("0x60")](x.t1),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a).ldelim()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b,_=void 0===a?x.len:x[_0x27ab("0x3e4")]+a,e=new(c[_0x27ab("0x9ae")].ESTileMapSet);x[_0x27ab("0x3e4")]<_;){var t=x[_0x27ab("0x453")]();switch(t>>>3){case 1:e.v=x[_0x27ab("0x454")]();break;case 2:e[_0x27ab("0x52a")]=x.int32();break;case 3:e[_0x27ab("0x456")]=x[_0x27ab("0x60")]();break;case 4:e[_0x27ab("0xcc4")]=x[_0x27ab("0x60")]();break;case 5:e._id=x[_0x27ab("0x454")]();break;case 6:e[_0x27ab("0x457")]=x[_0x27ab("0x454")]();break;case 7:e.x=x.double();break;case 8:e.y=x[_0x27ab("0x45c")]();break;case 9:e.z=x[_0x27ab("0x45c")]();break;case 10:e[_0x27ab("0x446")]=x[_0x27ab("0x45c")]();break;case 11:e[_0x27ab("0x447")]=x[_0x27ab("0x45c")]();break;case 12:e[_0x27ab("0x448")]=x[_0x27ab("0x45c")]();break;case 13:e[_0x27ab("0x449")]=x[_0x27ab("0x45c")]();break;case 14:e.token=x[_0x27ab("0x60")]();break;case 15:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e.Rooms===o[_0x27ab("0x49e")]&&(e.Rooms={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e.Rooms[b]=c.ESTileMap[_0x27ab("0x4a7")][_0x27ab("0x43")](x,x[_0x27ab("0x453")]());break;case 16:x.skip()[_0x27ab("0x3e4")]++,e[_0x27ab("0x17b")]===o[_0x27ab("0x49e")]&&(e.Labels={}),b=x[_0x27ab("0x454")](),x.pos++,e.Labels[b]=c.ESTileMap[_0x27ab("0x4a4")].decode(x,x[_0x27ab("0x453")]());break;case 17:e[_0x27ab("0x44f")]=x.string();break;case 18:e.o1=x[_0x27ab("0x454")]();break;case 19:e[_0x27ab("0x450")]=x.string();break;case 20:e.o2=x[_0x27ab("0x454")]();break;case 21:e.t1=x[_0x27ab("0x60")]();break;default:x[_0x27ab("0x46b")](7&t)}}return e},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){if((void 0===x?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x)return _0x27ab("0x46c");if(null!=x.v&&x[_0x27ab("0xc")]("v")&&!o[_0x27ab("0x46d")](x.v))return _0x27ab("0x53b");if(null!=x[_0x27ab("0x52a")]&&x[_0x27ab("0xc")](_0x27ab("0x52a"))&&!o[_0x27ab("0x46d")](x.mtime))return _0x27ab("0x53c");if(null!=x.Hash&&x.hasOwnProperty(_0x27ab("0x456"))&&!o.isString(x.Hash))return _0x27ab("0x53e");if(null!=x[_0x27ab("0xcc4")]&&x[_0x27ab("0xc")](_0x27ab("0xcc4"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0xcc4")]))return _0x27ab("0xd0a");if(null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")]("_id")&&!o.isInteger(x[_0x27ab("0x43d")]))return _0x27ab("0x470");if(null!=x[_0x27ab("0x457")]&&x.hasOwnProperty(_0x27ab("0x457"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x457")]))return _0x27ab("0x471");if(null!=x.x&&x.hasOwnProperty("x")&&typeof x.x!==_0x27ab("0x148"))return _0x27ab("0xd0b");if(null!=x.y&&x[_0x27ab("0xc")]("y")&&"number"!=typeof x.y)return"y: number expected";if(null!=x.z&&x[_0x27ab("0xc")]("z")&&"number"!=typeof x.z)return _0x27ab("0xd0c");if(null!=x.minX&&x[_0x27ab("0xc")](_0x27ab("0x446"))&&typeof x[_0x27ab("0x446")]!==_0x27ab("0x148"))return"minX: number expected";if(null!=x.minY&&x[_0x27ab("0xc")](_0x27ab("0x447"))&&typeof x.minY!==_0x27ab("0x148"))return _0x27ab("0xd0d");if(null!=x[_0x27ab("0x448")]&&x.hasOwnProperty(_0x27ab("0x448"))&&typeof x.maxX!==_0x27ab("0x148"))return _0x27ab("0xd0e");if(null!=x[_0x27ab("0x449")]&&x[_0x27ab("0xc")]("maxY")&&typeof x[_0x27ab("0x449")]!==_0x27ab("0x148"))return _0x27ab("0x47b");if(null!=x[_0x27ab("0x7e")]&&x.hasOwnProperty(_0x27ab("0x7e"))&&!o[_0x27ab("0x1dc")](x.token))return _0x27ab("0x487");if(null!=x[_0x27ab("0x498")]&&x[_0x27ab("0xc")](_0x27ab("0x498"))){if(!o.isObject(x.Rooms))return _0x27ab("0x4af");for(var a=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x498")]),b=0;b<a[_0x27ab("0x0")];++b){if(!o[_0x27ab("0x4b0")][_0x27ab("0x3b8")](a[b]))return _0x27ab("0xd0f");if(t=c[_0x27ab("0x9ae")][_0x27ab("0x4a7")][_0x27ab("0x483")](x.Rooms[a[b]]))return _0x27ab("0x4b1")+t}}if(null!=x[_0x27ab("0x17b")]&&x[_0x27ab("0xc")](_0x27ab("0x17b"))){if(!o.isObject(x[_0x27ab("0x17b")]))return _0x27ab("0xd10");for(a=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x17b")]),b=0;b<a.length;++b){if(!o[_0x27ab("0x4b0")].test(a[b]))return"Labels: integer key{k:int32} expected";var t;if(t=c[_0x27ab("0x9ae")][_0x27ab("0x4a4")][_0x27ab("0x483")](x[_0x27ab("0x17b")][a[b]]))return _0x27ab("0xd11")+t}}return null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x44f")])?_0x27ab("0x4ba"):null!=x.o1&&x[_0x27ab("0xc")]("o1")&&!o.isInteger(x.o1)?_0x27ab("0x489"):null!=x.other2&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x450")])?"other2: string expected":null!=x.o2&&x[_0x27ab("0xc")]("o2")&&!o[_0x27ab("0x46d")](x.o2)?"o2: integer expected":null!=x.t1&&x[_0x27ab("0xc")]("t1")&&!o[_0x27ab("0x1dc")](x.t1)?_0x27ab("0x48d"):null},x.fromObject=function(x){if(x instanceof c[_0x27ab("0x9ae")][_0x27ab("0xcc3")])return x;var a=new(c.ESTileMap[_0x27ab("0xcc3")]);if(null!=x.v&&(a.v=0|x.v),null!=x.mtime&&(a.mtime=0|x[_0x27ab("0x52a")]),null!=x.Hash&&(a.Hash=String(x[_0x27ab("0x456")])),null!=x[_0x27ab("0xcc4")]&&(a[_0x27ab("0xcc4")]=String(x[_0x27ab("0xcc4")])),null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x.Type&&(a.Type=0|x[_0x27ab("0x457")]),null!=x.x&&(a.x=Number(x.x)),null!=x.y&&(a.y=Number(x.y)),null!=x.z&&(a.z=Number(x.z)),null!=x.minX&&(a.minX=Number(x[_0x27ab("0x446")])),null!=x.minY&&(a[_0x27ab("0x447")]=Number(x[_0x27ab("0x447")])),null!=x[_0x27ab("0x448")]&&(a[_0x27ab("0x448")]=Number(x[_0x27ab("0x448")])),null!=x[_0x27ab("0x449")]&&(a[_0x27ab("0x449")]=Number(x[_0x27ab("0x449")])),null!=x[_0x27ab("0x7e")]&&(a[_0x27ab("0x7e")]=String(x[_0x27ab("0x7e")])),x[_0x27ab("0x498")]){if("object"!==(0,_.default)(x[_0x27ab("0x498")]))throw TypeError(_0x27ab("0xd12"));a[_0x27ab("0x498")]={};for(var b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x498")]),t=0;t<b[_0x27ab("0x0")];++t){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x498")][b[t]])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0xd12"));a[_0x27ab("0x498")][b[t]]=c[_0x27ab("0x9ae")][_0x27ab("0x4a7")][_0x27ab("0x490")](x[_0x27ab("0x498")][b[t]])}}if(x[_0x27ab("0x17b")]){if((0,_.default)(x[_0x27ab("0x17b")])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0xd13"));for(a.Labels={},b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x17b")]),t=0;t<b[_0x27ab("0x0")];++t){if("object"!==(0,_[_0x27ab("0xb")])(x[_0x27ab("0x17b")][b[t]]))throw TypeError(".ESTileMap.ESTileMapSet.Labels: object expected");a[_0x27ab("0x17b")][b[t]]=c.ESTileMap[_0x27ab("0x4a4")][_0x27ab("0x490")](x.Labels[b[t]])}}return null!=x[_0x27ab("0x44f")]&&(a[_0x27ab("0x44f")]=String(x.other1)),null!=x.o1&&(a.o1=0|x.o1),null!=x[_0x27ab("0x450")]&&(a[_0x27ab("0x450")]=String(x[_0x27ab("0x450")])),null!=x.o2&&(a.o2=0|x.o2),null!=x.t1&&(a.t1=String(x.t1)),a},x.from=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b,_={};if((a.objects||a[_0x27ab("0x4bf")])&&(_.Rooms={},_.Labels={}),a[_0x27ab("0x4bf")]&&(_.v=0,_[_0x27ab("0x52a")]=0,_[_0x27ab("0x456")]="",_[_0x27ab("0xcc4")]="",_[_0x27ab("0x43d")]=0,_[_0x27ab("0x457")]=0,_.x=0,_.y=0,_.z=0,_[_0x27ab("0x446")]=0,_[_0x27ab("0x447")]=0,_[_0x27ab("0x448")]=0,_[_0x27ab("0x449")]=0,_.token="",_[_0x27ab("0x44f")]="",_.o1=0,_[_0x27ab("0x450")]="",_.o2=0,_.t1=""),null!=x.v&&x[_0x27ab("0xc")]("v")&&(_.v=x.v),null!=x[_0x27ab("0x52a")]&&x[_0x27ab("0xc")]("mtime")&&(_[_0x27ab("0x52a")]=x.mtime),null!=x[_0x27ab("0x456")]&&x[_0x27ab("0xc")](_0x27ab("0x456"))&&(_[_0x27ab("0x456")]=x[_0x27ab("0x456")]),null!=x.cname&&x[_0x27ab("0xc")]("cname")&&(_.cname=x[_0x27ab("0xcc4")]),null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(_[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x457")]&&x[_0x27ab("0xc")]("Type")&&(_[_0x27ab("0x457")]=x[_0x27ab("0x457")]),null!=x.x&&x[_0x27ab("0xc")]("x")&&(_.x=x.x),null!=x.y&&x[_0x27ab("0xc")]("y")&&(_.y=x.y),null!=x.z&&x[_0x27ab("0xc")]("z")&&(_.z=x.z),null!=x[_0x27ab("0x446")]&&x[_0x27ab("0xc")](_0x27ab("0x446"))&&(_[_0x27ab("0x446")]=x[_0x27ab("0x446")]),null!=x[_0x27ab("0x447")]&&x.hasOwnProperty(_0x27ab("0x447"))&&(_.minY=x[_0x27ab("0x447")]),null!=x[_0x27ab("0x448")]&&x.hasOwnProperty(_0x27ab("0x448"))&&(_.maxX=x[_0x27ab("0x448")]),null!=x[_0x27ab("0x449")]&&x.hasOwnProperty(_0x27ab("0x449"))&&(_[_0x27ab("0x449")]=x.maxY),null!=x[_0x27ab("0x7e")]&&x[_0x27ab("0xc")](_0x27ab("0x7e"))&&(_.token=x[_0x27ab("0x7e")]),x[_0x27ab("0x498")]&&(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x498")]))[_0x27ab("0x0")]){_[_0x27ab("0x498")]={};for(var t=0;t<b.length;++t)_[_0x27ab("0x498")][b[t]]=c[_0x27ab("0x9ae")][_0x27ab("0x4a7")][_0x27ab("0x495")](x[_0x27ab("0x498")][b[t]],a)}if(x[_0x27ab("0x17b")]&&(b=(0,e[_0x27ab("0xb")])(x.Labels))[_0x27ab("0x0")])for(_.Labels={},t=0;t<b.length;++t)_[_0x27ab("0x17b")][b[t]]=c[_0x27ab("0x9ae")].POISet[_0x27ab("0x495")](x[_0x27ab("0x17b")][b[t]],a);return null!=x[_0x27ab("0x44f")]&&x.hasOwnProperty(_0x27ab("0x44f"))&&(_.other1=x[_0x27ab("0x44f")]),null!=x.o1&&x[_0x27ab("0xc")]("o1")&&(_.o1=x.o1),null!=x[_0x27ab("0x450")]&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&(_[_0x27ab("0x450")]=x.other2),null!=x.o2&&x[_0x27ab("0xc")]("o2")&&(_.o2=x.o2),null!=x.t1&&x[_0x27ab("0xc")]("t1")&&(_.t1=x.t1),_},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")].toObject(this,x)},x.prototype[_0x27ab("0x497")]=function(){return this.constructor.toObject(this,n[_0x27ab("0x439")][_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x4a7")]=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x.prototype._id=0,x[_0x27ab("0x2")].NA="",x.prototype.NE="",x[_0x27ab("0x2")].MC=0,x[_0x27ab("0x2")][_0x27ab("0x4c1")]=0,x[_0x27ab("0x2")].RL="",x[_0x27ab("0x2")][_0x27ab("0x4c2")]="",x[_0x27ab("0x2")].BC=0,x[_0x27ab("0x2")][_0x27ab("0xcdb")]=0,x[_0x27ab("0x2")].FH=0,x[_0x27ab("0x2")].RM="",x[_0x27ab("0x2")][_0x27ab("0x4c3")]="",x[_0x27ab("0x2")][_0x27ab("0x4c7")]="",x[_0x27ab("0x2")][_0x27ab("0x4c4")]="",x[_0x27ab("0x2")].RS=0,x[_0x27ab("0x2")].SL=0,x.prototype[_0x27ab("0x4c5")]=0,x[_0x27ab("0x2")][_0x27ab("0x4c8")]=0,x[_0x27ab("0x2")].AS=0,x[_0x27ab("0x2")][_0x27ab("0x49c")]="",x[_0x27ab("0x2")][_0x27ab("0xd14")]=0,x[_0x27ab("0x2")].GID=0,x[_0x27ab("0x2")][_0x27ab("0x5de")]="",x.prototype[_0x27ab("0xcd9")]=0,x[_0x27ab("0x2")][_0x27ab("0xd15")]=0,x[_0x27ab("0x2")][_0x27ab("0xcda")]=0,x[_0x27ab("0x2")][_0x27ab("0xd16")]=0,x[_0x27ab("0x2")][_0x27ab("0xd17")]="",x[_0x27ab("0x2")][_0x27ab("0xd18")]="",x[_0x27ab("0x2")].bidpids="",x.prototype[_0x27ab("0xd19")]=0,x[_0x27ab("0x2")][_0x27ab("0xcdd")]="",x[_0x27ab("0x2")].o1=0,x[_0x27ab("0x2")][_0x27ab("0x44f")]="",x[_0x27ab("0x451")]=function(a){return new x(a)},x.encode=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty(_0x27ab("0x43d"))&&a[_0x27ab("0x453")](8).int32(x._id),null!=x.NA&&x[_0x27ab("0xc")]("NA")&&a[_0x27ab("0x453")](18)[_0x27ab("0x60")](x.NA),null!=x.NE&&x.hasOwnProperty("NE")&&a[_0x27ab("0x453")](26)[_0x27ab("0x60")](x.NE),null!=x.MC&&x[_0x27ab("0xc")]("MC")&&a.uint32(32)[_0x27ab("0x454")](x.MC),null!=x[_0x27ab("0x4c1")]&&x.hasOwnProperty(_0x27ab("0x4c1"))&&a.uint32(40).int32(x[_0x27ab("0x4c1")]),null!=x.RL&&x[_0x27ab("0xc")]("RL")&&a[_0x27ab("0x453")](50)[_0x27ab("0x60")](x.RL),null!=x[_0x27ab("0x4c2")]&&x[_0x27ab("0xc")](_0x27ab("0x4c2"))&&a[_0x27ab("0x453")](58).string(x[_0x27ab("0x4c2")]),null!=x.BC&&x[_0x27ab("0xc")]("BC")&&a[_0x27ab("0x453")](64)[_0x27ab("0x454")](x.BC),null!=x[_0x27ab("0xcdb")]&&x.hasOwnProperty(_0x27ab("0xcdb"))&&a[_0x27ab("0x453")](72).int32(x.Fnum),null!=x.FH&&x[_0x27ab("0xc")]("FH")&&a[_0x27ab("0x453")](81)[_0x27ab("0x45c")](x.FH),null!=x.RM&&x[_0x27ab("0xc")]("RM")&&a[_0x27ab("0x453")](90).string(x.RM),null!=x.RMS&&x[_0x27ab("0xc")](_0x27ab("0x4c3"))&&a[_0x27ab("0x453")](98)[_0x27ab("0x60")](x[_0x27ab("0x4c3")]),null!=x[_0x27ab("0x4c7")]&&x[_0x27ab("0xc")](_0x27ab("0x4c7"))&&a[_0x27ab("0x453")](106).string(x.RMR),null!=x[_0x27ab("0x4c4")]&&x[_0x27ab("0xc")](_0x27ab("0x4c4"))&&a[_0x27ab("0x453")](114)[_0x27ab("0x60")](x.RMO),null!=x.RS&&x[_0x27ab("0xc")]("RS")&&a[_0x27ab("0x453")](120)[_0x27ab("0x454")](x.RS),null!=x.SL&&x[_0x27ab("0xc")]("SL")&&a.uint32(128)[_0x27ab("0x454")](x.SL),null!=x[_0x27ab("0x4c5")]&&x[_0x27ab("0xc")]("CenX")&&a[_0x27ab("0x453")](137)[_0x27ab("0x45c")](x.CenX),null!=x[_0x27ab("0x4c8")]&&x.hasOwnProperty("CenY")&&a[_0x27ab("0x453")](145).double(x[_0x27ab("0x4c8")]),null!=x.AS&&x[_0x27ab("0xc")]("AS")&&a[_0x27ab("0x453")](153)[_0x27ab("0x45c")](x.AS),null!=x[_0x27ab("0x49c")]&&x[_0x27ab("0xc")]("Outline")&&a.uint32(162)[_0x27ab("0x60")](x[_0x27ab("0x49c")]),null!=x[_0x27ab("0xd14")]&&x.hasOwnProperty("PID")&&a[_0x27ab("0x453")](168)[_0x27ab("0x454")](x[_0x27ab("0xd14")]),null!=x[_0x27ab("0xcdc")]&&x[_0x27ab("0xc")](_0x27ab("0xcdc"))&&a.uint32(176)[_0x27ab("0x454")](x[_0x27ab("0xcdc")]),null!=x.bids&&x[_0x27ab("0xc")](_0x27ab("0x5de"))&&a[_0x27ab("0x453")](186).string(x[_0x27ab("0x5de")]),null!=x[_0x27ab("0xcd9")]&&x[_0x27ab("0xc")]("bidox")&&a.uint32(193)[_0x27ab("0x45c")](x[_0x27ab("0xcd9")]),null!=x[_0x27ab("0xd15")]&&x.hasOwnProperty("bidoy")&&a[_0x27ab("0x453")](201)[_0x27ab("0x45c")](x[_0x27ab("0xd15")]),null!=x[_0x27ab("0xcda")]&&x[_0x27ab("0xc")](_0x27ab("0xcda"))&&a[_0x27ab("0x453")](209).double(x[_0x27ab("0xcda")]),null!=x[_0x27ab("0xd16")]&&x.hasOwnProperty(_0x27ab("0xd16"))&&a[_0x27ab("0x453")](217)[_0x27ab("0x45c")](x[_0x27ab("0xd16")]),null!=x[_0x27ab("0xd17")]&&x[_0x27ab("0xc")]("bidstyle")&&a[_0x27ab("0x453")](226).string(x[_0x27ab("0xd17")]),null!=x[_0x27ab("0xd18")]&&x[_0x27ab("0xc")](_0x27ab("0xd18"))&&a[_0x27ab("0x453")](234)[_0x27ab("0x60")](x.bidrids),null!=x.bidpids&&x[_0x27ab("0xc")](_0x27ab("0xd1a"))&&a[_0x27ab("0x453")](242)[_0x27ab("0x60")](x[_0x27ab("0xd1a")]),null!=x[_0x27ab("0xd19")]&&x[_0x27ab("0xc")](_0x27ab("0xd19"))&&a[_0x27ab("0x453")](248).int32(x[_0x27ab("0xd19")]),null!=x.Did&&x.hasOwnProperty(_0x27ab("0xcdd"))&&a.uint32(258)[_0x27ab("0x60")](x[_0x27ab("0xcdd")]),null!=x.o1&&x[_0x27ab("0xc")]("o1")&&a[_0x27ab("0x453")](264)[_0x27ab("0x454")](x.o1),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")]("other1")&&a[_0x27ab("0x453")](274).string(x[_0x27ab("0x44f")]),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a).ldelim()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,_=new(c[_0x27ab("0x9ae")][_0x27ab("0x4a7")]);x[_0x27ab("0x3e4")]<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_[_0x27ab("0x43d")]=x[_0x27ab("0x454")]();break;case 2:_.NA=x[_0x27ab("0x60")]();break;case 3:_.NE=x[_0x27ab("0x60")]();break;case 4:_.MC=x[_0x27ab("0x454")]();break;case 5:_[_0x27ab("0x4c1")]=x[_0x27ab("0x454")]();break;case 6:_.RL=x[_0x27ab("0x60")]();break;case 7:_[_0x27ab("0x4c2")]=x.string();break;case 8:_.BC=x[_0x27ab("0x454")]();break;case 9:_.Fnum=x[_0x27ab("0x454")]();break;case 10:_.FH=x.double();break;case 11:_.RM=x[_0x27ab("0x60")]();break;case 12:_[_0x27ab("0x4c3")]=x[_0x27ab("0x60")]();break;case 13:_[_0x27ab("0x4c7")]=x[_0x27ab("0x60")]();break;case 14:_.RMO=x[_0x27ab("0x60")]();break;case 15:_.RS=x[_0x27ab("0x454")]();break;case 16:_.SL=x[_0x27ab("0x454")]();break;case 17:_[_0x27ab("0x4c5")]=x[_0x27ab("0x45c")]();break;case 18:_.CenY=x[_0x27ab("0x45c")]();break;case 19:_.AS=x[_0x27ab("0x45c")]();break;case 20:_[_0x27ab("0x49c")]=x[_0x27ab("0x60")]();break;case 21:_[_0x27ab("0xd14")]=x[_0x27ab("0x454")]();break;case 22:_[_0x27ab("0xcdc")]=x[_0x27ab("0x454")]();break;case 23:_.bids=x[_0x27ab("0x60")]();break;case 24:_[_0x27ab("0xcd9")]=x[_0x27ab("0x45c")]();break;case 25:_[_0x27ab("0xd15")]=x.double();break;case 26:_.bidoz=x[_0x27ab("0x45c")]();break;case 27:_[_0x27ab("0xd16")]=x.double();break;case 28:_[_0x27ab("0xd17")]=x[_0x27ab("0x60")]();break;case 29:_[_0x27ab("0xd18")]=x.string();break;case 30:_[_0x27ab("0xd1a")]=x[_0x27ab("0x60")]();break;case 31:_[_0x27ab("0xd19")]=x.int32();break;case 32:_.Did=x.string();break;case 33:_.o1=x.int32();break;case 34:_[_0x27ab("0x44f")]=x.string();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x27ab("0x453")]())},x.verify=function(x){return(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?_0x27ab("0x46c"):null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")])?_0x27ab("0x470"):null!=x.NA&&x.hasOwnProperty("NA")&&!o.isString(x.NA)?"NA: string expected":null!=x.NE&&x[_0x27ab("0xc")]("NE")&&!o.isString(x.NE)?_0x27ab("0xd1b"):null!=x.MC&&x[_0x27ab("0xc")]("MC")&&!o.isInteger(x.MC)?_0x27ab("0xd1c"):null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")](_0x27ab("0x4c1"))&&!o.isInteger(x.Tid)?_0x27ab("0x4cb"):null!=x.RL&&x[_0x27ab("0xc")]("RL")&&!o[_0x27ab("0x1dc")](x.RL)?_0x27ab("0xd1d"):null!=x[_0x27ab("0x4c2")]&&x.hasOwnProperty("RLSize")&&!o.isString(x[_0x27ab("0x4c2")])?_0x27ab("0x4cc"):null!=x.BC&&x[_0x27ab("0xc")]("BC")&&!o[_0x27ab("0x46d")](x.BC)?"BC: integer expected":null!=x[_0x27ab("0xcdb")]&&x[_0x27ab("0xc")](_0x27ab("0xcdb"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0xcdb")])?_0x27ab("0xd1e"):null!=x.FH&&x.hasOwnProperty("FH")&&typeof x.FH!==_0x27ab("0x148")?_0x27ab("0xd1f"):null!=x.RM&&x[_0x27ab("0xc")]("RM")&&!o.isString(x.RM)?"RM: string expected":null!=x[_0x27ab("0x4c3")]&&x.hasOwnProperty(_0x27ab("0x4c3"))&&!o[_0x27ab("0x1dc")](x.RMS)?_0x27ab("0x4d0"):null!=x.RMR&&x[_0x27ab("0xc")](_0x27ab("0x4c7"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x4c7")])?_0x27ab("0x4d1"):null!=x[_0x27ab("0x4c4")]&&x[_0x27ab("0xc")](_0x27ab("0x4c4"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x4c4")])?"RMO: string expected":null!=x.RS&&x[_0x27ab("0xc")]("RS")&&!o[_0x27ab("0x46d")](x.RS)?_0x27ab("0x4d2"):null!=x.SL&&x[_0x27ab("0xc")]("SL")&&!o.isInteger(x.SL)?_0x27ab("0xd20"):null!=x[_0x27ab("0x4c5")]&&x.hasOwnProperty(_0x27ab("0x4c5"))&&typeof x[_0x27ab("0x4c5")]!==_0x27ab("0x148")?_0x27ab("0xd21"):null!=x[_0x27ab("0x4c8")]&&x.hasOwnProperty(_0x27ab("0x4c8"))&&typeof x[_0x27ab("0x4c8")]!==_0x27ab("0x148")?_0x27ab("0x4d3"):null!=x.AS&&x[_0x27ab("0xc")]("AS")&&typeof x.AS!==_0x27ab("0x148")?_0x27ab("0x4ab"):null!=x[_0x27ab("0x49c")]&&x.hasOwnProperty(_0x27ab("0x49c"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x49c")])?_0x27ab("0x4ad"):null!=x[_0x27ab("0xd14")]&&x.hasOwnProperty(_0x27ab("0xd14"))&&!o[_0x27ab("0x46d")](x.PID)?_0x27ab("0xd22"):null!=x.GID&&x[_0x27ab("0xc")](_0x27ab("0xcdc"))&&!o.isInteger(x.GID)?_0x27ab("0xd23"):null!=x[_0x27ab("0x5de")]&&x[_0x27ab("0xc")]("bids")&&!o[_0x27ab("0x1dc")](x.bids)?"bids: string expected":null!=x[_0x27ab("0xcd9")]&&x[_0x27ab("0xc")](_0x27ab("0xcd9"))&&typeof x[_0x27ab("0xcd9")]!==_0x27ab("0x148")?"bidox: number expected":null!=x.bidoy&&x[_0x27ab("0xc")](_0x27ab("0xd15"))&&typeof x[_0x27ab("0xd15")]!==_0x27ab("0x148")?"bidoy: number expected":null!=x.bidoz&&x.hasOwnProperty("bidoz")&&typeof x[_0x27ab("0xcda")]!==_0x27ab("0x148")?"bidoz: number expected":null!=x.bidor&&x.hasOwnProperty(_0x27ab("0xd16"))&&typeof x[_0x27ab("0xd16")]!==_0x27ab("0x148")?_0x27ab("0xd24"):null!=x[_0x27ab("0xd17")]&&x[_0x27ab("0xc")](_0x27ab("0xd17"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0xd17")])?"bidstyle: string expected":null!=x[_0x27ab("0xd18")]&&x.hasOwnProperty(_0x27ab("0xd18"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0xd18")])?"bidrids: string expected":null!=x[_0x27ab("0xd1a")]&&x[_0x27ab("0xc")](_0x27ab("0xd1a"))&&!o.isString(x[_0x27ab("0xd1a")])?_0x27ab("0xd25"):null!=x[_0x27ab("0xd19")]&&x.hasOwnProperty(_0x27ab("0xd19"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0xd19")])?"layer: integer expected":null!=x[_0x27ab("0xcdd")]&&x[_0x27ab("0xc")]("Did")&&!o.isString(x[_0x27ab("0xcdd")])?_0x27ab("0xd26"):null!=x.o1&&x[_0x27ab("0xc")]("o1")&&!o[_0x27ab("0x46d")](x.o1)?_0x27ab("0x489"):null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x44f")])?_0x27ab("0x4ba"):null},x[_0x27ab("0x490")]=function(x){if(x instanceof c.ESTileMap.RoomSet)return x;var a=new(c[_0x27ab("0x9ae")][_0x27ab("0x4a7")]);return null!=x[_0x27ab("0x43d")]&&(a._id=0|x[_0x27ab("0x43d")]),null!=x.NA&&(a.NA=String(x.NA)),null!=x.NE&&(a.NE=String(x.NE)),null!=x.MC&&(a.MC=0|x.MC),null!=x[_0x27ab("0x4c1")]&&(a.Tid=0|x[_0x27ab("0x4c1")]),null!=x.RL&&(a.RL=String(x.RL)),null!=x[_0x27ab("0x4c2")]&&(a[_0x27ab("0x4c2")]=String(x[_0x27ab("0x4c2")])),null!=x.BC&&(a.BC=0|x.BC),null!=x[_0x27ab("0xcdb")]&&(a[_0x27ab("0xcdb")]=0|x[_0x27ab("0xcdb")]),null!=x.FH&&(a.FH=Number(x.FH)),null!=x.RM&&(a.RM=String(x.RM)),null!=x[_0x27ab("0x4c3")]&&(a[_0x27ab("0x4c3")]=String(x[_0x27ab("0x4c3")])),null!=x[_0x27ab("0x4c7")]&&(a.RMR=String(x[_0x27ab("0x4c7")])),null!=x[_0x27ab("0x4c4")]&&(a.RMO=String(x[_0x27ab("0x4c4")])),null!=x.RS&&(a.RS=0|x.RS),null!=x.SL&&(a.SL=0|x.SL),null!=x[_0x27ab("0x4c5")]&&(a[_0x27ab("0x4c5")]=Number(x[_0x27ab("0x4c5")])),null!=x[_0x27ab("0x4c8")]&&(a[_0x27ab("0x4c8")]=Number(x[_0x27ab("0x4c8")])),null!=x.AS&&(a.AS=Number(x.AS)),null!=x[_0x27ab("0x49c")]&&(a[_0x27ab("0x49c")]=String(x[_0x27ab("0x49c")])),null!=x.PID&&(a[_0x27ab("0xd14")]=0|x[_0x27ab("0xd14")]),null!=x.GID&&(a[_0x27ab("0xcdc")]=0|x[_0x27ab("0xcdc")]),null!=x[_0x27ab("0x5de")]&&(a.bids=String(x[_0x27ab("0x5de")])),null!=x[_0x27ab("0xcd9")]&&(a[_0x27ab("0xcd9")]=Number(x[_0x27ab("0xcd9")])),null!=x[_0x27ab("0xd15")]&&(a[_0x27ab("0xd15")]=Number(x[_0x27ab("0xd15")])),null!=x[_0x27ab("0xcda")]&&(a[_0x27ab("0xcda")]=Number(x[_0x27ab("0xcda")])),null!=x.bidor&&(a[_0x27ab("0xd16")]=Number(x[_0x27ab("0xd16")])),null!=x[_0x27ab("0xd17")]&&(a[_0x27ab("0xd17")]=String(x.bidstyle)),null!=x[_0x27ab("0xd18")]&&(a[_0x27ab("0xd18")]=String(x[_0x27ab("0xd18")])),null!=x.bidpids&&(a[_0x27ab("0xd1a")]=String(x[_0x27ab("0xd1a")])),null!=x[_0x27ab("0xd19")]&&(a[_0x27ab("0xd19")]=0|x[_0x27ab("0xd19")]),null!=x[_0x27ab("0xcdd")]&&(a[_0x27ab("0xcdd")]=String(x[_0x27ab("0xcdd")])),null!=x.o1&&(a.o1=0|x.o1),null!=x.other1&&(a[_0x27ab("0x44f")]=String(x.other1)),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b[_0x27ab("0x43d")]=0,b.NA="",b.NE="",b.MC=0,b[_0x27ab("0x4c1")]=0,b.RL="",b[_0x27ab("0x4c2")]="",b.BC=0,b[_0x27ab("0xcdb")]=0,b.FH=0,b.RM="",b[_0x27ab("0x4c3")]="",b[_0x27ab("0x4c7")]="",b[_0x27ab("0x4c4")]="",b.RS=0,b.SL=0,b.CenX=0,b[_0x27ab("0x4c8")]=0,b.AS=0,b.Outline="",b[_0x27ab("0xd14")]=0,b[_0x27ab("0xcdc")]=0,b[_0x27ab("0x5de")]="",b.bidox=0,b[_0x27ab("0xd15")]=0,b[_0x27ab("0xcda")]=0,b[_0x27ab("0xd16")]=0,b[_0x27ab("0xd17")]="",b.bidrids="",b.bidpids="",b[_0x27ab("0xd19")]=0,b.Did="",b.o1=0,b[_0x27ab("0x44f")]=""),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x.NA&&x[_0x27ab("0xc")]("NA")&&(b.NA=x.NA),null!=x.NE&&x[_0x27ab("0xc")]("NE")&&(b.NE=x.NE),null!=x.MC&&x.hasOwnProperty("MC")&&(b.MC=x.MC),null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")](_0x27ab("0x4c1"))&&(b[_0x27ab("0x4c1")]=x[_0x27ab("0x4c1")]),null!=x.RL&&x[_0x27ab("0xc")]("RL")&&(b.RL=x.RL),null!=x[_0x27ab("0x4c2")]&&x[_0x27ab("0xc")](_0x27ab("0x4c2"))&&(b.RLSize=x.RLSize),null!=x.BC&&x[_0x27ab("0xc")]("BC")&&(b.BC=x.BC),null!=x[_0x27ab("0xcdb")]&&x[_0x27ab("0xc")]("Fnum")&&(b[_0x27ab("0xcdb")]=x[_0x27ab("0xcdb")]),null!=x.FH&&x[_0x27ab("0xc")]("FH")&&(b.FH=x.FH),null!=x.RM&&x[_0x27ab("0xc")]("RM")&&(b.RM=x.RM),null!=x[_0x27ab("0x4c3")]&&x.hasOwnProperty(_0x27ab("0x4c3"))&&(b[_0x27ab("0x4c3")]=x[_0x27ab("0x4c3")]),null!=x[_0x27ab("0x4c7")]&&x.hasOwnProperty(_0x27ab("0x4c7"))&&(b[_0x27ab("0x4c7")]=x[_0x27ab("0x4c7")]),null!=x.RMO&&x[_0x27ab("0xc")](_0x27ab("0x4c4"))&&(b[_0x27ab("0x4c4")]=x[_0x27ab("0x4c4")]),null!=x.RS&&x.hasOwnProperty("RS")&&(b.RS=x.RS),null!=x.SL&&x[_0x27ab("0xc")]("SL")&&(b.SL=x.SL),null!=x[_0x27ab("0x4c5")]&&x[_0x27ab("0xc")](_0x27ab("0x4c5"))&&(b[_0x27ab("0x4c5")]=x[_0x27ab("0x4c5")]),null!=x[_0x27ab("0x4c8")]&&x[_0x27ab("0xc")]("CenY")&&(b[_0x27ab("0x4c8")]=x[_0x27ab("0x4c8")]),null!=x.AS&&x[_0x27ab("0xc")]("AS")&&(b.AS=x.AS),null!=x.Outline&&x[_0x27ab("0xc")](_0x27ab("0x49c"))&&(b.Outline=x[_0x27ab("0x49c")]),null!=x[_0x27ab("0xd14")]&&x[_0x27ab("0xc")](_0x27ab("0xd14"))&&(b.PID=x[_0x27ab("0xd14")]),null!=x[_0x27ab("0xcdc")]&&x[_0x27ab("0xc")]("GID")&&(b.GID=x[_0x27ab("0xcdc")]),null!=x[_0x27ab("0x5de")]&&x[_0x27ab("0xc")](_0x27ab("0x5de"))&&(b[_0x27ab("0x5de")]=x[_0x27ab("0x5de")]),null!=x[_0x27ab("0xcd9")]&&x[_0x27ab("0xc")]("bidox")&&(b[_0x27ab("0xcd9")]=x[_0x27ab("0xcd9")]),null!=x.bidoy&&x[_0x27ab("0xc")](_0x27ab("0xd15"))&&(b.bidoy=x.bidoy),null!=x[_0x27ab("0xcda")]&&x.hasOwnProperty(_0x27ab("0xcda"))&&(b[_0x27ab("0xcda")]=x[_0x27ab("0xcda")]),null!=x[_0x27ab("0xd16")]&&x[_0x27ab("0xc")]("bidor")&&(b[_0x27ab("0xd16")]=x[_0x27ab("0xd16")]),null!=x[_0x27ab("0xd17")]&&x[_0x27ab("0xc")]("bidstyle")&&(b.bidstyle=x[_0x27ab("0xd17")]),null!=x[_0x27ab("0xd18")]&&x[_0x27ab("0xc")](_0x27ab("0xd18"))&&(b[_0x27ab("0xd18")]=x[_0x27ab("0xd18")]),null!=x[_0x27ab("0xd1a")]&&x[_0x27ab("0xc")](_0x27ab("0xd1a"))&&(b[_0x27ab("0xd1a")]=x[_0x27ab("0xd1a")]),null!=x[_0x27ab("0xd19")]&&x[_0x27ab("0xc")](_0x27ab("0xd19"))&&(b[_0x27ab("0xd19")]=x[_0x27ab("0xd19")]),null!=x[_0x27ab("0xcdd")]&&x[_0x27ab("0xc")]("Did")&&(b.Did=x.Did),null!=x.o1&&x.hasOwnProperty("o1")&&(b.o1=x.o1),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")]("other1")&&(b[_0x27ab("0x44f")]=x[_0x27ab("0x44f")]),b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x.prototype.toJSON=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n.util[_0x27ab("0x4c0")])},x}(),i[_0x27ab("0x4a4")]=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")][_0x27ab("0x43d")]=0,x.prototype.NA="",x.prototype.NE="",x[_0x27ab("0x2")][_0x27ab("0x4c1")]=0,x[_0x27ab("0x2")].MT=0,x[_0x27ab("0x2")].ST=0,x[_0x27ab("0x2")].X=0,x[_0x27ab("0x2")].Y=0,x[_0x27ab("0x2")].SL=0,x.prototype.SH=0,x.prototype[_0x27ab("0x187")]="",x[_0x27ab("0x2")].w=0,x.prototype.h=0,x[_0x27ab("0x2")].ipos=0,x[_0x27ab("0x2")][_0x27ab("0x4d8")]=0,x[_0x27ab("0x2")].layer=0,x[_0x27ab("0x2")][_0x27ab("0x186")]=0,x[_0x27ab("0x2")][_0x27ab("0x44f")]="",x[_0x27ab("0x451")]=function(a){return new x(a)},x.encode=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x._id),null!=x.NA&&x[_0x27ab("0xc")]("NA")&&a.uint32(18)[_0x27ab("0x60")](x.NA),null!=x.NE&&x[_0x27ab("0xc")]("NE")&&a[_0x27ab("0x453")](26)[_0x27ab("0x60")](x.NE),null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")]("Tid")&&a[_0x27ab("0x453")](32)[_0x27ab("0x454")](x.Tid),null!=x.MT&&x[_0x27ab("0xc")]("MT")&&a[_0x27ab("0x453")](40)[_0x27ab("0x454")](x.MT),null!=x.ST&&x[_0x27ab("0xc")]("ST")&&a.uint32(48).int32(x.ST),null!=x.X&&x[_0x27ab("0xc")]("X")&&a[_0x27ab("0x453")](57)[_0x27ab("0x45c")](x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&a[_0x27ab("0x453")](65)[_0x27ab("0x45c")](x.Y),null!=x.SL&&x[_0x27ab("0xc")]("SL")&&a[_0x27ab("0x453")](72)[_0x27ab("0x454")](x.SL),null!=x.SH&&x[_0x27ab("0xc")]("SH")&&a[_0x27ab("0x453")](85).float(x.SH),null!=x.image&&x[_0x27ab("0xc")](_0x27ab("0x187"))&&a[_0x27ab("0x453")](90)[_0x27ab("0x60")](x[_0x27ab("0x187")]),null!=x.w&&x[_0x27ab("0xc")]("w")&&a[_0x27ab("0x453")](101)[_0x27ab("0x45b")](x.w),null!=x.h&&x[_0x27ab("0xc")]("h")&&a[_0x27ab("0x453")](109).float(x.h),null!=x[_0x27ab("0x182")]&&x[_0x27ab("0xc")](_0x27ab("0x182"))&&a[_0x27ab("0x453")](112)[_0x27ab("0x454")](x[_0x27ab("0x182")]),null!=x.FSId&&x[_0x27ab("0xc")](_0x27ab("0x4d8"))&&a.uint32(120)[_0x27ab("0x454")](x[_0x27ab("0x4d8")]),null!=x[_0x27ab("0xd19")]&&x[_0x27ab("0xc")]("layer")&&a[_0x27ab("0x453")](128)[_0x27ab("0x454")](x[_0x27ab("0xd19")]),null!=x[_0x27ab("0x186")]&&x[_0x27ab("0xc")](_0x27ab("0x186"))&&a[_0x27ab("0x453")](136)[_0x27ab("0x454")](x[_0x27ab("0x186")]),null!=x.other1&&x[_0x27ab("0xc")]("other1")&&a[_0x27ab("0x453")](146)[_0x27ab("0x60")](x[_0x27ab("0x44f")]),a},x.encodeDelimited=function(x,a){return this[_0x27ab("0x452")](x,a)[_0x27ab("0x465")]()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r.create(x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,_=new(c[_0x27ab("0x9ae")].POISet);x.pos<b;){var e=x.uint32();switch(e>>>3){case 1:_._id=x[_0x27ab("0x454")]();break;case 2:_.NA=x[_0x27ab("0x60")]();break;case 3:_.NE=x.string();break;case 4:_[_0x27ab("0x4c1")]=x[_0x27ab("0x454")]();break;case 5:_.MT=x[_0x27ab("0x454")]();break;case 6:_.ST=x[_0x27ab("0x454")]();break;case 7:_.X=x[_0x27ab("0x45c")]();break;case 8:_.Y=x[_0x27ab("0x45c")]();break;case 9:_.SL=x[_0x27ab("0x454")]();break;case 10:_.SH=x.float();break;case 11:_[_0x27ab("0x187")]=x[_0x27ab("0x60")]();break;case 12:_.w=x[_0x27ab("0x45b")]();break;case 13:_.h=x[_0x27ab("0x45b")]();break;case 14:_.ipos=x[_0x27ab("0x454")]();break;case 15:_[_0x27ab("0x4d8")]=x.int32();break;case 16:_[_0x27ab("0xd19")]=x[_0x27ab("0x454")]();break;case 17:_.Sid=x.int32();break;case 18:_[_0x27ab("0x44f")]=x[_0x27ab("0x60")]();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){return(typeof x===_0x27ab("0x8")?"undefined":(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x?_0x27ab("0x46c"):null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty(_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")])?_0x27ab("0x470"):null!=x.NA&&x[_0x27ab("0xc")]("NA")&&!o.isString(x.NA)?_0x27ab("0xd27"):null!=x.NE&&x.hasOwnProperty("NE")&&!o[_0x27ab("0x1dc")](x.NE)?_0x27ab("0xd1b"):null!=x[_0x27ab("0x4c1")]&&x[_0x27ab("0xc")](_0x27ab("0x4c1"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4c1")])?_0x27ab("0x4cb"):null!=x.MT&&x[_0x27ab("0xc")]("MT")&&!o[_0x27ab("0x46d")](x.MT)?"MT: integer expected":null!=x.ST&&x[_0x27ab("0xc")]("ST")&&!o[_0x27ab("0x46d")](x.ST)?_0x27ab("0x4df"):null!=x.X&&x[_0x27ab("0xc")]("X")&&typeof x.X!==_0x27ab("0x148")?_0x27ab("0x4d9"):null!=x.Y&&x.hasOwnProperty("Y")&&typeof x.Y!==_0x27ab("0x148")?"Y: number expected":null!=x.SL&&x[_0x27ab("0xc")]("SL")&&!o.isInteger(x.SL)?_0x27ab("0xd20"):null!=x.SH&&x[_0x27ab("0xc")]("SH")&&"number"!=typeof x.SH?_0x27ab("0x4db"):null!=x[_0x27ab("0x187")]&&x[_0x27ab("0xc")](_0x27ab("0x187"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x187")])?_0x27ab("0x4b8"):null!=x.w&&x[_0x27ab("0xc")]("w")&&typeof x.w!==_0x27ab("0x148")?"w: number expected":null!=x.h&&x.hasOwnProperty("h")&&typeof x.h!==_0x27ab("0x148")?_0x27ab("0xd28"):null!=x[_0x27ab("0x182")]&&x.hasOwnProperty(_0x27ab("0x182"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x182")])?_0x27ab("0xd29"):null!=x[_0x27ab("0x4d8")]&&x[_0x27ab("0xc")](_0x27ab("0x4d8"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4d8")])?_0x27ab("0x4dd"):null!=x[_0x27ab("0xd19")]&&x.hasOwnProperty(_0x27ab("0xd19"))&&!o[_0x27ab("0x46d")](x.layer)?_0x27ab("0xd2a"):null!=x[_0x27ab("0x186")]&&x[_0x27ab("0xc")]("Sid")&&!o[_0x27ab("0x46d")](x[_0x27ab("0x186")])?_0x27ab("0xd2b"):null!=x.other1&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x44f")])?_0x27ab("0x4ba"):null},x[_0x27ab("0x490")]=function(x){if(x instanceof c.ESTileMap[_0x27ab("0x4a4")])return x;var a=new(c[_0x27ab("0x9ae")][_0x27ab("0x4a4")]);return null!=x._id&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x.NA&&(a.NA=String(x.NA)),null!=x.NE&&(a.NE=String(x.NE)),null!=x[_0x27ab("0x4c1")]&&(a[_0x27ab("0x4c1")]=0|x[_0x27ab("0x4c1")]),null!=x.MT&&(a.MT=0|x.MT),null!=x.ST&&(a.ST=0|x.ST),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x.SL&&(a.SL=0|x.SL),null!=x.SH&&(a.SH=Number(x.SH)),null!=x[_0x27ab("0x187")]&&(a.image=String(x[_0x27ab("0x187")])),null!=x.w&&(a.w=Number(x.w)),null!=x.h&&(a.h=Number(x.h)),null!=x[_0x27ab("0x182")]&&(a[_0x27ab("0x182")]=0|x[_0x27ab("0x182")]),null!=x.FSId&&(a.FSId=0|x[_0x27ab("0x4d8")]),null!=x[_0x27ab("0xd19")]&&(a[_0x27ab("0xd19")]=0|x[_0x27ab("0xd19")]),null!=x.Sid&&(a[_0x27ab("0x186")]=0|x[_0x27ab("0x186")]),null!=x.other1&&(a[_0x27ab("0x44f")]=String(x[_0x27ab("0x44f")])),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b[_0x27ab("0x43d")]=0,b.NA="",b.NE="",b.Tid=0,b.MT=0,b.ST=0,b.X=0,b.Y=0,b.SL=0,b.SH=0,b[_0x27ab("0x187")]="",b.w=0,b.h=0,b[_0x27ab("0x182")]=0,b[_0x27ab("0x4d8")]=0,b[_0x27ab("0xd19")]=0,b[_0x27ab("0x186")]=0,b[_0x27ab("0x44f")]=""),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x.NA&&x.hasOwnProperty("NA")&&(b.NA=x.NA),null!=x.NE&&x[_0x27ab("0xc")]("NE")&&(b.NE=x.NE),null!=x[_0x27ab("0x4c1")]&&x.hasOwnProperty(_0x27ab("0x4c1"))&&(b[_0x27ab("0x4c1")]=x[_0x27ab("0x4c1")]),null!=x.MT&&x[_0x27ab("0xc")]("MT")&&(b.MT=x.MT),null!=x.ST&&x[_0x27ab("0xc")]("ST")&&(b.ST=x.ST),null!=x.X&&x.hasOwnProperty("X")&&(b.X=x.X),null!=x.Y&&x.hasOwnProperty("Y")&&(b.Y=x.Y),null!=x.SL&&x[_0x27ab("0xc")]("SL")&&(b.SL=x.SL),null!=x.SH&&x[_0x27ab("0xc")]("SH")&&(b.SH=x.SH),null!=x[_0x27ab("0x187")]&&x[_0x27ab("0xc")]("image")&&(b[_0x27ab("0x187")]=x[_0x27ab("0x187")]),null!=x.w&&x[_0x27ab("0xc")]("w")&&(b.w=x.w),null!=x.h&&x[_0x27ab("0xc")]("h")&&(b.h=x.h),null!=x[_0x27ab("0x182")]&&x.hasOwnProperty("ipos")&&(b[_0x27ab("0x182")]=x.ipos),null!=x.FSId&&x[_0x27ab("0xc")]("FSId")&&(b[_0x27ab("0x4d8")]=x.FSId),null!=x[_0x27ab("0xd19")]&&x[_0x27ab("0xc")](_0x27ab("0xd19"))&&(b[_0x27ab("0xd19")]=x[_0x27ab("0xd19")]),null!=x[_0x27ab("0x186")]&&x[_0x27ab("0xc")]("Sid")&&(b[_0x27ab("0x186")]=x[_0x27ab("0x186")]),null!=x.other1&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&(b.other1=x[_0x27ab("0x44f")]),b},x.prototype.toObject=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n.util[_0x27ab("0x4c0")])},x}(),i[_0x27ab("0xcbe")]=function(){function x(x){if(this.Nodes={},this[_0x27ab("0x4e9")]={},x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")].v=0,x[_0x27ab("0x2")][_0x27ab("0x52a")]=0,x[_0x27ab("0x2")][_0x27ab("0x456")]="",x.prototype.cname="",x[_0x27ab("0x2")][_0x27ab("0x43d")]=0,x[_0x27ab("0x2")][_0x27ab("0x457")]=0,x[_0x27ab("0x2")][_0x27ab("0x4e8")]=o[_0x27ab("0x49e")],x[_0x27ab("0x2")][_0x27ab("0x4e9")]=o[_0x27ab("0x49e")],x[_0x27ab("0x2")][_0x27ab("0x7e")]="",x[_0x27ab("0x2")][_0x27ab("0x44f")]="",x.prototype.o1=0,x.prototype.other2="",x[_0x27ab("0x2")].o2=0,x.prototype.t1="",x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){if(a||(a=s[_0x27ab("0x451")]()),null!=x.v&&x[_0x27ab("0xc")]("v")&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x.v),null!=x.mtime&&x[_0x27ab("0xc")](_0x27ab("0x52a"))&&a.uint32(16)[_0x27ab("0x454")](x[_0x27ab("0x52a")]),null!=x[_0x27ab("0x456")]&&x[_0x27ab("0xc")](_0x27ab("0x456"))&&a[_0x27ab("0x453")](26)[_0x27ab("0x60")](x.Hash),null!=x[_0x27ab("0xcc4")]&&x[_0x27ab("0xc")]("cname")&&a[_0x27ab("0x453")](34)[_0x27ab("0x60")](x[_0x27ab("0xcc4")]),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty(_0x27ab("0x43d"))&&a.uint32(40).int32(x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x457")]&&x[_0x27ab("0xc")]("Type")&&a[_0x27ab("0x453")](48)[_0x27ab("0x454")](x[_0x27ab("0x457")]),null!=x[_0x27ab("0x4e8")]&&x.hasOwnProperty(_0x27ab("0x4e8")))for(var b=(0,e[_0x27ab("0xb")])(x.Nodes),_=0;_<b[_0x27ab("0x0")];++_)a[_0x27ab("0x453")](58)[_0x27ab("0x464")]()[_0x27ab("0x453")](8).int32(b[_]),c[_0x27ab("0x9ae")].NavNodeSet[_0x27ab("0x452")](x[_0x27ab("0x4e8")][b[_]],a[_0x27ab("0x453")](18)[_0x27ab("0x464")]())[_0x27ab("0x465")]().ldelim();if(null!=x[_0x27ab("0x4e9")]&&x[_0x27ab("0xc")](_0x27ab("0x4e9")))for(b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e9")]),_=0;_<b[_0x27ab("0x0")];++_)a.uint32(66).fork().uint32(8)[_0x27ab("0x454")](b[_]),c[_0x27ab("0x9ae")][_0x27ab("0x4eb")][_0x27ab("0x452")](x.Lines[b[_]],a[_0x27ab("0x453")](18).fork())[_0x27ab("0x465")]()[_0x27ab("0x465")]();return null!=x[_0x27ab("0x7e")]&&x.hasOwnProperty("token")&&a[_0x27ab("0x453")](74)[_0x27ab("0x60")](x[_0x27ab("0x7e")]),null!=x.other1&&x.hasOwnProperty(_0x27ab("0x44f"))&&a[_0x27ab("0x453")](82)[_0x27ab("0x60")](x[_0x27ab("0x44f")]),null!=x.o1&&x[_0x27ab("0xc")]("o1")&&a[_0x27ab("0x453")](88)[_0x27ab("0x454")](x.o1),null!=x.other2&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&a.uint32(98).string(x[_0x27ab("0x450")]),null!=x.o2&&x[_0x27ab("0xc")]("o2")&&a[_0x27ab("0x453")](104)[_0x27ab("0x454")](x.o2),null!=x.t1&&x[_0x27ab("0xc")]("t1")&&a[_0x27ab("0x453")](114)[_0x27ab("0x60")](x.t1),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a)[_0x27ab("0x465")]()},x.decode=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b,_=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,e=new(c.ESTileMap[_0x27ab("0xcbe")]);x[_0x27ab("0x3e4")]<_;){var t=x[_0x27ab("0x453")]();switch(t>>>3){case 1:e.v=x[_0x27ab("0x454")]();break;case 2:e[_0x27ab("0x52a")]=x[_0x27ab("0x454")]();break;case 3:e[_0x27ab("0x456")]=x[_0x27ab("0x60")]();break;case 4:e[_0x27ab("0xcc4")]=x[_0x27ab("0x60")]();break;case 5:e._id=x[_0x27ab("0x454")]();break;case 6:e.Type=x.int32();break;case 7:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e[_0x27ab("0x4e8")]===o[_0x27ab("0x49e")]&&(e.Nodes={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e[_0x27ab("0x4e8")][b]=c[_0x27ab("0x9ae")].NavNodeSet[_0x27ab("0x43")](x,x[_0x27ab("0x453")]());break;case 8:x[_0x27ab("0x4a6")]()[_0x27ab("0x3e4")]++,e[_0x27ab("0x4e9")]===o[_0x27ab("0x49e")]&&(e[_0x27ab("0x4e9")]={}),b=x[_0x27ab("0x454")](),x[_0x27ab("0x3e4")]++,e[_0x27ab("0x4e9")][b]=c[_0x27ab("0x9ae")].NavLineSet.decode(x,x[_0x27ab("0x453")]());break;case 9:e.token=x[_0x27ab("0x60")]();break;case 10:e[_0x27ab("0x44f")]=x[_0x27ab("0x60")]();break;case 11:e.o1=x[_0x27ab("0x454")]();break;case 12:e[_0x27ab("0x450")]=x[_0x27ab("0x60")]();break;case 13:e.o2=x[_0x27ab("0x454")]();break;case 14:e.t1=x[_0x27ab("0x60")]();break;default:x[_0x27ab("0x46b")](7&t)}}return e},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){if((void 0===x?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))!==_0x27ab("0x1c")||null===x)return"object expected";if(null!=x.v&&x[_0x27ab("0xc")]("v")&&!o[_0x27ab("0x46d")](x.v))return _0x27ab("0x53b");if(null!=x[_0x27ab("0x52a")]&&x[_0x27ab("0xc")](_0x27ab("0x52a"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x52a")]))return _0x27ab("0x53c");if(null!=x[_0x27ab("0x456")]&&x[_0x27ab("0xc")](_0x27ab("0x456"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x456")]))return"Hash: string expected";if(null!=x[_0x27ab("0xcc4")]&&x[_0x27ab("0xc")](_0x27ab("0xcc4"))&&!o[_0x27ab("0x1dc")](x[_0x27ab("0xcc4")]))return"cname: string expected";if(null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")]))return"_id: integer expected";if(null!=x[_0x27ab("0x457")]&&x.hasOwnProperty(_0x27ab("0x457"))&&!o[_0x27ab("0x46d")](x.Type))return _0x27ab("0x471");if(null!=x[_0x27ab("0x4e8")]&&x[_0x27ab("0xc")](_0x27ab("0x4e8"))){if(!o[_0x27ab("0x15")](x.Nodes))return _0x27ab("0x4ed");for(var a=(0,e[_0x27ab("0xb")])(x.Nodes),b=0;b<a[_0x27ab("0x0")];++b){if(!o[_0x27ab("0x4b0")][_0x27ab("0x3b8")](a[b]))return _0x27ab("0x4ee");if(t=c[_0x27ab("0x9ae")].NavNodeSet[_0x27ab("0x483")](x[_0x27ab("0x4e8")][a[b]]))return"Nodes."+t}}if(null!=x.Lines&&x[_0x27ab("0xc")]("Lines")){if(!o[_0x27ab("0x15")](x[_0x27ab("0x4e9")]))return"Lines: object expected";for(a=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e9")]),b=0;b<a[_0x27ab("0x0")];++b){if(!o[_0x27ab("0x4b0")][_0x27ab("0x3b8")](a[b]))return _0x27ab("0xd2c");var t;if(t=c[_0x27ab("0x9ae")][_0x27ab("0x4eb")][_0x27ab("0x483")](x[_0x27ab("0x4e9")][a[b]]))return"Lines."+t}}return null!=x[_0x27ab("0x7e")]&&x.hasOwnProperty(_0x27ab("0x7e"))&&!o.isString(x[_0x27ab("0x7e")])?_0x27ab("0x487"):null!=x[_0x27ab("0x44f")]&&x.hasOwnProperty("other1")&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x44f")])?"other1: string expected":null!=x.o1&&x.hasOwnProperty("o1")&&!o[_0x27ab("0x46d")](x.o1)?"o1: integer expected":null!=x[_0x27ab("0x450")]&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&!o[_0x27ab("0x1dc")](x.other2)?"other2: string expected":null!=x.o2&&x[_0x27ab("0xc")]("o2")&&!o[_0x27ab("0x46d")](x.o2)?"o2: integer expected":null!=x.t1&&x.hasOwnProperty("t1")&&!o[_0x27ab("0x1dc")](x.t1)?_0x27ab("0x48d"):null},x[_0x27ab("0x490")]=function(x){if(x instanceof c.ESTileMap.ESTileMapNavSet)return x;var a=new(c[_0x27ab("0x9ae")][_0x27ab("0xcbe")]);if(null!=x.v&&(a.v=0|x.v),null!=x[_0x27ab("0x52a")]&&(a[_0x27ab("0x52a")]=0|x[_0x27ab("0x52a")]),null!=x.Hash&&(a.Hash=String(x[_0x27ab("0x456")])),null!=x[_0x27ab("0xcc4")]&&(a[_0x27ab("0xcc4")]=String(x[_0x27ab("0xcc4")])),null!=x._id&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x457")]&&(a[_0x27ab("0x457")]=0|x[_0x27ab("0x457")]),x[_0x27ab("0x4e8")]){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x4e8")])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0xd2d"));a.Nodes={};for(var b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e8")]),t=0;t<b[_0x27ab("0x0")];++t){if("object"!==(0,_.default)(x[_0x27ab("0x4e8")][b[t]]))throw TypeError(".ESTileMap.ESTileMapNavSet.Nodes: object expected");a[_0x27ab("0x4e8")][b[t]]=c.ESTileMap[_0x27ab("0x4ea")][_0x27ab("0x490")](x[_0x27ab("0x4e8")][b[t]])}}if(x[_0x27ab("0x4e9")]){if((0,_[_0x27ab("0xb")])(x.Lines)!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0xd2e"));for(a[_0x27ab("0x4e9")]={},b=(0,e[_0x27ab("0xb")])(x[_0x27ab("0x4e9")]),t=0;t<b[_0x27ab("0x0")];++t){if((0,_[_0x27ab("0xb")])(x[_0x27ab("0x4e9")][b[t]])!==_0x27ab("0x1c"))throw TypeError(_0x27ab("0xd2e"));a[_0x27ab("0x4e9")][b[t]]=c.ESTileMap[_0x27ab("0x4eb")][_0x27ab("0x490")](x[_0x27ab("0x4e9")][b[t]])}}return null!=x[_0x27ab("0x7e")]&&(a[_0x27ab("0x7e")]=String(x.token)),null!=x[_0x27ab("0x44f")]&&(a.other1=String(x[_0x27ab("0x44f")])),null!=x.o1&&(a.o1=0|x.o1),null!=x[_0x27ab("0x450")]&&(a[_0x27ab("0x450")]=String(x[_0x27ab("0x450")])),null!=x.o2&&(a.o2=0|x.o2),null!=x.t1&&(a.t1=String(x.t1)),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b,_={};if((a.objects||a[_0x27ab("0x4bf")])&&(_[_0x27ab("0x4e8")]={},_[_0x27ab("0x4e9")]={}),a.defaults&&(_.v=0,_[_0x27ab("0x52a")]=0,_.Hash="",_[_0x27ab("0xcc4")]="",_[_0x27ab("0x43d")]=0,_.Type=0,_.token="",_.other1="",_.o1=0,_[_0x27ab("0x450")]="",_.o2=0,_.t1=""),null!=x.v&&x.hasOwnProperty("v")&&(_.v=x.v),null!=x[_0x27ab("0x52a")]&&x[_0x27ab("0xc")]("mtime")&&(_[_0x27ab("0x52a")]=x.mtime),null!=x[_0x27ab("0x456")]&&x[_0x27ab("0xc")]("Hash")&&(_[_0x27ab("0x456")]=x.Hash),null!=x[_0x27ab("0xcc4")]&&x[_0x27ab("0xc")](_0x27ab("0xcc4"))&&(_[_0x27ab("0xcc4")]=x[_0x27ab("0xcc4")]),null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(_[_0x27ab("0x43d")]=x._id),null!=x[_0x27ab("0x457")]&&x[_0x27ab("0xc")]("Type")&&(_[_0x27ab("0x457")]=x[_0x27ab("0x457")]),x[_0x27ab("0x4e8")]&&(b=(0,e[_0x27ab("0xb")])(x.Nodes))[_0x27ab("0x0")]){_[_0x27ab("0x4e8")]={};for(var t=0;t<b[_0x27ab("0x0")];++t)_.Nodes[b[t]]=c[_0x27ab("0x9ae")][_0x27ab("0x4ea")][_0x27ab("0x495")](x.Nodes[b[t]],a)}if(x[_0x27ab("0x4e9")]&&(b=(0,e.default)(x[_0x27ab("0x4e9")]))[_0x27ab("0x0")])for(_.Lines={},t=0;t<b[_0x27ab("0x0")];++t)_[_0x27ab("0x4e9")][b[t]]=c[_0x27ab("0x9ae")][_0x27ab("0x4eb")][_0x27ab("0x495")](x[_0x27ab("0x4e9")][b[t]],a);return null!=x.token&&x[_0x27ab("0xc")]("token")&&(_[_0x27ab("0x7e")]=x[_0x27ab("0x7e")]),null!=x[_0x27ab("0x44f")]&&x.hasOwnProperty(_0x27ab("0x44f"))&&(_[_0x27ab("0x44f")]=x[_0x27ab("0x44f")]),null!=x.o1&&x[_0x27ab("0xc")]("o1")&&(_.o1=x.o1),null!=x[_0x27ab("0x450")]&&x[_0x27ab("0xc")](_0x27ab("0x450"))&&(_[_0x27ab("0x450")]=x[_0x27ab("0x450")]),null!=x.o2&&x.hasOwnProperty("o2")&&(_.o2=x.o2),null!=x.t1&&x.hasOwnProperty("t1")&&(_.t1=x.t1),_},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x.prototype[_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n[_0x27ab("0x439")][_0x27ab("0x4c0")])},x}(),i.NavNodeSet=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a[_0x27ab("0x0")];++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x.prototype[_0x27ab("0x43d")]=0,x[_0x27ab("0x2")][_0x27ab("0x96")]=0,x[_0x27ab("0x2")].H=0,x[_0x27ab("0x2")].X=0,x[_0x27ab("0x2")].Y=0,x.prototype[_0x27ab("0x4f4")]=0,x.prototype.gid=0,x.prototype[_0x27ab("0xd19")]=0,x.prototype.other1="",x.prototype.Z=0,x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x._id&&x[_0x27ab("0xc")]("_id")&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x[_0x27ab("0x43d")]),null!=x.tid&&x[_0x27ab("0xc")](_0x27ab("0x96"))&&a.uint32(16)[_0x27ab("0x454")](x.tid),null!=x.H&&x[_0x27ab("0xc")]("H")&&a[_0x27ab("0x453")](25)[_0x27ab("0x45c")](x.H),null!=x.X&&x[_0x27ab("0xc")]("X")&&a[_0x27ab("0x453")](33)[_0x27ab("0x45c")](x.X),null!=x.Y&&x.hasOwnProperty("Y")&&a[_0x27ab("0x453")](41)[_0x27ab("0x45c")](x.Y),null!=x[_0x27ab("0x4f4")]&&x[_0x27ab("0xc")](_0x27ab("0x4f4"))&&a[_0x27ab("0x453")](48)[_0x27ab("0x454")](x[_0x27ab("0x4f4")]),null!=x[_0x27ab("0xc21")]&&x[_0x27ab("0xc")](_0x27ab("0xc21"))&&a[_0x27ab("0x453")](56)[_0x27ab("0x454")](x[_0x27ab("0xc21")]),null!=x[_0x27ab("0xd19")]&&x[_0x27ab("0xc")](_0x27ab("0xd19"))&&a[_0x27ab("0x453")](64)[_0x27ab("0x454")](x[_0x27ab("0xd19")]),null!=x.other1&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&a[_0x27ab("0x453")](74)[_0x27ab("0x60")](x[_0x27ab("0x44f")]),null!=x.Z&&x[_0x27ab("0xc")]("Z")&&a[_0x27ab("0x453")](81)[_0x27ab("0x45c")](x.Z),a},x.encodeDelimited=function(x,a){return this[_0x27ab("0x452")](x,a).ldelim()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x.len:x[_0x27ab("0x3e4")]+a,_=new(c[_0x27ab("0x9ae")][_0x27ab("0x4ea")]);x[_0x27ab("0x3e4")]<b;){var e=x.uint32();switch(e>>>3){case 1:_._id=x[_0x27ab("0x454")]();break;case 2:_[_0x27ab("0x96")]=x[_0x27ab("0x454")]();break;case 3:_.H=x[_0x27ab("0x45c")]();break;case 4:_.X=x[_0x27ab("0x45c")]();break;case 5:_.Y=x.double();break;case 6:_[_0x27ab("0x4f4")]=x[_0x27ab("0x454")]();break;case 7:_[_0x27ab("0xc21")]=x[_0x27ab("0x454")]();break;case 8:_[_0x27ab("0xd19")]=x[_0x27ab("0x454")]();break;case 9:_[_0x27ab("0x44f")]=x.string();break;case 10:_.Z=x[_0x27ab("0x45c")]();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this[_0x27ab("0x43")](x,x[_0x27ab("0x453")]())},x.verify=function(x){return"object"!==(void 0===x?"undefined":(0,_[_0x27ab("0xb")])(x))||null===x?_0x27ab("0x46c"):null!=x._id&&x.hasOwnProperty(_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x43d")])?_0x27ab("0x470"):null!=x.tid&&x[_0x27ab("0xc")](_0x27ab("0x96"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x96")])?_0x27ab("0x4f5"):null!=x.H&&x[_0x27ab("0xc")]("H")&&"number"!=typeof x.H?_0x27ab("0xd2f"):null!=x.X&&x[_0x27ab("0xc")]("X")&&typeof x.X!==_0x27ab("0x148")?_0x27ab("0x4d9"):null!=x.Y&&x[_0x27ab("0xc")]("Y")&&typeof x.Y!==_0x27ab("0x148")?_0x27ab("0x4da"):null!=x.sid&&x.hasOwnProperty(_0x27ab("0x4f4"))&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4f4")])?_0x27ab("0x4f7"):null!=x[_0x27ab("0xc21")]&&x[_0x27ab("0xc")]("gid")&&!o[_0x27ab("0x46d")](x[_0x27ab("0xc21")])?_0x27ab("0xd30"):null!=x.layer&&x[_0x27ab("0xc")](_0x27ab("0xd19"))&&!o.isInteger(x[_0x27ab("0xd19")])?_0x27ab("0xd2a"):null!=x.other1&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&!o.isString(x[_0x27ab("0x44f")])?_0x27ab("0x4ba"):null!=x.Z&&x[_0x27ab("0xc")]("Z")&&"number"!=typeof x.Z?_0x27ab("0x4f8"):null},x[_0x27ab("0x490")]=function(x){if(x instanceof c[_0x27ab("0x9ae")][_0x27ab("0x4ea")])return x;var a=new(c.ESTileMap[_0x27ab("0x4ea")]);return null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x._id),null!=x[_0x27ab("0x96")]&&(a.tid=0|x[_0x27ab("0x96")]),null!=x.H&&(a.H=Number(x.H)),null!=x.X&&(a.X=Number(x.X)),null!=x.Y&&(a.Y=Number(x.Y)),null!=x.sid&&(a[_0x27ab("0x4f4")]=0|x[_0x27ab("0x4f4")]),null!=x.gid&&(a[_0x27ab("0xc21")]=0|x[_0x27ab("0xc21")]),null!=x[_0x27ab("0xd19")]&&(a[_0x27ab("0xd19")]=0|x[_0x27ab("0xd19")]),null!=x.other1&&(a[_0x27ab("0x44f")]=String(x[_0x27ab("0x44f")])),null!=x.Z&&(a.Z=Number(x.Z)),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b[_0x27ab("0x43d")]=0,b.tid=0,b.H=0,b.X=0,b.Y=0,b.sid=0,b[_0x27ab("0xc21")]=0,b.layer=0,b.other1="",b.Z=0),null!=x[_0x27ab("0x43d")]&&x.hasOwnProperty(_0x27ab("0x43d"))&&(b[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x[_0x27ab("0x96")]&&x.hasOwnProperty(_0x27ab("0x96"))&&(b[_0x27ab("0x96")]=x[_0x27ab("0x96")]),null!=x.H&&x[_0x27ab("0xc")]("H")&&(b.H=x.H),null!=x.X&&x[_0x27ab("0xc")]("X")&&(b.X=x.X),null!=x.Y&&x[_0x27ab("0xc")]("Y")&&(b.Y=x.Y),null!=x.sid&&x[_0x27ab("0xc")](_0x27ab("0x4f4"))&&(b[_0x27ab("0x4f4")]=x[_0x27ab("0x4f4")]),null!=x.gid&&x[_0x27ab("0xc")]("gid")&&(b[_0x27ab("0xc21")]=x.gid),null!=x[_0x27ab("0xd19")]&&x.hasOwnProperty(_0x27ab("0xd19"))&&(b[_0x27ab("0xd19")]=x[_0x27ab("0xd19")]),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&(b[_0x27ab("0x44f")]=x[_0x27ab("0x44f")]),null!=x.Z&&x[_0x27ab("0xc")]("Z")&&(b.Z=x.Z),b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,x)},x[_0x27ab("0x2")][_0x27ab("0x497")]=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n[_0x27ab("0x439")].toJSONOptions)},x}(),i[_0x27ab("0x4eb")]=function(){function x(x){if(x)for(var a=(0,e[_0x27ab("0xb")])(x),b=0;b<a.length;++b)null!=x[a[b]]&&(this[a[b]]=x[a[b]])}return x[_0x27ab("0x2")][_0x27ab("0x43d")]=0,x[_0x27ab("0x2")].na="",x[_0x27ab("0x2")][_0x27ab("0x4f4")]=0,x.prototype[_0x27ab("0x4f9")]=0,x[_0x27ab("0x2")][_0x27ab("0x1a9")]="",x[_0x27ab("0x2")][_0x27ab("0x1bd")]=0,x.prototype[_0x27ab("0x63d")]=0,x[_0x27ab("0x2")][_0x27ab("0x8a1")]="",x[_0x27ab("0x2")].bstair=0,x[_0x27ab("0x2")].style=0,x.prototype.layer=0,x[_0x27ab("0x2")][_0x27ab("0x44f")]="",x[_0x27ab("0x451")]=function(a){return new x(a)},x[_0x27ab("0x452")]=function(x,a){return a||(a=s[_0x27ab("0x451")]()),null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&a[_0x27ab("0x453")](8)[_0x27ab("0x454")](x[_0x27ab("0x43d")]),null!=x.na&&x[_0x27ab("0xc")]("na")&&a[_0x27ab("0x453")](18)[_0x27ab("0x60")](x.na),null!=x[_0x27ab("0x4f4")]&&x[_0x27ab("0xc")](_0x27ab("0x4f4"))&&a[_0x27ab("0x453")](24).int32(x[_0x27ab("0x4f4")]),null!=x.eid&&x[_0x27ab("0xc")](_0x27ab("0x4f9"))&&a.uint32(32)[_0x27ab("0x454")](x.eid),null!=x[_0x27ab("0x1a9")]&&x[_0x27ab("0xc")]("outline")&&a[_0x27ab("0x453")](42).string(x[_0x27ab("0x1a9")]),null!=x[_0x27ab("0x1bd")]&&x[_0x27ab("0xc")]("rank")&&a[_0x27ab("0x453")](48)[_0x27ab("0x454")](x[_0x27ab("0x1bd")]),null!=x[_0x27ab("0x63d")]&&x[_0x27ab("0xc")](_0x27ab("0x63d"))&&a[_0x27ab("0x453")](57)[_0x27ab("0x45c")](x[_0x27ab("0x63d")]),null!=x[_0x27ab("0x8a1")]&&x.hasOwnProperty("dir")&&a.uint32(66).string(x[_0x27ab("0x8a1")]),null!=x[_0x27ab("0x4fc")]&&x.hasOwnProperty(_0x27ab("0x4fc"))&&a[_0x27ab("0x453")](72)[_0x27ab("0x454")](x[_0x27ab("0x4fc")]),null!=x[_0x27ab("0xea")]&&x[_0x27ab("0xc")](_0x27ab("0xea"))&&a.uint32(80)[_0x27ab("0x454")](x.style),null!=x[_0x27ab("0xd19")]&&x[_0x27ab("0xc")](_0x27ab("0xd19"))&&a[_0x27ab("0x453")](88).int32(x[_0x27ab("0xd19")]),null!=x.other1&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&a[_0x27ab("0x453")](98)[_0x27ab("0x60")](x[_0x27ab("0x44f")]),a},x[_0x27ab("0x469")]=function(x,a){return this[_0x27ab("0x452")](x,a).ldelim()},x[_0x27ab("0x43")]=function(x,a){x instanceof r||(x=r[_0x27ab("0x451")](x));for(var b=void 0===a?x[_0x27ab("0x46a")]:x[_0x27ab("0x3e4")]+a,_=new(c[_0x27ab("0x9ae")][_0x27ab("0x4eb")]);x.pos<b;){var e=x[_0x27ab("0x453")]();switch(e>>>3){case 1:_._id=x.int32();break;case 2:_.na=x[_0x27ab("0x60")]();break;case 3:_.sid=x[_0x27ab("0x454")]();break;case 4:_[_0x27ab("0x4f9")]=x[_0x27ab("0x454")]();break;case 5:_.outline=x.string();break;case 6:_.rank=x.int32();break;case 7:_[_0x27ab("0x63d")]=x.double();break;case 8:_[_0x27ab("0x8a1")]=x[_0x27ab("0x60")]();break;case 9:_[_0x27ab("0x4fc")]=x[_0x27ab("0x454")]();break;case 10:_.style=x[_0x27ab("0x454")]();break;case 11:_.layer=x[_0x27ab("0x454")]();break;case 12:_[_0x27ab("0x44f")]=x[_0x27ab("0x60")]();break;default:x[_0x27ab("0x46b")](7&e)}}return _},x[_0x27ab("0x4a8")]=function(x){return x instanceof r||(x=r(x)),this.decode(x,x[_0x27ab("0x453")]())},x[_0x27ab("0x483")]=function(x){return"object"!==(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))||null===x?_0x27ab("0x46c"):null!=x[_0x27ab("0x43d")]&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&!o[_0x27ab("0x46d")](x._id)?_0x27ab("0x470"):null!=x.na&&x[_0x27ab("0xc")]("na")&&!o[_0x27ab("0x1dc")](x.na)?"na: string expected":null!=x[_0x27ab("0x4f4")]&&x[_0x27ab("0xc")]("sid")&&!o.isInteger(x.sid)?_0x27ab("0x4f7"):null!=x[_0x27ab("0x4f9")]&&x[_0x27ab("0xc")](_0x27ab("0x4f9"))&&!o.isInteger(x[_0x27ab("0x4f9")])?_0x27ab("0x4fd"):null!=x[_0x27ab("0x1a9")]&&x[_0x27ab("0xc")]("outline")&&!o[_0x27ab("0x1dc")](x[_0x27ab("0x1a9")])?_0x27ab("0xd31"):null!=x[_0x27ab("0x1bd")]&&x.hasOwnProperty(_0x27ab("0x1bd"))&&!o[_0x27ab("0x46d")](x.rank)?_0x27ab("0xd32"):null!=x[_0x27ab("0x63d")]&&x[_0x27ab("0xc")](_0x27ab("0x63d"))&&"number"!=typeof x[_0x27ab("0x63d")]?_0x27ab("0xd33"):null!=x[_0x27ab("0x8a1")]&&x[_0x27ab("0xc")](_0x27ab("0x8a1"))&&!o[_0x27ab("0x1dc")](x.dir)?_0x27ab("0xd34"):null!=x[_0x27ab("0x4fc")]&&x[_0x27ab("0xc")]("bstair")&&!o[_0x27ab("0x46d")](x[_0x27ab("0x4fc")])?"bstair: integer expected":null!=x[_0x27ab("0xea")]&&x[_0x27ab("0xc")](_0x27ab("0xea"))&&!o.isInteger(x[_0x27ab("0xea")])?_0x27ab("0xd35"):null!=x.layer&&x[_0x27ab("0xc")]("layer")&&!o[_0x27ab("0x46d")](x[_0x27ab("0xd19")])?_0x27ab("0xd2a"):null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")](_0x27ab("0x44f"))&&!o.isString(x[_0x27ab("0x44f")])?"other1: string expected":null},x[_0x27ab("0x490")]=function(x){if(x instanceof c[_0x27ab("0x9ae")][_0x27ab("0x4eb")])return x;var a=new(c[_0x27ab("0x9ae")][_0x27ab("0x4eb")]);return null!=x[_0x27ab("0x43d")]&&(a[_0x27ab("0x43d")]=0|x[_0x27ab("0x43d")]),null!=x.na&&(a.na=String(x.na)),null!=x[_0x27ab("0x4f4")]&&(a[_0x27ab("0x4f4")]=0|x[_0x27ab("0x4f4")]),null!=x[_0x27ab("0x4f9")]&&(a[_0x27ab("0x4f9")]=0|x[_0x27ab("0x4f9")]),null!=x[_0x27ab("0x1a9")]&&(a[_0x27ab("0x1a9")]=String(x[_0x27ab("0x1a9")])),null!=x[_0x27ab("0x1bd")]&&(a.rank=0|x[_0x27ab("0x1bd")]),null!=x[_0x27ab("0x63d")]&&(a[_0x27ab("0x63d")]=Number(x[_0x27ab("0x63d")])),null!=x[_0x27ab("0x8a1")]&&(a[_0x27ab("0x8a1")]=String(x[_0x27ab("0x8a1")])),null!=x[_0x27ab("0x4fc")]&&(a[_0x27ab("0x4fc")]=0|x[_0x27ab("0x4fc")]),null!=x[_0x27ab("0xea")]&&(a[_0x27ab("0xea")]=0|x[_0x27ab("0xea")]),null!=x.layer&&(a.layer=0|x[_0x27ab("0xd19")]),null!=x[_0x27ab("0x44f")]&&(a[_0x27ab("0x44f")]=String(x[_0x27ab("0x44f")])),a},x[_0x27ab("0x2f8")]=x[_0x27ab("0x490")],x[_0x27ab("0x495")]=function(x,a){a||(a={});var b={};return a[_0x27ab("0x4bf")]&&(b[_0x27ab("0x43d")]=0,b.na="",b[_0x27ab("0x4f4")]=0,b.eid=0,b[_0x27ab("0x1a9")]="",b.rank=0,b.dis=0,b[_0x27ab("0x8a1")]="",b[_0x27ab("0x4fc")]=0,b[_0x27ab("0xea")]=0,b[_0x27ab("0xd19")]=0,b[_0x27ab("0x44f")]=""),null!=x._id&&x[_0x27ab("0xc")](_0x27ab("0x43d"))&&(b[_0x27ab("0x43d")]=x[_0x27ab("0x43d")]),null!=x.na&&x[_0x27ab("0xc")]("na")&&(b.na=x.na),null!=x[_0x27ab("0x4f4")]&&x[_0x27ab("0xc")]("sid")&&(b[_0x27ab("0x4f4")]=x[_0x27ab("0x4f4")]),null!=x[_0x27ab("0x4f9")]&&x[_0x27ab("0xc")]("eid")&&(b[_0x27ab("0x4f9")]=x[_0x27ab("0x4f9")]),null!=x.outline&&x[_0x27ab("0xc")](_0x27ab("0x1a9"))&&(b[_0x27ab("0x1a9")]=x[_0x27ab("0x1a9")]),null!=x[_0x27ab("0x1bd")]&&x.hasOwnProperty(_0x27ab("0x1bd"))&&(b.rank=x[_0x27ab("0x1bd")]),null!=x[_0x27ab("0x63d")]&&x[_0x27ab("0xc")](_0x27ab("0x63d"))&&(b[_0x27ab("0x63d")]=x[_0x27ab("0x63d")]),null!=x[_0x27ab("0x8a1")]&&x[_0x27ab("0xc")](_0x27ab("0x8a1"))&&(b.dir=x.dir),null!=x.bstair&&x.hasOwnProperty(_0x27ab("0x4fc"))&&(b[_0x27ab("0x4fc")]=x[_0x27ab("0x4fc")]),null!=x[_0x27ab("0xea")]&&x[_0x27ab("0xc")](_0x27ab("0xea"))&&(b[_0x27ab("0xea")]=x[_0x27ab("0xea")]),null!=x[_0x27ab("0xd19")]&&x[_0x27ab("0xc")](_0x27ab("0xd19"))&&(b[_0x27ab("0xd19")]=x[_0x27ab("0xd19")]),null!=x[_0x27ab("0x44f")]&&x[_0x27ab("0xc")]("other1")&&(b[_0x27ab("0x44f")]=x[_0x27ab("0x44f")]),b},x[_0x27ab("0x2")][_0x27ab("0x495")]=function(x){return this.constructor.toObject(this,x)},x[_0x27ab("0x2")].toJSON=function(){return this[_0x27ab("0x496")][_0x27ab("0x495")](this,n.util[_0x27ab("0x4c0")])},x}(),i),x[_0x27ab("0x6")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0xc4b")]=void 0;var _=c(b(8)),e=c(b(0)),t=c(b(1)),i=c(b(136)),n=b(295),r=b(98),s=b(296),o=c(b(24));function c(x){return x&&x.__esModule?x:{default:x}}var l=b(137),f=_0x27ab("0x1d9"),u=null,d=null,h=function(){function x(a){(0,e.default)(this,x),this[_0x27ab("0xc9e")]=a,this[_0x27ab("0x37")]=a[_0x27ab("0x37")],this[_0x27ab("0xd36")]={},this[_0x27ab("0xd37")]=this.map.options,this.buildingIDs=[],this[_0x27ab("0xc4f")]=!0,this[_0x27ab("0x1a0")]={},this[_0x27ab("0xd38")]={},(this.map[_0x27ab("0x33")][_0x27ab("0x223")]||this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x228")]!=_0x27ab("0x542"))&&(this[_0x27ab("0xc4f")]=!1)}return(0,t.default)(x,[{key:"checkBuildingFilter",value:function(x){var a=x[_0x27ab("0xeb")],b=x[_0x27ab("0x1d8")],_=x[_0x27ab("0xee")],e=(x.id,this[_0x27ab("0xd38")][a]);if(!e)return!0;var t=e.strategy,i=e[_0x27ab("0x366")];if(t==_0x27ab("0xd39")){if(!i[_])return!1;var n=!1;for(var r in i[_]){var s=i[_][r];if(esmap[_0x27ab("0x80")][_0x27ab("0x5f7")](b,s)){n=!0;break}}return n}}},{key:_0x27ab("0xd3a"),value:function(x){x[_0x27ab("0x70")]==_0x27ab("0x4b")&&(this[_0x27ab("0xd38")][x[_0x27ab("0xeb")]]=x)}},{key:"getOutLineList",value:function(x){var a=new Array;if(null!=x&&x.length>10)for(var b=x[_0x27ab("0x28")]("&&"),_=0;_<b.length;_++){var e=b[_].indexOf("&");e>0&&(b[_]=b[_].substring(0,e)),b[_].length>10&&a[_0x27ab("0x1")](b[_])}return a}},{key:_0x27ab("0xb13"),value:function(){}},{key:_0x27ab("0xd3b"),value:function(x,a,b,_){var e=this[_0x27ab("0xd3c")](a,x);esmap.ESMap.tempFlipX_&&this[_0x27ab("0xb13")](e),b(e)}},{key:"versionCheck",value:function(x){return!(x>esmap[_0x27ab("0xce0")]||x<esmap[_0x27ab("0xce1")])}},{key:"convertShowLevel",value:function(x,a){if(x||(x=23),this[_0x27ab("0x37")][_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")])return x;if(x>=23)return 11;var b=a[_0x27ab("0xd3d")][x]*a._initDistance;return this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xb3e")](b)}},{key:"addToSingleMeshData",value:function(x){var a=this,b=this.map[_0x27ab("0x15d")],_=x[_0x27ab("0x4a1")],e=new(THREE[_0x27ab("0xe7")])(1,1.5,1);if(x[_0x27ab("0x24b")]){var t=x[_0x27ab("0x24b")][_0x27ab("0x28")](",");e=new(THREE[_0x27ab("0xe7")])(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}if(x[_0x27ab("0xc52")])var i=Math.PI/180,n=x[_0x27ab("0xc52")][_0x27ab("0x28")](","),r=new(THREE[_0x27ab("0x27a")])(parseFloat(n[0])*i,parseFloat(n[1])*i,parseFloat(n[2])*i);var s=new(THREE[_0x27ab("0xe7")])(x.x,x.y,0),o=new(THREE[_0x27ab("0xe7")])(-x.CenX-b[_0x27ab("0x1ab")],0,x[_0x27ab("0x4c8")]-b[_0x27ab("0x1ac")]);if(x[_0x27ab("0x143")]){var c=x[_0x27ab("0x143")][_0x27ab("0x28")](",");o.x+=parseFloat(c[0]),o.y+=parseFloat(c[1]),o.z+=parseFloat(c[2]),s.x-=parseFloat(c[0]),s.z+=parseFloat(c[1]),s.y+=parseFloat(c[2])}var l={id:x[_0x27ab("0x61e")],name:x[_0x27ab("0xc5")],fnum:x[_0x27ab("0x4a1")],rotation:r,position:o,scale:e,rotate:x.rotate};a[_0x27ab("0xc53")][x.RModel]||(a[_0x27ab("0xc53")][x[_0x27ab("0xcde")]]={}),a[_0x27ab("0xc53")][x[_0x27ab("0xcde")]][_]||(a[_0x27ab("0xc53")][x[_0x27ab("0xcde")]][_]=[]),a[_0x27ab("0xc53")][x[_0x27ab("0xcde")]][_][_0x27ab("0x1")](l)}},{key:_0x27ab("0xd3e"),value:function(x,a){var b=a[_0x27ab("0x17a")][_0x27ab("0xeb")],_=x.floornum,e=this[_0x27ab("0x37")][_0x27ab("0x192")],t=this.map[_0x27ab("0x33")],i=this.filterSingleMesh,n=this.map[_0x27ab("0x33")][_0x27ab("0x71")],r=this,s={maxx:0,minx:1/0,maxy:0,miny:1/0},c=[],l=[],u=[],d=[],h=[],g=this.getOutLineList(x.Outline),v=a[_0x27ab("0xed")].x,p=a.center.y;a[_0x27ab("0x33")][_0x27ab("0xcf2")]&&(v=a[_0x27ab("0x33")].dataCenter.x,p=a[_0x27ab("0x33")][_0x27ab("0xcf2")].y);var A=[],m=(this.map.mapScene,{x:v+a[_0x27ab("0x17a")][_0x27ab("0x444")]+0,y:p-a.sourceData[_0x27ab("0x45f")]+0});a[_0x27ab("0x143")]=m;for(var C=[],I=0;I<g.length;I++){var y=this.convertIndoorGeo2Geometry_(g[I],m.x,m.y),E=this[_0x27ab("0x37")][_0x27ab("0x56b")]({from:f,to:e,coords:y[_0x27ab("0xec")],flipX:!0});for(var w in y.holes){var T=y[_0x27ab("0x565")][w],k=this[_0x27ab("0x37")][_0x27ab("0x56b")]({from:f,to:e,coords:T,flipX:!0});C[_0x27ab("0x1")](k)}y[_0x27ab("0xec")]=E,y[_0x27ab("0x565")]=C,c[_0x27ab("0x1")](y)}a[_0x27ab("0x8f4")][_]=s,c[_0x27ab("0x1b")]((function(x){x.points.forEach((function(x){x.y<s[_0x27ab("0xba")]&&(s.miny=x.y),x.y>s[_0x27ab("0xbb")]&&(s[_0x27ab("0xbb")]=x.y),-x.x<s[_0x27ab("0xb9")]&&(s[_0x27ab("0xb9")]=-x.x),-x.x>s[_0x27ab("0xb5")]&&(s[_0x27ab("0xb5")]=-x.x)}))})),x[_0x27ab("0x49c")]=null;var S=x[_0x27ab("0x498")],M=0;for(var R in S){var L=!1,H=S[R],D=this[_0x27ab("0x37")].transformCoord({from:f,to:e,coord:{x:H[_0x27ab("0x4c5")]+m.x,y:H[_0x27ab("0x4c8")]+m.y}});if(this[_0x27ab("0xd3f")]({bid:b,coord:{x:H.CenX+m.x,y:H.CenY+m.y},fnum:_,id:H._id})){var P=this[_0x27ab("0xd40")](H[_0x27ab("0x49c")],m.x,m.y);P[_0x27ab("0x4a1")]=_,P.isTube=!1,H[_0x27ab("0x49c")][_0x27ab("0xd1")](_0x27ab("0xd41"))>-1&&(P[_0x27ab("0xd42")]=!0),P[_0x27ab("0x184")]=H.BC>>1||1,P[_0x27ab("0x61e")]=H[_0x27ab("0x43d")],P[_0x27ab("0x623")]=H.RS,P.FC=H.FC||null,P[_0x27ab("0xc21")]=null,P[_0x27ab("0xd43")]=H.RC||"",P[_0x27ab("0x8e5")]=P[_0x27ab("0xec")],P[_0x27ab("0x633")]=null,P[_0x27ab("0xd44")]=P[_0x27ab("0x565")];var O=this[_0x27ab("0x37")][_0x27ab("0x56b")]({from:f,to:e,coords:P[_0x27ab("0xec")],flipX:!0});P[_0x27ab("0xec")]=O,this[_0x27ab("0xc9e")].buildingBounds[H[_0x27ab("0x43d")]]=[P[_0x27ab("0xec")]];var B=this.map[_0x27ab("0x56b")]({from:f,to:e,coords:P[_0x27ab("0x565")],flipX:!0});P[_0x27ab("0x565")]=B,P[_0x27ab("0x4c5")]=D.x,P[_0x27ab("0x4c8")]=D.y,P[_0x27ab("0xd45")]=-1,P[_0x27ab("0xcde")]=H.RM,P[_0x27ab("0xcde")]&&(i&&P.RModel[_0x27ab("0xd1")](_0x27ab("0xbfa"))>=0?L=!0:(M++,a.modelLoadManager.modelStatic[_0x27ab("0x174")]++)),P.Typeid=H[_0x27ab("0x4c1")]||H[_0x27ab("0xd46")]||0,P[_0x27ab("0xa84")]=1&H.BC||0;var N=P[_0x27ab("0xa84")]||1==t[_0x27ab("0x223")];r.buildingIDs[_0x27ab("0xd1")](b)>=0&&(N=P[_0x27ab("0xa84")]=H.BC&&1&H.BC),P[_0x27ab("0xd47")]=H.FS||0,P[_0x27ab("0xc5")]=n?this[_0x27ab("0xd48")](H.name,n):H[_0x27ab("0xc5")],H[_0x27ab("0x4c4")]&&(P[_0x27ab("0x143")]=H[_0x27ab("0x4c4")]),P[_0x27ab("0x622")]=null==H.RH?5:H.RH,P.RoomLogo=null==H.RL?"":H.RL,P.RoomLogoSize=null==H.RLSize?"":H.RLSize;var F=P[_0x27ab("0xd49")][_0x27ab("0x28")](",");if(F[3]&&(P[_0x27ab("0xd45")]=1*F[3]),P.RoomLogo)for(var z=P[_0x27ab("0xd4a")][_0x27ab("0x28")](";"),j=P[_0x27ab("0xd49")].split(";"),U=0;U<z[_0x27ab("0x0")];U++){var X=z[U],Y="";if(j[U])1*j[U][_0x27ab("0x28")](",")[3]<3?(Y=o.default.getPath("buildingAsset",{filename:X,type:_0x27ab("0xd4b"),buildingId:a.id}),r.service.ResourcePool.prefetchTexture(Y,_0x27ab("0xc7b"),X)):(Y=o[_0x27ab("0xb")][_0x27ab("0x5f")]("buildingAsset",{filename:X,type:"roomtexture",buildingId:a.id}),r[_0x27ab("0xc9e")][_0x27ab("0xc4d")].prefetchTexture(Y,_0x27ab("0xc7c"),X))}P.ShowLevel=H.SL||24,6!=P[_0x27ab("0x184")]?(H.RM&&(H[_0x27ab("0x4c3")]&&(P.scale=H.RMS),H[_0x27ab("0x4c7")]&&(P[_0x27ab("0xc52")]=H.RMR)),P[_0x27ab("0xd45")]>=3&&(P.RS=P[_0x27ab("0x623")],P[_0x27ab("0xd4c")]=P.RoomStyle+"_"+P[_0x27ab("0xd4a")]+"_"+P.RoomLogoSize),P[_0x27ab("0x622")]>4&&this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x21c")]?P.textureInfo={needBottom:!1,sideIndex:1,topIndex:0,sideImageHeight:128,sideImageWidth:128}:P.noTexture=!0,N?l.push(P):(P[_0x27ab("0x622")]=null==H.RH?.25:H.RH,h.push(P)),L&&(this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x228")]==_0x27ab("0x542")||this.map[_0x27ab("0x33")][_0x27ab("0x223")]||_0x27ab("0xd4d"),this[_0x27ab("0xc51")](P))):A[_0x27ab("0x1")](P)}}var G=x[_0x27ab("0x17b")];for(var Q in G){var V=x[_0x27ab("0x17b")][Q],W={oid:V._id,Typeid:V[_0x27ab("0x4c1")],name:(n?this[_0x27ab("0xd48")](V.name,n):V[_0x27ab("0xc5")])||"",fontstyleid:V[_0x27ab("0x4d8")],Height:V.SH,X:V.X+m.x,Y:V.Y+m.y,image:V[_0x27ab("0x187")],w:null==V.w?32:V.w,h:null==V.h?32:V.h,ShowLevel:this[_0x27ab("0xd4e")](V.SL,a),texture:null==V[_0x27ab("0x187")]||""==V[_0x27ab("0x187")]?"":esmap[_0x27ab("0x80")].loadTexture(this[_0x27ab("0x37")].options.mapDataSrc+"/"+b+_0x27ab("0xd4f")+V.image),center:{x:.5,y:.5}};if(V[_0x27ab("0x44f")]){var Z=V[_0x27ab("0x44f")][_0x27ab("0x28")](",");W.image=Z[0],W.w=1*Z[1],W.h=1*Z[2];var J="left";switch(1*Z[3]){case 0:J=_0x27ab("0x183");break;case 1:J=_0x27ab("0x184");break;case 2:J=_0x27ab("0x6ee");break;case 3:J="bottom"}W[_0x27ab("0xd50")]=J,W[_0x27ab("0xed")]={x:1*Z[4],y:1*Z[5]}}u.push(W)}var K=x[_0x27ab("0x499")];if(x[_0x27ab("0x499")])for(var q in K){var $=K[q],xx={oid:$._id,X:$.X+m.x,Y:$.Y+m.y,Height:$.SH,image:null==$[_0x27ab("0x187")]?"":$[_0x27ab("0x187")],w:null==$.w||""==$.w?32:$.w,h:null==$.h||""==$.h?32:$.h,name:n?this[_0x27ab("0xd48")]($.name,n):$[_0x27ab("0xc5")],ShowLevel:this[_0x27ab("0xd4e")]($.SL,a),Typeid:$.Tid,center:{x:.5,y:.5}};if($[_0x27ab("0x44f")]){var ax=$.other1[_0x27ab("0x28")](",");xx[_0x27ab("0x187")]=ax[0],xx.w=1*ax[1],xx.h=1*ax[2],xx.imageAlign=1*ax[3],xx[_0x27ab("0xed")].x=1*ax[4],xx.center.y=1*ax[5]}d.push(xx)}x[_0x27ab("0x49f")];var bx={fnum:_,floorEdge:s,floorBaseLayers:[{lid:2,floorBases:c}],modellayers:[{lid:3,models:l}],labellayers:[{lid:5,labels:u}],poilayers:[{lid:4,pois:d}],liftlayers:[{lid:6,lifts:[]}],modelbaselayer:[{lid:9,modelbases:h}],roadDatas:A,modelsCount:M};return this[_0x27ab("0x37")].options[_0x27ab("0xbf2")]||(a.toLoaded[_][_0x27ab("0x235")]=l[_0x27ab("0x0")]),bx}},{key:"_convertFloorFromSourceData",value:function(x,a){for(var b=a[_0x27ab("0x17a")][_0x27ab("0x43c")],_=0;_<b[_0x27ab("0x0")];_++){var e=b[_];if(e[_0x27ab("0x4a1")]==x)return this._convertToSceneFloor(e,a)}return null}},{key:"convertIndoorGeo2Geometry_",value:function(x,a,b){var _=(new(i[_0x27ab("0xb")][_0x27ab("0x437")])).parseIndoorGeo(x,a,b);return{points:_[_0x27ab("0x431")],holes:_[_0x27ab("0x432")]}}},{key:_0x27ab("0xc57"),value:function(x,a){a[_0x27ab("0xd51")]=esmap[_0x27ab("0x644")][_0x27ab("0xd52")](x);var b=a[_0x27ab("0xd51")].getSize(new THREE.Vector3),_=x.DefaultFnum,e=x.floors[_-1][_0x27ab("0x4a3")],t=.75*b.x+e,i=new(THREE[_0x27ab("0xe7")])(b.x,t,-b.x),n=new(THREE[_0x27ab("0xe7")])(0,0,0),r=i[_0x27ab("0x301")](n);a[_0x27ab("0xd3d")]=JSON[_0x27ab("0x68")]("["+x[_0x27ab("0x460")]+"]"),a[_0x27ab("0x17a")]=x,a[_0x27ab("0xd53")]=r;var s,o=a.options,c=a[_0x27ab("0x37")].options[_0x27ab("0x223")],l=o.visibleFloors;if(l){if(!Array[_0x27ab("0x480")](l)&&l!=_0x27ab("0x218"))return void console[_0x27ab("0x2bb")](_0x27ab("0xd54")+" "+esmap[_0x27ab("0x2bc")][_0x27ab("0xd55")]+_0x27ab("0xd56")+_0x27ab("0xd57"));s=o[_0x27ab("0xd58")]?o.defaultFloornum:o[_0x27ab("0xc59")]?o[_0x27ab("0xc59")]:x.DefaultFnum?x[_0x27ab("0x45e")]:1}else l=[s=o[_0x27ab("0xd58")]?o.defaultFloornum:o.focusFloor?o[_0x27ab("0xc59")]:x.DefaultFnum?x[_0x27ab("0x45e")]:1];(s>x.floors[_0x27ab("0x0")]||s<1)&&(s=x[_0x27ab("0x45e")]||1),o[_0x27ab("0xc59")]=s,(Array[_0x27ab("0x480")](l)&&l[_0x27ab("0x0")]==x[_0x27ab("0x43c")][_0x27ab("0x0")]||l==_0x27ab("0x218"))&&o[_0x27ab("0x1fe")]==esmap[_0x27ab("0xad5")][_0x27ab("0xd59")]&&(console.info(esmap.ESInfo[_0x27ab("0xd5a")]),l=[s]),o[_0x27ab("0xd5b")]=l,a[_0x27ab("0xd5c")]=l;var f=o[_0x27ab("0xd5d")]||0,u=0,d=0,h=0;for(this.map[_0x27ab("0x169")][_0x27ab("0x5db")][a.id]&&this[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x5db")][a.id][_0x27ab("0x143")]&&(h=this[_0x27ab("0x37")][_0x27ab("0x169")].bidList[a.id][_0x27ab("0x143")].z);u<x[_0x27ab("0x43c")][_0x27ab("0x0")];u++){var g=x[_0x27ab("0x43c")][u];g.floornumtext<0&&(g.Elevation*=.001),d=f instanceof Array?f[u]||0+g[_0x27ab("0x4a3")]:(u+1)*f+g[_0x27ab("0x4a3")],g[_0x27ab("0x4a3")]=d+h,g[_0x27ab("0xd5e")]=f+x.FloorHigh,a[_0x27ab("0x62c")][_0x27ab("0x1")](g[_0x27ab("0x4a1")]),a[_0x27ab("0xc09")][g.floornum]={label:1,poi:1,floorBase:1,model:1,modelBase:c?0:1,model3D:0}}return a[_0x27ab("0x17a")]}},{key:_0x27ab("0xa1e"),value:function(x,a,b){var _=o[_0x27ab("0xb")][_0x27ab("0x5f")]("buildingTheme",{themeID:x,ext:_0x27ab("0xbd")});esmap[_0x27ab("0x588")][_0x27ab("0x361")]({url:_})[_0x27ab("0x35b")](b)[_0x27ab("0x257")]((function(){var a=o[_0x27ab("0xb")].getPath(_0x27ab("0x52"),{themeID:x,ext:_0x27ab("0xd5f")});esmap[_0x27ab("0x588")][_0x27ab("0x361")]({url:a})[_0x27ab("0x35b")](b)}))}},{key:_0x27ab("0xa1f"),value:function(x){return new(_[_0x27ab("0xb")])((function(a){var b=o[_0x27ab("0xb")][_0x27ab("0x5f")](_0x27ab("0x52"),{themeID:x,ext:_0x27ab("0xbd")});esmap[_0x27ab("0x588")][_0x27ab("0x361")]({url:b})[_0x27ab("0x35b")](a)[_0x27ab("0x257")]((function(){var b=o.default[_0x27ab("0x5f")](_0x27ab("0x52"),{themeID:x,ext:_0x27ab("0xd5f")});esmap.Ajax[_0x27ab("0x361")]({url:b})[_0x27ab("0x35b")](a)}))}))}},{key:_0x27ab("0xd48"),value:function(x,a){return this[_0x27ab("0xc9e")][_0x27ab("0xa5c")].jsonLib&&this[_0x27ab("0xc9e")][_0x27ab("0xa5c")][_0x27ab("0xd60")][x]?this[_0x27ab("0xc9e")][_0x27ab("0xa5c")][_0x27ab("0xd60")][x][1*a-1]:x}},{key:_0x27ab("0xd61"),value:function(x){return this.map.mode===esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]?this[_0x27ab("0xd62")](x):this._authCity(x)}},{key:_0x27ab("0xd63"),value:function(x){if(!this[_0x27ab("0xcdf")](x.version))return console[_0x27ab("0x2bb")](esmap.ESInfo[_0x27ab("0xd64")]),!1;var a=x.maptime<32503514?x.maptime:x[_0x27ab("0x455")]/1e3;return!((new Date)[_0x27ab("0x7c")]()>1e6*a)||(console[_0x27ab("0x2bb")](bname+_0x27ab("0xd65")+esmap[_0x27ab("0x2bc")][_0x27ab("0xd66")]),!1)}},{key:_0x27ab("0xd62"),value:function(x){var a=this[_0x27ab("0xd37")],b=a.s&&a.k,_=x[_0x27ab("0xeb")];if(this[_0x27ab("0xcdf")](x.version)){if(x[_0x27ab("0x44e")]&&a[_0x27ab("0x44e")])(0,n[_0x27ab("0xd67")])(_0x27ab("0xab8")+(x[_0x27ab("0xeb")]+a[_0x27ab("0x44e")]))==x[_0x27ab("0x44e")]&&this.service.setState(_0x27ab("0x41d"),!1);var e=!1;if(b){var t=(0,n[_0x27ab("0xd67")])(x[_0x27ab("0x7e")]+_0x27ab("0xd68")),i=a.k[_0x27ab("0xd1")]("&"),o=a.k;if(i>0&&(o=o[_0x27ab("0x1a8")](0,i),t=(0,n[_0x27ab("0xd67")])(x.token+_0x27ab("0xd69"))),t!=o)return r[_0x27ab("0x323")][_0x27ab("0xc9f")](2001),!1;this[_0x27ab("0xc9e")][_0x27ab("0x995")]("sk",!0),e=!0}var c=x[_0x27ab("0x461")];if(!(b&&e||x[_0x27ab("0x7e")]===_0x27ab("0xabb"))){var l=document[_0x27ab("0x88")],f=(0,n.decrypt)(l);if(s[_0x27ab("0xd6a")].indexOf(f)<0){if(c.length>1&&c[_0x27ab("0xd1")](l)<0)return r[_0x27ab("0x323")][_0x27ab("0xc9f")]({code:2002,param:[_,l,1]}),!1;if(!a.token)return r.MapError.throw({code:2003,param:[_,1]}),!1;if((0,n.decrypt)(""+(x[_0x27ab("0x43d")]+a[_0x27ab("0x7e")]))!=x[_0x27ab("0x7e")])return r.MapError[_0x27ab("0xc9f")]({code:2004,param:[_,1]}),!1;if(d!=u[0])return!1}}u=null,(0,n[_0x27ab("0xd67")])(x[_0x27ab("0x7e")]+x[_0x27ab("0x44e")]+c+x.o1+_0x27ab("0xab9")+x.o2)!==x.Hash&&x[_0x27ab("0x456")]!==x[_0x27ab("0x7e")]&&x[_0x27ab("0x7e")]!==_0x27ab("0xabb")&&sourceHashStatus++;var h=x[_0x27ab("0x455")]<32503514?x[_0x27ab("0x455")]:x.maptime/1e3;return(new Date).getTime()>1e6*h?(r.MapError[_0x27ab("0xc9f")]({code:2005,param:[_,1]}),!1):(x[_0x27ab("0x459")]&&this[_0x27ab("0xc9e")][_0x27ab("0x995")](_0x27ab("0xd6b"),x[_0x27ab("0x459")]),this[_0x27ab("0xc9e")][_0x27ab("0x995")]("ul",x.ul),this[_0x27ab("0xc9e")].setState("o2",x.o2||0),0!=x.floors[_0x27ab("0x0")]||(r[_0x27ab("0x323")][_0x27ab("0xc9f")]({code:2009,param:[_,1]}),!1))}console[_0x27ab("0x2bb")](_this[_0x27ab("0x37")][_0x27ab("0xb0a")],esmap[_0x27ab("0x2bc")][_0x27ab("0xd64")],": "+results[_0x27ab("0x79")])}},{key:_0x27ab("0xd6c"),value:function(x){var a=x[_0x27ab("0x1b9")],b=x.skMode,e=x.id;return new _.default((function(x,_){esmap[_0x27ab("0x588")][_0x27ab("0x35e")]({url:a,isArrayBuffer:!0})[_0x27ab("0x35b")]((function(t){var i,s=new Uint8Array(t);d=s[0],b&&(0,n[_0x27ab("0xcbd")])(e,s),u=s;try{i=l[_0x27ab("0x32")][_0x27ab("0x43b")][_0x27ab("0x43")](s)}catch(x){return r.MapError[_0x27ab("0xc9f")]({code:2008,param:[e,a,1]}),console.info(e,x),void _()}x(i)}))[_0x27ab("0x257")]((function(){r[_0x27ab("0x323")][_0x27ab("0xc9f")]({code:2007,param:[e,1]})}))}))}},{key:"singleMesheDatas",get:function(){return this[_0x27ab("0xc9e")].singleMesheDatas}},{key:_0x27ab("0x34"),get:function(){return this[_0x27ab("0x37")].mode}}]),x}();a[_0x27ab("0xc4b")]=h},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0}),a[_0x27ab("0xd67")]=function(x){var a,b,_,e,t,i=_0x27ab("0xd6d")+_0x27ab("0x63f")+_0x27ab("0xd6e")+_0x27ab("0x640")+"=",n="",r="",s="",o=0;do{a=x[_0x27ab("0x2a")](o++),b=x[_0x27ab("0x2a")](o++),r=x[_0x27ab("0x2a")](o++),_=a>>4,e=(3&a)<<4|b>>4,t=(15&b)<<2|r>>6,s=63&r,isNaN(b)?t=s=64:isNaN(r)&&(s=64),n=n+i[_0x27ab("0x641")](_)+i[_0x27ab("0x641")](e)+i[_0x27ab("0x641")](t)+i[_0x27ab("0x641")](s),a=b=r="",_=e=t=s=""}while(o<x[_0x27ab("0x0")]);return n},a[_0x27ab("0xcbd")]=function(x,a){for(var b=function(x){for(var a=[],b=0;b<x[_0x27ab("0x0")];b++)a[b]=x[_0x27ab("0x2a")](b);return a}(x),_=0;_<16;_++)for(var e=0;e<b[_0x27ab("0x0")];e++)a[_]=a[_]^b[e]}},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});a[_0x27ab("0xd6a")]=[_0x27ab("0xd6f"),_0x27ab("0xd70"),"Wi5FSndDW3RFSGdO",_0x27ab("0xd71")]},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=n(b(8)),e=n(b(2)),t=n(b(0)),i=n(b(1));function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var r=function(){function x(a){(0,t[_0x27ab("0xb")])(this,x),this[_0x27ab("0x175")]=a,this[_0x27ab("0xd60")]=null,this[_0x27ab("0xd72")]={default:null,userData:null},this.generalLib={default:{meter:"米"},userData:null},this.key=_0x27ab("0xd73"),this.keyBytes=this[_0x27ab("0xd74")](this[_0x27ab("0x62b")]);this[_0x27ab("0xd72")][_0x27ab("0xb")]={"上行":"上行","下行":"下行","导航结束":_0x27ab("0xd75"),"即将到达目的地":_0x27ab("0xd76"),"感谢使用易景三维场景导航":"感谢使用易景三维场景导航","左转":"左转","右转":"右转","后":"后","右后转":_0x27ab("0xd77"),"左后转":"左后转","左前方直行":_0x27ab("0xd78"),"右前方直行":_0x27ab("0xd79"),"到达目的地":_0x27ab("0xd7a"),"直行":"直行","左转后右转":_0x27ab("0xd7b"),"已重新规划路线":_0x27ab("0xd7c"),"右转后左转":"右转后左转","右转后右转":"右转后右转","左转后左转":"左转后左转","步行导航开始":_0x27ab("0xd7d"),"进入室内":_0x27ab("0xd7e"),"进入室外":_0x27ab("0xd7f"),"车形导航开始":_0x27ab("0xd80"),A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z","负":"负","楼":"楼","进入":"进入","层":"层","目的地在道路左侧":_0x27ab("0xd81"),"目的地在道路右侧":_0x27ab("0xd82"),"坡道":"坡道","前往":"前往","请减速":"请减速","后退":"后退","楼梯":"楼梯","电梯":"电梯","扶梯":"扶梯","米":"米","十":"十","百":"百","千":"千",",":","}}return(0,i[_0x27ab("0xb")])(x,[{key:_0x27ab("0xd74"),value:function(x){for(var a=[],b=0;b<x[_0x27ab("0x0")];b++)a[b]=x.charCodeAt(b);return a}},{key:_0x27ab("0xa5d"),value:function(x){x?(this[_0x27ab("0xd72")][_0x27ab("0x127")]={},(0,e[_0x27ab("0xb")])(this[_0x27ab("0xd72")][_0x27ab("0x127")],x)):this[_0x27ab("0xd72")].userData=null}},{key:_0x27ab("0xa5f"),value:function(x){x?(this[_0x27ab("0xa61")][_0x27ab("0x127")]={},(0,e[_0x27ab("0xb")])(this.generalLib[_0x27ab("0x127")],x)):this.generalLib[_0x27ab("0x127")]=null}},{key:_0x27ab("0x43"),value:function(x){for(var a="",b=this.stringtoChar(x),_=0;_<b[_0x27ab("0x0")];_++){for(var e=0;e<this[_0x27ab("0xd83")][_0x27ab("0x0")];e++)b[_]=b[_]^this[_0x27ab("0xd83")][e];a+=String.fromCharCode(b[_])}return a}},{key:_0x27ab("0xd84"),value:function(x){var a=this;return new _.default((function(b){if(a.mapService[_0x27ab("0x37")][_0x27ab("0x33")].lang){var _=a[_0x27ab("0x175")][_0x27ab("0x37")].options[_0x27ab("0x3f")]+"/"+x+"/"+x+_0x27ab("0xd85");esmap.Ajax[_0x27ab("0x361")]({url:_})[_0x27ab("0x35b")]((function(x){a[_0x27ab("0xd60")]=JSON[_0x27ab("0x68")](a[_0x27ab("0x43")](x)),b()}))}else b()}))}},{key:_0x27ab("0xd86"),value:function(x){return(this[_0x27ab("0xd72")][_0x27ab("0x127")]&&this[_0x27ab("0xd72")][_0x27ab("0x127")][x]?this[_0x27ab("0xd72")][_0x27ab("0x127")][x]:this[_0x27ab("0xd72")][_0x27ab("0xb")][x])||x}},{key:_0x27ab("0xd87"),value:function(x){return this[_0x27ab("0xa61")][_0x27ab("0x127")]?this[_0x27ab("0xa61")].userData[x]?this[_0x27ab("0xa61")][_0x27ab("0x127")][x]:this[_0x27ab("0xa61")][_0x27ab("0xb")][x]:this[_0x27ab("0xa61")].default[x]}},{key:"getWordFromJsonLib",value:function(){}}]),x}();a[_0x27ab("0xb")]=r},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0}),a[_0x27ab("0xc50")]=void 0;var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x37")]=a,this[_0x27ab("0x4be")]=[],this[_0x27ab("0xd88")]={},this[_0x27ab("0xd89")]=[],this.init()}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x163"),value:function(x){var a=x.o3d_;this.objects[_0x27ab("0x1")]({uuid:a[_0x27ab("0x628")],model:x,lod:0,targetLod:0,rank:1/0})}},{key:"rankObjects",value:function(){for(var x,a=150,b=50,_=this[_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0xc3")],e={0:[],1:[],2:[]},t=[],i=this[_0x27ab("0x37")][_0x27ab("0x169")].currentShows,n=this[_0x27ab("0x37")].tileList.map((function(x){return x.id})),r=this[_0x27ab("0x37")][_0x27ab("0x629")]().modelLoadManager[_0x27ab("0xa72")],s=0;s<this.objects[_0x27ab("0x0")];s++){var o=this[_0x27ab("0x4be")][s],c=o[_0x27ab("0x235")];if(c[_0x27ab("0xaf")]){var l=o[_0x27ab("0x235")].tileId;if(i[_0x27ab("0x62e")](l)&&n[_0x27ab("0x62e")](l)){var f=c[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0x8db")],u=f[_0x27ab("0xd8a")](_);if(u>=3500)0!=o[_0x27ab("0x31c")]&&(o[_0x27ab("0xd8b")]=0,t.push(o));else{r.intersectsBox(f)||(u+=u/2);var d=(x=u)<=500?2:x<=2e3?1:0;o.targetLod=d,o[_0x27ab("0x1bd")]=u,o.targetLod!=o[_0x27ab("0x31c")]&&e[d][_0x27ab("0x1")](o)}}}}return e[1].length>a&&(e[1]=e[1][_0x27ab("0x416")]((function(x,a){return x[_0x27ab("0x1bd")]-a[_0x27ab("0x1bd")]}))[_0x27ab("0xf")](0,a)),e[2].length>b&&(e[2]=e[2][_0x27ab("0x416")]((function(x,a){return x[_0x27ab("0x1bd")]-a.rank})).slice(0,b)),e[0][_0x27ab("0x416")]((function(x,a){return x[_0x27ab("0x1bd")]-a[_0x27ab("0x1bd")]})),e[0]=e[0].slice(50,e[0][_0x27ab("0x0")]-1),e[0][_0x27ab("0x1ec")](e[1]).concat(e[2])[_0x27ab("0x1ec")](t)}},{key:_0x27ab("0xd8c"),value:function(x){if(0!=x.length)for(var a=this.map[_0x27ab("0x175")][_0x27ab("0xc4e")],b=this[_0x27ab("0x37")][_0x27ab("0x629")]()[_0x27ab("0x161")],_=0;_<x.length;_++){var e=x[_],t=e.model,i=e.lod,n=e[_0x27ab("0xd8b")],r=t[_0x27ab("0x242")];if(t[_0x27ab("0xaf")]){var s=this[_0x27ab("0xd88")][e.uuid];if(s&&s[e[_0x27ab("0xd8b")]]){var o=s[e[_0x27ab("0xd8b")]];r[_0x27ab("0xc7")][_0x27ab("0x158")](r),s[i]||(s[i]=r),t[_0x27ab("0xaf")][_0x27ab("0x163")](o),t.child=o,e[_0x27ab("0x31c")]=n}else{var c=t[_0x27ab("0x23d")]+_0x27ab("0x31c")+e[_0x27ab("0xd8b")]+_0x27ab("0x77"),l=this[_0x27ab("0x37")].mapService[_0x27ab("0x2ba")][c];if(l){r[_0x27ab("0xc7")][_0x27ab("0x158")](r),s||(s={},this[_0x27ab("0xd88")][e[_0x27ab("0x628")]]=s),s[i]||(s[i]=r);var f=l[_0x27ab("0x31d")][_0x27ab("0xc1")].clone(!0);(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](f).getCenter(f[_0x27ab("0xc3")]),f[_0x27ab("0xc3")][_0x27ab("0x28c")](-1),t[_0x27ab("0xaf")][_0x27ab("0x163")](f),t[_0x27ab("0x242")]=f,s[n]||(s[n]=f),e[_0x27ab("0x31c")]=n}else{if(!a[c]){var u=t[_0x27ab("0x235")][_0x27ab("0x111")](_0x27ab("0x77"),"");0==n&&(n="");var d=t[_0x27ab("0x23d")]+_0x27ab("0x31c")+n,h=t[_0x27ab("0x1b9")].replaceAll(u,d);b.preFetchModel3D(c,h,(function(x){}))}this[_0x27ab("0xd89")][_0x27ab("0x1")]({target:e,model:c})}}}}}},{key:_0x27ab("0x31"),value:function(){var x=this;this[_0x27ab("0x37")].on(_0x27ab("0x167"),(function(){x.applyLod(x.rankObjects())})),this.map.on(_0x27ab("0x12b"),(function(){if(x[_0x27ab("0xd89")][_0x27ab("0x0")]>0){for(var a=x[_0x27ab("0x37")][_0x27ab("0x175")].modelStore,b=[],_=0;_<x[_0x27ab("0xd89")][_0x27ab("0x0")];_++){var e=x[_0x27ab("0xd89")][_];a[e[_0x27ab("0x235")]]&&(b[_0x27ab("0x1")](e),x.waitings[_0x27ab("0x157")](_,1),_--)}b[_0x27ab("0x0")]>0&&x[_0x27ab("0xd8c")](b[_0x27ab("0x37")]((function(x){return x[_0x27ab("0x295")]})))}}))}},{key:"_lod",value:function(x){var a=this;if(!(x<0||x>2)&&x!==this[_0x27ab("0x23c")]){0==x&&(x="");var b=this[_0x27ab("0x23d")]+"lod"+x+_0x27ab("0x77"),_=this[_0x27ab("0x37")][_0x27ab("0x175")].modelStore[b];if(_){this.child[_0x27ab("0xc7")][_0x27ab("0x158")](this[_0x27ab("0x242")]);var e=_.gltfObj[_0x27ab("0xc1")].clone(!0);(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](e)[_0x27ab("0x31f")](e[_0x27ab("0xc3")]),e.position[_0x27ab("0x28c")](-1),this[_0x27ab("0x242")]=e,this.o3d_[_0x27ab("0x163")](e),this[_0x27ab("0x23c")]=x}else{var t=this[_0x27ab("0x235")][_0x27ab("0x111")](".gltf",""),i=this[_0x27ab("0x23d")]+_0x27ab("0x31c")+x,n=this[_0x27ab("0x1b9")][_0x27ab("0xd8d")](t,i);this[_0x27ab("0x161")][_0x27ab("0x320")][b]||this[_0x27ab("0x161")][_0x27ab("0x321")](b,n,(function(b){a.child[_0x27ab("0xc7")][_0x27ab("0x158")](a[_0x27ab("0x242")]),a[_0x27ab("0x242")]=null;var _=b[_0x27ab("0xc1")][_0x27ab("0xe2")](!0);(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](_)[_0x27ab("0x31f")](_[_0x27ab("0xc3")]),_[_0x27ab("0xc3")][_0x27ab("0x28c")](-1),a[_0x27ab("0x242")]=_,a[_0x27ab("0xaf")][_0x27ab("0x163")](_),a._lodLevel=x}))}}}}]),x}();a[_0x27ab("0xc50")]=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=r(b(42)),e=r(b(8)),t=r(b(0)),i=r(b(1)),n=b(139);function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=function(){function x(a){var b=a[_0x27ab("0x30f")],_=void 0===b?1:b;(0,t[_0x27ab("0xb")])(this,x),this[_0x27ab("0x30f")]=_,this[_0x27ab("0xd8e")]=null,this[_0x27ab("0xd8f")]=null,this.audioGroupSound=[],this.configStrLength=7e3,this[_0x27ab("0xd90")]=!1,this[_0x27ab("0xd91")]=!1,this.isPlaying=!1,this[_0x27ab("0xd92")]=0,this[_0x27ab("0xd93")]=-1,this.sprite={},this[_0x27ab("0xd94")]=[],this[_0x27ab("0xd95")]=function(){if(this[_0x27ab("0xd92")]>=this[_0x27ab("0xd93")])this[_0x27ab("0x1c4")](),this[_0x27ab("0xd90")]=!1;else{var x=this[_0x27ab("0xd94")][this.playIndex++];this[_0x27ab("0xd8e")][_0x27ab("0x2cc")](x)}}[_0x27ab("0xe")](this)}return(0,i[_0x27ab("0xb")])(x,[{key:_0x27ab("0xd96"),value:function(x){var a=this;return new e.default((function(b,_){var e=new XMLHttpRequest;e[_0x27ab("0x317")](_0x27ab("0x367"),x,!0),e.responseType=_0x27ab("0x36f"),e[_0x27ab("0xba8")]=function(x){a[_0x27ab("0xd91")]=!0,b(this.response)},e[_0x27ab("0x377")]()}))}},{key:_0x27ab("0x31"),value:function(x,a){var b=this;this.loadFile(x)[_0x27ab("0x312")]((function(_){b[_0x27ab("0xd97")](_,x),a&&a()})).catch((function(x){console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")][_0x27ab("0x9b9")],x)}))}},{key:_0x27ab("0xd97"),value:function(x,a){this[_0x27ab("0xd98")]=new Uint8Array(x);var b=x[_0x27ab("0x78a")],_=this.getExtentUint8Array(this[_0x27ab("0xd98")],b-this[_0x27ab("0xd99")],b-1),e=this[_0x27ab("0xd9a")](_[_0x27ab("0x830")])[_0x27ab("0x28")]("}]")[0]+"}]";this.audioGroupMapData=JSON.parse(e);for(var t=0,i=this[_0x27ab("0xd8f")][_0x27ab("0x0")];t<i;t++){var r=this[_0x27ab("0xd8f")][t],s=this[_0x27ab("0xd9b")](r[_0x27ab("0xc5")])[_0x27ab("0x111")](_0x27ab("0xd9c"),"");this[_0x27ab("0xd9d")][s]=[r[_0x27ab("0xd9e")][0],r[_0x27ab("0xd9e")][1]-400]}var o=this;this[_0x27ab("0xd8e")]=new(n[_0x27ab("0xd9f")])({src:[a],sprite:this.sprite,rate:this.speed}),this.sound[_0x27ab("0x1e0")](_0x27ab("0xda0"),(function(x){_0x27ab("0xda1"),o[_0x27ab("0xda2")]()})),this.sound[_0x27ab("0x1e0")](_0x27ab("0x14b"),(function(){}))}},{key:_0x27ab("0xda3"),value:function(x){switch(x){case _0x27ab("0xda4"):this[_0x27ab("0xda5")]([_0x27ab("0xd7d")]);break;case _0x27ab("0xda6"):this[_0x27ab("0xda5")]([_0x27ab("0xd80")])}}},{key:_0x27ab("0xda7"),value:function(){var x=document.createElement(_0x27ab("0x3a3"));x.style[_0x27ab("0xc3")]=_0x27ab("0xda8"),x[_0x27ab("0xea")][_0x27ab("0x184")]="20px",x.style[_0x27ab("0x183")]="0";var a=this,b=function(b){var _=document[_0x27ab("0x20")](_0x27ab("0x726"));_[_0x27ab("0xea")][_0x27ab("0xda9")]="10px",_.innerHTML=b,_[_0x27ab("0x2f")](_0x27ab("0x9e2"),(function(){a[_0x27ab("0xd8e")][_0x27ab("0x2cc")](b)}),!1),x[_0x27ab("0x24")](_)};for(var _ in this[_0x27ab("0xd9d")])b(_);document.body[_0x27ab("0x24")](x)}},{key:_0x27ab("0xdaa"),value:function(){this[_0x27ab("0x1c4")](),this[_0x27ab("0xd8e")][_0x27ab("0x61")]("load"),this[_0x27ab("0xd8e")][_0x27ab("0xdab")]()}},{key:_0x27ab("0xdac"),value:function(x){var a=this;if(x&&x[_0x27ab("0x0")]>0&&this[_0x27ab("0xd91")]){this.isPlaying=!0,this[_0x27ab("0xd94")]=x,this[_0x27ab("0xd92")]=0,this[_0x27ab("0xd93")]=x.length,this[_0x27ab("0xd8e")].on("end",this[_0x27ab("0xd95")]);var b=this.spriteArray[this[_0x27ab("0xd92")]++];this[_0x27ab("0xd8e")].play(b);var _=0;return x.forEach((function(x){var b=a.sprite[x];_+=b[1]})),_*this[_0x27ab("0xd8e")].rate()}}},{key:_0x27ab("0xda5"),value:function(x){if(this[_0x27ab("0xd91")]&&(!this[_0x27ab("0xdad")]||this[_0x27ab("0xd90")])){for(var a=/^[0-9]*$/,b=["一","二","三","四","五","六","七","八","九","十"],e=[],t=0,i=x[_0x27ab("0x0")];t<i;t++)if(a[_0x27ab("0x3b8")](x[t])){var n=this.num2text(x[t]),r=!0,s=!1,o=void 0;try{for(var c,l=(0,_[_0x27ab("0xb")])(n);!(r=(c=l[_0x27ab("0x2b8")]()).done);r=!0){var f=c[_0x27ab("0xf8")];e[_0x27ab("0x1")](f)}}catch(x){s=!0,o=x}finally{try{!r&&l[_0x27ab("0x2be")]&&l.return()}finally{if(s)throw o}}}else if(b[_0x27ab("0xd1")](x[t])>-1){var u=b.indexOf(x[t]);9==u?e[_0x27ab("0x1")]("十"):e[_0x27ab("0x1")]((u+1).toString())}else{if(!this[_0x27ab("0xd9d")][x[t]])continue;e.push(x[t])}return this.stop(),this[_0x27ab("0xdac")](e)}}},{key:_0x27ab("0x1c4"),value:function(){this[_0x27ab("0xd8e")][_0x27ab("0x1c4")](),this.sound[_0x27ab("0x61")](_0x27ab("0x2d3"),this[_0x27ab("0xd95")]),this.playIndex=0,this[_0x27ab("0xd93")]=-1,this[_0x27ab("0xd94")]=[],this[_0x27ab("0xdad")]=!1}},{key:_0x27ab("0xdae"),value:function(x,a,b){for(var _=[],e=a;e<b;e++)_[_0x27ab("0x1")](x[e]);return new Uint8Array(_)}},{key:"ab2str",value:function(x){return String.fromCharCode.apply(null,new Uint8Array(x))}},{key:_0x27ab("0xdaf"),value:function(x){var a=[],b=1e3;for(x=parseInt(x);0!==b;){x%=10*b;var _=parseInt(x/b);if(_>0){a[_0x27ab("0x1")](_+"");var e=null;switch(b){case 1e3:e="千";break;case 100:e="百";break;case 10:e="十"}e&&a.push(e)}else{var t=a.length;t>0&&"0"!==a[t-1]&&a.push("0")}b/=10}return"0"===a[a.length-1]&&a.pop(),"1"===a[0]&&"十"===a[1]&&a.shift(),a}},{key:_0x27ab("0xd9b"),value:function(x){return unescape(x[_0x27ab("0x111")](/\\u/gi,"%u"))}}]),x}();a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=r(b(42)),e=r(b(8)),t=r(b(0)),i=r(b(1)),n=b(139);function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=function(){function x(a){var b=a[_0x27ab("0x30f")],_=void 0===b?1:b;(0,t[_0x27ab("0xb")])(this,x),this.speed=_,this.sound=null,this[_0x27ab("0xd8f")]=null,this[_0x27ab("0xdb0")]=[],this[_0x27ab("0xd99")]=9e3,this[_0x27ab("0xd90")]=!0,this.isLoaded=!1,this[_0x27ab("0xdad")]=!1,this.playIndex=0,this[_0x27ab("0xd93")]=-1,this[_0x27ab("0xd9d")]={},this[_0x27ab("0xd94")]=[],this[_0x27ab("0xd95")]=function(){if(this[_0x27ab("0xd92")]>=this[_0x27ab("0xd93")])this.stop(),this.canInterrupt=!0;else{var x=this[_0x27ab("0xd94")][this[_0x27ab("0xd92")]++];this[_0x27ab("0xd8e")][_0x27ab("0x2cc")](x)}}[_0x27ab("0xe")](this)}return(0,i[_0x27ab("0xb")])(x,[{key:"loadFile",value:function(x){return new e.default((function(a,b){var _=new XMLHttpRequest;_[_0x27ab("0x317")](_0x27ab("0x367"),x,!0),_[_0x27ab("0x36e")]=_0x27ab("0x36f"),_.onload=function(x){a(this.response)},_[_0x27ab("0x377")]()}))}},{key:_0x27ab("0x31"),value:function(x,a){var b=this;this.loadFile(x)[_0x27ab("0x312")]((function(_){b.loadSoundArrayBuffer(_,x),a&&a()}))}},{key:_0x27ab("0xda3"),value:function(x){switch(x){case"startNaving":this.playAudioByText([_0x27ab("0xd7d")]);break;case _0x27ab("0xda6"):this[_0x27ab("0xda5")]([_0x27ab("0xd80")])}}},{key:"loadSoundArrayBuffer",value:function(x,a){this.dataBytes=new Uint8Array(x);var b=x[_0x27ab("0x78a")],_=this[_0x27ab("0xdae")](this[_0x27ab("0xd98")],b-this[_0x27ab("0xd99")],b-1),e=this[_0x27ab("0xd9a")](_.buffer)[_0x27ab("0x28")]("}]")[0]+"}]";this[_0x27ab("0xd8f")]=JSON[_0x27ab("0x68")](e);for(var t=0,i=this.audioGroupMapData[_0x27ab("0x0")];t<i;t++){var r=this[_0x27ab("0xd8f")][t],s=this[_0x27ab("0xd9b")](r[_0x27ab("0xc5")])[_0x27ab("0x111")](_0x27ab("0xd9c"),"");s==_0x27ab("0xdb1")?this[_0x27ab("0xd9d")][s]=[r.extentIndex[0]+250,r.extentIndex[1]-250]:this[_0x27ab("0xd9d")][s]=r.extentIndex}var o=this;this.sound=new(n[_0x27ab("0xd9f")])({src:[a],sprite:this[_0x27ab("0xd9d")],rate:this[_0x27ab("0x30f")]}),this.sound[_0x27ab("0x1e0")]("loaderror",(function(x){_0x27ab("0xda1"),o[_0x27ab("0xda2")]()})),this[_0x27ab("0xd8e")][_0x27ab("0x1e0")](_0x27ab("0x14b"),(function(){o.isLoaded=!0}))}},{key:_0x27ab("0xda7"),value:function(){var x=document[_0x27ab("0x20")](_0x27ab("0x3a3"));x[_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0xda8"),x[_0x27ab("0xea")][_0x27ab("0x184")]=_0x27ab("0x32f"),x[_0x27ab("0xea")].left="0";var a=this,b=function(b){var _=document[_0x27ab("0x20")](_0x27ab("0x726"));_[_0x27ab("0xea")][_0x27ab("0xda9")]=_0x27ab("0xdb2"),_.innerHTML=b,_[_0x27ab("0x2f")](_0x27ab("0x9e2"),(function(){a[_0x27ab("0xd8e")][_0x27ab("0x2cc")](b)}),!1),x[_0x27ab("0x24")](_)};for(var _ in this[_0x27ab("0xd9d")])b(_);document[_0x27ab("0x23")][_0x27ab("0x24")](x)}},{key:"distory",value:function(){this[_0x27ab("0x1c4")](),this.sound.off(_0x27ab("0x14b")),this[_0x27ab("0xd8e")][_0x27ab("0xdab")]()}},{key:_0x27ab("0xdac"),value:function(x){var a=this;if(x&&x[_0x27ab("0x0")]>0&&this[_0x27ab("0xd91")]){this[_0x27ab("0xdad")]=!0,this[_0x27ab("0xd94")]=x,this[_0x27ab("0xd92")]=0,this[_0x27ab("0xd93")]=x[_0x27ab("0x0")],this[_0x27ab("0xd8e")].on(_0x27ab("0x2d3"),this[_0x27ab("0xd95")]);var b=this.spriteArray[this.playIndex++];this.sound[_0x27ab("0x2cc")](b);var _=0;return x.forEach((function(x){var b=a.sprite[x];_+=b[1]})),_*this[_0x27ab("0xd8e")][_0x27ab("0xdb3")]()}}},{key:_0x27ab("0xda5"),value:function(x){if(this[_0x27ab("0xd91")]&&(!this.isPlaying||this[_0x27ab("0xd90")])){for(var a=/^[0-9]*$/,b=[],e=0,t=x[_0x27ab("0x0")];e<t;e++)if(a[_0x27ab("0x3b8")](x[e])){var i=this.num2text(x[e]),n=!0,r=!1,s=void 0;try{for(var o,c=(0,_.default)(i);!(n=(o=c.next())[_0x27ab("0x3df")]);n=!0){var l=o[_0x27ab("0xf8")];b[_0x27ab("0x1")](String(l))}}catch(x){r=!0,s=x}finally{try{!n&&c[_0x27ab("0x2be")]&&c[_0x27ab("0x2be")]()}finally{if(r)throw s}}}else b[_0x27ab("0x1")](x[e]);return this[_0x27ab("0x1c4")](),this[_0x27ab("0xdac")](b)}}},{key:_0x27ab("0x1c4"),value:function(){this[_0x27ab("0xd8e")].stop(),this.sound[_0x27ab("0x61")](_0x27ab("0x2d3"),this.endHandler),this[_0x27ab("0xd92")]=0,this.playLength=-1,this[_0x27ab("0xd94")]=[],this[_0x27ab("0xdad")]=!1}},{key:_0x27ab("0xdae"),value:function(x,a,b){for(var _=[],e=a;e<b;e++)_[_0x27ab("0x1")](x[e]);return new Uint8Array(_)}},{key:_0x27ab("0xd9a"),value:function(x){return String.fromCharCode[_0x27ab("0x5")](null,new Uint8Array(x))}},{key:_0x27ab("0xdaf"),value:function(x){var a=function x(a,b,_){var e=_||[],t=b||0;1===t&&e.unshift(1e3),a=parseInt(a);var i=parseInt(a/1e3),n=a%1e3,r=parseInt(n/100),s=parseInt((n-100*r)/10),o=n%10,c=n%100;return c>0&&(c<20?e[_0x27ab("0x973")](c):(o>0&&e.unshift(o[_0x27ab("0x2c")]()),e.unshift(10*s))),(i>0&&c>0||r>0&&c>0)&&e[_0x27ab("0x973")](_0x27ab("0xdb4")),r>0&&(e.unshift(100),e[_0x27ab("0x973")](r)),i>0&&0===t?x(i,++t,e):e}(x);return a}},{key:_0x27ab("0xd9b"),value:function(x){return unescape(x[_0x27ab("0x111")](/\\u/gi,"%u"))}}]),x}();a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(){(0,_[_0x27ab("0xb")])(this,x)}return(0,e.default)(x,null,[{key:"convert",value:function(x){var a={};return x.on=function(b,_){return(a[b]=a[b]||[])[_0x27ab("0x1")](_),x},x[_0x27ab("0x1e0")]=function(a,b){function _(){b.apply(x[_0x27ab("0x61")](a,_),arguments)}return _.h=b,x.on(a,_)},x[_0x27ab("0x61")]=function(b,_){for(var e=a[b],t=0;_&&e&&e[t];t++)e[t]!=_&&e[t].h!=_||e[_0x27ab("0x157")](t--,1);return t||delete a[b],x},x[_0x27ab("0x25e")]=function(b){for(var _=a[b],e=0;_&&_[e];)_[e++][_0x27ab("0x5")](x,_.slice[_0x27ab("0x3")](arguments,1));return x},x}}]),x}();a[_0x27ab("0xb")]=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this.map=a;var b=esmap[_0x27ab("0x80")][_0x27ab("0x22c")]();this[_0x27ab("0xba2")]=!1,this.composer=new(THREE[_0x27ab("0x67d")])(a[_0x27ab("0x614")][_0x27ab("0x68c")]),this[_0x27ab("0xdb5")]=new(THREE[_0x27ab("0x67d")])(a[_0x27ab("0x614")][_0x27ab("0x68c")]),this[_0x27ab("0x24b")]=(b.isPC,2),this[_0x27ab("0xdb6")]={width:a[_0x27ab("0x614")].w_,height:a[_0x27ab("0x614")].h_};var e=new(THREE[_0x27ab("0x6af")])(a[_0x27ab("0x614")][_0x27ab("0xc1")],a[_0x27ab("0x614")][_0x27ab("0x613")]);this[_0x27ab("0xb36")][_0x27ab("0xdb7")](e),this[_0x27ab("0xdb8")]=new(THREE[_0x27ab("0x689")])(THREE[_0x27ab("0x6ba")]),this.composer[_0x27ab("0xdb7")](this[_0x27ab("0xdb8")]);var t=new THREE.ShaderPass(THREE[_0x27ab("0x676")]);t[_0x27ab("0x6b4")]=!0,this[_0x27ab("0xb36")][_0x27ab("0xdb7")](t);var i=new(THREE[_0x27ab("0x6af")])(a[_0x27ab("0x614")][_0x27ab("0xc1")],a[_0x27ab("0x614")][_0x27ab("0xac7")]),n=new THREE.ShaderPass(THREE.CopyShader);n[_0x27ab("0x6b4")]=!0,this.composerOrtho[_0x27ab("0xdb7")](i),this[_0x27ab("0xdb5")].addPass(n),this[_0x27ab("0x28b")](this[_0x27ab("0x24b")])}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x57e"),value:function(){if(this.enabled){if(this[_0x27ab("0x37")].fire(_0x27ab("0xdb9")),this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x224")])return;if(esmap[_0x27ab("0xb18")])return;this[_0x27ab("0xb36")][_0x27ab("0x57e")](this[_0x27ab("0x37")][_0x27ab("0x948")][_0x27ab("0x2ce")]())}else this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0x57e")](this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xc1")],this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0x613")])}},{key:"renderOrtho",value:function(){this[_0x27ab("0x581")]?this[_0x27ab("0xdb5")][_0x27ab("0x57e")](this[_0x27ab("0x37")][_0x27ab("0x948")].getDelta()):this[_0x27ab("0x37")][_0x27ab("0x614")].renderer[_0x27ab("0x57e")](this[_0x27ab("0x37")][_0x27ab("0x614")].scene,this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xac7")])}},{key:_0x27ab("0x28b"),value:function(x){this[_0x27ab("0x24b")]=x,this[_0x27ab("0xaf9")]={width:this.originSize[_0x27ab("0x326")]*this[_0x27ab("0x24b")],height:this[_0x27ab("0xdb6")][_0x27ab("0x1b7")]*this[_0x27ab("0x24b")]}}},{key:_0x27ab("0xb45"),value:function(x,a){this[_0x27ab("0xdb6")][_0x27ab("0x326")]=x,this.originSize[_0x27ab("0x1b7")]=a,this[_0x27ab("0x28b")](this.scale)}},{key:_0x27ab("0xaf9"),get:function(){return{width:this[_0x27ab("0xb36")].renderTarget1.width,height:this[_0x27ab("0xb36")][_0x27ab("0x684")][_0x27ab("0x1b7")]}},set:function(x){this.composer[_0x27ab("0x68e")](x[_0x27ab("0x326")],x[_0x27ab("0x1b7")]),this[_0x27ab("0xdb5")][_0x27ab("0x68e")](x[_0x27ab("0x326")],x[_0x27ab("0x1b7")]),this[_0x27ab("0xdb8")][_0x27ab("0x10a")][_0x27ab("0xb49")].value[_0x27ab("0x123")](1/x[_0x27ab("0x326")],1/x[_0x27ab("0x1b7")])}},{key:_0x27ab("0x581"),get:function(){return this[_0x27ab("0xba2")]},set:function(x){this[_0x27ab("0xba2")]=x}}]),x}();a[_0x27ab("0xb")]=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=o(b(2)),e=o(b(0)),t=o(b(1)),i=b(11),n=o(b(304)),r=o(b(100)),s=b(65);function o(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var c=function(){function x(a){(0,e.default)(this,x),this.themeList={},this[_0x27ab("0x98d")]={},this[_0x27ab("0xdba")]=null,this.usedRoomStyles=[],this[_0x27ab("0xdbb")]={color_:16777215,alpha:.1,strokeColor_:16777215,strokeWidth:2},this.roadStyles={},this[_0x27ab("0xcd3")]={},this[_0x27ab("0x188")]={},this[_0x27ab("0x99e")]=16777215,this.modelOpacity_=.875,this[_0x27ab("0xdbc")]=16776960,this.floorOpacity_=.875,this[_0x27ab("0xdbd")]=0,this.model3DsRGBCity=0,this[_0x27ab("0xdbe")]=16750950,this.selectedLineColor=16119296,this[_0x27ab("0xdbf")]=16762412,this.labelStyle_={fillcolor:"0,0,0",fontface:"",fontsize:_0x27ab("0xdc0"),strokecolor:_0x27ab("0xbaf"),strokewidth:"2",typeid:"0"},this[_0x27ab("0xdc1")]={0:{fillcolor:_0x27ab("0xdc2"),fontface:"",fontsize:_0x27ab("0xdc0"),strokecolor:"255,255,255",strokewidth:"2",typeid:"0"},1:{fillcolor:_0x27ab("0xdc2"),fontface:"",fontsize:_0x27ab("0xdc0"),strokecolor:_0x27ab("0xbaf"),strokewidth:"2",typeid:"1"}},this.textureList={},this[_0x27ab("0xdc3")]={},this[_0x27ab("0xdc4")]=!1,this[_0x27ab("0xdc5")]=16750950,this.modelLines=!1,this[_0x27ab("0xdc6")]=null,this[_0x27ab("0x99c")]=null,this[_0x27ab("0xdc7")]=null,this[_0x27ab("0xfd")]={normal:new(THREE[_0x27ab("0x106")])({color:16777215}),main:new(THREE[_0x27ab("0x106")])({color:16766720})},this[_0x27ab("0x9bb")]=[],this[_0x27ab("0xaf8")]={color:16711680,lineWidth:8,alpha:.8,dash:{size:1,gap:1}},this[_0x27ab("0xdc8")]=null,this.options_=a,this[_0x27ab("0x81d")]=new(THREE[_0x27ab("0x14a")]),this[_0x27ab("0x3f2")]||(this.selectModelMat=new(THREE[_0x27ab("0xdc9")])({color:this[_0x27ab("0xdbe")],transparent:!0,name:"selectMat"})),this[_0x27ab("0x3f2")][_0x27ab("0x107")]=new THREE.Color(this[_0x27ab("0xdbe")]),a[_0x27ab("0x3f1")]&&a[_0x27ab("0x3f1")][_0x27ab("0x235")]&&(this.selectModelMat.color=(new(THREE[_0x27ab("0x108")]))[_0x27ab("0x2ac")](a[_0x27ab("0x3f1")][_0x27ab("0x235")][_0x27ab("0x107")]),this[_0x27ab("0xdbe")]=esmap.ESMapUtil[_0x27ab("0x2e0")](a.selectedColor[_0x27ab("0x235")][_0x27ab("0x107")])),this[_0x27ab("0xdca")]=this[_0x27ab("0xdcb")](this[_0x27ab("0xdbb")]),this.MapTextureList=new(n[_0x27ab("0xb")]),this[_0x27ab("0xdcc")][_0x27ab("0xdcd")]=[],a.randomTexture,this[_0x27ab("0xdce")]=[{typeid:1,type:_0x27ab("0xb39"),color:_0x27ab("0xdcf"),intensity:1},{typeid:2,type:"DirectionalLight",color:_0x27ab("0xdd0"),intensity:1.4,pitchAngle:70,directionAngle:180},{typeid:3,type:"DirectionalLight",color:_0x27ab("0xdd1"),intensity:0,pitchAngle:45,directionAngle:90}]}return(0,t[_0x27ab("0xb")])(x,[{key:_0x27ab("0xdd2"),value:function(x){var a=esmap[_0x27ab("0x32")].instance,b=a[_0x27ab("0x614")][_0x27ab("0x772")][x];b?(a[_0x27ab("0x614")].scene[_0x27ab("0x158")](b),delete a[_0x27ab("0x614")].lights[x]):console[_0x27ab("0x257")]("light "+x+_0x27ab("0xdd3"))}},{key:_0x27ab("0xdd4"),value:function(x){var a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],b=void 0;if(x[_0x27ab("0x70")])switch(x.type){case _0x27ab("0xb39"):b=new(THREE[_0x27ab("0xb39")]);break;case _0x27ab("0x776"):b=new(THREE[_0x27ab("0x776")])(8947848,1)}b[_0x27ab("0xc5")]=x[_0x27ab("0x621")],a[_0x27ab("0x614")].lights[x[_0x27ab("0x621")]]=b,this.setLightProperties(b,x),a[_0x27ab("0x614")].scene[_0x27ab("0x163")](b)}},{key:"setLights",value:function(x){_0x27ab("0xb3a"),_0x27ab("0xb3b");for(var a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")].mapView.lights,b=0;b<x[_0x27ab("0x0")];b++){var _=x[b];a[_[_0x27ab("0x621")]]?this[_0x27ab("0xdd5")](a[_[_0x27ab("0x621")]],_):this[_0x27ab("0xdd4")](_)}}},{key:"updateThemeStyle",value:function(x,a,b){this[_0x27ab("0xdd6")](this[_0x27ab("0xdd7")],32,b,x,a)}},{key:"updateTileStylesByData",value:function(x){for(var a=esmap[_0x27ab("0x32")].instance,b=this[_0x27ab("0xdc8")].Building,e=0;e<x[_0x27ab("0x0")];e++){var t=x[e];if((0,s[_0x27ab("0xdb")])(t,b[e])){t.opacity;var i=1*t.filltype||1,n=1*t.scaleheight||1;if(1==i)(0,_[_0x27ab("0xb")])(this[_0x27ab("0xcd3")][t[_0x27ab("0x621")]],{scaleheight:n,color:t.color});else{if(!t[_0x27ab("0xdd8")]&&!t[_0x27ab("0xdd9")]){_0x27ab("0xdda"),t[_0x27ab("0x621")],t.filltype=1,e--;continue}var r=esmap.ESMapUtil[_0x27ab("0x5e7")](t[_0x27ab("0x107")]),o=document[_0x27ab("0x20")](_0x27ab("0x8fe"));o[_0x27ab("0x326")]=16,o[_0x27ab("0x1b7")]=16;var c=o[_0x27ab("0x8ff")]("2d");c[_0x27ab("0x9fe")]=r,c.fillRect(0,0,16,16),new(THREE[_0x27ab("0x42d")])(o)[_0x27ab("0x146")]=!0;var l=void 0,f=null,u=a[_0x27ab("0x33")][_0x27ab("0x41")]+_0x27ab("0x94")+this[_0x27ab("0x424")][_0x27ab("0x6a")]+_0x27ab("0xddb"),d=1*t[_0x27ab("0xddc")],h=1*t.sideimagerepeat;if(t[_0x27ab("0xdd8")]){if(t[_0x27ab("0xdd8")][_0x27ab("0xd1")]("/")>-1&&(u=a[_0x27ab("0x33")][_0x27ab("0x3f")]+a.id+"/worldtheme/"+this[_0x27ab("0x424")].themeID+_0x27ab("0xddd")),l=this.textureLoader.load(u+t.topimage),t[_0x27ab("0xdde")]||(t[_0x27ab("0xdde")]=1),1*t[_0x27ab("0xdde")]==1){var g=(1*t[_0x27ab("0xddc")]||50)/500;l.wrapS=l.wrapT=THREE[_0x27ab("0x150")],l.repeat.x=g,l.repeat.y=g}l[_0x27ab("0x146")]=!0}if(t[_0x27ab("0xdd9")]){if(t[_0x27ab("0xdd9")].indexOf("/")>-1&&(u=a[_0x27ab("0x33")][_0x27ab("0x3f")]+a.id+"/worldtheme/"+this.options_.themeID+"/upload/building/"),f=this[_0x27ab("0x81d")][_0x27ab("0x14b")](u+t[_0x27ab("0xdd9")]),t[_0x27ab("0xddf")]||(t[_0x27ab("0xddf")]=1),1*t.sideimagetype==1){var v=(1*t.sideimagerepeat||50)/500;f[_0x27ab("0x14f")]=f[_0x27ab("0x151")]=THREE[_0x27ab("0x150")],f[_0x27ab("0x11d")].x=v,f[_0x27ab("0x11d")].y=v}f[_0x27ab("0x146")]=!0}var p=this[_0x27ab("0xcd3")][t[_0x27ab("0x621")]][_0x27ab("0xb3")][_0x27ab("0x127")][_0x27ab("0xde0")];l&&(p.shader.uniforms.topTex[_0x27ab("0xf8")]=l,p[_0x27ab("0x356")][_0x27ab("0x10a")][_0x27ab("0xde1")][_0x27ab("0xf8")]=l[_0x27ab("0x34d")]),f&&(p[_0x27ab("0x356")][_0x27ab("0x10a")][_0x27ab("0x34f")][_0x27ab("0xf8")]=f,p[_0x27ab("0x356")][_0x27ab("0x10a")].sideTexMat[_0x27ab("0xf8")]=f.matrix),(0,_[_0x27ab("0xb")])(this[_0x27ab("0xcd3")][t.typeid],{scaleheight:n,topTextureType:1*t[_0x27ab("0xdde")]||1,sideTextureType:1*t[_0x27ab("0xddf")]||1,filltype:i,topImage:t[_0x27ab("0xdd8")],sideImage:t[_0x27ab("0xdd9")],sideimagerepeat:h,topimagerepeat:d})}}}}},{key:_0x27ab("0xde2"),value:function(x){var a={fillcolor:"fillcolor",fontsize:_0x27ab("0xde3"),strokecolor:"strokecolor",strokewidth:_0x27ab("0xde4"),typeid:_0x27ab("0x621")};for(var b in x){var e=x[b],t=e.typeid;for(var i in this[_0x27ab("0x188")][t]=(0,_[_0x27ab("0xb")])({},this[_0x27ab("0x18a")]),this[_0x27ab("0x188")][t][_0x27ab("0x621")]=t,e)a[i]&&(this[_0x27ab("0x188")][t][a[i]]=e[i])}}},{key:"initTileStylesByData",value:function(x){var a=this,b=esmap.ESMap[_0x27ab("0xd3")],_=0,e=void 0,t=void 0;this.modelBasicMat=[];for(var i=b[_0x27ab("0x33")].editMode,n=0;n<x[_0x27ab("0x0")];n++){var s=x[n],o=1*s[_0x27ab("0x103")]||0,c=!0,l=1*s.filltype||1,f=1*s[_0x27ab("0xcd8")]||1,u=1*s[_0x27ab("0x1b7")]||0,d=1*s[_0x27ab("0xde5")]||0,h=1*s[_0x27ab("0xde6")]||0,g=s[_0x27ab("0xde7")]||_0x27ab("0xdd1");if(d){var v=new(THREE[_0x27ab("0x106")])({color:esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](s[_0x27ab("0x107")]),transparent:c,opacity:o,side:0});this[_0x27ab("0xcd3")][s.typeid]={basic:d,material:v,borderwidth:h,bordercolor:g,prodMatIdx:1e3+1*s[_0x27ab("0x621")],scaleheight:f,color:s[_0x27ab("0x107")],hasTexture:!1,filltype:1,height:u},this[_0x27ab("0xcd3")][1e3+1*s[_0x27ab("0x621")]]=this[_0x27ab("0xcd3")][s[_0x27ab("0x621")]]}else if(1==l){var p=new(THREE[_0x27ab("0xdc9")])({color:esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](s[_0x27ab("0x107")]),transparent:c,opacity:o,side:0});this.tileStyles[s[_0x27ab("0x621")]]={borderwidth:h,bordercolor:g,material:p,prodMatIdx:0,scaleheight:f,color:s[_0x27ab("0x107")],hasTexture:!1,filltype:1,height:u}}else{if(!s[_0x27ab("0xdd8")]&&!s[_0x27ab("0xdd9")]){console[_0x27ab("0x257")](_0x27ab("0xdda")+s[_0x27ab("0x621")]+"至少包含一种纹理图片!"),s.filltype=1,n--;continue}var A=esmap[_0x27ab("0x80")].colorRGB2Hex(s[_0x27ab("0x107")]),m=new(r[_0x27ab("0xb")])({colorStr:A}),C=document[_0x27ab("0x20")](_0x27ab("0x8fe"));C[_0x27ab("0x326")]=16,C[_0x27ab("0x1b7")]=16;var I=C[_0x27ab("0x8ff")]("2d");I[_0x27ab("0x9fe")]=A,I[_0x27ab("0x922")](0,0,16,16);var y=new THREE.Texture(C);y[_0x27ab("0x146")]=!0;var E=void 0,w=null,T=1*s.topimagerepeat,k=1*s[_0x27ab("0xde8")];if(s[_0x27ab("0xdd8")]){var S=b.options[_0x27ab("0x41")]+_0x27ab("0x94")+this[_0x27ab("0x424")][_0x27ab("0x6a")]+_0x27ab("0xddb");if(s[_0x27ab("0xdd8")].indexOf("/")>-1&&(S=b[_0x27ab("0x33")][_0x27ab("0x3f")]+"/"+b.id+_0x27ab("0x94")+this.options_[_0x27ab("0x6a")]+_0x27ab("0xddd")),this[_0x27ab("0xdc3")][s.topimage]={uuid:null,texture:null,loaded:!1},E=this.textureLoader[_0x27ab("0x14b")](S+s[_0x27ab("0xdd8")],(function(x){var _=x[_0x27ab("0x628")],e=!0;for(var t in x[_0x27ab("0x146")]=!0,a[_0x27ab("0xdc3")])a.tileTextures[t][_0x27ab("0x628")]===_&&(a[_0x27ab("0xdc3")][t][_0x27ab("0xa68")]=!0),a[_0x27ab("0xdc3")][t][_0x27ab("0xa68")]||(e=!1);e&&b[_0x27ab("0x1e7")](_0x27ab("0xde9"))})),this.tileTextures[s.topimage][_0x27ab("0x628")]=E[_0x27ab("0x628")],this[_0x27ab("0xdc3")][s[_0x27ab("0xdd8")]].texture=E,s.topimagetype||(s[_0x27ab("0xdde")]=1),1*s.topimagetype==1){var M=(1*s[_0x27ab("0xddc")]||50)/500;E.wrapS=E.wrapT=THREE[_0x27ab("0x150")],E[_0x27ab("0x11d")].x=M,E.repeat.y=M}this[_0x27ab("0xdc3")][E]}if(s[_0x27ab("0xdd9")]){var R=b.options.serverUrl+_0x27ab("0x94")+this.options_[_0x27ab("0x6a")]+_0x27ab("0xddb");if(s.sideimage[_0x27ab("0xd1")]("/")>-1&&(R=b[_0x27ab("0x33")].mapDataSrc+"/"+b.id+_0x27ab("0x94")+this[_0x27ab("0x424")].themeID+"/upload/building/"),this[_0x27ab("0xdc3")][s.sideimage]={uuid:null,texture:null,loaded:!1},w=this[_0x27ab("0x81d")][_0x27ab("0x14b")](R+s[_0x27ab("0xdd9")],(function(x){var _=x.uuid,e=!0;for(var t in x[_0x27ab("0x146")]=!0,a.tileTextures)a[_0x27ab("0xdc3")][t][_0x27ab("0x628")]===_&&(a[_0x27ab("0xdc3")][t][_0x27ab("0xa68")]=!0),a[_0x27ab("0xdc3")][t].loaded||(e=!1);e&&b[_0x27ab("0x1e7")](_0x27ab("0xde9"))})),this[_0x27ab("0xdc3")][s[_0x27ab("0xdd9")]][_0x27ab("0x628")]=w[_0x27ab("0x628")],this.tileTextures[s.sideimage].texture=w,s.sideimagetype||(s[_0x27ab("0xddf")]=1),1*s.sideimagetype==1){var L=(1*s[_0x27ab("0xde8")]||50)/500;w[_0x27ab("0x14f")]=w[_0x27ab("0x151")]=THREE[_0x27ab("0x150")],w[_0x27ab("0x11d")].x=L,w[_0x27ab("0x11d")].y=L}}var H=e;e&&0!==_||((H=m[_0x27ab("0x346")]({topTexture:E||y,sideTexture:w||y}))[_0x27ab("0x127")][_0x27ab("0xdea")]=w,H[_0x27ab("0x127")][_0x27ab("0xdeb")]=E,H[_0x27ab("0x102")]=c,H[_0x27ab("0x127")][_0x27ab("0xde0")]=m,H.opacity=o,e=H,this.modelBasicMat[_0x27ab("0x1")](H),H[_0x27ab("0x127")][_0x27ab("0xdec")]=this[_0x27ab("0x9bb")][_0x27ab("0x0")]-1),t||(t=H),this[_0x27ab("0xcd3")][s[_0x27ab("0x621")]]={borderwidth:h,bordercolor:g,scaleheight:f,material:H,prodMatIdx:H.userData[_0x27ab("0xdec")],hasTexture:!0,topTextureType:1*s.topimagetype||1,sideTextureType:1*s.sideimagetype||1,filltype:l,topImage:s[_0x27ab("0xdd8")],sideImage:s.sideimage,sideimagerepeat:k,topimagerepeat:T,height:u},i?this.tileStyles[s.typeid][_0x27ab("0xded")]=m:_+=1,4===_&&(_=0)}}var D={};for(var P in this.tileStyles)this[_0x27ab("0xcd3")][P].basic||1*this.tileStyles[P][_0x27ab("0xcd5")]!=1||i||(this[_0x27ab("0xcd3")][P][_0x27ab("0xb3")]=t,this[_0x27ab("0xcd3")][P][_0x27ab("0xdee")]=0),D[P]=this[_0x27ab("0xcd3")][P][_0x27ab("0xdee")];this.tileStylesMap=D}},{key:_0x27ab("0xdef"),value:function(x){var a=esmap[_0x27ab("0x32")].instance;if(a.options[_0x27ab("0x19f")])for(var b=0;b<x[_0x27ab("0x0")];b++){var _=x[b],e=_[_0x27ab("0x621")],t=new THREE.MeshBasicMaterial({color:16777215,transparent:true,opacity:1*_[_0x27ab("0x103")],side:THREE[_0x27ab("0x11c")]});t.transparent=true,t[_0x27ab("0x103")]=1*_[_0x27ab("0x103")];var i=null;if(1==_[_0x27ab("0xcd5")])t[_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(esmap.ESMapUtil[_0x27ab("0x2e0")](_[_0x27ab("0x107")]));else{i=a[_0x27ab("0x33")][_0x27ab("0x41")]+"/worldtheme/"+this[_0x27ab("0x424")].themeID+"/line/"+_.image,_[_0x27ab("0x187")][_0x27ab("0xd1")]("/")>-1&&(i=this[_0x27ab("0x424")][_0x27ab("0x41")]+(1==this[_0x27ab("0x424")][_0x27ab("0x96")]?a.options[_0x27ab("0x3f")]+a.id:"/")+_0x27ab("0x94")+this[_0x27ab("0x424")][_0x27ab("0x6a")]+_0x27ab("0xdf0")+_.image);var n=this[_0x27ab("0x81d")][_0x27ab("0x14b")](i);n[_0x27ab("0x11d")].y=1,n[_0x27ab("0x143")].y=0,n[_0x27ab("0x14d")]=THREE.LinearMipMapLinearFilter,n[_0x27ab("0x14f")]=THREE[_0x27ab("0x150")],n.wrapT=THREE[_0x27ab("0x150")],n[_0x27ab("0x11d")].x=.01,n[_0x27ab("0x14c")]=a[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0xc80")][_0x27ab("0xc85")](),t[_0x27ab("0x37")]=n}_[_0x27ab("0x1b6")]=_.animationspeed||0,_[_0x27ab("0xc")](_0x27ab("0x103"))||(_[_0x27ab("0x103")]=1),this[_0x27ab("0x1a7")][e]={url:i,animationspeed:1*_[_0x27ab("0x1b6")],material:t,color:_[_0x27ab("0x107")],filltype:_[_0x27ab("0xcd5")],height:1*_[_0x27ab("0x1b7")],image:_[_0x27ab("0x187")],linetype:_[_0x27ab("0xdf1")],linewidth:1*_.linewidth,layerstyle:_[_0x27ab("0xdf2")],opacity:1*_[_0x27ab("0x103")]}}}},{key:_0x27ab("0xdd5"),value:function(x,a){a[_0x27ab("0xc")](_0x27ab("0x3f3"))&&(x[_0x27ab("0x3f3")]=1*a.intensity),a[_0x27ab("0xc")](_0x27ab("0x107"))&&(x[_0x27ab("0x107")]=(new THREE.Color)[_0x27ab("0x2ac")](a[_0x27ab("0x107")])),x[_0x27ab("0x70")]==_0x27ab("0x776")&&a[_0x27ab("0xc")]("pitchAngle")&&a[_0x27ab("0xc")](_0x27ab("0xa0b"))&&x[_0x27ab("0xb29")]({pitchAngle:a[_0x27ab("0xa09")],directionAngle:a.directionAngle})}},{key:_0x27ab("0xcc7"),value:function(x){this[_0x27ab("0xdf3")]=1*x.modelLines||!1,this[_0x27ab("0xdef")](x[_0x27ab("0x869")]),this[_0x27ab("0xdf4")](x[_0x27ab("0x1f1")]),x.Poi&&this.initPoiStylesByData(x[_0x27ab("0xdf5")]),this[_0x27ab("0xdc8")]=x}},{key:_0x27ab("0xc56"),value:function(x){var a=x.id,b=x[_0x27ab("0x366")];this[_0x27ab("0xa20")](a,b)}},{key:_0x27ab("0xa20"),value:function(x,a){this[_0x27ab("0x99e")]=esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](a[_0x27ab("0xdf6")][_0x27ab("0xdf7")]);var b=this[_0x27ab("0xdf8")][x]={};b.poiStyle={},b[_0x27ab("0xdf9")]={},b[_0x27ab("0xdba")]={},b.data=a,b[_0x27ab("0xdf3")]=1*a.modelLines||!1,esmap[_0x27ab("0x32")][_0x27ab("0xd3")].mode==esmap[_0x27ab("0x39")].Building&&(a.lights?this[_0x27ab("0xdfa")](a[_0x27ab("0x772")]):this.setLights(this[_0x27ab("0xdce")])),this[_0x27ab("0xdbd")]=1*a[_0x27ab("0xdf6")][_0x27ab("0xdbd")]||0;for(var _=a[_0x27ab("0xdfb")],e=0;e<_[_0x27ab("0x0")];e++){var t=_[e];t[_0x27ab("0xdfc")]=esmap.ESMapUtil[_0x27ab("0x2e0")](t.color),1==t.typeid&&(this.selectedColor_=t[_0x27ab("0xdfc")]),t.strokeColor_=esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](t.strokecolor),t[_0x27ab("0xe8")]=t[_0x27ab("0x102")],b[_0x27ab("0xdba")][t.typeid]=this[_0x27ab("0xdcb")](t,null,x),b[_0x27ab("0xdf9")][t[_0x27ab("0x621")]]=t}var i={},n=a[_0x27ab("0xdfd")];if(b.floorStyleBase={},n&&n[_0x27ab("0x0")]>0){var r=n[0];this[_0x27ab("0xdbc")]=esmap[_0x27ab("0x80")].toColor(r.color),r[_0x27ab("0x102")]&&(this.floorOpacity_=1-parseFloat(r[_0x27ab("0x102")])),n[_0x27ab("0x1b")]((function(x){b[_0x27ab("0xdfe")][x.floornum]={height:x[_0x27ab("0xdff")],opacity:1-parseFloat(x.transparent),color:esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](x[_0x27ab("0x107")]),image:x.image||"",imagesize:x.imagesize||""};var a=x[_0x27ab("0x187")];a&&!i[a[_0x27ab("0x111")](_0x27ab("0xe00"),"")]&&(i[a.replace(".png","")]=1)}))}this[_0x27ab("0xdd7")]=i,b[_0x27ab("0xe01")]={},b[_0x27ab("0xdc1")]={};var s=a[_0x27ab("0xe02")];if(s){s[0]&&(this[_0x27ab("0x18a")]=s[0],s[1]&&(this.labelSelectedStyle_=s[1]));var o,c=this[_0x27ab("0x424")][_0x27ab("0x6c")]+x+"/";for(e=0;e<s[_0x27ab("0x0")];e++){null!=(o=s[e])[_0x27ab("0x187")]&&""!=o[_0x27ab("0x187")]&&(o[_0x27ab("0x572")]=esmap[_0x27ab("0x80")][_0x27ab("0x58f")](c+o[_0x27ab("0x187")]));for(var l=o[_0x27ab("0x621")][_0x27ab("0x28")](","),f=0;f<l[_0x27ab("0x0")];f++)b[_0x27ab("0xe01")][l[f]]=o}}}},{key:_0x27ab("0xdcb"),value:function(x,a,b){var _=x[_0x27ab("0xe03")]||!1,e=new(THREE[_0x27ab("0xdc9")])({color:a||x[_0x27ab("0xdfc")],opacity:1*x[_0x27ab("0xe8")]});if(e.opacity<1&&(e.transparent=!0),e[_0x27ab("0x109")]=function(x){x[_0x27ab("0x10e")]=x[_0x27ab("0x10e")][_0x27ab("0x111")](_0x27ab("0x351"),_0x27ab("0xe04")),x[_0x27ab("0x10e")]=x[_0x27ab("0x10e")][_0x27ab("0x111")](_0x27ab("0x112"),_0x27ab("0xe05")),x.fragmentShader=x[_0x27ab("0x113")].replace(_0x27ab("0x114"),_0x27ab("0xe06")),x[_0x27ab("0x113")]=x.fragmentShader[_0x27ab("0x111")]("gl_FragColor = vec4( outgoingLight, diffuseColor.a );","\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                if(hideFlag > 0.0){\n                    discard;\n                }\n                gl_FragColor = resultColor;\n                ")},x[_0x27ab("0x187")]){var t=esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x33")][_0x27ab("0x6c")]+"/"+b+"/"+x[_0x27ab("0x187")],i=esmap[_0x27ab("0x80")][_0x27ab("0x58f")](t);i.wrapS=THREE[_0x27ab("0x150")],i[_0x27ab("0x151")]=THREE[_0x27ab("0x150")],e.map=i,e[_0x27ab("0x37")][_0x27ab("0x146")]=!0,e[_0x27ab("0x146")]=!0}return x.hasOwnProperty(_0x27ab("0x105"))&&(e.roughness=1*x[_0x27ab("0x105")]),x[_0x27ab("0xc")](_0x27ab("0x104"))&&(e[_0x27ab("0x104")]=1*x[_0x27ab("0x104")]),_&&(e[_0x27ab("0x91b")]=!1),e}},{key:_0x27ab("0xe07"),value:function(x,a){var b=this[_0x27ab("0xdf8")][x].roomStyle[a];return(0,i.cloneObj)(b||this[_0x27ab("0xdbb")])}},{key:_0x27ab("0xe08"),value:function(x,a){var b=this.themeList[x][_0x27ab("0xdc1")];for(var _ in b)if(1*b[_][_0x27ab("0x621")]==a)return b[_]}},{key:_0x27ab("0xe09"),value:function(x,a,b){var _;b[_0x27ab("0x0")]<1?_=this[_0x27ab("0xdf8")][x][_0x27ab("0xdba")][a]||this.createMaterial_(this[_0x27ab("0xdbb")]):(_=this[_0x27ab("0xdcb")](this[_0x27ab("0xe07")](a),esmap.ESMapUtil.toColor(b))).color_=esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](b);return _||this.defaultMaterial}},{key:"getPoiMaterialByType",value:function(x,a,b,_){var e=esmap[_0x27ab("0x32")].instance,t=void 0;if(e.mode==esmap.MapMode[_0x27ab("0x1f1")])t=isNaN(a)?e[_0x27ab("0x33")].mapDataSrc+"/"+e.id+_0x27ab("0xd4f")+a:e.options[_0x27ab("0x6c")]?e.options[_0x27ab("0x6c")]+"/"+x+"/"+a+".png":e[_0x27ab("0x33")].mapDataSrc+"/"+e.id+_0x27ab("0x97")+x+"/"+a+".png";else if(1!=e[_0x27ab("0x33")].tid)t=isNaN(a)?1==_?e[_0x27ab("0x33")][_0x27ab("0x41")]+"/buildingImagelabel/"+a:e.options.serverUrl+"/buildings/"+b+_0x27ab("0xd4f")+a:e[_0x27ab("0x33")][_0x27ab("0x41")]+"/buildings/theme/"+x+"/"+a+".png";else if(isNaN(a))if(1==_){var i=3==e[_0x27ab("0x33")].s?_0x27ab("0xe0a"):"/EsmapTileData/";t=e[_0x27ab("0x33")][_0x27ab("0x41")]+i+e.id+_0x27ab("0xe0b")+a}else{var n=3==e[_0x27ab("0x33")].s?_0x27ab("0x99"):_0x27ab("0x9a");t=e[_0x27ab("0x33")].serverUrl+n+b+"/imagelabel/"+a}else t=e.options[_0x27ab("0x41")]+_0x27ab("0x97")+x+"/"+a+_0x27ab("0xe00");var r=esmap[_0x27ab("0x80")].loadTexture(t);return r[_0x27ab("0x14d")]=THREE.LinearFilter,r[_0x27ab("0x84e")]=THREE[_0x27ab("0xe0c")],new(THREE[_0x27ab("0x423")])({map:r})}},{key:"initPoiMateriaByData",value:function(x,a,b,_,e){var t=esmap.ESMap.instance,i=this[_0x27ab("0xdf8")][b];for(var n in x){var r={};if(r.id=n,r[_0x27ab("0x1b7")]=a,!i[_0x27ab("0xe0d")][r.id]&&12e4!=r.id){var s="";s=t[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]?t.options.mapThemeSrc?t[_0x27ab("0x33")][_0x27ab("0x6c")]+"/"+b+"/"+r.id+_0x27ab("0xe00"):t[_0x27ab("0x33")][_0x27ab("0x3f")]+"/"+t.id+_0x27ab("0x97")+b+"/"+r.id+_0x27ab("0xe00"):1!=t[_0x27ab("0x33")].tid?t[_0x27ab("0x33")].serverUrl+_0x27ab("0x98")+b+"/"+r.id+".png":t[_0x27ab("0x33")].serverUrl+_0x27ab("0x97")+b+"/"+r.id+_0x27ab("0xe00"),r.id&&r.id[_0x27ab("0x2c")]()[_0x27ab("0xd1")](_0x27ab("0xe00"))>0&&(e==esmap[_0x27ab("0x5bb")][_0x27ab("0xabf")]?s=this[_0x27ab("0x424")][_0x27ab("0x3f")]+"/"+_+_0x27ab("0xe0b")+r.id:1!=this.options_[_0x27ab("0x96")]&&(s=this.options_.mapDataSrc+_0x27ab("0x8d")+_+_0x27ab("0xd4f")+r.id));var o=esmap[_0x27ab("0x80")][_0x27ab("0x58f")](s);o[_0x27ab("0x14d")]=THREE[_0x27ab("0x42f")],o[_0x27ab("0x84e")]=THREE.NearestFilter,r[_0x27ab("0xe0e")]=new(THREE[_0x27ab("0x423")])({map:o}),r[_0x27ab("0xe0e")][_0x27ab("0xaf9")]=a,i.poiStyle[r.id]=r}}this[_0x27ab("0xdd7")]=null}},{key:_0x27ab("0xb0c"),value:function(x,a){var b=this,_=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];a||(a=_[_0x27ab("0x629")]()[_0x27ab("0x33")][_0x27ab("0x6a")]),b.setThemeList(a,x),_[_0x27ab("0x99d")](b[_0x27ab("0x99e")],1);var e=b[_0x27ab("0xdf8")],t=_[_0x27ab("0x629")](),i=e[a];t[_0x27ab("0xaf")][_0x27ab("0x2a1")]((function(x){if(x.datas_)switch(x.datas_[_0x27ab("0xe1")]){case esmap.ESNodeType[_0x27ab("0x1ba")]:if(!i)return;x[_0x27ab("0xb3")].color=new THREE.Color(i[_0x27ab("0xe0f")]),x[_0x27ab("0xb3")][_0x27ab("0x1b5")]=i[_0x27ab("0xde4")];break;case esmap[_0x27ab("0xf1")][_0x27ab("0xa8b")]:var e=b[_0x27ab("0xdbc")],t=b[_0x27ab("0xe10")];if(x[_0x27ab("0xc7")][_0x27ab("0xc7")]&&x[_0x27ab("0xc7")][_0x27ab("0xc7")][_0x27ab("0xae")]instanceof esmap.ESFloorManager){var n=x.parent.parent[_0x27ab("0xae")][_0x27ab("0x18e")][_0x27ab("0x4a1")],r=i[_0x27ab("0xdfe")][n]||i[_0x27ab("0xdfe")][0];if(r)if(e=r[_0x27ab("0x107")],t=r[_0x27ab("0x103")],r[_0x27ab("0x187")]){var s=x[_0x27ab("0xb3")];Array[_0x27ab("0x480")](s)&&(s=x.material[0]);var o=[s,s[_0x27ab("0xe2")]()],c=o[0],l=o[1];l.color=new(THREE[_0x27ab("0x108")])(e),l[_0x27ab("0x103")]=t;var f=_[_0x27ab("0x33")][_0x27ab("0x6c")]+"/"+a+"/"+r.image;esmap[_0x27ab("0x80")][_0x27ab("0x58f")](f,(function(x){x[_0x27ab("0x14f")]=x[_0x27ab("0x151")]=THREE[_0x27ab("0x150")];var a=(_.maxX-_[_0x27ab("0x446")])/(_.maxY-_.minY),b=r[_0x27ab("0x4a0")][_0x27ab("0x28")](",");x.repeat[_0x27ab("0x123")](b[0]*a,b[1]),c[_0x27ab("0x107")][_0x27ab("0x123")](16777215),c[_0x27ab("0x37")]=x,c[_0x27ab("0x37")].needsUpdate=!0,c.needsUpdate=!0})),x[_0x27ab("0xb3")]=o}else x[_0x27ab("0xb3")]instanceof Array?(x[_0x27ab("0xb3")][0][_0x27ab("0x37")]&&(x[_0x27ab("0xb3")][0][_0x27ab("0x37")][_0x27ab("0xb2")](),x[_0x27ab("0xb3")][0][_0x27ab("0x37")]=void 0),x.material[0][_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(e),x[_0x27ab("0xb3")][0][_0x27ab("0x103")]=t):(x[_0x27ab("0xb3")].color=new(THREE[_0x27ab("0x108")])(e),x[_0x27ab("0xb3")][_0x27ab("0x103")]=t)}break;case esmap[_0x27ab("0xf1")][_0x27ab("0x639")]:var u=x[_0x27ab("0xae")][_0x27ab("0x342")][0][_0x27ab("0x623")],d=i.roomStyle[u];if(!d)return;var h=d[_0x27ab("0x107")];if("string"==typeof h&&(h=esmap.ESMapUtil.toColor(d.color)),x[_0x27ab("0xb3")].color)x[_0x27ab("0xb3")][_0x27ab("0x107")]=new THREE.Color(h),x[_0x27ab("0xb3")][_0x27ab("0x103")]=d.alpha||1,x[_0x27ab("0xb3")][_0x27ab("0x146")]=!0;else{var g=x[_0x27ab("0xb3")];g[0].color=new(THREE[_0x27ab("0x108")])(h),g[0][_0x27ab("0x103")]=1*d.alpha||1,g[0][_0x27ab("0x146")]=!0}break;case esmap[_0x27ab("0xf1")][_0x27ab("0x63a")]:if(!i)return;break;case esmap[_0x27ab("0xf1")][_0x27ab("0xa8c")]:x[_0x27ab("0x152")](b.labelStyle_);break;case esmap.ESNodeType[_0x27ab("0xa9a")]:x[_0x27ab("0x152")](x[_0x27ab("0xae")][_0x27ab("0xe11")]);break;case esmap[_0x27ab("0xf1")][_0x27ab("0xe12")]:"modelImage"==x[_0x27ab("0x60a")]&&x[_0x27ab("0xae")].updateStyle()}}))}},{key:_0x27ab("0xa32"),set:function(x){this.model3DSelectedColor_=esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](x)},get:function(){return this.model3DSelectedColor_}}]),x}();a[_0x27ab("0xb")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=o(b(12)),e=o(b(42)),t=o(b(8)),i=o(b(13)),n=o(b(0)),r=o(b(1)),s=b(305);function o(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var c=function(){function x(){(0,n.default)(this,x),this.materials=[]}var a;return(0,r.default)(x,[{key:"randomIndex",value:function(x){function a(e){if("side"==e){if(1==x)return t=(0,s[_0x27ab("0xe13")])(0,2);var t=(0,s[_0x27ab("0xe13")])(2,b[_0x27ab("0x11b")][_0x27ab("0x0")]);t=Math[_0x27ab("0x2b")]()<.6?2:t;var i=b[_0x27ab("0x11b")][t][_0x27ab("0x70")];return 2==x&&2==i?a(e):t}var n=b[_0x27ab("0x11b")][_].topIndex[_0x27ab("0x0")];if(n>1){var r=(0,s.RandomNum)(0,n);return b[_0x27ab("0x11b")][_][_0x27ab("0xe14")][r]}return b.side[_][_0x27ab("0xe14")][0]}var b=this[_0x27ab("0xdcd")],_=a("side"),e=a("top");return{sideIndex:_,topIndex:e}}},{key:"getTextures",value:(a=(0,i.default)(_[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){var b,i,n;return _[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x.next){case 0:return n=function(x,a,b,_,e){var t=document[_0x27ab("0x20")](_0x27ab("0x8fe")),i=t[_0x27ab("0x8ff")]("2d");return t[_0x27ab("0x326")]=_,t[_0x27ab("0x1b7")]=e,i.drawImage(x,a,b,_,e,0,0,_,e),t},b=this,i=s.dataA,a&&(i[_0x27ab("0x1b9")]=a),x[_0x27ab("0x5e3")](_0x27ab("0x2be"),new t.default((function(x){(new(THREE[_0x27ab("0xe15")]))[_0x27ab("0x14b")](i[_0x27ab("0x1b9")],(function(a){for(var _,t=[],r={top:[],side:[]},s=0;s<i[_0x27ab("0x11b")][_0x27ab("0x0")]&&!(s>0);s++){var o=(h=i.side[s])[_0x27ab("0x777")];if(1==h[_0x27ab("0x70")]){_=n(a,o.x,o.y,o.w,o.h),(u=new(THREE[_0x27ab("0x42d")])(_)).wrapS=u[_0x27ab("0x151")]=1e3,u.needsUpdate=!0;var c=new THREE.MeshBasicMaterial({});t[_0x27ab("0x1")](c),r[_0x27ab("0x11b")].push({topIndex:h.topIndex,sideIndex:t.length-1,type:1})}else if(2==h[_0x27ab("0x70")]||3==h.type){for(var l=[{x:o.x,y:o.y,w:o.w,h:o.h}],f=0;f<l.length;f++){_=n(a,l[f].x,l[f].y,l[f].w,l[f].h);var u=new(THREE[_0x27ab("0x42d")])(_);0==f||2==f?(u.wrapS=1e3,u.wrapT=1e3):1!=f&&3!=f||(u[_0x27ab("0x14f")]=u.wrapT=1e3),u[_0x27ab("0x146")]=!0,c=new THREE.MeshBasicMaterial({map:u,transparent:!0,opacity:1}),t[_0x27ab("0x1")](c)}r[_0x27ab("0x11b")].push({topIndex:h[_0x27ab("0xe14")],sideIndex:t.length-1,type:h.type})}}for(var d=0;d<i[_0x27ab("0x184")][_0x27ab("0x0")]&&!(d>0);d++){var h;if(1==(h=i[_0x27ab("0x184")][d])[_0x27ab("0x70")])_=n(a,h.x,h.y,h.w,h.h),(u=new(THREE[_0x27ab("0x42d")])(_))[_0x27ab("0x14f")]=u[_0x27ab("0x151")]=THREE[_0x27ab("0x7e6")],u.needsUpdate=!0,c=new(THREE[_0x27ab("0x106")])({}),t.push(c),r[_0x27ab("0x184")].push({index:[t[_0x27ab("0x0")]-1],type:h[_0x27ab("0x70")]});else if(2==h[_0x27ab("0x70")]){var g=Number(h.w)/2,v=Number(h.h)/2,p=(l=[{x:h.x,y:h.y},{x:h.x+g,y:h.y},{x:h.x,y:h.y+v},{x:h.x+g,y:h.y+v}],!0),A=!1,m=void 0;try{for(var C,I=(0,e.default)(l);!(p=(C=I[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);p=!0){var y=C[_0x27ab("0xf8")];_=n(a,y.x,y.y,g,v),(u=new(THREE[_0x27ab("0x42d")])(_)).wrapS=u[_0x27ab("0x151")]=THREE.RepeatWrapping,u[_0x27ab("0x146")]=!0,c=new(THREE[_0x27ab("0x106")])({map:u,transparent:!0,opacity:1}),t[_0x27ab("0x1")](c)}}catch(x){A=!0,m=x}finally{try{!p&&I[_0x27ab("0x2be")]&&I[_0x27ab("0x2be")]()}finally{if(A)throw m}}var E=t[_0x27ab("0x0")];r[_0x27ab("0x184")][_0x27ab("0x1")]({index:[E-4,E-3,E-2,E-1],type:h.type})}}var w=t;b[_0x27ab("0xbe")]=w,b.material_list=r,x()}))})));case 5:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x){return a[_0x27ab("0x5")](this,arguments)})}]),x}();a[_0x27ab("0xb")]=c},function(x,a,b){"use strict";function _(x,a){var b=a-x,_=Math[_0x27ab("0x2b")]();return x+Math[_0x27ab("0xdd")](_*b)}Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var e={url:_0x27ab("0xe16"),side:[{type:1,topIndex:[0],point:{x:0,y:128,w:128,h:128}},{type:1,topIndex:[1],point:{x:0,y:256,w:128,h:128}},{type:3,topIndex:[2],point:{x:0,y:0,w:128,h:128}},{type:3,topIndex:[3],point:{x:128,y:0,w:128,h:128}},{type:3,topIndex:[4],point:{x:128,y:128,w:128,h:128}},{type:3,topIndex:[5],point:{x:128,y:256,w:128,h:128}}],top:[{type:1,x:256,y:256,w:128,h:128},{type:1,x:384,y:128,w:128,h:128},{type:1,x:384,y:0,w:128,h:128},{type:1,x:256,y:0,w:128,h:128},{type:1,x:256,y:128,w:128,h:128},{type:1,x:384,y:256,w:128,h:128}]};_0x27ab("0xe17");a[_0x27ab("0xe18")]=e,a[_0x27ab("0xe19")]=function(x,a){return function(x,a){function b(t){if(t==_0x27ab("0x11b")){if(1==a)return i=_(0,8);var i=_(8,x.side[_0x27ab("0x0")]),n=x.side[i][_0x27ab("0x70")];return 2==a&&2==n?b(t):i}var r=x[_0x27ab("0x11b")][e][_0x27ab("0xe14")].length;if(r>1){var s=_(0,r);return x[_0x27ab("0x11b")][e][_0x27ab("0xe14")][s]}return x[_0x27ab("0x11b")][e].topIndex[0]}var e=b(_0x27ab("0x11b")),t=b(_0x27ab("0x184"));return{sideIndex:e,topIndex:t}}(a,3)},a[_0x27ab("0xe13")]=_},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0xe1a")]}return(0,e[_0x27ab("0xb")])(x,[{key:"clear",value:function(){this.rects_=[]}},{key:_0x27ab("0x1"),value:function(x,a){if(0==this.rects_[_0x27ab("0x0")])return this.rects_[_0x27ab("0x1")](a),!1;for(var b in this[_0x27ab("0xe1a")]){var _=this[_0x27ab("0xe1a")][b];if(this[_0x27ab("0xe1b")](_,a))return!0}return this.rects_[_0x27ab("0x1")](a),!1}},{key:_0x27ab("0xe1b"),value:function(x,a){return a[_0x27ab("0xaf9")]<=x[_0x27ab("0xaf9")]&&x.x<a.x+a.w/3&&x.x+x.w/3>a.x&&x.y<a.y+a.h/3&&x.h/3+x.y>a.y}}]),x}();a.default=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=s(b(4)),e=s(b(0)),t=s(b(1)),i=s(b(5)),n=s(b(6)),r=b(11);function s(x){return x&&x.__esModule?x:{default:x}}var o=function(x){function a(){return(0,e[_0x27ab("0xb")])(this,a),(0,i.default)(this,(a[_0x27ab("0x1db")]||(0,_[_0x27ab("0xb")])(a))[_0x27ab("0x5")](this,arguments))}return(0,n[_0x27ab("0xb")])(a,x),(0,t[_0x27ab("0xb")])(a,[{key:_0x27ab("0x286"),value:function(x){this[_0x27ab("0xdb6")]||(this.originSize={width:this[_0x27ab("0xe1c")],height:this.height_}),this[_0x27ab("0xe1c")]=this.originSize[_0x27ab("0x326")],this[_0x27ab("0xe1d")]=this[_0x27ab("0xdb6")][_0x27ab("0x1b7")],(x=x||{})[_0x27ab("0x1cb")]=null==x.time?.6:x[_0x27ab("0x1cb")];var a=this;if(a[_0x27ab("0xe1e")]=null,!this[_0x27ab("0x1c5")]||x[_0x27ab("0x1c6")])return a[_0x27ab("0x1c5")]=!0,x[_0x27ab("0x24b")]=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x24b"),1.5),x[_0x27ab("0x1c7")]=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1c7"),1),x[_0x27ab("0x1c9")]=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1c9"),0),0==x[_0x27ab("0x1c7")]&&(x[_0x27ab("0x1c7")]=Number[_0x27ab("0x1c8")]),x[_0x27ab("0x1cb")]=null==x.time?.6:x[_0x27ab("0x1cb")],a.flashDelayId&&clearInterval(a.flashDelayId),this[_0x27ab("0xe1f")]&&this[_0x27ab("0xe1f")][_0x27ab("0x1c4")](),this[_0x27ab("0xe1f")]=new(esmap.TWEEN[_0x27ab("0x1cd")])(this).to({width_:this[_0x27ab("0xe1c")]*x[_0x27ab("0x24b")],height_:this[_0x27ab("0xe1d")]*x.scale},200*x.time)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")].In)[_0x27ab("0x137")]((function(x){}))[_0x27ab("0x1d2")]((function(){a[_0x27ab("0xe1f")]=new esmap.TWEEN.Tween(a).to({width_:a.originSize[_0x27ab("0x326")],height_:a[_0x27ab("0xdb6")].height},800*x.time)[_0x27ab("0x1ce")](esmap.TWEEN.Easing[_0x27ab("0x1d0")].Out)[_0x27ab("0x1d2")]((function(){x.times--,x[_0x27ab("0x1c7")]>0?a.flashDelayId=setTimeout((function(){x[_0x27ab("0x1c6")]=!0,a.flash(x)}),1e3*x[_0x27ab("0x1c9")]):(a[_0x27ab("0x1c5")]=!1,x[_0x27ab("0x1d6")]&&x[_0x27ab("0x1d6")]())}))[_0x27ab("0x1d5")]()}))[_0x27ab("0x1d5")]()}},{key:_0x27ab("0x2b0"),value:function(x){var a,b,_=this;x=x||{};if(!this[_0x27ab("0x1c5")]||x.force)return _._isAnimating=!0,x[_0x27ab("0x24b")]=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x24b"),1.5),x.times=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1c7"),1),x[_0x27ab("0x1c9")]=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1c9"),0),0==x[_0x27ab("0x1c7")]&&(x[_0x27ab("0x1c7")]=Number[_0x27ab("0x1c8")]),x[_0x27ab("0x1cb")]=null==x[_0x27ab("0x1cb")]?.6:x[_0x27ab("0x1cb")],a=_[_0x27ab("0x24b")][_0x27ab("0xe2")]()[_0x27ab("0x28c")](x.scale),b=_[_0x27ab("0x24b")][_0x27ab("0xe2")](),this[_0x27ab("0xe20")]&&this.flashId1[_0x27ab("0x1c4")](),_.flashId1=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(_[_0x27ab("0x24b")]).to(a,.2*x[_0x27ab("0x1cb")]*1e3)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")].In),_.flashId2=new(esmap.TWEEN[_0x27ab("0x1cd")])(_[_0x27ab("0x24b")]).to(b,.8*x[_0x27ab("0x1cb")]*1e3)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x1d2")]((function(){x[_0x27ab("0x1c7")]--,x[_0x27ab("0x1c7")]>0?_._isAnimating&&(x[_0x27ab("0x1c6")]=!0,_.flashId1[_0x27ab("0x1c9")](1e3*x[_0x27ab("0x1c9")])[_0x27ab("0x1d5")]()):(_[_0x27ab("0x1c5")]=!1,_.flashId1[_0x27ab("0x1c4")](),x[_0x27ab("0x1d6")]&&x[_0x27ab("0x1d6")]())})),_[_0x27ab("0xe20")][_0x27ab("0x1d7")](_[_0x27ab("0xe21")])[_0x27ab("0x1d5")](),x}},{key:_0x27ab("0xe22"),value:function(x,a){var b=esmap.ESMapUtil[_0x27ab("0x5ea")](this[_0x27ab("0xae")]),_=esmap[_0x27ab("0x134")][b];a=null==a?null==_?10:_:a,x=null==x||x,this[_0x27ab("0xb3")][_0x27ab("0x91b")]=!x,this[_0x27ab("0xb3")][_0x27ab("0x12f")]=!x,this[_0x27ab("0x133")]=x?a:0}},{key:_0x27ab("0x930"),value:function(x){function a(t){var u=!1;if(e[_0x27ab("0x94b")][e[_0x27ab("0x94b")][_0x27ab("0x0")]-1]==a&&(u=!0),l+=t*r,(_=getPointByDistance(f,l,o))&&_[_0x27ab("0x777")]){var d=null,h=i[_0x27ab("0x34d")][_0x27ab("0xe2")]();h.lookAt(i[_0x27ab("0xc3")],new(THREE[_0x27ab("0xe7")])(_[_0x27ab("0x777")].x+n.position.x,i[_0x27ab("0xc3")].y,_.point.z+n[_0x27ab("0xc3")].z),i.up),h[_0x27ab("0x279")]((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x2a0")](new(THREE[_0x27ab("0x27a")])(0,c,0))),d=(new THREE.Quaternion)[_0x27ab("0x27c")](h)}_[_0x27ab("0xe23")]?s?l=0:(i[_0x27ab("0x1c4")](),i.stop=null,b[_0x27ab("0x25e")](_0x27ab("0xe24"),{_this:b})):function(a,t,r){x[_0x27ab("0x299")];i[_0x27ab("0xc3")].x=_.point.x+n[_0x27ab("0xc3")].x,i.position.z=_[_0x27ab("0x777")].z+n[_0x27ab("0xc3")].z;var s={x:-a-map[_0x27ab("0x15d")].sceneX_,z:t+map[_0x27ab("0x15d")][_0x27ab("0x1ac")]};if(b[_0x27ab("0x25e")](_0x27ab("0x29c"),{x:s.x,y:s.z}),x[_0x27ab("0x299")]&&u){var o=new(THREE[_0x27ab("0xe7")])(1,0,0),l=o[_0x27ab("0xe2")](),f=i[_0x27ab("0x34d")][_0x27ab("0xe2")]();f[_0x27ab("0x262")](new(THREE[_0x27ab("0xe7")])),l[_0x27ab("0x263")](f);var h=(h=l[_0x27ab("0xe2")]()[_0x27ab("0x264")](o)).y<0?-1:1,g=o[_0x27ab("0x265")](l),v=Math.PI-g*h-c;e.controls[_0x27ab("0x1c")]instanceof THREE[_0x27ab("0x881")]&&(v+=Math.PI),e[_0x27ab("0x296")][_0x27ab("0x12b")]({forceTheta:v})}x[_0x27ab("0x2e7")]&&u&&e[_0x27ab("0x26a")]({x:s.x,y:s.z,time:0,FloorNum:1,callback:null});i.quaternion[_0x27ab("0x280")](d,.2)}(i[_0x27ab("0xc3")].x,i[_0x27ab("0xc3")].z)}var b=this;if(x&&x[_0x27ab("0xec")]){var _,e=esmap.ESMap[_0x27ab("0xd3")],t=x[_0x27ab("0xec")][_0x27ab("0x37")]((function(x){return new(THREE[_0x27ab("0xe7")])(-e[_0x27ab("0x15d")].sceneX_-x.x,0,x.y-e.mapScene[_0x27ab("0x1ac")])})),i=this.o3d_,n=t,r=x[_0x27ab("0x30f")]||12,s=x[_0x27ab("0x2c5")],o=x[_0x27ab("0x143")]||0,c=x[_0x27ab("0x26c")]*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")],l=x[_0x27ab("0xe25")]||0,f=(new(THREE[_0x27ab("0xe7")])(1,0,0),void 0===x.rotateY?Math.PI:x[_0x27ab("0xe26")],n);n[_0x27ab("0xc3")]={x:0,y:0,z:0},e[_0x27ab("0x94b")].push(a),i[_0x27ab("0x1c4")]&&i.stop(),e.on(_0x27ab("0x12b"),a),i.stop=function(){i[_0x27ab("0xe27")]&&i[_0x27ab("0xe27")](),e[_0x27ab("0x61")]("update",a)}}}},{key:_0x27ab("0xe28"),value:function(x){if(void 0===this[_0x27ab("0xe29")]&&(this[_0x27ab("0xe29")]=!0),this.enabledUpdateSize){var a,b=(x=x||esmap[_0x27ab("0x32")][_0x27ab("0xd3")].mapView)[_0x27ab("0x37")].currentCamera,_=x[_0x27ab("0x37")].mode==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")];this[_0x27ab("0xe2a")]||(this.originPosition=this[_0x27ab("0xc3")][_0x27ab("0xe2")]()),(null==this[_0x27ab("0x19a")]||isNaN(this[_0x27ab("0x19a")]))&&(isNaN(this[_0x27ab("0xc3")].y)&&(this.position.y=0),this[_0x27ab("0x19a")]=this.position.y);var e=this[_0x27ab("0x18e")]?0==this[_0x27ab("0x18e")][_0x27ab("0x19c")]?0:this[_0x27ab("0x18e")][_0x27ab("0x19c")]:0==this.datas_[_0x27ab("0xe2b")]?0:this.datas_.showLevel_;if(a=_?x[_0x27ab("0x37")][_0x27ab("0x243")]:x[_0x27ab("0x37")][_0x27ab("0x168")],e instanceof Array){var t=e[0],i=e[1];a>=t&&a<=i?this.visible||(this.visible=!0):this[_0x27ab("0xf6")]&&(this[_0x27ab("0xf6")]=!1)}else(e||0==e)&&(_?a>e?this[_0x27ab("0xf6")]&&(this.visible=!1):this[_0x27ab("0xf6")]||(this[_0x27ab("0xf6")]=!0):a<e?this.visible&&(this[_0x27ab("0xf6")]=!1):this.visible||(this[_0x27ab("0xf6")]=!0));if("3D"==x.map.viewMode){if(0==x.h_)return;this[_0x27ab("0xe2c")]=void 0;var n=esmap[_0x27ab("0x18b")][_0x27ab("0xe2d")](this,x),r=this[_0x27ab("0xae")]instanceof esmap[_0x27ab("0x5cc")]&&!this.datas_[_0x27ab("0xe2e")]?16:2;n=esmap[_0x27ab("0x18b")][_0x27ab("0xe2d")](this,x);if(!this.userData[_0x27ab("0xe2f")])return this[_0x27ab("0x24b")][_0x27ab("0x123")](.01,.01,1),void(this[_0x27ab("0x127")][_0x27ab("0xe2f")]=!0);if(this[_0x27ab("0xe1c")]&&this.height_){var s=this[_0x27ab("0xe1c")]/32*10,o=this[_0x27ab("0xe1d")]/32*10;this[_0x27ab("0x24b")][_0x27ab("0x123")](s,o,1)}var c=this.height_?this[_0x27ab("0xe1d")]*n[_0x27ab("0xe30")]/r:0;this[_0x27ab("0x18e")][_0x27ab("0x2a8")]&&(c/=2);this[_0x27ab("0xe31")];if(this[_0x27ab("0xef")],_0x27ab("0xe32"),this[_0x27ab("0xef")]&&(this[_0x27ab("0xef")]==_0x27ab("0xe33")||"Model3D"==this[_0x27ab("0xef")]||this.type_==_0x27ab("0xe34"))&&(this[_0x27ab("0xae")].unspritify_||null!=this[_0x27ab("0xae")][_0x27ab("0xe2e")]&&!this[_0x27ab("0xae")][_0x27ab("0xe2e")]))return;0==n[_0x27ab("0x24b")].x&&(n[_0x27ab("0x24b")].x=1),this[_0x27ab("0x24b")][_0x27ab("0x27d")](n[_0x27ab("0x24b")])}else{if(this.type_&&(this[_0x27ab("0xef")]==_0x27ab("0xe33")||this[_0x27ab("0xef")]==_0x27ab("0xe32")||this[_0x27ab("0xef")]==_0x27ab("0xe34"))&&(null!=this[_0x27ab("0xae")][_0x27ab("0xe2e")]&&!this[_0x27ab("0xae")][_0x27ab("0xe2e")]||this[_0x27ab("0xae")][_0x27ab("0xe35")]))return;r=this[_0x27ab("0xae")]instanceof esmap[_0x27ab("0x5cc")]&&!this[_0x27ab("0xae")].spritify_?16:2,n=esmap.ESMapLabel[_0x27ab("0xe2d")](this,x);if(!this[_0x27ab("0x127")][_0x27ab("0xe2f")])return this[_0x27ab("0x24b")].set(.01,.01,1),void(this[_0x27ab("0x127")][_0x27ab("0xe2f")]=!0);if(this[_0x27ab("0xe1c")]&&this[_0x27ab("0xe1d")]){var l=this.width_/32*10;o=this.height_/32*10;this[_0x27ab("0x24b")][_0x27ab("0x123")](l,o,1)}c=this[_0x27ab("0xe1d")]?this[_0x27ab("0xe1d")]*n[_0x27ab("0xe30")]/r:0;this.data_[_0x27ab("0x2a8")]&&(c/=2);this[_0x27ab("0xe31")];this[_0x27ab("0xef")],_0x27ab("0xe32"),this._lastScale=esmap[_0x27ab("0x18b")].getPerspectiveScale(this,x)[_0x27ab("0x24b")],this[_0x27ab("0x24b")].copy(this[_0x27ab("0xe2c")][_0x27ab("0xe2")]()[_0x27ab("0x28c")](1/b[_0x27ab("0x615")]))}}}},{key:_0x27ab("0xe36"),value:function(x,a){if(x&&x.indexOf("\\n")>-1){var b=x[_0x27ab("0x28")]("\\n"),_="";b[_0x27ab("0x1b")]((function(x){_+=x+"\n"})),x=_}function e(x,a){if(O[x]&&""!=O[x]){if(_0x27ab("0x107")==a)return esmap[_0x27ab("0x80")][_0x27ab("0xe37")](O[x]);if(_0x27ab("0x148")==a)return parseFloat(O[x])}return 0}var t,i=this;if(void 0===a&&(a={}),a[_0x27ab("0xe38")]=a[_0x27ab("0x4a0")],i[_0x27ab("0x18e")]&&i[_0x27ab("0x18e")][_0x27ab("0x187")]){var n;if(a[_0x27ab("0xe39")]=i.data_.w,a[_0x27ab("0xe38")]=i[_0x27ab("0x18e")].h,i[_0x27ab("0x18e")][_0x27ab("0xe3a")])n=i[_0x27ab("0x18e")][_0x27ab("0x187")];else{var r=(i[_0x27ab("0x37")][_0x27ab("0x33")].lang?"-"+String(i[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x71")]):"")+"/";n=i[_0x27ab("0xe3b")]?i[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x3f")]+"/"+i[_0x27ab("0x37")][_0x27ab("0xb0a")]+"/buildingImagelabel"+r+"/"+i[_0x27ab("0x18e")][_0x27ab("0x187")]:i[_0x27ab("0x37")].options[_0x27ab("0x3f")]+"/"+i[_0x27ab("0x37")][_0x27ab("0xb0a")]+"/imagelabel"+r+"/"+i[_0x27ab("0x18e")].image}i.data_.texture=esmap[_0x27ab("0x80")][_0x27ab("0x58f")](n,(function(x){}))}var s=a.hasOwnProperty(_0x27ab("0xe3c"))?a.fontface:'"Microsoft Yahei","微软雅黑",Tahoma,Arial',o=a.hasOwnProperty(_0x27ab("0xde3"))?a.fontsize:36,c=0;o=Math.ceil(o*(this[_0x27ab("0xe3d")]||1));var l=a.hasOwnProperty(_0x27ab("0x107"))?a[_0x27ab("0x107")]:_0x27ab("0xe3e"),f=a[_0x27ab("0xc")](_0x27ab("0xe3f"))?a[_0x27ab("0xe3f")]:2,u=a[_0x27ab("0xc")](_0x27ab("0xe40"))?a[_0x27ab("0xe40")]:_0x27ab("0xe41"),d=esmap[_0x27ab("0x80")].getPlatform()[_0x27ab("0x22d")];null==f&&(f=2),0==f&&(u=l,c=2),f*=d?3:2,c*=d?3.5:2.5;var h,g,v=Math[_0x27ab("0xbc")](o*(d&&o<=36?1.1:1)),p=v+_0x27ab("0xb9f")+s;i[_0x27ab("0x8fe")]||(i[_0x27ab("0x8fe")]=document[_0x27ab("0x20")](_0x27ab("0x8fe"))),i.context||(i[_0x27ab("0x1df")]=i.canvas.getContext("2d")),h=i[_0x27ab("0x8fe")],(g=i[_0x27ab("0x1df")])[_0x27ab("0xb9a")]=p;for(var A=f/2,m=x[_0x27ab("0x28")]("\n"),C=[],I=0,y=0,E=0;E<m.length;E++)if(""==m[E])m.splice(E,1),E--;else{var w=g[_0x27ab("0xb98")](m[E])[_0x27ab("0x326")]+f;I=Math[_0x27ab("0x33f")](I,w),y+=v+f+c,C[_0x27ab("0x1")]({text:m[E],width:w})}a.lineheight=a.lineheight,y+=a[_0x27ab("0xe42")]*(m[_0x27ab("0x0")]-1),0==f&&(y+=d?3:2);var T=null,k=!1,S={x:A,y:-f},M={x:0,y:0},R=I+f,L=null==x||""==x?0:y,H=1*a[_0x27ab("0xe43")]||0,D=I,P=0,O=i[_0x27ab("0x18e")]&&i[_0x27ab("0x18e")][_0x27ab("0x189")]&&i[_0x27ab("0x37")].mapTheme.fontStyleThemeDic?i.map[_0x27ab("0xfc")][_0x27ab("0xdc1")][i[_0x27ab("0x18e")][_0x27ab("0x189")]]:void 0;if(O){var B=e(_0x27ab("0xde3"),"number"),N=e("platesize",_0x27ab("0x148")),F=e("platecolor","color"),z=e("platestorkcolor","color");if(N){var j=4*(N-B);R=(I+=2*j)+f,L=y+=j,contentSize=a[_0x27ab("0x4a0")]||contentSize+j}}if(i.data_&&i.data_.image)switch(k=!0,a.imagealign){case"left":a[_0x27ab("0xe38")]>y?(S.y=(a[_0x27ab("0xe38")]-y)/2-f,L=a.imageheight):(S.y=-f,M.y=(y-a[_0x27ab("0xe38")])/2),S.x=a[_0x27ab("0xe39")]+H,R=I+S.x;break;case _0x27ab("0x6ee"):a[_0x27ab("0xe38")]>y?(S.y=(a[_0x27ab("0xe38")]-y)/2,L=a[_0x27ab("0xe38")]):(S.y=-f,M.y=(y-a[_0x27ab("0xe38")])/2),M.x=0!=I?I+H:0,R=I+a[_0x27ab("0xe39")]+H;break;case"top":D=Math[_0x27ab("0x33f")](I,a[_0x27ab("0xe39")])+f,I>=a[_0x27ab("0xe39")]?M.x=Math.ceil((I+A-a[_0x27ab("0xe39")])/2):S.x=Math[_0x27ab("0xbc")]((a[_0x27ab("0xe39")]-I+A)/2),L=L+a[_0x27ab("0xe38")]+H,R=D,S.y=a[_0x27ab("0xe38")]+H-A;break;case _0x27ab("0x185"):D=Math[_0x27ab("0x33f")](I,a[_0x27ab("0xe39")])+f,I>=a[_0x27ab("0xe39")]?M.x=Math[_0x27ab("0xbc")]((I+A-a[_0x27ab("0xe39")])/2):S.x=Math[_0x27ab("0xbc")]((a[_0x27ab("0xe39")]-I+A)/2);var U=L;L=L+a[_0x27ab("0xe38")]+H,R=D,M.y=U+H}if(R+=a[_0x27ab("0xe44")]*x[_0x27ab("0x0")],h.width=R,h[_0x27ab("0x1b7")]=L,i[_0x27ab("0xe45")]=new(THREE[_0x27ab("0xe7")])(h[_0x27ab("0x326")]/2,0,h[_0x27ab("0x1b7")]/2),i.pivot_=i[_0x27ab("0xe45")][_0x27ab("0xe2")](),i.width_=h[_0x27ab("0x326")],i.height_=h[_0x27ab("0x1b7")],k)var X=setInterval((function(){50==P&&clearInterval(X),i.data_.texture&&((T=i[_0x27ab("0x18e")].texture[_0x27ab("0x187")])&&(g[_0x27ab("0xc81")](T,M.x,M.y,a[_0x27ab("0xe39")],a[_0x27ab("0xe38")]),i[_0x27ab("0xe46")]=new(THREE[_0x27ab("0xe7")])(M.x+a.imagewidth/2,0,M.y+a[_0x27ab("0xe38")]/2),_0x27ab("0xe47")==a[_0x27ab("0xe48")]&&(i[_0x27ab("0xe49")]=i[_0x27ab("0xe46")]),t&&(t[_0x27ab("0x146")]=!0),clearInterval(X)),P++,i[_0x27ab("0xe4a")]&&!i[_0x27ab("0xe4b")]&&(i[_0x27ab("0xe4a")](i),i[_0x27ab("0xe4b")]=!0))}),1);if(null!=x&&x){if(a[_0x27ab("0xe4c")]){var Y=a[_0x27ab("0xe4d")][_0x27ab("0x28")](",");g[_0x27ab("0xe4e")]=1*Y[0],g[_0x27ab("0x906")]=1*Y[1],g[_0x27ab("0x905")]=_0x27ab("0x608")+a[_0x27ab("0xe4f")]+")",g.shadowBlur=a[_0x27ab("0xe50")]}if(g.font=p,g[_0x27ab("0xe51")]=!0,N){g[_0x27ab("0xa00")]=z,g.lineWidth=4;var G=0;"top"==a[_0x27ab("0xd50")]&&(G=a[_0x27ab("0xe39")]+H),g[_0x27ab("0xe52")](S.x+4,4+G,I-8,y-8,10).stroke(),g[_0x27ab("0x9fe")]=F,g[_0x27ab("0xe52")](S.x+4,4+G,I-8,y-8,10).fill()}var Q=0;for(E=0;E<C[_0x27ab("0x0")];E++){var V=(I-C[E][_0x27ab("0x326")])/2+S.x,W=(E+1)*(v+a[_0x27ab("0xe42")]+f)+S.y-a[_0x27ab("0xe42")];N?Q=j/2:(Q=0,g[_0x27ab("0xa00")]=u,g[_0x27ab("0x120")]=f),g[_0x27ab("0x9fe")]=l,g[_0x27ab("0xe53")](C[E][_0x27ab("0xba1")],V,W,Q,a[_0x27ab("0xe44")])}}return(t=new THREE.Texture(h))[_0x27ab("0x14d")]=THREE[_0x27ab("0x42f")],t[_0x27ab("0x14c")]=esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x614")].renderer.capabilities.getMaxAnisotropy(),t.generateMipmaps=!1,t.needsUpdate=!0,a[_0x27ab("0xe54")]||this[_0x27ab("0xe0e")]||(this[_0x27ab("0xe0e")]=new(THREE[_0x27ab("0x423")])({})),this[_0x27ab("0xe0e")][_0x27ab("0x37")]=t,this[_0x27ab("0xe0e")].map[_0x27ab("0x146")]=!0,this[_0x27ab("0xe0e")].needsUpdate=!0,t}},{key:"updateStyle",value:function(x){x=x||this[_0x27ab("0xea")],this[_0x27ab("0xe36")](this[_0x27ab("0xe55")],{fontsize:2*x.fontsize,borderThickness:0==x[_0x27ab("0xde4")]?0:x.strokewidth,color:esmap[_0x27ab("0x80")][_0x27ab("0xe37")](x[_0x27ab("0xe56")]||_0x27ab("0xdc2")),borderColor:esmap[_0x27ab("0x80")][_0x27ab("0xe37")](x[_0x27ab("0xe57")]||_0x27ab("0xbaf")),imagealign:x[_0x27ab("0xd50")]||"left",imagesize:x[_0x27ab("0x4a0")],lineheight:1*x.lineheight||4,imagespace:x[_0x27ab("0xe43")],fontspace:x[_0x27ab("0xe44")]||4,pivottype:x[_0x27ab("0xe48")]||_0x27ab("0xed"),shadow:1*x[_0x27ab("0xe4c")]||0,shadowcolor:x[_0x27ab("0xe4f")]||"0,0,0,1",shadowoffset:x[_0x27ab("0xe4d")]||_0x27ab("0xe58"),shadowblur:x[_0x27ab("0xe50")]||1}),this[_0x27ab("0xb3")]=this[_0x27ab("0xe0e")]}},{key:_0x27ab("0xe59"),value:function(x){this[_0x27ab("0xe55")]=x,this[_0x27ab("0x152")]()}},{key:_0x27ab("0xe5a"),value:function(x){this.style.fontsize=x,this[_0x27ab("0x152")]()}},{key:"setfillcolor",value:function(x){this[_0x27ab("0xea")].fillcolor=x,this.updateStyle()}},{key:_0x27ab("0xe5b"),value:function(x){this[_0x27ab("0xea")][_0x27ab("0xe57")]=x,this[_0x27ab("0x152")]()}},{key:_0x27ab("0x287"),value:function(){if(this.flashId&&this.flashId[_0x27ab("0x1c4")](),this[_0x27ab("0xdb6")])this[_0x27ab("0xe1c")]=this[_0x27ab("0xdb6")][_0x27ab("0x326")],this[_0x27ab("0xe1d")]=this.originSize[_0x27ab("0x1b7")];else{var x=new(THREE[_0x27ab("0xe7")])(1,1,1);this[_0x27ab("0xe1f")]=new(esmap[_0x27ab("0x1cc")].Tween)(this[_0x27ab("0x24b")]).to(x,100).easing(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")].Linear[_0x27ab("0x2ec")]).start()}this[_0x27ab("0x1c5")]=!1}},{key:_0x27ab("0x3d7"),value:function(x){clearInterval(this[_0x27ab("0x26b")]),this._isAnimating=!1}},{key:_0x27ab("0x285"),value:function(){this._jumpID1&&this[_0x27ab("0x1c3")].stop(),this[_0x27ab("0x1d3")]&&this[_0x27ab("0x1d3")][_0x27ab("0x1c4")](),null!=this[_0x27ab("0xe5c")]&&(this[_0x27ab("0x19a")]=this[_0x27ab("0xe5c")]),this._isAnimating=!1}},{key:_0x27ab("0x283"),value:function(x){var a=this;if(x=x||{},!this._isAnimating||x[_0x27ab("0x1c6")])return a[_0x27ab("0x1c5")]=!0,null==x._initY&&(a[_0x27ab("0xe5c")]=a[_0x27ab("0x19a")]),x.times=(0,r.getValues)(x,_0x27ab("0x1c7"),1),0==x[_0x27ab("0x1c7")]&&(x[_0x27ab("0x1c7")]=Number[_0x27ab("0x1c8")]),x[_0x27ab("0x1c9")]=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1c9"),0),x.height=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1b7"),8),x[_0x27ab("0x1ca")]=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1cb"),"duration",1),this[_0x27ab("0x1c3")]&&this[_0x27ab("0x1c3")][_0x27ab("0x1c4")](),this[_0x27ab("0x1c3")]=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(this).to({initY_:a[_0x27ab("0xe5c")]+x[_0x27ab("0x1b7")]},.2*x[_0x27ab("0x1ca")]*1e3)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing.Quadratic[_0x27ab("0x1d1")])[_0x27ab("0x1d2")]((function(){})),this[_0x27ab("0x1d3")]=new(esmap[_0x27ab("0x1cc")].Tween)(this).to({initY_:a[_0x27ab("0xe5c")]},.8*x[_0x27ab("0x1ca")]*1e3)[_0x27ab("0x1ce")](esmap.TWEEN[_0x27ab("0x1cf")][_0x27ab("0x673")][_0x27ab("0x1d4")])[_0x27ab("0x1d2")]((function(){x[_0x27ab("0x1c7")]--,x[_0x27ab("0x1c7")]>0?a._isAnimating&&(x[_0x27ab("0x1c6")]=!0,a._jumpID1[_0x27ab("0x1c9")](1e3*x[_0x27ab("0x1c9")]).start()):(a._isAnimating=!1,a._jumpID1[_0x27ab("0x1c4")](),x[_0x27ab("0x1d6")]&&x.callback())})),this._jumpID1.chain(this[_0x27ab("0x1d3")])[_0x27ab("0x1d5")](),x}},{key:_0x27ab("0x26a"),value:function(x){var a=this,b=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1cb"),"duration",1),_=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],e=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1b7"),"z","zOffset",_0x27ab("0x143"),_0x27ab("0x25"),null),t=_._insureUserCoordInbounds({x:x.x,y:x.y}),i=_[_0x27ab("0x193")]({x:t.x,y:t.y}),n=i.x,s=i.z,o=null==e?a[_0x27ab("0xc3")].y:e;return 0==b?(a[_0x27ab("0xc3")].x=n,a[_0x27ab("0xc3")].y=o,a.position.z=s,x.callback&&x[_0x27ab("0x1d6")](),x):(a[_0x27ab("0x1c5")]=!0,a[_0x27ab("0x26b")]&&a[_0x27ab("0x26b")][_0x27ab("0x1c4")](),a[_0x27ab("0x26b")]=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(a.position).to({x:n,z:s,y:o},1e3*b)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")].Linear.None).onUpdate((function(b){x[_0x27ab("0x12b")]&&x.update({x:a.x,y:a.y})}))[_0x27ab("0x1d2")]((function(){a[_0x27ab("0x1c5")]=!1,x[_0x27ab("0x1d6")]&&x.callback()}))[_0x27ab("0x1d5")](),x)}},{key:"rotate",value:function(x){var a=this,b=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1cb"),"duration",1),_=!1;return a.datas_&&a[_0x27ab("0xae")][_0x27ab("0xe5d")]&&"es3dmarker"==a.datas_[_0x27ab("0xe5d")]&&(_=!0),a[_0x27ab("0xe5e")]&&a._rotateID[_0x27ab("0x1c4")](),a[_0x27ab("0xe5e")]=new(esmap.TWEEN[_0x27ab("0x1cd")])(_?a[_0x27ab("0x1b1")]:a).to({y:THREE.Math[_0x27ab("0x27b")](x[_0x27ab("0x26c")])},1e3*b)[_0x27ab("0x1ce")](esmap.TWEEN.Easing[_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x1d2")]((function(){x.callback&&x[_0x27ab("0x1d6")]()}))[_0x27ab("0x1d5")](),x}},{key:_0x27ab("0xe5f"),value:function(x){var a=this;if(a[_0x27ab("0xb3")]&&!a._isFading){a[_0x27ab("0xe60")]=!0,(x=x||{})[_0x27ab("0xe61")]||(a[_0x27ab("0xf6")]=!0);var b=(0,r[_0x27ab("0x11")])(x,_0x27ab("0x1cb"),_0x27ab("0x1ca"),.2);a[_0x27ab("0xe62")]&&a[_0x27ab("0xe62")][_0x27ab("0x1c4")](),a[_0x27ab("0xe62")]=new(esmap[_0x27ab("0x1cc")].Tween)(a[_0x27ab("0xb3")]).to({opacity:x[_0x27ab("0xe61")]?0:1},1e3*b).easing(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x1d2")]((function(){a[_0x27ab("0xe60")]=!1,x[_0x27ab("0xe61")]&&(a[_0x27ab("0xf6")]=!1),x.callback&&x[_0x27ab("0x1d6")]()}))[_0x27ab("0x1d5")]()}}},{key:_0x27ab("0xe63"),value:function(x){var a=this;if(a[_0x27ab("0xb3")]&&a[_0x27ab("0xb3")].materials)for(var b=0;b<a[_0x27ab("0xb3")][_0x27ab("0xbe")][_0x27ab("0x0")];b++){_(a.material[_0x27ab("0xbe")][b],b==a.material.materials[_0x27ab("0x0")]-1)}else _(a[_0x27ab("0xb3")],!0);function _(a,b){new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(a).to({opacity:0},500)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x281")][_0x27ab("0x2ec")])[_0x27ab("0x1d2")]((function(){b&&x&&x()}))[_0x27ab("0x1d5")]()}}},{key:"fade3dIn",value:function(x){var a=this;if(a[_0x27ab("0xb3")]&&a[_0x27ab("0xb3")].materials)for(var b=0;b<a[_0x27ab("0xb3")].materials.length;b++){_(a[_0x27ab("0xb3")].materials[b],b==a[_0x27ab("0xb3")][_0x27ab("0xbe")].length-1)}else _(a[_0x27ab("0xb3")],!0);function _(a,b){new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(a).to({opacity:1},500)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")].Linear[_0x27ab("0x2ec")])[_0x27ab("0x137")]((function(x){}))[_0x27ab("0x1d2")]((function(){b&&x&&x()}))[_0x27ab("0x1d5")]()}}},{key:_0x27ab("0xe49"),get:function(){return this[_0x27ab("0xe64")]},set:function(x){if(x instanceof THREE[_0x27ab("0xe7")]){this.pivot_=x,this[_0x27ab("0xe65")]=new THREE.Vector3(this[_0x27ab("0xe1c")]/2-x.x,0,x.y-this.height_/2);var a=new(THREE[_0x27ab("0x27a")])(this[_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x307")](),this[_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x306")](),0,_0x27ab("0xe66")),b=(new THREE.Matrix4)[_0x27ab("0x2a0")](a);this[_0x27ab("0xc3")][_0x27ab("0x27d")](this[_0x27ab("0xe2a")][_0x27ab("0xe2")]()[_0x27ab("0x163")](this[_0x27ab("0xe65")][_0x27ab("0xe2")]()[_0x27ab("0x28c")](this[_0x27ab("0xe67")])[_0x27ab("0x263")](b)))}}}]),a}(THREE.Sprite),c=function(){function x(a,b,_,t){(0,e[_0x27ab("0xb")])(this,x),this.map=esmap.ESMap[_0x27ab("0xd3")],this[_0x27ab("0xe3b")]=t||!1,this.data_=b,this.data_[_0x27ab("0x4a1")]=a,b[_0x27ab("0xe68")]&&(this.data_.x_=b[_0x27ab("0xe68")][0],this[_0x27ab("0x18e")].y_=b[_0x27ab("0xe68")][1]),this[_0x27ab("0xe1c")],this[_0x27ab("0xe1d")],this[_0x27ab("0xe0e")]=null,this.scaleRatio_=1,this[_0x27ab("0xe29")]=!0,this[_0x27ab("0xe55")]=b[_0x27ab("0xc5")],this[_0x27ab("0xe69")]=b[_0x27ab("0xe69")],(_=_||{})[_0x27ab("0xd50")]=_.imagealign||_0x27ab("0x183"),_.imagesize=_[_0x27ab("0x4a0")]||null,_[_0x27ab("0xe43")]=_.imagespace||.5,_[_0x27ab("0xe42")]=1*_[_0x27ab("0xe42")]||4,_[_0x27ab("0xe44")]=_.textspace||.5,_.pivottype=_[_0x27ab("0xe48")]||_0x27ab("0xed"),this[_0x27ab("0xea")]=_,this.originPosition=null,this[_0x27ab("0xe65")]=null,this[_0x27ab("0xe64")]=null,this[_0x27ab("0xe45")]=null,this.iconPivot=null,this[_0x27ab("0xe4b")]=!1,this[_0x27ab("0xe4a")]=b.callback||null,this[_0x27ab("0x152")](_),THREE[_0x27ab("0x2ad")][_0x27ab("0x3")](this,this[_0x27ab("0xe0e")]),this[_0x27ab("0xe0e")]=null,this.renderOrder=esmap.ESRenderOrder[_0x27ab("0x594")];var i=b[_0x27ab("0x24b")]||1;if(!this.spritify){var n=174.22169477307486/this[_0x27ab("0x37")].mapView.h_*.3,r=(this[_0x27ab("0xe3d")],this[_0x27ab("0xe1c")]*n),s=this.height_*n;this[_0x27ab("0x24b")][_0x27ab("0x123")](r*i,s*i,1)}b[_0x27ab("0x187")]||!this[_0x27ab("0xe4a")]||this.isCallbackExeced||(this.createdCallback(this),this.isCallbackExeced=!0)}return(0,t.default)(x,null,[{key:"getPerspectiveScale",value:function(x,a){var b=x[_0x27ab("0x25a")](new THREE.Vector3);x[_0x27ab("0x127")][_0x27ab("0x241")]&&(b=x[_0x27ab("0x127")][_0x27ab("0x241")][_0x27ab("0xe2")]()),"2D"==a[_0x27ab("0x37")][_0x27ab("0x1fe")]&&(b.y=0);var _=b,e=a[_0x27ab("0x613")][_0x27ab("0xc3")],t=a[_0x27ab("0x37")].controls.target[_0x27ab("0xe2")](),i=_[_0x27ab("0x301")](e),n=t[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](e)[_0x27ab("0x2f4")](),r=_[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](e)[_0x27ab("0x2f4")]();i*=n[_0x27ab("0x8ae")](r),i=Math[_0x27ab("0x274")](i);var s=a[_0x27ab("0x37")][_0x27ab("0x33")].cameraMode==esmap[_0x27ab("0x203")][_0x27ab("0xe6a")]?1.8:1,o=i/a.h_*.3*s,c=(x[_0x27ab("0xe3d")],x[_0x27ab("0xe1c")]*o),l=x[_0x27ab("0xe1d")]*o;return x[_0x27ab("0xe67")]=o,{scale:6==x[_0x27ab("0xae")][_0x27ab("0xe1")]?new(THREE[_0x27ab("0xe7")])(c,l,c):new(THREE[_0x27ab("0xe7")])(c,l,1),meterperpixel:o}}}]),x}();c[_0x27ab("0x2")]=new o,esmap.ESMapUtil[_0x27ab("0x5f6")](c[_0x27ab("0x2")],_0x27ab("0xe2a")),CanvasRenderingContext2D.prototype.letterSpacingText=function(x,a,b,_,e){var t=this,i=t[_0x27ab("0x8fe")],n=b+_;if(!e&&i){var r=window[_0x27ab("0x3ac")](i);e=parseFloat(r[_0x27ab("0xe6b")])}if(!e)return this[_0x27ab("0xe6c")](x,a,b),this[_0x27ab("0xe6d")](x,a,n);var s=x[_0x27ab("0x28")](""),o=t[_0x27ab("0xe6e")]||_0x27ab("0x183"),c=t[_0x27ab("0xb98")](x).width+e*(s[_0x27ab("0x0")]-1);o==_0x27ab("0xed")?a-=c/2:o==_0x27ab("0x6ee")&&(a-=c),t[_0x27ab("0xe6e")]=_0x27ab("0x183"),s[_0x27ab("0x1b")]((function(x){var _=t[_0x27ab("0xb98")](x)[_0x27ab("0x326")];t.strokeText(x,a,b),t[_0x27ab("0xe6d")](x,a,n),a=a+_+e})),t[_0x27ab("0xe6e")]=o},a[_0x27ab("0xb")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=n(b(4)),e=n(b(5)),t=n(b(6)),i=n(b(0));function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var r=function x(a,b,_,e,t,n){var r;(0,i[_0x27ab("0xb")])(this,x),this[_0x27ab("0x18e")]=b,this[_0x27ab("0x18e")].floornum=a;var s=b[_0x27ab("0xd46")];b.image&&""!=b[_0x27ab("0x187")]&&(s=b[_0x27ab("0x187")]),esmap[_0x27ab("0x5c0")][_0x27ab("0xcf1")]=esmap.ESMapPoi._mats||{},(r=esmap[_0x27ab("0x5c0")][_0x27ab("0xcf1")][a+"_"+s])||(r=_.getPoiMaterialByType(e,s,t,n),esmap[_0x27ab("0x5c0")][_0x27ab("0xcf1")][a+"_"+s]=r),THREE[_0x27ab("0x2ad")][_0x27ab("0x3")](this,r),this[_0x27ab("0x24b")][_0x27ab("0x123")](10,10,10),this[_0x27ab("0xb3")][_0x27ab("0x91b")]=!1,this.renderOrder=esmap[_0x27ab("0x134")][_0x27ab("0x593")],this[_0x27ab("0xe1c")]=parseFloat(b.w),this[_0x27ab("0xe1d")]=parseFloat(b.h)},s=function(x){function a(){var x,b,t,n;(0,i[_0x27ab("0xb")])(this,a);for(var r=arguments[_0x27ab("0x0")],s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return b=t=(0,e[_0x27ab("0xb")])(this,(x=a[_0x27ab("0x1db")]||(0,_.default)(a))[_0x27ab("0x3")][_0x27ab("0x5")](x,[this][_0x27ab("0x1ec")](s))),t[_0x27ab("0xe28")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0xe28")],t[_0x27ab("0x286")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0x286")],t[_0x27ab("0x283")]=esmap.ESMapLabel.prototype[_0x27ab("0x283")],t[_0x27ab("0x285")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")].stopJump,n=b,(0,e[_0x27ab("0xb")])(t,n)}return(0,t.default)(a,x),a}(THREE[_0x27ab("0x2ad")]);r.prototype=new s,esmap[_0x27ab("0x80")][_0x27ab("0x5f6")](r[_0x27ab("0x2")]),a[_0x27ab("0xb")]=r},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=c(b(8)),e=c(b(12)),t=c(b(13)),i=c(b(4)),n=c(b(5)),r=c(b(6)),s=c(b(0)),o=c(b(141));function c(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var l=function x(a,b,_){(0,s[_0x27ab("0xb")])(this,x),f.call(this),this[_0x27ab("0x18e")]=a,this[_0x27ab("0xf6")]=!1,this[_0x27ab("0xe72")]=null,this[_0x27ab("0xe73")]=null,this[_0x27ab("0x1b9")]=b;var e=new(THREE[_0x27ab("0x423")]);this.glowing=!0,THREE[_0x27ab("0x2ad")].call(this,e),this[_0x27ab("0x24b")][_0x27ab("0x123")](1,1,1),a[_0x27ab("0x2a8")]||(this.noramlMat=e,this.glowing=!1),this[_0x27ab("0xe74")]({material:e,data:a,glowMode:a.glow,glowColor:this[_0x27ab("0x18e")].glowColor,url:b,callback:_}),this.floating=!1},f=function(){var x;this[_0x27ab("0xe75")]=function(){this[_0x27ab("0xe76")]&&(this[_0x27ab("0xe76")][_0x27ab("0x1c4")](),this[_0x27ab("0xe76")]=null,this.position.y=this[_0x27ab("0xe77")]),this[_0x27ab("0xe78")]&&(this[_0x27ab("0xe78")]=!1)},this[_0x27ab("0x45b")]=function(x){var a=this.position.y;this._floatTween&&(this[_0x27ab("0xe76")][_0x27ab("0x1c4")](),this._floatTween=null),this[_0x27ab("0xc")]("_originalHeight")||(this[_0x27ab("0xe77")]=a);var b=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(this[_0x27ab("0xc3")]).to({y:a+x[_0x27ab("0x1b7")]},1e3*x[_0x27ab("0x1cb")]).easing(esmap.TWEEN[_0x27ab("0x1cf")].Quadratic.In),_=new(esmap[_0x27ab("0x1cc")].Tween)(this[_0x27ab("0xc3")]).to({y:a},1e3*x.time)[_0x27ab("0x1ce")](esmap.TWEEN[_0x27ab("0x1cf")][_0x27ab("0x281")].None);b[_0x27ab("0x1d7")](_),_.chain(b),b.start(),this[_0x27ab("0xe76")]=b,this[_0x27ab("0xe78")]||(this.floating=!0)},this[_0x27ab("0xe79")]=(x=(0,t[_0x27ab("0xb")])(e[_0x27ab("0xb")].mark((function x(a,b){var _,t;return e[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x.prev=x[_0x27ab("0x2b8")]){case 0:if(!(_=this)._isAnimating){x[_0x27ab("0x2b8")]=3;break}return x.abrupt(_0x27ab("0x2be"));case 3:if(!a){x[_0x27ab("0x2b8")]=19;break}if(b==_[_0x27ab("0x18e")][_0x27ab("0xe7a")]&&_.glowMat){x[_0x27ab("0x2b8")]=11;break}return t=new(THREE[_0x27ab("0x423")]),x[_0x27ab("0x2b8")]=8,this[_0x27ab("0xe74")]({material:t,data:this[_0x27ab("0x18e")],glowMode:!0,glowColor:b,url:_.url,callback:null});case 8:_[_0x27ab("0xe72")]=_.material,x[_0x27ab("0x2b8")]=12;break;case 11:a!=_.glowing&&(_[_0x27ab("0xe1c")]*=2,_[_0x27ab("0xe1d")]*=2);case 12:_[_0x27ab("0xdb6")]&&(this[_0x27ab("0xdb6")].width=_[_0x27ab("0xe1c")],this[_0x27ab("0xdb6")][_0x27ab("0x1b7")]=_[_0x27ab("0xe1d")]),_[_0x27ab("0xb3")]=_[_0x27ab("0xe72")],_.material.needsUpdate=!0,_[_0x27ab("0x18e")][_0x27ab("0x2a8")]=!0,_[_0x27ab("0x237")]=!0,x[_0x27ab("0x2b8")]=32;break;case 19:if(_[_0x27ab("0xe73")]){x[_0x27ab("0x2b8")]=26;break}return t=new(THREE[_0x27ab("0x423")]),x[_0x27ab("0x2b8")]=23,this.genTexture({material:t,data:this[_0x27ab("0x18e")],glowMode:!1,url:_[_0x27ab("0x1b9")],callback:null});case 23:_[_0x27ab("0xe73")]=t,x[_0x27ab("0x2b8")]=27;break;case 26:a!=_[_0x27ab("0x237")]&&(_.width_/=2,_[_0x27ab("0xe1d")]/=2);case 27:_[_0x27ab("0xdb6")]&&(this[_0x27ab("0xdb6")][_0x27ab("0x326")]=_[_0x27ab("0xe1c")],this[_0x27ab("0xdb6")][_0x27ab("0x1b7")]=_[_0x27ab("0xe1d")]),_[_0x27ab("0xb3")]=_[_0x27ab("0xe73")],_[_0x27ab("0xb3")].needsUpdate=!0,_.data_.glow=!1,_[_0x27ab("0x237")]=!1;case 32:case"end":return x.stop()}}),x,this)}))),function(a,b){return x[_0x27ab("0x5")](this,arguments)}),this.genTexture=function(x){var a=this,b=0,e=0,t=x[_0x27ab("0xe7b")],i=x[_0x27ab("0x366")],n=x[_0x27ab("0xb3")],r=x.url,s=x[_0x27ab("0x1d6")],o=x.glowColor,c=(esmap.ESMap[_0x27ab("0xd3")],this.data_[_0x27ab("0xe7c")]||1);return new(_[_0x27ab("0xb")])((function(x){i[_0x27ab("0xe7d")]instanceof Object?(b=i[_0x27ab("0xe7d")].w,e=i[_0x27ab("0xe7d")].h):b=e=i.size_,t&&(b*=2,e*=2);var _=document[_0x27ab("0x20")](_0x27ab("0x8fe")),l=new Image;l[_0x27ab("0x74b")]=_0x27ab("0x743");var f=_[_0x27ab("0x8ff")]("2d"),u=Math[_0x27ab("0x33f")](b,64);u=u>1024?1024:u;var d=Math[_0x27ab("0x33f")](e,64);d=d>1024?1024:d,u*=c,d*=c,_[_0x27ab("0x326")]=u,_.height=d,t?(l[_0x27ab("0x326")]=u/2,l.height=d/2):(l[_0x27ab("0x326")]=u,l[_0x27ab("0x1b7")]=d),l.src=r,l[_0x27ab("0xba8")]=function(r){i.clip_?i[_0x27ab("0xe7e")]==_0x27ab("0x11f")&&function(x,a,b,_,e){x[_0x27ab("0xe6f")]();var t=2*e,i=b+e,n=_+e;x[_0x27ab("0x909")](i,n,e,0,2*Math.PI),x[_0x27ab("0xe70")](),x[_0x27ab("0xc81")](a,b,_,t,t),x[_0x27ab("0xe71")]()}(f,l,0,0,b/2):t?f[_0x27ab("0xc81")](l,l.width/2,l[_0x27ab("0x1b7")]/2,l[_0x27ab("0x326")],l[_0x27ab("0x1b7")]):f[_0x27ab("0xc81")](l,0,0,l.width,l[_0x27ab("0x1b7")]);var c=new THREE.Texture(_);c.minFilter=THREE[_0x27ab("0x42f")],c[_0x27ab("0x14c")]=esmap.ESMap.instance[_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0xc80")][_0x27ab("0xc85")](),a[_0x27ab("0x572")]=c,a.material!=n&&(a.material=n),n[_0x27ab("0x37")]=c,n[_0x27ab("0x37")][_0x27ab("0x146")]=!0,a[_0x27ab("0xf6")]=!0;var u=b/32*10,d=e/32*10;a.renderOrder=esmap.ESRenderOrder[_0x27ab("0x631")],a[_0x27ab("0x24b")][_0x27ab("0x123")](u,d,1),a.width_=b,a[_0x27ab("0xe1d")]=e,s&&s(c,a),t&&a[_0x27ab("0xe7f")](o),x()}}))},this[_0x27ab("0xe7f")]=function(x){var a=this,b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],_=(document[_0x27ab("0x20")](_0x27ab("0x421")),_0x27ab("0xe80")),e=(new(THREE[_0x27ab("0x14a")]))[_0x27ab("0x14b")](_);a[_0x27ab("0xe72")]&&(a[_0x27ab("0xe72")][_0x27ab("0xb2")](),b[_0x27ab("0x61")](_0x27ab("0x12b"),a[_0x27ab("0xe81")][_0x27ab("0xe82")])),a[_0x27ab("0xe81")]=new(o[_0x27ab("0xb")])({texture:a[_0x27ab("0x572")],aoTexture:e,colorStr:x});var t=function(x){a.activeSprite_[_0x27ab("0x57e")](x)};b.on(_0x27ab("0x12b"),t),a[_0x27ab("0xe81")][_0x27ab("0xe82")]=t,a[_0x27ab("0xb3")]=a[_0x27ab("0xe81")].material,a[_0x27ab("0xb3")].needsUpdate=!0,a[_0x27ab("0xe72")]=a[_0x27ab("0xb3")]},this.setUrl=esmap[_0x27ab("0x58e")][_0x27ab("0xe83")]},u=function(x){function a(){var x,b,_,e;(0,s[_0x27ab("0xb")])(this,a);for(var t=arguments[_0x27ab("0x0")],r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return b=_=(0,n.default)(this,(x=a[_0x27ab("0x1db")]||(0,i[_0x27ab("0xb")])(a))[_0x27ab("0x3")][_0x27ab("0x5")](x,[this][_0x27ab("0x1ec")](r))),_[_0x27ab("0xe28")]=esmap.ESMapLabel[_0x27ab("0x2")][_0x27ab("0xe28")],_[_0x27ab("0x286")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0x286")],_[_0x27ab("0xe22")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0xe22")],_[_0x27ab("0x26a")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")].moveTo,_[_0x27ab("0xe5f")]=esmap.ESMapLabel[_0x27ab("0x2")].fade,_[_0x27ab("0x283")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0x283")],_.stopJump=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0x285")],_[_0x27ab("0x287")]=esmap.ESMapLabel[_0x27ab("0x2")][_0x27ab("0x287")],e=b,(0,n.default)(_,e)}return(0,r[_0x27ab("0xb")])(a,x),a}(THREE.Sprite);l.prototype=new u,window[_0x27ab("0x42a")][_0x27ab("0x80")][_0x27ab("0x5f6")](l.prototype),a[_0x27ab("0xb")]=l},function(x,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=o(b(10)),e=o(b(8)),t=o(b(4)),i=o(b(0)),n=o(b(1)),r=o(b(5)),s=o(b(6));function o(x){return x&&x.__esModule?x:{default:x}}var c=function(x){function a(x,b,_,e){(0,i[_0x27ab("0xb")])(this,a);var n=(0,r[_0x27ab("0xb")])(this,(a.__proto__||(0,t[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this));n[_0x27ab("0xe28")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")].updateScreenSize,n[_0x27ab("0x286")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0x286")],n[_0x27ab("0xe22")]=esmap[_0x27ab("0x18b")].prototype[_0x27ab("0xe22")],n.moveTo=esmap.ESMapLabel[_0x27ab("0x2")][_0x27ab("0x26a")],n[_0x27ab("0xe5f")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0xe5f")];var s=new(THREE[_0x27ab("0x159")]),o=new(THREE[_0x27ab("0xdc9")])({transparent:!0,side:THREE[_0x27ab("0x11c")]});o[_0x27ab("0xf6")]=!1,s[_0x27ab("0xb3")]=o;var c=new THREE.PlaneBufferGeometry(1,1,1,1);s[_0x27ab("0xb1")]=c,n[_0x27ab("0x18e")]=b,n[_0x27ab("0xf6")]=!1,n[_0x27ab("0xe86")]=b[_0x27ab("0xe86")],n[_0x27ab("0x163")](s),n[_0x27ab("0xfe")]=s;var l=n,f=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];b[_0x27ab("0x12d")]?n.initArrow():n[_0x27ab("0x1a9")]=n[_0x27ab("0xfe")],n[_0x27ab("0xe74")]({url:_,glowMode:!1,material:o,glowColor:"#FF0000",clip:b[_0x27ab("0xe70")]}).then((function(){n[_0x27ab("0xfe")][_0x27ab("0xb3")][_0x27ab("0xf6")]=!0})),f.on(_0x27ab("0x12b"),(function(){n[_0x27ab("0xe86")]&&s[_0x27ab("0x1b1")].set(0,0,-f[_0x27ab("0x269")]/180*Math.PI,"XYZ")})),o[_0x27ab("0x91b")]=!1,o[_0x27ab("0x12f")]=!1,s[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x599")];var u={};b[_0x27ab("0xe7d")]instanceof Object?(u.w=b.size_.w,u.h=b[_0x27ab("0xe7d")].h):u.w=u.h=b.size_;var d=u.w/32*10,h=u.h/32*10;return l[_0x27ab("0x24b")].set(d,h,1),l.rotation.set(-Math.PI/2,0,Math.PI,_0x27ab("0x1b2")),l.width_=u.w,l[_0x27ab("0xe1d")]=u.h,l[_0x27ab("0xf6")]=!0,e&&e(l),n}return(0,s[_0x27ab("0xb")])(a,x),(0,n.default)(a,[{key:_0x27ab("0xe87"),value:function(){var x=this[_0x27ab("0x18e")],a=this[_0x27ab("0xe88")]({color:x.arrowColor,scale:x[_0x27ab("0xe89")]/x[_0x27ab("0xe7d")],offset:x[_0x27ab("0xe8a")]});a.material[_0x27ab("0x91b")]=!1,a[_0x27ab("0xb3")][_0x27ab("0x12f")]=!1,a[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x599")]-.5;var b=new(THREE[_0x27ab("0xe8b")]);b[_0x27ab("0x163")](a),this[_0x27ab("0x163")](b),this[_0x27ab("0x1a9")]=b,this[_0x27ab("0xe8c")]=b}},{key:_0x27ab("0xe88"),value:function(x){var a=x[_0x27ab("0x107")],b=x[_0x27ab("0x24b")],_=x[_0x27ab("0x143")],e=document[_0x27ab("0x20")](_0x27ab("0x8fe")),t=64;e[_0x27ab("0x326")]=t,e[_0x27ab("0x1b7")]=t;var i=e.getContext("2d");i[_0x27ab("0x908")](),i[_0x27ab("0x26a")](0,t),i.lineTo(32,0),i[_0x27ab("0x564")](t,t),i[_0x27ab("0x564")](t,t),i[_0x27ab("0x90a")](),i[_0x27ab("0xa03")](),i[_0x27ab("0x9fe")]=a,i[_0x27ab("0x33d")]();var n=new THREE.Texture(e),r=new(THREE[_0x27ab("0x106")])({map:n,transparent:!0});r[_0x27ab("0xf6")]=!0,r[_0x27ab("0x37")][_0x27ab("0x146")]=!0;var s=new(THREE[_0x27ab("0xaa4")])(b,b,b,b),o=new THREE.Mesh(s,r);return o[_0x27ab("0xc5")]=_0x27ab("0x12d"),o[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x599")]-1,o[_0x27ab("0xc3")].y+=_,o}},{key:_0x27ab("0xe83"),value:function(x){this[_0x27ab("0xe74")]({url:x,glowMode:!1,material:this[_0x27ab("0xfe")][_0x27ab("0xb3")],glowColor:_0x27ab("0xc94"),clip:this[_0x27ab("0x18e")][_0x27ab("0xe70")]})}},{key:_0x27ab("0xe74"),value:function(x){var a=x[_0x27ab("0xe7b")],b=x[_0x27ab("0xb3")],t=x[_0x27ab("0x1b9")],i=(x[_0x27ab("0x1d6")],x[_0x27ab("0xe7a")],esmap[_0x27ab("0x32")][_0x27ab("0xd3")]),n=128,r=128;x[_0x27ab("0xaf9")]&&(n=x[_0x27ab("0xaf9")].w,r=x[_0x27ab("0xaf9")].h);var s=this.data_[_0x27ab("0xe7c")]||1;return new(e[_0x27ab("0xb")])((function(e){a&&(n*=2,r*=2);var o=document[_0x27ab("0x20")](_0x27ab("0x8fe")),c=o[_0x27ab("0x8ff")]("2d"),l=Math[_0x27ab("0x33f")](n,64);l=l>1024?1024:l;var f=Math.max(r,64);f=f>1024?1024:f,l*=s,f*=s,o.width=l,o[_0x27ab("0x1b7")]=f,i.mapService.ResourcePool[_0x27ab("0xe8d")](t,(function(t){if(a?(t.width=l/2,t[_0x27ab("0x1b7")]=f/2):(t[_0x27ab("0x326")]=l,t[_0x27ab("0x1b7")]=f),x[_0x27ab("0xe70")]){var i=null;(0,_[_0x27ab("0xb")])(x[_0x27ab("0xe70")])==_0x27ab("0x1c")?((i=x[_0x27ab("0xe70")])[_0x27ab("0xe85")]=x[_0x27ab("0xe70")][_0x27ab("0xe85")]||_0x27ab("0xe4"),i.strokeWidth=x[_0x27ab("0xe70")][_0x27ab("0xe84")]||1):typeof x[_0x27ab("0xe70")]==_0x27ab("0x60")&&(i={type:x.clip,strokeColor:_0x27ab("0xe8e"),strokeWidth:1}),i&&i[_0x27ab("0x70")]==_0x27ab("0x11f")&&function(x,a,b,_,e,t){x.save();var i=2*e,n=b+e,r=_+e;x[_0x27ab("0x909")](n,r,e,0,2*Math.PI),x[_0x27ab("0xe70")](),x[_0x27ab("0xc81")](a,b,_,i,i),x[_0x27ab("0x908")](),x[_0x27ab("0x909")](n,r,e-t[_0x27ab("0xe84")],0,2*Math.PI),x[_0x27ab("0xa00")]=t[_0x27ab("0xe85")],x[_0x27ab("0x120")]=t[_0x27ab("0xe84")],x.stroke(),x[_0x27ab("0xe71")]()}(c,t,0,0,n/2,i)}else a?c[_0x27ab("0xc81")](t,t.width/2,t[_0x27ab("0x1b7")]/2,t[_0x27ab("0x326")],t.height):c[_0x27ab("0xc81")](t,0,0,t[_0x27ab("0x326")],t[_0x27ab("0x1b7")]);var r=new(THREE[_0x27ab("0xe8f")])(o);r[_0x27ab("0x146")]=!0,r[_0x27ab("0x14d")]=THREE[_0x27ab("0x14e")],esmap[_0x27ab("0x32")][_0x27ab("0xd3")]&&(r[_0x27ab("0x14c")]=esmap[_0x27ab("0x32")].instance.mapView[_0x27ab("0x68c")][_0x27ab("0xc80")][_0x27ab("0xc85")](),b[_0x27ab("0x37")]=r,b[_0x27ab("0x37")][_0x27ab("0x146")]=!0,b.needsUpdate=!0,e())}))}))}},{key:_0x27ab("0x12d"),get:function(){return this[_0x27ab("0xe8c")]&&this[_0x27ab("0xe8c")].visible},set:function(x){x?(this[_0x27ab("0xe8c")]?this.arrowGroup.visible=!0:this[_0x27ab("0xe87")](),this[_0x27ab("0x1a9")]=this[_0x27ab("0xe8c")]):(this[_0x27ab("0xe8c")]&&(this[_0x27ab("0xe8c")].visible=!1),this[_0x27ab("0x1a9")]=this[_0x27ab("0xfe")])}}]),a}(THREE[_0x27ab("0x15b")]);window.esmap[_0x27ab("0x80")][_0x27ab("0x5f6")](c[_0x27ab("0x2")]),a[_0x27ab("0xb")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=n(b(4)),e=n(b(0)),t=n(b(5)),i=n(b(6));function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var r=new(THREE[_0x27ab("0xe90")])(1,1,1,1),s=function(x){function a(x,b,i,n){(0,e[_0x27ab("0xb")])(this,a);var s=new(THREE[_0x27ab("0xdc9")])({transparent:!0}),o={fontsize:2*i[_0x27ab("0xde3")],borderThickness:.1,color:esmap[_0x27ab("0x80")][_0x27ab("0xe37")](i[_0x27ab("0xe56")]||_0x27ab("0xdc2")),borderColor:esmap[_0x27ab("0x80")][_0x27ab("0xe37")](i[_0x27ab("0xe57")]||_0x27ab("0xbaf")),imagealign:i[_0x27ab("0xd50")]||"left",imagesize:i[_0x27ab("0x4a0")],imagespace:i[_0x27ab("0xe43")],textspace:i.textspace||4,pivottype:i.pivottype||_0x27ab("0xed")},c=(i.fontsize,(0,t[_0x27ab("0xb")])(this,(a.__proto__||(0,_.default)(a))[_0x27ab("0x3")](this,r,s)));c[_0x27ab("0xe83")]=esmap[_0x27ab("0x58e")][_0x27ab("0xe83")],c[_0x27ab("0xe28")]=esmap.ESMapLabel[_0x27ab("0x2")][_0x27ab("0xe28")],c[_0x27ab("0x286")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")].flash,c[_0x27ab("0xe22")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0xe22")],c[_0x27ab("0x26a")]=esmap.ESMapLabel[_0x27ab("0x2")].moveTo,c[_0x27ab("0xe5f")]=esmap[_0x27ab("0x18b")][_0x27ab("0x2")][_0x27ab("0xe5f")];var l=esmap[_0x27ab("0x18b")].prototype.makeTextSprite_[_0x27ab("0x3")](c,b[_0x27ab("0xc5")],o),f=l.image[_0x27ab("0x326")],u=l[_0x27ab("0x187")][_0x27ab("0x1b7")];l[_0x27ab("0x146")]=!0,c[_0x27ab("0xb3")].map=l,c[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x146")]=!0,c[_0x27ab("0xb3")][_0x27ab("0x854")]=!0,c[_0x27ab("0xb3")].needsUpdate=!0,c.geometry=new(THREE[_0x27ab("0xe90")])(f,u,1,1),c[_0x27ab("0x18e")]=b,c.visible=!1;var d=c;return d[_0x27ab("0x1b1")].set(-Math.PI/2,0,Math.PI,_0x27ab("0x1b2")),d[_0x27ab("0xe91")](THREE[_0x27ab("0x28e")].degToRad(Number(b[_0x27ab("0x26c")]))),d[_0x27ab("0x133")]=esmap.ESRenderOrder.locationMarker,d[_0x27ab("0x24b")][_0x27ab("0x123")](.04,.04,1),n&&n(),c}return(0,i.default)(a,x),a}(THREE.Mesh);esmap[_0x27ab("0x80")]._setGeneralProperties(s.prototype),a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(313));function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var n=function(){function x(a,b){(0,_.default)(this,x),this[_0x27ab("0xe92")]=null,this[_0x27ab("0x1ab")]=0,this.sceneZ_=0,this[_0x27ab("0xe93")]=0,this[_0x27ab("0xe94")]=null,this[_0x27ab("0x9d0")]=null,this[_0x27ab("0xad0")]=null,this[_0x27ab("0xafb")]=0,this.minY_=0,this.maxX_=0,this.maxY_=0,this[_0x27ab("0xe95")]=0,this[_0x27ab("0x37")]=a,this[_0x27ab("0x198")]=b;b=esmap[_0x27ab("0x80")].getPlatform();this[_0x27ab("0x22d")]=b[_0x27ab("0x22d")],this[_0x27ab("0x15c")]=new(t[_0x27ab("0xb")])(this),this[_0x27ab("0xbe9")]=new THREE.ESGLTFLoader,this.modelInfos=[],this[_0x27ab("0xcd4")]={building:0,model:0},this[_0x27ab("0xe96")]()}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x69b"),value:function(x){!function x(a){if(null!==a){a[_0x27ab("0xae")]&&a.datas_[_0x27ab("0xaf")]&&(a[_0x27ab("0xae")][_0x27ab("0xaf")]=void 0,a[_0x27ab("0xae")]=void 0);for(var b=0;b<a.children[_0x27ab("0x0")];b++)x(a.children[b]);a[_0x27ab("0xb1")]&&(a[_0x27ab("0xb1")][_0x27ab("0xb2")](),a.geometry=void 0),a.material&&(a[_0x27ab("0xb3")].materials?a[_0x27ab("0xb3")][_0x27ab("0xbe")][_0x27ab("0x1b")]((function(x){x.map&&(x[_0x27ab("0x37")][_0x27ab("0xb2")](),x[_0x27ab("0x37")]=void 0),x[_0x27ab("0xb2")](),x=void 0})):(a[_0x27ab("0xb3")][_0x27ab("0xb2")](),a[_0x27ab("0xb3")]=void 0))}a=void 0}(x)}},{key:_0x27ab("0xe96"),value:function(){this[_0x27ab("0xe94")]=new(THREE[_0x27ab("0x15b")]),this[_0x27ab("0xe94")][_0x27ab("0xc5")]=_0x27ab("0xfe"),this[_0x27ab("0x9d0")]=new(THREE[_0x27ab("0x15b")]),this.lineManager[_0x27ab("0xc5")]="lineManager",this[_0x27ab("0xe94")][_0x27ab("0x163")](this[_0x27ab("0x9d0")]),this[_0x27ab("0x9be")]=new(THREE[_0x27ab("0x15b")]),this.buildingScene_.name=_0x27ab("0xac3"),this[_0x27ab("0x1bf")]=new(THREE[_0x27ab("0x15b")]),this[_0x27ab("0x1bf")][_0x27ab("0xc5")]=_0x27ab("0xe97"),this[_0x27ab("0x1b3")]=new(THREE[_0x27ab("0x15b")]),this[_0x27ab("0xe94")][_0x27ab("0x163")](this[_0x27ab("0x1b3")]),this.o3dScene_[_0x27ab("0x163")](this[_0x27ab("0x1bf")]),this[_0x27ab("0xe94")][_0x27ab("0x163")](this.buildingScene_)}},{key:_0x27ab("0x998"),value:function(x,a,b){var _=this,e=x[_0x27ab("0x455")]<32503514?x[_0x27ab("0x455")]:x[_0x27ab("0x455")]/1e3;if(!((new Date)[_0x27ab("0x7c")]()>1e6*e)&&(esmap[_0x27ab("0x80")][_0x27ab("0x7d")](x[_0x27ab("0x7e")]+x[_0x27ab("0x44e")]+x[_0x27ab("0x461")]+(x.o1||0)+_0x27ab("0xab9")+(x.o2||0))==x[_0x27ab("0x456")]||x.Hash==x[_0x27ab("0x7e")]||x.token==_0x27ab("0xabb"))){if(this[_0x27ab("0xe92")]=x,x[_0x27ab("0xe98")]>0?this[_0x27ab("0x1ab")]=-x.centerX:this[_0x27ab("0x1ab")]=x.centerX,this.sceneZ_=x[_0x27ab("0xe99")],!this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xe9a")]&&this[_0x27ab("0x37")][_0x27ab("0x33")].center){var t=this[_0x27ab("0x37")][_0x27ab("0x193")]({x:this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xed")][0],y:this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xed")][1]});this[_0x27ab("0x37")].on(_0x27ab("0xb1c"),(function(){_.map[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0x123")](t.x,0,t.z),_[_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x12b")]({forceTheta:Math.PI-_[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x20c")]*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")],forcePhi:_.map.options[_0x27ab("0x20d")]*THREE[_0x27ab("0x28e")].DEG2RAD})}))}if(this[_0x27ab("0x37")].mapView.zoomLevel=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x168")],this[_0x27ab("0x37")][_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x3a")]){this[_0x27ab("0xa30")]=new esmap.ESBuilding(this.map.id,{undergroundOffset:0},this.map),this[_0x27ab("0xa30")].buildingType=esmap[_0x27ab("0x5bb")][_0x27ab("0xcf5")],this[_0x27ab("0xa30")][_0x27ab("0xf5")]=[1],this[_0x27ab("0xa30")][_0x27ab("0x62c")]=[1],this[_0x27ab("0xa30")][_0x27ab("0xc09")][1]={label:0,poi:0,floorBase:0,model:0,modelBase:0,model3D:0},this[_0x27ab("0xa30")][_0x27ab("0xcf7")]=0,this[_0x27ab("0xa30")][_0x27ab("0xcf6")]=0,this[_0x27ab("0xa30")][_0x27ab("0xed")]=this.map.options[_0x27ab("0xed")];var i=new(esmap[_0x27ab("0x3d6")])(this,{name:"室外",Elevation:0,Name_en:"Outdoor",Alias:"室外",floornum:1});i.o3d_[_0x27ab("0xe9b")]={Elevation:0,floornum:1},this[_0x27ab("0xa30")].o3dFloors_[1]=i[_0x27ab("0xaf")];var n=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0x232")]);n[_0x27ab("0xc5")]=_0x27ab("0x9e6"),i[_0x27ab("0x1a1")](n),this[_0x27ab("0xa30")].o3d_.add(i[_0x27ab("0xaf")]);var r=this[_0x27ab("0xa30")];this[_0x27ab("0x37")].on("update",(function(){r[_0x27ab("0x37")]&&(r.map.options[_0x27ab("0x93a")]?(r[_0x27ab("0x37")].firstPersonControls[_0x27ab("0x581")]&&(timer=setTimeout((function(){r[_0x27ab("0x161")][_0x27ab("0x308")]=!1,r[_0x27ab("0x161")][_0x27ab("0x29f")]=!1,timer&&window[_0x27ab("0xacb")](timer)}),100)),r.modelLoadManager[_0x27ab("0xc0f")](),r[_0x27ab("0x161")].invisibleMergeModels(),r[_0x27ab("0x161")][_0x27ab("0xe9c")]()):(r[_0x27ab("0x161")].invisibleMergeModels(),r[_0x27ab("0x161")][_0x27ab("0xe9c")](r)))})),this.buildingScene_[_0x27ab("0x163")](this[_0x27ab("0xa30")][_0x27ab("0xaf")])}this.isPC||(this[_0x27ab("0xe94")][_0x27ab("0xc3")].y+=this[_0x27ab("0x37")].options[_0x27ab("0x1f8")]),a&&(this[_0x27ab("0xad0")]=esmap.ESMapSceneUtil.calcSceneBox3(b)),this.minX_=this[_0x27ab("0xe92")][_0x27ab("0x446")],this.maxX_=this.mapSceneData[_0x27ab("0x448")],this.minY_=this[_0x27ab("0xe92")].minY,this[_0x27ab("0xe9d")]=this[_0x27ab("0xe92")][_0x27ab("0x449")],this[_0x27ab("0x37")][_0x27ab("0xa4e")][_0x27ab("0x428")](),this[_0x27ab("0x37")][_0x27ab("0x614")].scene.add(this.o3dScene_)}}},{key:_0x27ab("0xe9e"),value:function(){return esmap[_0x27ab("0x644")][_0x27ab("0xe9e")](this[_0x27ab("0xad0")])}},{key:_0x27ab("0xa4f"),value:function(){return this.o3dScene_}},{key:_0x27ab("0xe9f"),value:function(){return this[_0x27ab("0x9be")]}},{key:"getTileScene",value:function(){return this[_0x27ab("0x1bf")]}},{key:_0x27ab("0xea0"),value:function(x,a){var b=this[_0x27ab("0x37")][_0x27ab("0x29e")],_=a[_0x27ab("0x17f")],e=a.datas_.requireCollide_;for(var t in _.clear(),a[_0x27ab("0xb0")]){var i=a[_0x27ab("0xb0")][t];if(i.forceVisible_){var n=this[_0x27ab("0x37")][_0x27ab("0xea1")](i),r=i[_0x27ab("0xe1c")]/2,s=i[_0x27ab("0xe1d")]/2;e&&_[_0x27ab("0x1")](i,{x:n.x-r/2,y:n.y-s/2,w:r,h:s,size:r*s})?i[_0x27ab("0xf6")]=!b:(i[_0x27ab("0xf6")]=!0,i.updateScreenSize(x))}}}},{key:"updateCollide",value:function(x){for(var a=this,b=this[_0x27ab("0xe9f")](),_=0;_<b[_0x27ab("0xb0")][_0x27ab("0x0")];_++){b[_0x27ab("0xb0")][_][_0x27ab("0xb0")][_0x27ab("0x1b")]((function(b){if(b[_0x27ab("0xf6")])for(var _=0;_<b.children[_0x27ab("0x0")];_++){var e=b[_0x27ab("0xb0")][_],t=e[_0x27ab("0xae")];t&&t.visible&&(t._type_==esmap[_0x27ab("0x17d")][_0x27ab("0x17e")]||t[_0x27ab("0x60a")]==esmap[_0x27ab("0x17d")][_0x27ab("0xa9a")]||t[_0x27ab("0x60a")]==esmap[_0x27ab("0x17d")].MODEL_POI||t[_0x27ab("0x60a")]==esmap.ESLayerType[_0x27ab("0xa99")])&&a[_0x27ab("0xea0")](x,e)}}))}var e=this[_0x27ab("0xa54")]();for(_=0;_<e.children[_0x27ab("0x0")];_++){e[_0x27ab("0xb0")][_][_0x27ab("0xb0")][_0x27ab("0x1b")]((function(b){(b[_0x27ab("0xae")]&&b[_0x27ab("0xae")][_0x27ab("0x60a")]==esmap[_0x27ab("0x17d")][_0x27ab("0x17e")]||b[_0x27ab("0xae")]&&b.datas_[_0x27ab("0x60a")]==esmap[_0x27ab("0x17d")][_0x27ab("0x181")])&&a[_0x27ab("0xea0")](x,b)}))}var t=this.userScene[_0x27ab("0xaf")];t&&t.children[_0x27ab("0x1b")]((function(b){var _=b[_0x27ab("0xae")];_&&_[_0x27ab("0xf6")]&&(_._type_==esmap[_0x27ab("0x17d")][_0x27ab("0x17e")]||_[_0x27ab("0x60a")]==esmap[_0x27ab("0x17d")][_0x27ab("0xa99")]||_[_0x27ab("0x60a")]==esmap.ESLayerType[_0x27ab("0xa9a")]||_[_0x27ab("0x60a")]==esmap[_0x27ab("0x17d")][_0x27ab("0x181")]||_[_0x27ab("0x60a")]==esmap.ESLayerType[_0x27ab("0xa99")]||_._type_==esmap[_0x27ab("0x17d")][_0x27ab("0xa99")])&&a[_0x27ab("0xea0")](x,b)}))}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(314));function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var n=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0xc9a")]=new(t[_0x27ab("0xb")])(a),this[_0x27ab("0xc1")]=a,this[_0x27ab("0xea2")]=this[_0x27ab("0xc1")].map.options[_0x27ab("0xea3")]}return(0,e[_0x27ab("0xb")])(x,[{key:"handleModels",value:function(x,a,b,_){var e=this.scene,t=e.sceneX_,i=e[_0x27ab("0x1ac")];_||(t=(x[_0x27ab("0xea4")].maxx-x[_0x27ab("0xea4")][_0x27ab("0xb9")])/2+x.floorEdge[_0x27ab("0xb9")],i=(x[_0x27ab("0xea4")][_0x27ab("0xbb")]-x[_0x27ab("0xea4")][_0x27ab("0xba")])/2+x[_0x27ab("0xea4")][_0x27ab("0xba")]);var n=e[_0x27ab("0x1ab")],r=e[_0x27ab("0x1ac")],s={lod:x[_0x27ab("0x31c")],fnum:a,sceneX:n,sceneZ:r,isTile:_,floorCenX:-t,floorCenZ:i,minX:b[_0x27ab("0x17a")][_0x27ab("0x446")],minY:b.sourceData[_0x27ab("0x447")],maxX:b[_0x27ab("0x17a")].maxX,maxY:b[_0x27ab("0x17a")][_0x27ab("0x449")],modelHeight:5,isMerge:e[_0x27ab("0x37")][_0x27ab("0x33")].mergeModels,editMode:e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")],showBase:e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xea5")],layers:x[_0x27ab("0x61d")],maptheme:e[_0x27ab("0x37")].mapTheme[_0x27ab("0xdc8")],tileStylesMap:e.map[_0x27ab("0xfc")].tileStylesMap,layerType:1,messageType:1,isBim:b[_0x27ab("0x70")]>100};this[_0x27ab("0xc9a")].addTask(s,b)}},{key:_0x27ab("0x178"),value:function(x,a,b,_){var e=this[_0x27ab("0xc1")],t=e[_0x27ab("0x1ab")],i=e.sceneZ_;_||(t=(x[_0x27ab("0xea4")][_0x27ab("0xb5")]-x[_0x27ab("0xea4")][_0x27ab("0xb9")])/2+x[_0x27ab("0xea4")][_0x27ab("0xb9")],i=(x.floorEdge[_0x27ab("0xbb")]-x[_0x27ab("0xea4")][_0x27ab("0xba")])/2+x.floorEdge[_0x27ab("0xba")]);var n=e[_0x27ab("0x1ab")],r=e.sceneZ_,s={lod:x[_0x27ab("0x31c")],isTile:_,fnum:a,sceneX:n,sceneZ:r,floorCenX:-t,floorCenZ:i,minX:b[_0x27ab("0x17a")][_0x27ab("0x446")],minY:b[_0x27ab("0x17a")][_0x27ab("0x447")],maxX:b[_0x27ab("0x17a")].maxX,maxY:b[_0x27ab("0x17a")][_0x27ab("0x449")],modelHeight:5,isMerge:e[_0x27ab("0x37")].options.mergeModels,editMode:e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")],showBase:e[_0x27ab("0x37")].options[_0x27ab("0xea5")],layers:x.modelbaselayer,maptheme:e.map.mapTheme[_0x27ab("0xdc8")],tileStylesMap:e[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xea6")],layerType:0,messageType:1,isBim:b[_0x27ab("0x70")]>100};this.modelWorker.addTask(s,b)}},{key:_0x27ab("0xea7"),value:function(x,a,b,_){var e=this[_0x27ab("0xc1")],t=(x[_0x27ab("0xea4")][_0x27ab("0xb5")]-x[_0x27ab("0xea4")][_0x27ab("0xb9")])/2+x[_0x27ab("0xea4")][_0x27ab("0xb9")],i=(x.floorEdge[_0x27ab("0xbb")]-x[_0x27ab("0xea4")][_0x27ab("0xba")])/2+x[_0x27ab("0xea4")][_0x27ab("0xba")],n=e[_0x27ab("0x1ab")],r=e[_0x27ab("0x1ac")],s={editMode:e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")],fnum:a,sceneX:n,sceneZ:r,floorCenX:-t,floorCenZ:i,minX:_[_0x27ab("0x17a")][_0x27ab("0x446")],minY:_[_0x27ab("0x17a")].minY,maxX:_[_0x27ab("0x17a")].maxX,maxY:_[_0x27ab("0x17a")].maxY,floorHeight:b,layers:x[_0x27ab("0xea8")],layerType:2,messageType:1};this[_0x27ab("0xc9a")][_0x27ab("0xea9")](s,_)}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(315));function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var n=window.esWorker,r=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x);var b=this;b[_0x27ab("0xc1")]=a,b.modelImages=[],b[_0x27ab("0xeaa")]=[],b[_0x27ab("0xc9b")]=new(t[_0x27ab("0xb")])(a),b[_0x27ab("0xeab")]={},b[_0x27ab("0xeac")]={},b[_0x27ab("0xead")]=[],b[_0x27ab("0xeae")]=0,b[_0x27ab("0xeaf")]=0;var e=0,i=window.navigator[_0x27ab("0xeb0")];e=i?i-2<0?1:i-2:2;(new Date)[_0x27ab("0x7c")]();for(var r=function(x){n[_0x27ab("0xeb1")](x,(function(_){b[_0x27ab("0xeab")][x]=_,b[_0x27ab("0xeac")][x]=!0,_[_0x27ab("0x2f")](_0x27ab("0xe55"),(function(x){b[_0x27ab("0xeac")][x[_0x27ab("0x366")].id]=!0,b[_0x27ab("0xeaf")]++;var _=null;if(x.data[_0x27ab("0xe55")]==_0x27ab("0xeb2")||"bimInfos"==x[_0x27ab("0x366")][_0x27ab("0xe55")]){var e=x.data.bids||x[_0x27ab("0x366")][_0x27ab("0x366")][_0x27ab("0x5de")];(_=a.map.getBuildingById(e))[_0x27ab("0x161")][_0x27ab("0xa7f")][_0x27ab("0xeb3")](x.data)}else if(x.data[_0x27ab("0xe3b")])(_=a[_0x27ab("0x37")].getTileById(x[_0x27ab("0x366")][_0x27ab("0xeb")]))||(_=a[_0x27ab("0x37")][_0x27ab("0xa50")](x[_0x27ab("0x366")][_0x27ab("0xeb")])),b[_0x27ab("0xc9b")][_0x27ab("0xea2")](x[_0x27ab("0x366")],_);else{if(!(_=a[_0x27ab("0x37")].getBuildingById(x[_0x27ab("0x366")][_0x27ab("0xeb")])))return;2==x[_0x27ab("0x366")][_0x27ab("0xeb4")]?_[_0x27ab("0x980")][_0x27ab("0xeb5")](x[_0x27ab("0x366")],_):_[_0x27ab("0x980")][_0x27ab("0xeb6")](x[_0x27ab("0x366")],_)}}))}))},s=0;s<e;s++)r(s);b[_0x27ab("0xc1")][_0x27ab("0x37")].on("update",(function(){b[_0x27ab("0xeb7")]()}))}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0xeb8"),value:function(x){0!=this.tsTank[_0x27ab("0x0")]&&(this[_0x27ab("0xead")][0].id=x,this[_0x27ab("0xeab")][x].postMessage(this[_0x27ab("0xead")][0]),this[_0x27ab("0xeac")][x]=!1,this[_0x27ab("0xead")][_0x27ab("0x4")]())}},{key:_0x27ab("0xeb7"),value:function(){if(0!=this.tsTank[_0x27ab("0x0")]){var x=this[_0x27ab("0xeab")];for(var a in x)if(this[_0x27ab("0xeac")][a]){var b=this[_0x27ab("0xead")][0];b.id=a,this[_0x27ab("0xeac")][a]=!1,this[_0x27ab("0xead")][_0x27ab("0x4")]();try{this.workers[a][_0x27ab("0xeb9")](b)}catch(x){}return b=null,void this[_0x27ab("0xeae")]++}}}},{key:_0x27ab("0xea9"),value:function(x,a){var b=a.id;x[_0x27ab("0xeb")]=b;var _=this[_0x27ab("0xeab")];for(var e in _)if(this[_0x27ab("0xeac")][e])return x.id=e,this[_0x27ab("0xeac")][e]=!1,this[_0x27ab("0xeab")][e].postMessage(x),this[_0x27ab("0xeae")]++,void(x=null);this.tsTank[_0x27ab("0x1")](x)}},{key:"clear",value:function(x){this[_0x27ab("0xc9b")][_0x27ab("0xeba")]={},this[_0x27ab("0xc9b")][_0x27ab("0x981")]={},this[_0x27ab("0xc9b")][_0x27ab("0x985")]={}}},{key:_0x27ab("0xebb"),value:function(){}}]),x}();a[_0x27ab("0xb")]=r},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=s(b(12)),e=s(b(13)),t=s(b(0)),i=s(b(1)),n=b(140),r=(b(55),b(56),s(b(24)));function s(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var o=null,c=function(){function x(a){(0,t.default)(this,x),this[_0x27ab("0xc1")]=a,this[_0x27ab("0xeba")]={},this[_0x27ab("0x981")]={},this[_0x27ab("0x985")]={},this[_0x27ab("0xebc")]={},this[_0x27ab("0x987")]={},this.modelManagerStarted={},this[_0x27ab("0xebd")]=0,this[_0x27ab("0xebe")]={}}return(0,i.default)(x,[{key:"appendAttribute",value:function(x,a){var b=a[_0x27ab("0x1ae")][_0x27ab("0x0")],_=x.length,e=new Float32Array(b+_);e.set(a[_0x27ab("0x1ae")]),e[_0x27ab("0x123")](x,b),a.array=e,a.count+=_/a[_0x27ab("0x816")],a[_0x27ab("0x146")]=!0}},{key:_0x27ab("0xea2"),value:function(x,a){var b,_=this[_0x27ab("0xc1")],e=x[_0x27ab("0xeb4")],t=null,i=a.id,r=a[_0x27ab("0xaf")],s=this.scene[_0x27ab("0x37")].id,o=this[_0x27ab("0xc1")][_0x27ab("0x37")].options[_0x27ab("0x223")],c=this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xdf3")],l=x[_0x27ab("0x31c")],f={points:x.pointGeometrys,types:{}};if(this[_0x27ab("0xebc")][i]||((b=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")].MODEL3D))[_0x27ab("0xc5")]="mapmodel3ds",r[_0x27ab("0x163")](b.o3d_),a.modelLayer=b,this[_0x27ab("0xebc")][i]={0:{model3data:[],geometries:{},meshes:{},rmodellayer:b},1:{model3data:[],geometries:{},meshes:{},rmodellayer:b}}),b=a.modelLayer,this[_0x27ab("0xebc")][i][e][_0x27ab("0xebf")]=this[_0x27ab("0xebc")][i][e][_0x27ab("0xebf")].concat(x[_0x27ab("0xec0")]),e)if(this.modelLayers[i])t=this[_0x27ab("0xeba")][i];else{var u=new esmap.ESLayer(esmap[_0x27ab("0x17d")].MODEL,{});r.add(u.o3d_),this[_0x27ab("0xeba")][i]=u,t=u}else if(this.baseLayers[i])t=this[_0x27ab("0x981")][i];else{var d=new(esmap[_0x27ab("0x17c")])(esmap.ESLayerType[_0x27ab("0x9e9")],{});r[_0x27ab("0x163")](d[_0x27ab("0xaf")]),this[_0x27ab("0x981")][i]=d,t=d}var h=0;for(var g in x[_0x27ab("0x630")]){var v=x[_0x27ab("0x630")][g],p=v[_0x27ab("0x342")],A=x.groups[g],m=[],C=[];if(c&&p[0]){var I=p[0][_0x27ab("0x623")],y={},E={bordercolor:_.map[_0x27ab("0xfc")][_0x27ab("0xcd3")][I][_0x27ab("0xde7")],borderwidth:_[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xcd3")][I][_0x27ab("0xde6")]||0};E[_0x27ab("0xde6")]&&(y[_0x27ab("0x468")]=I,y[_0x27ab("0xec1")]=E,y.id=I,y.groupIndex=v[_0x27ab("0xec2")],f.types[I]=y,this[_0x27ab("0xec3")](f,!0,a))}var w=0;this[_0x27ab("0xebc")][i][e][_0x27ab("0x3e1")][g]&&(w=this[_0x27ab("0xebc")][i][e][_0x27ab("0x3e1")][g][_0x27ab("0x127")][_0x27ab("0xec4")]);for(var T=[],k=0;k<p[_0x27ab("0x0")];k++){var S=p[k],M=_[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x169")].getBuildingColorStaged({ID:S.ID,name:S[_0x27ab("0xc5")]});M&&T.push({start:S[_0x27ab("0x343")][0],end:S[_0x27ab("0x343")][1],data:M});var R=A[S.ID],L=[R[1].start,R[1][_0x27ab("0x1d5")]+R[1][_0x27ab("0xc4")]];0!=w&&(S[_0x27ab("0x343")][0]+=w,S[_0x27ab("0x343")][1]+=w,L[0]+=w,L[1]+=w);var H=_[_0x27ab("0x37")][_0x27ab("0x199")]({from:_[_0x27ab("0x37")][_0x27ab("0x192")],to:_.map[_0x27ab("0x33")][_0x27ab("0x1f7")],coord:S[_0x27ab("0x3d5")]});_[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xec5")][_0x27ab("0xd1")](S[_0x27ab("0x623")])<0&&_[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xec5")][_0x27ab("0x1")](S.RoomStyle);var D={ID:S.ID,dataID:S[_0x27ab("0x637")],gid:S.gid,RoomHigh:S[_0x27ab("0x622")],RoomStyle:S[_0x27ab("0x623")],buildingFnums:S[_0x27ab("0xec6")],faceRange:S[_0x27ab("0x343")],sideRange:L,nodeType:5,top:S[_0x27ab("0x184")],bclick:S[_0x27ab("0xa84")],bid:s,tileId:i,mapId:S[_0x27ab("0x35")]||null,bType:1,parentType:1,name:S[_0x27ab("0xc5")],typeID:S[_0x27ab("0x5e2")],size:S.size,mapCoord:H};m[_0x27ab("0x1")](D),o&&(m[m.length-1][_0x27ab("0xec")]=S[_0x27ab("0xec")]),C[_0x27ab("0x1")]({ID:S.ID,range:S[_0x27ab("0x343")],sideRange:L,split:R[1][_0x27ab("0x1d5")]+w})}for(var P=x[_0x27ab("0xa6e")][_0x27ab("0x55d")](3*h,3*(h+v[_0x27ab("0xec7")])),O=x.normals[_0x27ab("0x55d")](3*h,3*(v[_0x27ab("0xec7")]+h)),B=x[_0x27ab("0x9ea")][_0x27ab("0x55d")](h,v[_0x27ab("0xec7")]+h),N=x.isSelectFlags[_0x27ab("0x55d")](h,v[_0x27ab("0xec7")]+h),F=x[_0x27ab("0x345")][_0x27ab("0x55d")](1*h,1*(h+v[_0x27ab("0xec7")])),z=x[_0x27ab("0x9ef")].subarray(1*h,1*(h+v[_0x27ab("0xec7")])),j=x[_0x27ab("0xec8")][_0x27ab("0x55d")](1*h,1*(h+v[_0x27ab("0xec7")])),U=x.buildingsRandomFactor.subarray(1*h,1*(h+v[_0x27ab("0xec7")])),X=x[_0x27ab("0xec9")][_0x27ab("0x55d")](4*h,4*(h+v[_0x27ab("0xec7")])),Y=x[_0x27ab("0xeca")][_0x27ab("0x55d")](4*h,4*(h+v[_0x27ab("0xec7")])),G=x.topTexIndex[_0x27ab("0x55d")](h,1*(h+v.groupIndex)),Q=x.sideTexIndex.subarray(h,1*(h+v[_0x27ab("0xec7")])),V=x.normalizeUvs[_0x27ab("0x55d")](2*h,2*(v.groupIndex+h)),W=x[_0x27ab("0xecb")][_0x27ab("0x55d")](2*h,2*(v[_0x27ab("0xec7")]+h)),Z=x[_0x27ab("0xecc")].subarray(2*h,2*(v.groupIndex+h)),J=0;J<T.length;J++){for(var K=T[J],q=K.start;q<K[_0x27ab("0x2d3")];q++)z[q]=1;for(var $=4*K[_0x27ab("0x1d5")];$<4*K[_0x27ab("0x2d3")];$+=4)Y[$]=K[_0x27ab("0x366")][0],Y[$+1]=K[_0x27ab("0x366")][1],Y[$+2]=K[_0x27ab("0x366")][2],Y[$+3]=K[_0x27ab("0x366")][3]}var xx=null;if(this[_0x27ab("0xebc")][i][e][_0x27ab("0x3e1")][g]){xx=this[_0x27ab("0xebc")][i][e][_0x27ab("0x3e1")][g];this[_0x27ab("0xebc")][i][e][_0x27ab("0xc0")][g];this[_0x27ab("0xed0")](P,xx[_0x27ab("0x1af")](_0x27ab("0xc3"))),this[_0x27ab("0xed0")](O,xx.getAttribute(_0x27ab("0xff"))),this[_0x27ab("0xed0")](W,xx[_0x27ab("0x1af")]("uv")),this[_0x27ab("0xed0")](Z,xx.getAttribute(_0x27ab("0xecd"))),this[_0x27ab("0xed0")](V,xx[_0x27ab("0x1af")]("normalizeUv")),this[_0x27ab("0xed0")](F,xx.getAttribute(_0x27ab("0x345"))),this[_0x27ab("0xed0")](z,xx[_0x27ab("0x1af")](_0x27ab("0x9ef"))),this[_0x27ab("0xed0")](j,xx.getAttribute(_0x27ab("0xec8"))),this[_0x27ab("0xed0")](U,xx.getAttribute(_0x27ab("0xece"))),this[_0x27ab("0xed0")](X,xx[_0x27ab("0x1af")](_0x27ab("0xecf"))),this.appendAttribute(Y,xx.getAttribute(_0x27ab("0x9ee"))),this[_0x27ab("0xed0")](B,xx[_0x27ab("0x1af")](_0x27ab("0x9ea"))),this[_0x27ab("0xed0")](N,xx[_0x27ab("0x1af")](_0x27ab("0xa22"))),G[_0x27ab("0x0")]>0&&this.appendAttribute(G,xx[_0x27ab("0x1af")]("topTexIndex")),Q[_0x27ab("0x0")]>0&&this[_0x27ab("0xed0")](Q,xx[_0x27ab("0x1af")](_0x27ab("0xed1"))),xx[_0x27ab("0x342")]=xx[_0x27ab("0x342")].concat(C),C[_0x27ab("0x0")]>0&&(xx[_0x27ab("0x127")].lastGeoCount=C[C.length-1].range[1])}else{var ax=new(THREE[_0x27ab("0x3fd")])(P,3),bx=new THREE.BufferAttribute(O,3),_x=new THREE.BufferAttribute(W,2),ex=new THREE.BufferAttribute(V,2),tx=new(THREE[_0x27ab("0x3fd")])(Z,2),ix=new(THREE[_0x27ab("0x3fd")])(F,1),nx=new THREE.BufferAttribute(z,1),rx=new(THREE[_0x27ab("0x3fd")])(j,1),sx=new(THREE[_0x27ab("0x3fd")])(U,1),ox=new(THREE[_0x27ab("0x3fd")])(X,4),cx=new(THREE[_0x27ab("0x3fd")])(Y,4),lx=new(THREE[_0x27ab("0x3fd")])(B,1);(xx=new(n[_0x27ab("0x557")])).addAttribute("position",ax),xx.addAttribute(_0x27ab("0xff"),bx),xx[_0x27ab("0x1b0")]("uv",_x),xx[_0x27ab("0x1b0")](_0x27ab("0x558"),ex),xx[_0x27ab("0x1b0")](_0x27ab("0xecd"),tx),xx.addAttribute(_0x27ab("0x345"),ix),xx[_0x27ab("0x1b0")](_0x27ab("0x9ef"),nx),xx.addAttribute(_0x27ab("0xec8"),rx),xx[_0x27ab("0x1b0")](_0x27ab("0xece"),sx),xx[_0x27ab("0x1b0")](_0x27ab("0xecf"),ox),xx[_0x27ab("0x1b0")]("highLightColor",cx),xx[_0x27ab("0x1b0")]("isHideFlags",lx),xx.addAttribute(_0x27ab("0xa22"),new(THREE[_0x27ab("0x3fd")])(N,1));var fx=void 0;fx=G.length>0?new(THREE[_0x27ab("0x3fd")])(G,1):new THREE.BufferAttribute(new Float32Array(P.length),1),xx[_0x27ab("0x1b0")]("topTexIndex",fx);var ux=void 0;ux=Q.length>0?new THREE.BufferAttribute(Q,1):new(THREE[_0x27ab("0x3fd")])(new Float32Array(P[_0x27ab("0x0")]),1),xx.addAttribute("sideTexIndex",ux),xx.brothers=C,C[_0x27ab("0x0")]>0?xx[_0x27ab("0x127")][_0x27ab("0xec4")]=C[C[_0x27ab("0x0")]-1][_0x27ab("0x55a")][1]:xx[_0x27ab("0x127")][_0x27ab("0xec4")]=0,this.toHandle[i][e][_0x27ab("0x3e1")][g]=xx}xx[_0x27ab("0x140")](),xx[_0x27ab("0x141")](0,xx.attributes[_0x27ab("0xc3")][_0x27ab("0xc4")],0);var dx,hx=void 0;if(999==g)hx=[_[_0x27ab("0x198")].defaultMaterial];else if(o){var gx=_[_0x27ab("0x198")][_0x27ab("0xcd3")][g];gx||(gx=_[_0x27ab("0x198")][_0x27ab("0xcd3")][0]),hx=[gx[_0x27ab("0xb3")]]}else hx=_[_0x27ab("0x198")][_0x27ab("0x9bb")][g];for(var vx in h+=v[_0x27ab("0xec7")],this[_0x27ab("0xebc")][i][e][_0x27ab("0xc0")][g]?(dx=this[_0x27ab("0xebc")][i][e][_0x27ab("0xc0")][g])[_0x27ab("0xae")][_0x27ab("0x342")]=dx[_0x27ab("0xae")].brothers.concat(m):((dx=new THREE.Mesh)[_0x27ab("0xb1")]=xx,dx[_0x27ab("0xb3")]=hx,dx.name=g,dx[_0x27ab("0x1b1")].set(Math.PI/2,0,0,_0x27ab("0x1b2")),dx.datas_={bid:i,o3d_:dx,brothers:m,nodeType:esmap[_0x27ab("0xf1")].MODEL},this.toHandle[i][e][_0x27ab("0xc0")][g]=dx,dx[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x235")],null!=_[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x220")]&&1*g==999?_[_0x27ab("0x37")].options[_0x27ab("0x220")]&&(dx[_0x27ab("0xf6")]=!1,dx[_0x27ab("0xb1")].clearGroups(),dx[_0x27ab("0xb1")][_0x27ab("0x8c3")][_0x27ab("0xc4")]=0):1*g!=999||_.map[_0x27ab("0x33")][_0x27ab("0x223")]||(dx[_0x27ab("0xf6")]=!1,dx.geometry.clearGroups(),dx[_0x27ab("0xb1")][_0x27ab("0x8c3")][_0x27ab("0xc4")]=0),t[_0x27ab("0xaf")][_0x27ab("0x163")](dx),(x[_0x27ab("0xeb4")]||_[_0x27ab("0x37")].options[_0x27ab("0x223")]&&_[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xea5")])&&_.map[_0x27ab("0x155")].addObject(dx,i)),m){var px=m[vx];px[_0x27ab("0xaf")]=dx,px[_0x27ab("0x35")]&&!_[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x9f5")][px[_0x27ab("0x35")]]&&(_[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x5db")][px[_0x27ab("0x35")]]&&(_[_0x27ab("0x37")][_0x27ab("0x169")].bidList[px[_0x27ab("0x35")]][_0x27ab("0xc5")]=px[_0x27ab("0xc5")]),_[_0x27ab("0x37")][_0x27ab("0x169")].targetAndBuildingList[px[_0x27ab("0x35")]]=px)}_[_0x27ab("0x37")].tileService[_0x27ab("0x9c3")]()}this[_0x27ab("0xebe")][i]||(this._lodRecords[i]={1:0,2:0,3:0}),this[_0x27ab("0xebe")][i][l]+=1,2==this[_0x27ab("0xebe")][i][l]&&a[_0x27ab("0x16f")](),this[_0x27ab("0xed2")](a,e)}},{key:_0x27ab("0xed2"),value:function(x,a){var b,t=(b=(0,e[_0x27ab("0xb")])(_[_0x27ab("0xb")].mark((function x(){return _.default[_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x.next){case 0:s(a);case 1:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(){return b[_0x27ab("0x5")](this,arguments)}),i=this,n=i[_0x27ab("0xc1")],r=x.id;function s(x){if(n[_0x27ab("0x37")][_0x27ab("0x33")].loadModel3D){var a=i[_0x27ab("0xebc")][r][x][_0x27ab("0xebf")],b=n.map[_0x27ab("0x964")]?n[_0x27ab("0x37")].firstPersonControls[_0x27ab("0x295")]:n[_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x295")],_=n[_0x27ab("0x37")].getTileById(r);if(_){_[_0x27ab("0x161")].setFrustum();var e=[];for(n[_0x27ab("0xcd4")][_0x27ab("0x235")]+=a[_0x27ab("0x0")];a[_0x27ab("0x0")]>0;){var t=a[_0x27ab("0x4")](),s=i[_0x27ab("0xed3")](t,x,null,r);s&&(s[_0x27ab("0x1bd")]<=12?_.modelLoadManager[_0x27ab("0xbf9")](s):(s[_0x27ab("0xed4")]=s.position[_0x27ab("0x301")](b),e.push(s)))}for(e[_0x27ab("0x416")]((function(x,a){return x[_0x27ab("0xed5")]-a[_0x27ab("0xed5")]}));e[_0x27ab("0x0")]>0;){var o=e[_0x27ab("0x4")]();_[_0x27ab("0x161")][_0x27ab("0xbf9")](o)}_[_0x27ab("0x161")].mapModelLoadStatus[x]=!0}}}t().then((function(){i[_0x27ab("0x98b")][x.id]||(x.map.on(_0x27ab("0x12b"),(function(){x[_0x27ab("0x37")]&&(x[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x93a")]?(x[_0x27ab("0x37")].firstPersonControls[_0x27ab("0x581")]&&(o=setTimeout((function(){x[_0x27ab("0x161")][_0x27ab("0x308")]=!1,x[_0x27ab("0x161")][_0x27ab("0x29f")]=!1,o&&window[_0x27ab("0xacb")](o)}),100)),x[_0x27ab("0x161")].disposeInvisible(),x[_0x27ab("0x161")][_0x27ab("0xe9c")]()):x[_0x27ab("0x161")][_0x27ab("0xe9c")](x))})),i[_0x27ab("0x98b")][x.id]=!0)}))}},{key:_0x27ab("0xed3"),value:function(x,a,b,_){var e,t=this[_0x27ab("0xc1")],i=t[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")],n=(t.map[_0x27ab("0x33")][_0x27ab("0x96")],t[_0x27ab("0x37")].id),s=t[_0x27ab("0x37")][_0x27ab("0x322")](_),o=x.model.replace(_0x27ab("0x77"),""),c=t.map[_0x27ab("0x33")][_0x27ab("0x228")]==_0x27ab("0x542")&&!t[_0x27ab("0x37")].options[_0x27ab("0x223")];x.mapId&&t[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0x5db")][x.mapId]&&(t.map[_0x27ab("0x169")].bidList[x.mapId][_0x27ab("0xc5")]=x[_0x27ab("0xc5")]);var l=r[_0x27ab("0xb")][_0x27ab("0x5f")](_0x27ab("0x57"),{filename:o,modeltoken:t[_0x27ab("0x37")][_0x27ab("0xa2")]});b?e=b:e=this[_0x27ab("0xebc")][_][a]?this[_0x27ab("0xebc")][_][a][_0x27ab("0xed6")][_0x27ab("0xaf")]:t[_0x27ab("0x626")][a][_0x27ab("0xae")][_0x27ab("0x1a3")](esmap[_0x27ab("0x17d")].MODEL3D)[0][_0x27ab("0xaf")];if(1*x.top==3){var f=x[_0x27ab("0xed7")][_0x27ab("0xec")][0][_0x27ab("0x37")]((function(x){return x.x*=-1,x})),u=x[_0x27ab("0x143")][_0x27ab("0x28")](",")[1],d=new(esmap[_0x27ab("0xed8")])({type:_0x27ab("0x47"),useCrst:!1,merge:!0,bid:_,model:x.model,fnum:a,bclick:!!i,points:f,gid:x[_0x27ab("0xc21")]||0,callback:function(){s.toLoaded[a][_0x27ab("0x249")]--},repeatset:1,thickset:1,heightset:1,name:x[_0x27ab("0xc5")],id:x.id,height:1*u,showLevel:x[_0x27ab("0x1bd")]});return d[_0x27ab("0xeb")]=n,d[_0x27ab("0x18d")]=_,t[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x176")]--,null}if(c&&x[_0x27ab("0x235")].indexOf("__singlemesh")>=0){var h=s.modelLoadManager;return h[_0x27ab("0x2ba")][x[_0x27ab("0x235")]]||h[_0x27ab("0x320")][x.model]||(h[_0x27ab("0x320")][x[_0x27ab("0x235")]]=!0,s.modelLoadManager.preFetchModel3D(x[_0x27ab("0x235")],l)),!1}var g=new(THREE[_0x27ab("0xe7")])(1,1.5,1);if(x[_0x27ab("0x24b")]){var v=x[_0x27ab("0x24b")].split(",");g=new(THREE[_0x27ab("0xe7")])(parseFloat(v[0]),parseFloat(v[1]),parseFloat(v[2]))}var p=0;if(x[_0x27ab("0xc52")]){var A=Math.PI/180,m=x[_0x27ab("0xc52")][_0x27ab("0x28")](",");p=1*m[1];var C=new(THREE[_0x27ab("0x27a")])(parseFloat(m[0])*A,parseFloat(m[1])*A,parseFloat(m[2])*A)}var I=void 0;I=t[_0x27ab("0x37")][_0x27ab("0x193")]({x:x.x,y:x.y});var y=t.map[_0x27ab("0x199")]({from:_0x27ab("0x645"),to:_0x27ab("0x1d9"),coord:{x:x.x,y:x.y}}),E={x:y.x,y:y.y,offsetHeight:0};if(x[_0x27ab("0x143")]){var w=x.offset.split(",");I.x+=parseFloat(w[0]),I.y+=parseFloat(w[1]),I.z+=parseFloat(w[2]),E.x+=parseFloat(w[0]),E.y+=parseFloat(w[2]),E[_0x27ab("0x25")]=parseFloat(w[1])}x[_0x27ab("0x235")][_0x27ab("0xd1")](_0x27ab("0x77"))<0&&(x.model+=_0x27ab("0x77")),t[_0x27ab("0x96b")][_0x27ab("0x1")]({scale:g.x,angle:p,x:E.x,y:E.y,id:x.id,name:x.name,dataID:x[_0x27ab("0x637")],offsetHeight:E[_0x27ab("0x25")]});var T={bid:n,tileId:_,name:x[_0x27ab("0xc5")],model:x[_0x27ab("0x235")],url:l,dataID:x[_0x27ab("0x637")],angle:p,classID:x[_0x27ab("0xed7")][_0x27ab("0x633")],scale:g,top:x[_0x27ab("0x184")],mapId:x.mapId||null,gid:x[_0x27ab("0xc21")]||0,typeID:x.roomdata[_0x27ab("0x621")]||0,rotation:C,position:I,showLevel:x[_0x27ab("0x1bd")],data_:{CenX:x.x,CenY:x.y,scale:x.scale||null,rotate:x[_0x27ab("0xc52")]||null,offset:x[_0x27ab("0x143")]||null},parent:e,id:x.id,bclick:x[_0x27ab("0xa84")],callbackparams:x.callbackparams||null,callback:function(){s.toLoaded&&s[_0x27ab("0xc09")][a][_0x27ab("0x249")]--},fnum:a};return i&&(T[_0x27ab("0xed7")]=x[_0x27ab("0xed7")]),T}},{key:"drawOutline",value:function(x,a,b){var _,e=this,t=(x.id,b.id);this[_0x27ab("0x985")][t]?_=this.modelLineLayers[t]:((_=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0xed9")],{}))[_0x27ab("0xc5")]="modelLines",b[_0x27ab("0x15e")].addLayer(_),this[_0x27ab("0x985")][t]=_);var i=x[_0x27ab("0x630")];if(a){var n=new(THREE[_0x27ab("0x1ad")]);n.addAttribute(_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0xec")],3));var r=[],s=0;for(var o in i){var c=i[o][_0x27ab("0xec1")],l={precision:_0x27ab("0xb2c"),color:esmap[_0x27ab("0x80")][_0x27ab("0x2e0")](c.bordercolor),linewidth:1*c.borderwidth>5?5:1*c[_0x27ab("0xde6")]},f=new(THREE[_0x27ab("0x1a6")])(l);f[_0x27ab("0xc5")]=o,r.push(f),n[_0x27ab("0x141")](s,i[o][_0x27ab("0xec7")],r[_0x27ab("0x0")]-1),i[o][_0x27ab("0xeda")]=s,s+=i[o][_0x27ab("0xec7")]}var u=new(THREE[_0x27ab("0x867")])(n,r);u[_0x27ab("0xb0f")]=!1,u.datas_={nodeType:esmap.ESNodeType[_0x27ab("0x1ba")],id:1},u.rotation.set(Math.PI/2,0,0,_0x27ab("0x1b2")),u[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x135")],u[_0x27ab("0x127")][_0x27ab("0xedb")]=i;return _[_0x27ab("0xaf")][_0x27ab("0x163")](u),u}for(var d in i){var h=new(THREE[_0x27ab("0x1ad")]),g=0,v=x[_0x27ab("0xec")][_0x27ab("0x55d")](3*g,3*(g+i[d].groupIndex));h[_0x27ab("0x1b0")]("position",new(THREE[_0x27ab("0x3fd")])(v,3));var p=i[d][_0x27ab("0xec1")],A=[],m={precision:_0x27ab("0xb2c"),color:p[_0x27ab("0xe0f")],linewidth:p.strokewidth>5?5:p[_0x27ab("0xde4")]},C=new THREE.LineBasicMaterial(m);A[_0x27ab("0x1")](C),h.addGroup(g,i[d][_0x27ab("0xec7")],A[_0x27ab("0x0")]-1),g+=i[d].groupIndex;var I=new THREE.LineSegments(h,A);I[_0x27ab("0xb0f")]=!1,I[_0x27ab("0xae")]={nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0x1ba")],id:1*i[d].id,bid:building.id,bType:2},I[_0x27ab("0x1b1")].set(Math.PI/2,0,0,_0x27ab("0x1b2")),I[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x135")],null!=e[_0x27ab("0xc1")][_0x27ab("0x37")].options.hideRoomLogoMeshes?e.scene[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x220")]&&(C.visible=!1,h.clearGroups(),h[_0x27ab("0x8c3")].count=0):1*d!=999||e[_0x27ab("0xc1")].map[_0x27ab("0x33")].editMode||(C.visible=!1,h[_0x27ab("0x140")](),h[_0x27ab("0x8c3")][_0x27ab("0xc4")]=0);var y=e[_0x27ab("0xc1")][_0x27ab("0x37")].mapTheme.modelLines;null!=e.scene[_0x27ab("0x37")][_0x27ab("0x33")].modelLines&&(y=e.scene[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xdf3")]),y&&_[_0x27ab("0xaf")][_0x27ab("0x163")](I)}return I}}]),x}();a[_0x27ab("0xb")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=i(b(0)),e=i(b(1)),t=b(11);function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var n=function(){function x(){(0,_[_0x27ab("0xb")])(this,x)}return(0,e[_0x27ab("0xb")])(x,null,[{key:_0x27ab("0xa8"),value:function(x){if(null!==x){x[_0x27ab("0xae")]&&x.datas_[_0x27ab("0xaf")]&&(x[_0x27ab("0xae")].brothers&&(x[_0x27ab("0xae")][_0x27ab("0x342")].forEach((function(x){x.o3d_&&(x[_0x27ab("0xaf")]=void 0)})),x.datas_[_0x27ab("0x342")]=void 0),x[_0x27ab("0xae")].o3d_=void 0,x.datas_=void 0);for(var a=0;a<x[_0x27ab("0xb0")][_0x27ab("0x0")];a++)this[_0x27ab("0xa8")](x[_0x27ab("0xb0")][a]);x.geometry&&x[_0x27ab("0xb1")].dispose(),x.material&&(x[_0x27ab("0xb3")]instanceof Array?x[_0x27ab("0xb3")][_0x27ab("0x1b")]((function(x){x[_0x27ab("0x37")]&&(x[_0x27ab("0x37")][_0x27ab("0xb2")](),x[_0x27ab("0x37")]=void 0),x[_0x27ab("0xb2")]()})):(x[_0x27ab("0xb3")][_0x27ab("0x37")]&&(x[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0xb2")](),x.material.map=void 0),x.material[_0x27ab("0xb2")]()))}x[_0x27ab("0xb2")]&&x[_0x27ab("0xb2")](),x=void 0}},{key:_0x27ab("0xd52"),value:function(x){var a=Number[_0x27ab("0xedc")],b=Number[_0x27ab("0xedd")],_=x.floors;for(var e in _){var t=_[e][_0x27ab("0x4a3")];a=Math[_0x27ab("0x340")](a,t),b=Math[_0x27ab("0x33f")](b,t)}return new(THREE[_0x27ab("0x3e2")])(new(THREE[_0x27ab("0xe7")])(x[_0x27ab("0x446")],a,x.minY),new(THREE[_0x27ab("0xe7")])(x.maxX,b,x[_0x27ab("0x449")]))}},{key:"calcInitCamera",value:function(x){var a=x[_0x27ab("0xed")](),b=x.size();return{target:new THREE.Vector3(0,a.y,0),position:new(THREE[_0x27ab("0xe7")])(1*b.x,a.y+.75*b.x,1*-b.x)}}},{key:_0x27ab("0x5fc"),value:function(x,a,b,_){if(x[_0x27ab("0x0")]>=3){var e=Math.PI/20,t=Math.PI-e,i=b||1,n=null==a?8:a;if(0==n)return x;var r=1/n;x.push(x[x[_0x27ab("0x0")]-1]);for(var s=[],o=0;o<x[_0x27ab("0x0")]-2;){var c=x[o][_0x27ab("0xe2")](),l=x[o+1][_0x27ab("0xe2")](),f=x[o+2][_0x27ab("0xe2")](),u=c.clone()[_0x27ab("0x2f3")](l),d=f[_0x27ab("0xe2")]().sub(l),h=u[_0x27ab("0x265")](d),g=u[_0x27ab("0x0")](),v=d[_0x27ab("0x0")]();c.fnum=x[o][_0x27ab("0xee")],l.fnum=x[o+1][_0x27ab("0xee")],f[_0x27ab("0xee")]=x[o+2].fnum,c[_0x27ab("0xeb")]=x[o][_0x27ab("0xeb")],l[_0x27ab("0xeb")]=x[o+1][_0x27ab("0xeb")],f[_0x27ab("0xeb")]=x[o+2].bid;var p=l.y==f.y&&f.y==c.y,A=!_||p;if(s.push(c),h>e&&h<t&&g>i&&v>i&&A){var m=l.clone()[_0x27ab("0xede")](c,i/g),C=l.clone()[_0x27ab("0xede")](f,i/v);m[_0x27ab("0xee")]=l[_0x27ab("0xee")],m[_0x27ab("0xeb")]=l[_0x27ab("0xeb")],s[_0x27ab("0x1")](m);for(var I=r;I<.999999;I+=r){var y=I,E=m[_0x27ab("0xe2")]()[_0x27ab("0xede")](l,y),w=l[_0x27ab("0xe2")]()[_0x27ab("0xede")](C,y),T=E[_0x27ab("0xede")](w,y);T.fnum=m[_0x27ab("0xee")],T[_0x27ab("0xeb")]=m[_0x27ab("0xeb")],s[_0x27ab("0x1")](T)}x[o+1]=C,C[_0x27ab("0xee")]=f[_0x27ab("0xee")],C[_0x27ab("0xeb")]=f[_0x27ab("0xeb")],o++}else o++;o==x[_0x27ab("0x0")]-2&&s[_0x27ab("0x1")](f)}return s}return x}},{key:_0x27ab("0x26a"),value:function(x,a){var b=x,_=(0,t[_0x27ab("0x11")])(a,_0x27ab("0x1cb"),_0x27ab("0x1ca"),1),e=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],i=-e[_0x27ab("0x15d")].sceneX_,n=e[_0x27ab("0x15d")].sceneZ_;b[_0x27ab("0x1c5")]=!0,b[_0x27ab("0x26b")]&&b[_0x27ab("0x26b")][_0x27ab("0x1c4")](),b._moveToID=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(x[_0x27ab("0xaf")][_0x27ab("0xc3")]).to({x:i-a.x,z:a.y-n},1e3*_).easing(esmap.TWEEN.Easing[_0x27ab("0x281")].None).onUpdate((function(){a[_0x27ab("0x12b")]&&a[_0x27ab("0x12b")]({x:b.x,y:b.y})}))[_0x27ab("0x1d2")]((function(){x[_0x27ab("0x1c5")]=!1,a.callback&&a[_0x27ab("0x1d6")]()}))[_0x27ab("0x1d5")]()}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=r(b(4)),e=r(b(0)),t=r(b(1)),i=r(b(5)),n=r(b(6));function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=function(x){function a(x,b){(0,e[_0x27ab("0xb")])(this,a);var t=(0,i[_0x27ab("0xb")])(this,(a.__proto__||(0,_[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,x));return t[_0x27ab("0x198")]=b,t[_0x27ab("0xedf")]=!1,t[_0x27ab("0xee0")]=!1,t.defaultMaterial_=null,t.selectedMaterial_=null,t}return(0,n.default)(a,x),(0,t.default)(a,[{key:_0x27ab("0xee1"),value:function(){this[_0x27ab("0xb3")][_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(this[_0x27ab("0x198")].color_)}},{key:_0x27ab("0xee2"),value:function(x){var a=null==x?this[_0x27ab("0x198")].selectedColor_:x;this[_0x27ab("0xb3")].color=new(THREE[_0x27ab("0x108")])(a)}},{key:_0x27ab("0x3f1"),set:function(x){x=new(THREE[_0x27ab("0x108")])(x),this[_0x27ab("0xee2")](x)},get:function(){return this[_0x27ab("0xee3")]?this[_0x27ab("0xee3")][_0x27ab("0x107")]:this[_0x27ab("0x198")][_0x27ab("0xdbe")]}}]),a}(THREE[_0x27ab("0x159")]);a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(a,b,e){(0,_.default)(this,x),this.x=a,this.y=b,this.z=e}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0xee4"),value:function(x){this.x=x.x,this.y=x.y}}]),x}();a.default=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x.__esModule?x:{default:x}}var i=function(){function x(a,b){(0,_[_0x27ab("0xb")])(this,x),this.mapPicker_=a,this[_0x27ab("0xb1b")]=b,this[_0x27ab("0xee5")]=!0,this[_0x27ab("0xee6")]=!0,this.enableMapIncline_=!0,this[_0x27ab("0xee7")]=!0,this[_0x27ab("0xee8")]=!0,this[_0x27ab("0xee9")]=!0}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x293"),get:function(){return this.enableMapPan_},set:function(x){x!=this[_0x27ab("0xee5")]&&(this[_0x27ab("0xee5")]=x,this[_0x27ab("0xb1b")][_0x27ab("0xbba")]=x)}},{key:_0x27ab("0xeea"),get:function(){return this.enableMapRotate_},set:function(x){x!=this[_0x27ab("0xee6")]&&(this[_0x27ab("0xee6")]=x,this.controls_[_0x27ab("0xeeb")]=x,this[_0x27ab("0xb1b")].enableRotate=x)}},{key:"enableCompassTap",get:function(){return this[_0x27ab("0xee9")]},set:function(x){x!=this[_0x27ab("0xee9")]&&(this[_0x27ab("0xee9")]=x)}},{key:_0x27ab("0xeec"),get:function(){return this[_0x27ab("0xeed")]},set:function(x){x!=this.enableMapIncline_&&(this[_0x27ab("0xeed")]=x,this.controls_[_0x27ab("0xbd6")]=x)}},{key:_0x27ab("0xeee"),get:function(){return this.enableMapPinch_},set:function(x){x!=this[_0x27ab("0xee7")]&&(this[_0x27ab("0xee7")]=x,this[_0x27ab("0xb1b")][_0x27ab("0xbb7")]=x)}},{key:_0x27ab("0xeef"),get:function(){return this.enableMapSingleTap_},set:function(x){x!=this[_0x27ab("0xee8")]&&(this[_0x27ab("0xee8")]=x,this[_0x27ab("0xef0")][_0x27ab("0x581")]=x)}}]),x}();a[_0x27ab("0xb")]=i},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=n(b(4)),e=n(b(0)),t=n(b(5)),i=n(b(6));function n(x){return x&&x.__esModule?x:{default:x}}var r=function(x){function a(x){(0,e[_0x27ab("0xb")])(this,a);var b=(x=x||{}).data,i=(0,t[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,esmap.ESNodeType[_0x27ab("0xe12")],b,x[_0x27ab("0xef1")]||new THREE.Object3D,x.scene||esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x15d")]));return i.params=x,b&&null!=b[_0x27ab("0x5e2")]&&(i.typeID=x[_0x27ab("0x366")][_0x27ab("0x5e2")]),i[_0x27ab("0x60a")]=x[_0x27ab("0x70")]||esmap.ESElement[_0x27ab("0xa96")],i}return(0,i[_0x27ab("0xb")])(a,x),a}(esmap[_0x27ab("0xef2")]);a[_0x27ab("0xb")]=r},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=r(b(4)),e=r(b(0)),t=r(b(1)),i=r(b(5)),n=r(b(6));function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=function(x){function a(x,b,t,n){var r;return(0,e[_0x27ab("0xb")])(this,a),r=(0,i[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_.default)(a))[_0x27ab("0x3")](this,esmap.ESNodeType[_0x27ab("0x63a")],x,b,t)),r[_0x27ab("0x286")]=function(x){return this.o3d_[_0x27ab("0x286")](x)},r.jump=function(x){return this[_0x27ab("0xaf")][_0x27ab("0x283")](x)},r[_0x27ab("0x285")]=function(x){this[_0x27ab("0xaf")][_0x27ab("0x285")](x)},r[_0x27ab("0xaf")][_0x27ab("0xef3")]=r[_0x27ab("0xaf")].visible,r[_0x27ab("0xeb")]=n,r}return(0,n.default)(a,x),(0,t[_0x27ab("0xb")])(a,[{key:"ID",get:function(){return this[_0x27ab("0x18e")][_0x27ab("0x61e")]}},{key:"id",get:function(){return this.data_[_0x27ab("0x61e")]}},{key:_0x27ab("0xc5"),get:function(){return this[_0x27ab("0x18e")][_0x27ab("0xc5")]}},{key:_0x27ab("0x5e2"),get:function(){return this[_0x27ab("0x18e")].Typeid}},{key:"x",get:function(){return this[_0x27ab("0x3d5")].x},set:function(x){}},{key:"y",get:function(){return this[_0x27ab("0x3d5")].y},set:function(x){}},{key:"z",get:function(){return this[_0x27ab("0xef4")].z},set:function(x){}},{key:_0x27ab("0x3d5"),get:function(){if(!this.coord_){var x=this[_0x27ab("0x18e")];this[_0x27ab("0xef4")]=new(esmap[_0x27ab("0x5c6")])(x.X,x.Y,this.o3d_[_0x27ab("0xc7")][_0x27ab("0xef5")](new(THREE[_0x27ab("0xe7")])(0,6,0)).y)}return this[_0x27ab("0xef4")]}},{key:_0x27ab("0xf6"),get:function(){return this.o3d_[_0x27ab("0xef3")]},set:function(x){this[_0x27ab("0xaf")][_0x27ab("0xef3")]=x,this[_0x27ab("0xaf")][_0x27ab("0xf6")]=x}}]),a}(esmap[_0x27ab("0xef2")]);a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=o(b(2)),e=o(b(4)),t=o(b(0)),i=o(b(1)),n=o(b(5)),r=o(b(6)),s=b(11);function o(x){return x&&x.__esModule?x:{default:x}}var c=function(x){function a(x){var b;return(0,t[_0x27ab("0xb")])(this,a),b=(0,n[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,e[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,esmap.ESNodeType[_0x27ab("0xa99")],{},new(THREE[_0x27ab("0x15b")]))),b[_0x27ab("0xe22")]=function(x,a){this.o3d_[_0x27ab("0xe22")](x,a)},b[_0x27ab("0xe5f")]=function(x){this[_0x27ab("0xaf")].fade(x)},b[_0x27ab("0x45b")]=function(x){var a=(0,_[_0x27ab("0xb")])({time:2,height:5},x);this[_0x27ab("0xaf")][_0x27ab("0x45b")](a)},b[_0x27ab("0xe75")]=function(){this[_0x27ab("0xaf")][_0x27ab("0xe75")]()},b[_0x27ab("0xaf")][_0x27ab("0xef3")]=b[_0x27ab("0xaf")][_0x27ab("0xf6")],b[_0x27ab("0xe5d")]="imageMarker",b[_0x27ab("0x3d3")]=x||{},b[_0x27ab("0xef6")](),b}return(0,r[_0x27ab("0xb")])(a,x),(0,i[_0x27ab("0xb")])(a,[{key:_0x27ab("0xef6"),value:function(){if(!(!this[_0x27ab("0xaf")]instanceof THREE[_0x27ab("0x15b")])){var x=esmap[_0x27ab("0x32")].instance,a=x[_0x27ab("0x15d")],b=-a[_0x27ab("0x1ab")],_=a.sceneZ_;this.x_=(0,s[_0x27ab("0x10")])(this.opts_,"x",b),this.y_=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],"y",_),this[_0x27ab("0x3d3")][_0x27ab("0x1b9")]=(0,s.getValue)(this[_0x27ab("0x3d3")],_0x27ab("0x1b9"),_0x27ab("0xef7")),this.opts_[_0x27ab("0x26c")]=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],_0x27ab("0x26c"),null),this[_0x27ab("0xef8")]=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],_0x27ab("0xc5"),null),this[_0x27ab("0xef9")]=(0,s.getValue)(this[_0x27ab("0x3d3")],"id",1),this.size_=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],_0x27ab("0xaf9"),32),this[_0x27ab("0xefa")]=(0,s.getValue)(this.opts_,"up",!0),this[_0x27ab("0xeb")]=(0,s.getValue)(this[_0x27ab("0x3d3")],_0x27ab("0xeb"),0),this.canvasSize_=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],_0x27ab("0xe7c"),1),this[_0x27ab("0xe2e")]=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],"spritify",!0);var e=x[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]?18:12;this.showLevel_=(0,s[_0x27ab("0x10")])(this.opts_,_0x27ab("0x244"),e),this[_0x27ab("0xe7e")]=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],"clip",null),this.seeThrough_=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],"seeThrough",!1),this[_0x27ab("0xefb")]=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],"glow",!1),this[_0x27ab("0xefc")]=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],_0x27ab("0xe7a"),_0x27ab("0xefd"));var t=x._insureUserCoordInbounds({x:this.x_,y:this.y_});this.x_=t.x,this.y_=t.y,this.center_=(0,s[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],_0x27ab("0xed"),null);var i=this,n=this.o3d_.forceVisible_;if(0==this[_0x27ab("0x3d3")][_0x27ab("0x26c")]||this[_0x27ab("0x3d3")][_0x27ab("0x26c")]){var r;r=null!=i[_0x27ab("0x3d3")][_0x27ab("0x1b7")]?i[_0x27ab("0x3d3")].height:null!=i[_0x27ab("0x3d3")].z?i.opts_.z:3,this[_0x27ab("0xaf")]=new(esmap[_0x27ab("0xefe")])(this[_0x27ab("0xef9")],{vertex:[this.x_,this.y_],name:this[_0x27ab("0xef8")],size_:this[_0x27ab("0xe7d")],canvasSize:this.canvasSize_,alwaysShow:!1,ShowLevel:this[_0x27ab("0xe2b")]},this.opts_[_0x27ab("0x1b9")],(function(a){setTimeout((function(){i.visible=n;var a=x[_0x27ab("0x193")]({x:i.x_,y:i.y_});i[_0x27ab("0xaf")][_0x27ab("0xc3")][_0x27ab("0x123")](a.x,r,a.z),i.o3d_[_0x27ab("0x1b1")][_0x27ab("0x123")](0,0,0,"XYZ"),i[_0x27ab("0xefa")]?i[_0x27ab("0xaf")][_0x27ab("0x1b1")].y=THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](i[_0x27ab("0x3d3")][_0x27ab("0x26c")]):(i[_0x27ab("0xaf")][_0x27ab("0x1b1")][_0x27ab("0x123")](-Math.PI/2,0,Math.PI,"XYZ"),i[_0x27ab("0xaf")][_0x27ab("0x1b1")].z=THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](i[_0x27ab("0x3d3")][_0x27ab("0x26c")])),i.o3d_[_0x27ab("0xb3")]&&(i[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x11b")]=THREE[_0x27ab("0x11c")]),i[_0x27ab("0xa7b")]&&i[_0x27ab("0xaf")].material&&(i.o3d_[_0x27ab("0x133")]=77,i.o3d_.material[_0x27ab("0x12f")]=!1),i[_0x27ab("0xaf")][_0x27ab("0xe29")]=this[_0x27ab("0xe2e")],i[_0x27ab("0x3d3")][_0x27ab("0x1d6")]&&i.opts_[_0x27ab("0x1d6")](i)}),0),i[_0x27ab("0xaf")][_0x27ab("0x19a")]=r})),this[_0x27ab("0xaf")].up[_0x27ab("0x28c")](-1)}else{var o;o=null!=i[_0x27ab("0x3d3")][_0x27ab("0x1b7")]?i[_0x27ab("0x3d3")][_0x27ab("0x1b7")]:null!=i.opts_.z?i[_0x27ab("0x3d3")].z:6,this[_0x27ab("0xaf")]=new esmap.ESMapPoi2({id:this[_0x27ab("0xef9")],vertex:[this.x_,this.y_],name:this[_0x27ab("0xef8")],size_:this[_0x27ab("0xe7d")],glow:this[_0x27ab("0xefb")],glowColor:this[_0x27ab("0xefc")],clip_:this.clip_,ShowLevel:this.showLevel_,canvasSize:this[_0x27ab("0xeff")]},this.opts_[_0x27ab("0x1b9")],(function(a,b){if(i.o3d_){i[_0x27ab("0xf6")]=n,b[_0x27ab("0x133")]=90;var _=x._coordMapSceneToThree({x:i.x_,y:i.y_});if(b[_0x27ab("0xc3")][_0x27ab("0x123")](_.x,o,_.z),b[_0x27ab("0xc7")]&&b[_0x27ab("0xc7")][_0x27ab("0xae")].viewRadius)if(x[_0x27ab("0x168")]>=b[_0x27ab("0xc7")][_0x27ab("0xae")][_0x27ab("0xf00")])x[_0x27ab("0x296")].target[_0x27ab("0x301")](b[_0x27ab("0xc3")])>b[_0x27ab("0xc7")][_0x27ab("0xae")][_0x27ab("0xf01")]&&(i[_0x27ab("0xaf")].forceVisible_=!1,i[_0x27ab("0xf6")]=!1);i[_0x27ab("0xa7b")]&&i[_0x27ab("0xaf")][_0x27ab("0xb3")]&&(i.o3d_[_0x27ab("0x133")]=78,i[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x12f")]=!1),i[_0x27ab("0x3d3")].callback&&i.opts_[_0x27ab("0x1d6")](i),x[_0x27ab("0x9ca")](!0),i.opts_[_0x27ab("0xed")]&&b[_0x27ab("0xed")][_0x27ab("0x123")](i[_0x27ab("0x3d3")][_0x27ab("0xed")].x,i[_0x27ab("0x3d3")].center.y),b[_0x27ab("0xb3")][_0x27ab("0x146")]=!0}})),this[_0x27ab("0xaf")][_0x27ab("0x19a")]=o}this[_0x27ab("0xaf")][_0x27ab("0xef3")]=!1,this[_0x27ab("0xaf")].visible=!1,this[_0x27ab("0xaf")][_0x27ab("0xae")]=this}}},{key:_0x27ab("0x28d"),value:function(x){var a=this;"number"==typeof x&&(x={to:x});var b,_=(0,s[_0x27ab("0x11")])(x,"time",_0x27ab("0x1ca"),.3),e=a.angle,t=esmap[_0x27ab("0x80")][_0x27ab("0x5eb")](e,x.to);return a[_0x27ab("0xaee")]&&a[_0x27ab("0xaee")][_0x27ab("0x1c4")](),a[_0x27ab("0xaee")]=esmap[_0x27ab("0x1cc")].fadeTo(_,(function(x){(b=e+t*x[_0x27ab("0xf8")])<=0?b=360+b:b>=360&&(b-=360),a[_0x27ab("0x26c")]=b}),null,(function(){x[_0x27ab("0x1d6")]&&x[_0x27ab("0x1d6")]()})),a._rotateToID}},{key:_0x27ab("0x26a"),value:function(x){this[_0x27ab("0xaf")][_0x27ab("0x26a")](x)}},{key:_0x27ab("0x286"),value:function(x){return this.o3d_[_0x27ab("0x286")](x)}},{key:_0x27ab("0x283"),value:function(x){return this[_0x27ab("0xaf")].jump(x)}},{key:"stopJump",value:function(){this[_0x27ab("0xaf")][_0x27ab("0x285")]()}},{key:"stopFlash",value:function(){this[_0x27ab("0xaf")][_0x27ab("0x287")]()}},{key:_0x27ab("0x3d7"),value:function(x){this[_0x27ab("0xaf")][_0x27ab("0x3d7")](x)}},{key:_0x27ab("0xf02"),value:function(x){this.oc||(this.oc=this[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x107")]);var a=new(THREE[_0x27ab("0x108")])(x);this[_0x27ab("0xaf")][_0x27ab("0xb3")].color=a}},{key:_0x27ab("0x2a8"),value:function(x){this[_0x27ab("0xaf")][_0x27ab("0xe79")](!0,x)}},{key:_0x27ab("0x2a6"),value:function(){this[_0x27ab("0xaf")][_0x27ab("0xe79")](!1)}},{key:_0x27ab("0x9f0"),value:function(){this.o3d_[_0x27ab("0xb3")][_0x27ab("0x107")]=this.oc}},{key:"setSize",value:function(x){var a=this,b=a[_0x27ab("0xaf")].width_,_=a.o3d_[_0x27ab("0xe1d")],e=.3;x instanceof Object?(b=x[_0x27ab("0x326")],_=x[_0x27ab("0x1b7")],e=x[_0x27ab("0xc")](_0x27ab("0x1cb"))?x[_0x27ab("0x1cb")]:e):(b=x,_=x),a[_0x27ab("0xf03")]&&a[_0x27ab("0xf03")].stop();var t=new(esmap[_0x27ab("0x1cc")].Tween)(a.o3d_).to({width_:b,height_:_},1e3*e)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d1")]).onComplete((function(){}))[_0x27ab("0x1d5")]();a.setSizeAnimId=t}},{key:_0x27ab("0x237"),get:function(){return this[_0x27ab("0xaf")][_0x27ab("0x237")]}},{key:_0x27ab("0xe78"),get:function(){return this.o3d_[_0x27ab("0xe78")]}},{key:_0x27ab("0x1b9"),get:function(){return this[_0x27ab("0x3d3")][_0x27ab("0x1b9")]},set:function(x){this.opts_[_0x27ab("0x1b9")]=x,this[_0x27ab("0xaf")][_0x27ab("0xe83")](x)}},{key:_0x27ab("0xf6"),get:function(){return this.forceVisible_},set:function(x){this[_0x27ab("0xaf")]&&(this.o3d_[_0x27ab("0xef3")]=x,this[_0x27ab("0xaf")][_0x27ab("0xf6")]=x)}},{key:"ID",get:function(){return this.id_}},{key:_0x27ab("0xc5"),get:function(){return this[_0x27ab("0xef8")]},set:function(x){this[_0x27ab("0xef8")]=x}},{key:"x",get:function(){return this.x_},set:function(x){this.x_=x}},{key:"y",get:function(){return this.y_},set:function(x){this.y_=x}},{key:"angle",get:function(){return this[_0x27ab("0xaf")][_0x27ab("0x1b1")].y*THREE.Math[_0x27ab("0x2f5")]},set:function(x){this[_0x27ab("0xefa")]?this[_0x27ab("0xaf")].rotation.y=x*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")]:this[_0x27ab("0xaf")][_0x27ab("0x1b1")].z=x*THREE.Math[_0x27ab("0x61a")]}}]),a}(esmap.ESNode);c.prototype[_0x27ab("0xef3")]={get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xef3")]},set:function(x){this[_0x27ab("0xaf")][_0x27ab("0xef3")]=x}},a[_0x27ab("0xb")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=r(b(4)),e=r(b(0)),t=r(b(1)),i=r(b(5)),n=r(b(6));function r(x){return x&&x.__esModule?x:{default:x}}var s=function(x){function a(x,b,t){var n;return(0,e[_0x27ab("0xb")])(this,a),(n=(0,i[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_.default)(a))[_0x27ab("0x3")](this,esmap[_0x27ab("0xf1")][_0x27ab("0xa8c")],x,b,t)))[_0x27ab("0xaf")][_0x27ab("0xef3")]=n[_0x27ab("0xaf")].visible,n[_0x27ab("0xeb")]=t.id,n}return(0,n.default)(a,x),(0,t[_0x27ab("0xb")])(a,[{key:"ID",get:function(){return this.data_[_0x27ab("0x61e")]}},{key:"name",get:function(){return this[_0x27ab("0x18e")][_0x27ab("0xc5")]}},{key:"x",get:function(){return this[_0x27ab("0xef4")].x},set:function(x){}},{key:"y",get:function(){return this[_0x27ab("0xef4")].y},set:function(x){}},{key:"z",get:function(){return this[_0x27ab("0xef4")].z},set:function(x){}},{key:"mapCoord",get:function(){if(!this[_0x27ab("0xef4")]){var x=this[_0x27ab("0x18e")];this[_0x27ab("0xef4")]=new(esmap[_0x27ab("0x5c6")])(x.X,x.Y,x[_0x27ab("0x49b")])}return this.coord_}},{key:"visible",get:function(){return this[_0x27ab("0xef3")]},set:function(x){this.o3d_.forceVisible_=x,this[_0x27ab("0xaf")][_0x27ab("0xf6")]=x}}]),a}(esmap[_0x27ab("0xef2")]);a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=c(b(54)),e=c(b(2)),t=c(b(4)),i=c(b(0)),n=c(b(1)),r=c(b(5)),s=c(b(6)),o=b(11);function c(x){return x&&x.__esModule?x:{default:x}}var l=function(x){function a(x){var b;return(0,i[_0x27ab("0xb")])(this,a),b=(0,r.default)(this,(a[_0x27ab("0x1db")]||(0,t[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,esmap.ESNodeType.LOCATION_MARKER,{},new(THREE[_0x27ab("0x15b")]))),b[_0x27ab("0x13b")]=esmap[_0x27ab("0x9d1")].prototype[_0x27ab("0x13b")],b[_0x27ab("0xe22")]=esmap.ESMapLabel.prototype[_0x27ab("0xe22")],b[_0x27ab("0xaf")].forceVisible_=b[_0x27ab("0xaf")][_0x27ab("0xf6")],b[_0x27ab("0x3d3")]=x,b[_0x27ab("0xee")]=1,b[_0x27ab("0xef6")](),b}return(0,s[_0x27ab("0xb")])(a,x),(0,n[_0x27ab("0xb")])(a,[{key:"createMarker_",value:function(x){if(this[_0x27ab("0xaf")]instanceof THREE[_0x27ab("0x15b")]){var a=this[_0x27ab("0x3d3")][_0x27ab("0x37")]||esmap[_0x27ab("0x32")].instance;this.x_=(0,o[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],"x",a[_0x27ab("0xed")].x),this.y_=(0,o[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],"y",a[_0x27ab("0xed")].y),this[_0x27ab("0xf04")]=(0,o[_0x27ab("0x10")])(this.opts_,_0x27ab("0x1b9"),_0x27ab("0xef7")),this[_0x27ab("0xef8")]=(0,o[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],_0x27ab("0xc5"),null),this.id_=(0,o.getValue)(this[_0x27ab("0x3d3")],"id",1),this[_0x27ab("0xe7d")]=(0,o.getValue)(this[_0x27ab("0x3d3")],_0x27ab("0xaf9"),128),this[_0x27ab("0xe2e")]=(0,o[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],_0x27ab("0xe69"),!0),this.fixedAngle_=(0,o[_0x27ab("0x10")])(this[_0x27ab("0x3d3")],"fixedAngle",!1),this[_0x27ab("0xf05")]=(0,o.getValue)(this.opts_,"arrow",!1),this[_0x27ab("0xf06")]=(0,o[_0x27ab("0x10")])(this.opts_,"arrowSize",this[_0x27ab("0xe7d")]/2),this[_0x27ab("0xf07")]=(0,o.getValue)(this[_0x27ab("0x3d3")],_0x27ab("0xf08"),_0x27ab("0xf09")),this.arrowOffset_=(0,o[_0x27ab("0x10")])(this.opts_,"arrowOffset",.65),this.seeThrough_=(0,o.getValue)(this.opts_,_0x27ab("0x2aa"),!1),this[_0x27ab("0xe7e")]=(0,o[_0x27ab("0x10")])(this.opts_,_0x27ab("0xe70"),!1);var b=this;this[_0x27ab("0xaf")][_0x27ab("0xef3")],this.o3d_=new(esmap[_0x27ab("0xefe")])(0,{id:this[_0x27ab("0xef9")],vertex:[0,0],name:this[_0x27ab("0xef8")],size_:this[_0x27ab("0xe7d")],arrow:this[_0x27ab("0xf05")],arrowSize:this[_0x27ab("0xf06")],arrowColor:this[_0x27ab("0xf07")],fixedAngle:this[_0x27ab("0xf0a")],arrowOffset:this[_0x27ab("0xf0b")],clip:this.clip_},this[_0x27ab("0xf04")],(function(x){b.mapLoaded=!0,x[_0x27ab("0xfe")][_0x27ab("0xb3")]&&(x[_0x27ab("0xfe")][_0x27ab("0xb3")][_0x27ab("0xf6")]=!0),b[_0x27ab("0xa7b")]&&(x[_0x27ab("0xfe")][_0x27ab("0xb3")][_0x27ab("0x12f")]=!1),b[_0x27ab("0x3d3")][_0x27ab("0x4fb")]&&(b.direction=b.opts_[_0x27ab("0x4fb")]),b[_0x27ab("0xf0c")]=b.visibleFloorNumsChanged[_0x27ab("0xe")](b),a.on("visibleFloorNumsChanged",b[_0x27ab("0xf0c")]),b[_0x27ab("0x3d3")][_0x27ab("0x1d6")]&&b[_0x27ab("0x3d3")][_0x27ab("0x1d6")](b)})),b[_0x27ab("0xaf")][_0x27ab("0x19a")]=0,b[_0x27ab("0x3d3")][_0x27ab("0x1b7")]&&(b[_0x27ab("0xaf")][_0x27ab("0x19a")]=b[_0x27ab("0x3d3")][_0x27ab("0x1b7")]),this[_0x27ab("0xaf")].x=this.x_,this[_0x27ab("0xaf")].y=this.y_,this[_0x27ab("0xaf")][_0x27ab("0xae")]=this,this[_0x27ab("0xaf")].up[_0x27ab("0x28c")](-1),this._update_=this._update.bind(this),a.on("update",this._update_)}}},{key:_0x27ab("0x68e"),value:function(x){var a=this,b=a.o3d_[_0x27ab("0xe1c")],_=a[_0x27ab("0xaf")][_0x27ab("0xe1d")],e=.3;x instanceof Object?(b=x.width,_=x[_0x27ab("0x1b7")],e=x[_0x27ab("0xc")](_0x27ab("0x1cb"))?x[_0x27ab("0x1cb")]:e):(b=x,_=x),a.setSizeAnimId&&a[_0x27ab("0xf03")][_0x27ab("0x1c4")]();var t=new(esmap.TWEEN[_0x27ab("0x1cd")])(a.o3d_).to({width_:b,height_:_},1e3*e).easing(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d1")])[_0x27ab("0x1d2")]((function(){}))[_0x27ab("0x1d5")]();a[_0x27ab("0xf03")]=t}},{key:_0x27ab("0x26a"),value:function(x){this.o3d_[_0x27ab("0x26a")](x)}},{key:_0x27ab("0xf0d"),value:function(){this[_0x27ab("0x11f")]&&(this[_0x27ab("0x11f")].visible=!1)}},{key:_0x27ab("0xf0e"),value:function(){var x=arguments[_0x27ab("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};x=(0,e[_0x27ab("0xb")])({color:"#30a3fb",linewidth:0,radius:10,opacity:.5},x);var a=esmap.ESMap[_0x27ab("0xd3")];if(this[_0x27ab("0x11f")]){if(this[_0x27ab("0x11f")][_0x27ab("0xf6")]||(this[_0x27ab("0x11f")][_0x27ab("0xf6")]=!0),this.circle[_0x27ab("0xae")].points[_0x27ab("0x638")]==x[_0x27ab("0x638")])return;var b=x[_0x27ab("0x638")]/this[_0x27ab("0x11f")][_0x27ab("0xae")][_0x27ab("0xf0f")];return this[_0x27ab("0x11f")].scale[_0x27ab("0x123")](b,b,1),void(this.circle[_0x27ab("0xae")].points[_0x27ab("0x638")]=x[_0x27ab("0x638")])}var _=new(esmap[_0x27ab("0x5cb")])({bid:0,alpha:x[_0x27ab("0x103")],color:x[_0x27ab("0x107")],lineWidth:x[_0x27ab("0x1b5")],seeThrough:!0,points:{type:_0x27ab("0x11f"),center:{x:a.center.x,y:a[_0x27ab("0xed")].y},radius:x[_0x27ab("0x638")],segments:40},height:-.1,lineType:esmap[_0x27ab("0x5b1")][_0x27ab("0xf10")]});_[_0x27ab("0xf0f")]=x[_0x27ab("0x638")],this.o3d_[_0x27ab("0xc7")][_0x27ab("0x163")](_[_0x27ab("0xaf")]),this.circle=_[_0x27ab("0xaf")]}},{key:"rotateTo",value:function(x){var a=this;_0x27ab("0x148")==typeof x&&(x={angle:x});var b,_=(0,o[_0x27ab("0x11")])(x,"time",_0x27ab("0x1ca"),.3),e=a[_0x27ab("0x4fb")],t=esmap.ESMapUtil[_0x27ab("0x5eb")](e,x.angle);return a[_0x27ab("0xaee")]&&a[_0x27ab("0xaee")][_0x27ab("0x1c4")](),a[_0x27ab("0xaee")]=esmap[_0x27ab("0x1cc")][_0x27ab("0x655")](_,(function(x){(b=e+t*x.value)<=0?b=360+b:b>=360&&(b-=360),a.direction=b}),null,(function(){x[_0x27ab("0x1d2")]&&x.onComplete()})),a[_0x27ab("0xaee")]}},{key:_0x27ab("0x262"),value:function(x){var a=esmap.ESMap[_0x27ab("0xd3")];this.x=x.x,this.y=x.y;var b=(0,o[_0x27ab("0x11")])(x,_0x27ab("0xee"),"floornum",_0x27ab("0x251"),1),_=(0,o[_0x27ab("0x11")])(x,_0x27ab("0x1b7"),"zOffset",_0x27ab("0x143"),_0x27ab("0x25"),0),e=(0,o[_0x27ab("0x11")])(x,"bid",0),t=a[_0x27ab("0xf4")](e),i={x:x.x,y:x.y};b=b||this[_0x27ab("0xee")]||t.focusFloorNum,this[_0x27ab("0xee")]=b,this.o3d_[_0x27ab("0x19a")]=t.getFloorHeight(b)+(_||0)+t[_0x27ab("0xaf")][_0x27ab("0xc3")].y;var n=a._insureUserCoordInbounds({x:i.x,y:i.y}),r=a[_0x27ab("0x193")]({x:n.x,y:n.y});this[_0x27ab("0xc3")][_0x27ab("0x123")](r.x,this[_0x27ab("0xaf")].initY_,r.z)}},{key:"direction",get:function(){return this.o3d_[_0x27ab("0x1a9")][_0x27ab("0x1b1")].z/Math.PI*180},set:function(x){this.o3d_[_0x27ab("0x1a9")].rotation[_0x27ab("0x123")](0,0,x/180*Math.PI,_0x27ab("0x1b2"))}},{key:_0x27ab("0x1b9"),get:function(){return this[_0x27ab("0x3d3")][_0x27ab("0x1b9")]},set:function(x){this[_0x27ab("0x3d3")].url=x,this[_0x27ab("0xaf")][_0x27ab("0xe83")](x)}},{key:_0x27ab("0x12d"),set:function(x){this[_0x27ab("0xaf")].arrow=x},get:function(){return this[_0x27ab("0xaf")][_0x27ab("0x12d")]}},{key:_0x27ab("0xe86"),get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xe86")]},set:function(x){this[_0x27ab("0xaf")][_0x27ab("0xe86")]=x}},{key:"visible",get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xef3")]},set:function(x){this[_0x27ab("0xaf")][_0x27ab("0xef3")]=x,this[_0x27ab("0xaf")][_0x27ab("0xf6")]=x}},{key:_0x27ab("0x1b7"),set:function(x){this[_0x27ab("0xaf")][_0x27ab("0x19a")]=x},get:function(){return this[_0x27ab("0xaf")].position.y}},{key:_0x27ab("0x4a1"),get:function(){return this[_0x27ab("0xee")]},set:function(x){this[_0x27ab("0xee")]=x}},{key:_0x27ab("0xc3"),get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xc3")]}},{key:"ID",get:function(){return this.id_}},{key:_0x27ab("0xc5"),get:function(){return this.name_}}]),a}(esmap.ESNode);(0,_[_0x27ab("0xb")])(l[_0x27ab("0x2")],{_update:{value:function(x){this[_0x27ab("0xaf")].updateScreenSize(esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x614")]),this.circle&&(this.circle[_0x27ab("0xc3")][_0x27ab("0x8a4")](this[_0x27ab("0xaf")][_0x27ab("0xc3")])||this[_0x27ab("0x11f")][_0x27ab("0xc3")][_0x27ab("0x27d")](this[_0x27ab("0xaf")][_0x27ab("0xc3")]))}},getPosition:{value:function(){var x=esmap[_0x27ab("0x32")][_0x27ab("0xd3")].coordThreeToMap(this[_0x27ab("0xc3")]);return x.z=this[_0x27ab("0xaf")][_0x27ab("0x19a")]||0,x[_0x27ab("0xee")]=this[_0x27ab("0xee")],x}},dispose:{value:function(){this[_0x27ab("0xaf")]&&this[_0x27ab("0xaf")][_0x27ab("0xc7")]&&(esmap[_0x27ab("0x32")].instance[_0x27ab("0x61")](_0x27ab("0x12b"),this[_0x27ab("0xf11")]),this[_0x27ab("0xaf")][_0x27ab("0xc7")][_0x27ab("0x158")](this.o3d_))}}}),a[_0x27ab("0xb")]=l},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=l(b(10)),e=l(b(2)),t=l(b(4)),i=l(b(0)),n=l(b(1)),r=l(b(5)),s=l(b(6)),o=l(b(326)),c=l(b(67));function l(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var f=function(x){function a(x){var b;(0,i[_0x27ab("0xb")])(this,a),(b=(0,r[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,t[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,esmap.ESNodeType.POLYGON_MARKER,{},new THREE.Object3D)))._geo=null;var _=x||{};if(b[_0x27ab("0xe5d")]=_0x27ab("0x632"),b[_0x27ab("0x37")]=_[_0x27ab("0x37")]||esmap[_0x27ab("0x32")].instance,(0,e.default)(b,{color:_0x27ab("0xf12"),alpha:.5,name:"",imageRepeat:{x:1,y:1},lineWidth:1,lineType:esmap.ESLineType.FULL,lineStyle:{fixedWidth:!1},seeThrough:!1,imageAngle:180,height:6,thickness:0,showLevel:null,bid:0,points:{type:_0x27ab("0xf13"),center:b.map[_0x27ab("0xed")],width:30,height:30}},_),b.ID=b.id,b.mapScene=b[_0x27ab("0x37")].mapScene,b[_0x27ab("0xaf")]=new THREE.Mesh,b.o3d_[_0x27ab("0xb3")][_0x27ab("0x102")]=!0,b[_0x27ab("0xaf")].material.depthWrite=!0,b.o3d_[_0x27ab("0xb3")][_0x27ab("0x11b")]=THREE[_0x27ab("0x11c")],b[_0x27ab("0xaf")].datas_=b,b[_0x27ab("0x2aa")]&&(b[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x12f")]=!1),b.pickable&&b.map[_0x27ab("0x155")][_0x27ab("0x1bb")](b[_0x27ab("0xaf")],b[_0x27ab("0xeb")]||_0x27ab("0xfe")),0==b[_0x27ab("0xf14")]?(Array[_0x27ab("0x480")](b.points)&&b[_0x27ab("0xec")][_0x27ab("0x0")]>=3&&(b[_0x27ab("0xec")][0].x==b[_0x27ab("0xec")][b[_0x27ab("0xec")][_0x27ab("0x0")]-1].x&&b[_0x27ab("0xec")][0].y==b[_0x27ab("0xec")][b[_0x27ab("0xec")][_0x27ab("0x0")]-1].y||b[_0x27ab("0xec")][_0x27ab("0x1")](b[_0x27ab("0xec")][0])),b[_0x27ab("0x12b")](b,!0),b.image&&b[_0x27ab("0xf15")](b[_0x27ab("0x187")])):(b.o3d_[_0x27ab("0xb3")]=new(THREE[_0x27ab("0x101")])({transparent:!0,side:THREE.DoubleSide}),b[_0x27ab("0xf16")](b,!0)),b[_0x27ab("0x244")]){var n=b[_0x27ab("0x244")][0],s=b.showLevel[1];b[_0x27ab("0x37")].on(_0x27ab("0x13c"),(function(x){x>=n&&x<=s?b[_0x27ab("0xaf")].visible||b.show():b[_0x27ab("0xaf")][_0x27ab("0xf6")]&&b[_0x27ab("0x28a")]()}))}return b[_0x27ab("0xaf")][_0x27ab("0x2f")]("removed",(function(){b[_0x27ab("0xa39")]&&(b[_0x27ab("0xa39")][_0x27ab("0xb2")](),b[_0x27ab("0xa39")]=null)})),b}return(0,s[_0x27ab("0xb")])(a,x),(0,n[_0x27ab("0xb")])(a,[{key:_0x27ab("0x28a"),value:function(){this.o3d_[_0x27ab("0xf6")]=!1}},{key:_0x27ab("0xf17"),value:function(){this[_0x27ab("0xaf")][_0x27ab("0xf6")]=!0}},{key:"_init_",value:function(){var x=0;this.bid||(x=this.map[_0x27ab("0xf4")](0).getFloorHeight(1)),this.o3d_[_0x27ab("0xc3")].y=this[_0x27ab("0x680")]+x}},{key:_0x27ab("0xf15"),value:function(x){var a=esmap.ESMapUtil[_0x27ab("0x58f")](x);this[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x37")]=a,this.o3d_[_0x27ab("0xb3")].map[_0x27ab("0xed")].x=.5,this[_0x27ab("0xaf")].material.map[_0x27ab("0xed")].y=.5,this[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x14f")]=this[_0x27ab("0xaf")].material[_0x27ab("0x37")][_0x27ab("0x151")]=THREE[_0x27ab("0x150")],this.o3d_[_0x27ab("0xb3")][_0x27ab("0x37")].repeat.x=this[_0x27ab("0xf18")].x,this[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x11d")].y=this[_0x27ab("0xf18")].y,this[_0x27ab("0xaf")][_0x27ab("0xb3")].map[_0x27ab("0x1b1")]=this.imageAngle*THREE.Math.DEG2RAD,this[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x107")][_0x27ab("0x2ac")](this.color),this.o3d_[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x146")]=!0,this.o3d_.material.needsUpdate=!0}},{key:_0x27ab("0x31f"),value:function(){var x=esmap[_0x27ab("0x80")][_0x27ab("0x5f8")](this.points_);return esmap[_0x27ab("0x80")][_0x27ab("0x5f9")](x)}},{key:_0x27ab("0xf19"),value:function(x){if(!this.o3d_[_0x27ab("0x127")][_0x27ab("0xf1a")]){this[_0x27ab("0xaf")][_0x27ab("0x127")][_0x27ab("0xf1a")]=!0;var a=this.map[_0x27ab("0x33")].editMode,b=x[_0x27ab("0xa6e")],_=x.faces,e=b[_0x27ab("0x0")];x[_0x27ab("0x567")](),x[_0x27ab("0xf1b")][0]=[],x[_0x27ab("0x567")]();for(var t=x[_0x27ab("0x568")].max,i=x.boundingBox[_0x27ab("0x340")],n=new(THREE[_0x27ab("0x569")])(0-i.x,0-i.y),r=new(THREE[_0x27ab("0x569")])(t.x-i.x,t.y-i.y),s=e-2,o=0;o<s;o++)if(_[o]){var c=x[_0x27ab("0xa6e")][_[o].a],l=x[_0x27ab("0xa6e")][_[o].b],f=x[_0x27ab("0xa6e")][_[o].c];x[_0x27ab("0xf1b")][0][o]=[new THREE.Vector2((c.x+n.x)/r.x,(c.y+n.y)/r.y),new(THREE[_0x27ab("0x569")])((l.x+n.x)/r.x,(l.y+n.y)/r.y),new(THREE[_0x27ab("0x569")])((f.x+n.x)/r.x,(f.y+n.y)/r.y)]}else a||console[_0x27ab("0x257")](_0x27ab("0xf1c"),this);x[_0x27ab("0xf1d")]=!0,x[_0x27ab("0xf1e")]=!0}}},{key:_0x27ab("0xf1f"),value:function(x){this[_0x27ab("0xf19")]();var a=esmap[_0x27ab("0x80")][_0x27ab("0x5f8")](this[_0x27ab("0x431")]);x[_0x27ab("0x448")]=a[_0x27ab("0x448")],x.minX=a[_0x27ab("0x446")],x[_0x27ab("0x449")]=a.maxY,x[_0x27ab("0x447")]=a[_0x27ab("0x447")],this[_0x27ab("0x914")]=new(o[_0x27ab("0xb")])(x);var b=this[_0x27ab("0x914")].getTexture();this.o3d_[_0x27ab("0xb3")][_0x27ab("0x102")]=!0,this[_0x27ab("0xaf")][_0x27ab("0xb3")].opacity=x[_0x27ab("0x103")],this[_0x27ab("0xaf")].material[_0x27ab("0x37")]=b,this[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x107")].set(16777215),this[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x146")]=!0,this[_0x27ab("0xaf")].material[_0x27ab("0x37")][_0x27ab("0x146")]=!0}},{key:_0x27ab("0xf20"),value:function(x){this[_0x27ab("0x914")][_0x27ab("0xf21")](x)}},{key:_0x27ab("0xf22"),value:function(){this[_0x27ab("0x914")][_0x27ab("0x924")]()}},{key:"clearHeatMap",value:function(){this[_0x27ab("0x914")][_0x27ab("0x924")](),this.heatmap[_0x27ab("0x69b")](),this[_0x27ab("0x914")][_0x27ab("0x572")][_0x27ab("0x146")]=!0}},{key:"updateHeatMap",value:function(){this.heatmap.update()}},{key:"addHeatPoints",value:function(x){this[_0x27ab("0x914")][_0x27ab("0xf23")](x)}},{key:_0x27ab("0xf24"),value:function(x){this[_0x27ab("0x914")][_0x27ab("0x925")](x.x,x.y,x[_0x27ab("0xf8")])}},{key:_0x27ab("0xf25"),value:function(){this[_0x27ab("0xf26")]&&this[_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0xf27")](this.o3d_)}},{key:_0x27ab("0xe22"),value:function(x,a){esmap[_0x27ab("0x18b")][_0x27ab("0x2")].alwaysShow[_0x27ab("0x3")](this[_0x27ab("0xaf")],x,a),esmap.ESMapLabel[_0x27ab("0x2")][_0x27ab("0xe22")][_0x27ab("0x3")](this[_0x27ab("0xa39")],x,a)}},{key:_0x27ab("0xf02"),value:function(x){this.update({color:x})}},{key:_0x27ab("0xf28"),value:function(x){this[_0x27ab("0x12b")]({lineWidth:x})}},{key:_0x27ab("0x2a3"),value:function(x){this.update({alpha:x})}},{key:"_normalizePoints",value:function(x){var a=this;return x[_0x27ab("0x37")]((function(x){var b=a[_0x27ab("0x37")]._insureUserCoordInbounds({x:x.x,y:x.y}),_=a[_0x27ab("0x37")][_0x27ab("0x193")](b);return new THREE.Vector2(_.x,-_.z)}))}},{key:_0x27ab("0xf16"),value:function(x,a){var b=this;if(a||(0,e[_0x27ab("0xb")])(b,x),x.points){var t=null;if(x[_0x27ab("0xec")]instanceof Array){if((t=x[_0x27ab("0xec")])[_0x27ab("0x0")]<3)return}else if(_0x27ab("0x1c")==(0,_.default)(x[_0x27ab("0xec")])&&!(t=b[_0x27ab("0xf29")](x[_0x27ab("0xec")])))return;b[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0xb2")](),b[_0x27ab("0x431")]=t;var i=b[_0x27ab("0xf2a")](t),n=new(THREE[_0x27ab("0x561")])(i),r=new(THREE[_0x27ab("0x566")])(n,{depth:20,bevelEnabled:!1,material:0,extrudeMaterial:0});b[_0x27ab("0xaf")][_0x27ab("0xb1")]=r,a&&(b.o3d_[_0x27ab("0xf2b")](-Math.PI/2),b[_0x27ab("0xaf")].position.y=b[_0x27ab("0x1b7")]),b[_0x27ab("0xaf")][_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x632")]}x[_0x27ab("0x107")]&&b[_0x27ab("0xaf")].material.color[_0x27ab("0x2ac")](b[_0x27ab("0x107")]),null!=x.alpha&&b.o3d_.material[_0x27ab("0x103")]&&(b.o3d_[_0x27ab("0xb3")][_0x27ab("0x103")]=b[_0x27ab("0xe8")])}},{key:_0x27ab("0xf2c"),value:function(x){var a=this;a[_0x27ab("0xa39")]&&(a[_0x27ab("0xa39")][_0x27ab("0xb2")](),a.line=null);var b=a[_0x27ab("0xaf7")];a[_0x27ab("0x37")].getBuildingById(0);a[_0x27ab("0xeb")]&&a[_0x27ab("0x37")][_0x27ab("0xf4")](a[_0x27ab("0xeb")]),a[_0x27ab("0x37")].mapScene[_0x27ab("0x1ab")],a[_0x27ab("0x37")][_0x27ab("0x15d")][_0x27ab("0x1ac")],(x=a[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0xa6e")][_0x27ab("0x37")]((function(x){return new(THREE[_0x27ab("0xe7")])(x.x,x.z,x.y)}))).push(x[0][_0x27ab("0xe2")]());var _=(0,e.default)({color:a[_0x27ab("0x107")],fixedWidth:!1,notCenter:!0,lineWidth:a.lineWidth,lineType:a[_0x27ab("0x153")],hiddenByFloor:!1},b);_[_0x27ab("0x153")]!=esmap.ESLineType[_0x27ab("0xe5")]?a[_0x27ab("0xa39")]=new(esmap[_0x27ab("0x9d1")])(x,_,!1):a[_0x27ab("0xa39")]=new(c[_0x27ab("0xb")])(x,_,!1),a[_0x27ab("0xa39")].rotateX(-Math.PI/2),a[_0x27ab("0xaf")].add(a[_0x27ab("0xa39")]),a[_0x27ab("0xa39")][_0x27ab("0xc3")][_0x27ab("0x123")](0,0,0),a[_0x27ab("0xa39")][_0x27ab("0xb3")][_0x27ab("0xf6")]=!0,a[_0x27ab("0xa39")][_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x632")],a[_0x27ab("0xa39")][_0x27ab("0xb0")][0]&&(a[_0x27ab("0xa39")][_0x27ab("0xb0")][0][_0x27ab("0x133")]=esmap[_0x27ab("0x134")].polygonMarker)}},{key:_0x27ab("0xf29"),value:function(x){switch(x[_0x27ab("0x70")]){case"circle":if(x[_0x27ab("0xed")]&&x[_0x27ab("0x638")]){for(var a=x.center,b=x[_0x27ab("0x638")]||30,_=x[_0x27ab("0x642")]||40,e=[],t=0;t<_;t++)e.push({x:a.x+b*Math[_0x27ab("0x649")](2*Math.PI/_*t),y:a.y+b*Math[_0x27ab("0x617")](2*Math.PI/_*t)});return e}break;case _0x27ab("0xf13"):if(x[_0x27ab("0x326")]&&x[_0x27ab("0x1b7")]&&(x[_0x27ab("0x8ce")]||x[_0x27ab("0xed")])){a=x[_0x27ab("0xed")]||this.map[_0x27ab("0xed")];if(!(i=x.startPoint))var i={x:a.x-x[_0x27ab("0x326")]/2,y:a.y-x[_0x27ab("0x1b7")]/2};return[{x:i.x,y:i.y},{x:i.x+x.width,y:i.y},{x:i.x+x[_0x27ab("0x326")],y:i.y+x[_0x27ab("0x1b7")]},{x:i.x,y:i.y+x[_0x27ab("0x1b7")]}]}}}},{key:_0x27ab("0x12b"),value:function(x,a){var b=this;if(a||(0,e.default)(b,x),x.points){var t=null;if(x[_0x27ab("0xec")]instanceof Array){if((t=x[_0x27ab("0xec")]).length<3)return}else if("object"==(0,_[_0x27ab("0xb")])(x[_0x27ab("0xec")])&&!(t=b[_0x27ab("0xf29")](x[_0x27ab("0xec")])))return;if(b[_0x27ab("0xaf")][_0x27ab("0xb1")][_0x27ab("0xb2")](),t.length<3)return void(b[_0x27ab("0xa39")]&&(b.line[_0x27ab("0xb2")](),b.line=null));b.points_=t;var i=0;this.bid||(i=this[_0x27ab("0x37")][_0x27ab("0xf4")](0)[_0x27ab("0x30e")](1));var n=b[_0x27ab("0xf2a")](t),r=new(THREE[_0x27ab("0xf2d")])(new(THREE[_0x27ab("0x561")])(n));b[_0x27ab("0xf19")](r),b.o3d_[_0x27ab("0xb1")]=r,a&&(b[_0x27ab("0xaf")][_0x27ab("0xf2b")](-Math.PI/2),b[_0x27ab("0xaf")][_0x27ab("0xc3")].y=b[_0x27ab("0x1b7")]+i),b[_0x27ab("0xaf")][_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x632")]}x[_0x27ab("0x120")]?b[_0x27ab("0xf2c")](n):b[_0x27ab("0xa39")]&&(b[_0x27ab("0xa39")].dispose(),b[_0x27ab("0xa39")]=null,b[_0x27ab("0xf2c")](n)),x[_0x27ab("0x107")]&&b[_0x27ab("0xaf")][_0x27ab("0xb3")].color[_0x27ab("0x2ac")](b[_0x27ab("0x107")]),null!=x.alpha&&b[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x103")]&&(b[_0x27ab("0xaf")].material.opacity=b.alpha)}},{key:_0x27ab("0xf2e"),value:function(x){var a=(0,e[_0x27ab("0xb")])(x);a=this._normalizePoints([a])[0];var b=new(THREE[_0x27ab("0xe7")])(a.x,this[_0x27ab("0xaf")][_0x27ab("0x25a")](new(THREE[_0x27ab("0xe7")])).y+30,-a.y),_=new THREE.Vector3(0,-1,0);return new(THREE[_0x27ab("0xadb")])(b,_)[_0x27ab("0xadd")](this[_0x27ab("0xaf")])[_0x27ab("0x0")]>0}},{key:_0x27ab("0x1b7"),get:function(){return this[_0x27ab("0x680")]},set:function(x){var a=0;this[_0x27ab("0xeb")]||(a=this.map[_0x27ab("0xf4")](0)[_0x27ab("0x30e")](1)),this[_0x27ab("0x680")]=x,this[_0x27ab("0xaf")]&&(this[_0x27ab("0xaf")].position.y=x+a)}}]),a}(esmap[_0x27ab("0xef2")]);a[_0x27ab("0xb")]=f},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=i(b(0)),e=i(b(1)),t=b(19);function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this.config(a),this[_0x27ab("0x8f1")]={},this[_0x27ab("0x572")]=null,this[_0x27ab("0xec")]=[]}return(0,e.default)(x,[{key:_0x27ab("0x8f3"),value:function(x){var a=this,b=a.maxX-a.minX,_=a[_0x27ab("0x449")]-a[_0x27ab("0x447")],e={w:parseFloat(b),h:parseFloat(_)},i=(0,t[_0x27ab("0x18")])();e.w=e.w*i[0]/15,e.h=e.h*i[1]/15;var n=1,r=x[_0x27ab("0x8f7")]||8192;return(b>500||_>500)&&r>=8192&&(r=2048),(e.w>=r||e.h>=r)&&(e.w>=e.h?(n=e.h/e.w,e.w=r,e.h=r*n):(n=e.w/e.h,e.h=r,e.w=r*n)),e}},{key:_0x27ab("0x8f5"),value:function(x,a){var b={x:1-(x-this.minX)/(this[_0x27ab("0x448")]-this[_0x27ab("0x446")]),y:(a-this[_0x27ab("0x447")])/(this[_0x27ab("0x449")]-this.minY)};return b.x=b.x*this[_0x27ab("0x33")].width,b.y=b.y*this[_0x27ab("0x33")][_0x27ab("0x1b7")],b}},{key:_0x27ab("0x3ca"),value:function(x){var a=this;a[_0x27ab("0x446")]=x[_0x27ab("0x446")],a.maxX=x[_0x27ab("0x448")],a[_0x27ab("0x447")]=x[_0x27ab("0x447")],a[_0x27ab("0x449")]=x[_0x27ab("0x449")];var b=a[_0x27ab("0x8f3")](x),_=b.w,e=b.h;a[_0x27ab("0x33")]={width:_,height:e,radius:x[_0x27ab("0x638")]?x[_0x27ab("0x638")]:30,opacity:x[_0x27ab("0xc")](_0x27ab("0x103"))?x.opacity:1,mapOpacity:x[_0x27ab("0xc")](_0x27ab("0x8f6"))?x[_0x27ab("0x8f6")]:1,bshadow:x.radius?x[_0x27ab("0x638")]/20:1.5,maxSize:x[_0x27ab("0x8f7")]||8192,boundVal:15e3,shadowBlur:15,points:{max:x[_0x27ab("0x33f")]?x[_0x27ab("0x33f")]:100,data:[]},gradient:x[_0x27ab("0x8f9")]?x[_0x27ab("0x8f9")]:{.45:_0x27ab("0x8fa"),.55:_0x27ab("0xf2f"),.65:_0x27ab("0x8fb"),.95:_0x27ab("0x8fc"),1:"rgb(255,0,0)"}};var t=document.createElement("canvas"),i=t.getContext("2d");t[_0x27ab("0x326")]=_,t[_0x27ab("0x1b7")]=e,a[_0x27ab("0x33")].ctx=i,a[_0x27ab("0x33")].canvas=t}},{key:_0x27ab("0x90b"),value:function(x,a,b,_){var e=this,t=e[_0x27ab("0x33")][_0x27ab("0x900")],i=(e[_0x27ab("0x33")][_0x27ab("0x638")],e[_0x27ab("0x33")][_0x27ab("0x904")]),n=parseFloat(b/e[_0x27ab("0x33")].points[_0x27ab("0x33f")],10);t.shadowColor="rgba(0, 0, 0, "+n+")",t[_0x27ab("0xe4e")]=i,t.shadowOffsetY=i,t[_0x27ab("0x907")]=e.options.shadowBlur,t[_0x27ab("0x908")](),t[_0x27ab("0x909")](x-i,a-i,e[_0x27ab("0x33")].radius,0,2*Math.PI,!0),t[_0x27ab("0x90a")](),t.fill()}},{key:_0x27ab("0x926"),value:function(){for(var x=this,a=x[_0x27ab("0x33")][_0x27ab("0x326")],b=x[_0x27ab("0x33")][_0x27ab("0x1b7")],_=x[_0x27ab("0x33")][_0x27ab("0x900")],e=_.getImageData(0,0,a,b),t=e[_0x27ab("0x366")],i=t[_0x27ab("0x0")],n=x[_0x27ab("0x920")](),r=x.options[_0x27ab("0x103")]?255*x[_0x27ab("0x33")].opacity:25500,s=3;s<i;s+=4){var o=t[s],c=4*o;if(c){var l=o<r?o:r;t[s-3]=n[c],t[s-2]=n[c+1],t[s-1]=n[c+2],t[s]=l}}e.data.set(t),_[_0x27ab("0x90d")](e,0,0)}},{key:_0x27ab("0xf30"),value:function(){var x=this,a=x[_0x27ab("0x33")][_0x27ab("0x8fe")];return x[_0x27ab("0x572")]||(x[_0x27ab("0x572")]=new(THREE[_0x27ab("0x42d")])(a)),x[_0x27ab("0x572")]}},{key:"getPalette",value:function(){var x=document.createElement(_0x27ab("0x8fe")),a=x[_0x27ab("0x8ff")]("2d");x[_0x27ab("0x326")]=1,x[_0x27ab("0x1b7")]=256;var b=this.options.gradient,_=a[_0x27ab("0xf31")](0,0,1,256);for(var e in b)_[_0x27ab("0x921")](e,b[e]);return a.fillStyle=_,a[_0x27ab("0x922")](0,0,1,256),a[_0x27ab("0x90c")](0,0,1,256)[_0x27ab("0x366")]}},{key:"cachePoint",value:function(x,a,b){var _=this.options[_0x27ab("0xec")],e=_[_0x27ab("0x366")];b>_[_0x27ab("0x33f")]&&(_[_0x27ab("0x33f")]=b),e[_0x27ab("0x1")]([x,a,b])}},{key:_0x27ab("0x924"),value:function(){this[_0x27ab("0xec")]=[]}},{key:_0x27ab("0x925"),value:function(x,a,b){if(x&&a&&b){var _=this[_0x27ab("0x8f5")](x,a);if(_){this.points[_0x27ab("0x1")]({x:_.x,y:_.y,value:b})}}}},{key:"clear",value:function(){this[_0x27ab("0x33")][_0x27ab("0x900")][_0x27ab("0x927")](0,0,this[_0x27ab("0x33")][_0x27ab("0x326")],this[_0x27ab("0x33")][_0x27ab("0x1b7")])}},{key:_0x27ab("0xf23"),value:function(x){for(var a=x[_0x27ab("0x0")],b=0;b<a;b++){var _=x[b][_0x27ab("0xf8")];if(_){var e=this[_0x27ab("0x8f5")](x[b].x,x[b].y);this.points[_0x27ab("0x1")]({x:e.x,y:e.y,value:_})}}}},{key:_0x27ab("0x12b"),value:function(){var x=this;x.clear();for(var a=x.points,b=0;b<a[_0x27ab("0x0")];b++){var _=a[b];x[_0x27ab("0x90b")](_.x,_.y,_[_0x27ab("0xf8")])}x[_0x27ab("0x926")](),x[_0x27ab("0x572")][_0x27ab("0x146")]=!0}},{key:_0x27ab("0xf21"),value:function(x){var a=this,b=a.options[_0x27ab("0x326")],_=a[_0x27ab("0x33")][_0x27ab("0x1b7")],e=a[_0x27ab("0x33")][_0x27ab("0xec")][_0x27ab("0x33f")];a[_0x27ab("0xec")]=[];for(var t=0;t<x;t++){var i=Math[_0x27ab("0xdd")](Math[_0x27ab("0x2b")]()*b+1),n=Math[_0x27ab("0xdd")](Math.random()*_+1),r=Math.floor(Math[_0x27ab("0x2b")]()*e+1);a.points.push({x:i,y:n,value:r})}}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=r(b(4)),e=r(b(0)),t=r(b(1)),i=r(b(5)),n=r(b(6));function r(x){return x&&x.__esModule?x:{default:x}}var s=function(x){function a(x){var b;(0,e.default)(this,a),(b=(0,i[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_.default)(a))[_0x27ab("0x3")](this,x)))[_0x27ab("0x60a")]=esmap[_0x27ab("0x5a2")][_0x27ab("0xf32")];var t=new(THREE[_0x27ab("0xaa4")])(1,1,1,1),n=new(THREE[_0x27ab("0xdc9")])({transparent:!0,side:THREE[_0x27ab("0x11c")],depthWrite:!1});return n[_0x27ab("0xf6")]=!1,b.o3d_=new THREE.Mesh(t,n),b[_0x27ab("0xaf")][_0x27ab("0xae")]=b,1==x[_0x27ab("0xea")][_0x27ab("0x26c")]?b.o3d_[_0x27ab("0x1b1")].set(-Math.PI/2,0,Math.PI-x[_0x27ab("0xea")][_0x27ab("0xc52")]*THREE.Math.DEG2RAD,_0x27ab("0xf33")):b[_0x27ab("0xaf")].rotation[_0x27ab("0x123")](Math.PI,-x[_0x27ab("0xea")][_0x27ab("0xc52")]*THREE.Math[_0x27ab("0x61a")],Math.PI,"XZY"),b[_0x27ab("0xaf")].renderOrder=esmap[_0x27ab("0x134")][_0x27ab("0x596")],b[_0x27ab("0x152")](b[_0x27ab("0xf34")].style),b}return(0,n.default)(a,x),(0,t[_0x27ab("0xb")])(a,[{key:_0x27ab("0x152"),value:function(x){var a=this;a[_0x27ab("0x43d")]=setInterval((function(){a.o3d_&&(x[_0x27ab("0x187")],x.image[_0x27ab("0x187")]&&(clearInterval(a._id),a[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0xf6")]=!0,a[_0x27ab("0xaf")][_0x27ab("0xb3")][_0x27ab("0x37")]=x[_0x27ab("0x187")],a[_0x27ab("0xaf")].material[_0x27ab("0x37")][_0x27ab("0x14d")]=THREE[_0x27ab("0x42f")],a[_0x27ab("0xaf")][_0x27ab("0xb3")].map[_0x27ab("0x14c")]=16))}),0),this[_0x27ab("0xaf")][_0x27ab("0x24b")][_0x27ab("0x123")](x.size[_0x27ab("0x326")],x.size.height,1),this.o3d_[_0x27ab("0xc3")][_0x27ab("0x123")](-(x[_0x27ab("0x1d8")].x+this[_0x27ab("0xf34")].sx)+x.offset.x,x[_0x27ab("0x1b7")]+x.offset.z,x[_0x27ab("0x1d8")].y-this[_0x27ab("0xf34")].sz+x[_0x27ab("0x143")].y)}}]),a}(esmap[_0x27ab("0x5c8")]);a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=o(b(4)),e=o(b(0)),t=o(b(1)),i=o(b(5)),n=o(b(6)),r=b(11),s=o(b(141));function o(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var c=function(x){function a(x){(0,e.default)(this,a);var b=(0,i[_0x27ab("0xb")])(this,(a.__proto__||(0,_[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,esmap[_0x27ab("0xf1")].TEXT_MARKER,{},new(THREE[_0x27ab("0x15b")])));b[_0x27ab("0xaf")][_0x27ab("0xef3")]=b[_0x27ab("0xaf")][_0x27ab("0xf6")],b[_0x27ab("0x3d3")]=x||{};var t={};return t[_0x27ab("0xde3")]=x[_0x27ab("0xde3")]||12,t.fillcolor=x[_0x27ab("0xe56")]||_0x27ab("0xdc2"),t[_0x27ab("0xe57")]=x.strokecolor||_0x27ab("0xbaf"),t[_0x27ab("0xe8")]=x.alpha||1,t[_0x27ab("0xd50")]=x.imageAlign||_0x27ab("0x183"),t[_0x27ab("0x4a0")]=x[_0x27ab("0xf35")]||32,t.strokewidth=x[_0x27ab("0xc")](_0x27ab("0xde4"))?x[_0x27ab("0xde4")]:2,t[_0x27ab("0xe44")]=x[_0x27ab("0xe44")]||0,t[_0x27ab("0xe43")]=x.imagespace||0,t[_0x27ab("0xe42")]=x.lineheight||4,t[_0x27ab("0xf36")]=x[_0x27ab("0xf36")]||_0x27ab("0xe58"),t.shadowColor=x.shadowColor||_0x27ab("0xf37"),t[_0x27ab("0x907")]=x[_0x27ab("0x907")]||1,t[_0x27ab("0xe4c")]=x[_0x27ab("0xe4c")]||0,b.style_=t,isNaN(t[_0x27ab("0x4a0")])||(t[_0x27ab("0x4a0")]={w:t.imagesize,h:t[_0x27ab("0x4a0")]}),b.hooks=[],b[_0x27ab("0xef6")](),b}return(0,n[_0x27ab("0xb")])(a,x),(0,t.default)(a,[{key:"initActiveEffect",value:function(x){var a=this,b=esmap.ESMap.instance;this[_0x27ab("0x2a7")]&&(this.glowSprite.material[_0x27ab("0xb2")](),b.off("update",this[_0x27ab("0x2a7")].updateHandler),this.o3d_.remove(this[_0x27ab("0x2a7")]),this.glowSprite=null);var _=new(THREE[_0x27ab("0x2ad")]),e=Math[_0x27ab("0x33f")](this[_0x27ab("0xe11")][_0x27ab("0x4a0")].w,this[_0x27ab("0xe11")][_0x27ab("0x4a0")].h),t=(new THREE.TextureLoader)[_0x27ab("0x14b")]("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ0MzA5RjcwODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ0MzA5RjcxODlGMjExRUFBNDUxRkZDQkM4RUY4M0ZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDQzMDlGNkU4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDQzMDlGNkY4OUYyMTFFQUE0NTFGRkNCQzhFRjgzRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ueb6GAAAH1ElEQVR42uRbaXMTRxCdWa0uW74AgcEOFEkIX/L/f0uSAnKAAUcotgyypNWxmUm9xk/tWWl1IK8qquqSLGulfa9f9/T0zNg0Tc0GHzbn5zZ2U/EGgFr62+YgISUCUkVGWnQCbABwRO9F6jNWARWbBN7TVigCrALJVlIWKSLkMVE2VjYhYiYZCtk4AdqzAjCGlWH8WhNhCJQHOoIN6XlI74fISDdNgPZ4SYGsOKs6q8HkdQVWJhKEgDGAJrC+swE9i2lCzCqhES8Jnj1eImAeaB3WcLbjbM/ZLv6W/1Xx2yWSvwDrwbrOvsC6sGv8r09EiSpSFR7fhICICIjJ2zWAbQDwIezI2T1nB7AGyKiSCpiAAQB60FfOOs7+cXYB6+D9zyCjT6oYEfjJugnQCS4OAD8A2AfOHjp7hNcPQMY+PlvB9aEcMIJXewDpAbedtZydO/sbf3u7VEQkIMIsQkK8BHiRex3e9sDuO2s6ewI7dfYY7x+AqHJG9g/VACnIGMDjXgUfnb1z9t7ZGZHRISIsiDB5R4l4gZgvAYR4fR8SfwjA3zl7htfHAC6xHqoPZlWAKeWWHSjrEUg9g6regpBzlVQt5Ya5o0ScI+bFBPwuwD0AUA/6e2fP8fo+1FHKKHryVILsPQm5GqntCLYTINmokcUuSwBLv0LgjyD3U4D+ydmPzk5wg7EqdhaZA5jANUKEBbFl5JxDGmFqalSR65J5OSGeI3tOeCL7JsC+cPYSzye4kUglN2tWf7CCxJOegKdUU8QKaKqKpTRLCfGcHw2BPwXon+H9J5BhlCPJrWOCFUPaNRAvSVl+d0zy1wXSOA8BloqcspL+MWT/EuAfA3yJVLOJ6TTnlyaehwA4wHNCpfWE8skkDwGRysIHyMJPAZw9X1Lxvqm+gpBdAQkvAPaaSuihmj/cCoV4Dvga4u0+5PYDEt5dgg+REGM4Tqgm6KoCSUiYS4ClMle838Q4/1wlPHtH4EMkVBGSUkJfgAyZO/CcIRgCOvbr5P0nGOOfIRnqbG8KQEIJ93wK8FIlyiRKJltTKogyhj5JfntEwClex3co+zwkHOJeT1Cs7YOYSihko8BYy0PfIZW6x/iiqIAEGFW0Nemej2gGGuvQ1QqQxkaVhj6pwQ8KCjxUMO0C/DHmEQ2akJWyCDAk/yopQKa01QJ7X6ugDOBNhG2IgGAIcALco/n9Pk04ivzg+UsD935vVh6IlPdLpACZ9R3iYluAYW9RFcj9awV8dXxIATEVQIfK+0UHr/NZg1pxdZo4fa0foozurowCu5T5twm8WC3Qh5yqX6JA7MRq/l9dcl5fBCKkmq1TL5KToI1mtL4qM7ot2wBeZo1V1YWeWQdoEsqqy2K2jISI4j7WNcAsAnhNz24pAamZXrwJLsxG5n/+iGZ0YydmxYXHgqhA9wan8GoF8LL0iKaP20xAaGU5DSmA1+Z5lXZk1rwpYUPADfUGE+oNTqkhCshe1uf6aCQkKjy2zfuy2jxQJPz3mSgQ80KA9NV6W6YAboV70F+oUcq9wWASlNjvA3wHXzDaQhImCkOfCMgMAdmlIcz5iy/x97YQkJL8O0RAz0zvI0glBJgxIaCPi/5Bc/FKM1dw8BPIvg0MV/MUYChrigK8fHx3tYUvSbakLpA85pX7CSRICCQqCd7KAXIxE+A3IvjNCZ/NGnZlbSDuU3j/HPfdViEwzjMMDvAlHXyRbEQYFJgE3lnSxj1/hBO/0DCYGQI6EfYQO/7L3sMuVBIpmvfHUKpso2kBQ8/cLJZmLo5qAvr4sra52ZZyhA5LA+SlBZgtcg0zAPg/oIBPRMAwlMjjGTJKKAx8HngLAnyf8CkBv+t2WUrlu/f4787+Ivl3VRGUiwBWwRXaY+/QIttDh+WkACTw9lo/Ur1x9goEtOC8TO9nESAxMqRkeGlutrzuULeoidbZpknQSdvf32tnv0EBH8j7fZrVziVAf7kuimTRVHqGskMj3iAJHPNjgPee/xXeP1Oxz8nv1tQ+nvMjMiRG1B7jHqH0DB5BHan5dvsG9KRtCKe8BvhfkPzOQUo3MPSZRQgIkaAJ4B3exwgP3i+0DiLSQL9igBh/A9m/IvBZiW+hbXJGXZCY24cbxjRS+OHSb5Y8xShRzlDDomeG9AmSEX7rDIBfIebPCPxnkv7cmiXOKTsBGxouuWq8xOjQxIhRyVCDzQmcVdhDbMs4/yeG5g94/5L6F7qTtRIBsqVkpG6Kh0qZN7RxQ7I5Qdbm9aKkkJDOIECAdwHuIzx9BuDnCIMLJDyRfaj9ZZYlQN/UmFpkHAZSNcrc4T0IkPX5rBVaO6cfIaV4iyY3LXhczg90qeU1NDk3SS9CgFaCrr15j38XmbkFT90jAmSVVjY4hw5MSE6R2qNDPYk2vScev1ZeH2eN91kPu8TBST41wqvJci6obm6OyHjbp9ey2swrtcbcPixxbW6Oy1yZ6aMz1+TxhFreE7PE2SG75MlRGyAi68BUnZ6r5mZvrz40NSIVyE7PnnoW0EMa4sarTNHtikdnQ0SETpCVzfQROr3uqENqqCyh98cK+EqHKe0azg7rBUdeXI0U4NBCpQkUOrw6lXV4ci2nSO0aD0/bOYTMOjrLhVfoUGQaSG5rufF1nh3mG2MyJgFiNGkhUKHjsYU/PG1mAFr0zNA3Aawf/wowALH/m2fIXechAAAAAElFTkSuQmCC"),i=new(s[_0x27ab("0xb")])({aoTexture:t,colorStr:x[_0x27ab("0xe7a")],glowOpacity:x[_0x27ab("0xf38")]}),n=function(x){if(a.o3d_){var b=a[_0x27ab("0xaf")][_0x27ab("0x24b")].x/a[_0x27ab("0xaf")][_0x27ab("0x24b")].y,t=e/390;b!=_[_0x27ab("0x24b")].y&&_[_0x27ab("0x24b")].set(1*t,b*t,1),i.render(x)}};b.on(_0x27ab("0x12b"),n),_.updateHandler=n,_[_0x27ab("0xb3")]=i[_0x27ab("0xb3")],_[_0x27ab("0xb3")][_0x27ab("0x146")]=!0,_[_0x27ab("0x133")]=this[_0x27ab("0xaf")][_0x27ab("0x133")]-1,_.material.depthWrite=!1,this[_0x27ab("0x2a7")]=_,this[_0x27ab("0xaf")][_0x27ab("0x163")](_)}},{key:_0x27ab("0xf39"),value:function(){this[_0x27ab("0x2a7")]&&(this.glowSprite[_0x27ab("0xb3")][_0x27ab("0xb2")](),map[_0x27ab("0x61")]("update",this[_0x27ab("0x2a7")].updateHandler),this.o3d_[_0x27ab("0x158")](this[_0x27ab("0x2a7")]),this[_0x27ab("0x2a7")]=null)}},{key:_0x27ab("0x2a8"),value:function(x){var a=arguments[_0x27ab("0x0")]>1&&void 0!==arguments[1]?arguments[1]:.8;this[_0x27ab("0x23e")]?this[_0x27ab("0xe7f")]({glowColor:x,glowOpacity:a}):this[_0x27ab("0xf3a")].push(this.initActiveEffect[_0x27ab("0xe")](this,{glowColor:x,glowOpacity:a}))}},{key:_0x27ab("0x2a6"),value:function(){this[_0x27ab("0xf39")]()}},{key:_0x27ab("0xef6"),value:function(){var x=this,a=(0,r.getValue)(x.opts_,_0x27ab("0x37"),esmap[_0x27ab("0x32")].instance);a[_0x27ab("0x15d")];x[_0x27ab("0x23e")]=!1,x[_0x27ab("0x37")]=a,x.x_=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],"x",a[_0x27ab("0xed")].x),x.y_=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],"y",a.center.y),x.z_=(0,r[_0x27ab("0x10")])(x.opts_,"height",6),x[_0x27ab("0xeb")]=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],_0x27ab("0xeb"),a.id),x.name_=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],_0x27ab("0xc5"),_0x27ab("0xf3b"))+"",x.id_=(0,r.getValue)(x[_0x27ab("0x3d3")],"id",_0x27ab("0xf3c")+(new Date)[_0x27ab("0x7c")]()),x.img_=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],"image",""),x[_0x27ab("0xf3d")]=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],_0x27ab("0x24b"),1),x[_0x27ab("0xf3e")]=(0,r[_0x27ab("0x10")])(x.opts_,"text",null),null==x[_0x27ab("0xf3e")]&&(x[_0x27ab("0xf3e")]=x[_0x27ab("0xef8")]),x[_0x27ab("0xe2e")]=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],_0x27ab("0xe69"),!0),x[_0x27ab("0xf3f")]=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],_0x27ab("0x26c"),90),x[_0x27ab("0xa7b")]=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],"seeThrough",!1),x.pickPriority_=(0,r.getValue)(this.opts_,_0x27ab("0xf40"),!1);var b=a[_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x1f1")]?20:12;x[_0x27ab("0xe2b")]=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],_0x27ab("0x244"),b),x.o3d_[_0x27ab("0xef3")]=!1,x.center_=(0,r[_0x27ab("0x10")])(x[_0x27ab("0x3d3")],_0x27ab("0xed"),null);var _=a[_0x27ab("0xa9d")]({x:this.x_,y:this.y_});this.x_=_.x,this.y_=_.y,x[_0x27ab("0xaf")]=new esmap.ESMapLabel(a.FloorNum,{oid:x[_0x27ab("0xef9")],vertex:[x.x_,x.y_],invisible:!0,name:x[_0x27ab("0xf3e")],w:x.style_.imagesize.w,h:x[_0x27ab("0xe11")].imagesize.h,spritify:x.spritify_,image:x.img_,callback:function(b){if(x[_0x27ab("0xaf")]=b,b[_0x27ab("0xb3")]){b[_0x27ab("0xae")]=x;var _=a._coordMapSceneToThree({x:x.x_,y:x.y_});b[_0x27ab("0xc3")].set(_.x,x.z_,_.z),x.seeThrough_&&(b[_0x27ab("0xb3")].depthTest=!1),b[_0x27ab("0xf6")]=!0,b.material[_0x27ab("0xf6")]=!0,b.forceVisible_=!0,x[_0x27ab("0x3d3")][_0x27ab("0xed")]&&b[_0x27ab("0xed")][_0x27ab("0x123")](x[_0x27ab("0x3d3")][_0x27ab("0xed")].x,x[_0x27ab("0x3d3")][_0x27ab("0xed")].y),x[_0x27ab("0x3d3")][_0x27ab("0x1d6")]&&x[_0x27ab("0x3d3")][_0x27ab("0x1d6")](x),x[_0x27ab("0x23e")]=!0,b.renderOrder=esmap[_0x27ab("0x134")].textMarker,x[_0x27ab("0xa7b")]&&(b[_0x27ab("0xb3")].depthTest=!1,b[_0x27ab("0x133")]=100),x[_0x27ab("0xf3a")][_0x27ab("0x1b")]((function(x){x()}))}},ShowLevel:x[_0x27ab("0xe2b")],isMarker:!0,scale:x.scale_},x[_0x27ab("0xe11")]),x[_0x27ab("0xaf")][_0x27ab("0x19a")]=x.z_}},{key:_0x27ab("0x283"),value:function(x){this.o3d_.jump(x)}},{key:_0x27ab("0x285"),value:function(){this[_0x27ab("0xaf")][_0x27ab("0x285")]()}},{key:"flash",value:function(x){return this[_0x27ab("0xaf")][_0x27ab("0x286")](x)}},{key:_0x27ab("0x287"),value:function(){this[_0x27ab("0xaf")][_0x27ab("0x287")]()}},{key:"moveTo",value:function(x){this.created?this[_0x27ab("0xaf")]&&this[_0x27ab("0xaf")][_0x27ab("0x26a")](x):this[_0x27ab("0xf3a")][_0x27ab("0x1")](this[_0x27ab("0xaf")].moveTo[_0x27ab("0xe")](this[_0x27ab("0xaf")],x))}},{key:_0x27ab("0xba1"),get:function(){return this[_0x27ab("0xf3e")]||this[_0x27ab("0xef8")]},set:function(x){var a=this,b=function(){a.o3d_[_0x27ab("0xe59")](x),a[_0x27ab("0x3d3")]=a[_0x27ab("0x3d3")]||{},a[_0x27ab("0x3d3")][_0x27ab("0xba1")]=x,a.text_=x};this[_0x27ab("0x23e")]?b():this[_0x27ab("0xf3a")].push(b)}},{key:_0x27ab("0xc5"),get:function(){if(this.opts_&&this[_0x27ab("0x3d3")][_0x27ab("0xc5")])return this[_0x27ab("0x3d3")].name},set:function(x){this[_0x27ab("0x3d3")][_0x27ab("0xc5")]=x}},{key:"center",set:function(x){this[_0x27ab("0xaf")].center.set(x.x,x.y)}},{key:"fontsize",get:function(){if(this[_0x27ab("0xe11")]&&this.style_[_0x27ab("0xde3")])return this[_0x27ab("0xe11")].fontsize},set:function(x){this[_0x27ab("0xaf")][_0x27ab("0xe5a")](x),this[_0x27ab("0xe11")]=this[_0x27ab("0xe11")]||{},this[_0x27ab("0xe11")].fontsize=x}},{key:_0x27ab("0x1b9"),get:function(){return this[_0x27ab("0x3d3")].image},set:function(x){this[_0x27ab("0x3d3")][_0x27ab("0x187")]=x,this[_0x27ab("0xaf")][_0x27ab("0x18e")][_0x27ab("0x187")]=x,this[_0x27ab("0xaf")][_0x27ab("0x152")]()}},{key:_0x27ab("0xe56"),get:function(){if(this[_0x27ab("0xe11")]&&this[_0x27ab("0xe11")][_0x27ab("0xe56")])return this[_0x27ab("0xe11")].fillcolor},set:function(x){this[_0x27ab("0xaf")].setfillcolor(x),this[_0x27ab("0xe11")]=this[_0x27ab("0xe11")]||{},this[_0x27ab("0xe11")][_0x27ab("0xe56")]=x}},{key:_0x27ab("0xe57"),get:function(){if(this[_0x27ab("0xe11")]&&this[_0x27ab("0xe11")].strokecolor)return this[_0x27ab("0xe11")][_0x27ab("0xe57")]},set:function(x){this[_0x27ab("0xaf")].setfontstrokecolor(x),this[_0x27ab("0xe11")]=this[_0x27ab("0xe11")]||{},this[_0x27ab("0xe11")][_0x27ab("0xe57")]=x}},{key:_0x27ab("0xea"),get:function(){return this.style_}},{key:_0x27ab("0xf6"),get:function(){return this[_0x27ab("0xef3")]},set:function(x){this[_0x27ab("0xaf")]&&(this[_0x27ab("0xaf")][_0x27ab("0xef3")]=x,this[_0x27ab("0xaf")][_0x27ab("0xf6")]=x)}},{key:"ID",get:function(){return this[_0x27ab("0xef9")]}}]),a}(esmap[_0x27ab("0xef2")]);a[_0x27ab("0xb")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=r(b(4)),e=r(b(0)),t=r(b(1)),i=r(b(5)),n=r(b(6));function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=function(x){function a(x,b){(0,e[_0x27ab("0xb")])(this,a);var t=(0,i[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_[_0x27ab("0xb")])(a)).call(this,0,b,new THREE.Object3D,x));return t.layerManager=new(esmap[_0x27ab("0x15f")])(t[_0x27ab("0xaf")]),t}return(0,n.default)(a,x),(0,t[_0x27ab("0xb")])(a,[{key:_0x27ab("0x1a1"),value:function(x){this[_0x27ab("0x15e")][_0x27ab("0x1a1")](x)}},{key:_0x27ab("0x1a2"),value:function(x,a){return this[_0x27ab("0x15e")][_0x27ab("0x1a2")](x,a)}},{key:"getLayersByTypes",value:function(x,a){return this[_0x27ab("0x15e")][_0x27ab("0x1a3")](x,a)}},{key:"getLayersByNames",value:function(x,a){return this.layerManager[_0x27ab("0x1a4")](x,a)}},{key:"getObjectsByAlias",value:function(x,a){return this[_0x27ab("0x15e")][_0x27ab("0x916")](x,a)}},{key:"getFirstLayer",value:function(x){return this[_0x27ab("0x15e")].getFirstLayer(x)}},{key:_0x27ab("0xf41"),value:function(x){this[_0x27ab("0x15e")][_0x27ab("0xf41")](x)}},{key:_0x27ab("0xf42"),value:function(x){this[_0x27ab("0x15e")][_0x27ab("0xf42")](x)}},{key:_0x27ab("0xf43"),value:function(x){this[_0x27ab("0x15e")][_0x27ab("0xf43")](x)}},{key:_0x27ab("0xf44"),value:function(x){x&&this[_0x27ab("0x18e")][_0x27ab("0x4a1")]&&x[_0x27ab("0x90f")](this.data_[_0x27ab("0x4a1")])}},{key:_0x27ab("0xf45"),value:function(x){x&&this[_0x27ab("0x18e")][_0x27ab("0x4a1")]&&x.disposeHeatMap(this[_0x27ab("0x18e")][_0x27ab("0x4a1")])}},{key:_0x27ab("0x2a1"),value:function(x){this[_0x27ab("0x15e")][_0x27ab("0x2a1")](x)}},{key:_0x27ab("0x251"),get:function(){return this[_0x27ab("0x18e")][_0x27ab("0x4a1")]}},{key:_0x27ab("0xf46"),get:function(){return this[_0x27ab("0x18e")][_0x27ab("0x49d")]}},{key:_0x27ab("0xf47"),get:function(){return this[_0x27ab("0x18e")][_0x27ab("0xc5")]}},{key:_0x27ab("0xf48"),get:function(){return this[_0x27ab("0x18e")][_0x27ab("0x4a3")]}},{key:_0x27ab("0xf49"),get:function(){return this.data_.Alias}},{key:_0x27ab("0x3d5"),get:function(){return new(esmap[_0x27ab("0x5c6")])(this[_0x27ab("0x15d")].map[_0x27ab("0xed")].x,this[_0x27ab("0x15d")][_0x27ab("0x37")][_0x27ab("0xed")].y,this.o3d_.meta_.Elevation)}},{key:_0x27ab("0x9e7"),get:function(){return this[_0x27ab("0x15e")][_0x27ab("0x9e7")]}},{key:_0x27ab("0xeb"),get:function(){return this[_0x27ab("0xc7")].id}}]),a}(esmap[_0x27ab("0xef2")]);a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=i(b(0)),e=i(b(1)),t=b(11);function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this.o3d_=a}return(0,e[_0x27ab("0xb")])(x,[{key:"addLayer",value:function(x){!x instanceof esmap[_0x27ab("0x17c")]?console[_0x27ab("0x3f4")](_0x27ab("0xf4a")):this[_0x27ab("0xaf")][_0x27ab("0x163")](x[_0x27ab("0xaf")])}},{key:_0x27ab("0x1a2"),value:function(x,a){var b=this[_0x27ab("0x1a4")](x);if(0==b.length){switch(a){case"imageMarker":b=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0xa99")]);break;case _0x27ab("0x59b"):b=new(esmap[_0x27ab("0x17c")])(esmap.ESLayerType[_0x27ab("0xa9a")]);break;case _0x27ab("0x632"):b=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")].POLYGON_MARKER);break;case"storeImage":b=new esmap.ESLayer(esmap[_0x27ab("0x17d")].STORE_IMAGE);case _0x27ab("0x236"):b=new esmap.ESLayer(esmap[_0x27ab("0x17d")].MODEL3D);break;case"model":b=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0x639")]);break;case _0x27ab("0x596"):b=new esmap.ESLayer(esmap[_0x27ab("0x17d")][_0x27ab("0xf32")]);break;case"modelLine":b=new esmap.ESLayer(esmap[_0x27ab("0x17d")].MODEL_LINE);break;case _0x27ab("0xf4b"):b=new(esmap[_0x27ab("0x17c")])(esmap.ESLayerType[_0x27ab("0xf4c")]);break;case _0x27ab("0x59d"):b=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0xf4d")]);break;case _0x27ab("0x59c"):b=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")].CARD_MARKER);break;case _0x27ab("0x59a"):b=new(esmap[_0x27ab("0x17c")])(esmap.ESLayerType[_0x27ab("0xa26")])}b[_0x27ab("0xc5")]=x,this.addLayer(b)}else b=b[0];return b}},{key:_0x27ab("0x1a3"),value:function(x,a){x=[][_0x27ab("0x1ec")](x);for(var b=!1,_=[],e=0;e<this[_0x27ab("0x9e7")][_0x27ab("0x0")];e++){var t=this[_0x27ab("0x9e7")][e];if(t[_0x27ab("0x60a")]&&x[_0x27ab("0xd1")](t[_0x27ab("0x60a")])>-1&&(a&&(b=a(t,t[_0x27ab("0x60a")])),_[_0x27ab("0x1")](t)),b)return 0==_[_0x27ab("0x0")]?null:1==_.length?_[0]:_}return _}},{key:"getLayersByNames",value:function(x,a){x=[][_0x27ab("0x1ec")](x);for(var b=[],_=0;_<this[_0x27ab("0x9e7")][_0x27ab("0x0")];_++){var e=this.layers[_];e[_0x27ab("0xc5")]&&x[_0x27ab("0xd1")](e[_0x27ab("0xc5")])>-1&&(a&&a(e,e.name)&&_--,b[_0x27ab("0x1")](e))}return b}},{key:"getObjectsByAlias",value:function(x,a){var b=[];return this[_0x27ab("0x1a3")](x,(function(x){if(null!=a)for(var _=x[_0x27ab("0xaf")][_0x27ab("0xb0")],e=0;e<_;e++)a(x[_0x27ab("0xaf")][_0x27ab("0xb0")][e])&&b[_0x27ab("0x1")](x[_0x27ab("0xaf")][_0x27ab("0xb0")][e]);else b.push[_0x27ab("0x5")](b,x[_0x27ab("0xaf")][_0x27ab("0xb0")])})),b}},{key:_0x27ab("0xf4e"),value:function(x){var a=this[_0x27ab("0x1a3")](x);return a?a[_0x27ab("0x0")]?a[0]:a:null}},{key:"removeLayer",value:function(x){x[_0x27ab("0xaf")][_0x27ab("0xf6")]=!1;for(var a=0;x[_0x27ab("0xaf")][_0x27ab("0xb0")][_0x27ab("0x0")]>a;){var b=x.o3d_[_0x27ab("0xb0")][a];b.em&&b.em[_0x27ab("0xb2")]?b.em[_0x27ab("0xb2")]():a++}this[_0x27ab("0xaf")][_0x27ab("0x158")](x[_0x27ab("0xaf")])}},{key:_0x27ab("0xf42"),value:function(x){for(var a=[].concat(x),b=0;b<this[_0x27ab("0x9e7")][_0x27ab("0x0")];b++){var _=this[_0x27ab("0x9e7")][b];if(_[_0x27ab("0x60a")]&&(0,t[_0x27ab("0xd9")])(a,_._type_)){_[_0x27ab("0xaf")].visible=!1;for(var e=0;_[_0x27ab("0xaf")][_0x27ab("0xb0")][_0x27ab("0x0")]>e;){var i=_[_0x27ab("0xaf")].children[e];i.em&&i.em[_0x27ab("0xb2")]?i.em[_0x27ab("0xb2")]():e++}this[_0x27ab("0xaf")][_0x27ab("0x158")](_[_0x27ab("0xaf")]),b--}}}},{key:_0x27ab("0xf43"),value:function(x){for(var a=[].concat(x),b=0;b<this[_0x27ab("0x9e7")][_0x27ab("0x0")];b++){var _=this[_0x27ab("0x9e7")][b];if(_[_0x27ab("0xc5")]&&(0,t[_0x27ab("0xd9")])(a,_[_0x27ab("0xc5")])){_[_0x27ab("0xaf")][_0x27ab("0xf6")]=!1;for(var e=0;_[_0x27ab("0xaf")][_0x27ab("0xb0")][_0x27ab("0x0")]>e;){var i=_[_0x27ab("0xaf")][_0x27ab("0xb0")][e];i.em&&i.em[_0x27ab("0xb2")]?i.em.dispose():e++}this[_0x27ab("0xaf")][_0x27ab("0x158")](_.o3d_),b--}}}},{key:_0x27ab("0xf44"),value:function(x){x&&this.data_.floornum&&x[_0x27ab("0x90f")](this)}},{key:_0x27ab("0xf45"),value:function(x){x&&this[_0x27ab("0x18e")][_0x27ab("0x4a1")]&&x[_0x27ab("0x91e")](this[_0x27ab("0x18e")][_0x27ab("0x4a1")])}},{key:_0x27ab("0x2a1"),value:function(x){return this[_0x27ab("0xf4f")](x,this.o3d_,!1)}},{key:"traverse_",value:function(x,a,b){if(a[_0x27ab("0xae")]&&(b=x(a[_0x27ab("0xae")])),b)return!0;for(var _=0;_<a[_0x27ab("0xb0")].length;_++){if(this.traverse_(x,a[_0x27ab("0xb0")][_],b))return!0}}},{key:"mapCoord",get:function(){return new(esmap[_0x27ab("0x5c6")])(-this[_0x27ab("0x15d")][_0x27ab("0x1ab")],this[_0x27ab("0x15d")][_0x27ab("0x1ac")],this[_0x27ab("0xaf")].meta_[_0x27ab("0x4a3")])}},{key:"layers",get:function(){for(var x=[],a=0;a<this[_0x27ab("0xaf")].children[_0x27ab("0x0")];a++){var b=this.o3d_[_0x27ab("0xb0")][a][_0x27ab("0xae")];b&&x[_0x27ab("0x1")](b)}return x}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=r(b(4)),e=r(b(0)),t=r(b(1)),i=r(b(5)),n=r(b(6));function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=0,o=function(x){function a(x,b){(0,e[_0x27ab("0xb")])(this,a);var t=(0,i[_0x27ab("0xb")])(this,(a.__proto__||(0,_.default)(a))[_0x27ab("0x3")](this,0,b,new(THREE[_0x27ab("0x15b")])));switch(t[_0x27ab("0x60a")]=x||esmap[_0x27ab("0x17d")][_0x27ab("0xa96")],t[_0x27ab("0xc5")]="",x){case esmap[_0x27ab("0x17d")][_0x27ab("0xa99")]:case esmap[_0x27ab("0x17d")][_0x27ab("0xa9a")]:t.o3d_.boxCollision_=new(esmap[_0x27ab("0x180")]),t.requireCollide_=!1;break;case esmap.ESLayerType[_0x27ab("0x639")]:break;case esmap[_0x27ab("0x17d")][_0x27ab("0xf50")]:case esmap[_0x27ab("0x17d")][_0x27ab("0x181")]:case esmap[_0x27ab("0x17d")].MODEL_LABEL:t[_0x27ab("0xf51")]=!0;case esmap[_0x27ab("0x17d")][_0x27ab("0xf52")]:}return t[_0x27ab("0xf01")]=null,t}return(0,n[_0x27ab("0xb")])(a,x),(0,t[_0x27ab("0xb")])(a,[{key:_0x27ab("0x29e"),value:function(){this[_0x27ab("0xf51")]=!0}},{key:_0x27ab("0xf53"),value:function(){this[_0x27ab("0xf51")]=!1}},{key:_0x27ab("0xc96"),value:function(x){var a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],b=x,_=this;if(this[_0x27ab("0xf54")](b[_0x27ab("0xe1")]))switch(b[_0x27ab("0xe1")]){case esmap[_0x27ab("0xf1")][_0x27ab("0xa99")]:var e=b[_0x27ab("0xeb")];this.o3d_[_0x27ab("0x163")](b[_0x27ab("0xaf")]),a.mapPicker[_0x27ab("0x1bb")](b.o3d_,e||_0x27ab("0xfe"));break;case esmap[_0x27ab("0xf1")][_0x27ab("0xa9a")]:e=b[_0x27ab("0xeb")];this[_0x27ab("0xaf")][_0x27ab("0x163")](b.o3d_),a[_0x27ab("0x155")].addObject(b[_0x27ab("0xaf")],e||_0x27ab("0xfe"));break;case esmap.ESNodeType[_0x27ab("0xf52")]:this.o3d_[_0x27ab("0x163")](b[_0x27ab("0xaf")]),a.mapPicker[_0x27ab("0x1bb")](b[_0x27ab("0xaf")],e||_0x27ab("0xfe"));break;case esmap[_0x27ab("0xf1")][_0x27ab("0x232")]:var t=a[_0x27ab("0xa9c")]()[_0x27ab("0x161")],i=!1;if(a[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]&&(a[_0x27ab("0x175")][_0x27ab("0x41c")]("sk")&&a[_0x27ab("0x33")].editMode||(a[_0x27ab("0x175")][_0x27ab("0x41c")]("ul")>>1&1||0)<1&&(console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")].AUTHO_REQUIRED),i=!0)),i&&!a[_0x27ab("0x175")]._em)return void console[_0x27ab("0x2bb")](esmap[_0x27ab("0x2bc")][_0x27ab("0xf55")]);_[_0x27ab("0xf56")]=t,_.load3dmarker(b,_),_[_0x27ab("0xf56")][_0x27ab("0x308")]=!1,s++;break;case esmap.ESNodeType[_0x27ab("0xf4c")]:this[_0x27ab("0xaf")].add(b[_0x27ab("0xaf")]),a.mapPicker[_0x27ab("0x1bb")](b[_0x27ab("0xaf")]);break;case esmap.ESNodeType[_0x27ab("0xa33")]:this[_0x27ab("0xaf")][_0x27ab("0x163")](b[_0x27ab("0xaf")]);break;case esmap[_0x27ab("0xf1")][_0x27ab("0xf4d")]:if((a[_0x27ab("0x175")].sourceData.o1||0)<=1)return;this.o3d_[_0x27ab("0x163")](b),b.datas_={name:"boardMark",nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0xf4d")]},a.on(_0x27ab("0x12b"),(function(){b[_0x27ab("0xe28")]()}))}else console.info(_0x27ab("0xf57"));b._init_&&b[_0x27ab("0xf58")]()}},{key:_0x27ab("0xf59"),value:function(){var x=this[_0x27ab("0xaf")][_0x27ab("0x628")];this[_0x27ab("0xf56")][_0x27ab("0xc14")][x]=!0}},{key:_0x27ab("0xbfd"),value:function(){var x=esmap[_0x27ab("0x32")].instance[_0x27ab("0x175")][_0x27ab("0xca0")]||0;return s>x||0==x}},{key:_0x27ab("0xf5a"),value:function(x,a){var b=a[_0x27ab("0xaf")][_0x27ab("0x628")];this.loadManger[_0x27ab("0xc11")]({data:x[_0x27ab("0x366")],model:x[_0x27ab("0x235")],name:x[_0x27ab("0xc5")],scale:x[_0x27ab("0x24b")],rotation:x[_0x27ab("0x26c")],merge:x.merge,layerid:b,url:x[_0x27ab("0x1b9")],seeThrough:x[_0x27ab("0x2aa")],showLevel:x[_0x27ab("0x244")],position:x.position,parent:a.o3d_,marker:x,id:x.ID,bclick:x[_0x27ab("0xf5b")]||!1,spritify:x[_0x27ab("0xe69")],onError:x.onError,callback:x[_0x27ab("0x1d6")]})}},{key:_0x27ab("0xf5c"),value:function(x){for(var a=this[_0x27ab("0xaf")][_0x27ab("0xb0")],b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x296")][_0x27ab("0x295")],_=0;_<a[_0x27ab("0x0")];_++){var e=a[_];e[_0x27ab("0xc3")][_0x27ab("0x301")](b)>x?(e.forceVisible_=!1,e[_0x27ab("0xf6")]=!1):(e[_0x27ab("0xef3")]=!0,e[_0x27ab("0xf6")]=!0)}}},{key:"setViewRadius",value:function(x){var a=this,b=x[_0x27ab("0xf00")],_=x.value,e=(this[_0x27ab("0xaf")][_0x27ab("0xb0")],b),t=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],i=!1;this.viewRadius=_,this[_0x27ab("0xf00")]=b,t.on(_0x27ab("0x13c"),(function(x){x>=e?1!=i&&(i=!0,a[_0x27ab("0xf5c")](_)):0!=i&&(i=!1,a[_0x27ab("0xf5c")](1/0))}));var n=null;t.on(_0x27ab("0x167"),(function(){if(t[_0x27ab("0x168")]>=e&&(i||(i=!0)),i){var x=t[_0x27ab("0x296")][_0x27ab("0x295")],b={x:1*x.x.toFixed(1),y:1*x.z[_0x27ab("0x60b")](1)};n&&n.x==b.x&&n.y==b.y||a.checkViewRadius(_),n=b}}))}},{key:_0x27ab("0xf54"),value:function(x){var a=this[_0x27ab("0x60a")],b=null;for(var _ in esmap[_0x27ab("0x17d")])if(esmap[_0x27ab("0x17d")][_]==a){b=_;break}return esmap[_0x27ab("0xf1")][b]==x||(console[_0x27ab("0x2bb")]("请使用图层类型对应的标注！"),!1)}},{key:_0x27ab("0x163"),value:function(x){this[_0x27ab("0xaf")][_0x27ab("0x163")](x[_0x27ab("0xaf")])}},{key:_0x27ab("0x158"),value:function(x){x.dispose()}},{key:_0x27ab("0x821"),value:function(){for(var x=0;this[_0x27ab("0xaf")][_0x27ab("0xb0")].length>x;){var a=this[_0x27ab("0xaf")][_0x27ab("0xb0")][x];a[_0x27ab("0xae")]&&a[_0x27ab("0xae")][_0x27ab("0xb2")]?a[_0x27ab("0xae")][_0x27ab("0xb2")]():x++}}},{key:_0x27ab("0x2a1"),value:function(x){return this[_0x27ab("0xf4f")](x,this[_0x27ab("0xaf")],!1)}},{key:_0x27ab("0xf4f"),value:function(x,a,b){if(a[_0x27ab("0xae")]&&(b=x(a[_0x27ab("0xae")])),b)return!0;for(var _=0;_<a[_0x27ab("0xb0")][_0x27ab("0x0")];_++){if(this[_0x27ab("0xf4f")](x,a[_0x27ab("0xb0")][_],b))return!0}}},{key:_0x27ab("0xf5d"),get:function(){return esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x15d")][_0x27ab("0xf5d")]}}]),a}(esmap.ESNode);a[_0x27ab("0xb")]=o},function(x,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var _=t(b(2)),e=t(b(0));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}a.default=function x(a){(0,e.default)(this,x);var b=esmap[_0x27ab("0x80")][_0x27ab("0x22c")]()[_0x27ab("0x22d")];(0,_[_0x27ab("0xb")])(this,a),this[_0x27ab("0xaf9")]=a&&a[_0x27ab("0xaf9")]?a[_0x27ab("0xaf9")]:b?esmap[_0x27ab("0x5b9")][_0x27ab("0xf5e")]:esmap[_0x27ab("0x5b9")].Map_CONTROL_SMALL,this[_0x27ab("0xc3")]=a&&a[_0x27ab("0xc3")]?a[_0x27ab("0xc3")]:null,this.allLayer=a&&a[_0x27ab("0xf5f")]?a[_0x27ab("0xf5f")]:null,this[_0x27ab("0x143")]=a&&a[_0x27ab("0x143")]?a[_0x27ab("0x143")]:b?new(esmap[_0x27ab("0x5ce")])(20,50):new(esmap[_0x27ab("0x5ce")])(10,10),this[_0x27ab("0xf60")]=a&&a.imgURL?a[_0x27ab("0xf60")]:_0x27ab("0xf61"),this[_0x27ab("0xf62")]=a&&a[_0x27ab("0xc")](_0x27ab("0xf62"))?a[_0x27ab("0xf62")]:10}},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _,e=b(0),t=(_=e)&&_[_0x27ab("0xa")]?_:{default:_};a[_0x27ab("0xb")]=function x(a,b){(0,t[_0x27ab("0xb")])(this,x),this.x=a||0,this.y=b||0}},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=r(b(2)),e=r(b(0)),t=r(b(1)),i=b(19),n=b(70);function r(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var s=function(){function x(a,b){var t=this;(0,e[_0x27ab("0xb")])(this,x),this.map=a,this[_0x27ab("0xf63")]=null,this[_0x27ab("0xf64")]=!1,this.tapedPos={},this[_0x27ab("0xf65")]=!1,this[_0x27ab("0xf66")]=!1,this[_0x27ab("0xf67")]=!1,this[_0x27ab("0x4b")]=null;var i=new(esmap[_0x27ab("0x5cd")])(b);((0,_[_0x27ab("0xb")])(i,{scale:null,textColor:_0x27ab("0xf68"),toggleColor:_0x27ab("0xf69"),bgColor:"#FFF",focusTextColor:_0x27ab("0xe8e"),focusBgColor:"#1F6ED4",showBtnCount:3,borderRadius:5,marginBottom:5,textSize:14,fnumToggleBtn:this[_0x27ab("0x37")][_0x27ab("0x34")]!=esmap[_0x27ab("0x39")][_0x27ab("0x3a")],viewModeBtn:this.map[_0x27ab("0x34")]!=esmap.MapMode.City,expandBtn:!0,expandSpan:20,scrollMode:!0,size:null,exitBtn:!0},b),i[_0x27ab("0xc3")]=i[_0x27ab("0xc3")]||2,i.showBtnCount>5&&(i[_0x27ab("0xf6a")]=5),this[_0x27ab("0x9f8")]=i,this[_0x27ab("0x22d")]=esmap[_0x27ab("0x80")][_0x27ab("0x22c")]()[_0x27ab("0x22d")],this[_0x27ab("0x184")]=20,this[_0x27ab("0x183")]=10,this.right=10,this.disposed=!1,this[_0x27ab("0xf6b")]=!1,a.on(_0x27ab("0xa63"),(function(){t[_0x27ab("0xb2")]()})),a.on(_0x27ab("0xa94"),(function(x){if(2==x[_0x27ab("0x190")]&&x[_0x27ab("0xeb")]){var b=a[_0x27ab("0xf4")](x[_0x27ab("0xeb")]);t[_0x27ab("0x4b")]&&t[_0x27ab("0x4b")].id==x.bid&&t[_0x27ab("0xf6c")]?t[_0x27ab("0x12b")](b):t[_0x27ab("0x4b")]||t[_0x27ab("0x12b")](b)}})),a[_0x27ab("0x34")]==esmap[_0x27ab("0x39")].Building)?a[_0x27ab("0x629")]()&&this.update(a[_0x27ab("0x629")]()):a.on(_0x27ab("0xa07"),(function(x){t.update(x)}))}return(0,t[_0x27ab("0xb")])(x,[{key:_0x27ab("0x12b"),value:function(x){var a=this[_0x27ab("0x9f8")];this.$box&&this[_0x27ab("0x37")][_0x27ab("0x614")].rendererCss2D[_0x27ab("0x6de")][_0x27ab("0x27")](this.$box),this.building=x;var b=x[_0x27ab("0x62c")][_0x27ab("0x0")];b>=3&&a[_0x27ab("0xf6a")]<3&&(a.showBtnCount=3),b<a[_0x27ab("0xf6a")]&&(a.showBtnCount=b),4==a[_0x27ab("0xf6d")]&&(a.showshowBtnCount=3),b<=2&&(a[_0x27ab("0xf6e")]=!1);a.size||(a[_0x27ab("0xaf9")]=this.isPC?_0x27ab("0xff"):_0x27ab("0x5ba"));var _={small:42,normal:42}[a[_0x27ab("0xaf9")]]||a.size;this.buttonSize=_,this.init()}},{key:_0x27ab("0x262"),value:function(x){var a=this[_0x27ab("0x9f8")][_0x27ab("0x143")].x,b=this[_0x27ab("0x9f8")].offset.y,_=this[_0x27ab("0x9f8")][_0x27ab("0xc3")];switch(x[_0x27ab("0xea")][_0x27ab("0x184")]=_0x27ab("0xf6f"),x.style[_0x27ab("0x183")]=_0x27ab("0xf6f"),x.style[_0x27ab("0x6ee")]=_0x27ab("0xf6f"),_){case 1:x[_0x27ab("0xea")][_0x27ab("0x184")]=b+"px",x[_0x27ab("0xea")][_0x27ab("0x183")]=a+"px";break;case 2:x[_0x27ab("0xea")][_0x27ab("0x185")]=b+"px",x[_0x27ab("0xea")][_0x27ab("0x183")]=a+"px";break;case 3:x[_0x27ab("0xea")][_0x27ab("0x184")]=b+"px",x[_0x27ab("0xea")][_0x27ab("0x6ee")]=a+"px";break;case 4:x[_0x27ab("0xea")][_0x27ab("0x185")]=b+"px",x.style[_0x27ab("0x6ee")]=a+"px"}}},{key:"updateStyle",value:function(x){var a={bgColor:1,borderRadius:1,textColor:2,toggleColor:3,focusBgColor:[4,7],focusTextColor:4,marginBottom:5},b=[{keys:[],getStyle:function(){return"\n                    ."+e+_0x27ab("0xf70")}},{keys:["bgColor","borderRadius"],getStyle:function(){return _0x27ab("0xf71")+e+_0x27ab("0xf72")+e+_0x27ab("0xf73")+e+_0x27ab("0xf74")+i.bgColor+_0x27ab("0xf75")+i[_0x27ab("0xcaf")]+_0x27ab("0xf76")}},{keys:[_0x27ab("0xf77")],getStyle:function(){return _0x27ab("0xf78")+e+_0x27ab("0xf79")+i[_0x27ab("0xf77")]+";\n                    }\n                    "}},{keys:[_0x27ab("0xf7a")],getStyle:function(){return"."+e+_0x27ab("0xf7b")+e+_0x27ab("0xf7c")+e+_0x27ab("0xf7d")+e+_0x27ab("0xf7e")+e+_0x27ab("0xf7f")+i.toggleColor+_0x27ab("0xf80")}},{keys:[_0x27ab("0xf81"),_0x27ab("0xf82")],getStyle:function(){return"\n                    ."+e+_0x27ab("0xf83")+i.focusBgColor+_0x27ab("0xf84")+i.focusTextColor+_0x27ab("0xf85")}},{keys:[_0x27ab("0xf86")],getStyle:function(){return"\n                    ."+e+_0x27ab("0xf72")+e+_0x27ab("0xf87")+i[_0x27ab("0xf86")]+_0x27ab("0xf88")}},{keys:[_0x27ab("0xb9e")],getStyle:function(){return _0x27ab("0xf89")+e+_0x27ab("0xf8a")+i[_0x27ab("0xb9e")]+"px;\n                    }\n                    "}},{keys:[_0x27ab("0xf81")],getStyle:function(){return"\n                    ."+e+_0x27ab("0xf8b")+i[_0x27ab("0xf81")]+_0x27ab("0xf85")}}],e=this[_0x27ab("0xf8c")];(0,_[_0x27ab("0xb")])(this[_0x27ab("0x9f8")],x);var t=[],i=this[_0x27ab("0x9f8")];for(var n in x)if(a[n]){var r=[][_0x27ab("0x1ec")](a[n]);for(var s in r){var o=r[s];if(!t.includes(o)){var c=b[o][_0x27ab("0xf8d")]();this[_0x27ab("0xf8e")][_0x27ab("0xf8f")](o),this[_0x27ab("0xf8e")][_0x27ab("0xf90")](c,o),t[_0x27ab("0x1")](o)}}}}},{key:_0x27ab("0xf91"),value:function(x){2==x||(this[_0x27ab("0xf92")][_0x27ab("0xea")][_0x27ab("0x184")]=_0x27ab("0xf6f"));var a=this[_0x27ab("0xf93")];this[_0x27ab("0x9f8")][_0x27ab("0xf6e")]&&(this.$controlWrapper.style[_0x27ab("0x1b7")]=x*a-0+"px"),this[_0x27ab("0x9f8")][_0x27ab("0xf6a")]=x}},{key:_0x27ab("0xb2"),value:function(){this[_0x27ab("0xf94")]&&(this.map[_0x27ab("0x614")][_0x27ab("0xb44")].domElement.removeChild(this[_0x27ab("0xf94")]),this[_0x27ab("0xf94")]=null),this[_0x27ab("0xf6c")]=!0,this[_0x27ab("0x4b")]=null}},{key:_0x27ab("0xf95"),value:function(x){var a=this,b=this[_0x27ab("0xf93")];this.$expands={};var _=document[_0x27ab("0x20")](_0x27ab("0x3a3"));_.style.width=b+"px",_[_0x27ab("0xea")][_0x27ab("0x1b7")]=b+"px",_[_0x27ab("0xea")][_0x27ab("0x32e")]=_0x27ab("0xf96"),_.style.cursor=_0x27ab("0xf97"),_[_0x27ab("0xea")][_0x27ab("0x330")]=_0x27ab("0x331"),_[_0x27ab("0x3ba")]=_0x27ab("0xf98"),_[_0x27ab("0xea")].display=_0x27ab("0x329"),_[_0x27ab("0xea")][_0x27ab("0x32a")]="center",_.style[_0x27ab("0xf99")]="column";var e=document.createElement(_0x27ab("0x3a3"));e[_0x27ab("0xea")].width=_0x27ab("0x327"),e.style[_0x27ab("0x1b7")]=_0x27ab("0x327"),e[_0x27ab("0x3ba")]=_0x27ab("0xf9a"),e.style[_0x27ab("0x328")]=_0x27ab("0xf9b"),e[_0x27ab("0x332")]=this[_0x27ab("0xf9c")],_[_0x27ab("0x24")](e),this.expandIcon=e;var t=document[_0x27ab("0x20")]("div");t[_0x27ab("0xea")][_0x27ab("0x326")]=_0x27ab("0x327"),t.style.height="100%",t[_0x27ab("0xea")].display=_0x27ab("0x591"),t[_0x27ab("0x332")]=this[_0x27ab("0xf9d")],t[_0x27ab("0x3ba")]=_0x27ab("0xf9e"),this.shrinkIcon=t,_[_0x27ab("0x24")](t),_.addEventListener("mousedown",(function(x){x[_0x27ab("0x388")](),x[_0x27ab("0x3a7")]()})),_[_0x27ab("0x2f")]("mouseup",(function(x){x[_0x27ab("0x388")](),x[_0x27ab("0x3a7")](),a.toggleExpanded()})),_[_0x27ab("0x2f")](_0x27ab("0xbd0"),(function(x){a[_0x27ab("0xf9f")]()})),x[_0x27ab("0x24")](_),this[_0x27ab("0xfa0")]=_}},{key:_0x27ab("0xf9f"),value:function(){this[_0x27ab("0xf93")];this[_0x27ab("0xf6b")]?(this[_0x27ab("0x4b")][_0x27ab("0xfa1")](0),this[_0x27ab("0xfa2")].style.display=_0x27ab("0xf9b"),this[_0x27ab("0xfa3")][_0x27ab("0xea")][_0x27ab("0x328")]="none"):(this[_0x27ab("0x4b")][_0x27ab("0xfa1")](this.configs[_0x27ab("0xf62")]),this.expandIcon[_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab("0x591"),this[_0x27ab("0xfa3")][_0x27ab("0xea")].display="inline-block"),this[_0x27ab("0xf6b")]=!this.expanded}},{key:"init",value:function(){var x=this,a=this[_0x27ab("0x37")],b=this.building;this.icon2d=_0x27ab("0xfa4"),this.icon3d=_0x27ab("0xfa5"),this[_0x27ab("0xfa6")]='<svg t="1635142718292" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21259" width="100%" height="100%"><path d="M1024 512c0-23.68-13.44-43.52-32.64-54.4l0.64-0.64-448-256-0.64 0.64C533.76 195.84 523.52 192 512 192s-21.76 3.84-31.36 9.6l-0.64-1.28-448 256 0.64 0.64C13.44 468.48 0 488.32 0 512s13.44 43.52 32.64 54.4l-0.64 0.64 448 256 0.64-0.64c9.6 5.76 19.84 9.6 31.36 9.6s21.76-3.84 31.36-9.6l0.64 0.64 448-256-0.64-0.64c19.2-10.88 32.64-30.72 32.64-54.4z" p-id="21260" ></path></svg>',this[_0x27ab("0xfa7")]=_0x27ab("0xfa8"),this[_0x27ab("0xfa9")]=_0x27ab("0xfaa"),this[_0x27ab("0xf9c")]=_0x27ab("0xfab"),this[_0x27ab("0xf9d")]='<svg t="1655692195637" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3054" width="100%" height="100%"><path d="M576 448l416 0-160-160 192-192-96-96-192 192-160-160z" p-id="3055"></path><path d="M576 576l0 416 160-160 192 192 96-96-192-192 160-160z" p-id="3056"></path><path d="M448 576l-416 0 160 160-192 192 96 96 192-192 160 160z" p-id="3057"></path><path d="M448 448l0-416-160 160-192-192-96 96 192 192-160 160z" p-id="3058"></path></svg>',this[_0x27ab("0xfac")]=_0x27ab("0xfad");var _=b[_0x27ab("0x62c")][_0x27ab("0x416")]((function(x,a){return x-a})),e=this[_0x27ab("0x9f8")];e.scrollMode||(_=b[_0x27ab("0x62c")].sort((function(x,a){return a-x})));var t=this[_0x27ab("0xf93")],n="F"+(0,i[_0x27ab("0x1a")])(5),r=document[_0x27ab("0x20")]("style");r.type="text/css",r[_0x27ab("0x332")]="\n        ."+n+_0x27ab("0xfae")+n+_0x27ab("0xf72")+n+_0x27ab("0xf73")+n+_0x27ab("0xfaf")+e[_0x27ab("0x92a")]+_0x27ab("0xfb0")+e[_0x27ab("0xcaf")]+_0x27ab("0xfb1")+n+_0x27ab("0xfb2")+e[_0x27ab("0xf77")]+_0x27ab("0xfb3")+n+" .layer , ."+n+_0x27ab("0xf7c")+n+_0x27ab("0xf7d")+n+_0x27ab("0xfb4")+n+_0x27ab("0xfb5")+e[_0x27ab("0xf7a")]+_0x27ab("0xfb3")+n+_0x27ab("0xfb6")+e[_0x27ab("0xf81")]+_0x27ab("0xfb7")+e.focusTextColor+_0x27ab("0xfb3")+n+" .layersToggle , ."+n+_0x27ab("0xfb8")+e.marginBottom+_0x27ab("0xfb9")+n+_0x27ab("0xfba")+e.textSize+"px;\n        }\n        ."+n+" .arrows {\n            fill:"+e.focusBgColor+";\n        }\n    ",this[_0x27ab("0xf8c")]=n,document[_0x27ab("0xfbb")](_0x27ab("0xfbc"))[_0x27ab("0x24")](r),this[_0x27ab("0xf8e")]=r[_0x27ab("0xfbd")];var s=document[_0x27ab("0x20")](_0x27ab("0x3a3"));s[_0x27ab("0x3ba")]=n,s[_0x27ab("0xea")][_0x27ab("0xc3")]="absolute",s[_0x27ab("0xea")][_0x27ab("0x703")]=_0x27ab("0xfbe"),s.style.display=_0x27ab("0xfbf"),s[_0x27ab("0xea")][_0x27ab("0x330")]=_0x27ab("0x331"),e[_0x27ab("0x24b")]&&(s[_0x27ab("0xea")][_0x27ab("0x398")]=_0x27ab("0xfc0")+e[_0x27ab("0x24b")]+")"),s[_0x27ab("0x2f")](_0x27ab("0x3a5"),(function(x){x[_0x27ab("0x388")]()}));var o=document[_0x27ab("0x20")](_0x27ab("0x3a3"));o[_0x27ab("0xea")][_0x27ab("0x326")]=t+"px",o[_0x27ab("0xea")][_0x27ab("0x1b7")]=t+"px",o[_0x27ab("0xea")][_0x27ab("0x32e")]=_0x27ab("0xf96"),o.style.cursor="pointer",o.style[_0x27ab("0x330")]=_0x27ab("0x331"),o[_0x27ab("0x3ba")]=_0x27ab("0xf98");var c=b[_0x27ab("0xf5")].length==b.floorNums.length;b[_0x27ab("0x37")][_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x1f1")]?x.allFloorsState=c:2==b.map.options[_0x27ab("0xcef")]&&(x[_0x27ab("0xfc1")]=!0);var l=document[_0x27ab("0x20")](_0x27ab("0x3a3"));l.style.width=_0x27ab("0x327"),l[_0x27ab("0xea")].height=_0x27ab("0x327"),l.className=_0x27ab("0x9e7"),l[_0x27ab("0xea")][_0x27ab("0x328")]=c?_0x27ab("0xf9b"):"none",l[_0x27ab("0x332")]=this[_0x27ab("0xfa7")],o.appendChild(l),this[_0x27ab("0xfc2")]=o,this[_0x27ab("0xfc3")]=l;var f=document[_0x27ab("0x20")](_0x27ab("0x3a3"));f[_0x27ab("0xea")].width=_0x27ab("0x327"),f.style[_0x27ab("0x1b7")]=_0x27ab("0x327"),f[_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab(c?"0x591":"0xf9b"),f[_0x27ab("0x332")]=this[_0x27ab("0xfa6")],f[_0x27ab("0x3ba")]="layer";var u=1==_[_0x27ab("0x0")];o[_0x27ab("0x24")](f),this.layerImage=f,o[_0x27ab("0x2f")]("mousedown",(function(x){x[_0x27ab("0x3a7")](),x[_0x27ab("0x388")]()})),o.addEventListener(_0x27ab("0x73c"),(function(a){x[_0x27ab("0xf65")]||(a.preventDefault(),a[_0x27ab("0x388")](),x[_0x27ab("0xfc4")](!x[_0x27ab("0xfc1")]))})),o[_0x27ab("0x2f")]("touchstart",(function(a){x[_0x27ab("0xf65")]||(a.preventDefault(),a[_0x27ab("0x388")]())})),o[_0x27ab("0x2f")](_0x27ab("0xbd0"),(function(a){a[_0x27ab("0x3a7")](),a[_0x27ab("0x388")](),x.setAllFloorState(!x.allFloorsState)})),u&&(o[_0x27ab("0xea")].display=_0x27ab("0x591")),this.viewModeState=a[_0x27ab("0x9dc")];var d=document[_0x27ab("0x20")](_0x27ab("0x3a3"));d.style[_0x27ab("0x326")]=t+"px",d[_0x27ab("0xea")][_0x27ab("0x1b7")]=t+"px",d.style[_0x27ab("0x32e")]="8px",d[_0x27ab("0xea")][_0x27ab("0xfc5")]="pointer",d[_0x27ab("0xea")][_0x27ab("0x330")]=_0x27ab("0x331"),d[_0x27ab("0x3ba")]=_0x27ab("0xfc6");var h=this[_0x27ab("0xfc7")],g=h==_0x27ab("0x184")||"2d"==h,v=document[_0x27ab("0x20")](_0x27ab("0x3a3"));v[_0x27ab("0xea")].width=_0x27ab("0x327"),v.style[_0x27ab("0x1b7")]=_0x27ab("0x327"),v[_0x27ab("0x3ba")]=_0x27ab("0xf9a"),v[_0x27ab("0xea")].display=g?_0x27ab("0xf9b"):"none",v[_0x27ab("0x332")]=this[_0x27ab("0xfc8")],d[_0x27ab("0x24")](v),this[_0x27ab("0xf9a")]=v;var p=document[_0x27ab("0x20")](_0x27ab("0x3a3"));p[_0x27ab("0xea")][_0x27ab("0x326")]="100%",p[_0x27ab("0xea")][_0x27ab("0x1b7")]=_0x27ab("0x327"),p[_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab(g?"0x591":"0xf9b"),p[_0x27ab("0x332")]=this.icon3d,p[_0x27ab("0x3ba")]=_0x27ab("0xf9e"),d[_0x27ab("0x24")](p),this[_0x27ab("0xf9e")]=p,d[_0x27ab("0x2f")]("mousedown",(function(x){x[_0x27ab("0x3a7")](),x.stopPropagation()})),d[_0x27ab("0x2f")](_0x27ab("0x73c"),(function(a){x[_0x27ab("0xf65")]||(a[_0x27ab("0x3a7")](),a[_0x27ab("0x388")](),x.toggleViewModeState())})),d[_0x27ab("0x2f")](_0x27ab("0xb54"),(function(a){x[_0x27ab("0xf65")]||(a[_0x27ab("0x3a7")](),a[_0x27ab("0x388")]())})),d.addEventListener(_0x27ab("0xbd0"),(function(a){a.preventDefault(),a.stopPropagation(),x[_0x27ab("0xfc9")]()})),e[_0x27ab("0xfca")]&&s[_0x27ab("0x24")](d),e.fnumToggleBtn&&s[_0x27ab("0x24")](o),!u&&e[_0x27ab("0xfcb")]&&this[_0x27ab("0xf95")](s),this[_0x27ab("0xf94")]=s,this[_0x27ab("0x9f8")][_0x27ab("0xfcc")]&&a[_0x27ab("0x34")]===esmap[_0x27ab("0x39")][_0x27ab("0x3a")]&&this[_0x27ab("0xfcd")]();var A=document[_0x27ab("0x20")]("div");A[_0x27ab("0x3ba")]="controlWrapper",A[_0x27ab("0xea")][_0x27ab("0x326")]=t+"px",A[_0x27ab("0xea")][_0x27ab("0x6dc")]=_0x27ab("0x6dd"),A[_0x27ab("0xea")][_0x27ab("0xcb7")]=_0x27ab("0x591"),A[_0x27ab("0xea")].display="flex",A[_0x27ab("0xea")][_0x27ab("0x32b")]=_0x27ab("0xed"),A[_0x27ab("0xea")][_0x27ab("0x32a")]=_0x27ab("0xed"),A[_0x27ab("0xea")][_0x27ab("0x20e")]=_0x27ab("0xfce"),A[_0x27ab("0xea")][_0x27ab("0x20e")]=_0x27ab("0xfce"),A[_0x27ab("0xea")][_0x27ab("0xfcf")]=_0x27ab("0xfce"),A[_0x27ab("0xea")][_0x27ab("0xfd0")]=_0x27ab("0xfd1"),A[_0x27ab("0xea")][_0x27ab("0xfd2")]="rgba(0,0,0,0)",A[_0x27ab("0xea")][_0x27ab("0xfd3")]=_0x27ab("0xed");var m=document[_0x27ab("0x20")](_0x27ab("0x3a3"));this.$scroller=m,m[_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0x6f3"),m[_0x27ab("0xea")].width="100%",e[_0x27ab("0xf6e")]?m[_0x27ab("0xea")][_0x27ab("0x1b7")]=t+"px":(m[_0x27ab("0xea")].height=_0x27ab("0x327"),A[_0x27ab("0xea")][_0x27ab("0x32e")]=_0x27ab("0xfd4")),this.$controlWrapper=A,this[_0x27ab("0xf91")](e.scrollMode?this.configs.showBtnCount:_[_0x27ab("0x0")]),e[_0x27ab("0xf6e")]&&(m[_0x27ab("0xea")][_0x27ab("0xfd5")]="preserve-3d",m[_0x27ab("0xea")]["-webkit-transform-style"]=_0x27ab("0x6e0")),m[_0x27ab("0x3ba")]=_0x27ab("0xfd6");var C=0,I=5==this[_0x27ab("0x9f8")][_0x27ab("0xf6a")]?2:1;_[_0x27ab("0x0")]>=3&&(I+=2);var y=Math[_0x27ab("0x340")](360/(_[_0x27ab("0x0")]+I),25.714);this[_0x27ab("0xfd7")]=y;var E=b[_0x27ab("0x915")];if(!u){var w=void 0;if(this.configs.scrollMode){w=y<25.714?8*_.length:3==this[_0x27ab("0x9f8")][_0x27ab("0xf6a")]?100:110;var T=document[_0x27ab("0x20")](_0x27ab("0x3a3"));T[_0x27ab("0x3b4")][_0x27ab("0x163")](_0x27ab("0xfd8")),T[_0x27ab("0xea")][_0x27ab("0x1b7")]=t+"px",T[_0x27ab("0xea")][_0x27ab("0xfd9")]=t+"px",T[_0x27ab("0xea")][_0x27ab("0xc3")]="absolute",T[_0x27ab("0xea")][_0x27ab("0x185")]=_0x27ab("0xf6f"),T[_0x27ab("0xea")].boxSizing="border-box",T[_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab("0x329"),T[_0x27ab("0xea")][_0x27ab("0x32a")]=_0x27ab("0xed"),T[_0x27ab("0xea")].alignItems=_0x27ab("0xed"),T[_0x27ab("0xea")][_0x27ab("0xfc5")]="pointer",T.style.width=t+"px";var k=C-y;T[_0x27ab("0xea")]["-webkit-transform"]="rotateX("+k+_0x27ab("0xfda")+w+"px)",T[_0x27ab("0xea")][_0x27ab("0x398")]="rotateX("+k+_0x27ab("0xfda")+w+_0x27ab("0x6f0"),T[_0x27ab("0xea")][_0x27ab("0xfdb")]="hidden",T[_0x27ab("0xea")][_0x27ab("0xfdc")]=_0x27ab("0x6dd"),T.style[_0x27ab("0xfdd")]=_0x27ab("0x6dd"),T[_0x27ab("0xea")][_0x27ab("0xfde")]=_0x27ab("0x6dd"),T[_0x27ab("0x333")](_0x27ab("0x26c"),-y),T[_0x27ab("0x332")]=this[_0x27ab("0xfa9")],T.childNodes[0][_0x27ab("0xea")][_0x27ab("0x398")]="rotate(90deg)",T[_0x27ab("0xfdf")][0][_0x27ab("0xea")].width="40%",T[_0x27ab("0xfdf")][0][_0x27ab("0xea")].height=_0x27ab("0xfe0"),T[_0x27ab("0x2f")](_0x27ab("0x73a"),(function(x){x.preventDefault(),x[_0x27ab("0x388")]()})),T[_0x27ab("0x2f")](_0x27ab("0x73c"),(function(a){if(!(x.tapCount>1)){var b=a[_0x27ab("0xfe1")][_0x27ab("0x1af")](_0x27ab("0x26c"));x[_0x27ab("0xfe2")](b),x[_0x27ab("0xfe3")](b),a[_0x27ab("0x388")](),a.preventDefault()}})),T.addEventListener(_0x27ab("0xbd0"),(function(a){if(!(x.tapCount>1)){var b=a[_0x27ab("0xfe1")][_0x27ab("0x1af")](_0x27ab("0x26c"));x[_0x27ab("0xfe2")](b),x.toggleTargetClass(b),a[_0x27ab("0x388")](),a[_0x27ab("0x3a7")]()}})),m.appendChild(T)}else w=60;for(var S=0;S<_[_0x27ab("0x0")];S++){var M=_[S],R=b.getFloor(M)[_0x27ab("0xf46")],L=document.createElement(_0x27ab("0x3a3"));L.className=_0x27ab("0xfe4"),L[_0x27ab("0xea")][_0x27ab("0x1b7")]=t+"px",L[_0x27ab("0xea")].lineHeight=t+"px",L.style[_0x27ab("0x185")]=_0x27ab("0xf6f"),L[_0x27ab("0xea")][_0x27ab("0x330")]=_0x27ab("0x331"),L[_0x27ab("0xea")][_0x27ab("0x328")]="flex",L[_0x27ab("0xea")][_0x27ab("0x32a")]=_0x27ab("0xed"),L[_0x27ab("0xea")].alignItems=_0x27ab("0xed"),L.style[_0x27ab("0xfc5")]="pointer",L[_0x27ab("0xea")].width=t+"px",e[_0x27ab("0xf6e")]&&(L[_0x27ab("0xea")][_0x27ab("0xfe5")]=_0x27ab("0xfe6")+C+_0x27ab("0xfda")+w+_0x27ab("0x6f0"),L[_0x27ab("0xea")][_0x27ab("0x398")]=_0x27ab("0xfe6")+C+_0x27ab("0xfda")+w+_0x27ab("0x6f0"),L[_0x27ab("0xea")].backfaceVisibility="hidden",L[_0x27ab("0xea")]["-webkit-backface-visibility"]=_0x27ab("0x6dd"),L[_0x27ab("0xea")][_0x27ab("0xfdd")]=_0x27ab("0x6dd"),L[_0x27ab("0xea")][_0x27ab("0xfde")]=_0x27ab("0x6dd"),L[_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0x6d8"),L[_0x27ab("0x333")](_0x27ab("0x26c"),-C)),E==M&&(this[_0x27ab("0xfe2")](-C),L[_0x27ab("0x3ba")]+=_0x27ab("0xfe7")),L[_0x27ab("0x333")](_0x27ab("0xee"),M);var H=document[_0x27ab("0x20")](_0x27ab("0xfe8"));H[_0x27ab("0xfe9")]=R,H.style[_0x27ab("0xfea")]=_0x27ab("0xfeb"),H[_0x27ab("0xea")].width=_0x27ab("0xfec"),H[_0x27ab("0xea")][_0x27ab("0x1b7")]=_0x27ab("0xfec"),H[_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab("0x329"),H[_0x27ab("0xea")][_0x27ab("0x32a")]=_0x27ab("0xed"),H[_0x27ab("0xea")][_0x27ab("0x32b")]="center",H[_0x27ab("0xea")][_0x27ab("0xe6e")]=_0x27ab("0xed"),H[_0x27ab("0xea")][_0x27ab("0xfd9")]=_0x27ab("0x327"),H.style.whiteSpace=_0x27ab("0xfed"),H[_0x27ab("0xea")][_0x27ab("0xcaf")]=_0x27ab("0x327"),H.style.overflow=_0x27ab("0x6dd"),H[_0x27ab("0xea")][_0x27ab("0xb85")]=_0x27ab("0xfee"),H[_0x27ab("0xea")][_0x27ab("0xfef")]=_0x27ab("0xfee"),H[_0x27ab("0x3ba")]=_0x27ab("0xff0"),L[_0x27ab("0x24")](H),m[_0x27ab("0x24")](L),C+=y}if(e[_0x27ab("0xf6e")]){var D=document[_0x27ab("0x20")](_0x27ab("0x3a3"));D[_0x27ab("0x3b4")].add(_0x27ab("0xfd8")),D[_0x27ab("0xea")].height=t+"px",D[_0x27ab("0xea")][_0x27ab("0xfd9")]=t+"px",D.style[_0x27ab("0xc3")]=_0x27ab("0x6d8"),D[_0x27ab("0xea")][_0x27ab("0x185")]=_0x27ab("0xf6f"),D[_0x27ab("0xea")].boxSizing=_0x27ab("0x331"),D[_0x27ab("0xea")][_0x27ab("0x328")]="flex",D[_0x27ab("0xea")][_0x27ab("0x32a")]=_0x27ab("0xed"),D[_0x27ab("0xea")][_0x27ab("0x32b")]=_0x27ab("0xed"),D[_0x27ab("0xea")].cursor=_0x27ab("0xf97"),D.style[_0x27ab("0x326")]=t+"px",D.style[_0x27ab("0xfe5")]=_0x27ab("0xfe6")+C+_0x27ab("0xfda")+w+_0x27ab("0x6f0"),D[_0x27ab("0xea")].transform=_0x27ab("0xfe6")+C+_0x27ab("0xfda")+w+_0x27ab("0x6f0"),D[_0x27ab("0xea")][_0x27ab("0xfdb")]=_0x27ab("0x6dd"),D[_0x27ab("0xea")][_0x27ab("0xfdc")]=_0x27ab("0x6dd"),D[_0x27ab("0xea")][_0x27ab("0xfdd")]=_0x27ab("0x6dd"),D.style[_0x27ab("0xfde")]=_0x27ab("0x6dd"),D.setAttribute("angle",-(C-2*y)),D[_0x27ab("0x332")]=this[_0x27ab("0xfa9")],D[_0x27ab("0xfdf")][0][_0x27ab("0xea")][_0x27ab("0x398")]=_0x27ab("0xff1"),D[_0x27ab("0xfdf")][0][_0x27ab("0xea")].width=_0x27ab("0xfe0"),D[_0x27ab("0xfdf")][0][_0x27ab("0xea")].height="40%",D[_0x27ab("0x2f")](_0x27ab("0x73a"),(function(x){x[_0x27ab("0x3a7")](),x.stopPropagation()})),D[_0x27ab("0x2f")]("mouseup",(function(a){if(!(x.tapCount>1)){var b=a[_0x27ab("0xfe1")][_0x27ab("0x1af")](_0x27ab("0x26c"));x[_0x27ab("0xfe2")](b),x.toggleTargetClass(b),a[_0x27ab("0x388")](),a[_0x27ab("0x3a7")]()}})),D[_0x27ab("0x2f")](_0x27ab("0xbd0"),(function(a){if(!(x[_0x27ab("0xf66")]>1)){var b=a[_0x27ab("0xfe1")][_0x27ab("0x1af")](_0x27ab("0x26c"));x.setTransformAngle(b),x[_0x27ab("0xfe3")](b),a[_0x27ab("0x388")](),a[_0x27ab("0x3a7")]()}})),m[_0x27ab("0x24")](D)}this.$maxAngle=-1*(C-y),this[_0x27ab("0xff2")][_0x27ab("0x24")](m),s.appendChild(A)}a[_0x27ab("0x614")][_0x27ab("0xb44")][_0x27ab("0x6de")][_0x27ab("0x24")](s),this[_0x27ab("0x262")](s),e[_0x27ab("0xf6e")]&&(A[_0x27ab("0xff3")]=this.onScroll[_0x27ab("0xe")](this));for(var P=document[_0x27ab("0xff4")]("floor-item"),O=function(a){if(x[_0x27ab("0xf67")]=!0,!(x.tapCount>1)){var b=a[_0x27ab("0xfe1")];if(e.scrollMode){var _=b[_0x27ab("0x1af")](_0x27ab("0x26c"));x.setTransformAngle(_),x[_0x27ab("0xfe3")](_)}else{var t=b[_0x27ab("0x1af")]("fnum");x[_0x27ab("0xff5")](t),x.changeFocusFloor(t)}a.stopPropagation(),a.preventDefault()}},B=function(a){if(x[_0x27ab("0xf67")]=!0,!(x[_0x27ab("0xf66")]>1)){var b=a[_0x27ab("0xfe1")];if(e[_0x27ab("0xf6e")]){var _=b[_0x27ab("0x1af")](_0x27ab("0x26c")),t=x[_0x27ab("0xf92")];t[_0x27ab("0x3b4")].contains("smooth")||t[_0x27ab("0x3b4")][_0x27ab("0x163")](_0x27ab("0x9cd")),x.setTransformAngle(_),x[_0x27ab("0xfe3")](_)}else{var i=b[_0x27ab("0x1af")](_0x27ab("0xee"));x[_0x27ab("0xff5")](i),x.changeFocusFloor(i)}a.stopPropagation(),a[_0x27ab("0x3a7")]()}},N=0;N<P[_0x27ab("0x0")];N++){var F=P[N];F.addEventListener(_0x27ab("0x73a"),(function(x){x.preventDefault(),x[_0x27ab("0x388")]()})),F[_0x27ab("0x2f")](_0x27ab("0x73c"),O),F[_0x27ab("0x2f")](_0x27ab("0xbd0"),B)}this[_0x27ab("0x22d")]?A[_0x27ab("0x2f")](_0x27ab("0x73a"),this[_0x27ab("0xb58")][_0x27ab("0xe")](this),!1):(e[_0x27ab("0xf6e")]&&(A[_0x27ab("0x2f")]("touchstart",this[_0x27ab("0xb88")][_0x27ab("0xe")](this),!1),A[_0x27ab("0x2f")](_0x27ab("0xb55"),this[_0x27ab("0xff6")].bind(this),!1)),A[_0x27ab("0x2f")](_0x27ab("0xbd0"),this[_0x27ab("0xff7")].bind(this),!1)),b.on("focusFloorNumChanged",(function(a){x[_0x27ab("0xf6c")]||(x[_0x27ab("0xf67")]?x[_0x27ab("0xf67")]=!1:x[_0x27ab("0xff5")](a))})),a.on(_0x27ab("0x957"),(function(a){x[_0x27ab("0xf6c")]||(x[_0x27ab("0xf67")]?x[_0x27ab("0xf67")]=!1:x[_0x27ab("0xff8")](a))})),b.on(_0x27ab("0x13b"),(function(a){x[_0x27ab("0xf6c")]||(a[_0x27ab("0x0")]==b.floorNums[_0x27ab("0x0")]?x[_0x27ab("0xfc4")](!0,!0):x[_0x27ab("0xfc4")](!1,!0))}))}},{key:_0x27ab("0xfcd"),value:function(){var x=this,a=this[_0x27ab("0xf93")],b=document[_0x27ab("0x20")](_0x27ab("0x3a3"));b.style[_0x27ab("0x326")]=a+"px",b[_0x27ab("0xea")][_0x27ab("0x1b7")]=a+"px",b[_0x27ab("0xea")][_0x27ab("0x32e")]=_0x27ab("0xf96"),b[_0x27ab("0xea")].cursor="pointer",b.style[_0x27ab("0x330")]=_0x27ab("0x331"),b[_0x27ab("0x3ba")]=_0x27ab("0xf98");var _=document[_0x27ab("0x20")](_0x27ab("0x3a3"));_[_0x27ab("0xea")][_0x27ab("0x326")]=_0x27ab("0x327"),_[_0x27ab("0xea")][_0x27ab("0x1b7")]="100%",_[_0x27ab("0xea")][_0x27ab("0x328")]="inline-block",_[_0x27ab("0x3ba")]=_0x27ab("0xa66"),_[_0x27ab("0x332")]=this[_0x27ab("0xfac")],b[_0x27ab("0x24")](_),b[_0x27ab("0x2f")](_0x27ab("0x73a"),(function(x){x[_0x27ab("0x3a7")](),x[_0x27ab("0x388")]()})),b[_0x27ab("0x2f")](_0x27ab("0x73c"),(function(a){a[_0x27ab("0x3a7")](),a[_0x27ab("0x388")]();var b=x.building;!esmap[_0x27ab("0x32")][_0x27ab("0x990")]&&b[_0x27ab("0x37")].closeBuildingById(b.id),x[_0x27ab("0xb2")]()})),b[_0x27ab("0x2f")](_0x27ab("0xb54"),(function(a){var b=x[_0x27ab("0x4b")];a[_0x27ab("0x388")](),a.preventDefault(),!esmap.ESMap[_0x27ab("0x990")]&&b.map.closeBuildingById(b.id),x[_0x27ab("0xb2")]()})),this[_0x27ab("0xf94")][_0x27ab("0x24")](b)}},{key:_0x27ab("0xff8"),value:function(x){"2D"==x?(this[_0x27ab("0xf9a")][_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab("0xf9b"),this[_0x27ab("0xf9e")][_0x27ab("0xea")].display="none"):(this[_0x27ab("0xf9e")][_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab("0xf9b"),this[_0x27ab("0xf9a")][_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab("0x591")),this[_0x27ab("0xfc7")]=x}},{key:_0x27ab("0xfc9"),value:function(x){var a="3D"==this[_0x27ab("0xfc7")]?"2D":"3D";this.setViewModeState(a),this[_0x27ab("0xfc1")]&&this[_0x27ab("0xfc4")](!1,!1),!x&&this[_0x27ab("0xff9")](a)}},{key:"setMapViewMode",value:function(x){window[_0x27ab("0x42a")][_0x27ab("0xab2")]?esmap[_0x27ab("0x9ae")][_0x27ab("0x1fe")]=x:this[_0x27ab("0x37")][_0x27ab("0x1fe")]=x}},{key:"setAllFloorState",value:function(x,a){var b=this[_0x27ab("0x4b")],_=this.map[_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]||1==this[_0x27ab("0x37")].options[_0x27ab("0xcef")];x!=this[_0x27ab("0xfc1")]&&(x?("2D"!=this[_0x27ab("0xfc7")]&&this[_0x27ab("0xfc7")]!=_0x27ab("0x184")||this[_0x27ab("0xff9")]("3D"),_&&!a&&(b[_0x27ab("0xf5")]=b[_0x27ab("0x62c")]),this[_0x27ab("0xffa")][_0x27ab("0xea")].display=_0x27ab("0x591"),this[_0x27ab("0xfc3")][_0x27ab("0xea")].display="inline-block",this[_0x27ab("0xfc1")]=!0):(_&&!a&&(b[_0x27ab("0xf5")]=[b[_0x27ab("0x915")]]),this[_0x27ab("0xfc3")].style[_0x27ab("0x328")]="none",this[_0x27ab("0xffa")][_0x27ab("0xea")][_0x27ab("0x328")]="inline-block",this.allFloorsState=!1))}},{key:_0x27ab("0xffb"),value:function(x){window.clearTimeout(this.timer2);var a=this,b=this.$scroller,_=0;x[_0x27ab("0xffc")]?x.wheelDelta<0?_+=10:_-=10:x[_0x27ab("0x36")];var e=-1*b.style[_0x27ab("0x398")][_0x27ab("0x2db")](/[0-9]\d*/)[0],t=this[_0x27ab("0xffd")](e+_);b[_0x27ab("0xea")][_0x27ab("0x398")]=_0x27ab("0xfe6")+t+_0x27ab("0xffe"),this[_0x27ab("0xf64")]||(this[_0x27ab("0xf64")]=!0),a[_0x27ab("0xf63")]=setTimeout((function(){a.onmouseup[_0x27ab("0x3")](a)}),300)}},{key:_0x27ab("0xfff"),value:function(){for(var x=document.getElementsByClassName(_0x27ab("0xfe4")),a=0;a<x[_0x27ab("0x0")];a++){var b=x[a];if(b[_0x27ab("0x3b4")][_0x27ab("0x3b5")](_0x27ab("0x1000")))return 1*b[_0x27ab("0x1af")](_0x27ab("0x26c"))}}},{key:_0x27ab("0xfe2"),value:function(x){this.configs[_0x27ab("0xf6e")]&&(this[_0x27ab("0xf92")][_0x27ab("0xea")][_0x27ab("0x398")]="rotateX("+x+"deg)")}},{key:_0x27ab("0x1001"),value:function(){return-1*this[_0x27ab("0xf92")][_0x27ab("0xea")][_0x27ab("0x398")][_0x27ab("0x2db")](/[0-9]\d*/)[0]}},{key:_0x27ab("0xb88"),value:function(x){this[_0x27ab("0xf65")]=!0,x[_0x27ab("0x388")](),this[_0x27ab("0xf66")]=0,this[_0x27ab("0xf64")]=!0,this[_0x27ab("0x1002")]=x[_0x27ab("0xb75")]?x.touches[0][_0x27ab("0x72c")]:x[_0x27ab("0x72c")],this[_0x27ab("0x1003")]=this[_0x27ab("0x1001")]()}},{key:"onmousedown",value:function(x){x[_0x27ab("0x3a7")](),x[_0x27ab("0x388")]()}},{key:_0x27ab("0xff6"),value:function(x){if(!this[_0x27ab("0xf6c")]&&(x.preventDefault(),x[_0x27ab("0x388")](),this.tapCount++,this.taped)){var a=this.$scroller;a[_0x27ab("0x3b4")][_0x27ab("0x3b5")](_0x27ab("0x9cd"))&&a[_0x27ab("0x3b4")].remove(_0x27ab("0x9cd"));var b=x[_0x27ab("0xb75")]?x.touches[0][_0x27ab("0x72c")]:x[_0x27ab("0x72c")];b>this[_0x27ab("0x1002")]?1:-1;var _=this.tapedPos-b,e=this[_0x27ab("0xffd")](_+this[_0x27ab("0x1003")]);this[_0x27ab("0xfe2")](e)}}},{key:"onmousemove",value:function(x){if(!this.disposed&&this.taped){x[_0x27ab("0x3a7")](),x[_0x27ab("0x388")](),this[_0x27ab("0xf66")]++;var a=this[_0x27ab("0xf92")];a[_0x27ab("0x3b4")][_0x27ab("0x3b5")](_0x27ab("0x9cd"))&&a.classList[_0x27ab("0x158")](_0x27ab("0x9cd"));var b=x[_0x27ab("0xb75")]?x[_0x27ab("0xb75")][0][_0x27ab("0x72c")]:x.pageY,_=this.tapedPos-b,e=this.limitValue(_+this[_0x27ab("0x1003")]);this[_0x27ab("0xfe2")](e)}}},{key:_0x27ab("0xff7"),value:function(x){if(!this[_0x27ab("0xf6c")]){x&&(x[_0x27ab("0x388")](),x[_0x27ab("0x3a7")]());var a=this[_0x27ab("0xf92")];a[_0x27ab("0x3b4")].contains(_0x27ab("0x9cd"))||a[_0x27ab("0x3b4")][_0x27ab("0x163")](_0x27ab("0x9cd")),this[_0x27ab("0xf64")]=!1,this[_0x27ab("0x1002")]=null,this.tapedAngle=null,this[_0x27ab("0x1004")](),this[_0x27ab("0xf65")]=!1}}},{key:_0x27ab("0xb5a"),value:function(x){if(!this[_0x27ab("0xf6c")]&&this[_0x27ab("0xf64")]){x&&(x.stopPropagation(),x[_0x27ab("0x3a7")]());var a=this[_0x27ab("0xf92")];a.classList[_0x27ab("0x3b5")](_0x27ab("0x9cd"))||a[_0x27ab("0x3b4")][_0x27ab("0x163")](_0x27ab("0x9cd")),this[_0x27ab("0xf64")]=!1,this[_0x27ab("0x1002")]=null,this.tapedAngle=null,this.checkPos(),this[_0x27ab("0xf65")]=!1}}},{key:"limitValue",value:function(x){return x>0?x=0:x<this[_0x27ab("0x1005")]&&(x=this[_0x27ab("0x1005")]),x}},{key:_0x27ab("0xff5"),value:function(x){for(var a=document[_0x27ab("0xff4")](_0x27ab("0xfe4")),b=0;b<a.length;b++){var _=a[b];if(1*_[_0x27ab("0x1af")](_0x27ab("0xee"))==x){if(!_[_0x27ab("0x3b4")][_0x27ab("0x3b5")](_0x27ab("0x1000"))){var e=_[_0x27ab("0x1af")]("angle");_[_0x27ab("0x3b4")][_0x27ab("0x163")](_0x27ab("0x1000")),this.setTransformAngle(e)}}else _[_0x27ab("0x3b4")][_0x27ab("0x3b5")](_0x27ab("0x1000"))&&_[_0x27ab("0x3b4")][_0x27ab("0x158")](_0x27ab("0x1000"))}}},{key:_0x27ab("0xfe3"),value:function(x){for(var a=document[_0x27ab("0xff4")](_0x27ab("0xfe4")),b=!1,_=0;_<a[_0x27ab("0x0")];_++){var e=a[_],t=e[_0x27ab("0x1af")](_0x27ab("0x26c"));if(Math[_0x27ab("0x274")]((0,n[_0x27ab("0x1006")])(x))==Math.abs((0,n.toDecimal5)(t))){if(b=!0,!e.classList.contains(_0x27ab("0x1000"))){var i=e.getAttribute(_0x27ab("0xee"));e[_0x27ab("0x3b4")][_0x27ab("0x163")](_0x27ab("0x1000")),this.changeFocusFloor(i)}}else e.classList[_0x27ab("0x3b5")]("active")&&e.classList[_0x27ab("0x158")](_0x27ab("0x1000"))}if(!b&&x>200){var r=a[a.length-1];if(!r[_0x27ab("0x3b4")][_0x27ab("0x3b5")](_0x27ab("0x1000"))){r[_0x27ab("0x3b4")][_0x27ab("0x163")](_0x27ab("0x1000"));var s=r[_0x27ab("0x1af")](_0x27ab("0xee"));this.changeFocusFloor(s)}}}},{key:_0x27ab("0xa08"),value:function(x){x*=1;var a=this.building;if(this[_0x27ab("0x4b")][_0x27ab("0x37")][_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]){var b=a[_0x27ab("0x62c")][_0x27ab("0x416")]((function(x,a){}))[_0x27ab("0xf")](0,x);2==this[_0x27ab("0x4b")][_0x27ab("0x33")][_0x27ab("0x1007")]?a[_0x27ab("0xf5")]=b:a[_0x27ab("0xf5")]=[x]}else this.allFloorsState||(a[_0x27ab("0xf5")]=[x]);a[_0x27ab("0x915")]=x}},{key:_0x27ab("0x1004"),value:function(){for(var x=1*this[_0x27ab("0xf92")][_0x27ab("0xea")][_0x27ab("0x398")].match(/[0-9]\d*/)[0],a=document[_0x27ab("0xff4")](_0x27ab("0xfe4")),b=null,_=0;_<a[_0x27ab("0x0")];_++){var e=a[_][_0x27ab("0x1af")](_0x27ab("0x26c"));if(b){var t=Math[_0x27ab("0x274")](Math.abs(1*e)-Math[_0x27ab("0x274")](x));Math[_0x27ab("0x274")](t)<Math.abs(b[_0x27ab("0x63d")])&&(b.dis=t,b[_0x27ab("0xc18")]=_,b[_0x27ab("0x26c")]=1*e)}else b={dis:Math[_0x27ab("0x274")](Math[_0x27ab("0x274")](1*e)-Math[_0x27ab("0x274")](x)),ind:_,angle:1*e}}this[_0x27ab("0xfe2")](b[_0x27ab("0x26c")]),this[_0x27ab("0xfe3")](b[_0x27ab("0x26c")])}},{key:"x",get:function(){return this[_0x27ab("0x9f8")][_0x27ab("0x143")].x},set:function(x){this[_0x27ab("0x9f8")].offset.x=x,this[_0x27ab("0x262")](this.$box)}},{key:"y",get:function(){return this[_0x27ab("0x9f8")][_0x27ab("0x143")].y},set:function(x){this[_0x27ab("0x9f8")].offset.y=x,this.setPosition(this.$box)}},{key:_0x27ab("0xc3"),get:function(){return this[_0x27ab("0x9f8")][_0x27ab("0xc3")]},set:function(x){this.configs[_0x27ab("0xc3")]=x,this[_0x27ab("0x262")](this[_0x27ab("0xf94")])}},{key:_0x27ab("0xf6"),set:function(x){this[_0x27ab("0xf94")][_0x27ab("0xea")].display=x?"block":_0x27ab("0x591")},get:function(){return"block"==this[_0x27ab("0xf94")][_0x27ab("0xea")].display}}]),x}();a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(a,b){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x424")]=new(esmap[_0x27ab("0x5cd")])(b),this[_0x27ab("0x424")][_0x27ab("0xaf9")],this.w_=42,this.h_=42,this[_0x27ab("0x1008")]=0,this.x_=this[_0x27ab("0x424")][_0x27ab("0x143")].x,this.y_=this[_0x27ab("0x424")].offset.y,this[_0x27ab("0x1009")]=this[_0x27ab("0x424")][_0x27ab("0x100a")],this[_0x27ab("0x1009")]?this.viewMode_=_0x27ab("0x184"):this[_0x27ab("0x9dc")]="3d",this[_0x27ab("0x100b")]=!!this.options_.initFloors&&this.options_[_0x27ab("0x100c")],this[_0x27ab("0x100d")]=this[_0x27ab("0x100b")],this[_0x27ab("0x100e")]=10,this[_0x27ab("0x418")]=!0,this.positon_=this[_0x27ab("0x424")][_0x27ab("0xc3")]?this[_0x27ab("0x424")].position:3,this[_0x27ab("0x100f")]=20,this.left_=10,this.right_=10,this.expand_=!!this[_0x27ab("0x424")][_0x27ab("0xf6b")]&&this[_0x27ab("0x424")][_0x27ab("0xf6b")],this.defaultShadow_=_0x27ab("0x1010"),this[_0x27ab("0x1011")]="2px",this.imgURL_=this[_0x27ab("0x424")][_0x27ab("0xf60")],a&&(this[_0x27ab("0x37")]=a,this.init(a))}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0x31"),value:function(x){var a=document[_0x27ab("0x20")](_0x27ab("0x3a3"));a[_0x27ab("0x333")](_0x27ab("0x334"),_0x27ab("0x1012")),a[_0x27ab("0xea")][_0x27ab("0x703")]=10,a[_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0x6d8"),a[_0x27ab("0xea")][_0x27ab("0x1b7")]=this.h_+"px",a[_0x27ab("0xea")].width=this.w_+"px",a[_0x27ab("0xea")][_0x27ab("0xfc5")]=_0x27ab("0xf97"),a.style[_0x27ab("0x32c")]="white",a.style[_0x27ab("0x1013")]=this[_0x27ab("0x1014")],a[_0x27ab("0xea")][_0x27ab("0xcaf")]=this.defaultRadius_,this[_0x27ab("0x1015")]?a[_0x27ab("0xea")].background=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x1018"):a.style[_0x27ab("0xa1b")]=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x1019"),a.onclick=this[_0x27ab("0x101a")][_0x27ab("0xe")](this);var b=document[_0x27ab("0x20")](_0x27ab("0x3a3"));b[_0x27ab("0x333")](_0x27ab("0x334"),_0x27ab("0x101b")),b[_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0x6d8"),b[_0x27ab("0xea")][_0x27ab("0x328")]=this.expand_?_0x27ab("0xfbf"):_0x27ab("0x591");var _=document.createElement(_0x27ab("0x3a3"));_[_0x27ab("0x333")]("class",_0x27ab("0x101c")),_[_0x27ab("0xea")][_0x27ab("0x1b7")]=this.h_+"px",_[_0x27ab("0xea")][_0x27ab("0x326")]=this.w_+"px",_[_0x27ab("0xea")].padding=this[_0x27ab("0x1008")]+"px",_[_0x27ab("0xea")].cursor="pointer",_[_0x27ab("0xea")][_0x27ab("0x1013")]=this[_0x27ab("0x1014")],_[_0x27ab("0xea")][_0x27ab("0xcaf")]=this[_0x27ab("0x1011")],this[_0x27ab("0x1009")]?_.style[_0x27ab("0xa1b")]=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x101d"):_[_0x27ab("0xea")][_0x27ab("0xa1b")]=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+"3D.png) no-repeat 50% 50%",_[_0x27ab("0xea")][_0x27ab("0x32c")]=_0x27ab("0x32d"),_[_0x27ab("0x101e")]=this[_0x27ab("0x101f")][_0x27ab("0xe")](this);var e=document.createElement(_0x27ab("0x3a3"));e[_0x27ab("0x333")](_0x27ab("0x334"),"tool-floor-btn"),e[_0x27ab("0xea")].height=this.h_+"px",e[_0x27ab("0xea")][_0x27ab("0x326")]=this.w_+"px",e.style[_0x27ab("0x32e")]=this[_0x27ab("0x1008")]+"px",e[_0x27ab("0xea")][_0x27ab("0x1020")]=this.defaultPadding_+"px",e[_0x27ab("0xea")][_0x27ab("0xfc5")]=_0x27ab("0xf97"),e.style[_0x27ab("0x1013")]=this[_0x27ab("0x1014")],e[_0x27ab("0xea")][_0x27ab("0xcaf")]=this[_0x27ab("0x1011")],this[_0x27ab("0x100b")]?e[_0x27ab("0xea")][_0x27ab("0xa1b")]=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x1021"):e.style.background=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x1022"),e.onclick=this[_0x27ab("0x1023")][_0x27ab("0xe")](this),b.appendChild(_),b.appendChild(e);var t=x[_0x27ab("0x614")][_0x27ab("0xaf5")][_0x27ab("0x1024")](_0x27ab("0x8fe"))[0];x[_0x27ab("0x614")][_0x27ab("0xaf5")].insertBefore(a,t),x[_0x27ab("0x614")][_0x27ab("0xaf5")][_0x27ab("0x1025")](b,t),this[_0x27ab("0x1026")](a),this[_0x27ab("0x1026")](b,this.h_),this[_0x27ab("0x1027")]()}},{key:_0x27ab("0x1027"),value:function(){if(this[_0x27ab("0x37")]){var x=this;this[_0x27ab("0x37")].on("update",(function(){var a=document[_0x27ab("0xfbb")](_0x27ab("0x1028")),b=document[_0x27ab("0xfbb")](_0x27ab("0x1029"));x[_0x27ab("0x1026")](a),x.setPosition_(b,x.h_)}))}}},{key:_0x27ab("0x1026"),value:function(x,a){switch(this[_0x27ab("0x102a")]){case 1:a?x[_0x27ab("0xea")][_0x27ab("0x184")]=this[_0x27ab("0x100f")]+a+this[_0x27ab("0x100e")]+this.y_+"px":x.style[_0x27ab("0x184")]=this[_0x27ab("0x100f")]+this.y_+"px",x[_0x27ab("0xea")][_0x27ab("0x183")]=this[_0x27ab("0x102b")]+this.x_+"px";break;case 2:var b=this[_0x27ab("0x37")].mapView[_0x27ab("0xaf5")][_0x27ab("0x25")]-x[_0x27ab("0x426")]-60;a&&(b=b-a-this.defaultPadding_),x[_0x27ab("0xea")][_0x27ab("0x184")]=b-this.y_+"px",x[_0x27ab("0xea")][_0x27ab("0x183")]=this[_0x27ab("0x102b")]+this.x_+"px";break;case 3:a?x[_0x27ab("0xea")].top=this[_0x27ab("0x100f")]+a+this[_0x27ab("0x100e")]+this.y_+"px":x.style[_0x27ab("0x184")]=this[_0x27ab("0x100f")]+this.y_+"px",x[_0x27ab("0xea")][_0x27ab("0x6ee")]=this[_0x27ab("0x102c")]+this.x_+"px";break;case 4:var _=this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xaf5")].offsetHeight-x[_0x27ab("0x426")]-60;a&&(_=_-a-this[_0x27ab("0x100e")]),x[_0x27ab("0xea")][_0x27ab("0x184")]=_-this.y_+"px",x[_0x27ab("0xea")][_0x27ab("0x6ee")]=this[_0x27ab("0x102c")]+this.x_+"px"}}},{key:_0x27ab("0x101a"),value:function(){var x=document.getElementsByClassName(_0x27ab("0x1012"))[0],a=document[_0x27ab("0xff4")]("tools-wrap")[0];"none"==a[_0x27ab("0xea")][_0x27ab("0x328")]?(x[_0x27ab("0xea")][_0x27ab("0xa1b")]=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x1018"),a[_0x27ab("0xea")][_0x27ab("0x328")]="block"):(x.style.background=_0x27ab("0x1016")+this.imgURL_+_0x27ab("0x1019"),a.style[_0x27ab("0x328")]=_0x27ab("0x591"))}},{key:"controlViewMode",value:function(x){if(this[_0x27ab("0x37")]){var a=document.getElementsByClassName(_0x27ab("0x101c"))[0];if(this[_0x27ab("0x9dc")]&&"3d"!=this[_0x27ab("0x9dc")])a.style[_0x27ab("0xa1b")]=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x102d"),this.map[_0x27ab("0x1fe")]=esmap[_0x27ab("0xad5")][_0x27ab("0x102e")],this.viewMode_="3D";else{if(this[_0x27ab("0x100d")]){var b=document[_0x27ab("0xff4")](_0x27ab("0x102f"))[0];if(document.all)b[_0x27ab("0x9e2")]();else{var _=document[_0x27ab("0x6fe")]("MouseEvents");_[_0x27ab("0x9e1")](_0x27ab("0x9e2"),!0,!0),b[_0x27ab("0x701")](_)}}a[_0x27ab("0xea")][_0x27ab("0xa1b")]=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x1030"),this.map[_0x27ab("0x1fe")]=esmap[_0x27ab("0xad5")].MODE_2D,this[_0x27ab("0x9dc")]="2D"}}}},{key:_0x27ab("0x1023"),value:function(x){if(this.map){var a=document[_0x27ab("0xff4")](_0x27ab("0x102f"))[0];if(this[_0x27ab("0x100d")])a[_0x27ab("0xea")][_0x27ab("0xa1b")]=_0x27ab("0x1016")+this[_0x27ab("0x1017")]+_0x27ab("0x1031"),this[_0x27ab("0x37")][_0x27ab("0xf5")]=[map[_0x27ab("0x915")]];else{if(_0x27ab("0x184")==this[_0x27ab("0x9dc")]){var b=document[_0x27ab("0xff4")]("to-3d-view-btn")[0];if(document[_0x27ab("0x218")])b[_0x27ab("0x9e2")]();else{var _=document[_0x27ab("0x6fe")](_0x27ab("0x1032"));_.initEvent(_0x27ab("0x9e2"),!0,!0),b.dispatchEvent(_)}}a.style[_0x27ab("0xa1b")]=_0x27ab("0x1016")+this.imgURL_+_0x27ab("0x1033"),this[_0x27ab("0x37")][_0x27ab("0xf5")]=map[_0x27ab("0x62c")]}this.map[_0x27ab("0x915")]={floornum:map[_0x27ab("0x915")],time:0},this[_0x27ab("0x100d")]=!this[_0x27ab("0x100d")]}}},{key:_0x27ab("0x1034"),value:function(){return this[_0x27ab("0x100d")]}}]),x}();a[_0x27ab("0xb")]=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(99));function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a,b){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0x424")]=new(esmap[_0x27ab("0x5cd")])(b),_0x27ab("0xff")==this[_0x27ab("0x424")][_0x27ab("0xaf9")]?(this.w_=42,this.h_=42,this.padding_=14):(this.w_=28,this.h_=28,this.padding_=8),this.x_=this[_0x27ab("0x424")][_0x27ab("0x143")].x,this.y_=this.options_[_0x27ab("0x143")].y,this[_0x27ab("0x102a")]=this[_0x27ab("0x424")][_0x27ab("0xc3")]?this.options_[_0x27ab("0xc3")]:4,this[_0x27ab("0x100f")]=20,this[_0x27ab("0x102b")]=10,this[_0x27ab("0x102c")]=10,this[_0x27ab("0x1014")]="2px 2px 3px rgba(0,0,0, 0.3)",this[_0x27ab("0x1011")]="2px",this[_0x27ab("0x1017")]=this[_0x27ab("0x424")][_0x27ab("0xf60")],this[_0x27ab("0x418")]=!0,a&&(this[_0x27ab("0x37")]=a,this[_0x27ab("0x31")](a))}return(0,e.default)(x,[{key:"init",value:function(x){var a=(0,t[_0x27ab("0xb")])(_0x27ab("0x3a3"))[_0x27ab("0x33a")](_0x27ab("0x334"),"zoom-wrap").style({zIndex:10,position:_0x27ab("0x6d8"),backgroundColor:_0x27ab("0x32d"),boxShadow:this[_0x27ab("0x1014")],borderRadius:this[_0x27ab("0x1011")]}).element,b=(0,t[_0x27ab("0xb")])(_0x27ab("0x3a3"))[_0x27ab("0x33a")](_0x27ab("0x334"),_0x27ab("0x1035"))[_0x27ab("0xea")]({padding:this.padding_+"px",cursor:_0x27ab("0xf97"),height:this.h_})[_0x27ab("0x33b")](_0x27ab("0x9e2"),this[_0x27ab("0xa16")][_0x27ab("0xe")](this)).element,_=(0,t.default)(_0x27ab("0x421"))[_0x27ab("0x33a")](_0x27ab("0x42b"),this.imgURL_+"zoomin.png").style({width:this.w_-2*this[_0x27ab("0x1036")]+"px",height:this.h_-2*this[_0x27ab("0x1036")]+"px"})[_0x27ab("0x339")];b[_0x27ab("0x24")](_);var e=(0,t[_0x27ab("0xb")])(_0x27ab("0x3a3"))[_0x27ab("0x33a")]("class",_0x27ab("0x1037"))[_0x27ab("0xea")]({padding:this.padding_+"px",cursor:_0x27ab("0xf97"),height:this.h_}).addEvent("click",this[_0x27ab("0xa17")].bind(this)).element,i=(0,t[_0x27ab("0xb")])(_0x27ab("0x421"))[_0x27ab("0x33a")]("src",this[_0x27ab("0x1017")]+_0x27ab("0x1038"))[_0x27ab("0xea")]({width:this.w_-2*this.padding_+"px",height:this.h_-2*this.padding_+"px"})[_0x27ab("0x339")];e[_0x27ab("0x24")](i),a[_0x27ab("0x24")](b),a.appendChild(this[_0x27ab("0x1039")]()),a[_0x27ab("0x24")](e);var n=x.mapView.container[_0x27ab("0x1024")](_0x27ab("0x8fe"))[0];x.mapView[_0x27ab("0x1fc")][_0x27ab("0x1025")](a,n),this[_0x27ab("0x1026")](a),this[_0x27ab("0x1027")]()}},{key:"controlPositionListener",value:function(){if(this[_0x27ab("0x37")]){var x=this;this[_0x27ab("0x37")].on(_0x27ab("0x12b"),(function(){var a=document.querySelector(_0x27ab("0x103a"));x[_0x27ab("0x1026")](a)}))}}},{key:_0x27ab("0x1026"),value:function(x,a){switch(this[_0x27ab("0x102a")]){case 1:(0,t.default)(x)[_0x27ab("0xea")]({top:this[_0x27ab("0x100f")]+this.y_+"px",left:this[_0x27ab("0x102b")]+this.x_+"px"});break;case 2:a=this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xaf5")].offsetHeight-x.clientHeight-60;(0,t.default)(x)[_0x27ab("0xea")]({top:a-this.y_+"px",left:this[_0x27ab("0x102b")]+this.x_+"px"});break;case 3:(0,t[_0x27ab("0xb")])(x)[_0x27ab("0xea")]({top:this.top_+this.y_+"px",right:this[_0x27ab("0x102c")]+this.x_+"px"});break;case 4:a=this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0xaf5")][_0x27ab("0x25")]-x[_0x27ab("0x426")]-60;(0,t[_0x27ab("0xb")])(x)[_0x27ab("0xea")]({top:a-this.y_+"px",right:this[_0x27ab("0x102c")]+this.x_+"px"})}}},{key:"hrEl",value:function(){return(0,t[_0x27ab("0xb")])("hr")[_0x27ab("0xea")]({height:_0x27ab("0x103b"),border:"none",borderTop:_0x27ab("0x103c"),width:_0x27ab("0x103d"),margin:_0x27ab("0x103e"),filter:"alpha(opacity=100, finishopacity=0, style=3)"})[_0x27ab("0x339")]}},{key:_0x27ab("0xa17"),value:function(x){this[_0x27ab("0x37")]&&this[_0x27ab("0x37")][_0x27ab("0xa17")](),_0x27ab("0xde")==typeof x&&x(this[_0x27ab("0x103f")])}},{key:_0x27ab("0xa16"),value:function(x){this[_0x27ab("0x37")]&&this[_0x27ab("0x37")].scaleLevelIn(),_0x27ab("0xde")==typeof x&&x(this[_0x27ab("0x103f")])}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=g(b(52)),e=g(b(101)),t=g(b(31)),i=g(b(43)),n=g(b(12)),r=g(b(8)),s=g(b(13)),o=g(b(2)),c=g(b(0)),l=g(b(1)),f=g(b(53)),u=b(70),d=g(b(343)),h=b(19);function g(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var v=new(f[_0x27ab("0xb")]),p=new(f[_0x27ab("0xb")]),A=new(f[_0x27ab("0xb")]),m=new(f[_0x27ab("0xb")]),C={x:0,y:0},I={"上行":"up","下行":_0x27ab("0x1040"),"左转":"left","右转":_0x27ab("0x6ee"),"左前方直行":_0x27ab("0x1041"),"右前方直行":_0x27ab("0x1042"),"直行":_0x27ab("0x5e4"),"即将到达目的地":"arriving"},y=function(){function x(a){(0,c[_0x27ab("0xb")])(this,x),this[_0x27ab("0x1043")]=null,this[_0x27ab("0x1044")]=0,this[_0x27ab("0x1045")]=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")].IMAGE_MARKER),this[_0x27ab("0x1046")]=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0xa99")]),this[_0x27ab("0x1047")]=null,this.realNaviClock=null,this.toPassedFnum={},this.startData=null,this[_0x27ab("0x1048")]=null,this.startMarker=null,this[_0x27ab("0x1049")]=null,this.endMarker=null,this[_0x27ab("0x104a")]=_0x27ab("0x204"),this.timerDelta=.01086500000124215,this[_0x27ab("0x948")]=new(THREE[_0x27ab("0x239")]),this[_0x27ab("0x104b")]=[],this[_0x27ab("0x104c")]={},this.lastAngle=null,this[_0x27ab("0x104d")]=!1,this[_0x27ab("0x104e")]={},this[_0x27ab("0x104f")]=null,this._isEnd_=!0,this.isNaving=!1,this.pause=!1,this[_0x27ab("0x1050")]=(new Date)[_0x27ab("0x7c")](),this[_0x27ab("0x1051")]=null,this[_0x27ab("0x1052")]=0,this.filterList={},this[_0x27ab("0x1053")]=null,this[_0x27ab("0x1054")]=[],this.curPathInfos={index:0,dis2next:0},this[_0x27ab("0x1055")]={},this[_0x27ab("0xc4")]={deviateCount:0,arrivalCount:0,backcount:0,surDistance:0},this[_0x27ab("0x1056")]=null,this[_0x27ab("0x1057")]=null,this[_0x27ab("0x1058")]=0,this[_0x27ab("0x1059")]=0,this[_0x27ab("0x105a")]=!1,this._animID=null,this[_0x27ab("0x105b")]=null,this._rotateId=null,this[_0x27ab("0x105c")]=new(d[_0x27ab("0xb")]);var b=this;em[_0x27ab("0x233")].convert(b),(0,o[_0x27ab("0xb")])(b,{map:esmap[_0x27ab("0x32")].instance,changeTiltAngle:!0,speed:4,followPosition:!0,followAngle:!1,followGap:0,isMultiFloors:0,inTime:1.2,tiltAngle:10,changeFloorTiltAngle:30,minScale:.2,scaleLevel:1,rotateTimer:0,linkStartEnd:!0,linkMinDistance:5,height:0,mode:1,reRouteDis:null,offsetHeight:1,arrivalCount:3,parkAriveDelay:2,directionAssert:10,combineAsset:3,autoStop:!0,locationMarkerSpritify:1,locationMarkerSeeThough:!1,autoClearNaviLine:!1,audioPlay:!1,audioTipEnd:!0,reRouteLimit:5,crossFloorTime:250,tipDistance:6,noGoingBack:!1,locationMarkerOptions:{},lineStyle:{lineType:esmap[_0x27ab("0x5b1")][_0x27ab("0x105d")],curvature:0,color:_0x27ab("0x105e"),lineWidth:6,offsetHeight:0},ladderType:1,maxEnd:2,scaleAnimate:!0,isAnimate:1,audioCountDown:20,bestViewMinDistance:5},a),b.lineStyle.nobuildCurveZ=!0;var _=b[_0x27ab("0x37")];if(b.audioPlay){if(!_.ESAudioTool)try{_[_0x27ab("0x9b5")]()}catch(x){console[_0x27ab("0x2bb")](_0x27ab("0x105f"))}}else _.ESAudioTool||(_[_0x27ab("0x1060")]={playSoundByName:function(){}});this[_0x27ab("0x105c")][_0x27ab("0x1043")]=this[_0x27ab("0x1043")]}var a;return(0,l.default)(x,[{key:_0x27ab("0x1061"),value:function(x){this[_0x27ab("0x105c")].setPreferCrosses(x)}},{key:"drawNavLineByIDs",value:function(x){var a=this[_0x27ab("0x105c")].routeCore[_0x27ab("0x1062")][40015][_0x27ab("0x1063")],b=[];x.forEach((function(x){var _=a[x];b[_0x27ab("0x1")]({x:_.X,y:_.Y,fnum:4,id:_[_0x27ab("0x43d")]})}));var _=new(esmap[_0x27ab("0x5d7")])({id:_0x27ab("0x1064"),name:"navLine",points:b,style:this[_0x27ab("0xaf7")]});this.map[_0x27ab("0x9c9")](_)}},{key:_0x27ab("0x1065"),value:function(x,a){var b=null,_=null;a?(this.startMarker&&this[_0x27ab("0x1066")][_0x27ab("0xb2")](),_=this[_0x27ab("0x1045")],b=x.url||"image/start.png"):(this[_0x27ab("0x1067")]&&this[_0x27ab("0x1067")][_0x27ab("0xb2")](),_=this.endMarkerLayer,b=x[_0x27ab("0x1b9")]||_0x27ab("0x1068"));var e=this[_0x27ab("0x37")][_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x1f1")]?23:12,t=null==x[_0x27ab("0x1b7")]?6:x[_0x27ab("0x1b7")],i=new(esmap[_0x27ab("0x1069")])({x:x.x,y:x.y,url:b,height:t,seeThrough:x[_0x27ab("0x2aa")]||!1,clip:x[_0x27ab("0xe70")]||null,showLevel:x[_0x27ab("0x244")]||e,size:x.size||64,callback:function(){x[_0x27ab("0x1d6")]&&x[_0x27ab("0x1d6")](i)}});_[_0x27ab("0xc96")](i),a?this[_0x27ab("0x1066")]=i:this[_0x27ab("0x1067")]=i;var n=x[_0x27ab("0xeb")]||this[_0x27ab("0x37")].id,r=this[_0x27ab("0x37")][_0x27ab("0xf4")](n),s=x[_0x27ab("0xee")]||1;r[_0x27ab("0x61b")](s).addLayer(_)}},{key:_0x27ab("0x106a"),value:function(x){var a=this[_0x27ab("0x37")],b=null==x[_0x27ab("0x1cb")]?1:x[_0x27ab("0x1cb")],_="3D"===a[_0x27ab("0x1fe")];x[_0x27ab("0xc")](_0x27ab("0x9a1"))&&_&&a[_0x27ab("0xa11")]({angle:x[_0x27ab("0x9a1")],time:b}),x[_0x27ab("0xc")](_0x27ab("0x243"))&&a.scaleLevelTo({value:x.scaleLevel,time:b}),x[_0x27ab("0xc")](_0x27ab("0x269"))&&a[_0x27ab("0x28d")]({angle:x[_0x27ab("0x26c")],time:b}),x.hasOwnProperty(_0x27ab("0x1d8"))&&a[_0x27ab("0x26a")]({x:x[_0x27ab("0x1d8")].x,y:x[_0x27ab("0x1d8")].y,time:.5*b}),x.onComplete&&setTimeout(x[_0x27ab("0x1d2")],1e3*b)}},{key:_0x27ab("0x106b"),value:function(x){this[_0x27ab("0x106c")](),!this[_0x27ab("0x106d")]&&this[_0x27ab("0x1c4")](),this[_0x27ab("0x106e")]=(0,o[_0x27ab("0xb")])({bid:this[_0x27ab("0x37")].id},this.startData,x),this[_0x27ab("0x1065")](x,!0)}},{key:"setEndPoint",value:function(x){this.clearNaviLines(),!this._isEnd_&&this[_0x27ab("0x1c4")](),this[_0x27ab("0x1048")]=(0,o[_0x27ab("0xb")])({bid:this.map.id},this[_0x27ab("0x1048")],x),this[_0x27ab("0x1065")](x,!1)}},{key:_0x27ab("0x106f"),value:function(){this[_0x27ab("0x106e")]&&this.endData&&(this[_0x27ab("0x1053")]=null,this[_0x27ab("0x106c")](),this[_0x27ab("0x1070")](),this[_0x27ab("0x1071")]&&this[_0x27ab("0x1072")]())}},{key:"setNaviData",value:function(x){this[_0x27ab("0xc6c")](),this[_0x27ab("0x106e")]={x:x[0][_0x27ab("0x1073")][0].x,y:x[0].pointList[0].y,fnum:x[0][_0x27ab("0xee")]};var a=x[x[_0x27ab("0x0")]-1][_0x27ab("0x1073")];this[_0x27ab("0x1048")]={x:a[a[_0x27ab("0x0")]-1].x,y:a[a.length-1].y,fnum:x[x.length-1][_0x27ab("0xee")]},this[_0x27ab("0x1071")]={result:x},this[_0x27ab("0x1047")]=this[_0x27ab("0x1071")].result,this[_0x27ab("0x1074")]();var b=this[_0x27ab("0x1075")](this[_0x27ab("0x1047")]);this[_0x27ab("0x104b")]=b[0],this[_0x27ab("0x1076")]=b[1],this.navidistance=b[2],this[_0x27ab("0x1077")]=this[_0x27ab("0x1078")]();for(var _=0;_<this[_0x27ab("0x1077")][_0x27ab("0x0")];_++)this[_0x27ab("0x1079")][this.crossPoints[_].fnum]||(this[_0x27ab("0x1079")][this[_0x27ab("0x1077")][_][_0x27ab("0xee")]]=!1);this[_0x27ab("0x1079")][this[_0x27ab("0x106e")][_0x27ab("0xee")]]=!0,this[_0x27ab("0x1072")]()}},{key:_0x27ab("0x1074"),value:function(){var x=this[_0x27ab("0x1071")][_0x27ab("0xc69")];if(x){for(var a=[],b=null,_=null,e=0;e<x[_0x27ab("0x0")];e++){var t=x[e],i=b==t[_0x27ab("0xee")];0==t[_0x27ab("0x0")]&&0!=e&&e!=x.length-1||(i||(b=t[_0x27ab("0xee")],_&&a[_0x27ab("0x1")](_),_={fnum:t[_0x27ab("0xee")],pointList:[]}),Array.prototype.push.apply(_[_0x27ab("0x1073")],t[_0x27ab("0x1073")]))}return _&&a[_0x27ab("0x1")](_),this[_0x27ab("0x107a")]=a,a}}},{key:_0x27ab("0x2c9"),value:function(){this.getRouteResult()}},{key:_0x27ab("0x1078"),value:function(){for(var x=[],a=this[_0x27ab("0x1071")][_0x27ab("0xc69")],b=0;b<a[_0x27ab("0x0")];b++)if(0==a[b][_0x27ab("0x0")]&&1==a[b].pointList[_0x27ab("0x0")]){var _=(0,o[_0x27ab("0xb")])({},a[b][_0x27ab("0x1073")][0]);a[b][_0x27ab("0x1073")][0].id;if(_.id){var e=this[_0x27ab("0x105c")].getNavNodeById(_[_0x27ab("0xeb")],_.id);_[_0x27ab("0x96")]=e[_0x27ab("0x96")]||0,x[_0x27ab("0x1")](_)}}return x}},{key:"queryByPoints",value:function(x){for(var a,b=[],_=this[_0x27ab("0x34")],e=this.ladderType,t=this[_0x27ab("0x37")],i=0;i<x[_0x27ab("0x0")]-1;i++){var n=x[i];n[_0x27ab("0xeb")]||(n.bid=this[_0x27ab("0x37")].id);var r=x[i+1];if(r[_0x27ab("0xeb")]||(r.bid=this[_0x27ab("0x37")].id),n.x!==r.x||n.y!==r.y){!a&&(a=n.fnum);var s=this.routePlanner[_0x27ab("0x1070")]({bid:t[_0x27ab("0xb0a")],startPoint:n,endPoint:r,mode:_,ladderType:e,linkStartEnd:this.linkStartEnd,linkMinDistance:this[_0x27ab("0x107b")],useAMap:!1,type:null});this[_0x27ab("0x107c")]||(this.routePlanner[_0x27ab("0x107d")]=[]),i<x.length-2&&s[_0x27ab("0xc69")][s.result[_0x27ab("0x0")]-1][_0x27ab("0x1073")][_0x27ab("0x8bb")](),s.result[_0x27ab("0x1b")]((function(x,a,_){b[_0x27ab("0x1")](x)}))}}for(var o={},c=0;c<b.length;c++)for(var l=0;l<b[c][_0x27ab("0x1073")][_0x27ab("0x0")];l++)o[b[c].pointList[l].id]?l!=b[c][_0x27ab("0x1073")].length-1&&(b[c][_0x27ab("0x1073")][l].x+=.8,b[c][_0x27ab("0x1073")][l].y+=.8):o[b[c].pointList[l].id]=1;for(var f=0;f<b[_0x27ab("0x0")]-1;f++)b[f][_0x27ab("0xee")]==b[f+1][_0x27ab("0xee")]&&0!=b[f].length&&0!=b[f+1][_0x27ab("0x0")]&&(b[f][_0x27ab("0x0")]+=b[f+1][_0x27ab("0x0")],b[f].pointList=b[f][_0x27ab("0x1073")][_0x27ab("0x1ec")](b[f+1][_0x27ab("0x1073")]),b[_0x27ab("0x157")](f+1,1),f--);this[_0x27ab("0x106e")]={x:x[0].x,y:x[0].y,fnum:x[0][_0x27ab("0xee")],bid:x[0][_0x27ab("0xeb")]},this[_0x27ab("0x1048")]={x:x[x[_0x27ab("0x0")]-1].x,y:x[x.length-1].y,fnum:x[x.length-1][_0x27ab("0xee")],bid:x[x[_0x27ab("0x0")]-1].bid},this[_0x27ab("0x1071")]={result:b},this[_0x27ab("0x1047")]=b,this[_0x27ab("0x1074")]();x=this[_0x27ab("0x1075")](this[_0x27ab("0x1047")]);this[_0x27ab("0x104b")]=x[0],this[_0x27ab("0x1076")]=x[1],this[_0x27ab("0x1044")]=x[2],this[_0x27ab("0x1077")]=this[_0x27ab("0x1078")]();for(var u=0;u<this[_0x27ab("0x1077")][_0x27ab("0x0")];u++)this.toPassedFnum[this[_0x27ab("0x1077")][u].fnum]||(this[_0x27ab("0x1079")][this.crossPoints[u][_0x27ab("0xee")]]=!1);this[_0x27ab("0x1079")][a]=!0}},{key:_0x27ab("0x1070"),value:(a=(0,s[_0x27ab("0xb")])(n.default.mark((function x(){var a,b,_,e,t,i,s,c,l,f,u,d,h,g,v,p,A,m,C,I,y=arguments[_0x27ab("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};return n.default[_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:return x[_0x27ab("0x2b8")]=2,new r.default((function(x){setTimeout(x,0)}));case 2:if(x[_0x27ab("0x2b7")]=2,a=y[_0x27ab("0x107e")]||!1,b=y[_0x27ab("0x107f")]||!1,_=y[_0x27ab("0x70")]||_0x27ab("0x1080"),!this[_0x27ab("0x106e")]||!this[_0x27ab("0x1048")]){x[_0x27ab("0x2b8")]=50;break}if(e=this[_0x27ab("0x106e")],t=this[_0x27ab("0x1048")],i=this[_0x27ab("0x34")],s=this[_0x27ab("0x37")],e[_0x27ab("0xeb")]||(e[_0x27ab("0xeb")]=s[_0x27ab("0xb0a")]),e.fnum||(e[_0x27ab("0xee")]=1),t[_0x27ab("0xeb")]||(t[_0x27ab("0xeb")]=s.sceneId_),t.fnum||(t.fnum=1),c=this[_0x27ab("0x37")][_0x27ab("0x199")]({from:this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")],to:this.map[_0x27ab("0x192")],coord:{x:e.x,y:e.y}}),l=this[_0x27ab("0x37")].transformCoord({from:this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")],to:this[_0x27ab("0x37")][_0x27ab("0x192")],coord:{x:t.x,y:t.y}}),f=(0,o.default)({},e,c),u=(0,o.default)({},t,l),!b){x[_0x27ab("0x2b8")]=34;break}return this[_0x27ab("0x104a")]=_0x27ab("0x1081"),x.next=23,this[_0x27ab("0x105c")][_0x27ab("0x1070")]({bid:s.sceneId_,startPoint:f,endPoint:u,mode:i,ladderType:this.ladderType,linkStartEnd:this[_0x27ab("0x1082")],linkMinDistance:this[_0x27ab("0x107b")],useAMap:b,type:_});case 23:d=x[_0x27ab("0x5dc")],h=d[_0x27ab("0x1083")],g=d[_0x27ab("0x273")],v=d[_0x27ab("0x1084")],p=d[_0x27ab("0x1073")],this[_0x27ab("0x1085")]=v,this[_0x27ab("0x1086")]=h,this.navidistance=g,A=this[_0x27ab("0x37")][_0x27ab("0x56b")]({from:this[_0x27ab("0x37")].coordSystem,to:this[_0x27ab("0x37")][_0x27ab("0x191")],coords:p}),a&&(m=new esmap.ESLineMarker({id:_0x27ab("0x1064"),bid:0,points:A,style:this[_0x27ab("0xaf7")]}),this.lineObj=m,this[_0x27ab("0x37")].drawLineMark(m)),this[_0x27ab("0x25e")](_0x27ab("0x35b"),A),x[_0x27ab("0x2b8")]=50;break;case 34:if(this.navMode=_0x27ab("0x204"),this[_0x27ab("0x1071")]=this[_0x27ab("0x105c")][_0x27ab("0x1070")]({bid:s[_0x27ab("0xb0a")],startPoint:f,endPoint:u,mode:i,ladderType:this[_0x27ab("0x1087")],linkStartEnd:this.linkStartEnd,linkMinDistance:this[_0x27ab("0x107b")],useAMap:b,type:_}),this[_0x27ab("0x1071")]){x.next=39;break}throw console[_0x27ab("0x2bb")](_0x27ab("0x1088")),"无法到达!请重新选点";case 39:for(this._naviResult=this[_0x27ab("0x1071")].result,this[_0x27ab("0x1074")](),C=this._naviDescriptions(this._naviResult),this[_0x27ab("0x104b")]=C[0],this[_0x27ab("0x1076")]=C[1],this.navidistance=C[2],this[_0x27ab("0x1077")]=this._getCrossPoints(),I=0;I<this[_0x27ab("0x1077")][_0x27ab("0x0")];I++)this.toPassedFnum[this[_0x27ab("0x1077")][I].fnum]||(this[_0x27ab("0x1079")][this[_0x27ab("0x1077")][I][_0x27ab("0xee")]]=!1);this[_0x27ab("0x1079")][this[_0x27ab("0x106e")][_0x27ab("0xee")]]=!0,a&&this[_0x27ab("0x1072")](),this[_0x27ab("0x25e")](_0x27ab("0x35b"),this[_0x27ab("0x1071")]);case 50:x[_0x27ab("0x2b8")]=55;break;case 52:x[_0x27ab("0x2b7")]=52,x.t0=x[_0x27ab("0x825")](2),this.emit("error",x.t0);case 55:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this,[[2,52]])}))),function(){return a[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0x1089"),value:function(){var x=this[_0x27ab("0x37")],a=this[_0x27ab("0x1071")];for(var b in a[_0x27ab("0xc69")]){var _=a[_0x27ab("0xc69")][b][_0x27ab("0x1073")];for(var e in _){var t=_[e],i=(0,o[_0x27ab("0xb")])({},t);if(!i._trs){var n=x[_0x27ab("0x199")]({from:x[_0x27ab("0x192")],to:x.options[_0x27ab("0x1f7")],coord:{x:t.x,y:t.y}});i.x=n.x,i.y=n.y,i._trs=!0,_[e]=i}}}}},{key:_0x27ab("0x108a"),value:function(){var x=A[_0x27ab("0x35e")](this);x&&(this[_0x27ab("0x37")].mapPicker[_0x27ab("0xb5e")](x.o3d_),x&&(this[_0x27ab("0x37")][_0x27ab("0xad7")](x),A[_0x27ab("0x123")](this,null)))}},{key:"clearMarkers",value:function(){this.startMarker&&(this.startMarker[_0x27ab("0xb2")](),this[_0x27ab("0x108b")]=null,this[_0x27ab("0x106e")]=null),this.endMarker&&(this[_0x27ab("0x1067")][_0x27ab("0xb2")](),this[_0x27ab("0x1067")]=null,this[_0x27ab("0x1048")]=null),this[_0x27ab("0x1047")]=null}},{key:"clearNaviLines",value:function(){this[_0x27ab("0x37")][_0x27ab("0x9c7")](_0x27ab("0x1064"))}},{key:_0x27ab("0xc6c"),value:function(){this[_0x27ab("0x1c4")](),this[_0x27ab("0x108c")](),this.clearNaviLines(),this[_0x27ab("0x108a")](),this[_0x27ab("0x106e")]=null,this.endData=null}},{key:_0x27ab("0x108d"),value:function(x,a){var b=this;(a=null==a||a)&&b[_0x27ab("0x106c")]();for(var _=[],e=0;e<x[_0x27ab("0x0")];e++){var t=x[e][_0x27ab("0x777")],i=(0,o[_0x27ab("0xb")])({},t);if(!i._trs){var n=b[_0x27ab("0x37")][_0x27ab("0x199")]({from:b.map.coordSystem,to:b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")],coord:{x:t.x,y:t.y}});i.x=n.x,i.y=n.y,i[_0x27ab("0x108e")]=!0,_[_0x27ab("0x1")](i)}}b[_0x27ab("0x108f")](_,a)}},{key:_0x27ab("0x108f"),value:function(x,a){(a=null==a||a)&&this.clearNaviLines();var b=new(esmap[_0x27ab("0x5d7")])({id:_0x27ab("0x1064"),name:_0x27ab("0x1064"),points:x,style:this.lineStyle});this.lineObj=b,_0x27ab("0x12d")==this[_0x27ab("0xaf7")][_0x27ab("0x70")]||_0x27ab("0x1090")==this.lineStyle[_0x27ab("0x70")]?this[_0x27ab("0xaf7")].yScale=.3:this[_0x27ab("0xaf7")].yScale=1,this.map.drawLineMark(b)}},{key:"drawNaviLine",value:function(x,a){if(this[_0x27ab("0x106c")](),this[_0x27ab("0x106e")]&&this[_0x27ab("0x1048")]&&this[_0x27ab("0x1071")]){this[_0x27ab("0xaf7")].up=new THREE.Vector3(0,1,0),this[_0x27ab("0xaf7")][_0x27ab("0x1091")]=!1,!this.autoClearNaviLine&&a&&this[_0x27ab("0x106c")]();this[_0x27ab("0x108d")](this[_0x27ab("0x1086")],this[_0x27ab("0x1092")]),this._linesVisible()}}},{key:_0x27ab("0x1093"),value:function(x){if(this[_0x27ab("0x1047")]){var a=this[_0x27ab("0x1047")][0][_0x27ab("0x1073")][0],b=this[_0x27ab("0x1047")][0].fnum,_=this[_0x27ab("0x1047")][0][_0x27ab("0xeb")]||0;x=null==x?3:x;var e=this[_0x27ab("0x37")][_0x27ab("0x199")]({from:this.map[_0x27ab("0x192")],to:this[_0x27ab("0x37")][_0x27ab("0x33")].userCrs,coord:{x:a.x,y:a.y}});this.locationMarker.setPosition({x:e.x,y:e.y,bid:_,fnum:b,offsetHeight:x||1.01*this.offsetHeight})}}},{key:"_moveTo",value:function(x,a,b){return null==a&&(a=0),this[_0x27ab("0x37")][_0x27ab("0x26a")]({x:x.x,y:x.y,time:a,FloorNum:x[_0x27ab("0xee")],callback:b})}},{key:_0x27ab("0x1094"),value:function(x){if(this.audioPlay){for(var a=0;a<x[_0x27ab("0x0")];a++)"string"==typeof x[a]&&x[a][_0x27ab("0x2db")](/\s/)&&x[_0x27ab("0x157")][_0x27ab("0x5")](x,[a,1][_0x27ab("0x1ec")]((0,i[_0x27ab("0xb")])(x[a][_0x27ab("0x28")](" "))));this[_0x27ab("0x37")][_0x27ab("0x1060")][_0x27ab("0xda5")](x)}}},{key:"_setNavCode",value:function(x){I[x]&&this[_0x27ab("0x1051")]!=I[x]&&(this[_0x27ab("0x1051")]=I[x],this[_0x27ab("0x25e")](_0x27ab("0x1095"),this.lastNavCode))}},{key:_0x27ab("0x1096"),value:function(x){var a=this.map,b=a.mapView.camera[_0x27ab("0x618")];return{radius:(a[_0x27ab("0x1fe")],x/(2*Math[_0x27ab("0xb32")](b/2*Math.PI/180)))}}},{key:_0x27ab("0x1097"),value:function(x,a,b){}},{key:_0x27ab("0x109d"),value:function(x,a,b){var _=this,e=_[_0x27ab("0x104b")][x],t=_.naviDescriptionsData[x],i=_[_0x27ab("0x104b")][x+1],n=_[_0x27ab("0x1076")][x+1],r=(_[_0x27ab("0x104b")][_0x27ab("0x0")],t[_0x27ab("0x273")]-a),s=1==_[_0x27ab("0x34")]?_[_0x27ab("0x109e")]+5:_[_0x27ab("0x109e")]+12,o=_[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0xa5c")],c=null,l="";if(b<=s)c=o[_0x27ab("0xd86")](_0x27ab("0xd76")),_.audioPlayed.tipAlmosted||(_[_0x27ab("0x109f")](_0x27ab("0xd76")),_[_0x27ab("0x1094")]([_0x27ab("0xd76")]),_[_0x27ab("0x1055")][_0x27ab("0x10a0")]=!0);else if(b<=_[_0x27ab("0x109e")])c=o[_0x27ab("0xd86")](_0x27ab("0x10a1")),_[_0x27ab("0x1055")][_0x27ab("0x10a2")]||(_[_0x27ab("0x1055")].tipEnded=!0);else if(_.followPosition&&_[_0x27ab("0x1097")](t,r,a),1==_.mode)!t[_0x27ab("0x10a3")]&&r>=1&&(_[_0x27ab("0x109f")](e[0]),l=[e[0],Math[_0x27ab("0xbc")](a)-2,"米","后",e[2]],_[_0x27ab("0x1094")](l),t[_0x27ab("0x10a3")]=!0),a<=_[_0x27ab("0x10a4")]?(c=o[_0x27ab("0xd86")](e[2]),t[_0x27ab("0x10a5")]||(_._setNavCode(e[2]),l=[e[2]],_[_0x27ab("0x1094")](l),t[_0x27ab("0x10a5")]=!0)):a>=20&&r>=t[_0x27ab("0x10a6")]&&(_._setNavCode("直行"),t[_0x27ab("0x10a6")]+=30,l=[Math[_0x27ab("0xbc")](a)-2,"米","后",e[2]],_[_0x27ab("0x1094")](l));else if(!t.carModeTipStarted&&r>=1&&(l=[e[0],Math[_0x27ab("0xbc")](a)-2,"米","后",e[2]],_.playAudio(l),t[_0x27ab("0x10a7")]=!0),a<=12&&(c=n[_0x27ab("0x273")]<=12?o.getDesFromNavLib(e[2])+o[_0x27ab("0xd86")]("后")+o[_0x27ab("0xd86")](i[2]):o[_0x27ab("0xd86")](e[2])),a<=12&&!t.carModeTipEnded){if(n[_0x27ab("0x273")]<12&&"终"!=n[_0x27ab("0x10a8")]){var f=e[2],u=i[2];e[2].indexOf("左")>-1?f="左转":e[2][_0x27ab("0xd1")]("右")>-1&&(f="右转"),i[2][_0x27ab("0xd1")]("左")>-1?u="左转":i[2][_0x27ab("0xd1")]("右")>-1&&(u="右转"),_[_0x27ab("0x109f")](u),l=[f+"后"+u],_[_0x27ab("0x1094")](l)}else l=[e[2]],_[_0x27ab("0x1094")](l),_[_0x27ab("0x109f")](e[2]);t.carModeTipEnded=!0}else t[_0x27ab("0x273")]>=50&&a<=37?t.tipSlowDowned||(_[_0x27ab("0x1094")]([_0x27ab("0x10a9")]),t[_0x27ab("0x10aa")]=!0):r>=t.carWalkedCount&&(t[_0x27ab("0x10ab")]+=40,l=[Math[_0x27ab("0xbc")](a)-2,"米","后",e[2]],_[_0x27ab("0x1094")](l));_[_0x27ab("0x1076")][x][_0x27ab("0x10ac")]||(_[_0x27ab("0x1076")][x].over=!0),c||(_[_0x27ab("0x109f")](e[0]),c=o.getDesFromNavLib(e[0])+" "+Math[_0x27ab("0xbc")](a)+" "+o.getDesFromNavLib("米")+" "+o[_0x27ab("0xd86")]("后")+" "+o[_0x27ab("0xd86")](e[2])),_[_0x27ab("0x10ad")]=c}},{key:_0x27ab("0x10ae"),value:function(x,a){for(var b={dis:-1,point1:null,point2:null},_=0;_<this[_0x27ab("0x1077")][_0x27ab("0x0")];_++){var e=this[_0x27ab("0x1077")][_];if(e.fnum!=x||30!=e[_0x27ab("0x96")]&&40!=e[_0x27ab("0x96")]){if(b[_0x27ab("0x10af")]&&(30==e[_0x27ab("0x96")]||40==e.tid)&&e.fnum!=b[_0x27ab("0x10af")][_0x27ab("0xee")]){b[_0x27ab("0x10b0")]=e,b[_0x27ab("0x10b1")]=(0,u[_0x27ab("0xd6")])(b.point1,b[_0x27ab("0x10b0")]),b[_0x27ab("0x26c")]=this[_0x27ab("0x270")](b[_0x27ab("0x10af")],b[_0x27ab("0x10b0")]);break}}else b.dis=(0,u.DistanceofTwoPts)(e,a),b[_0x27ab("0x10af")]=e}return b}},{key:_0x27ab("0x10b2"),value:function(x,a){for(var b=x[_0x27ab("0xee")],_={x:x.x,y:x.y},i=this.map.sceneId_,n=this.routePlanner[_0x27ab("0x10b3")][_0x27ab("0x847")][i].navs[b-1][_0x27ab("0x4e8")],r=this[_0x27ab("0x105c")][_0x27ab("0x10b3")][_0x27ab("0x847")][i][_0x27ab("0x44b")][b-1].Lines,s=this.routePlanner[_0x27ab("0x10b3")][_0x27ab("0x1062")][i][_0x27ab("0x10b4")],o=(new(t[_0x27ab("0xb")]),new(e[_0x27ab("0xb")])),c=new t.default,l=0;l<navi[_0x27ab("0x1071")].result[_0x27ab("0x0")];l++){navi[_0x27ab("0x1071")][_0x27ab("0xc69")][l][_0x27ab("0x10b5")][_0x27ab("0x1b")]((function(x){c[_0x27ab("0x163")](1*x)}))}for(var f in n){var d=n[f],h={x:d.X,y:d.Y};if((0,u[_0x27ab("0xd6")])(h,x)<100){var g=s[d._id];if(g)for(var v in g){var p=1*g[v];if(!c[_0x27ab("0x10b6")](p)){var A=r[p];if(A&&!o[_0x27ab("0x10b6")](p)){var m=n[A[_0x27ab("0x4f4")]==d._id?A.eid:A[_0x27ab("0x4f4")]];if(m){if((0,u[_0x27ab("0xd7")])({x:_.x,y:_.y},{x:d.X,y:d.Y},{x:m.X,y:m.Y},{})<a)return!0;o.set(p,!0)}}}}}}return!1}},{key:_0x27ab("0x10b7"),value:function(x,a,b,_){var e=this,t=e[_0x27ab("0xc4")],i=this[_0x27ab("0x104a")],n=(new Date)[_0x27ab("0x7c")]();if(e[_0x27ab("0x104d")]&&n-e.crossFutiTime>e.ladderLen*e[_0x27ab("0x10b8")]&&(e[_0x27ab("0x104d")]=!1,e[_0x27ab("0x10b9")]=(new Date)[_0x27ab("0x7c")]()),!e.isCrossingFuti){var r="3"==e[_0x27ab("0x105c")][_0x27ab("0x1087")]?3:1,s=e[_0x27ab("0x10ba")]?e[_0x27ab("0x10ba")]:8*r;if(x.offset>s)this[_0x27ab("0x10b2")](a,x[_0x27ab("0x143")])&&t.deviateCount++;else t.deviateCount=0;if(t.deviateCount>=e[_0x27ab("0x10bb")]){e[_0x27ab("0x1c4")](),e[_0x27ab("0x10bc")]&&e[_0x27ab("0x37")][_0x27ab("0x1060")][_0x27ab("0xda5")](["已重新规划路线"]);var c=e[_0x27ab("0x37")][_0x27ab("0x199")]({from:e[_0x27ab("0x37")][_0x27ab("0x192")],to:e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")],coord:{x:a.x,y:a.y}});if(e[_0x27ab("0x599")][_0x27ab("0x26a")]({x:c.x,y:c.y}),e.startData.x=a.x,e.startData.y=a.y,e[_0x27ab("0x106e")][_0x27ab("0xee")]=a[_0x27ab("0xee")],e[_0x27ab("0x25e")](_0x27ab("0x10bd")),e[_0x27ab("0x1066")])if(e[_0x27ab("0x1066")][_0x27ab("0x251")]!=a[_0x27ab("0xee")]){var l=e[_0x27ab("0x1066")].showLevel,f=e[_0x27ab("0x1066")][_0x27ab("0x1b7")],u=e[_0x27ab("0x1066")][_0x27ab("0x1b9")],d=e[_0x27ab("0x1066")][_0x27ab("0xaf9")],h=(0,o[_0x27ab("0xb")])({},e[_0x27ab("0x1048")]);e[_0x27ab("0x108c")](),e.setStartPoint({x:a.x,y:a.y,showLevel:l,fnum:a[_0x27ab("0xee")],height:f,url:u,size:d}),e[_0x27ab("0x10be")](h)}else e[_0x27ab("0x1066")][_0x27ab("0x26a")](a),e[_0x27ab("0x106c")](),e[_0x27ab("0x1070")]({drawLine:!0}),e[_0x27ab("0x1e0")](_0x27ab("0x35b"),(function(){t[_0x27ab("0x10bf")]=0,e[_0x27ab("0x1d5")](!0)}));return}if(0!=t[_0x27ab("0x10c0")]&&t[_0x27ab("0x10c0")]<x[_0x27ab("0x10c1")]?t[_0x27ab("0x10c2")]++:t[_0x27ab("0x10c2")]=0,b&&(t[_0x27ab("0x10c2")]=0),0==t.backcount||t[_0x27ab("0x10c2")]>=10*r){var g=e[_0x27ab("0x37")][_0x27ab("0x193")](x[_0x27ab("0x777")]);if(g.fnum=x.point[_0x27ab("0xee")],g[_0x27ab("0xeb")]=x[_0x27ab("0x777")][_0x27ab("0xeb")],this[_0x27ab("0x25e")](_0x27ab("0x10c3"),x),this[_0x27ab("0x10c4")](g,x[_0x27ab("0x26c")],x[_0x27ab("0x777")],x[_0x27ab("0x10c5")],_),t.surDistance=x.remain,x[_0x27ab("0x10c1")]<e.maxEnd?t.arrivalCount++:t.arrivalCount=0,t.arrivalCount>e.arrivalCount||x.remain<=1){if(e[_0x27ab("0x10c6")]){var v=null;if(i==_0x27ab("0x204")&&(40004==e[_0x27ab("0x1048")].tid?e[_0x27ab("0x1076")][e[_0x27ab("0x1076")][_0x27ab("0x0")]-1][_0x27ab("0x10c7")]&&(v=e[_0x27ab("0x1076")][e.naviDescriptionsData.length-1][_0x27ab("0x10c7")]):!e[_0x27ab("0x1076")][e[_0x27ab("0x1076")][_0x27ab("0x0")]-1][_0x27ab("0x10ac")]&&e[_0x27ab("0x1076")][e.naviDescriptionsData[_0x27ab("0x0")]-2]&&e[_0x27ab("0x1076")][e[_0x27ab("0x1076")][_0x27ab("0x0")]-2][_0x27ab("0x10ac")]&&(v=e.naviDescriptionsData[e[_0x27ab("0x1076")][_0x27ab("0x0")]-2].endDirection)),e[_0x27ab("0x1c4")](),e[_0x27ab("0x10c8")](0,!0),e[_0x27ab("0x10bc")]&&e.audioTipEnd)if(v){v=v.indexOf("左")<0?"右":"左";var p=_0x27ab("0x10c9")+v+"侧";this[_0x27ab("0x1094")]([p,"导航结束"])}else this[_0x27ab("0x1094")]([_0x27ab("0xd75")])}e[_0x27ab("0x10ca")](),e[_0x27ab("0x25e")](_0x27ab("0x309"))}else if(e[_0x27ab("0x104a")]==_0x27ab("0x204"))e[_0x27ab("0x109d")](x.descriptionIndex,x[_0x27ab("0x10cb")],x[_0x27ab("0x10c1")]);else{var A=e[_0x27ab("0x1086")][x[_0x27ab("0x300")]][_0x27ab("0x10cc")];if(x[_0x27ab("0x10c1")]<=10){if(e[_0x27ab("0x10ad")]="即将到达目的地",x[_0x27ab("0x10c1")]<=1)return e[_0x27ab("0x10ad")]="已到达目的地附近",e[_0x27ab("0x1c4")](),e[_0x27ab("0x10ca")](),void e[_0x27ab("0x25e")](_0x27ab("0x309"))}else e[_0x27ab("0x10ad")]=e[_0x27ab("0x1085")][A][_0x27ab("0x10cd")]}}}}},{key:_0x27ab("0x10ca"),value:function(){if(this[_0x27ab("0x37")][_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x3a")]){var x=this.map[_0x27ab("0xf4")](this[_0x27ab("0x1048")][_0x27ab("0xeb")]);x&&x.id!=this.map.id&&0!=x.id&&(x[_0x27ab("0xf5")]=x[_0x27ab("0x62c")])}}},{key:_0x27ab("0x10ce"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,o[_0x27ab("0xb")])({far:1.2},x);if(this[_0x27ab("0x1071")]){var b=this[_0x27ab("0x1071")].result[0][_0x27ab("0x1073")],_=esmap[_0x27ab("0x80")][_0x27ab("0x5f8")](b),e=b[0][_0x27ab("0xee")],t=esmap.ESMapUtil.computeCameraStateByBounds(_),i=t[_0x27ab("0x638")]*a[_0x27ab("0x975")];if(i<this.bestViewMinDistance&&(i=this[_0x27ab("0x10cf")]),"3D"!=this[_0x27ab("0x37")][_0x27ab("0x1fe")]){var n=i/this.map[_0x27ab("0x296")][_0x27ab("0xa14")];this.map[_0x27ab("0x966")]({value:n,raw:!0,time:1}),this[_0x27ab("0x37")][_0x27ab("0x26a")](t[_0x27ab("0x295")]),this[_0x27ab("0x37")][_0x27ab("0x28d")](0)}else this[_0x27ab("0x37")][_0x27ab("0xa06")]({x:t[_0x27ab("0x295")].x,y:t[_0x27ab("0x295")].y,z:1,fnum:e,radius:i,pitchAngle:1})}}},{key:_0x27ab("0x1c4"),value:function(){C={x:0,y:0},this[_0x27ab("0x10d0")]?(clearInterval(this[_0x27ab("0x10d1")]),this._viewID&&this[_0x27ab("0x10d2")][_0x27ab("0x1c4")](),this[_0x27ab("0x10d3")]&&clearInterval(this._scaleLevelToID),this._moveToID&&this[_0x27ab("0x26b")][_0x27ab("0x1c4")](),this._rotateId&&this._rotateId.stop(),this[_0x27ab("0x105b")]&&this[_0x27ab("0x37")][_0x27ab("0x61")](_0x27ab("0x12b"),this[_0x27ab("0x105b")]),this[_0x27ab("0x1058")]=0,this._preGid=0,this[_0x27ab("0x10d4")]=null,this[_0x27ab("0x10d5")]=0,this[_0x27ab("0x1056")]=this[_0x27ab("0x1057")]=null,this.timer[_0x27ab("0x1c4")](),this[_0x27ab("0x10d0")]=!1,this[_0x27ab("0x10d6")]=null,this[_0x27ab("0x106d")]=!0):this.isNaving&&(this[_0x27ab("0x10d7")]=!1,this[_0x27ab("0xc4")][_0x27ab("0x10bf")]=0,this[_0x27ab("0xc4")][_0x27ab("0x10d8")]=0,this[_0x27ab("0xc4")].backcount=0,this[_0x27ab("0xc4")].surDistance=0,window.clearInterval(this.realNaviClock),this.realNaviClock=0,this[_0x27ab("0x10d9")][_0x27ab("0x300")]=0,this[_0x27ab("0x10d9")][_0x27ab("0x10da")]=0,this[_0x27ab("0x10db")]=20,this.allowPlayDis={},this[_0x27ab("0x1054")]=[],this[_0x27ab("0x10dc")]={}),this.curPathInfos={index:0,dis2next:0},this[_0x27ab("0x1055")]={},this[_0x27ab("0x104e")]={},this._preGid=null,this[_0x27ab("0x10d4")]=null,this.moveTimer=null,this[_0x27ab("0x1086")]=null,this[_0x27ab("0x1053")]=null,this[_0x27ab("0x10dd")]=null}},{key:_0x27ab("0x10c8"),value:function(x,a){for(var b=this[_0x27ab("0x10de")][_0x27ab("0xaf")][_0x27ab("0xb0")],_=0,e=0;e<b.length;e++)if(a)b[e][_0x27ab("0x10b")]=1;else{var t=_;if(b[e].name.indexOf("cross")<0?_+=b[e].length:b[e].name[_0x27ab("0xd1")]("crossBuilding")>=0&&(_+=b[e][_0x27ab("0x0")]),!b[e][_0x27ab("0x127")][_0x27ab("0x10df")]){if(b[e].name[_0x27ab("0xd1")](_0x27ab("0x264"))<0||b[e][_0x27ab("0xc5")].indexOf(_0x27ab("0x9d5"))>=0){if(x<_){b[e][_0x27ab("0x10b")]=(x-t)/b[e].length;break}}else b[e][_0x27ab("0x127")][_0x27ab("0x10df")]||(b[e-1]&&b[e-1][_0x27ab("0x127")][_0x27ab("0x10df")]?(b[e-1][_0x27ab("0x10b")]=1,b[e][_0x27ab("0x10b")]=1):b[e][_0x27ab("0x10b")]=1);b[e][_0x27ab("0x127")].passed=!0}}}},{key:_0x27ab("0x10e0"),value:function(){}},{key:"_onstartNavi",value:function(x,a){if(this[_0x27ab("0x106e")]&&this[_0x27ab("0x1048")]){this[_0x27ab("0x1053")]||(this[_0x27ab("0x1053")]=this._analyse().map((function(x){return{x:x.x,y:x.z,z:0,distance:x[_0x27ab("0x273")],bid:x[_0x27ab("0xeb")],fnum:x[_0x27ab("0xee")],index:x[_0x27ab("0x10e1")]}})));var b=this;(a=a||{})[_0x27ab("0x10e2")]||b.inTime;if(a.scaleLevel=a[_0x27ab("0x243")]||b.scaleLevel||0,b._locMarkerToStartPoint((0,h[_0x27ab("0x11")])(a,_0x27ab("0x1b7"),_0x27ab("0x10e3"),"offset",1.01*b[_0x27ab("0x25")])),(b[_0x27ab("0x10e4")]||(0,h[_0x27ab("0x11")])(a,_0x27ab("0x6b0"),!1))&&b[_0x27ab("0x1072")](null,!0),b.isMultiFloors||this[_0x27ab("0x10e0")]([b[_0x27ab("0x106e")][_0x27ab("0xee")]]),b[_0x27ab("0x2e7")]&&b[_0x27ab("0x10e5")]){var _=b[_0x27ab("0x37")][_0x27ab("0xf4")](this.startData.bid);b.isMultiFloors||(_[_0x27ab("0xf5")]=[b[_0x27ab("0x106e")].fnum]),_[_0x27ab("0x915")]!=b[_0x27ab("0x106e")].fnum?(_[_0x27ab("0x915")]={floornum:b[_0x27ab("0x106e")][_0x27ab("0xee")],time:.3},setTimeout((function(){b[_0x27ab("0x106a")]({time:1.5,coord:{x:b[_0x27ab("0x106e")].x,y:b[_0x27ab("0x106e")].y},scaleLevel:b[_0x27ab("0x243")],tiltAngle:10,onComplete:function(){x()}})}),300)):b[_0x27ab("0x106a")]({time:1.5,coord:{x:b[_0x27ab("0x106e")].x,y:b[_0x27ab("0x106e")].y},scaleLevel:b[_0x27ab("0x243")],tiltAngle:10,onComplete:function(){x()}})}else!function(){if(b[_0x27ab("0x37")][_0x27ab("0x34")]==esmap[_0x27ab("0x39")].Building||b[_0x27ab("0x106e")][_0x27ab("0xeb")]!=b[_0x27ab("0x37")].id){var a=b[_0x27ab("0x37")][_0x27ab("0xf4")](b[_0x27ab("0x106e")].bid);a[_0x27ab("0xf5")]=[b[_0x27ab("0x106e")].fnum],a[_0x27ab("0x915")]={floornum:b[_0x27ab("0x106e")][_0x27ab("0xee")],time:.3},setTimeout((function(){x()}),300)}else x()}()}}},{key:_0x27ab("0x1d5"),value:function(){var x=this;x[_0x27ab("0x10e6")]((function(){x.isNaving=!0}))}},{key:_0x27ab("0x10e7"),value:function(){}},{key:_0x27ab("0x10e8"),value:function(x){var a=this;a[_0x27ab("0x1086")]||a[_0x27ab("0x2c9")](),a[_0x27ab("0x10e6")]((function(){a[_0x27ab("0x106d")]=!1,a[_0x27ab("0x10e9")]()}),x)}},{key:_0x27ab("0x10ea"),value:function(x,a){var b=this,_=x,e=_[_0x27ab("0x271")];if(!_[_0x27ab("0xee")]){var t=b.map[_0x27ab("0x629")]();_[_0x27ab("0xee")]=t[_0x27ab("0x915")]}if(typeof _.x===_0x27ab("0x148")&&typeof _.y===_0x27ab("0x148")&&(_.x!=C.x||_.y!=C.y)){var i=b[_0x27ab("0x37")][_0x27ab("0x199")]({from:b[_0x27ab("0x37")][_0x27ab("0x192")],to:b[_0x27ab("0x37")][_0x27ab("0x191")],coord:_});i.x<b[_0x27ab("0x37")][_0x27ab("0x446")]-100||i.x>b[_0x27ab("0x37")][_0x27ab("0x448")]+100||i.y<b[_0x27ab("0x37")].minY-100||i.y>b[_0x27ab("0x37")][_0x27ab("0x449")]+100?console[_0x27ab("0x257")](_0x27ab("0x10ed")):((b[_0x27ab("0x10d7")]||b[_0x27ab("0x10d0")])&&function(){var x=b[_0x27ab("0x10eb")](_);if(x){var t={remain:x[_0x27ab("0x10c1")],walk:b[_0x27ab("0x1044")]-x.remain,distanceToNext:x[_0x27ab("0x10cb")],angle:x[_0x27ab("0x26c")],point:x.coord,index:x[_0x27ab("0x10ec")],isReal:!0,descriptionIndex:x[_0x27ab("0x10ec")],offset:x.distance};t[_0x27ab("0x10c5")]&&(b[_0x27ab("0x1059")]||(b[_0x27ab("0x1059")]=b[_0x27ab("0x106e")][_0x27ab("0xee")]),b[_0x27ab("0x10d4")]||(b._preBid=b[_0x27ab("0x106e")][_0x27ab("0xeb")]),a=a||!1,b.curPathInfos={index:x[_0x27ab("0x300")],desIndex:x.naviinfoindex,dis2next:t[_0x27ab("0x10cb")]},b[_0x27ab("0x10b7")](t,_,a,e))}}(),C.x=_.x,C.y=_.y)}}},{key:_0x27ab("0x10eb"),value:function(x){var a=this;if(a[_0x27ab("0x106e")]&&a[_0x27ab("0x1048")]){for(var b={coord:{fnum:x.fnum},distance:null,angle:0,balanceValue:null},_=a.analysedData,e={},t=function(x){for(var a=0,b=_[_0x27ab("0x0")]-1;b>x[_0x27ab("0x300")];b--)if(b-1>x[_0x27ab("0x300")]){var e=_[b],t=_[b-1];e[_0x27ab("0xee")]==t[_0x27ab("0xee")]&&(a+=(0,u.DistanceofTwoPts)(e,t))}return a+=(0,u[_0x27ab("0xd6")])(_[x[_0x27ab("0x300")]+1],x[_0x27ab("0x1d8")])},i=t({coord:a[_0x27ab("0x37")][_0x27ab("0x26e")](a[_0x27ab("0x599")][_0x27ab("0xc3")]),index:a[_0x27ab("0x10d9")].index}),n=1;n<_[_0x27ab("0x0")];n++){var r=_[n-1],s=_[n];if(r[_0x27ab("0xee")]===x.fnum&&s[_0x27ab("0xee")]===x[_0x27ab("0xee")]){var c=(0,u.calcProjPoint)(x,r,s,e),l=i-t({index:r[_0x27ab("0x300")],coord:e}),f=.5;a[_0x27ab("0x10d0")]&&(f=-1/0),Math.abs(l)<f&&0==(l*=10)&&(l=10);var d=.8*c+(c>1?Math[_0x27ab("0x274")](.2*l):0);(null==b[_0x27ab("0x10ef")]||d<b[_0x27ab("0x10ef")])&&(b[_0x27ab("0x273")]=c,b.balanceValue=d,(0,o.default)(b.coord,e),b.angle=a[_0x27ab("0x270")](r,s),b[_0x27ab("0x300")]=r[_0x27ab("0x300")],b.fnum=r.fnum)}}if(null!=b.distance){var h=t(b);b.remain=h-a[_0x27ab("0x1052")];var g=function(x){for(var b=a[_0x27ab("0x1076")],_=a.navidistance-x,e=1/0,t=!1,i=!1,n=0,r=0,s=0,o=0,c=1,l=0;l<b.length;l++){var f=b[l];if(!i&&_<f.totalDisntance)n=r=f[_0x27ab("0x8ce")][_0x27ab("0xeb")],i=!0,s=f[_0x27ab("0x10ee")]-_,o=l,c=f[_0x27ab("0x8ce")][_0x27ab("0xee")],e=f[_0x27ab("0x10ee")]-_;else{if(t)return{distonex:s,index:o,nexbid:n,distancetonexbid:e,bid:r,fnum:c};if(i){var u=f[_0x27ab("0x8ce")][_0x27ab("0xeb")];u!=r?(t=!0,n=u):e=f[_0x27ab("0x10ee")]-_}}}return i&&t?{distonex:s,index:o,nexbid:n,distancetonexbid:e,bid:r,fnum:c}:i&&!t?{distonex:s,index:o,nexbid:n,distancetonexbid:1/0,bid:r,fnum:c}:{distonex:0,index:b[_0x27ab("0x0")]-1,distancetonexbid:1/0,bid:b[b[_0x27ab("0x0")]-1][_0x27ab("0x8cf")][_0x27ab("0xeb")],fnum:b[b[_0x27ab("0x0")]-1][_0x27ab("0x8cf")][_0x27ab("0xee")]}}(h-a[_0x27ab("0x1052")]);b.distanceToNext=g[_0x27ab("0x10f0")],b[_0x27ab("0x10ec")]=g[_0x27ab("0x300")],b[_0x27ab("0x1d8")].bid=g[_0x27ab("0xeb")],b.coord[_0x27ab("0xee")]=g[_0x27ab("0xee")],b.nexbid=g[_0x27ab("0x10f1")]}return b}}},{key:_0x27ab("0x270"),value:function(x,a){var b=new(THREE[_0x27ab("0xe7")])(0,0,1),_=new(THREE[_0x27ab("0xe7")])(x.x,0,x.y),e=new(THREE[_0x27ab("0xe7")])(a.x,0,a.y)[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](_)[_0x27ab("0x2f4")](),t=e[_0x27ab("0x265")](b)*THREE[_0x27ab("0x28e")][_0x27ab("0x2f5")];return isNaN(t)&&(t=0),e[_0x27ab("0xe2")]()[_0x27ab("0x264")](b).y>0?360-t:t}},{key:_0x27ab("0x10f2"),value:function(x,a,b){if(a>=b)return x[x[_0x27ab("0x0")]-1];if(x){if(0==a)return x[0];for(var _,e,t=0,i=0,n=x[0],r=1;r<x[_0x27ab("0x0")];r++)if((_=x[r])[_0x27ab("0xee")]==n.fnum){if((t+=(e=_[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](n))[_0x27ab("0x0")]())>=a){e.normalize();var s=n[_0x27ab("0xe2")]().add(e.clone()[_0x27ab("0x28c")](a-i));return s[_0x27ab("0xee")]=_.fnum,s[_0x27ab("0x300")]=_[_0x27ab("0x10e1")],s}(n=_.clone()).fnum=_.fnum,n[_0x27ab("0x300")]=_[_0x27ab("0x10e1")],i=t}else(n=_[_0x27ab("0xe2")]()).fnum=_[_0x27ab("0xee")],n[_0x27ab("0x300")]=_[_0x27ab("0x10e1")];var c=(0,o[_0x27ab("0xb")])(new(THREE[_0x27ab("0xe7")]),x[x.length-1]);return c[_0x27ab("0x300")]=c[_0x27ab("0x10e1")],c}}},{key:_0x27ab("0x10f3"),value:function(x,a){var b=this,_=x[_0x27ab("0xeb")]||b[_0x27ab("0x37")].id;if(x.id){var e,t;if(b[_0x27ab("0x37")].mode==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]&&x[_0x27ab("0xeb")]==b[_0x27ab("0x37")].id)return this[_0x27ab("0x104f")]="室内","室内";if(1==b[_0x27ab("0x34")]){if(!b[_0x27ab("0x105c")][_0x27ab("0x10b3")][_0x27ab("0x1062")][_][_0x27ab("0x10f4")][_0x27ab("0x10f5")][x.id])return null;e=b[_0x27ab("0x105c")][_0x27ab("0x10b3")][_0x27ab("0x1062")][_][_0x27ab("0x10f4")][_0x27ab("0x10f5")][x.id][0],t=b[_0x27ab("0x105c")].routeCore[_0x27ab("0x1062")][_].allLineMap[e]}else{if(!b[_0x27ab("0x105c")][_0x27ab("0x10b3")][_0x27ab("0x1062")][_][_0x27ab("0x10f4")].carModeScheme[x.id])return null;e=b[_0x27ab("0x105c")][_0x27ab("0x10b3")].dataList[_][_0x27ab("0x10f4")][_0x27ab("0x10f6")][x.id][0],t=b[_0x27ab("0x105c")][_0x27ab("0x10b3")][_0x27ab("0x1062")][_][_0x27ab("0x10f7")][e]}switch(1*t[_0x27ab("0x4fc")]||0){case 1:return this[_0x27ab("0x104f")]="楼梯","楼梯";case 2:return this[_0x27ab("0x104f")]="电梯","电梯";case 3:return this[_0x27ab("0x104f")]="扶梯","扶梯";case 4:case 5:return this[_0x27ab("0x104f")]="坡道","坡道"}}return"梯"}},{key:"_naviDescriptions",value:function(x){function a(x,a){var b=Math.PI/4,_=x/b,e=parseInt(_),t=_%1*b;return e%2==0?t>a&&(e+=1):t>=b-a&&(e+=1),e}function b(x,a){var b=a[_0x27ab("0x265")](x);return a[_0x27ab("0xe2")]()[_0x27ab("0x264")](x).y<0&&(b=2*Math.PI-b),b}function _(x,_){if(_==x[_0x27ab("0x0")]-1)return{index:x[x[_0x27ab("0x0")]-1][_0x27ab("0x300")]};var e=new THREE.Vector3(0,0,1),t=0==_?e:x[_][_0x27ab("0xe2")]()[_0x27ab("0x2f3")](x[_-1]).normalize(),i=x[_+1][_0x27ab("0xe2")]()[_0x27ab("0x2f3")](x[_]),n=i[_0x27ab("0x0")](),r=i[_0x27ab("0x2f4")](),s=a(b(e,r),22.5*THREE[_0x27ab("0x28e")].DEG2RAD),o=b(t,r),c=a(o,22.5*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")]);return{relField:c,relDesc:A[c],relAngle:o*THREE.Math[_0x27ab("0x2f5")],absField:s,absDesc:p[s],distance:n,index:x[_][_0x27ab("0x300")]}}function e(x,a){for(var b=x[_0x27ab("0x37")]((function(x,a){var b=(0,o[_0x27ab("0xb")])(new THREE.Vector3,x),_=n[_0x27ab("0x37")].coordMapToThree(x);return b.x=_.x,b.y=_.y,b.z=_.z,b[_0x27ab("0x300")]=a,b})),e=[],t=0;t<b[_0x27ab("0x0")];t++){var i=_(b,t);i[_0x27ab("0x777")]=x[t],i.fnum=a,e[_0x27ab("0x1")](i)}var r=[e[0]];for(t=1;t<e.length;t++)e[t].relAngle<=n[_0x27ab("0x10f8")]||360-e[t][_0x27ab("0x10f9")]<=n[_0x27ab("0x10f8")]?r[r.length-1][_0x27ab("0x273")]+=e[t].distance:r[_0x27ab("0x1")](e[t]);return r}function t(x,a,b,_,e,t,i){var r=x[a],s=x[a+1],o=m[s[_0x27ab("0x10fa")]];if(n[_0x27ab("0x10fb")]=0,!o||n[_0x27ab("0x10fb")])if(_){if(n._boo=!1,!o){console[_0x27ab("0x362")](_0x27ab("0x10fc"),i);var c=n[_0x27ab("0x37")][_0x27ab("0xf4")](i),l=n._getLadderType(s[_0x27ab("0x777")],b),f=_>b?"上行":"下行",u=c[_0x27ab("0x61b")](_)[_0x27ab("0xf47")];o="室内"==l?_0x27ab("0x10fd"):"室外"==u?"进入 室外":"进入 "+l+" "+f+" 前往 "+u+" 层"}}else n[_0x27ab("0x10fb")]&&(n[_0x27ab("0x10fe")]=s[_0x27ab("0x273")]),o="到达目的地";var d=[];return 0==a?d[_0x27ab("0x1")]("直行",Math.ceil(r.distance),o):d[_0x27ab("0x1")]("直行",Math[_0x27ab("0xbc")](r.distance+(n._boo&&!_?s[_0x27ab("0x273")]:0)),o),d}function i(x,a,b,_,e,t,i){var r=x[a],s=x[a+1];if(!m[x[a+1][_0x27ab("0x10fa")]]||n[_0x27ab("0x10fb")])if(_){var o=_>b?"上":"下";s[_0x27ab("0x10ff")]=o}else s[_0x27ab("0x10ff")]="终";var c=r.distance+(n[_0x27ab("0x10fb")]&&!_?s.distance:0),l=s[_0x27ab("0x10c7")],f=!1,u=!1,d=!1,h=!1;return c<=40&&(d=!0),c<=20&&(f=!0),a==x[_0x27ab("0x0")]-1&&(u=!0,h=!0),{startPoint:r.point,startFloor:r[_0x27ab("0xee")],startIndex:r.index,totalDisntance:r[_0x27ab("0x10ee")],endPoint:s[_0x27ab("0x777")],manModeTipStarted:f,manWalkedCount:30,carWalkedCount:40,parkDir:l,manModeTipEnded:u,carModeTipStarted:d,carModeTipEnded:h,endFloor:s[_0x27ab("0xee")],endIndex:s[_0x27ab("0x300")],startDirection:r[_0x27ab("0x1100")],endDirection:s[_0x27ab("0x10ff")],distance:c}}var n=this;n[_0x27ab("0x1086")]=[],n[_0x27ab("0x10fb")]=!1,n[_0x27ab("0x10fe")]=0;for(var r,s,c,l,f,u=[],d=[],h=null,g=0,v=[],p=["北","东北","东","东南","南","西南","西","西北","北"],A=["前","右前","右","右后","后","左后","左","左前","前"],m=[_0x27ab("0x1101"),_0x27ab("0xd79"),"右转","右后转","后退","左后转","左转",_0x27ab("0xd78"),_0x27ab("0x1101")],C=null,I=0,y=0;y<x[_0x27ab("0x0")];y++){if(h=(r=x[y])[_0x27ab("0xee")],c=null,y<x[_0x27ab("0x0")]-1)for(f=y;f<x[_0x27ab("0x0")];f++)if(x[f].fnum!=h){c=x[f][_0x27ab("0xee")],l=x[f].bid;break}var E=r[_0x27ab("0xeb")];if(E,y<x[_0x27ab("0x0")]-1)for(var w=y;w<x[_0x27ab("0x0")];w++)if(x[w][_0x27ab("0xeb")]!=E){x[w].bid;break}var T,k=e(s=r[_0x27ab("0x1073")],h);T=s[0][_0x27ab("0xeb")]==n[_0x27ab("0x37")].id?n.map[_0x27ab("0xf4")](0):n[_0x27ab("0x37")][_0x27ab("0xf4")](s[0][_0x27ab("0xeb")]),k.length>1&&Array[_0x27ab("0x2")][_0x27ab("0x1")][_0x27ab("0x5")](n[_0x27ab("0x1086")],k);n[_0x27ab("0x1086")][_0x27ab("0x0")];if(1==k[_0x27ab("0x0")]&&0!=r[_0x27ab("0x0")]&&Array.prototype.push[_0x27ab("0x5")](n[_0x27ab("0x1086")],k),1==k[_0x27ab("0x0")]){if(c&&0==r[_0x27ab("0x0")]&&(C==h||null==C)){var S=n._getLadderType(k[0][_0x27ab("0x777")]);S||(S=T.id);var M=T[_0x27ab("0x61b")](c),R=void 0;R=(R=c>1&&0==T.id?"室内":M[_0x27ab("0xf47")])[_0x27ab("0x28")]("")[_0x27ab("0x2d")](" ");var L=[_0x27ab("0x1102")+S+" 前往 "+R+" 层"];u[_0x27ab("0x1")](L),d[_0x27ab("0x1")]({startPoint:s[0],startDirection:c>h?"上":"下",startFloor:h,endFloor:c,endPoint:x[f].pointList[0]})}}else{for(var H=[(0,o[_0x27ab("0xb")])({},k[0])],D=1;D<k[_0x27ab("0x0")]-1;D++){var P=(0,o[_0x27ab("0xb")])({},k[D]);Math[_0x27ab("0x340")](P[_0x27ab("0x10f9")],360-P[_0x27ab("0x10f9")])<=22.5?H[H[_0x27ab("0x0")]-1].distance+=P[_0x27ab("0x273")]:H.push(P)}H[_0x27ab("0x1")]((0,o[_0x27ab("0xb")])({},k[k[_0x27ab("0x0")]-1])),40004==n[_0x27ab("0x1048")][_0x27ab("0x96")]&&y==x[_0x27ab("0x0")]-1&&H[_0x27ab("0x0")]>=3&&(H.pop(),H[H[_0x27ab("0x0")]-1][_0x27ab("0x273")]<8&&(n[_0x27ab("0x1052")]=H[H[_0x27ab("0x0")]-1][_0x27ab("0x273")],H[H[_0x27ab("0x0")]-1]={index:H[H[_0x27ab("0x0")]-1][_0x27ab("0x300")],point:H[H.length-1][_0x27ab("0x777")],fnum:H[H[_0x27ab("0x0")]-1][_0x27ab("0xee")],parkDir:H[H[_0x27ab("0x0")]-1][_0x27ab("0x10ff")]}));for(var O=0;O<H[_0x27ab("0x0")]-1&&!n[_0x27ab("0x10fb")];O++)I+=H[O][_0x27ab("0x273")],H[O][_0x27ab("0x10ee")]=I,u[_0x27ab("0x1")](t(H,O,h,c,0,0,l)),d[_0x27ab("0x1")](i(H,O,h,c))}if(C=h,k.length>1){var B=k[_0x27ab("0xdf")]((function(x,a){return x+(a[_0x27ab("0x273")]||0)}),0);v[_0x27ab("0x1")]({fnum:h,distance:B}),g+=B}}return[u,d,g-=n[_0x27ab("0x1052")],v]}},{key:_0x27ab("0x10c4"),value:function(x,a,b,_,e){var t=this;function i(){t[_0x27ab("0x599")][_0x27ab("0xee")]=x[_0x27ab("0xee")],t[_0x27ab("0x599")][_0x27ab("0xf6")]=!0}if(t[_0x27ab("0x1059")]!=x[_0x27ab("0xee")]||t[_0x27ab("0x10d4")]!=x[_0x27ab("0xeb")]){t[_0x27ab("0x1059")]=x[_0x27ab("0xee")],t[_0x27ab("0x10d5")]++,t[_0x27ab("0x599")][_0x27ab("0xf6")]=!1;var n={x:-x.x-t[_0x27ab("0x37")][_0x27ab("0x15d")][_0x27ab("0x1ab")],y:x.z+t.map[_0x27ab("0x15d")][_0x27ab("0x1ac")]};n[_0x27ab("0xee")]=x[_0x27ab("0xee")],function(a){if(!t[_0x27ab("0x1103")]){var b=t[_0x27ab("0x37")][_0x27ab("0xf4")](x[_0x27ab("0xeb")]);0!=b.id&&(b[_0x27ab("0xf5")]=[x[_0x27ab("0xee")]],b[_0x27ab("0x915")]={fnum:x[_0x27ab("0xee")],notMove:!0});var _=t[_0x27ab("0x599")][_0x27ab("0x1104")](),e=t[_0x27ab("0x107a")][t[_0x27ab("0x10d5")]];e&&e[_0x27ab("0x1073")]&&e[_0x27ab("0x1073")].length>0&&(_=t._groupsPoints[t[_0x27ab("0x10d5")]].pointList[0]),_[_0x27ab("0xee")]=x[_0x27ab("0xee")],t.locationMarker[_0x27ab("0x262")]({x:_.x,y:_.y,fnum:_[_0x27ab("0xee")],bid:x[_0x27ab("0xeb")]})}a?(t[_0x27ab("0x37")][_0x27ab("0x1105")]=!0,t[_0x27ab("0x26b")]=t._moveTo(n,t.inTime,(function(){var x=t[_0x27ab("0x37")].scaleLevels_[t[_0x27ab("0x243")]]<.2?t[_0x27ab("0x1106")]:t.map.scaleLevels_[t[_0x27ab("0x243")]];t.map[_0x27ab("0x966")]({value:x,time:t[_0x27ab("0x10e2")],onComplete:function(){t._changeFnumIng=!1,t.map[_0x27ab("0x1105")]=!1}}),i(),t[_0x27ab("0x1107")]&&(t[_0x27ab("0x10d2")]=new(esmap[_0x27ab("0x1cc")].Tween)(t[_0x27ab("0x37")]).to({tiltAngle:t.tiltAngle},1e3*t.inTime)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")].Quadratic[_0x27ab("0x1d1")])[_0x27ab("0x1d5")]())}))):(i(),t._changeFnumIng=!1,t[_0x27ab("0x37")][_0x27ab("0x1105")]=!1)}(!1),t[_0x27ab("0x25e")](_0x27ab("0x1108"),x[_0x27ab("0xee")])}t[_0x27ab("0x299")]&&(null===t.lastAngle||!isNaN(a)&&Math[_0x27ab("0x274")](t[_0x27ab("0x10dd")]-a)>.1)&&(t._rotateId=t[_0x27ab("0x37")].rotateTo({angle:a,time:.6}));var r=1;if(e&&t.lastAngle!=a){var s=-a;s<0&&(s=360+s),t[_0x27ab("0x599")].rotateTo({angle:s,time:t[_0x27ab("0x1109")]}),r=.2}t.lastAngle=a;var o={x:b.x,y:b.y,time:r};t[_0x27ab("0x599")][_0x27ab("0xf6")]||(t[_0x27ab("0x599")].visible=!0),t[_0x27ab("0x10d0")]?o[_0x27ab("0x1cb")]=0:null!=t[_0x27ab("0x1049")]&&(o[_0x27ab("0x1cb")]=t[_0x27ab("0x1049")]);var c=t[_0x27ab("0x37")].transformCoord({from:t[_0x27ab("0x37")][_0x27ab("0x192")],to:t[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")],coord:{x:o.x,y:o.y}});c.time=o[_0x27ab("0x1cb")],t[_0x27ab("0x599")].moveTo(c),t.lineObj.o3d_[_0x27ab("0xb0")][0]&&_&&t[_0x27ab("0x10c8")](_);var l=t[_0x27ab("0x110a")],f=1;!l&&t[_0x27ab("0x10d0")]&&(f=0);var u=(new Date)[_0x27ab("0x7c")]();u-t[_0x27ab("0x1050")]>1e3*l+1e3*f&&(t[_0x27ab("0x2e7")]&&(t[_0x27ab("0x26b")]=t.map[_0x27ab("0x110b")]({x:c.x,y:c.y,time:f})),t.moveTimer=u)}},{key:"_anim",value:function(){var x=this;x[_0x27ab("0x10d1")]&&clearInterval(x[_0x27ab("0x10d1")]);var a=x[_0x27ab("0x110c")]();x[_0x27ab("0x948")][_0x27ab("0x1d5")](),x.isSimulating=!0,x[_0x27ab("0x10d5")]=0,x[_0x27ab("0x10fe")]=0,x[_0x27ab("0x10d1")]=setInterval((function(){if(!x._isEnd_){var b=x[_0x27ab("0x110d")];if(x.vvs=x[_0x27ab("0x30f")]*b,!x[_0x27ab("0x105a")]&&!x[_0x27ab("0x110e")]&&(x._allLen+=x.vvs,0!=x[_0x27ab("0x1058")])){var _=x[_0x27ab("0x10f2")](a,x[_0x27ab("0x1058")]),e=x[_0x27ab("0x1044")]-x[_0x27ab("0x1058")],t=(0,o[_0x27ab("0xb")])({},_),i=(0,o[_0x27ab("0xb")])(new(THREE[_0x27ab("0xe7")]),_);t.y;if(!_)return void(x[_0x27ab("0x106d")]=!0);if(e<=0&&(x._isEnd_=!0,x[_0x27ab("0x599")].setPosition(i.x,i.z,i[_0x27ab("0xee")],1.01*x.offsetHeight)),x.navMode==_0x27ab("0x204"))x[_0x27ab("0x10ea")]({fnum:i[_0x27ab("0xee")],x:i.x,y:i.z,orientToPath:!0});else{var n={x:i.x,y:i.z},r=0;if(a[_[_0x27ab("0x300")]]){var s={x:a[_.index].x,y:a[_[_0x27ab("0x300")]].z};r=x[_0x27ab("0x270")](n,s)}x[_0x27ab("0x10b7")]({angle:r,remain:e,walk:x[_0x27ab("0x1058")],point:n,fnum:_[_0x27ab("0xee")]||1,index:_.index-1},n,100,!0)}}}}),10)}},{key:_0x27ab("0x110c"),value:function(){if(this[_0x27ab("0x106e")]&&this.endData){if(this[_0x27ab("0x104a")]==_0x27ab("0x1081")){var x=-1,a=this[_0x27ab("0x1086")][_0x27ab("0x37")]((function(a,b){var _=new(THREE[_0x27ab("0xe7")])(a.x,0,a.z);return _[_0x27ab("0xee")]=a.fnum||1,_.bid=a.bid||0,_[_0x27ab("0x10e1")]=b,_[_0x27ab("0x110f")]=a[_0x27ab("0x10cc")],x=b,_})),b=this.combinePoints[this[_0x27ab("0x1086")][_0x27ab("0x0")]-1];return(_=new THREE.Vector3(b.x,0,b.z))[_0x27ab("0xee")]=b[_0x27ab("0x1110")],_[_0x27ab("0x10e1")]=x+1,_[_0x27ab("0xeb")]=b[_0x27ab("0xeb")],a[_0x27ab("0x1")](_),a}var _;x=-1,a=this[_0x27ab("0x1086")][_0x27ab("0x37")]((function(a,b){var _=new(THREE[_0x27ab("0xe7")])(a[_0x27ab("0x777")].x,0,a[_0x27ab("0x777")].y);return _[_0x27ab("0xee")]=a[_0x27ab("0x777")][_0x27ab("0xee")],_[_0x27ab("0x10e1")]=b,_[_0x27ab("0x273")]=a[_0x27ab("0x273")],_.bid=a.point[_0x27ab("0xeb")],x=b,_})),b=this[_0x27ab("0x1086")][this[_0x27ab("0x1086")][_0x27ab("0x0")]-1];return(_=new(THREE[_0x27ab("0xe7")])(b[_0x27ab("0x777")].x,0,b[_0x27ab("0x777")].y))[_0x27ab("0xee")]=b[_0x27ab("0x777")][_0x27ab("0xee")],_[_0x27ab("0x10e1")]=x+1,_[_0x27ab("0x273")]=b[_0x27ab("0x273")],_[_0x27ab("0xeb")]=b.point[_0x27ab("0xeb")],a[_0x27ab("0x1")](_),a}}},{key:_0x27ab("0x1111"),value:function(x){for(var a=this.map.mapService[_0x27ab("0x17a")].navs,b=0;b<a[_0x27ab("0x0")];b++){if(a[b][_0x27ab("0x4e9")][x])return{floornum:a[b][_0x27ab("0x4a1")]}}return null}},{key:_0x27ab("0x1112"),value:function(x){for(var a=this.map,b=this.map.sceneId_,e=(0,_.default)({},b,{}),t=0;t<x[_0x27ab("0x0")];t++){var i=x[t],n=i[_0x27ab("0x4a1")];if(!n){var r=this[_0x27ab("0x1111")](i.id);if(!r){console[_0x27ab("0x257")](_0x27ab("0x1113")+i.id);continue}n=r[_0x27ab("0x4a1")]}e[b][n]||(e[b][n]={}),e[b][n][i.id]=i.state}for(var s in e){var c=e[s],l=a[_0x27ab("0x175")].sourceData;if(l.navs&&l[_0x27ab("0x44b")].length){for(var f={navs:[]},u=0;u<l[_0x27ab("0x44b")].length;u++){var d=l.navs[u],h=d[_0x27ab("0x4a1")],g={},v=d.Nodes,p=c[h];for(var A in d[_0x27ab("0x4e9")]){var m=(0,o.default)({},d[_0x27ab("0x4e9")][A]);if(p&&p[_0x27ab("0xc")](A))switch(p[A]){case 0:continue;case 1:g[A]=m;break;case 2:m.direction="1",g[A]=m;break;case 3:m.direction="1";var C=m[_0x27ab("0x4f4")];m[_0x27ab("0x4f4")]=m[_0x27ab("0x4f9")],m[_0x27ab("0x4f9")]=C,g[A]=m;break;case 4:m.direction="0",g[A]=m}else g[A]=m}f[_0x27ab("0x44b")].push({floornum:h,Lines:g,Nodes:v})}this[_0x27ab("0x105c")][_0x27ab("0x10b3")][_0x27ab("0x1062")][s]=null,this[_0x27ab("0x105c")].routeCore[_0x27ab("0x847")][s]=f,this[_0x27ab("0x105c")].routeCore.preprocess(s)}else console[_0x27ab("0x257")](_0x27ab("0x1114")+s)}}},{key:_0x27ab("0x1115"),get:function(){return this[_0x27ab("0x107a")]}},{key:_0x27ab("0x34"),get:function(){return v[_0x27ab("0x35e")](this)},set:function(x){this[_0x27ab("0x34")]!=x?(v[_0x27ab("0x123")](this,x),this[_0x27ab("0x106f")]()):v.set(this,x)}},{key:"navTip",get:function(){return m[_0x27ab("0x35e")](this)},set:function(x){var a=this.navTip;m[_0x27ab("0x123")](this,x),a!=x&&this[_0x27ab("0x25e")](_0x27ab("0x1116"),x)}},{key:_0x27ab("0x1087"),get:function(){return p[_0x27ab("0x35e")](this)},set:function(x){this[_0x27ab("0x1087")]!=x?(p[_0x27ab("0x123")](this,x),this[_0x27ab("0x106f")]()):p[_0x27ab("0x123")](this,x)}},{key:_0x27ab("0x599"),get:function(){if(!A[_0x27ab("0x35e")](this)){var x=this[_0x27ab("0x1117")];x.url=this.locationMarkerUrl||_0x27ab("0x1118"),x[_0x27ab("0xaf9")]=this[_0x27ab("0x1119")]||50,x.spritify=this[_0x27ab("0x111a")],x.seeThrough=this[_0x27ab("0x111b")],A.set(this,new(esmap[_0x27ab("0x5ca")])(x)),this.map[_0x27ab("0xad6")](A[_0x27ab("0x35e")](this))}return A.get(this)},set:function(x){x instanceof esmap[_0x27ab("0x5ca")]&&(A[_0x27ab("0x123")](this,x),this[_0x27ab("0x37")][_0x27ab("0xad6")](A[_0x27ab("0x35e")](this)))}}]),x}();a.default=y},,,,,,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=s(b(42)),e=s(b(8)),t=s(b(0)),i=s(b(1)),n=s(b(344)),r=b(70);function s(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var o=function(){function x(){(0,t[_0x27ab("0xb")])(this,x),this[_0x27ab("0x10b3")]=new(n[_0x27ab("0xb")]),this[_0x27ab("0x1071")]=null,this[_0x27ab("0x1043")]=null}return(0,i.default)(x,[{key:_0x27ab("0x111c"),value:function(x){for(var a={distance:x[_0x27ab("0x2e")][0][_0x27ab("0x273")],posList:[]},b=x[_0x27ab("0x2e")][0][_0x27ab("0x111d")],_=0,e=0,t=b[_0x27ab("0x0")];e<t;e++)for(var i=b[e],n=this[_0x27ab("0x111e")](i.polyline),s=this[_0x27ab("0x111f")](n),o=e==b[_0x27ab("0x0")]-1?s.length:s[_0x27ab("0x0")]-1,c=0;c<o;c++){var l=s[c],f=(new THREE.Vector3)[_0x27ab("0x27d")](l);if(f[_0x27ab("0x10cc")]=e,a[_0x27ab("0x1120")][_0x27ab("0x1")](f),a.posList.length>1){var u=a[_0x27ab("0x1120")][a[_0x27ab("0x1120")][_0x27ab("0x0")]-2],d=a.posList[a.posList[_0x27ab("0x0")]-1];_+=(0,r.DistanceofTwoPts)({x:u.x,y:u.z},{x:d.x,y:d.z})}}return a.computeDistance=_,a}},{key:_0x27ab("0x1121"),value:function(x,a){var b=this;return new(e[_0x27ab("0xb")])((function(_,e){var t=a.url+"?",i=!1;for(var n in a[_0x27ab("0x1122")])i&&(t+="&"),t+=n+"="+a[_0x27ab("0x1122")][n],i=!0;esmap[_0x27ab("0x588")][_0x27ab("0x35e")]({url:t})[_0x27ab("0x35b")]((function(a){var t=JSON.parse(a);if("1"===t[_0x27ab("0x314")]||0===t[_0x27ab("0x1123")]){var i,n=null;x!==_0x27ab("0x1124")?(i=t[_0x27ab("0x1125")][_0x27ab("0x2e")][0],n=t.route):(i=t[_0x27ab("0x366")][_0x27ab("0x2e")][0],n=t.data);for(var r=b[_0x27ab("0x111c")](n),s=r[_0x27ab("0x1126")],o=[],c=r[_0x27ab("0x1120")],l=null,f=0;f<c.length;f++){var u=c[f];l&&u.x===l.x&&u.z===l.z||(o[_0x27ab("0x1")]({x:u.x,y:u.z}),l=u)}_({pointList:o,rawPointList:r.posList,distance:s,des:i[_0x27ab("0x111d")]})}else e(),b.emit(_0x27ab("0x1127"),0)}))}))}},{key:_0x27ab("0x111e"),value:function(x){var a=x.split(";"),b=[],e=!0,t=!1,i=void 0;try{for(var n,r=(0,_[_0x27ab("0xb")])(a);!(e=(n=r[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);e=!0){var s=n.value[_0x27ab("0x28")](","),o=[parseFloat(s[0]),parseFloat(s[1])];b[_0x27ab("0x1")](o)}}catch(x){t=!0,i=x}finally{try{!e&&r.return&&r[_0x27ab("0x2be")]()}finally{if(t)throw i}}return b}},{key:_0x27ab("0x111f"),value:function(x){var a=[],b=!0,e=!1,t=void 0;try{for(var i,n=(0,_[_0x27ab("0xb")])(x);!(b=(i=n[_0x27ab("0x2b8")]())[_0x27ab("0x3df")]);b=!0){var r=i[_0x27ab("0xf8")],s=esmap[_0x27ab("0x80")][_0x27ab("0xb7")](r[0],r[1]);a[_0x27ab("0x1")](new(THREE[_0x27ab("0xe7")])(s[0],0,s[1]))}}catch(x){e=!0,t=x}finally{try{!b&&n.return&&n.return()}finally{if(e)throw t}}return a}},{key:_0x27ab("0x1128"),value:function(x,a,b){var _="";return x===_0x27ab("0x1080")&&(_=_0x27ab("0x1129")),"walking"===x&&(_=_0x27ab("0x112a")),x===_0x27ab("0x1124")&&(_=_0x27ab("0x112b")),{url:_,param:{origin:a[0][_0x27ab("0x60b")](6)+","+a[1][_0x27ab("0x60b")](6),destination:b[0].toFixed(6)+","+b[1][_0x27ab("0x60b")](6),output:_0x27ab("0xbd"),key:this[_0x27ab("0x1043")]}}}},{key:_0x27ab("0x1070"),value:function(x){var a=x[_0x27ab("0xeb")],b=x.startPoint,_=x[_0x27ab("0x8cf")],e=x[_0x27ab("0x34")],t=x.ladderType,i=x.linkStartEnd,n=x[_0x27ab("0x107b")],r=x[_0x27ab("0x107f")],s=x[_0x27ab("0x70")],o=esmap[_0x27ab("0x80")][_0x27ab("0xb8")](b.x,b.y),c=esmap[_0x27ab("0x80")][_0x27ab("0xb8")](_.x,_.y);if(r){var l=this.getMapTypeData(s,o,c);return this[_0x27ab("0x1121")](s,l)}return this[_0x27ab("0x10b3")][_0x27ab("0x112c")]({linkMinDistance:n,linkStartEnd:i,bid:a,startPoint:b,endPoint:_,mode:e,ladderType:t})}},{key:"getNavNodeById",value:function(x,a){return this[_0x27ab("0x10b3")][_0x27ab("0x112d")](x,a)}},{key:_0x27ab("0x112e"),value:function(x){this[_0x27ab("0x10b3")].source=x}},{key:"routeBetweenBuildings",value:function(x,a,b,_){return this[_0x27ab("0x10b3")][_0x27ab("0x112f")](x,a,b,_)}},{key:"setPreferCrosses",value:function(x){this.routeCore[_0x27ab("0x1130")]=[];for(var a=0;a<x[_0x27ab("0x0")];a++)this[_0x27ab("0x10b3")].preferCrosses.push(x[a]+"")}}]),x}();a[_0x27ab("0xb")]=o},function(x,a,b){"use strict";(function(x){Object.defineProperty(a,"__esModule",{value:!0});var _=d(b(10)),e=d(b(96)),t=d(b(345)),i=d(b(31)),n=d(b(43)),r=d(b(52)),s=d(b(2)),o=d(b(0)),c=d(b(1)),l=b(70),f=b(19),u=b(346);function d(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var h=function(){function a(){(0,o[_0x27ab("0xb")])(this,a);var x=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];this[_0x27ab("0x1062")]={},this[_0x27ab("0x847")]={},this[_0x27ab("0x1130")]=[],this[_0x27ab("0x107b")]=5,this[_0x27ab("0x1082")]=!0,this[_0x27ab("0x1131")]={},this[_0x27ab("0x1132")]={},this[_0x27ab("0x1133")]=x.id,this.nodeLinkMap={},this[_0x27ab("0x1134")]()}return(0,c[_0x27ab("0xb")])(a,[{key:_0x27ab("0x1134"),value:function(){var x=this,a=esmap.ESMap[_0x27ab("0xd3")],b=a[_0x27ab("0x169")][_0x27ab("0x1a0")];for(var _ in b){var e=b[_];e.Lines&&e[_0x27ab("0x4e8")]&&this[_0x27ab("0x1135")](e)}a.on("tileRouteDataLoaded",(function(a){a[_0x27ab("0xeb")];var b=a.data;x[_0x27ab("0x1135")](b)}));var t=a.buildingService.navData;for(var i in t){var n=t[i];this[_0x27ab("0x1136")](i,n)}a.on("buildingRouteDataLoaded",(function(a){var b=a.bid,_=a[_0x27ab("0x366")];x[_0x27ab("0x1136")](b,_)}))}},{key:_0x27ab("0x1137"),value:function(x){var a=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],b=a.id;if(x.points){for(var _=[],e=0;e<x.points[_0x27ab("0x0")];e++){var t=x[_0x27ab("0xec")][e],i={x:t.x,y:t.y};_.push({X:i.x,Y:i.y,bid:b,fnum:1})}return _}var n=x[_0x27ab("0x1a9")][_0x27ab("0x1a8")](2,x[_0x27ab("0x1a9")][_0x27ab("0x0")]-2)[_0x27ab("0x28")](/,/),r={x:0,y:0},s=[];if(0==n[_0x27ab("0x0")])return!1;for(var o={x:0,y:0,z:0},c=0;c<n.length;c++){var l=n[c][_0x27ab("0x28")](" "),f=1*l[2]||0,u=a[_0x27ab("0x199")]({from:a.DEFAULT_COORDSYSTEM,to:a[_0x27ab("0x192")],coord:{x:1*l[0]+r.x+o.x,y:1*l[1]+r.y+o.y}});s[_0x27ab("0x1")]({X:u.x,Y:u.y,bid:b,fnum:1,offset:f+o.z}),0==c&&(r.x=1*l[0],r.y=1*l[1])}return s}},{key:_0x27ab("0x1135"),value:function(x){var a=this,b=esmap.ESMap[_0x27ab("0xd3")].id;a[_0x27ab("0x847")][b]||(a[_0x27ab("0x847")][b]={navs:[{floornum:1,Lines:{},Nodes:{}}]}),(0,s[_0x27ab("0xb")])(a[_0x27ab("0x847")][b][_0x27ab("0x44b")][0][_0x27ab("0x4e9")],x[_0x27ab("0x4e9")]),(0,s.default)(a.source[b][_0x27ab("0x44b")][0][_0x27ab("0x4e8")],x[_0x27ab("0x4e8")]),a[_0x27ab("0x1062")][b]||(a[_0x27ab("0x1062")][b]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}});var _=a.dataList[b][_0x27ab("0x1063")],e=a.dataList[b][_0x27ab("0x10f7")],t=a[_0x27ab("0x1062")][b][_0x27ab("0x10b4")],i=x,n=i[_0x27ab("0x4e8")];for(var r in n){var o=n[r];o[_0x27ab("0xee")]=1,o[_0x27ab("0xeb")]=b,_[r]=o}var c=i[_0x27ab("0x4e9")];for(var r in c)c[r].length=c[r][_0x27ab("0x63d")],e[r]=c[r];for(var l in c){var f=c[l],u=null;if(f.points&&f[_0x27ab("0xec")].length>=3)u=this.computeLinePoints(f);else{var d=this.computeLinePoints(f);d[_0x27ab("0x0")]>=3&&(u=d)}var h=f[_0x27ab("0x4f4")],g=f[_0x27ab("0x4f9")];if(u){var v=h+"_"+g,p=g+"_"+h;this[_0x27ab("0x1138")][v]=u,this[_0x27ab("0x1138")][p]=u[_0x27ab("0xf")]().reverse()}var A=l;if(t[h])t[h][_0x27ab("0x1")](A);else{var m=[A];t[h]=m}if(t[g])t[g][_0x27ab("0x1")](A);else{m=[A];t[g]=m}}}},{key:_0x27ab("0x1136"),value:function(a,b){x[_0x27ab("0x1139")]==_0x27ab("0x113a")&&console[_0x27ab("0x362")](_0x27ab("0x113b"),a,b);var _=this,e=esmap[_0x27ab("0x32")].instance;if(!_[_0x27ab("0x1062")][a]){var s=e.id;e[_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x1f1")]&&(_[_0x27ab("0x1062")][a]||(_.dataList[a]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}})),_.dataList[s]||(_[_0x27ab("0x1062")][s]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}}),this[_0x27ab("0x847")][a]={navs:b},this[_0x27ab("0x1087")]=null,this[_0x27ab("0x107d")]=[];for(var o={},c={1:[],2:[],3:[],6:[]},l={},f={},u={},d=b,h=(e.getBuildingById(a),0);h<d.length;h++){var g=d[h],v=g[_0x27ab("0x4a1")];if(g){var p=g[_0x27ab("0x4e8")];for(var A in p){var m=p[A];if(m[_0x27ab("0xee")]=v,m.tid&&11==m[_0x27ab("0x96")]&&s!=a){var C=this.getNearestGate({bid:s,x:m.X,y:m.Y})[_0x27ab("0x63c")]._id;if(C){for(var I=_[_0x27ab("0x1062")][s].nearbyLine[C],y=0;y<I[_0x27ab("0x0")];y++){var E=_.dataList[s][_0x27ab("0x10f7")][I[y]];E.sid==C?E[_0x27ab("0x4f4")]=m[_0x27ab("0x43d")]:E.eid=m[_0x27ab("0x43d")]}_[_0x27ab("0x1062")][s][_0x27ab("0x10b4")][m[_0x27ab("0x43d")]]=I,delete _[_0x27ab("0x1062")][s][_0x27ab("0x1063")][_0x27ab("0x113c")]}else console[_0x27ab("0x257")](_0x27ab("0x113d")+a+_0x27ab("0x113e"))}s!=a&&(m.bid=a,_[_0x27ab("0x1062")][s][_0x27ab("0x1063")][A]&&console[_0x27ab("0x257")]("重复的点",A),_.dataList[s][_0x27ab("0x1063")][A]=m),l[A]=m}var w=g[_0x27ab("0x4e9")];for(var T in w)s!=a&&(_[_0x27ab("0x1062")][s][_0x27ab("0x10f7")][T]&&console[_0x27ab("0x257")](_0x27ab("0x113f"),T),_[_0x27ab("0x1062")][s][_0x27ab("0x10f7")][T]=w[T]),f[T]=w[T];for(var k in w){var S=w[k],M=S.sid,R=S[_0x27ab("0x4f9")],L=k,H=S[_0x27ab("0x4fc")],D=null;if(v!=S[_0x27ab("0x4fa")]){if(["1","2","3","6"][_0x27ab("0xd1")](H)<0){if(o[M])o[M].push(L);else{var P=[L];o[M]=P}if(o[R])o[R][_0x27ab("0x1")](L);else{P=[L];o[R]=P}}else if("5"!=H&&"0"!=H&&"6"!=H){var O,B,N=c[H];if("3"==H){var F=l[M];F=new(THREE[_0x27ab("0x569")])(F.X,F.Y);var z=_[_0x27ab("0x112d")](a,R),j=(z=new THREE.Vector2(z.X,z.Y)).clone().sub(F),U=j[_0x27ab("0x0")]();j[_0x27ab("0x2f4")](),D=F[_0x27ab("0xe2")]().add(j[_0x27ab("0xe2")]()[_0x27ab("0x28c")](U/2))}else{var X=l[M];D=new(THREE[_0x27ab("0x569")])(X.X,X.Y)}if(!N)return void console[_0x27ab("0x257")](_0x27ab("0x1140"));if(0==N.length)N[_0x27ab("0x1")]({pointids:[M,R],fnums:[v,S.efnum],lineids:[k],ladderType:H,cen:D,crosses:(O={},(0,r.default)(O,M,[k]),(0,r[_0x27ab("0xb")])(O,R,[k]),O),fnumPoints:[(B={},(0,r.default)(B,M,{at:v,to:S[_0x27ab("0x4fa")]}),(0,r[_0x27ab("0xb")])(B,R,{at:S.efnum,to:v}),B)]});else for(var Y=0;Y<N[_0x27ab("0x0")];Y++){var G,Q,V=N[Y];if(2==H){if(V[_0x27ab("0x1141")].indexOf(M)>-1||V[_0x27ab("0x1141")][_0x27ab("0xd1")](R)>-1){var W;V[_0x27ab("0x1141")][_0x27ab("0x1")](M,R),V[_0x27ab("0x624")].push(v,S.efnum),V[_0x27ab("0x1142")][_0x27ab("0x1")](k),V.lineids=[].concat((0,n[_0x27ab("0xb")])(new(i[_0x27ab("0xb")])(V[_0x27ab("0x1142")]))),V[_0x27ab("0x624")]=[].concat((0,n[_0x27ab("0xb")])(new(i[_0x27ab("0xb")])(V[_0x27ab("0x624")]))),V[_0x27ab("0x1141")]=[][_0x27ab("0x1ec")]((0,n[_0x27ab("0xb")])(new(i[_0x27ab("0xb")])(V[_0x27ab("0x1141")]))),V[_0x27ab("0x1143")][_0x27ab("0x1")]((W={},(0,r[_0x27ab("0xb")])(W,M,{at:v,to:S[_0x27ab("0x4fa")]}),(0,r[_0x27ab("0xb")])(W,R,{at:S[_0x27ab("0x4fa")],to:v}),W)),V[_0x27ab("0x1144")][M]?(V[_0x27ab("0x1144")][M].push(k),V[_0x27ab("0x1144")][M][_0x27ab("0x1")](k)):V[_0x27ab("0x1144")][M]=[k],V.crosses[R]?V.crosses[R][_0x27ab("0x1")](k):V[_0x27ab("0x1144")][R]=[k];break}}else if(V[_0x27ab("0x1141")][_0x27ab("0xd1")](M)>-1||V[_0x27ab("0x1141")][_0x27ab("0xd1")](R)>-1){var Z;V[_0x27ab("0x1141")][_0x27ab("0x1")](M,R),V[_0x27ab("0x624")].push(v,S[_0x27ab("0x4fa")]),V.lineids[_0x27ab("0x1")](k),V[_0x27ab("0x1142")]=[].concat((0,n[_0x27ab("0xb")])(new(i[_0x27ab("0xb")])(V[_0x27ab("0x1142")]))),V[_0x27ab("0x624")]=[][_0x27ab("0x1ec")]((0,n[_0x27ab("0xb")])(new(i[_0x27ab("0xb")])(V[_0x27ab("0x624")]))),V[_0x27ab("0x1141")]=[][_0x27ab("0x1ec")]((0,n[_0x27ab("0xb")])(new i.default(V[_0x27ab("0x1141")]))),V.fnumPoints[_0x27ab("0x1")]((Z={},(0,r[_0x27ab("0xb")])(Z,M,{at:v,to:S[_0x27ab("0x4fa")]}),(0,r[_0x27ab("0xb")])(Z,R,{at:S.efnum,to:v}),Z)),V.crosses[M]?V[_0x27ab("0x1144")][M].push(k):V[_0x27ab("0x1144")][M]=[k],2==V[_0x27ab("0x1144")][M][_0x27ab("0x0")]&&V[_0x27ab("0x1144")][M][0]==V[_0x27ab("0x1144")][M][1]&&V[_0x27ab("0x1144")][M][_0x27ab("0x157")](1,1),V.crosses[R]?V[_0x27ab("0x1144")][R].push(k):V[_0x27ab("0x1144")][R]=[k],2==V[_0x27ab("0x1144")][R][_0x27ab("0x0")]&&V[_0x27ab("0x1144")][R][0]==V.crosses[R][1]&&V[_0x27ab("0x1144")][R][_0x27ab("0x157")](1,1);break}if(Y==N[_0x27ab("0x0")]-1)N[_0x27ab("0x1")]({pointids:[M,R],fnums:[v,S[_0x27ab("0x4fa")]],lineids:[k],ladderType:H,cen:D,fnumPoints:[(G={},(0,r.default)(G,M,{at:v,to:S.efnum}),(0,r[_0x27ab("0xb")])(G,R,{at:S[_0x27ab("0x4fa")],to:v}),G)],crosses:(Q={},(0,r[_0x27ab("0xb")])(Q,M,[k]),(0,r[_0x27ab("0xb")])(Q,R,[k]),Q)})}}}else{if(s!=a){var J=_.dataList[s][_0x27ab("0x10b4")];if(J[M])J[M].push(L);else{var K=[L];J[M]=K}if(J[R])J[R][_0x27ab("0x1")](L);else{var q=[L];J[R]=q}}if(u[M])u[M].push(L);else{P=[L];u[M]=P}if(u[R])u[R][_0x27ab("0x1")](L);else{P=[L];u[R]=P}}}}}var $=[][_0x27ab("0x1ec")]((0,n.default)(c[1]),(0,n[_0x27ab("0xb")])(c[2]),(0,n[_0x27ab("0xb")])(c[3])),xx={};$.forEach((function(x){xx=(0,t[_0x27ab("0xb")])({},xx,x[_0x27ab("0x1144")])})),xx=(0,t[_0x27ab("0xb")])({},xx,o),_[_0x27ab("0x1062")][s].crossSchemes[_0x27ab("0x1145")]=[].concat((0,n[_0x27ab("0xb")])($),(0,n[_0x27ab("0xb")])(_[_0x27ab("0x1062")][s][_0x27ab("0x10f4")].manModeScheme)),_[_0x27ab("0x1062")][s].crossSchemes[_0x27ab("0x10f5")]=(0,t[_0x27ab("0xb")])({},xx,_.dataList[s][_0x27ab("0x10f4")][_0x27ab("0x10f5")],_[_0x27ab("0x1062")][s].crossSchemes.carModeScheme),_[_0x27ab("0x1062")][s][_0x27ab("0x10f4")][_0x27ab("0x10f6")]=(0,t[_0x27ab("0xb")])({},o,_[_0x27ab("0x1062")][s][_0x27ab("0x10f4")].carModeScheme),_[_0x27ab("0x1062")][a]={allPointMap:l,allLineMap:f,nearbyLine:u,crossSchemes:{carModeScheme:o,manModeScheme:$,manModeAllScheme:xx}},x.env==_0x27ab("0x113a")&&console[_0x27ab("0x362")](_0x27ab("0x1146")),e[_0x27ab("0x1e7")](_0x27ab("0x1146"),{bid:a})}}},{key:"getNaviResult",value:function(x){this[_0x27ab("0x1082")]=x[_0x27ab("0x1082")],this[_0x27ab("0x107b")]=x[_0x27ab("0x107b")];var a=x.mode;this[_0x27ab("0x107d")]=[],x.startPoint[_0x27ab("0xee")]||(x.startPoint[_0x27ab("0xee")]=1),x[_0x27ab("0x8cf")].fnum||(x[_0x27ab("0x8cf")][_0x27ab("0xee")]=1);var b=this.getSource(x.startPoint[_0x27ab("0xeb")],x.startPoint[_0x27ab("0xee")]),_=this[_0x27ab("0x1147")](x[_0x27ab("0x8cf")][_0x27ab("0xeb")],x[_0x27ab("0x8cf")][_0x27ab("0xee")]);if(!b||!_)return console[_0x27ab("0x362")]("导航数据不存在"),[new(esmap[_0x27ab("0x1148")])(x[_0x27ab("0x8ce")].bid,x[_0x27ab("0x1149")],0,[])];var e=this.getNearestNode(x[_0x27ab("0x8ce")][_0x27ab("0xeb")],x[_0x27ab("0x8ce")],a),t=this[_0x27ab("0x114a")](x.endPoint[_0x27ab("0xeb")],x[_0x27ab("0x8cf")],a);if(!e||!t)return null;var i=b[_0x27ab("0x4e8")][e[_0x27ab("0x43d")]],n=_[_0x27ab("0x4e8")][t._id];return i&&n?(x[_0x27ab("0x8cf")].id=t[_0x27ab("0x43d")],this.queryRoutes({startPoint:x[_0x27ab("0x8ce")],endPoint:x[_0x27ab("0x8cf")],mode:x[_0x27ab("0x34")],ladderType:x[_0x27ab("0x1087")]})):(console[_0x27ab("0x2bb")](_0x27ab("0x114b")),null)}},{key:_0x27ab("0x112d"),value:function(x,a){for(var b=this[_0x27ab("0x847")][x].navs,_=0;_<b[_0x27ab("0x0")];_++){var e=b[_][_0x27ab("0x4e8")];if(e[a])return e[a]}return null}},{key:_0x27ab("0x1147"),value:function(x,a){for(var b=this[_0x27ab("0x847")][x].navs,_=0;_<b[_0x27ab("0x0")];_++)if(b[_][_0x27ab("0x4a1")]==a)return b[_]}},{key:"queryRoutes",value:function(x){var a=null,b=this,i=x[_0x27ab("0x8ce")],n=x.endPoint,r=i.fnum,o=n[_0x27ab("0xee")],c=x[_0x27ab("0x34")],f=x[_0x27ab("0x1087")],d=x[_0x27ab("0x114c")],h=this.baseSceneId,g=this[_0x27ab("0x114a")](i.bid,x[_0x27ab("0x8ce")],x[_0x27ab("0x34")],d),v=this[_0x27ab("0x114a")](n[_0x27ab("0xeb")],x[_0x27ab("0x8cf")],c,d),p=g[_0x27ab("0x43d")],A=v[_0x27ab("0x43d")],m=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];if(p==A)return{result:[new esmap.ESNaviResult(h,r,0,[{x:i.x,bid:h,y:i.y,fnum:r},{x:n.x,y:n.y,bid:h,fnum:r}])]};var C=null,I=b.dataList[h].allPointMap;if(1==c)if(r==o||i[_0x27ab("0xeb")]!=n[_0x27ab("0xeb")])(C=this.getShortestPath({},p,A,c,h,f))&&0!=C[_0x27ab("0x0")]||(C=this[_0x27ab("0x114d")](b[_0x27ab("0x1062")][h].crossSchemes[_0x27ab("0x10f5")],p,A,c,h,f));else{var y=[],E=b[_0x27ab("0x1062")][h][_0x27ab("0x10f4")][_0x27ab("0x1145")];(0,e[_0x27ab("0xb")])(E)[_0x27ab("0x1b")]((function(x){x[_0x27ab("0x1bd")]=0,x.hold=!1,x[_0x27ab("0x624")].indexOf(r)>-1&&x[_0x27ab("0x624")][_0x27ab("0xd1")](o)>-1&&(1==f?(Math[_0x27ab("0x274")](r-o)>=3&&2==x[_0x27ab("0x1087")]&&(x[_0x27ab("0x1bd")]+=20),y.push(x)):2==f&&2==x.ladderType?y.push(x):(3==f&&1==x.ladderType||4==f&&3==x.ladderType)&&y[_0x27ab("0x1")](x))})),y.forEach((function(x){for(var a,b=void 0,_=o-r>0,e=0;e<x[_0x27ab("0x1143")][_0x27ab("0x0")];e++){var t=x.fnumPoints[e];if(a&&b)break;for(var s in t){var c=t[s].to-t[s].at>0;t[s].at==r&&c==_?a=s:t[s].at==o&&c==!_&&(b=s)}}if(a&&b){var f=null;if(p==a)f=.001;else{var d=I[a],h=(0,l[_0x27ab("0xd6")])(i,{x:d.X,y:d.Y}),g=I[b];f=h+(0,l[_0x27ab("0xd6")])(n,{x:g.X,y:g.Y})+(0,u.manhattenCost)({X:i.x,Y:i.y},d)}x[_0x27ab("0x1bd")]+=500/f}})),y.sort((function(x,a){return a.rank-x[_0x27ab("0x1bd")]}));for(var w=0;w<y.length;w++)if(!y[w][_0x27ab("0xaca")])try{if((C=this[_0x27ab("0x114d")](y[w].crosses,p,A,c,h,f))&&0!=C[_0x27ab("0x0")])break;continue}catch(x){continue}var T=null;if(this[_0x27ab("0x1130")].length>0)for(var k in T={},b[_0x27ab("0x1062")][h][_0x27ab("0x10f4")][_0x27ab("0x10f5")]){for(var S=!1,M=b[_0x27ab("0x1062")][h][_0x27ab("0x10f4")][_0x27ab("0x10f5")][k],R=0;R<M[_0x27ab("0x0")];R++)if(this[_0x27ab("0x1130")][_0x27ab("0xd1")](M[R])>-1){S=!0;break}S&&(T[k]=M)}if(!C||0==C[_0x27ab("0x0")])if(1==f)T&&(C=this[_0x27ab("0x114d")](T,p,A,c,h,f)),C&&0!=C[_0x27ab("0x0")]||(C=this[_0x27ab("0x114d")](b.dataList[h][_0x27ab("0x10f4")][_0x27ab("0x10f5")],p,A,c,h,f));else{var L={};for(var H in b.dataList[h][_0x27ab("0x10f4")].manModeScheme)"1"==b[_0x27ab("0x1062")][h].crossSchemes[_0x27ab("0x1145")][H].ladderType&&3==f?L=(0,t[_0x27ab("0xb")])({},L,b[_0x27ab("0x1062")][h][_0x27ab("0x10f4")][_0x27ab("0x1145")][H][_0x27ab("0x1144")]):"2"==b[_0x27ab("0x1062")][h].crossSchemes.manModeScheme[H].ladderType&&2==f?L=(0,t[_0x27ab("0xb")])({},L,b[_0x27ab("0x1062")][h][_0x27ab("0x10f4")].manModeScheme[H][_0x27ab("0x1144")]):"3"==b[_0x27ab("0x1062")][h][_0x27ab("0x10f4")][_0x27ab("0x1145")][H][_0x27ab("0x1087")]&&4==f&&(L=(0,t[_0x27ab("0xb")])({},L,b[_0x27ab("0x1062")][h][_0x27ab("0x10f4")][_0x27ab("0x1145")][H].crosses));T&&(C=this[_0x27ab("0x114d")](T,p,A,c,h,f)),C&&0!=C[_0x27ab("0x0")]||(C=this[_0x27ab("0x114d")](L,p,A,c,h,f)),C&&0!=C.length||(C=this[_0x27ab("0x114d")](b[_0x27ab("0x1062")][h][_0x27ab("0x10f4")][_0x27ab("0x10f5")],p,A,c,h,f))}}else if(r==o)C=this[_0x27ab("0x114d")]({},p,A,c,h,f);else{var D=b.dataList[h][_0x27ab("0x10f4")][_0x27ab("0x10f6")];C=this[_0x27ab("0x114d")](D,p,A,c,h,f)}if(C&&C[_0x27ab("0x114e")]&&0!=C[_0x27ab("0x114e")][_0x27ab("0x0")]){x[_0x27ab("0x114f")]&&(this.multiLinesUsed=this.multiLinesUsed[_0x27ab("0x1ec")](C[_0x27ab("0x1150")]));for(var P=C[_0x27ab("0x114e")],O=C[_0x27ab("0x1151")],B=C.walkLines,N={x:I[P[0]].X,y:I[P[0]].Y,fnum:I[P[0]][_0x27ab("0xee")],id:I[P[0]][_0x27ab("0x43d")],bid:I[P[0]][_0x27ab("0xeb")]||h},F=[new(esmap[_0x27ab("0x1148")])(N[_0x27ab("0xeb")],r,O,[N])],z=0;z<P.length-1;z++){var j=P[z],U=P[z+1];if((typeof j===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(j))!=_0x27ab("0x1c")&&(typeof U===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(U))!=_0x27ab("0x1c")){var X=j+"_"+U;if(this[_0x27ab("0x1138")][X]){for(var Y=[],G=this[_0x27ab("0x1138")][X][_0x27ab("0x0")],Q=0;Q<G;Q++)if(0!=Q&&Q!=G-1){var V=(0,s[_0x27ab("0xb")])({},this[_0x27ab("0x1138")][X][Q]);Y.push(V)}P[_0x27ab("0x157")][_0x27ab("0x5")](P,[z+1,0][_0x27ab("0x1ec")](Y)),z+=Y[_0x27ab("0x0")]}}}for(var W=0;W<P.length-1;W++){var Z=void 0,J=(Z=(0,_[_0x27ab("0xb")])(P[W])!=_0x27ab("0x1c")?I[P[W]]:P[W])[_0x27ab("0xee")],K=void 0,q=(K=(0,_[_0x27ab("0xb")])(P[W+1])!=_0x27ab("0x1c")?I[P[W+1]]:P[W+1])[_0x27ab("0xee")],$=F[F[_0x27ab("0x0")]-1],xx=Z.bid||this[_0x27ab("0x1133")],ax=K.bid||this[_0x27ab("0x1133")],bx=m[_0x27ab("0xf4")](xx);xx==this[_0x27ab("0x1133")]&&(bx=m[_0x27ab("0xf4")](0));var _x=m[_0x27ab("0xf4")](ax);ax==this[_0x27ab("0x1133")]&&(_x=m[_0x27ab("0xf4")](0));var ex=xx!=ax;if(J-bx[_0x27ab("0x33")].undergroundOffset==q-_x[_0x27ab("0x33")][_0x27ab("0xcf8")])ex&&$[_0x27ab("0x1073")][$.pointList.length-1]&&($.pointList[$[_0x27ab("0x1073")][_0x27ab("0x0")]-1][_0x27ab("0x1152")]=!0),$.pointList[_0x27ab("0x1")]({x:K.X,y:K.Y,bid:ax,fnum:K[_0x27ab("0xee")],id:K[_0x27ab("0x43d")],entries:ex}),B[W]&&$[_0x27ab("0x10b5")][_0x27ab("0x1")](B[W]);else{Z.X,Z.Y,Z[_0x27ab("0xee")],Z[_0x27ab("0x43d")];var tx={x:K.X,y:K.Y,bid:ax,fnum:K.fnum,id:K[_0x27ab("0x43d")]};F[_0x27ab("0x1")](new(esmap[_0x27ab("0x1148")])(ax,q,O,[tx]))}}for(var ix=0;ix<F[_0x27ab("0x0")];ix++)0==F[ix][_0x27ab("0x1073")][_0x27ab("0x0")]&&(F[_0x27ab("0x157")](ix,1),ix--);for(var nx=1;nx<F[_0x27ab("0x0")]-1;nx++){var rx=F[nx];0!=rx.length&&1==rx.pointList[_0x27ab("0x0")]&&F[nx-1][_0x27ab("0xee")]==rx[_0x27ab("0xee")]&&F[nx+1][_0x27ab("0xee")]==rx[_0x27ab("0xee")]&&(F.splice(nx-1,3),nx-=3)}if(this[_0x27ab("0x1082")]){var sx=this[_0x27ab("0x107b")];if(F[0]&&F[0].pointList[_0x27ab("0x0")]>=2){var ox=new(THREE[_0x27ab("0xe7")])(F[0].pointList[0].x,0,F[0][_0x27ab("0x1073")][0].y),cx=new THREE.Vector3(i.x,0,i.y),lx=new(THREE[_0x27ab("0xe7")])(F[0][_0x27ab("0x1073")][1].x,0,F[0][_0x27ab("0x1073")][1].y),fx=ox[_0x27ab("0x265")](cx),ux=ox[_0x27ab("0x265")](lx),dx=ox[_0x27ab("0x301")](cx);if(Math[_0x27ab("0x274")](fx-ux)>90)dx>=sx&&F[0][_0x27ab("0x1073")][_0x27ab("0x973")]({x:i.x,y:i.y,bid:h,fnum:r});else{var hx={};(0,l[_0x27ab("0xd7")])({x:i.x,y:i.y},{x:F[0][_0x27ab("0x1073")][0].x,y:F[0][_0x27ab("0x1073")][0].y},{x:F[0][_0x27ab("0x1073")][1].x,y:F[0][_0x27ab("0x1073")][1].y},hx),F[0][_0x27ab("0x1073")][0].x=hx.x,F[0][_0x27ab("0x1073")][0].y=hx.y,dx>=sx&&F[0].pointList[_0x27ab("0x973")]({x:i.x,y:i.y,bid:h,fnum:r})}}if(F[F[_0x27ab("0x0")]-1]&&F[F[_0x27ab("0x0")]-1].pointList[_0x27ab("0x0")]>=2){var gx=F[F[_0x27ab("0x0")]-1][_0x27ab("0x1073")],vx=new(THREE[_0x27ab("0xe7")])(gx[gx[_0x27ab("0x0")]-1].x,0,gx[gx[_0x27ab("0x0")]-1].y),px=new(THREE[_0x27ab("0xe7")])(n.x,0,n.y),Ax=new(THREE[_0x27ab("0xe7")])(gx[gx.length-2].x,0,gx[gx[_0x27ab("0x0")]-2].y),mx=vx.angleTo(px),Cx=vx[_0x27ab("0x265")](Ax),Ix=vx[_0x27ab("0x301")](px);if(Math.abs(mx-Cx)>90)Ix>=sx&&F[F.length-1].pointList.push({x:n.x,y:n.y,bid:h,fnum:o});else{var yx={};(0,l[_0x27ab("0xd7")])({x:n.x,y:n.y},{x:gx[gx.length-1].x,y:gx[gx[_0x27ab("0x0")]-1].y},{x:gx[gx[_0x27ab("0x0")]-2].x,y:gx[gx[_0x27ab("0x0")]-2].y},yx),gx[gx.length-1].x=yx.x,gx[gx.length-1].y=yx.y,Ix>=sx&&gx[_0x27ab("0x1")]({x:n.x,y:n.y,bid:h,fnum:o})}}}for(var Ex=0,wx=0;wx<F[_0x27ab("0x0")];wx++){var Tx=F[wx];if(Tx[_0x27ab("0x1073")][_0x27ab("0x0")]>=2)for(var kx=Tx[_0x27ab("0x1073")],Sx=0;Sx<kx[_0x27ab("0x0")]-1;Sx++){var Mx=kx[Sx],Rx=kx[Sx+1];Ex+=Math.sqrt(Math[_0x27ab("0xb4")](Mx.x-Rx.x,2)+Math.pow(Mx.y-Rx.y,2))}}a={costDistance:Ex,result:F}}return a}},{key:"getShortestPath",value:function(x,a,b,_,e,t){if(a!=b){var i=this,n=i[_0x27ab("0x1062")][e][_0x27ab("0x1063")],r=i.dataList[e][_0x27ab("0x10f7")],s=i[_0x27ab("0x1062")][e][_0x27ab("0x10b4")],o={};o.endPoint=a,o[_0x27ab("0x1151")]=0,o[_0x27ab("0x1154")]=0,o[_0x27ab("0x114e")]=[a],o[_0x27ab("0x1150")]=[];for(var c=[],l=[],u=n[b],d=s[b],h=1;h<1e4&&o;h++){if(o[_0x27ab("0x8cf")]==b)return o;if((0,f[_0x27ab("0xd9")])(c,o[_0x27ab("0x8cf")]))l[_0x27ab("0x416")](this[_0x27ab("0x1155")](_0x27ab("0x1154"))),o=l[0],l[_0x27ab("0x4")]();else{var g=this.updateNewShortestPathList(a,o,n,r,s,x,c,_,u,e,t);c[_0x27ab("0x1")](o[_0x27ab("0x8cf")]);for(var v=0;v<g[_0x27ab("0x0")];v++)l[_0x27ab("0x1")](g[v]);if(l[_0x27ab("0x416")](this[_0x27ab("0x1155")](_0x27ab("0x1154"))),!(o=l[0]))return[];var p=s[o.endPoint];if(d&&p&&1==p[_0x27ab("0x0")]&&1!=h)0!=p[_0x27ab("0x315")]((function(x){return d[_0x27ab("0xd1")](x)>=0})).length||x[o[_0x27ab("0x8cf")]]||c[_0x27ab("0x1")](o[_0x27ab("0x8cf")]);l.shift()}}return[]}console[_0x27ab("0x2bb")](_0x27ab("0x1153"))}},{key:"updateNewShortestPathList",value:function(x,a,b,_,e,t,i,n,r,s,o){var c=[],d=a[_0x27ab("0x8cf")],h={2:2,3:1,4:3,1:999};if(e[d])for(var g=e[d],v=0;v<g.length;v++){var p=(m=_[A=g[v]])[_0x27ab("0x4f9")];if(!(0,f[_0x27ab("0xd9")])(this[_0x27ab("0x107d")],A)&&(2!=n||"4"==m[_0x27ab("0x4fc")]||"5"==m[_0x27ab("0x4fc")])){if(d==m.eid){if(2==n&&"1"==m.direction)continue;if(1==n&&"1"==m[_0x27ab("0x4fb")]&&("0"==m[_0x27ab("0x4fc")]||"6"==m.bstair))continue;p=m.sid}if(!(0,f[_0x27ab("0xd9")])(i,p))(C=(0,u[_0x27ab("0x1156")])(a))[_0x27ab("0x8cf")]=p,C[_0x27ab("0x114e")].push(p),C[_0x27ab("0x1150")].push(A),C.costDistance+=m[_0x27ab("0x0")],1e3!=m[_0x27ab("0x1bd")]&&(C[_0x27ab("0x1151")]+=1e3/m[_0x27ab("0x1bd")]),b[p]||console[_0x27ab("0x2bb")](_0x27ab("0x1157")),C[_0x27ab("0x1154")]=(0,u[_0x27ab("0x1158")])(b[p],r,1),C[_0x27ab("0x1154")]+=C.costDistance,c[_0x27ab("0x1")](C)}}if(t[d])for(g=t[d],v=0;v<g.length;v++){var A,m;p=(m=_[A=g[v]]).eid;if(1*d==m[_0x27ab("0x4f9")]){if(2==n&&"1"==m[_0x27ab("0x4fb")])continue;if(1==n&&"1"==m[_0x27ab("0x4fb")]&&("1"==m.bstair||"3"==m[_0x27ab("0x4fc")]))continue;p=m[_0x27ab("0x4f4")]}if(!(0,f[_0x27ab("0xd9")])(i,p)){var C;(C=(0,u[_0x27ab("0x1156")])(a)).endPoint=p,C[_0x27ab("0x114e")][_0x27ab("0x1")](p),C.walkLines.push(A);var I=1e3;1e3!=m.rank&&(I=m[_0x27ab("0x1bd")]);var y,E=null;if(x==d||r[_0x27ab("0x43d")]==d)E=.001;else{var w=b[d],T=b[x],k=(0,l.DistanceofTwoPts)({x:T.X,y:T.Y},{x:w.X,y:w.Y}),S=b[p];E=k+(0,l[_0x27ab("0xd6")])({x:r.X,y:r.Y},{x:S.X,y:S.Y})+(0,u[_0x27ab("0x1158")])(T,w)}I+=E;for(var M=this[_0x27ab("0x847")][s].navs,R=0;R<M.length;R++)if(M[R][_0x27ab("0x4e8")][m.sid]){y=R;break}y&&m[_0x27ab("0x4fa")]&&Math[_0x27ab("0x274")](y-m[_0x27ab("0x4fa")])>1&&(C[_0x27ab("0x1151")]+=10);var L=h[o]==1*m[_0x27ab("0x4fc")]?1:20;C[_0x27ab("0x1151")]+=L+1e3/I,c[_0x27ab("0x1")](C)}}return c}},{key:_0x27ab("0x114a"),value:function(x,a,b,_){var e=this.getSource(x,a.fnum),t=a[_0x27ab("0x1159")]||{x:a.x,y:a.y},i=e[_0x27ab("0x4e8")],n=[1/0,0];if(2==b)for(var r in i){var s=i[r];if(!_||!s[_0x27ab("0x96")]||11!=s[_0x27ab("0x96")])if(4==s[_0x27ab("0x96")]||5==s[_0x27ab("0x96")]||54==s[_0x27ab("0x96")])(o=Math.abs(Math.sqrt(Math[_0x27ab("0xb4")](s.X-t.x,2)+Math[_0x27ab("0xb4")](s.Y-t.y,2))))<n[0]&&(n[0]=o,n[1]=r)}else for(var r in i){var o;s=i[r];if(!_||!s[_0x27ab("0x96")]||11!=s[_0x27ab("0x96")])(o=Math.abs(Math.sqrt(Math[_0x27ab("0xb4")](s.X-t.x,2)+Math[_0x27ab("0xb4")](s.Y-t.y,2))))<n[0]&&(n[0]=o,n[1]=r)}return i[n[1]]}},{key:_0x27ab("0x115a"),value:function(x){var a=this.source[x[_0x27ab("0xeb")]][_0x27ab("0x44b")],b=[];return a[_0x27ab("0x1b")]((function(x){var a=x[_0x27ab("0x4e8")];for(var _ in a){var e=a[_];e.tid&&11==e[_0x27ab("0x96")]&&b.push(e)}})),b}},{key:"getNearestGate",value:function(x,a){var b=this[_0x27ab("0x847")][x[_0x27ab("0xeb")]][_0x27ab("0x44b")],_=[1/0,0,{},1];return b.forEach((function(b){var e=b.Nodes,t=b[_0x27ab("0x4a1")];if(2==a)for(var i in e){if(4==(n=e[i]).tid||5==n[_0x27ab("0x96")])(r=Math.abs(Math[_0x27ab("0xdc")](Math[_0x27ab("0xb4")](n.X-x.x,2)+Math[_0x27ab("0xb4")](n.Y-x.y,2))))<_[0]&&(_[0]=r,_[1]=i,_[2]=n,_[3]=t)}else for(var i in e){var n,r;if((n=e[i])[_0x27ab("0x96")]&&11==n[_0x27ab("0x96")])(r=Math.abs(Math.sqrt(Math[_0x27ab("0xb4")](n.X-x.x,2)+Math[_0x27ab("0xb4")](n.Y-x.y,2))))<_[0]&&(_[0]=r,_[1]=i,_[2]=n,_[3]=t)}})),{node:_[2],fnum:_[3]}}},{key:_0x27ab("0x1155"),value:function(x){return function(a,b){return a[x]-b[x]}}}]),a}();a[_0x27ab("0xb")]=h})[_0x27ab("0x3")](this,b(66))},,function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _,e=b(10),t=(_=e)&&_[_0x27ab("0xa")]?_:{default:_};a.manhattenCost=function(x,a){return Math.abs(x.X-a.X)+Math[_0x27ab("0x274")](x.Y-a.Y)},a[_0x27ab("0x1156")]=function x(a){var b;if((typeof a===_0x27ab("0x8")?_0x27ab("0x8"):(0,t[_0x27ab("0xb")])(a))==_0x27ab("0x1c"))if(null===a)b=null;else if(a instanceof Array){b=[];for(var _=0,e=a[_0x27ab("0x0")];_<e;_++)b[_0x27ab("0x1")](x(a[_]))}else for(var i in b={},a)b[i]=x(a[i]);else b=a;return b}},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=t(b(0)),e=t(b(1));function t(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var i=function(){function x(a,b,e,t){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0xee")]=b,this.bid=a,this.length=e,this[_0x27ab("0x1073")]=t,this[_0x27ab("0x10b5")]=[]}return(0,e[_0x27ab("0xb")])(x,[{key:"getFloorNum",value:function(){return this[_0x27ab("0xee")]}},{key:"getLength",value:function(){return this[_0x27ab("0x0")]}},{key:"getPointList",value:function(){for(var x=[],a=0,b=this[_0x27ab("0x1073")][_0x27ab("0x0")];a<b;a++)x[_0x27ab("0x1")]({x:this.pointList[a].x,y:this[_0x27ab("0x1073")][a].y,fnum:this[_0x27ab("0xee")]});return x}}]),x}();a.default=i},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=f(b(8)),e=f(b(12)),t=f(b(13)),i=f(b(2)),n=f(b(0)),r=f(b(1)),s=b(69),o=b(33),c=f(b(68)),l=f(b(24));function f(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var u=function(){function x(a){(0,n[_0x27ab("0xb")])(this,x),this[_0x27ab("0x9f8")]=(0,i[_0x27ab("0xb")])({type:"building",useCrst:!0,merge:!0,model:"",bid:0,fnum:1,gid:0,id:null,name:"",bclick:!1,points:[],height:0,repeatset:1,heightset:1,thickset:1,showLevel:12.5,error:null,created:null},a),this.ID=this[_0x27ab("0x9f8")].id,this[_0x27ab("0xc5")]=this[_0x27ab("0x9f8")][_0x27ab("0xc5")],this.o3d_=new(THREE[_0x27ab("0x15b")]),this[_0x27ab("0xe1")]=6,this[_0x27ab("0xaf")][_0x27ab("0xae")]=this,this[_0x27ab("0xaf")].name=_0x27ab("0xc6"),this[_0x27ab("0x628")]=this[_0x27ab("0xaf")][_0x27ab("0x628")],this.isWall=!0,this.url="",this.map=esmap[_0x27ab("0x32")].instance,this[_0x27ab("0xbf7")]=!1,this.disposed=!1,this[_0x27ab("0xc7")]=null,this._modelObj=null,this[_0x27ab("0x252")](),this[_0x27ab("0x31")](),this.map.zoomLevel<this.configs[_0x27ab("0x244")]&&(this.o3d_[_0x27ab("0xf6")]=!1)}var a;return(0,r[_0x27ab("0xb")])(x,[{key:_0x27ab("0x252"),value:function(){var x=this;this[_0x27ab("0x37")].on(_0x27ab("0x167"),(function(){var a=x[_0x27ab("0x37")][_0x27ab("0x168")];x[_0x27ab("0xaf")]&&(a<x[_0x27ab("0x9f8")][_0x27ab("0x244")]?x.o3d_[_0x27ab("0xf6")]&&(x[_0x27ab("0xaf")][_0x27ab("0xf6")]=!1):x[_0x27ab("0xaf")][_0x27ab("0xf6")]||(x[_0x27ab("0xaf")][_0x27ab("0xf6")]=!0))}))}},{key:_0x27ab("0xb2"),value:function(){var x=this[_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x156")][this[_0x27ab("0x9f8")][_0x27ab("0xeb")]];if(x){var a=x[_0x27ab("0xd1")](this.o3d_);a>-1&&x[_0x27ab("0x157")](a,1)}this[_0x27ab("0xaf")]&&(this.o3d_.visible=!1,this.o3d_[_0x27ab("0xc7")]&&this[_0x27ab("0xaf")][_0x27ab("0xc7")][_0x27ab("0x158")](this[_0x27ab("0xaf")]),(0,s.doDispose)(this[_0x27ab("0xaf")],!1))}},{key:_0x27ab("0x31"),value:(a=(0,t[_0x27ab("0xb")])(e.default.mark((function x(){var a,b,_,t,i,n,r,s,f,u,d,h,g,v,p;return e[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x.prev=x[_0x27ab("0x2b8")]){case 0:if(!this[_0x27ab("0xbf7")]){x[_0x27ab("0x2b8")]=2;break}return x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 2:if(a=this[_0x27ab("0x37")],b=this.configs,_=b.bid,t=b[_0x27ab("0xec")],i=b[_0x27ab("0xa84")],n=b[_0x27ab("0x70")],0!=t[_0x27ab("0x0")]){x[_0x27ab("0x2b8")]=9;break}return console[_0x27ab("0x257")]("ESWall初始化失败:points不能未空"),this[_0x27ab("0xbf7")]=!0,x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 9:return(r=this[_0x27ab("0x37")].getTileById(_))||(r=this[_0x27ab("0x37")].getBuildingById(_)),r||(s=_.split("_"),f=(0,o.getTileBound)(1*s[0],1*s[1],a.options.worldScale,!0),u=(f[_0x27ab("0xb5")]-f.minx)/2+f[_0x27ab("0xb9")],d=(f[_0x27ab("0xbb")]-f[_0x27ab("0xba")])/2+f.miny,(h=new(c[_0x27ab("0xb")])({id:_,map:a}))[_0x27ab("0xed")]=[u,d],h.buildingType=1,h[_0x27ab("0xaf")].position[_0x27ab("0x123")](0,0,0),a[_0x27ab("0x15d")][_0x27ab("0xa54")]()[_0x27ab("0x163")](h[_0x27ab("0xaf")]),r=h),1==r[_0x27ab("0x160")]?r[_0x27ab("0x15e")][_0x27ab("0x1a2")](_0x27ab("0x115b"),esmap.ESLayerType[_0x27ab("0x232")])[_0x27ab("0xaf")][_0x27ab("0x163")](this[_0x27ab("0xaf")]):r[_0x27ab("0x61b")](this[_0x27ab("0x9f8")][_0x27ab("0xee")]).getOrCreateLayerByName(_0x27ab("0x115b"),esmap[_0x27ab("0x17d")].MODEL3D)[_0x27ab("0xaf")][_0x27ab("0x163")](this[_0x27ab("0xaf")]),this[_0x27ab("0xc7")]=r,this[_0x27ab("0x161")]=r[_0x27ab("0x161")],g=this[_0x27ab("0x9f8")][_0x27ab("0x235")][_0x27ab("0x111")](_0x27ab("0x77"),""),n==_0x27ab("0x4b")?this[_0x27ab("0x1b9")]=l[_0x27ab("0xb")][_0x27ab("0x5f")]("buildingModel",{filename:g,buildingId:this[_0x27ab("0x9f8")][_0x27ab("0xeb")],modeltoken:a.__mtn}):this[_0x27ab("0x1b9")]=l[_0x27ab("0xb")][_0x27ab("0x5f")]("tileModel",{filename:g,modeltoken:a[_0x27ab("0xa2")]}),x.next=20,this[_0x27ab("0x115c")]();case 20:(v=x[_0x27ab("0x5dc")])?(p=v[_0x27ab("0xc1")][_0x27ab("0xe2")](),this[_0x27ab("0x115d")]=p,this[_0x27ab("0x115e")]=v,i&&this.map[_0x27ab("0x155")][_0x27ab("0x1bb")](this[_0x27ab("0xaf")],_),this[_0x27ab("0x3d5")]={x:t[0].x,y:t[0].y},this[_0x27ab("0xbf7")]=!0,this[_0x27ab("0x115f")](t),this[_0x27ab("0x9f8")][_0x27ab("0x23e")]&&this[_0x27ab("0x9f8")][_0x27ab("0x23e")](this)):(this.inited=!0,this[_0x27ab("0x9f8")][_0x27ab("0x257")]&&this[_0x27ab("0x9f8")].error(this));case 22:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(){return a[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0x115f"),value:function(x){if(this.inited){for(;this[_0x27ab("0xaf")][_0x27ab("0xb0")][_0x27ab("0x0")]>0;){this[_0x27ab("0xaf")].children[0];this[_0x27ab("0xaf")][_0x27ab("0xb0")][_0x27ab("0x8bb")]()}var a=this[_0x27ab("0x9f8")].useCrst,b=this[_0x27ab("0x115d")],_=this,e=this.configs,t=e[_0x27ab("0x235")],n=e[_0x27ab("0x1160")],r=e[_0x27ab("0x1161")],s=e[_0x27ab("0x1b7")],o=e.id,c=e.repeatset,l=e.merge;this[_0x27ab("0x9f8")].points=x,this[_0x27ab("0x9f8")].merge=!1;var f=this.map,u=(new(THREE[_0x27ab("0x3e2")])).setFromObject(this[_0x27ab("0x115d")]),d=u[_0x27ab("0x33f")].x-u[_0x27ab("0x340")].x,h=[];x.forEach((function(x){var b=x;a&&(b=f.transformCoord({from:f.DEFAULT_COORDSYSTEM,to:f[_0x27ab("0x192")],coord:{x:x.x,y:x.y}})),h[_0x27ab("0x1")](new(THREE[_0x27ab("0x569")])(b.x,b.y))}));var g=[],v=d/c;if(this[_0x27ab("0xac1")](h,0,g,v,d),0==g[_0x27ab("0x0")])return console[_0x27ab("0x3f4")]("数据错误，请检查是否有重复点 id:"+o+" ,模型:"+t),void(this.inited=!0);var p=[];if(g[_0x27ab("0x1b")]((function(x,a){var b=new(THREE[_0x27ab("0xe7")])(parseFloat(x[_0x27ab("0x24b")]),parseFloat(r),parseFloat(n));0==b.x&&(b.x=1),0==b.y&&(b.y=1),0==b.z&&(b.z=1);var e=Math.PI/180,i=new(THREE[_0x27ab("0x27a")])(0,parseFloat(x[_0x27ab("0x26c")])*e,0),c=_.map[_0x27ab("0x193")](x,!0);c.y=0,c.y+=parseFloat(s),p[_0x27ab("0x1")]({id:o+"-"+a,model:t,rotation:i,position:c,scale:b})})),l){b[_0x27ab("0x2a1")]((function(x){x.material&&(x[_0x27ab("0xb3")]=x[_0x27ab("0xb3")].clone())}));var A=(0,i.default)({},this[_0x27ab("0x115e")],{scene:b,scenes:[b]}),m=this[_0x27ab("0x161")][_0x27ab("0x62f")][_0x27ab("0xda")](A,p);m||console[_0x27ab("0x257")]("合并失败，取消合并"),this.o3d_[_0x27ab("0x163")](m),this[_0x27ab("0xaf")].userData[_0x27ab("0xa34")]=!0}else{b[_0x27ab("0x2a1")]((function(x){x.material&&(x[_0x27ab("0xb3")]=x[_0x27ab("0xb3")].clone())}));for(var C=0;C<p.length;C++){var I=p[C],y=b[_0x27ab("0xe2")](!0);(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](y)[_0x27ab("0x31f")](y[_0x27ab("0xc3")]),y[_0x27ab("0xc3")][_0x27ab("0x28c")](-1);var E=new(THREE[_0x27ab("0x15b")]);E.add(y),y[_0x27ab("0x127")].id=I.id,E[_0x27ab("0x1b1")][_0x27ab("0x27d")](I[_0x27ab("0x1b1")]),E[_0x27ab("0x24b")].copy(I.scale),E[_0x27ab("0xc3")][_0x27ab("0x27d")](I[_0x27ab("0xc3")]),this[_0x27ab("0xaf")][_0x27ab("0x163")](E)}}this.mapCoord={x:x[0].x,y:x[0].y}}}},{key:_0x27ab("0x115c"),value:function(){var x=this,a=this[_0x27ab("0x9f8")][_0x27ab("0x235")];return new(_[_0x27ab("0xb")])((function(b){if(x[_0x27ab("0x37")].mapService[_0x27ab("0x2ba")][a])b(x[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x2ba")][a][_0x27ab("0x31d")]);else{if(!x[_0x27ab("0x161")][_0x27ab("0x320")][a]){var _={name:_0x27ab("0x1162"),layerid:x[_0x27ab("0x628")],model:x.configs[_0x27ab("0x235")],url:x[_0x27ab("0x1b9")],id:_0x27ab("0x1162"),bclick:0,fnum:1,iswall:!0,gid:0,scale:new(THREE[_0x27ab("0xe7")])(1,1,1),rotation:new(THREE[_0x27ab("0xe7")])(0,0,0),position:new(THREE[_0x27ab("0xe7")])(1,1,1),parent:new(THREE[_0x27ab("0xe8b")])};x.modelLoadManager.addUserModel(_)}x[_0x27ab("0x37")].on("modelPrefetched",(function(x){x[_0x27ab("0xc5")]==a&&b(x[_0x27ab("0x31d")])})),x.map.on(_0x27ab("0x1163"),(function(x){x[_0x27ab("0xc5")]==a&&b(null)}))}}))}},{key:_0x27ab("0xac1"),value:function(x,a,b,_,e){if(a==x[_0x27ab("0x0")]-1)return!0;var t,i,n,r,s,o,c=x[a],l=x[a+1],f=l[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](c),u=_/2,d=(t=l,i=c,n=new(THREE[_0x27ab("0xe7")])(1,0,0),r=new(THREE[_0x27ab("0xe7")])(t.x,0,t.y),s=new(THREE[_0x27ab("0xe7")])(i.x,0,i.y).clone().sub(r).normalize(),o=s.angleTo(n)*THREE[_0x27ab("0x28e")][_0x27ab("0x2f5")],s[_0x27ab("0xe2")]()[_0x27ab("0x264")](n).y>0?o:360-o),h=f[_0x27ab("0x0")]();if(f.normalize(),0!=h){if(h>_){var g=Math[_0x27ab("0xdd")](h/_),v=h%_,p=c.clone()[_0x27ab("0x163")](f.clone().multiplyScalar(u));p[_0x27ab("0x26c")]=d,p[_0x27ab("0x24b")]=_/e,b[_0x27ab("0x1")](p);for(var A=1;A<g;A++){var m=b[b[_0x27ab("0x0")]-1][_0x27ab("0xe2")]()[_0x27ab("0x163")](f[_0x27ab("0xe2")]()[_0x27ab("0x28c")](_));m.angle=d,m.scale=_/e,b[_0x27ab("0x1")](m)}if(v>0)if(v>=e/2){var C=b[b[_0x27ab("0x0")]-1].clone()[_0x27ab("0x163")](f[_0x27ab("0xe2")]().multiplyScalar(u+v/2));C[_0x27ab("0x26c")]=d,C[_0x27ab("0x24b")]=v/e,b[_0x27ab("0x1")](C)}else{var I=b[b[_0x27ab("0x0")]-1];I[_0x27ab("0x24b")]=(v+_)/e;var y=I.clone()[_0x27ab("0x163")](f.clone()[_0x27ab("0x28c")](v/2));I.x=y.x,I.y=y.y}}else{var E=c.clone()[_0x27ab("0x163")](f[_0x27ab("0xe2")]()[_0x27ab("0x28c")](h/2));E[_0x27ab("0x26c")]=d,E.scale=h/e,b[_0x27ab("0x1")](E)}this[_0x27ab("0xac1")](x,++a,b,_,e)}}},{key:_0x27ab("0x2dc"),value:function(x){var a=!1===x,b=this[_0x27ab("0x9f8")][_0x27ab("0xda")];this[_0x27ab("0xaf")][_0x27ab("0x2a1")]((function(_){if(_[_0x27ab("0xb3")])if(_[_0x27ab("0xb3")]instanceof Array)if(b)_.material[0][_0x27ab("0x127")][_0x27ab("0xa35")]||(_[_0x27ab("0xb3")][0].userData[_0x27ab("0xa35")]=_[_0x27ab("0xb3")][0][_0x27ab("0x2df")].clone()),a?(_.material[0].emissive=_[_0x27ab("0xb3")][0][_0x27ab("0x127")][_0x27ab("0xa35")],_[_0x27ab("0xb3")][0][_0x27ab("0x127")][_0x27ab("0xa35")]=null):_.material[0][_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(x);else for(var e=0;e<_[_0x27ab("0xb3")].length;e++){var t=_[_0x27ab("0xb3")][e].clone();t[_0x27ab("0xc")](_0x27ab("0x2df"))&&(t.userData[_0x27ab("0xa35")]||(t.userData.originEMS=t[_0x27ab("0x2df")][_0x27ab("0xe2")]()),t[_0x27ab("0x2df")]=a?t.userData[_0x27ab("0xa35")]instanceof THREE[_0x27ab("0x108")]?t[_0x27ab("0x127")].originEMS:new THREE.Color(t[_0x27ab("0x127")][_0x27ab("0xa35")]):new(THREE[_0x27ab("0x108")])(x),_[_0x27ab("0xb3")][e]=t,t.needsUpdate=!0)}else{var i=_[_0x27ab("0xb3")];i[_0x27ab("0xc")](_0x27ab("0x2df"))&&(a?i[_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(i[_0x27ab("0x127")][_0x27ab("0xa35")]):((i=_[_0x27ab("0xb3")][_0x27ab("0xe2")]())[_0x27ab("0x127")].originEMS||(i.userData[_0x27ab("0xa35")]=_[_0x27ab("0xb3")][_0x27ab("0x2df")][_0x27ab("0x497")]()),i[_0x27ab("0x2df")]=new(THREE[_0x27ab("0x108")])(x),_[_0x27ab("0xb3")]=i),_[_0x27ab("0xb3")][_0x27ab("0x146")]=!0)}}))}}]),x}();a[_0x27ab("0xb")]=u},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=c(b(4)),e=c(b(0)),t=c(b(1)),i=c(b(5)),n=c(b(6)),r=c(b(97)),s=b(11),o=(b(55),b(56),c(b(24)));function c(x){return x&&x.__esModule?x:{default:x}}var l=function(x){function a(x){(0,e[_0x27ab("0xb")])(this,a);var b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],t=b[_0x27ab("0x614")][_0x27ab("0x31f")]();0==x.x&&(x.x=t.x),0==x.y&&(x.y=t.y);var n=b.coordMapToThree({x:x.x,y:x.y,z:x[_0x27ab("0x1b7")]||0}),r=void 0;if(x[_0x27ab("0x26c")]instanceof Object)r={x:THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](x[_0x27ab("0x26c")].x||0),y:THREE[_0x27ab("0x28e")].degToRad(x[_0x27ab("0x26c")].z||0),z:THREE[_0x27ab("0x28e")][_0x27ab("0x27b")](x[_0x27ab("0x26c")].y||0)};else{var c;if(isNaN(x.angle)&&null!=x[_0x27ab("0x26c")])return c=console.error(_0x27ab("0x1164")),(0,i[_0x27ab("0xb")])(m,c);r={x:0,y:THREE.Math.degToRad((0,s[_0x27ab("0x10")])(x,"angle",0)),z:0}}var l=(0,s[_0x27ab("0x10")])(x,_0x27ab("0xaf9"),1),f=l instanceof Object?{x:l.x||1,y:l.y||1,z:l.z||1}:{x:l,y:l,z:l},u=(0,s[_0x27ab("0x10")])(x,_0x27ab("0x1b9"),_0x27ab("0x235")),d="",h=u[_0x27ab("0x2b9")]("/");d=h>=0?u.slice(h+1):u,b[_0x27ab("0x175")][_0x27ab("0x41c")]("sk")&&(u=u[_0x27ab("0x111")](/\.gltf$/,"")+_0x27ab("0x77"),u=b[_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x1f1")]?o.default.getPath(_0x27ab("0x56"),{filename:u,modeltoken:b[_0x27ab("0xa2")],buildingId:b.id}):o.default[_0x27ab("0x5f")]("tileModel",{filename:u,modeltoken:b[_0x27ab("0xa2")]}));var g=(0,s[_0x27ab("0x10")])(x,"id",1),v=b[_0x27ab("0x34")]==esmap[_0x27ab("0x39")].Building?20:12,p=(0,s[_0x27ab("0x10")])(x,_0x27ab("0x244"),v),A=(0,s[_0x27ab("0x10")])(x,_0x27ab("0xeb"),0),m=(0,i[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,{model:d,ID:g,bid:A,url:u,alias:_0x27ab("0x1165"),scale:f,rotation:r,position:n,showLevel:p,name:x[_0x27ab("0xc5")]||_0x27ab("0x1165"),onError:x[_0x27ab("0x1166")]||null,callback:x[_0x27ab("0x1d6")]||x[_0x27ab("0x1d2")]||null,clickAnimation:(0,s.getValue)(x,_0x27ab("0x1167"),!1)}));return m[_0x27ab("0xf5b")]=!x[_0x27ab("0xc")](_0x27ab("0xf5b"))||x[_0x27ab("0xf5b")],m[_0x27ab("0x366")]=x[_0x27ab("0x366")]||null,m.o3d_.position.y=n.y,m.seeThrough=null!=x.seeThrough&&x[_0x27ab("0x2aa")],m.merge=null!=x.merge&&x.merge,m.marker=!0,m}return(0,n[_0x27ab("0xb")])(a,x),(0,t[_0x27ab("0xb")])(a,[{key:_0x27ab("0x930"),value:function(x){esmap[_0x27ab("0x18b")].prototype[_0x27ab("0x930")].call(this,x)}},{key:_0x27ab("0x1c4"),value:function(){this[_0x27ab("0xaf")].stop()}},{key:"height",get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xc3")].y},set:function(x){this.o3d_.position.y=x}}]),a}(r[_0x27ab("0xb")]);l.ESModel3D=r[_0x27ab("0xb")],a[_0x27ab("0xb")]=l},function(x,a,b){"use strict";CanvasRenderingContext2D[_0x27ab("0x2")][_0x27ab("0xe52")]=function(x,a,b,_,e){return this[_0x27ab("0x908")](),this.moveTo(x+e,a),this[_0x27ab("0x1168")](x+b,a,x+b,a+_,e),this[_0x27ab("0x1168")](x+b,a+_,x,a+_,e),this.arcTo(x,a+_,x,a,e),this.arcTo(x,a,x+b,a,e),this[_0x27ab("0x90a")](),this}},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=n(b(10)),e=n(b(43)),t=n(b(0)),i=n(b(1));function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var r=function(){function x(a,b){(0,t[_0x27ab("0xb")])(this,x);var _=esmap.ESMap.instance;this[_0x27ab("0x847")]=_.mapService[_0x27ab("0x1a0")],this[_0x27ab("0x37")]=_,this[_0x27ab("0x1169")]={},this[_0x27ab("0x116a")]={}}return(0,i.default)(x,[{key:_0x27ab("0x1136"),value:function(x){var a=this;if(0!=x&&!a[_0x27ab("0x1169")][x]){var b={};b[_0x27ab("0x10b4")]={},b.areaToAreas={},b[_0x27ab("0x116b")]={},b.layerPToP={},b.crossScheme={};for(var _=[],e=[],t=a.source[x],i=this[_0x27ab("0x37")].getBuildingById(x),n=i[_0x27ab("0x33")][_0x27ab("0xed")][0],r=i[_0x27ab("0x33")][_0x27ab("0xed")][1],s=n+i[_0x27ab("0x17a")][_0x27ab("0x444")],o=r-i[_0x27ab("0x17a")].DefaultCenY,c=0;c<t[_0x27ab("0x0")];c++){var l=t[c].floornum,f=t[c][_0x27ab("0x4e8")],u=t[c].Lines,d=[],h=[],g=[];for(var v in f){var p=f[v];p.X=p.X+s,p.Y=p.Y+o;var A=p[_0x27ab("0x4f4")]||0;if(a[_0x27ab("0xd9")](d,A)||d[_0x27ab("0x1")](A),0!=(p[_0x27ab("0x96")]||0)){var m=A+1e4*l;if(b[_0x27ab("0x116b")][m])b[_0x27ab("0x116b")][m][_0x27ab("0x1")](p[_0x27ab("0x43d")]);else{var C=[p[_0x27ab("0x43d")]];b[_0x27ab("0x116b")][m]=C}}b[_0x27ab("0x10b4")][p[_0x27ab("0x43d")]]=[]}for(var I in u){var y=u[I],E=(y.bstair,y[_0x27ab("0x4fb")]||0),w=y[_0x27ab("0x4f4")],T=y[_0x27ab("0x4f9")];if(f[w]&&f[T])b.nearbyLine[w][_0x27ab("0x1")](y[_0x27ab("0x43d")]),b[_0x27ab("0x10b4")][T][_0x27ab("0x1")](y[_0x27ab("0x43d")]),1==(y[_0x27ab("0x1bd")]||1e3)&&(0==E?g[_0x27ab("0x1")](y):h[_0x27ab("0x1")](y));else 0==E?e[_0x27ab("0x1")](y):_[_0x27ab("0x1")](y)}}a[_0x27ab("0x1169")][x]=b}}},{key:_0x27ab("0x116c"),value:function(x,a){for(var b=this.source[x],_=1;_<b[_0x27ab("0x0")];_++){var e=b[_][_0x27ab("0x4a1")],t=b[_][_0x27ab("0x4e8")];if(t[a]){var i=t[a].sid;return i+=1e4*e}}return-1}},{key:_0x27ab("0x116d"),value:function(x,a,b,_,e,t){for(var i=0;i<e.length;i++){x[e[i]+1e4*t]=[]}for(i=0;i<b[_0x27ab("0x0")];i++){var n=(c=b[i])[_0x27ab("0x4f4")],r=c.eid,s=a[n][_0x27ab("0x4f4")]||0;s+=1e4*t;var o=a[r][_0x27ab("0x4f4")]||0;o+=1e4*t,x[s][_0x27ab("0x1")](n),x[o][_0x27ab("0x1")](r)}for(i=0;i<_[_0x27ab("0x0")];i++){var c;s=a[n=(c=_[i]).sid][_0x27ab("0x4f4")]||0;x[s+=1e4*t][_0x27ab("0x1")](n)}for(var i in x){0==x[i][_0x27ab("0x0")]&&delete x.i}}},{key:_0x27ab("0x116e"),value:function(x,a,b,_){for(var e={},t=0;t<_[_0x27ab("0x0")];t++){var i=_[t],n=this[_0x27ab("0x116f")](x,i,a,b);e[i]=n}return e}},{key:_0x27ab("0x116f"),value:function(x,a,b,_){for(var e=[],t=0;t<b[_0x27ab("0x0")];t++){(n=x[(i=b[t])[_0x27ab("0x4f4")]].sid)!=(r=x[i[_0x27ab("0x4f9")]][_0x27ab("0x4f4")])&&(n!=a||this[_0x27ab("0xd9")](e,r)||e[_0x27ab("0x1")](r),r!=a||this.exitInArray(e,n)||e[_0x27ab("0x1")](n))}for(t=0;t<_[_0x27ab("0x0")];t++){var i,n,r;(n=x[(i=_[t])[_0x27ab("0x4f4")]].sid)!=(r=x[i.eid][_0x27ab("0x4f4")])&&(n!=a||this[_0x27ab("0xd9")](e,r)||e[_0x27ab("0x1")](r))}return e}},{key:_0x27ab("0x1170"),value:function(x,a,b){var _={};if(0==b.length)for(var e in x)for(var t=x[e],i=0;i<t[_0x27ab("0x0")];i++){var n=t[i],r=this.getCanRunPoint1(n,a);_[n]=r}else{var s={};for(i=0;i<b[_0x27ab("0x0")];i++){var o=b[i],c=o[_0x27ab("0x4f4")],l=o.eid,f=[];for(var u in a){var d=a[u],h=[];if(s[u]&&(h=s[u]),(this[_0x27ab("0xd9")](d,c)||this[_0x27ab("0xd9")](h,c))&&f.push(u),this.exitInArray(d,l)&&u,0!=f.length){h=[];a[l]?h=a[l]:h[_0x27ab("0x1")](l);for(var g=0;g<f[_0x27ab("0x0")];g++){var v=f[g];if(s[v])for(var p=0;p<h[_0x27ab("0x0")];p++)s[v][_0x27ab("0x1")](h[p]);else s[v]=h}}}}for(var e in x)for(t=x[e],i=0;i<t[_0x27ab("0x0")];i++){n=t[i],r=this[_0x27ab("0x1171")](n,a,s);_[n]=r}}return _}},{key:_0x27ab("0x1171"),value:function(x,a,b){var _=[];for(var e in a){var t=a[e];if(this[_0x27ab("0xd9")](t,x)){for(var i=0;i<t.length;i++)t[i]!=x&&_.push(t[i]);if(b[e]){var n=b[e];for(i=0;i<n[_0x27ab("0x0")];i++)_[_0x27ab("0x1")](n[i])}}}return _}},{key:_0x27ab("0x1172"),value:function(x,a){var b=[];for(var _ in a){var e=a[_];if(this[_0x27ab("0xd9")](e,x))for(var t=0;t<e[_0x27ab("0x0")];t++)e[t]!=x&&b[_0x27ab("0x1")](e[t])}return b}},{key:"getLinePoint",value:function(x){for(var a={},b=1,_=0;_<x.length;_++){var e=x[_];if(0==_){(t=[])[_0x27ab("0x1")](e[_0x27ab("0x4f4")]),t[_0x27ab("0x1")](e[_0x27ab("0x4f9")]),a[b]=t}else{var t,i=!1;for(var n in a){var r=this[_0x27ab("0xd9")](a[n],e[_0x27ab("0x4f4")]),s=this[_0x27ab("0xd9")](a[n],e[_0x27ab("0x4f9")]);if(r&&!s){a[n][_0x27ab("0x1")](e[_0x27ab("0x4f9")]),i=!0;break}if(!r&&s){a[n][_0x27ab("0x1")](e[_0x27ab("0x4f4")]),i=!0;break}}if(!i)b++,(t=[])[_0x27ab("0x1")](e[_0x27ab("0x4f4")]),t[_0x27ab("0x1")](e[_0x27ab("0x4f9")]),a[b]=t}}var o=[];for(var _ in a){var c=a[_];this[_0x27ab("0x1173")](c,o)}a=[];for(_=0;_<o[_0x27ab("0x0")];_++)a[_]=o[_];return a}},{key:_0x27ab("0x1173"),value:function(x,a){for(var b=a[_0x27ab("0x0")],_=-1,e=0;e<a.length;e++)if((_=this[_0x27ab("0x1174")](x,a[e]))>0){b=e;break}if(b==a[_0x27ab("0x0")])a.push(x);else{var t=a[b];for(e=0;e<x[_0x27ab("0x0")];e++){var i=x[e];i!=_&&t[_0x27ab("0x1")](i)}}}},{key:_0x27ab("0x1174"),value:function(x,a){for(var b=-1,_=0;_<x[_0x27ab("0x0")];_++){for(var e=x[_],t=0;t<a[_0x27ab("0x0")];t++){if(e==a[t]){b=e;break}}if(b>0)break}return b}},{key:"initCrossScheme",value:function(x,a){var b=[];for(var _ in x)b[_0x27ab("0x1")](_);for(_=0;_<b.length;_++)for(var e=b[_],t=0;t<b[_0x27ab("0x0")];t++){var i=b[t];if(e!=i){var n=1e5*e+1*i;if(!a[n]){var r=this[_0x27ab("0x1175")](e,i,x);if(0!=r[_0x27ab("0x0")]){a[n]=r;var s=this[_0x27ab("0x1176")](r);a[1e5*i+1*e]=s;for(var o=[r],c=0;c<1e4&&0!=(o=this[_0x27ab("0x1177")](o))[_0x27ab("0x0")]&&1!=o[0][_0x27ab("0x0")];c++)for(var l=0;l<o[_0x27ab("0x0")];l++){var f=o[l],u=f[0],d=f[f[_0x27ab("0x0")]-1],h=1e5*u+1*d;if(a[h])o[_0x27ab("0x157")](l,1),l--;else{a[h]=f;var g=this[_0x27ab("0x1176")](f);a[1e5*d+1*u]=g}}}}}}}},{key:"opposite",value:function(x){for(var a=[],b=x[_0x27ab("0x0")]-1;b>=0;b--)a[_0x27ab("0x1")](x[b]);return a}},{key:"getArrayMinus",value:function(x){for(var a=[],b=0;b<x.length;b++){for(var _=x[b],e=[],t=1;t<_.length;t++)e[_0x27ab("0x1")](_[t]);var i=[];for(t=0;t<_.length-1;t++)i[_0x27ab("0x1")](_[t]);a.push(e),a.push(i)}return a}},{key:_0x27ab("0x1175"),value:function(x,a,b){var _=[x];if(x!=a){var e=[],t=[x],i=[],n=b[x];if(n[a])_[_0x27ab("0x1")](a);else{for(var r=0;r<n.length;r++){var s=n[r],o=[x,s];i[_0x27ab("0x1")](o),t[_0x27ab("0x1")](s)}for(r=0;r<100;r++){if(0==(i=this[_0x27ab("0x1178")](i,t,b))[_0x27ab("0x0")])return[];for(var c=0;c<i[_0x27ab("0x0")];c++){var l=i[c];l[l.length-1]==a&&e[_0x27ab("0x1")](l)}if(0!=e[_0x27ab("0x0")]){_=this[_0x27ab("0x1179")](e);break}}}}for(r=0;r<_[_0x27ab("0x0")];r++)_[r]*=1;return _}},{key:_0x27ab("0x1178"),value:function(x,a,b){for(var _=[],e=0;e<x.length;e++)for(var t=x[e],i=b[t[t[_0x27ab("0x0")]-1]],n=0;n<i[_0x27ab("0x0")];n++){var r=i[n];if(!this[_0x27ab("0xd9")](a,r)){for(var s=[],o=0;o<t[_0x27ab("0x0")];o++)s[_0x27ab("0x1")](t[o]);s.push(r),_[_0x27ab("0x1")](s),a[_0x27ab("0x1")](r)}}return _}},{key:_0x27ab("0x1179"),value:function(x){for(var a=x[0],b=this[_0x27ab("0x117a")](a),_=1;_<x.length;_++){var e=x[_],t=this[_0x27ab("0x117a")](e);t<b&&(b=t,a=e)}return a}},{key:_0x27ab("0x117a"),value:function(x){for(var a=0,b=0;b<x[_0x27ab("0x0")]-1;b++){var _=x[b],e=x[b+1];Math[_0x27ab("0xdd")](_/1e4)==Math.floor(e/1e4)&&a++}return a}},{key:"queryRoutesInBuilding",value:function(x,a,b,_){x[_0x27ab("0xee")],a[_0x27ab("0xee")];var e=x.bid;this[_0x27ab("0x1169")][e][_0x27ab("0x117b")];if(x&&a){return this.getNaviResult2(e,x,a,b,_)}console[_0x27ab("0x2bb")](_0x27ab("0x114b"))}},{key:_0x27ab("0x112c"),value:function(x,a,b,_){var t=x[_0x27ab("0xeb")],i=a.bid;if(this[_0x27ab("0x1136")](t),this[_0x27ab("0x1136")](i),t!=i){if(0==x.bid){var n={x:x.x,y:x.y,bid:i,fnum:a.fnum},r={x:(c=this.getNearestGate(n))[_0x27ab("0x63c")].X,y:c[_0x27ab("0x63c")].Y,_id:c[_0x27ab("0x63c")][_0x27ab("0x43d")],fnum:c[_0x27ab("0xee")],bid:i},s=this[_0x27ab("0x114a")](a,b),o=this[_0x27ab("0x117d")](r,s,b,_);return _0x27ab("0x117e"),o}n={x:a.x,y:a.y,bid:t,fnum:1};var c,l={x:(c=this.getNearestGate(n)).node.X,y:c[_0x27ab("0x63c")].Y,_id:c[_0x27ab("0x63c")][_0x27ab("0x43d")],fnum:c.fnum,bid:t},f=this[_0x27ab("0x114a")](x,b),u={x:f.x,y:f.y,_id:f._id,fnum:x[_0x27ab("0xee")],bid:t};o=this.queryRoutesInBuilding(u,l,b,_);return console[_0x27ab("0x362")](_0x27ab("0x117e"),o),o}var d=this[_0x27ab("0x114a")](x,b),h=this[_0x27ab("0x114a")](a,b);if(d._id!=h._id){var g={x:d.X,y:d.Y,_id:d._id,fnum:x.fnum,bid:t},v={x:h.X,y:h.Y,_id:h[_0x27ab("0x43d")],fnum:a[_0x27ab("0xee")],bid:i},p=this[_0x27ab("0x117d")](g,v,b,_);return[][_0x27ab("0x1ec")]((0,e[_0x27ab("0xb")])(p[_0x27ab("0xc69")]))}console[_0x27ab("0x2bb")](_0x27ab("0x117c"))}},{key:"getNearestGate",value:function(x,a){var b=this.source[x[_0x27ab("0xeb")]],_=[1/0,0,{},1];return b[_0x27ab("0x1b")]((function(b){var e=b[_0x27ab("0x4e8")],t=b[_0x27ab("0x4a1")];if(2==a)for(var i in e){if(4==(n=e[i])[_0x27ab("0x96")]||5==n.tid)(r=Math[_0x27ab("0x274")](Math[_0x27ab("0xdc")](Math[_0x27ab("0xb4")](n.X-x.x,2)+Math[_0x27ab("0xb4")](n.Y-x.y,2))))<_[0]&&(_[0]=r,_[1]=i,_[2]=n,_[3]=t)}else for(var i in e){var n,r;if((n=e[i])[_0x27ab("0x96")]&&11==n[_0x27ab("0x96")])(r=Math[_0x27ab("0x274")](Math[_0x27ab("0xdc")](Math[_0x27ab("0xb4")](n.X-x.x,2)+Math[_0x27ab("0xb4")](n.Y-x.y,2))))<_[0]&&(_[0]=r,_[1]=i,_[2]=n,_[3]=t)}})),{node:_[2],fnum:_[3]}}},{key:_0x27ab("0x117f"),value:function(x,a){for(var b=this.navdata[x][_0x27ab("0x4e8")],_=0;_<a[_0x27ab("0x0")];_++){var e=b[a[_]],t={fnum:x,x:e.X,y:e.Y};a[_]=t}}},{key:_0x27ab("0x1180"),value:function(x,a,b,_,e,t){var i=[],n=this[_0x27ab("0x1169")][x].areaPoints,r=this[_0x27ab("0x1169")][x][_0x27ab("0x116b")],s=this[_0x27ab("0x1169")][x][_0x27ab("0x1181")];if(1==t[_0x27ab("0x0")])i[_0x27ab("0x1")](a),i[_0x27ab("0x1")](b);else{for(var o=[],c=0;c<t[_0x27ab("0x0")]-1;c++){var l=t[c],f=Math[_0x27ab("0xdd")](l/1e4),u=t[c+1],d=Math[_0x27ab("0xdd")](u/1e4);if(f==d){var h=[];(y=[])[_0x27ab("0x1")](f),h[_0x27ab("0x1")](f);for(var g=n[l],v=this[_0x27ab("0x1147")](x,f),p=v[_0x27ab("0x4e8")],A=v[_0x27ab("0x4e9")],m=0;m<g[_0x27ab("0x0")];m++){var C=g[m],I=this[_0x27ab("0x1182")](x,C,u%1e4,A,p);0!=I.length&&(y[_0x27ab("0x1")](C),h[_0x27ab("0x1")](I.eid))}if(0==y[_0x27ab("0x0")])return[];o[_0x27ab("0x1")](y),o[_0x27ab("0x1")](h)}else{var y;h=[];(y=[])[_0x27ab("0x1")](f),h.push(d);g=r[l];for(var E=r[u],w=0;w<g.length;w++){var T=s[C=g[w]];for(m=0;m<T.length;m++){var k=T[m];if(this[_0x27ab("0xd9")](E,k)){y.push(C),h[_0x27ab("0x1")](k);break}}}if(0==y.length)return[];o[_0x27ab("0x1")](y),o[_0x27ab("0x1")](h)}}var S={},M=[];M[_0x27ab("0x1")](a),this[_0x27ab("0x1183")](x,o,0,0,M,S);var R={};for(var L in S){var H=S[L],D=(p=this[_0x27ab("0x1147")](x,e)[_0x27ab("0x4e8")])[H[H.length-1]],P=p[b],O=this.getDistance(D,P);H[_0x27ab("0x1")](b),R[O+1*L]=H}var B=1e6;for(var N in R)parseInt(N)<parseInt(B)&&(B=N,i=R[N])}return i}},{key:_0x27ab("0x1182"),value:function(x,a,b,_,e){for(var t=this.dataList1[x].nearbyLine[a],i=0;i<t[_0x27ab("0x0")];i++){var n=_[t[i]];if(1==n.rank)if(n.sid==a){if(e[n.eid][_0x27ab("0x4f4")]==b)return n}else if(e[n.sid].sid==b){var r=this[_0x27ab("0xe2")](n);return r[_0x27ab("0x4f4")]=n[_0x27ab("0x4f9")],r[_0x27ab("0x4f9")]=n.sid,r}}return[]}},{key:_0x27ab("0x602"),value:function(x,a){return(x.X-a.X)*(x.X-a.X)+(x.Y-a.Y)*(x.Y-a.Y)}},{key:_0x27ab("0x1183"),value:function(x,a,b,_,e,t){if(a[_0x27ab("0x0")]>b)for(var i=a[b],n=a[b+1],r=i[0],s=this[_0x27ab("0x1147")](x,r)[_0x27ab("0x4e8")],o=1;o<i[_0x27ab("0x0")];o++){var c=i[o],l=n[o],f=s[e[e.length-1]],u=s[c],d=this[_0x27ab("0x602")](f,u);if(_+=d,e[_0x27ab("0x1")](c),e.push(l),this.findAllPath(x,a,b+2,_,e,t),e[_0x27ab("0x0")]==a[_0x27ab("0x0")]+1){for(var h=[],g=0;g<e[_0x27ab("0x0")];g++)h[_0x27ab("0x1")](e[g]);t[_]=h}e[_0x27ab("0x157")](e.length-1,1),e[_0x27ab("0x157")](e[_0x27ab("0x0")]-1,1),_-=d}}},{key:"getShortestPath",value:function(x,a,b,_,e,t,i,n){if(_!=e){var r={};r[_0x27ab("0x8cf")]=_,r.costDistance=0,r[_0x27ab("0x114e")]=[1*_];for(var s=[_],o=[],c=1;c<1e5;c++){for(var l=this[_0x27ab("0x1184")](x,r,a,b,s,t,n),f=0;f<l[_0x27ab("0x0")];f++)o.push(l[f]);if(o.sort(this[_0x27ab("0x1155")]("costDistance")),0==o[_0x27ab("0x0")])return[];for(r=o[0];this[_0x27ab("0xd9")](s,r[_0x27ab("0x8cf")]);)o.shift(),r=o[0];if(s[_0x27ab("0x1")](r[_0x27ab("0x8cf")]),o[_0x27ab("0x4")](),r[_0x27ab("0x8cf")]==e)return r[_0x27ab("0xee")]=i,r}return[]}console[_0x27ab("0x2bb")](_0x27ab("0x1153"))}},{key:_0x27ab("0x1184"),value:function(x,a,b,_,e,t,i){var n=[],r=a[_0x27ab("0x8cf")],s=this[_0x27ab("0x1169")][x][_0x27ab("0x10b4")];if(s[r])for(var o=s[r],c=0;c<o[_0x27ab("0x0")];c++){var l=_[o[c]],f=l[_0x27ab("0x4fc")];if(1==i){if(5==f)continue}else if(1==f||2==f||3==f||6==f)continue;var u=l[_0x27ab("0x4f9")];if(r==l[_0x27ab("0x4f9")]){if(2==i&&"1"==l[_0x27ab("0x4fb")])continue;u=l[_0x27ab("0x4f4")]}if(!this[_0x27ab("0xd9")](e,u)){if(b[u][_0x27ab("0x4f4")]!=t)continue;var d=this[_0x27ab("0xe2")](a);d[_0x27ab("0x8cf")]=u,d[_0x27ab("0x114e")][_0x27ab("0x1")](u),d[_0x27ab("0x1151")]+=l[_0x27ab("0x0")],n[_0x27ab("0x1")](d)}}return n}},{key:"initDataList2",value:function(x,a,b){var _=this;if(!_.dataList2[x]){for(var e={},t={},i={},n={},r=_[_0x27ab("0x847")][x],s=0;s<r[_0x27ab("0x0")];s++){var o=r[s],c=o[_0x27ab("0x4e8")],l=o[_0x27ab("0x4a1")];for(var f in c){var u=c[f];u[_0x27ab("0xee")]=l,i[f]=u}var d=o[_0x27ab("0x4e9")];for(var h in d)n[h]=d[h];for(var g in d){var v=d[g],p=v[_0x27ab("0x4f4")],A=v.eid,m=g,C=v.bstair;if(1==a){if(5==C)continue}else if(1==C||2==C||3==C||6==C)continue;if(c[p]&&c[A]){if(e[p])e[p].push(m);else{var I=[m];e[p]=I}if(e[A])e[A][_0x27ab("0x1")](m);else{I=[m];e[A]=I}}else{var y;switch(b){case 1:y=0;break;case 2:y=2;break;case 3:y=1;break;case 4:y=3}if(y&&v[_0x27ab("0x4fc")]!=y)continue;if(t[p])t[p][_0x27ab("0x1")](m);else{I=[m];t[p]=I}if(t[A])t[A][_0x27ab("0x1")](m);else{I=[m];t[A]=I}}}}_[_0x27ab("0x116a")][x]={nearbyLine:e,crossLine:t,allPointMap:i,allLineMap:n}}}},{key:_0x27ab("0x1185"),value:function(x,a,b,_,e){var t=null;this[_0x27ab("0x1186")](x,_,e);var i=this[_0x27ab("0x116a")][x],n=i.allPointMap,r=i[_0x27ab("0x10f7")],s=i[_0x27ab("0x10b4")],o=i[_0x27ab("0x1187")],c=this[_0x27ab("0x1188")](n,r,s,o,a._id,b[_0x27ab("0x43d")],_);if(c&&c[_0x27ab("0x114e")]&&0!=c[_0x27ab("0x114e")][_0x27ab("0x0")]){for(var l=c[_0x27ab("0x114e")],f=c[_0x27ab("0x1151")],u={x:n[l[0]].X,y:n[l[0]].Y,fnum:n[l[0]][_0x27ab("0xee")],bid:x,id:n[l[0]][_0x27ab("0x43d")]},d=[new esmap.ESNaviResult(x,a[_0x27ab("0xee")],f,[u])],h=[],g=0;g<l.length-1;g++){var v=n[l[g]],p=v.fnum,A=n[l[g+1]],m=A[_0x27ab("0xee")],C=d[d.length-1];if(h[_0x27ab("0x1")]({x:v.X,y:v.Y,fnum:p,bid:x,id:v[_0x27ab("0x43d")]}),p==m)C[_0x27ab("0x1073")][_0x27ab("0x1")]({x:A.X,y:A.Y,fnum:A[_0x27ab("0xee")],bid:x,id:A[_0x27ab("0x43d")]});else{var I={x:v.X,y:v.Y,fnum:v[_0x27ab("0xee")],bid:x,id:v[_0x27ab("0x43d")]},y={x:A.X,y:A.Y,fnum:A[_0x27ab("0xee")],bid:x,id:A._id};d.push(new esmap.ESNaviResult(x,p,0,[I]),new esmap.ESNaviResult(x,m,0,[y]),new esmap.ESNaviResult(x,m,f,[y]))}}var E=n[l[l.length-1]];h.push({x:E.X,y:E.Y,fnum:E.fnum,bid:x,id:E[_0x27ab("0x43d")]});for(var w=1;w<d[_0x27ab("0x0")]-1;w++){var T=d[w];0!=T[_0x27ab("0x0")]&&1==T[_0x27ab("0x1073")][_0x27ab("0x0")]&&d[w-1].fnum==T[_0x27ab("0xee")]&&d[w+1][_0x27ab("0xee")]==T[_0x27ab("0xee")]&&d[_0x27ab("0x157")](w-1,3)}t={result:d,pointList:h}}return t}},{key:_0x27ab("0x1188"),value:function(x,a,b,_,e,t,i){if(e!=t){var n={};n[_0x27ab("0x8cf")]=e,n[_0x27ab("0x1151")]=0,n[_0x27ab("0x114e")]=[e];for(var r=[e],s=[],o=1;o<1e5;o++){for(var c=this[_0x27ab("0x1189")](n,x,a,b,_,r,i),l=0;l<c[_0x27ab("0x0")];l++)s[_0x27ab("0x1")](c[l]);if(0==s[_0x27ab("0x0")])return[];for(s[_0x27ab("0x416")](this[_0x27ab("0x1155")](_0x27ab("0x1151"))),n=s[0];this[_0x27ab("0xd9")](r,n[_0x27ab("0x8cf")]);)s.shift(),n=s[0];if(r.push(n.endPoint),s[_0x27ab("0x4")](),n.endPoint==t)return n}return[]}console[_0x27ab("0x2bb")](_0x27ab("0x1153"))}},{key:_0x27ab("0x1189"),value:function(x,a,b,_,e,t,i){var n=[],r=x[_0x27ab("0x8cf")];if(_[r])for(var s=_[r],o=0;o<s.length;o++){var c=(l=b[s[o]]).eid;if(r==l[_0x27ab("0x4f9")]){if(2==i&&"1"==l[_0x27ab("0x4fb")])continue;c=l.sid}if(!this[_0x27ab("0xd9")](t,c))(f=this[_0x27ab("0xe2")](x)).endPoint=c,f[_0x27ab("0x114e")][_0x27ab("0x1")](c),f[_0x27ab("0x1151")]+=l[_0x27ab("0x0")],1==l[_0x27ab("0x1bd")]&&(f[_0x27ab("0x1151")]+=1e3),n[_0x27ab("0x1")](f)}if(e[r])for(s=e[r],o=0;o<s[_0x27ab("0x0")];o++){var l;c=(l=b[s[o]])[_0x27ab("0x4f9")];if(r==l[_0x27ab("0x4f9")]){if(2==i&&"1"==l[_0x27ab("0x4fb")])continue;c=l[_0x27ab("0x4f4")]}if(!this[_0x27ab("0xd9")](t,c)){var f;(f=this.clone(x)).endPoint=c,f[_0x27ab("0x114e")].push(c);var u=10*(l[_0x27ab("0x1bd")]||1e3);f.costDistance+=1e5+u,n[_0x27ab("0x1")](f)}}return n}},{key:_0x27ab("0x1147"),value:function(x,a){for(var b=this[_0x27ab("0x847")][x],_=0;_<b.length;_++)if(b[_][_0x27ab("0x4a1")]==a)return b[_]}},{key:"getNearestNode",value:function(x,a){var b=this[_0x27ab("0x1147")](x[_0x27ab("0xeb")],x[_0x27ab("0xee")])[_0x27ab("0x4e8")],_=[1/0,0];if(2==a)for(var e in b){if(4==(i=b[e])[_0x27ab("0x96")]||5==i[_0x27ab("0x96")])(t=Math[_0x27ab("0x274")](Math[_0x27ab("0xdc")](Math[_0x27ab("0xb4")](i.X-x.x,2)+Math[_0x27ab("0xb4")](i.Y-x.y,2))))<_[0]&&(_[0]=t,_[1]=e)}else for(var e in b){var t,i=b[e];(t=Math[_0x27ab("0x274")](Math[_0x27ab("0xdc")](Math[_0x27ab("0xb4")](i.X-x.x,2)+Math[_0x27ab("0xb4")](i.Y-x.y,2))))<_[0]&&(_[0]=t,_[1]=e)}return b[_[1]]}},{key:_0x27ab("0x1155"),value:function(x){return function(a,b){return a[x]-b[x]}}},{key:_0x27ab("0xd9"),value:function(x,a){for(var b=0;b<x.length;b++)if(x[b]==a)return!0;return!1}},{key:_0x27ab("0xe2"),value:function(x){var a;if("object"==(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x)))if(null===x)a=null;else if(x instanceof Array){a=[];for(var b=0,e=x.length;b<e;b++)a[_0x27ab("0x1")](this[_0x27ab("0xe2")](x[b]))}else for(var t in a={},x)a[t]=this[_0x27ab("0xe2")](x[t]);else a=x;return a}}]),x}();a[_0x27ab("0xb")]=r},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=i(b(0)),e=i(b(1)),t=i(b(99));function i(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var n=function(){function x(a){(0,_[_0x27ab("0xb")])(this,x),this[_0x27ab("0xc84")]=a;var b=a[_0x27ab("0x33")],e=a.mapView[_0x27ab("0xb44")][_0x27ab("0x6de")];this[_0x27ab("0x118a")]=e[_0x27ab("0x3af")]();this.box;var i=b[_0x27ab("0x118b")],n=(0,t.default)(_0x27ab("0x3a3")).style({position:_0x27ab("0x6d8"),bottom:b[_0x27ab("0x1f3")][1]+"px",left:b[_0x27ab("0x1f3")][0]+"px",width:i+"px",height:"20px",webkitTextSizeAdjust:_0x27ab("0x591"),msTextSizeAdjust:_0x27ab("0x591")})[_0x27ab("0x339")];e[_0x27ab("0x24")](n);var r=(0,t[_0x27ab("0xb")])(_0x27ab("0x3a3")).style({position:_0x27ab("0x6d8"),overflow:"hidden",fontSize:_0x27ab("0x118c"),fontFamily:_0x27ab("0x118d"),textAlign:_0x27ab("0xed"),color:_0x27ab("0x1f6"),width:_0x27ab("0x327"),cursor:_0x27ab("0xb"),lineHeight:_0x27ab("0x118e"),textShadow:_0x27ab("0x118f")})[_0x27ab("0x339")];n[_0x27ab("0x24")](r),this[_0x27ab("0x1190")]=r;var s=(0,t[_0x27ab("0xb")])("div")[_0x27ab("0xea")]({position:_0x27ab("0x6d8"),overflow:_0x27ab("0x6dd"),background:_0x27ab("0x1f6"),width:_0x27ab("0x327"),height:_0x27ab("0x1191"),fontSize:"0",bottom:_0x27ab("0x1192")})[_0x27ab("0x339")];n[_0x27ab("0x24")](s);var o=(0,t[_0x27ab("0xb")])(_0x27ab("0x3a3"))[_0x27ab("0xea")]({position:_0x27ab("0x6d8"),overflow:"hidden",background:_0x27ab("0x1f6"),width:_0x27ab("0x1193"),height:_0x27ab("0x1194"),fontSize:"0",bottom:"0",right:"-1px"})[_0x27ab("0x339")];n.appendChild(o);var c=(0,t[_0x27ab("0xb")])(_0x27ab("0x3a3")).style({position:_0x27ab("0x6d8"),overflow:_0x27ab("0x6dd"),background:_0x27ab("0x1f6"),width:_0x27ab("0x1193"),height:_0x27ab("0x1194"),fontSize:"0",bottom:"0",left:"-1px"})[_0x27ab("0x339")];n[_0x27ab("0x24")](c);var l=(0,t[_0x27ab("0xb")])(_0x27ab("0x3a3"))[_0x27ab("0xea")]({position:_0x27ab("0x6d8"),overflow:_0x27ab("0x6dd"),background:"#000",width:_0x27ab("0x327"),height:_0x27ab("0x1193"),fontSize:"0",bottom:"0"}).element;n[_0x27ab("0x24")](l);var f=(0,t.default)(_0x27ab("0x3a3"))[_0x27ab("0xea")]({position:_0x27ab("0x6d8"),overflow:_0x27ab("0x6dd"),background:_0x27ab("0x1195"),width:"1px",height:_0x27ab("0x1196"),fontSize:"0",bottom:"0",left:"0"}).element;n.appendChild(f);var u=(0,t[_0x27ab("0xb")])(_0x27ab("0x3a3"))[_0x27ab("0xea")]({position:"absolute",overflow:_0x27ab("0x6dd"),background:"#000",width:_0x27ab("0x103b"),height:_0x27ab("0x1196"),fontSize:"0",bottom:"0",right:"0"})[_0x27ab("0x339")];n.appendChild(u),this[_0x27ab("0x1197")]=n[_0x27ab("0x3af")](),this[_0x27ab("0x1198")]=n}return(0,e[_0x27ab("0xb")])(x,[{key:_0x27ab("0xd6"),value:function(x,a){return Math[_0x27ab("0xdc")]((x.x-a.x)*(x.x-a.x)+(x.y-a.y)*(x.y-a.y))}},{key:_0x27ab("0xaae"),value:function(){var x=this;if("3D"!=this[_0x27ab("0xc84")].viewMode_){var a=this[_0x27ab("0xc84")][_0x27ab("0xada")](x[_0x27ab("0x1197")][_0x27ab("0x183")]-x[_0x27ab("0x118a")][_0x27ab("0x183")],x[_0x27ab("0x1197")][_0x27ab("0x184")]-x[_0x27ab("0x118a")].top,0),b=this[_0x27ab("0xc84")][_0x27ab("0xada")](x[_0x27ab("0x1197")][_0x27ab("0x6ee")]-x[_0x27ab("0x118a")][_0x27ab("0x183")],x.barBox[_0x27ab("0x184")]-x[_0x27ab("0x118a")][_0x27ab("0x184")],0);if(a&&b){var _=x[_0x27ab("0xd6")](a,b),e=void 0;e=_<50?_[_0x27ab("0x60b")](1)+_0x27ab("0x1199"):_>=50&&_<1e3?_[_0x27ab("0x60b")](0)+_0x27ab("0x1199"):(_/1e3).toFixed(1)+_0x27ab("0x119a"),x[_0x27ab("0x1190")][_0x27ab("0x332")]=e}}else{var t=60*this[_0x27ab("0xc84")][_0x27ab("0x614")][_0x27ab("0xb49")],i=void 0;i=t<50?t[_0x27ab("0x60b")](1)+"&nbsp;米":t>=50&&t<1e3?t[_0x27ab("0x60b")](0)+"&nbsp;米":(t/1e3)[_0x27ab("0x60b")](1)+_0x27ab("0x119a"),this[_0x27ab("0x1190")][_0x27ab("0x332")]=i}}},{key:_0x27ab("0xf6"),set:function(x){this[_0x27ab("0x1198")][_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab(x?"0xfbf":"0x591")},get:function(){return"none"!=this[_0x27ab("0x1198")][_0x27ab("0xea")][_0x27ab("0x328")]}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=n(b(10)),e=n(b(0)),t=n(b(31)),i=b(19);function n(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var r=new(t[_0x27ab("0xb")]),s=function x(a){(0,e[_0x27ab("0xb")])(this,x);var b=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];this[_0x27ab("0x119b")]=!1,this.hidden=!1,this.locked=!1,this.options_=a,this[_0x27ab("0x424")][_0x27ab("0xaf9")]=_0x27ab("0xff"),"normal"==this[_0x27ab("0x424")].size?(this.w_=this[_0x27ab("0x424")][_0x27ab("0x326")]?this[_0x27ab("0x424")][_0x27ab("0x326")]:300,this.h_=this.options_.height?this[_0x27ab("0x424")][_0x27ab("0x1b7")]:150,this.padding_=10):(this.w_=32,this.h_=32,this[_0x27ab("0x1036")]=8),this[_0x27ab("0x1014")]=_0x27ab("0x1010"),this[_0x27ab("0x1011")]=this[_0x27ab("0x424")][_0x27ab("0xcaf")]?this[_0x27ab("0x424")].borderRadius:_0x27ab("0x1196"),this[_0x27ab("0x119c")]=this[_0x27ab("0x424")][_0x27ab("0x119d")]?this[_0x27ab("0x424")][_0x27ab("0x119d")]:null,this[_0x27ab("0x6f7")]=!!this[_0x27ab("0x424")][_0x27ab("0x6f7")]&&this[_0x27ab("0x424")][_0x27ab("0x6f7")],this[_0x27ab("0x3ba")]=this[_0x27ab("0x424")][_0x27ab("0x3ba")]?this.options_[_0x27ab("0x3ba")]:null,this[_0x27ab("0xeb")]=this[_0x27ab("0x424")][_0x27ab("0x3d5")].bid?this[_0x27ab("0x424")].mapCoord[_0x27ab("0xeb")]:0,this[_0x27ab("0x119e")]=this[_0x27ab("0x424")].marker?this.options_[_0x27ab("0xc20")]:null,this[_0x27ab("0x119f")]=this[_0x27ab("0x424")].mapCoord?this[_0x27ab("0x424")][_0x27ab("0x3d5")]:null,this[_0x27ab("0xe2b")]=this[_0x27ab("0x424")].showLevel?this[_0x27ab("0x424")][_0x27ab("0x244")]:null,this[_0x27ab("0x119f")]&&this[_0x27ab("0x119f")][_0x27ab("0x1b7")]&&(this[_0x27ab("0x119f")].z=this[_0x27ab("0x119f")][_0x27ab("0x1b7")]),this[_0x27ab("0x11a0")]=this[_0x27ab("0x424")].transformOrigin?this.options_[_0x27ab("0x39b")]:_0x27ab("0x11a1"),this[_0x27ab("0x11a2")]=this[_0x27ab("0x424")][_0x27ab("0x11a3")]?this.options_.translateStyle:"-50%, -100%";var _=void 0;if(_=this[_0x27ab("0x424")][_0x27ab("0xc")]("id")&&null!=this[_0x27ab("0x424")].id?this[_0x27ab("0x424")].id:(0,i.createHash)(8),this.ID=_,r[_0x27ab("0x10b6")](this.ID))return console[_0x27ab("0x257")](_0x27ab("0x11a4")+this.ID),null;if(r.add(this.ID),this[_0x27ab("0x119f")]){null==this[_0x27ab("0x119f")].x&&(this.mapCoord_.x=b[_0x27ab("0xed")].x),null==this[_0x27ab("0x119f")].y&&(this[_0x27ab("0x119f")].y=b[_0x27ab("0xed")].y);var t=b._insureUserCoordInbounds({x:this[_0x27ab("0x119f")].x,y:this[_0x27ab("0x119f")].y});this[_0x27ab("0x119f")].x=t.x,this[_0x27ab("0x119f")].y=t.y}this.onVisibleCallBack=null,this[_0x27ab("0x119f")]&&!this.mapCoord_[_0x27ab("0xee")]&&(this.mapCoord_[_0x27ab("0xee")]=1,this.options_[_0x27ab("0x3d5")].fnum=1),this[_0x27ab("0x424")][_0x27ab("0x3d5")][_0x27ab("0xeb")]||(this[_0x27ab("0x424")][_0x27ab("0x3d5")][_0x27ab("0xeb")]=0),this[_0x27ab("0x119c")]&&this[_0x27ab("0x119c")][_0x27ab("0x1b7")]&&(this[_0x27ab("0x119c")].z=this[_0x27ab("0x119c")].height),this[_0x27ab("0x4b")]=b.getBuildingById(this.bid),(this[_0x27ab("0x119c")]||this[_0x27ab("0x119f")])&&(this[_0x27ab("0x11a5")]=!!this[_0x27ab("0x119c")],this.$=function(x){return document[_0x27ab("0xfbb")](x)},this[_0x27ab("0x100e")]=null==this[_0x27ab("0x424")][_0x27ab("0x32e")]?20:this[_0x27ab("0x424")].padding,this.contentHeight_=this.h_-2*this[_0x27ab("0x100e")],this.content_=this[_0x27ab("0x424")].content?this[_0x27ab("0x424")][_0x27ab("0x74d")]:null,this[_0x27ab("0x11a6")]=this.options_[_0x27ab("0x11a7")]?this[_0x27ab("0x424")][_0x27ab("0x11a7")]:"1px solid rgba(0,0,0,.2)",this[_0x27ab("0xe40")]=this[_0x27ab("0x424")][_0x27ab("0xe40")]?this[_0x27ab("0x424")].borderColor:_0x27ab("0x11a8"),this.backgroundColor=this.options_[_0x27ab("0x32c")]?this[_0x27ab("0x424")][_0x27ab("0x32c")]:_0x27ab("0xbaf"),this[_0x27ab("0x11a9")]=this[_0x27ab("0x424")][_0x27ab("0x11a9")]?this.options_.maxScale:1,this[_0x27ab("0x103")]=1,this[_0x27ab("0x11aa")]=null!=this.options_.updateSize&&this[_0x27ab("0x424")].updateSize,this[_0x27ab("0x37")]=b,this[_0x27ab("0xa0f")]=null,this.scaleRate=1,this[_0x27ab("0x6f8")]=1,this[_0x27ab("0x11ab")]())};s[_0x27ab("0x2")]={_tryInit:function(){var x=this,a=this,b=this[_0x27ab("0x37")],_=document[_0x27ab("0x20")](_0x27ab("0x3a3"));if(_[_0x27ab("0xea")][_0x27ab("0x39b")]=_0x27ab("0x11a1"),_[_0x27ab("0xb58")]=function(x){x[_0x27ab("0x388")]()},_[_0x27ab("0xb5a")]=function(x){a[_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x11ac")](),x[_0x27ab("0x388")]()},_[_0x27ab("0xb88")]=function(x){x.stopPropagation()},_[_0x27ab("0xff7")]=function(x){x[_0x27ab("0x388")]()},_[_0x27ab("0xff6")]=function(x){x[_0x27ab("0x388")]()},!this[_0x27ab("0x3ba")]&&this[_0x27ab("0x11ad")]){this[_0x27ab("0x11ad")]="<div style='height:"+this[_0x27ab("0x11ae")]+_0x27ab("0x11af")+this[_0x27ab("0x11ad")]+_0x27ab("0x11b0"),_[_0x27ab("0xea")].width=this.w_+"px",_.style[_0x27ab("0x1b7")]=this.h_+"px",_[_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0x6f3"),_.setAttribute(_0x27ab("0x334"),"es-control-popmarker"),_[_0x27ab("0xea")].padding=this[_0x27ab("0x100e")]+"px",_[_0x27ab("0xea")][_0x27ab("0x32c")]=_0x27ab("0x608")+this[_0x27ab("0x32c")]+","+this.opacity+")",_[_0x27ab("0xea")][_0x27ab("0x11b1")]=this[_0x27ab("0x11a6")],_[_0x27ab("0xea")][_0x27ab("0xcaf")]=this[_0x27ab("0x1011")],_[_0x27ab("0xea")][_0x27ab("0x330")]=_0x27ab("0x331");var e=document[_0x27ab("0x20")](_0x27ab("0xfe8"));e[_0x27ab("0x333")](_0x27ab("0x334"),_0x27ab("0x11b2")),e[_0x27ab("0xea")][_0x27ab("0x326")]=0,e[_0x27ab("0xea")][_0x27ab("0x1b7")]=0,e.style[_0x27ab("0x11b3")]=0,e[_0x27ab("0xea")][_0x27ab("0x6dc")]="hidden",e[_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0x6d8"),e[_0x27ab("0xea")][_0x27ab("0x11b4")]=_0x27ab("0x32f"),e[_0x27ab("0xea")].borderStyle=_0x27ab("0xcb4"),e[_0x27ab("0xea")].borderColor=this.borderColor+_0x27ab("0x11b5"),e[_0x27ab("0xea")][_0x27ab("0x183")]=this.w_/2-25+"px",e[_0x27ab("0xea")][_0x27ab("0x185")]="-40px";var t=document[_0x27ab("0x20")](_0x27ab("0xfe8"));t[_0x27ab("0x333")](_0x27ab("0x334"),_0x27ab("0xcb2")),t[_0x27ab("0xea")].width=0,t[_0x27ab("0xea")][_0x27ab("0x1b7")]=0,t.style.fontSize=0,t.style[_0x27ab("0x6dc")]="auto",t[_0x27ab("0xea")].position=_0x27ab("0x6d8"),t[_0x27ab("0xea")][_0x27ab("0x11a7")]="solid dashed dashed",t.style[_0x27ab("0x11b4")]="20px",t[_0x27ab("0xea")].borderColor=_0x27ab("0x608")+this[_0x27ab("0x32c")]+","+this[_0x27ab("0x103")]+_0x27ab("0x11b6"),t[_0x27ab("0xea")][_0x27ab("0x183")]=this.w_/2-25+"px",t.style[_0x27ab("0x185")]="-39px";var i=document[_0x27ab("0x20")]("input");i[_0x27ab("0x70")]=_0x27ab("0x726"),i[_0x27ab("0xf8")]="✖",i.style.position=_0x27ab("0x6d8"),i.style.right=_0x27ab("0xdb2"),i.style[_0x27ab("0x184")]=_0x27ab("0xf96"),i[_0x27ab("0xea")][_0x27ab("0xa1b")]="0 0 #eee",i[_0x27ab("0xea")][_0x27ab("0x326")]=_0x27ab("0x11b7"),i.style.height=_0x27ab("0x11b7"),i.style[_0x27ab("0x11b1")]=0,i[_0x27ab("0xea")][_0x27ab("0x11b8")]=_0x27ab("0x591"),i[_0x27ab("0xea")][_0x27ab("0x32e")]="0",i[_0x27ab("0x101e")]=this.bindCloseClick_[_0x27ab("0xe")](this),i.ontouchend=this[_0x27ab("0x11b9")].bind(this),_[_0x27ab("0x24")](i),_.appendChild(e),_[_0x27ab("0x24")](t)}else this.className&&_.setAttribute(_0x27ab("0x334"),this.className);var n=b[_0x27ab("0xf4")](this[_0x27ab("0xeb")]),r=n[_0x27ab("0x61b")](this[_0x27ab("0x424")][_0x27ab("0x3d5")].fnum),s=new(THREE[_0x27ab("0xe8b")]);s[_0x27ab("0x127")].id=this.ID,s[_0x27ab("0xc5")]=_0x27ab("0xae4"),r[_0x27ab("0xaf")][_0x27ab("0x163")](s),n.on(_0x27ab("0x13b"),(function(a){a.indexOf(x[_0x27ab("0x424")][_0x27ab("0x3d5")][_0x27ab("0xee")])<0?x[_0x27ab("0x6dd")]||x.hide():x[_0x27ab("0x6dd")]&&x[_0x27ab("0xf17")]()}));var o=document[_0x27ab("0x20")](_0x27ab("0x3a3"));o[_0x27ab("0x24")](_);var c=new(THREE[_0x27ab("0x6f1")])(o);this.created=!1;var l=b[_0x27ab("0x193")](this.options_[_0x27ab("0x3d5")]);s[_0x27ab("0xc3")][_0x27ab("0x27d")](l);var f=this.options_.mapCoord[_0x27ab("0x1b7")]||0;s[_0x27ab("0xc3")].y=f,s[_0x27ab("0x11ba")]=f,c[_0x27ab("0x119e")]=this[_0x27ab("0x119e")],c[_0x27ab("0xae")]={nodeType:100};var u=_[_0x27ab("0x3af")](),d=u[_0x27ab("0x326")],h=u.height;c[_0x27ab("0xe1c")]=d,c[_0x27ab("0xe1d")]=h,c[_0x27ab("0x127")][_0x27ab("0x6f8")]=1,c.userData[_0x27ab("0x6f7")]=this[_0x27ab("0x6f7")],s[_0x27ab("0x163")](c),this.cssObject=c,s[_0x27ab("0xe1c")]=64,s[_0x27ab("0xe1d")]=64,this[_0x27ab("0xa0e")]=s,s[_0x27ab("0xae")]=this,a[_0x27ab("0x119e")]&&(_[_0x27ab("0xea")][_0x27ab("0x185")]=f+"px");var g=function(){if(a.bindMarker&&a[_0x27ab("0x119e")][_0x27ab("0xaf")]&&(s[_0x27ab("0xc3")].y=a.bindMarker.o3d_[_0x27ab("0xc3")].y),a[_0x27ab("0x37")][_0x27ab("0x34")]==esmap[_0x27ab("0x39")].City){var x=s.getWorldPosition(new(THREE[_0x27ab("0xe7")]));a.map[_0x27ab("0xa71")](x,!0)&&a[_0x27ab("0x11bb")]?a.hidden&&a[_0x27ab("0x11bc")](!0):!a[_0x27ab("0x6dd")]&&a.setVisible(!1)}},v=function(){if(a[_0x27ab("0x11aa")]){var x=esmap[_0x27ab("0x18b")].getPerspectiveScale(c,a.map.mapView);a.originalScale||(x.meterperpixel<=0?a.originalScale=1:a[_0x27ab("0x289")]=x[_0x27ab("0xe30")]);var b=a.originalScale/x[_0x27ab("0xe30")];b<=0&&(b=a.originalScale);var _=Math[_0x27ab("0x340")](a.maxScale,b);c[_0x27ab("0x127")][_0x27ab("0x6f8")]=_,a[_0x27ab("0x6f8")]=_}};a[_0x27ab("0xe2b")]?a[_0x27ab("0x37")].mode==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]?a.map[_0x27ab("0x168")]<a[_0x27ab("0xe2b")]?a.inLevel=!1:a.inLevel=!0:a[_0x27ab("0x37")][_0x27ab("0x243")]<a.showLevel_?a[_0x27ab("0x11bb")]=!0:a.inLevel=!1:a[_0x27ab("0x11bb")]=!0,a[_0x27ab("0x37")].on("update",g),a[_0x27ab("0x2cf")]=g,a[_0x27ab("0x11bd")]=v,a[_0x27ab("0x37")].on(_0x27ab("0x13c"),v),a[_0x27ab("0xe2b")]&&a[_0x27ab("0x37")].on(_0x27ab("0x13c"),(function(){if(a[_0x27ab("0x37")][_0x27ab("0x34")]==esmap[_0x27ab("0x39")].City){var x=a[_0x27ab("0x37")][_0x27ab("0x168")];if(a[_0x27ab("0x401")])return;x<a[_0x27ab("0xe2b")]?a.hidden||(a[_0x27ab("0x11bc")](!1),a[_0x27ab("0x11bb")]=!1,a[_0x27ab("0x11be")]&&a[_0x27ab("0x11be")](!1)):a[_0x27ab("0x6dd")]&&(a.setVisible(!0),a[_0x27ab("0x11bb")]=!0,a[_0x27ab("0x11be")]&&a.onVisibleCallBack(!0))}else{var b=a.map[_0x27ab("0x243")];if(a.locked)return;b>a[_0x27ab("0xe2b")]?a.hidden||(a[_0x27ab("0x11bc")](!1),a.inLevel=!1,a[_0x27ab("0x11be")]&&a[_0x27ab("0x11be")](!1)):a[_0x27ab("0x6dd")]&&(a[_0x27ab("0x11bc")](!0),a[_0x27ab("0x11bb")]=!0,a.onVisibleCallBack&&a[_0x27ab("0x11be")](!0))}})),this.content_&&_.insertAdjacentHTML("beforeend",this.content_),this[_0x27ab("0xa0f")]=_,r[_0x27ab("0xaf")][_0x27ab("0xf6")]||this[_0x27ab("0x28a")](),document[_0x27ab("0x2f")](_0x27ab("0x700"),(function(x){x[_0x27ab("0x11bf")]==o&&(a[_0x27ab("0x11bb")]||a[_0x27ab("0x11bc")](!1),a[_0x27ab("0x23e")]||(a[_0x27ab("0x424")][_0x27ab("0x23e")]&&a[_0x27ab("0x424")][_0x27ab("0x23e")](_[_0x27ab("0xb0")][0],a),a.created=!0))}))},onUpdatePosition:function(x){var a=this,b=this;b[_0x27ab("0x11c1")]=function(a){var _={x:a[_0x27ab("0xe55")].x,y:a[_0x27ab("0xe55")].y,display:a.message[_0x27ab("0x328")],zIndex:b[_0x27ab("0x11c0")].element[_0x27ab("0xea")].zIndex};b.locked||b[_0x27ab("0x11bb")]||(_[_0x27ab("0x328")]=_0x27ab("0x591"));var e=1;if(b[_0x27ab("0x11aa")]){var t=esmap.ESMapLabel.getPerspectiveScale(b.group,b[_0x27ab("0x37")][_0x27ab("0x614")]);b[_0x27ab("0x289")]||(b[_0x27ab("0x289")]=t[_0x27ab("0xe30")]);var i=b[_0x27ab("0x289")]/t[_0x27ab("0xe30")];i<=0&&(i=b[_0x27ab("0x289")]),e=Math[_0x27ab("0x340")](b[_0x27ab("0x11a9")],i)}x(_0x27ab("0x3bf")+b[_0x27ab("0x11a2")]+") translate("+_.x+_0x27ab("0x3bd")+_.y+_0x27ab("0x6fa")+e+")",_)},this[_0x27ab("0x11c0")].addEventListener(_0x27ab("0x12b"),b.cssOnUpdate),this[_0x27ab("0x11c0")][_0x27ab("0x2f")](_0x27ab("0x25b"),(function(){x(_0x27ab("0xf6f"),{display:_0x27ab("0x591")}),a[_0x27ab("0x11c0")][_0x27ab("0x2d0")]("update",b[_0x27ab("0x11c1")])}))},onVisibleChanged:function(x){this[_0x27ab("0x11be")]=x},getMapCoord_Z:function(x,a){return a?this[_0x27ab("0x4b")].getFloorHeight(x)+a:this[_0x27ab("0x4b")][_0x27ab("0x30e")](x)+2},getMapCoord_:function(x){if(_0x27ab("0x1c")!=(typeof x===_0x27ab("0x8")?_0x27ab("0x8"):(0,_[_0x27ab("0xb")])(x))||!x.x||!x.y||!x[_0x27ab("0xee")])return null;var a={x:x.x,y:x.y,z:this[_0x27ab("0x11c2")](x[_0x27ab("0xee")],x.z)};return this[_0x27ab("0x37")][_0x27ab("0xada")](a.x,a.y,a.z)},getScreenCoord_:function(x){return _0x27ab("0x1c")==(void 0===x?"undefined":(0,_[_0x27ab("0xb")])(x))&&x.x&&x.y&&x.z?this[_0x27ab("0x37")][_0x27ab("0xadf")](x.x,x.y,x.z):null},bindCloseClick_:function(){this[_0x27ab("0x316")](),this[_0x27ab("0x424")][_0x27ab("0x11c3")]&&_0x27ab("0xde")==typeof this[_0x27ab("0x424")].closed&&this.options_[_0x27ab("0x11c3")](!0)},close:function(){if(this.popDiv_){var x=this[_0x27ab("0x4b")].getFloor(this[_0x27ab("0x119f")][_0x27ab("0xee")]);this.group[_0x27ab("0x158")](this[_0x27ab("0xa0e")][_0x27ab("0xb0")][0]),x[_0x27ab("0xaf")][_0x27ab("0x158")](this[_0x27ab("0xa0e")]),r[_0x27ab("0x2b4")](this.ID),this[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x328")]="none",this[_0x27ab("0x424")][_0x27ab("0x11c3")]&&"function"==typeof this[_0x27ab("0x424")].closed&&this[_0x27ab("0x424")].closed(!0),this[_0x27ab("0x37")][_0x27ab("0x61")]("update",this[_0x27ab("0x2cf")])}},setVisible:function(x){this.locked||(x?(this[_0x27ab("0xa0f")]&&(this[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x328")]="block",this[_0x27ab("0x6dd")]=!1),this[_0x27ab("0x11c0")].visible=!0):(this[_0x27ab("0xa0f")]&&(this[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x328")]="none",this[_0x27ab("0x6dd")]=!0),this[_0x27ab("0x11c0")][_0x27ab("0xf6")]=!1))},hide:function(){this[_0x27ab("0x401")]||(this.locked=!0),this[_0x27ab("0xa0f")]&&(this[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x328")]=_0x27ab("0x591"),this[_0x27ab("0x6dd")]=!0),this[_0x27ab("0x11c0")].visible=!1},show:function(){this.locked||(this[_0x27ab("0x401")]=!0),this[_0x27ab("0xa0f")]&&(this.popDiv_[_0x27ab("0xea")].display="block",this[_0x27ab("0x6dd")]=!1),this.cssObject[_0x27ab("0xf6")]=!0},toggle:function(){this[_0x27ab("0xa0f")]&&(this[_0x27ab("0xa0f")][_0x27ab("0xea")][_0x27ab("0x328")]==_0x27ab("0x591")?this.popDiv_[_0x27ab("0xea")][_0x27ab("0x328")]="block":this[_0x27ab("0xa0f")].style.display=_0x27ab("0x591"))},moveTo:function(x){esmap.ESMapLabel[_0x27ab("0x2")][_0x27ab("0x26a")][_0x27ab("0x3")](this[_0x27ab("0xa0e")],x)}},a[_0x27ab("0xb")]=s},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=f(b(10)),e=f(b(8)),t=f(b(2)),i=f(b(0)),n=f(b(1)),r=f(b(101)),s=f(b(67)),o=f(b(355)),c=f(b(357)),l=(b(69),f(b(24)));function f(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var u=new(r[_0x27ab("0xb")]),d={x:0,y:0},h=function(){function x(a,b,_){var e=this;(0,i[_0x27ab("0xb")])(this,x),u[_0x27ab("0x123")](_0x27ab("0xd5f"),null),this.id=a,this[_0x27ab("0xc5")]="",this.shellId=null,this[_0x27ab("0x37")]=_,this[_0x27ab("0xc58")]=1,this[_0x27ab("0xed")],this[_0x27ab("0xd5c")]=[],this.floorNums=[],this.loadedFloorNums=[],this[_0x27ab("0x8f4")]={},this[_0x27ab("0x626")]={},this[_0x27ab("0x100d")]={},this[_0x27ab("0xaf")]=new(THREE[_0x27ab("0x15b")]),this[_0x27ab("0xaf")][_0x27ab("0xae")]=this,this.sourceData=null,this[_0x27ab("0x15c")]=this[_0x27ab("0x37")][_0x27ab("0x15d")][_0x27ab("0x15c")],this[_0x27ab("0x33")]=b,null==this[_0x27ab("0x33")].mergeModels&&(this[_0x27ab("0x33")][_0x27ab("0xbf2")]=!0),this.thicks={},this.animatingId_=[],this[_0x27ab("0x11c4")]=!1,this[_0x27ab("0x11c5")]={},this.toLoaded={},this[_0x27ab("0x98c")]=!1,this[_0x27ab("0x161")]=new(o[_0x27ab("0xb")])(this),this[_0x27ab("0x980")]=new(c[_0x27ab("0xb")])(this),this[_0x27ab("0xa65")]=!1,this[_0x27ab("0x11c6")]=0,em[_0x27ab("0x233")][_0x27ab("0x234")](this),this[_0x27ab("0x37")].mode==esmap[_0x27ab("0x39")].Building&&this[_0x27ab("0x37")].on(_0x27ab("0x957"),(function(x){x==esmap[_0x27ab("0xad5")][_0x27ab("0xd59")]&&e.visibleFloorNums[_0x27ab("0x0")]>1&&(e.visibleFloorNums=[e[_0x27ab("0x915")]])})),this.scaleLevels_=[]}return(0,n[_0x27ab("0xb")])(x,[{key:"convertBuildingToWorld",value:function(x){var a=this;return x[_0x27ab("0x37")]((function(x){return(0,t[_0x27ab("0xb")])({},x,{x:x.x+a[_0x27ab("0x143")].x,y:x.y+a[_0x27ab("0x143")].y})}))}},{key:_0x27ab("0x11c7"),value:function(x){for(var a=0;a<this.listFloors[_0x27ab("0x0")];a++){if(this.listFloors[a][_0x27ab("0x49a")][_0x27ab("0xb03")]()==x)return this[_0x27ab("0x11c8")][a][_0x27ab("0x4a1")]}return console[_0x27ab("0x257")]("未找到楼层: "+x),null}},{key:"getFloorBounds",value:function(x){try{var a=[];return this[_0x27ab("0x100d")][x].floorBaseDatas.forEach((function(x){var b={points:[],holes:[]};x[_0x27ab("0xec")][_0x27ab("0x1b")]((function(x){b[_0x27ab("0xec")][_0x27ab("0x1")]({x:-x.x,y:x.y})})),x.holes[_0x27ab("0x1b")]((function(x){var a=[];x[_0x27ab("0x1b")]((function(x){a.push({x:-x.x,y:x.y})})),b[_0x27ab("0x565")][_0x27ab("0x1")](a)})),a.push(b)})),a}catch(x){return console[_0x27ab("0x2bb")]("esmap.ESInfo.GETFLOORBOUNDS_ERR"),null}}},{key:_0x27ab("0xa08"),value:function(x,a){var b=this;if(1==b[_0x27ab("0x33")][_0x27ab("0x1007")])b[_0x27ab("0xf5")]=[x];else{var _=b[_0x27ab("0x62c")][_0x27ab("0x416")](),e=[];for(var t in _)_[t]<=x&&e[_0x27ab("0x1")](_[t]);b.visibleFloorNums=e}b[_0x27ab("0x915")]={fnum:x,callback:a}}},{key:"asyncLoadRoads",value:function(x,a,b){var _=this,e=new(THREE[_0x27ab("0x58a")]),t=x[_0x27ab("0x11c9")],i=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0x11ca")]);return a.add(i[_0x27ab("0xaf")]),setTimeout((function(){for(var x=0;x<t.length;x++){for(var a=t[x],i=0;i<a[_0x27ab("0xec")][_0x27ab("0x0")];i++)a.points[i].x=-a[_0x27ab("0xec")][i].x,a[_0x27ab("0xec")][i].fnum=b;var n=l[_0x27ab("0xb")][_0x27ab("0x5f")](_0x27ab("0x54"),{filename:a[_0x27ab("0xd4a")],type:"roomtexture",buildingId:_.id});a[_0x27ab("0xd4a")];var r={lineType:esmap[_0x27ab("0x5b1")][_0x27ab("0xe5")],lineWidth:5,noAnimate:!0,color:_0x27ab("0xe4"),smooth:!1,pickable:!0,offsetHeight:0,lineWidthMeter:!0};if(r[_0x27ab("0x1b9")]=n,a[_0x27ab("0xd49")]){var s=a[_0x27ab("0xd49")].split(",");1*s[1]?(r[_0x27ab("0x120")]=1*s[1],r.up=new(THREE[_0x27ab("0xe7")])(0,1,0)):(r[_0x27ab("0x120")]=1*s[0],r.up=new(THREE[_0x27ab("0xe7")])(1,0,0)),r[_0x27ab("0x25")]=a[_0x27ab("0x622")];var o=new(esmap[_0x27ab("0x5d7")])({id:a[_0x27ab("0x61e")],points:a[_0x27ab("0xec")],style:r});o[_0x27ab("0x18e")]=a,o[_0x27ab("0x251")]=b,_[_0x27ab("0x37")].drawLineMark(o)}}e[_0x27ab("0x58b")]()}),_[_0x27ab("0xe95")]),e}},{key:_0x27ab("0x11cb"),value:function(x){var a,b=this,_=b[_0x27ab("0x62c")],e=!1,t=!1;x instanceof Object?(e=x[_0x27ab("0xc")](_0x27ab("0x11cc"))?x[_0x27ab("0x11cc")]:e,t=!!x[_0x27ab("0xc")]("isHide")&&x[_0x27ab("0x11cd")],a=x.id,_=x.fnum?x.fnum:_):typeof x==_0x27ab("0x148")&&(a=x);var i=null;return esmap[_0x27ab("0x80")][_0x27ab("0x5f4")](this[_0x27ab("0x37")],{fnum:_,bid:this.id},{nodeType:5,ID:a},(function(x){if(0!=x[_0x27ab("0x0")]){if(e)b[_0x27ab("0x37")][_0x27ab("0x933")][0]&&b[_0x27ab("0x37")].lastSelectStore[0].ID==x[0].ID||(b[_0x27ab("0x37")][_0x27ab("0xa0d")](),b[_0x27ab("0x37")][_0x27ab("0xa10")](x[0]));var a=x[0];if(t){var _=a[_0x27ab("0xaf")][_0x27ab("0xb1")],n=_[_0x27ab("0x40d")];_[_0x27ab("0x127")][_0x27ab("0x40d")]=n,_[_0x27ab("0x140")](),b[_0x27ab("0x37")].hideGroup(a[_0x27ab("0x343")][0],a[_0x27ab("0x343")][1],n)[_0x27ab("0x1b")]((function(x){_[_0x27ab("0x141")](x.start,x.count,x[_0x27ab("0x40a")])})),a.hided=!0}else if(a[_0x27ab("0x11ce")]){var r=a[_0x27ab("0xaf")][_0x27ab("0xb1")];r[_0x27ab("0x140")](),r[_0x27ab("0x127")][_0x27ab("0x40d")][_0x27ab("0x1b")]((function(x){r[_0x27ab("0x141")](x[_0x27ab("0x1d5")],x[_0x27ab("0xc4")],x.materialIndex)})),a[_0x27ab("0x11ce")]=!1}i=x[0]}})),i}},{key:_0x27ab("0xfa1"),value:function(x){var a,b=this,_=1,e=null,t=x;t instanceof Object?(_=null==t.time?1:t[_0x27ab("0x1cb")],a=1*t[_0x27ab("0x1b7")],e=t[_0x27ab("0x1d6")]||null):a=1*t;for(var i=0;i<b.animatingId_[_0x27ab("0x0")];i++)b[_0x27ab("0x11cf")][i][_0x27ab("0x1c4")]();b[_0x27ab("0x11cf")]=[];var n=b[_0x27ab("0x915")],r=b[_0x27ab("0x11c5")][2]-b[_0x27ab("0x11c5")][1];if(this.floorSpanOffset!=t){this[_0x27ab("0x11c6")]=a;var s=b[_0x27ab("0x62c")];b[_0x27ab("0x11c4")]=!0;for(var o=b[_0x27ab("0x33")][_0x27ab("0x1007")],c=function(){if(1==o){if(s[l]===n)return _0x27ab("0x5e4")}else a;var x=s[l];f=b.getFloor(x)[_0x27ab("0xaf")];var t=void 0;t=2==o?(x-1)*(a+r):(x-n)*(a+r),u=new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(f[_0x27ab("0xc3")]).to({y:t},1e3*_)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x1d2")]((function(){b.animating_&&e&&e(),b[_0x27ab("0x11c4")]=!1}))[_0x27ab("0x137")]((function(a){b[_0x27ab("0x25e")](_0x27ab("0xf7"),{fnum:x,value:a.y})}))[_0x27ab("0x1d5")](),b[_0x27ab("0x11cf")][_0x27ab("0x1")](u)},l=0;l<s[_0x27ab("0x0")];l++){var f,u;c();_0x27ab("0x5e4")}}}},{key:_0x27ab("0x11d0"),value:function(x){return this[_0x27ab("0x626")][x]}},{key:"getFloor",value:function(x){var a=this[_0x27ab("0x626")][x];return null==a?null:a[_0x27ab("0xae")]}},{key:_0x27ab("0x30e"),value:function(x){return this[_0x27ab("0x11d0")](x).position.y}},{key:_0x27ab("0x9c0"),value:function(){var x=this,a=arguments[_0x27ab("0x0")]>0&&void 0!==arguments[0]&&arguments[0],b=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x9bf")],_=null,e={time:1,scaleZ:.25};if(b===esmap[_0x27ab("0x5a0")][_0x27ab("0x11d1")])_=esmap[_0x27ab("0x5a0")].SINGLE;else if(b===esmap[_0x27ab("0x5a0")][_0x27ab("0x11d2")])_=esmap[_0x27ab("0x5a0")][_0x27ab("0x11d2")];else{if(b===esmap.ShowBuildingMode[_0x27ab("0xa96")])return;_=b[_0x27ab("0x34")],(0,t[_0x27ab("0xb")])(e,b)}var i={mode:_};(0,t[_0x27ab("0xb")])(i,e),this[_0x27ab("0x11d3")]=i,a?this.entered=!0:_===esmap[_0x27ab("0x5a0")].PLANISH?this[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0xcfc")]({coord:this[_0x27ab("0xed")],time:e[_0x27ab("0x1cb")],scaleZ:e.scaleZ,onComplete:function(){x.entered=!0,x[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0xcf4")]=!0,x.emit(_0x27ab("0x9c0"))}}):_===esmap.ShowBuildingMode[_0x27ab("0x11d1")]?(this[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0xcff")](!1),this[_0x27ab("0x33")].focusAnimateMode=!0,this[_0x27ab("0xa65")]=!0,this[_0x27ab("0x37")].tileService[_0x27ab("0xcf4")]=!0,this.emit(_0x27ab("0x9c0"))):console[_0x27ab("0x257")](_0x27ab("0x11d4"))}},{key:_0x27ab("0xa66"),value:function(){var x=this;return new(e[_0x27ab("0xb")])((function(a){x[_0x27ab("0x11d3")]?x[_0x27ab("0x11d3")][_0x27ab("0x34")]===esmap[_0x27ab("0x5a0")][_0x27ab("0x11d2")]?(x.map[_0x27ab("0x169")].planishTilesAround({scaleZ:!1,onComplete:function(){x.entered=!1,x.emit(_0x27ab("0xa66")),a()}}),x[_0x27ab("0x37")].tileService.buildingHighLighted=!1):x[_0x27ab("0x11d3")][_0x27ab("0x34")]===esmap[_0x27ab("0x5a0")][_0x27ab("0x11d1")]&&(x[_0x27ab("0x37")][_0x27ab("0x169")].toggleTilesLayer(!0),x[_0x27ab("0x33")][_0x27ab("0x11d5")]=!1,x.entered=!1,x[_0x27ab("0x37")][_0x27ab("0x169")][_0x27ab("0xcf4")]=!1,x[_0x27ab("0x25e")]("exit"),a()):a()}))}},{key:"putFloor",value:function(x,a){var b=this[_0x27ab("0x100d")][x];b[_0x27ab("0x11d6")]=a;var _=new(esmap[_0x27ab("0x3d6")])(this,b).o3d_;_.visible=!0,_[_0x27ab("0xe9b")]=b,_[_0x27ab("0xc3")][_0x27ab("0x123")](0,b.Elevation,0),this[_0x27ab("0x626")][x]=_,this[_0x27ab("0xaf")][_0x27ab("0x163")](_),this[_0x27ab("0x11c5")][x]=_.position[_0x27ab("0xe2")]().y}},{key:_0x27ab("0x11d7"),value:function(x,a){var b=this;b[_0x27ab("0xc58")]=x,a=a||{};var _=this[_0x27ab("0x17a")].floors,e=b[_0x27ab("0x37")][_0x27ab("0x296")];if(this.map){var t=-this.o3dFloors_[x][_0x27ab("0xc3")].y,i=a.isInit||!1;for(var n in _){var r=_[n],s=r.floornum,o=this[_0x27ab("0x626")][s];if(s==x){var c=new(THREE[_0x27ab("0xe7")]);c.y=r[_0x27ab("0x4a3")],esmap[_0x27ab("0x80")][_0x27ab("0x5ef")]({fnum:x,bid:b.id,time:0});var l=this[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0x613")][_0x27ab("0xc3")][_0x27ab("0xe2")](),f=this.map[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0xe2")](),u=l.y-f.y;c.x=f.x,c.z=f.z;var d=c.clone()[_0x27ab("0x2f3")](f),h=c.y+u-l.y,g=null==a[_0x27ab("0x1cb")]?this[_0x27ab("0x33")][_0x27ab("0x11d5")]?this[_0x27ab("0x33")][_0x27ab("0x11d8")]:0:a[_0x27ab("0x1cb")];if(b[_0x27ab("0x37")][_0x27ab("0x33")].focusAlphaMode&&b[_0x27ab("0x37")]._alwaysShowLabelAndPOI(s,!0),b[_0x27ab("0x37")].__moveToId&&b.map[_0x27ab("0x934")][_0x27ab("0x1c4")](),2==b[_0x27ab("0x33")][_0x27ab("0x1007")])a[_0x27ab("0x11d9")]?(b[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0x613")].position.y=l.y+h,e[_0x27ab("0x295")].y=c.y,e[_0x27ab("0x12b")]()):b[_0x27ab("0x33")][_0x27ab("0x11d5")]&&(this.__moveToId&&this[_0x27ab("0x934")][_0x27ab("0x1c4")](),this[_0x27ab("0x934")]=new(esmap.TWEEN[_0x27ab("0x1cd")])({value:0}).to({value:1},1e3*g)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x27f")].Out)[_0x27ab("0x137")]((function(x,a){b[_0x27ab("0x37")]&&(b[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0x613")][_0x27ab("0xc3")].y=l.y+h*a,e[_0x27ab("0x295")].y=f.y+d.y*a,e[_0x27ab("0x12b")]())}))[_0x27ab("0x1d2")]((function(b){a.callback&&a[_0x27ab("0x1d6")](x)}))[_0x27ab("0x1d5")]());else{o[_0x27ab("0xc3")][_0x27ab("0xee")]=s;var v=o[_0x27ab("0xc3")][_0x27ab("0xe2")]();o.userData[_0x27ab("0xc")](_0x27ab("0x9cc"))||(o[_0x27ab("0x127")].originHeight=v.y),v[_0x27ab("0xee")]=s,v.y=v.y+t,i&&(b[_0x27ab("0x11c5")][s]=v.y),new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(o[_0x27ab("0xc3")]).to(v,800)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x27f")][_0x27ab("0x1d4")])[_0x27ab("0x137")]((function(x){b.emit(_0x27ab("0xf7"),{value:x.y,fnum:x.fnum})})).onComplete((function(){}))[_0x27ab("0x1d5")]()}}else if(o&&o[_0x27ab("0xf6")]&&this[_0x27ab("0x33")][_0x27ab("0xc06")]&&esmap[_0x27ab("0x80")][_0x27ab("0xc08")]({bid:this.id,fnum:s,alpha:this.options[_0x27ab("0xc07")]}),b[_0x27ab("0x37")][_0x27ab("0x11da")](s,!1),1==b.options[_0x27ab("0x1007")]){var p=o[_0x27ab("0xc3")][_0x27ab("0xe2")]();o[_0x27ab("0xc3")][_0x27ab("0xee")]=s,o[_0x27ab("0x127")][_0x27ab("0xc")](_0x27ab("0x9cc"))||(o[_0x27ab("0x127")][_0x27ab("0x9cc")]=p.y);o[_0x27ab("0x127")][_0x27ab("0x9cc")];p.y=p.y+t,p[_0x27ab("0xee")]=s,i&&(b[_0x27ab("0x11c5")][s]=p.y),new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])(o[_0x27ab("0xc3")]).to(p,800)[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x27f")][_0x27ab("0x1d4")])[_0x27ab("0x1d2")]((function(){})).onUpdate((function(x){b[_0x27ab("0x25e")](_0x27ab("0xf7"),{value:x.y,fnum:x.fnum})}))[_0x27ab("0x1d5")]()}}}}},{key:_0x27ab("0x11db"),value:function(x,a){var b=this.getO3dFloor(x);if(b){var _=this[_0x27ab("0x100d")][x][_0x27ab("0x11d6")];this[_0x27ab("0x11dc")](_,b,x,!0)}}},{key:_0x27ab("0xc5a"),value:function(x,a,b){var _=this;x==a.length?(x=0,b&&b()):_.loadedFloorNums[_0x27ab("0xd1")](a[x])>-1?(x++,_[_0x27ab("0xc5a")](x,a,b)):setTimeout((function(){_[_0x27ab("0x11dd")](a[x],(function(){x++,_.asyncLoadFloors(x,a,b)}),x==a[_0x27ab("0x0")]-1)}),0)}},{key:"loadFloor",value:function(x,a,b){var _=this;x>_.sourceData[_0x27ab("0x43c")].length||(_[_0x27ab("0x100d")][x]=_[_0x27ab("0x17a")].floors[x-1],_[_0x27ab("0x37")][_0x27ab("0x994")].queryFloor(_,x,(function(e){_[_0x27ab("0xc09")][x][_0x27ab("0x249")]=e.modelsCount,_[_0x27ab("0x11de")][_0x27ab("0x1")](x),_[_0x27ab("0x11df")](x,e),"top"==_[_0x27ab("0x33")].focusFloor?b&&(_[_0x27ab("0x33")][_0x27ab("0xc59")]=x,_[_0x27ab("0x915")]=x):x==_[_0x27ab("0x33")].focusFloor&&(_.focusFloorNum={notMove:!0,init:!0,floornum:_[_0x27ab("0x33")][_0x27ab("0xc59")],time:.3}),_[_0x27ab("0x11e0")](x,(function(a){a[_0x27ab("0xae")][_0x27ab("0xe1")]==esmap[_0x27ab("0xf1")].MODEL&&(a[_0x27ab("0xb3")]=_.createMaterial_(a[_0x27ab("0xe9b")].theme_),a[_0x27ab("0x127")]={sid:_.sceneId_,fnum:x},!_.map.options[_0x27ab("0xc04")]&&_[_0x27ab("0x37")][_0x27ab("0x155")].addModel(_.id,a))}),function(){a&&a(x)}[_0x27ab("0xe")](_),(function(){}),b)})))}},{key:_0x27ab("0x1bc"),value:function(x,a,b){if(!(x[_0x27ab("0x1bd")]<15)){x.direction;var _=x.bstair[_0x27ab("0x1a8")](2,x[_0x27ab("0x4fc")].length-2)[_0x27ab("0x28")](/,/),e=this,t={x:0,y:0},i=[],n=e[_0x27ab("0x37")].__ro.split(","),r=1*n[0],o=1*n[1],c=1*n[2];if(0!=_[_0x27ab("0x0")]){for(var l=0;l<_[_0x27ab("0x0")];l++){var f=_[l].split(" "),u=new THREE.Vector3(-(1*f[0]+t.x+r),c-.3,1*f[1]+t.y+o);u[_0x27ab("0xee")]=1,u[_0x27ab("0xeb")]=0,u[_0x27ab("0x143")]=0,i[_0x27ab("0x1")](u),0==l&&(t.x=1*f[0],t.y=1*f[1])}var d=e[_0x27ab("0x37")][_0x27ab("0x33")].roadStyle[_0x27ab("0x120")],h=new(s[_0x27ab("0xb")])(i,{color:e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1b8")][_0x27ab("0x107")],isMapRoad:!0,roadType:x[_0x27ab("0x1bd")],lineWidthMeter:!0,lineWidth:d,lineType:e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1b8")].lineType,offsetHeight:Math[_0x27ab("0x2b")]()+2,url:e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1b8")].url},!1);h[_0x27ab("0x11e1")]=2e-5*e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1b8")][_0x27ab("0x30f")],h.name=b,e[_0x27ab("0xaf")][_0x27ab("0x163")](h)}}}},{key:_0x27ab("0x11e2"),value:function(){var x=this,a=x.map[_0x27ab("0x175")][_0x27ab("0x1a0")][x.id];if(a){var b=a[_0x27ab("0x44b")][0][_0x27ab("0x4e9")],_=0;for(var e in b)_++,x[_0x27ab("0x1bc")](b[e],_,x.id)}}},{key:"forEachFloor",value:function(x,a,b,_,e){var t=this[_0x27ab("0x11d0")](x);if(t){this.visibleFloorNums.indexOf(x)<0&&(t.visible=!1);var i=this.floors_[x].floorTempData,n=this;n[_0x27ab("0x11dc")](i,t,x,!1).then((function(){b(),_&&_(),n[_0x27ab("0x15c")].handleModels(i,x,n),n.meshHandler.handlePolygons(i,x,n)}))[_0x27ab("0x312")](n[_0x27ab("0x11e3")][_0x27ab("0xe")](n,i,t,x))[_0x27ab("0x312")](n[_0x27ab("0x11e4")].bind(n,i,t,x)).then(n.asyncLoadRoads[_0x27ab("0xe")](n,i,t,x))}}},{key:_0x27ab("0x11dc"),value:function(x,a,b,_){var e=this,t=new THREE.Promise,i=x[_0x27ab("0xea8")],n=e[_0x27ab("0x100d")][b],r=(n[_0x27ab("0xd5e")],e[_0x27ab("0x37")][_0x27ab("0xfc")].themeList[e[_0x27ab("0x6a")]]),s=r[_0x27ab("0xdfe")][b]?r[_0x27ab("0xdfe")][b][_0x27ab("0x1b7")]:r.floorStyleBase[0]?r.floorStyleBase[0][_0x27ab("0x1b7")]:1;return e[_0x27ab("0x11e5")][b]=s,n.floorBaseDatas=i[0][_0x27ab("0x11e6")],setTimeout((function(){e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xea3")]&&e[_0x27ab("0x160")]==esmap[_0x27ab("0x5bb")].TILE&&!_?e.toLoaded[b].floorBase--:e[_0x27ab("0x15c")][_0x27ab("0xea7")](x,b,s,e),t.resolve(),e[_0x27ab("0x37")][_0x27ab("0xacf")]()}),e[_0x27ab("0xe95")]),t}},{key:_0x27ab("0x11e3"),value:function(x,a,b){var _=this,e=this[_0x27ab("0x37")].mapScene,t=new(THREE[_0x27ab("0x58a")]),i=_[_0x27ab("0x33")][_0x27ab("0x18f")];if(_.options[_0x27ab("0x21f")])return e[_0x27ab("0x11e7")]=null,setTimeout((function(){for(var n in x[_0x27ab("0x11e8")]){var r=x[_0x27ab("0x11e8")][n],s=new esmap.ESLayer(esmap[_0x27ab("0x17d")][_0x27ab("0x181")]);a[_0x27ab("0x163")](s[_0x27ab("0xaf")]),s[_0x27ab("0xaf")][_0x27ab("0x17f")]=new(esmap[_0x27ab("0x180")]);var o=r[_0x27ab("0x11e9")];for(var c in o){var l=o[c],f=new(esmap[_0x27ab("0x5c0")])(b,l,e[_0x27ab("0x198")],_.themeID,_.id,2);new(esmap[_0x27ab("0x5c9")])(l,f,e,_.id),s.o3d_[_0x27ab("0x163")](f),f[_0x27ab("0xae")][_0x27ab("0x18e")][_0x27ab("0x18f")]=i;var u=l[_0x27ab("0x49b")]||3,d=_[_0x27ab("0x37")][_0x27ab("0x199")]({from:_[_0x27ab("0x37")].DEFAULT_COORDSYSTEM,to:_[_0x27ab("0x37")][_0x27ab("0x192")],coord:{x:l.X,y:l.Y}}),h=_[_0x27ab("0x37")][_0x27ab("0x193")](d);f[_0x27ab("0xc3")][_0x27ab("0x123")](h.x,u,h.z),f.initY_=u,f[_0x27ab("0xef")]="POI",f.center[_0x27ab("0x123")](l[_0x27ab("0xed")].x,l[_0x27ab("0xed")].y),f[_0x27ab("0x127")].computePosition=f[_0x27ab("0xc3")],f[_0x27ab("0x194")][_0x27ab("0x195")](e[_0x27ab("0x37")].currentCamera.matrixWorldInverse,f[_0x27ab("0x19d")]),!e.map[_0x27ab("0x33")][_0x27ab("0xc04")]&&e[_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x1bb")](f,_.id)}}e[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0x11ea"),{bid:_.id,fnum:b,type:_0x27ab("0x593")}),_[_0x27ab("0xc09")][b][_0x27ab("0x5a3")]--,_[_0x27ab("0x171")](b),t[_0x27ab("0x58b")]()}),e[_0x27ab("0xe95")]),t;_.toLoaded[b][_0x27ab("0x5a3")]=0}},{key:_0x27ab("0x11e4"),value:function(x,a,b){var _=this,e=new(THREE[_0x27ab("0x58a")]),i=(_[_0x27ab("0x37")][_0x27ab("0x15d")],_[_0x27ab("0x33")][_0x27ab("0x18f")]);if(_[_0x27ab("0x33")].loadLabel)return setTimeout((function(){for(var n in x[_0x27ab("0x11eb")]){var r=x.labellayers[n],s=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")].MODEL_LABEL);a[_0x27ab("0x163")](s[_0x27ab("0xaf")]),s[_0x27ab("0xaf")][_0x27ab("0x17f")]=new esmap.ESMapBoxCollision;var o=r[_0x27ab("0x11ec")];for(var c in o){var l=o[c];if(""!=l[_0x27ab("0xc5")]){var f=_[_0x27ab("0x37")][_0x27ab("0x199")]({from:_.map.DEFAULT_COORDSYSTEM,to:_.map[_0x27ab("0x192")],coord:{x:l.X,y:l.Y}}),u=_[_0x27ab("0x37")][_0x27ab("0x193")](f),d=l[_0x27ab("0x49b")]||2.5,h=(0,t[_0x27ab("0xb")])({},_[_0x27ab("0x37")].mapTheme[_0x27ab("0x18a")],l),g=new(esmap[_0x27ab("0x18b")])(b,l,h);new(esmap[_0x27ab("0x18c")])(l,g,_),g[_0x27ab("0xf6")]=!1,s[_0x27ab("0xaf")][_0x27ab("0x163")](g),g[_0x27ab("0xae")].data_[_0x27ab("0x18f")]=i,g.center[_0x27ab("0x123")](l.center.x,l[_0x27ab("0xed")].y),g[_0x27ab("0xc3")][_0x27ab("0x123")](u.x,d,u.z),g[_0x27ab("0x194")][_0x27ab("0x195")](_[_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x197")],g[_0x27ab("0x19d")]),!_.map[_0x27ab("0x33")][_0x27ab("0xc04")]&&_[_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x1bb")](g,_.id)}}}_[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0x11ea"),{bid:_.id,fnum:b,type:_0x27ab("0x594")}),_[_0x27ab("0xc09")][b][_0x27ab("0x594")]--,_[_0x27ab("0x171")](b),e.resolve()}),_.asyncWaitTime),e;_[_0x27ab("0xc09")][b][_0x27ab("0x594")]=0}},{key:_0x27ab("0x171"),value:function(x){if(0==this.id)return!0;var a=this[_0x27ab("0xc09")];for(var b in a[x])if(b!=_0x27ab("0x249")&&a[x][b])return!1;for(var _ in this[_0x27ab("0x33")][_0x27ab("0x11ed")]&&this[_0x27ab("0x33")][_0x27ab("0x11ed")](x),this[_0x27ab("0x37")].fire(_0x27ab("0x11ee"),{fnum:x,bid:this.id}),this.options.focusAlphaMode&&this[_0x27ab("0x33")][_0x27ab("0xc59")]!=x&&esmap[_0x27ab("0x80")][_0x27ab("0xc08")]({bid:this.id,fnum:x,alpha:this[_0x27ab("0x33")].focusAlpha,time:0}),a)if(_!=x)for(var e in a[_])if(e!=_0x27ab("0x249")&&a[_][e])return!1;var t=!0;for(var _ in a){if(!t)break;for(var e in a[_])if(a[_][e]){t=!1;break}}return t&&!this[_0x27ab("0x11ef")]&&(this[_0x27ab("0x11ef")]=!0,this.emit(_0x27ab("0x9a7")),this[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0x9a7"),{bid:this.id})),this[_0x27ab("0x37")][_0x27ab("0x634")][_0x27ab("0xd1")](this)<0&&(this.map[_0x27ab("0x634")][_0x27ab("0x1")](this),this.meshHandler.modelWorker[_0x27ab("0x69b")](),this[_0x27ab("0x15c")][_0x27ab("0xc9a")][_0x27ab("0xebb")](),this.meshLoader.loadModelandImage(),0!=this.id&&this.map[_0x27ab("0x1e7")](_0x27ab("0xa07"),this),this[_0x27ab("0x37")].tileService[_0x27ab("0x5db")][this.id]&&(this.map.tileService.bidList[this.id][_0x27ab("0xa68")]=!0),this[_0x27ab("0x37")].mode!=esmap[_0x27ab("0x39")][_0x27ab("0x1f1")]&&this.id!=this[_0x27ab("0x37")].tileService[_0x27ab("0x97e")]||(this[_0x27ab("0x37")][_0x27ab("0x1e7")]("preLoadComplete",{}),esmap[_0x27ab("0x32")][_0x27ab("0x990")]=!1,this.map.fire("loadComplete",{bid:this.id}),this.map[_0x27ab("0x614")][_0x27ab("0x11f0")]=this[_0x27ab("0x37")][_0x27ab("0xa04")]()),this.map.mode==esmap[_0x27ab("0x39")].City&&this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x9bf")]&&(this[_0x27ab("0x37")].tileService[_0x27ab("0xcf4")]?this.enter(!0):this.enter())),!0}},{key:_0x27ab("0x143"),get:function(){return d},set:function(x){d=x}},{key:_0x27ab("0x6a"),get:function(){return u[_0x27ab("0x35e")]("theme")},set:function(x){u[_0x27ab("0x123")](_0x27ab("0xd5f"),x)}},{key:"scaleLevel",get:function(){for(var x=this[_0x27ab("0x37")].controls.object[_0x27ab("0xc3")],a=this[_0x27ab("0x37")][_0x27ab("0x26f")](this.center),b=x[_0x27ab("0x301")](a)/this[_0x27ab("0xd53")],_=0;_<this[_0x27ab("0xd3d")][_0x27ab("0x0")];_++)if(Math[_0x27ab("0x274")](this[_0x27ab("0xd3d")][_]-b)>.001&&b<this[_0x27ab("0xd3d")][_])return _-1<0?0:_-1;return _-1<0?0:_-1}},{key:_0x27ab("0x11f1"),get:function(){return this[_0x27ab("0x17a")].FloorBarName[_0x27ab("0x28")](",")||null}},{key:"listFloors",get:function(){return this[_0x27ab("0x17a")].floors}},{key:_0x27ab("0x915"),set:function(x){if(!this[_0x27ab("0x37")][_0x27ab("0x1105")]){var a=!1,b=null,e=null,t=this;if(_0x27ab("0x1c")==(typeof x===_0x27ab("0x8")?"undefined":(0,_[_0x27ab("0xb")])(x))&&(e=x,a=x[_0x27ab("0x31")],b=x[_0x27ab("0x1d6")],x=null==x[_0x27ab("0x4a1")]?x[_0x27ab("0xee")]:x[_0x27ab("0x4a1")]),this[_0x27ab("0xc58")]!=x){if(t.map[_0x27ab("0x94e")]!=this&&(t[_0x27ab("0x37")][_0x27ab("0x94e")]=this,1!=t[_0x27ab("0x160")]&&t[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0x11f2"),this)),t.options.undergroundOffset&&2==t.options[_0x27ab("0x1007")]){var i=t.originHeight_;if(x<=t[_0x27ab("0x33")].undergroundOffset){for(var n=t.map[_0x27ab("0x15d")][_0x27ab("0x9be")],r=0;r<n[_0x27ab("0xb0")][_0x27ab("0x0")];r++){var s=n[_0x27ab("0xb0")][r];s.datas_.id!=this.id&&s[_0x27ab("0xf6")]&&(s[_0x27ab("0xf6")]=!1,t[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0x11f3"),t[_0x27ab("0x37")].visibleBuildings))}t[_0x27ab("0x37")][_0x27ab("0x15d")].buildingScene_[_0x27ab("0x127")][_0x27ab("0x11f4")]=!0}else{if(t[_0x27ab("0x37")][_0x27ab("0x15d")].buildingScene_[_0x27ab("0x127")][_0x27ab("0x11f4")])for(var o=t[_0x27ab("0x37")][_0x27ab("0x15d")].buildingScene_,c=0;c<o[_0x27ab("0xb0")].length;c++){var l=o.children[c];l[_0x27ab("0xf6")]||(l[_0x27ab("0xf6")]=!0,t[_0x27ab("0x37")].fire("visibleBuildingsChanged",t[_0x27ab("0x37")][_0x27ab("0x11f5")]))}THREE[_0x27ab("0x1cd")].action(t.o3d_[_0x27ab("0xc3")],.5,{y:i},THREE[_0x27ab("0x1cd")][_0x27ab("0x11f6")],(function(){}),(function(x){}))}}(-1!=this[_0x27ab("0xc58")]||(this[_0x27ab("0xc58")]=x,this[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0x956"),{floornum:x,bid:this.id}),this[_0x27ab("0x33")][_0x27ab("0x11f7")]))&&(esmap.ESMap[_0x27ab("0x990")]&&!e||(this[_0x27ab("0x626")][x]?(this[_0x27ab("0x11d7")](x,e),a||(this[_0x27ab("0x25e")](_0x27ab("0x956"),x),this[_0x27ab("0x37")].fire(_0x27ab("0x956"),{floornum:x,bid:this.id}))):this.on(_0x27ab("0x11ee"),(function b(_){_==x&&(t[_0x27ab("0x61")](_0x27ab("0x11ee"),b),t[_0x27ab("0x11d7")](x,e),a&&(t.emit(_0x27ab("0x956"),x),t.map.fire(_0x27ab("0x956"),{floornum:x,bid:t.id})))}))))}else b&&b()}},get:function(){return this.focusFnum_}},{key:_0x27ab("0x11f8"),get:function(){return this.sourceData[_0x27ab("0x44b")]}},{key:_0x27ab("0xf5"),get:function(){return this[_0x27ab("0xd5c")]},set:function(x){if(x[_0x27ab("0x0")]>0){for(var a in this.visibleFloorNums_=x,this[_0x27ab("0x37")][_0x27ab("0x614")].scene[_0x27ab("0xb0")][_0x27ab("0x1b")]((function(a){a[_0x27ab("0xae")]instanceof esmap[_0x27ab("0x5ca")]&&x.indexOf(a.datas_[_0x27ab("0x4a1")])>-1&&(a[_0x27ab("0xae")][_0x27ab("0xf6")]=!0)})),this[_0x27ab("0x626")]){var b=this[_0x27ab("0x626")][a];b[_0x27ab("0xf6")]=x[_0x27ab("0xd1")](b[_0x27ab("0xe9b")][_0x27ab("0x4a1")])>=0}this[_0x27ab("0x25e")](_0x27ab("0x13b"),x),this[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0x13b"),{bid:this.id,fnums:x})}}}]),x}();a[_0x27ab("0xb")]=h},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=c(b(8)),e=c(b(12)),t=c(b(13)),i=c(b(0)),n=c(b(1)),r=c(b(97)),s=c(b(134)),o=c(b(356));function c(x){return x&&x.__esModule?x:{default:x}}var l=0;function f(x){if(x){if(x.datas_&&x[_0x27ab("0xae")][_0x27ab("0xaf")]&&(x[_0x27ab("0xae")][_0x27ab("0xaf")]=void 0,x[_0x27ab("0xae")]=void 0),x[_0x27ab("0xb0")])for(var a=0;a<x[_0x27ab("0xb0")].length;a++)f(x[_0x27ab("0xb0")][a]);x.geometry&&(x[_0x27ab("0xb1")][_0x27ab("0xb2")](),x[_0x27ab("0xb1")]=void 0),x[_0x27ab("0xb3")]&&(x[_0x27ab("0xb3")]instanceof Array?x[_0x27ab("0xb3")][_0x27ab("0x1b")]((function(x){x&&(x[_0x27ab("0x37")]&&(x[_0x27ab("0x37")][_0x27ab("0xb2")](),x[_0x27ab("0x37")]=void 0),x.dispose(),x=void 0)})):(x.material[_0x27ab("0xb2")](),x.material=void 0))}x=void 0}var u=function(){function x(a){(0,i.default)(this,x),this[_0x27ab("0xc1")]=a[_0x27ab("0x37")].mapScene,this.loader=this.scene.modelLoader,this[_0x27ab("0x320")]={},this[_0x27ab("0xbea")]=0,this.autoLoad=1,this.concurrencyLimit=20,this[_0x27ab("0xbec")]=0,this[_0x27ab("0x9a6")]={},this[_0x27ab("0x989")]=[],this[_0x27ab("0xaa9")]=[],this[_0x27ab("0x98a")]=[],this[_0x27ab("0x308")]=!1,this[_0x27ab("0x29f")]=!1,this.mapModelLoadStatus={},this.userModelLoadStatus={},this[_0x27ab("0xbef")]={},this[_0x27ab("0xbf0")]=null,this[_0x27ab("0xbf1")]=50,this[_0x27ab("0x11f9")]=1e4,this[_0x27ab("0x62f")]=new(s[_0x27ab("0xb")]),this.mergeModels=!a[_0x27ab("0x37")].options.editMode&&(null==a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x11fa")]?a[_0x27ab("0x37")][_0x27ab("0x33")].mergeModels:a[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x11fa")]),this[_0x27ab("0x173")]={modelTypesCount:0,roomModelsCount:0,bimModelsCount:0},this[_0x27ab("0xa72")]=new THREE.Frustum;var b=this;a[_0x27ab("0x37")].on("mapDispose",(function(){l=0,b[_0x27ab("0xbec")]=0,b[_0x27ab("0x173")].modelTypesCount=0,b[_0x27ab("0x173")][_0x27ab("0x174")]=0})),this[_0x27ab("0xeb")]=a.id,this[_0x27ab("0x4b")]=a,this[_0x27ab("0xa7f")]=new o.default(a),this[_0x27ab("0xc7f")]={}}var a,b,c,u;return(0,n[_0x27ab("0xb")])(x,[{key:_0x27ab("0xbf6"),value:function(){this[_0x27ab("0xa72")][_0x27ab("0xbf7")]||(this.frustum[_0x27ab("0xbf8")]((new(THREE[_0x27ab("0x277")])).multiplyMatrices(this.scene.map.currentCamera[_0x27ab("0x6e8")],this.scene[_0x27ab("0x37")].currentCamera[_0x27ab("0x197")])),this[_0x27ab("0xa72")][_0x27ab("0xbf7")]=!0)}},{key:_0x27ab("0x8d4"),value:function(){this[_0x27ab("0xa72")].setFromMatrix((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x195")](this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")].projectionMatrix,this[_0x27ab("0xc1")].map[_0x27ab("0x196")].matrixWorldInverse))}},{key:_0x27ab("0x11fb"),value:function(){this[_0x27ab("0xa7f")][_0x27ab("0x1d5")]()}},{key:_0x27ab("0x11fc"),value:function(x){this[_0x27ab("0x173")][_0x27ab("0x11fd")]++,this[_0x27ab("0xa7f")][_0x27ab("0x11fe")](x)}},{key:_0x27ab("0xbf9"),value:function(x,a){var b=x[_0x27ab("0x235")],_=x[_0x27ab("0x1b9")],e=x.fnum;this.failed[b]?e&&this.building.toLoaded[e][_0x27ab("0x249")]--:(a=a||!1,b[_0x27ab("0xd1")](_0x27ab("0xbfa"))>-1&&this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x228")]==_0x27ab("0x542")||(this[_0x27ab("0xbea")]++,b[_0x27ab("0xd1")](_0x27ab("0xbfb"))>-1&&(a=!0),this.mergeModels&&!a?(this.modelStore[b]||this[_0x27ab("0x320")][b]||(this[_0x27ab("0x320")][b]=!0,this[_0x27ab("0x321")](b,_)),this[_0x27ab("0x9a6")][e]||(this[_0x27ab("0x9a6")][e]={}),this[_0x27ab("0x9a6")][e][b]||(this[_0x27ab("0x9a6")][e][b]=[]),this[_0x27ab("0x9a6")][e][b][_0x27ab("0x1")](x)):x[_0x27ab("0x1bd")]>=24?(this[_0x27ab("0x2ba")][b]||this.loadingList[b]||(this[_0x27ab("0x320")][b]=!0,this[_0x27ab("0x321")](b,_)),this[_0x27ab("0xaa9")].push(x),this[_0x27ab("0xbfc")]()):(this[_0x27ab("0xa72")].containsPoint(x[_0x27ab("0xc3")])&&(this[_0x27ab("0x2ba")][b]||this.loadingList[b]||(this[_0x27ab("0x320")][b]=!0,this.preFetchModel3D(b,_))),this[_0x27ab("0xc00")](x))))}},{key:"rankRequisites",value:function(){this[_0x27ab("0xaa9")][_0x27ab("0x416")]((function(x,a){return a[_0x27ab("0x1bd")]-x[_0x27ab("0x1bd")]}))}},{key:_0x27ab("0xc11"),value:function(x){var a=x[_0x27ab("0x235")],b=x[_0x27ab("0x1b9")];this[_0x27ab("0xc7f")][a]||(this[_0x27ab("0xbea")]++,this.modelStore[a]||this[_0x27ab("0x320")][a]||(this[_0x27ab("0x320")][a]=!0,this.preFetchModel3D(a,b)),x[_0x27ab("0xda")]?(this.userMergeQueue[x[_0x27ab("0xbff")]]||(this[_0x27ab("0xbef")][x[_0x27ab("0xbff")]]={}),this[_0x27ab("0xbef")][x[_0x27ab("0xbff")]][a]||(this[_0x27ab("0xbef")][x[_0x27ab("0xbff")]][a]=[]),this[_0x27ab("0xbef")][x[_0x27ab("0xbff")]][a][_0x27ab("0x1")](x)):this[_0x27ab("0xc00")](x))}},{key:"start",value:(u=(0,t.default)(e[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a){return e[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:return x[_0x27ab("0x2b8")]=2,this.applyToMap(a);case 2:if(!(this[_0x27ab("0xaa9")][_0x27ab("0x0")]>0)){x.next=5;break}return x[_0x27ab("0x2b8")]=5,this[_0x27ab("0xc01")]();case 5:case"end":return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x){return u.apply(this,arguments)})},{key:"startLoadModelsByFLoor",value:function(x,a){var b=this,_=b[_0x27ab("0x9a6")][a];for(var e in _){var t=_[e],i=!1;if(b[_0x27ab("0x2ba")][e]&&t[_0x27ab("0x0")]>0){t[0][_0x27ab("0xc03")]&&(i=!0),!i&&e[_0x27ab("0xd1")]("__singlemesh")<0&&(b[_0x27ab("0xbec")]+=t[_0x27ab("0x0")]);for(var n=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](b.modelStore[e][_0x27ab("0x31d")].scene),r=t[0].parent,s=t[0][_0x27ab("0x1b9")],o=n[_0x27ab("0x33f")].y-n[_0x27ab("0x340")].y,c=0;c<t[_0x27ab("0x0")];c++){var f=t[c],u=o*f.scale.y,d=u+f[_0x27ab("0xc3")].y-u/2;f[_0x27ab("0x49b")]=1*d[_0x27ab("0x60b")](2),f.nodeType=esmap[_0x27ab("0xf1")][_0x27ab("0x232")],f.ID=f.id;var h=b[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x24f")](f[_0x27ab("0xc3")]);f[_0x27ab("0x3d5")]=h}if(0!=b[_0x27ab("0x2ba")][e][_0x27ab("0x31d")][_0x27ab("0x2d5")][_0x27ab("0x0")]){for(var g=0;g<t[_0x27ab("0x0")];g++)b[_0x27ab("0xbf9")](t[g],!0);b[_0x27ab("0x9a6")][a][e]=[];continue}var v=b[_0x27ab("0x62f")][_0x27ab("0xda")](b[_0x27ab("0x2ba")][e][_0x27ab("0x31d")],t);if(!v){for(var p=0;p<t[_0x27ab("0x0")];p++)t[p][_0x27ab("0xda")]=!1,l-=1,b[_0x27ab("0xbf9")](t[p]);return void(b[_0x27ab("0x9a6")][a][e]=[])}v[_0x27ab("0xc5")]=_0x27ab("0xc6"),v.userData[_0x27ab("0x9eb")]=!0,v[_0x27ab("0xae")]={isWall:i,model:e,bid:b.building.id,bType:2,FloorNum:a,nodeType:esmap[_0x27ab("0xf1")].MODEL3D,brothers:t,animations:[],o3d_:v,url:s},v.renderOrder=esmap.ESRenderOrder.model3D,t[0][_0x27ab("0xa84")]&&(2==x[_0x27ab("0x160")]?!b[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xc04")]&&b.scene[_0x27ab("0x37")].mapPicker[_0x27ab("0x1bb")](v,x.id):b[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x1bb")](v,x.id)),r[_0x27ab("0x163")](v);for(var A=0;A<t[_0x27ab("0x0")];A++)t[A][_0x27ab("0xaf")]=v;var m=(new(THREE[_0x27ab("0x3e2")])).setFromObject(v),C={};[m[_0x27ab("0x33f")].x-m.min.x,m[_0x27ab("0x33f")].z-m[_0x27ab("0x340")].z,m[_0x27ab("0x33f")].y-m[_0x27ab("0x340")].y][_0x27ab("0x416")](),C.box3=m,v.userData[_0x27ab("0xc05")]=C,b[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x176")]-=t[_0x27ab("0x0")],b[_0x27ab("0xc1")].map[_0x27ab("0x1e7")]("modelLoadComplete",v.datas_),x[_0x27ab("0xc09")][a][_0x27ab("0x249")]-=t[_0x27ab("0x0")],x[_0x27ab("0x171")](a),2==x[_0x27ab("0x160")]&&x[_0x27ab("0x33")][_0x27ab("0xc06")]&&x.options[_0x27ab("0xc07")]<1&&x[_0x27ab("0x915")]!=a&&esmap[_0x27ab("0x80")].setFloorAlpha({bid:x.id,fnum:a,alpha:x[_0x27ab("0x33")][_0x27ab("0xc07")],time:0}),b[_0x27ab("0x9a6")][a][e]=[]}}}},{key:"applyRequisitToMap",value:function(){var x=this,a=this;return new(_[_0x27ab("0xb")])((function(b){for(var _=0,e=0;e<a[_0x27ab("0xaa9")].length;e++){var t=a.requisitesQueue[e];if(_>=x.concurrencyLimit)break;a[_0x27ab("0x2ba")][t[_0x27ab("0x235")]]?(a[_0x27ab("0xaa9")][_0x27ab("0x157")](e,1),e--,a[_0x27ab("0xc0c")](t),_++):a.loadingList[t[_0x27ab("0x235")]]||(a.loadingList[t[_0x27ab("0x235")]]=!0,a[_0x27ab("0x321")](t[_0x27ab("0x235")],t[_0x27ab("0x1b9")]))}b()}))}},{key:_0x27ab("0xc0d"),value:function(){var x=this;if(x[_0x27ab("0xbf2")]&&x[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x29e")]&&!this.viewRangeUpdated&&x[_0x27ab("0xc1")][_0x27ab("0x37")].options.dynamicLoadModels){for(var a=x[_0x27ab("0xc1")][_0x27ab("0x37")].scaleLevel,b=x[_0x27ab("0x4b")][_0x27ab("0x62c")],_=0;_<b.length;_++){var e=x[_0x27ab("0x4b")].getFloor(b[_]);if(!e)return;var t=e[_0x27ab("0x1a4")](_0x27ab("0xc0e"))[0];if(!t)return;var i=t[_0x27ab("0xaf")][_0x27ab("0xb0")];this.scene[_0x27ab("0x37")].firstPersonMode?this[_0x27ab("0xc1")].map.firstPersonControls[_0x27ab("0x295")][_0x27ab("0x301")](this[_0x27ab("0xc1")].map.currentCamera[_0x27ab("0xc3")]):this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x295")].distanceTo(this[_0x27ab("0xc1")].map[_0x27ab("0x196")][_0x27ab("0xc3")]);for(var n=0;n<i[_0x27ab("0x0")];n++){for(var r=i[n],s=r[_0x27ab("0xae")][_0x27ab("0x342")],o=[],c=[],l=0;l<s[_0x27ab("0x0")];l++){var f=s[l],u=f.position[_0x27ab("0xe2")]();u[_0x27ab("0xae0")](this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")]);var d=!1;(Math.abs(u.x)>=1.5||Math[_0x27ab("0x274")](u.y)>=1.5)&&(d=!0);var h=x[_0x27ab("0x62f")].isModelVisible(r,f.id);f[_0x27ab("0x244")]<a||d?h&&o.push(f.id):!h&&c[_0x27ab("0x1")](f.id)}x[_0x27ab("0x62f")].setModelVisible(r,o,!1),x[_0x27ab("0x62f")][_0x27ab("0x412")](r,c,!0)}}this[_0x27ab("0x29f")]=!0}}},{key:_0x27ab("0xc0f"),value:function(){var x=this;if(!x[_0x27ab("0xbf2")]&&x[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x29e")]&&!this[_0x27ab("0x29f")]){var a=x[_0x27ab("0x4b")],b=new(THREE[_0x27ab("0x8cd")]);b[_0x27ab("0xbf8")]((new(THREE[_0x27ab("0x277")])).multiplyMatrices(this.scene[_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x6e8")],this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x197")]));for(var _=a[_0x27ab("0x62c")],e=0;e<_[_0x27ab("0x0")];e++){var t=a.getFloor(_[e]);if(!t)return;var i=t[_0x27ab("0x1a4")](_0x27ab("0x9e6"))[0];if(!i)return;var n=i[_0x27ab("0xaf")][_0x27ab("0xb0")];this.scene[_0x27ab("0x37")][_0x27ab("0x964")]?this[_0x27ab("0xc1")][_0x27ab("0x37")].firstPersonControls[_0x27ab("0x295")].distanceTo(this.scene.map[_0x27ab("0x196")][_0x27ab("0xc3")]):this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x296")].target[_0x27ab("0x301")](this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0xc3")]);for(var r=0;r<n[_0x27ab("0x0")];r++){var s=n[r],o=(s[_0x27ab("0xc3")],s[_0x27ab("0x127")].modelinfo.sizeInfo,s[_0x27ab("0x127")][_0x27ab("0xc05")].box3);b[_0x27ab("0x8dc")](o)||(x[_0x27ab("0x98a")].push(s[_0x27ab("0x127")][_0x27ab("0xc05")]),s[_0x27ab("0xae")][_0x27ab("0xb2")](),r--)}}this[_0x27ab("0x29f")]=!0}}},{key:"applyMergeToMap",value:function(x,a,b,e){var t=this;return new(_[_0x27ab("0xb")])((function(_){if(t[_0x27ab("0x2ba")][b]&&a[_0x27ab("0x0")]>0){t.mapModelsCount+=a.length;var i=a[0].parent,n=a[0].url,r=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](t[_0x27ab("0x2ba")][b][_0x27ab("0x31d")][_0x27ab("0xc1")]),s=(r[_0x27ab("0x33f")].y-r.min.y)/2,o=0,c=0;if(0!=t[_0x27ab("0x2ba")][b][_0x27ab("0x31d")][_0x27ab("0x2d5")].length){for(var u=0;u<a[_0x27ab("0x0")];u++)a[u][_0x27ab("0xda")]=!1,l-=1,t.addUserModel(a[u]);return void(t[_0x27ab("0xbef")][e][b]=[])}for(var d=!1,h=!1,g=0;g<a.length;g++){a[g].position.y+=s*a[g][_0x27ab("0x24b")].y,0==g&&a[g][_0x27ab("0xc03")]&&(d=!0),2==x[_0x27ab("0x160")]&&(0==x.id?(o=0,c=0):(o=x.sourceData[_0x27ab("0x444")]-t[_0x27ab("0xc1")][_0x27ab("0x1ab")],c=x[_0x27ab("0x17a")][_0x27ab("0x45f")]-t.scene[_0x27ab("0x1ac")]));var v=a[g][_0x27ab("0xc3")];a[g][_0x27ab("0xc3")].x=v.x-o,a[g][_0x27ab("0xc3")].z=v.z-c,a[g][_0x27ab("0x2aa")]&&!h&&(h=!0)}var p=t.GLTFMergeTool[_0x27ab("0xda")](t.modelStore[b][_0x27ab("0x31d")],a);if(!p){for(var A=0;A<a[_0x27ab("0x0")];A++)a[A].merge=!1,l-=1,t[_0x27ab("0xc11")](a[A]);return void(t[_0x27ab("0xbef")][e][b]=[])}p[_0x27ab("0xc5")]=_0x27ab("0xc6");var m=a[0].fnum;p[_0x27ab("0x127")][_0x27ab("0x9eb")]=!0;p[_0x27ab("0xae")]={isWall:d,model:b,bid:x.id,FloorNum:m,nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0x232")],brothers:a,animations:[],url:n,bType:2,o3d_:p,dispose:function(x){(x=x||this)[_0x27ab("0xf6")]=!1;var a=x[_0x27ab("0xc7")];return a?(a.remove(x),f(x),!0):void 0}[_0x27ab("0xe")](p)},p[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x249")],h&&p[_0x27ab("0x2a1")]((function(x){x[_0x27ab("0xb3")]&&(x[_0x27ab("0xb3")]instanceof Array?x[_0x27ab("0xb3")].map((function(x){x.depthTest=!1})):x[_0x27ab("0xb3")][_0x27ab("0x12f")]=!1)}));var C=a[0][_0x27ab("0xa84")];for(var I in C&&(2==x.buildingType?!t[_0x27ab("0xc1")].map[_0x27ab("0x33")][_0x27ab("0xc04")]&&t.scene[_0x27ab("0x37")].mapPicker[_0x27ab("0x1bb")](p,x.id):t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x1bb")](p,x.id)),i[_0x27ab("0x163")](p),a)a[I][_0x27ab("0xaf")]=p;t.scene[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x176")]-=a[_0x27ab("0x0")],t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x1e7")]("modelLoadComplete",p[_0x27ab("0xae")]),x[_0x27ab("0xc09")][m][_0x27ab("0x249")]-=a[_0x27ab("0x0")],x.checkLoadedAll(m),x[_0x27ab("0x33")][_0x27ab("0xc06")]&&x[_0x27ab("0x33")].focusAlpha<1&&x[_0x27ab("0x915")]!=m&&esmap.ESMapUtil[_0x27ab("0xc08")]({bid:x.id,alpha:x[_0x27ab("0x33")][_0x27ab("0xc07")],fnum:m,time:0}),t[_0x27ab("0xbef")][e][b]=[]}_()}))}},{key:"loadUserMergeModel",value:(c=(0,t.default)(e[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(a,b){var _,t,i,n,r;return e[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:for(i in t=(_=this)[_0x27ab("0xbef")][b])t[i][_0x27ab("0x0")];x.t0=e[_0x27ab("0xb")][_0x27ab("0x5e0")](t);case 5:if((x.t1=x.t0())[_0x27ab("0x3df")]){x[_0x27ab("0x2b8")]=12;break}return n=x.t1.value,r=t[n],x[_0x27ab("0x2b8")]=10,_[_0x27ab("0xc10")](a,r,n,b);case 10:x[_0x27ab("0x2b8")]=5;break;case 12:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x,a){return c[_0x27ab("0x5")](this,arguments)})},{key:"checkO1",value:function(){var x=this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0xd00")]||0;return l>x||0==x}},{key:"checkIfNeedLoad",value:function(){var x=this,a=this[_0x27ab("0x4b")];if(this[_0x27ab("0xbf2")]&&x.mapModelsCount<x[_0x27ab("0x173")][_0x27ab("0x174")])for(var b in this.mapModelLoadStatus)this[_0x27ab("0xbee")][b]&&this[_0x27ab("0xc13")](a,b);for(var _ in this.userMergeQueue)this.userModelLoadStatus[_]&&this.loadUserMergeModel(a,_);if(this[_0x27ab("0xbeb")]&&x.requisitesQueue[_0x27ab("0x0")]>0&&x[_0x27ab("0x1d5")](),this[_0x27ab("0xbeb")]&&x[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x29e")]&&(x[_0x27ab("0x989")][_0x27ab("0x0")]>0||x.toAddQueue[_0x27ab("0x0")]>0)){if(!this[_0x27ab("0x308")]){var e=x[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x964")];if(this[_0x27ab("0xbf0")]||(e?this.lasViewCenter=this.scene[_0x27ab("0x37")][_0x27ab("0x953")][_0x27ab("0x295")].clone():this[_0x27ab("0xbf0")]=this.scene.map[_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0xe2")]()),x.queue=x.queue[_0x27ab("0x1ec")](x[_0x27ab("0x98a")]),x[_0x27ab("0x98a")]=[],x[_0x27ab("0xc1")][_0x27ab("0x37")].options[_0x27ab("0x93a")]){var t=new(THREE[_0x27ab("0x8cd")]);e?this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x953")][_0x27ab("0x295")].distanceTo(this.scene[_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0xc3")]):this[_0x27ab("0xc1")][_0x27ab("0x37")].controls.target[_0x27ab("0x301")](this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0xc3")]);var i=e?this[_0x27ab("0xc1")][_0x27ab("0x37")].firstPersonControls[_0x27ab("0x295")]:this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x295")];t[_0x27ab("0xbf8")]((new(THREE[_0x27ab("0x277")]))[_0x27ab("0x195")](this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x6e8")],this.scene[_0x27ab("0x37")][_0x27ab("0x196")][_0x27ab("0x197")]));for(var n=0;n<x.queue[_0x27ab("0x0")];n++){if(x[_0x27ab("0x989")][n][_0x27ab("0xc15")]=1/x.queue[n][_0x27ab("0xc3")].distanceTo(i),x[_0x27ab("0x989")][n][_0x27ab("0x8db")]){if(!t.intersectsBox(x[_0x27ab("0x989")][n][_0x27ab("0x8db")])){x[_0x27ab("0x98a")][_0x27ab("0x1")](x.queue[n]),x.queue[_0x27ab("0x157")](n,1),n--;continue}x.queue[n][_0x27ab("0xc15")]=1/x.queue[n][_0x27ab("0xc3")].distanceTo(i)}else if(!t[_0x27ab("0x8e3")](x[_0x27ab("0x989")][n][_0x27ab("0xc3")])){x.toAddQueue[_0x27ab("0x1")](x[_0x27ab("0x989")][n]),x.queue[_0x27ab("0x157")](n,1),n--;continue}}for(var r=a.getFloor(1)[_0x27ab("0x1a4")](_0x27ab("0x9e6"))[0][_0x27ab("0xaf")][_0x27ab("0xb0")],s=[],o=0;o<r[_0x27ab("0x0")];o++){var c=r[o],l=(c[_0x27ab("0x127")].modelinfo.sizeInfo,x[_0x27ab("0xc1")][_0x27ab("0x37")].scaleLevel_,{modelrank:1/c.position.distanceTo(i),model:c,ind:o});s.push(l)}var f=[];(f=[].concat(s,x[_0x27ab("0x989")])).sort((function(x,a){return a[_0x27ab("0xc15")]-x[_0x27ab("0xc15")]}));var u=[];if(f[_0x27ab("0x0")]>x[_0x27ab("0x11f9")]){u=f[_0x27ab("0x157")](x[_0x27ab("0x11f9")]);for(var d=0;d<u[_0x27ab("0x0")];d++)u[d][_0x27ab("0xc")]("ind")?(x[_0x27ab("0x98a")].push(u[d][_0x27ab("0x235")][_0x27ab("0x127")][_0x27ab("0xc05")]),u[d][_0x27ab("0x235")][_0x27ab("0xae")][_0x27ab("0xb2")](),u[d].model=null):x[_0x27ab("0x98a")][_0x27ab("0x1")](u[d]),u.splice(d,1),d--}for(var h=0;h<f.length;h++)f[h].hasOwnProperty(_0x27ab("0xc18"))&&(f.splice(h,1),h--);x[_0x27ab("0x989")]=f}this[_0x27ab("0xc19")](),this[_0x27ab("0x308")]=!0,this[_0x27ab("0xbf0")]=e?this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x953")].target[_0x27ab("0xe2")]():this.scene[_0x27ab("0x37")][_0x27ab("0x296")][_0x27ab("0x295")][_0x27ab("0xe2")]()}x.start(a)}}},{key:_0x27ab("0xc00"),value:function(x){for(var a=this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x964")]?this[_0x27ab("0xc1")][_0x27ab("0x37")].firstPersonControls[_0x27ab("0x295")]:this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x296")].target,b=this[_0x27ab("0x989")][_0x27ab("0x0")],_=x.position[_0x27ab("0x301")](a),e=0;e<b;e++){if(this[_0x27ab("0x989")][e].position[_0x27ab("0x301")](a)>=_)return void this.queue[_0x27ab("0x157")](e,0,x)}this.toAddQueue.push(x),this[_0x27ab("0xc1")][_0x27ab("0x37")].enableCollide=!0}},{key:_0x27ab("0xc19"),value:function(){var x=this.scene.map[_0x27ab("0x964")]?this[_0x27ab("0xc1")].map.firstPersonControls.target:this[_0x27ab("0xc1")].map[_0x27ab("0x296")][_0x27ab("0x295")];this.queue[_0x27ab("0x0")];this[_0x27ab("0x989")].sort((function(a,b){return a[_0x27ab("0xc3")][_0x27ab("0x301")](x)-b[_0x27ab("0xc3")][_0x27ab("0x301")](x)})),this.queue}},{key:_0x27ab("0xc1a"),value:function(){var x=this,a=this;return new(_[_0x27ab("0xb")])((function(b){for(var _=0,e=0;e<a.queue[_0x27ab("0x0")];e++){var t=a[_0x27ab("0x989")][e];if(_>=x[_0x27ab("0xc0b")])break;a[_0x27ab("0x2ba")][t[_0x27ab("0x235")]]?(a[_0x27ab("0x989")].splice(e,1),e--,a.loadExist(t),_++):a.loadingList[t[_0x27ab("0x235")]]||(a.loadingList[t.model]=!0,a.preFetchModel3D(t.model,t[_0x27ab("0x1b9")]))}b()}))}},{key:_0x27ab("0xc0c"),value:function(x){var a,b=this,_=this.building,e=x[_0x27ab("0x235")],t=b.modelStore[e][_0x27ab("0x31d")].scene,i=b.modelStore[e].animNames,n=(i.length,!1);t[_0x27ab("0xb0")][_0x27ab("0x1b")]((function(x){(x instanceof THREE[_0x27ab("0x861")]||x instanceof THREE[_0x27ab("0x11ff")])&&(n=!0)})),(a=n?THREE[_0x27ab("0x1200")].clone(t):t[_0x27ab("0xe2")](!0))[_0x27ab("0x2a1")]((function(x){x[_0x27ab("0xb3")]&&(x[_0x27ab("0xb3")]=x[_0x27ab("0xb3")][_0x27ab("0xe2")]())})),b[_0x27ab("0x5")](a,x,i,_)}},{key:_0x27ab("0x5"),value:function(x,a,b){var e=this,t=this,i=this[_0x27ab("0x4b")];return new _.default((function(_){b=b||[];var n=t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x155")],s=a[_0x27ab("0xee")],o=null,c=null;x[_0x27ab("0x2a1")]((function(x){x&&x.name&&x[_0x27ab("0xc5")][_0x27ab("0xd1")]("__ignore_box")>-1&&(o=x,c=x.parent)})),o&&c.remove(o);var f=(new(THREE[_0x27ab("0x3e2")])).setFromObject(x);f[_0x27ab("0x31f")](x.position),x[_0x27ab("0xc3")][_0x27ab("0x28c")](-1),o&&c.add(o);var u,d,h=f[_0x27ab("0x33f")].y-f[_0x27ab("0x340")].y;f[_0x27ab("0x33f")].x,f[_0x27ab("0x340")].x;u=h<1?15:20,u*=a[_0x27ab("0x24b")].y;var g=a[_0x27ab("0x245")]||!1;if(a[_0x27ab("0xc20")]){l++;var v=a.url[_0x27ab("0x2b9")]("/"),p=a[_0x27ab("0x1b9")];v>-1&&(p=a[_0x27ab("0x1b9")][_0x27ab("0xf")](v+1)),d=a[_0x27ab("0xc20")],a[_0x27ab("0xc20")][_0x27ab("0x250")]=a[_0x27ab("0xc7")],a[_0x27ab("0xc20")][_0x27ab("0x253")]=a[_0x27ab("0x253")],a[_0x27ab("0xc20")].child=x,a[_0x27ab("0xc20")][_0x27ab("0x235")]=p,a[_0x27ab("0xc20")][_0x27ab("0x2d5")]=b,a.marker[_0x27ab("0x245")]=g,a[_0x27ab("0xc20")].init(),a[_0x27ab("0xc20")].on(_0x27ab("0x25b"),(function(){l--})),a[_0x27ab("0xc03")]&&(a.marker.isWall=!0)}else{var A=a.position;a[_0x27ab("0xc3")].x=A.x-0,a[_0x27ab("0xc3")].y=A.y,a[_0x27ab("0xc3")].z=A.z-0;var m=a.rank;t[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x34")]==esmap[_0x27ab("0x39")][_0x27ab("0x3a")]&&(m=t[_0x27ab("0xc1")].map.buildingService.convertShowLevel(a[_0x27ab("0x1bd")],t[_0x27ab("0x4b")])),d=new r.default({name:a[_0x27ab("0xc5")],fnum:a[_0x27ab("0xee")],ID:a.id,dataID:a[_0x27ab("0x637")],url:a[_0x27ab("0x1b9")],gid:a.gid,mapId:a[_0x27ab("0x35")],bid:i.id,bType:i[_0x27ab("0x160")],model:a[_0x27ab("0x235")],callback:a[_0x27ab("0x1d6")],top:a.top,rotation:a.rotation,position:a[_0x27ab("0xc3")],scale:a.scale,scaleRate:u,showLevel:m,child:x,addTo:a[_0x27ab("0xc7")],isChildNode:g,animations:b}),a[_0x27ab("0xc03")]&&(d[_0x27ab("0x1201")]=!0),d[_0x27ab("0x31")](),e.scene[_0x27ab("0x37")][_0x27ab("0x175")].modelLoadCount--,a[_0x27ab("0xc03")]||i[_0x27ab("0xc09")]&&i[_0x27ab("0xc09")][s]&&i[_0x27ab("0xc09")][s].model3D--,i[_0x27ab("0x171")]()}b[_0x27ab("0xd1")]("onload")>-1&&d[_0x27ab("0x96c")]({name:_0x27ab("0xba8"),time:2});var C=d[_0x27ab("0xaf")],I=(new THREE.Box3).setFromObject(C),y=[I[_0x27ab("0x33f")].x-I[_0x27ab("0x340")].x,I[_0x27ab("0x33f")].z-I.min.z,I[_0x27ab("0x33f")].y-I[_0x27ab("0x340")].y];y[_0x27ab("0x416")](),a.sizeInfo=y[1]*y[2],a[_0x27ab("0x8db")]=I,C[_0x27ab("0x127")][_0x27ab("0xc05")]=a,2==i[_0x27ab("0x160")]?t[_0x27ab("0x2a3")](i,C):e.setAlpha2(C),"wallmodel_prefetch"!=a.id&&(a[_0x27ab("0xa84")]||t[_0x27ab("0xc1")][_0x27ab("0x37")].options.editMode)&&(2==i[_0x27ab("0x160")]?a[_0x27ab("0xc20")]?n[_0x27ab("0x1bb")](C,i.id):t.scene[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xc04")]||n[_0x27ab("0x1bb")](C,i.id):n[_0x27ab("0x1bb")](C,i.id)),d[_0x27ab("0x35")]&&(e[_0x27ab("0xc1")][_0x27ab("0x37")].mapService[_0x27ab("0x9f5")][d.mapId]=d),e[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")].tileService[_0x27ab("0x9c3")](),e.scene[_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0xc0a"),d),_()}))}},{key:_0x27ab("0x321"),value:function(x,a,b){var _=this,e=_[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xdbd")],t=esmap[_0x27ab("0x134")][_0x27ab("0x249")];_[_0x27ab("0xc1")][_0x27ab("0x37")].options[_0x27ab("0x223")],this[_0x27ab("0xc7f")][x]||this[_0x27ab("0xbe8")][_0x27ab("0x14b")](a,(function(a){_.toLoadedCount--,_[_0x27ab("0x173")][_0x27ab("0xbf4")]++,_.loadingList[x]=!1;var i=new(THREE[_0x27ab("0x2bf")])(a[_0x27ab("0xc1")]);i.watching=!1;var n=[];a[_0x27ab("0x2d5")][_0x27ab("0x1b")]((function(x){n[_0x27ab("0x1")](x.name[_0x27ab("0x2d7")]())})),a[_0x27ab("0xc1")][_0x27ab("0x2a1")]((function(x){x.renderOrder=t,x[_0x27ab("0xb3")]&&x.material[_0x27ab("0xc29")]&&(x.material[_0x27ab("0xc5")][_0x27ab("0xd1")](_0x27ab("0x1202"))>-1&&(x[_0x27ab("0xb3")]=new(THREE[_0x27ab("0x106")])({color:x[_0x27ab("0xb3")].color,map:x[_0x27ab("0xb3")][_0x27ab("0x37")],transparent:x.material[_0x27ab("0x102")],opacity:x.material.opacity})),x[_0x27ab("0xb3")][_0x27ab("0x105")]||(x[_0x27ab("0xb3")][_0x27ab("0x105")]=.9),x[_0x27ab("0xb3")].map&&(x[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0xc5")][_0x27ab("0xd1")](_0x27ab("0x1203"))>-1&&(x[_0x27ab("0xb3")][_0x27ab("0x102")]=!1),e||(x.material[_0x27ab("0x37")][_0x27ab("0x85c")]=THREE.LinearEncoding)),!a[_0x27ab("0xc1")][_0x27ab("0x127")][_0x27ab("0xc2b")]&&x[_0x27ab("0xb3")][_0x27ab("0xc5")].indexOf(_0x27ab("0x6a1"))>=0&&(a.scene.userData[_0x27ab("0xc2b")]=!0))}));var r=null;a.parser&&a[_0x27ab("0xbf")][_0x27ab("0xbd")]&&a[_0x27ab("0xbf")].json.ms&&(r=a[_0x27ab("0xbf")][_0x27ab("0xbd")].ms),_.modelStore[x]={mixer:i,gltfObj:a,queue:[],animations:a[_0x27ab("0x2d5")],animNames:n,ms:r},b&&b(a),_[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x1e7")](_0x27ab("0xc2c"),{name:x,gltfObj:a}),_[_0x27ab("0x308")]=!1}),(function(){}),(function(b){_.modelStatic[_0x27ab("0xbf4")]++,_[_0x27ab("0xc7f")][x]=!0;var e=_.building;for(var t in _[_0x27ab("0x9a6")]){var i=_[_0x27ab("0x9a6")][t];for(var n in i)if(_.failed[n]){var r=i[n][_0x27ab("0x0")];r>0&&(i[n]=[],e.toLoaded[t][_0x27ab("0x249")]-=r,e[_0x27ab("0x171")](t))}}for(var s=0;s<_[_0x27ab("0xaa9")][_0x27ab("0x0")];s++)if(_[_0x27ab("0xaa9")][s][_0x27ab("0x235")]==x){_[_0x27ab("0xaa9")][s][_0x27ab("0x1166")]&&_[_0x27ab("0xaa9")][s][_0x27ab("0x1166")](_[_0x27ab("0x989")][s]);var o=_.requisitesQueue[s][_0x27ab("0xee")];if(!o)continue;_[_0x27ab("0x989")][s].name!=_0x27ab("0x1162")&&0!=e.id&&e.toLoaded[_[_0x27ab("0xaa9")][s].fnum].model3D--,_.requisitesQueue.splice(s,1),s--,e[_0x27ab("0x171")](o)}for(var c=0;c<_[_0x27ab("0x989")][_0x27ab("0x0")];c++)if(_[_0x27ab("0x989")][c][_0x27ab("0x235")]==x){_[_0x27ab("0x989")][c].onError&&_.queue[c].onError(_[_0x27ab("0x989")][c]);var l=_[_0x27ab("0x989")][c][_0x27ab("0xee")];if(!l)continue;_[_0x27ab("0x989")][c][_0x27ab("0xc5")]!=_0x27ab("0x1162")&&0!=e.id&&e[_0x27ab("0xc09")][_[_0x27ab("0x989")][c][_0x27ab("0xee")]][_0x27ab("0x249")]--,_[_0x27ab("0x989")][_0x27ab("0x157")](c,1),c--,e[_0x27ab("0x171")](l)}for(var f=0;f<_[_0x27ab("0x98a")][_0x27ab("0x0")];f++)if(_[_0x27ab("0x98a")][f][_0x27ab("0x235")]==x){var u=_[_0x27ab("0x98a")][f][_0x27ab("0xee")];if(!u)continue;_[_0x27ab("0x989")][f][_0x27ab("0xc5")]!=_0x27ab("0x1162")&&0!=e.id&&e[_0x27ab("0xc09")][_[_0x27ab("0x98a")][f][_0x27ab("0xee")]][_0x27ab("0x249")]--,_[_0x27ab("0x98a")][_0x27ab("0x157")](f,1),f--,e[_0x27ab("0x171")](u)}_[_0x27ab("0xc1")][_0x27ab("0x37")].fire("modelPrefetchFailed",{name:x}),b&&console[_0x27ab("0x257")](_0x27ab("0x1204")+a+_0x27ab("0x1205")+b.toString()),_[_0x27ab("0xbea")]--}),this[_0x27ab("0xeb")])}},{key:_0x27ab("0xc2d"),value:function(x){var a=esmap[_0x27ab("0x134")][_0x27ab("0x249")];obj[_0x27ab("0x133")]=a,x.needsUpdate=!0}},{key:"setAlpha2",value:(b=(0,t[_0x27ab("0xb")])(e.default[_0x27ab("0x2b5")]((function x(a){var b;return e[_0x27ab("0xb")].wrap((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:b=esmap[_0x27ab("0x134")][_0x27ab("0x249")],a.traverse((function(x){if(x[_0x27ab("0xb3")]){if(x[_0x27ab("0xb3")]instanceof Array)for(var a=0;a<x.material[_0x27ab("0x0")];a++)x.material[a];x[_0x27ab("0x133")]=b}}));case 2:case _0x27ab("0x2d3"):return x.stop()}}),x,this)}))),function(x){return b[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0x2a3"),value:(a=(0,t[_0x27ab("0xb")])(e[_0x27ab("0xb")].mark((function x(a,b){var _,t,i;return e[_0x27ab("0xb")][_0x27ab("0x2b6")]((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:_=b[_0x27ab("0xae")][_0x27ab("0x251")],t=a[_0x27ab("0x626")][_],i=esmap[_0x27ab("0x134")][_0x27ab("0x249")],t&&t.visible&&(a[_0x27ab("0x33")][_0x27ab("0xc07")],b[_0x27ab("0x2a1")]((function(x){if(x.material){if(x[_0x27ab("0xb3")]instanceof Array)for(var a=0;a<x[_0x27ab("0xb3")].length;a++)x[_0x27ab("0xb3")][a];x[_0x27ab("0x133")]=i}})));case 6:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(x,b){return a[_0x27ab("0x5")](this,arguments)})},{key:_0x27ab("0x2ba"),get:function(){return this[_0x27ab("0xc1")][_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x2ba")]},set:function(x){this[_0x27ab("0xc1")].map[_0x27ab("0x175")][_0x27ab("0x2ba")]=x}}]),x}();a[_0x27ab("0xb")]=u},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=o(b(2)),e=o(b(12)),t=o(b(13)),i=o(b(8)),n=o(b(0)),r=o(b(1)),s=o(b(129));function o(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var c=function(){function x(a){var b=this;(0,n[_0x27ab("0xb")])(this,x),this[_0x27ab("0x1206")]={},this.center=null,this.queues={},this[_0x27ab("0x1207")]={},this[_0x27ab("0x1208")]={},this[_0x27ab("0x1209")]={},this[_0x27ab("0x4b")]=a,this[_0x27ab("0xc1")]=a[_0x27ab("0x37")][_0x27ab("0x15d")],this[_0x27ab("0x37")]=a.map,this[_0x27ab("0x9e7")]={},this[_0x27ab("0x2ba")]={},this.total=0,this.pages=0,this[_0x27ab("0x120a")]=0,this[_0x27ab("0x120b")]=null,this[_0x27ab("0xa7e")]={},this[_0x27ab("0x120c")]=[],this[_0x27ab("0x120d")]=null,this.userIntersecting=!1,this.mergeMode=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x226")];var _=this,e=null;this[_0x27ab("0xc5e")]=null,this.db=null,this[_0x27ab("0x120e")]=!1,this[_0x27ab("0x37")].on(_0x27ab("0xb23"),(function(){b[_0x27ab("0x120e")]=!0})),this[_0x27ab("0x37")].on(_0x27ab("0x154"),(function(){b[_0x27ab("0x120e")]&&(_[_0x27ab("0x723")]=!0,window.clearTimeout(e))})),this.map.on(_0x27ab("0x12b"),(function(){_[_0x27ab("0x723")]||_.handleTanks()})),this[_0x27ab("0x37")].on(_0x27ab("0x944"),(function(){b[_0x27ab("0x120e")]=!1,e=setTimeout((function(){_[_0x27ab("0x723")]=!1}),800)}))}var a;return(0,r[_0x27ab("0xb")])(x,[{key:"init",value:function(x){for(var a=this[_0x27ab("0x4b")],b=0;b<a.floorNums.length;b++){var _=a.floorNums[b],e=a[_0x27ab("0x61b")](_).getLayersByNames("mapmodel3ds");e[0]?this[_0x27ab("0x9e7")][_]=e[0][_0x27ab("0xaf")]:console[_0x27ab("0x362")]("bimLayerNot find")}this.bins=x[_0x27ab("0x120f")],this.size=x[_0x27ab("0x1210")],this[_0x27ab("0x1211")]=x[_0x27ab("0x1211")],this[_0x27ab("0x1212")]=x[_0x27ab("0x1212")]}},{key:_0x27ab("0x1213"),value:function(){if(this[_0x27ab("0x120c")][_0x27ab("0x0")]>0){var x=this[_0x27ab("0x120c")][_0x27ab("0x4")]();this[_0x27ab("0x1214")]?this.onQueueMerged(x):this.onQueueUnMerged(x),this[_0x27ab("0x1215")]()}}},{key:_0x27ab("0xeb3"),value:function(x){x[_0x27ab("0xe55")]==_0x27ab("0xeb2")?this[_0x27ab("0x120c")].push(x):"bimInfos"==x[_0x27ab("0xe55")]&&this[_0x27ab("0x1216")](x),this[_0x27ab("0x1215")]()}},{key:_0x27ab("0x1217"),value:function(x,a){var b=this.db.transaction([x],_0x27ab("0xc64")).objectStore(x)[_0x27ab("0xc71")](a);b.onsuccess=function(x){},b[_0x27ab("0x5bc")]=function(x){}}},{key:_0x27ab("0x1218"),value:function(x,a){var b=this.db;return new i.default((function(_){var e=b[_0x27ab("0xc62")]([x],_0x27ab("0xc64"))[_0x27ab("0xc65")](x)[_0x27ab("0x163")](a);e.onsuccess=function(x){_()},e.onerror=function(x){}}))}},{key:_0x27ab("0x1215"),value:function(){if(this.pages&&this[_0x27ab("0x120a")]===this.pages&&this[_0x27ab("0x1219")]){var x=(new Date)[_0x27ab("0x7c")]()-this[_0x27ab("0xc5e")];console[_0x27ab("0x2bb")](_0x27ab("0x121a")+x+"ms"),this[_0x27ab("0x1219")]=null,this[_0x27ab("0x37")].fire(_0x27ab("0x121b"),{})}}},{key:_0x27ab("0x121c"),value:function(x){var a=this;return new(i[_0x27ab("0xb")])((function(b,_){var e=a.db.transaction(_0x27ab("0x121d")).objectStore(_0x27ab("0x121d")).get(x);e[_0x27ab("0xc68")]=function(){var x=e.result;b(x||null)},e[_0x27ab("0x5bc")]=function(x){console[_0x27ab("0x362")](x),_(null)}}))}},{key:_0x27ab("0x121e"),value:function(){var x={db:_0x27ab("0x121f"),collections:["bimDatas",_0x27ab("0x120b"),_0x27ab("0x121d")]},a=window[_0x27ab("0xc6d")][_0x27ab("0x317")](x.db);a[_0x27ab("0xc68")]=function(){for(var b=a[_0x27ab("0xc69")],_=x[_0x27ab("0x1220")],e=0;e<_[_0x27ab("0x0")];e++){var t=_[e];b[_0x27ab("0xc75")][_0x27ab("0x3b5")](t)&&b[_0x27ab("0x121e")](t)}}}},{key:"clearStores",value:function(){var x={db:_0x27ab("0x121f"),collections:[_0x27ab("0x1221"),_0x27ab("0x120b"),_0x27ab("0x121d")]},a=window[_0x27ab("0xc6d")][_0x27ab("0x317")](x.db);a.onsuccess=function(){for(var b=a[_0x27ab("0xc69")],_=x.collections,e=0;e<_.length;e++){var t=_[e],i=b[_0x27ab("0xc62")]([t],_0x27ab("0xc64"))[_0x27ab("0xc65")](t)[_0x27ab("0x69b")]();i[_0x27ab("0xc68")]=function(x){},i[_0x27ab("0x5bc")]=function(x){}}}}},{key:"start",value:(a=(0,t.default)(e[_0x27ab("0xb")].mark((function x(){var a,b,_,t,i,n,r,s,o,c;return e.default.wrap((function(x){for(;;)switch(x[_0x27ab("0x2b7")]=x[_0x27ab("0x2b8")]){case 0:return this.startTime=(new Date)[_0x27ab("0x7c")](),x[_0x27ab("0x2b8")]=4,this.IDBTryInit({db:_0x27ab("0x121f"),version:2});case 4:if(a=x.sent,b=!0,a){x[_0x27ab("0x2b8")]=24;break}return console[_0x27ab("0x257")](_0x27ab("0x1222")),b=!1,x[_0x27ab("0x2b8")]=11,this[_0x27ab("0x1223")]();case 11:if(_=x[_0x27ab("0x5dc")]){x[_0x27ab("0x2b8")]=15;break}return console[_0x27ab("0x257")](_0x27ab("0x1224")),x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 15:for(this.init(_),this[_0x27ab("0x120d")]=_,t=this[_0x27ab("0x37")].sceneId_,_[_0x27ab("0x5de")]=t,_.id=t,i=0;i<this[_0x27ab("0x1211")];i++)this[_0x27ab("0x1225")](i,!1,b);return this[_0x27ab("0x1225")](_0x27ab("0x2bb"),!1,b),x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 24:return this.db=a,x[_0x27ab("0x2b8")]=27,this[_0x27ab("0x1223")]();case 27:if(n=x[_0x27ab("0x5dc")]){x[_0x27ab("0x2b8")]=31;break}return console[_0x27ab("0x257")](_0x27ab("0x1224")),x[_0x27ab("0x5e3")](_0x27ab("0x2be"));case 31:return this[_0x27ab("0x31")](n),this[_0x27ab("0x120d")]=n,r=this.map[_0x27ab("0xb0a")],n[_0x27ab("0x5de")]=r,n.id=r,x.next=38,this[_0x27ab("0x121c")](r);case 38:if(s=x[_0x27ab("0x5dc")],o=!0,s){x[_0x27ab("0x2b8")]=48;break}return x[_0x27ab("0x2b8")]=43,this.clearCache();case 43:return x[_0x27ab("0x2b8")]=45,this[_0x27ab("0x1218")](_0x27ab("0x121d"),n);case 45:o=!1,x[_0x27ab("0x2b8")]=54;break;case 48:if(o=n[_0x27ab("0x1226")]===s[_0x27ab("0x1226")]){x[_0x27ab("0x2b8")]=54;break}return x.next=52,this.clearCache();case 52:return x[_0x27ab("0x2b8")]=54,this[_0x27ab("0x1217")](_0x27ab("0x121d"),n);case 54:for(c=0;c<this[_0x27ab("0x1211")];c++)this.dispatchBimPageByControlIndex(c,o,b);this.dispatchBimPageByControlIndex(_0x27ab("0x2bb"),o,b);case 56:case _0x27ab("0x2d3"):return x[_0x27ab("0x1c4")]()}}),x,this)}))),function(){return a.apply(this,arguments)})},{key:_0x27ab("0x1227"),value:function(){var x=this.db,a=this[_0x27ab("0x37")][_0x27ab("0xb0a")],b=new i.default((function(b){x.transaction(_0x27ab("0x1221"),_0x27ab("0xc64")).objectStore("bimDatas")[_0x27ab("0xc77")]()[_0x27ab("0xc68")]=function(x){var _=x[_0x27ab("0x295")][_0x27ab("0xc69")];_?(_[_0x27ab("0xf8")][_0x27ab("0x5de")]==a&&_[_0x27ab("0x2b4")](),_[_0x27ab("0x5e4")]()):b()}})),_=new(i[_0x27ab("0xb")])((function(b){x[_0x27ab("0xc62")](_0x27ab("0x120b"),_0x27ab("0xc64"))[_0x27ab("0xc65")](_0x27ab("0x120b"))[_0x27ab("0xc77")]()[_0x27ab("0xc68")]=function(x){var _=x.target.result;_?(_[_0x27ab("0xf8")][_0x27ab("0x5de")]==a&&_.delete(),_[_0x27ab("0x5e4")]()):b()}})),e=new(i[_0x27ab("0xb")])((function(b){x.transaction(_0x27ab("0x121d"),"readwrite")[_0x27ab("0xc65")](_0x27ab("0x121d"))[_0x27ab("0xc77")]()[_0x27ab("0xc68")]=function(x){var _=x[_0x27ab("0x295")].result;_?(_[_0x27ab("0xf8")][_0x27ab("0x5de")]==a&&_[_0x27ab("0x2b4")](),_[_0x27ab("0x5e4")]()):b()}}));return i[_0x27ab("0xb")][_0x27ab("0x218")]([b,_,e])}},{key:"fetchBimSet",value:function(){var x=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x3f")],a=this[_0x27ab("0x37")][_0x27ab("0xb0a")],b=x+"/"+a+"/"+a+_0x27ab("0x1228");return new i.default((function(x,a){s.default[_0x27ab("0x361")]({url:b})[_0x27ab("0x35b")]((function(a){x(a)})).error(a)}))}},{key:_0x27ab("0x1225"),value:function(x,a,b){var _=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x3f")],e=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x227")],t=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x226")],i=window[_0x27ab("0x7a")][_0x27ab("0x7b")],n=this[_0x27ab("0x37")].id,r=void 0;if(_[_0x27ab("0xd1")](_0x27ab("0xd4"))<0)if(_[_0x27ab("0x1229")]("/"))r=""+window.location.origin+_+"/"+n+"/"+n+_0x27ab("0x122a")+x+_0x27ab("0x122b");else{var s=i[_0x27ab("0x2b9")]("/"),o=i[_0x27ab("0x1a8")](0,s);o[_0x27ab("0x2b9")]("#")>-1&&(o=o.substring(0,o[_0x27ab("0x2b9")]("#"))),r=o+"/"+_+"/"+n+"/"+n+"-bim"+x+".bin"}else r=_+"/"+n+"/"+n+_0x27ab("0x122a")+x+_0x27ab("0x122b");r=r[_0x27ab("0x111")](/\/+/g,"/"),this[_0x27ab("0xc1")][_0x27ab("0x15c")][_0x27ab("0xc9a")][_0x27ab("0xea9")]({messageType:2,url:r,mapDataSrc:_,mapid:n,sceneX:this[_0x27ab("0xc1")][_0x27ab("0x1ab")],sceneZ:this[_0x27ab("0xc1")][_0x27ab("0x1ac")],datas:this.queues,controlIndex:x,useCache:a,useIDB:b,mergeMode:t,devMode:e},this[_0x27ab("0x4b")])}},{key:_0x27ab("0x122c"),value:function(x){for(var a={},b=this[_0x27ab("0x120b")][_0x27ab("0x122d")],_=0;_<x[_0x27ab("0x0")];_++){var e=x[_][_0x27ab("0x28")]("-"),t=b[e[0]],i=b[e[1]];a[t]=i}return a}},{key:_0x27ab("0xa80"),value:function(x){if(!this[_0x27ab("0x120b")])return null;var a=this[_0x27ab("0x120b")][_0x27ab("0x122e")],b=this[_0x27ab("0x120b")][_0x27ab("0x122f")];for(var _ in a){var e=a[_];if(x==e.bimid){var t=e[_0x27ab("0x2bb")],i={};for(var n in t){var r=b[n];r||(r=n);var s=t[n].idx,o=this.getDesFromNlist(s);i[r]=o}return{bimid:e[_0x27ab("0x1230")],infoList:i,uuid:e[_0x27ab("0x628")]}}}return null}},{key:"bindBimInfo",value:function(){var x=this[_0x27ab("0x1219")];for(var a in x){var b=x[a];for(var _ in b)for(var e=b[_],t=0;t<e[_0x27ab("0x0")];t++){var i=e[t],n=this.getInfo(i.id);this.bimInfoLib[i.id]=n,n?(e[t].uuid=n.uuid,e[t][_0x27ab("0xa81")]=n.infoList,e[t][_0x27ab("0x1232")]=n[_0x27ab("0x1230")]):(_0x27ab("0x1231"),i.id)}}}},{key:_0x27ab("0x1216"),value:function(x){this[_0x27ab("0x120b")]=x.data}},{key:_0x27ab("0x1233"),value:function(x){var a=x[_0x27ab("0x366")],b=this[_0x27ab("0x4b")].id,_=this[_0x27ab("0x4b")].themeID;for(var e in this[_0x27ab("0xed")]||(this[_0x27ab("0xed")]=x[_0x27ab("0xed")]),a){var t=a[e];for(var i in t)for(var n=t[i],r=0;r<n.length;r++){var s=n[r];if(s)for(var o=0;o<s[_0x27ab("0x0")];o++){var c,l=new(THREE[_0x27ab("0x15b")]),f=s[o],u=f.groupInfo[0].id,d=f[_0x27ab("0xc3")],h=f.uv,g=f[_0x27ab("0xedb")],v=f.style,p=f[_0x27ab("0x300")];c=v;var A=new(THREE[_0x27ab("0x1ad")]);A[_0x27ab("0x85e")](new(THREE[_0x27ab("0x3fd")])(p,1)),A.addAttribute(_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])(d,3)),A.addAttribute("uv",new THREE.BufferAttribute(h,2)),A[_0x27ab("0x1234")](),A.computeBoundingSphere(),A[_0x27ab("0x141")](0,A[_0x27ab("0x300")][_0x27ab("0xc4")],0),A[_0x27ab("0x127")][_0x27ab("0x400")]=g;var m=this[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xe09")](_,v,""),C=m[_0x27ab("0xe2")]();C[_0x27ab("0x107")]=new(THREE[_0x27ab("0x108")])(1,0,0);var I=[m,C],y=new THREE.Mesh(A,I);l.add(y),l.userData[_0x27ab("0x9eb")]=!0;var E=this[_0x27ab("0xed")],w=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](l);l[_0x27ab("0x127")][_0x27ab("0xc05")]={box3:w};var T=w.max.y-w.min.y,k=this[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")],S=this.allDataMap[u],M=S[_0x27ab("0x143")][_0x27ab("0x28")](","),R=new(THREE[_0x27ab("0xe7")])(E.x+1*M[0],0+1*M[1],E.z+1*M[2]),L={};L[_0x27ab("0xc3")]=R,L[_0x27ab("0x49b")]=T*S.scale.y+L.position.y-T/2,L[_0x27ab("0xa86")]=!0,L.RoomStyle=1*c,L.dataID=S[_0x27ab("0x637")],L[_0x27ab("0xa84")]=S.bclick,L[_0x27ab("0xe1")]=esmap[_0x27ab("0xf1")][_0x27ab("0x232")],L.ID=u,L.id=u,L[_0x27ab("0xc5")]=S[_0x27ab("0xc5")],L[_0x27ab("0x251")]=1*i,L[_0x27ab("0xeb")]=b,L.o3d_=l,L[_0x27ab("0xc52")]=S.rotate,L.scale=S[_0x27ab("0x24b")],L.offset=S[_0x27ab("0x143")],L[_0x27ab("0x3d5")]=this.map[_0x27ab("0x24f")](R),k&&(L[_0x27ab("0xa84")]=1);var H=[L];l[_0x27ab("0xae")]={bid:b,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:i,model:e,brothers:H,o3d_:l};var D=L[_0x27ab("0xa84")];l.name="_root_",this[_0x27ab("0x9e7")][i][_0x27ab("0x163")](l),D&&this[_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x1bb")](l,b)}else console[_0x27ab("0x3f4")](e+"模型数据为空")}}this.loadedCount++}},{key:"onQueueMerged",value:function(x){var a=x[_0x27ab("0x366")],b=this[_0x27ab("0x4b")].id,e=this[_0x27ab("0x4b")][_0x27ab("0x6a")];for(var t in this[_0x27ab("0xed")]||(this[_0x27ab("0xed")]=x[_0x27ab("0xed")]),a){var i=a[t];for(var n in i){for(var r=i[n],s=new(THREE[_0x27ab("0x15b")]),o=0,c=0;c<r.length;c++){var l=r[c];if(l)for(var f=0;f<l.length;f++){var u=l[f],d=u.position,h=u.uv,g=u[_0x27ab("0xedb")],v=u.style,p=u[_0x27ab("0x300")];o=v;var A=new(THREE[_0x27ab("0x1ad")]);A[_0x27ab("0x85e")](new THREE.BufferAttribute(p,1)),A[_0x27ab("0x1b0")](_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])(d,3)),A[_0x27ab("0x1b0")]("uv",new(THREE[_0x27ab("0x3fd")])(h,2)),A[_0x27ab("0x1234")](),A.computeBoundingSphere(),A.addGroup(0,A.index[_0x27ab("0xc4")],0),A[_0x27ab("0x127")].groupData=g;var m=this.map[_0x27ab("0xfc")][_0x27ab("0xe09")](e,v,""),C=m[_0x27ab("0xe2")]();C.color=new(THREE[_0x27ab("0x108")])(1,0,0);var I=[m,C],y=new(THREE[_0x27ab("0x159")])(A,I);s[_0x27ab("0x163")](y)}else console[_0x27ab("0x3f4")](t+_0x27ab("0x1235"))}var E=this[_0x27ab("0x1219")][t][n],w=this[_0x27ab("0xed")],T=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](s);s[_0x27ab("0x127")].merged=!0,s[_0x27ab("0x127")][_0x27ab("0xc05")]={box3:T};var k=T.max.y-T.min.y,S=this.map[_0x27ab("0x33")][_0x27ab("0x223")];E=E[_0x27ab("0x37")]((function(x){return(0,_[_0x27ab("0xb")])({},x)}));for(var M=0;M<E[_0x27ab("0x0")];M++){var R=this.allDataMap[E[M].id],L=R[_0x27ab("0x143")].split(","),H=new(THREE[_0x27ab("0xe7")])(w.x+1*L[0],0+1*L[1],w.z+1*L[2]);E[M][_0x27ab("0xc3")]=H,E[M][_0x27ab("0x49b")]=k*R.scale.y+E[M].position.y-k/2,E[M].isBim=!0,E[M][_0x27ab("0x623")]=1*o,E[M][_0x27ab("0x637")]=R[_0x27ab("0x637")],E[M][_0x27ab("0xa84")]=R[_0x27ab("0xa84")],E[M][_0x27ab("0xc5")]=R.name,E[M][_0x27ab("0xe1")]=esmap.ESNodeType[_0x27ab("0x232")],E[M].ID=E[M].id,E[M].FloorNum=1*n,E[M][_0x27ab("0xeb")]=b,E[M][_0x27ab("0x3d5")]=this[_0x27ab("0x37")].coordThreeToMap(H),S&&(E[M][_0x27ab("0xa84")]=1)}s[_0x27ab("0xae")]={bid:b,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:n,model:t,brothers:E,o3d_:s};var D=E[0][_0x27ab("0xa84")];s[_0x27ab("0xc5")]=_0x27ab("0xc6"),this[_0x27ab("0x9e7")][n][_0x27ab("0x163")](s),D&&this[_0x27ab("0x37")][_0x27ab("0x155")].addObject(s,b)}}this[_0x27ab("0x120a")]++}},{key:_0x27ab("0x11fe"),value:function(x){this[_0x27ab("0x1219")][x[_0x27ab("0x235")]]||(this[_0x27ab("0x1219")][x.model]={}),this.queues[x[_0x27ab("0x235")]][x.fnum]||(this[_0x27ab("0x1219")][x[_0x27ab("0x235")]][x[_0x27ab("0xee")]]=[]),x.rotate||(x.rotate="0,0,0");var a={x:1,y:1,z:1};x[_0x27ab("0x24b")]&&(a.x=x[_0x27ab("0x24b")].x,a.y=x[_0x27ab("0x24b")].y,a.z=x.scale.z),this[_0x27ab("0x1219")][x[_0x27ab("0x235")]][x[_0x27ab("0xee")]][_0x27ab("0x1")]({id:x.id,offset:x[_0x27ab("0x143")],rotate:x[_0x27ab("0xc52")],scale:a,center:{x:x.x,y:x.y}}),this[_0x27ab("0x1207")][x.id]=x}},{key:_0x27ab("0x1236"),value:function(x){var a=this;return new(i[_0x27ab("0xb")])((function(b,_){var e=window[_0x27ab("0xc6d")][_0x27ab("0x317")](x.db,x.version);e[_0x27ab("0xc68")]=function(){a.db=e.db,b(!0)},e[_0x27ab("0x5bc")]=function(){var x=e[_0x27ab("0xc79")];console[_0x27ab("0x257")](x),_(!1)},e[_0x27ab("0x1237")]=function(a){var b=a[_0x27ab("0x295")][_0x27ab("0xc69")];b.objectStoreNames[_0x27ab("0x3b5")](_0x27ab("0x1221"))&&b.deleteObjectStore(_0x27ab("0x1221")),b[_0x27ab("0xc75")][_0x27ab("0x3b5")](_0x27ab("0x120b"))&&b[_0x27ab("0x121e")](_0x27ab("0x120b")),b[_0x27ab("0xc75")][_0x27ab("0x3b5")](_0x27ab("0x121d"))&&b[_0x27ab("0x121e")](_0x27ab("0x121d"));for(var _=0;_<x[_0x27ab("0x1220")][_0x27ab("0x0")];_++){var e=x.collections[_];if("bimDatas"==e)b.createObjectStore(e,{keyPath:"id"})[_0x27ab("0x1238")](_0x27ab("0x1239"),[_0x27ab("0x5de"),_0x27ab("0x123a")],{unique:!1});else if(e==_0x27ab("0x121d")){b.createObjectStore(e,{keyPath:"id"})[_0x27ab("0x1238")]("myIndex",[_0x27ab("0x5de")],{unique:!0})}else if("bimInfos"==e){b[_0x27ab("0xc76")](e,{keyPath:_0x27ab("0x5de")})[_0x27ab("0x1238")]("myIndex",["bids"],{unique:!0})}}}}))}},{key:"IDBTryInit",value:function(x){return new(i[_0x27ab("0xb")])((function(a,b){var _=window[_0x27ab("0xc6d")][_0x27ab("0x317")](x.db,x[_0x27ab("0x79")]);_[_0x27ab("0x1237")]=function(x){var a=x[_0x27ab("0x295")][_0x27ab("0xc69")],b=x[_0x27ab("0x295")].transaction;a[_0x27ab("0xc75")].contains(_0x27ab("0x1221"))?b[_0x27ab("0xc65")]("bimDatas")[_0x27ab("0x69b")]():a[_0x27ab("0xc76")](_0x27ab("0x1221"),{keyPath:"id"})[_0x27ab("0x1238")](_0x27ab("0x1239"),[_0x27ab("0x5de"),"page"],{unique:!1});a[_0x27ab("0xc75")][_0x27ab("0x3b5")](_0x27ab("0x120b"))?b[_0x27ab("0xc65")](_0x27ab("0x120b"))[_0x27ab("0x69b")]():a[_0x27ab("0xc76")](_0x27ab("0x120b"),{keyPath:_0x27ab("0x5de")})[_0x27ab("0x1238")](_0x27ab("0x1239"),["bids"],{unique:!0});a[_0x27ab("0xc75")][_0x27ab("0x3b5")]("bimSets")?b[_0x27ab("0xc65")](_0x27ab("0x121d"))[_0x27ab("0x69b")]():a[_0x27ab("0xc76")](_0x27ab("0x121d"),{keyPath:"id"}).createIndex(_0x27ab("0x1239"),[_0x27ab("0x5de")],{unique:!0})},_[_0x27ab("0xc68")]=function(){var x=_[_0x27ab("0xc69")];a(x)},_[_0x27ab("0x5bc")]=function(){var x=_[_0x27ab("0xc79")];console[_0x27ab("0x257")]("IDBInit Error",x),a(!1)}}))}}]),x}();a[_0x27ab("0xb")]=c},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=c(b(12)),e=c(b(13)),t=c(b(43)),i=c(b(0)),n=c(b(1)),r=b(30),s=c(b(100)),o=(b(55),c(b(24)));function c(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var l=null,f=function(){function x(a){(0,i[_0x27ab("0xb")])(this,x),this[_0x27ab("0x4b")]=a;var b=a[_0x27ab("0x37")].mapScene;this[_0x27ab("0xc1")]=b,this[_0x27ab("0xeba")]={},this[_0x27ab("0x981")]={},this[_0x27ab("0x982")]={},this.modelLineLayers={},this[_0x27ab("0xebc")]={},this.modelImageGeos={},this[_0x27ab("0x987")]={},this.modelMats={},this.dynamicShows={},this.modelImageDatas=[],this[_0x27ab("0x984")]=[],this[_0x27ab("0x98b")]=!1;this[_0x27ab("0xc1")][_0x27ab("0x37")].on(_0x27ab("0xacd"),(function(x){x.level}))}return(0,n[_0x27ab("0xb")])(x,[{key:_0x27ab("0x123b"),value:function(x){var a=this;for(var b in a[_0x27ab("0x988")])if(x>=1*b){if(a[_0x27ab("0x988")][b].visible){for(var _=a[_0x27ab("0x988")][b][_0x27ab("0x989")],e=function(x){var b=_[x][_0x27ab("0x235")][_0x27ab("0xb1")],e=b.groups;b[_0x27ab("0x127")][_0x27ab("0x40d")]=e,b.clearGroups();var t=_[x][_0x27ab("0x123c")],i=[];t[_0x27ab("0x1b")]((function(x){i=a.scene[_0x27ab("0x37")][_0x27ab("0x123d")](x[0],x[1],e),e=i})),i[_0x27ab("0x1b")]((function(x){b[_0x27ab("0x141")](x.start,x[_0x27ab("0xc4")],x[_0x27ab("0x40a")])}));var n=new(THREE[_0x27ab("0x106")]);n.visible=!1,_[x].model[_0x27ab("0xb3")][100]=n},t=0;t<_.length;t++)e(t);a[_0x27ab("0x988")][b].visible=!1}}else if(!a[_0x27ab("0x988")][b][_0x27ab("0xf6")]){var i=a.dynamicShows[b][_0x27ab("0x989")],n=function(x){var a=i[x][_0x27ab("0x235")][_0x27ab("0xb1")];if(!a.userData[_0x27ab("0x40d")])return"continue";a[_0x27ab("0x140")](),a[_0x27ab("0x127")][_0x27ab("0x40d")][_0x27ab("0x1b")]((function(x){a[_0x27ab("0x141")](x.start,x[_0x27ab("0xc4")],x[_0x27ab("0x40a")])}))};for(t=0;t<i[_0x27ab("0x0")];t++){n(t);_0x27ab("0x5e4")}a[_0x27ab("0x988")][b].visible=!0}}},{key:_0x27ab("0x123e"),value:function(x){var a=this.scene,b=this[_0x27ab("0x4b")],_=x[_0x27ab("0x630")],e=x.fnum,t=a[_0x27ab("0x198")],i=b[_0x27ab("0x11d0")](e),n=a.floors_[e],r=x[_0x27ab("0x40d")],s=new esmap.ESLayer(esmap[_0x27ab("0x17d")].FLOOR_BASE);b.type>=100&&(s.visible=!1),i[_0x27ab("0x163")](s[_0x27ab("0xaf")]);var o=Math[_0x27ab("0x33f")](a[_0x27ab("0x37")][_0x27ab("0x175")].sourceData.maxX-a[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x17a")][_0x27ab("0x446")],a[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0x17a")].maxY-a.map[_0x27ab("0x175")][_0x27ab("0x17a")][_0x27ab("0x447")]);for(var c in o>1e3&&o/300,_){var l=t.floorStyleBase[e];null==l&&(l=t[_0x27ab("0xdfe")][0]);var f=t.floorColor_,u=a[_0x27ab("0x198")].floorOpacity_,d=null,h=null;l&&((l[_0x27ab("0x107")]||0===l[_0x27ab("0x107")])&&(f=l.color),(l[_0x27ab("0x103")]||0===l.opacity)&&(u=l[_0x27ab("0x103")]),l[_0x27ab("0x187")]&&(d=l[_0x27ab("0x187")],h=l.imagesize)),n[_0x27ab("0x187")]&&(d=n[_0x27ab("0x187")],h=n[_0x27ab("0x4a0")]);var g=new THREE.BufferGeometry;g[_0x27ab("0x1b0")]("position",new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0xa6e")],3)),g[_0x27ab("0x1b0")]("normal",new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0x123f")],3)),g[_0x27ab("0x1b0")]("uv",new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0xecb")],2)),g[_0x27ab("0x1b0")]("floorUvs",new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0x918")],2));var v=new(THREE[_0x27ab("0xdc9")])({color:f,transparent:1*u!=1,opacity:u}),p=new(THREE[_0x27ab("0x106")])({color:f,transparent:1*u!=1,opacity:u}),A=new THREE.Mesh(g,[v]);A.rotation.set(Math.PI/2,0,0,"XYZ"),A[_0x27ab("0xc3")][_0x27ab("0x844")](esmap.ESMapConfiguration[_0x27ab("0x1240")]),A[_0x27ab("0x133")]=10,A[_0x27ab("0xae")]={floor:e,FloorNum:e,nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0xa8b")],o3d_:A,bid:b.id,bType:2};var m=[],C=0;if(r[0].forEach((function(x){var a=0;x[_0x27ab("0x1b")]((function(x){m[_0x27ab("0x1")]({start:x[_0x27ab("0x1d5")]+C,count:x.count,materialIndex:x[_0x27ab("0x40a")]}),a+=x[_0x27ab("0xc4")]})),C+=a})),d&&d[_0x27ab("0x0")]>1){var I=h[_0x27ab("0x28")](","),y=[Number(I[0]),Number(I[1])];A.material=[p];var E=A[_0x27ab("0xb3")][0],w=E[_0x27ab("0xe2")]();try{var T;!function(){var x=function(x,b){var _=b[_0x27ab("0xe0e")][_0x27ab("0x37")][_0x27ab("0xe2")]();_[_0x27ab("0x14f")]=_[_0x27ab("0x151")]=THREE.RepeatWrapping,_[_0x27ab("0x14c")]=a[_0x27ab("0x37")][_0x27ab("0x614")][_0x27ab("0x68c")][_0x27ab("0xc80")][_0x27ab("0xc85")](),_[_0x27ab("0x84e")]=1006,_[_0x27ab("0x14d")]=1008;var e=a[_0x27ab("0x37")].floorEdges[x],t=(e[_0x27ab("0xb5")]-e[_0x27ab("0xb9")])/2+e[_0x27ab("0xb9")],i=(e.maxy-e[_0x27ab("0xba")])/2+e.miny;Math[_0x27ab("0x274")](t),Math[_0x27ab("0x274")](a[_0x27ab("0x1ab")]),a.sceneZ_;Math[_0x27ab("0x274")](a.sceneX_),Math[_0x27ab("0x274")](a[_0x27ab("0x1ac")]);var n=I[2]*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")];_.offset[_0x27ab("0x123")](0,0),_[_0x27ab("0xed")].set(.5,.5),_[_0x27ab("0x11d")][_0x27ab("0x123")](y[0],y[1]),_[_0x27ab("0x1b1")]=isNaN(n)?0:n,E[_0x27ab("0x37")]=_,E[_0x27ab("0x107")][_0x27ab("0x123")](16777215),_[_0x27ab("0x146")]=!0,E[_0x27ab("0x146")]=!0;var r=[E,w];m.forEach((function(x){g[_0x27ab("0x141")](x[_0x27ab("0x1d5")],x[_0x27ab("0xc4")],x[_0x27ab("0x40a")])})),A[_0x27ab("0xb3")]=r},b=d[_0x27ab("0x111")](_0x27ab("0xe00"),""),_=t[_0x27ab("0x1241")][b][_0x27ab("0xe0e")];if(T=_?_[_0x27ab("0x37")]:null,!(_&&T&&T[_0x27ab("0x187")]))throw a[_0x27ab("0x37")].on(_0x27ab("0x1242"),(function(a){a.id==b&&x(e,a)})),new Error(_0x27ab("0x1243"));x(e,{material_:_})}()}catch(x){g.clearGroups(),g[_0x27ab("0x141")](0,g[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],0)}}else g[_0x27ab("0x141")](0,g.attributes[_0x27ab("0xc3")][_0x27ab("0xc4")],0);g[_0x27ab("0x127")].groups=m,s.o3d_[_0x27ab("0x163")](A),a.map.mapPicker[_0x27ab("0x1244")](A),a.map.emit(_0x27ab("0x11ea"),{fnum:e,type:_0x27ab("0x1245")})}b.toLoaded[e].floorBase--,b[_0x27ab("0x171")](e),x[_0x27ab("0x123f")]=null,x[_0x27ab("0xecb")]=null,x[_0x27ab("0x1246")]=null,x.vertices=null,x[_0x27ab("0x630")]=null,x=null}},{key:_0x27ab("0xeb5"),value:function(x){var a=this.building,b=this.scene,_=a.id,e=a[_0x27ab("0x6a")],t=b.mapTheme_[_0x27ab("0xdf8")][e],i=x[_0x27ab("0x630")],n=x[_0x27ab("0xee")],r=a[_0x27ab("0x11d0")](n),s=a[_0x27ab("0x100d")][n],c=(a.options[_0x27ab("0x6b")],x[_0x27ab("0x40d")]),l=new esmap.ESLayer(esmap.ESLayerType[_0x27ab("0xf50")]);r[_0x27ab("0x163")](l[_0x27ab("0xaf")]),a[_0x27ab("0x70")]>=100&&(l[_0x27ab("0xf6")]=!1);var f,u=a[_0x27ab("0x17a")],d=b[_0x27ab("0x37")].options[_0x27ab("0x9c2")],h=Math[_0x27ab("0x33f")](u[_0x27ab("0x448")]-u.minX,u[_0x27ab("0x449")]-u[_0x27ab("0x447")]),g=0;for(var v in h>1e3&&(g=h/300),b.map.on(_0x27ab("0x1247"),(function(x){var a=-x/2.95*g;l.o3d_&&(l[_0x27ab("0xaf")][_0x27ab("0xc3")].y=a)})),i){var p=t.floorStyleBase[n];null==p&&(p=t[_0x27ab("0xdfe")][0]);var A=t[_0x27ab("0xdbc")],m=b.mapTheme_[_0x27ab("0xe10")],C=null,I=null;p&&((p[_0x27ab("0x107")]||0===p.color)&&(A=p[_0x27ab("0x107")]),(p[_0x27ab("0x103")]||0===p[_0x27ab("0x103")])&&(m=p[_0x27ab("0x103")]),p[_0x27ab("0x187")]&&(C=p[_0x27ab("0x187")],I=p[_0x27ab("0x4a0")])),s[_0x27ab("0x187")]&&(C=s.image,I=s[_0x27ab("0x4a0")]);var y=new(THREE[_0x27ab("0x1ad")]);y[_0x27ab("0x1b0")](_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0xa6e")],3)),y[_0x27ab("0x1b0")](_0x27ab("0xff"),new THREE.BufferAttribute(x[_0x27ab("0x123f")],3)),y[_0x27ab("0x1b0")]("uv",new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0xecb")],2)),y[_0x27ab("0x1b0")](_0x27ab("0x918"),new THREE.BufferAttribute(x[_0x27ab("0x918")],2));var E=new(THREE[_0x27ab("0xdc9")])({color:A,transparent:1*m!=1,opacity:m}),w=new(THREE[_0x27ab("0x159")])(y,[E]);w[_0x27ab("0x1b1")][_0x27ab("0x123")](Math.PI/2,0,0,_0x27ab("0x1b2")),w[_0x27ab("0xc3")].setY(esmap[_0x27ab("0x58c")].EXTENT_EPSILON_Y),w[_0x27ab("0x133")]=10,w[_0x27ab("0xae")]={floor:n,FloorNum:n,bid:_,nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0xa8b")],bType:2},d&&(E[_0x27ab("0xf6")]=!1);var T=[],k=0;if(c[0][_0x27ab("0x1b")]((function(x){var a=0;x[_0x27ab("0x1b")]((function(x){T[_0x27ab("0x1")]({start:x[_0x27ab("0x1d5")]+k,count:x[_0x27ab("0xc4")],materialIndex:x[_0x27ab("0x40a")]}),a+=x[_0x27ab("0xc4")]})),k+=a})),C&&C[_0x27ab("0x0")]>1){var S=I.split(","),M=[Number(S[0]),Number(S[1])],R=w[_0x27ab("0xb3")][0],L=R[_0x27ab("0xe2")]();try{f=void 0,f=o.default.getPath("buildingThemeAsset",{themeID:e,filename:C}),esmap.ESMapUtil.loadTexture(f,(function(x){!function(x,_){_[_0x27ab("0x14f")]=_[_0x27ab("0x151")]=THREE[_0x27ab("0x150")],_.anisotropy=b.map[_0x27ab("0x614")].renderer[_0x27ab("0xc80")][_0x27ab("0xc85")](),_[_0x27ab("0x84e")]=1006,_[_0x27ab("0x14d")]=1008;var e=a[_0x27ab("0x8f4")][x],t=(e[_0x27ab("0xb5")]-e[_0x27ab("0xb9")])/2+e[_0x27ab("0xb9")],i=(e[_0x27ab("0xbb")],e[_0x27ab("0xba")],e[_0x27ab("0xba")],a.sourceData[_0x27ab("0x444")]),n=a.sourceData[_0x27ab("0x45f")];Math.abs(t),Math[_0x27ab("0x274")](i),Math[_0x27ab("0x274")](i),Math[_0x27ab("0x274")](n);var r=S[2]*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")];_[_0x27ab("0x143")].set(0,0),_[_0x27ab("0xed")][_0x27ab("0x123")](.5,.5),_[_0x27ab("0x11d")][_0x27ab("0x123")](M[0],M[1]),_[_0x27ab("0x1b1")]=isNaN(r)?0:r,R[_0x27ab("0x37")]=_,R.color[_0x27ab("0x123")](16777215),_[_0x27ab("0x146")]=!0,R[_0x27ab("0x146")]=!0;var s=[R,L];T.forEach((function(x){y[_0x27ab("0x141")](x[_0x27ab("0x1d5")],x[_0x27ab("0xc4")],x.materialIndex)})),d&&(s[_0x27ab("0xf6")]=!1),w.material=s}(n,x)}),null,(function(){y[_0x27ab("0x140")](),y[_0x27ab("0x141")](0,y[_0x27ab("0xc2")][_0x27ab("0xc3")].count,0)}))}catch(x){y[_0x27ab("0x140")](),y[_0x27ab("0x141")](0,y[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],0)}}else y[_0x27ab("0x141")](0,y.attributes.position.count,0);y[_0x27ab("0x127")][_0x27ab("0x40d")]=T,l.o3d_[_0x27ab("0x163")](w),!b[_0x27ab("0x37")].options.disableIndoorClick&&b.map[_0x27ab("0x155")].addObject(w,_),b.map.fire(_0x27ab("0x11ea"),{fnum:n,type:"extent"})}a[_0x27ab("0xc09")][n][_0x27ab("0x592")]--,a[_0x27ab("0x171")](n),x[_0x27ab("0x123f")]=null,x[_0x27ab("0xecb")]=null,x[_0x27ab("0x1246")]=null,x[_0x27ab("0xa6e")]=null,x[_0x27ab("0x630")]=null,x=null}},{key:_0x27ab("0x1248"),value:function(x){for(var a=0;a<x[_0x27ab("0x0")];a++){var b=x[a],_=x[a+1];_&&b[1]==_[0]&&(x[a][1]=_[1],x.splice(a+1,1),a--)}}},{key:_0x27ab("0xeb6"),value:function(x){var a=this,b=this[_0x27ab("0xc1")],_=x[_0x27ab("0xee")],e=this[_0x27ab("0x4b")],i=e.id,n=e.themeID,s=(b.mapTheme_[_0x27ab("0xdf8")][n],x[_0x27ab("0xeb4")]),o=null,c=x[_0x27ab("0x40d")],l=e[_0x27ab("0x11d0")](_);if(x.types&&l){if(s)if(this.modelLayers[_])o=this[_0x27ab("0xeba")][_];else{var f=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0x639")],{});this.modelLayers[_]=f,l[_0x27ab("0x163")](f[_0x27ab("0xaf")]),o=f}else if(this[_0x27ab("0x981")][_])o=this[_0x27ab("0x981")][_];else{var u=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")].MODEL_BASE,{});this[_0x27ab("0x981")][_]=u,l[_0x27ab("0x163")](u.o3d_),o=u}if(o[_0x27ab("0xaf")]){var d=e[_0x27ab("0x17a")],h=d.maptime<32503514?d[_0x27ab("0x455")]:d.maptime/1e3;if(!((new Date)[_0x27ab("0x7c")]()>1e6*h)){var g,v,p=x[_0x27ab("0x630")],A=x[_0x27ab("0xea5")],m=0,C={points:x[_0x27ab("0x1246")],types:{},fnum:_},I=[];for(var y in p){var E=p[y],w=c[y];if(E){var T=y;if(0!=E.brothers.length||E[_0x27ab("0x1249")]||E.tubes){T=1==E[_0x27ab("0x342")][_0x27ab("0x0")]?E[_0x27ab("0x342")][0][_0x27ab("0x623")]:E[_0x27ab("0x1249")]&&E[_0x27ab("0x1249")][_0x27ab("0x342")][_0x27ab("0x0")]>0?E[_0x27ab("0x1249")][_0x27ab("0x342")][0][_0x27ab("0x623")]:E.tubes&&E[_0x27ab("0x124a")][_0x27ab("0x342")][_0x27ab("0x0")]>0?E[_0x27ab("0x124a")].brothers[0].RoomStyle:E[_0x27ab("0x342")][0][_0x27ab("0x623")];var k=b[_0x27ab("0x198")][_0x27ab("0xe09")](n,T,""),S={},M=b[_0x27ab("0x198")][_0x27ab("0xe07")](n,T);if(S[_0x27ab("0x468")]=T,S[_0x27ab("0xec1")]=M,S.id=x[_0x27ab("0x124b")]?T:y,S[_0x27ab("0xec7")]=E[_0x27ab("0xec2")],C[_0x27ab("0x630")][y]=S,E[_0x27ab("0xec2")],0!=E[_0x27ab("0x342")][_0x27ab("0x0")]){var R,L,H=[],D=new THREE.BufferGeometry,P=x.vertices[_0x27ab("0x55d")](3*m,3*(m+E[_0x27ab("0xec7")])),O=x[_0x27ab("0x123f")][_0x27ab("0x55d")](3*m,3*(E.groupIndex+m));x[_0x27ab("0x9ea")]&&(R=x[_0x27ab("0x9ea")][_0x27ab("0x55d")](m,m+E[_0x27ab("0xec7")])),x.isSelectFlags&&(L=x[_0x27ab("0xa22")][_0x27ab("0x55d")](m,m+E[_0x27ab("0xec7")]));var B=x[_0x27ab("0xecb")][_0x27ab("0x55d")](2*m,2*(E.groupIndex+m));if(D[_0x27ab("0x1b0")]("position",new(THREE[_0x27ab("0x3fd")])(P,3)),D.addAttribute(_0x27ab("0xff"),new(THREE[_0x27ab("0x3fd")])(O,3)),D[_0x27ab("0x1b0")]("uv",new(THREE[_0x27ab("0x3fd")])(B,2)),R&&D[_0x27ab("0x1b0")]("isHideFlags",new(THREE[_0x27ab("0x3fd")])(R,1)),L&&D[_0x27ab("0x1b0")](_0x27ab("0xa22"),new(THREE[_0x27ab("0x3fd")])(L,1)),x[_0x27ab("0x124c")]){var N=x.normalizeUvs.subarray(2*m,2*(E[_0x27ab("0xec7")]+m));D.addAttribute(_0x27ab("0x558"),new THREE.BufferAttribute(N,2))}D[_0x27ab("0x127")].groupInfo=w,H[_0x27ab("0x1")](k),k.name=_0x27ab("0x184"),m+=E[_0x27ab("0xec7")],b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xbf2")]?D.addGroup(0,D[_0x27ab("0xc2")][_0x27ab("0xc3")].count,0):D[_0x27ab("0x141")](0,D[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],0);var F=new THREE.Mesh(D,H);null!=b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x220")]?b.map.options.hideRoomLogoMeshes&&999==T&&(F[_0x27ab("0xf6")]=!1,F[_0x27ab("0xb1")][_0x27ab("0x140")](),F[_0x27ab("0xb1")].drawRange.count=0):999!=T||b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")]||(F[_0x27ab("0xf6")]=!1,F[_0x27ab("0xb1")][_0x27ab("0x140")](),F[_0x27ab("0xb1")][_0x27ab("0x8c3")][_0x27ab("0xc4")]=0),F.userData[_0x27ab("0xa21")]=H[_0x27ab("0x0")]-1,F[_0x27ab("0x1b1")][_0x27ab("0x123")](Math.PI/2,0,0,_0x27ab("0x1b2")),F[_0x27ab("0xae")]={FloorNum:_,brothers:E[_0x27ab("0x342")],RoomStyle:T,o3d_:F,nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0x639")],bid:e.id,bType:2},F[_0x27ab("0xc5")]=T,b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xbf2")]||(F.datas_[_0x27ab("0xc5")]=E[_0x27ab("0x342")][0].name,F[_0x27ab("0xae")][_0x27ab("0x622")]=E[_0x27ab("0x342")][0][_0x27ab("0x622")],F.datas_[_0x27ab("0x19c")]=E.brothers[0][_0x27ab("0x19c")],F[_0x27ab("0xae")].TextureType=E[_0x27ab("0x342")][0].TextureType,F[_0x27ab("0xae")][_0x27ab("0x5e2")]=E[_0x27ab("0x342")][0][_0x27ab("0x5e2")],F.datas_.mapCoord=E[_0x27ab("0x342")][0][_0x27ab("0x3d5")]);var z={};E[_0x27ab("0x342")].forEach((function(x){var _=b.map.transformCoord({from:b[_0x27ab("0x37")].coordSystem,to:b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")],coord:x[_0x27ab("0x3d5")]});x[_0x27ab("0x190")]=2,x.o3d_=F,x[_0x27ab("0x3d5")]=_,x.ID;var e=D[_0x27ab("0x127")][_0x27ab("0xedb")][x.ID][1];x[_0x27ab("0x344")]=[e.start,e[_0x27ab("0x1d5")]+e[_0x27ab("0xc4")]],x[_0x27ab("0xd45")]>=3&&(a.modelTextureMeshs[x.ID]=F);var t=x[_0x27ab("0x19c")];0!=t&&24!=t&&(z[t]||(z[t]={model:F,excludes:[]}),z[t][_0x27ab("0x123c")][_0x27ab("0x1")](x.faceRange),a[_0x27ab("0x1248")](z[t].excludes))})),I[_0x27ab("0x1")](z),F[_0x27ab("0xb0f")]=!1,1==s?F[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x235")]:F.renderOrder=esmap.ESRenderOrder[_0x27ab("0x235")],o[_0x27ab("0xaf")].add(F),(A||x.layerType)&&!b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xc04")]&&b[_0x27ab("0x37")][_0x27ab("0x155")].addObject(F,i)}var j=p[y][_0x27ab("0x1249")];if(j&&0!=j[_0x27ab("0x342")][_0x27ab("0x0")]){var U=[k],X=[];j[_0x27ab("0x124d")][_0x27ab("0x1b")]((function(x){X.push(x[_0x27ab("0xb1")])}));for(var Y=r[_0x27ab("0x3fc")][_0x27ab("0x56d")](X,!0),G=Y[_0x27ab("0x40d")],Q=0;Q<G.length;Q++)G[Q].materialIndex=0;Y[_0x27ab("0x140")](),Y[_0x27ab("0x141")](0,Y[_0x27ab("0x300")][_0x27ab("0xc4")],0);var V=new(THREE[_0x27ab("0x159")])(Y,U);V.name=_0x27ab("0xe6"),V[_0x27ab("0x127")][_0x27ab("0xa21")]=U[_0x27ab("0x0")]-1,V[_0x27ab("0x1b1")].set(Math.PI/2,0,0,_0x27ab("0x1b2")),V[_0x27ab("0x127")].groups=G;for(var W=0;W<j[_0x27ab("0x342")].length;W++){var Z=j.brothers[W];j[_0x27ab("0x342")][W][_0x27ab("0xaf")]=V,Z.ID,Z[_0x27ab("0xd45")]>=3&&(a[_0x27ab("0x987")][Z.ID]=V,Z[_0x27ab("0x344")]=[0,0]);var J=b[_0x27ab("0x37")][_0x27ab("0x199")]({from:b[_0x27ab("0x37")][_0x27ab("0x192")],to:b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x1f7")],coord:Z[_0x27ab("0x3d5")]});Z[_0x27ab("0x190")]=2,Z[_0x27ab("0x3d5")]=J}V[_0x27ab("0xae")]={FloorNum:_,bid:e.id,brothers:j.brothers,o3d_:F,nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0x639")],bType:2},V[_0x27ab("0xb0f")]=!1,V[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x235")],null!=b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x220")]?b[_0x27ab("0x37")][_0x27ab("0x33")].hideRoomLogoMeshes&&999==T&&(V[_0x27ab("0xf6")]=!1,modelMmodelMesh2esh[_0x27ab("0xb1")][_0x27ab("0x140")](),V[_0x27ab("0xb1")][_0x27ab("0x8c3")][_0x27ab("0xc4")]=0):999!=T||b[_0x27ab("0x37")].options[_0x27ab("0x223")]||(V[_0x27ab("0xf6")]=!1,V[_0x27ab("0xb1")].clearGroups(),V[_0x27ab("0xb1")][_0x27ab("0x8c3")].count=0),o[_0x27ab("0xaf")][_0x27ab("0x163")](V),(A||x[_0x27ab("0xeb4")])&&!b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xc04")]&&b[_0x27ab("0x37")][_0x27ab("0x155")][_0x27ab("0x1bb")](V,i)}var K=p[y][_0x27ab("0x124a")];if(K&&K.brothers[_0x27ab("0x0")]>0){var q=[k],$=p[y][_0x27ab("0x124e")],xx=new(THREE[_0x27ab("0x1ad")]);xx[_0x27ab("0x85e")](new(THREE[_0x27ab("0x3fd")])($.index[_0x27ab("0x1ae")],1)),xx[_0x27ab("0x1b0")](_0x27ab("0xc3"),new(THREE[_0x27ab("0x3fd")])($[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0x1ae")],3)),xx[_0x27ab("0x1b0")](_0x27ab("0xff"),new THREE.BufferAttribute($.attributes[_0x27ab("0xff")][_0x27ab("0x1ae")],3)),xx.addAttribute("uv",new THREE.BufferAttribute($[_0x27ab("0xc2")].uv[_0x27ab("0x1ae")],2)),xx[_0x27ab("0x140")](),xx[_0x27ab("0x141")](0,xx[_0x27ab("0x300")][_0x27ab("0xc4")],0);for(var ax=new(THREE[_0x27ab("0x159")])(xx,q),bx=0;bx<K[_0x27ab("0x342")].length;bx++)K[_0x27ab("0x342")][bx][_0x27ab("0xaf")]=ax;ax.datas_={name:_0x27ab("0x124f"),nodeType:5,brothers:K[_0x27ab("0x342")],o3d_:ax,bid:e.id,bType:2},!b[_0x27ab("0x37")].options.disableIndoorClick&&b[_0x27ab("0x37")].mapPicker[_0x27ab("0x1bb")](ax,i),o[_0x27ab("0xaf")][_0x27ab("0x163")](ax)}}}}if(e[_0x27ab("0x33")][_0x27ab("0xdf3")]||b[_0x27ab("0x37")][_0x27ab("0xfc")][_0x27ab("0xdf8")][e[_0x27ab("0x6a")]][_0x27ab("0xdf3")]){var _x=this.drawOutline(C,x[_0x27ab("0x124b")]);I[_0x27ab("0x1b")]((function(x){for(var b in x)a[_0x27ab("0x988")][b]||(a.dynamicShows[b]={queue:[],visible:!0}),x[b].line=_x,a.dynamicShows[b].queue[_0x27ab("0x1")](x[b])}))}if(!this[_0x27ab("0xebc")][_]){this[_0x27ab("0xebc")][_]={};var ex=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")][_0x27ab("0xf32")],{});l[_0x27ab("0x163")](ex[_0x27ab("0xaf")]);var tx=new(esmap[_0x27ab("0x17c")])(esmap[_0x27ab("0x17d")].MODEL3D);tx[_0x27ab("0xc5")]="mapmodel3ds",l[_0x27ab("0x163")](tx.o3d_),this.toHandle[_][_0x27ab("0x1250")]=ex,this[_0x27ab("0xebc")][_][_0x27ab("0xed6")]=tx,this[_0x27ab("0xebc")][_][_0x27ab("0xebf")]=[],this[_0x27ab("0xebc")][_][_0x27ab("0x986")]=[],this[_0x27ab("0xebc")][_][_0x27ab("0x1251")]={},this[_0x27ab("0xebc")][_].bimModelDatas=[],this[_0x27ab("0x1252")][_]=[]}if(x[_0x27ab("0x1253")])(g=this[_0x27ab("0x983")]).push[_0x27ab("0x5")](g,(0,t[_0x27ab("0xb")])(x[_0x27ab("0x1253")]));if(x[_0x27ab("0x1254")]&&(this.toHandle[_][_0x27ab("0x1255")]=this.toHandle[_].bimModelDatas[_0x27ab("0x1ec")](x[_0x27ab("0x1254")])),x[_0x27ab("0x1256")])if(b[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0xbf2")])(v=this[_0x27ab("0x984")]).push[_0x27ab("0x5")](v,(0,t[_0x27ab("0xb")])(x[_0x27ab("0x1256")]));else this[_0x27ab("0x984")][_0x27ab("0x1")](x.modelTexturesData);if(this.toHandle[_][_0x27ab("0xebf")]=this[_0x27ab("0xebc")][_].model3data.concat(x[_0x27ab("0xec0")]),0!=x[_0x27ab("0x1257")][_0x27ab("0x0")]){var ix=new THREE.BufferGeometry;ix[_0x27ab("0x1b0")]("position",new THREE.BufferAttribute(x[_0x27ab("0x1257")],3)),ix[_0x27ab("0x1b0")](_0x27ab("0xff"),new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0x1258")],3)),ix[_0x27ab("0x1b0")]("uv",new(THREE[_0x27ab("0x3fd")])(x.modelImageUv,2)),ix[_0x27ab("0x85e")](new(THREE[_0x27ab("0x3fd")])(x[_0x27ab("0x1259")],1)),x[_0x27ab("0x125a")].length>0?x.modelImageGroups[_0x27ab("0x1b")]((function(x){ix[_0x27ab("0x141")](x[_0x27ab("0x1d5")],x[_0x27ab("0xc4")],x.materialIndex)})):ix[_0x27ab("0x141")](0,x.modelImageIndex[_0x27ab("0x0")],0),x[_0x27ab("0x124b")]?(ix.userData.id=s,this[_0x27ab("0xebc")][_][_0x27ab("0x986")][s]=ix):(ix[_0x27ab("0x127")].id=x.roomid,this[_0x27ab("0xebc")][_].modelImageGeos.push(ix))}x[_0x27ab("0xeb4")]?e[_0x27ab("0xc09")][_][_0x27ab("0x235")]>0&&e[_0x27ab("0xc09")][_][_0x27ab("0x235")]--:e[_0x27ab("0xc09")][_][_0x27ab("0x597")]>0&&e[_0x27ab("0xc09")][_][_0x27ab("0x597")]--,e[_0x27ab("0x171")](_),x[_0x27ab("0xecb")]=null,x[_0x27ab("0x1246")]=null,x[_0x27ab("0x123f")]=null,x[_0x27ab("0xa6e")]=null,x.types=null,x=null}}}}},{key:_0x27ab("0x125b"),value:function(x){function a(x,a){a.wrapS=a.wrapT=THREE[_0x27ab("0x150")];var b=x[_0x27ab("0xc52")]*THREE[_0x27ab("0x28e")].DEG2RAD;return x[_0x27ab("0x125c")]||a[_0x27ab("0x11d")][_0x27ab("0x123")](x[_0x27ab("0xaf9")][0],x[_0x27ab("0xaf9")][1]),a.offset[_0x27ab("0x123")](x[_0x27ab("0x143")].x,x.offset.y),a[_0x27ab("0x1b1")]=isNaN(b)?0:b,a[_0x27ab("0x146")]=!0,a}var b=this[_0x27ab("0xc1")],_=void 0,e=x[0].id,t=x[0].RS,i=this.building[_0x27ab("0x6a")],n=1*b[_0x27ab("0x198")][_0x27ab("0xe07")](i,t)[_0x27ab("0xe8")],r=this[_0x27ab("0x987")][e];if(r){r[_0x27ab("0xb1")][_0x27ab("0xc2")].uv[_0x27ab("0x1ae")],x[0][_0x27ab("0x125c")]&&r[_0x27ab("0xb1")].addAttribute("uv",r[_0x27ab("0xb1")][_0x27ab("0x1af")]("normalizeUv"));var o=b[_0x27ab("0x198")][_0x27ab("0xdf8")][i][_0x27ab("0xdf9")][t]?b[_0x27ab("0x198")][_0x27ab("0xdf8")][i][_0x27ab("0xdf9")][t].color:b[_0x27ab("0x198")][_0x27ab("0xdf8")][i].roomStyle[0].color;o[_0x27ab("0xd1")]("#")<0&&(o=esmap[_0x27ab("0x80")].colorRGB2Hex(o));var c=new(s[_0x27ab("0xb")])({colorStr:o});c[_0x27ab("0x125e")](r),r.userData[_0x27ab("0x125f")]=!0;var l=r.material[0][_0x27ab("0x107")][_0x27ab("0xf8d")]();if(1==x[_0x27ab("0x0")]){var f=x[0],u=b[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0xc4d")][_0x27ab("0xc7c")][f[_0x27ab("0xd4a")]].clone();u=a(f,u);var d=document.createElement("canvas");d[_0x27ab("0x326")]=16,d.height=16;var h=d[_0x27ab("0x8ff")]("2d");h[_0x27ab("0x9fe")]=l,h[_0x27ab("0x922")](0,0,16,16);var g=new THREE.Texture(d);g[_0x27ab("0x146")]=!0,3==f.TextureType?(_=c.createMaterial({topTexture:u,sideTexture:g})).name="topTexture":(_=c[_0x27ab("0x346")]({topTexture:g,sideTexture:u}))[_0x27ab("0xc5")]=_0x27ab("0x348"),_[_0x27ab("0x127")][_0x27ab("0x2bb")]=f,_[_0x27ab("0x146")]=!0,r[_0x27ab("0xb3")]=[_]}else{var v=x[0],p=b.map[_0x27ab("0x175")][_0x27ab("0xc4d")][_0x27ab("0xc7c")][v.RoomLogo].clone();p=a(v,p);var A,m,C=x[1],I=b[_0x27ab("0x37")].mapService[_0x27ab("0xc4d")][_0x27ab("0xc7c")][C[_0x27ab("0xd4a")]][_0x27ab("0xe2")]();I=a(C,I),3==v.TextureType?(A=p,m=I):(A=I,m=p),(_=c[_0x27ab("0x346")]({topTexture:A,sideTexture:m}))[_0x27ab("0x146")]=!0,_[_0x27ab("0xc5")]="doubleTexture",_[_0x27ab("0x127")][_0x27ab("0x2bb")]=v,r[_0x27ab("0xb3")]=[_]}n<1&&(_.transparent=!0,_.opacity=n),r[_0x27ab("0xb1")][_0x27ab("0xc2")].uv[_0x27ab("0x1ae")]}else console[_0x27ab("0x257")](esmap.ESInfo[_0x27ab("0x125d")]+":"+e)}},{key:_0x27ab("0x1260"),value:function(x,a){var b=this,_=b[_0x27ab("0xc1")],e=x[_0x27ab("0xee")],t=this.building,i=_[_0x27ab("0x37")].mapService[_0x27ab("0xc4d")][_0x27ab("0xc7b")][x[_0x27ab("0xd4a")]];_.map[_0x27ab("0x33")][_0x27ab("0x1261")]&&(THREE.Math[_0x27ab("0x1262")](i[_0x27ab("0x187")][_0x27ab("0x326")])&&THREE[_0x27ab("0x28e")].isPowerOfTwo(i.image.height)||(i[_0x27ab("0x14d")]=THREE.NearestFilter,i.generateMipmaps=!1,i.mipmaps.length=0,i[_0x27ab("0x146")]=!0));var n=t[_0x27ab("0x33")][_0x27ab("0xbf2")]?x[_0x27ab("0xeb4")]:x.id,r=b[_0x27ab("0xebc")][e].modelImageMeshs[n].material,s=x[_0x27ab("0x1263")],o=_[_0x27ab("0x37")].options[_0x27ab("0x22b")];if(t.options.mergeModels||(b.toHandle[e][_0x27ab("0x1251")][n][_0x27ab("0xae")][_0x27ab("0x3d5")]={x:x[_0x27ab("0x1d8")].x,y:x.coord.y}),!r[s]){var c=new(THREE[_0x27ab("0x106")])({transparent:!0,side:THREE.DoubleSide,depthWrite:!0,map:i});c[_0x27ab("0xc5")]=x[_0x27ab("0xd4a")],c[_0x27ab("0x127")].imgdata=x,c[_0x27ab("0xc5")].indexOf(_0x27ab("0x1203"))>0?c.transparent=!1:c.alphaTest=o,t[_0x27ab("0x915")]!=e&&t[_0x27ab("0x33")][_0x27ab("0xc06")]&&(c[_0x27ab("0x127")][_0x27ab("0x2a2")]=c[_0x27ab("0x102")],c.userData.opacity=c[_0x27ab("0x103")],c[_0x27ab("0x103")]=t[_0x27ab("0x33")][_0x27ab("0xc07")]),t.options[_0x27ab("0xbf2")]?r[s]=c:(b[_0x27ab("0xebc")][e].modelImageMeshs[n].material[_0x27ab("0x1")](c),b[_0x27ab("0xebc")][e].modelImageMeshs[n][_0x27ab("0xae")][_0x27ab("0x1264")]=x.id,b[_0x27ab("0xebc")][e][_0x27ab("0x1251")][n][_0x27ab("0xae")][_0x27ab("0xd4a")]=x[_0x27ab("0xd4a")])}}},{key:_0x27ab("0xed2"),value:function(){var x,a=(x=(0,e[_0x27ab("0xb")])(_[_0x27ab("0xb")][_0x27ab("0x2b5")]((function x(){var a,e;return _.default[_0x27ab("0x2b6")]((function(x){for(;;)switch(x.prev=x.next){case 0:x.t0=_[_0x27ab("0xb")][_0x27ab("0x5e0")](i[_0x27ab("0x62c")]);case 1:if((x.t1=x.t0()).done){x.next=11;break}if(a=x.t1[_0x27ab("0xf8")],e=i[_0x27ab("0x62c")][a],b[_0x27ab("0xebc")][e]){x[_0x27ab("0x2b8")]=6;break}return x[_0x27ab("0x5e3")](_0x27ab("0x5e4"),1);case 6:n(e),s(e),r(e),x[_0x27ab("0x2b8")]=1;break;case 11:i[_0x27ab("0x70")]>=100&&i[_0x27ab("0x161")][_0x27ab("0x11fb")]();case 12:case _0x27ab("0x2d3"):return x.stop()}}),x,this)}))),function(){return x[_0x27ab("0x5")](this,arguments)}),b=this,t=b.scene,i=this[_0x27ab("0x4b")];function n(x){b[_0x27ab("0xebc")][x][_0x27ab("0x986")][_0x27ab("0x1b")]((function(a,_){var e=new(THREE[_0x27ab("0x159")])(a,[]),t=a[_0x27ab("0x127")].id;e[_0x27ab("0xae")]={nodeType:esmap.ESNodeType.MODEL_IMAGE,o3d_:e,bid:i.id,bType:2},e[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x596")],e[_0x27ab("0x1b1")].set(-Math.PI/2,Math.PI,Math.PI-0*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")],_0x27ab("0xf33")),b[_0x27ab("0xebc")][x][_0x27ab("0x1251")][t]=e,b.toHandle[x][_0x27ab("0x1250")][_0x27ab("0xaf")].add(e)})),b.toHandle[x][_0x27ab("0x986")]=[]}function r(x){var a=b.toHandle[x][_0x27ab("0x1255")],_=[];for(var e in a){var t=a[e];_[_0x27ab("0x1")](b[_0x27ab("0x1265")](t))}for(b[_0x27ab("0xebc")][x].bimModelDatas=[];_.length>0;){var n=_.shift();i[_0x27ab("0x161")][_0x27ab("0x11fc")](n)}}function s(x){var a=b[_0x27ab("0xebc")][x][_0x27ab("0xebf")],_=t[_0x27ab("0x37")].firstPersonMode?t.map[_0x27ab("0x953")].target:t[_0x27ab("0x37")].controls.target,e=[];for(var n in a){var r=b.loadModel(a[n],x);delete b[_0x27ab("0xebc")][x][_0x27ab("0xebf")][n],r&&(r[_0x27ab("0x1bd")]>28?i.modelLoadManager[_0x27ab("0xbf9")](r):(r.viewrank=r.position[_0x27ab("0x301")](_),e[_0x27ab("0x1")](r)))}for(e.sort((function(x,a){return x.viewrank-a.viewrank}));e.length>0;){var s=e.shift();i[_0x27ab("0x161")].addMapModel(s)}i[_0x27ab("0x161")][_0x27ab("0xbee")][x]=!0}a()[_0x27ab("0x312")]((function(){b.modelManagerStarted||(t[_0x27ab("0x37")].on("update",(function(){b.loadImageDatas(),t[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x93a")]?(t.map.firstPersonControls.enabled&&(l=setTimeout((function(){i[_0x27ab("0x161")].queueRanked=!1,i[_0x27ab("0x161")][_0x27ab("0x29f")]=!1,l&&window[_0x27ab("0xacb")](l)}),100)),i[_0x27ab("0x161")].disposeInvisible(),i[_0x27ab("0x161")][_0x27ab("0xc0d")](),i[_0x27ab("0x161")][_0x27ab("0xe9c")]()):(i[_0x27ab("0x161")][_0x27ab("0xc0d")](),i[_0x27ab("0x161")][_0x27ab("0xe9c")]())})),b[_0x27ab("0x98b")]=!0)}))}},{key:_0x27ab("0x1266"),value:function(){var x=this,a=this[_0x27ab("0xc1")];if(x[_0x27ab("0x983")][_0x27ab("0x0")]>0)for(var b=0;b<x[_0x27ab("0x983")][_0x27ab("0x0")];b++){var _=x.modelImageDatas[b],e=a[_0x27ab("0x37")][_0x27ab("0x33")].mergeModels?_.layerType:_.id;a[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0xc4d")][_0x27ab("0xc7b")][_[_0x27ab("0xd4a")]]&&x[_0x27ab("0xebc")][_[_0x27ab("0xee")]][_0x27ab("0x1251")][e]?(x[_0x27ab("0x1260")](_,b),x.modelImageDatas.splice(b,1),b--):null===a[_0x27ab("0x37")][_0x27ab("0x175")][_0x27ab("0xc4d")][_0x27ab("0xc7b")][_[_0x27ab("0xd4a")]]&&(x[_0x27ab("0x983")].splice(b,1),b--)}if(x[_0x27ab("0x984")][_0x27ab("0x0")]>0)for(var t=0;t<x.modelTextureDatas[_0x27ab("0x0")];t++)if(0!=x[_0x27ab("0x984")][t][_0x27ab("0x0")]){for(var i=!0,n=0;n<x[_0x27ab("0x984")][t][_0x27ab("0x0")];n++){var r=x[_0x27ab("0x984")][t][n];if(!a.map.mapService[_0x27ab("0xc4d")][_0x27ab("0xc7c")][r.RoomLogo]){if(null!==a[_0x27ab("0x37")].mapService[_0x27ab("0xc4d")][_0x27ab("0xc7c")][r.RoomLogo]){i=!1;break}x.modelTextureDatas[t][_0x27ab("0x157")](n,1),n--}}i&&x[_0x27ab("0x984")][t][_0x27ab("0x0")]>0&&(x.loadModelTextures(x[_0x27ab("0x984")][t]),x[_0x27ab("0x984")][_0x27ab("0x157")](t,1),t--)}else x[_0x27ab("0x984")][_0x27ab("0x157")](t,1),t--}},{key:"convertBimData",value:function(x){if(x[_0x27ab("0xc3")]={x:-x.x,z:x.y},x[_0x27ab("0xe1")]=6,x[_0x27ab("0x24b")]){var a=x[_0x27ab("0x24b")][_0x27ab("0x28")](",");x[_0x27ab("0x24b")]=new(THREE[_0x27ab("0xe7")])(1*a[0],1*a[1],1*a[2])}else x[_0x27ab("0x24b")]=new(THREE[_0x27ab("0xe7")])(1,1,1);return x.rotation||(x.rotation=new(THREE[_0x27ab("0xe7")])(0,0,0)),x}},{key:_0x27ab("0xed3"),value:function(x,a,b){var _,e=this.scene,t=this[_0x27ab("0x4b")],i=this.building.id,n=(e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x96")],e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")]),r=(e[_0x27ab("0x37")].options[_0x27ab("0x3f")],e[_0x27ab("0x37")][_0x27ab("0xb0a")],_0x27ab("0x76"),x.model.replace(_0x27ab("0x77"),""),_0x27ab("0x77")),s=e.map[_0x27ab("0x33")][_0x27ab("0x228")]==_0x27ab("0x542")&&!e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x223")],c=x[_0x27ab("0x235")][_0x27ab("0x111")](".gltf","");(r=o.default[_0x27ab("0x5f")]("buildingModel",{filename:c,buildingId:i,modeltoken:e.map.__mtn}),b)?_=b:_=this[_0x27ab("0xebc")][a]?this[_0x27ab("0xebc")][a][_0x27ab("0xed6")].o3d_:e[_0x27ab("0x626")][a].datas_[_0x27ab("0x1a3")](esmap[_0x27ab("0x17d")][_0x27ab("0x232")])[0].o3d_;if(e[_0x27ab("0x37")][_0x27ab("0x33")][_0x27ab("0x21e")]&&x[_0x27ab("0x235")]){if(1*x[_0x27ab("0x184")]==3){var l=x[_0x27ab("0xed7")].points.map((function(x){return x.x*=-1,x})),f=x[_0x27ab("0x143")][_0x27ab("0x28")](",")[1];return new(esmap[_0x27ab("0xed8")])({type:"building",useCrst:!1,merge:!0,bid:i,model:x[_0x27ab("0x235")],fnum:a,bclick:!!n,points:l,gid:x[_0x27ab("0xc21")]||0,error:function(x){t[_0x27ab("0xc09")][a][_0x27ab("0x249")]--},created:function(x){t[_0x27ab("0xc09")][a][_0x27ab("0x249")]--},repeatset:1,thickset:1,heightset:1,name:x[_0x27ab("0xc5")],id:x.id,height:1*f})[_0x27ab("0xeb")]=i,null}if(s&&x[_0x27ab("0x235")].indexOf("__singlemesh")>=0){var u=t[_0x27ab("0x161")];return u[_0x27ab("0x2ba")][x.model]||u[_0x27ab("0x320")][x[_0x27ab("0x235")]]||(u[_0x27ab("0x320")][x[_0x27ab("0x235")]]=!0,t[_0x27ab("0x161")][_0x27ab("0x321")](x[_0x27ab("0x235")],r)),!1}var d=new(THREE[_0x27ab("0xe7")])(1,1,1);if(x[_0x27ab("0x24b")]){var h=x[_0x27ab("0x24b")].split(",");d=new THREE.Vector3(parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2]))}var g=0;if(x[_0x27ab("0xc52")]){var v=Math.PI/180,p=x[_0x27ab("0xc52")][_0x27ab("0x28")](",");g=1*p[1];var A=new(THREE[_0x27ab("0x27a")])(parseFloat(p[0])*v,parseFloat(p[1])*v,parseFloat(p[2])*v)}var m=new(THREE[_0x27ab("0xe7")])(x.x,x.y,0),C=new THREE.Vector3(-x.x-e.sceneX_,0,x.y-e[_0x27ab("0x1ac")]);if(x[_0x27ab("0x143")]){var I=x[_0x27ab("0x143")].split(",");C.x+=parseFloat(I[0]),C.y+=parseFloat(I[1]),C.z+=parseFloat(I[2]),m.x-=parseFloat(I[0]),m.z+=parseFloat(I[1]),m.y+=parseFloat(I[2])}x.model.indexOf(".gltf")<0&&(x[_0x27ab("0x235")]+=_0x27ab("0x77"));var y={bid:i,bType:2,rank:x[_0x27ab("0x1bd")],name:x[_0x27ab("0xc5")],dataID:x[_0x27ab("0x637")],model:x[_0x27ab("0x235")],angle:g,mapId:null,url:r,scale:d,gid:x[_0x27ab("0xc21")]||0,rotation:A,position:C,data_:{CenX:x.x,CenY:x.y,scale:x.scale||null,rotate:x[_0x27ab("0xc52")]||null,offset:x[_0x27ab("0x143")]||null},parent:_,id:x.id,bclick:x[_0x27ab("0xa84")],typeID:x.roomdata[_0x27ab("0xd46")],mapCoord:m,callbackparams:x[_0x27ab("0x253")]||null,callback:function(){},fnum:a};return n&&(y[_0x27ab("0xed7")]=x[_0x27ab("0xed7")]),y}}},{key:_0x27ab("0xec3"),value:function(x,a){var b,_=x[_0x27ab("0xee")];x.id;this.modelLineLayers[_]?b=this[_0x27ab("0x985")][_]:((b=new esmap.ESLayer(esmap[_0x27ab("0x17d")][_0x27ab("0xed9")],{}))[_0x27ab("0xc5")]=_0x27ab("0xdf3"),this.building.getO3dFloor(_)[_0x27ab("0x163")](b[_0x27ab("0xaf")]),this[_0x27ab("0x985")][_]=b);var e=x[_0x27ab("0x630")];if(a){var t=new(THREE[_0x27ab("0x1ad")]);t.addAttribute(_0x27ab("0xc3"),new THREE.BufferAttribute(x[_0x27ab("0xec")],3));var i=[],n=0;for(var r in e){var s=e[r][_0x27ab("0xec1")],o={precision:_0x27ab("0xb2c"),color:s.strokeColor_,linewidth:s[_0x27ab("0xde4")]>5?5:s[_0x27ab("0xde4")]},c=new(THREE[_0x27ab("0x1a6")])(o);c[_0x27ab("0xc5")]=r,i.push(c),t[_0x27ab("0x141")](n,e[r][_0x27ab("0xec7")],i[_0x27ab("0x0")]-1),e[r].startIndex=n,n+=e[r][_0x27ab("0xec7")],1*r==999&&(c[_0x27ab("0xf6")]=!1)}var l=new(THREE[_0x27ab("0x867")])(t,i);return l[_0x27ab("0xb0f")]=!1,l[_0x27ab("0xae")]={nodeType:esmap[_0x27ab("0xf1")].LINE,id:1},l[_0x27ab("0x1b1")][_0x27ab("0x123")](Math.PI/2,0,0,_0x27ab("0x1b2")),l[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x135")],l.userData[_0x27ab("0xedb")]=e,b[_0x27ab("0xaf")][_0x27ab("0x163")](l),l}for(var f in e){var u=new(THREE[_0x27ab("0x1ad")]),d=0,h=x[_0x27ab("0xec")][_0x27ab("0x55d")](3*d,3*(d+e[f][_0x27ab("0xec7")]));u[_0x27ab("0x1b0")]("position",new(THREE[_0x27ab("0x3fd")])(h,3));var g=e[f][_0x27ab("0xec1")],v=[],p={precision:"highp",color:g.strokeColor_,linewidth:g[_0x27ab("0xde4")]>5?5:g.strokewidth},A=new(THREE[_0x27ab("0x1a6")])(p);v[_0x27ab("0x1")](A),u[_0x27ab("0x141")](d,e[f].groupIndex,v[_0x27ab("0x0")]-1),d+=e[f][_0x27ab("0xec7")];var m=new(THREE[_0x27ab("0x867")])(u,v);m.castShadow=!1,m.datas_={nodeType:esmap[_0x27ab("0xf1")][_0x27ab("0x1ba")],id:1*e[f].id,bid:this[_0x27ab("0x4b")].id,bType:2},m[_0x27ab("0x1b1")][_0x27ab("0x123")](Math.PI/2,0,0,_0x27ab("0x1b2")),m[_0x27ab("0x133")]=esmap.ESRenderOrder[_0x27ab("0x135")],1*f==999&&(A[_0x27ab("0xf6")]=!1,u[_0x27ab("0x140")](),u[_0x27ab("0x8c3")][_0x27ab("0xc4")]=0),b[_0x27ab("0xaf")][_0x27ab("0x163")](m)}return m}}]),x}();a.default=f},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=n(b(4)),e=n(b(0)),t=n(b(5)),i=n(b(6));function n(x){return x&&x.__esModule?x:{default:x}}var r=function(x){function a(x){(0,e[_0x27ab("0xb")])(this,a);var b=(0,t[_0x27ab("0xb")])(this,(a[_0x27ab("0x1db")]||(0,_[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,esmap[_0x27ab("0xf1")].MODEL3D,{},new(THREE[_0x27ab("0xe8b")])));return b[_0x27ab("0xc21")]=x[_0x27ab("0xc21")]||0,b[_0x27ab("0xaf")].name=_0x27ab("0xc6"),b.name=x[_0x27ab("0xc5")],b.ID=x.id,b[_0x27ab("0x2d5")]=[],b[_0x27ab("0x235")]=x.model||"",b}return(0,i.default)(a,x),a}(esmap[_0x27ab("0xef2")]);a[_0x27ab("0xb")]=r},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,_0x27ab("0xa"),{value:!0});var _=i(b(2)),e=i(b(0)),t=i(b(1));function i(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(a){(0,e[_0x27ab("0xb")])(this,x);var b=(0,_.default)({id:1,bid:0,style:{alpha:.8,lineType:esmap[_0x27ab("0x5b1")][_0x27ab("0xf10")],isMapRoad:0}},a);this[_0x27ab("0xc84")]=esmap[_0x27ab("0x32")][_0x27ab("0xd3")],this.ID=b.id||0,this[_0x27ab("0xc5")]=b[_0x27ab("0xc5")]||"",this.points=b[_0x27ab("0xec")]||[],this[_0x27ab("0xea")]=b[_0x27ab("0xea")]||this[_0x27ab("0xc84")].mapTheme[_0x27ab("0xaf8")],this.o3d_=new(THREE[_0x27ab("0x15b")]),this[_0x27ab("0xaf")][_0x27ab("0xc5")]=_0x27ab("0xc6"),this[_0x27ab("0xaf")][_0x27ab("0xae")]=this,this[_0x27ab("0xe1")]=esmap[_0x27ab("0xf1")][_0x27ab("0xa26")],this[_0x27ab("0x33")]=b}return(0,t[_0x27ab("0xb")])(x,[{key:"setProgress",value:function(x){if(this[_0x27ab("0xea")].lineType==esmap.ESLineType[_0x27ab("0xe5")]){var a=this.style.fixedWidth,b=this[_0x27ab("0xaf")][_0x27ab("0xb0")][0],e={time:.3,percent:1,arrow:this.style[_0x27ab("0x12d")]||!1,onComplete:null};(0,_.default)(e,x),0==e[_0x27ab("0x1267")]&&(e[_0x27ab("0x1267")]=.001);var t=e[_0x27ab("0x1cb")],i=e.percent,n=e[_0x27ab("0x12d")],r=b[_0x27ab("0xb1")][_0x27ab("0x12e")];if(this.style[_0x27ab("0x13f")]==_0x27ab("0x11f")){var s=b[_0x27ab("0xb1")][_0x27ab("0x127")][_0x27ab("0x128")];new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])({value:r}).to({value:i},1e3*t)[_0x27ab("0x1ce")](esmap.TWEEN.Easing.Quadratic[_0x27ab("0x1d4")])[_0x27ab("0x1d2")]((function(){e[_0x27ab("0x1d2")]&&e[_0x27ab("0x1d2")]()}))[_0x27ab("0x137")]((function(x){b[_0x27ab("0xb1")][_0x27ab("0x12b")](b[_0x27ab("0x122")],{radius:s,arrow:n,progress:x[_0x27ab("0xf8")]}),b[_0x27ab("0xb1")].progress=x[_0x27ab("0xf8")],a&&b[_0x27ab("0x13d")]()}))[_0x27ab("0x1d5")]()}else{var o=b[_0x27ab("0xb1")].userData[_0x27ab("0x128")];new(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cd")])({value:r}).to({value:i},1e3*t).easing(esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x1d2")]((function(){e.onComplete&&e[_0x27ab("0x1d2")]()}))[_0x27ab("0x137")]((function(x){b.geometry[_0x27ab("0x12b")](b[_0x27ab("0x122")],{width:o,arrow:n,progress:x[_0x27ab("0xf8")]}),b.geometry.progress=x[_0x27ab("0xf8")],a&&b[_0x27ab("0x13d")]()})).start()}}}},{key:_0x27ab("0x313"),value:function(){this[_0x27ab("0xec")].reverse(),this[_0x27ab("0x1268")](this.points)}},{key:_0x27ab("0x1269"),value:function(x){var a=x[_0x27ab("0x1267")],b=void 0===a?.5:a,_=x[_0x27ab("0x126a")],e=void 0===_||_,t=x.alpha,i=void 0===t?.5:t,n=this[_0x27ab("0xaf")][_0x27ab("0xb0")][0];n&&(n[_0x27ab("0x126b")].splitAlpha={alpha:i,isFront:e},n[_0x27ab("0x10b")]=b,n[_0x27ab("0x126c")]=!0)}},{key:_0x27ab("0x1268"),value:function(x){var a=this.map_[_0x27ab("0x9ce")](x)[0];esmap.ESMapUtil[_0x27ab("0x5fb")](a);var b=void 0,_=this[_0x27ab("0xea")];this[_0x27ab("0xec")]=x,b=_.curvature?esmap.ESMapSceneUtil.buildCurvePoints(a,8,_[_0x27ab("0x9d2")]):a,this[_0x27ab("0xaf")][_0x27ab("0xb0")][0][_0x27ab("0xf9")](b)}},{key:_0x27ab("0x152"),value:function(x){this[_0x27ab("0xaf")].children[0].updateStyle(x)}},{key:_0x27ab("0x126d"),value:function(x){var a=this[_0x27ab("0xaf")][_0x27ab("0xb0")][0];a&&(a[_0x27ab("0xa36")]?a[_0x27ab("0x107")]=x:a.updateColor(x))}},{key:_0x27ab("0x126e"),value:function(x){var a={height:5,time:.6};x instanceof Object?a=(0,_.default)(a,x):isNaN(x)||(a[_0x27ab("0x1b7")]=x);var b=this[_0x27ab("0xaf")].children[0],e=b[_0x27ab("0xc3")].y+a[_0x27ab("0x1b7")];this.updateHeightId_&&this.updateHeightId_[_0x27ab("0x1c4")](),this[_0x27ab("0x126f")]=new(esmap[_0x27ab("0x1cc")].Tween)(b[_0x27ab("0xc3")]).to({y:e},1e3*a[_0x27ab("0x1cb")])[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")].Easing[_0x27ab("0x1d0")][_0x27ab("0x1d4")])[_0x27ab("0x1d2")]((function(){}))[_0x27ab("0x1d5")]()}},{key:"progress",get:function(){return this[_0x27ab("0xea")][_0x27ab("0x153")]!=esmap.ESLineType.TEXTURE?1:this.o3d_[_0x27ab("0xb0")][0][_0x27ab("0xb1")].progress}},{key:_0x27ab("0xf6"),set:function(x){this[_0x27ab("0xaf")][_0x27ab("0xf6")]=x},get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xf6")]}}]),x}();a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _=s(b(63)),e=s(b(2)),t=s(b(18)),i=s(b(117)),n=s(b(10)),r=b(19);function s(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var o=function(x,a,b,_){var e=this,t=esmap[_0x27ab("0x32")][_0x27ab("0xd3")];this[_0x27ab("0x60a")]=_0x27ab("0xf0"),esmap[_0x27ab("0x5c3")][_0x27ab("0x3")](this,t[_0x27ab("0x1270")],this),this[_0x27ab("0xee")]=x[0]?x[0][_0x27ab("0xee")]:1;var s=x[_0x27ab("0x37")]((function(x){var a=x[_0x27ab("0xe2")]();return a[_0x27ab("0xee")]=x.fnum,a[_0x27ab("0xeb")]=x[_0x27ab("0xeb")],a}));this.ind_=_,this[_0x27ab("0xec")]=x,this[_0x27ab("0xeb")]=x[0].bid||0,this[_0x27ab("0xee")]=x[0]&&x[0][_0x27ab("0xee")]||1,this.map=t,this[_0x27ab("0xef")]=_0x27ab("0xf0"),this[_0x27ab("0xea")]=a,this[_0x27ab("0x126c")]=!1;var o=a;o.hiddenByFloor=null==o.hiddenByFloor||o[_0x27ab("0xf3")],this[_0x27ab("0x125")]=null!=o[_0x27ab("0x125")]&&o.fixedWidth,this.nodeType=esmap.ESNodeType[_0x27ab("0x1ba")],(b=b||{}).up=b.up||a.up||new THREE.Vector3(0,1,0),this[_0x27ab("0xea")][_0x27ab("0x11d")]=this[_0x27ab("0xea")][_0x27ab("0x11d")]||1,this[_0x27ab("0xea")][_0x27ab("0xaad")]=null==this[_0x27ab("0xea")].updateSize||a[_0x27ab("0xaad")],this.style.updateReapeat=!this[_0x27ab("0xea")][_0x27ab("0xc")]("updateReapeat")||this[_0x27ab("0xea")].updateReapeat,this.style[_0x27ab("0x1271")]=null==this.style[_0x27ab("0x1271")]?23:this.style[_0x27ab("0x1271")],this.style[_0x27ab("0x1272")]=this[_0x27ab("0xea")][_0x27ab("0x1272")]||0,this[_0x27ab("0x126b")]={splitAlpha:null,splitGray:null},this.initUpdated=!1;var c;if(o.color=o[_0x27ab("0xc")](_0x27ab("0x107"))?o[_0x27ab("0x107")]:16711680,(0,n[_0x27ab("0xb")])(o.color)===_0x27ab("0x148"))o[_0x27ab("0x107")]=this[_0x27ab("0x147")](o[_0x27ab("0x107")]);o[_0x27ab("0x5b5")]||(o[_0x27ab("0x5b5")]={size:2,gap:1}),o[_0x27ab("0x70")]="normal",o[_0x27ab("0x13f")]=esmap[_0x27ab("0x5b0")][_0x27ab("0x1273")],_0x27ab("0x12d")!=o[_0x27ab("0x153")]&&_0x27ab("0x1090")!=o[_0x27ab("0x153")]||(o[_0x27ab("0x70")]=o[_0x27ab("0x153")],o.lineMode=esmap[_0x27ab("0x5b0")][_0x27ab("0x1274")]),o.dashArray=o[_0x27ab("0x119")]||o[_0x27ab("0x153")]&&this[_0x27ab("0x1275")](o[_0x27ab("0x153")])||[o[_0x27ab("0x5b5")][_0x27ab("0xaf9")],o[_0x27ab("0x5b5")].gap],o.lineWidth=(0,r[_0x27ab("0x11")])(o,"lineWidth",_0x27ab("0x1b5"),8),o[_0x27ab("0x121")]=(0,r[_0x27ab("0x11")])(o,"lineWidthMeter",0),o[_0x27ab("0x119")]&&(this.textureLength=o[_0x27ab("0x119")][_0x27ab("0xdf")]((function(x,a){return x+a}))),c=this[_0x27ab("0x11a")];var l,f=JSON[_0x27ab("0x68")]((0,i.default)(o));delete f[_0x27ab("0x1b7")],this.naviMap=new(esmap[_0x27ab("0x5d8")])(f),l=this[_0x27ab("0xea")][_0x27ab("0x1b9")]?(new(THREE[_0x27ab("0x14a")]))[_0x27ab("0x14b")](this[_0x27ab("0xea")][_0x27ab("0x1b9")]):new(THREE[_0x27ab("0x42d")])(this.naviMap.canvas),this[_0x27ab("0xea")][_0x27ab("0x1272")]&&(l[_0x27ab("0x143")].y=this[_0x27ab("0xea")][_0x27ab("0x1272")]||0),o[_0x27ab("0x153")]==esmap.ESLineType[_0x27ab("0x105d")]?l[_0x27ab("0x14d")]=THREE[_0x27ab("0x14e")]:l[_0x27ab("0x14d")]=THREE[_0x27ab("0xe0c")],this[_0x27ab("0xea")][_0x27ab("0x1b9")]||(l[_0x27ab("0x146")]=!0);var u=o.lineWidthMeter?o.lineWidth/2:o.lineWidth/16;this[_0x27ab("0x638")]=u;var d=o.up||b.up;this[_0x27ab("0xefa")]=d,this.nocenter=b[_0x27ab("0x1276")]||a[_0x27ab("0x1276")],this[_0x27ab("0x1277")]=o[_0x27ab("0x13f")],this[_0x27ab("0x10b")]=0;var h=new(esmap[_0x27ab("0x1278")])({radius:u,pathVertices:s,uvBaseLen:c,segments:a[_0x27ab("0x642")]||12,up:d,notCenter:this[_0x27ab("0x1279")],lineMode:o[_0x27ab("0x13f")],yScale:o[_0x27ab("0x127a")],smooth:o.smooth,billboard:o.billboard});this[_0x27ab("0x0")]=h.length||0,l[_0x27ab("0x14f")]=l.wrapT=THREE[_0x27ab("0x150")],this[_0x27ab("0x127b")]=Math[_0x27ab("0xbc")](h[_0x27ab("0x0")]/h[_0x27ab("0x127c")]),isNaN(this[_0x27ab("0x127b")])?l[_0x27ab("0x11d")].x=1:l.repeat.x=this.baseRepeatX,l[_0x27ab("0x11d")].y=1,this[_0x27ab("0xea")][_0x27ab("0x1b9")]||(l[_0x27ab("0x146")]=!0);var g=new(THREE[_0x27ab("0x106")]);g.transparent=!0,g[_0x27ab("0x103")]=null==o[_0x27ab("0x103")]?1:o[_0x27ab("0x103")],g.map=l,g[_0x27ab("0x146")]=!0,g[_0x27ab("0xf6")]=!1,this[_0x27ab("0xf6")]=!1,g[_0x27ab("0x91b")]=!0,o[_0x27ab("0x2aa")]&&(g[_0x27ab("0x12f")]=!1),o[_0x27ab("0x127d")]&&(g.depthWrite=!1),this[_0x27ab("0xea")][_0x27ab("0x1b9")]&&(g.color=(new(THREE[_0x27ab("0x108")]))[_0x27ab("0x2ac")](this[_0x27ab("0xea")][_0x27ab("0x107")]));var v=this;this[_0x27ab("0xea")][_0x27ab("0x153")]!==esmap[_0x27ab("0x5b1")][_0x27ab("0xf10")]&&(g[_0x27ab("0x109")]=function(x){x[_0x27ab("0x10a")].passPercent={value:0},x.uniforms.isSectionAlpha={value:!1},x[_0x27ab("0x10a")][_0x27ab("0x127e")]={value:!0},x.uniforms[_0x27ab("0x127f")]={value:0},x[_0x27ab("0x10a")][_0x27ab("0x1280")]={value:0},x[_0x27ab("0x10e")]=x[_0x27ab("0x10e")].replace(_0x27ab("0x10f"),_0x27ab("0x1281")),x[_0x27ab("0x10e")]=x[_0x27ab("0x10e")][_0x27ab("0x111")](_0x27ab("0x112"),_0x27ab("0x1282")),x[_0x27ab("0x113")]=x[_0x27ab("0x113")][_0x27ab("0x111")](_0x27ab("0x1283"),_0x27ab("0x1284")),x[_0x27ab("0x113")]=x[_0x27ab("0x113")][_0x27ab("0x111")](_0x27ab("0x116"),_0x27ab("0x1285")),v[_0x27ab("0x118")]=x}),THREE.Mesh[_0x27ab("0x3")](this,h,g),this[_0x27ab("0xc3")][_0x27ab("0x27d")](h.center),this[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x135")],this[_0x27ab("0x1286")](),this[_0x27ab("0x2f")](_0x27ab("0x25b"),this.dispose),this[_0x27ab("0x1287")]=this[_0x27ab("0x12b")][_0x27ab("0xe")](this),this[_0x27ab("0xb3")][_0x27ab("0x11b")]=o.doubleSide?THREE.DoubleSide:THREE[_0x27ab("0x7e8")],this.map.on(_0x27ab("0x12b"),this[_0x27ab("0x1287")]),this._visibleFloorNumsChanged=this[_0x27ab("0x13b")][_0x27ab("0xe")](this);var p=this.map[_0x27ab("0xf4")](this[_0x27ab("0xeb")]);if(o[_0x27ab("0xf3")]&&(this.map.on("visibleFloorNumsChanged",this[_0x27ab("0xf0c")]),p[_0x27ab("0xf5")][_0x27ab("0xd1")](this.fnum)<0&&(this[_0x27ab("0xf6")]=!1)),this.baseFloorHeight=p[_0x27ab("0x30e")](this[_0x27ab("0xee")]),this[_0x27ab("0x4b")]=p,this[_0x27ab("0xea")][_0x27ab("0x264")]){var A=this[_0x27ab("0xec")][0][_0x27ab("0xeb")],m=this[_0x27ab("0xec")][1][_0x27ab("0xeb")],C=this.map[_0x27ab("0xf4")](A),I=this[_0x27ab("0x37")].getBuildingById(m);C&&C.on(_0x27ab("0xf7"),(function(x){var a=x[_0x27ab("0xee")],b=x.value;a==e[_0x27ab("0xec")][0].fnum&&(e.points[0].y=b),e[_0x27ab("0xf9")](e[_0x27ab("0xec")])})),I&&I.on(_0x27ab("0xf7"),(function(x){var a=x[_0x27ab("0xee")],b=x[_0x27ab("0xf8")];a==e[_0x27ab("0xec")][1].fnum&&(e[_0x27ab("0xec")][1].y=b),e[_0x27ab("0xf9")](e[_0x27ab("0xec")])}))}else p.on("floorHeightChanged",(function(x){var a=x.fnum,b=x[_0x27ab("0xf8")]-e[_0x27ab("0x1288")];a==e[_0x27ab("0xee")]&&(e[_0x27ab("0xc3")].y=e.userData[_0x27ab("0x9cc")]+b)}));var y=new(THREE[_0x27ab("0x159")])(this.geometry,this[_0x27ab("0xb3")]);y[_0x27ab("0x133")]=esmap[_0x27ab("0x134")][_0x27ab("0x1289")],this[_0x27ab("0x163")](y),this[_0x27ab("0xc35")]=y};o[_0x27ab("0x2")]=(0,t.default)(THREE.Mesh.prototype,{height:{get:function(){return this.position.y},set:function(x){this[_0x27ab("0xc3")].y=x}},color:{get:function(){return this[_0x27ab("0xea")].color},set:function(x){"number"==typeof x&&(x=this._colorToStr(x)),this[_0x27ab("0xa36")].update({color:x}),this[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x187")]&&(this[_0x27ab("0xb3")][_0x27ab("0x37")].needsUpdate=!0)}},lineStyle:{get:function(){return this[_0x27ab("0xea")]},set:function(x){this[_0x27ab("0x152")](x)}},alpha:{get:function(){return this.material[_0x27ab("0x103")]},set:function(x){this.material[_0x27ab("0x103")]=x}},lineWidth:{get:function(){return this[_0x27ab("0xea")][_0x27ab("0x120")]},set:function(x){this[_0x27ab("0x152")]({lineWidth:x})}}}),(0,e[_0x27ab("0xb")])(o[_0x27ab("0x2")],esmap[_0x27ab("0x5c3")].prototype,{updateGeometry:function(x){if(this[_0x27ab("0xb0")][0]){this.children[0][_0x27ab("0xb1")][_0x27ab("0xb2")](),this.children[0][_0x27ab("0xb1")][_0x27ab("0xa6e")]=[],this.children[0].geometry[_0x27ab("0xa70")]=!0,this[_0x27ab("0xb0")][0][_0x27ab("0xb1")][_0x27ab("0xf1e")]=!0,this[_0x27ab("0xb1")][_0x27ab("0xb2")](),this[_0x27ab("0xb1")][_0x27ab("0xa6e")]=[],this[_0x27ab("0xb1")][_0x27ab("0xa70")]=!0,this[_0x27ab("0xee")]=x[0][_0x27ab("0xee")];var a=this.style,b=x[_0x27ab("0x37")]((function(x){var a=x.clone();return a[_0x27ab("0xee")]=x[_0x27ab("0xee")],a.bid=x.bid,a})),_=new(esmap[_0x27ab("0x1278")])({radius:this[_0x27ab("0x638")],pathVertices:b,uvBaseLen:this.textureLength,segments:a.segments||12,up:this[_0x27ab("0xefa")],notCenter:this[_0x27ab("0x1279")],lineMode:this[_0x27ab("0x13f")],yScale:a.yScale,smooth:a.smooth,billboard:a[_0x27ab("0x1091")]});this[_0x27ab("0x0")]=_.length,this[_0x27ab("0x127b")]=Math.ceil(_[_0x27ab("0x0")]/_[_0x27ab("0x127c")]),this[_0x27ab("0xb1")]=_,this[_0x27ab("0xb1")].verticesNeedUpdate=!0,this[_0x27ab("0xb1")][_0x27ab("0xf1e")]=!0,this[_0x27ab("0xb0")][0][_0x27ab("0xb1")]=this.geometry,this.children[0][_0x27ab("0xb1")][_0x27ab("0xa70")]=!0,this.children[0][_0x27ab("0xb1")][_0x27ab("0xf1e")]=!0,this.position[_0x27ab("0x27d")](_[_0x27ab("0xed")])}},_colorToStr:function(x){if("number"==typeof x){for(var a=x[_0x27ab("0x2c")](16);a[_0x27ab("0x0")]<6;)a="0"+a;return"#"+a}return x},getDashArrayByLineType:function(x){if(x instanceof Array)return x;switch(x){case esmap.ESLineType[_0x27ab("0xf10")]:return[1,0];case esmap[_0x27ab("0x5b1")][_0x27ab("0xc98")]:return[1,1];case esmap.ESLineType.DOT_DASH:return[2.5,1,.5,1];case esmap[_0x27ab("0x5b1")][_0x27ab("0x128a")]:return[3,1,1.5,1];case esmap[_0x27ab("0x5b1")][_0x27ab("0x128b")]:return[2,1];case esmap.ESLineType[_0x27ab("0x128c")]:return[2.5,.5,.5,.5,.5,.5];case esmap[_0x27ab("0x5b1")][_0x27ab("0x128d")]:return[2.5,.5,.5,.5,.5,.5,.5,.5];case esmap[_0x27ab("0x5b1")][_0x27ab("0x128e")]:return[5,0];case esmap[_0x27ab("0x5b1")][_0x27ab("0x105d")]:return[7,0]}},visibleFloorNumsChanged:function(x){var a=x.bid,b=x.fnums;if(a==this[_0x27ab("0xeb")]){var _=this[_0x27ab("0xee")],e=!0;_0x27ab("0x148")==typeof _?-1==b[_0x27ab("0xd1")](_)&&(e=!1):_ instanceof Array&&_[_0x27ab("0x1b")]((function(x){-1==b.indexOf(x)&&(e=!1)})),this[_0x27ab("0xf6")]=e}},updateStyle:function(x){x[_0x27ab("0x107")]&&"number"==typeof x[_0x27ab("0x107")]&&(x[_0x27ab("0x107")]=this._colorToStr(x[_0x27ab("0x107")])),(0,e[_0x27ab("0xb")])(this[_0x27ab("0xea")],x),this.style[_0x27ab("0x70")]=_0x27ab("0xff"),_0x27ab("0x12d")!=this[_0x27ab("0xea")][_0x27ab("0x153")]&&_0x27ab("0x1090")!=this[_0x27ab("0xea")].lineType||(this.style.type=this[_0x27ab("0xea")][_0x27ab("0x153")]),x.lineType&&!x[_0x27ab("0x119")]&&(this[_0x27ab("0xea")][_0x27ab("0x119")]=this[_0x27ab("0x1275")](x[_0x27ab("0x153")])),delete this[_0x27ab("0xea")][_0x27ab("0x1b7")],this[_0x27ab("0xa36")].update(this[_0x27ab("0xea")]),this._updateMaterialByNaviMap(),this[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x187")]&&(this[_0x27ab("0xb3")][_0x27ab("0x37")].needsUpdate=!0,this[_0x27ab("0x11a")]=this[_0x27ab("0xea")][_0x27ab("0x119")][_0x27ab("0xdf")]((function(x,a){return x+a})),this.brothers&&this[_0x27ab("0x342")].length>0&&this[_0x27ab("0x342")][_0x27ab("0x1b")]((function(a){a.updateStyle(x)})))},_updateMaterialByNaviMap:function(){if(!this.style[_0x27ab("0x1b9")]){var x=this[_0x27ab("0xa36")][_0x27ab("0x128f")];this[_0x27ab("0xb3")].map[_0x27ab("0x143")].y=x[_0x27ab("0x143")],this[_0x27ab("0xb3")].side=(0,r[_0x27ab("0x11")])(x,"side",0)}},_firstUpdate:!0,update:function(x){if(this[_0x27ab("0xb3")]&&this.material.map){this[_0x27ab("0x37")].options.naviLineAnimation&&!this[_0x27ab("0xea")][_0x27ab("0x13e")]&&(this[_0x27ab("0xb3")].map[_0x27ab("0x143")].x-=x*(this.style.dash.speed||this[_0x27ab("0xea")][_0x27ab("0x144")]||1));var a,b=this[_0x27ab("0x37")][_0x27ab("0x614")];b[_0x27ab("0x613")],this.ind_;this[_0x27ab("0xb3")]&&this[_0x27ab("0xb3")][_0x27ab("0x37")]&&(this[_0x27ab("0x118")]&&this.geometry[_0x27ab("0x0")]>0&&(this[_0x27ab("0x126c")]&&(this[_0x27ab("0x126b")][_0x27ab("0x1269")]?(this.lineMaterialShader[_0x27ab("0x10a")][_0x27ab("0x1290")][_0x27ab("0xf8")]=!0,this[_0x27ab("0x118")].uniforms[_0x27ab("0x127f")][_0x27ab("0xf8")]=this[_0x27ab("0x126b")][_0x27ab("0x1269")][_0x27ab("0xe8")],this[_0x27ab("0x118")][_0x27ab("0x10a")][_0x27ab("0x1280")][_0x27ab("0xf8")]=this[_0x27ab("0x126b")][_0x27ab("0x1269")][_0x27ab("0x126a")]?1:0):this[_0x27ab("0x126b")].splitGray,this[_0x27ab("0x126c")]=!1),this[_0x27ab("0x118")][_0x27ab("0x10a")][_0x27ab("0x10b")][_0x27ab("0xf8")]=this[_0x27ab("0x10b")]),this[_0x27ab("0xb3")].map[_0x27ab("0x187")]&&(this[_0x27ab("0xb3")][_0x27ab("0x37")].needsUpdate=!0),this[_0x27ab("0xb3")][_0x27ab("0x146")]=!0),a=esmap[_0x27ab("0x80")].getSpriteScale(this[_0x27ab("0x37")]),this.style[_0x27ab("0xaad")]&&0!=b.h_&&(this.fixedWidth&&this[_0x27ab("0xb1")][_0x27ab("0xa3a")](a*this[_0x27ab("0xea")][_0x27ab("0x120")]*.7),this[_0x27ab("0x1291")](),this[_0x27ab("0x1292")]||(this[_0x27ab("0x1292")]=!0,this[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x11d")].x=this[_0x27ab("0xb1")].length*this[_0x27ab("0xea")][_0x27ab("0x11d")]/(this[_0x27ab("0x11a")]*a*7*1)),this[_0x27ab("0xb3")]&&this[_0x27ab("0x37")][_0x27ab("0x168")]<=this[_0x27ab("0xea")][_0x27ab("0x1271")]&&this[_0x27ab("0xea")][_0x27ab("0x1293")]&&(this[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x11d")].x=this[_0x27ab("0xb1")][_0x27ab("0x0")]*this[_0x27ab("0xea")][_0x27ab("0x11d")]/(this[_0x27ab("0x11a")]*a*7*1)))}},_upVec:new THREE.Vector3(0,1,0),_zVec:new(THREE[_0x27ab("0xe7")])(0,0,1),_billboard:function(){if(this[_0x27ab("0xea")].billboard&&2==this[_0x27ab("0xb1")][_0x27ab("0x1294")].length){var x=this[_0x27ab("0xb1")][_0x27ab("0x1294")],a=x[1].clone().sub(x[0])[_0x27ab("0x2f4")](),b=a.dot(this[_0x27ab("0x1295")]),e=(0,_.default)(b)*this[_0x27ab("0x37")][_0x27ab("0x296")].constraint.getAzimuthalAngle();this[_0x27ab("0x261")][_0x27ab("0x1296")](a,e)}},alwaysShow:esmap[_0x27ab("0x18b")][_0x27ab("0x2")].alwaysShow,picked:function(){},dispose:function(){this[_0x27ab("0x342")]&&this[_0x27ab("0x342")].length>0&&this[_0x27ab("0x342")][_0x27ab("0x1b")]((function(x){x.dispose()})),esmap.ESComponent[_0x27ab("0x2")].dispose[_0x27ab("0x3")](this),this.map.off("update",this._update),this.map[_0x27ab("0x61")](_0x27ab("0x13b"),this[_0x27ab("0xf0c")]),this[_0x27ab("0xc7")]&&this[_0x27ab("0xc7")][_0x27ab("0x158")](this),this[_0x27ab("0xc35")]=null;var x=this[_0x27ab("0xb0")][0];x&&(x[_0x27ab("0xb3")]&&(x[_0x27ab("0xb3")][_0x27ab("0x37")]&&(x[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0xb2")](),x.material.map=null),x.material.dispose(),x[_0x27ab("0xb3")]=void 0),x.geometry&&(x[_0x27ab("0xb1")][_0x27ab("0xb2")](),x.geometry=void 0),this[_0x27ab("0xb0")][0]=null),this[_0x27ab("0xb1")]&&(this.geometry.dispose(),this[_0x27ab("0xb1")]=void 0),this.material&&(this[_0x27ab("0xb3")][_0x27ab("0x37")]&&(this[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0xb2")](),this[_0x27ab("0xb3")][_0x27ab("0x37")]=null),this[_0x27ab("0xb3")][_0x27ab("0xb2")](),this[_0x27ab("0xb3")]=void 0)}}),a[_0x27ab("0xb")]=o},function(x,a,b){"use strict";Object[_0x27ab("0x7")](a,"__esModule",{value:!0});var _,e=b(2),t=(_=e)&&_[_0x27ab("0xa")]?_:{default:_},i=b(19);var n=function(x){(0,t[_0x27ab("0xb")])(this,{type:_0x27ab("0xff"),width:128,height:128,color:_0x27ab("0x1297"),arrowHeightPercent:.4,arrowWidthPercent:.7,arrowPercent:.1,lineType:null,dashArray:[2,1],godHeightPercent:.5,godEdgePercent:.2,godArrowPercent:.3,godColor:_0x27ab("0x105e"),godEdgeColor:_0x27ab("0x1298"),godArrowColor:"#F4FEFB",godArrowXScale:.6,godArrowWidthPercent:.07},x),this.materialInfo={offset:0},this[_0x27ab("0x900")]=document[_0x27ab("0x20")](_0x27ab("0x8fe"))[_0x27ab("0x8ff")]("2d"),this[_0x27ab("0x12b")]()};n.prototype={constructor:n,get canvas(){return this[_0x27ab("0x900")][_0x27ab("0x8fe")]},update:function(x){var a=this;switch((0,t.default)(a,x),a[_0x27ab("0x1299")](),a[_0x27ab("0x900")][_0x27ab("0x8fe")].width=a.width,a[_0x27ab("0x900")][_0x27ab("0x8fe")][_0x27ab("0x1b7")]=a[_0x27ab("0x1b7")],a[_0x27ab("0x70")]){case _0x27ab("0xff"):a[_0x27ab("0x129a")]();break;case _0x27ab("0x12d"):a._drawArrow();break;case _0x27ab("0x1090"):a[_0x27ab("0x129b")]()}},_doColor:function(){var x=this;[_0x27ab("0x107"),_0x27ab("0x129c"),_0x27ab("0x129d"),_0x27ab("0x129e")][_0x27ab("0x1b")]((function(a){"number"==typeof x[a]&&(x[a]=esmap[_0x27ab("0x9d1")][_0x27ab("0x2")]._colorToStr(x[a]))}))},_setMaterialInfo:function(){var x=this;x[_0x27ab("0x128f")][_0x27ab("0x143")]=(0,i[_0x27ab("0x11")])(arguments,0,0),x.materialInfo.side=(0,i.getValues)(arguments,1,0)},_drawNormal:function(){var x=this,a=x.dashArray[_0x27ab("0xdf")]((function(x,a){return x+a})),b=0;x.dashArray.forEach((function(_,e){e%2==0&&(x.ctx[_0x27ab("0x9fe")]=x[_0x27ab("0x107")],x.ctx.fillRect(b/a*x[_0x27ab("0x326")],0,_/a*x[_0x27ab("0x326")],x[_0x27ab("0x1b7")])),b+=_})),x._setMaterialInfo(0)},_drawArrow:function(){var x=this,a=(1-x[_0x27ab("0x129f")])*x[_0x27ab("0x1b7")]/2,b=x[_0x27ab("0x1b7")]*x[_0x27ab("0x129f")];x[_0x27ab("0x900")][_0x27ab("0x908")](),x[_0x27ab("0x900")][_0x27ab("0x26a")](0,a);var _=x[_0x27ab("0x326")]*(x[_0x27ab("0x12a0")]-x[_0x27ab("0x12a1")]);x[_0x27ab("0x900")][_0x27ab("0x564")](_,a),x[_0x27ab("0x900")].lineTo(x[_0x27ab("0x326")]*x.arrowWidthPercent,a+b/2),x.ctx[_0x27ab("0x564")](_,a+b),x[_0x27ab("0x900")][_0x27ab("0x564")](0,a+b),x[_0x27ab("0x900")][_0x27ab("0x564")](x[_0x27ab("0x326")]*x[_0x27ab("0x12a1")],a+b/2),x[_0x27ab("0x900")][_0x27ab("0x90a")](),x[_0x27ab("0x900")][_0x27ab("0x9fe")]=x.color,x[_0x27ab("0x900")][_0x27ab("0x33d")](),x[_0x27ab("0x12a2")](-.25,2)},_drawGodArrow:function(){var x=this;x[_0x27ab("0x900")][_0x27ab("0x9fe")]=x[_0x27ab("0x129d")],x.ctx.fillRect(0,(1-x.godHeightPercent)*x[_0x27ab("0x1b7")]/2,x[_0x27ab("0x326")],x[_0x27ab("0x12a3")]*x.height),x[_0x27ab("0x900")][_0x27ab("0x9fe")]=x[_0x27ab("0x107")];var a=(1-x[_0x27ab("0x12a3")]+x.godEdgePercent)*x[_0x27ab("0x1b7")]/2,b=(x.godHeightPercent-x.godEdgePercent)*x.height;x[_0x27ab("0x900")].fillRect(0,a,x[_0x27ab("0x326")],b),x[_0x27ab("0x900")][_0x27ab("0x9fe")]=_0x27ab("0x12a4"),x[_0x27ab("0x900")][_0x27ab("0xe4e")]=-2,x[_0x27ab("0x900")][_0x27ab("0x906")]=2,x[_0x27ab("0x900")][_0x27ab("0x907")]=4,x[_0x27ab("0x900")][_0x27ab("0x905")]="rgba(0,0,0,0.5)";var _=x[_0x27ab("0x326")]/2,e=x[_0x27ab("0x1b7")]/2,t=x[_0x27ab("0x326")]*x[_0x27ab("0x12a5")],i=x.width*x[_0x27ab("0x12a6")],n=x[_0x27ab("0x326")]*(x.godArrowPercent-x[_0x27ab("0x12a6")])*x[_0x27ab("0x12a7")],r=_-t/2*x.godArrowXScale,s=e-t/2;x[_0x27ab("0x900")][_0x27ab("0x908")](),x[_0x27ab("0x900")][_0x27ab("0x26a")](r,s),x[_0x27ab("0x900")][_0x27ab("0x564")](r+i,s),x[_0x27ab("0x900")][_0x27ab("0x564")](r+i+n,s+t/2),x[_0x27ab("0x900")][_0x27ab("0x564")](r+i,s+t),x[_0x27ab("0x900")][_0x27ab("0x564")](r,s+t),x[_0x27ab("0x900")][_0x27ab("0x564")](r+n,s+t/2),x[_0x27ab("0x900")][_0x27ab("0x90a")](),x[_0x27ab("0x900")].fillStyle=x[_0x27ab("0x129e")],x.ctx.fill(),x[_0x27ab("0x12a2")](-.25,2)}},a[_0x27ab("0xb")]=n},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=o(b(2)),e=o(b(4)),t=o(b(0)),i=o(b(1)),n=o(b(5)),r=o(b(6)),s=b(19);function o(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}function c(x){for(var a,b=[],_=2*Math.PI/x[_0x27ab("0x642")],e=0;e<x[_0x27ab("0x642")];e++){var t=new(THREE[_0x27ab("0xe7")])(0,x[_0x27ab("0x638")]*x.yScale*Math[_0x27ab("0x617")](_*e),x[_0x27ab("0x638")]*Math[_0x27ab("0x649")](_*e));b[_0x27ab("0x1")](t),0==e&&(a=t)}b.push(a);var i,n,r,s,o=x[_0x27ab("0x1294")].length,c=function(x){for(var a=0,b=x[0][_0x27ab("0xe2")](),_=1;_<x[_0x27ab("0x0")];_++)a+=x[_][_0x27ab("0x301")](x[_-1]),b[_0x27ab("0x163")](x[_]);return{length:a,center:b.divideScalar(x[_0x27ab("0x0")])}}(x[_0x27ab("0x1294")]);x.length=c[_0x27ab("0x0")],x[_0x27ab("0xed")]=c[_0x27ab("0xed")],x[_0x27ab("0x1276")]||function(x,a){x[_0x27ab("0x1b")]((function(x){x[_0x27ab("0x2f3")](a)}))}(x[_0x27ab("0x1294")],x[_0x27ab("0xed")]),x.perimeter=2*Math.PI*x[_0x27ab("0x638")];var f,d=0,h=0,g=x.perimeter/x[_0x27ab("0x642")];x[_0x27ab("0x12a8")]=[],u=x.up[_0x27ab("0xe2")](),x._up_=null;for(e=0;e<o;e++){i=0==e?null:x[_0x27ab("0x1294")][e-1],r=e==o-1?null:x[_0x27ab("0x1294")][e+1],s=l(i,n=x[_0x27ab("0x1294")][e],r),x[_0x27ab("0x12a9")]||(x[_0x27ab("0x12a9")]=new(THREE[_0x27ab("0xe7")])(0,1,0)[_0x27ab("0x263")](s)[_0x27ab("0x2f4")]()),e>0&&(d+=n[_0x27ab("0x301")](i)),h=0,x[_0x27ab("0x12aa")][e]=[],n.clone().y=0;for(var v=0;v<b.length;v++){f=b[v][_0x27ab("0xe2")]()[_0x27ab("0x263")](s),x[_0x27ab("0xa6e")][_0x27ab("0x1")](f),x._rings[e][_0x27ab("0x1")](f);var p=(d+0)/x[_0x27ab("0x0")],A=1-h/x.perimeter,m=Math.max(p,A);m>x.maxUvVal&&(x.maxUvVal=m),x[_0x27ab("0x12a8")][_0x27ab("0x1")](new(THREE[_0x27ab("0x569")])(p,A)),h+=g}}}function l(x,a,b){var _,e=x&&x.clone(),t=a[_0x27ab("0xe2")](),i=b&&b[_0x27ab("0xe2")](),n=1,r=null;if(x)if(b){var s=t.clone()[_0x27ab("0x2f3")](e)[_0x27ab("0x2f4")](),o=i[_0x27ab("0x2f3")](t)[_0x27ab("0x2f4")]();r=s[_0x27ab("0x265")](o)/2,n=1/Math[_0x27ab("0x649")](r),n=THREE[_0x27ab("0x28e")][_0x27ab("0x731")](n,1,2),_=s.add(o)[_0x27ab("0x2f4")]()}else _=t[_0x27ab("0x2f3")](e).normalize();else _=i[_0x27ab("0x2f3")](t)[_0x27ab("0x2f4")]();var c=u[_0x27ab("0xe2")](),l=(new THREE.Vector3).crossVectors(_,c)[_0x27ab("0x2f4")](),f=(new(THREE[_0x27ab("0xe7")]))[_0x27ab("0x8a9")](l,_).normalize();u=f.clone(),l.multiplyScalar(n);var d=(new THREE.Matrix4)[_0x27ab("0x12ac")](_,f,l).setPosition(a);return d[_0x27ab("0x26c")]=r,d.vz=l,d}var f=function(x){!x[_0x27ab("0x1294")]||x[_0x27ab("0x1294")][_0x27ab("0x0")]<2||(c(x),function(x){for(var a,b=x.pathVertices[_0x27ab("0x0")],_=x.segments+1,e=0;e<b-1;e++){a=e*_;for(var t=0;t<_-1;t++)x[_0x27ab("0xa6d")][_0x27ab("0x1")](new(THREE[_0x27ab("0x12ab")])(a+t+1,a+t,a+_+t)),x[_0x27ab("0xa6d")].push(new(THREE[_0x27ab("0x12ab")])(a+t+1,a+t+_,a+_+t+1))}}(x),function(x){for(var a=x[_0x27ab("0xa6d")][_0x27ab("0x0")],b=0;b<a;b++){var _=x[_0x27ab("0xa6d")][b];x[_0x27ab("0xf1b")][0].push([x[_0x27ab("0x12a8")][_.a],x[_0x27ab("0x12a8")][_.b],x[_0x27ab("0x12a8")][_.c]])}x[_0x27ab("0xf1d")]=!0}(x),x.computeFaceNormals())},u=null,d=function(x){function a(x){(0,t[_0x27ab("0xb")])(this,a);var b=(0,n[_0x27ab("0xb")])(this,(a.__proto__||(0,e[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this)),i=b;return i.pathVertices=null,i[_0x27ab("0x10d")]=0,i[_0x27ab("0x638")]=1,i[_0x27ab("0x642")]=12,i.uvBaseLen=1,(0,_[_0x27ab("0xb")])(i,x),i[_0x27ab("0x127a")]||(i[_0x27ab("0x13f")]==esmap[_0x27ab("0x5b0")].PLANE?i[_0x27ab("0x127a")]=.3:i[_0x27ab("0x13f")]==esmap[_0x27ab("0x5b0")].CIRCLE&&(i[_0x27ab("0x127a")]=1)),i[_0x27ab("0x9cd")]=(0,s[_0x27ab("0x11")])(i,_0x27ab("0x9cd"),!0),i.up||(i.up=new(THREE[_0x27ab("0xe7")])(0,1,0)),b[_0x27ab("0x12a8")]=[],b[_0x27ab("0x12aa")]=[],f(i),b}return(0,r.default)(a,x),(0,i[_0x27ab("0xb")])(a,[{key:_0x27ab("0xa3a"),value:function(x){for(var a,b=this,_=0,e=b[_0x27ab("0x12aa")],t=1,i=0;i<e.length;i++){var n=e[i],r=b[_0x27ab("0x1294")][i];if(r)for(var s=0;s<n[_0x27ab("0x0")];s++){var o=n[s];0==s&&1!=b.yScale&&(a=n[0][_0x27ab("0xe2")]()[_0x27ab("0x2f3")](r)[_0x27ab("0x0")]()),1!=b[_0x27ab("0x127a")]&&(t=o[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](r)[_0x27ab("0x0")]()/a);var c=r[_0x27ab("0xe2")]()[_0x27ab("0x163")](o[_0x27ab("0xe2")]()[_0x27ab("0x2f3")](r).normalize()[_0x27ab("0x28c")](x*t));b[_0x27ab("0xa6e")][_][_0x27ab("0x27d")](c),_++}}x<.1&&(x=.1),b[_0x27ab("0x638")]=x,b[_0x27ab("0xa70")]=!0}}]),a}(THREE[_0x27ab("0x12ad")]);a.default=d},function(x,a,b){"use strict";Object.defineProperty(a,_0x27ab("0xa"),{value:!0});var _=c(b(2)),e=c(b(4)),t=c(b(0)),i=c(b(1)),n=c(b(5)),r=c(b(6)),s=b(19),o=function(x){if(x&&x.__esModule)return x;var a={};if(null!=x)for(var b in x)Object[_0x27ab("0x2")][_0x27ab("0xc")][_0x27ab("0x3")](x,b)&&(a[b]=x[b]);return a[_0x27ab("0xb")]=x,a}(b(365));function c(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}var l=function(x){function a(x){(0,t[_0x27ab("0xb")])(this,a);var b=(0,n.default)(this,(a[_0x27ab("0x1db")]||(0,e[_0x27ab("0xb")])(a))[_0x27ab("0x3")](this,esmap[_0x27ab("0xf1")][_0x27ab("0xf52")],{},new(THREE[_0x27ab("0x159")])));return b[_0x27ab("0xbf7")]=!1,b[_0x27ab("0x12ae")]=!1,b[_0x27ab("0x31")](x),b}return(0,r[_0x27ab("0xb")])(a,x),(0,i[_0x27ab("0xb")])(a,[{key:"show",value:function(){this[_0x27ab("0xaf")][_0x27ab("0xf6")]=!0,this[_0x27ab("0x12ae")]||(this[_0x27ab("0x12ae")]=!0)}},{key:"hide",value:function(){this.o3d_.visible=!1,this[_0x27ab("0x12ae")]||(this[_0x27ab("0x12ae")]=!0)}},{key:_0x27ab("0x26a"),value:function(x){esmap[_0x27ab("0x18b")][_0x27ab("0x2")].moveTo.call(this[_0x27ab("0xaf")],x)}},{key:"toImage",value:function(){var x=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{quality:1,delay:0},b=this[_0x27ab("0x33")];setTimeout((function(){o[_0x27ab("0x12af")](x[_0x27ab("0x6de")],a)[_0x27ab("0x312")]((function(x){var a=document[_0x27ab("0x20")]("a"),_=(0,s[_0x27ab("0x19")])(x);document[_0x27ab("0x6fe")](_0x27ab("0x6ff"))[_0x27ab("0x9e1")]("click",!0,!0),a[_0x27ab("0x9e0")]=b[_0x27ab("0xc5")],a[_0x27ab("0x7b")]=URL[_0x27ab("0x848")](_),a[_0x27ab("0x9e2")]()}))}),a[_0x27ab("0x1c9")])}},{key:"init",value:function(x){var a=this,b=null,e=esmap[_0x27ab("0x32")][_0x27ab("0xd3")][_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x1f1")]?20:12;for(var t in x)null==x[t]&&delete x[t];var i=(0,_[_0x27ab("0xb")])({id:(0,s[_0x27ab("0x1a")])(8),name:_0x27ab("0x12b0"),url:null,dom:null,data:{},x:null,y:null,scale:30,angle:null,offsetHeight:0,templateSize:{width:256,height:256},template:null,opacity:1,lookAt:!0,animateTime:2,animateHeight:5,animateDelay:0,created:null,showLevel:e},x);if(this.options=i,i[_0x27ab("0x1b9")])esmap[_0x27ab("0x80")][_0x27ab("0x58f")](i[_0x27ab("0x1b9")],(function(x){a.createCard(x)}));else if(i[_0x27ab("0xba5")])setTimeout((function(){a[_0x27ab("0x6de")]=i.dom,o[_0x27ab("0x12b1")](i[_0x27ab("0xba5")]).then((function(x){var b=new THREE.Texture(x);a[_0x27ab("0x12b2")](b)}))}),0);else if(i[_0x27ab("0x12b3")]){var n=document.createElement(_0x27ab("0x3a3"));n[_0x27ab("0xea")][_0x27ab("0xc3")]=_0x27ab("0x6d8"),n[_0x27ab("0xea")].left=_0x27ab("0x12b4"),n[_0x27ab("0x332")]=x.template,document.body[_0x27ab("0x24")](n),b=n[_0x27ab("0xb0")][0],setTimeout((function(){a[_0x27ab("0x6de")]=b,o[_0x27ab("0x12b1")](b,{})[_0x27ab("0x312")]((function(x){var b=new(THREE[_0x27ab("0x42d")])(x);a[_0x27ab("0x12b2")](b)}))}),0)}}},{key:_0x27ab("0x12b2"),value:function(x){var a=this,b=!1;if(!this[_0x27ab("0xbf7")]){b=!0;var e=esmap[_0x27ab("0x32")].instance,t=this[_0x27ab("0x33")],i=x[_0x27ab("0x187")],n=i[_0x27ab("0x326")]/i[_0x27ab("0x1b7")],r=new THREE.PlaneBufferGeometry(1,1/n);r.addGroup(0,r[_0x27ab("0xc2")][_0x27ab("0xc3")][_0x27ab("0xc4")],0);var s=new(THREE[_0x27ab("0x106")])({transparent:!0,side:2});s[_0x27ab("0x103")]=t[_0x27ab("0x103")];var o=this[_0x27ab("0xaf")];if(o[_0x27ab("0xb1")]=r,o[_0x27ab("0xb3")]=s,o[_0x27ab("0x133")]=77,t[_0x27ab("0x26c")])if(t[_0x27ab("0x26c")]instanceof Object){var c=(0,_[_0x27ab("0xb")])({x:0,y:0,z:0},t[_0x27ab("0x26c")]);o[_0x27ab("0x1b1")].x=c.x*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")],o[_0x27ab("0x1b1")].y=c.y*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")],o[_0x27ab("0x1b1")].z=c.z*THREE[_0x27ab("0x28e")][_0x27ab("0x61a")]}else o[_0x27ab("0x1b1")].y=t[_0x27ab("0x26c")]*THREE[_0x27ab("0x28e")].DEG2RAD;var l=(new(THREE[_0x27ab("0x3e2")]))[_0x27ab("0x31e")](o),f=(l[_0x27ab("0x33f")].y-l[_0x27ab("0x340")].y)/2;o.geometry.translate(0,f,0);var u=e[_0x27ab("0x26f")]({x:t.x,y:t.y});if(u.y=t.offsetHeight,o.position[_0x27ab("0x27d")](u),o[_0x27ab("0xae")]=this,o[_0x27ab("0xef")]=_0x27ab("0x12b5"),e.mapPicker[_0x27ab("0x1bb")](o),o[_0x27ab("0x24b")][_0x27ab("0x123")](t[_0x27ab("0x24b")],t.scale,1),t[_0x27ab("0x278")]&&e.on(_0x27ab("0x12b"),(function(){o[_0x27ab("0x278")](e[_0x27ab("0x196")][_0x27ab("0xc3")])})),0!=t[_0x27ab("0x12b6")]){var d=o.position.y,h=new(esmap[_0x27ab("0x1cc")].Tween)(o[_0x27ab("0xc3")]).to({y:d+t[_0x27ab("0x12b7")]},1e3*t[_0x27ab("0x12b6")])[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x1d0")].In),g=new(esmap[_0x27ab("0x1cc")].Tween)(o[_0x27ab("0xc3")]).to({y:d},1e3*t[_0x27ab("0x12b6")])[_0x27ab("0x1ce")](esmap[_0x27ab("0x1cc")][_0x27ab("0x1cf")][_0x27ab("0x281")][_0x27ab("0x2ec")]);h[_0x27ab("0x1d7")](g),g[_0x27ab("0x1d7")](h),setTimeout((function(){h.start()}),1e3*t[_0x27ab("0x12b8")])}var v=e[_0x27ab("0x34")]==esmap.MapMode[_0x27ab("0x3a")],p=t[_0x27ab("0x244")];e.on(_0x27ab("0x13c"),(function(){if(!a._locked&&a.o3d_){var x=v?e[_0x27ab("0x168")]:e[_0x27ab("0x243")];if(p instanceof Array){var b=p[0],_=p[1];x>=b&&x<=_?a[_0x27ab("0xf6")]||(a[_0x27ab("0xf6")]=!0):a[_0x27ab("0xf6")]&&(a.visible=!1)}else v?x<p?a[_0x27ab("0xf6")]&&(a[_0x27ab("0xf6")]=!1):a[_0x27ab("0xf6")]||(a.visible=!0):x>p?a[_0x27ab("0xf6")]&&(a[_0x27ab("0xf6")]=!1):a[_0x27ab("0xf6")]||(a[_0x27ab("0xf6")]=!0)}})),this[_0x27ab("0xbf7")]=!0}x[_0x27ab("0x14d")]=THREE[_0x27ab("0x42f")],this[_0x27ab("0xaf")][_0x27ab("0xb3")].map=x,this.o3d_[_0x27ab("0xb3")][_0x27ab("0x37")][_0x27ab("0x146")]=!0,b&&this.options[_0x27ab("0x23e")]&&this.options[_0x27ab("0x23e")](this)}},{key:_0x27ab("0x37"),get:function(){return esmap.ESMap[_0x27ab("0xd3")]}},{key:"ID",get:function(){return this[_0x27ab("0x33")].id}},{key:"name",get:function(){return this[_0x27ab("0x33")][_0x27ab("0xc5")]}},{key:_0x27ab("0x3d5"),get:function(){return{x:this[_0x27ab("0x33")].x,y:this[_0x27ab("0x33")].y}}},{key:_0x27ab("0x49b"),get:function(){return this[_0x27ab("0x33")][_0x27ab("0x25")]}},{key:_0x27ab("0xdd"),get:function(){return this[_0x27ab("0xaf")][_0x27ab("0xc7")][_0x27ab("0xc7")][_0x27ab("0xae")]}},{key:"FloorNum",get:function(){return this[_0x27ab("0xdd")][_0x27ab("0x251")]}},{key:_0x27ab("0x1b9"),get:function(){return this[_0x27ab("0x33")][_0x27ab("0x1b9")]},set:function(x){var a=this;this[_0x27ab("0x33")].url=x,esmap[_0x27ab("0x80")][_0x27ab("0x58f")](x,(function(x){a[_0x27ab("0x12b2")](x)}))}}]),a}(esmap.ESNode);a[_0x27ab("0xb")]=l},function(x,a,b){"use strict";var _,e,t,i,n,r,s,o,c,l,f,u,d=v(b(101)),h=v(b(96)),g=v(b(16));function v(x){return x&&x[_0x27ab("0xa")]?x:{default:x}}function p(x,a,b){b(x,a);for(var _=0;_<x[_0x27ab("0xb0")][_0x27ab("0x0")];_++)p(x.children[_],a[_0x27ab("0xb0")][_],b)}THREE.SkeletonUtils={retarget:(s=new(THREE[_0x27ab("0xe7")]),o=new(THREE[_0x27ab("0x24c")]),c=new THREE.Vector3,l=new(THREE[_0x27ab("0x277")]),f=new(THREE[_0x27ab("0x277")]),u=new(THREE[_0x27ab("0x277")]),function(x,a,b){(b=b||{})[_0x27ab("0x12b9")]=void 0===b[_0x27ab("0x12b9")]||b[_0x27ab("0x12b9")],b[_0x27ab("0x12ba")]=void 0===b[_0x27ab("0x12ba")]||b.preservePosition,b.preserveHipPosition=void 0!==b.preserveHipPosition&&b[_0x27ab("0x12bb")],b[_0x27ab("0x12bc")]=void 0!==b.useTargetMatrix&&b[_0x27ab("0x12bc")],b[_0x27ab("0x12bd")]=void 0!==b[_0x27ab("0x12bd")]?b[_0x27ab("0x12bd")]:_0x27ab("0x12bd"),b[_0x27ab("0x12be")]=b[_0x27ab("0x12be")]||{};var _,e,t,i,n,r,d=a[_0x27ab("0x12bf")]?a.skeleton.bones:this[_0x27ab("0x12c0")](a),h=x[_0x27ab("0x12bf")]?x.skeleton[_0x27ab("0x12c1")]:this[_0x27ab("0x12c0")](x);if(x[_0x27ab("0x12bf")]?x.skeleton.pose():(b[_0x27ab("0x12bc")]=!0,b[_0x27ab("0x12b9")]=!1),b.preservePosition)for(n=[],r=0;r<h[_0x27ab("0x0")];r++)n.push(h[r][_0x27ab("0xc3")].clone());if(b[_0x27ab("0x12b9")])for(x[_0x27ab("0x6eb")](),x[_0x27ab("0x19d")].identity(),r=0;r<x[_0x27ab("0xb0")].length;++r)x[_0x27ab("0xb0")][r][_0x27ab("0x6eb")](!0);if(b.offsets)for(_=[],r=0;r<h[_0x27ab("0x0")];++r)e=h[r],t=b[_0x27ab("0x12be")][e[_0x27ab("0xc5")]]||e[_0x27ab("0xc5")],b[_0x27ab("0x12c2")]&&b[_0x27ab("0x12c2")][t]&&(e.matrix[_0x27ab("0x279")](b[_0x27ab("0x12c2")][t]),e[_0x27ab("0x34d")].decompose(e[_0x27ab("0xc3")],e.quaternion,e[_0x27ab("0x24b")]),e[_0x27ab("0x6eb")]()),_[_0x27ab("0x1")](e[_0x27ab("0x19d")][_0x27ab("0xe2")]());for(r=0;r<h[_0x27ab("0x0")];++r){if(e=h[r],t=b.names[e[_0x27ab("0xc5")]]||e[_0x27ab("0xc5")],i=this.getBoneByName(t,d),u[_0x27ab("0x27d")](e[_0x27ab("0x19d")]),i){if(i.updateMatrixWorld(),b[_0x27ab("0x12bc")]?f.copy(i.matrixWorld):(f[_0x27ab("0x6ec")](x[_0x27ab("0x19d")]),f[_0x27ab("0x279")](i[_0x27ab("0x19d")])),c[_0x27ab("0x12c3")](f),f[_0x27ab("0x24b")](c[_0x27ab("0x123")](1/c.x,1/c.y,1/c.z)),u[_0x27ab("0x12c4")](o[_0x27ab("0x27c")](f)),x[_0x27ab("0x12bf")]){var g=h.indexOf(e),v=_?_[g]:l.getInverse(x[_0x27ab("0x12c5")][_0x27ab("0x12c6")][g]);u[_0x27ab("0x279")](v)}u[_0x27ab("0x6e6")](f)}e[_0x27ab("0xc7")]&&e[_0x27ab("0xc7")][_0x27ab("0x12c7")]?(e.matrix.getInverse(e[_0x27ab("0xc7")][_0x27ab("0x19d")]),e[_0x27ab("0x34d")][_0x27ab("0x279")](u)):e[_0x27ab("0x34d")][_0x27ab("0x27d")](u),b.preserveHipPosition&&t===b[_0x27ab("0x12bd")]&&e[_0x27ab("0x34d")][_0x27ab("0x262")](s[_0x27ab("0x123")](0,e[_0x27ab("0xc3")].y,0)),e[_0x27ab("0x34d")].decompose(e[_0x27ab("0xc3")],e[_0x27ab("0x261")],e[_0x27ab("0x24b")]),e.updateMatrixWorld()}if(b[_0x27ab("0x12ba")])for(r=0;r<h[_0x27ab("0x0")];++r)e=h[r],(t=b[_0x27ab("0x12be")][e[_0x27ab("0xc5")]]||e[_0x27ab("0xc5")])!==b[_0x27ab("0x12bd")]&&e[_0x27ab("0xc3")].copy(n[r]);b[_0x27ab("0x12b9")]&&x[_0x27ab("0x6eb")](!0)}),retargetClip:function(x,a,b,_){(_=_||{}).useFirstFramePosition=void 0!==_[_0x27ab("0x12c8")]&&_[_0x27ab("0x12c8")],_[_0x27ab("0x12c9")]=void 0!==_.fps?_[_0x27ab("0x12c9")]:30,_[_0x27ab("0x12be")]=_[_0x27ab("0x12be")]||[],a.isObject3D||(a=this[_0x27ab("0x12ca")](a));var e,t,i,n,r,s,o=Math[_0x27ab("0x1da")](b[_0x27ab("0x1ca")]*(_[_0x27ab("0x12c9")]/1e3)*1e3),c=1/_[_0x27ab("0x12c9")],l=[],f=new THREE.AnimationMixer(a),u=this[_0x27ab("0x12c0")](x[_0x27ab("0x12c5")]),d=[];for(f.clipAction(b)[_0x27ab("0x2cc")](),f[_0x27ab("0x12b")](0),a.updateMatrixWorld(),r=0;r<o;++r){var h=r*c;for(this.retarget(x,a,_),s=0;s<u[_0x27ab("0x0")];++s)n=_.names[u[s].name]||u[s][_0x27ab("0xc5")],this[_0x27ab("0x12cb")](n,a[_0x27ab("0x12c5")])&&(t=u[s],i=d[s]=d[s]||{bone:t},_[_0x27ab("0x12bd")]===n&&(i[_0x27ab("0x3e4")]||(i.pos={times:new Float32Array(o),values:new Float32Array(3*o)}),_[_0x27ab("0x12c8")]&&(0===r&&(e=t.position[_0x27ab("0xe2")]()),t[_0x27ab("0xc3")][_0x27ab("0x2f3")](e)),i.pos[_0x27ab("0x1c7")][r]=h,t[_0x27ab("0xc3")][_0x27ab("0x12cc")](i[_0x27ab("0x3e4")][_0x27ab("0x83c")],3*r)),i.quat||(i.quat={times:new Float32Array(o),values:new Float32Array(4*o)}),i[_0x27ab("0x12cd")].times[r]=h,t.quaternion[_0x27ab("0x12cc")](i.quat[_0x27ab("0x83c")],4*r));f[_0x27ab("0x12b")](c),a[_0x27ab("0x6eb")]()}for(r=0;r<d[_0x27ab("0x0")];++r)(i=d[r])&&(i[_0x27ab("0x3e4")]&&l[_0x27ab("0x1")](new(THREE[_0x27ab("0x88f")])(".bones["+i[_0x27ab("0x12ce")][_0x27ab("0xc5")]+_0x27ab("0x12cf"),i[_0x27ab("0x3e4")][_0x27ab("0x1c7")],i[_0x27ab("0x3e4")][_0x27ab("0x83c")])),l.push(new(THREE[_0x27ab("0x88e")])(_0x27ab("0x12d0")+i[_0x27ab("0x12ce")][_0x27ab("0xc5")]+_0x27ab("0x12d1"),i.quat[_0x27ab("0x1c7")],i[_0x27ab("0x12cd")][_0x27ab("0x83c")])));return f.uncacheAction(b),new(THREE[_0x27ab("0x896")])(b.name,-1,l)},getHelperFromSkeleton:function(x){var a=new(THREE[_0x27ab("0x12d2")])(x[_0x27ab("0x12c1")][0]);return a[_0x27ab("0x12c5")]=x,a},getSkeletonOffsets:(_=new(THREE[_0x27ab("0xe7")]),e=new(THREE[_0x27ab("0xe7")]),t=new(THREE[_0x27ab("0xe7")]),i=new(THREE[_0x27ab("0xe7")]),n=new(THREE[_0x27ab("0x569")]),r=new(THREE[_0x27ab("0x569")]),function(x,a,b){(b=b||{})[_0x27ab("0x12bd")]=void 0!==b[_0x27ab("0x12bd")]?b.hip:_0x27ab("0x12bd"),b[_0x27ab("0x12be")]=b[_0x27ab("0x12be")]||{},a.isObject3D||(a=this[_0x27ab("0x12ca")](a));var s,o,c,l,f=(0,g[_0x27ab("0xb")])(b.names),u=(0,h.default)(b[_0x27ab("0x12be")]),d=a[_0x27ab("0x12bf")]?a.skeleton.bones:this[_0x27ab("0x12c0")](a),v=x.isObject3D?x[_0x27ab("0x12c5")][_0x27ab("0x12c1")]:this[_0x27ab("0x12c0")](x),p=[];for(x[_0x27ab("0x12c5")].pose(),l=0;l<v[_0x27ab("0x0")];++l)if(s=v[l],c=b.names[s.name]||s[_0x27ab("0xc5")],(o=this.getBoneByName(c,d))&&c!==b[_0x27ab("0x12bd")]){var A=this[_0x27ab("0x12d3")](s[_0x27ab("0xc7")],f),m=this[_0x27ab("0x12d3")](o[_0x27ab("0xc7")],u);A.updateMatrixWorld(),m[_0x27ab("0x6eb")](),_.setFromMatrixPosition(A[_0x27ab("0x19d")]),e[_0x27ab("0x6f4")](s[_0x27ab("0x19d")]),t[_0x27ab("0x6f4")](m[_0x27ab("0x19d")]),i[_0x27ab("0x6f4")](o.matrixWorld),n[_0x27ab("0x8a8")](new(THREE[_0x27ab("0x569")])(e.x,e.y),new THREE.Vector2(_.x,_.y))[_0x27ab("0x2f4")](),r.subVectors(new(THREE[_0x27ab("0x569")])(i.x,i.y),new(THREE[_0x27ab("0x569")])(t.x,t.y))[_0x27ab("0x2f4")]();var C=n.angle()-r[_0x27ab("0x26c")](),I=(new THREE.Matrix4).makeRotationFromEuler(new THREE.Euler(0,0,C));s[_0x27ab("0x34d")][_0x27ab("0x279")](I),s[_0x27ab("0x34d")].decompose(s[_0x27ab("0xc3")],s[_0x27ab("0x261")],s.scale),s.updateMatrixWorld(),p[c]=I}return p}),renameBones:function(x,a){for(var b=this[_0x27ab("0x12c0")](x),_=0;_<b[_0x27ab("0x0")];++_){var e=b[_];a[e.name]&&(e[_0x27ab("0xc5")]=a[e[_0x27ab("0xc5")]])}return this},getBones:function(x){return Array.isArray(x)?x:x[_0x27ab("0x12c1")]},getBoneByName:function(x,a){for(var b=0,_=this[_0x27ab("0x12c0")](a);b<_[_0x27ab("0x0")];b++)if(x===_[b].name)return _[b]},getNearestBone:function(x,a){for(;x.isBone;){if(-1!==a[_0x27ab("0xd1")](x[_0x27ab("0xc5")]))return x;x=x[_0x27ab("0xc7")]}},findBoneTrackData:function(x,a){for(var b=/\[(.*)\]\.(.*)/,_={name:x},e=0;e<a.length;++e){var t=b.exec(a[e][_0x27ab("0xc5")]);t&&x===t[1]&&(_[t[2]]=e)}return _},getEqualsBonesNames:function(x,a){var b=this[_0x27ab("0x12c0")](x),_=this[_0x27ab("0x12c0")](a),e=[];x:for(var t=0;t<b[_0x27ab("0x0")];t++)for(var i=b[t][_0x27ab("0xc5")],n=0;n<_[_0x27ab("0x0")];n++)if(i===_[n][_0x27ab("0xc5")]){e[_0x27ab("0x1")](i);continue x}return e},clone:function(x){var a=new d.default,b=new(d[_0x27ab("0xb")]),_=x.clone();return p(x,_,(function(x,_){a[_0x27ab("0x123")](_,x),b.set(x,_)})),_[_0x27ab("0x2a1")]((function(x){if(x.isSkinnedMesh){var _=x,e=a[_0x27ab("0x35e")](x),t=e[_0x27ab("0x12c5")][_0x27ab("0x12c1")];_[_0x27ab("0x12c5")]=e[_0x27ab("0x12c5")].clone(),_[_0x27ab("0x12d4")].copy(e[_0x27ab("0x12d4")]),_[_0x27ab("0x12c5")][_0x27ab("0x12c1")]=t.map((function(x){return b.get(x)})),_[_0x27ab("0xe")](_[_0x27ab("0x12c5")],_[_0x27ab("0x12d4")])}})),_}}}]));

/*ESWorldTools 2.0 2023-2-23 2:57:34 ├F10: PM┤*/
var _0x204d=['setBloomLight','ESLineMarker','ESFloorManager','getEffectLayersByNames','TWEEN','_tweens','_tweensAddedDuringUpdate','getId','_isPlaying','_nextId','nextId','hrtime','performance','_valuesStart','_valuesEnd','_duration','_repeat','_yoyo','_reversed','_easingFunction','_interpolationFunction','_chainedTweens','_onStartCallback','_onCompleteCallback','_onStopCallback','_group','_startTime','_delayTime','_object','_valuesStartRepeat','_onRepeatCallback','_onStartCallbackFired','_onUpdateCallback','_repeatDelayTime','Bounce','Interpolation','Utils','Bernstein','CatmullRom','run','fun','title','browser','argv','addListener','once','removeListener','removeAllListeners','prependListener','binding','process.binding\x20is\x20not\x20supported','cwd','chdir','process.chdir\x20is\x20not\x20supported','umask','tileType','amap','tileUrl','tileurl','levelOffset','tileSourceLevelOffset','levelMax','tileSourceMaxLevel','levelExtent','tileSourceLevelExtent','ESTileMap','getControlsInfo','tileTheme','isOpenControllerInertia','isShowTileSourceLicense','tileSourceZoom','Extent','DEFAULT_THEME','waterOriginColor','waterSkyTexture','waterSkyTexPath','PlanarView','isSetTileBlending','tileThemeConfigs','tileMapView','levelChange','scaleLevel','controlstart','ESViewMode','isMouseWheeling','viewMode','MODE_2D','MODE_3D','controlend','getLights','initTileMapShadow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(1.0,\x200.0,\x20resultColor.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','change','maxSubdivisionLevel','16px','paddingLeft','5px','rgba(255,\x20255,\x20255,\x200.8)','borderTopLeftRadius','4px','href','https://www.esmap.cn/','_blank','innerText','google.cn','autonavi.com','\x20|\x20©\x20高德地图\x20','https://map.amap.com/doc/serviceitem.html','tianditu.gov.cn','\x20|\x20©\x20天地图\x20','\x20|\x20©\x20GeoQ\x20','text','link','textDecoration','paddingRight','100%','backgroundColor','block','TMSSource','https://webst02.is.autonavi.com/appmaptile?style=7&x=${x}&y=${y}&z=${z}','GCJ02','ColorLayer','Google','addLayer','_tileUpdateLock','camera3D','cameraAnimateStart','cameraAnimateUpdate','cameraAnimateComplete','getZoomFromSphereRadius','_earthZoom','delay','_tempMaxPolarAngle','Cannot\x20read\x20property\x20\x27radius\x27\x20of\x20undefined','zoomLevelTo','preLoadBuildingId','setControlsInfo','getEarthZoomRadius','startZoom','defaultAngle','viewMode_','maxNearGroundPolarAngle','_tempMaxNearGroundPolarAngle','checkIsUseNearGroundPolarAngle','tileScene_','scaleLevelAnimate','initPitchAngle','cursor','pointToPointAnimate','targetLevel','pitchAnimate','openTileClick','tileClickDebug','currLayer','tileMapInitComplete','updateTileView','tileClick','registerClickEvent','selectEffect','pickableBuildings','tileMapInited','planar','__trl','tile\x20url\x20domain\x20is\x20not\x20permission','inited','ESTileMap\x20Theme\x20need\x20','isChangeDefaultTheme','skyColor','colorMapping','createColorMapping','steps','isSetDeepenColor','brightness','contrast','saturation','gamma','tileWater','sparklingColor','zoomTo','Tools','CoordTransform','isLockEarthZoom','minEarthZoom','minLevel','maxLevel','maxEarthZoom','_minEarthZoom','_isOpenAlpha','_isSetAlpha','_alpha','_sortOrder','_mousedown','mouseDown','_mouseup','mouseUp','_mousemove','_touchstart','_touchmove','mouseMove','_touchend','moveCount','offsetX','isMouseMove','DataTexture','exports','call','undefined','toStringTag','defineProperty','Module','__esModule','create','string','bind','default','/dist/','length','enumerable','configurable','value','key','prototype','function','apply','virtual','Math','return\x20this','number','Symbol','Symbol.','get','set','object','\x20is\x20not\x20an\x20object!','hasOwnProperty','keys','random','Symbol(','concat','coordMapToThree','MapMode','City','ESMap','instance','debounce','getOS','directionFromAlphaBeta','clearShaderCode','selectCityMapEffectConfigPath','getMaterialByRoomStyle','getOutdoorBuildingTheme','getBuiding','getMapInstance','setPositionFromMc','checkIsParkEngine','checkIsCityEngine','coordTransToThree','innerCoordTransToThree','Building','getBuilding','mapScene','sceneX_','sceneZ_','ESMapUtil','getVersion','CommonConstant','Park','position','themeList','themeID','roomStyle','datas_','RoomStyle','userData','index','material','onlineEffectThemeId','effectThemeId','options','tid','serverUrl','effectId','mapDataSrc','/worldeffect/','indexOf','upload/','configPath','ESEffectTool','configUserPath','switchConfigPath','fragmentShader','Vector3','sin','cos','test','userAgent','Expected\x20a\x20function','CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList','Array','propertyIsEnumerable','Can\x27t\x20call\x20method\x20on\x20\x20','iframe','display','appendChild','src','javascript:','contentWindow','document','open','write','<script>document.F=Object</script>','close','\x20is\x20not\x20a\x20function!','floor','__core-js_shared__','versions','push','version','pure','global','©\x202020\x20Denis\x20Pushkarev\x20(zloirock.ru)','constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf','toString','valueOf','Can\x27t\x20convert\x20object\x20to\x20primitive\x20value','createElement','values','\x20Iterator','@@iterator','entries','next','name','charAt','min','Undefined','Null','Object','Arguments','getOwnPropertySymbols','split','constructor','symbol','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function,\x20not\x20','__proto__','\x20is\x20not\x20iterable!','done','BREAK','RETURN','div','IE_PROTO','iterator','getIteratorMethod','meta','NEED','EventDispatcher','_listeners','splice','slice','TextureLoader','textureLoader','load','textureList','texture','path','return','multiTexturesLoad','all','CubeTextureLoader','loadTexture','defineProperties','getOwnPropertyDescriptor','ModelFresnelEffect','ModelLightBlend','ProjectionVideo','ESInstanceMesh','TextureUvAnimation','RoomTexture','PlaneVideo','ClearSkyGround','CirclePlane','GroundTexture','WaterShape','ActiveSprite','EnvTextureLoader','GeometryMirro','PlaneCrossLine','MulripleMeshLine','FloatPoints','WaterSpread','Fire','Smoke','FireSmoke','PlaneFogEffect','EdgeLineEffect','ExtentWallEffect','SphereSpreadEffect','MultiRadianRotateEffect','CylinderSpreadEffect','MoveObjBipsEffect','ModelUvAnimation','MultiCircleBreath','UnderGroundLine','Points','PointsLine','CurveLinkLine','CircleRotateYMarker','CylinderFloatMarker','CubeFloatMarker','CameraFlyTo','BuildingsTexture','SelectPoint','MapTileWater','ClearSky','CubeSkybox','Skybox','NumberUpEffect','ScrollWallEffect','PlaneWindEffect','GroundPoints','GroundBlend','ModelBlendEffect','BoatFoam','ModelTerrain','documentElement','getPrototypeOf','dispose','map','geometry','remove','parent',':\x20incorrect\x20invocation!','max','charCodeAt','promise','Bad\x20Promise\x20constructor','resolve','TypedArrayHelper','componentSize','size','TypedArrayConstructor','array','setSize','shrink','info','TypedArray\x20is\x20already\x20of\x20size:','setFromArray','grow','indexOffset','setVec2','setVec2Components','setVec3','setVec3Components','setVec4Components','setMat3','setMat4','elements','setNumber','getValueAtIndex','getComponentValueAtIndex','ShaderAttribute','type','arrayType','typedArray','dynamicBuffer','updateMin','updateMax','flagUpdate','bufferAttribute','updateRange','offset','needsUpdate','resetUpdateRange','resetDynamic','forceUpdateAll','count','dynamic','_ensureTypedArray','_createBufferAttribute','REVISION','getLength','shaderChunks','#define\x20PACKED_COLOR_SIZE\x20256.0','join','uniform\x20float\x20deltaTime;','uniform\x20float\x20runTime;','uniform\x20sampler2D\x20texture1;','uniform\x20vec4\x20textureAnimation;','uniform\x20float\x20scale;','attribute\x20vec4\x20acceleration;','attribute\x20vec3\x20velocity;','attribute\x20vec4\x20rotation;','attribute\x20vec3\x20rotationCenter;','attribute\x20vec4\x20params;','attribute\x20vec4\x20size;','attribute\x20vec4\x20opacity;','#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20varying\x20float\x20vAngle;','\x20\x20\x20\x20varying\x20vec4\x20vSpriteSheet;','#endif','\x20\x20\x20\x20return\x20max(sign(x\x20-\x20y),\x200.0);','float\x20when_lt(float\x20x,\x20float\x20y)\x20{','\x20\x20\x20\x20return\x20min(\x20max(1.0\x20-\x20sign(x\x20-\x20y),\x200.0),\x201.0\x20);','\x20\x20\x20\x20return\x201.0\x20-\x20abs(\x20sign(\x20x\x20-\x20y\x20)\x20);','float\x20when_ge(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_lt(x,\x20y);','float\x20when_le(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_gt(x,\x20y);','float\x20and(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20min(a\x20+\x20b,\x201.0);','vec3\x20unpackColor(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20float\x20r\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20float\x20g\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20float\x20b\x20=\x20mod(\x20hex,\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20return\x20c;','vec3\x20unpackRotationAxis(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20c.r\x20=\x20r\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c\x20*=\x20vec3(\x202.0\x20);','\x20\x20\x20c\x20-=\x20vec3(\x201.0\x20);','float\x20getFloatOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec4\x20attr\x20)\x20{','\x20\x20\x20\x20highp\x20float\x20value\x20=\x200.0;','\x20\x20\x20\x20float\x20deltaAge\x20=\x20positionInTime\x20*\x20float(\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201\x20);','\x20\x20\x20\x20float\x20fIndex\x20=\x200.0;','\x20\x20\x20\x20value\x20+=\x20attr[\x200\x20]\x20*\x20when_eq(\x20deltaAge,\x200.0\x20);','\x20\x20\x20\x20for(\x20int\x20i\x20=\x200;\x20i\x20<\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201;\x20++i\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20fIndex\x20=\x20float(\x20i\x20);','\x20\x20\x20\x20\x20\x20\x20shouldApplyValue\x20=\x20and(\x20when_gt(\x20deltaAge,\x20fIndex\x20),\x20when_le(\x20deltaAge,\x20fIndex\x20+\x201.0\x20)\x20);','\x20\x20\x20\x20\x20\x20\x20value\x20+=\x20shouldApplyValue\x20*\x20mix(\x20attr[\x20i\x20],\x20attr[\x20i\x20+\x201\x20],\x20deltaAge\x20-\x20fIndex\x20);','\x20\x20\x20\x20}','\x20\x20\x20\x20return\x20value;','vec3\x20getColorOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec3\x20color1,\x20in\x20vec3\x20color2,\x20in\x20vec3\x20color3,\x20in\x20vec3\x20color4\x20)\x20{','\x20\x20\x20\x20vec3\x20value\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20value.x\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.x,\x20color2.x,\x20color3.x,\x20color4.x\x20)\x20);','float\x20getAlive()\x20{','\x20\x20\x20return\x20params.x;','float\x20getAge()\x20{','float\x20getMaxAge()\x20{','vec4\x20getPosition(\x20in\x20float\x20age\x20)\x20{','vec3\x20getVelocity(\x20in\x20float\x20age\x20)\x20{','vec3\x20getAcceleration(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20return\x20acceleration.xyz\x20*\x20age;','\x20\x20\x20mat4\x20getRotationMatrix(\x20in\x20vec3\x20axis,\x20in\x20float\x20angle)\x20{','\x20\x20\x20\x20\x20\x20\x20axis\x20=\x20normalize(axis);','\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20oc\x20=\x201.0\x20-\x20c;','\x20\x20\x20\x20\x20\x20\x20return\x20mat4(oc\x20*\x20axis.x\x20*\x20axis.x\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20-\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20+\x20axis.y\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20+\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.y\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20-\x20axis.x\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.0);','\x20\x20\x20}','\x20\x20\x20vec3\x20getRotation(\x20in\x20vec3\x20pos,\x20in\x20float\x20positionInTime\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20pos;','\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20vec3\x20axis\x20=\x20unpackRotationAxis(\x20rotation.x\x20);','\x20\x20\x20\x20\x20\x20vec3\x20center\x20=\x20rotationCenter;','\x20\x20\x20\x20\x20\x20mat4\x20rotationMatrix;','\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x200.0;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_eq(\x20rotation.z,\x200.0\x20)\x20*\x20rotation.y;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_gt(\x20rotation.z,\x200.0\x20)\x20*\x20mix(\x200.0,\x20rotation.y,\x20positionInTime\x20);','\x20\x20\x20\x20\x20\x20translated\x20=\x20rotationCenter\x20-\x20pos;','\x20\x20\x20\x20\x20\x20rotationMatrix\x20=\x20getRotationMatrix(\x20axis,\x20angle\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20gl_PointCoord.x\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x201.0\x20-\x20gl_PointCoord.y\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20vec2(\x20c\x20*\x20x\x20+\x20s\x20*\x20y\x20+\x200.5,\x20c\x20*\x20y\x20-\x20s\x20*\x20x\x20+\x200.5\x20);','\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20vSpriteSheet.x;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20vSpriteSheet.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20vSpriteSheet.z;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.x\x20=\x20gl_PointCoord.x\x20*\x20framesX\x20+\x20columnNorm;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.y\x20=\x201.0\x20-\x20(gl_PointCoord.y\x20*\x20framesY\x20+\x20rowNorm);','\x20\x20\x20\x20vec4\x20rotatedTexture\x20=\x20texture2D(\x20texture1,\x20vUv\x20);','defines','uniforms','attributes','ShaderChunk','common','logdepthbuf_pars_vertex','fog_pars_vertex','unpackColor','unpackRotationAxis','floatOverLifetime','paramFetchingFunctions','\x20\x20\x20\x20highp\x20float\x20positionInTime\x20=\x20(age\x20/\x20maxAge);','\x20\x20\x20\x20highp\x20float\x20isAlive\x20=\x20when_gt(\x20alive,\x200.0\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleAmount\x20=\x20positionInTime\x20*\x20getWiggle();','\x20\x20\x20\x20vec3\x20vel\x20=\x20getVelocity(\x20age\x20);','\x20\x20\x20\x20vec3\x20accel\x20=\x20getAcceleration(\x20age\x20);','\x20\x20\x20\x20vec3\x20force\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(\x20position\x20);','\x20\x20\x20\x20float\x20drag\x20=\x201.0\x20-\x20(positionInTime\x20*\x200.5)\x20*\x20acceleration.w;','\x20\x20\x20\x20force\x20+=\x20vel;','\x20\x20\x20\x20force\x20*=\x20drag;','\x20\x20\x20\x20force\x20+=\x20accel\x20*\x20age;','\x20\x20\x20\x20pos\x20+=\x20force;','\x20\x20\x20\x20\x20\x20\x20\x20pos.z\x20+=\x20wiggleSin;','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20pos\x20=\x20getRotation(\x20pos,\x20positionInTime\x20);','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20pos,\x201.0\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x20scale\x20/\x20length(\x20mvPosition.xyz\x20);','\x20\x20\x20\x20#else','\x20\x20\x20\x20#ifdef\x20COLORIZE','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20isAlive\x20*\x20getColorOverLifetime(','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20positionInTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.x\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.y\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.z\x20),','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20vec3(1.0);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20c,\x20o\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20textureAnimation.x;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20textureAnimation.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20loopCount\x20=\x20textureAnimation.w;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20totalFrames\x20=\x20textureAnimation.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20frameNumber\x20=\x20mod(\x20(positionInTime\x20*\x20loopCount)\x20*\x20totalFrames,\x20totalFrames\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20column\x20=\x20floor(mod(\x20frameNumber,\x20framesX\x20));','\x20\x20\x20\x20\x20\x20\x20\x20float\x20row\x20=\x20floor(\x20(frameNumber\x20-\x20column)\x20/\x20framesX\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20column\x20/\x20framesX;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20row\x20/\x20framesY;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.x\x20=\x201.0\x20/\x20framesX;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.y\x20=\x201.0\x20/\x20framesY;','fog_vertex','fog_pars_fragment','varyings','branchAvoidanceFunctions','void\x20main()\x20{','\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20vColor.xyz;','\x20\x20\x20\x20','\x20\x20\x20\x20#ifdef\x20ALPHATEST','\x20\x20\x20\x20\x20\x20\x20if\x20(\x20vColor.w\x20<\x20float(ALPHATEST)\x20)\x20discard;','rotateTexture','logdepthbuf_fragment','\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20outgoingLight.xyz,\x20rotatedTexture.w\x20*\x20vColor.w\x20);','fog_fragment','boolean','ensureTypedArg','isArray','_value','_spread','clamp','interpolateArray','clone','ceil','lerpTypeAgnostic','types','NUMBER','Vector2','lerp','Vector4','Color','abs','roundToNearestMultiple','copy','getHex','sqrt','randomFloat','round','normalize','multiplyScalar','add','setRGB','Group','utils','OBJECT','uuid','generateUUID','fixedTimeStep','ensureInstanceOf','textureFrames','frames','textureFrameCount','textureLoop','loop','hasPerspective','BOOLEAN','colorize','maxParticleCount','blending','AdditiveBlending','transparent','depthWrite','depthTest','fog','emitters','emitterIDs','_pool','_poolCreationSettings','_createNewWhenPoolEmpty','_attributesNeedRefresh','_attributesNeedDynamicReset','particleCount','valueOverLifetimeLength','attributeKeys','attributeCount','ShaderMaterial','fragment','alphaTest','SHOULD_CALCULATE_SPRITE','SHOULD_ROTATE_TEXTURE','spread','SHOULD_ROTATE_PARTICLES','rotation','angleSpread','wiggle','_applyAttributesToGeometry','addAttribute','setDrawRange','addEmitter','error','`emitter`\x20argument\x20must\x20be\x20instance\x20of\x20SPE.Emitter.\x20Was\x20provided\x20with:','Emitter\x20already\x20exists\x20in\x20this\x20group.\x20Will\x20not\x20add\x20again.','group','_calculatePPSValue','maxAge','_setBufferUpdateRanges','_setAttributeOffset','_assignPositionValue','velocity','_assignForceValue','acceleration','opacity','_assignAngleValue','_updateDefines','Emitter\x20already\x20belongs\x20to\x20another\x20group.\x20Will\x20not\x20add\x20to\x20requested\x20group.','removeEmitter','Emitter','attributeOffset','params','getFromPool','pop','releaseIntoPool','reset','enable','duration','_triggerSingleEmitter','_updateUniforms','runTime','deltaTime','_resetBufferRanges','setUpdateRange','tick','drag','color','angle','onParticleSpawn','distributions','spreadClamp','randomise','radius','radiusScale','distribution','axisSpread','static','center','ensureArrayInstanceOf','ensureArrayTypedArg','isStatic','activeMultiplier','direction','alive','particlesPerSecond','activationIndex','attributeEnd','age','activeParticleCount','resetFlags','updateFlags','updateCounts','updateMap','_createGetterSetters','ensureValueOverLifetimeCompliance','replace','_rotationCenter','rotationCenter','_randomise','bufferUpdateRanges','NEGATIVE_INFINITY','activationEnd','_assignValue','_assignAbsLifetimeValue','_assignParamsValue','_assignRotationValue','_assignColorValue','_distribution','BOX','randomVector3','_spreadClamp','_radius','_radiusScale','DISC','SPHERE','randomDirectionVector3OnSphere','arrayValuesAreEqual','getPackedRotationAxis','_axis','_axisSpread','_angle','_angleSpread','_static','randomColorAsHex','_updateAttributeUpdateRange','bufferUpdateCount','_incrementParticleCount','_decrementParticleCount','_resetParticle','paramsArray','_checkParticleAges','_activateParticles','disable','Emitter\x20does\x20not\x20belong\x20to\x20a\x20group,\x20cannot\x20remove.','KEY','JSON','stringify','toPrimitive','symbol-registry','QObject','Symbol\x20is\x20not\x20a\x20constructor!','hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables','store','\x20is\x20not\x20a\x20symbol!','getOwnPropertyNames','[object\x20Window]','asyncIterator','observable','Incompatible\x20receiver,\x20','ESEffectsConstant','ESModelEffectConstant','cylinder_spread','circle_rotate','circle_ripple','circles_radian_rotate','sphere_spread','transfer_line','extent_wall','smoke','float_points','routes_line','guide_line','plane_wind','plane_fog','ESMarkerType','ESMarkerLevel','CITY','dark','technology','none','style1','style2','night','day','noface','lineframe','transparentHL','species','assign','abcdefghijklmnopqrst','data','process','MessageChannel','Dispatch','onreadystatechange','nextTick','now','port2','port1','onmessage','postMessage','addEventListener','script','removeChild','setStandardMaterialParams','requestEffectThemeConfig','jsonFileLoader','FileLoader','parse','effects.json','esmap.ESMapTools\x20initialize\x20cannot\x20find\x20effects.json.\x20Please\x20set\x20the\x20correct\x20file\x20path!','roughness','metalness','mirrorReflection','envMapIntensity','hightLightReflection','from','view','controls','isFlying','flyTo','moveSpeed','zoomSpeed','radiusFactor','pitchAngle','complete','ESDirection','target','distanceTo','_cameraSphericalRadius','NORTH','SOUTH','WAST','EAST','NORTH_EAST','NORTH_WEST','SOUTH_EAST','SOUTH_WEST','moveToAnimate','flyToAnimate','can\x20not\x20find\x20esmap.ESDirection\x20data','p2pFlyFocusTo','flyFocusTo','targetPos','directionAngle','time','tileUpdateCallbacks','degToRad','cameraPosition','Tween','easing','Easing','Quadratic','start','onUpdate','update','onComplete','toggleControlsLock','checkScaleLevel','updateLookAtPos','Out','enablePan','enableRotate','setPrototypeOf',':\x20can\x27t\x20set\x20as\x20prototype!','fastKey','forEach','clear','setStrong','#toJSON\x20isn\x27t\x20generic','timer','imageWidth','yCount','fps','imageHeight','xSize','xCount','yIndex','repeat','ySize','xIndex','getSegementPoints','_getSegementPointsForVec3','sub','_index','height','createMaterial','colorStr','MeshLineMaterial','setStyle','dashArray','dashOffset','resolution','sizeAttenuation','lineWidth','camera','near','far','DoubleSide','lineMaterial','Geometry','vertices','makeLineGeometry','MeshLine','taper','linear','parabolic','setGeometry','pow','wavy','addLine','meshLines','Mesh','renderOrder','getAngleToNextLine','lastAngle','addLineGeometry','tempStartPoint','tempEndPoint','tempDir','collectPoints','children','BufferGeometry','Matrix4','makeScale','applyMatrix','MeshNormalMaterial','Raycaster','intersectObject','point','disposeChilds','resize','width','disposeAll','object3d','fadeOut','fadeOutFactor','render','speed','visible','lineType','isCanChangeStyle','Object3D','innerWidth','innerHeight','RepeatWrapping','wrapS','container','eventName','click','_handleGetPos','handleGetPos','callback','init','removeEventListener','getOffsetX','event','srcElement','getBoundingClientRect','clientX','left','offsetY','clientY','getOffsetY','pickPosition','layer','lonLanToMc','getWorldPosFromLoLa','google','mcToLonLan','getLoLaFromWorldPos','Promise','TypeError','then','6.6','fail','reject','domain','rejectionHandled','onrejectionhandled','enter','exit','Promise-chain\x20cycle','emit','console','Promise\x20can\x27t\x20be\x20resolved\x20itself','catch','MutationObserver','WebKitMutationObserver','standalone','createTextNode','observe','navigator','Set','positions','side','indices_array','uvs','counters','widthCallback','matrixWorld','subarray','buffer','UniformsLib','meshline_vert','meshline_frag','useMap','alphaMap','useAlphaMap','useDash','dashRatio','visibility','useChange','setMatrixWorld','raycast','Ray','Sphere','linePrecision','boundingSphere','computeBoundingSphere','applyMatrix4','ray','fromArray','distanceSqToSegment','origin','previous','copyV3','compareV3','copyArray','BufferAttribute','setIndex','advance','attribute\x20vec3\x20changeColor;','attribute\x20float\x20side;','attribute\x20float\x20width;','attribute\x20float\x20counters;','uniform\x20vec2\x20resolution;','uniform\x20vec3\x20color;','uniform\x20float\x20near;','uniform\x20float\x20far;','uniform\x20float\x20sizeAttenuation;','varying\x20vec2\x20vUV;','varying\x20vec4\x20vColor;','varying\x20vec3\x20vChangeColor;','vec2\x20fix(\x20vec4\x20i,\x20float\x20aspect\x20)\x20{','\x20\x20\x20\x20res.x\x20*=\x20aspect;','\x09\x20vCounters\x20=\x20counters;','\x20\x20\x20\x20return\x20res;','\x20\x20\x20\x20float\x20aspect\x20=\x20resolution.x\x20/\x20resolution.y;','\x20\x20\x20\x20float\x20pixelWidthRatio\x20=\x201.\x20/\x20(resolution.x\x20*\x20projectionMatrix[0][0]);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20color,\x20opacity\x20);','\x20\x20\x20\x20vChangeColor\x20=\x20vec3(\x20changeColor\x20);','\x20\x20\x20\x20vUV\x20=\x20uv;','\x20\x20\x20\x20mat4\x20m\x20=\x20projectionMatrix\x20*\x20modelViewMatrix;','\x20\x20\x20\x20vec4\x20finalPosition\x20=\x20m\x20*\x20vec4(\x20position,\x201.0\x20);','\x20\x20\x20\x20vec4\x20prevPos\x20=\x20m\x20*\x20vec4(\x20previous,\x201.0\x20);','\x20\x20\x20\x20vec4\x20nextPos\x20=\x20m\x20*\x20vec4(\x20next,\x201.0\x20);','\x20\x20\x20\x20vec2\x20currentP\x20=\x20fix(\x20finalPosition,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20prevP\x20=\x20fix(\x20prevPos,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20nextP\x20=\x20fix(\x20nextPos,\x20aspect\x20);','\x20\x20\x20\x20float\x20pixelWidth\x20=\x20finalPosition.w\x20*\x20pixelWidthRatio;','\x20\x20\x20\x20float\x20w\x20=\x201.8\x20*\x20pixelWidth\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20if(\x20sizeAttenuation\x20==\x201.\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.8\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20if(\x20nextP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20else\x20if(\x20prevP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir1\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20//vec2\x20normal\x20=\x20(\x20cross(\x20vec3(\x20dir,\x200.\x20),\x20vec3(\x200.,\x200.,\x201.\x20)\x20)\x20).xy;','\x20\x20\x20\x20vec2\x20normal\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);','\x20\x20\x20\x20normal\x20*=\x20.5\x20*\x20w;','\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(\x20normal\x20*\x20side,\x200.0,\x201.0\x20);','\x20\x20\x20\x20finalPosition.xy\x20+=\x20offset.xy;','\x20\x20\x20\x20gl_Position\x20=\x20finalPosition;','logdepthbuf_vertex','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','logdepthbuf_pars_fragment','uniform\x20sampler2D\x20alphaMap;','uniform\x20float\x20useMap;','uniform\x20float\x20useAlphaMap;','uniform\x20float\x20useFadeOut;','uniform\x20float\x20dashArray;','uniform\x20float\x20dashOffset;','uniform\x20float\x20dashRatio;','uniform\x20float\x20visibility;','uniform\x20float\x20fadeOutFactor;','uniform\x20float\x20useChange;','uniform\x20vec2\x20repeat;','\x20\x20\x20\x20vec4\x20c\x20=\x20vColor;','\x20\x20\x20\x20if(\x20useMap\x20==\x201.\x20)\x20c\x20*=\x20texture2D(\x20map,\x20vUV\x20*\x20repeat\x20+\x20offset\x20);','\x20\x20\x20\x20if(\x20useAlphaMap\x20==\x201.\x20)\x20c.a\x20*=\x20texture2D(\x20alphaMap,\x20vUV\x20*\x20repeat\x20+\x20offset\x20).a;','\x20\x20\x20\x20if(\x20useFadeOut\x20==\x201.\x20)\x20c.a\x20*=\x201.0\x20-\x20float(step(fadeOutFactor,\x20vUV.x));','\x20\x20\x20\x20if(\x20c.a\x20<\x20alphaTest\x20)\x20discard;','\x20\x20\x20\x20if(\x20useDash\x20==\x201.\x20){','\x20\x20\x20\x20\x20\x20\x20\x20c.a\x20*=\x20ceil(mod(vCounters\x20+\x20dashOffset,\x20dashArray)\x20-\x20(dashArray\x20*\x20dashRatio));','\x20\x20\x20\x20gl_FragColor\x20=\x20c\x20*\x201.5;','\x20\x20\x20\x20gl_FragColor.a\x20*=\x20step(vCounters,\x20visibility);','\x20\x20\x20\x20if(\x20useChange\x20==\x201.\x20)\x20gl_FragColor.rgb\x20=\x20vec3(vChangeColor);','isMeshLineMaterial','useFadeOut','originColor','replaceColor','updateView','isShowWater','tileLayer','waterTime','updateLayerNodesMaterial','#40ffff','isSpread','shader','MeshBasicMaterial','onBeforeCompile','texture1','vertexShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uniform\x20float\x20opacity;','gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','iTime','#FF0000','shaderMesh','deltaSpeed','must\x20setting\x20postion\x20and\x20color','#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SMOOTH(r,R)\x20(1.0-smoothstep(R-1.0,R+1.0,\x20r))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bip2(vec2\x20uv,\x20vec2\x20center)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20length(uv\x20-\x20center);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20R\x20=\x208.0+mod(87.0*time,\x2080.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(0.5-0.5*cos(30.0*time))\x20*\x20SMOOTH(r,5.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20SMOOTH(6.0,r)-SMOOTH(8.0,r)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20smoothstep(max(8.0,R-20.0),R,r)-SMOOTH(R,r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20green\x20=\x20vec3(1.00,0.38,0.227);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(\x20length(vModelPos.xy)\x20<\x20200.0\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20bip2(vModelPos.xy,vec2(0.0,\x200.0))\x20*\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20bip2(vModelPos.xy,vec2(0.0,\x200.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PlaneBufferGeometry','segment','CircleBufferGeometry','isShowConeScan','lookAtPoint','upDelta','downDelta','coneGroup','coneMesh1','coneMesh2','cone1','cone2','#ffeb3b','magFilter','LinearFilter','minFilter','LinearMipMapLinearFilter','wrapT','SphereBufferGeometry','scale','sphere','addCones','rotateX','coneMaterial','lookAt','lookAtAnimate','Linear','None','isCanUpdateAnimate','#FFFFFF','alphaTex','lookAtPos','texOffsetY','isCanUpdate','isNeedUpdateLookAt','list','extentRadius','#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.01,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20nPos\x20=\x2010.0\x20*\x20vec3(position);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.x\x20+=\x20posOffset.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20modelPos.y\x20+=\x20(fract(iTime\x20*\x20speed)\x20*\x20exRadius\x20*\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.y\x20+=\x20posOffset.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.z\x20+=\x20posOffset.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<fog_vertex>','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nTexture\x20=\x20texture2D(numTex,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20nTexture;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20(x-min(x))/(max(x)-min(x))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20aUvy\x20=\x20vModelPos.y\x20/\x20exRadius;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20vec2(0.5,\x20aUvy)).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttribute','randFloat','Float32BufferAttribute','frustumCulled','createRandomObj','lineHeight','lineNumber','setLookAtCamera','end','aoTexture','gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20activeColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20aoTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(0.5\x20-\x20nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(0.5\x20-\x20nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20cUv\x20=\x20vec2(x,\x20y);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20aoTexColor\x20=\x20texture2D(aoTexture,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vec3(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x201.0\x20-\x20(dot(cUv,\x20cUv));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d\x20+=\x20iTime\x20/\x203.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d\x20*=\x207.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colors\x20=\x20activeColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20aoTexColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20m\x20=\x20fract(d);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m\x20=\x202.0\x20*\x20(m\x20-\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m\x20=\x201.0\x20-\x20abs(m);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m\x20=\x20smoothstep(0.0,\x201.0,\x20m);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20m;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20rCol\x20=\x20vec4(\x20col.rgb,\x20\x20resultColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rCol.rgb\x20*=\x20colors;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rCol\x20=\x20mix(rCol,\x20texColor,\x20texColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20rCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSprite','Sprite','enabled','shaderParticleEngine','fireParticle','_visible','outTex','isOpenScreenEffect','centerGroup','fireSmokeParticle','NormalBlending','fogColor','fireEmitter','mesh','outfire','fireSmokeEmitter','particleGroup','emitter','spreadFactor','dirAngle','rotateY','closeWater','hypot','lineTexture','rippleTexture','root','initTexture','startRipple','endRipple','startPos','line','createLine','createRipple','centripetal','TubeBufferGeometry','gapDistance','pointSize','points','deltaDistance','routePoints','currIndex','animateHandle','InterleavedBuffer','cIndex','InterleavedBufferAttribute','PointsMaterial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_PointSize\x20=\x20size;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sin2(const\x20float\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20v\x20=\x20mod(value,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20step(0.5,\x20v);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.0\x20-\x20s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(v\x20*\x20t\x20+\x20(1.0\x20-\x20v)\x20*\x20s)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20op\x20=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20o\x20=\x201.0\x20-\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20smoothstep(0.25,\x200.75,\x20sin2((iTime\x20/\x202.0\x20-\x20vIndex\x20/\x2016.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20op\x20+=\x20o\x20*\x20s;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20op\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_addTestBox','MeshLambertMaterial','emissive','setHSL','_moveObjInPointsLine','_moveObjToTarget','onStart','autoScale','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scaleSize\x20=\x20sin(iTime\x20*\x205.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x\x20*\x20scaleSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y\x20*\x20scaleSize);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(texture1,\x20vec2(x,\x20y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSkybox','Scene','createTextureCube','ShaderLib','cube','BackSide','tCube','BoxBufferGeometry','scene','format','RGBFormat','mapping','CubeReflectionMapping','encoding','sRGBEncoding','mapView','textureCube','gradientShader','skyBox','createSixPicCubeTexture','loadSixPicCubeTexture','dispatchEvent','canUpdate','createOnePicCubeTexture','ImageLoader','canvas','getContext','images','createBox','isCullGround','intensity','tCube2','transFactor','varying\x20vec3\x20vWorldDirection;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorContrast(vec3\x20rgb,\x20float\x20contrast)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(vec3(0.5),\x20rgb,\x20contrast);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorSaturation(vec3\x20rgb,\x20float\x20adjustment)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20W\x20=\x20vec3(0.2125,\x200.7154,\x200.0721);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20intensity\x20=\x20vec3(dot(rgb,\x20W));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(intensity,\x20rgb,\x20adjustment);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20cubeUv\x20=\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20cubeUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor2\x20=\x20textureCube(\x20tCube2,\x20cubeUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texColor\x20=\x20mix(\x20texColor,\x20texColor2,\x20transFactor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20=\x20colorSaturation(texColor.rgb,\x203.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x200.8;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20-45e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','envMap','createGradientSky','topColorStr','#0077ff','#ffffff','exponent','topColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(skyTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x20offset\x20).y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20texCol.rgb,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createGradientCubeSky','bottomColorStr','#include\x20<common>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20newProject;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20gl_Position\x20=\x20newProject\x20*\x20mvPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_SKY_COLOR','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor.a\x20*=\x20opacity;','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20*=\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x2030000000.0\x20).y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyColor\x20=\x20gl_FragColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SKY_COLOR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20skyColor\x20=\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20skyColor,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSphereSky','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createSphereCubeSky','setBackground','background','shaders','skyMaterial','skyMesh','sunPosition','phi','theta','skyConfigs','nightSkyConfigs','setScalar','setSkyConfig','UniformsUtils','turbidity','rayleigh','luminance','mieCoefficient','mieDirectionalG','refreshSky','cameraPos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20sunPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rayleigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20turbidity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20e\x20=\x202.71828182845904523536028747135266249775724709369995957;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20lambda\x20=\x20vec3(\x20680E-9,\x20550E-9,\x20450E-9\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20totalRayleigh\x20=\x20vec3(\x205.804542996261093E-6,\x201.3562911419845635E-5,\x203.0265902468824876E-5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20v\x20=\x204.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20K\x20=\x20vec3(\x200.686,\x200.678,\x200.666\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20MieConst\x20=\x20vec3(\x201.8399918514433978E14,\x202.7798023919660528E14,\x204.0790479543861094E14\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20cutoffAngle\x20=\x201.6110731556870734;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20steepness\x20=\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20EE\x20=\x201000.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20sunIntensity(\x20float\x20zenithAngleCos\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20zenithAngleCos\x20=\x20clamp(\x20zenithAngleCos,\x20-1.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20EE\x20*\x20max(\x200.0,\x201.0\x20-\x20pow(\x20e,\x20-(\x20(\x20cutoffAngle\x20-\x20acos(\x20zenithAngleCos\x20)\x20)\x20/\x20steepness\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20totalMie(\x20float\x20T\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20(\x200.2\x20*\x20T\x20)\x20*\x2010E-18;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.434\x20*\x20c\x20*\x20MieConst;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunDirection\x20=\x20normalize(\x20sunPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunE\x20=\x20sunIntensity(\x20dot(\x20vSunDirection,\x20up\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunfade\x20=\x201.0\x20-\x20clamp(\x201.0\x20-\x20exp(\x20(\x20sunPosition.y\x20/\x20450000.0\x20)\x20),\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighCoefficient\x20=\x20rayleigh\x20-\x20(\x201.0\x20*\x20(\x201.0\x20-\x20vSunfade\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaR\x20=\x20totalRayleigh\x20*\x20rayleighCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaM\x20=\x20totalMie(\x20turbidity\x20)\x20*\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','spriteTexture','#5fedff','bgColorStr','numberColorStr','repeatX','bgColor','numberColor','lineSpeed','startMat','startPointShader','createNumberCanvas','fillStyle','fillRect','font','40px\x20Verdana','textAlign','textBaseline','middle','fillText','bgTex','numberTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bgColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20numberColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bgTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20numberTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20bc\x20=\x20texture2D(bgTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bc.rgb\x20*=\x20bgColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nc\x20=\x20texture2D(numberTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nc.rgb\x20*=\x20numberColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20bc\x20+\x20nc;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','CatmullRomCurve3','texPath','scanCenter','lightColorStr','lightDiffuse','scanExtent','randomTexture','wireframeMaterial','lightWidth','lightColor','isBlending','isOpenWireframScan','computeTopFaceAttr','brothers','faceRange','sideRange','fill','data_','RoomHigh','topFaceFlags','buildingsHeight','isUseRandomTexture','texPaths','isOpenScan','whFactor','buildingColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_TEXTURE','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20faceAspect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20buildingsHeight;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20scanCenter;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20whFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_RANDOM_TEXTURE','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textures[4];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uniform\x20sampler2D\x20scanTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20groundColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SRGB_TO_LINEAR(c)\x20pow(abs(c),\x20vec3(2.2))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20LINEAR_TO_SRGB(c)\x20pow(abs(c),\x20vec3(1.0\x20/\x202.2))\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gradientNoise(in\x20vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20magic\x20=\x20vec3(0.06711056,\x200.00583715,\x2052.9829189);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(magic.z\x20*\x20fract(dot(uv,\x20magic.xy)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20gradientBg\x20(vec3\x20col1,\x20vec3\x20col2,\x20vec2\x20a,\x20vec2\x20b,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20ba\x20=\x20b\x20-\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20dot(uv\x20-\x20a,\x20ba)\x20/\x20dot(ba,\x20ba);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Saturate\x20and\x20apply\x20smoothstep\x20to\x20the\x20factor.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t\x20=\x20smoothstep(0.0,\x201.0,\x20clamp(t,\x200.0,\x201.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interpolate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(SRGB_TO_LINEAR(col1),\x20SRGB_TO_LINEAR(col2),\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Convert\x20color\x20from\x20linear\x20to\x20sRGB\x20color\x20space\x20(=gamma\x20encode).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20LINEAR_TO_SRGB(color);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Add\x20gradient\x20noise\x20to\x20reduce\x20banding.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color\x20+=\x20(1.0/255.0)\x20*\x20gradientNoise(uv)\x20-\x20(0.5/255.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20lineScan\x20(vec3\x20resultColor,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20lightWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20old\x20-\x20should\x20not\x20use\x20it\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20colorAdd\x20=\x20pow(1.\x20-\x20pow(abs(posValue\x20-\x20time)\x20*\x200.001,\x201.2),\x203.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20colorAdd\x20=\x20colorAdd\x20*\x20lightDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(resultColor,\x20vec3(1.0,\x201.0,\x201.0),\x20colorAdd);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20vec3(1.0,\x201.0,\x201.0),\x20resultColor,\x20extent\x20/\x20lightWidth);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20color\x20=\x20texture2D(scanTexture,\x20vec2(0.0,\x20extent\x20/\x20lightWidth\x20/\x202.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color.rgb\x20=\x20vec3(1).rgb\x20-\x20color.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(\x20color.rgb,\x20resultColor,\x20extent\x20/\x20lightWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor\x20=\x20texture2D(texture1,\x20vec2(0.5,\x200.5));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20topTexColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20texCol.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol1\x20=\x20texture2D(textures[0],\x20vec2(nvUv));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol2\x20=\x20texture2D(textures[1],\x20vec2(nvUv));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol3\x20=\x20texture2D(textures[2],\x20vec2(nvUv));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol1\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol2\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol3\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20int\x20height\x20=\x20int(vHeight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(height\x20>\x2070){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20texCol2.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20if(height\x20<=\x2070\x20&&\x20height\x20>\x2040){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20texCol1.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20if(height\x20<=\x2040\x20&&\x20height\x20>\x2010){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20texCol3.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isOpenScan\x20==\x201){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20lineScan(resultColor.rgb,\x20vModelPos.x,\x20iTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20scanCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20for\x20line\x20scan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newPos.x\x20+=\x20scanCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newPos.z\x20-=\x20scanCenter.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lineScan\x20(float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20lightWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x201.0,\x200.0,\x20extent\x20/\x20lightWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lightWidth\x20=\x20','wireframeShader','updateParams','getMaterial','getWireframeMaterial','sign','log10','Invalid\x20attempt\x20to\x20destructure\x20non-iterable\x20instance','isIterable','createRadialGradient','addColorStop','rgba(255,\x20255,\x20255,\x201)','ESMapTools\x20requires\x20esmap.js','ESLayerType','EFFECT_MARKER','effectMarker','ESLayer','effects','markers','buildings','floors','lights','models','routes','skybox','video','screenEffect','switchEffectTheme','switchEffectLight','clearAll','isInitComplete','esmap\x20is\x20not\x20initialized','getFloorHeight','getFloor','_effectLayers','FloorNum','o3d_','fnum','getLayersByNames','removeLayer','buildingList','floorNums','__Name__','this\x20is\x20null\x20or\x20not\x20defined','removeAll','CylinderSpreadMarker','CircleRippleMarker','CircleRadianMarker','MultiCircleBreathMarker','UpLine','NumberUpParticle','SphereSpreadMarker','ExtentWallMarker','FireSmokeMarker','FireMarker','GuideLineMarker','SignalWifiMarker','PlaneWindMarker','imgUrl','getConfigAssetsPath','images/building/circular2.png','cylinderHeight','moveHeight','isShine','anisotropy','renderer','capabilities','getMaxAnisotropy','seeThrough','images/line/light2_old.png','endPos','maxHeight','isDoubleSide','images/points/particle1.png','activeNum','period','image/line_seg2.png','lineColor','numberBgColor','lineRepeatX','images/out_light4.png','CircleRippleEffect','CircleBipsMarker','images/scale1.png','isCilpGround','scanHeight','clipGroundY','cincture','images/number/fly0101_03.png','offsetHeight','isRandomMarker','randomCenter','setUpdateListen','images/scan/bloom_line2.png','images/scan/light2_6.png','images/wall3.png','scrollImgUrl','wallHeight','isTransparentLight','scrollXRepeat','wallMaterial','extentList','images/fire/inner_fire.png','images/fire/fire.png','SmokeMarker','WaterSpreadMarker','images/water/smokeparticle.png','FloatPointsMarker','isRandomColor','extentHeight','pointNum','fixedSize','images/line/up_line.png','imgRepeat','setResizeListen','routeList','createVideoElement','planeWidth','lineAngle','direct','right','lineAngle\x20extent\x20is\x20(0,\x2090)\x20or\x20(90,\x20180)','GuideLineSprite','contentWidth','contentHeight','showPoint','images/animate/wifi.gif','GifSprite','PlaneFogMarker','layers','CUBE_FLOAT','_instance','setPosition','CIRCLE_ROTATE','CIRCLE_BREATH','TRANSFER_LINE','_bindClick','CIRCLE_RIPPLE','CIRCLE_BIPS','SPHERE_SPREAD','animate','EXTENT_WALL','wallListData','changeStyle','addExtent','isNoClose','FIRE_SMOKE','FIRE','SMOKE','WATER_SPREAD','FLOAT_POINTS','UP_LINE','ROUTES_LINE','viewModeChanged','bid','userId','_getMaterial','_originLineWidth','PLANE_VIDEO','playSound','show','hide','appendContent','SIGNAL_WIFI','width_','height_','ESMapLabel','controlchange','getPerspectiveScale','PLANE_FOG','debug','debugAxeSize','AxesHelper','setRotation','_removeListen','mapPicker','addObject','_enabled','_bindListen','upadateMarker','_bindShowLevel','showLevel','scaleLevelChanged','level','_update','markerType','_options','mapService','getState','_init','isTileBuilding','topTexPath','gradientTexPath','emissiveTexPath','emissiveTexScale','highLightColorStr','emissiveColorStr','isShowVerticalScan','isShowCenterSpread','isShowRadarScan','centerPos','#fbfbfb','hlWidth','hlDiffuse','hlExtent','hlSpeed','vlHeight','vlColorStr','vlExtent','vlIsTop','csColorStr','spreadValue','csMaxRadius','csSpeed','rdColorStr','radarRadius','radarSpeed','radarCenterPos','radarTexPath','textureLightStrength','topRepeat','extentEffectConfig','highLightColor','topTexture','gradientTexture','screenSkyTexture','emissiveTexture','emissiveFactor','hlTime','vlTime','isShowHorizonScan','isShowScanEffect','hlColor','vlColor','vlSpeed','csColor','csCenterPos','radarColor','isBreathColor','textureRotate','top','extentCenter','isUseExtentEffect','gradientImg','isUseScreenSky','skyImg','_heightColorConfigs','themeImgMapping','themeTextureList','lightIntensity','buildingBaseRepeat','unrealBloom','filltype','topImage','sideImage','topImgIndexMap','topTexArr','topTextureType','topTexWrapArr','buildingTexRepeat','topTexRepeatArr','topimagerepeat','sideImgIndexMap','sideTexArr','sideTextureType','sideimagerepeat','sideTexWrapArr','ClampToEdgeWrapping','getStyleFromRoomStyle','_getColorByHeight','range','getDis','computeRoomWidth','screenSkyTexPath','MeshStandardMaterial','sideTex','topTex','gradientTex','extentGradientTex','radarScanTex','radarScanTexture','emissiveTex','screenSkyTex','Uniform','mapTheme','selectedColor','textureRepeat','buildingTexRotate','texLightStg','isShowScan','csTime','rdCenterPos','rdColor','rdTime','rdScanTex','exGradientTex','extentGradientTexture','skyTex','#define\x20IS_OPEN_EF','#define\x20IS_TILE_BUILDING','#define\x20IS_USE_SS_SKY','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20faceAspect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isHideFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20normalizeUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20rUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20buildingTexRotate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHighLight\x20=\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hideFlags\x20=\x20isHideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20normalizeUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.x,\x20buildingTexRepeat.y,\x20buildingTexRotate.x,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20suvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.z,\x20buildingTexRepeat.w,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tvUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svUv\x20=\x20(\x20suvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.x\x20+=\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.z\x20-=\x20centerPos.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHeight\x20=\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRandom\x20=\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBColor\x20=\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHLColor\x20=\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTopTexIndex\x20=\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSideTexIndex\x20=\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSelectedFlag\x20=\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRoundUv\x20=\x20vec2(rUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<project_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vGlPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_BREATH_COL','#define\x20VERTICAL_LINE','#define\x20CENTER_SPREAD','#define\x20RADAR_SCAN','#define\x20EXTENT_EFFECT','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20extentLightDown;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20styleId;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20int\x20TexNum\x20=\x205;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texLightStg;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20emissiveTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20emissiveFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20selectedColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20hlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlSpeed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20vlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spreadValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20csTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20csCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20csColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20rdCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20rdScanTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20extentRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20exGradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20topTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20sideTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20topTexRepeatArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sideTexRepeatArr[TexNum];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SRGB_TO_LINEAR(c)\x20pow(abs(c),\x20vec3(2.2))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20LINEAR_TO_SRGB(c)\x20pow(abs(c),\x20vec3(1.0\x20/\x202.2))\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gradientNoise(in\x20vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20magic\x20=\x20vec3(0.06711056,\x200.00583715,\x2052.9829189);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(magic.z\x20*\x20fract(dot(uv,\x20magic.xy)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edge\x20wihte\x20line\x20and\x20dark\x20bg\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20edgeFactor(vec2\x20p){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec2\x20grid\x20=\x20abs(fract(p\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(p)\x20/\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20min(grid.x,\x20grid.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20gradientBg\x20(vec3\x20col1,\x20vec3\x20col2,\x20vec2\x20a,\x20vec2\x20b,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20ba\x20=\x20b\x20-\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20dot(uv\x20-\x20a,\x20ba)\x20/\x20dot(ba,\x20ba);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Saturate\x20and\x20apply\x20smoothstep\x20to\x20the\x20factor.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t\x20=\x20smoothstep(0.0,\x201.0,\x20clamp(t,\x200.0,\x201.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interpolate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(SRGB_TO_LINEAR(col1),\x20SRGB_TO_LINEAR(col2),\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Convert\x20color\x20from\x20linear\x20to\x20sRGB\x20color\x20space\x20(=gamma\x20encode).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20LINEAR_TO_SRGB(color);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Add\x20gradient\x20noise\x20to\x20reduce\x20banding.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color\x20+=\x20(1.0/255.0)\x20*\x20gradientNoise(uv)\x20-\x20(0.5/255.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20horizontalLine\x20(vec4\x20resultColor,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20hlWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20old\x20-\x20should\x20not\x20use\x20it\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20colorAdd\x20=\x20pow(1.\x20-\x20pow(abs(posValue\x20-\x20time)\x20*\x200.001,\x201.2),\x203.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20colorAdd\x20=\x20colorAdd\x20*\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(resultColor,\x20vec3(1.0,\x201.0,\x201.0),\x20colorAdd);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20a\x20=\x20edgeFactor(nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20vec4(hlColor,\x201.0),\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20color\x20=\x20texture2D(scanTexture,\x20vec2(0.0,\x20extent\x20/\x20hlWidth\x20/\x202.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color.rgb\x20=\x20vec3(1).rgb\x20-\x20color.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(\x20color.rgb,\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20breathCol(float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20period\x20=\x20fract(time\x20/\x20120.0)\x20*\x203.14159265\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20trans\x20=\x20posValue\x20/\x20100.0\x20+\x20sin(period)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(trans,\x20trans,\x20trans);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20verticalLine(vec3\x20col,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(time\x20/\x20360.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hTrans\x20=\x20clamp(posValue\x20/\x20vlHeight,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20abs(f\x20-\x200.5)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20diff\x20=\x20step(0.02,\x20abs(hTrans\x20-\x20f));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20col\x20*\x20(1.0\x20-\x20diff);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec3\x20vPos,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(vPos.xz-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20centerSpreadLine(vec4\x20resultColor,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vModelPos,\x20vec2(csCenterPos.x,\x20csCenterPos.y),\x20time,\x20spreadValue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec4(csColor,\x201.0),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radarScan()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20rdCenterPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20rdCenterPos.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-rdRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20rdRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20-rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotationMatrix\x20=\x20mat2(\x20c,\x20s,-s,\x20\x20c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pivot\x20=\x20vec2(0.5,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotationMatrix\x20*\x20(uv\x20-\x20pivot)\x20+\x20pivot;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(rdScanTex,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb\x20*\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20extentTexColor()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20extentCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20extentCenter.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-extentRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20extentRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(exGradientTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vGlPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vGlPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingTopTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20topTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(topTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(topTexArr[0],\x20topTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(topTexArr[1],\x20topTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(topTexArr[2],\x20topTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(topTexArr[3],\x20topTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingSideTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20sideTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(sideTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(sideTexArr[0],\x20sideTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(sideTexArr[1],\x20sideTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(sideTexArr[2],\x20sideTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(sideTexArr[3],\x20sideTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<lights_fragment_begin>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GeometricContext\x20geometry;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.position\x20=\x20-\x20vViewPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.normal\x20=\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20IncidentLight\x20directLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PointLight\x20pointLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getPointDirectLightIrradiance(\x20pointLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20pointLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SpotLight\x20spotLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getSpotDirectLightIrradiance(\x20spotLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20spotLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isNeedDirectShadow\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DirectionalLight\x20directionalLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getDirectionalDirectLightIrradiance(\x20directionalLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20all(\x20bvec2(\x20directionalLight.shadow,\x20directLight.visible\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20vSelectedFlag\x20<=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20isNeedDirectShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RectAreaLight\x20rectAreaLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct_RectArea(\x20rectAreaLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20clearCoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<map_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20useTopUv,\x20useSideUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingTopTextures(tvUv,\x20nvUv,\x20topTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.x\x20==\x200.0\x20&&\x20buildingTexRepeat.y\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20nvUv;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20texture2D(topTex,\x20useTopUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingSideTextures(svUv,\x20nvUv,\x20sideTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.z\x20==\x200.0\x20&&\x20buildingTexRepeat.w\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20texture2D(sideTex,\x20useSideUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20gradientColor\x20=\x20texture2D(gradientTex,\x20vec2(1.0,\x20nvUv.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20*=\x20gradientColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shaderCompileComplete','toggleColorLight','toggleExtentLight','floatOffset','wireMaterial','cubeShader','lineShader','settingShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20floatOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rotateVerticesInY(vec3\x20vertices,\x20float\x20delta)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20vertices.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_x\x20=\x20p.x*cos(delta)\x20-\x20p.z*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_z\x20=\x20p.z*cos(delta)\x20+\x20p.x*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(new_x,\x20p.y,\x20new_z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<logdepthbuf_vertex>','OctahedronBufferGeometry','moveOpts','animateOpts','centerHeight','swingHeight','rotateSpeed','animateType','isStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20animateType;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rand2(vec2\x20co){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(dot(co.xy,\x20vec2(12.9898,78.233)))\x20*\x2043758.5453);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scaleSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(iTime\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20time1\x20=\x20iTime\x20+\x20rand2(vec2(cIndex,\x20cIndex+1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(time1\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x204)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20scaleSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElapsedTime','breath','blink','twinkle','flash','textures','textureSprites','isInit','initLoop','createTexture','Texture','addUv2AlphaMask','aoMap','aoMapIntensity','IS_USE_MASK_ALPHA','alphaMaskTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<alphamap_fragment>','addUv2Channel','uv2Trans','uv2TransSpeed','texture2','tex2UvAni','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20tex2UvAni;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_MAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor\x20=\x20texture2D(\x20map,\x20vUv\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor2\x20=\x20texture2D(\x20texture2,\x20vUv2\x20+\x20tex2UvAni);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20=\x20mapTexelToLinear(\x20texelColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor2\x20=\x20mapTexelToLinear(\x20texelColor2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20+=\x20texelColor2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20texelColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addSpriteAnimate','imgWidth','row','column','uvTranslate','#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20-0.03,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightIntensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCilpGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20clipGroundY;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol\x20*\x20lightIntensity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCilpGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20clipGroundY){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cinctureCount','focusColorStr','#ffee98','isClockWise','GrannyKnot','extentIds','extentWallList','_focusExtentId','groundMaterial','isScrollX','FontSide','lineRep','lineTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20lineTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repUv\x20=\x20vec2(nvUv)\x20*\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20repUv.y\x20+=\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20lineTexCol\x20=\x20texture2D(lineTex,\x20repUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20lineTexCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20(1.\x20-\x20pow(nvUv.y,\x205.0));\x20//\x20alpha\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addWall','extentId','addWallScrollYGeometry','addWallScrollXGeometry','catmullrom','lineParams','extrusionSegments','closed','addGround','createShape','Shape','moveTo','lineTo','focusExtent','isAnimate','getExtentWall','focusColor','switchExtentsVisible','blurExtent','_tempColor','startPopAnimate','Elastic','groundColorStr','groundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUv\x20=\x20vec2(uv)\x20*\x200.01;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(100.0,\x20100.0,\x201.0,\x201.0,\x200.7853,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20nUv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20nvUv).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','radiusSegments','boundingBox','getCenter','ShapeBufferGeometry','lineList','mesh_line','LineBasicMaterial','EdgesGeometry','LineSegments','dispseMesh','createCircleGradient','CanvasTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20getAirWave(vec2\x20uv,\x20vec4\x20PerAmpThickDec,\x20float\x20rep,\x20float\x20time)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20val\x20=\x20abs(PerAmpThickDec.z\x20/\x20(uv.y\x20+\x20PerAmpThickDec.y\x20*\x20sin(uv.x\x20/\x20PerAmpThickDec.x\x20+\x20PerAmpThickDec.w)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mask\x20=\x200.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mod(uv.x,rep)\x20-\x20rep\x20*\x20.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20rep/2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20-=\x20rep/4.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mask\x20=\x20rep/2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20=\x20step(val,\x20.5)\x20+\x20step(mask,\x201.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20step(val,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thickness','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uv\x20+=\x20iMouse.xy\x20/\x2020.;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20iTime\x20/\x2040.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv2\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv2.x\x20+=\x20iTime\x20/\x2010.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv3\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv3.x\x20+=\x20iTime\x20/\x2030.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20noiseSmooth(uv\x20*\x204.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv\x20*\x208.)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv2\x20*\x2016.)\x20*\x200.25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2032.)\x20*\x200.125;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2064.)\x20*\x200.0625;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20/=\x201.2;\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20*=\x20smoothstep(0.2,\x20.6,\x20col);\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','smokeParticle','tex','smokeEmitter','floatPointsParticle','isSpreadColor','createLinearGradient','#000000','texRepeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20iTime,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture(texture1,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture(alphaTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20alphaTexCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate','#777777','recursion','clipBias','texWidth','texHeight','textureWidth','devicePixelRatio','Reflector','textureHeight','ReflectorShader','Plane','PerspectiveCamera','isPowerOfTwo','generateMipmaps','tDiffuse','textureMatrix','onBeforeRender','setFromMatrixPosition','extractRotation','subVectors','dot','reflect','negate','projectionMatrix','multiply','matrixWorldInverse','setFromNormalAndCoplanarPoint','normal','getRenderTarget','shadowMap','autoUpdate','setRenderTarget','isArrayCamera','state','viewport','\x0a\x09\x09uniform\x20mat4\x20textureMatrix;\x0a\x09\x09varying\x20vec4\x20vUv;\x0a\x09\x09varying\x20vec2\x20vUV;\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x09\x09\x09vUv\x20=\x20textureMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09vUV\x20=\x20uv;\x0a\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09}\x0a\x09','\x0a\x09\x09uniform\x20vec3\x20color;\x0a\x09\x09uniform\x20sampler2D\x20tDiffuse;\x0a\x09\x09\x0a\x09\x09varying\x20vec4\x20vUv;\x0a\x09\x09varying\x20vec2\x20vUV;\x0a\x0a\x09\x09float\x20blendOverlay(\x20float\x20base,\x20float\x20blend\x20)\x20{\x0a\x09\x09\x09return(\x20base\x20<\x200.5\x20?\x20(\x202.0\x20*\x20base\x20*\x20blend\x20)\x20:\x20(\x201.0\x20-\x202.0\x20*\x20(\x201.0\x20-\x20base\x20)\x20*\x20(\x201.0\x20-\x20blend\x20)\x20)\x20);\x0a\x09\x09}\x0a\x0a\x09\x09vec3\x20blendOverlay(\x20vec3\x20base,\x20vec3\x20blend\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x20blendOverlay(\x20base.r,\x20blend.r\x20),\x20blendOverlay(\x20base.g,\x20blend.g\x20),\x20blendOverlay(\x20base.b,\x20blend.b\x20)\x20);\x0a\x09\x09}\x0a\x0a\x09\x09#define\x20ITERATIONS\x203\x0a\x0a\x09\x09#define\x20TAU\x20\x206.28318530718\x0a\x0a\x09\x09vec2\x20Sample(inout\x20vec2\x20r)\x0a\x09\x09{\x0a\x09\x09\x09r\x20=\x20fract(r\x20*\x20vec2(33.3983,\x2043.4427));\x0a\x09\x09\x09return\x20r-.5;\x0a\x09\x09\x09//return\x20sqrt(r.x+.001)\x20*\x20vec2(sin(r.y\x20*\x20TAU),\x20cos(r.y\x20*\x20TAU))*.5;\x20//\x20<<===\x20circular\x20sampling.\x0a\x09\x09}\x0a\x0a\x09\x09#define\x20HASHSCALE\x20443.8975\x0a\x09\x09vec2\x20Hash22(vec2\x20p)\x0a\x09\x09{\x0a\x09\x09\x09vec3\x20p3\x20=\x20fract(vec3(p.xyx)\x20*\x20HASHSCALE);\x0a\x09\x09\x09p3\x20+=\x20dot(p3,\x20p3.yzx+19.19);\x0a\x09\x09\x09return\x20fract(vec2((p3.x\x20+\x20p3.y)*p3.z,\x20(p3.x+p3.z)*p3.y));\x0a\x09\x09}\x0a\x0a\x09\x09vec3\x20Blur(vec2\x20uv,\x20float\x20radius)\x0a\x09\x09{\x0a\x09\x09\x09radius\x20=\x20radius\x20*\x20.04;\x0a\x09\x09\x09\x0a\x09\x09\x09vec2\x20circle\x20=\x20vec2(radius)\x20*\x20vec2((vUV.y\x20/\x20vUV.x),\x201.0);\x0a\x09\x09\x09\x0a\x09\x09\x09//\x20Remove\x20the\x20time\x20reference\x20to\x20prevent\x20random\x20jittering\x20if\x20you\x20don\x27t\x20like\x20it.\x0a\x09\x09\x09vec2\x20random\x20=\x20Hash22(uv);\x0a\x0a\x09\x09\x09//\x20Do\x20the\x20blur\x20here...\x0a\x09\x09\x09vec3\x20acc\x20=\x20vec3(0.0);\x0a\x09\x09\x09for\x20(int\x20i\x20=\x200;\x20i\x20<\x20ITERATIONS;\x20i++)\x0a\x09\x09\x09{\x0a\x09\x09\x09\x09acc\x20+=\x20texture2D(tDiffuse,\x20uv\x20+\x20circle\x20*\x20Sample(random),\x20radius*10.0).xyz;\x0a\x09\x09\x09}\x0a\x09\x09\x09return\x20acc\x20/\x20float(ITERATIONS);\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vec4\x20base\x20=\x20texture2DProj(\x20tDiffuse,\x20vUv\x20);\x0a\x09\x09\x09vec3\x20mirroCol\x20=\x20blendOverlay(\x20base.rgb,\x20color\x20);\x0a\x0a\x09\x09\x09//\x20vec3\x20blurColor\x20=\x20vec3(Blur(vUv.xz\x20*\x20vec2(1.0,\x20-1.0),\x201.0));\x0a\x09\x09\x09//\x20mirroCol\x20*=\x20blurColor;\x0a\x0a\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20mirroCol,\x201.0\x20);\x0a\x09\x09}\x0a\x09','RGBELoader','envCubeMap','loadHDR','resolutionSize','RGBEEncoding','NearestFilter','EquirectangularToCubeGenerator','PMREMGenerator','cubeLods','CubeUVRenderTarget','varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','#include\x20<common>\x0a\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20int\x20faceIndex;\x0a\x09\x09\x09\x09uniform\x20float\x20roughness;\x0a\x09\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09\x09\x09\x09uniform\x20float\x20mapSize;\x0a\x09\x09\x09\x09uniform\x20float\x20tFlip;\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09float\x20GGXRoughnessToBlinnExponent(\x20const\x20in\x20float\x20ggxRoughness\x20)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20ggxRoughness\x20+\x200.0001;\x0a\x09\x09\x09\x09\x09a\x20*=\x20a;\x0a\x09\x09\x09\x09\x09return\x20(\x202.0\x20/\x20a\x20-\x202.0\x20);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSamplePhong(vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20specPow)\x20{\x0a\x09\x09\x09\x09\x09float\x20phi\x20=\x20uv.y\x20*\x202.0\x20*\x20PI;\x0a\x09\x09\x09\x09\x09float\x20cosTheta\x20=\x20pow(1.0\x20-\x20uv.x,\x201.0\x20/\x20(specPow\x20+\x201.0));\x0a\x09\x09\x09\x09\x09float\x20sinTheta\x20=\x20sqrt(1.0\x20-\x20cosTheta\x20*\x20cosTheta);\x0a\x09\x09\x09\x09\x09vec3\x20sampleDir\x20=\x20vec3(cos(phi)\x20*\x20sinTheta,\x20sin(phi)\x20*\x20sinTheta,\x20cosTheta);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20sampleDir;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSampleGGX(\x20vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20Roughness\x20)\x0a\x09\x09\x09\x09{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20Roughness\x20*\x20Roughness;\x0a\x09\x09\x09\x09\x09float\x20Phi\x20=\x202.0\x20*\x20PI\x20*\x20uv.x;\x0a\x09\x09\x09\x09\x09float\x20CosTheta\x20=\x20sqrt(\x20(1.0\x20-\x20uv.y)\x20/\x20(\x201.0\x20+\x20(a*a\x20-\x201.0)\x20*\x20uv.y\x20)\x20);\x0a\x09\x09\x09\x09\x09float\x20SinTheta\x20=\x20sqrt(\x201.0\x20-\x20CosTheta\x20*\x20CosTheta\x20);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20vec3(SinTheta\x20*\x20cos(\x20Phi\x20),\x20SinTheta\x20*\x20sin(\x20Phi\x20),\x20CosTheta);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09mat3\x20matrixFromVector(vec3\x20n)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x201.0\x20/\x20(1.0\x20+\x20n.z);\x0a\x09\x09\x09\x09\x09float\x20b\x20=\x20-n.x\x20*\x20n.y\x20*\x20a;\x0a\x09\x09\x09\x09\x09vec3\x20b1\x20=\x20vec3(1.0\x20-\x20n.x\x20*\x20n.x\x20*\x20a,\x20b,\x20-n.x);\x0a\x09\x09\x09\x09\x09vec3\x20b2\x20=\x20vec3(b,\x201.0\x20-\x20n.y\x20*\x20n.y\x20*\x20a,\x20-n.y);\x0a\x09\x09\x09\x09\x09return\x20mat3(b1,\x20b2,\x20n);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09vec4\x20testColorMap(float\x20Roughness)\x20{\x0a\x09\x09\x09\x09\x09vec4\x20color;\x0a\x09\x09\x09\x09\x09if(faceIndex\x20==\x200)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x201)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x202)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x203)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x204)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09color\x20*=\x20(\x201.0\x20-\x20Roughness\x20);\x0a\x09\x09\x09\x09\x09return\x20color;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec3\x20sampleDirection;\x0a\x09\x09\x09\x09\x09vec2\x20uv\x20=\x20vUv*2.0\x20-\x201.0;\x0a\x09\x09\x09\x09\x09float\x20offset\x20=\x20-1.0/mapSize;\x0a\x09\x09\x09\x09\x09const\x20float\x20a\x20=\x20-1.0;\x0a\x09\x09\x09\x09\x09const\x20float\x20b\x20=\x201.0;\x0a\x09\x09\x09\x09\x09float\x20c\x20=\x20-1.0\x20+\x20offset;\x0a\x09\x09\x09\x09\x09float\x20d\x20=\x201.0\x20-\x20offset;\x0a\x09\x09\x09\x09\x09float\x20bminusa\x20=\x20b\x20-\x20a;\x0a\x09\x09\x09\x09\x09uv.x\x20=\x20(uv.x\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.x\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09uv.y\x20=\x20(uv.y\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.y\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09if\x20(faceIndex==0)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(1.0,\x20-uv.y,\x20-uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==1)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-1.0,\x20-uv.y,\x20uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==2)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x201.0,\x20uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==3)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-1.0,\x20-uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==4)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-uv.y,\x201.0);\x0a\x09\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-uv.x,\x20-uv.y,\x20-1.0);\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09vec3\x20correctedDirection\x20=\x20vec3(\x20tFlip\x20*\x20sampleDirection.x,\x20sampleDirection.yz\x20);\x0a\x09\x09\x09\x09\x09mat3\x20vecSpace\x20=\x20matrixFromVector(\x20normalize(\x20correctedDirection\x20)\x20);\x0a\x09\x09\x09\x09\x09vec3\x20rgbColor\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x09\x09const\x20int\x20NumSamples\x20=\x20SAMPLES_PER_LEVEL;\x0a\x09\x09\x09\x09\x09vec3\x20vect;\x0a\x09\x09\x09\x09\x09float\x20weight\x20=\x200.0;\x0a\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x200;\x20i\x20<\x20NumSamples;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09\x09\x09float\x20sini\x20=\x20sin(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20cosi\x20=\x20cos(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20r\x20=\x20rand(vec2(sini,\x20cosi));\x0a\x09\x09\x09\x09\x09\x09vect\x20=\x20ImportanceSampleGGX(vec2(float(i)\x20/\x20float(NumSamples),\x20r),\x20vecSpace,\x20roughness);\x0a\x09\x09\x09\x09\x09\x09float\x20dotProd\x20=\x20dot(vect,\x20normalize(sampleDirection));\x0a\x09\x09\x09\x09\x09\x09weight\x20+=\x20dotProd;\x0a\x09\x09\x09\x09\x09\x09vec3\x20color\x20=\x20envMapTexelToLinear(textureCube(envMap,\x20vect)).rgb;\x0a\x09\x09\x09\x09\x09\x09rgbColor.rgb\x20+=\x20color;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09rgbColor\x20/=\x20float(NumSamples);\x0a\x09\x09\x09\x09\x09//rgbColor\x20=\x20testColorMap(\x20roughness\x20).rgb;\x0a\x09\x09\x09\x09\x09gl_FragColor\x20=\x20linearToOutputTexel(\x20vec4(\x20rgbColor,\x201.0\x20)\x20);\x0a\x09\x09\x09\x09}','sourceTexture','isCubeTexture','SAMPLES_PER_LEVEL','gammaInput','toneMapping','toneMappingExposure','gammaOutput','numLods','tFlip','mapSize','renderToCubeMapTargetFace','faceIndex','LinearEncoding','GammaEncoding','log','WebGLRenderTargetCube','RGBM16Encoding','WebGLRenderTarget','CubeUVReflectionMapping','objects','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20envMap;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mapSize;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20testColor;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20faceIndex;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20sampleDirection;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20uv\x20*\x202.0\x20-\x201.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20*=\x20-1.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(faceIndex\x20==\x200)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(1.0,\x20uv.y,\x20-uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x201)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x201.0,\x20uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x202)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20uv.y,\x201.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x203)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-1.0,\x20uv.y,\x20uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x204)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20-1.0,\x20-uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-uv.x,\x20uv.y,\x20-1.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20envMapTexelToLinear(\x20textureCube(\x20envMap,\x20sampleDirection\x20)\x20);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20linearToOutputTexel(\x20color\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','NoBlending','PMREMCubeUVPacker','updateProjectionMatrix','LinearToneMapping','fromEquirectangular','CubemapFromEquirect','\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09vec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x0a\x09\x09\x09\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x0a\x09\x09\x09\x09#include\x20<begin_vertex>\x0a\x09\x09\x09\x09#include\x20<project_vertex>\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','\x0a\x09\x09\x09uniform\x20sampler2D\x20tEquirect;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09#define\x20RECIPROCAL_PI\x200.31830988618\x0a\x09\x09\x09#define\x20RECIPROCAL_PI2\x200.15915494\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x0a\x09\x09\x09\x09vec2\x20sampleUV;\x0a\x0a\x09\x09\x09\x09sampleUV.y\x20=\x20asin(\x20clamp(\x20direction.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09sampleUV.x\x20=\x20atan(\x20direction.z,\x20direction.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','tEquirect','CubeCamera','renderTarget','varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localPosition\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20equirectangularMap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20EquirectangularSampleUV(vec3\x20v)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(atan(v.z,\x20v.x),\x20asin(v.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20*=\x20vec2(0.1591,\x200.3183);\x20//\x20inverse\x20atan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20EquirectangularSampleUV(normalize(localPosition));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(equirectangularMap,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','equirectangularMap','views','CubemapGenerator','manager','DataTextureLoader','_parser','THREE.RGBELoader\x20Read\x20Error:\x20','THREE.RGBELoader:\x20Error:\x20','pos','fromCharCode','RGBE','byteLength','no\x20header\x20found','match','valid','programtype','comments','exposure','missing\x20image\x20size\x20specifier','missing\x20format\x20specifier','wrong\x20scanline\x20width','unable\x20to\x20allocate\x20buffer\x20space','bad\x20rgbe\x20scanline\x20format','bad\x20scanline\x20data','UnsignedByteType','RGBEFormat','FloatType','THREE.RGBELoader:\x20unsupported\x20type:\x20','setType','fluctuate','skyTexture','texUvScale','#b2b2e6','flowAngle','water','alphaMaskPath','targetMeshes','IS_USE_ORIGING_MAP','IS_USE_CUS_ALPHA','IS_USE_SS_SKY','waterScale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20uv2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV2\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20fluctuate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texUvScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20flowDirect;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20varying\x20float\x20isTop;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash(\x20in\x20vec2\x20p\x20)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(p.x*15.32+p.y*35.78)\x20*\x2043758.23);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash2(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(hash(p*.754),hash(1.5743*p.yx+4.5891))-.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20add\x20=\x20vec2(0.5,\x200.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20floor(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20f\x20=\x20fract(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20f*f*(3.0-2.0*f);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20res\x20=\x20mix(mix(\x20hash2(p),\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash2(p\x20+\x20add.xy),f.x),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mix(\x20hash2(p\x20+\x20add.yx),\x20hash2(p\x20+\x20add.xx),f.x),f.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20res;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2b(\x20in\x20vec2\x20p\x20)//\x20Simplex\x20Noise\x20from\x20IQ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K1\x20=\x200.366025404;\x20//\x20(sqrt(3)-1)/2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K2\x20=\x200.211324865;\x20//\x20(3-sqrt(3))/6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20/=2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20i\x20=\x20floor(\x20p\x20+\x20(p.x+p.y)*K1\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20a\x20=\x20p\x20-\x20i\x20+\x20(i.x+i.y)*K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20o\x20=\x20(a.x>a.y)\x20?\x20vec2(1.0,0.0)\x20:\x20vec2(0.0,1.0);\x20//vec2\x20of\x20=\x200.5\x20+\x200.5*vec2(sign(a.x-a.y),\x20sign(a.y-a.x));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20b\x20=\x20a\x20-\x20o\x20+\x20K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20c\x20=\x20a\x20-\x201.0\x20+\x202.0*K2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20h\x20=\x20max(\x200.5-vec3(dot(a,a),\x20dot(b,b),\x20dot(c,c)\x20),\x200.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20nx\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+0.0)),\x20dot(b,hash2(i+o)),\x20dot(c,hash2(i+1.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20ny\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+4.5)),\x20dot(b,hash2(i+o+4.5)),\x20dot(c,hash2(i+1.0+4.5)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(dot(\x20nx,\x20vec3(fluctuate)\x20),dot(\x20ny,\x20vec3(fluctuate)\x20));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20m2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20fbm2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20r\x20=\x20vec2(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20+=\x20m2*noise2b(x+r)*a;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x\x20+=.3*r+.4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20water(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=fbm2(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20rotateUV(vec2\x20uv,\x20float\x20rotation)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mid\x20=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20sin(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20+\x20mid,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20-\x20sin(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20mid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv\x20+\x20disturb).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texture2D(\x20alphaMaskTex,\x20vUV2\x20).a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20/=\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotateUV(uv,\x20flowDirect);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.5*iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20st\x20=\x20sin(t),\x20ct\x20=\x20cos(t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m2\x20=\x20mat2(ct,st,-st,ct);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20water(uv+2.*iTime)+2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20length(p)/7.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c=clamp(pow(c,3.),0.,1.);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_ORIGING_MAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texCol\x20=\x20texture2D(texture1,uv\x20*\x20texUvScale\x20+\x20p/10.).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,lightColor,c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(p/10.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20skyCol\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','texScale','targetMesh','isRandom','textureLoad','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_RANDOM','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20pi\x20=\x203.141592;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hexRatio\x20=\x20vec2(1.0,\x20sqrt(3.0));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//center,\x20index\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20GetHexGridInfo(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hexIndex\x20=\x20floor((vec4(uv,\x20uv\x20-\x20vec2(0.5,\x201.0))\x20/\x20hexRatio.xyxy)\x20+\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hexCenter\x20=\x20vec4(hexIndex.xy\x20*\x20hexRatio,\x20(hexIndex.zw\x20+\x200.5)\x20*\x20hexRatio);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20offset\x20=\x20uv.xyxy\x20-\x20hexCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20dot(offset.xy,\x20offset.xy)\x20<\x20dot(offset.zw,\x20offset.zw)\x20?\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4(hexCenter.xy,\x20hexIndex.xy)\x20:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4(hexCenter.zw,\x20hexIndex.zw);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20GetHexSDF(in\x20vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20=\x20abs(p);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.5\x20-\x20max(dot(p,\x20hexRatio\x20*\x200.5),\x20p.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20getNodeOffsets(in\x20int\x20nodeIndex){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(nodeIndex\x20==\x200){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(0.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(nodeIndex\x20==\x201){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(1.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(nodeIndex\x20==\x202){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(1.0,-1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//xy:\x20node\x20pos,\x20z:\x20weight\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20GetTriangleInterpNode(in\x20vec2\x20pos,\x20in\x20float\x20freq,\x20in\x20int\x20nodeIndex)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20pos\x20*\x20freq\x20+\x20getNodeOffsets(nodeIndex)\x20/\x20hexRatio.xy\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hexInfo\x20=\x20GetHexGridInfo(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x20GetHexSDF(uv\x20-\x20hexInfo.xy)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(hexInfo.xy\x20/\x20freq,\x20dist);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20hash33(\x20vec3\x20p\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20=\x20vec3(\x20dot(p,vec3(127.1,311.7,\x2074.7)),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dot(p,vec3(269.5,183.3,246.1)),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dot(p,vec3(113.5,271.9,124.6)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(p)*43758.5453123);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20GetTextureSample(vec2\x20pos,\x20float\x20freq,\x20vec2\x20nodePoint)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20hash\x20=\x20hash33(vec3(nodePoint.xy,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ang\x20=\x20hash.x\x20*\x202.0\x20*\x20pi;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotation\x20=\x20mat2(cos(ang),\x20sin(ang),\x20-sin(ang),\x20cos(ang));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20rotation\x20*\x20pos\x20*\x20freq\x20+\x20hash.yz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(texture1,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20PreserveVariance(vec3\x20linearColor,\x20vec3\x20meanColor,\x20float\x20moment2)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(linearColor\x20-\x20meanColor)\x20/\x20sqrt(moment2)\x20+\x20meanColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20normCoord\x20=\x20vUV\x20*\x20texScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ivec2\x20quadIndex2\x20=\x20ivec2(normCoord\x20*\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20int\x20quadIndex\x20=\x20quadIndex2.x\x20+\x20quadIndex2.y\x20*\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texFreq\x20=\x2010.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20tileFreq\x20=\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20moment1\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20moment2\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for(int\x20i\x20=\x200;\x20i\x20<\x203;\x20i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20interpNode\x20=\x20GetTriangleInterpNode(normCoord,\x20tileFreq,\x20i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20+=\x20GetTextureSample(normCoord,\x20texFreq,\x20interpNode.xy)\x20*\x20interpNode.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20moment1\x20+=\x20interpNode.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20moment2\x20+=\x20interpNode.z\x20*\x20interpNode.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20meanColor\x20=\x20texture2D(texture1,\x20vec2(0.0),\x2010.0).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20PreserveVariance(resultColor.rgb,\x20meanColor,\x20moment2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','particles','createPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20alphaColor.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texColor.rgb\x20*\x20color,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','materialType','basic','isShowScanLight','scanLightColor','createGround','lambert','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20','toFixed',',\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_SCAN_LIGHT','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20scanLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20scanTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20centerSpreadLine(vec3\x20resultColor,\x20float\x20time,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(uv,\x20vec2(0.5),\x20time,\x20.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec3(scanLightColor),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20waveSpread(vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-uv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-uv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','videoElement','play','muted','style','setAttribute','playsinline','crossOrigin','source','currentTime','sideTexture','updateMatrix','matrix','sideTexMat','#define\x20USE_TOP_TEX','#define\x20USE_SIDE_TEX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat3\x20topTexMat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat3\x20sideTexMat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tvUV\x20=\x20(\x20topTexMat\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svUV\x20=\x20(\x20sideTexMat\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shadowCamera','isAnimation','isMorph','morphTargets','setShadow','castShadow','receiveShadow','customDepthMaterial','depthMaterial','InstancedBufferGeometry','maxInstancedCount','morphAttributes','offsets','num','scales','orientations','Quaternion','Euler','DEG2RAD','rand','rot','setFromEuler','offsetAttribute','scaleAttribute','orientationAttribute','InstancedBufferAttribute','orientation','setMaterial','uniform\x20mat4\x20cmtx;','uniform\x20float\x20morpher[\x208\x20];','attribute\x20vec3\x20offset;','attribute\x20vec4\x20orientation;','mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{','float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;','float\x20x2\x20=\x20x\x20+\x20x,\x09y2\x20=\x20y\x20+\x20y,\x20z2\x20=\x20z\x20+\x20z;','float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;','float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;','float\x20sx\x20=\x20scale.x,\x20sy\x20=\x20scale.y,\x20sz\x20=\x20scale.z;','B[0][0]\x20=\x20(\x201.0\x20-\x20(\x20yy\x20+\x20zz\x20)\x20)\x20*\x20sx;','B[0][1]\x20=\x20(\x20xy\x20+\x20wz\x20)\x20*\x20sx;','B[0][2]\x20=\x20(\x20xz\x20-\x20wy\x20)\x20*\x20sx;','B[1][0]\x20=\x20(\x20xy\x20-\x20wz\x20)\x20*\x20sy;','B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;','B[1][3]\x20=\x200.0;','B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;','B[2][1]\x20=\x20(\x20yz\x20-\x20wx\x20)\x20*\x20sz;','B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;','B[3][0]\x20=\x20position.x;','B[3][2]\x20=\x20position.z;','return\x20B;','mat3\x20getNormalMatrix(\x20mat4\x20A\x20)\x20{','return\x20transpose(\x20inverse(\x20mat3(\x20A\x20)\x20)\x20);','vertexPars_V1','mat4\x20B;','B[0][3]\x20=\x200.0;','B[3][1]\x20=\x20position.y;','float\x20n13\x20=\x20A[2][0],\x20n23\x20=\x20A[2][1],\x20n33\x20=\x20A[2][2];','float\x20t11\x20=\x20n33\x20*\x20n22\x20-\x20n32\x20*\x20n23;','float\x20t12\x20=\x20n32\x20*\x20n13\x20-\x20n33\x20*\x20n12;','float\x20t13\x20=\x20n23\x20*\x20n12\x20-\x20n22\x20*\x20n13;','float\x20det\x20=\x20n11\x20*\x20t11\x20+\x20n21\x20*\x20t12\x20+\x20n31\x20*\x20t13;','B[0][0]\x20=\x20t11\x20*\x20detInv;','B[0][1]\x20=\x20(\x20n31\x20*\x20n23\x20-\x20n33\x20*\x20n21\x20)\x20*\x20detInv;','B[0][2]\x20=\x20(\x20n32\x20*\x20n21\x20-\x20n31\x20*\x20n22\x20)\x20*\x20detInv;','B[1][0]\x20=\x20t12\x20*\x20detInv;','B[1][1]\x20=\x20(\x20n33\x20*\x20n11\x20-\x20n31\x20*\x20n13\x20)\x20*\x20detInv;','B[1][2]\x20=\x20(\x20n31\x20*\x20n12\x20-\x20n32\x20*\x20n11\x20)\x20*\x20detInv;','B[2][0]\x20=\x20t13\x20*\x20detInv;','B[2][1]\x20=\x20(\x20n21\x20*\x20n13\x20-\x20n23\x20*\x20n11\x20)\x20*\x20detInv;','B[2][2]\x20=\x20(\x20n22\x20*\x20n11\x20-\x20n21\x20*\x20n12\x20)\x20*\x20detInv;','mat3\x20tmpTranspose(\x20mat3\x20A\x20)\x20{','mat3\x20B;','B[0][0]\x20=\x20A[0][0];','B[0][1]\x20=\x20A[1][0];','B[0][2]\x20=\x20A[2][0];','B[1][0]\x20=\x20A[0][1];','B[1][1]\x20=\x20A[1][1];','return\x20tmpTranspose(\x20tmpInverse(\x20mat3(\x20A[0][0],\x20A[0][1],\x20A[0][2],\x20A[1][0],\x20A[1][1],\x20A[1][2],\x20A[2][0],\x20A[2][1],\x20A[2][2]\x20)\x20)\x20);','beginInstanceVertex','mat4\x20world\x20=\x20ComposeWorldMatrix(\x20offset,\x20orientation,\x20scales\x20);','projectVertex','vec4\x20mvPosition\x20=\x20viewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);','worldPosVertex','#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)','vec4\x20worldPosition\x20=\x20world\x20*\x20vec4(\x20transformed,\x201.0\x20);','mat3\x20normalMtx\x20=\x20getNormalMatrix(\x20viewMatrix\x20);','vec3\x20transformedNormal\x20=\x20normalMtx\x20*\x20objectNormal;','#ifdef\x20FLIP_SIDED','#ifdef\x20USE_TANGENT','transformedTangent\x20=\x20-\x20transformedTangent;','morping','transformed\x20+=\x20(\x20morphTarget0\x20-\x20position\x20)\x20*\x20morpher[\x200\x20];','transformed\x20+=\x20(\x20morphTarget2\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x202\x20];','#ifndef\x20USE_MORPHNORMALS','transformed\x20+=\x20(\x20morphTarget4\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x204\x20];','transformed\x20+=\x20(\x20morphTarget6\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x206\x20];','transformed\x20+=\x20(\x20morphTarget7\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x207\x20];','cmtx','morpher','#include\x20<common>\x0a','#include\x20<uv_vertex>\x0a','#include\x20<defaultnormal_vertex>','normalVertex','#include\x20<worldpos_vertex>','MeshDepthMaterial','RGBADepthPacking','setMorph','morphTargetInfluences','setOrientation','setScale','receiveLayer','fov','videoAspect','isShowHelper','isShowFarPlane','projector','helper','containMeshList','cameraFar','cameraFov','images/video_mask.png','createProjector','traverse','nodeType','Material','resetMaterial2','_originMaterial','_tempMaterial','videoProject','projectPlane','enableZoom','showVisualField','visualFieldColor','scanSceneMesh','minX','minY','maxX','maxY','gridNum','rayPointer','raySceneMesh','raycastByCoord','ignoredUuids','updateMatrixWorld','createProjectorHelper','createCameraHelperFarPlane','pointMap','getY','getZ','setFromPoints','videoTex','videoTexMask','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTexMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoCol\x20=\x20texture2D(videoTex,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoMaskCol\x20=\x20texture2D(videoTexMask,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20videoCol.a\x20=\x20videoMaskCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20videoCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dot(\x20vClipPosition,\x20vec3(0.0,\x201.0,\x200.0)\x20)\x20>\x200.1)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updateCameraTarget','saveCameraMatrices','objects_','_root_','removeToPicker','resetMaterial','project','isProjected','resetAllMaterial','VideoTexture','#aaa','type_','image','videoWidth','videoHeight','naturalWidth','bottom','createMaterial2','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20clamp\x20the\x20w\x20to\x20make\x20sure\x20we\x20don\x27t\x20project\x20behind\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20w\x20=\x20max(vTexCoords.w,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20(vTexCoords.xy\x20/\x20w)\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20corrected\x20width\x20and\x20height\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mapTex(uv.x,\x200.0,\x201.0,\x200.5\x20-\x20widthScaled\x20/\x202.0,\x200.5\x20+\x20widthScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20=\x20mapTex(uv.y,\x200.0,\x201.0,\x200.5\x20-\x20heightScaled\x20/\x202.0,\x200.5\x20+\x20heightScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20sample\x20out\x20of\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isInTexture\x20=\x20(max(uv.x,\x20uv.y)\x20<=\x201.0\x20&&\x20min(uv.x,\x20uv.y)\x20>=\x200.0);\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20render\x20also\x20the\x20back\x20of\x20the\x20object\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20projectorDirection\x20=\x20normalize(projPosition\x20-\x20vWorldPosition.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20projectorDirection\x20=\x20projDirection;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dotProduct\x20=\x20dot(vSavedNormal,\x20projectorDirection);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isFacingProjector\x20=\x20dotProduct\x20>\x200.0000001;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20projectedColor\x20=\x20vec4(diffuse,\x20opacity\x20*\x20backgroundOpacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isFacingProjector\x20&&\x20isInTexture\x20&&\x20isTextureLoaded\x20&&\x20isTextureProjected)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureColor\x20=\x20texture2D(projectedTexture,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureMaskCol\x20=\x20texture2D(textureMask,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20enccoding\x20from\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textureColor\x20=\x20projectedTexelToLinear(textureColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20material\x20opacity\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20textureColor.a\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor\x20=\x20textureColor\x20*\x20textureColor.a\x20+\x20projectedColor\x20*\x20(1.0\x20-\x20textureColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20projectedColor\x20=\x20textureColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isCullByCamera\x20&&\x20dot(\x20vClipPosition,\x20vec3(0.0,\x200.0,\x201.0)\x20)\x20>\x20cameraFarDistance)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor.a\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,\x20resultColor.rgb\x20*\x20visualFieldColor,\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20projectedColor\x20*\x20vec4(visualFieldColor,\x201.0),\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectionMatrixCamera','saveDimensions','textureScale','widthScaled','viewMatrixCamera','projPosition','projDirection','isTextureProjected','updateWorldMatrix','savedModelMatrix','textureOffset','cover','isShowHepler','projectedTexelToLinear','(\x20value\x20)','sRGB','RGBM7Encoding','RGBM','(\x20value,\x207.0\x20)','(\x20value,\x2016.0\x20)','RGBDEncoding','RGBD','(\x20value,\x20256.0\x20)','Gamma','(\x20value,\x20float(\x20GAMMA_FACTOR\x20)\x20)','LogLuvEncoding','basicLine','vector','createBasicLine','FaceColors','cn1','cn2','cn3','cn4','cf1','cf2','cf3','cf4','matrixAutoUpdate','setPoint','unproject','setXYZ','projectionMatrixInverse','repeatFactor','texture2Path','textureMaskPath','texture3Path','texture4Path','normalFlipSide','textureManager','texture3','texture4','isNoTileFactor','normalUvIndex','noise','loadTextures','textureMask','IS_USE_MASK_TEXTURE2','alphaMask','normalMap','normalMapType','ObjectSpaceNormalMap','FLIP_SIDED','othersRepeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include\x20<normal_fragment_maps>','isIgnoreAlpha','isUseScanEffect','isUseUv2Light','scanOffset','effectShader','ignoreAlpha','useScan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20ignoreAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20useScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scanOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20oriAlpha\x20=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(useScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20timer\x20=\x20mod(iTime\x20+\x20scanOffset,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20timer2\x20=\x20mod(iTime\x20+\x200.3,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20intensity\x20+=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer2,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20=\x20mix(diffuseColor,\x20mix(diffuseColor,\x20vec4(vec3(1.0),\x201.0),\x20intensity\x20*\x203.0),\x201.0-diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(ignoreAlpha){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20oriAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<emissivemap_fragment>','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','materialList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','power','glowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexWorldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20coeficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20power;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20+=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor.rgb,\x20intensity);','textureSprite','foam','createUvAnimate','updateFps','settingMaterial','heightExtent','gradientType','seaground','isShowContour','isShowSeaGroundEffect','seaGroundConfigs','gradientLut','groundTexPath','groundTexRepeat','getGradientConfig','ColorMapKeywords','setGradientConfig','colorArray','addColorMap','setColorMap','createCanvas','setSeaGroundConfigs','seaGroundScale','fogNear','isShow','groundTex','isShowSeaGround','fogFar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPos\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mvPos\x20=\x20modelViewMatrix\x20*\x20mvPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vFogDepth\x20=\x20-mvPos.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_USE_GROUND_TEX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowContour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowSeaGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20heightExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20seaGroundFog;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20groundTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#define\x20F\x20length(.5-fract(k.xyw*=mat3(-2,-1,2,\x203,-2,1,\x201,2,2)*\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20fog(float\x20fogNear,\x20float\x20fogFar,\x20float\x20fogDepth,\x20vec3\x20fogNearColor,\x20vec3\x20fogFarColor,\x20vec4\x20fragColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fogFactor\x20=\x20smoothstep(fogNear,\x20fogFar,\x20fogDepth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(mix(\x20fragColor.rgb,\x20mix(fogNearColor,\x20fogFarColor,\x20fogFactor),\x20fogFactor\x20),\x20fragColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(gradientTex,\x20vec2(0.0,\x20(vModelPos.y\x20-\x20heightExtent.x)/(heightExtent.y\x20-\x20heightExtent.x)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowContour)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lineThickness\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20pick\x20a\x20coordinate\x20to\x20visualize\x20in\x20a\x20grid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20coord\x20=\x20vModelPos.y\x20/\x205.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20compute\x20anti-aliased\x20world-space\x20grid\x20lines\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20line\x20=\x20abs(fract(coord\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(coord)\x20/\x20lineThickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20just\x20visualize\x20the\x20grid\x20lines\x20directly\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20+=\x20vec4(vec3(1.0\x20-\x20min(line,\x201.0)),\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowSeaGround\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scale\x20=\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20imaging\x20an\x20axis-aligned\x20plane\x20in\x20space\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20iTime\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20rot\x20=\x20mat3(-2,-1,2,\x203,-2,1,\x201,2,2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(uv+t*1e2,\x20t*2e2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rotate\x20the\x20plane&&calc\x20distance\x20to\x20cell\x20center\x20then\x20get\x20minimum\x20of\x20three\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s[3]\x20=\x20float[3](.32,.28,.26);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for(int\x20i\x20=\x200;i<3;i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pos\x20*=\x20rot*s[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dist\x20=\x20min(dist,length(.5-fract(pos/2e2*scale)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20seaCausticTex\x20=\x20pow((dist),\x207.)*25.+vec4(0,0,0,1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20seaCausticTex\x20=\x20fog(seaGroundFog.x,\x20seaGroundFog.y,\x20vFogDepth,\x20vec3(1.0),\x20vec3(0.0),\x20seaCausticTex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20vec3(0,.35,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20seaCausticTex.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(vec3(1.0),\x20resultColor.rgb,\x20texture2D(groundTex,\x20vnUv\x20*\x201000.0).a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isShowWaterEffect','lut','Lut','minV','maxV','rainbow','getImageData','putImageData','checkFunLevel','json','preload','isShowBuildingTip','cameraFlyTo','cameraFlyToHelper','getScreenCenter','tiltAngle','setWalkControls','addControls','removeWalkControls','removeControls','createMiniMap','isSetRoomEffect','envTexture','addEffect','Lights','roomEffect','openScan','buildingScanLight','topImg','sideImg','colorImg','extentEffect','Buildings','buildingsThemes','setBuildingAttribute','tileRoomEffect','emissiveImg','screenSky','Floors','isPointLight','pointLight','directLight','isAmbientLight','isShowSkybox','Water','isShowGround','ground','repeatImg','Ground','floorNum','modelsConfigs','isShowShadow','shadow','preInit','Fog','screenEffects','getPlatform','isPc','platform','iPad','iPod','effectQuality','high','Android','closeComposer','composer','PostProcessing','postprocessing\x20is\x20not\x20support\x20in\x20this\x20browser\x20environment','setConfigs','postProcessing','tileUpdated','modelLoadedAll','fire','medium','effectsDetectionComplete','low','checkIsInLowDevice','isCanRender','IsMapLoading','loadComplete','effectsInitComplete','EFFECT_EDITOR','EffectManager','Shadow','ESJsonFileLoader','ESFileLoader','ESEventDispatcher','pointsSegement','loadRoads','showRoads','routesMarkers','isExecuteInit','beforeLoad','tileBuilidngThemes','addTileBuildingsEffect','setTileBuildingAttribute','navLoaded','unloadTile','themeLoaded','effectThemeSrc','debugParams','localEffectSrc','localEffectId','preLoadComplete','modelPrefetched','createTileInstanceModel','singleMesheDatas','createInstanceModel','routeDataLoaded','navData','tileService','Lines','editMode','isTileRouteShine','isChangeTileRoute','setModelShadow','isSetModelEffect','model','mergeModel3D','modelEffects','modelStore','setModelsEffect3','child','mapId','EffectLayer','_building_cube_float','addLayerToMap','mapIds','bidList','modelinfo','box3','EffectMarker','tileId','addMarker','envTextureCube','isSetTileBuilding','currentShows','buildingLoadComplete','showShadow','getLayersByTypes','MODEL_IMAGE','imgdata','model_loading','updateLightPoints','changeBuildingColor','effects\x20theme\x20source\x20must\x20be\x20configured!','horizon','radar_scan','updateTileBuildingRadarScan','toggleTileBuildingsScan','updateTileBuildingExtentLight','toggleTileBuildingsLight','updateTileBuildingExtentLightDown','controlFloorLayer','controlFloors','_originPos','updateAmbientLight','directionalLights','updateDirectionalLights','updateTileRoutesStyle','recoverTileRoutesStyle','toggleTileRoutesVisible','skyboxTool','updateSkybox','createWaveMarker','removeWaveLines','boatFoams','boat-foam:','gradientTerrainList','lightBlend','toggleLightPoints','createEffectPoints','uvTransformTextures','_ef_','_isBloom','setObjectBloomLight','initVideoProjector','updateProjectorTarget','isLockCameraControls','isPC','_bloomOriginColor','offsetHSL','setObjectOutline','removeObjectOutline','clearSelectedOutline','updateAllLightConfig','updateLightProbe','updateShadow','initComplete','Routes','Video','configs','createTileBuildingsEffect2','addBuildingsEffect','addGroundTexture','isDirectLight','addDirectLights','initEnvTexture','isNavPath','computeRoutesData','setSkyBox','addWater','Models','setModelsEffect','updateEffect','styleId','removeEffect','edgeLineFrameList','buildingScanConfigs','isCanUseScanStatus','lineScanCenter','sideImgRepeatFactor','topImgRepeatFactor','imgLightFactor','emissiveImgScale','emissiveColor','horizonScanColor','horizonScanWidth','horizonScanDiffuse','horizonScanExtent','horizonScanSpeed','verticalScanHeight','verticalScanColor','verticalScanExtent','verticalScanSpeed','centerSpreadRadius','centerSpreadCenterPos','radarScanCenterPos','MODEL','MODEL_BASE','setBuildingsTheme','frameOpacity','frameColor','createLineFrame','_effectConfig','tileStyles','createTileBuildingsEffect','prodMatIdx','tileTextures','mappingThemeImgStyle','renderSort','modelBasicMat','computeBuildingFaceAttr','topimage','sideimage','setBuildingScanConfig','scanLightType','horizon_scan','scanColor','scanLightWidth','scanDiffuse','scanSpeed','horizonScan','vertical_scan','center_spread','centerSpreadColor','maxRadius','radarScanRadius','scanRadius','radarScanColor','radarScanImg','scanImg','radarScan','extentLightDown','updateTileBuildingHorizonScan','centerSpread','rdRadius','openLight','setTileBuildingsEnvTexture','floorsMesh','floorEffects','setFloorMaterial','FLOOR_BASE','effectType','points_spread','effectConfigs','alphaTransitionImg','alphaTransitionRadius','isControl','controlId','scanRepeatImg','gradient_floor','groundThemes','repeatType','repeatScaleFactor','ambientLight','pointLights','envTextureCubes','PointLight','extent','distance','PointLightHelper','updatePointLights','replaceLight','_originConfig','DirectionalLightHelper','DirectionalLight','tileBuildingLight','updateDirectionalLightPos','planeScale','lightPlane','lightAnimate','mainLight','getAmbientLight','AmbientLight','_originIntensity','animateTime','imgPaths','HDR','closeIndirectLight','createLightProbe','lightProbe','LightProbe','LightProbeGenerator','fromCubeTexture','getTextureCubeByName','updateMaterialsEnvMap','updateLightProbeAnimate','createPMREMEnvTexture','SphericalHarmonics3','coefficients','drawImage','copySRGBToLinear','getBasisAt','isLoadedTileRouteStyle','tileRoutesMarkers','isCanChangeTileRoutesStyle','isChangedTileRoutesStyle','changedTileRoutesStyleConfig','getBuildingById','createRoutesLine','loadRoutesLine','navs','naviData','floornum','computeNavDataToRoutesData','#c37400','bstair','rank','Nodes','sid','eid','lineImg','routesLineGroup','initHeight','colors','datatype','datas','coordTrans','loadTileRoutesData','createTileRouteStyles','getTileById','computeTileRoutesData','transformCoordArray','DEFAULT_COORDSYSTEM','coordSystem','tempColor','changeColor','idColorMapping','_id','geometries','tileCode','tile_route_line','lineColorMapping','mergeGeometrys','tileList','colorList','lineScale','updateTileRoutesRandomColors','isChangeLineColor','routeEffectLayer','tileRoutes','roadStyles','colorRGB2Hex','linewidth','url','animationspeed','outline','substring','routesEffectLayer','tan','atan','exp','tangent','groups','crossVectors','mergeBufferGeometries','has','mergedUserData','addGroup','mergeBufferAttributes','isInterleavedBufferAttribute','itemSize','normalized','getX','setX','setZ','setW','BYTES_PER_ELEMENT','getIndex','getW','setArray','Number','isFirstTexCube','showSkybox','skyboxSwitchAnimate','textureCubes','box','isPlane','bottomColor','gradient_cube','sphere_cube','clearSky','shaderSky','bindLight','azimuthAngle','verticalAngle','bindTileMapLevelChange','tileMapLevelChange','waterList','waveLineMarker','createWater','addWaterShape','groundImg','waveFactor','groundScaleFactor','alpha','waveEffectLayer','waveLine','updateWaveLines','BufferGeometryUtils2','modelBlendEffectList','modelTerrainList','defaultCubeTexture','setEnvTextureMaterials','modelUvAnimation','lightPointsLayer','tileInstanceModels','modelsControlGroups','getCurrModelConfig','getRenderOrder','isSetModelsConfigs','splitEffectsTemplates','matchModelEffectConfig','setModelsEffect4','_mesh','settingModelEffects','control','additive','fresnel','createEnvTexture','lineFrame','lineOpacity','createEdgeLineFrame','faces','wireFrame','uvAnimation','uvRotation','useUv2','originalSrc','currentSrc','_ef_mask.','spriteAnimate','useSpriteAnimate','translateX','translateY','lastIndexOf','uv2TranslateX','uv2TranslateY','_ef_uv-animate.','_markerId','uvTransform','textureBlend','createTextureBlend','blendEffect','createrBlendEffect','_createWater','createLightBlend','lightPoints','_lightPointsConfig','_lightPointsIsLookAt','isLookAt','lightPointsMeshs','createTerrain','terrain','fixMobileIntensity','closeLight','emissiveIntensity','_effect','isUseAlphaMask','isUseNormal','_ef_blend-1.','_ef_blend-3.','images/ground/noise.png','normalUv','blendCount','_ef_normal.','noOriginTexture','isUseGround','waterEffect','POINTS','getWorldPosition','_lightPointsType','styleConfig','addEffectPointsMarker','setRenderOrder','setTransparent','gltfObj','Box3','setFromObject','radToDeg','mapmodel3ds','rotate','offsetPos','bindOutlineSelection','mapClickNode','outlineSelectList','outlinePass','selectedObjects','visibleEdgeColor','hiddenEdgeColor','edgeWidth','edgeStrength','edgeSpread','edgeGlow','edgeThickness','maskTexture','patternTexture','usePatternTexture','blinkPeriod','pulsePeriod','updateOutlineStyle','defaultOutlineConfig','fxaaPass','bloomPass','bloomFinalPass','originSize','scaleSize','bloomLayer','Layers','materials','darkMaterial','black','darkColor','originBgTexture','tempRendererClearColor','getPixelRatio','alphaMode','perspective','isWebGL2','RenderPass','ShaderPass','CopyShader','renderToScreen','OutlinePass','iPhone','threshold','bloomThreshold','strength','bloomStrength','bloomRadius','bloomComposer','addPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20baseTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bloomTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getTexture(\x20sampler2D\x20texture1\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mapTexelToLinear(\x20texture2D(\x20texture1\x20,\x20vUv\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20(\x20getTexture(\x20baseTexture\x20)\x20+\x20vec4(\x201.0\x20)\x20*\x20getTexture(\x20bloomTexture\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseTexture','needsSwap','clearColor_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','composerUpdate','renderBloom','clearDepth','darkenNonBloomed','restoreMaterial','SkinnedMesh','EffectComposer','RGBAFormat','_width','_height','_pixelRatio','EffectComposer.rt1','renderTarget1','renderTarget2','EffectComposer.rt2','writeBuffer','readBuffer','passes','THREE.EffectComposer\x20relies\x20on\x20THREE.CopyShader','THREE.EffectComposer\x20relies\x20on\x20THREE.ShaderPass','copyPass','clock','Clock','getDrawingBufferSize','isLastEnabledPass','context','stencilFunc','NOTEQUAL','EQUAL','MaskPass','ClearMaskPass','getSize','THREE.Pass:\x20.render()\x20must\x20be\x20implemented\x20in\x20derived\x20pass.','Pass','FullScreenQuad','OrthographicCamera','overrideMaterial','autoClear','clearColor','clearAlpha','autoClearColor','autoClearDepth','autoClearStencil','setClearColor','textureID','fsQuad','UnrealBloomPass','renderTargetsHorizontal','renderTargetsVertical','renderTargetBright','nMips','UnrealBloomPass.h','UnrealBloomPass.v','LuminosityHighPassShader','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.LuminosityHighPassShader','highPassUniforms','luminosityThreshold','materialHighPassFilter','separableBlurMaterials','getSeperableBlurMaterial','compositeMaterial','blurTexture1','blurTexture2','blurTexture4','blurTexture5','bloomTintColors','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.CopyShader','copyUniforms','materialCopy','oldClearAlpha','oldClearColor','getClearColor','STENCIL_TEST','colorTexture','BlurDirectionY','#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x0a\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20fSigma\x20=\x20float(SIGMA);\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20fSigma);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<\x20KERNEL_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20x\x20=\x20float(i);\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(x,\x20fSigma);\x09\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20direction\x20*\x20invSize\x20*\x20x;\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20(sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w;\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x202.0\x20*\x20w;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x0a\x09\x09\x09\x09}','BlurDirectionX','varying\x20vec2\x20vUv;','vUv\x20=\x20uv;','gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','uniform\x20sampler2D\x20tDiffuse;','vec4\x20texel\x20=\x20texture2D(\x20tDiffuse,\x20vUv\x20);','gl_FragColor\x20=\x20opacity\x20*\x20texel;','luminosityHighPass','uniform\x20float\x20defaultOpacity;','uniform\x20float\x20luminosityThreshold;','uniform\x20float\x20smoothWidth;','vec3\x20luma\x20=\x20vec3(\x200.299,\x200.587,\x200.114\x20);','float\x20v\x20=\x20dot(\x20texel.xyz,\x20luma\x20);','vec4\x20outputColor\x20=\x20vec4(\x20defaultColor.rgb,\x20defaultOpacity\x20);','float\x20alpha\x20=\x20smoothstep(\x20luminosityThreshold,\x20luminosityThreshold\x20+\x20smoothWidth,\x20v\x20);','gl_FragColor\x20=\x20mix(\x20outputColor,\x20texel,\x20alpha\x20);','FXAAShader','precision\x20highp\x20float;','//\x20File:\x20\x20\x20\x20\x20\x20\x20\x20es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag','//\x20SDK\x20Version:\x20v3.00','//\x20Site:\x20\x20\x20\x20\x20\x20\x20\x20http://developer.nvidia.com/','//\x20Copyright\x20(c)\x202014-2015,\x20NVIDIA\x20CORPORATION.\x20All\x20rights\x20reserved.','//\x20Redistribution\x20and\x20use\x20in\x20source\x20and\x20binary\x20forms,\x20with\x20or\x20without','//\x20modification,\x20are\x20permitted\x20provided\x20that\x20the\x20following\x20conditions','//\x20\x20*\x20Redistributions\x20of\x20source\x20code\x20must\x20retain\x20the\x20above\x20copyright','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer.','//\x20\x20*\x20Redistributions\x20in\x20binary\x20form\x20must\x20reproduce\x20the\x20above\x20copyright','//\x20\x20*\x20Neither\x20the\x20name\x20of\x20NVIDIA\x20CORPORATION\x20nor\x20the\x20names\x20of\x20its','//\x20\x20\x20\x20contributors\x20may\x20be\x20used\x20to\x20endorse\x20or\x20promote\x20products\x20derived','//\x20THIS\x20SOFTWARE\x20IS\x20PROVIDED\x20BY\x20THE\x20COPYRIGHT\x20HOLDERS\x20``AS\x20IS\x27\x27\x20AND\x20ANY','//\x20EXPRESS\x20OR\x20IMPLIED\x20WARRANTIES,\x20INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,\x20THE','//\x20IMPLIED\x20WARRANTIES\x20OF\x20MERCHANTABILITY\x20AND\x20FITNESS\x20FOR\x20A\x20PARTICULAR','//\x20PURPOSE\x20ARE\x20DISCLAIMED.\x20\x20IN\x20NO\x20EVENT\x20SHALL\x20THE\x20COPYRIGHT\x20OWNER\x20OR','//\x20CONTRIBUTORS\x20BE\x20LIABLE\x20FOR\x20ANY\x20DIRECT,\x20INDIRECT,\x20INCIDENTAL,\x20SPECIAL,','//\x20EXEMPLARY,\x20OR\x20CONSEQUENTIAL\x20DAMAGES\x20(INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,','//\x20PROFITS;\x20OR\x20BUSINESS\x20INTERRUPTION)\x20HOWEVER\x20CAUSED\x20AND\x20ON\x20ANY\x20THEORY','//\x20OF\x20LIABILITY,\x20WHETHER\x20IN\x20CONTRACT,\x20STRICT\x20LIABILITY,\x20OR\x20TORT','//\x20(INCLUDING\x20NEGLIGENCE\x20OR\x20OTHERWISE)\x20ARISING\x20IN\x20ANY\x20WAY\x20OUT\x20OF\x20THE\x20USE','//\x20OF\x20THIS\x20SOFTWARE,\x20EVEN\x20IF\x20ADVISED\x20OF\x20THE\x20POSSIBILITY\x20OF\x20SUCH\x20DAMAGE.','//----------------------------------------------------------------------------------','#define\x20FXAA_GREEN_AS_LUMA\x201','/*--------------------------------------------------------------------------*/','#ifndef\x20FXAA_PC_CONSOLE','\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20The\x20console\x20algorithm\x20for\x20PC\x20is\x20included','\x20\x20\x20\x20//\x20for\x20developers\x20targeting\x20really\x20low\x20spec\x20machines.','\x20\x20\x20\x20//\x20Likely\x20better\x20to\x20just\x20run\x20FXAA_PC,\x20and\x20use\x20a\x20really\x20low\x20preset.','\x20\x20\x20\x20#define\x20FXAA_PC_CONSOLE\x200','#ifndef\x20FXAA_GLSL_120','#ifndef\x20FXAA_GLSL_130','\x20\x20\x20\x20#define\x20FXAA_GLSL_130\x200','\x20\x20\x20\x20#define\x20FXAA_HLSL_3\x200','#ifndef\x20FXAA_HLSL_4','\x20\x20\x20\x20#define\x20FXAA_HLSL_4\x200','#ifndef\x20FXAA_HLSL_5','\x20\x20\x20\x20#define\x20FXAA_HLSL_5\x200','/*==========================================================================*/','#ifndef\x20FXAA_GREEN_AS_LUMA','\x20\x20\x20\x20//\x20For\x20those\x20using\x20non-linear\x20color,','\x20\x20\x20\x20//\x20and\x20either\x20not\x20able\x20to\x20get\x20luma\x20in\x20alpha,\x20or\x20not\x20wanting\x20to,','\x20\x20\x20\x20//\x20this\x20enables\x20FXAA\x20to\x20run\x20using\x20green\x20as\x20a\x20proxy\x20for\x20luma.','\x20\x20\x20\x20//\x20This\x20will\x20turn\x20off\x20AA\x20on\x20anything\x20which\x20lacks\x20some\x20amount\x20of\x20green.','\x20\x20\x20\x20//\x20Pure\x20red\x20and\x20blue\x20or\x20combination\x20of\x20only\x20R\x20and\x20B,\x20will\x20get\x20no\x20AA.','\x20\x20\x20\x20//\x20Might\x20want\x20to\x20lower\x20the\x20settings\x20for\x20both,','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaQualityEdgeThresholdMin','\x20\x20\x20\x20//\x20In\x20order\x20to\x20insure\x20AA\x20does\x20not\x20get\x20turned\x20off\x20on\x20colors','\x20\x20\x20\x20//\x20which\x20contain\x20a\x20minor\x20amount\x20of\x20green.','\x20\x20\x20\x20//\x201\x20=\x20On.','\x20\x20\x20\x20#define\x20FXAA_GREEN_AS_LUMA\x200','\x20\x20\x20\x20//\x20On\x20360\x20turning\x20this\x20OFF\x20adds\x2010ths\x20of\x20a\x20millisecond\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20Turning\x20this\x20off\x20on\x20console\x20will\x20result\x20in\x20a\x20more\x20blurry\x20image.','\x20\x20\x20\x20//\x20So\x20this\x20defaults\x20to\x20on.','\x20\x20\x20\x20//\x200\x20=\x20Off.','\x20\x20\x20\x20#define\x20FXAA_EARLY_EXIT\x201','#ifndef\x20FXAA_DISCARD','\x20\x20\x20\x20//\x20Only\x20valid\x20for\x20PC\x20OpenGL\x20currently.','\x20\x20\x20\x20//\x201\x20=\x20Use\x20discard\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20//\x20\x20\x20\x20\x20For\x20APIs\x20which\x20enable\x20concurrent\x20TEX+ROP\x20from\x20same\x20surface.','\x20\x20\x20\x20//\x200\x20=\x20Return\x20unchanged\x20color\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20#define\x20FXAA_DISCARD\x200','#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20//\x20Used\x20for\x20GLSL\x20120\x20only.','\x20\x20\x20\x20//\x200\x20=\x20do\x20not\x20use\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201','\x20\x20\x20\x20#ifdef\x20GL_ARB_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20//\x201\x20=\x20API\x20supports\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20//\x200\x20=\x20API\x20does\x20not\x20support\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201','\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_GATHER4_ALPHA','/*============================================================================','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20TUNING\x20KNOBS','------------------------------------------------------------------------------','NOTE\x20the\x20other\x20tuning\x20knobs\x20are\x20now\x20in\x20the\x20shader\x20function\x20inputs!','============================================================================*/','#ifndef\x20FXAA_QUALITY_PRESET','\x20\x20\x20\x20//\x20Choose\x20the\x20quality\x20preset.','\x20\x20\x20\x20//\x20Best\x20option\x20to\x20include\x20multiple\x20presets\x20is\x20to','\x20\x20\x20\x20//\x20in\x20each\x20shader\x20define\x20the\x20preset,\x20then\x20include\x20this\x20file.','\x20\x20\x20\x20//\x20-----------------------------------------------------------------------','\x20\x20\x20\x20//\x2010\x20to\x2015\x20-\x20default\x20medium\x20dither\x20(10=fastest,\x2015=highest\x20quality)','\x20\x20\x20\x20//\x2020\x20to\x2029\x20-\x20less\x20dither,\x20more\x20expensive\x20(20=fastest,\x2029=highest\x20quality)','\x20\x20\x20\x20//\x20NOTES','\x20\x20\x20\x20//\x2012\x20=\x20slightly\x20faster\x20then\x20FXAA\x203.9\x20and\x20higher\x20edge\x20quality\x20(default)','\x20\x20\x20\x20//\x2013\x20=\x20about\x20same\x20speed\x20as\x20FXAA\x203.9\x20and\x20better\x20than\x2012','\x20\x20\x20\x20//\x2023\x20=\x20closest\x20to\x20FXAA\x203.9\x20visually\x20and\x20performance\x20wise','\x20\x20\x20\x20//\x20\x20_\x20=\x20the\x20lowest\x20digit\x20is\x20directly\x20related\x20to\x20performance','\x20\x20\x20\x20//\x20_\x20\x20=\x20the\x20highest\x20digit\x20is\x20directly\x20related\x20to\x20style','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20PRESETS','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20MEDIUM\x20DITHER\x20PRESETS','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2011)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x204','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2012)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x205','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2013)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x2012.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x207','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x208','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x2012.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20LOW\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2020)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2021)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2022)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x208.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2024)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x203.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2025)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x208.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x209','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2027)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2028)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2011','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20EXTREME\x20QUALITY','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2012','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0','#if\x20(FXAA_GLSL_100\x20==\x201)\x20||\x20(FXAA_GLSL_120\x20==\x201)\x20||\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaBool\x20bool','\x20\x20\x20\x20#define\x20FxaaDiscard\x20discard','\x20\x20\x20\x20#define\x20FxaaFloat\x20float','\x20\x20\x20\x20#define\x20FxaaFloat2\x20vec2','\x20\x20\x20\x20#define\x20FxaaFloat3\x20vec3','\x20\x20\x20\x20#define\x20FxaaFloat4\x20vec4','\x20\x20\x20\x20#define\x20FxaaHalf\x20float','\x20\x20\x20\x20#define\x20FxaaHalf2\x20vec2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20vec3','\x20\x20\x20\x20#define\x20FxaaInt2\x20ivec2','\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D','#else','\x20\x20\x20\x20#define\x20FxaaDiscard\x20clip(-1)','\x20\x20\x20\x20#define\x20FxaaFloat2\x20float2','\x20\x20\x20\x20#define\x20FxaaFloat3\x20float3','\x20\x20\x20\x20#define\x20FxaaFloat4\x20float4','\x20\x20\x20\x20#define\x20FxaaHalf\x20half','\x20\x20\x20\x20#define\x20FxaaHalf2\x20half2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20half3','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20saturate(x)','#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2D(t,\x20p,\x200.0)','\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2D(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','#if\x20(FXAA_GLSL_120\x20==\x201)','\x20\x20\x20\x20//\x20Requires,','\x20\x20\x20\x20//\x20\x20#version\x20120','\x20\x20\x20\x20//\x20\x20#extension\x20GL_EXT_gpu_shader4\x20:\x20enable','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2DLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#if\x20(FXAA_FAST_PIXEL_OFFSET\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLod(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20textureGather(t,\x20p,\x201)','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20textureLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20textureLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20float2','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20tex2Dlod(t,\x20float4(p,\x200.0,\x200.0))','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20tex2Dlod(t,\x20float4(p\x20+\x20(o\x20*\x20r),\x200,\x200))','#if\x20(FXAA_HLSL_4\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20int2','\x20\x20\x20\x20struct\x20FxaaTex\x20{\x20SamplerState\x20smpl;\x20Texture2D\x20tex;\x20};','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0,\x20o)','#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20t.tex.GatherAlpha(t.smpl,\x20p)','\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20t.tex.GatherAlpha(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20t.tex.GatherGreen(t.smpl,\x20p)','\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20t.tex.GatherGreen(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GREEN\x20AS\x20LUMA\x20OPTION\x20SUPPORT\x20FUNCTION','#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.y;\x20}','#if\x20(FXAA_PC\x20==\x201)','FxaaFloat4\x20FxaaPixelShader(','\x20\x20\x20\x20//\x20Use\x20noperspective\x20interpolation\x20here\x20(turn\x20off\x20perspective\x20interpolation).','\x20\x20\x20\x20FxaaFloat2\x20pos,','\x20\x20\x20\x20//\x20Used\x20only\x20for\x20FXAA\x20Console,\x20and\x20not\x20used\x20on\x20the\x20360\x20version.','\x20\x20\x20\x20//\x20{xy_}\x20=\x20upper\x20left\x20of\x20pixel','\x20\x20\x20\x20//\x20{_zw}\x20=\x20lower\x20right\x20of\x20pixel','\x20\x20\x20\x20//\x20Input\x20color\x20texture.','\x20\x20\x20\x20//\x20{rgb_}\x20=\x20color\x20in\x20linear\x20or\x20perceptual\x20color\x20space','\x20\x20\x20\x20//\x20if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20//\x20\x20\x20\x20\x20{__a}\x20=\x20luma\x20in\x20perceptual\x20color\x20space\x20(not\x20linear)','\x20\x20\x20\x20FxaaTex\x20tex,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-1.','\x20\x20\x20\x20//\x20For\x20everything\x20but\x20360,\x20just\x20use\x20the\x20same\x20input\x20here\x20as\x20for\x20\x22tex\x22.','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x203nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-2.','\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegTwo,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.','\x20\x20\x20\x20//\x20{x_}\x20=\x201.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y}\x20=\x201.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat2\x20fxaaQualityRcpFrame,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.','\x20\x20\x20\x20//\x20This\x20effects\x20sub-pixel\x20AA\x20quality\x20and\x20inversely\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.50\x20(default)','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.33\x20(sharper)','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-N/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x20N/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x20N/screenHeightInPixels','\x20\x20\x20\x20//\x20Not\x20used\x20on\x20360,\x20but\x20used\x20on\x20PS3\x20and\x20PC.','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt2,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20360\x20in\x20place\x20of\x20fxaaConsoleRcpFrameOpt2.','\x20\x20\x20\x20//\x20{x__}\x20=\x20\x208.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20\x208.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20-4.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360RcpFrameOpt2,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_SUBPIX\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.','\x20\x20\x20\x20//\x20This\x20can\x20effect\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x201.00\x20-\x20upper\x20limit\x20(softer)','\x20\x20\x20\x20//\x20\x20\x200.75\x20-\x20default\x20amount\x20of\x20filtering','\x20\x20\x20\x20//\x20\x20\x200.50\x20-\x20lower\x20limit\x20(sharper,\x20less\x20sub-pixel\x20aliasing\x20removal)','\x20\x20\x20\x20//\x20\x20\x200.25\x20-\x20almost\x20off','\x20\x20\x20\x20//\x20\x20\x200.00\x20-\x20completely\x20off','\x20\x20\x20\x20FxaaFloat\x20fxaaQualitySubpix,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20\x20\x200.333\x20-\x20too\x20little\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.250\x20-\x20low\x20quality','\x20\x20\x20\x20//\x20\x20\x200.166\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.125\x20-\x20high\x20quality','\x20\x20\x20\x20//\x20\x20\x200.063\x20-\x20overkill\x20(slower)','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThreshold,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD_MIN\x20define.','\x20\x20\x20\x20//\x20Trims\x20the\x20algorithm\x20from\x20processing\x20darks.','\x20\x20\x20\x20//\x20\x20\x200.0833\x20-\x20upper\x20limit\x20(default,\x20the\x20start\x20of\x20visible\x20unfiltered\x20edges)','\x20\x20\x20\x20//\x20\x20\x200.0625\x20-\x20high\x20quality\x20(faster)','\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,','\x20\x20\x20\x20//\x20\x20\x20Likely\x20want\x20to\x20set\x20this\x20to\x20zero.','\x20\x20\x20\x20//\x20\x20\x20As\x20colors\x20that\x20are\x20mostly\x20not-green','\x20\x20\x20\x20//\x20\x20\x20will\x20appear\x20very\x20dark\x20in\x20the\x20green\x20channel!','\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_SHARPNESS\x20define.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20effect\x20PS3,\x20as\x20this\x20needs\x20to\x20be\x20compiled\x20in.','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20three\x20safe\x20values\x20here:\x202\x20and\x204\x20and\x208.','\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.','\x20\x20\x20\x20//\x20\x20\x208.0\x20is\x20sharper\x20(default!!!)','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeSharpness,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_THRESHOLD\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,','\x20\x20\x20\x20//\x20Other\x20platforms\x20can\x20use\x20other\x20values.','\x20\x20\x20\x20//\x20\x20\x200.125\x20leaves\x20less\x20aliasing,\x20but\x20is\x20softer\x20(default!!!)','\x20\x20\x20\x20//\x20\x20\x200.25\x20leaves\x20more\x20aliasing,\x20and\x20is\x20sharper','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThreshold,','\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.','\x20\x20\x20\x20//\x20This\x20only\x20applies\x20when\x20FXAA_EARLY_EXIT\x20is\x201.','\x20\x20\x20\x20//\x20PS3\x20was\x20simplified\x20to\x20avoid\x20more\x20shader\x20instructions.','\x20\x20\x20\x20//\x20\x20\x200.05\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.04\x20-\x20slower\x20and\x20less\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThresholdMin,','\x20\x20\x20\x20//\x20Extra\x20constants\x20for\x20360\x20FXAA\x20Console\x20only.','\x20\x20\x20\x20//\x20Use\x20zeros\x20or\x20anything\x20else\x20for\x20other\x20platforms.','\x20\x20\x20\x20//\x20These\x20must\x20be\x20in\x20physical\x20constant\x20registers\x20and\x20NOT\x20immediates.','\x20\x20\x20\x20//\x20{xyzw}\x20=\x20float4(1.0,\x20-1.0,\x200.25,\x20-0.25)','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360ConstDir',')\x20{','\x20\x20\x20\x20FxaaFloat2\x20posM;','\x20\x20\x20\x20posM.x\x20=\x20pos.x;','\x20\x20\x20\x20posM.y\x20=\x20pos.y;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexAlpha4(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffAlpha4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffGreen4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20luma4A.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaS\x20luma4A.x','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaNW\x20luma4B.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaN\x20luma4B.z','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaW\x20luma4B.x','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20maxSM\x20=\x20max(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20minSM\x20=\x20min(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20minESM\x20=\x20min(lumaE,\x20minSM);','\x20\x20\x20\x20FxaaFloat\x20maxWN\x20=\x20max(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20minWN\x20=\x20min(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20rangeMax\x20=\x20max(maxWN,\x20maxESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMin\x20=\x20min(minWN,\x20minESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMaxClamped\x20=\x20max(fxaaQualityEdgeThresholdMin,\x20rangeMaxScaled);','\x20\x20\x20\x20FxaaBool\x20earlyExit\x20=\x20range\x20<\x20rangeMaxClamped;','\x20\x20\x20\x20if(earlyExit)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaDiscard;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20rgbyM;','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(1,\x20-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20lumaNS\x20=\x20lumaN\x20+\x20lumaS;','\x20\x20\x20\x20FxaaFloat\x20lumaWE\x20=\x20lumaW\x20+\x20lumaE;','\x20\x20\x20\x20FxaaFloat\x20subpixRcpRange\x20=\x201.0/range;','\x20\x20\x20\x20FxaaFloat\x20subpixNSWE\x20=\x20lumaNS\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaNS;','\x20\x20\x20\x20FxaaFloat\x20edgeVert1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20lumaNESE\x20=\x20lumaNE\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz2\x20=\x20(-2.0\x20*\x20lumaE)\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert2\x20=\x20(-2.0\x20*\x20lumaN)\x20+\x20lumaNWNE;','\x20\x20\x20\x20FxaaFloat\x20lumaSWSE\x20=\x20lumaSW\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert4\x20=\x20(abs(edgeVert1)\x20*\x202.0)\x20+\x20abs(edgeVert2);','\x20\x20\x20\x20FxaaFloat\x20edgeHorz3\x20=\x20(-2.0\x20*\x20lumaW)\x20+\x20lumaNWSW;','\x20\x20\x20\x20FxaaFloat\x20edgeVert3\x20=\x20(-2.0\x20*\x20lumaS)\x20+\x20lumaSWSE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert\x20=\x20abs(edgeVert3)\x20+\x20edgeVert4;','\x20\x20\x20\x20FxaaFloat\x20subpixNWSWNESE\x20=\x20lumaNWSW\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaBool\x20horzSpan\x20=\x20edgeHorz\x20>=\x20edgeVert;','\x20\x20\x20\x20FxaaFloat\x20subpixA\x20=\x20subpixNSWE\x20*\x202.0\x20+\x20subpixNWSWNESE;','\x20\x20\x20\x20if(!horzSpan)\x20lumaN\x20=\x20lumaW;','\x20\x20\x20\x20if(horzSpan)\x20lengthSign\x20=\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20FxaaFloat\x20gradientN\x20=\x20lumaN\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaNN\x20=\x20lumaN\x20+\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaSS\x20=\x20lumaS\x20+\x20lumaM;','\x20\x20\x20\x20FxaaBool\x20pairN\x20=\x20abs(gradientN)\x20>=\x20abs(gradientS);','\x20\x20\x20\x20if(pairN)\x20lengthSign\x20=\x20-lengthSign;','\x20\x20\x20\x20FxaaFloat\x20subpixC\x20=\x20FxaaSat(abs(subpixB)\x20*\x20subpixRcpRange);','\x20\x20\x20\x20FxaaFloat2\x20posB;','\x20\x20\x20\x20posB.x\x20=\x20posM.x;','\x20\x20\x20\x20offNP.x\x20=\x20(!horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.x;','\x20\x20\x20\x20offNP.y\x20=\x20(\x20horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20if(!horzSpan)\x20posB.x\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20posN.x\x20=\x20posB.x\x20-\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20posN.y\x20=\x20posB.y\x20-\x20offNP.y\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat2\x20posP;','\x20\x20\x20\x20posP.x\x20=\x20posB.x\x20+\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20posP.y\x20=\x20posB.y\x20+\x20offNP.y\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat\x20subpixD\x20=\x20((-2.0)*subpixC)\x20+\x203.0;','\x20\x20\x20\x20FxaaFloat\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN));','\x20\x20\x20\x20FxaaFloat\x20subpixE\x20=\x20subpixC\x20*\x20subpixC;','\x20\x20\x20\x20FxaaFloat\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP));','\x20\x20\x20\x20FxaaFloat\x20gradientScaled\x20=\x20gradient\x20*\x201.0/4.0;','\x20\x20\x20\x20FxaaFloat\x20lumaMM\x20=\x20lumaM\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixF\x20=\x20subpixD\x20*\x20subpixE;','\x20\x20\x20\x20FxaaBool\x20lumaMLTZero\x20=\x20lumaMM\x20<\x200.0;','\x20\x20\x20\x20lumaEndN\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaBool\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20FxaaBool\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x203)','\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x205)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x207)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x208)','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x209)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2010)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2012)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20FxaaFloat\x20dstN\x20=\x20posM.x\x20-\x20posN.x;','\x20\x20\x20\x20if(!horzSpan)\x20dstN\x20=\x20posM.y\x20-\x20posN.y;','\x20\x20\x20\x20if(!horzSpan)\x20dstP\x20=\x20posP.y\x20-\x20posM.y;','\x20\x20\x20\x20FxaaBool\x20goodSpanN\x20=\x20(lumaEndN\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLength\x20=\x20(dstP\x20+\x20dstN);','\x20\x20\x20\x20FxaaBool\x20directionN\x20=\x20dstN\x20<\x20dstP;','\x20\x20\x20\x20FxaaBool\x20goodSpan\x20=\x20directionN\x20?\x20goodSpanN\x20:\x20goodSpanP;','\x20\x20\x20\x20FxaaFloat\x20subpixG\x20=\x20subpixF\x20*\x20subpixF;','\x20\x20\x20\x20FxaaFloat\x20subpixH\x20=\x20subpixG\x20*\x20fxaaQualitySubpix;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetGood\x20=\x20goodSpan\x20?\x20pixelOffset\x20:\x200.0;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetSubpix\x20=\x20max(pixelOffsetGood,\x20subpixH);','\x20\x20\x20\x20if(\x20horzSpan)\x20posM.y\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaTexTop(tex,\x20posM);','\x20\x20gl_FragColor\x20=\x20FxaaPixelShader(','\x20\x20\x20\x20vUv,','\x20\x20\x20\x20vec4(0.0),','\x20\x20\x20\x20tDiffuse,','\x20\x20\x20\x200.75,','\x20\x20\x20\x200.166,','\x20\x20\x20\x200.0,','\x20\x20);','\x20\x20gl_FragColor.a\x20=\x20texture2D(tDiffuse,\x20vUv).a;','renderScene','renderCamera','downSampleRatio','maskBufferMaterial','renderTargetMaskBuffer','OutlinePass.mask','prepareMaskMaterial','getPrepareMaskMaterial','isPerspectiveCamera','orthographic','renderTargetMaskDownSampleBuffer','renderTargetBlurBuffer1','OutlinePass.blur1','renderTargetBlurBuffer2','OutlinePass.blur2','getEdgeDetectionMaterial','renderTargetEdgeBuffer1','renderTargetEdgeBuffer2','OutlinePass.edge2','separableBlurMaterial1','texSize','kernelRadius','separableBlurMaterial2','overlayMaterial','getOverlayMaterial','THREE.OutlinePass\x20relies\x20on\x20THREE.CopyShader','tempPulseColor1','tempPulseColor2','isMesh','oldVisible','isLine','isSprite','bVisible','getClearAlpha','changeVisibilityOfSelectedObjects','renderTargetDepthBuffer','updateTextureMatrix','changeVisibilityOfNonSelectedObjects','cameraNearFar','depthTexture','edgeDetectionMaterial','edgeTexture1','edgeTexture2','varying\x20vec4\x20projTexCoord;','\x09vPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09projTexCoord\x20=\x20textureMatrix\x20*\x20worldPosition;','\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','#include\x20<packing>','varying\x20vec4\x20vPosition;','uniform\x20sampler2D\x20depthTexture;','uniform\x20vec2\x20cameraNearFar;','\x09float\x20depthTest\x20=\x20(-vPosition.z\x20>\x20viewZ)\x20?\x201.0\x20:\x200.0;','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec3\x20visibleEdgeColor;\x09\x09\x09\x09uniform\x20vec3\x20hiddenEdgeColor;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09vec4\x20uvOffset\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0)\x20*\x20vec4(invSize,\x20invSize);\x09\x09\x09\x09\x09vec4\x20c1\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c2\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c3\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.yw);\x09\x09\x09\x09\x09vec4\x20c4\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.yw);\x09\x09\x09\x09\x09float\x20diff1\x20=\x20(c1.r\x20-\x20c2.r)*0.5;\x09\x09\x09\x09\x09float\x20diff2\x20=\x20(c3.r\x20-\x20c4.r)*0.5;\x09\x09\x09\x09\x09float\x20d\x20=\x20length(\x20vec2(diff1,\x20diff2)\x20);\x09\x09\x09\x09\x09float\x20a1\x20=\x20min(c1.g,\x20c2.g);\x09\x09\x09\x09\x09float\x20a2\x20=\x20min(c3.g,\x20c4.g);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x20min(a1,\x20a2);\x09\x09\x09\x09\x09vec3\x20edgeColor\x20=\x201.0\x20-\x20visibilityFactor\x20>\x200.001\x20?\x20visibleEdgeColor\x20:\x20hiddenEdgeColor;\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(edgeColor,\x201.0)\x20*\x20vec4(d);\x09\x09\x09\x09}','#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09uniform\x20float\x20kernelRadius;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20kernelRadius);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09vec2\x20delta\x20=\x20direction\x20*\x20invSize\x20*\x20kernelRadius/float(MAX_RADIUS);\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20delta;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<=\x20MAX_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(uvOffset.x,\x20kernelRadius);\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20((sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w);\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x20(2.0\x20*\x20w);\x09\x09\x09\x09\x09\x09uvOffset\x20+=\x20delta;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x09\x09\x09\x09}','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20patternTexture;\x09\x09\x09\x09uniform\x20float\x20edgeStrength;\x09\x09\x09\x09uniform\x20float\x20edgeGlow;\x09\x09\x09\x09uniform\x20bool\x20usePatternTexture;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec4\x20edgeValue1\x20=\x20texture2D(edgeTexture1,\x20vUv);\x09\x09\x09\x09\x09vec4\x20edgeValue2\x20=\x20texture2D(edgeTexture2,\x20vUv);\x09\x09\x09\x09\x09vec4\x20maskColor\x20=\x20texture2D(maskTexture,\x20vUv);\x09\x09\x09\x09\x09vec4\x20patternColor\x20=\x20texture2D(patternTexture,\x206.0\x20*\x20vUv);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x201.0\x20-\x20maskColor.g\x20>\x200.0\x20?\x201.0\x20:\x200.5;\x09\x09\x09\x09\x09vec4\x20edgeValue\x20=\x20edgeValue1\x20+\x20edgeValue2\x20*\x20edgeGlow;\x09\x09\x09\x09\x09vec4\x20finalColor\x20=\x20edgeStrength\x20*\x20maskColor.r\x20*\x20edgeValue;\x09\x09\x09\x09\x09if(usePatternTexture)\x09\x09\x09\x09\x09\x09finalColor\x20+=\x20+\x20visibilityFactor\x20*\x20(1.0\x20-\x20maskColor.r)\x20*\x20(1.0\x20-\x20patternColor.r);\x09\x09\x09\x09\x09gl_FragColor\x20=\x20finalColor;\x09\x09\x09\x09}','shadowLight','shadowConfigs','spherical','nearFactor','farFactor','PCFSoftShadowMap','mapHeight','LightShadow','bias','normalBias','mapWidth','shadowCameraHelper','setRoomShadow','CameraHelper','config','posZ','targetZ','updateTileShadow','getDistance','castMinHeight','Height','bType','setBuildingRoomShadow','-receiveShadow','-castShadow','useAll','__no_receive_shadow','setModelObjShadowConfig','__no_cast_shadow','__no_shadow','setMergeMeshShadow','activeShadow','applyQuaternion','exp2','FogExp2','density','showFarPlane','allMarkerList','orbitCameraFlyTo','minDistance','sortObjects','autoRotate','autoRotateSpeed','off','backToMapControls','resetGroundPickView','setGroundPick','pickAnimateObj','face','updateGroundPick','isLockGroundPick','coordThreeToMap','flytoGroundPickPos3','checkIsCanMove','maxDistance','flytoGroundPickPos2','getAzimuthalAngle','flytoGroundPickPos','testPoints','removeGroundPick','disposeMesh','minZoom','maxZoom','minPolarAngle','maxPolarAngle','minAzimuthAngle','enableDamping','dampingFactor','panSpeed','screenSpacePanning','mouseButtons','MOUSE','MIDDLE','RIGHT','target0','position0','zoom','getPolarAngle','zoom0','NONE','forceTheta','radioFactor','maxAzimuthAngle','makeSafe','setFromSpherical','distanceToSquared','quaternion','domElement','wheel','touchend','mousemove','mouseup','Spherical','setFromMatrixColumn','body','clientHeight','clientWidth','isOrthographicCamera','preventDefault','focus','button','LEFT','ctrlKey','metaKey','shiftKey','PAN','ROTATE','DOLLY','stopPropagation','deltaY','enableKeys','keyPanSpeed','BOTTOM','touches','pageX','pageY','TOUCH_ROTATE','TOUCH_DOLLY_PAN','contextmenu','mousedown','touchstart','touchmove','keydown','miniMapImgHeight','cameraViewImgHeight','fixCameraViewImgOffset','img','onload','absolute','transformOrigin','px\x20','floorEdges','maxx','minx','maxy','miny','transform','rotate(','rotateAngle','innerHTML','beginTime','prevTime','_tempFrameRateList','computeAverageFps','checkIsInLowDeviceComplete','searchEffectMarker','names','ESModel3D','setOutline','removeOutline','setFrameLine','wireframe','ES3DMarker','showBoatFoam','setUvTransform','ESPolygonMarker'];(function(_0x2e2dd0,_0x21579a){var _0x580757=function(_0x3f51df){while(--_0x3f51df){_0x2e2dd0['push'](_0x2e2dd0['shift']());}};_0x580757(++_0x21579a);}(_0x204d,0xcc));var _0x1cd8=function(_0x1ce35a,_0x3d9994){_0x1ce35a=_0x1ce35a-0x0;var _0x5c0577=_0x204d[_0x1ce35a];return _0x5c0577;};!function(_0x1f8069){var _0x255cfa={};function _0x33cd6a(_0x570a92){if(_0x255cfa[_0x570a92])return _0x255cfa[_0x570a92][_0x1cd8('0x0')];var _0x29fa27=_0x255cfa[_0x570a92]={'i':_0x570a92,'l':!0x1,'exports':{}};return _0x1f8069[_0x570a92][_0x1cd8('0x1')](_0x29fa27['exports'],_0x29fa27,_0x29fa27[_0x1cd8('0x0')],_0x33cd6a),_0x29fa27['l']=!0x0,_0x29fa27[_0x1cd8('0x0')];}_0x33cd6a['m']=_0x1f8069,_0x33cd6a['c']=_0x255cfa,_0x33cd6a['d']=function(_0x331eb5,_0x40df14,_0x1f8069){_0x33cd6a['o'](_0x331eb5,_0x40df14)||Object['defineProperty'](_0x331eb5,_0x40df14,{'enumerable':!0x0,'get':_0x1f8069});},_0x33cd6a['r']=function(_0x39e137){_0x1cd8('0x2')!=typeof Symbol&&Symbol[_0x1cd8('0x3')]&&Object[_0x1cd8('0x4')](_0x39e137,Symbol['toStringTag'],{'value':_0x1cd8('0x5')}),Object['defineProperty'](_0x39e137,_0x1cd8('0x6'),{'value':!0x0});},_0x33cd6a['t']=function(_0xfc71e3,_0x2685ae){if(0x1&_0x2685ae&&(_0xfc71e3=_0x33cd6a(_0xfc71e3)),0x8&_0x2685ae)return _0xfc71e3;if(0x4&_0x2685ae&&'object'==typeof _0xfc71e3&&_0xfc71e3&&_0xfc71e3[_0x1cd8('0x6')])return _0xfc71e3;var _0x1f8069=Object[_0x1cd8('0x7')](null);if(_0x33cd6a['r'](_0x1f8069),Object[_0x1cd8('0x4')](_0x1f8069,'default',{'enumerable':!0x0,'value':_0xfc71e3}),0x2&_0x2685ae&&_0x1cd8('0x8')!=typeof _0xfc71e3)for(var _0x255cfa in _0xfc71e3)_0x33cd6a['d'](_0x1f8069,_0x255cfa,function(_0x2685ae){return _0xfc71e3[_0x2685ae];}[_0x1cd8('0x9')](null,_0x255cfa));return _0x1f8069;},_0x33cd6a['n']=function(_0x9da9c3){var _0x596ac9=_0x9da9c3&&_0x9da9c3['__esModule']?function(){return _0x9da9c3[_0x1cd8('0xa')];}:function(){return _0x9da9c3;};return _0x33cd6a['d'](_0x596ac9,'a',_0x596ac9),_0x596ac9;},_0x33cd6a['o']=function(_0x4f29a8,_0x2cee25){return Object['prototype']['hasOwnProperty'][_0x1cd8('0x1')](_0x4f29a8,_0x2cee25);},_0x33cd6a['p']=_0x1cd8('0xb'),_0x33cd6a(_0x33cd6a['s']=0x183);}([function(_0x5e3989,_0x4c0994,_0x53fb09){'use strict';_0x4c0994['__esModule']=!0x0,_0x4c0994[_0x1cd8('0xa')]=function(_0x5e3989,_0x4c0994){if(!(_0x5e3989 instanceof _0x4c0994))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');};},function(_0x346a3e,_0x9c6b97,_0x5eae9a){'use strict';_0x9c6b97[_0x1cd8('0x6')]=!0x0;var _0x5eae9a=_0x5eae9a(0x32),_0x33cd73=_0x5eae9a&&_0x5eae9a[_0x1cd8('0x6')]?_0x5eae9a:{'default':_0x5eae9a};function _0x523bf5(_0x346a3e,_0x9c6b97){for(var _0x5eae9a=0x0;_0x5eae9a<_0x9c6b97[_0x1cd8('0xc')];_0x5eae9a++){var _0x523bf5=_0x9c6b97[_0x5eae9a];_0x523bf5['enumerable']=_0x523bf5[_0x1cd8('0xd')]||!0x1,_0x523bf5[_0x1cd8('0xe')]=!0x0,_0x1cd8('0xf')in _0x523bf5&&(_0x523bf5['writable']=!0x0),(0x0,_0x33cd73[_0x1cd8('0xa')])(_0x346a3e,_0x523bf5[_0x1cd8('0x10')],_0x523bf5);}}_0x9c6b97[_0x1cd8('0xa')]=function(_0x346a3e,_0x9c6b97,_0x5eae9a){return _0x9c6b97&&_0x523bf5(_0x346a3e[_0x1cd8('0x11')],_0x9c6b97),_0x5eae9a&&_0x523bf5(_0x346a3e,_0x5eae9a),_0x346a3e;};},function(_0x1917ea,_0x7614db){_0x1917ea=_0x1917ea[_0x1cd8('0x0')]={'version':'2.6.12'};'number'==typeof __e&&(__e=_0x1917ea);},function(_0x132b45,_0x4b9e22,_0x32251d){function _0x1a83bb(_0x132b45,_0x4b9e22,_0x32251d){var _0x3c4e7f,_0x3d4ccf,_0x458e21,_0x1bcfde=_0x132b45&_0x1a83bb['F'],_0x20c15e=_0x132b45&_0x1a83bb['G'],_0x3f6d56=_0x132b45&_0x1a83bb['S'],_0x4d7ae6=_0x132b45&_0x1a83bb['P'],_0x3a3c54=_0x132b45&_0x1a83bb['B'],_0x2b26e2=_0x132b45&_0x1a83bb['W'],_0x5608e2=_0x20c15e?_0x4584bc:_0x4584bc[_0x4b9e22]||(_0x4584bc[_0x4b9e22]={}),_0x3c123d=_0x5608e2[_0x442a4c],_0x331974=_0x20c15e?_0x48d4ec:_0x3f6d56?_0x48d4ec[_0x4b9e22]:(_0x48d4ec[_0x4b9e22]||{})[_0x442a4c];for(_0x3c4e7f in _0x32251d=_0x20c15e?_0x4b9e22:_0x32251d)(_0x3d4ccf=!_0x1bcfde&&_0x331974&&void 0x0!==_0x331974[_0x3c4e7f])&&_0x2a0bda(_0x5608e2,_0x3c4e7f)||(_0x458e21=(_0x3d4ccf?_0x331974:_0x32251d)[_0x3c4e7f],_0x5608e2[_0x3c4e7f]=_0x20c15e&&_0x1cd8('0x12')!=typeof _0x331974[_0x3c4e7f]?_0x32251d[_0x3c4e7f]:_0x3a3c54&&_0x3d4ccf?_0x5062b3(_0x458e21,_0x48d4ec):_0x2b26e2&&_0x331974[_0x3c4e7f]==_0x458e21?function(_0x3c4e7f){function _0x132b45(_0x132b45,_0x4b9e22,_0x32251d){if(this instanceof _0x3c4e7f){switch(arguments[_0x1cd8('0xc')]){case 0x0:return new _0x3c4e7f();case 0x1:return new _0x3c4e7f(_0x132b45);case 0x2:return new _0x3c4e7f(_0x132b45,_0x4b9e22);}return new _0x3c4e7f(_0x132b45,_0x4b9e22,_0x32251d);}return _0x3c4e7f[_0x1cd8('0x13')](this,arguments);}return _0x132b45[_0x442a4c]=_0x3c4e7f[_0x442a4c],_0x132b45;}(_0x458e21):_0x4d7ae6&&_0x1cd8('0x12')==typeof _0x458e21?_0x5062b3(Function[_0x1cd8('0x1')],_0x458e21):_0x458e21,_0x4d7ae6&&((_0x5608e2[_0x1cd8('0x14')]||(_0x5608e2[_0x1cd8('0x14')]={}))[_0x3c4e7f]=_0x458e21,_0x132b45&_0x1a83bb['R']&&_0x3c123d&&!_0x3c123d[_0x3c4e7f]&&_0x1c1f1e(_0x3c123d,_0x3c4e7f,_0x458e21)));}var _0x48d4ec=_0x32251d(0x5),_0x4584bc=_0x32251d(0x2),_0x5062b3=_0x32251d(0x10),_0x1c1f1e=_0x32251d(0xb),_0x2a0bda=_0x32251d(0xc),_0x442a4c=_0x1cd8('0x11');_0x1a83bb['F']=0x1,_0x1a83bb['G']=0x2,_0x1a83bb['S']=0x4,_0x1a83bb['P']=0x8,_0x1a83bb['B']=0x10,_0x1a83bb['W']=0x20,_0x1a83bb['U']=0x40,_0x1a83bb['R']=0x80,_0x132b45[_0x1cd8('0x0')]=_0x1a83bb;},function(_0x4507aa,_0x293bb7,_0x438868){_0x4507aa['exports']={'default':_0x438868(0x4d),'__esModule':!0x0};},function(_0x598505,_0x6cae30){_0x598505=_0x598505[_0x1cd8('0x0')]=_0x1cd8('0x2')!=typeof window&&window[_0x1cd8('0x15')]==Math?window:_0x1cd8('0x2')!=typeof self&&self[_0x1cd8('0x15')]==Math?self:Function(_0x1cd8('0x16'))();_0x1cd8('0x17')==typeof __g&&(__g=_0x598505);},function(_0xf0789c,_0x34c517,_0x58dda7){var _0x46699a=_0x58dda7(0x23)('wks'),_0x4d4a7b=_0x58dda7(0x18),_0xc6223a=_0x58dda7(0x5)[_0x1cd8('0x18')],_0x4e14fa=_0x1cd8('0x12')==typeof _0xc6223a;(_0xf0789c[_0x1cd8('0x0')]=function(_0xf0789c){return _0x46699a[_0xf0789c]||(_0x46699a[_0xf0789c]=_0x4e14fa&&_0xc6223a[_0xf0789c]||(_0x4e14fa?_0xc6223a:_0x4d4a7b)(_0x1cd8('0x19')+_0xf0789c));})['store']=_0x46699a;},function(_0x400aa,_0x7e6e2a,_0x57ab49){_0x400aa[_0x1cd8('0x0')]=!_0x57ab49(0xd)(function(){return 0x7!=Object['defineProperty']({},'a',{'get':function(){return 0x7;}})['a'];});},function(_0x57f174,_0x455447,_0x516a9c){var _0x341c7c=_0x516a9c(0xa),_0x2f6808=_0x516a9c(0x35),_0x3dae65=_0x516a9c(0x25),_0x2eab59=Object[_0x1cd8('0x4')];_0x455447['f']=_0x516a9c(0x7)?Object['defineProperty']:function(_0x57f174,_0x455447,_0x516a9c){if(_0x341c7c(_0x57f174),_0x455447=_0x3dae65(_0x455447,!0x0),_0x341c7c(_0x516a9c),_0x2f6808)try{return _0x2eab59(_0x57f174,_0x455447,_0x516a9c);}catch(_0x512971){}if(_0x1cd8('0x1a')in _0x516a9c||_0x1cd8('0x1b')in _0x516a9c)throw TypeError('Accessors\x20not\x20supported!');return _0x1cd8('0xf')in _0x516a9c&&(_0x57f174[_0x455447]=_0x516a9c[_0x1cd8('0xf')]),_0x57f174;};},function(_0x423c31,_0x273916){_0x423c31['exports']=function(_0x423c31){return _0x1cd8('0x1c')==typeof _0x423c31?null!==_0x423c31:_0x1cd8('0x12')==typeof _0x423c31;};},function(_0x32e0ac,_0x28e004,_0x16c6a2){var _0x507fa4=_0x16c6a2(0x9);_0x32e0ac[_0x1cd8('0x0')]=function(_0x32e0ac){if(_0x507fa4(_0x32e0ac))return _0x32e0ac;throw TypeError(_0x32e0ac+_0x1cd8('0x1d'));};},function(_0x45478a,_0x21ad15,_0x3063ed){var _0x17922c=_0x3063ed(0x8),_0x5dc070=_0x3063ed(0x15);_0x45478a[_0x1cd8('0x0')]=_0x3063ed(0x7)?function(_0x45478a,_0x21ad15,_0x3063ed){return _0x17922c['f'](_0x45478a,_0x21ad15,_0x5dc070(0x1,_0x3063ed));}:function(_0x45478a,_0x21ad15,_0x3063ed){return _0x45478a[_0x21ad15]=_0x3063ed,_0x45478a;};},function(_0x9f394f,_0x3cf2ae){var _0x1a463a={}[_0x1cd8('0x1e')];_0x9f394f[_0x1cd8('0x0')]=function(_0x9f394f,_0x3cf2ae){return _0x1a463a['call'](_0x9f394f,_0x3cf2ae);};},function(_0x4b343f,_0x1ab799){_0x4b343f[_0x1cd8('0x0')]=function(_0x4b343f){try{return!!_0x4b343f();}catch(_0x330159){return!0x0;}};},function(_0x222103,_0x46f5a1,_0x142252){var _0x3e9b15=_0x142252(0x2e),_0x41e97b=_0x142252(0x1e);_0x222103[_0x1cd8('0x0')]=function(_0x222103){return _0x3e9b15(_0x41e97b(_0x222103));};},function(_0x243891,_0x48ef2e,_0xec1585){'use strict';_0x48ef2e[_0x1cd8('0x6')]=!0x0;_0xec1585=_0xec1585(0x66),_0xec1585=_0xec1585&&_0xec1585['__esModule']?_0xec1585:{'default':_0xec1585};_0x48ef2e[_0x1cd8('0xa')]=_0xec1585[_0x1cd8('0xa')]||function(_0x243891){for(var _0x48ef2e=0x1;_0x48ef2e<arguments['length'];_0x48ef2e++){var _0xec1585,_0x1d58c6=arguments[_0x48ef2e];for(_0xec1585 in _0x1d58c6)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')][_0x1cd8('0x1')](_0x1d58c6,_0xec1585)&&(_0x243891[_0xec1585]=_0x1d58c6[_0xec1585]);}return _0x243891;};},function(_0x3c3852,_0x38bc32,_0x4e18b2){var _0x9c8ae0=_0x4e18b2(0x20);_0x3c3852[_0x1cd8('0x0')]=function(_0x2ccb6b,_0x31131c,_0x3c3852){if(_0x9c8ae0(_0x2ccb6b),void 0x0===_0x31131c)return _0x2ccb6b;switch(_0x3c3852){case 0x1:return function(_0x3c3852){return _0x2ccb6b[_0x1cd8('0x1')](_0x31131c,_0x3c3852);};case 0x2:return function(_0x3c3852,_0x38bc32){return _0x2ccb6b[_0x1cd8('0x1')](_0x31131c,_0x3c3852,_0x38bc32);};case 0x3:return function(_0x3c3852,_0x38bc32,_0x4e18b2){return _0x2ccb6b[_0x1cd8('0x1')](_0x31131c,_0x3c3852,_0x38bc32,_0x4e18b2);};}return function(){return _0x2ccb6b['apply'](_0x31131c,arguments);};};},function(_0x27697d,_0x374648){_0x27697d[_0x1cd8('0x0')]={};},function(_0x27569c,_0x48ea00,_0x54d11f){var _0x5e34b2=_0x54d11f(0x1e);_0x27569c[_0x1cd8('0x0')]=function(_0x27569c){return Object(_0x5e34b2(_0x27569c));};},function(_0x51175a,_0x5aa665){_0x51175a['exports']=!0x0;},function(_0x4623d3,_0x56de0b,_0x316cbe){var _0x37b577=_0x316cbe(0x37),_0x1e4bbe=_0x316cbe(0x24);_0x4623d3[_0x1cd8('0x0')]=Object[_0x1cd8('0x1f')]||function(_0x4623d3){return _0x37b577(_0x4623d3,_0x1e4bbe);};},function(_0x3cac3b,_0x14b711){_0x3cac3b[_0x1cd8('0x0')]=function(_0x3cac3b,_0x14b711){return{'enumerable':!(0x1&_0x3cac3b),'configurable':!(0x2&_0x3cac3b),'writable':!(0x4&_0x3cac3b),'value':_0x14b711};};},function(_0x492ec2,_0x213740){var _0x2fd64c={}['toString'];_0x492ec2[_0x1cd8('0x0')]=function(_0x492ec2){return _0x2fd64c[_0x1cd8('0x1')](_0x492ec2)['slice'](0x8,-0x1);};},function(_0x51ace8,_0x1ea72a,_0x2ca652){var _0x2f86a6=_0x2ca652(0x8)['f'],_0x24cca5=_0x2ca652(0xc),_0x1c88bc=_0x2ca652(0x6)(_0x1cd8('0x3'));_0x51ace8['exports']=function(_0x51ace8,_0x1ea72a,_0x2ca652){_0x51ace8&&!_0x24cca5(_0x51ace8=_0x2ca652?_0x51ace8:_0x51ace8[_0x1cd8('0x11')],_0x1c88bc)&&_0x2f86a6(_0x51ace8,_0x1c88bc,{'configurable':!0x0,'value':_0x1ea72a});};},function(_0xd67e79,_0x2adab6){var _0x3e8a56=0x0,_0x41c5d7=Math[_0x1cd8('0x20')]();_0xd67e79[_0x1cd8('0x0')]=function(_0xd67e79){return _0x1cd8('0x21')[_0x1cd8('0x22')](void 0x0===_0xd67e79?'':_0xd67e79,')_',(++_0x3e8a56+_0x41c5d7)['toString'](0x24));};},function(_0x473ffb,_0x48e5b6,_0x4ac0b2){'use strict';var _0x46e8b6=_0x4ac0b2(0x53)(!0x0);_0x4ac0b2(0x28)(String,'String',function(_0x473ffb){this['_t']=String(_0x473ffb),this['_i']=0x0;},function(){var _0x473ffb=this['_t'],_0x48e5b6=this['_i'];return _0x48e5b6>=_0x473ffb[_0x1cd8('0xc')]?{'value':void 0x0,'done':!0x0}:(_0x473ffb=_0x46e8b6(_0x473ffb,_0x48e5b6),this['_i']+=_0x473ffb[_0x1cd8('0xc')],{'value':_0x473ffb,'done':!0x1});});},function(_0x428d40,_0x4b055b,_0x3a96aa){'use strict';function _0x4daa72(_0x428d40,_0x4b055b){_0x428d40=_0xaf4ada()[_0x1cd8('0x23')]({'x':_0x428d40,'y':_0x4b055b});return{'x':_0x428d40['x'],'y':_0x428d40['z']};}function _0x201cda(){return _0xaf4ada()['mode']===esmap[_0x1cd8('0x24')][_0x1cd8('0x25')];}function _0xaf4ada(){if(esmap['ESMap'])return esmap[_0x1cd8('0x26')][_0x1cd8('0x27')];}Object['defineProperty'](_0x4b055b,_0x1cd8('0x6'),{'value':!0x0}),_0x4b055b[_0x1cd8('0x28')]=_0x4b055b[_0x1cd8('0x29')]=_0x4b055b[_0x1cd8('0x2a')]=_0x4b055b[_0x1cd8('0x2b')]=_0x4b055b['getConfigAssetsPath']=_0x4b055b[_0x1cd8('0x2c')]=_0x4b055b[_0x1cd8('0x2d')]=_0x4b055b[_0x1cd8('0x2e')]=_0x4b055b[_0x1cd8('0x2f')]=_0x4b055b[_0x1cd8('0x30')]=_0x4b055b[_0x1cd8('0x31')]=_0x4b055b[_0x1cd8('0x32')]=_0x4b055b[_0x1cd8('0x33')]=_0x4b055b[_0x1cd8('0x34')]=_0x4b055b[_0x1cd8('0x35')]=void 0x0;var _0x4878c5=_0x3a96aa(0x62);function _0x2e74e5(_0x428d40){var _0x4b055b=_0xaf4ada();return _0x4b055b['mode']===esmap['MapMode'][_0x1cd8('0x36')]?_0x4b055b[_0x1cd8('0x37')]():_0x4b055b['getBuildingById'](_0x428d40);}_0x4b055b['innerCoordTransToThree']=function(_0x428d40,_0x4b055b){var _0x3a96aa=_0xaf4ada();return{'x':-(_0x3a96aa[_0x1cd8('0x38')][_0x1cd8('0x39')]+_0x428d40),'y':_0x4b055b-_0x3a96aa[_0x1cd8('0x38')][_0x1cd8('0x3a')]};},_0x4b055b['coordTransToThree']=_0x4daa72,_0x4b055b[_0x1cd8('0x33')]=_0x201cda,_0x4b055b[_0x1cd8('0x32')]=function(){return esmap[_0x1cd8('0x3b')][_0x1cd8('0x3c')]()===_0x4878c5[_0x1cd8('0x3d')]['Engine'][_0x1cd8('0x3e')];},_0x4b055b[_0x1cd8('0x31')]=function(_0x428d40,_0x4b055b,_0x3a96aa){_0x4b055b=_0x4daa72(_0x4b055b['x'],_0x4b055b['y']);_0x428d40[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x4b055b['x'],_0x3a96aa,_0x4b055b['y']);},_0x4b055b['getMapInstance']=_0xaf4ada,_0x4b055b[_0x1cd8('0x2f')]=_0x2e74e5,_0x4b055b[_0x1cd8('0x2e')]=function(_0x428d40){var _0x4b055b=_0xaf4ada();if(_0x4b055b['mode']===esmap['MapMode'][_0x1cd8('0x25')])return!0x1;var _0x3a96aa=_0x2e74e5();return _0x4b055b['mapTheme'][_0x1cd8('0x40')][_0x3a96aa[_0x1cd8('0x41')]][_0x1cd8('0x42')][_0x428d40];},_0x4b055b[_0x1cd8('0x2d')]=function(_0x428d40,_0x4b055b){return _0x428d40['datas_']&&_0x428d40[_0x1cd8('0x43')][_0x1cd8('0x44')]&&+_0x428d40['datas_']['RoomStyle']==+_0x4b055b?(_0x428d40['material'][0x0][_0x1cd8('0x45')][_0x1cd8('0x46')]=0x0,_0x428d40[_0x1cd8('0x47')][0x0]):null;},_0x4b055b[_0x1cd8('0x2c')]=function(_0x428d40,_0x4b055b,_0x3a96aa){return _0x4b055b['onlineEffectThemeId']&&(_0x428d40['effectId']=_0x4b055b[_0x1cd8('0x48')]),_0x4b055b[_0x1cd8('0x49')]&&(_0x428d40['effectId']=_0x4b055b[_0x1cd8('0x49')]),0x1!=_0x428d40[_0x1cd8('0x4a')][_0x1cd8('0x4b')]||_0x3a96aa?_0x428d40['options'][_0x1cd8('0x4c')]+'/worldeffect/'+_0x428d40[_0x1cd8('0x4d')]+'/':0x3===_0x428d40['options']['s']?_0x428d40[_0x1cd8('0x4a')][_0x1cd8('0x4e')]+_0x428d40['id']+_0x1cd8('0x4f')+_0x428d40['effectId']+'/':_0x428d40[_0x1cd8('0x4a')][_0x1cd8('0x4c')]+'/EsmapTileData/'+_0x428d40['id']+_0x1cd8('0x4f')+_0x428d40[_0x1cd8('0x4d')]+'/';},_0x4b055b['getConfigAssetsPath']=function(_0x428d40){return _0x201cda()?_0x428d40&&-0x1==_0x428d40[_0x1cd8('0x50')](_0x1cd8('0x51'))?esmap['ESEffectTool'][_0x1cd8('0x52')]+_0x428d40:esmap[_0x1cd8('0x53')][_0x1cd8('0x54')]+_0x428d40:(esmap['ESEffectTool'][_0x1cd8('0x52')],esmap[_0x1cd8('0x53')]['switchConfigPath']&&esmap['ESEffectTool'][_0x1cd8('0x55')],esmap[_0x1cd8('0x53')]['configPath']+_0x428d40);},_0x4b055b['clearShaderCode']=function(_0x428d40){_0x428d40&&(_0x428d40['vertexShader']&&(_0x428d40['vertexShader']=''),_0x428d40[_0x1cd8('0x56')]&&(_0x428d40[_0x1cd8('0x56')]=''));},_0x4b055b['directionFromAlphaBeta']=function(_0x428d40,_0x4b055b){var _0x428d40=_0x428d40/0xb4*Math['PI']+Math['PI']/0x2,_0x4b055b=-_0x4b055b/0xb4*Math['PI']+Math['PI']/0x2,_0x3a96aa=new THREE[(_0x1cd8('0x57'))](),_0x4daa72=Math[_0x1cd8('0x58')](_0x428d40);return _0x3a96aa['x']=_0x4daa72*Math[_0x1cd8('0x59')](_0x4b055b),_0x3a96aa['y']=-Math['cos'](_0x428d40),_0x3a96aa['z']=_0x4daa72*Math['sin'](_0x4b055b),_0x3a96aa;},_0x4b055b['getOS']=function(){return/macintosh|mac os x/i[_0x1cd8('0x5a')](navigator[_0x1cd8('0x5b')]);},_0x4b055b[_0x1cd8('0x28')]=function(_0x4daa72,_0x201cda,_0xaf4ada){var _0x4878c5=void 0x0,_0x2e74e5=void 0x0;if(_0x1cd8('0x12')!=typeof _0x4daa72)throw new TypeError(_0x1cd8('0x5c'));function _0x428d40(){var _0x428d40,_0x4b055b=this,_0x3a96aa=arguments;return _0x4878c5&&clearTimeout(_0x4878c5),_0xaf4ada?(_0x428d40=!_0x4878c5,_0x4878c5=setTimeout(function(){_0x4878c5=null;},_0x201cda),_0x428d40&&(_0x2e74e5=_0x4daa72[_0x1cd8('0x13')](_0x4b055b,_0x3a96aa))):_0x4878c5=setTimeout(function(){_0x4daa72['apply'](_0x4b055b,_0x3a96aa);},_0x201cda),_0x2e74e5;}return _0x201cda=_0x201cda||0x0,_0x428d40['cannel']=function(){clearTimeout(_0x4878c5),_0x4878c5=null;},_0x428d40;};},function(_0x4a3129,_0x154dc3,_0x561079){_0x561079(0x4e);for(var _0x177268=_0x561079(0x5),_0x489882=_0x561079(0xb),_0x7aaab3=_0x561079(0x11),_0xd0522b=_0x561079(0x6)(_0x1cd8('0x3')),_0x25fab3=_0x1cd8('0x5d')['split'](','),_0x58da60=0x0;_0x58da60<_0x25fab3['length'];_0x58da60++){var _0xbaedd=_0x25fab3[_0x58da60],_0x150f09=_0x177268[_0xbaedd],_0x150f09=_0x150f09&&_0x150f09[_0x1cd8('0x11')];_0x150f09&&!_0x150f09[_0xd0522b]&&_0x489882(_0x150f09,_0xd0522b,_0xbaedd),_0x7aaab3[_0xbaedd]=_0x7aaab3[_0x1cd8('0x5e')];}},function(_0x452213,_0x16bae8){_0x16bae8['f']={}[_0x1cd8('0x5f')];},function(_0x4e54f7,_0x348901,_0x2f1755){_0x4e54f7['exports']={'default':_0x2f1755(0x6c),'__esModule':!0x0};},function(_0x1f42eb,_0x2a50ea){_0x1f42eb[_0x1cd8('0x0')]=function(_0x1f42eb){if(null==_0x1f42eb)throw TypeError(_0x1cd8('0x60')+_0x1f42eb);return _0x1f42eb;};},function(_0xabfbd6,_0x2359be,_0x3dc15f){function _0x4d7a96(){}var _0x3bd76e=_0x3dc15f(0xa),_0x582dc7=_0x3dc15f(0x3d),_0x2c0622=_0x3dc15f(0x24),_0x207148=_0x3dc15f(0x22)('IE_PROTO'),_0x602681='prototype',_0xc22eb3=function(){var _0xabfbd6=_0x3dc15f(0x27)(_0x1cd8('0x61')),_0x2359be=_0x2c0622[_0x1cd8('0xc')];for(_0xabfbd6['style'][_0x1cd8('0x62')]='none',_0x3dc15f(0x43)[_0x1cd8('0x63')](_0xabfbd6),_0xabfbd6[_0x1cd8('0x64')]=_0x1cd8('0x65'),(_0xabfbd6=_0xabfbd6[_0x1cd8('0x66')][_0x1cd8('0x67')])[_0x1cd8('0x68')](),_0xabfbd6[_0x1cd8('0x69')](_0x1cd8('0x6a')),_0xabfbd6[_0x1cd8('0x6b')](),_0xc22eb3=_0xabfbd6['F'];_0x2359be--;)delete _0xc22eb3[_0x602681][_0x2c0622[_0x2359be]];return _0xc22eb3();};_0xabfbd6[_0x1cd8('0x0')]=Object['create']||function(_0xabfbd6,_0x2359be){var _0x3dc15f;return null!==_0xabfbd6?(_0x4d7a96[_0x602681]=_0x3bd76e(_0xabfbd6),_0x3dc15f=new _0x4d7a96(),_0x4d7a96[_0x602681]=null,_0x3dc15f[_0x207148]=_0xabfbd6):_0x3dc15f=_0xc22eb3(),void 0x0===_0x2359be?_0x3dc15f:_0x582dc7(_0x3dc15f,_0x2359be);};},function(_0x56c58e,_0x4f599d){_0x56c58e['exports']=function(_0x56c58e){if(_0x1cd8('0x12')!=typeof _0x56c58e)throw TypeError(_0x56c58e+_0x1cd8('0x6c'));return _0x56c58e;};},function(_0xb24f1e,_0x6a0a3d){var _0x208e15=Math['ceil'],_0x56babc=Math[_0x1cd8('0x6d')];_0xb24f1e[_0x1cd8('0x0')]=function(_0xb24f1e){return isNaN(_0xb24f1e=+_0xb24f1e)?0x0:(0x0<_0xb24f1e?_0x56babc:_0x208e15)(_0xb24f1e);};},function(_0x2e2bdb,_0x45d414,_0x4d7e24){var _0x3e1a42=_0x4d7e24(0x23)(_0x1cd8('0x1f')),_0x58705d=_0x4d7e24(0x18);_0x2e2bdb[_0x1cd8('0x0')]=function(_0x2e2bdb){return _0x3e1a42[_0x2e2bdb]||(_0x3e1a42[_0x2e2bdb]=_0x58705d(_0x2e2bdb));};},function(_0x1db818,_0x3aefe3,_0x793543){var _0x7d6bad=_0x793543(0x2),_0xc9c605=_0x793543(0x5),_0xdbaa6f=_0x1cd8('0x6e'),_0x3b34da=_0xc9c605[_0xdbaa6f]||(_0xc9c605[_0xdbaa6f]={});(_0x1db818[_0x1cd8('0x0')]=function(_0x1db818,_0x3aefe3){return _0x3b34da[_0x1db818]||(_0x3b34da[_0x1db818]=void 0x0!==_0x3aefe3?_0x3aefe3:{});})(_0x1cd8('0x6f'),[])[_0x1cd8('0x70')]({'version':_0x7d6bad[_0x1cd8('0x71')],'mode':_0x793543(0x13)?_0x1cd8('0x72'):_0x1cd8('0x73'),'copyright':_0x1cd8('0x74')});},function(_0x45f9cc,_0x3f2ca1){_0x45f9cc['exports']=_0x1cd8('0x75')['split'](',');},function(_0x5d975c,_0x2b88be,_0x3f90dd){var _0x39a525=_0x3f90dd(0x9);_0x5d975c['exports']=function(_0x5d975c,_0x2b88be){if(!_0x39a525(_0x5d975c))return _0x5d975c;var _0x3f90dd,_0x4d9b1e;if(_0x2b88be&&_0x1cd8('0x12')==typeof(_0x3f90dd=_0x5d975c[_0x1cd8('0x76')])&&!_0x39a525(_0x4d9b1e=_0x3f90dd[_0x1cd8('0x1')](_0x5d975c)))return _0x4d9b1e;if(_0x1cd8('0x12')==typeof(_0x3f90dd=_0x5d975c[_0x1cd8('0x77')])&&!_0x39a525(_0x4d9b1e=_0x3f90dd[_0x1cd8('0x1')](_0x5d975c)))return _0x4d9b1e;if(_0x2b88be||_0x1cd8('0x12')!=typeof(_0x3f90dd=_0x5d975c['toString'])||_0x39a525(_0x4d9b1e=_0x3f90dd['call'](_0x5d975c)))throw TypeError(_0x1cd8('0x78'));return _0x4d9b1e;};},function(_0x3d7342,_0x1cb2f6,_0x2db9ac){_0x3d7342[_0x1cd8('0x0')]={'default':_0x2db9ac(0x86),'__esModule':!0x0};},function(_0x192b83,_0xe2787,_0x458066){var _0x2404f3=_0x458066(0x9),_0x21ccd8=_0x458066(0x5)[_0x1cd8('0x67')],_0x53709b=_0x2404f3(_0x21ccd8)&&_0x2404f3(_0x21ccd8[_0x1cd8('0x79')]);_0x192b83['exports']=function(_0x192b83){return _0x53709b?_0x21ccd8['createElement'](_0x192b83):{};};},function(_0xd84b9c,_0xdf569f,_0x2fd317){'use strict';function _0x527fc6(){return this;}var _0x532340=_0x2fd317(0x13),_0x2499c2=_0x2fd317(0x3),_0x32dd89=_0x2fd317(0x36),_0x51c159=_0x2fd317(0xb),_0x33a5cf=_0x2fd317(0x11),_0x17cb62=_0x2fd317(0x50),_0x40394c=_0x2fd317(0x17),_0x29cf2e=_0x2fd317(0x44),_0x86744c=_0x2fd317(0x6)('iterator'),_0x321612=!([][_0x1cd8('0x1f')]&&'next'in[][_0x1cd8('0x1f')]()),_0x18274c=_0x1cd8('0x7a');_0xd84b9c[_0x1cd8('0x0')]=function(_0xd84b9c,_0xdf569f,_0x2fd317,_0x575fd0,_0x5c8252,_0x55e575,_0x51f032){function _0x31f982(_0xd84b9c){if(!_0x321612&&_0xd84b9c in _0x11809c)return _0x11809c[_0xd84b9c];switch(_0xd84b9c){case'keys':case _0x18274c:return function(){return new _0x2fd317(this,_0xd84b9c);};}return function(){return new _0x2fd317(this,_0xd84b9c);};}_0x17cb62(_0x2fd317,_0xdf569f,_0x575fd0);var _0x567156,_0x53973d,_0x575fd0=_0xdf569f+_0x1cd8('0x7b'),_0x1ccd52=_0x5c8252==_0x18274c,_0x3067f9=!0x1,_0x11809c=_0xd84b9c['prototype'],_0x30ce48=_0x11809c[_0x86744c]||_0x11809c[_0x1cd8('0x7c')]||_0x5c8252&&_0x11809c[_0x5c8252],_0x117c81=_0x30ce48||_0x31f982(_0x5c8252),_0x186846=_0x5c8252?_0x1ccd52?_0x31f982(_0x1cd8('0x7d')):_0x117c81:void 0x0,_0x38b2e2=_0x1cd8('0x5e')==_0xdf569f&&_0x11809c[_0x1cd8('0x7d')]||_0x30ce48;if(_0x38b2e2&&(_0x38b2e2=_0x29cf2e(_0x38b2e2[_0x1cd8('0x1')](new _0xd84b9c())))!==Object[_0x1cd8('0x11')]&&_0x38b2e2[_0x1cd8('0x7e')]&&(_0x40394c(_0x38b2e2,_0x575fd0,!0x0),_0x532340||_0x1cd8('0x12')==typeof _0x38b2e2[_0x86744c]||_0x51c159(_0x38b2e2,_0x86744c,_0x527fc6)),_0x1ccd52&&_0x30ce48&&_0x30ce48[_0x1cd8('0x7f')]!==_0x18274c&&(_0x3067f9=!0x0,_0x117c81=function(){return _0x30ce48[_0x1cd8('0x1')](this);}),_0x532340&&!_0x51f032||!_0x321612&&!_0x3067f9&&_0x11809c[_0x86744c]||_0x51c159(_0x11809c,_0x86744c,_0x117c81),_0x33a5cf[_0xdf569f]=_0x117c81,_0x33a5cf[_0x575fd0]=_0x527fc6,_0x5c8252)if(_0x567156={'values':_0x1ccd52?_0x117c81:_0x31f982(_0x18274c),'keys':_0x55e575?_0x117c81:_0x31f982(_0x1cd8('0x1f')),'entries':_0x186846},_0x51f032)for(_0x53973d in _0x567156)_0x53973d in _0x11809c||_0x32dd89(_0x11809c,_0x53973d,_0x567156[_0x53973d]);else _0x2499c2(_0x2499c2['P']+_0x2499c2['F']*(_0x321612||_0x3067f9),_0xdf569f,_0x567156);return _0x567156;};},function(_0x49b278,_0x4ab7d6,_0x811616){_0x4ab7d6['f']=_0x811616(0x6);},function(_0x3333cb,_0x408b69,_0x3fbba0){var _0x320a24=_0x3fbba0(0x5),_0x2bbdf7=_0x3fbba0(0x2),_0xa08592=_0x3fbba0(0x13),_0x413b8e=_0x3fbba0(0x29),_0x356f22=_0x3fbba0(0x8)['f'];_0x3333cb[_0x1cd8('0x0')]=function(_0x3333cb){var _0x408b69=_0x2bbdf7[_0x1cd8('0x18')]||(_0x2bbdf7[_0x1cd8('0x18')]=!_0xa08592&&_0x320a24[_0x1cd8('0x18')]||{});'_'==_0x3333cb[_0x1cd8('0x80')](0x0)||_0x3333cb in _0x408b69||_0x356f22(_0x408b69,_0x3333cb,{'value':_0x413b8e['f'](_0x3333cb)});};},function(_0x542e08,_0x59d6b1,_0x58d576){var _0x3a157e=_0x58d576(0x21),_0x2b4245=Math[_0x1cd8('0x81')];_0x542e08[_0x1cd8('0x0')]=function(_0x542e08){return 0x0<_0x542e08?_0x2b4245(_0x3a157e(_0x542e08),0x1fffffffffffff):0x0;};},function(_0xf16e1,_0x55d4dc,_0x23317f){var _0x2d29e1=_0x23317f(0x16),_0xb9da33=_0x23317f(0x6)(_0x1cd8('0x3')),_0x3e7b33='Arguments'==_0x2d29e1(function(){return arguments;}());_0xf16e1[_0x1cd8('0x0')]=function(_0xf16e1){var _0x55d4dc;return void 0x0===_0xf16e1?_0x1cd8('0x82'):null===_0xf16e1?_0x1cd8('0x83'):_0x1cd8('0x8')==typeof(_0x55d4dc=function(_0xf16e1,_0x55d4dc){try{return _0xf16e1[_0x55d4dc];}catch(_0x544c0c){}}(_0xf16e1=Object(_0xf16e1),_0xb9da33))?_0x55d4dc:_0x3e7b33?_0x2d29e1(_0xf16e1):_0x1cd8('0x84')==(_0x55d4dc=_0x2d29e1(_0xf16e1))&&_0x1cd8('0x12')==typeof _0xf16e1['callee']?_0x1cd8('0x85'):_0x55d4dc;};},function(_0x4af840,_0x4064e7){_0x4064e7['f']=Object[_0x1cd8('0x86')];},function(_0x1403b8,_0x5805c4,_0x4fb913){var _0xd89b4b=_0x4fb913(0x16);_0x1403b8[_0x1cd8('0x0')]=Object('z')[_0x1cd8('0x5f')](0x0)?Object:function(_0x1403b8){return'String'==_0xd89b4b(_0x1403b8)?_0x1403b8[_0x1cd8('0x87')](''):Object(_0x1403b8);};},function(_0x2ba690,_0x5cc1da,_0xc3cb){'use strict';_0x5cc1da['__esModule']=!0x0;var _0x3f38ef=_0x309afa(_0xc3cb(0x57)),_0x46cc1d=_0x309afa(_0xc3cb(0x45)),_0xebab5f=_0x1cd8('0x12')==typeof _0x46cc1d[_0x1cd8('0xa')]&&'symbol'==typeof _0x3f38ef[_0x1cd8('0xa')]?function(_0x2ba690){return typeof _0x2ba690;}:function(_0x2ba690){return _0x2ba690&&_0x1cd8('0x12')==typeof _0x46cc1d[_0x1cd8('0xa')]&&_0x2ba690[_0x1cd8('0x88')]===_0x46cc1d[_0x1cd8('0xa')]&&_0x2ba690!==_0x46cc1d['default']['prototype']?'symbol':typeof _0x2ba690;};function _0x309afa(_0x2ba690){return _0x2ba690&&_0x2ba690['__esModule']?_0x2ba690:{'default':_0x2ba690};}_0x5cc1da[_0x1cd8('0xa')]=_0x1cd8('0x12')==typeof _0x46cc1d[_0x1cd8('0xa')]&&'symbol'===_0xebab5f(_0x3f38ef['default'])?function(_0x2ba690){return void 0x0===_0x2ba690?_0x1cd8('0x2'):_0xebab5f(_0x2ba690);}:function(_0x2ba690){return _0x2ba690&&_0x1cd8('0x12')==typeof _0x46cc1d[_0x1cd8('0xa')]&&_0x2ba690[_0x1cd8('0x88')]===_0x46cc1d['default']&&_0x2ba690!==_0x46cc1d[_0x1cd8('0xa')]['prototype']?_0x1cd8('0x89'):void 0x0===_0x2ba690?_0x1cd8('0x2'):_0xebab5f(_0x2ba690);};},function(_0x35c979,_0x207f29,_0x52527b){'use strict';_0x207f29[_0x1cd8('0x6')]=!0x0;var _0x52527b=_0x52527b(0x2f),_0x3eaa13=_0x52527b&&_0x52527b[_0x1cd8('0x6')]?_0x52527b:{'default':_0x52527b};_0x207f29['default']=function(_0x35c979,_0x207f29){if(_0x35c979)return!_0x207f29||'object'!==(void 0x0===_0x207f29?'undefined':(0x0,_0x3eaa13[_0x1cd8('0xa')])(_0x207f29))&&_0x1cd8('0x12')!=typeof _0x207f29?_0x35c979:_0x207f29;throw new ReferenceError(_0x1cd8('0x8a'));};},function(_0x468ce4,_0x1cb26c,_0x25b323){'use strict';_0x1cb26c[_0x1cd8('0x6')]=!0x0;var _0x5cb691=_0x54dae3(_0x25b323(0x75)),_0x123374=_0x54dae3(_0x25b323(0x1d)),_0x2e127a=_0x54dae3(_0x25b323(0x2f));function _0x54dae3(_0x468ce4){return _0x468ce4&&_0x468ce4[_0x1cd8('0x6')]?_0x468ce4:{'default':_0x468ce4};}_0x1cb26c['default']=function(_0x468ce4,_0x1cb26c){if('function'!=typeof _0x1cb26c&&null!==_0x1cb26c)throw new TypeError(_0x1cd8('0x8b')+(void 0x0===_0x1cb26c?_0x1cd8('0x2'):(0x0,_0x2e127a[_0x1cd8('0xa')])(_0x1cb26c)));_0x468ce4[_0x1cd8('0x11')]=(0x0,_0x123374[_0x1cd8('0xa')])(_0x1cb26c&&_0x1cb26c['prototype'],{'constructor':{'value':_0x468ce4,'enumerable':!0x1,'writable':!0x0,'configurable':!0x0}}),_0x1cb26c&&(_0x5cb691[_0x1cd8('0xa')]?(0x0,_0x5cb691[_0x1cd8('0xa')])(_0x468ce4,_0x1cb26c):_0x468ce4[_0x1cd8('0x8c')]=_0x1cb26c);};},function(_0x1dff28,_0x366ab0,_0x5a5319){_0x1dff28['exports']={'default':_0x5a5319(0x4b),'__esModule':!0x0};},function(_0x29c3ad,_0x14c3db,_0x568ac4){var _0x4fa83b=_0x568ac4(0x10),_0xca3d3c=_0x568ac4(0x6a),_0x2e5ec6=_0x568ac4(0x6b),_0x1970d2=_0x568ac4(0xa),_0x4841d3=_0x568ac4(0x2b),_0x53df1f=_0x568ac4(0x38),_0x25e358={},_0x53804c={};(_0x14c3db=_0x29c3ad[_0x1cd8('0x0')]=function(_0x29c3ad,_0x14c3db,_0x568ac4,_0x1d60c5,_0x11b82b){var _0x4c199b,_0x31d2b3,_0x254023,_0x3f35ef,_0x11b82b=_0x11b82b?function(){return _0x29c3ad;}:_0x53df1f(_0x29c3ad),_0x4c6c36=_0x4fa83b(_0x568ac4,_0x1d60c5,_0x14c3db?0x2:0x1),_0x19b5fc=0x0;if(_0x1cd8('0x12')!=typeof _0x11b82b)throw TypeError(_0x29c3ad+_0x1cd8('0x8d'));if(_0x2e5ec6(_0x11b82b)){for(_0x4c199b=_0x4841d3(_0x29c3ad[_0x1cd8('0xc')]);_0x19b5fc<_0x4c199b;_0x19b5fc++)if((_0x3f35ef=_0x14c3db?_0x4c6c36(_0x1970d2(_0x31d2b3=_0x29c3ad[_0x19b5fc])[0x0],_0x31d2b3[0x1]):_0x4c6c36(_0x29c3ad[_0x19b5fc]))===_0x25e358||_0x3f35ef===_0x53804c)return _0x3f35ef;}else for(_0x254023=_0x11b82b[_0x1cd8('0x1')](_0x29c3ad);!(_0x31d2b3=_0x254023['next']())[_0x1cd8('0x8e')];)if((_0x3f35ef=_0xca3d3c(_0x254023,_0x4c6c36,_0x31d2b3[_0x1cd8('0xf')],_0x14c3db))===_0x25e358||_0x3f35ef===_0x53804c)return _0x3f35ef;})[_0x1cd8('0x8f')]=_0x25e358,_0x14c3db[_0x1cd8('0x90')]=_0x53804c;},function(_0x5e7ded,_0xd0778e){},function(_0x3876b7,_0xa18990,_0x436c09){_0x3876b7[_0x1cd8('0x0')]=!_0x436c09(0x7)&&!_0x436c09(0xd)(function(){return 0x7!=Object[_0x1cd8('0x4')](_0x436c09(0x27)(_0x1cd8('0x91')),'a',{'get':function(){return 0x7;}})['a'];});},function(_0x18723f,_0x5d27cd,_0x42f355){_0x18723f[_0x1cd8('0x0')]=_0x42f355(0xb);},function(_0x509c70,_0x5a6f98,_0x2dfd95){var _0x5b8e28=_0x2dfd95(0xc),_0x504796=_0x2dfd95(0xe),_0x53142a=_0x2dfd95(0x51)(!0x1),_0x4a59ac=_0x2dfd95(0x22)(_0x1cd8('0x92'));_0x509c70[_0x1cd8('0x0')]=function(_0x509c70,_0x5a6f98){var _0x2dfd95,_0x5cadba=_0x504796(_0x509c70),_0x59b3dc=0x0,_0x44b8ae=[];for(_0x2dfd95 in _0x5cadba)_0x2dfd95!=_0x4a59ac&&_0x5b8e28(_0x5cadba,_0x2dfd95)&&_0x44b8ae[_0x1cd8('0x70')](_0x2dfd95);for(;_0x5a6f98['length']>_0x59b3dc;)_0x5b8e28(_0x5cadba,_0x2dfd95=_0x5a6f98[_0x59b3dc++])&&!~_0x53142a(_0x44b8ae,_0x2dfd95)&&_0x44b8ae[_0x1cd8('0x70')](_0x2dfd95);return _0x44b8ae;};},function(_0x424839,_0x462fe9,_0x4a6eb9){var _0x41b547=_0x4a6eb9(0x2c),_0x1fe156=_0x4a6eb9(0x6)(_0x1cd8('0x93')),_0x126e1f=_0x4a6eb9(0x11);_0x424839[_0x1cd8('0x0')]=_0x4a6eb9(0x2)[_0x1cd8('0x94')]=function(_0x424839){if(null!=_0x424839)return _0x424839[_0x1fe156]||_0x424839[_0x1cd8('0x7c')]||_0x126e1f[_0x41b547(_0x424839)];};},function(_0x9f5da4,_0xe45ea9,_0x4e20d9){_0x9f5da4[_0x1cd8('0x0')]={'default':_0x4e20d9(0x88),'__esModule':!0x0};},function(_0x3f50e7,_0x4b6da0,_0x5a0c76){function _0xc09337(_0x3f50e7){_0x59e448(_0x3f50e7,_0x3b3ed3,{'value':{'i':'O'+ ++_0x4fbfc1,'w':{}}});}var _0x3b3ed3=_0x5a0c76(0x18)(_0x1cd8('0x95')),_0x2f404d=_0x5a0c76(0x9),_0x528caf=_0x5a0c76(0xc),_0x59e448=_0x5a0c76(0x8)['f'],_0x4fbfc1=0x0,_0x328d2f=Object['isExtensible']||function(){return!0x0;},_0x3ed4e1=!_0x5a0c76(0xd)(function(){return _0x328d2f(Object['preventExtensions']({}));}),_0x2be76d=_0x3f50e7[_0x1cd8('0x0')]={'KEY':_0x3b3ed3,'NEED':!0x1,'fastKey':function(_0x3f50e7,_0x4b6da0){if(!_0x2f404d(_0x3f50e7))return _0x1cd8('0x89')==typeof _0x3f50e7?_0x3f50e7:(_0x1cd8('0x8')==typeof _0x3f50e7?'S':'P')+_0x3f50e7;if(!_0x528caf(_0x3f50e7,_0x3b3ed3)){if(!_0x328d2f(_0x3f50e7))return'F';if(!_0x4b6da0)return'E';_0xc09337(_0x3f50e7);}return _0x3f50e7[_0x3b3ed3]['i'];},'getWeak':function(_0x3f50e7,_0x4b6da0){if(!_0x528caf(_0x3f50e7,_0x3b3ed3)){if(!_0x328d2f(_0x3f50e7))return!0x0;if(!_0x4b6da0)return!0x1;_0xc09337(_0x3f50e7);}return _0x3f50e7[_0x3b3ed3]['w'];},'onFreeze':function(_0x3f50e7){return _0x3ed4e1&&_0x2be76d[_0x1cd8('0x96')]&&_0x328d2f(_0x3f50e7)&&!_0x528caf(_0x3f50e7,_0x3b3ed3)&&_0xc09337(_0x3f50e7),_0x3f50e7;}};},function(_0x1ec8e5,_0x49a54c,_0x344109){'use strict';Object[_0x1cd8('0x4')](_0x49a54c,_0x1cd8('0x6'),{'value':!0x0}),_0x49a54c[_0x1cd8('0x97')]=void 0x0;_0x344109=_0x344109(0xf);function _0x5e84ff(){}(0x0,(_0x344109&&_0x344109[_0x1cd8('0x6')]?_0x344109:{'default':_0x344109})[_0x1cd8('0xa')])(_0x5e84ff[_0x1cd8('0x11')],{'addEventListener':function(_0x1ec8e5,_0x49a54c){void 0x0===this[_0x1cd8('0x98')]&&(this[_0x1cd8('0x98')]={});var _0x344109=this['_listeners'];void 0x0===_0x344109[_0x1ec8e5]&&(_0x344109[_0x1ec8e5]=[]),-0x1===_0x344109[_0x1ec8e5][_0x1cd8('0x50')](_0x49a54c)&&_0x344109[_0x1ec8e5][_0x1cd8('0x70')](_0x49a54c);},'hasEventListener':function(_0x1ec8e5,_0x49a54c){if(void 0x0===this['_listeners'])return!0x1;var _0x344109=this['_listeners'];return void 0x0!==_0x344109[_0x1ec8e5]&&-0x1!==_0x344109[_0x1ec8e5]['indexOf'](_0x49a54c);},'removeEventListener':function(_0x1ec8e5,_0x49a54c){void 0x0!==this[_0x1cd8('0x98')]&&void 0x0!==(_0x1ec8e5=this['_listeners'][_0x1ec8e5])&&-0x1!==(_0x49a54c=_0x1ec8e5[_0x1cd8('0x50')](_0x49a54c))&&_0x1ec8e5[_0x1cd8('0x99')](_0x49a54c,0x1);},'dispatchEvent':function(_0x1ec8e5){if(void 0x0!==this[_0x1cd8('0x98')]){var _0x49a54c=this[_0x1cd8('0x98')][_0x1ec8e5['type']];if(void 0x0!==_0x49a54c){_0x1ec8e5['target']=this;for(var _0x344109=_0x49a54c[_0x1cd8('0x9a')](0x0),_0x5e84ff=0x0,_0x309d7f=_0x344109[_0x1cd8('0xc')];_0x5e84ff<_0x309d7f;_0x5e84ff++)_0x344109[_0x5e84ff][_0x1cd8('0x1')](this,_0x1ec8e5);}}}}),_0x49a54c[_0x1cd8('0x97')]=_0x5e84ff;},function(_0x243077,_0x379238,_0x41a567){'use strict';Object[_0x1cd8('0x4')](_0x379238,'__esModule',{'value':!0x0});var _0x1cfb66=_0xf88e7b(_0x41a567(0x39)),_0x21c8e4=_0xf88e7b(_0x41a567(0x4)),_0x58ddae=_0xf88e7b(_0x41a567(0x0));function _0xf88e7b(_0x243077){return _0x243077&&_0x243077[_0x1cd8('0x6')]?_0x243077:{'default':_0x243077};}function _0x5a1793(){(0x0,_0x58ddae[_0x1cd8('0xa')])(this,_0x5a1793),this['textureLoader']=new THREE[(_0x1cd8('0x9b'))](),this['textureList']=[];}(0x0,_0xf88e7b(_0x41a567(0x1))[_0x1cd8('0xa')])(_0x5a1793,[{'key':'load','value':function(_0x243077,_0x379238){var _0x41a567=this['checkTextureIsLoaded'](_0x243077);return _0x379238||!_0x41a567?(_0x379238=this[_0x1cd8('0x9c')][_0x1cd8('0x9d')](_0x243077),this[_0x1cd8('0x9e')][_0x1cd8('0x70')]({'texture':_0x379238,'path':_0x243077}),_0x379238):_0x41a567[_0x1cd8('0x9f')];}},{'key':'checkTextureIsLoaded','value':function(_0x243077){var _0x379238=!0x0,_0x41a567=!0x1,_0x58ddae=void 0x0;try{for(var _0x1cfb66,_0xf88e7b=(0x0,_0x21c8e4['default'])(this[_0x1cd8('0x9e')]);!(_0x379238=(_0x1cfb66=_0xf88e7b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x379238=!0x0){var _0x5a1793=_0x1cfb66['value'];if(_0x5a1793[_0x1cd8('0xa0')]===_0x243077)return _0x5a1793;}}catch(_0x2bf3ee){_0x41a567=!0x0,_0x58ddae=_0x2bf3ee;}finally{try{!_0x379238&&_0xf88e7b[_0x1cd8('0xa1')]&&_0xf88e7b[_0x1cd8('0xa1')]();}finally{if(_0x41a567)throw _0x58ddae;}}return!0x1;}},{'key':_0x1cd8('0xa2'),'value':function(_0x243077){for(var _0x379238=[],_0x41a567=0x0,_0x58ddae=_0x243077[_0x1cd8('0xc')];_0x41a567<_0x58ddae;_0x41a567++)_0x243077[_0x41a567][_0x1cd8('0xa0')]&&_0x379238['push'](this['textureLoad'](_0x243077[_0x41a567]));return _0x1cfb66[_0x1cd8('0xa')][_0x1cd8('0xa3')](_0x379238);}},{'key':'textureLoad','value':function(_0x41a567){var _0x58ddae=this;return new _0x1cfb66[(_0x1cd8('0xa'))](function(_0x379238,_0x243077){_0x58ddae[_0x1cd8('0x9c')][_0x1cd8('0x9d')](_0x41a567[_0x1cd8('0xa0')],function(_0x243077){_0x243077[_0x1cd8('0x7f')]=_0x41a567[_0x1cd8('0x7f')],_0x379238(_0x243077);});});}}],[{'key':'loadSixPicCubeTexture','value':function(_0x58ddae){return new _0x1cfb66[(_0x1cd8('0xa'))](function(_0x243077,_0x379238){var _0x41a567=new THREE[(_0x1cd8('0xa4'))]()[_0x1cd8('0x9d')](_0x58ddae,function(){_0x243077(_0x41a567);});});}},{'key':_0x1cd8('0xa5'),'value':function(_0x41a567){return new _0x1cfb66[(_0x1cd8('0xa'))](function(_0x379238,_0x243077){new THREE['TextureLoader']()[_0x1cd8('0x9d')](_0x41a567,function(_0x243077){_0x379238(_0x243077);});});}}]),_0x379238[_0x1cd8('0xa')]=_0x5a1793;},function(_0x1fe190,_0x337950,_0x70b0d5){var _0x28e028=_0x70b0d5(0x8),_0xbffc4a=_0x70b0d5(0xa),_0x538891=_0x70b0d5(0x14);_0x1fe190['exports']=_0x70b0d5(0x7)?Object[_0x1cd8('0xa6')]:function(_0x1fe190,_0x337950){_0xbffc4a(_0x1fe190);for(var _0x70b0d5,_0x1a4dd4=_0x538891(_0x337950),_0x2f08b5=_0x1a4dd4[_0x1cd8('0xc')],_0x29d923=0x0;_0x29d923<_0x2f08b5;)_0x28e028['f'](_0x1fe190,_0x70b0d5=_0x1a4dd4[_0x29d923++],_0x337950[_0x70b0d5]);return _0x1fe190;};},function(_0x5d25d6,_0x5229e0,_0x295000){_0x5d25d6[_0x1cd8('0x0')]={'default':_0x295000(0x64),'__esModule':!0x0};},function(_0xe0844e,_0x3a3895,_0x44fd4b){var _0x4de02c=_0x44fd4b(0x37),_0x32649d=_0x44fd4b(0x24)[_0x1cd8('0x22')]('length','prototype');_0x3a3895['f']=Object['getOwnPropertyNames']||function(_0xe0844e){return _0x4de02c(_0xe0844e,_0x32649d);};},function(_0x411043,_0x6f8f35,_0x2c247f){var _0x2a48be=_0x2c247f(0x1c),_0x443b6f=_0x2c247f(0x15),_0x49ddd2=_0x2c247f(0xe),_0x8704dc=_0x2c247f(0x25),_0x2f503c=_0x2c247f(0xc),_0x126069=_0x2c247f(0x35),_0x47cd5d=Object[_0x1cd8('0xa7')];_0x6f8f35['f']=_0x2c247f(0x7)?_0x47cd5d:function(_0x411043,_0x6f8f35){if(_0x411043=_0x49ddd2(_0x411043),_0x6f8f35=_0x8704dc(_0x6f8f35,!0x0),_0x126069)try{return _0x47cd5d(_0x411043,_0x6f8f35);}catch(_0xfde0b1){}if(_0x2f503c(_0x411043,_0x6f8f35))return _0x443b6f(!_0x2a48be['f'][_0x1cd8('0x1')](_0x411043,_0x6f8f35),_0x411043[_0x6f8f35]);};},function(_0x3f7998,_0x245d4d,_0xf8c306){'use strict';Object[_0x1cd8('0x4')](_0x245d4d,'__esModule',{'value':!0x0}),_0x245d4d['ModelTerrain']=_0x245d4d['BoatFoam']=_0x245d4d[_0x1cd8('0xa8')]=_0x245d4d[_0x1cd8('0xa9')]=_0x245d4d['ModelBlendEffect']=_0x245d4d['GroundBlend']=_0x245d4d[_0x1cd8('0xaa')]=_0x245d4d[_0x1cd8('0xab')]=_0x245d4d[_0x1cd8('0xac')]=_0x245d4d[_0x1cd8('0xad')]=_0x245d4d[_0x1cd8('0xae')]=_0x245d4d[_0x1cd8('0xaf')]=_0x245d4d[_0x1cd8('0xb0')]=_0x245d4d['GroundPoints']=_0x245d4d[_0x1cd8('0xb1')]=_0x245d4d[_0x1cd8('0xb2')]=_0x245d4d[_0x1cd8('0xb3')]=_0x245d4d[_0x1cd8('0xb4')]=_0x245d4d[_0x1cd8('0xb5')]=_0x245d4d[_0x1cd8('0xb6')]=_0x245d4d[_0x1cd8('0xb7')]=_0x245d4d[_0x1cd8('0xb8')]=_0x245d4d[_0x1cd8('0xb9')]=_0x245d4d[_0x1cd8('0xba')]=_0x245d4d[_0x1cd8('0xbb')]=_0x245d4d[_0x1cd8('0xbc')]=_0x245d4d[_0x1cd8('0xbd')]=_0x245d4d['PlaneWindEffect']=_0x245d4d[_0x1cd8('0xbe')]=_0x245d4d['ScrollWallEffect']=_0x245d4d[_0x1cd8('0xbf')]=_0x245d4d[_0x1cd8('0xc0')]=_0x245d4d['NumberUpEffect']=_0x245d4d[_0x1cd8('0xc1')]=_0x245d4d[_0x1cd8('0xc2')]=_0x245d4d[_0x1cd8('0xc3')]=_0x245d4d['CircleRippleEffect']=_0x245d4d[_0x1cd8('0xc4')]=_0x245d4d[_0x1cd8('0xc5')]=_0x245d4d[_0x1cd8('0xc6')]=_0x245d4d[_0x1cd8('0xc7')]=_0x245d4d[_0x1cd8('0xc8')]=_0x245d4d[_0x1cd8('0xc9')]=_0x245d4d[_0x1cd8('0xca')]=_0x245d4d[_0x1cd8('0xcb')]=_0x245d4d[_0x1cd8('0xcc')]=_0x245d4d[_0x1cd8('0xcd')]=_0x245d4d['BuildingsTexture2']=_0x245d4d[_0x1cd8('0xce')]=_0x245d4d[_0x1cd8('0xcf')]=_0x245d4d[_0x1cd8('0xd0')]=_0x245d4d[_0x1cd8('0xd1')]=_0x245d4d[_0x1cd8('0xd2')]=_0x245d4d[_0x1cd8('0xd3')]=void 0x0;var _0x3b2453=_0x38c0c0(_0xf8c306(0xac)),_0x29b559=_0x38c0c0(_0xf8c306(0xad)),_0x29e723=_0x38c0c0(_0xf8c306(0xae)),_0x57c0bc=_0x38c0c0(_0xf8c306(0x9d)),_0x2fd723=_0x38c0c0(_0xf8c306(0x85)),_0x123f88=_0x38c0c0(_0xf8c306(0xb1)),_0x52dcbf=_0x38c0c0(_0xf8c306(0xd1)),_0x3f5996=_0x38c0c0(_0xf8c306(0x74)),_0x46db3b=_0x38c0c0(_0xf8c306(0xd2)),_0x18075c=_0x38c0c0(_0xf8c306(0xd3)),_0x388db4=_0x38c0c0(_0xf8c306(0xd4)),_0x14fb64=_0x38c0c0(_0xf8c306(0xa9)),_0x54cc55=_0x38c0c0(_0xf8c306(0xaa)),_0x17cc15=_0x38c0c0(_0xf8c306(0xd5)),_0x222cd4=_0x38c0c0(_0xf8c306(0xb0)),_0x5cab17=_0x38c0c0(_0xf8c306(0xab)),_0x3d8659=_0x38c0c0(_0xf8c306(0xd6)),_0x200012=_0x38c0c0(_0xf8c306(0x9e)),_0x375e0b=_0x38c0c0(_0xf8c306(0x9f)),_0x5e0881=_0x38c0c0(_0xf8c306(0xd7)),_0x3bdbc2=_0x38c0c0(_0xf8c306(0xa0)),_0x23b29d=_0x38c0c0(_0xf8c306(0xa2)),_0x452849=_0x38c0c0(_0xf8c306(0xa1)),_0x467ff1=_0x38c0c0(_0xf8c306(0xd8)),_0x5f3cfa=_0x38c0c0(_0xf8c306(0xd9)),_0x1d2ff4=_0x38c0c0(_0xf8c306(0xda)),_0x470a5e=_0x38c0c0(_0xf8c306(0xdb)),_0x50745d=_0x38c0c0(_0xf8c306(0xdc)),_0x1c15d0=_0x38c0c0(_0xf8c306(0xa4)),_0x343dcd=_0x38c0c0(_0xf8c306(0xdd)),_0x55be41=_0x38c0c0(_0xf8c306(0xde)),_0x1f0f37=_0x38c0c0(_0xf8c306(0xa5)),_0x3ee811=_0x38c0c0(_0xf8c306(0xdf)),_0x1e5d0e=_0x38c0c0(_0xf8c306(0x84)),_0x590043=_0x38c0c0(_0xf8c306(0xe0)),_0x39f2b0=_0x38c0c0(_0xf8c306(0xe1)),_0x1ea129=_0x38c0c0(_0xf8c306(0xe3)),_0x396098=_0x38c0c0(_0xf8c306(0xa3)),_0x1703c7=_0x38c0c0(_0xf8c306(0xe8)),_0x46fb1e=_0x38c0c0(_0xf8c306(0xe9)),_0x3f3c4c=_0x38c0c0(_0xf8c306(0xea)),_0x2522bd=_0x38c0c0(_0xf8c306(0xeb)),_0xc0070b=_0x38c0c0(_0xf8c306(0xec)),_0x5ea612=_0x38c0c0(_0xf8c306(0xed)),_0x2324af=_0x38c0c0(_0xf8c306(0xee)),_0x1bf86a=_0x38c0c0(_0xf8c306(0x81)),_0x2d8654=_0x38c0c0(_0xf8c306(0xef)),_0x18eaac=_0x38c0c0(_0xf8c306(0xf0)),_0x3e6087=_0x38c0c0(_0xf8c306(0xf4)),_0x170615=_0x38c0c0(_0xf8c306(0xf5)),_0x21c311=_0x38c0c0(_0xf8c306(0xf6)),_0x935a72=_0x38c0c0(_0xf8c306(0xf7)),_0x740114=_0x38c0c0(_0xf8c306(0xf8)),_0xf8c306=_0x38c0c0(_0xf8c306(0xf9));function _0x38c0c0(_0x245d4d){return _0x245d4d&&_0x245d4d[_0x1cd8('0x6')]?_0x245d4d:{'default':_0x245d4d};}_0x245d4d[_0x1cd8('0xd3')]=_0x29b559[_0x1cd8('0xa')],_0x245d4d['CubeSkybox']=_0x3b2453['default'],_0x245d4d[_0x1cd8('0xd1')]=_0x29e723[_0x1cd8('0xa')],_0x245d4d['MapTileWater']=_0x57c0bc['default'],_0x245d4d[_0x1cd8('0xcf')]=_0x2fd723[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xce')]=_0x123f88[_0x1cd8('0xa')],_0x245d4d['BuildingsTexture2']=_0x52dcbf['default'],_0x245d4d['CameraFlyTo']=_0x3f5996[_0x1cd8('0xa')],_0x245d4d['CubeFloatMarker']=_0x46db3b[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xcb')]=_0x18075c[_0x1cd8('0xa')],_0x245d4d['CircleRotateYMarker']=_0x388db4[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xc9')]=_0x14fb64['default'],_0x245d4d['PointsLine']=_0x54cc55[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xc7')]=_0x17cc15['default'],_0x245d4d[_0x1cd8('0xc6')]=_0x222cd4[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xc5')]=_0x5cab17[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xc4')]=_0x3d8659[_0x1cd8('0xa')],_0x245d4d['CircleRippleEffect']=_0x200012[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xc3')]=_0x375e0b['default'],_0x245d4d[_0x1cd8('0xc2')]=_0x5e0881[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xc1')]=_0x3bdbc2[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xd4')]=_0x23b29d[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xc0')]=_0x452849[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xbf')]=_0x467ff1['default'],_0x245d4d[_0x1cd8('0xd5')]=_0x5f3cfa[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xbe')]=_0x1d2ff4[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xd6')]=_0x470a5e['default'],_0x245d4d[_0x1cd8('0xbd')]=_0x50745d['default'],_0x245d4d[_0x1cd8('0xbc')]=_0x1c15d0[_0x1cd8('0xa')],_0x245d4d['Smoke']=_0x343dcd[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xba')]=_0x55be41[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xb9')]=_0x1f0f37[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xb8')]=_0x3ee811[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xb7')]=_0x1e5d0e[_0x1cd8('0xa')],_0x245d4d['PlaneCrossLine']=_0x590043[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xb5')]=_0x39f2b0[_0x1cd8('0xa')],_0x245d4d['EnvTextureLoader']=_0x1ea129[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xb3')]=_0x396098['default'],_0x245d4d[_0x1cd8('0xb2')]=_0x1703c7[_0x1cd8('0xa')],_0x245d4d['GroundTexture']=_0x46fb1e[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xd7')]=_0x3f3c4c[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xb0')]=_0x2522bd[_0x1cd8('0xa')],_0x245d4d['ClearSkyGround']=_0xc0070b[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xae')]=_0x5ea612[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xad')]=_0x2324af[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xac')]=_0x1bf86a[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xab')]=_0x2d8654['default'],_0x245d4d[_0x1cd8('0xaa')]=_0x18eaac[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xd8')]=_0x3e6087['default'],_0x245d4d[_0x1cd8('0xd9')]=_0x170615['default'],_0x245d4d[_0x1cd8('0xa9')]=_0x21c311[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xa8')]=_0x935a72['default'],_0x245d4d[_0x1cd8('0xda')]=_0x740114[_0x1cd8('0xa')],_0x245d4d[_0x1cd8('0xdb')]=_0xf8c306[_0x1cd8('0xa')];},function(_0x27a07a,_0x16db96){_0x27a07a[_0x1cd8('0x0')]=function(_0x27a07a,_0x16db96){return{'value':_0x16db96,'done':!!_0x27a07a};};},function(_0x4133d9,_0x5c8ab7,_0x509000){_0x509000=_0x509000(0x5)[_0x1cd8('0x67')];_0x4133d9['exports']=_0x509000&&_0x509000[_0x1cd8('0xdc')];},function(_0x131b90,_0x585e9f,_0x2bfda1){var _0x3c30ef=_0x2bfda1(0xc),_0x1c53df=_0x2bfda1(0x12),_0x1d8a4c=_0x2bfda1(0x22)('IE_PROTO'),_0x262355=Object[_0x1cd8('0x11')];_0x131b90[_0x1cd8('0x0')]=Object[_0x1cd8('0xdd')]||function(_0x131b90){return _0x131b90=_0x1c53df(_0x131b90),_0x3c30ef(_0x131b90,_0x1d8a4c)?_0x131b90[_0x1d8a4c]:_0x1cd8('0x12')==typeof _0x131b90[_0x1cd8('0x88')]&&_0x131b90 instanceof _0x131b90[_0x1cd8('0x88')]?_0x131b90[_0x1cd8('0x88')]['prototype']:_0x131b90 instanceof Object?_0x262355:null;};},function(_0x573fbc,_0x5000bd,_0x83a95c){_0x573fbc[_0x1cd8('0x0')]={'default':_0x83a95c(0x5a),'__esModule':!0x0};},function(_0x32aa4d,_0x450db5,_0x41fe72){'use strict';function _0x22666e(_0x32aa4d){_0x32aa4d&&(_0x32aa4d['dispose']?_0x32aa4d[_0x1cd8('0xde')]():(_0x32aa4d[_0x1cd8('0x47')]&&(_0x32aa4d[_0x1cd8('0x47')][_0x1cd8('0xdf')]&&(_0x32aa4d[_0x1cd8('0x47')][_0x1cd8('0xdf')][_0x1cd8('0xde')](),_0x32aa4d[_0x1cd8('0x47')][_0x1cd8('0xdf')]=null),_0x32aa4d['material']['dispose'](),_0x32aa4d[_0x1cd8('0x47')]=null),_0x32aa4d['geometry']&&(_0x32aa4d[_0x1cd8('0xe0')][_0x1cd8('0xde')](),_0x32aa4d[_0x1cd8('0xe0')]=null)));}function _0x163a22(_0x32aa4d){var _0x450db5=[];_0x32aa4d['traverse'](function(_0x32aa4d){_0x450db5['push'](_0x32aa4d);});for(var _0x41fe72=0x0,_0x163a22=_0x450db5['length'];_0x41fe72<_0x163a22;_0x41fe72++)_0x32aa4d[_0x1cd8('0xe1')](_0x450db5[_0x41fe72]),_0x22666e(_0x450db5[_0x41fe72]);_0x450db5=null;}Object[_0x1cd8('0x4')](_0x450db5,_0x1cd8('0x6'),{'value':!0x0}),_0x450db5['default']={'disposeAll':function(_0x32aa4d){_0x163a22(_0x32aa4d),_0x32aa4d[_0x1cd8('0xe2')][_0x1cd8('0xe1')](_0x32aa4d),_0x22666e(_0x32aa4d);},'disposeChilds':_0x163a22,'dispseMesh':_0x22666e};},function(_0x2ec7a1,_0x424115,_0x543d30){var _0x31ab03=_0x543d30(0x3),_0x1f26c2=_0x543d30(0x2),_0x10b5dd=_0x543d30(0xd);_0x2ec7a1[_0x1cd8('0x0')]=function(_0x2ec7a1,_0x424115){var _0x543d30=(_0x1f26c2[_0x1cd8('0x84')]||{})[_0x2ec7a1]||Object[_0x2ec7a1],_0x5a7ed5={};_0x5a7ed5[_0x2ec7a1]=_0x424115(_0x543d30),_0x31ab03(_0x31ab03['S']+_0x31ab03['F']*_0x10b5dd(function(){_0x543d30(0x1);}),_0x1cd8('0x84'),_0x5a7ed5);};},function(_0x227389,_0x59f8f0,_0x595035){var _0x10403f=_0x595035(0x16);_0x227389[_0x1cd8('0x0')]=Array['isArray']||function(_0x227389){return _0x1cd8('0x5e')==_0x10403f(_0x227389);};},function(_0x5e0e40,_0x3e9926){_0x5e0e40[_0x1cd8('0x0')]=function(_0x5e0e40,_0x3e9926,_0x4ba33a,_0x447f7b){if(!(_0x5e0e40 instanceof _0x3e9926)||void 0x0!==_0x447f7b&&_0x447f7b in _0x5e0e40)throw TypeError(_0x4ba33a+_0x1cd8('0xe3'));return _0x5e0e40;};},function(_0x4d4a07,_0x456e5e,_0x438848){var _0x207814=_0x438848(0xb);_0x4d4a07[_0x1cd8('0x0')]=function(_0x4d4a07,_0x456e5e,_0x438848){for(var _0x2ee42f in _0x456e5e)_0x438848&&_0x4d4a07[_0x2ee42f]?_0x4d4a07[_0x2ee42f]=_0x456e5e[_0x2ee42f]:_0x207814(_0x4d4a07,_0x2ee42f,_0x456e5e[_0x2ee42f]);return _0x4d4a07;};},function(_0x11930c,_0xe9a884,_0x41bf1d){_0x41bf1d(0x4c);var _0x5682c3=_0x41bf1d(0x2)[_0x1cd8('0x84')];_0x11930c['exports']=function(_0x11930c,_0xe9a884,_0x41bf1d){return _0x5682c3[_0x1cd8('0x4')](_0x11930c,_0xe9a884,_0x41bf1d);};},function(_0x2f95b0,_0x3ee6db,_0x2e7a33){var _0x443166=_0x2e7a33(0x3);_0x443166(_0x443166['S']+_0x443166['F']*!_0x2e7a33(0x7),_0x1cd8('0x84'),{'defineProperty':_0x2e7a33(0x8)['f']});},function(_0xeb43b4,_0x1ed6d2,_0x3487da){_0x3487da(0x1b),_0x3487da(0x19),_0xeb43b4['exports']=_0x3487da(0x54);},function(_0x1be06a,_0x3abfb2,_0x50b20b){'use strict';var _0x192644=_0x50b20b(0x4f),_0x516ac2=_0x50b20b(0x42),_0x316319=_0x50b20b(0x11),_0x481e3a=_0x50b20b(0xe);_0x1be06a[_0x1cd8('0x0')]=_0x50b20b(0x28)(Array,_0x1cd8('0x5e'),function(_0x1be06a,_0x3abfb2){this['_t']=_0x481e3a(_0x1be06a),this['_i']=0x0,this['_k']=_0x3abfb2;},function(){var _0x1be06a=this['_t'],_0x3abfb2=this['_k'],_0x50b20b=this['_i']++;return!_0x1be06a||_0x50b20b>=_0x1be06a['length']?(this['_t']=void 0x0,_0x516ac2(0x1)):_0x516ac2(0x0,_0x1cd8('0x1f')==_0x3abfb2?_0x50b20b:_0x1cd8('0x7a')==_0x3abfb2?_0x1be06a[_0x50b20b]:[_0x50b20b,_0x1be06a[_0x50b20b]]);},_0x1cd8('0x7a')),_0x316319[_0x1cd8('0x85')]=_0x316319[_0x1cd8('0x5e')],_0x192644(_0x1cd8('0x1f')),_0x192644(_0x1cd8('0x7a')),_0x192644(_0x1cd8('0x7d'));},function(_0x53b976,_0x1a4c46){_0x53b976['exports']=function(){};},function(_0x69c87a,_0x26e15c,_0x4dc502){'use strict';var _0x74b4c3=_0x4dc502(0x1f),_0x543386=_0x4dc502(0x15),_0x37e76c=_0x4dc502(0x17),_0x380aa8={};_0x4dc502(0xb)(_0x380aa8,_0x4dc502(0x6)(_0x1cd8('0x93')),function(){return this;}),_0x69c87a[_0x1cd8('0x0')]=function(_0x69c87a,_0x26e15c,_0x4dc502){_0x69c87a[_0x1cd8('0x11')]=_0x74b4c3(_0x380aa8,{'next':_0x543386(0x1,_0x4dc502)}),_0x37e76c(_0x69c87a,_0x26e15c+'\x20Iterator');};},function(_0x363b1b,_0x34b97f,_0x437723){var _0x46048a=_0x437723(0xe),_0x8f0124=_0x437723(0x2b),_0x36d3cb=_0x437723(0x52);_0x363b1b['exports']=function(_0x473462){return function(_0x363b1b,_0x34b97f,_0x437723){var _0xa4ff45,_0x4c8e91=_0x46048a(_0x363b1b),_0x540927=_0x8f0124(_0x4c8e91[_0x1cd8('0xc')]),_0x27aa2a=_0x36d3cb(_0x437723,_0x540927);if(_0x473462&&_0x34b97f!=_0x34b97f){for(;_0x27aa2a<_0x540927;)if((_0xa4ff45=_0x4c8e91[_0x27aa2a++])!=_0xa4ff45)return!0x0;}else for(;_0x27aa2a<_0x540927;_0x27aa2a++)if((_0x473462||_0x27aa2a in _0x4c8e91)&&_0x4c8e91[_0x27aa2a]===_0x34b97f)return _0x473462||_0x27aa2a||0x0;return!_0x473462&&-0x1;};};},function(_0x30bed2,_0x425379,_0x4978e0){var _0x406ac4=_0x4978e0(0x21),_0x4fe1e2=Math[_0x1cd8('0xe4')],_0xbe3f09=Math[_0x1cd8('0x81')];_0x30bed2[_0x1cd8('0x0')]=function(_0x30bed2,_0x425379){return(_0x30bed2=_0x406ac4(_0x30bed2))<0x0?_0x4fe1e2(_0x30bed2+_0x425379,0x0):_0xbe3f09(_0x30bed2,_0x425379);};},function(_0x149663,_0x53c681,_0x89332a){var _0x50e5c3=_0x89332a(0x21),_0x36ade3=_0x89332a(0x1e);_0x149663[_0x1cd8('0x0')]=function(_0x4b1419){return function(_0x149663,_0x53c681){var _0x89332a,_0x149663=String(_0x36ade3(_0x149663)),_0x53c681=_0x50e5c3(_0x53c681),_0x2c4268=_0x149663[_0x1cd8('0xc')];return _0x53c681<0x0||_0x2c4268<=_0x53c681?_0x4b1419?'':void 0x0:(_0x89332a=_0x149663[_0x1cd8('0xe5')](_0x53c681))<0xd800||0xdbff<_0x89332a||_0x53c681+0x1===_0x2c4268||(_0x2c4268=_0x149663[_0x1cd8('0xe5')](_0x53c681+0x1))<0xdc00||0xdfff<_0x2c4268?_0x4b1419?_0x149663[_0x1cd8('0x80')](_0x53c681):_0x89332a:_0x4b1419?_0x149663[_0x1cd8('0x9a')](_0x53c681,_0x53c681+0x2):_0x2c4268-0xdc00+(_0x89332a-0xd800<<0xa)+0x10000;};};},function(_0x37baa9,_0x18a071,_0x1feff5){var _0x2810ab=_0x1feff5(0xa),_0x33d605=_0x1feff5(0x38);_0x37baa9[_0x1cd8('0x0')]=_0x1feff5(0x2)['getIterator']=function(_0x37baa9){var _0x18a071=_0x33d605(_0x37baa9);if(_0x1cd8('0x12')!=typeof _0x18a071)throw TypeError(_0x37baa9+_0x1cd8('0x8d'));return _0x2810ab(_0x18a071[_0x1cd8('0x1')](_0x37baa9));};},function(_0x5bb8f9,_0x3d5e09,_0x569cfd){'use strict';var _0x5aab54=_0x569cfd(0x20);function _0x5ca2d2(_0x5bb8f9){var _0x569cfd,_0x5ca2d2;this[_0x1cd8('0xe6')]=new _0x5bb8f9(function(_0x5bb8f9,_0x3d5e09){if(void 0x0!==_0x569cfd||void 0x0!==_0x5ca2d2)throw TypeError(_0x1cd8('0xe7'));_0x569cfd=_0x5bb8f9,_0x5ca2d2=_0x3d5e09;}),this[_0x1cd8('0xe8')]=_0x5aab54(_0x569cfd),this['reject']=_0x5aab54(_0x5ca2d2);}_0x5bb8f9['exports']['f']=function(_0x5bb8f9){return new _0x5ca2d2(_0x5bb8f9);};},function(_0x3a9e3a,_0x245e68,_0x2c1621){'use strict';var _0x5c67ce,_0x24d8c7=_0x40dd23(_0x2c1621(0x32)),_0x45d4cb=_0x40dd23(_0x2c1621(0x3e)),_0x5d4949=_0x40dd23(_0x2c1621(0x2f));function _0x40dd23(_0x3a9e3a){return _0x3a9e3a&&_0x3a9e3a[_0x1cd8('0x6')]?_0x3a9e3a:{'default':_0x3a9e3a};}var _0x5cb14f,_0x340bf6,_0x3da310,_0x44b912,_0x53deb5,_0x23fa5d,_0x282bfe,_0x1efc09={'distributions':{'BOX':0x1,'SPHERE':0x2,'DISC':0x3},'valueOverLifetimeLength':0x4};void 0x0!==(_0x2c1621=_0x1cd8('0x12')==typeof(_0x5c67ce=_0x1efc09)?_0x5c67ce['call'](_0x245e68,_0x2c1621,_0x245e68,_0x3a9e3a):_0x5c67ce)&&(_0x3a9e3a[_0x1cd8('0x0')]=_0x2c1621),_0x1efc09[_0x1cd8('0xe9')]=function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce){this[_0x1cd8('0xea')]=_0x2c1621||0x1,this[_0x1cd8('0xeb')]=_0x245e68||0x1,this[_0x1cd8('0xec')]=_0x3a9e3a||Float32Array,this[_0x1cd8('0xed')]=new _0x3a9e3a(_0x245e68*this[_0x1cd8('0xea')]),this['indexOffset']=_0x5c67ce||0x0;},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x88')]=_0x1efc09[_0x1cd8('0xe9')],_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0xee')]=function(_0x3a9e3a,_0x245e68){var _0x2c1621=this[_0x1cd8('0xed')][_0x1cd8('0xc')];return _0x245e68||(_0x3a9e3a*=this[_0x1cd8('0xea')]),_0x3a9e3a<_0x2c1621?this[_0x1cd8('0xef')](_0x3a9e3a):_0x2c1621<_0x3a9e3a?this['grow'](_0x3a9e3a):void console[_0x1cd8('0xf0')](_0x1cd8('0xf1'),_0x3a9e3a+'.','Will\x20not\x20resize.');},_0x1efc09[_0x1cd8('0xe9')]['prototype'][_0x1cd8('0xef')]=function(_0x3a9e3a){return this[_0x1cd8('0xed')]=this['array']['subarray'](0x0,_0x3a9e3a),this[_0x1cd8('0xeb')]=_0x3a9e3a,this;},_0x1efc09[_0x1cd8('0xe9')]['prototype']['grow']=function(_0x3a9e3a){var _0x245e68=this['array'],_0x2c1621=new this[(_0x1cd8('0xec'))](_0x3a9e3a);return _0x2c1621[_0x1cd8('0x1b')](_0x245e68),this[_0x1cd8('0xed')]=_0x2c1621,this[_0x1cd8('0xeb')]=_0x3a9e3a,this;},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0x99')]=function(_0x3a9e3a,_0x245e68){_0x3a9e3a*=this[_0x1cd8('0xea')],_0x245e68*=this[_0x1cd8('0xea')];for(var _0x2c1621=[],_0x5c67ce=this[_0x1cd8('0xed')],_0x24d8c7=_0x5c67ce[_0x1cd8('0xc')],_0x45d4cb=0x0;_0x45d4cb<_0x24d8c7;++_0x45d4cb)(_0x45d4cb<_0x3a9e3a||_0x245e68<=_0x45d4cb)&&_0x2c1621[_0x1cd8('0x70')](_0x5c67ce[_0x45d4cb]);return this[_0x1cd8('0xf2')](0x0,_0x2c1621),this;},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0xf2')]=function(_0x3a9e3a,_0x245e68){var _0x2c1621=_0x3a9e3a+_0x245e68[_0x1cd8('0xc')];return _0x2c1621>this[_0x1cd8('0xed')][_0x1cd8('0xc')]?this[_0x1cd8('0xf3')](_0x2c1621):_0x2c1621<this[_0x1cd8('0xed')][_0x1cd8('0xc')]&&this[_0x1cd8('0xef')](_0x2c1621),this[_0x1cd8('0xed')]['set'](_0x245e68,this[_0x1cd8('0xf4')]+_0x3a9e3a),this;},_0x1efc09[_0x1cd8('0xe9')]['prototype'][_0x1cd8('0xf5')]=function(_0x3a9e3a,_0x245e68){return this[_0x1cd8('0xf6')](_0x3a9e3a,_0x245e68['x'],_0x245e68['y']);},_0x1efc09['TypedArrayHelper'][_0x1cd8('0x11')][_0x1cd8('0xf6')]=function(_0x3a9e3a,_0x245e68,_0x2c1621){var _0x5c67ce=this[_0x1cd8('0xed')],_0x3a9e3a=this['indexOffset']+_0x3a9e3a*this[_0x1cd8('0xea')];return _0x5c67ce[_0x3a9e3a]=_0x245e68,_0x5c67ce[_0x3a9e3a+0x1]=_0x2c1621,this;},_0x1efc09['TypedArrayHelper'][_0x1cd8('0x11')][_0x1cd8('0xf7')]=function(_0x3a9e3a,_0x245e68){return this[_0x1cd8('0xf8')](_0x3a9e3a,_0x245e68['x'],_0x245e68['y'],_0x245e68['z']);},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0xf8')]=function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce){var _0x24d8c7=this[_0x1cd8('0xed')],_0x3a9e3a=this[_0x1cd8('0xf4')]+_0x3a9e3a*this[_0x1cd8('0xea')];return _0x24d8c7[_0x3a9e3a]=_0x245e68,_0x24d8c7[_0x3a9e3a+0x1]=_0x2c1621,_0x24d8c7[_0x3a9e3a+0x2]=_0x5c67ce,this;},_0x1efc09['TypedArrayHelper'][_0x1cd8('0x11')]['setVec4']=function(_0x3a9e3a,_0x245e68){return this[_0x1cd8('0xf9')](_0x3a9e3a,_0x245e68['x'],_0x245e68['y'],_0x245e68['z'],_0x245e68['w']);},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0xf9')]=function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce,_0x24d8c7){var _0x45d4cb=this[_0x1cd8('0xed')],_0x3a9e3a=this['indexOffset']+_0x3a9e3a*this['componentSize'];return _0x45d4cb[_0x3a9e3a]=_0x245e68,_0x45d4cb[_0x3a9e3a+0x1]=_0x2c1621,_0x45d4cb[_0x3a9e3a+0x2]=_0x5c67ce,_0x45d4cb[_0x3a9e3a+0x3]=_0x24d8c7,this;},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0xfa')]=function(_0x3a9e3a,_0x245e68){return this[_0x1cd8('0xf2')](this[_0x1cd8('0xf4')]+_0x3a9e3a*this['componentSize'],_0x245e68['elements']);},_0x1efc09[_0x1cd8('0xe9')]['prototype'][_0x1cd8('0xfb')]=function(_0x3a9e3a,_0x245e68){return this[_0x1cd8('0xf2')](this[_0x1cd8('0xf4')]+_0x3a9e3a*this[_0x1cd8('0xea')],_0x245e68[_0x1cd8('0xfc')]);},_0x1efc09['TypedArrayHelper'][_0x1cd8('0x11')]['setColor']=function(_0x3a9e3a,_0x245e68){return this[_0x1cd8('0xf8')](_0x3a9e3a,_0x245e68['r'],_0x245e68['g'],_0x245e68['b']);},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0xfd')]=function(_0x3a9e3a,_0x245e68){return this[_0x1cd8('0xed')][this['indexOffset']+_0x3a9e3a*this['componentSize']]=_0x245e68,this;},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0xfe')]=function(_0x3a9e3a){return this[_0x1cd8('0xed')][this[_0x1cd8('0xf4')]+_0x3a9e3a];},_0x1efc09[_0x1cd8('0xe9')][_0x1cd8('0x11')][_0x1cd8('0xff')]=function(_0x3a9e3a){return this[_0x1cd8('0xed')]['subarray'](this[_0x1cd8('0xf4')]+_0x3a9e3a*this[_0x1cd8('0xea')]);},_0x1efc09[_0x1cd8('0x100')]=function(_0x3a9e3a,_0x245e68,_0x2c1621){var _0x5c67ce=_0x1efc09[_0x1cd8('0x100')]['typeSizeMap'];this['type']=_0x1cd8('0x8')==typeof _0x3a9e3a&&_0x5c67ce[_0x1cd8('0x1e')](_0x3a9e3a)?_0x3a9e3a:'f',this['componentSize']=_0x5c67ce[this[_0x1cd8('0x101')]],this[_0x1cd8('0x102')]=_0x2c1621||Float32Array,this[_0x1cd8('0x103')]=null,this['bufferAttribute']=null,this[_0x1cd8('0x104')]=!!_0x245e68,this[_0x1cd8('0x105')]=0x0,this[_0x1cd8('0x106')]=0x0;},_0x1efc09[_0x1cd8('0x100')]['constructor']=_0x1efc09['ShaderAttribute'],_0x1efc09[_0x1cd8('0x100')]['typeSizeMap']={'f':0x1,'v2':0x2,'v3':0x3,'v4':0x4,'c':0x3,'m3':0x9,'m4':0x10},_0x1efc09[_0x1cd8('0x100')][_0x1cd8('0x11')]['setUpdateRange']=function(_0x3a9e3a,_0x245e68){this[_0x1cd8('0x105')]=Math[_0x1cd8('0x81')](_0x3a9e3a*this[_0x1cd8('0xea')],this[_0x1cd8('0x105')]*this[_0x1cd8('0xea')]),this[_0x1cd8('0x106')]=Math[_0x1cd8('0xe4')](_0x245e68*this[_0x1cd8('0xea')],this[_0x1cd8('0x106')]*this[_0x1cd8('0xea')]);},_0x1efc09[_0x1cd8('0x100')][_0x1cd8('0x11')][_0x1cd8('0x107')]=function(){var _0x3a9e3a=this[_0x1cd8('0x108')],_0x245e68=_0x3a9e3a[_0x1cd8('0x109')];_0x245e68[_0x1cd8('0x10a')]=this[_0x1cd8('0x105')],_0x245e68['count']=Math[_0x1cd8('0x81')](this[_0x1cd8('0x106')]-this[_0x1cd8('0x105')]+this[_0x1cd8('0xea')],this[_0x1cd8('0x103')][_0x1cd8('0xed')][_0x1cd8('0xc')]),_0x3a9e3a[_0x1cd8('0x10b')]=!0x0;},_0x1efc09[_0x1cd8('0x100')]['prototype'][_0x1cd8('0x10c')]=function(){this[_0x1cd8('0x105')]=0x0,this[_0x1cd8('0x106')]=0x0;},_0x1efc09[_0x1cd8('0x100')][_0x1cd8('0x11')][_0x1cd8('0x10d')]=function(){this['bufferAttribute']['dynamic']=this['dynamicBuffer'];},_0x1efc09[_0x1cd8('0x100')][_0x1cd8('0x11')][_0x1cd8('0x99')]=function(_0x3a9e3a,_0x245e68){this[_0x1cd8('0x103')][_0x1cd8('0x99')](_0x3a9e3a,_0x245e68),this[_0x1cd8('0x10e')]();},_0x1efc09[_0x1cd8('0x100')][_0x1cd8('0x11')]['forceUpdateAll']=function(){this[_0x1cd8('0x108')][_0x1cd8('0xed')]=this['typedArray']['array'],this[_0x1cd8('0x108')]['updateRange']['offset']=0x0,this[_0x1cd8('0x108')]['updateRange'][_0x1cd8('0x10f')]=-0x1,this[_0x1cd8('0x108')][_0x1cd8('0x110')]=!0x1,this[_0x1cd8('0x108')][_0x1cd8('0x10b')]=!0x0;},_0x1efc09['ShaderAttribute'][_0x1cd8('0x11')][_0x1cd8('0x111')]=function(_0x3a9e3a){null!==this[_0x1cd8('0x103')]&&this[_0x1cd8('0x103')][_0x1cd8('0xeb')]===_0x3a9e3a*this['componentSize']||(null!==this['typedArray']&&this[_0x1cd8('0x103')][_0x1cd8('0xeb')]!==_0x3a9e3a?this[_0x1cd8('0x103')]['setSize'](_0x3a9e3a):null===this[_0x1cd8('0x103')]&&(this['typedArray']=new _0x1efc09[(_0x1cd8('0xe9'))](this[_0x1cd8('0x102')],_0x3a9e3a,this[_0x1cd8('0xea')])));},_0x1efc09[_0x1cd8('0x100')]['prototype'][_0x1cd8('0x112')]=function(_0x3a9e3a){if(this['_ensureTypedArray'](_0x3a9e3a),null!==this[_0x1cd8('0x108')])return this['bufferAttribute'][_0x1cd8('0xed')]=this['typedArray']['array'],0x51<=parseFloat(THREE[_0x1cd8('0x113')])&&(this[_0x1cd8('0x108')][_0x1cd8('0x10f')]=this[_0x1cd8('0x108')][_0x1cd8('0xed')][_0x1cd8('0xc')]/this[_0x1cd8('0x108')]['itemSize']),void(this['bufferAttribute'][_0x1cd8('0x10b')]=!0x0);this[_0x1cd8('0x108')]=new THREE['BufferAttribute'](this['typedArray'][_0x1cd8('0xed')],this['componentSize']),this[_0x1cd8('0x108')][_0x1cd8('0x110')]=this[_0x1cd8('0x104')];},_0x1efc09[_0x1cd8('0x100')][_0x1cd8('0x11')][_0x1cd8('0x114')]=function(){return null===this[_0x1cd8('0x103')]?0x0:this[_0x1cd8('0x103')]['array']['length'];},_0x1efc09[_0x1cd8('0x115')]={'defines':[_0x1cd8('0x116'),'#define\x20PACKED_COLOR_DIVISOR\x20255.0'][_0x1cd8('0x117')]('\x0a'),'uniforms':[_0x1cd8('0x118'),_0x1cd8('0x119'),_0x1cd8('0x11a'),_0x1cd8('0x11b'),_0x1cd8('0x11c')][_0x1cd8('0x117')]('\x0a'),'attributes':[_0x1cd8('0x11d'),_0x1cd8('0x11e'),_0x1cd8('0x11f'),_0x1cd8('0x120'),_0x1cd8('0x121'),_0x1cd8('0x122'),'attribute\x20vec4\x20angle;','attribute\x20vec4\x20color;',_0x1cd8('0x123')]['join']('\x0a'),'varyings':['varying\x20vec4\x20vColor;',_0x1cd8('0x124'),_0x1cd8('0x125'),'#endif','#ifdef\x20SHOULD_CALCULATE_SPRITE',_0x1cd8('0x126'),_0x1cd8('0x127')][_0x1cd8('0x117')]('\x0a'),'branchAvoidanceFunctions':['float\x20when_gt(float\x20x,\x20float\x20y)\x20{',_0x1cd8('0x128'),'}',_0x1cd8('0x129'),_0x1cd8('0x12a'),'}','float\x20when_eq(\x20float\x20x,\x20float\x20y\x20)\x20{',_0x1cd8('0x12b'),'}',_0x1cd8('0x12c'),_0x1cd8('0x12d'),'}',_0x1cd8('0x12e'),_0x1cd8('0x12f'),'}',_0x1cd8('0x130'),'\x20\x20\x20\x20return\x20a\x20*\x20b;','}','float\x20or(float\x20a,\x20float\x20b)\x20{',_0x1cd8('0x131'),'}'][_0x1cd8('0x117')]('\x0a'),'unpackColor':[_0x1cd8('0x132'),_0x1cd8('0x133'),_0x1cd8('0x134'),_0x1cd8('0x135'),_0x1cd8('0x136'),'\x20\x20\x20c.r\x20=\x20r\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;',_0x1cd8('0x137'),_0x1cd8('0x138'),'}']['join']('\x0a'),'unpackRotationAxis':[_0x1cd8('0x139'),_0x1cd8('0x133'),'\x20\x20\x20float\x20r\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);',_0x1cd8('0x135'),_0x1cd8('0x136'),_0x1cd8('0x13a'),_0x1cd8('0x13b'),_0x1cd8('0x137'),_0x1cd8('0x13c'),_0x1cd8('0x13d'),_0x1cd8('0x138'),'}'][_0x1cd8('0x117')]('\x0a'),'floatOverLifetime':[_0x1cd8('0x13e'),_0x1cd8('0x13f'),_0x1cd8('0x140'),_0x1cd8('0x141'),'\x20\x20\x20\x20float\x20shouldApplyValue\x20=\x200.0;',_0x1cd8('0x142'),'',_0x1cd8('0x143'),_0x1cd8('0x144'),_0x1cd8('0x145'),_0x1cd8('0x146'),_0x1cd8('0x147'),'',_0x1cd8('0x148'),'}'][_0x1cd8('0x117')]('\x0a'),'colorOverLifetime':[_0x1cd8('0x149'),_0x1cd8('0x14a'),_0x1cd8('0x14b'),'\x20\x20\x20\x20value.y\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.y,\x20color2.y,\x20color3.y,\x20color4.y\x20)\x20);','\x20\x20\x20\x20value.z\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.z,\x20color2.z,\x20color3.z,\x20color4.z\x20)\x20);','\x20\x20\x20\x20return\x20value;','}'][_0x1cd8('0x117')]('\x0a'),'paramFetchingFunctions':[_0x1cd8('0x14c'),_0x1cd8('0x14d'),'}',_0x1cd8('0x14e'),'\x20\x20\x20return\x20params.y;','}',_0x1cd8('0x14f'),'\x20\x20\x20return\x20params.z;','}','float\x20getWiggle()\x20{','\x20\x20\x20return\x20params.w;','}'][_0x1cd8('0x117')]('\x0a'),'forceFetchingFunctions':[_0x1cd8('0x150'),'\x20\x20\x20return\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}',_0x1cd8('0x151'),'\x20\x20\x20return\x20velocity\x20*\x20age;','}',_0x1cd8('0x152'),_0x1cd8('0x153'),'}'][_0x1cd8('0x117')]('\x0a'),'rotationFunctions':['#ifdef\x20SHOULD_ROTATE_PARTICLES',_0x1cd8('0x154'),_0x1cd8('0x155'),_0x1cd8('0x156'),_0x1cd8('0x157'),_0x1cd8('0x158'),'',_0x1cd8('0x159'),_0x1cd8('0x15a'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20-\x20axis.y\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20+\x20axis.x\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.z\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,',_0x1cd8('0x15b'),_0x1cd8('0x15c'),'',_0x1cd8('0x15d'),'\x20\x20\x20\x20\x20\x20if(\x20rotation.y\x20==\x200.0\x20)\x20{',_0x1cd8('0x15e'),_0x1cd8('0x15f'),'',_0x1cd8('0x160'),_0x1cd8('0x161'),'\x20\x20\x20\x20\x20\x20vec3\x20translated;',_0x1cd8('0x162'),_0x1cd8('0x163'),_0x1cd8('0x164'),_0x1cd8('0x165'),_0x1cd8('0x166'),_0x1cd8('0x167'),'\x20\x20\x20\x20\x20\x20return\x20center\x20-\x20vec3(\x20rotationMatrix\x20*\x20vec4(\x20translated,\x200.0\x20)\x20);',_0x1cd8('0x15c'),_0x1cd8('0x127')]['join']('\x0a'),'rotateTexture':['\x20\x20\x20\x20vec2\x20vUv\x20=\x20vec2(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y\x20);','',_0x1cd8('0x168'),_0x1cd8('0x169'),_0x1cd8('0x16a'),_0x1cd8('0x16b'),_0x1cd8('0x16c'),_0x1cd8('0x16d'),_0x1cd8('0x16e'),'','\x20\x20\x20\x20#ifdef\x20SHOULD_CALCULATE_SPRITE',_0x1cd8('0x16f'),_0x1cd8('0x170'),_0x1cd8('0x171'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20vSpriteSheet.w;',_0x1cd8('0x172'),_0x1cd8('0x173'),_0x1cd8('0x16e'),'',_0x1cd8('0x174')][_0x1cd8('0x117')]('\x0a')},_0x1efc09['shaders']={'vertex':[_0x1efc09['shaderChunks'][_0x1cd8('0x175')],_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x176')],_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x177')],_0x1efc09[_0x1cd8('0x115')]['varyings'],THREE[_0x1cd8('0x178')][_0x1cd8('0x179')],THREE[_0x1cd8('0x178')][_0x1cd8('0x17a')],THREE[_0x1cd8('0x178')][_0x1cd8('0x17b')],_0x1efc09[_0x1cd8('0x115')]['branchAvoidanceFunctions'],_0x1efc09['shaderChunks'][_0x1cd8('0x17c')],_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x17d')],_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x17e')],_0x1efc09[_0x1cd8('0x115')]['colorOverLifetime'],_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x17f')],_0x1efc09['shaderChunks']['forceFetchingFunctions'],_0x1efc09[_0x1cd8('0x115')]['rotationFunctions'],'void\x20main()\x20{','\x20\x20\x20\x20highp\x20float\x20age\x20=\x20getAge();','\x20\x20\x20\x20highp\x20float\x20alive\x20=\x20getAlive();','\x20\x20\x20\x20highp\x20float\x20maxAge\x20=\x20getMaxAge();',_0x1cd8('0x180'),_0x1cd8('0x181'),_0x1cd8('0x182'),_0x1cd8('0x183'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleSin\x20=\x20isAlive\x20*\x20sin(\x20wiggleAmount\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleCos\x20=\x20isAlive\x20*\x20cos(\x20wiggleAmount\x20);','\x20\x20\x20\x20#endif',_0x1cd8('0x184'),_0x1cd8('0x185'),_0x1cd8('0x186'),_0x1cd8('0x187'),_0x1cd8('0x188'),_0x1cd8('0x189'),_0x1cd8('0x18a'),_0x1cd8('0x18b'),_0x1cd8('0x18c'),'\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20pos.x\x20+=\x20wiggleSin;','\x20\x20\x20\x20\x20\x20\x20\x20pos.y\x20+=\x20wiggleCos;',_0x1cd8('0x18d'),_0x1cd8('0x16e'),_0x1cd8('0x18e'),_0x1cd8('0x18f'),'\x20\x20\x20\x20#endif',_0x1cd8('0x190'),'\x20\x20\x20\x20highp\x20float\x20pointSize\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20size\x20)\x20*\x20isAlive;','\x20\x20\x20\x20#ifdef\x20HAS_PERSPECTIVE',_0x1cd8('0x191'),_0x1cd8('0x192'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x201.0;','\x20\x20\x20\x20#endif','\x20\x20\x20\x20float\x20pointSizePerspective\x20=\x20pointSize\x20*\x20perspective;',_0x1cd8('0x193'),_0x1cd8('0x194'),_0x1cd8('0x195'),_0x1cd8('0x196'),_0x1cd8('0x197'),_0x1cd8('0x198'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.w\x20)','\x20\x20\x20\x20\x20\x20\x20);',_0x1cd8('0x192'),_0x1cd8('0x199'),_0x1cd8('0x16e'),'\x20\x20\x20\x20float\x20o\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20opacity\x20);',_0x1cd8('0x19a'),_0x1cd8('0x168'),'\x20\x20\x20\x20\x20\x20\x20\x20vAngle\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20angle\x20);',_0x1cd8('0x16e'),_0x1cd8('0x19b'),_0x1cd8('0x19c'),_0x1cd8('0x19d'),_0x1cd8('0x19e'),_0x1cd8('0x19f'),_0x1cd8('0x1a0'),_0x1cd8('0x1a1'),_0x1cd8('0x1a2'),_0x1cd8('0x1a3'),_0x1cd8('0x1a4'),_0x1cd8('0x1a5'),_0x1cd8('0x1a6'),'\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.z\x20=\x20columnNorm;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.w\x20=\x20rowNorm;','\x20\x20\x20\x20#endif','\x20\x20\x20\x20gl_PointSize\x20=\x20pointSizePerspective;','\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;',THREE[_0x1cd8('0x178')]['logdepthbuf_vertex'],THREE['ShaderChunk'][_0x1cd8('0x1a7')],'}'][_0x1cd8('0x117')]('\x0a'),'fragment':[_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x176')],THREE[_0x1cd8('0x178')][_0x1cd8('0x179')],THREE['ShaderChunk'][_0x1cd8('0x1a8')],THREE[_0x1cd8('0x178')]['logdepthbuf_pars_fragment'],_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x1a9')],_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x1aa')],_0x1cd8('0x1ab'),_0x1cd8('0x1ac'),_0x1cd8('0x1ad'),_0x1cd8('0x1ae'),_0x1cd8('0x1af'),_0x1cd8('0x16e'),_0x1efc09[_0x1cd8('0x115')][_0x1cd8('0x1b0')],THREE[_0x1cd8('0x178')][_0x1cd8('0x1b1')],'\x20\x20\x20\x20outgoingLight\x20=\x20vColor.xyz\x20*\x20rotatedTexture.xyz;',_0x1cd8('0x1b2'),THREE[_0x1cd8('0x178')][_0x1cd8('0x1b3')],'}'][_0x1cd8('0x117')]('\x0a')},_0x1efc09['utils']={'types':{'BOOLEAN':_0x1cd8('0x1b4'),'STRING':_0x1cd8('0x8'),'NUMBER':'number','OBJECT':_0x1cd8('0x1c')},'ensureTypedArg':function(_0x3a9e3a,_0x245e68,_0x2c1621){return(void 0x0===_0x3a9e3a?_0x1cd8('0x2'):(0x0,_0x5d4949[_0x1cd8('0xa')])(_0x3a9e3a))===_0x245e68?_0x3a9e3a:_0x2c1621;},'ensureArrayTypedArg':function(_0x3a9e3a,_0x245e68,_0x2c1621){if(Array['isArray'](_0x3a9e3a)){for(var _0x5c67ce=_0x3a9e3a[_0x1cd8('0xc')]-0x1;0x0<=_0x5c67ce;--_0x5c67ce)if((0x0,_0x5d4949['default'])(_0x3a9e3a[_0x5c67ce])!==_0x245e68)return _0x2c1621;return _0x3a9e3a;}return this[_0x1cd8('0x1b5')](_0x3a9e3a,_0x245e68,_0x2c1621);},'ensureInstanceOf':function(_0x3a9e3a,_0x245e68,_0x2c1621){return void 0x0!==_0x245e68&&_0x3a9e3a instanceof _0x245e68?_0x3a9e3a:_0x2c1621;},'ensureArrayInstanceOf':function(_0x3a9e3a,_0x245e68,_0x2c1621){if(Array[_0x1cd8('0x1b6')](_0x3a9e3a)){for(var _0x5c67ce=_0x3a9e3a['length']-0x1;0x0<=_0x5c67ce;--_0x5c67ce)if(void 0x0!==_0x245e68&&_0x3a9e3a[_0x5c67ce]instanceof _0x245e68==0x0)return _0x2c1621;return _0x3a9e3a;}return this['ensureInstanceOf'](_0x3a9e3a,_0x245e68,_0x2c1621);},'ensureValueOverLifetimeCompliance':function(_0x3a9e3a,_0x245e68,_0x2c1621){_0x245e68=_0x245e68||0x3,_0x2c1621=_0x2c1621||0x3,!0x1===Array[_0x1cd8('0x1b6')](_0x3a9e3a[_0x1cd8('0x1b7')])&&(_0x3a9e3a[_0x1cd8('0x1b7')]=[_0x3a9e3a[_0x1cd8('0x1b7')]]),!0x1===Array[_0x1cd8('0x1b6')](_0x3a9e3a['_spread'])&&(_0x3a9e3a[_0x1cd8('0x1b8')]=[_0x3a9e3a[_0x1cd8('0x1b8')]]);var _0x5c67ce=this[_0x1cd8('0x1b9')](_0x3a9e3a[_0x1cd8('0x1b7')][_0x1cd8('0xc')],_0x245e68,_0x2c1621),_0x245e68=this[_0x1cd8('0x1b9')](_0x3a9e3a[_0x1cd8('0x1b8')][_0x1cd8('0xc')],_0x245e68,_0x2c1621),_0x2c1621=Math['max'](_0x5c67ce,_0x245e68);_0x3a9e3a[_0x1cd8('0x1b7')][_0x1cd8('0xc')]!==_0x2c1621&&(_0x3a9e3a['_value']=this[_0x1cd8('0x1ba')](_0x3a9e3a[_0x1cd8('0x1b7')],_0x2c1621)),_0x3a9e3a['_spread'][_0x1cd8('0xc')]!==_0x2c1621&&(_0x3a9e3a['_spread']=this[_0x1cd8('0x1ba')](_0x3a9e3a[_0x1cd8('0x1b8')],_0x2c1621));},'interpolateArray':function(_0x3a9e3a,_0x245e68){for(var _0x2c1621=_0x3a9e3a[_0x1cd8('0xc')],_0x5c67ce=[_0x1cd8('0x12')==typeof _0x3a9e3a[0x0][_0x1cd8('0x1bb')]?_0x3a9e3a[0x0][_0x1cd8('0x1bb')]():_0x3a9e3a[0x0]],_0x24d8c7=(_0x2c1621-0x1)/(_0x245e68-0x1),_0x45d4cb=0x1;_0x45d4cb<_0x245e68-0x1;++_0x45d4cb){var _0x5d4949=_0x45d4cb*_0x24d8c7,_0x40dd23=Math['floor'](_0x5d4949),_0x5cb14f=Math[_0x1cd8('0x1bc')](_0x5d4949);_0x5c67ce[_0x45d4cb]=this[_0x1cd8('0x1bd')](_0x3a9e3a[_0x40dd23],_0x3a9e3a[_0x5cb14f],_0x5d4949-_0x40dd23);}return _0x5c67ce[_0x1cd8('0x70')](_0x1cd8('0x12')==typeof _0x3a9e3a[_0x2c1621-0x1][_0x1cd8('0x1bb')]?_0x3a9e3a[_0x2c1621-0x1][_0x1cd8('0x1bb')]():_0x3a9e3a[_0x2c1621-0x1]),_0x5c67ce;},'clamp':function(_0x3a9e3a,_0x245e68,_0x2c1621){return Math[_0x1cd8('0xe4')](_0x245e68,Math['min'](_0x3a9e3a,_0x2c1621));},'zeroToEpsilon':function(_0x3a9e3a,_0x245e68){var _0x2c1621=_0x3a9e3a,_0x2c1621=_0x245e68?0.00001*Math[_0x1cd8('0x20')]()*0xa:0.00001;return _0x3a9e3a<0x0&&-0.00001<_0x3a9e3a?-_0x2c1621:_0x2c1621;},'lerpTypeAgnostic':function(_0x3a9e3a,_0x245e68,_0x2c1621){var _0x5c67ce,_0x24d8c7=this[_0x1cd8('0x1be')];return(void 0x0===_0x3a9e3a?_0x1cd8('0x2'):(0x0,_0x5d4949[_0x1cd8('0xa')])(_0x3a9e3a))===_0x24d8c7[_0x1cd8('0x1bf')]&&(void 0x0===_0x245e68?'undefined':(0x0,_0x5d4949[_0x1cd8('0xa')])(_0x245e68))===_0x24d8c7[_0x1cd8('0x1bf')]?_0x3a9e3a+(_0x245e68-_0x3a9e3a)*_0x2c1621:_0x3a9e3a instanceof THREE[_0x1cd8('0x1c0')]&&_0x245e68 instanceof THREE[_0x1cd8('0x1c0')]?((_0x5c67ce=_0x3a9e3a[_0x1cd8('0x1bb')]())['x']=this[_0x1cd8('0x1c1')](_0x3a9e3a['x'],_0x245e68['x'],_0x2c1621),_0x5c67ce['y']=this[_0x1cd8('0x1c1')](_0x3a9e3a['y'],_0x245e68['y'],_0x2c1621),_0x5c67ce):_0x3a9e3a instanceof THREE['Vector3']&&_0x245e68 instanceof THREE[_0x1cd8('0x57')]?((_0x5c67ce=_0x3a9e3a['clone']())['x']=this[_0x1cd8('0x1c1')](_0x3a9e3a['x'],_0x245e68['x'],_0x2c1621),_0x5c67ce['y']=this['lerp'](_0x3a9e3a['y'],_0x245e68['y'],_0x2c1621),_0x5c67ce['z']=this['lerp'](_0x3a9e3a['z'],_0x245e68['z'],_0x2c1621),_0x5c67ce):_0x3a9e3a instanceof THREE[_0x1cd8('0x1c2')]&&_0x245e68 instanceof THREE['Vector4']?((_0x5c67ce=_0x3a9e3a[_0x1cd8('0x1bb')]())['x']=this['lerp'](_0x3a9e3a['x'],_0x245e68['x'],_0x2c1621),_0x5c67ce['y']=this['lerp'](_0x3a9e3a['y'],_0x245e68['y'],_0x2c1621),_0x5c67ce['z']=this[_0x1cd8('0x1c1')](_0x3a9e3a['z'],_0x245e68['z'],_0x2c1621),_0x5c67ce['w']=this[_0x1cd8('0x1c1')](_0x3a9e3a['w'],_0x245e68['w'],_0x2c1621),_0x5c67ce):_0x3a9e3a instanceof THREE[_0x1cd8('0x1c3')]&&_0x245e68 instanceof THREE[_0x1cd8('0x1c3')]?((_0x5c67ce=_0x3a9e3a[_0x1cd8('0x1bb')]())['r']=this[_0x1cd8('0x1c1')](_0x3a9e3a['r'],_0x245e68['r'],_0x2c1621),_0x5c67ce['g']=this[_0x1cd8('0x1c1')](_0x3a9e3a['g'],_0x245e68['g'],_0x2c1621),_0x5c67ce['b']=this['lerp'](_0x3a9e3a['b'],_0x245e68['b'],_0x2c1621),_0x5c67ce):void 0x0;},'lerp':function(_0x3a9e3a,_0x245e68,_0x2c1621){return _0x3a9e3a+(_0x245e68-_0x3a9e3a)*_0x2c1621;},'roundToNearestMultiple':function(_0x3a9e3a,_0x245e68){var _0x2c1621;return 0x0===_0x245e68||0x0==(_0x2c1621=Math[_0x1cd8('0x1c4')](_0x3a9e3a)%_0x245e68)?_0x3a9e3a:_0x3a9e3a<0x0?-(Math['abs'](_0x3a9e3a)-_0x2c1621):_0x3a9e3a+_0x245e68-_0x2c1621;},'arrayValuesAreEqual':function(_0x3a9e3a){for(var _0x245e68=0x0;_0x245e68<_0x3a9e3a[_0x1cd8('0xc')]-0x1;++_0x245e68)if(_0x3a9e3a[_0x245e68]!==_0x3a9e3a[_0x245e68+0x1])return!0x1;return!0x0;},'randomFloat':function(_0x3a9e3a,_0x245e68){return _0x3a9e3a+_0x245e68*(Math[_0x1cd8('0x20')]()-0.5);},'randomVector3':function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce,_0x24d8c7){var _0x45d4cb=_0x2c1621['x']+(Math[_0x1cd8('0x20')]()*_0x5c67ce['x']-0.5*_0x5c67ce['x']),_0x5d4949=_0x2c1621['y']+(Math['random']()*_0x5c67ce['y']-0.5*_0x5c67ce['y']),_0x2c1621=_0x2c1621['z']+(Math[_0x1cd8('0x20')]()*_0x5c67ce['z']-0.5*_0x5c67ce['z']);_0x24d8c7&&(_0x45d4cb=0.5*-_0x24d8c7['x']+this[_0x1cd8('0x1c5')](_0x45d4cb,_0x24d8c7['x']),_0x5d4949=0.5*-_0x24d8c7['y']+this['roundToNearestMultiple'](_0x5d4949,_0x24d8c7['y']),_0x2c1621=0.5*-_0x24d8c7['z']+this['roundToNearestMultiple'](_0x2c1621,_0x24d8c7['z'])),_0x3a9e3a[_0x1cd8('0x103')][_0x1cd8('0xf8')](_0x245e68,_0x45d4cb,_0x5d4949,_0x2c1621);},'randomColor':function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce){var _0x24d8c7=_0x2c1621['r']+Math[_0x1cd8('0x20')]()*_0x5c67ce['x'],_0x45d4cb=_0x2c1621['g']+Math[_0x1cd8('0x20')]()*_0x5c67ce['y'],_0x2c1621=_0x2c1621['b']+Math[_0x1cd8('0x20')]()*_0x5c67ce['z'],_0x24d8c7=this[_0x1cd8('0x1b9')](_0x24d8c7,0x0,0x1),_0x45d4cb=this[_0x1cd8('0x1b9')](_0x45d4cb,0x0,0x1),_0x2c1621=this[_0x1cd8('0x1b9')](_0x2c1621,0x0,0x1);_0x3a9e3a[_0x1cd8('0x103')][_0x1cd8('0xf8')](_0x245e68,_0x24d8c7,_0x45d4cb,_0x2c1621);},'randomColorAsHex':(_0x282bfe=new THREE[(_0x1cd8('0x1c3'))](),function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce){for(var _0x24d8c7=_0x2c1621['length'],_0x45d4cb=[],_0x5d4949=0x0;_0x5d4949<_0x24d8c7;++_0x5d4949){var _0x40dd23=_0x5c67ce[_0x5d4949];_0x282bfe[_0x1cd8('0x1c6')](_0x2c1621[_0x5d4949]),_0x282bfe['r']+=Math[_0x1cd8('0x20')]()*_0x40dd23['x']-0.5*_0x40dd23['x'],_0x282bfe['g']+=Math['random']()*_0x40dd23['y']-0.5*_0x40dd23['y'],_0x282bfe['b']+=Math[_0x1cd8('0x20')]()*_0x40dd23['z']-0.5*_0x40dd23['z'],_0x282bfe['r']=this['clamp'](_0x282bfe['r'],0x0,0x1),_0x282bfe['g']=this[_0x1cd8('0x1b9')](_0x282bfe['g'],0x0,0x1),_0x282bfe['b']=this[_0x1cd8('0x1b9')](_0x282bfe['b'],0x0,0x1),_0x45d4cb['push'](_0x282bfe[_0x1cd8('0x1c7')]());}_0x3a9e3a[_0x1cd8('0x103')][_0x1cd8('0xf9')](_0x245e68,_0x45d4cb[0x0],_0x45d4cb[0x1],_0x45d4cb[0x2],_0x45d4cb[0x3]);}),'randomVector3OnSphere':function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce,_0x24d8c7,_0x45d4cb,_0x5d4949,_0x40dd23){var _0x5cb14f=0x2*Math[_0x1cd8('0x20')]()-0x1,_0x340bf6=6.2832*Math[_0x1cd8('0x20')](),_0x3da310=Math[_0x1cd8('0x1c8')](0x1-_0x5cb14f*_0x5cb14f),_0x5c67ce=this[_0x1cd8('0x1c9')](_0x5c67ce,_0x24d8c7);_0x5d4949&&(_0x5c67ce=Math[_0x1cd8('0x1ca')](_0x5c67ce/_0x5d4949)*_0x5d4949),_0x24d8c7=_0x3da310*Math[_0x1cd8('0x59')](_0x340bf6)*_0x5c67ce,_0x5d4949=_0x3da310*Math['sin'](_0x340bf6)*_0x5c67ce,_0x3da310=_0x5cb14f*_0x5c67ce,_0x24d8c7*=_0x45d4cb['x'],_0x5d4949*=_0x45d4cb['y'],_0x3da310*=_0x45d4cb['z'],_0x24d8c7+=_0x2c1621['x'],_0x5d4949+=_0x2c1621['y'],_0x3da310+=_0x2c1621['z'],_0x3a9e3a['typedArray'][_0x1cd8('0xf8')](_0x245e68,_0x24d8c7,_0x5d4949,_0x3da310);},'seededRandom':function(_0x3a9e3a){_0x3a9e3a=0x2710*Math[_0x1cd8('0x58')](_0x3a9e3a);return _0x3a9e3a-(0x0|_0x3a9e3a);},'randomVector3OnDisc':function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce,_0x24d8c7,_0x45d4cb,_0x5d4949){var _0x40dd23=6.2832*Math[_0x1cd8('0x20')](),_0x5c67ce=Math['abs'](this[_0x1cd8('0x1c9')](_0x5c67ce,_0x24d8c7)),_0x24d8c7=0x0;_0x5d4949&&(_0x5c67ce=Math[_0x1cd8('0x1ca')](_0x5c67ce/_0x5d4949)*_0x5d4949),_0x5d4949=Math[_0x1cd8('0x59')](_0x40dd23)*_0x5c67ce,_0x40dd23=Math[_0x1cd8('0x58')](_0x40dd23)*_0x5c67ce,_0x5d4949*=_0x45d4cb['x'],_0x40dd23*=_0x45d4cb['y'],_0x5d4949+=_0x2c1621['x'],_0x40dd23+=_0x2c1621['y'],_0x24d8c7+=_0x2c1621['z'],_0x3a9e3a['typedArray'][_0x1cd8('0xf8')](_0x245e68,_0x5d4949,_0x40dd23,_0x24d8c7);},'randomDirectionVector3OnSphere':(_0x23fa5d=new THREE[(_0x1cd8('0x57'))](),function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce,_0x24d8c7,_0x45d4cb,_0x5d4949,_0x40dd23){_0x23fa5d[_0x1cd8('0x1c6')](_0x45d4cb),_0x23fa5d['x']-=_0x2c1621,_0x23fa5d['y']-=_0x5c67ce,_0x23fa5d['z']-=_0x24d8c7,_0x23fa5d[_0x1cd8('0x1cb')]()['multiplyScalar'](-this['randomFloat'](_0x5d4949,_0x40dd23)),_0x3a9e3a['typedArray'][_0x1cd8('0xf8')](_0x245e68,_0x23fa5d['x'],_0x23fa5d['y'],_0x23fa5d['z']);}),'randomDirectionVector3OnDisc':(_0x53deb5=new THREE[(_0x1cd8('0x57'))](),function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce,_0x24d8c7,_0x45d4cb,_0x5d4949,_0x40dd23){_0x53deb5['copy'](_0x45d4cb),_0x53deb5['x']-=_0x2c1621,_0x53deb5['y']-=_0x5c67ce,_0x53deb5['z']-=_0x24d8c7,_0x53deb5[_0x1cd8('0x1cb')]()[_0x1cd8('0x1cc')](-this['randomFloat'](_0x5d4949,_0x40dd23)),_0x3a9e3a[_0x1cd8('0x103')][_0x1cd8('0xf8')](_0x245e68,_0x53deb5['x'],_0x53deb5['y'],0x0);}),'getPackedRotationAxis':(_0x5cb14f=new THREE[(_0x1cd8('0x57'))](),_0x340bf6=new THREE[(_0x1cd8('0x57'))](),_0x3da310=new THREE[(_0x1cd8('0x1c3'))](),_0x44b912=new THREE['Vector3'](0x1,0x1,0x1),function(_0x3a9e3a,_0x245e68){return _0x5cb14f[_0x1cd8('0x1c6')](_0x3a9e3a)[_0x1cd8('0x1cb')](),_0x340bf6[_0x1cd8('0x1c6')](_0x245e68)[_0x1cd8('0x1cb')](),_0x5cb14f['x']+=0.5*-_0x245e68['x']+Math[_0x1cd8('0x20')]()*_0x245e68['x'],_0x5cb14f['y']+=0.5*-_0x245e68['y']+Math['random']()*_0x245e68['y'],_0x5cb14f['z']+=0.5*-_0x245e68['z']+Math['random']()*_0x245e68['z'],_0x5cb14f[_0x1cd8('0x1cb')]()[_0x1cd8('0x1cd')](_0x44b912)[_0x1cd8('0x1cc')](0.5),_0x3da310[_0x1cd8('0x1ce')](_0x5cb14f['x'],_0x5cb14f['y'],_0x5cb14f['z']),_0x3da310['getHex']();})},_0x1efc09[_0x1cd8('0x1cf')]=function(_0x3a9e3a){var _0x245e68=_0x1efc09[_0x1cd8('0x1d0')],_0x2c1621=_0x245e68[_0x1cd8('0x1be')];(_0x3a9e3a=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a,_0x2c1621[_0x1cd8('0x1d1')],{}))[_0x1cd8('0x9f')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x9f')],_0x2c1621[_0x1cd8('0x1d1')],{}),this[_0x1cd8('0x1d2')]=THREE['Math'][_0x1cd8('0x1d3')](),this[_0x1cd8('0x1d4')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1d4')],_0x2c1621[_0x1cd8('0x1bf')],0.016),this[_0x1cd8('0x9f')]=_0x245e68[_0x1cd8('0x1d5')](_0x3a9e3a['texture'][_0x1cd8('0xf')],THREE['Texture'],null),this[_0x1cd8('0x1d6')]=_0x245e68[_0x1cd8('0x1d5')](_0x3a9e3a[_0x1cd8('0x9f')][_0x1cd8('0x1d7')],THREE[_0x1cd8('0x1c0')],new THREE['Vector2'](0x1,0x1)),this[_0x1cd8('0x1d8')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x9f')]['frameCount'],_0x2c1621[_0x1cd8('0x1bf')],this[_0x1cd8('0x1d6')]['x']*this[_0x1cd8('0x1d6')]['y']),this[_0x1cd8('0x1d9')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x9f')][_0x1cd8('0x1da')],_0x2c1621[_0x1cd8('0x1bf')],0x1),this[_0x1cd8('0x1d6')][_0x1cd8('0xe4')](new THREE[(_0x1cd8('0x1c0'))](0x1,0x1)),this[_0x1cd8('0x1db')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1db')],_0x2c1621[_0x1cd8('0x1dc')],!0x0),this[_0x1cd8('0x1dd')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a['colorize'],_0x2c1621[_0x1cd8('0x1dc')],!0x0),this[_0x1cd8('0x1de')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1de')],_0x2c1621[_0x1cd8('0x1bf')],null),this[_0x1cd8('0x1df')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a['blending'],_0x2c1621[_0x1cd8('0x1bf')],THREE[_0x1cd8('0x1e0')]),this[_0x1cd8('0x1e1')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1e1')],_0x2c1621[_0x1cd8('0x1dc')],!0x0),this['alphaTest']=parseFloat(_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a['alphaTest'],_0x2c1621[_0x1cd8('0x1bf')],0x0)),this[_0x1cd8('0x1e2')]=_0x245e68['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x1e2')],_0x2c1621[_0x1cd8('0x1dc')],!0x1),this[_0x1cd8('0x1e3')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a['depthTest'],_0x2c1621['BOOLEAN'],!0x0),this[_0x1cd8('0x1e4')]=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a['fog'],_0x2c1621[_0x1cd8('0x1dc')],!0x0),this['scale']=_0x245e68[_0x1cd8('0x1b5')](_0x3a9e3a['scale'],_0x2c1621[_0x1cd8('0x1bf')],0x12c),this[_0x1cd8('0x1e5')]=[],this[_0x1cd8('0x1e6')]=[],this[_0x1cd8('0x1e7')]=[],this[_0x1cd8('0x1e8')]=null,this[_0x1cd8('0x1e9')]=0x0,this[_0x1cd8('0x1ea')]=!0x1,this[_0x1cd8('0x1eb')]=!0x1,this[_0x1cd8('0x1ec')]=0x0,this[_0x1cd8('0x176')]={'texture1':{'type':'t','value':this[_0x1cd8('0x9f')]},'textureAnimation':{'type':'v4','value':new THREE['Vector4'](this[_0x1cd8('0x1d6')]['x'],this['textureFrames']['y'],this[_0x1cd8('0x1d8')],Math[_0x1cd8('0xe4')](Math[_0x1cd8('0x1c4')](this[_0x1cd8('0x1d9')]),0x1))},'fogColor':{'type':'c','value':null},'fogNear':{'type':'f','value':0xa},'fogFar':{'type':'f','value':0xc8},'fogDensity':{'type':'f','value':0.5},'deltaTime':{'type':'f','value':0x0},'runTime':{'type':'f','value':0x0},'scale':{'type':'f','value':this['scale']}},this[_0x1cd8('0x175')]={'HAS_PERSPECTIVE':this[_0x1cd8('0x1db')],'COLORIZE':this[_0x1cd8('0x1dd')],'VALUE_OVER_LIFETIME_LENGTH':_0x1efc09[_0x1cd8('0x1ed')],'SHOULD_ROTATE_TEXTURE':!0x1,'SHOULD_ROTATE_PARTICLES':!0x1,'SHOULD_WIGGLE_PARTICLES':!0x1,'SHOULD_CALCULATE_SPRITE':0x1<this[_0x1cd8('0x1d6')]['x']||0x1<this[_0x1cd8('0x1d6')]['y']},this[_0x1cd8('0x177')]={'position':new _0x1efc09[(_0x1cd8('0x100'))]('v3',!0x0),'acceleration':new _0x1efc09[(_0x1cd8('0x100'))]('v4',!0x0),'velocity':new _0x1efc09[(_0x1cd8('0x100'))]('v3',!0x0),'rotation':new _0x1efc09[(_0x1cd8('0x100'))]('v4',!0x0),'rotationCenter':new _0x1efc09[(_0x1cd8('0x100'))]('v3',!0x0),'params':new _0x1efc09[(_0x1cd8('0x100'))]('v4',!0x0),'size':new _0x1efc09[(_0x1cd8('0x100'))]('v4',!0x0),'angle':new _0x1efc09['ShaderAttribute']('v4',!0x0),'color':new _0x1efc09['ShaderAttribute']('v4',!0x0),'opacity':new _0x1efc09['ShaderAttribute']('v4',!0x0)},this[_0x1cd8('0x1ee')]=(0x0,_0x45d4cb[_0x1cd8('0xa')])(this[_0x1cd8('0x177')]),this[_0x1cd8('0x1ef')]=this[_0x1cd8('0x1ee')][_0x1cd8('0xc')],this['material']=new THREE[(_0x1cd8('0x1f0'))]({'uniforms':this[_0x1cd8('0x176')],'vertexShader':_0x1efc09['shaders']['vertex'],'fragmentShader':_0x1efc09['shaders'][_0x1cd8('0x1f1')],'blending':this[_0x1cd8('0x1df')],'transparent':this[_0x1cd8('0x1e1')],'alphaTest':this[_0x1cd8('0x1f2')],'depthWrite':this[_0x1cd8('0x1e2')],'depthTest':this[_0x1cd8('0x1e3')],'defines':this[_0x1cd8('0x175')],'fog':this[_0x1cd8('0x1e4')]}),this[_0x1cd8('0xe0')]=new THREE['BufferGeometry'](),this['mesh']=new THREE[(_0x1cd8('0xc7'))](this[_0x1cd8('0xe0')],this[_0x1cd8('0x47')]),this[_0x1cd8('0x1de')];},_0x1efc09[_0x1cd8('0x1cf')][_0x1cd8('0x88')]=_0x1efc09[_0x1cd8('0x1cf')],_0x1efc09['Group'][_0x1cd8('0x11')]['_updateDefines']=function(){for(var _0x3a9e3a,_0x245e68=this[_0x1cd8('0x1e5')],_0x2c1621=_0x245e68[_0x1cd8('0xc')]-0x1,_0x5c67ce=this[_0x1cd8('0x175')];0x0<=_0x2c1621;--_0x2c1621)_0x3a9e3a=_0x245e68[_0x2c1621],_0x5c67ce[_0x1cd8('0x1f3')]||(_0x5c67ce[_0x1cd8('0x1f4')]=_0x5c67ce[_0x1cd8('0x1f4')]||!!Math[_0x1cd8('0xe4')](Math[_0x1cd8('0xe4')][_0x1cd8('0x13')](null,_0x3a9e3a['angle'][_0x1cd8('0xf')]),Math[_0x1cd8('0xe4')][_0x1cd8('0x13')](null,_0x3a9e3a['angle'][_0x1cd8('0x1f5')]))),_0x5c67ce[_0x1cd8('0x1f6')]=_0x5c67ce['SHOULD_ROTATE_PARTICLES']||!!Math['max'](_0x3a9e3a[_0x1cd8('0x1f7')]['angle'],_0x3a9e3a['rotation'][_0x1cd8('0x1f8')]),_0x5c67ce['SHOULD_WIGGLE_PARTICLES']=_0x5c67ce['SHOULD_WIGGLE_PARTICLES']||!!Math[_0x1cd8('0xe4')](_0x3a9e3a[_0x1cd8('0x1f9')]['value'],_0x3a9e3a[_0x1cd8('0x1f9')][_0x1cd8('0x1f5')]);this['material'][_0x1cd8('0x10b')]=!0x0;},_0x1efc09[_0x1cd8('0x1cf')][_0x1cd8('0x11')][_0x1cd8('0x1fa')]=function(){var _0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce=this[_0x1cd8('0x177')],_0x24d8c7=this[_0x1cd8('0xe0')],_0x45d4cb=_0x24d8c7[_0x1cd8('0x177')];for(_0x2c1621 in _0x5c67ce)_0x5c67ce['hasOwnProperty'](_0x2c1621)&&(_0x3a9e3a=_0x5c67ce[_0x2c1621],(_0x245e68=_0x45d4cb[_0x2c1621])?_0x245e68[_0x1cd8('0xed')]=_0x3a9e3a[_0x1cd8('0x103')][_0x1cd8('0xed')]:_0x24d8c7[_0x1cd8('0x1fb')](_0x2c1621,_0x3a9e3a['bufferAttribute']),_0x3a9e3a[_0x1cd8('0x108')][_0x1cd8('0x10b')]=!0x0);this['geometry'][_0x1cd8('0x1fc')](0x0,this[_0x1cd8('0x1ec')]);},_0x1efc09[_0x1cd8('0x1cf')]['prototype'][_0x1cd8('0x1fd')]=function(_0x3a9e3a){if(_0x3a9e3a instanceof _0x1efc09['Emitter']==0x0)console[_0x1cd8('0x1fe')](_0x1cd8('0x1ff'),_0x3a9e3a);else if(-0x1<this['emitterIDs'][_0x1cd8('0x50')](_0x3a9e3a[_0x1cd8('0x1d2')]))console[_0x1cd8('0x1fe')](_0x1cd8('0x200'));else{if(null===_0x3a9e3a[_0x1cd8('0x201')]){var _0x245e68,_0x2c1621=this[_0x1cd8('0x177')],_0x5c67ce=this['particleCount'],_0x24d8c7=_0x5c67ce+_0x3a9e3a[_0x1cd8('0x1ec')];for(_0x245e68 in this['particleCount']=_0x24d8c7,null!==this[_0x1cd8('0x1de')]&&this[_0x1cd8('0x1ec')]>this[_0x1cd8('0x1de')]&&(this['particleCount'],this[_0x1cd8('0x1de')]),_0x3a9e3a[_0x1cd8('0x202')](_0x3a9e3a[_0x1cd8('0x203')][_0x1cd8('0x1b7')]+_0x3a9e3a[_0x1cd8('0x203')][_0x1cd8('0x1b8')]),_0x3a9e3a[_0x1cd8('0x204')](this[_0x1cd8('0x1ee')]),_0x3a9e3a[_0x1cd8('0x205')](_0x5c67ce),_0x3a9e3a[_0x1cd8('0x201')]=this,_0x3a9e3a[_0x1cd8('0x177')]=this['attributes'],_0x2c1621)_0x2c1621[_0x1cd8('0x1e')](_0x245e68)&&_0x2c1621[_0x245e68][_0x1cd8('0x112')](null!==this['maxParticleCount']?this[_0x1cd8('0x1de')]:this[_0x1cd8('0x1ec')]);for(var _0x45d4cb=_0x5c67ce;_0x45d4cb<_0x24d8c7;++_0x45d4cb)_0x3a9e3a[_0x1cd8('0x206')](_0x45d4cb),_0x3a9e3a['_assignForceValue'](_0x45d4cb,_0x1cd8('0x207')),_0x3a9e3a[_0x1cd8('0x208')](_0x45d4cb,_0x1cd8('0x209')),_0x3a9e3a['_assignAbsLifetimeValue'](_0x45d4cb,_0x1cd8('0x20a')),_0x3a9e3a['_assignAbsLifetimeValue'](_0x45d4cb,_0x1cd8('0xeb')),_0x3a9e3a[_0x1cd8('0x20b')](_0x45d4cb),_0x3a9e3a['_assignRotationValue'](_0x45d4cb),_0x3a9e3a['_assignParamsValue'](_0x45d4cb),_0x3a9e3a['_assignColorValue'](_0x45d4cb);return this[_0x1cd8('0x1fa')](),this['emitters'][_0x1cd8('0x70')](_0x3a9e3a),this[_0x1cd8('0x1e6')][_0x1cd8('0x70')](_0x3a9e3a['uuid']),this[_0x1cd8('0x20c')](_0x3a9e3a),this[_0x1cd8('0x47')][_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0xe0')]['needsUpdate']=!0x0,this['_attributesNeedRefresh']=!0x0,this;}console[_0x1cd8('0x1fe')](_0x1cd8('0x20d'));}},_0x1efc09[_0x1cd8('0x1cf')]['prototype'][_0x1cd8('0x20e')]=function(_0x3a9e3a){var _0x245e68=this['emitterIDs'][_0x1cd8('0x50')](_0x3a9e3a[_0x1cd8('0x1d2')]);if(_0x3a9e3a instanceof _0x1efc09[_0x1cd8('0x20f')]==0x0)console[_0x1cd8('0x1fe')](_0x1cd8('0x1ff'),_0x3a9e3a);else if(-0x1===_0x245e68)console['error']('Emitter\x20does\x20not\x20exist\x20in\x20this\x20group.\x20Will\x20not\x20remove.');else{for(var _0x2c1621,_0x5c67ce=_0x3a9e3a[_0x1cd8('0x210')],_0x24d8c7=_0x5c67ce+_0x3a9e3a[_0x1cd8('0x1ec')],_0x45d4cb=this['attributes'][_0x1cd8('0x211')][_0x1cd8('0x103')],_0x5d4949=_0x5c67ce;_0x5d4949<_0x24d8c7;++_0x5d4949)_0x45d4cb[_0x1cd8('0xed')][0x4*_0x5d4949]=0x0,_0x45d4cb['array'][0x4*_0x5d4949+0x1]=0x0;for(_0x2c1621 in this[_0x1cd8('0x1e5')][_0x1cd8('0x99')](_0x245e68,0x1),this[_0x1cd8('0x1e6')][_0x1cd8('0x99')](_0x245e68,0x1),this[_0x1cd8('0x177')])this[_0x1cd8('0x177')][_0x1cd8('0x1e')](_0x2c1621)&&this['attributes'][_0x2c1621][_0x1cd8('0x99')](_0x5c67ce,_0x24d8c7);this[_0x1cd8('0x1ec')]-=_0x3a9e3a[_0x1cd8('0x1ec')],_0x3a9e3a['_onRemove'](),this[_0x1cd8('0x1ea')]=!0x0;}},_0x1efc09[_0x1cd8('0x1cf')][_0x1cd8('0x11')][_0x1cd8('0x212')]=function(){var _0x3a9e3a=this[_0x1cd8('0x1e7')],_0x245e68=this['_createNewWhenPoolEmpty'];return _0x3a9e3a[_0x1cd8('0xc')]?_0x3a9e3a[_0x1cd8('0x213')]():_0x245e68?(_0x3a9e3a=new _0x1efc09['Emitter'](this[_0x1cd8('0x1e8')]),this[_0x1cd8('0x1fd')](_0x3a9e3a),_0x3a9e3a):null;},_0x1efc09[_0x1cd8('0x1cf')][_0x1cd8('0x11')][_0x1cd8('0x214')]=function(_0x3a9e3a){if(_0x3a9e3a instanceof _0x1efc09['Emitter']!=0x0)return _0x3a9e3a[_0x1cd8('0x215')](),this[_0x1cd8('0x1e7')]['unshift'](_0x3a9e3a),this;console[_0x1cd8('0x1fe')]('Argument\x20is\x20not\x20instanceof\x20SPE.Emitter:',_0x3a9e3a);},_0x1efc09['Group'][_0x1cd8('0x11')]['getPool']=function(){return this['_pool'];},_0x1efc09[_0x1cd8('0x1cf')][_0x1cd8('0x11')]['addPool']=function(_0x3a9e3a,_0x245e68,_0x2c1621){var _0x5c67ce;this[_0x1cd8('0x1e8')]=_0x245e68,this['_createNewWhenPoolEmpty']=!!_0x2c1621;for(var _0x24d8c7=0x0;_0x24d8c7<_0x3a9e3a;++_0x24d8c7)_0x5c67ce=Array[_0x1cd8('0x1b6')](_0x245e68)?new _0x1efc09['Emitter'](_0x245e68[_0x24d8c7]):new _0x1efc09[(_0x1cd8('0x20f'))](_0x245e68),this[_0x1cd8('0x1fd')](_0x5c67ce),this[_0x1cd8('0x214')](_0x5c67ce);return this;},_0x1efc09['Group'][_0x1cd8('0x11')]['_triggerSingleEmitter']=function(_0x3a9e3a){var _0x245e68=this['getFromPool'](),_0x2c1621=this;if(null!==_0x245e68)return _0x3a9e3a instanceof THREE[_0x1cd8('0x57')]&&(_0x245e68[_0x1cd8('0x3f')]['value'][_0x1cd8('0x1c6')](_0x3a9e3a),_0x245e68['position']['value']=_0x245e68[_0x1cd8('0x3f')]['value']),_0x245e68[_0x1cd8('0x216')](),setTimeout(function(){_0x245e68['disable'](),_0x2c1621['releaseIntoPool'](_0x245e68);},0x3e8*Math[_0x1cd8('0xe4')](_0x245e68[_0x1cd8('0x217')],_0x245e68[_0x1cd8('0x203')][_0x1cd8('0xf')]+_0x245e68[_0x1cd8('0x203')]['spread'])),this;},_0x1efc09[_0x1cd8('0x1cf')][_0x1cd8('0x11')]['triggerPoolEmitter']=function(_0x3a9e3a,_0x245e68){if('number'==typeof _0x3a9e3a&&0x1<_0x3a9e3a)for(var _0x2c1621=0x0;_0x2c1621<_0x3a9e3a;++_0x2c1621)this[_0x1cd8('0x218')](_0x245e68);else this[_0x1cd8('0x218')](_0x245e68);return this;},_0x1efc09[_0x1cd8('0x1cf')][_0x1cd8('0x11')][_0x1cd8('0x219')]=function(_0x3a9e3a){this[_0x1cd8('0x176')][_0x1cd8('0x21a')][_0x1cd8('0xf')]+=_0x3a9e3a,this['uniforms'][_0x1cd8('0x21b')][_0x1cd8('0xf')]=_0x3a9e3a;},_0x1efc09[_0x1cd8('0x1cf')][_0x1cd8('0x11')][_0x1cd8('0x21c')]=function(){for(var _0x3a9e3a=this['attributeKeys'],_0x245e68=this['attributeCount']-0x1,_0x2c1621=this[_0x1cd8('0x177')];0x0<=_0x245e68;--_0x245e68)_0x2c1621[_0x3a9e3a[_0x245e68]][_0x1cd8('0x10c')]();},_0x1efc09['Group']['prototype']['_updateBuffers']=function(_0x3a9e3a){for(var _0x245e68,_0x2c1621,_0x5c67ce=this[_0x1cd8('0x1ee')],_0x24d8c7=this[_0x1cd8('0x1ef')]-0x1,_0x45d4cb=this['attributes'],_0x5d4949=_0x3a9e3a['bufferUpdateRanges'];0x0<=_0x24d8c7;--_0x24d8c7)_0x245e68=_0x5d4949[_0x2c1621=_0x5c67ce[_0x24d8c7]],(_0x2c1621=_0x45d4cb[_0x2c1621])[_0x1cd8('0x21d')](_0x245e68['min'],_0x245e68['max']),_0x2c1621['flagUpdate']();},_0x1efc09[_0x1cd8('0x1cf')]['prototype'][_0x1cd8('0x21e')]=function(_0x3a9e3a){var _0x245e68=this[_0x1cd8('0x1e5')],_0x2c1621=_0x245e68[_0x1cd8('0xc')],_0x5c67ce=_0x3a9e3a||this[_0x1cd8('0x1d4')],_0x24d8c7=this[_0x1cd8('0x1ee')],_0x45d4cb=this[_0x1cd8('0x177')];if(this[_0x1cd8('0x219')](_0x5c67ce),this['_resetBufferRanges'](),0x0!==_0x2c1621||!0x1!==this[_0x1cd8('0x1ea')]||!0x1!==this[_0x1cd8('0x1eb')]){for(var _0x5d4949,_0x40dd23=0x0;_0x40dd23<_0x2c1621;++_0x40dd23)(_0x5d4949=_0x245e68[_0x40dd23])[_0x1cd8('0x21e')](_0x5c67ce),this['_updateBuffers'](_0x5d4949);if(!0x0===this[_0x1cd8('0x1eb')]){for(_0x40dd23=this['attributeCount']-0x1;0x0<=_0x40dd23;--_0x40dd23)_0x45d4cb[_0x24d8c7[_0x40dd23]][_0x1cd8('0x10d')]();this[_0x1cd8('0x1eb')]=!0x1;}if(!0x0===this[_0x1cd8('0x1ea')]){for(_0x40dd23=this['attributeCount']-0x1;0x0<=_0x40dd23;--_0x40dd23)_0x45d4cb[_0x24d8c7[_0x40dd23]]['forceUpdateAll']();this[_0x1cd8('0x1ea')]=!0x1,this[_0x1cd8('0x1eb')]=!0x0;}}},_0x1efc09[_0x1cd8('0x1cf')]['prototype']['dispose']=function(){return this[_0x1cd8('0xe0')][_0x1cd8('0xde')](),this['material'][_0x1cd8('0xde')](),this;},_0x1efc09['Emitter']=function(_0x3a9e3a){var _0x245e68,_0x2c1621=_0x1efc09[_0x1cd8('0x1d0')],_0x5c67ce=_0x2c1621[_0x1cd8('0x1be')],_0x24d8c7=_0x1efc09[_0x1cd8('0x1ed')];for(_0x245e68 in(_0x3a9e3a=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a,_0x5c67ce[_0x1cd8('0x1d1')],{}))[_0x1cd8('0x3f')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x3f')],_0x5c67ce['OBJECT'],{}),_0x3a9e3a[_0x1cd8('0x207')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['velocity'],_0x5c67ce[_0x1cd8('0x1d1')],{}),_0x3a9e3a[_0x1cd8('0x209')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x209')],_0x5c67ce['OBJECT'],{}),_0x3a9e3a['radius']=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['radius'],_0x5c67ce[_0x1cd8('0x1d1')],{}),_0x3a9e3a[_0x1cd8('0x21f')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['drag'],_0x5c67ce[_0x1cd8('0x1d1')],{}),_0x3a9e3a[_0x1cd8('0x1f7')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1f7')],_0x5c67ce[_0x1cd8('0x1d1')],{}),_0x3a9e3a[_0x1cd8('0x220')]=_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x220')],_0x5c67ce['OBJECT'],{}),_0x3a9e3a['opacity']=_0x2c1621['ensureTypedArg'](_0x3a9e3a['opacity'],_0x5c67ce[_0x1cd8('0x1d1')],{}),_0x3a9e3a['size']=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['size'],_0x5c67ce[_0x1cd8('0x1d1')],{}),_0x3a9e3a[_0x1cd8('0x221')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x221')],_0x5c67ce['OBJECT'],{}),_0x3a9e3a['wiggle']=_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x1f9')],_0x5c67ce[_0x1cd8('0x1d1')],{}),_0x3a9e3a[_0x1cd8('0x203')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x203')],_0x5c67ce[_0x1cd8('0x1d1')],{}),_0x3a9e3a[_0x1cd8('0x222')],this[_0x1cd8('0x1d2')]=THREE[_0x1cd8('0x15')]['generateUUID'](),this['type']=_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x101')],_0x5c67ce[_0x1cd8('0x1bf')],_0x1efc09[_0x1cd8('0x223')]['BOX']),this[_0x1cd8('0x3f')]={'_value':_0x2c1621[_0x1cd8('0x1d5')](_0x3a9e3a['position'][_0x1cd8('0xf')],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))]()),'_spread':_0x2c1621[_0x1cd8('0x1d5')](_0x3a9e3a['position'][_0x1cd8('0x1f5')],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))]()),'_spreadClamp':_0x2c1621[_0x1cd8('0x1d5')](_0x3a9e3a['position'][_0x1cd8('0x224')],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))]()),'_distribution':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x3f')]['distribution'],_0x5c67ce[_0x1cd8('0x1bf')],this[_0x1cd8('0x101')]),'_randomise':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x3f')][_0x1cd8('0x225')],_0x5c67ce['BOOLEAN'],!0x1),'_radius':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['position'][_0x1cd8('0x226')],_0x5c67ce[_0x1cd8('0x1bf')],0xa),'_radiusScale':_0x2c1621[_0x1cd8('0x1d5')](_0x3a9e3a[_0x1cd8('0x3f')][_0x1cd8('0x227')],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1)),'_distributionClamp':_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x3f')]['distributionClamp'],_0x5c67ce[_0x1cd8('0x1bf')],0x0)},this['velocity']={'_value':_0x2c1621['ensureInstanceOf'](_0x3a9e3a['velocity'][_0x1cd8('0xf')],THREE['Vector3'],new THREE[(_0x1cd8('0x57'))]()),'_spread':_0x2c1621['ensureInstanceOf'](_0x3a9e3a['velocity'][_0x1cd8('0x1f5')],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))]()),'_distribution':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x207')][_0x1cd8('0x228')],_0x5c67ce[_0x1cd8('0x1bf')],this[_0x1cd8('0x101')]),'_randomise':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['position']['randomise'],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)},this[_0x1cd8('0x209')]={'_value':_0x2c1621[_0x1cd8('0x1d5')](_0x3a9e3a[_0x1cd8('0x209')][_0x1cd8('0xf')],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))]()),'_spread':_0x2c1621['ensureInstanceOf'](_0x3a9e3a['acceleration'][_0x1cd8('0x1f5')],THREE[_0x1cd8('0x57')],new THREE['Vector3']()),'_distribution':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x209')][_0x1cd8('0x228')],_0x5c67ce[_0x1cd8('0x1bf')],this[_0x1cd8('0x101')]),'_randomise':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x3f')]['randomise'],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)},this[_0x1cd8('0x21f')]={'_value':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x21f')][_0x1cd8('0xf')],_0x5c67ce[_0x1cd8('0x1bf')],0x0),'_spread':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x21f')][_0x1cd8('0x1f5')],_0x5c67ce[_0x1cd8('0x1bf')],0x0),'_randomise':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['position'][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)},this[_0x1cd8('0x1f9')]={'_value':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1f9')][_0x1cd8('0xf')],_0x5c67ce[_0x1cd8('0x1bf')],0x0),'_spread':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1f9')]['spread'],_0x5c67ce['NUMBER'],0x0)},this['rotation']={'_axis':_0x2c1621[_0x1cd8('0x1d5')](_0x3a9e3a['rotation']['axis'],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))](0x0,0x1,0x0)),'_axisSpread':_0x2c1621['ensureInstanceOf'](_0x3a9e3a['rotation'][_0x1cd8('0x229')],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))]()),'_angle':_0x2c1621['ensureTypedArg'](_0x3a9e3a['rotation'][_0x1cd8('0x221')],_0x5c67ce[_0x1cd8('0x1bf')],0x0),'_angleSpread':_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x1f7')][_0x1cd8('0x1f8')],_0x5c67ce['NUMBER'],0x0),'_static':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1f7')][_0x1cd8('0x22a')],_0x5c67ce['BOOLEAN'],!0x1),'_center':_0x2c1621['ensureInstanceOf'](_0x3a9e3a['rotation'][_0x1cd8('0x22b')],THREE[_0x1cd8('0x57')],this[_0x1cd8('0x3f')]['_value']['clone']()),'_randomise':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['position'][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)},this[_0x1cd8('0x203')]={'_value':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x203')][_0x1cd8('0xf')],_0x5c67ce['NUMBER'],0x2),'_spread':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x203')][_0x1cd8('0x1f5')],_0x5c67ce[_0x1cd8('0x1bf')],0x0)},this[_0x1cd8('0x220')]={'_value':_0x2c1621[_0x1cd8('0x22c')](_0x3a9e3a[_0x1cd8('0x220')][_0x1cd8('0xf')],THREE[_0x1cd8('0x1c3')],new THREE[(_0x1cd8('0x1c3'))]()),'_spread':_0x2c1621[_0x1cd8('0x22c')](_0x3a9e3a[_0x1cd8('0x220')][_0x1cd8('0x1f5')],THREE[_0x1cd8('0x57')],new THREE[(_0x1cd8('0x57'))]()),'_randomise':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x3f')][_0x1cd8('0x225')],_0x5c67ce['BOOLEAN'],!0x1)},this[_0x1cd8('0x20a')]={'_value':_0x2c1621['ensureArrayTypedArg'](_0x3a9e3a[_0x1cd8('0x20a')][_0x1cd8('0xf')],_0x5c67ce[_0x1cd8('0x1bf')],0x1),'_spread':_0x2c1621[_0x1cd8('0x22d')](_0x3a9e3a[_0x1cd8('0x20a')]['spread'],_0x5c67ce[_0x1cd8('0x1bf')],0x0),'_randomise':_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x3f')][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)},this[_0x1cd8('0xeb')]={'_value':_0x2c1621['ensureArrayTypedArg'](_0x3a9e3a[_0x1cd8('0xeb')][_0x1cd8('0xf')],_0x5c67ce[_0x1cd8('0x1bf')],0x1),'_spread':_0x2c1621['ensureArrayTypedArg'](_0x3a9e3a[_0x1cd8('0xeb')]['spread'],_0x5c67ce[_0x1cd8('0x1bf')],0x0),'_randomise':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['position'][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)},this[_0x1cd8('0x221')]={'_value':_0x2c1621['ensureArrayTypedArg'](_0x3a9e3a['angle'][_0x1cd8('0xf')],_0x5c67ce[_0x1cd8('0x1bf')],0x0),'_spread':_0x2c1621[_0x1cd8('0x22d')](_0x3a9e3a[_0x1cd8('0x221')][_0x1cd8('0x1f5')],_0x5c67ce[_0x1cd8('0x1bf')],0x0),'_randomise':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x3f')][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)},this['particleCount']=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1ec')],_0x5c67ce[_0x1cd8('0x1bf')],0x64),this['duration']=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['duration'],_0x5c67ce[_0x1cd8('0x1bf')],null),this[_0x1cd8('0x22e')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['isStatic'],_0x5c67ce['BOOLEAN'],!0x1),this[_0x1cd8('0x22f')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x22f')],_0x5c67ce[_0x1cd8('0x1bf')],0x1),this[_0x1cd8('0x230')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x230')],_0x5c67ce[_0x1cd8('0x1bf')],0x1),this[_0x1cd8('0x231')]=_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x231')],_0x5c67ce[_0x1cd8('0x1dc')],!0x0),this[_0x1cd8('0x232')]=0x0,this[_0x1cd8('0x233')]=0x0,this['attributeOffset']=0x0,this[_0x1cd8('0x234')]=0x0,this[_0x1cd8('0x235')]=0x0,this[_0x1cd8('0x236')]=0x0,this[_0x1cd8('0x201')]=null,this[_0x1cd8('0x177')]=null,this['paramsArray']=null,this[_0x1cd8('0x237')]={'position':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x3f')][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)||_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['radius'][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1),'velocity':_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x207')][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1),'acceleration':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x209')][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1)||_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a['drag'][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1),'rotation':_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x1f7')][_0x1cd8('0x225')],_0x5c67ce['BOOLEAN'],!0x1),'rotationCenter':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0x1f7')][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1),'size':_0x2c1621[_0x1cd8('0x1b5')](_0x3a9e3a[_0x1cd8('0xeb')]['randomise'],_0x5c67ce[_0x1cd8('0x1dc')],!0x1),'color':_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x220')]['randomise'],_0x5c67ce[_0x1cd8('0x1dc')],!0x1),'opacity':_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x20a')][_0x1cd8('0x225')],_0x5c67ce[_0x1cd8('0x1dc')],!0x1),'angle':_0x2c1621['ensureTypedArg'](_0x3a9e3a[_0x1cd8('0x221')]['randomise'],_0x5c67ce['BOOLEAN'],!0x1)},this[_0x1cd8('0x238')]={},this[_0x1cd8('0x239')]={},this[_0x1cd8('0x23a')]={'maxAge':_0x1cd8('0x211'),'position':_0x1cd8('0x3f'),'velocity':'velocity','acceleration':'acceleration','drag':_0x1cd8('0x209'),'wiggle':_0x1cd8('0x211'),'rotation':_0x1cd8('0x1f7'),'size':_0x1cd8('0xeb'),'color':_0x1cd8('0x220'),'opacity':_0x1cd8('0x20a'),'angle':'angle'},this[_0x1cd8('0x23a')])this['updateMap'][_0x1cd8('0x1e')](_0x245e68)&&(this[_0x1cd8('0x239')][this[_0x1cd8('0x23a')][_0x245e68]]=0x0,this[_0x1cd8('0x238')][this[_0x1cd8('0x23a')][_0x245e68]]=!0x1,this[_0x1cd8('0x23b')](this[_0x245e68],_0x245e68));this['bufferUpdateRanges']={},this[_0x1cd8('0x1ee')]=null,this[_0x1cd8('0x1ef')]=0x0,_0x2c1621['ensureValueOverLifetimeCompliance'](this[_0x1cd8('0x220')],_0x24d8c7,_0x24d8c7),_0x2c1621[_0x1cd8('0x23c')](this['opacity'],_0x24d8c7,_0x24d8c7),_0x2c1621[_0x1cd8('0x23c')](this[_0x1cd8('0xeb')],_0x24d8c7,_0x24d8c7),_0x2c1621['ensureValueOverLifetimeCompliance'](this[_0x1cd8('0x221')],_0x24d8c7,_0x24d8c7);},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x88')]=_0x1efc09['Emitter'],_0x1efc09['Emitter'][_0x1cd8('0x11')][_0x1cd8('0x23b')]=function(_0x3a9e3a,_0x45d4cb){var _0x245e68,_0x2c1621,_0x5d4949=this;for(_0x245e68 in _0x3a9e3a)_0x3a9e3a[_0x1cd8('0x1e')](_0x245e68)&&(_0x2c1621=_0x245e68[_0x1cd8('0x23d')]('_',''),(0x0,_0x24d8c7[_0x1cd8('0xa')])(_0x3a9e3a,_0x2c1621,{'get':function(_0x3a9e3a){return function(){return this[_0x3a9e3a];};}(_0x245e68),'set':function(_0x24d8c7){return function(_0x3a9e3a){var _0x245e68=_0x5d4949['updateMap'][_0x45d4cb],_0x2c1621=this[_0x24d8c7],_0x5c67ce=_0x1efc09[_0x1cd8('0x1ed')];_0x1cd8('0x23e')===_0x24d8c7?(_0x5d4949[_0x1cd8('0x238')][_0x1cd8('0x23f')]=!0x0,_0x5d4949[_0x1cd8('0x239')][_0x1cd8('0x23f')]=0x0):_0x1cd8('0x240')===_0x24d8c7?_0x5d4949[_0x1cd8('0x237')][_0x245e68]=_0x3a9e3a:(_0x5d4949[_0x1cd8('0x238')][_0x245e68]=!0x0,_0x5d4949[_0x1cd8('0x239')][_0x245e68]=0x0),_0x5d4949[_0x1cd8('0x201')][_0x1cd8('0x20c')](),this[_0x24d8c7]=_0x3a9e3a,Array['isArray'](_0x2c1621)&&_0x1efc09[_0x1cd8('0x1d0')][_0x1cd8('0x23c')](_0x5d4949[_0x45d4cb],_0x5c67ce,_0x5c67ce);};}(_0x245e68)}));},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x204')]=function(_0x3a9e3a){this[_0x1cd8('0x1ee')]=_0x3a9e3a,this['attributeCount']=_0x3a9e3a['length'];for(var _0x245e68=this['attributeCount']-0x1;0x0<=_0x245e68;--_0x245e68)this[_0x1cd8('0x241')][_0x3a9e3a[_0x245e68]]={'min':Number['POSITIVE_INFINITY'],'max':Number[_0x1cd8('0x242')]};},_0x1efc09[_0x1cd8('0x20f')]['prototype']['_calculatePPSValue']=function(_0x3a9e3a){var _0x245e68=this['particleCount'];this[_0x1cd8('0x217')]?this[_0x1cd8('0x232')]=_0x245e68/(_0x3a9e3a<this[_0x1cd8('0x217')]?_0x3a9e3a:this[_0x1cd8('0x217')]):this['particlesPerSecond']=_0x245e68/_0x3a9e3a;},_0x1efc09[_0x1cd8('0x20f')]['prototype']['_setAttributeOffset']=function(_0x3a9e3a){this[_0x1cd8('0x210')]=_0x3a9e3a,this[_0x1cd8('0x233')]=_0x3a9e3a,this[_0x1cd8('0x243')]=_0x3a9e3a+this[_0x1cd8('0x1ec')];},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x244')]=function(_0x3a9e3a,_0x245e68){switch(_0x3a9e3a){case _0x1cd8('0x3f'):this[_0x1cd8('0x206')](_0x245e68);break;case _0x1cd8('0x207'):case _0x1cd8('0x209'):this[_0x1cd8('0x208')](_0x245e68,_0x3a9e3a);break;case _0x1cd8('0xeb'):case'opacity':this[_0x1cd8('0x245')](_0x245e68,_0x3a9e3a);break;case _0x1cd8('0x221'):this[_0x1cd8('0x20b')](_0x245e68);break;case _0x1cd8('0x211'):this[_0x1cd8('0x246')](_0x245e68);break;case _0x1cd8('0x1f7'):this[_0x1cd8('0x247')](_0x245e68);break;case _0x1cd8('0x220'):this[_0x1cd8('0x248')](_0x245e68);}},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x206')]=function(_0x3a9e3a){var _0x245e68=_0x1efc09['distributions'],_0x2c1621=_0x1efc09[_0x1cd8('0x1d0')],_0x5c67ce=this[_0x1cd8('0x3f')],_0x24d8c7=this[_0x1cd8('0x177')][_0x1cd8('0x3f')],_0x45d4cb=_0x5c67ce[_0x1cd8('0x1b7')],_0x5d4949=_0x5c67ce[_0x1cd8('0x1b8')];switch(_0x5c67ce[_0x1cd8('0x249')]){case _0x245e68[_0x1cd8('0x24a')]:_0x2c1621[_0x1cd8('0x24b')](_0x24d8c7,_0x3a9e3a,_0x45d4cb,_0x5d4949,_0x5c67ce[_0x1cd8('0x24c')]);break;case _0x245e68['SPHERE']:_0x2c1621['randomVector3OnSphere'](_0x24d8c7,_0x3a9e3a,_0x45d4cb,_0x5c67ce[_0x1cd8('0x24d')],_0x5c67ce[_0x1cd8('0x1b8')]['x'],_0x5c67ce[_0x1cd8('0x24e')],_0x5c67ce['_spreadClamp']['x'],_0x5c67ce['_distributionClamp']||this[_0x1cd8('0x1ec')]);break;case _0x245e68[_0x1cd8('0x24f')]:_0x2c1621['randomVector3OnDisc'](_0x24d8c7,_0x3a9e3a,_0x45d4cb,_0x5c67ce['_radius'],_0x5c67ce[_0x1cd8('0x1b8')]['x'],_0x5c67ce[_0x1cd8('0x24e')],_0x5c67ce[_0x1cd8('0x24c')]['x']);}},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x208')]=function(_0x3a9e3a,_0x245e68){var _0x2c1621,_0x5c67ce,_0x24d8c7,_0x45d4cb,_0x5d4949,_0x40dd23=_0x1efc09[_0x1cd8('0x223')],_0x5cb14f=_0x1efc09[_0x1cd8('0x1d0')],_0x340bf6=this[_0x245e68],_0x3da310=_0x340bf6['_value'],_0x44b912=_0x340bf6['_spread'];switch(_0x340bf6[_0x1cd8('0x249')]){case _0x40dd23[_0x1cd8('0x24a')]:_0x5cb14f[_0x1cd8('0x24b')](this[_0x1cd8('0x177')][_0x245e68],_0x3a9e3a,_0x3da310,_0x44b912);break;case _0x40dd23[_0x1cd8('0x250')]:_0x5c67ce=(_0x2c1621=this['attributes']['position']['typedArray']['array'])[_0x5d4949=0x3*_0x3a9e3a],_0x24d8c7=_0x2c1621[_0x5d4949+0x1],_0x45d4cb=_0x2c1621[_0x5d4949+0x2],_0x5cb14f[_0x1cd8('0x251')](this[_0x1cd8('0x177')][_0x245e68],_0x3a9e3a,_0x5c67ce,_0x24d8c7,_0x45d4cb,this[_0x1cd8('0x3f')][_0x1cd8('0x1b7')],_0x340bf6[_0x1cd8('0x1b7')]['x'],_0x340bf6[_0x1cd8('0x1b8')]['x']);break;case _0x40dd23[_0x1cd8('0x24f')]:_0x5c67ce=(_0x2c1621=this[_0x1cd8('0x177')][_0x1cd8('0x3f')][_0x1cd8('0x103')][_0x1cd8('0xed')])[_0x5d4949=0x3*_0x3a9e3a],_0x24d8c7=_0x2c1621[_0x5d4949+0x1],_0x45d4cb=_0x2c1621[_0x5d4949+0x2],_0x5cb14f['randomDirectionVector3OnDisc'](this['attributes'][_0x245e68],_0x3a9e3a,_0x5c67ce,_0x24d8c7,_0x45d4cb,this['position']['_value'],_0x340bf6[_0x1cd8('0x1b7')]['x'],_0x340bf6[_0x1cd8('0x1b8')]['x']);}_0x1cd8('0x209')===_0x245e68&&(_0x40dd23=_0x5cb14f[_0x1cd8('0x1b9')](_0x5cb14f['randomFloat'](this[_0x1cd8('0x21f')][_0x1cd8('0x1b7')],this['drag'][_0x1cd8('0x1b8')]),0x0,0x1),this[_0x1cd8('0x177')][_0x1cd8('0x209')][_0x1cd8('0x103')][_0x1cd8('0xed')][0x4*_0x3a9e3a+0x3]=_0x40dd23);},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x245')]=function(_0x3a9e3a,_0x245e68){var _0x2c1621,_0x5c67ce=this['attributes'][_0x245e68][_0x1cd8('0x103')],_0x245e68=this[_0x245e68],_0x24d8c7=_0x1efc09['utils'];_0x24d8c7['arrayValuesAreEqual'](_0x245e68[_0x1cd8('0x1b7')])&&_0x24d8c7['arrayValuesAreEqual'](_0x245e68[_0x1cd8('0x1b8')])?(_0x2c1621=Math[_0x1cd8('0x1c4')](_0x24d8c7[_0x1cd8('0x1c9')](_0x245e68[_0x1cd8('0x1b7')][0x0],_0x245e68[_0x1cd8('0x1b8')][0x0])),_0x5c67ce[_0x1cd8('0xf9')](_0x3a9e3a,_0x2c1621,_0x2c1621,_0x2c1621,_0x2c1621)):_0x5c67ce['setVec4Components'](_0x3a9e3a,Math[_0x1cd8('0x1c4')](_0x24d8c7[_0x1cd8('0x1c9')](_0x245e68[_0x1cd8('0x1b7')][0x0],_0x245e68['_spread'][0x0])),Math[_0x1cd8('0x1c4')](_0x24d8c7['randomFloat'](_0x245e68[_0x1cd8('0x1b7')][0x1],_0x245e68['_spread'][0x1])),Math[_0x1cd8('0x1c4')](_0x24d8c7[_0x1cd8('0x1c9')](_0x245e68[_0x1cd8('0x1b7')][0x2],_0x245e68['_spread'][0x2])),Math['abs'](_0x24d8c7[_0x1cd8('0x1c9')](_0x245e68[_0x1cd8('0x1b7')][0x3],_0x245e68[_0x1cd8('0x1b8')][0x3])));},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x20b')]=function(_0x3a9e3a){var _0x245e68,_0x2c1621=this['attributes'][_0x1cd8('0x221')]['typedArray'],_0x5c67ce=this[_0x1cd8('0x221')],_0x24d8c7=_0x1efc09[_0x1cd8('0x1d0')];_0x24d8c7['arrayValuesAreEqual'](_0x5c67ce[_0x1cd8('0x1b7')])&&_0x24d8c7[_0x1cd8('0x252')](_0x5c67ce[_0x1cd8('0x1b8')])?(_0x245e68=_0x24d8c7[_0x1cd8('0x1c9')](_0x5c67ce[_0x1cd8('0x1b7')][0x0],_0x5c67ce[_0x1cd8('0x1b8')][0x0]),_0x2c1621[_0x1cd8('0xf9')](_0x3a9e3a,_0x245e68,_0x245e68,_0x245e68,_0x245e68)):_0x2c1621[_0x1cd8('0xf9')](_0x3a9e3a,_0x24d8c7['randomFloat'](_0x5c67ce[_0x1cd8('0x1b7')][0x0],_0x5c67ce['_spread'][0x0]),_0x24d8c7[_0x1cd8('0x1c9')](_0x5c67ce[_0x1cd8('0x1b7')][0x1],_0x5c67ce[_0x1cd8('0x1b8')][0x1]),_0x24d8c7[_0x1cd8('0x1c9')](_0x5c67ce[_0x1cd8('0x1b7')][0x2],_0x5c67ce[_0x1cd8('0x1b8')][0x2]),_0x24d8c7[_0x1cd8('0x1c9')](_0x5c67ce['_value'][0x3],_0x5c67ce[_0x1cd8('0x1b8')][0x3]));},_0x1efc09['Emitter'][_0x1cd8('0x11')][_0x1cd8('0x246')]=function(_0x3a9e3a){this['attributes'][_0x1cd8('0x211')][_0x1cd8('0x103')][_0x1cd8('0xf9')](_0x3a9e3a,this['isStatic']?0x1:0x0,0x0,Math['abs'](_0x1efc09[_0x1cd8('0x1d0')]['randomFloat'](this[_0x1cd8('0x203')]['_value'],this[_0x1cd8('0x203')][_0x1cd8('0x1b8')])),_0x1efc09['utils']['randomFloat'](this[_0x1cd8('0x1f9')][_0x1cd8('0x1b7')],this['wiggle'][_0x1cd8('0x1b8')]));},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')]['_assignRotationValue']=function(_0x3a9e3a){this[_0x1cd8('0x177')][_0x1cd8('0x1f7')][_0x1cd8('0x103')][_0x1cd8('0xf8')](_0x3a9e3a,_0x1efc09[_0x1cd8('0x1d0')][_0x1cd8('0x253')](this[_0x1cd8('0x1f7')][_0x1cd8('0x254')],this['rotation'][_0x1cd8('0x255')]),_0x1efc09[_0x1cd8('0x1d0')][_0x1cd8('0x1c9')](this[_0x1cd8('0x1f7')][_0x1cd8('0x256')],this[_0x1cd8('0x1f7')][_0x1cd8('0x257')]),this['rotation'][_0x1cd8('0x258')]?0x0:0x1),this[_0x1cd8('0x177')][_0x1cd8('0x23f')][_0x1cd8('0x103')][_0x1cd8('0xf7')](_0x3a9e3a,this['rotation']['_center']);},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x248')]=function(_0x3a9e3a){_0x1efc09[_0x1cd8('0x1d0')][_0x1cd8('0x259')](this[_0x1cd8('0x177')][_0x1cd8('0x220')],_0x3a9e3a,this[_0x1cd8('0x220')][_0x1cd8('0x1b7')],this[_0x1cd8('0x220')][_0x1cd8('0x1b8')]);},_0x1efc09['Emitter'][_0x1cd8('0x11')]['_resetParticle']=function(_0x3a9e3a){for(var _0x245e68,_0x2c1621,_0x5c67ce=this[_0x1cd8('0x237')],_0x24d8c7=this[_0x1cd8('0x238')],_0x45d4cb=this[_0x1cd8('0x239')],_0x5d4949=this['attributeKeys'],_0x40dd23=this[_0x1cd8('0x1ef')]-0x1;0x0<=_0x40dd23;--_0x40dd23)_0x2c1621=_0x24d8c7[_0x245e68=_0x5d4949[_0x40dd23]],!0x0!==_0x5c67ce[_0x245e68]&&!0x0!==_0x2c1621||(this[_0x1cd8('0x244')](_0x245e68,_0x3a9e3a),this[_0x1cd8('0x25a')](_0x245e68,_0x3a9e3a),!0x0===_0x2c1621&&_0x45d4cb[_0x245e68]===this[_0x1cd8('0x1ec')]?(_0x24d8c7[_0x245e68]=!0x1,_0x45d4cb[_0x245e68]=0x0):0x1==_0x2c1621&&++_0x45d4cb[_0x245e68]);},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x25a')]=function(_0x3a9e3a,_0x245e68){_0x3a9e3a=this[_0x1cd8('0x241')][_0x3a9e3a];_0x3a9e3a[_0x1cd8('0x81')]=Math[_0x1cd8('0x81')](_0x245e68,_0x3a9e3a[_0x1cd8('0x81')]),_0x3a9e3a[_0x1cd8('0xe4')]=Math[_0x1cd8('0xe4')](_0x245e68,_0x3a9e3a[_0x1cd8('0xe4')]);},_0x1efc09['Emitter'][_0x1cd8('0x11')]['_resetBufferRanges']=function(){for(var _0x3a9e3a,_0x245e68=this[_0x1cd8('0x241')],_0x2c1621=this['bufferUpdateKeys'],_0x5c67ce=this[_0x1cd8('0x25b')]-0x1;0x0<=_0x5c67ce;--_0x5c67ce)_0x245e68[_0x3a9e3a=_0x2c1621[_0x5c67ce]][_0x1cd8('0x81')]=Number['POSITIVE_INFINITY'],_0x245e68[_0x3a9e3a][_0x1cd8('0xe4')]=Number['NEGATIVE_INFINITY'];},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')]['_onRemove']=function(){this[_0x1cd8('0x232')]=0x0,this[_0x1cd8('0x210')]=0x0,this[_0x1cd8('0x233')]=0x0,this['activeParticleCount']=0x0,this['group']=null,this[_0x1cd8('0x177')]=null,this['paramsArray']=null,this['age']=0x0;},_0x1efc09['Emitter'][_0x1cd8('0x11')]['_decrementParticleCount']=function(){--this[_0x1cd8('0x236')];},_0x1efc09[_0x1cd8('0x20f')]['prototype'][_0x1cd8('0x25c')]=function(){++this[_0x1cd8('0x236')];},_0x1efc09['Emitter'][_0x1cd8('0x11')]['_checkParticleAges']=function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce){for(var _0x24d8c7,_0x45d4cb,_0x5d4949,_0x40dd23,_0x5cb14f=_0x245e68-0x1;_0x3a9e3a<=_0x5cb14f;--_0x5cb14f)0x0!==(_0x40dd23=_0x2c1621[_0x24d8c7=0x4*_0x5cb14f])&&(_0x5d4949=_0x2c1621[0x1+_0x24d8c7],_0x45d4cb=_0x2c1621[0x2+_0x24d8c7],0x1===this[_0x1cd8('0x230')]?_0x45d4cb<=(_0x5d4949+=_0x5c67ce)&&(_0x40dd23=_0x5d4949=0x0,this[_0x1cd8('0x25d')]()):(_0x5d4949-=_0x5c67ce)<=0x0&&(_0x5d4949=_0x45d4cb,_0x40dd23=0x0,this[_0x1cd8('0x25d')]()),_0x2c1621[_0x24d8c7]=_0x40dd23,_0x2c1621[0x1+_0x24d8c7]=_0x5d4949,this['_updateAttributeUpdateRange']('params',_0x5cb14f));},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')]['_activateParticles']=function(_0x3a9e3a,_0x245e68,_0x2c1621,_0x5c67ce){for(var _0x24d8c7,_0x45d4cb,_0x5d4949=this['direction'],_0x40dd23=_0x3a9e3a;_0x40dd23<_0x245e68;++_0x40dd23)0x0!=_0x2c1621[_0x24d8c7=0x4*_0x40dd23]&&0x1!==this['particleCount']||(this['_incrementParticleCount'](),_0x2c1621[_0x24d8c7]=0x1,this[_0x1cd8('0x25e')](_0x40dd23),_0x45d4cb=_0x5c67ce*(_0x40dd23-_0x3a9e3a),_0x2c1621[0x1+_0x24d8c7]=-0x1===_0x5d4949?_0x2c1621[0x2+_0x24d8c7]-_0x45d4cb:_0x45d4cb,this[_0x1cd8('0x25a')](_0x1cd8('0x211'),_0x40dd23));},_0x1efc09['Emitter'][_0x1cd8('0x11')][_0x1cd8('0x21e')]=function(_0x3a9e3a){if(!this['isStatic']){null===this[_0x1cd8('0x25f')]&&(this[_0x1cd8('0x25f')]=this[_0x1cd8('0x177')][_0x1cd8('0x211')][_0x1cd8('0x103')]['array']);var _0x245e68=this[_0x1cd8('0x210')],_0x2c1621=_0x245e68+this[_0x1cd8('0x1ec')],_0x5c67ce=this[_0x1cd8('0x25f')],_0x24d8c7=this[_0x1cd8('0x232')]*this[_0x1cd8('0x22f')]*_0x3a9e3a,_0x45d4cb=this[_0x1cd8('0x233')];if(this['_resetBufferRanges'](),this[_0x1cd8('0x260')](_0x245e68,_0x2c1621,_0x5c67ce,_0x3a9e3a),!0x1===this[_0x1cd8('0x231')])this[_0x1cd8('0x235')]=0x0;else{if(null!==this['duration']&&this['age']>this[_0x1cd8('0x217')])return this[_0x1cd8('0x231')]=!0x1,void(this[_0x1cd8('0x235')]=0x0);var _0x45d4cb=0x1===this[_0x1cd8('0x1ec')]?_0x45d4cb:0x0|_0x45d4cb,_0x5d4949=Math['min'](_0x45d4cb+_0x24d8c7,this[_0x1cd8('0x243')]),_0x40dd23=_0x5d4949-this[_0x1cd8('0x233')]|0x0;this[_0x1cd8('0x261')](_0x45d4cb,_0x5d4949,_0x5c67ce,0x0<_0x40dd23?_0x3a9e3a/_0x40dd23:0x0),this[_0x1cd8('0x233')]+=_0x24d8c7,this[_0x1cd8('0x233')]>_0x2c1621&&(this['activationIndex']=_0x245e68),this[_0x1cd8('0x235')]+=_0x3a9e3a;}}},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x215')]=function(_0x3a9e3a){if(this['age']=0x0,!(this[_0x1cd8('0x231')]=!0x1)===_0x3a9e3a){for(var _0x245e68,_0x2c1621=this[_0x1cd8('0x210')],_0x3a9e3a=_0x2c1621+this[_0x1cd8('0x1ec')],_0x5c67ce=this[_0x1cd8('0x25f')],_0x24d8c7=this['attributes'][_0x1cd8('0x211')]['bufferAttribute'],_0x45d4cb=_0x3a9e3a-0x1;_0x2c1621<=_0x45d4cb;--_0x45d4cb)_0x5c67ce[_0x245e68=0x4*_0x45d4cb]=0x0,_0x5c67ce[0x1+_0x245e68]=0x0;_0x24d8c7[_0x1cd8('0x109')][_0x1cd8('0x10a')]=0x0,_0x24d8c7['updateRange'][_0x1cd8('0x10f')]=-0x1,_0x24d8c7[_0x1cd8('0x10b')]=!0x0;}return this;},_0x1efc09[_0x1cd8('0x20f')]['prototype'][_0x1cd8('0x216')]=function(){return this['alive']=!0x0,this;},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0x262')]=function(){return this[_0x1cd8('0x231')]=!0x1,this;},_0x1efc09[_0x1cd8('0x20f')][_0x1cd8('0x11')][_0x1cd8('0xe1')]=function(){return null!==this[_0x1cd8('0x201')]?this[_0x1cd8('0x201')][_0x1cd8('0x20e')](this):console[_0x1cd8('0x1fe')](_0x1cd8('0x263')),this;};},function(_0x3001e3,_0x412eaf,_0x48834b){_0x3001e3['exports']={'default':_0x48834b(0x59),'__esModule':!0x0};},function(_0x4074c4,_0xf04b0e,_0x131e62){_0x4074c4['exports']={'default':_0x131e62(0x7f),'__esModule':!0x0};},function(_0x59cfdd,_0x208b42,_0x2a257d){_0x2a257d(0x19),_0x2a257d(0x1b),_0x59cfdd['exports']=_0x2a257d(0x29)['f'](_0x1cd8('0x93'));},function(_0x5671f9,_0x271258,_0x36c8dc){_0x36c8dc(0x5b),_0x36c8dc(0x34),_0x36c8dc(0x5e),_0x36c8dc(0x5f),_0x5671f9[_0x1cd8('0x0')]=_0x36c8dc(0x2)[_0x1cd8('0x18')];},function(_0xd70d75,_0x101b90,_0x3e1d97){'use strict';function _0x906291(_0x3e1d97){var _0x25b1b6=_0x21f132[_0x3e1d97]=_0x25a057(_0x213f6d[_0x2e38dd]);return _0x25b1b6['_k']=_0x3e1d97,_0x25b1b6;}function _0x287f77(_0x3e1d97,_0x55a03f){_0x390bdd(_0x3e1d97);for(var _0x287f77,_0x906291=_0x4c602b(_0x55a03f=_0x258fee(_0x55a03f)),_0xb3106=0x0,_0x3020dd=_0x906291[_0x1cd8('0xc')];_0xb3106<_0x3020dd;)_0x26f917(_0x3e1d97,_0x287f77=_0x906291[_0xb3106++],_0x55a03f[_0x287f77]);return _0x3e1d97;}function _0x11ddca(_0x3e1d97){var _0x11ddca=_0xb54bfa[_0x1cd8('0x1')](this,_0x3e1d97=_0x4b6342(_0x3e1d97,!0x0));return!(this===_0x1852bd&&_0x18b374(_0x21f132,_0x3e1d97)&&!_0x18b374(_0x3bbdd0,_0x3e1d97))&&(!(_0x11ddca||!_0x18b374(this,_0x3e1d97)||!_0x18b374(_0x21f132,_0x3e1d97)||_0x18b374(this,_0x1ffade)&&this[_0x1ffade][_0x3e1d97])||_0x11ddca);}function _0x2f72f7(_0x3e1d97,_0x11ddca){var _0x287f77;if(_0x3e1d97=_0x258fee(_0x3e1d97),_0x11ddca=_0x4b6342(_0x11ddca,!0x0),_0x3e1d97!==_0x1852bd||!_0x18b374(_0x21f132,_0x11ddca)||_0x18b374(_0x3bbdd0,_0x11ddca))return!(_0x287f77=_0x1770df(_0x3e1d97,_0x11ddca))||!_0x18b374(_0x21f132,_0x11ddca)||_0x18b374(_0x3e1d97,_0x1ffade)&&_0x3e1d97[_0x1ffade][_0x11ddca]||(_0x287f77[_0x1cd8('0xd')]=!0x0),_0x287f77;}function _0x56d9cc(_0x3e1d97){for(var _0x11ddca,_0x287f77=_0x4e89a3(_0x258fee(_0x3e1d97)),_0x906291=[],_0x2f72f7=0x0;_0x287f77[_0x1cd8('0xc')]>_0x2f72f7;)_0x18b374(_0x21f132,_0x11ddca=_0x287f77[_0x2f72f7++])||_0x11ddca==_0x1ffade||_0x11ddca==_0x5cb0a3||_0x906291[_0x1cd8('0x70')](_0x11ddca);return _0x906291;}function _0x56a719(_0x3e1d97){for(var _0x11ddca,_0x287f77=_0x3e1d97===_0x1852bd,_0x906291=_0x4e89a3(_0x287f77?_0x3bbdd0:_0x258fee(_0x3e1d97)),_0x2f72f7=[],_0x56d9cc=0x0;_0x906291[_0x1cd8('0xc')]>_0x56d9cc;)!_0x18b374(_0x21f132,_0x11ddca=_0x906291[_0x56d9cc++])||_0x287f77&&!_0x18b374(_0x1852bd,_0x11ddca)||_0x2f72f7[_0x1cd8('0x70')](_0x21f132[_0x11ddca]);return _0x2f72f7;}function _0x26f917(_0x3e1d97,_0x11ddca,_0x287f77){return _0x3e1d97===_0x1852bd&&_0x26f917(_0x3bbdd0,_0x11ddca,_0x287f77),_0x390bdd(_0x3e1d97),_0x11ddca=_0x4b6342(_0x11ddca,!0x0),_0x390bdd(_0x287f77),_0x18b374(_0x21f132,_0x11ddca)?(_0x287f77[_0x1cd8('0xd')]?(_0x18b374(_0x3e1d97,_0x1ffade)&&_0x3e1d97[_0x1ffade][_0x11ddca]&&(_0x3e1d97[_0x1ffade][_0x11ddca]=!0x1),_0x287f77=_0x25a057(_0x287f77,{'enumerable':_0x2ad90b(0x0,!0x1)})):(_0x18b374(_0x3e1d97,_0x1ffade)||_0x5307e6(_0x3e1d97,_0x1ffade,_0x2ad90b(0x1,{})),_0x3e1d97[_0x1ffade][_0x11ddca]=!0x0),_0x166ab5(_0x3e1d97,_0x11ddca,_0x287f77)):_0x5307e6(_0x3e1d97,_0x11ddca,_0x287f77);}var _0x3eea08=_0x3e1d97(0x5),_0x18b374=_0x3e1d97(0xc),_0x197636=_0x3e1d97(0x7),_0x2c4c02=_0x3e1d97(0x3),_0x57ac82=_0x3e1d97(0x36),_0x5cb0a3=_0x3e1d97(0x3a)[_0x1cd8('0x264')],_0x5a2cd1=_0x3e1d97(0xd),_0x5cfa3e=_0x3e1d97(0x23),_0xa52033=_0x3e1d97(0x17),_0x505e2b=_0x3e1d97(0x18),_0x3726ac=_0x3e1d97(0x6),_0x1d3186=_0x3e1d97(0x29),_0xbcfa74=_0x3e1d97(0x2a),_0x4c602b=_0x3e1d97(0x5c),_0x5a32d7=_0x3e1d97(0x48),_0x390bdd=_0x3e1d97(0xa),_0x4ba0fd=_0x3e1d97(0x9),_0x5da640=_0x3e1d97(0x12),_0x258fee=_0x3e1d97(0xe),_0x4b6342=_0x3e1d97(0x25),_0x2ad90b=_0x3e1d97(0x15),_0x25a057=_0x3e1d97(0x1f),_0x389383=_0x3e1d97(0x5d),_0x8560a1=_0x3e1d97(0x40),_0x6e6030=_0x3e1d97(0x2d),_0x1f5e0c=_0x3e1d97(0x8),_0x461d3b=_0x3e1d97(0x14),_0x1770df=_0x8560a1['f'],_0x5307e6=_0x1f5e0c['f'],_0x4e89a3=_0x389383['f'],_0x213f6d=_0x3eea08[_0x1cd8('0x18')],_0x486296=_0x3eea08[_0x1cd8('0x265')],_0x4e3678=_0x486296&&_0x486296[_0x1cd8('0x266')],_0x2e38dd=_0x1cd8('0x11'),_0x1ffade=_0x3726ac('_hidden'),_0x42e454=_0x3726ac(_0x1cd8('0x267')),_0xb54bfa={}[_0x1cd8('0x5f')],_0x3c8bae=_0x5cfa3e(_0x1cd8('0x268')),_0x21f132=_0x5cfa3e('symbols'),_0x3bbdd0=_0x5cfa3e('op-symbols'),_0x1852bd=Object[_0x2e38dd],_0x5cfa3e=_0x1cd8('0x12')==typeof _0x213f6d&&!!_0x6e6030['f'],_0x4a370f=_0x3eea08[_0x1cd8('0x269')],_0x1a7502=!_0x4a370f||!_0x4a370f[_0x2e38dd]||!_0x4a370f[_0x2e38dd]['findChild'],_0x166ab5=_0x197636&&_0x5a2cd1(function(){return 0x7!=_0x25a057(_0x5307e6({},'a',{'get':function(){return _0x5307e6(this,'a',{'value':0x7})['a'];}}))['a'];})?function(_0x3e1d97,_0x11ddca,_0x287f77){var _0x906291=_0x1770df(_0x1852bd,_0x11ddca);_0x906291&&delete _0x1852bd[_0x11ddca],_0x5307e6(_0x3e1d97,_0x11ddca,_0x287f77),_0x906291&&_0x3e1d97!==_0x1852bd&&_0x5307e6(_0x1852bd,_0x11ddca,_0x906291);}:_0x5307e6,_0x3e9175=_0x5cfa3e&&_0x1cd8('0x89')==typeof _0x213f6d[_0x1cd8('0x93')]?function(_0x3e1d97){return'symbol'==typeof _0x3e1d97;}:function(_0x3e1d97){return _0x3e1d97 instanceof _0x213f6d;};_0x5cfa3e||(_0x57ac82((_0x213f6d=function(){if(this instanceof _0x213f6d)throw TypeError(_0x1cd8('0x26a'));var _0x11ddca=_0x505e2b(0x0<arguments['length']?arguments[0x0]:void 0x0),_0x287f77=function(_0x3e1d97){this===_0x1852bd&&_0x287f77[_0x1cd8('0x1')](_0x3bbdd0,_0x3e1d97),_0x18b374(this,_0x1ffade)&&_0x18b374(this[_0x1ffade],_0x11ddca)&&(this[_0x1ffade][_0x11ddca]=!0x1),_0x166ab5(this,_0x11ddca,_0x2ad90b(0x1,_0x3e1d97));};return _0x197636&&_0x1a7502&&_0x166ab5(_0x1852bd,_0x11ddca,{'configurable':!0x0,'set':_0x287f77}),_0x906291(_0x11ddca);})[_0x2e38dd],_0x1cd8('0x76'),function(){return this['_k'];}),_0x8560a1['f']=_0x2f72f7,_0x1f5e0c['f']=_0x26f917,_0x3e1d97(0x3f)['f']=_0x389383['f']=_0x56d9cc,_0x3e1d97(0x1c)['f']=_0x11ddca,_0x6e6030['f']=_0x56a719,_0x197636&&!_0x3e1d97(0x13)&&_0x57ac82(_0x1852bd,_0x1cd8('0x5f'),_0x11ddca,!0x0),_0x1d3186['f']=function(_0x3e1d97){return _0x906291(_0x3726ac(_0x3e1d97));}),_0x2c4c02(_0x2c4c02['G']+_0x2c4c02['W']+_0x2c4c02['F']*!_0x5cfa3e,{'Symbol':_0x213f6d});for(var _0x1d9329=_0x1cd8('0x26b')[_0x1cd8('0x87')](','),_0x48dfa4=0x0;_0x1d9329[_0x1cd8('0xc')]>_0x48dfa4;)_0x3726ac(_0x1d9329[_0x48dfa4++]);for(var _0x1475a6=_0x461d3b(_0x3726ac[_0x1cd8('0x26c')]),_0x593f6a=0x0;_0x1475a6['length']>_0x593f6a;)_0xbcfa74(_0x1475a6[_0x593f6a++]);_0x2c4c02(_0x2c4c02['S']+_0x2c4c02['F']*!_0x5cfa3e,'Symbol',{'for':function(_0x3e1d97){return _0x18b374(_0x3c8bae,_0x3e1d97+='')?_0x3c8bae[_0x3e1d97]:_0x3c8bae[_0x3e1d97]=_0x213f6d(_0x3e1d97);},'keyFor':function(_0x3e1d97){if(!_0x3e9175(_0x3e1d97))throw TypeError(_0x3e1d97+_0x1cd8('0x26d'));for(var _0x11ddca in _0x3c8bae)if(_0x3c8bae[_0x11ddca]===_0x3e1d97)return _0x11ddca;},'useSetter':function(){_0x1a7502=!0x0;},'useSimple':function(){_0x1a7502=!0x1;}}),_0x2c4c02(_0x2c4c02['S']+_0x2c4c02['F']*!_0x5cfa3e,_0x1cd8('0x84'),{'create':function(_0x3e1d97,_0x11ddca){return void 0x0===_0x11ddca?_0x25a057(_0x3e1d97):_0x287f77(_0x25a057(_0x3e1d97),_0x11ddca);},'defineProperty':_0x26f917,'defineProperties':_0x287f77,'getOwnPropertyDescriptor':_0x2f72f7,'getOwnPropertyNames':_0x56d9cc,'getOwnPropertySymbols':_0x56a719});_0x4a370f=_0x5a2cd1(function(){_0x6e6030['f'](0x1);});_0x2c4c02(_0x2c4c02['S']+_0x2c4c02['F']*_0x4a370f,_0x1cd8('0x84'),{'getOwnPropertySymbols':function(_0x3e1d97){return _0x6e6030['f'](_0x5da640(_0x3e1d97));}}),_0x486296&&_0x2c4c02(_0x2c4c02['S']+_0x2c4c02['F']*(!_0x5cfa3e||_0x5a2cd1(function(){var _0x3e1d97=_0x213f6d();return'[null]'!=_0x4e3678([_0x3e1d97])||'{}'!=_0x4e3678({'a':_0x3e1d97})||'{}'!=_0x4e3678(Object(_0x3e1d97));})),_0x1cd8('0x265'),{'stringify':function(_0x3e1d97){for(var _0x11ddca,_0x287f77,_0x906291=[_0x3e1d97],_0x2f72f7=0x1;_0x2f72f7<arguments[_0x1cd8('0xc')];)_0x906291[_0x1cd8('0x70')](arguments[_0x2f72f7++]);if(_0x287f77=_0x11ddca=_0x906291[0x1],(_0x4ba0fd(_0x11ddca)||void 0x0!==_0x3e1d97)&&!_0x3e9175(_0x3e1d97))return _0x5a32d7(_0x11ddca)||(_0x11ddca=function(_0x3e1d97,_0x11ddca){if('function'==typeof _0x287f77&&(_0x11ddca=_0x287f77['call'](this,_0x3e1d97,_0x11ddca)),!_0x3e9175(_0x11ddca))return _0x11ddca;}),_0x906291[0x1]=_0x11ddca,_0x4e3678[_0x1cd8('0x13')](_0x486296,_0x906291);}}),_0x213f6d[_0x2e38dd][_0x42e454]||_0x3e1d97(0xb)(_0x213f6d[_0x2e38dd],_0x42e454,_0x213f6d[_0x2e38dd]['valueOf']),_0xa52033(_0x213f6d,_0x1cd8('0x18')),_0xa52033(Math,_0x1cd8('0x15'),!0x0),_0xa52033(_0x3eea08[_0x1cd8('0x265')],_0x1cd8('0x265'),!0x0);},function(_0x13bc7b,_0x1da7f6,_0x533c9a){var _0x29d4a7=_0x533c9a(0x14),_0xa83212=_0x533c9a(0x2d),_0x311e44=_0x533c9a(0x1c);_0x13bc7b[_0x1cd8('0x0')]=function(_0x13bc7b){var _0x1da7f6=_0x29d4a7(_0x13bc7b),_0x533c9a=_0xa83212['f'];if(_0x533c9a)for(var _0x396c9a,_0x4b1bc8=_0x533c9a(_0x13bc7b),_0x53ed01=_0x311e44['f'],_0x54f01c=0x0;_0x4b1bc8['length']>_0x54f01c;)_0x53ed01[_0x1cd8('0x1')](_0x13bc7b,_0x396c9a=_0x4b1bc8[_0x54f01c++])&&_0x1da7f6[_0x1cd8('0x70')](_0x396c9a);return _0x1da7f6;};},function(_0x23625a,_0x2fc0ec,_0x28bad6){var _0x326bb6=_0x28bad6(0xe),_0x333f9d=_0x28bad6(0x3f)['f'],_0x3e65c6={}[_0x1cd8('0x76')],_0x3fbac3=_0x1cd8('0x1c')==typeof window&&window&&Object['getOwnPropertyNames']?Object[_0x1cd8('0x26e')](window):[];_0x23625a['exports']['f']=function(_0x23625a){if(!_0x3fbac3||_0x1cd8('0x26f')!=_0x3e65c6['call'](_0x23625a))return _0x333f9d(_0x326bb6(_0x23625a));try{return _0x333f9d(_0x23625a);}catch(_0x1f6ff5){return _0x3fbac3[_0x1cd8('0x9a')]();}};},function(_0x5001f3,_0x4c5de1,_0x200bce){_0x200bce(0x2a)(_0x1cd8('0x270'));},function(_0x4441f4,_0x864cc4,_0x27ffbf){_0x27ffbf(0x2a)(_0x1cd8('0x271'));},function(_0x1816d4,_0x4e87c6,_0x371da6){_0x1816d4[_0x1cd8('0x0')]={'default':_0x371da6(0x79),'__esModule':!0x0};},function(_0x495d7b,_0x2a9e16,_0xad1a){var _0x3fe4b0=_0xad1a(0x9);_0x495d7b[_0x1cd8('0x0')]=function(_0x495d7b,_0x2a9e16){if(_0x3fe4b0(_0x495d7b)&&_0x495d7b['_t']===_0x2a9e16)return _0x495d7b;throw TypeError(_0x1cd8('0x272')+_0x2a9e16+'\x20required!');};},function(_0x4738f2,_0x2865f7,_0x31d012){'use strict';Object[_0x1cd8('0x4')](_0x2865f7,_0x1cd8('0x6'),{'value':!0x0}),_0x2865f7[_0x1cd8('0x273')]=_0x2865f7[_0x1cd8('0x274')]=_0x2865f7['ESParkConstant']=_0x2865f7['ESTileConstant']=_0x2865f7['CommonConstant']=_0x2865f7['ESMarkerLevel']=_0x2865f7['ESMarkerType']=void 0x0;_0x31d012=_0x31d012(0x45),_0x31d012=_0x31d012&&_0x31d012[_0x1cd8('0x6')]?_0x31d012:{'default':_0x31d012},_0x31d012={'CUBE_FLOAT':(0x0,_0x31d012[_0x1cd8('0xa')])('cube_float'),'CYLINDER_FLOAT':(0x0,_0x31d012['default'])('cylinder_float'),'CYLINDER_SPREAD':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x275')),'CIRCLE_ROTATE':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x276')),'CIRCLE_RIPPLE':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x277')),'CIRCLE_BIPS':(0x0,_0x31d012[_0x1cd8('0xa')])('circle_bips'),'CIRCLES_RADIAN_ROTATE':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x278')),'CIRCLE_BREATH':(0x0,_0x31d012[_0x1cd8('0xa')])('circle_breath'),'SPHERE_SPREAD':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x279')),'TRANSFER_LINE':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x27a')),'POINTS_LINE':(0x0,_0x31d012[_0x1cd8('0xa')])('points_line'),'POINTS':(0x0,_0x31d012[_0x1cd8('0xa')])('points'),'UNDERGROUND_LINE':(0x0,_0x31d012[_0x1cd8('0xa')])('underground_line'),'NUMBER_UP_BEAM':(0x0,_0x31d012[_0x1cd8('0xa')])('number_up_beam'),'EXTENT_WALL':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x27b')),'FIRE_SMOKE':(0x0,_0x31d012['default'])('fire_smoke'),'SMOKE':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x27c')),'FIRE':(0x0,_0x31d012['default'])('fire'),'WATER_SPREAD':(0x0,_0x31d012[_0x1cd8('0xa')])('water_spread'),'FLOAT_POINTS':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x27d')),'ROUTES_LINE':(0x0,_0x31d012['default'])(_0x1cd8('0x27e')),'UP_LINE':(0x0,_0x31d012[_0x1cd8('0xa')])('up_line'),'PLANE_VIDEO':(0x0,_0x31d012[_0x1cd8('0xa')])('plane_video'),'GUIDE_LINE':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x27f')),'PLANE_WIND':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x280')),'PLANE_FOG':(0x0,_0x31d012[_0x1cd8('0xa')])(_0x1cd8('0x281')),'SIGNAL_WIFI':(0x0,_0x31d012[_0x1cd8('0xa')])('signal_wifi')};_0x2865f7[_0x1cd8('0x282')]=_0x31d012,_0x2865f7[_0x1cd8('0x283')]={'CUBE_FLOAT':0x0,'CYLINDER_FLOAT':0x1,'CYLINDER_SPREAD':0x1,'CIRCLE_ROTATE':0x0,'CIRCLE_RIPPLE':0x1,'CIRCLE_BIPS':0x1,'CIRCLES_RADIAN_ROTATE':0x1,'CIRCLE_BREATH':0x0,'SPHERE_SPREAD':0x1,'TRANSFER_LINE':0x1,'POINTS_LINE':0x1,'POINTS':0x1,'UNDERGROUND_LINE':0x0,'NUMBER_UP_BEAM':0x1,'EXTENT_WALL':0x1,'FIRE_SMOKE':0x1,'SMOKE':0x1,'FIRE':0x1,'WATER_SPREAD':0x1,'FLOAT_POINTS':0x1,'ROUTES_LINE':0x0,'UP_LINE':0x1,'PLANE_VIDEO':0x1,'GUIDE_LINE':0x1,'PLANE_WIND':0x1,'PLANE_FOG':0x1,'SIGNAL_WIFI':0x1},_0x2865f7[_0x1cd8('0x3d')]={'Engine':{'Indoor':'INDOOR','Park':'PARK','City':_0x1cd8('0x284')},'BuildingTheme':{'Dark':_0x1cd8('0x285'),'Light':'light','Technology':_0x1cd8('0x286'),'None':_0x1cd8('0x287')},'RoadTheme':{'Style1':_0x1cd8('0x288'),'Style2':_0x1cd8('0x289')}},_0x2865f7['ESTileConstant']={'BuildingTheme':{'Dark':_0x1cd8('0x285'),'Light':'light','Technology':'technology','None':_0x1cd8('0x287')},'TileTheme':{'Night':_0x1cd8('0x28a'),'Day':_0x1cd8('0x28b')},'RoadTheme':{'Style1':_0x1cd8('0x288'),'Style2':_0x1cd8('0x289')}},_0x2865f7['ESParkConstant']={'BuildingTheme':{'Dark':_0x1cd8('0x285'),'Light':'light','Technology':'technology','None':_0x1cd8('0x287')},'RoadTheme':{'Style1':_0x1cd8('0x288'),'Style2':_0x1cd8('0x289')}},_0x2865f7[_0x1cd8('0x274')]={'NoFace':_0x1cd8('0x28c'),'LineFrame':_0x1cd8('0x28d'),'BlendingAdditive':_0x1cd8('0x28e')},_0x2865f7['ESEffectsConstant']={'Buildings':0x1,'Floors':0x2,'Ground':0x3,'Lights':0x4,'Routes':0x5,'Skybox':0x6,'Water':0x7,'Models':0x8,'PostProcessing':0x9,'Shadow':0xa,'Fog':0xb};},function(_0x140122,_0x2fcab1,_0x1d6bcd){'use strict';var _0x429c85=_0x1d6bcd(0x5),_0x5eb090=_0x1d6bcd(0x2),_0x46e361=_0x1d6bcd(0x8),_0x34672a=_0x1d6bcd(0x7),_0x59f76a=_0x1d6bcd(0x6)(_0x1cd8('0x28f'));_0x140122[_0x1cd8('0x0')]=function(_0x140122){_0x140122=(_0x1cd8('0x12')==typeof _0x5eb090[_0x140122]?_0x5eb090:_0x429c85)[_0x140122];_0x34672a&&_0x140122&&!_0x140122[_0x59f76a]&&_0x46e361['f'](_0x140122,_0x59f76a,{'configurable':!0x0,'get':function(){return this;}});};},function(_0x3149ed,_0x3fc5d0,_0x4734f1){_0x4734f1(0x65),_0x3149ed[_0x1cd8('0x0')]=_0x4734f1(0x2)[_0x1cd8('0x84')][_0x1cd8('0x1f')];},function(_0x36bb73,_0x1b0e34,_0x37146c){var _0x7ca17=_0x37146c(0x12),_0x201175=_0x37146c(0x14);_0x37146c(0x47)(_0x1cd8('0x1f'),function(){return function(_0x36bb73){return _0x201175(_0x7ca17(_0x36bb73));};});},function(_0x63f5b1,_0x5846c0,_0x2daad1){_0x63f5b1[_0x1cd8('0x0')]={'default':_0x2daad1(0x67),'__esModule':!0x0};},function(_0x251151,_0x19e374,_0x184a89){_0x184a89(0x68),_0x251151[_0x1cd8('0x0')]=_0x184a89(0x2)[_0x1cd8('0x84')][_0x1cd8('0x290')];},function(_0x24627f,_0x141253,_0x708bc8){var _0x1ccecc=_0x708bc8(0x3);_0x1ccecc(_0x1ccecc['S']+_0x1ccecc['F'],_0x1cd8('0x84'),{'assign':_0x708bc8(0x69)});},function(_0x3b5cd2,_0x470dcc,_0x520fb3){'use strict';var _0x3ce52d=_0x520fb3(0x7),_0x1cecc5=_0x520fb3(0x14),_0xb06572=_0x520fb3(0x2d),_0x14b9f8=_0x520fb3(0x1c),_0xe502a9=_0x520fb3(0x12),_0x5bdde7=_0x520fb3(0x2e),_0x4e760d=Object['assign'];_0x3b5cd2[_0x1cd8('0x0')]=!_0x4e760d||_0x520fb3(0xd)(function(){var _0x3b5cd2={},_0x470dcc={},_0x520fb3=Symbol(),_0xd32d16=_0x1cd8('0x291');return _0x3b5cd2[_0x520fb3]=0x7,_0xd32d16[_0x1cd8('0x87')]('')['forEach'](function(_0x3b5cd2){_0x470dcc[_0x3b5cd2]=_0x3b5cd2;}),0x7!=_0x4e760d({},_0x3b5cd2)[_0x520fb3]||Object[_0x1cd8('0x1f')](_0x4e760d({},_0x470dcc))['join']('')!=_0xd32d16;})?function(_0x3b5cd2,_0x470dcc){for(var _0x520fb3=_0xe502a9(_0x3b5cd2),_0x32be0b=arguments[_0x1cd8('0xc')],_0x4e760d=0x1,_0x402e51=_0xb06572['f'],_0x1f0a38=_0x14b9f8['f'];_0x4e760d<_0x32be0b;)for(var _0x1f210a,_0x21deef=_0x5bdde7(arguments[_0x4e760d++]),_0x1f4cdb=_0x402e51?_0x1cecc5(_0x21deef)[_0x1cd8('0x22')](_0x402e51(_0x21deef)):_0x1cecc5(_0x21deef),_0x1eeff7=_0x1f4cdb[_0x1cd8('0xc')],_0x1006ba=0x0;_0x1006ba<_0x1eeff7;)_0x1f210a=_0x1f4cdb[_0x1006ba++],_0x3ce52d&&!_0x1f0a38[_0x1cd8('0x1')](_0x21deef,_0x1f210a)||(_0x520fb3[_0x1f210a]=_0x21deef[_0x1f210a]);return _0x520fb3;}:_0x4e760d;},function(_0x4a12b6,_0x2a5e3e,_0x3105a1){var _0x2c8d07=_0x3105a1(0xa);_0x4a12b6['exports']=function(_0x2a5e3e,_0x4a12b6,_0x3105a1,_0x50324a){try{return _0x50324a?_0x4a12b6(_0x2c8d07(_0x3105a1)[0x0],_0x3105a1[0x1]):_0x4a12b6(_0x3105a1);}catch(_0x5b0c48){_0x50324a=_0x2a5e3e[_0x1cd8('0xa1')];throw void 0x0!==_0x50324a&&_0x2c8d07(_0x50324a['call'](_0x2a5e3e)),_0x5b0c48;}};},function(_0x2de2ef,_0x5bf4bb,_0x18ff42){var _0x427648=_0x18ff42(0x11),_0x4d59f6=_0x18ff42(0x6)(_0x1cd8('0x93')),_0x581d0b=Array[_0x1cd8('0x11')];_0x2de2ef[_0x1cd8('0x0')]=function(_0x2de2ef){return void 0x0!==_0x2de2ef&&(_0x427648[_0x1cd8('0x5e')]===_0x2de2ef||_0x581d0b[_0x4d59f6]===_0x2de2ef);};},function(_0x17b2a9,_0x4427a2,_0x1d16a4){_0x1d16a4(0x6d);var _0x25c97a=_0x1d16a4(0x2)['Object'];_0x17b2a9[_0x1cd8('0x0')]=function(_0x17b2a9,_0x4427a2){return _0x25c97a['create'](_0x17b2a9,_0x4427a2);};},function(_0xce4bcc,_0x46b28e,_0x34769b){var _0x5ea6ae=_0x34769b(0x3);_0x5ea6ae(_0x5ea6ae['S'],_0x1cd8('0x84'),{'create':_0x34769b(0x1f)});},function(_0x37ec89,_0x15565c,_0x1614c6){var _0x28eff0=_0x1614c6(0xa),_0x2b5008=_0x1614c6(0x20),_0x232bdf=_0x1614c6(0x6)(_0x1cd8('0x28f'));_0x37ec89[_0x1cd8('0x0')]=function(_0x37ec89,_0x15565c){var _0x37ec89=_0x28eff0(_0x37ec89)[_0x1cd8('0x88')];return void 0x0===_0x37ec89||null==(_0x37ec89=_0x28eff0(_0x37ec89)[_0x232bdf])?_0x15565c:_0x2b5008(_0x37ec89);};},function(_0x3cd7cd,_0x58550b,_0x13e6ab){function _0x4be1b1(){var _0x3cd7cd,_0x58550b=+this;_0x327019['hasOwnProperty'](_0x58550b)&&(_0x3cd7cd=_0x327019[_0x58550b],delete _0x327019[_0x58550b],_0x3cd7cd());}function _0x4da492(_0x3cd7cd){_0x4be1b1[_0x1cd8('0x1')](_0x3cd7cd[_0x1cd8('0x292')]);}var _0x39645c,_0x4f5d5d=_0x13e6ab(0x10),_0x1c8ac8=_0x13e6ab(0x8a),_0x4ed851=_0x13e6ab(0x43),_0x33e68e=_0x13e6ab(0x27),_0x1f5262=_0x13e6ab(0x5),_0x35e4d6=_0x1f5262[_0x1cd8('0x293')],_0x1307ff=_0x1f5262['setImmediate'],_0x206c41=_0x1f5262['clearImmediate'],_0x227694=_0x1f5262[_0x1cd8('0x294')],_0xa4cf6b=_0x1f5262[_0x1cd8('0x295')],_0x288761=0x0,_0x327019={},_0xca128c=_0x1cd8('0x296');_0x1307ff&&_0x206c41||(_0x1307ff=function(_0x3cd7cd){for(var _0x58550b=[],_0x13e6ab=0x1;_0x13e6ab<arguments[_0x1cd8('0xc')];)_0x58550b[_0x1cd8('0x70')](arguments[_0x13e6ab++]);return _0x327019[++_0x288761]=function(){_0x1c8ac8(_0x1cd8('0x12')==typeof _0x3cd7cd?_0x3cd7cd:Function(_0x3cd7cd),_0x58550b);},_0x39645c(_0x288761),_0x288761;},_0x206c41=function(_0x3cd7cd){delete _0x327019[_0x3cd7cd];},'process'==_0x13e6ab(0x16)(_0x35e4d6)?_0x39645c=function(_0x3cd7cd){_0x35e4d6[_0x1cd8('0x297')](_0x4f5d5d(_0x4be1b1,_0x3cd7cd,0x1));}:_0xa4cf6b&&_0xa4cf6b[_0x1cd8('0x298')]?_0x39645c=function(_0x3cd7cd){_0xa4cf6b[_0x1cd8('0x298')](_0x4f5d5d(_0x4be1b1,_0x3cd7cd,0x1));}:_0x227694?(_0x227694=(_0x13e6ab=new _0x227694())[_0x1cd8('0x299')],_0x13e6ab[_0x1cd8('0x29a')][_0x1cd8('0x29b')]=_0x4da492,_0x39645c=_0x4f5d5d(_0x227694[_0x1cd8('0x29c')],_0x227694,0x1)):_0x1f5262[_0x1cd8('0x29d')]&&_0x1cd8('0x12')==typeof postMessage&&!_0x1f5262['importScripts']?(_0x39645c=function(_0x3cd7cd){_0x1f5262[_0x1cd8('0x29c')](_0x3cd7cd+'','*');},_0x1f5262[_0x1cd8('0x29d')]('message',_0x4da492,!0x1)):_0x39645c=_0xca128c in _0x33e68e(_0x1cd8('0x29e'))?function(_0x3cd7cd){_0x4ed851['appendChild'](_0x33e68e(_0x1cd8('0x29e')))[_0xca128c]=function(){_0x4ed851[_0x1cd8('0x29f')](this),_0x4be1b1[_0x1cd8('0x1')](_0x3cd7cd);};}:function(_0x3cd7cd){setTimeout(_0x4f5d5d(_0x4be1b1,_0x3cd7cd,0x1),0x0);}),_0x3cd7cd['exports']={'set':_0x1307ff,'clear':_0x206c41};},function(_0x127270,_0x4c9f23){_0x127270[_0x1cd8('0x0')]=function(_0x127270){try{return{'e':!0x1,'v':_0x127270()};}catch(_0x5637d3){return{'e':!0x0,'v':_0x5637d3};}};},function(_0x480aab,_0x103764,_0x12176d){var _0x565b2b=_0x12176d(0xa),_0x521cb2=_0x12176d(0x9),_0x186203=_0x12176d(0x55);_0x480aab[_0x1cd8('0x0')]=function(_0x480aab,_0x103764){if(_0x565b2b(_0x480aab),_0x521cb2(_0x103764)&&_0x103764[_0x1cd8('0x88')]===_0x480aab)return _0x103764;_0x480aab=_0x186203['f'](_0x480aab);return(0x0,_0x480aab[_0x1cd8('0xe8')])(_0x103764),_0x480aab['promise'];};},function(_0x185c9e,_0x1a5738,_0x1e719e){'use strict';Object[_0x1cd8('0x4')](_0x1a5738,_0x1cd8('0x6'),{'value':!0x0}),_0x1a5738[_0x1cd8('0x2a0')]=_0x1a5738[_0x1cd8('0x2a1')]=_0x1a5738[_0x1cd8('0x2a2')]=void 0x0;var _0x1e719e=_0x1e719e(0x39),_0x124864=_0x1e719e&&_0x1e719e[_0x1cd8('0x6')]?_0x1e719e:{'default':_0x1e719e};_0x1a5738[_0x1cd8('0x2a2')]=function(_0x185c9e){return new _0x124864[(_0x1cd8('0xa'))](function(_0x1a5738,_0x1e719e){new THREE[(_0x1cd8('0x2a3'))]()[_0x1cd8('0x9d')](_0x185c9e,function(_0x185c9e){_0x1a5738(JSON[_0x1cd8('0x2a4')](_0x185c9e));},null,function(_0x185c9e){_0x1e719e(_0x185c9e);});});},_0x1a5738['requestEffectThemeConfig']=function(_0x185c9e){return new _0x124864['default'](function(_0x1a5738,_0x1e719e){new THREE[(_0x1cd8('0x2a3'))]()[_0x1cd8('0x9d')](_0x185c9e+_0x1cd8('0x2a5'),function(_0x185c9e){_0x1a5738(JSON[_0x1cd8('0x2a4')](_0x185c9e));},null,function(_0x185c9e){console[_0x1cd8('0xf0')](_0x1cd8('0x2a6')),_0x1e719e(_0x185c9e);});});},_0x1a5738['setStandardMaterialParams']=function(_0x185c9e,_0x1a5738){void 0x0!==_0x1a5738[_0x1cd8('0x2a7')]&&(_0x185c9e[_0x1cd8('0x2a7')]=_0x1a5738[_0x1cd8('0x2a7')]),void 0x0!==_0x1a5738[_0x1cd8('0x2a8')]&&(_0x185c9e[_0x1cd8('0x2a8')]=_0x1a5738[_0x1cd8('0x2a8')]),void 0x0!==_0x1a5738[_0x1cd8('0x2a9')]&&(_0x185c9e[_0x1cd8('0x2aa')]=_0x1a5738[_0x1cd8('0x2a9')]),_0x1a5738[_0x1cd8('0x2ab')];};},function(_0x3e7f92,_0x2fe543,_0x43a4d5){var _0x2d755c=_0x43a4d5(0x6)('iterator'),_0x45e510=!0x1;try{var _0x51345c=[0x7][_0x2d755c]();_0x51345c[_0x1cd8('0xa1')]=function(){_0x45e510=!0x0;},Array[_0x1cd8('0x2ac')](_0x51345c,function(){throw 0x2;});}catch(_0x3aba59){}_0x3e7f92['exports']=function(_0x3e7f92,_0x2fe543){if(!_0x2fe543&&!_0x45e510)return!0x1;var _0x43a4d5=!0x1;try{var _0x51345c=[0x7],_0x205b36=_0x51345c[_0x2d755c]();_0x205b36[_0x1cd8('0x7e')]=function(){return{'done':_0x43a4d5=!0x0};},_0x51345c[_0x2d755c]=function(){return _0x205b36;},_0x3e7f92(_0x51345c);}catch(_0x52ecb8){}return _0x43a4d5;};},function(_0x372b7b,_0x3059e0,_0x41876c){'use strict';Object[_0x1cd8('0x4')](_0x3059e0,'__esModule',{'value':!0x0});var _0x1f9f29=_0x484b65(_0x41876c(0xa6)),_0x5ec486=_0x484b65(_0x41876c(0x0)),_0x449912=_0x484b65(_0x41876c(0x1)),_0x3dca16=_0x484b65(_0x41876c(0xf));function _0x484b65(_0x372b7b){return _0x372b7b&&_0x372b7b[_0x1cd8('0x6')]?_0x372b7b:{'default':_0x372b7b};}function _0x4c871a(_0x372b7b,_0x3059e0){(0x0,_0x5ec486[_0x1cd8('0xa')])(this,_0x4c871a),this[_0x1cd8('0x2ad')]=_0x372b7b,this[_0x1cd8('0x2ae')]=_0x3059e0,this[_0x1cd8('0x2af')]=!0x1;}(0x0,_0x449912[_0x1cd8('0xa')])(_0x4c871a,[{'key':_0x1cd8('0x2b0'),'value':function(_0x372b7b){var _0x3059e0=_0x372b7b[_0x1cd8('0x230')],_0x41876c=_0x372b7b[_0x1cd8('0x3f')],_0x1f9f29=_0x372b7b[_0x1cd8('0x2b1')],_0x1f9f29=void 0x0===_0x1f9f29?0x3:_0x1f9f29,_0x5ec486=_0x372b7b[_0x1cd8('0x2b2')],_0x5ec486=void 0x0===_0x5ec486?0x5:_0x5ec486,_0x449912=_0x372b7b[_0x1cd8('0x2b3')],_0x484b65=_0x372b7b[_0x1cd8('0x2b4')],_0x4c871a=_0x372b7b[_0x1cd8('0x2b5')];if(esmap[_0x1cd8('0x2b6')]){var _0x372b7b=new THREE[(_0x1cd8('0x57'))](_0x41876c['x'],this[_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['y'],_0x41876c['z'])[_0x1cd8('0x2b8')](this[_0x1cd8('0x2ae')]['target']),_0x3dca16=this[_0x1cd8('0x2ae')][_0x1cd8('0x1c')][_0x1cd8('0x2b9')]-_0x449912,_0x372b7b=Math[_0x1cd8('0x6d')](_0x372b7b/_0x1f9f29),_0x23cca4=Math['floor'](Math[_0x1cd8('0x1c4')](_0x3dca16)/_0x5ec486),_0x1caf02=(_0x23cca4<0x3e8&&(_0x23cca4=0x3e8),_0x372b7b<0x3e8&&(_0x372b7b=0x1),0x0);switch(_0x3059e0){case esmap[_0x1cd8('0x2b6')][_0x1cd8('0x2ba')]:_0x1caf02=179.99;break;case esmap[_0x1cd8('0x2b6')][_0x1cd8('0x2bb')]:_0x1caf02=0.01;break;case esmap[_0x1cd8('0x2b6')][_0x1cd8('0x2bc')]:_0x1caf02=-0x5a;break;case esmap['ESDirection'][_0x1cd8('0x2bd')]:_0x1caf02=0x5a;break;case esmap[_0x1cd8('0x2b6')][_0x1cd8('0x2be')]:_0x1caf02=0x87;break;case esmap['ESDirection'][_0x1cd8('0x2bf')]:_0x1caf02=-0x87;break;case esmap[_0x1cd8('0x2b6')][_0x1cd8('0x2c0')]:_0x1caf02=0x2d;break;case esmap[_0x1cd8('0x2b6')][_0x1cd8('0x2c1')]:_0x1caf02=-0x2d;}var _0x5963a5=this;this[_0x1cd8('0x2ae')][_0x1cd8('0x2c2')]({'x':-_0x41876c['x'],'y':_0x41876c['z'],'callback':function(){_0x5963a5[_0x1cd8('0x2ae')][_0x1cd8('0x2c3')]({'thetaAngle':_0x1caf02,'phiAngle':_0x484b65},_0x449912,_0x23cca4,_0x4c871a);},'time':_0x372b7b});}else console[_0x1cd8('0x1fe')](_0x1cd8('0x2c4'));}},{'key':_0x1cd8('0x2c5'),'value':function(_0x372b7b,_0x3059e0){var _0x41876c=0x1+0x32/(0x0,_0x1f9f29['default'])(_0x372b7b['x'],_0x372b7b['y'],_0x372b7b['z']);this['cameraPosition']({'x':_0x372b7b['x']*_0x41876c,'y':_0x372b7b['y']*_0x41876c,'z':_0x372b7b['z']*_0x41876c},_0x372b7b,_0x3059e0||0xbb8);}},{'key':_0x1cd8('0x2c6'),'value':function(_0x372b7b){var _0x3059e0,_0x41876c=_0x372b7b[_0x1cd8('0x2c7')],_0x1f9f29=_0x372b7b[_0x1cd8('0x226')],_0x5ec486=_0x372b7b[_0x1cd8('0x2b4')],_0x5ec486=void 0x0===_0x5ec486?0x2d:_0x5ec486,_0x449912=_0x372b7b[_0x1cd8('0x2c8')],_0x449912=void 0x0===_0x449912?0x0:_0x449912,_0x484b65=_0x372b7b[_0x1cd8('0x2c9')],_0x484b65=void 0x0===_0x484b65?0x3:_0x484b65,_0x4c871a=_0x372b7b['callback'],_0x372b7b=_0x372b7b[_0x1cd8('0x2ca')];if(!this['isFlying'])return this['toggleControlsLock'](!0x0),_0x5ec486=0x0<=0x5a-_0x5ec486&&0x5a-_0x5ec486<0x5a?0x5a-_0x5ec486:0x2d,_0x3059e0=_0x1f9f29*Math[_0x1cd8('0x58')](THREE[_0x1cd8('0x15')]['degToRad'](_0x5ec486)),_0x1f9f29=_0x1f9f29*Math['cos'](THREE[_0x1cd8('0x15')][_0x1cd8('0x2cb')](_0x5ec486)),_0x5ec486=new THREE['Vector2'](0x0,0x0),_0x1f9f29=new THREE[(_0x1cd8('0x1c0'))](_0x1f9f29,0x0)['rotateAround'](_0x5ec486,THREE[_0x1cd8('0x15')][_0x1cd8('0x2cb')](_0x449912-0x5a)),_0x5ec486=new THREE[(_0x1cd8('0x57'))](_0x41876c['x']+_0x1f9f29['x'],_0x41876c['y']+_0x3059e0,_0x41876c['z']+_0x1f9f29['y']),this[_0x1cd8('0x2cc')]({'x':_0x5ec486['x'],'y':_0x5ec486['y'],'z':_0x5ec486['z']},_0x41876c,0x3e8*_0x484b65,_0x4c871a,_0x372b7b),_0x5ec486;}},{'key':_0x1cd8('0x2cc'),'value':function(_0x372b7b,_0x3059e0,_0x41876c,_0x1f9f29,_0x449912){var _0x5ec486,_0x484b65=this[_0x1cd8('0x2ae')]['object'],_0x4c871a=this;_0x372b7b&&(_0x372b7b=_0x372b7b,_0x3059e0=_0x3059e0||{'x':0x0,'y':0x0,'z':0x0},_0x484b65=(0x0,_0x3dca16['default'])({},_0x484b65[_0x1cd8('0x3f')]),_0x5ec486=_0x4c871a[_0x1cd8('0x2ae')]['target'][_0x1cd8('0x1bb')](),new TWEEN[(_0x1cd8('0x2cd'))](_0x484b65)['to'](_0x372b7b,_0x41876c)[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x2d0')]['Out'])['onStart'](function(){_0x449912&&_0x449912[_0x1cd8('0x2d1')]&&_0x449912[_0x1cd8('0x2d1')]();})[_0x1cd8('0x2d2')](function(_0x372b7b){var _0x3059e0=_0x4c871a['controls'],_0x41876c=_0x3059e0[_0x1cd8('0x1c')],_0x1f9f29=_0x372b7b['x'],_0x5ec486=_0x372b7b['y'],_0x372b7b=_0x372b7b['z'];void 0x0!==_0x1f9f29&&(_0x41876c[_0x1cd8('0x3f')]['x']=_0x1f9f29),void 0x0!==_0x5ec486&&(_0x41876c['position']['y']=_0x5ec486),void 0x0!==_0x372b7b&&(_0x41876c['position']['z']=_0x372b7b),_0x3059e0[_0x1cd8('0x2d3')](),_0x449912&&_0x449912['update']&&_0x449912[_0x1cd8('0x2d3')]();})[_0x1cd8('0x2d4')](function(){_0x4c871a[_0x1cd8('0x2d5')](!0x1),_0x1f9f29&&_0x1f9f29(),_0x4c871a[_0x1cd8('0x2ae')][_0x1cd8('0x2d6')]&&_0x4c871a[_0x1cd8('0x2ae')][_0x1cd8('0x2d6')](),_0x449912&&(_0x4c871a[_0x1cd8('0x2ae')][_0x1cd8('0x2d7')](_0x5ec486),_0x449912['complete']&&_0x449912['complete']());})[_0x1cd8('0x2d1')](),new TWEEN[(_0x1cd8('0x2cd'))](_0x5ec486)['to'](_0x3059e0,_0x41876c/0x3)['easing'](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x2d0')][_0x1cd8('0x2d8')])[_0x1cd8('0x2d2')](function(_0x372b7b){var _0x3059e0;(_0x3059e0=_0x4c871a[_0x1cd8('0x2ae')])[_0x1cd8('0x2b7')][_0x1cd8('0x1b')](_0x372b7b['x'],_0x372b7b['y'],_0x372b7b['z']),_0x3059e0[_0x1cd8('0x2d3')]();})[_0x1cd8('0x2d1')]());}},{'key':'toggleControlsLock','value':function(_0x372b7b){this[_0x1cd8('0x2af')]=_0x372b7b,this[_0x1cd8('0x2ae')][_0x1cd8('0x2d9')]=!_0x372b7b,this[_0x1cd8('0x2ae')][_0x1cd8('0x2da')]=!_0x372b7b,this[_0x1cd8('0x2ae')]['enableZoom']=!_0x372b7b;}}]),_0x3059e0[_0x1cd8('0xa')]=_0x4c871a;},function(_0xf93a9d,_0x2332c4,_0x597afd){_0xf93a9d['exports']={'default':_0x597afd(0x76),'__esModule':!0x0};},function(_0x251430,_0x3f419b,_0xd67c1d){_0xd67c1d(0x77),_0x251430['exports']=_0xd67c1d(0x2)['Object'][_0x1cd8('0x2db')];},function(_0x55b71d,_0x40206c,_0x49603e){var _0xc943ad=_0x49603e(0x3);_0xc943ad(_0xc943ad['S'],_0x1cd8('0x84'),{'setPrototypeOf':_0x49603e(0x78)[_0x1cd8('0x1b')]});},function(_0x3b2a3a,_0x5c66d0,_0x470ee6){function _0x2ce15f(_0x3b2a3a,_0x5c66d0){if(_0x5da7cb(_0x3b2a3a),!_0xb96049(_0x5c66d0)&&null!==_0x5c66d0)throw TypeError(_0x5c66d0+_0x1cd8('0x2dc'));}var _0xb96049=_0x470ee6(0x9),_0x5da7cb=_0x470ee6(0xa);_0x3b2a3a[_0x1cd8('0x0')]={'set':Object[_0x1cd8('0x2db')]||(_0x1cd8('0x8c')in{}?function(_0x3b2a3a,_0xb96049,_0x5da7cb){try{(_0x5da7cb=_0x470ee6(0x10)(Function['call'],_0x470ee6(0x40)['f'](Object[_0x1cd8('0x11')],'__proto__')[_0x1cd8('0x1b')],0x2))(_0x3b2a3a,[]),_0xb96049=!(_0x3b2a3a instanceof Array);}catch(_0x4e436e){_0xb96049=!0x0;}return function(_0x3b2a3a,_0x5c66d0){return _0x2ce15f(_0x3b2a3a,_0x5c66d0),_0xb96049?_0x3b2a3a[_0x1cd8('0x8c')]=_0x5c66d0:_0x5da7cb(_0x3b2a3a,_0x5c66d0),_0x3b2a3a;};}({},!0x1):void 0x0),'check':_0x2ce15f};},function(_0xd83004,_0x188f4d,_0x4b8aeb){var _0x4b8aeb=_0x4b8aeb(0x2),_0x4a6182=_0x4b8aeb[_0x1cd8('0x265')]||(_0x4b8aeb[_0x1cd8('0x265')]={'stringify':JSON[_0x1cd8('0x266')]});_0xd83004[_0x1cd8('0x0')]=function(_0xd83004){return _0x4a6182[_0x1cd8('0x266')][_0x1cd8('0x13')](_0x4a6182,arguments);};},function(_0x55d064,_0x5c3352,_0x36f7fc){'use strict';function _0x594636(_0x55d064,_0x5c3352){var _0x36f7fc,_0x35ca67=_0x6bbf80(_0x5c3352);if('F'!==_0x35ca67)return _0x55d064['_i'][_0x35ca67];for(_0x36f7fc=_0x55d064['_f'];_0x36f7fc;_0x36f7fc=_0x36f7fc['n'])if(_0x36f7fc['k']==_0x5c3352)return _0x36f7fc;}var _0x1f6561=_0x36f7fc(0x8)['f'],_0x2e5bfa=_0x36f7fc(0x1f),_0x2de21b=_0x36f7fc(0x4a),_0x5d7ba3=_0x36f7fc(0x10),_0xd76281=_0x36f7fc(0x49),_0x521d46=_0x36f7fc(0x33),_0x1c8b43=_0x36f7fc(0x28),_0x4025af=_0x36f7fc(0x42),_0x11211c=_0x36f7fc(0x63),_0x1ef98f=_0x36f7fc(0x7),_0x6bbf80=_0x36f7fc(0x3a)[_0x1cd8('0x2dd')],_0x33b66a=_0x36f7fc(0x61),_0x5c0354=_0x1ef98f?'_s':_0x1cd8('0xeb');_0x55d064[_0x1cd8('0x0')]={'getConstructor':function(_0x55d064,_0x4025af,_0x36f7fc,_0x1c8b43){var _0x11211c=_0x55d064(function(_0x55d064,_0x5c3352){_0xd76281(_0x55d064,_0x11211c,_0x4025af,'_i'),_0x55d064['_t']=_0x4025af,_0x55d064['_i']=_0x2e5bfa(null),_0x55d064['_f']=void 0x0,_0x55d064['_l']=void 0x0,_0x55d064[_0x5c0354]=0x0,null!=_0x5c3352&&_0x521d46(_0x5c3352,_0x36f7fc,_0x55d064[_0x1c8b43],_0x55d064);});return _0x2de21b(_0x11211c[_0x1cd8('0x11')],{'clear':function(){for(var _0x55d064=_0x33b66a(this,_0x4025af),_0x5c3352=_0x55d064['_i'],_0x36f7fc=_0x55d064['_f'];_0x36f7fc;_0x36f7fc=_0x36f7fc['n'])_0x36f7fc['r']=!0x0,_0x36f7fc['p']&&(_0x36f7fc['p']=_0x36f7fc['p']['n']=void 0x0),delete _0x5c3352[_0x36f7fc['i']];_0x55d064['_f']=_0x55d064['_l']=void 0x0,_0x55d064[_0x5c0354]=0x0;},'delete':function(_0x55d064){var _0x5c3352,_0x36f7fc,_0x1c8b43=_0x33b66a(this,_0x4025af),_0x55d064=_0x594636(_0x1c8b43,_0x55d064);return _0x55d064&&(_0x5c3352=_0x55d064['n'],_0x36f7fc=_0x55d064['p'],delete _0x1c8b43['_i'][_0x55d064['i']],_0x55d064['r']=!0x0,_0x36f7fc&&(_0x36f7fc['n']=_0x5c3352),_0x5c3352&&(_0x5c3352['p']=_0x36f7fc),_0x1c8b43['_f']==_0x55d064&&(_0x1c8b43['_f']=_0x5c3352),_0x1c8b43['_l']==_0x55d064&&(_0x1c8b43['_l']=_0x36f7fc),_0x1c8b43[_0x5c0354]--),!!_0x55d064;},'forEach':function(_0x55d064){_0x33b66a(this,_0x4025af);for(var _0x5c3352,_0x36f7fc=_0x5d7ba3(_0x55d064,0x1<arguments['length']?arguments[0x1]:void 0x0,0x3);_0x5c3352=_0x5c3352?_0x5c3352['n']:this['_f'];)for(_0x36f7fc(_0x5c3352['v'],_0x5c3352['k'],this);_0x5c3352&&_0x5c3352['r'];)_0x5c3352=_0x5c3352['p'];},'has':function(_0x55d064){return!!_0x594636(_0x33b66a(this,_0x4025af),_0x55d064);}}),_0x1ef98f&&_0x1f6561(_0x11211c[_0x1cd8('0x11')],_0x1cd8('0xeb'),{'get':function(){return _0x33b66a(this,_0x4025af)[_0x5c0354];}}),_0x11211c;},'def':function(_0x55d064,_0x5c3352,_0x36f7fc){var _0x1c8b43,_0x4025af=_0x594636(_0x55d064,_0x5c3352);return _0x4025af?_0x4025af['v']=_0x36f7fc:(_0x55d064['_l']=_0x4025af={'i':_0x1c8b43=_0x6bbf80(_0x5c3352,!0x0),'k':_0x5c3352,'v':_0x36f7fc,'p':_0x5c3352=_0x55d064['_l'],'n':void 0x0,'r':!0x1},_0x55d064['_f']||(_0x55d064['_f']=_0x4025af),_0x5c3352&&(_0x5c3352['n']=_0x4025af),_0x55d064[_0x5c0354]++,'F'!==_0x1c8b43&&(_0x55d064['_i'][_0x1c8b43]=_0x4025af)),_0x55d064;},'getEntry':_0x594636,'setStrong':function(_0x55d064,_0x36f7fc,_0x5c3352){_0x1c8b43(_0x55d064,_0x36f7fc,function(_0x55d064,_0x5c3352){this['_t']=_0x33b66a(_0x55d064,_0x36f7fc),this['_k']=_0x5c3352,this['_l']=void 0x0;},function(){for(var _0x55d064=this,_0x5c3352=_0x55d064['_k'],_0x36f7fc=_0x55d064['_l'];_0x36f7fc&&_0x36f7fc['r'];)_0x36f7fc=_0x36f7fc['p'];return _0x55d064['_t']&&(_0x55d064['_l']=_0x36f7fc=_0x36f7fc?_0x36f7fc['n']:_0x55d064['_t']['_f'])?_0x4025af(0x0,_0x1cd8('0x1f')==_0x5c3352?_0x36f7fc['k']:_0x1cd8('0x7a')==_0x5c3352?_0x36f7fc['v']:[_0x36f7fc['k'],_0x36f7fc['v']]):(_0x55d064['_t']=void 0x0,_0x4025af(0x1));},_0x5c3352?'entries':_0x1cd8('0x7a'),!_0x5c3352,!0x0),_0x11211c(_0x36f7fc);}};},function(_0x4a2eaa,_0x33b196,_0x431fa0){'use strict';var _0x25443f=_0x431fa0(0x5),_0x17c67d=_0x431fa0(0x3),_0x44b6c6=_0x431fa0(0x3a),_0x51f30e=_0x431fa0(0xd),_0x8c854b=_0x431fa0(0xb),_0x46b29e=_0x431fa0(0x4a),_0x113942=_0x431fa0(0x33),_0x5e6dcf=_0x431fa0(0x49),_0x40c437=_0x431fa0(0x9),_0x439f94=_0x431fa0(0x17),_0x169da8=_0x431fa0(0x8)['f'],_0x3af3ee=_0x431fa0(0x91)(0x0),_0x26c429=_0x431fa0(0x7);_0x4a2eaa['exports']=function(_0x431fa0,_0x4a2eaa,_0x33b196,_0x122aef,_0x1f2752,_0x381f38){var _0x26602f=_0x25443f[_0x431fa0],_0x17893b=_0x26602f,_0x14ca49=_0x1f2752?'set':_0x1cd8('0x1cd'),_0x426600=_0x17893b&&_0x17893b[_0x1cd8('0x11')],_0x42b141={};return _0x26c429&&_0x1cd8('0x12')==typeof _0x17893b&&(_0x381f38||_0x426600[_0x1cd8('0x2de')]&&!_0x51f30e(function(){new _0x17893b()[_0x1cd8('0x7d')]()['next']();}))?(_0x17893b=_0x4a2eaa(function(_0x4a2eaa,_0x33b196){_0x5e6dcf(_0x4a2eaa,_0x17893b,_0x431fa0,'_c'),_0x4a2eaa['_c']=new _0x26602f(),null!=_0x33b196&&_0x113942(_0x33b196,_0x1f2752,_0x4a2eaa[_0x14ca49],_0x4a2eaa);}),_0x3af3ee('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'[_0x1cd8('0x87')](','),function(_0x431fa0){var _0x122aef=_0x1cd8('0x1cd')==_0x431fa0||_0x1cd8('0x1b')==_0x431fa0;_0x431fa0 in _0x426600&&(!_0x381f38||_0x1cd8('0x2df')!=_0x431fa0)&&_0x8c854b(_0x17893b[_0x1cd8('0x11')],_0x431fa0,function(_0x4a2eaa,_0x33b196){if(_0x5e6dcf(this,_0x17893b,_0x431fa0),!_0x122aef&&_0x381f38&&!_0x40c437(_0x4a2eaa))return _0x1cd8('0x1a')==_0x431fa0&&void 0x0;_0x4a2eaa=this['_c'][_0x431fa0](0x0===_0x4a2eaa?0x0:_0x4a2eaa,_0x33b196);return _0x122aef?this:_0x4a2eaa;});}),_0x381f38||_0x169da8(_0x17893b[_0x1cd8('0x11')],_0x1cd8('0xeb'),{'get':function(){return this['_c'][_0x1cd8('0xeb')];}})):(_0x17893b=_0x122aef['getConstructor'](_0x4a2eaa,_0x431fa0,_0x1f2752,_0x14ca49),_0x46b29e(_0x17893b[_0x1cd8('0x11')],_0x33b196),_0x44b6c6[_0x1cd8('0x96')]=!0x0),_0x439f94(_0x17893b,_0x431fa0),_0x42b141[_0x431fa0]=_0x17893b,_0x17c67d(_0x17c67d['G']+_0x17c67d['W']+_0x17c67d['F'],_0x42b141),_0x381f38||_0x122aef[_0x1cd8('0x2e0')](_0x17893b,_0x431fa0,_0x1f2752),_0x17893b;};},function(_0x8e36d6,_0x25efe1,_0x3752e2){var _0x130f69=_0x3752e2(0x2c),_0x464490=_0x3752e2(0x95);_0x8e36d6[_0x1cd8('0x0')]=function(_0x8e36d6){return function(){if(_0x130f69(this)!=_0x8e36d6)throw TypeError(_0x8e36d6+_0x1cd8('0x2e1'));return _0x464490(this);};};},function(_0x5a8ecb,_0x4fee1d,_0x481378){'use strict';var _0x32667d=_0x481378(0x3);_0x5a8ecb['exports']=function(_0x5a8ecb){_0x32667d(_0x32667d['S'],_0x5a8ecb,{'of':function(){for(var _0x5a8ecb=arguments[_0x1cd8('0xc')],_0x4fee1d=new Array(_0x5a8ecb);_0x5a8ecb--;)_0x4fee1d[_0x5a8ecb]=arguments[_0x5a8ecb];return new this(_0x4fee1d);}});};},function(_0x2a49dd,_0x3072e7,_0x349ac8){'use strict';var _0x31775f=_0x349ac8(0x3),_0x3df5ec=_0x349ac8(0x20),_0x2971df=_0x349ac8(0x10),_0x6ba78c=_0x349ac8(0x33);_0x2a49dd[_0x1cd8('0x0')]=function(_0x2a49dd){_0x31775f(_0x31775f['S'],_0x2a49dd,{'from':function(_0x2a49dd){var _0x3072e7,_0x349ac8,_0x31775f,_0x4cf552,_0x439519=arguments[0x1];return _0x3df5ec(this),(_0x3072e7=void 0x0!==_0x439519)&&_0x3df5ec(_0x439519),null==_0x2a49dd?new this():(_0x349ac8=[],_0x3072e7?(_0x31775f=0x0,_0x4cf552=_0x2971df(_0x439519,arguments[0x2],0x2),_0x6ba78c(_0x2a49dd,!0x1,function(_0x2a49dd){_0x349ac8['push'](_0x4cf552(_0x2a49dd,_0x31775f++));})):_0x6ba78c(_0x2a49dd,!0x1,_0x349ac8[_0x1cd8('0x70')],_0x349ac8),new this(_0x349ac8));}});};},function(_0x24a319,_0xb1aa0f,_0x22fa5d){_0x22fa5d(0x80);var _0x2dd16d=_0x22fa5d(0x2)[_0x1cd8('0x84')];_0x24a319[_0x1cd8('0x0')]=function(_0x24a319,_0xb1aa0f){return _0x2dd16d[_0x1cd8('0xa6')](_0x24a319,_0xb1aa0f);};},function(_0x6e04f1,_0x49943d,_0x353cd1){var _0x37f529=_0x353cd1(0x3);_0x37f529(_0x37f529['S']+_0x37f529['F']*!_0x353cd1(0x7),_0x1cd8('0x84'),{'defineProperties':_0x353cd1(0x3d)});},function(_0x21d83c,_0x53829b,_0x378a57){'use strict';Object[_0x1cd8('0x4')](_0x53829b,_0x1cd8('0x6'),{'value':!0x0});var _0xcf4650=_0x1c9aee(_0x378a57(0x0));function _0x1c9aee(_0x21d83c){return _0x21d83c&&_0x21d83c[_0x1cd8('0x6')]?_0x21d83c:{'default':_0x21d83c};}function _0x3ee2dd(_0x21d83c){var _0x53829b=_0x21d83c[_0x1cd8('0x2e2')],_0x378a57=_0x21d83c[_0x1cd8('0x2e3')],_0x378a57=void 0x0===_0x378a57?0x100:_0x378a57,_0x1c9aee=_0x21d83c['imageHeight'],_0x1c9aee=void 0x0===_0x1c9aee?0x100:_0x1c9aee,_0xcc4a5d=_0x21d83c['xCount'],_0xcc4a5d=void 0x0===_0xcc4a5d?0x1:_0xcc4a5d,_0x39b309=_0x21d83c[_0x1cd8('0x2e4')],_0x39b309=void 0x0===_0x39b309?0x1:_0x39b309,_0x21d83c=_0x21d83c[_0x1cd8('0x2e5')],_0x21d83c=void 0x0===_0x21d83c?0xc:_0x21d83c;(0x0,_0xcf4650[_0x1cd8('0xa')])(this,_0x3ee2dd),this[_0x1cd8('0x2e2')]=_0x53829b,this['imageWidth']=_0x378a57,this[_0x1cd8('0x2e6')]=_0x1c9aee,this[_0x1cd8('0x2e7')]=_0x378a57/_0xcc4a5d,this['ySize']=_0x1c9aee/_0x39b309,this[_0x1cd8('0x2e8')]=_0xcc4a5d,this[_0x1cd8('0x2e4')]=_0x39b309,this[_0x1cd8('0x2e5')]=_0x21d83c,this['xIndex']=0x0,this[_0x1cd8('0x2e9')]=0x0,this[_0x1cd8('0x9f')]=null;}(0x0,_0x1c9aee(_0x378a57(0x1))[_0x1cd8('0xa')])(_0x3ee2dd,[{'key':'create','value':function(_0x21d83c,_0x53829b){this[_0x1cd8('0x9f')]=_0x21d83c,_0x53829b&&(this['texture']['repeat']['x']=0x1/this[_0x1cd8('0x2e8')],this[_0x1cd8('0x9f')][_0x1cd8('0x2ea')]['y']=0x1/this[_0x1cd8('0x2e4')]),this[_0x1cd8('0x9f')][_0x1cd8('0x10b')]=!0x0;}},{'key':_0x1cd8('0x2d3'),'value':function(){var _0x21d83c,_0x53829b;this[_0x1cd8('0x2e2')]&&this['texture']&&(_0x53829b=this[_0x1cd8('0x2e2')]['getElapsedTime'](),_0x21d83c=Math[_0x1cd8('0x6d')](_0x53829b*this[_0x1cd8('0x2e5')]%this['xCount']),_0x53829b=Math[_0x1cd8('0x6d')](_0x53829b*this[_0x1cd8('0x2e5')]%this[_0x1cd8('0x2e4')]),0x1===this[_0x1cd8('0x2e8')]?(this[_0x1cd8('0x9f')][_0x1cd8('0x10a')]['x']=0x0,this['texture'][_0x1cd8('0x10a')]['y']=(this[_0x1cd8('0x2e6')]-this[_0x1cd8('0x2eb')]-_0x53829b*this[_0x1cd8('0x2eb')])/this[_0x1cd8('0x2e6')]):_0x21d83c!=this[_0x1cd8('0x2ec')]&&(this[_0x1cd8('0x2ec')]=_0x21d83c,0x0==this[_0x1cd8('0x2ec')]&&(this[_0x1cd8('0x2e9')]++,this[_0x1cd8('0x2e9')]==this['yCount']&&(this[_0x1cd8('0x2e9')]=0x0)),this[_0x1cd8('0x9f')][_0x1cd8('0x10a')]['x']=this[_0x1cd8('0x2ec')]*this[_0x1cd8('0x2e7')]/this[_0x1cd8('0x2e3')],this[_0x1cd8('0x9f')][_0x1cd8('0x10a')]['y']=(this[_0x1cd8('0x2e6')]-this['ySize']-this[_0x1cd8('0x2e9')]*this[_0x1cd8('0x2eb')])/this['imageHeight']));}}]),_0x53829b[_0x1cd8('0xa')]=_0x3ee2dd;},function(_0x29ca7a,_0x78594e,_0x131982){'use strict';Object[_0x1cd8('0x4')](_0x78594e,_0x1cd8('0x6'),{'value':!0x0}),_0x78594e[_0x1cd8('0x2ed')]=_0x78594e[_0x1cd8('0x2ee')]=void 0x0;var _0x46a79f=_0x4011cd(_0x131982(0x4)),_0x307674=_0x4011cd(_0x131982(0xf));function _0x4011cd(_0x29ca7a){return _0x29ca7a&&_0x29ca7a[_0x1cd8('0x6')]?_0x29ca7a:{'default':_0x29ca7a};}function _0x442cfe(_0x29ca7a){for(var _0x78594e=0x0,_0x131982=_0x29ca7a['length'];_0x78594e<_0x131982;_0x78594e++)_0x29ca7a[_0x78594e]['_index']=_0x78594e;}function _0x21673f(_0x29ca7a,_0x78594e){for(var _0x131982=[],_0x4011cd=0x0,_0x2e5a20=0x0,_0x37d37a=_0x29ca7a['length'];_0x2e5a20<_0x37d37a-0x1;_0x2e5a20++)_0x4011cd+=_0x29ca7a[_0x2e5a20]['distanceTo'](_0x29ca7a[_0x2e5a20+0x1]);for(var _0x39ab57=0x1,_0x1fce1b=Math[_0x1cd8('0x6d')](_0x4011cd/_0x78594e);_0x39ab57<=_0x1fce1b;_0x39ab57++){var _0x1a9064=function(_0x29ca7a,_0x78594e){if(_0x29ca7a){if(0x0==_0x78594e)return _0x29ca7a[0x0];for(var _0x131982,_0x4011cd,_0x2e5a20=0x0,_0x37d37a=0x0,_0x39ab57=_0x29ca7a[0x0],_0x1fce1b=0x1;_0x1fce1b<_0x29ca7a[_0x1cd8('0xc')];_0x1fce1b++){if(_0x78594e<=(_0x2e5a20+=(_0x4011cd=(_0x131982=_0x29ca7a[_0x1fce1b])[_0x1cd8('0x1bb')]()[_0x1cd8('0x2ef')](_0x39ab57))[_0x1cd8('0xc')]()))return _0x4011cd[_0x1cd8('0x1cb')](),(_0x4011cd=_0x39ab57['clone']()['add'](_0x4011cd[_0x1cd8('0x1bb')]()[_0x1cd8('0x1cc')](_0x78594e-_0x37d37a)))[_0x1cd8('0x46')]=_0x131982[_0x1cd8('0x2f0')],_0x4011cd;(_0x39ab57=_0x131982[_0x1cd8('0x1bb')]())[_0x1cd8('0x46')]=_0x131982[_0x1cd8('0x2f0')],_0x37d37a=_0x2e5a20;}var _0x1a9064=(0x0,_0x307674['default'])(new Vector3(),_0x29ca7a[_0x29ca7a[_0x1cd8('0xc')]-0x1]);return _0x1a9064[_0x1cd8('0x46')]=_0x1a9064[_0x1cd8('0x2f0')],_0x1a9064;}}(_0x29ca7a,_0x39ab57*_0x78594e);_0x131982[_0x1cd8('0x70')](_0x1a9064);}return _0x131982;}_0x78594e[_0x1cd8('0x2ee')]=function(_0x29ca7a,_0x78594e){var _0x131982=[],_0x4011cd=!0x0,_0x3b52a5=!0x1,_0x1d0893=void 0x0;try{for(var _0x478019,_0x3a678a=(0x0,_0x46a79f[_0x1cd8('0xa')])(_0x29ca7a);!(_0x4011cd=(_0x478019=_0x3a678a[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x4011cd=!0x0){var _0x2cbdf5=_0x478019['value'];_0x131982[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](-_0x2cbdf5['x'],_0x2cbdf5[_0x1cd8('0x2f1')],_0x2cbdf5['y']));}}catch(_0x507ff1){_0x3b52a5=!0x0,_0x1d0893=_0x507ff1;}finally{try{!_0x4011cd&&_0x3a678a[_0x1cd8('0xa1')]&&_0x3a678a['return']();}finally{if(_0x3b52a5)throw _0x1d0893;}}return _0x442cfe(_0x131982),_0x21673f(_0x131982,_0x78594e);},_0x78594e['getSegementPoints']=function(_0x29ca7a,_0x78594e){var _0x131982=[],_0x4011cd=!0x0,_0x276060=!0x1,_0x2ca401=void 0x0;try{for(var _0x32b5cd,_0x419f17=(0x0,_0x46a79f[_0x1cd8('0xa')])(_0x29ca7a);!(_0x4011cd=(_0x32b5cd=_0x419f17[_0x1cd8('0x7e')]())['done']);_0x4011cd=!0x0){var _0x3575f9=_0x32b5cd[_0x1cd8('0xf')];_0x131982[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](-_0x3575f9['x'],_0x3575f9[_0x1cd8('0x2f1')],_0x3575f9['y']));}}catch(_0x4e76ee){_0x276060=!0x0,_0x2ca401=_0x4e76ee;}finally{try{!_0x4011cd&&_0x419f17['return']&&_0x419f17[_0x1cd8('0xa1')]();}finally{if(_0x276060)throw _0x2ca401;}}_0x442cfe(_0x131982);var _0x29ca7a=_0x21673f(_0x131982,_0x78594e),_0x307674=!0x0,_0x276060=!0x1,_0x2ca401=void 0x0;try{for(var _0x896f0d,_0x2c9c8d=(0x0,_0x46a79f[_0x1cd8('0xa')])(_0x29ca7a);!(_0x307674=(_0x896f0d=_0x2c9c8d['next']())[_0x1cd8('0x8e')]);_0x307674=!0x0){var _0x4d120e=_0x896f0d[_0x1cd8('0xf')],_0x430962=(_0x4d120e['x']=-_0x4d120e['x'],_0x4d120e['y']);_0x4d120e['y']=_0x4d120e['z'],_0x4d120e['z']=_0x430962;}}catch(_0x67066a){_0x276060=!0x0,_0x2ca401=_0x67066a;}finally{try{!_0x307674&&_0x2c9c8d[_0x1cd8('0xa1')]&&_0x2c9c8d['return']();}finally{if(_0x276060)throw _0x2ca401;}}return _0x29ca7a;};},function(_0xf6f3c9,_0x8ed1ed,_0x4387cc){_0xf6f3c9[_0x1cd8('0x0')]={'default':_0x4387cc(0x8f),'__esModule':!0x0};},function(_0x1bd5d9,_0xa9cfe0,_0x1b9bac){'use strict';Object[_0x1cd8('0x4')](_0xa9cfe0,_0x1cd8('0x6'),{'value':!0x0});var _0x431538=_0x50376d(_0x1b9bac(0x4)),_0x10dd9e=_0x50376d(_0x1b9bac(0x0)),_0xe6c70=_0x50376d(_0x1b9bac(0x1)),_0x2d1d05=_0x50376d(_0x1b9bac(0x46));function _0x50376d(_0x1bd5d9){return _0x1bd5d9&&_0x1bd5d9[_0x1cd8('0x6')]?_0x1bd5d9:{'default':_0x1bd5d9};}var _0x2df426=_0x1b9bac(0x99),_0x1b9bac=((0x0,_0xe6c70[_0x1cd8('0xa')])(_0xcd7672,[{'key':_0x1cd8('0x2f2'),'value':function(_0x1bd5d9){var _0xa9cfe0=_0x1bd5d9[_0x1cd8('0x9f')],_0x1b9bac=_0x1bd5d9[_0x1cd8('0x2f3')],_0x1bd5d9=_0x1bd5d9[_0x1cd8('0x2ea')];this['lineMaterial']=new _0x2df426[(_0x1cd8('0x2f4'))]({'map':_0xa9cfe0,'useMap':this['params'][_0x1cd8('0xdf')],'useFadeOut':!0x1,'fadeOutFactor':0x0,'color':new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x1b9bac),'opacity':this[_0x1cd8('0x20a')],'dashArray':this['params'][_0x1cd8('0x2f6')],'dashOffset':this[_0x1cd8('0x211')][_0x1cd8('0x2f7')],'dashRatio':this['params']['dashRatio'],'resolution':this[_0x1cd8('0x2f8')],'sizeAttenuation':this[_0x1cd8('0x211')][_0x1cd8('0x2f9')],'lineWidth':this[_0x1cd8('0x211')][_0x1cd8('0x2fa')],'near':this[_0x1cd8('0x2fb')][_0x1cd8('0x2fc')],'far':this[_0x1cd8('0x2fb')][_0x1cd8('0x2fd')],'depthWrite':!0x1,'depthTest':!0x0,'alphaTest':0x0,'transparent':!0x0,'side':THREE[_0x1cd8('0x2fe')],'repeat':new THREE['Vector2'](_0x1bd5d9['x'],_0x1bd5d9['y']),'offset':new THREE['Vector2'](0x0,0x0),'useChange':!0x1}),this[_0x1cd8('0x2ff')][_0x1cd8('0x1e4')]=!0x0;}},{'key':'makeSquare','value':function(){var _0x1bd5d9=new THREE[(_0x1cd8('0x300'))]();return _0x1bd5d9[_0x1cd8('0x301')][_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](-0x64,0x0,-0x64)),_0x1bd5d9['vertices'][_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](0x64,0x0,-0x64)),_0x1bd5d9[_0x1cd8('0x301')][_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](0x64,0x0,0x64)),_0x1bd5d9['vertices']['push'](new THREE[(_0x1cd8('0x57'))](-0x64,0x0,0x64)),_0x1bd5d9['vertices'][_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](-0x64,0x0,-0x64)),_0x1bd5d9;}},{'key':_0x1cd8('0x302'),'value':function(_0x1bd5d9){for(var _0xa9cfe0=new THREE[(_0x1cd8('0x300'))](),_0x1b9bac=0x0,_0xe6c70=_0x1bd5d9[_0x1cd8('0xc')];_0x1b9bac<_0xe6c70;_0x1b9bac++)_0xa9cfe0[_0x1cd8('0x301')]['push'](_0x1bd5d9[_0x1b9bac]);return _0xa9cfe0;}},{'key':'makeMeshLineGeometry','value':function(_0x1bd5d9){var _0xa9cfe0=this[_0x1cd8('0x302')](_0x1bd5d9),_0x1b9bac=new _0x2df426[(_0x1cd8('0x303'))]();switch(this[_0x1cd8('0x211')][_0x1cd8('0x304')]){case _0x1cd8('0x287'):_0x1b9bac['setGeometry'](_0xa9cfe0);break;case _0x1cd8('0x305'):_0x1b9bac['setGeometry'](_0xa9cfe0,function(_0x1bd5d9){return 0x1-_0x1bd5d9;});break;case _0x1cd8('0x306'):_0x1b9bac[_0x1cd8('0x307')](_0xa9cfe0,function(_0x1bd5d9){return+Math[_0x1cd8('0x308')](0x4*_0x1bd5d9*(0x1-_0x1bd5d9),0x1);});break;case _0x1cd8('0x309'):_0x1b9bac[_0x1cd8('0x307')](_0xa9cfe0,function(_0x1bd5d9){return 0x2+Math[_0x1cd8('0x58')](0x32*_0x1bd5d9);});}return _0x1b9bac[_0x1cd8('0xe0')];}},{'key':_0x1cd8('0x30a'),'value':function(_0x1bd5d9,_0xa9cfe0){var _0x1b9bac=_0x1bd5d9[0x0],_0xe6c70=[],_0x2d1d05=!0x0,_0x50376d=!0x1,_0x466e6a=void 0x0;try{for(var _0x42d076,_0x489150=(0x0,_0x431538[_0x1cd8('0xa')])(_0x1bd5d9);!(_0x2d1d05=(_0x42d076=_0x489150['next']())[_0x1cd8('0x8e')]);_0x2d1d05=!0x0){var _0x234d26=_0x42d076[_0x1cd8('0xf')],_0x108f55=_0x234d26['x']-_0x1b9bac['x'],_0x10dd9e=_0x234d26['z']-_0x1b9bac['z'];_0xe6c70['push'](new THREE['Vector3'](_0x108f55,_0x234d26['y'],_0x10dd9e));}}catch(_0x324b24){_0x50376d=!0x0,_0x466e6a=_0x324b24;}finally{try{!_0x2d1d05&&_0x489150[_0x1cd8('0xa1')]&&_0x489150[_0x1cd8('0xa1')]();}finally{if(_0x50376d)throw _0x466e6a;}}var _0xfac440=this[_0x1cd8('0x302')](_0xe6c70),_0x9fd511=new _0x2df426[(_0x1cd8('0x303'))]();switch(this[_0x1cd8('0x30b')][_0x1cd8('0x70')](_0x9fd511),this['params'][_0x1cd8('0x304')]){case _0x1cd8('0x287'):_0x9fd511['setGeometry'](_0xfac440);break;case'linear':_0x9fd511[_0x1cd8('0x307')](_0xfac440,function(_0x1bd5d9){return 0x1-_0x1bd5d9;});break;case _0x1cd8('0x306'):_0x9fd511[_0x1cd8('0x307')](_0xfac440,function(_0x1bd5d9){return+Math['pow'](0x4*_0x1bd5d9*(0x1-_0x1bd5d9),0x1);});break;case _0x1cd8('0x309'):_0x9fd511[_0x1cd8('0x307')](_0xfac440,function(_0x1bd5d9){return 0x2+Math[_0x1cd8('0x58')](0x32*_0x1bd5d9);});}_0x1bd5d9=new THREE[(_0x1cd8('0x30c'))](_0x9fd511[_0x1cd8('0xe0')],this[_0x1cd8('0x2ff')]);return _0x1bd5d9[_0x1cd8('0x30d')]=this['renderOrder'],this['object3d']['add'](_0x1bd5d9),_0xa9cfe0&&(_0x50376d=new THREE['Vector3'](0x0,0x0,0x1),_0x466e6a=this[_0x1cd8('0x30e')](_0x50376d,_0xe6c70[_0xe6c70[_0x1cd8('0xc')]-0x2],_0xe6c70[_0xe6c70[_0x1cd8('0xc')]-0x1]),_0x1bd5d9[_0x1cd8('0x30f')]=_0x466e6a),_0x1bd5d9;}},{'key':_0x1cd8('0x310'),'value':function(_0x1bd5d9,_0xa9cfe0,_0x1b9bac){var _0xe6c70=[],_0x2d1d05=!0x0,_0x50376d=!0x1,_0x19889c=void 0x0;try{for(var _0x4868bb,_0x3b5e82=(0x0,_0x431538[_0x1cd8('0xa')])(_0x1bd5d9);!(_0x2d1d05=(_0x4868bb=_0x3b5e82['next']())[_0x1cd8('0x8e')]);_0x2d1d05=!0x0){var _0x173826=_0x4868bb['value'],_0x580172=new THREE[(_0x1cd8('0x57'))](-(_0xa9cfe0['x']+_0x173826['x']),_0x173826['offset']||0x0,_0x173826['y']-_0xa9cfe0['z']);_0xe6c70[_0x1cd8('0x70')](_0x580172);}}catch(_0x3fd8ea){_0x50376d=!0x0,_0x19889c=_0x3fd8ea;}finally{try{!_0x2d1d05&&_0x3b5e82['return']&&_0x3b5e82[_0x1cd8('0xa1')]();}finally{if(_0x50376d)throw _0x19889c;}}var _0x10dd9e=this[_0x1cd8('0x302')](_0xe6c70),_0x41d08d=new _0x2df426[(_0x1cd8('0x303'))]();switch(_0x1b9bac||this['params'][_0x1cd8('0x304')]){case _0x1cd8('0x287'):_0x41d08d['setGeometry'](_0x10dd9e);break;case'linear':_0x41d08d['setGeometry'](_0x10dd9e,function(_0x1bd5d9){return 0x1-_0x1bd5d9;});break;case _0x1cd8('0x306'):_0x41d08d['setGeometry'](_0x10dd9e,function(_0x1bd5d9){return+Math[_0x1cd8('0x308')](0x4*_0x1bd5d9*(0x1-_0x1bd5d9),0x1);});break;case _0x1cd8('0x309'):_0x41d08d[_0x1cd8('0x307')](_0x10dd9e,function(_0x1bd5d9){return 0x2+Math['sin'](0x32*_0x1bd5d9);});}return _0x41d08d[_0x1cd8('0xe0')];}},{'key':'getAngleToNextLine','value':function(_0x1bd5d9,_0xa9cfe0,_0x1b9bac){return this['tempDir']['subVectors'](_0x1b9bac,_0xa9cfe0),this[_0x1cd8('0x311')][_0x1cd8('0x1c6')](_0xa9cfe0)[_0x1cd8('0x1cb')](),this[_0x1cd8('0x312')][_0x1cd8('0x1c6')](_0x1b9bac)[_0x1cd8('0x1cb')](),0x0<this[_0x1cd8('0x311')]['cross'](this[_0x1cd8('0x312')])['y']?-_0x1bd5d9['angleTo'](this[_0x1cd8('0x313')]):_0x1bd5d9['angleTo'](this[_0x1cd8('0x313')]);}},{'key':_0x1cd8('0x314'),'value':function(_0x1bd5d9){for(var _0xa9cfe0=0x0,_0x1b9bac=(_0x1bd5d9[_0x1cd8('0x315')][_0x1cd8('0x2de')](function(_0x1bd5d9){_0xa9cfe0+=_0x1bd5d9[_0x1cd8('0xe0')][_0x1cd8('0x177')]['position'][_0x1cd8('0x10f')];}),new THREE[(_0x1cd8('0x316'))]()),_0xe6c70=(_0x1b9bac['addAttribute'](_0x1cd8('0x3f'),new THREE['BufferAttribute'](new Float32Array(0x3*_0xa9cfe0),0x3)),0x0),_0x2d1d05=(_0x1bd5d9['children']['forEach'](function(_0x1bd5d9){_0x1b9bac['merge'](_0x1bd5d9['geometry'],_0xe6c70),_0xe6c70+=_0x1bd5d9[_0x1cd8('0xe0')][_0x1cd8('0x177')][_0x1cd8('0x3f')][_0x1cd8('0x10f')];}),_0x1b9bac[_0x1cd8('0x22b')](_0x1b9bac),new THREE[(_0x1cd8('0x317'))]()),_0x50376d=(_0x2d1d05[_0x1cd8('0x318')](0x3e8,0x3e8,0x3e8),_0x1b9bac[_0x1cd8('0x319')](_0x2d1d05),new THREE[(_0x1cd8('0x30c'))](_0x1b9bac,new THREE[(_0x1cd8('0x31a'))]())),_0x1598a1=(_0x1bd5d9[_0x1cd8('0x1cd')](_0x50376d),new THREE[(_0x1cd8('0x31b'))]()),_0x4809d5=[],_0x21be49=-0xc8,_0x4ce9d9=0x0,_0x3b797d=new THREE[(_0x1cd8('0x57'))](),_0x10dd9e=new THREE[(_0x1cd8('0x57'))](),_0xf8669d=0x0;_0xf8669d<0x1770;_0xf8669d++){_0x4ce9d9+=0.1,_0x21be49+=0.075,_0x3b797d[_0x1cd8('0x1b')](0x3e8*Math['cos'](_0x4ce9d9),_0x21be49,0x3e8*Math[_0x1cd8('0x58')](_0x4ce9d9)),_0x10dd9e[_0x1cd8('0x1b')](-_0x3b797d['x'],0x0,-_0x3b797d['z']),_0x10dd9e=_0x10dd9e[_0x1cd8('0x1cb')](),_0x1598a1[_0x1cd8('0x1b')](_0x3b797d,_0x10dd9e);var _0x245250=_0x1598a1[_0x1cd8('0x31c')](_0x50376d,!0x0);_0x245250[_0x1cd8('0xc')]&&_0x4809d5[_0x1cd8('0x70')](_0x245250[0x0][_0x1cd8('0x31d')]['x'],_0x245250[0x0][_0x1cd8('0x31d')]['y'],_0x245250[0x0][_0x1cd8('0x31d')]['z']);}_0x1bd5d9[_0x1cd8('0xe1')](_0x50376d);_0x2d1d05=new _0x2df426[(_0x1cd8('0x303'))](),_0x2d1d05[_0x1cd8('0x307')](_0x4809d5,function(_0x1bd5d9){return _0x1bd5d9;}),_0x2d1d05=new THREE[(_0x1cd8('0x30c'))](_0x2d1d05['geometry'],this['lineMaterial']);_0x1bd5d9[_0x1cd8('0x1cd')](_0x2d1d05);}},{'key':'removeLine','value':function(_0x1bd5d9){_0x2d1d05[_0x1cd8('0xa')][_0x1cd8('0x31e')](_0x1bd5d9);}},{'key':'setResizeListen','value':function(_0x1bd5d9){var _0xa9cfe0=this;_0x1bd5d9['on'](_0x1cd8('0x31f'),function(_0x1bd5d9){_0xa9cfe0[_0x1cd8('0x2ff')][_0x1cd8('0x2f8')][_0x1cd8('0x1b')](_0x1bd5d9[_0x1cd8('0x320')],_0x1bd5d9['height']);});}},{'key':'dispose','value':function(){this[_0x1cd8('0x2ff')]&&this[_0x1cd8('0x2ff')][_0x1cd8('0xde')](),this[_0x1cd8('0x2ff')]=null,this['texture']&&this[_0x1cd8('0x9f')][_0x1cd8('0xde')](),this['texture']=null,this[_0x1cd8('0x30b')]['length']=0x0,_0x2d1d05[_0x1cd8('0xa')][_0x1cd8('0x321')](this[_0x1cd8('0x322')]);}},{'key':_0x1cd8('0x323'),'value':function(_0x1bd5d9){var _0xa9cfe0;this['lineMaterial']&&(_0x1bd5d9=_0x1bd5d9||1.5,this[_0x1cd8('0x2ff')]['useFadeOut']=!0x0,this[_0x1cd8('0x2ff')][_0x1cd8('0x324')]=0x0,_0xa9cfe0=this,new TWEEN['Tween']({'x':0x0})['to']({'x':0x1},0x3e8*_0x1bd5d9)[_0x1cd8('0x2d2')](function(_0x1bd5d9){_0xa9cfe0[_0x1cd8('0x2ff')]['fadeOutFactor']=_0x1bd5d9['x'];})['easing'](TWEEN[_0x1cd8('0x2cf')]['Quadratic']['In'])[_0x1cd8('0x2d1')]());}},{'key':_0x1cd8('0x325'),'value':function(_0x1bd5d9){this[_0x1cd8('0x2ff')]&&(this[_0x1cd8('0x2ff')][_0x1cd8('0x176')]['offset'][_0x1cd8('0xf')]['x']-=_0x1bd5d9*this[_0x1cd8('0x326')]);}},{'key':_0x1cd8('0x327'),'set':function(_0x1bd5d9){this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x1bd5d9;},'get':function(){return this['object3d'][_0x1cd8('0x327')];}}]),_0xcd7672);function _0xcd7672(_0x1bd5d9){var _0xa9cfe0=_0x1bd5d9[_0x1cd8('0x2fb')],_0x1b9bac=_0x1bd5d9[_0x1cd8('0x9f')],_0xe6c70=_0x1bd5d9[_0x1cd8('0x2f3')],_0xe6c70=void 0x0===_0xe6c70?'#FFFFFF':_0xe6c70,_0x2d1d05=_0x1bd5d9[_0x1cd8('0x20a')],_0x50376d=_0x1bd5d9[_0x1cd8('0x2fa')],_0x50376d=void 0x0===_0x50376d?0x7:_0x50376d,_0x7374c8=_0x1bd5d9[_0x1cd8('0x328')],_0x7374c8=void 0x0===_0x7374c8?_0x1cd8('0x287'):_0x7374c8,_0x27f255=_0x1bd5d9['repeat'],_0x27f255=void 0x0===_0x27f255?{'x':0x1,'y':0x1}:_0x27f255,_0x5371ab=_0x1bd5d9[_0x1cd8('0x2f8')],_0x405808=_0x1bd5d9[_0x1cd8('0x326')],_0x405808=void 0x0===_0x405808?0x1:_0x405808,_0x544df8=_0x1bd5d9[_0x1cd8('0x329')],_0x544df8=void 0x0!==_0x544df8&&_0x544df8,_0x1bd5d9=_0x1bd5d9[_0x1cd8('0x30d')],_0x1bd5d9=void 0x0===_0x1bd5d9?0xb:_0x1bd5d9;(0x0,_0x10dd9e[_0x1cd8('0xa')])(this,_0xcd7672),this['camera']=_0xa9cfe0,this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x30d')]=_0x1bd5d9,this[_0x1cd8('0x211')]={'curves':!0x0,'circles':!0x1,'amount':0x32,'lineWidth':_0x50376d,'dashArray':0x0,'dashOffset':0x0,'dashRatio':0.3,'taper':_0x7374c8,'map':!0x0,'sizeAttenuation':!0x1,'animateWidth':!0x1,'spread':!0x1,'autoRotate':!0x0,'autoUpdate':!0x0,'animateVisibility':!0x1,'animateDashOffset':!0x1,'isCanChangeStyle':_0x544df8},this[_0x1cd8('0x2f8')]=_0x5371ab||new THREE['Vector2'](window[_0x1cd8('0x32b')],window[_0x1cd8('0x32c')]),this[_0x1cd8('0x326')]=_0x405808,this['texture']=_0x1b9bac,this['texture']['wrapT']=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x9f')][_0x1cd8('0x32e')]=THREE['RepeatWrapping'],this[_0x1cd8('0x20a')]=_0x2d1d05,this[_0x1cd8('0x2ff')]=null,this[_0x1cd8('0x2f2')]({'texture':_0x1b9bac,'colorStr':_0xe6c70,'repeat':_0x27f255}),this[_0x1cd8('0x311')]=new THREE[(_0x1cd8('0x57'))](),this[_0x1cd8('0x312')]=new THREE[(_0x1cd8('0x57'))](),this[_0x1cd8('0x313')]=new THREE[(_0x1cd8('0x57'))](),this[_0x1cd8('0x30b')]=[];}_0xa9cfe0['default']=_0x1b9bac;},function(_0x148111,_0x2b71e0,_0x96f8b6){'use strict';Object[_0x1cd8('0x4')](_0x2b71e0,'__esModule',{'value':!0x0});var _0x1e459a=_0x23d475(_0x96f8b6(0x0));function _0x23d475(_0x148111){return _0x148111&&_0x148111[_0x1cd8('0x6')]?_0x148111:{'default':_0x148111};}function _0x44d827(_0x148111,_0x2b71e0,_0x96f8b6,_0x23d475,_0x2e0604){(0x0,_0x1e459a['default'])(this,_0x44d827),this[_0x1cd8('0x32f')]=_0x148111,this[_0x1cd8('0x330')]=_0x23d475||_0x1cd8('0x331'),this[_0x1cd8('0x2ad')]=_0x2b71e0,this['layer']=_0x96f8b6,this[_0x1cd8('0x332')]=this[_0x1cd8('0x333')][_0x1cd8('0x9')](this),this[_0x1cd8('0x334')]=_0x2e0604;}(0x0,_0x23d475(_0x96f8b6(0x1))[_0x1cd8('0xa')])(_0x44d827,[{'key':_0x1cd8('0x335'),'value':function(){this[_0x1cd8('0x32f')][_0x1cd8('0x29d')](this[_0x1cd8('0x330')],this[_0x1cd8('0x332')],!0x1);}},{'key':'dispose','value':function(){this['container'][_0x1cd8('0x336')](this['eventName'],this[_0x1cd8('0x332')],!0x1);}},{'key':_0x1cd8('0x337'),'value':function(_0x148111){var _0x148111=_0x148111||window[_0x1cd8('0x338')],_0x2b71e0=_0x148111[_0x1cd8('0x2b7')]||_0x148111[_0x1cd8('0x339')];return _0x148111['offsetX']||(_0x2b71e0=_0x2b71e0[_0x1cd8('0x33a')](),_0x148111[_0x1cd8('0x33b')]-_0x2b71e0[_0x1cd8('0x33c')]);}},{'key':'getOffsetY','value':function(_0x148111){var _0x148111=_0x148111||window[_0x1cd8('0x338')],_0x2b71e0=_0x148111[_0x1cd8('0x2b7')]||_0x148111[_0x1cd8('0x339')];return _0x148111[_0x1cd8('0x33d')]||(_0x2b71e0=_0x2b71e0[_0x1cd8('0x33a')](),_0x148111[_0x1cd8('0x33e')]-_0x2b71e0[_0x1cd8('0x33c')]);}},{'key':_0x1cd8('0x333'),'value':function(_0x148111){var _0x2b71e0=this[_0x1cd8('0x337')](_0x148111),_0x148111=this[_0x1cd8('0x33f')](_0x148111);this[_0x1cd8('0x2ad')][_0x1cd8('0x340')]({'x':_0x2b71e0,'y':_0x148111},this[_0x1cd8('0x341')])[_0x1cd8('0xc')];}}],[{'key':_0x1cd8('0x342'),'value':function(_0x148111){return ESTileMap['CoordTransform'][_0x1cd8('0x343')]({'mapType':_0x1cd8('0x344'),'longitude':_0x148111[0x0],'latitude':_0x148111[0x1]});}},{'key':_0x1cd8('0x345'),'value':function(_0x148111){return ESTileMap['CoordTransform'][_0x1cd8('0x346')]({'mapType':_0x1cd8('0x344'),'x':_0x148111['x'],'z':_0x148111['y']});}}]),_0x2b71e0['default']=_0x44d827;},function(_0x69b045,_0x559a97,_0x5a94af){_0x5a94af(0x87),_0x69b045[_0x1cd8('0x0')]=_0x5a94af(0x2)[_0x1cd8('0x84')]['getPrototypeOf'];},function(_0x466f85,_0x3967ae,_0xc12cde){var _0x57834e=_0xc12cde(0x12),_0x2a679b=_0xc12cde(0x44);_0xc12cde(0x47)(_0x1cd8('0xdd'),function(){return function(_0x466f85){return _0x2a679b(_0x57834e(_0x466f85));};});},function(_0x347914,_0x3c2bc4,_0x124c92){_0x124c92(0x34),_0x124c92(0x19),_0x124c92(0x1b),_0x124c92(0x89),_0x124c92(0x8d),_0x124c92(0x8e),_0x347914['exports']=_0x124c92(0x2)['Promise'];},function(_0x2bb55b,_0x2841bf,_0x5a246f){'use strict';function _0x598420(){}function _0x2705cd(_0x250541){return 0x1!==_0x250541['_h']&&0x0===(_0x250541['_a']||_0x250541['_c'])[_0x1cd8('0xc')];}var _0x5c9949,_0x46e8cb,_0x164dd7,_0x50e0a3,_0x444a81=_0x5a246f(0x13),_0xee699=_0x5a246f(0x5),_0x4d3a79=_0x5a246f(0x10),_0xa39750=_0x5a246f(0x2c),_0x30b9ab=_0x5a246f(0x3),_0x5a5e8f=_0x5a246f(0x9),_0xef845d=_0x5a246f(0x20),_0xff5b7d=_0x5a246f(0x49),_0x4cbc48=_0x5a246f(0x33),_0x1866da=_0x5a246f(0x6e),_0x4ea033=_0x5a246f(0x6f)[_0x1cd8('0x1b')],_0x5bd0a8=_0x5a246f(0x8b)(),_0x2ac141=_0x5a246f(0x55),_0xdc1567=_0x5a246f(0x70),_0x4e3eb4=_0x5a246f(0x8c),_0x43ae6a=_0x5a246f(0x71),_0xffdce=_0x1cd8('0x347'),_0x37d8a1=_0xee699[_0x1cd8('0x348')],_0x16f882=_0xee699[_0x1cd8('0x293')],_0x4783dd=_0x16f882&&_0x16f882[_0x1cd8('0x6f')],_0x4cdf78=_0x4783dd&&_0x4783dd['v8']||'',_0x206ce1=_0xee699[_0xffdce],_0x24be0b=_0x1cd8('0x293')==_0xa39750(_0x16f882),_0x50497a=_0x46e8cb=_0x2ac141['f'],_0x4783dd=!!function(){try{var _0xa39750=_0x206ce1['resolve'](0x1),_0x5c9949=(_0xa39750[_0x1cd8('0x88')]={})[_0x5a246f(0x6)('species')]=function(_0xa39750){_0xa39750(_0x598420,_0x598420);};return(_0x24be0b||_0x1cd8('0x12')==typeof PromiseRejectionEvent)&&_0xa39750[_0x1cd8('0x349')](_0x598420)instanceof _0x5c9949&&0x0!==_0x4cdf78[_0x1cd8('0x50')](_0x1cd8('0x34a'))&&-0x1===_0x4e3eb4[_0x1cd8('0x50')]('Chrome/66');}catch(_0x124d75){}}(),_0x235776=function(_0xa39750){var _0x5c9949;return!(!_0x5a5e8f(_0xa39750)||'function'!=typeof(_0x5c9949=_0xa39750['then']))&&_0x5c9949;},_0x5553c9=function(_0x5a5e8f,_0x5c9949){var _0x5a246f;_0x5a5e8f['_n']||(_0x5a5e8f['_n']=!0x0,_0x5a246f=_0x5a5e8f['_c'],_0x5bd0a8(function(){for(var _0x46e8cb,_0x4d3a79=_0x5a5e8f['_v'],_0x30b9ab=0x1==_0x5a5e8f['_s'],_0xa39750=0x0;_0x5a246f[_0x1cd8('0xc')]>_0xa39750;)!function(_0xa39750){var _0x5c9949,_0x5a246f,_0x598420,_0x46e8cb,_0x2705cd=_0x30b9ab?_0xa39750['ok']:_0xa39750[_0x1cd8('0x34b')],_0x164dd7=_0xa39750[_0x1cd8('0xe8')],_0x50e0a3=_0xa39750[_0x1cd8('0x34c')],_0x444a81=_0xa39750[_0x1cd8('0x34d')];try{_0x2705cd?(_0x30b9ab||(0x2==_0x5a5e8f['_h']&&(_0x46e8cb=_0x5a5e8f,_0x4ea033[_0x1cd8('0x1')](_0xee699,function(){var _0xa39750;_0x24be0b?_0x16f882['emit'](_0x1cd8('0x34e'),_0x46e8cb):(_0xa39750=_0xee699[_0x1cd8('0x34f')])&&_0xa39750({'promise':_0x46e8cb,'reason':_0x46e8cb['_v']});})),_0x5a5e8f['_h']=0x1),!0x0===_0x2705cd?_0x5c9949=_0x4d3a79:(_0x444a81&&_0x444a81[_0x1cd8('0x350')](),_0x5c9949=_0x2705cd(_0x4d3a79),_0x444a81&&(_0x444a81[_0x1cd8('0x351')](),_0x598420=!0x0)),_0x5c9949===_0xa39750[_0x1cd8('0xe6')]?_0x50e0a3(_0x37d8a1(_0x1cd8('0x352'))):(_0x5a246f=_0x235776(_0x5c9949))?_0x5a246f[_0x1cd8('0x1')](_0x5c9949,_0x164dd7,_0x50e0a3):_0x164dd7(_0x5c9949)):_0x50e0a3(_0x4d3a79);}catch(_0x3edaed){_0x444a81&&!_0x598420&&_0x444a81[_0x1cd8('0x351')](),_0x50e0a3(_0x3edaed);}}(_0x5a246f[_0xa39750++]);_0x5a5e8f['_c']=[],_0x5a5e8f['_n']=!0x1,_0x5c9949&&!_0x5a5e8f['_h']&&(_0x46e8cb=_0x5a5e8f,_0x4ea033[_0x1cd8('0x1')](_0xee699,function(){var _0xa39750,_0x5c9949,_0x5a246f=_0x46e8cb['_v'],_0x598420=_0x2705cd(_0x46e8cb);if(_0x598420&&(_0xa39750=_0xdc1567(function(){_0x24be0b?_0x16f882[_0x1cd8('0x353')]('unhandledRejection',_0x5a246f,_0x46e8cb):(_0x5c9949=_0xee699['onunhandledrejection'])?_0x5c9949({'promise':_0x46e8cb,'reason':_0x5a246f}):(_0x5c9949=_0xee699[_0x1cd8('0x354')])&&_0x5c9949[_0x1cd8('0x1fe')]&&_0x5c9949[_0x1cd8('0x1fe')]('Unhandled\x20promise\x20rejection',_0x5a246f);}),_0x46e8cb['_h']=_0x24be0b||_0x2705cd(_0x46e8cb)?0x2:0x1),_0x46e8cb['_a']=void 0x0,_0x598420&&_0xa39750['e'])throw _0xa39750['v'];}));}));},_0x81a326=function(_0xa39750){var _0x5c9949=this;_0x5c9949['_d']||(_0x5c9949['_d']=!0x0,(_0x5c9949=_0x5c9949['_w']||_0x5c9949)['_v']=_0xa39750,_0x5c9949['_s']=0x2,_0x5c9949['_a']||(_0x5c9949['_a']=_0x5c9949['_c'][_0x1cd8('0x9a')]()),_0x5553c9(_0x5c9949,!0x0));},_0x3db643=function(_0xa39750){var _0x5a246f,_0x598420=this;if(!_0x598420['_d']){_0x598420['_d']=!0x0,_0x598420=_0x598420['_w']||_0x598420;try{if(_0x598420===_0xa39750)throw _0x37d8a1(_0x1cd8('0x355'));(_0x5a246f=_0x235776(_0xa39750))?_0x5bd0a8(function(){var _0x5c9949={'_w':_0x598420,'_d':!0x1};try{_0x5a246f[_0x1cd8('0x1')](_0xa39750,_0x4d3a79(_0x3db643,_0x5c9949,0x1),_0x4d3a79(_0x81a326,_0x5c9949,0x1));}catch(_0x2a108d){_0x81a326[_0x1cd8('0x1')](_0x5c9949,_0x2a108d);}}):(_0x598420['_v']=_0xa39750,_0x598420['_s']=0x1,_0x5553c9(_0x598420,!0x1));}catch(_0x4946d8){_0x81a326['call']({'_w':_0x598420,'_d':!0x1},_0x4946d8);}}};_0x4783dd||(_0x206ce1=function(_0xa39750){_0xff5b7d(this,_0x206ce1,_0xffdce,'_h'),_0xef845d(_0xa39750),_0x5c9949['call'](this);try{_0xa39750(_0x4d3a79(_0x3db643,this,0x1),_0x4d3a79(_0x81a326,this,0x1));}catch(_0x362826){_0x81a326[_0x1cd8('0x1')](this,_0x362826);}},(_0x5c9949=function(_0xa39750){this['_c']=[],this['_a']=void 0x0,this['_s']=0x0,this['_d']=!0x1,this['_v']=void 0x0,this['_h']=0x0,this['_n']=!0x1;})['prototype']=_0x5a246f(0x4a)(_0x206ce1[_0x1cd8('0x11')],{'then':function(_0xa39750,_0x5c9949){var _0x5a246f=_0x50497a(_0x1866da(this,_0x206ce1));return _0x5a246f['ok']=_0x1cd8('0x12')!=typeof _0xa39750||_0xa39750,_0x5a246f[_0x1cd8('0x34b')]='function'==typeof _0x5c9949&&_0x5c9949,_0x5a246f['domain']=_0x24be0b?_0x16f882[_0x1cd8('0x34d')]:void 0x0,this['_c']['push'](_0x5a246f),this['_a']&&this['_a'][_0x1cd8('0x70')](_0x5a246f),this['_s']&&_0x5553c9(this,!0x1),_0x5a246f[_0x1cd8('0xe6')];},'catch':function(_0xa39750){return this[_0x1cd8('0x349')](void 0x0,_0xa39750);}}),_0x164dd7=function(){var _0xa39750=new _0x5c9949();this[_0x1cd8('0xe6')]=_0xa39750,this['resolve']=_0x4d3a79(_0x3db643,_0xa39750,0x1),this['reject']=_0x4d3a79(_0x81a326,_0xa39750,0x1);},_0x2ac141['f']=_0x50497a=function(_0xa39750){return _0xa39750===_0x206ce1||_0xa39750===_0x50e0a3?new _0x164dd7():_0x46e8cb(_0xa39750);}),_0x30b9ab(_0x30b9ab['G']+_0x30b9ab['W']+_0x30b9ab['F']*!_0x4783dd,{'Promise':_0x206ce1}),_0x5a246f(0x17)(_0x206ce1,_0xffdce),_0x5a246f(0x63)(_0xffdce),_0x50e0a3=_0x5a246f(0x2)[_0xffdce],_0x30b9ab(_0x30b9ab['S']+_0x30b9ab['F']*!_0x4783dd,_0xffdce,{'reject':function(_0xa39750){var _0x5c9949=_0x50497a(this);return(0x0,_0x5c9949[_0x1cd8('0x34c')])(_0xa39750),_0x5c9949[_0x1cd8('0xe6')];}}),_0x30b9ab(_0x30b9ab['S']+_0x30b9ab['F']*(_0x444a81||!_0x4783dd),_0xffdce,{'resolve':function(_0xa39750){return _0x43ae6a(_0x444a81&&this===_0x50e0a3?_0x206ce1:this,_0xa39750);}}),_0x30b9ab(_0x30b9ab['S']+_0x30b9ab['F']*!(_0x4783dd&&_0x5a246f(0x73)(function(_0xa39750){_0x206ce1[_0x1cd8('0xa3')](_0xa39750)[_0x1cd8('0x356')](_0x598420);})),_0xffdce,{'all':function(_0xa39750){var _0x164dd7=this,_0x5c9949=_0x50497a(_0x164dd7),_0x50e0a3=_0x5c9949[_0x1cd8('0xe8')],_0x444a81=_0x5c9949[_0x1cd8('0x34c')],_0x5a246f=_0xdc1567(function(){var _0x598420=[],_0x46e8cb=0x0,_0x2705cd=0x1;_0x4cbc48(_0xa39750,!0x1,function(_0xa39750){var _0x5c9949=_0x46e8cb++,_0x5a246f=!0x1;_0x598420[_0x1cd8('0x70')](void 0x0),_0x2705cd++,_0x164dd7[_0x1cd8('0xe8')](_0xa39750)[_0x1cd8('0x349')](function(_0xa39750){_0x5a246f||(_0x5a246f=!0x0,_0x598420[_0x5c9949]=_0xa39750,--_0x2705cd||_0x50e0a3(_0x598420));},_0x444a81);}),--_0x2705cd||_0x50e0a3(_0x598420);});return _0x5a246f['e']&&_0x444a81(_0x5a246f['v']),_0x5c9949[_0x1cd8('0xe6')];},'race':function(_0xa39750){var _0x5c9949=this,_0x5a246f=_0x50497a(_0x5c9949),_0x598420=_0x5a246f[_0x1cd8('0x34c')],_0x46e8cb=_0xdc1567(function(){_0x4cbc48(_0xa39750,!0x1,function(_0xa39750){_0x5c9949['resolve'](_0xa39750)['then'](_0x5a246f['resolve'],_0x598420);});});return _0x46e8cb['e']&&_0x598420(_0x46e8cb['v']),_0x5a246f[_0x1cd8('0xe6')];}});},function(_0x3c27f9,_0x15a6a1){_0x3c27f9[_0x1cd8('0x0')]=function(_0x3c27f9,_0x15a6a1,_0x21f9d6){var _0x383403=void 0x0===_0x21f9d6;switch(_0x15a6a1[_0x1cd8('0xc')]){case 0x0:return _0x383403?_0x3c27f9():_0x3c27f9['call'](_0x21f9d6);case 0x1:return _0x383403?_0x3c27f9(_0x15a6a1[0x0]):_0x3c27f9[_0x1cd8('0x1')](_0x21f9d6,_0x15a6a1[0x0]);case 0x2:return _0x383403?_0x3c27f9(_0x15a6a1[0x0],_0x15a6a1[0x1]):_0x3c27f9['call'](_0x21f9d6,_0x15a6a1[0x0],_0x15a6a1[0x1]);case 0x3:return _0x383403?_0x3c27f9(_0x15a6a1[0x0],_0x15a6a1[0x1],_0x15a6a1[0x2]):_0x3c27f9['call'](_0x21f9d6,_0x15a6a1[0x0],_0x15a6a1[0x1],_0x15a6a1[0x2]);case 0x4:return _0x383403?_0x3c27f9(_0x15a6a1[0x0],_0x15a6a1[0x1],_0x15a6a1[0x2],_0x15a6a1[0x3]):_0x3c27f9[_0x1cd8('0x1')](_0x21f9d6,_0x15a6a1[0x0],_0x15a6a1[0x1],_0x15a6a1[0x2],_0x15a6a1[0x3]);}return _0x3c27f9['apply'](_0x21f9d6,_0x15a6a1);};},function(_0x213ac8,_0x5ebe6e,_0x4333c7){var _0x536531=_0x4333c7(0x5),_0x17b730=_0x4333c7(0x6f)[_0x1cd8('0x1b')],_0x3fe64a=_0x536531[_0x1cd8('0x357')]||_0x536531[_0x1cd8('0x358')],_0xcff1ec=_0x536531[_0x1cd8('0x293')],_0x4f94c5=_0x536531[_0x1cd8('0x347')],_0x128cab=_0x1cd8('0x293')==_0x4333c7(0x16)(_0xcff1ec);_0x213ac8[_0x1cd8('0x0')]=function(){function _0x213ac8(){var _0x213ac8,_0x5ebe6e;for(_0x128cab&&(_0x213ac8=_0xcff1ec[_0x1cd8('0x34d')])&&_0x213ac8[_0x1cd8('0x351')]();_0x4333c7;){_0x5ebe6e=_0x4333c7['fn'],_0x4333c7=_0x4333c7[_0x1cd8('0x7e')];try{_0x5ebe6e();}catch(_0x5648d1){throw _0x4333c7?_0x59f7c6():_0x5c068f=void 0x0,_0x5648d1;}}_0x5c068f=void 0x0,_0x213ac8&&_0x213ac8[_0x1cd8('0x350')]();}var _0x4333c7,_0x5c068f,_0x5ebe6e,_0x2ba6f0,_0x5511ae,_0x59f7c6=_0x128cab?function(){_0xcff1ec[_0x1cd8('0x297')](_0x213ac8);}:!_0x3fe64a||_0x536531['navigator']&&_0x536531['navigator'][_0x1cd8('0x359')]?_0x4f94c5&&_0x4f94c5['resolve']?(_0x5ebe6e=_0x4f94c5['resolve'](void 0x0),function(){_0x5ebe6e[_0x1cd8('0x349')](_0x213ac8);}):function(){_0x17b730['call'](_0x536531,_0x213ac8);}:(_0x2ba6f0=!0x0,_0x5511ae=document[_0x1cd8('0x35a')](''),new _0x3fe64a(_0x213ac8)[_0x1cd8('0x35b')](_0x5511ae,{'characterData':!0x0}),function(){_0x5511ae[_0x1cd8('0x292')]=_0x2ba6f0=!_0x2ba6f0;});return function(_0x213ac8){_0x213ac8={'fn':_0x213ac8,'next':void 0x0};_0x5c068f&&(_0x5c068f[_0x1cd8('0x7e')]=_0x213ac8),_0x4333c7||(_0x4333c7=_0x213ac8,_0x59f7c6()),_0x5c068f=_0x213ac8;};};},function(_0x381263,_0x5319d8,_0x4c0890){_0x4c0890=_0x4c0890(0x5)[_0x1cd8('0x35c')];_0x381263[_0x1cd8('0x0')]=_0x4c0890&&_0x4c0890[_0x1cd8('0x5b')]||'';},function(_0x2da146,_0x3a24c,_0x2abff9){'use strict';var _0x18c1cb=_0x2abff9(0x3),_0x4f648f=_0x2abff9(0x2),_0x3576d8=_0x2abff9(0x5),_0x213805=_0x2abff9(0x6e),_0x25a038=_0x2abff9(0x71);_0x18c1cb(_0x18c1cb['P']+_0x18c1cb['R'],'Promise',{'finally':function(_0x3a24c){var _0x2abff9=_0x213805(this,_0x4f648f['Promise']||_0x3576d8[_0x1cd8('0x347')]),_0x2da146=_0x1cd8('0x12')==typeof _0x3a24c;return this[_0x1cd8('0x349')](_0x2da146?function(_0x2da146){return _0x25a038(_0x2abff9,_0x3a24c())[_0x1cd8('0x349')](function(){return _0x2da146;});}:_0x3a24c,_0x2da146?function(_0x2da146){return _0x25a038(_0x2abff9,_0x3a24c())[_0x1cd8('0x349')](function(){throw _0x2da146;});}:_0x3a24c);}});},function(_0x1f120a,_0x444339,_0x14a702){'use strict';var _0x395b79=_0x14a702(0x3),_0x41c026=_0x14a702(0x55),_0x3466f4=_0x14a702(0x70);_0x395b79(_0x395b79['S'],_0x1cd8('0x347'),{'try':function(_0x1f120a){var _0x444339=_0x41c026['f'](this),_0x1f120a=_0x3466f4(_0x1f120a);return(_0x1f120a['e']?_0x444339[_0x1cd8('0x34c')]:_0x444339[_0x1cd8('0xe8')])(_0x1f120a['v']),_0x444339[_0x1cd8('0xe6')];}});},function(_0x4b1ca0,_0x3fdf73,_0x31d216){_0x31d216(0x34),_0x31d216(0x19),_0x31d216(0x1b),_0x31d216(0x90),_0x31d216(0x94),_0x31d216(0x96),_0x31d216(0x97),_0x4b1ca0[_0x1cd8('0x0')]=_0x31d216(0x2)[_0x1cd8('0x35d')];},function(_0x330a0c,_0x15920a,_0x2e5947){'use strict';var _0x442ea4=_0x2e5947(0x7a),_0x12514=_0x2e5947(0x61);_0x330a0c[_0x1cd8('0x0')]=_0x2e5947(0x7b)('Set',function(_0x330a0c){return function(){return _0x330a0c(this,0x0<arguments[_0x1cd8('0xc')]?arguments[0x0]:void 0x0);};},{'add':function(_0x330a0c){return _0x442ea4['def'](_0x12514(this,'Set'),_0x330a0c=0x0===_0x330a0c?0x0:_0x330a0c,_0x330a0c);}},_0x442ea4);},function(_0x6cbb73,_0xe44e04,_0x35f5db){var _0x57b481=_0x35f5db(0x10),_0x32bf92=_0x35f5db(0x2e),_0x2fdf56=_0x35f5db(0x12),_0x528fb5=_0x35f5db(0x2b),_0x137c62=_0x35f5db(0x92);_0x6cbb73[_0x1cd8('0x0')]=function(_0x9a361b,_0x6cbb73){var _0x537bbd=0x1==_0x9a361b,_0x12452d=0x2==_0x9a361b,_0x36109d=0x3==_0x9a361b,_0x3dbcd6=0x4==_0x9a361b,_0x2a3a49=0x6==_0x9a361b,_0x795771=0x5==_0x9a361b||_0x2a3a49,_0x2db61d=_0x6cbb73||_0x137c62;return function(_0x6cbb73,_0xe44e04,_0x35f5db){for(var _0x137c62,_0xa09b6b,_0x308024=_0x2fdf56(_0x6cbb73),_0x17fd4d=_0x32bf92(_0x308024),_0x27628f=_0x57b481(_0xe44e04,_0x35f5db,0x3),_0x536c8c=_0x528fb5(_0x17fd4d['length']),_0x139e04=0x0,_0x314f40=_0x537bbd?_0x2db61d(_0x6cbb73,_0x536c8c):_0x12452d?_0x2db61d(_0x6cbb73,0x0):void 0x0;_0x139e04<_0x536c8c;_0x139e04++)if((_0x795771||_0x139e04 in _0x17fd4d)&&(_0xa09b6b=_0x27628f(_0x137c62=_0x17fd4d[_0x139e04],_0x139e04,_0x308024),_0x9a361b))if(_0x537bbd)_0x314f40[_0x139e04]=_0xa09b6b;else if(_0xa09b6b)switch(_0x9a361b){case 0x3:return!0x0;case 0x5:return _0x137c62;case 0x6:return _0x139e04;case 0x2:_0x314f40[_0x1cd8('0x70')](_0x137c62);}else if(_0x3dbcd6)return!0x1;return _0x2a3a49?-0x1:_0x36109d||_0x3dbcd6?_0x3dbcd6:_0x314f40;};};},function(_0x5e1a97,_0x1489a2,_0x4b7268){var _0x3cec39=_0x4b7268(0x93);_0x5e1a97[_0x1cd8('0x0')]=function(_0x5e1a97,_0x1489a2){return new(_0x3cec39(_0x5e1a97))(_0x1489a2);};},function(_0x47f4f5,_0x5934fb,_0x5a7e52){var _0x3fc2ba=_0x5a7e52(0x9),_0x4e9b4f=_0x5a7e52(0x48),_0x32e07c=_0x5a7e52(0x6)(_0x1cd8('0x28f'));_0x47f4f5[_0x1cd8('0x0')]=function(_0x47f4f5){var _0x5934fb;return _0x4e9b4f(_0x47f4f5)&&(_0x1cd8('0x12')!=typeof(_0x5934fb=_0x47f4f5[_0x1cd8('0x88')])||_0x5934fb!==Array&&!_0x4e9b4f(_0x5934fb[_0x1cd8('0x11')])||(_0x5934fb=void 0x0),_0x3fc2ba(_0x5934fb)&&null===(_0x5934fb=_0x5934fb[_0x32e07c])&&(_0x5934fb=void 0x0)),void 0x0===_0x5934fb?Array:_0x5934fb;};},function(_0x55a715,_0x2e45bc,_0x43ddf2){var _0x2e0e04=_0x43ddf2(0x3);_0x2e0e04(_0x2e0e04['P']+_0x2e0e04['R'],_0x1cd8('0x35d'),{'toJSON':_0x43ddf2(0x7c)(_0x1cd8('0x35d'))});},function(_0x554a68,_0x15ff0c,_0x3f274f){var _0x295ada=_0x3f274f(0x33);_0x554a68[_0x1cd8('0x0')]=function(_0x554a68,_0x15ff0c){var _0x3f274f=[];return _0x295ada(_0x554a68,!0x1,_0x3f274f[_0x1cd8('0x70')],_0x3f274f,_0x15ff0c),_0x3f274f;};},function(_0x125773,_0x267b5e,_0x2e3c0e){_0x2e3c0e(0x7d)(_0x1cd8('0x35d'));},function(_0xa2c3eb,_0x1714b2,_0x1649be){_0x1649be(0x7e)(_0x1cd8('0x35d'));},,function(_0x166dd0,_0x3aa54a,_0x547b84){'use strict';var _0xed79e1=_0x5c6e68(_0x547b84(0x1d)),_0x1b7fa0=_0x5c6e68(_0x547b84(0x58)),_0x41dc2f=_0x5c6e68(_0x547b84(0xf));function _0x5c6e68(_0x547b84){return _0x547b84&&_0x547b84['__esModule']?_0x547b84:{'default':_0x547b84};}!function(){function _0x547b84(){this[_0x1cd8('0x35e')]=[],this['previous']=[],this['next']=[],this[_0x1cd8('0x35f')]=[],this[_0x1cd8('0x320')]=[],this[_0x1cd8('0x360')]=[],this[_0x1cd8('0x361')]=[],this[_0x1cd8('0x362')]=[],this[_0x1cd8('0xe0')]=new THREE[(_0x1cd8('0x316'))](),this[_0x1cd8('0x363')]=null,this[_0x1cd8('0x364')]=new THREE[(_0x1cd8('0x317'))]();}var _0x55a14b,_0x1d59b8,_0x151eee;function _0x9d93fc(_0x547b84,_0x5c6e68,_0x166dd0,_0x3aa54a,_0xed79e1){var _0x9d93fc;if(_0x547b84=_0x547b84[_0x1cd8('0x365')]||_0x547b84[_0x1cd8('0x9a')]?_0x547b84:_0x547b84[_0x1cd8('0x366')],_0x166dd0=_0x166dd0[_0x1cd8('0x365')]||_0x166dd0[_0x1cd8('0x9a')]?_0x166dd0:_0x166dd0[_0x1cd8('0x366')],_0x547b84=_0x5c6e68?_0x547b84['subarray']?_0x547b84[_0x1cd8('0x365')](_0x5c6e68,_0xed79e1&&_0x5c6e68+_0xed79e1):_0x547b84[_0x1cd8('0x9a')](_0x5c6e68,_0xed79e1&&_0x5c6e68+_0xed79e1):_0x547b84,_0x166dd0['set'])_0x166dd0['set'](_0x547b84,_0x3aa54a);else for(_0x9d93fc=0x0;_0x9d93fc<_0x547b84[_0x1cd8('0xc')];_0x9d93fc++)_0x166dd0[_0x9d93fc+_0x3aa54a]=_0x547b84[_0x9d93fc];}function _0x5c6e68(_0x547b84){THREE[_0x1cd8('0x1f0')][_0x1cd8('0x1')](this,{'uniforms':(0x0,_0x41dc2f['default'])({},THREE[_0x1cd8('0x367')]['fog'],{'lineWidth':{'value':0x1},'map':{'value':null},'useMap':{'value':0x0},'alphaMap':{'value':null},'useAlphaMap':{'value':0x0},'useFadeOut':{'value':0x0},'fadeOutFactor':{'value':0x0},'color':{'value':new THREE[(_0x1cd8('0x1c3'))](0xffffff)},'opacity':{'value':0x1},'resolution':{'value':new THREE[(_0x1cd8('0x1c0'))](0x1,0x1)},'sizeAttenuation':{'value':0x1},'near':{'value':0x1},'far':{'value':0x1},'dashArray':{'value':0x0},'dashOffset':{'value':0x0},'dashRatio':{'value':0.5},'useDash':{'value':0x0},'visibility':{'value':0x1},'alphaTest':{'value':0x0},'repeat':{'value':new THREE[(_0x1cd8('0x1c0'))](0x1,0x1)},'offset':{'value':new THREE[(_0x1cd8('0x1c0'))](0x0,0x0)},'useChange':{'value':0x0}}),'vertexShader':THREE['ShaderChunk'][_0x1cd8('0x368')],'fragmentShader':THREE[_0x1cd8('0x178')][_0x1cd8('0x369')]}),this[_0x1cd8('0x101')]=_0x1cd8('0x2f4'),(0x0,_0x1b7fa0[_0x1cd8('0xa')])(this,{'lineWidth':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x2fa')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x2fa')][_0x1cd8('0xf')]=_0x547b84;}},'map':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0xdf')]['value'];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0xdf')][_0x1cd8('0xf')]=_0x547b84;}},'useMap':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1cd8('0x36a')][_0x1cd8('0xf')];},'set':function(_0x547b84){this['uniforms'][_0x1cd8('0x36a')]['value']=_0x547b84;}},'alphaMap':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x36b')]['value'];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x36b')]['value']=_0x547b84;}},'useAlphaMap':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x36c')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')]['useAlphaMap']['value']=_0x547b84;}},'useFadeOut':{'enumerable':!0x0,'get':function(){return this['uniforms']['useFadeOut']['value'];},'set':function(_0x547b84){this[_0x1cd8('0x176')]['useFadeOut'][_0x1cd8('0xf')]=_0x547b84;}},'color':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x220')]['value'];},'set':function(_0x547b84){this['uniforms'][_0x1cd8('0x220')][_0x1cd8('0xf')]=_0x547b84;}},'opacity':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')]['opacity'][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x20a')][_0x1cd8('0xf')]=_0x547b84;}},'resolution':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1cd8('0x2f8')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x2f8')][_0x1cd8('0xf')][_0x1cd8('0x1c6')](_0x547b84);}},'sizeAttenuation':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x2f9')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x2f9')][_0x1cd8('0xf')]=_0x547b84;}},'near':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x2fc')][_0x1cd8('0xf')];},'set':function(_0x547b84){this['uniforms'][_0x1cd8('0x2fc')]['value']=_0x547b84;}},'far':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x2fd')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x2fd')][_0x1cd8('0xf')]=_0x547b84;}},'dashArray':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')]['dashArray'][_0x1cd8('0xf')];},'set':function(_0x547b84){this['uniforms']['dashArray'][_0x1cd8('0xf')]=_0x547b84,this[_0x1cd8('0x36d')]=0x0!==_0x547b84?0x1:0x0;}},'dashOffset':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x2f7')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x2f7')][_0x1cd8('0xf')]=_0x547b84;}},'dashRatio':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x36e')]['value'];},'set':function(_0x547b84){this['uniforms'][_0x1cd8('0x36e')][_0x1cd8('0xf')]=_0x547b84;}},'useDash':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1cd8('0x36d')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')]['useDash'][_0x1cd8('0xf')]=_0x547b84;}},'visibility':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')]['visibility'][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x36f')][_0x1cd8('0xf')]=_0x547b84;}},'alphaTest':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x1f2')][_0x1cd8('0xf')];},'set':function(_0x547b84){this['uniforms'][_0x1cd8('0x1f2')][_0x1cd8('0xf')]=_0x547b84;}},'fadeOutFactor':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x324')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x324')][_0x1cd8('0xf')]=_0x547b84;}},'repeat':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x1cd8('0x2ea')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')][_0x1cd8('0x2ea')][_0x1cd8('0xf')][_0x1cd8('0x1c6')](_0x547b84);}},'offset':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')][_0x1cd8('0x10a')][_0x1cd8('0xf')];},'set':function(_0x547b84){this[_0x1cd8('0x176')]['offset']['value'][_0x1cd8('0x1c6')](_0x547b84);}},'useChange':{'enumerable':!0x0,'get':function(){return this[_0x1cd8('0x176')]['useChange']['value'];},'set':function(_0x547b84){this['uniforms'][_0x1cd8('0x370')][_0x1cd8('0xf')]=_0x547b84;}}}),this['setValues'](_0x547b84);}_0x547b84[_0x1cd8('0x11')][_0x1cd8('0x371')]=function(_0x547b84){this[_0x1cd8('0x364')]=_0x547b84;},_0x547b84[_0x1cd8('0x11')]['setGeometry']=function(_0x547b84,_0x5c6e68){if(this['widthCallback']=_0x5c6e68,this[_0x1cd8('0x35e')]=[],this[_0x1cd8('0x362')]=[],_0x547b84 instanceof THREE[_0x1cd8('0x300')])for(var _0x166dd0=0x0;_0x166dd0<_0x547b84[_0x1cd8('0x301')][_0x1cd8('0xc')];_0x166dd0++){var _0x3aa54a=_0x547b84['vertices'][_0x166dd0],_0x5c6e68=_0x166dd0/_0x547b84[_0x1cd8('0x301')]['length'];this['positions'][_0x1cd8('0x70')](_0x3aa54a['x'],_0x3aa54a['y'],_0x3aa54a['z']),this[_0x1cd8('0x35e')][_0x1cd8('0x70')](_0x3aa54a['x'],_0x3aa54a['y'],_0x3aa54a['z']),this[_0x1cd8('0x362')][_0x1cd8('0x70')](_0x5c6e68),this[_0x1cd8('0x362')][_0x1cd8('0x70')](_0x5c6e68);}if(THREE[_0x1cd8('0x316')],_0x547b84 instanceof Float32Array||_0x547b84 instanceof Array)for(_0x166dd0=0x0;_0x166dd0<_0x547b84[_0x1cd8('0xc')];_0x166dd0+=0x3)_0x5c6e68=_0x166dd0/_0x547b84[_0x1cd8('0xc')],this['positions'][_0x1cd8('0x70')](_0x547b84[_0x166dd0],_0x547b84[_0x166dd0+0x1],_0x547b84[_0x166dd0+0x2]),this[_0x1cd8('0x35e')][_0x1cd8('0x70')](_0x547b84[_0x166dd0],_0x547b84[_0x166dd0+0x1],_0x547b84[_0x166dd0+0x2]),this[_0x1cd8('0x362')][_0x1cd8('0x70')](_0x5c6e68),this[_0x1cd8('0x362')][_0x1cd8('0x70')](_0x5c6e68);this[_0x1cd8('0x293')]();},_0x547b84[_0x1cd8('0x11')][_0x1cd8('0x372')]=(_0x55a14b=new THREE[(_0x1cd8('0x317'))](),_0x1d59b8=new THREE[(_0x1cd8('0x373'))](),_0x151eee=new THREE[(_0x1cd8('0x374'))](),function(_0x547b84,_0x5c6e68){var _0x166dd0=_0x547b84[_0x1cd8('0x375')],_0x3aa54a=_0x166dd0*_0x166dd0,_0x166dd0=this[_0x1cd8('0xe0')];if(null===_0x166dd0[_0x1cd8('0x376')]&&_0x166dd0[_0x1cd8('0x377')](),_0x151eee[_0x1cd8('0x1c6')](_0x166dd0['boundingSphere']),_0x151eee[_0x1cd8('0x378')](this[_0x1cd8('0x364')]),!0x1!==_0x547b84[_0x1cd8('0x379')]['intersectSphere'](_0x151eee)){_0x55a14b['getInverse'](this['matrixWorld']),_0x1d59b8[_0x1cd8('0x1c6')](_0x547b84[_0x1cd8('0x379')])[_0x1cd8('0x378')](_0x55a14b);var _0xed79e1=new THREE[(_0x1cd8('0x57'))](),_0x9d93fc=new THREE[(_0x1cd8('0x57'))](),_0x1b7fa0=new THREE[(_0x1cd8('0x57'))](),_0x41dc2f=new THREE[(_0x1cd8('0x57'))](),_0x7f509a=this instanceof THREE['LineSegments']?0x2:0x1;if(_0x166dd0 instanceof THREE[_0x1cd8('0x316')]){var _0x3195d6=_0x166dd0[_0x1cd8('0x46')],_0x20f93c=_0x166dd0['attributes'];if(null!==_0x3195d6)for(var _0x50a7b1=_0x3195d6['array'],_0x2d56d9=_0x20f93c['position'][_0x1cd8('0xed')],_0x499c71=0x0,_0x13e783=_0x50a7b1['length']-0x1;_0x499c71<_0x13e783;_0x499c71+=_0x7f509a){var _0x203651=_0x50a7b1[_0x499c71],_0x1358bd=_0x50a7b1[_0x499c71+0x1];_0xed79e1[_0x1cd8('0x37a')](_0x2d56d9,0x3*_0x203651),_0x9d93fc[_0x1cd8('0x37a')](_0x2d56d9,0x3*_0x1358bd),_0x3aa54a<_0x1d59b8[_0x1cd8('0x37b')](_0xed79e1,_0x9d93fc,_0x41dc2f,_0x1b7fa0)||(_0x41dc2f['applyMatrix4'](this[_0x1cd8('0x364')]),(_0x582b03=_0x547b84[_0x1cd8('0x379')][_0x1cd8('0x37c')][_0x1cd8('0x2b8')](_0x41dc2f))<_0x547b84[_0x1cd8('0x2fc')]||_0x582b03>_0x547b84['far']||_0x5c6e68[_0x1cd8('0x70')]({'distance':_0x582b03,'point':_0x1b7fa0['clone']()[_0x1cd8('0x378')](this[_0x1cd8('0x364')]),'index':_0x499c71,'face':null,'faceIndex':null,'object':this}));}else for(_0x499c71=0x0,_0x13e783=(_0x2d56d9=_0x20f93c[_0x1cd8('0x3f')][_0x1cd8('0xed')])['length']/0x3-0x1;_0x499c71<_0x13e783;_0x499c71+=_0x7f509a)_0xed79e1['fromArray'](_0x2d56d9,0x3*_0x499c71),_0x9d93fc[_0x1cd8('0x37a')](_0x2d56d9,0x3*_0x499c71+0x3),_0x3aa54a<_0x1d59b8[_0x1cd8('0x37b')](_0xed79e1,_0x9d93fc,_0x41dc2f,_0x1b7fa0)||(_0x41dc2f['applyMatrix4'](this['matrixWorld']),(_0x582b03=_0x547b84[_0x1cd8('0x379')]['origin'][_0x1cd8('0x2b8')](_0x41dc2f))<_0x547b84['near']||_0x582b03>_0x547b84[_0x1cd8('0x2fd')]||_0x5c6e68[_0x1cd8('0x70')]({'distance':_0x582b03,'point':_0x1b7fa0[_0x1cd8('0x1bb')]()[_0x1cd8('0x378')](this[_0x1cd8('0x364')]),'index':_0x499c71,'face':null,'faceIndex':null,'object':this}));}else if(_0x166dd0 instanceof THREE[_0x1cd8('0x300')])for(var _0x582b03,_0x4ed3a1=_0x166dd0[_0x1cd8('0x301')],_0x1ed223=_0x4ed3a1[_0x1cd8('0xc')],_0x499c71=0x0;_0x499c71<_0x1ed223-0x1;_0x499c71+=_0x7f509a)_0x3aa54a<_0x1d59b8['distanceSqToSegment'](_0x4ed3a1[_0x499c71],_0x4ed3a1[_0x499c71+0x1],_0x41dc2f,_0x1b7fa0)||(_0x41dc2f['applyMatrix4'](this[_0x1cd8('0x364')]),(_0x582b03=_0x547b84[_0x1cd8('0x379')]['origin']['distanceTo'](_0x41dc2f))<_0x547b84[_0x1cd8('0x2fc')]||_0x582b03>_0x547b84[_0x1cd8('0x2fd')]||_0x5c6e68['push']({'distance':_0x582b03,'point':_0x1b7fa0[_0x1cd8('0x1bb')]()['applyMatrix4'](this[_0x1cd8('0x364')]),'index':_0x499c71,'face':null,'faceIndex':null,'object':this}));}}),_0x547b84[_0x1cd8('0x11')]['compareV3']=function(_0x547b84,_0x5c6e68){_0x547b84*=0x6,_0x5c6e68*=0x6;return this[_0x1cd8('0x35e')][_0x547b84]===this[_0x1cd8('0x35e')][_0x5c6e68]&&this['positions'][0x1+_0x547b84]===this[_0x1cd8('0x35e')][0x1+_0x5c6e68]&&this[_0x1cd8('0x35e')][0x2+_0x547b84]===this[_0x1cd8('0x35e')][0x2+_0x5c6e68];},_0x547b84[_0x1cd8('0x11')]['copyV3']=function(_0x547b84){_0x547b84*=0x6;return[this[_0x1cd8('0x35e')][_0x547b84],this[_0x1cd8('0x35e')][0x1+_0x547b84],this[_0x1cd8('0x35e')][0x2+_0x547b84]];},_0x547b84[_0x1cd8('0x11')][_0x1cd8('0x293')]=function(){var _0x547b84=this['positions'][_0x1cd8('0xc')]/0x6;this[_0x1cd8('0x37d')]=[],this['next']=[],this[_0x1cd8('0x35f')]=[],this[_0x1cd8('0x320')]=[],this[_0x1cd8('0x360')]=[],this[_0x1cd8('0x361')]=[];for(var _0x5c6e68,_0x166dd0=0x0;_0x166dd0<_0x547b84;_0x166dd0++)this['side'][_0x1cd8('0x70')](0x1),this[_0x1cd8('0x35f')][_0x1cd8('0x70')](-0x1);for(_0x166dd0=0x0;_0x166dd0<_0x547b84;_0x166dd0++)_0x5c6e68=this[_0x1cd8('0x363')]?this['widthCallback'](_0x166dd0/(_0x547b84-0x1)):0x1,this[_0x1cd8('0x320')][_0x1cd8('0x70')](_0x5c6e68),this[_0x1cd8('0x320')][_0x1cd8('0x70')](_0x5c6e68);for(var _0x3aa54a,_0x166dd0=0x0;_0x166dd0<_0x547b84;_0x166dd0++)this[_0x1cd8('0x361')][_0x1cd8('0x70')](_0x166dd0/(_0x547b84-0x1),0x0),this[_0x1cd8('0x361')][_0x1cd8('0x70')](_0x166dd0/(_0x547b84-0x1),0x1);for(_0x3aa54a=this['compareV3'](0x0,_0x547b84-0x1)?this['copyV3'](_0x547b84-0x2):this['copyV3'](0x0),this[_0x1cd8('0x37d')][_0x1cd8('0x70')](_0x3aa54a[0x0],_0x3aa54a[0x1],_0x3aa54a[0x2]),this[_0x1cd8('0x37d')][_0x1cd8('0x70')](_0x3aa54a[0x0],_0x3aa54a[0x1],_0x3aa54a[0x2]),_0x166dd0=0x0;_0x166dd0<_0x547b84-0x1;_0x166dd0++)_0x3aa54a=this[_0x1cd8('0x37e')](_0x166dd0),this[_0x1cd8('0x37d')][_0x1cd8('0x70')](_0x3aa54a[0x0],_0x3aa54a[0x1],_0x3aa54a[0x2]),this[_0x1cd8('0x37d')][_0x1cd8('0x70')](_0x3aa54a[0x0],_0x3aa54a[0x1],_0x3aa54a[0x2]);for(_0x166dd0=0x1;_0x166dd0<_0x547b84;_0x166dd0++)_0x3aa54a=this[_0x1cd8('0x37e')](_0x166dd0),this[_0x1cd8('0x7e')][_0x1cd8('0x70')](_0x3aa54a[0x0],_0x3aa54a[0x1],_0x3aa54a[0x2]),this['next'][_0x1cd8('0x70')](_0x3aa54a[0x0],_0x3aa54a[0x1],_0x3aa54a[0x2]);for(_0x3aa54a=this[_0x1cd8('0x37f')](_0x547b84-0x1,0x0)?this['copyV3'](0x1):this[_0x1cd8('0x37e')](_0x547b84-0x1),this[_0x1cd8('0x7e')][_0x1cd8('0x70')](_0x3aa54a[0x0],_0x3aa54a[0x1],_0x3aa54a[0x2]),this[_0x1cd8('0x7e')]['push'](_0x3aa54a[0x0],_0x3aa54a[0x1],_0x3aa54a[0x2]),_0x166dd0=0x0;_0x166dd0<_0x547b84-0x1;_0x166dd0++){var _0xed79e1=0x2*_0x166dd0;this[_0x1cd8('0x360')][_0x1cd8('0x70')](_0xed79e1,0x1+_0xed79e1,0x2+_0xed79e1),this[_0x1cd8('0x360')]['push'](0x2+_0xed79e1,0x1+_0xed79e1,0x3+_0xed79e1);}this[_0x1cd8('0x177')]?(this[_0x1cd8('0x177')][_0x1cd8('0x3f')][_0x1cd8('0x380')](new Float32Array(this[_0x1cd8('0x35e')])),this[_0x1cd8('0x177')]['position'][_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0x177')][_0x1cd8('0x37d')][_0x1cd8('0x380')](new Float32Array(this[_0x1cd8('0x37d')])),this[_0x1cd8('0x177')][_0x1cd8('0x37d')]['needsUpdate']=!0x0,this[_0x1cd8('0x177')][_0x1cd8('0x7e')][_0x1cd8('0x380')](new Float32Array(this[_0x1cd8('0x7e')])),this[_0x1cd8('0x177')][_0x1cd8('0x7e')][_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0x177')]['side']['copyArray'](new Float32Array(this[_0x1cd8('0x35f')])),this['attributes'][_0x1cd8('0x35f')][_0x1cd8('0x10b')]=!0x0,this['attributes'][_0x1cd8('0x320')][_0x1cd8('0x380')](new Float32Array(this[_0x1cd8('0x320')])),this[_0x1cd8('0x177')]['width'][_0x1cd8('0x10b')]=!0x0,this['attributes']['uv'][_0x1cd8('0x380')](new Float32Array(this[_0x1cd8('0x361')])),this[_0x1cd8('0x177')]['uv'][_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0x177')][_0x1cd8('0x46')][_0x1cd8('0x380')](new Uint16Array(this['indices_array'])),this[_0x1cd8('0x177')][_0x1cd8('0x46')]['needsUpdate']=!0x0):this['attributes']={'position':new THREE[(_0x1cd8('0x381'))](new Float32Array(this[_0x1cd8('0x35e')]),0x3),'previous':new THREE['BufferAttribute'](new Float32Array(this[_0x1cd8('0x37d')]),0x3),'next':new THREE['BufferAttribute'](new Float32Array(this['next']),0x3),'side':new THREE[(_0x1cd8('0x381'))](new Float32Array(this['side']),0x1),'width':new THREE[(_0x1cd8('0x381'))](new Float32Array(this[_0x1cd8('0x320')]),0x1),'uv':new THREE[(_0x1cd8('0x381'))](new Float32Array(this[_0x1cd8('0x361')]),0x2),'index':new THREE[(_0x1cd8('0x381'))](new Uint16Array(this[_0x1cd8('0x360')]),0x1),'counters':new THREE[(_0x1cd8('0x381'))](new Float32Array(this[_0x1cd8('0x362')]),0x1)},this[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x3f'),this[_0x1cd8('0x177')]['position']),this['geometry'][_0x1cd8('0x1fb')](_0x1cd8('0x37d'),this[_0x1cd8('0x177')][_0x1cd8('0x37d')]),this[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x7e'),this[_0x1cd8('0x177')][_0x1cd8('0x7e')]),this[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x35f'),this[_0x1cd8('0x177')]['side']),this['geometry']['addAttribute'](_0x1cd8('0x320'),this[_0x1cd8('0x177')]['width']),this[_0x1cd8('0xe0')][_0x1cd8('0x1fb')]('uv',this['attributes']['uv']),this[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x362'),this[_0x1cd8('0x177')][_0x1cd8('0x362')]),this['geometry'][_0x1cd8('0x382')](this[_0x1cd8('0x177')][_0x1cd8('0x46')]);},_0x547b84[_0x1cd8('0x11')][_0x1cd8('0x383')]=function(_0x547b84){var _0x5c6e68=this[_0x1cd8('0x177')][_0x1cd8('0x3f')][_0x1cd8('0xed')],_0x166dd0=this[_0x1cd8('0x177')][_0x1cd8('0x37d')][_0x1cd8('0xed')],_0x3aa54a=this[_0x1cd8('0x177')][_0x1cd8('0x7e')][_0x1cd8('0xed')],_0xed79e1=_0x5c6e68[_0x1cd8('0xc')];_0x9d93fc(_0x5c6e68,0x0,_0x166dd0,0x0,_0xed79e1),_0x9d93fc(_0x5c6e68,0x6,_0x5c6e68,0x0,_0xed79e1-0x6),_0x5c6e68[_0xed79e1-0x6]=_0x547b84['x'],_0x5c6e68[_0xed79e1-0x5]=_0x547b84['y'],_0x5c6e68[_0xed79e1-0x4]=_0x547b84['z'],_0x5c6e68[_0xed79e1-0x3]=_0x547b84['x'],_0x5c6e68[_0xed79e1-0x2]=_0x547b84['y'],_0x5c6e68[_0xed79e1-0x1]=_0x547b84['z'],_0x9d93fc(_0x5c6e68,0x6,_0x3aa54a,0x0,_0xed79e1-0x6),_0x3aa54a[_0xed79e1-0x6]=_0x547b84['x'],_0x3aa54a[_0xed79e1-0x5]=_0x547b84['y'],_0x3aa54a[_0xed79e1-0x4]=_0x547b84['z'],_0x3aa54a[_0xed79e1-0x3]=_0x547b84['x'],_0x3aa54a[_0xed79e1-0x2]=_0x547b84['y'],_0x3aa54a[_0xed79e1-0x1]=_0x547b84['z'],this['attributes'][_0x1cd8('0x3f')][_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0x177')]['previous'][_0x1cd8('0x10b')]=!0x0,this['attributes'][_0x1cd8('0x7e')][_0x1cd8('0x10b')]=!0x0;},THREE[_0x1cd8('0x178')]['meshline_vert']=['',THREE[_0x1cd8('0x178')][_0x1cd8('0x179')],THREE[_0x1cd8('0x178')][_0x1cd8('0x17a')],THREE[_0x1cd8('0x178')][_0x1cd8('0x17b')],'','attribute\x20vec3\x20previous;','attribute\x20vec3\x20next;',_0x1cd8('0x384'),_0x1cd8('0x385'),_0x1cd8('0x386'),_0x1cd8('0x387'),'',_0x1cd8('0x388'),'uniform\x20float\x20lineWidth;',_0x1cd8('0x389'),'uniform\x20float\x20opacity;',_0x1cd8('0x38a'),_0x1cd8('0x38b'),_0x1cd8('0x38c'),'',_0x1cd8('0x38d'),_0x1cd8('0x38e'),_0x1cd8('0x38f'),'varying\x20float\x20vCounters;','',_0x1cd8('0x390'),'','\x20\x20\x20\x20vec2\x20res\x20=\x20i.xy\x20/\x20i.w;',_0x1cd8('0x391'),_0x1cd8('0x392'),_0x1cd8('0x393'),'','}','',_0x1cd8('0x1ab'),'',_0x1cd8('0x394'),_0x1cd8('0x395'),'',_0x1cd8('0x396'),_0x1cd8('0x397'),_0x1cd8('0x398'),'',_0x1cd8('0x399'),_0x1cd8('0x39a'),_0x1cd8('0x39b'),_0x1cd8('0x39c'),'',_0x1cd8('0x39d'),_0x1cd8('0x39e'),_0x1cd8('0x39f'),'',_0x1cd8('0x3a0'),_0x1cd8('0x3a1'),'',_0x1cd8('0x3a2'),_0x1cd8('0x3a3'),_0x1cd8('0x147'),'','\x20\x20\x20\x20vec2\x20dir;',_0x1cd8('0x3a4'),_0x1cd8('0x3a5'),'\x20\x20\x20\x20else\x20{',_0x1cd8('0x3a6'),'\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir2\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20dir\x20=\x20normalize(\x20dir1\x20+\x20dir2\x20);','','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20perp\x20=\x20vec2(\x20-dir1.y,\x20dir1.x\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20miter\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);','\x20\x20\x20\x20\x20\x20\x20\x20//w\x20=\x20clamp(\x20w\x20/\x20dot(\x20miter,\x20perp\x20),\x200.,\x204.\x20*\x20lineWidth\x20*\x20width\x20);','',_0x1cd8('0x147'),'',_0x1cd8('0x3a7'),_0x1cd8('0x3a8'),'\x20\x20\x20\x20normal.x\x20/=\x20aspect;',_0x1cd8('0x3a9'),'',_0x1cd8('0x3aa'),_0x1cd8('0x3ab'),'',_0x1cd8('0x3ac'),'',THREE[_0x1cd8('0x178')][_0x1cd8('0x3ad')],THREE[_0x1cd8('0x178')][_0x1cd8('0x1a7')]&&_0x1cd8('0x3ae'),THREE['ShaderChunk'][_0x1cd8('0x1a7')],'}']['join']('\x0d\x0a'),THREE['ShaderChunk']['meshline_frag']=['',THREE[_0x1cd8('0x178')][_0x1cd8('0x1a8')],THREE[_0x1cd8('0x178')][_0x1cd8('0x3af')],'','uniform\x20sampler2D\x20map;',_0x1cd8('0x3b0'),_0x1cd8('0x3b1'),_0x1cd8('0x3b2'),_0x1cd8('0x3b3'),'uniform\x20float\x20useDash;',_0x1cd8('0x3b4'),_0x1cd8('0x3b5'),_0x1cd8('0x3b6'),_0x1cd8('0x3b7'),'uniform\x20float\x20alphaTest;',_0x1cd8('0x3b8'),_0x1cd8('0x3b9'),_0x1cd8('0x3ba'),'uniform\x20vec2\x20offset;','',_0x1cd8('0x38d'),'varying\x20vec4\x20vColor;','varying\x20float\x20vCounters;',_0x1cd8('0x38f'),'',_0x1cd8('0x1ab'),'',THREE[_0x1cd8('0x178')][_0x1cd8('0x1b1')],'',_0x1cd8('0x3bb'),_0x1cd8('0x3bc'),_0x1cd8('0x3bd'),_0x1cd8('0x3be'),_0x1cd8('0x3bf'),_0x1cd8('0x3c0'),_0x1cd8('0x3c1'),_0x1cd8('0x147'),_0x1cd8('0x3c2'),_0x1cd8('0x3c3'),_0x1cd8('0x3c4'),'',THREE[_0x1cd8('0x178')][_0x1cd8('0x1b3')],'}'][_0x1cd8('0x117')]('\x0d\x0a'),((_0x5c6e68[_0x1cd8('0x11')]=(0x0,_0xed79e1['default'])(THREE[_0x1cd8('0x1f0')][_0x1cd8('0x11')]))[_0x1cd8('0x88')]=_0x5c6e68)[_0x1cd8('0x11')][_0x1cd8('0x3c5')]=!0x0,_0x5c6e68[_0x1cd8('0x11')][_0x1cd8('0x1c6')]=function(_0x547b84){return THREE['ShaderMaterial'][_0x1cd8('0x11')][_0x1cd8('0x1c6')][_0x1cd8('0x1')](this,_0x547b84),this[_0x1cd8('0x2fa')]=_0x547b84['lineWidth'],this[_0x1cd8('0xdf')]=_0x547b84[_0x1cd8('0xdf')],this['useMap']=_0x547b84[_0x1cd8('0x36a')],this['alphaMap']=_0x547b84['alphaMap'],this['useAlphaMap']=_0x547b84[_0x1cd8('0x36c')],this[_0x1cd8('0x3c6')]=_0x547b84[_0x1cd8('0x3c6')],this[_0x1cd8('0x324')]=_0x547b84[_0x1cd8('0x324')],this[_0x1cd8('0x220')][_0x1cd8('0x1c6')](_0x547b84[_0x1cd8('0x220')]),this['opacity']=_0x547b84['opacity'],this['resolution'][_0x1cd8('0x1c6')](_0x547b84['resolution']),this[_0x1cd8('0x2f9')]=_0x547b84[_0x1cd8('0x2f9')],this[_0x1cd8('0x2fc')]=_0x547b84[_0x1cd8('0x2fc')],this[_0x1cd8('0x2fd')]=_0x547b84[_0x1cd8('0x2fd')],this[_0x1cd8('0x2f6')][_0x1cd8('0x1c6')](_0x547b84[_0x1cd8('0x2f6')]),this['dashOffset']['copy'](_0x547b84['dashOffset']),this[_0x1cd8('0x36e')][_0x1cd8('0x1c6')](_0x547b84[_0x1cd8('0x36e')]),this[_0x1cd8('0x36d')]=_0x547b84[_0x1cd8('0x36d')],this[_0x1cd8('0x36f')]=_0x547b84[_0x1cd8('0x36f')],this['alphaTest']=_0x547b84[_0x1cd8('0x1f2')],this[_0x1cd8('0x2ea')][_0x1cd8('0x1c6')](_0x547b84[_0x1cd8('0x2ea')]),this[_0x1cd8('0x10a')]['copy'](_0x547b84[_0x1cd8('0x10a')]),this;},(_0x3aa54a=_0x166dd0['exports']?_0x166dd0[_0x1cd8('0x0')]={'MeshLine':_0x547b84,'MeshLineMaterial':_0x5c6e68}:_0x3aa54a)[_0x1cd8('0x303')]=_0x547b84,_0x3aa54a['MeshLineMaterial']=_0x5c6e68;}[_0x1cd8('0x1')](void 0x0);},function(_0x52bbef,_0x4214b8,_0x1d771b){'use strict';_0x4214b8[_0x1cd8('0x6')]=!0x0;var _0x1d771b=_0x1d771b(0x32),_0x23b13d=_0x1d771b&&_0x1d771b[_0x1cd8('0x6')]?_0x1d771b:{'default':_0x1d771b};_0x4214b8['default']=function(_0x52bbef,_0x4214b8,_0x1d771b){return _0x4214b8 in _0x52bbef?(0x0,_0x23b13d['default'])(_0x52bbef,_0x4214b8,{'value':_0x1d771b,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x52bbef[_0x4214b8]=_0x1d771b,_0x52bbef;};},,function(_0x453359,_0x26c6a0,_0x291265){_0x453359[_0x1cd8('0x0')]={'default':_0x291265(0xb2),'__esModule':!0x0};},function(_0x370d6d,_0x460923,_0x17f225){'use strict';Object[_0x1cd8('0x4')](_0x460923,_0x1cd8('0x6'),{'value':!0x0});var _0x4ff71d=_0x1a247c(_0x17f225(0x0));function _0x1a247c(_0x370d6d){return _0x370d6d&&_0x370d6d[_0x1cd8('0x6')]?_0x370d6d:{'default':_0x370d6d};}function _0xeecf0(_0x370d6d){var _0x460923=_0x370d6d[_0x1cd8('0x2ad')],_0x17f225=_0x370d6d['isShowWater'],_0x1a247c=_0x370d6d[_0x1cd8('0x3c7')],_0x370d6d=_0x370d6d[_0x1cd8('0x3c8')];(0x0,_0x4ff71d[_0x1cd8('0xa')])(this,_0xeecf0),this[_0x1cd8('0x2ad')]=_0x460923,this['isShowWater']=_0x17f225,this['originColor']=_0x1a247c||new THREE['Color'](0xaadaff),this[_0x1cd8('0x3c8')]=_0x370d6d||new THREE[(_0x1cd8('0x1c3'))](0x135d63);}(0x0,_0x1a247c(_0x17f225(0x1))['default'])(_0xeecf0,[{'key':_0x1cd8('0x3c9'),'value':function(_0x370d6d){this[_0x1cd8('0x2ad')]=_0x370d6d;}},{'key':_0x1cd8('0x2d3'),'value':function(){this['view']&&this[_0x1cd8('0x3ca')]&&this['updateLayerNodesMaterial'](this[_0x1cd8('0x2ad')][_0x1cd8('0x3cb')][_0x1cd8('0x322')],function(_0x370d6d){_0x370d6d[_0x1cd8('0x3cc')]+=0.005;});}},{'key':_0x1cd8('0x3cd'),'value':function(_0x370d6d,_0x460923){_0x370d6d['traverse'](function(_0x370d6d){_0x370d6d['material']&&_0x460923(_0x370d6d[_0x1cd8('0x47')]);});}}]),_0x460923[_0x1cd8('0xa')]=_0xeecf0;},function(_0x2202b0,_0x1fce79,_0xa98d73){'use strict';Object[_0x1cd8('0x4')](_0x1fce79,_0x1cd8('0x6'),{'value':!0x0});var _0x585bdf=_0xed02e6(_0xa98d73(0x0));function _0xed02e6(_0x2202b0){return _0x2202b0&&_0x2202b0[_0x1cd8('0x6')]?_0x2202b0:{'default':_0x2202b0};}function _0x568ddd(_0x2202b0){var _0x1fce79=_0x2202b0[_0x1cd8('0x9f')],_0xa98d73=_0x2202b0[_0x1cd8('0x2f3')],_0xa98d73=void 0x0===_0xa98d73?_0x1cd8('0x3ce'):_0xa98d73,_0xed02e6=_0x2202b0[_0x1cd8('0x3cf')],_0x341c67=_0x2202b0[_0x1cd8('0x226')],_0x2202b0=_0x2202b0[_0x1cd8('0x326')],_0x2202b0=void 0x0===_0x2202b0?0x1:_0x2202b0;(0x0,_0x585bdf[_0x1cd8('0xa')])(this,_0x568ddd),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x2f3')]=_0xa98d73,this[_0x1cd8('0x3cf')]=_0xed02e6,this[_0x1cd8('0x47')]=null,this['shaderMesh']=null,this[_0x1cd8('0x226')]=_0x341c67||0xc8,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x326')]=_0x2202b0,this[_0x1cd8('0x2f2')](_0xa98d73,_0x1fce79);}(0x0,_0xed02e6(_0xa98d73(0x1))[_0x1cd8('0xa')])(_0x568ddd,[{'key':_0x1cd8('0x2f2'),'value':function(_0x2202b0,_0x1fce79){var _0xa98d73=this;this['material']=new THREE[(_0x1cd8('0x3d1'))]({'transparent':!0x0}),this[_0x1cd8('0x47')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x2202b0),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x2202b0){_0x2202b0['uniforms']['iTime']={'value':0x0},_0x2202b0[_0x1cd8('0x176')][_0x1cd8('0x1f5')]={'value':_0xa98d73[_0x1cd8('0x3cf')]?-0x1:0x1},_0x2202b0['uniforms'][_0x1cd8('0x3d3')]={'value':_0x1fce79},_0x2202b0['vertexShader']=_0x2202b0[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<uv_pars_vertex>',_0x1cd8('0x3d5')),_0x2202b0[_0x1cd8('0x3d4')]=_0x2202b0[_0x1cd8('0x3d4')]['replace'](_0x1cd8('0x3d6'),_0x1cd8('0x3d7')),_0x2202b0[_0x1cd8('0x56')]=_0x2202b0[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2202b0[_0x1cd8('0x56')]=_0x2202b0[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20vec4(0.0,\x200.768,\x201.0,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.018);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texCol.rgb\x20*\x20diffuseColor.rgb,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xa98d73['shader']=_0x2202b0;};}},{'key':_0x1cd8('0x7'),'value':function(){var _0x2202b0=new THREE['PlaneBufferGeometry'](this[_0x1cd8('0x226')],this[_0x1cd8('0x226')]),_0x2202b0=new THREE[(_0x1cd8('0x30c'))](_0x2202b0,this[_0x1cd8('0x47')]);return _0x2202b0['rotation']['x']=0.5*-Math['PI'],_0x2202b0[_0x1cd8('0x30d')]=0x45,this['object3d'][_0x1cd8('0x1cd')](_0x2202b0),_0x2202b0;}},{'key':'render','value':function(){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=0.01*this[_0x1cd8('0x326')],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x3da')]['value']=this[_0x1cd8('0x10f')]);}}]),_0x1fce79[_0x1cd8('0xa')]=_0x568ddd;},function(_0xb084a0,_0x54a269,_0x5190a7){'use strict';Object[_0x1cd8('0x4')](_0x54a269,_0x1cd8('0x6'),{'value':!0x0});var _0x5143a2=_0x323778(_0x5190a7(0x0));function _0x323778(_0xb084a0){return _0xb084a0&&_0xb084a0[_0x1cd8('0x6')]?_0xb084a0:{'default':_0xb084a0};}function _0x46e81d(_0xb084a0){var _0x54a269=_0xb084a0['colorStr'],_0x54a269=void 0x0===_0x54a269?_0x1cd8('0x3db'):_0x54a269,_0x5190a7=_0xb084a0[_0x1cd8('0x226')],_0x5190a7=void 0x0===_0x5190a7?0x3e8:_0x5190a7,_0xb084a0=_0xb084a0['speed'],_0xb084a0=void 0x0===_0xb084a0?0.02:_0xb084a0;(0x0,_0x5143a2[_0x1cd8('0xa')])(this,_0x46e81d),this['object3d']=new THREE['Object3D'](),this[_0x1cd8('0x2f3')]=_0x54a269,this[_0x1cd8('0x2f3')]?(this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x3dc')]=null,this[_0x1cd8('0x226')]=_0x5190a7||0xc8,this[_0x1cd8('0x3d0')]=null,this['count']=0x0,this[_0x1cd8('0x2f2')](_0x54a269),this[_0x1cd8('0x3dd')]=_0xb084a0):console[_0x1cd8('0x1fe')](_0x1cd8('0x3de'));}(0x0,_0x323778(_0x5190a7(0x1))[_0x1cd8('0xa')])(_0x46e81d,[{'key':_0x1cd8('0x2f2'),'value':function(_0xb084a0){var _0x54a269=new THREE['Color']()[_0x1cd8('0x2f5')](_0xb084a0),_0x5190a7=this;this['material']=new THREE[(_0x1cd8('0x3d1'))]({'transparent':!0x0,'depthWrite':!0x1,'color':0x0}),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0xb084a0){_0xb084a0['uniforms'][_0x1cd8('0x2c9')]={'value':0x0},_0xb084a0['uniforms'][_0x1cd8('0x220')]={'value':_0x54a269},_0xb084a0[_0x1cd8('0x3d4')]=_0xb084a0[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xb084a0['vertexShader']=_0xb084a0['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x3e0')),_0xb084a0['fragmentShader']=_0xb084a0[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x3e1')),_0xb084a0[_0x1cd8('0x56')]=_0xb084a0['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x3e2')),_0x5190a7[_0x1cd8('0x3d0')]=_0xb084a0;};}},{'key':'create','value':function(){var _0xb084a0=new THREE[(_0x1cd8('0x3e3'))](this['radius'],this[_0x1cd8('0x226')]),_0xb084a0=new THREE['Mesh'](_0xb084a0,this[_0x1cd8('0x47')]);return _0xb084a0[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0xb084a0),_0xb084a0;}},{'key':_0x1cd8('0x325'),'value':function(){this[_0x1cd8('0x3d0')]&&(this['count']+=this[_0x1cd8('0x3dd')],this[_0x1cd8('0x3d0')]['uniforms']['time'][_0x1cd8('0xf')]=this[_0x1cd8('0x10f')]);}}]),_0x54a269[_0x1cd8('0xa')]=_0x46e81d;},function(_0x457a1d,_0x4de478,_0x34337b){'use strict';Object[_0x1cd8('0x4')](_0x4de478,_0x1cd8('0x6'),{'value':!0x0});var _0x59b3ce=_0x161004(_0x34337b(0x0));function _0x161004(_0x457a1d){return _0x457a1d&&_0x457a1d['__esModule']?_0x457a1d:{'default':_0x457a1d};}function _0x1f8655(_0x457a1d){_0x457a1d=_0x457a1d[_0x1cd8('0x2f3')],_0x457a1d=void 0x0===_0x457a1d?'#58ecff':_0x457a1d;(0x0,_0x59b3ce[_0x1cd8('0xa')])(this,_0x1f8655),this[_0x1cd8('0x322')]=new THREE['Group'](),this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x3d0')]=null,this['count']=0x0,this[_0x1cd8('0x2f2')](_0x457a1d);}(0x0,_0x161004(_0x34337b(0x1))[_0x1cd8('0xa')])(_0x1f8655,[{'key':'createMaterial','value':function(_0x457a1d,_0x4de478,_0x34337b,_0x59b3ce){var _0x161004=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x457a1d),_0x1f8655=this;this['material']=new THREE[(_0x1cd8('0x3d1'))]({'transparent':!0x0,'depthWrite':!0x1,'opacity':0x0,'side':THREE[_0x1cd8('0x2fe')]}),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x457a1d){_0x457a1d['uniforms'][_0x1cd8('0x3da')]={'value':0x0},_0x457a1d[_0x1cd8('0x176')]['uvRadius']={'value':_0x4de478||0.38},_0x457a1d[_0x1cd8('0x176')]['lineWidth']={'value':_0x34337b||0.01},_0x457a1d[_0x1cd8('0x176')][_0x1cd8('0x3e4')]={'value':_0x59b3ce||0x2},_0x457a1d[_0x1cd8('0x176')][_0x1cd8('0x220')]={'value':_0x161004},_0x457a1d[_0x1cd8('0x3d4')]=_0x457a1d[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),_0x1cd8('0x3d5')),_0x457a1d['vertexShader']=_0x457a1d[_0x1cd8('0x3d4')]['replace']('#include\x20<uv_vertex>',_0x1cd8('0x3d7')),_0x457a1d['fragmentShader']=_0x457a1d[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20uvRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lineWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20segment;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20N_PI\x203.14\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20TWO_PI\x206.28\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20TIMESCALE\x201.0\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotationMatrix(in\x20float\x20angle)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat2(-cos(angle),\x20sin(angle),\x20-sin(angle),\x20-cos(angle));\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20circle(in\x20vec2\x20uv,\x20in\x20float\x20radius,\x20in\x20float\x20width)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20smoothstep(width,\x20width\x20*\x200.5,\x20abs(radius\x20-\x20length(uv)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dashedCircle(vec2\x20uv,\x20in\x20float\x20radius,\x20in\x20float\x20width,\x20in\x20float\x20density)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20atan(uv.y,\x20uv.x)\x20+\x20N_PI;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20angle\x20/=\x20TWO_PI;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20angle\x20=\x20fract(angle\x20*\x20density);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20circ\x20=\x20circle(uv,\x20radius,\x20width);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20circ\x20*\x20smoothstep(0.1,\x200.11,\x20abs(angle\x20-\x200.5));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x457a1d['fragmentShader']=_0x457a1d['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20time\x20=\x20iTime\x20*\x20TIMESCALE;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20rotationUv\x20=\x20vec2(x,\x20y)\x20*\x20rotationMatrix(time);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dashCir1\x20=\x20dashedCircle(rotationUv,\x20uvRadius,\x20lineWidth,\x20segment);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20cv\x20=\x20dashCir1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(cv\x20>\x200.5)\x20resultColor.a\x20=\x200.8;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20cv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20color;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1f8655[_0x1cd8('0x3d0')]=_0x457a1d;};}},{'key':_0x1cd8('0x7'),'value':function(_0x457a1d){var _0x457a1d=_0x457a1d[_0x1cd8('0x226')],_0x4de478=new THREE[(_0x1cd8('0x57'))](),_0x34337b=new THREE[(_0x1cd8('0x30c'))](new THREE[(_0x1cd8('0x3e5'))](_0x457a1d,0x20),this['material']),_0x59b3ce=new THREE['Mesh'](new THREE['CircleBufferGeometry'](0.7*_0x457a1d,0x20),this[_0x1cd8('0x47')]),_0x457a1d=new THREE['Mesh'](new THREE[(_0x1cd8('0x3e5'))](0.4*_0x457a1d,0x20),this[_0x1cd8('0x47')]);return _0x34337b[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x4de478['x'],_0x4de478['y'],_0x4de478['z']),_0x34337b['rotation'][_0x1cd8('0x1b')](0.5*-Math['PI'],0x0,0.5*Math['PI']),_0x59b3ce[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x4de478['x'],_0x4de478['y']+0xa,_0x4de478['z']),_0x59b3ce[_0x1cd8('0x1f7')]['set'](0.5*-Math['PI'],0x0,Math['PI']),_0x457a1d[_0x1cd8('0x3f')]['set'](_0x4de478['x'],_0x4de478['y']+0x14,_0x4de478['z']),_0x457a1d[_0x1cd8('0x1f7')][_0x1cd8('0x1b')](0.5*Math['PI'],0x0,1.5*Math['PI']),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x34337b),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x59b3ce),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x457a1d),this['object3d'];}},{'key':_0x1cd8('0x325'),'value':function(_0x457a1d){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=_0x457a1d,this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['iTime'][_0x1cd8('0xf')]=this['count']);}}]),_0x4de478[_0x1cd8('0xa')]=_0x1f8655;},function(_0x4ae9bb,_0x2e3961,_0xd7ef03){'use strict';Object['defineProperty'](_0x2e3961,_0x1cd8('0x6'),{'value':!0x0});var _0x34af0b=_0x207105(_0xd7ef03(0x0));function _0x207105(_0x4ae9bb){return _0x4ae9bb&&_0x4ae9bb[_0x1cd8('0x6')]?_0x4ae9bb:{'default':_0x4ae9bb};}function _0x141c31(_0x4ae9bb){var _0x2e3961=_0x4ae9bb['radius'],_0x2e3961=void 0x0===_0x2e3961?0x32:_0x2e3961,_0x4ae9bb=_0x4ae9bb[_0x1cd8('0x3e6')],_0x4ae9bb=void 0x0!==_0x4ae9bb&&_0x4ae9bb;(0x0,_0x34af0b['default'])(this,_0x141c31),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x47')]=null,this['coneMaterial']=null,this['shader']=null,this['sphere']=null,this[_0x1cd8('0x10f')]=0x0,this['isCanUpdateAnimate']=!0x1,this[_0x1cd8('0x3e6')]=_0x4ae9bb,this['testBox']=null,this[_0x1cd8('0x3e7')]=new THREE[(_0x1cd8('0x57'))](),this[_0x1cd8('0x3e8')]=0xa,this[_0x1cd8('0x3e9')]=0x0,this['upCount']=0x0,this[_0x1cd8('0x3ea')]=new THREE['Group'](),this[_0x1cd8('0x3eb')]=null,this[_0x1cd8('0x3ec')]=null,this[_0x1cd8('0x3ed')]=null,this[_0x1cd8('0x3ee')]=null,this[_0x1cd8('0x226')]=_0x2e3961;}(0x0,_0x207105(_0xd7ef03(0x1))[_0x1cd8('0xa')])(_0x141c31,[{'key':_0x1cd8('0x7'),'value':function(_0x4ae9bb){var _0x2e3961=_0x4ae9bb[_0x1cd8('0x9f')],_0xd7ef03=_0x4ae9bb['coneTex'],_0x4ae9bb=_0x4ae9bb[_0x1cd8('0x2f3')],_0x4ae9bb=void 0x0===_0x4ae9bb?_0x1cd8('0x3ef'):_0x4ae9bb,_0x34af0b=(_0x2e3961[_0x1cd8('0x3f0')]=THREE[_0x1cd8('0x3f1')],_0x2e3961[_0x1cd8('0x3f2')]=THREE[_0x1cd8('0x3f3')],_0x2e3961[_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0x2e3961[_0x1cd8('0x3f4')]=THREE['RepeatWrapping'],_0x2e3961['offset']['y']=-0.15,_0xd7ef03[_0x1cd8('0x3f0')]=THREE[_0x1cd8('0x3f1')],_0xd7ef03['minFilter']=THREE[_0x1cd8('0x3f3')],_0xd7ef03[_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0xd7ef03['wrapT']=THREE['RepeatWrapping'],_0xd7ef03[_0x1cd8('0x2ea')]['x']=0xa,_0xd7ef03[_0x1cd8('0x10a')]['y']=0.05,new THREE[(_0x1cd8('0x3f5'))](0x1,0x20,0x20)),_0x4ae9bb=(this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffeb3b,'transparent':!0x0,'blending':THREE[_0x1cd8('0x1e0')],'depthWrite':!0x1}),_0x4ae9bb&&(this[_0x1cd8('0x47')]['color']=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x4ae9bb)),this[_0x1cd8('0x47')][_0x1cd8('0x36b')]=_0x2e3961,new THREE['Mesh'](_0x34af0b,this['material']));return _0x4ae9bb[_0x1cd8('0x3f6')][_0x1cd8('0x1b')](this[_0x1cd8('0x226')],this[_0x1cd8('0x226')],this[_0x1cd8('0x226')]),this[_0x1cd8('0x3f7')]=_0x4ae9bb,this['sphere'][_0x1cd8('0x327')]=!0x1,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x4ae9bb),this['isShowConeScan']&&(this[_0x1cd8('0x3f8')](this[_0x1cd8('0x3ea')],_0xd7ef03),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](this[_0x1cd8('0x3ea')])),this['object3d'];}},{'key':_0x1cd8('0x3f8'),'value':function(_0x4ae9bb,_0x2e3961){var _0xd7ef03=new THREE['CylinderBufferGeometry'](0x0,1.5*this[_0x1cd8('0x226')],2.7*this[_0x1cd8('0x226')],0x20,0x1,!0x0);_0xd7ef03[_0x1cd8('0x3f9')](Math['PI']/0x2),this[_0x1cd8('0x3fa')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffeb3b,'transparent':!0x0,'blending':THREE[_0x1cd8('0x1e0')]}),this['coneMaterial'][_0x1cd8('0xdf')]=_0x2e3961,this[_0x1cd8('0x3eb')]=new THREE[(_0x1cd8('0x30c'))](_0xd7ef03,this[_0x1cd8('0x3fa')]),this['coneMesh2']=this[_0x1cd8('0x3eb')]['clone'](),this[_0x1cd8('0x3ed')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x3ed')][_0x1cd8('0x1cd')](this['coneMesh1']),this[_0x1cd8('0x3ee')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x3ee')][_0x1cd8('0x1cd')](this[_0x1cd8('0x3ec')]),this[_0x1cd8('0x3ed')][_0x1cd8('0x3f')]['set'](0.688*this['radius'],1.2*-this[_0x1cd8('0x226')],0x0),this[_0x1cd8('0x3ee')][_0x1cd8('0x3f')][_0x1cd8('0x1b')](0.688*-this[_0x1cd8('0x226')],1.2*-this[_0x1cd8('0x226')],0x0),this[_0x1cd8('0x3ed')]['lookAt'](this['lookAtPoint']),this[_0x1cd8('0x3ee')][_0x1cd8('0x3fb')](this[_0x1cd8('0x3e7')]),_0x4ae9bb[_0x1cd8('0x1cd')](this[_0x1cd8('0x3ed')]),_0x4ae9bb[_0x1cd8('0x1cd')](this['cone2']);}},{'key':'animate','value':function(){var _0x4ae9bb=this;setInterval(function(){_0x4ae9bb['isCanUpdateAnimate']=!0x0,_0x4ae9bb[_0x1cd8('0x3f7')][_0x1cd8('0x327')]=!0x0;},0xbb8);}},{'key':_0x1cd8('0x3fc'),'value':function(){new TWEEN[(_0x1cd8('0x2cd'))](this[_0x1cd8('0x3e7')])['to'](targetPos,time)[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x3fd')][_0x1cd8('0x3fe')])['onStart'](function(){callback&&callback();})[_0x1cd8('0x2d1')]();}},{'key':_0x1cd8('0x325'),'value':function(){var _0x4ae9bb,_0x2e3961;this['sphere']&&this['isCanUpdateAnimate']&&(this['count']+=0.01,0x1<this['count']&&(this['count']=0x0,this[_0x1cd8('0x3ff')]=!0x1),_0x4ae9bb=0.5*(0x1-Math[_0x1cd8('0x59')](this[_0x1cd8('0x10f')]*Math['PI']*0x2)),_0x2e3961=this[_0x1cd8('0x226')]*(0x1-Math[_0x1cd8('0x59')](this[_0x1cd8('0x10f')]*Math['PI']))+0.01,this[_0x1cd8('0x3f7')][_0x1cd8('0x3f6')][_0x1cd8('0x1b')](_0x2e3961,_0x2e3961,_0x2e3961),this[_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0x4ae9bb),this[_0x1cd8('0x322')]&&this['isShowConeScan']&&(this[_0x1cd8('0x3ea')][_0x1cd8('0x1f7')]['y']+=0.01,this[_0x1cd8('0x3eb')]['rotation']['z']+=0.04,this[_0x1cd8('0x3ec')][_0x1cd8('0x1f7')]['z']+=0.04);}},{'key':'visible','set':function(_0x4ae9bb){this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x4ae9bb;}}]),_0x2e3961[_0x1cd8('0xa')]=_0x141c31;},function(_0x3d484c,_0x39edcc,_0x2e728d){'use strict';Object[_0x1cd8('0x4')](_0x39edcc,_0x1cd8('0x6'),{'value':!0x0});var _0x57e8b4=_0x468395(_0x2e728d(0x4)),_0x1ba8fc=_0x468395(_0x2e728d(0x0));function _0x468395(_0x3d484c){return _0x3d484c&&_0x3d484c['__esModule']?_0x3d484c:{'default':_0x3d484c};}function _0x2c54e3(_0x3d484c){var _0x39edcc=_0x3d484c[_0x1cd8('0x2fb')],_0x2e728d=_0x3d484c['controls'],_0x468395=_0x3d484c[_0x1cd8('0x2f3')],_0x468395=void 0x0===_0x468395?_0x1cd8('0x400'):_0x468395,_0xa8a5d9=_0x3d484c[_0x1cd8('0x9f')],_0x49e4a4=_0x3d484c[_0x1cd8('0x401')],_0x3d484c=_0x3d484c[_0x1cd8('0x326')],_0x3d484c=void 0x0===_0x3d484c?0.005:_0x3d484c;(0x0,_0x1ba8fc[_0x1cd8('0xa')])(this,_0x2c54e3),this[_0x1cd8('0x2fb')]=_0x39edcc,this[_0x1cd8('0x2ae')]=_0x2e728d,this['object3d']=new THREE['Object3D'](),this[_0x1cd8('0x402')]=new THREE[(_0x1cd8('0x57'))](),this[_0x1cd8('0x47')]=null,this['shader']=null,this['count']=0x0,this[_0x1cd8('0x403')]=0x0,this[_0x1cd8('0x326')]=_0x3d484c,this[_0x1cd8('0x404')]=!0x1,this[_0x1cd8('0x405')]=!0x1,this[_0x1cd8('0x406')]=[],this[_0x1cd8('0x2f2')]({'colorStr':_0x468395,'texture':_0xa8a5d9,'alphaTex':_0x49e4a4}),this[_0x1cd8('0x407')]=0x0;}(0x0,_0x468395(_0x2e728d(0x1))['default'])(_0x2c54e3,[{'key':_0x1cd8('0x2f2'),'value':function(_0x3d484c){var _0x39edcc=_0x3d484c[_0x1cd8('0x2f3')],_0x2e728d=_0x3d484c[_0x1cd8('0x9f')],_0x468395=_0x3d484c[_0x1cd8('0x401')],_0x17cd7c=(_0x2e728d[_0x1cd8('0x32e')]=THREE['RepeatWrapping'],_0x2e728d['wrapT']=THREE['RepeatWrapping'],this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'side':THREE[_0x1cd8('0x2fe')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1cd8('0x1e0')]}),_0x39edcc&&(this['material']['color']=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x39edcc)),this);this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x3d484c){_0x3d484c[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':0x1},_0x3d484c[_0x1cd8('0x176')]['exRadius']={'value':_0x17cd7c['extentRadius']},_0x3d484c[_0x1cd8('0x176')]['numTex']={'value':_0x2e728d},_0x3d484c[_0x1cd8('0x176')]['alphaTex']={'value':_0x468395},_0x3d484c[_0x1cd8('0x3d4')]=_0x3d484c[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20attribute\x20vec3\x20posOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20speed;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20to\x20fix\x20lookat\x20camera\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20applyQuaternionToVector(\x20vec4\x20q,\x20vec3\x20v\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20v\x20+\x202.0\x20*\x20cross(\x20q.xyz,\x20cross(\x20q.xyz,\x20v\x20)\x20+\x20q.w\x20*\x20v\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3d484c[_0x1cd8('0x3d4')]=_0x3d484c['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x408'),_0x1cd8('0x409')),_0x3d484c['vertexShader']=_0x3d484c['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x40a'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20modelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3d484c['fragmentShader']=_0x3d484c[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20numTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3d484c[_0x1cd8('0x56')]=_0x3d484c[_0x1cd8('0x56')]['replace']('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1cd8('0x40b')),_0x17cd7c[_0x1cd8('0x3d0')]=_0x3d484c;};}},{'key':'create','value':function(_0x3d484c){for(var _0x39edcc=_0x3d484c[_0x1cd8('0x320')],_0x39edcc=void 0x0===_0x39edcc?0xa:_0x39edcc,_0x2e728d=_0x3d484c[_0x1cd8('0x2f1')],_0x2e728d=void 0x0===_0x2e728d?0x50:_0x2e728d,_0x3d484c=_0x3d484c['extentRadius'],_0x3d484c=(this[_0x1cd8('0x407')]=void 0x0===_0x3d484c?0x64:_0x3d484c,new THREE[(_0x1cd8('0x3e3'))](_0x39edcc,_0x2e728d)),_0x468395=_0x3d484c[_0x1cd8('0x40c')](_0x1cd8('0x3f'))[_0x1cd8('0x10f')],_0x18e055=[],_0xaa1550=THREE[_0x1cd8('0x15')][_0x1cd8('0x40d')](0.08,0.15),_0x57e8b4=0x0;_0x57e8b4<_0x468395;_0x57e8b4++)_0x18e055[_0x1cd8('0x70')](_0xaa1550);_0x3d484c[_0x1cd8('0x1fb')](_0x1cd8('0x326'),new THREE[(_0x1cd8('0x40e'))](_0x18e055,0x1));_0x39edcc=new THREE['Mesh'](_0x3d484c,this[_0x1cd8('0x47')]);return _0x39edcc[_0x1cd8('0x30d')]=0x47,_0x39edcc[_0x1cd8('0x40f')]=!0x1,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x39edcc),this['list'][_0x1cd8('0x70')](_0x39edcc),_0x39edcc;}},{'key':_0x1cd8('0x410'),'value':function(_0x3d484c){for(var _0x39edcc=_0x3d484c[_0x1cd8('0x407')],_0x2e728d=void 0x0===_0x39edcc?0x64:_0x39edcc,_0x39edcc=_0x3d484c[_0x1cd8('0x2fa')],_0x468395=void 0x0===_0x39edcc?0x1:_0x39edcc,_0x39edcc=_0x3d484c[_0x1cd8('0x411')],_0x39721b=void 0x0===_0x39edcc?0x8:_0x39edcc,_0x39edcc=_0x3d484c[_0x1cd8('0x412')],_0x23dc4b=void 0x0===_0x39edcc?0x32:_0x39edcc,_0x57e8b4=0x0;_0x57e8b4<_0x23dc4b;_0x57e8b4++){var _0x1ba8fc=this[_0x1cd8('0x7')]({'width':_0x468395,'height':_0x39721b,'extentRadius':_0x2e728d});_0x1ba8fc[_0x1cd8('0x40f')]=!0x1,_0x1ba8fc[_0x1cd8('0x3f')][_0x1cd8('0x1b')](-Math['random']()*_0x2e728d+_0x2e728d/0x2,-Math[_0x1cd8('0x20')]()*_0x2e728d,-Math['random']()*_0x2e728d+_0x2e728d/0x2);}}},{'key':'setUpdateListen','value':function(){this[_0x1cd8('0x404')]=!0x0;var _0x39edcc=this;this[_0x1cd8('0x413')](),this['controls'][_0x1cd8('0x29d')]('start',function(_0x3d484c){_0x39edcc[_0x1cd8('0x405')]=!0x0;}),this[_0x1cd8('0x2ae')]['addEventListener'](_0x1cd8('0x414'),function(_0x3d484c){_0x39edcc[_0x1cd8('0x405')]=!0x1;});}},{'key':_0x1cd8('0x413'),'value':function(){if(this['camera']){var _0x3d484c=!0x0,_0x39edcc=!0x1,_0x2e728d=void 0x0;try{for(var _0x468395,_0x3db1b0=(0x0,_0x57e8b4[_0x1cd8('0xa')])(this[_0x1cd8('0x406')]);!(_0x3d484c=(_0x468395=_0x3db1b0['next']())[_0x1cd8('0x8e')]);_0x3d484c=!0x0){var _0x319df5=_0x468395[_0x1cd8('0xf')];this[_0x1cd8('0x402')]['set'](this[_0x1cd8('0x2fb')][_0x1cd8('0x3f')]['x'],_0x319df5[_0x1cd8('0x3f')]['y'],this['camera'][_0x1cd8('0x3f')]['z']),_0x319df5[_0x1cd8('0x3fb')](this[_0x1cd8('0x402')]);}}catch(_0x15a59e){_0x39edcc=!0x0,_0x2e728d=_0x15a59e;}finally{try{!_0x3d484c&&_0x3db1b0['return']&&_0x3db1b0[_0x1cd8('0xa1')]();}finally{if(_0x39edcc)throw _0x2e728d;}}}}},{'key':_0x1cd8('0x325'),'value':function(){this[_0x1cd8('0x404')]&&(this[_0x1cd8('0x405')]&&this['setLookAtCamera'](),this[_0x1cd8('0x10f')]+=this[_0x1cd8('0x326')],this['shader']&&(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x3da')]['value']=this[_0x1cd8('0x10f')]));}},{'key':'visible','set':function(_0x3d484c){this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x3d484c;},'get':function(){return this[_0x1cd8('0x322')][_0x1cd8('0x327')];}}]),_0x39edcc['default']=_0x2c54e3;},function(_0x35b35b,_0x3d9a79,_0x15a5f9){'use strict';Object[_0x1cd8('0x4')](_0x3d9a79,_0x1cd8('0x6'),{'value':!0x0});var _0x273f2e=_0xcaf42c(_0x15a5f9(0x0));function _0xcaf42c(_0x35b35b){return _0x35b35b&&_0x35b35b[_0x1cd8('0x6')]?_0x35b35b:{'default':_0x35b35b};}function _0x37fb36(_0x35b35b){var _0x3d9a79=_0x35b35b[_0x1cd8('0x9f')],_0x15a5f9=_0x35b35b[_0x1cd8('0x415')],_0x35b35b=_0x35b35b[_0x1cd8('0x2f3')];(0x0,_0x273f2e['default'])(this,_0x37fb36),this[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x35b35b),this[_0x1cd8('0x47')]=null,this['shader']=null,this[_0x1cd8('0x10f')]=0x0,this['createMaterial'](_0x15a5f9,_0x3d9a79);}(0x0,_0xcaf42c(_0x15a5f9(0x1))[_0x1cd8('0xa')])(_0x37fb36,[{'key':'createMaterial','value':function(_0x3d9a79,_0x15a5f9){var _0x273f2e=this;return this[_0x1cd8('0x47')]=new THREE['SpriteMaterial']({'transparent':!0x0}),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x35b35b){_0x35b35b['uniforms']['iTime']={'value':0x0},_0x35b35b[_0x1cd8('0x176')]['activeColor']={'value':_0x273f2e[_0x1cd8('0x220')]},_0x35b35b[_0x1cd8('0x176')][_0x1cd8('0x415')]={'value':_0x3d9a79},_0x15a5f9&&(_0x35b35b[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x15a5f9}),_0x35b35b[_0x1cd8('0x3d4')]=_0x35b35b['vertexShader']['replace'](_0x1cd8('0x3df'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x35b35b['vertexShader']=_0x35b35b[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x416'),_0x1cd8('0x417')),_0x35b35b['fragmentShader']=_0x35b35b[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x418')+(_0x15a5f9?'#define\x20IS_TEXTURE':'')+_0x1cd8('0x419')),_0x35b35b['fragmentShader']=_0x35b35b[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x41a')),_0x273f2e[_0x1cd8('0x3d0')]=_0x35b35b;},this[_0x1cd8('0x47')];}},{'key':_0x1cd8('0x41b'),'value':function(_0x35b35b){var _0x3d9a79=_0x35b35b[_0x1cd8('0x3f')],_0x35b35b=_0x35b35b['size'],_0x15a5f9=new THREE[(_0x1cd8('0x41c'))](this[_0x1cd8('0x47')]);return this[_0x1cd8('0x47')]['sizeAttenuation']=!0x1,_0x15a5f9[_0x1cd8('0x3f6')][_0x1cd8('0x1b')](_0x35b35b,_0x35b35b,_0x35b35b),_0x15a5f9[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x3d9a79['x'],_0x3d9a79['y'],_0x3d9a79['z']),_0x15a5f9;}},{'key':'render','value':function(_0x35b35b){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=_0x35b35b,this['shader'][_0x1cd8('0x176')]['iTime']['value']=this[_0x1cd8('0x10f')]);}}]),_0x3d9a79[_0x1cd8('0xa')]=_0x37fb36;},function(_0x738e48,_0x1baf6a,_0x4ee982){'use strict';Object[_0x1cd8('0x4')](_0x1baf6a,'__esModule',{'value':!0x0});var _0x10fd54=_0xae8de3(_0x4ee982(0x0)),_0x3ef1b2=_0xae8de3(_0x4ee982(0x1)),_0x3c96d5=_0xae8de3(_0x4ee982(0x56));function _0xae8de3(_0x738e48){return _0x738e48&&_0x738e48[_0x1cd8('0x6')]?_0x738e48:{'default':_0x738e48};}function _0x5c9d40(_0x738e48){_0x738e48=_0x738e48['scale'],_0x738e48=void 0x0===_0x738e48?0xa:_0x738e48;(0x0,_0x10fd54[_0x1cd8('0xa')])(this,_0x5c9d40),this[_0x1cd8('0x41d')]=!0x1,this[_0x1cd8('0x322')]=new THREE['Object3D'](),this[_0x1cd8('0x3f6')]=_0x738e48,this[_0x1cd8('0x41e')]=null,this['fireSmokeParticle']=null,this[_0x1cd8('0x41f')]=null,this['emitter']=null,this['centerGroup']=null,this[_0x1cd8('0x420')]=!0x0;}(0x0,_0x3ef1b2[_0x1cd8('0xa')])(_0x5c9d40,[{'key':_0x1cd8('0x7'),'value':function(_0x738e48){var _0x1baf6a=_0x738e48['innerTex'],_0x4ee982=_0x738e48[_0x1cd8('0x421')],_0x10fd54=_0x738e48[_0x1cd8('0x422')],_0x3ef1b2=_0x738e48['spreadFactor'],_0x3ef1b2=void 0x0===_0x3ef1b2?{'x':0x1,'y':0x1}:_0x3ef1b2,_0x738e48=_0x738e48['depthTest'],_0x10fd54=_0x10fd54?0x8:0x2;this[_0x1cd8('0x423')]=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x424')]=new _0x3c96d5[(_0x1cd8('0xa'))][(_0x1cd8('0x1cf'))]({'texture':{'value':_0x4ee982},'blending':THREE[_0x1cd8('0x425')],'depthWrite':!0x1,'depthTest':_0x738e48,'maxParticleCount':0x14*_0x10fd54*(0.5*(_0x3ef1b2['x']+_0x3ef1b2['y']))}),this['fireSmokeEmitter']=new _0x3c96d5[(_0x1cd8('0xa'))][(_0x1cd8('0x20f'))]({'maxAge':{'value':1.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE[(_0x1cd8('0x57'))](_0x3ef1b2['x'],0x1,_0x3ef1b2['y'])},'acceleration':{'value':new THREE[(_0x1cd8('0x57'))](0.2,0x0,0.2),'spread':new THREE[(_0x1cd8('0x57'))](0x0,0x0,0x0)},'velocity':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0x2,0x0),'spread':new THREE['Vector3'](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE['Color'](0xad926c),new THREE[(_0x1cd8('0x1c3'))](0x605f5c),new THREE['Color'](0xa9a9a9)]},'size':{'value':[0x5*this['scale'],0xc*this['scale'],0xa*this[_0x1cd8('0x3f6')]]},'particleCount':0x14*_0x10fd54*(0.5*(_0x3ef1b2['x']+_0x3ef1b2['y']))}),this['fireSmokeParticle'][_0x1cd8('0x47')]['uniforms'][_0x1cd8('0x426')]['value']=new THREE[(_0x1cd8('0x1c3'))](),this[_0x1cd8('0x41f')]=new _0x3c96d5[(_0x1cd8('0xa'))]['Group']({'texture':{'value':_0x1baf6a},'blending':THREE['AdditiveBlending'],'depthWrite':!0x1,'depthTest':_0x738e48,'maxParticleCount':0xf*_0x10fd54*(0.5*(_0x3ef1b2['x']+_0x3ef1b2['y']))}),this['fireEmitter']=new _0x3c96d5[(_0x1cd8('0xa'))][(_0x1cd8('0x20f'))]({'maxAge':{'value':0x1},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE[(_0x1cd8('0x57'))](_0x3ef1b2['x'],0x1,_0x3ef1b2['y'])},'acceleration':{'value':new THREE[(_0x1cd8('0x57'))](0.1,0.5,0.1),'spread':new THREE[(_0x1cd8('0x57'))](0x0,0.1,0x0)},'velocity':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0x1,0x0),'spread':new THREE[(_0x1cd8('0x57'))](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE['Color'](0xffa000),new THREE[(_0x1cd8('0x1c3'))](0xff7c00),new THREE[(_0x1cd8('0x1c3'))](0xff4100)]},'size':{'value':[0x3*this[_0x1cd8('0x3f6')],0x7*this[_0x1cd8('0x3f6')],0x5*this['scale']]},'wiggle':{'value':[0.5]},'particleCount':0xf*_0x10fd54*(0.5*(_0x3ef1b2['x']+_0x3ef1b2['y']))}),this[_0x1cd8('0x41f')][_0x1cd8('0x47')][_0x1cd8('0x176')][_0x1cd8('0x426')][_0x1cd8('0xf')]=new THREE[(_0x1cd8('0x1c3'))](),this['fireSmokeParticle']['addEmitter'](this['fireSmokeEmitter']),this[_0x1cd8('0x41f')][_0x1cd8('0x1fd')](this[_0x1cd8('0x427')]),this[_0x1cd8('0x424')][_0x1cd8('0x428')]['scale']['set'](this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')]),this[_0x1cd8('0x41f')][_0x1cd8('0x428')][_0x1cd8('0x3f6')][_0x1cd8('0x1b')](this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')]),this['centerGroup'][_0x1cd8('0x1cd')](this[_0x1cd8('0x424')][_0x1cd8('0x428')]),this[_0x1cd8('0x423')][_0x1cd8('0x1cd')](this[_0x1cd8('0x41f')][_0x1cd8('0x428')]),this[_0x1cd8('0x423')][_0x1cd8('0x30d')]=0x5a,this['object3d'][_0x1cd8('0x1cd')](this[_0x1cd8('0x423')]),this[_0x1cd8('0x41d')]=!0x0;}},{'key':_0x1cd8('0x325'),'value':function(_0x738e48){this[_0x1cd8('0x41d')]&&(this[_0x1cd8('0x424')]&&this['fireSmokeParticle'][_0x1cd8('0x21e')](_0x738e48),this[_0x1cd8('0x41f')]&&this['fireParticle'][_0x1cd8('0x21e')](_0x738e48));}},{'key':_0x1cd8('0x429'),'value':function(_0x738e48){(0x64<_0x738e48||_0x738e48<0x0)&&(_0x738e48=0x64);_0x738e48=Math[_0x1cd8('0x1ca')](0x64*(0x1-_0x738e48/0x64))/0x64;this['fireEmitter'][_0x1cd8('0x22f')]=_0x738e48,this[_0x1cd8('0x42a')][_0x1cd8('0x22f')]=_0x738e48;}},{'key':_0x1cd8('0x327'),'set':function(_0x738e48){this[_0x1cd8('0x420')]=_0x738e48,this[_0x1cd8('0x423')][_0x1cd8('0x327')]=_0x738e48;}}]),_0x1baf6a['default']=_0x5c9d40;},function(_0x3af9e6,_0x36c631,_0x49f7bd){'use strict';Object[_0x1cd8('0x4')](_0x36c631,_0x1cd8('0x6'),{'value':!0x0});var _0x4b2b3c=_0x4bcc69(_0x49f7bd(0x0)),_0x4a5ad6=_0x4bcc69(_0x49f7bd(0x1)),_0x25ecdb=_0x4bcc69(_0x49f7bd(0x56));function _0x4bcc69(_0x3af9e6){return _0x3af9e6&&_0x3af9e6['__esModule']?_0x3af9e6:{'default':_0x3af9e6};}function _0x313cc2(_0x3af9e6){_0x3af9e6=_0x3af9e6['scale'],_0x3af9e6=void 0x0===_0x3af9e6?0x1:_0x3af9e6;(0x0,_0x4b2b3c[_0x1cd8('0xa')])(this,_0x313cc2),this[_0x1cd8('0x41d')]=!0x1,this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x3f6')]=_0x3af9e6,this[_0x1cd8('0x41e')]=null,this[_0x1cd8('0x42b')]=null,this[_0x1cd8('0x42c')]=null,this[_0x1cd8('0x423')]=null,this[_0x1cd8('0x420')]=!0x0;}(0x0,_0x4a5ad6[_0x1cd8('0xa')])(_0x313cc2,[{'key':'create','value':function(_0x3af9e6){var _0x36c631=_0x3af9e6['texture'],_0x49f7bd=_0x3af9e6[_0x1cd8('0x42d')],_0x49f7bd=void 0x0===_0x49f7bd?0x32:_0x49f7bd,_0x4b2b3c=_0x3af9e6['waterFlux'],_0x4b2b3c=void 0x0===_0x4b2b3c?0x12c:_0x4b2b3c,_0x4a5ad6=_0x3af9e6[_0x1cd8('0x42e')],_0x4a5ad6=void 0x0===_0x4a5ad6?0x0:_0x4a5ad6,_0x4bcc69=_0x3af9e6[_0x1cd8('0x2b4')],_0x4bcc69=void 0x0===_0x4bcc69?0x0:_0x4bcc69,_0x313cc2=_0x3af9e6['debug'],_0x313cc2=void 0x0!==_0x313cc2&&_0x313cc2,_0x3af9e6=_0x3af9e6[_0x1cd8('0x422')]?0x4:0x1;this[_0x1cd8('0x423')]=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x42b')]=new _0x25ecdb['default']['Group']({'texture':{'value':_0x36c631}}),this[_0x1cd8('0x42c')]=new _0x25ecdb[(_0x1cd8('0xa'))][(_0x1cd8('0x20f'))]({'maxAge':{'value':0x1},'acceleration':{'value':new THREE[(_0x1cd8('0x57'))](0x0,-0x3,0x14),'spread':new THREE['Vector3'](0xf,0xf,0xf)},'velocity':{'value':new THREE[(_0x1cd8('0x57'))](0x0,_0x49f7bd,0x0),'spread':new THREE[(_0x1cd8('0x57'))](0x5,7.5,0x5)},'color':{'value':[new THREE[(_0x1cd8('0x1c3'))](0x5ba3f1)]},'size':{'value':0x3*this['scale']},'particleCount':_0x4b2b3c*_0x3af9e6}),this[_0x1cd8('0x42b')]['material']['uniforms'][_0x1cd8('0x426')]['value']=new THREE[(_0x1cd8('0x1c3'))](),this[_0x1cd8('0x42b')][_0x1cd8('0x1fd')](this[_0x1cd8('0x42c')]),this[_0x1cd8('0x42b')][_0x1cd8('0x428')][_0x1cd8('0x3f6')][_0x1cd8('0x1b')](this[_0x1cd8('0x3f6')],this['scale'],this[_0x1cd8('0x3f6')]),this[_0x1cd8('0x423')][_0x1cd8('0x1cd')](this[_0x1cd8('0x42b')][_0x1cd8('0x428')]),this[_0x1cd8('0x423')][_0x1cd8('0x30d')]=0xb,_0x313cc2&&this[_0x1cd8('0x423')][_0x1cd8('0x1cd')](new THREE['AxesHelper'](0x2710)),(_0x4a5ad6<0x0||0x168<_0x4a5ad6)&&(_0x4a5ad6=0x0),(_0x4bcc69<0x0||0x3c<_0x4bcc69)&&(_0x4bcc69=0x0),this[_0x1cd8('0x423')][_0x1cd8('0x42f')](THREE['Math'][_0x1cd8('0x2cb')](_0x4a5ad6)),this[_0x1cd8('0x423')]['rotateX'](THREE['Math']['degToRad'](_0x4bcc69)),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](this[_0x1cd8('0x423')]),this[_0x1cd8('0x41d')]=!0x0;}},{'key':'render','value':function(_0x3af9e6){this['enabled']&&this[_0x1cd8('0x42b')]&&this[_0x1cd8('0x42b')][_0x1cd8('0x21e')](_0x3af9e6);}},{'key':_0x1cd8('0x430'),'value':function(_0x3af9e6){(0x64<_0x3af9e6||_0x3af9e6<0x0)&&(_0x3af9e6=0x64);_0x3af9e6=Math[_0x1cd8('0x1ca')](0x64*(0x1-_0x3af9e6/0x64))/0x64;this['emitter'][_0x1cd8('0x22f')]=_0x3af9e6;}},{'key':_0x1cd8('0x327'),'set':function(_0x3af9e6){this['_visible']=_0x3af9e6,this['centerGroup'][_0x1cd8('0x327')]=_0x3af9e6;}}]),_0x36c631[_0x1cd8('0xa')]=_0x313cc2;},function(_0x2f5ef8,_0x3bdfe1,_0x796aad){_0x2f5ef8[_0x1cd8('0x0')]={'default':_0x796aad(0xa7),'__esModule':!0x0};},function(_0x459d42,_0x1c7e5e,_0x13cf01){_0x13cf01(0xa8),_0x459d42[_0x1cd8('0x0')]=_0x13cf01(0x2)[_0x1cd8('0x15')][_0x1cd8('0x431')];},function(_0x448341,_0x32f35d,_0x3d86bd){var _0x3d86bd=_0x3d86bd(0x3),_0x5db6f5=Math[_0x1cd8('0x1c4')];_0x3d86bd(_0x3d86bd['S'],_0x1cd8('0x15'),{'hypot':function(_0x448341,_0x32f35d){for(var _0x3d86bd,_0x1f58ee,_0x1e0bf4=0x0,_0x248423=0x0,_0x306b70=arguments[_0x1cd8('0xc')],_0x515fc0=0x0;_0x248423<_0x306b70;)_0x515fc0<(_0x3d86bd=_0x5db6f5(arguments[_0x248423++]))?(_0x1e0bf4=_0x1e0bf4*(_0x1f58ee=_0x515fc0/_0x3d86bd)*_0x1f58ee+0x1,_0x515fc0=_0x3d86bd):_0x1e0bf4+=0x0<_0x3d86bd?(_0x1f58ee=_0x3d86bd/_0x515fc0)*_0x1f58ee:_0x3d86bd;return _0x515fc0===0x1/0x0?0x1/0x0:_0x515fc0*Math[_0x1cd8('0x1c8')](_0x1e0bf4);}});},function(_0x44c8f0,_0x13ebc4,_0x58904e){'use strict';Object[_0x1cd8('0x4')](_0x13ebc4,_0x1cd8('0x6'),{'value':!0x0});var _0x58d2e8=_0x1c34f3(_0x58904e(0x4)),_0x2e98cf=_0x1c34f3(_0x58904e(0x0));function _0x1c34f3(_0x44c8f0){return _0x44c8f0&&_0x44c8f0[_0x1cd8('0x6')]?_0x44c8f0:{'default':_0x44c8f0};}function _0x419221(_0x44c8f0){var _0x13ebc4=_0x44c8f0[_0x1cd8('0x432')],_0x58904e=_0x44c8f0[_0x1cd8('0x433')],_0x44c8f0=_0x44c8f0[_0x1cd8('0x326')],_0x44c8f0=void 0x0===_0x44c8f0?0.005:_0x44c8f0;(0x0,_0x2e98cf['default'])(this,_0x419221),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x322')][_0x1cd8('0x7f')]=_0x1cd8('0x434'),this[_0x1cd8('0x432')]=_0x13ebc4,this[_0x1cd8('0x433')]=_0x58904e,this[_0x1cd8('0x435')](),this['line']=null,this[_0x1cd8('0x436')]=null,this[_0x1cd8('0x437')]=null,this['count']=0x0,this[_0x1cd8('0x3dd')]=_0x44c8f0;}(0x0,_0x1c34f3(_0x58904e(0x1))[_0x1cd8('0xa')])(_0x419221,[{'key':'initTexture','value':function(){this['lineTexture'][_0x1cd8('0x3f0')]=THREE[_0x1cd8('0x3f1')],this[_0x1cd8('0x432')][_0x1cd8('0x3f2')]=THREE[_0x1cd8('0x3f3')],this[_0x1cd8('0x432')][_0x1cd8('0x32e')]=THREE['RepeatWrapping'],this['lineTexture']['wrapT']=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x432')]['needsUpdate']=!0x0;}},{'key':_0x1cd8('0x7'),'value':function(_0x44c8f0){var _0x13ebc4=_0x44c8f0[_0x1cd8('0x438')],_0x58904e=_0x44c8f0['endPos'],_0x2e98cf=_0x44c8f0['maxHeight'],_0x1c34f3=_0x44c8f0[_0x1cd8('0x2f3')],_0x44c8f0=_0x44c8f0['isDoubleSide'],_0x44c8f0=void 0x0!==_0x44c8f0&&_0x44c8f0,_0x419221=new THREE['MeshBasicMaterial']({'color':0xfffe06,'blending':THREE[_0x1cd8('0x1e0')],'transparent':!0x0,'depthWrite':!0x1}),_0x1c34f3=(_0x419221[_0x1cd8('0xdf')]=this['lineTexture'],_0x1c34f3&&(_0x419221['color']=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x1c34f3)),_0x44c8f0&&(_0x419221[_0x1cd8('0x35f')]=THREE[_0x1cd8('0x2fe')]),new THREE[(_0x1cd8('0x57'))]((_0x58904e['x']-_0x13ebc4['x'])/0x2+_0x13ebc4['x'],_0x2e98cf,(_0x58904e['z']-_0x13ebc4['z'])/0x2+_0x13ebc4['z']));return this[_0x1cd8('0x439')]=this[_0x1cd8('0x43a')]([_0x13ebc4,_0x1c34f3,_0x58904e],_0x419221),this['line'][_0x1cd8('0x3f')]['set'](_0x13ebc4['x'],_0x13ebc4['y'],_0x13ebc4['z']),this[_0x1cd8('0x322')]['add'](this[_0x1cd8('0x439')]),this[_0x1cd8('0x436')]=this[_0x1cd8('0x43b')](0x32,_0x419221[_0x1cd8('0x220')]),this[_0x1cd8('0x436')][_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x13ebc4['x'],_0x13ebc4['y']<0x3?0x5:_0x13ebc4['y'],_0x13ebc4['z']),this[_0x1cd8('0x437')]=this[_0x1cd8('0x43b')](0x32,_0x419221[_0x1cd8('0x220')]),this[_0x1cd8('0x437')][_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x58904e['x'],_0x58904e['y']<0x3?0x5:_0x58904e['y'],_0x58904e['z']),this['object3d'][_0x1cd8('0x1cd')](this[_0x1cd8('0x436')]),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](this['endRipple']),this['object3d'];}},{'key':'createRipple','value':function(_0x44c8f0,_0x13ebc4){var _0x44c8f0=new THREE[(_0x1cd8('0x3e5'))](_0x44c8f0,0x20),_0x58904e=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'blending':THREE[_0x1cd8('0x1e0')],'transparent':!0x0,'depthWrite':!0x1}),_0x13ebc4=(_0x58904e[_0x1cd8('0xdf')]=this['rippleTexture'],_0x58904e['color'][_0x1cd8('0x1c6')](_0x13ebc4),new THREE['Mesh'](_0x44c8f0,_0x58904e));return _0x13ebc4[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],_0x13ebc4;}},{'key':_0x1cd8('0x43a'),'value':function(_0x44c8f0,_0x13ebc4){var _0x58904e=_0x44c8f0[0x0],_0x2e98cf=[],_0x1c34f3=!0x0,_0x419221=!0x1,_0x4c2e1a=void 0x0;try{for(var _0xd96ecd,_0xa5a645=(0x0,_0x58d2e8['default'])(_0x44c8f0);!(_0x1c34f3=(_0xd96ecd=_0xa5a645[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x1c34f3=!0x0){var _0x2bbceb=_0xd96ecd['value'],_0x2d894b=_0x2bbceb['x']-_0x58904e['x'],_0x2eceba=_0x2bbceb['y']-_0x58904e['y'],_0x5b7919=_0x2bbceb['z']-_0x58904e['z'];_0x2e98cf[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](_0x2d894b,_0x2eceba,_0x5b7919));}}catch(_0x372171){_0x419221=!0x0,_0x4c2e1a=_0x372171;}finally{try{!_0x1c34f3&&_0xa5a645[_0x1cd8('0xa1')]&&_0xa5a645[_0x1cd8('0xa1')]();}finally{if(_0x419221)throw _0x4c2e1a;}}_0x44c8f0=new THREE['CatmullRomCurve3'](_0x2e98cf,!0x1,_0x1cd8('0x43c')),_0x419221=new THREE[(_0x1cd8('0x43d'))](_0x44c8f0,0x1f4,0x4,0xa,!0x1);return new THREE[(_0x1cd8('0x30c'))](_0x419221,_0x13ebc4);}},{'key':_0x1cd8('0x2d3'),'value':function(){var _0x44c8f0,_0x13ebc4;this[_0x1cd8('0x439')]&&this['startRipple']&&this['endRipple']&&(this[_0x1cd8('0x10f')]-=this[_0x1cd8('0x3dd')],this['line'][_0x1cd8('0x47')][_0x1cd8('0xdf')][_0x1cd8('0x10a')]['x']=this['count'],_0x44c8f0=Math[_0x1cd8('0x1c4')](0.5*Math[_0x1cd8('0x58')](0x5*this[_0x1cd8('0x10f')]))+1.5,_0x13ebc4=Math[_0x1cd8('0x1c4')](0.5*Math['cos'](0x5*this[_0x1cd8('0x10f')]))+1.5,this[_0x1cd8('0x436')][_0x1cd8('0x3f6')][_0x1cd8('0x1b')](_0x44c8f0,_0x44c8f0,_0x44c8f0),this[_0x1cd8('0x437')][_0x1cd8('0x3f6')]['set'](_0x13ebc4,_0x13ebc4,_0x13ebc4));}},{'key':_0x1cd8('0x327'),'set':function(_0x44c8f0){this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x44c8f0;}}]),_0x13ebc4[_0x1cd8('0xa')]=_0x419221;},function(_0x27cbc3,_0x4f81c8,_0x13d033){'use strict';Object[_0x1cd8('0x4')](_0x4f81c8,_0x1cd8('0x6'),{'value':!0x0});var _0xbae494=_0x1b9b0b(_0x13d033(0x0)),_0x1e0369=_0x1b9b0b(_0x13d033(0x1)),_0x5a09cb=_0x13d033(0x82);function _0x1b9b0b(_0x27cbc3){return _0x27cbc3&&_0x27cbc3[_0x1cd8('0x6')]?_0x27cbc3:{'default':_0x27cbc3};}function _0x11d651(_0x27cbc3){var _0x4f81c8=_0x27cbc3[_0x1cd8('0x43e')],_0x4f81c8=void 0x0===_0x4f81c8?0x14:_0x4f81c8,_0x13d033=_0x27cbc3[_0x1cd8('0x2f1')],_0x13d033=void 0x0===_0x13d033?0x2:_0x13d033,_0x1e0369=_0x27cbc3[_0x1cd8('0x43f')],_0x1e0369=void 0x0===_0x1e0369?0x32:_0x1e0369,_0x27cbc3=_0x27cbc3[_0x1cd8('0x2f3')],_0x27cbc3=void 0x0===_0x27cbc3?'#ffffff':_0x27cbc3;(0x0,_0xbae494[_0x1cd8('0xa')])(this,_0x11d651),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x1cf'))](),this['object3d'][_0x1cd8('0x7f')]=_0x1cd8('0x434'),this[_0x1cd8('0x2f1')]=_0x13d033,this[_0x1cd8('0x43f')]=_0x1e0369,this[_0x1cd8('0x2f3')]=_0x27cbc3,this[_0x1cd8('0x440')]=null,this[_0x1cd8('0x441')]=_0x4f81c8,this[_0x1cd8('0x47')]=null,this['shader']=null,this[_0x1cd8('0x442')]=[],this[_0x1cd8('0x443')]=0x0,this[_0x1cd8('0x444')]=null,this[_0x1cd8('0x10f')]=0x0;}(0x0,_0x1e0369[_0x1cd8('0xa')])(_0x11d651,[{'key':_0x1cd8('0x7'),'value':function(_0x27cbc3){for(var _0x4f81c8,_0x13d033=_0x27cbc3[_0x1cd8('0x440')],_0x27cbc3=_0x27cbc3[_0x1cd8('0x9f')],_0x1e0369=(this[_0x1cd8('0x442')]=(0x0,_0x5a09cb[_0x1cd8('0x2ee')])(_0x13d033,this[_0x1cd8('0x441')]),this[_0x1cd8('0x442')][0x0]),_0xbae494=new Float32Array(0x4*this['routePoints'][_0x1cd8('0xc')]),_0x1b9b0b=0x0,_0x11d651=this['routePoints']['length'];_0x1b9b0b<_0x11d651;_0x1b9b0b++)_0xbae494[0x0+(_0x4f81c8=0x4*_0x1b9b0b)]=this[_0x1cd8('0x442')][_0x1b9b0b]['x']-_0x1e0369['x'],_0xbae494[0x1+_0x4f81c8]=this[_0x1cd8('0x442')][_0x1b9b0b]['y']-_0x1e0369['y'],_0xbae494[0x2+_0x4f81c8]=this[_0x1cd8('0x442')][_0x1b9b0b]['z']-_0x1e0369['z'],_0xbae494[0x3+_0x4f81c8]=_0x1b9b0b;var _0x13d033=new THREE[(_0x1cd8('0x316'))](),_0x18dcaa=new THREE[(_0x1cd8('0x445'))](_0xbae494,0x4),_0x530d35=(_0x13d033['addAttribute'](_0x1cd8('0x3f'),new THREE['InterleavedBufferAttribute'](_0x18dcaa,0x3,0x0)),_0x13d033[_0x1cd8('0x1fb')](_0x1cd8('0x446'),new THREE[(_0x1cd8('0x447'))](_0x18dcaa,0x1,0x3)),this['material']=new THREE[(_0x1cd8('0x448'))]({'color':0xffffff,'map':_0x27cbc3,'blending':THREE['AdditiveBlending'],'sizeAttenuation':!0x0,'size':this[_0x1cd8('0x43f')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0.2}),this['colorStr']&&(this[_0x1cd8('0x47')][_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](this[_0x1cd8('0x2f3')])),this);return this['material'][_0x1cd8('0x3d2')]=function(_0x27cbc3){_0x27cbc3[_0x1cd8('0x176')]['iTime']={'value':0x0},_0x27cbc3[_0x1cd8('0x3d4')]=_0x27cbc3[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x11c'),_0x1cd8('0x449')),_0x27cbc3[_0x1cd8('0x3d4')]=_0x27cbc3['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x44a'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vIndex\x20=\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x27cbc3[_0x1cd8('0x56')]=_0x27cbc3[_0x1cd8('0x56')]['replace'](_0x1cd8('0x3d8'),_0x1cd8('0x44b')),_0x27cbc3[_0x1cd8('0x56')]=_0x27cbc3[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x44c'),_0x1cd8('0x44d')),_0x530d35['shader']=_0x27cbc3;},this[_0x1cd8('0x440')]=new THREE[(_0x1cd8('0xc7'))](_0x13d033,this[_0x1cd8('0x47')]),this[_0x1cd8('0x440')][_0x1cd8('0x30d')]=0x47,this['object3d'][_0x1cd8('0x1cd')](this[_0x1cd8('0x440')]),this[_0x1cd8('0x440')];}},{'key':_0x1cd8('0x325'),'value':function(_0x27cbc3){this['points']&&this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=_0x27cbc3,this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x3da')][_0x1cd8('0xf')]=this[_0x1cd8('0x10f')]);}},{'key':_0x1cd8('0x44e'),'value':function(){var _0x27cbc3=new THREE['BoxBufferGeometry'](0xa,0xa,0xa),_0x4f81c8=new THREE[(_0x1cd8('0x44f'))]({'color':0xffc033});return _0x4f81c8[_0x1cd8('0x450')][_0x1cd8('0x1c6')](new THREE[(_0x1cd8('0x1c3'))](0xfff000)),_0x4f81c8[_0x1cd8('0x450')][_0x1cd8('0x451')](0.1,0x1,0.5),new THREE[(_0x1cd8('0x30c'))](_0x27cbc3,_0x4f81c8);}},{'key':_0x1cd8('0x452'),'value':function(_0x4f81c8,_0x13d033,_0x1e0369){var _0xbae494=this;this[_0x1cd8('0x444')]=setInterval(function(){if(_0xbae494[_0x1cd8('0x443')]>=_0xbae494['routePoints']['length'])return _0xbae494['currIndex']=0x0,void clearInterval(_0xbae494['animateHandle']);var _0x27cbc3=_0xbae494[_0x1cd8('0x442')][_0xbae494['currIndex']];_0x27cbc3['y']=_0x1e0369,_0xbae494[_0x1cd8('0x453')](_0x13d033,_0x27cbc3,_0x4f81c8),_0xbae494['currIndex']++;},_0x4f81c8);}},{'key':_0x1cd8('0x453'),'value':function(_0x27cbc3,_0x4f81c8,_0x13d033,_0x1e0369){var _0xbae494=new THREE['Vector3']();_0xbae494[_0x1cd8('0x1c6')](_0x4f81c8),new TWEEN['Tween'](_0x27cbc3[_0x1cd8('0x3f')])['to'](_0xbae494,_0x13d033)[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x3fd')][_0x1cd8('0x3fe')])[_0x1cd8('0x454')](function(){_0x1e0369&&_0x1e0369();})[_0x1cd8('0x2d1')]();}},{'key':_0x1cd8('0x327'),'set':function(_0x27cbc3){this[_0x1cd8('0x440')]&&(this[_0x1cd8('0x440')][_0x1cd8('0x327')]=_0x27cbc3);}},{'key':_0x1cd8('0x455'),'set':function(_0x27cbc3){this[_0x1cd8('0x440')]['material']['sizeAttenuation']=!_0x27cbc3,this['points'][_0x1cd8('0x47')][_0x1cd8('0x10b')]=!0x0;}}]),_0x4f81c8['default']=_0x11d651;},function(_0x4b8c3f,_0x5dc35e,_0x2246eb){'use strict';Object[_0x1cd8('0x4')](_0x5dc35e,_0x1cd8('0x6'),{'value':!0x0});var _0x4b749e=_0x13c314(_0x2246eb(0x0));function _0x13c314(_0x4b8c3f){return _0x4b8c3f&&_0x4b8c3f[_0x1cd8('0x6')]?_0x4b8c3f:{'default':_0x4b8c3f};}function _0x40727d(_0x4b8c3f){var _0x5dc35e=_0x4b8c3f['texture'],_0x2246eb=_0x4b8c3f[_0x1cd8('0x2f3')],_0x2246eb=void 0x0===_0x2246eb?_0x1cd8('0x400'):_0x2246eb,_0x13c314=_0x4b8c3f[_0x1cd8('0x226')],_0x4b8c3f=_0x4b8c3f[_0x1cd8('0x326')],_0x4b8c3f=void 0x0===_0x4b8c3f?0.01:_0x4b8c3f;(0x0,_0x4b749e[_0x1cd8('0xa')])(this,_0x40727d),this['object3d']=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x2f3')]=_0x2246eb,this[_0x1cd8('0x47')]=null,this['radius']=_0x13c314||0xc8,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x3dd')]=_0x4b8c3f,this[_0x1cd8('0x2f2')](_0x2246eb,_0x5dc35e);}(0x0,_0x13c314(_0x2246eb(0x1))[_0x1cd8('0xa')])(_0x40727d,[{'key':_0x1cd8('0x2f2'),'value':function(_0x4b8c3f,_0x5dc35e){var _0x2246eb=this;this[_0x1cd8('0x47')]=new THREE['MeshBasicMaterial']({'transparent':!0x0}),this[_0x1cd8('0x47')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x4b8c3f),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x4b8c3f){_0x4b8c3f[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':0x0},_0x4b8c3f[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x5dc35e},_0x4b8c3f[_0x1cd8('0x3d4')]=_0x4b8c3f[_0x1cd8('0x3d4')]['replace']('#include\x20<uv_pars_vertex>',_0x1cd8('0x3d5')),_0x4b8c3f[_0x1cd8('0x3d4')]=_0x4b8c3f['vertexShader']['replace']('#include\x20<uv_vertex>',_0x1cd8('0x3d7')),_0x4b8c3f[_0x1cd8('0x56')]=_0x4b8c3f[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4b8c3f['fragmentShader']=_0x4b8c3f[_0x1cd8('0x56')][_0x1cd8('0x23d')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1cd8('0x456')),_0x2246eb['shader']=_0x4b8c3f;};}},{'key':_0x1cd8('0x7'),'value':function(){var _0x4b8c3f=new THREE[(_0x1cd8('0x3e3'))](this['radius'],this[_0x1cd8('0x226')]),_0x4b8c3f=new THREE['Mesh'](_0x4b8c3f,this[_0x1cd8('0x47')]);return _0x4b8c3f[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],_0x4b8c3f[_0x1cd8('0x30d')]=0x45,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x4b8c3f),this[_0x1cd8('0x322')];}},{'key':_0x1cd8('0x325'),'value':function(){this[_0x1cd8('0x3d0')]&&(this['count']+=this[_0x1cd8('0x3dd')],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x3da')]['value']=this[_0x1cd8('0x10f')]);}}]),_0x5dc35e[_0x1cd8('0xa')]=_0x40727d;},function(_0x3940f3,_0x2556ed,_0x3902f2){'use strict';Object[_0x1cd8('0x4')](_0x2556ed,'__esModule',{'value':!0x0});var _0x25c87e=_0x4c56f0(_0x3902f2(0x0));function _0x4c56f0(_0x3940f3){return _0x3940f3&&_0x3940f3[_0x1cd8('0x6')]?_0x3940f3:{'default':_0x3940f3};}function _0x56a8d5(_0x3940f3){(0x0,_0x25c87e[_0x1cd8('0xa')])(this,_0x56a8d5),this[_0x1cd8('0x457')]=function(_0x3940f3,_0x2556ed){var _0x3902f2=new THREE[(_0x1cd8('0x458'))](),_0x3940f3=this[_0x1cd8('0x459')](_0x3940f3),_0x25c87e=THREE[_0x1cd8('0x45a')][_0x1cd8('0x45b')],_0x25c87e=new THREE[(_0x1cd8('0x1f0'))]({'fragmentShader':_0x25c87e['fragmentShader'],'vertexShader':_0x25c87e['vertexShader'],'uniforms':_0x25c87e[_0x1cd8('0x176')],'depthWrite':!0x1,'depthTest':!0x1,'side':THREE[_0x1cd8('0x45c')],'fog':!0x1}),_0x25c87e=(_0x25c87e[_0x1cd8('0x176')][_0x1cd8('0x45d')][_0x1cd8('0xf')]=_0x3940f3,new THREE[(_0x1cd8('0x30c'))](new THREE[(_0x1cd8('0x45e'))](0x64,0x64,0x64),_0x25c87e));return _0x25c87e[_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x2556ed),_0x25c87e[_0x1cd8('0x3f6')][_0x1cd8('0x1b')](0xf4240,0xf4240,0xf4240),_0x3902f2[_0x1cd8('0x1cd')](_0x25c87e),this[_0x1cd8('0x45f')][_0x1cd8('0x1cd')](_0x3902f2),_0x3940f3;},this[_0x1cd8('0x45f')]=_0x3940f3;}(0x0,_0x4c56f0(_0x3902f2(0x1))[_0x1cd8('0xa')])(_0x56a8d5,[{'key':_0x1cd8('0x459'),'value':function(_0x3940f3){_0x3940f3=new THREE[(_0x1cd8('0xa4'))]()[_0x1cd8('0x9d')](_0x3940f3);return _0x3940f3[_0x1cd8('0x460')]=THREE[_0x1cd8('0x461')],_0x3940f3[_0x1cd8('0x462')]=THREE[_0x1cd8('0x463')],_0x3940f3[_0x1cd8('0x464')]=THREE[_0x1cd8('0x465')],_0x3940f3;}}]),_0x2556ed[_0x1cd8('0xa')]=_0x56a8d5;},function(_0x3566b3,_0xd32870,_0x1b1610){'use strict';Object[_0x1cd8('0x4')](_0xd32870,'__esModule',{'value':!0x0});var _0x24ac73=_0x56bd93(_0x1b1610(0x26)),_0x53acde=_0x56bd93(_0x1b1610(0x0)),_0x72d9af=_0x56bd93(_0x1b1610(0x1)),_0x2be644=_0x56bd93(_0x1b1610(0x30)),_0x37a5f5=_0x56bd93(_0x1b1610(0x31)),_0x18e4da=_0x56bd93(_0x1b1610(0x46)),_0x387c3c=_0x1b1610(0x3b),_0x3a4040=_0x56bd93(_0x1b1610(0x3c));function _0x56bd93(_0x3566b3){return _0x3566b3&&_0x3566b3[_0x1cd8('0x6')]?_0x3566b3:{'default':_0x3566b3};}function _0x3b17b2(_0x3566b3){var _0x3566b3=_0x3566b3[_0x1cd8('0x466')],_0xd32870=((0x0,_0x53acde[_0x1cd8('0xa')])(this,_0x3b17b2),(0x0,_0x2be644[_0x1cd8('0xa')])(this,(_0x3b17b2[_0x1cd8('0x8c')]||(0x0,_0x24ac73['default'])(_0x3b17b2))['call'](this)));return _0xd32870[_0x1cd8('0x2ad')]=_0x3566b3,_0xd32870[_0x1cd8('0x467')]=null,_0xd32870[_0x1cd8('0x468')]=null,_0xd32870[_0x1cd8('0x469')]=null,_0xd32870;}_0x1b1610=_0x387c3c[_0x1cd8('0x97')],(0x0,_0x37a5f5[_0x1cd8('0xa')])(_0x3b17b2,_0x1b1610),(0x0,_0x72d9af[_0x1cd8('0xa')])(_0x3b17b2,[{'key':_0x1cd8('0x46a'),'value':function(_0x3566b3,_0xd32870){var _0x1b1610=this;_0x3a4040['default'][_0x1cd8('0x46b')](_0x3566b3)[_0x1cd8('0x349')](function(_0x3566b3){_0x1b1610[_0x1cd8('0x467')]=_0x3566b3,_0x1b1610[_0x1cd8('0x46c')]({'type':_0x1cd8('0x46d')}),_0xd32870&&_0xd32870();});}},{'key':_0x1cd8('0x46e'),'value':function(_0x3566b3,_0x72d9af,_0xd32870){var _0x1b1610=this,_0x24ac73=new THREE['CubeTexture']([]);_0x24ac73[_0x1cd8('0x460')]=THREE[_0x1cd8('0x461')],new THREE[(_0x1cd8('0x46f'))]()[_0x1cd8('0x9d')](_0x3566b3,function(_0x53acde){function _0x3566b3(_0x3566b3,_0xd32870){var _0x1b1610=_0x72d9af||0x400,_0x24ac73=document['createElement'](_0x1cd8('0x470'));return _0x24ac73[_0x1cd8('0x320')]=_0x1b1610,_0x24ac73[_0x1cd8('0x2f1')]=_0x1b1610,_0x24ac73[_0x1cd8('0x471')]('2d')['drawImage'](_0x53acde,-_0x3566b3*_0x1b1610,-_0xd32870*_0x1b1610),_0x24ac73;}_0x24ac73[_0x1cd8('0x472')][0x0]=_0x3566b3(0x2,0x1),_0x24ac73[_0x1cd8('0x472')][0x1]=_0x3566b3(0x0,0x1),_0x24ac73[_0x1cd8('0x472')][0x2]=_0x3566b3(0x1,0x0),_0x24ac73[_0x1cd8('0x472')][0x3]=_0x3566b3(0x1,0x2),_0x24ac73[_0x1cd8('0x472')][0x4]=_0x3566b3(0x1,0x1),_0x24ac73['images'][0x5]=_0x3566b3(0x3,0x1),_0x24ac73[_0x1cd8('0x10b')]=!0x0,_0x1b1610[_0x1cd8('0x467')]=_0x24ac73,_0x1b1610[_0x1cd8('0x46c')]({'type':'canUpdate'}),_0xd32870&&_0xd32870();});}},{'key':_0x1cd8('0x473'),'value':function(_0x3566b3){var _0xd32870=_0x3566b3[_0x1cd8('0xeb')],_0x1b1610=_0x3566b3[_0x1cd8('0x33d')],_0x24ac73=_0x3566b3[_0x1cd8('0x474')],_0x24ac73=void 0x0!==_0x24ac73&&_0x24ac73,_0x3566b3=_0x3566b3[_0x1cd8('0x475')],_0x3566b3=void 0x0===_0x3566b3?0x1:_0x3566b3,_0x53acde=THREE[_0x1cd8('0x45a')][_0x1cd8('0x45b')],_0x24ac73=(_0x53acde[_0x1cd8('0x176')][_0x1cd8('0x476')]={'value':null},_0x53acde[_0x1cd8('0x176')][_0x1cd8('0x477')]={'value':0x0},_0x53acde[_0x1cd8('0x176')][_0x1cd8('0x474')]={'value':_0x24ac73},_0x53acde[_0x1cd8('0x176')][_0x1cd8('0x475')]={'value':_0x3566b3},_0x53acde[_0x1cd8('0x3d4')]=_0x53acde[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x478'),_0x1cd8('0x479')),_0x53acde[_0x1cd8('0x3d4')]=_0x53acde['vertexShader'][_0x1cd8('0x23d')]('vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);',_0x1cd8('0x47a')),_0x53acde[_0x1cd8('0x56')]=_0x53acde[_0x1cd8('0x56')][_0x1cd8('0x23d')]('uniform\x20samplerCube\x20tCube;',_0x1cd8('0x47b')),_0x53acde['fragmentShader']=_0x53acde[_0x1cd8('0x56')][_0x1cd8('0x23d')]('vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);',_0x1cd8('0x47c')),new THREE[(_0x1cd8('0x1f0'))]({'fragmentShader':_0x53acde['fragmentShader'],'vertexShader':_0x53acde['vertexShader'],'uniforms':_0x53acde[_0x1cd8('0x176')],'side':THREE['BackSide'],'fog':!0x1}));_0x24ac73['uniforms']['tCube']?_0x24ac73['uniforms'][_0x1cd8('0x45d')][_0x1cd8('0xf')]=this[_0x1cd8('0x467')]:_0x24ac73[_0x1cd8('0x47d')]=this['textureCube'],this['skyBox']=new THREE['Mesh'](new THREE[(_0x1cd8('0x45e'))](0x64,0x64,0x64),_0x24ac73),this['skyBox'][_0x1cd8('0x3f')]['y']=_0x1b1610,this['skyBox'][_0x1cd8('0x3f6')]['set'](_0xd32870,_0xd32870,_0xd32870),this[_0x1cd8('0x2ad')]['scene']['add'](this['skyBox']);}},{'key':_0x1cd8('0x47e'),'value':function(_0x3566b3){var _0xd32870=_0x3566b3[_0x1cd8('0x226')],_0xd32870=void 0x0===_0xd32870?0x2710:_0xd32870,_0x1b1610=_0x3566b3[_0x1cd8('0x47f')],_0x1b1610=void 0x0===_0x1b1610?_0x1cd8('0x480'):_0x1b1610,_0x24ac73=_0x3566b3['bottomColorStr'],_0x24ac73=void 0x0===_0x24ac73?_0x1cd8('0x481'):_0x24ac73,_0x53acde=_0x3566b3[_0x1cd8('0x10a')],_0x72d9af=void 0x0===_0x53acde?0x64:_0x53acde,_0x53acde=_0x3566b3[_0x1cd8('0x482')],_0x2be644=void 0x0===_0x53acde?0.6:_0x53acde,_0x37a5f5=_0x3566b3[_0x1cd8('0x9f')],_0x53acde=new THREE[(_0x1cd8('0x45e'))](_0xd32870,_0xd32870,_0xd32870),_0x18e4da=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x1b1610),_0x387c3c=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x24ac73),_0x3a4040=this,_0x3566b3=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'side':THREE[_0x1cd8('0x45c')],'fog':!0x1});return _0x3566b3[_0x1cd8('0x3d2')]=function(_0x3566b3){_0x3566b3[_0x1cd8('0x176')][_0x1cd8('0x483')]={'value':_0x18e4da},_0x3566b3[_0x1cd8('0x176')]['bottomColor']={'value':_0x387c3c},_0x3566b3['uniforms']['skyTex']={'value':_0x37a5f5},_0x3566b3['uniforms'][_0x1cd8('0x10a')]={'value':_0x72d9af},_0x3566b3[_0x1cd8('0x176')]['exponent']={'value':_0x2be644},_0x3566b3[_0x1cd8('0x3d4')]=_0x3566b3['vertexShader']['replace'](_0x1cd8('0x3df'),_0x1cd8('0x484')),_0x3566b3[_0x1cd8('0x3d4')]=_0x3566b3[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x485')),_0x3566b3[_0x1cd8('0x56')]=_0x3566b3[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x486')),_0x3566b3[_0x1cd8('0x56')]=_0x3566b3[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x487')),_0x3a4040[_0x1cd8('0x468')]=_0x3566b3;},this[_0x1cd8('0x469')]=new THREE[(_0x1cd8('0x30c'))](_0x53acde,_0x3566b3),this[_0x1cd8('0x2ad')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](this['skyBox']),this['skyBox'];}},{'key':_0x1cd8('0x488'),'value':function(_0x3566b3){var _0xd32870=_0x3566b3['size'],_0xd32870=void 0x0===_0xd32870?0x2710:_0xd32870,_0x1b1610=_0x3566b3[_0x1cd8('0x47f')],_0x24ac73=_0x3566b3[_0x1cd8('0x489')],_0x24ac73=void 0x0===_0x24ac73?_0x1cd8('0x481'):_0x24ac73,_0x53acde=_0x3566b3['offsetY'],_0x53acde=void 0x0===_0x53acde?0x0:_0x53acde,_0x3566b3=_0x3566b3[_0x1cd8('0x482')],_0x3566b3=void 0x0===_0x3566b3?0.8:_0x3566b3,_0x24ac73=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x24ac73),_0x72d9af=(_0x1b1610&&(_0x2be644=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x1b1610)),THREE[_0x1cd8('0x45a')][_0x1cd8('0x45b')]),_0x2be644=(_0x1b1610&&(_0x72d9af[_0x1cd8('0x176')][_0x1cd8('0x483')]={'value':_0x2be644}),_0x72d9af[_0x1cd8('0x176')]['bottomColor']={'value':_0x24ac73},_0x72d9af[_0x1cd8('0x176')]['offset']={'value':_0x53acde},_0x72d9af[_0x1cd8('0x176')]['exponent']={'value':_0x3566b3},_0x72d9af[_0x1cd8('0x3d4')]=_0x72d9af[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x48a'),_0x1cd8('0x48b')),_0x72d9af[_0x1cd8('0x3d4')]=_0x72d9af[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<project_vertex>',_0x1cd8('0x48c')),_0x72d9af[_0x1cd8('0x56')]=_0x72d9af[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x48d')+(_0x1b1610?_0x1cd8('0x48e'):'')+_0x1cd8('0x48f')),_0x72d9af[_0x1cd8('0x56')]=_0x72d9af[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x490'),_0x1cd8('0x491')),new THREE[(_0x1cd8('0x1f0'))]({'fragmentShader':_0x72d9af[_0x1cd8('0x56')],'vertexShader':_0x72d9af[_0x1cd8('0x3d4')],'uniforms':_0x72d9af[_0x1cd8('0x176')],'side':THREE[_0x1cd8('0x45c')],'depthWrite':!0x1,'fog':!0x1}));this[_0x1cd8('0x467')]&&_0x2be644[_0x1cd8('0x176')]['tCube']&&!_0x1b1610&&(_0x2be644['uniforms']['tCube']['value']=this[_0x1cd8('0x467')]),this[_0x1cd8('0x469')]=new THREE[(_0x1cd8('0x30c'))](new THREE[(_0x1cd8('0x3f5'))](0x64,0x40,0xa),_0x2be644),this['skyBox'][_0x1cd8('0x3f6')][_0x1cd8('0x1b')](_0xd32870,_0xd32870,_0xd32870),this[_0x1cd8('0x2ad')]['scene']['add'](this[_0x1cd8('0x469')]);}},{'key':_0x1cd8('0x492'),'value':function(_0x3566b3){var _0x3566b3=_0x3566b3[_0x1cd8('0x9f')],_0xd32870=new THREE[(_0x1cd8('0x3f5'))](0x1,0x40,0xa),_0x3566b3=new THREE['MeshBasicMaterial']({'side':THREE[_0x1cd8('0x45c')],'fog':!0x1,'map':_0x3566b3});_0x3566b3[_0x1cd8('0x3d2')]=function(_0x3566b3){_0x3566b3['vertexShader']=_0x3566b3[_0x1cd8('0x3d4')]['replace']('#include\x20<fog_vertex>',_0x1cd8('0x493'));},this[_0x1cd8('0x469')]=new THREE[(_0x1cd8('0x30c'))](_0xd32870,_0x3566b3),this[_0x1cd8('0x469')][_0x1cd8('0x3f6')][_0x1cd8('0x1b')](0x186a0,0x186a0,0x186a0),this[_0x1cd8('0x2ad')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](this[_0x1cd8('0x469')]);}},{'key':_0x1cd8('0x494'),'value':function(_0x3566b3){var _0x3566b3=_0x3566b3[_0x1cd8('0xeb')],_0x3566b3=void 0x0===_0x3566b3?0x2710:_0x3566b3,_0xd32870=THREE[_0x1cd8('0x45a')]['cube'],_0xd32870=new THREE['ShaderMaterial']({'fragmentShader':_0xd32870[_0x1cd8('0x56')],'vertexShader':_0xd32870[_0x1cd8('0x3d4')],'uniforms':_0xd32870[_0x1cd8('0x176')],'side':THREE['BackSide'],'depthWrite':!0x1,'fog':!0x1});_0xd32870[_0x1cd8('0x176')][_0x1cd8('0x45d')]['value']=this[_0x1cd8('0x467')],this[_0x1cd8('0x469')]=new THREE[(_0x1cd8('0x30c'))](new THREE['SphereBufferGeometry'](0x64,0x40,0xa),_0xd32870),this['skyBox'][_0x1cd8('0x3f6')]['set'](_0x3566b3,_0x3566b3,_0x3566b3),this[_0x1cd8('0x469')][_0x1cd8('0x3f')]['y']=-0x55d4a80,this[_0x1cd8('0x2ad')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](this[_0x1cd8('0x469')]);}},{'key':_0x1cd8('0x495'),'value':function(){this[_0x1cd8('0x2ad')][_0x1cd8('0x45f')][_0x1cd8('0x496')]=this['textureCube'],this[_0x1cd8('0x46c')]({'type':_0x1cd8('0x46d')});}},{'key':_0x1cd8('0xde'),'value':function(){this[_0x1cd8('0x467')]&&this[_0x1cd8('0x467')]['dispose'](),this[_0x1cd8('0x467')]=null,_0x18e4da[_0x1cd8('0xa')][_0x1cd8('0x321')](this['skyBox']),this[_0x1cd8('0x469')]=null;}}]),_0xd32870[_0x1cd8('0xa')]=_0x3b17b2;},function(_0x7bb8c4,_0x5441f2,_0x98b9ad){'use strict';Object[_0x1cd8('0x4')](_0x5441f2,_0x1cd8('0x6'),{'value':!0x0});var _0x85e6f=_0x390f73(_0x98b9ad(0xf)),_0x348872=_0x390f73(_0x98b9ad(0x0)),_0x2a5c4c=_0x390f73(_0x98b9ad(0x1)),_0x438116=_0x390f73(_0x98b9ad(0xaf));function _0x390f73(_0x7bb8c4){return _0x7bb8c4&&_0x7bb8c4[_0x1cd8('0x6')]?_0x7bb8c4:{'default':_0x7bb8c4};}function _0x2f9796(_0x7bb8c4){_0x7bb8c4=_0x7bb8c4[_0x1cd8('0x2fb')];(0x0,_0x348872['default'])(this,_0x2f9796),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this['camera']=_0x7bb8c4,this[_0x1cd8('0x497')]=null,this[_0x1cd8('0x498')]=null,this[_0x1cd8('0x499')]=null,this[_0x1cd8('0x49a')]=new THREE[(_0x1cd8('0x57'))](),this[_0x1cd8('0x49b')]=0x32,this[_0x1cd8('0x49c')]=0x91,this[_0x1cd8('0x49d')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.415,'mieCoefficient':0.005,'mieDirectionalG':0.8},this[_0x1cd8('0x49e')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.15,'mieCoefficient':0.005,'mieDirectionalG':0.8};}(0x0,_0x2a5c4c['default'])(_0x2f9796,[{'key':_0x1cd8('0x7'),'value':function(_0x7bb8c4){_0x7bb8c4=_0x7bb8c4[_0x1cd8('0x474')],_0x7bb8c4=void 0x0!==_0x7bb8c4&&_0x7bb8c4;return this[_0x1cd8('0x2f2')](),this[_0x1cd8('0x499')]=new THREE[(_0x1cd8('0x30c'))](new THREE['SphereBufferGeometry'](0x1,0x18,0xc),this[_0x1cd8('0x498')]),this[_0x1cd8('0x499')][_0x1cd8('0x3f6')][_0x1cd8('0x49f')](0x1faa3b500),this[_0x1cd8('0x322')]['add'](this['skyMesh']),this['update'](),this[_0x1cd8('0x4a0')]({'isCullGround':_0x7bb8c4}),this[_0x1cd8('0x322')];}},{'key':_0x1cd8('0x2f2'),'value':function(){this[_0x1cd8('0x498')]=new THREE[(_0x1cd8('0x1f0'))]({'uniforms':THREE[_0x1cd8('0x4a1')][_0x1cd8('0x1bb')](_0x438116[_0x1cd8('0xa')][_0x1cd8('0x176')]),'fragmentShader':_0x438116[_0x1cd8('0xa')][_0x1cd8('0x56')],'vertexShader':_0x438116[_0x1cd8('0xa')][_0x1cd8('0x3d4')],'side':THREE[_0x1cd8('0x45c')]});}},{'key':'setSkyConfig','value':function(_0x7bb8c4){_0x7bb8c4=(0x0,_0x85e6f[_0x1cd8('0xa')])(this['skyConfigs'],_0x7bb8c4);var _0x5441f2=this[_0x1cd8('0x498')][_0x1cd8('0x176')];_0x5441f2[_0x1cd8('0x4a2')][_0x1cd8('0xf')]=_0x7bb8c4[_0x1cd8('0x4a2')],_0x5441f2[_0x1cd8('0x4a3')][_0x1cd8('0xf')]=_0x7bb8c4['rayleigh'],_0x5441f2['luminance'][_0x1cd8('0xf')]=_0x7bb8c4[_0x1cd8('0x4a4')],_0x5441f2[_0x1cd8('0x4a5')][_0x1cd8('0xf')]=_0x7bb8c4['mieCoefficient'],_0x5441f2['mieDirectionalG']['value']=_0x7bb8c4[_0x1cd8('0x4a6')],_0x5441f2[_0x1cd8('0x474')][_0x1cd8('0xf')]=_0x7bb8c4[_0x1cd8('0x474')];}},{'key':_0x1cd8('0x4a7'),'value':function(){this[_0x1cd8('0x49a')]['x']=0xa*Math[_0x1cd8('0x58')](this[_0x1cd8('0x49c')]*Math['PI']/0xb4)*Math[_0x1cd8('0x59')](this[_0x1cd8('0x49b')]*Math['PI']/0xb4),this[_0x1cd8('0x49a')]['y']=0xa*Math[_0x1cd8('0x58')](this[_0x1cd8('0x49b')]*Math['PI']/0xb4),this[_0x1cd8('0x49a')]['z']=0xa*Math[_0x1cd8('0x59')](this[_0x1cd8('0x49c')]*Math['PI']/0xb4)*Math[_0x1cd8('0x59')](this['phi']*Math['PI']/0xb4),this[_0x1cd8('0x498')][_0x1cd8('0x176')][_0x1cd8('0x49a')][_0x1cd8('0xf')]['copy'](this['sunPosition']),this['skyMaterial']['uniforms'][_0x1cd8('0x4a8')][_0x1cd8('0xf')][_0x1cd8('0x1c6')](this[_0x1cd8('0x2fb')]['position']);}},{'key':_0x1cd8('0x2d3'),'value':function(){this[_0x1cd8('0x322')][_0x1cd8('0x3f')]['copy'](this[_0x1cd8('0x2fb')][_0x1cd8('0x3f')]),this[_0x1cd8('0x4a7')]();}},{'key':_0x1cd8('0xde'),'value':function(){DisposeUtils['disposeAll'](this[_0x1cd8('0x322')]),this['object3d']=null,this[_0x1cd8('0x497')]=null,this['skyMaterial']=null,this['skyMesh']=null;}}]),_0x5441f2[_0x1cd8('0xa')]=_0x2f9796;},function(_0x22c817,_0x51a61c,_0x168609){'use strict';Object[_0x1cd8('0x4')](_0x51a61c,_0x1cd8('0x6'),{'value':!0x0}),_0x51a61c[_0x1cd8('0xa')]={'uniforms':{'luminance':{'value':0x1},'turbidity':{'value':0x2},'rayleigh':{'value':0x1},'mieCoefficient':{'value':0.005},'mieDirectionalG':{'value':0.8},'sunPosition':{'value':new THREE['Vector3']()},'cameraPos':{'value':new THREE['Vector3']()},'isCullGround':{'value':!0x1}},'vertexShader':_0x1cd8('0x4a9'),'fragmentShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20luminance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieDirectionalG;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20cameraPos\x20=\x20vec3(\x200.0,\x200.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20n\x20=\x201.0003;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20N\x20=\x202.545E25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20rayleighZenithLength\x20=\x208.4E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20mieZenithLength\x20=\x201.25E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20sunAngularDiameterCos\x20=\x200.999956676946448443553574619906976478926848692873900859324;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20THREE_OVER_SIXTEENPI\x20=\x200.05968310365946075;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20ONE_OVER_FOURPI\x20=\x200.07957747154594767;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighPhase(\x20float\x20cosTheta\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20THREE_OVER_SIXTEENPI\x20*\x20(\x201.0\x20+\x20pow(\x20cosTheta,\x202.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hgPhase(\x20float\x20cosTheta,\x20float\x20g\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20g2\x20=\x20pow(\x20g,\x202.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20pow(\x201.0\x20-\x202.0\x20*\x20g\x20*\x20cosTheta\x20+\x20g2,\x201.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20ONE_OVER_FOURPI\x20*\x20(\x20(\x201.0\x20-\x20g2\x20)\x20*\x20inverse\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20A\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20B\x20=\x200.50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20C\x20=\x200.10;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20D\x20=\x200.20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20E\x20=\x200.02;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20F\x20=\x200.30;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20whiteScale\x20=\x201.0748724675633854;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Uncharted2Tonemap(\x20vec3\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20C\x20*\x20B\x20)\x20+\x20D\x20*\x20E\x20)\x20/\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20B\x20)\x20+\x20D\x20*\x20F\x20)\x20)\x20-\x20E\x20/\x20F;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zenithAngle\x20=\x20acos(\x20max(\x200.0,\x20dot(\x20up,\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20(\x20cos(\x20zenithAngle\x20)\x20+\x200.15\x20*\x20pow(\x2093.885\x20-\x20(\x20(\x20zenithAngle\x20*\x20180.0\x20)\x20/\x20pi\x20),\x20-1.253\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sR\x20=\x20rayleighZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sM\x20=\x20mieZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Fex\x20=\x20exp(\x20-(\x20vBetaR\x20*\x20sR\x20+\x20vBetaM\x20*\x20sM\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20cosTheta\x20=\x20dot(\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20),\x20vSunDirection\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rPhase\x20=\x20rayleighPhase(\x20cosTheta\x20*\x200.5\x20+\x200.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaRTheta\x20=\x20vBetaR\x20*\x20rPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mPhase\x20=\x20hgPhase(\x20cosTheta,\x20mieDirectionalG\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaMTheta\x20=\x20vBetaM\x20*\x20mPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Lin\x20=\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20(\x201.0\x20-\x20Fex\x20),\x20vec3(\x201.5\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Lin\x20*=\x20mix(\x20vec3(\x201.0\x20),\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20Fex,\x20vec3(\x201.0\x20/\x202.0\x20)\x20),\x20clamp(\x20pow(\x201.0\x20-\x20dot(\x20up,\x20vSunDirection\x20),\x205.0\x20),\x200.0,\x201.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20direction\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20theta\x20=\x20acos(\x20direction.y\x20);\x20//\x20elevation\x20-->\x20y-axis,\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20phi\x20=\x20atan(\x20direction.z,\x20direction.x\x20);\x20//\x20azimuth\x20-->\x20x-axis\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(\x20phi,\x20theta\x20)\x20/\x20vec2(\x202.0\x20*\x20pi,\x20pi\x20)\x20+\x20vec2(\x200.5,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20L0\x20=\x20vec3(\x200.1\x20)\x20*\x20Fex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sundisk\x20=\x20smoothstep(\x20sunAngularDiameterCos,\x20sunAngularDiameterCos\x20+\x200.00002,\x20cosTheta\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20L0\x20+=\x20(\x20vSunE\x20*\x2019000.0\x20*\x20Fex\x20)\x20*\x20sundisk;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texColor\x20=\x20(\x20Lin\x20+\x20L0\x20)\x20*\x200.04\x20+\x20vec3(\x200.0,\x200.0003,\x200.00075\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curr\x20=\x20Uncharted2Tonemap(\x20(\x20log2(\x202.0\x20/\x20pow(\x20luminance,\x204.0\x20)\x20)\x20)\x20*\x20texColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20curr\x20*\x20whiteScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20retColor\x20=\x20pow(\x20color,\x20vec3(\x201.0\x20/\x20(\x201.2\x20+\x20(\x201.2\x20*\x20vSunfade\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20retColor,\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vWorldPosition.y\x20<\x20-9e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'};},function(_0x44c7f8,_0x795538,_0x17e18a){'use strict';Object[_0x1cd8('0x4')](_0x795538,_0x1cd8('0x6'),{'value':!0x0});var _0x373cd4=_0x3d98f3(_0x17e18a(0x4)),_0x11af4a=_0x3d98f3(_0x17e18a(0x0));function _0x3d98f3(_0x44c7f8){return _0x44c7f8&&_0x44c7f8[_0x1cd8('0x6')]?_0x44c7f8:{'default':_0x44c7f8};}function _0x3049c2(_0x44c7f8){var _0x795538=_0x44c7f8[_0x1cd8('0x432')],_0x17e18a=_0x44c7f8[_0x1cd8('0x4aa')],_0x3d98f3=_0x44c7f8['lineColorStr'],_0x3d98f3=void 0x0===_0x3d98f3?_0x1cd8('0x4ab'):_0x3d98f3,_0x2e3e46=_0x44c7f8[_0x1cd8('0x4ac')],_0x2e3e46=void 0x0===_0x2e3e46?_0x1cd8('0x3db'):_0x2e3e46,_0x3e09fe=_0x44c7f8[_0x1cd8('0x4ad')],_0x3e09fe=void 0x0===_0x3e09fe?_0x1cd8('0x400'):_0x3e09fe,_0x10c53f=_0x44c7f8['number'],_0x10c53f=void 0x0===_0x10c53f?0x1:_0x10c53f,_0x31cb80=_0x44c7f8[_0x1cd8('0x4ae')],_0x31cb80=void 0x0===_0x31cb80?0x4:_0x31cb80,_0x44c7f8=_0x44c7f8['lineSpeed'],_0x44c7f8=void 0x0===_0x44c7f8?0.005:_0x44c7f8;(0x0,_0x11af4a[_0x1cd8('0xa')])(this,_0x3049c2),this['lineTexture']=_0x795538,this[_0x1cd8('0x4aa')]=_0x17e18a,this[_0x1cd8('0x4af')]=_0x2e3e46,this[_0x1cd8('0x4b0')]=_0x3e09fe,this['number']=_0x10c53f,this[_0x1cd8('0x4ae')]=_0x31cb80,this[_0x1cd8('0x4b1')]=_0x44c7f8,this['color']=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x3d98f3),this['bgColor']=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x2e3e46),this['numberColor']=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x3e09fe),this['object3d']=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x322')][_0x1cd8('0x7f')]=_0x1cd8('0x434'),this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x4b2')]=null,this[_0x1cd8('0x4b3')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x2f2')]();}(0x0,_0x3d98f3(_0x17e18a(0x1))['default'])(_0x3049c2,[{'key':_0x1cd8('0x4b4'),'value':function(_0x44c7f8,_0x795538,_0x17e18a){var _0x3d98f3=document['createElement'](_0x1cd8('0x470')),_0x68e4fb=(_0x3d98f3[_0x1cd8('0x320')]=_0x44c7f8,_0x3d98f3[_0x1cd8('0x2f1')]=_0x795538,_0x3d98f3[_0x1cd8('0x471')]('2d'));return _0x68e4fb[_0x1cd8('0x4b5')]='rgba(255,\x20255,\x20255,\x200)',_0x68e4fb[_0x1cd8('0x4b6')](0x0,0x0,_0x44c7f8,_0x795538),_0x68e4fb[_0x1cd8('0x4b7')]=_0x1cd8('0x4b8'),_0x68e4fb[_0x1cd8('0x4b5')]=_0x1cd8('0x400'),_0x68e4fb[_0x1cd8('0x4b9')]=_0x1cd8('0x22b'),_0x68e4fb[_0x1cd8('0x4ba')]=_0x1cd8('0x4bb'),_0x68e4fb[_0x1cd8('0x4bc')](_0x17e18a,_0x44c7f8/0x2-0x5,_0x795538/0x2+0x5),_0x3d98f3;}},{'key':_0x1cd8('0x41b'),'value':function(_0x795538){var _0x17e18a=this,_0x44c7f8=this[_0x1cd8('0x4b4')](0x80,0x80,this[_0x1cd8('0x17')]),_0x3d98f3=new THREE['Texture'](_0x44c7f8);_0x3d98f3[_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0x4b2')]=new THREE['SpriteMaterial']({'color':0xffffff,'depthTest':!0x1,'transparent':!0x0}),this[_0x1cd8('0x4b2')][_0x1cd8('0x2f9')]=!0x1,this[_0x1cd8('0x4b2')][_0x1cd8('0x3d2')]=function(_0x44c7f8){_0x44c7f8[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':0x0},_0x44c7f8[_0x1cd8('0x176')][_0x1cd8('0x4af')]={'value':_0x17e18a['bgColor']},_0x44c7f8[_0x1cd8('0x176')][_0x1cd8('0x4b0')]={'value':_0x17e18a['numberColor']},_0x44c7f8['uniforms'][_0x1cd8('0x4bd')]={'value':_0x795538},_0x44c7f8['uniforms'][_0x1cd8('0x4be')]={'value':_0x3d98f3},_0x44c7f8[_0x1cd8('0x3d4')]=_0x44c7f8[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<uv_pars_vertex>',_0x1cd8('0x3d5')),_0x44c7f8[_0x1cd8('0x3d4')]=_0x44c7f8['vertexShader'][_0x1cd8('0x23d')]('gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;',_0x1cd8('0x4bf')),_0x44c7f8[_0x1cd8('0x56')]=_0x44c7f8[_0x1cd8('0x56')]['replace']('uniform\x20float\x20opacity;',_0x1cd8('0x4c0')),_0x44c7f8['fragmentShader']=_0x44c7f8[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x4c1')),_0x17e18a[_0x1cd8('0x4b3')]=_0x44c7f8;};}},{'key':_0x1cd8('0x2f2'),'value':function(){this[_0x1cd8('0x432')][_0x1cd8('0x3f0')]=THREE['LinearFilter'],this[_0x1cd8('0x432')][_0x1cd8('0x3f2')]=THREE[_0x1cd8('0x3f3')],this['lineTexture'][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x432')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x432')]['needsUpdate']=!0x0,this['material']=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'depthTest':!0x1,'transparent':!0x0,'blending':THREE[_0x1cd8('0x1e0')]}),this[_0x1cd8('0x47')][_0x1cd8('0xdf')]=this['lineTexture'],this['material'][_0x1cd8('0x220')]=this[_0x1cd8('0x220')],this[_0x1cd8('0x432')][_0x1cd8('0x2ea')]['x']=this[_0x1cd8('0x4ae')],this[_0x1cd8('0x4aa')]&&this['createSprite'](this[_0x1cd8('0x4aa')]);}},{'key':_0x1cd8('0x7'),'value':function(_0x44c7f8){var _0x795538=_0x44c7f8[0x0],_0x17e18a=_0x44c7f8[_0x44c7f8['length']-0x1],_0x3d98f3=[],_0x41b64e=!0x0,_0x2b7944=!0x1,_0x43ac46=void 0x0;try{for(var _0x104e69,_0x11af4a=(0x0,_0x373cd4[_0x1cd8('0xa')])(_0x44c7f8);!(_0x41b64e=(_0x104e69=_0x11af4a[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x41b64e=!0x0){var _0x3049c2=_0x104e69[_0x1cd8('0xf')],_0x134a93=_0x3049c2['x']-_0x795538['x'],_0x169b59=_0x3049c2['y']-_0x795538['y'],_0xd6f7af=_0x3049c2['z']-_0x795538['z'];_0x3d98f3['push'](new THREE['Vector3'](_0x134a93,_0x169b59,_0xd6f7af));}}catch(_0x2a9b41){_0x2b7944=!0x0,_0x43ac46=_0x2a9b41;}finally{try{!_0x41b64e&&_0x11af4a[_0x1cd8('0xa1')]&&_0x11af4a[_0x1cd8('0xa1')]();}finally{if(_0x2b7944)throw _0x43ac46;}}var _0x44c7f8=new THREE[(_0x1cd8('0x4c2'))](_0x3d98f3,!0x1,'catmullrom',0.1),_0x2b7944=new THREE[(_0x1cd8('0x43d'))](_0x44c7f8,0x1f4,0x14,0x2,!0x1,!0x0),_0x43ac46=new THREE[(_0x1cd8('0x30c'))](_0x2b7944,this[_0x1cd8('0x47')]);_0x43ac46[_0x1cd8('0x3f')]['set'](_0x795538['x'],_0x795538['y'],_0x795538['z']),this[_0x1cd8('0x4aa')]&&(_0x44c7f8=new THREE[(_0x1cd8('0x41c'))](this[_0x1cd8('0x4b2')]),_0x2b7944=new THREE[(_0x1cd8('0x41c'))](this[_0x1cd8('0x4b2')]),_0x44c7f8[_0x1cd8('0x3f6')][_0x1cd8('0x1b')](0.03,0.03,0.03),_0x2b7944['scale']['set'](0.03,0.03,0.03),_0x44c7f8[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x795538['x'],_0x795538['y'],_0x795538['z']),_0x2b7944[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x17e18a['x'],_0x17e18a['y'],_0x17e18a['z']),this[_0x1cd8('0x322')]['add'](_0x44c7f8),this[_0x1cd8('0x322')]['add'](_0x2b7944)),this['object3d'][_0x1cd8('0x1cd')](_0x43ac46);}},{'key':_0x1cd8('0x2d3'),'value':function(){this[_0x1cd8('0x47')]&&(this['count']-=this[_0x1cd8('0x4b1')],this[_0x1cd8('0x47')][_0x1cd8('0xdf')][_0x1cd8('0x10a')]['x']=this[_0x1cd8('0x10f')]);}},{'key':_0x1cd8('0x327'),'set':function(_0x44c7f8){this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x44c7f8;}}]),_0x795538[_0x1cd8('0xa')]=_0x3049c2;},function(_0x3e5a88,_0x3cb31a,_0x3ed742){'use strict';Object[_0x1cd8('0x4')](_0x3cb31a,'__esModule',{'value':!0x0});var _0x5c211c=_0x8b2f6d(_0x3ed742(0xf)),_0x3e20b3=_0x8b2f6d(_0x3ed742(0x0));function _0x8b2f6d(_0x3e5a88){return _0x3e5a88&&_0x3e5a88['__esModule']?_0x3e5a88:{'default':_0x3e5a88};}function _0x12cc1d(_0x3e5a88){var _0x3cb31a=_0x3e5a88[_0x1cd8('0xe2')],_0x3ed742=_0x3e5a88[_0x1cd8('0x4c3')],_0x8b2f6d=_0x3e5a88['buildingColorStr'],_0x8b2f6d=void 0x0===_0x8b2f6d?'#ffffff':_0x8b2f6d,_0x1dd4bd=(_0x3e5a88['groundColor'],_0x3e5a88['opacity']),_0x1dd4bd=void 0x0===_0x1dd4bd?0x1:_0x1dd4bd,_0x20a987=_0x3e5a88['isBlending'],_0x20a987=void 0x0!==_0x20a987&&_0x20a987,_0x9b2aad=_0x3e5a88['isOpenScan'],_0x9b2aad=void 0x0!==_0x9b2aad&&_0x9b2aad,_0x4af2d1=_0x3e5a88['isOpenWireframScan'],_0x4af2d1=void 0x0!==_0x4af2d1&&_0x4af2d1,_0x3df867=_0x3e5a88[_0x1cd8('0x4c4')],_0x3df867=void 0x0===_0x3df867?{'x':0x0,'y':0x0}:_0x3df867,_0x2fc938=_0x3e5a88[_0x1cd8('0x4c5')],_0x2fc938=void 0x0===_0x2fc938?'#6f6f6f':_0x2fc938,_0x4cf68b=_0x3e5a88['lightWidth'],_0x4cf68b=void 0x0===_0x4cf68b?0x1f4:_0x4cf68b,_0x5743e9=_0x3e5a88[_0x1cd8('0x4c6')],_0x5743e9=void 0x0===_0x5743e9?0x1:_0x5743e9,_0x5da4ad=_0x3e5a88[_0x1cd8('0x4c7')],_0x5da4ad=void 0x0===_0x5da4ad?[0x2710,-0x2710]:_0x5da4ad,_0x3e5a88=_0x3e5a88[_0x1cd8('0x4c8')];(0x0,_0x3e20b3[_0x1cd8('0xa')])(this,_0x12cc1d),this[_0x1cd8('0x2ad')]=_0x3cb31a,this['buildingColor']=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x8b2f6d),this[_0x1cd8('0x9f')]=null,this['material']=null,this[_0x1cd8('0x4c9')]=null,this[_0x1cd8('0x20a')]=_0x1dd4bd,this[_0x1cd8('0x3dc')]=null,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x10f')]=_0x5da4ad[0x0],this[_0x1cd8('0x4c7')]=_0x5da4ad,this[_0x1cd8('0x4ca')]=_0x4cf68b,this[_0x1cd8('0x4c6')]=_0x5743e9,this[_0x1cd8('0x4cb')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x2fc938),this[_0x1cd8('0x4cc')]=_0x20a987,this['isOpenScan']=_0x9b2aad?0x1:0x0,this[_0x1cd8('0x4cd')]=_0x4af2d1?0x1:0x0,this[_0x1cd8('0x4c4')]=_0x3df867,this['randomTexture']=(0x0,_0x5c211c[_0x1cd8('0xa')])({'isUseRandomTexture':!0x1,'textPaths':[],'whFactor':new THREE[(_0x1cd8('0x1c0'))](12.8,12.8)},_0x3e5a88),this[_0x1cd8('0x2f2')](_0x3ed742);}(0x0,_0x8b2f6d(_0x3ed742(0x1))[_0x1cd8('0xa')])(_0x12cc1d,[{'key':_0x1cd8('0x4ce'),'value':function(_0x3e5a88){var _0x3cb31a=_0x3e5a88[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x1cd8('0xc')];if(0x0<_0x3cb31a){for(var _0x3ed742=_0x3e5a88[_0x1cd8('0xe0')][_0x1cd8('0x40c')](_0x1cd8('0x3f')),_0x8b2f6d=new Array(_0x3ed742[_0x1cd8('0x10f')]),_0x2c1dda=new Array(_0x3ed742[_0x1cd8('0x10f')]),_0x18dcf1=0x0;_0x18dcf1<_0x3cb31a;_0x18dcf1++){var _0x35c6b7=_0x3e5a88[_0x1cd8('0x43')]['brothers'][_0x18dcf1][_0x1cd8('0x4d0')][0x0],_0xe4aa5b=_0x3e5a88['datas_']['brothers'][_0x18dcf1][_0x1cd8('0x4d1')][0x0],_0x46b280=_0x3e5a88[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x18dcf1][_0x1cd8('0x4d0')][0x1];_0x8b2f6d[_0x1cd8('0x4d2')](0x1,_0x35c6b7,_0xe4aa5b),_0x8b2f6d[_0x1cd8('0x4d2')](0x0,_0xe4aa5b,_0x46b280),_0x2c1dda[_0x1cd8('0x4d2')](_0x3e5a88[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x18dcf1][_0x1cd8('0x4d3')][_0x1cd8('0x4d4')],_0x35c6b7,_0x46b280);}_0x3e5a88[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x4d5'),new THREE[(_0x1cd8('0x381'))](new Float32Array(_0x8b2f6d),0x1)),_0x3e5a88['geometry'][_0x1cd8('0x1fb')](_0x1cd8('0x4d6'),new THREE[(_0x1cd8('0x381'))](new Float32Array(_0x2c1dda),0x1));}}},{'key':'createMaterial','value':function(_0x3cb31a){var _0x3ed742=this,_0x3e5a88=new THREE['TextureLoader'](),_0x8b2f6d=(_0x3cb31a&&(this[_0x1cd8('0x9f')]=_0x3e5a88[_0x1cd8('0x9d')](_0x3cb31a)),null);if(this['randomTexture'][_0x1cd8('0x4d7')]){for(var _0x4dfbcd=new Array(0x4)[_0x1cd8('0x4d2')](null),_0x9e9df3=0x0,_0x31c7a3=this[_0x1cd8('0x4c8')][_0x1cd8('0x4d8')][_0x1cd8('0xc')];_0x9e9df3<_0x31c7a3;_0x9e9df3++){var _0x35dfbe=_0x3e5a88[_0x1cd8('0x9d')](this[_0x1cd8('0x4c8')][_0x1cd8('0x4d8')][_0x9e9df3]);_0x35dfbe[_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0x35dfbe[_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x4dfbcd[_0x9e9df3]=_0x35dfbe;}_0x8b2f6d=new THREE['Uniform'](_0x4dfbcd);}this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x44f'))]({'color':0xffffff}),this[_0x1cd8('0x4cc')]&&(this[_0x1cd8('0x47')][_0x1cd8('0x1df')]=THREE[_0x1cd8('0x1e0')]),this[_0x1cd8('0x20a')]<0x1&&(this['material'][_0x1cd8('0x1e1')]=!0x0,this['material'][_0x1cd8('0x20a')]=this[_0x1cd8('0x20a')]),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x3e5a88){_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4d9')]={'type':'i','value':_0x3ed742['isOpenScan']},_0x3e5a88['uniforms'][_0x1cd8('0x3da')]={'value':_0x3ed742['count']},_0x3cb31a&&(_0x3e5a88['uniforms']['texture1']={'value':_0x3ed742[_0x1cd8('0x9f')]}),_0x8b2f6d&&(_0x3e5a88[_0x1cd8('0x176')]['textures']=_0x8b2f6d,_0x3e5a88['uniforms'][_0x1cd8('0x4da')]={'value':_0x3ed742[_0x1cd8('0x4c8')][_0x1cd8('0x4da')]}),_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4db')]={'value':_0x3ed742[_0x1cd8('0x4db')]},_0x3e5a88['uniforms']['groundColor']={'value':new THREE['Color'](0x70d16)},_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4cb')]={'value':_0x3ed742['lightColor']},_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4c6')]={'value':_0x3ed742[_0x1cd8('0x4c6')]},_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4ca')]={'value':_0x3ed742[_0x1cd8('0x4ca')]},_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4c4')]={'value':new THREE[(_0x1cd8('0x1c0'))](_0x3ed742[_0x1cd8('0x4c4')]['x'],_0x3ed742[_0x1cd8('0x4c4')]['y'])},_0x3e5a88[_0x1cd8('0x3d4')]=_0x3e5a88[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),_0x1cd8('0x4dc')+(_0x3cb31a?_0x1cd8('0x4dd'):'')+_0x1cd8('0x418')+(_0x3ed742[_0x1cd8('0x4c8')][_0x1cd8('0x4d7')]?'#define\x20IS_RANDOM_TEXTURE':'')+_0x1cd8('0x4de')),_0x3e5a88['vertexShader']=_0x3e5a88[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_RANDOM_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20buildingWidth\x20=\x20whFactor.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(faceAspect\x20>\x200.){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20buildingWidth\x20=\x20faceAspect\x20*\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20repeatX\x20=\x20buildingWidth\x20/\x20whFactor.x,\x20repeatY\x20=\x20buildingsHeight\x20/\x20whFactor.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20texMatrix;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texMatrix[0].x\x20=\x20floor(repeatX\x20+\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texMatrix[1].y\x20=\x20floor(repeatY\x20+\x200.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vtUv\x20=\x20(\x20texMatrix\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20for\x20line\x20scan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newPos.x\x20+=\x20scanCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newPos.z\x20-=\x20scanCenter.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHeight\x20=\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3e5a88[_0x1cd8('0x56')]=_0x3e5a88[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x418')+(_0x3cb31a?'#define\x20IS_TEXTURE':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3ed742[_0x1cd8('0x4c8')]['isUseRandomTexture']?_0x1cd8('0x4df'):'')+_0x1cd8('0x4e0')),_0x3e5a88[_0x1cd8('0x56')]=_0x3e5a88[_0x1cd8('0x56')][_0x1cd8('0x23d')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1cd8('0x4e1')),_0x3ed742[_0x1cd8('0x3d0')]=_0x3e5a88;};}},{'key':'injectWireframeShader','value':function(_0x3e5a88){var _0x3cb31a=this;this[_0x1cd8('0x4c9')]=_0x3e5a88,this[_0x1cd8('0x4c9')]['onBeforeCompile']=function(_0x3e5a88){_0x3e5a88['uniforms'][_0x1cd8('0x4d9')]={'type':'i','value':_0x3cb31a[_0x1cd8('0x4cd')]},_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':0x0},_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4cb')]={'value':_0x3cb31a[_0x1cd8('0x4cb')]},_0x3e5a88[_0x1cd8('0x176')]['lightDiffuse']={'value':_0x3cb31a[_0x1cd8('0x4c6')]},_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4ca')]={'value':_0x3cb31a[_0x1cd8('0x4ca')]},_0x3e5a88[_0x1cd8('0x176')][_0x1cd8('0x4c4')]={'value':new THREE[(_0x1cd8('0x1c0'))](_0x3cb31a[_0x1cd8('0x4c4')]['x'],_0x3cb31a[_0x1cd8('0x4c4')]['y'])},_0x3e5a88[_0x1cd8('0x3d4')]=_0x3e5a88[_0x1cd8('0x3d4')]['replace'](_0x1cd8('0x3df'),_0x1cd8('0x4e2')),_0x3e5a88[_0x1cd8('0x3d4')]=_0x3e5a88['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x4e3')),_0x3e5a88['fragmentShader']=_0x3e5a88[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x4e4')),_0x3e5a88[_0x1cd8('0x56')]=_0x3e5a88[_0x1cd8('0x56')]['replace'](_0x1cd8('0x3d9'),_0x1cd8('0x4e5')+_0x3cb31a['lightWidth']['toFixed'](0x1)+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isOpenScan\x20==\x201){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20lineScan(vModelPos.x,\x20iTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3cb31a[_0x1cd8('0x4e6')]=_0x3e5a88;};}},{'key':_0x1cd8('0x4e7'),'value':function(_0x3e5a88){_0x3e5a88=_0x3e5a88[_0x1cd8('0x220')];this[_0x1cd8('0x3d0')]&&_0x3e5a88&&(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['buildingColor']['value']=_0x3e5a88);}},{'key':_0x1cd8('0x4e8'),'value':function(){return this[_0x1cd8('0x47')];}},{'key':_0x1cd8('0x4e9'),'value':function(){return this[_0x1cd8('0x4c9')];}},{'key':_0x1cd8('0x325'),'value':function(_0x3e5a88){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]>this['scanExtent'][0x0]&&(this[_0x1cd8('0x10f')]=this[_0x1cd8('0x4c7')][0x1]),this[_0x1cd8('0x10f')]+=_0x3e5a88,this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x3da')][_0x1cd8('0xf')]=-this[_0x1cd8('0x10f')],this[_0x1cd8('0x4e6')]&&(this[_0x1cd8('0x4e6')][_0x1cd8('0x176')][_0x1cd8('0x3da')][_0x1cd8('0xf')]=-this[_0x1cd8('0x10f')]));}}]),_0x3cb31a[_0x1cd8('0xa')]=_0x12cc1d;},function(_0x429000,_0x4357b4,_0x4c4fe1){_0x4c4fe1(0xb3),_0x429000['exports']=_0x4c4fe1(0x2)['Math']['sign'];},function(_0x5edbfb,_0x5c1770,_0x4371c8){var _0x3f2b53=_0x4371c8(0x3);_0x3f2b53(_0x3f2b53['S'],_0x1cd8('0x15'),{'sign':_0x4371c8(0xb4)});},function(_0x2c0cac,_0x41abc5){_0x2c0cac[_0x1cd8('0x0')]=Math[_0x1cd8('0x4ea')]||function(_0x2c0cac){return 0x0==(_0x2c0cac=+_0x2c0cac)||_0x2c0cac!=_0x2c0cac?_0x2c0cac:_0x2c0cac<0x0?-0x1:0x1;};},function(_0x9b3362,_0x42ff11,_0x34b911){_0x9b3362['exports']={'default':_0x34b911(0xb6),'__esModule':!0x0};},function(_0x517585,_0x9053c2,_0x199e54){_0x199e54(0xb7),_0x517585[_0x1cd8('0x0')]=_0x199e54(0x2)[_0x1cd8('0x15')][_0x1cd8('0x4eb')];},function(_0x550edf,_0x55d1c9,_0x4814e3){_0x4814e3=_0x4814e3(0x3);_0x4814e3(_0x4814e3['S'],'Math',{'log10':function(_0x550edf){return Math['log'](_0x550edf)*Math['LOG10E'];}});},function(_0x677469,_0x495153,_0x361146){'use strict';_0x495153['__esModule']=!0x0;var _0x3881fb=_0x334198(_0x361146(0xb9)),_0x5a8d7c=_0x334198(_0x361146(0x4));function _0x334198(_0x677469){return _0x677469&&_0x677469[_0x1cd8('0x6')]?_0x677469:{'default':_0x677469};}_0x495153[_0x1cd8('0xa')]=function(_0x677469,_0x495153){if(Array[_0x1cd8('0x1b6')](_0x677469))return _0x677469;if((0x0,_0x3881fb[_0x1cd8('0xa')])(Object(_0x677469))){var _0x361146=_0x495153,_0x334198=[],_0x3d6f91=!0x0,_0x495153=!0x1,_0x2e1386=void 0x0;try{for(var _0x35b405,_0x579f39=(0x0,_0x5a8d7c[_0x1cd8('0xa')])(_0x677469);!(_0x3d6f91=(_0x35b405=_0x579f39[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')])&&(_0x334198['push'](_0x35b405[_0x1cd8('0xf')]),!_0x361146||_0x334198['length']!==_0x361146);_0x3d6f91=!0x0);}catch(_0xcfbdff){_0x495153=!0x0,_0x2e1386=_0xcfbdff;}finally{try{!_0x3d6f91&&_0x579f39['return']&&_0x579f39[_0x1cd8('0xa1')]();}finally{if(_0x495153)throw _0x2e1386;}}return _0x334198;}throw new TypeError(_0x1cd8('0x4ec'));};},function(_0x4de8f6,_0x1172c5,_0x11fef7){_0x4de8f6[_0x1cd8('0x0')]={'default':_0x11fef7(0xba),'__esModule':!0x0};},function(_0x4481ba,_0x3d68a2,_0x2ca4b9){_0x2ca4b9(0x1b),_0x2ca4b9(0x19),_0x4481ba[_0x1cd8('0x0')]=_0x2ca4b9(0xbb);},function(_0x5de76d,_0xf1f07c,_0x365009){var _0x11b89a=_0x365009(0x2c),_0x55e72c=_0x365009(0x6)(_0x1cd8('0x93')),_0x59f192=_0x365009(0x11);_0x5de76d[_0x1cd8('0x0')]=_0x365009(0x2)[_0x1cd8('0x4ed')]=function(_0x5de76d){_0x5de76d=Object(_0x5de76d);return void 0x0!==_0x5de76d[_0x55e72c]||_0x1cd8('0x7c')in _0x5de76d||_0x59f192[_0x1cd8('0x1e')](_0x11b89a(_0x5de76d));};},function(_0x385482,_0x290d77,_0x211599){'use strict';Object['defineProperty'](_0x290d77,_0x1cd8('0x6'),{'value':!0x0}),_0x290d77[_0x1cd8('0xa')]={'createCircleGradient':function(_0x385482){var _0x290d77=document['createElement']('canvas'),_0x211599=(_0x290d77[_0x1cd8('0x320')]=0x100,_0x290d77[_0x1cd8('0x2f1')]=0x100,_0x290d77['getContext']('2d')),_0x385482=_0x211599[_0x1cd8('0x4ee')](0x80,0x80,0x80*_0x385482[0x0],0x80,0x80,0x80*_0x385482[0x1]);return _0x385482[_0x1cd8('0x4ef')](0x0,_0x1cd8('0x4f0')),_0x385482[_0x1cd8('0x4ef')](0x1,'rgba(0,\x200,\x200,\x201)'),_0x211599[_0x1cd8('0x4b5')]=_0x385482,_0x211599[_0x1cd8('0x4b6')](0x0,0x0,0x100,0x100),_0x290d77;}};},,,,,,,,,,,,,,,,function(_0x139a6a,_0x6cfb6f,_0x501726){'use strict';var _0x163d57,_0x133b52=_0x203ab6(_0x501726(0x4)),_0x1cff64=(_0x501726(0xcd),_0x501726(0xce),_0x501726(0x1a)),_0x1f354c=_0x203ab6(_0x501726(0xcf)),_0x38e770=_0x203ab6(_0x501726(0xd0)),_0x54bdc1=_0x501726(0x62),_0x501726=_0x203ab6(_0x501726(0xfc));function _0x203ab6(_0x139a6a){return _0x139a6a&&_0x139a6a[_0x1cd8('0x6')]?_0x139a6a:{'default':_0x139a6a};}if(!esmap)throw new Error(_0x1cd8('0x4f1'));for(_0x163d57 in esmap[_0x1cd8('0x4f2')][_0x1cd8('0x4f3')]=_0x1cd8('0x4f4'),esmap[_0x1cd8('0x4f5')][_0x1cd8('0x4f3')]=_0x1cd8('0x4f4'),esmap[_0x1cd8('0x282')]={},_0x54bdc1['ESMarkerType'])esmap[_0x1cd8('0x282')][_0x163d57]=_0x54bdc1[_0x1cd8('0x282')][_0x163d57];esmap[_0x1cd8('0x4f6')]=!0x0,esmap[_0x1cd8('0x53')]={'init':_0x501726[_0x1cd8('0xa')]['init'],'isExecuteInit':!0x1,'EffectLayer':_0x1f354c[_0x1cd8('0xa')],'EffectMarker':_0x38e770[_0x1cd8('0xa')],'markers':_0x501726[_0x1cd8('0xa')][_0x1cd8('0x4f7')],'buildings':_0x501726[_0x1cd8('0xa')][_0x1cd8('0x4f8')],'floors':_0x501726[_0x1cd8('0xa')][_0x1cd8('0x4f9')],'ground':_0x501726['default']['ground'],'lights':_0x501726[_0x1cd8('0xa')][_0x1cd8('0x4fa')],'models':_0x501726['default'][_0x1cd8('0x4fb')],'routes':_0x501726['default'][_0x1cd8('0x4fc')],'skybox':_0x501726[_0x1cd8('0xa')][_0x1cd8('0x4fd')],'water':_0x501726[_0x1cd8('0xa')]['water'],'video':_0x501726['default'][_0x1cd8('0x4fe')],'screenEffect':_0x501726['default'][_0x1cd8('0x4ff')],'switchEffectTheme':_0x501726[_0x1cd8('0xa')][_0x1cd8('0x500')],'switchEffectLight':_0x501726[_0x1cd8('0xa')][_0x1cd8('0x501')],'clearAll':_0x501726[_0x1cd8('0xa')][_0x1cd8('0x502')],'addLayerToMap':function(_0x139a6a,_0x6cfb6f,_0x501726){if(esmap[_0x1cd8('0x53')][_0x1cd8('0x503')]){if(!(0x0,_0x1cff64[_0x1cd8('0x30')])()['mapView'][_0x1cd8('0x45f')])throw new Error(_0x1cd8('0x504'));var _0x163d57;(0x0,_0x1cff64[_0x1cd8('0x33')])()?((_0x163d57=(0x0,_0x1cff64[_0x1cd8('0x2f')])(_0x6cfb6f||0x0))[_0x1cd8('0x505')](_0x501726||0x1),(_0x163d57=_0x163d57[_0x1cd8('0x506')](_0x501726||0x1))[_0x1cd8('0x507')]||(_0x163d57[_0x1cd8('0x507')]=[]),_0x163d57[_0x1cd8('0x507')][_0x1cd8('0x70')](_0x139a6a),_0x139a6a[_0x1cd8('0x508')]=_0x163d57[_0x1cd8('0x508')],_0x163d57['o3d_'][_0x1cd8('0x1cd')](_0x139a6a['o3d_'])):((_0x501726=(0x0,_0x1cff64['getBuiding'])())[_0x1cd8('0x505')](_0x6cfb6f||0x1),(_0x163d57=_0x501726[_0x1cd8('0x506')](_0x6cfb6f||0x1))[_0x1cd8('0x507')]||(_0x163d57[_0x1cd8('0x507')]=[]),_0x163d57[_0x1cd8('0x507')]['push'](_0x139a6a),_0x139a6a[_0x1cd8('0x508')]=_0x163d57[_0x1cd8('0x508')],_0x163d57[_0x1cd8('0x509')]['add'](_0x139a6a[_0x1cd8('0x509')]));}else console['info']('effect\x20initialize\x20is\x20not\x20complete!');},'addLayer':function(_0x139a6a){var _0x6cfb6f,_0x501726=0x1<arguments[_0x1cd8('0xc')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{};if(esmap[_0x1cd8('0x53')][_0x1cd8('0x503')]){if(!(0x0,_0x1cff64[_0x1cd8('0x30')])()['mapView'][_0x1cd8('0x45f')])throw new Error(_0x1cd8('0x504'));(0x0,_0x1cff64[_0x1cd8('0x33')])()?((_0x6cfb6f=(0x0,_0x1cff64[_0x1cd8('0x2f')])(_0x501726['bid']||0x0))[_0x1cd8('0x505')](_0x501726[_0x1cd8('0x50a')]||0x1),(_0x6cfb6f=_0x6cfb6f[_0x1cd8('0x506')](_0x501726[_0x1cd8('0x50a')]||0x1))['_effectLayers']||(_0x6cfb6f[_0x1cd8('0x507')]=[]),_0x6cfb6f['_effectLayers'][_0x1cd8('0x70')](_0x139a6a),_0x139a6a['FloorNum']=_0x6cfb6f['FloorNum'],_0x6cfb6f[_0x1cd8('0x509')][_0x1cd8('0x1cd')](_0x139a6a['o3d_'])):((_0x6cfb6f=(0x0,_0x1cff64[_0x1cd8('0x2f')])()[_0x1cd8('0x506')](_0x501726[_0x1cd8('0x50a')]||0x1))['_effectLayers']||(_0x6cfb6f[_0x1cd8('0x507')]=[]),_0x6cfb6f[_0x1cd8('0x507')][_0x1cd8('0x70')](_0x139a6a),_0x139a6a[_0x1cd8('0x508')]=_0x6cfb6f[_0x1cd8('0x508')],_0x6cfb6f[_0x1cd8('0x509')][_0x1cd8('0x1cd')](_0x139a6a['o3d_']));}else console[_0x1cd8('0xf0')]('effect\x20initialize\x20is\x20not\x20complete!');},'removeLayer':function(_0x139a6a){_0x139a6a[_0x1cd8('0xde')]();},'removeLayersByNames':function(_0x139a6a){var _0x139a6a=this[_0x1cd8('0x50b')](_0x139a6a),_0x6cfb6f=!0x0,_0x501726=!0x1,_0x163d57=void 0x0;try{for(var _0x1f354c,_0x38e770=(0x0,_0x133b52[_0x1cd8('0xa')])(_0x139a6a);!(_0x6cfb6f=(_0x1f354c=_0x38e770[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x6cfb6f=!0x0){var _0x54bdc1=_0x1f354c[_0x1cd8('0xf')];this[_0x1cd8('0x50c')](_0x54bdc1);}}catch(_0x587a1d){_0x501726=!0x0,_0x163d57=_0x587a1d;}finally{try{!_0x6cfb6f&&_0x38e770['return']&&_0x38e770['return']();}finally{if(_0x501726)throw _0x163d57;}}},'getLayersByNames':function(_0x139a6a){if(Array[_0x1cd8('0x1b6')](_0x139a6a)&&0x0<_0x139a6a['length']){var _0x6cfb6f=[],_0x501726=(0x0,_0x1cff64[_0x1cd8('0x30')])();if((0x0,_0x1cff64[_0x1cd8('0x33')])()){var _0x163d57=(0x0,_0x1cff64['getBuiding'])(0x0)['getFloor'](0x1),_0x1f354c=!0x0,_0x38e770=!0x1,_0x54bdc1=void 0x0;try{for(var _0x203ab6,_0x49ff22=(0x0,_0x133b52[_0x1cd8('0xa')])(_0x163d57[_0x1cd8('0x507')]);!(_0x1f354c=(_0x203ab6=_0x49ff22[_0x1cd8('0x7e')]())['done']);_0x1f354c=!0x0){var _0x472165=_0x203ab6[_0x1cd8('0xf')];-0x1<_0x139a6a['indexOf'](_0x472165[_0x1cd8('0x7f')])&&_0x6cfb6f[_0x1cd8('0x70')](_0x472165);}}catch(_0x37c611){_0x38e770=!0x0,_0x54bdc1=_0x37c611;}finally{try{!_0x1f354c&&_0x49ff22['return']&&_0x49ff22[_0x1cd8('0xa1')]();}finally{if(_0x38e770)throw _0x54bdc1;}}for(var _0xf5f423=_0x501726[_0x1cd8('0x50d')],_0x2607ce=0x0;_0x2607ce<_0xf5f423[_0x1cd8('0xc')];_0x2607ce++){var _0x2944b5=!0x0,_0x21ced2=!0x1,_0x3ad556=void 0x0;try{for(var _0x215440,_0x5af0ca=(0x0,_0x133b52[_0x1cd8('0xa')])(_0xf5f423[_0x2607ce][_0x1cd8('0x50e')]);!(_0x2944b5=(_0x215440=_0x5af0ca[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x2944b5=!0x0){var _0x1814cb=_0x215440[_0x1cd8('0xf')],_0x5ac853=_0xf5f423[_0x2607ce]['getFloor'](_0x1814cb);if(_0x5ac853[_0x1cd8('0x507')]){var _0x56cd66=!0x0,_0x105bb9=!0x1,_0x45f41e=void 0x0;try{for(var _0x4fa17e,_0x14d480=(0x0,_0x133b52[_0x1cd8('0xa')])(_0x5ac853[_0x1cd8('0x507')]);!(_0x56cd66=(_0x4fa17e=_0x14d480[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x56cd66=!0x0){var _0x36854f=_0x4fa17e[_0x1cd8('0xf')];-0x1<_0x139a6a[_0x1cd8('0x50')](_0x36854f[_0x1cd8('0x7f')])&&_0x6cfb6f[_0x1cd8('0x70')](_0x36854f);}}catch(_0xa82bc3){_0x105bb9=!0x0,_0x45f41e=_0xa82bc3;}finally{try{!_0x56cd66&&_0x14d480[_0x1cd8('0xa1')]&&_0x14d480['return']();}finally{if(_0x105bb9)throw _0x45f41e;}}}}}catch(_0x16aee5){_0x21ced2=!0x0,_0x3ad556=_0x16aee5;}finally{try{!_0x2944b5&&_0x5af0ca['return']&&_0x5af0ca[_0x1cd8('0xa1')]();}finally{if(_0x21ced2)throw _0x3ad556;}}}}else{var _0x1a0bd7=(0x0,_0x1cff64[_0x1cd8('0x2f')])(),_0x176a84=!0x0,_0x163d57=!0x1,_0x38e770=void 0x0;try{for(var _0x302a16,_0x13fb4b=(0x0,_0x133b52[_0x1cd8('0xa')])(_0x1a0bd7[_0x1cd8('0x50e')]);!(_0x176a84=(_0x302a16=_0x13fb4b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x176a84=!0x0){var _0x57291a=_0x302a16[_0x1cd8('0xf')],_0x2d765f=_0x1a0bd7[_0x1cd8('0x506')](_0x57291a);if(_0x2d765f[_0x1cd8('0x507')]){var _0x8d5dc9=!0x0,_0x10610c=!0x1,_0x112cf9=void 0x0;try{for(var _0x52db0a,_0x4d79fb=(0x0,_0x133b52[_0x1cd8('0xa')])(_0x2d765f[_0x1cd8('0x507')]);!(_0x8d5dc9=(_0x52db0a=_0x4d79fb[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x8d5dc9=!0x0){var _0xacbed3=_0x52db0a[_0x1cd8('0xf')];-0x1<_0x139a6a[_0x1cd8('0x50')](_0xacbed3[_0x1cd8('0x7f')])&&_0x6cfb6f[_0x1cd8('0x70')](_0xacbed3);}}catch(_0x34af73){_0x10610c=!0x0,_0x112cf9=_0x34af73;}finally{try{!_0x8d5dc9&&_0x4d79fb[_0x1cd8('0xa1')]&&_0x4d79fb['return']();}finally{if(_0x10610c)throw _0x112cf9;}}}}}catch(_0x16d159){_0x163d57=!0x0,_0x38e770=_0x16d159;}finally{try{!_0x176a84&&_0x13fb4b[_0x1cd8('0xa1')]&&_0x13fb4b[_0x1cd8('0xa1')]();}finally{if(_0x163d57)throw _0x38e770;}}}return _0x6cfb6f;}}};},function(_0x32011f,_0x1bb2de,_0x379655){'use strict';var _0x4f2fb3,_0x11039c,_0x566a43,_0x9bdce9=_0x2db807(_0x379655(0x58)),_0x18a123=_0x2db807(_0x379655(0x1d));function _0x2db807(_0x32011f){return _0x32011f&&_0x32011f[_0x1cd8('0x6')]?_0x32011f:{'default':_0x32011f};}function _0x49590b(_0x32011f){if(this instanceof _0x49590b)throw new TypeError('Symbol\x20is\x20not\x20a\x20constructor');var _0x32011f=void 0x0===_0x32011f?void 0x0:String(_0x32011f),_0x1bb2de=(0x0,_0x18a123['default'])({'toString':function(){return this[_0x1cd8('0x50f')];},'valueOf':function(){return this;}});return(0x0,_0x9bdce9[_0x1cd8('0xa')])(_0x1bb2de,{'__Description__':{'value':_0x32011f,'writable':!0x1,'enumerable':!0x1,'configurable':!0x1},'__Name__':{'value':_0x11039c(_0x32011f),'writable':!0x1,'enumerable':!0x1,'configurable':!0x1}}),_0x1bb2de;}_0x379655=window,_0x11039c=function(_0x32011f){return'@@'+_0x32011f+'_'+ ++_0x4f2fb3;},_0x566a43={},(_0x4f2fb3=0x0,_0x9bdce9['default'])(_0x49590b,{'for':{'value':function(_0x32011f){_0x32011f=void 0x0===_0x32011f?void 0x0:String(_0x32011f);return _0x566a43[_0x32011f]||(_0x566a43[_0x32011f]=_0x49590b(_0x32011f));},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0},'keyFor':{'value':function(_0x32011f){for(var _0x1bb2de in _0x566a43)if(_0x566a43[_0x1bb2de]===_0x32011f)return _0x1bb2de;},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0}}),window[_0x1cd8('0x18')]||(_0x379655['Symbol']=_0x49590b);},function(_0x24bd51,_0x28790d,_0x436c0f){'use strict';Array[_0x1cd8('0x11')][_0x1cd8('0x4d2')]||Object[_0x1cd8('0x4')](Array[_0x1cd8('0x11')],'fill',{'value':function(_0x24bd51){if(null==this)throw new TypeError(_0x1cd8('0x510'));for(var _0x28790d=Object(this),_0x436c0f=_0x28790d[_0x1cd8('0xc')]>>>0x0,_0x53f5b4=arguments[0x1]>>0x0,_0x56efd1=_0x53f5b4<0x0?Math[_0x1cd8('0xe4')](_0x436c0f+_0x53f5b4,0x0):Math[_0x1cd8('0x81')](_0x53f5b4,_0x436c0f),_0x53f5b4=arguments[0x2],_0x53f5b4=void 0x0===_0x53f5b4?_0x436c0f:_0x53f5b4>>0x0,_0x3e3893=_0x53f5b4<0x0?Math[_0x1cd8('0xe4')](_0x436c0f+_0x53f5b4,0x0):Math[_0x1cd8('0x81')](_0x53f5b4,_0x436c0f);_0x56efd1<_0x3e3893;)_0x28790d[_0x56efd1]=_0x24bd51,_0x56efd1++;return _0x28790d;}});},function(_0x428544,_0x271b26,_0xc57636){'use strict';Object[_0x1cd8('0x4')](_0x271b26,'__esModule',{'value':!0x0});var _0x2e97d0=_0x4c28e3(_0xc57636(0x4)),_0x4fa24c=_0x4c28e3(_0xc57636(0x0));function _0x4c28e3(_0x428544){return _0x428544&&_0x428544[_0x1cd8('0x6')]?_0x428544:{'default':_0x428544};}function _0x5c51f5(_0x428544,_0x271b26){(0x0,_0x4fa24c[_0x1cd8('0xa')])(this,_0x5c51f5),this['o3d_']=new THREE[(_0x1cd8('0x32a'))](),(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)['name']=_0x428544,this[_0x1cd8('0x101')]=_0x271b26,this[_0x1cd8('0x508')]=0x1,this['children']=[];}(0x0,_0x4c28e3(_0xc57636(0x1))[_0x1cd8('0xa')])(_0x5c51f5,[{'key':'addMarker','value':function(_0x428544){_0x428544[_0x1cd8('0x509')]&&(this[_0x1cd8('0x509')]['add'](_0x428544[_0x1cd8('0x509')]),_0x428544[_0x1cd8('0x46c')]({'type':_0x1cd8('0x46d')}),this['children'][_0x1cd8('0x70')](_0x428544),_0x428544[_0x1cd8('0x508')]=this['FloorNum'],esmap[_0x1cd8('0x53')]['markers']&&esmap[_0x1cd8('0x53')]['markers'][_0x1cd8('0x1cd')](_0x428544));}},{'key':'remove','value':function(_0x428544){_0x428544[_0x1cd8('0x509')]&&(esmap[_0x1cd8('0x53')][_0x1cd8('0x4f7')]&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4f7')][_0x1cd8('0xe1')](_0x428544),_0x428544[_0x1cd8('0xde')]());}},{'key':_0x1cd8('0x511'),'value':function(){if(0x0!==this[_0x1cd8('0x315')][_0x1cd8('0xc')]){var _0x428544=!0x0,_0x271b26=!0x1,_0xc57636=void 0x0;try{for(var _0x4fa24c,_0x4c28e3=(0x0,_0x2e97d0[_0x1cd8('0xa')])(this[_0x1cd8('0x315')]);!(_0x428544=(_0x4fa24c=_0x4c28e3['next']())[_0x1cd8('0x8e')]);_0x428544=!0x0){var _0x5c51f5=_0x4fa24c['value'];esmap['ESEffectTool'][_0x1cd8('0x4f7')]&&esmap[_0x1cd8('0x53')]['markers'][_0x1cd8('0xe1')](_0x5c51f5),_0x5c51f5['dispose'](),_0x5c51f5=null;}}catch(_0x466ac4){_0x271b26=!0x0,_0xc57636=_0x466ac4;}finally{try{!_0x428544&&_0x4c28e3['return']&&_0x4c28e3['return']();}finally{if(_0x271b26)throw _0xc57636;}}this['children'][_0x1cd8('0xc')]=0x0;}}},{'key':_0x1cd8('0xde'),'value':function(){this[_0x1cd8('0x511')](),DisposeUtils[_0x1cd8('0xde')](this[_0x1cd8('0x509')]);}},{'key':_0x1cd8('0x327'),'set':function(_0x428544){this['o3d_'][_0x1cd8('0x327')]=_0x428544;},'get':function(){return this[_0x1cd8('0x509')][_0x1cd8('0x327')];}}]),_0x271b26[_0x1cd8('0xa')]=_0x5c51f5;},function(_0x52d356,_0x47bb5c,_0x2d1720){'use strict';Object[_0x1cd8('0x4')](_0x47bb5c,_0x1cd8('0x6'),{'value':!0x0});var _0x216b17=_0x36361b(_0x2d1720(0x26)),_0x2dffa9=_0x36361b(_0x2d1720(0x0)),_0x1bebe3=_0x36361b(_0x2d1720(0x1)),_0x456992=_0x36361b(_0x2d1720(0x30)),_0x5c3761=_0x36361b(_0x2d1720(0x31)),_0x4e2c8a=_0x36361b(_0x2d1720(0x9a)),_0x283027=_0x36361b(_0x2d1720(0x4)),_0x76b34d=_0x36361b(_0x2d1720(0x45)),_0x493eba=_0x2d1720(0x62),_0x35c270=function(_0x52d356){if(_0x52d356&&_0x52d356[_0x1cd8('0x6')])return _0x52d356;var _0x47bb5c={};if(null!=_0x52d356)for(var _0x2d1720 in _0x52d356)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')][_0x1cd8('0x1')](_0x52d356,_0x2d1720)&&(_0x47bb5c[_0x2d1720]=_0x52d356[_0x2d1720]);return _0x47bb5c[_0x1cd8('0xa')]=_0x52d356,_0x47bb5c;}(_0x2d1720(0x41)),_0x32331b=_0x2d1720(0x3b),_0x3694be=_0x36361b(_0x2d1720(0x3c)),_0x1faf8c=_0x36361b(_0x2d1720(0x46)),_0x364b2c=_0x2d1720(0x1a),_0x373fa7=_0x36361b(_0x2d1720(0xfb));function _0x36361b(_0x52d356){return _0x52d356&&_0x52d356[_0x1cd8('0x6')]?_0x52d356:{'default':_0x52d356};}var _0x1d368f=(0x0,_0x76b34d[_0x1cd8('0xa')])('marker'),_0x17b33c={'CubeFloatMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0xcc')),'CylinderFloatMarker':(0x0,_0x76b34d['default'])(_0x1cd8('0xcb')),'CylinderSpreadMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x512')),'CircleRotateYMarker':(0x0,_0x76b34d['default'])('CircleRotateYMarker'),'CircleRippleMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x513')),'CircleBipsMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])('CircleBipsMarker'),'CircleRadianMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x514')),'MultiCircleBreathMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x515')),'CurveLinkLine':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0xc9')),'UpLine':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x516')),'MulripleMeshLine':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0xb7')),'PointsLine':(0x0,_0x76b34d['default'])(_0x1cd8('0xc8')),'Points':(0x0,_0x76b34d['default'])('Points'),'UnderGroundLine':(0x0,_0x76b34d['default'])(_0x1cd8('0xc6')),'NumberUpParticle':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x517')),'SphereSpreadMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x518')),'ExtentWallMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x519')),'FireSmokeMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x51a')),'SmokeMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])('SmokeMarker'),'FireMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x51b')),'WaterSpreadMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])('WaterSpreadMarker'),'FloatPointsMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])('FloatPointsMarker'),'PlaneVideoMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])('PlaneVideoMarker'),'GuideLineMarker':(0x0,_0x76b34d['default'])(_0x1cd8('0x51c')),'SignalWifiMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])(_0x1cd8('0x51d')),'PlaneWindMarker':(0x0,_0x76b34d['default'])(_0x1cd8('0x51e')),'PlaneFogMarker':(0x0,_0x76b34d[_0x1cd8('0xa')])('PlaneFogMarker')},_0x2fa98e=new _0x3694be[(_0x1cd8('0xa'))](),_0x560e71=((0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720={},_0x17b33c[_0x1cd8('0xcc')],function(_0x52d356){var _0x47bb5c=new _0x35c270[(_0x1cd8('0xcc'))]({'colorStr':_0x52d356[_0x1cd8('0x220')]});return _0x52d356['x']&&_0x52d356['y']&&_0x47bb5c[_0x1cd8('0x7')]({'radius':_0x52d356[_0x1cd8('0x226')]}),_0x1d9815(_0x52d356,_0x47bb5c[_0x1cd8('0x322')]),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0xcb')],function(_0x52d356){var _0x47bb5c=new _0x35c270[(_0x1cd8('0xcb'))](),_0x2d1720=_0x52d356[_0x1cd8('0x51f')]||(0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x521')),_0x2d1720=_0x2fa98e[_0x1cd8('0x9d')](_0x2d1720);return _0x47bb5c['create']({'texture':_0x2d1720,'radius':_0x52d356[_0x1cd8('0x226')],'height':_0x52d356[_0x1cd8('0x522')],'colorStr':_0x52d356[_0x1cd8('0x220')],'animateOpts':{'centerHeight':_0x52d356[_0x1cd8('0x2f1')],'swingHeight':_0x52d356[_0x1cd8('0x523')],'speed':0.02}}),!esmap['ESEffectTool']['options']['isOpenScreenEffect']&&_0x52d356[_0x1cd8('0x524')]&&(_0x47bb5c['material'][_0x1cd8('0x1df')]=THREE[_0x1cd8('0x1e0')]),_0x1d9815(_0x52d356,_0x47bb5c[_0x1cd8('0x322')]),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0xca')],function(_0x52d356){var _0x47bb5c=new _0x35c270[(_0x1cd8('0xca'))](),_0x2d1720=_0x52d356[_0x1cd8('0x51f')]||(0x0,_0x364b2c[_0x1cd8('0x520')])('images/building/circular_04.png'),_0x2d1720=_0x2fa98e['load'](_0x2d1720),_0x1bebe3=(0x0,_0x364b2c[_0x1cd8('0x30')])();return _0x2d1720[_0x1cd8('0x525')]=_0x1bebe3[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x527')][_0x1cd8('0x528')](),_0x47bb5c[_0x1cd8('0x7')]({'colorStr':_0x52d356[_0x1cd8('0x220')],'texture':_0x2d1720,'radius':_0x52d356['radius'],'speed':_0x52d356[_0x1cd8('0x326')],'textureAngle':_0x52d356[_0x1cd8('0x221')]}),_0x52d356[_0x1cd8('0x529')]&&(_0x47bb5c['material'][_0x1cd8('0x1e3')]=!0x1),_0x52d356[_0x1cd8('0x30d')]&&(_0x47bb5c[_0x1cd8('0x322')]['renderOrder']=_0x52d356['renderOrder']),!esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')]['isOpenScreenEffect']&&_0x52d356['isShine']&&(_0x47bb5c['material'][_0x1cd8('0x1df')]=THREE[_0x1cd8('0x1e0')]),_0x1d9815(_0x52d356,_0x47bb5c[_0x1cd8('0x322')]),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c['CurveLinkLine'],function(_0x52d356){var _0x47bb5c=_0x2fa98e['load']((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x52a'))),_0x2d1720=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c[_0x1cd8('0x520')])('images/points/out_light5.png')),_0x47bb5c=new _0x35c270[(_0x1cd8('0xc9'))]({'lineTexture':_0x47bb5c,'rippleTexture':_0x2d1720});return _0x47bb5c['create']({'startPos':{'x':-_0x52d356['startPos']['x'],'y':_0x52d356['startPos'][_0x1cd8('0x2f1')],'z':_0x52d356[_0x1cd8('0x438')]['y']},'endPos':{'x':-_0x52d356['endPos']['x'],'y':_0x52d356[_0x1cd8('0x52b')][_0x1cd8('0x2f1')],'z':_0x52d356[_0x1cd8('0x52b')]['y']},'maxHeight':_0x52d356[_0x1cd8('0x52c')],'colorStr':_0x52d356[_0x1cd8('0x220')],'isDoubleSide':_0x52d356[_0x1cd8('0x52d')]}),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c['PointsLine'],function(_0x52d356){var _0x47bb5c=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x52e'))),_0x2d1720=new _0x35c270[(_0x1cd8('0xc8'))]({'gapDistance':_0x52d356[_0x1cd8('0x43e')],'activeNum':_0x52d356[_0x1cd8('0x52f')],'pointSize':_0x52d356[_0x1cd8('0x43f')],'colorStr':_0x52d356[_0x1cd8('0x220')]}),_0x47bb5c=_0x2d1720['create']({'texture':_0x47bb5c,'points':_0x52d356[_0x1cd8('0x440')]}),_0x52d356=(_0x1d9815(_0x52d356,_0x47bb5c),_0x52d356[_0x1cd8('0x440')][0x0]);return(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x47bb5c,_0x52d356,_0x52d356[_0x1cd8('0x2f1')]),_0x2d1720;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0xc7')],function(_0x52d356){var _0x47bb5c=(0x0,_0x364b2c[_0x1cd8('0x30')])(),_0x2d1720=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x52e'))),_0x47bb5c=new _0x35c270[(_0x1cd8('0xc7'))]({'pointSize':_0x52d356[_0x1cd8('0x43f')],'colorStr':_0x52d356['color'],'animateType':_0x52d356['animateType'],'timer':_0x47bb5c['timer'],'period':_0x52d356[_0x1cd8('0x530')]}),_0x2d1720=_0x47bb5c[_0x1cd8('0x7')]({'texture':_0x2d1720,'points':_0x52d356[_0x1cd8('0x440')]}),_0x1bebe3=(_0x52d356[_0x1cd8('0x529')]&&(_0x47bb5c[_0x1cd8('0x47')]['depthTest']=!0x1),_0x1d9815(_0x52d356,_0x2d1720),_0x52d356['points'][0x0]),_0x52d356=void 0x0!==_0x52d356[_0x1cd8('0x2f1')]?_0x52d356[_0x1cd8('0x2f1')]:0.1;return(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x2d1720,_0x1bebe3,_0x52d356),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c['UnderGroundLine'],function(_0x52d356){var _0x47bb5c=_0x2fa98e['load'](_0x1cd8('0x531')),_0x2d1720=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c[_0x1cd8('0x520')])('images/points/pm_bg.png')),_0x1bebe3=[],_0x5c3761=!0x0,_0x4e2c8a=!0x1,_0x216b17=void 0x0;try{for(var _0x2dffa9,_0x456992=(0x0,_0x283027[_0x1cd8('0xa')])(_0x52d356[_0x1cd8('0x440')]);!(_0x5c3761=(_0x2dffa9=_0x456992[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x5c3761=!0x0){var _0x76b34d=_0x2dffa9[_0x1cd8('0xf')];_0x1bebe3[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](-_0x76b34d['x'],_0x76b34d[_0x1cd8('0x2f1')],_0x76b34d['y']));}}catch(_0x39f68b){_0x4e2c8a=!0x0,_0x216b17=_0x39f68b;}finally{try{!_0x5c3761&&_0x456992['return']&&_0x456992[_0x1cd8('0xa1')]();}finally{if(_0x4e2c8a)throw _0x216b17;}}_0x4e2c8a=new _0x35c270[(_0x1cd8('0xc6'))]({'lineTexture':_0x47bb5c,'spriteTexture':_0x2d1720,'lineColorStr':_0x52d356[_0x1cd8('0x532')],'bgColorStr':_0x52d356[_0x1cd8('0x533')],'numberColorStr':_0x52d356[_0x1cd8('0x4b0')],'number':_0x52d356['number'],'repeatX':_0x52d356[_0x1cd8('0x534')]});return _0x4e2c8a['create'](_0x1bebe3),_0x4e2c8a;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c['CircleRippleMarker'],function(_0x52d356){var _0x47bb5c=_0x2fa98e['load']((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x535'))),_0x47bb5c=new _0x35c270[(_0x1cd8('0x536'))]({'colorStr':_0x52d356[_0x1cd8('0x220')],'isSpread':_0x52d356['isSpread'],'radius':_0x52d356[_0x1cd8('0x226')],'texture':_0x47bb5c,'speed':_0x52d356[_0x1cd8('0x326')]}),_0x2d1720=(_0x52d356['seeThrough']&&(_0x47bb5c[_0x1cd8('0x47')][_0x1cd8('0x1e3')]=!0x1),_0x47bb5c[_0x1cd8('0x47')][_0x1cd8('0x1e2')]=!0x1,_0x52d356[_0x1cd8('0x20a')]&&(_0x47bb5c[_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0x52d356[_0x1cd8('0x20a')]),_0x47bb5c[_0x1cd8('0x7')]());return _0x52d356['renderOrder']&&(_0x2d1720['renderOrder']=_0x52d356[_0x1cd8('0x30d')]),!esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x422')]&&_0x52d356['isShine']&&(_0x47bb5c[_0x1cd8('0x47')][_0x1cd8('0x1df')]=THREE[_0x1cd8('0x1e0')]),_0x1d9815(_0x52d356,_0x2d1720),_0x47bb5c;}),(0x0,_0x4e2c8a['default'])(_0x2d1720,_0x17b33c[_0x1cd8('0x537')],function(_0x52d356){var _0x47bb5c=new _0x35c270[(_0x1cd8('0xc3'))]({'colorStr':_0x52d356[_0x1cd8('0x220')],'radius':_0x52d356['radius']}),_0x2d1720=_0x47bb5c['create']();return _0x1d9815(_0x52d356,_0x2d1720),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x515')],function(_0x52d356){var _0x47bb5c=_0x52d356[_0x1cd8('0x51f')]||(0x0,_0x364b2c[_0x1cd8('0x520')])('images/points/circle_extent.png'),_0x47bb5c=_0x2fa98e[_0x1cd8('0x9d')](_0x47bb5c),_0x47bb5c=new _0x35c270[(_0x1cd8('0xc5'))]({'colorStr':_0x52d356[_0x1cd8('0x220')],'radius':_0x52d356[_0x1cd8('0x226')],'texture':_0x47bb5c,'speed':_0x52d356[_0x1cd8('0x326')]});return _0x52d356[_0x1cd8('0x529')]&&(_0x47bb5c['material'][_0x1cd8('0x1e3')]=!0x1),_0x47bb5c[_0x1cd8('0x47')][_0x1cd8('0x1e2')]=!0x1,_0x47bb5c[_0x1cd8('0x7')](),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c['CylinderSpreadMarker'],function(_0x52d356){var _0x47bb5c=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c['getConfigAssetsPath'])(_0x1cd8('0x538'))),_0x47bb5c=((0x0,_0x364b2c[_0x1cd8('0x33')])()&&(_0x52d356[_0x1cd8('0x539')]=!0x0),new _0x35c270[(_0x1cd8('0xc2'))]({'texture':_0x47bb5c,'radius':_0x52d356[_0x1cd8('0x226')],'height':_0x52d356[_0x1cd8('0x53a')],'colorStr':_0x52d356['color'],'isCilpGround':_0x52d356[_0x1cd8('0x539')],'clipGroundY':_0x52d356[_0x1cd8('0x53b')]}));return _0x47bb5c['create'](),esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')]['isOpenScreenEffect']&&_0x47bb5c['material']['color'][_0x1cd8('0x451')](0x0,0x0,0.2),!esmap[_0x1cd8('0x53')]['options'][_0x1cd8('0x422')]&&_0x52d356[_0x1cd8('0x524')]&&(_0x47bb5c[_0x1cd8('0x47')][_0x1cd8('0x1df')]=THREE[_0x1cd8('0x1e0')]),_0x1d9815(_0x52d356,_0x47bb5c[_0x1cd8('0x53c')]),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x514')],function(_0x52d356){var _0x47bb5c=new _0x35c270[(_0x1cd8('0xc1'))]({'colorStr':_0x52d356[_0x1cd8('0x220')]});return _0x47bb5c[_0x1cd8('0x7')]({'radius':_0x52d356[_0x1cd8('0x226')]}),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x517')],function(_0x52d356){var _0x47bb5c=(0x0,_0x364b2c['getMapInstance'])(),_0x2d1720=_0x2fa98e['load']((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x53d'))),_0x1bebe3=_0x2fa98e['load']((0x0,_0x364b2c[_0x1cd8('0x520')])('images/alpha_gradient.png')),_0x5c3761=new _0x35c270[(_0x1cd8('0xd4'))]({'camera':_0x47bb5c[_0x1cd8('0x466')]['camera'],'controls':_0x47bb5c[_0x1cd8('0x2ae')],'colorStr':_0x52d356[_0x1cd8('0x220')],'speed':_0x52d356['speed'],'texture':_0x2d1720,'alphaTex':_0x1bebe3});if(_0x52d356['offsetHeight']&&(_0x5c3761[_0x1cd8('0x322')][_0x1cd8('0x3f')]['y']=_0x52d356[_0x1cd8('0x53e')]),_0x52d356['height']=_0x52d356[_0x1cd8('0x320')]/(0x1/0x8),_0x52d356[_0x1cd8('0x53f')])for(var _0x4e2c8a=0x0;_0x4e2c8a<_0x52d356[_0x1cd8('0x412')];_0x4e2c8a++){var _0x216b17=_0x5c3761[_0x1cd8('0x7')]({'width':_0x52d356[_0x1cd8('0x320')],'height':_0x52d356[_0x1cd8('0x2f1')],'extentRadius':_0x52d356[_0x1cd8('0x407')]});(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x216b17,{'x':-Math[_0x1cd8('0x20')]()*_0x52d356[_0x1cd8('0x407')]+_0x52d356['extentRadius']/0x2+_0x52d356['randomCenter']['x'],'y':-Math[_0x1cd8('0x20')]()*_0x52d356[_0x1cd8('0x407')]+_0x52d356['extentRadius']/0x2+_0x52d356[_0x1cd8('0x540')]['y']},-Math['random']()*_0x52d356[_0x1cd8('0x407')]);}else{var _0x2dffa9=!0x0,_0x47bb5c=!0x1,_0x2d1720=void 0x0;try{for(var _0x456992,_0x76b34d=(0x0,_0x283027[_0x1cd8('0xa')])(_0x52d356['points']);!(_0x2dffa9=(_0x456992=_0x76b34d[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x2dffa9=!0x0){var _0x493eba=_0x456992['value'],_0x32331b=_0x5c3761['create']({'width':_0x52d356[_0x1cd8('0x320')],'height':_0x52d356[_0x1cd8('0x2f1')],'extentRadius':_0x52d356[_0x1cd8('0x407')]}),_0x3694be=-Math[_0x1cd8('0x20')]()*_0x52d356[_0x1cd8('0x407')];_0x1d9815(_0x52d356,_0x32331b),(0x0,_0x364b2c['setPositionFromMc'])(_0x32331b,_0x493eba,_0x3694be);}}catch(_0x1cd5db){_0x47bb5c=!0x0,_0x2d1720=_0x1cd5db;}finally{try{!_0x2dffa9&&_0x76b34d[_0x1cd8('0xa1')]&&_0x76b34d['return']();}finally{if(_0x47bb5c)throw _0x2d1720;}}}return _0x5c3761[_0x1cd8('0x541')](),_0x5c3761;}),(0x0,_0x4e2c8a['default'])(_0x2d1720,_0x17b33c[_0x1cd8('0x518')],function(_0x52d356){var _0x47bb5c=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x542'))),_0x2d1720=_0x2fa98e['load']((0x0,_0x364b2c['getConfigAssetsPath'])(_0x1cd8('0x543'))),_0x1bebe3=new _0x35c270['SphereSpreadEffect']({'radius':_0x52d356['radius'],'isShowConeScan':_0x52d356['isShowConeScan']});return _0x1bebe3[_0x1cd8('0x7')]({'texture':_0x47bb5c,'coneTex':_0x2d1720,'colorStr':_0x52d356['color']}),_0x1bebe3;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x519')],function(_0x52d356){var _0x47bb5c=(0x0,_0x364b2c[_0x1cd8('0x30')])(),_0x2d1720=_0x52d356[_0x1cd8('0x51f')]||(0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x544')),_0x2d1720=_0x52d356[_0x1cd8('0x545')]||_0x2d1720,_0x2d1720=_0x2fa98e['load'](_0x2d1720,!0x0),_0x1bebe3=(_0x2d1720[_0x1cd8('0x525')]=_0x47bb5c[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x527')][_0x1cd8('0x528')](),new _0x35c270[(_0x1cd8('0xbf'))]({'texture':_0x2d1720,'colorStr':_0x52d356[_0x1cd8('0x220')],'focusColorStr':_0x52d356['focuseColor'],'scale':_0x52d356[_0x1cd8('0x546')],'isTransparentLight':_0x52d356[_0x1cd8('0x547')],'isScrollX':!!_0x52d356[_0x1cd8('0x545')],'scrollXRepeat':_0x52d356[_0x1cd8('0x548')],'isClockWise':_0x52d356['scrollClockWise'],'speed':_0x52d356[_0x1cd8('0x326')]})),_0x5c3761=(_0x52d356['seeThrough']&&(_0x1bebe3[_0x1cd8('0x549')]['depthTest']=!0x1),_0x52d356[_0x1cd8('0x2f1')]=_0x52d356[_0x1cd8('0x2f1')]||0x0,!0x0),_0x47bb5c=!0x1,_0x2d1720=void 0x0;try{for(var _0x4e2c8a,_0x216b17=(0x0,_0x283027[_0x1cd8('0xa')])(_0x52d356[_0x1cd8('0x54a')]);!(_0x5c3761=(_0x4e2c8a=_0x216b17[_0x1cd8('0x7e')]())['done']);_0x5c3761=!0x0){var _0x2dffa9=_0x4e2c8a['value'],_0x456992=[],_0x76b34d=_0x2dffa9[_0x1cd8('0x440')][0x0],_0x493eba=(_0x76b34d[_0x1cd8('0x10a')]=_0x76b34d['offset']||0x0,!0x0),_0x32331b=!0x1,_0x3694be=void 0x0;try{for(var _0x1faf8c,_0x373fa7=(0x0,_0x283027['default'])(_0x2dffa9[_0x1cd8('0x440')]);!(_0x493eba=(_0x1faf8c=_0x373fa7[_0x1cd8('0x7e')]())['done']);_0x493eba=!0x0){var _0x36361b=_0x1faf8c[_0x1cd8('0xf')];_0x456992[_0x1cd8('0x70')]({'x':-_0x36361b['x'],'y':_0x36361b[_0x1cd8('0x10a')]||0x0,'z':_0x36361b['y']});}}catch(_0x400909){_0x32331b=!0x0,_0x3694be=_0x400909;}finally{try{!_0x493eba&&_0x373fa7[_0x1cd8('0xa1')]&&_0x373fa7[_0x1cd8('0xa1')]();}finally{if(_0x32331b)throw _0x3694be;}}var _0x1d368f=_0x1bebe3['addWall']({'points':_0x456992,'colorStr':_0x2dffa9[_0x1cd8('0x220')],'extentId':_0x2dffa9['id'],'wallHeight':_0x52d356['wallHeight'],'isNoClose':_0x52d356['isNoClose']});_0x1d9815(_0x52d356,_0x1d368f),(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x1d368f,_0x76b34d,_0x76b34d[_0x1cd8('0x10a')]+_0x52d356[_0x1cd8('0x2f1')]),_0x52d356[_0x1cd8('0x30d')]&&(_0x1d368f['renderOrder']=_0x52d356[_0x1cd8('0x30d')]);}}catch(_0x232b43){_0x47bb5c=!0x0,_0x2d1720=_0x232b43;}finally{try{!_0x5c3761&&_0x216b17[_0x1cd8('0xa1')]&&_0x216b17[_0x1cd8('0xa1')]();}finally{if(_0x47bb5c)throw _0x2d1720;}}return _0x1bebe3[_0x1cd8('0x54a')]=_0x52d356[_0x1cd8('0x54a')],_0x1bebe3;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x51a')],function(_0x52d356){var _0x47bb5c=_0x2fa98e['load']((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x54b'))),_0x2d1720=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c['getConfigAssetsPath'])('images/fire/out_fire.png')),_0x1bebe3=new _0x35c270[(_0x1cd8('0xbc'))]({'scale':_0x52d356[_0x1cd8('0x3f6')]});return _0x1bebe3[_0x1cd8('0x7')]({'innerTex':_0x47bb5c,'outTex':_0x2d1720,'spreadFactor':_0x52d356['spreadFactor'],'depthTest':!_0x52d356[_0x1cd8('0x529')],'isOpenScreenEffect':esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x422')]}),_0x1bebe3;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x51b')],function(_0x52d356){var _0x47bb5c=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x54c'))),_0x2d1720=new _0x35c270[(_0x1cd8('0xba'))]({'scale':_0x52d356[_0x1cd8('0x3f6')]});return _0x2d1720[_0x1cd8('0x7')]({'tex':_0x47bb5c,'color':_0x52d356[_0x1cd8('0x220')],'isOpenScreenEffect':esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x422')]}),_0x2d1720;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x54d')],function(_0x52d356){var _0x47bb5c=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x54b'))),_0x2d1720=new _0x35c270[(_0x1cd8('0xbb'))]({'scale':_0x52d356[_0x1cd8('0x3f6')]});return _0x2d1720['create']({'tex':_0x47bb5c,'color':_0x52d356[_0x1cd8('0x220')],'intensity':_0x52d356[_0x1cd8('0x475')],'spread':_0x52d356[_0x1cd8('0x1f5')],'isOpenScreenEffect':esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x422')]}),_0x52d356['angle']&&(_0x2d1720[_0x1cd8('0x322')][_0x1cd8('0x1f7')]['y']=THREE[_0x1cd8('0x15')]['degToRad'](_0x52d356[_0x1cd8('0x221')])),_0x2d1720;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x54e')],function(_0x52d356){var _0x47bb5c=_0x2fa98e[_0x1cd8('0x9d')]((0x0,_0x364b2c['getConfigAssetsPath'])(_0x1cd8('0x54f'))),_0x2d1720=new _0x35c270[(_0x1cd8('0xb9'))]({'scale':_0x52d356['scale']});return _0x2d1720[_0x1cd8('0x7')]({'texture':_0x47bb5c,'dirAngle':_0x52d356['dirAngle'],'pitchAngle':_0x52d356['pitchAngle'],'isOpenScreenEffect':esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x422')]}),_0x2d1720;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x550')],function(_0x52d356){var _0x47bb5c=_0x52d356[_0x1cd8('0x51f')]||(0x0,_0x364b2c[_0x1cd8('0x520')])(_0x1cd8('0x52e')),_0x47bb5c=_0x2fa98e[_0x1cd8('0x9d')](_0x47bb5c),_0x2d1720=new _0x35c270[(_0x1cd8('0xb8'))]({'scale':_0x52d356['scale']});return _0x2d1720['create']({'texture':_0x47bb5c,'color':_0x52d356[_0x1cd8('0x220')],'isSpreadColor':_0x52d356[_0x1cd8('0x551')],'spread':_0x52d356['radius'],'extentHeight':_0x52d356[_0x1cd8('0x552')],'pointNum':_0x52d356[_0x1cd8('0x553')],'isShine':_0x52d356[_0x1cd8('0x524')],'fixedSize':_0x52d356[_0x1cd8('0x554')],'speed':_0x52d356[_0x1cd8('0x326')]}),_0x52d356['renderOrder']&&(_0x2d1720['centerGroup'][_0x1cd8('0x30d')]=_0x52d356[_0x1cd8('0x30d')]),_0x2d1720;}),(0x0,_0x4e2c8a['default'])(_0x2d1720,_0x17b33c[_0x1cd8('0x516')],function(_0x52d356){for(var _0x47bb5c=(0x0,_0x364b2c[_0x1cd8('0x30')])(),_0x2d1720=_0x52d356['imgUrl']||(0x0,_0x364b2c['getConfigAssetsPath'])(_0x1cd8('0x555')),_0x2d1720=_0x2fa98e[_0x1cd8('0x9d')](_0x2d1720),_0x2d1720=new _0x35c270[(_0x1cd8('0xb6'))]({'colorStr':_0x52d356[_0x1cd8('0x220')],'repeat':_0x52d356[_0x1cd8('0x556')],'texture':_0x2d1720}),_0x1bebe3=[],_0x5c3761=0x0,_0x4e2c8a=_0x52d356[_0x1cd8('0x440')][_0x1cd8('0xc')];_0x5c3761<_0x4e2c8a;_0x5c3761++){var _0x216b17=_0x47bb5c[_0x1cd8('0x23')]({'x':_0x52d356[_0x1cd8('0x440')][_0x5c3761]['x'],'y':_0x52d356[_0x1cd8('0x440')][_0x5c3761]['y'],'z':_0x52d356[_0x1cd8('0x440')][_0x5c3761][_0x1cd8('0x10a')]});_0x1bebe3['push'](_0x216b17);}return _0x2d1720[_0x1cd8('0x7')]({'points':_0x1bebe3,'lineWidth':_0x52d356[_0x1cd8('0x2fa')],'lineHeight':_0x52d356[_0x1cd8('0x411')]}),_0x2d1720;}),(0x0,_0x4e2c8a['default'])(_0x2d1720,_0x17b33c['MulripleMeshLine'],function(_0x52d356){var _0x47bb5c=(0x0,_0x364b2c[_0x1cd8('0x30')])(),_0x2d1720=_0x52d356[_0x1cd8('0x51f')]||(0x0,_0x364b2c['getConfigAssetsPath'])('images/line/light_old.png'),_0x2d1720=_0x2fa98e[_0x1cd8('0x9d')](_0x2d1720),_0x1bebe3=new _0x35c270[(_0x1cd8('0xb7'))]({'camera':_0x47bb5c[_0x1cd8('0x466')]['camera'],'texture':_0x2d1720,'colorStr':_0x52d356[_0x1cd8('0x220')],'opacity':_0x52d356[_0x1cd8('0x20a')],'lineWidth':_0x52d356[_0x1cd8('0x2fa')],'repeat':_0x52d356[_0x1cd8('0x556')]&&0x0<_0x52d356[_0x1cd8('0x556')]?{'x':_0x52d356['imgRepeat'],'y':0x1}:{'x':0x1,'y':0x1},'speed':_0x52d356[_0x1cd8('0x326')],'isCanChangeStyle':_0x52d356[_0x1cd8('0x329')],'renderOrder':_0x52d356[_0x1cd8('0x30d')]});if(_0x1bebe3[_0x1cd8('0x557')](_0x47bb5c),_0x52d356[_0x1cd8('0x30d')]&&(_0x1bebe3[_0x1cd8('0x30d')]=_0x52d356[_0x1cd8('0x30d')]),_0x52d356[_0x1cd8('0x529')]&&(_0x1bebe3['lineMaterial'][_0x1cd8('0x1e3')]=!0x1),Array[_0x1cd8('0x1b6')](_0x52d356[_0x1cd8('0x558')])&&0x0<_0x52d356['routeList'][_0x1cd8('0xc')]){var _0x5c3761=!0x0,_0x2d1720=!0x1,_0x47bb5c=void 0x0;try{for(var _0x4e2c8a,_0x216b17=(0x0,_0x283027[_0x1cd8('0xa')])(_0x52d356['routeList']);!(_0x5c3761=(_0x4e2c8a=_0x216b17[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x5c3761=!0x0){var _0x2dffa9=_0x4e2c8a[_0x1cd8('0xf')],_0x456992=[],_0x76b34d=_0x2dffa9[_0x1cd8('0x440')][0x0],_0x493eba=!0x0,_0x32331b=!0x1,_0x3694be=void 0x0;try{for(var _0x1faf8c,_0x373fa7=(0x0,_0x283027[_0x1cd8('0xa')])(_0x2dffa9[_0x1cd8('0x440')]);!(_0x493eba=(_0x1faf8c=_0x373fa7['next']())[_0x1cd8('0x8e')]);_0x493eba=!0x0){var _0x36361b=_0x1faf8c['value'];_0x456992[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](-_0x36361b['x'],_0x36361b[_0x1cd8('0x10a')]||0x0,_0x36361b['y']));}}catch(_0x2bcd70){_0x32331b=!0x0,_0x3694be=_0x2bcd70;}finally{try{!_0x493eba&&_0x373fa7[_0x1cd8('0xa1')]&&_0x373fa7[_0x1cd8('0xa1')]();}finally{if(_0x32331b)throw _0x3694be;}}var _0x1d368f=_0x1bebe3[_0x1cd8('0x30a')](_0x456992);_0x1d9815(_0x52d356,_0x1d368f),(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x1d368f,_0x76b34d,_0x52d356[_0x1cd8('0x2f1')]);}}catch(_0xc5de3e){_0x2d1720=!0x0,_0x47bb5c=_0xc5de3e;}finally{try{!_0x5c3761&&_0x216b17[_0x1cd8('0xa1')]&&_0x216b17[_0x1cd8('0xa1')]();}finally{if(_0x2d1720)throw _0x47bb5c;}}}return _0x1bebe3;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c['PlaneVideoMarker'],function(_0x52d356){var _0x47bb5c=new _0x35c270[(_0x1cd8('0xae'))]();return _0x47bb5c[_0x1cd8('0x559')](_0x52d356['id'],_0x52d356[_0x1cd8('0x64')]),_0x47bb5c[_0x1cd8('0x2f2')](),_0x47bb5c[_0x1cd8('0x7')]({'width':_0x52d356[_0x1cd8('0x55a')],'height':_0x52d356['planeHeight']}),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c['GuideLineMarker'],function(_0x52d356){if(0x0<_0x52d356[_0x1cd8('0x55b')]&&_0x52d356[_0x1cd8('0x55b')]<0x5a)_0x52d356[_0x1cd8('0x55c')]=_0x1cd8('0x55d');else{if(!(0x5a<_0x52d356[_0x1cd8('0x55b')]&&_0x52d356[_0x1cd8('0x55b')]<0xb4))throw new Error(_0x1cd8('0x55e'));_0x52d356[_0x1cd8('0x55c')]=_0x1cd8('0x33c'),_0x52d356[_0x1cd8('0x55b')]=0xb4-_0x52d356[_0x1cd8('0x55b')];}var _0x47bb5c=new _0x35c270[(_0x1cd8('0x55f'))]({'colorStr':_0x52d356[_0x1cd8('0x220')],'lineAngle':_0x52d356[_0x1cd8('0x55b')],'lineHeight':_0x52d356['lineHeight'],'lineWidth':_0x52d356[_0x1cd8('0x2fa')],'contentWidth':_0x52d356[_0x1cd8('0x560')],'contentHeight':_0x52d356[_0x1cd8('0x561')],'showPoint':_0x52d356[_0x1cd8('0x562')],'flipX':_0x1cd8('0x33c')==_0x52d356[_0x1cd8('0x55c')]}),_0x2d1720=_0x47bb5c['create']();return(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x2d1720,_0x52d356,_0x52d356['height']),_0x47bb5c;}),(0x0,_0x4e2c8a['default'])(_0x2d1720,_0x17b33c[_0x1cd8('0x51d')],function(_0x52d356){var _0x47bb5c=(0x0,_0x364b2c['getConfigAssetsPath'])(_0x1cd8('0x563'));return new _0x35c270[(_0x1cd8('0x564'))]({'texPath':_0x47bb5c,'fpsFactor':0.035});}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x51e')],function(_0x52d356){var _0x47bb5c=new _0x35c270[(_0x1cd8('0xd6'))]({'colorStr':_0x52d356['color'],'radius':_0x52d356[_0x1cd8('0x226')],'speed':_0x52d356['speed']}),_0x2d1720=_0x47bb5c[_0x1cd8('0x7')]();return _0x52d356[_0x1cd8('0x529')]&&(_0x2d1720[_0x1cd8('0x47')][_0x1cd8('0x1e3')]=!0x1),_0x47bb5c;}),(0x0,_0x4e2c8a[_0x1cd8('0xa')])(_0x2d1720,_0x17b33c[_0x1cd8('0x565')],function(_0x52d356){var _0x47bb5c=new _0x35c270[(_0x1cd8('0xbd'))]({'colorStr':_0x52d356[_0x1cd8('0x220')],'radius':_0x52d356[_0x1cd8('0x226')],'speed':_0x52d356[_0x1cd8('0x326')],'angle':_0x52d356['angle'],'thickness':_0x52d356['thickness']}),_0x2d1720=_0x47bb5c[_0x1cd8('0x7')]();return _0x52d356['seeThrough']&&(_0x2d1720[_0x1cd8('0x47')][_0x1cd8('0x1e3')]=!0x1),_0x47bb5c;}),_0x2d1720),_0x1d9815=function(_0x52d356,_0x47bb5c){_0x52d356[_0x1cd8('0x524')]&&_0x47bb5c[_0x1cd8('0x566')][_0x1cd8('0x216')](0x1);},_0x3694be=(_0x76b34d=_0x32331b[_0x1cd8('0x97')],(0x0,_0x5c3761['default'])(_0x52b79e,_0x76b34d),(0x0,_0x1bebe3[_0x1cd8('0xa')])(_0x52b79e,[{'key':'_init','value':function(_0x52d356,_0x373fa7){var _0x76b34d=null;switch(_0x52d356){case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x567')]:(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0xcc')]](_0x373fa7))[_0x1cd8('0x327')]=!0x0,this[_0x1cd8('0x509')]=_0x76b34d['object3d'],(this[_0x1cd8('0x509')]['datas_']=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,_0x373fa7['x']&&_0x373fa7['y']&&this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]),this['addCube']=function(_0x52d356){var _0x47bb5c=_0x76b34d[_0x1cd8('0x7')]({'radius':_0x52d356[_0x1cd8('0x226')]}),_0x2d1720=(0x0,_0x364b2c['coordTransToThree'])(_0x52d356['x'],_0x52d356['y']);_0x47bb5c[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x2d1720['x'],_0x52d356[_0x1cd8('0x2f1')]||0x0,_0x2d1720['y']);};break;case _0x493eba[_0x1cd8('0x282')]['CYLINDER_FLOAT']:(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0xcb')]](_0x373fa7))['visible']=!0x0,this[_0x1cd8('0x509')]=_0x76b34d['object3d'],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]);break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x56a')]:(_0x76b34d=_0x560e71[_0x17b33c['CircleRotateYMarker']](_0x373fa7))[_0x1cd8('0x327')]=!0x0,this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this,_0x76b34d['object3d'][_0x1cd8('0x30d')]=0x47,this[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this['setPosition']({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]),this['setColor']=function(_0x52d356){_0x76b34d[_0x1cd8('0x47')][_0x1cd8('0x220')]['setStyle'](_0x52d356);};break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x56b')]:(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x515')]](_0x373fa7))[_0x1cd8('0x327')]=!0x0,this[_0x1cd8('0x509')]=_0x76b34d['object3d'],this[_0x1cd8('0x509')]['datas_']=this,_0x76b34d[_0x1cd8('0x322')][_0x1cd8('0x30d')]=0x47,this[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this['setPosition']({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7['height']);break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x56c')]:(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0xc9')]](_0x373fa7))[_0x1cd8('0x327')]=!0x0,this[_0x1cd8('0x509')]=_0x76b34d['object3d'],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x56d')](this[_0x1cd8('0x509')]);break;case _0x493eba[_0x1cd8('0x282')]['POINTS_LINE']:(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0xc8')]](_0x373fa7))[_0x1cd8('0x327')]=!0x0,this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')]['datas_']=this)[_0x1d368f]['_instance']=_0x76b34d,this[_0x1cd8('0x455')]=function(_0x52d356){_0x76b34d[_0x1cd8('0x455')]=_0x52d356;};break;case _0x493eba[_0x1cd8('0x282')]['POINTS']:(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0xc7')]](_0x373fa7))['visible']=!0x0,this['o3d_']=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')]['datas_']=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d;break;case _0x493eba[_0x1cd8('0x282')]['UNDERGROUND_LINE']:(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0xc6')]](_0x373fa7))[_0x1cd8('0x327')]=!0x0,this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f]['_instance']=_0x76b34d;break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x56e')]:(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x513')]](_0x373fa7))['visible']=!0x0,this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this['setPosition']({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7['height']),this['setColor']=function(_0x52d356){_0x76b34d[_0x1cd8('0x47')][_0x1cd8('0x220')]['setStyle'](_0x52d356);};break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x56f')]:_0x76b34d=_0x560e71[_0x17b33c['CircleBipsMarker']](_0x373fa7),this['o3d_']=_0x76b34d['object3d'],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f]['_instance']=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]);break;case _0x493eba['ESMarkerType']['CYLINDER_SPREAD']:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x512')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this['o3d_'][_0x1cd8('0x43')]=this)[_0x1d368f]['_instance']=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7['height']);break;case _0x493eba[_0x1cd8('0x282')]['CIRCLES_RADIAN_ROTATE']:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x514')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this['o3d_'][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},0x5);break;case _0x493eba[_0x1cd8('0x282')]['NUMBER_UP_BEAM']:_0x76b34d=_0x560e71[_0x17b33c['NumberUpParticle']](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d['object3d'],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d;break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x570')]:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x518')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x571')]=function(){this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x571')]();};break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x572')]:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x519')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d['object3d'],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f]['_instance']=_0x76b34d,this[_0x1cd8('0x573')]=_0x76b34d[_0x1cd8('0x54a')],this[_0x1cd8('0x574')]=function(_0x52d356){_0x52d356[_0x1cd8('0x220')]&&_0x76b34d[_0x1cd8('0x549')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x52d356[_0x1cd8('0x220')]);},this[_0x1cd8('0x575')]=function(_0x52d356){var _0x47bb5c=[],_0x2d1720=_0x52d356['points'][0x0],_0x1bebe3=(_0x2d1720['offset']=_0x2d1720[_0x1cd8('0x10a')]||0x0,!0x0),_0x5c3761=!0x1,_0x4e2c8a=void 0x0;try{for(var _0x216b17,_0x2dffa9=(0x0,_0x283027[_0x1cd8('0xa')])(_0x52d356['points']);!(_0x1bebe3=(_0x216b17=_0x2dffa9['next']())[_0x1cd8('0x8e')]);_0x1bebe3=!0x0){var _0x456992=_0x216b17['value'];_0x47bb5c[_0x1cd8('0x70')]({'x':-_0x456992['x'],'y':_0x456992['offset']||0x0,'z':_0x456992['y']});}}catch(_0x399210){_0x5c3761=!0x0,_0x4e2c8a=_0x399210;}finally{try{!_0x1bebe3&&_0x2dffa9[_0x1cd8('0xa1')]&&_0x2dffa9[_0x1cd8('0xa1')]();}finally{if(_0x5c3761)throw _0x4e2c8a;}}_0x5c3761=_0x76b34d['addWall']({'points':_0x47bb5c,'extentId':_0x52d356['id'],'wallHeight':_0x52d356[_0x1cd8('0x546')]||_0x373fa7[_0x1cd8('0x546')],'isNoClose':_0x52d356[_0x1cd8('0x576')]||_0x373fa7[_0x1cd8('0x576')]});_0x1d9815(_0x373fa7,_0x5c3761),(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x5c3761,_0x2d1720,_0x2d1720[_0x1cd8('0x10a')]+_0x373fa7[_0x1cd8('0x2f1')]),_0x373fa7[_0x1cd8('0x30d')]&&(_0x5c3761[_0x1cd8('0x30d')]=_0x373fa7[_0x1cd8('0x30d')]);},this['deleteExtentById']=function(_0x52d356){var _0x47bb5c=!0x0,_0x2d1720=!0x1,_0x1bebe3=void 0x0;try{for(var _0x5c3761,_0x4e2c8a=(0x0,_0x283027[_0x1cd8('0xa')])(_0x76b34d['extentWallList']);!(_0x47bb5c=(_0x5c3761=_0x4e2c8a[_0x1cd8('0x7e')]())['done']);_0x47bb5c=!0x0){var _0x216b17=_0x5c3761[_0x1cd8('0xf')];if(_0x216b17['id']===_0x52d356){_0x76b34d['object3d'][_0x1cd8('0xe1')](_0x216b17['mesh']);break;}}}catch(_0x21c084){_0x2d1720=!0x0,_0x1bebe3=_0x21c084;}finally{try{!_0x47bb5c&&_0x4e2c8a[_0x1cd8('0xa1')]&&_0x4e2c8a['return']();}finally{if(_0x2d1720)throw _0x1bebe3;}}};break;case _0x493eba['ESMarkerType'][_0x1cd8('0x577')]:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x51a')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d['object3d'],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]),this[_0x1cd8('0x429')]=function(_0x52d356){this[_0x1d368f][_0x1cd8('0x568')]['outfire'](_0x52d356);};break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x578')]:_0x76b34d=_0x560e71[_0x17b33c['FireMarker']](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]);break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x579')]:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x54d')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')]['datas_']=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]);break;case _0x493eba['ESMarkerType'][_0x1cd8('0x57a')]:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x54e')]](_0x373fa7),this['o3d_']=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]);break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x57b')]:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x550')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this['o3d_'][_0x1cd8('0x43')]=this)[_0x1d368f]['_instance']=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]);break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x57c')]:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x516')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d;break;case _0x493eba['ESMarkerType'][_0x1cd8('0x57d')]:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0xb7')]](_0x373fa7),this['o3d_']=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,(0x0,_0x364b2c[_0x1cd8('0x30')])()['on'](_0x1cd8('0x57e'),function(_0x52d356){'2D'===_0x52d356?_0x76b34d[_0x1cd8('0x322')][_0x1cd8('0x327')]=!0x1:'3D'===_0x52d356&&(_0x76b34d[_0x1cd8('0x322')][_0x1cd8('0x327')]=!0x0);}),this['addLine']=function(_0x52d356){var _0x47bb5c=_0x52d356[_0x1cd8('0x57f')],_0x2d1720=_0x52d356[_0x1cd8('0x440')],_0x52d356=_0x52d356['id'],_0x1bebe3=(0x0,_0x364b2c[_0x1cd8('0x30')])(),_0x5c3761=_0x2d1720[0x0],_0x4e2c8a=[],_0x216b17=!0x0,_0x2dffa9=!0x1,_0x456992=void 0x0;try{for(var _0x76b34d,_0x493eba=(0x0,_0x283027[_0x1cd8('0xa')])(_0x2d1720);!(_0x216b17=(_0x76b34d=_0x493eba[_0x1cd8('0x7e')]())['done']);_0x216b17=!0x0){var _0x32331b=_0x76b34d[_0x1cd8('0xf')],_0x3694be=_0x32331b[_0x1cd8('0x10a')]||0x0,_0x1faf8c=(_0x32331b[_0x1cd8('0x50a')]&&(_0x3694be=_0x1bebe3['getBuildingById'](_0x47bb5c)['getFloorHeight'](_0x32331b[_0x1cd8('0x50a')])+_0x32331b['offset']),_0x1bebe3[_0x1cd8('0x23')]({'x':_0x32331b['x'],'y':_0x32331b['y'],'z':_0x3694be,'bid':_0x32331b[_0x1cd8('0x57f')]||0x0}));_0x4e2c8a['push'](_0x1faf8c);}}catch(_0x17b5ba){_0x2dffa9=!0x0,_0x456992=_0x17b5ba;}finally{try{!_0x216b17&&_0x493eba['return']&&_0x493eba[_0x1cd8('0xa1')]();}finally{if(_0x2dffa9)throw _0x456992;}}_0x2d1720=this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x30a')](_0x4e2c8a,!0x0);return this[_0x1d368f]['_instance'][_0x1cd8('0x30d')]&&(_0x2d1720[_0x1cd8('0x30d')]=this[_0x1d368f][_0x1cd8('0x568')]['renderOrder']),_0x52d356&&(_0x2d1720[_0x1cd8('0x580')]=_0x52d356),(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x2d1720,_0x5c3761,_0x373fa7[_0x1cd8('0x2f1')]),_0x1d9815(_0x373fa7,_0x2d1720),{'lastAngle':_0x2d1720['lastAngle']};},this[_0x1cd8('0x581')]=this[_0x1d368f][_0x1cd8('0x568')]['lineMaterial'],this[_0x1cd8('0x310')]=this[_0x1d368f][_0x1cd8('0x568')]['addLineGeometry'][_0x1cd8('0x9')](this[_0x1d368f][_0x1cd8('0x568')]),this[_0x1cd8('0x323')]=function(_0x52d356){this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x323')](_0x52d356);},this['isChangeLineColor']=function(_0x52d356){this[_0x1d368f][_0x1cd8('0x568')]['lineMaterial'][_0x1cd8('0x370')]=_0x52d356;},this['scaleLineWidth']=function(_0x52d356){_0x52d356=_0x52d356||0x1,this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x582')]||(this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x582')]=this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x2ff')]['lineWidth']),this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x2ff')][_0x1cd8('0x2fa')]=this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x582')]*_0x52d356;};break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x583')]:_0x76b34d=_0x560e71[_0x17b33c['PlaneVideoMarker']](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]),this['playVideo']=function(){this[_0x1d368f][_0x1cd8('0x568')]['playVideo']();},this[_0x1cd8('0x584')]=function(){this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x584')]();};break;case _0x493eba[_0x1cd8('0x282')]['GUIDE_LINE']:if(!(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x51c')]](_0x373fa7)))return;this[_0x1cd8('0x509')]=_0x76b34d['object3d'],(this[_0x1cd8('0x509')]['datas_']=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x585')]=function(){this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x585')]();},this[_0x1cd8('0x586')]=function(){this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x586')]();},this[_0x1cd8('0x587')]=function(_0x52d356){this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x587')](_0x52d356);};break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x588')]:if(!(_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x51d')]](_0x373fa7)))return;this['o3d_']=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f]['_instance']=_0x76b34d,this['add']=function(_0x52d356){var _0x47bb5c=_0x52d356[_0x1cd8('0xeb')]||0x28,_0x2d1720=_0x76b34d[_0x1cd8('0x7')]({'size':_0x47bb5c}),_0x1bebe3=(_0x2d1720[_0x1cd8('0x22b')]=new THREE[(_0x1cd8('0x1c0'))](0.5,0x0),_0x1d9815(_0x373fa7,_0x2d1720),(0x0,_0x364b2c[_0x1cd8('0x31')])(_0x2d1720,_0x52d356,_0x52d356['height']),_0x2d1720['renderOrder']=0x4c,_0x2d1720[_0x1cd8('0x589')]=_0x47bb5c,_0x2d1720[_0x1cd8('0x58a')]=_0x47bb5c,_0x2d1720[_0x1cd8('0x43')]={'nodeType':0x7},(0x0,_0x364b2c[_0x1cd8('0x30')])()),_0x52d356=esmap[_0x1cd8('0x58b')]['getPerspectiveScale'](_0x2d1720,_0x1bebe3['mapView']);return _0x2d1720[_0x1cd8('0x3f6')][_0x1cd8('0x1c6')](_0x52d356[_0x1cd8('0x3f6')]),_0x1bebe3['on'](_0x1cd8('0x58c'),function(){var _0x52d356=esmap['ESMapLabel'][_0x1cd8('0x58d')](_0x2d1720,_0x1bebe3[_0x1cd8('0x466')]);_0x2d1720['scale'][_0x1cd8('0x1c6')](_0x52d356[_0x1cd8('0x3f6')]);}),_0x2d1720;};break;case _0x493eba[_0x1cd8('0x282')]['PLANE_WIND']:_0x76b34d=_0x560e71[_0x17b33c[_0x1cd8('0x51e')]](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]),this['rotateTo']=function(_0x52d356){this[_0x1cd8('0x509')][_0x1cd8('0x1f7')]['y']=THREE[_0x1cd8('0x15')][_0x1cd8('0x2cb')](_0x52d356);};break;case _0x493eba[_0x1cd8('0x282')][_0x1cd8('0x58e')]:_0x76b34d=_0x560e71[_0x17b33c['PlaneFogMarker']](_0x373fa7),this[_0x1cd8('0x509')]=_0x76b34d[_0x1cd8('0x322')],(this[_0x1cd8('0x509')][_0x1cd8('0x43')]=this)[_0x1d368f][_0x1cd8('0x568')]=_0x76b34d,this[_0x1cd8('0x569')]({'x':_0x373fa7['x'],'y':_0x373fa7['y']},_0x373fa7[_0x1cd8('0x2f1')]),this['setAlpha']=function(_0x52d356){this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0x52d356;};}_0x373fa7[_0x1cd8('0x58f')]&&(_0x52d356=_0x373fa7[_0x1cd8('0x590')]||0x1f4,_0x52d356=new THREE[(_0x1cd8('0x591'))](_0x52d356),this[_0x1cd8('0x509')][_0x1cd8('0x1cd')](_0x52d356));}},{'key':_0x1cd8('0x569'),'value':function(_0x52d356,_0x47bb5c){_0x52d356=(0x0,_0x364b2c[_0x1cd8('0x34')])(_0x52d356['x'],_0x52d356['y']);this[_0x1cd8('0x509')][_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x52d356['x'],_0x47bb5c||0x0,_0x52d356['y']);}},{'key':_0x1cd8('0x592'),'value':function(_0x52d356){this[_0x1cd8('0x509')][_0x1cd8('0x1f7')]['set'](THREE[_0x1cd8('0x15')][_0x1cd8('0x2cb')](_0x52d356['x']),THREE['Math'][_0x1cd8('0x2cb')](_0x52d356['y']),THREE[_0x1cd8('0x15')][_0x1cd8('0x2cb')](_0x52d356['z']));}},{'key':_0x1cd8('0xde'),'value':function(){this['_enabled']=!0x1,this[_0x1cd8('0x593')](),_0x1faf8c[_0x1cd8('0xa')]['disposeAll'](this['o3d_']),this[_0x1d368f]['_instance']=null;}},{'key':_0x1cd8('0x56d'),'value':function(_0x52d356){var _0x47bb5c=(0x0,_0x364b2c[_0x1cd8('0x30')])();_0x52d356['datas_']={'nodeType':'line'},_0x47bb5c[_0x1cd8('0x594')][_0x1cd8('0x595')](_0x52d356);}},{'key':'upadateMarker','value':function(_0x52d356){this[_0x1cd8('0x596')]=!0x0,this[_0x1cd8('0x334')]&&this[_0x1cd8('0x334')](_0x52d356);}},{'key':_0x1cd8('0x597'),'value':function(){this[_0x1cd8('0x29d')](_0x1cd8('0x46d'),this[_0x1cd8('0x598')]);}},{'key':'_removeListen','value':function(){this[_0x1cd8('0x336')]('canUpdate',this[_0x1cd8('0x598')]);}},{'key':_0x1cd8('0x599'),'value':function(){var _0x47bb5c=this,_0x52d356=(0x0,_0x364b2c[_0x1cd8('0x30')])();(0x0,_0x364b2c[_0x1cd8('0x33')])()?_0x52d356['on']('zoomed',function(_0x52d356){_0x47bb5c['isForceVisible']||(Array['isArray'](_0x47bb5c[_0x1cd8('0x59a')])?_0x47bb5c[_0x1cd8('0x509')][_0x1cd8('0x327')]=_0x52d356>=_0x47bb5c[_0x1cd8('0x59a')][0x0]&&_0x52d356<=_0x47bb5c[_0x1cd8('0x59a')][0x1]:_0x47bb5c[_0x1cd8('0x509')][_0x1cd8('0x327')]=_0x52d356>=_0x47bb5c[_0x1cd8('0x59a')]);}):_0x52d356['on'](_0x1cd8('0x59b'),function(_0x52d356){_0x52d356[_0x1cd8('0x59c')]<_0x47bb5c['showLevel']?_0x47bb5c[_0x1cd8('0x509')]['visible']=!0x0:_0x47bb5c[_0x1cd8('0x509')][_0x1cd8('0x327')]=!0x1;});}},{'key':_0x1cd8('0x59d'),'value':function(_0x52d356){var _0x47bb5c;this[_0x1cd8('0x596')]&&(this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x2d3')]&&this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x2d3')](_0x52d356),this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x325')]&&((_0x47bb5c=this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x3d0')])&&(_0x47bb5c[_0x1cd8('0x3d4')]&&(_0x47bb5c[_0x1cd8('0x3d4')]=''),_0x47bb5c[_0x1cd8('0x56')]&&(_0x47bb5c[_0x1cd8('0x56')]='')),this[_0x1d368f][_0x1cd8('0x568')][_0x1cd8('0x325')](_0x52d356)));}},{'key':'visible','set':function(_0x52d356){this[_0x1d368f]['_instance'][_0x1cd8('0x327')]=_0x52d356;},'get':function(){return this[_0x1d368f]['_instance'][_0x1cd8('0x327')];}},{'key':_0x1cd8('0x41d'),'set':function(_0x52d356){this[_0x1d368f][_0x1cd8('0x568')]['enabled']=_0x52d356;}}]),_0x52b79e);function _0x52b79e(_0x52d356,_0x47bb5c){(0x0,_0x2dffa9[_0x1cd8('0xa')])(this,_0x52b79e);var _0x2d1720=(0x0,_0x456992[_0x1cd8('0xa')])(this,(_0x52b79e[_0x1cd8('0x8c')]||(0x0,_0x216b17[_0x1cd8('0xa')])(_0x52b79e))[_0x1cd8('0x1')](this)),_0x1bebe3=(_0x2d1720[_0x1cd8('0x596')]=!0x1,_0x2d1720['id']=_0x47bb5c['id']||'',_0x2d1720[_0x1cd8('0x7f')]=_0x47bb5c[_0x1cd8('0x7f')]||'',_0x2d1720[_0x1cd8('0x59e')]=_0x52d356,_0x2d1720[_0x1cd8('0x508')]=0x1,_0x2d1720[_0x1cd8('0x59a')]=_0x47bb5c[_0x1cd8('0x59a')],_0x2d1720['o3d_']=null,_0x2d1720[_0x1cd8('0x59f')]=_0x47bb5c,_0x2d1720[_0x1d368f]={},(0x0,_0x373fa7[_0x1cd8('0xa')])(_0x52d356)),_0x5c3761=!0x1,_0x4e2c8a=(0x0,_0x364b2c[_0x1cd8('0x30')])();return _0x4e2c8a&&(_0x5c3761=_0x4e2c8a[_0x1cd8('0x5a0')][_0x1cd8('0x5a1')]('sk')),!0x0===_0x1bebe3||_0x5c3761?(Object[_0x1cd8('0x4')](_0x2d1720[_0x1d368f],_0x1cd8('0x568'),{'value':null,'writable':!0x0,'enumerable':!0x1}),_0x2d1720[_0x1cd8('0x5a2')](_0x52d356,_0x47bb5c),_0x2d1720[_0x1cd8('0x597')](),_0x47bb5c['showLevel']&&_0x2d1720[_0x1cd8('0x599')](_0x47bb5c[_0x1cd8('0x59a')]),_0x2d1720[_0x1cd8('0x334')]=_0x47bb5c[_0x1cd8('0x334')],_0x2d1720):(console['info'](_0x1bebe3+':No\x20permission\x20to\x20create\x20this\x20type\x20of\x20EffectMarker'),(0x0,_0x456992['default'])(_0x2d1720));}_0x47bb5c[_0x1cd8('0xa')]=_0x3694be;},function(_0x2f10d0,_0x3dfd19,_0x232ac5){'use strict';Object[_0x1cd8('0x4')](_0x3dfd19,'__esModule',{'value':!0x0});var _0xc4499d=_0x29a3c4(_0x232ac5(0x4)),_0x2b17c9=_0x29a3c4(_0x232ac5(0x26)),_0x2c6b61=_0x29a3c4(_0x232ac5(0x0)),_0x2224dc=_0x29a3c4(_0x232ac5(0x1)),_0x9864f1=_0x29a3c4(_0x232ac5(0x30)),_0x52c3ff=_0x29a3c4(_0x232ac5(0x31)),_0x432b8c=_0x29a3c4(_0x232ac5(0x3c));function _0x29a3c4(_0x2f10d0){return _0x2f10d0&&_0x2f10d0[_0x1cd8('0x6')]?_0x2f10d0:{'default':_0x2f10d0};}function _0x1d7f7e(_0x2f10d0){var _0x3dfd19=_0x2f10d0['map'],_0x232ac5=_0x2f10d0['id'],_0x2224dc=_0x2f10d0[_0x1cd8('0x466')],_0x52c3ff=_0x2f10d0[_0x1cd8('0x5a3')],_0x52c3ff=void 0x0!==_0x52c3ff&&_0x52c3ff,_0x467c47=_0x2f10d0[_0x1cd8('0x4c3')],_0x3ea78d=_0x2f10d0[_0x1cd8('0x5a4')],_0x4562c9=_0x2f10d0[_0x1cd8('0x5a5')],_0x4967b0=_0x2f10d0[_0x1cd8('0x5a6')],_0x29a3c4=_0x2f10d0[_0x1cd8('0x5a7')],_0x29a3c4=void 0x0===_0x29a3c4?0.1:_0x29a3c4,_0x318506=_0x2f10d0['buildingColorStr'],_0x318506=void 0x0===_0x318506?_0x1cd8('0x481'):_0x318506,_0x82f47e=_0x2f10d0[_0x1cd8('0x5a8')],_0x82f47e=void 0x0===_0x82f47e?_0x1cd8('0x481'):_0x82f47e,_0x24d81c=_0x2f10d0[_0x1cd8('0x5a9')],_0x24d81c=void 0x0===_0x24d81c?null:_0x24d81c,_0x1309f1=_0x2f10d0[_0x1cd8('0x20a')],_0x1309f1=void 0x0===_0x1309f1?0x1:_0x1309f1,_0x41eac7=_0x2f10d0[_0x1cd8('0x4cc')],_0x41eac7=void 0x0!==_0x41eac7&&_0x41eac7,_0x1a94c6=_0x2f10d0[_0x1cd8('0x4d9')],_0x1a94c6=void 0x0!==_0x1a94c6&&_0x1a94c6,_0x2947bc=_0x2f10d0['isOpenWireframScan'],_0x2947bc=void 0x0!==_0x2947bc&&_0x2947bc,_0x200af7=_0x2f10d0['isBreathColor'],_0x200af7=void 0x0!==_0x200af7&&_0x200af7,_0x5ac3fb=_0x2f10d0['isShowHorizonScan'],_0x5ac3fb=void 0x0!==_0x5ac3fb&&_0x5ac3fb,_0x295070=_0x2f10d0[_0x1cd8('0x5aa')],_0x295070=void 0x0!==_0x295070&&_0x295070,_0xc4499d=_0x2f10d0[_0x1cd8('0x5ab')],_0xc4499d=void 0x0!==_0xc4499d&&_0xc4499d,_0x432b8c=_0x2f10d0[_0x1cd8('0x5ac')],_0x432b8c=void 0x0!==_0x432b8c&&_0x432b8c,_0x34cbfb=_0x2f10d0[_0x1cd8('0x5ad')],_0x34cbfb=void 0x0===_0x34cbfb?{'x':0x0,'y':0x0}:_0x34cbfb,_0x18ce76=_0x2f10d0['hlColorStr'],_0x18ce76=void 0x0===_0x18ce76?_0x1cd8('0x5ae'):_0x18ce76,_0x3631cc=_0x2f10d0[_0x1cd8('0x5af')],_0x3631cc=void 0x0===_0x3631cc?0x1f4:_0x3631cc,_0x287897=_0x2f10d0[_0x1cd8('0x5b0')],_0x287897=void 0x0===_0x287897?0x1:_0x287897,_0x113246=_0x2f10d0[_0x1cd8('0x5b1')],_0x113246=void 0x0===_0x113246?[-0x2710,0x2710]:_0x113246,_0x9fc7ad=_0x2f10d0[_0x1cd8('0x5b2')],_0x9fc7ad=void 0x0===_0x9fc7ad?0x1:_0x9fc7ad,_0x115b1f=_0x2f10d0[_0x1cd8('0x5b3')],_0x115b1f=void 0x0===_0x115b1f?0x64:_0x115b1f,_0x27c071=_0x2f10d0[_0x1cd8('0x5b4')],_0x27c071=void 0x0===_0x27c071?_0x1cd8('0x400'):_0x27c071,_0x1f2f23=_0x2f10d0[_0x1cd8('0x5b5')],_0x1f2f23=void 0x0===_0x1f2f23?[-0x64,0x64]:_0x1f2f23,_0x3996c4=_0x2f10d0['vlSpeed'],_0x3996c4=void 0x0===_0x3996c4?0x1:_0x3996c4,_0x55551f=_0x2f10d0[_0x1cd8('0x5b6')],_0x55551f=void 0x0===_0x55551f||_0x55551f,_0xdde203=_0x2f10d0[_0x1cd8('0x5b7')],_0xdde203=void 0x0===_0xdde203?_0x1cd8('0x400'):_0xdde203,_0x4b5305=_0x2f10d0[_0x1cd8('0x5b8')],_0x4b5305=void 0x0===_0x4b5305?0x3e8:_0x4b5305,_0x5b1aea=_0x2f10d0[_0x1cd8('0x5b9')],_0x5b1aea=void 0x0===_0x5b1aea?0x3e8:_0x5b1aea,_0x3fcd77=_0x2f10d0[_0x1cd8('0x5ba')],_0x3fcd77=void 0x0===_0x3fcd77?0x1:_0x3fcd77,_0x4d6776=_0x2f10d0['csCenterPos'],_0x4d6776=void 0x0===_0x4d6776?{'x':0x0,'y':0x0}:_0x4d6776,_0x4cb78d=_0x2f10d0[_0x1cd8('0x5bb')],_0x4cb78d=void 0x0===_0x4cb78d?_0x1cd8('0x400'):_0x4cb78d,_0x4a6365=_0x2f10d0[_0x1cd8('0x5bc')],_0x4a6365=void 0x0===_0x4a6365?0x3e8:_0x4a6365,_0x4d41b8=_0x2f10d0[_0x1cd8('0x5bd')],_0x4d41b8=void 0x0===_0x4d41b8?0x1:_0x4d41b8,_0x35d48f=_0x2f10d0[_0x1cd8('0x5be')],_0x35d48f=void 0x0===_0x35d48f?{'x':0x0,'y':0x0}:_0x35d48f,_0x77f3fe=_0x2f10d0[_0x1cd8('0x5bf')],_0x32ca87=_0x2f10d0[_0x1cd8('0x5c0')],_0x32ca87=void 0x0===_0x32ca87?{'top':0x1,'side':0x1}:_0x32ca87,_0x1c9ae5=_0x2f10d0[_0x1cd8('0x2ea')],_0x1c9ae5=void 0x0===_0x1c9ae5?{'x':0.08,'y':0.08}:_0x1c9ae5,_0x179349=_0x2f10d0[_0x1cd8('0x5c1')],_0x179349=void 0x0===_0x179349?{'x':0.08,'y':0.08}:_0x179349,_0x4edcb5=_0x2f10d0['topRotate'],_0x4edcb5=void 0x0===_0x4edcb5?0x0:_0x4edcb5,_0x57e445=_0x2f10d0[_0x1cd8('0x5c2')],_0x57e445=void 0x0===_0x57e445?null:_0x57e445,_0x2f10d0=_0x2f10d0['screenSkyConfig'],_0x2f10d0=void 0x0===_0x2f10d0?null:_0x2f10d0,_0x19985a=((0x0,_0x2c6b61[_0x1cd8('0xa')])(this,_0x1d7f7e),(0x0,_0x9864f1['default'])(this,(_0x1d7f7e[_0x1cd8('0x8c')]||(0x0,_0x2b17c9['default'])(_0x1d7f7e))['call'](this))),_0x2224dc=(_0x19985a[_0x1cd8('0xdf')]=_0x3dfd19,_0x19985a[_0x1cd8('0x2ad')]=_0x2224dc,_0x19985a['id']=_0x232ac5,_0x19985a[_0x1cd8('0x4db')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x318506),_0x19985a[_0x1cd8('0x5c3')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x82f47e),_0x19985a[_0x1cd8('0x9f')]=null,_0x19985a[_0x1cd8('0x5c4')]=null,_0x19985a[_0x1cd8('0x5c5')]=null,_0x19985a['extentGradientTexture']=null,_0x19985a[_0x1cd8('0x5c6')]=null,_0x19985a['radarScanTexture']=null,_0x19985a[_0x1cd8('0x5c7')]=null,_0x19985a['material']=null,_0x19985a['wireframeMaterial']=null,_0x19985a[_0x1cd8('0x20a')]=_0x1309f1,_0x19985a[_0x1cd8('0x5c8')]=new THREE[(_0x1cd8('0x1c2'))](0x1,0x1,0x1,_0x29a3c4),_0x24d81c&&(_0x3dfd19=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x24d81c),_0x19985a['emissiveFactor']['x']=_0x3dfd19['r'],_0x19985a[_0x1cd8('0x5c8')]['y']=_0x3dfd19['g'],_0x19985a[_0x1cd8('0x5c8')]['z']=_0x3dfd19['b']),_0x19985a[_0x1cd8('0x3dc')]=null,_0x19985a[_0x1cd8('0x3d0')]=null,_0x19985a[_0x1cd8('0x10f')]=0x0,_0x19985a[_0x1cd8('0x5c9')]=_0x113246[0x0],_0x19985a[_0x1cd8('0x5ca')]=0x0,_0x19985a['csTime']=0x0,_0x19985a['rdTime']=0x0,_0x19985a[_0x1cd8('0x4cc')]=_0x41eac7,_0x19985a[_0x1cd8('0x4d9')]=_0x1a94c6?0x1:0x0,_0x19985a[_0x1cd8('0x5cb')]=_0x5ac3fb,_0x19985a[_0x1cd8('0x5aa')]=_0x295070,_0x19985a[_0x1cd8('0x5ab')]=_0xc4499d,_0x19985a[_0x1cd8('0x5ac')]=_0x432b8c,_0x19985a[_0x1cd8('0x5ad')]=_0x34cbfb,_0x19985a['isOpenWireframScan']=_0x2947bc?0x1:0x0,_0x19985a[_0x1cd8('0x5cc')]=!0x1,_0x19985a[_0x1cd8('0x5b1')]=_0x113246,_0x19985a[_0x1cd8('0x5af')]=_0x3631cc,_0x19985a['hlDiffuse']=_0x287897,_0x19985a[_0x1cd8('0x5cd')]=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x18ce76),_0x19985a['hlSpeed']=_0x9fc7ad,_0x19985a['vlExtent']=_0x1f2f23,_0x19985a[_0x1cd8('0x5ce')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x27c071),_0x19985a[_0x1cd8('0x5b3')]=_0x115b1f,_0x19985a[_0x1cd8('0x5cf')]=_0x3996c4,_0x19985a[_0x1cd8('0x5b6')]=_0x55551f,_0x19985a[_0x1cd8('0x5d0')]=new THREE['Color']()[_0x1cd8('0x2f5')](_0xdde203),_0x19985a[_0x1cd8('0x5b8')]=_0x4b5305,_0x19985a[_0x1cd8('0x5b9')]=_0x5b1aea,_0x19985a[_0x1cd8('0x5ba')]=_0x3fcd77,_0x19985a[_0x1cd8('0x5d1')]=_0x4d6776,_0x19985a[_0x1cd8('0x5d2')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x4cb78d),_0x19985a[_0x1cd8('0x5bc')]=_0x4a6365,_0x19985a[_0x1cd8('0x5bd')]=_0x4d41b8,_0x19985a[_0x1cd8('0x5bf')]=_0x77f3fe,_0x19985a[_0x1cd8('0x5be')]=_0x35d48f,_0x19985a[_0x1cd8('0x5d3')]=_0x200af7,_0x19985a['textureRepeat']=new THREE[(_0x1cd8('0x1c2'))](_0x179349['x'],_0x179349['y'],_0x1c9ae5['x'],_0x1c9ae5['y']),_0x19985a[_0x1cd8('0x5d4')]=new THREE[(_0x1cd8('0x1c0'))](THREE[_0x1cd8('0x15')][_0x1cd8('0x2cb')](_0x4edcb5),0x0),_0x19985a[_0x1cd8('0x5c0')]=new THREE[(_0x1cd8('0x1c0'))](_0x32ca87[_0x1cd8('0x5d5')],_0x32ca87[_0x1cd8('0x35f')]),_0x19985a['isUseExtentEffect']=!0x1,_0x19985a[_0x1cd8('0x407')]=0x1f4,_0x19985a[_0x1cd8('0x5d6')]={'x':0x0,'y':0x0},null),_0x232ac5=(_0x57e445&&(_0x19985a[_0x1cd8('0x5d7')]=!0x0,_0x19985a['extentRadius']=_0x57e445['radius'],_0x19985a['extentCenter']=_0x57e445['center'],_0x2224dc=_0x57e445[_0x1cd8('0x5d8')]),_0x19985a[_0x1cd8('0x5d9')]=!0x1,null);return _0x2f10d0&&(_0x19985a[_0x1cd8('0x5d9')]=!0x0,_0x232ac5=_0x2f10d0[_0x1cd8('0x5da')]),_0x19985a[_0x1cd8('0x40')]=null,_0x19985a[_0x1cd8('0x5db')]=null,_0x19985a[_0x1cd8('0x5a3')]=_0x52c3ff,_0x19985a[_0x1cd8('0x5dc')]=null,_0x19985a[_0x1cd8('0x5dd')]=null,_0x19985a[_0x1cd8('0x5de')]=0x1,_0x19985a[_0x1cd8('0x5df')]=0x1,_0x19985a[_0x1cd8('0x9c')]=new THREE[(_0x1cd8('0x9b'))](),_0x19985a[_0x1cd8('0x5e0')]=0x0,_0x19985a[_0x1cd8('0x2f2')]({'sideTexPath':_0x467c47,'topTexPath':_0x3ea78d,'gradientTexPath':_0x4562c9,'extentGradientTexPath':_0x2224dc,'emissiveTexPath':_0x4967b0,'screenSkyTexPath':_0x232ac5}),_0x19985a;}_0x232ac5=_0x232ac5(0x3b)[_0x1cd8('0x97')],(0x0,_0x52c3ff[_0x1cd8('0xa')])(_0x1d7f7e,_0x232ac5),(0x0,_0x2224dc['default'])(_0x1d7f7e,[{'key':_0x1cd8('0x4ce'),'value':function(_0x2f10d0){var _0x3dfd19=_0x2f10d0[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x1cd8('0xc')];if(0x0<_0x3dfd19)for(var _0x232ac5=0x0;_0x232ac5<_0x3dfd19;_0x232ac5++)if(void 0x0!==_0x2f10d0[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x232ac5]['RoomStyle']&&this[_0x1cd8('0x5a3')]){var _0x2224dc=this[_0x1cd8('0x40')][_0x2f10d0[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x232ac5]['RoomStyle']];if(this[_0x1cd8('0x47')][_0x1cd8('0x1e1')]=!0x0,void 0x0===_0x2224dc||!_0x2224dc[_0x1cd8('0x5e1')]||0x1!=+_0x2224dc[_0x1cd8('0x5e1')]||!_0x2224dc[_0x1cd8('0x220')])if(void 0x0!==_0x2224dc&&_0x2224dc[_0x1cd8('0x5e1')]&&0x2==+_0x2224dc['filltype']&&(_0x2224dc[_0x1cd8('0x5e2')]||_0x2224dc[_0x1cd8('0x5e3')])&&this['shader']){if(_0x2224dc[_0x1cd8('0x5e2')])for(var _0x52c3ff in this[_0x1cd8('0x5dc')][this['id']]['topImgIndexMap']){var _0x29a3c4=_0x52c3ff-0x1,_0x52c3ff=this[_0x1cd8('0x5dc')][this['id']][_0x1cd8('0x5e4')][_0x52c3ff];if(!this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x5e5')][_0x1cd8('0xf')][_0x29a3c4]){this['shader'][_0x1cd8('0x176')][_0x1cd8('0x5e5')][_0x1cd8('0xf')][_0x29a3c4]=this[_0x1cd8('0x5dd')][_0x52c3ff][_0x1cd8('0x9f')],0x2!=_0x2224dc[_0x1cd8('0x5e6')]?(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['topTexArr'][_0x1cd8('0xf')][_0x29a3c4][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x3d0')]['uniforms']['topTexArr'][_0x1cd8('0xf')][_0x29a3c4][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5e7')]['value'][_0x29a3c4]=THREE[_0x1cd8('0x32d')],this['shader'][_0x1cd8('0x176')][_0x1cd8('0x5e8')]['value']['x']=this[_0x1cd8('0x5df')],this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x5e8')][_0x1cd8('0xf')]['y']=this[_0x1cd8('0x5df')],this['shader'][_0x1cd8('0x176')][_0x1cd8('0x5e9')][_0x1cd8('0xf')][_0x29a3c4]=Math[_0x1cd8('0x6d')](+_0x2224dc[_0x1cd8('0x5ea')]/0x1f4*0x3e8)/0x3e8):this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5e7')][_0x1cd8('0xf')][_0x29a3c4]=THREE['ClampToEdgeWrapping'],this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x5e5')][_0x1cd8('0xf')][_0x29a3c4][_0x1cd8('0x7f')]=_0x52c3ff;break;}}if(_0x2224dc['sideImage'])for(var _0x21f15b in this[_0x1cd8('0x5dc')][this['id']][_0x1cd8('0x5eb')]){var _0x3bb90a=_0x21f15b-0x1,_0x21f15b=this[_0x1cd8('0x5dc')][this['id']][_0x1cd8('0x5eb')][_0x21f15b];if(!this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['sideTexArr'][_0x1cd8('0xf')][_0x3bb90a]){this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['sideTexArr']['value'][_0x3bb90a]=this[_0x1cd8('0x5dd')][_0x21f15b][_0x1cd8('0x9f')],this['shader'][_0x1cd8('0x176')][_0x1cd8('0x5ec')][_0x1cd8('0xf')][_0x3bb90a][_0x1cd8('0x525')]=0x10,0x2!=_0x2224dc[_0x1cd8('0x5ed')]?(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['sideTexArr'][_0x1cd8('0xf')][_0x3bb90a][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5ec')][_0x1cd8('0xf')][_0x3bb90a][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x3d0')]['uniforms']['sideTexWrapArr'][_0x1cd8('0xf')][_0x3bb90a]=THREE['RepeatWrapping'],this['shader'][_0x1cd8('0x176')][_0x1cd8('0x5e8')]['value']['z']=this[_0x1cd8('0x5df')],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5e8')][_0x1cd8('0xf')]['w']=this[_0x1cd8('0x5df')],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['sideTexRepeatArr']['value'][_0x3bb90a]=Math[_0x1cd8('0x6d')](+_0x2224dc[_0x1cd8('0x5ee')]/0x1f4*0x3e8)/0x3e8):this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5ef')]['value'][_0x3bb90a]=THREE[_0x1cd8('0x5f0')],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5ec')][_0x1cd8('0xf')][_0x3bb90a]['name']=_0x21f15b;break;}}}else _0x2f10d0[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x232ac5]['RoomStyle'];}}},{'key':_0x1cd8('0x5f1'),'value':function(_0x2f10d0){var _0x3dfd19=!0x0,_0x232ac5=!0x1,_0x2224dc=void 0x0;try{for(var _0x52c3ff,_0x29a3c4=(0x0,_0xc4499d[_0x1cd8('0xa')])(this[_0x1cd8('0x40')]);!(_0x3dfd19=(_0x52c3ff=_0x29a3c4['next']())['done']);_0x3dfd19=!0x0){var _0x34444e=_0x52c3ff[_0x1cd8('0xf')];if(_0x34444e['typeid']==_0x2f10d0)return _0x34444e;}}catch(_0x4d5175){_0x232ac5=!0x0,_0x2224dc=_0x4d5175;}finally{try{!_0x3dfd19&&_0x29a3c4[_0x1cd8('0xa1')]&&_0x29a3c4[_0x1cd8('0xa1')]();}finally{if(_0x232ac5)throw _0x2224dc;}}console['error'](_0x1cd8('0x42'),_0x2f10d0);}},{'key':_0x1cd8('0x5f2'),'value':function(_0x2f10d0,_0x3dfd19){var _0x232ac5=!0x0,_0x2224dc=!0x1,_0x52c3ff=void 0x0;try{for(var _0x29a3c4,_0x1f8445=(0x0,_0xc4499d[_0x1cd8('0xa')])(this['_heightColorConfigs']);!(_0x232ac5=(_0x29a3c4=_0x1f8445[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x232ac5=!0x0){var _0x13533d=_0x29a3c4[_0x1cd8('0xf')];if(_0x13533d['range'][0x0]<=_0x3dfd19&&_0x13533d[_0x1cd8('0x5f3')][0x1]>_0x3dfd19)return void _0x2f10d0['setStyle'](_0x13533d['color']);}}catch(_0x2fcf5e){_0x2224dc=!0x0,_0x52c3ff=_0x2fcf5e;}finally{try{!_0x232ac5&&_0x1f8445['return']&&_0x1f8445[_0x1cd8('0xa1')]();}finally{if(_0x2224dc)throw _0x52c3ff;}}}},{'key':_0x1cd8('0x5f4'),'value':function(_0x2f10d0,_0x3dfd19){return Math[_0x1cd8('0x1c4')](Math[_0x1cd8('0x1c8')](Math[_0x1cd8('0x308')](_0x2f10d0['x']-_0x3dfd19['x'],0x2)+Math['pow'](_0x2f10d0['y']-_0x3dfd19['y'],0x2)));}},{'key':_0x1cd8('0x5f5'),'value':function(_0x2f10d0,_0x3dfd19,_0x232ac5){var _0x2224dc={'x':_0x2f10d0[0x9*_0x232ac5],'y':_0x2f10d0[0x9*_0x232ac5+0x1]},_0x52c3ff={'x':_0x2f10d0[0x9*_0x232ac5+0x3],'y':_0x2f10d0[0x9*_0x232ac5+0x4]},_0x2f10d0={'x':_0x2f10d0[0x9*_0x232ac5+0x6],'y':_0x2f10d0[0x9*_0x232ac5+0x7]};return _0x3dfd19[0x9*_0x232ac5+0x2]==_0x3dfd19[0x9*_0x232ac5+0x5]?this['getDis'](_0x2224dc,_0x52c3ff):_0x3dfd19[0x9*_0x232ac5+0x2]==_0x3dfd19[0x9*_0x232ac5+0x8]?this[_0x1cd8('0x5f4')](_0x2224dc,_0x2f10d0):_0x3dfd19[0x9*_0x232ac5+0x5]==_0x3dfd19[0x9*_0x232ac5+0x8]?this[_0x1cd8('0x5f4')](_0x52c3ff,_0x2f10d0):void 0x0;}},{'key':_0x1cd8('0x2f2'),'value':function(_0x2f10d0){var _0x3dfd19,_0x232ac5=_0x2f10d0['sideTexPath'],_0x2224dc=_0x2f10d0[_0x1cd8('0x5a4')],_0x52c3ff=_0x2f10d0[_0x1cd8('0x5a5')],_0x29a3c4=_0x2f10d0['extentGradientTexPath'],_0x491029=_0x2f10d0[_0x1cd8('0x5a6')],_0x2f10d0=_0x2f10d0[_0x1cd8('0x5f6')],_0x446370=this,_0x5435d1=new _0x432b8c['default'](),_0x5f4d31=(this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x5f7'))]({'color':this[_0x1cd8('0x4db')]}),_0x232ac5&&(_0x3dfd19=[],_0x232ac5&&!this['isTileBuilding']&&_0x3dfd19[_0x1cd8('0x70')]({'name':_0x1cd8('0x5f8'),'path':_0x232ac5}),_0x2224dc&&!this[_0x1cd8('0x5a3')]&&_0x3dfd19[_0x1cd8('0x70')]({'name':_0x1cd8('0x5f9'),'path':_0x2224dc}),_0x52c3ff&&_0x3dfd19[_0x1cd8('0x70')]({'name':_0x1cd8('0x5fa'),'path':_0x52c3ff}),_0x29a3c4&&_0x3dfd19[_0x1cd8('0x70')]({'name':_0x1cd8('0x5fb'),'path':_0x29a3c4}),_0x446370[_0x1cd8('0x5bf')]&&_0x3dfd19['push']({'name':_0x1cd8('0x5fc'),'path':_0x446370[_0x1cd8('0x5bf')]}),_0x491029&&_0x3dfd19[_0x1cd8('0x70')]({'name':'emissiveTex','path':_0x491029}),_0x2f10d0&&_0x3dfd19[_0x1cd8('0x70')]({'name':'screenSkyTex','path':_0x2f10d0}),_0x5435d1[_0x1cd8('0xa2')](_0x3dfd19)[_0x1cd8('0x349')](function(_0x2f10d0){var _0x3dfd19=!0x0,_0x232ac5=!0x1,_0x2224dc=void 0x0;try{for(var _0x52c3ff,_0x29a3c4=(0x0,_0xc4499d[_0x1cd8('0xa')])(_0x2f10d0);!(_0x3dfd19=(_0x52c3ff=_0x29a3c4[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x3dfd19=!0x0){var _0x491029=_0x52c3ff[_0x1cd8('0xf')];_0x1cd8('0x5f8')===_0x491029['name']&&(_0x446370[_0x1cd8('0x9f')]=_0x491029,_0x446370[_0x1cd8('0x9f')]['wrapS']=THREE['RepeatWrapping'],_0x446370[_0x1cd8('0x9f')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x446370[_0x1cd8('0x9f')][_0x1cd8('0x525')]=_0x446370['view']['renderer'][_0x1cd8('0x527')]['getMaxAnisotropy']()),_0x1cd8('0x5f9')===_0x491029[_0x1cd8('0x7f')]&&(_0x446370[_0x1cd8('0x5c4')]=_0x491029,_0x446370[_0x1cd8('0x5c4')][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0x446370['topTexture'][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x446370[_0x1cd8('0x5c4')][_0x1cd8('0x525')]=_0x446370['view'][_0x1cd8('0x526')][_0x1cd8('0x527')][_0x1cd8('0x528')]()),'gradientTex'===_0x491029[_0x1cd8('0x7f')]&&(_0x446370[_0x1cd8('0x5c5')]=_0x491029),_0x1cd8('0x5fb')===_0x491029[_0x1cd8('0x7f')]&&(_0x446370['extentGradientTexture']=_0x491029),_0x1cd8('0x5fc')===_0x491029[_0x1cd8('0x7f')]&&(_0x446370[_0x1cd8('0x5fd')]=_0x491029),_0x1cd8('0x5fe')===_0x491029[_0x1cd8('0x7f')]&&(_0x446370[_0x1cd8('0x5c7')]=_0x491029,_0x446370[_0x1cd8('0x5c7')]['wrapS']=THREE['RepeatWrapping'],_0x446370[_0x1cd8('0x5c7')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x446370['emissiveTexture']['anisotropy']=_0x446370[_0x1cd8('0x2ad')]['renderer']['capabilities']['getMaxAnisotropy']()),_0x1cd8('0x5ff')===_0x491029[_0x1cd8('0x7f')]&&(_0x446370[_0x1cd8('0x5c6')]=_0x491029);}}catch(_0x359c5d){_0x232ac5=!0x0,_0x2224dc=_0x359c5d;}finally{try{!_0x3dfd19&&_0x29a3c4['return']&&_0x29a3c4[_0x1cd8('0xa1')]();}finally{if(_0x232ac5)throw _0x2224dc;}}_0x446370[_0x1cd8('0x46c')]({'type':_0x1cd8('0x46d')});})),this[_0x1cd8('0x4cc')]&&(this[_0x1cd8('0x47')][_0x1cd8('0x1df')]=THREE['AdditiveBlending']),this[_0x1cd8('0x20a')]<0x1&&(this[_0x1cd8('0x47')][_0x1cd8('0x1e1')]=!0x0,this[_0x1cd8('0x47')][_0x1cd8('0x20a')]=this['opacity']),null),_0x87c75f=null,_0x44b837=null,_0x145333=null,_0x36501f=null,_0x459ca7=null,_0x1d995d=(this[_0x1cd8('0x5a3')]&&(_0x44b837=new THREE['Uniform'](new Array(0x4)[_0x1cd8('0x4d2')](THREE[_0x1cd8('0x32d')])),_0x5f4d31=new THREE['Uniform'](new Array(0x4)['fill'](null)),_0x145333=new THREE['Uniform'](new Array(0x4)['fill'](THREE[_0x1cd8('0x32d')])),_0x87c75f=new THREE[(_0x1cd8('0x600'))](new Array(0x4)[_0x1cd8('0x4d2')](null)),_0x36501f=new THREE['Uniform'](new Array(0x4)[_0x1cd8('0x4d2')](0x1)),_0x459ca7=new THREE[(_0x1cd8('0x600'))](new Array(0x4)[_0x1cd8('0x4d2')](0x1))),new THREE[(_0x1cd8('0x1c3'))](this[_0x1cd8('0xdf')][_0x1cd8('0x601')]['selectedColor_']));this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x2f10d0){_0x2f10d0['uniforms'][_0x1cd8('0x4d9')]={'type':'i','value':_0x446370[_0x1cd8('0x4d9')]},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':_0x446370['count']},_0x2f10d0[_0x1cd8('0x176')]['extentLightDown']={'value':!0x1},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5c3')]={'value':_0x446370[_0x1cd8('0x5c3')]},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x602')]={'value':_0x1d995d},_0x232ac5&&(_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5f8')]={'value':_0x446370[_0x1cd8('0x9f')]},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5e8')]={'value':_0x446370[_0x1cd8('0x603')]},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x604')]={'value':_0x446370['textureRotate']},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5f9')]={'value':_0x446370['topTexture']},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5fa')]={'value':_0x446370[_0x1cd8('0x5c5')]},_0x2f10d0['uniforms'][_0x1cd8('0x605')]={'value':_0x446370[_0x1cd8('0x5c0')]}),_0x491029&&(_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5fe')]={'value':_0x446370['emissiveTexture']},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5c8')]={'value':_0x446370['emissiveFactor']}),_0x446370[_0x1cd8('0x4d9')]&&(_0x2f10d0['uniforms'][_0x1cd8('0x606')]={'value':!0x0},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5ad')]={'value':new THREE[(_0x1cd8('0x1c0'))](_0x446370[_0x1cd8('0x5ad')]['x'],_0x446370[_0x1cd8('0x5ad')]['y'])},_0x446370['isShowHorizonScan']&&(_0x2f10d0['uniforms']['hlColor']={'value':_0x446370['hlColor']},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5b0')]={'value':_0x446370[_0x1cd8('0x5b0')]},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5af')]={'value':_0x446370['hlWidth']},_0x2f10d0['uniforms'][_0x1cd8('0x5c9')]={'value':_0x446370[_0x1cd8('0x5c9')]}),_0x446370[_0x1cd8('0x5aa')]&&(_0x2f10d0['uniforms'][_0x1cd8('0x5ce')]={'value':_0x446370[_0x1cd8('0x5ce')]},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5b3')]={'value':_0x446370['vlHeight']},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5ca')]={'value':_0x446370[_0x1cd8('0x5ca')]}),_0x446370[_0x1cd8('0x5ab')]&&(_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5d1')]={'value':new THREE['Vector2'](_0x446370[_0x1cd8('0x5d1')]['x'],_0x446370[_0x1cd8('0x5d1')]['y'])},_0x2f10d0['uniforms']['spreadValue']={'value':_0x446370[_0x1cd8('0x5b8')]},_0x2f10d0['uniforms'][_0x1cd8('0x5d0')]={'value':_0x446370[_0x1cd8('0x5d0')]},_0x2f10d0[_0x1cd8('0x176')]['csTime']={'value':_0x446370[_0x1cd8('0x607')]}),_0x446370[_0x1cd8('0x5ac')]&&(_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x608')]={'value':new THREE[(_0x1cd8('0x1c0'))](_0x446370[_0x1cd8('0x5be')]['x'],_0x446370['radarCenterPos']['y'])},_0x2f10d0[_0x1cd8('0x176')]['rdRadius']={'value':_0x446370['radarRadius']},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x609')]={'value':_0x446370[_0x1cd8('0x5d2')]},_0x2f10d0['uniforms']['rdTime']={'value':_0x446370[_0x1cd8('0x60a')]},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x60b')]={'value':_0x446370[_0x1cd8('0x5fd')]})),_0x446370[_0x1cd8('0x5d7')]&&(_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x407')]={'value':_0x446370[_0x1cd8('0x407')]},_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5d6')]={'value':new THREE[(_0x1cd8('0x1c0'))](_0x446370[_0x1cd8('0x5d6')]['x'],_0x446370[_0x1cd8('0x5d6')]['y'])},_0x2f10d0['uniforms'][_0x1cd8('0x60c')]={'value':_0x446370[_0x1cd8('0x60d')]}),_0x446370['isUseScreenSky']&&(_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x60e')]={'value':_0x446370[_0x1cd8('0x5c6')]}),_0x446370['isTileBuilding']&&(_0x2f10d0['uniforms'][_0x1cd8('0x5e5')]=_0x5f4d31,_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5ec')]=_0x87c75f,_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5e7')]=_0x44b837,_0x2f10d0['uniforms'][_0x1cd8('0x5ef')]=_0x145333,_0x2f10d0[_0x1cd8('0x176')][_0x1cd8('0x5e9')]=_0x36501f,_0x2f10d0[_0x1cd8('0x176')]['sideTexRepeatArr']=_0x459ca7,_0x2f10d0['uniforms']['styleId']={'value':_0x446370['id']}),_0x2f10d0[_0x1cd8('0x3d4')]=_0x2f10d0[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),_0x1cd8('0x4dc')+(_0x232ac5?_0x1cd8('0x4dd'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x446370['isOpenScan']?_0x1cd8('0x60f'):'')+_0x1cd8('0x418')+(_0x446370[_0x1cd8('0x5a3')]?_0x1cd8('0x610'):'')+_0x1cd8('0x418')+(_0x446370[_0x1cd8('0x5d9')]?_0x1cd8('0x611'):'')+_0x1cd8('0x612')),_0x2f10d0['vertexShader']=_0x2f10d0['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x613')),_0x2f10d0[_0x1cd8('0x3d4')]=_0x2f10d0[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x614'),_0x1cd8('0x615')),_0x2f10d0['fragmentShader']=_0x2f10d0['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x232ac5?_0x1cd8('0x4dd'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x52c3ff?'#define\x20IS_GRADIENT_TEXTURE':'')+_0x1cd8('0x418')+(_0x491029?'#define\x20IS_EMISSIVE_TEXTURE':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x446370['isOpenScan']?_0x1cd8('0x60f'):'')+_0x1cd8('0x418')+(_0x446370[_0x1cd8('0x5d3')]?_0x1cd8('0x616'):'')+_0x1cd8('0x418')+(_0x446370[_0x1cd8('0x5cb')]?'#define\x20HORIZONTAL_LINE':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x446370['isShowVerticalScan']?_0x1cd8('0x617'):'')+_0x1cd8('0x418')+(_0x446370[_0x1cd8('0x5ab')]?_0x1cd8('0x618'):'')+_0x1cd8('0x418')+(_0x446370[_0x1cd8('0x5ac')]?_0x1cd8('0x619'):'')+_0x1cd8('0x418')+(_0x446370[_0x1cd8('0x5d7')]?_0x1cd8('0x61a'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x446370[_0x1cd8('0x5d9')]?_0x1cd8('0x611'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x446370[_0x1cd8('0x5a3')]?'#define\x20IS_TILE_BUILDING':'')+_0x1cd8('0x61b')),_0x2f10d0[_0x1cd8('0x56')]=_0x2f10d0[_0x1cd8('0x56')]['replace'](_0x1cd8('0x61c'),_0x1cd8('0x61d')),_0x2f10d0[_0x1cd8('0x56')]=_0x2f10d0[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x61e'),_0x1cd8('0x61f')),_0x2f10d0[_0x1cd8('0x56')]=_0x2f10d0['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20originColor\x20=\x20vec4(outgoingLight,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(hideFlags\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20breathSpeed\x20=\x20iTime\x20*\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20breathCol(vModelPos.y,\x20breathSpeed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_EMISSIVE_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20oUV\x20=\x20emissiveFactor.w\x20>\x200.0000001\x20?\x20vec2(svUv.x\x20*\x20emissiveFactor.w,\x20svUv.y\x20*\x20emissiveFactor.w\x20+\x20vRandom)\x20:\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveTexCol\x20=\x20texture2D(emissiveTex,\x20vRoundUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveTexCol\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20*=\x20emissiveFactor.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20emissiveTexCol.rgb;\x20//\x20it\x20will\x20lost\x20origin\x20mat\x20config\x20effect\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(normalize(cameraPosition.xz));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20skyCol\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20extentTexColor();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20verticalLine(vlColor,\x20vModelPos.y,\x20vlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20horizonPos\x20=\x20vModelPos.x\x20-\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20horizontalLine(resultColor,\x20\x20horizonPos,\x20hlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20centerSpreadLine(resultColor,\x20csTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20radarScan();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extentLightDown)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(0.1),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(1.0),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(resultColor.a,\x20vHLColor.a,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(originColor.rgb\x20*\x20selectedColor,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x446370[_0x1cd8('0x3d0')]=_0x2f10d0,_0x446370[_0x1cd8('0x46c')]({'type':_0x1cd8('0x620')});};}},{'key':_0x1cd8('0x4e7'),'value':function(_0x2f10d0){_0x2f10d0['color'],this[_0x1cd8('0x3d0')];}},{'key':'getMaterial','value':function(){return this['material'];}},{'key':_0x1cd8('0x4e9'),'value':function(){return this[_0x1cd8('0x4c9')];}},{'key':_0x1cd8('0x621'),'value':function(_0x2f10d0,_0x3dfd19){var _0x232ac5=this;new TWEEN['Tween']({'intensity':_0x2f10d0})['to']({'intensity':_0x3dfd19},0x7d0)[_0x1cd8('0x2ce')](TWEEN['Easing'][_0x1cd8('0x2d0')][_0x1cd8('0x2d8')])[_0x1cd8('0x2d2')](function(_0x2f10d0){_0x232ac5['lightIntensity']=_0x2f10d0[_0x1cd8('0x475')],_0x232ac5[_0x1cd8('0x47')][_0x1cd8('0x220')][_0x1cd8('0x451')](0x0,0x0,_0x2f10d0['intensity']);})[_0x1cd8('0x2d1')]();}},{'key':_0x1cd8('0x622'),'value':function(_0x2f10d0,_0x3dfd19){var _0x232ac5=this;new TWEEN[(_0x1cd8('0x2cd'))]({'radius':_0x2f10d0})['to']({'radius':_0x3dfd19},0x7d0)['easing'](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x2d0')]['Out'])['onUpdate'](function(_0x2f10d0){_0x232ac5[_0x1cd8('0x407')]=_0x2f10d0[_0x1cd8('0x226')],_0x232ac5[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x407')][_0x1cd8('0xf')]=_0x2f10d0[_0x1cd8('0x226')];})[_0x1cd8('0x2d1')]();}},{'key':'dispose','value':function(){this[_0x1cd8('0x47')]&&this[_0x1cd8('0x47')][_0x1cd8('0xde')](),this[_0x1cd8('0x9f')]?this['texture'][_0x1cd8('0xde')]():this['texture']=null,this[_0x1cd8('0x5c4')]?this[_0x1cd8('0x5c4')]['dispose']():this['topTexture']=null,this[_0x1cd8('0x5c5')]?this[_0x1cd8('0x5c5')][_0x1cd8('0xde')]():this['gradientTexture']=null,this['shader'],this['shader']=null,this['shaderMesh']&&(this['shaderMesh'][_0x1cd8('0x47')][0x0]=null),this['shaderMesh']=null;}},{'key':'render','value':function(_0x2f10d0){this['shader']&&(this[_0x1cd8('0x10f')]+=_0x2f10d0,this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x3da')][_0x1cd8('0xf')]=this[_0x1cd8('0x10f')],this[_0x1cd8('0x5cb')]&&(this[_0x1cd8('0x5c9')]>this['hlExtent'][0x1]&&(this[_0x1cd8('0x5c9')]=this[_0x1cd8('0x5b1')][0x0]),this[_0x1cd8('0x5c9')]+=_0x2f10d0*this['hlSpeed'],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5c9')]['value']=-this[_0x1cd8('0x5c9')]),this[_0x1cd8('0x5aa')]&&(this[_0x1cd8('0x5ca')]>this[_0x1cd8('0x5b5')][0x0]&&(this[_0x1cd8('0x5ca')]=this[_0x1cd8('0x5b5')][0x1]),this[_0x1cd8('0x5ca')]+=_0x2f10d0*this['vlSpeed'],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5ca')][_0x1cd8('0xf')]=-this[_0x1cd8('0x5ca')]),this[_0x1cd8('0x5ab')]&&(this[_0x1cd8('0x607')]+=_0x2f10d0*this['csSpeed'],this[_0x1cd8('0x607')]>this[_0x1cd8('0x5b9')]&&(this[_0x1cd8('0x607')]=0x0),this['shader'][_0x1cd8('0x176')][_0x1cd8('0x607')][_0x1cd8('0xf')]=this[_0x1cd8('0x607')]),this['isShowRadarScan']&&(this[_0x1cd8('0x60a')]+=_0x2f10d0*this[_0x1cd8('0x5bd')],this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x60a')][_0x1cd8('0xf')]=this['rdTime']));}}]),_0x3dfd19['default']=_0x1d7f7e;},function(_0x5096de,_0x5bda39,_0x11a351){'use strict';Object[_0x1cd8('0x4')](_0x5bda39,'__esModule',{'value':!0x0});var _0x1e014e=_0xbc49ea(_0x11a351(0x0));function _0xbc49ea(_0x5096de){return _0x5096de&&_0x5096de['__esModule']?_0x5096de:{'default':_0x5096de};}function _0x4b0319(_0x5096de){var _0x5bda39=_0x5096de[_0x1cd8('0x2f3')],_0x5bda39=void 0x0===_0x5bda39?'#ffc033':_0x5bda39,_0x11a351=_0x5096de[_0x1cd8('0x623')],_0x11a351=void 0x0===_0x11a351?0x4:_0x11a351,_0x5096de=_0x5096de['speed'],_0x5096de=void 0x0===_0x5096de?0x4:_0x5096de;(0x0,_0x1e014e['default'])(this,_0x4b0319),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x2f3')]=_0x5bda39,this['speed']=_0x5096de,this[_0x1cd8('0x623')]=_0x11a351,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x497')]={'cubeShader':null,'lineShader':null},this[_0x1cd8('0x624')]=null,this['object3d']['visible']=!0x1,this[_0x1cd8('0x2f2')]();}(0x0,_0xbc49ea(_0x11a351(0x1))[_0x1cd8('0xa')])(_0x4b0319,[{'key':'createMaterial','value':function(){var _0x5bda39=this;this[_0x1cd8('0x47')]=new THREE['MeshBasicMaterial'](),this[_0x1cd8('0x47')]['color']=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](this['colorStr']),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x5096de){_0x5bda39['settingShader'](_0x5096de),_0x5bda39[_0x1cd8('0x497')][_0x1cd8('0x625')]=_0x5096de;},this['wireMaterial']=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'wireframe':!0x0}),this[_0x1cd8('0x624')][_0x1cd8('0x3d2')]=function(_0x5096de){_0x5bda39['settingShader'](_0x5096de),_0x5bda39[_0x1cd8('0x497')][_0x1cd8('0x626')]=_0x5096de;};}},{'key':_0x1cd8('0x627'),'value':function(_0x5096de){_0x5096de[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':0x0},_0x5096de[_0x1cd8('0x176')][_0x1cd8('0x623')]={'value':this['floatOffset']},_0x5096de[_0x1cd8('0x3d4')]=_0x5096de[_0x1cd8('0x3d4')]['replace']('#include\x20<uv_pars_vertex>',_0x1cd8('0x628')),_0x5096de[_0x1cd8('0x3d4')]=_0x5096de[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x629'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20vPos\x20=\x20modelMatrix\x20*\x20vec4(\x20rotateVerticesInY(position,\x20iTime),\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vPos.y\x20+=\x20floatOffset\x20*\x20sin(iTime);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<logdepthbuf_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}},{'key':'create','value':function(_0x5096de){for(var _0x5096de=_0x5096de['radius'],_0x5096de=void 0x0===_0x5096de?0x5:_0x5096de,_0x5bda39=new THREE['Group'](),_0x11a351=new THREE[(_0x1cd8('0x62a'))](0x1,0x0),_0x1e014e=0x0,_0xbc49ea=_0x11a351[_0x1cd8('0x177')][_0x1cd8('0x3f')][_0x1cd8('0xed')],_0x4b0319=_0xbc49ea[_0x1cd8('0xc')];_0x1e014e<_0x4b0319;_0x1e014e+=0x3)0x1===_0xbc49ea[_0x1e014e+0x1]&&(_0xbc49ea[_0x1e014e+0x1]=0x2);var _0x83d2f9=new THREE['Mesh'](_0x11a351,this[_0x1cd8('0x47')]),_0x83d2f9=(_0x83d2f9[_0x1cd8('0x1f7')]['x']=-Math['PI'],_0x5bda39[_0x1cd8('0x1cd')](_0x83d2f9),new THREE[(_0x1cd8('0x30c'))](_0x11a351,this[_0x1cd8('0x624')]));return _0x83d2f9['rotation']['x']=-Math['PI'],_0x83d2f9[_0x1cd8('0x3f6')][_0x1cd8('0x1b')](1.01,1.01,1.01),_0x5bda39[_0x1cd8('0x1cd')](_0x83d2f9),_0x5bda39[_0x1cd8('0x3f6')]['set'](_0x5096de,_0x5096de,_0x5096de),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x5bda39),_0x5bda39;}},{'key':_0x1cd8('0x325'),'value':function(_0x5096de){this[_0x1cd8('0x497')][_0x1cd8('0x625')]&&this[_0x1cd8('0x497')][_0x1cd8('0x626')]&&(this[_0x1cd8('0x497')][_0x1cd8('0x625')]['uniforms'][_0x1cd8('0x3da')][_0x1cd8('0xf')]+=_0x5096de*this[_0x1cd8('0x326')],this[_0x1cd8('0x497')]['lineShader'][_0x1cd8('0x176')][_0x1cd8('0x3da')]['value']+=_0x5096de*this['speed']);}},{'key':'visible','set':function(_0x5096de){this[_0x1cd8('0x322')]&&(this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x5096de);}}]),_0x5bda39[_0x1cd8('0xa')]=_0x4b0319;},function(_0x1f4ea9,_0x34c759,_0x5134b1){'use strict';Object['defineProperty'](_0x34c759,_0x1cd8('0x6'),{'value':!0x0});var _0x3e7936=_0x599fa4(_0x5134b1(0x0));function _0x599fa4(_0x1f4ea9){return _0x1f4ea9&&_0x1f4ea9['__esModule']?_0x1f4ea9:{'default':_0x1f4ea9};}function _0x513231(){(0x0,_0x3e7936[_0x1cd8('0xa')])(this,_0x513231),this[_0x1cd8('0x322')]=null,this[_0x1cd8('0x47')]=null,this['radius']=0x0,this[_0x1cd8('0x62b')]={'centerHeight':0x3c,'swingHeight':0x1e,'speed':0.02};}(0x0,_0x599fa4(_0x5134b1(0x1))[_0x1cd8('0xa')])(_0x513231,[{'key':'create','value':function(_0x1f4ea9){var _0x34c759=_0x1f4ea9[_0x1cd8('0x9f')],_0x5134b1=_0x1f4ea9['radius'],_0x3e7936=_0x1f4ea9['height'],_0x599fa4=_0x1f4ea9[_0x1cd8('0x62c')],_0x1f4ea9=_0x1f4ea9[_0x1cd8('0x2f3')],_0x3e7936=new THREE['CylinderBufferGeometry'](_0x5134b1,_0x5134b1,_0x3e7936,0x20,0x1,!0x0,0x0,0x2*Math['PI']);return _0x34c759['wrapS']=THREE[_0x1cd8('0x32d')],_0x34c759[_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x34c759[_0x1cd8('0x2ea')]['x']=0x4,this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'side':THREE[_0x1cd8('0x2fe')],'transparent':!0x0,'map':_0x34c759,'depthWrite':!0x1}),_0x1f4ea9&&(this[_0x1cd8('0x47')][_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x1f4ea9)),this['object3d']=new THREE['Mesh'](_0x3e7936,this[_0x1cd8('0x47')]),this['radius']=_0x5134b1,_0x599fa4&&(_0x599fa4[_0x1cd8('0x62d')]&&_0x599fa4[_0x1cd8('0x62e')]&&(this[_0x1cd8('0x62b')]['centerHeight']=_0x599fa4[_0x1cd8('0x62d')],this[_0x1cd8('0x62b')][_0x1cd8('0x62e')]=_0x599fa4['swingHeight']),_0x599fa4['speed']&&(this[_0x1cd8('0x62b')]['speed']=_0x599fa4[_0x1cd8('0x326')])),this[_0x1cd8('0x322')];}},{'key':_0x1cd8('0x2d3'),'value':function(){this[_0x1cd8('0x322')]&&(this[_0x1cd8('0x322')]['rotation']['y']-=this[_0x1cd8('0x62b')][_0x1cd8('0x326')],this[_0x1cd8('0x322')]['position']['y']=Math['sin'](0.5*this[_0x1cd8('0x322')][_0x1cd8('0x1f7')]['y'])*this[_0x1cd8('0x62b')][_0x1cd8('0x62e')]+this['moveOpts']['centerHeight']);}},{'key':'visible','set':function(_0x1f4ea9){this[_0x1cd8('0x322')]&&(this['object3d']['visible']=_0x1f4ea9);}}]),_0x34c759['default']=_0x513231;},function(_0x20535f,_0x720ca5,_0x46f9a3){'use strict';Object['defineProperty'](_0x720ca5,_0x1cd8('0x6'),{'value':!0x0});var _0x3ad1ea=_0x1f9b8d(_0x46f9a3(0x0));function _0x1f9b8d(_0x20535f){return _0x20535f&&_0x20535f['__esModule']?_0x20535f:{'default':_0x20535f};}function _0x59c514(){(0x0,_0x3ad1ea[_0x1cd8('0xa')])(this,_0x59c514),this[_0x1cd8('0x322')]=null,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x62f')]=0x0;}(0x0,_0x1f9b8d(_0x46f9a3(0x1))[_0x1cd8('0xa')])(_0x59c514,[{'key':_0x1cd8('0x7'),'value':function(_0x20535f){var _0x720ca5=_0x20535f['colorStr'],_0x46f9a3=_0x20535f[_0x1cd8('0x9f')],_0x3ad1ea=_0x20535f[_0x1cd8('0x226')],_0x3ad1ea=void 0x0===_0x3ad1ea?0x64:_0x3ad1ea,_0x1f9b8d=_0x20535f['speed'],_0x1f9b8d=void 0x0===_0x1f9b8d?0x1:_0x1f9b8d,_0x20535f=_0x20535f['textureAngle'],_0x20535f=void 0x0===_0x20535f?0x0:_0x20535f,_0x3ad1ea=new THREE[(_0x1cd8('0x3e3'))](_0x3ad1ea,_0x3ad1ea);_0x46f9a3[_0x1cd8('0x1f7')]=THREE[_0x1cd8('0x15')][_0x1cd8('0x2cb')](_0x20535f),this[_0x1cd8('0x47')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0,'map':_0x46f9a3,'depthWrite':!0x1,'side':THREE['DoubleSide']}),_0x720ca5&&(this[_0x1cd8('0x47')][_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x720ca5)),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x30c'))](_0x3ad1ea,this['material']),this['object3d'][_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],this[_0x1cd8('0x62f')]=_0x1f9b8d;}},{'key':_0x1cd8('0x2d3'),'value':function(_0x20535f){this[_0x1cd8('0x322')]&&(this['object3d']['rotation']['z']+=_0x20535f*this['rotateSpeed']);}},{'key':'visible','set':function(_0x20535f){this[_0x1cd8('0x322')]&&(this['object3d']['visible']=_0x20535f);}}]),_0x720ca5[_0x1cd8('0xa')]=_0x59c514;},function(_0x421724,_0x25a755,_0x2a2c5e){'use strict';Object['defineProperty'](_0x25a755,_0x1cd8('0x6'),{'value':!0x0});var _0x3bca8f=_0x20d270(_0x2a2c5e(0x4)),_0x200ea8=_0x20d270(_0x2a2c5e(0x0)),_0x2a2c5e=_0x20d270(_0x2a2c5e(0x1));function _0x20d270(_0x421724){return _0x421724&&_0x421724[_0x1cd8('0x6')]?_0x421724:{'default':_0x421724};}(0x0,_0x2a2c5e['default'])(_0x24275e,[{'key':_0x1cd8('0x7'),'value':function(_0x421724){var _0x25a755=_0x421724['points'],_0x421724=_0x421724[_0x1cd8('0x9f')],_0x2a2c5e=[],_0x20d270=!0x0,_0x331087=!0x1,_0x370dbf=void 0x0;try{for(var _0x200ea8,_0x272b49=(0x0,_0x3bca8f['default'])(_0x25a755);!(_0x20d270=(_0x200ea8=_0x272b49['next']())[_0x1cd8('0x8e')]);_0x20d270=!0x0){var _0x46a5f9=_0x200ea8[_0x1cd8('0xf')];_0x2a2c5e[_0x1cd8('0x70')](new THREE['Vector3'](-_0x46a5f9['x'],(void 0x0!==_0x46a5f9[_0x1cd8('0x2f1')]?_0x46a5f9:this)[_0x1cd8('0x2f1')],_0x46a5f9['y']));}}catch(_0x31b7b4){_0x331087=!0x0,_0x370dbf=_0x31b7b4;}finally{try{!_0x20d270&&_0x272b49[_0x1cd8('0xa1')]&&_0x272b49['return']();}finally{if(_0x331087)throw _0x370dbf;}}for(var _0x3f3f61,_0x11ce18=_0x2a2c5e[0x0],_0x2280c6=new Float32Array(0x4*_0x2a2c5e['length']),_0x3ac20d=0x0,_0x1fe786=_0x2a2c5e[_0x1cd8('0xc')];_0x3ac20d<_0x1fe786;_0x3ac20d++)_0x2280c6[0x0+(_0x3f3f61=0x4*_0x3ac20d)]=_0x2a2c5e[_0x3ac20d]['x']-_0x11ce18['x'],_0x2280c6[0x1+_0x3f3f61]=_0x2a2c5e[_0x3ac20d]['y']-_0x11ce18['y'],_0x2280c6[0x2+_0x3f3f61]=_0x2a2c5e[_0x3ac20d]['z']-_0x11ce18['z'],_0x2280c6[0x3+_0x3f3f61]=_0x3ac20d;var _0x25a755=new THREE[(_0x1cd8('0x316'))](),_0x331087=new THREE[(_0x1cd8('0x445'))](_0x2280c6,0x4),_0x9390f3=(_0x25a755[_0x1cd8('0x1fb')]('position',new THREE[(_0x1cd8('0x447'))](_0x331087,0x3,0x0)),_0x25a755['addAttribute'](_0x1cd8('0x446'),new THREE['InterleavedBufferAttribute'](_0x331087,0x1,0x3)),this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x448'))]({'color':0xffffff,'map':_0x421724,'sizeAttenuation':!0x1,'size':this[_0x1cd8('0x43f')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0x1}),this[_0x1cd8('0x2f3')]&&(this[_0x1cd8('0x47')]['color']=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](this[_0x1cd8('0x2f3')])),this);return this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x421724){_0x421724[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':0x0},_0x421724[_0x1cd8('0x176')][_0x1cd8('0x630')]={'value':_0x9390f3[_0x1cd8('0x630')]},_0x421724[_0x1cd8('0x176')][_0x1cd8('0x631')]={'value':0x0},_0x421724['vertexShader']=_0x421724[_0x1cd8('0x3d4')]['replace'](_0x1cd8('0x11c'),_0x1cd8('0x632')),_0x421724['vertexShader']=_0x421724[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x44a'),_0x1cd8('0x633')),_0x9390f3[_0x1cd8('0x3d0')]=_0x421724;},this['points']=new THREE[(_0x1cd8('0xc7'))](_0x25a755,this[_0x1cd8('0x47')]),this['points']['renderOrder']=0x50,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](this['points']),this[_0x1cd8('0x440')];}},{'key':_0x1cd8('0x325'),'value':function(_0x421724){var _0x25a755;this[_0x1cd8('0x440')]&&this[_0x1cd8('0x3d0')]&&(0x4===this[_0x1cd8('0x630')]?(_0x25a755=this[_0x1cd8('0x2e2')][_0x1cd8('0x634')]()%this['period'],this[_0x1cd8('0x530')]-_0x25a755<0.5?this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x631')][_0x1cd8('0xf')]=0x1:this['shader']['uniforms'][_0x1cd8('0x631')][_0x1cd8('0xf')]=0x0):(this[_0x1cd8('0x10f')]+=_0x421724,this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x3da')][_0x1cd8('0xf')]=this[_0x1cd8('0x10f')]));}},{'key':_0x1cd8('0x327'),'set':function(_0x421724){this['points']&&(this[_0x1cd8('0x440')][_0x1cd8('0x327')]=_0x421724);}},{'key':_0x1cd8('0x455'),'set':function(_0x421724){this['points'][_0x1cd8('0x47')][_0x1cd8('0x2f9')]=!_0x421724,this['points'][_0x1cd8('0x47')][_0x1cd8('0x10b')]=!0x0;}}]);_0x2a2c5e=_0x24275e;function _0x24275e(_0x421724){var _0x25a755=_0x421724[_0x1cd8('0x43f')],_0x25a755=void 0x0===_0x25a755?0x32:_0x25a755,_0x2a2c5e=_0x421724[_0x1cd8('0x2f3')],_0x2a2c5e=void 0x0===_0x2a2c5e?_0x1cd8('0x481'):_0x2a2c5e,_0x20d270=_0x421724[_0x1cd8('0x2f1')],_0x20d270=void 0x0===_0x20d270?0.1:_0x20d270,_0x2a389b=_0x421724['animateType'],_0x2a389b=void 0x0===_0x2a389b?'':_0x2a389b,_0x2c8761=_0x421724[_0x1cd8('0x2e2')],_0x421724=_0x421724[_0x1cd8('0x530')],_0x421724=void 0x0===_0x421724?0x1:_0x421724;switch((0x0,_0x200ea8[_0x1cd8('0xa')])(this,_0x24275e),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x1cf'))](),this['object3d'][_0x1cd8('0x7f')]=_0x1cd8('0x434'),this[_0x1cd8('0x43f')]=_0x25a755,this[_0x1cd8('0x2f3')]=_0x2a2c5e,this['height']=_0x20d270,this[_0x1cd8('0x2e2')]=_0x2c8761,this[_0x1cd8('0x530')]=_0x421724,this[_0x1cd8('0x440')]=null,this['material']=null,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x442')]=[],_0x2a389b){case _0x1cd8('0x635'):this['animateType']=0x1;break;case _0x1cd8('0x636'):this[_0x1cd8('0x630')]=0x2;break;case _0x1cd8('0x637'):this[_0x1cd8('0x630')]=0x3;break;case _0x1cd8('0x638'):this['animateType']=0x4;break;default:this['animateType']=0x1;}this[_0x1cd8('0x10f')]=0x0;}_0x25a755[_0x1cd8('0xa')]=_0x2a2c5e;},function(_0x42bc63,_0x2e18f3,_0x41e43d){'use strict';Object[_0x1cd8('0x4')](_0x2e18f3,_0x1cd8('0x6'),{'value':!0x0});var _0x4c0cde=_0x11ef3a(_0x41e43d(0x0)),_0x3d9142=_0x11ef3a(_0x41e43d(0x1)),_0x127922=_0x11ef3a(_0x41e43d(0x81));function _0x11ef3a(_0x42bc63){return _0x42bc63&&_0x42bc63[_0x1cd8('0x6')]?_0x42bc63:{'default':_0x42bc63};}function _0x4fb816(_0x42bc63){_0x42bc63=_0x42bc63['map'];(0x0,_0x4c0cde[_0x1cd8('0xa')])(this,_0x4fb816),this[_0x1cd8('0xdf')]=_0x42bc63,this[_0x1cd8('0x639')]=[],this[_0x1cd8('0x63a')]=[],this[_0x1cd8('0x63b')]=!0x1;}(0x0,_0x3d9142[_0x1cd8('0xa')])(_0x4fb816,[{'key':_0x1cd8('0x63c'),'value':function(){this['isInit']||(this[_0x1cd8('0x63b')]=!0x0);}},{'key':_0x1cd8('0xde'),'value':function(){this[_0x1cd8('0x639')][_0x1cd8('0xc')]=0x0;}},{'key':_0x1cd8('0x63d'),'value':function(){var _0x42bc63=document[_0x1cd8('0x79')](_0x1cd8('0x470'));return _0x42bc63['width']=0x2,_0x42bc63['height']=0x2,_0x42bc63[_0x1cd8('0x471')]('2d')[_0x1cd8('0x4b5')]='#FFFFFF',new THREE[(_0x1cd8('0x63e'))](_0x42bc63);}},{'key':_0x1cd8('0x63f'),'value':function(_0x42bc63,_0x2e18f3){_0x42bc63[_0x1cd8('0x640')]||(_0x42bc63['aoMap']=this[_0x1cd8('0x63d')](),_0x42bc63[_0x1cd8('0x641')]=0x0),_0x42bc63[_0x1cd8('0x327')]=!0x0,_0x42bc63[_0x1cd8('0x175')][_0x1cd8('0x642')]='',_0x42bc63[_0x1cd8('0x1e1')]=!0x0;var _0x41e43d=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')](_0x2e18f3,function(){});_0x42bc63[_0x1cd8('0x3d2')]=function(_0x42bc63){_0x42bc63[_0x1cd8('0x176')][_0x1cd8('0x643')]={'value':_0x41e43d},_0x42bc63[_0x1cd8('0x56')]=_0x42bc63[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x644')),_0x42bc63[_0x1cd8('0x56')]=_0x42bc63[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x645'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaMaskTex,\x20vUv2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20alphaTexCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');};}},{'key':_0x1cd8('0x646'),'value':function(_0x42bc63,_0x2e18f3,_0x41e43d){var _0x4c0cde=this,_0x3d9142=(_0x42bc63['aoMap']||(_0x42bc63[_0x1cd8('0x640')]=this['createTexture'](),_0x42bc63[_0x1cd8('0x641')]=0x0),new THREE['TextureLoader']()[_0x1cd8('0x9d')](_0x2e18f3,function(){_0x4c0cde[_0x1cd8('0x639')]['push'](_0x3d9142);}));_0x3d9142['wrapS']=THREE[_0x1cd8('0x32d')],_0x3d9142[_0x1cd8('0x3f4')]=THREE['RepeatWrapping'],_0x3d9142[_0x1cd8('0x647')]=new THREE[(_0x1cd8('0x1c0'))](0x0,0x0),_0x3d9142[_0x1cd8('0x648')]=new THREE[(_0x1cd8('0x1c0'))](0x1,0x1),_0x41e43d&&(_0x3d9142[_0x1cd8('0x648')]=new THREE[(_0x1cd8('0x1c0'))](_0x41e43d['x'],_0x41e43d['y'])),_0x42bc63['onBeforeCompile']=function(_0x42bc63){_0x42bc63[_0x1cd8('0x176')][_0x1cd8('0x649')]={'value':_0x3d9142},_0x42bc63[_0x1cd8('0x176')][_0x1cd8('0x64a')]={'value':_0x3d9142[_0x1cd8('0x647')]},_0x42bc63[_0x1cd8('0x56')]=_0x42bc63[_0x1cd8('0x56')][_0x1cd8('0x23d')]('uniform\x20float\x20opacity;',_0x1cd8('0x64b')),_0x42bc63[_0x1cd8('0x56')]=_0x42bc63[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x61e'),_0x1cd8('0x64c'));};}},{'key':_0x1cd8('0x64d'),'value':function(_0x42bc63,_0x2e18f3){_0x2e18f3=new _0x127922[(_0x1cd8('0xa'))]({'timer':this[_0x1cd8('0xdf')][_0x1cd8('0x2e2')],'imageWidth':_0x2e18f3[_0x1cd8('0x64e')],'imageHeight':_0x2e18f3['imgHeight'],'xCount':_0x2e18f3[_0x1cd8('0x64f')],'yCount':_0x2e18f3[_0x1cd8('0x650')],'fps':_0x2e18f3[_0x1cd8('0x2e5')]});_0x2e18f3[_0x1cd8('0x7')](_0x42bc63),_0x42bc63['uvSpriteAnimate']=_0x2e18f3,this[_0x1cd8('0x63a')]['push'](_0x2e18f3);}},{'key':_0x1cd8('0x2d3'),'value':function(_0x42bc63){if(this[_0x1cd8('0x63b')]){for(var _0x2e18f3=0x0,_0x41e43d=this[_0x1cd8('0x639')]['length'];_0x2e18f3<_0x41e43d;_0x2e18f3++)this[_0x1cd8('0x639')][_0x2e18f3]['uvTranslate']&&(this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x651')]['x']&&(this[_0x1cd8('0x639')][_0x2e18f3]['offset']['x']+=_0x42bc63*this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x651')]['x']),this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x651')]['y']&&(this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x10a')]['y']+=_0x42bc63*this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x651')]['y'])),this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x647')]&&(void 0x0!==this['textures'][_0x2e18f3][_0x1cd8('0x647')]['x']&&(this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x647')]['x']+=_0x42bc63*this['textures'][_0x2e18f3][_0x1cd8('0x648')]['x']),void 0x0!==this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x647')]['y']&&(this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x647')]['y']+=_0x42bc63*this[_0x1cd8('0x639')][_0x2e18f3][_0x1cd8('0x648')]['y']));if(0x0<this[_0x1cd8('0x63a')]['length'])for(var _0x4c0cde=0x0,_0x3d9142=this[_0x1cd8('0x63a')][_0x1cd8('0xc')];_0x4c0cde<_0x3d9142;_0x4c0cde++)this[_0x1cd8('0x63a')][_0x4c0cde][_0x1cd8('0x2d3')]();}}},{'key':_0x1cd8('0xde'),'value':function(){for(var _0x42bc63=this[_0x1cd8('0x639')]['length']=0x0,_0x2e18f3=this['textureSprites'][_0x1cd8('0xc')];_0x42bc63<_0x2e18f3;_0x42bc63++)this[_0x1cd8('0x63a')][_0x42bc63][_0x1cd8('0x9f')]=null;this[_0x1cd8('0x63a')][_0x1cd8('0xc')]=0x0;}}]),_0x2e18f3[_0x1cd8('0xa')]=_0x4fb816;},function(_0xd837bc,_0x4b7276,_0x376b01){'use strict';Object[_0x1cd8('0x4')](_0x4b7276,_0x1cd8('0x6'),{'value':!0x0});var _0x243b18=_0x845da9(_0x376b01(0x0));function _0x845da9(_0xd837bc){return _0xd837bc&&_0xd837bc['__esModule']?_0xd837bc:{'default':_0xd837bc};}function _0x762cba(_0xd837bc){var _0x4b7276=_0xd837bc[_0x1cd8('0x9f')],_0x376b01=_0xd837bc[_0x1cd8('0x226')],_0x376b01=void 0x0===_0x376b01?0x64:_0x376b01,_0x845da9=_0xd837bc[_0x1cd8('0x2f1')],_0x845da9=void 0x0===_0x845da9?0x32:_0x845da9,_0x2ad6b4=_0xd837bc['colorStr'],_0x2ad6b4=void 0x0===_0x2ad6b4?_0x1cd8('0x400'):_0x2ad6b4,_0x5de0ed=_0xd837bc[_0x1cd8('0x326')],_0x5de0ed=void 0x0===_0x5de0ed?0.3:_0x5de0ed,_0xc91c8d=_0xd837bc['isCilpGround'],_0xc91c8d=void 0x0!==_0xc91c8d&&_0xc91c8d,_0xd837bc=_0xd837bc[_0x1cd8('0x53b')],_0xd837bc=void 0x0===_0xd837bc?0x0:_0xd837bc;(0x0,_0x243b18['default'])(this,_0x762cba),this['object3d']=new THREE['Object3D'](),this[_0x1cd8('0x9f')]=_0x4b7276,this[_0x1cd8('0x226')]=_0x376b01,this['height']=_0x845da9,this[_0x1cd8('0x2f3')]=_0x2ad6b4,this[_0x1cd8('0x10f')]=0x0,this['cincture']=null,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x3d0')]=null,this['cinctureCount']=0x0,this['speed']=_0x5de0ed,this[_0x1cd8('0x539')]=_0xc91c8d,this[_0x1cd8('0x53b')]=_0xd837bc;}(0x0,_0x845da9(_0x376b01(0x1))[_0x1cd8('0xa')])(_0x762cba,[{'key':_0x1cd8('0x7'),'value':function(){var _0xd837bc=new THREE['CylinderBufferGeometry'](this['radius'],this['radius'],this['height'],0x20,0x1,!0x0,0x0,0x2*Math['PI']),_0x4b7276=(this['texture'][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x9f')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'side':THREE[_0x1cd8('0x2fe')],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1cd8('0x1e0')]}),this[_0x1cd8('0x2f3')]&&(this[_0x1cd8('0x2f3')],this[_0x1cd8('0x47')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](this[_0x1cd8('0x2f3')])),this);return this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0xd837bc){_0xd837bc[_0x1cd8('0x176')]['lightIntensity']={'value':0x1},_0xd837bc[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x4b7276['texture']},_0xd837bc[_0x1cd8('0x176')][_0x1cd8('0x539')]={'value':_0x4b7276[_0x1cd8('0x539')]},_0xd837bc[_0x1cd8('0x176')][_0x1cd8('0x53b')]={'value':_0x4b7276[_0x1cd8('0x53b')]},_0xd837bc[_0x1cd8('0x3d4')]=_0xd837bc[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x652'),_0x1cd8('0x653')),_0xd837bc[_0x1cd8('0x3d4')]=_0xd837bc[_0x1cd8('0x3d4')]['replace'](_0x1cd8('0x408'),_0x1cd8('0x654')),_0xd837bc[_0x1cd8('0x56')]=_0xd837bc['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x655')),_0xd837bc['fragmentShader']=_0xd837bc[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x656')),_0x4b7276[_0x1cd8('0x3d0')]=_0xd837bc;},this['cincture']=new THREE[(_0x1cd8('0x30c'))](_0xd837bc,this[_0x1cd8('0x47')]),this[_0x1cd8('0x53c')][_0x1cd8('0x30d')]=0x45,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](this['cincture']),this[_0x1cd8('0x322')],this[_0x1cd8('0x322')];}},{'key':_0x1cd8('0x2d3'),'value':function(_0xd837bc){this[_0x1cd8('0x53c')]&&(this[_0x1cd8('0x657')]+=_0xd837bc*this[_0x1cd8('0x326')],0x1<this[_0x1cd8('0x657')]&&(this[_0x1cd8('0x657')]=0x0),_0xd837bc=0.5*(0x1-Math[_0x1cd8('0x59')](this[_0x1cd8('0x657')]*Math['PI']*0x2)),this[_0x1cd8('0x53c')]['scale']['x']=this[_0x1cd8('0x53c')][_0x1cd8('0x3f6')]['z']=1.5*(0x1-Math[_0x1cd8('0x59')](this[_0x1cd8('0x657')]*Math['PI']))*0.5+0.001,this['cincture'][_0x1cd8('0x3f6')]['y']=1.5*_0xd837bc+0.001,this[_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0xd837bc,this['shader']&&(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['lightIntensity']['value']=_0xd837bc));}},{'key':_0x1cd8('0x327'),'set':function(_0xd837bc){this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0xd837bc;},'get':function(){return this[_0x1cd8('0x322')]['visible'];}}]),_0x4b7276['default']=_0x762cba;},function(_0x53e8cc,_0xb30dd0,_0xd5dc93){'use strict';Object[_0x1cd8('0x4')](_0xb30dd0,_0x1cd8('0x6'),{'value':!0x0});var _0x35be14=_0x4f080f(_0xd5dc93(0x4)),_0x2a5b09=_0x4f080f(_0xd5dc93(0x0));function _0x4f080f(_0x53e8cc){return _0x53e8cc&&_0x53e8cc['__esModule']?_0x53e8cc:{'default':_0x53e8cc};}function _0x5b55f0(_0x53e8cc){var _0xb30dd0=_0x53e8cc[_0x1cd8('0x9f')],_0xd5dc93=_0x53e8cc[_0x1cd8('0x2f3')],_0xd5dc93=void 0x0===_0xd5dc93?_0x1cd8('0x400'):_0xd5dc93,_0x4f080f=_0x53e8cc[_0x1cd8('0x658')],_0x4f080f=void 0x0===_0x4f080f?_0x1cd8('0x659'):_0x4f080f,_0x6e7ad8=_0x53e8cc[_0x1cd8('0x3f6')],_0x6e7ad8=void 0x0===_0x6e7ad8?0x14:_0x6e7ad8,_0x200c1c=_0x53e8cc[_0x1cd8('0x326')],_0x200c1c=void 0x0===_0x200c1c?0.005:_0x200c1c,_0x2087b2=_0x53e8cc['isTransparentLight'],_0x2087b2=void 0x0===_0x2087b2||_0x2087b2,_0x210e65=_0x53e8cc['isScrollX'],_0x210e65=void 0x0!==_0x210e65&&_0x210e65,_0x324837=_0x53e8cc[_0x1cd8('0x548')],_0x324837=void 0x0===_0x324837?0xa:_0x324837,_0x53e8cc=_0x53e8cc[_0x1cd8('0x65a')],_0x53e8cc=void 0x0!==_0x53e8cc&&_0x53e8cc;(0x0,_0x2a5b09['default'])(this,_0x5b55f0),this['enabled']=!0x0,this['object3d']=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x9f')]=_0xb30dd0,this[_0x1cd8('0x401')]=null,this['lineParams']={'spline':_0x1cd8('0x65b'),'scale':_0x6e7ad8,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this['height']=0x19,this[_0x1cd8('0x65c')]=[],this[_0x1cd8('0x65d')]=[],this[_0x1cd8('0x65e')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x3dd')]=_0x200c1c,this[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0xd5dc93),this['focusColor']=new THREE['Color']()[_0x1cd8('0x2f5')](_0x4f080f),this[_0x1cd8('0x549')]=null,this['shader']=null,this[_0x1cd8('0x65f')]=null,this[_0x1cd8('0x660')]=_0x210e65,this[_0x1cd8('0x548')]=_0x324837,this['isClockWise']=_0x53e8cc,this[_0x1cd8('0x2f2')](_0x2087b2);}(0x0,_0x4f080f(_0xd5dc93(0x1))[_0x1cd8('0xa')])(_0x5b55f0,[{'key':'createMaterial','value':function(_0x53e8cc){this[_0x1cd8('0x549')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'transparent':!0x0,'depthWrite':!0x1}),_0x53e8cc&&(this[_0x1cd8('0x549')][_0x1cd8('0x1df')]=THREE[_0x1cd8('0x1e0')]),this['wallMaterial']['color']=this['color'],this[_0x1cd8('0x9f')][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x9f')]['wrapT']=THREE[_0x1cd8('0x32d')];var _0xb30dd0=this;this[_0x1cd8('0x660')]?(this[_0x1cd8('0x549')]['side']=THREE[_0x1cd8('0x661')],this[_0x1cd8('0x9f')]['repeat']['y']=0x2,this[_0x1cd8('0x9f')][_0x1cd8('0x2ea')]['x']=0xa,this[_0x1cd8('0x549')][_0x1cd8('0xdf')]=this[_0x1cd8('0x9f')]):(this[_0x1cd8('0x549')][_0x1cd8('0x35f')]=THREE[_0x1cd8('0x2fe')],this[_0x1cd8('0x549')][_0x1cd8('0x3d2')]=function(_0x53e8cc){_0x53e8cc[_0x1cd8('0x176')]['iTime']={'value':0x0},_0x53e8cc[_0x1cd8('0x176')][_0x1cd8('0x662')]={'value':0x1},_0x53e8cc[_0x1cd8('0x176')][_0x1cd8('0x663')]={'value':_0xb30dd0[_0x1cd8('0x9f')]},_0x53e8cc[_0x1cd8('0x3d4')]=_0x53e8cc[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<uv2_pars_vertex>',_0x1cd8('0x664')),_0x53e8cc['vertexShader']=_0x53e8cc[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x53e8cc['fragmentShader']=_0x53e8cc[_0x1cd8('0x56')]['replace']('uniform\x20float\x20opacity;',_0x1cd8('0x665')),_0x53e8cc[_0x1cd8('0x56')]=_0x53e8cc[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x666')),_0xb30dd0[_0x1cd8('0x3d0')]=_0x53e8cc;});}},{'key':_0x1cd8('0x667'),'value':function(_0x53e8cc){var _0xb30dd0=_0x53e8cc[_0x1cd8('0x440')],_0xd5dc93=_0x53e8cc[_0x1cd8('0x668')],_0x4f080f=_0x53e8cc[_0x1cd8('0x546')],_0x4f080f=void 0x0===_0x4f080f?0x5:_0x4f080f,_0x53e8cc=_0x53e8cc[_0x1cd8('0x576')],_0x58676a=_0xb30dd0[0x0],_0x447047=[],_0x912649=!0x0,_0x2de02b=!0x1,_0x3e1aac=void 0x0;try{for(var _0x2a5b09,_0x5b55f0=(0x0,_0x35be14['default'])(_0xb30dd0);!(_0x912649=(_0x2a5b09=_0x5b55f0[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x912649=!0x0){var _0xcf422e=_0x2a5b09[_0x1cd8('0xf')],_0xdc259a=_0xcf422e['x']-_0x58676a['x'],_0x1be8a2=_0xcf422e['z']-_0x58676a['z'];_0x447047[_0x1cd8('0x70')]({'x':_0xdc259a,'y':_0x1be8a2});}}catch(_0x50514e){_0x2de02b=!0x0,_0x3e1aac=_0x50514e;}finally{try{!_0x912649&&_0x5b55f0[_0x1cd8('0xa1')]&&_0x5b55f0[_0x1cd8('0xa1')]();}finally{if(_0x2de02b)throw _0x3e1aac;}}_0x53e8cc||_0x447047[_0x1cd8('0x70')]({'x':0x0,'y':0x0});_0xb30dd0=null,(_0xb30dd0=this['isScrollX']?this['addWallScrollXGeometry']({'points':_0x447047,'height':_0x4f080f}):this[_0x1cd8('0x669')]({'points':_0x447047,'height':_0x4f080f}))['computeBoundingBox'](),_0x2de02b=new THREE[(_0x1cd8('0x30c'))](_0xb30dd0,this[_0x1cd8('0x549')]);return _0x2de02b[_0x1cd8('0x30d')]=0x47,_0x2de02b[_0x1cd8('0x668')]=_0xd5dc93,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x2de02b),this['extentWallList'][_0x1cd8('0x70')]({'id':_0xd5dc93,'mesh':_0x2de02b}),_0x2de02b;}},{'key':_0x1cd8('0x66a'),'value':function(_0xb30dd0){var _0x53e8cc=_0xb30dd0[_0x1cd8('0x440')],_0x53e8cc=void 0x0===_0x53e8cc?[]:_0x53e8cc,_0xb30dd0=_0xb30dd0[_0x1cd8('0x2f1')],_0xd5dc93=void 0x0===_0xb30dd0?0x0:_0xb30dd0,_0x4f080f=[],_0x4d36f1=!0x0,_0xb30dd0=!0x1,_0x4b69ed=void 0x0;try{for(var _0x3f33f2,_0x451f99=(0x0,_0x35be14[_0x1cd8('0xa')])(_0x53e8cc);!(_0x4d36f1=(_0x3f33f2=_0x451f99['next']())[_0x1cd8('0x8e')]);_0x4d36f1=!0x0){var _0x3eeeee=_0x3f33f2[_0x1cd8('0xf')];_0x4f080f[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](_0x3eeeee['x'],_0xd5dc93,_0x3eeeee['y']));}}catch(_0x231552){_0xb30dd0=!0x0,_0x4b69ed=_0x231552;}finally{try{!_0x4d36f1&&_0x451f99['return']&&_0x451f99[_0x1cd8('0xa1')]();}finally{if(_0xb30dd0)throw _0x4b69ed;}}_0x53e8cc=new THREE[(_0x1cd8('0x4c2'))](_0x4f080f,!0x1,_0x1cd8('0x66b'),0.01),_0xb30dd0=new THREE[(_0x1cd8('0x43d'))](_0x53e8cc,this[_0x1cd8('0x66c')][_0x1cd8('0x66d')],this[_0x1cd8('0x66c')]['scale'],this[_0x1cd8('0x66c')]['radiusSegments'],this[_0x1cd8('0x66c')][_0x1cd8('0x66e')]);return _0xb30dd0['computeBoundingBox'](),_0xb30dd0;}},{'key':_0x1cd8('0x669'),'value':function(_0x53e8cc){for(var _0xb30dd0=_0x53e8cc[_0x1cd8('0x440')],_0xd5dc93=void 0x0===_0xb30dd0?[]:_0xb30dd0,_0xb30dd0=_0x53e8cc[_0x1cd8('0x2f1')],_0x4f080f=void 0x0===_0xb30dd0?0x0:_0xb30dd0,_0x24cd0b=[],_0x16ad09=[],_0x46c549=0x0,_0x3ef95f=_0x24cd0b[_0x1cd8('0xc')],_0x363fc2=_0x16ad09[_0x1cd8('0xc')];_0x46c549<_0xd5dc93[_0x1cd8('0xc')]-0x1;_0x46c549++){var _0x2a5b09=_0xd5dc93[_0x46c549],_0x5b55f0=_0xd5dc93[_0x46c549+0x1];_0x24cd0b[_0x3ef95f++]=_0x2a5b09['x'],_0x24cd0b[_0x3ef95f++]=0x0,_0x24cd0b[_0x3ef95f++]=_0x2a5b09['y'],_0x16ad09[_0x363fc2++]=0x0,_0x16ad09[_0x363fc2++]=0x0,_0x24cd0b[_0x3ef95f++]=_0x5b55f0['x'],_0x24cd0b[_0x3ef95f++]=0x0,_0x24cd0b[_0x3ef95f++]=_0x5b55f0['y'],_0x16ad09[_0x363fc2++]=0x1,_0x16ad09[_0x363fc2++]=0x0,_0x24cd0b[_0x3ef95f++]=_0x2a5b09['x'],_0x24cd0b[_0x3ef95f++]=_0x4f080f,_0x24cd0b[_0x3ef95f++]=_0x2a5b09['y'],_0x16ad09[_0x363fc2++]=0x0,_0x16ad09[_0x363fc2++]=0x1,_0x24cd0b[_0x3ef95f++]=_0x2a5b09['x'],_0x24cd0b[_0x3ef95f++]=_0x4f080f,_0x24cd0b[_0x3ef95f++]=_0x2a5b09['y'],_0x16ad09[_0x363fc2++]=0x0,_0x16ad09[_0x363fc2++]=0x1,_0x24cd0b[_0x3ef95f++]=_0x5b55f0['x'],_0x24cd0b[_0x3ef95f++]=0x0,_0x24cd0b[_0x3ef95f++]=_0x5b55f0['y'],_0x16ad09[_0x363fc2++]=0x1,_0x16ad09[_0x363fc2++]=0x0,_0x24cd0b[_0x3ef95f++]=_0x5b55f0['x'],_0x24cd0b[_0x3ef95f++]=_0x4f080f,_0x24cd0b[_0x3ef95f++]=_0x5b55f0['y'],_0x16ad09[_0x363fc2++]=0x1,_0x16ad09[_0x363fc2++]=0x1;}_0x53e8cc=new THREE[(_0x1cd8('0x316'))]();return _0x53e8cc[_0x1cd8('0x1fb')](_0x1cd8('0x3f'),new THREE['BufferAttribute'](new Float32Array(_0x24cd0b),0x3)),_0x53e8cc[_0x1cd8('0x1fb')]('uv',new THREE[(_0x1cd8('0x381'))](new Float32Array(_0x16ad09),0x2)),_0x53e8cc;}},{'key':_0x1cd8('0x66f'),'value':function(_0x53e8cc){_0x53e8cc=this[_0x1cd8('0x670')](_0x53e8cc),_0x53e8cc=new THREE['Mesh'](new THREE['ShapeBufferGeometry'](_0x53e8cc),this[_0x1cd8('0x65f')]);return _0x53e8cc['rotateX'](0.5*-Math['PI']),_0x53e8cc[_0x1cd8('0x3f')]['y']=0x0,_0x53e8cc;}},{'key':_0x1cd8('0x670'),'value':function(_0x53e8cc){var _0xb30dd0=new THREE[(_0x1cd8('0x671'))](),_0xd5dc93=(_0xb30dd0[_0x1cd8('0x672')](0x0,0x0),!0x0),_0x4f080f=!0x1,_0x2149c5=void 0x0;try{for(var _0x4c4c67,_0x570f05=(0x0,_0x35be14[_0x1cd8('0xa')])(_0x53e8cc);!(_0xd5dc93=(_0x4c4c67=_0x570f05[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xd5dc93=!0x0){var _0x3a41f0=_0x4c4c67[_0x1cd8('0xf')];_0xb30dd0[_0x1cd8('0x673')](_0x3a41f0['x'],-_0x3a41f0['z']);}}catch(_0x5701d4){_0x4f080f=!0x0,_0x2149c5=_0x5701d4;}finally{try{!_0xd5dc93&&_0x570f05[_0x1cd8('0xa1')]&&_0x570f05[_0x1cd8('0xa1')]();}finally{if(_0x4f080f)throw _0x2149c5;}}return _0xb30dd0;}},{'key':_0x1cd8('0x325'),'value':function(){this[_0x1cd8('0x41d')]&&this['shader']?(this['count']-=this[_0x1cd8('0x3dd')],this['shader']['uniforms'][_0x1cd8('0x3da')][_0x1cd8('0xf')]=this[_0x1cd8('0x10f')]):this['isScrollX']&&(this['count']=this['isClockWise']?this[_0x1cd8('0x10f')]+this[_0x1cd8('0x3dd')]:this[_0x1cd8('0x10f')]-this[_0x1cd8('0x3dd')],this[_0x1cd8('0x549')][_0x1cd8('0xdf')]['offset']['x']=this['count']);}},{'key':'checkIsHaveId','value':function(_0x53e8cc){var _0xb30dd0=!0x0,_0xd5dc93=!0x1,_0x4f080f=void 0x0;try{for(var _0x18a235,_0x5afdc6=(0x0,_0x35be14['default'])(this[_0x1cd8('0x65c')]);!(_0xb30dd0=(_0x18a235=_0x5afdc6['next']())[_0x1cd8('0x8e')]);_0xb30dd0=!0x0)if(_0x18a235[_0x1cd8('0xf')]===_0x53e8cc)return!0x0;}catch(_0x264fbc){_0xd5dc93=!0x0,_0x4f080f=_0x264fbc;}finally{try{!_0xb30dd0&&_0x5afdc6[_0x1cd8('0xa1')]&&_0x5afdc6[_0x1cd8('0xa1')]();}finally{if(_0xd5dc93)throw _0x4f080f;}}return!0x1;}},{'key':'getExtentWall','value':function(_0x53e8cc){var _0xb30dd0=!0x0,_0xd5dc93=!0x1,_0x4f080f=void 0x0;try{for(var _0x5def8a,_0x25a278=(0x0,_0x35be14['default'])(this[_0x1cd8('0x65d')]);!(_0xb30dd0=(_0x5def8a=_0x25a278[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xb30dd0=!0x0){var _0x2c1e2e=_0x5def8a['value'];if(_0x2c1e2e['id']===_0x53e8cc)return _0x2c1e2e;}}catch(_0x37c9fa){_0xd5dc93=!0x0,_0x4f080f=_0x37c9fa;}finally{try{!_0xb30dd0&&_0x25a278[_0x1cd8('0xa1')]&&_0x25a278[_0x1cd8('0xa1')]();}finally{if(_0xd5dc93)throw _0x4f080f;}}return null;}},{'key':_0x1cd8('0x674'),'value':function(_0x53e8cc){var _0xb30dd0=_0x53e8cc['extentId'],_0x53e8cc=_0x53e8cc[_0x1cd8('0x675')],_0x53e8cc=void 0x0===_0x53e8cc||_0x53e8cc,_0xd5dc93=this[_0x1cd8('0x676')](_0xb30dd0);_0xd5dc93&&(this[_0x1cd8('0x65e')]=_0xb30dd0,_0xd5dc93['mesh'][_0x1cd8('0x47')]['color'][_0x1cd8('0x1c6')](this[_0x1cd8('0x677')]),_0x53e8cc&&this['startPopAnimate'](_0xd5dc93[_0x1cd8('0x428')]),this[_0x1cd8('0x678')](!0x1),_0xd5dc93['mesh'][_0x1cd8('0x327')]=!0x0);}},{'key':_0x1cd8('0x679'),'value':function(){var _0x53e8cc;this[_0x1cd8('0x65e')]&&(this[_0x1cd8('0x678')](!0x0),(_0x53e8cc=this[_0x1cd8('0x676')](this['_focusExtentId']))['mesh']['material']['color'][_0x1cd8('0x1c6')](_0x53e8cc[_0x1cd8('0x428')][_0x1cd8('0x67a')]),this['_focusExtentId']=null);}},{'key':_0x1cd8('0x67b'),'value':function(_0x53e8cc){_0x53e8cc[_0x1cd8('0x3f')]['y']=-0x19;var _0xb30dd0=new THREE[(_0x1cd8('0x57'))]()['copy'](_0x53e8cc[_0x1cd8('0x3f')]);_0xb30dd0['y']=0x19,new TWEEN[(_0x1cd8('0x2cd'))](_0x53e8cc[_0x1cd8('0x3f')])['to'](_0xb30dd0,0x3e8)['easing'](TWEEN['Easing'][_0x1cd8('0x67c')]['Out'])['start']();}},{'key':_0x1cd8('0x678'),'value':function(_0x53e8cc){var _0xb30dd0=!0x0,_0xd5dc93=!0x1,_0x4f080f=void 0x0;try{for(var _0x3e77a1,_0x31c881=(0x0,_0x35be14[_0x1cd8('0xa')])(this[_0x1cd8('0x65d')]);!(_0xb30dd0=(_0x3e77a1=_0x31c881[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xb30dd0=!0x0)_0x3e77a1[_0x1cd8('0xf')][_0x1cd8('0x428')]['visible']=_0x53e8cc;}catch(_0xf1d43b){_0xd5dc93=!0x0,_0x4f080f=_0xf1d43b;}finally{try{!_0xb30dd0&&_0x31c881[_0x1cd8('0xa1')]&&_0x31c881['return']();}finally{if(_0xd5dc93)throw _0x4f080f;}}}},{'key':_0x1cd8('0x327'),'set':function(_0x53e8cc){this[_0x1cd8('0x678')](_0x53e8cc);}}]),_0xb30dd0[_0x1cd8('0xa')]=_0x5b55f0;},function(_0x31d94a,_0x3b25dd,_0x513ea3){'use strict';Object[_0x1cd8('0x4')](_0x3b25dd,_0x1cd8('0x6'),{'value':!0x0});var _0x350355=_0x1a952c(_0x513ea3(0x4)),_0x181bbc=_0x1a952c(_0x513ea3(0x0));function _0x1a952c(_0x31d94a){return _0x31d94a&&_0x31d94a['__esModule']?_0x31d94a:{'default':_0x31d94a};}function _0x427de8(_0x31d94a){var _0x3b25dd=_0x31d94a[_0x1cd8('0x9f')],_0x513ea3=_0x31d94a['colorStr'],_0x513ea3=void 0x0===_0x513ea3?_0x1cd8('0x400'):_0x513ea3,_0x1a952c=_0x31d94a[_0x1cd8('0x658')],_0x1a952c=void 0x0===_0x1a952c?_0x1cd8('0x659'):_0x1a952c,_0x483ade=_0x31d94a[_0x1cd8('0x401')],_0x18f801=_0x31d94a[_0x1cd8('0x67d')],_0x485a5e=_0x31d94a[_0x1cd8('0x3f6')],_0x485a5e=void 0x0===_0x485a5e?0x14:_0x485a5e,_0x31d94a=_0x31d94a[_0x1cd8('0x326')],_0x31d94a=void 0x0===_0x31d94a?0.004:_0x31d94a;(0x0,_0x181bbc['default'])(this,_0x427de8),this['enabled']=!0x0,this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x9f')]=_0x3b25dd,this[_0x1cd8('0x401')]=null,this['groundColor']=null,_0x18f801&&(this[_0x1cd8('0x67e')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x18f801),this[_0x1cd8('0x401')]=_0x483ade,this['alphaTex'][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x401')]['wrapS']=THREE[_0x1cd8('0x32d')]),this[_0x1cd8('0x66c')]={'spline':_0x1cd8('0x65b'),'scale':_0x485a5e,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this[_0x1cd8('0x2f1')]=0x19,this[_0x1cd8('0x65c')]=[],this[_0x1cd8('0x65d')]=[],this[_0x1cd8('0x65e')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x3dd')]=_0x31d94a,this[_0x1cd8('0x220')]=new THREE['Color']()[_0x1cd8('0x2f5')](_0x513ea3),this[_0x1cd8('0x677')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x1a952c),this[_0x1cd8('0x549')]=null,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x65f')]=null,this[_0x1cd8('0x2f2')]();}(0x0,_0x1a952c(_0x513ea3(0x1))[_0x1cd8('0xa')])(_0x427de8,[{'key':_0x1cd8('0x2f2'),'value':function(){this[_0x1cd8('0x549')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'transparent':!0x0}),this['wallMaterial'][_0x1cd8('0x220')]=this[_0x1cd8('0x220')],this[_0x1cd8('0x9f')][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x9f')]['wrapT']=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x9f')][_0x1cd8('0x2ea')]['y']=0x1,this[_0x1cd8('0x9f')][_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0x549')][_0x1cd8('0xdf')]=this[_0x1cd8('0x9f')];var _0x3b25dd=this;this[_0x1cd8('0x67e')]&&(this[_0x1cd8('0x65f')]=new THREE[(_0x1cd8('0x3d1'))]({'color':this[_0x1cd8('0x67e')],'transparent':!0x0,'depthWrite':!0x1}),this[_0x1cd8('0x65f')][_0x1cd8('0x3d2')]=function(_0x31d94a){_0x31d94a[_0x1cd8('0x176')][_0x1cd8('0x401')]={'value':_0x3b25dd[_0x1cd8('0x401')]},_0x31d94a['vertexShader']=_0x31d94a[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x652'),_0x1cd8('0x67f')),_0x31d94a[_0x1cd8('0x3d4')]=_0x31d94a[_0x1cd8('0x3d4')]['replace']('#include\x20<uv2_vertex>',_0x1cd8('0x680')),_0x31d94a[_0x1cd8('0x56')]=_0x31d94a[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x681')),_0x31d94a[_0x1cd8('0x56')]=_0x31d94a[_0x1cd8('0x56')][_0x1cd8('0x23d')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1cd8('0x682'));});}},{'key':_0x1cd8('0x667'),'value':function(_0x31d94a){var _0x3b25dd=_0x31d94a[_0x1cd8('0x440')],_0x31d94a=_0x31d94a['extentId'],_0x513ea3=_0x3b25dd[0x0],_0x1a952c=[],_0x5278b4=!0x0,_0x322a80=!0x1,_0x28f31e=void 0x0;try{for(var _0x181bbc,_0x427de8=(0x0,_0x350355[_0x1cd8('0xa')])(_0x3b25dd);!(_0x5278b4=(_0x181bbc=_0x427de8[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x5278b4=!0x0){var _0x233283=_0x181bbc[_0x1cd8('0xf')],_0x2a71c1=_0x233283['x']-_0x513ea3['x'],_0x287a3e=_0x233283['y']-_0x513ea3['y'],_0x1eca37=_0x233283['z']-_0x513ea3['z'];_0x1a952c[_0x1cd8('0x70')](new THREE['Vector3'](_0x2a71c1,_0x287a3e,_0x1eca37));}}catch(_0xf34108){_0x322a80=!0x0,_0x28f31e=_0xf34108;}finally{try{!_0x5278b4&&_0x427de8[_0x1cd8('0xa1')]&&_0x427de8[_0x1cd8('0xa1')]();}finally{if(_0x322a80)throw _0x28f31e;}}_0x1a952c['push'](new THREE['Vector3']());var _0x3b25dd=new THREE[(_0x1cd8('0x4c2'))](_0x1a952c,!0x1,'catmullrom',0.01),_0x322a80=new THREE[(_0x1cd8('0x43d'))](_0x3b25dd,this[_0x1cd8('0x66c')][_0x1cd8('0x66d')],this['lineParams']['scale'],this[_0x1cd8('0x66c')][_0x1cd8('0x683')],this['lineParams'][_0x1cd8('0x66e')]),_0x28f31e=(_0x322a80['computeBoundingBox'](),_0x322a80[_0x1cd8('0x684')][_0x1cd8('0x685')]()),_0x3b25dd={'x':-_0x513ea3['x']-_0x28f31e['x'],'y':_0x513ea3['z']+_0x28f31e['z']},_0x28f31e=new THREE[(_0x1cd8('0x30c'))](_0x322a80,this[_0x1cd8('0x549')]);return _0x28f31e[_0x1cd8('0x30d')]=0x47,_0x28f31e[_0x1cd8('0x668')]=_0x31d94a,_0x28f31e[_0x1cd8('0x67a')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x1c6')](this[_0x1cd8('0x549')][_0x1cd8('0x220')]),this[_0x1cd8('0x67e')]&&(_0x322a80=this[_0x1cd8('0x66f')](_0x1a952c,this[_0x1cd8('0x67e')]),_0x28f31e[_0x1cd8('0x1cd')](_0x322a80)),this['object3d'][_0x1cd8('0x1cd')](_0x28f31e),this[_0x1cd8('0x65d')][_0x1cd8('0x70')]({'id':_0x31d94a,'mesh':_0x28f31e,'center':{'x':_0x3b25dd['x'],'y':_0x3b25dd['y']}}),_0x28f31e;}},{'key':_0x1cd8('0x66f'),'value':function(_0x31d94a){_0x31d94a=this[_0x1cd8('0x670')](_0x31d94a),_0x31d94a=new THREE['Mesh'](new THREE[(_0x1cd8('0x686'))](_0x31d94a),this[_0x1cd8('0x65f')]);return _0x31d94a[_0x1cd8('0x3f9')](0.5*-Math['PI']),_0x31d94a['position']['y']=-0x14,_0x31d94a;}},{'key':_0x1cd8('0x670'),'value':function(_0x31d94a){var _0x3b25dd=new THREE[(_0x1cd8('0x671'))](),_0x513ea3=(_0x3b25dd[_0x1cd8('0x672')](0x0,0x0),!0x0),_0x1a952c=!0x1,_0x2ff236=void 0x0;try{for(var _0x553b49,_0x823f70=(0x0,_0x350355[_0x1cd8('0xa')])(_0x31d94a);!(_0x513ea3=(_0x553b49=_0x823f70['next']())[_0x1cd8('0x8e')]);_0x513ea3=!0x0){var _0x181bbc=_0x553b49[_0x1cd8('0xf')];_0x3b25dd[_0x1cd8('0x673')](_0x181bbc['x'],-_0x181bbc['z']);}}catch(_0x4787a1){_0x1a952c=!0x0,_0x2ff236=_0x4787a1;}finally{try{!_0x513ea3&&_0x823f70[_0x1cd8('0xa1')]&&_0x823f70[_0x1cd8('0xa1')]();}finally{if(_0x1a952c)throw _0x2ff236;}}return _0x3b25dd;}},{'key':'render','value':function(){this[_0x1cd8('0x41d')]&&this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]-=this[_0x1cd8('0x3dd')],this[_0x1cd8('0x549')][_0x1cd8('0xdf')][_0x1cd8('0x10a')]['x']=this[_0x1cd8('0x10f')]);}}]),_0x3b25dd[_0x1cd8('0xa')]=_0x427de8;},function(_0x35720b,_0x59dc3a,_0x47843a){'use strict';Object[_0x1cd8('0x4')](_0x59dc3a,'__esModule',{'value':!0x0});var _0x214fe2=_0x1a0777(_0x47843a(0x4)),_0x134514=_0x1a0777(_0x47843a(0x0)),_0xa22181=_0x1a0777(_0x47843a(0x1)),_0x5f4f24=_0x1a0777(_0x47843a(0x46));function _0x1a0777(_0x35720b){return _0x35720b&&_0x35720b[_0x1cd8('0x6')]?_0x35720b:{'default':_0x35720b};}function _0x4afc3d(_0x35720b){var _0x59dc3a=_0x35720b[_0x1cd8('0x2f3')],_0x59dc3a=void 0x0===_0x59dc3a?_0x1cd8('0x400'):_0x59dc3a,_0x47843a=_0x35720b[_0x1cd8('0x328')],_0x47843a=void 0x0===_0x47843a?_0x1cd8('0x439'):_0x47843a,_0xa22181=_0x35720b[_0x1cd8('0x1e3')],_0xa22181=void 0x0===_0xa22181||_0xa22181,_0x35720b=_0x35720b['opacity'],_0x35720b=void 0x0===_0x35720b?0.4:_0x35720b;(0x0,_0x134514[_0x1cd8('0xa')])(this,_0x4afc3d),this[_0x1cd8('0xe2')]=null,this[_0x1cd8('0x328')]=_0x47843a,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x687')]=[],_0x1cd8('0x688')!==_0x47843a&&(this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x689'))]({'color':0xffffff}),this[_0x1cd8('0x47')][_0x1cd8('0x1e3')]=_0xa22181,_0x35720b<0x1&&(this[_0x1cd8('0x47')][_0x1cd8('0x1e1')]=!0x0,this[_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0x35720b),_0x59dc3a&&(this[_0x1cd8('0x47')]['color']=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x59dc3a)));}(0x0,_0xa22181[_0x1cd8('0xa')])(_0x4afc3d,[{'key':'createLineFrame','value':function(_0x35720b,_0x59dc3a){this[_0x1cd8('0xe2')]=_0x35720b;_0x35720b=new THREE[(_0x1cd8('0x68a'))](_0x59dc3a),_0x59dc3a=new THREE[(_0x1cd8('0x68b'))](_0x35720b,this[_0x1cd8('0x47')]);return _0x59dc3a['renderOrder']=0x4f,this[_0x1cd8('0xe2')][_0x1cd8('0x1cd')](_0x59dc3a),this[_0x1cd8('0x687')][_0x1cd8('0x70')](_0x59dc3a),_0x59dc3a;}},{'key':_0x1cd8('0xde'),'value':function(){if(this[_0x1cd8('0xe2')]){var _0x35720b=!0x0,_0x59dc3a=!0x1,_0x47843a=void 0x0;try{for(var _0xa22181,_0x134514=(0x0,_0x214fe2[_0x1cd8('0xa')])(this[_0x1cd8('0x687')]);!(_0x35720b=(_0xa22181=_0x134514[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x35720b=!0x0){var _0x1a0777=_0xa22181[_0x1cd8('0xf')];this[_0x1cd8('0xe2')]['remove'](_0x1a0777),_0x5f4f24[_0x1cd8('0xa')][_0x1cd8('0x68c')](_0x1a0777);}}catch(_0x546361){_0x59dc3a=!0x0,_0x47843a=_0x546361;}finally{try{!_0x35720b&&_0x134514[_0x1cd8('0xa1')]&&_0x134514['return']();}finally{if(_0x59dc3a)throw _0x47843a;}}this['lineList']=[];}}}]),_0x59dc3a[_0x1cd8('0xa')]=_0x4afc3d;},function(_0x1b2451,_0x528e48,_0x5d5440){'use strict';Object[_0x1cd8('0x4')](_0x528e48,'__esModule',{'value':!0x0});var _0x46dd1b=_0x2e3885(_0x5d5440(0x0)),_0x17719f=_0x2e3885(_0x5d5440(0x1)),_0x49eb2a=_0x2e3885(_0x5d5440(0xbc));function _0x2e3885(_0x1b2451){return _0x1b2451&&_0x1b2451[_0x1cd8('0x6')]?_0x1b2451:{'default':_0x1b2451};}function _0x20c402(_0x1b2451){var _0x528e48=_0x1b2451[_0x1cd8('0x2f3')],_0x528e48=void 0x0===_0x528e48?_0x1cd8('0x481'):_0x528e48,_0x5d5440=_0x1b2451[_0x1cd8('0x226')],_0x1b2451=_0x1b2451[_0x1cd8('0x326')],_0x1b2451=void 0x0===_0x1b2451?0x1:_0x1b2451;(0x0,_0x46dd1b['default'])(this,_0x20c402),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x2f3')]=_0x528e48,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x3dc')]=null,this[_0x1cd8('0x226')]=_0x5d5440||0xc8,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x326')]=_0x1b2451,this[_0x1cd8('0x2f2')](_0x528e48);}(0x0,_0x17719f[_0x1cd8('0xa')])(_0x20c402,[{'key':_0x1cd8('0x2f2'),'value':function(){var _0x1b2451=_0x49eb2a['default'][_0x1cd8('0x68d')]([0.625,0x1]),_0x528e48=new THREE[(_0x1cd8('0x68e'))](_0x1b2451),_0x5d5440=this;this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x3d1'))]({'transparent':!0x0,'opacity':0.5}),this[_0x1cd8('0x2f3')]&&this[_0x1cd8('0x47')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](this[_0x1cd8('0x2f3')]),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x1b2451){_0x1b2451['uniforms']['iTime']={'value':0x0},_0x1b2451[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x528e48},_0x1b2451['vertexShader']=_0x1b2451[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1b2451[_0x1cd8('0x3d4')]=_0x1b2451[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x68f')),_0x1b2451[_0x1cd8('0x56')]=_0x1b2451[_0x1cd8('0x56')]['replace'](_0x1cd8('0x3d8'),_0x1cd8('0x690')),_0x1b2451[_0x1cd8('0x56')]=_0x1b2451['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x2010.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20-=\x203.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture(texture1,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vec3(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20params\x20=\x20vec4(.65,.37,.198,1.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv,\x20params,\x2010.,\x20iTime\x20*\x205.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(5.,\x202.),\x20params,\x2010.,\x20iTime\x20*\x202.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(10.,\x20-2.),\x20params,\x2010.,\x20iTime\x20*\x207.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(30.,\x20-5.),\x20params,\x2010.,\x20iTime\x20*\x204.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5d5440['shader']=_0x1b2451;};}},{'key':_0x1cd8('0x7'),'value':function(){var _0x1b2451=new THREE[(_0x1cd8('0x3e3'))](this[_0x1cd8('0x226')],this[_0x1cd8('0x226')]),_0x1b2451=new THREE[(_0x1cd8('0x30c'))](_0x1b2451,this[_0x1cd8('0x47')]);return _0x1b2451[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],_0x1b2451['rotation']['z']=0.5*Math['PI'],_0x1b2451['renderOrder']=0x4e,this[_0x1cd8('0x322')]['add'](_0x1b2451),_0x1b2451;}},{'key':_0x1cd8('0x325'),'value':function(_0x1b2451){this[_0x1cd8('0x3d0')]&&(this['count']+=_0x1b2451*this[_0x1cd8('0x326')],this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x3da')]['value']=this[_0x1cd8('0x10f')]);}},{'key':_0x1cd8('0x327'),'set':function(_0x1b2451){this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x1b2451;},'get':function(){return this[_0x1cd8('0x322')][_0x1cd8('0x327')];}}]),_0x528e48['default']=_0x20c402;},function(_0x41363f,_0x21b076,_0xc89a7d){'use strict';Object['defineProperty'](_0x21b076,_0x1cd8('0x6'),{'value':!0x0});var _0x2d715c=_0x160239(_0xc89a7d(0x0)),_0x575909=_0x160239(_0xc89a7d(0x1)),_0x359c8b=_0x160239(_0xc89a7d(0xbc));function _0x160239(_0x41363f){return _0x41363f&&_0x41363f[_0x1cd8('0x6')]?_0x41363f:{'default':_0x41363f};}function _0x1eb0bc(_0x41363f){var _0x21b076=_0x41363f[_0x1cd8('0x2f3')],_0x21b076=void 0x0===_0x21b076?_0x1cd8('0x481'):_0x21b076,_0xc89a7d=_0x41363f[_0x1cd8('0x226')],_0x575909=_0x41363f[_0x1cd8('0x326')],_0x575909=void 0x0===_0x575909?0x1:_0x575909,_0x359c8b=_0x41363f[_0x1cd8('0x221')],_0x359c8b=void 0x0===_0x359c8b?0x0:_0x359c8b,_0x41363f=_0x41363f['thickness'],_0x41363f=void 0x0===_0x41363f?0x1:_0x41363f;(0x0,_0x2d715c['default'])(this,_0x1eb0bc),this['object3d']=new THREE[(_0x1cd8('0x32a'))](),_0x359c8b&&(this[_0x1cd8('0x322')][_0x1cd8('0x1f7')]['y']=THREE[_0x1cd8('0x15')]['degToRad'](_0x359c8b)),this[_0x1cd8('0x2f3')]=_0x21b076,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x3dc')]=null,this['radius']=_0xc89a7d||0xc8,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x326')]=_0x575909,this['thickness']=0x1/_0x41363f,this['createMaterial'](_0x21b076);}(0x0,_0x575909[_0x1cd8('0xa')])(_0x1eb0bc,[{'key':_0x1cd8('0x2f2'),'value':function(){var _0x41363f=_0x359c8b[_0x1cd8('0xa')][_0x1cd8('0x68d')]([0.625,0x1]),_0x21b076=new THREE['CanvasTexture'](_0x41363f),_0xc89a7d=this;this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x3d1'))]({'transparent':!0x0,'opacity':0.5}),this[_0x1cd8('0x2f3')]&&this[_0x1cd8('0x47')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](this['colorStr']),this[_0x1cd8('0x47')]['onBeforeCompile']=function(_0x41363f){_0x41363f[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x21b076},_0x41363f[_0x1cd8('0x176')]['iTime']={'value':0x0},_0x41363f['uniforms'][_0x1cd8('0x691')]={'value':_0xc89a7d[_0x1cd8('0x691')]},_0x41363f['vertexShader']=_0x41363f[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x41363f[_0x1cd8('0x3d4')]=_0x41363f[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x68f')),_0x41363f[_0x1cd8('0x56')]=_0x41363f[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20noise(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(uv.x\x20*\x20113.\x20+\x20uv.y\x20*\x20412.)\x20*\x206339.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20noiseSmooth(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20index\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pq\x20=\x20fract(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pq\x20=\x20smoothstep(0.,\x201.,\x20pq);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topLeft\x20=\x20noise(index);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topRight\x20=\x20noise(index\x20+\x20vec2(1,\x200.));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20top\x20=\x20mix(topLeft,\x20topRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomLeft\x20=\x20noise(index\x20+\x20vec2(0,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomRight\x20=\x20noise(index\x20+\x20vec2(1,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottom\x20=\x20mix(bottomLeft,\x20bottomRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(mix(top,\x20bottom,\x20pq.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x41363f[_0x1cd8('0x56')]=_0x41363f[_0x1cd8('0x56')][_0x1cd8('0x23d')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1cd8('0x692')),_0xc89a7d[_0x1cd8('0x3d0')]=_0x41363f;};}},{'key':'create','value':function(){var _0x41363f=new THREE[(_0x1cd8('0x3e3'))](this['radius'],this[_0x1cd8('0x226')]),_0x41363f=new THREE[(_0x1cd8('0x30c'))](_0x41363f,this[_0x1cd8('0x47')]);return _0x41363f[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],_0x41363f[_0x1cd8('0x1f7')]['z']=0.5*Math['PI'],_0x41363f[_0x1cd8('0x30d')]=0x4e,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x41363f),_0x41363f;}},{'key':'render','value':function(_0x41363f){this['shader']&&(this[_0x1cd8('0x10f')]+=_0x41363f*this['speed'],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x3da')][_0x1cd8('0xf')]=this['count']);}},{'key':'visible','set':function(_0x41363f){this[_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x41363f;},'get':function(){return this[_0x1cd8('0x322')]['visible'];}}]),_0x21b076[_0x1cd8('0xa')]=_0x1eb0bc;},function(_0x46d6a9,_0x3a2274,_0x30ded){'use strict';Object[_0x1cd8('0x4')](_0x3a2274,_0x1cd8('0x6'),{'value':!0x0});var _0x4c3809=_0x41e014(_0x30ded(0x0)),_0xd34221=_0x41e014(_0x30ded(0x1)),_0x2b244b=_0x41e014(_0x30ded(0x56));function _0x41e014(_0x46d6a9){return _0x46d6a9&&_0x46d6a9[_0x1cd8('0x6')]?_0x46d6a9:{'default':_0x46d6a9};}function _0x35ade8(_0x46d6a9){_0x46d6a9=_0x46d6a9[_0x1cd8('0x3f6')],_0x46d6a9=void 0x0===_0x46d6a9?0xa:_0x46d6a9;(0x0,_0x4c3809['default'])(this,_0x35ade8),this[_0x1cd8('0x41d')]=!0x1,this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x3f6')]=_0x46d6a9,this['shaderParticleEngine']=null,this[_0x1cd8('0x693')]=null,this[_0x1cd8('0x42c')]=null,this[_0x1cd8('0x423')]=null,this['_visible']=!0x0;}(0x0,_0xd34221[_0x1cd8('0xa')])(_0x35ade8,[{'key':_0x1cd8('0x7'),'value':function(_0x46d6a9){var _0x3a2274=_0x46d6a9[_0x1cd8('0x694')],_0x30ded=_0x46d6a9['intensity'],_0x30ded=void 0x0===_0x30ded?0x1:_0x30ded,_0x4c3809=_0x46d6a9['spread'],_0x4c3809=void 0x0===_0x4c3809?0x1:_0x4c3809,_0x46d6a9=_0x46d6a9[_0x1cd8('0x422')]?0x4:0x1;this['centerGroup']=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x693')]=new _0x2b244b[(_0x1cd8('0xa'))]['Group']({'texture':{'value':_0x3a2274},'transparent':!0x0,'blending':THREE['NormalBlending'],'maxParticleCount':0x14*_0x46d6a9*_0x30ded}),this[_0x1cd8('0x695')]=new _0x2b244b[(_0x1cd8('0xa'))]['Emitter']({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0x0,0x0),'spread':new THREE[(_0x1cd8('0x57'))](+_0x4c3809,0x1,0x1)},'velocity':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0x1,0x0),'spread':new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1)},'color':{'value':[new THREE[(_0x1cd8('0x1c3'))](0xeeeeee)]},'size':{'value':[0xf*this[_0x1cd8('0x3f6')]]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0xa*_0x46d6a9*_0x30ded}),this[_0x1cd8('0x693')][_0x1cd8('0x47')][_0x1cd8('0x176')]['fogColor']['value']=new THREE[(_0x1cd8('0x1c3'))](),this[_0x1cd8('0x693')][_0x1cd8('0x1fd')](this[_0x1cd8('0x695')]),this[_0x1cd8('0x693')][_0x1cd8('0x428')]['scale'][_0x1cd8('0x1b')](this['scale'],this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')]),this[_0x1cd8('0x423')][_0x1cd8('0x1cd')](this['smokeParticle']['mesh']),this[_0x1cd8('0x423')][_0x1cd8('0x30d')]=0xb,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](this[_0x1cd8('0x423')]),this[_0x1cd8('0x41d')]=!0x0;}},{'key':_0x1cd8('0x325'),'value':function(_0x46d6a9){this[_0x1cd8('0x41d')]&&this[_0x1cd8('0x693')]&&this['smokeParticle']['tick'](_0x46d6a9);}},{'key':_0x1cd8('0x429'),'value':function(_0x46d6a9){(0x64<_0x46d6a9||_0x46d6a9<0x0)&&(_0x46d6a9=0x64);_0x46d6a9=Math[_0x1cd8('0x1ca')](0x64*(0x1-_0x46d6a9/0x64))/0x64;this[_0x1cd8('0x695')]['activeMultiplier']=_0x46d6a9;}},{'key':'visible','set':function(_0x46d6a9){this[_0x1cd8('0x420')]=_0x46d6a9,this[_0x1cd8('0x423')][_0x1cd8('0x327')]=_0x46d6a9;}}]),_0x3a2274[_0x1cd8('0xa')]=_0x35ade8;},function(_0x265ca2,_0x55eea9,_0x5583c1){'use strict';Object[_0x1cd8('0x4')](_0x55eea9,_0x1cd8('0x6'),{'value':!0x0});var _0x143223=_0x42c6df(_0x5583c1(0x0)),_0x2d4576=_0x42c6df(_0x5583c1(0x1)),_0x29992c=_0x42c6df(_0x5583c1(0x56));function _0x42c6df(_0x265ca2){return _0x265ca2&&_0x265ca2['__esModule']?_0x265ca2:{'default':_0x265ca2};}function _0x35a5a9(_0x265ca2){_0x265ca2=_0x265ca2[_0x1cd8('0x3f6')],_0x265ca2=void 0x0===_0x265ca2?0xa:_0x265ca2;(0x0,_0x143223[_0x1cd8('0xa')])(this,_0x35a5a9),this[_0x1cd8('0x41d')]=!0x1,this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x3f6')]=_0x265ca2,this['shaderParticleEngine']=null,this[_0x1cd8('0x41f')]=null,this[_0x1cd8('0x42c')]=null,this[_0x1cd8('0x423')]=null,this[_0x1cd8('0x420')]=!0x0;}(0x0,_0x2d4576[_0x1cd8('0xa')])(_0x35a5a9,[{'key':_0x1cd8('0x7'),'value':function(_0x265ca2){var _0x55eea9=_0x265ca2['tex'],_0x265ca2=_0x265ca2[_0x1cd8('0x422')]?0x4:0x1;this[_0x1cd8('0x423')]=new THREE[(_0x1cd8('0x1cf'))](),this['fireParticle']=new _0x29992c['default'][(_0x1cd8('0x1cf'))]({'texture':{'value':_0x55eea9},'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x1cd8('0x1e0')],'maxParticleCount':0x32*_0x265ca2}),this[_0x1cd8('0x427')]=new _0x29992c['default'][(_0x1cd8('0x20f'))]({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0x0,0x0),'spread':new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1)},'acceleration':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0x5,0x0),'spread':new THREE[(_0x1cd8('0x57'))](0x0,0x0,0x0)},'velocity':{'value':new THREE['Vector3'](0x0,-0x5,0x0),'spread':new THREE[(_0x1cd8('0x57'))](0.5,0x1,0.5)},'color':{'value':[new THREE[(_0x1cd8('0x1c3'))](0xff00)]},'size':{'value':[0xf*this[_0x1cd8('0x3f6')]]},'opacity':{'value':[0x0,0.8,0x1,0.8,0x0]},'particleCount':0x32*_0x265ca2}),this[_0x1cd8('0x41f')][_0x1cd8('0x47')][_0x1cd8('0x176')]['fogColor'][_0x1cd8('0xf')]=new THREE[(_0x1cd8('0x1c3'))](),this['fireParticle'][_0x1cd8('0x1fd')](this[_0x1cd8('0x427')]),this['fireParticle'][_0x1cd8('0x428')]['scale'][_0x1cd8('0x1b')](this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')]),this['centerGroup']['add'](this[_0x1cd8('0x41f')]['mesh']),this[_0x1cd8('0x423')]['renderOrder']=0xb,this[_0x1cd8('0x322')]['add'](this['centerGroup']),this['enabled']=!0x0;}},{'key':_0x1cd8('0x325'),'value':function(_0x265ca2){this[_0x1cd8('0x41d')]&&this['fireParticle']&&this[_0x1cd8('0x41f')][_0x1cd8('0x21e')](_0x265ca2);}},{'key':_0x1cd8('0x429'),'value':function(_0x265ca2){(0x64<_0x265ca2||_0x265ca2<0x0)&&(_0x265ca2=0x64);_0x265ca2=Math[_0x1cd8('0x1ca')](0x64*(0x1-_0x265ca2/0x64))/0x64;this['fireEmitter']['activeMultiplier']=_0x265ca2;}},{'key':_0x1cd8('0x327'),'set':function(_0x265ca2){this['_visible']=_0x265ca2,this[_0x1cd8('0x423')][_0x1cd8('0x327')]=_0x265ca2;}}]),_0x55eea9['default']=_0x35a5a9;},function(_0x240add,_0x16c471,_0x9f6c08){'use strict';Object['defineProperty'](_0x16c471,'__esModule',{'value':!0x0});var _0x299471=_0x135d57(_0x9f6c08(0x0)),_0x5d1e65=_0x135d57(_0x9f6c08(0x1)),_0x42973a=_0x135d57(_0x9f6c08(0x56));function _0x135d57(_0x240add){return _0x240add&&_0x240add[_0x1cd8('0x6')]?_0x240add:{'default':_0x240add};}function _0x520760(_0x240add){_0x240add=_0x240add[_0x1cd8('0x3f6')],_0x240add=void 0x0===_0x240add?0xa:_0x240add;(0x0,_0x299471[_0x1cd8('0xa')])(this,_0x520760),this[_0x1cd8('0x41d')]=!0x1,this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x3f6')]=_0x240add,this[_0x1cd8('0x41e')]=null,this[_0x1cd8('0x696')]=null,this[_0x1cd8('0x42c')]=null,this[_0x1cd8('0x423')]=null,this[_0x1cd8('0x420')]=!0x0;}(0x0,_0x5d1e65[_0x1cd8('0xa')])(_0x520760,[{'key':_0x1cd8('0x7'),'value':function(_0x240add){var _0x16c471=_0x240add[_0x1cd8('0x9f')],_0x9f6c08=_0x240add[_0x1cd8('0x1f5')],_0x9f6c08=void 0x0===_0x9f6c08?0x14:_0x9f6c08,_0x299471=_0x240add[_0x1cd8('0x552')],_0x299471=void 0x0===_0x299471?0xa:_0x299471,_0x5d1e65=_0x240add[_0x1cd8('0x326')],_0x5d1e65=void 0x0===_0x5d1e65?0x1:_0x5d1e65,_0x135d57=_0x240add[_0x1cd8('0x554')],_0x135d57=void 0x0!==_0x135d57&&_0x135d57,_0x520760=_0x240add[_0x1cd8('0x220')],_0x520760=void 0x0===_0x520760?_0x1cd8('0x481'):_0x520760,_0x3c0701=_0x240add[_0x1cd8('0x553')],_0x3c0701=void 0x0===_0x3c0701?0x14:_0x3c0701,_0x1912c4=_0x240add[_0x1cd8('0x697')],_0x1912c4=void 0x0!==_0x1912c4&&_0x1912c4,_0x240add=_0x240add[_0x1cd8('0x524')],_0x240add=void 0x0!==_0x240add&&_0x240add;this['centerGroup']=new THREE[(_0x1cd8('0x1cf'))](),this[_0x1cd8('0x696')]=new _0x42973a[(_0x1cd8('0xa'))]['Group']({'texture':{'value':_0x16c471},'hasPerspective':!_0x135d57,'transparent':!0x0,'blending':_0x240add?THREE[_0x1cd8('0x1e0')]:THREE[_0x1cd8('0x425')],'depthWrite':!0x1,'maxParticleCount':0x2*_0x3c0701}),this[_0x1cd8('0x695')]=new _0x42973a[(_0x1cd8('0xa'))][(_0x1cd8('0x20f'))]({'maxAge':{'value':0x3},'position':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0.5*_0x299471,0x0),'spread':new THREE[(_0x1cd8('0x57'))](+_0x9f6c08,_0x299471,+_0x9f6c08),'randomise':!0x0},'velocity':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0x2*_0x5d1e65,0x0),'spread':new THREE[(_0x1cd8('0x57'))](0x0,0x0,0x0)},'color':{'value':[new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x520760)],'spread':_0x1912c4?new THREE['Vector3'](0x0,0.5,0x0):null},'size':{'value':[0x6*this[_0x1cd8('0x3f6')]],'spread':0x1e,'randomise':!0x0},'opacity':{'value':[0x0,0.3,0x1,0.5,0x0]},'angle':{'value':0x5a},'particleCount':_0x3c0701}),this['floatPointsParticle'][_0x1cd8('0x47')]['uniforms'][_0x1cd8('0x426')][_0x1cd8('0xf')]=new THREE[(_0x1cd8('0x1c3'))](),this[_0x1cd8('0x696')]['addEmitter'](this['smokeEmitter']),this[_0x1cd8('0x696')][_0x1cd8('0x428')]['scale']['set'](this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')],this[_0x1cd8('0x3f6')]),this[_0x1cd8('0x423')][_0x1cd8('0x1cd')](this['floatPointsParticle'][_0x1cd8('0x428')]),this[_0x1cd8('0x322')]['add'](this[_0x1cd8('0x423')]),this['enabled']=!0x0;}},{'key':_0x1cd8('0x325'),'value':function(_0x240add){this[_0x1cd8('0x41d')]&&this['floatPointsParticle']&&this[_0x1cd8('0x696')][_0x1cd8('0x21e')](_0x240add);}},{'key':_0x1cd8('0x327'),'set':function(_0x240add){this[_0x1cd8('0x420')]=_0x240add,this[_0x1cd8('0x423')][_0x1cd8('0x327')]=_0x240add;}}]),_0x16c471[_0x1cd8('0xa')]=_0x520760;},function(_0x2f7612,_0x315d65,_0x3a4d87){'use strict';Object[_0x1cd8('0x4')](_0x315d65,_0x1cd8('0x6'),{'value':!0x0});var _0x5b719f=_0x46ae52(_0x3a4d87(0x0));function _0x46ae52(_0x2f7612){return _0x2f7612&&_0x2f7612['__esModule']?_0x2f7612:{'default':_0x2f7612};}function _0x1423e6(_0x2f7612){var _0x315d65=_0x2f7612[_0x1cd8('0x2f3')],_0x3a4d87=_0x2f7612[_0x1cd8('0x2ea')],_0x3a4d87=void 0x0===_0x3a4d87?{'x':0x1,'y':0x2}:_0x3a4d87,_0x46ae52=_0x2f7612[_0x1cd8('0x326')],_0x46ae52=void 0x0===_0x46ae52?0.5:_0x46ae52,_0x2f7612=_0x2f7612[_0x1cd8('0x9f')];(0x0,_0x5b719f[_0x1cd8('0xa')])(this,_0x1423e6),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x47')]=null,this['shader']=null,this[_0x1cd8('0x2ea')]=_0x3a4d87,this['speed']=_0x46ae52,_0x2f7612['wrapS']=THREE[_0x1cd8('0x32d')],_0x2f7612[_0x1cd8('0x3f4')]=THREE['RepeatWrapping'],this[_0x1cd8('0x2f2')](_0x315d65,_0x2f7612);}(0x0,_0x46ae52(_0x3a4d87(0x1))['default'])(_0x1423e6,[{'key':_0x1cd8('0x63d'),'value':function(){var _0x2f7612=document[_0x1cd8('0x79')](_0x1cd8('0x470')),_0x315d65=(_0x2f7612[_0x1cd8('0x320')]=0x4,_0x2f7612[_0x1cd8('0x2f1')]=0x80,_0x2f7612[_0x1cd8('0x471')]('2d')),_0x3a4d87=_0x315d65[_0x1cd8('0x698')](0x0,0x0,_0x2f7612[_0x1cd8('0x320')],_0x2f7612['height']);return _0x3a4d87['addColorStop'](0x0,_0x1cd8('0x699')),_0x3a4d87[_0x1cd8('0x4ef')](0.3,'#FFFFFF'),_0x3a4d87[_0x1cd8('0x4ef')](0.7,_0x1cd8('0x400')),_0x3a4d87[_0x1cd8('0x4ef')](0x1,_0x1cd8('0x699')),_0x315d65[_0x1cd8('0x4b5')]=_0x3a4d87,_0x315d65['fillRect'](0x0,0x0,_0x2f7612[_0x1cd8('0x320')],_0x2f7612[_0x1cd8('0x2f1')]),new THREE[(_0x1cd8('0x68e'))](_0x2f7612);}},{'key':_0x1cd8('0x2f2'),'value':function(_0x2f7612,_0x315d65){this[_0x1cd8('0x47')]=new THREE['MeshBasicMaterial']({'side':THREE[_0x1cd8('0x2fe')],'transparent':!0x0,'depthWrite':!0x0,'depthTest':!0x0,'blending':THREE[_0x1cd8('0x1e0')]});var _0x3a4d87=this[_0x1cd8('0x63d')](),_0x46ae52=(_0x2f7612&&this[_0x1cd8('0x47')]['color'][_0x1cd8('0x2f5')](_0x2f7612),this);this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x2f7612){_0x2f7612[_0x1cd8('0x176')]['iTime']={'value':0x0},_0x2f7612['uniforms'][_0x1cd8('0x3d3')]={'value':_0x315d65},_0x2f7612[_0x1cd8('0x176')][_0x1cd8('0x401')]={'value':_0x3a4d87},_0x2f7612['uniforms'][_0x1cd8('0x69a')]={'value':new THREE['Vector2'](_0x46ae52['repeat']['x'],_0x46ae52[_0x1cd8('0x2ea')]['y'])},_0x2f7612[_0x1cd8('0x3d4')]=_0x2f7612['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x652'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2f7612[_0x1cd8('0x3d4')]=_0x2f7612['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x408'),_0x1cd8('0x69b')),_0x2f7612[_0x1cd8('0x56')]=_0x2f7612['fragmentShader']['replace'](_0x1cd8('0x3d8'),_0x1cd8('0x69c')),_0x2f7612[_0x1cd8('0x56')]=_0x2f7612[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x69d')),_0x46ae52['shader']=_0x2f7612;};}},{'key':_0x1cd8('0x7'),'value':function(_0x2f7612){for(var _0x315d65=_0x2f7612[_0x1cd8('0x440')],_0x3a4d87=_0x2f7612[_0x1cd8('0x2fa')],_0x46ae52=void 0x0===_0x3a4d87?0x1:_0x3a4d87,_0x3a4d87=_0x2f7612[_0x1cd8('0x411')],_0x5b719f=void 0x0===_0x3a4d87?0x64:_0x3a4d87,_0x1423e6=0x0,_0xc8387f=_0x315d65[_0x1cd8('0xc')];_0x1423e6<_0xc8387f;_0x1423e6++){var _0x54638=new THREE[(_0x1cd8('0x32a'))](),_0x22694c=new THREE['PlaneBufferGeometry'](_0x46ae52,_0x5b719f),_0x22694c=(_0x22694c['translate'](0x0,0.5*_0x5b719f,0x0),new THREE[(_0x1cd8('0x30c'))](_0x22694c,this[_0x1cd8('0x47')])),_0x3e96f7=new THREE[(_0x1cd8('0x3e3'))](_0x46ae52,_0x5b719f),_0x3e96f7=(_0x3e96f7[_0x1cd8('0x69e')](0x0,0.5*_0x5b719f,0x0),new THREE[(_0x1cd8('0x30c'))](_0x3e96f7,this[_0x1cd8('0x47')]));_0x3e96f7[_0x1cd8('0x1f7')]['y']=0.5*Math['PI'],_0x22694c[_0x1cd8('0x30d')]=0x5a,_0x3e96f7[_0x1cd8('0x30d')]=0x5a,_0x54638[_0x1cd8('0x1cd')](_0x22694c),_0x54638[_0x1cd8('0x1cd')](_0x3e96f7),_0x54638['position'][_0x1cd8('0x1c6')](_0x315d65[_0x1423e6]),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x54638);}}},{'key':_0x1cd8('0x325'),'value':function(_0x2f7612){this[_0x1cd8('0x3d0')]&&(this['shader'][_0x1cd8('0x176')][_0x1cd8('0x3da')][_0x1cd8('0xf')]-=_0x2f7612*this[_0x1cd8('0x326')]);}}]),_0x315d65['default']=_0x1423e6;},function(_0xde0a96,_0x59b479,_0x3bc0b2){'use strict';Object[_0x1cd8('0x4')](_0x59b479,_0x1cd8('0x6'),{'value':!0x0});var _0x4be7e2=_0x47f47d(_0x3bc0b2(0x0)),_0x24acaa=_0x47f47d(_0x3bc0b2(0x1)),_0xd71b72=_0x3bc0b2(0xe2);function _0x47f47d(_0xde0a96){return _0xde0a96&&_0xde0a96[_0x1cd8('0x6')]?_0xde0a96:{'default':_0xde0a96};}function _0x3783d0(_0xde0a96){var _0x59b479=_0xde0a96[_0x1cd8('0x2f3')],_0x59b479=void 0x0===_0x59b479?_0x1cd8('0x69f'):_0x59b479,_0x3bc0b2=_0xde0a96[_0x1cd8('0x6a0')],_0x3bc0b2=void 0x0===_0x3bc0b2?0x1:_0x3bc0b2,_0x24acaa=_0xde0a96[_0x1cd8('0x6a1')],_0x24acaa=void 0x0===_0x24acaa?0.3:_0x24acaa,_0xd71b72=_0xde0a96[_0x1cd8('0x6a2')],_0xde0a96=_0xde0a96[_0x1cd8('0x6a3')];(0x0,_0x4be7e2[_0x1cd8('0xa')])(this,_0x3783d0),this['color']=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x59b479),this[_0x1cd8('0x6a0')]=_0x3bc0b2,this['clipBias']=_0x24acaa,this[_0x1cd8('0x6a4')]=_0xd71b72*window[_0x1cd8('0x6a5')],this['textureHeight']=_0xde0a96*window[_0x1cd8('0x6a5')];}(0x0,_0x24acaa[_0x1cd8('0xa')])(_0x3783d0,[{'key':_0x1cd8('0x7'),'value':function(_0xde0a96){_0xde0a96=_0xde0a96[_0x1cd8('0xe0')];return new _0xd71b72[(_0x1cd8('0x6a6'))](_0xde0a96,{'clipBias':this['clipBias'],'textureWidth':this[_0x1cd8('0x6a4')],'textureHeight':this[_0x1cd8('0x6a7')],'color':this[_0x1cd8('0x220')],'recursion':this[_0x1cd8('0x6a0')]});}}]),_0x59b479[_0x1cd8('0xa')]=_0x3783d0;},function(_0x23598e,_0x2bb081,_0x47535d){'use strict';Object['defineProperty'](_0x2bb081,_0x1cd8('0x6'),{'value':!0x0}),_0x2bb081[_0x1cd8('0x6a6')]=void 0x0;var _0x2e8086=_0x233ad6(_0x47535d(0x1d)),_0x3a7dce=_0x233ad6(_0x47535d(0x9c));function _0x233ad6(_0x23598e){return _0x23598e&&_0x23598e['__esModule']?_0x23598e:{'default':_0x23598e};}function _0x41e019(_0x23598e,_0x2bb081){THREE[_0x1cd8('0x30c')][_0x1cd8('0x1')](this,_0x23598e),this[_0x1cd8('0x101')]=_0x1cd8('0x6a6');var _0x4ad929=this,_0x23598e=void 0x0!==(_0x2bb081=_0x2bb081||{})[_0x1cd8('0x220')]?new THREE['Color'](_0x2bb081['color']):new THREE[(_0x1cd8('0x1c3'))](0x7f7f7f),_0x47535d=_0x2bb081[_0x1cd8('0x6a4')]||0x200,_0x2e8086=_0x2bb081[_0x1cd8('0x6a7')]||0x200,_0x3de6f4=_0x2bb081[_0x1cd8('0x6a1')]||0x0,_0x233ad6=_0x2bb081[_0x1cd8('0x3d0')]||_0x41e019[_0x1cd8('0x6a8')],_0x3a4ea2=void 0x0!==_0x2bb081[_0x1cd8('0x6a0')]?_0x2bb081['recursion']:0x0,_0x308443=new THREE[(_0x1cd8('0x6a9'))](),_0x851023=new THREE[(_0x1cd8('0x57'))](),_0x212e4b=new THREE['Vector3'](),_0x1c37c7=new THREE[(_0x1cd8('0x57'))](),_0x55fca2=new THREE[(_0x1cd8('0x317'))](),_0x11a37d=new THREE[(_0x1cd8('0x57'))](0x0,0x0,-0x1),_0x353855=new THREE[(_0x1cd8('0x1c2'))](),_0x4ce291=(new THREE[(_0x1cd8('0x1c2'))](),new THREE[(_0x1cd8('0x57'))]()),_0x1d2411=new THREE[(_0x1cd8('0x57'))](),_0x5027e0=new THREE[(_0x1cd8('0x1c2'))](),_0x479592=(new THREE['Vector2'](),new THREE['Matrix4']()),_0xe55564=new THREE[(_0x1cd8('0x6aa'))](),_0x2bb081={'minFilter':THREE[_0x1cd8('0x3f1')],'magFilter':THREE[_0x1cd8('0x3f1')],'format':THREE[_0x1cd8('0x461')],'stencilBuffer':!0x1},_0x305a4a=new THREE['WebGLRenderTarget'](_0x47535d,_0x2e8086,_0x2bb081),_0x2bb081=(THREE[_0x1cd8('0x15')][_0x1cd8('0x6ab')](_0x47535d)&&THREE[_0x1cd8('0x15')]['isPowerOfTwo'](_0x2e8086)||(_0x305a4a[_0x1cd8('0x9f')][_0x1cd8('0x6ac')]=!0x1),new THREE[(_0x1cd8('0x1f0'))]({'uniforms':THREE[_0x1cd8('0x4a1')][_0x1cd8('0x1bb')](_0x233ad6[_0x1cd8('0x176')]),'fragmentShader':_0x233ad6[_0x1cd8('0x56')],'vertexShader':_0x233ad6[_0x1cd8('0x3d4')]}));_0x2bb081[_0x1cd8('0x176')][_0x1cd8('0x6ad')][_0x1cd8('0xf')]=_0x305a4a['texture'],_0x2bb081[_0x1cd8('0x176')][_0x1cd8('0x220')][_0x1cd8('0xf')]=_0x23598e,_0x2bb081[_0x1cd8('0x176')][_0x1cd8('0x6ae')][_0x1cd8('0xf')]=_0x479592,this[_0x1cd8('0x47')]=_0x2bb081,this[_0x1cd8('0x6af')]=function(_0x23598e,_0x2bb081,_0x47535d){if(_0x1cd8('0x6a0')in _0x47535d['userData']){if(_0x47535d[_0x1cd8('0x45')][_0x1cd8('0x6a0')]===_0x3a4ea2)return;_0x47535d[_0x1cd8('0x45')][_0x1cd8('0x6a0')]++;}var _0x2e8086,_0x233ad6,_0x41e019;_0x212e4b[_0x1cd8('0x6b0')](_0x4ad929['matrixWorld']),_0x1c37c7[_0x1cd8('0x6b0')](_0x47535d[_0x1cd8('0x364')]),_0x55fca2[_0x1cd8('0x6b1')](_0x4ad929[_0x1cd8('0x364')]),_0x851023[_0x1cd8('0x1b')](0x0,0x0,0x1),_0x851023[_0x1cd8('0x378')](_0x55fca2),_0x4ce291[_0x1cd8('0x6b2')](_0x212e4b,_0x1c37c7),0x0<_0x4ce291[_0x1cd8('0x6b3')](_0x851023)||(_0x4ce291[_0x1cd8('0x6b4')](_0x851023)[_0x1cd8('0x6b5')](),_0x4ce291[_0x1cd8('0x1cd')](_0x212e4b),_0x55fca2['extractRotation'](_0x47535d['matrixWorld']),_0x11a37d[_0x1cd8('0x1b')](0x0,0x0,-0x1),_0x11a37d['applyMatrix4'](_0x55fca2),_0x11a37d[_0x1cd8('0x1cd')](_0x1c37c7),_0x1d2411[_0x1cd8('0x6b2')](_0x212e4b,_0x11a37d),_0x1d2411[_0x1cd8('0x6b4')](_0x851023)[_0x1cd8('0x6b5')](),_0x1d2411[_0x1cd8('0x1cd')](_0x212e4b),_0xe55564[_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x4ce291),_0xe55564['up'][_0x1cd8('0x1b')](0x0,0x1,0x0),_0xe55564['up'][_0x1cd8('0x378')](_0x55fca2),_0xe55564['up'][_0x1cd8('0x6b4')](_0x851023),_0xe55564[_0x1cd8('0x3fb')](_0x1d2411),_0xe55564[_0x1cd8('0x2fd')]=_0x47535d['far'],_0xe55564['updateMatrixWorld'](),_0xe55564[_0x1cd8('0x6b6')]['copy'](_0x47535d[_0x1cd8('0x6b6')]),_0xe55564[_0x1cd8('0x45')][_0x1cd8('0x6a0')]=0x0,_0x479592[_0x1cd8('0x1b')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),_0x479592[_0x1cd8('0x6b7')](_0xe55564[_0x1cd8('0x6b6')]),_0x479592['multiply'](_0xe55564[_0x1cd8('0x6b8')]),_0x479592[_0x1cd8('0x6b7')](_0x4ad929[_0x1cd8('0x364')]),_0x308443[_0x1cd8('0x6b9')](_0x851023,_0x212e4b),_0x308443[_0x1cd8('0x378')](_0xe55564[_0x1cd8('0x6b8')]),_0x353855[_0x1cd8('0x1b')](_0x308443[_0x1cd8('0x6ba')]['x'],_0x308443[_0x1cd8('0x6ba')]['y'],_0x308443[_0x1cd8('0x6ba')]['z'],_0x308443['constant']),_0x2e8086=_0xe55564[_0x1cd8('0x6b6')],_0x5027e0['x']=((0x0,_0x3a7dce[_0x1cd8('0xa')])(_0x353855['x'])+_0x2e8086['elements'][0x8])/_0x2e8086[_0x1cd8('0xfc')][0x0],_0x5027e0['y']=((0x0,_0x3a7dce[_0x1cd8('0xa')])(_0x353855['y'])+_0x2e8086[_0x1cd8('0xfc')][0x9])/_0x2e8086['elements'][0x5],_0x5027e0['z']=-0x1,_0x5027e0['w']=(0x1+_0x2e8086[_0x1cd8('0xfc')][0xa])/_0x2e8086[_0x1cd8('0xfc')][0xe],_0x353855[_0x1cd8('0x1cc')](0x2/_0x353855[_0x1cd8('0x6b3')](_0x5027e0)),_0x2e8086[_0x1cd8('0xfc')][0x2]=_0x353855['x'],_0x2e8086[_0x1cd8('0xfc')][0x6]=_0x353855['y'],_0x2e8086[_0x1cd8('0xfc')][0xa]=_0x353855['z']+0x1-_0x3de6f4,_0x2e8086['elements'][0xe]=_0x353855['w'],_0x4ad929['visible']=!0x1,_0x2e8086=_0x23598e[_0x1cd8('0x6bb')](),_0x233ad6=_0x23598e['vr'][_0x1cd8('0x41d')],_0x41e019=_0x23598e[_0x1cd8('0x6bc')][_0x1cd8('0x6bd')],_0x23598e['vr'][_0x1cd8('0x41d')]=!0x1,_0x23598e['shadowMap'][_0x1cd8('0x6bd')]=!0x1,_0x23598e[_0x1cd8('0x6be')](_0x305a4a),_0x23598e[_0x1cd8('0x2df')](),_0x23598e[_0x1cd8('0x325')](_0x2bb081,_0xe55564),_0x23598e['vr'][_0x1cd8('0x41d')]=_0x233ad6,_0x23598e[_0x1cd8('0x6bc')]['autoUpdate']=_0x41e019,_0x23598e[_0x1cd8('0x6be')](_0x2e8086),_0x47535d[_0x1cd8('0x6bf')]&&_0x23598e[_0x1cd8('0x6c0')][_0x1cd8('0x6c1')](_0x47535d['viewport']),_0x4ad929['visible']=!0x0);},this[_0x1cd8('0x6bb')]=function(){return _0x305a4a;};}((_0x41e019['prototype']=(0x0,_0x2e8086[_0x1cd8('0xa')])(THREE[_0x1cd8('0x30c')]['prototype']))[_0x1cd8('0x88')]=_0x41e019)['ReflectorShader']={'uniforms':{'color':{'type':'c','value':null},'tDiffuse':{'type':'t','value':null},'textureMatrix':{'type':'m4','value':null}},'vertexShader':_0x1cd8('0x6c2'),'fragmentShader':_0x1cd8('0x6c3')},_0x2bb081[_0x1cd8('0x6a6')]=_0x41e019;},function(_0x20485c,_0x528f90,_0x59276e){'use strict';Object[_0x1cd8('0x4')](_0x528f90,_0x1cd8('0x6'),{'value':!0x0});var _0xb5ad15=_0x3a22a9(_0x59276e(0x39)),_0x358545=_0x3a22a9(_0x59276e(0x0)),_0xb1cce2=_0x3a22a9(_0x59276e(0x1)),_0x45335f=_0x59276e(0xe4),_0x1c7371=_0x59276e(0xe5),_0x539fa8=_0x59276e(0xe6),_0x19e25c=_0x59276e(0xe7);function _0x3a22a9(_0x20485c){return _0x20485c&&_0x20485c['__esModule']?_0x20485c:{'default':_0x20485c};}function _0x564e06(_0x20485c){(0x0,_0x358545[_0x1cd8('0xa')])(this,_0x564e06),this[_0x1cd8('0xdf')]=_0x20485c,this['textureLoader']=new _0x19e25c[(_0x1cd8('0x6c4'))](),this[_0x1cd8('0x6c5')]=null;}(0x0,_0xb1cce2[_0x1cd8('0xa')])(_0x564e06,[{'key':_0x1cd8('0x6c6'),'value':function(_0x20485c){var _0x528f90=this,_0x358545=_0x20485c[_0x1cd8('0x4c3')],_0x20485c=_0x20485c[_0x1cd8('0x6c7')],_0xb1cce2=void 0x0===_0x20485c?0x200:_0x20485c,_0x19e25c=this;return new _0xb5ad15[(_0x1cd8('0xa'))](function(_0x59276e,_0x20485c){_0x528f90[_0x1cd8('0x9c')][_0x1cd8('0x9d')](_0x358545,function(_0x20485c){_0x20485c['encoding']=THREE[_0x1cd8('0x6c8')],_0x20485c[_0x1cd8('0x3f2')]=THREE['NearestFilter'],_0x20485c['magFilter']=THREE[_0x1cd8('0x6c9')],_0x20485c['flipY']=!0x0;var _0x20485c=new _0x539fa8[(_0x1cd8('0x6ca'))](_0x20485c,{'resolution':_0xb1cce2})[_0x1cd8('0x2d3')](_0x19e25c['map'][_0x1cd8('0x466')][_0x1cd8('0x526')]),_0x20485c=new _0x45335f[(_0x1cd8('0x6cb'))](_0x20485c),_0x528f90=(_0x20485c[_0x1cd8('0x2d3')](_0x19e25c['map'][_0x1cd8('0x466')][_0x1cd8('0x526')]),new _0x1c7371['PMREMCubeUVPacker'](_0x20485c[_0x1cd8('0x6cc')]));_0x528f90[_0x1cd8('0x2d3')](_0x19e25c['map'][_0x1cd8('0x466')]['renderer']),_0x19e25c[_0x1cd8('0x6c5')]=_0x528f90[_0x1cd8('0x6cd')]['texture'],_0x59276e(_0x19e25c['envCubeMap']),_0x20485c[_0x1cd8('0xde')](),_0x528f90['dispose']();});});}}]),_0x528f90[_0x1cd8('0xa')]=_0x564e06;},function(_0x41917a,_0x382827,_0x1a7b50){'use strict';Object['defineProperty'](_0x382827,_0x1cd8('0x6'),{'value':!0x0});(_0x38659a=new THREE[(_0x1cd8('0x1f0'))]({'defines':{'SAMPLES_PER_LEVEL':0x14},'uniforms':{'faceIndex':{'value':0x0},'roughness':{'value':0.5},'mapSize':{'value':0.5},'envMap':{'value':null},'tFlip':{'value':-0x1}},'vertexShader':_0x1cd8('0x6ce'),'fragmentShader':_0x1cd8('0x6cf'),'blending':THREE['NoBlending']}))[_0x1cd8('0x101')]='PMREMGenerator',_0x594d5f=_0x38659a,_0x5498b2=new THREE['OrthographicCamera'](-0x1,0x1,0x1,-0x1,0x0,0x3e8),_0x1cf74e=new THREE['Scene'](),(_0x38659a=new THREE[(_0x1cd8('0x30c'))](new THREE[(_0x1cd8('0x3e3'))](0x2,0x2,0x0),_0x594d5f))[_0x1cd8('0x47')][_0x1cd8('0x35f')]=THREE[_0x1cd8('0x2fe')],_0x1cf74e[_0x1cd8('0x1cd')](_0x38659a),_0x1cf74e['add'](_0x5498b2),_0x12e1c1['prototype']={'constructor':_0x12e1c1,'update':function(_0x41917a){var _0x382827=this[_0x1cd8('0x6d0')][_0x1cd8('0x6d1')]?-0x1:0x1,_0x1a7b50=(_0x594d5f[_0x1cd8('0x175')][_0x1cd8('0x6d2')]=this['samplesPerLevel'],_0x594d5f[_0x1cd8('0x176')]['faceIndex'][_0x1cd8('0xf')]=0x0,_0x594d5f[_0x1cd8('0x176')][_0x1cd8('0x47d')][_0x1cd8('0xf')]=this[_0x1cd8('0x6d0')],_0x594d5f[_0x1cd8('0x47d')]=this['sourceTexture'],_0x594d5f['needsUpdate']=!0x0,_0x41917a[_0x1cd8('0x6d3')]),_0x556115=_0x41917a['gammaOutput'],_0x26697d=_0x41917a[_0x1cd8('0x6d4')],_0x395d57=_0x41917a['toneMappingExposure'],_0x3b586a=_0x41917a['getRenderTarget']();_0x41917a['toneMapping']=THREE['LinearToneMapping'],_0x41917a[_0x1cd8('0x6d5')]=0x1,_0x41917a[_0x1cd8('0x6d3')]=!0x1,_0x41917a[_0x1cd8('0x6d6')]=!0x1;for(var _0x12855e=0x0;_0x12855e<this[_0x1cd8('0x6d7')];_0x12855e++){var _0x525548=_0x12855e/(this['numLods']-0x1),_0x525548=(_0x594d5f['uniforms'][_0x1cd8('0x2a7')][_0x1cd8('0xf')]=0.9*_0x525548,_0x594d5f[_0x1cd8('0x176')][_0x1cd8('0x6d8')][_0x1cd8('0xf')]=0x0==_0x12855e?_0x382827:0x1,this[_0x1cd8('0x6cc')][_0x12855e][_0x1cd8('0x320')]);_0x594d5f[_0x1cd8('0x176')][_0x1cd8('0x6d9')][_0x1cd8('0xf')]=_0x525548,this['renderToCubeMapTarget'](_0x41917a,this[_0x1cd8('0x6cc')][_0x12855e]),_0x12855e<0x5&&(_0x594d5f[_0x1cd8('0x176')]['envMap']['value']=this[_0x1cd8('0x6cc')][_0x12855e]['texture']);}_0x41917a[_0x1cd8('0x6be')](_0x3b586a),_0x41917a[_0x1cd8('0x6d4')]=_0x26697d,_0x41917a[_0x1cd8('0x6d5')]=_0x395d57,_0x41917a[_0x1cd8('0x6d3')]=_0x1a7b50,_0x41917a[_0x1cd8('0x6d6')]=_0x556115;},'renderToCubeMapTarget':function(_0x41917a,_0x382827){for(var _0x1a7b50=0x0;_0x1a7b50<0x6;_0x1a7b50++)this[_0x1cd8('0x6da')](_0x41917a,_0x382827,_0x1a7b50);},'renderToCubeMapTargetFace':function(_0x41917a,_0x382827,_0x1a7b50){_0x594d5f[_0x1cd8('0x176')][_0x1cd8('0x6db')][_0x1cd8('0xf')]=_0x1a7b50,_0x41917a['setRenderTarget'](_0x382827,_0x1a7b50),_0x41917a[_0x1cd8('0x2df')](),_0x41917a[_0x1cd8('0x325')](_0x1cf74e,_0x5498b2);},'dispose':function(){for(var _0x41917a=0x0,_0x382827=this[_0x1cd8('0x6cc')]['length'];_0x41917a<_0x382827;_0x41917a++)this[_0x1cd8('0x6cc')][_0x41917a][_0x1cd8('0xde')]();}};var _0x594d5f,_0x5498b2,_0x1cf74e,_0x38659a=_0x12e1c1;function _0x12e1c1(_0x41917a,_0x382827,_0x1a7b50){this[_0x1cd8('0x6d0')]=_0x41917a,this['resolution']=void 0x0!==_0x1a7b50?_0x1a7b50:0x100,this['samplesPerLevel']=void 0x0!==_0x382827?_0x382827:0x20;var _0x41917a=this[_0x1cd8('0x6d0')]['encoding']===THREE[_0x1cd8('0x6dc')]||this[_0x1cd8('0x6d0')]['encoding']===THREE[_0x1cd8('0x6dd')]||this[_0x1cd8('0x6d0')][_0x1cd8('0x464')]===THREE[_0x1cd8('0x465')],_0x5498b2=(this[_0x1cd8('0x6d0')][_0x1cd8('0x3f2')]=_0x41917a?THREE[_0x1cd8('0x3f1')]:THREE[_0x1cd8('0x6c9')],this[_0x1cd8('0x6d0')]['magFilter']=_0x41917a?THREE[_0x1cd8('0x3f1')]:THREE[_0x1cd8('0x6c9')],this['sourceTexture']['generateMipmaps']=this[_0x1cd8('0x6d0')][_0x1cd8('0x6ac')]&&_0x41917a,this[_0x1cd8('0x6cc')]=[],this['resolution']),_0x1cf74e={'format':this[_0x1cd8('0x6d0')][_0x1cd8('0x460')],'magFilter':this['sourceTexture'][_0x1cd8('0x3f0')],'minFilter':this['sourceTexture']['minFilter'],'type':this[_0x1cd8('0x6d0')][_0x1cd8('0x101')],'generateMipmaps':this[_0x1cd8('0x6d0')]['generateMipmaps'],'anisotropy':this[_0x1cd8('0x6d0')][_0x1cd8('0x525')],'encoding':this[_0x1cd8('0x6d0')][_0x1cd8('0x464')]};this[_0x1cd8('0x6d7')]=Math[_0x1cd8('0x6de')](_0x5498b2)/Math[_0x1cd8('0x6de')](0x2)-0x2;for(var _0x38659a=0x0;_0x38659a<this[_0x1cd8('0x6d7')];_0x38659a++){var _0x12e1c1=new THREE[(_0x1cd8('0x6df'))](_0x5498b2,_0x5498b2,_0x1cf74e);_0x12e1c1[_0x1cd8('0x9f')][_0x1cd8('0x7f')]='PMREMGenerator.cube'+_0x38659a,this[_0x1cd8('0x6cc')][_0x1cd8('0x70')](_0x12e1c1),_0x5498b2=Math[_0x1cd8('0xe4')](0x10,_0x5498b2/0x2);}}_0x382827['PMREMGenerator']=_0x38659a;},function(_0x59cd95,_0x2fad0a,_0x4ca20e){'use strict';var _0xc4a36a,_0x532c83,_0x9e2436,_0x447a83;function _0x1ef112(_0x59cd95){var _0x2fad0a=0x4*(this[_0x1cd8('0x6cc')]=_0x59cd95)[0x0][_0x1cd8('0x320')],_0x4ca20e=_0x59cd95[0x0]['texture'],_0x4ca20e={'format':_0x4ca20e['format'],'magFilter':_0x4ca20e[_0x1cd8('0x3f0')],'minFilter':_0x4ca20e[_0x1cd8('0x3f2')],'type':_0x4ca20e['type'],'generateMipmaps':_0x4ca20e['generateMipmaps'],'anisotropy':_0x4ca20e[_0x1cd8('0x525')],'encoding':_0x4ca20e[_0x1cd8('0x464')]===THREE[_0x1cd8('0x6c8')]?THREE['RGBM16Encoding']:_0x4ca20e[_0x1cd8('0x464')]},_0xc4a36a=(_0x4ca20e[_0x1cd8('0x464')]===THREE[_0x1cd8('0x6e0')]&&(_0x4ca20e[_0x1cd8('0x3f0')]=THREE['LinearFilter'],_0x4ca20e[_0x1cd8('0x3f2')]=THREE[_0x1cd8('0x3f1')]),this[_0x1cd8('0x6cd')]=new THREE[(_0x1cd8('0x6e1'))](_0x2fad0a,_0x2fad0a,_0x4ca20e),this[_0x1cd8('0x6cd')][_0x1cd8('0x9f')]['name']='PMREMCubeUVPacker.cubeUv',this[_0x1cd8('0x6cd')][_0x1cd8('0x9f')][_0x1cd8('0x462')]=THREE[_0x1cd8('0x6e2')],this[_0x1cd8('0x6e3')]=[],new THREE['PlaneBufferGeometry'](0x1,0x1)),_0x1ef112=[],_0x53e714=(_0x1ef112[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x1c0'))](0x0,0x0)),_0x1ef112[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x1c0'))](0x1,0x0)),_0x1ef112[_0x1cd8('0x70')](new THREE['Vector2'](0x2,0x0)),_0x1ef112[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x1c0'))](0x0,0x1)),_0x1ef112['push'](new THREE[(_0x1cd8('0x1c0'))](0x1,0x1)),_0x1ef112[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x1c0'))](0x2,0x1)),_0x2fad0a),_0x2fad0a=_0x59cd95[0x0][_0x1cd8('0x320')],_0x55b1e2=0x0,_0x532c83=0x4;this[_0x1cd8('0x6d7')]=Math['log'](_0x59cd95[0x0]['width'])/Math[_0x1cd8('0x6de')](0x2)-0x2;for(var _0x9e2436=0x0;_0x9e2436<this[_0x1cd8('0x6d7')];_0x9e2436++){for(var _0x5ec0a9=0.5*(_0x53e714-_0x53e714/_0x532c83),_0x5c8602=(0x10<_0x2fad0a&&(_0x532c83*=0x2),0x10<_0x2fad0a?0x6:0x1),_0x2d87ee=0x0,_0x1058fa=0x0,_0x455ec0=_0x2fad0a,_0x511945=0x0;_0x511945<_0x5c8602;_0x511945++){for(var _0x5628e7=0x0;_0x5628e7<0x6;_0x5628e7++){var _0x5b30e8=_0x447a83[_0x1cd8('0x1bb')](),_0x5b30e8=(_0x5b30e8['uniforms'][_0x1cd8('0x47d')][_0x1cd8('0xf')]=this['cubeLods'][_0x9e2436][_0x1cd8('0x9f')],_0x5b30e8[_0x1cd8('0x47d')]=this[_0x1cd8('0x6cc')][_0x9e2436][_0x1cd8('0x9f')],_0x5b30e8[_0x1cd8('0x176')][_0x1cd8('0x6db')]['value']=_0x5628e7,_0x5b30e8['uniforms'][_0x1cd8('0x6d9')][_0x1cd8('0xf')]=_0x455ec0,new THREE['Mesh'](_0xc4a36a,_0x5b30e8));_0x5b30e8[_0x1cd8('0x3f')]['x']=_0x1ef112[_0x5628e7]['x']*_0x455ec0-_0x5ec0a9+_0x2d87ee,_0x5b30e8['position']['y']=_0x1ef112[_0x5628e7]['y']*_0x455ec0-_0x5ec0a9+_0x55b1e2+_0x1058fa,_0x5b30e8[_0x1cd8('0x47')][_0x1cd8('0x35f')]=THREE[_0x1cd8('0x45c')],_0x5b30e8[_0x1cd8('0x3f6')][_0x1cd8('0x49f')](_0x455ec0),this[_0x1cd8('0x6e3')][_0x1cd8('0x70')](_0x5b30e8);}_0x1058fa+=1.75*_0x455ec0,_0x2d87ee+=1.25*_0x455ec0,_0x455ec0/=0x2;}_0x55b1e2+=0x2*_0x2fad0a,0x10<_0x2fad0a&&(_0x2fad0a/=0x2);}}Object['defineProperty'](_0x2fad0a,_0x1cd8('0x6'),{'value':!0x0}),_0x532c83=new THREE['OrthographicCamera'](),_0x9e2436=new THREE['Scene'](),(_0xc4a36a=new THREE[(_0x1cd8('0x1f0'))]({'uniforms':{'faceIndex':{'value':0x0},'mapSize':{'value':0x0},'envMap':{'value':null},'testColor':{'value':new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1)}},'vertexShader':_0x1cd8('0x6e4'),'fragmentShader':_0x1cd8('0x6e5'),'blending':THREE[_0x1cd8('0x6e6')]}))['type']=_0x1cd8('0x6e7'),_0x447a83=_0xc4a36a,_0x1ef112[_0x1cd8('0x11')]={'constructor':_0x1ef112,'update':function(_0x59cd95){var _0x2fad0a=0x4*this[_0x1cd8('0x6cc')][0x0][_0x1cd8('0x320')];_0x532c83[_0x1cd8('0x33c')]=0.5*-_0x2fad0a,_0x532c83[_0x1cd8('0x55d')]=0.5*_0x2fad0a,_0x532c83['top']=0.5*-_0x2fad0a,_0x532c83['bottom']=0.5*_0x2fad0a,_0x532c83[_0x1cd8('0x2fc')]=0x0,_0x532c83[_0x1cd8('0x2fd')]=0x1,_0x532c83[_0x1cd8('0x6e8')]();for(var _0x4ca20e=0x0;_0x4ca20e<this[_0x1cd8('0x6e3')][_0x1cd8('0xc')];_0x4ca20e++)_0x9e2436[_0x1cd8('0x1cd')](this[_0x1cd8('0x6e3')][_0x4ca20e]);var _0x2fad0a=_0x59cd95['gammaInput'],_0xc4a36a=_0x59cd95[_0x1cd8('0x6d6')],_0x1ef112=_0x59cd95[_0x1cd8('0x6d4')],_0x29eacd=_0x59cd95[_0x1cd8('0x6d5')],_0x4a4c98=_0x59cd95[_0x1cd8('0x6bb')]();for(_0x59cd95['gammaInput']=!0x1,_0x59cd95[_0x1cd8('0x6d6')]=!0x1,_0x59cd95[_0x1cd8('0x6d4')]=THREE[_0x1cd8('0x6e9')],_0x59cd95[_0x1cd8('0x6d5')]=0x1,_0x59cd95[_0x1cd8('0x6be')](this[_0x1cd8('0x6cd')]),_0x59cd95['render'](_0x9e2436,_0x532c83),_0x59cd95[_0x1cd8('0x6be')](_0x4a4c98),_0x59cd95[_0x1cd8('0x6d4')]=_0x1ef112,_0x59cd95[_0x1cd8('0x6d5')]=_0x29eacd,_0x59cd95[_0x1cd8('0x6d3')]=_0x2fad0a,_0x59cd95['gammaOutput']=_0xc4a36a,_0x4ca20e=0x0;_0x4ca20e<this[_0x1cd8('0x6e3')][_0x1cd8('0xc')];_0x4ca20e++)_0x9e2436[_0x1cd8('0xe1')](this[_0x1cd8('0x6e3')][_0x4ca20e]);},'dispose':function(){for(var _0x59cd95=0x0,_0x2fad0a=this[_0x1cd8('0x6e3')][_0x1cd8('0xc')];_0x59cd95<_0x2fad0a;_0x59cd95++)this[_0x1cd8('0x6e3')][_0x59cd95][_0x1cd8('0x47')][_0x1cd8('0xde')]();this[_0x1cd8('0x6e3')][0x0][_0x1cd8('0xe0')][_0x1cd8('0xde')]();}},_0x2fad0a[_0x1cd8('0x6e7')]=_0x1ef112;},function(_0x2b113e,_0x471ebe,_0x2bdca5){'use strict';function _0x6b2160(_0x2b113e){this[_0x1cd8('0x526')]=_0x2b113e;}Object[_0x1cd8('0x4')](_0x471ebe,_0x1cd8('0x6'),{'value':!0x0}),_0x6b2160[_0x1cd8('0x11')][_0x1cd8('0x6ea')]=function(_0x2b113e,_0x471ebe){_0x471ebe=_0x471ebe||{};var _0x2bdca5=new THREE[(_0x1cd8('0x458'))](),_0x6b2160=new THREE[(_0x1cd8('0x1f0'))]({'type':_0x1cd8('0x6eb'),'uniforms':THREE[_0x1cd8('0x4a1')][_0x1cd8('0x1bb')]({'tEquirect':{'value':null}}),'vertexShader':_0x1cd8('0x6ec'),'fragmentShader':_0x1cd8('0x6ed'),'side':THREE['BackSide'],'blending':THREE[_0x1cd8('0x6e6')]}),_0x6b2160=(_0x6b2160[_0x1cd8('0x176')][_0x1cd8('0x6ee')][_0x1cd8('0xf')]=_0x2b113e,new THREE['Mesh'](new THREE[(_0x1cd8('0x45e'))](0x5,0x5,0x5),_0x6b2160)),_0x20f549=(_0x2bdca5[_0x1cd8('0x1cd')](_0x6b2160),_0x471ebe[_0x1cd8('0x2f8')]||0x200),_0x471ebe={'type':_0x2b113e['type'],'format':_0x2b113e[_0x1cd8('0x460')],'encoding':_0x2b113e[_0x1cd8('0x464')],'generateMipmaps':(void 0x0!==_0x471ebe[_0x1cd8('0x6ac')]?_0x471ebe:_0x2b113e)['generateMipmaps'],'minFilter':(void 0x0!==_0x471ebe[_0x1cd8('0x3f2')]?_0x471ebe:_0x2b113e)[_0x1cd8('0x3f2')],'magFilter':(void 0x0!==_0x471ebe['magFilter']?_0x471ebe:_0x2b113e)[_0x1cd8('0x3f0')]},_0x2b113e=new THREE[(_0x1cd8('0x6ef'))](0x1,0xa,_0x20f549,_0x471ebe);return _0x2b113e[_0x1cd8('0x2d3')](this[_0x1cd8('0x526')],_0x2bdca5),_0x6b2160[_0x1cd8('0xe0')][_0x1cd8('0xde')](),_0x6b2160['material'][_0x1cd8('0xde')](),_0x2b113e[_0x1cd8('0x6f0')];};_0x3765d3=new THREE['PerspectiveCamera'](0x5a,0x1,0.1,0xa),_0x2dcdc6=new THREE[(_0x1cd8('0x458'))](),(_0x4242fa=new THREE[(_0x1cd8('0x30c'))](new THREE[(_0x1cd8('0x45e'))](0x1,0x1,0x1),((_0x310ef3=new THREE['ShaderMaterial']({'uniforms':{'equirectangularMap':{'value':null}},'vertexShader':_0x1cd8('0x6f1'),'fragmentShader':_0x1cd8('0x6f2'),'blending':THREE['NoBlending']}))[_0x1cd8('0x101')]=_0x1cd8('0x6ca'),_0x310ef3)))[_0x1cd8('0x47')][_0x1cd8('0x35f')]=THREE[_0x1cd8('0x45c')],_0x2dcdc6[_0x1cd8('0x1cd')](_0x4242fa),_0x2f170c[_0x1cd8('0x11')]={'constructor':_0x2f170c,'update':function(_0x2b113e){var _0x471ebe=_0x2b113e[_0x1cd8('0x6bb')]();_0x4242fa['material'][_0x1cd8('0x176')][_0x1cd8('0x6f3')][_0x1cd8('0xf')]=this[_0x1cd8('0x6d0')];for(var _0x2bdca5=0x0;_0x2bdca5<0x6;_0x2bdca5++){var _0x6b2160=this['views'][_0x2bdca5];_0x3765d3['position']['set'](0x0,0x0,0x0),_0x3765d3['up'][_0x1cd8('0x1b')](_0x6b2160['u'][0x0],_0x6b2160['u'][0x1],_0x6b2160['u'][0x2]),_0x3765d3['lookAt'](_0x6b2160['t'][0x0],_0x6b2160['t'][0x1],_0x6b2160['t'][0x2]),_0x2b113e[_0x1cd8('0x6be')](this['renderTarget'],_0x2bdca5),_0x2b113e['clear'](),_0x2b113e[_0x1cd8('0x325')](_0x2dcdc6,_0x3765d3);}return _0x2b113e['setRenderTarget'](_0x471ebe),this['renderTarget']['texture'];},'dispose':function(){this['renderTarget'][_0x1cd8('0xde')]();}};var _0x3765d3,_0x2dcdc6,_0x4242fa,_0x310ef3=_0x2f170c;function _0x2f170c(_0x2b113e,_0x471ebe){_0x471ebe=_0x471ebe||{},this[_0x1cd8('0x6d0')]=_0x2b113e,this[_0x1cd8('0x2f8')]=_0x471ebe[_0x1cd8('0x2f8')]||0x200,this[_0x1cd8('0x6f4')]=[{'t':[0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[-0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x1,0x0],'u':[0x0,0x0,0x1]},{'t':[0x0,-0x1,0x0],'u':[0x0,0x0,-0x1]},{'t':[0x0,0x0,0x1],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x0,-0x1],'u':[0x0,-0x1,0x0]}];_0x2b113e={'format':_0x471ebe[_0x1cd8('0x460')]||this['sourceTexture'][_0x1cd8('0x460')],'magFilter':this['sourceTexture']['magFilter'],'minFilter':this[_0x1cd8('0x6d0')]['minFilter'],'type':_0x471ebe[_0x1cd8('0x101')]||this[_0x1cd8('0x6d0')]['type'],'generateMipmaps':this[_0x1cd8('0x6d0')]['generateMipmaps'],'anisotropy':this['sourceTexture'][_0x1cd8('0x525')],'encoding':this['sourceTexture'][_0x1cd8('0x464')]};this['renderTarget']=new THREE[(_0x1cd8('0x6df'))](this[_0x1cd8('0x2f8')],this['resolution'],_0x2b113e);}_0x471ebe[_0x1cd8('0x6f5')]=_0x6b2160,_0x471ebe['EquirectangularToCubeGenerator']=_0x310ef3;},function(_0x397b5a,_0x251706,_0x6cc979){'use strict';Object[_0x1cd8('0x4')](_0x251706,_0x1cd8('0x6'),{'value':!0x0}),_0x251706['RGBELoader']=void 0x0;_0x6cc979=_0x6cc979(0x1d),_0x6cc979=_0x6cc979&&_0x6cc979[_0x1cd8('0x6')]?_0x6cc979:{'default':_0x6cc979};function _0x6930b0(_0x397b5a){this[_0x1cd8('0x6f6')]=void 0x0!==_0x397b5a?_0x397b5a:THREE['DefaultLoadingManager'],this[_0x1cd8('0x101')]=THREE['UnsignedByteType'];}(_0x6930b0[_0x1cd8('0x11')]=(0x0,_0x6cc979[_0x1cd8('0xa')])(THREE[_0x1cd8('0x6f7')]['prototype']))[_0x1cd8('0x6f8')]=function(_0x397b5a){function _0x3b2d7d(_0x397b5a,_0x251706){switch(_0x397b5a){case _0x4dc99e:console[_0x1cd8('0x1fe')](_0x1cd8('0x6f9')+(_0x251706||''));break;case _0x44c2dc:console[_0x1cd8('0x1fe')]('THREE.RGBELoader\x20Write\x20Error:\x20'+(_0x251706||''));break;case _0x5f129d:console['error']('THREE.RGBELoader\x20Bad\x20File\x20Format:\x20'+(_0x251706||''));break;default:console[_0x1cd8('0x1fe')](_0x1cd8('0x6fa')+(_0x251706||''));}return _0x3e5b81;}function _0x41c53d(_0x397b5a,_0x251706,_0x6cc979){_0x251706=_0x251706||0x400;for(var _0x6930b0=_0x397b5a[_0x1cd8('0x6fb')],_0x5b2466=-0x1,_0x5e2619=0x0,_0x5197fd='',_0x575188=String[_0x1cd8('0x6fc')][_0x1cd8('0x13')](null,new Uint16Array(_0x397b5a[_0x1cd8('0x365')](_0x6930b0,_0x6930b0+0x80)));(_0x5b2466=_0x575188[_0x1cd8('0x50')](_0x1cb6fc))<0x0&&_0x5e2619<_0x251706&&_0x6930b0<_0x397b5a['byteLength'];)_0x5197fd+=_0x575188,_0x5e2619+=_0x575188[_0x1cd8('0xc')],_0x6930b0+=0x80,_0x575188+=String[_0x1cd8('0x6fc')][_0x1cd8('0x13')](null,new Uint16Array(_0x397b5a[_0x1cd8('0x365')](_0x6930b0,_0x6930b0+0x80)));return-0x1<_0x5b2466&&(!0x1!==_0x6cc979&&(_0x397b5a[_0x1cd8('0x6fb')]+=_0x5e2619+_0x5b2466+0x1),_0x5197fd+_0x575188[_0x1cd8('0x9a')](0x0,_0x5b2466));}var _0x251706,_0x6cc979,_0x6930b0,_0x17ab53,_0x30927d,_0x3e5b81=-0x1,_0x4dc99e=0x1,_0x44c2dc=0x2,_0x5f129d=0x3,_0x1cb6fc='\x0a',_0x397b5a=new Uint8Array(_0x397b5a),_0x593855=(_0x397b5a['pos']=0x0,function(_0x397b5a){var _0x251706,_0x6cc979,_0x6930b0=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,_0x17ab53=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,_0x30927d=/^\s*FORMAT=(\S+)\s*$/,_0x3e5b81=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,_0x44c2dc={'valid':0x0,'string':'','comments':'','programtype':_0x1cd8('0x6fd'),'format':'','gamma':0x1,'exposure':0x1,'width':0x0,'height':0x0};if(_0x397b5a['pos']>=_0x397b5a[_0x1cd8('0x6fe')]||!(_0x251706=_0x41c53d(_0x397b5a)))return _0x3b2d7d(_0x4dc99e,_0x1cd8('0x6ff'));if(!(_0x6cc979=_0x251706[_0x1cd8('0x700')](/^#\?(\S+)$/)))return _0x3b2d7d(_0x5f129d,'bad\x20initial\x20token');for(_0x44c2dc[_0x1cd8('0x701')]|=0x1,_0x44c2dc[_0x1cd8('0x702')]=_0x6cc979[0x1],_0x44c2dc['string']+=_0x251706+'\x0a';!0x1!==(_0x251706=_0x41c53d(_0x397b5a));)if(_0x44c2dc[_0x1cd8('0x8')]+=_0x251706+'\x0a','#'===_0x251706['charAt'](0x0))_0x44c2dc[_0x1cd8('0x703')]+=_0x251706+'\x0a';else if((_0x6cc979=_0x251706[_0x1cd8('0x700')](_0x6930b0))&&(_0x44c2dc['gamma']=parseFloat(_0x6cc979[0x1],0xa)),(_0x6cc979=_0x251706['match'](_0x17ab53))&&(_0x44c2dc[_0x1cd8('0x704')]=parseFloat(_0x6cc979[0x1],0xa)),(_0x6cc979=_0x251706[_0x1cd8('0x700')](_0x30927d))&&(_0x44c2dc['valid']|=0x2,_0x44c2dc[_0x1cd8('0x460')]=_0x6cc979[0x1]),(_0x6cc979=_0x251706[_0x1cd8('0x700')](_0x3e5b81))&&(_0x44c2dc[_0x1cd8('0x701')]|=0x4,_0x44c2dc[_0x1cd8('0x2f1')]=parseInt(_0x6cc979[0x1],0xa),_0x44c2dc[_0x1cd8('0x320')]=parseInt(_0x6cc979[0x2],0xa)),0x2&_0x44c2dc[_0x1cd8('0x701')]&&0x4&_0x44c2dc['valid'])break;return 0x2&_0x44c2dc[_0x1cd8('0x701')]?0x4&_0x44c2dc[_0x1cd8('0x701')]?_0x44c2dc:_0x3b2d7d(_0x5f129d,_0x1cd8('0x705')):_0x3b2d7d(_0x5f129d,_0x1cd8('0x706'));}(_0x397b5a));if(_0x3e5b81!==_0x593855){var _0x1f0163=_0x593855[_0x1cd8('0x320')],_0x17b6f6=_0x593855[_0x1cd8('0x2f1')],_0x29735e=function(_0x397b5a,_0x251706,_0x6cc979){var _0x6930b0,_0x17ab53,_0x30927d,_0x3e5b81,_0x44c2dc,_0x41c53d,_0x1cb6fc,_0x593855,_0x1f0163,_0x17b6f6,_0x29735e,_0x17fcc2,_0xe0b7ca,_0x306a5a=_0x251706,_0x18e1c2=_0x6cc979;if(_0x306a5a<0x8||0x7fff<_0x306a5a||0x2!==_0x397b5a[0x0]||0x2!==_0x397b5a[0x1]||0x80&_0x397b5a[0x2])return new Uint8Array(_0x397b5a);if(_0x306a5a!==(_0x397b5a[0x2]<<0x8|_0x397b5a[0x3]))return _0x3b2d7d(_0x5f129d,_0x1cd8('0x707'));if(!(_0x6930b0=new Uint8Array(0x4*_0x251706*_0x6cc979))||!_0x6930b0['length'])return _0x3b2d7d(0x4,_0x1cd8('0x708'));for(_0x30927d=_0x17ab53=0x0,_0x593855=0x4*_0x306a5a,_0xe0b7ca=new Uint8Array(0x4),_0x41c53d=new Uint8Array(_0x593855);0x0<_0x18e1c2&&_0x30927d<_0x397b5a[_0x1cd8('0x6fe')];){if(_0x30927d+0x4>_0x397b5a[_0x1cd8('0x6fe')])return _0x3b2d7d(_0x4dc99e);if(_0xe0b7ca[0x0]=_0x397b5a[_0x30927d++],_0xe0b7ca[0x1]=_0x397b5a[_0x30927d++],_0xe0b7ca[0x2]=_0x397b5a[_0x30927d++],_0xe0b7ca[0x3]=_0x397b5a[_0x30927d++],0x2!=_0xe0b7ca[0x0]||0x2!=_0xe0b7ca[0x1]||(_0xe0b7ca[0x2]<<0x8|_0xe0b7ca[0x3])!=_0x306a5a)return _0x3b2d7d(_0x5f129d,_0x1cd8('0x709'));for(_0x1cb6fc=0x0;_0x1cb6fc<_0x593855&&_0x30927d<_0x397b5a['byteLength'];){if((_0x17fcc2=0x80<(_0x3e5b81=_0x397b5a[_0x30927d++]))&&(_0x3e5b81-=0x80),0x0===_0x3e5b81||_0x593855<_0x1cb6fc+_0x3e5b81)return _0x3b2d7d(_0x5f129d,_0x1cd8('0x70a'));if(_0x17fcc2)for(_0x44c2dc=_0x397b5a[_0x30927d++],_0x1f0163=0x0;_0x1f0163<_0x3e5b81;_0x1f0163++)_0x41c53d[_0x1cb6fc++]=_0x44c2dc;else _0x41c53d['set'](_0x397b5a['subarray'](_0x30927d,_0x30927d+_0x3e5b81),_0x1cb6fc),_0x1cb6fc+=_0x3e5b81,_0x30927d+=_0x3e5b81;}for(_0x17b6f6=_0x306a5a,_0x1f0163=0x0;_0x1f0163<_0x17b6f6;_0x1f0163++)_0x6930b0[_0x17ab53]=_0x41c53d[_0x1f0163+(_0x29735e=0x0)],_0x29735e+=_0x306a5a,_0x6930b0[_0x17ab53+0x1]=_0x41c53d[_0x1f0163+_0x29735e],_0x29735e+=_0x306a5a,_0x6930b0[_0x17ab53+0x2]=_0x41c53d[_0x1f0163+_0x29735e],_0x29735e+=_0x306a5a,_0x6930b0[_0x17ab53+0x3]=_0x41c53d[_0x1f0163+_0x29735e],_0x17ab53+=0x4;_0x18e1c2--;}return _0x6930b0;}(_0x397b5a[_0x1cd8('0x365')](_0x397b5a[_0x1cd8('0x6fb')]),_0x1f0163,_0x17b6f6);if(_0x3e5b81!==_0x29735e){if(this[_0x1cd8('0x101')]===THREE[_0x1cd8('0x70b')])var _0xf23c82=_0x29735e,_0x1e8bcb=THREE[_0x1cd8('0x70c')],_0x4907fa=THREE['UnsignedByteType'];else if(this[_0x1cd8('0x101')]===THREE[_0x1cd8('0x70d')]){for(var _0x27bef5=_0x29735e[_0x1cd8('0xc')]/0x4*0x3,_0x21448d=new Float32Array(_0x27bef5),_0x47a936=0x0;_0x47a936<_0x27bef5;_0x47a936++)_0x6930b0=_0x21448d,_0x17ab53=0x3*_0x47a936,0x0,_0x30927d=(_0x251706=_0x29735e)[0x3+(_0x6cc979=0x4*_0x47a936)],_0x30927d=Math[_0x1cd8('0x308')](0x2,_0x30927d-0x80)/0xff,_0x6930b0[0x0+_0x17ab53]=_0x251706[0x0+_0x6cc979]*_0x30927d,_0x6930b0[0x1+_0x17ab53]=_0x251706[0x1+_0x6cc979]*_0x30927d,_0x6930b0[0x2+_0x17ab53]=_0x251706[0x2+_0x6cc979]*_0x30927d;_0xf23c82=_0x21448d,_0x1e8bcb=THREE[_0x1cd8('0x461')],_0x4907fa=THREE[_0x1cd8('0x70d')];}else console['error'](_0x1cd8('0x70e'),this['type']);return{'width':_0x1f0163,'height':_0x17b6f6,'data':_0xf23c82,'header':_0x593855[_0x1cd8('0x8')],'gamma':_0x593855['gamma'],'exposure':_0x593855[_0x1cd8('0x704')],'format':_0x1e8bcb,'type':_0x4907fa};}}return null;},_0x6930b0[_0x1cd8('0x11')][_0x1cd8('0x70f')]=function(_0x397b5a){return this[_0x1cd8('0x101')]=_0x397b5a,this;},_0x251706['RGBELoader']=_0x6930b0;},function(_0x412372,_0x50b706,_0x37dade){'use strict';Object[_0x1cd8('0x4')](_0x50b706,_0x1cd8('0x6'),{'value':!0x0});var _0x4fe1d6=_0x21eccf(_0x37dade(0x0));function _0x21eccf(_0x412372){return _0x412372&&_0x412372[_0x1cd8('0x6')]?_0x412372:{'default':_0x412372};}function _0xca2ee6(_0x412372){var _0x50b706=_0x412372[_0x1cd8('0x3f6')],_0x50b706=void 0x0===_0x50b706?0x6:_0x50b706,_0x37dade=_0x412372['speed'],_0x37dade=void 0x0===_0x37dade?0.005:_0x37dade,_0x21eccf=_0x412372[_0x1cd8('0x710')],_0x21eccf=void 0x0===_0x21eccf?0x32:_0x21eccf,_0x2ab51f=_0x412372[_0x1cd8('0x9f')],_0x5918c1=_0x412372[_0x1cd8('0x711')],_0x1be98d=_0x412372[_0x1cd8('0x2f3')],_0x1be98d=void 0x0===_0x1be98d?'#00335f':_0x1be98d,_0x35db3c=_0x412372[_0x1cd8('0x712')],_0x35db3c=void 0x0===_0x35db3c?0x1:_0x35db3c,_0x7e9000=_0x412372[_0x1cd8('0x4c5')],_0x7e9000=void 0x0===_0x7e9000?_0x1cd8('0x713'):_0x7e9000,_0x4831c9=_0x412372[_0x1cd8('0x714')],_0x4831c9=void 0x0===_0x4831c9?0x0:_0x4831c9,_0x412372=_0x412372[_0x1cd8('0x20a')],_0x412372=void 0x0===_0x412372?0x1:_0x412372;(0x0,_0x4fe1d6[_0x1cd8('0xa')])(this,_0xca2ee6),this['enabled']=!0x1,this[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x1be98d),this[_0x1cd8('0x4cb')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x7e9000),this[_0x1cd8('0x326')]=_0x37dade,this[_0x1cd8('0x710')]=_0x21eccf,this[_0x1cd8('0x712')]=_0x35db3c,this[_0x1cd8('0x714')]=_0x4831c9,this['opacity']=_0x412372,this[_0x1cd8('0x3f6')]=_0x50b706,this[_0x1cd8('0x715')]=null,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x9f')]=_0x2ab51f,this[_0x1cd8('0x711')]=_0x5918c1,this[_0x1cd8('0x716')]=null,this[_0x1cd8('0x717')]=[];}(0x0,_0x21eccf(_0x37dade(0x1))[_0x1cd8('0xa')])(_0xca2ee6,[{'key':'computeTopFaceAttr','value':function(_0x412372){var _0x50b706=_0x412372['datas_'][_0x1cd8('0x4cf')][_0x1cd8('0xc')];if(0x0<_0x50b706){this['targetMeshes'][_0x1cd8('0x70')](_0x412372);for(var _0x37dade=_0x412372[_0x1cd8('0xe0')][_0x1cd8('0x40c')](_0x1cd8('0x3f')),_0x21eccf=new Array(_0x37dade[_0x1cd8('0x10f')]),_0x2279cf=0x0;_0x2279cf<_0x50b706;_0x2279cf++){var _0x36305a=_0x412372['datas_'][_0x1cd8('0x4cf')][_0x2279cf][_0x1cd8('0x4d0')][0x0],_0xc9ba1c=_0x412372['datas_'][_0x1cd8('0x4cf')][_0x2279cf][_0x1cd8('0x4d1')][0x0],_0x11c7c9=_0x412372['datas_'][_0x1cd8('0x4cf')][_0x2279cf][_0x1cd8('0x4d0')][0x1];_0x21eccf[_0x1cd8('0x4d2')](0x1,_0x36305a,_0xc9ba1c),_0x21eccf[_0x1cd8('0x4d2')](0x0,_0xc9ba1c,_0x11c7c9);}_0x412372[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x4d5'),new THREE['BufferAttribute'](new Float32Array(_0x21eccf),0x1));}}},{'key':_0x1cd8('0x4e8'),'value':function(){return this['material'];}},{'key':_0x1cd8('0x2f2'),'value':function(_0x412372,_0x50b706){var _0x37dade=this,_0x21eccf=(this[_0x1cd8('0x9f')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x9f')][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0x412372?(this[_0x1cd8('0x47')]=_0x412372,this['material'][_0x1cd8('0x220')]=this[_0x1cd8('0x220')],_0x37dade[_0x1cd8('0x47')][_0x1cd8('0xdf')]&&(_0x50b706?_0x37dade[_0x1cd8('0x47')][_0x1cd8('0xdf')][_0x1cd8('0xde')]():(_0x37dade[_0x1cd8('0x47')][_0x1cd8('0x175')][_0x1cd8('0x718')]='',this[_0x1cd8('0x9f')]=_0x37dade[_0x1cd8('0x47')]['map']),_0x37dade['material']['map']=null)):this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x5f7'))]({'color':this[_0x1cd8('0x220')]}),0x1!==this['opacity']&&(this[_0x1cd8('0x47')][_0x1cd8('0x1e1')]=!0x0,this[_0x1cd8('0x47')][_0x1cd8('0x20a')]=this['opacity']),null);_0x37dade['alphaMaskPath']&&(_0x37dade[_0x1cd8('0x47')][_0x1cd8('0x175')][_0x1cd8('0x719')]='',_0x37dade[_0x1cd8('0x47')][_0x1cd8('0x1e1')]=!0x0,(_0x21eccf=new THREE[(_0x1cd8('0x9b'))]()['load'](_0x37dade[_0x1cd8('0x716')]))['flipY']=!0x1),_0x37dade['skyTexture']&&(_0x37dade[_0x1cd8('0x47')]['defines'][_0x1cd8('0x71a')]=''),this['material'][_0x1cd8('0x3d2')]=function(_0x412372){_0x412372['uniforms'][_0x1cd8('0x3da')]={'value':0x0},_0x412372[_0x1cd8('0x176')][_0x1cd8('0x71b')]={'value':_0x37dade[_0x1cd8('0x3f6')]||0x5},_0x412372[_0x1cd8('0x176')][_0x1cd8('0x710')]={'value':_0x37dade['fluctuate']},_0x412372['uniforms'][_0x1cd8('0x712')]={'value':_0x37dade[_0x1cd8('0x712')]},_0x412372[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x37dade[_0x1cd8('0x9f')]},_0x412372[_0x1cd8('0x176')][_0x1cd8('0x643')]={'value':_0x21eccf},_0x412372[_0x1cd8('0x176')][_0x1cd8('0x60e')]={'value':_0x37dade['skyTexture']},_0x412372['uniforms']['lightColor']={'value':_0x37dade[_0x1cd8('0x4cb')]},_0x412372[_0x1cd8('0x176')]['flowDirect']={'value':THREE['Math']['degToRad'](_0x37dade['flowAngle'])},_0x412372[_0x1cd8('0x3d4')]=_0x412372['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x3df'),_0x1cd8('0x71c')),_0x412372[_0x1cd8('0x3d4')]=_0x412372['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x71d')),_0x412372[_0x1cd8('0x3d4')]=_0x412372[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<project_vertex>',_0x1cd8('0x71e')),_0x412372['fragmentShader']=_0x412372['fragmentShader'][_0x1cd8('0x23d')]('uniform\x20float\x20opacity;',_0x1cd8('0x71f')),_0x412372[_0x1cd8('0x56')]=_0x412372[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x645'),_0x1cd8('0x720')),_0x412372[_0x1cd8('0x56')]=_0x412372[_0x1cd8('0x56')][_0x1cd8('0x23d')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1cd8('0x721')),_0x37dade[_0x1cd8('0x3d0')]=_0x412372;};}},{'key':_0x1cd8('0x4e7'),'value':function(_0x412372){_0x412372=_0x412372['scale'];this[_0x1cd8('0x3d0')]&&_0x412372&&(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x71b')][_0x1cd8('0xf')]=_0x412372);}},{'key':_0x1cd8('0xde'),'value':function(){this[_0x1cd8('0x47')]&&this[_0x1cd8('0x47')]['dispose'](),this[_0x1cd8('0x9f')]&&this[_0x1cd8('0x9f')]['dispose'](),this['texture']=null,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x3d0')]=null;for(var _0x412372=0x0,_0x50b706=this['targetMeshes'][_0x1cd8('0xc')];_0x412372<_0x50b706;_0x412372++)this[_0x1cd8('0x717')][_0x412372][_0x1cd8('0x47')][0x0]=null;this[_0x1cd8('0x717')][_0x1cd8('0xc')]=0x0;}},{'key':_0x1cd8('0x325'),'value':function(){this[_0x1cd8('0x47')]&&this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=this['speed'],this['shader']['uniforms'][_0x1cd8('0x3da')][_0x1cd8('0xf')]=this[_0x1cd8('0x10f')]);}}]),_0x50b706[_0x1cd8('0xa')]=_0xca2ee6;},function(_0x576a64,_0x589e12,_0x4b9f65){'use strict';Object[_0x1cd8('0x4')](_0x589e12,_0x1cd8('0x6'),{'value':!0x0});var _0xef745e=_0x15aae0(_0x4b9f65(0x26)),_0x5d7656=_0x15aae0(_0x4b9f65(0x0)),_0x5f07c2=_0x15aae0(_0x4b9f65(0x1)),_0x12fd37=_0x15aae0(_0x4b9f65(0x30)),_0x4ecb7e=_0x15aae0(_0x4b9f65(0x31)),_0x36919e=_0x15aae0(_0x4b9f65(0x3c));function _0x15aae0(_0x576a64){return _0x576a64&&_0x576a64[_0x1cd8('0x6')]?_0x576a64:{'default':_0x576a64};}function _0x7c75b3(_0x576a64){var _0x589e12=_0x576a64[_0x1cd8('0x2ad')],_0x4b9f65=_0x576a64[_0x1cd8('0x101')],_0x4b9f65=void 0x0===_0x4b9f65?'repeat':_0x4b9f65,_0x5f07c2=_0x576a64['texPath'],_0x4ecb7e=_0x576a64[_0x1cd8('0x722')],_0x4ecb7e=void 0x0===_0x4ecb7e?0.0008:_0x4ecb7e,_0x576a64=_0x576a64[_0x1cd8('0x69a')],_0x576a64=void 0x0===_0x576a64?{'x':0.05,'y':0.05}:_0x576a64,_0x36919e=((0x0,_0x5d7656[_0x1cd8('0xa')])(this,_0x7c75b3),(0x0,_0x12fd37['default'])(this,(_0x7c75b3['__proto__']||(0x0,_0xef745e['default'])(_0x7c75b3))[_0x1cd8('0x1')](this)));return _0x36919e[_0x1cd8('0x2ad')]=_0x589e12,_0x36919e[_0x1cd8('0x47')]=null,_0x36919e[_0x1cd8('0x9f')]=null,_0x36919e[_0x1cd8('0x723')]=null,_0x36919e[_0x1cd8('0x724')]=_0x1cd8('0x20')==_0x4b9f65,_0x36919e[_0x1cd8('0x2f2')](_0x5f07c2,_0x4ecb7e,_0x576a64),_0x36919e;}_0x4b9f65=_0x4b9f65(0x3b)[_0x1cd8('0x97')],(0x0,_0x4ecb7e[_0x1cd8('0xa')])(_0x7c75b3,_0x4b9f65),(0x0,_0x5f07c2[_0x1cd8('0xa')])(_0x7c75b3,[{'key':_0x1cd8('0x2f2'),'value':function(_0x576a64,_0x589e12,_0x4b9f65){var _0x5f07c2=this;this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff}),new _0x36919e[(_0x1cd8('0xa'))]()[_0x1cd8('0x725')]({'name':'ground','path':_0x576a64})['then'](function(_0x576a64){_0x5f07c2[_0x1cd8('0x9f')]=_0x576a64,_0x5f07c2[_0x1cd8('0x9f')][_0x1cd8('0x32e')]=THREE['RepeatWrapping'],_0x5f07c2[_0x1cd8('0x9f')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x5f07c2['texture']['anisotropy']=_0x5f07c2[_0x1cd8('0x2ad')]['renderer'][_0x1cd8('0x527')][_0x1cd8('0x528')](),_0x5f07c2['dispatchEvent']({'type':_0x1cd8('0x46d')});}),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x576a64){_0x576a64[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x5f07c2[_0x1cd8('0x9f')]},_0x576a64[_0x1cd8('0x176')][_0x1cd8('0x722')]={'value':_0x589e12},_0x576a64[_0x1cd8('0x176')][_0x1cd8('0x69a')]={'value':new THREE[(_0x1cd8('0x1c0'))](_0x4b9f65['x'],_0x4b9f65['y'])},_0x576a64['vertexShader']=_0x576a64[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x652'),_0x1cd8('0x726')+(_0x5f07c2['isRandom']?'#define\x20IS_RANDOM':'')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20normalizeUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x576a64[_0x1cd8('0x3d4')]=_0x576a64[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x408'),_0x1cd8('0x727')),_0x576a64[_0x1cd8('0x56')]=_0x576a64[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x418')+(_0x5f07c2[_0x1cd8('0x724')]?_0x1cd8('0x728'):'')+_0x1cd8('0x729')),_0x576a64[_0x1cd8('0x56')]=_0x576a64[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x72a'));};}},{'key':_0x1cd8('0x4e8'),'value':function(){return this['material'];}},{'key':_0x1cd8('0xde'),'value':function(){this[_0x1cd8('0x47')]&&this[_0x1cd8('0x47')]['dispose'](),this[_0x1cd8('0x9f')]&&this[_0x1cd8('0x9f')]['dispose'](),this[_0x1cd8('0x723')]&&(this[_0x1cd8('0x723')][_0x1cd8('0x47')][0x0]=null),this[_0x1cd8('0x723')]=null;}}]),_0x589e12['default']=_0x7c75b3;},function(_0x46b548,_0xef242d,_0x47334e){'use strict';Object[_0x1cd8('0x4')](_0xef242d,_0x1cd8('0x6'),{'value':!0x0});var _0x537b59=_0x316047(_0x47334e(0x0));function _0x316047(_0x46b548){return _0x46b548&&_0x46b548[_0x1cd8('0x6')]?_0x46b548:{'default':_0x46b548};}function _0xc7192d(){(0x0,_0x537b59['default'])(this,_0xc7192d),this[_0x1cd8('0x72b')]=null;}(0x0,_0x316047(_0x47334e(0x1))['default'])(_0xc7192d,[{'key':_0x1cd8('0x72c'),'value':function(){for(var _0x46b548=new Float32Array(0x7530),_0xef242d=0x0,_0x47334e=0x0;_0x47334e<0x64;_0x47334e++)for(var _0x537b59=0x0;_0x537b59<0x64;_0x537b59++)_0x46b548[_0xef242d]=0xa*_0x47334e-0x1f4,_0x46b548[_0xef242d+0x1]=0x0,_0x46b548[_0xef242d+0x2]=0xa*_0x537b59-0x1f4,_0xef242d+=0x3;var _0x316047=new THREE[(_0x1cd8('0x316'))](),_0xc7192d=(_0x316047[_0x1cd8('0x1fb')](_0x1cd8('0x3f'),new THREE[(_0x1cd8('0x381'))](_0x46b548,0x3)),new THREE[(_0x1cd8('0x448'))]({'color':0xffffff,'size':1.2}));return _0xc7192d['sizeAttenuation']=!0x1,this[_0x1cd8('0x72b')]=new THREE['Points'](_0x316047,_0xc7192d),this['particles'];}}]),_0xef242d[_0x1cd8('0xa')]=_0xc7192d;},function(_0xda05c1,_0x1cda2f,_0x4b6ca4){'use strict';Object['defineProperty'](_0x1cda2f,_0x1cd8('0x6'),{'value':!0x0});var _0x895e68=_0x5ce028(_0x4b6ca4(0x0));function _0x5ce028(_0xda05c1){return _0xda05c1&&_0xda05c1[_0x1cd8('0x6')]?_0xda05c1:{'default':_0xda05c1};}function _0x526261(_0xda05c1){var _0x1cda2f=_0xda05c1[_0x1cd8('0x326')],_0x1cda2f=void 0x0===_0x1cda2f?0.5:_0x1cda2f,_0xda05c1=_0xda05c1[_0x1cd8('0x477')],_0xda05c1=void 0x0===_0xda05c1?[0.078125,0.9375]:_0xda05c1;(0x0,_0x895e68[_0x1cd8('0xa')])(this,_0x526261),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x47')]=null,this['shader']=null,this[_0x1cd8('0x477')]=_0xda05c1,this[_0x1cd8('0x326')]=_0x1cda2f,this[_0x1cd8('0x10f')]=0x0;}(0x0,_0x5ce028(_0x4b6ca4(0x1))['default'])(_0x526261,[{'key':_0x1cd8('0x7'),'value':function(_0xda05c1){_0xda05c1=_0xda05c1[_0x1cd8('0x226')],_0xda05c1=void 0x0===_0xda05c1?0x64:_0xda05c1,_0xda05c1=new THREE[(_0x1cd8('0x3e3'))](_0xda05c1,_0xda05c1),_0xda05c1=new THREE[(_0x1cd8('0x30c'))](_0xda05c1,this[_0x1cd8('0x47')]);return _0xda05c1[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0xda05c1),this[_0x1cd8('0x322')];}},{'key':'createMaterial','value':function(_0xda05c1){var _0x1cda2f=_0xda05c1['texture'],_0x4b6ca4=_0xda05c1[_0x1cd8('0x2ea')],_0x895e68=void 0x0===_0x4b6ca4?{'x':0x0,'y':0x0}:_0x4b6ca4,_0x4b6ca4=_0xda05c1[_0x1cd8('0x2f3')],_0x5ce028=void 0x0===_0x4b6ca4?_0x1cd8('0x400'):_0x4b6ca4,_0xda05c1=this[_0x1cd8('0x68d')](),_0x526261=new THREE[(_0x1cd8('0x68e'))](_0xda05c1),_0x4aa68b=(_0x1cda2f[_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x1cda2f[_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],this[_0x1cd8('0x47')]=new THREE['MeshStandardMaterial']({'transparent':!0x0,'depthWrite':!0x1}),this);return this['material'][_0x1cd8('0x3d2')]=function(_0xda05c1){_0xda05c1[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':0x0},_0xda05c1[_0x1cd8('0x176')]['texture1']={'value':_0x1cda2f},_0xda05c1[_0x1cd8('0x176')][_0x1cd8('0x401')]={'value':_0x526261},_0xda05c1[_0x1cd8('0x176')][_0x1cd8('0x69a')]={'value':new THREE['Vector2'](_0x895e68['x'],_0x895e68['y'])},_0xda05c1['uniforms'][_0x1cd8('0x220')]={'value':new THREE[(_0x1cd8('0x1c3'))](_0x5ce028)},_0xda05c1['vertexShader']=_0xda05c1[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),_0x1cd8('0x72d')),_0xda05c1['vertexShader']=_0xda05c1[_0x1cd8('0x3d4')]['replace'](_0x1cd8('0x3d6'),_0x1cd8('0x72e')),_0xda05c1[_0x1cd8('0x56')]=_0xda05c1[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xda05c1[_0x1cd8('0x56')]=_0xda05c1[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x72f')),_0x4aa68b[_0x1cd8('0x3d0')]=_0xda05c1;},this[_0x1cd8('0x47')];}},{'key':_0x1cd8('0x68d'),'value':function(){var _0xda05c1=document['createElement']('canvas'),_0x1cda2f=(_0xda05c1['width']=0x100,_0xda05c1[_0x1cd8('0x2f1')]=0x100,_0xda05c1[_0x1cd8('0x471')]('2d')),_0x4b6ca4=_0x1cda2f[_0x1cd8('0x4ee')](0x80,0x80,0x80*this['transFactor'][0x0],0x80,0x80,0x80*this[_0x1cd8('0x477')][0x1]);return _0x4b6ca4[_0x1cd8('0x4ef')](0x0,_0x1cd8('0x4f0')),_0x4b6ca4[_0x1cd8('0x4ef')](0x1,'rgba(0,\x200,\x200,\x201)'),_0x1cda2f[_0x1cd8('0x4b5')]=_0x4b6ca4,_0x1cda2f['fillRect'](0x0,0x0,0x100,0x100),_0xda05c1;}},{'key':_0x1cd8('0xde'),'value':function(){this[_0x1cd8('0x47')]&&this[_0x1cd8('0x47')][_0x1cd8('0xde')](),this[_0x1cd8('0x3d0')],this[_0x1cd8('0x3d0')]=null,this['object3d']=null;}},{'key':_0x1cd8('0x325'),'value':function(_0xda05c1){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=_0xda05c1*this[_0x1cd8('0x326')],this[_0x1cd8('0x3d0')]['uniforms']['iTime'][_0x1cd8('0xf')]=this[_0x1cd8('0x10f')]);}}]),_0x1cda2f['default']=_0x526261;},function(_0x5c71a7,_0x243b73,_0x28d765){'use strict';Object[_0x1cd8('0x4')](_0x243b73,_0x1cd8('0x6'),{'value':!0x0});var _0x28f768=_0xc45507(_0x28d765(0x0));function _0xc45507(_0x5c71a7){return _0x5c71a7&&_0x5c71a7[_0x1cd8('0x6')]?_0x5c71a7:{'default':_0x5c71a7};}function _0x33618c(_0x5c71a7){var _0x243b73=_0x5c71a7[_0x1cd8('0x2f3')],_0x243b73=void 0x0===_0x243b73?'#FFFFFF':_0x243b73,_0x28d765=_0x5c71a7[_0x1cd8('0x226')],_0x28d765=void 0x0===_0x28d765?0x3e8:_0x28d765,_0xc45507=_0x5c71a7[_0x1cd8('0x2ea')],_0xc45507=void 0x0===_0xc45507?{'x':0xa,'y':0xa}:_0xc45507,_0x461ecd=_0x5c71a7['transFactor'],_0x461ecd=void 0x0===_0x461ecd?[0.078125,0.9375]:_0x461ecd,_0x1101d9=_0x5c71a7[_0x1cd8('0x730')],_0x1101d9=void 0x0===_0x1101d9?_0x1cd8('0x731'):_0x1101d9,_0x111c9c=_0x5c71a7[_0x1cd8('0x732')],_0x111c9c=void 0x0===_0x111c9c||_0x111c9c,_0x334328=_0x5c71a7['scanLightColorStr'],_0x334328=void 0x0===_0x334328?_0x1cd8('0x400'):_0x334328,_0x5c71a7=_0x5c71a7[_0x1cd8('0x326')],_0x5c71a7=void 0x0===_0x5c71a7?0.5:_0x5c71a7;(0x0,_0x28f768['default'])(this,_0x33618c),this['object3d']=new THREE['Object3D'](),this[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x243b73),this[_0x1cd8('0x226')]=_0x28d765,this['texRepeat']=_0xc45507,this[_0x1cd8('0x477')]=_0x461ecd,this[_0x1cd8('0x730')]=_0x1101d9,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x326')]=_0x5c71a7,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x732')]=_0x111c9c,this[_0x1cd8('0x733')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x334328);}(0x0,_0xc45507(_0x28d765(0x1))['default'])(_0x33618c,[{'key':_0x1cd8('0x734'),'value':function(_0x243b73,_0x28d765){var _0x5c71a7=this['createCircleGradient'](),_0xc45507=new THREE[(_0x1cd8('0x68e'))](_0x5c71a7),_0x5c71a7=(this['radius'],this[_0x1cd8('0x220')],new THREE['PlaneBufferGeometry'](0x2*this[_0x1cd8('0x226')],0x2*this[_0x1cd8('0x226')])),_0x1b8e6c=new THREE['MeshBasicMaterial']({'color':this[_0x1cd8('0x220')],'transparent':!0x0}),_0x1b8e6c=new((_0x1cd8('0x735'))===this[(_0x1cd8('0x730'))]?THREE[(_0x1cd8('0x44f'))]:'standard'===this[(_0x1cd8('0x730'))]?THREE[(_0x1cd8('0x5f7'))]:THREE[(_0x1cd8('0x3d1'))])({'color':this[_0x1cd8('0x220')],'transparent':!0x0}),_0x28c1f2=this;return _0x1b8e6c[_0x1cd8('0x3d2')]=function(_0x5c71a7){_0x5c71a7[_0x1cd8('0x176')]['iTime']={'value':0x0},_0x5c71a7[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x243b73},_0x5c71a7[_0x1cd8('0x176')]['scanTexture']={'value':_0x28d765},_0x5c71a7[_0x1cd8('0x176')]['scanLightColor']={'value':_0x28c1f2[_0x1cd8('0x733')]},_0x5c71a7['uniforms']['alphaTex']={'value':_0xc45507},_0x5c71a7[_0x1cd8('0x3d4')]=_0x5c71a7[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5c71a7[_0x1cd8('0x3d4')]=_0x5c71a7[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x736')+_0x28c1f2['texRepeat']['x'][_0x1cd8('0x737')](0x1)+',\x20'+_0x28c1f2['texRepeat']['y'][_0x1cd8('0x737')](0x1)+_0x1cd8('0x738')),_0x5c71a7[_0x1cd8('0x56')]=_0x5c71a7[_0x1cd8('0x56')][_0x1cd8('0x23d')]('uniform\x20float\x20opacity;',_0x1cd8('0x48d')+(_0x243b73?'#define\x20IS_TEXTURE':'')+_0x1cd8('0x48d')+(_0x28c1f2['isShowScanLight']?_0x1cd8('0x739'):'')+_0x1cd8('0x73a')),_0x5c71a7[_0x1cd8('0x56')]=_0x5c71a7[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SCAN_LIGHT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20scanTex\x20=\x20texture2D(scanTexture,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20scanTex.rgb\x20=\x20centerSpreadLine(scanTex.rgb,\x20iTime,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scanTex.rgb\x20*=\x20(waveSpread(nUV)\x20+\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20scanTex,\x20scanTex.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20alphaColor.g\x20*\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x28c1f2[_0x1cd8('0x3d0')]=_0x5c71a7;},{'geometry':_0x5c71a7,'material':_0x1b8e6c};}},{'key':_0x1cd8('0x68d'),'value':function(){var _0x5c71a7=document[_0x1cd8('0x79')]('canvas'),_0x243b73=(_0x5c71a7[_0x1cd8('0x320')]=0x100,_0x5c71a7[_0x1cd8('0x2f1')]=0x100,_0x5c71a7[_0x1cd8('0x471')]('2d')),_0x28d765=_0x243b73[_0x1cd8('0x4ee')](0x80,0x80,0x80*this[_0x1cd8('0x477')][0x0],0x80,0x80,0x80*this['transFactor'][0x1]);return _0x28d765['addColorStop'](0x0,_0x1cd8('0x4f0')),_0x28d765[_0x1cd8('0x4ef')](0x1,'rgba(0,\x200,\x200,\x201)'),_0x243b73[_0x1cd8('0x4b5')]=_0x28d765,_0x243b73[_0x1cd8('0x4b6')](0x0,0x0,0x100,0x100),_0x5c71a7;}},{'key':'dispose','value':function(){this[_0x1cd8('0x47')]&&this[_0x1cd8('0x47')][_0x1cd8('0xde')](),this['shader'],this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x322')]=null;}},{'key':'render','value':function(_0x5c71a7){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=_0x5c71a7*this[_0x1cd8('0x326')],this['shader'][_0x1cd8('0x176')][_0x1cd8('0x3da')]['value']=this[_0x1cd8('0x10f')]);}}]),_0x243b73[_0x1cd8('0xa')]=_0x33618c;},function(_0x4ec92e,_0x1b11e9,_0x10deac){'use strict';Object[_0x1cd8('0x4')](_0x1b11e9,_0x1cd8('0x6'),{'value':!0x0});var _0x23d702=_0xd740a4(_0x10deac(0x0));function _0xd740a4(_0x4ec92e){return _0x4ec92e&&_0x4ec92e[_0x1cd8('0x6')]?_0x4ec92e:{'default':_0x4ec92e};}function _0x237436(){(0x0,_0x23d702[_0x1cd8('0xa')])(this,_0x237436),this['object3d']=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x73b')]=null,this[_0x1cd8('0x9f')]=null,this[_0x1cd8('0x47')]=null;}(0x0,_0xd740a4(_0x10deac(0x1))['default'])(_0x237436,[{'key':'playVideo','value':function(){this[_0x1cd8('0x73b')]&&this['videoElement'][_0x1cd8('0x73c')]();}},{'key':_0x1cd8('0x584'),'value':function(){this[_0x1cd8('0x73b')]&&(this[_0x1cd8('0x73b')][_0x1cd8('0x73d')]=!0x1);}},{'key':'createVideoElement','value':function(_0x4ec92e,_0x1b11e9){var _0x10deac=document[_0x1cd8('0x79')]('video'),_0x4ec92e=(_0x10deac[_0x1cd8('0x73e')][_0x1cd8('0x62')]='none',_0x10deac[_0x1cd8('0x73f')]('id',_0x4ec92e),_0x10deac[_0x1cd8('0x1da')]=!0x0,_0x10deac[_0x1cd8('0x73d')]=!0x0,_0x10deac[_0x1cd8('0x740')]=!0x0,_0x10deac[_0x1cd8('0x741')]='anonymous',document[_0x1cd8('0x79')](_0x1cd8('0x742')));return _0x4ec92e[_0x1cd8('0x73f')](_0x1cd8('0x101'),'video/mp4;\x20codecs=\x22avc1.42E01E,\x20mp4a.40.2'),_0x4ec92e[_0x1cd8('0x73f')](_0x1cd8('0x64'),_0x1b11e9),_0x10deac[_0x1cd8('0x743')]=0x1,_0x10deac[_0x1cd8('0x63')](_0x4ec92e),this[_0x1cd8('0x73b')]=_0x10deac,this[_0x1cd8('0x73b')];}},{'key':_0x1cd8('0x2f2'),'value':function(){if(this['videoElement'])return this[_0x1cd8('0x9f')]=new THREE['VideoTexture'](this['videoElement']),this['material']=new THREE[(_0x1cd8('0x3d1'))]({'map':this[_0x1cd8('0x9f')],'side':THREE[_0x1cd8('0x2fe')]}),this['material'];}},{'key':_0x1cd8('0x7'),'value':function(_0x4ec92e){var _0x1b11e9=_0x4ec92e[_0x1cd8('0x320')],_0x4ec92e=_0x4ec92e[_0x1cd8('0x2f1')],_0x1b11e9=new THREE['PlaneBufferGeometry'](_0x1b11e9,_0x4ec92e),_0x4ec92e=new THREE[(_0x1cd8('0x30c'))](_0x1b11e9,this[_0x1cd8('0x47')]);return this[_0x1cd8('0x322')]['add'](_0x4ec92e),this['object3d'];}}]),_0x1b11e9[_0x1cd8('0xa')]=_0x237436;},function(_0x55817e,_0x305473,_0x17d4a9){'use strict';Object[_0x1cd8('0x4')](_0x305473,_0x1cd8('0x6'),{'value':!0x0});var _0x58f60f=_0x652a8b(_0x17d4a9(0x0)),_0x17d4a9=_0x652a8b(_0x17d4a9(0x1));function _0x652a8b(_0x55817e){return _0x55817e&&_0x55817e[_0x1cd8('0x6')]?_0x55817e:{'default':_0x55817e};}function _0x36b7fc(_0x55817e){_0x55817e=_0x55817e[_0x1cd8('0x2f3')],_0x55817e=void 0x0===_0x55817e?'#FFFFFF':_0x55817e;(0x0,_0x58f60f['default'])(this,_0x36b7fc),this[_0x1cd8('0x4db')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x55817e),this[_0x1cd8('0x47')]=null;}Array[_0x1cd8('0x11')][_0x1cd8('0x4d2')]||Object[_0x1cd8('0x4')](Array[_0x1cd8('0x11')],_0x1cd8('0x4d2'),{'value':function(_0x55817e){if(null==this)throw new TypeError(_0x1cd8('0x510'));for(var _0x305473=Object(this),_0x17d4a9=_0x305473[_0x1cd8('0xc')]>>>0x0,_0x58f60f=arguments[0x1]>>0x0,_0x652a8b=_0x58f60f<0x0?Math[_0x1cd8('0xe4')](_0x17d4a9+_0x58f60f,0x0):Math[_0x1cd8('0x81')](_0x58f60f,_0x17d4a9),_0x58f60f=arguments[0x2],_0x58f60f=void 0x0===_0x58f60f?_0x17d4a9:_0x58f60f>>0x0,_0x36b7fc=_0x58f60f<0x0?Math[_0x1cd8('0xe4')](_0x17d4a9+_0x58f60f,0x0):Math['min'](_0x58f60f,_0x17d4a9);_0x652a8b<_0x36b7fc;)_0x305473[_0x652a8b]=_0x55817e,_0x652a8b++;return _0x305473;}}),(0x0,_0x17d4a9[_0x1cd8('0xa')])(_0x36b7fc,[{'key':'computeTopFaceAttr','value':function(_0x55817e){var _0x305473=_0x55817e[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x1cd8('0xc')];if(0x0<_0x305473){for(var _0x17d4a9=_0x55817e['geometry'][_0x1cd8('0x40c')]('position'),_0x58f60f=new Array(_0x17d4a9[_0x1cd8('0x10f')]),_0x652a8b=0x0;_0x652a8b<_0x305473;_0x652a8b++){var _0x36b7fc=_0x55817e[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x652a8b][_0x1cd8('0x4d0')][0x0],_0x4e2198=_0x55817e[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x652a8b][_0x1cd8('0x4d1')][0x0],_0x921a2e=_0x55817e[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x652a8b][_0x1cd8('0x4d0')][0x1];_0x58f60f[_0x1cd8('0x4d2')](0x1,_0x36b7fc,_0x4e2198),_0x58f60f[_0x1cd8('0x4d2')](0x0,_0x4e2198,_0x921a2e);}_0x55817e[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x4d5'),new THREE[(_0x1cd8('0x381'))](new Float32Array(_0x58f60f),0x1));}}},{'key':'createMaterial','value':function(_0x55817e){var _0x305473=_0x55817e[_0x1cd8('0x5c4')],_0x17d4a9=_0x55817e[_0x1cd8('0x744')];return _0x305473&&_0x305473[_0x1cd8('0x745')](),_0x17d4a9&&_0x17d4a9[_0x1cd8('0x745')](),this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x44f'))]({'color':this[_0x1cd8('0x4db')]}),this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x55817e){_0x305473&&(_0x55817e[_0x1cd8('0x176')]['topTex']={'value':_0x305473},_0x55817e[_0x1cd8('0x176')]['topTexMat']={'value':_0x305473[_0x1cd8('0x746')]}),_0x17d4a9&&(_0x55817e[_0x1cd8('0x176')][_0x1cd8('0x5f8')]={'value':_0x17d4a9},_0x55817e[_0x1cd8('0x176')][_0x1cd8('0x747')]={'value':_0x17d4a9[_0x1cd8('0x746')]}),_0x55817e[_0x1cd8('0x3d4')]=_0x55817e['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x3df'),_0x1cd8('0x4dc')+(_0x305473?_0x1cd8('0x748'):'')+_0x1cd8('0x418')+(_0x17d4a9?_0x1cd8('0x749'):'')+_0x1cd8('0x74a')),_0x55817e[_0x1cd8('0x3d4')]=_0x55817e['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x74b')),_0x55817e[_0x1cd8('0x56')]=_0x55817e['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),_0x1cd8('0x418')+(_0x305473?_0x1cd8('0x748'):'')+_0x1cd8('0x418')+(_0x17d4a9?'#define\x20USE_SIDE_TEX':'')+_0x1cd8('0x74c')),_0x55817e[_0x1cd8('0x56')]=_0x55817e['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TOP_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor\x20=\x20texture2D(topTex,\x20tvUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5)\x20resultColor\x20=\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SIDE_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20sideTexColor\x20=\x20texture2D(sideTex,\x20svUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20<\x200.5)\x20resultColor\x20=\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},this[_0x1cd8('0x47')];}}]),_0x305473[_0x1cd8('0xa')]=_0x36b7fc;},function(_0x3495b3,_0xc3f0a2,_0x350ddc){'use strict';Object[_0x1cd8('0x4')](_0xc3f0a2,_0x1cd8('0x6'),{'value':!0x0});var _0x6c27ca=_0x414a8d(_0x350ddc(0x0));function _0x414a8d(_0x3495b3){return _0x3495b3&&_0x3495b3['__esModule']?_0x3495b3:{'default':_0x3495b3};}function _0x103784(_0x3495b3){var _0xc3f0a2=_0x3495b3[_0x1cd8('0x47')],_0x350ddc=_0x3495b3['num'],_0x414a8d=_0x3495b3[_0x1cd8('0x2fb')],_0x389057=_0x3495b3[_0x1cd8('0x74d')],_0x1b545f=_0x3495b3[_0x1cd8('0xe0')],_0x4cfd43=_0x3495b3[_0x1cd8('0x6fb')],_0x459034=_0x3495b3['rot'],_0x3495b3=_0x3495b3[_0x1cd8('0x3f6')];(0x0,_0x6c27ca[_0x1cd8('0xa')])(this,_0x103784),this['num']=_0x350ddc||0x3e8,this[_0x1cd8('0x2fb')]=_0x414a8d,this[_0x1cd8('0x74d')]=_0x389057,this['isMorph']=!0x1,this[_0x1cd8('0x74e')]=!0x1,this[_0x1cd8('0x47')]=_0xc3f0a2||new THREE[(_0x1cd8('0x3d1'))]({'color':0xff00}),this[_0x1cd8('0x74f')]=void 0x0!==this[_0x1cd8('0x47')]['morphTargets']&&this['material'][_0x1cd8('0x750')],this['setGeometry']({'geometry':_0x1b545f,'pos':_0x4cfd43,'rot':_0x459034,'scale':_0x3495b3}),this['setMaterial'](),this[_0x1cd8('0x74d')]&&this[_0x1cd8('0x751')](),this[_0x1cd8('0x428')]=new THREE[(_0x1cd8('0x30c'))](this[_0x1cd8('0xe0')],this[_0x1cd8('0x47')]),this['mesh'][_0x1cd8('0x752')]=!0x0,this[_0x1cd8('0x428')][_0x1cd8('0x753')]=!0x0,this[_0x1cd8('0x428')][_0x1cd8('0x40f')]=!0x1,this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](this['mesh']),this[_0x1cd8('0x428')][_0x1cd8('0x754')]=this[_0x1cd8('0x755')];}(0x0,_0x414a8d(_0x350ddc(0x1))[_0x1cd8('0xa')])(_0x103784,[{'key':_0x1cd8('0x307'),'value':function(_0x3495b3){var _0xc3f0a2,_0x350ddc;for(_0x350ddc in this[_0x1cd8('0x2df')](),_0xc3f0a2=void 0x0!==_0x3495b3[_0x1cd8('0x428')]?_0x3495b3[_0x1cd8('0x428')][_0x1cd8('0xe0')]:void 0x0!==_0x3495b3[_0x1cd8('0xe0')]?_0x3495b3[_0x1cd8('0xe0')]:new THREE['BoxBufferGeometry'](0x1,0x1,0x1),this['geometry']=new THREE[(_0x1cd8('0x756'))](),this['geometry'][_0x1cd8('0x757')]=this['num'],_0xc3f0a2['attributes'])this['geometry'][_0x1cd8('0x1fb')](_0x350ddc,_0xc3f0a2[_0x1cd8('0x40c')](_0x350ddc));if(this[_0x1cd8('0xe0')]['setIndex'](_0xc3f0a2['getIndex']()),this['isMorph']){var _0x414a8d=_0xc3f0a2[_0x1cd8('0x758')];for(_0x350ddc in _0x414a8d){for(var _0x408f03=[],_0x425202=_0x414a8d[_0x350ddc],_0x2340d1=0x0,_0x1da393=_0x425202[_0x1cd8('0xc')];_0x2340d1<_0x1da393;_0x2340d1++)_0x408f03[_0x1cd8('0x70')](_0x425202[_0x2340d1][_0x1cd8('0x1bb')]());this[_0x1cd8('0xe0')][_0x1cd8('0x758')][_0x350ddc]=_0x408f03;}this[_0x1cd8('0xe0')][_0x1cd8('0x750')]=_0xc3f0a2[_0x1cd8('0x750')];}this[_0x1cd8('0x759')]=new Float32Array(0x3*this[_0x1cd8('0x75a')]),this[_0x1cd8('0x75b')]=new Float32Array(0x3*this[_0x1cd8('0x75a')]),this[_0x1cd8('0x75c')]=new Float32Array(0x4*this[_0x1cd8('0x75a')]);for(var _0x6c27ca=new THREE[(_0x1cd8('0x75d'))](),_0x103784=new THREE[(_0x1cd8('0x75e'))](),_0x382ce2=THREE[_0x1cd8('0x15')][_0x1cd8('0x75f')],_0x2340d1=0x0;_0x2340d1<this[_0x1cd8('0x75a')];_0x2340d1++){var _0x3df7fc=0x3*_0x2340d1,_0x5e57a0=0x4*_0x2340d1;_0x3495b3[_0x1cd8('0x6fb')]?(this[_0x1cd8('0x759')][_0x3df7fc]=_0x3495b3[_0x1cd8('0x6fb')][_0x3df7fc],this[_0x1cd8('0x759')][0x1+_0x3df7fc]=_0x3495b3['pos'][0x1+_0x3df7fc],this[_0x1cd8('0x759')][0x2+_0x3df7fc]=_0x3495b3[_0x1cd8('0x6fb')][0x2+_0x3df7fc]):(this['offsets'][_0x3df7fc]=Math[_0x1cd8('0x760')](-0xc8,0xc8),this[_0x1cd8('0x759')][0x1+_0x3df7fc]=Math[_0x1cd8('0x760')](-0x14,0x14),this[_0x1cd8('0x759')][0x2+_0x3df7fc]=Math[_0x1cd8('0x760')](-0xc8,0xc8)),_0x3495b3[_0x1cd8('0x761')]?_0x6c27ca[_0x1cd8('0x762')](_0x103784['set'](_0x3495b3['rot'][_0x3df7fc]*_0x382ce2,_0x3495b3[_0x1cd8('0x761')][0x1+_0x3df7fc]*_0x382ce2,_0x3495b3[_0x1cd8('0x761')][0x2+_0x3df7fc]*_0x382ce2)):_0x6c27ca[_0x1cd8('0x1b')](0x0,0x0,0x0,0x1),_0x6c27ca['normalize'](),this[_0x1cd8('0x75c')][_0x5e57a0]=_0x6c27ca['x'],this[_0x1cd8('0x75c')][0x1+_0x5e57a0]=_0x6c27ca['y'],this[_0x1cd8('0x75c')][0x2+_0x5e57a0]=_0x6c27ca['z'],this['orientations'][0x3+_0x5e57a0]=_0x6c27ca['w'],_0x3495b3[_0x1cd8('0x3f6')]?(this[_0x1cd8('0x75b')][_0x3df7fc]=_0x3495b3[_0x1cd8('0x3f6')][_0x3df7fc],this['scales'][0x1+_0x3df7fc]=_0x3495b3[_0x1cd8('0x3f6')][0x1+_0x3df7fc],this['scales'][0x2+_0x3df7fc]=_0x3495b3[_0x1cd8('0x3f6')][0x2+_0x3df7fc]):(this[_0x1cd8('0x75b')][_0x3df7fc]=0x1,this['scales'][0x1+_0x3df7fc]=0x1,this[_0x1cd8('0x75b')][0x2+_0x3df7fc]=0x1);}this[_0x1cd8('0x763')]=new THREE['InstancedBufferAttribute'](this[_0x1cd8('0x759')],0x3)['setDynamic'](!0x0),this[_0x1cd8('0x764')]=new THREE['InstancedBufferAttribute'](this[_0x1cd8('0x75b')],0x3),this[_0x1cd8('0x765')]=new THREE[(_0x1cd8('0x766'))](this['orientations'],0x4),this[_0x1cd8('0xe0')]['addAttribute'](_0x1cd8('0x10a'),this[_0x1cd8('0x763')]),this[_0x1cd8('0xe0')]['addAttribute'](_0x1cd8('0x75b'),this[_0x1cd8('0x764')]),this[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x767'),this[_0x1cd8('0x765')]);}},{'key':_0x1cd8('0x768'),'value':function(){var _0xc3f0a2=[][_0x1cd8('0x117')]('\x0a'),_0x350ddc=(this['vertexPars_V2']=[_0x1cd8('0x769'),_0x1cd8('0x76a'),_0x1cd8('0x76b'),'attribute\x20vec3\x20scales;',_0x1cd8('0x76c'),_0x1cd8('0x76d'),_0x1cd8('0x76e'),_0x1cd8('0x76f'),_0x1cd8('0x770'),'float\x20yy\x20=\x20y\x20*\x20y2,\x20yz\x20=\x20y\x20*\x20z2,\x20zz\x20=\x20z\x20*\x20z2;',_0x1cd8('0x771'),_0x1cd8('0x772'),'mat4\x20B;',_0x1cd8('0x773'),_0x1cd8('0x774'),_0x1cd8('0x775'),'B[0][3]\x20=\x200.0;',_0x1cd8('0x776'),'B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;',_0x1cd8('0x777'),_0x1cd8('0x778'),_0x1cd8('0x779'),_0x1cd8('0x77a'),_0x1cd8('0x77b'),'B[2][3]\x20=\x200.0;',_0x1cd8('0x77c'),'B[3][1]\x20=\x20position.y;',_0x1cd8('0x77d'),'B[3][3]\x20=\x201.0;',_0x1cd8('0x77e'),'}',_0x1cd8('0x77f'),_0x1cd8('0x780'),'}'][_0x1cd8('0x117')]('\x0a')+'\x0a',this[_0x1cd8('0x781')]=[_0x1cd8('0x769'),_0x1cd8('0x76a'),'attribute\x20vec3\x20offset;','attribute\x20vec3\x20scales;',_0x1cd8('0x76c'),'mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{',_0x1cd8('0x76e'),_0x1cd8('0x76f'),_0x1cd8('0x770'),'float\x20yy\x20=\x20y\x20*\x20y2,\x20yz\x20=\x20y\x20*\x20z2,\x20zz\x20=\x20z\x20*\x20z2;',_0x1cd8('0x771'),_0x1cd8('0x772'),_0x1cd8('0x782'),_0x1cd8('0x773'),_0x1cd8('0x774'),'B[0][2]\x20=\x20(\x20xz\x20-\x20wy\x20)\x20*\x20sx;',_0x1cd8('0x783'),_0x1cd8('0x776'),'B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;',_0x1cd8('0x777'),'B[1][3]\x20=\x200.0;',_0x1cd8('0x779'),_0x1cd8('0x77a'),_0x1cd8('0x77b'),'B[2][3]\x20=\x200.0;',_0x1cd8('0x77c'),_0x1cd8('0x784'),_0x1cd8('0x77d'),'B[3][3]\x20=\x201.0;','return\x20B;','}','mat3\x20tmpInverse(\x20mat3\x20A\x20)\x20{','float\x20n11\x20=\x20A[0][0],\x20n21\x20=\x20A[0][1],\x20n31\x20=\x20A[0][2];','float\x20n12\x20=\x20A[1][0],\x20n22\x20=\x20A[1][1],\x20n32\x20=\x20A[1][2];',_0x1cd8('0x785'),_0x1cd8('0x786'),_0x1cd8('0x787'),_0x1cd8('0x788'),_0x1cd8('0x789'),'float\x20detInv\x20=\x201.0\x20/\x20det;','mat3\x20B;',_0x1cd8('0x78a'),_0x1cd8('0x78b'),_0x1cd8('0x78c'),_0x1cd8('0x78d'),_0x1cd8('0x78e'),_0x1cd8('0x78f'),_0x1cd8('0x790'),_0x1cd8('0x791'),_0x1cd8('0x792'),_0x1cd8('0x77e'),'}',_0x1cd8('0x793'),_0x1cd8('0x794'),_0x1cd8('0x795'),_0x1cd8('0x796'),_0x1cd8('0x797'),_0x1cd8('0x798'),_0x1cd8('0x799'),'B[1][2]\x20=\x20A[2][1];','B[2][0]\x20=\x20A[0][2];','B[2][1]\x20=\x20A[1][2];','B[2][2]\x20=\x20A[2][2];',_0x1cd8('0x77e'),'}',_0x1cd8('0x77f'),_0x1cd8('0x79a'),'}'][_0x1cd8('0x117')]('\x0a')+'\x0a',this[_0x1cd8('0x79b')]=[_0x1cd8('0x79c'),'mat4\x20viewMatrix\x20=\x20(\x20cmtx\x20*\x20world\x20);'][_0x1cd8('0x117')]('\x0a')+'\x0a',this[_0x1cd8('0x79d')]=[_0x1cd8('0x79e'),_0x1cd8('0x416')]['join']('\x0a')+'\x0a',this[_0x1cd8('0x79f')]=[_0x1cd8('0x7a0'),_0x1cd8('0x7a1'),_0x1cd8('0x127')]['join']('\x0a')+'\x0a',this['normalVertex']=[_0x1cd8('0x7a2'),_0x1cd8('0x7a3'),_0x1cd8('0x7a4'),'transformedNormal\x20=\x20-\x20transformedNormal;','#endif',_0x1cd8('0x7a5'),'vec3\x20transformedTangent\x20=\x20normalMatrix\x20*\x20objectTangent;',_0x1cd8('0x7a4'),_0x1cd8('0x7a6'),_0x1cd8('0x127'),'#endif'][_0x1cd8('0x117')]('\x0a')+'\x0a',this[_0x1cd8('0x7a7')]=['#ifdef\x20USE_MORPHTARGETS',_0x1cd8('0x7a8'),'transformed\x20+=\x20(\x20morphTarget1\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x201\x20];',_0x1cd8('0x7a9'),'transformed\x20+=\x20(\x20morphTarget3\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x203\x20];',_0x1cd8('0x7aa'),_0x1cd8('0x7ab'),'transformed\x20+=\x20(\x20morphTarget5\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x205\x20];',_0x1cd8('0x7ac'),_0x1cd8('0x7ad'),_0x1cd8('0x127'),_0x1cd8('0x127')]['join']('\x0a')+'\x0a',this);this[_0x1cd8('0x47')][_0x1cd8('0x3d2')]=function(_0x3495b3){_0x3495b3[_0x1cd8('0x176')][_0x1cd8('0x7ae')]={'value':_0x350ddc['camera']['matrixWorldInverse']},_0x3495b3[_0x1cd8('0x176')][_0x1cd8('0x7af')]={'value':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]},_0x3495b3[_0x1cd8('0x3d4')]=_0x3495b3[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x7b0'),_0x1cd8('0x7b0')+_0x350ddc[_0x1cd8('0x781')])[_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x7b1')+_0x350ddc[_0x1cd8('0x79b')])[_0x1cd8('0x23d')](_0x1cd8('0x7b2'),_0x350ddc[_0x1cd8('0x7b3')])[_0x1cd8('0x23d')](_0x1cd8('0x614'),_0x350ddc['projectVertex'])[_0x1cd8('0x23d')](_0x1cd8('0x7b4'),_0x350ddc[_0x1cd8('0x79f')]),_0x3495b3['fragmentShader']=_0xc3f0a2+'\x0a'+_0x3495b3[_0x1cd8('0x56')],this[_0x1cd8('0x176')]=_0x3495b3[_0x1cd8('0x176')];};}},{'key':_0x1cd8('0x751'),'value':function(){this[_0x1cd8('0x755')]=new THREE[(_0x1cd8('0x7b5'))]({'depthPacking':THREE[_0x1cd8('0x7b6')],'skinning':this[_0x1cd8('0x74e')],'morphTargets':this[_0x1cd8('0x74f')]});var _0xc3f0a2=this;this[_0x1cd8('0x755')]['onBeforeCompile']=function(_0x3495b3){_0x3495b3[_0x1cd8('0x176')][_0x1cd8('0x7ae')]={'value':_0xc3f0a2[_0x1cd8('0x74d')]['matrixWorldInverse']},_0x3495b3['vertexShader']=_0x3495b3['vertexShader'][_0x1cd8('0x23d')](_0x1cd8('0x7b0'),_0x1cd8('0x7b0')+_0xc3f0a2[_0x1cd8('0x781')])[_0x1cd8('0x23d')](_0x1cd8('0x3d6'),_0x1cd8('0x7b1')+_0xc3f0a2['beginInstanceVertex'])[_0x1cd8('0x23d')](_0x1cd8('0x614'),_0xc3f0a2[_0x1cd8('0x79d')]);};}},{'key':_0x1cd8('0x7b7'),'value':function(_0x3495b3){this[_0x1cd8('0x428')][_0x1cd8('0x7b8')][0x0]=_0x3495b3;}},{'key':'setPosition','value':function(_0x3495b3){this[_0x1cd8('0x763')][_0x1cd8('0x10b')]=!0x0;}},{'key':_0x1cd8('0x7b9'),'value':function(_0x3495b3){this['orientationAttribute'][_0x1cd8('0x10b')]=!0x0;}},{'key':_0x1cd8('0x7ba'),'value':function(_0x3495b3){this[_0x1cd8('0x764')][_0x1cd8('0x10b')]=!0x0;}},{'key':_0x1cd8('0x2df'),'value':function(){void 0x0!==this[_0x1cd8('0x428')]&&this[_0x1cd8('0xe1')](this[_0x1cd8('0x428')]),void 0x0!==this['geometry']&&this['geometry'][_0x1cd8('0xde')]();}}]),_0xc3f0a2['default']=_0x103784;},function(_0x12492d,_0x48a9b4,_0x1e6cef){'use strict';Object[_0x1cd8('0x4')](_0x48a9b4,_0x1cd8('0x6'),{'value':!0x0});var _0x477d7a=_0x114116(_0x1e6cef(0x4)),_0x4ed3ed=_0x114116(_0x1e6cef(0x0)),_0x33c259=_0x114116(_0x1e6cef(0x1)),_0x142e31=_0x114116(_0x1e6cef(0xf1)),_0xa9b965=_0x114116(_0x1e6cef(0x46)),_0x4a3dd3=_0x114116(_0x1e6cef(0xf3));function _0x114116(_0x12492d){return _0x12492d&&_0x12492d[_0x1cd8('0x6')]?_0x12492d:{'default':_0x12492d};}function _0x5cc447(_0x12492d){var _0x48a9b4=_0x12492d[_0x1cd8('0xdf')],_0x1e6cef=_0x12492d[_0x1cd8('0x3f')],_0x1e6cef=void 0x0===_0x1e6cef?new THREE['Vector3'](0x0,0x3,0x0):_0x1e6cef,_0x33c259=_0x12492d['target'],_0x33c259=void 0x0===_0x33c259?new THREE[(_0x1cd8('0x57'))](0x3,0x0,0x0):_0x33c259,_0x142e31=_0x12492d[_0x1cd8('0x7bb')],_0x4a3dd3=_0x12492d[_0x1cd8('0x2fd')],_0x4a3dd3=void 0x0===_0x4a3dd3?0x14:_0x4a3dd3,_0x114116=_0x12492d[_0x1cd8('0x7bc')],_0x114116=void 0x0===_0x114116?0x1e:_0x114116,_0xa9b965=_0x12492d[_0x1cd8('0x7bd')],_0xa9b965=void 0x0===_0xa9b965?0x10/0x9:_0xa9b965,_0x2068dc=_0x12492d[_0x1cd8('0x7be')],_0x2068dc=void 0x0!==_0x2068dc&&_0x2068dc,_0x12492d=_0x12492d[_0x1cd8('0x7bf')],_0x12492d=void 0x0!==_0x12492d&&_0x12492d;(0x0,_0x4ed3ed['default'])(this,_0x5cc447),this[_0x1cd8('0xdf')]=_0x48a9b4,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x7c0')]=null,this['projectPlane']=null,this[_0x1cd8('0x7c1')]=null,this[_0x1cd8('0x7c2')]=[],this[_0x1cd8('0x3f')]=_0x1e6cef,this[_0x1cd8('0x2b7')]=_0x33c259,this[_0x1cd8('0x7bb')]=_0x142e31,this[_0x1cd8('0x7c3')]=_0x4a3dd3,this[_0x1cd8('0x7c4')]=_0x114116,this['videoAspect']=_0xa9b965,this['isShowHelper']=_0x2068dc,this['isShowFarPlane']=_0x12492d,this[_0x1cd8('0x36b')]=null;}(0x0,_0x33c259['default'])(_0x5cc447,[{'key':_0x1cd8('0x335'),'value':function(_0x48a9b4){if(this['receiveLayer']&&this[_0x1cd8('0x7bb')][_0x1cd8('0x509')]){var _0x1e6cef=this,_0x12492d=new THREE['VideoTexture'](_0x48a9b4);if(this['alphaMap']=new THREE['TextureLoader']()[_0x1cd8('0x9d')](esmap[_0x1cd8('0x53')]['configPath']+_0x1cd8('0x7c5')),this[_0x1cd8('0x7c6')](_0x12492d),this[_0x1cd8('0x7bb')][_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x12492d){_0x1cd8('0x30c')!=_0x12492d[_0x1cd8('0x101')]||_0x12492d[_0x1cd8('0x43')]&&0x7==_0x12492d[_0x1cd8('0x43')][_0x1cd8('0x7c8')]||_0x1e6cef[_0x1cd8('0x7c2')][_0x1cd8('0x70')](_0x12492d);}),0x0<this[_0x1cd8('0x7c2')][_0x1cd8('0xc')]){var _0x33c259=!0x0,_0x48a9b4=!0x1,_0x142e31=void 0x0;try{for(var _0x4a3dd3,_0x114116=(0x0,_0x477d7a[_0x1cd8('0xa')])(this[_0x1cd8('0x7c2')]);!(_0x33c259=(_0x4a3dd3=_0x114116[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x33c259=!0x0){var _0xa9b965=_0x4a3dd3['value'];if(0x0<_0xa9b965[_0x1cd8('0x47')][_0x1cd8('0xc')]){var _0x26e396=[],_0x4ed3ed=!0x0,_0x5cc447=!0x1,_0x5254be=void 0x0;try{for(var _0x374752,_0x51c5ac=(0x0,_0x477d7a[_0x1cd8('0xa')])(_0xa9b965['material']);!(_0x4ed3ed=(_0x374752=_0x51c5ac[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x4ed3ed=!0x0){var _0x51d575,_0x5cd46e=_0x374752[_0x1cd8('0xf')];_0x5cd46e instanceof THREE[_0x1cd8('0x7c9')]&&(_0x51d575=this[_0x1cd8('0x7ca')](_0x12492d,_0xa9b965,_0x5cd46e[_0x1cd8('0x1bb')](),this[_0x1cd8('0x36b')]),_0x26e396[_0x1cd8('0x70')](_0x51d575));}}catch(_0x4b2e61){_0x5cc447=!0x0,_0x5254be=_0x4b2e61;}finally{try{!_0x4ed3ed&&_0x51c5ac[_0x1cd8('0xa1')]&&_0x51c5ac[_0x1cd8('0xa1')]();}finally{if(_0x5cc447)throw _0x5254be;}}_0xa9b965['_originMaterial']=_0xa9b965[_0x1cd8('0x47')],_0xa9b965[_0x1cd8('0x47')]=_0x26e396;}else{var _0x4d6c65=this['resetMaterial2'](_0x12492d,_0xa9b965,_0xa9b965[_0x1cd8('0x47')][_0x1cd8('0x1bb')](),this[_0x1cd8('0x36b')]);_0xa9b965[_0x1cd8('0x7cb')]=_0xa9b965[_0x1cd8('0x47')],_0xa9b965[_0x1cd8('0x47')]=_0x4d6c65;}}}catch(_0x90b013){_0x48a9b4=!0x0,_0x142e31=_0x90b013;}finally{try{!_0x33c259&&_0x114116[_0x1cd8('0xa1')]&&_0x114116['return']();}finally{if(_0x48a9b4)throw _0x142e31;}}}}}},{'key':_0x1cd8('0xde'),'value':function(){if(0x0<this[_0x1cd8('0x7c2')][_0x1cd8('0xc')]){for(var _0x12492d=0x0,_0x48a9b4=this['containMeshList'][_0x1cd8('0xc')];_0x12492d<_0x48a9b4;_0x12492d++){if(this[_0x1cd8('0x7c2')][_0x12492d][_0x1cd8('0x7cc')]=this[_0x1cd8('0x7c2')][_0x12492d]['material'],this[_0x1cd8('0x7c2')][_0x12492d][_0x1cd8('0x47')]=this[_0x1cd8('0x7c2')][_0x12492d][_0x1cd8('0x7cb')],0x0<this[_0x1cd8('0x7c2')][_0x12492d]['_tempMaterial'][_0x1cd8('0xc')]){var _0x1e6cef=!0x0,_0x33c259=!0x1,_0x142e31=void 0x0;try{for(var _0x4a3dd3,_0x114116=(0x0,_0x477d7a[_0x1cd8('0xa')])(this['containMeshList'][_0x12492d][_0x1cd8('0x7cc')]);!(_0x1e6cef=(_0x4a3dd3=_0x114116[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x1e6cef=!0x0)_0x4a3dd3[_0x1cd8('0xf')][_0x1cd8('0xde')]();}catch(_0x1072e1){_0x33c259=!0x0,_0x142e31=_0x1072e1;}finally{try{!_0x1e6cef&&_0x114116[_0x1cd8('0xa1')]&&_0x114116[_0x1cd8('0xa1')]();}finally{if(_0x33c259)throw _0x142e31;}}this[_0x1cd8('0x7c2')][_0x12492d]['_tempMaterial'][_0x1cd8('0xc')]=0x0;}else this[_0x1cd8('0x7c2')][_0x12492d][_0x1cd8('0x7cc')][_0x1cd8('0xde')]();this[_0x1cd8('0x7c2')][_0x12492d][_0x1cd8('0x7cb')]=null,this[_0x1cd8('0x7c2')][_0x12492d][_0x1cd8('0x7cc')]=null,this[_0x1cd8('0x7c2')][_0x12492d]['isProjected']=!0x1,this[_0x1cd8('0x7c2')][_0x12492d][_0x1cd8('0x7cd')]=null;}this[_0x1cd8('0x7c2')][_0x1cd8('0xc')]=0x0,_0xa9b965[_0x1cd8('0xa')]['disposeAll'](this[_0x1cd8('0x7c1')]['object3d']),this[_0x1cd8('0x7c1')]=null,_0xa9b965['default'][_0x1cd8('0x68c')](this[_0x1cd8('0x7ce')]),this[_0x1cd8('0x7ce')]=null;}}},{'key':'isLockCameraControls','value':function(_0x12492d){_0x12492d?(this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['enablePan']=!0x1,this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x7cf')]=!0x1,_0x12492d=new THREE[(_0x1cd8('0x57'))]()['subVectors'](map['controls']['target'],map[_0x1cd8('0x2ae')]['object'][_0x1cd8('0x3f')])['normalize'](),this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')][_0x1cd8('0x1b')](this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x1c')]['position']['x']+_0x12492d['x'],this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['object'][_0x1cd8('0x3f')]['y']+_0x12492d['y'],this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['object']['position']['z']+_0x12492d['z'])):(this['map']['controls'][_0x1cd8('0x2d9')]=!0x0,this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['enableZoom']=!0x0);}},{'key':_0x1cd8('0x7d0'),'value':function(_0x12492d){if(0x0<this[_0x1cd8('0x7c2')][_0x1cd8('0xc')])for(var _0x48a9b4=0x0,_0x1e6cef=this[_0x1cd8('0x7c2')][_0x1cd8('0xc')];_0x48a9b4<_0x1e6cef;_0x48a9b4++)this[_0x1cd8('0x7c2')][_0x48a9b4][_0x1cd8('0x7cd')][_0x1cd8('0x176')][_0x1cd8('0x7d1')]['value'][_0x1cd8('0x2f5')](_0x12492d);this[_0x1cd8('0x7ce')]&&this['projectPlane'][_0x1cd8('0x47')]['color'][_0x1cd8('0x2f5')](_0x12492d);}},{'key':_0x1cd8('0x7d2'),'value':function(_0x12492d){for(var _0x48a9b4=_0x12492d[_0x1cd8('0x7d3')],_0x1e6cef=_0x12492d[_0x1cd8('0x7d4')],_0x33c259=_0x12492d[_0x1cd8('0x7d5')],_0x142e31=_0x12492d[_0x1cd8('0x7d6')],_0x4a3dd3=_0x12492d[_0x1cd8('0x7d7')],_0x114116=(this[_0x1cd8('0xdf')][_0x1cd8('0x7d8')]&&(this[_0x1cd8('0xdf')][_0x1cd8('0x7d8')]['ignoredUuids']={}),Math[_0x1cd8('0x1c4')](_0x33c259-_0x48a9b4)/_0x4a3dd3),_0xa9b965=Math[_0x1cd8('0x1c4')](_0x142e31-_0x1e6cef)/_0x4a3dd3,_0x51b459=0x0;_0x51b459<_0x4a3dd3;_0x51b459++)for(var _0x4ed3ed=0x0;_0x4ed3ed<_0x4a3dd3;_0x4ed3ed++)this['raySceneMesh']({'x':_0x48a9b4+_0x51b459*_0x114116,'y':_0x1e6cef+_0x4ed3ed*_0xa9b965});}},{'key':_0x1cd8('0x7d9'),'value':function(_0x12492d){_0x12492d=this['map'][_0x1cd8('0x7da')]({'coord':{'x':_0x12492d['x'],'y':_0x12492d['y']},'debug':!0x0,'mode':_0x1cd8('0x428'),'depth':map[_0x1cd8('0x505')](map['focusFloorNum'])+0x5});_0x12492d&&(this[_0x1cd8('0xdf')][_0x1cd8('0x7d8')][_0x1cd8('0x7db')][_0x12492d[_0x1cd8('0x1c')][_0x1cd8('0x1d2')]]=!0x0,this[_0x1cd8('0x7c2')][_0x1cd8('0x70')](_0x12492d[_0x1cd8('0x1c')]));}},{'key':_0x1cd8('0x7c6'),'value':function(_0x12492d){this[_0x1cd8('0x7c0')]=new THREE[(_0x1cd8('0x6aa'))](this[_0x1cd8('0x7c4')],this[_0x1cd8('0x7bd')],0.01,this[_0x1cd8('0x7c3')]),this[_0x1cd8('0x7c0')][_0x1cd8('0x3f')][_0x1cd8('0x1c6')](this['position']),this[_0x1cd8('0x7c0')][_0x1cd8('0x3fb')](this['target']),this[_0x1cd8('0x7c0')]['updateProjectionMatrix'](),this[_0x1cd8('0x7c0')][_0x1cd8('0x7dc')](),this[_0x1cd8('0x7c0')]['updateWorldMatrix'](),this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['minDistance']=0x0,this[_0x1cd8('0x7dd')]();}},{'key':_0x1cd8('0x7dd'),'value':function(){var _0x12492d=this;this[_0x1cd8('0x7c1')]=new _0x4a3dd3['default'](this[_0x1cd8('0x7c0')]),this[_0x1cd8('0x7c1')][_0x1cd8('0x322')][_0x1cd8('0x327')]=this[_0x1cd8('0x7be')],this['isShowFarPlane']&&this['createCameraHelperFarPlane'](this['helper'],texture,function(){_0x12492d[_0x1cd8('0x7ce')][_0x1cd8('0x47')][_0x1cd8('0x36b')]=_0x12492d[_0x1cd8('0x36b')];}),this[_0x1cd8('0x7c1')][_0x1cd8('0x2d3')](),this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')]['add'](this[_0x1cd8('0x7c1')][_0x1cd8('0x322')]);}},{'key':_0x1cd8('0x7de'),'value':function(_0x12492d,_0x48a9b4,_0x1e6cef){var _0x33c259,_0x142e31=this,_0x4a3dd3=['f1','f2','f3','f4'],_0x114116=[],_0xa9b965=_0x12492d[_0x1cd8('0xe0')][_0x1cd8('0x40c')](_0x1cd8('0x3f'));for(_0x33c259 in _0x12492d[_0x1cd8('0x7df')]){var _0x37025b=!0x0,_0x4ed3ed=!0x1,_0x5cc447=void 0x0;try{for(var _0x18a407,_0xa1ba1b=(0x0,_0x477d7a['default'])(_0x4a3dd3);!(_0x37025b=(_0x18a407=_0xa1ba1b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x37025b=!0x0){var _0x1b3978=_0x18a407[_0x1cd8('0xf')];if(_0x1b3978===_0x33c259){for(var _0x224a02=new THREE[(_0x1cd8('0x57'))](),_0x583e7c=0x0;_0x583e7c<0x3;_0x583e7c++)0x0==_0x583e7c&&(_0x224a02['x']=_0xa9b965['getX'](_0x12492d[_0x1cd8('0x7df')][_0x1b3978][_0x583e7c])),0x1==_0x583e7c&&(_0x224a02['y']=_0xa9b965[_0x1cd8('0x7e0')](_0x12492d[_0x1cd8('0x7df')][_0x1b3978][_0x583e7c])),0x2==_0x583e7c&&(_0x224a02['z']=_0xa9b965[_0x1cd8('0x7e1')](_0x12492d[_0x1cd8('0x7df')][_0x1b3978][_0x583e7c]));_0x114116['push'](_0x224a02);}}}catch(_0x513636){_0x4ed3ed=!0x0,_0x5cc447=_0x513636;}finally{try{!_0x37025b&&_0xa1ba1b['return']&&_0xa1ba1b[_0x1cd8('0xa1')]();}finally{if(_0x4ed3ed)throw _0x5cc447;}}}var _0x13cc3d=new THREE[(_0x1cd8('0x316'))]()[_0x1cd8('0x7e2')](_0x114116),_0x44ff0f=(_0x13cc3d[_0x1cd8('0x1fb')]('uv',new THREE[(_0x1cd8('0x381'))](new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1]),0x2)),_0x13cc3d[_0x1cd8('0x382')]([0x0,0x1,0x3,0x1,0x2,0x3]),new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'transparent':!0x0})),_0x13cc3d=new THREE[(_0x1cd8('0x30c'))](_0x13cc3d,_0x44ff0f);_0x44ff0f['onBeforeCompile']=function(_0x12492d){_0x12492d[_0x1cd8('0x176')][_0x1cd8('0x7e3')]={'value':_0x48a9b4},_0x12492d[_0x1cd8('0x176')][_0x1cd8('0x7e4')]={'value':_0x142e31['alphaMap']},_0x12492d[_0x1cd8('0x3d4')]=_0x12492d[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<uv_pars_vertex>',_0x1cd8('0x7e5')),_0x12492d[_0x1cd8('0x3d4')]=_0x12492d[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition2\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20mvPosition2.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x12492d[_0x1cd8('0x56')]=_0x12492d['fragmentShader']['replace'](_0x1cd8('0x3d8'),_0x1cd8('0x7e6')),_0x12492d['fragmentShader']=_0x12492d['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x7e7')),_0x1e6cef&&_0x1e6cef();},_0x13cc3d['renderOrder']=0xc8,_0x12492d[_0x1cd8('0x1cd')](_0x13cc3d),this[_0x1cd8('0x7ce')]=_0x13cc3d;}},{'key':_0x1cd8('0x7e8'),'value':function(_0x12492d){if(this[_0x1cd8('0x7c0')]['lookAt'](_0x12492d),0x0<this[_0x1cd8('0x7c2')][_0x1cd8('0xc')])for(var _0x48a9b4=0x0,_0x1e6cef=this['containMeshList'][_0x1cd8('0xc')];_0x48a9b4<_0x1e6cef;_0x48a9b4++)this['containMeshList'][_0x48a9b4]['videoProject'][_0x1cd8('0x7e9')]();this[_0x1cd8('0x7c1')][_0x1cd8('0x2d3')]();}},{'key':'addToPicker','value':function(_0x12492d,_0x48a9b4){_0x1cd8('0x30c')===_0x12492d[_0x1cd8('0x101')]&&(_0x12492d[_0x1cd8('0x43')]={'name':_0x48a9b4},this[_0x1cd8('0xdf')][_0x1cd8('0x594')][_0x1cd8('0x7ea')][_0x1cd8('0x70')](_0x12492d)),_0x1cd8('0x32a')===_0x12492d['type']&&(_0x12492d[_0x1cd8('0x43')]={'name':_0x48a9b4},_0x12492d[_0x1cd8('0x7f')]=_0x1cd8('0x7eb'),this[_0x1cd8('0xdf')][_0x1cd8('0x594')][_0x1cd8('0x7ea')][_0x1cd8('0x70')](_0x12492d));}},{'key':_0x1cd8('0x7ec'),'value':function(_0x12492d){this[_0x1cd8('0xdf')]['mapPicker'][_0x1cd8('0x7ea')][_0x1cd8('0x70')](_0x12492d);}},{'key':_0x1cd8('0x7ed'),'value':function(_0x12492d,_0x48a9b4){texture[_0x1cd8('0x464')]=THREE[_0x1cd8('0x465')],_0x12492d['needsUpdate']=!0x0;_0x12492d=new _0x142e31['default']({'camera':this[_0x1cd8('0x7c0')],'texture':_0x12492d,'color':_0x1cd8('0x400')});(_0x48a9b4[_0x1cd8('0x47')]=_0x12492d)[_0x1cd8('0x7ee')](_0x48a9b4);}},{'key':_0x1cd8('0x7ca'),'value':function(_0x12492d,_0x48a9b4,_0x1e6cef,_0x33c259){_0x12492d[_0x1cd8('0x10b')]=!0x0,_0x1e6cef[_0x1cd8('0x1e1')]=!0x0;_0x12492d=new _0x142e31[(_0x1cd8('0xa'))]({'material':_0x1e6cef,'camera':this[_0x1cd8('0x7c0')],'texture':_0x12492d,'alphaMap':_0x33c259,'color':'#FFFFFF','isShowFarPlane':this[_0x1cd8('0x7bf')]});return _0x48a9b4[_0x1cd8('0x7ef')]||(_0x12492d['project'](_0x48a9b4),_0x48a9b4[_0x1cd8('0x7cd')]=_0x12492d,_0x48a9b4[_0x1cd8('0x7ef')]=!0x0),_0x1e6cef;}},{'key':_0x1cd8('0x7f0'),'value':function(_0x12492d){var _0x48a9b4=this,_0x12492d=new THREE[(_0x1cd8('0x7f1'))](_0x12492d);_0x12492d[_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0x47')]=new _0x142e31[(_0x1cd8('0xa'))]({'camera':this['projector'],'texture':_0x12492d,'color':_0x1cd8('0x7f2')}),this['map'][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x7c7')](function(_0x12492d){'Mesh'===_0x12492d[_0x1cd8('0x101')]&&_0x12492d[_0x1cd8('0x7f3')]&&'floor'===_0x12492d[_0x1cd8('0x7f3')]&&_0x12492d[_0x1cd8('0x43')]&&0x1==_0x12492d[_0x1cd8('0x43')]['floor']&&_0x12492d[_0x1cd8('0x47')]&&(_0x12492d[_0x1cd8('0x47')]=_0x48a9b4['material'],_0x48a9b4[_0x1cd8('0x47')][_0x1cd8('0x7ee')](_0x12492d));});}}]),_0x48a9b4[_0x1cd8('0xa')]=_0x5cc447;},function(_0x22d9c9,_0x5e2519,_0x5680b5){'use strict';Object[_0x1cd8('0x4')](_0x5e2519,_0x1cd8('0x6'),{'value':!0x0});var _0x1861ec=_0x9264dc(_0x5680b5(0xf)),_0x1a5fe9=_0x9264dc(_0x5680b5(0xb8)),_0x4eaa08=_0x9264dc(_0x5680b5(0xf2)),_0x14f860=_0x9264dc(_0x5680b5(0x0)),_0x5680b5=_0x9264dc(_0x5680b5(0x1));function _0x9264dc(_0x22d9c9){return _0x22d9c9&&_0x22d9c9[_0x1cd8('0x6')]?_0x22d9c9:{'default':_0x22d9c9};}function _0x3a6a0c(_0x22d9c9,_0x5e2519,_0x5680b5,_0x9264dc){if(!_0x22d9c9[_0x1cd8('0x7f4')])return[0x1,0x1];if(0x0===_0x22d9c9[_0x1cd8('0x7f4')][_0x1cd8('0x7f5')]&&0x0===_0x22d9c9['image'][_0x1cd8('0x7f6')])return[0x1,0x1];var _0x22d9c9=(_0x22d9c9[_0x1cd8('0x7f4')][_0x1cd8('0x7f7')]||_0x22d9c9[_0x1cd8('0x7f4')]['videoWidth'])/(_0x22d9c9[_0x1cd8('0x7f4')]['naturalHeight']||_0x22d9c9[_0x1cd8('0x7f4')][_0x1cd8('0x7f6')]),_0x5e2519=_0x26329d(_0x5e2519),_0x383d0d=0x1/_0x5e2519*0x1,_0x1861ec=void 0x0,_0x1cad8b=void 0x0;return(_0x9264dc?_0x5e2519<_0x22d9c9:_0x22d9c9<_0x5e2519)?(_0x1861ec=0x1/(_0x383d0d*_0x22d9c9*_0x5680b5),_0x1cad8b=0x1/_0x5680b5):(_0x1cad8b=0x1/(0x1/_0x22d9c9*0x1/_0x383d0d*_0x5680b5),_0x1861ec=0x1/_0x5680b5),[_0x1861ec,_0x1cad8b];}var _0x26329d=function(_0x22d9c9){switch(_0x22d9c9[_0x1cd8('0x101')]){case _0x1cd8('0x6aa'):return _0x22d9c9['aspect'];case'OrthographicCamera':return Math['abs'](_0x22d9c9[_0x1cd8('0x55d')]-_0x22d9c9[_0x1cd8('0x33c')])/Math[_0x1cd8('0x1c4')](_0x22d9c9[_0x1cd8('0x5d5')]-_0x22d9c9[_0x1cd8('0x7f8')]);default:throw new Error(_0x22d9c9['type']+'\x20is\x20currently\x20not\x20supported\x20in\x20ProjectedMaterial');}},_0x5680b5=((0x0,_0x5680b5[_0x1cd8('0xa')])(_0x29823a,[{'key':_0x1cd8('0x7f9'),'value':function(_0x5e2519){var _0x22d9c9,_0x5680b5,_0x9264dc,_0x5dee5c=this;_0x5e2519['onBeforeCompile']=function(_0x22d9c9){_0x5e2519[_0x1cd8('0x7ef')]=!0x0,(0x0,_0x1861ec['default'])(_0x5dee5c[_0x1cd8('0x176')],_0x22d9c9[_0x1cd8('0x176')]),_0x22d9c9[_0x1cd8('0x176')]=_0x5dee5c[_0x1cd8('0x176')],_0x22d9c9[_0x1cd8('0x3d4')]=_0x22d9c9[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20viewMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20projectionMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20savedModelMatrix;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x22d9c9[_0x1cd8('0x3d4')]=_0x22d9c9[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3d6'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSavedNormal\x20=\x20mat3(savedModelMatrix)\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cameraMvpPos\x20=\x20viewMatrixCamera\x20*\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTexCoords\x20=\x20projectionMatrixCamera\x20*\x20cameraMvpPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20cameraMvpPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x22d9c9[_0x1cd8('0x56')]=_0x22d9c9[_0x1cd8('0x56')]['replace'](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20projectedTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureLoaded;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureProjected;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20backgroundOpacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20widthScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20heightScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20cameraFarDistance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20visualFieldColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullByCamera;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dee5c['projectedTexelToLinear']+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mapTex(float\x20value,\x20float\x20min1,\x20float\x20max1,\x20float\x20min2,\x20float\x20max2)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20min2\x20+\x20(value\x20-\x20min1)\x20*\x20(max2\x20-\x20min2)\x20/\x20(max1\x20-\x20min1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x22d9c9[_0x1cd8('0x56')]=_0x22d9c9[_0x1cd8('0x56')][_0x1cd8('0x23d')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1cd8('0x7fa'));},window[_0x1cd8('0x29d')](_0x1cd8('0x31f'),function(){_0x5dee5c[_0x1cd8('0x176')][_0x1cd8('0x7fb')][_0x1cd8('0xf')]['copy'](_0x5dee5c[_0x1cd8('0x2fb')][_0x1cd8('0x6b6')]),_0x5dee5c['saveDimensions']();}),_0x22d9c9=_0x5dee5c[_0x1cd8('0x9f')],_0x5680b5=function(){_0x5dee5c[_0x1cd8('0x176')]['isTextureLoaded'][_0x1cd8('0xf')]=!0x0,_0x5dee5c[_0x1cd8('0x7fc')]();},_0x22d9c9['image']&&0x0!==_0x22d9c9[_0x1cd8('0x7f4')]['videoWidth']&&0x0!==_0x22d9c9[_0x1cd8('0x7f4')]['videoHeight']||(_0x9264dc=setInterval(function(){if(_0x22d9c9[_0x1cd8('0x7f4')]&&0x0!==_0x22d9c9[_0x1cd8('0x7f4')][_0x1cd8('0x7f5')]&&0x0!==_0x22d9c9[_0x1cd8('0x7f4')][_0x1cd8('0x7f6')])return clearInterval(_0x9264dc),_0x5680b5();},0x10));}},{'key':'saveDimensions','value':function(){var _0x22d9c9=_0x3a6a0c(this[_0x1cd8('0x9f')],this[_0x1cd8('0x2fb')],this[_0x1cd8('0x7fd')],this['cover']),_0x22d9c9=(0x0,_0x1a5fe9['default'])(_0x22d9c9,0x2),_0x5e2519=_0x22d9c9[0x0],_0x22d9c9=_0x22d9c9[0x1];this[_0x1cd8('0x176')][_0x1cd8('0x7fe')][_0x1cd8('0xf')]=_0x5e2519,this['uniforms']['heightScaled'][_0x1cd8('0xf')]=_0x22d9c9;}},{'key':_0x1cd8('0x7e9'),'value':function(){this[_0x1cd8('0x2fb')][_0x1cd8('0x6e8')](),this[_0x1cd8('0x2fb')]['updateMatrixWorld'](),this[_0x1cd8('0x2fb')]['updateWorldMatrix']();var _0x22d9c9=this[_0x1cd8('0x2fb')][_0x1cd8('0x6b8')],_0x5e2519=this['camera']['projectionMatrix'],_0x5680b5=this[_0x1cd8('0x2fb')][_0x1cd8('0x364')];this['uniforms'][_0x1cd8('0x7ff')][_0x1cd8('0xf')][_0x1cd8('0x1c6')](_0x22d9c9),this['uniforms'][_0x1cd8('0x7fb')]['value'][_0x1cd8('0x1c6')](_0x5e2519),this[_0x1cd8('0x176')][_0x1cd8('0x800')][_0x1cd8('0xf')][_0x1cd8('0x1c6')](this['camera'][_0x1cd8('0x3f')]),this[_0x1cd8('0x176')][_0x1cd8('0x801')][_0x1cd8('0xf')][_0x1cd8('0x1b')](0x0,0x0,0x1)[_0x1cd8('0x378')](_0x5680b5),this[_0x1cd8('0x176')][_0x1cd8('0x802')][_0x1cd8('0xf')]=!0x0;}},{'key':_0x1cd8('0x7ee'),'value':function(_0x22d9c9){_0x22d9c9[_0x1cd8('0x803')](!0x0,!0x1),this[_0x1cd8('0x176')][_0x1cd8('0x804')][_0x1cd8('0xf')][_0x1cd8('0x1c6')](_0x22d9c9['matrixWorld']),this[_0x1cd8('0x176')]['backgroundOpacity']['value']=0x0,this[_0x1cd8('0x7e9')]();}}]),_0x29823a);function _0x29823a(_0x22d9c9){var _0x5e2519=_0x22d9c9[_0x1cd8('0x2fb')],_0x5680b5=_0x22d9c9[_0x1cd8('0x9f')],_0x9264dc=_0x22d9c9['alphaMap'],_0x303d7f=_0x22d9c9['textureScale'],_0x303d7f=void 0x0===_0x303d7f?0x1:_0x303d7f,_0x1861ec=_0x22d9c9[_0x1cd8('0x805')],_0x1861ec=void 0x0===_0x1861ec?new THREE[(_0x1cd8('0x1c0'))]():_0x1861ec,_0x4ea05b=_0x22d9c9[_0x1cd8('0x806')],_0x4ea05b=void 0x0!==_0x4ea05b&&_0x4ea05b,_0x26329d=_0x22d9c9[_0x1cd8('0x47')],_0x2705b3=_0x22d9c9[_0x1cd8('0x807')],_0x2705b3=void 0x0===_0x2705b3||_0x2705b3,_0x4b9110=_0x22d9c9[_0x1cd8('0x7bf')],_0x4b9110=void 0x0===_0x4b9110||_0x4b9110,_0x22d9c9=((0x0,_0x4eaa08[_0x1cd8('0xa')])(_0x22d9c9,[_0x1cd8('0x2fb'),'texture','alphaMap','textureScale','textureOffset','cover',_0x1cd8('0x47'),_0x1cd8('0x807'),_0x1cd8('0x7bf')]),(0x0,_0x14f860[_0x1cd8('0xa')])(this,_0x29823a),this['material']=_0x26329d,this[_0x1cd8('0x2fb')]=_0x5e2519,this[_0x1cd8('0x9f')]=_0x5680b5,this[_0x1cd8('0x7fd')]=_0x303d7f,this['cover']=_0x4ea05b,this['isShowHepler']=_0x2705b3,_0x3a6a0c(_0x5680b5,_0x5e2519,_0x303d7f,_0x4ea05b)),_0x2705b3=(0x0,_0x1a5fe9[_0x1cd8('0xa')])(_0x22d9c9,0x2),_0x303d7f=_0x2705b3[0x0],_0x4ea05b=_0x2705b3[0x1];this[_0x1cd8('0x808')]='\x0a\x20\x20\x20\x20\x20\x20vec4\x20projectedTexelToLinear(vec4\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20'+(_0x22d9c9=function(_0x22d9c9){switch(_0x22d9c9){case THREE[_0x1cd8('0x6dc')]:return[_0x1cd8('0x3fd'),_0x1cd8('0x809')];case THREE[_0x1cd8('0x465')]:return[_0x1cd8('0x80a'),_0x1cd8('0x809')];case THREE[_0x1cd8('0x6c8')]:return[_0x1cd8('0x6fd'),_0x1cd8('0x809')];case THREE[_0x1cd8('0x80b')]:return[_0x1cd8('0x80c'),_0x1cd8('0x80d')];case THREE[_0x1cd8('0x6e0')]:return[_0x1cd8('0x80c'),_0x1cd8('0x80e')];case THREE[_0x1cd8('0x80f')]:return[_0x1cd8('0x810'),_0x1cd8('0x811')];case THREE[_0x1cd8('0x6dd')]:return[_0x1cd8('0x812'),_0x1cd8('0x813')];case THREE[_0x1cd8('0x814')]:return['LogLuv',_0x1cd8('0x809')];default:return[_0x1cd8('0x3fd'),_0x1cd8('0x809')];}}(_0x5680b5[_0x1cd8('0x464')]))[0x0]+'ToLinear'+_0x22d9c9[0x1]+';\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',this[_0x1cd8('0x176')]={'projectedTexture':{'value':_0x5680b5},'textureMask':{'value':_0x9264dc},'isTextureLoaded':{'value':Boolean(_0x5680b5[_0x1cd8('0x7f4')])},'isTextureProjected':{'value':!0x1},'backgroundOpacity':{'value':0x1},'viewMatrixCamera':{'value':new THREE[(_0x1cd8('0x317'))]()},'projectionMatrixCamera':{'value':new THREE[(_0x1cd8('0x317'))]()},'projPosition':{'value':new THREE[(_0x1cd8('0x57'))]()},'projDirection':{'value':new THREE[(_0x1cd8('0x57'))](0x0,0x0,-0x1)},'savedModelMatrix':{'value':new THREE[(_0x1cd8('0x317'))]()},'widthScaled':{'value':_0x303d7f},'heightScaled':{'value':_0x4ea05b},'textureOffset':{'value':_0x1861ec},'cameraFarDistance':{'value':_0x5e2519[_0x1cd8('0x2fd')]},'visualFieldColor':{'value':new THREE[(_0x1cd8('0x1c3'))](0xffffff)},'isCullByCamera':{'value':_0x4b9110}},this[_0x1cd8('0x7f9')](_0x26329d);}_0x5e2519[_0x1cd8('0xa')]=_0x5680b5;},function(_0x144a4c,_0xcdaa94,_0xaabd4a){'use strict';_0xcdaa94[_0x1cd8('0x6')]=!0x0,_0xcdaa94[_0x1cd8('0xa')]=function(_0x144a4c,_0xcdaa94){var _0xaabd4a,_0x93a349={};for(_0xaabd4a in _0x144a4c)0x0<=_0xcdaa94[_0x1cd8('0x50')](_0xaabd4a)||Object[_0x1cd8('0x11')][_0x1cd8('0x1e')]['call'](_0x144a4c,_0xaabd4a)&&(_0x93a349[_0xaabd4a]=_0x144a4c[_0xaabd4a]);return _0x93a349;};},function(_0x2a6a7f,_0x377c73,_0x4fef7b){'use strict';Object[_0x1cd8('0x4')](_0x377c73,_0x1cd8('0x6'),{'value':!0x0});var _0x2b5790=_0x52d5e4(_0x4fef7b(0x0));function _0x52d5e4(_0x2a6a7f){return _0x2a6a7f&&_0x2a6a7f[_0x1cd8('0x6')]?_0x2a6a7f:{'default':_0x2a6a7f};}function _0x3df626(_0x2a6a7f){(0x0,_0x2b5790['default'])(this,_0x3df626),this[_0x1cd8('0x322')]=new THREE[(_0x1cd8('0x32a'))](),this[_0x1cd8('0x815')]=null,this['camera']=_0x2a6a7f,this[_0x1cd8('0x7df')]=null,this['geometry']=null,this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x816')]=new THREE[(_0x1cd8('0x57'))](),this[_0x1cd8('0x817')](),this['update']();}(0x0,_0x52d5e4(_0x4fef7b(0x1))['default'])(_0x3df626,[{'key':'createBasicLine','value':function(){this[_0x1cd8('0xe0')]=new THREE['BufferGeometry'](),this['material']=new THREE['LineBasicMaterial']({'color':0xffffff,'vertexColors':THREE[_0x1cd8('0x818')]});var _0x4fef7b=[],_0x2b5790=[],_0x52d5e4={},_0x2a6a7f=new THREE[(_0x1cd8('0x1c3'))](0xffaa00),_0x377c73=(new THREE['Color'](0xff0000),new THREE[(_0x1cd8('0x1c3'))](0xaaff)),_0x3df626=new THREE['Color'](0xffffff),_0x130f4b=new THREE[(_0x1cd8('0x1c3'))](0x333333);function _0x2676ac(_0x2a6a7f,_0x377c73){_0x4fef7b[_0x1cd8('0x70')](0x0,0x0,0x0),_0x2b5790[_0x1cd8('0x70')](_0x377c73['r'],_0x377c73['g'],_0x377c73['b']),void 0x0===_0x52d5e4[_0x2a6a7f]&&(_0x52d5e4[_0x2a6a7f]=[]),_0x52d5e4[_0x2a6a7f][_0x1cd8('0x70')](_0x4fef7b[_0x1cd8('0xc')]/0x3-0x1);}function _0x1f7359(_0x2a6a7f,_0x377c73,_0x4fef7b){_0x2676ac(_0x2a6a7f,_0x4fef7b),_0x2676ac(_0x377c73,_0x4fef7b);}_0x1f7359('n1','n2',_0x2a6a7f),_0x1f7359('n2','n4',_0x2a6a7f),_0x1f7359('n4','n3',_0x2a6a7f),_0x1f7359('n3','n1',_0x2a6a7f),_0x1f7359('f1','f2',_0x2a6a7f),_0x1f7359('f2','f4',_0x2a6a7f),_0x1f7359('f4','f3',_0x2a6a7f),_0x1f7359('f3','f1',_0x2a6a7f),_0x1f7359('n1','f1',_0x2a6a7f),_0x1f7359('n2','f2',_0x2a6a7f),_0x1f7359('n3','f3',_0x2a6a7f),_0x1f7359('n4','f4',_0x2a6a7f),_0x1f7359('u1','u2',_0x377c73),_0x1f7359('u2','u3',_0x377c73),_0x1f7359('u3','u1',_0x377c73),_0x1f7359('c','t',_0x3df626),_0x1f7359(_0x1cd8('0x819'),_0x1cd8('0x81a'),_0x130f4b),_0x1f7359(_0x1cd8('0x81b'),_0x1cd8('0x81c'),_0x130f4b),_0x1f7359(_0x1cd8('0x81d'),_0x1cd8('0x81e'),_0x130f4b),_0x1f7359(_0x1cd8('0x81f'),_0x1cd8('0x820'),_0x130f4b),this[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x3f'),new THREE[(_0x1cd8('0x40e'))](_0x4fef7b,0x3)),this[_0x1cd8('0xe0')][_0x1cd8('0x1fb')](_0x1cd8('0x220'),new THREE[(_0x1cd8('0x40e'))](_0x2b5790,0x3)),this[_0x1cd8('0x2fb')][_0x1cd8('0x6e8')]&&this[_0x1cd8('0x2fb')][_0x1cd8('0x6e8')](),this[_0x1cd8('0x746')]=this[_0x1cd8('0x2fb')][_0x1cd8('0x364')],this[_0x1cd8('0x821')]=!0x1;_0x2a6a7f=new THREE[(_0x1cd8('0x68b'))](this[_0x1cd8('0xe0')],this[_0x1cd8('0x47')]);this['pointMap']=_0x52d5e4,this[_0x1cd8('0x322')][_0x1cd8('0x1cd')](_0x2a6a7f);}},{'key':_0x1cd8('0x822'),'value':function(_0x2a6a7f,_0x377c73,_0x4fef7b,_0x2b5790){this[_0x1cd8('0x816')][_0x1cd8('0x1b')](_0x377c73,_0x4fef7b,_0x2b5790)[_0x1cd8('0x823')](this[_0x1cd8('0x2fb')]);var _0x52d5e4=this[_0x1cd8('0x7df')][_0x2a6a7f];if(void 0x0!==_0x52d5e4)for(var _0x3df626=this['geometry'][_0x1cd8('0x40c')](_0x1cd8('0x3f')),_0x3ac4d6=0x0,_0x46a1fc=_0x52d5e4[_0x1cd8('0xc')];_0x3ac4d6<_0x46a1fc;_0x3ac4d6++)_0x3df626[_0x1cd8('0x824')](_0x52d5e4[_0x3ac4d6],this[_0x1cd8('0x816')]['x'],this['vector']['y'],this[_0x1cd8('0x816')]['z']);}},{'key':_0x1cd8('0x2d3'),'value':function(){this[_0x1cd8('0x2fb')][_0x1cd8('0x825')][_0x1cd8('0x1c6')](this['camera']['projectionMatrixInverse']),this[_0x1cd8('0x822')]('c',0x0,0x0,-0x1),this['setPoint']('t',0x0,0x0,0x1),this[_0x1cd8('0x822')]('n1',-0x1,-0x1,-0x1),this[_0x1cd8('0x822')]('n2',0x1,-0x1,-0x1),this[_0x1cd8('0x822')]('n3',-0x1,0x1,-0x1),this[_0x1cd8('0x822')]('n4',0x1,0x1,-0x1),this['setPoint']('f1',-0x1,-0x1,0x1),this[_0x1cd8('0x822')]('f2',0x1,-0x1,0x1),this[_0x1cd8('0x822')]('f3',-0x1,0x1,0x1),this['setPoint']('f4',0x1,0x1,0x1),this[_0x1cd8('0x822')]('u1',0.7,1.1,-0x1),this[_0x1cd8('0x822')]('u2',-0.7,1.1,-0x1),this[_0x1cd8('0x822')]('u3',0x0,0x2,-0x1),this[_0x1cd8('0x822')]('cf1',-0x1,0x0,0x1),this['setPoint']('cf2',0x1,0x0,0x1),this['setPoint']('cf3',0x0,-0x1,0x1),this['setPoint'](_0x1cd8('0x820'),0x0,0x1,0x1),this[_0x1cd8('0x822')](_0x1cd8('0x819'),-0x1,0x0,-0x1),this['setPoint'](_0x1cd8('0x81a'),0x1,0x0,-0x1),this[_0x1cd8('0x822')]('cn3',0x0,-0x1,-0x1),this[_0x1cd8('0x822')](_0x1cd8('0x81c'),0x0,0x1,-0x1),this['geometry'][_0x1cd8('0x40c')]('position')[_0x1cd8('0x10b')]=!0x0;}}]),_0x377c73['default']=_0x3df626;},function(_0x12ecef,_0x206c20,_0x275769){'use strict';Object[_0x1cd8('0x4')](_0x206c20,_0x1cd8('0x6'),{'value':!0x0});var _0x827cbb=_0x40daad(_0x275769(0x4)),_0x1336a1=_0x40daad(_0x275769(0x26)),_0x1c30a9=_0x40daad(_0x275769(0x0)),_0x427695=_0x40daad(_0x275769(0x1)),_0x1e1200=_0x40daad(_0x275769(0x30)),_0x5e1ce1=_0x40daad(_0x275769(0x31)),_0x4d4363=_0x40daad(_0x275769(0x3c));function _0x40daad(_0x12ecef){return _0x12ecef&&_0x12ecef[_0x1cd8('0x6')]?_0x12ecef:{'default':_0x12ecef};}function _0x4295ac(_0x12ecef){var _0x206c20=_0x12ecef[_0x1cd8('0x826')],_0x206c20=void 0x0===_0x206c20?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x206c20,_0x275769=_0x12ecef['isNoTileFactor'],_0x275769=void 0x0===_0x275769?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x275769,_0x427695=_0x12ecef[_0x1cd8('0x827')],_0x5e1ce1=_0x12ecef[_0x1cd8('0x828')],_0x40daad=_0x12ecef[_0x1cd8('0x829')],_0x399e7e=_0x12ecef[_0x1cd8('0x82a')],_0x56340c=_0x12ecef['noisePath'],_0x1e4611=_0x12ecef['normalUvIndex'],_0x827cbb=_0x12ecef[_0x1cd8('0x82b')],_0x12ecef=_0x12ecef['anisotropy'],_0x5d75bc=((0x0,_0x1c30a9[_0x1cd8('0xa')])(this,_0x4295ac),(0x0,_0x1e1200[_0x1cd8('0xa')])(this,(_0x4295ac['__proto__']||(0x0,_0x1336a1[_0x1cd8('0xa')])(_0x4295ac))['call'](this))),_0x206c20=(_0x5d75bc[_0x1cd8('0x82c')]=new _0x4d4363[(_0x1cd8('0xa'))](),_0x5d75bc[_0x1cd8('0x826')]=new THREE['Vector4'](_0x206c20[_0x1cd8('0x3d3')],_0x206c20[_0x1cd8('0x649')],_0x206c20[_0x1cd8('0x82d')],_0x206c20[_0x1cd8('0x82e')]),_0x5d75bc[_0x1cd8('0x82f')]=new THREE[(_0x1cd8('0x1c2'))](_0x275769['texture1'],_0x275769[_0x1cd8('0x649')],_0x275769[_0x1cd8('0x82d')],_0x275769[_0x1cd8('0x82e')]),_0x5d75bc[_0x1cd8('0x830')]=_0x1e4611,_0x5d75bc['normalFlipSide']=_0x827cbb,_0x5d75bc[_0x1cd8('0x525')]=_0x12ecef,_0x5d75bc[_0x1cd8('0x639')]={'texture2':null,'textureMask':null,'texture3':null,'texture4':null,'noise':null},_0x5d75bc[_0x1cd8('0x3d0')]=null,[{'name':_0x1cd8('0x649'),'path':_0x427695},{'name':'textureMask','path':_0x5e1ce1},{'name':_0x1cd8('0x82d'),'path':_0x40daad},{'name':'texture4','path':_0x399e7e},{'name':_0x1cd8('0x831'),'path':_0x56340c}]);return _0x5d75bc[_0x1cd8('0x832')](_0x206c20),_0x5d75bc;}_0x275769=_0x275769(0x3b)[_0x1cd8('0x97')],(0x0,_0x5e1ce1[_0x1cd8('0xa')])(_0x4295ac,_0x275769),(0x0,_0x427695['default'])(_0x4295ac,[{'key':_0x1cd8('0x832'),'value':function(_0x12ecef){var _0x55572d=this,_0x18abe8=this;this[_0x1cd8('0x82c')]['multiTexturesLoad'](_0x12ecef)[_0x1cd8('0x349')](function(_0x12ecef){var _0x206c20=!0x0,_0x275769=!0x1,_0x427695=void 0x0;try{for(var _0x5e1ce1,_0x40daad=(0x0,_0x827cbb[_0x1cd8('0xa')])(_0x12ecef);!(_0x206c20=(_0x5e1ce1=_0x40daad[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x206c20=!0x0){var _0x2af6a6=_0x5e1ce1[_0x1cd8('0xf')];_0x1cd8('0x649')===_0x2af6a6[_0x1cd8('0x7f')]&&(_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x649')]=_0x2af6a6,_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x649')][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x649')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x55572d[_0x1cd8('0x525')]&&(_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x649')][_0x1cd8('0x525')]=_0x55572d[_0x1cd8('0x525')])),_0x1cd8('0x833')===_0x2af6a6[_0x1cd8('0x7f')]&&(_0x2af6a6['flipY']=!0x1,_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x833')]=_0x2af6a6),'texture3'===_0x2af6a6[_0x1cd8('0x7f')]&&(_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x82d')]=_0x2af6a6,_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x82d')][_0x1cd8('0x32e')]=THREE['RepeatWrapping'],_0x18abe8['textures'][_0x1cd8('0x82d')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0x55572d[_0x1cd8('0x525')]&&(_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x82d')][_0x1cd8('0x525')]=_0x55572d[_0x1cd8('0x525')])),_0x1cd8('0x82e')===_0x2af6a6['name']&&(_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x82e')]=_0x2af6a6,_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x82e')][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0x18abe8[_0x1cd8('0x639')]['texture4'][_0x1cd8('0x3f4')]=THREE['RepeatWrapping'],_0x55572d[_0x1cd8('0x525')]&&(_0x18abe8[_0x1cd8('0x639')]['texture4'][_0x1cd8('0x525')]=_0x55572d[_0x1cd8('0x525')])),'noise'===_0x2af6a6[_0x1cd8('0x7f')]&&(_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x831')]=_0x2af6a6,_0x18abe8['textures'][_0x1cd8('0x831')][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0x18abe8[_0x1cd8('0x639')][_0x1cd8('0x831')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')]);}}catch(_0x22647e){_0x275769=!0x0,_0x427695=_0x22647e;}finally{try{!_0x206c20&&_0x40daad[_0x1cd8('0xa1')]&&_0x40daad['return']();}finally{if(_0x275769)throw _0x427695;}}_0x18abe8[_0x1cd8('0x639')],_0x18abe8['dispatchEvent']({'type':'canUpdate'});});}},{'key':_0x1cd8('0x63d'),'value':function(){var _0x12ecef=document['createElement'](_0x1cd8('0x470'));return _0x12ecef[_0x1cd8('0x320')]=0x2,_0x12ecef[_0x1cd8('0x2f1')]=0x2,_0x12ecef[_0x1cd8('0x471')]('2d')[_0x1cd8('0x4b5')]=_0x1cd8('0x400'),new THREE[(_0x1cd8('0x63e'))](_0x12ecef);}},{'key':_0x1cd8('0x2f2'),'value':function(_0x206c20){var _0x275769=this;_0x206c20[_0x1cd8('0x640')]||(_0x206c20[_0x1cd8('0x640')]=this['createTexture'](),_0x206c20[_0x1cd8('0x641')]=0x0),_0x275769[_0x1cd8('0x639')][_0x1cd8('0x82d')]&&(_0x206c20[_0x1cd8('0x175')][_0x1cd8('0x834')]=''),_0x275769[_0x1cd8('0x639')][_0x1cd8('0x82e')]&&(_0x206c20[_0x1cd8('0x175')]['IS_USE_MASK_TEXTURE3']=''),_0x275769[_0x1cd8('0x639')][_0x1cd8('0x835')]&&(_0x206c20[_0x1cd8('0x175')]['IS_USE_MASK_ALPHA']='',_0x206c20[_0x1cd8('0x1e1')]=!0x0),_0x275769[_0x1cd8('0x830')]&&(_0x206c20[_0x1cd8('0x175')]['IS_USE_CUS_NORMAL']='',0x2==_0x275769['normalUvIndex']&&(_0x206c20[_0x1cd8('0x836')][_0x1cd8('0x32e')]=THREE[_0x1cd8('0x5f0')],_0x206c20[_0x1cd8('0x836')][_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x5f0')],_0x206c20[_0x1cd8('0x837')]=THREE[_0x1cd8('0x838')]),_0x275769['normalFlipSide']&&(_0x206c20['defines'][_0x1cd8('0x839')]='')),this[_0x1cd8('0x525')]&&(_0x206c20['map']['anisotropy']=this[_0x1cd8('0x525')]),_0x206c20['onBeforeCompile']=function(_0x12ecef){_0x12ecef[_0x1cd8('0x176')][_0x1cd8('0x3d3')]={'value':_0x206c20['map']},_0x12ecef[_0x1cd8('0x176')][_0x1cd8('0x649')]={'value':_0x275769[_0x1cd8('0x639')][_0x1cd8('0x649')]},_0x12ecef[_0x1cd8('0x176')][_0x1cd8('0x833')]={'value':_0x275769[_0x1cd8('0x639')][_0x1cd8('0x833')]},_0x275769[_0x1cd8('0x639')][_0x1cd8('0x82d')]&&(_0x12ecef[_0x1cd8('0x176')][_0x1cd8('0x82d')]={'value':_0x275769[_0x1cd8('0x639')]['texture3']}),_0x275769['textures'][_0x1cd8('0x82e')]&&(_0x12ecef[_0x1cd8('0x176')][_0x1cd8('0x82e')]={'value':_0x275769[_0x1cd8('0x639')][_0x1cd8('0x82e')]}),_0x12ecef['uniforms']['noiseTex']={'value':_0x275769[_0x1cd8('0x639')][_0x1cd8('0x831')]},_0x12ecef[_0x1cd8('0x176')][_0x1cd8('0x83a')]={'value':_0x275769[_0x1cd8('0x826')]},_0x12ecef['uniforms']['noTileConfigs']={'value':_0x275769[_0x1cd8('0x82f')]},_0x12ecef['vertexShader']=_0x12ecef[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x652'),_0x1cd8('0x83b')),_0x12ecef[_0x1cd8('0x3d4')]=_0x12ecef['vertexShader']['replace'](_0x1cd8('0x408'),_0x1cd8('0x83c')),_0x12ecef[_0x1cd8('0x56')]=_0x12ecef['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20othersRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20noTileConfigs;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x12ecef[_0x1cd8('0x56')]=_0x12ecef[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x83d'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20include\x20<normal_fragment_maps>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20OBJECTSPACE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_NORMAL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x20//\x20overrides\x20both\x20flatShading\x20and\x20attribute\x20normals\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20FLIP_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20-\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20DOUBLE_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normal\x20*\x20(\x20float(\x20gl_FrontFacing\x20)\x20*\x202.0\x20-\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x20//\x20tangent-space\x20normal\x20map\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TANGENT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20vTBN\x20=\x20mat3(\x20tangent,\x20bitangent,\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mapN.xy\x20=\x20normalScale\x20*\x20mapN.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20vTBN\x20*\x20mapN\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormal2Arb(\x20-vViewPosition,\x20normal\x20);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormalArb(\x20-vViewPosition,\x20normal,\x20dHdxy_fwd()\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x12ecef[_0x1cd8('0x56')]=_0x12ecef['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x61e'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20baseColor\x20=\x20vec4(1.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture1Col\x20=\x20textureNoTile(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture2Col\x20=\x20textureNoTile(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture1Col\x20=\x20noTileConfigs.x\x20>\x200.0\x20?\x20textureNoTile(texture1,\x20vUv\x20*\x20othersRepeat.x)\x20:\x20texture(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture2Col\x20=\x20noTileConfigs.y\x20>\x200.0\x20?\x20textureNoTile(texture2,\x20vUv\x20*\x20othersRepeat.y)\x20:\x20texture(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(texture1Col,\x20texture2Col,\x20texMaskCol.r);\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture3Col\x20=\x20noTileConfigs.z\x20>\x200.0\x20?\x20textureNoTile(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20)\x20:\x20texture(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20);\x20//\x20green\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture3Col,\x20texMaskCol.g);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture4Col\x20=\x20noTileConfigs.w\x20>\x200.0\x20?\x20textureNoTile(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20)\x20:\x20texture(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20);\x20//\x20blue\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture4Col,\x20texMaskCol.b);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20mapTexelToLinear(\x20baseColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x275769['shader']=_0x12ecef;};}}]),_0x206c20['default']=_0x4295ac;},function(_0x495e1f,_0x1619f9,_0x3ef103){'use strict';Object[_0x1cd8('0x4')](_0x1619f9,_0x1cd8('0x6'),{'value':!0x0});var _0x280441=_0x42aa3b(_0x3ef103(0x4)),_0x259891=_0x42aa3b(_0x3ef103(0x26)),_0x1bd5fb=_0x42aa3b(_0x3ef103(0x0)),_0x5da5d5=_0x42aa3b(_0x3ef103(0x1)),_0x2a1f1c=_0x42aa3b(_0x3ef103(0x30)),_0x2c7ecb=_0x42aa3b(_0x3ef103(0x31)),_0x23742d=_0x42aa3b(_0x3ef103(0x3c));function _0x42aa3b(_0x495e1f){return _0x495e1f&&_0x495e1f[_0x1cd8('0x6')]?_0x495e1f:{'default':_0x495e1f};}function _0x169421(_0x495e1f){var _0x1619f9=_0x495e1f['textureMaskPath'],_0x3ef103=_0x495e1f[_0x1cd8('0x83e')],_0x5da5d5=_0x495e1f[_0x1cd8('0x83f')],_0x5da5d5=void 0x0===_0x5da5d5||_0x5da5d5,_0x2c7ecb=_0x495e1f[_0x1cd8('0x840')],_0x2c7ecb=void 0x0!==_0x2c7ecb&&_0x2c7ecb,_0x495e1f=_0x495e1f[_0x1cd8('0x841')],_0x42aa3b=((0x0,_0x1bd5fb[_0x1cd8('0xa')])(this,_0x169421),(0x0,_0x2a1f1c['default'])(this,(_0x169421[_0x1cd8('0x8c')]||(0x0,_0x259891[_0x1cd8('0xa')])(_0x169421))[_0x1cd8('0x1')](this))),_0x3ef103=(_0x42aa3b[_0x1cd8('0x82c')]=new _0x23742d[(_0x1cd8('0xa'))](),_0x42aa3b[_0x1cd8('0x842')]=null,_0x42aa3b[_0x1cd8('0x83e')]=_0x3ef103,_0x42aa3b[_0x1cd8('0x83f')]=_0x5da5d5,_0x42aa3b[_0x1cd8('0x840')]=_0x2c7ecb,_0x42aa3b['csTime']=0x0,_0x42aa3b[_0x1cd8('0x5ba')]=0.15,_0x42aa3b[_0x1cd8('0x5b9')]=1.1,_0x42aa3b['scanOffset']=_0x495e1f||0x0,_0x42aa3b[_0x1cd8('0x639')]={'textureMask':null},[{'name':_0x1cd8('0x833'),'path':_0x1619f9}]);return _0x42aa3b[_0x1cd8('0x832')](_0x3ef103),_0x42aa3b;}_0x3ef103=_0x3ef103(0x3b)[_0x1cd8('0x97')],(0x0,_0x2c7ecb[_0x1cd8('0xa')])(_0x169421,_0x3ef103),(0x0,_0x5da5d5[_0x1cd8('0xa')])(_0x169421,[{'key':_0x1cd8('0x832'),'value':function(_0x495e1f){var _0x1bd5fb=this;this[_0x1cd8('0x82c')]['multiTexturesLoad'](_0x495e1f)['then'](function(_0x495e1f){var _0x1619f9=!0x0,_0x3ef103=!0x1,_0x5da5d5=void 0x0;try{for(var _0x2c7ecb,_0x42aa3b=(0x0,_0x280441[_0x1cd8('0xa')])(_0x495e1f);!(_0x1619f9=(_0x2c7ecb=_0x42aa3b['next']())[_0x1cd8('0x8e')]);_0x1619f9=!0x0){var _0x259891=_0x2c7ecb[_0x1cd8('0xf')];_0x1cd8('0x833')===_0x259891[_0x1cd8('0x7f')]&&(_0x259891['flipY']=!0x1,_0x1bd5fb['textures'][_0x1cd8('0x833')]=_0x259891);}}catch(_0x1723dc){_0x3ef103=!0x0,_0x5da5d5=_0x1723dc;}finally{try{!_0x1619f9&&_0x42aa3b[_0x1cd8('0xa1')]&&_0x42aa3b[_0x1cd8('0xa1')]();}finally{if(_0x3ef103)throw _0x5da5d5;}}_0x1bd5fb['dispatchEvent']({'type':_0x1cd8('0x46d')});});}},{'key':_0x1cd8('0x63d'),'value':function(){var _0x495e1f=document[_0x1cd8('0x79')](_0x1cd8('0x470'));return _0x495e1f[_0x1cd8('0x320')]=0x2,_0x495e1f[_0x1cd8('0x2f1')]=0x2,_0x495e1f[_0x1cd8('0x471')]('2d')[_0x1cd8('0x4b5')]=_0x1cd8('0x400'),new THREE[(_0x1cd8('0x63e'))](_0x495e1f);}},{'key':_0x1cd8('0x2f2'),'value':function(_0x495e1f){var _0x1619f9=this;if(!_0x1619f9[_0x1cd8('0x639')]['textureMask'])return!0x1;_0x495e1f['aoMap']||(_0x495e1f[_0x1cd8('0x640')]=this[_0x1cd8('0x63d')](),_0x495e1f[_0x1cd8('0x641')]=0x0),_0x495e1f[_0x1cd8('0x3d2')]=function(_0x495e1f){_0x495e1f[_0x1cd8('0x176')][_0x1cd8('0x3da')]={'value':0x0},_0x495e1f[_0x1cd8('0x176')][_0x1cd8('0x843')]={'value':_0x1619f9[_0x1cd8('0x83e')]},_0x495e1f[_0x1cd8('0x176')][_0x1cd8('0x844')]={'value':_0x1619f9[_0x1cd8('0x83f')]},_0x495e1f[_0x1cd8('0x176')][_0x1cd8('0x841')]={'value':_0x1619f9[_0x1cd8('0x841')]},_0x495e1f[_0x1cd8('0x176')][_0x1cd8('0x833')]={'value':_0x1619f9[_0x1cd8('0x639')][_0x1cd8('0x833')]},_0x495e1f['vertexShader']=_0x495e1f[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x652'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x495e1f[_0x1cd8('0x3d4')]=_0x495e1f[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x408'),_0x1cd8('0x845')),_0x495e1f['fragmentShader']=_0x495e1f[_0x1cd8('0x56')][_0x1cd8('0x23d')]('uniform\x20float\x20opacity;',_0x1cd8('0x846')),_0x495e1f['fragmentShader']=_0x495e1f[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x61e'),_0x1cd8('0x847')),_0x1619f9[_0x1cd8('0x840')]&&(_0x495e1f[_0x1cd8('0x56')]=_0x495e1f[_0x1cd8('0x56')][_0x1cd8('0x23d')](_0x1cd8('0x848'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')),_0x495e1f['fragmentShader']=_0x495e1f[_0x1cd8('0x56')][_0x1cd8('0x23d')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x1cd8('0x849')),_0x1619f9[_0x1cd8('0x842')]=_0x495e1f;};}},{'key':_0x1cd8('0x325'),'value':function(_0x495e1f){this['effectShader']&&(this[_0x1cd8('0x607')]+=_0x495e1f*this['csSpeed'],this[_0x1cd8('0x842')][_0x1cd8('0x176')][_0x1cd8('0x3da')]['value']=this[_0x1cd8('0x607')]);}}]),_0x1619f9[_0x1cd8('0xa')]=_0x169421;},function(_0x2bffc5,_0x182997,_0xd28dba){'use strict';Object[_0x1cd8('0x4')](_0x182997,'__esModule',{'value':!0x0});var _0x43e1b3=_0x420084(_0xd28dba(0x0));function _0x420084(_0x2bffc5){return _0x2bffc5&&_0x2bffc5['__esModule']?_0x2bffc5:{'default':_0x2bffc5};}function _0x4aad41(){(0x0,_0x43e1b3[_0x1cd8('0xa')])(this,_0x4aad41),this[_0x1cd8('0x84a')]=[];}(0x0,_0x420084(_0xd28dba(0x1))[_0x1cd8('0xa')])(_0x4aad41,[{'key':_0x1cd8('0x63d'),'value':function(){var _0x2bffc5=document[_0x1cd8('0x79')](_0x1cd8('0x470'));return _0x2bffc5[_0x1cd8('0x320')]=0x2,_0x2bffc5['height']=0x2,_0x2bffc5[_0x1cd8('0x471')]('2d')[_0x1cd8('0x4b5')]=_0x1cd8('0x400'),new THREE[(_0x1cd8('0x63e'))](_0x2bffc5);}},{'key':_0x1cd8('0x2f2'),'value':function(_0x2bffc5){_0x2bffc5[_0x1cd8('0x640')]||(_0x2bffc5[_0x1cd8('0x640')]=this['createTexture'](),_0x2bffc5[_0x1cd8('0x641')]=0x0),_0x2bffc5['onBeforeCompile']=function(_0x2bffc5){_0x2bffc5[_0x1cd8('0x56')]=_0x2bffc5['fragmentShader'][_0x1cd8('0x23d')]('#include\x20<emissivemap_fragment>',_0x1cd8('0x84b'));},this['materialList'][_0x1cd8('0x70')](_0x2bffc5);}},{'key':'fadeLight','value':function(_0x2bffc5){var _0x43e1b3,_0x182997=_0x2bffc5['isShow'],_0x182997=void 0x0!==_0x182997&&_0x182997,_0xd28dba=_0x2bffc5[_0x1cd8('0x2c9')],_0xd28dba=void 0x0===_0xd28dba?0x1:_0xd28dba,_0x420084=_0x2bffc5[_0x1cd8('0x334')];0x0<this[_0x1cd8('0x84a')][_0x1cd8('0xc')]&&(_0x43e1b3=this,new TWEEN[(_0x1cd8('0x2cd'))]({'x':_0x182997?0x0:0x1})['to']({'x':_0x182997?0x1:0x0},0x3e8*_0xd28dba)[_0x1cd8('0x2d2')](function(_0x2bffc5){for(var _0x182997=0x0,_0xd28dba=_0x43e1b3[_0x1cd8('0x84a')][_0x1cd8('0xc')];_0x182997<_0xd28dba;_0x182997++)_0x43e1b3[_0x1cd8('0x84a')][_0x182997]['emissiveIntensity']=_0x2bffc5['x'];})[_0x1cd8('0x2d4')](function(){_0x420084&&_0x420084();})[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')]['Quadratic']['In'])[_0x1cd8('0x2d1')]());}},{'key':'clearMaterials','value':function(){this[_0x1cd8('0x84a')]['length']=0x0;}}]),_0x182997[_0x1cd8('0xa')]=_0x4aad41;},function(_0x53f98f,_0x46ccc1,_0x414fe4){'use strict';Object[_0x1cd8('0x4')](_0x46ccc1,_0x1cd8('0x6'),{'value':!0x0});var _0x142ae5=_0x86dd5b(_0x414fe4(0x0));function _0x86dd5b(_0x53f98f){return _0x53f98f&&_0x53f98f[_0x1cd8('0x6')]?_0x53f98f:{'default':_0x53f98f};}function _0x4edab4(){(0x0,_0x142ae5[_0x1cd8('0xa')])(this,_0x4edab4),this[_0x1cd8('0x47')]=null,this[_0x1cd8('0x3d0')]=null,this['count']=null;}(0x0,_0x86dd5b(_0x414fe4(0x1))[_0x1cd8('0xa')])(_0x4edab4,[{'key':_0x1cd8('0x2f2'),'value':function(_0x53f98f){_0x53f98f['onBeforeCompile']=function(_0x53f98f){_0x53f98f['uniforms']['coeficient']={'value':1.2},_0x53f98f['uniforms'][_0x1cd8('0x84c')]={'value':1.4},_0x53f98f[_0x1cd8('0x176')][_0x1cd8('0x84d')]={'value':new THREE[(_0x1cd8('0x1c3'))]('cyan')},_0x53f98f[_0x1cd8('0x3d4')]=_0x53f98f[_0x1cd8('0x3d4')][_0x1cd8('0x23d')](_0x1cd8('0x3df'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x53f98f['vertexShader']=_0x53f98f[_0x1cd8('0x3d4')]['replace'](_0x1cd8('0x3d6'),_0x1cd8('0x84e')),_0x53f98f[_0x1cd8('0x56')]=_0x53f98f[_0x1cd8('0x56')]['replace'](_0x1cd8('0x3d8'),_0x1cd8('0x84f')),_0x53f98f[_0x1cd8('0x56')]=_0x53f98f['fragmentShader'][_0x1cd8('0x23d')](_0x1cd8('0x3d9'),_0x1cd8('0x850'));},this[_0x1cd8('0x47')]=_0x53f98f;}},{'key':'getMaterial','value':function(){return this[_0x1cd8('0x47')];}},{'key':_0x1cd8('0x325'),'value':function(_0x53f98f){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=_0x53f98f,this['shader'][_0x1cd8('0x176')][_0x1cd8('0x3da')][_0x1cd8('0xf')]=this[_0x1cd8('0x10f')]);}}]),_0x46ccc1['default']=_0x4edab4;},function(_0x87f58a,_0x3d1b83,_0x5a8431){'use strict';Object[_0x1cd8('0x4')](_0x3d1b83,_0x1cd8('0x6'),{'value':!0x0});var _0x412f2e=_0x5299e5(_0x5a8431(0x26)),_0x4668b4=_0x5299e5(_0x5a8431(0x0)),_0x1e7e58=_0x5299e5(_0x5a8431(0x1)),_0x505912=_0x5299e5(_0x5a8431(0x30)),_0x2359a3=_0x5299e5(_0x5a8431(0x31)),_0xdf09f9=_0x5299e5(_0x5a8431(0x3c)),_0x20a9ed=_0x5a8431(0x3b),_0x588ac0=_0x5299e5(_0x5a8431(0x81));function _0x5299e5(_0x87f58a){return _0x87f58a&&_0x87f58a[_0x1cd8('0x6')]?_0x87f58a:{'default':_0x87f58a};}function _0x218c55(_0x87f58a){var _0x3d1b83=_0x87f58a[_0x1cd8('0xdf')],_0x87f58a=_0x87f58a[_0x1cd8('0x326')],_0x87f58a=void 0x0===_0x87f58a?0.5:_0x87f58a,_0x5a8431=((0x0,_0x4668b4[_0x1cd8('0xa')])(this,_0x218c55),(0x0,_0x505912[_0x1cd8('0xa')])(this,(_0x218c55[_0x1cd8('0x8c')]||(0x0,_0x412f2e[_0x1cd8('0xa')])(_0x218c55))['call'](this)));return _0x5a8431[_0x1cd8('0xdf')]=_0x3d1b83,_0x5a8431[_0x1cd8('0x47')]=null,_0x5a8431[_0x1cd8('0x326')]=_0x87f58a,_0x5a8431[_0x1cd8('0x9f')]=null,_0x5a8431['isInit']=!0x1,_0x5a8431[_0x1cd8('0x851')]=null,_0x5a8431['textureSprites']=[],_0x5a8431;}_0x5a8431=_0x20a9ed[_0x1cd8('0x97')],(0x0,_0x2359a3[_0x1cd8('0xa')])(_0x218c55,_0x5a8431),(0x0,_0x1e7e58['default'])(_0x218c55,[{'key':_0x1cd8('0xa5'),'value':function(_0x87f58a){var _0x3d1b83=this;new _0xdf09f9[(_0x1cd8('0xa'))]()['textureLoad']({'name':_0x1cd8('0x852'),'path':_0x87f58a})[_0x1cd8('0x349')](function(_0x87f58a){_0x3d1b83[_0x1cd8('0x9f')]=_0x87f58a,_0x3d1b83[_0x1cd8('0x9f')]['anisotropy']=_0x3d1b83[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x527')]['getMaxAnisotropy'](),_0x3d1b83[_0x1cd8('0x46c')]({'type':_0x1cd8('0x46d')});});}},{'key':_0x1cd8('0x853'),'value':function(_0x87f58a){this[_0x1cd8('0x851')]=new _0x588ac0['default']({'timer':this[_0x1cd8('0xdf')][_0x1cd8('0x2e2')],'imageWidth':_0x87f58a[_0x1cd8('0x64e')],'imageHeight':_0x87f58a['imgHeight'],'xCount':_0x87f58a[_0x1cd8('0x64f')],'yCount':_0x87f58a[_0x1cd8('0x650')],'fps':_0x87f58a[_0x1cd8('0x2e5')]}),this[_0x1cd8('0x851')]['create'](this['texture'],!0x0);}},{'key':_0x1cd8('0x854'),'value':function(_0x87f58a){this[_0x1cd8('0x851')]&&_0x87f58a&&(this[_0x1cd8('0x851')][_0x1cd8('0x2e5')]=_0x87f58a);}},{'key':_0x1cd8('0x855'),'value':function(_0x87f58a){_0x87f58a[_0x1cd8('0x220')][_0x1cd8('0x2f5')]('#ffffff'),_0x87f58a[_0x1cd8('0x1e1')]=!0x0,_0x87f58a[_0x1cd8('0x20a')]=0x1,_0x87f58a['depthWrite']=!0x1,_0x87f58a[_0x1cd8('0xdf')]=this[_0x1cd8('0x9f')],_0x87f58a[_0x1cd8('0xdf')][_0x1cd8('0x10b')]=!0x0,_0x87f58a[_0x1cd8('0x10b')]=!0x0,this['material']=_0x87f58a;}},{'key':_0x1cd8('0x325'),'value':function(){this[_0x1cd8('0x851')]&&this['textureSprite'][_0x1cd8('0x2d3')]();}}]),_0x3d1b83['default']=_0x218c55;},function(_0x23bc45,_0x52ce07,_0x5d0f20){'use strict';Object[_0x1cd8('0x4')](_0x52ce07,'__esModule',{'value':!0x0});var _0x240e15=_0x9efd14(_0x5d0f20(0x0)),_0x17b700=_0x9efd14(_0x5d0f20(0x1)),_0x2778c3=_0x5d0f20(0xfa);function _0x9efd14(_0x23bc45){return _0x23bc45&&_0x23bc45['__esModule']?_0x23bc45:{'default':_0x23bc45};}function _0x541053(_0x23bc45){var _0x52ce07=_0x23bc45[_0x1cd8('0x856')],_0x52ce07=void 0x0===_0x52ce07?[0x0,0x0]:_0x52ce07,_0x5d0f20=_0x23bc45[_0x1cd8('0x857')],_0x5d0f20=void 0x0===_0x5d0f20?_0x1cd8('0x858'):_0x5d0f20,_0x17b700=_0x23bc45[_0x1cd8('0x547')],_0x9efd14=_0x23bc45[_0x1cd8('0x4c3')],_0x502a9b=_0x23bc45[_0x1cd8('0x69a')],_0x502a9b=void 0x0===_0x502a9b?{'x':0x64,'y':0x64}:_0x502a9b,_0x3ff5da=_0x23bc45[_0x1cd8('0x859')],_0x201b60=_0x23bc45[_0x1cd8('0x85a')],_0x23bc45=_0x23bc45[_0x1cd8('0x85b')],_0x23bc45=void 0x0===_0x23bc45?{'scale':0xc8,'fogNear':0.15,'fogFar':0xc8}:_0x23bc45;(0x0,_0x240e15[_0x1cd8('0xa')])(this,_0x541053),this[_0x1cd8('0x856')]=new THREE[(_0x1cd8('0x1c0'))](_0x52ce07[0x0],_0x52ce07[0x1]),this[_0x1cd8('0x857')]=_0x5d0f20,this[_0x1cd8('0x85c')]=new _0x2778c3['Lut'](_0x5d0f20),this[_0x1cd8('0x547')]=_0x17b700,this['isShowContour']=_0x3ff5da,this[_0x1cd8('0x85a')]=_0x201b60,this[_0x1cd8('0x85b')]=_0x23bc45,this[_0x1cd8('0x85d')]=_0x9efd14,this[_0x1cd8('0x85e')]=_0x502a9b,this[_0x1cd8('0x3d0')]=null,this[_0x1cd8('0x10f')]=0x0,this[_0x1cd8('0x326')]=0.05;}(0x0,_0x17b700[_0x1cd8('0xa')])(_0x541053,[{'key':_0x1cd8('0x85f'),'value':function(){if(this['gradientType']&&_0x2778c3[_0x1cd8('0x860')][this['gradientType']])return _0x2778c3[_0x1cd8('0x860')][this[_0x1cd8('0x857')]];}},{'key':_0x1cd8('0x861'),'value':function(_0x23bc45){_0x23bc45&&_0x23bc45[_0x1cd8('0x7f')]&&_0x23bc45[_0x1cd8('0x862')]&&0x0<_0x23bc45['colorArray'][_0x1cd8('0xc')]&&this[_0x1cd8('0x85c')][_0x1cd8('0x863')](this[_0x1cd8('0x857')],_0x23bc45['colorArray']),this['gradientLut'][_0x1cd8('0x864')](this['gradientType']);_0x23bc45=new THREE[(_0x1cd8('0x68e'))](this[_0x1cd8('0x85c')][_0x1cd8('0x865')]());_0x23bc45[_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x5fa')][_0x1cd8('0xf')]=_0x23bc45;}},{'key':_0x1cd8('0x866'),'value':function(_0x23bc45){_0x23bc45[_0x1cd8('0x3f6')]&&(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x867')][_0x1cd8('0xf')]=_0x23bc45[_0x1cd8('0x3f6')]),_0x23bc45[_0x1cd8('0x868')]&&_0x23bc45['fogFar']&&(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['seaGroundFog'][_0x1cd8('0xf')]=new THREE['Vector2'](_0x23bc45['fogNear'],_0x23bc45['fogFar']));}},{'key':_0x1cd8('0x2f2'),'value':function(_0x23bc45){var _0x5d0f20=this,_0x17b700=new THREE['CanvasTexture'](this['gradientLut'][_0x1cd8('0x865')]()),_0x9efd14=null;return this['groundTexPath']&&((_0x9efd14=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')](this[_0x1cd8('0x85d')]))[_0x1cd8('0x32e')]=THREE[_0x1cd8('0x32d')],_0x9efd14[_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')]),_0x23bc45[_0x1cd8('0x3d2')]=function(_0x23bc45){var _0x52ce07=_0x23bc45[_0x1cd8('0x176')];_0x23bc45[_0x1cd8('0x176')]=_0x52ce07,_0x23bc45[_0x1cd8('0x176')][_0x1cd8('0x869')]={'value':_0x5d0f20[_0x1cd8('0x869')]||!0x1},_0x23bc45['uniforms'][_0x1cd8('0x3da')]={'value':0x0},_0x23bc45[_0x1cd8('0x176')]['heightExtent']={'value':_0x5d0f20[_0x1cd8('0x856')]},_0x23bc45[_0x1cd8('0x176')]['gradientTex']={'value':_0x17b700},_0x9efd14&&(_0x23bc45[_0x1cd8('0x176')][_0x1cd8('0x86a')]={'value':_0x9efd14}),_0x23bc45['uniforms']['isShowContour']={'value':_0x5d0f20['isShowContour']||!0x1},_0x23bc45[_0x1cd8('0x176')][_0x1cd8('0x86b')]={'value':_0x5d0f20['isShowSeaGroundEffect']||!0x1},_0x23bc45['uniforms'][_0x1cd8('0x867')]={'value':_0x5d0f20[_0x1cd8('0x85b')][_0x1cd8('0x3f6')]},_0x23bc45[_0x1cd8('0x176')]['seaGroundFog']={'value':new THREE[(_0x1cd8('0x1c0'))](_0x5d0f20[_0x1cd8('0x85b')]['fogNear'],_0x5d0f20[_0x1cd8('0x85b')][_0x1cd8('0x86c')])},_0x23bc45[_0x1cd8('0x3d4')]=_0x23bc45[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<uv_pars_vertex>',_0x1cd8('0x86d')),_0x23bc45['vertexShader']=_0x23bc45[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<uv_vertex>',_0x1cd8('0x86e')),_0x23bc45[_0x1cd8('0x56')]=_0x23bc45[_0x1cd8('0x56')]['replace'](_0x1cd8('0x3d8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5d0f20[_0x1cd8('0x85d')]?_0x1cd8('0x86f'):'')+_0x1cd8('0x870')),_0x23bc45['fragmentShader']=_0x23bc45[_0x1cd8('0x56')]['replace'](_0x1cd8('0x3d9'),_0x1cd8('0x871')),_0x5d0f20['shader']=_0x23bc45;},_0x23bc45;}},{'key':_0x1cd8('0x325'),'value':function(_0x23bc45){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x10f')]+=_0x23bc45*this[_0x1cd8('0x326')],this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x3da')]['value']=this[_0x1cd8('0x10f')]);}},{'key':_0x1cd8('0x869'),'set':function(_0x23bc45){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x869')]['value']=_0x23bc45);},'get':function(){if(this['shader'])return this[_0x1cd8('0x3d0')]['uniforms']['isShow'][_0x1cd8('0xf')];}},{'key':_0x1cd8('0x872'),'set':function(_0x23bc45){this[_0x1cd8('0x3d0')]&&(this[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x86b')]['value']=_0x23bc45);},'get':function(){if(this[_0x1cd8('0x3d0')])return this[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x86b')][_0x1cd8('0xf')];}}]),_0x52ce07[_0x1cd8('0xa')]=_0x541053;},function(_0x50c91b,_0x48317d,_0xa1bab6){'use strict';function _0x34c195(_0x50c91b,_0x48317d){return this[_0x1cd8('0x873')]=[],this[_0x1cd8('0x864')](_0x50c91b,_0x48317d),this;}Object[_0x1cd8('0x4')](_0x48317d,_0x1cd8('0x6'),{'value':!0x0});var _0x291675={'rainbow':[[0x0,0xff],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x34c195['prototype']={'constructor':THREE[_0x1cd8('0x874')],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x50c91b){return _0x50c91b instanceof THREE[_0x1cd8('0x874')]&&this[_0x1cd8('0x1c6')](_0x50c91b),this;},'setMin':function(_0x50c91b){return this[_0x1cd8('0x875')]=_0x50c91b,this;},'setMax':function(_0x50c91b){return this[_0x1cd8('0x876')]=_0x50c91b,this;},'setColorMap':function(_0x50c91b,_0x48317d){this[_0x1cd8('0xdf')]=_0x291675[_0x50c91b]||_0x291675[_0x1cd8('0x877')],this['n']=_0x48317d||0x20;for(var _0xa1bab6=0x1/this['n'],_0x34c195=this[_0x1cd8('0x873')][_0x1cd8('0xc')]=0x0;_0x34c195<=0x1;_0x34c195+=_0xa1bab6)for(var _0x2727d3,_0x1bc5d6,_0x237461,_0x42b973,_0x5c79ed=0x0;_0x5c79ed<this[_0x1cd8('0xdf')][_0x1cd8('0xc')]-0x1;_0x5c79ed++)_0x34c195>=this[_0x1cd8('0xdf')][_0x5c79ed][0x0]&&_0x34c195<this[_0x1cd8('0xdf')][_0x5c79ed+0x1][0x0]&&(_0x2727d3=this['map'][_0x5c79ed][0x0],_0x1bc5d6=this[_0x1cd8('0xdf')][_0x5c79ed+0x1][0x0],_0x42b973=new THREE[(_0x1cd8('0x1c3'))](this['map'][_0x5c79ed][0x1]),_0x237461=new THREE['Color'](this[_0x1cd8('0xdf')][_0x5c79ed+0x1][0x1]),_0x42b973=_0x42b973[_0x1cd8('0x1c1')](_0x237461,(_0x34c195-_0x2727d3)/(_0x1bc5d6-_0x2727d3)),this[_0x1cd8('0x873')][_0x1cd8('0x70')](_0x42b973));return this;},'copy':function(_0x50c91b){return this[_0x1cd8('0x873')]=_0x50c91b['lut'],this[_0x1cd8('0xdf')]=_0x50c91b[_0x1cd8('0xdf')],this['n']=_0x50c91b['n'],this['minV']=_0x50c91b[_0x1cd8('0x875')],this[_0x1cd8('0x876')]=_0x50c91b['maxV'],this;},'getColor':function(_0x50c91b){_0x50c91b<=this[_0x1cd8('0x875')]?_0x50c91b=this[_0x1cd8('0x875')]:_0x50c91b>=this['maxV']&&(_0x50c91b=this['maxV']),_0x50c91b=(_0x50c91b-this[_0x1cd8('0x875')])/(this[_0x1cd8('0x876')]-this['minV']);_0x50c91b=Math['round'](_0x50c91b*this['n']);return _0x50c91b==this['n']&&--_0x50c91b,this[_0x1cd8('0x873')][_0x50c91b];},'addColorMap':function(_0x50c91b,_0x48317d){_0x291675[_0x50c91b]=_0x48317d;},'createCanvas':function(){var _0x50c91b=document['createElement'](_0x1cd8('0x470'));return _0x50c91b[_0x1cd8('0x320')]=0x1,_0x50c91b[_0x1cd8('0x2f1')]=this['n'],this['updateCanvas'](_0x50c91b),_0x50c91b;},'updateCanvas':function(_0x50c91b){for(var _0x48317d=_0x50c91b[_0x1cd8('0x471')]('2d',{'alpha':!0x1}),_0xa1bab6=_0x48317d[_0x1cd8('0x878')](0x0,0x0,0x1,this['n']),_0x34c195=_0xa1bab6[_0x1cd8('0x292')],_0x17fc59=0x0,_0x4752d8=0x1/this['n'],_0xbd751=0x1;0x0<=_0xbd751;_0xbd751-=_0x4752d8)for(var _0x1067db,_0x3d1b44,_0x291675,_0x4f7e79,_0x519571=this[_0x1cd8('0xdf')][_0x1cd8('0xc')]-0x1;0x0<=_0x519571;_0x519571--)_0xbd751<this['map'][_0x519571][0x0]&&_0xbd751>=this[_0x1cd8('0xdf')][_0x519571-0x1][0x0]&&(_0x1067db=this[_0x1cd8('0xdf')][_0x519571-0x1][0x0],_0x3d1b44=this['map'][_0x519571][0x0],_0x4f7e79=new THREE['Color'](this['map'][_0x519571-0x1][0x1]),_0x291675=new THREE['Color'](this[_0x1cd8('0xdf')][_0x519571][0x1]),_0x4f7e79=_0x4f7e79['lerp'](_0x291675,(_0xbd751-_0x1067db)/(_0x3d1b44-_0x1067db)),_0x34c195[0x4*_0x17fc59]=Math['round'](0xff*_0x4f7e79['r']),_0x34c195[0x4*_0x17fc59+0x1]=Math[_0x1cd8('0x1ca')](0xff*_0x4f7e79['g']),_0x34c195[0x4*_0x17fc59+0x2]=Math[_0x1cd8('0x1ca')](0xff*_0x4f7e79['b']),_0x34c195[0x4*_0x17fc59+0x3]=0xff,_0x17fc59+=0x1);return _0x48317d[_0x1cd8('0x879')](_0xa1bab6,0x0,0x0),_0x50c91b;}},_0x48317d[_0x1cd8('0x874')]=_0x34c195,_0x48317d['ColorMapKeywords']=_0x291675;},function(_0x9d9bec,_0x3b84d3,_0x23939d){'use strict';Object[_0x1cd8('0x4')](_0x3b84d3,_0x1cd8('0x6'),{'value':!0x0}),_0x3b84d3['default']=function(_0x9d9bec){for(var _0x3b84d3 in _0x587d7b[_0x1cd8('0x282')])if(_0x9d9bec===_0x587d7b['ESMarkerType'][_0x3b84d3])return esmap[_0x1cd8('0x3b')][_0x1cd8('0x87a')](0x2)>=_0x587d7b[_0x1cd8('0x283')][_0x3b84d3]||_0x3b84d3;};var _0x587d7b=_0x23939d(0x62);},function(_0x25f96e,_0x570ea2,_0x47371e){'use strict';Object[_0x1cd8('0x4')](_0x570ea2,_0x1cd8('0x6'),{'value':!0x0});var _0x164704,_0xf102b3,_0x4431bd,_0x2c28d9,_0x789f8b,_0x36dd1c,_0x163890,_0x3c1a1a,_0x495344,_0x4ffb85,_0xbbaa91,_0x580bab,_0x21a959,_0x40de5a,_0x8cfd66,_0x2c3af1,_0x1818b7,_0x531f20=_0x54c96b(_0x47371e(0x60)),_0x29143d=_0x54c96b(_0x47371e(0xf)),_0x2dc25b=_0x54c96b(_0x47371e(0x4)),_0x22b0f1=_0x47371e(0x1a),_0x3de9dd=_0x47371e(0x72),_0x51be43=_0x47371e(0x62),_0x743717=_0x54c96b(_0x47371e(0xfd)),_0x3ae0c6=_0x54c96b(_0x47371e(0x11a)),_0x1e253e=_0x54c96b(_0x47371e(0x74)),_0x17f5ff=_0x54c96b(_0x47371e(0x11b)),_0x350b44=_0x54c96b(_0x47371e(0x11d)),_0x866c03=_0x54c96b(_0x47371e(0x11e)),_0x1ca5c6=_0x54c96b(_0x47371e(0x11f)),_0x1756f6=_0x54c96b(_0x47371e(0x120)),_0x43875e=_0x47371e(0x3b),_0x47371e=_0x47371e(0x82);function _0x54c96b(_0x570ea2){return _0x570ea2&&_0x570ea2[_0x1cd8('0x6')]?_0x570ea2:{'default':_0x570ea2};}function _0x37e1ed(){}function _0x2d392f(_0x570ea2){_0x2c3af1[_0x1cd8('0x87b')]&&_0x2c3af1[_0x1cd8('0x87c')]&&_0x1b3862(_0x570ea2,_0x164704['id']);}function _0x563f98(_0x570ea2,_0x47371e){if(_0x4431bd[_0x1cd8('0x87d')]&&_0x1818b7&&0x0<_0x1818b7['children'][_0x1cd8('0xc')]){var _0x8cfd66=!0x0,_0x40de5a=!0x1,_0x2c3af1=void 0x0;try{for(var _0x29143d,_0x743717=(0x0,_0x2dc25b['default'])(_0x1818b7[_0x1cd8('0x315')]);!(_0x8cfd66=(_0x29143d=_0x743717['next']())[_0x1cd8('0x8e')]);_0x8cfd66=!0x0){var _0x3de9dd=_0x29143d[_0x1cd8('0xf')];if(_0x3de9dd[_0x1cd8('0x7f')]===_0x570ea2){_0x3de9dd['isForceVisible']=!_0x47371e,_0x3de9dd[_0x1cd8('0x327')]=_0x47371e;break;}}}catch(_0x3d6386){_0x40de5a=!0x0,_0x2c3af1=_0x3d6386;}finally{try{!_0x8cfd66&&_0x743717['return']&&_0x743717[_0x1cd8('0xa1')]();}finally{if(_0x40de5a)throw _0x2c3af1;}}}}function _0x1b3862(_0x570ea2,_0x47371e){if(_0x47371e=_0x47371e||{},!_0x36dd1c){if(_0x495344=new _0x1e253e[(_0x1cd8('0xa'))](_0x164704,_0x164704[_0x1cd8('0x2ae')]),_0x164704[_0x1cd8('0x87e')]||(_0x164704[_0x1cd8('0x87e')]=function(_0x570ea2){var _0x47371e=_0x164704[_0x1cd8('0x23')]({'x':_0x570ea2['x'],'y':_0x570ea2['y'],'z':_0x570ea2['z'],'bid':_0x570ea2[_0x1cd8('0x57f')]||0x0});return _0x495344[_0x1cd8('0x2c6')]({'targetPos':_0x47371e,'radius':_0x570ea2[_0x1cd8('0x226')],'pitchAngle':_0x570ea2[_0x1cd8('0x2b4')],'directionAngle':_0x570ea2[_0x1cd8('0x2c8')],'time':_0x570ea2[_0x1cd8('0x2c9')],'callback':_0x570ea2['callback']});}),_0x164704[_0x1cd8('0x87f')]||(_0x164704[_0x1cd8('0x87f')]=function(_0x570ea2,_0x47371e){var _0x8cfd66=_0x164704['controls'][_0x1cd8('0x1c')][_0x1cd8('0x3f')][_0x1cd8('0x2b8')](_0x164704['controls'][_0x1cd8('0x2b7')]),_0x570ea2=_0x570ea2&&_0x47371e?_0x164704[_0x1cd8('0x880')]({'bid':_0x570ea2,'fnum':_0x47371e}):_0x164704['toSceneCoord'](_0x164704[_0x1cd8('0x2ae')]['target']);console[_0x1cd8('0xf0')]((0x0,_0x531f20[_0x1cd8('0xa')])({'direct':_0x164704['rotateAngle'],'pitch':_0x164704[_0x1cd8('0x881')],'distance':_0x8cfd66,'target':_0x570ea2}));}),_0x4ffb85||(_0x164704[_0x1cd8('0x882')]=function(){(_0x4ffb85=_0x4ffb85||new _0x17f5ff[(_0x1cd8('0xa'))](_0x164704))[_0x1cd8('0x883')]();},_0x164704[_0x1cd8('0x884')]=function(){_0x4ffb85[_0x1cd8('0x885')]();}),_0xbbaa91||(_0x164704[_0x1cd8('0x886')]=function(_0x570ea2){(_0xbbaa91=_0xbbaa91||new _0x350b44['default'](_0x164704))['create'](_0x570ea2);}),_0x570ea2[_0x1cd8('0x887')]){if(_0xf102b3[_0x1cd8('0x888')]&&_0xf102b3['envTexture'][_0x1cd8('0x41d')]&&(_0xf102b3['envTexture']['isIndirectLight']=!0x0,_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x88a')],'configs':_0xf102b3['envTexture']})),Array[_0x1cd8('0x1b6')](_0xf102b3['roomEffect'])){var _0x8cfd66=!0x0,_0x40de5a=!0x1,_0x2c3af1=void 0x0;try{for(var _0x29143d,_0x743717=(0x0,_0x2dc25b['default'])(_0xf102b3[_0x1cd8('0x88b')]);!(_0x8cfd66=(_0x29143d=_0x743717[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x8cfd66=!0x0){var _0x3de9dd=_0x29143d[_0x1cd8('0xf')];(0x0,_0x22b0f1['getOutdoorBuildingTheme'])(_0x3de9dd[_0x1cd8('0x42')],0x0)&&(_0x3de9dd[_0x1cd8('0x88c')]&&(_0x2c28d9[_0x1cd8('0x4f8')]['buildingScanConfigs']=_0xf102b3[_0x1cd8('0x88d')]),_0x3de9dd['topImg']&&(_0x3de9dd['topImg']=(0x0,_0x22b0f1['getConfigAssetsPath'])(_0x3de9dd[_0x1cd8('0x88e')])),_0x3de9dd['sideImg']&&(_0x3de9dd['sideImg']=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x3de9dd[_0x1cd8('0x88f')])),_0x3de9dd[_0x1cd8('0x890')]&&(_0x3de9dd[_0x1cd8('0x890')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x3de9dd['colorImg'])),_0x3de9dd[_0x1cd8('0x891')]&&_0x3de9dd[_0x1cd8('0x891')][_0x1cd8('0x5d8')]&&(_0x3de9dd['extentEffect'][_0x1cd8('0x5d8')]=(0x0,_0x22b0f1['getConfigAssetsPath'])(_0x3de9dd[_0x1cd8('0x891')]['gradientImg'])),_0x2c28d9['addEffect']({'type':_0x51be43['ESEffectsConstant'][_0x1cd8('0x892')],'configs':_0x3de9dd}));}}catch(_0x1ebded){_0x40de5a=!0x0,_0x2c3af1=_0x1ebded;}finally{try{!_0x8cfd66&&_0x743717[_0x1cd8('0xa1')]&&_0x743717[_0x1cd8('0xa1')]();}finally{if(_0x40de5a)throw _0x2c3af1;}}if(0x0<_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x893')][_0x1cd8('0xc')]){var _0x3ae0c6=!0x0,_0x40de5a=!0x1,_0x2c3af1=void 0x0;try{for(var _0x54c96b,_0x37e1ed=(0x0,_0x2dc25b['default'])(_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x893')]);!(_0x3ae0c6=(_0x54c96b=_0x37e1ed[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x3ae0c6=!0x0){var _0x2d392f=_0x54c96b[_0x1cd8('0xf')];_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x894')](_0x47371e,_0x2d392f);}}catch(_0x2678c1){_0x40de5a=!0x0,_0x2c3af1=_0x2678c1;}finally{try{!_0x3ae0c6&&_0x37e1ed[_0x1cd8('0xa1')]&&_0x37e1ed[_0x1cd8('0xa1')]();}finally{if(_0x40de5a)throw _0x2c3af1;}}}}if(Array[_0x1cd8('0x1b6')](_0xf102b3['tileRoomEffect'])){var _0x163890=!0x0,_0x40de5a=!0x1,_0x2c3af1=void 0x0;try{for(var _0x563f98,_0x1818b7=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0xf102b3[_0x1cd8('0x895')]);!(_0x163890=(_0x563f98=_0x1818b7['next']())['done']);_0x163890=!0x0){var _0x1b3862=_0x563f98[_0x1cd8('0xf')];_0x1b3862[_0x1cd8('0x88c')]&&(_0x2c28d9[_0x1cd8('0x4f8')]['buildingScanConfigs']=_0xf102b3[_0x1cd8('0x88d')]),_0x1b3862[_0x1cd8('0x88e')]&&(_0x1b3862[_0x1cd8('0x88e')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x1b3862[_0x1cd8('0x88e')])),_0x1b3862[_0x1cd8('0x88f')]&&(_0x1b3862[_0x1cd8('0x88f')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x1b3862[_0x1cd8('0x88f')])),_0x1b3862['colorImg']&&(_0x1b3862[_0x1cd8('0x890')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x1b3862[_0x1cd8('0x890')])),_0x1b3862[_0x1cd8('0x891')]&&_0x1b3862[_0x1cd8('0x891')]['gradientImg']&&(_0x1b3862[_0x1cd8('0x891')][_0x1cd8('0x5d8')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x1b3862[_0x1cd8('0x891')][_0x1cd8('0x5d8')])),_0x1b3862['emissiveImg']&&(_0x1b3862[_0x1cd8('0x896')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x1b3862[_0x1cd8('0x896')])),_0x1b3862[_0x1cd8('0x897')]&&_0x1b3862['screenSky'][_0x1cd8('0x5da')]&&(_0x1b3862[_0x1cd8('0x897')][_0x1cd8('0x5da')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x1b3862[_0x1cd8('0x897')][_0x1cd8('0x5da')])),_0x1b3862[_0x1cd8('0x5a3')]=!0x0,_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x892')],'configs':_0x1b3862});}}catch(_0x25bd8b){_0x40de5a=!0x0,_0x2c3af1=_0x25bd8b;}finally{try{!_0x163890&&_0x1818b7['return']&&_0x1818b7[_0x1cd8('0xa1')]();}finally{if(_0x40de5a)throw _0x2c3af1;}}}_0xf102b3[_0x1cd8('0x6d')]&&_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43['ESEffectsConstant']['Floors'],'configs':_0xf102b3[_0x1cd8('0x6d')]}),_0xf102b3['floors']&&_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x898')],'configs':_0xf102b3['floors']}),_0xf102b3['pointLight']&&(_0xf102b3['pointLight'][_0x1cd8('0x899')]=!0x0,_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x88a')],'configs':_0xf102b3[_0x1cd8('0x89a')]})),_0xf102b3[_0x1cd8('0x89b')]&&(_0xf102b3[_0x1cd8('0x89b')]['isDirectLight']=!0x0,_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43['ESEffectsConstant'][_0x1cd8('0x88a')],'configs':_0xf102b3[_0x1cd8('0x89b')]})),_0xf102b3['ambientLight']&&(_0xf102b3['ambientLight'][_0x1cd8('0x89c')]=!0x0,_0x2c28d9['addEffect']({'type':_0x51be43[_0x1cd8('0x273')]['Lights'],'configs':_0xf102b3['ambientLight']}));}if(_0x570ea2[_0x1cd8('0x89d')]&&_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0xd3')],'configs':_0xf102b3[_0x1cd8('0x4fd')]}),_0x570ea2[_0x1cd8('0x3ca')]&&0x0<=_0x21a959&&Array['isArray'](_0xf102b3[_0x1cd8('0x715')])){var _0x25f96e=!0x0,_0x40de5a=!0x1,_0x2c3af1=void 0x0;try{for(var _0x866c03,_0x1ca5c6=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0xf102b3[_0x1cd8('0x715')]);!(_0x25f96e=(_0x866c03=_0x1ca5c6['next']())[_0x1cd8('0x8e')]);_0x25f96e=!0x0){var _0x1756f6=_0x866c03[_0x1cd8('0xf')];((0x0,_0x22b0f1[_0x1cd8('0x2e')])(_0x1756f6['roomStyle'])||_0x1756f6['type'])&&_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x89e')],'configs':_0x1756f6});}}catch(_0x16dc99){_0x40de5a=!0x0,_0x2c3af1=_0x16dc99;}finally{try{!_0x25f96e&&_0x1ca5c6[_0x1cd8('0xa1')]&&_0x1ca5c6['return']();}finally{if(_0x40de5a)throw _0x2c3af1;}}}if(_0x570ea2[_0x1cd8('0x89f')]&&0x0<=_0x21a959&&Array[_0x1cd8('0x1b6')](_0xf102b3[_0x1cd8('0x8a0')])){var _0x43875e=!0x0,_0x40de5a=!0x1,_0x2c3af1=void 0x0;try{for(var _0x3d29e3,_0x318544=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0xf102b3[_0x1cd8('0x8a0')]);!(_0x43875e=(_0x3d29e3=_0x318544[_0x1cd8('0x7e')]())['done']);_0x43875e=!0x0){var _0x29c0b7=_0x3d29e3[_0x1cd8('0xf')];(0x0,_0x22b0f1[_0x1cd8('0x2e')])(_0x29c0b7[_0x1cd8('0x42')],0x0)&&(_0x29c0b7[_0x1cd8('0x8a1')]&&(_0x29c0b7[_0x1cd8('0x8a1')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x29c0b7['repeatImg'])),_0x2c28d9['addEffect']({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x8a2')],'configs':_0x29c0b7})),_0x29c0b7[_0x1cd8('0x8a3')]&&(_0x29c0b7[_0x1cd8('0x8a1')]&&(_0x29c0b7[_0x1cd8('0x8a1')]=(0x0,_0x22b0f1[_0x1cd8('0x520')])(_0x29c0b7['repeatImg'])),_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x8a2')],'configs':_0x29c0b7}));}}catch(_0x471e30){_0x40de5a=!0x0,_0x2c3af1=_0x471e30;}finally{try{!_0x43875e&&_0x318544[_0x1cd8('0xa1')]&&_0x318544['return']();}finally{if(_0x40de5a)throw _0x2c3af1;}}}var _0xa077e1;_0x570ea2['isSetModelEffect']&&0x1<=_0x21a959&&Array[_0x1cd8('0x1b6')](_0xf102b3[_0x1cd8('0x4fb')])&&(_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x8a4')]=_0xf102b3['models']),_0x570ea2[_0x1cd8('0x8a5')]&&_0xf102b3[_0x1cd8('0x8a6')]&&0x1<=_0x21a959&&_0x2c28d9[_0x1cd8('0x8a6')][_0x1cd8('0x8a7')](_0xf102b3['shadow']),_0xf102b3[_0x1cd8('0x1e4')]&&_0x2c28d9['addEffect']({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x8a8')],'configs':_0xf102b3[_0x1cd8('0x1e4')]}),_0x570ea2['isOpenScreenEffect']&&_0xf102b3[_0x1cd8('0x8a9')]&&0x1<=_0x21a959&&(_0x40de5a=!0x1,(_0x2c3af1=esmap[_0x1cd8('0x3b')][_0x1cd8('0x8aa')]())['isPC']&&(_0x40de5a=!0x0),!_0x2c3af1[_0x1cd8('0x8ab')]&&_0x2c3af1[_0x1cd8('0x8ac')]&&0x0<=['iPhone',_0x1cd8('0x8ad'),_0x1cd8('0x8ae')]['indexOf'](_0x2c3af1['platform'])&&(_0x570ea2[_0x1cd8('0x8af')]=_0x1cd8('0x8b0'),_0x40de5a=!0x0),(_0x40de5a=!_0x2c3af1['isPc']&&_0x1cd8('0x8b1')==_0x2c3af1[_0x1cd8('0x8ac')]||_0x40de5a)?(_0x164704['options'][_0x1cd8('0x8b2')]=!0x0,_0x164704[_0x1cd8('0x466')][_0x1cd8('0x8b3')]['enabled']=!0x0,_0x2c28d9['addEffect']({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x8b4')],'configs':_0xf102b3['screenEffects']})):console[_0x1cd8('0xf0')](_0x1cd8('0x8b5'))),_0x2c28d9['models'][_0x1cd8('0x8b6')](_0xf102b3),(_0x4431bd['isShowShadow']||_0x2c28d9[_0x1cd8('0x8b7')]['enabled'])&&(_0xa077e1=_0x570ea2,_0x2c3af1=(0x0,_0x22b0f1['checkIsCityEngine'])()?_0x1cd8('0x8b8'):_0x1cd8('0x8b9'),_0x164704['on'](_0x2c3af1,function(_0x570ea2){_0x3c1a1a||(_0xa077e1[_0x1cd8('0x8af')]?_0x1cd8('0x8b0')===_0xa077e1[_0x1cd8('0x8af')]?(_0x2c28d9[_0x1cd8('0x8a6')][_0x1cd8('0x41d')]&&(_0x164704[_0x1cd8('0x466')]['renderer'][_0x1cd8('0x6bc')]['enabled']=!0x0,_0x164704[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x10b')]=!0x0),_0x2c28d9[_0x1cd8('0x8b7')][_0x1cd8('0x41d')]&&_0x2c28d9[_0x1cd8('0x8b7')][_0x1cd8('0x4ff')]['setScale'](0x2),_0x452083(),_0x164704[_0x1cd8('0x353')]?_0x164704['emit']('effectsDetectionComplete'):_0x164704[_0x1cd8('0x8ba')]&&_0x164704[_0x1cd8('0x8ba')]('effectsDetectionComplete')):_0x1cd8('0x8bb')===_0xa077e1[_0x1cd8('0x8af')]?(_0x2c28d9[_0x1cd8('0x8a6')][_0x1cd8('0x41d')]&&(_0x164704[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x41d')]=!0x0,_0x164704[_0x1cd8('0x466')]['renderer'][_0x1cd8('0x6bc')][_0x1cd8('0x10b')]=!0x0),_0x2c28d9[_0x1cd8('0x8b7')][_0x1cd8('0x41d')]&&_0x2c28d9[_0x1cd8('0x8b7')][_0x1cd8('0x4ff')]['setScale'](1.5),_0x452083(),_0x164704[_0x1cd8('0x353')]?_0x164704['emit'](_0x1cd8('0x8bc')):_0x164704[_0x1cd8('0x8ba')]&&_0x164704[_0x1cd8('0x8ba')]('effectsDetectionComplete')):_0x1cd8('0x8bd')===_0xa077e1['effectQuality']&&(_0x2c28d9[_0x1cd8('0x8a6')][_0x1cd8('0x41d')]&&(_0x164704['mapView'][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x41d')]=!0x1,_0x164704[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x10b')]=!0x0),_0x2c28d9[_0x1cd8('0x8b7')]['enabled']&&_0x2c28d9['postProcessing'][_0x1cd8('0x4ff')][_0x1cd8('0x7ba')](0x1),_0x164704['emit']?_0x164704['emit'](_0x1cd8('0x8bc')):_0x164704['fire']&&_0x164704[_0x1cd8('0x8ba')](_0x1cd8('0x8bc'))):(_0x580bab[_0x1cd8('0x8be')](0x3),_0x580bab['addEventListener']('checkIsInLowDeviceComplete',function(_0x570ea2){_0x1cd8('0x8bd')!==esmap['ESEffectTool'][_0x1cd8('0x4a')][_0x1cd8('0x8af')]&&_0x452083(),_0x164704[_0x1cd8('0x353')]?_0x164704['emit'](_0x1cd8('0x8bc')):_0x164704['fire']&&_0x164704[_0x1cd8('0x8ba')](_0x1cd8('0x8bc'));}),_0x580bab[_0x1cd8('0x29d')](_0x1cd8('0x8be'),function(_0x570ea2){if(_0x570ea2[_0x1cd8('0x2e5')],!isNaN(_0x570ea2['fps']))if(0x23<=_0x570ea2[_0x1cd8('0x2e5')]){if('medium'!==esmap[_0x1cd8('0x53')]['options'][_0x1cd8('0x8af')]&&_0x1cd8('0x8b0')!==esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x8af')])return _0x2c28d9[_0x1cd8('0x8a6')][_0x1cd8('0x41d')]&&(_0x164704['mapView'][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x41d')]=!0x0,_0x164704[_0x1cd8('0x466')]['renderer']['shadowMap'][_0x1cd8('0x10b')]=!0x0),_0x2c28d9[_0x1cd8('0x8b7')]['enabled']&&_0x2c28d9[_0x1cd8('0x8b7')]['screenEffect'][_0x1cd8('0x7ba')](1.5),esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x8af')]='medium',void Math[_0x1cd8('0x6d')](_0x570ea2[_0x1cd8('0x2e5')]);0x2d<=_0x570ea2[_0x1cd8('0x2e5')]&&_0x1cd8('0x8b0')!==esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x8af')]&&(_0x2c28d9[_0x1cd8('0x8a6')]['enabled']&&(_0x164704['mapView'][_0x1cd8('0x526')]['shadowMap'][_0x1cd8('0x41d')]=!0x0,_0x164704[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x10b')]=!0x0),_0x2c28d9[_0x1cd8('0x8b7')]['enabled']&&_0x2c28d9[_0x1cd8('0x8b7')][_0x1cd8('0x4ff')][_0x1cd8('0x7ba')](0x2),esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x8af')]='high',Math[_0x1cd8('0x6d')](_0x570ea2[_0x1cd8('0x2e5')]));}else _0x1cd8('0x8bd')!==esmap['ESEffectTool'][_0x1cd8('0x4a')][_0x1cd8('0x8af')]&&(_0x2c28d9['shadow']['enabled']&&(_0x164704[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x41d')]=!0x1,_0x164704[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x10b')]=!0x0),_0x2c28d9['postProcessing'][_0x1cd8('0x41d')]&&_0x2c28d9[_0x1cd8('0x8b7')]['screenEffect'][_0x1cd8('0x7ba')](0x1),esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')]['effectQuality']=_0x1cd8('0x8bd'),Math[_0x1cd8('0x6d')](_0x570ea2[_0x1cd8('0x2e5')]));})),_0x3c1a1a=!0x0);})),_0x2c28d9['isCanRender']=!0x0,_0x789f8b[_0x1cd8('0x8bf')]=!0x0,esmap[_0x1cd8('0x26')][_0x1cd8('0x8c0')]?_0x164704['once'](_0x1cd8('0x8c1'),function(){_0x36dd1c=!0x0,esmap['ESEffectTool'][_0x1cd8('0x503')]=!0x0,_0x164704[_0x1cd8('0x8ba')]&&_0x164704['fire']('effectsInitComplete');}):(_0x36dd1c=!0x0,esmap[_0x1cd8('0x53')][_0x1cd8('0x503')]=!0x0,_0x164704['fire']&&_0x164704['fire'](_0x1cd8('0x8c2'))),esmap[_0x1cd8('0x53')][_0x1cd8('0x8c3')]&&(esmap[_0x1cd8('0x8c4')]=_0x2c28d9);}}function _0x452083(){var _0x570ea2;_0x4431bd[_0x1cd8('0x8a5')]&&_0xf102b3[_0x1cd8('0x8a6')]&&0x1<=_0x21a959&&(_0x570ea2=!0x1,(_0x570ea2=!!esmap['ESMapUtil'][_0x1cd8('0x8aa')]()['isPC']||_0x570ea2)&&_0x2c28d9[_0x1cd8('0x889')]({'type':_0x51be43[_0x1cd8('0x273')][_0x1cd8('0x8c5')],'configs':_0xf102b3[_0x1cd8('0x8a6')]}));}_0x164704=(0x0,_0x22b0f1[_0x1cd8('0x30')])(),_0x4431bd=_0xf102b3=null,_0x2c28d9=new _0x743717[(_0x1cd8('0xa'))](),_0x789f8b=new _0x3ae0c6[(_0x1cd8('0xa'))](),_0x3c1a1a=_0x163890=_0x36dd1c=!0x1,_0xbbaa91=_0x4ffb85=_0x495344=null,_0x580bab=new _0x866c03[(_0x1cd8('0xa'))](),_0x40de5a=null,_0x2c3af1={'json':_0x8cfd66=!(_0x21a959=0x9),'preload':!0x1},esmap[_0x1cd8('0x8c6')]=_0x3de9dd[_0x1cd8('0x2a2')],esmap[_0x1cd8('0x8c7')]=THREE['FileLoader'],esmap[_0x1cd8('0x8c8')]=_0x43875e[_0x1cd8('0x97')],esmap[_0x1cd8('0x8c9')]=_0x47371e[_0x1cd8('0x2ed')],_0x1818b7=null,_0x37e1ed[_0x1cd8('0x335')]=function(_0x8cfd66){var _0x570ea2,_0x743717;(_0x8cfd66=(0x0,_0x29143d[_0x1cd8('0xa')])({'loadRoads':!0x1,'isUseHightLight':!0x1,'isSetRoomEffect':!0x1,'isShowSkybox':!0x1,'isShowGround':!0x1,'isShowShadow':!0x1,'isSetModelEffect':!0x1,'isOpenScreenEffect':!0x1,'isCloseFpsDetection':!0x1,'isTileRouteShine':!0x1,'isChangeTileRoute':!0x1,'minFpsLimit':0x14,'roadsDataSrc':null,'effectQuality':null,'isShowBuildingTip':!0x0},_0x8cfd66))['effectThemeSrc']&&_0x8cfd66[_0x1cd8('0x49')]||(0x0,_0x22b0f1[_0x1cd8('0x33')])()?(_0x2c28d9[_0x1cd8('0x335')](),_0x570ea2=(_0x4431bd=_0x8cfd66)['effectThemeSrc']+'/'+_0x8cfd66[_0x1cd8('0x49')]+'/',esmap[_0x1cd8('0x53')]['configPath']=_0x570ea2,esmap[_0x1cd8('0x53')]['switchConfigPath']=null,esmap[_0x1cd8('0x53')]['options']=_0x8cfd66,(0x0,_0x22b0f1[_0x1cd8('0x33')])()||(esmap[_0x1cd8('0x53')]['configUserPath']=null),_0x164704=(0x0,_0x22b0f1[_0x1cd8('0x30')])(),_0x8cfd66['isSetModelEffect'],_0x8cfd66[_0x1cd8('0x8ca')]&&(_0x743717=!0x0,esmap[_0x1cd8('0x53')][_0x1cd8('0x8cb')]||Object[_0x1cd8('0x4')](esmap['ESEffectTool'],_0x1cd8('0x8cb'),{'get':function(){return _0x743717;},'set':function(_0x570ea2){if(0x0<_0x2c28d9[_0x1cd8('0x4fc')][_0x1cd8('0x8cc')][_0x1cd8('0xc')]){var _0x47371e=!0x0,_0x8cfd66=!0x1,_0x40de5a=void 0x0;try{for(var _0x2c3af1,_0x29143d=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0x2c28d9[_0x1cd8('0x4fc')][_0x1cd8('0x8cc')]);!(_0x47371e=(_0x2c3af1=_0x29143d[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x47371e=!0x0)_0x2c3af1[_0x1cd8('0xf')][_0x1cd8('0x322')][_0x1cd8('0x327')]=_0x570ea2;}catch(_0x264ddc){_0x8cfd66=!0x0,_0x40de5a=_0x264ddc;}finally{try{!_0x47371e&&_0x29143d[_0x1cd8('0xa1')]&&_0x29143d[_0x1cd8('0xa1')]();}finally{if(_0x8cfd66)throw _0x40de5a;}}}_0x743717=_0x570ea2;}})),esmap[_0x1cd8('0x53')]&&(esmap[_0x1cd8('0x53')][_0x1cd8('0x8cd')]=!0x0),_0x164704['on'](_0x1cd8('0x8ce'),function(_0x570ea2){}),_0x164704['on']('tilePreLoad',function(_0x570ea2){if(0x0<_0x2c28d9['buildings']['tileBuilidngThemes'][_0x1cd8('0xc')]&&_0x4431bd[_0x1cd8('0x887')]){var _0x47371e=!0x0,_0x8cfd66=!0x1,_0x40de5a=void 0x0;try{for(var _0x2c3af1,_0x29143d=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x8cf')]);!(_0x47371e=(_0x2c3af1=_0x29143d[_0x1cd8('0x7e')]())['done']);_0x47371e=!0x0){var _0x743717=_0x2c3af1[_0x1cd8('0xf')];_0x743717[_0x1cd8('0x63b')]||(_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x8d0')](_0x743717),_0x743717[_0x1cd8('0x63b')]=!0x0);}}catch(_0x262957){_0x8cfd66=!0x0,_0x40de5a=_0x262957;}finally{try{!_0x47371e&&_0x29143d[_0x1cd8('0xa1')]&&_0x29143d[_0x1cd8('0xa1')]();}finally{if(_0x8cfd66)throw _0x40de5a;}}}}),_0x164704['on']('tileLoadComplete',function(_0x570ea2){if(0x0<_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&_0x4431bd['isSetRoomEffect']){var _0x47371e=!0x0,_0x8cfd66=!0x1,_0x40de5a=void 0x0;try{for(var _0x2c3af1,_0x29143d=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x8cf')]);!(_0x47371e=(_0x2c3af1=_0x29143d[_0x1cd8('0x7e')]())['done']);_0x47371e=!0x0){var _0x743717=_0x2c3af1[_0x1cd8('0xf')];_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x8d1')](_0x570ea2['id'],_0x743717);}}catch(_0xa5f6bf){_0x8cfd66=!0x0,_0x40de5a=_0xa5f6bf;}finally{try{!_0x47371e&&_0x29143d[_0x1cd8('0xa1')]&&_0x29143d[_0x1cd8('0xa1')]();}finally{if(_0x8cfd66)throw _0x40de5a;}}}}),_0x164704['on'](_0x1cd8('0x8d2'),function(_0x570ea2){}),_0x164704['on'](_0x1cd8('0x8d3'),function(_0x570ea2){}),_0x164704['on'](_0x1cd8('0x8d4'),function(_0x570ea2){_0x8cfd66[_0x1cd8('0x8d5')]&&_0x8cfd66[_0x1cd8('0x49')]||!(0x0,_0x22b0f1['checkIsCityEngine'])()||(_0x40de5a=(0x0,_0x22b0f1[_0x1cd8('0x2c')])(_0x164704,_0x8cfd66),esmap['ESEffectTool'][_0x1cd8('0x52')]=(0x0,_0x22b0f1[_0x1cd8('0x2c')])(_0x164704,_0x8cfd66,!0x0),esmap[_0x1cd8('0x53')][_0x1cd8('0x54')]=_0x40de5a,_0x8cfd66['debugParams']&&_0x8cfd66[_0x1cd8('0x8d6')][_0x1cd8('0x8d7')]&&_0x8cfd66['debugParams'][_0x1cd8('0x8d8')]&&(esmap[_0x1cd8('0x53')][_0x1cd8('0x52')]=_0x8cfd66[_0x1cd8('0x8d6')][_0x1cd8('0x8d7')]+'/'+_0x8cfd66[_0x1cd8('0x8d6')][_0x1cd8('0x8d8')]+'/'));var _0x47371e=_0x40de5a||esmap[_0x1cd8('0x53')]['configPath'];(0x0,_0x3de9dd['requestEffectThemeConfig'])(_0x47371e)['then'](function(_0x570ea2){_0xf102b3=_0x570ea2,_0x2c3af1['json']=!0x0,_0x2d392f(_0x8cfd66);});}),_0x164704['on'](_0x1cd8('0x8d9'),function(_0x570ea2){(0x0,_0x1ca5c6['default'])(),(0x0,_0x1756f6[_0x1cd8('0xa')])(),_0x2c3af1[_0x1cd8('0x87c')]=!0x0,_0x2d392f(_0x8cfd66);}),_0x164704['on'](_0x1cd8('0x8c1'),function(_0x570ea2){}),_0x164704['on'](_0x1cd8('0x8da'),function(_0x570ea2){0x0<=_0x570ea2[_0x1cd8('0x7f')][_0x1cd8('0x50')]('__singlemesh')&&_0x1cd8('0x8bd')==_0x164704['options']['quality']&&((0x0,_0x22b0f1['checkIsCityEngine'])()?_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x8db')](_0x570ea2,_0x164704[_0x1cd8('0x5a0')][_0x1cd8('0x8dc')][_0x570ea2[_0x1cd8('0x7f')]],_0x2c28d9[_0x1cd8('0x8a6')]):_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x8dd')](_0x570ea2,_0x164704['mapService'][_0x1cd8('0x8dc')][_0x570ea2[_0x1cd8('0x7f')]],_0x2c28d9[_0x1cd8('0x8a6')]));}),_0x164704['on'](_0x1cd8('0x8de'),function(_0x570ea2){_0x164704['tileService'][_0x1cd8('0x8df')][_0x570ea2]&&_0x164704[_0x1cd8('0x8e0')]['navData'][_0x570ea2][_0x1cd8('0x8e1')]&&!_0x164704[_0x1cd8('0x4a')][_0x1cd8('0x8e2')]&&_0x164704['options']['loadRoads']&&_0x2c28d9[_0x1cd8('0x4fc')]['loadTileRoutesData'](_0x164704['tileService'][_0x1cd8('0x8df')][_0x570ea2][_0x1cd8('0x8e1')],_0x570ea2,_0x4431bd[_0x1cd8('0x8e3')],_0x4431bd[_0x1cd8('0x8e4')]);}),_0x164704['on']('modelLoadComplete',function(_0x570ea2){if((0x0,_0x22b0f1[_0x1cd8('0x32')])()?_0x570ea2['bid']==_0x164704['baseSceneId']&&_0x4431bd[_0x1cd8('0x8a5')]&&_0x570ea2[_0x1cd8('0x509')]&&_0xf102b3[_0x1cd8('0x8a6')]&&_0x2c28d9['shadow'][_0x1cd8('0x8e5')](_0x570ea2,_0xf102b3[_0x1cd8('0x8a6')]):_0x4431bd['isShowShadow']&&_0x570ea2[_0x1cd8('0x509')]&&_0xf102b3[_0x1cd8('0x8a6')]&&_0x2c28d9[_0x1cd8('0x8a6')][_0x1cd8('0x8e5')](_0x570ea2,_0xf102b3[_0x1cd8('0x8a6')]),_0x4431bd[_0x1cd8('0x8e6')]&&0x1<=_0x21a959){if(_0xf102b3[_0x1cd8('0x4fb')]&&Array['isArray'](_0xf102b3[_0x1cd8('0x4fb')])){_0x2c28d9[_0x1cd8('0x4fd')][_0x1cd8('0x467')]&&(_0x2c28d9['models']['defaultCubeTexture']=_0x2c28d9[_0x1cd8('0x4fd')]['textureCube']);var _0x47371e=!0x0,_0x8cfd66=!0x1,_0x40de5a=void 0x0;try{for(var _0x2c3af1,_0x29143d=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0xf102b3['models']);!(_0x47371e=(_0x2c3af1=_0x29143d[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x47371e=!0x0)_0x2c3af1[_0x1cd8('0xf')][_0x1cd8('0x7f')]==_0x570ea2['model']&&_0x2c28d9[_0x1cd8('0x4fb')]['setModelsEffect'](_0x570ea2[_0x1cd8('0x8e7')],!_0x164704['options']['mergeModel3D']&&_0x570ea2['child']||_0x570ea2['o3d_'],_0x164704[_0x1cd8('0x4a')][_0x1cd8('0x8e8')],_0xf102b3);}catch(_0x458784){_0x8cfd66=!0x0,_0x40de5a=_0x458784;}finally{try{!_0x47371e&&_0x29143d[_0x1cd8('0xa1')]&&_0x29143d['return']();}finally{if(_0x8cfd66)throw _0x40de5a;}}}_0xf102b3[_0x1cd8('0x8e9')]&&Array[_0x1cd8('0x1b6')](_0xf102b3[_0x1cd8('0x8e9')])&&(_0x164704[_0x1cd8('0x5a0')][_0x1cd8('0x8ea')]&&_0x164704[_0x1cd8('0x5a0')][_0x1cd8('0x8ea')][_0x570ea2[_0x1cd8('0x8e7')]]['ms']&&_0x164704[_0x1cd8('0x5a0')][_0x1cd8('0x8ea')][_0x570ea2['model']]['ms'][_0x1cd8('0x428')]&&_0x164704[_0x1cd8('0x5a0')][_0x1cd8('0x8ea')][_0x570ea2[_0x1cd8('0x8e7')]]['ms'][_0x1cd8('0x47')]?_0x2c28d9[_0x1cd8('0x4fb')]['setModelsEffect4'](_0x570ea2[_0x1cd8('0x509')],_0x164704[_0x1cd8('0x4a')][_0x1cd8('0x8e8')],_0x164704[_0x1cd8('0x5a0')][_0x1cd8('0x8ea')][_0x570ea2[_0x1cd8('0x8e7')]]['ms']):_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x8eb')](!_0x164704['options'][_0x1cd8('0x8e8')]&&_0x570ea2[_0x1cd8('0x8ec')]||_0x570ea2['o3d_'],_0x164704['options'][_0x1cd8('0x8e8')],_0xf102b3));}var _0x8cfd66=null,_0x743717=null;if(_0x164704[_0x1cd8('0x4a')][_0x1cd8('0x8e8')]?_0x570ea2[_0x1cd8('0x4cf')]&&0x0<_0x570ea2[_0x1cd8('0x4cf')][_0x1cd8('0xc')]&&(_0x743717=(_0x8cfd66=_0x570ea2)[_0x1cd8('0x4cf')][0x0][_0x1cd8('0x8ed')]):_0x743717=(_0x8cfd66=_0x570ea2)[_0x1cd8('0x8ed')],_0x743717&&_0x4431bd[_0x1cd8('0x87d')]){_0x1818b7||(_0x1818b7=new esmap[(_0x1cd8('0x53'))][(_0x1cd8('0x8ee'))](_0x1cd8('0x8ef'),esmap['ESLayer']['EFFECT_MARKER']),esmap[_0x1cd8('0x53')][_0x1cd8('0x8f0')](_0x1818b7),_0x1818b7[_0x1cd8('0x8f1')]=[]);_0x40de5a=_0x164704[_0x1cd8('0x8e0')][_0x1cd8('0x8f2')][_0x743717];if(_0x40de5a){var _0x3de9dd,_0x3ae0c6=!0x0,_0x54c96b=!0x0,_0x37e1ed=!0x1,_0x2d392f=void 0x0;try{for(var _0x163890,_0x563f98=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0x1818b7[_0x1cd8('0x8f1')]);!(_0x54c96b=(_0x163890=_0x563f98[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x54c96b=!0x0)if(_0x163890[_0x1cd8('0xf')]===_0x743717){_0x3ae0c6=!0x1;break;}}catch(_0x4e2591){_0x37e1ed=!0x0,_0x2d392f=_0x4e2591;}finally{try{!_0x54c96b&&_0x563f98[_0x1cd8('0xa1')]&&_0x563f98[_0x1cd8('0xa1')]();}finally{if(_0x37e1ed)throw _0x2d392f;}}_0x3ae0c6&&(_0x37e1ed=_0x8cfd66[_0x1cd8('0x509')][_0x1cd8('0x45')][_0x1cd8('0x8f3')]['box3'][_0x1cd8('0xe4')]['y']-_0x8cfd66[_0x1cd8('0x509')][_0x1cd8('0x45')]['modelinfo']['box3'][_0x1cd8('0x81')]['y'],_0x2d392f=Math['abs'](_0x8cfd66[_0x1cd8('0x509')]['userData'][_0x1cd8('0x8f3')][_0x1cd8('0x8f4')][_0x1cd8('0xe4')]['x']-_0x8cfd66['o3d_'][_0x1cd8('0x45')][_0x1cd8('0x8f3')][_0x1cd8('0x8f4')]['min']['x']),_0x3de9dd=Math['abs'](_0x8cfd66[_0x1cd8('0x509')][_0x1cd8('0x45')]['modelinfo']['box3'][_0x1cd8('0xe4')]['z']-_0x8cfd66['o3d_']['userData'][_0x1cd8('0x8f3')][_0x1cd8('0x8f4')][_0x1cd8('0x81')]['z']),_0x2d392f=0.05*Math[_0x1cd8('0x1c8')](_0x2d392f*_0x2d392f+_0x3de9dd*_0x3de9dd),(_0x3de9dd=new esmap[(_0x1cd8('0x53'))][(_0x1cd8('0x8f5'))](esmap['ESMarkerType'][_0x1cd8('0x567')],{'x':_0x40de5a['x'],'y':_0x40de5a['y'],'height':_0x37e1ed+0x4*_0x2d392f,'radius':_0x2d392f,'showLevel':12.5}))['name']=_0x743717,_0x3de9dd[_0x1cd8('0x8f6')]=_0x8cfd66[_0x1cd8('0x57f')],_0x3de9dd[_0x1cd8('0x509')]['name']='_root_',_0x3de9dd[_0x1cd8('0x509')][_0x1cd8('0x43')]={'buildingId':_0x743717,'isOpen':!0x1},_0x164704[_0x1cd8('0x594')][_0x1cd8('0x595')](_0x3de9dd[_0x1cd8('0x509')]),_0x1818b7[_0x1cd8('0x8f7')](_0x3de9dd),_0x1818b7['mapIds']['push'](_0x743717));}}_0x2c28d9['models'][_0x1cd8('0x8f8')]&&!_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x8f8')][_0x1cd8('0x8f9')]&&(_0x2c28d9[_0x1cd8('0x4f8')]['setTileBuildingsEnvTexture'](_0x2c28d9['models'][_0x1cd8('0x8f8')]),_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x8f8')]['isSetTileBuilding']=!0x0);}),_0x164704['on'](_0x1cd8('0x8b8'),function(){if(_0x4431bd[_0x1cd8('0x87d')]&&_0x1818b7){var _0x570ea2=!0x0,_0x47371e=!0x1,_0x8cfd66=void 0x0;try{for(var _0x40de5a,_0x2c3af1=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0x1818b7[_0x1cd8('0x315')]);!(_0x570ea2=(_0x40de5a=_0x2c3af1[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x570ea2=!0x0){var _0x29143d=_0x40de5a[_0x1cd8('0xf')],_0x743717=!0x0,_0x3de9dd=!0x1,_0x3ae0c6=void 0x0;try{for(var _0x54c96b,_0x37e1ed=(0x0,_0x2dc25b['default'])(_0x164704[_0x1cd8('0x8e0')][_0x1cd8('0x8fa')]);!(_0x743717=(_0x54c96b=_0x37e1ed[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x743717=!0x0){var _0x2d392f=_0x54c96b[_0x1cd8('0xf')];if(_0x29143d[_0x1cd8('0x8f6')]==_0x2d392f){_0x29143d['visible']=!0x0;break;}_0x29143d[_0x1cd8('0x327')]=!0x1;}}catch(_0x259f3f){_0x3de9dd=!0x0,_0x3ae0c6=_0x259f3f;}finally{try{!_0x743717&&_0x37e1ed[_0x1cd8('0xa1')]&&_0x37e1ed[_0x1cd8('0xa1')]();}finally{if(_0x3de9dd)throw _0x3ae0c6;}}}}catch(_0x90e464){_0x47371e=!0x0,_0x8cfd66=_0x90e464;}finally{try{!_0x570ea2&&_0x2c3af1[_0x1cd8('0xa1')]&&_0x2c3af1[_0x1cd8('0xa1')]();}finally{if(_0x47371e)throw _0x8cfd66;}}}0x0<_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&_0x4431bd[_0x1cd8('0x887')]&&!_0x163890&&(setTimeout(function(){var _0x570ea2=!0x0,_0x47371e=!0x1,_0x8cfd66=void 0x0;try{for(var _0x40de5a,_0x2c3af1=(0x0,_0x2dc25b['default'])(_0x2c28d9[_0x1cd8('0x4f8')]['tileBuilidngThemes']);!(_0x570ea2=(_0x40de5a=_0x2c3af1[_0x1cd8('0x7e')]())['done']);_0x570ea2=!0x0)_0x40de5a[_0x1cd8('0xf')][_0x1cd8('0x47')]['needsUpdate']=!0x0;}catch(_0x3a5378){_0x47371e=!0x0,_0x8cfd66=_0x3a5378;}finally{try{!_0x570ea2&&_0x2c3af1[_0x1cd8('0xa1')]&&_0x2c3af1['return']();}finally{if(_0x47371e)throw _0x8cfd66;}}},0x1388),_0x163890=!0x0);}),_0x164704['on'](_0x1cd8('0x8fb'),function(_0x570ea2){_0x563f98(_0x570ea2['id'],!0x1),_0x4431bd[_0x1cd8('0x8a5')]&&_0x570ea2[_0x1cd8('0x509')]&&_0xf102b3&&_0xf102b3['shadow']&&(_0x2c28d9['shadow']['setBuildingRoomShadow'](_0x570ea2,!0x1),esmap['ESEffectTool'][_0x1cd8('0x4fb')]['showShadow']());}),_0x164704['on']('closeBuilding',function(_0x570ea2){_0x563f98(_0x570ea2[_0x1cd8('0x57f')],!0x0),_0x4431bd[_0x1cd8('0x8a5')]&&_0xf102b3['shadow']&&setTimeout(function(){esmap[_0x1cd8('0x53')][_0x1cd8('0x4fb')][_0x1cd8('0x8fc')]();},0x1f4);}),_0x164704['on'](_0x1cd8('0x8b9'),function(_0x570ea2){var _0x570ea2=_0x570ea2[_0x1cd8('0x57f')],_0x47371e=(0x0,_0x22b0f1['getBuiding'])(_0x570ea2)[_0x1cd8('0x506')](0x1)[_0x1cd8('0x8fd')](esmap['ESLayerType'][_0x1cd8('0x8fe')]);if(_0x47371e&&_0x47371e[0x0])for(var _0x8cfd66=0x0;_0x8cfd66<_0x47371e[0x0]['o3d_'][_0x1cd8('0x315')][_0x1cd8('0xc')];_0x8cfd66++)for(var _0x40de5a=_0x47371e[0x0]['o3d_'][_0x1cd8('0x315')][_0x8cfd66],_0x2c3af1=0x0;_0x2c3af1<_0x40de5a[_0x1cd8('0x47')][_0x1cd8('0xc')];_0x2c3af1++){var _0x29143d=_0x40de5a[_0x1cd8('0x47')][_0x2c3af1];_0x29143d&&_0x29143d['userData'][_0x1cd8('0x8ff')]&&_0x1cd8('0x900')==_0x29143d[_0x1cd8('0x45')][_0x1cd8('0x8ff')][_0x1cd8('0x7f')]&&(_0x29143d[_0x1cd8('0x327')]=!0x1,_0x29143d[_0x1cd8('0xde')]());}}),_0x164704['on'](_0x1cd8('0x57e'),function(_0x570ea2){esmap[_0x1cd8('0x53')][_0x1cd8('0x8cb')]&&'2D'===_0x570ea2?esmap[_0x1cd8('0x53')][_0x1cd8('0x8cb')]=!0x1:!0x1===esmap[_0x1cd8('0x53')][_0x1cd8('0x8cb')]&&'3D'===_0x570ea2&&(esmap[_0x1cd8('0x53')][_0x1cd8('0x8cb')]=!0x0);}),_0x164704['on'](_0x1cd8('0x58c'),function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x901')]();}),_0x164704['on'](_0x1cd8('0x902'),function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4f8')]['updateTileBuildingHighLightColor'](_0x570ea2[_0x1cd8('0x220')]);}),_0x164704['on'](_0x1cd8('0x2d3'),function(_0x570ea2){_0x2c28d9[_0x1cd8('0x325')](_0x570ea2),_0x789f8b[_0x1cd8('0x325')](_0x570ea2),_0x580bab[_0x1cd8('0x2d3')]();})):console[_0x1cd8('0xf0')](_0x1cd8('0x903'));},_0x37e1ed['Type']=_0x51be43[_0x1cd8('0x273')],_0x37e1ed[_0x1cd8('0x4f7')]=_0x789f8b,_0x37e1ed[_0x1cd8('0x4f8')]={'dispose':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0xde')](_0x570ea2);},'removeAll':function(){_0x2c28d9['buildings']['disposeAll']();},'updateBuildingScanLight':function(_0x570ea2,_0x47371e){_0x1cd8('0x904')===_0x570ea2&&_0x2c28d9['buildings']['updateTileBuildingHorizonScan'](_0x47371e),'center_spread'===_0x570ea2&&_0x2c28d9[_0x1cd8('0x4f8')]['updateTileBuildingCenterSpreadScan'](_0x47371e),_0x1cd8('0x905')===_0x570ea2&&_0x2c28d9['buildings'][_0x1cd8('0x906')](_0x47371e);},'toggleBuildingScanLight':function(_0x570ea2,_0x47371e){_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x907')](_0x570ea2,_0x47371e);},'updateBuildingExtentLight':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x908')](_0x570ea2);},'closeTileBuildingsLight':function(){_0x2c28d9[_0x1cd8('0x4f8')]['toggleTileBuildingsLight'](!0x1);},'openTileBuildingsLight':function(){_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x909')](!0x0);},'toggleBuildingHighLight':function(_0x570ea2){_0x570ea2?_0x2c28d9[_0x1cd8('0x4f8')][_0x1cd8('0x90a')](!0x0):_0x2c28d9[_0x1cd8('0x4f8')]['updateTileBuildingExtentLightDown'](!0x1);}},_0x37e1ed[_0x1cd8('0x4f9')]={'removeAll':function(){_0x2c28d9[_0x1cd8('0x4f9')]['dispose']();},'settingControlFloor':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4f9')][_0x1cd8('0x90b')]&&_0x570ea2['id']&&_0x2c28d9['floors'][_0x1cd8('0x90c')][_0x570ea2['id']]&&(_0x2c28d9[_0x1cd8('0x4f9')][_0x1cd8('0x90c')][_0x570ea2['id']][_0x1cd8('0x90d')]||(_0x2c28d9[_0x1cd8('0x4f9')]['controlFloors'][_0x570ea2['id']][_0x1cd8('0x90d')]=_0x2c28d9[_0x1cd8('0x4f9')][_0x1cd8('0x90c')][_0x570ea2['id']][_0x1cd8('0x3f')][_0x1cd8('0x1bb')]()),_0x570ea2['x']&&_0x570ea2['y'],void 0x0!==_0x570ea2[_0x1cd8('0x53e')]&&(!0x1===_0x570ea2[_0x1cd8('0x53e')]?_0x2c28d9['floors'][_0x1cd8('0x90c')][_0x570ea2['id']][_0x1cd8('0x3f')]['y']=_0x2c28d9[_0x1cd8('0x4f9')][_0x1cd8('0x90c')][_0x570ea2['id']][_0x1cd8('0x90d')]['y']:_0x2c28d9[_0x1cd8('0x4f9')][_0x1cd8('0x90c')][_0x570ea2['id']][_0x1cd8('0x3f')]['y']=_0x570ea2['offsetHeight']),void 0x0!==_0x570ea2[_0x1cd8('0x869')]&&(_0x2c28d9['floors'][_0x1cd8('0x90c')][_0x570ea2['id']][_0x1cd8('0x327')]=_0x570ea2['isShow']),_0x570ea2[_0x1cd8('0x20a')]&&(_0x2c28d9[_0x1cd8('0x4f9')][_0x1cd8('0x90c')][_0x570ea2['id']][_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0x570ea2['opacity']),_0x570ea2[_0x1cd8('0x323')]&&_0x2c28d9[_0x1cd8('0x4f9')][_0x1cd8('0x323')](_0x570ea2['id'],_0x570ea2[_0x1cd8('0x2c9')]));}},_0x37e1ed[_0x1cd8('0x8a0')]={'removeAll':function(){_0x2c28d9['ground'][_0x1cd8('0x321')]();}},_0x37e1ed[_0x1cd8('0x4fa')]={'updateAmbientLight':function(_0x570ea2){_0x2c28d9['lights'][_0x1cd8('0x90e')]({'intensity':_0x570ea2,'isAnimate':!0x0});},'updateDirectLights':function(_0x570ea2){var _0x47371e=!0x0,_0x8cfd66=!0x1,_0x40de5a=void 0x0;try{for(var _0x2c3af1,_0x29143d=(0x0,_0x2dc25b['default'])(_0x2c28d9['lights'][_0x1cd8('0x90f')]);!(_0x47371e=(_0x2c3af1=_0x29143d['next']())[_0x1cd8('0x8e')]);_0x47371e=!0x0){var _0x743717=_0x2c3af1[_0x1cd8('0xf')];_0x2c28d9['lights'][_0x1cd8('0x910')](_0x743717,_0x570ea2,!0x0);}}catch(_0x431b1e){_0x8cfd66=!0x0,_0x40de5a=_0x431b1e;}finally{try{!_0x47371e&&_0x29143d[_0x1cd8('0xa1')]&&_0x29143d[_0x1cd8('0xa1')]();}finally{if(_0x8cfd66)throw _0x40de5a;}}},'recoverAmbientLight':function(){_0x2c28d9['lights'][_0x1cd8('0x90e')]({'isAnimate':!0x0,'isRecover':!0x0});},'removeAll':function(){_0x2c28d9[_0x1cd8('0x4fa')]['dispose']();},'getLights':function(){return _0x2c28d9[_0x1cd8('0x4fa')];}},_0x37e1ed[_0x1cd8('0x4fc')]={'removeAll':function(){_0x2c28d9[_0x1cd8('0x4fc')][_0x1cd8('0x321')]();},'updateTileRoutesRandomStyle':function(_0x570ea2){_0x164704[_0x1cd8('0x4a')][_0x1cd8('0x8ca')]&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')]['isChangeTileRoute']&&_0x2c28d9[_0x1cd8('0x4fc')][_0x1cd8('0x911')](_0x570ea2);},'recoverTileRoutesStyle':function(){_0x164704[_0x1cd8('0x4a')]['loadRoads']&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x8e4')]&&_0x2c28d9[_0x1cd8('0x4fc')][_0x1cd8('0x912')]();},'toggleTileRoutesVisible':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4fc')][_0x1cd8('0x913')](_0x570ea2);}},_0x37e1ed[_0x1cd8('0x4fd')]={'removeAll':function(){_0x2c28d9['skybox']['dispose']();},'getSkybox':function(){return _0x2c28d9[_0x1cd8('0x4fd')][_0x1cd8('0x914')]?_0x2c28d9[_0x1cd8('0x4fd')]:null;},'updateSkybox':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4fd')][_0x1cd8('0x915')](_0x570ea2);}},_0x37e1ed[_0x1cd8('0x715')]={'removeAll':function(){_0x2c28d9['water'][_0x1cd8('0x321')]();},'setStyle':function(_0x570ea2,_0x47371e){_0x2c28d9[_0x1cd8('0x715')][_0x1cd8('0x2f5')](_0x570ea2,_0x47371e);},'createWaveMarker':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x715')][_0x1cd8('0x916')](_0x570ea2);},'updateWaveLines':function(_0x570ea2,_0x47371e){_0x2c28d9[_0x1cd8('0x715')]['updateWaveLines'](_0x570ea2,_0x47371e);},'removeWaveLines':function(){_0x2c28d9[_0x1cd8('0x715')][_0x1cd8('0x917')]();}},_0x37e1ed[_0x1cd8('0x4fb')]={'showBoatFoam':function(_0x570ea2){if(_0x570ea2['id']&&void 0x0!==_0x570ea2[_0x1cd8('0x869')])for(var _0x47371e=_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x918')],_0x8cfd66=0x0;_0x8cfd66<_0x47371e[_0x1cd8('0xc')];_0x8cfd66++)if(_0x47371e[_0x8cfd66]['id']===_0x570ea2['id']){if(_0x47371e[_0x8cfd66][_0x1cd8('0x47')]){_0x47371e[_0x8cfd66][_0x1cd8('0x47')][_0x1cd8('0x327')]=_0x570ea2[_0x1cd8('0x869')],_0x570ea2[_0x1cd8('0x326')]&&(_0x47371e[_0x8cfd66][_0x1cd8('0x326')]=_0x570ea2[_0x1cd8('0x326')]),_0x570ea2[_0x1cd8('0x2e5')]&&_0x47371e[_0x8cfd66][_0x1cd8('0x854')](_0x570ea2[_0x1cd8('0x2e5')]);break;}console[_0x1cd8('0xf0')](_0x1cd8('0x919'),_0x570ea2);}},'showTerrainGradient':function(_0x570ea2){var _0x47371e;_0x570ea2[_0x1cd8('0x7f')]&&void 0x0!==_0x570ea2[_0x1cd8('0x869')]&&(_0x47371e=_0x2c28d9[_0x1cd8('0x4fb')]['gradientTerrainList'])[_0x570ea2[_0x1cd8('0x7f')]]&&_0x47371e[_0x570ea2[_0x1cd8('0x7f')]][_0x1cd8('0x3d0')]&&(_0x47371e[_0x570ea2[_0x1cd8('0x7f')]][_0x1cd8('0x3d0')][_0x1cd8('0x176')]['isShow'][_0x1cd8('0xf')]=_0x570ea2[_0x1cd8('0x869')]);},'setTerrainGradientConfig':function(_0x570ea2){if(_0x570ea2[_0x1cd8('0x7f')]){var _0x47371e=_0x2c28d9['models'][_0x1cd8('0x91a')];if(_0x47371e[_0x570ea2[_0x1cd8('0x7f')]])return _0x47371e[_0x570ea2[_0x1cd8('0x7f')]]['setGradientConfig'](_0x570ea2);}},'getTerrainGradientConfig':function(_0x570ea2){if(_0x570ea2[_0x1cd8('0x7f')]){var _0x47371e=_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x91a')];if(_0x47371e[_0x570ea2[_0x1cd8('0x7f')]])return _0x47371e[_0x570ea2[_0x1cd8('0x7f')]][_0x1cd8('0x85f')]();}},'toggleModelLights':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x91b')]['fadeLight'](_0x570ea2),_0x2c28d9['models'][_0x1cd8('0x91c')](_0x570ea2);},'createModelLightPoints':function(){_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x91d')]();},'showShadow':function(){_0x4431bd[_0x1cd8('0x8a5')]&&_0xf102b3['shadow']&&(_0x164704[_0x1cd8('0x466')]['renderer']['shadowMap']['enabled']=!0x0,_0x164704['mapView'][_0x1cd8('0x526')][_0x1cd8('0x6bc')]['needsUpdate']=!0x0);},'closeShadow':function(){_0x4431bd[_0x1cd8('0x8a5')]&&_0xf102b3[_0x1cd8('0x8a6')]&&(_0x164704[_0x1cd8('0x466')]['renderer'][_0x1cd8('0x6bc')][_0x1cd8('0x41d')]=!0x1,_0x164704[_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')]['needsUpdate']=!0x0);},'getShadow':function(){return _0x2c28d9['shadow'];},'setUvTransform':function(_0x570ea2){if(_0x570ea2['id'])for(var _0x47371e=_0x2c28d9[_0x1cd8('0x4fb')][_0x1cd8('0x91e')],_0x8cfd66=0x0;_0x8cfd66<_0x47371e['length'];_0x8cfd66++)if(_0x47371e[_0x8cfd66]['_markerId']===_0x570ea2['id']){_0x570ea2['offset']&&(_0x570ea2[_0x1cd8('0x10a')]['x']&&(_0x47371e[_0x8cfd66]['offset']['x']=_0x570ea2[_0x1cd8('0x10a')]['x']),_0x570ea2[_0x1cd8('0x10a')]['y']&&(_0x47371e[_0x8cfd66]['offset']['y']=_0x570ea2['offset']['y']));break;}},'setControlGroupObj':function(_0x570ea2){var _0x47371e=_0x570ea2['modelName'],_0x8cfd66=_0x570ea2[_0x1cd8('0x10')],_0x40de5a=_0x570ea2[_0x1cd8('0x20a')],_0x2c3af1=_0x570ea2['visible'],_0x29143d=_0x2c28d9[_0x1cd8('0x4fb')]['modelsControlGroups'];if(_0x29143d[_0x47371e])for(var _0x743717 in _0x29143d[_0x47371e])void 0x0!==_0x40de5a&&_0x29143d[_0x47371e][_0x743717]['traverse'](function(_0x570ea2){'Mesh'===_0x570ea2[_0x1cd8('0x101')]&&-0x1<_0x570ea2[_0x1cd8('0x7f')][_0x1cd8('0x50')](_0x1cd8('0x91f'))&&-0x1<_0x570ea2[_0x1cd8('0x7f')]['indexOf'](_0x8cfd66)&&(_0x40de5a&&0x0<_0x40de5a&&(_0x570ea2['material'][_0x1cd8('0x45')][_0x1cd8('0x20a')]||(_0x570ea2[_0x1cd8('0x47')]['userData']['opacity']=_0x570ea2[_0x1cd8('0x47')]['opacity']),_0x570ea2['material']['opacity']=_0x40de5a),!0x1===_0x40de5a&&(_0x570ea2[_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0x570ea2['material'][_0x1cd8('0x45')][_0x1cd8('0x20a')]));}),void 0x0!==_0x2c3af1&&_0x743717===_0x8cfd66&&(_0x29143d[_0x47371e][_0x743717],_0x29143d[_0x47371e][_0x743717]['visible']=_0x2c3af1);},'setModelBloomLight':function(_0x570ea2,_0x47371e){_0x570ea2&&_0x570ea2[_0x1cd8('0x509')]&&_0x570ea2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x570ea2){_0x1cd8('0x30c')==_0x570ea2[_0x1cd8('0x101')]&&!0x1===_0x570ea2[_0x1cd8('0x920')]&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4ff')][_0x1cd8('0x921')](_0x570ea2,_0x47371e);});},'removeModelBloomLight':function(_0x570ea2){_0x570ea2&&_0x570ea2[_0x1cd8('0x509')]&&_0x570ea2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x570ea2){_0x1cd8('0x30c')==_0x570ea2[_0x1cd8('0x101')]&&!0x0===_0x570ea2['_isBloom']&&esmap['ESEffectTool'][_0x1cd8('0x4ff')]['removeObjectBloomLight'](_0x570ea2);});}},_0x37e1ed[_0x1cd8('0x4fe')]={'createVideoProjector':function(_0x570ea2){return _0x2c28d9[_0x1cd8('0x4fe')][_0x1cd8('0x922')](_0x570ea2);},'clearVideoProjector':function(){_0x2c28d9[_0x1cd8('0x4fe')]['clear']();},'showVisualField':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4fe')][_0x1cd8('0x7d0')](_0x570ea2);},'updateProjectorTarget':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x4fe')][_0x1cd8('0x923')](_0x570ea2);},'isLockCameraControls':function(_0x570ea2){_0x2c28d9['video'][_0x1cd8('0x924')](_0x570ea2);}},_0x37e1ed['screenEffect']={'setObjectBloomLight':function(_0x570ea2,_0x47371e){var _0x8cfd66=esmap['ESMapUtil'][_0x1cd8('0x8aa')]();if((_0x570ea2 instanceof THREE[_0x1cd8('0x30c')]||_0x570ea2 instanceof THREE[_0x1cd8('0x32a')])&&(_0x570ea2[_0x1cd8('0x566')]['enable'](0x1),_0x570ea2[_0x1cd8('0x920')]=!0x0,_0x8cfd66[_0x1cd8('0x925')]&&_0x47371e&&0x0<_0x47371e&&_0x47371e<0x1))if(Array[_0x1cd8('0x1b6')](_0x570ea2[_0x1cd8('0x47')])){var _0x40de5a=!0x0,_0x8cfd66=!0x1,_0x2c3af1=void 0x0;try{for(var _0x29143d,_0x743717=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0x570ea2[_0x1cd8('0x47')]);!(_0x40de5a=(_0x29143d=_0x743717[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x40de5a=!0x0){var _0x3de9dd=_0x29143d[_0x1cd8('0xf')],_0x3ae0c6=(_0x3de9dd[_0x1cd8('0x926')]||(_0x3de9dd[_0x1cd8('0x926')]=_0x3de9dd[_0x1cd8('0x220')][_0x1cd8('0x1bb')]()),_0x3de9dd[_0x1cd8('0x926')][_0x1cd8('0x1bb')]());_0x3ae0c6[_0x1cd8('0x927')](0x0,0x0,_0x47371e-0x1),_0x3de9dd['color'][_0x1cd8('0x1c6')](_0x3ae0c6);}}catch(_0x537b9d){_0x8cfd66=!0x0,_0x2c3af1=_0x537b9d;}finally{try{!_0x40de5a&&_0x743717['return']&&_0x743717[_0x1cd8('0xa1')]();}finally{if(_0x8cfd66)throw _0x2c3af1;}}}else{_0x570ea2[_0x1cd8('0x47')][_0x1cd8('0x926')]||(_0x570ea2[_0x1cd8('0x47')][_0x1cd8('0x926')]=_0x570ea2['material'][_0x1cd8('0x220')][_0x1cd8('0x1bb')]());_0x8cfd66=_0x570ea2[_0x1cd8('0x47')][_0x1cd8('0x926')][_0x1cd8('0x1bb')]();_0x8cfd66[_0x1cd8('0x927')](0x0,0x0,_0x47371e-0x1),_0x570ea2['material'][_0x1cd8('0x220')][_0x1cd8('0x1c6')](_0x8cfd66);}},'removeObjectBloomLight':function(_0x570ea2){if(_0x570ea2 instanceof THREE[_0x1cd8('0x30c')])if(_0x570ea2[_0x1cd8('0x566')]['disable'](0x1),Array[_0x1cd8('0x1b6')](_0x570ea2['material'])){var _0x47371e=!0x0,_0x8cfd66=!0x1,_0x40de5a=void 0x0;try{for(var _0x2c3af1,_0x29143d=(0x0,_0x2dc25b[_0x1cd8('0xa')])(_0x570ea2[_0x1cd8('0x47')]);!(_0x47371e=(_0x2c3af1=_0x29143d['next']())[_0x1cd8('0x8e')]);_0x47371e=!0x0){var _0x743717=_0x2c3af1[_0x1cd8('0xf')];_0x743717[_0x1cd8('0x220')][_0x1cd8('0x1c6')](_0x743717[_0x1cd8('0x926')]);}}catch(_0x315136){_0x8cfd66=!0x0,_0x40de5a=_0x315136;}finally{try{!_0x47371e&&_0x29143d[_0x1cd8('0xa1')]&&_0x29143d[_0x1cd8('0xa1')]();}finally{if(_0x8cfd66)throw _0x40de5a;}}}else _0x570ea2[_0x1cd8('0x47')][_0x1cd8('0x220')]['copy'](_0x570ea2[_0x1cd8('0x47')][_0x1cd8('0x926')]);else console[_0x1cd8('0xf0')]('not\x20support\x20this\x20obj');},'updateOutlineStyle':function(_0x570ea2){_0x2c28d9['postProcessing']['updateOutlineStyle'](_0x570ea2);},'setObjectOutline':function(_0x570ea2,_0x47371e){_0x2c28d9[_0x1cd8('0x8b7')][_0x1cd8('0x928')](_0x570ea2,_0x47371e);},'removeObjectOutline':function(_0x570ea2){_0x2c28d9[_0x1cd8('0x8b7')][_0x1cd8('0x929')](_0x570ea2);},'clearSelectedOutline':function(){_0x2c28d9[_0x1cd8('0x8b7')][_0x1cd8('0x92a')]();}},_0x37e1ed[_0x1cd8('0x501')]=function(_0x570ea2,_0x47371e){_0x8cfd66||(_0x2c28d9['lights'][_0x1cd8('0x92b')]({'configs':_0x570ea2}),_0x2c28d9[_0x1cd8('0x4fa')][_0x1cd8('0x92c')](_0x570ea2['envTexture']),_0x2c28d9[_0x1cd8('0x4fd')][_0x1cd8('0x915')](_0x570ea2[_0x1cd8('0x4fd')]),_0x2c28d9[_0x1cd8('0x8a6')]['enabled']&&(_0x1cd8('0x8bd')==esmap['ESEffectTool']['options']['effectQuality']?esmap[_0x1cd8('0x53')][_0x1cd8('0x4fb')]['closeShadow']():_0x2c28d9[_0x1cd8('0x8a6')][_0x1cd8('0x92d')]({'config':_0x570ea2[_0x1cd8('0x8a6')],'isAnimate':!0x0})),setTimeout(function(){_0x8cfd66=!0x1,_0x47371e&&_0x47371e();},0x5dc));},_0x37e1ed[_0x1cd8('0x500')]=function(_0x570ea2){_0x37e1ed['clearAll'](),_0x1b3862(_0x570ea2,esmap['ESEffectTool'][_0x1cd8('0x52')]);},_0x37e1ed[_0x1cd8('0x502')]=function(){_0x36dd1c=!0x1,_0x2c28d9[_0x1cd8('0x511')](),_0x580bab[_0x1cd8('0x98')]&&_0x580bab[_0x1cd8('0x336')](_0x1cd8('0x8be'),_0x580bab[_0x1cd8('0x98')][_0x1cd8('0x8be')][0x0]);},Object[_0x1cd8('0x4')](_0x37e1ed,_0x1cd8('0x92e'),{'enumerable':!0x1,'get':function(){return _0x36dd1c;},'set':function(_0x570ea2){_0x36dd1c=_0x570ea2;}}),_0x570ea2[_0x1cd8('0xa')]=_0x37e1ed;},function(_0x17a13d,_0x6064b4,_0x5526be){'use strict';Object[_0x1cd8('0x4')](_0x6064b4,_0x1cd8('0x6'),{'value':!0x0});var _0x1d8b5a=_0x476367(_0x5526be(0x0)),_0x4da8c0=_0x476367(_0x5526be(0x1)),_0x40c353=function(_0x17a13d){if(_0x17a13d&&_0x17a13d['__esModule'])return _0x17a13d;var _0x6064b4={};if(null!=_0x17a13d)for(var _0x5526be in _0x17a13d)Object['prototype'][_0x1cd8('0x1e')][_0x1cd8('0x1')](_0x17a13d,_0x5526be)&&(_0x6064b4[_0x5526be]=_0x17a13d[_0x5526be]);return _0x6064b4['default']=_0x17a13d,_0x6064b4;}(_0x5526be(0xfe)),_0x49c54e=_0x5526be(0x62),_0xb20cd4=_0x5526be(0x1a);function _0x476367(_0x17a13d){return _0x17a13d&&_0x17a13d['__esModule']?_0x17a13d:{'default':_0x17a13d};}function _0x1b7287(){(0x0,_0x1d8b5a['default'])(this,_0x1b7287),this[_0x1cd8('0xdf')]=(0x0,_0xb20cd4[_0x1cd8('0x30')])(),this[_0x1cd8('0x8bf')]=!0x0,this[_0x1cd8('0x4f8')]=null,this[_0x1cd8('0x4f9')]=null,this[_0x1cd8('0x8a0')]=null,this[_0x1cd8('0x4fa')]=null,this[_0x1cd8('0x4fc')]=null,this[_0x1cd8('0x4fd')]=null,this['water']=null,this[_0x1cd8('0x4fb')]=null,this['postProcessing']=null,this[_0x1cd8('0x8a6')]=null,this[_0x1cd8('0x1e4')]=null,this[_0x1cd8('0x4fe')]=null,this[_0x1cd8('0x335')]();}(0x0,_0x4da8c0[_0x1cd8('0xa')])(_0x1b7287,[{'key':_0x1cd8('0x335'),'value':function(){this[_0x1cd8('0x4fa')]=new _0x40c353[(_0x1cd8('0x88a'))](),this[_0x1cd8('0x4f8')]=new _0x40c353[(_0x1cd8('0x892'))]({'lights':this[_0x1cd8('0x4fa')]}),this[_0x1cd8('0x4f9')]=new _0x40c353['Floors'](),this[_0x1cd8('0x8a0')]=new _0x40c353['Ground'](),this[_0x1cd8('0x4fc')]=new _0x40c353[(_0x1cd8('0x92f'))](),this[_0x1cd8('0x4fd')]=new _0x40c353[(_0x1cd8('0xd3'))](),this[_0x1cd8('0x715')]=new _0x40c353['Water'](this[_0x1cd8('0x4fd')]),this['models']=new _0x40c353['Models']({'water':this['water'],'lights':this[_0x1cd8('0x4fa')]}),this[_0x1cd8('0x8b7')]=new _0x40c353['PostProcessing'](),this[_0x1cd8('0x8a6')]=new _0x40c353[(_0x1cd8('0x8c5'))](),this[_0x1cd8('0x1e4')]=new _0x40c353['Fog'](),this['video']=new _0x40c353[(_0x1cd8('0x930'))]();}},{'key':_0x1cd8('0x889'),'value':function(_0x17a13d){var _0x6064b4=_0x17a13d['type'],_0x5526be=_0x17a13d[_0x1cd8('0x931')],_0x1d8b5a=_0x17a13d[_0x1cd8('0x292')];switch(_0x6064b4){case _0x49c54e[_0x1cd8('0x273')]['Buildings']:_0x5526be[_0x1cd8('0x5a3')]?this[_0x1cd8('0x4f8')][_0x1cd8('0x932')](_0x5526be):this['buildings'][_0x1cd8('0x933')](_0x5526be[_0x1cd8('0x42')],_0x5526be);break;case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x898')]:this['floors']['setFloorMaterial'](_0x5526be);break;case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x8a2')]:this[_0x1cd8('0x8a0')][_0x1cd8('0x934')](_0x5526be);break;case _0x49c54e['ESEffectsConstant'][_0x1cd8('0x88a')]:_0x5526be[_0x1cd8('0x899')]&&this[_0x1cd8('0x4fa')]['addPointLights'](_0x5526be),_0x5526be[_0x1cd8('0x935')]&&this[_0x1cd8('0x4fa')][_0x1cd8('0x936')](_0x5526be),_0x5526be[_0x1cd8('0x89c')]&&this['lights'][_0x1cd8('0x90e')](_0x5526be),_0x5526be['isIndirectLight']&&this[_0x1cd8('0x4fa')][_0x1cd8('0x937')](_0x5526be);break;case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x92f')]:_0x5526be[_0x1cd8('0x938')]?this[_0x1cd8('0x4fc')]['loadRoutesLine'](0x1,_0x5526be):this[_0x1cd8('0x4fc')][_0x1cd8('0x939')](_0x5526be,_0x1d8b5a);break;case _0x49c54e[_0x1cd8('0x273')]['Skybox']:this[_0x1cd8('0x4fd')][_0x1cd8('0x93a')](_0x5526be);break;case _0x49c54e['ESEffectsConstant']['Water']:this[_0x1cd8('0x715')][_0x1cd8('0x93b')](_0x5526be);break;case _0x49c54e['ESEffectsConstant'][_0x1cd8('0x93c')]:this[_0x1cd8('0x4fb')][_0x1cd8('0x93d')](_0x5526be,_0x1d8b5a);break;case _0x49c54e['ESEffectsConstant']['PostProcessing']:this[_0x1cd8('0x8b7')]['init'](_0x5526be);break;case _0x49c54e['ESEffectsConstant'][_0x1cd8('0x8c5')]:this['shadow'][_0x1cd8('0x335')](_0x5526be);break;case _0x49c54e[_0x1cd8('0x273')]['Fog']:this['fog'][_0x1cd8('0x335')](_0x5526be);}}},{'key':_0x1cd8('0x93e'),'value':function(_0x17a13d){var _0x6064b4=_0x17a13d[_0x1cd8('0x101')];switch(_0x17a13d[_0x1cd8('0x93f')],_0x17a13d[_0x1cd8('0x292')],_0x6064b4){case _0x49c54e[_0x1cd8('0x273')]['Buildings']:case _0x49c54e['ESEffectsConstant']['Floors']:case _0x49c54e['ESEffectsConstant'][_0x1cd8('0x8a2')]:case _0x49c54e['ESEffectsConstant']['Lights']:case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x92f')]:case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0xd3')]:case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x89e')]:}}},{'key':_0x1cd8('0x940'),'value':function(_0x17a13d){var _0x6064b4=_0x17a13d[_0x1cd8('0x101')];switch(_0x17a13d[_0x1cd8('0x93f')],_0x17a13d[_0x1cd8('0x292')],_0x6064b4){case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x892')]:case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x898')]:case _0x49c54e[_0x1cd8('0x273')]['Ground']:case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x88a')]:case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x92f')]:case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0xd3')]:case _0x49c54e[_0x1cd8('0x273')][_0x1cd8('0x89e')]:}}},{'key':'removeAll','value':function(){this[_0x1cd8('0x4f8')][_0x1cd8('0x321')](),this[_0x1cd8('0x4f9')][_0x1cd8('0xde')](),this[_0x1cd8('0x8a0')][_0x1cd8('0x321')](),this[_0x1cd8('0x4fa')][_0x1cd8('0xde')](),this[_0x1cd8('0x4fc')]['disposeAll'](),this['skybox'][_0x1cd8('0xde')](),this[_0x1cd8('0x715')][_0x1cd8('0x321')]();}},{'key':_0x1cd8('0x325'),'value':function(_0x17a13d){this[_0x1cd8('0x8bf')]&&(this['buildings'][_0x1cd8('0x325')](_0x17a13d),this[_0x1cd8('0x4fc')][_0x1cd8('0x325')](_0x17a13d),this['water'][_0x1cd8('0x325')](_0x17a13d),this[_0x1cd8('0x4f9')][_0x1cd8('0x325')](_0x17a13d),this['models']['render'](_0x17a13d));}},{'key':_0x1cd8('0xde'),'value':function(){}}]),_0x6064b4['default']=_0x1b7287;},function(_0x62e34,_0xcc0df8,_0x3115fe){'use strict';Object[_0x1cd8('0x4')](_0xcc0df8,'__esModule',{'value':!0x0}),_0xcc0df8[_0x1cd8('0x930')]=_0xcc0df8['Fog']=_0xcc0df8[_0x1cd8('0x8c5')]=_0xcc0df8['PostProcessing']=_0xcc0df8[_0x1cd8('0x93c')]=_0xcc0df8[_0x1cd8('0x89e')]=_0xcc0df8[_0x1cd8('0xd3')]=_0xcc0df8[_0x1cd8('0x92f')]=_0xcc0df8['Lights']=_0xcc0df8['Ground']=_0xcc0df8[_0x1cd8('0x898')]=_0xcc0df8['Buildings']=void 0x0;var _0x2f48c5=_0x1e6df5(_0x3115fe(0xff)),_0x21856a=_0x1e6df5(_0x3115fe(0x100)),_0x2cf008=_0x1e6df5(_0x3115fe(0x101)),_0x4a5e3f=_0x1e6df5(_0x3115fe(0x102)),_0x52a0d8=_0x1e6df5(_0x3115fe(0x104)),_0x222d10=_0x1e6df5(_0x3115fe(0x10a)),_0x2ecc89=_0x1e6df5(_0x3115fe(0x10b)),_0x1ad06c=_0x1e6df5(_0x3115fe(0x10c)),_0x58f2ec=_0x1e6df5(_0x3115fe(0x10d)),_0xc1a508=_0x1e6df5(_0x3115fe(0x117)),_0xc72b1=_0x1e6df5(_0x3115fe(0x118)),_0x3115fe=_0x1e6df5(_0x3115fe(0x119));function _0x1e6df5(_0x62e34){return _0x62e34&&_0x62e34['__esModule']?_0x62e34:{'default':_0x62e34};}_0xcc0df8[_0x1cd8('0x892')]=_0x2f48c5[_0x1cd8('0xa')],_0xcc0df8[_0x1cd8('0x898')]=_0x21856a[_0x1cd8('0xa')],_0xcc0df8[_0x1cd8('0x8a2')]=_0x2cf008[_0x1cd8('0xa')],_0xcc0df8['Lights']=_0x4a5e3f['default'],_0xcc0df8[_0x1cd8('0x92f')]=_0x52a0d8[_0x1cd8('0xa')],_0xcc0df8[_0x1cd8('0xd3')]=_0x222d10['default'],_0xcc0df8[_0x1cd8('0x89e')]=_0x2ecc89[_0x1cd8('0xa')],_0xcc0df8[_0x1cd8('0x93c')]=_0x1ad06c[_0x1cd8('0xa')],_0xcc0df8['PostProcessing']=_0x58f2ec[_0x1cd8('0xa')],_0xcc0df8[_0x1cd8('0x8c5')]=_0xc1a508['default'],_0xcc0df8[_0x1cd8('0x8a8')]=_0xc72b1['default'],_0xcc0df8['Video']=_0x3115fe[_0x1cd8('0xa')];},function(_0x2c66a2,_0x59215c,_0x4a022b){'use strict';Object[_0x1cd8('0x4')](_0x59215c,_0x1cd8('0x6'),{'value':!0x0});var _0x22eb83=_0x37f87b(_0x4a022b(0x3e)),_0x2c55f0=_0x37f87b(_0x4a022b(0x4)),_0x3c77ad=_0x37f87b(_0x4a022b(0x0)),_0x5c2239=_0x37f87b(_0x4a022b(0x1)),_0x54b56b=_0x4a022b(0x1a),_0x4c7fca=function(_0x2c66a2){if(_0x2c66a2&&_0x2c66a2[_0x1cd8('0x6')])return _0x2c66a2;var _0x59215c={};if(null!=_0x2c66a2)for(var _0x4a022b in _0x2c66a2)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')]['call'](_0x2c66a2,_0x4a022b)&&(_0x59215c[_0x4a022b]=_0x2c66a2[_0x4a022b]);return _0x59215c[_0x1cd8('0xa')]=_0x2c66a2,_0x59215c;}(_0x4a022b(0x41)),_0x11f9b2=_0x4a022b(0x72);function _0x37f87b(_0x2c66a2){return _0x2c66a2&&_0x2c66a2[_0x1cd8('0x6')]?_0x2c66a2:{'default':_0x2c66a2};}function _0x467cf7(_0x2c66a2){_0x2c66a2=_0x2c66a2['lights'];(0x0,_0x3c77ad[_0x1cd8('0xa')])(this,_0x467cf7),this[_0x1cd8('0xdf')]=(0x0,_0x54b56b[_0x1cd8('0x30')])(),this['lights']=_0x2c66a2,this[_0x1cd8('0x893')]=[],this[_0x1cd8('0x8cf')]=[],this[_0x1cd8('0x941')]=[],this[_0x1cd8('0x942')]=null,this[_0x1cd8('0x943')]={'horizonScan':!0x1,'verticalScan':!0x1,'centerSpread':!0x1,'radarScan':!0x1},this[_0x1cd8('0x8a5')]=!0x1;}(0x0,_0x5c2239['default'])(_0x467cf7,[{'key':'setBuildingsTheme','value':function(_0x2c66a2,_0x59215c,_0x4a022b){_0x59215c={'map':this['map'],'id':_0x2c66a2['id'],'mapView':_0x59215c,'isTileBuilding':_0x4a022b,'centerPos':_0x2c66a2[_0x1cd8('0x944')],'buildingColorStr':_0x2c66a2[_0x1cd8('0x220')],'repeat':_0x2c66a2[_0x1cd8('0x945')],'topRepeat':_0x2c66a2[_0x1cd8('0x946')],'textureLightStrength':_0x2c66a2[_0x1cd8('0x947')],'texPath':_0x2c66a2[_0x1cd8('0x88f')],'topTexPath':_0x2c66a2[_0x1cd8('0x88e')],'gradientTexPath':_0x2c66a2[_0x1cd8('0x890')],'emissiveTexPath':_0x2c66a2[_0x1cd8('0x896')],'emissiveTexScale':_0x2c66a2[_0x1cd8('0x948')],'emissiveColorStr':_0x2c66a2[_0x1cd8('0x949')],'opacity':_0x2c66a2[_0x1cd8('0x20a')],'isBreathColor':_0x2c66a2['colorBreath'],'isBlending':_0x2c66a2['transprentHightLight'],'isOpenScan':_0x2c66a2[_0x1cd8('0x88c')],'isShowHorizonScan':_0x2c66a2['isShowHorizonScan'],'isShowVerticalScan':_0x2c66a2['isShowVerticalScan'],'isShowCenterSpread':_0x2c66a2['isShowCenterSpread'],'isShowRadarScan':_0x2c66a2[_0x1cd8('0x5ac')],'hlColorStr':_0x2c66a2[_0x1cd8('0x94a')],'hlWidth':_0x2c66a2[_0x1cd8('0x94b')],'hlDiffuse':_0x2c66a2[_0x1cd8('0x94c')],'hlExtent':_0x2c66a2[_0x1cd8('0x94d')],'hlSpeed':_0x2c66a2[_0x1cd8('0x94e')],'vlHeight':_0x2c66a2[_0x1cd8('0x94f')],'vlColorStr':_0x2c66a2[_0x1cd8('0x950')],'vlExtent':_0x2c66a2[_0x1cd8('0x951')],'vlSpeed':_0x2c66a2[_0x1cd8('0x952')],'csColorStr':_0x2c66a2['centerSpreadColor'],'csMaxRadius':_0x2c66a2[_0x1cd8('0x953')],'csSpeed':_0x2c66a2['centerSpreadSpeed'],'csCenterPos':_0x2c66a2[_0x1cd8('0x954')],'rdColorStr':_0x2c66a2['radarScanColor'],'radarRadius':_0x2c66a2['radarScanRadius'],'radarSpeed':_0x2c66a2['radarScanSpeed'],'radarCenterPos':_0x2c66a2[_0x1cd8('0x955')],'radarTexPath':_0x2c66a2['radarScanImg'],'extentEffectConfig':_0x2c66a2['extentEffect'],'screenSkyConfig':_0x2c66a2['screenSky']};return _0x59215c['centerPos']&&(_0x59215c[_0x1cd8('0x5ad')]=(0x0,_0x54b56b[_0x1cd8('0x34')])(_0x59215c[_0x1cd8('0x5ad')]['x'],_0x59215c['centerPos']['y'])),_0x59215c[_0x1cd8('0x5c2')]&&_0x59215c[_0x1cd8('0x5c2')][_0x1cd8('0x22b')]&&(_0x59215c[_0x1cd8('0x5c2')][_0x1cd8('0x22b')]=(0x0,_0x54b56b['coordTransToThree'])(_0x59215c[_0x1cd8('0x5c2')]['center']['x'],_0x59215c[_0x1cd8('0x5c2')][_0x1cd8('0x22b')]['y'])),new _0x4c7fca['BuildingsTexture2'](_0x59215c);}},{'key':_0x1cd8('0x933'),'value':function(_0x2c66a2,_0x17bf96){_0x17bf96['openScan']&&this['setBuildingScanConfig'](_0x17bf96);var _0x5bba94=(0x0,_0x54b56b[_0x1cd8('0x2f')])(0x0)[_0x1cd8('0x506')](_0x17bf96[_0x1cd8('0x8a3')]||0x1)[_0x1cd8('0x8fd')]([esmap['ESLayerType'][_0x1cd8('0x956')],esmap[_0x1cd8('0x4f2')][_0x1cd8('0x957')]]),_0x117eec=this[_0x1cd8('0x958')](_0x17bf96,this[_0x1cd8('0xdf')]['mapView']);_0x117eec[_0x1cd8('0x29d')](_0x1cd8('0x46d'),function(){var _0x2c66a2=!0x0,_0x59215c=!0x1,_0x4a022b=void 0x0;try{for(var _0x3c77ad,_0x5c2239=(0x0,_0x2c55f0[_0x1cd8('0xa')])(_0x5bba94);!(_0x2c66a2=(_0x3c77ad=_0x5c2239[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x2c66a2=!0x0){var _0x37f87b=_0x3c77ad[_0x1cd8('0xf')],_0x22eb83=!0x0,_0x467cf7=!0x1,_0x35b8a2=void 0x0;try{for(var _0x4a7040,_0xd39acc=(0x0,_0x2c55f0[_0x1cd8('0xa')])(_0x37f87b[_0x1cd8('0x509')][_0x1cd8('0x315')]);!(_0x22eb83=(_0x4a7040=_0xd39acc['next']())['done']);_0x22eb83=!0x0){var _0xf64849,_0x511b85=_0x4a7040[_0x1cd8('0xf')],_0x209744=(0x0,_0x54b56b['getMaterialByRoomStyle'])(_0x511b85,_0x17bf96[_0x1cd8('0x42')]);if(_0x209744){_0x511b85[_0x1cd8('0x47')][_0x209744[_0x1cd8('0x45')][_0x1cd8('0x46')]]=_0x117eec[_0x1cd8('0x4e8')](),_0x117eec['shaderMesh']=_0x511b85,_0x1cd8('0x439')===_0x17bf96[_0x1cd8('0x28d')]&&_0x17bf96[_0x1cd8('0x959')]&&((_0xf64849=new _0x4c7fca[(_0x1cd8('0xbe'))]({'colorStr':_0x17bf96[_0x1cd8('0x95a')],'opacity':_0x17bf96[_0x1cd8('0x959')],'depthTest':!0x1}))[_0x1cd8('0x95b')](_0x511b85,_0x511b85['geometry']),_0x511b85[_0x1cd8('0x3f')]['y']+=0x1,self['edgeLineFrameList'][_0x1cd8('0x70')](_0xf64849)),(0x0,_0x11f9b2[_0x1cd8('0x2a0')])(_0x511b85['material'][_0x209744[_0x1cd8('0x45')][_0x1cd8('0x46')]],_0x17bf96);break;}}}catch(_0x41250d){_0x467cf7=!0x0,_0x35b8a2=_0x41250d;}finally{try{!_0x22eb83&&_0xd39acc[_0x1cd8('0xa1')]&&_0xd39acc['return']();}finally{if(_0x467cf7)throw _0x35b8a2;}}}}catch(_0x145bf7){_0x59215c=!0x0,_0x4a022b=_0x145bf7;}finally{try{!_0x2c66a2&&_0x5c2239[_0x1cd8('0xa1')]&&_0x5c2239[_0x1cd8('0xa1')]();}finally{if(_0x59215c)throw _0x4a022b;}}}),_0x117eec[_0x1cd8('0x42')]=_0x2c66a2,_0x117eec[_0x1cd8('0x95c')]=_0x17bf96,this[_0x1cd8('0x893')][_0x1cd8('0x70')](_0x117eec);}},{'key':_0x1cd8('0x894'),'value':function(_0x2c66a2,_0x59215c,_0x4a022b){var _0x2c66a2=(0x0,_0x54b56b['getBuiding'])(_0x2c66a2)[_0x1cd8('0x506')](_0x4a022b||0x1)['getLayersByTypes']([esmap['ESLayerType']['MODEL'],esmap[_0x1cd8('0x4f2')][_0x1cd8('0x957')]]),_0x3c77ad=!0x0,_0x4a022b=!0x1,_0x5c2239=void 0x0;try{for(var _0x37f87b,_0x22eb83=(0x0,_0x2c55f0[_0x1cd8('0xa')])(_0x2c66a2);!(_0x3c77ad=(_0x37f87b=_0x22eb83[_0x1cd8('0x7e')]())['done']);_0x3c77ad=!0x0){var _0x467cf7=_0x37f87b[_0x1cd8('0xf')],_0xdc02e=!0x0,_0x57c2ff=!0x1,_0x71afc9=void 0x0;try{for(var _0x48980b,_0x140d2=(0x0,_0x2c55f0[_0x1cd8('0xa')])(_0x467cf7[_0x1cd8('0x509')][_0x1cd8('0x315')]);!(_0xdc02e=(_0x48980b=_0x140d2[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xdc02e=!0x0){var _0x390042=_0x48980b['value'];if((0x0,_0x54b56b[_0x1cd8('0x2d')])(_0x390042,_0x59215c[_0x1cd8('0x42')])&&0x0<_0x390042[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x1cd8('0xc')]){_0x59215c[_0x1cd8('0x4ce')](_0x390042);break;}}}catch(_0x453494){_0x57c2ff=!0x0,_0x71afc9=_0x453494;}finally{try{!_0xdc02e&&_0x140d2[_0x1cd8('0xa1')]&&_0x140d2[_0x1cd8('0xa1')]();}finally{if(_0x57c2ff)throw _0x71afc9;}}}}catch(_0x5582a1){_0x4a022b=!0x0,_0x5c2239=_0x5582a1;}finally{try{!_0x3c77ad&&_0x22eb83[_0x1cd8('0xa1')]&&_0x22eb83[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x5c2239;}}}},{'key':_0x1cd8('0x932'),'value':function(_0x2c66a2){for(var _0x59215c in this[_0x1cd8('0xdf')][_0x1cd8('0x601')][_0x1cd8('0x95d')])0x0===this['tileBuilidngThemes'][_0x1cd8('0xc')]?this[_0x1cd8('0x95e')](_0x2c66a2,0x0):this[_0x1cd8('0x8cf')][this[_0x1cd8('0xdf')][_0x1cd8('0x601')][_0x1cd8('0x95d')][_0x59215c]['prodMatIdx']]||this[_0x1cd8('0x95e')](_0x2c66a2,this[_0x1cd8('0xdf')]['mapTheme']['tileStyles'][_0x59215c][_0x1cd8('0x95f')]);}},{'key':_0x1cd8('0x95e'),'value':function(_0x2c66a2,_0x59215c){_0x2c66a2['openScan']&&this['setBuildingScanConfig'](_0x2c66a2),_0x2c66a2['id']=_0x59215c;var _0x59215c=this[_0x1cd8('0x958')](_0x2c66a2,this['map']['mapView'],!0x0),_0x4a022b=(_0x59215c['themeList']=this['map'][_0x1cd8('0x601')]['tileStyles'],_0x59215c[_0x1cd8('0x5dd')]=this[_0x1cd8('0xdf')][_0x1cd8('0x601')][_0x1cd8('0x960')],_0x59215c['envTexture']=_0x2c66a2['envTexture'],_0x59215c[_0x1cd8('0x5dc')]=this[_0x1cd8('0x961')](),_0x59215c[_0x1cd8('0x4e8')]());(0x0,_0x11f9b2[_0x1cd8('0x2a0')])(_0x4a022b,_0x2c66a2),_0x2c66a2[_0x1cd8('0x962')]&&(_0x59215c[_0x1cd8('0x962')]=_0x2c66a2[_0x1cd8('0x962')]),_0x59215c['roomStyle']=_0x2c66a2[_0x1cd8('0x42')],this[_0x1cd8('0x8a5')]=_0x2c66a2[_0x1cd8('0x8a6')],this[_0x1cd8('0x8cf')][_0x1cd8('0x70')](_0x59215c);}},{'key':_0x1cd8('0x8d0'),'value':function(_0x2c66a2){if(0x3e8<_0x2c66a2['id']){for(var _0x59215c in this[_0x1cd8('0xdf')][_0x1cd8('0x601')][_0x1cd8('0x95d')])if(this['map']['mapTheme']['tileStyles'][_0x59215c][_0x1cd8('0x95f')]===_0x2c66a2['id']){this[_0x1cd8('0xdf')][_0x1cd8('0x601')][_0x1cd8('0x963')][_0x2c66a2['id']]=this[_0x1cd8('0xdf')][_0x1cd8('0x601')][_0x1cd8('0x95d')][_0x59215c][_0x1cd8('0x47')];break;}}else this[_0x1cd8('0xdf')][_0x1cd8('0x601')][_0x1cd8('0x963')][_0x2c66a2['id']]=_0x2c66a2['getMaterial']();}},{'key':_0x1cd8('0x8d1'),'value':function(_0x2c66a2,_0x59215c){var _0x4a022b=this,_0x3c77ad=this[_0x1cd8('0xdf')]['getTileById'](_0x2c66a2)[_0x1cd8('0x8fd')]([esmap['ESLayerType'][_0x1cd8('0x956')],esmap[_0x1cd8('0x4f2')][_0x1cd8('0x957')]]);_0x59215c['shader']?this[_0x1cd8('0x964')](_0x3c77ad,_0x59215c):_0x59215c[_0x1cd8('0x29d')](_0x1cd8('0x620'),function(){_0x4a022b['computeBuildingFaceAttr'](_0x3c77ad,_0x59215c);});}},{'key':'computeBuildingFaceAttr','value':function(_0x2c66a2,_0x59215c){var _0x4a022b=!0x0,_0x3c77ad=!0x1,_0x5c2239=void 0x0;try{for(var _0x37f87b,_0x22eb83=(0x0,_0x2c55f0['default'])(_0x2c66a2);!(_0x4a022b=(_0x37f87b=_0x22eb83[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x4a022b=!0x0){var _0x467cf7=_0x37f87b['value'],_0x301a9f=!0x0,_0x61b3ba=!0x1,_0xa5cd22=void 0x0;try{for(var _0x1c6e58,_0x3683fc=(0x0,_0x2c55f0['default'])(_0x467cf7['o3d_'][_0x1cd8('0x315')]);!(_0x301a9f=(_0x1c6e58=_0x3683fc[_0x1cd8('0x7e')]())['done']);_0x301a9f=!0x0){var _0x2c642d=_0x1c6e58[_0x1cd8('0xf')];0x0<_0x2c642d[_0x1cd8('0x43')][_0x1cd8('0x4cf')][_0x1cd8('0xc')]&&(_0x59215c['computeTopFaceAttr'](_0x2c642d),_0x59215c[_0x1cd8('0x962')]&&(_0x2c642d[_0x1cd8('0x30d')]=_0x59215c['renderSort']),this[_0x1cd8('0x8a5')]&&(_0x2c642d[_0x1cd8('0x752')]=!0x0,_0x2c642d[_0x1cd8('0x753')]=!0x0));}}catch(_0x2a07b4){_0x61b3ba=!0x0,_0xa5cd22=_0x2a07b4;}finally{try{!_0x301a9f&&_0x3683fc['return']&&_0x3683fc['return']();}finally{if(_0x61b3ba)throw _0xa5cd22;}}}}catch(_0x25c45b){_0x3c77ad=!0x0,_0x5c2239=_0x25c45b;}finally{try{!_0x4a022b&&_0x22eb83[_0x1cd8('0xa1')]&&_0x22eb83[_0x1cd8('0xa1')]();}finally{if(_0x3c77ad)throw _0x5c2239;}}}},{'key':'mappingThemeImgStyle','value':function(){for(var _0x2c66a2={},_0x59215c=0x0,_0x4a022b=this[_0x1cd8('0xdf')][_0x1cd8('0x601')]['maptheme'][_0x1cd8('0x36')],_0x3c77ad=0x0;_0x3c77ad<_0x4a022b[_0x1cd8('0xc')];_0x3c77ad++){var _0x5c2239,_0x37f87b=_0x4a022b[_0x3c77ad];0x2==+_0x37f87b[_0x1cd8('0x5e1')]&&0x1!=+_0x37f87b[_0x1cd8('0x731')]&&(_0x2c66a2[_0x59215c]||(_0x2c66a2[_0x59215c]={'topImgIndexMap':{},'sideImgIndexMap':{}}),_0x37f87b[_0x1cd8('0x965')]&&!_0x2c66a2[_0x59215c]['topImgIndexMap'][_0x37f87b[_0x1cd8('0x965')]]&&(_0x5c2239=(0x0,_0x22eb83[_0x1cd8('0xa')])(_0x2c66a2[_0x59215c][_0x1cd8('0x5e4')])[_0x1cd8('0xc')]+0x1,_0x2c66a2[_0x59215c][_0x1cd8('0x5e4')][_0x5c2239]=_0x37f87b[_0x1cd8('0x965')]),_0x37f87b[_0x1cd8('0x966')]&&!_0x2c66a2[_0x59215c][_0x1cd8('0x5eb')][_0x37f87b[_0x1cd8('0x966')]]&&(_0x5c2239=(0x0,_0x22eb83['default'])(_0x2c66a2[_0x59215c]['sideImgIndexMap'])[_0x1cd8('0xc')]+0x1,_0x2c66a2[_0x59215c][_0x1cd8('0x5eb')][_0x5c2239]=_0x37f87b[_0x1cd8('0x966')],0x4<=_0x5c2239&&(_0x2c66a2[++_0x59215c]={'topImgIndexMap':{},'sideImgIndexMap':{}})));}return _0x2c66a2;}},{'key':_0x1cd8('0x967'),'value':function(_0x2c66a2){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(_0x2c66a2[_0x1cd8('0x968')]);!(_0x59215c=(_0x5c2239=_0x37f87b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x59215c=!0x0){var _0x22eb83=_0x5c2239['value'],_0x467cf7=null,_0x167ee9=!0x0,_0x21e368=!0x1,_0x2661f7=void 0x0;try{for(var _0x4a28d0,_0x40c31a=(0x0,_0x2c55f0['default'])(this['buildingScanConfigs']);!(_0x167ee9=(_0x4a28d0=_0x40c31a[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x167ee9=!0x0){var _0x439ab9=_0x4a28d0[_0x1cd8('0xf')];if(_0x439ab9['type']===_0x22eb83){_0x467cf7=_0x439ab9;break;}}}catch(_0x3f5da6){_0x21e368=!0x0,_0x2661f7=_0x3f5da6;}finally{try{!_0x167ee9&&_0x40c31a[_0x1cd8('0xa1')]&&_0x40c31a[_0x1cd8('0xa1')]();}finally{if(_0x21e368)throw _0x2661f7;}}switch(_0x22eb83){case _0x1cd8('0x969'):_0x2c66a2['isShowHorizonScan']=!0x0,_0x2c66a2[_0x1cd8('0x944')]=_0x467cf7[_0x1cd8('0x944')],_0x2c66a2[_0x1cd8('0x94a')]=_0x467cf7[_0x1cd8('0x96a')],_0x2c66a2[_0x1cd8('0x94b')]=_0x467cf7[_0x1cd8('0x96b')],_0x2c66a2[_0x1cd8('0x94c')]=_0x467cf7[_0x1cd8('0x96c')],_0x2c66a2['horizonScanExtent']=_0x467cf7[_0x1cd8('0x4c7')],_0x2c66a2[_0x1cd8('0x94e')]=_0x467cf7[_0x1cd8('0x96d')],this[_0x1cd8('0x943')][_0x1cd8('0x96e')]=!0x0;break;case _0x1cd8('0x96f'):_0x2c66a2[_0x1cd8('0x5aa')]=!0x0,_0x2c66a2[_0x1cd8('0x94f')]=_0x467cf7['scanHeight'],_0x2c66a2[_0x1cd8('0x950')]=_0x467cf7[_0x1cd8('0x96a')],_0x2c66a2[_0x1cd8('0x951')]=_0x467cf7[_0x1cd8('0x4c7')],_0x2c66a2[_0x1cd8('0x952')]=_0x467cf7[_0x1cd8('0x96d')],this['isCanUseScanStatus']['verticalScan']=!0x0;break;case _0x1cd8('0x970'):_0x2c66a2['isShowCenterSpread']=!0x0,_0x2c66a2[_0x1cd8('0x954')]=(0x0,_0x54b56b[_0x1cd8('0x34')])(_0x467cf7['scanCenter']['x'],_0x467cf7[_0x1cd8('0x4c4')]['y']),_0x2c66a2[_0x1cd8('0x971')]=_0x467cf7[_0x1cd8('0x96a')],_0x2c66a2[_0x1cd8('0x953')]=_0x467cf7[_0x1cd8('0x972')],_0x2c66a2['centerSpreadSpeed']=_0x467cf7[_0x1cd8('0x96d')],this['isCanUseScanStatus']['centerSpread']=!0x0;break;case _0x1cd8('0x905'):_0x2c66a2[_0x1cd8('0x5ac')]=!0x0,_0x2c66a2[_0x1cd8('0x955')]=(0x0,_0x54b56b[_0x1cd8('0x34')])(_0x467cf7[_0x1cd8('0x4c4')]['x'],_0x467cf7[_0x1cd8('0x4c4')]['y']),_0x2c66a2[_0x1cd8('0x973')]=_0x467cf7[_0x1cd8('0x974')],_0x2c66a2[_0x1cd8('0x975')]=_0x467cf7[_0x1cd8('0x96a')],_0x2c66a2[_0x1cd8('0x976')]=(0x0,_0x54b56b[_0x1cd8('0x520')])(_0x467cf7[_0x1cd8('0x977')]),this[_0x1cd8('0x943')][_0x1cd8('0x978')]=!0x0;}}}catch(_0x37b345){_0x4a022b=!0x0,_0x3c77ad=_0x37b345;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}},{'key':'updateTileBuildingHighLightColor','value':function(_0x2c66a2){if(0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&_0x2c66a2){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0['default'])(this[_0x1cd8('0x8cf')]);!(_0x59215c=(_0x5c2239=_0x37f87b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x59215c=!0x0)_0x5c2239[_0x1cd8('0xf')][_0x1cd8('0x3d0')][_0x1cd8('0x176')]['highLightColor'][_0x1cd8('0xf')][_0x1cd8('0x2f5')](_0x2c66a2);}catch(_0x2f0464){_0x4a022b=!0x0,_0x3c77ad=_0x2f0464;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}},{'key':'updateTileBuildingExtentLightDown','value':function(_0x2c66a2){if(0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this[_0x1cd8('0x8cf')]);!(_0x59215c=(_0x5c2239=_0x37f87b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x59215c=!0x0)_0x5c2239[_0x1cd8('0xf')]['shader'][_0x1cd8('0x176')][_0x1cd8('0x979')]['value']=_0x2c66a2;}catch(_0x36462f){_0x4a022b=!0x0,_0x3c77ad=_0x36462f;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}},{'key':_0x1cd8('0x97a'),'value':function(_0x2c66a2){if(0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&this[_0x1cd8('0x943')][_0x1cd8('0x96e')]){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this[_0x1cd8('0x8cf')]);!(_0x59215c=(_0x5c2239=_0x37f87b['next']())[_0x1cd8('0x8e')]);_0x59215c=!0x0){var _0x22eb83,_0x467cf7=_0x5c2239[_0x1cd8('0xf')];_0x467cf7['shader']['uniforms'][_0x1cd8('0x606')][_0x1cd8('0xf')]=!0x0,_0x2c66a2[_0x1cd8('0x4c7')]&&(_0x467cf7[_0x1cd8('0x5b1')]=_0x2c66a2['scanExtent'],_0x467cf7['hlTime']=_0x467cf7['hlExtent'][0x0],_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5c9')][_0x1cd8('0xf')]=_0x467cf7[_0x1cd8('0x5b1')][0x0]),_0x2c66a2['scanSpeed']&&(_0x467cf7[_0x1cd8('0x5b2')]=_0x2c66a2[_0x1cd8('0x96d')]),_0x2c66a2[_0x1cd8('0x96a')]&&_0x467cf7[_0x1cd8('0x5cd')][_0x1cd8('0x2f5')](_0x2c66a2[_0x1cd8('0x96a')]),_0x2c66a2[_0x1cd8('0x96b')]&&(_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5af')][_0x1cd8('0xf')]=_0x2c66a2[_0x1cd8('0x96b')]),_0x2c66a2[_0x1cd8('0x944')]&&(_0x22eb83=(0x0,_0x54b56b['coordTransToThree'])(_0x2c66a2[_0x1cd8('0x944')]['x'],_0x2c66a2[_0x1cd8('0x944')]['y']),_0x467cf7[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x5ad')][_0x1cd8('0xf')][_0x1cd8('0x1b')](_0x22eb83['x'],_0x22eb83['y']));}}catch(_0x506fc0){_0x4a022b=!0x0,_0x3c77ad=_0x506fc0;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}},{'key':'updateTileBuildingCenterSpreadScan','value':function(_0x2c66a2){if(0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&this['isCanUseScanStatus'][_0x1cd8('0x97b')]){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0['default'])(this['tileBuilidngThemes']);!(_0x59215c=(_0x5c2239=_0x37f87b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x59215c=!0x0){var _0x22eb83,_0x467cf7=_0x5c2239['value'];_0x467cf7['shader'][_0x1cd8('0x176')][_0x1cd8('0x607')][_0x1cd8('0xf')]=0x0,_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x606')][_0x1cd8('0xf')]=!0x0,_0x2c66a2[_0x1cd8('0x96d')]&&(_0x467cf7[_0x1cd8('0x5ba')]=_0x2c66a2['scanSpeed']),_0x2c66a2[_0x1cd8('0x96a')]&&_0x467cf7['csColor'][_0x1cd8('0x2f5')](_0x2c66a2['scanColor']),_0x2c66a2[_0x1cd8('0x972')]&&(_0x467cf7[_0x1cd8('0x5b9')]=_0x2c66a2['maxRadius']),_0x2c66a2[_0x1cd8('0x42d')]&&(_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['spreadValue'][_0x1cd8('0xf')]=0x3e8*_0x2c66a2['spreadFactor']),_0x2c66a2[_0x1cd8('0x4c4')]&&(_0x22eb83=(0x0,_0x54b56b[_0x1cd8('0x34')])(_0x2c66a2[_0x1cd8('0x4c4')]['x'],_0x2c66a2['scanCenter']['y']),_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['csCenterPos'][_0x1cd8('0xf')]['set'](_0x22eb83['x'],_0x22eb83['y'])),_0x467cf7[_0x1cd8('0x607')]=0x0;}}catch(_0x70ec6a){_0x4a022b=!0x0,_0x3c77ad=_0x70ec6a;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}},{'key':_0x1cd8('0x906'),'value':function(_0x2c66a2){if(0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&this[_0x1cd8('0x943')][_0x1cd8('0x978')]){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this[_0x1cd8('0x8cf')]);!(_0x59215c=(_0x5c2239=_0x37f87b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x59215c=!0x0){var _0x22eb83,_0x467cf7=_0x5c2239['value'];_0x467cf7[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x60a')]['value']=0x0,_0x467cf7['shader']['uniforms']['isShowScan'][_0x1cd8('0xf')]=!0x0,_0x2c66a2[_0x1cd8('0x96d')]&&(_0x467cf7[_0x1cd8('0x5bd')]=_0x2c66a2[_0x1cd8('0x96d')]),_0x2c66a2[_0x1cd8('0x96a')]&&_0x467cf7['radarColor'][_0x1cd8('0x2f5')](_0x2c66a2['scanColor']),_0x2c66a2[_0x1cd8('0x974')]&&(_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x97c')][_0x1cd8('0xf')]=_0x2c66a2[_0x1cd8('0x974')]),_0x2c66a2[_0x1cd8('0x4c4')]&&(_0x22eb83=(0x0,_0x54b56b[_0x1cd8('0x34')])(_0x2c66a2['scanCenter']['x'],_0x2c66a2[_0x1cd8('0x4c4')]['y']),_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x608')]['value'][_0x1cd8('0x1b')](_0x22eb83['x'],_0x22eb83['y'])),_0x467cf7['rdTime']=0x0;}}catch(_0x58ec6a){_0x4a022b=!0x0,_0x3c77ad=_0x58ec6a;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}},{'key':_0x1cd8('0x907'),'value':function(_0x2c66a2,_0x59215c){if(_0x1cd8('0x969')===_0x2c66a2&&0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&this[_0x1cd8('0x943')][_0x1cd8('0x96e')]){var _0x4a022b=!0x0,_0x3c77ad=!0x1,_0x5c2239=void 0x0;try{for(var _0x37f87b,_0x22eb83=(0x0,_0x2c55f0['default'])(this['tileBuilidngThemes']);!(_0x4a022b=(_0x37f87b=_0x22eb83[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x4a022b=!0x0){var _0x467cf7=_0x37f87b['value'];_0x467cf7['shader'][_0x1cd8('0x176')][_0x1cd8('0x5c9')][_0x1cd8('0xf')]=0x0,_0x467cf7[_0x1cd8('0x5c9')]=0x0,_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x606')][_0x1cd8('0xf')]=_0x59215c;}}catch(_0x6c6dc7){_0x3c77ad=!0x0,_0x5c2239=_0x6c6dc7;}finally{try{!_0x4a022b&&_0x22eb83[_0x1cd8('0xa1')]&&_0x22eb83[_0x1cd8('0xa1')]();}finally{if(_0x3c77ad)throw _0x5c2239;}}}if(_0x1cd8('0x970')===_0x2c66a2&&0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&this[_0x1cd8('0x943')][_0x1cd8('0x97b')]){var _0x112f56=!0x0,_0x3c77ad=!0x1,_0x5c2239=void 0x0;try{for(var _0x3895eb,_0xd78d0b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this[_0x1cd8('0x8cf')]);!(_0x112f56=(_0x3895eb=_0xd78d0b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x112f56=!0x0){var _0x477fed=_0x3895eb[_0x1cd8('0xf')];_0x477fed[_0x1cd8('0x3d0')][_0x1cd8('0x176')]['csTime'][_0x1cd8('0xf')]=0x0,_0x477fed[_0x1cd8('0x607')]=0x0,_0x477fed[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x606')][_0x1cd8('0xf')]=_0x59215c;}}catch(_0x3bdbad){_0x3c77ad=!0x0,_0x5c2239=_0x3bdbad;}finally{try{!_0x112f56&&_0xd78d0b['return']&&_0xd78d0b['return']();}finally{if(_0x3c77ad)throw _0x5c2239;}}}if(_0x1cd8('0x905')===_0x2c66a2&&0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]&&this[_0x1cd8('0x943')][_0x1cd8('0x978')]){var _0x153b1d=!0x0,_0x3c77ad=!0x1,_0x5c2239=void 0x0;try{for(var _0x2f6c51,_0x2c3c1b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this[_0x1cd8('0x8cf')]);!(_0x153b1d=(_0x2f6c51=_0x2c3c1b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x153b1d=!0x0){var _0x53642a=_0x2f6c51[_0x1cd8('0xf')];_0x53642a[_0x1cd8('0x3d0')]['uniforms'][_0x1cd8('0x60a')][_0x1cd8('0xf')]=0x0,_0x53642a[_0x1cd8('0x60a')]=0x0,_0x53642a[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x606')]['value']=_0x59215c;}}catch(_0x8d7c32){_0x3c77ad=!0x0,_0x5c2239=_0x8d7c32;}finally{try{!_0x153b1d&&_0x2c3c1b['return']&&_0x2c3c1b[_0x1cd8('0xa1')]();}finally{if(_0x3c77ad)throw _0x5c2239;}}}}},{'key':_0x1cd8('0x908'),'value':function(_0x2c66a2){if(0x0<this['tileBuilidngThemes'][_0x1cd8('0xc')]){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this[_0x1cd8('0x8cf')]);!(_0x59215c=(_0x5c2239=_0x37f87b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x59215c=!0x0){var _0x22eb83,_0x467cf7=_0x5c2239['value'];_0x467cf7[_0x1cd8('0x5d7')]&&(_0x2c66a2[_0x1cd8('0x97d')]?(_0x22eb83=(0x0,_0x54b56b['coordTransToThree'])(_0x2c66a2[_0x1cd8('0x22b')]['x'],_0x2c66a2[_0x1cd8('0x22b')]['y']),_0x467cf7[_0x1cd8('0x3d0')][_0x1cd8('0x176')][_0x1cd8('0x5d6')][_0x1cd8('0xf')][_0x1cd8('0x1b')](_0x22eb83['x'],_0x22eb83['y']),_0x467cf7[_0x1cd8('0x622')](0x0,_0x2c66a2[_0x1cd8('0x226')])):_0x467cf7[_0x1cd8('0x622')](_0x2c66a2[_0x1cd8('0x226')],0x0));}}catch(_0x540ec9){_0x4a022b=!0x0,_0x3c77ad=_0x540ec9;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}},{'key':'toggleTileBuildingsLight','value':function(_0x2c66a2){if(0x0<this[_0x1cd8('0x8cf')][_0x1cd8('0xc')]){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this[_0x1cd8('0x8cf')]);!(_0x59215c=(_0x5c2239=_0x37f87b['next']())[_0x1cd8('0x8e')]);_0x59215c=!0x0){var _0x22eb83=_0x5c2239[_0x1cd8('0xf')];_0x2c66a2?_0x22eb83[_0x1cd8('0x621')](_0x22eb83[_0x1cd8('0x5de')],0x1):_0x22eb83[_0x1cd8('0x621')](_0x22eb83[_0x1cd8('0x5de')],0.1);}}catch(_0x6f5281){_0x4a022b=!0x0,_0x3c77ad=_0x6f5281;}finally{try{!_0x59215c&&_0x37f87b['return']&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}},{'key':_0x1cd8('0x97e'),'value':function(_0x2c66a2){if(0x0<this['tileBuilidngThemes'][_0x1cd8('0xc')]){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this['tileBuilidngThemes']);!(_0x59215c=(_0x5c2239=_0x37f87b['next']())['done']);_0x59215c=!0x0){var _0x22eb83=_0x5c2239[_0x1cd8('0xf')];_0x22eb83[_0x1cd8('0x888')]&&(_0x22eb83['material'][_0x1cd8('0x47d')]=_0x2c66a2,_0x22eb83[_0x1cd8('0x47')][_0x1cd8('0x2aa')]=_0x22eb83['envTexture']['intensity']||0x1,_0x22eb83[_0x1cd8('0x47')]['needsUpdate']=!0x0);}}catch(_0x5d55a2){_0x4a022b=!0x0,_0x3c77ad=_0x5d55a2;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}},{'key':'update','value':function(_0x2c66a2){}},{'key':_0x1cd8('0xde'),'value':function(_0x2c66a2){for(var _0x59215c=-0x1,_0x4a022b=0x0,_0x3c77ad=this[_0x1cd8('0x893')][_0x1cd8('0xc')];_0x4a022b<_0x3c77ad;_0x4a022b++)if(this[_0x1cd8('0x893')][_0x4a022b][_0x1cd8('0x42')]===_0x2c66a2){this[_0x1cd8('0x893')][_0x4a022b][_0x1cd8('0xde')](),_0x59215c=_0x4a022b;break;}-0x1<_0x59215c&&this[_0x1cd8('0x893')][_0x1cd8('0x99')](_0x59215c,0x1);}},{'key':'disposeAll','value':function(){for(var _0x2c66a2=0x0,_0x59215c=this[_0x1cd8('0x893')][_0x1cd8('0xc')];_0x2c66a2<_0x59215c;_0x2c66a2++)this[_0x1cd8('0x893')][_0x2c66a2]['dispose'](),this[_0x1cd8('0x893')][_0x2c66a2]=null;for(var _0x4a022b=0x0,_0x3c77ad=this[_0x1cd8('0x941')][_0x1cd8('0xc')];_0x4a022b<_0x3c77ad;_0x4a022b++)this[_0x1cd8('0x941')][_0x4a022b][_0x1cd8('0xde')](),this[_0x1cd8('0x941')][_0x4a022b]=null;this['buildingsThemes'][_0x1cd8('0xc')]=0x0,this['edgeLineFrameList'][_0x1cd8('0xc')]=0x0;}},{'key':'render','value':function(_0x2c66a2){if(0x0<this[_0x1cd8('0x893')][_0x1cd8('0xc')]){var _0x59215c=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x5c2239,_0x37f87b=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this['buildingsThemes']);!(_0x59215c=(_0x5c2239=_0x37f87b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x59215c=!0x0){var _0x22eb83=_0x5c2239[_0x1cd8('0xf')];(0x0,_0x54b56b[_0x1cd8('0x2b')])(_0x22eb83['shader']),_0x22eb83[_0x1cd8('0x325')](_0x2c66a2);}}catch(_0x3f98bc){_0x4a022b=!0x0,_0x3c77ad=_0x3f98bc;}finally{try{!_0x59215c&&_0x37f87b[_0x1cd8('0xa1')]&&_0x37f87b[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}if(0x0<this[_0x1cd8('0x8cf')]['length']){var _0x467cf7=!0x0,_0x4a022b=!0x1,_0x3c77ad=void 0x0;try{for(var _0x1399b1,_0x190058=(0x0,_0x2c55f0[_0x1cd8('0xa')])(this[_0x1cd8('0x8cf')]);!(_0x467cf7=(_0x1399b1=_0x190058[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x467cf7=!0x0){var _0x1ac330=_0x1399b1['value'];(0x0,_0x54b56b['clearShaderCode'])(_0x1ac330[_0x1cd8('0x3d0')]),_0x1ac330[_0x1cd8('0x325')](_0x2c66a2);}}catch(_0x4e9bbc){_0x4a022b=!0x0,_0x3c77ad=_0x4e9bbc;}finally{try{!_0x467cf7&&_0x190058['return']&&_0x190058[_0x1cd8('0xa1')]();}finally{if(_0x4a022b)throw _0x3c77ad;}}}}}]),_0x59215c['default']=_0x467cf7;},function(_0x3a142d,_0x3b3ded,_0x48b4a4){'use strict';Object[_0x1cd8('0x4')](_0x3b3ded,_0x1cd8('0x6'),{'value':!0x0});var _0x82dbef=_0x29383c(_0x48b4a4(0x4)),_0xdbf896=_0x29383c(_0x48b4a4(0x0)),_0x20a1d7=_0x29383c(_0x48b4a4(0x1)),_0x456e5d=_0x48b4a4(0x1a),_0x368591=function(_0x3a142d){if(_0x3a142d&&_0x3a142d[_0x1cd8('0x6')])return _0x3a142d;var _0x3b3ded={};if(null!=_0x3a142d)for(var _0x48b4a4 in _0x3a142d)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')][_0x1cd8('0x1')](_0x3a142d,_0x48b4a4)&&(_0x3b3ded[_0x48b4a4]=_0x3a142d[_0x48b4a4]);return _0x3b3ded[_0x1cd8('0xa')]=_0x3a142d,_0x3b3ded;}(_0x48b4a4(0x41)),_0x59ab6a=_0x48b4a4(0x72);function _0x29383c(_0x3a142d){return _0x3a142d&&_0x3a142d[_0x1cd8('0x6')]?_0x3a142d:{'default':_0x3a142d};}function _0x416659(){(0x0,_0xdbf896[_0x1cd8('0xa')])(this,_0x416659),this[_0x1cd8('0xdf')]=(0x0,_0x456e5d[_0x1cd8('0x30')])(),this[_0x1cd8('0x97f')]=[],this[_0x1cd8('0x980')]=[],this[_0x1cd8('0x90b')]=null,this[_0x1cd8('0x90c')]={};}(0x0,_0x20a1d7[_0x1cd8('0xa')])(_0x416659,[{'key':_0x1cd8('0x981'),'value':function(_0x3a142d){var _0x55e7a4=this,_0x3b3ded=!0x0,_0x48b4a4=!0x1,_0xdbf896=void 0x0;try{for(var _0x20a1d7,_0x29383c=(0x0,_0x82dbef[_0x1cd8('0xa')])(_0x3a142d);!(_0x3b3ded=(_0x20a1d7=_0x29383c[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x3b3ded=!0x0){var _0x250c35=_0x20a1d7[_0x1cd8('0xf')],_0x416659=(0x0,_0x456e5d['getBuiding'])(0x0)[_0x1cd8('0x506')](_0x250c35[_0x1cd8('0x8a3')]||0x1);if(_0x416659){var _0x42be74,_0x25ff19,_0x294083,_0x288d40,_0x82b74d,_0x333a69,_0xdc64f1,_0x3457e2,_0x4494f9,_0x378d16,_0x3879d4,_0x1f76e4,_0xe880e7=_0x416659['getLayersByTypes']([esmap[_0x1cd8('0x4f2')][_0x1cd8('0x982')]]);if('standard'===_0x250c35[_0x1cd8('0x983')]&&(_0x42be74=_0xe880e7[0x0][_0x1cd8('0x509')][_0x1cd8('0x315')][0x0][_0x1cd8('0x47')][0x0],_0x25ff19=new THREE[(_0x1cd8('0x5f7'))]({'color':_0x42be74['color']}),(0x0,_0x59ab6a[_0x1cd8('0x2a0')])(_0x25ff19,_0x250c35),_0xe880e7[0x0][_0x1cd8('0x509')][_0x1cd8('0x315')][0x0][_0x1cd8('0x47')][0x0]=_0x25ff19,this[_0x1cd8('0x97f')][_0x1cd8('0x70')](_0xe880e7[0x0][_0x1cd8('0x509')][_0x1cd8('0x315')][0x0])),_0x1cd8('0x984')===_0x250c35[_0x1cd8('0x983')]&&_0x250c35[_0x1cd8('0x985')]){var _0x415fa4=_0xe880e7[0x0][_0x1cd8('0x509')][_0x1cd8('0x315')][0x0];if(Array[_0x1cd8('0x1b6')](_0x415fa4[_0x1cd8('0x47')])){var _0x1ee315=!0x0,_0x8c64ed=!0x1,_0x2ecf6d=void 0x0;try{for(var _0x30533f,_0x2aecae=(0x0,_0x82dbef[_0x1cd8('0xa')])(_0x415fa4[_0x1cd8('0x47')]);!(_0x1ee315=(_0x30533f=_0x2aecae[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x1ee315=!0x0)_0x30533f[_0x1cd8('0xf')][_0x1cd8('0xde')]();}catch(_0x2bd4ec){_0x8c64ed=!0x0,_0x2ecf6d=_0x2bd4ec;}finally{try{!_0x1ee315&&_0x2aecae[_0x1cd8('0xa1')]&&_0x2aecae[_0x1cd8('0xa1')]();}finally{if(_0x8c64ed)throw _0x2ecf6d;}}}else _0x415fa4[_0x1cd8('0x47')][_0x1cd8('0xde')]();_0x415fa4[_0x1cd8('0xe0')][_0x1cd8('0xde')]();var _0x1f21ee=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')]((0x0,_0x456e5d['getConfigAssetsPath'])(_0x250c35['effectConfigs'][_0x1cd8('0x8a1')])),_0x2d8abf=(_0x1f21ee['anisotropy']=this[_0x1cd8('0xdf')][_0x1cd8('0x466')]['renderer'][_0x1cd8('0x527')][_0x1cd8('0x528')](),new _0x368591[(_0x1cd8('0xb0'))]({'speed':_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x326')]})),_0x36e102=(_0x415fa4[_0x1cd8('0xe0')]=new THREE[(_0x1cd8('0x3e3'))](_0x250c35[_0x1cd8('0x985')]['radius'],_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x226')]),_0x415fa4['material']=_0x2d8abf[_0x1cd8('0x2f2')]({'texture':_0x1f21ee,'repeat':_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x2ea')],'colorStr':_0x250c35['effectConfigs'][_0x1cd8('0x220')]}),_0x415fa4[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],_0x250c35[_0x1cd8('0x53e')]?_0x415fa4['position']['y']+ +_0x250c35['offsetHeight']:_0x415fa4[_0x1cd8('0x3f')]['y']);_0x415fa4[_0x1cd8('0x3f')]['y']=_0x36e102,_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x22b')]&&(0x0,_0x456e5d[_0x1cd8('0x31')])(_0x415fa4,_0x250c35['effectConfigs'][_0x1cd8('0x22b')],_0x36e102),this[_0x1cd8('0x980')][_0x1cd8('0x70')](_0x2d8abf);}_0x250c35[_0x1cd8('0x220')]&&_0xe880e7[0x0][_0x1cd8('0x509')]['children'][0x0]['material'][0x0][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x250c35[_0x1cd8('0x220')]),_0x250c35[_0x1cd8('0x986')]&&(_0x294083=_0xe880e7[0x0]['o3d_'][_0x1cd8('0x315')][0x0][_0x1cd8('0x47')][0x0],(_0x288d40=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')]((0x0,_0x456e5d[_0x1cd8('0x520')])(_0x250c35[_0x1cd8('0x986')])))[_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x5f0')],_0x288d40[_0x1cd8('0x32e')]=THREE[_0x1cd8('0x5f0')],_0x82b74d=_0x250c35[_0x1cd8('0x987')]||0x2710,_0x333a69=new THREE['PlaneBufferGeometry'](_0x82b74d,_0x82b74d),_0x294083[_0x1cd8('0x1e1')]=!0x0,_0x294083['alphaMap']=_0x288d40,_0x294083['needsUpdate']=!0x0,(_0xdc64f1=new THREE[(_0x1cd8('0x30c'))](_0x333a69,_0x294083))[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],_0xdc64f1['position']['y']=_0xe880e7[0x0][_0x1cd8('0x509')]['children'][0x0]['position']['y']-0.5,_0xe880e7[0x0]['o3d_'][_0x1cd8('0x1cd')](_0xdc64f1)),'alpha_trans'===_0x250c35[_0x1cd8('0x983')]&&_0x250c35[_0x1cd8('0x985')]&&function(){var _0x3a142d=null;if(_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x988')])(_0x3a142d=0x0===_0xe880e7[_0x1cd8('0xc')]?new THREE[(_0x1cd8('0x30c'))](new THREE[(_0x1cd8('0x3e3'))](0x1,0x1),new THREE['MeshBasicMaterial']()):_0xe880e7[0x0][_0x1cd8('0x509')][_0x1cd8('0x315')][0x0][_0x1cd8('0x1bb')]())[_0x1cd8('0x7f')]=_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x989')],_0x55e7a4[_0x1cd8('0x90c')][_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x989')]]=_0x3a142d;else{if(_0x3a142d=_0xe880e7[0x0][_0x1cd8('0x509')]['children'][0x0],Array['isArray'](_0x3a142d['material'])){var _0x3b3ded=!0x0,_0x48b4a4=!0x1,_0xdbf896=void 0x0;try{for(var _0x20a1d7,_0x29383c=(0x0,_0x82dbef['default'])(_0x3a142d[_0x1cd8('0x47')]);!(_0x3b3ded=(_0x20a1d7=_0x29383c[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x3b3ded=!0x0)_0x20a1d7[_0x1cd8('0xf')][_0x1cd8('0xde')]();}catch(_0x361eea){_0x48b4a4=!0x0,_0xdbf896=_0x361eea;}finally{try{!_0x3b3ded&&_0x29383c[_0x1cd8('0xa1')]&&_0x29383c[_0x1cd8('0xa1')]();}finally{if(_0x48b4a4)throw _0xdbf896;}}}else _0x3a142d[_0x1cd8('0x47')]['dispose']();_0x3a142d['geometry'][_0x1cd8('0xde')]();}var _0x48b4a4=null,_0xdbf896=(_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x8a1')]&&((_0x48b4a4=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')]((0x0,_0x456e5d['getConfigAssetsPath'])(_0x250c35['effectConfigs'][_0x1cd8('0x8a1')])))['wrapT']=THREE[_0x1cd8('0x32d')],_0x48b4a4['wrapS']=THREE[_0x1cd8('0x32d')],_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x525')]&&(_0x48b4a4['anisotropy']=_0x55e7a4[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')]['capabilities']['getMaxAnisotropy']())),null),_0x416659=(_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x98a')]&&((_0xdbf896=new THREE['TextureLoader']()['load']((0x0,_0x456e5d['getConfigAssetsPath'])(_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x98a')])))[_0x1cd8('0x3f4')]=THREE[_0x1cd8('0x32d')],_0xdbf896['wrapS']=THREE['RepeatWrapping'],_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x525')]&&(_0xdbf896['anisotropy']=_0x55e7a4[_0x1cd8('0xdf')][_0x1cd8('0x466')]['renderer'][_0x1cd8('0x527')]['getMaxAnisotropy']())),new _0x368591[(_0x1cd8('0xaf'))]({'colorStr':_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x220')],'radius':_0x250c35['effectConfigs']['radius'],'repeat':_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x2ea')],'transFactor':_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x477')],'materialType':_0x250c35['effectConfigs'][_0x1cd8('0x730')]})),_0x416659=(_0x55e7a4[_0x1cd8('0x980')][_0x1cd8('0x70')](_0x416659),_0x416659[_0x1cd8('0x734')](_0x48b4a4,_0xdbf896)),_0x48b4a4=_0x416659['geometry'],_0x42be74=_0x416659[_0x1cd8('0x47')],_0xdbf896=(_0x3a142d[_0x1cd8('0xe0')]=_0x48b4a4,_0x3a142d[_0x1cd8('0x47')]=_0x42be74,_0x3a142d[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],_0x3a142d[_0x1cd8('0x7f')]=_0x1cd8('0x98b'),(0x0,_0x59ab6a[_0x1cd8('0x2a0')])(_0x42be74,_0x250c35['effectConfigs']),_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x753')]&&(_0x3a142d[_0x1cd8('0x753')]=!0x0),_0x250c35[_0x1cd8('0x53e')]?_0x3a142d[_0x1cd8('0x3f')]['y']+ +_0x250c35[_0x1cd8('0x53e')]:_0x3a142d[_0x1cd8('0x3f')]['y']);_0x3a142d[_0x1cd8('0x3f')]['y']=_0xdbf896,_0x250c35[_0x1cd8('0x6fb')]&&(_0x3a142d[_0x1cd8('0x3f')]['x']=_0x250c35[_0x1cd8('0x6fb')]['x'],_0x3a142d[_0x1cd8('0x3f')]['z']=_0x250c35[_0x1cd8('0x6fb')]['y']),_0x250c35['effectConfigs'][_0x1cd8('0x226')]&&_0x55e7a4[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x2fb')][_0x1cd8('0x2fd')]<=_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x226')]&&(_0x55e7a4[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x2fb')][_0x1cd8('0x2fd')]=_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x226')]+0x3e8,_0x55e7a4['map'][_0x1cd8('0x466')]['camera'][_0x1cd8('0x6e8')]()),_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x988')]&&(_0x55e7a4[_0x1cd8('0x90b')]||(_0x55e7a4[_0x1cd8('0x90b')]=new THREE[(_0x1cd8('0x32a'))](),_0x55e7a4['map'][_0x1cd8('0x466')]['scene'][_0x1cd8('0x1cd')](_0x55e7a4[_0x1cd8('0x90b')])),void 0x0!==_0x250c35['effectConfigs'][_0x1cd8('0x327')]&&(_0x3a142d['visible']=_0x250c35[_0x1cd8('0x985')][_0x1cd8('0x327')]),_0x55e7a4[_0x1cd8('0x90b')][_0x1cd8('0x1cd')](_0x3a142d)),_0x55e7a4[_0x1cd8('0xdf')]['on'](_0x1cd8('0x57e'),function(_0x3a142d){_0x42be74[_0x1cd8('0x327')]='2D'!==_0x3a142d;});}(),'mirro'===_0x250c35[_0x1cd8('0x983')]&&_0x250c35[_0x1cd8('0x985')]&&((_0x3457e2=_0xe880e7[0x0]['o3d_'][_0x1cd8('0x315')][0x0])[_0x1cd8('0x327')]=!0x1,_0x4494f9=new _0x368591[(_0x1cd8('0xb5'))]({'texWidth':window[_0x1cd8('0x32b')],'texHeight':window[_0x1cd8('0x32c')]}),_0x378d16=new THREE[(_0x1cd8('0x3e3'))](0x3e8,0x3e8),_0x3879d4=_0x4494f9[_0x1cd8('0x7')](_0x378d16),_0x1f76e4=_0x250c35['offsetHeight']?_0x3457e2[_0x1cd8('0x3f')]['y']+ +_0x250c35[_0x1cd8('0x53e')]:_0x3457e2[_0x1cd8('0x3f')]['y'],_0x3879d4[_0x1cd8('0x3f')]['y']=_0x1f76e4,_0x3879d4['rotateX'](-Math['PI']/0x2),this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](_0x3879d4)),!0x1===_0x250c35[_0x1cd8('0x327')]&&(_0xe880e7[0x0][_0x1cd8('0x509')][_0x1cd8('0x315')][0x0][_0x1cd8('0x327')]=!0x1);}}}catch(_0x324eba){_0x48b4a4=!0x0,_0xdbf896=_0x324eba;}finally{try{!_0x3b3ded&&_0x29383c[_0x1cd8('0xa1')]&&_0x29383c['return']();}finally{if(_0x48b4a4)throw _0xdbf896;}}}},{'key':_0x1cd8('0x323'),'value':function(_0x3b3ded,_0x3a142d){var _0x48b4a4=this;new TWEEN[(_0x1cd8('0x2cd'))]({'x':0x0})['to']({'x':0x1},0x3e8*_0x3a142d)[_0x1cd8('0x2d2')](function(_0x3a142d){_0x48b4a4['controlFloors'][_0x3b3ded][_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0x3a142d['x'];})['easing'](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x2d0')]['In'])[_0x1cd8('0x2d1')]();}},{'key':_0x1cd8('0xde'),'value':function(){for(var _0x3a142d=0x0,_0x3b3ded=this[_0x1cd8('0x97f')][_0x1cd8('0xc')];_0x3a142d<_0x3b3ded;_0x3a142d++)this['floorsMesh'][_0x3a142d][_0x1cd8('0x47')][0x0]['dispose'](),this['floorsMesh'][_0x3a142d][_0x1cd8('0x47')][0x0]=null;for(var _0x48b4a4=this[_0x1cd8('0x97f')][_0x1cd8('0xc')]=0x0,_0xdbf896=this[_0x1cd8('0x980')]['length'];_0x48b4a4<_0xdbf896;_0x48b4a4++)this[_0x1cd8('0x980')][_0x48b4a4][_0x1cd8('0xde')](),this[_0x1cd8('0x980')][_0x48b4a4]=null;this[_0x1cd8('0x980')][_0x1cd8('0xc')]=0x0;}},{'key':_0x1cd8('0x325'),'value':function(_0x3a142d){if(0x0<this['floorEffects']['length']){var _0x3b3ded=!0x0,_0x48b4a4=!0x1,_0xdbf896=void 0x0;try{for(var _0x20a1d7,_0x29383c=(0x0,_0x82dbef[_0x1cd8('0xa')])(this[_0x1cd8('0x980')]);!(_0x3b3ded=(_0x20a1d7=_0x29383c[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x3b3ded=!0x0)_0x20a1d7['value'][_0x1cd8('0x325')](_0x3a142d);}catch(_0x5b2225){_0x48b4a4=!0x0,_0xdbf896=_0x5b2225;}finally{try{!_0x3b3ded&&_0x29383c[_0x1cd8('0xa1')]&&_0x29383c[_0x1cd8('0xa1')]();}finally{if(_0x48b4a4)throw _0xdbf896;}}}}}]),_0x3b3ded[_0x1cd8('0xa')]=_0x416659;},function(_0x1e8360,_0x326db4,_0x2eccd2){'use strict';Object['defineProperty'](_0x326db4,'__esModule',{'value':!0x0});var _0x5cebfe=_0x2b7c80(_0x2eccd2(0x4)),_0x445d75=_0x2b7c80(_0x2eccd2(0x0)),_0x4ec142=_0x2b7c80(_0x2eccd2(0x1)),_0x5481a4=_0x2eccd2(0x1a),_0x12193b=function(_0x1e8360){if(_0x1e8360&&_0x1e8360[_0x1cd8('0x6')])return _0x1e8360;var _0x326db4={};if(null!=_0x1e8360)for(var _0x2eccd2 in _0x1e8360)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')]['call'](_0x1e8360,_0x2eccd2)&&(_0x326db4[_0x2eccd2]=_0x1e8360[_0x2eccd2]);return _0x326db4[_0x1cd8('0xa')]=_0x1e8360,_0x326db4;}(_0x2eccd2(0x41)),_0x598995=_0x2eccd2(0x72);function _0x2b7c80(_0x1e8360){return _0x1e8360&&_0x1e8360[_0x1cd8('0x6')]?_0x1e8360:{'default':_0x1e8360};}function _0x301628(){(0x0,_0x445d75[_0x1cd8('0xa')])(this,_0x301628),this[_0x1cd8('0xdf')]=(0x0,_0x5481a4['getMapInstance'])(),this[_0x1cd8('0x98c')]=[],this[_0x1cd8('0x941')]=[],this['_tempMaterials']=[];}(0x0,_0x4ec142[_0x1cd8('0xa')])(_0x301628,[{'key':_0x1cd8('0x934'),'value':function(_0x520ed7){var _0x134f33,_0x135cc4=(0x0,_0x5481a4['getBuiding'])(0x0)[_0x1cd8('0x506')](0x1)[_0x1cd8('0x8fd')]([esmap[_0x1cd8('0x4f2')][_0x1cd8('0x956')],esmap[_0x1cd8('0x4f2')][_0x1cd8('0x957')],esmap[_0x1cd8('0x4f2')][_0x1cd8('0x982')]]);if(_0x520ed7['repeatImg']&&((_0x134f33=new _0x12193b['GroundTexture']({'view':this[_0x1cd8('0xdf')][_0x1cd8('0x466')],'type':_0x520ed7[_0x1cd8('0x98d')],'texPath':_0x520ed7[_0x1cd8('0x8a1')],'texScale':_0x520ed7[_0x1cd8('0x98e')],'texRepeat':_0x520ed7[_0x1cd8('0x98e')]?{'x':_0x520ed7['repeatScaleFactor'],'y':_0x520ed7[_0x1cd8('0x98e')]}:null}))[_0x1cd8('0x29d')](_0x1cd8('0x46d'),function(){var _0x1e8360=!0x0,_0x326db4=!0x1,_0x2eccd2=void 0x0;try{for(var _0x445d75,_0x4ec142=(0x0,_0x5cebfe[_0x1cd8('0xa')])(_0x135cc4);!(_0x1e8360=(_0x445d75=_0x4ec142[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x1e8360=!0x0){var _0x2b7c80=_0x445d75['value'],_0x301628=!0x0,_0x1f610e=!0x1,_0x476157=void 0x0;try{for(var _0x586844,_0x37da7c=(0x0,_0x5cebfe['default'])(_0x2b7c80[_0x1cd8('0x509')]['children']);!(_0x301628=(_0x586844=_0x37da7c[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x301628=!0x0){var _0x3fb28d=_0x586844[_0x1cd8('0xf')],_0x353769=(0x0,_0x5481a4[_0x1cd8('0x2d')])(_0x3fb28d,_0x520ed7[_0x1cd8('0x42')]);if(_0x353769){_0x3fb28d[_0x1cd8('0x47')][_0x353769['userData'][_0x1cd8('0x46')]]=_0x134f33['getMaterial'](),_0x134f33['targetMesh']=_0x3fb28d;break;}if('floor'===_0x3fb28d[_0x1cd8('0x7f3')]&&_0x520ed7[_0x1cd8('0x8a3')]&&_0x520ed7[_0x1cd8('0x8a3')]===_0x3fb28d['datas_'][_0x1cd8('0x508')]){_0x3fb28d[_0x1cd8('0x47')][0x0]=_0x134f33['getMaterial'](),_0x134f33[_0x1cd8('0x723')]=_0x3fb28d;break;}}}catch(_0x540e04){_0x1f610e=!0x0,_0x476157=_0x540e04;}finally{try{!_0x301628&&_0x37da7c['return']&&_0x37da7c[_0x1cd8('0xa1')]();}finally{if(_0x1f610e)throw _0x476157;}}}}catch(_0x1f39a0){_0x326db4=!0x0,_0x2eccd2=_0x1f39a0;}finally{try{!_0x1e8360&&_0x4ec142[_0x1cd8('0xa1')]&&_0x4ec142[_0x1cd8('0xa1')]();}finally{if(_0x326db4)throw _0x2eccd2;}}}),this[_0x1cd8('0x98c')][_0x1cd8('0x70')](_0x134f33)),_0x520ed7[_0x1cd8('0x2a7')]||_0x520ed7[_0x1cd8('0x2a8')]){var _0x1e8360=!0x0,_0x326db4=!0x1,_0x2eccd2=void 0x0;try{for(var _0x445d75,_0x4ec142=(0x0,_0x5cebfe[_0x1cd8('0xa')])(_0x135cc4);!(_0x1e8360=(_0x445d75=_0x4ec142[_0x1cd8('0x7e')]())['done']);_0x1e8360=!0x0){var _0x2b7c80=_0x445d75[_0x1cd8('0xf')],_0x301628=!0x0,_0x439fef=!0x1,_0x2f3961=void 0x0;try{for(var _0x4a95ab,_0x366f91=(0x0,_0x5cebfe[_0x1cd8('0xa')])(_0x2b7c80[_0x1cd8('0x509')][_0x1cd8('0x315')]);!(_0x301628=(_0x4a95ab=_0x366f91[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x301628=!0x0){var _0x48c670=_0x4a95ab[_0x1cd8('0xf')];if(_0x223509=(0x0,_0x5481a4[_0x1cd8('0x2d')])(_0x48c670,_0x520ed7[_0x1cd8('0x42')])){var _0x490afa=_0x48c670[_0x1cd8('0x47')][_0x223509['userData'][_0x1cd8('0x46')]],_0x2c9880=new THREE[(_0x1cd8('0x5f7'))]({'color':_0x490afa[_0x1cd8('0x220')]});(0x0,_0x598995[_0x1cd8('0x2a0')])(_0x2c9880,_0x520ed7),_0x48c670[_0x1cd8('0x47')][_0x223509['userData']['index']]=_0x2c9880;break;}}}catch(_0x5d4c39){_0x439fef=!0x0,_0x2f3961=_0x5d4c39;}finally{try{!_0x301628&&_0x366f91[_0x1cd8('0xa1')]&&_0x366f91[_0x1cd8('0xa1')]();}finally{if(_0x439fef)throw _0x2f3961;}}}}catch(_0x500973){_0x326db4=!0x0,_0x2eccd2=_0x500973;}finally{try{!_0x1e8360&&_0x4ec142[_0x1cd8('0xa1')]&&_0x4ec142[_0x1cd8('0xa1')]();}finally{if(_0x326db4)throw _0x2eccd2;}}}if(_0x520ed7[_0x1cd8('0x28d')]){var _0x57ee52=!0x0,_0x326db4=!0x1,_0x2eccd2=void 0x0;try{for(var _0x37d988,_0x512ba5=(0x0,_0x5cebfe[_0x1cd8('0xa')])(_0x135cc4);!(_0x57ee52=(_0x37d988=_0x512ba5[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x57ee52=!0x0){var _0x353efe=_0x37d988['value'],_0x405e3c=!0x0,_0xfb10f7=!0x1,_0x1c6934=void 0x0;try{for(var _0xe82257,_0x3d8275=(0x0,_0x5cebfe[_0x1cd8('0xa')])(_0x353efe[_0x1cd8('0x509')][_0x1cd8('0x315')]);!(_0x405e3c=(_0xe82257=_0x3d8275['next']())[_0x1cd8('0x8e')]);_0x405e3c=!0x0){var _0x223509,_0x163ed9=_0xe82257[_0x1cd8('0xf')];if(_0x223509=(0x0,_0x5481a4['getMaterialByRoomStyle'])(_0x163ed9,_0x520ed7[_0x1cd8('0x42')])){var _0x4a8556=new _0x12193b[(_0x1cd8('0xbe'))]({'colorStr':_0x520ed7[_0x1cd8('0x95a')],'opacity':_0x520ed7[_0x1cd8('0x959')],'depthTest':!0x0});_0x4a8556[_0x1cd8('0x95b')](_0x163ed9,_0x163ed9[_0x1cd8('0xe0')]),_0x520ed7[_0x1cd8('0x33d')]&&(_0x163ed9[_0x1cd8('0x3f')]['y']+=_0x520ed7['offsetY']),this['edgeLineFrameList']['push'](_0x4a8556);break;}}}catch(_0x47554c){_0xfb10f7=!0x0,_0x1c6934=_0x47554c;}finally{try{!_0x405e3c&&_0x3d8275[_0x1cd8('0xa1')]&&_0x3d8275[_0x1cd8('0xa1')]();}finally{if(_0xfb10f7)throw _0x1c6934;}}}}catch(_0x291ab4){_0x326db4=!0x0,_0x2eccd2=_0x291ab4;}finally{try{!_0x57ee52&&_0x512ba5[_0x1cd8('0xa1')]&&_0x512ba5['return']();}finally{if(_0x326db4)throw _0x2eccd2;}}}}},{'key':'dispose','value':function(){}},{'key':'disposeAll','value':function(){for(var _0x1e8360=0x0,_0x326db4=this[_0x1cd8('0x98c')]['length'];_0x1e8360<_0x326db4;_0x1e8360++)this['groundThemes'][_0x1e8360][_0x1cd8('0xde')](),this['groundThemes'][_0x1e8360]=null;for(var _0x2eccd2=this[_0x1cd8('0x98c')][_0x1cd8('0xc')]=0x0,_0x445d75=this[_0x1cd8('0x941')][_0x1cd8('0xc')];_0x2eccd2<_0x445d75;_0x2eccd2++)this[_0x1cd8('0x941')][_0x2eccd2][_0x1cd8('0xde')](),this[_0x1cd8('0x941')][_0x2eccd2]=null;this[_0x1cd8('0x941')][_0x1cd8('0xc')]=0x0;}}]),_0x326db4['default']=_0x301628;},function(_0x4378cd,_0xdd9c0f,_0x29b7e4){'use strict';Object['defineProperty'](_0xdd9c0f,'__esModule',{'value':!0x0});var _0x27f340=_0x4127c3(_0x29b7e4(0x39)),_0x143851=_0x4127c3(_0x29b7e4(0x4)),_0x29860a=_0x4127c3(_0x29b7e4(0x0)),_0x5a5300=_0x4127c3(_0x29b7e4(0x1)),_0x3fa10a=_0x29b7e4(0x1a),_0x291ecb=_0x29b7e4(0x103),_0x52efac=_0x4127c3(_0x29b7e4(0x3c));function _0x4127c3(_0x4378cd){return _0x4378cd&&_0x4378cd[_0x1cd8('0x6')]?_0x4378cd:{'default':_0x4378cd};}function _0x44e8c1(){(0x0,_0x29860a[_0x1cd8('0xa')])(this,_0x44e8c1),this[_0x1cd8('0xdf')]=(0x0,_0x3fa10a[_0x1cd8('0x30')])(),this[_0x1cd8('0x4fb')]=null,this[_0x1cd8('0x98f')]=null,this[_0x1cd8('0x990')]=[],this[_0x1cd8('0x90f')]=[],this['tileBuildingLight']=null,this[_0x1cd8('0x8f8')]=null,this[_0x1cd8('0x991')]=[];}(0x0,_0x5a5300[_0x1cd8('0xa')])(_0x44e8c1,[{'key':'addPointLights','value':function(_0x4378cd){if(0x0!=_0x4378cd[_0x1cd8('0xc')]){var _0xdd9c0f=!0x0,_0x29b7e4=!0x1,_0x27f340=void 0x0;try{for(var _0x29860a,_0x5a5300=(0x0,_0x143851[_0x1cd8('0xa')])(_0x4378cd);!(_0xdd9c0f=(_0x29860a=_0x5a5300['next']())['done']);_0xdd9c0f=!0x0){var _0x291ecb,_0x52efac=_0x29860a[_0x1cd8('0xf')],_0x4127c3=new THREE[(_0x1cd8('0x992'))]();_0x52efac[_0x1cd8('0x7f')]&&(_0x4127c3['name']=_0x52efac['name']),_0x52efac[_0x1cd8('0x220')]&&(_0x4127c3[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x52efac[_0x1cd8('0x220')])),_0x52efac['intensity']&&(_0x4127c3[_0x1cd8('0x475')]=_0x52efac['intensity']),_0x52efac[_0x1cd8('0x993')]&&(_0x4127c3[_0x1cd8('0x994')]=_0x52efac[_0x1cd8('0x993')]),_0x52efac['position']&&(0x0,_0x3fa10a[_0x1cd8('0x31')])(_0x4127c3,_0x52efac[_0x1cd8('0x3f')],_0x52efac[_0x1cd8('0x3f')][_0x1cd8('0x2f1')]),_0x52efac['debug']&&(_0x291ecb=new THREE[(_0x1cd8('0x995'))](_0x4127c3,0x1e),this[_0x1cd8('0xdf')][_0x1cd8('0x466')]['scene']['add'](_0x291ecb)),this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')]['add'](_0x4127c3),this[_0x1cd8('0x990')][_0x1cd8('0x70')](_0x4127c3);}}catch(_0x4c93ad){_0x29b7e4=!0x0,_0x27f340=_0x4c93ad;}finally{try{!_0xdd9c0f&&_0x5a5300[_0x1cd8('0xa1')]&&_0x5a5300['return']();}finally{if(_0x29b7e4)throw _0x27f340;}}}}},{'key':_0x1cd8('0x996'),'value':function(_0x4378cd,_0xdd9c0f){var _0x29b7e4=!0x0,_0x27f340=!0x1,_0x29860a=void 0x0;try{for(var _0x5a5300,_0x291ecb=(0x0,_0x143851[_0x1cd8('0xa')])(this[_0x1cd8('0x931')]);!(_0x29b7e4=(_0x5a5300=_0x291ecb[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x29b7e4=!0x0){var _0x52efac=_0x5a5300[_0x1cd8('0xf')];if(_0x4378cd[_0x1cd8('0x7f')]===_0x52efac[_0x1cd8('0x7f')]){_0x4378cd[_0x1cd8('0x220')]&&(pointLight[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x4378cd[_0x1cd8('0x220')])),_0xdd9c0f[_0x1cd8('0x475')]&&(pointLight['intensity']=_0xdd9c0f['intensity']),_0xdd9c0f[_0x1cd8('0x993')]&&(pointLight[_0x1cd8('0x994')]=_0xdd9c0f[_0x1cd8('0x993')]),_0xdd9c0f['position']&&(0x0,_0x3fa10a['setPositionFromMc'])(pointLight,_0xdd9c0f[_0x1cd8('0x3f')],_0xdd9c0f['position'][_0x1cd8('0x2f1')]);break;}}}catch(_0x43f95e){_0x27f340=!0x0,_0x29860a=_0x43f95e;}finally{try{!_0x29b7e4&&_0x291ecb['return']&&_0x291ecb[_0x1cd8('0xa1')]();}finally{if(_0x27f340)throw _0x29860a;}}}},{'key':'addDirectLights','value':function(_0x4378cd){if(0x0!=_0x4378cd[_0x1cd8('0xc')]){var _0xdd9c0f=!0x0,_0x29b7e4=!0x1,_0x27f340=void 0x0;try{for(var _0x29860a,_0x5a5300=(0x0,_0x143851[_0x1cd8('0xa')])(_0x4378cd);!(_0xdd9c0f=(_0x29860a=_0x5a5300[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xdd9c0f=!0x0){var _0x291ecb,_0x52efac,_0x4127c3,_0x44e8c1,_0xc4882a,_0x5c2b8e=_0x29860a['value'];_0x5c2b8e[_0x1cd8('0x997')]?((_0x291ecb=this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x5c2b8e[_0x1cd8('0x997')]])&&(_0x291ecb['_originConfig']={},_0x5c2b8e[_0x1cd8('0x997')]&&(_0x291ecb[_0x1cd8('0x7f')]=_0x5c2b8e['replaceLight']),!0x1===_0x5c2b8e[_0x1cd8('0x327')]&&(_0x291ecb['visible']=!0x1),_0x5c2b8e[_0x1cd8('0x220')]&&(_0x291ecb[_0x1cd8('0x998')][_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x1c6')](_0x291ecb[_0x1cd8('0x220')]),_0x291ecb[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x5c2b8e[_0x1cd8('0x220')])),_0x5c2b8e[_0x1cd8('0x475')]&&(_0x291ecb[_0x1cd8('0x998')][_0x1cd8('0x475')]=_0x291ecb[_0x1cd8('0x475')],_0x291ecb[_0x1cd8('0x475')]=_0x5c2b8e[_0x1cd8('0x475')]),_0x5c2b8e[_0x1cd8('0x230')]&&(_0x291ecb[_0x1cd8('0x998')][_0x1cd8('0x3f')]=new THREE[(_0x1cd8('0x57'))]()['copy'](_0x291ecb[_0x1cd8('0x3f')]),_0x291ecb[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x5c2b8e[_0x1cd8('0x230')]['x'],_0x5c2b8e[_0x1cd8('0x230')]['y'],_0x5c2b8e['direction']['z'])),void 0x0!==_0x5c2b8e[_0x1cd8('0x2c8')]&&void 0x0!==_0x5c2b8e[_0x1cd8('0x2b4')]&&(_0x52efac=(0x0,_0x3fa10a[_0x1cd8('0x2a')])(_0x5c2b8e[_0x1cd8('0x2b4')],_0x5c2b8e[_0x1cd8('0x2c8')]),_0x291ecb[_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x52efac),_0x291ecb[_0x1cd8('0x2c8')]=_0x5c2b8e['directionAngle'],_0x291ecb['pitchAngle']=_0x5c2b8e['pitchAngle']),_0x5c2b8e[_0x1cd8('0x2b7')]&&(_0x291ecb[_0x1cd8('0x998')][_0x1cd8('0x2b7')]=new THREE[(_0x1cd8('0x57'))]()['copy'](_0x291ecb[_0x1cd8('0x2b7')]),_0x291ecb[_0x1cd8('0x2b7')][_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x5c2b8e['target']['x'],_0x5c2b8e[_0x1cd8('0x2b7')]['y'],_0x5c2b8e[_0x1cd8('0x2b7')]['z']),_0x291ecb[_0x1cd8('0x2b7')][_0x1cd8('0x7dc')]()),_0x5c2b8e[_0x1cd8('0x58f')]&&(_0x44e8c1=0x64,_0xc4882a=new THREE[(_0x1cd8('0x999'))](_0x291ecb,_0x44e8c1),_0x291ecb[_0x1cd8('0x7c1')]=_0xc4882a,this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](_0xc4882a))),this[_0x1cd8('0x90f')]['push'](_0x291ecb)):((_0x4127c3=new THREE[(_0x1cd8('0x99a'))]())['_originConfig']={},_0x5c2b8e[_0x1cd8('0x7f')]&&(_0x4127c3['name']=_0x5c2b8e[_0x1cd8('0x7f')]),_0x5c2b8e['color']&&(_0x4127c3[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x5c2b8e[_0x1cd8('0x220')]),_0x4127c3[_0x1cd8('0x998')]['color']=new THREE[(_0x1cd8('0x1c3'))]()['copy'](_0x4127c3[_0x1cd8('0x220')])),_0x5c2b8e[_0x1cd8('0x475')]&&(_0x4127c3['intensity']=_0x5c2b8e['intensity'],_0x4127c3[_0x1cd8('0x998')][_0x1cd8('0x475')]=_0x5c2b8e['intensity']),_0x5c2b8e[_0x1cd8('0x230')]&&_0x4127c3[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x5c2b8e[_0x1cd8('0x230')]['x'],_0x5c2b8e[_0x1cd8('0x230')]['y'],_0x5c2b8e[_0x1cd8('0x230')]['z']),_0x5c2b8e[_0x1cd8('0x2b7')]&&(_0x4127c3['target'][_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x5c2b8e['target']['x'],_0x5c2b8e[_0x1cd8('0x2b7')]['y'],_0x5c2b8e[_0x1cd8('0x2b7')]['z']),_0x4127c3[_0x1cd8('0x2b7')]['updateMatrixWorld']()),void 0x0!==_0x5c2b8e['directionAngle']&&void 0x0!==_0x5c2b8e['pitchAngle']&&(_0x4127c3[_0x1cd8('0x3f')][_0x1cd8('0x1c6')]((0x0,_0x3fa10a[_0x1cd8('0x2a')])(_0x5c2b8e[_0x1cd8('0x2b4')],_0x5c2b8e[_0x1cd8('0x2c8')])),_0x4127c3[_0x1cd8('0x2c8')]=_0x5c2b8e[_0x1cd8('0x2c8')],_0x4127c3[_0x1cd8('0x2b4')]=_0x5c2b8e[_0x1cd8('0x2b4')]),_0x5c2b8e[_0x1cd8('0x58f')]&&(_0x44e8c1=0x64,_0xc4882a=new THREE[(_0x1cd8('0x999'))](_0x4127c3,_0x44e8c1),_0x4127c3[_0x1cd8('0x7c1')]=_0xc4882a,this['map'][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](_0xc4882a)),_0x5c2b8e[_0x1cd8('0x99b')]&&(this[_0x1cd8('0x99b')]=_0x4127c3),this[_0x1cd8('0xdf')][_0x1cd8('0x466')]['scene']['add'](_0x4127c3),this[_0x1cd8('0x90f')]['push'](_0x4127c3));}}catch(_0x62401e){_0x29b7e4=!0x0,_0x27f340=_0x62401e;}finally{try{!_0xdd9c0f&&_0x5a5300[_0x1cd8('0xa1')]&&_0x5a5300[_0x1cd8('0xa1')]();}finally{if(_0x29b7e4)throw _0x27f340;}}}}},{'key':_0x1cd8('0x99c'),'value':function(_0x4378cd,_0xdd9c0f,_0x29b7e4){var _0x27f340=(0x0,_0x3fa10a[_0x1cd8('0x2a')])(_0xdd9c0f[_0x1cd8('0x2b4')],_0xdd9c0f['directionAngle']);_0x29b7e4[_0x1cd8('0x994')]&&_0x27f340[_0x1cd8('0x1cc')](_0x29b7e4[_0x1cd8('0x994')]),_0x29b7e4['isInfinite']?(_0x4378cd[_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x27f340),_0x4378cd[_0x1cd8('0x3f')][_0x1cd8('0x1cb')]()[_0x1cd8('0x1cc')](_0x29b7e4[_0x1cd8('0x994')])[_0x1cd8('0x1cd')](new THREE['Vector3'](this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['x'],0x0,this[_0x1cd8('0xdf')]['controls'][_0x1cd8('0x2b7')]['z'])),_0x4378cd[_0x1cd8('0x2b7')]['position'][_0x1cd8('0x1c6')](new THREE[(_0x1cd8('0x57'))](this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['target']['x'],0x0,this[_0x1cd8('0xdf')]['controls']['target']['z'])),_0x4378cd[_0x1cd8('0x2b7')][_0x1cd8('0x7dc')](!0x0)):_0x4378cd[_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x27f340),_0x4378cd['directionAngle']=_0xdd9c0f[_0x1cd8('0x2c8')],_0x4378cd[_0x1cd8('0x2b4')]=_0xdd9c0f[_0x1cd8('0x2b4')],_0x4378cd[_0x1cd8('0x7c1')]&&(0x1<_0x29b7e4[_0x1cd8('0x99d')]&&_0x4378cd[_0x1cd8('0x7c1')][_0x1cd8('0x99e')]['scale']['multiplyScalar'](_0x29b7e4[_0x1cd8('0x99d')]),_0x4378cd[_0x1cd8('0x7c1')][_0x1cd8('0x2d3')]());}},{'key':_0x1cd8('0x910'),'value':function(_0x4378cd,_0xdd9c0f,_0x29b7e4){var _0x27f340=!0x0,_0x29860a=!0x1,_0x5a5300=void 0x0;try{for(var _0x291ecb,_0x52efac=(0x0,_0x143851[_0x1cd8('0xa')])(_0xdd9c0f);!(_0x27f340=(_0x291ecb=_0x52efac[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x27f340=!0x0){var _0x4127c3=_0x291ecb[_0x1cd8('0xf')];_0x4378cd[_0x1cd8('0x7f')]===_0x4127c3['name']&&(!0x1===_0x4127c3[_0x1cd8('0x327')]&&(_0x4378cd[_0x1cd8('0x327')]=!0x1),_0x4127c3[_0x1cd8('0x220')]?_0x4378cd[_0x1cd8('0x220')]=new THREE[(_0x1cd8('0x1c3'))]()['setStyle'](_0x4127c3[_0x1cd8('0x220')]):_0x4378cd[_0x1cd8('0x998')]&&_0x4378cd[_0x1cd8('0x998')][_0x1cd8('0x220')]&&_0x4378cd['color']['copy'](_0x4378cd[_0x1cd8('0x998')][_0x1cd8('0x220')]),_0x4127c3[_0x1cd8('0x475')]?_0x29b7e4?this[_0x1cd8('0x99f')](_0x4378cd,_0x4127c3[_0x1cd8('0x475')]):_0x4378cd['intensity']=_0x4127c3[_0x1cd8('0x475')]:_0x29b7e4?_0x4378cd[_0x1cd8('0x998')]&&_0x4378cd[_0x1cd8('0x998')][_0x1cd8('0x475')]&&this[_0x1cd8('0x99f')](_0x4378cd,_0x4378cd[_0x1cd8('0x998')][_0x1cd8('0x475')]):_0x4378cd['_originConfig']&&_0x4378cd[_0x1cd8('0x998')]['intensity']&&(_0x4378cd['intensity']=_0x4378cd['_originConfig']['intensity']),_0x1cd8('0x9a0')===_0x4127c3['name']&&this['map'][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x41d')]||(_0x4127c3['direction']?_0x4378cd[_0x1cd8('0x3f')]['set'](_0x4127c3['direction']['x'],_0x4127c3[_0x1cd8('0x230')]['y'],_0x4127c3['direction']['z']):_0x4378cd[_0x1cd8('0x998')]&&_0x4378cd[_0x1cd8('0x998')]['position']&&_0x4378cd[_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x4378cd[_0x1cd8('0x998')]['position']),_0x4127c3[_0x1cd8('0x2b7')]?(_0x4378cd[_0x1cd8('0x2b7')][_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x4127c3[_0x1cd8('0x2b7')]['x'],_0x4127c3[_0x1cd8('0x2b7')]['y'],_0x4127c3[_0x1cd8('0x2b7')]['z']),_0x4378cd[_0x1cd8('0x2b7')][_0x1cd8('0x7dc')]()):_0x4378cd['_originConfig']&&_0x4378cd['_originConfig']['target']&&(_0x4378cd['target'][_0x1cd8('0x1c6')](_0x4378cd['_originConfig']['target']),_0x4378cd['target'][_0x1cd8('0x7dc')]())));}}catch(_0x56bbba){_0x29860a=!0x0,_0x5a5300=_0x56bbba;}finally{try{!_0x27f340&&_0x52efac[_0x1cd8('0xa1')]&&_0x52efac[_0x1cd8('0xa1')]();}finally{if(_0x29860a)throw _0x5a5300;}}}},{'key':_0x1cd8('0x9a1'),'value':function(){var _0x4378cd=!0x0,_0xdd9c0f=!0x1,_0x29b7e4=void 0x0;try{for(var _0x27f340,_0x29860a=(0x0,_0x143851[_0x1cd8('0xa')])(this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x45f')][_0x1cd8('0x315')]);!(_0x4378cd=(_0x27f340=_0x29860a[_0x1cd8('0x7e')]())['done']);_0x4378cd=!0x0){var _0x5a5300=_0x27f340[_0x1cd8('0xf')];if(_0x1cd8('0x9a2')==_0x5a5300[_0x1cd8('0x101')]){this['ambientLight']=_0x5a5300;break;}}}catch(_0x51a628){_0xdd9c0f=!0x0,_0x29b7e4=_0x51a628;}finally{try{!_0x4378cd&&_0x29860a['return']&&_0x29860a['return']();}finally{if(_0xdd9c0f)throw _0x29b7e4;}}}},{'key':_0x1cd8('0x90e'),'value':function(_0x4378cd){if(!this[_0x1cd8('0x98f')]){var _0xdd9c0f=!0x0,_0x29b7e4=!0x1,_0x27f340=void 0x0;try{for(var _0x29860a,_0x5a5300=(0x0,_0x143851[_0x1cd8('0xa')])(this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x315')]);!(_0xdd9c0f=(_0x29860a=_0x5a5300[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xdd9c0f=!0x0){var _0x291ecb=_0x29860a[_0x1cd8('0xf')];if(_0x1cd8('0x9a2')==_0x291ecb['type']){this[_0x1cd8('0x98f')]=_0x291ecb;break;}}}catch(_0xf14138){_0x29b7e4=!0x0,_0x27f340=_0xf14138;}finally{try{!_0xdd9c0f&&_0x5a5300[_0x1cd8('0xa1')]&&_0x5a5300[_0x1cd8('0xa1')]();}finally{if(_0x29b7e4)throw _0x27f340;}}}this[_0x1cd8('0x98f')]&&(_0x4378cd[_0x1cd8('0x220')]&&this[_0x1cd8('0x98f')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x4378cd[_0x1cd8('0x220')]),_0x4378cd['intensity']&&(this[_0x1cd8('0x98f')][_0x1cd8('0x9a3')]||(this[_0x1cd8('0x98f')][_0x1cd8('0x9a3')]=this[_0x1cd8('0x98f')]['intensity']),_0x4378cd[_0x1cd8('0x675')]?this[_0x1cd8('0x99f')](this[_0x1cd8('0x98f')],_0x4378cd[_0x1cd8('0x475')])['then'](function(){_0x4378cd[_0x1cd8('0x334')]&&_0x4378cd[_0x1cd8('0x334')]();}):this[_0x1cd8('0x98f')]['intensity']=_0x4378cd['intensity']),_0x4378cd['isRecover']&&this['lightAnimate'](this[_0x1cd8('0x98f')],this[_0x1cd8('0x98f')][_0x1cd8('0x9a3')])[_0x1cd8('0x349')](function(){_0x4378cd['callback']&&_0x4378cd['callback']();}));}},{'key':_0x1cd8('0x99f'),'value':function(_0x29b7e4,_0xdd9c0f){return new _0x27f340[(_0x1cd8('0xa'))](function(_0x4378cd){new TWEEN[(_0x1cd8('0x2cd'))]({'intensity':_0x29b7e4['intensity']})['to']({'intensity':_0xdd9c0f},0x7d0)[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')]['Linear'][_0x1cd8('0x3fe')])[_0x1cd8('0x2d2')](function(_0x4378cd,_0xdd9c0f){_0x29b7e4['intensity']=_0x4378cd[_0x1cd8('0x475')];})[_0x1cd8('0x2d4')](function(){_0x4378cd();})['start']();});}},{'key':_0x1cd8('0x92b'),'value':function(_0xdd9c0f){var _0x4378cd=_0xdd9c0f['configs'];if(_0xdd9c0f[_0x1cd8('0x675')],_0xdd9c0f[_0x1cd8('0x9a4')],_0x4378cd[_0x1cd8('0x98f')]&&this[_0x1cd8('0x90e')](_0x4378cd[_0x1cd8('0x98f')]),_0x4378cd[_0x1cd8('0x89b')]){var _0x29b7e4=!0x0,_0xdd9c0f=!0x1,_0x27f340=void 0x0;try{for(var _0x29860a,_0x5a5300=(0x0,_0x143851['default'])(this[_0x1cd8('0x90f')]);!(_0x29b7e4=(_0x29860a=_0x5a5300[_0x1cd8('0x7e')]())['done']);_0x29b7e4=!0x0){var _0x291ecb=_0x29860a[_0x1cd8('0xf')];this[_0x1cd8('0x910')](_0x291ecb,_0x4378cd[_0x1cd8('0x89b')]);}}catch(_0x15fdee){_0xdd9c0f=!0x0,_0x27f340=_0x15fdee;}finally{try{!_0x29b7e4&&_0x5a5300['return']&&_0x5a5300['return']();}finally{if(_0xdd9c0f)throw _0x27f340;}}}if(_0x4378cd[_0x1cd8('0x89a')]){var _0x52efac=!0x0,_0xdd9c0f=!0x1,_0x27f340=void 0x0;try{for(var _0x4127c3,_0x44e8c1=(0x0,_0x143851[_0x1cd8('0xa')])(this[_0x1cd8('0x990')]);!(_0x52efac=(_0x4127c3=_0x44e8c1['next']())[_0x1cd8('0x8e')]);_0x52efac=!0x0){var _0x1f6440=_0x4127c3['value'];this[_0x1cd8('0x996')](_0x1f6440,_0x4378cd['pointLight']);}}catch(_0x1b15f8){_0xdd9c0f=!0x0,_0x27f340=_0x1b15f8;}finally{try{!_0x52efac&&_0x44e8c1['return']&&_0x44e8c1[_0x1cd8('0xa1')]();}finally{if(_0xdd9c0f)throw _0x27f340;}}}}},{'key':'initEnvTexture','value':function(_0xdd9c0f){if(_0xdd9c0f&&_0xdd9c0f[_0x1cd8('0x9a5')]&&0x0<_0xdd9c0f[_0x1cd8('0x9a5')][_0x1cd8('0xc')]&&!this['envTextureCube'])if(_0xdd9c0f[_0x1cd8('0x101')]&&_0x1cd8('0x9a6')===_0xdd9c0f[_0x1cd8('0x101')])this['createPMREMEnvTexture'](_0xdd9c0f);else{for(var _0x29b7e4=this,_0x4378cd=0x0,_0x27f340=_0xdd9c0f[_0x1cd8('0x9a5')]['length'];_0x4378cd<_0x27f340;_0x4378cd++)_0xdd9c0f['imgPaths'][_0x4378cd]=(0x0,_0x3fa10a[_0x1cd8('0x520')])(_0xdd9c0f[_0x1cd8('0x9a5')][_0x4378cd]);this[_0x1cd8('0x8f8')]=new THREE['CubeTextureLoader']()[_0x1cd8('0x9d')](_0xdd9c0f[_0x1cd8('0x9a5')],function(_0x4378cd){_0xdd9c0f[_0x1cd8('0x80a')]&&(_0x4378cd[_0x1cd8('0x464')]=THREE['sRGBEncoding']),_0xdd9c0f[_0x1cd8('0x9a7')]||_0x29b7e4[_0x1cd8('0x9a8')](_0xdd9c0f),_0x4378cd[_0x1cd8('0x7f')]=_0xdd9c0f['name']||'',_0x29b7e4[_0x1cd8('0x991')]['push'](_0x4378cd);});}}},{'key':_0x1cd8('0x9a8'),'value':function(_0x4378cd){this[_0x1cd8('0x9a9')]=new THREE[(_0x1cd8('0x9aa'))](),this['map']['mapView'][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](this[_0x1cd8('0x9a9')]),this[_0x1cd8('0x9a9')][_0x1cd8('0x1c6')](_0x291ecb[_0x1cd8('0x9ab')][_0x1cd8('0x9ac')](this[_0x1cd8('0x8f8')])),_0x4378cd['intensity']&&(this[_0x1cd8('0x9a9')][_0x1cd8('0x475')]=_0x4378cd['intensity']);}},{'key':'updateLightProbe','value':function(_0xdd9c0f){var _0x29b7e4=this;if(this[_0x1cd8('0x9a9')]&&_0xdd9c0f[_0x1cd8('0x7f')]){var _0x4378cd=this[_0x1cd8('0x9ad')](_0xdd9c0f[_0x1cd8('0x7f')]);if(_0x4378cd)this[_0x1cd8('0x9a9')][_0x1cd8('0x1c6')](_0x291ecb['LightProbeGenerator'][_0x1cd8('0x9ac')](_0x4378cd)),this[_0x1cd8('0x9a9')]['intensity']=_0xdd9c0f[_0x1cd8('0x475')],this['models']&&this[_0x1cd8('0x4fb')][_0x1cd8('0x9ae')](_0x4378cd),this[_0x1cd8('0x8f8')]=_0x4378cd;else{for(var _0x27f340=0x0,_0x29860a=_0xdd9c0f[_0x1cd8('0x9a5')]['length'];_0x27f340<_0x29860a;_0x27f340++)_0xdd9c0f['imgPaths'][_0x27f340]=(0x0,_0x3fa10a[_0x1cd8('0x520')])(_0xdd9c0f[_0x1cd8('0x9a5')][_0x27f340]);_0x52efac['default'][_0x1cd8('0x46b')](_0xdd9c0f[_0x1cd8('0x9a5')])[_0x1cd8('0x349')](function(_0x4378cd){_0x4378cd['name']=_0xdd9c0f[_0x1cd8('0x7f')],_0x29b7e4[_0x1cd8('0x9a9')][_0x1cd8('0x1c6')](_0x291ecb[_0x1cd8('0x9ab')]['fromCubeTexture'](_0x4378cd)),_0x29b7e4[_0x1cd8('0x9a9')][_0x1cd8('0x475')]=_0xdd9c0f[_0x1cd8('0x475')],_0x29b7e4['models']&&_0x29b7e4[_0x1cd8('0x4fb')][_0x1cd8('0x9ae')](_0x4378cd),_0x29b7e4['envTextureCube']=_0x4378cd,_0x29b7e4['envTextureCubes'][_0x1cd8('0x70')](_0x4378cd);});}this[_0x1cd8('0x9a9')][_0x1cd8('0x475')]=_0xdd9c0f[_0x1cd8('0x475')];}}},{'key':_0x1cd8('0x9af'),'value':function(_0x4378cd,_0xdd9c0f){var _0x29b7e4=this;_0x4378cd!=_0xdd9c0f&&new TWEEN[(_0x1cd8('0x2cd'))]({'x':_0x4378cd})['to']({'x':_0xdd9c0f},0x3e8)['easing'](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x3fd')][_0x1cd8('0x3fe')])[_0x1cd8('0x2d2')](function(_0x4378cd){_0x29b7e4['lightProbe']['intensity']=_0x4378cd['x'];})[_0x1cd8('0x2d1')]();}},{'key':'getTextureCubeByName','value':function(_0x4378cd){var _0xdd9c0f=!0x0,_0x29b7e4=!0x1,_0x27f340=void 0x0;try{for(var _0x29860a,_0x5a5300=(0x0,_0x143851['default'])(this['envTextureCubes']);!(_0xdd9c0f=(_0x29860a=_0x5a5300[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xdd9c0f=!0x0){var _0x291ecb=_0x29860a[_0x1cd8('0xf')];if(_0x291ecb[_0x1cd8('0x7f')]===_0x4378cd)return _0x291ecb;}}catch(_0x110a03){_0x29b7e4=!0x0,_0x27f340=_0x110a03;}finally{try{!_0xdd9c0f&&_0x5a5300['return']&&_0x5a5300['return']();}finally{if(_0x29b7e4)throw _0x27f340;}}return null;}},{'key':_0x1cd8('0x9b0'),'value':function(_0x4378cd){var _0xdd9c0f,_0x29b7e4=this;0x1===_0x4378cd[_0x1cd8('0x9a5')][_0x1cd8('0xc')]&&(_0x4378cd=(0x0,_0x3fa10a[_0x1cd8('0x520')])(_0x4378cd[_0x1cd8('0x9a5')][0x0]),_0xdd9c0f=new ESWorldMapTools['EnvTextureLoader'](this[_0x1cd8('0xdf')]),this[_0x1cd8('0x8f8')]=new THREE['Texture'](),_0xdd9c0f[_0x1cd8('0x6c6')]({'texPath':_0x4378cd,'resolutionSize':0x200})['then'](function(_0x4378cd){_0x29b7e4[_0x1cd8('0x8f8')]=_0x4378cd;}));}},{'key':_0x1cd8('0xde'),'value':function(){for(var _0x4378cd=0x0,_0xdd9c0f=this[_0x1cd8('0x990')]['length'];_0x4378cd<_0xdd9c0f;_0x4378cd++)this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')]['remove'](this['pointLights'][_0x4378cd]);for(var _0x29b7e4=0x0,_0x27f340=this[_0x1cd8('0x90f')][_0x1cd8('0xc')];_0x29b7e4<_0x27f340;_0x29b7e4++)this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0xe1')](this['directionalLights'][_0x29b7e4]);}}]),_0xdd9c0f[_0x1cd8('0xa')]=_0x44e8c1;},function(_0x2523fd,_0x378377,_0x4d67b8){'use strict';Object[_0x1cd8('0x4')](_0x378377,'__esModule',{'value':!0x0}),_0x378377['LightProbeGenerator']={'fromCubeTexture':function(_0x2523fd){for(var _0x378377,_0x4d67b8=0x0,_0x15bd5e=new THREE[(_0x1cd8('0x57'))](),_0x292f8f=new THREE['Vector3'](),_0xfd1a96=new THREE['Color'](),_0x193222=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x3ae573=new THREE[(_0x1cd8('0x9b1'))](),_0x12baa9=_0x3ae573[_0x1cd8('0x9b2')],_0x585e03=0x0;_0x585e03<0x6;_0x585e03++)for(var _0x29c9c7=_0x2523fd[_0x1cd8('0x7f4')][_0x585e03],_0x417c8f=_0x29c9c7['width'],_0x5e6d1b=_0x29c9c7['height'],_0x4bc998=document['createElement'](_0x1cd8('0x470')),_0x4bc998=(_0x4bc998[_0x1cd8('0x320')]=_0x417c8f,_0x4bc998['height']=_0x5e6d1b,_0x4bc998[_0x1cd8('0x471')]('2d')),_0x29c9c7=(_0x4bc998[_0x1cd8('0x9b3')](_0x29c9c7,0x0,0x0,_0x417c8f,_0x5e6d1b),_0x4bc998[_0x1cd8('0x878')](0x0,0x0,_0x417c8f,_0x5e6d1b)),_0x3abb54=_0x29c9c7[_0x1cd8('0x292')],_0x2f4a8c=_0x29c9c7[_0x1cd8('0x320')],_0x45bdb5=0x2/_0x2f4a8c,_0x5bec00=0x0,_0x1936e0=_0x3abb54[_0x1cd8('0xc')];_0x5bec00<_0x1936e0;_0x5bec00+=0x4){_0xfd1a96[_0x1cd8('0x1ce')](_0x3abb54[_0x5bec00]/0xff,_0x3abb54[_0x5bec00+0x1]/0xff,_0x3abb54[_0x5bec00+0x2]/0xff),_0xfd1a96[_0x1cd8('0x9b4')](_0xfd1a96);var _0x38b2ff=_0x5bec00/0x4,_0x4660d5=(_0x38b2ff%_0x2f4a8c+0.5)*_0x45bdb5-0x1,_0x1e8ee6=0x1-(Math[_0x1cd8('0x6d')](_0x38b2ff/_0x2f4a8c)+0.5)*_0x45bdb5;switch(_0x585e03){case 0x0:_0x15bd5e[_0x1cd8('0x1b')](-0x1,_0x1e8ee6,-_0x4660d5);break;case 0x1:_0x15bd5e[_0x1cd8('0x1b')](0x1,_0x1e8ee6,_0x4660d5);break;case 0x2:_0x15bd5e[_0x1cd8('0x1b')](-_0x4660d5,0x1,-_0x1e8ee6);break;case 0x3:_0x15bd5e[_0x1cd8('0x1b')](-_0x4660d5,-0x1,_0x1e8ee6);break;case 0x4:_0x15bd5e[_0x1cd8('0x1b')](-_0x4660d5,_0x1e8ee6,0x1);break;case 0x5:_0x15bd5e[_0x1cd8('0x1b')](_0x4660d5,_0x1e8ee6,-0x1);}_0x38b2ff=_0x15bd5e['lengthSq'](),_0x4d67b8+=_0x378377=0x4/(Math[_0x1cd8('0x1c8')](_0x38b2ff)*_0x38b2ff),_0x292f8f[_0x1cd8('0x1c6')](_0x15bd5e)[_0x1cd8('0x1cb')](),THREE[_0x1cd8('0x9b1')][_0x1cd8('0x9b5')](_0x292f8f,_0x193222);for(var _0x4dea02=0x0;_0x4dea02<0x9;_0x4dea02++)_0x12baa9[_0x4dea02]['x']+=_0x193222[_0x4dea02]*_0xfd1a96['r']*_0x378377,_0x12baa9[_0x4dea02]['y']+=_0x193222[_0x4dea02]*_0xfd1a96['g']*_0x378377,_0x12baa9[_0x4dea02]['z']+=_0x193222[_0x4dea02]*_0xfd1a96['b']*_0x378377;}for(var _0x481804=0x4*Math['PI']/_0x4d67b8,_0x4dea02=0x0;_0x4dea02<0x9;_0x4dea02++)_0x12baa9[_0x4dea02]['x']*=_0x481804,_0x12baa9[_0x4dea02]['y']*=_0x481804,_0x12baa9[_0x4dea02]['z']*=_0x481804;return new THREE[(_0x1cd8('0x9aa'))](_0x3ae573);}};},function(_0xf25c93,_0x1f80e8,_0x162476){'use strict';Object[_0x1cd8('0x4')](_0x1f80e8,_0x1cd8('0x6'),{'value':!0x0});var _0xd83e1b=_0x53c54b(_0x162476(0x2f)),_0x5b1fda=_0x53c54b(_0x162476(0xf)),_0x1c7091=_0x53c54b(_0x162476(0x4)),_0x18c953=_0x53c54b(_0x162476(0x0)),_0x4e255d=_0x53c54b(_0x162476(0x1)),_0x47052f=_0x162476(0x1a),_0x235298=function(_0xf25c93){if(_0xf25c93&&_0xf25c93[_0x1cd8('0x6')])return _0xf25c93;var _0x1f80e8={};if(null!=_0xf25c93)for(var _0x162476 in _0xf25c93)Object[_0x1cd8('0x11')]['hasOwnProperty'][_0x1cd8('0x1')](_0xf25c93,_0x162476)&&(_0x1f80e8[_0x162476]=_0xf25c93[_0x162476]);return _0x1f80e8[_0x1cd8('0xa')]=_0xf25c93,_0x1f80e8;}(_0x162476(0x41)),_0x1ca9b2=_0x53c54b(_0x162476(0x105));function _0x53c54b(_0xf25c93){return _0xf25c93&&_0xf25c93['__esModule']?_0xf25c93:{'default':_0xf25c93};}function _0x28b75f(){(0x0,_0x18c953['default'])(this,_0x28b75f),this['map']=(0x0,_0x47052f[_0x1cd8('0x30')])(),this['tileRoute']=null,this['routesLineGroup']=new THREE['Group'](),this[_0x1cd8('0x8cc')]=[],this[_0x1cd8('0x9b6')]=!0x1,this['routesEffectLayer']=null,this[_0x1cd8('0x9b7')]={},this[_0x1cd8('0x9b8')]=!0x1,this[_0x1cd8('0x9b9')]=!0x1,this[_0x1cd8('0x9ba')]=null,this['tempColor']=new THREE[(_0x1cd8('0x1c3'))]();}_0x162476(0x106),(0x0,_0x4e255d['default'])(_0x28b75f,[{'key':'initHeight','value':function(){var _0xf25c93=((0x0,_0x47052f[_0x1cd8('0x33')])()||(0x0,_0x47052f[_0x1cd8('0x32')])()?this['map'][_0x1cd8('0x9bb')](0x0):this[_0x1cd8('0xdf')])[_0x1cd8('0x505')](0x1);this['routesLineGroup'][_0x1cd8('0x3f')]['y']=_0xf25c93,this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](this['routesLineGroup']);}},{'key':_0x1cd8('0x9bc'),'value':function(_0xf25c93,_0x1f80e8){_0xf25c93[_0x1cd8('0x432')]?_0xf25c93[_0x1cd8('0x9f')]=new THREE[(_0x1cd8('0x9b'))]()['load'](getConfigAssetsPath(_0xf25c93[_0x1cd8('0x432')])):_0xf25c93[_0x1cd8('0x9f')]=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')](getConfigAssetsPath('images/line/light_old.png'));var _0x162476=new _0x235298[(_0x1cd8('0xb7'))]({'camera':_0x1f80e8[_0x1cd8('0x2fb')],'texture':_0xf25c93[_0x1cd8('0x9f')],'colorStr':_0xf25c93['color'],'lineWidth':_0xf25c93[_0x1cd8('0x2fa')],'speed':_0xf25c93[_0x1cd8('0x326')]}),_0x18c953=(_0x162476[_0x1cd8('0x557')](this[_0x1cd8('0xdf')]),!0x0),_0x1f80e8=!0x1,_0x4e255d=void 0x0;try{for(var _0x53c54b,_0x28b75f=(0x0,_0x1c7091[_0x1cd8('0xa')])(_0xf25c93[_0x1cd8('0x406')]);!(_0x18c953=(_0x53c54b=_0x28b75f[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x18c953=!0x0){var _0x520110=_0x53c54b[_0x1cd8('0xf')],_0x530d9b=[],_0x346d8e=_0x520110[_0x1cd8('0x440')][0x0],_0x138370=!0x0,_0x283f12=!0x1,_0x262b21=void 0x0;try{for(var _0x59f2fd,_0x176ef5=(0x0,_0x1c7091[_0x1cd8('0xa')])(_0x520110[_0x1cd8('0x440')]);!(_0x138370=(_0x59f2fd=_0x176ef5[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x138370=!0x0){var _0x48c660,_0x424426,_0x3eab63=_0x59f2fd[_0x1cd8('0xf')];_0xf25c93['coordTrans']&&(_0x48c660=_0x1ca9b2[_0x1cd8('0xa')][_0x1cd8('0x345')](_0x3eab63['x'],_0x3eab63['y']),_0x424426=_0x1ca9b2[_0x1cd8('0xa')]['lonLanToMc'](_0x48c660[0x0],_0x48c660[0x1]),_0x3eab63['x']=_0x424426[0x0],_0x3eab63['y']=_0x424426[0x1]),_0x530d9b[_0x1cd8('0x70')](new THREE[(_0x1cd8('0x57'))](-_0x3eab63['x'],_0x3eab63[_0x1cd8('0x10a')],_0x3eab63['y']));}}catch(_0x4d5d3a){_0x283f12=!0x0,_0x262b21=_0x4d5d3a;}finally{try{!_0x138370&&_0x176ef5[_0x1cd8('0xa1')]&&_0x176ef5[_0x1cd8('0xa1')]();}finally{if(_0x283f12)throw _0x262b21;}}var _0x4d9e2e=_0x162476['addLine'](_0x530d9b);(0x0,_0x47052f[_0x1cd8('0x31')])(_0x4d9e2e,_0x346d8e,_0xf25c93[_0x1cd8('0x2f1')]),_0xf25c93['isHightLight']&&_0x4d9e2e[_0x1cd8('0x566')][_0x1cd8('0x216')](0x1);}}catch(_0x55dcdd){_0x1f80e8=!0x0,_0x4e255d=_0x55dcdd;}finally{try{!_0x18c953&&_0x28b75f['return']&&_0x28b75f[_0x1cd8('0xa1')]();}finally{if(_0x1f80e8)throw _0x4e255d;}}return _0x162476;}},{'key':_0x1cd8('0x9bd'),'value':function(_0xf25c93,_0x1f80e8){if(this['initHeight'](),(0x0,_0x47052f[_0x1cd8('0x32')])())_0x1f80e8['mapId']&&this['map'][_0x1cd8('0x5a0')]['navData']&&this[_0x1cd8('0xdf')]['mapService'][_0x1cd8('0x8df')][_0x1f80e8[_0x1cd8('0x8ed')]]&&this['computeNavDataToRoutesData'](this[_0x1cd8('0xdf')][_0x1cd8('0x5a0')]['navData'][_0x1f80e8['mapId']][_0x1cd8('0x9be')][0x0],_0x1f80e8);else{var _0x162476=!0x0,_0x18c953=!0x1,_0x4e255d=void 0x0;try{for(var _0x53c54b,_0x28b75f=(0x0,_0x1c7091['default'])(this['map'][_0x1cd8('0x9bf')]);!(_0x162476=(_0x53c54b=_0x28b75f['next']())[_0x1cd8('0x8e')]);_0x162476=!0x0){var _0x32896b=_0x53c54b[_0x1cd8('0xf')];if(_0x32896b[_0x1cd8('0x9c0')]===_0xf25c93){this[_0x1cd8('0x9c1')](_0x32896b,_0x1f80e8);break;}}}catch(_0x18c33d){_0x18c953=!0x0,_0x4e255d=_0x18c33d;}finally{try{!_0x162476&&_0x28b75f['return']&&_0x28b75f['return']();}finally{if(_0x18c953)throw _0x4e255d;}}}}},{'key':_0x1cd8('0x9c1'),'value':function(_0xf25c93,_0x1f80e8){var _0x162476,_0x18c953=(0x0,_0x5b1fda[_0x1cd8('0xa')])({'height':0x47,'lineWidth':0x4,'color':_0x1cd8('0x9c2'),'routeList':[],'isHightLight':!0x1},_0x1f80e8);for(_0x162476 in _0xf25c93[_0x1cd8('0x8e1')]){var _0x4e255d,_0x53c54b,_0x28b75f=_0xf25c93['Lines'][_0x162476];_0x28b75f[_0x1cd8('0x9c3')]&&(0x4==_0x28b75f[_0x1cd8('0x9c3')]||0x5==_0x28b75f['bstair'])&&_0x28b75f[_0x1cd8('0x9c4')]>=_0x1f80e8[_0x1cd8('0x9c4')][0x0]&&_0x28b75f[_0x1cd8('0x9c4')]<_0x1f80e8[_0x1cd8('0x9c4')][0x1]&&(_0x53c54b=_0xf25c93[_0x1cd8('0x9c5')][_0x28b75f[_0x1cd8('0x9c6')]],_0x28b75f=_0xf25c93[_0x1cd8('0x9c5')][_0x28b75f[_0x1cd8('0x9c7')]],(_0x4e255d={'points':[]})[_0x1cd8('0x440')][_0x1cd8('0x70')]({'x':_0x53c54b['X'],'y':_0x53c54b['Y']},{'x':_0x28b75f['X'],'y':_0x28b75f['Y']}),_0x18c953['routeList'][_0x1cd8('0x70')](_0x4e255d));}var _0x39e9bc=this[_0x1cd8('0x9bc')]({'color':_0x18c953[_0x1cd8('0x220')],'list':_0x18c953[_0x1cd8('0x558')],'height':_0x18c953['height'],'lineWidth':_0x18c953[_0x1cd8('0x2fa')],'lineTexture':_0x18c953[_0x1cd8('0x9c8')],'isHightLight':_0x18c953['isHightLight'],'speed':_0x18c953['speed']},this[_0x1cd8('0xdf')]['mapView']);this[_0x1cd8('0x9c9')]['add'](_0x39e9bc[_0x1cd8('0x322')]),this[_0x1cd8('0x8cc')][_0x1cd8('0x70')](_0x39e9bc);}},{'key':'computeRoutesData','value':function(_0x1f80e8,_0x162476){this[_0x1cd8('0x9ca')]();var _0xf25c93=(0x0,_0x5b1fda[_0x1cd8('0xa')])({'height':0x47,'lineWidth':0x4,'color':_0x1cd8('0x9c2'),'routeList':[],'isHightLight':!0x1},_0x1f80e8),_0x18c953=[],_0x4e255d=!0x0,_0x1f80e8=!0x1,_0x53c54b=void 0x0;try{for(var _0x28b75f,_0x329fe8=(0x0,_0x1c7091[_0x1cd8('0xa')])(_0xf25c93[_0x1cd8('0x9cb')]);!(_0x4e255d=(_0x28b75f=_0x329fe8[_0x1cd8('0x7e')]())['done']);_0x4e255d=!0x0){var _0x595d61=_0x28b75f[_0x1cd8('0xf')];_0x18c953[_0x1cd8('0x70')]({'color':_0x595d61[_0x1cd8('0x220')],'rank':_0x595d61[_0x1cd8('0x9cc')],'lineTexture':_0x595d61['lineImg'],'routeList':[]});}}catch(_0x3ed1c1){_0x1f80e8=!0x0,_0x53c54b=_0x3ed1c1;}finally{try{!_0x4e255d&&_0x329fe8[_0x1cd8('0xa1')]&&_0x329fe8[_0x1cd8('0xa1')]();}finally{if(_0x1f80e8)throw _0x53c54b;}}var _0x2a9626=!0x0,_0x1f80e8=!0x1,_0x53c54b=void 0x0;try{for(var _0x2d8adc,_0x12a927=(0x0,_0x1c7091[_0x1cd8('0xa')])(_0x162476);!(_0x2a9626=(_0x2d8adc=_0x12a927[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x2a9626=!0x0){var _0x52c0f9=_0x2d8adc[_0x1cd8('0xf')],_0x56c5c5={'points':[]},_0x517252=(_0x56c5c5[_0x1cd8('0x440')]=JSON['parse'](_0x52c0f9[_0x1cd8('0x9cd')]),!0x0),_0x29c17e=!0x1,_0x3280ce=void 0x0;try{for(var _0x27b127,_0x610dd2=(0x0,_0x1c7091[_0x1cd8('0xa')])(_0x18c953);!(_0x517252=(_0x27b127=_0x610dd2[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x517252=!0x0){var _0x47052f=_0x27b127[_0x1cd8('0xf')];'object'===(0x0,_0xd83e1b[_0x1cd8('0xa')])(_0x47052f[_0x1cd8('0x9c4')])&&+_0x52c0f9[_0x1cd8('0x9cc')]>=_0x47052f[_0x1cd8('0x9c4')][0x0]&&+_0x52c0f9[_0x1cd8('0x9cc')]<_0x47052f['rank'][0x1]&&_0x47052f['routeList'][_0x1cd8('0x70')](_0x56c5c5),_0x1cd8('0x8')==typeof _0x47052f[_0x1cd8('0x9c4')]&&_0x52c0f9[_0x1cd8('0x9cc')]==_0x47052f['rank']&&_0x47052f[_0x1cd8('0x558')][_0x1cd8('0x70')](_0x56c5c5);}}catch(_0xdefa2f){_0x29c17e=!0x0,_0x3280ce=_0xdefa2f;}finally{try{!_0x517252&&_0x610dd2[_0x1cd8('0xa1')]&&_0x610dd2[_0x1cd8('0xa1')]();}finally{if(_0x29c17e)throw _0x3280ce;}}}}catch(_0x26ff1c){_0x1f80e8=!0x0,_0x53c54b=_0x26ff1c;}finally{try{!_0x2a9626&&_0x12a927[_0x1cd8('0xa1')]&&_0x12a927[_0x1cd8('0xa1')]();}finally{if(_0x1f80e8)throw _0x53c54b;}}var _0x235298=!0x0,_0x162476=!0x1,_0x1f80e8=void 0x0;try{for(var _0x1ca9b2,_0xef19a2=(0x0,_0x1c7091[_0x1cd8('0xa')])(_0x18c953);!(_0x235298=(_0x1ca9b2=_0xef19a2[_0x1cd8('0x7e')]())['done']);_0x235298=!0x0){var _0x3a1b44=_0x1ca9b2[_0x1cd8('0xf')],_0x225b20=this['createRoutesLine']({'color':_0x3a1b44[_0x1cd8('0x220')],'list':_0x3a1b44[_0x1cd8('0x558')],'height':_0xf25c93[_0x1cd8('0x2f1')],'lineWidth':_0xf25c93[_0x1cd8('0x2fa')],'coordTrans':_0xf25c93[_0x1cd8('0x9ce')],'lineTexture':_0xf25c93[_0x1cd8('0x9c8')],'isHightLight':_0xf25c93['isHightLight'],'speed':_0xf25c93[_0x1cd8('0x326')]},map[_0x1cd8('0x466')]);this[_0x1cd8('0x9c9')][_0x1cd8('0x1cd')](_0x225b20['object3d']),this['routesMarkers'][_0x1cd8('0x70')](_0x225b20);}}catch(_0x5e2ae3){_0x162476=!0x0,_0x1f80e8=_0x5e2ae3;}finally{try{!_0x235298&&_0xef19a2[_0x1cd8('0xa1')]&&_0xef19a2[_0x1cd8('0xa1')]();}finally{if(_0x162476)throw _0x1f80e8;}}}},{'key':_0x1cd8('0x9cf'),'value':function(_0xf25c93,_0x1f80e8,_0x162476,_0x18c953){_0x18c953&&(this[_0x1cd8('0x9b8')]=_0x18c953),this[_0x1cd8('0x9d0')]();var _0x4e255d,_0x53c54b=this[_0x1cd8('0xdf')][_0x1cd8('0x9d1')](_0x1f80e8);if(_0x53c54b){for(var _0x28b75f in _0xf25c93){_0x28b75f=_0xf25c93[_0x28b75f];if(_0x28b75f[_0x1cd8('0x440')]=this[_0x1cd8('0x9d2')](_0x28b75f),_0x28b75f[_0x1cd8('0x440')]=this[_0x1cd8('0xdf')][_0x1cd8('0x9d3')]({'from':this[_0x1cd8('0xdf')][_0x1cd8('0x9d4')],'to':this[_0x1cd8('0xdf')][_0x1cd8('0x9d5')],'coords':_0x28b75f[_0x1cd8('0x440')],'flipX':!0x1}),this[_0x1cd8('0x9b7')][_0x28b75f[_0x1cd8('0x73e')]]){var _0x16238b=this[_0x1cd8('0x9b7')][_0x28b75f['style']]['addLineGeometry'](_0x28b75f['points'],new THREE[(_0x1cd8('0x57'))](this[_0x1cd8('0xdf')][_0x1cd8('0x38')][_0x1cd8('0x39')],0x0,this[_0x1cd8('0xdf')][_0x1cd8('0x38')][_0x1cd8('0x3a')]));if(_0x18c953){var _0x40cda0=[],_0x20590d=_0x16238b[_0x1cd8('0x177')][_0x1cd8('0x3f')][_0x1cd8('0x10f')];this[_0x1cd8('0x9d6')]['setStyle']('#FFFFFF');for(var _0x197f05=0x0;_0x197f05<_0x20590d;_0x197f05++)_0x40cda0[_0x1cd8('0x70')](this[_0x1cd8('0x9d6')]['r'],this[_0x1cd8('0x9d6')]['g'],this[_0x1cd8('0x9d6')]['b']);_0x16238b[_0x1cd8('0x1fb')](_0x1cd8('0x9d7'),new THREE[(_0x1cd8('0x381'))](new Float32Array(_0x40cda0),0x3)),this[_0x1cd8('0x9b7')][_0x28b75f[_0x1cd8('0x73e')]][_0x1cd8('0x9d8')][_0x28b75f[_0x1cd8('0x9d9')]]={'count':_0x20590d,'colorStr':_0x1cd8('0x400')};}this[_0x1cd8('0x9b7')][_0x28b75f[_0x1cd8('0x73e')]][_0x1cd8('0x9da')]['push'](_0x16238b);}}for(var _0x53ad8e in this[_0x1cd8('0x9b7')])0x0<this[_0x1cd8('0x9b7')][_0x53ad8e][_0x1cd8('0x9da')][_0x1cd8('0xc')]&&(_0x4e255d=this['mergeGeometrys'](this[_0x1cd8('0x9b7')][_0x53ad8e][_0x1cd8('0x9da')]),_0x4e255d=new THREE['Mesh'](_0x4e255d,this['tileRoutesMarkers'][_0x53ad8e][_0x1cd8('0x581')]),_0x162476&&_0x4e255d[_0x1cd8('0x566')][_0x1cd8('0x216')](0x1),_0x4e255d['renderOrder']=0x14,_0x4e255d[_0x1cd8('0x9db')]=_0x1f80e8,_0x4e255d['name']=_0x1cd8('0x9dc'),_0x4e255d[_0x1cd8('0x9dd')]=this[_0x1cd8('0x9b7')][_0x53ad8e][_0x1cd8('0x9d8')],_0x53c54b[_0x1cd8('0x509')][_0x1cd8('0x1cd')](_0x4e255d),this['tileRoutesMarkers'][_0x53ad8e]['geometries'][_0x1cd8('0xc')]=0x0,this[_0x1cd8('0x9b7')][_0x53ad8e][_0x1cd8('0x9d8')]={});}}},{'key':_0x1cd8('0x9de'),'value':function(_0xf25c93){var _0x1f80e8=[],_0x162476=!0x0,_0x18c953=!0x1,_0x4e255d=void 0x0;try{for(var _0x53c54b,_0x28b75f=(0x0,_0x1c7091[_0x1cd8('0xa')])(_0xf25c93);!(_0x162476=(_0x53c54b=_0x28b75f[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x162476=!0x0){var _0xca5503=_0x53c54b[_0x1cd8('0xf')];_0x1f80e8[_0x1cd8('0x70')](_0xca5503);}}catch(_0x33b58a){_0x18c953=!0x0,_0x4e255d=_0x33b58a;}finally{try{!_0x162476&&_0x28b75f[_0x1cd8('0xa1')]&&_0x28b75f['return']();}finally{if(_0x18c953)throw _0x4e255d;}}_0xf25c93=THREE['BufferGeometryUtils2']['mergeBufferGeometries'](_0x1f80e8,!0x1);return _0xf25c93['addGroup'](0x0,_0xf25c93[_0x1cd8('0x177')][_0x1cd8('0x3f')][_0x1cd8('0x10f')],0x0),_0xf25c93;}},{'key':'updateTileRoutesRandomColors','value':function(_0xf25c93){for(var _0x1f80e8 in this[_0x1cd8('0x9b7')])this[_0x1cd8('0x9b7')][_0x1f80e8]['isChangeLineColor'](!0x0);for(var _0x162476=0x0,_0x18c953=this[_0x1cd8('0xdf')][_0x1cd8('0x9df')][_0x1cd8('0xc')];_0x162476<_0x18c953;_0x162476++)for(var _0x4e255d=0x0,_0x53c54b=this[_0x1cd8('0xdf')]['tileList'][_0x162476][_0x1cd8('0x509')]['children']['length'];_0x4e255d<_0x53c54b;_0x4e255d++)if(_0x1cd8('0x9dc')===this[_0x1cd8('0xdf')][_0x1cd8('0x9df')][_0x162476]['o3d_'][_0x1cd8('0x315')][_0x4e255d]['name']){var _0x28b75f,_0x3a92cb=this[_0x1cd8('0xdf')][_0x1cd8('0x9df')][_0x162476][_0x1cd8('0x509')][_0x1cd8('0x315')][_0x4e255d],_0x5376f0=_0x3a92cb[_0x1cd8('0xe0')][_0x1cd8('0x177')][_0x1cd8('0x9d7')],_0x251336=0x0;for(_0x28b75f in _0x3a92cb['lineColorMapping']){_0x3a92cb['lineColorMapping'][_0x28b75f][_0x1cd8('0x2f3')]=_0xf25c93[Math[_0x1cd8('0x6d')](0x3*Math[_0x1cd8('0x20')]())],this['tempColor'][_0x1cd8('0x2f5')](_0x3a92cb[_0x1cd8('0x9dd')][_0x28b75f][_0x1cd8('0x2f3')]);for(var _0x40b297=0x3*_0x251336,_0x20ad61=0x3*(_0x251336+_0x3a92cb[_0x1cd8('0x9dd')][_0x28b75f]['count']);_0x40b297<_0x20ad61;_0x40b297+=0x3)_0x5376f0[_0x1cd8('0xed')][_0x40b297]=this[_0x1cd8('0x9d6')]['r'],_0x5376f0[_0x1cd8('0xed')][_0x40b297+0x1]=this['tempColor']['g'],_0x5376f0[_0x1cd8('0xed')][_0x40b297+0x2]=this[_0x1cd8('0x9d6')]['b'];_0x251336+=_0x3a92cb['lineColorMapping'][_0x28b75f][_0x1cd8('0x10f')];}_0x5376f0[_0x1cd8('0x10b')]=!0x0;}this[_0x1cd8('0x9b9')]=!0x0;}},{'key':_0x1cd8('0x911'),'value':function(_0xf25c93){var _0x1f80e8=void 0x0,_0x162476=void 0x0;if(_0xf25c93?(_0x1f80e8=_0xf25c93[_0x1cd8('0x9e0')],_0x162476=_0xf25c93['lineScale'],this['changedTileRoutesStyleConfig']=_0xf25c93):(_0x1f80e8=this[_0x1cd8('0x9ba')][_0x1cd8('0x9e0')],_0x162476=this[_0x1cd8('0x9ba')][_0x1cd8('0x9e1')]),_0x1f80e8&&this[_0x1cd8('0x9e2')](_0x1f80e8),_0x162476)for(var _0x18c953 in this['tileRoutesMarkers'])this['tileRoutesMarkers'][_0x18c953]['scaleLineWidth'](_0x162476);}},{'key':_0x1cd8('0x912'),'value':function(){if(this[_0x1cd8('0x9ba')]){for(var _0xf25c93 in this[_0x1cd8('0x9b7')])this['tileRoutesMarkers'][_0xf25c93][_0x1cd8('0x9e3')](!0x1),this[_0x1cd8('0x9b7')][_0xf25c93]['scaleLineWidth'](0x1);this[_0x1cd8('0x9b9')]=!0x1,this[_0x1cd8('0x9ba')]=null;}}},{'key':_0x1cd8('0x913'),'value':function(){var _0xf25c93,_0x1f80e8=0x0<arguments[_0x1cd8('0xc')]&&void 0x0!==arguments[0x0]&&arguments[0x0];for(_0xf25c93 in this[_0x1cd8('0x9b7')])this[_0x1cd8('0x9b7')][_0xf25c93][_0x1cd8('0x581')][_0x1cd8('0x327')]=_0x1f80e8;}},{'key':_0x1cd8('0x9d0'),'value':function(){if(!this[_0x1cd8('0x9b6')]){for(var _0xf25c93 in this[_0x1cd8('0x9e4')]=new esmap['ESEffectTool']['EffectLayer'](_0x1cd8('0x9e5'),esmap[_0x1cd8('0x4f5')][_0x1cd8('0x4f3')]),esmap[_0x1cd8('0x53')][_0x1cd8('0x8f0')](this[_0x1cd8('0x9e4')]),this[_0x1cd8('0xdf')][_0x1cd8('0x601')][_0x1cd8('0x9e6')]){var _0x1f80e8=this['map'][_0x1cd8('0x601')]['roadStyles'][_0xf25c93],_0x162476=(_0x1f80e8[_0x1cd8('0x220')]=esmap[_0x1cd8('0x3b')][_0x1cd8('0x9e7')](_0x1f80e8['color']),null),_0x162476=(0x1==_0x1f80e8['filltype']&&(_0x162476=_0x1f80e8['color']),new esmap[(_0x1cd8('0x53'))][(_0x1cd8('0x8f5'))](esmap[_0x1cd8('0x282')][_0x1cd8('0x57d')],{'color':_0x162476,'height':0x0,'lineWidth':1.5*_0x1f80e8[_0x1cd8('0x9e8')],'imgUrl':0x2==_0x1f80e8[_0x1cd8('0x5e1')]?_0x1f80e8[_0x1cd8('0x9e9')]:null,'speed':_0x1f80e8[_0x1cd8('0x9ea')]/0xc8,'isCanChangeStyle':this[_0x1cd8('0x9b8')],'opacity':_0x1f80e8['opacity']}));this['routeEffectLayer'][_0x1cd8('0x8f7')](_0x162476),this[_0x1cd8('0x9b7')][_0xf25c93]=_0x162476,this[_0x1cd8('0x9b7')][_0xf25c93][_0x1cd8('0x9da')]=[],this['tileRoutesMarkers'][_0xf25c93][_0x1cd8('0x9d8')]={};}this[_0x1cd8('0x9b6')]=!0x0;}}},{'key':_0x1cd8('0x9d2'),'value':function(_0xf25c93){var _0x1f80e8=_0xf25c93[_0x1cd8('0x9eb')][_0x1cd8('0x9ec')](0x2,_0xf25c93[_0x1cd8('0x9eb')]['length']-0x2)[_0x1cd8('0x87')](/,/),_0x162476={'x':0x0,'y':0x0};if(0x0!=_0x1f80e8[_0x1cd8('0xc')]){for(var _0x18c953=[],_0x4e255d=0x0;_0x4e255d<_0x1f80e8[_0x1cd8('0xc')];_0x4e255d++){var _0x53c54b=_0x1f80e8[_0x4e255d][_0x1cd8('0x87')]('\x20'),_0x28b75f=+_0x53c54b[0x2]||0x0;_0x18c953[_0x1cd8('0x70')]({'x':+_0x53c54b[0x0]+_0x162476['x'],'y':+_0x53c54b[0x1]+_0x162476['y'],'offset':_0x28b75f}),0x0==_0x4e255d&&(_0x162476['x']=+_0x53c54b[0x0],_0x162476['y']=+_0x53c54b[0x1]);}return _0x18c953;}}},{'key':'disposeAll','value':function(){for(var _0xf25c93=0x0,_0x1f80e8=this[_0x1cd8('0x8cc')][_0x1cd8('0xc')];_0xf25c93<_0x1f80e8;_0xf25c93++)this[_0x1cd8('0x8cc')][_0xf25c93]['dispose'](),this['routesMarkers'][_0xf25c93]=null;this['routesMarkers'][_0x1cd8('0xc')]=0x0,this['routesEffectLayer']&&(this[_0x1cd8('0x9ed')][_0x1cd8('0xde')](),this[_0x1cd8('0x9ed')]=null);}},{'key':_0x1cd8('0x325'),'value':function(){if(0x0<this[_0x1cd8('0x8cc')]['length']){var _0xf25c93=!0x0,_0x1f80e8=!0x1,_0x162476=void 0x0;try{for(var _0x18c953,_0x4e255d=(0x0,_0x1c7091[_0x1cd8('0xa')])(this[_0x1cd8('0x8cc')]);!(_0xf25c93=(_0x18c953=_0x4e255d[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xf25c93=!0x0)_0x18c953[_0x1cd8('0xf')][_0x1cd8('0x325')]();}catch(_0x5c80b3){_0x1f80e8=!0x0,_0x162476=_0x5c80b3;}finally{try{!_0xf25c93&&_0x4e255d[_0x1cd8('0xa1')]&&_0x4e255d[_0x1cd8('0xa1')]();}finally{if(_0x1f80e8)throw _0x162476;}}}}}]),_0x1f80e8[_0x1cd8('0xa')]=_0x28b75f;},function(_0x1b9931,_0x46fcca,_0x35655e){'use strict';Object[_0x1cd8('0x4')](_0x46fcca,'__esModule',{'value':!0x0});var _0xedd31=_0x2c49d8(_0x35655e(0x0));function _0x2c49d8(_0x1b9931){return _0x1b9931&&_0x1b9931[_0x1cd8('0x6')]?_0x1b9931:{'default':_0x1b9931};}function _0x53a03c(){(0x0,_0xedd31[_0x1cd8('0xa')])(this,_0x53a03c);}(0x0,_0x2c49d8(_0x35655e(0x1))[_0x1cd8('0xa')])(_0x53a03c,null,[{'key':_0x1cd8('0x342'),'value':function(_0x1b9931,_0x46fcca){var _0x35655e=[],_0x1b9931=20037508.342789*_0x1b9931/0xb4,_0x46fcca=Math[_0x1cd8('0x6de')](Math[_0x1cd8('0x9ee')]((0x5a+_0x46fcca)*Math['PI']/0x168))/(Math['PI']/0xb4)*20037508.34789/0xb4;return _0x35655e['push'](_0x1b9931),_0x35655e[_0x1cd8('0x70')](_0x46fcca),_0x35655e;}},{'key':_0x1cd8('0x345'),'value':function(_0x1b9931,_0x46fcca){var _0x35655e=[],_0x1b9931=_0x1b9931/20037508.342789*0xb4,_0x46fcca=_0x46fcca/20037508.342789*0xb4,_0x46fcca=0xb4/Math['PI']*(0x2*Math[_0x1cd8('0x9ef')](Math[_0x1cd8('0x9f0')](_0x46fcca*Math['PI']/0xb4))-Math['PI']/0x2);return _0x35655e[_0x1cd8('0x70')](_0x1b9931),_0x35655e['push'](_0x46fcca),_0x35655e;}}]),_0x46fcca[_0x1cd8('0xa')]=_0x53a03c;},function(_0xca039b,_0x5709ca,_0x3eafb6){'use strict';var _0x343766=_0x2c1c76(_0x3eafb6(0xb5)),_0x4564f3=_0x2c1c76(_0x3eafb6(0x107)),_0x5839da=_0x2c1c76(_0x3eafb6(0x3e)),_0x224cd9=_0x2c1c76(_0x3eafb6(0x83));function _0x2c1c76(_0xca039b){return _0xca039b&&_0xca039b[_0x1cd8('0x6')]?_0xca039b:{'default':_0xca039b};}THREE['BufferGeometryUtils2']={'computeTangents':function(_0xca039b){var _0x476402=_0xca039b[_0x1cd8('0x46')],_0x5709ca=_0xca039b[_0x1cd8('0x177')];if(null!==_0x476402&&void 0x0!==_0x5709ca[_0x1cd8('0x3f')]&&void 0x0!==_0x5709ca[_0x1cd8('0x6ba')]&&void 0x0!==_0x5709ca['uv']){for(var _0x3eafb6=_0x476402[_0x1cd8('0xed')],_0x2c1c76=_0x5709ca['position'][_0x1cd8('0xed')],_0x2ea4a1=_0x5709ca[_0x1cd8('0x6ba')]['array'],_0x498294=_0x5709ca['uv'][_0x1cd8('0xed')],_0x405ad1=_0x2c1c76[_0x1cd8('0xc')]/0x3,_0x4a4f89=(void 0x0===_0x5709ca['tangent']&&_0xca039b[_0x1cd8('0x1fb')]('tangent',new THREE[(_0x1cd8('0x381'))](new Float32Array(0x4*_0x405ad1),0x4)),_0x5709ca[_0x1cd8('0x9f1')][_0x1cd8('0xed')]),_0x3a5862=[],_0x2f780e=[],_0x50af42=0x0;_0x50af42<_0x405ad1;_0x50af42++)_0x3a5862[_0x50af42]=new THREE['Vector3'](),_0x2f780e[_0x50af42]=new THREE['Vector3']();for(var _0x172bd9,_0x56d53d,_0x57a0c4,_0x39d7cb,_0x51836d,_0x4f674c,_0x339b74,_0x5d62dd,_0x5c8b3c,_0x7888d7,_0x27142e,_0x3bb9da,_0x224cd9,_0x5698dc,_0x440ed7=new THREE[(_0x1cd8('0x57'))](),_0x325b32=new THREE['Vector3'](),_0x4f3321=new THREE[(_0x1cd8('0x57'))](),_0x220211=new THREE[(_0x1cd8('0x1c0'))](),_0xb9710a=new THREE['Vector2'](),_0x3b5eca=new THREE[(_0x1cd8('0x1c0'))](),_0xae4ea7=new THREE[(_0x1cd8('0x57'))](),_0x1ccc24=new THREE[(_0x1cd8('0x57'))](),_0x4dda8c=_0xca039b[_0x1cd8('0x9f2')],_0x50af42=0x0,_0x53399e=(_0x4dda8c=0x0===_0x4dda8c[_0x1cd8('0xc')]?[{'start':0x0,'count':_0x3eafb6[_0x1cd8('0xc')]}]:_0x4dda8c)[_0x1cd8('0xc')];_0x50af42<_0x53399e;++_0x50af42)for(var _0x58a911=_0xc2554a=(_0x5839da=_0x4dda8c[_0x50af42])[_0x1cd8('0x2d1')],_0x2e4502=_0xc2554a+_0x5839da[_0x1cd8('0x10f')];_0x58a911<_0x2e4502;_0x58a911+=0x3)_0x172bd9=_0x3eafb6[_0x58a911+0x0],_0x56d53d=_0x3eafb6[_0x58a911+0x1],_0x57a0c4=_0x3eafb6[_0x58a911+0x2],0x0,_0x440ed7[_0x1cd8('0x37a')](_0x2c1c76,0x3*_0x172bd9),_0x325b32['fromArray'](_0x2c1c76,0x3*_0x56d53d),_0x4f3321['fromArray'](_0x2c1c76,0x3*_0x57a0c4),_0x220211['fromArray'](_0x498294,0x2*_0x172bd9),_0xb9710a['fromArray'](_0x498294,0x2*_0x56d53d),_0x3b5eca[_0x1cd8('0x37a')](_0x498294,0x2*_0x57a0c4),_0x39d7cb=_0x325b32['x']-_0x440ed7['x'],_0x51836d=_0x4f3321['x']-_0x440ed7['x'],_0x4f674c=_0x325b32['y']-_0x440ed7['y'],_0x339b74=_0x4f3321['y']-_0x440ed7['y'],_0x5d62dd=_0x325b32['z']-_0x440ed7['z'],_0x5c8b3c=_0x4f3321['z']-_0x440ed7['z'],_0x7888d7=_0xb9710a['x']-_0x220211['x'],_0x27142e=_0x3b5eca['x']-_0x220211['x'],_0x3bb9da=_0xb9710a['y']-_0x220211['y'],_0x224cd9=_0x3b5eca['y']-_0x220211['y'],_0xae4ea7[_0x1cd8('0x1b')]((_0x224cd9*_0x39d7cb-_0x3bb9da*_0x51836d)*(_0x5698dc=0x1/(_0x7888d7*_0x224cd9-_0x27142e*_0x3bb9da)),(_0x224cd9*_0x4f674c-_0x3bb9da*_0x339b74)*_0x5698dc,(_0x224cd9*_0x5d62dd-_0x3bb9da*_0x5c8b3c)*_0x5698dc),_0x1ccc24['set']((_0x7888d7*_0x51836d-_0x27142e*_0x39d7cb)*_0x5698dc,(_0x7888d7*_0x339b74-_0x27142e*_0x4f674c)*_0x5698dc,(_0x7888d7*_0x5c8b3c-_0x27142e*_0x5d62dd)*_0x5698dc),_0x3a5862[_0x172bd9][_0x1cd8('0x1cd')](_0xae4ea7),_0x3a5862[_0x56d53d]['add'](_0xae4ea7),_0x3a5862[_0x57a0c4][_0x1cd8('0x1cd')](_0xae4ea7),_0x2f780e[_0x172bd9]['add'](_0x1ccc24),_0x2f780e[_0x56d53d][_0x1cd8('0x1cd')](_0x1ccc24),_0x2f780e[_0x57a0c4][_0x1cd8('0x1cd')](_0x1ccc24);for(var _0x3485d9,_0x343766=new THREE[(_0x1cd8('0x57'))](),_0x2992b8=new THREE['Vector3'](),_0x4564f3=new THREE[(_0x1cd8('0x57'))](),_0x441d0c=new THREE[(_0x1cd8('0x57'))](),_0x50af42=0x0,_0x53399e=_0x4dda8c['length'];_0x50af42<_0x53399e;++_0x50af42)for(var _0x5839da,_0xc2554a,_0x58a911=_0xc2554a=(_0x5839da=_0x4dda8c[_0x50af42])[_0x1cd8('0x2d1')],_0x2e4502=_0xc2554a+_0x5839da[_0x1cd8('0x10f')];_0x58a911<_0x2e4502;_0x58a911+=0x3)_0x3feeee(_0x3eafb6[_0x58a911+0x0]),_0x3feeee(_0x3eafb6[_0x58a911+0x1]),_0x3feeee(_0x3eafb6[_0x58a911+0x2]);}function _0x3feeee(_0xca039b){_0x4564f3[_0x1cd8('0x37a')](_0x2ea4a1,0x3*_0xca039b),_0x441d0c[_0x1cd8('0x1c6')](_0x4564f3),_0x3485d9=_0x3a5862[_0xca039b],_0x343766[_0x1cd8('0x1c6')](_0x3485d9),_0x343766['sub'](_0x4564f3[_0x1cd8('0x1cc')](_0x4564f3[_0x1cd8('0x6b3')](_0x3485d9)))['normalize'](),_0x2992b8[_0x1cd8('0x9f3')](_0x441d0c,_0x3485d9),_0x3485d9=_0x2992b8[_0x1cd8('0x6b3')](_0x2f780e[_0xca039b]),_0x3485d9=_0x3485d9<0x0?-0x1:0x1,_0x4a4f89[0x4*_0xca039b]=_0x343766['x'],_0x4a4f89[0x4*_0xca039b+0x1]=_0x343766['y'],_0x4a4f89[0x4*_0xca039b+0x2]=_0x343766['z'],_0x4a4f89[0x4*_0xca039b+0x3]=_0x3485d9;}},'splitBufferGeometryByLimit':function(_0xca039b,_0x5709ca,_0x3eafb6){_0x3eafb6=(null===_0x3eafb6?0x1/0x0:_0x3eafb6)||0xc350;for(var _0x2c1c76=0x0,_0x19c723=0x0,_0x15a25f=[[]],_0x221853=0x0;_0x221853<_0xca039b[_0x1cd8('0xc')];_0x221853++){var _0x4fb28b=_0xca039b[_0x221853];_0x4fb28b[_0x1cd8('0x177')]['position']&&((_0x2c1c76+=_0x4fb28b[_0x1cd8('0x177')]['position'][_0x1cd8('0x10f')])<_0x3eafb6?(_0x15a25f[_0x19c723]instanceof Array||(_0x15a25f[_0x19c723]=[]),_0x15a25f[_0x19c723]['push'](_0x4fb28b)):(_0x2c1c76=0x0,_0x15a25f[_0x19c723]instanceof Array||(_0x15a25f[_0x19c723]=[]),_0x15a25f[_0x19c723][_0x1cd8('0x70')](_0x4fb28b),_0x19c723++));}for(var _0x25dd58=[],_0x1d89ff=0x0;_0x1d89ff<_0x15a25f[_0x1cd8('0xc')];_0x1d89ff++){var _0x54dbed=this[_0x1cd8('0x9f4')](_0x15a25f[_0x1d89ff],_0x5709ca);_0x25dd58['push'](_0x54dbed);}return _0x25dd58;},'mergeBufferGeometries':function(_0xca039b,_0x5709ca){for(var _0x3eafb6=null!==_0xca039b[0x0][_0x1cd8('0x46')],_0x2c1c76=new _0x224cd9[(_0x1cd8('0xa'))]((0x0,_0x5839da[_0x1cd8('0xa')])(_0xca039b[0x0]['attributes'])),_0x314257=new _0x224cd9[(_0x1cd8('0xa'))]((0x0,_0x5839da[_0x1cd8('0xa')])(_0xca039b[0x0][_0x1cd8('0x758')])),_0x388269={},_0x4a2772={},_0x2c7bb9=new THREE[(_0x1cd8('0x316'))](),_0x170b10=0x0,_0x5edcab=0x0;_0x5edcab<_0xca039b[_0x1cd8('0xc')];++_0x5edcab){var _0x1cb44a,_0x4fc1d4,_0x2567c1=_0xca039b[_0x5edcab];if(_0x3eafb6!=(null!==_0x2567c1[_0x1cd8('0x46')]))return null;for(_0x1cb44a in _0x2567c1[_0x1cd8('0x177')]){if(!_0x2c1c76[_0x1cd8('0x9f5')](_0x1cb44a))return null;void 0x0===_0x388269[_0x1cb44a]&&(_0x388269[_0x1cb44a]=[]),_0x388269[_0x1cb44a][_0x1cd8('0x70')](_0x2567c1['attributes'][_0x1cb44a]);}for(_0x1cb44a in _0x2567c1['morphAttributes']){if(!_0x314257['has'](_0x1cb44a))return null;void 0x0===_0x4a2772[_0x1cb44a]&&(_0x4a2772[_0x1cb44a]=[]),_0x4a2772[_0x1cb44a][_0x1cd8('0x70')](_0x2567c1[_0x1cd8('0x758')][_0x1cb44a]);}if(_0x2c7bb9[_0x1cd8('0x45')][_0x1cd8('0x9f6')]=_0x2c7bb9[_0x1cd8('0x45')][_0x1cd8('0x9f6')]||[],_0x2c7bb9[_0x1cd8('0x45')]['mergedUserData'][_0x1cd8('0x70')](_0x2567c1[_0x1cd8('0x45')]),_0x5709ca){if(_0x3eafb6)_0x4fc1d4=_0x2567c1[_0x1cd8('0x46')][_0x1cd8('0x10f')];else{if(void 0x0===_0x2567c1['attributes']['position'])return null;_0x4fc1d4=_0x2567c1[_0x1cd8('0x177')][_0x1cd8('0x3f')][_0x1cd8('0x10f')];}_0x2c7bb9[_0x1cd8('0x9f7')](_0x170b10,_0x4fc1d4,_0x5edcab),_0x170b10+=_0x4fc1d4;}}if(_0x3eafb6){for(var _0x2422a0=0x0,_0x4ae202=[],_0x5edcab=0x0;_0x5edcab<_0xca039b[_0x1cd8('0xc')];++_0x5edcab){for(var _0x537459=_0xca039b[_0x5edcab][_0x1cd8('0x46')],_0x3927a5=0x0;_0x3927a5<_0x537459[_0x1cd8('0x10f')];++_0x3927a5)_0x4ae202[_0x1cd8('0x70')](_0x537459['getX'](_0x3927a5)+_0x2422a0);_0x2422a0+=_0xca039b[_0x5edcab]['attributes']['position'][_0x1cd8('0x10f')];}_0x2c7bb9[_0x1cd8('0x382')](_0x4ae202);}for(_0x1cb44a in _0x388269){var _0x1b8eb9=this['mergeBufferAttributes'](_0x388269[_0x1cb44a]);if(!_0x1b8eb9)return null;_0x2c7bb9[_0x1cd8('0x1fb')](_0x1cb44a,_0x1b8eb9);}for(_0x1cb44a in _0x4a2772){var _0x5e0c62=_0x4a2772[_0x1cb44a][0x0][_0x1cd8('0xc')];if(0x0===_0x5e0c62)break;for(_0x2c7bb9[_0x1cd8('0x758')]=_0x2c7bb9[_0x1cd8('0x758')]||{},_0x2c7bb9[_0x1cd8('0x758')][_0x1cb44a]=[],_0x5edcab=0x0;_0x5edcab<_0x5e0c62;++_0x5edcab){for(var _0x4118dd=[],_0x3927a5=0x0;_0x3927a5<_0x4a2772[_0x1cb44a][_0x1cd8('0xc')];++_0x3927a5)_0x4118dd[_0x1cd8('0x70')](_0x4a2772[_0x1cb44a][_0x3927a5][_0x5edcab]);var _0x2f5c0c=this[_0x1cd8('0x9f8')](_0x4118dd);if(!_0x2f5c0c)return null;_0x2c7bb9[_0x1cd8('0x758')][_0x1cb44a][_0x1cd8('0x70')](_0x2f5c0c);}}return _0x2c7bb9;},'mergeBufferAttributes':function(_0xca039b){for(var _0x5709ca,_0x3eafb6,_0x2c1c76,_0x2f0304=0x0,_0x5c13b6=0x0;_0x5c13b6<_0xca039b[_0x1cd8('0xc')];++_0x5c13b6){var _0xcc895f=_0xca039b[_0x5c13b6];if(_0xcc895f[_0x1cd8('0x9f9')])return null;if((_0x5709ca=void 0x0===_0x5709ca?_0xcc895f[_0x1cd8('0xed')][_0x1cd8('0x88')]:_0x5709ca)!==_0xcc895f[_0x1cd8('0xed')][_0x1cd8('0x88')])return null;if((_0x3eafb6=void 0x0===_0x3eafb6?_0xcc895f['itemSize']:_0x3eafb6)!==_0xcc895f[_0x1cd8('0x9fa')])return null;if((_0x2c1c76=void 0x0===_0x2c1c76?_0xcc895f[_0x1cd8('0x9fb')]:_0x2c1c76)!==_0xcc895f['normalized'])return null;_0x2f0304+=_0xcc895f['array']['length'];}for(var _0x574051=new _0x5709ca(_0x2f0304),_0x33ecaf=0x0,_0x5c13b6=0x0;_0x5c13b6<_0xca039b[_0x1cd8('0xc')];++_0x5c13b6)_0x574051[_0x1cd8('0x1b')](_0xca039b[_0x5c13b6][_0x1cd8('0xed')],_0x33ecaf),_0x33ecaf+=_0xca039b[_0x5c13b6][_0x1cd8('0xed')]['length'];return new THREE[(_0x1cd8('0x381'))](_0x574051,_0x3eafb6,_0x2c1c76);},'interleaveAttributes':function(_0xca039b){for(var _0x5709ca,_0x3eafb6=0x0,_0x2c1c76=0x0,_0x3d848f=0x0,_0x14b0d6=_0xca039b[_0x1cd8('0xc')];_0x3d848f<_0x14b0d6;++_0x3d848f){var _0x574a8c=_0xca039b[_0x3d848f];if((_0x5709ca=void 0x0===_0x5709ca?_0x574a8c[_0x1cd8('0xed')]['constructor']:_0x5709ca)!==_0x574a8c[_0x1cd8('0xed')][_0x1cd8('0x88')])return null;_0x3eafb6+=_0x574a8c['array'][_0x1cd8('0xc')],_0x2c1c76+=_0x574a8c['itemSize'];}for(var _0x4139b6=new THREE['InterleavedBuffer'](new _0x5709ca(_0x3eafb6),_0x2c1c76),_0x19a831=0x0,_0x2292b8=[],_0x4b713b=[_0x1cd8('0x9fc'),_0x1cd8('0x7e0'),_0x1cd8('0x7e1'),'getW'],_0x27673d=[_0x1cd8('0x9fd'),'setY',_0x1cd8('0x9fe'),_0x1cd8('0x9ff')],_0x36f6dc=0x0,_0x14b0d6=_0xca039b[_0x1cd8('0xc')];_0x36f6dc<_0x14b0d6;_0x36f6dc++){var _0x53f506=(_0x574a8c=_0xca039b[_0x36f6dc])[_0x1cd8('0x9fa')],_0x56774e=_0x574a8c['count'],_0x49866f=new THREE[(_0x1cd8('0x447'))](_0x4139b6,_0x53f506,_0x19a831,_0x574a8c[_0x1cd8('0x9fb')]);_0x2292b8[_0x1cd8('0x70')](_0x49866f),_0x19a831+=_0x53f506;for(var _0x253e0f=0x0;_0x253e0f<_0x56774e;_0x253e0f++)for(var _0x30f9cc=0x0;_0x30f9cc<_0x53f506;_0x30f9cc++)_0x49866f[_0x27673d[_0x30f9cc]](_0x253e0f,_0x574a8c[_0x4b713b[_0x30f9cc]](_0x253e0f));}return _0x2292b8;},'estimateBytesUsed':function(_0xca039b){var _0x5709ca,_0x3eafb6=0x0;for(_0x5709ca in _0xca039b['attributes']){var _0x2c1c76=_0xca039b[_0x1cd8('0x40c')](_0x5709ca);_0x3eafb6+=_0x2c1c76[_0x1cd8('0x10f')]*_0x2c1c76[_0x1cd8('0x9fa')]*_0x2c1c76['array'][_0x1cd8('0xa00')];}var _0x26b1fa=_0xca039b[_0x1cd8('0xa01')]();return _0x3eafb6+(_0x26b1fa?_0x26b1fa[_0x1cd8('0x10f')]*_0x26b1fa[_0x1cd8('0x9fa')]*_0x26b1fa['array']['BYTES_PER_ELEMENT']:0x0);},'mergeVertices':function(_0xca039b){for(var _0x5709ca=0x1<arguments[_0x1cd8('0xc')]&&void 0x0!==arguments[0x1]?arguments[0x1]:0.0001,_0x5709ca=Math[_0x1cd8('0xe4')](_0x5709ca,_0x4564f3['default']),_0x3eafb6={},_0x2c1c76=_0xca039b[_0x1cd8('0xa01')](),_0x446d2e=_0xca039b['getAttribute'](_0x1cd8('0x3f')),_0x5c78fb=(_0x2c1c76||_0x446d2e)[_0x1cd8('0x10f')],_0x1cf988=0x0,_0x13732f=(0x0,_0x5839da['default'])(_0xca039b['attributes']),_0x218729={},_0x3fbdae={},_0x27d49c=[],_0x3ef242=[_0x1cd8('0x9fc'),'getY',_0x1cd8('0x7e1'),_0x1cd8('0xa02')],_0x4979bb=0x0,_0x571464=_0x13732f[_0x1cd8('0xc')];_0x4979bb<_0x571464;_0x4979bb++)_0x218729[_0x119a7f=_0x13732f[_0x4979bb]]=[],(_0x32d8ce=_0xca039b[_0x1cd8('0x758')][_0x119a7f])&&(_0x3fbdae[_0x119a7f]=new Array(_0x32d8ce['length'])[_0x1cd8('0x4d2')]()[_0x1cd8('0xdf')](function(){return[];}));for(var _0x446d2e=(0x0,_0x343766[_0x1cd8('0xa')])(0x1/_0x5709ca),_0x4c48fc=Math[_0x1cd8('0x308')](0xa,_0x446d2e),_0x4979bb=0x0;_0x4979bb<_0x5c78fb;_0x4979bb++){for(var _0x45841a=_0x2c1c76?_0x2c1c76[_0x1cd8('0x9fc')](_0x4979bb):_0x4979bb,_0x48671a='',_0x4891c3=0x0,_0x571464=_0x13732f[_0x1cd8('0xc')];_0x4891c3<_0x571464;_0x4891c3++)for(var _0x119a7f=_0x13732f[_0x4891c3],_0x12f9a5=(_0x224cd9=_0xca039b[_0x1cd8('0x40c')](_0x119a7f))[_0x1cd8('0x9fa')],_0x19e0fb=0x0;_0x19e0fb<_0x12f9a5;_0x19e0fb++)_0x48671a+=~~(_0x224cd9[_0x3ef242[_0x19e0fb]](_0x45841a)*_0x4c48fc)+',';if(_0x48671a in _0x3eafb6)_0x27d49c['push'](_0x3eafb6[_0x48671a]);else{for(_0x4891c3=0x0,_0x571464=_0x13732f['length'];_0x4891c3<_0x571464;_0x4891c3++)for(var _0x119a7f=_0x13732f[_0x4891c3],_0x224cd9=_0xca039b['getAttribute'](_0x119a7f),_0x32d8ce=_0xca039b[_0x1cd8('0x758')][_0x119a7f],_0x12f9a5=_0x224cd9[_0x1cd8('0x9fa')],_0x8b1b25=_0x218729[_0x119a7f],_0xe35fd8=_0x3fbdae[_0x119a7f],_0x19e0fb=0x0;_0x19e0fb<_0x12f9a5;_0x19e0fb++){var _0x36715a=_0x3ef242[_0x19e0fb];if(_0x8b1b25[_0x1cd8('0x70')](_0x224cd9[_0x36715a](_0x45841a)),_0x32d8ce)for(var _0x2dfb1a=0x0,_0x1ad1d4=_0x32d8ce[_0x1cd8('0xc')];_0x2dfb1a<_0x1ad1d4;_0x2dfb1a++)_0xe35fd8[_0x2dfb1a][_0x1cd8('0x70')](_0x32d8ce[_0x2dfb1a][_0x36715a](_0x45841a));}_0x3eafb6[_0x48671a]=_0x1cf988,_0x27d49c[_0x1cd8('0x70')](_0x1cf988),_0x1cf988++;}}for(var _0x38a325=_0xca039b[_0x1cd8('0x1bb')](),_0x4979bb=0x0,_0x571464=_0x13732f[_0x1cd8('0xc')];_0x4979bb<_0x571464;_0x4979bb++){var _0x119a7f=_0x13732f[_0x4979bb],_0x53eb22=_0xca039b[_0x1cd8('0x40c')](_0x119a7f),_0x3c0cd1=new _0x53eb22[(_0x1cd8('0xed'))][(_0x1cd8('0x88'))](_0x218729[_0x119a7f]);if(_0x53eb22[_0x1cd8('0x9f9')]?_0x224cd9=new THREE[(_0x1cd8('0x381'))](_0x3c0cd1,_0x53eb22[_0x1cd8('0x9fa')],_0x53eb22[_0x1cd8('0x9fa')]):(_0x224cd9=_0xca039b[_0x1cd8('0x40c')](_0x119a7f)[_0x1cd8('0x1bb')]())[_0x1cd8('0xa03')](_0x3c0cd1),_0x38a325[_0x1cd8('0x1fb')](_0x119a7f,_0x224cd9),_0x119a7f in _0x3fbdae)for(_0x4891c3=0x0;_0x4891c3<_0x3fbdae[_0x119a7f]['length'];_0x4891c3++){var _0x278e99=_0xca039b[_0x1cd8('0x758')][_0x119a7f][_0x4891c3][_0x1cd8('0x1bb')]();_0x278e99[_0x1cd8('0xa03')](new _0x278e99[(_0x1cd8('0xed'))][(_0x1cd8('0x88'))](_0x3fbdae[_0x119a7f][_0x4891c3])),_0x38a325[_0x1cd8('0x758')][_0x119a7f][_0x4891c3]=_0x278e99;}}_0x5709ca=Uint8Array,_0x27d49c[_0x1cd8('0xc')]>=Math[_0x1cd8('0x308')](0x2,0x8)&&(_0x5709ca=Uint16Array),_0x446d2e=new(_0x5709ca=_0x27d49c[(_0x1cd8('0xc'))]>=(Math[_0x1cd8('0x308')](0x2,0x10))?Uint32Array:_0x5709ca)(_0x27d49c),_0x27d49c=null;return null===_0x2c1c76?_0x27d49c=new THREE['BufferAttribute'](_0x446d2e,0x1):(_0x27d49c=_0xca039b[_0x1cd8('0xa01')]()[_0x1cd8('0x1bb')]())['setArray'](_0x446d2e),_0x38a325[_0x1cd8('0x382')](_0x27d49c),_0x38a325;}};},function(_0x1a2c63,_0x1258d3,_0xe2855c){_0x1a2c63[_0x1cd8('0x0')]={'default':_0xe2855c(0x108),'__esModule':!0x0};},function(_0x5606ff,_0x512148,_0x19178e){_0x19178e(0x109),_0x5606ff['exports']=Math[_0x1cd8('0x308')](0x2,-0x34);},function(_0x533489,_0x443b1a,_0x231927){_0x231927=_0x231927(0x3);_0x231927(_0x231927['S'],_0x1cd8('0xa04'),{'EPSILON':Math[_0x1cd8('0x308')](0x2,-0x34)});},function(_0x47d6fb,_0x444a63,_0x542a66){'use strict';Object[_0x1cd8('0x4')](_0x444a63,_0x1cd8('0x6'),{'value':!0x0});var _0x1083fd=_0x524410(_0x542a66(0x4)),_0x4c4491=_0x524410(_0x542a66(0x0)),_0x5bdec0=_0x524410(_0x542a66(0x1)),_0x4869fd=_0x542a66(0x1a),_0x3d4e4e=function(_0x47d6fb){if(_0x47d6fb&&_0x47d6fb[_0x1cd8('0x6')])return _0x47d6fb;var _0x444a63={};if(null!=_0x47d6fb)for(var _0x542a66 in _0x47d6fb)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')]['call'](_0x47d6fb,_0x542a66)&&(_0x444a63[_0x542a66]=_0x47d6fb[_0x542a66]);return _0x444a63[_0x1cd8('0xa')]=_0x47d6fb,_0x444a63;}(_0x542a66(0x41)),_0x4cbda7=_0x524410(_0x542a66(0x3c));function _0x524410(_0x47d6fb){return _0x47d6fb&&_0x47d6fb[_0x1cd8('0x6')]?_0x47d6fb:{'default':_0x47d6fb};}function _0x5136d3(){(0x0,_0x4c4491[_0x1cd8('0xa')])(this,_0x5136d3),this[_0x1cd8('0xdf')]=(0x0,_0x4869fd['getMapInstance'])(),this['skyBox']=null,this[_0x1cd8('0x322')]=null,this[_0x1cd8('0x467')]=null,this['textureCubes']=[],this[_0x1cd8('0xa05')]=!0x0,this['skyboxTool']=null,this['shaderSky']=null;}(0x0,_0x5bdec0[_0x1cd8('0xa')])(_0x5136d3,[{'key':_0x1cd8('0xa06'),'value':function(_0x47d6fb){this[_0x1cd8('0x914')][_0x1cd8('0x4fd')]=_0x47d6fb;}},{'key':_0x1cd8('0x915'),'value':function(_0x444a63){var _0x542a66=this;if(this[_0x1cd8('0x914')]&&_0x444a63['name']){var _0x47d6fb=this['getTextureCubeByName'](_0x444a63['name']);if(_0x47d6fb)this[_0x1cd8('0xa05')]?this[_0x1cd8('0xa07')](this[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')][_0x1cd8('0x176')][_0x1cd8('0x476')][_0x1cd8('0xf')],_0x47d6fb):this['skyboxSwitchAnimate'](this[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')][_0x1cd8('0x176')]['tCube'][_0x1cd8('0xf')],_0x47d6fb),this[_0x1cd8('0xa05')]=!this[_0x1cd8('0xa05')];else{for(var _0x4c4491=0x0,_0x5bdec0=_0x444a63[_0x1cd8('0x9a5')]['length'];_0x4c4491<_0x5bdec0;_0x4c4491++)_0x444a63['imgPaths'][_0x4c4491]=(0x0,_0x4869fd['getConfigAssetsPath'])(_0x444a63[_0x1cd8('0x9a5')][_0x4c4491]);_0x4cbda7[_0x1cd8('0xa')][_0x1cd8('0x46b')](_0x444a63[_0x1cd8('0x9a5')])[_0x1cd8('0x349')](function(_0x47d6fb){_0x47d6fb[_0x1cd8('0x7f')]=_0x444a63[_0x1cd8('0x7f')],_0x542a66['skyboxSwitchAnimate'](null,_0x47d6fb),_0x542a66[_0x1cd8('0xa08')][_0x1cd8('0x70')](_0x47d6fb);});}}}},{'key':'skyboxSwitchAnimate','value':function(_0x47d6fb,_0x444a63){var _0x542a66,_0x4c4491,_0x5bdec0=this;_0x47d6fb?(_0x4c4491=_0x542a66=0x0,this[_0x1cd8('0xa05')]?(_0x4c4491=0x0,this[_0x1cd8('0x914')][_0x1cd8('0x469')]['material'][_0x1cd8('0x176')]['transFactor']['value']=_0x542a66=0x1,this[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')]['uniforms']['tCube']['value']=_0x444a63,this[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')]['uniforms'][_0x1cd8('0x476')][_0x1cd8('0xf')]=_0x47d6fb):(_0x4c4491=0x1,this[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')][_0x1cd8('0x176')]['transFactor'][_0x1cd8('0xf')]=_0x542a66=0x0,this[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')][_0x1cd8('0x176')][_0x1cd8('0x45d')][_0x1cd8('0xf')]=_0x47d6fb,this[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')][_0x1cd8('0x176')]['tCube2'][_0x1cd8('0xf')]=_0x444a63),new TWEEN[(_0x1cd8('0x2cd'))]({'x':_0x542a66})['to']({'x':_0x4c4491},0x5dc)[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x3fd')][_0x1cd8('0x3fe')])[_0x1cd8('0x2d2')](function(_0x47d6fb){_0x5bdec0[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')][_0x1cd8('0x176')][_0x1cd8('0x477')]['value']=_0x47d6fb['x'];})['start']()):(this[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x47')][_0x1cd8('0x176')][_0x1cd8('0x477')][_0x1cd8('0xf')]=0x0,this['skyboxTool'][_0x1cd8('0x469')][_0x1cd8('0x47')][_0x1cd8('0x176')][_0x1cd8('0x476')][_0x1cd8('0xf')]=_0x444a63,new TWEEN['Tween']({'x':0x0})['to']({'x':0x1},0x5dc)['easing'](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x3fd')][_0x1cd8('0x3fe')])[_0x1cd8('0x2d2')](function(_0x47d6fb){_0x5bdec0[_0x1cd8('0x914')][_0x1cd8('0x469')]['material'][_0x1cd8('0x176')][_0x1cd8('0x477')]['value']=_0x47d6fb['x'];})[_0x1cd8('0x2d1')]());}},{'key':_0x1cd8('0x9ad'),'value':function(_0x47d6fb){var _0x444a63=!0x0,_0x542a66=!0x1,_0x4c4491=void 0x0;try{for(var _0x5bdec0,_0x524410=(0x0,_0x1083fd[_0x1cd8('0xa')])(this[_0x1cd8('0xa08')]);!(_0x444a63=(_0x5bdec0=_0x524410[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x444a63=!0x0){var _0x5136d3=_0x5bdec0[_0x1cd8('0xf')];if(_0x5136d3[_0x1cd8('0x7f')]===_0x47d6fb)return _0x5136d3;}}catch(_0x499f2f){_0x542a66=!0x0,_0x4c4491=_0x499f2f;}finally{try{!_0x444a63&&_0x524410[_0x1cd8('0xa1')]&&_0x524410['return']();}finally{if(_0x542a66)throw _0x4c4491;}}return null;}},{'key':_0x1cd8('0x93a'),'value':function(_0x444a63){var _0x47d6fb,_0x542a66=this;if(_0x444a63&&(_0x1cd8('0xa09')===_0x444a63[_0x1cd8('0x101')]||_0x1cd8('0x496')===_0x444a63['type'])&&(0x1===_0x444a63[_0x1cd8('0x9a5')][_0x1cd8('0xc')]&&(_0x47d6fb=(0x0,_0x4869fd[_0x1cd8('0x520')])(_0x444a63['imgPaths'][0x0]),this['skyboxTool']=new _0x3d4e4e['Skybox']({'mapView':this[_0x1cd8('0xdf')][_0x1cd8('0x466')]}),this[_0x1cd8('0x914')][_0x1cd8('0x101')]=_0x444a63[_0x1cd8('0x101')],_0x444a63[_0x1cd8('0xa0a')]?_0x4cbda7[_0x1cd8('0xa')]['loadTexture'](_0x47d6fb)[_0x1cd8('0x349')](function(_0x47d6fb){_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x467')]=_0x47d6fb,_0x542a66[_0x1cd8('0x914')]['setBackground']();}):this['skyboxTool'][_0x1cd8('0x46e')](_0x47d6fb,_0x444a63[_0x1cd8('0x2f8')],function(){_0x1cd8('0xa09')===_0x444a63[_0x1cd8('0x101')]&&_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x473')]({'size':_0x444a63[_0x1cd8('0xeb')],'offsetY':_0x444a63['offsetY']}),_0x1cd8('0x496')===_0x444a63[_0x1cd8('0x101')]&&_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x495')]();}),this[_0x1cd8('0x914')][_0x1cd8('0x29d')]('canUpdate',function(){_0x542a66[_0x1cd8('0x467')]=_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x467')];})),0x6===_0x444a63[_0x1cd8('0x9a5')]['length'])){for(var _0x4c4491=0x0,_0x5bdec0=_0x444a63['imgPaths']['length'];_0x4c4491<_0x5bdec0;_0x4c4491++)_0x444a63[_0x1cd8('0x9a5')][_0x4c4491]=(0x0,_0x4869fd['getConfigAssetsPath'])(_0x444a63[_0x1cd8('0x9a5')][_0x4c4491]);this[_0x1cd8('0x914')]=new _0x3d4e4e[(_0x1cd8('0xd3'))]({'mapView':this[_0x1cd8('0xdf')][_0x1cd8('0x466')]}),this['skyboxTool'][_0x1cd8('0x101')]=_0x444a63[_0x1cd8('0x101')],this[_0x1cd8('0x914')][_0x1cd8('0x46a')](_0x444a63[_0x1cd8('0x9a5')],function(){var _0x47d6fb;_0x1cd8('0xa09')===_0x444a63[_0x1cd8('0x101')]&&((0x0,_0x4869fd[_0x1cd8('0x33')])()&&esmap['tileMapInited']?((_0x47d6fb=!0x1,_0x4869fd[_0x1cd8('0x29')])()&&(_0x47d6fb=!0x0),_0x542a66[_0x1cd8('0x914')]['createBox']({'size':_0x444a63[_0x1cd8('0xeb')],'offsetY':_0x444a63['offsetY'],'isCullGround':_0x47d6fb,'intensity':_0x444a63[_0x1cd8('0x475')]}),_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x469')][_0x1cd8('0x327')]=!0x1):_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x473')]({'size':_0x444a63[_0x1cd8('0xeb')],'offsetY':_0x444a63[_0x1cd8('0x33d')],'intensity':_0x444a63[_0x1cd8('0x475')]})),_0x1cd8('0x496')===_0x444a63[_0x1cd8('0x101')]&&_0x542a66[_0x1cd8('0x914')]['setBackground']();}),this[_0x1cd8('0x914')][_0x1cd8('0x29d')]('canUpdate',function(){_0x542a66[_0x1cd8('0x467')]=_0x542a66['skyboxTool']['textureCube'],_0x542a66[_0x1cd8('0x467')][_0x1cd8('0x7f')]=_0x444a63['name']||'',_0x542a66[_0x1cd8('0xa08')]['push'](_0x542a66[_0x1cd8('0x467')]);});}if(_0x444a63&&'gradient_sphere'===_0x444a63[_0x1cd8('0x101')]&&(this[_0x1cd8('0x914')]=new _0x3d4e4e[(_0x1cd8('0xd3'))]({'mapView':this['map'][_0x1cd8('0x466')]}),_0x47d6fb=new THREE['TextureLoader']()[_0x1cd8('0x9d')]((0x0,_0x4869fd[_0x1cd8('0x520')])(_0x444a63['imgPaths'][0x0])),this[_0x1cd8('0x914')]['createGradientSky']({'radius':_0x444a63[_0x1cd8('0xeb')],'topColorStr':_0x444a63[_0x1cd8('0x483')],'bottomColorStr':_0x444a63[_0x1cd8('0xa0b')],'offset':_0x444a63['offsetY'],'exponent':_0x444a63[_0x1cd8('0x482')],'texture':_0x47d6fb})),_0x444a63&&_0x1cd8('0xa0c')===_0x444a63['type']&&(0x1===_0x444a63[_0x1cd8('0x9a5')][_0x1cd8('0xc')]&&(_0x47d6fb=(0x0,_0x4869fd[_0x1cd8('0x520')])(_0x444a63['imgPaths'][0x0]),this[_0x1cd8('0x914')]=new _0x3d4e4e[(_0x1cd8('0xd3'))]({'mapView':this[_0x1cd8('0xdf')][_0x1cd8('0x466')]}),this[_0x1cd8('0x914')]['type']=_0x444a63[_0x1cd8('0x101')],this[_0x1cd8('0x914')][_0x1cd8('0x46e')](_0x47d6fb,_0x444a63[_0x1cd8('0x2f8')],function(){_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x488')]({'size':_0x444a63[_0x1cd8('0xeb')],'offsetY':_0x444a63['offsetY'],'topColorStr':_0x444a63['topColor'],'bottomColorStr':_0x444a63[_0x1cd8('0xa0b')]});}),this['skyboxTool'][_0x1cd8('0x29d')](_0x1cd8('0x46d'),function(){_0x542a66[_0x1cd8('0x467')]=_0x542a66['skyboxTool'][_0x1cd8('0x467')];})),0x6===_0x444a63[_0x1cd8('0x9a5')][_0x1cd8('0xc')])){for(var _0x524410=0x0,_0x5136d3=_0x444a63[_0x1cd8('0x9a5')]['length'];_0x524410<_0x5136d3;_0x524410++)_0x444a63[_0x1cd8('0x9a5')][_0x524410]=(0x0,_0x4869fd[_0x1cd8('0x520')])(_0x444a63['imgPaths'][_0x524410]);this[_0x1cd8('0x914')]=new _0x3d4e4e[(_0x1cd8('0xd3'))]({'mapView':this[_0x1cd8('0xdf')][_0x1cd8('0x466')]}),this[_0x1cd8('0x914')]['type']=_0x444a63[_0x1cd8('0x101')],this[_0x1cd8('0x914')][_0x1cd8('0x46a')](_0x444a63['imgPaths'],function(){_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x488')]({'size':_0x444a63[_0x1cd8('0xeb')],'offsetY':_0x444a63[_0x1cd8('0x33d')],'topColorStr':_0x444a63['topColor'],'bottomColorStr':_0x444a63[_0x1cd8('0xa0b')]});}),this[_0x1cd8('0x914')]['addEventListener'](_0x1cd8('0x46d'),function(){_0x542a66['textureCube']=_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x467')];});}if(_0x444a63&&_0x1cd8('0xa0d')===_0x444a63[_0x1cd8('0x101')]&&(0x1===_0x444a63[_0x1cd8('0x9a5')][_0x1cd8('0xc')]&&(_0x47d6fb=(0x0,_0x4869fd[_0x1cd8('0x520')])(_0x444a63[_0x1cd8('0x9a5')][0x0]),this['skyboxTool']=new _0x3d4e4e[(_0x1cd8('0xd3'))]({'mapView':this[_0x1cd8('0xdf')]['mapView']}),this[_0x1cd8('0x914')]['type']=_0x444a63[_0x1cd8('0x101')],this[_0x1cd8('0x914')][_0x1cd8('0x46e')](_0x47d6fb,_0x444a63[_0x1cd8('0x2f8')],function(){_0x542a66['skyboxTool'][_0x1cd8('0x494')]({'size':_0x444a63[_0x1cd8('0xeb')]});}),this['skyboxTool'][_0x1cd8('0x29d')](_0x1cd8('0x46d'),function(){_0x542a66[_0x1cd8('0x467')]=_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x467')];})),0x6===_0x444a63[_0x1cd8('0x9a5')][_0x1cd8('0xc')])){for(var _0x1083fd=0x0,_0x1906cd=_0x444a63[_0x1cd8('0x9a5')]['length'];_0x1083fd<_0x1906cd;_0x1083fd++)_0x444a63['imgPaths'][_0x1083fd]=(0x0,_0x4869fd['getConfigAssetsPath'])(_0x444a63[_0x1cd8('0x9a5')][_0x1083fd]);this['skyboxTool']=new _0x3d4e4e['Skybox']({'mapView':this[_0x1cd8('0xdf')][_0x1cd8('0x466')]}),this[_0x1cd8('0x914')][_0x1cd8('0x101')]=_0x444a63[_0x1cd8('0x101')],this[_0x1cd8('0x914')][_0x1cd8('0x46a')](_0x444a63[_0x1cd8('0x9a5')],function(){_0x542a66[_0x1cd8('0x914')][_0x1cd8('0x494')]({'size':_0x444a63[_0x1cd8('0xeb')]});}),this[_0x1cd8('0x914')]['addEventListener'](_0x1cd8('0x46d'),function(){_0x542a66[_0x1cd8('0x467')]=_0x542a66['skyboxTool'][_0x1cd8('0x467')];});}_0x444a63&&_0x1cd8('0xa0e')===_0x444a63[_0x1cd8('0x101')]&&(this[_0x1cd8('0xa0f')]=new _0x3d4e4e[(_0x1cd8('0xd1'))]({'camera':this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x2fb')]}),(0x0,_0x4869fd[_0x1cd8('0x29')])(),(_0x47d6fb=!0x1,_0x4869fd[_0x1cd8('0x33')])()&&(0x0,_0x4869fd[_0x1cd8('0x29')])()&&(_0x47d6fb=!0x0),this['object3d']=this[_0x1cd8('0xa0f')][_0x1cd8('0x7')]({'isCullGround':_0x47d6fb}),this[_0x1cd8('0x322')][_0x1cd8('0x327')]=!esmap['ESTileMap']['inited'],'day'===_0x444a63['effectType']&&this[_0x1cd8('0xa0f')]['setSkyConfig'](this[_0x1cd8('0xa0f')][_0x1cd8('0x49d')]),_0x1cd8('0x28a')===_0x444a63[_0x1cd8('0x983')]&&this[_0x1cd8('0xa0f')][_0x1cd8('0x4a0')](this[_0x1cd8('0xa0f')][_0x1cd8('0x49e')]),_0x444a63[_0x1cd8('0xa10')]&&_0x444a63[_0x1cd8('0xa10')][_0x1cd8('0x7f')]&&this['map'][_0x1cd8('0x466')][_0x444a63[_0x1cd8('0xa10')][_0x1cd8('0x7f')]]&&(_0x444a63[_0x1cd8('0xa10')][_0x1cd8('0xa11')]&&(this[_0x1cd8('0xa0f')][_0x1cd8('0x49c')]=_0x444a63[_0x1cd8('0xa10')][_0x1cd8('0xa11')]),_0x444a63[_0x1cd8('0xa10')][_0x1cd8('0xa12')]&&(this['shaderSky'][_0x1cd8('0x49b')]=_0x444a63[_0x1cd8('0xa10')][_0x1cd8('0xa12')]),this[_0x1cd8('0xa0f')][_0x1cd8('0x2d3')]()),this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](this[_0x1cd8('0x322')]),(0x0,_0x4869fd[_0x1cd8('0x33')])()&&this[_0x1cd8('0xa13')]());}},{'key':'bindTileMapLevelChange','value':function(){var _0x444a63=this,_0x542a66=(0x0,_0x4869fd[_0x1cd8('0x29')])();this[_0x1cd8('0xdf')]['on'](_0x1cd8('0xa14'),function(_0x47d6fb){_0x47d6fb<(_0x542a66?0x10:0xd)?_0x444a63['object3d']&&(_0x444a63['object3d'][_0x1cd8('0x327')]=!0x1):_0x444a63['object3d']&&(_0x444a63['object3d'][_0x1cd8('0x327')]=!0x0);});}},{'key':_0x1cd8('0xde'),'value':function(){this[_0x1cd8('0x467')]=null,this[_0x1cd8('0x914')]&&this['skyboxTool']['dispose'](),this[_0x1cd8('0xa0f')]&&this['shaderSky']['dispose']();}}]),_0x444a63[_0x1cd8('0xa')]=_0x5136d3;},function(_0x4bef49,_0x11eea4,_0x5b40ba){'use strict';Object['defineProperty'](_0x11eea4,'__esModule',{'value':!0x0});var _0x113905=_0x19b36c(_0x5b40ba(0x4)),_0x3a7999=_0x19b36c(_0x5b40ba(0x0)),_0x52eb6a=_0x19b36c(_0x5b40ba(0x1)),_0x6d9bae=_0x5b40ba(0x1a),_0x11b749=function(_0x4bef49){if(_0x4bef49&&_0x4bef49[_0x1cd8('0x6')])return _0x4bef49;var _0x11eea4={};if(null!=_0x4bef49)for(var _0x5b40ba in _0x4bef49)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')][_0x1cd8('0x1')](_0x4bef49,_0x5b40ba)&&(_0x11eea4[_0x5b40ba]=_0x4bef49[_0x5b40ba]);return _0x11eea4[_0x1cd8('0xa')]=_0x4bef49,_0x11eea4;}(_0x5b40ba(0x41)),_0x3209a6=_0x5b40ba(0x72);function _0x19b36c(_0x4bef49){return _0x4bef49&&_0x4bef49['__esModule']?_0x4bef49:{'default':_0x4bef49};}function _0x1f8003(_0x4bef49){(0x0,_0x3a7999[_0x1cd8('0xa')])(this,_0x1f8003),this[_0x1cd8('0xdf')]=(0x0,_0x6d9bae[_0x1cd8('0x30')])(),this[_0x1cd8('0xa15')]=[],this[_0x1cd8('0x4fd')]=_0x4bef49,this[_0x1cd8('0xa16')]=null,this['waveEffectLayer']=null;}(0x0,_0x52eb6a[_0x1cd8('0xa')])(_0x1f8003,[{'key':_0x1cd8('0x93b'),'value':function(_0x4bef49){var _0x11eea4;_0x4bef49[_0x1cd8('0x101')]&&_0x1cd8('0x8e7')===_0x4bef49[_0x1cd8('0x101')]?((_0x11eea4=this[_0x1cd8('0xa17')](_0x4bef49))[_0x1cd8('0x7f')]=_0x4bef49[_0x1cd8('0x7f')],this['waterList']['push'](_0x11eea4)):this[_0x1cd8('0xa18')](_0x4bef49);}},{'key':_0x1cd8('0xa17'),'value':function(_0x4bef49){var _0x11eea4=void 0x0,_0x5b40ba=_0x4bef49[_0x1cd8('0xa19')]?new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')]((0x0,_0x6d9bae[_0x1cd8('0x520')])(_0x4bef49[_0x1cd8('0xa19')])):new THREE[(_0x1cd8('0x63e'))]();return _0x4bef49[_0x1cd8('0x5da')]&&(_0x11eea4=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')]((0x0,_0x6d9bae[_0x1cd8('0x520')])(_0x4bef49[_0x1cd8('0x5da')]))),new _0x11b749[(_0x1cd8('0xb2'))]({'colorStr':_0x4bef49[_0x1cd8('0x220')],'lightColorStr':_0x4bef49[_0x1cd8('0x4cb')],'scale':_0x4bef49[_0x1cd8('0x3f6')],'speed':_0x4bef49[_0x1cd8('0x326')],'fluctuate':_0x4bef49[_0x1cd8('0xa1a')],'texture':_0x5b40ba,'skyTexture':_0x11eea4,'texUvScale':_0x4bef49[_0x1cd8('0xa1b')],'flowAngle':_0x4bef49['flowAngle'],'opacity':_0x4bef49['opacity']});}},{'key':_0x1cd8('0xa18'),'value':function(_0x4bef49){var _0x11eea4=(0x0,_0x6d9bae[_0x1cd8('0x2f')])(0x0)[_0x1cd8('0x506')](_0x4bef49[_0x1cd8('0x8a3')]||0x1)[_0x1cd8('0x8fd')]([esmap[_0x1cd8('0x4f2')][_0x1cd8('0x956')],esmap['ESLayerType'][_0x1cd8('0x957')]]),_0x5b40ba=this[_0x1cd8('0xa17')](_0x4bef49),_0x3a7999=(_0x5b40ba[_0x1cd8('0x2f2')](),!0x0),_0x52eb6a=!0x1,_0x11b749=void 0x0;try{for(var _0x19b36c,_0x1f8003=(0x0,_0x113905[_0x1cd8('0xa')])(_0x11eea4);!(_0x3a7999=(_0x19b36c=_0x1f8003[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x3a7999=!0x0){var _0x525855=_0x19b36c[_0x1cd8('0xf')],_0x102ca7=!0x0,_0xd7ff3f=!0x1,_0x3b89dd=void 0x0;try{for(var _0x159e38,_0x5a87d7=(0x0,_0x113905['default'])(_0x525855[_0x1cd8('0x509')][_0x1cd8('0x315')]);!(_0x102ca7=(_0x159e38=_0x5a87d7[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x102ca7=!0x0){var _0x17ad43=_0x159e38[_0x1cd8('0xf')],_0x2b3ca4=(0x0,_0x6d9bae[_0x1cd8('0x2d')])(_0x17ad43,_0x4bef49[_0x1cd8('0x42')]);if(_0x2b3ca4){_0x17ad43[_0x1cd8('0x47')][_0x2b3ca4[_0x1cd8('0x45')]['index']]=_0x5b40ba['getMaterial'](),(0x0,_0x3209a6[_0x1cd8('0x2a0')])(_0x17ad43[_0x1cd8('0x47')][_0x2b3ca4[_0x1cd8('0x45')]['index']],_0x4bef49),_0x5b40ba[_0x1cd8('0x42')]=_0x4bef49[_0x1cd8('0x42')],_0x5b40ba[_0x1cd8('0x95c')]=_0x4bef49,this[_0x1cd8('0xa15')]['push'](_0x5b40ba);break;}}}catch(_0x2210a4){_0xd7ff3f=!0x0,_0x3b89dd=_0x2210a4;}finally{try{!_0x102ca7&&_0x5a87d7['return']&&_0x5a87d7[_0x1cd8('0xa1')]();}finally{if(_0xd7ff3f)throw _0x3b89dd;}}}}catch(_0x115d22){_0x52eb6a=!0x0,_0x11b749=_0x115d22;}finally{try{!_0x3a7999&&_0x1f8003[_0x1cd8('0xa1')]&&_0x1f8003['return']();}finally{if(_0x52eb6a)throw _0x11b749;}}}},{'key':_0x1cd8('0x2f5'),'value':function(_0x4bef49,_0x11eea4){for(var _0x5b40ba=0x0;_0x5b40ba<this[_0x1cd8('0xa15')][_0x1cd8('0xc')];_0x5b40ba++)if(_0x4bef49==this[_0x1cd8('0xa15')][_0x5b40ba]['name']){void 0x0!==_0x11eea4[_0x1cd8('0xa1c')]&&(this[_0x1cd8('0xa15')][_0x5b40ba][_0x1cd8('0x47')]['transparent']=!0x0,this['waterList'][_0x5b40ba][_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0x11eea4['alpha']);break;}}},{'key':_0x1cd8('0x916'),'value':function(_0x4bef49){this['waveEffectLayer']||(this[_0x1cd8('0xa1d')]=new esmap[(_0x1cd8('0x53'))]['EffectLayer'](_0x1cd8('0xa1e'),esmap[_0x1cd8('0x4f5')][_0x1cd8('0x4f3')]),esmap[_0x1cd8('0x53')][_0x1cd8('0x8f0')](this['waveEffectLayer'])),this['waveLineMarker']=new esmap['ESEffectTool'][(_0x1cd8('0x8f5'))](esmap[_0x1cd8('0x282')][_0x1cd8('0x57d')],{'color':_0x4bef49[_0x1cd8('0x220')],'speed':_0x4bef49[_0x1cd8('0x326')],'lineWidth':_0x4bef49['lineWidth'],'isShine':_0x4bef49[_0x1cd8('0x524')],'imgUrl':_0x4bef49[_0x1cd8('0x51f')],'seeThrough':!0x1}),_0x4bef49[_0x1cd8('0x2f1')]&&(this[_0x1cd8('0xa16')][_0x1cd8('0x509')][_0x1cd8('0x3f')]['y']=_0x4bef49['height']),this[_0x1cd8('0xa1d')][_0x1cd8('0x8f7')](this[_0x1cd8('0xa16')]);}},{'key':_0x1cd8('0xa1f'),'value':function(_0x4bef49,_0x11eea4){for(var _0x5b40ba,_0x3a7999=[],_0x52eb6a=new THREE[(_0x1cd8('0x32a'))](),_0x11b749=0x0,_0x19b36c=_0x4bef49[_0x1cd8('0xc')];_0x11b749<_0x19b36c;_0x11b749++){var _0x1f8003=new THREE['Vector2'](_0x4bef49[_0x11b749]['u'],_0x4bef49[_0x11b749]['v'])[_0x1cd8('0x1cb')]()[_0x1cd8('0x1cc')](_0x11eea4),_0x1f8003=[{'x':_0x4bef49[_0x11b749]['x']-_0x1f8003['x']/0x2,'y':_0x4bef49[_0x11b749]['y']-_0x1f8003['y']/0x2,'offset':0x2},{'x':_0x4bef49[_0x11b749]['x']+_0x1f8003['x'],'y':_0x4bef49[_0x11b749]['y']+_0x1f8003['y'],'offset':0x2}],_0x1f8003=this[_0x1cd8('0xa16')][_0x1cd8('0x310')](_0x1f8003,new THREE[(_0x1cd8('0x57'))](this[_0x1cd8('0xdf')][_0x1cd8('0x38')]['sceneX_'],0x0,this[_0x1cd8('0xdf')]['mapScene'][_0x1cd8('0x3a')])),_0x5967ff=_0x1f8003[_0x1cd8('0x40c')]('uv'),_0x28f3f9=Math[_0x1cd8('0x20')]();_0x5967ff['set'](new Float32Array([_0x28f3f9,_0x28f3f9,_0x28f3f9,_0x28f3f9+0x1,_0x28f3f9+0x1,_0x28f3f9,_0x28f3f9+0x1,_0x28f3f9+0x1])),_0x3a7999['push'](_0x1f8003);}0x0<_0x3a7999[_0x1cd8('0xc')]&&(_0x5b40ba=this[_0x1cd8('0x9de')](_0x3a7999),(_0x5b40ba=new THREE['Mesh'](_0x5b40ba,this[_0x1cd8('0xa16')][_0x1cd8('0x581')]))['renderOrder']=0x64,_0x52eb6a[_0x1cd8('0x1cd')](_0x5b40ba));for(var _0x142cc4=0x0,_0xb1c1a3=_0x3a7999[_0x1cd8('0xc')];_0x142cc4<_0xb1c1a3;_0x142cc4++)_0x3a7999[_0x142cc4]['dispose']();this[_0x1cd8('0xa16')]['o3d_'][_0x1cd8('0x1cd')](_0x52eb6a);}},{'key':_0x1cd8('0x917'),'value':function(){this[_0x1cd8('0xa16')]=null,this[_0x1cd8('0xa1d')]&&this['waveEffectLayer']['removeAll']();}},{'key':'mergeGeometrys','value':function(_0x4bef49){var _0x11eea4=[],_0x5b40ba=!0x0,_0x3a7999=!0x1,_0x52eb6a=void 0x0;try{for(var _0x11b749,_0x19b36c=(0x0,_0x113905[_0x1cd8('0xa')])(_0x4bef49);!(_0x5b40ba=(_0x11b749=_0x19b36c[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x5b40ba=!0x0){var _0x1f8003=_0x11b749[_0x1cd8('0xf')];_0x11eea4[_0x1cd8('0x70')](_0x1f8003);}}catch(_0xa0ae2f){_0x3a7999=!0x0,_0x52eb6a=_0xa0ae2f;}finally{try{!_0x5b40ba&&_0x19b36c['return']&&_0x19b36c[_0x1cd8('0xa1')]();}finally{if(_0x3a7999)throw _0x52eb6a;}}_0x4bef49=THREE[_0x1cd8('0xa20')][_0x1cd8('0x9f4')](_0x11eea4,!0x1);return _0x4bef49['addGroup'](0x0,_0x4bef49[_0x1cd8('0x177')]['position'][_0x1cd8('0x10f')],0x0),_0x4bef49;}},{'key':'disposeAll','value':function(){for(var _0x4bef49=0x0,_0x11eea4=this[_0x1cd8('0xa15')][_0x1cd8('0xc')];_0x4bef49<_0x11eea4;_0x4bef49++)this[_0x1cd8('0xa15')][_0x4bef49][_0x1cd8('0xde')](),this[_0x1cd8('0xa15')][_0x4bef49]=null;this[_0x1cd8('0xa15')][_0x1cd8('0xc')]=0x0,this[_0x1cd8('0xa1d')]&&(this[_0x1cd8('0xa1d')][_0x1cd8('0x511')](),this[_0x1cd8('0xa16')]=null,this[_0x1cd8('0xa1d')]=null);}},{'key':_0x1cd8('0x325'),'value':function(_0x4bef49){if(0x0<this['waterList'][_0x1cd8('0xc')]){var _0x11eea4=!0x0,_0x5b40ba=!0x1,_0x3a7999=void 0x0;try{for(var _0x52eb6a,_0x11b749=(0x0,_0x113905['default'])(this[_0x1cd8('0xa15')]);!(_0x11eea4=(_0x52eb6a=_0x11b749[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x11eea4=!0x0)_0x52eb6a[_0x1cd8('0xf')][_0x1cd8('0x325')](_0x4bef49);}catch(_0x5bbf28){_0x5b40ba=!0x0,_0x3a7999=_0x5bbf28;}finally{try{!_0x11eea4&&_0x11b749[_0x1cd8('0xa1')]&&_0x11b749[_0x1cd8('0xa1')]();}finally{if(_0x5b40ba)throw _0x3a7999;}}}}}]),_0x11eea4['default']=_0x1f8003;},function(_0xed0454,_0xa3e02e,_0x589747){'use strict';Object[_0x1cd8('0x4')](_0xa3e02e,_0x1cd8('0x6'),{'value':!0x0});var _0x20e5ed=_0x3b9319(_0x589747(0x3e)),_0x585a46=_0x3b9319(_0x589747(0x4)),_0x9b0f55=_0x3b9319(_0x589747(0x0)),_0x4a1f2d=_0x3b9319(_0x589747(0x1)),_0x173f68=_0x589747(0x1a),_0x492e50=function(_0xed0454){if(_0xed0454&&_0xed0454['__esModule'])return _0xed0454;var _0xa3e02e={};if(null!=_0xed0454)for(var _0x589747 in _0xed0454)Object['prototype'][_0x1cd8('0x1e')][_0x1cd8('0x1')](_0xed0454,_0x589747)&&(_0xa3e02e[_0x589747]=_0xed0454[_0x589747]);return _0xa3e02e[_0x1cd8('0xa')]=_0xed0454,_0xa3e02e;}(_0x589747(0x41));function _0x3b9319(_0xed0454){return _0xed0454&&_0xed0454[_0x1cd8('0x6')]?_0xed0454:{'default':_0xed0454};}function _0x208464(_0xed0454){var _0xa3e02e=_0xed0454[_0x1cd8('0x715')],_0xed0454=_0xed0454[_0x1cd8('0x4fa')];(0x0,_0x9b0f55['default'])(this,_0x208464),this[_0x1cd8('0xdf')]=(0x0,_0x173f68[_0x1cd8('0x30')])(),this['water']=_0xa3e02e,this[_0x1cd8('0x918')]=[],this[_0x1cd8('0x91a')]={},this[_0x1cd8('0x91e')]=[],this[_0x1cd8('0xa21')]=[],this[_0x1cd8('0xa22')]=[],this['isSetModelsConfigs']=!0x1,this[_0x1cd8('0x8a4')]=null,this[_0x1cd8('0xa23')]=null,this['lights']=_0xed0454,this[_0x1cd8('0x4fa')]&&(this['lights'][_0x1cd8('0x4fb')]=this),this[_0x1cd8('0x8f8')]=null,this['envTextureCubes']=[],this[_0x1cd8('0xa24')]=[],this[_0x1cd8('0xa25')]=new _0x492e50[(_0x1cd8('0xc4'))]({'map':this[_0x1cd8('0xdf')]}),this[_0x1cd8('0x91b')]=new _0x492e50[(_0x1cd8('0xa9'))](),this[_0x1cd8('0x9a9')]=null,this['lightPointsMeshs']={},this[_0x1cd8('0xa26')]=null,this[_0x1cd8('0xa27')]={},this['tileInstanceMeshs']={},this[_0x1cd8('0xa28')]={};}(0x0,_0x4a1f2d['default'])(_0x208464,[{'key':_0x1cd8('0xa29'),'value':function(_0xed0454){var _0xa3e02e=!0x0,_0x589747=!0x1,_0x9b0f55=void 0x0;try{for(var _0x4a1f2d,_0x3b9319=(0x0,_0x585a46[_0x1cd8('0xa')])(this[_0x1cd8('0x8a4')]);!(_0xa3e02e=(_0x4a1f2d=_0x3b9319[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xa3e02e=!0x0){var _0x208464=_0x4a1f2d[_0x1cd8('0xf')];if(_0x208464[_0x1cd8('0x7f')]==_0xed0454||_0x208464['id']==_0xed0454)return _0x208464;}}catch(_0x2182ad){_0x589747=!0x0,_0x9b0f55=_0x2182ad;}finally{try{!_0xa3e02e&&_0x3b9319[_0x1cd8('0xa1')]&&_0x3b9319['return']();}finally{if(_0x589747)throw _0x9b0f55;}}return null;}},{'key':_0x1cd8('0xa2a'),'value':function(_0xed0454,_0xa3e02e){var _0x589747=!0x0,_0x9b0f55=!0x1,_0x4a1f2d=void 0x0;try{for(var _0x3b9319,_0x208464=(0x0,_0x585a46[_0x1cd8('0xa')])(_0xa3e02e);!(_0x589747=(_0x3b9319=_0x208464['next']())[_0x1cd8('0x8e')]);_0x589747=!0x0){var _0x5e24fd=_0x3b9319[_0x1cd8('0xf')];if(_0x5e24fd[_0x1cd8('0x7f')]==_0xed0454)return _0x5e24fd['order'];}}catch(_0x18bc34){_0x9b0f55=!0x0,_0x4a1f2d=_0x18bc34;}finally{try{!_0x589747&&_0x208464[_0x1cd8('0xa1')]&&_0x208464[_0x1cd8('0xa1')]();}finally{if(_0x9b0f55)throw _0x4a1f2d;}}}},{'key':_0x1cd8('0x8b6'),'value':function(_0xed0454){this[_0x1cd8('0xa2b')]||(this[_0x1cd8('0x8a4')]=_0xed0454,this['isSetModelsConfigs']=!0x0);}},{'key':_0x1cd8('0x8eb'),'value':function(_0xed0454,_0x29fc54,_0x55e0a2){var _0x25ce84=this,_0x4cc483=_0xed0454['datas_'];_0xed0454[_0x1cd8('0x7c7')](function(_0xed0454){var _0xa3e02e=null,_0x589747=null;if(_0x29fc54&&Array[_0x1cd8('0x1b6')](_0xed0454[_0x1cd8('0x47')])?(_0xa3e02e=_0xed0454[_0x1cd8('0x47')][0x0],_0x589747=_0xed0454):_0xed0454[_0x1cd8('0x47')]&&(_0xa3e02e=_0xed0454['material'],_0x589747=_0xed0454),_0xa3e02e&&_0xa3e02e[_0x1cd8('0x7f')]&&0x0<=_0xa3e02e[_0x1cd8('0x7f')][_0x1cd8('0x50')](_0x1cd8('0x91f'))){var _0x9b0f55=_0x25ce84[_0x1cd8('0xa2c')](_0xa3e02e[_0x1cd8('0x7f')]),_0x4a1f2d=!0x0,_0x3b9319=!0x1,_0x208464=void 0x0;try{for(var _0x4278fe,_0xaba9a6=(0x0,_0x585a46[_0x1cd8('0xa')])(_0x9b0f55);!(_0x4a1f2d=(_0x4278fe=_0xaba9a6[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x4a1f2d=!0x0){var _0x4d8720=_0x4278fe[_0x1cd8('0xf')];_0xa3e02e['_mesh']=_0x589747,_0x25ce84[_0x1cd8('0xa2d')](_0x55e0a2,_0x4d8720,_0xa3e02e,_0x4cc483);}}catch(_0x1d9536){_0x3b9319=!0x0,_0x208464=_0x1d9536;}finally{try{!_0x4a1f2d&&_0xaba9a6[_0x1cd8('0xa1')]&&_0xaba9a6['return']();}finally{if(_0x3b9319)throw _0x208464;}}}if(0x0<=_0xed0454['name'][_0x1cd8('0x50')](_0x1cd8('0x91f'))){var _0x21f9e7=_0x25ce84[_0x1cd8('0xa2c')](_0xed0454['name']);if(_0x1cd8('0x32a')===_0xed0454[_0x1cd8('0x101')]||'Group'===_0xed0454[_0x1cd8('0x101')]){var _0x50894b=!0x0,_0x9b0f55=!0x1,_0x3b9319=void 0x0;try{for(var _0x38d3f3,_0x5a79f0=(0x0,_0x585a46[_0x1cd8('0xa')])(_0x21f9e7);!(_0x50894b=(_0x38d3f3=_0x5a79f0[_0x1cd8('0x7e')]())['done']);_0x50894b=!0x0){var _0x5bb945=_0x38d3f3[_0x1cd8('0xf')];_0x25ce84[_0x1cd8('0xa2d')](_0x55e0a2,_0x5bb945,_0xed0454,_0x4cc483);}}catch(_0x3af21f){_0x9b0f55=!0x0,_0x3b9319=_0x3af21f;}finally{try{!_0x50894b&&_0x5a79f0[_0x1cd8('0xa1')]&&_0x5a79f0[_0x1cd8('0xa1')]();}finally{if(_0x9b0f55)throw _0x3b9319;}}}_0xed0454[_0x1cd8('0x7c7')](function(_0xed0454){if(_0x1cd8('0x30c')===_0xed0454['type']){var _0xa3e02e=!0x0,_0x589747=!0x1,_0x9b0f55=void 0x0;try{for(var _0x4a1f2d,_0x3b9319=(0x0,_0x585a46[_0x1cd8('0xa')])(_0x21f9e7);!(_0xa3e02e=(_0x4a1f2d=_0x3b9319[_0x1cd8('0x7e')]())['done']);_0xa3e02e=!0x0){var _0x208464=_0x4a1f2d[_0x1cd8('0xf')];_0x25ce84[_0x1cd8('0xa2d')](_0x55e0a2,_0x208464,_0xed0454,_0x4cc483);}}catch(_0x93f86f){_0x589747=!0x0,_0x9b0f55=_0x93f86f;}finally{try{!_0xa3e02e&&_0x3b9319[_0x1cd8('0xa1')]&&_0x3b9319[_0x1cd8('0xa1')]();}finally{if(_0x589747)throw _0x9b0f55;}}}});}if(_0x1cd8('0x30c')===_0xed0454[_0x1cd8('0x101')]&&0x0<=_0xed0454['name']['indexOf'](_0x1cd8('0x91f'))){var _0x208464=_0x25ce84['splitEffectsTemplates'](_0xed0454['name']),_0x2073ed=!0x0,_0x9b0f55=!0x1,_0x3b9319=void 0x0;try{for(var _0x20e5ed,_0x129155=(0x0,_0x585a46[_0x1cd8('0xa')])(_0x208464);!(_0x2073ed=(_0x20e5ed=_0x129155[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x2073ed=!0x0){var _0x1ffa83=_0x20e5ed['value'];_0x25ce84[_0x1cd8('0xa2d')](_0x55e0a2,_0x1ffa83,_0xed0454,_0x4cc483);}}catch(_0x16cbbd){_0x9b0f55=!0x0,_0x3b9319=_0x16cbbd;}finally{try{!_0x2073ed&&_0x129155[_0x1cd8('0xa1')]&&_0x129155[_0x1cd8('0xa1')]();}finally{if(_0x9b0f55)throw _0x3b9319;}}}});}},{'key':_0x1cd8('0xa2e'),'value':function(_0xed0454,_0x3b9319,_0x208464){var _0x4be25f=this,_0x42be0d=_0xed0454[_0x1cd8('0x43')];_0xed0454[_0x1cd8('0x7c7')](function(_0xed0454){var _0xa3e02e=null,_0x589747=null;if(_0x3b9319&&Array[_0x1cd8('0x1b6')](_0xed0454[_0x1cd8('0x47')])?(_0xa3e02e=_0xed0454['material'][0x0],_0x589747=_0xed0454):_0xed0454[_0x1cd8('0x47')]&&(_0xa3e02e=_0xed0454[_0x1cd8('0x47')],_0x589747=_0xed0454),_0xa3e02e&&_0xa3e02e[_0x1cd8('0x7f')])for(var _0x9b0f55 in _0xa3e02e[_0x1cd8('0xa2f')]=_0x589747,_0x208464[_0x1cd8('0x47')])_0x9b0f55===_0xa3e02e[_0x1cd8('0x7f')]&&_0x4be25f['settingModelEffects']('',_0xa3e02e,_0x42be0d,_0x208464['material'][_0x9b0f55]);if(_0x1cd8('0x30c')===_0xed0454[_0x1cd8('0x101')])for(var _0x4a1f2d in _0x208464[_0x1cd8('0x428')])_0x4a1f2d===_0xed0454[_0x1cd8('0x7f')]&&_0x4be25f[_0x1cd8('0xa30')]('',_0xed0454,_0x42be0d,_0x208464[_0x1cd8('0x428')][_0x4a1f2d]);});}},{'key':_0x1cd8('0xa2d'),'value':function(_0xed0454,_0xa3e02e,_0x589747,_0x9b0f55){if(_0xed0454['modelEffects']&&0x0<_0xed0454['modelEffects'][_0x1cd8('0xc')]){var _0x4a1f2d=!0x0,_0x3b9319=!0x1,_0x208464=void 0x0;try{for(var _0x3d65f6,_0x572e25=(0x0,_0x585a46['default'])(_0xed0454[_0x1cd8('0x8e9')]);!(_0x4a1f2d=(_0x3d65f6=_0x572e25['next']())[_0x1cd8('0x8e')]);_0x4a1f2d=!0x0){var _0x419995=_0x3d65f6['value'];if(_0x419995[_0x1cd8('0x7f')]===_0xa3e02e)if(!this['settingModelEffects'](_0xa3e02e,_0x589747,_0x9b0f55,_0x419995))break;}}catch(_0x42c8b0){_0x3b9319=!0x0,_0x208464=_0x42c8b0;}finally{try{!_0x4a1f2d&&_0x572e25[_0x1cd8('0xa1')]&&_0x572e25['return']();}finally{if(_0x3b9319)throw _0x208464;}}}}},{'key':_0x1cd8('0xa30'),'value':function(_0xed0454,_0xa3e02e,_0x589747,_0x9b0f55){var _0x4a1f2d;if(!_0x9b0f55[_0x1cd8('0xa31')]||'Object3D'!==_0xa3e02e[_0x1cd8('0x101')]&&_0x1cd8('0x1cf')!==_0xa3e02e[_0x1cd8('0x101')]||(this[_0x1cd8('0xa28')][_0x589747['name']]||(this[_0x1cd8('0xa28')][_0x589747['name']]={}),void 0x0!==_0x9b0f55['control'][_0x1cd8('0x327')]&&(_0xa3e02e[_0x1cd8('0x327')]=_0x9b0f55[_0x1cd8('0xa31')][_0x1cd8('0x327')]),this[_0x1cd8('0xa28')][_0x589747[_0x1cd8('0x7f')]][_0xed0454]=_0xa3e02e),_0x9b0f55[_0x1cd8('0x525')]&&_0xa3e02e[_0x1cd8('0xdf')]&&(_0x3b9319=this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')]['capabilities'][_0x1cd8('0x528')](),_0x9b0f55[_0x1cd8('0x525')]&&!_0x9b0f55[_0x1cd8('0x525')][_0x1cd8('0x41d')]?_0x9b0f55[_0x1cd8('0x525')]=_0x1cd8('0xe4')==_0x9b0f55[_0x1cd8('0x525')]?_0x3b9319:_0x9b0f55['anisotropy']:_0x9b0f55['anisotropy']=0x10==_0x9b0f55['anisotropy']?_0x3b9319:_0x9b0f55[_0x1cd8('0x525')]['value'],_0xa3e02e['map'][_0x1cd8('0x525')]=_0x9b0f55[_0x1cd8('0x525')]),_0x9b0f55[_0x1cd8('0x1df')]&&(_0x1cd8('0xa32')==_0x9b0f55[_0x1cd8('0x1df')]||_0x9b0f55[_0x1cd8('0x1df')][_0x1cd8('0x41d')]&&_0x9b0f55['blending'][_0x1cd8('0xa32')])&&(_0xa3e02e[_0x1cd8('0x1df')]=THREE[_0x1cd8('0x1e0')],_0xa3e02e['depthWrite']=!0x1),void 0x0!==_0x9b0f55[_0x1cd8('0x1e1')]&&(_0x9b0f55['transparent'][_0x1cd8('0x41d')]?(_0xa3e02e[_0x1cd8('0x1e1')]=_0x9b0f55[_0x1cd8('0x1e1')][_0x1cd8('0x41d')],_0x9b0f55['transparent']['opacity']&&_0x9b0f55['transparent'][_0x1cd8('0x20a')]<0x1&&(_0xa3e02e[_0x1cd8('0x20a')]=_0x9b0f55[_0x1cd8('0x1e1')][_0x1cd8('0x20a')])):_0xa3e02e[_0x1cd8('0x1e1')]=_0x9b0f55['transparent'],_0xa3e02e[_0x1cd8('0x10b')]=!0x0),_0x9b0f55['renderSort']&&(_0xa3e02e[_0x1cd8('0x30d')]&&!_0x9b0f55['renderSort']['enabled']?_0xa3e02e['renderOrder']=_0x9b0f55[_0x1cd8('0x962')]:_0xa3e02e[_0x1cd8('0x30d')]=_0x9b0f55[_0x1cd8('0x962')][_0x1cd8('0xf')]),_0x9b0f55[_0x1cd8('0x35f')]&&_0x9b0f55[_0x1cd8('0x35f')]['enabled']&&(_0xa3e02e[_0x1cd8('0x35f')]=_0x9b0f55[_0x1cd8('0x35f')][_0x1cd8('0xf')]),_0x9b0f55['alphaTest']&&void 0x0!==_0xa3e02e[_0x1cd8('0x1f2')]&&(_0x9b0f55[_0x1cd8('0x1f2')][_0x1cd8('0x41d')]?_0xa3e02e[_0x1cd8('0x1f2')]=_0x9b0f55[_0x1cd8('0x1f2')][_0x1cd8('0xf')]:_0xa3e02e['alphaTest']=_0x9b0f55['alphaTest']),void 0x0!==_0x9b0f55['depthWrite']&&(_0x9b0f55[_0x1cd8('0x1e2')][_0x1cd8('0x41d')]?_0xa3e02e['depthWrite']=_0x9b0f55[_0x1cd8('0x1e2')]['value']:_0xa3e02e[_0x1cd8('0x1e2')]=_0x9b0f55[_0x1cd8('0x1e2')]),!_0x9b0f55[_0x1cd8('0xa33')]||void 0x0!==_0x9b0f55[_0x1cd8('0xa33')][_0x1cd8('0x41d')]&&!0x1===_0x9b0f55['fresnel'][_0x1cd8('0x41d')]||(new _0x492e50[(_0x1cd8('0xa8'))]()[_0x1cd8('0x2f2')](_0xa3e02e),_0xa3e02e[_0x1cd8('0x47d')]=this['lights'][_0x1cd8('0x8f8')],_0xa3e02e[_0x1cd8('0x2aa')]=_0x9b0f55['fresnel'][_0x1cd8('0x475')]||0x14),_0x9b0f55['envTexture']&&this[_0x1cd8('0xa34')](_0xa3e02e,_0x9b0f55[_0x1cd8('0x888')]),_0x9b0f55[_0x1cd8('0x8a6')]&&(_0xa3e02e[_0x1cd8('0x752')]=_0x9b0f55['shadow'][_0x1cd8('0x752')]||!0x1,_0xa3e02e['receiveShadow']=_0x9b0f55[_0x1cd8('0x8a6')]['receiveShadow']||!0x1),_0x9b0f55['unrealBloom']&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')]['isOpenScreenEffect']&&(_0x9b0f55[_0x1cd8('0x5e0')][_0x1cd8('0x41d')],esmap[_0x1cd8('0x53')][_0x1cd8('0x4ff')][_0x1cd8('0x921')](_0xa3e02e,_0x9b0f55[_0x1cd8('0x5e0')][_0x1cd8('0x475')])),_0x9b0f55['outline']&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')][_0x1cd8('0x422')]&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4ff')][_0x1cd8('0x928')](_0xa3e02e),_0x9b0f55[_0x1cd8('0xa35')]&&(void 0x0===_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0x41d')]||!0x1!==_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0x41d')])){var _0x3b9319=null;if(_0x9b0f55['lineFrame']['color']&&(_0x9f03d3=_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0xa36')]||0x1,_0x3b9319=this[_0x1cd8('0xa37')](_0xa3e02e,_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0x220')],_0x9f03d3)),_0x9b0f55['lineFrame'][_0x1cd8('0xa38')])if(Array['isArray'](_0xa3e02e[_0x1cd8('0x47')])){var _0x208464=!0x0,_0x9f03d3=!0x1,_0xa1f1f3=void 0x0;try{for(var _0x288a14,_0x4034e3=(0x0,_0x585a46[_0x1cd8('0xa')])(_0xa3e02e[_0x1cd8('0x47')]);!(_0x208464=(_0x288a14=_0x4034e3[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x208464=!0x0){var _0x304f62=_0x288a14[_0x1cd8('0xf')];void 0x0!==_0x9b0f55['lineFrame']['faces']['visible']&&(_0x304f62[_0x1cd8('0x327')]=_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0xa38')][_0x1cd8('0x327')]),_0x304f62[_0x1cd8('0x1e2')]=!0x1;}}catch(_0x14f876){_0x9f03d3=!0x0,_0xa1f1f3=_0x14f876;}finally{try{!_0x208464&&_0x4034e3[_0x1cd8('0xa1')]&&_0x4034e3[_0x1cd8('0xa1')]();}finally{if(_0x9f03d3)throw _0xa1f1f3;}}}else void 0x0!==_0x9b0f55[_0x1cd8('0xa35')]['faces'][_0x1cd8('0x327')]&&(_0xa3e02e[_0x1cd8('0x47')][_0x1cd8('0x327')]=_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0xa38')][_0x1cd8('0x327')]),_0xa3e02e[_0x1cd8('0x47')]['depthWrite']=!0x1;_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0x20a')]&&(_0xa3e02e[_0x1cd8('0x47')]['transparent']=!0x0,_0xa3e02e['material'][_0x1cd8('0x20a')]=_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0x20a')]),'additive'==_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0x1df')]&&(_0xa3e02e[_0x1cd8('0x47')][_0x1cd8('0x1df')]=THREE[_0x1cd8('0x1e0')],_0xa3e02e[_0x1cd8('0x47')]['depthWrite']=!0x1),_0x3b9319&&_0x9b0f55['lineFrame']['unrealBloom']&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4ff')][_0x1cd8('0x921')](_0x3b9319,_0x9b0f55[_0x1cd8('0xa35')][_0x1cd8('0x5e0')][_0x1cd8('0x475')]);}_0x9b0f55[_0x1cd8('0xa39')]&&(_0xa3e02e['wireframe']=!0x0),_0x9b0f55[_0x1cd8('0xa3a')]&&(_0xa3e02e[_0x1cd8('0xdf')]&&!_0x9b0f55[_0x1cd8('0xa3a')]['enabled']?(_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0x69e')]&&(_0xa3e02e['map'][_0x1cd8('0x651')]=_0x9b0f55[_0x1cd8('0xa3a')]['translate']),_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0x1f7')]&&(_0xa3e02e[_0x1cd8('0xdf')][_0x1cd8('0xa3b')]=_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0x1f7')]),_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa3c')]&&(_0x9f03d3=null,_0xa1f1f3=(_0x9f03d3=_0xa3e02e[_0x1cd8('0xdf')][_0x1cd8('0x7f4')][_0x1cd8('0x40c')](_0x1cd8('0xa3d'))||_0xa3e02e[_0x1cd8('0xdf')][_0x1cd8('0x7f4')][_0x1cd8('0xa3e')])['lastIndexOf']('/'),_0x3b9319=_0x9f03d3[_0x1cd8('0x9ec')](0x0,_0xa1f1f3+0x1),_0x9f03d3=(_0xa1f1f3=_0x9f03d3[_0x1cd8('0x9ec')](_0xa1f1f3+0x1,_0x9f03d3['length']))[_0x1cd8('0x87')]('.')[0x0],_0xa1f1f3=_0xa1f1f3[_0x1cd8('0x87')]('.')[0x1],_0x9b0f55['uvAnimation'][_0x1cd8('0xa3c')]['isUseAlphaMask']?this[_0x1cd8('0xa25')][_0x1cd8('0x63f')](_0xa3e02e,_0x3b9319+_0x9f03d3+_0x1cd8('0xa3f')+_0xa1f1f3):this[_0x1cd8('0xa25')]['addUv2Channel'](_0xa3e02e,_0x3b9319+_0x9f03d3+'_ef_uv-animate.'+_0xa1f1f3,_0x9b0f55['uvAnimation'][_0x1cd8('0xa3c')][_0x1cd8('0x69e')])),_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa40')]&&this[_0x1cd8('0xa25')][_0x1cd8('0x64d')](_0xa3e02e[_0x1cd8('0xdf')],_0x9b0f55['uvAnimation'][_0x1cd8('0xa40')]),this['modelUvAnimation'][_0x1cd8('0x639')][_0x1cd8('0x70')](_0xa3e02e[_0x1cd8('0xdf')]),this[_0x1cd8('0xa25')][_0x1cd8('0x63c')]()):_0xa3e02e[_0x1cd8('0xdf')]&&_0x9b0f55['uvAnimation'][_0x1cd8('0x41d')]&&(_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa41')]?this[_0x1cd8('0xa25')]['addSpriteAnimate'](_0xa3e02e[_0x1cd8('0xdf')],{'imgWidth':_0x9b0f55['uvAnimation']['imgWidth'],'imgHeight':_0x9b0f55[_0x1cd8('0xa3a')]['imgWidth'],'row':_0x9b0f55[_0x1cd8('0xa3a')]['row'],'column':_0x9b0f55['uvAnimation'][_0x1cd8('0x650')],'fps':_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0x2e5')]}):((_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa42')]||_0x9b0f55[_0x1cd8('0xa3a')]['translateY'])&&(_0xa3e02e['map'][_0x1cd8('0x651')]={'x':_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa42')],'y':_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa43')]}),_0x9b0f55['uvAnimation'][_0x1cd8('0x1f7')]&&(_0xa3e02e['map'][_0x1cd8('0xa3b')]=_0x9b0f55['uvAnimation'][_0x1cd8('0x1f7')]),_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa3c')]&&(_0x3b9319=null,_0x9f03d3=(_0x3b9319=_0xa3e02e[_0x1cd8('0xdf')]['image']['getAttribute'](_0x1cd8('0xa3d'))||_0xa3e02e[_0x1cd8('0xdf')]['image']['currentSrc'])[_0x1cd8('0xa44')]('/'),_0xa1f1f3=_0x3b9319[_0x1cd8('0x9ec')](0x0,_0x9f03d3+0x1),_0x3b9319=(_0x9f03d3=_0x3b9319[_0x1cd8('0x9ec')](_0x9f03d3+0x1,_0x3b9319[_0x1cd8('0xc')]))['split']('.')[0x0],_0x9f03d3=_0x9f03d3['split']('.')[0x1],_0x9b0f55['uvAnimation']['uv2UseAlpha']?this[_0x1cd8('0xa25')][_0x1cd8('0x63f')](_0xa3e02e,_0xa1f1f3+_0x3b9319+_0x1cd8('0xa3f')+_0x9f03d3):(_0x4a1f2d=null,(_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa45')]||_0x9b0f55[_0x1cd8('0xa3a')]['uv2TranslateY'])&&(_0x4a1f2d={'x':_0x9b0f55[_0x1cd8('0xa3a')][_0x1cd8('0xa45')],'y':_0x9b0f55['uvAnimation'][_0x1cd8('0xa46')]}),this['modelUvAnimation'][_0x1cd8('0x646')](_0xa3e02e,_0xa1f1f3+_0x3b9319+_0x1cd8('0xa47')+_0x9f03d3,_0x4a1f2d)))),this[_0x1cd8('0xa25')][_0x1cd8('0x639')]['push'](_0xa3e02e[_0x1cd8('0xdf')]),this[_0x1cd8('0xa25')][_0x1cd8('0x63c')]())),_0x9b0f55['uvTransform']&&_0xa3e02e['map']&&_0x589747&&_0x589747['ID']&&(_0xa1f1f3=_0xa3e02e[_0x1cd8('0xdf')][_0x1cd8('0x1bb')](),_0xa3e02e[_0x1cd8('0xdf')]=_0xa1f1f3,_0xa3e02e[_0x1cd8('0xdf')][_0x1cd8('0xa48')]=_0x589747['ID'],this[_0x1cd8('0x91e')]['push'](_0xa3e02e[_0x1cd8('0xdf')]),_0xa3e02e[_0x1cd8('0xdf')][_0x1cd8('0x10b')]=!0x0,_0xa3e02e[_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0xdf')][_0x1cd8('0x8ba')]('modelEffectInitComplete',{'type':_0x1cd8('0xa49'),'id':_0xa3e02e[_0x1cd8('0xdf')]['_markerId']})),_0x9b0f55['opacity']&&(_0xa3e02e['transparent']=!0x0,_0xa3e02e[_0x1cd8('0x20a')]=_0x9b0f55[_0x1cd8('0x20a')]),_0x9b0f55[_0x1cd8('0xa4a')]&&_0xa3e02e[_0x1cd8('0xdf')]&&this[_0x1cd8('0xa4b')](_0xa3e02e,_0x9b0f55[_0x1cd8('0xa4a')],_0x589747),_0x9b0f55[_0x1cd8('0xa4c')]&&_0xa3e02e[_0x1cd8('0xdf')]&&(void 0x0===_0x9b0f55[_0x1cd8('0xa4c')][_0x1cd8('0x41d')]||!0x1!==_0x9b0f55[_0x1cd8('0xa4c')][_0x1cd8('0x41d')])&&this[_0x1cd8('0xa4d')](_0xa3e02e,_0x9b0f55['blendEffect'],_0x589747),_0x9b0f55[_0x1cd8('0x715')]&&(void 0x0!==_0x9b0f55[_0x1cd8('0x715')]['color']?this[_0x1cd8('0xa17')](_0xa3e02e,_0x9b0f55['water'],_0x589747):this[_0x1cd8('0xa4e')](_0xa3e02e,_0x9b0f55[_0x1cd8('0x715')],_0x589747)),_0x9b0f55[_0x1cd8('0x91b')]&&_0xa3e02e['map']&&this[_0x1cd8('0xa4f')](_0xa3e02e,_0x9b0f55['lightBlend']),_0x9b0f55[_0x1cd8('0xa50')]&&(_0x9b0f55[_0x1cd8('0xa50')][_0x1cd8('0x101')]?(_0xa3e02e['_lightPointsType']=_0xed0454,_0xa3e02e[_0x1cd8('0xa51')]=_0x9b0f55['lightPoints'],_0xa3e02e[_0x1cd8('0xa52')]=_0x9b0f55[_0x1cd8('0xa50')][_0x1cd8('0xa53')]):(_0xa3e02e['material'][_0x1cd8('0x1e2')]=!0x1,_0xa3e02e[_0x1cd8('0x47')][_0x1cd8('0x20a')]=0x0),this[_0x1cd8('0xa54')][_0xa3e02e[_0x1cd8('0x1d2')]]=_0xa3e02e),_0x9b0f55['terrain']&&this[_0x1cd8('0xa55')](_0xa3e02e,_0x9b0f55[_0x1cd8('0xa56')],_0x589747);}},{'key':_0x1cd8('0xa34'),'value':function(_0xed0454,_0xa3e02e){this[_0x1cd8('0x4fa')]['initEnvTexture'](this[_0x1cd8('0x8a4')][_0x1cd8('0x888')]),_0xed0454[_0x1cd8('0x47d')]=this[_0x1cd8('0x4fa')][_0x1cd8('0x8f8')],_0xa3e02e['roughness']&&(_0xed0454[_0x1cd8('0x2a7')]=_0xa3e02e[_0x1cd8('0x2a7')]),_0xa3e02e[_0x1cd8('0x2a8')]&&(_0xed0454[_0x1cd8('0x2a8')]=_0xa3e02e[_0x1cd8('0x2a8')]),!esmap[_0x1cd8('0x3b')][_0x1cd8('0x8aa')]()['isPC']&&_0xa3e02e[_0x1cd8('0xa57')]?_0xed0454[_0x1cd8('0x2aa')]=_0xa3e02e[_0x1cd8('0xa57')]:_0xed0454[_0x1cd8('0x2aa')]=_0xa3e02e[_0x1cd8('0x475')]||0x1,_0xed0454[_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0xa24')]['push'](_0xed0454);}},{'key':'createLightBlend','value':function(_0xed0454,_0xa3e02e){_0xa3e02e[_0x1cd8('0xa58')]&&(_0xed0454[_0x1cd8('0xa59')]=0x0),_0xa3e02e[_0x1cd8('0x475')]&&(_0xed0454[_0x1cd8('0xa59')]=_0xa3e02e[_0x1cd8('0x475')]),this[_0x1cd8('0x91b')][_0x1cd8('0x2f2')](_0xed0454),esmap[_0x1cd8('0x53')][_0x1cd8('0x8c3')]&&(_0xed0454[_0x1cd8('0xa5a')]=!0x0);}},{'key':'createTextureBlend','value':function(_0xed0454,_0xa3e02e,_0x589747){var _0x9b0f55,_0x4a1f2d=null,_0x3b9319=(_0x4a1f2d=_0xed0454[_0x1cd8('0xdf')]['image'][_0x1cd8('0x40c')](_0x1cd8('0xa3d'))||_0xed0454['map']['image'][_0x1cd8('0xa3e')])[_0x1cd8('0xa44')]('/'),_0x208464=_0x4a1f2d[_0x1cd8('0x9ec')](0x0,_0x3b9319+0x1),_0x3b9319=_0x4a1f2d[_0x1cd8('0x9ec')](_0x3b9319+0x1,_0x4a1f2d[_0x1cd8('0xc')]),_0x4a1f2d=_0x3b9319[_0x1cd8('0x87')]('.')[0x0],_0x3b9319=_0x3b9319['split']('.')[0x1],_0xba7fd8=(_0x1cd8('0x8')==typeof _0xa3e02e[_0x1cd8('0x826')]&&(_0xa3e02e[_0x1cd8('0x826')]=_0xa3e02e[_0x1cd8('0x826')]['split'](',')['map'](Number)),_0x1cd8('0x8')==typeof _0xa3e02e[_0x1cd8('0x82f')]&&(_0xa3e02e[_0x1cd8('0x82f')]=_0xa3e02e['isNoTileFactor']['split'](',')[_0x1cd8('0xdf')](Number)),_0xa3e02e[_0x1cd8('0x826')]),_0x5c4ddf=_0xa3e02e[_0x1cd8('0x82f')],_0x58a1cb=_0xa3e02e[_0x1cd8('0xa5b')],_0x2d2183=_0xa3e02e[_0x1cd8('0xa5c')],_0x9a3c41=_0xa3e02e['blendCount'],_0x585616=_0xa3e02e[_0x1cd8('0x82b')],_0x307b35=null,_0x2a1c6c=(_0xa3e02e[_0x1cd8('0x525')]&&(_0x9b0f55=this['map'][_0x1cd8('0x466')][_0x1cd8('0x526')]['capabilities'][_0x1cd8('0x528')](),_0x307b35=_0x1cd8('0xe4')==_0xa3e02e['anisotropy']?_0x9b0f55:_0xa3e02e[_0x1cd8('0x525')]),new _0x492e50[(_0x1cd8('0xd8'))]({'repeatFactor':_0xba7fd8?{'texture1':_0xba7fd8[0x0],'texture2':_0xba7fd8[0x1],'texture3':_0xba7fd8[0x2],'texture4':_0xba7fd8[0x3]}:null,'isNoTileFactor':_0x5c4ddf?{'texture1':_0x5c4ddf[0x0],'texture2':_0x5c4ddf[0x1],'texture3':_0x5c4ddf[0x2],'texture4':_0x5c4ddf[0x3]}:void 0x0,'texture2Path':_0x208464+_0x4a1f2d+_0x1cd8('0xa5d')+_0x3b9319,'textureMaskPath':_0x208464+_0x4a1f2d+_0x1cd8('0xa3f')+_0x3b9319,'texture3Path':0x3<=_0x9a3c41?_0x208464+_0x4a1f2d+'_ef_blend-2.'+_0x3b9319:null,'texture4Path':0x4<=_0x9a3c41?_0x208464+_0x4a1f2d+_0x1cd8('0xa5e')+_0x3b9319:null,'noisePath':(0x0,_0x173f68[_0x1cd8('0x520')])(_0x1cd8('0xa5f')),'normalUvIndex':_0x2d2183?_0xa3e02e[_0x1cd8('0xa60')]||0x1:null,'normalFlipSide':_0x585616,'anisotropy':_0x307b35}));_0xed0454[_0x1cd8('0x327')]=!0x1,_0x58a1cb&&(_0xed0454[_0x1cd8('0x1e1')]=!0x0),_0x2a1c6c[_0x1cd8('0x29d')](_0x1cd8('0x46d'),function(){_0x2a1c6c['createMaterial'](_0xed0454),esmap[_0x1cd8('0x53')][_0x1cd8('0x8c3')]&&(_0x2a1c6c[_0x1cd8('0xa61')]=_0x9a3c41,_0xed0454['_effect']=_0x2a1c6c),_0xed0454[_0x1cd8('0x327')]=!0x0;});}},{'key':'createrBlendEffect','value':function(_0xed0454,_0xa3e02e,_0x589747){var _0x9b0f55=null,_0x4a1f2d=(_0x9b0f55=_0xed0454[_0x1cd8('0xdf')][_0x1cd8('0x7f4')][_0x1cd8('0x40c')](_0x1cd8('0xa3d'))||_0xed0454[_0x1cd8('0xdf')][_0x1cd8('0x7f4')][_0x1cd8('0xa3e')])[_0x1cd8('0xa44')]('/'),_0x3b9319=_0x9b0f55[_0x1cd8('0x9ec')](0x0,_0x4a1f2d+0x1),_0x4a1f2d=_0x9b0f55[_0x1cd8('0x9ec')](_0x4a1f2d+0x1,_0x9b0f55[_0x1cd8('0xc')]),_0x9b0f55=_0x4a1f2d['split']('.')[0x0],_0x4a1f2d=_0x4a1f2d['split']('.')[0x1],_0x208464=_0xa3e02e[_0x1cd8('0xa5b')],_0x318b18=_0xa3e02e['isUseNormal'],_0x7c53cd=new _0x492e50[(_0x1cd8('0xd9'))]({'textureMaskPath':_0x208464?_0x3b9319+_0x9b0f55+_0x1cd8('0xa3f')+_0x4a1f2d:null,'textureNormalPath':_0x318b18?_0x3b9319+_0x9b0f55+_0x1cd8('0xa62')+_0x4a1f2d:null,'isIgnoreAlpha':_0xa3e02e['isIgnoreAlpha'],'isUseScanEffect':_0xa3e02e[_0x1cd8('0x83f')],'isUseUv2Light':_0xa3e02e['isUseUv2Light'],'scanOffset':_0xa3e02e[_0x1cd8('0x841')]});_0xed0454['visible']=!0x1,_0x208464&&(_0xed0454[_0x1cd8('0x1e1')]=!0x0),_0x7c53cd[_0x1cd8('0x29d')]('canUpdate',function(){_0x7c53cd[_0x1cd8('0x2f2')](_0xed0454),esmap[_0x1cd8('0x53')][_0x1cd8('0x8c3')]&&(_0xed0454[_0x1cd8('0xa5a')]=_0x7c53cd),_0xed0454[_0x1cd8('0x327')]=!0x0;}),this[_0x1cd8('0xa21')][_0x1cd8('0x70')](_0x7c53cd);}},{'key':_0x1cd8('0xa4e'),'value':function(_0xed0454,_0xa3e02e,_0x589747){if(!(_0xed0454 instanceof THREE[_0x1cd8('0x7c9')]))return!0x0;var _0x9b0f55=null,_0x4a1f2d=_0xa3e02e[_0x1cd8('0x7f')],_0x3b9319=_0xa3e02e['noOriginTexture'],_0x208464=!0x0,_0xc366f4=!0x1,_0x1f60c2=void 0x0;try{for(var _0x3c642d,_0x5226a0=(0x0,_0x585a46[_0x1cd8('0xa')])(this[_0x1cd8('0x715')]['waterList']);!(_0x208464=(_0x3c642d=_0x5226a0[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x208464=!0x0){var _0x13c165=_0x3c642d['value'];if(_0x13c165['name']&&_0x13c165[_0x1cd8('0x7f')]===_0x4a1f2d){_0x9b0f55=_0x13c165;break;}}}catch(_0x275fb5){_0xc366f4=!0x0,_0x1f60c2=_0x275fb5;}finally{try{!_0x208464&&_0x5226a0[_0x1cd8('0xa1')]&&_0x5226a0['return']();}finally{if(_0xc366f4)throw _0x1f60c2;}}if(!_0x9b0f55)return!0x0;_0xa3e02e[_0x1cd8('0x2a7')]&&(_0xed0454[_0x1cd8('0x2a7')]=_0xa3e02e[_0x1cd8('0x2a7')]),_0xa3e02e[_0x1cd8('0x2a8')]&&(_0xed0454[_0x1cd8('0x2a8')]=_0xa3e02e['metalness']),_0xa3e02e['isUseAlphaMask']&&(_0xc366f4=null,_0x1f60c2=(_0xc366f4=_0xed0454['map'][_0x1cd8('0x7f4')][_0x1cd8('0x40c')](_0x1cd8('0xa3d'))||_0xed0454[_0x1cd8('0xdf')]['image'][_0x1cd8('0xa3e')])[_0x1cd8('0xa44')]('/'),_0xa3e02e=_0xc366f4[_0x1cd8('0x9ec')](0x0,_0x1f60c2+0x1),_0xc366f4=(_0x1f60c2=_0xc366f4['substring'](_0x1f60c2+0x1,_0xc366f4['length']))[_0x1cd8('0x87')]('.')[0x0],_0x1f60c2=_0x1f60c2['split']('.')[0x1],_0x9b0f55[_0x1cd8('0x716')]=_0xa3e02e+_0xc366f4+'_ef_mask.'+_0x1f60c2),_0x9b0f55[_0x1cd8('0x2f2')](_0xed0454,_0x3b9319),esmap[_0x1cd8('0x53')][_0x1cd8('0x8c3')]&&(_0xed0454[_0x1cd8('0xa5a')]=_0x9b0f55);}},{'key':_0x1cd8('0xa17'),'value':function(_0xed0454,_0xa3e02e,_0x589747){if(!(_0xed0454 instanceof THREE['Material']))return!0x0;var _0x9b0f55=_0xa3e02e[_0x1cd8('0x7f')],_0x4a1f2d=_0xa3e02e[_0x1cd8('0xa63')],_0x3b9319=void 0x0,_0x208464=_0xa3e02e[_0x1cd8('0xa64')]&&_0xa3e02e[_0x1cd8('0xa19')]?new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')]((0x0,_0x173f68[_0x1cd8('0x520')])(_0xa3e02e['groundImg'])):new THREE[(_0x1cd8('0x63e'))](),_0x208464=(_0xa3e02e[_0x1cd8('0x5da')]&&(_0x3b9319=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')]((0x0,_0x173f68['getConfigAssetsPath'])(_0xa3e02e[_0x1cd8('0x5da')]))),new _0x492e50[(_0x1cd8('0xb2'))]({'colorStr':_0xa3e02e[_0x1cd8('0x220')],'lightColorStr':_0xa3e02e['lightColor'],'scale':_0xa3e02e[_0x1cd8('0x3f6')],'speed':_0xa3e02e[_0x1cd8('0x326')],'fluctuate':_0xa3e02e[_0x1cd8('0xa1a')],'texture':_0x208464,'skyTexture':_0x3b9319,'texUvScale':_0xa3e02e['groundScaleFactor'],'flowAngle':_0xa3e02e['flowAngle'],'opacity':_0xa3e02e[_0x1cd8('0x20a')]}));_0x208464[_0x1cd8('0x7f')]=_0x9b0f55,_0xa3e02e[_0x1cd8('0xa5b')]&&(_0x3b9319=null,_0x9b0f55=(_0x3b9319=_0xed0454[_0x1cd8('0xdf')][_0x1cd8('0x7f4')]['getAttribute'](_0x1cd8('0xa3d'))||_0xed0454[_0x1cd8('0xdf')]['image'][_0x1cd8('0xa3e')])[_0x1cd8('0xa44')]('/'),_0xa3e02e=_0x3b9319[_0x1cd8('0x9ec')](0x0,_0x9b0f55+0x1),_0x3b9319=(_0x9b0f55=_0x3b9319[_0x1cd8('0x9ec')](_0x9b0f55+0x1,_0x3b9319[_0x1cd8('0xc')]))['split']('.')[0x0],_0x9b0f55=_0x9b0f55['split']('.')[0x1],_0x208464[_0x1cd8('0x716')]=_0xa3e02e+_0x3b9319+_0x1cd8('0xa3f')+_0x9b0f55),_0x208464[_0x1cd8('0x2f2')](_0xed0454,_0x4a1f2d),this[_0x1cd8('0x715')][_0x1cd8('0xa15')][_0x1cd8('0x70')](_0x208464),esmap['ESEffectTool'][_0x1cd8('0x8c3')]&&(_0xed0454['_effect']=_0x208464);}},{'key':_0x1cd8('0xa55'),'value':function(_0xed0454,_0xa3e02e,_0x589747){var _0x589747=[_0x589747[_0x1cd8('0x509')][_0x1cd8('0x45')]['modelinfo'][_0x1cd8('0x8f4')][_0x1cd8('0x81')]['y'],_0x589747[_0x1cd8('0x509')][_0x1cd8('0x45')]['modelinfo'][_0x1cd8('0x8f4')][_0x1cd8('0xe4')]['y']],_0x589747=_0xa3e02e['heightExtent']||_0x589747,_0x9b0f55=(_0x1cd8('0x8')==typeof _0xa3e02e[_0x1cd8('0x856')]&&(_0x589747=_0xa3e02e['heightExtent'][_0x1cd8('0x87')](',')[_0x1cd8('0xdf')](Number)),(_0x9b0f55=_0xa3e02e[_0x1cd8('0xa19')])&&(0x0,_0x173f68[_0x1cd8('0x520')])(_0x9b0f55)),_0x589747=new _0x492e50['ModelTerrain']({'heightExtent':_0x589747,'gradientType':_0xa3e02e[_0x1cd8('0x857')],'isTransparentLight':_0xa3e02e[_0x1cd8('0x547')],'texPath':_0x9b0f55,'isShowSeaGroundEffect':_0xa3e02e['isShowWaterEffect'],'seaGroundConfigs':_0xa3e02e[_0x1cd8('0xa65')]}),_0x9b0f55=_0xed0454;_0xa3e02e[_0x1cd8('0x547')]&&(_0xed0454[_0x1cd8('0xa2f')][_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x3d1'))]({'color':0xffffff,'transparent':!0x0,'opacity':0.6,'side':THREE[_0x1cd8('0x2fe')],'depthWrite':!0x1,'blending':THREE[_0x1cd8('0x1e0')]}),_0x9b0f55=_0xed0454[_0x1cd8('0xa2f')][_0x1cd8('0x47')]),_0x589747[_0x1cd8('0x2f2')](_0x9b0f55),_0xa3e02e[_0x1cd8('0x7f')]&&(this['gradientTerrainList'][_0xa3e02e[_0x1cd8('0x7f')]]=_0x589747),_0xa3e02e[_0x1cd8('0x475')]&&_0x9b0f55[_0x1cd8('0x220')][_0x1cd8('0x49f')](_0xa3e02e[_0x1cd8('0x475')]),this['modelTerrainList']['push'](_0x589747),esmap[_0x1cd8('0x53')][_0x1cd8('0x8c3')]&&(_0xed0454[_0x1cd8('0xa5a')]=_0x589747);}},{'key':_0x1cd8('0x901'),'value':function(){if(0x0<(0x0,_0x20e5ed[_0x1cd8('0xa')])(this[_0x1cd8('0xa54')])[_0x1cd8('0xc')])for(var _0xed0454 in this[_0x1cd8('0xa54')])this[_0x1cd8('0xa54')][_0xed0454][_0x1cd8('0xa53')]&&this[_0x1cd8('0xa54')][_0xed0454]['lookAt'](this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x2fb')][_0x1cd8('0x3f')]);}},{'key':_0x1cd8('0x91c'),'value':function(_0xed0454){var _0x589747=this,_0xa3e02e=_0xed0454[_0x1cd8('0x869')],_0xa3e02e=void 0x0!==_0xa3e02e&&_0xa3e02e,_0xed0454=_0xed0454['time'],_0xed0454=void 0x0===_0xed0454?1.5:_0xed0454;0x0<(0x0,_0x20e5ed[_0x1cd8('0xa')])(this[_0x1cd8('0xa54')])[_0x1cd8('0xc')]&&new TWEEN[(_0x1cd8('0x2cd'))]({'x':_0xa3e02e?0x0:0x1})['to']({'x':_0xa3e02e?0x1:0x0},0x3e8*_0xed0454)[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x3fd')][_0x1cd8('0x3fe')])[_0x1cd8('0x2d2')](function(_0xed0454){for(var _0xa3e02e in _0x589747[_0x1cd8('0xa54')])_0x589747[_0x1cd8('0xa54')][_0xa3e02e][_0x1cd8('0x47')][_0x1cd8('0x20a')]=_0xed0454['x'];})['start']();}},{'key':'addEffectPointsMarker','value':function(_0xed0454){return new esmap[(_0x1cd8('0x53'))][(_0x1cd8('0x8f5'))](esmap[_0x1cd8('0x282')][_0x1cd8('0xa66')],{'pointSize':_0xed0454[_0x1cd8('0x43f')],'color':_0xed0454[_0x1cd8('0x220')],'points':_0xed0454[_0x1cd8('0x440')],'height':_0xed0454['height'],'animateType':_0xed0454['animateType'],'isShine':!0x0,'showLevel':_0xed0454[_0x1cd8('0x59a')],'seeThrough':_0xed0454[_0x1cd8('0x529')]});}},{'key':'createEffectPoints','value':function(){if(0x0<(0x0,_0x20e5ed['default'])(this[_0x1cd8('0xa54')])['length']){var _0xed0454,_0xa3e02e=[];for(_0xed0454 in this[_0x1cd8('0xa54')]){var _0x589747=new THREE[(_0x1cd8('0x57'))](),_0x9b0f55=(this[_0x1cd8('0xa54')][_0xed0454][_0x1cd8('0xa67')](_0x589747),this[_0x1cd8('0xdf')]['coordThreeToMap']({'x':_0x589747['x'],'y':_0x589747['y'],'z':_0x589747['z']}));_0xa3e02e[_0x1cd8('0x70')]({'styleId':this[_0x1cd8('0xa54')][_0xed0454][_0x1cd8('0xa68')],'styleConfig':this[_0x1cd8('0xa54')][_0xed0454]['_lightPointsConfig'],'x':_0x9b0f55['x'],'y':_0x9b0f55['y'],'height':_0x589747['y']}),this[_0x1cd8('0xa54')][_0xed0454][_0x1cd8('0xe2')]?this[_0x1cd8('0xa54')][_0xed0454]['parent']['remove'](this[_0x1cd8('0xa54')][_0xed0454]):this[_0x1cd8('0xa54')][_0xed0454][_0x1cd8('0x327')]=!0x1;}this['lightPointsLayer']=new esmap[(_0x1cd8('0x53'))][(_0x1cd8('0x8ee'))](_0x1cd8('0xa50'),esmap[_0x1cd8('0x4f5')][_0x1cd8('0x4f3')]),esmap[_0x1cd8('0x53')]['addLayerToMap'](this['lightPointsLayer']);for(var _0x4a1f2d,_0x3b9319={},_0x208464=0x0,_0x33536e=_0xa3e02e['length'];_0x208464<_0x33536e;_0x208464++)_0xa3e02e[_0x208464][_0x1cd8('0xa69')]&&(_0xa3e02e[_0x208464]['styleConfig']['color']&&!_0x3b9319[_0xa3e02e[_0x208464][_0x1cd8('0x93f')]]?_0x3b9319[_0xa3e02e[_0x208464][_0x1cd8('0x93f')]]=[]:_0xa3e02e[_0x208464][_0x1cd8('0x93f')]&&_0x3b9319[_0xa3e02e[_0x208464]['styleId']]&&_0x3b9319[_0xa3e02e[_0x208464][_0x1cd8('0x93f')]][_0x1cd8('0x70')](_0xa3e02e[_0x208464]));for(_0x4a1f2d in _0x3b9319){var _0x4170d8=[],_0x137391=_0x3b9319[_0x4a1f2d][0x0][_0x1cd8('0xa69')],_0x25c6fc=!0x0,_0xc562d4=!0x1,_0xbe39dc=void 0x0;try{for(var _0x3181db,_0x1e1d02=(0x0,_0x585a46[_0x1cd8('0xa')])(_0x3b9319[_0x4a1f2d]);!(_0x25c6fc=(_0x3181db=_0x1e1d02['next']())['done']);_0x25c6fc=!0x0){var _0x53f975=_0x3181db[_0x1cd8('0xf')];_0x4170d8['push']({'x':_0x53f975['x'],'y':_0x53f975['y'],'height':_0x53f975[_0x1cd8('0x2f1')]});}}catch(_0x301cc0){_0xc562d4=!0x0,_0xbe39dc=_0x301cc0;}finally{try{!_0x25c6fc&&_0x1e1d02['return']&&_0x1e1d02['return']();}finally{if(_0xc562d4)throw _0xbe39dc;}}_0xc562d4=this[_0x1cd8('0xa6a')]({'height':_0x137391[_0x1cd8('0x53e')]||0x0,'pointSize':_0x137391[_0x1cd8('0x43f')]||0xf,'color':_0x137391[_0x1cd8('0x220')],'animateType':_0x1cd8('0x635'),'points':_0x4170d8});this[_0x1cd8('0xa26')][_0x1cd8('0x8f7')](_0xc562d4);}}}},{'key':_0x1cd8('0xa2c'),'value':function(_0xed0454){return _0xed0454['split'](_0x1cd8('0x91f'))[0x1][_0x1cd8('0x87')]('_');}},{'key':_0x1cd8('0xa6b'),'value':function(_0xed0454,_0xa3e02e){_0xed0454&&_0xa3e02e&&(_0xed0454[_0x1cd8('0x30d')]=_0xa3e02e);}},{'key':_0x1cd8('0xa6c'),'value':function(_0xed0454,_0xa3e02e){_0xed0454&&void 0x0!==_0xa3e02e&&(_0xed0454[_0x1cd8('0x1e1')]=_0xa3e02e);}},{'key':_0x1cd8('0x9ae'),'value':function(_0xed0454){for(var _0xa3e02e=0x0,_0x589747=this[_0x1cd8('0xa24')]['length'];_0xa3e02e<_0x589747;_0xa3e02e++)this['setEnvTextureMaterials'][_0xa3e02e][_0x1cd8('0x47d')]=_0xed0454,this[_0x1cd8('0xa24')][_0x1cd8('0x10b')]=!0x0;}},{'key':_0x1cd8('0xa37'),'value':function(_0xed0454,_0xa3e02e,_0x589747){return new _0x492e50[(_0x1cd8('0xbe'))]({'colorStr':_0xa3e02e,'opacity':_0x589747})[_0x1cd8('0x95b')](_0xed0454,_0xed0454[_0x1cd8('0xe0')]);}},{'key':'createEdgeLineFrameByMeshLine','value':function(_0xed0454,_0xa3e02e){var _0x589747=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')]((0x0,_0x173f68[_0x1cd8('0x520')])(_0xa3e02e['lineImg']));new _0x492e50['MulripleMeshLine']({'camera':this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x2fb')],'texture':_0x589747,'colorStr':_0xa3e02e[_0x1cd8('0x220')],'lineWidth':_0xa3e02e['lineWidth']})['collectPoints'](_0xed0454);}},{'key':_0x1cd8('0x8dd'),'value':function(_0xed0454,_0xa3e02e,_0x589747){var _0x9b0f55,_0x576644=this,_0x4a1f2d=_0xed0454[_0x1cd8('0xa6d')],_0xb7ca9d=void 0x0,_0xc70bef=void 0x0,_0x5d0606=_0x4a1f2d[_0x1cd8('0x45f')][_0x1cd8('0x3f')],_0x23df09=new THREE[(_0x1cd8('0x57'))](),_0x2fb222=new THREE[(_0x1cd8('0x57'))]();for(_0x9b0f55 in new THREE[(_0x1cd8('0xa6e'))]()[_0x1cd8('0xa6f')](_0x4a1f2d['scene'])[_0x1cd8('0x685')](_0x4a1f2d[_0x1cd8('0x45f')][_0x1cd8('0x3f')]),_0x4a1f2d[_0x1cd8('0x45f')]['position'][_0x1cd8('0x1cc')](-0x1),_0x4a1f2d[_0x1cd8('0x45f')][_0x1cd8('0x7c7')](function(_0xed0454){if(_0xed0454 instanceof THREE['Mesh']&&(_0x23df09[_0x1cd8('0x1b')](_0x5d0606['x']+_0xed0454[_0x1cd8('0x3f')]['x'],_0x5d0606['y']+_0xed0454['position']['y'],_0x5d0606['z']+_0xed0454[_0x1cd8('0x3f')]['z']),_0x2fb222['set'](THREE[_0x1cd8('0x15')][_0x1cd8('0xa70')](_0xed0454[_0x1cd8('0x1f7')]['x']),THREE[_0x1cd8('0x15')][_0x1cd8('0xa70')](_0xed0454[_0x1cd8('0x1f7')]['y']),THREE[_0x1cd8('0x15')]['radToDeg'](_0xed0454['rotation']['z'])),_0x2fb222=_0x2fb222[_0x1cd8('0x1ca')](),_0xb7ca9d=_0xed0454[_0x1cd8('0xe0')]['clone'](),0x0<=(_0xc70bef=_0xed0454['material'][_0x1cd8('0x1bb')]())['name'][_0x1cd8('0x50')](_0x1cd8('0x91f')))){var _0xed0454=_0x576644[_0x1cd8('0xa2c')](_0xc70bef['name']),_0xa3e02e=!0x0,_0x589747=!0x1,_0x9b0f55=void 0x0;try{for(var _0x4a1f2d,_0x3b9319=(0x0,_0x585a46['default'])(_0xed0454);!(_0xa3e02e=(_0x4a1f2d=_0x3b9319[_0x1cd8('0x7e')]())['done']);_0xa3e02e=!0x0){var _0x208464=_0x4a1f2d[_0x1cd8('0xf')];_0x576644[_0x1cd8('0xa2d')](_0x576644[_0x1cd8('0x8a4')],_0x208464,_0xc70bef);}}catch(_0xed8965){_0x589747=!0x0,_0x9b0f55=_0xed8965;}finally{try{!_0xa3e02e&&_0x3b9319['return']&&_0x3b9319[_0x1cd8('0xa1')]();}finally{if(_0x589747)throw _0x9b0f55;}}}}),_0xa3e02e){var _0x3b9319=null,_0x208464=(_0x3b9319=(0x0,_0x173f68[_0x1cd8('0x33')])()?this[_0x1cd8('0xdf')][_0x1cd8('0x9d1')](_0x9b0f55):((0x0,_0x173f68[_0x1cd8('0x32')])()?_0xed0454['building']:(0x0,_0x173f68['getBuiding'])())[_0x1cd8('0x506')](_0x9b0f55)[_0x1cd8('0x50b')](_0x1cd8('0xa71'))[0x0],_0xa3e02e[_0x9b0f55]),_0x231dd2=[],_0x24277b=[],_0x53bfbe=[],_0x20e5ed=!0x0,_0x2fa73a=!0x1,_0xc8d789=void 0x0;try{for(var _0x2ec3e0,_0x18b0cf=(0x0,_0x585a46['default'])(_0x208464);!(_0x20e5ed=(_0x2ec3e0=_0x18b0cf[_0x1cd8('0x7e')]())['done']);_0x20e5ed=!0x0){var _0x4bec02,_0xa079c5=_0x2ec3e0[_0x1cd8('0xf')];_0x231dd2[_0x1cd8('0x70')](_0xa079c5[_0x1cd8('0x3f')]['x']+_0x23df09['x'],_0xa079c5[_0x1cd8('0x3f')]['y']+_0x23df09['y'],_0xa079c5[_0x1cd8('0x3f')]['z']+_0x23df09['z']),_0xa079c5[_0x1cd8('0xa72')]?(_0x4bec02=_0xa079c5[_0x1cd8('0xa72')][_0x1cd8('0x87')](','),_0x53bfbe[_0x1cd8('0x70')](+_0x4bec02[0x0]+_0x2fb222['x'],+_0x4bec02[0x1]+_0x2fb222['y'],+_0x4bec02[0x2]+_0x2fb222['z'])):_0x53bfbe['push'](0x0,0x0,0x0),_0x24277b[_0x1cd8('0x70')](_0xa079c5[_0x1cd8('0x3f6')]['x'],_0xa079c5[_0x1cd8('0x3f6')]['y'],_0xa079c5[_0x1cd8('0x3f6')]['z']);}}catch(_0x2b21bb){_0x2fa73a=!0x0,_0xc8d789=_0x2b21bb;}finally{try{!_0x20e5ed&&_0x18b0cf[_0x1cd8('0xa1')]&&_0x18b0cf[_0x1cd8('0xa1')]();}finally{if(_0x2fa73a)throw _0xc8d789;}}_0x2fa73a=new _0x492e50['ESInstanceMesh']({'material':_0xc70bef,'geometry':_0xb7ca9d,'num':_0x208464[_0x1cd8('0xc')],'camera':this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x2fb')],'shadowCamera':_0x589747[_0x1cd8('0x74d')],'pos':_0x231dd2,'rot':_0x53bfbe,'scale':_0x24277b});_0x2fa73a[_0x1cd8('0x322')][_0x1cd8('0x7f')]=_0xed0454[_0x1cd8('0x7f')],_0x3b9319[_0x1cd8('0x509')]['add'](_0x2fa73a[_0x1cd8('0x322')]);}}},{'key':_0x1cd8('0x8db'),'value':function(_0xed0454,_0xa3e02e,_0x589747){var _0x9b0f55,_0x52c21d,_0x440407,_0xa6103b,_0x5cbb59,_0x2beaef,_0x4a1f2d,_0x962cc8=this;for(_0x4a1f2d in this['tileInstanceModels'][_0xed0454[_0x1cd8('0x7f')]]||(_0x9b0f55=_0xed0454[_0x1cd8('0xa6d')],_0x440407=_0x52c21d=void 0x0,_0xa6103b=_0x9b0f55[_0x1cd8('0x45f')][_0x1cd8('0x3f')],_0x5cbb59=new THREE[(_0x1cd8('0x57'))](),_0x2beaef=new THREE[(_0x1cd8('0x57'))](),new THREE[(_0x1cd8('0xa6e'))]()[_0x1cd8('0xa6f')](_0x9b0f55['scene'])[_0x1cd8('0x685')](_0x9b0f55[_0x1cd8('0x45f')][_0x1cd8('0x3f')]),_0x9b0f55['scene']['position'][_0x1cd8('0x1cc')](-0x1),_0x9b0f55[_0x1cd8('0x45f')][_0x1cd8('0x7c7')](function(_0xed0454){if(_0xed0454 instanceof THREE[_0x1cd8('0x30c')]&&(_0x5cbb59[_0x1cd8('0x1b')](_0xa6103b['x']+_0xed0454[_0x1cd8('0x3f')]['x'],_0xa6103b['y']+_0xed0454[_0x1cd8('0x3f')]['y'],_0xa6103b['z']+_0xed0454['position']['z']),_0x2beaef['set'](THREE[_0x1cd8('0x15')]['radToDeg'](_0xed0454[_0x1cd8('0x1f7')]['x']),THREE[_0x1cd8('0x15')]['radToDeg'](_0xed0454[_0x1cd8('0x1f7')]['y']),THREE[_0x1cd8('0x15')][_0x1cd8('0xa70')](_0xed0454[_0x1cd8('0x1f7')]['z'])),_0x2beaef=_0x2beaef[_0x1cd8('0x1ca')](),_0x52c21d=_0xed0454[_0x1cd8('0xe0')]['clone'](),0x0<=(_0x440407=_0xed0454['material']['clone']())[_0x1cd8('0x7f')]['indexOf']('_ef_'))){var _0xed0454=_0x962cc8[_0x1cd8('0xa2c')](_0x440407[_0x1cd8('0x7f')]),_0xa3e02e=!0x0,_0x589747=!0x1,_0x9b0f55=void 0x0;try{for(var _0x4a1f2d,_0x3b9319=(0x0,_0x585a46[_0x1cd8('0xa')])(_0xed0454);!(_0xa3e02e=(_0x4a1f2d=_0x3b9319[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0xa3e02e=!0x0){var _0x208464=_0x4a1f2d[_0x1cd8('0xf')];_0x962cc8[_0x1cd8('0xa2d')](_0x962cc8[_0x1cd8('0x8a4')],_0x208464,_0x440407);}}catch(_0x44b7e0){_0x589747=!0x0,_0x9b0f55=_0x44b7e0;}finally{try{!_0xa3e02e&&_0x3b9319[_0x1cd8('0xa1')]&&_0x3b9319[_0x1cd8('0xa1')]();}finally{if(_0x589747)throw _0x9b0f55;}}}}),this[_0x1cd8('0xa27')][_0xed0454['name']]={'material':_0x440407,'geometry':_0x52c21d,'offsetPos':_0x5cbb59,'rotation':_0x2beaef}),_0xa3e02e){var _0x3b9319=this['map'][_0x1cd8('0x9d1')](_0x4a1f2d);if(_0x3b9319){var _0x208464=_0xa3e02e[_0x4a1f2d],_0xe7b967=[],_0x2c7ce8=[],_0x1a1b08=[],_0x20e5ed=!0x0,_0x3f8725=!0x1,_0x278bcc=void 0x0;try{for(var _0x1bf69a,_0x412a0d=(0x0,_0x585a46[_0x1cd8('0xa')])(_0x208464);!(_0x20e5ed=(_0x1bf69a=_0x412a0d[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x20e5ed=!0x0){var _0x54f229,_0x3709e1=_0x1bf69a[_0x1cd8('0xf')];_0xe7b967[_0x1cd8('0x70')](_0x3709e1[_0x1cd8('0x3f')]['x']+this['tileInstanceModels'][_0xed0454[_0x1cd8('0x7f')]]['offsetPos']['x'],_0x3709e1['position']['y']+this[_0x1cd8('0xa27')][_0xed0454[_0x1cd8('0x7f')]][_0x1cd8('0xa73')]['y'],_0x3709e1[_0x1cd8('0x3f')]['z']+this[_0x1cd8('0xa27')][_0xed0454[_0x1cd8('0x7f')]][_0x1cd8('0xa73')]['z']),_0x3709e1[_0x1cd8('0xa72')]?(_0x54f229=_0x3709e1['rotate'][_0x1cd8('0x87')](','),_0x1a1b08[_0x1cd8('0x70')](+_0x54f229[0x0]+this[_0x1cd8('0xa27')][_0xed0454[_0x1cd8('0x7f')]][_0x1cd8('0x1f7')]['x'],+_0x54f229[0x1]+this[_0x1cd8('0xa27')][_0xed0454['name']][_0x1cd8('0x1f7')]['y'],+_0x54f229[0x2]+this['tileInstanceModels'][_0xed0454['name']][_0x1cd8('0x1f7')]['z'])):_0x1a1b08['push'](0x0,0x0,0x0),_0x2c7ce8['push'](_0x3709e1[_0x1cd8('0x3f6')]['x'],_0x3709e1['scale']['y'],_0x3709e1[_0x1cd8('0x3f6')]['z']);}}catch(_0x5edfd9){_0x3f8725=!0x0,_0x278bcc=_0x5edfd9;}finally{try{!_0x20e5ed&&_0x412a0d[_0x1cd8('0xa1')]&&_0x412a0d[_0x1cd8('0xa1')]();}finally{if(_0x3f8725)throw _0x278bcc;}}_0x3f8725=new _0x492e50[(_0x1cd8('0xab'))]({'material':this[_0x1cd8('0xa27')][_0xed0454[_0x1cd8('0x7f')]][_0x1cd8('0x47')],'geometry':this[_0x1cd8('0xa27')][_0xed0454['name']][_0x1cd8('0xe0')],'num':_0x208464[_0x1cd8('0xc')],'camera':this['map']['mapView'][_0x1cd8('0x2fb')],'shadowCamera':_0x589747[_0x1cd8('0x74d')],'pos':_0xe7b967,'rot':_0x1a1b08,'scale':_0x2c7ce8});_0x3f8725[_0x1cd8('0x322')][_0x1cd8('0x7f')]=_0xed0454[_0x1cd8('0x7f')],_0x3b9319[_0x1cd8('0x509')][_0x1cd8('0x1cd')](_0x3f8725[_0x1cd8('0x322')]),delete _0xa3e02e[_0x4a1f2d];}}}},{'key':_0x1cd8('0x321'),'value':function(){}},{'key':_0x1cd8('0x325'),'value':function(_0xed0454){if(this[_0x1cd8('0xa25')][_0x1cd8('0x2d3')](_0xed0454),0x0<this[_0x1cd8('0x918')][_0x1cd8('0xc')])for(var _0xa3e02e=0x0,_0x589747=this[_0x1cd8('0x918')]['length'];_0xa3e02e<_0x589747;_0xa3e02e++)this[_0x1cd8('0x918')][_0xa3e02e][_0x1cd8('0x325')](_0xed0454);if(0x0<this[_0x1cd8('0xa21')][_0x1cd8('0xc')])for(var _0x9b0f55=0x0,_0x4a1f2d=this[_0x1cd8('0xa21')][_0x1cd8('0xc')];_0x9b0f55<_0x4a1f2d;_0x9b0f55++)this[_0x1cd8('0xa21')][_0x9b0f55][_0x1cd8('0x325')](_0xed0454);if(0x0<this[_0x1cd8('0xa22')][_0x1cd8('0xc')])for(var _0x3b9319=0x0,_0x208464=this[_0x1cd8('0xa22')][_0x1cd8('0xc')];_0x3b9319<_0x208464;_0x3b9319++)this[_0x1cd8('0xa22')][_0x3b9319][_0x1cd8('0x325')](_0xed0454);}}]),_0xa3e02e[_0x1cd8('0xa')]=_0x208464;},function(_0x2f3cc1,_0x1b3aaf,_0x2c519d){'use strict';Object[_0x1cd8('0x4')](_0x1b3aaf,_0x1cd8('0x6'),{'value':!0x0});var _0x6d25f5=_0x2478b5(_0x2c519d(0x0)),_0x1b0706=_0x2478b5(_0x2c519d(0x1)),_0x4a944b=_0x2c519d(0x1a),_0x40bfea=_0x2478b5(_0x2c519d(0x10e));function _0x2478b5(_0x2f3cc1){return _0x2f3cc1&&_0x2f3cc1['__esModule']?_0x2f3cc1:{'default':_0x2f3cc1};}function _0x4debc2(){(0x0,_0x6d25f5[_0x1cd8('0xa')])(this,_0x4debc2),this[_0x1cd8('0xdf')]=(0x0,_0x4a944b['getMapInstance'])(),this['enabled']=!0x1,this['screenEffect']=null,this['outlineSelectList']=[];}(0x0,_0x1b0706[_0x1cd8('0xa')])(_0x4debc2,[{'key':_0x1cd8('0x335'),'value':function(_0x2f3cc1){var _0x1b3aaf=this;this['enabled']=!0x0,this[_0x1cd8('0x4ff')]=new _0x40bfea[(_0x1cd8('0xa'))]({'map':this['map']}),this['screenEffect'][_0x1cd8('0x335')](_0x2f3cc1),this[_0x1cd8('0x4ff')][_0x1cd8('0x325')](),this[_0x1cd8('0xdf')]['on'](_0x1cd8('0x31f'),function(_0x2f3cc1){_0x1b3aaf['screenEffect'][_0x1cd8('0x41d')]&&_0x1b3aaf[_0x1cd8('0x4ff')]['resize'](_0x2f3cc1[_0x1cd8('0x320')],_0x2f3cc1[_0x1cd8('0x2f1')]);});}},{'key':_0x1cd8('0xa74'),'value':function(){var _0x1b3aaf;this[_0x1cd8('0x4ff')]['outlinePass']&&(_0x1b3aaf=this)[_0x1cd8('0xdf')]['on'](_0x1cd8('0xa75'),function(_0x2f3cc1){_0x2f3cc1[_0x1cd8('0x7c8')]==esmap['ESNodeType']['MODEL3D']&&(_0x1b3aaf[_0x1cd8('0xa76')][_0x1cd8('0xc')]=0x0,_0x1b3aaf[_0x1cd8('0xa76')][_0x1cd8('0x70')](_0x2f3cc1[_0x1cd8('0x509')]),_0x1b3aaf[_0x1cd8('0x4ff')][_0x1cd8('0xa77')][_0x1cd8('0xa78')]=_0x1b3aaf[_0x1cd8('0xa76')]);});}},{'key':'updateOutlineStyle','value':function(_0x2f3cc1){_0x2f3cc1[_0x1cd8('0x220')]&&this[_0x1cd8('0x4ff')][_0x1cd8('0xa77')][_0x1cd8('0xa79')]['setStyle'](_0x2f3cc1[_0x1cd8('0x220')]),_0x2f3cc1[_0x1cd8('0xa7a')]&&this[_0x1cd8('0x4ff')][_0x1cd8('0xa77')][_0x1cd8('0xa7a')][_0x1cd8('0x2f5')](_0x2f3cc1['hiddenEdgeColor']),_0x2f3cc1[_0x1cd8('0xa7b')]&&(this[_0x1cd8('0x4ff')][_0x1cd8('0xa77')][_0x1cd8('0xa7c')]=_0x2f3cc1['edgeWidth']),_0x2f3cc1[_0x1cd8('0xa7d')]&&(this[_0x1cd8('0x4ff')][_0x1cd8('0xa77')][_0x1cd8('0xa7e')]=_0x2f3cc1[_0x1cd8('0xa7d')]),_0x2f3cc1[_0x1cd8('0xa7f')]&&(this['screenEffect']['outlinePass'][_0x1cd8('0xa7f')]=_0x2f3cc1[_0x1cd8('0xa7f')]),_0x2f3cc1[_0x1cd8('0xa80')]&&(this['screenEffect']['outlinePass'][_0x1cd8('0xa81')]=_0x2f3cc1['maskTexture'],this[_0x1cd8('0x4ff')]['outlinePass'][_0x1cd8('0xa82')]=!0x0),_0x2f3cc1[_0x1cd8('0xa83')]=_0x2f3cc1[_0x1cd8('0xa83')]||2.5,this['screenEffect']['outlinePass'][_0x1cd8('0xa84')]=_0x2f3cc1['blink']?_0x2f3cc1[_0x1cd8('0xa83')]:0x0;}},{'key':'setObjectOutline','value':function(_0x2f3cc1,_0x1b3aaf){this[_0x1cd8('0x4ff')]&&(this[_0x1cd8('0x4ff')]['outlinePass'][_0x1cd8('0xa78')]['push'](_0x2f3cc1),_0x1b3aaf?this['updateOutlineStyle'](_0x1b3aaf):this[_0x1cd8('0xa85')](this[_0x1cd8('0x4ff')][_0x1cd8('0xa86')]));}},{'key':_0x1cd8('0x929'),'value':function(_0x2f3cc1){if(this[_0x1cd8('0x4ff')]&&0x0<this[_0x1cd8('0x4ff')][_0x1cd8('0xa77')][_0x1cd8('0xa78')][_0x1cd8('0xc')])for(var _0x1b3aaf=0x0,_0x2c519d=this[_0x1cd8('0x4ff')]['outlinePass'][_0x1cd8('0xa78')]['length'];_0x1b3aaf<_0x2c519d;_0x1b3aaf++)if(this[_0x1cd8('0x4ff')]['outlinePass'][_0x1cd8('0xa78')][_0x1b3aaf]['uuid']===_0x2f3cc1['uuid']){this['screenEffect'][_0x1cd8('0xa77')][_0x1cd8('0xa78')]['splice'](_0x1b3aaf,0x1);break;}}},{'key':_0x1cd8('0x92a'),'value':function(){this['screenEffect']&&(this[_0x1cd8('0x4ff')]['outlinePass'][_0x1cd8('0xa78')]['length']=0x0);}}]),_0x1b3aaf[_0x1cd8('0xa')]=_0x4debc2;},function(_0x5a02d0,_0x3d25ae,_0x5476d7){'use strict';Object[_0x1cd8('0x4')](_0x3d25ae,_0x1cd8('0x6'),{'value':!0x0});var _0x1353a2=_0x245665(_0x5476d7(0xf)),_0x18dacc=_0x245665(_0x5476d7(0x0)),_0xb89642=_0x245665(_0x5476d7(0x1));function _0x245665(_0x5a02d0){return _0x5a02d0&&_0x5a02d0[_0x1cd8('0x6')]?_0x5a02d0:{'default':_0x5a02d0};}function _0x3fa13e(_0x5a02d0){_0x5a02d0=_0x5a02d0[_0x1cd8('0xdf')];(0x0,_0x18dacc[_0x1cd8('0xa')])(this,_0x3fa13e),this[_0x1cd8('0xdf')]=_0x5a02d0,this['enabled']=!0x0,this['composer']=null,this['isWebGL2']=!0x1,this['bloomComposer']=null,this[_0x1cd8('0xa87')]=null,this[_0x1cd8('0xa88')]=null,this[_0x1cd8('0xa89')]=null,this['outlinePass']=null,this[_0x1cd8('0x3f6')]=0x1,this[_0x1cd8('0xa8a')]={'width':this[_0x1cd8('0xdf')][_0x1cd8('0x466')]['w_'],'height':this[_0x1cd8('0xdf')]['mapView']['h_']},this[_0x1cd8('0xa8b')]={'width':this[_0x1cd8('0xdf')][_0x1cd8('0x466')]['w_']*this[_0x1cd8('0x3f6')],'height':this[_0x1cd8('0xdf')][_0x1cd8('0x466')]['h_']*this[_0x1cd8('0x3f6')]},this[_0x1cd8('0xa8c')]=new THREE[(_0x1cd8('0xa8d'))](),this[_0x1cd8('0xa8c')]['set'](0x1),this[_0x1cd8('0xa8e')]={},this[_0x1cd8('0xa8f')]=new THREE['MeshBasicMaterial']({'color':_0x1cd8('0xa90')}),this[_0x1cd8('0xa91')]=new THREE[(_0x1cd8('0x1c3'))](0x0),this[_0x1cd8('0xa92')]=null,this[_0x1cd8('0xa93')]=new THREE[(_0x1cd8('0x1c3'))](),this[_0x1cd8('0xa86')]=null;}_0x5476d7(0x1a),_0x5476d7(0x10f),_0x5476d7(0x110),_0x5476d7(0x111),_0x5476d7(0x112),_0x5476d7(0x113),_0x5476d7(0x114),_0x5476d7(0x115),_0x5476d7(0x116),(0x0,_0xb89642[_0x1cd8('0xa')])(_0x3fa13e,[{'key':'init','value':function(_0x5a02d0){var _0x3d25ae,_0x5476d7=this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x526')],_0x18dacc=this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x45f')],_0xb89642=this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x2fb')],_0x245665=_0x5476d7[_0x1cd8('0xa94')](),_0x245665=(this['scale']=_0x245665<=0x1?0x1:0x2,this[_0x1cd8('0xdf')][_0x1cd8('0x4a')][_0x1cd8('0xa95')]||this[_0x1cd8('0xdf')][_0x1cd8('0x4a')][_0x1cd8('0xa96')]),_0x3fa13e=(_0x5476d7['capabilities'][_0x1cd8('0xa97')]?(_0x3fa13e={'format':_0x245665?THREE['RGBAFormat']:THREE['RGBFormat'],'stencilBuffer':!0x1},_0x1c8748=_0x5476d7['getDrawingBufferSize'](new THREE['Vector2']()),_0x1c8748=new THREE['WebGLMultisampleRenderTarget'](_0x1c8748['width'],_0x1c8748['height'],_0x3fa13e),this['composer']=new THREE['EffectComposer'](_0x5476d7,_0x1c8748),this[_0x1cd8('0xa97')]=!0x0):this[_0x1cd8('0x8b3')]=new THREE['EffectComposer'](_0x5476d7),new THREE[(_0x1cd8('0xa98'))](_0x18dacc,_0xb89642)),_0x1c8748=(this[_0x1cd8('0xa87')]=new THREE[(_0x1cd8('0xa99'))](THREE['FXAAShader']),null);this[_0x1cd8('0xa97')]||((_0x1c8748=new THREE['ShaderPass'](THREE[_0x1cd8('0xa9a')]))[_0x1cd8('0xa9b')]=!0x1),_0x5a02d0['outline']&&(this['defaultOutlineConfig']=(0x0,_0x1353a2[_0x1cd8('0xa')])({'color':'#FFFFFF','edgeWidth':0x3,'edgeSpread':0x0,'edgeThickness':0x1,'blink':!0x1,'blinkPeriod':2.5},_0x5a02d0[_0x1cd8('0x9eb')]),_0x3d25ae=esmap[_0x1cd8('0x3b')][_0x1cd8('0x8aa')](),this[_0x1cd8('0xa77')]=new THREE[(_0x1cd8('0xa9c'))](new THREE[(_0x1cd8('0x1c0'))](this['originSize'][_0x1cd8('0x320')],this[_0x1cd8('0xa8a')][_0x1cd8('0x2f1')]),_0x18dacc,_0xb89642),this['outlinePass'][_0x1cd8('0xa79')][_0x1cd8('0x2f5')](this['defaultOutlineConfig'][_0x1cd8('0x220')]),this[_0x1cd8('0xa86')][_0x1cd8('0xa7a')]&&this[_0x1cd8('0xa77')]['hiddenEdgeColor']['setStyle'](this[_0x1cd8('0xa86')]['hiddenEdgeColor']),this[_0x1cd8('0xa77')]['edgeStrength']=this[_0x1cd8('0xa86')][_0x1cd8('0xa7b')],this[_0x1cd8('0xa77')][_0x1cd8('0xa7f')]=this['defaultOutlineConfig']['edgeThickness'],_0x3d25ae['platform']&&0x0<=[_0x1cd8('0xa9d'),_0x1cd8('0x8ad'),_0x1cd8('0x8ae')]['indexOf'](_0x3d25ae[_0x1cd8('0x8ac')])&&(this[_0x1cd8('0xa77')][_0x1cd8('0xa7c')]*=0x4,this['outlinePass'][_0x1cd8('0xa7f')]*=0x4),this[_0x1cd8('0xa77')]['edgeGlow']=this[_0x1cd8('0xa86')][_0x1cd8('0xa7d')],this[_0x1cd8('0xa77')]['pulsePeriod']=this['defaultOutlineConfig'][_0x1cd8('0x636')]?this[_0x1cd8('0xa86')][_0x1cd8('0xa83')]:0x0),_0x5a02d0[_0x1cd8('0x5e0')]&&(_0x18dacc=(0x0,_0x1353a2[_0x1cd8('0xa')])({'bloomStrength':0x1,'bloomThreshold':0x0,'bloomRadius':0x0,'sceneBackground':new THREE[(_0x1cd8('0x1c3'))](0x0)},_0x5a02d0['unrealBloom']),this['bloomPass']=new THREE['UnrealBloomPass'](new THREE[(_0x1cd8('0x1c0'))](this[_0x1cd8('0xa8a')]['width'],this['originSize']['height']),1.5,0.4,0.85),this['bloomPass'][_0x1cd8('0xa9b')]=!0x1,this[_0x1cd8('0xa88')][_0x1cd8('0xa9e')]=_0x18dacc[_0x1cd8('0xa9f')],this['bloomPass'][_0x1cd8('0xaa0')]=_0x18dacc[_0x1cd8('0xaa1')],this[_0x1cd8('0xa88')][_0x1cd8('0x226')]=_0x18dacc[_0x1cd8('0xaa2')],this[_0x1cd8('0xaa3')]=new THREE['EffectComposer'](_0x5476d7),this[_0x1cd8('0xaa3')][_0x1cd8('0xa9b')]=!0x1,this[_0x1cd8('0xaa3')][_0x1cd8('0xaa4')](_0x3fa13e),this[_0x1cd8('0xa97')]||this[_0x1cd8('0xaa3')][_0x1cd8('0xaa4')](this[_0x1cd8('0xa87')]),this[_0x1cd8('0xa97')]||this[_0x1cd8('0xaa3')]['addPass'](_0x1c8748),this[_0x1cd8('0xaa3')][_0x1cd8('0xaa4')](this[_0x1cd8('0xa88')]),this['bloomFinalPass']=new THREE[(_0x1cd8('0xa99'))](new THREE[(_0x1cd8('0x1f0'))]({'uniforms':{'baseTexture':{'value':null},'bloomTexture':{'value':this['bloomComposer']['renderTarget2'][_0x1cd8('0x9f')]}},'vertexShader':_0x1cd8('0xaa5'),'fragmentShader':_0x1cd8('0xaa6'),'defines':{}}),_0x1cd8('0xaa7')),this['bloomFinalPass'][_0x1cd8('0xaa8')]=!0x0,this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x45f')][_0x1cd8('0x496')]?this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x496')]instanceof THREE['Texture']&&(this[_0x1cd8('0xa92')]=this[_0x1cd8('0xdf')][_0x1cd8('0x466')]['scene'][_0x1cd8('0x496')]):_0x245665||(this['map']['mapView']['scene']['background']=_0x18dacc['sceneBackground'],esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')]['isShowSkybox']||(_0xb89642=new THREE[(_0x1cd8('0x1c3'))](this[_0x1cd8('0xdf')]['mapTheme'][_0x1cd8('0xaa9')]),(_0x3d25ae=new THREE[(_0x1cd8('0x3d1'))]({'color':_0xb89642,'side':THREE[_0x1cd8('0x45c')]}))[_0x1cd8('0x3d2')]=function(_0x5a02d0){_0x5a02d0[_0x1cd8('0x3d4')]=_0x5a02d0[_0x1cd8('0x3d4')]['replace']('#include\x20<fog_vertex>',_0x1cd8('0xaaa'));},(_0x5476d7=new THREE[(_0x1cd8('0x30c'))](new THREE[(_0x1cd8('0x45e'))](0x1,0x1,0x1),_0x3d25ae))[_0x1cd8('0x3f6')]['set'](0x186a0,0x186a0,0x186a0),this['map'][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](_0x5476d7)))),this['composer'][_0x1cd8('0xaa4')](_0x3fa13e),_0x5a02d0[_0x1cd8('0x5e0')]&&this['composer']['addPass'](this[_0x1cd8('0xa89')]),_0x5a02d0[_0x1cd8('0x9eb')]&&this[_0x1cd8('0x8b3')][_0x1cd8('0xaa4')](this[_0x1cd8('0xa77')]),this[_0x1cd8('0xa97')]||this[_0x1cd8('0x8b3')][_0x1cd8('0xaa4')](this[_0x1cd8('0xa87')]),this[_0x1cd8('0x7ba')](this[_0x1cd8('0x3f6')]);}},{'key':_0x1cd8('0x7ba'),'value':function(_0x5a02d0){this[_0x1cd8('0x3f6')]=_0x5a02d0,this[_0x1cd8('0xeb')]={'width':this[_0x1cd8('0xa8a')][_0x1cd8('0x320')]*this[_0x1cd8('0x3f6')],'height':this[_0x1cd8('0xa8a')][_0x1cd8('0x2f1')]*this[_0x1cd8('0x3f6')]};}},{'key':_0x1cd8('0x31f'),'value':function(_0x5a02d0,_0x3d25ae){this[_0x1cd8('0xa8a')][_0x1cd8('0x320')]=_0x5a02d0,this[_0x1cd8('0xa8a')]['height']=_0x3d25ae,this[_0x1cd8('0x7ba')](this[_0x1cd8('0x3f6')]);}},{'key':_0x1cd8('0x325'),'value':function(){var _0x5a02d0=this;this[_0x1cd8('0xdf')]['on'](_0x1cd8('0xaab'),function(){_0x5a02d0[_0x1cd8('0x8b3')]&&(_0x5a02d0['bloomComposer']&&_0x5a02d0[_0x1cd8('0xaac')](),_0x5a02d0[_0x1cd8('0x8b3')]['render'](),_0x5a02d0['map']['mapView'][_0x1cd8('0x526')][_0x1cd8('0xaad')]());});}},{'key':_0x1cd8('0xaac'),'value':function(){this['originBgTexture']&&(this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x45f')][_0x1cd8('0x496')]=this[_0x1cd8('0xa91')]),this['map'][_0x1cd8('0x466')]['scene'][_0x1cd8('0x7c7')](this[_0x1cd8('0xaae')][_0x1cd8('0x9')](this)),this[_0x1cd8('0xaa3')][_0x1cd8('0x325')](),this[_0x1cd8('0xa92')]&&(this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x496')]=this['originBgTexture']),this['map'][_0x1cd8('0x466')][_0x1cd8('0x45f')]['traverse'](this[_0x1cd8('0xaaf')]['bind'](this));}},{'key':_0x1cd8('0xaae'),'value':function(_0x5a02d0){_0x5a02d0[_0x1cd8('0x47')]&&!0x1===this[_0x1cd8('0xa8c')]['test'](_0x5a02d0['layers'])&&(this['materials'][_0x5a02d0[_0x1cd8('0x1d2')]]=_0x5a02d0[_0x1cd8('0x47')],!0x1!==_0x5a02d0[_0x1cd8('0x47')][_0x1cd8('0x327')]&&(_0x1cd8('0xab0')==_0x5a02d0[_0x1cd8('0x101')]?_0x5a02d0[_0x1cd8('0x47')][_0x1cd8('0x327')]=!0x1:_0x5a02d0[_0x1cd8('0x47')]=this[_0x1cd8('0xa8f')]));}},{'key':_0x1cd8('0xaaf'),'value':function(_0x5a02d0){this[_0x1cd8('0xa8e')][_0x5a02d0[_0x1cd8('0x1d2')]]&&(_0x5a02d0[_0x1cd8('0x47')]=this[_0x1cd8('0xa8e')][_0x5a02d0[_0x1cd8('0x1d2')]],delete this[_0x1cd8('0xa8e')][_0x5a02d0[_0x1cd8('0x1d2')]]),_0x1cd8('0xab0')==_0x5a02d0[_0x1cd8('0x101')]&&(_0x5a02d0['material'][_0x1cd8('0x327')]=!0x0);}},{'key':_0x1cd8('0xeb'),'set':function(_0x5a02d0){this[_0x1cd8('0xaa3')]&&this[_0x1cd8('0xaa3')]['setSize'](_0x5a02d0['width'],_0x5a02d0[_0x1cd8('0x2f1')]),this[_0x1cd8('0xa97')]||this[_0x1cd8('0xa87')]['uniforms'][_0x1cd8('0x2f8')]['value']['set'](0x1/_0x5a02d0[_0x1cd8('0x320')],0x1/_0x5a02d0[_0x1cd8('0x2f1')]),this[_0x1cd8('0x8b3')]&&this[_0x1cd8('0x8b3')][_0x1cd8('0xee')](_0x5a02d0[_0x1cd8('0x320')],_0x5a02d0[_0x1cd8('0x2f1')]);}}]),_0x3d25ae[_0x1cd8('0xa')]=_0x3fa13e;},function(_0x3decae,_0x31d90c,_0x43a5e5){'use strict';var _0xaeebef,_0x3c6ceb,_0x43a5e5=_0x43a5e5(0xf),_0x43a5e5=_0x43a5e5&&_0x43a5e5[_0x1cd8('0x6')]?_0x43a5e5:{'default':_0x43a5e5};function _0x1db0a7(_0x3decae){this[_0x1cd8('0xa2f')]=new THREE[(_0x1cd8('0x30c'))](_0x3c6ceb,_0x3decae);}THREE[_0x1cd8('0xab1')]=function(_0x3decae,_0x31d90c){var _0x43a5e5,_0xaeebef;this[_0x1cd8('0x526')]=_0x3decae,void 0x0===_0x31d90c?(_0x43a5e5={'minFilter':THREE[_0x1cd8('0x3f1')],'magFilter':THREE[_0x1cd8('0x3f1')],'format':THREE[_0x1cd8('0xab2')],'stencilBuffer':!0x1},_0xaeebef=_0x3decae['getSize'](new THREE[(_0x1cd8('0x1c0'))]()),this['_pixelRatio']=_0x3decae[_0x1cd8('0xa94')](),this[_0x1cd8('0xab3')]=_0xaeebef[_0x1cd8('0x320')],this[_0x1cd8('0xab4')]=_0xaeebef[_0x1cd8('0x2f1')],(_0x31d90c=new THREE[(_0x1cd8('0x6e1'))](this[_0x1cd8('0xab3')]*this[_0x1cd8('0xab5')],this[_0x1cd8('0xab4')]*this[_0x1cd8('0xab5')],_0x43a5e5))['texture'][_0x1cd8('0x7f')]=_0x1cd8('0xab6')):(this['_pixelRatio']=0x1,this[_0x1cd8('0xab3')]=_0x31d90c['width'],this['_height']=_0x31d90c[_0x1cd8('0x2f1')]),this[_0x1cd8('0xab7')]=_0x31d90c,this[_0x1cd8('0xab8')]=_0x31d90c[_0x1cd8('0x1bb')](),this[_0x1cd8('0xab8')][_0x1cd8('0x9f')]['name']=_0x1cd8('0xab9'),this[_0x1cd8('0xaba')]=this[_0x1cd8('0xab7')],this[_0x1cd8('0xabb')]=this[_0x1cd8('0xab8')],this[_0x1cd8('0xa9b')]=!0x0,this[_0x1cd8('0xabc')]=[],void 0x0===THREE[_0x1cd8('0xa9a')]&&console['error'](_0x1cd8('0xabd')),void 0x0===THREE[_0x1cd8('0xa99')]&&console['error'](_0x1cd8('0xabe')),this[_0x1cd8('0xabf')]=new THREE[(_0x1cd8('0xa99'))](THREE[_0x1cd8('0xa9a')]),this[_0x1cd8('0xac0')]=new THREE[(_0x1cd8('0xac1'))]();},(0x0,_0x43a5e5[_0x1cd8('0xa')])(THREE[_0x1cd8('0xab1')][_0x1cd8('0x11')],{'swapBuffers':function(){var _0x3decae=this[_0x1cd8('0xabb')];this[_0x1cd8('0xabb')]=this[_0x1cd8('0xaba')],this['writeBuffer']=_0x3decae;},'addPass':function(_0x3decae){this[_0x1cd8('0xabc')]['push'](_0x3decae);var _0x31d90c=this[_0x1cd8('0x526')][_0x1cd8('0xac2')](new THREE[(_0x1cd8('0x1c0'))]());_0x3decae[_0x1cd8('0xee')](_0x31d90c[_0x1cd8('0x320')],_0x31d90c[_0x1cd8('0x2f1')]);},'insertPass':function(_0x3decae,_0x31d90c){this[_0x1cd8('0xabc')][_0x1cd8('0x99')](_0x31d90c,0x0,_0x3decae);},'isLastEnabledPass':function(_0x3decae){for(var _0x31d90c=_0x3decae+0x1;_0x31d90c<this[_0x1cd8('0xabc')]['length'];_0x31d90c++)if(this['passes'][_0x31d90c][_0x1cd8('0x41d')])return!0x1;return!0x0;},'render':function(_0x3decae){void 0x0===_0x3decae&&(_0x3decae=this[_0x1cd8('0xac0')]['getDelta']());for(var _0x31d90c,_0x43a5e5,_0xaeebef=this['renderer'][_0x1cd8('0x6bb')](),_0x3c6ceb=!0x1,_0x1db0a7=this[_0x1cd8('0xabc')]['length'],_0x4572b7=0x0;_0x4572b7<_0x1db0a7;_0x4572b7++)!0x1!==(_0x43a5e5=this[_0x1cd8('0xabc')][_0x4572b7])['enabled']&&(_0x43a5e5[_0x1cd8('0xa9b')]=this[_0x1cd8('0xa9b')]&&this[_0x1cd8('0xac3')](_0x4572b7),_0x43a5e5[_0x1cd8('0x325')](this[_0x1cd8('0x526')],this[_0x1cd8('0xaba')],this[_0x1cd8('0xabb')],_0x3decae,_0x3c6ceb),_0x43a5e5['needsSwap']&&(_0x3c6ceb&&((_0x31d90c=this[_0x1cd8('0x526')][_0x1cd8('0xac4')])[_0x1cd8('0xac5')](_0x31d90c[_0x1cd8('0xac6')],0x1,0xffffffff),this[_0x1cd8('0xabf')][_0x1cd8('0x325')](this[_0x1cd8('0x526')],this[_0x1cd8('0xaba')],this['readBuffer'],_0x3decae),_0x31d90c[_0x1cd8('0xac5')](_0x31d90c[_0x1cd8('0xac7')],0x1,0xffffffff)),this['swapBuffers']()),void 0x0!==THREE[_0x1cd8('0xac8')]&&(_0x43a5e5 instanceof THREE[_0x1cd8('0xac8')]?_0x3c6ceb=!0x0:_0x43a5e5 instanceof THREE[_0x1cd8('0xac9')]&&(_0x3c6ceb=!0x1)));this['renderer']['setRenderTarget'](_0xaeebef);},'reset':function(_0x3decae){var _0x31d90c;void 0x0===_0x3decae&&(_0x31d90c=this[_0x1cd8('0x526')][_0x1cd8('0xaca')](new THREE[(_0x1cd8('0x1c0'))]()),this[_0x1cd8('0xab5')]=this[_0x1cd8('0x526')][_0x1cd8('0xa94')](),this[_0x1cd8('0xab3')]=_0x31d90c[_0x1cd8('0x320')],this[_0x1cd8('0xab4')]=_0x31d90c[_0x1cd8('0x2f1')],(_0x3decae=this[_0x1cd8('0xab7')][_0x1cd8('0x1bb')]())[_0x1cd8('0xee')](this[_0x1cd8('0xab3')]*this[_0x1cd8('0xab5')],this[_0x1cd8('0xab4')]*this[_0x1cd8('0xab5')])),this['renderTarget1']['dispose'](),this[_0x1cd8('0xab8')]['dispose'](),this[_0x1cd8('0xab7')]=_0x3decae,this[_0x1cd8('0xab8')]=_0x3decae['clone'](),this[_0x1cd8('0xaba')]=this['renderTarget1'],this[_0x1cd8('0xabb')]=this[_0x1cd8('0xab8')];},'setSize':function(_0x3decae,_0x31d90c){this['_width']=_0x3decae,this['_height']=_0x31d90c;var _0x43a5e5=this['_width']*this[_0x1cd8('0xab5')],_0xaeebef=this['_height']*this[_0x1cd8('0xab5')];this['renderTarget1'][_0x1cd8('0xee')](_0x43a5e5,_0xaeebef),this[_0x1cd8('0xab8')]['setSize'](_0x43a5e5,_0xaeebef);for(var _0x3c6ceb=0x0;_0x3c6ceb<this[_0x1cd8('0xabc')]['length'];_0x3c6ceb++)this['passes'][_0x3c6ceb]['setSize'](_0x43a5e5,_0xaeebef);},'setPixelRatio':function(_0x3decae){this['_pixelRatio']=_0x3decae,this['setSize'](this['_width'],this[_0x1cd8('0xab4')]);}}),THREE['Pass']=function(){this['enabled']=!0x0,this[_0x1cd8('0xaa8')]=!0x0,this['clear']=!0x1,this[_0x1cd8('0xa9b')]=!0x1;},(0x0,_0x43a5e5['default'])(THREE['Pass'][_0x1cd8('0x11')],{'setSize':function(){},'render':function(){console[_0x1cd8('0x1fe')](_0x1cd8('0xacb'));}}),THREE[_0x1cd8('0xacc')][_0x1cd8('0xacd')]=(_0xaeebef=new THREE[(_0x1cd8('0xace'))](-0x1,0x1,0x1,-0x1,0x0,0x1),_0x3c6ceb=new THREE[(_0x1cd8('0x3e3'))](0x2,0x2),Object[_0x1cd8('0x4')](_0x1db0a7[_0x1cd8('0x11')],_0x1cd8('0x47'),{'get':function(){return this['_mesh']['material'];},'set':function(_0x3decae){this['_mesh'][_0x1cd8('0x47')]=_0x3decae;}}),(0x0,_0x43a5e5[_0x1cd8('0xa')])(_0x1db0a7[_0x1cd8('0x11')],{'render':function(_0x3decae){_0x3decae[_0x1cd8('0x325')](this[_0x1cd8('0xa2f')],_0xaeebef);}}),_0x1db0a7);},function(_0x3cf22f,_0x16e2cb,_0x46d35b){'use strict';var _0x4fa467=_0xb0012e(_0x46d35b(0x1d)),_0x46d35b=_0xb0012e(_0x46d35b(0xf));function _0xb0012e(_0x3cf22f){return _0x3cf22f&&_0x3cf22f[_0x1cd8('0x6')]?_0x3cf22f:{'default':_0x3cf22f};}THREE['RenderPass']=function(_0x3cf22f,_0x16e2cb,_0x46d35b,_0x4fa467,_0xb0012e){THREE[_0x1cd8('0xacc')][_0x1cd8('0x1')](this),this[_0x1cd8('0x45f')]=_0x3cf22f,this['camera']=_0x16e2cb,this[_0x1cd8('0xacf')]=_0x46d35b,this['clearColor']=_0x4fa467,this['clearAlpha']=void 0x0!==_0xb0012e?_0xb0012e:0x0,this[_0x1cd8('0x2df')]=!0x0,this[_0x1cd8('0xaad')]=!0x1,this[_0x1cd8('0xaa8')]=!0x1;},THREE[_0x1cd8('0xa98')]['prototype']=(0x0,_0x46d35b['default'])((0x0,_0x4fa467[_0x1cd8('0xa')])(THREE[_0x1cd8('0xacc')][_0x1cd8('0x11')]),{'constructor':THREE[_0x1cd8('0xa98')],'render':function(_0x3cf22f,_0x16e2cb,_0x46d35b){var _0x4fa467,_0xb0012e,_0x5cc24e=_0x3cf22f[_0x1cd8('0xad0')];_0x3cf22f['autoClear']=!0x1,this[_0x1cd8('0x45f')][_0x1cd8('0xacf')]=this['overrideMaterial'],this[_0x1cd8('0xad1')]&&(_0x4fa467=_0x3cf22f['getClearColor']()[_0x1cd8('0x1c7')](),_0xb0012e=_0x3cf22f['getClearAlpha'](),_0x3cf22f['setClearColor'](this['clearColor'],this[_0x1cd8('0xad2')])),this[_0x1cd8('0xaad')]&&_0x3cf22f['clearDepth'](),_0x3cf22f[_0x1cd8('0x6be')](this[_0x1cd8('0xa9b')]?null:_0x46d35b),this[_0x1cd8('0x2df')]&&_0x3cf22f['clear'](_0x3cf22f[_0x1cd8('0xad3')],_0x3cf22f[_0x1cd8('0xad4')],_0x3cf22f[_0x1cd8('0xad5')]),_0x3cf22f[_0x1cd8('0x325')](this[_0x1cd8('0x45f')],this[_0x1cd8('0x2fb')]),this[_0x1cd8('0xad1')]&&_0x3cf22f[_0x1cd8('0xad6')](_0x4fa467,_0xb0012e),this['scene'][_0x1cd8('0xacf')]=null,_0x3cf22f[_0x1cd8('0xad0')]=_0x5cc24e;}});},function(_0x3d6603,_0x1b6b2c,_0xf82424){'use strict';var _0x314fab=_0x161b14(_0xf82424(0x1d)),_0x19ffc5=_0x161b14(_0xf82424(0xf));function _0x161b14(_0x3d6603){return _0x3d6603&&_0x3d6603['__esModule']?_0x3d6603:{'default':_0x3d6603};}THREE['ShaderPass']=function(_0x3d6603,_0x1b6b2c){THREE[_0x1cd8('0xacc')][_0x1cd8('0x1')](this),this[_0x1cd8('0xad7')]=void 0x0!==_0x1b6b2c?_0x1b6b2c:'tDiffuse',_0x3d6603 instanceof THREE[_0x1cd8('0x1f0')]?(this[_0x1cd8('0x176')]=_0x3d6603[_0x1cd8('0x176')],this[_0x1cd8('0x47')]=_0x3d6603):_0x3d6603&&(this[_0x1cd8('0x176')]=THREE[_0x1cd8('0x4a1')]['clone'](_0x3d6603[_0x1cd8('0x176')]),this[_0x1cd8('0x47')]=new THREE[(_0x1cd8('0x1f0'))]({'defines':(0x0,_0x19ffc5[_0x1cd8('0xa')])({},_0x3d6603[_0x1cd8('0x175')]),'uniforms':this[_0x1cd8('0x176')],'vertexShader':_0x3d6603['vertexShader'],'fragmentShader':_0x3d6603[_0x1cd8('0x56')]})),this[_0x1cd8('0xad8')]=new THREE[(_0x1cd8('0xacc'))]['FullScreenQuad'](this['material']);},THREE['ShaderPass']['prototype']=(0x0,_0x19ffc5[_0x1cd8('0xa')])((0x0,_0x314fab[_0x1cd8('0xa')])(THREE[_0x1cd8('0xacc')][_0x1cd8('0x11')]),{'constructor':THREE[_0x1cd8('0xa99')],'render':function(_0x3d6603,_0x1b6b2c,_0xf82424){this[_0x1cd8('0x176')][this[_0x1cd8('0xad7')]]&&(this['uniforms'][this[_0x1cd8('0xad7')]][_0x1cd8('0xf')]=_0xf82424[_0x1cd8('0x9f')]),this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0x47')],this[_0x1cd8('0xa9b')]?_0x3d6603['setRenderTarget'](null):(_0x3d6603[_0x1cd8('0x6be')](_0x1b6b2c),this[_0x1cd8('0x2df')]&&_0x3d6603[_0x1cd8('0x2df')](_0x3d6603[_0x1cd8('0xad3')],_0x3d6603[_0x1cd8('0xad4')],_0x3d6603[_0x1cd8('0xad5')])),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x3d6603);}});},function(_0x3220eb,_0x503a54,_0xea9949){'use strict';var _0x5ecc20=_0x4e433d(_0xea9949(0x1d)),_0xea9949=_0x4e433d(_0xea9949(0xf));function _0x4e433d(_0x3220eb){return _0x3220eb&&_0x3220eb[_0x1cd8('0x6')]?_0x3220eb:{'default':_0x3220eb};}THREE[_0x1cd8('0xad9')]=function(_0x3220eb,_0x503a54,_0xea9949,_0x5ecc20){THREE[_0x1cd8('0xacc')][_0x1cd8('0x1')](this),this[_0x1cd8('0xaa0')]=void 0x0!==_0x503a54?_0x503a54:0x1,this[_0x1cd8('0x226')]=_0xea9949,this['threshold']=_0x5ecc20,this[_0x1cd8('0x2f8')]=void 0x0!==_0x3220eb?new THREE[(_0x1cd8('0x1c0'))](_0x3220eb['x'],_0x3220eb['y']):new THREE[(_0x1cd8('0x1c0'))](0x100,0x100),this[_0x1cd8('0xad1')]=new THREE[(_0x1cd8('0x1c3'))](0x0,0x0,0x0);var _0x4e433d={'minFilter':THREE['LinearFilter'],'magFilter':THREE['LinearFilter'],'format':THREE[_0x1cd8('0xab2')]},_0x2fe6fc=(this[_0x1cd8('0xada')]=[],this[_0x1cd8('0xadb')]=[],this['nMips']=0x5,Math[_0x1cd8('0x1ca')](this[_0x1cd8('0x2f8')]['x']/0x2)),_0x11bbba=Math[_0x1cd8('0x1ca')](this[_0x1cd8('0x2f8')]['y']/0x2);this[_0x1cd8('0xadc')]=new THREE['WebGLRenderTarget'](_0x2fe6fc,_0x11bbba,_0x4e433d),this[_0x1cd8('0xadc')][_0x1cd8('0x9f')][_0x1cd8('0x7f')]='UnrealBloomPass.bright',this[_0x1cd8('0xadc')]['texture'][_0x1cd8('0x6ac')]=!0x1;for(var _0x522cee=0x0;_0x522cee<this[_0x1cd8('0xadd')];_0x522cee++){var _0x5ea120=new THREE[(_0x1cd8('0x6e1'))](_0x2fe6fc,_0x11bbba,_0x4e433d),_0x5ea120=(_0x5ea120['texture']['name']=_0x1cd8('0xade')+_0x522cee,_0x5ea120[_0x1cd8('0x9f')][_0x1cd8('0x6ac')]=!0x1,this[_0x1cd8('0xada')][_0x1cd8('0x70')](_0x5ea120),new THREE[(_0x1cd8('0x6e1'))](_0x2fe6fc,_0x11bbba,_0x4e433d));_0x5ea120[_0x1cd8('0x9f')][_0x1cd8('0x7f')]=_0x1cd8('0xadf')+_0x522cee,_0x5ea120[_0x1cd8('0x9f')][_0x1cd8('0x6ac')]=!0x1,this['renderTargetsVertical'][_0x1cd8('0x70')](_0x5ea120),_0x2fe6fc=Math['round'](_0x2fe6fc/0x2),_0x11bbba=Math[_0x1cd8('0x1ca')](_0x11bbba/0x2);}void 0x0===THREE[_0x1cd8('0xae0')]&&console[_0x1cd8('0x1fe')](_0x1cd8('0xae1'));for(var _0xea9949=THREE[_0x1cd8('0xae0')],_0xc94208=(this[_0x1cd8('0xae2')]=THREE[_0x1cd8('0x4a1')][_0x1cd8('0x1bb')](_0xea9949[_0x1cd8('0x176')]),this[_0x1cd8('0xae2')][_0x1cd8('0xae3')]['value']=_0x5ecc20,this[_0x1cd8('0xae2')]['smoothWidth']['value']=0.01,this[_0x1cd8('0xae4')]=new THREE[(_0x1cd8('0x1f0'))]({'uniforms':this[_0x1cd8('0xae2')],'vertexShader':_0xea9949[_0x1cd8('0x3d4')],'fragmentShader':_0xea9949[_0x1cd8('0x56')],'defines':{}}),this[_0x1cd8('0xae5')]=[],[0x3,0x5,0x7,0x9,0xb]),_0x2fe6fc=Math[_0x1cd8('0x1ca')](this[_0x1cd8('0x2f8')]['x']/0x2),_0x11bbba=Math[_0x1cd8('0x1ca')](this[_0x1cd8('0x2f8')]['y']/0x2),_0x522cee=0x0;_0x522cee<this['nMips'];_0x522cee++)this[_0x1cd8('0xae5')]['push'](this[_0x1cd8('0xae6')](_0xc94208[_0x522cee])),this[_0x1cd8('0xae5')][_0x522cee][_0x1cd8('0x176')]['texSize'][_0x1cd8('0xf')]=new THREE['Vector2'](_0x2fe6fc,_0x11bbba),_0x2fe6fc=Math[_0x1cd8('0x1ca')](_0x2fe6fc/0x2),_0x11bbba=Math['round'](_0x11bbba/0x2);this['compositeMaterial']=this['getCompositeMaterial'](this[_0x1cd8('0xadd')]),this[_0x1cd8('0xae7')]['uniforms'][_0x1cd8('0xae8')][_0x1cd8('0xf')]=this[_0x1cd8('0xadb')][0x0][_0x1cd8('0x9f')],this[_0x1cd8('0xae7')]['uniforms'][_0x1cd8('0xae9')][_0x1cd8('0xf')]=this[_0x1cd8('0xadb')][0x1][_0x1cd8('0x9f')],this['compositeMaterial'][_0x1cd8('0x176')]['blurTexture3']['value']=this[_0x1cd8('0xadb')][0x2][_0x1cd8('0x9f')],this[_0x1cd8('0xae7')][_0x1cd8('0x176')][_0x1cd8('0xaea')][_0x1cd8('0xf')]=this[_0x1cd8('0xadb')][0x3][_0x1cd8('0x9f')],this[_0x1cd8('0xae7')]['uniforms'][_0x1cd8('0xaeb')]['value']=this['renderTargetsVertical'][0x4][_0x1cd8('0x9f')],this[_0x1cd8('0xae7')]['uniforms']['bloomStrength'][_0x1cd8('0xf')]=_0x503a54,this[_0x1cd8('0xae7')][_0x1cd8('0x176')][_0x1cd8('0xaa2')]['value']=0.1,this['compositeMaterial'][_0x1cd8('0x10b')]=!0x0,this[_0x1cd8('0xae7')][_0x1cd8('0x176')]['bloomFactors']['value']=[0x1,0.8,0.6,0.4,0.2],this[_0x1cd8('0xaec')]=[new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1),new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1),new THREE['Vector3'](0x1,0x1,0x1),new THREE['Vector3'](0x1,0x1,0x1),new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1)],this[_0x1cd8('0xae7')][_0x1cd8('0x176')][_0x1cd8('0xaec')][_0x1cd8('0xf')]=this[_0x1cd8('0xaec')],void 0x0===THREE[_0x1cd8('0xa9a')]&&console[_0x1cd8('0x1fe')](_0x1cd8('0xaed'));_0x3220eb=THREE[_0x1cd8('0xa9a')];this[_0x1cd8('0xaee')]=THREE[_0x1cd8('0x4a1')][_0x1cd8('0x1bb')](_0x3220eb[_0x1cd8('0x176')]),this[_0x1cd8('0xaee')][_0x1cd8('0x20a')]['value']=0x1,this[_0x1cd8('0xaef')]=new THREE[(_0x1cd8('0x1f0'))]({'uniforms':this[_0x1cd8('0xaee')],'vertexShader':_0x3220eb[_0x1cd8('0x3d4')],'fragmentShader':_0x3220eb['fragmentShader'],'blending':THREE[_0x1cd8('0x1e0')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this[_0x1cd8('0x41d')]=!0x0,this['needsSwap']=!0x1,this['oldClearColor']=new THREE[(_0x1cd8('0x1c3'))](),this[_0x1cd8('0xaf0')]=0x1,this[_0x1cd8('0x731')]=new THREE['MeshBasicMaterial'](),this['fsQuad']=new THREE['Pass'][(_0x1cd8('0xacd'))](null);},THREE[_0x1cd8('0xad9')][_0x1cd8('0x11')]=(0x0,_0xea9949[_0x1cd8('0xa')])((0x0,_0x5ecc20[_0x1cd8('0xa')])(THREE[_0x1cd8('0xacc')]['prototype']),{'constructor':THREE['UnrealBloomPass'],'dispose':function(){for(var _0x3220eb=0x0;_0x3220eb<this[_0x1cd8('0xada')][_0x1cd8('0xc')];_0x3220eb++)this['renderTargetsHorizontal'][_0x3220eb]['dispose']();for(_0x3220eb=0x0;_0x3220eb<this[_0x1cd8('0xadb')][_0x1cd8('0xc')];_0x3220eb++)this[_0x1cd8('0xadb')][_0x3220eb][_0x1cd8('0xde')]();this[_0x1cd8('0xadc')]['dispose']();},'setSize':function(_0x3220eb,_0x503a54){var _0xea9949=Math[_0x1cd8('0x1ca')](_0x3220eb/0x2),_0x5ecc20=Math['round'](_0x503a54/0x2);this['renderTargetBright']['setSize'](_0xea9949,_0x5ecc20);for(var _0x4e433d=0x0;_0x4e433d<this[_0x1cd8('0xadd')];_0x4e433d++)this[_0x1cd8('0xada')][_0x4e433d][_0x1cd8('0xee')](_0xea9949,_0x5ecc20),this[_0x1cd8('0xadb')][_0x4e433d]['setSize'](_0xea9949,_0x5ecc20),this['separableBlurMaterials'][_0x4e433d]['uniforms']['texSize'][_0x1cd8('0xf')]=new THREE[(_0x1cd8('0x1c0'))](_0xea9949,_0x5ecc20),_0xea9949=Math[_0x1cd8('0x1ca')](_0xea9949/0x2),_0x5ecc20=Math['round'](_0x5ecc20/0x2);},'render':function(_0x3220eb,_0x503a54,_0xea9949,_0x5ecc20,_0x4e433d){this[_0x1cd8('0xaf1')][_0x1cd8('0x1c6')](_0x3220eb[_0x1cd8('0xaf2')]()),this['oldClearAlpha']=_0x3220eb['getClearAlpha']();for(var _0x467448=_0x3220eb[_0x1cd8('0xad0')],_0x2b1d7d=(_0x3220eb[_0x1cd8('0xad0')]=!0x1,_0x3220eb['setClearColor'](this[_0x1cd8('0xad1')],0x0),_0x4e433d&&_0x3220eb[_0x1cd8('0xac4')]['disable'](_0x3220eb['context'][_0x1cd8('0xaf3')]),this[_0x1cd8('0xa9b')]&&(this['fsQuad'][_0x1cd8('0x47')]=this[_0x1cd8('0x731')],this[_0x1cd8('0x731')][_0x1cd8('0xdf')]=_0xea9949[_0x1cd8('0x9f')],_0x3220eb[_0x1cd8('0x6be')](null),_0x3220eb[_0x1cd8('0x2df')](),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x3220eb)),this[_0x1cd8('0xae2')][_0x1cd8('0x6ad')][_0x1cd8('0xf')]=_0xea9949[_0x1cd8('0x9f')],this['highPassUniforms']['luminosityThreshold'][_0x1cd8('0xf')]=this[_0x1cd8('0xa9e')],this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0xae4')],_0x3220eb['setRenderTarget'](this[_0x1cd8('0xadc')]),_0x3220eb[_0x1cd8('0x2df')](),this['fsQuad'][_0x1cd8('0x325')](_0x3220eb),this[_0x1cd8('0xadc')]),_0x3ceb74=0x0;_0x3ceb74<this[_0x1cd8('0xadd')];_0x3ceb74++)this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0xae5')][_0x3ceb74],this[_0x1cd8('0xae5')][_0x3ceb74]['uniforms']['colorTexture'][_0x1cd8('0xf')]=_0x2b1d7d[_0x1cd8('0x9f')],this['separableBlurMaterials'][_0x3ceb74][_0x1cd8('0x176')]['direction'][_0x1cd8('0xf')]=THREE['UnrealBloomPass']['BlurDirectionX'],_0x3220eb[_0x1cd8('0x6be')](this[_0x1cd8('0xada')][_0x3ceb74]),_0x3220eb[_0x1cd8('0x2df')](),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x3220eb),this[_0x1cd8('0xae5')][_0x3ceb74][_0x1cd8('0x176')][_0x1cd8('0xaf4')][_0x1cd8('0xf')]=this[_0x1cd8('0xada')][_0x3ceb74]['texture'],this[_0x1cd8('0xae5')][_0x3ceb74][_0x1cd8('0x176')][_0x1cd8('0x230')][_0x1cd8('0xf')]=THREE[_0x1cd8('0xad9')][_0x1cd8('0xaf5')],_0x3220eb[_0x1cd8('0x6be')](this[_0x1cd8('0xadb')][_0x3ceb74]),_0x3220eb['clear'](),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x3220eb),_0x2b1d7d=this['renderTargetsVertical'][_0x3ceb74];this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0xae7')],this[_0x1cd8('0xae7')][_0x1cd8('0x176')][_0x1cd8('0xaa1')][_0x1cd8('0xf')]=this[_0x1cd8('0xaa0')],this['compositeMaterial'][_0x1cd8('0x176')][_0x1cd8('0xaa2')][_0x1cd8('0xf')]=this[_0x1cd8('0x226')],this[_0x1cd8('0xae7')][_0x1cd8('0x176')][_0x1cd8('0xaec')][_0x1cd8('0xf')]=this[_0x1cd8('0xaec')],_0x3220eb['setRenderTarget'](this[_0x1cd8('0xada')][0x0]),_0x3220eb[_0x1cd8('0x2df')](),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x3220eb),this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0xaef')],this['copyUniforms']['tDiffuse'][_0x1cd8('0xf')]=this[_0x1cd8('0xada')][0x0][_0x1cd8('0x9f')],_0x4e433d&&_0x3220eb['context'][_0x1cd8('0x216')](_0x3220eb[_0x1cd8('0xac4')][_0x1cd8('0xaf3')]),this[_0x1cd8('0xa9b')]?_0x3220eb['setRenderTarget'](null):_0x3220eb[_0x1cd8('0x6be')](_0xea9949),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x3220eb),_0x3220eb[_0x1cd8('0xad6')](this[_0x1cd8('0xaf1')],this['oldClearAlpha']),_0x3220eb[_0x1cd8('0xad0')]=_0x467448;},'getSeperableBlurMaterial':function(_0x3220eb){return new THREE[(_0x1cd8('0x1f0'))]({'defines':{'KERNEL_RADIUS':_0x3220eb,'SIGMA':_0x3220eb},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x1cd8('0x1c0'))](0.5,0.5)},'direction':{'value':new THREE['Vector2'](0.5,0.5)}},'vertexShader':_0x1cd8('0x6ce'),'fragmentShader':_0x1cd8('0xaf6')});},'getCompositeMaterial':function(_0x3220eb){return new THREE[(_0x1cd8('0x1f0'))]({'defines':{'NUM_MIPS':_0x3220eb},'uniforms':{'blurTexture1':{'value':null},'blurTexture2':{'value':null},'blurTexture3':{'value':null},'blurTexture4':{'value':null},'blurTexture5':{'value':null},'dirtTexture':{'value':null},'bloomStrength':{'value':0x1},'bloomFactors':{'value':null},'bloomTintColors':{'value':null},'bloomRadius':{'value':0x0}},'vertexShader':_0x1cd8('0x6ce'),'fragmentShader':'varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture3;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture4;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture5;\x09\x09\x09\x09uniform\x20sampler2D\x20dirtTexture;\x09\x09\x09\x09uniform\x20float\x20bloomStrength;\x09\x09\x09\x09uniform\x20float\x20bloomRadius;\x09\x09\x09\x09uniform\x20float\x20bloomFactors[NUM_MIPS];\x09\x09\x09\x09uniform\x20vec3\x20bloomTintColors[NUM_MIPS];\x09\x09\x09\x09\x09\x09\x09\x09float\x20lerpBloomFactor(const\x20in\x20float\x20factor)\x20{\x20\x09\x09\x09\x09\x09float\x20mirrorFactor\x20=\x201.2\x20-\x20factor;\x09\x09\x09\x09\x09return\x20mix(factor,\x20mirrorFactor,\x20bloomRadius);\x09\x09\x09\x09}\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09gl_FragColor\x20=\x20bloomStrength\x20*\x20(\x20lerpBloomFactor(bloomFactors[0])\x20*\x20vec4(bloomTintColors[0],\x201.0)\x20*\x20texture2D(blurTexture1,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[1])\x20*\x20vec4(bloomTintColors[1],\x201.0)\x20*\x20texture2D(blurTexture2,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[2])\x20*\x20vec4(bloomTintColors[2],\x201.0)\x20*\x20texture2D(blurTexture3,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[3])\x20*\x20vec4(bloomTintColors[3],\x201.0)\x20*\x20texture2D(blurTexture4,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[4])\x20*\x20vec4(bloomTintColors[4],\x201.0)\x20*\x20texture2D(blurTexture5,\x20vUv)\x20);\x09\x09\x09\x09}'});}}),THREE[_0x1cd8('0xad9')][_0x1cd8('0xaf7')]=new THREE[(_0x1cd8('0x1c0'))](0x1,0x0),THREE[_0x1cd8('0xad9')][_0x1cd8('0xaf5')]=new THREE[(_0x1cd8('0x1c0'))](0x0,0x1);},function(_0x32bbcd,_0x39b103,_0x976b79){'use strict';THREE[_0x1cd8('0xa9a')]={'uniforms':{'tDiffuse':{'value':null},'opacity':{'value':0x1}},'vertexShader':[_0x1cd8('0xaf8'),'void\x20main()\x20{',_0x1cd8('0xaf9'),_0x1cd8('0xafa'),'}'][_0x1cd8('0x117')]('\x0a'),'fragmentShader':['uniform\x20float\x20opacity;',_0x1cd8('0xafb'),_0x1cd8('0xaf8'),'void\x20main()\x20{',_0x1cd8('0xafc'),_0x1cd8('0xafd'),'}']['join']('\x0a')};},function(_0x5af5eb,_0x4a094e,_0xb60b86){'use strict';THREE[_0x1cd8('0xae0')]={'shaderID':_0x1cd8('0xafe'),'uniforms':{'tDiffuse':{'value':null},'luminosityThreshold':{'value':0x1},'smoothWidth':{'value':0x1},'defaultColor':{'value':new THREE[(_0x1cd8('0x1c3'))](0x0)},'defaultOpacity':{'value':0x0}},'vertexShader':['varying\x20vec2\x20vUv;',_0x1cd8('0x1ab'),_0x1cd8('0xaf9'),_0x1cd8('0xafa'),'}']['join']('\x0a'),'fragmentShader':[_0x1cd8('0xafb'),'uniform\x20vec3\x20defaultColor;',_0x1cd8('0xaff'),_0x1cd8('0xb00'),_0x1cd8('0xb01'),_0x1cd8('0xaf8'),'void\x20main()\x20{',_0x1cd8('0xafc'),_0x1cd8('0xb02'),_0x1cd8('0xb03'),_0x1cd8('0xb04'),_0x1cd8('0xb05'),_0x1cd8('0xb06'),'}']['join']('\x0a')};},function(_0x51c8b8,_0x138fb4,_0x3ffe69){'use strict';THREE[_0x1cd8('0xb07')]={'uniforms':{'tDiffuse':{'value':null},'resolution':{'value':new THREE[(_0x1cd8('0x1c0'))](0x1/0x400,0x1/0x200)}},'vertexShader':[_0x1cd8('0xaf8'),'void\x20main()\x20{',_0x1cd8('0xaf9'),'gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}'][_0x1cd8('0x117')]('\x0a'),'fragmentShader':[_0x1cd8('0xb08'),'',_0x1cd8('0xafb'),'','uniform\x20vec2\x20resolution;','',_0x1cd8('0xaf8'),'','//\x20FXAA\x203.11\x20implementation\x20by\x20NVIDIA,\x20ported\x20to\x20WebGL\x20by\x20Agost\x20Biro\x20(biro@archilogic.com)','','//----------------------------------------------------------------------------------',_0x1cd8('0xb09'),_0x1cd8('0xb0a'),'//\x20Email:\x20\x20\x20\x20\x20\x20\x20gameworks@nvidia.com',_0x1cd8('0xb0b'),'//',_0x1cd8('0xb0c'),'//',_0x1cd8('0xb0d'),_0x1cd8('0xb0e'),'//\x20are\x20met:',_0x1cd8('0xb0f'),_0x1cd8('0xb10'),_0x1cd8('0xb11'),'//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer\x20in\x20the','//\x20\x20\x20\x20documentation\x20and/or\x20other\x20materials\x20provided\x20with\x20the\x20distribution.',_0x1cd8('0xb12'),_0x1cd8('0xb13'),'//\x20\x20\x20\x20from\x20this\x20software\x20without\x20specific\x20prior\x20written\x20permission.','//',_0x1cd8('0xb14'),_0x1cd8('0xb15'),_0x1cd8('0xb16'),_0x1cd8('0xb17'),_0x1cd8('0xb18'),_0x1cd8('0xb19'),'//\x20PROCUREMENT\x20OF\x20SUBSTITUTE\x20GOODS\x20OR\x20SERVICES;\x20LOSS\x20OF\x20USE,\x20DATA,\x20OR',_0x1cd8('0xb1a'),_0x1cd8('0xb1b'),_0x1cd8('0xb1c'),_0x1cd8('0xb1d'),'//',_0x1cd8('0xb1e'),'','#define\x20FXAA_PC\x201','#define\x20FXAA_GLSL_100\x201','#define\x20FXAA_QUALITY_PRESET\x2012','',_0x1cd8('0xb1f'),'',_0x1cd8('0xb20'),_0x1cd8('0xb21'),_0x1cd8('0xb22'),_0x1cd8('0xb23'),_0x1cd8('0xb24'),_0x1cd8('0xb25'),_0x1cd8('0xb22'),_0x1cd8('0xb26'),_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xb27'),'\x20\x20\x20\x20#define\x20FXAA_GLSL_120\x200','#endif',_0x1cd8('0xb20'),_0x1cd8('0xb28'),_0x1cd8('0xb29'),'#endif',_0x1cd8('0xb20'),'#ifndef\x20FXAA_HLSL_3',_0x1cd8('0xb2a'),'#endif',_0x1cd8('0xb20'),_0x1cd8('0xb2b'),_0x1cd8('0xb2c'),'#endif',_0x1cd8('0xb20'),_0x1cd8('0xb2d'),_0x1cd8('0xb2e'),'#endif',_0x1cd8('0xb2f'),_0x1cd8('0xb30'),_0x1cd8('0xb22'),_0x1cd8('0xb31'),_0x1cd8('0xb32'),_0x1cd8('0xb33'),'\x20\x20\x20\x20//\x20So\x20with\x20this\x20enabled,\x20no\x20need\x20to\x20pack\x20luma\x20in\x20alpha.',_0x1cd8('0xb22'),_0x1cd8('0xb34'),_0x1cd8('0xb35'),_0x1cd8('0xb22'),_0x1cd8('0xb36'),'\x20\x20\x20\x20//\x20\x20\x20\x20fxaaConsoleEdgeThresholdMin',_0x1cd8('0xb37'),_0x1cd8('0xb38'),_0x1cd8('0xb39'),'\x20\x20\x20\x20//',_0x1cd8('0xb3a'),'\x20\x20\x20\x20//\x200\x20=\x20Off.','\x20\x20\x20\x20//',_0x1cd8('0xb3b'),'#endif',_0x1cd8('0xb20'),'#ifndef\x20FXAA_EARLY_EXIT',_0x1cd8('0xb22'),'\x20\x20\x20\x20//\x20Controls\x20algorithm\x27s\x20early\x20exit\x20path.','\x20\x20\x20\x20//\x20On\x20PS3\x20turning\x20this\x20ON\x20adds\x202\x20cycles\x20to\x20the\x20shader.',_0x1cd8('0xb3c'),_0x1cd8('0xb3d'),_0x1cd8('0xb3e'),_0x1cd8('0xb22'),_0x1cd8('0xb3a'),_0x1cd8('0xb3f'),_0x1cd8('0xb22'),_0x1cd8('0xb40'),_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xb41'),_0x1cd8('0xb22'),_0x1cd8('0xb42'),'\x20\x20\x20\x20//\x20Probably\x20will\x20not\x20work\x20when\x20FXAA_GREEN_AS_LUMA\x20=\x201.',_0x1cd8('0xb22'),_0x1cd8('0xb43'),_0x1cd8('0xb44'),_0x1cd8('0xb45'),'\x20\x20\x20\x20//',_0x1cd8('0xb46'),_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xb47'),_0x1cd8('0xb22'),_0x1cd8('0xb48'),_0x1cd8('0xb22'),'\x20\x20\x20\x20//\x201\x20=\x20GL\x20API\x20supports\x20fast\x20pixel\x20offsets',_0x1cd8('0xb49'),_0x1cd8('0xb22'),'\x20\x20\x20\x20#ifdef\x20GL_EXT_gpu_shader4',_0x1cd8('0xb4a'),_0x1cd8('0x16e'),'\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5',_0x1cd8('0xb4a'),'\x20\x20\x20\x20#endif',_0x1cd8('0xb4b'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201',_0x1cd8('0x16e'),_0x1cd8('0xb4c'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x200',_0x1cd8('0x16e'),'#endif',_0x1cd8('0xb20'),'#ifndef\x20FXAA_GATHER4_ALPHA',_0x1cd8('0xb22'),_0x1cd8('0xb4d'),_0x1cd8('0xb4e'),'\x20\x20\x20\x20//',_0x1cd8('0xb4f'),_0x1cd8('0xb50'),'\x20\x20\x20\x20#endif',_0x1cd8('0xb4b'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201',_0x1cd8('0x16e'),_0x1cd8('0xb51'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201','\x20\x20\x20\x20#endif',_0x1cd8('0xb52'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x200',_0x1cd8('0x16e'),_0x1cd8('0x127'),'','',_0x1cd8('0xb53'),_0x1cd8('0xb54'),_0x1cd8('0xb55'),_0x1cd8('0xb56'),_0x1cd8('0xb57'),_0x1cd8('0xb58'),_0x1cd8('0xb22'),_0x1cd8('0xb59'),'\x20\x20\x20\x20//\x20This\x20needs\x20to\x20be\x20compiled\x20into\x20the\x20shader\x20as\x20it\x20effects\x20code.',_0x1cd8('0xb5a'),_0x1cd8('0xb5b'),_0x1cd8('0xb22'),'\x20\x20\x20\x20//\x20OPTIONS',_0x1cd8('0xb5c'),_0x1cd8('0xb5d'),_0x1cd8('0xb5e'),'\x20\x20\x20\x20//\x2039\x20\x20\x20\x20\x20\x20\x20-\x20no\x20dither,\x20very\x20expensive',_0x1cd8('0xb22'),_0x1cd8('0xb5f'),_0x1cd8('0xb5c'),_0x1cd8('0xb60'),_0x1cd8('0xb61'),_0x1cd8('0xb62'),_0x1cd8('0xb63'),_0x1cd8('0xb64'),_0x1cd8('0xb22'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PRESET\x2012','#endif','','','/*============================================================================','',_0x1cd8('0xb65'),'',_0x1cd8('0xb57'),'',_0x1cd8('0xb53'),_0x1cd8('0xb66'),_0x1cd8('0xb57'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2010)',_0x1cd8('0xb67'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x203.0',_0x1cd8('0xb68'),'#endif',_0x1cd8('0xb20'),_0x1cd8('0xb69'),_0x1cd8('0xb6a'),_0x1cd8('0xb6b'),_0x1cd8('0xb6c'),_0x1cd8('0xb6d'),_0x1cd8('0xb6e'),_0x1cd8('0x127'),'/*--------------------------------------------------------------------------*/',_0x1cd8('0xb6f'),_0x1cd8('0xb70'),_0x1cd8('0xb6b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1cd8('0xb71'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x204.0',_0x1cd8('0xb72'),_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xb73'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206',_0x1cd8('0xb6b'),_0x1cd8('0xb6c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x1cd8('0xb74'),_0x1cd8('0xb75'),_0x1cd8('0xb76'),_0x1cd8('0x127'),_0x1cd8('0xb20'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2014)',_0x1cd8('0xb77'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1cd8('0xb6c'),_0x1cd8('0xb71'),_0x1cd8('0xb74'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x2012.0',_0x1cd8('0x127'),_0x1cd8('0xb20'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2015)',_0x1cd8('0xb78'),_0x1cd8('0xb6b'),_0x1cd8('0xb6c'),_0x1cd8('0xb71'),_0x1cd8('0xb74'),_0x1cd8('0xb79'),_0x1cd8('0xb7a'),_0x1cd8('0xb7b'),_0x1cd8('0xb7c'),_0x1cd8('0x127'),'',_0x1cd8('0xb53'),_0x1cd8('0xb7d'),_0x1cd8('0xb57'),_0x1cd8('0xb7e'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203',_0x1cd8('0xb7f'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x202.0',_0x1cd8('0xb80'),_0x1cd8('0x127'),'/*--------------------------------------------------------------------------*/',_0x1cd8('0xb81'),_0x1cd8('0xb6a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1cd8('0xb6c'),_0x1cd8('0xb71'),_0x1cd8('0xb82'),'#endif',_0x1cd8('0xb20'),_0x1cd8('0xb83'),_0x1cd8('0xb70'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1cd8('0xb6c'),_0x1cd8('0xb71'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x1cd8('0xb84'),_0x1cd8('0x127'),_0x1cd8('0xb20'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2023)',_0x1cd8('0xb85'),_0x1cd8('0xb6b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x1cd8('0xb74'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0',_0x1cd8('0xb86'),_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xb87'),_0x1cd8('0xb77'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1cd8('0xb71'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x1cd8('0xb79'),_0x1cd8('0xb88'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x208.0',_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xb89'),_0x1cd8('0xb78'),_0x1cd8('0xb6b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x1cd8('0xb71'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x204.0',_0x1cd8('0xb8a'),_0x1cd8('0x127'),_0x1cd8('0xb20'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2026)',_0x1cd8('0xb8b'),_0x1cd8('0xb6b'),_0x1cd8('0xb6c'),_0x1cd8('0xb71'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0',_0x1cd8('0xb8c'),_0x1cd8('0xb8d'),_0x1cd8('0xb8e'),_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xb8f'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2010',_0x1cd8('0xb6b'),_0x1cd8('0xb6c'),_0x1cd8('0xb71'),_0x1cd8('0xb74'),_0x1cd8('0xb79'),_0x1cd8('0xb7a'),_0x1cd8('0xb8c'),_0x1cd8('0xb90'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x204.0',_0x1cd8('0xb91'),_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xb92'),_0x1cd8('0xb93'),_0x1cd8('0xb6b'),_0x1cd8('0xb6c'),_0x1cd8('0xb71'),_0x1cd8('0xb74'),_0x1cd8('0xb79'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0',_0x1cd8('0xb8c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0',_0x1cd8('0xb94'),_0x1cd8('0xb95'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x208.0',_0x1cd8('0x127'),'/*--------------------------------------------------------------------------*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2029)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2012',_0x1cd8('0xb6b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x1cd8('0xb79'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0',_0x1cd8('0xb8c'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0',_0x1cd8('0xb94'),_0x1cd8('0xb96'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0',_0x1cd8('0xb97'),'#endif','','/*============================================================================',_0x1cd8('0xb98'),'============================================================================*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2039)',_0x1cd8('0xb99'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x1cd8('0xb9a'),_0x1cd8('0xb9b'),_0x1cd8('0xb9c'),_0x1cd8('0xb9d'),_0x1cd8('0xb9e'),_0x1cd8('0xb8c'),_0x1cd8('0xb90'),_0x1cd8('0xb94'),_0x1cd8('0xb96'),_0x1cd8('0xb9f'),_0x1cd8('0xb97'),_0x1cd8('0x127'),'','','',_0x1cd8('0xb53'),'','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20API\x20PORTING','',_0x1cd8('0xb57'),_0x1cd8('0xba0'),_0x1cd8('0xba1'),_0x1cd8('0xba2'),_0x1cd8('0xba3'),_0x1cd8('0xba4'),_0x1cd8('0xba5'),_0x1cd8('0xba6'),_0x1cd8('0xba7'),_0x1cd8('0xba8'),_0x1cd8('0xba9'),'\x20\x20\x20\x20#define\x20FxaaHalf4\x20vec4',_0x1cd8('0xbaa'),'\x20\x20\x20\x20#define\x20FxaaSat(x)\x20clamp(x,\x200.0,\x201.0)',_0x1cd8('0xbab'),_0x1cd8('0xbac'),_0x1cd8('0xba1'),_0x1cd8('0xbad'),_0x1cd8('0xba3'),_0x1cd8('0xbae'),_0x1cd8('0xbaf'),_0x1cd8('0xbb0'),_0x1cd8('0xbb1'),_0x1cd8('0xbb2'),_0x1cd8('0xbb3'),'\x20\x20\x20\x20#define\x20FxaaHalf4\x20half4',_0x1cd8('0xbb4'),'#endif','/*--------------------------------------------------------------------------*/',_0x1cd8('0xbb5'),_0x1cd8('0xbb6'),_0x1cd8('0xbb7'),'#endif',_0x1cd8('0xb20'),_0x1cd8('0xbb8'),_0x1cd8('0xbb9'),_0x1cd8('0xbba'),'\x20\x20\x20\x20//\x20And\x20at\x20least,',_0x1cd8('0xbbb'),'\x20\x20\x20\x20//\x20\x20(or\x20set\x20FXAA_FAST_PIXEL_OFFSET\x201\x20to\x20work\x20like\x20DX9)',_0x1cd8('0xbbc'),_0x1cd8('0xbbd'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20#else',_0x1cd8('0xbbe'),_0x1cd8('0x16e'),'\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable',_0x1cd8('0xbbf'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x203)',_0x1cd8('0xbc0'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)',_0x1cd8('0x16e'),'#endif',_0x1cd8('0xb20'),'#if\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20//\x20Requires\x20\x22#version\x20130\x22\x20or\x20better',_0x1cd8('0xbc1'),_0x1cd8('0xbc2'),_0x1cd8('0xbc3'),_0x1cd8('0xbc4'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x203)',_0x1cd8('0xbc0'),_0x1cd8('0xbc5'),'\x20\x20\x20\x20#endif','#endif','/*--------------------------------------------------------------------------*/','#if\x20(FXAA_HLSL_3\x20==\x201)',_0x1cd8('0xbc6'),_0x1cd8('0xbab'),_0x1cd8('0xbc7'),_0x1cd8('0xbc8'),_0x1cd8('0x127'),_0x1cd8('0xb20'),_0x1cd8('0xbc9'),_0x1cd8('0xbca'),_0x1cd8('0xbcb'),_0x1cd8('0xbcc'),_0x1cd8('0xbcd'),'#endif',_0x1cd8('0xb20'),_0x1cd8('0xbce'),_0x1cd8('0xbca'),_0x1cd8('0xbcb'),'\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)',_0x1cd8('0xbcd'),_0x1cd8('0xbcf'),_0x1cd8('0xbd0'),_0x1cd8('0xbd1'),_0x1cd8('0xbd2'),_0x1cd8('0x127'),'','',_0x1cd8('0xb53'),_0x1cd8('0xbd3'),_0x1cd8('0xb57'),_0x1cd8('0xbd4'),'\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.w;\x20}',_0x1cd8('0xbac'),_0x1cd8('0xbd5'),_0x1cd8('0x127'),'','','','',_0x1cd8('0xb53'),'','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA3\x20QUALITY\x20-\x20PC','',_0x1cd8('0xb57'),_0x1cd8('0xbd6'),'/*--------------------------------------------------------------------------*/',_0x1cd8('0xbd7'),_0x1cd8('0xb22'),_0x1cd8('0xbd8'),'\x20\x20\x20\x20//\x20{xy}\x20=\x20center\x20of\x20pixel',_0x1cd8('0xbd9'),_0x1cd8('0xb22'),_0x1cd8('0xbda'),_0x1cd8('0xbd8'),_0x1cd8('0xbdb'),_0x1cd8('0xbdc'),'\x20\x20\x20\x20FxaaFloat4\x20fxaaConsolePosPos,','\x20\x20\x20\x20//',_0x1cd8('0xbdd'),_0x1cd8('0xbde'),_0x1cd8('0xbdf'),_0x1cd8('0xbe0'),_0x1cd8('0xbe1'),_0x1cd8('0xb22'),_0x1cd8('0xbe2'),'\x20\x20\x20\x20//\x20For\x20everything\x20but\x20360,\x20just\x20use\x20the\x20same\x20input\x20here\x20as\x20for\x20\x22tex\x22.','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x202nd\x20sampler.',_0x1cd8('0xbe3'),'\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegOne,',_0x1cd8('0xb22'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.',_0x1cd8('0xbe4'),_0x1cd8('0xbe5'),_0x1cd8('0xbe6'),_0x1cd8('0xbe7'),_0x1cd8('0xb22'),_0x1cd8('0xbe8'),'\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.',_0x1cd8('0xbe9'),_0x1cd8('0xbea'),_0x1cd8('0xbeb'),'\x20\x20\x20\x20//',_0x1cd8('0xbec'),_0x1cd8('0xbed'),_0x1cd8('0xbee'),'\x20\x20\x20\x20//\x20\x20\x20Where\x20N\x20ranges\x20between,',_0x1cd8('0xbef'),_0x1cd8('0xbf0'),'\x20\x20\x20\x20//\x20{x__}\x20=\x20-N/screenWidthInPixels',_0x1cd8('0xbf1'),_0x1cd8('0xbf2'),_0x1cd8('0xbf3'),'\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt,','\x20\x20\x20\x20//',_0x1cd8('0xbec'),_0x1cd8('0xbf4'),'\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.','\x20\x20\x20\x20//\x20{x__}\x20=\x20-2.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-2.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x202.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x202.0/screenHeightInPixels',_0x1cd8('0xbf5'),_0x1cd8('0xb22'),_0x1cd8('0xbec'),_0x1cd8('0xbf6'),_0x1cd8('0xbed'),_0x1cd8('0xbf7'),_0x1cd8('0xbf8'),'\x20\x20\x20\x20//\x20{_z_}\x20=\x20-4.0/screenWidthInPixels',_0x1cd8('0xbf9'),_0x1cd8('0xbfa'),'\x20\x20\x20\x20//',_0x1cd8('0xbe8'),_0x1cd8('0xbfb'),_0x1cd8('0xbfc'),'\x20\x20\x20\x20//\x20Choose\x20the\x20amount\x20of\x20sub-pixel\x20aliasing\x20removal.',_0x1cd8('0xbfd'),_0x1cd8('0xbfe'),_0x1cd8('0xbff'),_0x1cd8('0xc00'),_0x1cd8('0xc01'),_0x1cd8('0xc02'),_0x1cd8('0xc03'),'\x20\x20\x20\x20//',_0x1cd8('0xbe8'),_0x1cd8('0xc04'),'\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.','\x20\x20\x20\x20//\x20The\x20minimum\x20amount\x20of\x20local\x20contrast\x20required\x20to\x20apply\x20algorithm.',_0x1cd8('0xc05'),_0x1cd8('0xc06'),_0x1cd8('0xc07'),_0x1cd8('0xc08'),_0x1cd8('0xc09'),_0x1cd8('0xc0a'),_0x1cd8('0xb22'),_0x1cd8('0xbe8'),_0x1cd8('0xc0b'),_0x1cd8('0xbfc'),_0x1cd8('0xc0c'),_0x1cd8('0xc0d'),_0x1cd8('0xc0e'),'\x20\x20\x20\x20//\x20\x20\x200.0312\x20-\x20visible\x20limit\x20(slower)',_0x1cd8('0xc0f'),_0x1cd8('0xc10'),_0x1cd8('0xc11'),_0x1cd8('0xc12'),'\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,',_0x1cd8('0xc13'),'\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThresholdMin,',_0x1cd8('0xb22'),_0x1cd8('0xbec'),_0x1cd8('0xc14'),_0x1cd8('0xbfc'),_0x1cd8('0xc15'),'\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_SHARPNESS\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,',_0x1cd8('0xc16'),_0x1cd8('0xc17'),'\x20\x20\x20\x20//\x20For\x20all\x20other\x20platforms\x20can\x20be\x20a\x20non-power\x20of\x20two.',_0x1cd8('0xc18'),'\x20\x20\x20\x20//\x20\x20\x204.0\x20is\x20softer','\x20\x20\x20\x20//\x20\x20\x202.0\x20is\x20really\x20soft\x20(good\x20only\x20for\x20vector\x20graphics\x20inputs)',_0x1cd8('0xc19'),_0x1cd8('0xb22'),_0x1cd8('0xbec'),_0x1cd8('0xc1a'),_0x1cd8('0xbfc'),_0x1cd8('0xc15'),_0x1cd8('0xc1b'),_0x1cd8('0xc1c'),'\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20two\x20safe\x20values\x20here:\x201/4\x20and\x201/8.','\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.','\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.',_0x1cd8('0xc1d'),_0x1cd8('0xc1e'),_0x1cd8('0xc1f'),_0x1cd8('0xc20'),_0x1cd8('0xb22'),_0x1cd8('0xbec'),'\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD_MIN\x20define.',_0x1cd8('0xbfc'),_0x1cd8('0xc0c'),_0x1cd8('0xc21'),_0x1cd8('0xc22'),'\x20\x20\x20\x20//\x20This\x20does\x20not\x20apply\x20to\x20PS3,',_0x1cd8('0xc23'),'\x20\x20\x20\x20//\x20\x20\x200.06\x20-\x20faster\x20but\x20more\x20aliasing\x20in\x20darks',_0x1cd8('0xc24'),_0x1cd8('0xc25'),'\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,',_0x1cd8('0xc10'),_0x1cd8('0xc11'),_0x1cd8('0xc12'),_0x1cd8('0xc26'),_0x1cd8('0xc13'),_0x1cd8('0xc27'),_0x1cd8('0xb22'),_0x1cd8('0xc28'),_0x1cd8('0xc29'),_0x1cd8('0xc2a'),'\x20\x20\x20\x20//\x20Immediates\x20will\x20result\x20in\x20compiler\x20un-optimizing.',_0x1cd8('0xc2b'),_0x1cd8('0xc2c'),_0x1cd8('0xc2d'),'/*--------------------------------------------------------------------------*/',_0x1cd8('0xc2e'),_0x1cd8('0xc2f'),_0x1cd8('0xc30'),'\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)',_0x1cd8('0xc31'),_0x1cd8('0xc32'),_0x1cd8('0xc33'),_0x1cd8('0xc34'),_0x1cd8('0xc35'),_0x1cd8('0xc36'),_0x1cd8('0xc37'),_0x1cd8('0xc38'),_0x1cd8('0xc39'),_0x1cd8('0xc3a'),_0x1cd8('0xc3b'),_0x1cd8('0xc3c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexGreen4(tex,\x20posM);',_0x1cd8('0xc3d'),_0x1cd8('0xc38'),'\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)',_0x1cd8('0xc3e'),_0x1cd8('0xc38'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaE\x20luma4A.z',_0x1cd8('0xc3f'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaSE\x20luma4A.y',_0x1cd8('0xc40'),_0x1cd8('0xc41'),_0x1cd8('0xc42'),_0x1cd8('0x192'),_0x1cd8('0xc43'),_0x1cd8('0xc39'),_0x1cd8('0xc44'),'\x20\x20\x20\x20\x20\x20\x20\x20#else',_0x1cd8('0xc45'),_0x1cd8('0xc38'),_0x1cd8('0xc46'),_0x1cd8('0xc47'),_0x1cd8('0xc48'),_0x1cd8('0xc49'),_0x1cd8('0xc4a'),_0x1cd8('0xc3c'),_0x1cd8('0xc4b'),_0x1cd8('0xc4c'),_0x1cd8('0xc4d'),_0x1cd8('0xc4e'),'\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1cd8('0x16e'),_0x1cd8('0xb20'),_0x1cd8('0xc4f'),_0x1cd8('0xc50'),'\x20\x20\x20\x20FxaaFloat\x20maxESM\x20=\x20max(lumaE,\x20maxSM);',_0x1cd8('0xc51'),_0x1cd8('0xc52'),_0x1cd8('0xc53'),_0x1cd8('0xc54'),_0x1cd8('0xc55'),'\x20\x20\x20\x20FxaaFloat\x20rangeMaxScaled\x20=\x20rangeMax\x20*\x20fxaaQualityEdgeThreshold;','\x20\x20\x20\x20FxaaFloat\x20range\x20=\x20rangeMax\x20-\x20rangeMin;',_0x1cd8('0xc56'),_0x1cd8('0xc57'),_0x1cd8('0xb20'),_0x1cd8('0xc58'),'\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)',_0x1cd8('0xc59'),_0x1cd8('0xc3c'),_0x1cd8('0xc5a'),'\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1cd8('0xb20'),_0x1cd8('0xc5b'),'\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)',_0x1cd8('0xc5c'),_0x1cd8('0xc5d'),_0x1cd8('0xc5e'),_0x1cd8('0xc5f'),_0x1cd8('0xc3c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x201),\x20fxaaQualityRcpFrame.xy));',_0x1cd8('0xc60'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));',_0x1cd8('0xc38'),_0x1cd8('0x192'),_0x1cd8('0xc61'),_0x1cd8('0xc62'),_0x1cd8('0x16e'),_0x1cd8('0xb20'),_0x1cd8('0xc63'),_0x1cd8('0xc64'),_0x1cd8('0xc65'),_0x1cd8('0xc66'),_0x1cd8('0xc67'),_0x1cd8('0xc68'),'/*--------------------------------------------------------------------------*/',_0x1cd8('0xc69'),'\x20\x20\x20\x20FxaaFloat\x20lumaNWNE\x20=\x20lumaNW\x20+\x20lumaNE;',_0x1cd8('0xc6a'),_0x1cd8('0xc6b'),_0x1cd8('0xb20'),'\x20\x20\x20\x20FxaaFloat\x20lumaNWSW\x20=\x20lumaNW\x20+\x20lumaSW;',_0x1cd8('0xc6c'),'\x20\x20\x20\x20FxaaFloat\x20edgeHorz4\x20=\x20(abs(edgeHorz1)\x20*\x202.0)\x20+\x20abs(edgeHorz2);',_0x1cd8('0xc6d'),_0x1cd8('0xc6e'),_0x1cd8('0xc6f'),'\x20\x20\x20\x20FxaaFloat\x20edgeHorz\x20=\x20abs(edgeHorz3)\x20+\x20edgeHorz4;',_0x1cd8('0xc70'),_0x1cd8('0xb20'),_0x1cd8('0xc71'),'\x20\x20\x20\x20FxaaFloat\x20lengthSign\x20=\x20fxaaQualityRcpFrame.x;',_0x1cd8('0xc72'),_0x1cd8('0xc73'),'/*--------------------------------------------------------------------------*/',_0x1cd8('0xc74'),'\x20\x20\x20\x20if(!horzSpan)\x20lumaS\x20=\x20lumaE;',_0x1cd8('0xc75'),'\x20\x20\x20\x20FxaaFloat\x20subpixB\x20=\x20(subpixA\x20*\x20(1.0/12.0))\x20-\x20lumaM;',_0x1cd8('0xb20'),_0x1cd8('0xc76'),'\x20\x20\x20\x20FxaaFloat\x20gradientS\x20=\x20lumaS\x20-\x20lumaM;',_0x1cd8('0xc77'),_0x1cd8('0xc78'),_0x1cd8('0xc79'),'\x20\x20\x20\x20FxaaFloat\x20gradient\x20=\x20max(abs(gradientN),\x20abs(gradientS));',_0x1cd8('0xc7a'),_0x1cd8('0xc7b'),_0x1cd8('0xb20'),_0x1cd8('0xc7c'),_0x1cd8('0xc7d'),'\x20\x20\x20\x20posB.y\x20=\x20posM.y;','\x20\x20\x20\x20FxaaFloat2\x20offNP;',_0x1cd8('0xc7e'),_0x1cd8('0xc7f'),_0x1cd8('0xc80'),'\x20\x20\x20\x20if(\x20horzSpan)\x20posB.y\x20+=\x20lengthSign\x20*\x200.5;',_0x1cd8('0xb20'),'\x20\x20\x20\x20FxaaFloat2\x20posN;',_0x1cd8('0xc81'),_0x1cd8('0xc82'),_0x1cd8('0xc83'),_0x1cd8('0xc84'),_0x1cd8('0xc85'),_0x1cd8('0xc86'),_0x1cd8('0xc87'),_0x1cd8('0xc88'),_0x1cd8('0xc89'),_0x1cd8('0xb20'),'\x20\x20\x20\x20if(!pairN)\x20lumaNN\x20=\x20lumaSS;',_0x1cd8('0xc8a'),_0x1cd8('0xc8b'),_0x1cd8('0xc8c'),_0x1cd8('0xc8d'),_0x1cd8('0xb20'),_0x1cd8('0xc8e'),'\x20\x20\x20\x20lumaEndP\x20-=\x20lumaNN\x20*\x200.5;',_0x1cd8('0xc8f'),_0x1cd8('0xc90'),_0x1cd8('0xc91'),_0x1cd8('0xc92'),'\x20\x20\x20\x20FxaaBool\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x1cd8('0xc93'),'\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;',_0x1cd8('0xb20'),_0x1cd8('0xc94'),_0x1cd8('0xc95'),_0x1cd8('0xc96'),_0x1cd8('0xc97'),_0x1cd8('0xc98'),_0x1cd8('0xc99'),_0x1cd8('0xc9a'),_0x1cd8('0xc9b'),_0x1cd8('0xc9c'),_0x1cd8('0xc9d'),_0x1cd8('0xc9e'),_0x1cd8('0xc9f'),_0x1cd8('0xb20'),_0x1cd8('0xca0'),_0x1cd8('0xca1'),_0x1cd8('0xca2'),_0x1cd8('0xca3'),_0x1cd8('0xca4'),_0x1cd8('0xca5'),_0x1cd8('0xca6'),_0x1cd8('0xca7'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;',_0x1cd8('0xca8'),_0x1cd8('0xca9'),_0x1cd8('0xcaa'),_0x1cd8('0xb20'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x204)',_0x1cd8('0xcab'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x1cd8('0xcac'),_0x1cd8('0xcad'),_0x1cd8('0xcae'),_0x1cd8('0xcaf'),_0x1cd8('0xcb0'),_0x1cd8('0xcb1'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;',_0x1cd8('0xcb2'),_0x1cd8('0xcb3'),_0x1cd8('0xcb4'),_0x1cd8('0xb20'),_0x1cd8('0xcb5'),_0x1cd8('0xcb6'),_0x1cd8('0xcb7'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1cd8('0xcb8'),_0x1cd8('0xcb9'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x1cd8('0xcba'),_0x1cd8('0xcbb'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;',_0x1cd8('0xcbc'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;',_0x1cd8('0xcbd'),'/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x206)',_0x1cd8('0xcbe'),_0x1cd8('0xcbf'),_0x1cd8('0xcc0'),_0x1cd8('0xcc1'),_0x1cd8('0xcc2'),_0x1cd8('0xcc3'),_0x1cd8('0xcc4'),_0x1cd8('0xcc5'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;',_0x1cd8('0xcc6'),_0x1cd8('0xcc7'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;',_0x1cd8('0xb20'),_0x1cd8('0xcc8'),_0x1cd8('0xcc9'),_0x1cd8('0xcca'),_0x1cd8('0xccb'),_0x1cd8('0xccc'),_0x1cd8('0xccd'),_0x1cd8('0xcce'),_0x1cd8('0xccf'),_0x1cd8('0xcd0'),_0x1cd8('0xcd1'),_0x1cd8('0xcd2'),_0x1cd8('0xcd3'),_0x1cd8('0xcd4'),_0x1cd8('0xb20'),_0x1cd8('0xcd5'),_0x1cd8('0xc94'),_0x1cd8('0xc95'),_0x1cd8('0xc96'),_0x1cd8('0xc97'),_0x1cd8('0xc98'),_0x1cd8('0xc99'),_0x1cd8('0xc9a'),_0x1cd8('0xcd6'),_0x1cd8('0xcd7'),'\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x1cd8('0xcd8'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;',_0x1cd8('0xb20'),_0x1cd8('0xcd9'),_0x1cd8('0xca1'),_0x1cd8('0xca2'),_0x1cd8('0xca3'),_0x1cd8('0xca4'),_0x1cd8('0xca5'),_0x1cd8('0xca6'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;',_0x1cd8('0xcda'),_0x1cd8('0xca8'),_0x1cd8('0xcdb'),_0x1cd8('0xcdc'),_0x1cd8('0xb20'),_0x1cd8('0xcdd'),_0x1cd8('0xcab'),_0x1cd8('0xcde'),_0x1cd8('0xcac'),_0x1cd8('0xcad'),_0x1cd8('0xcae'),_0x1cd8('0xcaf'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x1cd8('0xcdf'),_0x1cd8('0xce0'),_0x1cd8('0xcb2'),_0x1cd8('0xce1'),_0x1cd8('0xce2'),_0x1cd8('0xb20'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2011)',_0x1cd8('0xcb6'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x1cd8('0xcba'),_0x1cd8('0xce3'),_0x1cd8('0xce4'),_0x1cd8('0xcbc'),_0x1cd8('0xce5'),_0x1cd8('0xce6'),_0x1cd8('0xb20'),_0x1cd8('0xce7'),_0x1cd8('0xcbe'),_0x1cd8('0xcbf'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x1cd8('0xcc1'),_0x1cd8('0xcc2'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x1cd8('0xcc4'),_0x1cd8('0xce8'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;',_0x1cd8('0xcc6'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;',_0x1cd8('0xce9'),'/*--------------------------------------------------------------------------*/',_0x1cd8('0xcea'),_0x1cd8('0xceb'),_0x1cd8('0xb20'),_0x1cd8('0xcec'),_0x1cd8('0xced'),'/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}',_0x1cd8('0xc37'),_0x1cd8('0xb20'),'\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1cd8('0xb20'),'\x20\x20\x20\x20}',_0x1cd8('0x16e'),'/*--------------------------------------------------------------------------*/',_0x1cd8('0xcee'),_0x1cd8('0xcef'),_0x1cd8('0xb20'),_0x1cd8('0xcea'),_0x1cd8('0xceb'),_0x1cd8('0xb20'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}',_0x1cd8('0xced'),_0x1cd8('0xb20'),_0x1cd8('0xcf0'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','/*--------------------------------------------------------------------------*/',_0x1cd8('0xcf1'),'\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x1cd8('0xb20'),_0x1cd8('0x147'),_0x1cd8('0xb20'),_0x1cd8('0xcf2'),'\x20\x20\x20\x20FxaaFloat\x20dstP\x20=\x20posP.x\x20-\x20posM.x;',_0x1cd8('0xcf3'),_0x1cd8('0xcf4'),_0x1cd8('0xb20'),_0x1cd8('0xcf5'),_0x1cd8('0xcf6'),'\x20\x20\x20\x20FxaaBool\x20goodSpanP\x20=\x20(lumaEndP\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLengthRcp\x20=\x201.0/spanLength;',_0x1cd8('0xb20'),_0x1cd8('0xcf7'),'\x20\x20\x20\x20FxaaFloat\x20dst\x20=\x20min(dstN,\x20dstP);',_0x1cd8('0xcf8'),_0x1cd8('0xcf9'),'\x20\x20\x20\x20FxaaFloat\x20pixelOffset\x20=\x20(dst\x20*\x20(-spanLengthRcp))\x20+\x200.5;',_0x1cd8('0xcfa'),_0x1cd8('0xb20'),_0x1cd8('0xcfb'),_0x1cd8('0xcfc'),'\x20\x20\x20\x20if(!horzSpan)\x20posM.x\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;',_0x1cd8('0xcfd'),_0x1cd8('0xcfe'),_0x1cd8('0xcff'),_0x1cd8('0x192'),'\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaFloat4(FxaaTexTop(tex,\x20posM).xyz,\x20lumaM);',_0x1cd8('0x16e'),'}',_0x1cd8('0xb2f'),_0x1cd8('0x127'),'',_0x1cd8('0x1ab'),_0x1cd8('0xd00'),_0x1cd8('0xd01'),_0x1cd8('0xd02'),_0x1cd8('0xd03'),_0x1cd8('0xd03'),'\x20\x20\x20\x20tDiffuse,','\x20\x20\x20\x20resolution,',_0x1cd8('0xd02'),_0x1cd8('0xd02'),_0x1cd8('0xd02'),_0x1cd8('0xd04'),_0x1cd8('0xd05'),'\x20\x20\x20\x200.0833,',_0x1cd8('0xd06'),_0x1cd8('0xd06'),'\x20\x20\x20\x200.0,','\x20\x20\x20\x20vec4(0.0)',_0x1cd8('0xd07'),'','\x20\x20//\x20TODO\x20avoid\x20querying\x20texture\x20twice\x20for\x20same\x20texel',_0x1cd8('0xd08'),'}'][_0x1cd8('0x117')]('\x0a')};},function(_0x37eb2b,_0x2c787a,_0x2f49c8){'use strict';var _0x11cecf=_0x382824(_0x2f49c8(0x1d)),_0x2f49c8=_0x382824(_0x2f49c8(0xf));function _0x382824(_0x37eb2b){return _0x37eb2b&&_0x37eb2b['__esModule']?_0x37eb2b:{'default':_0x37eb2b};}THREE[_0x1cd8('0xa9c')]=function(_0x37eb2b,_0x2c787a,_0x2f49c8,_0x11cecf){this[_0x1cd8('0xd09')]=_0x2c787a,this[_0x1cd8('0xd0a')]=_0x2f49c8,this['selectedObjects']=void 0x0!==_0x11cecf?_0x11cecf:[],this[_0x1cd8('0xa79')]=new THREE[(_0x1cd8('0x1c3'))](0x1,0x1,0x1),this[_0x1cd8('0xa7a')]=new THREE['Color'](0.1,0.04,0.02),this['edgeGlow']=0x0,this[_0x1cd8('0xa82')]=!0x1,this['edgeThickness']=0x1,this[_0x1cd8('0xa7c')]=0x3,this[_0x1cd8('0xd0b')]=0x2,this[_0x1cd8('0xa84')]=0x0,THREE[_0x1cd8('0xacc')][_0x1cd8('0x1')](this),this[_0x1cd8('0x2f8')]=void 0x0!==_0x37eb2b?new THREE['Vector2'](_0x37eb2b['x'],_0x37eb2b['y']):new THREE[(_0x1cd8('0x1c0'))](0x100,0x100);var _0x382824,_0x2c787a={'minFilter':THREE['LinearFilter'],'magFilter':THREE[_0x1cd8('0x3f1')],'format':THREE[_0x1cd8('0xab2')]},_0x2f49c8=Math['round'](this[_0x1cd8('0x2f8')]['x']/this[_0x1cd8('0xd0b')]),_0x11cecf=Math[_0x1cd8('0x1ca')](this[_0x1cd8('0x2f8')]['y']/this[_0x1cd8('0xd0b')]),_0x37eb2b=(this['maskBufferMaterial']=new THREE['MeshBasicMaterial']({'color':0xffffff}),this[_0x1cd8('0xd0c')][_0x1cd8('0x35f')]=THREE['DoubleSide'],this[_0x1cd8('0xd0d')]=new THREE[(_0x1cd8('0x6e1'))](this['resolution']['x'],this[_0x1cd8('0x2f8')]['y'],_0x2c787a),this['renderTargetMaskBuffer']['texture'][_0x1cd8('0x7f')]=_0x1cd8('0xd0e'),this[_0x1cd8('0xd0d')]['texture'][_0x1cd8('0x6ac')]=!0x1,this['depthMaterial']=new THREE['MeshDepthMaterial'](),this[_0x1cd8('0x755')][_0x1cd8('0x35f')]=THREE[_0x1cd8('0x2fe')],this[_0x1cd8('0x755')]['depthPacking']=THREE['RGBADepthPacking'],this[_0x1cd8('0x755')][_0x1cd8('0x1df')]=THREE[_0x1cd8('0x6e6')],this[_0x1cd8('0xd0f')]=this[_0x1cd8('0xd10')](),this[_0x1cd8('0xd0f')][_0x1cd8('0x35f')]=THREE[_0x1cd8('0x2fe')],this[_0x1cd8('0xd0f')]['fragmentShader']=(_0x37eb2b=this[_0x1cd8('0xd0f')][_0x1cd8('0x56')],_0x382824=this[_0x1cd8('0xd0a')][_0x1cd8('0xd11')]?_0x1cd8('0xa96'):_0x1cd8('0xd12'),_0x37eb2b[_0x1cd8('0x23d')](/DEPTH_TO_VIEW_Z/g,_0x382824+'DepthToViewZ')),this['renderTargetDepthBuffer']=new THREE['WebGLRenderTarget'](this[_0x1cd8('0x2f8')]['x'],this['resolution']['y'],_0x2c787a),this['renderTargetDepthBuffer'][_0x1cd8('0x9f')][_0x1cd8('0x7f')]='OutlinePass.depth',this['renderTargetDepthBuffer'][_0x1cd8('0x9f')][_0x1cd8('0x6ac')]=!0x1,this[_0x1cd8('0xd13')]=new THREE['WebGLRenderTarget'](_0x2f49c8,_0x11cecf,_0x2c787a),this[_0x1cd8('0xd13')][_0x1cd8('0x9f')][_0x1cd8('0x7f')]='OutlinePass.depthDownSample',this['renderTargetMaskDownSampleBuffer'][_0x1cd8('0x9f')][_0x1cd8('0x6ac')]=!0x1,this[_0x1cd8('0xd14')]=new THREE['WebGLRenderTarget'](_0x2f49c8,_0x11cecf,_0x2c787a),this[_0x1cd8('0xd14')]['texture'][_0x1cd8('0x7f')]=_0x1cd8('0xd15'),this['renderTargetBlurBuffer1'][_0x1cd8('0x9f')][_0x1cd8('0x6ac')]=!0x1,this[_0x1cd8('0xd16')]=new THREE[(_0x1cd8('0x6e1'))](Math[_0x1cd8('0x1ca')](_0x2f49c8/0x2),Math[_0x1cd8('0x1ca')](_0x11cecf/0x2),_0x2c787a),this[_0x1cd8('0xd16')][_0x1cd8('0x9f')][_0x1cd8('0x7f')]=_0x1cd8('0xd17'),this['renderTargetBlurBuffer2'][_0x1cd8('0x9f')][_0x1cd8('0x6ac')]=!0x1,this['edgeDetectionMaterial']=this[_0x1cd8('0xd18')](),this[_0x1cd8('0xd19')]=new THREE[(_0x1cd8('0x6e1'))](_0x2f49c8,_0x11cecf,_0x2c787a),this[_0x1cd8('0xd19')][_0x1cd8('0x9f')][_0x1cd8('0x7f')]='OutlinePass.edge1',this[_0x1cd8('0xd19')][_0x1cd8('0x9f')][_0x1cd8('0x6ac')]=!0x1,this[_0x1cd8('0xd1a')]=new THREE[(_0x1cd8('0x6e1'))](Math[_0x1cd8('0x1ca')](_0x2f49c8/0x2),Math[_0x1cd8('0x1ca')](_0x11cecf/0x2),_0x2c787a),this[_0x1cd8('0xd1a')][_0x1cd8('0x9f')][_0x1cd8('0x7f')]=_0x1cd8('0xd1b'),this['renderTargetEdgeBuffer2'][_0x1cd8('0x9f')]['generateMipmaps']=!0x1,this[_0x1cd8('0xd1c')]=this[_0x1cd8('0xae6')](0x4),this[_0x1cd8('0xd1c')][_0x1cd8('0x176')][_0x1cd8('0xd1d')][_0x1cd8('0xf')]=new THREE['Vector2'](_0x2f49c8,_0x11cecf),this['separableBlurMaterial1']['uniforms'][_0x1cd8('0xd1e')][_0x1cd8('0xf')]=0x1,this[_0x1cd8('0xd1f')]=this[_0x1cd8('0xae6')](0x4),this['separableBlurMaterial2'][_0x1cd8('0x176')]['texSize']['value']=new THREE['Vector2'](Math[_0x1cd8('0x1ca')](_0x2f49c8/0x2),Math[_0x1cd8('0x1ca')](_0x11cecf/0x2)),this['separableBlurMaterial2'][_0x1cd8('0x176')][_0x1cd8('0xd1e')]['value']=0x4,this[_0x1cd8('0xd20')]=this[_0x1cd8('0xd21')](),void 0x0===THREE[_0x1cd8('0xa9a')]&&console[_0x1cd8('0x1fe')](_0x1cd8('0xd22')),THREE[_0x1cd8('0xa9a')]);this[_0x1cd8('0xaee')]=THREE[_0x1cd8('0x4a1')]['clone'](_0x37eb2b[_0x1cd8('0x176')]),this[_0x1cd8('0xaee')][_0x1cd8('0x20a')]['value']=0x1,this['materialCopy']=new THREE[(_0x1cd8('0x1f0'))]({'uniforms':this[_0x1cd8('0xaee')],'vertexShader':_0x37eb2b[_0x1cd8('0x3d4')],'fragmentShader':_0x37eb2b['fragmentShader'],'blending':THREE[_0x1cd8('0x6e6')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this[_0x1cd8('0x41d')]=!0x0,this[_0x1cd8('0xaa8')]=!0x1,this[_0x1cd8('0xaf1')]=new THREE[(_0x1cd8('0x1c3'))](),this['oldClearAlpha']=0x1,this[_0x1cd8('0xad8')]=new THREE[(_0x1cd8('0xacc'))][(_0x1cd8('0xacd'))](null),this[_0x1cd8('0xd23')]=new THREE[(_0x1cd8('0x1c3'))](),this[_0x1cd8('0xd24')]=new THREE[(_0x1cd8('0x1c3'))](),this[_0x1cd8('0x6ae')]=new THREE[(_0x1cd8('0x317'))]();},THREE[_0x1cd8('0xa9c')][_0x1cd8('0x11')]=(0x0,_0x2f49c8[_0x1cd8('0xa')])((0x0,_0x11cecf[_0x1cd8('0xa')])(THREE[_0x1cd8('0xacc')][_0x1cd8('0x11')]),{'constructor':THREE[_0x1cd8('0xa9c')],'dispose':function(){this[_0x1cd8('0xd0d')][_0x1cd8('0xde')](),this['renderTargetDepthBuffer'][_0x1cd8('0xde')](),this[_0x1cd8('0xd13')]['dispose'](),this['renderTargetBlurBuffer1']['dispose'](),this[_0x1cd8('0xd16')][_0x1cd8('0xde')](),this[_0x1cd8('0xd19')][_0x1cd8('0xde')](),this['renderTargetEdgeBuffer2'][_0x1cd8('0xde')]();},'setSize':function(_0x37eb2b,_0x2c787a){this[_0x1cd8('0xd0d')][_0x1cd8('0xee')](_0x37eb2b,_0x2c787a);_0x37eb2b=Math[_0x1cd8('0x1ca')](_0x37eb2b/this['downSampleRatio']),_0x2c787a=Math[_0x1cd8('0x1ca')](_0x2c787a/this[_0x1cd8('0xd0b')]);this[_0x1cd8('0xd13')]['setSize'](_0x37eb2b,_0x2c787a),this['renderTargetBlurBuffer1'][_0x1cd8('0xee')](_0x37eb2b,_0x2c787a),this[_0x1cd8('0xd19')][_0x1cd8('0xee')](_0x37eb2b,_0x2c787a),this[_0x1cd8('0xd1c')]['uniforms']['texSize']['value']=new THREE[(_0x1cd8('0x1c0'))](_0x37eb2b,_0x2c787a),_0x37eb2b=Math['round'](_0x37eb2b/0x2),_0x2c787a=Math['round'](_0x2c787a/0x2),this[_0x1cd8('0xd16')][_0x1cd8('0xee')](_0x37eb2b,_0x2c787a),this[_0x1cd8('0xd1a')][_0x1cd8('0xee')](_0x37eb2b,_0x2c787a),this['separableBlurMaterial2'][_0x1cd8('0x176')][_0x1cd8('0xd1d')]['value']=new THREE[(_0x1cd8('0x1c0'))](_0x37eb2b,_0x2c787a);},'changeVisibilityOfSelectedObjects':function(_0x2c787a){function _0x37eb2b(_0x37eb2b){_0x37eb2b[_0x1cd8('0xd25')]&&(_0x2c787a?(_0x37eb2b['visible']=_0x37eb2b[_0x1cd8('0x45')][_0x1cd8('0xd26')],delete _0x37eb2b['userData']['oldVisible']):(_0x37eb2b[_0x1cd8('0x45')][_0x1cd8('0xd26')]=_0x37eb2b[_0x1cd8('0x327')],_0x37eb2b[_0x1cd8('0x327')]=_0x2c787a));}for(var _0x2f49c8=0x0;_0x2f49c8<this[_0x1cd8('0xa78')][_0x1cd8('0xc')];_0x2f49c8++)this['selectedObjects'][_0x2f49c8][_0x1cd8('0x7c7')](_0x37eb2b);},'changeVisibilityOfNonSelectedObjects':function(_0x382824){var _0x52d754=[];function _0x37eb2b(_0x37eb2b){_0x37eb2b[_0x1cd8('0xd25')]&&_0x52d754[_0x1cd8('0x70')](_0x37eb2b);}for(var _0x2c787a=0x0;_0x2c787a<this[_0x1cd8('0xa78')]['length'];_0x2c787a++)this[_0x1cd8('0xa78')][_0x2c787a][_0x1cd8('0x7c7')](_0x37eb2b);this['renderScene'][_0x1cd8('0x7c7')](function(_0x37eb2b){if(_0x37eb2b[_0x1cd8('0xd25')]||_0x37eb2b[_0x1cd8('0xd27')]||_0x37eb2b[_0x1cd8('0xd28')]){for(var _0x2c787a,_0x2f49c8=!0x1,_0x11cecf=0x0;_0x11cecf<_0x52d754[_0x1cd8('0xc')];_0x11cecf++)if(_0x52d754[_0x11cecf]['id']===_0x37eb2b['id']){_0x2f49c8=!0x0;break;}_0x2f49c8||(_0x2c787a=_0x37eb2b[_0x1cd8('0x327')],_0x382824&&!_0x37eb2b[_0x1cd8('0xd29')]||(_0x37eb2b[_0x1cd8('0x327')]=_0x382824),_0x37eb2b[_0x1cd8('0xd29')]=_0x2c787a);}});},'updateTextureMatrix':function(){this[_0x1cd8('0x6ae')][_0x1cd8('0x1b')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),this[_0x1cd8('0x6ae')][_0x1cd8('0x6b7')](this['renderCamera'][_0x1cd8('0x6b6')]),this[_0x1cd8('0x6ae')]['multiply'](this[_0x1cd8('0xd0a')][_0x1cd8('0x6b8')]);},'render':function(_0x37eb2b,_0x2c787a,_0x2f49c8,_0x11cecf,_0x382824){var _0x33b422,_0x276304;0x0<this[_0x1cd8('0xa78')][_0x1cd8('0xc')]&&(this['oldClearColor'][_0x1cd8('0x1c6')](_0x37eb2b[_0x1cd8('0xaf2')]()),this[_0x1cd8('0xaf0')]=_0x37eb2b[_0x1cd8('0xd2a')](),_0x33b422=_0x37eb2b[_0x1cd8('0xad0')],_0x37eb2b[_0x1cd8('0xad0')]=!0x1,_0x382824&&_0x37eb2b[_0x1cd8('0xac4')][_0x1cd8('0x262')](_0x37eb2b[_0x1cd8('0xac4')][_0x1cd8('0xaf3')]),_0x37eb2b[_0x1cd8('0xad6')](0xffffff,0x1),this[_0x1cd8('0xd2b')](!0x1),_0x276304=this[_0x1cd8('0xd09')]['background'],this[_0x1cd8('0xd09')][_0x1cd8('0x496')]=null,this[_0x1cd8('0xd09')][_0x1cd8('0xacf')]=this[_0x1cd8('0x755')],_0x37eb2b[_0x1cd8('0x6be')](this[_0x1cd8('0xd2c')]),_0x37eb2b[_0x1cd8('0x2df')](),_0x37eb2b[_0x1cd8('0x325')](this['renderScene'],this[_0x1cd8('0xd0a')]),this[_0x1cd8('0xd2b')](!0x0),this[_0x1cd8('0xd2d')](),this[_0x1cd8('0xd2e')](!0x1),this['renderScene']['overrideMaterial']=this[_0x1cd8('0xd0f')],this[_0x1cd8('0xd0f')]['uniforms'][_0x1cd8('0xd2f')][_0x1cd8('0xf')]=new THREE[(_0x1cd8('0x1c0'))](this['renderCamera']['near'],this[_0x1cd8('0xd0a')][_0x1cd8('0x2fd')]),this[_0x1cd8('0xd0f')][_0x1cd8('0x176')][_0x1cd8('0xd30')][_0x1cd8('0xf')]=this[_0x1cd8('0xd2c')][_0x1cd8('0x9f')],this[_0x1cd8('0xd0f')][_0x1cd8('0x176')][_0x1cd8('0x6ae')][_0x1cd8('0xf')]=this['textureMatrix'],_0x37eb2b[_0x1cd8('0x6be')](this[_0x1cd8('0xd0d')]),_0x37eb2b[_0x1cd8('0x2df')](),_0x37eb2b[_0x1cd8('0x325')](this[_0x1cd8('0xd09')],this['renderCamera']),this[_0x1cd8('0xd09')][_0x1cd8('0xacf')]=null,this[_0x1cd8('0xd2e')](!0x0),this[_0x1cd8('0xd09')][_0x1cd8('0x496')]=_0x276304,this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0xaef')],this['copyUniforms'][_0x1cd8('0x6ad')]['value']=this[_0x1cd8('0xd0d')]['texture'],_0x37eb2b[_0x1cd8('0x6be')](this[_0x1cd8('0xd13')]),_0x37eb2b[_0x1cd8('0x2df')](),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x37eb2b),this[_0x1cd8('0xd23')][_0x1cd8('0x1c6')](this[_0x1cd8('0xa79')]),this[_0x1cd8('0xd24')][_0x1cd8('0x1c6')](this[_0x1cd8('0xa7a')]),0x0<this['pulsePeriod']&&(_0x276304=0.625+0.75*Math[_0x1cd8('0x59')](0.01*performance[_0x1cd8('0x298')]()/this[_0x1cd8('0xa84')])/0x2,this['tempPulseColor1'][_0x1cd8('0x1cc')](_0x276304),this['tempPulseColor2'][_0x1cd8('0x1cc')](_0x276304)),this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this['edgeDetectionMaterial'],this['edgeDetectionMaterial'][_0x1cd8('0x176')]['maskTexture'][_0x1cd8('0xf')]=this['renderTargetMaskDownSampleBuffer'][_0x1cd8('0x9f')],this[_0x1cd8('0xd31')][_0x1cd8('0x176')]['texSize'][_0x1cd8('0xf')]=new THREE['Vector2'](this[_0x1cd8('0xd13')][_0x1cd8('0x320')],this[_0x1cd8('0xd13')]['height']),this[_0x1cd8('0xd31')]['uniforms'][_0x1cd8('0xa79')][_0x1cd8('0xf')]=this[_0x1cd8('0xd23')],this['edgeDetectionMaterial'][_0x1cd8('0x176')][_0x1cd8('0xa7a')][_0x1cd8('0xf')]=this[_0x1cd8('0xd24')],_0x37eb2b[_0x1cd8('0x6be')](this[_0x1cd8('0xd19')]),_0x37eb2b[_0x1cd8('0x2df')](),this[_0x1cd8('0xad8')]['render'](_0x37eb2b),this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0xd1c')],this[_0x1cd8('0xd1c')][_0x1cd8('0x176')][_0x1cd8('0xaf4')][_0x1cd8('0xf')]=this[_0x1cd8('0xd19')][_0x1cd8('0x9f')],this[_0x1cd8('0xd1c')][_0x1cd8('0x176')][_0x1cd8('0x230')][_0x1cd8('0xf')]=THREE['OutlinePass']['BlurDirectionX'],this['separableBlurMaterial1'][_0x1cd8('0x176')][_0x1cd8('0xd1e')][_0x1cd8('0xf')]=this[_0x1cd8('0xa7f')],_0x37eb2b[_0x1cd8('0x6be')](this['renderTargetBlurBuffer1']),_0x37eb2b[_0x1cd8('0x2df')](),this[_0x1cd8('0xad8')]['render'](_0x37eb2b),this['separableBlurMaterial1'][_0x1cd8('0x176')][_0x1cd8('0xaf4')][_0x1cd8('0xf')]=this[_0x1cd8('0xd14')][_0x1cd8('0x9f')],this['separableBlurMaterial1']['uniforms'][_0x1cd8('0x230')][_0x1cd8('0xf')]=THREE[_0x1cd8('0xa9c')]['BlurDirectionY'],_0x37eb2b['setRenderTarget'](this[_0x1cd8('0xd19')]),_0x37eb2b[_0x1cd8('0x2df')](),this[_0x1cd8('0xad8')]['render'](_0x37eb2b),this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0xd1f')],this['separableBlurMaterial2']['uniforms'][_0x1cd8('0xaf4')][_0x1cd8('0xf')]=this[_0x1cd8('0xd19')][_0x1cd8('0x9f')],this[_0x1cd8('0xd1f')][_0x1cd8('0x176')][_0x1cd8('0x230')][_0x1cd8('0xf')]=THREE[_0x1cd8('0xa9c')][_0x1cd8('0xaf7')],_0x37eb2b['setRenderTarget'](this[_0x1cd8('0xd16')]),_0x37eb2b[_0x1cd8('0x2df')](),this['fsQuad'][_0x1cd8('0x325')](_0x37eb2b),this[_0x1cd8('0xd1f')][_0x1cd8('0x176')][_0x1cd8('0xaf4')][_0x1cd8('0xf')]=this[_0x1cd8('0xd16')][_0x1cd8('0x9f')],this[_0x1cd8('0xd1f')][_0x1cd8('0x176')][_0x1cd8('0x230')][_0x1cd8('0xf')]=THREE[_0x1cd8('0xa9c')][_0x1cd8('0xaf5')],_0x37eb2b[_0x1cd8('0x6be')](this[_0x1cd8('0xd1a')]),_0x37eb2b[_0x1cd8('0x2df')](),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x37eb2b),this[_0x1cd8('0xad8')]['material']=this[_0x1cd8('0xd20')],this[_0x1cd8('0xd20')]['uniforms'][_0x1cd8('0xa80')][_0x1cd8('0xf')]=this[_0x1cd8('0xd0d')]['texture'],this[_0x1cd8('0xd20')]['uniforms'][_0x1cd8('0xd32')][_0x1cd8('0xf')]=this[_0x1cd8('0xd19')][_0x1cd8('0x9f')],this[_0x1cd8('0xd20')][_0x1cd8('0x176')][_0x1cd8('0xd33')][_0x1cd8('0xf')]=this[_0x1cd8('0xd1a')][_0x1cd8('0x9f')],this[_0x1cd8('0xd20')]['uniforms']['patternTexture'][_0x1cd8('0xf')]=this[_0x1cd8('0xa81')],this[_0x1cd8('0xd20')]['uniforms']['edgeStrength'][_0x1cd8('0xf')]=this[_0x1cd8('0xa7c')],this[_0x1cd8('0xd20')][_0x1cd8('0x176')]['edgeGlow']['value']=this[_0x1cd8('0xa7e')],this[_0x1cd8('0xd20')][_0x1cd8('0x176')][_0x1cd8('0xa82')][_0x1cd8('0xf')]=this[_0x1cd8('0xa82')],_0x382824&&_0x37eb2b['context'][_0x1cd8('0x216')](_0x37eb2b[_0x1cd8('0xac4')]['STENCIL_TEST']),_0x37eb2b['setRenderTarget'](_0x2f49c8),this['fsQuad']['render'](_0x37eb2b),_0x37eb2b[_0x1cd8('0xad6')](this[_0x1cd8('0xaf1')],this[_0x1cd8('0xaf0')]),_0x37eb2b[_0x1cd8('0xad0')]=_0x33b422),this[_0x1cd8('0xa9b')]&&(this[_0x1cd8('0xad8')][_0x1cd8('0x47')]=this[_0x1cd8('0xaef')],this[_0x1cd8('0xaee')][_0x1cd8('0x6ad')]['value']=_0x2f49c8[_0x1cd8('0x9f')],_0x37eb2b['setRenderTarget'](null),this[_0x1cd8('0xad8')][_0x1cd8('0x325')](_0x37eb2b));},'getPrepareMaskMaterial':function(){return new THREE[(_0x1cd8('0x1f0'))]({'uniforms':{'depthTexture':{'value':null},'cameraNearFar':{'value':new THREE[(_0x1cd8('0x1c0'))](0.5,0.5)},'textureMatrix':{'value':new THREE[(_0x1cd8('0x317'))]()}},'vertexShader':[_0x1cd8('0xd34'),'varying\x20vec4\x20vPosition;','uniform\x20mat4\x20textureMatrix;',_0x1cd8('0x1ab'),_0x1cd8('0xd35'),_0x1cd8('0xd36'),_0x1cd8('0xd37'),_0x1cd8('0xd38'),'}'][_0x1cd8('0x117')]('\x0a'),'fragmentShader':[_0x1cd8('0xd39'),_0x1cd8('0xd3a'),_0x1cd8('0xd34'),_0x1cd8('0xd3b'),_0x1cd8('0xd3c'),_0x1cd8('0x1ab'),'\x09float\x20depth\x20=\x20unpackRGBAToDepth(texture2DProj(\x20depthTexture,\x20projTexCoord\x20));','\x09float\x20viewZ\x20=\x20-\x20DEPTH_TO_VIEW_Z(\x20depth,\x20cameraNearFar.x,\x20cameraNearFar.y\x20);',_0x1cd8('0xd3d'),'\x09gl_FragColor\x20=\x20vec4(0.0,\x20depthTest,\x201.0,\x201.0);','}'][_0x1cd8('0x117')]('\x0a')});},'getEdgeDetectionMaterial':function(){return new THREE['ShaderMaterial']({'uniforms':{'maskTexture':{'value':null},'texSize':{'value':new THREE[(_0x1cd8('0x1c0'))](0.5,0.5)},'visibleEdgeColor':{'value':new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1)},'hiddenEdgeColor':{'value':new THREE[(_0x1cd8('0x57'))](0x1,0x1,0x1)}},'vertexShader':_0x1cd8('0x6ce'),'fragmentShader':_0x1cd8('0xd3e')});},'getSeperableBlurMaterial':function(_0x37eb2b){return new THREE[(_0x1cd8('0x1f0'))]({'defines':{'MAX_RADIUS':_0x37eb2b},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE['Vector2'](0.5,0.5)},'direction':{'value':new THREE[(_0x1cd8('0x1c0'))](0.5,0.5)},'kernelRadius':{'value':0x1}},'vertexShader':'varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','fragmentShader':_0x1cd8('0xd3f')});},'getOverlayMaterial':function(){return new THREE[(_0x1cd8('0x1f0'))]({'uniforms':{'maskTexture':{'value':null},'edgeTexture1':{'value':null},'edgeTexture2':{'value':null},'patternTexture':{'value':null},'edgeStrength':{'value':0x1},'edgeGlow':{'value':0x1},'usePatternTexture':{'value':0x0}},'vertexShader':_0x1cd8('0x6ce'),'fragmentShader':_0x1cd8('0xd40'),'blending':THREE['AdditiveBlending'],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0});}}),THREE['OutlinePass'][_0x1cd8('0xaf7')]=new THREE[(_0x1cd8('0x1c0'))](0x1,0x0),THREE[_0x1cd8('0xa9c')][_0x1cd8('0xaf5')]=new THREE[(_0x1cd8('0x1c0'))](0x0,0x1);},function(_0x3e22a2,_0x2a724e,_0x36d72c){'use strict';Object[_0x1cd8('0x4')](_0x2a724e,'__esModule',{'value':!0x0});var _0x38300f=_0x107650(_0x36d72c(0x4)),_0x37e759=_0x107650(_0x36d72c(0x0)),_0x510f7b=_0x107650(_0x36d72c(0x1)),_0xbaf5b8=_0x36d72c(0x1a);function _0x107650(_0x3e22a2){return _0x3e22a2&&_0x3e22a2[_0x1cd8('0x6')]?_0x3e22a2:{'default':_0x3e22a2};}function _0x222701(){(0x0,_0x37e759[_0x1cd8('0xa')])(this,_0x222701),this[_0x1cd8('0xdf')]=(0x0,_0xbaf5b8[_0x1cd8('0x30')])(),this[_0x1cd8('0x41d')]=!0x1,this[_0x1cd8('0xd41')]=null,this[_0x1cd8('0xd42')]={'bias':-0.0001,'normalBias':0x0,'radius':0x1,'mapWidth':0x800,'mapHeight':0x800},this[_0x1cd8('0x74d')]=null,this['shadowCameraHelper']=null,this[_0x1cd8('0xd43')]=new THREE['Spherical']();}(0x0,_0x510f7b['default'])(_0x222701,[{'key':'preInit','value':function(_0x3e22a2){_0x3e22a2[_0x1cd8('0xd42')]&&(this[_0x1cd8('0x74d')]=new THREE[(_0x1cd8('0x6aa'))](0x2d,0x1,_0x3e22a2[_0x1cd8('0xd42')][_0x1cd8('0xd44')],_0x3e22a2[_0x1cd8('0xd42')][_0x1cd8('0xd45')]));}},{'key':_0x1cd8('0x335'),'value':function(_0x3e22a2){this['enabled']=!0x0,this[_0x1cd8('0xdf')]['mapView']['renderer'][_0x1cd8('0x6bc')][_0x1cd8('0x41d')]=!0x0,this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x6bd')]=!!_0x3e22a2[_0x1cd8('0x58f')],this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x101')]=THREE[_0x1cd8('0xd46')];var _0x2a724e,_0x36d72c=this['map'][_0x1cd8('0x466')][_0x3e22a2['setShadowLight']];_0x3e22a2[_0x1cd8('0x2f8')]&&(this[_0x1cd8('0xd42')]['mapWidth']=_0x3e22a2[_0x1cd8('0x2f8')],this['shadowConfigs'][_0x1cd8('0xd47')]=_0x3e22a2['resolution']),_0x36d72c&&(_0x3e22a2[_0x1cd8('0xd42')]?(_0x36d72c['position'][_0x1cd8('0x1b')](_0x3e22a2[_0x1cd8('0xd42')]['position']['x'],_0x3e22a2[_0x1cd8('0xd42')]['position']['y'],_0x3e22a2[_0x1cd8('0xd42')]['position']['z']),(_0x2a724e=new THREE[(_0x1cd8('0x32a'))]())[_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x3e22a2[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['x'],_0x3e22a2[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['y'],_0x3e22a2[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['z']),this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](_0x2a724e),_0x36d72c[_0x1cd8('0x2b7')]=_0x2a724e,_0x36d72c[_0x1cd8('0x752')]=!0x0):(_0x36d72c[_0x1cd8('0x3f')][_0x1cd8('0x1b')](0x1f4,0x2bc,-0x1f4),_0x36d72c['target'][_0x1cd8('0x3f')][_0x1cd8('0x1b')](0x0,0x0,0x0),_0x36d72c[_0x1cd8('0x752')]=!0x0,this[_0x1cd8('0x74d')]=new THREE[(_0x1cd8('0x6aa'))](0x2d,0x1,0x2bc,0x4e2)),_0x36d72c[_0x1cd8('0x8a6')]=new THREE[(_0x1cd8('0xd48'))](this[_0x1cd8('0x74d')]),_0x36d72c[_0x1cd8('0x8a6')]['normalBias']=0x2,_0x36d72c[_0x1cd8('0x8a6')]['bias']=_0x3e22a2[_0x1cd8('0xd49')]||this['shadowConfigs'][_0x1cd8('0xd49')],_0x36d72c[_0x1cd8('0x8a6')][_0x1cd8('0xd4a')]=_0x3e22a2[_0x1cd8('0xd4a')]||this['shadowConfigs'][_0x1cd8('0xd4a')],_0x36d72c[_0x1cd8('0x8a6')]['radius']=this[_0x1cd8('0xd42')][_0x1cd8('0x226')],_0x36d72c[_0x1cd8('0x8a6')][_0x1cd8('0x6d9')][_0x1cd8('0x320')]=this[_0x1cd8('0xd42')][_0x1cd8('0xd4b')],_0x36d72c[_0x1cd8('0x8a6')][_0x1cd8('0x6d9')]['height']=this['shadowConfigs'][_0x1cd8('0xd47')],_0x3e22a2[_0x1cd8('0x58f')]&&(_0x2a724e=new THREE['CameraHelper'](_0x36d72c[_0x1cd8('0x8a6')][_0x1cd8('0x2fb')]),this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')]['add'](_0x2a724e),this[_0x1cd8('0xd4c')]=_0x2a724e),this[_0x1cd8('0xd41')]=_0x36d72c,this[_0x1cd8('0xd4d')](_0x3e22a2));}},{'key':'initTileMapShadow','value':function(_0x3e22a2,_0x2a724e){this['enabled']=!0x0,this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')]['enabled']=!0x0,this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x6bd')]=!!_0x2a724e['debug'],this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')]['shadowMap'][_0x1cd8('0x101')]=THREE[_0x1cd8('0xd46')],_0x2a724e[_0x1cd8('0x2f8')]&&(this[_0x1cd8('0xd42')]['mapWidth']=_0x2a724e['resolution'],this[_0x1cd8('0xd42')][_0x1cd8('0xd47')]=_0x2a724e['resolution']),this['shadowCamera']=new THREE['PerspectiveCamera'](0x2d,0x1,0xa,0x3e8);var _0x36d72c=new THREE[(_0x1cd8('0x32a'))]();this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](_0x36d72c),_0x3e22a2[_0x1cd8('0x2b7')]=_0x36d72c,_0x3e22a2['castShadow']=!0x0,_0x3e22a2[_0x1cd8('0x8a6')]=new THREE['LightShadow'](this[_0x1cd8('0x74d')]),_0x3e22a2['shadow'][_0x1cd8('0x226')]=0.1,_0x3e22a2[_0x1cd8('0x8a6')][_0x1cd8('0xd49')]=_0x2a724e[_0x1cd8('0xd49')]||this[_0x1cd8('0xd42')][_0x1cd8('0xd49')],_0x3e22a2['shadow']['normalBias']=_0x2a724e[_0x1cd8('0xd4a')]||this[_0x1cd8('0xd42')]['normalBias'],_0x3e22a2[_0x1cd8('0x8a6')][_0x1cd8('0x226')]=this[_0x1cd8('0xd42')]['radius'],_0x3e22a2[_0x1cd8('0x8a6')][_0x1cd8('0x6d9')]['width']=this['shadowConfigs'][_0x1cd8('0xd4b')],_0x3e22a2[_0x1cd8('0x8a6')]['mapSize'][_0x1cd8('0x2f1')]=this[_0x1cd8('0xd42')]['mapHeight'],_0x2a724e[_0x1cd8('0x58f')]&&(_0x36d72c=new THREE[(_0x1cd8('0xd4e'))](_0x3e22a2[_0x1cd8('0x8a6')][_0x1cd8('0x2fb')]),this['map'][_0x1cd8('0x466')][_0x1cd8('0x45f')]['add'](_0x36d72c),this[_0x1cd8('0xd4c')]=_0x36d72c),this['shadowLight']=_0x3e22a2,this['shadowLight'];}},{'key':_0x1cd8('0x92d'),'value':function(_0x3e22a2){var _0x2a724e=this,_0x36d72c=_0x3e22a2[_0x1cd8('0xd4f')],_0x37e759=_0x3e22a2[_0x1cd8('0x675')],_0x3e22a2=_0x3e22a2[_0x1cd8('0x9a4')],_0x3e22a2=void 0x0===_0x3e22a2?1.5:_0x3e22a2;void 0x0===_0x37e759||_0x37e759?new TWEEN[(_0x1cd8('0x2cd'))]({'posX':this['shadowLight'][_0x1cd8('0x3f')]['x'],'posY':this[_0x1cd8('0xd41')][_0x1cd8('0x3f')]['y'],'posZ':this['shadowLight'][_0x1cd8('0x3f')]['z'],'targetX':this[_0x1cd8('0xd41')]['target']['position']['x'],'targetY':this[_0x1cd8('0xd41')]['target']['position']['y'],'targetZ':this['shadowLight'][_0x1cd8('0x2b7')][_0x1cd8('0x3f')]['z']})['to']({'posX':_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x3f')]['x'],'posY':_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x3f')]['y'],'posZ':_0x36d72c[_0x1cd8('0xd42')]['position']['z'],'targetX':_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['x'],'targetY':_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['y'],'targetZ':_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['z']},0x3e8*_0x3e22a2)[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x3fd')][_0x1cd8('0x3fe')])[_0x1cd8('0x454')](function(){_0x2a724e[_0x1cd8('0xdf')][_0x1cd8('0x466')]['renderer']['shadowMap'][_0x1cd8('0x6bd')]=!0x0;})[_0x1cd8('0x2d2')](function(_0x3e22a2){_0x2a724e[_0x1cd8('0xd41')][_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x3e22a2['posX'],_0x3e22a2['posY'],_0x3e22a2[_0x1cd8('0xd50')]),_0x2a724e[_0x1cd8('0xd41')][_0x1cd8('0x2b7')]['position'][_0x1cd8('0x1b')](_0x3e22a2['targetX'],_0x3e22a2['targetY'],_0x3e22a2[_0x1cd8('0xd51')]);})[_0x1cd8('0x2d4')](function(){_0x2a724e[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x6bd')]=!0x1,_0x2a724e[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')]['enabled']=!0x0,_0x2a724e['map'][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x10b')]=!0x0;})[_0x1cd8('0x2d1')]():(this[_0x1cd8('0xd41')]['position']['set'](_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x3f')]['x'],_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x3f')]['y'],_0x36d72c['shadowConfigs'][_0x1cd8('0x3f')]['z']),this[_0x1cd8('0xd41')][_0x1cd8('0x2b7')][_0x1cd8('0x3f')][_0x1cd8('0x1b')](_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['x'],_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['y'],_0x36d72c[_0x1cd8('0xd42')][_0x1cd8('0x2b7')]['z']),this[_0x1cd8('0x74d')]=new THREE[(_0x1cd8('0x6aa'))](0x2d,0x1,_0x36d72c['shadowConfigs'][_0x1cd8('0xd44')],_0x36d72c[_0x1cd8('0xd42')]['farFactor']));}},{'key':_0x1cd8('0xd52'),'value':function(_0x3e22a2,_0x2a724e,_0x36d72c,_0x37e759){var _0x510f7b;_0x3e22a2&&_0x3e22a2['tileBuildingLight']&&(_0x510f7b=Math['max'](this[_0x1cd8('0xdf')]['controls'][_0x1cd8('0xd53')](),0xfa0),_0x37e759&&this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['distanceTo'](_0x3e22a2[_0x1cd8('0x99b')][_0x1cd8('0x2b7')][_0x1cd8('0x3f')])<Math[_0x1cd8('0xe4')](0.25*_0x510f7b,0x64)||(_0x2a724e[_0x1cd8('0x3f')][_0x1cd8('0x1b')](this['map'][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['x'],0x0,this['map'][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['z']),_0x2a724e[_0x1cd8('0x3f6')][_0x1cd8('0x1b')](0xa*_0x510f7b,0xa*_0x510f7b,0x1),_0x37e759=(0x0,_0xbaf5b8[_0x1cd8('0x2a')])(_0x3e22a2['tileBuildingLight'][_0x1cd8('0x2b4')],_0x3e22a2['tileBuildingLight'][_0x1cd8('0x2c8')]),_0x3e22a2[_0x1cd8('0x99b')][_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x37e759),_0x3e22a2['tileBuildingLight'][_0x1cd8('0x3f')]['normalize']()[_0x1cd8('0x1cc')](_0x510f7b)[_0x1cd8('0x1cd')](new THREE[(_0x1cd8('0x57'))](this['map'][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['x'],0x0,this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['z'])),_0x3e22a2[_0x1cd8('0x99b')][_0x1cd8('0x2b7')][_0x1cd8('0x3f')]['copy'](new THREE['Vector3'](this['map'][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['x'],0x0,this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['z'])),_0x3e22a2['tileBuildingLight'][_0x1cd8('0x2b7')]['updateMatrixWorld'](!0x0),this[_0x1cd8('0x74d')]['near']=0.7*_0x510f7b,this[_0x1cd8('0x74d')][_0x1cd8('0x2fd')]=1.4*_0x510f7b,this[_0x1cd8('0x74d')][_0x1cd8('0x6e8')](),_0x36d72c[_0x1cd8('0x58f')]&&(_0x3e22a2[_0x1cd8('0x99b')]['helper'][_0x1cd8('0x2d3')](),this['shadowCameraHelper'][_0x1cd8('0x2d3')]()),this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0x6bc')][_0x1cd8('0x10b')]=!0x0));}},{'key':_0x1cd8('0xd4d'),'value':function(_0x3e22a2){var _0x2a724e=(0x0,_0xbaf5b8[_0x1cd8('0x2f')])(0x0)[_0x1cd8('0x506')](0x1)[_0x1cd8('0x8fd')]([esmap[_0x1cd8('0x4f2')][_0x1cd8('0x956')],esmap['ESLayerType'][_0x1cd8('0x957')],esmap[_0x1cd8('0x4f2')][_0x1cd8('0x982')]]),_0x36d72c=!0x0,_0x37e759=!0x1,_0x510f7b=void 0x0;try{for(var _0x107650,_0x222701=(0x0,_0x38300f[_0x1cd8('0xa')])(_0x2a724e);!(_0x36d72c=(_0x107650=_0x222701['next']())[_0x1cd8('0x8e')]);_0x36d72c=!0x0){var _0x3062d2=_0x107650[_0x1cd8('0xf')],_0x1d9b8d=!0x0,_0xea894b=!0x1,_0x4e3914=void 0x0;try{for(var _0x477096,_0x4296b5=(0x0,_0x38300f[_0x1cd8('0xa')])(_0x3062d2[_0x1cd8('0x509')]['children']);!(_0x1d9b8d=(_0x477096=_0x4296b5['next']())[_0x1cd8('0x8e')]);_0x1d9b8d=!0x0){var _0x5ac8bb=_0x477096[_0x1cd8('0xf')];if(_0x5ac8bb[_0x1cd8('0x43')][_0x1cd8('0x4cf')]){var _0x43b203=!0x0,_0x12b594=!0x1,_0x226821=void 0x0;try{for(var _0x1e550e,_0x1300d8=(0x0,_0x38300f[_0x1cd8('0xa')])(_0x5ac8bb[_0x1cd8('0x43')][_0x1cd8('0x4cf')]);!(_0x43b203=(_0x1e550e=_0x1300d8[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x43b203=!0x0){var _0x6f0cc6=_0x1e550e[_0x1cd8('0xf')],_0x27598d=+_0x3e22a2[_0x1cd8('0xd54')]||0x5;if(_0x6f0cc6[_0x1cd8('0xd55')]>_0x27598d){_0x5ac8bb['castShadow']=!0x0;break;}_0x5ac8bb[_0x1cd8('0x753')]=!0x0;break;}}catch(_0x17b952){_0x12b594=!0x0,_0x226821=_0x17b952;}finally{try{!_0x43b203&&_0x1300d8[_0x1cd8('0xa1')]&&_0x1300d8[_0x1cd8('0xa1')]();}finally{if(_0x12b594)throw _0x226821;}}}else _0x5ac8bb[_0x1cd8('0x753')]=!0x0;_0x5ac8bb[_0x1cd8('0x43')][_0x1cd8('0xd56')];}}catch(_0x3f75b1){_0xea894b=!0x0,_0x4e3914=_0x3f75b1;}finally{try{!_0x1d9b8d&&_0x4296b5[_0x1cd8('0xa1')]&&_0x4296b5[_0x1cd8('0xa1')]();}finally{if(_0xea894b)throw _0x4e3914;}}}}catch(_0x53f57a){_0x37e759=!0x0,_0x510f7b=_0x53f57a;}finally{try{!_0x36d72c&&_0x222701['return']&&_0x222701[_0x1cd8('0xa1')]();}finally{if(_0x37e759)throw _0x510f7b;}}}},{'key':_0x1cd8('0xd57'),'value':function(_0x3e22a2,_0x2a724e){_0x3e22a2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2[_0x1cd8('0x752')]=_0x2a724e,_0x3e22a2['receiveShadow']=_0x2a724e,_0x3e22a2[_0x1cd8('0x47')]['needsUpdate']=!0x0);});}},{'key':_0x1cd8('0x8e5'),'value':function(_0x3e22a2,_0x2a724e){var _0x36d72c=this,_0x37e759=+_0x2a724e[_0x1cd8('0xd54')]||0x5;if(_0x3e22a2[_0x1cd8('0x4cf')]){var _0x510f7b=!0x0,_0x107650=!0x1,_0x222701=void 0x0;try{for(var _0x101565,_0xe601c5=(0x0,_0x38300f['default'])(_0x3e22a2[_0x1cd8('0x4cf')]);!(_0x510f7b=(_0x101565=_0xe601c5['next']())[_0x1cd8('0x8e')]);_0x510f7b=!0x0){var _0x4e4f01=_0x101565['value'];_0x4e4f01[_0x1cd8('0xd55')]>_0x37e759?_0x3e22a2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2['type']&&(_0x3e22a2[_0x1cd8('0x752')]=!0x0,_0x3e22a2[_0x1cd8('0x753')]=!0x1);}):_0x3e22a2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2['receiveShadow']=!0x0,_0x3e22a2[_0x1cd8('0x752')]=!0x1);}),-0x1!=_0x4e4f01[_0x1cd8('0x8e7')][_0x1cd8('0x50')]('-receiveShadow')?_0x3e22a2[_0x1cd8('0x509')]['traverse'](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2[_0x1cd8('0x753')]=!0x0,_0x3e22a2[_0x1cd8('0x752')]=!0x1);}):-0x1!=_0x4e4f01[_0x1cd8('0x8e7')][_0x1cd8('0x50')]('-castShadow')?_0x3e22a2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x3e22a2){'Mesh'===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2['receiveShadow']=!0x1,_0x3e22a2[_0x1cd8('0x752')]=!0x0);}):-0x1!=_0x4e4f01[_0x1cd8('0x8e7')][_0x1cd8('0x50')]('-shadow')&&_0x3e22a2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x3e22a2){'Mesh'===_0x3e22a2['type']&&(_0x3e22a2[_0x1cd8('0x753')]=!0x0,_0x3e22a2['castShadow']=!0x0);});}}catch(_0x1081b4){_0x107650=!0x0,_0x222701=_0x1081b4;}finally{try{!_0x510f7b&&_0xe601c5[_0x1cd8('0xa1')]&&_0xe601c5[_0x1cd8('0xa1')]();}finally{if(_0x107650)throw _0x222701;}}}else _0x3e22a2[_0x1cd8('0x8ec')]&&(_0x3e22a2[_0x1cd8('0xd55')]>_0x37e759?_0x3e22a2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2[_0x1cd8('0x752')]=!0x0,_0x3e22a2[_0x1cd8('0x753')]=!0x1);}):_0x3e22a2['o3d_'][_0x1cd8('0x7c7')](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2['receiveShadow']=!0x0,_0x3e22a2[_0x1cd8('0x752')]=!0x1);}),-0x1!=_0x3e22a2[_0x1cd8('0x8e7')][_0x1cd8('0x50')](_0x1cd8('0xd58'))?_0x3e22a2['o3d_'][_0x1cd8('0x7c7')](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2['type']&&(_0x3e22a2[_0x1cd8('0x753')]=!0x0,_0x3e22a2['castShadow']=!0x1);}):-0x1!=_0x3e22a2['model'][_0x1cd8('0x50')](_0x1cd8('0xd59'))?_0x3e22a2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x3e22a2){'Mesh'===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2[_0x1cd8('0x753')]=!0x1,_0x3e22a2[_0x1cd8('0x752')]=!0x0);}):-0x1!=_0x3e22a2['model'][_0x1cd8('0x50')]('-shadow')&&_0x3e22a2['o3d_'][_0x1cd8('0x7c7')](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2['receiveShadow']=!0x0,_0x3e22a2[_0x1cd8('0x752')]=!0x0);}));_0x2a724e[_0x1cd8('0xd5a')]&&(_0x3e22a2['o3d_'][_0x1cd8('0x7c7')](function(_0x3e22a2){'Mesh'===_0x3e22a2['type']&&_0x36d72c['setModelObjShadowConfig'](_0x3e22a2,!0x0,!0x0);}),_0x3e22a2[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x3e22a2){'Object3D'!==_0x3e22a2['type']&&_0x1cd8('0x1cf')!==_0x3e22a2['type']||(_0x3e22a2[_0x1cd8('0x7f')]&&-0x1<_0x3e22a2['name'][_0x1cd8('0x50')](_0x1cd8('0xd5b'))?_0x36d72c[_0x1cd8('0xd5c')](_0x3e22a2,!0x0,!0x1):_0x3e22a2[_0x1cd8('0x7f')]&&-0x1<_0x3e22a2[_0x1cd8('0x7f')][_0x1cd8('0x50')](_0x1cd8('0xd5d'))?_0x36d72c[_0x1cd8('0xd5c')](_0x3e22a2,!0x1,!0x0):_0x3e22a2[_0x1cd8('0x7f')]&&-0x1<_0x3e22a2['name'][_0x1cd8('0x50')](_0x1cd8('0xd5e'))&&_0x36d72c[_0x1cd8('0xd5c')](_0x3e22a2,!0x1,!0x1)),_0x1cd8('0x30c')===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2[_0x1cd8('0x7f')]&&-0x1<_0x3e22a2[_0x1cd8('0x7f')]['indexOf'](_0x1cd8('0xd5b'))?_0x36d72c[_0x1cd8('0xd5c')](_0x3e22a2,!0x0,!0x1):_0x3e22a2[_0x1cd8('0x7f')]&&-0x1<_0x3e22a2['name'][_0x1cd8('0x50')](_0x1cd8('0xd5d'))?_0x36d72c[_0x1cd8('0xd5c')](_0x3e22a2,!0x1,!0x0):_0x3e22a2[_0x1cd8('0x7f')]&&-0x1<_0x3e22a2[_0x1cd8('0x7f')]['indexOf'](_0x1cd8('0xd5e'))&&_0x36d72c[_0x1cd8('0xd5c')](_0x3e22a2,!0x1,!0x1));}));}},{'key':_0x1cd8('0xd5c'),'value':function(_0x3e22a2,_0x2a724e,_0x36d72c){_0x1cd8('0x32a')!==_0x3e22a2[_0x1cd8('0x101')]&&_0x1cd8('0x1cf')!==_0x3e22a2[_0x1cd8('0x101')]||_0x3e22a2[_0x1cd8('0x7c7')](function(_0x3e22a2){_0x1cd8('0x30c')===_0x3e22a2['type']&&(_0x3e22a2[_0x1cd8('0x752')]=_0x2a724e,_0x3e22a2[_0x1cd8('0x753')]=_0x36d72c);}),_0x1cd8('0x30c')===_0x3e22a2[_0x1cd8('0x101')]&&(_0x3e22a2['castShadow']=_0x2a724e,_0x3e22a2[_0x1cd8('0x753')]=_0x36d72c);}},{'key':_0x1cd8('0xd5f'),'value':function(_0x3e22a2){var _0x2a724e=new THREE[(_0x1cd8('0x7b5'))]({'depthPacking':THREE[_0x1cd8('0x7b6')]}),_0x36d72c=this;_0x2a724e[_0x1cd8('0x3d2')]=function(_0x3e22a2){_0x3e22a2['uniforms'][_0x1cd8('0x7ae')]={'value':_0x36d72c[_0x1cd8('0x74d')][_0x1cd8('0x6b8')]},_0x3e22a2[_0x1cd8('0x3d4')]=_0x3e22a2[_0x1cd8('0x3d4')][_0x1cd8('0x23d')]('#include\x20<common>\x0a',_0x1cd8('0x7b0')+_0x36d72c[_0x1cd8('0x781')])[_0x1cd8('0x23d')]('#include\x20<uv_vertex>','#include\x20<uv_vertex>\x0a'+_0x36d72c[_0x1cd8('0x79b')])['replace'](_0x1cd8('0x614'),_0x36d72c['projectVertex']);},_0x3e22a2[_0x1cd8('0x754')]=_0x2a724e;}},{'key':_0x1cd8('0xd60'),'value':function(){var _0x3e22a2=new THREE['Quaternion']()['setFromUnitVectors'](new THREE[(_0x1cd8('0x57'))](0x0,0x1,0x0),this[_0x1cd8('0xd41')][_0x1cd8('0x3f')]),_0x3e22a2=new THREE[(_0x1cd8('0x57'))](0x1,0x0,0x0)[_0x1cd8('0xd61')](_0x3e22a2);this[_0x1cd8('0xd41')][_0x1cd8('0x3f')]['applyAxisAngle'](_0x3e22a2,0x14);}}]),_0x2a724e[_0x1cd8('0xa')]=_0x222701;},function(_0x217f3e,_0x13c42b,_0x1629b8){'use strict';Object[_0x1cd8('0x4')](_0x13c42b,'__esModule',{'value':!0x0});var _0x45a083=_0x7126b8(_0x1629b8(0x0)),_0x545fca=_0x7126b8(_0x1629b8(0x1)),_0x148490=_0x1629b8(0x1a);function _0x7126b8(_0x217f3e){return _0x217f3e&&_0x217f3e['__esModule']?_0x217f3e:{'default':_0x217f3e};}function _0x1829ff(){(0x0,_0x45a083[_0x1cd8('0xa')])(this,_0x1829ff),this[_0x1cd8('0xdf')]=(0x0,_0x148490[_0x1cd8('0x30')])(),this[_0x1cd8('0x1e4')]=null;}(0x0,_0x545fca['default'])(_0x1829ff,[{'key':_0x1cd8('0x335'),'value':function(_0x217f3e){'linear'===_0x217f3e['type']&&(this[_0x1cd8('0x1e4')]=new THREE[(_0x1cd8('0x8a8'))](0xffffff,0x0,0x3e8),_0x217f3e[_0x1cd8('0x220')]&&this[_0x1cd8('0x1e4')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x217f3e['color']),_0x217f3e[_0x1cd8('0x2fc')]&&(this[_0x1cd8('0x1e4')][_0x1cd8('0x2fc')]=_0x217f3e[_0x1cd8('0x2fc')]),_0x217f3e[_0x1cd8('0x2fd')]&&(this[_0x1cd8('0x1e4')][_0x1cd8('0x2fd')]=_0x217f3e[_0x1cd8('0x2fd')]),this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x45f')]['fog']=this['fog']),_0x1cd8('0xd62')===_0x217f3e['type']&&(this[_0x1cd8('0x1e4')]=new THREE[(_0x1cd8('0xd63'))](0xcccccc,0.002),_0x217f3e[_0x1cd8('0x220')]&&this[_0x1cd8('0x1e4')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x217f3e[_0x1cd8('0x220')]),_0x217f3e[_0x1cd8('0xd64')]&&(this['fog']['density']=_0x217f3e[_0x1cd8('0xd64')]),this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1e4')]=this[_0x1cd8('0x1e4')]);}},{'key':'updateFog','value':function(_0x217f3e){_0x1cd8('0x305')===_0x217f3e['type']&&(_0x217f3e[_0x1cd8('0x220')]&&this[_0x1cd8('0x1e4')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x217f3e['color']),_0x217f3e['near']&&(this[_0x1cd8('0x1e4')][_0x1cd8('0x2fc')]=_0x217f3e[_0x1cd8('0x2fc')]),_0x217f3e[_0x1cd8('0x2fd')]&&(this[_0x1cd8('0x1e4')][_0x1cd8('0x2fd')]=_0x217f3e[_0x1cd8('0x2fd')])),_0x1cd8('0xd62')===_0x217f3e[_0x1cd8('0x101')]&&(_0x217f3e[_0x1cd8('0x220')]&&this[_0x1cd8('0x1e4')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x217f3e['color']),_0x217f3e['density']&&(this[_0x1cd8('0x1e4')]['density']=_0x217f3e[_0x1cd8('0xd64')]));}}]),_0x13c42b[_0x1cd8('0xa')]=_0x1829ff;},function(_0x425d46,_0x1c7c6b,_0x1a80a4){'use strict';Object['defineProperty'](_0x1c7c6b,_0x1cd8('0x6'),{'value':!0x0});var _0x3f6ccc=_0xdb476a(_0x1a80a4(0x0)),_0x4e6e8f=_0xdb476a(_0x1a80a4(0x1)),_0x2a8423=_0x1a80a4(0x1a),_0x2c878f=function(_0x425d46){if(_0x425d46&&_0x425d46[_0x1cd8('0x6')])return _0x425d46;var _0x1c7c6b={};if(null!=_0x425d46)for(var _0x1a80a4 in _0x425d46)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')][_0x1cd8('0x1')](_0x425d46,_0x1a80a4)&&(_0x1c7c6b[_0x1a80a4]=_0x425d46[_0x1a80a4]);return _0x1c7c6b[_0x1cd8('0xa')]=_0x425d46,_0x1c7c6b;}(_0x1a80a4(0x41));function _0xdb476a(_0x425d46){return _0x425d46&&_0x425d46[_0x1cd8('0x6')]?_0x425d46:{'default':_0x425d46};}function _0x8ed1b6(){(0x0,_0x3f6ccc[_0x1cd8('0xa')])(this,_0x8ed1b6),this[_0x1cd8('0xdf')]=null,this['video']=null;}(0x0,_0x4e6e8f[_0x1cd8('0xa')])(_0x8ed1b6,[{'key':_0x1cd8('0x922'),'value':function(_0x425d46){this[_0x1cd8('0xdf')]=(0x0,_0x2a8423[_0x1cd8('0x30')])();var _0x1c7c6b=(0x0,_0x2a8423['innerCoordTransToThree'])(_0x425d46[_0x1cd8('0x3f')]['x'],_0x425d46[_0x1cd8('0x3f')]['y']),_0x1c7c6b=new THREE[(_0x1cd8('0x57'))](_0x1c7c6b['x'],_0x425d46[_0x1cd8('0x3f')][_0x1cd8('0x2f1')],_0x1c7c6b['y']),_0x1a80a4=(0x0,_0x2a8423[_0x1cd8('0x35')])(_0x425d46[_0x1cd8('0x2b7')]['x'],_0x425d46['target']['y']),_0x1a80a4=new THREE[(_0x1cd8('0x57'))](_0x1a80a4['x'],_0x425d46[_0x1cd8('0x2b7')][_0x1cd8('0x2f1')],_0x1a80a4['y']);return this[_0x1cd8('0x4fe')]=new _0x2c878f[(_0x1cd8('0xaa'))]({'map':this['map'],'position':_0x1c7c6b,'target':_0x1a80a4,'receiveLayer':_0x425d46[_0x1cd8('0x7bb')],'far':_0x425d46['far'],'fov':_0x425d46[_0x1cd8('0x7bc')],'videoAspect':_0x425d46[_0x1cd8('0x7bd')],'isShowHelper':_0x425d46['showProjectorRange'],'isShowFarPlane':_0x425d46[_0x1cd8('0xd65')]}),this[_0x1cd8('0x4fe')];}},{'key':_0x1cd8('0x7d0'),'value':function(_0x425d46,_0x1c7c6b){this[_0x1cd8('0x4fe')]&&this[_0x1cd8('0x4fe')][_0x1cd8('0x7d0')](_0x425d46?_0x1cd8('0x3db'):_0x1cd8('0x400'));}},{'key':_0x1cd8('0x923'),'value':function(_0x425d46){this['video']&&(_0x425d46=new THREE[(_0x1cd8('0x57'))](_0x425d46['x'],_0x425d46['y'],_0x425d46['z']),this[_0x1cd8('0x4fe')][_0x1cd8('0x7e8')](_0x425d46));}},{'key':'isLockCameraControls','value':function(_0x425d46){this[_0x1cd8('0x4fe')]&&this['video']['isLockCameraControls'](_0x425d46);}},{'key':_0x1cd8('0x2df'),'value':function(){this[_0x1cd8('0x4fe')]&&(this[_0x1cd8('0x4fe')][_0x1cd8('0xde')](),this[_0x1cd8('0x4fe')]=null);}}]),_0x1c7c6b[_0x1cd8('0xa')]=_0x8ed1b6;},function(_0x195aa3,_0xa6df2c,_0x12ec9c){'use strict';Object[_0x1cd8('0x4')](_0xa6df2c,_0x1cd8('0x6'),{'value':!0x0});var _0x2eb737=_0x433651(_0x12ec9c(0x0));function _0x433651(_0x195aa3){return _0x195aa3&&_0x195aa3[_0x1cd8('0x6')]?_0x195aa3:{'default':_0x195aa3};}function _0x7eb7bf(){(0x0,_0x2eb737[_0x1cd8('0xa')])(this,_0x7eb7bf),this[_0x1cd8('0x8bf')]=!0x1,this['allMarkerList']=[];}(0x0,_0x433651(_0x12ec9c(0x1))[_0x1cd8('0xa')])(_0x7eb7bf,[{'key':'add','value':function(_0x195aa3){this['allMarkerList']['push'](_0x195aa3);}},{'key':_0x1cd8('0xe1'),'value':function(_0x195aa3){_0x195aa3=this[_0x1cd8('0xd66')]['indexOf'](_0x195aa3);-0x1<_0x195aa3&&this[_0x1cd8('0xd66')]['splice'](_0x195aa3,0x1);}},{'key':_0x1cd8('0x325'),'value':function(_0x195aa3){if(this[_0x1cd8('0x8bf')])for(var _0xa6df2c=0x0,_0x12ec9c=this[_0x1cd8('0xd66')]['length'];_0xa6df2c<_0x12ec9c;_0xa6df2c++)this[_0x1cd8('0xd66')][_0xa6df2c][_0x1cd8('0x59d')](_0x195aa3);}},{'key':_0x1cd8('0x2df'),'value':function(){this[_0x1cd8('0xd66')][_0x1cd8('0xc')]=0x0;}},{'key':'dispose','value':function(){for(var _0x195aa3=0x0,_0xa6df2c=this[_0x1cd8('0xd66')][_0x1cd8('0xc')];_0x195aa3<_0xa6df2c;_0x195aa3++)this['allMarkerList'][_0x195aa3][_0x1cd8('0xde')]();this['allMarkerList'][_0x1cd8('0xc')]=0x0;}}]),_0xa6df2c['default']=_0x7eb7bf;},function(_0x3e469c,_0x1761d6,_0x35310a){'use strict';Object['defineProperty'](_0x1761d6,_0x1cd8('0x6'),{'value':!0x0});var _0x186fd8=_0x2934a1(_0x35310a(0x0)),_0x362372=_0x2934a1(_0x35310a(0x1)),_0x5c1484=_0x2934a1(_0x35310a(0x11c)),_0xec6dd9=_0x2934a1(_0x35310a(0x46)),_0xe56dc8=_0x2934a1(_0x35310a(0x74));function _0x2934a1(_0x3e469c){return _0x3e469c&&_0x3e469c[_0x1cd8('0x6')]?_0x3e469c:{'default':_0x3e469c};}function _0x2fbf02(){_0x162d0c['update']();}var _0x162d0c=null,_0x35310a=((0x0,_0x362372[_0x1cd8('0xa')])(_0x3891de,[{'key':_0x1cd8('0x883'),'value':function(){_0x162d0c=new _0x5c1484[(_0x1cd8('0xa'))](this[_0x1cd8('0xdf')]['mapView'][_0x1cd8('0x2fb')],this['map'][_0x1cd8('0x466')]['container_']),this[_0x1cd8('0xd67')]=new _0xe56dc8['default'](this[_0x1cd8('0xdf')],_0x162d0c),_0x162d0c[_0x1cd8('0x41d')]=!0x0,_0x162d0c[_0x1cd8('0x2d9')]=!0x1,_0x162d0c[_0x1cd8('0x7cf')]=!0x1,_0x162d0c[_0x1cd8('0xd68')]=0.00001;var _0x3e469c=this[_0x1cd8('0xdf')]['controls']['target'][_0x1cd8('0x1bb')]()[_0x1cd8('0x2ef')](this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['object'][_0x1cd8('0x3f')]['clone']())['normalize'](),_0x3e469c=this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x1c')][_0x1cd8('0x3f')][_0x1cd8('0x1bb')]()[_0x1cd8('0x1cd')](_0x3e469c[_0x1cd8('0x1cc')](0.00001));_0x162d0c[_0x1cd8('0x1c')][_0x1cd8('0x3f')][_0x1cd8('0x1c6')](this['map'][_0x1cd8('0x2ae')]['object']['position']),_0x162d0c[_0x1cd8('0x2b7')][_0x1cd8('0x1c6')](_0x3e469c),_0x162d0c[_0x1cd8('0x1c')][_0x1cd8('0x3fb')](_0x3e469c),this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['enabled']=!0x1,this[_0x1cd8('0xdf')]['mapView']['renderer'][_0x1cd8('0xd69')]=!0x1,_0x162d0c[_0x1cd8('0xd6a')]=!0x1,_0x162d0c[_0x1cd8('0xd6b')]=0.4,_0x162d0c[_0x1cd8('0x62f')]=0.5,this[_0x1cd8('0xdf')]['on'](_0x1cd8('0x2d3'),_0x2fbf02);}},{'key':'removeControls','value':function(){_0x162d0c[_0x1cd8('0xde')](),_0x162d0c=null,this[_0x1cd8('0xdf')]['controls']['enabled']=!0x0,this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0xd69')]=!0x0,this['map'][_0x1cd8('0xd6c')](_0x1cd8('0x2d3'),_0x2fbf02);}},{'key':_0x1cd8('0xd6d'),'value':function(){_0x162d0c[_0x1cd8('0xde')](),_0x162d0c=null,this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x41d')]=!0x0,this[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x526')][_0x1cd8('0xd69')]=!0x0,this[_0x1cd8('0xdf')][_0x1cd8('0xd6c')](_0x1cd8('0x2d3'),_0x2fbf02);var _0x3e469c=this[_0x1cd8('0xdf')]['getScreenCenter'](0x0);_0x3e469c&&(this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x2b7')][_0x1cd8('0x1c6')](_0x3e469c),this[_0x1cd8('0xdf')]['controls']['object'][_0x1cd8('0x3fb')](_0x3e469c),this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x2d3')]());}},{'key':_0x1cd8('0xd6e'),'value':function(_0x3e469c,_0x1761d6,_0x35310a){new TWEEN['Tween']({'angle':_0x3e469c})['to']({'angle':_0x1761d6},0x3e8)['easing'](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x2d0')][_0x1cd8('0x2d8')])[_0x1cd8('0x2d2')](function(_0x3e469c,_0x1761d6){_0x162d0c[_0x1cd8('0x2d3')]({'forcePhi':THREE['Math'][_0x1cd8('0x2cb')](_0x3e469c[_0x1cd8('0x221')])});})[_0x1cd8('0x2d4')](function(){_0x35310a&&_0x35310a();})[_0x1cd8('0x2d1')]();}},{'key':_0x1cd8('0xd6f'),'value':function(_0x3e469c){_0x3e469c['imgPath'];var _0x3e469c=_0x3e469c[_0x1cd8('0x226')],_0x1761d6=this,_0x35310a=new THREE[(_0x1cd8('0x9b'))]()[_0x1cd8('0x9d')](esmap[_0x1cd8('0x53')][_0x1cd8('0x52')]+_0x1cd8('0x535')),_0x3e469c=new THREE[(_0x1cd8('0x3e3'))](_0x3e469c,_0x3e469c),_0x35310a=new THREE['MeshBasicMaterial']({'map':_0x35310a,'transparent':!0x0});this['pickAnimateObj']=new THREE[(_0x1cd8('0x30c'))](_0x3e469c,_0x35310a),this[_0x1cd8('0xd70')]['renderOrder']=0x46,this['map']['mapView'][_0x1cd8('0x45f')]['add'](this[_0x1cd8('0xd70')]),this[_0x1cd8('0xdf')]['on'](_0x1cd8('0x331'),function(_0x3e469c){_0x1761d6[_0x1cd8('0xd70')]&&_0x3e469c[_0x1cd8('0xd71')]&&_0x3e469c['object']&&_0x1cd8('0x30c')===_0x3e469c['object'][_0x1cd8('0x101')]&&'floor'===_0x3e469c['object']['type_']&&!_0x1761d6['isLockGroundPick']&&_0x1761d6[_0x1cd8('0xd72')](_0x3e469c);});}},{'key':_0x1cd8('0xd72'),'value':function(_0x3e469c){this[_0x1cd8('0xd73')]=!0x0;var _0x1761d6,_0x35310a=_0x3e469c[_0x1cd8('0x31d')][_0x1cd8('0x1bb')](),_0x186fd8=this[_0x1cd8('0xdf')][_0x1cd8('0xd74')](_0x35310a);this['checkIsCanMove'](_0x186fd8)?((_0x186fd8=_0x3e469c[_0x1cd8('0xd71')][_0x1cd8('0x6ba')][_0x1cd8('0x1bb')]())['transformDirection'](_0x3e469c[_0x1cd8('0x1c')][_0x1cd8('0x364')]),_0x186fd8['multiplyScalar'](0.1),_0x186fd8[_0x1cd8('0x1cd')](_0x35310a),(_0x1761d6=_0x3e469c[_0x1cd8('0xd71')][_0x1cd8('0x6ba')][_0x1cd8('0x1bb')]())['transformDirection'](_0x3e469c[_0x1cd8('0x1c')][_0x1cd8('0x364')]),_0x1761d6[_0x1cd8('0x1cc')](0.05),_0x1761d6['add'](_0x35310a),this[_0x1cd8('0xd70')][_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x1761d6),this[_0x1cd8('0xd70')][_0x1cd8('0x3fb')](_0x186fd8),this[_0x1cd8('0xd75')](new THREE['Vector3'](_0x1761d6['x'],this['map'][_0x1cd8('0x466')][_0x1cd8('0x2fb')][_0x1cd8('0x3f')]['y'],_0x1761d6['z']))):this[_0x1cd8('0xd73')]=!0x1;}},{'key':_0x1cd8('0xd76'),'value':function(_0x3e469c){_0x3e469c=this[_0x1cd8('0xdf')][_0x1cd8('0x7da')]({'startCoord':{'x':_0x3e469c['x'],'y':_0x3e469c['y'],'z':0x3},'endCoord':{'x':_0x3e469c['x'],'y':_0x3e469c['y'],'z':0x0},'debug':!0x1,'mode':_0x1cd8('0x428')});if(_0x3e469c&&0x3*0.99<0x3-_0x3e469c['point']['y'])return!0x0;return!0x1;}},{'key':'flytoGroundPickPos3','value':function(_0x3e469c){this[_0x1cd8('0xd73')]=!0x1;var _0x35310a,_0x1761d6=_0x3e469c['clone']()[_0x1cd8('0x2b8')](this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x1c')][_0x1cd8('0x3f')]),_0x1761d6=(_0x162d0c[_0x1cd8('0xd77')]=_0x35310a=0.1*_0x1761d6,_0x162d0c[_0x1cd8('0x2b7')][_0x1cd8('0x1bb')]()[_0x1cd8('0x2ef')](this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]['object'][_0x1cd8('0x3f')][_0x1cd8('0x1bb')]())[_0x1cd8('0x1cb')]()),_0x1761d6=this[_0x1cd8('0xdf')]['controls']['object'][_0x1cd8('0x3f')][_0x1cd8('0x1bb')]()[_0x1cd8('0x1cd')](_0x1761d6[_0x1cd8('0x1cc')](_0x35310a));_0x162d0c[_0x1cd8('0x2b7')]=_0x1761d6,new TWEEN[(_0x1cd8('0x2cd'))](_0x162d0c['target'])['to'](_0x3e469c,0x7d0)[_0x1cd8('0x2ce')](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x2d0')]['InOut'])[_0x1cd8('0x2d2')](function(_0x3e469c,_0x1761d6){_0x162d0c['maxDistance']=(_0x35310a-0.00001)*(0x1-_0x1761d6)+0.00001;})[_0x1cd8('0x2d4')](function(){})[_0x1cd8('0x2d1')]();}},{'key':_0x1cd8('0xd78'),'value':function(_0x3e469c){var _0x1761d6=this,_0x35310a=_0x3e469c[_0x1cd8('0x1bb')]()[_0x1cd8('0x2ef')](this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')][_0x1cd8('0x1c')][_0x1cd8('0x3f')][_0x1cd8('0x1bb')]())[_0x1cd8('0x1cb')](),_0x35310a=_0x3e469c[_0x1cd8('0x1bb')]()[_0x1cd8('0x1cd')](_0x35310a[_0x1cd8('0x1cc')](0.00001));THREE[_0x1cd8('0x15')][_0x1cd8('0xa70')](_0x162d0c['getPolarAngle']()),THREE[_0x1cd8('0x15')][_0x1cd8('0xa70')](_0x162d0c[_0x1cd8('0xd79')]()),_0x1761d6[_0x1cd8('0xd67')]['cameraPosition'](_0x3e469c[_0x1cd8('0x1bb')](),_0x35310a,0x7d0,function(){_0x1761d6[_0x1cd8('0xd73')]=!0x1;});}},{'key':_0x1cd8('0xd7a'),'value':function(_0x3e469c,_0x1761d6){_0x162d0c[_0x1cd8('0x2b7')][_0x1cd8('0x1c6')](_0x1761d6),new TWEEN[(_0x1cd8('0x2cd'))](_0x3e469c)['to'](_0x1761d6,0x7d0)['easing'](TWEEN[_0x1cd8('0x2cf')][_0x1cd8('0x2d0')]['Out'])[_0x1cd8('0x2d2')](function(_0x3e469c,_0x1761d6){_0x1761d6<0.99&&_0x162d0c[_0x1cd8('0x1c')][_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x3e469c);})['start']();}},{'key':_0x1cd8('0xd7b'),'value':function(_0x3e469c,_0x1761d6){_0x1761d6=new THREE[(_0x1cd8('0x30c'))](new THREE[(_0x1cd8('0x3f5'))](0x2),new THREE[(_0x1cd8('0x3d1'))]({'color':_0x1761d6}));_0x1761d6[_0x1cd8('0x3f')][_0x1cd8('0x1c6')](_0x3e469c),this['map'][_0x1cd8('0x466')][_0x1cd8('0x45f')][_0x1cd8('0x1cd')](_0x1761d6);}},{'key':_0x1cd8('0xd7c'),'value':function(){_0xec6dd9[_0x1cd8('0xa')][_0x1cd8('0xd7d')](this['pickAnimateObj']),this['pickAnimateObj']=null;}}]),_0x3891de);function _0x3891de(_0x3e469c){(0x0,_0x186fd8[_0x1cd8('0xa')])(this,_0x3891de),this['map']=_0x3e469c,this[_0x1cd8('0xd70')]=null,this['cameraFlyTo']=new _0xe56dc8[(_0x1cd8('0xa'))](this[_0x1cd8('0xdf')],this[_0x1cd8('0xdf')][_0x1cd8('0x2ae')]),this[_0x1cd8('0xd67')]=null,this[_0x1cd8('0xd73')]=!0x1;}_0x1761d6[_0x1cd8('0xa')]=_0x35310a;},function(_0x2ca881,_0x1e5c2d,_0x1d1ae6){'use strict';Object[_0x1cd8('0x4')](_0x1e5c2d,_0x1cd8('0x6'),{'value':!0x0});var _0x49b439=_0xb2c220(_0x1d1ae6(0x58)),_0x1d1ae6=_0xb2c220(_0x1d1ae6(0x1d));function _0xb2c220(_0x2ca881){return _0x2ca881&&_0x2ca881[_0x1cd8('0x6')]?_0x2ca881:{'default':_0x2ca881};}function _0x59822c(_0x2ca881,_0x1e5c2d){this[_0x1cd8('0x1c')]=_0x2ca881,this['domElement']=void 0x0!==_0x1e5c2d?_0x1e5c2d:document,this[_0x1cd8('0x41d')]=!0x0,this['target']=new THREE['Vector3'](),this[_0x1cd8('0xd68')]=0x0,this[_0x1cd8('0xd77')]=0x1/0x0,this[_0x1cd8('0xd7e')]=0x0,this[_0x1cd8('0xd7f')]=0x1/0x0,this[_0x1cd8('0xd80')]=0x0,this[_0x1cd8('0xd81')]=Math['PI'],this[_0x1cd8('0xd82')]=-0x1/0x0,this['maxAzimuthAngle']=0x1/0x0,this[_0x1cd8('0xd83')]=!0x1,this[_0x1cd8('0xd84')]=0.25,this[_0x1cd8('0x7cf')]=!0x0,this['zoomSpeed']=0x1,this['enableRotate']=!0x0,this[_0x1cd8('0x62f')]=0x1,this[_0x1cd8('0x2d9')]=!0x0,this[_0x1cd8('0xd85')]=0x1,this[_0x1cd8('0xd86')]=!0x1,this['keyPanSpeed']=0x7,this[_0x1cd8('0xd6a')]=!0x1,this['autoRotateSpeed']=0x2,this['enableKeys']=!0x0,this[_0x1cd8('0x1f')]={'LEFT':0x25,'UP':0x26,'RIGHT':0x27,'BOTTOM':0x28},this[_0x1cd8('0xd87')]={'LEFT':THREE[_0x1cd8('0xd88')]['LEFT'],'MIDDLE':THREE['MOUSE'][_0x1cd8('0xd89')],'RIGHT':THREE[_0x1cd8('0xd88')][_0x1cd8('0xd8a')]},this[_0x1cd8('0xd8b')]=this[_0x1cd8('0x2b7')][_0x1cd8('0x1bb')](),this[_0x1cd8('0xd8c')]=this['object'][_0x1cd8('0x3f')]['clone'](),this['zoom0']=this['object'][_0x1cd8('0xd8d')],this[_0x1cd8('0xd8e')]=function(){return _0x3a3cad[_0x1cd8('0x49b')];},this[_0x1cd8('0xd79')]=function(){return _0x3a3cad['theta'];},this['saveState']=function(){_0x3d3cb3[_0x1cd8('0xd8b')]['copy'](_0x3d3cb3[_0x1cd8('0x2b7')]),_0x3d3cb3[_0x1cd8('0xd8c')][_0x1cd8('0x1c6')](_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x3f')]),_0x3d3cb3[_0x1cd8('0xd8f')]=_0x3d3cb3['object'][_0x1cd8('0xd8d')];},this[_0x1cd8('0x215')]=function(){_0x3d3cb3[_0x1cd8('0x2b7')][_0x1cd8('0x1c6')](_0x3d3cb3['target0']),_0x3d3cb3[_0x1cd8('0x1c')]['position'][_0x1cd8('0x1c6')](_0x3d3cb3['position0']),_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0xd8d')]=_0x3d3cb3[_0x1cd8('0xd8f')],_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x6e8')](),_0x3d3cb3[_0x1cd8('0x46c')](_0x4fd487),_0x3d3cb3[_0x1cd8('0x2d3')](),_0x4b8a4e=_0xf357e3['NONE'];},this[_0x1cd8('0x2d3')]=(_0x1d1ae6=new THREE['Vector3'](),_0x49b439=new THREE[(_0x1cd8('0x75d'))]()['setFromUnitVectors'](_0x2ca881['up'],new THREE[(_0x1cd8('0x57'))](0x0,0x1,0x0)),_0xb2c220=_0x49b439['clone']()['inverse'](),_0x59822c=new THREE['Vector3'](),_0x9edc90=new THREE[(_0x1cd8('0x75d'))](),function(_0x2ca881){var _0x1e5c2d=_0x3d3cb3['object'][_0x1cd8('0x3f')];return _0x1d1ae6[_0x1cd8('0x1c6')](_0x1e5c2d)[_0x1cd8('0x2ef')](_0x3d3cb3[_0x1cd8('0x2b7')]),_0x1d1ae6['applyQuaternion'](_0x49b439),_0x3a3cad['setFromVector3'](_0x1d1ae6),_0x3d3cb3[_0x1cd8('0xd6a')]&&_0x4b8a4e===_0xf357e3[_0x1cd8('0xd90')]&&_0x2a8061(0x2*Math['PI']/0x3c/0x3c*_0x3d3cb3[_0x1cd8('0xd6b')]),_0x3a3cad[_0x1cd8('0x49c')]+=_0x22fc07[_0x1cd8('0x49c')],_0x3a3cad[_0x1cd8('0x49b')]+=_0x22fc07[_0x1cd8('0x49b')],_0x2ca881&&(_0x2ca881[_0x1cd8('0x1e')](_0x1cd8('0xd91'))&&(_0x3a3cad[_0x1cd8('0x49c')]=_0x2ca881[_0x1cd8('0xd91')],_0x22fc07['theta']=0x0),_0x2ca881[_0x1cd8('0x1e')]('forcePhi')&&(_0x3a3cad[_0x1cd8('0x49b')]=_0x2ca881['forcePhi'],_0x22fc07['phi']=0x0),_0x2ca881['hasOwnProperty'](_0x1cd8('0xd92'))&&(_0x3a3cad[_0x1cd8('0x226')]=_0x2ca881['radioFactor'],_0x1d2f0d=0x1)),_0x3a3cad[_0x1cd8('0x49c')]=Math[_0x1cd8('0xe4')](_0x3d3cb3[_0x1cd8('0xd82')],Math[_0x1cd8('0x81')](_0x3d3cb3[_0x1cd8('0xd93')],_0x3a3cad[_0x1cd8('0x49c')])),_0x3a3cad[_0x1cd8('0x49b')]=Math[_0x1cd8('0xe4')](_0x3d3cb3[_0x1cd8('0xd80')],Math[_0x1cd8('0x81')](_0x3d3cb3['maxPolarAngle'],_0x3a3cad[_0x1cd8('0x49b')])),_0x3a3cad[_0x1cd8('0xd94')](),_0x3a3cad[_0x1cd8('0x226')]*=_0x1d2f0d,_0x3a3cad['radius']=Math[_0x1cd8('0xe4')](_0x3d3cb3['minDistance'],Math[_0x1cd8('0x81')](_0x3d3cb3[_0x1cd8('0xd77')],_0x3a3cad[_0x1cd8('0x226')])),_0x3d3cb3[_0x1cd8('0x2b7')][_0x1cd8('0x1cd')](_0xca13b3),_0x1d1ae6[_0x1cd8('0xd95')](_0x3a3cad),_0x1d1ae6[_0x1cd8('0xd61')](_0xb2c220),_0x1e5c2d[_0x1cd8('0x1c6')](_0x3d3cb3[_0x1cd8('0x2b7')])['add'](_0x1d1ae6),_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x3fb')](_0x3d3cb3[_0x1cd8('0x2b7')]),!0x0===_0x3d3cb3[_0x1cd8('0xd83')]?(_0x22fc07['theta']*=0x1-_0x3d3cb3[_0x1cd8('0xd84')],_0x22fc07['phi']*=0x1-_0x3d3cb3[_0x1cd8('0xd84')],_0xca13b3[_0x1cd8('0x1cc')](0x1-_0x3d3cb3['dampingFactor'])):(_0x22fc07[_0x1cd8('0x1b')](0x0,0x0,0x0),_0xca13b3[_0x1cd8('0x1b')](0x0,0x0,0x0)),_0x1d2f0d=0x1,!(!(_0x3ff10b||_0x59822c[_0x1cd8('0xd96')](_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x3f')])>_0x3e7898||0x8*(0x1-_0x9edc90[_0x1cd8('0x6b3')](_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0xd97')]))>_0x3e7898)||(_0x3d3cb3[_0x1cd8('0x46c')](_0x4fd487),_0x59822c['copy'](_0x3d3cb3[_0x1cd8('0x1c')]['position']),_0x9edc90[_0x1cd8('0x1c6')](_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0xd97')]),_0x3ff10b=!0x1));}),this[_0x1cd8('0xde')]=function(){_0x3d3cb3['domElement'][_0x1cd8('0x336')]('contextmenu',_0x3aa725,!0x1),_0x3d3cb3['domElement'][_0x1cd8('0x336')]('mousedown',_0x3fb386,!0x1),_0x3d3cb3[_0x1cd8('0xd98')][_0x1cd8('0x336')](_0x1cd8('0xd99'),_0x1a04b7,!0x1),_0x3d3cb3[_0x1cd8('0xd98')][_0x1cd8('0x336')]('touchstart',_0x58b91f,!0x1),_0x3d3cb3[_0x1cd8('0xd98')]['removeEventListener'](_0x1cd8('0xd9a'),_0x2dc5b0,!0x1),_0x3d3cb3['domElement'][_0x1cd8('0x336')]('touchmove',_0x234c37,!0x1),document[_0x1cd8('0x336')](_0x1cd8('0xd9b'),_0x562ef1,!0x1),document['removeEventListener'](_0x1cd8('0xd9c'),_0x51b90a,!0x1),window[_0x1cd8('0x336')]('keydown',_0x17a23d,!0x1);};var _0x1d1ae6,_0x49b439,_0xb2c220,_0x59822c,_0x9edc90,_0x3d3cb3=this,_0x4fd487={'type':'change'},_0xb9bfdb={'type':_0x1cd8('0x2d1')},_0x451ea9={'type':_0x1cd8('0x414')},_0xf357e3={'NONE':-0x1,'ROTATE':0x0,'DOLLY':0x1,'PAN':0x2,'TOUCH_ROTATE':0x3,'TOUCH_DOLLY_PAN':0x4},_0x4b8a4e=_0xf357e3[_0x1cd8('0xd90')],_0x3e7898=0.000001,_0x3a3cad=new THREE[(_0x1cd8('0xd9d'))](),_0x22fc07=new THREE[(_0x1cd8('0xd9d'))](),_0x1d2f0d=0x1,_0xca13b3=new THREE[(_0x1cd8('0x57'))](),_0x3ff10b=!0x1,_0x41408b=new THREE[(_0x1cd8('0x1c0'))](),_0x2bac81=new THREE[(_0x1cd8('0x1c0'))](),_0x280835=new THREE['Vector2'](),_0x41ebc1=new THREE[(_0x1cd8('0x1c0'))](),_0x7ff1aa=new THREE['Vector2'](),_0x13af5b=new THREE['Vector2'](),_0x38a8a5=new THREE['Vector2'](),_0x121ef6=new THREE[(_0x1cd8('0x1c0'))](),_0x3c3756=new THREE['Vector2']();function _0x313075(){return Math[_0x1cd8('0x308')](0.95,_0x3d3cb3[_0x1cd8('0x2b2')]);}function _0x2a8061(_0x2ca881){_0x22fc07[_0x1cd8('0x49c')]-=_0x2ca881;}function _0x4bf385(_0x2ca881){_0x22fc07[_0x1cd8('0x49b')]-=_0x2ca881;}function _0x1e7373(_0x2ca881,_0x1e5c2d){_0x5c25d0[_0x1cd8('0xd9e')](_0x1e5c2d,0x0),_0x5c25d0[_0x1cd8('0x1cc')](-_0x2ca881),_0xca13b3[_0x1cd8('0x1cd')](_0x5c25d0);}function _0x1deb56(_0x2ca881,_0x1e5c2d){!0x0===_0x3d3cb3['screenSpacePanning']?_0x406374[_0x1cd8('0xd9e')](_0x1e5c2d,0x1):(_0x406374[_0x1cd8('0xd9e')](_0x1e5c2d,0x0),_0x406374[_0x1cd8('0x9f3')](_0x3d3cb3['object']['up'],_0x406374)),_0x406374[_0x1cd8('0x1cc')](_0x2ca881),_0xca13b3[_0x1cd8('0x1cd')](_0x406374);}var _0x5c25d0,_0x406374,_0x223ad0,_0x5c25d0=new THREE['Vector3'](),_0x2fc12d=(_0x406374=new THREE['Vector3'](),_0x223ad0=new THREE[(_0x1cd8('0x57'))](),function(_0x2ca881,_0x1e5c2d){var _0x1d1ae6,_0x49b439=_0x3d3cb3['domElement']===document?_0x3d3cb3['domElement'][_0x1cd8('0xd9f')]:_0x3d3cb3['domElement'];_0x3d3cb3['object'][_0x1cd8('0xd11')]?(_0x1d1ae6=_0x3d3cb3[_0x1cd8('0x1c')]['position'],_0x223ad0[_0x1cd8('0x1c6')](_0x1d1ae6)['sub'](_0x3d3cb3[_0x1cd8('0x2b7')]),_0x1d1ae6=_0x223ad0[_0x1cd8('0xc')](),_0x1d1ae6*=Math[_0x1cd8('0x9ee')](_0x3d3cb3['object'][_0x1cd8('0x7bc')]/0x2*Math['PI']/0xb4),_0x1e7373(0x2*_0x2ca881*_0x1d1ae6/_0x49b439[_0x1cd8('0xda0')],_0x3d3cb3['object'][_0x1cd8('0x746')]),_0x1deb56(0x2*_0x1e5c2d*_0x1d1ae6/_0x49b439[_0x1cd8('0xda0')],_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x746')])):_0x3d3cb3[_0x1cd8('0x1c')]['isOrthographicCamera']?(_0x1e7373(_0x2ca881*(_0x3d3cb3[_0x1cd8('0x1c')]['right']-_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x33c')])/_0x3d3cb3[_0x1cd8('0x1c')]['zoom']/_0x49b439[_0x1cd8('0xda1')],_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x746')]),_0x1deb56(_0x1e5c2d*(_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x5d5')]-_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x7f8')])/_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0xd8d')]/_0x49b439[_0x1cd8('0xda0')],_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x746')])):_0x3d3cb3[_0x1cd8('0x2d9')]=!0x1;});function _0x2013a1(_0x2ca881){_0x3d3cb3[_0x1cd8('0x1c')]['isPerspectiveCamera']?_0x1d2f0d/=_0x2ca881:_0x3d3cb3['object'][_0x1cd8('0xda2')]?(_0x3d3cb3[_0x1cd8('0x1c')]['zoom']=Math[_0x1cd8('0xe4')](_0x3d3cb3[_0x1cd8('0xd7e')],Math['min'](_0x3d3cb3[_0x1cd8('0xd7f')],_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0xd8d')]*_0x2ca881)),_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x6e8')](),_0x3ff10b=!0x0):_0x3d3cb3[_0x1cd8('0x7cf')]=!0x1;}function _0x588010(_0x2ca881){_0x3d3cb3['object'][_0x1cd8('0xd11')]?_0x1d2f0d*=_0x2ca881:_0x3d3cb3['object'][_0x1cd8('0xda2')]?(_0x3d3cb3['object'][_0x1cd8('0xd8d')]=Math[_0x1cd8('0xe4')](_0x3d3cb3['minZoom'],Math[_0x1cd8('0x81')](_0x3d3cb3[_0x1cd8('0xd7f')],_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0xd8d')]/_0x2ca881)),_0x3d3cb3[_0x1cd8('0x1c')][_0x1cd8('0x6e8')](),_0x3ff10b=!0x0):_0x3d3cb3[_0x1cd8('0x7cf')]=!0x1;}function _0x348b08(_0x2ca881){_0x41ebc1[_0x1cd8('0x1b')](_0x2ca881[_0x1cd8('0x33b')],_0x2ca881['clientY']);}function _0x3fb386(_0x2ca881){if(!0x1!==_0x3d3cb3['enabled']){switch(_0x2ca881[_0x1cd8('0xda3')](),(_0x3d3cb3['domElement'][_0x1cd8('0xda4')]?_0x3d3cb3['domElement']:window)[_0x1cd8('0xda4')](),_0x2ca881[_0x1cd8('0xda5')]){case _0x3d3cb3[_0x1cd8('0xd87')][_0x1cd8('0xda6')]:if(_0x2ca881[_0x1cd8('0xda7')]||_0x2ca881[_0x1cd8('0xda8')]||_0x2ca881[_0x1cd8('0xda9')]){if(!0x1===_0x3d3cb3['enablePan'])return;_0x348b08(_0x2ca881),_0x4b8a4e=_0xf357e3[_0x1cd8('0xdaa')];}else{if(!0x1===_0x3d3cb3[_0x1cd8('0x2da')])return;_0x41408b[_0x1cd8('0x1b')](_0x2ca881[_0x1cd8('0x33b')],_0x2ca881['clientY']),_0x4b8a4e=_0xf357e3[_0x1cd8('0xdab')];}break;case _0x3d3cb3[_0x1cd8('0xd87')][_0x1cd8('0xd89')]:if(!0x1===_0x3d3cb3[_0x1cd8('0x7cf')])return;_0x38a8a5[_0x1cd8('0x1b')](_0x2ca881[_0x1cd8('0x33b')],_0x2ca881['clientY']),_0x4b8a4e=_0xf357e3['DOLLY'];break;case _0x3d3cb3['mouseButtons'][_0x1cd8('0xd8a')]:if(!0x1===_0x3d3cb3[_0x1cd8('0x2d9')])return;_0x348b08(_0x2ca881),_0x4b8a4e=_0xf357e3[_0x1cd8('0xdaa')];}_0x4b8a4e!==_0xf357e3[_0x1cd8('0xd90')]&&(document[_0x1cd8('0x29d')](_0x1cd8('0xd9b'),_0x562ef1,!0x1),document[_0x1cd8('0x29d')](_0x1cd8('0xd9c'),_0x51b90a,!0x1),_0x3d3cb3[_0x1cd8('0x46c')](_0xb9bfdb));}}function _0x562ef1(_0x2ca881){var _0x1e5c2d;if(!0x1!==_0x3d3cb3[_0x1cd8('0x41d')])switch(_0x2ca881[_0x1cd8('0xda3')](),_0x4b8a4e){case _0xf357e3[_0x1cd8('0xdab')]:if(!0x1===_0x3d3cb3['enableRotate'])return;_0x2bac81[_0x1cd8('0x1b')](_0x2ca881[_0x1cd8('0x33b')],_0x2ca881['clientY']),_0x280835[_0x1cd8('0x6b2')](_0x2bac81,_0x41408b)[_0x1cd8('0x1cc')](_0x3d3cb3[_0x1cd8('0x62f')]),_0x1e5c2d=_0x3d3cb3[_0x1cd8('0xd98')]===document?_0x3d3cb3[_0x1cd8('0xd98')][_0x1cd8('0xd9f')]:_0x3d3cb3[_0x1cd8('0xd98')],_0x2a8061(0x2*Math['PI']*_0x280835['x']/_0x1e5c2d[_0x1cd8('0xda0')]),_0x4bf385(0x2*Math['PI']*_0x280835['y']/_0x1e5c2d[_0x1cd8('0xda0')]),_0x41408b[_0x1cd8('0x1c6')](_0x2bac81),_0x3d3cb3[_0x1cd8('0x2d3')]();break;case _0xf357e3[_0x1cd8('0xdac')]:if(!0x1===_0x3d3cb3['enableZoom'])return;_0x121ef6[_0x1cd8('0x1b')](_0x2ca881[_0x1cd8('0x33b')],_0x2ca881['clientY']),_0x3c3756[_0x1cd8('0x6b2')](_0x121ef6,_0x38a8a5),0x0<_0x3c3756['y']?_0x2013a1(_0x313075()):_0x3c3756['y']<0x0&&_0x588010(_0x313075()),_0x38a8a5[_0x1cd8('0x1c6')](_0x121ef6),_0x3d3cb3[_0x1cd8('0x2d3')]();break;case _0xf357e3[_0x1cd8('0xdaa')]:if(!0x1===_0x3d3cb3['enablePan'])return;_0x7ff1aa['set'](_0x2ca881[_0x1cd8('0x33b')],_0x2ca881['clientY']),_0x13af5b['subVectors'](_0x7ff1aa,_0x41ebc1)[_0x1cd8('0x1cc')](_0x3d3cb3[_0x1cd8('0xd85')]),_0x2fc12d(_0x13af5b['x'],_0x13af5b['y']),_0x41ebc1[_0x1cd8('0x1c6')](_0x7ff1aa),_0x3d3cb3['update']();}}function _0x51b90a(_0x2ca881){!0x1!==_0x3d3cb3['enabled']&&(document[_0x1cd8('0x336')](_0x1cd8('0xd9b'),_0x562ef1,!0x1),document['removeEventListener']('mouseup',_0x51b90a,!0x1),_0x3d3cb3['dispatchEvent'](_0x451ea9),_0x4b8a4e=_0xf357e3['NONE']);}function _0x1a04b7(_0x2ca881){!0x1===_0x3d3cb3[_0x1cd8('0x41d')]||!0x1===_0x3d3cb3['enableZoom']||_0x4b8a4e!==_0xf357e3[_0x1cd8('0xd90')]&&_0x4b8a4e!==_0xf357e3[_0x1cd8('0xdab')]||(_0x2ca881[_0x1cd8('0xda3')](),_0x2ca881[_0x1cd8('0xdad')](),_0x3d3cb3[_0x1cd8('0x46c')](_0xb9bfdb),(_0x2ca881=_0x2ca881)[_0x1cd8('0xdae')]<0x0?_0x588010(_0x313075()):0x0<_0x2ca881[_0x1cd8('0xdae')]&&_0x2013a1(_0x313075()),_0x3d3cb3['update'](),_0x3d3cb3[_0x1cd8('0x46c')](_0x451ea9));}function _0x17a23d(_0x2ca881){if(!0x1!==_0x3d3cb3['enabled']&&!0x1!==_0x3d3cb3[_0x1cd8('0xdaf')]&&!0x1!==_0x3d3cb3[_0x1cd8('0x2d9')]){var _0x1e5c2d=!0x1;switch(_0x2ca881['keyCode']){case _0x3d3cb3[_0x1cd8('0x1f')]['UP']:_0x2fc12d(0x0,_0x3d3cb3[_0x1cd8('0xdb0')]),_0x1e5c2d=!0x0;break;case _0x3d3cb3[_0x1cd8('0x1f')][_0x1cd8('0xdb1')]:_0x2fc12d(0x0,-_0x3d3cb3[_0x1cd8('0xdb0')]),_0x1e5c2d=!0x0;break;case _0x3d3cb3[_0x1cd8('0x1f')][_0x1cd8('0xda6')]:_0x2fc12d(_0x3d3cb3['keyPanSpeed'],0x0),_0x1e5c2d=!0x0;break;case _0x3d3cb3[_0x1cd8('0x1f')][_0x1cd8('0xd8a')]:_0x2fc12d(-_0x3d3cb3['keyPanSpeed'],0x0),_0x1e5c2d=!0x0;}_0x1e5c2d&&(_0x2ca881['preventDefault'](),_0x3d3cb3[_0x1cd8('0x2d3')]());}}function _0x58b91f(_0x2ca881){if(!0x1!==_0x3d3cb3[_0x1cd8('0x41d')]){switch(_0x2ca881['preventDefault'](),_0x2ca881[_0x1cd8('0xdb2')][_0x1cd8('0xc')]){case 0x1:if(!0x1===_0x3d3cb3[_0x1cd8('0x2da')])return;_0x41408b[_0x1cd8('0x1b')](_0x2ca881[_0x1cd8('0xdb2')][0x0][_0x1cd8('0xdb3')],_0x2ca881['touches'][0x0][_0x1cd8('0xdb4')]),_0x4b8a4e=_0xf357e3[_0x1cd8('0xdb5')];break;case 0x2:if(!0x1===_0x3d3cb3[_0x1cd8('0x7cf')]&&!0x1===_0x3d3cb3[_0x1cd8('0x2d9')])return;_0x1e5c2d=_0x2ca881,_0x3d3cb3[_0x1cd8('0x7cf')]&&(_0x49b439=_0x1e5c2d[_0x1cd8('0xdb2')][0x0]['pageX']-_0x1e5c2d[_0x1cd8('0xdb2')][0x1][_0x1cd8('0xdb3')],_0x1d1ae6=_0x1e5c2d[_0x1cd8('0xdb2')][0x0]['pageY']-_0x1e5c2d[_0x1cd8('0xdb2')][0x1][_0x1cd8('0xdb4')],_0x49b439=Math[_0x1cd8('0x1c8')](_0x49b439*_0x49b439+_0x1d1ae6*_0x1d1ae6),_0x38a8a5[_0x1cd8('0x1b')](0x0,_0x49b439)),_0x3d3cb3[_0x1cd8('0x2d9')]&&(_0x1d1ae6=0.5*(_0x1e5c2d['touches'][0x0]['pageX']+_0x1e5c2d[_0x1cd8('0xdb2')][0x1][_0x1cd8('0xdb3')]),_0x49b439=0.5*(_0x1e5c2d[_0x1cd8('0xdb2')][0x0][_0x1cd8('0xdb4')]+_0x1e5c2d[_0x1cd8('0xdb2')][0x1][_0x1cd8('0xdb4')]),_0x41ebc1[_0x1cd8('0x1b')](_0x1d1ae6,_0x49b439)),_0x4b8a4e=_0xf357e3[_0x1cd8('0xdb6')];break;default:_0x4b8a4e=_0xf357e3[_0x1cd8('0xd90')];}var _0x1e5c2d,_0x1d1ae6,_0x49b439;_0x4b8a4e!==_0xf357e3[_0x1cd8('0xd90')]&&_0x3d3cb3[_0x1cd8('0x46c')](_0xb9bfdb);}}function _0x234c37(_0x2ca881){var _0x1e5c2d,_0x1d1ae6,_0x49b439;if(!0x1!==_0x3d3cb3[_0x1cd8('0x41d')])switch(_0x2ca881[_0x1cd8('0xda3')](),_0x2ca881['stopPropagation'](),_0x2ca881[_0x1cd8('0xdb2')][_0x1cd8('0xc')]){case 0x1:if(!0x1===_0x3d3cb3['enableRotate'])return;if(_0x4b8a4e!==_0xf357e3['TOUCH_ROTATE'])return;_0x2bac81[_0x1cd8('0x1b')](_0x2ca881['touches'][0x0][_0x1cd8('0xdb3')],_0x2ca881[_0x1cd8('0xdb2')][0x0][_0x1cd8('0xdb4')]),_0x280835[_0x1cd8('0x6b2')](_0x41408b,_0x2bac81)[_0x1cd8('0x1cc')](_0x3d3cb3['rotateSpeed']),_0x49b439=_0x3d3cb3[_0x1cd8('0xd98')]===document?_0x3d3cb3[_0x1cd8('0xd98')]['body']:_0x3d3cb3[_0x1cd8('0xd98')],_0x2a8061(0x2*Math['PI']*_0x280835['x']/_0x49b439[_0x1cd8('0xda0')]),_0x4bf385(0x2*Math['PI']*_0x280835['y']/_0x49b439[_0x1cd8('0xda0')]),_0x41408b[_0x1cd8('0x1c6')](_0x2bac81),_0x3d3cb3[_0x1cd8('0x2d3')]();break;case 0x2:if(!0x1===_0x3d3cb3[_0x1cd8('0x7cf')]&&!0x1===_0x3d3cb3[_0x1cd8('0x2d9')])return;if(_0x4b8a4e!==_0xf357e3['TOUCH_DOLLY_PAN'])return;_0x49b439=_0x2ca881,_0x3d3cb3[_0x1cd8('0x7cf')]&&(_0x1d1ae6=_0x49b439[_0x1cd8('0xdb2')][0x0]['pageX']-_0x49b439['touches'][0x1][_0x1cd8('0xdb3')],_0x1e5c2d=_0x49b439[_0x1cd8('0xdb2')][0x0][_0x1cd8('0xdb4')]-_0x49b439['touches'][0x1][_0x1cd8('0xdb4')],_0x1d1ae6=Math[_0x1cd8('0x1c8')](_0x1d1ae6*_0x1d1ae6+_0x1e5c2d*_0x1e5c2d),_0x121ef6[_0x1cd8('0x1b')](0x0,_0x1d1ae6),_0x3c3756['set'](0x0,Math['pow'](_0x121ef6['y']/_0x38a8a5['y'],_0x3d3cb3['zoomSpeed'])),_0x2013a1(_0x3c3756['y']),_0x38a8a5[_0x1cd8('0x1c6')](_0x121ef6)),_0x3d3cb3[_0x1cd8('0x2d9')]&&(_0x1e5c2d=0.5*(_0x49b439[_0x1cd8('0xdb2')][0x0][_0x1cd8('0xdb3')]+_0x49b439[_0x1cd8('0xdb2')][0x1][_0x1cd8('0xdb3')]),_0x1d1ae6=0.5*(_0x49b439[_0x1cd8('0xdb2')][0x0]['pageY']+_0x49b439[_0x1cd8('0xdb2')][0x1][_0x1cd8('0xdb4')]),_0x7ff1aa[_0x1cd8('0x1b')](_0x1e5c2d,_0x1d1ae6),_0x13af5b[_0x1cd8('0x6b2')](_0x7ff1aa,_0x41ebc1)['multiplyScalar'](_0x3d3cb3[_0x1cd8('0xd85')]),_0x2fc12d(_0x13af5b['x'],_0x13af5b['y']),_0x41ebc1[_0x1cd8('0x1c6')](_0x7ff1aa)),_0x3d3cb3['update']();break;default:_0x4b8a4e=_0xf357e3[_0x1cd8('0xd90')];}}function _0x2dc5b0(_0x2ca881){!0x1!==_0x3d3cb3[_0x1cd8('0x41d')]&&(_0x3d3cb3[_0x1cd8('0x46c')](_0x451ea9),_0x4b8a4e=_0xf357e3['NONE']);}function _0x3aa725(_0x2ca881){!0x1!==_0x3d3cb3[_0x1cd8('0x41d')]&&_0x2ca881['preventDefault']();}_0x3d3cb3[_0x1cd8('0xd98')][_0x1cd8('0x29d')](_0x1cd8('0xdb7'),_0x3aa725,!0x1),_0x3d3cb3[_0x1cd8('0xd98')][_0x1cd8('0x29d')](_0x1cd8('0xdb8'),_0x3fb386,!0x1),_0x3d3cb3[_0x1cd8('0xd98')][_0x1cd8('0x29d')](_0x1cd8('0xd99'),_0x1a04b7,!0x1),_0x3d3cb3[_0x1cd8('0xd98')][_0x1cd8('0x29d')](_0x1cd8('0xdb9'),_0x58b91f,!0x1),_0x3d3cb3['domElement'][_0x1cd8('0x29d')]('touchend',_0x2dc5b0,!0x1),_0x3d3cb3[_0x1cd8('0xd98')][_0x1cd8('0x29d')](_0x1cd8('0xdba'),_0x234c37,!0x1),window[_0x1cd8('0x29d')](_0x1cd8('0xdbb'),_0x17a23d,!0x1),this['update']();}_0x59822c[_0x1cd8('0x11')]=(0x0,_0x1d1ae6[_0x1cd8('0xa')])(THREE[_0x1cd8('0x97')][_0x1cd8('0x11')]),(0x0,_0x49b439[_0x1cd8('0xa')])((_0x59822c['prototype'][_0x1cd8('0x88')]=_0x59822c)[_0x1cd8('0x11')],{'center':{'get':function(){return this[_0x1cd8('0x2b7')];}},'noZoom':{'get':function(){return!this[_0x1cd8('0x7cf')];},'set':function(_0x2ca881){this[_0x1cd8('0x7cf')]=!_0x2ca881;}},'noRotate':{'get':function(){return!this[_0x1cd8('0x2da')];},'set':function(_0x2ca881){this[_0x1cd8('0x2da')]=!_0x2ca881;}},'noPan':{'get':function(){return!this[_0x1cd8('0x2d9')];},'set':function(_0x2ca881){this[_0x1cd8('0x2d9')]=!_0x2ca881;}},'noKeys':{'get':function(){return!this[_0x1cd8('0xdaf')];},'set':function(_0x2ca881){this['enableKeys']=!_0x2ca881;}},'staticMoving':{'get':function(){return!this['enableDamping'];},'set':function(_0x2ca881){this[_0x1cd8('0xd83')]=!_0x2ca881;}},'dynamicDampingFactor':{'get':function(){return this[_0x1cd8('0xd84')];},'set':function(_0x2ca881){this[_0x1cd8('0xd84')]=_0x2ca881;}}}),_0x1e5c2d['default']=_0x59822c;},function(_0x37ddc9,_0x461e16,_0x483a1c){'use strict';Object[_0x1cd8('0x4')](_0x461e16,_0x1cd8('0x6'),{'value':!0x0});var _0x553bae=_0x28188a(_0x483a1c(0x39)),_0x9f2fd2=_0x28188a(_0x483a1c(0x0)),_0x483a1c=_0x28188a(_0x483a1c(0x1));function _0x28188a(_0x37ddc9){return _0x37ddc9&&_0x37ddc9[_0x1cd8('0x6')]?_0x37ddc9:{'default':_0x37ddc9};}var _0x30224a=null,_0x483a1c=((0x0,_0x483a1c[_0x1cd8('0xa')])(_0x1b0ce5,[{'key':_0x1cd8('0x7'),'value':function(_0x37ddc9){var _0x461e16=_0x37ddc9[_0x1cd8('0x8a3')],_0x483a1c=void 0x0===_0x461e16?0x1:_0x461e16,_0x461e16=_0x37ddc9[_0x1cd8('0x32f')],_0x9f2fd2=_0x37ddc9['miniMapImgPath'],_0x28188a=_0x37ddc9[_0x1cd8('0xdbc')],_0x3550f6=_0x37ddc9['cameraViewImgPath'],_0x5e1565=_0x37ddc9[_0x1cd8('0xdbd')],_0x37ddc9=_0x37ddc9[_0x1cd8('0xdbe')],_0x255c8a=void 0x0===_0x37ddc9?0x3:_0x37ddc9,_0x441367=this,_0x37ddc9=(this['container']=_0x461e16,[]),_0x482a62=document['createElement'](_0x1cd8('0xdbf')),_0x51da96=(_0x482a62[_0x1cd8('0x64')]=_0x9f2fd2,_0x482a62[_0x1cd8('0x73e')][_0x1cd8('0x2f1')]=_0x28188a+'px',_0x37ddc9['push'](new _0x553bae[(_0x1cd8('0xa'))](function(_0x37ddc9){_0x482a62[_0x1cd8('0xdc0')]=function(){_0x37ddc9();};})),this[_0x1cd8('0x32f')][_0x1cd8('0x63')](_0x482a62),document[_0x1cd8('0x79')](_0x1cd8('0x91'))),_0x4fb034=(_0x51da96['style'][_0x1cd8('0x3f')]='relative',document[_0x1cd8('0x79')](_0x1cd8('0xdbf')));_0x4fb034[_0x1cd8('0x64')]=_0x3550f6,_0x4fb034[_0x1cd8('0x73e')][_0x1cd8('0x3f')]=_0x1cd8('0xdc1'),_0x4fb034[_0x1cd8('0x73e')][_0x1cd8('0x2f1')]=_0x5e1565+'px',_0x51da96[_0x1cd8('0x63')](_0x4fb034),_0x37ddc9['push'](new _0x553bae[(_0x1cd8('0xa'))](function(_0x37ddc9){_0x4fb034['onload']=function(){_0x37ddc9();};})),this[_0x1cd8('0x32f')]['appendChild'](_0x51da96),_0x553bae[_0x1cd8('0xa')][_0x1cd8('0xa3')](_0x37ddc9)[_0x1cd8('0x349')](function(_0x37ddc9){var _0x9f2fd2=_0x482a62[_0x1cd8('0x320')],_0x28188a=_0x482a62[_0x1cd8('0x2f1')],_0x3550f6=_0x4fb034[_0x1cd8('0x2f1')],_0x5e1565=(_0x51da96[_0x1cd8('0x73e')][_0x1cd8('0x320')]=_0x9f2fd2,_0x51da96[_0x1cd8('0x73e')][_0x1cd8('0x2f1')]=_0x28188a,_0x51da96[_0x1cd8('0x73e')][_0x1cd8('0x5d5')]=-_0x28188a+'px',_0x4fb034['style'][_0x1cd8('0xdc2')]=_0x255c8a+_0x1cd8('0xdc3')+(_0x3550f6/0x2+_0x255c8a)+'px',_0x441367[_0x1cd8('0xdf')][_0x1cd8('0x466')][_0x1cd8('0x2fb')]),_0x461e16=_0x441367[_0x1cd8('0xdf')][_0x1cd8('0xdc4')][_0x483a1c],_0x553bae=_0x461e16[_0x1cd8('0xdc5')]-_0x461e16[_0x1cd8('0xdc6')],_0x3f23de=_0x461e16[_0x1cd8('0xdc7')]-_0x461e16[_0x1cd8('0xdc8')],_0x265b1b=_0x461e16[_0x1cd8('0xdc6')],_0x583d3c=_0x461e16[_0x1cd8('0xdc7')];_0x30224a=function(_0x37ddc9){var _0x461e16=_0x441367[_0x1cd8('0xdf')][_0x1cd8('0xd74')](_0x5e1565['position']),_0x483a1c=_0x461e16['x']-_0x265b1b,_0x461e16=_0x461e16['y']-_0x583d3c,_0x461e16=_0x28188a*(_0x461e16/_0x3f23de);_0x4fb034['style'][_0x1cd8('0x33c')]=_0x9f2fd2*(_0x483a1c/_0x553bae)+'px',_0x4fb034[_0x1cd8('0x73e')][_0x1cd8('0x5d5')]=-(_0x461e16+(_0x3550f6/0x2+_0x255c8a))+'px',_0x4fb034[_0x1cd8('0x73e')][_0x1cd8('0xdc9')]=_0x1cd8('0xdca')+(_0x441367[_0x1cd8('0xdf')][_0x1cd8('0xdcb')]-0x5a)+'deg)';},_0x441367[_0x1cd8('0xdf')]['on']('controlchange',_0x30224a);});}},{'key':_0x1cd8('0xe1'),'value':function(){this['container'][_0x1cd8('0xdcc')]='',this['map'][_0x1cd8('0xd6c')](_0x1cd8('0x58c'),_0x30224a);}}]),_0x1b0ce5);function _0x1b0ce5(_0x37ddc9){(0x0,_0x9f2fd2[_0x1cd8('0xa')])(this,_0x1b0ce5),this[_0x1cd8('0xdf')]=_0x37ddc9,this[_0x1cd8('0x32f')]=null;}_0x461e16[_0x1cd8('0xa')]=_0x483a1c;},function(_0x1f33eb,_0xef5c28,_0x9e63ea){'use strict';Object[_0x1cd8('0x4')](_0xef5c28,'__esModule',{'value':!0x0});var _0x719bbe=_0x5d31a4(_0x9e63ea(0x4)),_0x5e6d01=_0x5d31a4(_0x9e63ea(0x26)),_0x8221dc=_0x5d31a4(_0x9e63ea(0x0)),_0x248d78=_0x5d31a4(_0x9e63ea(0x1)),_0xd0ca16=_0x5d31a4(_0x9e63ea(0x30)),_0x212714=_0x5d31a4(_0x9e63ea(0x31));function _0x5d31a4(_0x1f33eb){return _0x1f33eb&&_0x1f33eb[_0x1cd8('0x6')]?_0x1f33eb:{'default':_0x1f33eb};}function _0x4bdb23(){(0x0,_0x8221dc[_0x1cd8('0xa')])(this,_0x4bdb23);var _0x1f33eb=(0x0,_0xd0ca16['default'])(this,(_0x4bdb23['__proto__']||(0x0,_0x5e6d01[_0x1cd8('0xa')])(_0x4bdb23))['call'](this));return _0x1f33eb[_0x1cd8('0xdcd')]=(performance||Date)[_0x1cd8('0x298')](),_0x1f33eb[_0x1cd8('0xdce')]=_0x1f33eb[_0x1cd8('0xdcd')],_0x1f33eb[_0x1cd8('0x1d7')]=0x0,_0x1f33eb['fps']=0x0,_0x1f33eb['isCheckFrameRateComplete']=!0x1,_0x1f33eb['_tempFrameRateList']=[],_0x1f33eb;}_0x9e63ea=_0x9e63ea(0x3b)['EventDispatcher'],(0x0,_0x212714[_0x1cd8('0xa')])(_0x4bdb23,_0x9e63ea),(0x0,_0x248d78['default'])(_0x4bdb23,[{'key':'begin','value':function(){this['beginTime']=(performance||Date)[_0x1cd8('0x298')]();}},{'key':_0x1cd8('0x414'),'value':function(){this[_0x1cd8('0x1d7')]++;var _0x1f33eb=(performance||Date)['now']();return _0x1f33eb>=this[_0x1cd8('0xdce')]+0x3e8&&(this[_0x1cd8('0x2e5')]=0x3e8*this[_0x1cd8('0x1d7')]/(_0x1f33eb-this[_0x1cd8('0xdce')]),0xa<this[_0x1cd8('0xdcf')][_0x1cd8('0xc')]?this[_0x1cd8('0xdcf')]['length']=0x0:this[_0x1cd8('0xdcf')][_0x1cd8('0x70')](this[_0x1cd8('0x2e5')]),this['prevTime']=_0x1f33eb,this[_0x1cd8('0x1d7')]=0x0),_0x1f33eb;}},{'key':'update','value':function(){this[_0x1cd8('0xdcd')]=this[_0x1cd8('0x414')]();}},{'key':_0x1cd8('0xdd0'),'value':function(){var _0x1f33eb=0x0,_0xef5c28=!0x0,_0x9e63ea=!0x1,_0x5e6d01=void 0x0;try{for(var _0x8221dc,_0x248d78=(0x0,_0x719bbe[_0x1cd8('0xa')])(this[_0x1cd8('0xdcf')]);!(_0xef5c28=(_0x8221dc=_0x248d78[_0x1cd8('0x7e')]())['done']);_0xef5c28=!0x0)_0x1f33eb+=_0x8221dc[_0x1cd8('0xf')];}catch(_0x5513c6){_0x9e63ea=!0x0,_0x5e6d01=_0x5513c6;}finally{try{!_0xef5c28&&_0x248d78[_0x1cd8('0xa1')]&&_0x248d78[_0x1cd8('0xa1')]();}finally{if(_0x9e63ea)throw _0x5e6d01;}}(_0x1f33eb/=this[_0x1cd8('0xdcf')]['length'])<0x14?this[_0x1cd8('0x46c')]({'type':_0x1cd8('0x8be'),'flag':!0x0,'fps':_0x1f33eb}):this['dispatchEvent']({'type':'checkIsInLowDevice','flag':!0x1,'fps':_0x1f33eb});}},{'key':_0x1cd8('0x8be'),'value':function(_0x1f33eb){var _0xef5c28=this;setTimeout(function(){_0xef5c28[_0x1cd8('0xdd0')](),setTimeout(function(){_0xef5c28[_0x1cd8('0xdd0')](),setTimeout(function(){_0xef5c28['computeAverageFps'](),_0xef5c28[_0x1cd8('0x46c')]({'type':_0x1cd8('0xdd1')});},0x1b58);},0x1388);},0xbb8);}}]),_0xef5c28[_0x1cd8('0xa')]=_0x4bdb23;},function(_0x58ea9c,_0x2b08ec,_0x5dddd6){'use strict';Object[_0x1cd8('0x4')](_0x2b08ec,'__esModule',{'value':!0x0});var _0x5dddd6=_0x5dddd6(0x4),_0x3a7560=_0x5dddd6&&_0x5dddd6['__esModule']?_0x5dddd6:{'default':_0x5dddd6};_0x2b08ec[_0x1cd8('0xa')]=function(){esmap[_0x1cd8('0x3b')][_0x1cd8('0xdd2')]=function(_0x58ea9c,_0x2b08ec,_0x5dddd6,_0x56f8e8){if(!_0x5dddd6&&_0x5dddd6['markerType'])_0x56f8e8([]);else{var _0x5233e0=[],_0x58ea9c=_0x58ea9c[_0x1cd8('0x506')](_0x2b08ec),_0x2b5759=!0x0,_0x2b08ec=!0x1,_0x4ada19=void 0x0;try{for(var _0x5d4bd1,_0x40cd0a=(0x0,_0x3a7560[_0x1cd8('0xa')])(_0x58ea9c[_0x1cd8('0x507')]);!(_0x2b5759=(_0x5d4bd1=_0x40cd0a[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x2b5759=!0x0){var _0xf05fa8=_0x5d4bd1[_0x1cd8('0xf')],_0x197c19=!0x0,_0x3b9bd5=!0x1,_0x971b4a=void 0x0;try{for(var _0x16fdd5,_0x49e527=(0x0,_0x3a7560[_0x1cd8('0xa')])(_0xf05fa8[_0x1cd8('0x315')]);!(_0x197c19=(_0x16fdd5=_0x49e527[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x197c19=!0x0){var _0x5125b2=_0x16fdd5['value'];_0x5125b2[_0x1cd8('0x59e')]===_0x5dddd6[_0x1cd8('0x59e')]&&(_0x5dddd6[_0x1cd8('0xdd3')]?Array['isArray'](_0x5dddd6[_0x1cd8('0xdd3')])&&0x0<_0x5dddd6[_0x1cd8('0xdd3')][_0x1cd8('0xc')]?0x0<=_0x5dddd6[_0x1cd8('0xdd3')][_0x1cd8('0x50')](_0x5125b2['name'])&&_0x5233e0[_0x1cd8('0x70')](_0x5125b2):_0x5dddd6[_0x1cd8('0xdd3')]===_0x5125b2[_0x1cd8('0x7f')]&&_0x5233e0[_0x1cd8('0x70')](_0x5125b2):_0x5233e0[_0x1cd8('0x70')](_0x5125b2));}}catch(_0x45a4f5){_0x3b9bd5=!0x0,_0x971b4a=_0x45a4f5;}finally{try{!_0x197c19&&_0x49e527[_0x1cd8('0xa1')]&&_0x49e527[_0x1cd8('0xa1')]();}finally{if(_0x3b9bd5)throw _0x971b4a;}}}}catch(_0x3258cb){_0x2b08ec=!0x0,_0x4ada19=_0x3258cb;}finally{try{!_0x2b5759&&_0x40cd0a[_0x1cd8('0xa1')]&&_0x40cd0a[_0x1cd8('0xa1')]();}finally{if(_0x2b08ec)throw _0x4ada19;}}_0x56f8e8(_0x5233e0);}},esmap['ES3DMarker'][_0x1cd8('0xdd4')]['prototype'][_0x1cd8('0xdd5')]=function(_0x58ea9c){esmap[_0x1cd8('0x53')]['screenEffect'][_0x1cd8('0x928')](this[_0x1cd8('0x509')],_0x58ea9c);},esmap['ES3DMarker']['ESModel3D'][_0x1cd8('0x11')][_0x1cd8('0xdd6')]=function(){esmap['ESEffectTool'][_0x1cd8('0x4ff')][_0x1cd8('0x929')](this[_0x1cd8('0x509')]);},esmap['ES3DMarker'][_0x1cd8('0xdd4')][_0x1cd8('0x11')][_0x1cd8('0xdd7')]=function(_0x31bab7){this[_0x1cd8('0x509')][_0x1cd8('0x7c7')](function(_0x58ea9c){if(_0x1cd8('0x30c')===_0x58ea9c[_0x1cd8('0x101')])if(0x0<_0x58ea9c[_0x1cd8('0x47')]['length']){var _0x2b08ec=!0x0,_0x5dddd6=!0x1,_0x2ddaf0=void 0x0;try{for(var _0x17d1b0,_0x222a6d=(0x0,_0x3a7560[_0x1cd8('0xa')])(mesh['material']);!(_0x2b08ec=(_0x17d1b0=_0x222a6d[_0x1cd8('0x7e')]())['done']);_0x2b08ec=!0x0){var _0x17a0fa=_0x17d1b0[_0x1cd8('0xf')];_0x17a0fa instanceof THREE[_0x1cd8('0x7c9')]&&(_0x17a0fa[_0x1cd8('0xdd8')]=!0x0,_0x17a0fa[_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x31bab7));}}catch(_0x39843a){_0x5dddd6=!0x0,_0x2ddaf0=_0x39843a;}finally{try{!_0x2b08ec&&_0x222a6d[_0x1cd8('0xa1')]&&_0x222a6d[_0x1cd8('0xa1')]();}finally{if(_0x5dddd6)throw _0x2ddaf0;}}}else _0x58ea9c[_0x1cd8('0x47')][_0x1cd8('0xdd8')]=!0x0,_0x58ea9c[_0x1cd8('0x47')][_0x1cd8('0x220')][_0x1cd8('0x2f5')](_0x31bab7);});},esmap[_0x1cd8('0xdd9')][_0x1cd8('0xdd4')][_0x1cd8('0x11')]['showBoatFoam']=function(_0x58ea9c){_0x58ea9c['id']=this['ID'],esmap[_0x1cd8('0x53')][_0x1cd8('0x4fb')][_0x1cd8('0xdda')](_0x58ea9c);},esmap[_0x1cd8('0xdd9')][_0x1cd8('0xdd4')][_0x1cd8('0x11')][_0x1cd8('0xddb')]=function(_0x58ea9c){_0x58ea9c['id']=this['ID'],esmap[_0x1cd8('0x53')]['models'][_0x1cd8('0xddb')](_0x58ea9c);},esmap[_0x1cd8('0xddc')][_0x1cd8('0x11')][_0x1cd8('0xdd5')]=function(){esmap['ESEffectTool'][_0x1cd8('0x4ff')][_0x1cd8('0x928')](this[_0x1cd8('0x509')]);},esmap['ESPolygonMarker'][_0x1cd8('0x11')][_0x1cd8('0xdd6')]=function(){esmap[_0x1cd8('0x53')][_0x1cd8('0x4ff')][_0x1cd8('0x929')](this[_0x1cd8('0x509')]);},esmap[_0x1cd8('0xddc')]['prototype'][_0x1cd8('0xddd')]=function(_0x58ea9c){this['o3d_'][_0x1cd8('0x315')]&&0x0<this[_0x1cd8('0x509')]['children'][_0x1cd8('0xc')]&&esmap['ESEffectTool']['screenEffect']['setObjectBloomLight'](this[_0x1cd8('0x509')]['children'][0x0]),this[_0x1cd8('0x7f4')]&&esmap[_0x1cd8('0x53')][_0x1cd8('0x4ff')][_0x1cd8('0x921')](this[_0x1cd8('0x509')],_0x58ea9c);},esmap[_0x1cd8('0xdde')][_0x1cd8('0x11')][_0x1cd8('0xddd')]=function(_0x58ea9c){var _0x2b08ec=!0x0,_0x5dddd6=!0x1,_0x1db519=void 0x0;try{for(var _0x5804fa,_0x530489=(0x0,_0x3a7560['default'])(this['o3d_'][_0x1cd8('0x315')]);!(_0x2b08ec=(_0x5804fa=_0x530489[_0x1cd8('0x7e')]())['done']);_0x2b08ec=!0x0){var _0x5388b4=_0x5804fa['value'];esmap[_0x1cd8('0x53')][_0x1cd8('0x4ff')][_0x1cd8('0x921')](_0x5388b4,_0x58ea9c);}}catch(_0x2394c3){_0x5dddd6=!0x0,_0x1db519=_0x2394c3;}finally{try{!_0x2b08ec&&_0x530489[_0x1cd8('0xa1')]&&_0x530489['return']();}finally{if(_0x5dddd6)throw _0x1db519;}}};};},function(_0x980fa,_0x323f3d,_0x27c54d){'use strict';Object['defineProperty'](_0x323f3d,'__esModule',{'value':!0x0});var _0x27c54d=_0x27c54d(0x4),_0x358d13=_0x27c54d&&_0x27c54d[_0x1cd8('0x6')]?_0x27c54d:{'default':_0x27c54d};_0x323f3d['default']=function(){esmap[_0x1cd8('0xddf')][_0x1cd8('0x11')][_0x1cd8('0xde0')]=function(_0x980fa){if(!_0x980fa)return[];if(!this['_effectLayers'])return[];var _0x323f3d=[],_0x27c54d=this[_0x1cd8('0x507')];if(Array[_0x1cd8('0x1b6')](_0x980fa)&&0x0<_0x980fa[_0x1cd8('0xc')]){var _0x50fc9a=!0x0,_0x4c100e=!0x1,_0x59ac8a=void 0x0;try{for(var _0x36018b,_0x528c04=(0x0,_0x358d13['default'])(_0x27c54d);!(_0x50fc9a=(_0x36018b=_0x528c04[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x50fc9a=!0x0){var _0x59e7d5=_0x36018b[_0x1cd8('0xf')];0x0<=_0x980fa[_0x1cd8('0x50')](_0x59e7d5['name'])&&_0x323f3d[_0x1cd8('0x70')](_0x59e7d5);}}catch(_0x567dfe){_0x4c100e=!0x0,_0x59ac8a=_0x567dfe;}finally{try{!_0x50fc9a&&_0x528c04[_0x1cd8('0xa1')]&&_0x528c04[_0x1cd8('0xa1')]();}finally{if(_0x4c100e)throw _0x59ac8a;}}}else{var _0x2247c8=!0x0,_0x4c100e=!0x1,_0x59ac8a=void 0x0;try{for(var _0x9d48ff,_0x15b79b=(0x0,_0x358d13[_0x1cd8('0xa')])(_0x27c54d);!(_0x2247c8=(_0x9d48ff=_0x15b79b[_0x1cd8('0x7e')]())[_0x1cd8('0x8e')]);_0x2247c8=!0x0){var _0x3b5983=_0x9d48ff[_0x1cd8('0xf')];_0x3b5983[_0x1cd8('0x7f')]===_0x980fa&&_0x323f3d[_0x1cd8('0x70')](_0x3b5983);}}catch(_0x4c51bc){_0x4c100e=!0x0,_0x59ac8a=_0x4c51bc;}finally{try{!_0x2247c8&&_0x15b79b[_0x1cd8('0xa1')]&&_0x15b79b[_0x1cd8('0xa1')]();}finally{if(_0x4c100e)throw _0x59ac8a;}}}return _0x323f3d;};};},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(_0x2cdfd4,_0x50f839,_0x1ad7e7){'use strict';var _0xc1d30d=_0x1ad7e7(0x184);window[_0x1cd8('0xde1')]=_0xc1d30d,_0x1ad7e7(0x186);},function(_0x118420,_0x3c7e08,_0xa286b3){'use strict';!function(_0x53673b){_0x17f6d4(_0xa286b3(0x2f));var _0x21f996,_0xcbcbb4=_0x17f6d4(_0xa286b3(0x1d)),_0x4fd9b1=_0x17f6d4(_0xa286b3(0x3e));function _0x17f6d4(_0x21f996){return _0x21f996&&_0x21f996['__esModule']?_0x21f996:{'default':_0x21f996};}function _0x5496c5(){this[_0x1cd8('0xde2')]={},this[_0x1cd8('0xde3')]={};}_0x5496c5[_0x1cd8('0x11')]={'getAll':function(){return(0x0,_0x4fd9b1[_0x1cd8('0xa')])(this[_0x1cd8('0xde2')])['map'](function(_0x21f996){return this[_0x1cd8('0xde2')][_0x21f996];}[_0x1cd8('0x9')](this));},'removeAll':function(){this[_0x1cd8('0xde2')]={};},'add':function(_0x21f996){this[_0x1cd8('0xde2')][_0x21f996['getId']()]=_0x21f996,this[_0x1cd8('0xde3')][_0x21f996[_0x1cd8('0xde4')]()]=_0x21f996;},'remove':function(_0x21f996){delete this[_0x1cd8('0xde2')][_0x21f996['getId']()],delete this['_tweensAddedDuringUpdate'][_0x21f996[_0x1cd8('0xde4')]()];},'update':function(_0x21f996,_0x53673b){var _0xcbcbb4=(0x0,_0x4fd9b1[_0x1cd8('0xa')])(this['_tweens']);if(0x0===_0xcbcbb4['length'])return!0x1;for(_0x21f996=void 0x0!==_0x21f996?_0x21f996:_0x3ee7f0[_0x1cd8('0x298')]();0x0<_0xcbcbb4[_0x1cd8('0xc')];){this[_0x1cd8('0xde3')]={};for(var _0x17f6d4=0x0;_0x17f6d4<_0xcbcbb4[_0x1cd8('0xc')];_0x17f6d4++){var _0x5496c5=this[_0x1cd8('0xde2')][_0xcbcbb4[_0x17f6d4]];_0x5496c5&&!0x1===_0x5496c5[_0x1cd8('0x2d3')](_0x21f996)&&(_0x5496c5[_0x1cd8('0xde5')]=!0x1,_0x53673b||delete this['_tweens'][_0xcbcbb4[_0x17f6d4]]);}_0xcbcbb4=(0x0,_0x4fd9b1['default'])(this[_0x1cd8('0xde3')]);}return!0x0;}};var _0x1517c6,_0x3ee7f0=new _0x5496c5();_0x3ee7f0[_0x1cd8('0x1cf')]=_0x5496c5,_0x3ee7f0[_0x1cd8('0xde6')]=0x0,_0x3ee7f0[_0x1cd8('0xde7')]=function(){return _0x3ee7f0[_0x1cd8('0xde6')]++;},_0x1cd8('0x2')==typeof self&&void 0x0!==_0x53673b&&_0x53673b[_0x1cd8('0xde8')]?_0x3ee7f0['now']=function(){var _0x21f996=_0x53673b[_0x1cd8('0xde8')]();return 0x3e8*_0x21f996[0x0]+_0x21f996[0x1]/0xf4240;}:'undefined'!=typeof self&&void 0x0!==self['performance']&&void 0x0!==self[_0x1cd8('0xde9')][_0x1cd8('0x298')]?_0x3ee7f0['now']=self['performance'][_0x1cd8('0x298')][_0x1cd8('0x9')](self[_0x1cd8('0xde9')]):void 0x0!==Date[_0x1cd8('0x298')]?_0x3ee7f0[_0x1cd8('0x298')]=Date['now']:_0x3ee7f0[_0x1cd8('0x298')]=function(){return new Date()['getTime']();},_0x3ee7f0[_0x1cd8('0x2cd')]=function(_0x21f996,_0x53673b){this['_object']=_0x21f996,this[_0x1cd8('0xdea')]={},this[_0x1cd8('0xdeb')]={},this['_valuesStartRepeat']={},this[_0x1cd8('0xdec')]=0x3e8,this[_0x1cd8('0xded')]=0x0,this['_repeatDelayTime']=void 0x0,this[_0x1cd8('0xdee')]=!0x1,this['_isPlaying']=!0x1,this[_0x1cd8('0xdef')]=!0x1,this['_delayTime']=0x0,this['_startTime']=null,this[_0x1cd8('0xdf0')]=_0x3ee7f0[_0x1cd8('0x2cf')][_0x1cd8('0x3fd')][_0x1cd8('0x3fe')],this[_0x1cd8('0xdf1')]=_0x3ee7f0['Interpolation'][_0x1cd8('0x3fd')],this[_0x1cd8('0xdf2')]=[],this[_0x1cd8('0xdf3')]=null,this['_onStartCallbackFired']=!0x1,this['_onUpdateCallback']=null,this['_onRepeatCallback']=null,this[_0x1cd8('0xdf4')]=null,this[_0x1cd8('0xdf5')]=null,this[_0x1cd8('0xdf6')]=_0x53673b||_0x3ee7f0,this[_0x1cd8('0x9d9')]=_0x3ee7f0['nextId']();},_0x3ee7f0[_0x1cd8('0x2cd')]['prototype']={'getId':function(){return this['_id'];},'isPlaying':function(){return this[_0x1cd8('0xde5')];},'to':function(_0x21f996,_0x53673b){return this[_0x1cd8('0xdeb')]=(0x0,_0xcbcbb4[_0x1cd8('0xa')])(_0x21f996),void 0x0!==_0x53673b&&(this['_duration']=_0x53673b),this;},'duration':function(_0x21f996){return this[_0x1cd8('0xdec')]=_0x21f996,this;},'start':function(_0x21f996){for(var _0x53673b in this['_group'][_0x1cd8('0x1cd')](this),this[_0x1cd8('0xde5')]=!0x0,this['_onStartCallbackFired']=!0x1,this[_0x1cd8('0xdf7')]=void 0x0!==_0x21f996?_0x1cd8('0x8')==typeof _0x21f996?_0x3ee7f0['now']()+parseFloat(_0x21f996):_0x21f996:_0x3ee7f0['now'](),this[_0x1cd8('0xdf7')]+=this[_0x1cd8('0xdf8')],this[_0x1cd8('0xdeb')]){if(this[_0x1cd8('0xdeb')][_0x53673b]instanceof Array){if(0x0===this[_0x1cd8('0xdeb')][_0x53673b]['length'])continue;this['_valuesEnd'][_0x53673b]=[this['_object'][_0x53673b]][_0x1cd8('0x22')](this[_0x1cd8('0xdeb')][_0x53673b]);}void 0x0!==this[_0x1cd8('0xdf9')][_0x53673b]&&(this[_0x1cd8('0xdea')][_0x53673b]=this['_object'][_0x53673b],this[_0x1cd8('0xdea')][_0x53673b]instanceof Array==0x0&&(this['_valuesStart'][_0x53673b]*=0x1),this[_0x1cd8('0xdfa')][_0x53673b]=this[_0x1cd8('0xdea')][_0x53673b]||0x0);}return this;},'stop':function(){return this[_0x1cd8('0xde5')]&&(this[_0x1cd8('0xdf6')][_0x1cd8('0xe1')](this),this[_0x1cd8('0xde5')]=!0x1,null!==this[_0x1cd8('0xdf5')]&&this['_onStopCallback'](this[_0x1cd8('0xdf9')]),this['stopChainedTweens']()),this;},'end':function(){return this[_0x1cd8('0x2d3')](0x1/0x0),this;},'stopChainedTweens':function(){for(var _0x21f996=0x0,_0x53673b=this[_0x1cd8('0xdf2')][_0x1cd8('0xc')];_0x21f996<_0x53673b;_0x21f996++)this[_0x1cd8('0xdf2')][_0x21f996]['stop']();},'group':function(_0x21f996){return this[_0x1cd8('0xdf6')]=_0x21f996,this;},'delay':function(_0x21f996){return this[_0x1cd8('0xdf8')]=_0x21f996,this;},'repeat':function(_0x21f996){return this['_repeat']=_0x21f996,this;},'repeatDelay':function(_0x21f996){return this['_repeatDelayTime']=_0x21f996,this;},'yoyo':function(_0x21f996){return this[_0x1cd8('0xdee')]=_0x21f996,this;},'easing':function(_0x21f996){return this[_0x1cd8('0xdf0')]=_0x21f996,this;},'interpolation':function(_0x21f996){return this[_0x1cd8('0xdf1')]=_0x21f996,this;},'chain':function(){return this['_chainedTweens']=arguments,this;},'onStart':function(_0x21f996){return this[_0x1cd8('0xdf3')]=_0x21f996,this;},'onUpdate':function(_0x21f996){return this['_onUpdateCallback']=_0x21f996,this;},'onRepeat':function(_0x21f996){return this[_0x1cd8('0xdfb')]=_0x21f996,this;},'onComplete':function(_0x21f996){return this[_0x1cd8('0xdf4')]=_0x21f996,this;},'onStop':function(_0x21f996){return this['_onStopCallback']=_0x21f996,this;},'update':function(_0x21f996){var _0x53673b,_0xcbcbb4,_0x17f6d4,_0x5496c5,_0x4fd9b1,_0x1517c6;if(_0x21f996<this[_0x1cd8('0xdf7')])return!0x0;for(_0x53673b in!0x1===this['_onStartCallbackFired']&&(null!==this[_0x1cd8('0xdf3')]&&this[_0x1cd8('0xdf3')](this[_0x1cd8('0xdf9')]),this[_0x1cd8('0xdfc')]=!0x0),_0xcbcbb4=(_0x21f996-this[_0x1cd8('0xdf7')])/this[_0x1cd8('0xdec')],_0xcbcbb4=0x0===this[_0x1cd8('0xdec')]||0x1<_0xcbcbb4?0x1:_0xcbcbb4,_0x17f6d4=this[_0x1cd8('0xdf0')](_0xcbcbb4),this[_0x1cd8('0xdeb')])void 0x0!==this[_0x1cd8('0xdea')][_0x53673b]&&(_0x5496c5=this['_valuesStart'][_0x53673b]||0x0,(_0x4fd9b1=this['_valuesEnd'][_0x53673b])instanceof Array?this[_0x1cd8('0xdf9')][_0x53673b]=this['_interpolationFunction'](_0x4fd9b1,_0x17f6d4):_0x1cd8('0x17')==typeof(_0x4fd9b1=_0x1cd8('0x8')==typeof _0x4fd9b1?'+'===_0x4fd9b1['charAt'](0x0)||'-'===_0x4fd9b1['charAt'](0x0)?_0x5496c5+parseFloat(_0x4fd9b1):parseFloat(_0x4fd9b1):_0x4fd9b1)&&(this['_object'][_0x53673b]=_0x5496c5+(_0x4fd9b1-_0x5496c5)*_0x17f6d4));if(null!==this['_onUpdateCallback']&&this[_0x1cd8('0xdfd')](this['_object'],_0xcbcbb4),0x1!==_0xcbcbb4)return!0x0;if(0x0<this[_0x1cd8('0xded')]){for(_0x53673b in isFinite(this[_0x1cd8('0xded')])&&this[_0x1cd8('0xded')]--,this[_0x1cd8('0xdfa')])'string'==typeof this[_0x1cd8('0xdeb')][_0x53673b]&&(this['_valuesStartRepeat'][_0x53673b]=this['_valuesStartRepeat'][_0x53673b]+parseFloat(this[_0x1cd8('0xdeb')][_0x53673b])),this[_0x1cd8('0xdee')]&&(_0x1517c6=this[_0x1cd8('0xdfa')][_0x53673b],this['_valuesStartRepeat'][_0x53673b]=this['_valuesEnd'][_0x53673b],this[_0x1cd8('0xdeb')][_0x53673b]=_0x1517c6),this[_0x1cd8('0xdea')][_0x53673b]=this['_valuesStartRepeat'][_0x53673b];return this[_0x1cd8('0xdee')]&&(this[_0x1cd8('0xdef')]=!this['_reversed']),void 0x0!==this['_repeatDelayTime']?this[_0x1cd8('0xdf7')]=_0x21f996+this[_0x1cd8('0xdfe')]:this['_startTime']=_0x21f996+this['_delayTime'],null!==this[_0x1cd8('0xdfb')]&&this[_0x1cd8('0xdfb')](this[_0x1cd8('0xdf9')]),!0x0;}null!==this[_0x1cd8('0xdf4')]&&this['_onCompleteCallback'](this[_0x1cd8('0xdf9')]);for(var _0x3ee7f0=0x0,_0x118420=this[_0x1cd8('0xdf2')][_0x1cd8('0xc')];_0x3ee7f0<_0x118420;_0x3ee7f0++)this[_0x1cd8('0xdf2')][_0x3ee7f0][_0x1cd8('0x2d1')](this['_startTime']+this['_duration']);return!0x1;}},_0x3ee7f0[_0x1cd8('0x2cf')]={'Linear':{'None':function(_0x21f996){return _0x21f996;}},'Quadratic':{'In':function(_0x21f996){return _0x21f996*_0x21f996;},'Out':function(_0x21f996){return _0x21f996*(0x2-_0x21f996);},'InOut':function(_0x21f996){return(_0x21f996*=0x2)<0x1?0.5*_0x21f996*_0x21f996:-0.5*(--_0x21f996*(_0x21f996-0x2)-0x1);}},'Cubic':{'In':function(_0x21f996){return _0x21f996*_0x21f996*_0x21f996;},'Out':function(_0x21f996){return--_0x21f996*_0x21f996*_0x21f996+0x1;},'InOut':function(_0x21f996){return(_0x21f996*=0x2)<0x1?0.5*_0x21f996*_0x21f996*_0x21f996:0.5*((_0x21f996-=0x2)*_0x21f996*_0x21f996+0x2);}},'Quartic':{'In':function(_0x21f996){return _0x21f996*_0x21f996*_0x21f996*_0x21f996;},'Out':function(_0x21f996){return 0x1- --_0x21f996*_0x21f996*_0x21f996*_0x21f996;},'InOut':function(_0x21f996){return(_0x21f996*=0x2)<0x1?0.5*_0x21f996*_0x21f996*_0x21f996*_0x21f996:-0.5*((_0x21f996-=0x2)*_0x21f996*_0x21f996*_0x21f996-0x2);}},'Quintic':{'In':function(_0x21f996){return _0x21f996*_0x21f996*_0x21f996*_0x21f996*_0x21f996;},'Out':function(_0x21f996){return--_0x21f996*_0x21f996*_0x21f996*_0x21f996*_0x21f996+0x1;},'InOut':function(_0x21f996){return(_0x21f996*=0x2)<0x1?0.5*_0x21f996*_0x21f996*_0x21f996*_0x21f996*_0x21f996:0.5*((_0x21f996-=0x2)*_0x21f996*_0x21f996*_0x21f996*_0x21f996+0x2);}},'Sinusoidal':{'In':function(_0x21f996){return 0x1-Math[_0x1cd8('0x59')](_0x21f996*Math['PI']/0x2);},'Out':function(_0x21f996){return Math[_0x1cd8('0x58')](_0x21f996*Math['PI']/0x2);},'InOut':function(_0x21f996){return 0.5*(0x1-Math[_0x1cd8('0x59')](Math['PI']*_0x21f996));}},'Exponential':{'In':function(_0x21f996){return 0x0===_0x21f996?0x0:Math['pow'](0x400,_0x21f996-0x1);},'Out':function(_0x21f996){return 0x1===_0x21f996?0x1:0x1-Math[_0x1cd8('0x308')](0x2,-0xa*_0x21f996);},'InOut':function(_0x21f996){return 0x0===_0x21f996?0x0:0x1===_0x21f996?0x1:(_0x21f996*=0x2)<0x1?0.5*Math[_0x1cd8('0x308')](0x400,_0x21f996-0x1):0.5*(0x2-Math[_0x1cd8('0x308')](0x2,-0xa*(_0x21f996-0x1)));}},'Circular':{'In':function(_0x21f996){return 0x1-Math[_0x1cd8('0x1c8')](0x1-_0x21f996*_0x21f996);},'Out':function(_0x21f996){return Math[_0x1cd8('0x1c8')](0x1- --_0x21f996*_0x21f996);},'InOut':function(_0x21f996){return(_0x21f996*=0x2)<0x1?-0.5*(Math[_0x1cd8('0x1c8')](0x1-_0x21f996*_0x21f996)-0x1):0.5*(Math[_0x1cd8('0x1c8')](0x1-(_0x21f996-=0x2)*_0x21f996)+0x1);}},'Elastic':{'In':function(_0x21f996){return 0x0===_0x21f996?0x0:0x1===_0x21f996?0x1:-Math[_0x1cd8('0x308')](0x2,0xa*(_0x21f996-0x1))*Math[_0x1cd8('0x58')](0x5*(_0x21f996-1.1)*Math['PI']);},'Out':function(_0x21f996){return 0x0===_0x21f996?0x0:0x1===_0x21f996?0x1:Math[_0x1cd8('0x308')](0x2,-0xa*_0x21f996)*Math['sin'](0x5*(_0x21f996-0.1)*Math['PI'])+0x1;},'InOut':function(_0x21f996){return 0x0===_0x21f996?0x0:0x1===_0x21f996?0x1:(_0x21f996*=0x2)<0x1?-0.5*Math[_0x1cd8('0x308')](0x2,0xa*(_0x21f996-0x1))*Math['sin'](0x5*(_0x21f996-1.1)*Math['PI']):0.5*Math[_0x1cd8('0x308')](0x2,-0xa*(_0x21f996-0x1))*Math[_0x1cd8('0x58')](0x5*(_0x21f996-1.1)*Math['PI'])+0x1;}},'Back':{'In':function(_0x21f996){return _0x21f996*_0x21f996*(2.70158*_0x21f996-1.70158);},'Out':function(_0x21f996){return--_0x21f996*_0x21f996*(2.70158*_0x21f996+1.70158)+0x1;},'InOut':function(_0x21f996){var _0x53673b=2.5949095;return(_0x21f996*=0x2)<0x1?_0x21f996*_0x21f996*((0x1+_0x53673b)*_0x21f996-_0x53673b)*0.5:0.5*((_0x21f996-=0x2)*_0x21f996*((0x1+_0x53673b)*_0x21f996+_0x53673b)+0x2);}},'Bounce':{'In':function(_0x21f996){return 0x1-_0x3ee7f0[_0x1cd8('0x2cf')][_0x1cd8('0xdff')][_0x1cd8('0x2d8')](0x1-_0x21f996);},'Out':function(_0x21f996){return _0x21f996<0x1/2.75?7.5625*_0x21f996*_0x21f996:_0x21f996<0x2/2.75?7.5625*(_0x21f996-=1.5/2.75)*_0x21f996+0.75:_0x21f996<2.5/2.75?7.5625*(_0x21f996-=2.25/2.75)*_0x21f996+0.9375:7.5625*(_0x21f996-=2.625/2.75)*_0x21f996+0.984375;},'InOut':function(_0x21f996){return _0x21f996<0.5?0.5*_0x3ee7f0['Easing'][_0x1cd8('0xdff')]['In'](0x2*_0x21f996):0.5*_0x3ee7f0['Easing']['Bounce'][_0x1cd8('0x2d8')](0x2*_0x21f996-0x1)+0.5;}}},_0x3ee7f0[_0x1cd8('0xe00')]={'Linear':function(_0x21f996,_0x53673b){var _0xcbcbb4=_0x21f996[_0x1cd8('0xc')]-0x1,_0x17f6d4=_0xcbcbb4*_0x53673b,_0x5496c5=Math[_0x1cd8('0x6d')](_0x17f6d4),_0x4fd9b1=_0x3ee7f0['Interpolation'][_0x1cd8('0xe01')][_0x1cd8('0x3fd')];return _0x53673b<0x0?_0x4fd9b1(_0x21f996[0x0],_0x21f996[0x1],_0x17f6d4):0x1<_0x53673b?_0x4fd9b1(_0x21f996[_0xcbcbb4],_0x21f996[_0xcbcbb4-0x1],_0xcbcbb4-_0x17f6d4):_0x4fd9b1(_0x21f996[_0x5496c5],_0x21f996[_0xcbcbb4<_0x5496c5+0x1?_0xcbcbb4:_0x5496c5+0x1],_0x17f6d4-_0x5496c5);},'Bezier':function(_0x21f996,_0x53673b){for(var _0xcbcbb4=0x0,_0x17f6d4=_0x21f996[_0x1cd8('0xc')]-0x1,_0x5496c5=Math[_0x1cd8('0x308')],_0x4fd9b1=_0x3ee7f0['Interpolation']['Utils'][_0x1cd8('0xe02')],_0x1517c6=0x0;_0x1517c6<=_0x17f6d4;_0x1517c6++)_0xcbcbb4+=_0x5496c5(0x1-_0x53673b,_0x17f6d4-_0x1517c6)*_0x5496c5(_0x53673b,_0x1517c6)*_0x21f996[_0x1517c6]*_0x4fd9b1(_0x17f6d4,_0x1517c6);return _0xcbcbb4;},'CatmullRom':function(_0x21f996,_0x53673b){var _0xcbcbb4=_0x21f996[_0x1cd8('0xc')]-0x1,_0x17f6d4=_0xcbcbb4*_0x53673b,_0x5496c5=Math[_0x1cd8('0x6d')](_0x17f6d4),_0x4fd9b1=_0x3ee7f0[_0x1cd8('0xe00')][_0x1cd8('0xe01')][_0x1cd8('0xe03')];return _0x21f996[0x0]===_0x21f996[_0xcbcbb4]?_0x4fd9b1(_0x21f996[((_0x5496c5=_0x53673b<0x0?Math[_0x1cd8('0x6d')](_0x17f6d4=_0xcbcbb4*(0x1+_0x53673b)):_0x5496c5)-0x1+_0xcbcbb4)%_0xcbcbb4],_0x21f996[_0x5496c5],_0x21f996[(_0x5496c5+0x1)%_0xcbcbb4],_0x21f996[(_0x5496c5+0x2)%_0xcbcbb4],_0x17f6d4-_0x5496c5):_0x53673b<0x0?_0x21f996[0x0]-(_0x4fd9b1(_0x21f996[0x0],_0x21f996[0x0],_0x21f996[0x1],_0x21f996[0x1],-_0x17f6d4)-_0x21f996[0x0]):0x1<_0x53673b?_0x21f996[_0xcbcbb4]-(_0x4fd9b1(_0x21f996[_0xcbcbb4],_0x21f996[_0xcbcbb4],_0x21f996[_0xcbcbb4-0x1],_0x21f996[_0xcbcbb4-0x1],_0x17f6d4-_0xcbcbb4)-_0x21f996[_0xcbcbb4]):_0x4fd9b1(_0x21f996[_0x5496c5?_0x5496c5-0x1:0x0],_0x21f996[_0x5496c5],_0x21f996[_0xcbcbb4<_0x5496c5+0x1?_0xcbcbb4:_0x5496c5+0x1],_0x21f996[_0xcbcbb4<_0x5496c5+0x2?_0xcbcbb4:_0x5496c5+0x2],_0x17f6d4-_0x5496c5);},'Utils':{'Linear':function(_0x21f996,_0x53673b,_0xcbcbb4){return(_0x53673b-_0x21f996)*_0xcbcbb4+_0x21f996;},'Bernstein':function(_0x21f996,_0x53673b){var _0xcbcbb4=_0x3ee7f0[_0x1cd8('0xe00')][_0x1cd8('0xe01')]['Factorial'];return _0xcbcbb4(_0x21f996)/_0xcbcbb4(_0x53673b)/_0xcbcbb4(_0x21f996-_0x53673b);},'Factorial':(_0x1517c6=[0x1],function(_0x21f996){var _0x53673b=0x1;if(_0x1517c6[_0x21f996])return _0x1517c6[_0x21f996];for(var _0xcbcbb4=_0x21f996;0x1<_0xcbcbb4;_0xcbcbb4--)_0x53673b*=_0xcbcbb4;return _0x1517c6[_0x21f996]=_0x53673b;}),'CatmullRom':function(_0x21f996,_0x53673b,_0xcbcbb4,_0x17f6d4,_0x5496c5){var _0x21f996=0.5*(_0xcbcbb4-_0x21f996),_0x17f6d4=0.5*(_0x17f6d4-_0x53673b),_0x4fd9b1=_0x5496c5*_0x5496c5;return _0x5496c5*_0x4fd9b1*(0x2*_0x53673b-0x2*_0xcbcbb4+_0x21f996+_0x17f6d4)+(-0x3*_0x53673b+0x3*_0xcbcbb4-0x2*_0x21f996-_0x17f6d4)*_0x4fd9b1+_0x21f996*_0x5496c5+_0x53673b;}}},void 0x0!==(_0x21f996=function(){return _0x3ee7f0;}[_0x1cd8('0x13')](_0x3c7e08,[]))&&(_0x118420['exports']=_0x21f996);}[_0x1cd8('0x1')](this,_0xa286b3(0x185));},function(_0x6fdf15,_0x4cb83a){var _0x1ed80b,_0x3bf5ee,_0x6fdf15=_0x6fdf15[_0x1cd8('0x0')]={};function _0x341204(){throw new Error('setTimeout\x20has\x20not\x20been\x20defined');}function _0x42ae5c(){throw new Error('clearTimeout\x20has\x20not\x20been\x20defined');}try{_0x1ed80b=_0x1cd8('0x12')==typeof setTimeout?setTimeout:_0x341204;}catch(_0x3bd8ac){_0x1ed80b=_0x341204;}try{_0x3bf5ee=_0x1cd8('0x12')==typeof clearTimeout?clearTimeout:_0x42ae5c;}catch(_0x433f58){_0x3bf5ee=_0x42ae5c;}function _0x49821c(_0x4cb83a){if(_0x1ed80b===setTimeout)return setTimeout(_0x4cb83a,0x0);if((_0x1ed80b===_0x341204||!_0x1ed80b)&&setTimeout)return(_0x1ed80b=setTimeout)(_0x4cb83a,0x0);try{return _0x1ed80b(_0x4cb83a,0x0);}catch(_0x4db442){try{return _0x1ed80b[_0x1cd8('0x1')](null,_0x4cb83a,0x0);}catch(_0x490808){return _0x1ed80b[_0x1cd8('0x1')](this,_0x4cb83a,0x0);}}}var _0x58b613,_0x1e1437=[],_0x482857=!0x1,_0x5661c1=-0x1;function _0x547f4f(){_0x482857&&_0x58b613&&(_0x482857=!0x1,_0x58b613[_0x1cd8('0xc')]?_0x1e1437=_0x58b613[_0x1cd8('0x22')](_0x1e1437):_0x5661c1=-0x1,_0x1e1437[_0x1cd8('0xc')]&&_0x15c587());}function _0x15c587(){if(!_0x482857){for(var _0x6fdf15=_0x49821c(_0x547f4f),_0x4cb83a=(_0x482857=!0x0,_0x1e1437[_0x1cd8('0xc')]);_0x4cb83a;){for(_0x58b613=_0x1e1437,_0x1e1437=[];++_0x5661c1<_0x4cb83a;)_0x58b613&&_0x58b613[_0x5661c1][_0x1cd8('0xe04')]();_0x5661c1=-0x1,_0x4cb83a=_0x1e1437['length'];}_0x58b613=null,_0x482857=!0x1,function(_0x4cb83a){if(_0x3bf5ee===clearTimeout)return clearTimeout(_0x4cb83a);if((_0x3bf5ee===_0x42ae5c||!_0x3bf5ee)&&clearTimeout)return(_0x3bf5ee=clearTimeout)(_0x4cb83a);try{_0x3bf5ee(_0x4cb83a);}catch(_0x1ad5b3){try{return _0x3bf5ee['call'](null,_0x4cb83a);}catch(_0x4471a2){return _0x3bf5ee[_0x1cd8('0x1')](this,_0x4cb83a);}}}(_0x6fdf15);}}function _0x3b11e6(_0x6fdf15,_0x4cb83a){this[_0x1cd8('0xe05')]=_0x6fdf15,this[_0x1cd8('0xed')]=_0x4cb83a;}function _0x46ce8a(){}_0x6fdf15[_0x1cd8('0x297')]=function(_0x6fdf15){var _0x4cb83a=new Array(arguments[_0x1cd8('0xc')]-0x1);if(0x1<arguments[_0x1cd8('0xc')])for(var _0x1ed80b=0x1;_0x1ed80b<arguments[_0x1cd8('0xc')];_0x1ed80b++)_0x4cb83a[_0x1ed80b-0x1]=arguments[_0x1ed80b];_0x1e1437[_0x1cd8('0x70')](new _0x3b11e6(_0x6fdf15,_0x4cb83a)),0x1!==_0x1e1437[_0x1cd8('0xc')]||_0x482857||_0x49821c(_0x15c587);},_0x3b11e6['prototype'][_0x1cd8('0xe04')]=function(){this[_0x1cd8('0xe05')]['apply'](null,this[_0x1cd8('0xed')]);},_0x6fdf15[_0x1cd8('0xe06')]='browser',_0x6fdf15[_0x1cd8('0xe07')]=!0x0,_0x6fdf15['env']={},_0x6fdf15[_0x1cd8('0xe08')]=[],_0x6fdf15[_0x1cd8('0x71')]='',_0x6fdf15[_0x1cd8('0x6f')]={},_0x6fdf15['on']=_0x46ce8a,_0x6fdf15[_0x1cd8('0xe09')]=_0x46ce8a,_0x6fdf15[_0x1cd8('0xe0a')]=_0x46ce8a,_0x6fdf15[_0x1cd8('0xd6c')]=_0x46ce8a,_0x6fdf15[_0x1cd8('0xe0b')]=_0x46ce8a,_0x6fdf15[_0x1cd8('0xe0c')]=_0x46ce8a,_0x6fdf15[_0x1cd8('0x353')]=_0x46ce8a,_0x6fdf15[_0x1cd8('0xe0d')]=_0x46ce8a,_0x6fdf15['prependOnceListener']=_0x46ce8a,_0x6fdf15['listeners']=function(_0x6fdf15){return[];},_0x6fdf15[_0x1cd8('0xe0e')]=function(_0x6fdf15){throw new Error(_0x1cd8('0xe0f'));},_0x6fdf15[_0x1cd8('0xe10')]=function(){return'/';},_0x6fdf15[_0x1cd8('0xe11')]=function(_0x6fdf15){throw new Error(_0x1cd8('0xe12'));},_0x6fdf15[_0x1cd8('0xe13')]=function(){return 0x0;};},function(_0x38bf23,_0x2fa576,_0x25bed5){'use strict';if(_0x25bed5(0xcc),_0x25bed5(0x187),!esmap)throw new Error(_0x1cd8('0x4f1'));},function(_0x29a06a,_0x89a362,_0x3fb06a){'use strict';var _0x17ad3b=_0x1f94fe(_0x3fb06a(0x2f)),_0x324918=_0x1f94fe(_0x3fb06a(0x39)),_0x344a98=_0x1f94fe(_0x3fb06a(0x4)),_0x297d31=_0x1f94fe(_0x3fb06a(0xf)),_0x467b5e=function(_0x29a06a){if(_0x29a06a&&_0x29a06a[_0x1cd8('0x6')])return _0x29a06a;var _0x89a362={};if(null!=_0x29a06a)for(var _0x3fb06a in _0x29a06a)Object[_0x1cd8('0x11')][_0x1cd8('0x1e')][_0x1cd8('0x1')](_0x29a06a,_0x3fb06a)&&(_0x89a362[_0x3fb06a]=_0x29a06a[_0x3fb06a]);return _0x89a362[_0x1cd8('0xa')]=_0x29a06a,_0x89a362;}(_0x3fb06a(0x41)),_0x260ad1=_0x1f94fe(_0x3fb06a(0x188)),_0x204bcb=_0x3fb06a(0x189),_0x5c5ca3=_0x3fb06a(0x1a);function _0x1f94fe(_0x29a06a){return _0x29a06a&&_0x29a06a[_0x1cd8('0x6')]?_0x29a06a:{'default':_0x29a06a};}var _0x3e68ad,_0x28b0e7,_0x5cfd0c,_0x2ae9bd,_0x407be1,_0x1add05,_0x1e4a4a,_0x21fe63,_0x3bcf29,_0x44ed1b,_0x410db3,_0x22c2d1,_0x57308d,_0xfe64e={};function _0xa18002(_0x297d31){_0x5cfd0c=_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0xe14')]||_0x1cd8('0xe15'),!_0x297d31[_0x1cd8('0xe16')]&&_0x3e68ad[_0x1cd8('0x8e0')][_0x1cd8('0xe17')]&&(_0x297d31[_0x1cd8('0xe16')]=_0x3e68ad[_0x1cd8('0x8e0')][_0x1cd8('0xe17')][0x0]),_0x297d31['tileUrl']&&-0x1<_0x297d31[_0x1cd8('0xe16')][_0x1cd8('0x50')]('|')&&((_0x29a06a=function(){for(var _0x29a06a={},_0x89a362=_0x297d31[_0x1cd8('0xe16')][_0x1cd8('0x87')]('|'),_0x3fb06a=0x1;_0x3fb06a<_0x89a362[_0x1cd8('0xc')];_0x3fb06a++){var _0x17ad3b=_0x89a362[_0x3fb06a][_0x1cd8('0x87')]('=');_0x29a06a[_0x17ad3b[0x0]]=_0x17ad3b[0x1];}return _0x29a06a;}())[_0x1cd8('0xe18')]&&(_0x297d31[_0x1cd8('0xe19')]=+_0x29a06a[_0x1cd8('0xe18')]),_0x29a06a[_0x1cd8('0xe1a')]&&(_0x297d31[_0x1cd8('0xe1b')]=+_0x29a06a[_0x1cd8('0xe1a')]),_0x29a06a[_0x1cd8('0xe1c')]&&(_0x29a06a['levelExtent']=JSON[_0x1cd8('0x2a4')](_0x29a06a[_0x1cd8('0xe1c')])),_0x29a06a[_0x1cd8('0xe1c')]&&(_0x297d31[_0x1cd8('0xe1d')]={'min':_0x29a06a[_0x1cd8('0xe1c')][0x0],'max':_0x29a06a[_0x1cd8('0xe1c')][0x1]}),_0x297d31[_0x1cd8('0xe16')]=_0x297d31[_0x1cd8('0xe16')][_0x1cd8('0x87')]('|')[0x0]),_0x297d31[_0x1cd8('0xe19')]&&(esmap[_0x1cd8('0xe1e')]['tileSourceLevelOffset']=_0x297d31[_0x1cd8('0xe19')]);var _0x89a362,_0x3fb06a,_0x17ad3b,_0x29a06a=esmap[_0x1cd8('0x3b')][_0x1cd8('0xe1f')](),_0x260ad1={'tileUrl':_0x297d31['tileUrl'],'tileTheme':_0x297d31[_0x1cd8('0xe20')],'isShowWater':_0x297d31[_0x1cd8('0x3ca')],'isShowTileSourceLicense':_0x297d31['isShowTileSourceLicense'],'isOpenControllerInertia':_0x297d31[_0x1cd8('0xe21')],'tileSourceMaxLevel':_0x297d31[_0x1cd8('0xe1b')],'tileSourceZoom':_0x297d31[_0x1cd8('0xe1d')],'tileSourceLevelOffset':_0x297d31[_0x1cd8('0xe19')]},_0x1f94fe=_0x260ad1[_0x1cd8('0xe16')],_0x21fe63=_0x260ad1[_0x1cd8('0x3ca')],_0x44ed1b=_0x260ad1[_0x1cd8('0xe22')],_0x344a98=_0x260ad1[_0x1cd8('0xe21')],_0xa18002=_0x260ad1[_0x1cd8('0xe1b')],_0x260ad1=_0x260ad1[_0x1cd8('0xe23')],_0x1f9759=new ESTileMap[(_0x1cd8('0xe24'))]('EPSG:3857',-20037508.342789244,20037508.342789244,-20037508.342789244,20037508.342789244),_0x5a24ab=_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0x32f')],_0x3e6d01=_0x204bcb[_0x1cd8('0xe25')],_0x5a24ab=(_0x21fe63&&(_0x2ae9bd=new _0x467b5e[(_0x1cd8('0xd0'))]({'isShowWater':!0x0,'originColor':_0x3e6d01[_0x1cd8('0xe26')],'replaceColor':_0x3e6d01['waterReplaceColor']}),_0x3e6d01[_0x1cd8('0xe27')]=new THREE['TextureLoader']()['load'](_0x204bcb[_0x1cd8('0xe25')][_0x1cd8('0xe28')])),(_0x28b0e7=new ESTileMap[(_0x1cd8('0xe29'))](_0x5a24ab,_0x1f9759,{'scene3D':_0x3e68ad[_0x1cd8('0x466')][_0x1cd8('0x45f')],'camera':_0x3e68ad[_0x1cd8('0x466')][_0x1cd8('0x2fb')],'renderer':_0x3e68ad[_0x1cd8('0x466')][_0x1cd8('0x526')],'disableSkirt':!0x0,'maxSubdivisionLevel':_0xa18002||0x13,'mapType':_0x5cfd0c,'tileOptions':_0x3e6d01,'isCloseInsideRender':!0x0,'initCameraLola':[113.935092,22.517181]}))[_0x1cd8('0xe2a')]=!0x1,esmap[_0x1cd8('0x8c4')]&&(_0x28b0e7[_0x1cd8('0xe2b')]=_0x204bcb[_0x1cd8('0xe25')],esmap[_0x1cd8('0x8c4')][_0x1cd8('0xe2c')]=_0x28b0e7),_0x21fe63&&_0x2ae9bd[_0x1cd8('0x3c9')](_0x28b0e7),new ESTileMap['ESTileControls'](_0x28b0e7,_0x3e68ad[_0x1cd8('0x466')]['container'],_0x3e68ad));if(_0x28b0e7[_0x1cd8('0x2fb')]['camera3D'][_0x1cd8('0x2ae')]=_0x5a24ab,_0x3e68ad['resetControls'](_0x5a24ab),_0x3e68ad[_0x1cd8('0x672')]=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0x2c2')][_0x1cd8('0x9')](_0x3e68ad['controls']),_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0x29d')](_0x1cd8('0xe2d'),function(_0x29a06a){_0x3e68ad[_0x1cd8('0xe2e')]=_0x29a06a[_0x1cd8('0x59c')],_0x3e68ad[_0x1cd8('0x8ba')]('tileMapLevelChange',_0x29a06a['level']),esmap[_0x1cd8('0x53')][_0x1cd8('0x4fd')]['getSkybox']()&&_0xb63e6c(_0x29a06a[_0x1cd8('0x59c')]);}),_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0x29d')](_0x1cd8('0x2d1'),function(_0x29a06a){_0x3e68ad['fire'](_0x1cd8('0xe2f')),_0x57308d['copy'](_0x3e68ad['controls'][_0x1cd8('0x2b7')]),esmap[_0x1cd8('0xe1e')]['viewMode']===esmap[_0x1cd8('0xe30')]['MODE_2D']&&_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe31')]&&_0x3e68ad[_0x1cd8('0xe32')]===esmap['ESViewMode'][_0x1cd8('0xe33')]&&(_0x3e68ad[_0x1cd8('0xe32')]={'mode':esmap[_0x1cd8('0xe30')][_0x1cd8('0xe34')],'time':0x0});}),_0x3e68ad['controls'][_0x1cd8('0x29d')](_0x1cd8('0x414'),function(_0x29a06a){_0x3e68ad['updateTileView'](),_0x3e68ad[_0x1cd8('0x8ba')](_0x1cd8('0xe35')),esmap['ESTileMap'][_0x1cd8('0xe32')]===esmap[_0x1cd8('0xe30')][_0x1cd8('0xe33')]&&_0x3e68ad[_0x1cd8('0x2ae')]['isMouseWheeling']&&_0x3e68ad[_0x1cd8('0xe32')]===esmap[_0x1cd8('0xe30')]['MODE_3D']&&(_0x3e68ad[_0x1cd8('0xe32')]={'mode':esmap[_0x1cd8('0xe30')]['MODE_2D'],'time':0x0});}),esmap['ESEffectTool']['options'][_0x1cd8('0x8a5')]&&_0x3bcf29[_0x1cd8('0x8a6')]&&(_0x89a362=esmap['ESEffectTool'][_0x1cd8('0x4fb')]['getShadow'](),_0x3fb06a=esmap[_0x1cd8('0x53')][_0x1cd8('0x4fa')][_0x1cd8('0xe36')](),_0x89a362[_0x1cd8('0xe37')](_0x3fb06a[_0x1cd8('0x99b')],_0x3bcf29[_0x1cd8('0x8a6')]),(_0xa18002=new THREE['MeshLambertMaterial']({'color':_0x1cd8('0x481'),'transparent':!0x0,'depthWrite':!0x1}))[_0x1cd8('0x3d2')]=function(_0x29a06a){_0x29a06a[_0x1cd8('0x56')]=_0x29a06a['fragmentShader']['replace'](_0x1cd8('0x3d9'),_0x1cd8('0xe38'));},(_0x17ad3b=new THREE['Mesh'](new THREE[(_0x1cd8('0x3e3'))](0x1,0x1),_0xa18002))[_0x1cd8('0x1f7')]['x']=0.5*-Math['PI'],_0x17ad3b[_0x1cd8('0x753')]=!0x0,_0x3e68ad['mapView'][_0x1cd8('0x45f')]['add'](_0x17ad3b),_0x89a362[_0x1cd8('0xd52')](_0x3fb06a,_0x17ad3b,_0x3bcf29['shadow']),_0x3e68ad['on']('tileModelInited',function(_0x29a06a){setTimeout(function(){_0x89a362[_0x1cd8('0xd52')](_0x3fb06a,_0x17ad3b,_0x3bcf29[_0x1cd8('0x8a6')]);},0xfa0);}),_0x3e68ad['controls'][_0x1cd8('0x29d')](_0x1cd8('0xe39'),function(_0x29a06a){_0x89a362[_0x1cd8('0xd52')](_0x3fb06a,_0x17ad3b,_0x3bcf29[_0x1cd8('0x8a6')],_0x57308d);})),Object[_0x1cd8('0x4')](_0xfe64e,'autoRotate',{'get':function(){return _0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd6a')];},'set':function(_0x29a06a){_0x3e68ad['controls']['autoRotate']=_0x29a06a;}}),Object[_0x1cd8('0x4')](_0xfe64e,_0x1cd8('0xe1b'),{'get':function(){return _0x28b0e7[_0x1cd8('0x3cb')][_0x1cd8('0xe3a')];},'set':function(_0x29a06a){_0x28b0e7[_0x1cd8('0x3cb')][_0x1cd8('0xe3a')]=_0x29a06a;}}),_0x344a98?(_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd83')]=!0x0,_0x3e68ad['controls']['dampingFactor']=0.1,_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0x62f')]=0.08,_0x3e68ad['controls'][_0x1cd8('0xd85')]=0.25):(_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd83')]=!0x1,_0x3e68ad[_0x1cd8('0x2ae')]['rotateSpeed']=0.7,_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd85')]=1.6),_0x3e68ad['controls']['isOpenTileFrozen']=!0x1,_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd6b')]=0.1,_0x44ed1b){for(var _0x3e6d01=_0x3e68ad[_0x1cd8('0x4a')]['container'],_0x110fd1=_0x1f94fe,_0x21fe63=document[_0x1cd8('0x79')](_0x1cd8('0x91')),_0x5a24ab=(_0x21fe63[_0x1cd8('0x73e')][_0x1cd8('0x3f')]=_0x1cd8('0xdc1'),_0x21fe63[_0x1cd8('0x73e')]['bottom']=0x0,_0x21fe63[_0x1cd8('0x73e')][_0x1cd8('0x55d')]=0x0,_0x21fe63[_0x1cd8('0x73e')]['height']=_0x1cd8('0xe3b'),_0x21fe63['style']['fontSize']='12px',_0x21fe63[_0x1cd8('0x73e')][_0x1cd8('0xe3c')]=_0x1cd8('0xe3d'),_0x21fe63[_0x1cd8('0x73e')]['background']=_0x1cd8('0xe3e'),_0x21fe63['style'][_0x1cd8('0xe3f')]=_0x1cd8('0xe40'),document['createElement']('a')),_0x51cbb2=(_0x5a24ab[_0x1cd8('0x73f')](_0x1cd8('0xe41'),_0x1cd8('0xe42')),_0x5a24ab[_0x1cd8('0x73f')](_0x1cd8('0x2b7'),_0x1cd8('0xe43')),_0x5a24ab['style'][_0x1cd8('0x220')]='#000',_0x5a24ab[_0x1cd8('0x73e')]['textDecoration']=_0x1cd8('0x287'),_0x5a24ab[_0x1cd8('0xe44')]=_0x1cd8('0x26'),_0x21fe63[_0x1cd8('0x63')](_0x5a24ab),document[_0x1cd8('0x79')]('a')),_0xc47d99=[{'url':_0x1cd8('0xe45'),'text':'\x20|\x20©\x20谷歌地图\x20','link':'http://www.google.cn'},{'url':_0x1cd8('0xe46'),'text':_0x1cd8('0xe47'),'link':_0x1cd8('0xe48')},{'url':_0x1cd8('0xe49'),'text':_0x1cd8('0xe4a'),'link':'https://map.tianditu.gov.cn'},{'url':'geoq.cn','text':_0x1cd8('0xe4b'),'link':'http://www.geoq.cn/index.html'}],_0xcbb99a=0x0;_0xcbb99a<_0xc47d99[_0x1cd8('0xc')];_0xcbb99a++)if(-0x1<_0x110fd1['indexOf'](_0xc47d99[_0xcbb99a][_0x1cd8('0x9e9')])){_0x51cbb2[_0x1cd8('0xe44')]=_0xc47d99[_0xcbb99a][_0x1cd8('0xe4c')],_0x51cbb2[_0x1cd8('0x73f')](_0x1cd8('0xe41'),_0xc47d99[_0xcbb99a][_0x1cd8('0xe4d')]),_0x51cbb2[_0x1cd8('0x73f')]('target','_blank');break;}_0x51cbb2['style'][_0x1cd8('0x220')]=_0x1cd8('0x699'),_0x51cbb2[_0x1cd8('0x73e')][_0x1cd8('0xe4e')]=_0x1cd8('0x287'),_0x51cbb2['style'][_0x1cd8('0xe4f')]=_0x1cd8('0xe40'),_0x21fe63['appendChild'](_0x51cbb2),_0x3e6d01[_0x1cd8('0x63')](_0x21fe63);}var _0x2d79ee,_0xa18002=_0x3e68ad[_0x1cd8('0x4a')]['container'],_0x344a98=document['createElement'](_0x1cd8('0x91')),_0x44ed1b=(_0x344a98[_0x1cd8('0x73e')][_0x1cd8('0x3f')]='absolute',_0x344a98['style'][_0x1cd8('0x5d5')]=0x0,_0x344a98[_0x1cd8('0x73e')][_0x1cd8('0x33c')]=0x0,_0x344a98[_0x1cd8('0x73e')]['width']=_0x1cd8('0xe50'),_0x344a98[_0x1cd8('0x73e')]['height']=_0x1cd8('0xe50'),_0x344a98[_0x1cd8('0x73e')][_0x1cd8('0xe51')]=_0x1cd8('0x699'),_0xa18002[_0x1cd8('0x63')](_0x344a98),_0x410db3=_0x344a98,esmap['_toggleTileLoadingMask']=function(_0x29a06a){_0x410db3&&(_0x410db3[_0x1cd8('0x73e')][_0x1cd8('0x62')]=_0x29a06a?_0x1cd8('0xe52'):_0x1cd8('0x287'));},new ESTileMap[(_0x1cd8('0xe53'))]({'extent':_0x1f9759,'format':'image/png','url':_0x1f94fe||_0x1cd8('0xe54'),'attribution':{'name':'TMS_Map'},'tileMatrixSet':'PM','zoom':_0x260ad1,'projection':'EPSG:3857','isInverted':_0x1cd8('0xe55')==_0x3e68ad[_0x1cd8('0x9d5')]})),_0x5a24ab=new ESTileMap[(_0x1cd8('0xe56'))](_0x1cd8('0xe57'),{'source':_0x44ed1b,'sourceType':_0x1cd8('0x344')}),_0x2c5680=(_0x28b0e7[_0x1cd8('0xe58')](_0x5a24ab),_0x3e68ad[_0x1cd8('0x2ae')]['layers']['push'](_0x5a24ab),_0xfe64e['tileMapView']=_0x28b0e7,_0xfe64e['currLayer']=_0x5a24ab,_0x28b0e7[_0x1cd8('0x3cb')][_0x1cd8('0x322')][_0x1cd8('0x3f')]['y']=-0x1,_0x3e68ad['on'](_0x1cd8('0x2d3'),function(_0x29a06a){TWEEN['update'](),esmap[_0x1cd8('0xe59')]||(_0x28b0e7['notifyChange'](_0x28b0e7[_0x1cd8('0x2fb')][_0x1cd8('0xe5a')]),_0x2ae9bd&&_0x2ae9bd[_0x1cd8('0x2d3')]());}),_0x407be1=new _0x467b5e[(_0x1cd8('0xcd'))](_0x28b0e7,_0x3e68ad[_0x1cd8('0x2ae')]),_0xfe64e[_0x1cd8('0x2b0')]=function(_0x29a06a){_0x407be1[_0x1cd8('0x2b0')]({'direction':_0x29a06a[_0x1cd8('0x230')]||esmap['ESDirection']['NORTH'],'position':new THREE[(_0x1cd8('0x57'))](-_0x29a06a['x'],0x0,_0x29a06a['y']),'radiusFactor':_0x29a06a[_0x1cd8('0x2b3')]||0x7d0,'pitchAngle':_0x29a06a['tiltAngle']||0x2d,'complete':_0x29a06a[_0x1cd8('0x334')]});},_0x3e68ad['cameraFlyTo']=function(_0x29a06a){var _0x89a362,_0x3fb06a;function _0x17ad3b(){_0x407be1[_0x1cd8('0x2c6')]({'targetPos':_0x89a362,'radius':_0x29a06a['radius'],'pitchAngle':_0x29a06a[_0x1cd8('0x2b4')],'directionAngle':_0x29a06a['directionAngle'],'time':_0x29a06a[_0x1cd8('0x2c9')],'callback':_0x29a06a[_0x1cd8('0x334')],'tileUpdateCallbacks':{'start':_0x3e68ad['controls'][_0x1cd8('0xe5b')],'update':_0x3e68ad['controls'][_0x1cd8('0xe5c')],'complete':_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe5d')]}});}_0x29a06a[_0x1cd8('0x226')]?(_0x89a362=null,_0x89a362=_0x29a06a[_0x1cd8('0x57f')]&&_0x29a06a[_0x1cd8('0x50a')]?(_0x3fb06a=_0x3e68ad['getScreenCenter']({'bid':_0x29a06a['bid'],'fnum':_0x29a06a[_0x1cd8('0x50a')]}),_0x3e68ad['coordMapToThree'](_0x3fb06a)):_0x3e68ad[_0x1cd8('0x23')]({'x':_0x29a06a['x'],'y':_0x29a06a['y'],'z':_0x29a06a['z']||0x0}),_0x3fb06a=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe5e')](_0x29a06a[_0x1cd8('0x226')]),0xf<_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe5f')]&&_0x3fb06a<=0xf&&_0x29a06a['pitchAngle']<THREE[_0x1cd8('0x15')][_0x1cd8('0xa70')](_0x3e68ad[_0x1cd8('0x2ae')]['_tempMaxPolarAngle'])?_0x29a06a['delay']?setTimeout(function(){_0x3e68ad[_0x1cd8('0x2ae')]['pitchAnimate'](_0x3e68ad[_0x1cd8('0x2ae')]['_tempMaxPolarAngle'],0x1f4,function(){_0x17ad3b();});},0x3e8*_0x29a06a[_0x1cd8('0xe60')]):_0x3e68ad[_0x1cd8('0x2ae')]['pitchAnimate'](_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe61')],0x1f4,function(){_0x17ad3b();}):_0x29a06a[_0x1cd8('0xe60')]?setTimeout(function(){_0x17ad3b();},0x3e8*_0x29a06a[_0x1cd8('0xe60')]):_0x17ad3b()):console[_0x1cd8('0x1fe')](_0x1cd8('0xe62'));},_0x3e68ad[_0x1cd8('0x87f')]=function(_0x29a06a,_0x89a362){var _0x3fb06a=null,_0x17ad3b=_0x29a06a&&_0x89a362?(_0x3fb06a=_0x3e68ad['getScreenCenter']({'bid':_0x29a06a,'fnum':_0x89a362}),_0x3e68ad[_0x1cd8('0x23')](_0x3fb06a)):(_0x3fb06a=_0x3e68ad[_0x1cd8('0xd74')]({'x':_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]['x'],'y':_0x3e68ad[_0x1cd8('0x2ae')]['target']['y'],'z':_0x3e68ad[_0x1cd8('0x2ae')]['target']['z']}),_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0x2b7')]),_0x17ad3b=_0x3e68ad[_0x1cd8('0x2ae')]['object'][_0x1cd8('0x3f')][_0x1cd8('0x2b8')](_0x17ad3b);return _0x29a06a&&_0x89a362?{'directionAngle':+_0x3e68ad[_0x1cd8('0xdcb')][_0x1cd8('0x737')](0x2),'pitchAngle':+_0x3e68ad['tiltAngle'][_0x1cd8('0x737')](0x2),'radius':+_0x17ad3b[_0x1cd8('0x737')](0x2),'x':+_0x3fb06a['x']['toFixed'](0x2),'y':+_0x3fb06a['y'][_0x1cd8('0x737')](0x2),'z':0x0,'bid':_0x29a06a,'fnum':_0x89a362,'time':0x3}:{'directionAngle':+_0x3e68ad[_0x1cd8('0xdcb')][_0x1cd8('0x737')](0x2),'pitchAngle':+_0x3e68ad[_0x1cd8('0x881')][_0x1cd8('0x737')](0x2),'radius':+_0x17ad3b[_0x1cd8('0x737')](0x2),'x':+_0x3fb06a['x'][_0x1cd8('0x737')](0x2),'y':+_0x3fb06a['y'][_0x1cd8('0x737')](0x2),'z':+_0x3fb06a['z'][_0x1cd8('0x737')](0x1),'time':0x3};},_0x3e68ad[_0x1cd8('0xe63')]=_0x13a345,_0x297d31[_0x1cd8('0xe2e')]||0x8),_0x23e362=(_0x3e68ad[_0x1cd8('0x8e0')][_0x1cd8('0xe64')]?esmap[_0x1cd8('0x3b')][_0x1cd8('0xe65')](_0x29a06a):(_0x3e6d01={'startZoom':_0x2c5680},_0x21fe63=(0x0,_0x5c5ca3[_0x1cd8('0x34')])(_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0x22b')]['x'],_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0x22b')]['y']),_0xa18002=new THREE[(_0x1cd8('0x57'))](_0x21fe63['x'],_0x3e68ad['controls'][_0x1cd8('0xe66')](_0x3e6d01['startZoom']),_0x21fe63['y']),_0x344a98=new THREE[(_0x1cd8('0x57'))](_0x21fe63['x'],0x0,_0x21fe63['y']),_0x28b0e7[_0x1cd8('0x3cb')][_0x1cd8('0x322')]['position'][_0x1cd8('0x1b')](-_0x3e68ad[_0x1cd8('0x38')][_0x1cd8('0x39')],0x0,-_0x3e68ad['mapScene'][_0x1cd8('0x3a')]),_0x3e68ad[_0x1cd8('0x2ae')]['initCameraPos'](_0xa18002,_0x344a98,_0x3e6d01[_0x1cd8('0xe67')]),_0x3e68ad['controls'][_0x1cd8('0x2d3')]({'forceTheta':Math['PI']+THREE[_0x1cd8('0x15')]['degToRad'](_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0xe68')])})),Object['defineProperty'](_0xfe64e,_0x1cd8('0xe69'),{'get':function(){return _0x1e4a4a;},'set':function(_0x29a06a){_0x22c2d1||_0x29a06a===_0x1e4a4a||(_0x29a06a===esmap['ESViewMode']['MODE_2D']?(_0x22c2d1=!0x0,_0x3e68ad[_0x1cd8('0xe32')]={'mode':esmap[_0x1cd8('0xe30')][_0x1cd8('0xe33')],'time':0x1,'callback':function(){_0x3e68ad[_0x1cd8('0x2ae')]['maxPolarAngle']=0x0,_0x3e68ad['controls'][_0x1cd8('0xe6a')]=0x0,_0x1e4a4a=_0x29a06a,_0x22c2d1=!0x1;}},esmap[_0x1cd8('0x53')][_0x1cd8('0x4fc')]['toggleTileRoutesVisible'](!0x1)):_0x29a06a===esmap[_0x1cd8('0xe30')][_0x1cd8('0xe34')]&&(_0x22c2d1=!0x0,_0x3e68ad[_0x1cd8('0xe32')]={'mode':esmap[_0x1cd8('0xe30')][_0x1cd8('0xe34')],'time':0x1,'callback':function(){_0x1e4a4a=_0x29a06a,_0x3e68ad['controls'][_0x1cd8('0xe6a')]=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe6b')],_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe6c')](),_0x22c2d1=!0x1;}},esmap[_0x1cd8('0x53')][_0x1cd8('0x4fc')]['toggleTileRoutesVisible'](!0x0)));}}),Object[_0x1cd8('0x4')](_0xfe64e,'viewMode',{'get':function(){return _0x1add05;},'set':function(_0x29a06a){_0x29a06a===esmap['ESViewMode']['MODE_2D']?(_0x1add05=_0x29a06a,_0x3e68ad[_0x1cd8('0x2ae')]['_tempMaxPolarAngle']=0x0,_0x3e68ad['controls']['_tempMaxNearGroundPolarAngle']=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe6a')],_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd81')]=0x0,_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe6a')]=0x0):_0x29a06a===esmap[_0x1cd8('0xe30')]['MODE_3D']&&(_0x1add05=_0x29a06a,_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe61')]=0.3*Math['PI'],_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd81')]=0.3*Math['PI'],_0x3e68ad['controls'][_0x1cd8('0xe6a')]=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe6b')]);}}),_0x3e68ad[_0x1cd8('0x38')][_0x1cd8('0xe6d')][_0x1cd8('0x327')]=!0x0,_0x297d31[_0x1cd8('0xe2e')]),_0x1f9759=0x0;_0x297d31[_0x1cd8('0xe6e')]&&(_0x23e362=_0x297d31[_0x1cd8('0xe6e')]['targetLevel'],_0x1f9759=_0x297d31[_0x1cd8('0xe6e')][_0x1cd8('0x217')]),_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0xe32')]==esmap[_0x1cd8('0xe30')][_0x1cd8('0xe33')]&&(_0x297d31[_0x1cd8('0xe6f')]=0.1),_0x3e68ad[_0x1cd8('0x8e0')]['preLoadBuildingId']?_0x5dafcc({'targetLevel':_0x23e362,'startZoom':_0x2c5680,'scaleLevel':_0x297d31[_0x1cd8('0xe2e')],'scaleLevelAnimate':_0x297d31[_0x1cd8('0xe6e')]}):(_0x3e68ad[_0x1cd8('0x466')][_0x1cd8('0x32f')]['style'][_0x1cd8('0xe70')]='wait',_0x2d79ee={'targetLevel':_0x23e362,'duration':_0x1f9759,'initPitchAngle':_0x297d31[_0x1cd8('0xe6f')]},new _0x324918[(_0x1cd8('0xa'))](function(_0x29a06a,_0x89a362){_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe71')](_0x2d79ee[_0x1cd8('0xe72')],0x3e8*_0x2d79ee[_0x1cd8('0x217')],function(){_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe73')](THREE['Math'][_0x1cd8('0x2cb')](_0x2d79ee[_0x1cd8('0xe6f')]),0x3e8,function(){_0x29a06a();}),_0x2d79ee[_0x1cd8('0xe74')]&&_0x545004(),_0x2d79ee[_0x1cd8('0xe75')]&&new _0x467b5e[(_0x1cd8('0xcf'))](_0x3e68ad[_0x1cd8('0x466')][_0x1cd8('0x32f')],_0x28b0e7,_0xfe64e[_0x1cd8('0xe76')],'dblclick',function(_0x29a06a){})['init']();});})[_0x1cd8('0x349')](function(){_0x5dafcc({'targetLevel':_0x23e362,'startZoom':_0x2c5680,'scaleLevel':_0x297d31['scaleLevel'],'scaleLevelAnimate':_0x297d31[_0x1cd8('0xe6e')]});}));}function _0x5dafcc(_0x29a06a){_0x3e68ad[_0x1cd8('0x8ba')](_0x1cd8('0xe77'),{'level':_0x29a06a[_0x1cd8('0xe6e')]?_0x29a06a[_0x1cd8('0xe67')]:_0x29a06a[_0x1cd8('0xe2e')]}),_0xb63e6c(_0x29a06a['targetLevel']),_0x3e68ad['updateTile']=!0x0,_0x3e68ad[_0x1cd8('0xe78')](),_0x3e68ad['options'][_0x1cd8('0xe32')]==esmap['ESViewMode']['MODE_2D']&&(esmap[_0x1cd8('0xe1e')][_0x1cd8('0xe32')]=esmap[_0x1cd8('0xe30')][_0x1cd8('0xe33')]);}function _0x13a345(_0x29a06a){var _0x89a362=null,_0x3fb06a=0x1;if(_0x1cd8('0x17')==typeof _0x29a06a)_0x89a362=_0x29a06a;else if(_0x1cd8('0x1c')===(void 0x0===_0x29a06a?'undefined':(0x0,_0x17ad3b[_0x1cd8('0xa')])(_0x29a06a))){if(!_0x29a06a[_0x1cd8('0xf')])return;_0x89a362=_0x29a06a[_0x1cd8('0xf')],_0x29a06a[_0x1cd8('0x2c9')]&&(_0x3fb06a=_0x29a06a[_0x1cd8('0x2c9')]);}0xf<_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe5f')]&&_0x89a362<=0xf&&_0x3e68ad[_0x1cd8('0x881')]>_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe61')]?_0x3e68ad['controls'][_0x1cd8('0xe73')](_0x3e68ad[_0x1cd8('0x2ae')]['_tempMaxPolarAngle'],0x1f4,function(){_0x3e68ad[_0x1cd8('0x2ae')]['pointToPointAnimate'](_0x89a362,0x3e8*(_0x3fb06a-0.5),function(){_0x29a06a[_0x1cd8('0x2d4')]&&_0x29a06a[_0x1cd8('0x2d4')](),_0x3e68ad[_0x1cd8('0xe78')]();});}):_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe71')](_0x89a362,0x3e8*_0x3fb06a,function(){_0x29a06a[_0x1cd8('0x2d4')]&&_0x29a06a[_0x1cd8('0x2d4')](),_0x3e68ad['updateTileView']();});}function _0xb63e6c(_0x29a06a){var _0x89a362=esmap[_0x1cd8('0x53')][_0x1cd8('0x4fd')]['getSkybox']();_0x89a362&&_0x89a362['skyboxTool']&&_0x89a362[_0x1cd8('0x914')][_0x1cd8('0x469')]&&(_0x1cd8('0xa09')==_0x89a362['skyboxTool']['type']&&_0x29a06a<(_0x44ed1b?0x10:0xe)?(_0x89a362[_0x1cd8('0x914')]['type'],_0x89a362[_0x1cd8('0x914')]['skyBox'][_0x1cd8('0x327')]=!0x1):_0x89a362['skyboxTool'][_0x1cd8('0x469')][_0x1cd8('0x327')]=!0x0);}function _0x545004(){new _0x260ad1[(_0x1cd8('0xa'))]({'container':_0x3e68ad[_0x1cd8('0x466')]['container'],'tileView':_0x28b0e7,'tileLayer':_0xfe64e[_0x1cd8('0xe76')],'callback':function(_0x29a06a){_0x3e68ad[_0x1cd8('0x8ba')](_0x1cd8('0xe79'),{'x':-_0x29a06a['x'],'y':_0x29a06a['z']});}})['init']();}esmap['ESTileMap']=_0xfe64e,_0x407be1=_0x2ae9bd=_0x5cfd0c=_0x28b0e7=_0x3e68ad=null,_0x1add05=esmap[_0x1cd8('0xe30')]['MODE_3D'],_0x1e4a4a=esmap['ESViewMode'][_0x1cd8('0xe34')],_0x21fe63=!0x1,_0x44ed1b=(_0x3bcf29=null,_0x5c5ca3[_0x1cd8('0x29')])(),_0x410db3=null,_0x22c2d1=!0x1,_0x57308d=new THREE[(_0x1cd8('0x57'))](),_0xfe64e[_0x1cd8('0x335')]=function(_0x44ed1b){_0x44ed1b=(0x0,_0x297d31[_0x1cd8('0xa')])({'effectThemeSrc':null,'effectThemeId':null,'tileUrl':null,'scaleLevelAnimate':!0x1,'scaleLevel':0xe,'openTileClick':!0x1,'isShowWater':!0x1,'initPitchAngle':0x2d,'isShowTileSourceLicense':!0x0,'tileSourceMaxLevel':null,'isOpenControllerInertia':!0x1,'tileClickDebug':!0x1,'tileSourceLevelOffset':null,'tileSourceLevelExtent':null},_0x44ed1b),(_0x3e68ad=esmap[_0x1cd8('0x26')]['instance'])[_0x1cd8('0xe7a')]=_0x545004,_0x44ed1b[_0x1cd8('0xe7b')]&&(selectEffect=!0x0,_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0x4c8')]=!0x0),_0x44ed1b['pickableBuildings']&&(_0x3e68ad['options'][_0x1cd8('0xe7c')]=_0x44ed1b[_0x1cd8('0xe7c')]),esmap[_0x1cd8('0xe7d')]=!0x0,_0x3e68ad['on'](_0x1cd8('0x8ce'),function(){}),_0x3e68ad['on'](_0x1cd8('0xde'),function(){_0x28b0e7&&(_0x28b0e7['removeLayer'](_0x1cd8('0xe7e')),esmap[_0x1cd8('0xe59')]=!0x0);}),_0x3e68ad['on'](_0x1cd8('0x8d9'),function(_0x29a06a){if(!_0x21fe63){var _0x89a362,_0x17ad3b;if(_0x21fe63=!0x0,_0x3e68ad[_0x1cd8('0xe2e')]=_0x44ed1b[_0x1cd8('0xe2e')],_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0x22b')]['x'],_0x3e68ad[_0x1cd8('0x4a')][_0x1cd8('0x22b')]['y'],_0x44ed1b[_0x1cd8('0xe16')]){for(var _0x3fb06a=_0x3e68ad[_0x1cd8('0xe7f')][_0x1cd8('0x87')](','),_0x297d31=!0x1,_0x260ad1=0x0;_0x260ad1<_0x3fb06a[_0x1cd8('0xc')];_0x260ad1++)if(-0x1<_0x44ed1b[_0x1cd8('0xe16')][_0x1cd8('0x50')](_0x3fb06a[_0x260ad1])){_0x297d31=!0x0;break;}if(!_0x297d31)return void console['info'](_0x1cd8('0xe80'));}esmap[_0x1cd8('0x53')]&&esmap[_0x1cd8('0x53')][_0x1cd8('0x52')]&&esmap[_0x1cd8('0x53')]['configPath'],_0x3e68ad[_0x1cd8('0x38')]['tileScene_']['visible']=!0x1,esmap[_0x1cd8('0xe1e')][_0x1cd8('0xe81')]=!0x0,esmap[_0x1cd8('0x53')]['isExecuteInit']?(_0x89a362=(0x0,_0x5c5ca3[_0x1cd8('0x2c')])(_0x3e68ad,esmap[_0x1cd8('0x53')][_0x1cd8('0x4a')]),_0x17ad3b=_0x89a362,new _0x324918[(_0x1cd8('0xa'))](function(_0x89a362,_0x3fb06a){new THREE[(_0x1cd8('0x2a3'))]()[_0x1cd8('0x9d')](_0x17ad3b+_0x1cd8('0x2a5'),function(_0x29a06a){_0x89a362(JSON['parse'](_0x29a06a));},null,function(_0x29a06a){console[_0x1cd8('0x1fe')](_0x1cd8('0xe82')+_0x17ad3b+_0x1cd8('0x2a5')),_0x3fb06a(_0x29a06a);});})[_0x1cd8('0x349')](function(_0x29a06a){if((_0x3bcf29=_0x29a06a)[_0x1cd8('0xe20')]){_0x204bcb[_0x1cd8('0xe25')][_0x1cd8('0xe83')]=!0x0;var _0x89a362=_0x29a06a[_0x1cd8('0xe20')],_0x3fb06a=(_0x89a362['fogColor']&&_0x204bcb[_0x1cd8('0xe25')][_0x1cd8('0x426')][_0x1cd8('0x2f5')](_0x89a362[_0x1cd8('0x426')]),_0x89a362[_0x1cd8('0x67e')]&&_0x204bcb[_0x1cd8('0xe25')][_0x1cd8('0x67e')][_0x1cd8('0x2f5')](_0x89a362[_0x1cd8('0x67e')]),_0x89a362[_0x1cd8('0xe84')]&&_0x204bcb[_0x1cd8('0xe25')]['skyColor'][_0x1cd8('0x2f5')](_0x89a362[_0x1cd8('0xe84')]),_0x89a362['colorMapping']&&(_0x204bcb['DEFAULT_THEME']['isOpenGrayFilter']=!0x0,_0x204bcb['DEFAULT_THEME'][_0x1cd8('0xe85')]=(0x0,_0x204bcb[_0x1cd8('0xe86')])(_0x89a362['colorMapping'][_0x1cd8('0xe87')],_0x89a362[_0x1cd8('0xe85')][_0x1cd8('0x9cb')])),!0x0),_0x17ad3b=!0x1,_0x297d31=void 0x0;try{for(var _0x260ad1,_0x1f94fe=(0x0,_0x344a98['default'])([_0x1cd8('0xe88'),_0x1cd8('0xe89'),_0x1cd8('0xe8a'),'hue',_0x1cd8('0xe8b'),_0x1cd8('0xe8c')]);!(_0x3fb06a=(_0x260ad1=_0x1f94fe['next']())[_0x1cd8('0x8e')]);_0x3fb06a=!0x0){var _0x21fe63=_0x260ad1[_0x1cd8('0xf')];_0x89a362[_0x1cd8('0x1e')](_0x21fe63)&&(_0x204bcb[_0x1cd8('0xe25')][_0x21fe63]=_0x89a362[_0x21fe63]);}}catch(_0xd4997d){_0x17ad3b=!0x0,_0x297d31=_0xd4997d;}finally{try{!_0x3fb06a&&_0x1f94fe[_0x1cd8('0xa1')]&&_0x1f94fe[_0x1cd8('0xa1')]();}finally{if(_0x17ad3b)throw _0x297d31;}}}_0x29a06a[_0x1cd8('0xe8d')]&&(_0x17ad3b=_0x29a06a[_0x1cd8('0xe8d')],_0x204bcb[_0x1cd8('0xe25')][_0x1cd8('0x3ca')]=_0x44ed1b[_0x1cd8('0x3ca')],_0x204bcb['DEFAULT_THEME']['waterSkyTexPath']=(0x0,_0x5c5ca3['getConfigAssetsPath'])(_0x17ad3b['skyImg']),_0x17ad3b['originColor']&&(_0x204bcb['DEFAULT_THEME'][_0x1cd8('0xe26')]=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x17ad3b[_0x1cd8('0x3c7')])),_0x17ad3b['replaceColor']&&(_0x204bcb['DEFAULT_THEME']['waterReplaceColor']=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x17ad3b[_0x1cd8('0x3c8')])),_0x17ad3b[_0x1cd8('0xe8e')]&&(_0x204bcb[_0x1cd8('0xe25')]['waterSparklingColor']=new THREE[(_0x1cd8('0x1c3'))]()[_0x1cd8('0x2f5')](_0x17ad3b[_0x1cd8('0xe8e')]))),_0xa18002(_0x44ed1b);})):_0xa18002(_0x44ed1b);}}),_0x3e68ad['on'](_0x1cd8('0x57e'),function(_0x29a06a){_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0x2da')]='2D'!==_0x29a06a;});},_0xfe64e[_0x1cd8('0xe8f')]=_0x13a345,_0xfe64e[_0x1cd8('0xe90')]={'getTargetLoLaFromPos':function(_0x29a06a){return ESTileMap[_0x1cd8('0xe91')][_0x1cd8('0x346')]({'mapType':'google','x':_0x29a06a[0x0],'z':_0x29a06a[0x1]});},'getTargetPosFromLoLa':function(_0x29a06a){_0x29a06a=ESTileMap['CoordTransform'][_0x1cd8('0x343')]({'mapType':'google','longitude':_0x29a06a[0x0],'latitude':_0x29a06a[0x1]});return new THREE['Vector3'](_0x29a06a['x'],0x0,_0x29a06a['z']);},'setControlsConfigs':function(_0x29a06a){_0x3e68ad['controls'][_0x1cd8('0xe92')]=!0x0,_0x29a06a['minLevel']&&_0x29a06a['minLevel']>=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe93')]&&(_0x3e68ad['controls'][_0x1cd8('0xe93')]=_0x29a06a[_0x1cd8('0xe94')]),_0x29a06a[_0x1cd8('0xe95')]&&_0x29a06a[_0x1cd8('0xe95')]<=_0x3e68ad[_0x1cd8('0x2ae')]['maxEarthZoom']&&(_0x3e68ad['controls'][_0x1cd8('0xe96')]=_0x29a06a[_0x1cd8('0xe95')]),void 0x0!==_0x29a06a[_0x1cd8('0xd81')]&&(_0x3e68ad['controls']['_tempMaxPolarAngle']=_0x3e68ad['controls']['maxPolarAngle'],_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe6b')]=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe6a')],_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd81')]=_0x29a06a['maxPolarAngle'],_0x3e68ad['controls'][_0x1cd8('0xe6a')]=_0x29a06a[_0x1cd8('0xd81')]);},'resetControlsConfigs':function(){_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe92')]=!0x1,_0x3e68ad['controls'][_0x1cd8('0xe93')]=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe97')],_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe96')]=_0x3e68ad['controls']['_maxEarthZoom'],_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xd81')]=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe61')],_0x3e68ad['controls'][_0x1cd8('0xe6a')]=_0x3e68ad[_0x1cd8('0x2ae')][_0x1cd8('0xe6b')];},'toggleTileLayer':function(_0x29a06a){_0x28b0e7&&(_0x28b0e7['tileLayer'][_0x1cd8('0x327')]=_0x29a06a,esmap['ESEffectTool'][_0x1cd8('0x4fc')]['toggleTileRoutesVisible'](_0x29a06a));},'setAlpha':function(_0x29a06a,_0x89a362){'number'!=typeof _0x29a06a&&'number'!=typeof _0x89a362||_0x28b0e7&&(_0x29a06a<0x1?(_0x28b0e7[_0x1cd8('0xe98')]=!0x0,_0x28b0e7[_0x1cd8('0xe99')]=!0x0,_0x28b0e7[_0x1cd8('0xe9a')]=_0x29a06a,_0x28b0e7[_0x1cd8('0xe9b')]=_0x89a362):(_0x28b0e7['_isSetAlpha'],_0x28b0e7[_0x1cd8('0xe99')]=!0x1));}};},function(_0x21a417,_0x395384,_0x1ef7f7){'use strict';Object[_0x1cd8('0x4')](_0x395384,_0x1cd8('0x6'),{'value':!0x0});var _0x42fd52=_0x2224e8(_0x1ef7f7(0x0));function _0x2224e8(_0x21a417){return _0x21a417&&_0x21a417[_0x1cd8('0x6')]?_0x21a417:{'default':_0x21a417};}function _0x12bb32(_0x21a417){var _0x395384=_0x21a417['container'],_0x1ef7f7=_0x21a417['tileView'],_0x2224e8=_0x21a417[_0x1cd8('0x3cb')],_0x21a417=_0x21a417[_0x1cd8('0x334')];(0x0,_0x42fd52['default'])(this,_0x12bb32),this['container']=_0x395384,this['view']=_0x1ef7f7,this[_0x1cd8('0x341')]=_0x2224e8,this[_0x1cd8('0xe9c')]=this[_0x1cd8('0xe9d')]['bind'](this),this[_0x1cd8('0xe9e')]=this[_0x1cd8('0xe9f')][_0x1cd8('0x9')](this),this[_0x1cd8('0xea0')]=this['mouseMove'][_0x1cd8('0x9')](this),this[_0x1cd8('0xea1')]=this[_0x1cd8('0xe9d')]['bind'](this),this[_0x1cd8('0xea2')]=this[_0x1cd8('0xea3')](this),this[_0x1cd8('0xea4')]=this[_0x1cd8('0xe9f')][_0x1cd8('0x9')](this),this['isMouseMove']=!0x1,this[_0x1cd8('0xea5')]=0x0,this[_0x1cd8('0x334')]=_0x21a417;}(0x0,_0x2224e8(_0x1ef7f7(0x1))['default'])(_0x12bb32,[{'key':_0x1cd8('0x335'),'value':function(){this[_0x1cd8('0x32f')][_0x1cd8('0x29d')]('mousedown',this[_0x1cd8('0xe9c')],!0x1),this[_0x1cd8('0x32f')][_0x1cd8('0x29d')](_0x1cd8('0xd9c'),this['_mouseup'],!0x1),this[_0x1cd8('0x32f')][_0x1cd8('0x29d')](_0x1cd8('0xd9b'),this['_mousemove'],!0x1),this['container']['addEventListener'](_0x1cd8('0xdb9'),this['_touchstart'],!0x1),this[_0x1cd8('0x32f')][_0x1cd8('0x29d')](_0x1cd8('0xd9a'),this['_touchend'],!0x1),this['container'][_0x1cd8('0x29d')](_0x1cd8('0xdba'),this['_touchmove'],!0x1);}},{'key':_0x1cd8('0xde'),'value':function(){this['container'][_0x1cd8('0x336')]('mousedown',this[_0x1cd8('0xe9c')],!0x1),this[_0x1cd8('0x32f')][_0x1cd8('0x336')](_0x1cd8('0xd9c'),this['_mouseup'],!0x1),this[_0x1cd8('0x32f')][_0x1cd8('0x336')](_0x1cd8('0xd9b'),this['_mousemove'],!0x1),this[_0x1cd8('0x32f')][_0x1cd8('0x336')](_0x1cd8('0xdb9'),this[_0x1cd8('0xea1')],!0x1),this[_0x1cd8('0x32f')]['removeEventListener'](_0x1cd8('0xd9a'),this[_0x1cd8('0xea4')],!0x1),this['container']['removeEventListener'](_0x1cd8('0xdba'),this[_0x1cd8('0xea2')],!0x1);}},{'key':_0x1cd8('0x337'),'value':function(_0x21a417){var _0x21a417=_0x21a417||window[_0x1cd8('0x338')],_0x395384=_0x21a417['target']||_0x21a417[_0x1cd8('0x339')];return _0x21a417[_0x1cd8('0xea6')]||(_0x395384=_0x395384[_0x1cd8('0x33a')](),_0x21a417[_0x1cd8('0x33b')]-_0x395384['left']);}},{'key':'getOffsetY','value':function(_0x21a417){var _0x21a417=_0x21a417||window[_0x1cd8('0x338')],_0x395384=_0x21a417[_0x1cd8('0x2b7')]||_0x21a417[_0x1cd8('0x339')];return _0x21a417[_0x1cd8('0x33d')]||(_0x395384=_0x395384[_0x1cd8('0x33a')](),_0x21a417[_0x1cd8('0x33e')]-_0x395384[_0x1cd8('0x33c')]);}},{'key':_0x1cd8('0xe9d'),'value':function(){this['isMouseMove']=!0x1,this[_0x1cd8('0xea5')]=0x0;}},{'key':_0x1cd8('0xea3'),'value':function(){this[_0x1cd8('0xea7')]=!0x0,this[_0x1cd8('0xea5')]++;}},{'key':'mouseUp','value':function(_0x21a417){var _0x395384;this['isMouseMove']&&0x1<this[_0x1cd8('0xea5')]||(_0x395384=this['getOffsetX'](_0x21a417),_0x21a417=this[_0x1cd8('0x33f')](_0x21a417),0x0<(_0x395384=this[_0x1cd8('0x2ad')][_0x1cd8('0x340')]({'x':_0x395384,'y':_0x21a417},this[_0x1cd8('0x341')]))[_0x1cd8('0xc')]&&this['callback']&&(_0x395384[0x0][_0x1cd8('0x31d')]['y']=0x0,this['callback'](_0x395384[0x0]['point'])));}}]),_0x395384['default']=_0x12bb32;},function(_0x39a2d3,_0x21b10c,_0x4d1561){'use strict';Object[_0x1cd8('0x4')](_0x21b10c,'__esModule',{'value':!0x0});var _0x192803={'fogColor':new THREE[(_0x1cd8('0x1c3'))](0xc8d4e4),'skyColor':new THREE[(_0x1cd8('0x1c3'))](0xc5dafb),'groundColor':new THREE[(_0x1cd8('0x1c3'))](0xc8d4e4),'isChangeDefaultTheme':!0x1};_0x21b10c[_0x1cd8('0xe25')]=_0x192803,_0x21b10c[_0x1cd8('0xe86')]=function(_0x39a2d3,_0x21b10c){for(var _0x4d1561=document[_0x1cd8('0x79')](_0x1cd8('0x470')),_0x4d1561=(_0x4d1561[_0x1cd8('0x320')]=0x100,_0x4d1561[_0x1cd8('0x2f1')]=0x100,_0x4d1561['getContext']('2d')),_0x192803=_0x4d1561[_0x1cd8('0x698')](0x0,0x0,0x100,0x0),_0xe60717=0x0,_0x51846d=_0x39a2d3[_0x1cd8('0xc')];_0xe60717<_0x51846d;_0xe60717++)_0x192803[_0x1cd8('0x4ef')](_0x39a2d3[_0xe60717],_0x21b10c[_0xe60717]);_0x4d1561[_0x1cd8('0x4b5')]=_0x192803,_0x4d1561[_0x1cd8('0x4b6')](0x0,0x0,0x100,0x1);_0x4d1561=new Uint8Array(_0x4d1561[_0x1cd8('0x878')](0x0,0x0,0x100,0x1)['data'][_0x1cd8('0x366')]),_0x4d1561=new THREE[(_0x1cd8('0xea8'))](_0x4d1561,0x100,0x1);return _0x4d1561['magFilter']=_0x4d1561[_0x1cd8('0x3f2')]=THREE['LinearFilter'],_0x4d1561['needsUpdate']=!0x0,_0x4d1561;};}]);

